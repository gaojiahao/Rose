webpackJsonp([1],{"+Fbz":function(e,t){},"3pXz":function(e,t){},"8TPU":function(e,t){},NHnr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("VCXJ"),l={data:()=>({tablist:[{title:"我的待办",path:"/to_do",icon:"icon-daiban"},{title:"我的已办",path:"/finish",icon:"icon-yiban"}],num:"0"}),created(){this.$event.$on("num",e=>{this.num=e})}},s={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("keep-alive",[i("router-view",{directives:[{name:"wechat-title",rawName:"v-wechat-title",value:e.$route.meta.title,expression:"$route.meta.title"}]})],1),e._v(" "),i("nav",{staticClass:"navbar"},e._l(e.tablist,function(t,a){return i("router-link",{key:a,attrs:{to:t.path}},[i("span",{staticClass:"iconfont",class:t.icon}),e._v(" "),i("p",[e._v(e._s(t.title))]),e._v(" "),i("span",{staticClass:"weui-badge",staticStyle:{position:"absolute",top:"0",right:"40%"}},[e._v(e._s(e.num))])])}))],1)},staticRenderFns:[]};var n=i("X4nt")(l,s,!1,function(e){i("QD8p")},null,null).exports,r=i("zO6J"),o=i("2sCs"),c=i.n(o);function u(e){return new Promise((t,i)=>{c.a.get("/H_roleplay-si/ds/getMyToDoTask",{headers:{authorization:e}}).then(e=>{console.log(e),t(e)}).catch(e=>{t(e)})})}function d(e,t){return new Promise((i,a)=>{c.a.get("/H_roleplay-si/ds/listTaskLogByTransCode",{headers:{authorization:t},params:{transCode:e}}).then(e=>{const t=e.data.tableContent;i(t)})})}function v(e,t,i){return new Promise((a,l)=>{c.a.get("/H_roleplay-si/ds/getJsonDataByReferenceId",{headers:{authorization:t},params:{_dc:e,referenceId:i}}).then(e=>{const t=e.data.tableContent;a(t)})})}var h=i("Nvo/"),f=i.n(h),_={name:"group",methods:{cleanStyle:f.a},props:{title:String,titleColor:String,labelWidth:String,labelAlign:String,labelMarginRight:String,gutter:[String,Number]}},m={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.title?i("div",{staticClass:"weui-cells__title",style:e.cleanStyle({color:e.titleColor}),domProps:{innerHTML:e._s(e.title)}}):e._e(),e._v(" "),e._t("title"),e._v(" "),i("div",{staticClass:"weui-cells",class:{"vux-no-group-title":!e.title},style:e.cleanStyle({marginTop:"number"==typeof e.gutter?e.gutter+"px":e.gutter})},[e._t("after-title"),e._v(" "),e._t("default")],2)],2)},staticRenderFns:[]};var p=i("X4nt")(_,m,!1,function(e){i("3pXz")},null,null).exports,g={render:function(){var e=this.$createElement;return(this._self._c||e)("span",{staticClass:"vux-label-desc"},[this._t("default")],2)},staticRenderFns:[]};var w=i("X4nt")({name:"inline-desc"},g,!1,function(e){i("e8Kb")},null,null).exports,b=i("QCuC"),y=i("m/qX"),C=i("uikv"),I={name:"cell",components:{InlineDesc:w},props:Object(y.a)(),created(){0},beforeMount(){this.hasTitleSlot=!!this.$slots.title,this.$slots.value},computed:{labelStyles(){return f()({width:Object(C.a)(this,"labelWidth"),textAlign:Object(C.a)(this,"labelAlign"),marginRight:Object(C.a)(this,"labelMarginRight")})},valueClass(){return{"vux-cell-primary":"content"===this.primary||"left"===this.valueAlign,"vux-cell-align-left":"left"===this.valueAlign,"vux-cell-arrow-transition":!!this.arrowDirection,"vux-cell-arrow-up":"up"===this.arrowDirection,"vux-cell-arrow-down":"down"===this.arrowDirection}},labelClass(){return{"vux-cell-justify":"justify"===Object(C.a)(this,"justify")}},style(){if(this.alignItems)return{alignItems:this.alignItems}}},methods:{onClick(){!this.disabled&&Object(b.a)(this.link,this.$router)}},data:()=>({hasTitleSlot:!0,hasMounted:!1})},x={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui-cell",class:{"vux-tap-active":e.isLink||!!e.link,"weui-cell_access":e.isLink||!!e.link,"vux-cell-no-border-intent":!e.borderIntent,"vux-cell-disabled":e.disabled},style:e.style,on:{click:e.onClick}},[i("div",{staticClass:"weui-cell__hd"},[e._t("icon")],2),e._v(" "),i("div",{staticClass:"vux-cell-bd",class:{"vux-cell-primary":"title"===e.primary&&"left"!==e.valueAlign}},[i("p",[e.title||e.hasTitleSlot?i("label",{staticClass:"vux-label",class:e.labelClass,style:e.labelStyles},[e._t("title",[e._v(e._s(e.title))])],2):e._e(),e._v(" "),e._t("after-title")],2),e._v(" "),i("inline-desc",[e._t("inline-desc",[e._v(e._s(e.inlineDesc))])],2)],1),e._v(" "),i("div",{staticClass:"weui-cell__ft",class:e.valueClass},[e._t("value"),e._v(" "),e._t("default",[e._v(e._s(e.value))]),e._v(" "),e.isLoading?i("i",{staticClass:"weui-loading"}):e._e()],2),e._v(" "),e._t("child")],2)},staticRenderFns:[]};var k=i("X4nt")(I,x,!1,function(e){i("c7fu")},null,null).exports,S={data:()=>({show:!1,listArr:[],list:[]}),components:{Group:p,Cell:k},methods:{goDetail(e){this.$router.push({path:"/to_do/do_detail",query:{info:e}})}},mounted(){this.mescroll=new MeScroll("td",{up:{isBounce:!1,use:!1},down:{use:!1}})},created(){u(localStorage.getItem("token")).then(e=>{console.log(e),this.listArr=e.data.tableContent,this.$event.$emit("num",e.data.tableContent.length)})}},$={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"page mescroll",attrs:{id:"td"}},[i("div",{staticClass:"wrapper"},[e._m(0),e._v(" "),i("ul",{staticClass:"list"},e._l(e.listArr,function(t,a){return i("li",{key:a,on:{click:function(i){e.goDetail(t)}}},[i("p",[i("span",{staticClass:"task_name"},[e._v(e._s(t.requireName))]),e._v(" "),i("i",{staticClass:"date"},[e._v(e._s(t.startTime.substring(0,10)))])]),e._v(" "),i("p",[i("span",{staticClass:"do_user"},[e._v("操作名称："+e._s(t.nodeName))]),e._v(" "),i("em",{staticClass:"status"},[e._v(e._s(t.status))])]),e._v(" "),i("p",[i("span",{staticClass:"do_user"},[e._v("发起人："+e._s(t.crtName))])]),e._v(" "),i("p",[i("em",{staticClass:"code"},[e._v(e._s(t.businessKey))])])])}))])]),e._v(" "),i("router-view")],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"weui-search-bar",attrs:{id:"searchBar"}},[t("form",{staticClass:"weui-search-bar__form"},[t("div",{staticClass:"weui-search-bar__box"},[t("i",{staticClass:"weui-icon-search"}),this._v(" "),t("input",{staticClass:"weui-search-bar__input",attrs:{type:"search",id:"searchInput",placeholder:"搜索",required:""}}),this._v(" "),t("a",{staticClass:"weui-icon-clear",attrs:{href:"javascript:",id:"searchClear"}})]),this._v(" "),t("label",{staticClass:"weui-search-bar__label",attrs:{id:"searchText"}},[t("i",{staticClass:"weui-icon-search"}),this._v(" "),t("span",[this._v("搜索")])])]),this._v(" "),t("a",{staticClass:"weui-search-bar__cancel-btn",attrs:{href:"javascript:",id:"searchCancel"}},[this._v("取消")])])}]};var q=i("X4nt")(S,$,!1,function(e){i("+Fbz")},null,null).exports,T={data:()=>({doneList:[],mescroll:null,show:!0,list:[]}),methods:{goDetail(e){this.$router.push({path:"/finish/done_detail",query:{info:e}})}},created(){(function(e){return new Promise((t,i)=>{c.a.get("/H_roleplay-si/ds/getMyDoneTask",{headers:{authorization:e}}).then(e=>{const i=e.data;t(i)})})})(localStorage.getItem("token")).then(e=>{this.doneList=e.tableContent,console.log(e)})},mounted(){this.mescroll=new MeScroll("finish",{up:{isBounce:!1,use:!1},down:{use:!1}})}},j={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{height:"100%"}},[i("div",{staticClass:"page mescroll",attrs:{id:"finish"}},[i("div",{staticClass:"wrapper"},[e._m(0),e._v(" "),i("ul",{staticClass:"list",attrs:{id:"finishTask"}},e._l(e.doneList,function(t){return i("li",{on:{click:function(i){e.goDetail(t)}}},[i("p",[i("span",{staticClass:"task_name"},[e._v(e._s(t.requireName))]),e._v(" "),i("i",{staticClass:"date"},[e._v(e._s(t.startTime.substring(0,10)))])]),e._v(" "),i("p",[i("span",{staticClass:"do_user"},[e._v("操作名称："+e._s(t.nodeName))]),e._v(" "),i("em",{staticClass:"status"},[e._v(e._s(t.status))])]),e._v(" "),i("p",[i("span",{staticClass:"do_user"},[e._v("发起人："+e._s(t.crtName))])]),e._v(" "),i("p",[i("em",{staticClass:"code"},[e._v("交易号："+e._s(t.businessKey))])]),e._v(" "),i("p",[i("em",{staticClass:"code"},[e._v("完成时间："+e._s(t.endTime))])])])}))])]),e._v(" "),i("router-view")],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"weui-search-bar",attrs:{id:"searchBar"}},[t("form",{staticClass:"weui-search-bar__form"},[t("div",{staticClass:"weui-search-bar__box"},[t("i",{staticClass:"weui-icon-search"}),this._v(" "),t("input",{staticClass:"weui-search-bar__input",attrs:{type:"search",id:"searchInput",placeholder:"搜索",required:""}}),this._v(" "),t("a",{staticClass:"weui-icon-clear",attrs:{href:"javascript:",id:"searchClear"}})]),this._v(" "),t("label",{staticClass:"weui-search-bar__label",attrs:{id:"searchText"}},[t("i",{staticClass:"weui-icon-search"}),this._v(" "),t("span",[this._v("搜索")])])]),this._v(" "),t("a",{staticClass:"weui-search-bar__cancel-btn",attrs:{href:"javascript:",id:"searchCancel"}},[this._v("取消")])])}]};var D=i("X4nt")(T,j,!1,function(e){i("jSAH")},null,null).exports,N={name:"icon",props:{type:String,isMsg:Boolean},computed:{className(){return`weui-icon weui_icon_${this.type} weui-icon-${this.type.replace(/_/g,"-")}`}}},R={render:function(){var e=this.$createElement;return(this._self._c||e)("i",{class:[this.className,this.isMsg?"weui-icon_msg":""]})},staticRenderFns:[]};var P=i("X4nt")(N,R,!1,function(e){i("gIhY")},null,null).exports,O=i("Jj2X"),F=i("OhDx"),V=i("LLoY"),H=i.n(V),Y={name:"datetime",mixins:[F.a],components:{Group:p,InlineDesc:w,Icon:P},props:{format:{type:String,default:"YYYY-MM-DD"},title:String,value:{type:String,default:""},inlineDesc:String,placeholder:String,minYear:Number,maxYear:Number,confirmText:String,cancelText:String,clearText:String,yearRow:{type:String,default:"{value}"},monthRow:{type:String,default:"{value}"},dayRow:{type:String,default:"{value}"},hourRow:{type:String,default:"{value}"},minuteRow:{type:String,default:"{value}"},required:{type:Boolean,default:!1},minHour:{type:Number,default:0},maxHour:{type:Number,default:23},startDate:{type:String,validator:e=>!e||10===e.length},endDate:{type:String,validator:e=>!e||10===e.length},valueTextAlign:String,displayFormat:Function,readonly:Boolean,hourList:Array,minuteList:Array,show:Boolean,defaultSelectedValue:String,computeHoursFunction:Function,computeDaysFunction:Function},created(){this.isFirstSetValue=!1,this.currentValue=this.value},data:()=>({currentValue:null,valid:!0,errors:{}}),mounted(){const e=this.uuid;this.$el.setAttribute("id",`vux-datetime-${e}`),this.readonly||this.$nextTick(()=>{this.render()})},computed:{pickerOptions(){const e=this,t={trigger:"#vux-datetime-"+this.uuid,format:this.format,value:this.currentValue,output:".vux-datetime-value",confirmText:e.getButtonText("confirm"),cancelText:e.getButtonText("cancel"),clearText:e.clearText,yearRow:this.yearRow,monthRow:this.monthRow,dayRow:this.dayRow,hourRow:this.hourRow,minuteRow:this.minuteRow,minHour:this.minHour,maxHour:this.maxHour,startDate:this.startDate,endDate:this.endDate,hourList:this.hourList,minuteList:this.minuteList,defaultSelectedValue:this.defaultSelectedValue,computeHoursFunction:this.computeHoursFunction,computeDaysFunction:this.computeDaysFunction,onSelect(t,i,a){e.picker&&e.picker.config.renderInline&&(e.$emit("input",a),e.$emit("on-change",a))},onConfirm(t){e.currentValue=t},onClear(t){e.$emit("on-clear",t)},onHide(t){e.$emit("update:show",!1),e.validate(),e.$emit("on-hide",t),"cancel"===t&&e.$emit("on-cancel"),"confirm"===t&&e.$emit("on-confirm")},onShow(){e.$emit("update:show",!0),e.$emit("on-show")}};return this.minYear&&(t.minYear=this.minYear),this.maxYear&&(t.maxYear=this.maxYear),t},firstError(){let e=Object.keys(this.errors)[0];return this.errors[e]},labelClass(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}}},methods:{getButtonText(e){return"cancel"===e&&this.cancelText?this.cancelText:"confirm"===e&&this.confirmText?this.confirmText:this.$el.getAttribute(`data-${e}-text`)},render(){this.$nextTick(()=>{this.picker&&this.picker.destroy(),this.picker=new O.a(this.pickerOptions)})},validate(){if(!this.currentValue&&this.required)return this.valid=!1,void(this.errors.required="必填");this.valid=!0,this.errors={}}},watch:{readonly(e){e?this.picker&&this.picker.destroy():this.render()},show(e){e?this.picker&&this.picker.show(this.currentValue):this.picker&&this.picker.hide(this.currentValue)},currentValue(e,t){this.$emit("input",e),this.isFirstSetValue?this.$emit("on-change",e):(this.isFirstSetValue=!0,t&&this.$emit("on-change",e)),this.validate()},startDate(){this.render()},endDate(){this.render()},format(e){this.currentValue&&(this.currentValue=H()(this.currentValue,e)),this.render()},value(e){this.readonly||this.picker&&this.picker.config.renderInline?this.currentValue=e:this.currentValue!==e&&(this.currentValue=e,this.render())}},beforeDestroy(){this.picker&&this.picker.destroy()}},L={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a",{staticClass:"vux-datetime weui-cell",class:{"weui-cell_access":!e.readonly},attrs:{"data-cancel-text":"取消","data-confirm-text":"确定",href:"javascript:"}},[e._t("default",[i("div",[e._t("title",[i("p",{class:e.labelClass,style:{width:e.$parent.labelWidth,textAlign:e.$parent.labelAlign,marginRight:e.$parent.labelMarginRight},domProps:{innerHTML:e._s(e.title)}})]),e._v(" "),e.inlineDesc?i("inline-desc",[e._v(e._s(e.inlineDesc))]):e._e()],2),e._v(" "),i("div",{staticClass:"weui-cell__ft vux-cell-primary vux-datetime-value",style:{textAlign:e.valueTextAlign}},[!e.currentValue&&e.placeholder?i("span",{staticClass:"vux-cell-placeholder"},[e._v(e._s(e.placeholder))]):e._e(),e._v(" "),e.currentValue?i("span",{staticClass:"vux-cell-value"},[e._v(e._s(e.displayFormat?e.displayFormat(e.currentValue):e.currentValue))]):e._e(),e._v(" "),i("icon",{directives:[{name:"show",rawName:"v-show",value:!e.valid,expression:"!valid"}],staticClass:"vux-input-icon",attrs:{type:"warn",title:e.firstError}})],1)])],2)},staticRenderFns:[]};var M={data:()=>({infoList:[],detailInfo:{},showDialog:!1,show:!1}),components:{Group:p,Cell:k,Datetime:i("X4nt")(Y,L,!1,function(e){i("lRgG")},null,null).exports},methods:{agree(){this.showDialog=!0},reject(){this.showDialog=!0},change(e){console.log(e)}},created(){this.detailInfo=this.$route.query.info;let e=localStorage.getItem("token"),t=this.$route.query.info.businessKey,i=(new Date).getTime();console.log(e),d(this.detailInfo.businessKey,e).then(e=>{this.infoList=e}),v(i,e,t).then(e=>{e.length>=1&&(this.detailInfo=JSON.parse(e[0].json_data));var t=JSON.parse(e[0].json_data);console.log(t)})},mounted(){this.mescroll=new MeScroll("dProcess",{up:{isBounce:!1,use:!1},down:{use:!1}})}},A={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{"enter-active-class":"slideInRight","leave-active-class":"slideOutRight"}},[i("div",{attrs:{id:"td_detail"}},[i("div",{staticClass:"mescroll",attrs:{id:"mescroll"}},[e.detailInfo.requirement?i("group",{attrs:{"label-width":"4.5em","label-margin-right":"2em","label-align":"left"}},[i("cell",{attrs:{title:"需求编码",value:e.detailInfo.transCode,"value-align":"left"}}),e._v(" "),i("cell",{attrs:{title:"提交人",value:e.detailInfo.baseinfo.creatorName,"value-align":"left"}}),e._v(" "),i("cell",{attrs:{title:"创建时间",value:e.detailInfo.baseinfo.crtTime,"value-align":"left"}}),e._v(" "),e.detailInfo.requirement?i("cell",{attrs:{title:"需求名称",value:e.detailInfo.requirement.requireName,"value-align":"left"}}):e._e(),e._v(" "),e.detailInfo.requirement.level.value?e._e():i("cell",{attrs:{title:"优先级",value:e.detailInfo.requirement.level,"value-align":"left"}}),e._v(" "),e.detailInfo.requirement.level.value?e._e():i("cell",{attrs:{title:"优先级",value:e.detailInfo.requirement.level,"value-align":"left"}}),e._v(" "),i("datetime",{attrs:{format:"YYYY-MM-DD HH:mm",title:"预计交付时间",placeholder:"请选择","value-align":"left"},on:{"on-change":e.change}}),e._v(" "),i("cell",{attrs:{title:"用户故事",value:e.detailInfo.requirement.userStory,"value-align":"left"}}),e._v(" "),i("cell",{attrs:{title:"工作流","is-link":"","border-intent":!1,"arrow-direction":e.show?"up":"down"},nativeOn:{click:function(t){e.show=!e.show}}})],1):e._e(),e._v(" "),e.detailInfo.requirementProject?i("group",{attrs:{"label-width":"4.5em","label-margin-right":"2em","label-align":"left"}},[i("cell",{attrs:{title:"需求编码",value:e.detailInfo.transCode,"value-align":"left"}}),e._v(" "),i("cell",{attrs:{title:"提交人",value:e.detailInfo.baseinfo.creatorName,"value-align":"left"}}),e._v(" "),i("cell",{attrs:{title:"创建时间",value:e.detailInfo.baseinfo.crtTime,"value-align":"left"}}),e._v(" "),i("cell",{attrs:{title:"需求名称",value:e.detailInfo.requirementProject.requireName,"value-align":"left"}}),e._v(" "),e.detailInfo.requirementProject.level.value?e._e():i("cell",{attrs:{title:"优先级",value:e.detailInfo.requirementProject.level,"value-align":"left"}}),e._v(" "),e.detailInfo.requirementProject.level.value?e._e():i("cell",{attrs:{title:"优先级",value:e.detailInfo.requirementProject.level,"value-align":"left"}}),e._v(" "),i("datetime",{attrs:{format:"YYYY-MM-DD HH:mm",title:"预计交付时间",placeholder:"请选择","value-align":"left"},on:{"on-change":e.change}}),e._v(" "),i("cell",{attrs:{title:"用户故事",value:e.detailInfo.requirementProject.userStory,"value-align":"left"}}),e._v(" "),i("cell",{attrs:{title:"工作流","is-link":"","border-intent":!1,"arrow-direction":e.show?"up":"down"},nativeOn:{click:function(t){e.show=!e.show}}})],1):e._e(),e._v(" "),e.detailInfo.requirement||e.detailInfo.requirementProject?e._e():i("group",{attrs:{"label-width":"4.5em","label-margin-right":"2em","label-align":"left"}},[i("cell",{attrs:{title:"需求编码",value:e.detailInfo.transCode,"value-align":"left"}}),e._v(" "),i("cell",{attrs:{title:"提交人",value:e.detailInfo.baseinfo.creatorName,"value-align":"left"}}),e._v(" "),i("cell",{attrs:{title:"创建时间",value:e.detailInfo.baseinfo.crtTime,"value-align":"left"}}),e._v(" "),i("datetime",{attrs:{format:"YYYY-MM-DD HH:mm",title:"预计交付时间",placeholder:"请选择","value-align":"left"},on:{"on-change":e.change}}),e._v(" "),i("cell",{attrs:{title:"工作流","is-link":"","border-intent":!1,"arrow-direction":e.show?"up":"down"},nativeOn:{click:function(t){e.show=!e.show}}})],1),e._v(" "),e.show?i("div",{staticClass:"process"},[i("div",{staticClass:"agree_status"},e._l(e.infoList,function(t){return i("div",{staticClass:"allInfo"},[i("div",{staticClass:"info"},[i("i",{staticClass:"iconfont icon-shenfenzheng"}),e._v(" "),i("p",[i("span",[e._v(e._s(t.userName))]),e._v(" "),i("span",[e._v(e._s(t.nodeName))])]),e._v(" "),i("p",[i("span",[e._v(e._s(t.endTime))])]),e._v(" "),i("p"),e._v(" "),t.status?i("i",{staticClass:" weui-icon weui-icon-success"}):e._e(),e._v(" "),t.status?e._e():i("i",{staticClass:" weui-icon weui-icon-waiting",staticStyle:{top:"15px"}})]),e._v(" "),i("div",{staticClass:"iconfont icon-xia arrow"})])}))]):e._e()],1),e._v(" "),i("div",{staticClass:"btn"},[i("span",{on:{click:function(t){e.agree()}}},[e._v("同意")]),e._v(" "),i("span",{on:{click:function(t){e.reject()}}},[e._v("拒绝")])])])])},staticRenderFns:[]};var B=i("X4nt")(M,A,!1,function(e){i("QkwG")},null,null).exports,X={mixins:[i("69ss").a],name:"x-dialog",model:{prop:"show",event:"change"},props:{show:{type:Boolean,default:!1},maskTransition:{type:String,default:"vux-mask"},maskZIndex:[String,Number],dialogTransition:{type:String,default:"vux-dialog"},dialogClass:{type:String,default:"weui-dialog"},hideOnBlur:Boolean,dialogStyle:Object,scroll:{type:Boolean,default:!0,validator:e=>!0}},computed:{maskStyle(){if(void 0!==this.maskZIndex)return{zIndex:this.maskZIndex}}},mounted(){"undefined"!=typeof window&&window.VUX_CONFIG&&"VIEW_BOX"===window.VUX_CONFIG.$layout&&(this.layout="VIEW_BOX")},watch:{show(e){this.$emit("update:show",e),this.$emit(e?"on-show":"on-hide"),e?this.addModalClassName():this.removeModalClassName()}},methods:{shouldPreventScroll(){const e=/iPad|iPhone|iPod/i.test(window.navigator.userAgent),t=this.$el.querySelector("input")||this.$el.querySelector("textarea");if(e&&t)return!0},hide(){this.hideOnBlur&&(this.$emit("update:show",!1),this.$emit("change",!1),this.$emit("on-click-mask"))}},data:()=>({layout:""})},E={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"vux-x-dialog",class:{"vux-x-dialog-absolute":"VIEW_BOX"===e.layout}},[i("transition",{attrs:{name:e.maskTransition}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"weui-mask",style:e.maskStyle,on:{click:e.hide}})]),e._v(" "),i("transition",{attrs:{name:e.dialogTransition}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],class:e.dialogClass,style:e.dialogStyle},[e._t("default")],2)])],1)},staticRenderFns:[]};var z={data:()=>({infoList:[],detailInfo:{},show:!1}),components:{Group:p,Cell:k,XDialog:i("X4nt")(X,E,!1,function(e){i("8TPU")},null,null).exports,Icon:P},created(){this.detailInfo=this.$route.query.info;let e=localStorage.getItem("token"),t=this.$route.query.info.businessKey,i=(new Date).getTime();console.log(e),d(this.detailInfo.businessKey,e).then(e=>{this.infoList=e}),v(i,e,t).then(e=>{e.length>=1&&(this.detailInfo=JSON.parse(e[0].json_data));var t=JSON.parse(e[0].json_data);console.log(t)})},mounted(){this.mescroll=new MeScroll("taskDetail",{up:{isBounce:!1,use:!1},down:{use:!1}})}},G={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{"enter-active-class":"slideInRight","leave-active-class":"slideOutRight"}},[i("div",{attrs:{id:"finish_detail"}},[i("div",{staticClass:"mescroll",attrs:{id:"taskDetail"}},[i("div",{staticClass:"wrapper"},[e.detailInfo.baseinfo&&e.detailInfo.requirement?i("group",{attrs:{"label-width":"4.5em","label-margin-right":"2em","label-align":"left"}},[e.detailInfo.baseinfo.transCode?i("cell",{attrs:{title:"需求编码",value:e.detailInfo.baseinfo.transCode,"value-align":"left"}}):e._e(),e._v(" "),e.detailInfo.baseinfo.creatorName?i("cell",{attrs:{title:"提交人",value:e.detailInfo.baseinfo.creatorName,"value-align":"left"}}):e._e(),e._v(" "),e.detailInfo.baseinfo.crtTime?i("cell",{attrs:{title:"创建时间",value:e.detailInfo.baseinfo.crtTime,"value-align":"left"}}):e._e(),e._v(" "),e.detailInfo.baseinfo.requireName?i("cell",{attrs:{title:"需求名称",value:e.detailInfo.requirement.requireName,"value-align":"left"}}):e._e(),e._v(" "),e.detailInfo.requirement.level.value?i("cell",{attrs:{title:"优先级",value:e.detailInfo.requirement.level.value,"value-align":"left"}}):e._e(),e._v(" "),e.detailInfo.requirement.level.value?e._e():i("cell",{attrs:{title:"优先级",value:e.detailInfo.requirement.level,"value-align":"left"}}),e._v(" "),e.detailInfo.requirement.etc?i("cell",{attrs:{title:"预计交付时间",value:e.detailInfo.requirement.etc,"value-align":"left"}}):e._e(),e._v(" "),e.detailInfo.requirement.userStory?i("cell",{attrs:{title:"用户故事",value:e.detailInfo.requirement.userStory,"value-align":"left"}}):e._e(),e._v(" "),i("cell",{attrs:{title:"工作流","is-link":"","border-intent":!1,"arrow-direction":e.show?"up":"down"},nativeOn:{click:function(t){e.show=!e.show}}})],1):e._e(),e._v(" "),e.detailInfo.requirement||e.detailInfo.requirementProject?e._e():i("group",{attrs:{"label-width":"4.5em","label-margin-right":"2em","label-align":"left"}},[e.detailInfo.baseinfo.transCode?i("cell",{attrs:{title:"需求编码",value:e.detailInfo.baseinfo.transCode,"value-align":"left"}}):e._e(),e._v(" "),e.detailInfo.baseinfo.creatorName?i("cell",{attrs:{title:"提交人",value:e.detailInfo.baseinfo.creatorName,"value-align":"left"}}):e._e(),e._v(" "),e.detailInfo.baseinfo.crtTime?i("cell",{attrs:{title:"创建时间",value:e.detailInfo.baseinfo.crtTime,"value-align":"left"}}):e._e(),e._v(" "),i("cell",{attrs:{title:"工作流","is-link":"","border-intent":!1,"arrow-direction":e.show?"up":"down"},nativeOn:{click:function(t){e.show=!e.show}}})],1),e._v(" "),e.detailInfo.requirementProject?i("group",{attrs:{"label-width":"4.5em","label-margin-right":"2em","label-align":"left"}},[e.detailInfo.baseinfo.transCode?i("cell",{attrs:{title:"需求编码",value:e.detailInfo.baseinfo.transCode,"value-align":"left"}}):e._e(),e._v(" "),e.detailInfo.baseinfo.creatorName?i("cell",{attrs:{title:"提交人",value:e.detailInfo.baseinfo.creatorName,"value-align":"left"}}):e._e(),e._v(" "),e.detailInfo.baseinfo.crtTime?i("cell",{attrs:{title:"创建时间",value:e.detailInfo.baseinfo.crtTime,"value-align":"left"}}):e._e(),e._v(" "),e.detailInfo.baseinfo.requireName?i("cell",{attrs:{title:"需求名称",value:e.detailInfo.requirementProject.requireName,"value-align":"left"}}):e._e(),e._v(" "),e.detailInfo.requirementProject.level.value?i("cell",{attrs:{title:"优先级",value:e.detailInfo.requirementProject.level.value,"value-align":"left"}}):e._e(),e._v(" "),e.detailInfo.requirementProject.level.value?e._e():i("cell",{attrs:{title:"优先级",value:e.detailInfo.requirementProject.level,"value-align":"left"}}),e._v(" "),e.detailInfo.requirementProject.etc?i("cell",{attrs:{title:"预计交付时间",value:e.detailInfo.requirementProject.etc,"value-align":"left"}}):e._e(),e._v(" "),e.detailInfo.requirementProject.userStory?i("cell",{attrs:{title:"用户故事",value:e.detailInfo.requirementProject.userStory,"value-align":"left"}}):e._e(),e._v(" "),i("cell",{attrs:{title:"工作流","is-link":"","border-intent":!1,"arrow-direction":e.show?"up":"down"},nativeOn:{click:function(t){e.show=!e.show}}})],1):e._e(),e._v(" "),e.show?i("div",{staticClass:"process"},[i("div",{staticClass:"agree_status"},[e._l(e.infoList,function(t){return i("div",{staticClass:"allInfo"},[i("div",{staticClass:"info"},[i("i",{staticClass:"iconfont icon-shenfenzheng"}),e._v(" "),i("p",[i("span",[e._v(e._s(t.userName))]),e._v(" "),i("span",[e._v(e._s(t.nodeName))])]),e._v(" "),i("p",[i("span",[e._v(e._s(t.endTime))])]),e._v(" "),t.message?i("p",[i("span",[e._v("审批意见："+e._s(t.message))])]):e._e(),e._v(" "),t.status?i("i",{staticClass:" weui-icon weui-icon-success"}):e._e(),e._v(" "),t.status?e._e():i("i",{staticClass:" weui-icon weui-icon-waiting",staticStyle:{top:"15px"}})]),e._v(" "),i("div",{staticClass:"iconfont icon-xia arrow"})])}),e._v(" "),"进行中"!=e.detailInfo.status?i("div",{staticClass:"process_over"},[e._v("流程结束")]):e._e()],2)]):e._e()],1)])])])},staticRenderFns:[]};var J=i("X4nt")(z,G,!1,function(e){i("dtjR")},null,null).exports,K=i("HLLT"),W=i.n(K),Q={data:()=>({}),created(){var e=localStorage.getItem("token"),t=this;setTimeout(function(){var i;u(e).then(e=>{if(200==e.status)console.log(e.data),t.$router.replace("/to_do");else{console.log("正常进入");var a=location.href;if(a.indexOf("code")>0){var l=a.split("?")[1].split("&");(i=l[0].split("=")[1],new Promise((e,t)=>{c.a.get("/H_roleplay-si/wxLogin?code="+i+"&state=1").then(t=>{const i=t.data;e(i)})})).then(e=>{localStorage.setItem("token",e.token),t.$router.replace("/to_do")})}else{window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid=ww3c1aa17c16e380b7&redirect_uri=https%3a%2f%2frfd.roletask.com%2fRose%2f%23%2fto_do&response_type=code&scope=snsapi_base&agentid=1000017&state=1#wechat_redirect"}}})},0)}},U={render:function(){var e=this.$createElement;return(this._self._c||e)("router-view")},staticRenderFns:[]};var Z=i("X4nt")(Q,U,!1,function(e){i("m5o4")},null,null).exports;a.a.use(W.a),a.a.use(r.a);var ee=new r.a({routes:[{path:"/to_do",component:q,meta:{title:"我的待办"},children:[{path:"do_detail",component:B}]},{path:"/finish",component:D,meta:{title:"我的已办"},children:[{path:"done_detail",component:J}]},{path:"/welcome",component:Z},{path:"/",redirect:"/welcome"}]});a.a.config.productionTip=!1,a.a.prototype.$http=c.a,a.a.prototype.$event=new a.a,new a.a({el:"#app",router:ee,template:"<App/>",components:{App:n}})},QD8p:function(e,t){},QkwG:function(e,t){},c7fu:function(e,t){},dtjR:function(e,t){},e8Kb:function(e,t){},gIhY:function(e,t){},jSAH:function(e,t){},lRgG:function(e,t){},m5o4:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.a456377f68a626ca0866.js.map