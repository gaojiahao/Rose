webpackJsonp([0],{"+26s":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("rVsN"),r=n(i),s=a("lC5x"),o=n(s),l=a("4YfN"),d=n(l),u=a("3cXf"),c=n(u),f=a("J0Oq"),m=n(f),h=a("KH7x"),v=n(h),p=a("GWbZ"),C=n(p),y=a("z5TY"),_=n(y),g=a("BGNQ"),b=n(g),w=a("8VZL"),I=n(w),x=a("HXPS"),D=n(x),P=a("fQz5"),S=n(P),k=a("+62G"),L=n(k),N=a("7g+Q"),M=n(N),T=a("kNGm"),A=n(T),O=a("iR2W"),R=n(O),j=a("kpbF"),B=a("7biW"),E=n(B),F=a("1KNX"),U=n(F);t.default={data:function(){return{page:1,limit:20,hasNext:!0,scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0},flowPage:1,flowLimit:20,FlowHasNext:!0,FlowScrollOptions:{click:!0,pullUpLoad:!0},total:null,flowShow:!1,activeIndex:0,view_id:"",serachVal:"",activeTab:"",applyCode:"",calc_rel_code:"",flowData:[],listData:[],listView:[],listField:[],flowField:[],flowTitle:{},requestData:{}}},directives:{TransferDom:L.default},components:{Tab:I.default,Icon:D.default,Cell:b.default,Group:_.default,Popup:M.default,RScroll:U.default,TabItem:S.default,searchIcon:E.default,CellFormPreview:C.default},filters:{dateFormat:A.default,numberComma:R.default},methods:{resetCondition:function(){this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.$refs.bScroll.resetPullDown()},tabClick:function(e,t){this.activeIndex=t,this.activeTab=e.view_name,this.calc_rel_code=e.calc_rel_code,this.view_id=e.view_id,this.resetCondition(),this.getList()},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.serachVal=a,this.resetCondition(),this.getListData()},getClassfiy:function(){var e=this;return(0,j.getListClassfiy)({account_code:this.uniqueId,device_type:"phone"}).then(function(t){var a=t.data,n=void 0===a?[]:a,i=(0,v.default)(n,1),r=i[0],s=void 0===r?{}:r;e.listView=n,e.activeTab=s.view_name,e.calc_rel_code=s.calc_rel_code,e.view_id=s.view_id})},getFlow:function(e){var t=this;return(0,m.default)(o.default.mark(function a(){var n;return o.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!t.activeTab.includes("现金流分类")){a.next=2;break}return a.abrupt("return");case 2:if(t.flowData=[],t.flowPage=1,!(e.qtyLocked>=0)){a.next=6;break}return a.abrupt("return");case 6:return t.flowTitle=e,t.$HandleLoad.show(),n={},t.listField.forEach(function(t){n[t.field]=e[t.field]}),t.requestData={view_id:"obj_water_1",active_type:"water",row:(0,c.default)(n)},a.next=13,(0,j.getView)((0,d.default)({},t.requestData,{view_scope:"model"})).then(function(e){t.flowField=e.model}).catch(function(e){t.$HandleLoad.hide()});case 13:return a.next=15,t.getFlowData();case 15:t.$HandleLoad.hide(),t.flowShow=!0,t.$nextTick(function(){t.$refs.flowListWrapper.scrollTo(0,0),t.$refs.flowListWrapper.refresh()});case 18:case"end":return a.stop()}},a,t)}))()},getFlowData:function(){var e=this;return(0,j.getView)((0,d.default)({},this.requestData,{view_scope:"data",page:this.flowPage,limit:this.flowLimit,start:(this.flowPage-1)*this.flowLimit})).then(function(t){var a=t.data,n=void 0===a?[]:a,i=t.total,r=void 0===i?0:i;e.FlowHasNext=r>(e.flowPage-1)*e.flowLimit+n.length,n.forEach(function(e){e.showList=!1}),e.flowData=1===e.FlowHasNext?n:e.flowData.concat(n),e.$nextTick(function(){e.$refs.flowListWrapper.finishPullUp()})})},getView:function(){var e=this;return(0,j.getView)({user_code:1,view_scope:"model",view_id:this.view_id,calc_rel_code:this.calc_rel_code}).then(function(t){e.listField=t.model})},getListData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,j.getViewList)({user_code:1,page:this.page,limit:this.limit,view_scope:"data",device_type:"phone",view_id:this.view_id,filter:this.serachVal,calc_rel_code:this.calc_rel_code,start:(this.page-1)*this.limit}).then(function(n){var i=n.data,r=void 0===i?[]:i,s=n.total,o=void 0===s?0:s,l={"交通银行":a("4TvN"),"建设银行":a("ptJ7"),"中国银行":a("ihcZ"),"招商银行":a("E3CK")};e.hasNext=o>(e.page-1)*e.limit+r.length,r.forEach(function(t){if(t.status=!1,t.cashInOrOut)switch(t.cashInOrOut){case"流入":t.flowIconClass="iconfont icon-shangjiantou",t.flowWordClass="cashIn";break;case"流出":t.flowIconClass="iconfont icon-xiajiantou-copy",t.flowWordClass="cashOut"}e.activeTab.includes("资金账户余额")?t.icon=l[t.bank]:e.activeTab.includes("现金流计划表")&&(t.appIcon="/dist/"+t.appIcon)}),e.listData=1===e.page?r:e.listData.concat(r),t||e.$nextTick(function(){e.resetScroll()});var d="";t&&0===e.activeIndex&&e.total&&(d=o-e.total==0?"暂无新数据":d="新增"+(o-e.total)+"条数据",e.$vux.toast.show({text:d,position:"top",width:"50%",type:"text",time:700})),0===e.activeIndex&&1===e.page&&sessionStorage.setItem(e.applyCode,o),e.$loading.hide()}).catch(function(t){console.log(t),e.resetScroll()})},getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,m.default)(o.default.mark(function a(){return o.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.getView();case 2:return a.next=4,e.getListData(t);case 4:case"end":return a.stop()}},a,e)}))()},resetScroll:function(){this.$refs.bScroll.finishPullDown(),this.$refs.bScroll.finishPullUp()},onPullingUp:function(){this.page++,this.getListData()},onPullingDown:function(){this.page=1,this.getData(!0)},onPullingUpFlow:function(){this.flowPage++,this.getFlowData()},getSession:function(){var e=this;return new r.default(function(t){e.total=sessionStorage.getItem(e.applyCode),t()})},getData:function(e){var t=this;return(0,m.default)(o.default.mark(function a(){return o.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getSession();case 2:if(!e){a.next=6;break}return a.next=5,t.getList(!0).then(function(){t.$nextTick(function(){t.$refs.bScroll.finishPullDown().then(function(){t.$refs.bScroll.finishPullUp()})})});case 5:return a.abrupt("return");case 6:return a.next=8,t.getList();case 8:case"end":return a.stop()}},a,t)}))()}},created:function(){var e=this;this.applyCode=this.$route.params.code,(0,m.default)(o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getClassfiy();case 2:return t.next=4,e.getView();case 4:return t.next=6,e.getListData();case 6:case"end":return t.stop()}},t,e)}))()}}},"+3hg":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("a3Yh"),o=n(s),l=a("MgeX"),d=n(l),u=a("HzJ8"),c=n(u),f=a("ZLEe"),m=n(f),h=a("3cXf"),v=n(h),p=a("HXPS"),C=n(p),y=a("BGNQ"),_=n(y),g=a("z5TY"),b=n(g),w=a("SAzG"),I=n(w),x=a("PzEQ"),D=n(x),P=a("0AQX"),S=a("HyXB"),k=a("bKg5"),L=n(k),N=a("VZtf"),M=n(N),T=a("89pA"),A=n(T),O=a("luHD"),R=n(O),j=a("Pb67"),B=n(j),E=a("RMtk"),F=n(E),U=a("vl8n"),$=n(U),Q=a("+WR7"),H=n(Q),V=a("Qg39");t.default={mixins:[L.default],components:{Icon:C.default,Cell:_.default,Group:b.default,XInput:I.default,XTextarea:D.default,RNumber:M.default,PopOrderList:B.default,PopWarehouseList:A.default,PopMatter:R.default,RPicker:$.default,PopBaseinfo:H.default,PopOrderXqtjList:F.default},data:function(){return{listId:"762b8df4-2555-4325-884a-355f34355832",orderList:{},matterList:[],showOrderPop:!1,transCode:"",formData:{biComment:""},numMap:{},warehouseIn:null,matter:{},showMatterPop:!1,modifyIndex:null}},methods:{checkAmt:function(e){var t=e.tdQty,a=e.qtyBal;t&&(e.tdQty=Math.abs((0,V.toFixed)(t)),t>a&&(e.tdQty=a))},delClick:function(e,t,a){var n=this.selItems,i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode&&e.transCode===t.transCode});if(-1!==i)return void n.splice(i,1);n.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,v.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,m.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});i>=0&&(e.$refs.order.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,c.default)((0,d.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,o=!1,l=void 0;try{for(var u,f=(0,c.default)(r);!(s=(u=f.next()).done);s=!0){var m=u.value;this.numMap[m.transCode+"_"+m.inventoryCode]={tdQty:m.tdQty,shippingTime:m.shippingTime}}}catch(e){o=!0,l=e}finally{try{!s&&f.return&&f.return()}finally{if(o)throw l}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},selWarehouseIn:function(e){this.warehouseIn=JSON.parse(e)},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,v.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t)},selOrder:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){var a=e.transCode+"_"+e.inventoryCode,i=t.numMap[a]||{},r=i.tdQty,s=void 0===r?"":r,o=i.shippingTime,l=void 0===o?"":o;e.tdQty=s,e.shippingTime=l,n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},submitOrder:function(){var e=this,t="",a=[];[{key:"warehouseIn",message:"入库仓库"}].every(function(a){return!!e[a.key]||(t="请选择"+a.message,!1)}),t||(0,m.default)(this.orderList).length||(t="请选择物料");var n=!0,i=!1,s=void 0;try{for(var l,u=(0,c.default)((0,d.default)(this.orderList));!(n=(l=u.next()).done);n=!0){var f=l.value,h=!0,p=!1,C=void 0;try{for(var y,_=(0,c.default)(f);!(h=(y=_.next()).done);h=!0){var g=y.value;if(!g.tdQty){t="请填写数量";break}var b={transMatchedCode:g.transCode,outPutMatCode:g.inventoryCode,containerCodeOut:this.warehouseIn.warehouseCode,warehouseType_containerCodeOut:this.warehouseIn.warehouseType,tdProcessing:g.processing,thenQtyBal:g.qtyBal,thenQtyStock:g.qtyStock,tdQty:g.tdQty,comment:g.comment||""};this.transCode&&(b.tdId=g.tdId||""),a.push(b)}}catch(e){p=!0,C=e}finally{try{!h&&_.return&&_.return()}finally{if(p)throw C}}}}catch(e){i=!0,s=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw s}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=S.saveAndStartWf,n={},i=(0,o.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});n=(0,r.default)({},e.formData,{modifer:e.transCode?e.formData.handler:"",handlerEntity:e.entity.dealerName,outPut:{containerCode:e.warehouseIn.warehouseCode,dataSet:a},containerInWarehouseManager:e.warehouseIn.containerInWarehouseManager||null}),e.transCode&&(t=S.saveAndCommitTask,i={businessKey:e.transCode,createdBy:n.creator||n.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var s={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,v.default)(n),wfPara:(0,v.default)(i)};e.transCode||delete s.biReferenceId,e.processCode.length||(t=S.submitAndCalc,delete s.wfPara,delete s.biReferenceId),e.biReferenceId&&(s.biReferenceId=e.biReferenceId),e.saveData(t,s)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=l;var d=[],u={},f=s.outPut,m=f.dataSet,h=void 0===m?[]:m,v=!0,p=!1,C=void 0;try{for(var y,_=(0,c.default)(h);!(v=(y=_.next()).done);v=!0){var g=y.value;g=(0,r.default)({},g,{transCode:g.transMatchedCode,qtyBal:g.thenQtyBal,qtyStock:g.thenQtyStock,inventoryPic:g.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+g.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:g.inventoryName_outPutMatCode,inventoryCode:g.outPutMatCode,specification:g.specification_outPutMatCode,processing:g.tdProcessing}),u[g.transCode]||(u[g.transCode]=[]),d.push(g),u[g.transCode].push(g)}}catch(e){p=!0,C=e}finally{try{!v&&_.return&&_.return()}finally{if(p)throw C}}e.warehouseIn={warehouseCode:f.containerCode,warehouseName:f.warehouseName_containerCode,warehouseType:f.warehouseType_containerCode,warehouseProvince:f.warehouseProvince_containerCode,warehouseCity:f.warehouseCity_containerCode,warehouseDistrict:f.warehouseDistrict_containerCode,warehouseAddress:f.warehouseAddress_containerCode},e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,r.default)({},e.formData,e.handlerDefault,{biComment:s.biComment,biId:s.biId,biProcessStatus:s.biProcessStatus,creator:s.creator,modifer:s.modifer}),e.biReferenceId=s.biReferenceId,e.matterList=d,e.orderList=u,e.$loading.hide()})},assembMatterList:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,c.default)((0,d.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,o=!1,l=void 0;try{for(var u,f=(0,c.default)(r);!(s=(u=f.next()).done);s=!0){var m=u.value;this.matterList.push(m)}}catch(e){o=!0,l=e}finally{try{!s&&f.return&&f.return()}finally{if(o)throw l}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}},hasDraftData:function(){return!!(0,d.default)(this.orderList).length&&(0,o.default)({},"NBJGLL_DATA",{orderList:this.orderList,warehouseIn:this.warehouseIn,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("NBJGLL_DATA");if(e){var t=JSON.parse(e);this.orderList=t.orderList,this.assembMatterList(),this.formData=t.formData,this.warehouseIn=t.warehouseIn,sessionStorage.removeItem("NBJGLL_DATA")}}}},"+3kF":function(e,t){},"+7T9":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("zWMP");t.default={name:"MatterItem",filters:{percent:function(e){return e||0===e?(0,n.accMul)(e,100)+"%":"无"}},props:{showDelete:{type:Boolean,default:!1},item:{type:Object,default:function(){return{}}},config:{type:Array,default:function(){return[]}}},computed:{showEdit:function(){if(this.item.price||this.item.tdQty)return this.item.price||this.item.tdQty},hideEdit:function(){if(""===this.item.price||""===this.item.tdQty||0===this.item.price||0===this.item.tdQty)return!this.item.price||!this.item.tdQty}},data:function(){return{}},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},modifyMatter:function(){this.$emit("on-modify",this.item)}}}},"+ARd":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages xmrw-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("r-picker",{attrs:{title:"项目名称",data:e.projectList,mode:"3",placeholder:"请选择项目名称",required:"","has-border":!1},on:{"on-change":e.projectChange},model:{value:e.projectTask.projectName,callback:function(t){e.$set(e.projectTask,"projectName",t)},expression:"projectTask.projectName"}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.projectTask.projectName,expression:"projectTask.projectName"}],staticClass:"materiel_list mg_auto"},[a("p",{staticClass:"title"},[e._v("项目详情")]),e._v(" "),a("group",[a("cell",{attrs:{title:"项目大类",value:e.projectTask.projectType}}),e._v(" "),a("cell",{attrs:{title:"项目子类",value:e.projectTask.projectSubclass}})],1)],1),e._v(" "),a("r-picker",{attrs:{title:"任务名称",data:e.taskList,mode:"3",placeholder:"请选择任务名称",required:"","has-border":!1},on:{"on-change":e.taskChange},model:{value:e.projectTask.taskName,callback:function(t){e.$set(e.projectTask,"taskName",t)},expression:"projectTask.taskName"}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.projectTask.taskName,expression:"projectTask.taskName"}],staticClass:"materiel_list mg_auto "},[a("p",{staticClass:"title"},[e._v("任务详情")]),e._v(" "),a("group",[a("cell",{attrs:{title:"任务类型",value:e.projectTask.taskType}}),e._v(" "),a("cell",{attrs:{title:"任务说明",value:e.projectTask.comment,primary:"content"}}),e._v(" "),a("cell",{attrs:{title:"截止日期",value:e.projectTask.deadline}}),e._v(" "),a("cell",{directives:[{name:"show",rawName:"v-show",value:e.projectTask.cycleNumber,expression:"projectTask.cycleNumber"}],attrs:{title:"周期天数",value:e.projectTask.cycleNumber}}),e._v(" "),a("cell",{directives:[{name:"show",rawName:"v-show",value:e.projectTask.planTime,expression:"projectTask.planTime"}],attrs:{title:"标准工时",value:e.projectTask.planTime}}),e._v(" "),a("cell",{directives:[{name:"show",rawName:"v-show",value:e.projectTask.operatingRate,expression:"projectTask.operatingRate"}],attrs:{title:"作业费率",value:e.projectTask.operatingRate}}),e._v(" "),a("cell",{directives:[{name:"show",rawName:"v-show",value:e.projectTask.budgetHomeworkCost,expression:"projectTask.budgetHomeworkCost"}],attrs:{title:"预算作业成本",value:e.projectTask.budgetHomeworkCost}})],1)],1),e._v(" "),a("div",{staticClass:"materiel_list mg_auto"},[a("p",{staticClass:"title"},[e._v("实际情况")]),e._v(" "),a("group",[a("datetime",{attrs:{title:"实际完成日期"},model:{value:e.projectTask.actualCompleteTime,callback:function(t){e.$set(e.projectTask,"actualCompleteTime",t)},expression:"projectTask.actualCompleteTime"}},[a("span",{staticClass:"required",attrs:{slot:"title"},slot:"title"},[e._v("实际完成日期")])]),e._v(" "),a("x-input",{attrs:{type:"number",title:"实际工时","text-align":"right",placeholder:"请填写"},on:{"on-blur":e.checkTime},model:{value:e.projectTask.actualTime,callback:function(t){e.$set(e.projectTask,"actualTime",e._n(t))},expression:"projectTask.actualTime"}},[a("span",{staticClass:"required",attrs:{slot:"label"},slot:"label"},[e._v("实际工时")])]),e._v(" "),a("cell",{attrs:{title:"实际作业成本",value:e.projectTask.actualtHomeworkCost}},[a("span",{staticClass:"required",attrs:{slot:"title"},slot:"title"},[e._v("实际作业成本")])])],1)],1),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"其他信息"}},[a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.jsonData.comment.biComment,callback:function(t){e.$set(e.jsonData.comment,"biComment",t)},expression:"jsonData.comment.biComment"}})],1)],1),e._v(" "),a("upload-file",{on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"cfm_btn",on:{click:e.save}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},"+AWf":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("4YfN"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"RTab",props:{data:{type:Array,default:function(){return[{name:"全部",status:""},{name:"进行中",status:"进行中"},{name:"已生效",status:"已生效"},{name:"草稿",status:"草稿"}]}},activeIndex:{type:Number,default:0},mode:{type:String,default:"1"}},data:function(){return{activeTabIndex:0}},watch:{activeIndex:{handler:function(e){this.activeTabIndex=e},immediate:!0}},methods:{switchTab:function(e,t){this.activeTabIndex!==t&&(this.activeTabIndex=t,this.$emit("on-click",(0,i.default)({},e,{index:t})))}}}},"+AeB":function(e,t,a){"use strict";function n(e){a("Lzbv")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("zgOi");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("ku52"),o=a.n(s),l=a("tAQq"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},"+FWj":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("kNGm"),r=(n(i),a("0AQX")),s=a("+VRO"),o=n(s);t.default={data:function(){return{userData:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},uploadStyle:{width:"100%",padding:"0.06rem 0.1rem"}}},mixins:[o.default],methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,r.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=o,e.userData=r,e.workFlowInfoHandler()})},goEdit:function(){var e=this.$route.params,t=e.folder,a=e.fileName,n=this.$route.query.name;this.$router.push({path:"/fillform/"+t+"/"+a,query:{name:n,transCode:this.transCode}})}}}},"+GaD":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("m-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.projectList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.projectList,function(t,n){return a("div",{key:n,staticClass:"each_mater box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"mater_main "},[a("div",{staticClass:"project_name"},[e._v("\n              "+e._s(t.PROJECT_NAME)+"\n            ")]),e._v(" "),a("div",{staticClass:"project_type"},[e._v("\n              "+e._s(t.PROJECT_TYPE)+"\n            ")])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1)])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"+GfL":function(e,t){},"+Kn1":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("MgeX"),o=n(s),l=a("a3Yh"),d=n(l),u=a("ZLEe"),c=n(u),f=a("3cXf"),m=n(f),h=a("4YfN"),v=n(h),p=a("BGNQ"),C=n(p),y=a("z5TY"),_=n(y),g=a("SAzG"),b=n(g),w=a("kNGm"),I=n(w),x=a("PzEQ"),D=n(x),P=a("u28h"),S=n(P),k=a("jnZd"),L=n(k),N=a("iR2W"),M=n(N),T=a("HyXB"),A=a("0AQX"),O=a("bKg5"),R=n(O),j=a("ZQWM"),B=n(j),E=a("vl8n"),F=n(E),U=a("+WR7"),$=n(U),Q=a("VZtf"),H=n(Q),V=a("9cRV"),q=n(V),Y=a("hLfv"),X=n(Y),G=a("luHD"),W=n(G),z=a("lsbD"),K=n(z);a("Qg39"),a("zWMP");t.default={mixins:[R.default],components:{Cell:C.default,Group:_.default,XInput:b.default,Datetime:S.default,XTextarea:D.default,PopDealerList:B.default,PopupPicker:L.default,RPicker:F.default,PopBaseinfo:$.default,RNumber:H.default,PopMatterList:q.default,PopMatter:W.default,OpButton:K.default,DealerOtherPart:X.default},data:function(){return{dealerInfo:{},contactInfo:{},invoiceType:[["普通发票","专用发票"]],invoiceGetType:[],invoiceInfo:{ticketNumber:"",invoiceType:"",invoiceDate:"",invoiceContent:""},invoiceParams:{dealerCode:""},taxRate:.16,showInvoicePop:!1,seletedIndex:0,seletedInvoice:[],formData:{biComment:""},matterList:[],orderList:{},showMaterielPop:!1,matterParams:{},numMap:{},checkFieldList:[{key:"tdQty",message:"请填写本次收票数量"},{key:"taxRate",message:"请填写税率"}],filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"入库单",value:"transCode"}]}},filters:{numberComma:M.default,dateFormat:I.default},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],null!=this.matterParams.data.dealerCode&&(this.matterParams.data.dealerCode=this.dealerInfo.dealerCode,this.matterList=[],this.orderList={})},selContact:function(e){this.contactInfo=(0,v.default)({},e)},typeTask:function(e){this.invoiceInfo.invoiceType=e[0]},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,m.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.inventoryCode!==e.inventoryCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getMatter:function(){if(!this.dealerInfo.dealerCode)return void this.$vux.alert.show({content:"请选择供应商"});this.showMaterielPop=!this.showMaterielPop},selMatter:function(e){var t=JSON.parse(e),a={};t.forEach(function(e){e.tdQty=e.tdQty||e.qtyBal,e.taxRate=e.taxRate||.16,e.purchaseDay=(0,I.default)(e.calcTime,"YYYY-MM-DD")||e.purchaseDay,e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null,a[e.transCode]||(a[e.transCode]=[]),a[e.transCode].push(e)}),this.matterList=t,this.orderList=a},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t,a){var n=this.selItems,i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode&&e.transCode===t.transCode});if(-1!==i)return void n.splice(i,1);n.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,c.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});i>=0&&(e.$refs.matter.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this,t="",a=[];this.dealerInfo.dealerCode||(t="请选择供应商信息");var n=[{tip:"ticketNumber",msg:"请输入票号"},{tip:"invoiceType",msg:"请选择发票类型"},{tip:"invoiceDate",msg:"请选择发票日期"}];if(t||n.every(function(a){return!!e.invoiceInfo[a.tip]||(t=a.msg,!1)}),t||this.matterList.length||(t="请选择物料"),t||this.matterList.every(function(n){if(!n.tdQty&&0!==n.tdQty)return t="请填写本次收票数量",!1;n.taxRate||e.taxRate;return a.push({tdId:n.tdId||"",orderCode:n.orderCode,transMatchedCode:n.transCode,purchaseDay:n.purchaseDay,transObjCode:n.inventoryCode,tdProcessing:n.processing,assMeasureUnit:n.assMeasureUnit,assMeasureScale:n.assMeasureScale,assMeasureDescription:n.assMeasureDescription,thenTotalQtyBal:n.qty,thenLockQty:n.stockQty,thenQtyBal:n.qtyBal,tdQty:n.tdQty,assistQty:n.assistQty,price:n.price,tdAmount:n.tdAmount,taxRate:n.taxRate,noTaxPrice:n.noTaxPrice,taxAmount:n.taxAmount,noTaxAmount:n.noTaxAmount,comment:n.comment||""}),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=T.saveAndStartWf,n=(0,d.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,m.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:"",formData:(0,m.default)((0,v.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.formData.handler,modifer:e.formData.handler,order:{dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName,crDealerPaymentTerm:e.dealerInfo.paymentTerm||null,pamentDays_dealerCodeCredit:e.dealerInfo.pamentDays||null,expectedPaymentDate:e.dealerInfo.expectedPaymentDate||null,dataSet:a},dealerCreditContactPersonName:e.contactInfo.dealerName||null,dealerCreditContactInformation:e.contactInfo.dealerMobilePhone||"",invoiceDate:e.invoiceInfo.invoiceDate,ticketNumber:e.invoiceInfo.ticketNumber,invoiceType:e.invoiceInfo.invoiceType,invoiceContent:e.invoiceInfo.invoiceContent})),wfPara:(0,m.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=T.saveAndCommitTask),e.processCode.length||(t=T.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,A.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.attachment=t.attachment,e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId;var a=t.formData;e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,v.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),e.dealerInfo=(0,v.default)({},e.dealerInfo,{dealerName:a.order.dealerName_dealerCodeCredit,dealerCode:a.order.dealerCodeCredit,province:a.order.province_dealerCodeCredit,city:a.order.city_dealerCodeCredit,county:a.order.county_dealerCodeCredit,address:a.order.address_dealerCodeCredit,dealerMobilePhone:a.order.dealerMobilePhone_dealerCodeCredit,paymentTerm:a.order.crDealerPaymentTerm||"无",pamentDays:a.order.pamentDays_dealerCodeCredit,expectedPaymentDate:a.order.expectedPaymentDate,dealerLabelName:a.order.crDealerLabel});var n={};a.order.dataSet.forEach(function(t){var a=(0,v.default)({},t,{transCode:t.transMatchedCode,inventoryName:t.inventoryName_transObjCode,inventoryCode:t.transObjCode,inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),processing:t.tdProcessing,qty:t.thenTotalQtyBal,stockQty:t.thenLockQty,qtyBal:t.thenQtyBal});n[t.transMatchedCode]||(n[t.transMatchedCode]=[]),n[t.transMatchedCode].push(a),e.matterList.push(a)}),e.orderList=n,e.invoiceInfo=(0,v.default)({},e.invoiceInfo,{ticketNumber:a.ticketNumber,invoiceType:a.invoiceType,invoiceDate:(0,I.default)(a.invoiceDate,"YYYY-MM-DD"),invoiceContent:a.invoiceContent}),e.contactInfo={dealerName:a.dealerCreditContactPersonName,dealerMobilePhone:a.dealerCreditContactInformation},e.invoiceGetType.push(a.invoiceType),e.matterParams={dealerCode:a.order.dealerCodeCredit},e.$loading.hide()})},hasDraftData:function(){return!!(0,o.default)(this.dealerInfo).length&&(0,d.default)({},"ZZSSP_DATA",{invoice:{dealer:this.dealerInfo,invoiceInfo:this.invoiceInfo,contactInfo:this.contactInfo,orderList:this.orderList}})}},created:function(){var e=sessionStorage.getItem("ZZSSP_DATA");if(e){var t=JSON.parse(e);this.dealerInfo=t.invoice.dealer,this.invoiceInfo=t.invoice.invoiceInfo,this.contactInfo=t.invoice.contactInfo,this.orderList=t.invoice.orderList;var a=!0,n=!1,i=void 0;try{for(var s,l=(0,r.default)((0,o.default)(this.orderList));!(a=(s=l.next()).done);a=!0){var d=s.value,u=!0,c=!1,f=void 0;try{for(var m,h=(0,r.default)(d);!(u=(m=h.next()).done);u=!0){var v=m.value;this.matterList.push(v)}}catch(e){c=!0,f=e}finally{try{!u&&h.return&&h.return()}finally{if(c)throw f}}}}catch(e){n=!0,i=e}finally{try{!a&&l.return&&l.return()}finally{if(n)throw i}}this.matterParams={dealerCode:this.dealerInfo.dealerCodeCredit},this.invoiceGetType.push(this.invoiceInfo.invoiceType),sessionStorage.removeItem("ZZSSP_DATA")}}}},"+LcB":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper dzyhpcgysyzf-detail-container"},[e.orderInfo&&e.orderInfo.inPut?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("contact-part",{staticClass:"contacts_part",attrs:{"contact-info":e.dealerInfo,logistics:!1}},[a("template",{slot:"other"},[a("div",{staticClass:"other"},[a("span",{staticClass:"title"},[e._v("账期天数: ")]),e._v(" "),a("span",{staticClass:"mode"},[e._v(e._s(e.dealerInfo.pamentDays||"暂无"))])]),e._v(" "),a("div",{staticClass:"other"},[a("span",{staticClass:"title"},[e._v("账期到期日: ")]),e._v(" "),a("span",{staticClass:"mode"},[e._v(e._s(e.dealerInfo.accountExpirationDate||"暂无"))])])])],2),e._v(" "),a("matter-list",{attrs:{"order-list":e.orderList,noTaxAmount:e.noTaxAmount,taxAmount:e.taxAmount,count:e.count},scopedSlots:e._u([{key:"orderTitle",fn:function(t){return[a("span",{staticClass:"order_title"},[e._v("采购订单号")])]}},{key:"matterOther",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[n.productionDate?a("span",[e._v("生产日期: "+e._s(n.productionDate))]):e._e(),e._v(" "),n.validUntil?a("span",[e._v("有效日期: "+e._s(n.validUntil))]):e._e()]),e._v(" "),a("div",{staticClass:"mater_attribute"},[a("span",[e._v("单价: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.price),3)))]),e._v(" "),a("span",[e._v("数量: "+e._s(e._f("toFixed")(n.tdQty)))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.taxRate,expression:"item.taxRate"}]},[e._v("税率: "+e._s(n.taxRate))])]),e._v(" "),a("div",{staticClass:"mater_num"},[a("span",{staticClass:"num"},[e._v("订单总数: "+e._s(n.thenTotalQtyBal))]),e._v(" "),a("span",{staticClass:"num"},[e._v("已入库: "+e._s(n.thenLockQty))]),e._v(" "),a("span",{staticClass:"num"},[e._v("待验收: "+e._s(n.thenQtyBal))])]),e._v(" "),a("div",{staticClass:"mater_price"},[a("span",[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(n.tdAmount),3)))]),e._v(" "),n.taxRate?a("span",{staticClass:"num",style:{display:n.tdAmount&&n.tdAmount.toString().length>=5?"block":""}},[e._v("\n                [金额: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.noTaxAmount),3))+" + 税金: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.taxAmount),3))+"]\n              ")]):e._e()])])]}}])}),e._v(" "),e.isCashier?a("pop-cash-list",{attrs:{"default-value":e.cashInfo,request:"3",params:e.cashParams,required:""},on:{"sel-item":e.selCash}},[a("template",{slot:"other"},[a("form-cell",{attrs:{cellTitle:"支付金额",showSymbol:"",cellContent:e._f("numberComma")(e._f("toFixed")(e.cashInfo.tdAmountCopy1),3)}})],1)],2):a("div",{staticClass:"form_part"},[a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("资金账户详情")])]),e._v(" "),a("div",{staticClass:"form_content"},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"资金账户",cellContent:e.cashInfo.fundName_cashOutCode,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"资金编码",cellContent:e.cashInfo.cashOutCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"资金账户类型",cellContent:e.cashInfo.cashType_cashOutCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"账户余额",cellContent:e._f("numberComma")(e._f("toFixed")(e.cashInfo.thenAmntBalCopy1),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"支付金额",cellContent:e._f("numberComma")(e._f("toFixed")(e.cashInfo.tdAmountCopy1),3),showSymbol:""}})],1)])]),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,"agree-handler":e.agreeHandler,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},"+Lff":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("XAqG"),c=a("MjAd"),f=n(c);t.default={name:"USER_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"使用中",status:1},{name:"未使用",status:2},{name:"停用",status:-1}],filterList:[{name:"工号",value:"userCode"},{name:"姓名",value:"nickname"}]}},mixins:[f.default],methods:{getDefaultImg:function(e,t){var n=a(1===t?"Fuf7":"0gu7");return e&&(e.photo=n),n},pathChange:function(e,t,a){var n=this;if(!this.clickVisited){var i=e.colId,r=this.$route.query,s=r.name,o=r.listId,l=this.$route.params,u=l.folder,c=l.fileName,f=a+"/"+u+"/"+c;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,d.default)({},e)),setTimeout(function(){n.clickVisited=!1,n.$router.push({path:f,query:{name:s,colId:i,listId:o}})},200)}},goDetail:function(e,t){this.pathChange(e,t,"/detail")},getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=[];return this.activeTab&&a.push({operator:"in",value:this.activeTab,property:"status"}),this.serachVal&&(a=[].concat((0,o.default)(a),[{operator:"like",value:this.serachVal,property:this.filterProperty}])),(0,u.getAllUsers)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(a)}).then(function(a){var n=a.dataCount,i=void 0===n?0:n,r=a.tableContent,s=void 0===r?[]:r;e.hasNext=i>(e.page-1)*e.limit+s.length,s.forEach(function(t){var a=["女","男"],n=["","使用中","未使用","草稿"],i=["临时账户","长期有效"];t.genderText=a[t.gender]||"未知",t.status=n[t.status]||"停用",t.userTypeText=i[t.userType],e.setStatus(t),t.photo||(t.photo=e.getDefaultImg("",t.gender))}),e.listData=1===e.page?s:e.listData.concat(s),t||e.$nextTick(function(){e.resetScroll()});var o="";t&&0===e.activeIndex&&e.total&&(o=i-e.total==0?"暂无新数据":o="新增"+(i-e.total)+"条数据",e.$vux.toast.show({text:o,position:"top",width:"50%",type:"text",time:700})),0===e.activeIndex&&1===e.page&&sessionStorage.setItem(e.applyCode,i),e.$loading.hide()}).catch(function(t){e.resetScroll()})},setStatus:function(e){switch(e.status){case"使用中":e.statusClass="duty_done_c";break;default:e.statusClass="duty_fall_c"}}}}},"+VRO":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("MgeX"),o=n(s),l=a("3cXf"),d=n(l),u=a("lC5x"),c=n(u),f=a("J0Oq"),m=n(f),h=a("KH7x"),v=n(h),p=a("rVsN"),C=n(p),y=a("4YfN"),_=n(y),g=a("0AQX"),b=a("4XVd"),w=a("I8ug"),I=a("HyXB"),x=a("iR2W"),D=n(x),P=a("7xzZ"),S=n(P),k=a("d7ck"),L=n(k),N=a("zlAJ"),M=n(N),T=a("3NX5"),A=n(T),O=a("FvvE"),R=(n(O),a("zWMP")),j=a("Qg39"),B=a("Z5v5"),E=a("0o6b");t.default={components:{FormCell:L.default,BasicInfo:S.default,UploadFile:M.default,MatterList:A.default},data:function(){return{transCode:"",comment:"",taskId:"",listId:"",userId:"",userName:"",cancelStatus:!1,cancelStatus1:!1,isMyTask:!1,formViewUniqueId:"",fullWL:[],workFlowInfo:{},actions:[],isMine:!1,noOperation:!0,HasValRealted:!1,orderInfo:{},uploadStyle:{width:"100%",padding:"0.06rem 0.08rem"},uploadTitleStyle:{fontSize:"0.16rem",fontWeight:"bold",color:"#111"},attachment:[],orderList:"",action:{},currentWL:{},dealerConfig:[]}},computed:{noTaxAmount:function(){var e=0;return this.orderInfo.order.dataSet.forEach(function(t){e=(0,R.accAdd)(e,t.noTaxAmount)}),e},taxAmount:function(){var e=0;return this.orderInfo.order.dataSet.forEach(function(t){e=(0,R.accAdd)(e,t.taxAmount)}),e}},filters:{numberComma:D.default,toFixed:j.toFixed},methods:{getSwiper:function(){this.$router.push({path:"/related/"+this.listId,query:{transCode:this.transCode,uniqueId:this.formViewUniqueId}})},randomID:function(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return e()+e()+e()},getCurrentUser:function(){var e=this;return(0,g.currentUser)().then(function(t){var a=t.userId,n=t.nickname,i=t.userCode;e.userId=""+a,e.userName=n+"-"+i})},getListId:function(){var e=this;return(0,g.getListId)(this.transCode).then(function(t){e.formViewUniqueId=t[0].uniqueId,e.listId=t[0].listId})},isMyflow:function(){return(0,g.isMyflow)({_dc:this.randomID(),transCode:this.transCode})},getWorkFlow:function(){return(0,g.getWorkFlow)({_dc:this.randomID(),transCode:this.transCode})},workFlowInfoHandler:function(){var e=(0,_.default)({},this.orderInfo);switch(this.workFlowInfo={biStatus:e.biStatus,transCode:e.transCode},e.biStatus){case"进行中":var t="dyClass";this.workFlowInfo[t]="doing_work",this.workFlowInfo.coClass="doing_code";break;case"草稿":case"已失效":t="dyClass",this.workFlowInfo[t]="invalid_work"}},getFlowAndActions:function(){var e=this;return C.default.all([this.isMyflow(),this.getWorkFlow()]).then(function(t){var a=(0,v.default)(t,2),n=a[0],i=void 0===n?{}:n,r=a[1],s=void 0===r?{}:r,o=i.tableContent||[],l=s.tableContent||[],d=(0,v.default)(o,1),u=d[0],c=void 0===u?{}:u,f=c.isMyTask,m=void 0===f?0:f,h=(c.actions,c.taskId),p=c.viewId,C=(0,v.default)(l,1),y=C[0],_=void 0===y?{}:y,g=l[l.length-1]||{},b=["同意","不同意"];if(e.fullWL=l,e.currentWL=c,"终止"!==g.status){if(l.filter(function(e){return 1===e.isFirstNode}).every(function(t){return!b.includes(t.status)||(e.noOperation=!1,!1)}),e.actions=["agreement","disagree","transfer"],0===_.isFirstNode&&_.startUserId===e.userId&&(e.isMine=!0,e.noOperation&&e.actions.splice(e.actions.findIndex(function(e){return"disagree"===e}),1,"revoke")),e.taskId=h,e.isMyTask=1===m,!e.isMyTask)return void(e.actions=e.isMine&&e.noOperation?["revoke"]:[]);e.formViewUniqueId=p}})},submitSuccessCallback:function(e){"revoke"!==JSON.parse(e).type&&this.$emit("change",!0)},getAppExampleDetails:function(){var e=this;return(0,g.getAppExampleDetails)({transCode:this.transCode,listId:this.listId}).then(function(t){t.relevantItems.forEach(function(t){var a=e.$route.params;a.folder,a.fileName&&(e.HasValRealted=!0)})})},getCommentList:function(){var e=this;return(0,b.getPCCommentList)({relationKey:this.transCode}).then(function(t){var a=t.dataCount,n=void 0===a?0:a;e.$event.$emit("commentCount",n)})},isSubscribeByRelationKey:function(){var e=this;(0,b.isSubscribeByRelationKey)(this.transCode).then(function(t){e.$emit("is-subscribe",t)})},loadPage:function(){var e=this;return(0,m.default)(c.default.mark(function t(){var a,n,i;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.$route.query,n=a.transCode,i=a.name,n){t.next=4;break}return e.$vux.alert.show({content:"抱歉，交易号有误，请尝试刷新之后再次进入"}),t.abrupt("return");case 4:return e.transCode=n,e.$loading.show(),t.next=8,e.getCurrentUser();case 8:return t.next=10,e.getListId();case 10:return t.next=12,e.getFlowAndActions();case 12:return t.next=14,e.getAppExampleDetails();case 14:return t.next=16,e.getOrderList(n);case 16:return t.next=18,e.getFormConfig();case 18:return t.next=20,e.getCommentList();case 20:return t.next=22,e.isSubscribeByRelationKey();case 22:e.$loading.hide(),e.$emit("refresh-scroll"),wx.ready(function(){var e={title:"点击查看"+i+"详情",desc:"点击查看"+i+"详情，哈哈哈哈",imgUrl:"https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=888178039,2627708353&fm=26&gp=0.jpg"};(0,E.shareContent)(e)});case 25:case"end":return t.stop()}},t,e)}))()},getAppDetail:function(){var e=this,t=this.$route.params.listId,a=void 0===t?"":t;return(0,w.getAppDetail)(a).then(function(t){var a=(0,v.default)(t,1),n=a[0],i=void 0===n?{}:n,r=i.action;e.action=r})},getFocus:function(e){event.currentTarget.select()},saveData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.$vux.confirm.prompt("",{title:"审批意见",onConfirm:function(n){var i=e.orderInfo,r={listId:e.listId,biComment:i.biComment,biReferenceId:i.biReferenceId,formData:(0,d.default)(t),wfPara:(0,d.default)((0,_.default)({businessKey:e.transCode,createdBy:i.creator,transCode:e.transCode,result:1,taskId:e.taskId,comment:n},a))};e.$HandleLoad.show(),(0,I.saveAndCommitTask)(r).then(function(t){e.$HandleLoad.hide();var a=t.success,n=void 0!==a&&a,i=t.message,r=void 0===i?"提交失败":i;n&&(r="提交成功",e.$emit("change",!0)),e.$vux.alert.show({content:r,onHide:function(){n&&e.$router.go(0)}})})}})},getFormConfig:function(){var e=this;return(0,I.getFormConfig)(this.formViewUniqueId).then(function(t){var a=t.config,n=void 0===a?[]:a;console.log(n);var i=[],s=[],l=[],d=["dealerName_dealerDebit","drDealerLabel","address_dealerDebit","dealerDebitContactPersonName","dealerDebitContactInformation"],u=e.contactInfo;if(n.forEach(function(e){e.isMultiple?"order"!==e.name&&"outPut"!==e.name&&"inPut"!==e.name||(s=e.items):("kh"!==e.name&&"inPut"!==e.name&&"baseinfoExt"!==e.name&&"gys"!==e.name||(i=i.concat(e.items)),"ck"===e.name&&(l=e.items))}),e.judgeDealerConfig&&e.judgeDealerConfig(i),i=i.reduce(function(e,t){return t.hiddenInRun||d.includes(t.fieldCode)||(t.fieldValue=u[t.fieldCode],e.push(t)),e},[]),console.log(i),e.dealerConfig=i,s=s.reduce(function(e,t){return t.hidden||e.push(t),e},[]),(0,o.default)(e.orderList).length){var c=(0,o.default)(e.orderList).reduce(function(e,t){return[].concat((0,r.default)(e),(0,r.default)(t))},[]);console.log(c)}else e.matterList.length})}},created:function(){(0,B.register)(),this.loadPage()}}},"+WLV":function(e,t){},"+WR7":function(e,t,a){"use strict";function n(e){a("afFU")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Pqvm");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("lW8f"),o=a.n(s),l=a("Q+Bn"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-077fcde3",null);t.default=c.exports},"+X2N":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages related_apply"},[e._m(0),e._v(" "),a("div",{staticClass:"swiper-container swiper_related"},[a("div",{staticClass:"swiper-wrapper"},e._l(e.RelatedAppList,function(t,n){return a("div",{key:n,staticClass:"swiper-slide"},[a("div",{staticClass:"header vux-1px-b"},[a("div",{staticClass:"related_info"},[a("img",{staticClass:"icon",attrs:{src:t.icon}}),e._v(" "),a("div",[a("div",{staticClass:"related_name"},[e._v(e._s(t.listName))]),e._v(" "),a("div",{staticClass:"related_num"},[e._v("实例数量: "),a("span",[e._v(e._s(t.itemCount))])])])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isrelated,expression:"item.isrelated"}],staticClass:"create_order",on:{click:function(a){e.goRelation(t)}}},[e._v("创建并关联")])]),e._v(" "),a("div",{staticClass:"related_list"},e._l(t.relatedList,function(n,i){return a("div",{key:i,staticClass:"related_item vux-1px-b",on:{click:function(a){e.goDetail(t,n)}}},[a("div",[e._v(e._s(n.transCode))]),e._v(" "),a("div",{staticClass:"creator_name"},[e._v(e._s(n.creatorName)+"\n              "),a("span",[e._v("[创建人]")]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou"})])])}),0)])}),0)])])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"big_title"},[a("p",{},[e._v("相关实例")])])}],r={render:n,staticRenderFns:i};t.a=r},"+X4v":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=(a("HyXB"),a("+VRO")),l=n(o),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),m=a("6WeX"),h=n(m),v=a("3NX5"),p=n(v),C=a("sUbJ"),y=n(C),_=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:""}},components:{workFlow:f.default,RAction:u.default,PriceTotal:h.default,MatterList:p.default,MatterItem:y.default},mixins:[l.default],methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var d={};s.order;e.attachment=l;var u=s.order.dataSet,c=!0,f=!1,m=void 0;try{for(var h,v=(0,r.default)(u);!(c=(h=v.next()).done);c=!0){var p=h.value;e.count=(0,_.accAdd)(e.count,p.tdAmount),p.inventoryPic=p.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+p.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),p.transObjCode=p.inventoryCode_transObjCode,d[p.transMatchedCode]||(d[p.transMatchedCode]=[]),d[p.transMatchedCode].push(p)}}catch(e){f=!0,m=e}finally{try{!c&&v.return&&v.return()}finally{if(f)throw m}}e.orderList=d,e.orderInfo=s,e.workFlowInfoHandler()})}}}},"+XLf":function(e,t){},"+YRA":function(e,t,a){"use strict";function n(e){a("akLR")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("yQzi");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("D90O"),o=a.n(s),l=a("ZYtr"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-66e60dc6",null);t.default=c.exports},"+Yy+":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("3cXf"),i=function(e){return e&&e.__esModule?e:{default:e}}(n),r=a("1WsH");t.default={data:function(){return{jobInfo:{},jobId:""}},methods:{findData:function(){var e=this;return(0,r.getJobList)({filter:(0,i.default)([{operator:"eq",value:this.jobId,property:"id"}])}).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;n.forEach(function(e){switch(e.type){case"Y":e.type="营销类";break;case"Z":e.type="专业类";break;case"J":e.type="技术类";break;case"C":e.type="操作类";break;case"M":e.type="管理类"}switch(e.status){case 1:e.status="使用中";break;case 2:e.status="未使用";break;case 3:e.status="草稿";break;case-1:e.status="停用"}}),e.jobInfo=n[0],e.$loading.hide()}).catch(function(t){e.$loading.hide(),e.$vux.alert.show({content:t.message})})}},created:function(){this.$loading.show();var e=this.$route.query;e.id&&(this.jobId=e.id,this.findData())}}},"+c9Q":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages xmjh-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-name-list",{attrs:{"default-value":e.project},on:{"sel-item":e.selProject}}),e._v(" "),e._l(e.projectPlan,function(t,n){return a("div",{key:n,staticClass:"materiel_list project_plan",class:{"vux-1px-t":n>0}},[a("div",{staticClass:"title"},[e._v("任务计划"+e._s(n+1))]),e._v(" "),a("group",{staticClass:"SJ_group",on:{"group-title-margin-top":function(e){}}},[a("x-input",{attrs:{title:"任务名称","text-align":"right",placeholder:"请填写"},model:{value:t.taskName,callback:function(a){e.$set(t,"taskName",a)},expression:"item.taskName"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("任务名称")])])],2),e._v(" "),a("popup-picker",{attrs:{title:"任务类型",data:e.projectTypes},on:{"on-change":function(a){e.typeTask(a,t)}},model:{value:t.taskTypes,callback:function(a){e.$set(t,"taskTypes",a)},expression:"item.taskTypes"}}),e._v(" "),a("x-input",{attrs:{title:"周期天数",type:"number","text-align":"right",placeholder:"请填写"},on:{"on-blur":function(a){e.checkTime(t,"cycleDays",2)}},model:{value:t.cycleDays,callback:function(a){e.$set(t,"cycleDays",e._n(a))},expression:"item.cycleDays"}}),e._v(" "),a("x-input",{attrs:{title:"标准工时",type:"number","text-align":"right",placeholder:"请填写"},on:{"on-blur":function(a){e.checkTime(t,"planTime")}},model:{value:t.planTime,callback:function(a){e.$set(t,"planTime",e._n(a))},expression:"item.planTime"}}),e._v(" "),a("x-input",{attrs:{title:"作业费率",type:"number","text-align":"right",placeholder:"请填写"},on:{"on-blur":function(a){e.checkTime(t,"jobRate",2)}},model:{value:t.jobRate,callback:function(a){e.$set(t,"jobRate",e._n(a))},expression:"item.jobRate"}}),e._v(" "),a("cell",{attrs:{title:"预算作业成本",value:t.budgetHomeworkCost}}),e._v(" "),a("x-input",{attrs:{title:"任务说明","text-align":"right"},model:{value:t.comment,callback:function(a){e.$set(t,"comment",a)},expression:"item.comment"}}),e._v(" "),a("datetime",{attrs:{title:"截止日期"},model:{value:t.deadline,callback:function(a){e.$set(t,"deadline",a)},expression:"item.deadline"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("计划截止日期")])])],2)],1)],1)}),e._v(" "),a("div",{staticClass:"XMJH_add"},[a("div",[e._v("您还需要添加新的计划? 请点击\n          "),a("span",{on:{click:e.addPlan}},[e._v("添加")]),e._v(" "),e.projectPlan.length>1?a("em",[e._v("或")]):e._e(),e._v(" "),e.projectPlan.length>1?a("span",{on:{click:e.delatePlan}},[e._v(" 删除")]):e._e()])]),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"其他信息"}},[a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1),e._v(" "),a("upload-file",{on:{"on-upload":e.onUploadFile}})],2)]),e._v(" "),a("div",{staticClass:"btn vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"cfm_btn",on:{click:e.save}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},"+eg0":function(e,t){},"+gRi":function(e,t){},"+p9h":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"instance-item-wrapper",class:{visited:t.visited},on:{click:function(a){e.goDetail(t,n)}}},[a("div",{staticClass:"instance-summary"},[a("div",{staticClass:"instance-header"},[a("span",{staticClass:"instance_code vux-1px-l"},[e._v(e._s(t.transCode))]),e._v(" "),a("span",{staticClass:"instance_status",class:t.statusClass},[e._v(e._s(t.biStatus))])]),e._v(" "),a("div",{staticClass:"instance-top"},[a("span",{staticClass:"instance_dealer"},[e._v(e._s(t.dealerName))]),e._v(" "),a("span",{staticClass:"instance_process_status"},[e._v(e._s(t.biProcessStatus||"暂无流程"))])]),e._v(" "),a("div",{staticClass:"instance-amt-wrapper"},[a("div",{staticClass:"instance_amt"},[e._v("总支付￥"+e._s(e._f("numberComma")(t.count)))]),e._v(" "),a("div",{staticClass:"instance_count"},[e._v("共"+e._s(t.itemCount)+"笔")])])]),e._v(" "),a("div",{staticClass:"instance-detail vux-1px-t"},[e._l(t.detailItem,function(t,n){return a("div",{key:n,staticClass:"instance_detail_item"},[a("div",{staticClass:"instance_detail_code"},[e._v("入库单号: "+e._s(t.transMatchedCode))]),e._v(" "),a("div",{staticClass:"instance_detail_amt_wrapper"},[a("div",{staticClass:"instance_detail_amt_item"},[a("div",{staticClass:"instance_detail_amt"},[e._v("￥"+e._s(e._f("numberComma")(t.applicationAmount)))]),e._v(" "),a("div",{staticClass:"instance_detail_title"},[e._v("本次申请")])]),e._v(" "),a("div",{staticClass:"instance_detail_amt_item"},[a("div",{staticClass:"instance_detail_amt"},[e._v("￥"+e._s(e._f("numberComma")(t.tdAmount)))]),e._v(" "),a("div",{staticClass:"instance_detail_title"},[e._v("本次支付")])]),e._v(" "),a("div",{staticClass:"instance_detail_amt_item"},[a("div",{staticClass:"instance_detail_amt"},[e._v("￥"+e._s(e._f("numberComma")(t.differenceAmount)))]),e._v(" "),a("div",{staticClass:"instance_detail_title"},[e._v("余额")])])])])}),e._v(" "),a("div",{staticClass:"instance-bottom"},[a("div",{staticClass:"instance_bottom_item instance_handler"},[a("i",{staticClass:"icon icon-handler"}),e._v(" "),a("span",[e._v("经办人："+e._s(t.handlerName))])]),e._v(" "),a("div",{staticClass:"instance_bottom_item instance_mod_time"},[a("i",{staticClass:"icon icon-mod-time"}),e._v(" "),a("span",[e._v("修改时间："+e._s(e._f("dateFormat")(t.modTime,"YYYY-MM-DD HH:mm")))])])])],2)])}),0)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"+raq":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADVCAYAAAA4oE50AAAAAXNSR0IArs4c6QAAJYRJREFUeAHtXQd0XNWZvk+jaqtYliwbbCx3MG640MG4qIyUhBBaAmQLkN1syCFLkk07ZBc24SSkJ5slJ4TsLhA2QBJCCUiy3MJSEnC3MTa2ccXYVnGRJUsaTdnvf5r79KSZkaa8OvPfc+bc9+5775bvvW9u/z8h2DECjIDlCCiWp8gJMgIjIBAKhZTm5uZRHo+nUPH5CoM5OaMCgUB3Xl5eJx7tXLZsWZeiKKERonH0ZSaeo19PemcuTLA5Sih0DY5no7QzRCg0UyjKFJznDFP6AD7cQyFF2Yt79uH+3Z5g8I2qurptIGRwmOccc4mJ55hXkRkZWbVqVYUIBm9GdVWDj+9aEGysUSUH6c4grjcQ5+qcvLzfr1y58qhRcRsdDxPPaEQ5vggEQLbRIMOtSjB4Gwi3Ajd4Im7SBYBAAs3M/l92tvBkZYGrQeH3+wWanOoP8emeiHoYRDyv4feM4vE8XV1dTaR0jGPiOeZVpF9GwrXbvSjZPbFqNvTbROnYsaKkpESMGj1ajBo1Sv1lgWyxXAgkPNfdLc51dYlz586JM2fOiFMnT4qenp7ojyhKR1Yo9Bjarj9dXl//QfSbrA1l4lmLd0aktn79+vLenp4H8XHdDcLl6wtNtRkRbcKECaKsvFwlmf56KsfdIOPJ9nZx/Phx0d7Whu7i4FoRafehP/mUyM7+Zk1NzYeppJXqs0y8VBHk5zUEQLhsX08P1W4PIrBUu4CD0ajNLpg8WUw47zxBtZzZzufziRMg4OHDh0Xn2bODkgMBaVT0O1ODwR/NrK/vHXTRohMmnkVAp3syaFYuRhPwSVQzF+vLOmbMGDFl2jQxfvx4fbClx22treLAgQNqbahPGB//fvzuqqmvf1UfbsUxE88KlNM4DdRuyupVq74C/yH8tCkAquEumj1blI8b55jSUz9w965doqOjQ5+noJKV9d3cvLwHly9f7tdfMPOYiWcmumketzp4Egg8HR6pVEubjVHI6TNnisrKSkyvOfPz+uDIEbF3zx5BzVHpkNO3snJybsXo52EZZqbvTGTMLDHHbQgCa9asmRXw+RpBumkywjGlpWL+ggWioKBABjnW9/X2ih3bt4s2DMJoTlGOeUKhj1TX12/Rwkw6YOKZBGw6R4vlXFeHAoEX0bQso3JSzTZ9xgz157ZyHzx4UOx97z11njBclk6siLnF6/U2mVkWJp6Z6KZh3Kubmj4SDIX+ANKp0wTUtFxwySWO6sslCvupU6fElk2bRF9fn/oo/kj8IMadNXV1TyUaV7z3M/HiRYrvE6sbG2/EQshn5CAKTQssWrJEFBcXux6dLkzGb9q4UXRjQj7saOXLP9bW1f2XDDDSZ+IZiWYax7WqoeEOtCkfB+myqZi0yuTSSy8V+S7oz8X7WmiwZeOGDeJseNQTxEOrU7m3xut9JN444r2PiRcvUhl8X1NT053oBP0aEKjruEYXFopLL7vMkolwq2Gn5uYmkI+WoUkHknyltr7+h/LcCD/2gjgjYuc4XI8AarrPYZkVNbfUb6WoqEhcdvnlaUk6elk5OTliCf5USjFCKx1Gbn/Q3NT0r/LcCJ9rPCNQTNM4QLp/oY9OFq8YC5mXoHlJH2e6O9oFsRkDLrT2U+ce8NbXf0t3nvQhEy9p6NL7QfzDfxVbcb4nS0lzdIsxkEKjmJniaCvSls2bBS05kw67Ju5Dn+9n8jxZn4mXLHJp/NyqpqaHsO7yflnEsWVlYtHixer+OBmWKT5tQSLytYbJRwMuGHG5G/N8/5MKBky8VNBLw2ebGxp+iCmDL8uilWPrzkKQbrj9cfLedPWp5qPRTlrrGXYBbK6tqa2tXScDEvWZeIkilqb3Y5pAQU33c+wu+Lws4riKCrFw4UKBRcQyKGP9AHa/b3j7bW20EzVfC8i3MNl9fYxoxn5KAwUH6bLQp3tMT7rx2Ki6cNEiJl0YJg/6trRYIC+/f18vMKsI+f2/oz2IA0jGf8TEix+rtLwTH5AHpHsS/t2ygOdPnKguA8O/ugxiHwjk5uaquMhmN0Z8r+7r7U1qmoGRzeBPauPGjTntra2/BeluljBMuuACMWfuXHnKfhQEDmJT7Xu7d8srvlxFmb+iru49GRCPzzVePCil4T17GxryQLrn9KSbjD10TLqRX/aUqVP1E+y52NX3y5GfGnwHE28wHhlx9uabbxa8rygvg3QfkwWeCvMMsy8eZLVBXmI/CgIXo1Ugm5zoGy9rbmy8LcptMYOYeDGhSc8LGAwoPHvmTCM+lipZQtpLN+vCC+Up+3EgUIj1qpVTpmh3YgrmAfyRxc2nuG/UUuAD1yKwevXqEpjda8YHcp0sxMxZs8QMmGpglzgC06dPH1g+FwpdiEGqW+ONhYkXL1Iuvw+mGsqCfv9a1HRXyqKQMaJp+HjYJYcATTHoaz1gez/+1OIasGTiJYe5q54io0T+vr51+CgWU8ZpmuDiOXMGfzSuKpFzMkvEyw4vGsf0wtw1TU1aa2K4XDLxhkMnDa7BPsr52Ev3Kv6N51NxiHQ0cknGZdmljgAtGp94/vlaRPhz+1vtZJgDJt4w4Lj9Evp0k2GU6FV8DBdRWYh08+bPFxMnTXJ70RyV//N1eGKQ5WbMj44aKYNMvJEQcul19OmmoU/3Okg3g4pAQ9+XYN3lebp/Z5cWzXHZJpszhdggHHZFmB+9Xp7E8pl4sZBxcfi6xsYL0acj0l1AxciC5BWtu6yw0Yy6i+GMK+vnQRNCc4pSrR3HOGDixQDGrcEYSJnbFwpRn079EkhnjvbSOcmUuluxHS7fZdizKB3+8FbI41g+Ey8WMi4MX9vUtAgDKX/G6JqqEEIdf9o1rv8oXFgsV2SZzGJou/NDoSnU1B8u40y84dBx0bXVDQ1X+EMhmjJQ/3pVoz2wj0JadOzMR4AGrvRYQ732iuFSZeINh45LrqF5uTQgBK1IKaEs0/YVspRVAoksdtYhQBbYNBcMqiPJ2vmQg6Q28Q2Jg09tRAATtlV+6BggC+oQNll3JtLRWkJ21iJA9kY1pyjDLn5l4mlIue+AdAzQvHwOOVclVvOxO5pIR9p07KxHQI871o0x8ax/BeanCJuXN0M85LcYvVSNXJI01qUwNOsGiSzz0bEnhSHY6+YXIvPDNV4kJo4PgUn120G4J9CnU9+fqmOAmo5qPHb2IaCNalIWQiFdhy8yTzy4EomJo0PCOga/kaSjvhyZVGfS2f/aaHUQjW6Sw5ROAd6RJ1aumHixkHFg+KrGxnuG6hhQ85IGVNg5AwF9rYe5PN1oy+D8cVNzMB6OPYNpgS+hT/cjmcFM0jGQZXaDj1pOyyYM4fq1kyEHTLwhgDjxFDXd10G678q8ZaKOgSy7030SOwm7IIzdaiqXMlD6TDyJhEN9kO7b+Bf9pszeWKxEIcOqtAaTnbMQIGvTWo2nKJ3o7w1Uf0OyysQbAoiTTkG6H+NFflHmiRY60y4DzbqVvMC+IxDoA/F0rkN3HHHIxIuAxP4AkE3VMYCv6RhUQMeA9tOxjoH97ydWDs5BR13nDuqOIw6ZeBGQ2BsAspGOwa/QZtFMqk+AjsH8Sy7RhqrtzSGnHguBLh3xMKnwXqz7KJyJNxw6Fl8jAQyQ7nGQ7w6Z9PnYMT5vwQJ5yr6DEejq7NTnblji8TyeHiobj0nHADYvn9WTjnQMmHQ2vpQEkz595oz2BGq8ndpJlAMmXhRQrA5SdQxaWv6I5uWNMm3WMZBIuMPH/jvRMUC8gJKd/cZwOWfiDYeOBddIx2C/oryEceePyuRIFIN1DCQa7vBJLRatFTWzmEbYVF1dPVD9RSkC9/GigGJVkKpjcPr0K3hdS2WapGPAJtUlGu7xpUZ6OMfrRso5E28khEy6TjoGvp6eJpBOMxFAOgZsUt0kwE2MNgSN9OPHjmkpoBn5inYS44CJFwMYM4Oxw2AsbF6SqQbVpDqlRToGg+zwm5kBjttQBFpaWkRfX58aJwZV9lfX1b0+UgJMvJEQMvg6VqyPD/h8q1HTzaOoaRsJ9efYpLrBQFsY3dGjRwdSU5QnB05iHzHxYmNj+BXSMQj09a0F6TST6nPnzROkOc7OnQh0nj0r2lpb1cyrazOzsph4TnqVpGOARbTrMPSl6mJRTUdzdIMsEDspw5yXuBB4//33tdFMPPBcbW3tgXge5BovHpRSvGdtQ8N09AHWIppKiooWOS/AEjA2qZ4isDY/TitVThw/ruaCaruQojwUb5aYePEileR9sHl5kT8YJEFIVcuJdAxosfM47DRg524Edr37rlbbofvwktfr3RZviZh48SKVxH1oXs7D6OUajF5W0OO0h24hdAzYpHoSYDrskWMffija29vVXKG282dlZ/9rIllk4iWCVgL3oqZbDNKtAulUk+pki4M2sJaWliYQC9/qRARo6mD37t36rP0EK1V26ANGOmbijYRQEtdJxwD2NppAOtWkOukYkHgIm1RPAkwHPrJj+3bh6+2VOTtUNm7cg/IkXp+JFy9Scd7X3NBwXVBRXgbpVAtTqo4BxEOKIF7Izv0I7McoZismzMmFB1T+acmSJTFtq8QqMS+SjoVMEuFoXlZDirdBko7M7pH5PSZdEmA68JH2tjaxb+9efc4exoBKkz4g3uN+65vx3s33xUSAdAwCpGMQCqlGLlnHICZUrrxwBlt+Nr79tqDtP+RQ262v8Xqr4WtmxRIpGDc1E0Erxr1Ye3kTzO89DdIN6BjApHrBqBE16GPEyMFOQqAT83WbNmwYIJ0Qhz05ObclSzoqGxMvxTcM8ZA7sDr9CczjqPb2WMcgRUAd9jhNklNNpy2CVpQWkK66qqrqRCpZZeKlgB5IdxcI9xiiUPvKpGNAMllsUj0FUB306FmswyTS+Xw+NVfol53G6pQakG5Pqtlk4iWJIIwSfR6DKD9H81LtJ9MAyhKMXtIoJjv3I0B9OmpeypoOnboONGnqqxJYnTIcCjy4Mhw6Ma4N1TEogfD8YpCO5uvYuR+B06dPi00bNwp/eI8dSnQqW1Fqq+rqNhhVOq7xEkQS1p2/gYGU78jHWMdAIpEe/knYTtmyaZM2kIKarhW/aqNqOokS13gSiTj8VU1ND2Eg5X5569iyMrEIay9Zx0Ai4m6/DfN0WzdvFjrhkeOomVZW1de/a3TJmHhxIooVKT/E5PiX5e3l5eXqgmfWMZCIuNun1Shbt2wRWOrXXxBF+QA7SVZA8WfQjLlRpVSHwI2KLB3jwQCKctUVVzyC0ct/luUjHQMWD5FouN+nPXXbtm7VSIf5uQNYBbEMzcv9ZpWO+3jDIAvSZTWvWvUY/LvkbaxjIJFID/9DbO95B4ue8Y5lgfbkhkIrl9fXfyADzPC5qRkDVbwID6YMnoB/h7yFbKPMmz9fnrLvcgQ+OHJEvLtz5wDpFGVnXn5+1fLly/u3lZtYPiZeFHBJx6C9peVp/AfeJC+TjsGcuXPlKfsuR+DwoUOCdpBLByJszS0oqAbp2mSYmT4Tbwi6pGOAhv0fQDrNpDrpGLBJ9SFAufj0wP79Ys97A2I+6NO9Paqw0HvttdeesqpYvC1IhzRqulEg3Z/0pJvKOgY6hNx/+P6+fYNIhzm610tCoWorSUcoco0X/pZIxwAm1WkD63Xy8yJz6mRWnV16ILB3zx5BG1mlw8e/DpOw18Mk3yApV3ndTJ+JB3RJxwA2LxvRy75Sgs06BhKJ9PB379olDh08qBUGH34j+nQ3ok/XowVaeJDxxCMdA1hEZB0DCz86q5Oikcsjhw9ryeKjf2FSZeUn58yZ07/tQLti3UFGz+PBVEMF1getQZ+OdQys++YsTYnm6PTaBiDds6jpPg3S9W8ltzQ3A4llLPHWrl07sc/nI+vOFxIcGNkSc6BjMJF1DAa+Dhcf0YT49m3bBsln4R0/AXMNd8NPylyDkXBkZFMTpKtUSRfWMaD1lnMxMc46BkZ+WvbFRaSjdZctJwY2iYNsj4J0n4OPBo79LuOIRzoGaGOsA/qTCX7WMbD/IzQyB7TIeQt2GEgFH4obZPtJbV3dl4xMJ9W4Mop4pGOAlbBr8Y+o6RgshI5BOesYpPodOeJ52s5De+mkaXXKFP5Yv4ea7uuOyKAuExnTx2MdA91bT8NDTAepu8ZPnRq0+OTbIN2/ObG4GVHjkY4BajrWMXDiF2hAnsjW5UbYRzkDkw3Soab7Gkj3fXnuND/tazzWMXDaJ2dsfsgYEVkC6+joUCMOD57cB9L9h7EpGRtbWtd4pGMAc2ysY2DsN+OY2Mjs3gaQjuSQyRHp8L4/C7PqZHLR0S5tiUc6BqFA4AWgr5pzJluXZPOSbF+ycz8CvT09Kum6urRllgGMpNwF0j3phtKlZVMTpPsojBL9AS+AdQzc8BUmmMfu7m61eXnuXL9ID2o6f5ai3FHt9f4uwahsuz3tiEc6BhhIYR0D2z4pcxMmslHzsgfkCzsfSHcrSPeiDHCDn1bEA+luB+mexOQ46xi44etLMI+kY0Ck6w2LQqKf1B3KyroRpEtKKivB5A29PW36eKxjYOh34bjIInQMFKULAykfQ59uveMyG0eG0qLGg3Xne1DW/9R0DIqK1IEU1jGI4wtwwS0dpE03RMdA8Xjqa2tq3nBB9qNm0fXEYx2DqO81bQKj6hgIUVtVU2OYjoEdYLmaeGhe3g8dg4ckcKxjIJFID98qHQM70HJtH491DOz4XKxL00odA+tKNZCSK4nX1Nj4I/TntG0etLuATaoPvFS3Hw3VMcA83RH06VaapWNgB16u0k7Adh5VxwCk+4IEi3UMJBLp4R+HjsH2IToGkPo0VcfADuRc08cD6SJ1DM47T8xfsEA122AHeJymsQjYpWNgbCnii80VTU2QzoPRS5oYv10Wi3UMJBLp4dupY2AHgo4nHusY2PFZWJum3ToG1pa2PzVHE491DOz4JKxN0wk6BtaWuD81x2onsI6BHZ+DtWmSOXW9eAg666+PLiqqslrHwNpS96fmyBpP1THo7n4FfbqlEpTpM2aIGTNnylP2XY4AEY5qO+nwIdqmYyDzYKXvOOKRjkHQ72/CgMoVEohZF14opk6bJk/ZdzkCTtMxsANORxFvzZo1Zf6+vmbM0y2SYFw0e7aonDJFnrLvcgScqGNgB6SOmcfDrvGKgM+3BiCwjoEdX4IFaTpVx8CCokck4QjiNTc3nw/7KGvRp7uIcoglQqxjEPGq3BuAboOjdQzsQNb2pmY0HYN50DGYgFUp7NyPAJHO6ToGdqBsK/FYx8COV25dmqRjsBU6Bq2trfpEf+atr79PH5CJx7YRD3061jFI4y8umo4BuhAPQzzkG2lc7LiLZgvxQLq5YfGQCsqpx+MRixYvFmPLyuLOON/oXASi6RiAdA+CdP/u3FxbmzPLiUc1HQZSXkMxy6mo2dnZYtGSJaK0tNTaknNqpiCg6hjAEtgZ2EmRDqT7Kkj3A3nOPgYQrQThrw0NxacVZTPm6aZTujk5OWIxSFcyZoyV2eC0TEIAYp9iA4wSndXpGIB090LH4BGTknRttJZOJ5yBKqckHdV0iy+9VJSUlLgWPM74AAKqjsFbb4lO2L4MuyBI91mQ7tcygP0BBCwjnmr3MhT6lEx6LvTGmXQSDXf70XQMIJN1J0j3G3eXzLzcW0I8LAWb5vf5fi6LccHkyWL8hAnylH0XI0A6BmTduVunY4D+y+0g3e9dXCzTs24J8bD+8icoiaraUwhjs7T+kp37EYimYwDS3VJTV/eS+0tnbglMJx70DLyYOrieioE2v6BVKWiGmFsqjt10BKLpGEA85BPVdXWrTE88DRIwlQFktgGk+5nEadKkSaK4uFiesu9SBEjH4G0MpGjiIaRjkJX1ESZd/C/U1BrvZFsbaRrMouzQ1MHMWeph/LnjOx2HAM3PbRqiY4AmTJ23tvZNx2XWwRkyrcbDLvJ8mFf/miw77SDPyYWFRHauReD0qVODxEPQdTiJf+6qWiZdwu/UtBrP1939D8iNusUgv6BATK6sTDhz/IBzEIimYwCZrOoqr3ebc3LpnpyYUuORdTBAoNV202C2gQZW2LkTAdIx2Lxxo6DlYKpTlGPZodAyaNMx6ZJ8pabUeAeysj4DDfKJlKe8/HwxEYMq7NyJQEtLi9i2ZQvGyIJqAfAHquoYQCZrrztL5IxcG17jYeNjFvp2X5TFmzp1Kk8fSDBc5pOOwRDSHUAvfWk6iYfY9UoMr/FgxqFersckRVZapcLOfQh8ePSoeGfHDrxKGOTod3uyc3NXLF+58qgMYD95BAwnnggENCUfamLyZHnyL8euJzNNx8AOnA1tasIm5mz8P1ZTQWgwhUcy7XilqaVJOgY733lnoKZTlC3opy9bvnz58dRi5qf1CBha4wUDgXtl5BXjx4t8DKywcw8C0XQMcvPza0G60+4phTtyahjxsLN8NHaWf1oWm2s7iYQ7/Pf37RP79uoGKvt1DOqvueaas+4ogbtyaRjxlGDwFjQzi6j4tANh7Nix7kIig3M7VMcA/YQ1SlbWDSBdVwbDYmrRDSMeRr/ulDmdOFGdwpOn7DsYgag6Bvn5N6J52ePgbLs+a4YQj+xj9oWVfWgUk9Ra2TkfgXcxiHLkyBEto1hb9MKkyspPzpkzx6cF8oEpCBgyqunHNn+Zu/Jx4wTN37FzNgI7tm8fTDpFeSa3oOAWJp017y1l4tFKFfz+TmaXl4dJJJzp04T4tq1bBU2QS4epnydgquEONC/DizHlFfbNQiBl4mE08zpM+qiLMXPz8sQ41HjsnIkAkY50DI4fO6ZlEKR7FKS7E37/YkztCh+YiUDKfTwFlsPkoqLzIDSCF2hmfjnuJBGIpWMAQ7MZr2OQJKQpPZZSjYfNrkTcm2QOWOFHIuEsn3QMaFuPXjwEf5APs3iIfe8ppRoPRkyr0XxRBQ8KsNl1DFuEtu9NxkiZdQxiAGNzcErEw4JozUAt13Y2v8koyas6BrCPcub0wIov1HSsYxAFK6uDkm5q0i5zbP2/QWaYiSeRcIav6hjAEpgkHQgXQu/7Cywe4oz3k3SNdzAri+xlqrb6Ro8ezWb7nPE+1Vz4entV8ZBOmOELu34dg7q6X8sA9u1FIGniYZf5J2TW2Ry7RMJ+v6enR2yESfWuLm2ZZQCGZv8eUwZP2Z87zoFEIKmmJgZUPIjgozISJp5Ewl6fdAzI0KwkHZqXfSDdbTCpzqSz99VEpJ5UjYdJ86WYNFdHM8l0H1uHjsDV8oAIHQNF6UWf7lbWMbD8VcSVYFLEw6T5DXLSvKJCVVOOKzG+yRwEouoYCME6BubAbUisSREPTc2Py9THY6c5O/sQIB0D6tORMCQ5NC+7MNr8sWqvd719ueKUR0IgYeKtbmhYGBCikiImPYRS3vA6EsamXWcdA9OgNT3ihIkHVZgbMI2gZmwcmpn4hzU9k5xAJAKkY7BJb91ZiFNZHg9MXtZsjLybQ5yGQOLECwbrZSG4fyeRsNY/2d4utmzerDep3op/wGqQjk2qW/sqkk4tIeJBUnl8oK9vMUY0VXuZ5eXlSSfMDyaHAOkYbAXpaOGz6qBj4MnOXlldXb0ruRj5KTsQSIh4IJ0XAytq23JMaanAC7cjzxmbZjQdAwykrADp9mUsKC4teELMwRSC1szkDa/WvnHSMdixbZtePIR0DFYs93oPWpsTTs0IBOImHu29g+ZdjZy/Y+IZAX98cbCOQXw4uemuuIkX6O29EqQbQ4WjvXejCwvdVE7X5jWajkF2Ts5KuBOuLRRnXMRPvFBIa2aSJTF25iNAOga73n13IKF+HYMaGCVqGwjkIzciEDfxMJLplQXkZqZEwjw/QsdAiLegY+BlHQPzMLcy5rh2J6B/V455ogWUMTJYO7ZMXR9tZT4zKi3SMSCz6ppTlNdGFxdXM+k0RFx/EFeN5+/tXSGnEUpgV8XjoV1B7MxAIIqOwVo07a9fsmTJOTPS4zjtQSAu4sE0XJXMXhnXdhIKw/0IHQNFaUDz8iaQjnUMDEfb3gjjIh6yuFJmk4knkTDWj9AxUJTnJ02e/CmjTapTt6Gvr28K/kyL0G4ZBT+u7oaxpc2g2Dwess7d5QkGTweyst6vra1VTQOMuMIZm16nQvduP0GVjZUqK6qqeGG0wd8N6RgMMan+DGq6vzHKpDqUekuCfv/3ke0b0GXgDZQGv794oyODU7j3PbyDx0es8XCT1sykLUC8GyFemEe+D9iK7ViNojepDoAfh32Uu4GzYSbV8Yep+Px+6phz53zk12LaHXjfeK1KNgYoPSMSD9MIGvG4mWncOyHSkY5By4lB8+C/rPV678HLkQuEDEkwPBr6GUT2GTQ1J2DTbKUnFCpCIqORD25qGoJy9EiArx9b6TqpqVlQXLxPKuwO29Qkhq5qbGxBlOo2hKuvvVYU8oqV6AgnEEo6BrStp621VXsKCqw/Bem+qAXwQVojMOy/HfoGNHenki4PSkBMutS/BaljMIh00DFg0qWOrZtiGLapGfL7uZlp4NuMpmOA6B+AdedvGZgMR+UCBIYlHjr6K2nTKzlerZLa22Qdg9TwS7enYzY10b9D/zt0tSxwGe82l1Ak7JMFsA1DdAyw9u5e1jFIGMq0eSBmjYf+3UKUsohKStuA8vPz06bQVhaEDM2SNp207oy0VR0D9OlYx8DKF+GwtGISD5Pm18q8sgk/iURiPk2K07YeamaGHesYSCQy3I9JPOAyQDzYV2EXPwJENFoCdmyw1ngPmpe31dTWvhB/THxnuiIQk3jo3w0Qj43Wxv3+j6KW24stPb2QypIOk6W7sGbhNm9tLZvfk6BkuB+VeOjfzYZFMXX+Ljc3V5D+HbvhESCrzrvRrDytU1+lJ7AK5VdFJSX3XXXVVd3Dx8BXMwmBqMTD/N1SCQL37yQS0f3Ozk5BG1dPwAoYWgn6mw5BIusLrNajh4SPJQLRicf9O4lPTJ8UevZFIRxquB78vl9YXPww13Ix4cv4C1GJh79u7t/F+DSoKXnowAFxAoub9TVceGHzcxhA+SoGUA7EeJyDGQEVgQjirV27trKvt3cyXaX9dyw6KVSCEdGIcEP7cIQTBk9ewODJg16vlwdPCBB2IyIQQbyAz6fVdmSmPZNdH1ac0CglmdkjmeOhDrXcn7JCoQeq6+u3DL3G54zAcAhEEA/DAxrxSjOUeCdPnhQfHD6sNidpC4/eUR8O5/+L9XQ/rqqr0xm91N/Fx4zA8AhEEA/tqqvkI5lEPFpPSStNyHKzbnmXhILmBVrRpPwF+nC/gN0M2qPIjhFIGoFBxCPbHJi/u5hiI/uZZMovnR3VZq0tLWpzsh3yV0NrN7XsivIXEO5R2EB5Fju52dpXOn8QFpZtEPFCfX2XI211x0JRUZFKPgvzYllSpKZKfTeae4PFrYh0QbTT+D0V8ngeRe32TsQNHMAIpIjAYOIpypVoaqpRptvAytmODnXtJMlddWPHwFBH0wEo+ev41/nvwpKSZ3kObihCfG4kAoOIh4ivkJGnQzOTVpWQBS/6Re23obAg3D78nsR0wFNYS8nzb/IDYN9UBDTiYTKYDBtRU1N1Y1zavzt79qxquYvIRsSL5kC0kyjv77JBOIxM/iXaPRzGCJiJgEa89U1Ns5CQOnFHho1o86tbHE1qt6AJSZPctPE0qlOUDoS/6FGUZ0vLy5thFj2ycxf1QQ5kBIxHQCOeT1Eul/07pzczaalWe3u7WrORXUr9Fhw9RKjZOtFv+xORDTbLm2bW1w/s1dHfyMeMgMUIaMQD6S6TaZeUlMhDx/g0z0ZD/62wRUlD/7pd3YPyCLKdQVlegRHRPxYVFzfwIMkgePjEIQgMEE8IxxGvA3vciGhEuA6MSuoXJQ/B7zgI9yJGJJ8vHTduHTcjh6DDp45DQCXezp07c48cOqQKT1IO7WpqkrHXNtRmbeGaLVYTkvKIeba9+L2EldzPV1dX/wXEG7y2i25ixwg4FAGVeJhMno/85VIeabc57UqwytH8GvXXyLLyKUxsR109gsyAWH2o8l6D/0pWTs7LVVVVe6zKI6fDCBiNgMowWBSbIyMuNrl/R7UY9dHo1wbC+XS2SWQepA+StWBwpAFT26+UhELNV9TX08ikYxxNwaxparoaVW0tMnUR8joReS3Ev0QBjlEhs2MEhB8fAg3y0WqofcBjc0Eo9LxKPASU4YLqjLafSTUYrfZXiQaydWKeLZYD0Wj1yBYaHMF6tZexoXQDhcW63+7w5ubmj4N8z+vzoWY2vPpHH87HmYuA/IDhqwKv52ASpL9NqSjn8LGryNDoYaqODP+cRG1GZBuu+UjpUK0GbzX9ChSleanXe4zC3eCwjvOFNWvWTMcexloU5CJgOBErYArx91EAn2s8N7xEk/OIj8CP76IL38dp/EnvVTyezdMCgdXqx9HU1HQZOldvUR5ycnLE0mXLEurn0WoRIhrVbPTzR1l4LMuH77EHFH8dCTcjE6sxMLLNybWazDf7jICRCKjEo75Kc2PjdhBiLkU+rqJCLLjkEuHxRBcQJaKdIpKBbFSjjVRLIpEdKtEUZfXokpL/47k1I18hx+VGBFTiUcZBvOtBvBeIhHROfb3KKVNUmysIE2qtBrLRlppoW2noGelQgx1BXGth3m5dTl7eauxjOy6vsc8IMAJDRt6wSPqbINm3kwCGJrD/jOfWo2+zDkZ/aPSGHSPACMRAQKvx5HX097xKMPgIaqxpMizCV5RjePBVkO1VEO3PGGTYHXEPBzACjEBMBCKIR3e++eabBVii9WkQkIY/J+F3DqMyB0Cyv+L4Na7RgAI7RoARYAQYAUaAEWAEGIEREPh/Zxc3POdBaJAAAAAASUVORK5CYII="},"+s0Z":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("BGNQ"),o=n(s),l=a("z5TY"),d=n(l),u=a("iR2W"),c=n(u),f=a("jLp1"),m=a("+VRO"),h=n(m),v=a("zWMP");t.default={data:function(){return{approval:{},comment:{}}},filters:{timeSplit:function(e){return e?e.split(" ")[0]:""}},mixins:[h.default],components:{Group:d.default,Cell:o.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,f.findProjectApproval)(t).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=t.attachment,s=void 0===i?[]:i;e.approval=n.projectApproval,e.attachment=s,e.comment=n.comment,e.orderInfo=(0,r.default)({},n.baseinfo,{biStatus:"已生效"})})},numberComma:function(e){return e||0===e?(0,c.default)(e):"无"},percent:function(e){return e||0===e?(0,v.accMul)(e,100)+"%":"无"}},created:function(){}}},"+sd1":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),m=a("89pA"),h=n(m),v=a("hPJo"),p=n(v),C=a("3NX5"),y=n(C);t.default={data:function(){return{orderInfo:{},warehouseIn:{},warehouseOut:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",warehouses:[]}},mixins:[l.default],components:{workFlow:f.default,PopWarehouseList:h.default,RAction:u.default,WarehouseContent:p.default,MatterList:y.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.inPut,n=void 0===a?{}:a,i=n.dataSet,s=!0,o=!1,l=void 0;try{for(var d,u=(0,r.default)(i);!(s=(d=u.next()).done);s=!0){var c=d.value;c.inventoryPic=c.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+c.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){o=!0,l=e}finally{try{!s&&u.return&&u.return()}finally{if(o)throw l}}e.warehouseIn={type:"in",warehouseCode:n.containerCode,warehouseName:""+n.warehouseName_containerCode,warehouseAction:"入库",warehouseIcon:"icon-ruku",warehouseType:n.warehouseType_containerCode,warehouseProvince:n.warehouseProvince_containerCode,warehouseCity:n.warehouseCity_containerCode,warehouseDistrict:n.warehouseDistrict_containerCode,warehouseAddress:n.warehouseAddress_containerCode},e.warehouseOut={type:"out",warehouseCode:n.containerCodeOut,warehouseName:""+n.warehouseName_containerCodeOut,warehouseAction:"出库",warehouseIcon:"icon-chuku",warehouseType:n.warehouseType_containerCodeOut,warehouseProvince:n.warehouseProvince_containerCodeOut,warehouseCity:n.warehouseCity_containerCodeOut,warehouseDistrict:n.warehouseDistrict_containerCodeOut,warehouseAddress:n.warehouseAddress_containerCodeOut},e.orderInfo=t.formData,e.workFlowInfoHandler()})}},created:function(){}}},"+wTM":function(e,t,a){"use strict";function n(e){a("Jcf1")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("+FWj");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("pVMx"),o=a.n(s),l=a("QpJ3"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-d4615cc8",null);t.default=c.exports},"+yyE":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("a3Yh"),d=n(l),u=a("7g+Q"),c=n(u),f=a("+62G"),m=n(f),h=a("z5TY"),v=n(h),p=a("BGNQ"),C=n(p),y=a("iR2W"),_=n(y),g=a("u28h"),b=n(g),w=a("SAzG"),I=n(w),x=a("PzEQ"),D=n(x),P=a("HyXB"),S=a("fEP3"),k=a("0AQX"),L=a("bKg5"),N=n(L),M=a("7D9F"),T=n(M),A=a("89pA"),O=n(A),R=a("oxLw"),j=n(R),B=a("vl8n"),E=n(B),F=a("FlCz"),U=n(F),$=a("+WR7"),Q=n($),H=a("0o6b"),V=a("Qg39"),q=a("zWMP");t.default={directives:{TransferDom:m.default},components:{Popup:c.default,PopWorkCheckList:j.default,Group:v.default,Cell:C.default,Datetime:b.default,XInput:I.default,XTextarea:D.default,PopManagerList:T.default,RPicker:E.default,PopWarehouseList:O.default,BomList:U.default,PopBaseinfo:Q.default},data:function(){return{listId:"f9f1e0cb-7edf-43aa-b2f2-527e2525b96e",showWorkPop:!1,dealer:{},formData:{biComment:""},workInfo:{},defaultManager:{},biProcessStatus:"",scanResult:"",warehouse:{},filterParams:[{property:"warehouseType",operator:"eq",value:"加工车间仓"}],bomList:[]}},mixins:[N.default],filters:{numberComma:_.default},methods:{selWork:function(e){var t=this;e.tdQty=e.qtyBal,this.workInfo=e,(0,S.getBomWorkCheck)({transCode:e.transCode,inventoryCode:e.matCode}).then(function(e){var a=e.tableContent,n=void 0===a?[]:a;t.bomList=n,t.setBomQty()})},selManager:function(e){this.defaultManager=JSON.parse(e),this.workInfo.dealerDebit=this.defaultManager.dealerCode},checkAmt:function(e){var t=e.tdQty,a=e.qtyBal;t&&(t>a&&(e.tdQty=a),this.setBomQty())},submitOrder:function(){var e=this,t="",a=[],n=[];this.workInfo.transCode||(t="请选择工序");var i=[{key:"tdQty",msg:"请填写验收数量"}];if(t||i.every(function(a){return!!e.workInfo[a.key]||(t=a.msg,!1)}),t||this.defaultManager.dealerCode||(t="请选择验收者"),t||this.warehouse.warehouseCode||(t="请选择入库仓库"),t)return void this.$vux.alert.show({content:t});var s=this.workInfo;a.push({transMatchedCode:s.transCode,orderCode:s.orderCode,processCode:s.processCode,proPointCode:s.proPointCode,thenQtyBal:s.qtyBal,tdQty:s.tdQty,rearProPointCode:s.rearProPointCode||"",dealerDebit:this.defaultManager.dealerCode,proFlowCode:s.proFlowCode||"",transObjCode:s.matCode,tdProcessing:s.processing,skinFee:s.skinFee,wages:s.wages}),this.bomList.forEach(function(e){n.push({inventoryName_outPutMatCode:e.inventoryName,outPutMatCode:e.inventoryCode,proPointCode:s.proPointCode,transMatchedCode:s.transCode,orderCode:s.orderCode,processCode:s.processCode,parentInventoryCode:s.matCode,processProCode:s.matCode,tdProcessing:e.processing,specification_outPutMatCode:e.specification,measureUnit_outPutMatCode:e.measureUnit,containerCodeOut:e.whCode,bomType:e.bomType,bomQty:e.qty,bomSpecificLoss:e.specificLoss,tdQty:e.tdQty})}),this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=P.saveAndStartWf,i=(0,d.default)({},e.processCode,{businessKey:e.businessKey,createdBy:"",acceptor:s.dealerDebit,inWarehouseName:e.warehouse.warehouseName});e.isResubmit&&(i={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:e.formData.biComment});var l={listId:e.listId,biComment:e.formData.biComment,formData:(0,o.default)((0,r.default)({},e.formData,{handlerEntity:e.entity.dealerName,biProcessStatus:e.biProcessStatus||null,containerInWarehouseManager:e.warehouse.containerInWarehouseManager||null,order:{containerCode:e.warehouse.warehouseCode,dataSet:a},outPut:{containerCode:e.warehouse.warehouseCode,dataSet:n}})),wfPara:(0,o.default)(i)};e.isResubmit&&(t=P.saveAndCommitTask,l.biReferenceId=e.biReferenceId),e.processCode.length||(t=P.submitAndCalc,delete l.wfPara,delete l.biReferenceId),e.biReferenceId&&(l.biReferenceId=e.biReferenceId),e.saveData(t,l)}})},getFormData:function(){var e=this;return(0,k.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=t.attachment;var o=s.order,l=s.outPut,d=o.dataSet,u=void 0===d?[]:d,c=l.dataSet;e.workInfo=(0,r.default)({},u[0],{matCode:u[0].transObjCode,inventoryName:u[0].inventoryName_transObjCode,procedureName:u[0].procedureName_proPointCode,technicsName:u[0].technicsName_proFlowCode,qtyBal:u[0].thenQtyBal,transCode:u[0].transMatchedCode,processing:u[0].tdProcessing||null,wareName:o.warehouseName_containerCode,whInCode:o.containerCode,wareAddress:o.warehouseAddress_containerCode,dealerName:u[0].dealerName_dealerDebit,dealerCode:u[0].dealerDebit,dealerLabel:u[0].drDealerLabel}),e.defaultManager={dealerName:u[0].dealerName_dealerDebit,dealerCode:u[0].dealerDebit,dealerLabel:u[0].drDealerLabel},e.facility={facilityName:u[0].facilityName_facilityObjCode,facilityCode:u[0].facilityObjCode,facilityType:u[0].facilityTypebase_facilityObjCode},c.forEach(function(e){e.inventoryCode=e.outPutMatCode,e.inventoryName=e.inventoryName_outPutMatCode,e.measureUnit=e.measureUnit_outPutMatCode,e.parentInvCode=e.processProCode,e.processing=e.tdProcessing,e.qty=e.bomQty,e.whCode=e.containerCodeOut,e.specification=e.specification_outPutMatCode||"无",e.specificLoss=e.bomSpecificLoss||0}),e.bomList=c,e.warehouse={warehouseCode:o.containerCode,warehouseName:o.warehouseName_containerCode,warehouseType:o.warehouseType_containerCode,warehouseProvince:o.warehouseProvince_containerCode,warehouseCity:o.warehouseCity_containerCode,warehouseDistrict:o.warehouseDistrict_containerCode,warehouseAddress:o.warehouseAddress_containerCode},e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,r.default)({},e.handlerDefault,{biComment:s.biComment,biId:s.biId,biProcessStatus:s.biProcessStatus,creator:s.creator,modifer:s.modifer}),e.biProcessStatus=s.biProcessStatus,e.biReferenceId=s.biReferenceId,e.$loading.hide()})},scanQRCode:function(){var e=this;(0,H.scanQRCode)().then(function(t){var a=t.result,n=void 0===a?"":a;e.scanResult=n})},selWarehouse:function(e){this.warehouse=JSON.parse(e)},setBomQty:function(){var e=this.workInfo.tdQty;this.bomList=this.bomList.map(function(t){return(0,r.default)({},t,{tdQty:(0,V.toFixed)((0,q.accMul)(t.qty,e,1+t.specificLoss),2)})})}},created:function(){}}},"/3js":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"popover",staticClass:"r-popover-container",on:{click:e.showPopover}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"r-popover"},[e._t("content")],2),e._v(" "),e._t("default")],2)},i=[],r={render:n,staticRenderFns:i};t.a=r},"/5ub":function(e,t){},"/7Vt":function(e,t){},"/8Dd":function(e,t,a){"use strict";function n(e){a("+3kF")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Y+9d");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("YaA6"),o=a.n(s),l=a("6YVT"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-50bfdb7c",null);t.default=c.exports},"/8IN":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=(a("HyXB"),a("+VRO")),l=n(o),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),m=a("6WeX"),h=n(m),v=a("3NX5"),p=n(v),C=a("sUbJ"),y=n(C),_=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:""}},components:{workFlow:f.default,RAction:u.default,PriceTotal:h.default,MatterList:p.default,MatterItem:y.default},mixins:[l.default],methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var d={};s.order;e.attachment=l;var u=s.order.dataSet,c=!0,f=!1,m=void 0;try{for(var h,v=(0,r.default)(u);!(c=(h=v.next()).done);c=!0){var p=h.value;e.count=(0,_.accAdd)(e.count,p.tdAmount),p.inventoryPic=p.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+p.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),p.transObjCode=p.inventoryCode_transObjCode,d[p.transMatchedCode]||(d[p.transMatchedCode]=[]),d[p.transMatchedCode].push(p)}}catch(e){f=!0,m=e}finally{try{!c&&v.return&&v.return()}finally{if(f)throw m}}e.orderList=d,e.orderInfo=s,e.workFlowInfoHandler()})}}}},"/97J":function(e,t,a){"use strict";function n(e){a("r4Iv")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("az0b");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("zOFp"),o=a.n(s),l=a("/dBq"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-7a4a8b63",null);t.default=c.exports},"/9JJ":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("MgeX"),o=n(s),l=a("a3Yh"),d=n(l),u=a("ZLEe"),c=n(u),f=a("3cXf"),m=n(f),h=a("4YfN"),v=n(h),p=a("BGNQ"),C=n(p),y=a("z5TY"),_=n(y),g=a("SAzG"),b=n(g),w=a("kNGm"),I=n(w),x=a("PzEQ"),D=n(x),P=a("u28h"),S=n(P),k=a("jnZd"),L=n(k),N=a("iR2W"),M=n(N),T=a("HyXB"),A=a("0AQX"),O=a("bKg5"),R=n(O),j=a("ZQWM"),B=n(j),E=a("vl8n"),F=n(E),U=a("+WR7"),$=n(U),Q=a("VZtf"),H=n(Q),V=a("9cRV"),q=n(V),Y=a("hLfv"),X=n(Y),G=a("luHD"),W=n(G),z=a("lsbD"),K=n(z);a("Qg39"),a("zWMP");t.default={mixins:[R.default],components:{Cell:C.default,Group:_.default,XInput:b.default,Datetime:S.default,XTextarea:D.default,PopDealerList:B.default,PopupPicker:L.default,RPicker:F.default,PopBaseinfo:$.default,RNumber:H.default,PopMatterList:q.default,PopMatter:W.default,OpButton:K.default,DealerOtherPart:X.default},data:function(){return{dealerInfo:{},contactInfo:{},invoiceType:[["普通发票","专用发票"]],invoiceGetType:[],invoiceInfo:{ticketNumber:"",invoiceType:"",invoiceDate:"",invoiceContent:""},invoiceParams:{dealerCode:""},taxRate:.16,showInvoicePop:!1,seletedIndex:0,seletedInvoice:[],formData:{biComment:""},matterList:[],orderList:{},showMaterielPop:!1,matterParams:{},numMap:{},checkFieldList:[{key:"tdQty",message:"请填写本次收票数量"},{key:"taxRate",message:"请填写税率"}],filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"入库单",value:"transCode"}]}},filters:{numberComma:M.default,dateFormat:I.default},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],null!=this.matterParams.data.dealerCode&&(this.matterParams.data.dealerCode=this.dealerInfo.dealerCode,this.matterList=[],this.orderList={})},selContact:function(e){this.contactInfo=(0,v.default)({},e)},typeTask:function(e){this.invoiceInfo.invoiceType=e[0]},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,m.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.inventoryCode!==e.inventoryCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getMatter:function(){if(!this.dealerInfo.dealerCode)return void this.$vux.alert.show({content:"请选择供应商"});this.showMaterielPop=!this.showMaterielPop},selMatter:function(e){var t=JSON.parse(e),a={};t.forEach(function(e){e.tdQty=e.tdQty||e.qtyBal,e.taxRate=e.taxRate||.16,e.purchaseDay=(0,I.default)(e.calcTime,"YYYY-MM-DD")||e.purchaseDay,e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null,a[e.transCode]||(a[e.transCode]=[]),a[e.transCode].push(e)}),this.matterList=t,this.orderList=a},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t,a){var n=this.selItems,i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode&&e.transCode===t.transCode});if(-1!==i)return void n.splice(i,1);n.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,c.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});i>=0&&(e.$refs.matter.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this,t="",a=[];this.dealerInfo.dealerCode||(t="请选择供应商信息");var n=[{tip:"ticketNumber",msg:"请输入票号"},{tip:"invoiceType",msg:"请选择发票类型"},{tip:"invoiceDate",msg:"请选择发票日期"}];if(t||n.every(function(a){return!!e.invoiceInfo[a.tip]||(t=a.msg,!1)}),t||this.matterList.length||(t="请选择物料"),t||this.matterList.every(function(n){if(!n.tdQty&&0!==n.tdQty)return t="请填写本次收票数量",!1;n.taxRate||e.taxRate;return a.push({tdId:n.tdId||"",orderCode:n.orderCode,transMatchedCode:n.transCode,purchaseDay:n.purchaseDay,transObjCode:n.inventoryCode,tdProcessing:n.processing,assMeasureUnit:n.assMeasureUnit,assMeasureScale:n.assMeasureScale,assMeasureDescription:n.assMeasureDescription,thenTotalQtyBal:n.qty,thenLockQty:n.stockQty,thenQtyBal:n.qtyBal,tdQty:n.tdQty,assistQty:n.assistQty,price:n.price,tdAmount:n.tdAmount,taxRate:n.taxRate,noTaxPrice:n.noTaxPrice,taxAmount:n.taxAmount,noTaxAmount:n.noTaxAmount,comment:n.comment||""}),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=T.saveAndStartWf,n=(0,d.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,m.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:"",formData:(0,m.default)((0,v.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.formData.handler,modifer:e.formData.handler,order:{dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName,crDealerPaymentTerm:e.dealerInfo.paymentTerm||null,pamentDays_dealerCodeCredit:e.dealerInfo.pamentDays||null,expectedPaymentDate:e.dealerInfo.expectedPaymentDate||null,dataSet:a},dealerCreditContactPersonName:e.contactInfo.dealerName||null,dealerCreditContactInformation:e.contactInfo.dealerMobilePhone||"",invoiceDate:e.invoiceInfo.invoiceDate,ticketNumber:e.invoiceInfo.ticketNumber,invoiceType:e.invoiceInfo.invoiceType,invoiceContent:e.invoiceInfo.invoiceContent})),wfPara:(0,m.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=T.saveAndCommitTask),e.processCode.length||(t=T.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,A.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.attachment=t.attachment,e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId;var a=t.formData;e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,v.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),e.dealerInfo=(0,v.default)({},e.dealerInfo,{dealerName:a.order.dealerName_dealerCodeCredit,dealerCode:a.order.dealerCodeCredit,province:a.order.province_dealerCodeCredit,city:a.order.city_dealerCodeCredit,county:a.order.county_dealerCodeCredit,address:a.order.address_dealerCodeCredit,dealerMobilePhone:a.order.dealerMobilePhone_dealerCodeCredit,paymentTerm:a.order.crDealerPaymentTerm||"无",pamentDays:a.order.pamentDays_dealerCodeCredit,expectedPaymentDate:a.order.expectedPaymentDate,dealerLabelName:a.order.crDealerLabel});var n={};a.order.dataSet.forEach(function(t){var a=(0,v.default)({},t,{transCode:t.transMatchedCode,inventoryName:t.inventoryName_transObjCode,inventoryCode:t.transObjCode,inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),processing:t.tdProcessing,qty:t.thenTotalQtyBal,stockQty:t.thenLockQty,qtyBal:t.thenQtyBal});n[t.transMatchedCode]||(n[t.transMatchedCode]=[]),n[t.transMatchedCode].push(a),e.matterList.push(a)}),e.orderList=n,e.invoiceInfo=(0,v.default)({},e.invoiceInfo,{ticketNumber:a.ticketNumber,invoiceType:a.invoiceType,invoiceDate:(0,I.default)(a.invoiceDate,"YYYY-MM-DD"),invoiceContent:a.invoiceContent}),e.contactInfo={dealerName:a.dealerCreditContactPersonName,dealerMobilePhone:a.dealerCreditContactInformation},e.invoiceGetType.push(a.invoiceType),e.matterParams={dealerCode:a.order.dealerCodeCredit},e.$loading.hide()})},hasDraftData:function(){return!!(0,o.default)(this.dealerInfo).length&&(0,d.default)({},"ZZSSP_DATA",{invoice:{dealer:this.dealerInfo,invoiceInfo:this.invoiceInfo,contactInfo:this.contactInfo,orderList:this.orderList}})}},created:function(){var e=sessionStorage.getItem("ZZSSP_DATA");if(e){var t=JSON.parse(e);this.dealerInfo=t.invoice.dealer,this.invoiceInfo=t.invoice.invoiceInfo,this.contactInfo=t.invoice.contactInfo,this.orderList=t.invoice.orderList;var a=!0,n=!1,i=void 0;try{for(var s,l=(0,r.default)((0,o.default)(this.orderList));!(a=(s=l.next()).done);a=!0){var d=s.value,u=!0,c=!1,f=void 0;try{for(var m,h=(0,r.default)(d);!(u=(m=h.next()).done);u=!0){var v=m.value;this.matterList.push(v)}}catch(e){c=!0,f=e}finally{try{!u&&h.return&&h.return()}finally{if(c)throw f}}}}catch(e){n=!0,i=e}finally{try{!a&&l.return&&l.return()}finally{if(n)throw i}}this.matterParams={dealerCode:this.dealerInfo.dealerCodeCredit},this.invoiceGetType.push(this.invoiceInfo.invoiceType),sessionStorage.removeItem("ZZSSP_DATA")}}}},"/Fg5":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("KH7x"),o=n(s),l=a("3cXf"),d=n(l),u=a("4YfN"),c=n(u),f=a("BGNQ"),m=n(f),h=a("z5TY"),v=n(h),p=a("SAzG"),C=n(p),y=a("PzEQ"),_=n(y),g=a("0AQX"),b=a("HyXB"),w=a("QHLv"),I=a("bKg5"),x=n(I),D=a("vl8n"),P=n(D),S=a("aumL"),k=n(S),L=a("+WR7"),N=n(L),M=a("N2r1"),T=n(M),A=a("Qg39"),O=a("zWMP"),R={exptName:"",expCode:"",expSubject:"",costType:"",tdAmount:0,taxAmount:0,noTaxAmount:0};t.default={data:function(){return{listId:"080147c6-05ea-4ae7-9390-49e8e0379a11",dealerInfo:{dealerName_dealerCodeCredit:"",dealerCodeCredit:"",crDealerLabel:"",tdCreditLine:"",thenAmntBal:"",thenAlreadyAmnt:0,thenTotalAmntBal:0,differenceAmount:0},formData:{biId:"",biComment:"",biProcessStatus:""},cashInfo:{fundName_cashInCode:"",cashInCode:"",cashType_cashInCode:"",thenAmntBalCopy1:"",tdAmountCopy1:""},CostList:[(0,c.default)({},R)],biReferenceId:"",showCostPop:!1,costIndex:0,selectedCost:[],showFundPop:!1,selectedFund:[]}},components:{Cell:m.default,Group:v.default,XInput:C.default,XTextarea:_.default,RPicker:P.default,PopFundList:k.default,PopBaseinfo:N.default,PopCostList:T.default},mixins:[x.default],computed:{creatorName:function(){return this.formData.userCode},differenceAmount:function(){var e=0,t=(0,O.accSub)(this.dealerInfo.thenAmntBal,this.dealerInfo.thenAlreadyAmnt);return e=(0,O.accAdd)(t,this.dealerInfo.thenTotalAmntBal),(0,A.toFixed)(e)},tdAmount:function(){var e=this.dealerInfo,t=e.thenAlreadyAmnt,a=void 0===t?0:t,n=e.thenTotalAmntBal,i=void 0===n?0:n,r=(0,O.accSub)(a,i);return(0,A.toFixed)(r)}},watch:{creatorName:function(e){this.getEmployeeBal()},CostList:{handler:function(e){var t=0;e.forEach(function(e){e.noTaxAmount=(0,A.toFixed)((0,O.accSub)(e.tdAmount,e.taxAmount)),t=(0,O.accAdd)(t,e.tdAmount)}),this.dealerInfo.thenAlreadyAmnt=(0,A.toFixed)(t)},deep:!0},dealerInfo:{handler:function(e){this.cashInfo.tdAmountCopy1=e.thenTotalAmntBal},deep:!0},cashInfo:{handler:function(e){e.thenAmntBalCopy1&&e.tdAmountCopy1>e.thenAmntBalCopy1&&(e.tdAmountCopy1=e.thenAmntBalCopy1)},deep:!0}},methods:{getEmployeeBal:function(){var e=this,t=[{operator:"eq",value:this.formData.userCode,property:"dealerCode"}];(0,w.getEmployeeBal)((0,d.default)(t)).then(function(t){var a=t.tableContent,n=void 0===a?[]:a,i=(0,o.default)(n,1),r=i[0],s=void 0===r?{}:r;e.dealerInfo=(0,c.default)({},e.dealerInfo,{dealerName_dealerCodeCredit:s.nickname,dealerCodeCredit:s.dealerCode,crDealerLabel:s.dealerLabelName,tdCreditLine:s.tdCreditLine,thenAmntBal:s.amntBal})})},getCost:function(e,t){this.showCostPop=!0,this.costIndex=e,this.selectedCost=[t]},addCost:function(){this.CostList.push((0,c.default)({},R))},deleteCost:function(){this.CostList.pop()},selMatter:function(e){var t=e;this.CostList[this.costIndex].exptName=t.costName,this.CostList[this.costIndex].expCode=t.costCode,this.CostList[this.costIndex].expSubject=t.costSubject,this.CostList[this.costIndex].costType=t.costType,this.CostList[this.costIndex].expCause=""},submitOrder:function(){var e=this,t="",a=[];if(this.CostList.every(function(e){return e.exptName?e.tdAmount?(a.push({tdId:e.tdId||"",expCode:e.expCode,expSubject:e.expSubject,tdAmount:e.tdAmount,taxAmount:e.taxAmount,noTaxAmount:e.noTaxAmount,expCause:e.expCause}),!0):(t="请填写申请金额",!1):(t="请选择费用名称",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=b.saveAndStartWf,n=(0,c.default)({},e.formData,{handlerEntity:e.entity.dealerName,inPut:{dataSet:[(0,c.default)({},e.dealerInfo,{differenceAmount:e.differenceAmount,tdAmount:e.tdAmount,tdId:e.dealerInfo.tdId||""})]},order:{departmentName:e.formData.handlerUnitName,dataSet:a},outPut:{dataSet:[(0,c.default)({},e.cashInfo,{tdIdCopy1:e.cashInfo.tdIdCopy1||""})]}}),i={listId:e.listId,biComment:"",formData:(0,d.default)(n),wfPara:(0,d.default)((0,r.default)({},e.processCode,{businessKey:e.businessKey,createdBy:n.creator}))};e.isResubmit&&(t=b.saveAndCommitTask,i.biReferenceId=e.biReferenceId,i.wfPara=(0,d.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=b.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,g.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=o;var l=r.order,d=r.outPut,u=r.inPut,f=u.dataSet[0],m=d.dataSet[0];e.dealerInfo={dealerName_dealerCodeCredit:f.dealerName_dealerCodeCredit,dealerCodeCredit:f.dealerCodeCredit,crDealerLabel:f.crDealerLabel,tdCreditLine:f.tdCreditLine,thenAmntBal:f.thenAmntBal,thenAlreadyAmnt:f.thenAlreadyAmnt,thenTotalAmntBal:f.thenTotalAmntBal,differenceAmount:f.differenceAmount,tdAmount:f.tdAmount,tdId:f.tdId},e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,c.default)({},e.handlerDefault,{biComment:r.biComment,biId:r.biId,biProcessStatus:r.biProcessStatus,creator:r.creator,modifer:r.modifer}),e.cashInfo={fundName_cashInCode:m.fundName_cashInCode,cashInCode:m.cashInCode,cashType_cashInCode:m.cashType_cashInCode,thenAmntBalCopy1:m.thenAmntBalCopy1,tdAmountCopy1:m.tdAmountCopy1,tdIdCopy1:m.tdIdCopy1},e.CostList=[],l.dataSet.forEach(function(t){e.CostList.push({tdId:t.tdId,exptName:t.costName_expCode,expCode:t.expCode,expSubject:t.expSubject,costType:t.costType_expCode,tdAmount:t.tdAmount,taxAmount:t.taxAmount,noTaxAmount:t.noTaxAmount})}),e.biReferenceId=r.biReferenceId,e.$loading.hide()})},checkAmt:function(e){var t=e.tdAmount,a=e.taxAmount,n=this.dealerInfo,i=n.tdCreditLine,r=n.thenTotalAmntBal,s=this.cashInfo.tdAmountCopy1;t&&(e.tdAmount=Math.abs((0,A.toFixed)(t))),a&&(e.taxAmount=Math.abs((0,A.toFixed)(a))),i&&(this.dealerInfo.tdCreditLine=Math.abs((0,A.toFixed)(i))),r&&(this.dealerInfo.thenTotalAmntBal=Math.abs((0,A.toFixed)(r))),s&&(this.cashInfo.tdAmountCopy1=Math.abs((0,A.toFixed)(s)))},hasDraftData:function(){return(0,r.default)({},"BXYZF_DATA",{dealerInfo:this.dealerInfo,cashInfo:this.contactInfo,costList:this.costList,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("BXYZF_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.cashInfo=t.cashInfo,this.costList=t.costList,sessionStorage.removeItem("BXYZF_DATA")}}}},"/LmH":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"r-popup-container",class:{multipart:e.multipart},attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"r-popup-top"},[a("r-search",{attrs:{filterList:e.filterList,isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"r-popup-list",attrs:{options:e.options,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.data.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.data,function(t,n){return a("div",{key:n,staticClass:"r-popup-item box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[e._t("pop-item",null,{item:t,index:n}),e._v(" "),e.multipart?a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-circle-outline selIcon",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]):e._e(),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])],2)}),0)],1),e._v(" "),e.multipart?a("div",{staticClass:"count_mode vux-1px-t"},[a("span",{staticClass:"count_num"},[e._v(" "+e._s(e.tmpItems.length?"已选 "+e.tmpItems.length+" 个":"请选择")+" ")]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.cfmMater}},[e._v("确定")])]):e._e()])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"/MNM":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2538}},mixins:[i.default]}},"/Pa9":function(e,t,a){"use strict";function n(e){a("yhv0")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("sb2V");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("8Dfk"),o=a.n(s),l=a("8KT1"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-0d07a3df",null);t.default=c.exports},"/Pqc":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("4YfN"),i=function(e){return e&&e.__esModule?e:{default:e}}(n),r=a("53nK"),s=a("tpzc");t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="localhost"!==location.hostname?encodeURIComponent(location.href.split("#")[0]):r.redirect_uri;return(0,s.getJsApiSignature)(t).then(function(t){var a=t.signature,n=void 0===a?"":a,s=t.nonceStr,o=void 0===s?"":s,l=t.timestamp,d=void 0===l?"":l;wx.config((0,i.default)({beta:!0,debug:!1,appId:r.corpid,timestamp:d,nonceStr:o,signature:n,jsApiList:["scanQRCode","previewFile","chooseImage","previewImage","onHistoryBack","getLocalImgData","onMenuShareAppMessage","uploadImage"]},e))})}},"/QQc":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("4YfN"),o=n(s),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("6q39"),v=n(h),p=a("qE8w"),C=a("1KNX"),y=n(C),_=a("7biW"),g=n(_);t.default={name:"PopInvoiceList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},params:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:m.default,LoadMore:v.default,RScroll:y.default,MSearch:g.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],costList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},dataCount:0}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}},params:{handler:function(){this.getCostList()},deep:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){var t=!1;return this.selItems&&this.selItems.every(function(a){return e.transCode!==a.transCode||(t=!0,!1)}),t},selThis:function(e,t){var a="";if(this.selItems.every(function(t){return e.transCode!==t.transCode||(a="该出库单已选择，请选择其他",!1)}),a)return void this.$vux.alert.show({content:a});this.selItems.push(e),this.showPop=!1,this.$emit("sel-matter",e)},setDefaultValue:function(){var e=this;this.selItems=[],this.defaultValue.forEach(function(t){t.transCode&&e.selItems.push(t)})},getCostList:function(){var e=this,t=[],a=p.getBillingApplication;return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"transCode"}])),a((0,o.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.dataCount=n,e.hasNext=n>(e.page-1)*e.limit+r.length,e.costList=1===e.page?r:[].concat((0,d.default)(e.costList),(0,d.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.costList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getCostList()},onPullingUp:function(){this.page++,this.getCostList()}},created:function(){this.setDefaultValue(),this.getCostList()}}},"/Qt6":function(e,t){},"/TT8":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=(a("XAqG"),a("HyXB"),a("MjAd")),o=n(s),l=a("ak47");n(l);t.default={name:"ZPJH_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"经办人",value:"handlerName"},{name:"交易号",value:"transCode"}],listViewID:2400}},mixins:[o.default],methods:{pathChange:function(e,t,a){var n=this;if(!this.clickVisited){var i=e.transCode,s=this.$route.query.name,o=this.$route.params,l=o.folder,d=o.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,r.default)({},e));var u=a+"/"+l+"/"+d;setTimeout(function(){n.clickVisited=!1,n.$router.push({path:u,query:{name:s,transCode:i}})},200)}},goDetail:function(e,t){this.pathChange(e,t,"/detail")},goUserEdit:function(e,t){this.pathChange(e,t,"/fillform")}}}},"/TpX":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.inPut?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("warehouse-content",{attrs:{warehouse:e.warehouseIn,"warehouse-out":e.warehouseOut}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"matter-list":e.orderInfo.inPut.dataSet},scopedSlots:e._u([{key:"matterOther",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("属性: "+e._s(n.tdProcessing))]),e._v(" "),a("span",[e._v("单位: "+e._s(n.measureUnit_transObjCode))])]),e._v(" "),a("div",{staticClass:"mater_num"},[a("span",{staticClass:"num"},[e._v("\n                入库数量: "+e._s(e._f("toFixed")(n.tdQty))+"\n              ")]),e._v(" "),a("span",{staticClass:"units"},[e._v("\n                [可用库存数: "+e._s(e._f("toFixed")(n.thenQtyStock))+"]\n              ")])])])]}}])}),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},"/WcG":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"childPage"},[a("r-scroll",{staticClass:"content"},[a("div",{staticClass:"mater_baseinfo vux-1px-b"},[a("div",{staticClass:"mater_property"},[a("div",{staticClass:"each_property vux-1px-b"},[a("label",{staticClass:"required"},[e._v("工号:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.userData.userCode,expression:"userData.userCode",modifiers:{trim:!0}}],staticClass:"property_val",class:{readonly:e.codeReadOnly},attrs:{type:"text",readonly:e.codeReadOnly},domProps:{value:e.userData.userCode},on:{blur:[e.checkUserCode,function(t){e.$forceUpdate()}],input:function(t){t.target.composing||e.$set(e.userData,"userCode",t.target.value.trim())}}})]),e._v(" "),a("div",{staticClass:"each_property"},[a("label",{staticClass:"required"},[e._v("姓名:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.userData.nickname,expression:"userData.nickname",modifiers:{trim:!0}}],staticClass:"property_val",attrs:{type:"text"},domProps:{value:e.userData.nickname},on:{input:function(t){t.target.composing||e.$set(e.userData,"nickname",t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})])]),e._v(" "),a("upload-image",{attrs:{src:e.userData.photo},on:{"on-upload":e.onUpload,"on-error":e.getDefaultImg}})],1),e._v(" "),a("r-picker",{attrs:{title:"性别:",data:e.genderList,value:e.userData.gender},model:{value:e.userData.gender,callback:function(t){e.$set(e.userData,"gender",t)},expression:"userData.gender"}}),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",{staticClass:"required"},[e._v("手机:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.userData.mobile,expression:"userData.mobile",modifiers:{trim:!0}}],staticClass:"property_val",attrs:{type:"number"},domProps:{value:e.userData.mobile},on:{blur:[e.checkMobile,function(t){e.$forceUpdate()}],input:function(t){t.target.composing||e.$set(e.userData,"mobile",t.target.value.trim())}}})]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("座机:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.userData.officePhone,expression:"userData.officePhone",modifiers:{trim:!0}}],staticClass:"property_val",attrs:{type:"text"},domProps:{value:e.userData.officePhone},on:{blur:[e.checkPhone,function(t){e.$forceUpdate()}],input:function(t){t.target.composing||e.$set(e.userData,"officePhone",t.target.value.trim())}}})]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("邮箱:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.userData.email,expression:"userData.email",modifiers:{trim:!0}}],staticClass:"property_val",attrs:{type:"text"},domProps:{value:e.userData.email},on:{blur:[e.checkEmail,function(t){e.$forceUpdate()}],input:function(t){t.target.composing||e.$set(e.userData,"email",t.target.value.trim())}}})]),e._v(" "),a("r-picker",{attrs:{title:"类型:",data:e.userTypeList,value:e.userData.userType},on:{"on-change":e.userTypeChange},model:{value:e.userData.userType,callback:function(t){e.$set(e.userData,"userType",t)},expression:"userData.userType"}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showDate,expression:"showDate"}],staticClass:"each_property vux-1px-b",on:{click:e.getDate}},[a("label",{staticClass:"required"},[e._v("账户有效期:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.userData.termOfValidity))])]),e._v(" "),a("r-picker",{attrs:{title:"状态:",data:e.statusList,value:e.userData.status},model:{value:e.userData.status,callback:function(t){e.$set(e.userData,"status",t)},expression:"userData.status"}}),e._v(" "),a("pop-company-list",{attrs:{"default-value":e.company,params:e.companyParams},on:{"sel-item":e.selCompany}})],1),e._v(" "),a("div",{staticClass:"btn vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"cfm_btn",on:{click:e.save}},[e._v(e._s(this.colId?"保存":"提交"))])])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"/Z4J":function(e,t,a){"use strict";function n(e){a("EzZd")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("wn1Q");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("LZ1p"),o=a.n(s),l=a("mIwj"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-73690910",null);t.default=c.exports},"/Z5K":function(e,t,a){"use strict";function n(e){a("RwDF")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4ixO");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("vvIr"),o=a.n(s),l=a("FyOn"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-6d902a8e",null);t.default=c.exports},"/ZBz":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages fgysqk-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[e.orderList.length?[a("div",{staticClass:"title"},[e._v("汇票明细")]),e._v(" "),e._l(e.orderList,function(t,n){return a("div",{key:n,staticClass:"order-detail",class:{"vux-1px-t":0!==n}},[a("div",{staticClass:"detail-item top"},[a("span",{staticClass:"info-item"},[e._v(e._s(t.draftNumber))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"info-item"},[e._v("类型: "+e._s(t.draftType))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("承兑人: "+e._s(t.accepter))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("金额: "+e._s(e._f("numberComma")(t.tdAmount)))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"info-item"},[e._v("出票日: "+e._s(t.draftDate))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("到期日: "+e._s(t.draftDueDate))])]),e._v(" "),a("datetime",{model:{value:t.cashingDiscountDate,callback:function(a){e.$set(t,"cashingDiscountDate",a)},expression:"item.cashingDiscountDate"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("兑现贴现日")])])],2),e._v(" "),a("x-input",{attrs:{"text-align":"right",placeholder:"请填写",type:"number"},on:{"on-blur":function(a){e.checkAmt(t,n)},"on-focus":function(t){e.getFocus(t)}},model:{value:t.discount,callback:function(a){e.$set(t,"discount",e._n(a))},expression:"item.discount"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("贴息")])])],2),e._v(" "),a("cell",{attrs:{value:t.thenAmntBal}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("现后余额")])])],2),e._v(" "),a("x-input",{attrs:{title:"说明","text-align":"right",placeholder:"请填写"},model:{value:t.comment,callback:function(a){e.$set(t,"comment",a)},expression:"item.comment"}})],1)})]:a("div",{staticClass:"order-info",on:{click:function(t){e.showOrder=!0}}},[a("div",{staticClass:"title"},[e._v("汇票明细")]),e._v(" "),a("div",{staticClass:"mode required"},[e._v("请选择汇票明细")]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r-arrow"})])],2),e._v(" "),e.orderList.length?a("div",{staticClass:"handle_part vx-1px-t"},[e.orderList.length?a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多")]):e._e()]):e._e(),e._v(" "),a("pop-cash-list",{attrs:{"default-value":e.cashInfo,request:"2",required:!0},on:{"sel-item":e.selCash}},[a("template",{slot:"other"},[a("cell",{attrs:{title:"收款金额",value:e.tdAmount}})],1)],2),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"其他信息"}},[a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-money-order-list",{attrs:{show:e.showOrder,"default-value":e.orderList,request:"1","get-list-method":"getCashDiscount"},on:{"sel-item":e.selOrder},scopedSlots:e._u([{key:"amount",fn:function(t){var n=t.item;return[a("span",[e._v("金额: "+e._s(e._f("numberComma")(n.amntTbMatched)))])]}}]),model:{value:e.showOrder,callback:function(t){e.showOrder=t},expression:"showOrder"}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},"/asA":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),m=a("89pA"),h=n(m),v=a("hPJo"),p=n(v),C=a("3NX5"),y=n(C);t.default={data:function(){return{warehouseIn:{},formViewUniqueId:"064e455d-4277-473a-9e54-d9ae4b1f23be"}},mixins:[l.default],components:{workFlow:f.default,PopWarehouseList:h.default,RAction:u.default,WarehouseContent:p.default,MatterList:y.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.inPut,n=void 0===a?{}:a,i=n.dataSet,s=!0,o=!1,l=void 0;try{for(var d,u=(0,r.default)(i);!(s=(d=u.next()).done);s=!0){var c=d.value;c.inventoryPic=c.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+c.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){o=!0,l=e}finally{try{!s&&u.return&&u.return()}finally{if(o)throw l}}e.warehouseIn={warehouseCode:n.containerCode,warehouseName:n.warehouseName_containerCode,warehouseType:n.warehouseType_containerCode,warehouseProvince:n.warehouseProvince_containerCode,warehouseCity:n.warehouseCity_containerCode,warehouseDistrict:n.warehouseDistrict_containerCode,warehouseAddress:n.warehouseAddress_containerCode},e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},"/dBq":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper wlxqjh-detail-container"},[e.orderInfo&&e.orderInfo.inPut?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"materiel_list"},[e._m(0),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n){return a("div",{key:n,staticClass:"each_mater"},[a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v("加工订单号")]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]),e._v(" "),a("div",{staticClass:"order_matter"},[e._l(t,function(t,n){return[a("matter-item",{class:{"vux-1px-b":t.bom},attrs:{item:t},scopedSlots:e._u([{key:"other",fn:function(t){var n=t.item;return a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_left"},[n.promDeliTime?a("span",{staticClass:"num"},[e._v("承诺交付日期: "+e._s(n.promDeliTime))]):e._e(),e._v(" "),n.shippingTime?a("span",{staticClass:"num"},[e._v("主计划截止验收日: "+e._s(n.shippingTime))]):e._e()]),e._v(" "),a("div",{staticClass:"mater_num"},[a("span",{staticClass:"num"},[e._v("库存计划: "+e._s(e._f("toFixed")(n.lockQty)))])]),e._v(" "),a("div",{staticClass:"mater_num"},[a("span",{staticClass:"num"},[e._v("待计划余额: "+e._s(e._f("toFixed")(n.thenQtyBal)))])]),e._v(" "),a("div",{staticClass:"mater_num"},[a("span",{staticClass:"num"},[e._v("\n                      加工计划: "+e._s(e._f("toFixed")(n.processQty))+"\n                    ")]),e._v(" "),a("span",{staticClass:"get_bom",on:{click:function(t){e.checkBom(n)}}},[e._v("查看原料")])])])}}])})]})],2)])}),0)]),e._v(" "),a("div",{staticClass:"bom_list"},[a("bom-list",{attrs:{boms:e.UniqueBom}})],1),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("bom-pop",{staticClass:"bom_pop",attrs:{show:e.bomPopShow,bomInfo:e.bom,"is-edit":!1},scopedSlots:e._u([{key:"bom-left",fn:function(t){var n=t.bom;return[n.shippingTime?a("div",{staticClass:"shipping-time"},[e._v("采购交货日期: "+e._s(n.shippingTime))]):e._e()]}},{key:"number",fn:function(t){var n=t.bom;return[a("div",{staticClass:"number-part"},[a("span",{staticClass:"main-number"},[e._v("原料需求: "+e._s(n.tdQty)+e._s(n.measureUnit))]),e._v(" "),a("span",{staticClass:"number-unit"},[e._v("库存余额: "+e._s(n.qtyStock))])]),e._v(" "),a("div",{staticClass:"specific_loss"},[e._v("原料库存计划: "+e._s(n.lockQty))]),e._v(" "),a("div",{staticClass:"specific_loss"},[e._v("单位损耗率: "+e._s(n.bomSpecificLoss))])]}}]),model:{value:e.bomPopShow,callback:function(t){e.bomPopShow=t},expression:"bomPopShow"}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title"},[a("span",{staticClass:"iconfont icon-Shape"}),e._v("物料列表\n      ")])}],r={render:n,staticRenderFns:i};t.a=r},"/ePQ":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("m-search",{attrs:{filterList:e.filterList,isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.workList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.workList,function(t,n){return a("div",{key:n,staticClass:"each-work box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"work-main"},[a("div",{staticClass:"work_top"},[a("span",{staticClass:"code_name"},[e._v("工单任务号")]),e._v(" "),a("span",{staticClass:"work_code"},[e._v(e._s(t.transCode))])]),e._v(" "),a("div",{staticClass:"work_mid vux-1px-b"},[a("div",{staticClass:"product_name"},[e._v("\n                "+e._s(t.inventoryName)),a("span",{staticClass:"symbol"},[e._v("[成品]")])]),e._v(" "),a("div",{staticClass:"product_unit"},[a("span",{staticClass:"each_unit"},[e._v("成品编码: "+e._s(t.matCode))])])]),e._v(" "),a("div",{staticClass:"work_btm"},[a("div",{staticClass:"procedure_name"},[a("span",[e._v(e._s(t.procedureName))]),e._v(" "),a("span",{staticClass:"symbol"},[e._v("[工序编码: "+e._s(t.proPointCode)+"]")])]),e._v(" "),a("div",{staticClass:"procedure_name"},[a("span",[e._v(e._s(t.technicsName))]),e._v(" "),a("span",{staticClass:"symbol"},[e._v("[工艺路线编码: "+e._s(t.proFlowCode)+"]")])]),e._v(" "),a("div",{staticClass:"procedure_unit"},[a("span",{staticClass:"each_unit"},[e._v("加工订单号: "+e._s(t.processCode))])])])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1)])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"/euG":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper xsbj-detail-container"},[e.orderInfo?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("warehouse-content",{attrs:{warehouse:e.warehouse}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_content"},[e._m(0),e._v(" "),a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"工单启动号",cellContent:e.workInfo.transMatchedCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"工单派工号",cellContent:e.workInfo.orderCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"工序名称",cellContent:e.workInfo.procedureName_proPointCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"工序编码",cellContent:e.workInfo.proPointCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"可验收余额",cellContent:e.workInfo.thenQtyBal}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次验收",cellContent:e.workInfo.tdQty}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"后置工序",cellContent:e.workInfo.procedureName_rearProPointCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"验收者",cellContent:e.workInfo.dealerName_dealerDebit}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"工艺路线编码",cellContent:e.workInfo.proFlowCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"工艺路线名称",cellContent:e.workInfo.technicsName_proFlowCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"物料名称",cellContent:e.workInfo.inventoryName_transObjCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"物料编码",cellContent:e.workInfo.transObjCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"加工属性",cellContent:e.workInfo.tdProcessing}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"备注",cellContent:e.orderInfo.biComment}})],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.bomList.length,expression:"bomList.length"}],staticClass:"bom_list"},[a("bom-list",{attrs:{boms:e.bomList},scopedSlots:e._u([{key:"specification",fn:function(t){var n=t.bom;return[a("div",{directives:[{name:"show",rawName:"v-show",value:n.specification_outPutMatCode,expression:"bom.specification_outPutMatCode"}],staticClass:"content-unit"},[a("span",[e._v("型号规格: "+e._s(n.specification_outPutMatCode))])])]}},{key:"number",fn:function(t){var n=t.bom;return[a("div",{staticClass:"number-part"},[a("span",{staticClass:"main-number"},[e._v("数量: "+e._s(n.tdQty)+e._s(n.measureUnit_outPutMatCode))]),e._v(" "),a("span",{staticClass:"number-unit"},[e._v("bom数量: "+e._s(n.bomQty))]),e._v(" "),a("span",{staticClass:"number-unit"},[e._v("损耗率: "+e._s(n.bomSpecificLoss))])])]}}])})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title"},[a("span",{staticClass:"iconfont icon-mingxi1"}),e._v(" "),a("span",[e._v("工单信息")])])}],r={render:n,staticRenderFns:i};t.a=r},"/gH2":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"instance-item-wrapper",class:{visited:t.visited},on:{click:function(a){e.goDetail(t,n)}}},[a("div",{staticClass:"instance-header"},[a("span",{staticClass:"instance_code vux-1px-l"},[e._v(e._s(t.transCode))]),e._v(" "),a("span",{staticClass:"instance_status",class:t.statusClass},[e._v(e._s(t.biStatus))])]),e._v(" "),a("div",{staticClass:"instance-top"},[a("span",{staticClass:"instance_dealer"},[e._v(e._s(t.dealerName))]),e._v(" "),a("span",{staticClass:"instance_process_status"},[e._v(e._s(t.biProcessStatus||"暂无流程"))])]),e._v(" "),a("div",{staticClass:"instance-amt-wrapper"},[a("div",{staticClass:"instance_amt_title"},[e._v("预期销售额")]),e._v(" "),a("div",{staticClass:"instance_amt"},[e._v(e._s(e._f("numberComma")(t.tdAmount)))]),e._v(" "),a("div",{staticClass:"instance_amt_info"},[a("span",[e._v("销售人员："+e._s(t.salesPerson||"暂无"))]),e._v(" "),a("span",[e._v("有效期至："+e._s(e._f("dateFormat")(t.validUntil,"YYYY-MM-DD")||"暂无"))])])]),e._v(" "),a("div",{staticClass:"instance-item vux-1px-b"},[a("span",{staticClass:"instance_item_title"},[e._v("标题内容")]),e._v(" "),a("span",{staticClass:"instance_item_value"},[e._v(e._s(t.opportunityTitle))])]),e._v(" "),a("div",{staticClass:"instance-item vux-1px-b"},[a("span",{staticClass:"instance_item_title"},[e._v("分类标签")]),e._v(" "),a("span",{staticClass:"instance_item_value"},[e._v(e._s(t.categoryLabels||"暂无"))])]),e._v(" "),a("div",{staticClass:"instance-bottom"},[a("div",{staticClass:"instance_bottom_item instance_handler"},[a("i",{staticClass:"icon icon-handler"}),e._v(" "),a("span",[e._v("经办人："+e._s(t.handlerName))])]),e._v(" "),a("div",{staticClass:"instance_bottom_item instance_mod_time"},[a("i",{staticClass:"icon icon-mod-time"}),e._v(" "),a("span",[e._v("修改时间："+e._s(e._f("dateFormat")(t.modTime,"YYYY-MM-DD HH:mm")))])])])])}),0)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"/nUN":function(e,t){},"/rmV":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("49IH"),i=function(e){return e&&e.__esModule?e:{default:e}}(n),r=null,s={};s.install=function(e){if(!r){var t=e.extend(i.default);r=(new t).$mount(),document.body.appendChild(r.$el)}e.prototype.$HandleLoad={show:function(){r.show=!0},hide:function(){r.show=!1}}},t.default=s},"/ung":function(e,t){},"/zZU":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("KH7x"),o=n(s),l=a("lC5x"),d=n(l),u=a("HzJ8"),c=n(u),f=a("J0Oq"),m=n(f),h=a("HyXB"),v=a("0o6b");t.default={name:"UploadFile",props:{id:{type:String,default:"upload-file"},defaultValue:{type:Array,default:function(){return[]}},noUpload:{type:Boolean,default:!1},containStyle:{type:Object,default:function(){return{}}},titleStyle:{type:Object,default:function(){return{}}},biReferenceId:{type:String,default:""}},data:function(){return{files:[],file:null,showLoading:!1}},watch:{defaultValue:{handler:function(){this.setDefault()},immediate:!0}},methods:{chooseImage:function(){var e=this,t={count:5,defaultCameraMode:"batch"};(0,v.chooseImage)({options:t}).then(function(){var t=(0,m.default)(d.default.mark(function t(a){var n,i,r,s,o,l;return d.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=!0,i=!1,r=void 0,t.prev=3,s=(0,c.default)(a);case 5:if(n=(o=s.next()).done){t.next=12;break}return l=o.value,t.next=9,e.upload(l);case 9:n=!0,t.next=5;break;case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),i=!0,r=t.t0;case 18:t.prev=18,t.prev=19,!n&&s.return&&s.return();case 21:if(t.prev=21,!i){t.next=24;break}throw r;case 24:return t.finish(21);case 25:return t.finish(18);case 26:case"end":return t.stop()}},t,e,[[3,14,18,26],[19,,21,25]])}));return function(e){return t.apply(this,arguments)}}())},setDefault:function(){var e=this,t=[],a=(0,o.default)(this.defaultValue,1);a[0];t=this.defaultValue.map(function(t){return(0,r.default)({},t,{iconType:e.judgeFileType(t.attr1)})}),this.files=t},judgeFileType:function(e){var t="other";return[{reg:/\.(png|jpg|jpeg|gif|bmp|)$/gi,type:"image"},{reg:/\.xlsx$/gi,type:"excel"},{reg:/\.(doc|docx)$/gi,type:"word"},{reg:/\.(ppt|pptx)$/gi,type:"ppt"},{reg:/\.txt$/gi,type:"txt"}].every(function(a){return!a.reg.test(e)||(t=a.type,!1)}),t},getImgUrl:function(e){return location.origin+"/H_roleplay-si/ds/download?url="+e.attacthment},preview:function(e){var t=this;if("image"===e.iconType){var a=this.files.reduce(function(e,a){return"image"===a.iconType&&e.push(t.getImgUrl(a)),e},[]),n=this.getImgUrl(e);wx.previewImage({current:n,urls:a})}},deleteFile:function(e){var t=this;this.$vux.confirm.show({content:"确定删除？",onConfirm:function(){(0,h.deleteFile)(e.id).then(function(a){var n=a.success,i=void 0===n||n;a.message;if(i){var r=t.files.findIndex(function(t){return t.id===e.id});-1!==r&&t.files.splice(r,1)}})}})},upload:function(e){var t=this;return(0,v.uploadImage)({localId:e,biReferenceId:this.biReferenceId}).then(function(e){var a=(0,o.default)(e,1),n=a[0],i=void 0===n?{}:n;i.iconType=t.judgeFileType(i.attr1),t.files.push(i),t.$emit("on-upload",{biReferenceId:i.biReferenceId})})}},created:function(){}}},"0+Vg":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("+62G"),o=n(s),l=a("7g+Q"),d=n(l),u=a("z5TY"),c=n(u),f=a("HXPS"),m=n(f),h=a("d5Kw"),v=n(h),p=a("kNGm"),C=(n(p),a("1KNX")),y=n(C),_=a("I8ug"),g=a("d3k1"),b=n(g),w=a("Qg39");t.default={data:function(){return{scrollOptions:{click:!0},logShow:!1,pickerStatus:!1,scopeList:[{name:"表单",selected:!1},{name:"科目关系",selected:!1},{name:"报销",selected:!1},{name:"工作流",selected:!1},{name:"权限",selected:!1}],submitData:{scope:"",spendTime:1,content:""},scopeType:[],listId:"",btnIsHide:!1,clientHeight:document.documentElement.clientHeight}},directives:{TransferDom:o.default},components:{Popup:d.default,Group:c.default,Icon:m.default,XButton:v.default,RScroll:y.default},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},EditLogPop:function(){var e=this;if(this.pickerStatus=!0,this.scopeType=[],this.submitData.scope){this.submitData.scope.split(",").forEach(function(t){var a={name:t};e.scopeType.push(a)})}},showSelIcon:function(e){return-1!==this.scopeType.findIndex(function(t){return t.name===e.name})},selectType:function(e){e.selected=!e.selected;var t=this.scopeType,a=t.findIndex(function(t){return t.name===e.name});if(-1!==a)return void t.splice(a,1);t.push(e)},cfmMater:function(){var e=this;this.pickerStatus=!1,this.submitData.scope="",this.scopeType.forEach(function(t){if(e.submitData.scope.length)return void(e.submitData.scope+=","+t.name);e.submitData.scope+=t.name})},checkVal:function(e){var t=e.spendTime;t&&(e.spendTime=Math.abs((0,w.toFixed)(t)))},submitLog:function(){var e=this,t="";if([{key:"scope",message:"【更新范围】"},{key:"spendTime",message:"【耗用时间】"},{key:"content",message:"【更新内容】"}].every(function(a){return""!==e.submitData[a.key]||(t=a.message+"不能为空",!1)}),t)return void this.$vux.alert.show({content:t});(0,_.saveLog)((0,r.default)({},this.submitData,{listId:this.listId})).then(function(t){t.success&&(e.submitSuccess=!0,e.$vux.alert.show({content:"提交成功",onHide:function(){e.$router.go(-1)}}))})},getFocus:function(e){event.currentTarget.select()}},created:function(){var e=this.$route.params.listId;e&&(this.listId=e)},mounted:function(){var e=this;b.default.isAndroid&&(window.onresize=function(){e.clientHeight>document.documentElement.clientHeight?e.btnIsHide=!0:e.btnIsHide=!1})},beforeRouteLeave:function(e,t,a){e.path;this.submitSuccess&&"APPDETAIL"===e.name&&(e.meta.reload=!0),a()}}},"00yO":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("AupE"),f=n(c),m=a("BUFe"),h=n(m),v=a("bFc7"),p=n(v),C=a("3NX5"),y=n(C),_=a("zlAJ"),g=n(_),b=a("zWMP");t.default={data:function(){return{orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",attachment:[],count:0}},mixins:[u.default],components:{workFlow:f.default,RAction:h.default,contactPart:p.default,MatterList:y.default,UploadFile:g.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u=s.order,c=u.dataSet,f=!0,m=!1,h=void 0;try{for(var v,p=(0,r.default)(c);!(f=(v=p.next()).done);f=!0){var C=v.value;e.count=(0,b.accAdd)(e.count,C.tdAmount),C.inventoryPic=C.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+C.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){m=!0,h=e}finally{try{!f&&p.return&&p.return()}finally{if(m)throw h}}e.attachment=d,s.validUntil=(0,o.default)(s.validUntil,"YYYY-MM-DD"),e.orderInfo=s,e.workFlowInfoHandler()})}}}},"03IF":function(e,t,a){function n(e){return a(i(e))}function i(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var r={"./warehouse_in.png":"fzi5","./warehouse_out.png":"p/0M"};n.keys=function(){return Object.keys(r)},n.resolve=i,e.exports=n,n.id="03IF"},"03bc":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages xsbj-list-conatiner",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"09C7":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages cpxq-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart when-is-form"},[a("div",{staticClass:"wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,defaultContact:e.contactInfo},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("div",{staticClass:"materiel_list"},[a("div",{staticClass:"mater_list"},[a("div",{staticClass:"each_mater"},[a("div",{staticClass:"userInp_mode"},[a("div",{staticClass:"title"},[e._v("需求信息")]),e._v(" "),a("group",{staticClass:"XQ_group",on:{"group-title-margin-top":function(e){}}},[a("x-input",{attrs:{title:"标题","text-align":"right",placeholder:"请填写"},model:{value:e.formData.demandTitle,callback:function(t){e.$set(e.formData,"demandTitle",t)},expression:"formData.demandTitle"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("标题\n                    ")])])],2),e._v(" "),a("x-textarea",{attrs:{title:"描述",max:200},model:{value:e.formData.demandDescribe,callback:function(t){e.$set(e.formData,"demandDescribe",t)},expression:"formData.demandDescribe"}},[a("template",{slot:"label"},[a("label",{staticClass:"required",staticStyle:{width:"3em",display:"block"}},[e._v("描述")])])],2),e._v(" "),a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1)])])]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId,"contain-style":e.uploadStyle},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"cfm_btn",on:{click:e.save}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},"0AQX":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getListView=t.getAppExampleDetails=t.getSaleQuotePrice=t.currentUser=t.getSOList=t.getListId=t.isMyflow=t.getWorkFlow=void 0;var i=a("4YfN"),r=n(i),s=a("GOq4"),o=n(s),l=t.getWorkFlow=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/listTaskLogByTransCode",data:(0,r.default)({_dc:Date.now()},e)})},d=t.isMyflow=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getWorkFlowInfoByTransCode",data:e})},u=(t.getListId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return o.default.ajax({url:"/H_roleplay-si/ds/list/getFormByTransCode?transCode="+e})},t.getSOList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/formAPI/findData",data:e})}),c=t.currentUser=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return o.default.ajax({url:"/H_roleplay-si/userInfo/currentUser",_dc:e})};t.getSaleQuotePrice=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({type:"POST",contentType:"application/x-www-form-urlencoded",url:"/H_roleplay-si/ds/getSaleQuotePrice",data:e})},t.getAppExampleDetails=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/trans/getAppExampleDetails",data:e})},t.getListView=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/list/getListViews",data:e})};t.default={isMyflow:d,getSOList:u,currentUser:c,getWorkFlow:l}},"0BFY":function(e,t){},"0GX7":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vux-tab-item",class:[e.currentSelected?e.activeClass:"",{"vux-tab-selected":e.currentSelected,"vux-tab-disabled":e.disabled}],style:e.style,on:{click:e.onItemClick}},[e._t("default"),e._v(" "),void 0!==e.badgeLabel&&""!==e.badgeLabel?a("span",{staticClass:"vux-tab-item-badge",style:{background:e.badgeBackground,color:e.badgeColor}},[e._v("\n  "+e._s(e.badgeLabel))]):e._e()],2)},i=[],r={render:n,staticRenderFns:i};t.a=r},"0Hir":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"r-dropdown"},[a("ul",{staticClass:"r-dropdown-list"},e._l(e.list,function(t,n){return a("li",{key:n,staticClass:"r-dropdown-item",class:{selected:e.selItem.value===t.value},on:{click:function(a){a.stopPropagation(),e.dropItemClick(t)}}},[a("span",[e._v(e._s(t.name))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.selItem.value===t.value,expression:"selItem.value === item.value"}],staticClass:"icon-check icon-selected"})])}),0)])},i=[],r={render:n,staticRenderFns:i};t.a=r},"0LX9":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("a3Yh"),o=n(s),l=a("3cXf"),d=n(l),u=a("KH7x"),c=n(u),f=a("Q+Ik"),m=n(f),h=a("4YfN"),v=n(h),p=a("z5TY"),C=n(p),y=a("SAzG"),_=n(y),g=a("PzEQ"),b=n(g),w=a("jnZd"),I=n(w),x=a("vl8n"),D=n(x),P=a("+WR7"),S=n(P),k=a("y8YJ"),L=n(k),N=a("HyXB"),M=a("0AQX"),T=a("bKg5"),A=n(T);t.default={name:"ApplyCPFBForm",data:function(){return{listId:"eb8a01a3-7a74-439b-bc44-8d58cbfa6166",formViewUniqueId:"b018ef18-f0d1-41a8-985e-29de19e6b705",formData:{biId:"",biComment:"",launchType:"",launchTitle:"",launchDescribe:"",biProcessStatus:""},biReferenceId:"",typeList:[],selectedType:[],launchTypeList:[],dealerInfo:{},contactInfo:{},uploadStyle:{}}},mixins:[A.default],components:{Group:C.default,XInput:_.default,XTextarea:b.default,PopupPicker:I.default,RPicker:D.default,PopBaseinfo:S.default,PopDealerList:L.default},methods:{selContact:function(e){this.contactInfo=(0,v.default)({},e)},selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],this.formData.launchDealerCode=this.dealerInfo.dealerCode},isSelectType:function(e){this.formData.launchType=e[0]},save:function(){var e=this,t={launchDealerCode:"客户",launchTitle:"标题",launchType:"类型",launchDescribe:"描述"};for(var a in this.formData)"string"==typeof this.formData[a]&&this.formData[a].indexOf(" ")>=0&&(this.formData[a]=this.formData[a].replace(/\s/g,""));var n="";if(!n&&(0,m.default)(t).every(function(t){var a=(0,c.default)(t,2),i=a[0],r=a[1];return!!e.formData[i]||(n=r+"不能为空",!1)}),n)return void this.$vux.alert.show({content:n});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=e.formData,a={launchDealerCode:e.dealerInfo.dealerCode,address_launchDealerCode:e.dealerInfo.address,launchDealerLabel:e.dealerInfo.dealerLabelName,dealerName_launchDealerCode:e.dealerInfo.dealerName},n={dealerDebitContactPersonName:e.contactInfo.dealerName,dealerDebitContactInformation:e.contactInfo.dealerMobilePhone},i=e.processCode.length?N.saveAndStartWf:N.submitAndCalc,r={listId:e.listId,biComment:"",formData:(0,d.default)((0,v.default)({handlerEntity:e.entity.dealerName},t,a,n)),wfPara:(0,d.default)((0,o.default)({},e.processCode,{businessKey:e.businessKey,createdBy:t.creator}))};e.transCode&&(i=e.processCode.length?N.saveAndCommitTask:N.updateData,r.biReferenceId=e.biReferenceId,r.wfPara=(0,d.default)({businessKey:e.transCode,createdBy:t.creator,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(i,r)}})},getFormData:function(){var e=this;return(0,M.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.biReferenceId,o=void 0===s?"":s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=t.attachment,e.biReferenceId=o,e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,v.default)({},e.formData,r,e.handlerDefault),e.$loading.hide()})},getProductType:function(){var e=this;return(0,N.getDictByType)("productRelease").then(function(t){var a=t.tableContent,n=void 0===a?[]:a,i=[],s=!0,o=!1,l=void 0;try{for(var d,u=(0,r.default)(n);!(s=(d=u.next()).done);s=!0){var c=d.value;i.push(c.name)}}catch(e){o=!0,l=e}finally{try{!s&&u.return&&u.return()}finally{if(o)throw l}}e.launchTypeList.push(i)})},hasDraftData:function(){var e=["biProcessStatus","launchTitle","launchDescribe","launchType"],t=this.formData,a=!1;if(e.every(function(e){return!t[e]||(a=!0,!1)},!0),a)return(0,o.default)({},"CPFB_DATA",{formData:this.formData,dealerInfo:this.dealerInfo,contactInfo:this.contactInfo,selectedType:this.selectedType})}},created:function(){var e=sessionStorage.getItem("CPFB_DATA");e&&(this.formData=JSON.parse(e).formData,this.dealerInfo=JSON.parse(e).dealerInfo,this.contactInfo=JSON.parse(e).contactInfo,this.selectedType=JSON.parse(e).selectedType,sessionStorage.removeItem("CPFB_DATA")),this.getProductType()}}},"0Nk0":function(e,t,a){"use strict";function n(e){a("8i7U")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("zsBr");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("bHLN"),o=a.n(s),l=a("/LmH"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-66570b7d",null);t.default=c.exports},"0O+m":function(e,t){},"0QVE":function(e,t){},"0T3k":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("J0Oq"),o=n(s),l=a("3cXf"),d=n(l),u=a("KH7x"),c=n(u),f=a("Q+Ik"),m=n(f),h=a("4YfN"),v=n(h),p=a("ZLEe"),C=n(p),y=a("HzJ8"),_=n(y),g=a("+62G"),b=n(g),w=a("7g+Q"),I=n(w),x=a("z5TY"),D=n(x),P=a("SAzG"),S=n(P),k=a("jnZd"),L=n(k),N=a("BGNQ"),M=n(N),T=a("vl8n"),A=n(T),O=a("5gKc"),R=n(O),j=a("1KNX"),B=n(j),E=a("RbKA"),F=n(E),U=a("w5TH"),$=n(U),Q=a("y8YJ"),H=n(Q),V=a("PKHo"),q=n(V),Y=a("I3vJ"),X=a("HyXB"),G=a("Qg39");t.default={data:function(){return{listId:"78a798f8-0f3a-4646-aa8b-d5bb1fada28c",biReferenceId:"",MatPic:"",picShow:!1,baseinfo:{handler:"",handlerName:"",handlerArea:"",handlerAreaName:"",handlerUnit:"",handlerUnitName:"",handlerRole:"",handlerRoleName:"",activeTime:"",comment:""},inventory:{inventoryCode:"",inventoryName:"",processing:"",inventoryType:"",inventorySubclass:"",measureUnit:"",specification:"",material:"",inventoryColor:"",keepingDays:1,safeStock:0,nearKeepingDays:1,inventoryStatus:"",inventoryPic:"",comment:"",technicsCode:"",leadTime:"",procedureName:"",procedureCode:"",moq:""},transCode:"",hasDefault:!1,imgFileObj:{},imgFile:null,codeReadOnly:!1,submitSuccess:!1,inventoryStatus:"使用中",scrollOptions:{click:!0},matterConfig:[],matterDuplicateConfig:[],matterDuplicateData:{},viewId:""}},computed:{nearKeepingDays:function(){var e=this.inventory.keepingDays;return e||0===e?e>=365?45:e>=183?20:e>=90?15:e>=30?10:e>=10?2:1:0},leadTimeTitle:function(){var e=this.inventory.processing,t=["原料","商品"],a=["半成品","成品","模具"];return t.includes(e)?"采购提前期":a.includes(e)?"加工提前期":""},inventoryProcessing:function(){return this.inventory.processing},inventoryType:function(){return this.inventory.inventoryType},MoreUnit:function(){return this.matterDuplicateData.invMoreUnit}},watch:{inventoryProcessing:function(e){var t=this;if(!this.hasDefault){var a="",n="",i=!0,r=!1,s=void 0;try{for(var o,l=(0,_.default)(this.matterConfig);!(i=(o=l.next()).done);i=!0){var d=o.value;if("break"===function(i){if("processing"===i.fieldCode){var r=!0,s=!1,o=void 0;try{for(var l,d=(0,_.default)(i.remoteData);!(r=(l=d.next()).done);r=!0){var u=l.value;if(u.name===e){a=u.id,n=u.type;break}}}catch(e){s=!0,o=e}finally{try{!r&&d.return&&d.return()}finally{if(s)throw o}}}if("multipleAccess"===i.fieldCode&&(i.requestParams.data.sType=t.inventory.processing,console.log(""),(0,X.requestData)(i.requestParams).then(function(e){var a=e.tableContent,n=void 0===a?[]:a;n.length?(n.forEach(function(e){e.name=e.sName,e.value=e.sName}),t.inventory.multipleAccess=n[0].name):t.inventory.multipleAccess="",i.remoteData=n})),"inventoryType"===i.fieldCode)return(0,C.default)(i.requestParams.data).forEach(function(e){"parentId"===e?i.requestParams.data[e]=a:"value"===e&&(i.requestParams.data[e]=n)}),(0,X.requestData)(i.requestParams).then(function(e){null!=e.tableContent?(e.tableContent.length?(e.tableContent.forEach(function(e){e.originValue=e.value,e.value=e.name}),t.inventory.inventoryType=e.tableContent[0].name):t.inventory.inventoryType="",i.remoteData=e.tableContent):(e.length?(e.forEach(function(e){e.originValue=e.value,e.value=e.name}),t.inventory.inventoryType=e[0].name):t.inventory.inventoryType="",i.remoteData=e)}),"break"}(d))break}}catch(e){r=!0,s=e}finally{try{!i&&l.return&&l.return()}finally{if(r)throw s}}}},inventoryType:function(e){var t=this;if(!this.hasDefault){var a="",n="",i=!0,r=!1,s=void 0;try{for(var o,l=(0,_.default)(this.matterConfig);!(i=(o=l.next()).done);i=!0){var d=o.value;if("break"===function(i){if("inventoryType"===i.fieldCode){var r=!0,s=!1,o=void 0;try{for(var l,d=(0,_.default)(i.remoteData);!(r=(l=d.next()).done);r=!0){var u=l.value;if(u.name===e){a=u.id,n=u.type;break}}}catch(e){s=!0,o=e}finally{try{!r&&d.return&&d.return()}finally{if(s)throw o}}}if("inventorySubclass"===i.fieldCode)return(0,C.default)(i.requestParams.data).forEach(function(e){"parentId"===e?i.requestParams.data[e]=TypeParentId:"value"===e&&(i.requestParams.data[e]=n)}),(0,X.requestData)(i.requestParams).then(function(e){null!=e.tableContent?(e.tableContent.length?(e.tableContent.forEach(function(e){e.originValue=e.value,e.value=e.name}),t.inventory.inventorySubclass=e.tableContent[0].name):t.inventory.inventorySubclass="",i.remoteData=e.tableContent):(e.length?(e.forEach(function(e){e.originValue=e.value,e.value=e.name}),t.inventory.inventorySubclass=e[0].name):t.inventory.inventorySubclass="",i.remoteData=e)}),"break"}(d))break}}catch(e){r=!0,s=e}finally{try{!i&&l.return&&l.return()}finally{if(r)throw s}}}},MoreUnit:{handler:function(e){var t=this;e&&e.length&&e.forEach(function(e){if(t.inventory.measureUnit&&e.invSubUnitName&&e.invSubUnitMulti)return void(e.comment=""+e.invSubUnitMulti+t.inventory.measureUnit+"/"+e.invSubUnitName)})},deep:!0}},directives:{TransferDom:b.default},mixins:[q.default],components:{Popup:I.default,Group:D.default,RPicker:A.default,UploadImage:R.default,XInput:S.default,PopupPicker:L.default,RScroll:B.default,Cell:M.default,PopTechnicsList:F.default,PopProcedureList:$.default,PopDealerList:H.default},methods:{onUpload:function(e){console.log(e),this.inventory.inventoryPic=e.src},checkAmt:function(e){var t=e.invSubUnitMulti,a=e.invCompQty;t?e.invSubUnitMulti=Math.abs((0,G.toFixed)(t)):a&&(e.invCompQty=Math.abs((0,G.toFixed)(a)))},selTechnics:function(e){this.inventory=(0,v.default)({},this.inventory,{technicsName:e.technicsName,technicsCode:e.technicsCode})},save:function(){var e=this,t={inventoryCode:"物料编码",inventoryName:"物料名称",processing:"物料属性",measureUnit:"主计量单位"};for(var a in this.inventory)"string"==typeof this.inventory[a]&&this.inventory[a].indexOf(" ")>=0&&(this.inventory[a]=this.inventory[a].replace(/\s/g,""));switch(this.inventoryStatus){case"使用中":this.inventory.inventoryStatus=1;break;case"未使用":this.inventory.inventoryStatus=2;break;case"草稿":this.inventory.inventoryStatus=0;break;case"停用":this.inventory.inventoryStatus=-1}this.inventory.status&&delete this.inventory.status;var n=Y.save,i="";if((0,m.default)(t).every(function(t){var a=(0,c.default)(t,2),n=a[0],r=a[1];return!!e.inventory[n]||(i=r+"不能为空",!1)}),!i&&(0,C.default)(this.matterDuplicateData).length&&(0,C.default)(this.matterDuplicateData).forEach(function(t){if(e.matterDuplicateData[t].length<=0)return!1;e.matterDuplicateConfig.forEach(function(a){a.name===t&&a.items.forEach(function(a){a.hidden||e.matterDuplicateData[t].forEach(function(e){if(!a.allowBlank&&!e[a.fieldCode])return i=a.text+"不能为空",!1})})})}),i)return void this.$vux.alert.show({content:i});var r={baseinfo:this.baseinfo,inventory:(0,v.default)({},this.inventory,{nearKeepingDays:this.nearKeepingDays,leadTime:this.leadTimeTitle?this.inventory.leadTime:""})};this.matterDuplicateConfig.forEach(function(t){e.matterDuplicateData[t.name].length&&(r[t.name]=e.matterDuplicateData[t.name])});var s={listId:this.listId,formData:r};this.transCode&&(n=Y.update),console.log(s),this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$loading.show(),n(s).then(function(t){e.$loading.hide();var a=t.success,i=void 0!==a&&a,r=t.message,s=void 0===r?"提交失败":r;i&&(s=n===Y.update?"修改成功":"提交成功",e.submitSuccess=!0),e.$vux.alert.show({content:s,onHide:function(){i&&e.$router.go(-1)}})}).catch(function(t){e.$loading.hide()})}})},findData:function(){var e=this;return(0,Y.findData)(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=t.attachment,r=void 0===i?[]:i;e.matterDuplicateConfig.forEach(function(t){n[t.name].length&&(e.matterDuplicateData[t.name]=n[t.name])});var s=n.baseinfo,o=void 0===s?{}:s,l=n.inventory,d=void 0===l?{}:l;switch(e.hasDefault=!0,d.inventoryStatus){case 1:e.inventoryStatus="使用中";break;case 2:e.inventoryStatus="未使用";break;case 0:e.inventoryStatus="草稿";break;case-1:e.inventoryStatus="停用"}e.baseinfo=(0,v.default)({},e.baseinfo,o),e.inventory=(0,v.default)({},e.inventory,d),e.inventory.inventoryPic&&(e.picShow=!0,e.MatPic="/H_roleplay-si/ds/download?url="+e.inventory.inventoryPic+"&width=400&height=400");var u=r.filter(function(t){return t.attacthment===e.inventory.inventoryPic}),f=(0,c.default)(u,1),m=f[0],h=void 0===m?{}:m;e.imgFileObj=h})},getBaseInfoData:function(){var e=this;return(0,X.getBaseInfoDataBase)().then(function(t){e.baseinfo=(0,v.default)({},e.baseinfo,t,{activeTime:e.changeDate(new Date,!0)})})},getDefaultImg:function(){this.MatPic=a("CcG0")},addMoreUnit:function(e){var t={};e.items.forEach(function(e){e.hidden||(t[e.fieldCode]="")}),this.matterDuplicateData[e.name].push(t)},deleteMoreUnit:function(e){this.matterDuplicateData[e.name].pop()},validateData:function(e,t){var a="";return e.every(function(e){return t.every(function(t){return!!e[t.key]||(a=t.message+"不能为空",!1)}),!!a}),a},selProcedure:function(e){this.inventory=(0,v.default)({},this.inventory,{procedureName:e.procedureName,procedureCode:e.procedureCode})},handlerParams:function(e){var t=e.dataSource.data.url,a=e.dataSource.data.params,n=(0,C.default)(a),i={url:t};if(n.length){var r={};n.forEach(function(e){r[e]="text"===a[e].type?a[e].value:""}),i.data=r}return i},getFormViews:function(){var e=this;return(0,X.getFormViews)(this.listId).then(function(t){var a=!0,n=!1,i=void 0;try{for(var r,s=(0,_.default)(t);!(a=(r=s.next()).done);a=!0){var o=r.value;if("submit"===o.viewType){e.viewId=o.uniqueId;break}}}catch(e){n=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}})},getFormConfig:function(){var e=this;(0,X.getFormConfig)(this.viewId).then(function(t){var a=t.config,n=void 0===a?[]:a,i=[],r=[];n.forEach(function(e){e.isMultiple?e.hiddenInRun||"r2Fileupload"===e.xtype||"invMoreUnit"!==e.name||r.push(JSON.parse((0,d.default)(e))):i=JSON.parse((0,d.default)(e.items))}),i.forEach(function(t){t.hiddenInRun||("r2Combo"!==t.xtype&&"r2MultiSelector"!==t.xtype||!t.dataSource||"remoteData"!==t.dataSource.type||(t.requestParams=e.handlerParams(t),(0,X.requestData)(e.handlerParams(t)).then(function(a){a.tableContent?(a.tableContent.forEach(function(e){if(e.technicsName)return e.value=e.technicsName,void(e.name=e.technicsName);e.value=e.name}),"processing"===t.fieldCode&&(e.$route.query.transCode||(e.inventory.processing=e.$route.query.matterType?e.$route.query.matterType:"")),e.$set(t,"remoteData",a.tableContent)):(a.forEach(function(e){e.value=e.name}),e.$set(t,"remoteData",a))})),"inventoryCode"!==t.fieldCode&&"inventoryName"!==t.fieldCode&&"inventoryPic"!==t.fieldCode&&e.matterConfig.push(t))}),r.forEach(function(t){switch(t.name){case"invMoreUnit":t.title="辅助计量";break;case"invNetWeight":t.title="净含量";break;case"invDealerRel":t.title="客户";break;case"invCustomerRel":t.title="供应商"}t.items.forEach(function(t,a){t.hidden||"r2Combo"===t.editorType&&t.dataSource&&"remoteData"===t.dataSource.type&&(0,X.requestData)(e.handlerParams(t)).then(function(a){a.tableContent?(a.tableContent.forEach(function(e){e.value=e.name}),e.$set(t,"remoteData",a.tableContent)):(a.forEach(function(e){e.value=e.name}),e.$set(t,"remoteData",a))})}),e.$set(e.matterDuplicateData,t.name,[])}),e.matterDuplicateConfig=r})}},beforeRouteLeave:function(e,t,a){var n=e.path;this.submitSuccess&&"/materlist"===n&&(e.meta.reload=!0),a()},created:function(){var e=this;this.$loading.show();var t=this.$route.query.transCode,a=void 0===t?"":t;if(this.transCode=a,a)return void(0,o.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getFormViews();case 2:return t.next=4,e.getFormConfig();case 4:return t.next=6,e.findData();case 6:e.hasDefault=!1,e.codeReadOnly=!0,e.$loading.hide();case 9:case"end":return t.stop()}},t,e)}))();(0,o.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.getBaseInfoData(),t.next=3,e.getFormViews();case 3:return t.next=5,e.getFormConfig();case 5:e.$loading.hide();case 6:case"end":return t.stop()}},t,e)}))()},beforeRouteEnter:function(e,t,a){e.meta.title="新增物料",e.query.transCode&&(e.meta.title="编辑物料"),a()}}},"0UVS":function(e,t,a){"use strict";function n(e){a("6cyL")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("LIUC");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("0+Vg"),o=a.n(s),l=a("8OHO"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-6de09f0e",null);t.default=c.exports},"0V3y":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=(a("HyXB"),a("MjAd")),o=n(s),l=a("zWMP");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"项目名称",value:"projectName_project"}],listViewID:2301}},mixins:[o.default],filters:{percent:function(e){return e||0===e?(0,l.accMul)(e,100)+"%":"无"}},methods:{goDetail:function(e,t){var a=this;if(!this.clickVisited){var n=e.transCode,i=this.$route.query.name,s=this.$route.params,o=s.folder,l=s.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,r.default)({},e)),setTimeout(function(){a.clickVisited=!1,a.$router.push({path:"/detail/"+o+"/"+l,query:{name:i,transCode:n}})},200)}}}}},"0VBY":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2299,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_outPutMatCode"}]}},mixins:[i.default],methods:{},created:function(){}}},"0WWG":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("HXPS"),o=n(s);t.default={name:"RDropdown",props:{list:{type:Array,default:function(){return[]}}},components:{Icon:o.default},data:function(){return{selItem:{}}},watch:{list:{handler:function(){this.selItem=this.list[0],this.$emit("on-selected",this.selItem)},immediate:!0}},methods:{dropItemClick:function(e){this.selItem=(0,r.default)({},e),this.$emit("on-selected",this.selItem)}},created:function(){}}},"0XI/":function(e,t,a){"use strict";function n(e){a("iqBt")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("0VBY");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("OwgJ"),o=a.n(s),l=a("Qp4/"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-2e5c000a",null);t.default=c.exports},"0aRt":function(e,t){},"0cVs":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pop_dealer_list",class:{"dealer-list-2":"2"===e.mode}},[a("div",{staticClass:"dealer-info",on:{click:function(t){e.showDealerPop=!e.showDealerPop}}},["2"===e.mode?[a("div",{staticClass:"title",class:{required:e.required}},[e._v(e._s(e.dealerLabel)+"名称")]),e._v(" "),a("div",{staticClass:"mode"},[e._v(e._s(e.dealerInfo.dealerName||e.placeholder))]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r-arrow"})]:[e.dealerInfo.dealerCode?a("div",{staticClass:"user-content"},[a("div",{staticClass:"user-info"},[a("div",{staticClass:"user-name"},[e.dealerInfo.dealerLabelName?a("span",{staticClass:"user-tips"},[e._v(e._s(e.dealerInfo.dealerLabelName))]):e._e(),e._v(" "),a("span",[e._v(e._s(e.dealerInfo.dealerName))])])]),e._v(" "),a("div",{staticClass:"cp-info"},[a("span",{staticClass:"iconfont icon-icon-test"}),e._v(" "),e.noAddress?a("span",{staticClass:"cp-ads"},[e._v("暂无联系地址")]):a("span",{staticClass:"cp-ads"},[e._v("\n          "+e._s(e.dealerInfo.province)+e._s(e.dealerInfo.city)+e._s(e.dealerInfo.county)+e._s(e.dealerInfo.address)+"\n        ")])])]):a("div",{staticClass:"user-content"},[a("div",{staticClass:"title"},[e._v(e._s(e.dealerTitle)+"列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择"+e._s(e.dealerTitle))])]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r-arrow"})]],2),e._v(" "),e.noContact?e._e():a("pop-contact-list",{attrs:{"dealer-info":e.dealerInfo,"default-value":e.contactInfo},on:{"sel-contact":e.selContact}}),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showDealerPop,callback:function(t){e.showDealerPop=t},expression:"showDealerPop"}},[a("div",{staticClass:"trade_pop"},[a("d-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("div",{ref:"dealer",staticClass:"mater_list"},[a("div",{staticClass:"mater_list_wrapper"},[e._l(e.dealerList,function(t,n){return a("div",{key:n,staticClass:"each_mater box_sd",on:{click:function(a){a.stopPropagation(),e.selDealer(t,n)}}},[a("div",{staticClass:"mater_main "},[a("div",{staticClass:"mater_info"},[a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline ",staticStyle:{display:"inline-block"}},[a("span",{staticClass:"dealer"},[e._v(e._s(t.dealerName))])])]),e._v(" "),t.dealerMobilePhone||t.dealerPhone?a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline name",staticStyle:{display:"inline-block"}},[t.dealerMobilePhone?a("span",{staticStyle:{marginRight:".04rem"}},[e._v(e._s(t.dealerMobilePhone))]):e._e(),e._v(" "),t.dealerPhone?a("span",[e._v(e._s(t.dealerPhone))]):e._e()])]):e._e(),e._v(" "),a("div",{staticClass:"withoutColor"},[a("span",[e._v(e._s(t.province)+e._s(t.city)+e._s(t.county)+e._s(t.address))])])])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),e._v(" "),a("load-more",{directives:[{name:"show",rawName:"v-show",value:e.hasNext,expression:"hasNext"}],attrs:{slot:"loadmore",tip:"加载中"},slot:"loadmore"}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.dealerList.length&&!e.hasNext,expression:"!dealerList.length && !hasNext"}],staticClass:"when-null",attrs:{slot:"loadmore"},slot:"loadmore"},[a("div",{staticClass:"title"},[e._v("抱歉，没有找到您搜索的内容")]),e._v(" "),a("ul",{staticClass:"tips"},[a("li",[e._v("\n                  不用担心，您马上可以进行 "),a("span",{staticClass:"addNew",on:{click:e.add}},[e._v("新增往来")])]),e._v(" "),a("li",[e._v("\n                  或者检查“输入内容”是否正确\n                ")])])])],2)])],1)])],1)],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"0dhE":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("HzJ8"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("PKHo"),f=n(c),m=a("zWMP"),h=a("BUFe"),v=n(h),p=a("AupE"),C=n(p),y=a("sUbJ"),_=n(y),g=a("FlCz"),b=n(g),w=a("d7ck"),I=n(w),x=a("MVgC"),D=n(x),P=a("hPJo"),S=n(P);t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",orderList:{},basicInfo:{},DuplicateBoms:[],UniqueBom:[],bomPopShow:!1,bom:{},warehouseIn:{},warehouseOut:{},bomList:[]}},mixins:[u.default,f.default],components:{workFlow:C.default,RAction:v.default,MatterItem:_.default,BomList:b.default,FormCell:I.default,BomPop:D.default,WarehouseContent:S.default},watch:{DuplicateBoms:{handler:function(e){var t=function(e,t){return e.inventoryCode===t.inventoryCode};this.UniqueBom=function(e){return e.reduce(function(e,a){return e.some(function(e){var n=t(e,a);return n&&(e.tdQty=(0,m.accAdd)(e.tdQty,a.tdQty)),n})||e.push(a),e},[])}(this.DuplicateBoms)}}},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},checkBom:function(e){this.bom=e,this.bomPopShow=!0},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u={},c=s.order,f=void 0===c?{}:c,h=s.outPut,v=void 0===h?{}:h,p=v.dataSet||[];e.attachment=d;var C=f.dataSet,y=void 0===C?[]:C,_=!0,g=!1,b=void 0;try{for(var w,I=(0,o.default)(y);!(_=(w=I.next()).done);_=!0){var x=w.value;if(x.inventoryPic=x.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+x.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),x.boms){var D=!0,P=!1,S=void 0;try{for(var k,L=(0,o.default)(x.boms);!(D=(k=L.next()).done);D=!0){var N=k.value;N.inventoryCode=N.transObjCode,N.warehouseName=N.warehouseName_containerCodeOut,N.warehouseCode=N.containerCodeOut,N.qtyStock=N.thenQtyStock,N.tdQty=(0,m.accMul)(N.bomQty,x.tdQty,1+N.bomSpecificLoss)}}catch(e){P=!0,S=e}finally{try{!D&&L.return&&L.return()}finally{if(P)throw S}}e.DuplicateBoms=e.DuplicateBoms.concat(JSON.parse((0,r.default)(x.boms)))}u[x.transMatchedCode]||(u[x.transMatchedCode]=[]),u[x.transMatchedCode].push(x)}}catch(e){g=!0,b=e}finally{try{!_&&I.return&&I.return()}finally{if(g)throw b}}p.forEach(function(e){e.inventoryCode=e.outPutMatCode,e.inventoryName=e.inventoryName_outPutMatCode,e.measureUnit=e.measureUnit_outPutMatCode}),e.warehouseIn={warehouseCode:f.containerCode,warehouseName:f.warehouseName_containerCode,warehouseAction:"入库",warehouseIcon:"icon-ruku",warehouseType:f.warehouseType_containerCode,warehouseProvince:f.warehouseProvince_containerCode,warehouseCity:f.warehouseCity_containerCode,warehouseDistrict:f.warehouseDistrict_containerCode,warehouseAddress:f.warehouseAddress_containerCode},e.warehouseOut={warehouseCode:f.containerCodeOut,warehouseName:""+f.warehouseName_containerCodeOut,warehouseAction:"在制仓库",warehouseIcon:"icon-chuku",warehouseType:f.warehouseType_containerCodeOut,warehouseProvince:f.warehouseProvince_containerCodeOut,warehouseCity:f.warehouseCity_containerCodeOut,warehouseDistrict:f.warehouseDistrict_containerCodeOut,warehouseAddress:f.warehouseAddress_containerCodeOut},e.orderList=u,e.bomList=p,e.orderInfo=s,e.workFlowInfoHandler()})}}}},"0g5o":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MgeX"),r=n(i),s=a("HzJ8"),o=n(s),l=a("a3Yh"),d=n(l),u=a("ZLEe"),c=n(u),f=a("3cXf"),m=n(f),h=a("4YfN"),v=n(h),p=a("KH7x"),C=n(p),y=a("BGNQ"),_=n(y),g=a("SAzG"),b=n(g),w=a("u28h"),I=n(w),x=a("PzEQ"),D=n(x),P=a("kNGm"),S=n(P),k=a("z5TY"),L=n(k),N=a("0AQX"),M=(a("I3vJ"),a("HyXB")),T=a("bKg5"),A=n(T),O=a("ZQWM"),R=n(O),j=a("9cRV"),B=n(j),E=a("Pb67"),F=n(E),U=a("89pA"),$=n(U),Q=a("yt3/"),H=n(Q),V=a("hLfv"),q=n(V),Y=a("luHD"),X=n(Y),G=a("VZtf"),W=n(G),z=a("vl8n"),K=n(z),J=a("+WR7"),Z=n(J),ee=a("fCs9"),te=n(ee),ae=a("zWMP");a("Qg39");t.default={name:"ApplyCGRKForm",data:function(){return{orderList:{},matterList:[],DealerPaymentTerm:"现付",showDealerPop:!1,dealerInfo:{},contactInfo:{},crDealerPaymentTerm:"现付",formData:{biId:"",biComment:""},submitSuccess:!1,showWarehousePop:!1,warehouse:{warehouseCode:"MA0001",warehouseName:"原料仓",warehouseType:"一般部门仓"},taxRate:.16,transCode:"",formViewUniqueId:"fed81800-4c34-44a9-b517-c3fd9f2ab57d",biReferenceId:"",actions:[],taskId:"",showOrderPop:!1,matterParams:{dealerCode:""},tmpItems:{},matter:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"订单号",value:"transCode"}],checkFieldList:[{key:"tdQty",message:"请填写本次收票数量"},{key:"price",message:"请填写含税单价"},{key:"taxRate",message:"请填写税率"},{key:"productionDate",message:"请选择生产日期"}]}},mixins:[A.default],components:{Cell:_.default,RDropdown:te.default,XInput:b.default,Group:L.default,XTextarea:D.default,Datetime:I.default,PopOrderList:F.default,RNumber:W.default,PopDealerList:R.default,PopWarehouseList:$.default,PopMatterList:B.default,PopSingleSelect:H.default,PopMatter:X.default,RPicker:K.default,PopBaseinfo:Z.default,DealerOtherPart:q.default},methods:{selDealer:function(e){var t=JSON.parse(e),a=(0,C.default)(t,1),n=a[0],i=n.pamentDays,r=i?(0,S.default)(Date.now()+(0,ae.accMul)(i,864e5),"YYYY-MM-DD"):"";this.dealerInfo=(0,v.default)({},n,{accountExpirationDate:r,drDealerPaymentTerm:n.paymentTerm}),null!=this.matterParams.data.dealerCode&&(this.matterParams.data.dealerCode=this.dealerInfo.dealerCode,this.matterList=[],this.orderList={}),this.crDealerPaymentTerm=this.dealerInfo.paymentTerm},selContact:function(e){this.contactInfo=(0,v.default)({},e)},selWarehouse:function(e){this.warehouse=JSON.parse(e)},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,m.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selMatter:function(e){var t=JSON.parse(e);console.log(t);var a={};t.forEach(function(e){e.tdQty=e.tdQty||e.qtyBal,e.qualityQty=e.qualityQty||e.qtyBal,e.taxRate=e.taxRate||.16,e.productionDate=e.productionDate||"",e.validUntil=e.validUntil||"",e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null,a[e.transCode]||(a[e.transCode]=[]),a[e.transCode].push(e)}),this.matterList=t,this.orderList=a},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.inventoryCode!==e.inventoryCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,c.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});i>=0&&(e.$refs.matter.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){this.showOrderPop=!this.showOrderPop},checkDate:function(e,t){var a=new Date(t).getTime();e.validUntil=a?(0,S.default)(a+(0,ae.accMul)(e.keepingDays,864e5),"YYYY-MM-DD"):""},submitOrder:function(){var e=this,t="",a=[];if([{key:"dealerInfo",message:"供应商信息"},{key:"crDealerPaymentTerm",message:"结算方式"},{key:"warehouse",message:"仓库"}].every(function(a){return!!e[a.key]||(t="请选择"+a.message,!1)}),t||this.matterList.length||(t="请选择物料"),t||this.matterList.every(function(n){if(!n.price)return t="含税单价不能为空",!1;if(!n.tdQty)return t="数量不能为空",!1;var i=n.taxRate||e.taxRate,r=((0,ae.accMul)(n.price,n.tdQty,i),{transMatchedCode:n.transCode,transObjCode:n.inventoryCode,tdProcessing:n.processing,assMeasureUnit:void 0!==n.assMeasureUnit?n.assMeasureUnit:null,assMeasureScale:n.assMeasureScale||null,assMeasureDescription:n.assMeasureDescription||"",thenTotalQtyBal:n.qty,thenLockQty:n.qtyed,thenQtyBal:n.qtyBal||0,qualityQty:n.tdQty,tdQty:n.tdQty,assistQty:n.assistQty||0,price:n.price,taxRate:n.taxRate,tdAmount:n.tdAmount,noTaxPrice:n.noTaxPrice,taxAmount:n.taxAmount,processingStartDate:n.processingStartDate||null,keepingDays_transObjCode:n.keepingDays,productionDate:n.productionDate,validUntil:n.validUntil,comment:n.comment||""});return e.transCode&&(r.tdId=n.tdId||null),a.push(r),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=M.saveAndStartWf,n={},i=(0,d.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});n=(0,v.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.formData.handler,modifer:e.formData.handler,dealerCreditContactPersonName:e.contactInfo.dealerName||"",dealerCreditContactInformation:e.contactInfo.dealerMobilePhone||"",containerInWarehouseManager:e.warehouse.containerInWarehouseManager||null,inPut:{dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName||"供应商",crDealerPaymentTerm:e.crDealerPaymentTerm,daysOfAccount:e.dealerInfo.pamentDays,accountExpirationDate:e.dealerInfo.accountExpirationDate,containerCode:e.warehouse.warehouseCode,dataSet:a}}),e.transCode&&(t=M.saveAndCommitTask,i={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,m.default)(n),wfPara:(0,m.default)(i)};e.transCode||delete r.biReferenceId,e.processCode.length||(t=M.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,N.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,l=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=l;var d=r.inPut,u=(r.dealerDebit,d.dataSet),c=void 0===u?[]:u,f={},m=[],h=!0,p=!1,C=void 0;try{for(var y,_=(0,o.default)(c);!(h=(y=_.next()).done);h=!0){var g=y.value;g=(0,v.default)({},g,{transCode:g.transMatchedCode,inventoryPic:g.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+g.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:g.inventoryName_transObjCode,inventoryCode:g.transObjCode,specification:g.specification_transObjCode,processing:g.tdProcessing,keepingDays:g.keepingDays_transObjCode,qtyed:g.thenLockQty,qtyBal:g.thenQtyBal,qty:g.thenTotalQtyBal}),f[g.transCode]||(f[g.transCode]=[]),m.push(g),f[g.transCode].push(g)}}catch(e){p=!0,C=e}finally{try{!h&&_.return&&_.return()}finally{if(p)throw C}}e.dealerInfo={creatorName:r.dealerCreditContactPersonName,dealerName:d.dealerName_dealerCodeCredit,dealerMobilePhone:r.dealerCreditContactInformation,dealerCode:d.dealerCode_dealerCodeCredit,dealerLabelName:d.crDealerLabel,province:d.province_dealerCodeCredit,city:d.city_dealerCodeCredit,county:d.county_dealerCodeCredit,address:d.address_dealerCodeCredit,accountExpirationDate:d.accountExpirationDate},e.contactInfo={dealerName:r.dealerCreditContactPersonName,dealerMobilePhone:r.dealerCreditContactInformation},e.warehouse={warehouseCode:d.containerCode,warehouseName:d.warehouseName_containerCode,warehouseType:d.warehouseType_containerCode,warehouseProvince:d.warehouseProvince_containerCode,warehouseCity:d.warehouseCity_containerCode,warehouseDistrict:d.warehouseDistrict_containerCode,warehouseAddress:d.warehouseAddress_containerCode,containerInWarehouseManager:d.containerInWarehouseManager},e.matterParams={dealerCode:e.dealerInfo.dealerCode},e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,v.default)({},e.formData,e.handlerDefault,{biComment:r.biComment,biId:r.biId,biProcessStatus:r.biProcessStatus,creator:r.creator,modifer:r.modifer}),e.crDealerPaymentTerm=d.crDealerPaymentTerm,e.DealerPaymentTerm=r.crDealerPaymentTerm||"现付",e.biReferenceId=r.biReferenceId,e.matterList=m,e.orderList=f,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,d.default)({},"CGRK_DATA",{orderList:this.orderList,dealer:this.dealerInfo,warehouse:this.warehouse,formData:this.formData,contactInfo:this.contactInfo})},getRelationData:function(){var e=this,t=this.$route.query.uniqueId;return(0,N.getSOList)({formViewUniqueId:t,transCode:this.relationKey}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i;t.attachment;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var s=r.order,o=(r.dealerDebit,s.dataSet),l=void 0===o?[]:o;l=l.map(function(t){return(0,v.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,transCode:e.relationKey,qtyBal:t.tdQty,tdQty:""})}),e.dealerInfo={creatorName:r.dealerDebitContactPersonName,dealerMobilePhone:r.dealerDebitContactInformation,dealerCode:r.order.dealerDebit,dealerSubclass:r.order.drAccountSub,dealerName:r.order.dealerName_dealerDebit,province:r.order.province_dealerDebit,city:r.order.city_dealerDebit,county:r.order.county_dealerDebit,address:r.order.address_dealerDebit},e.matterParams={dealerCode:e.dealerInfo.dealerCode},e.matterList=l,e.orderList=(0,d.default)({},e.relationKey,l),e.crDealerPaymentTerm=s.drDealerPaymentTerm,e.DealerPaymentTerm=r.drDealerPaymentTerm||"现付",e.$loading.hide()})},moreUnitSelected:function(e){this.matter.assMeasureUnit=e.invSubUnitName,this.matter.assistQty=e.invSubUnitMulti}},created:function(){var e=sessionStorage.getItem("CGRK_DATA");if(e){var t=JSON.parse(e);this.orderList=t.orderList;var a=!0,n=!1,i=void 0;try{for(var s,l=(0,o.default)((0,r.default)(this.orderList));!(a=(s=l.next()).done);a=!0){var d=s.value,u=!0,c=!1,f=void 0;try{for(var m,h=(0,o.default)(d);!(u=(m=h.next()).done);u=!0){var v=m.value;this.matterList.push(v)}}catch(e){c=!0,f=e}finally{try{!u&&h.return&&h.return()}finally{if(c)throw f}}}}catch(e){n=!0,i=e}finally{try{!a&&l.return&&l.return()}finally{if(n)throw i}}this.dealerInfo=t.dealer,this.warehouse=t.warehouse,this.formData=t.formData,this.contactInfo=t.contactInfo,this.crDealerPaymentTerm=this.dealerInfo.paymentTerm,this.matterParams.data.dealerCode=this.dealerInfo.dealerCode,sessionStorage.removeItem("CGRK_DATA")}}}},"0gu7":function(e,t,a){e.exports=a.p+"static/img/ava02.e8359b1.png"},"0hhl":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"techics-list-container",on:{click:function(t){e.showPop=!e.showPop}}},[a("div",{staticClass:"title",class:{required:e.required}},[e._v("工艺路线名称")]),e._v(" "),a("div",{staticClass:"mode"},[e._v(e._s(e.selItems.technicsName||e.placeholder))]),e._v(" "),a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-arrow-right r_arrow",attrs:{type:"ios-arrow-right",size:"16",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M160 115.4L180.7 96 352 256 180.7 416 160 396.7 310.5 256z"}})]),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"popup-technics-list-container",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("r-search",{attrs:{filterList:e.filterList,isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list-container",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"mater-list-item",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"info-item"},[a("div",{staticClass:"name"},[e._v(e._s(t.technicsName))])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1)],1)])},i=[],r={render:n,staticRenderFns:i};t.a=r},"0hym":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"other_comment vux-1px-t"},[a("div",{staticClass:"title"},[a("span",[e._v("评论")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.commentList.length,expression:"commentList.length"}],staticClass:"more",on:{click:e.goCommentList}},[e._v("查看更多")])]),e._v(" "),e.commentList.length?a("div",{staticClass:"comment_list"},e._l(e.commentList,function(t,n){return n<5?a("div",{key:n,staticClass:"each_comment",on:{click:e.goCommentList}},[a("div",{staticClass:"user_photo"},[a("img",{attrs:{src:t.photo},on:{error:function(a){e.getUserDefault(t)}}})]),e._v(" "),a("div",{staticClass:"comment_content vux-1px-b"},[a("div",{staticClass:"user_info"},[a("div",[a("span",{staticClass:"user_name"},[e._v(e._s(t.creatorName))]),e._v(" "),a("span",{staticClass:"comment_time"},[e._v(e._s(e._f("handleCrt")(t.crtTime)))])]),e._v(" "),a("div",{staticClass:"handler",on:{click:function(a){a.stopPropagation(),e.savePraise(t)}}},[t.praiseNum?a("span",{staticClass:"praise-num"},[e._v(e._s(t.praiseNum))]):e._e(),e._v(" "),a("span",{staticClass:"iconfont icon-L2",class:{praise:!t.isPraise}})])]),e._v(" "),a("div",{staticClass:"comment-container"},[a("div",{staticClass:"comment",domProps:{innerHTML:e._s(e.handleComment(t))}}),e._v(" "),t.commentAttachments.length?a("div",{staticClass:"comment-image"},[e._l(t.commentAttachments,function(t,n){return t.isImg?a("img",{key:n,staticClass:"comment-image-item",attrs:{src:t.attachment},on:{click:function(a){a.stopPropagation(),e.scaleImg(t)}}}):e._e()}),e._v(" "),e._l(t.commentAttachments,function(t,n){return t.isImg?e._e():a("div",{key:n,staticClass:"each_file",on:{click:function(a){a.stopPropagation(),e.checkFile(t.attachment)}}},[e._v("附件"+e._s(n+1)+": "+e._s(t.name))])})],2):e._e()])])]):e._e()}),0):a("div",{staticClass:"no_data"},[e._v("暂无评论")])])},i=[],r={render:n,staticRenderFns:i};t.a=r},"0jTj":function(e,t,a){"use strict";function n(e){a("kqyU")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("1m4k");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("kSDc"),o=a.n(s),l=a("Afda"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-7a2fb434",null);t.default=c.exports},"0myC":function(e,t){},"0o6b":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.uploadImage=t.chooseImage=t.shareContent=t.scanQRCode=void 0;var i=a("4YfN"),r=n(i),s=a("rVsN"),o=n(s),l=a("HyXB");t.scanQRCode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new o.default(function(t,a){wx.scanQRCode((0,r.default)({desc:"scanQRCode desc",needResult:1,scanType:["qrCode","barCode"],success:function(e){var n=e.err_Info,i=void 0===n?"false":n,r=e.resultStr,s=void 0===r?"":r,o="扫描结果异常";"success"===i?(o="扫描成功",t({message:o,result:s})):(this.$vux.alert.show({content:o}),a({message:o}))},error:function(e){var t="扫描异常";e.errMsg.indexOf("function_not_exist")>0&&(t="版本过低请升级"),this.$vux.alert.show({content:t}),a({message:t})}},e))})},t.shareContent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.log(e),wx.onMenuShareAppMessage({title:e.title,desc:e.desc,imgUrl:e.imgUrl,success:function(){alert("分享成功！")},cancel:function(){alert("分享失败！")}})},t.chooseImage=function(e){var t=e.options,a=void 0===t?{}:t;return new o.default(function(e,t){wx.chooseImage((0,r.default)({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],defaultCameraMode:"normal",success:function(t){var a=t.localIds;e(void 0===a?[]:a)},fail:function(){t({success:!1,message:"选择失败"})}},a))})},t.uploadImage=function(e){var t=e.options,a=void 0===t?{}:t,n=e.localId,i=void 0===n?"":n,s=e.biReferenceId,d=void 0===s?"":s;return new o.default(function(e,t){wx.uploadImage((0,r.default)({localId:i,isShowProgressTips:0,success:function(a){var n=a.serverId,i=void 0===n?"":n,r={mediaId:i};d&&(r.biReferenceId=d),(0,l.mediaUpload)(r).then(function(t){var a=(t.success,t.message,t.data);e(a)}).catch(function(e){t()})},fail:function(){t({success:!1,message:"上传失败"})}},a))})};t.default={}},"0u1o":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("hRKE"),o=n(s),l=a("fBTP"),d=n(l),u=a("nKjL"),c=a("aiMs"),f=n(c),m=a("uJtz"),h=n(m),v=a("71iV");n(v);t.default={name:"picker",components:{Flexbox:u.Flexbox,FlexboxItem:u.FlexboxItem},created:function(){if(0!==this.columns){var e=this.columns;this.store=new f.default(this.data,e,this.fixedColumns||this.columns),this.currentData=this.store.getColumns(this.value)}},mounted:function(){var e=this;this.uuid=Math.random().toString(36).substring(3,8),this.$nextTick(function(){e.render(e.currentData,e.currentValue)})},props:{data:Array,columns:{type:Number,default:0},fixedColumns:{type:Number,default:0},value:Array,itemClass:{type:String,default:"scroller-item"},columnWidth:Array},methods:{getNameValues:function(){return(0,h.default)(this.currentValue,this.data)},getId:function(e){return"#vux-picker-"+this.uuid+"-"+e},render:function(e,t){this.count=this.currentData.length;var a=this;if(e&&e.length){var n=this.currentData.length;if(t.length<n)for(var i=0;i<n;i++)this.$set(a.currentValue,i,e[i][0].value||e[i][0]);for(var r=0;r<e.length;r++){var s=function(n){if(!document.querySelector(a.getId(n)))return{v:void 0};a.scroller[n]&&a.scroller[n].destroy(),a.scroller[n]=new d.default(a.getId(n),{data:e[n],defaultValue:t[n]||e[n][0].value,itemClass:a.itemClass,onSelect:function(e){a.$set(a.currentValue,n,e),(!this.columns||this.columns&&a.getValue().length===a.store.count)&&a.$nextTick(function(){a.$emit("on-change",a.getValue())}),0!==a.columns&&a.renderChain(n+1)}}),a.currentValue&&a.scroller[n].select(t[n])}(r);if("object"===(void 0===s?"undefined":(0,o.default)(s)))return s.v}}},renderChain:function(e){if(this.columns&&!(e>this.count-1)){var t=this,a=this.getId(e);this.scroller[e].destroy();var n=this.store.getChildren(t.getValue()[e-1]);this.scroller[e]=new d.default(a,{data:n,itemClass:t.item_class,onSelect:function(a){t.$set(t.currentValue,e,a),t.$nextTick(function(){t.$emit("on-change",t.getValue())}),t.renderChain(e+1)}}),n.length?(this.$set(this.currentValue,e,n[0].value),this.renderChain(e+1)):this.$set(this.currentValue,e,null)}},getValue:function(){for(var e=[],t=0;t<this.currentData.length;t++){if(!this.scroller[t])return[];e.push(this.scroller[t].value)}return e},emitValueChange:function(e){(!this.columns||this.columns&&e.length===this.store.count)&&this.$emit("on-change",e)}},data:function(){return{scroller:[],count:0,uuid:"",currentData:this.data,currentValue:this.value}},watch:{value:function(e){(0,r.default)(e)!==(0,r.default)(this.currentValue)&&(this.currentValue=e)},currentValue:function(e,t){if(this.$emit("input",e),0!==this.columns)e.length>0&&(0,r.default)(e)!==(0,r.default)(t)&&(this.currentData=this.store.getColumns(e),this.$nextTick(function(){this.render(this.currentData,e)}));else if(e.length)for(var a=0;a<e.length;a++)this.scroller[a]&&this.scroller[a].value!==e[a]&&this.scroller[a].select(e[a]);else this.render(this.currentData,[])},data:function(e){(0,r.default)(e)!==(0,r.default)(this.currentData)&&(this.currentData=e)},currentData:function(e){var t=this;if("[object Array]"===Object.prototype.toString.call(e[0]))this.$nextTick(function(){t.render(e,t.currentValue),t.$nextTick(function(){t.emitValueChange(t.getValue()),(0,r.default)(t.getValue())!==(0,r.default)(t.currentValue)&&(!t.columns||t.columns&&t.getValue().length===t.store.count)&&(t.currentValue=t.getValue())})});else if(0!==this.columns){if(!e.length)return;var a=this.columns;this.store=new f.default(e,a,this.fixedColumns||this.columns),this.currentData=this.store.getColumns(this.currentValue)}}},beforeDestroy:function(){for(var e=0;e<this.count;e++)this.scroller[e]&&this.scroller[e].destroy(),this.scroller[e]=null}}},"0w+U":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.checkValue=t.update=t.save=t.CompanyInfo=t.getCompany=void 0;var i=a("3cXf"),r=n(i),s=a("GOq4"),o=n(s),l=t.getCompany=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getCompanyList",data:e})},d=t.CompanyInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return o.default.ajax({url:"/H_roleplay-si/sysGroup/getCompanyList",data:{groupId:e}})},u=t.save=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.post({url:"/H_roleplay-si/sysGroup/saveBatch",data:e})},c=t.update=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.post({url:"/H_roleplay-si/sysGroup/updateBatch",data:e})},f=t.checkValue=function(e,t){return o.default.ajax({url:"/H_roleplay-si/trans/validate",data:{tableName:"sys_group",filter:(0,r.default)([{filedName:e,symbol:"=",value:t}])}})};t.default={save:u,update:c,getCompany:l,checkValue:f,CompanyInfo:d}},"0wyW":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages bdkcdb-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-warehouse-list",{attrs:{title:"出库仓库","default-value":e.warehouse,"get-list-method":"getWareHouseType",params:e.warehouseOutParams,isRequired:""},on:{"sel-item":e.selWarehouseOut}}),e._v(" "),a("pop-warehouse-list",{attrs:{title:"入库仓库","default-value":e.warehouseIn,isRequired:"",disabled:""},on:{"sel-item":e.selWarehouseIn}}),e._v(" "),a("div",{staticClass:"materiel_list"},[e.matterList.length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.matterList,function(t,n){return a("div",{key:n,staticClass:"each_mater",class:{mater_delete:e.matterModifyClass,"vux-1px-b":n<e.matterList.length-1}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass,config:e.matterEditConfig.property},on:{"on-modify":function(a){e.modifyMatter(t,n)}},nativeOn:{click:function(a){e.delClick(n,t)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:n.tdQty,expression:"item.tdQty"}],staticClass:"mater_other"},[a("span",{staticClass:"matter-remain"},[a("span",{staticClass:"symbol"},[e._v("入库数量: ")]),e._v(e._s(n.tdQty)+"\n                    ")])])]}},{key:"edit",fn:function(t){var i=t.item;return[i.tdQty||e.matterModifyClass?e._e():a("div",{staticClass:"mater_other",on:{click:function(t){e.modifyMatter(i,n)}}},[a("div",{staticClass:"edit-tips"},[e._v("点击进行填写")])])]}}])}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.matterModifyClass,expression:"matterModifyClass"}],staticClass:"delete_icon ",on:{click:function(a){e.delClick(n,t)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])])],1)}),0)]:[a("div",{on:{click:function(t){e.showMaterielPop=!e.showMaterielPop}}},[a("div",{staticClass:"title"},[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),a("div",{staticClass:"tips"},[e._v("请选择"+e._s(e.orderListTitle))]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),this.actions.includes("stop")?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),e.matterList.length?a("span",{staticClass:"add_more",on:{click:e.addMatter}},[e._v("新增更多物料")]):e._e()]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showMaterielPop,"default-value":e.matterList,params:e.matterParams,config:e.matterPopConfig,requestApi:e.requestApi,orderTitle:e.matterPopOrderTitle},on:{"sel-matter":e.selMatter},model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}})],2),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,config:e.matterEditConfig},on:{"sel-confirm":e.selConfirm},model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode"},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"btn-item",on:{click:e.save}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},"1+Tt":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("m-search",{attrs:{filterList:e.filterList,isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.workList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.workList,function(t,n){return a("div",{key:n,staticClass:"each-work box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"work-main"},[a("div",{staticClass:"work_top"},[a("span",{staticClass:"code_name"},[e._v("工单任务号")]),e._v(" "),a("span",{staticClass:"work_code"},[e._v(e._s(t.transCode))])]),e._v(" "),a("div",{staticClass:"work_mid vux-1px-b"},[a("div",{staticClass:"product_name"},[e._v("\n                "+e._s(t.inventoryName)),a("span",{staticClass:"symbol"},[e._v("["+e._s(t.processing)+"]")])]),e._v(" "),a("div",{staticClass:"product_unit"},[a("span",{staticClass:"each_unit"},[e._v("成品编码: "+e._s(t.matCode))])])]),e._v(" "),a("div",{staticClass:"work_btm"},[a("div",{staticClass:"procedure_name"},[a("span",[e._v(e._s(t.procedureName))]),e._v(" "),a("span",{staticClass:"symbol"},[e._v("[工序编码: "+e._s(t.proPointCode)+"]")])]),e._v(" "),a("div",{staticClass:"procedure_unit"},[a("span",{staticClass:"each_unit"},[e._v("可验收余额: "+e._s(t.qtyBal))]),e._v(" "),a("span",{staticClass:"each_unit"},[e._v("后置工序: "+e._s(t.rearProcedureName))])])])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1)])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"1+w1":function(e,t){},"1/RG":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("HzJ8"),o=n(s),l=a("kNGm"),d=n(l),u=a("0AQX"),c=a("+VRO"),f=n(c),m=a("BUFe"),h=n(m),v=a("AupE"),p=n(v),C=a("bFc7"),y=n(C),_=a("zWMP");a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",contactInfo:{},orderList:{}}},mixins:[f.default],components:{workFlow:p.default,RAction:h.default,contactPart:y.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=0,i={},r=!0,s=!1,l=void 0;try{for(var u,c=(0,o.default)(a);!(r=(u=c.next()).done);r=!0){var f=u.value;f.inventoryPic=f.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+f.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),n=(0,_.accAdd)(n,f.tdAmount),i[f.transMatchedCode]||(i[f.transMatchedCode]=[]),e.orderList=i,i[f.transMatchedCode].push(f)}}catch(e){s=!0,l=e}finally{try{!r&&c.return&&c.return()}finally{if(s)throw l}}e.count=n,t.formData.invoiceDate=(0,d.default)(t.formData.invoiceDate,"YYYY-MM-DD"),e.orderInfo=t.formData,e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo=(0,r.default)({},this.contactInfo,{dealerName:a.dealerName_dealerCodeCredit,dealerMobilePhone:t.dealerCreditContactInformation,dealerContactPersonName:t.dealerCreditContactPersonName,dealerCode:a.dealerCodeCredit,province:a.province_dealerCodeCreditt,city:a.city_dealerCodeCreditt,county:a.county_dealerCodeCredit,address:a.address_dealerCodeCredit})}}}},"10t/":function(e,t,a){"use strict";function n(e){a("QTBm")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Wdr0");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("HkPF"),o=a.n(s),l=a("/gH2"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-dfbe345a",null);t.default=c.exports},"11x2":function(e,t){},"12Rn":function(e,t){},"13HE":function(e,t,a){"use strict";function n(e){a("vio6")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("VNth");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("w6tR"),o=a.n(s),l=a("McKY"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-64bf80b1",null);t.default=c.exports},"16Vu":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("a3Yh"),o=n(s),l=a("MgeX"),d=n(l),u=a("HzJ8"),c=n(u),f=a("ZLEe"),m=n(f),h=a("3cXf"),v=n(h),p=a("HXPS"),C=n(p),y=a("BGNQ"),_=n(y),g=a("z5TY"),b=n(g),w=a("SAzG"),I=n(w),x=a("PzEQ"),D=n(x),P=a("0AQX"),S=a("HyXB"),k=a("bKg5"),L=n(k),N=a("vl8n"),M=n(N),T=a("+WR7"),A=n(T),O=a("luHD"),R=n(O),j=a("RMtk"),B=n(j),E=a("9cRV"),F=n(E);t.default={name:"ApplyWLXQTJForm",mixins:[L.default],components:{Icon:C.default,Cell:_.default,Group:b.default,XTextarea:D.default,XInput:I.default,PopMatter:R.default,PopOrderXqtjList:B.default,RPicker:M.default,PopBaseinfo:A.default,PopMatterList:F.default},data:function(){return{orderList:{},showOrderPop:!1,formData:{biComment:""},submitSuccess:!1,warehouse:null,taxRate:.16,numMap:{},orderParams:{dealerCode:"",whCode:""},transCode:"",formViewUniqueId:"346ede09-ac6a-489a-9242-f385932a4443",biReferenceId:"",actions:[],taskId:"",matterList:[],project:{},entity:{},tmpItems:{},matter:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,checkFieldList:[{key:"tdQty",message:"请填写减少数量"}]}},methods:{modifyMatter:function(e,t,a){this.matter=JSON.parse((0,v.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t)},selOrder:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){var a=e.transCode+"_"+e.colId+"_"+e.inventoryCode,i=t.numMap[a]||{},r=i.tdQty,s=void 0===r?"":r;e.tdQty=s,n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},findIndex:function(e,t){return e.findIndex(function(e){var a=!0;return e.colId&&(a=e.colId===t.colId),a&&e.transCode===t.transCode&&e.inventoryCode===t.inventoryCode})},delClick:function(e,t,a){var n=this.selItems,i=this.findIndex(n,t);if(-1!==i)return void n.splice(i,1);n.push(t)},showSelIcon:function(e){return-1!==this.findIndex(this.selItems,e)},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,v.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,m.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){var n=!0;if(a.colId&&(n=t.colId===a.colId),n&&a.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var i=e.orderList[t.transCode],r=e.findIndex(i,t);r>=0&&(e.$refs.matter.delSelItem(i[r]),i.splice(r,1)),i.length||delete e.orderList[t.transCode]}})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,c.default)((0,d.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,o=!1,l=void 0;try{for(var u,f=(0,c.default)(r);!(s=(u=f.next()).done);s=!0){var m=u.value;this.numMap[m.transCode+"_"+m.colId+"_"+m.inventoryCode]={tdQty:m.tdQty}}}catch(e){o=!0,l=e}finally{try{!s&&f.return&&f.return()}finally{if(o)throw l}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="",a=[];t||(0,m.default)(this.orderList).length||(t="请选择物料");var n=!0,i=!1,s=void 0;try{for(var l,u=(0,c.default)((0,d.default)(this.orderList));!(n=(l=u.next()).done);n=!0){var f=l.value,h=!0,p=!1,C=void 0;try{for(var y,_=(0,c.default)(f);!(h=(y=_.next()).done);h=!0){var g=y.value;if(!g.tdQty){t="请填写减少数量";break}var b={transMatchedCode:g.transCode,outPutMatCode:g.inventoryCode,inventoryType_outPutMatCode:g.inventoryType,thenQtyBal:g.qtyBal,tdQty:g.tdQty,subjectCode:g.calcRelCode,comment:g.comment||""};this.transCode&&(b.tdId=g.tdId||""),a.push(b)}}catch(e){p=!0,C=e}finally{try{!h&&_.return&&_.return()}finally{if(p)throw C}}}}catch(e){i=!0,s=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw s}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=S.saveAndStartWf,n={},i=(0,o.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});n=(0,r.default)({},e.formData,{modifer:e.transCode?e.formData.handler:"",handlerEntity:e.entity.dealerName,outPut:{dataSet:a}}),e.transCode&&(t=S.saveAndCommitTask,i={businessKey:e.transCode,createdBy:n.creator||n.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var s={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,v.default)(n),wfPara:(0,v.default)(i)};e.transCode||delete s.biReferenceId,e.processCode.length||(t=S.submitAndCalc,delete s.wfPara,delete s.biReferenceId),e.biReferenceId&&(s.biReferenceId=e.biReferenceId),e.saveData(t,s)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var d={};e.attachment=l;var u=s.outPut,f=u.dataSet,m=void 0===f?[]:f,h=!0,v=!1,p=void 0;try{for(var C,y=(0,c.default)(m);!(h=(C=y.next()).done);h=!0){var _=C.value;_=(0,r.default)({},_,{transCode:_.transMatchedCode,qtyBal:_.thenQtyBal,inventoryPic:_.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:_.inventoryName_outPutMatCode,inventoryCode:_.outPutMatCode,inventoryType:_.inventoryType_outPutMatCode,specification:_.specification_outPutMatCode,measureUnit:_.measureUnit_outPutMatCode,processing:_.tdProcessing,calcRelCode:_.subjectCode,inventoryTypen:_.inventoryType_outPutMatCode}),d[_.transCode]||(d[_.transCode]=[]),d[_.transCode].push(_)}}catch(e){v=!0,p=e}finally{try{!h&&y.return&&y.return()}finally{if(v)throw p}}e.matterList=m,e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,r.default)({},e.formData,e.handlerDefault,{biComment:s.biComment,biId:s.biId,biProcessStatus:s.biProcessStatus,creator:s.creator,modifer:s.modifer,drDealerLogisticsTerms:s.drDealerLogisticsTerms}),e.biReferenceId=s.biReferenceId,e.orderList=d,e.$loading.hide()})},hasDraftData:function(){return!!(0,d.default)(this.orderList).length&&(0,o.default)({},"XQTJ_DATA",{orderList:this.orderList,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("XQTJ_DATA");e&&(this.orderList=JSON.parse(e).orderList,this.formData=JSON.parse(e).formData,sessionStorage.removeItem("XQTJ_DATA"))}}},"16Wp":function(e,t,a){"use strict";function n(e){a("3Azx")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("XQGE");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("t2f1"),o=a.n(s),l=a("HaI5"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-eb590d6e",null);t.default=c.exports},"17R/":function(e,t){},"1AlZ":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"matter-item-container"},[a("div",{staticClass:"matter-main"},[a("img",{staticClass:"matter_img",attrs:{src:e.item.inventoryPic,alt:"mater_img"},on:{error:function(t){e.getMatterDefault(e.item)}}}),e._v(" "),a("div",{staticClass:"matter_info"},[a("div",{staticClass:"matter_name"},[e._v("\n        "+e._s(e.item.inventoryName_transObjCode||e.item.facilityName_facilityObjCode||"该物料未获取到名称，请检查物料信息。")+"\n      ")]),e._v(" "),a("div",{staticClass:"matter_info_item flex-start"},[a("div",{staticClass:"matter_detail"},[a("span",{staticClass:"matter_item_title"},[e._v("属性：")]),e._v(" "),a("span",{staticClass:"matter_item_value"},[e._v(e._s(e.item.tdProcessing))])]),e._v(" "),a("div",{staticClass:"matter_detail"},[a("span",{staticClass:"matter_item_title"},[e._v("规格：")]),e._v(" "),a("span",{staticClass:"matter_item_value"},[e._v(e._s(e.item.specification_transObjCode||e.item.specification_outPutMatCode||e.item.facilitySpecification_facilityObjCode||"无"))])])]),e._v(" "),a("div",{staticClass:"matter_info_item"},[a("div",{staticClass:"matter_detail"},[a("span",{staticClass:"matter_item_title"},[e._v("编码：")]),e._v(" "),a("span",{staticClass:"matter_item_value"},[e._v(e._s(e.item.transObjCode||e.item.facilityObjCode||"无"))])])]),e._v(" "),e._m(0),e._v(" "),a("div",{staticClass:"matter_info_item"},[a("span",{staticClass:"matter_no_tax"},[e._v("￥"+e._s(e._f("numberComma")(e._f("toFixed")(e.item.noTaxAmount))))]),e._v(" "),a("span",{staticClass:"matter_qty"},[e._v("x"+e._s(e._f("toFixed")(e.item.tdQty)))])]),e._v(" "),a("div",{staticClass:"matter_info_item"},[a("span",{staticClass:"matter_tax"},[e._v("（含税费￥"+e._s(e._f("numberComma")(e._f("toFixed")(e.item.taxAmount)))+"）")]),e._v(" "),a("span",{staticClass:"matter_total_wrapper"},[e._v("\n          合计："),a("span",{staticClass:"matter_total"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(e.item.tdAmount))))])])])])]),e._v(" "),e._m(1),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{attrs:{height:"80%"},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[e._v("\n      111\n    ")])],1)])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"matter_info_item"},[a("div",{staticClass:"matter_detail"},[a("span",{staticClass:"matter_item_title"},[e._v("其他：")]),e._v(" "),a("span",{staticClass:"matter_item_value"},[e._v("含税税金")])]),e._v(" "),a("i",{staticClass:"icon-more"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"matter-more-wrapper"},[a("div",{staticClass:"matter-more"},[a("span",[e._v("查看更多商品")]),e._v(" "),a("i",{staticClass:"icon-filter-down"})])])}],r={render:n,staticRenderFns:i};t.a=r},"1JHh":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noCount:"",noPrice:""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"1JcB":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"RPopover",data:function(){return{show:!1}},methods:{showPopover:function(){this.show||this.$emit("on-click"),this.show=!this.show},hidePopover:function(){this.show=!1},clickOutside:function(e){this.$refs.popover.contains(e.target)||(this.show=!1)}},created:function(){var e=this;this.$nextTick(function(){document.addEventListener("click",e.clickOutside)})},beforeDestroy:function(){document.removeEventListener("click",this.clickOutside)}}},"1KNX":function(e,t,a){"use strict";function n(e){a("nHhV")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("pifm");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("DHup"),o=a.n(s),l=a("i4Pg"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-b99e799e",null);t.default=c.exports},"1Kxi":function(e,t,a){"use strict";function n(e){a("jWeF")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("N/vw");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("2sZa"),o=a.n(s),l=a("3wOk"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-eebd3d34",null);t.default=c.exports},"1PyV":function(e,t){},"1RQV":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Ns/O"),i=function(e){return e&&e.__esModule?e:{default:e}}(n),r=["android","ios","ios-small","bubbles","circles","crescent","dots","lines","ripple","spiral"];t.default={name:"spinner",mounted:function(){var e=this;this.$nextTick(function(){(0,i.default)(e.$el,e.type,e.size)})},props:{type:{type:String,default:"ios"},size:String},computed:{styles:function(){if(void 0!==this.size&&"28px"!==this.size)return{width:this.size,height:this.size}},className:function(){for(var e={},t=0;t<r.length;t++)e["vux-spinner-"+r[t]]=this.type===r[t];return e}}}},"1Sqs":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",class:{dashboard:e.chartShow},attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},[e.chartShow?a("apply-chart"):a("div",{staticClass:"list"},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"1Unt":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"cell-form-preview",props:{list:Array,borderIntent:{type:Boolean,default:!0}}}},"1WsH":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.update=t.save=t.getJobList=void 0;var n=a("GOq4"),i=function(e){return e&&e.__esModule?e:{default:e}}(n),r=t.getJobList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.ajax({url:"/H_roleplay-si/ds/getAllRole",data:e})},s=t.save=function(e){return i.default.post({url:"/H_roleplay-si/sysRole/save",data:e})},o=t.update=function(e){return i.default.post({url:"/H_roleplay-si/sysRole/update",data:e})};t.default={save:s,update:o,getJobList:r}},"1XMz":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noCount:"",noPrice:""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"1Y6N":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"detail",staticClass:"detail-container",class:{"has-comment":e.hasComment}},[a(e.currentComponent,{ref:"detailComponent",tag:"component",on:{change:e.modifyRoute,"refresh-scroll":e.refresh,"is-subscribe":e.isSubscribe}})],1),e._v(" "),e.hasComment?a("div",{staticClass:"detail-comment-container vux-1px-t"},[a("div",{staticClass:"concern",on:{click:e.goConcern}},[0===e.isConcern?a("span",{staticClass:"icon icon-heart"}):a("span",{staticClass:"icon icon-heart-fill"})]),e._v(" "),a("div",{staticClass:"operation",on:{click:e.goDiscuss}},[a("span",{staticClass:"icon icon-dialog"}),e._v(" "),a("span",{staticClass:"count"},[e._v(e._s(e.commentCount||""))])])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},"1bWV":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper xmrw-detail-container"},[a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.orderInfo,"order-info":e.orderInfo}}),e._v(" "),a("div",{staticClass:"project_info"},[e._m(0),e._v(" "),a("div",{staticClass:"project_content"},[a("form-cell",{attrs:{cellTitle:"项目名称",cellContent:e.projectTask.projectName,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"任务名称",cellContent:e.projectTask.taskName}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"任务类型",cellContent:e.projectTask.taskType}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"任务说明",cellContent:e.projectTask.comment||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"计划截止日期",cellContent:e.projectTask.deadline}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"周期天数",cellContent:e.projectTask.cycleNumber}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"标准工时",cellContent:e.projectTask.planTime}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"作业费率",cellContent:e.projectTask.operatingRate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"预算作业成本",cellContent:e.projectTask.budgetHomeworkCost}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"实际完成日期",cellContent:e.projectTask.actualCompleteTime}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"实际工时",cellContent:e.projectTask.actualTime}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"实际作业成本",cellContent:e.projectTask.actualtHomeworkCost}})],1)]),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.comment.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}})],1)])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"info_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-renwu"}),e._v("任务信息")])}],r={render:n,staticRenderFns:i};t.a=r},"1d9+":function(e,t,a){"use strict";function n(e){a("aCXj")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("patH");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("g+qi"),o=a.n(s),l=a("yYGT"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-c25eed0e",null);t.default=c.exports},"1hzx":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2508,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[i.default],methods:{},created:function(){}}},"1ih/":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"load-more",props:{showLoading:{type:Boolean,default:!0},tip:String}}},"1k/p":function(e,t){},"1lOC":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages wlxqtj-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[Object.keys(e.orderList).length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n,i){return a("div",{key:n,staticClass:"each_mater",class:{"vux-1px-b":i<Object.keys(e.orderList).length-1}},[t.length?a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v(e._s(e.orderListTitle))]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]):e._e(),e._v(" "),e._l(t,function(t,i){return a("div",{key:i,class:{mater_delete:e.matterModifyClass}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass,config:e.matterEditConfig.property},on:{"on-modify":function(a){e.modifyMatter(t,i,n)}},nativeOn:{click:function(a){e.delClick(i,t,n)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:n.tdQty,expression:"item.tdQty"}],staticClass:"mater_other"},[a("span",{staticClass:"matter-remain"},[e._v("\n                        减少数量: "+e._s(n.tdQty)+"\n                      ")])])]}},{key:"edit",fn:function(t){var r=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:!r.tdQty&&!e.matterModifyClass,expression:"!item.tdQty && !matterModifyClass"}],staticClass:"mater_other",on:{click:function(t){e.modifyMatter(r,i,n)}}},[a("span",{staticClass:"edit-tips"},[e._v("\n                        点击进行填写\n                      ")])])]}}])}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.matterModifyClass,expression:"matterModifyClass"}],staticClass:"delete_icon",on:{click:function(a){e.delClick(i,t,n)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])])],1)})],2)}),0)]:[a("div",{on:{click:function(t){e.showOrderPop=!e.showOrderPop}}},[a("div",{staticClass:"title"},[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择"+e._s(e.orderListTitle))]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),Object.keys(e.orderList).length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多物料")])]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showOrderPop,"default-value":e.matterList,config:e.matterPopConfig,"matter-params":e.matterParams,"order-title":e.matterPopOrderTitle},on:{"sel-matter":e.selOrder},model:{value:e.showOrderPop,callback:function(t){e.showOrderPop=t},expression:"showOrderPop"}})],2),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,config:e.matterEditConfig},on:{"sel-confirm":e.selConfirm},model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode"},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},"1m4k":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2559,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"客户名称",value:"dealerName_dealerCodeCredit"}]}},mixins:[i.default],methods:{},created:function(){}}},"1oCA":function(e,t,a){"use strict";function n(e){a("vQom")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("2pZo");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("B5KQ"),o=a.n(s),l=a("Bw1i"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-6cc15b9c",null);t.default=c.exports},"1qJ4":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("m-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"no-data":!e.data.length}},e._l(e.data,function(t,n){return a("div",{key:n,staticClass:"each_mater box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"mater_main "},[a("div",{staticClass:"mater_name"},[e._v(e._s(t.name))])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1)])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"1rl+":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages cpxq-list-container",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"instance-item-wrapper",class:{visited:t.visited},on:{click:function(a){e.goDetail(t,n)}}},[a("div",{staticClass:"instance-header"},[a("span",{staticClass:"instance_code vux-1px-l"},[e._v(e._s(t.transCode))]),e._v(" "),a("span",{staticClass:"instance_status",class:t.statusClass},[e._v(e._s(t.biStatus))])]),e._v(" "),a("div",{staticClass:"instance-main"},[a("i",{staticClass:"icon icon-light"}),e._v(" "),a("div",{staticClass:"instance_info_wrapper"},[a("div",{staticClass:"instance_header_wrapper"},[a("span",{staticClass:"instance_header"},[e._v(e._s(t.demandTitle))]),e._v(" "),a("span",{staticClass:"instance_process_status"},[e._v(e._s(t.biProcessStatus||"暂无流程"))])]),e._v(" "),a("div",{staticClass:"instance_detail"},[a("div",{staticClass:"instance_detail_item"},[a("i",{staticClass:"icon icon-handler"}),e._v(" "),a("span",[e._v("经办人："+e._s(t.handlerName))])]),e._v(" "),a("div",{staticClass:"instance_detail_item"},[a("i",{staticClass:"icon icon-mod-time"}),e._v(" "),a("span",[e._v("修改时间："+e._s(e._f("dateFormat")(t.modTime,"YYYY-MM-DD HH:mm")))])])])])])])}),0)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"1tO0":function(e,t){},"1uhD":function(e,t){},"2/ZY":function(e,t){},"2/p2":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("MgeX"),o=n(s),l=a("HzJ8"),d=n(l),u=a("ZLEe"),c=n(u),f=a("3cXf"),m=n(f),h=a("4YfN"),v=n(h),p=a("KH7x"),C=n(p),y=a("HXPS"),_=n(y),g=a("BGNQ"),b=n(g),w=a("7g+Q"),I=n(w),x=a("z5TY"),D=n(x),P=a("SAzG"),S=n(P),k=a("PzEQ"),L=n(k),N=a("+62G"),M=n(N),T=a("kNGm"),A=n(T),O=a("u28h"),R=n(O),j=a("0AQX"),B=a("HyXB"),E=a("bKg5"),F=n(E),U=a("BUFe"),$=n(U),Q=a("VZtf"),H=n(Q),V=a("ZQWM"),q=n(V),Y=a("Pb67"),X=n(Y),G=a("yt3/"),W=n(G),z=a("89pA"),K=n(z),J=a("7cdy"),Z=n(J),ee=a("9cRV"),te=n(ee),ae=a("hLfv"),ne=n(ae),ie=a("UrVB"),re=n(ie),se=a("luHD"),oe=n(se),le=a("vl8n"),de=n(le),ue=a("+WR7"),ce=n(ue),fe=a("zWMP");a("Qg39");t.default={name:"ApplyXSCKForm",mixins:[F.default],directives:{TransferDom:M.default},components:{Icon:_.default,Cell:b.default,Popup:I.default,Group:D.default,XTextarea:L.default,XInput:S.default,RAction:$.default,RNumber:H.default,PopOrderList:X.default,PopDealerList:q.default,PopSingleSelect:W.default,PopWarehouseList:K.default,PopSodlProjectList:Z.default,PopEntityList:re.default,PopMatter:oe.default,Datetime:R.default,RPicker:de.default,PopBaseinfo:ce.default,PopMatterList:te.default,DealerOtherPart:ne.default},data:function(){return{orderList:{},showOrderPop:!1,dealerInfo:{},formData:{drDealerLogisticsTerms:"",biComment:""},submitSuccess:!1,warehouse:{warehouseType:"一般部门仓",warehouseName:"成品仓",warehouseCode:"FG0001"},taxRate:.16,numMap:{},transCode:"",formViewUniqueId:"346ede09-ac6a-489a-9242-f385932a4443",biReferenceId:"",actions:[],taskId:"",matterList:[],project:{},tmpItems:{},matter:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,contactInfo:{},checkFieldList:[{key:"tdQty",message:"请填写本次出库数量"},{key:"price",message:"请填写单价"},{key:"taxRate",message:"请填写税率"}]}},methods:{selDealer:function(e){var t=JSON.parse(e),a=(0,C.default)(t,1),n=a[0],i=n.pamentDays,r=i?(0,A.default)(Date.now()+(0,fe.accMul)(i,864e5),"YYYY-MM-DD"):"";this.dealerInfo=(0,v.default)({},n,{accountExpirationDate:r,daysOfAccount:n.pamentDays,drDealerPaymentTerm:n.paymentTerm,drDealerLogisticsTerms:n.dealerLogisticsTerms}),this.dealerInfo.drDealerPaymentTerm=this.dealerInfo.paymentTerm,null!=this.matterParams.data.dealerCode&&(this.matterParams.data.dealerCode=this.dealerInfo.dealerCode,this.matterList=[],this.orderList={})},selContact:function(e){this.contactInfo=(0,v.default)({},e)},selWarehouse:function(e){this.warehouse=JSON.parse(e),null!=this.matterParams.data.whCode&&(this.matterParams.data.whCode=this.warehouse.warehouseCode,this.matterList=[],this.orderList={})},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,m.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.inventoryCode!==e.inventoryCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getMatter:function(){if(!this.dealerInfo.dealerCode)return void this.$vux.alert.show({content:"请选择客户"});this.showMaterielPop=!this.showMaterielPop},selOrder:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){var a=e.transCode+"_"+e.inventoryCode,i=t.numMap[a]||{},r=i.tdQty,s=void 0===r?"":r,o=i.price,l=void 0===o?e.quotedPrice:o,d=i.taxRate,u=void 0===d?.16:d,c=i.promDeliTime,f=void 0===c?(0,A.default)(e.promDeliTime,"YYYY-MM-DD"):c;e.tdQty=s,e.price=l,e.taxRate=u,e.promDeliTime=f,e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null,n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t,a){var n=this.selItems,i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode&&e.transCode===t.transCode});if(-1!==i)return void n.splice(i,1);n.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,c.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});i>=0&&(e.$refs.order.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,d.default)((0,o.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,l=!1,u=void 0;try{for(var c,f=(0,d.default)(r);!(s=(c=f.next()).done);s=!0){var m=c.value;this.numMap[m.transCode+"_"+m.inventoryCode]={tdQty:m.tdQty,price:m.price,taxRate:m.taxRate,promDeliTime:m.promDeliTime}}}catch(e){l=!0,u=e}finally{try{!s&&f.return&&f.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="",a=[],n=[{key:"dealerInfo",childKey:"dealerCode",message:"客户信息"},{key:"dealerInfo",childKey:"paymentTerm",message:"结算方式"},{key:"warehouse",message:"仓库"}];t||n.every(function(a){return a.childKey&&!e[a.key][a.childKey]?(t="请选择"+a.message,!1):!!e[a.key]||(t="请选择"+a.message,!1)}),t||(0,c.default)(this.orderList).length||(t="请选择物料");var i=!0,s=!1,l=void 0;try{for(var u,f=(0,d.default)((0,o.default)(this.orderList));!(i=(u=f.next()).done);i=!0){var h=u.value,p=!0,C=!1,y=void 0;try{for(var _,g=(0,d.default)(h);!(p=(_=g.next()).done);p=!0){var b=_.value;if(!b.tdQty){t="请填写数量";break}if(!b.price){t="请填写单价";break}var w=b.taxRate||this.taxRate,I=((0,fe.accMul)(b.price,b.tdQty,w),{transMatchedCode:b.transCode,orderCode:b.transCode,outPutMatCode:b.inventoryCode,orderProCode:b.inventoryCode,tdProcessing:b.processing,assMeasureUnit:void 0!==b.assMeasureUnit?b.assMeasureUnit:null,assMeasureScale:void 0!==b.assMeasureScale?b.assMeasureScale:null,assMeasureDescription:b.assMeasureDescription||"",dealerInventoryName:b.clientInventoryName,dealerInventoryCode:b.clientInventoryCode,thenTotalQtyBal:b.qty,thenLockQty:b.stockQty,thenQtyBal:b.qtyBal,thenQtyStock:b.qtyStockBal,tdQty:b.tdQty,assistQty:b.assistQty||0,price:b.price,tdAmount:b.tdAmount,taxRate:w,noTaxPrice:b.noTaxPrice,taxAmount:b.taxAmount,promDeliTime:b.promDeliTime||"",comment:b.comment||""});this.transCode&&(I.tdId=b.tdId||""),a.push(I)}}catch(e){C=!0,y=e}finally{try{!p&&g.return&&g.return()}finally{if(C)throw y}}}}catch(e){s=!0,l=e}finally{try{!i&&f.return&&f.return()}finally{if(s)throw l}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=B.saveAndStartWf,n={},i=(0,r.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});n=(0,v.default)({},e.formData,{modifer:e.transCode?e.formData.handler:"",dealerDebitContactPersonName:e.contactInfo.dealerName||"",dealerDebitContactInformation:e.contactInfo.dealerMobilePhone||"",containerOutWarehouseManager:e.warehouse.containerOutWarehouseManager||null,handlerEntity:e.entity.dealerName,drDealerLogisticsTerms:e.dealerInfo.dealerLogisticsTerms,outPut:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName||"客户",drDealerPaymentTerm:e.dealerInfo.paymentTerm,daysOfAccount:e.dealerInfo.pamentDays,accountExpirationDate:e.dealerInfo.accountExpirationDate,containerCodeOut:e.warehouse.warehouseCode,project:e.project.projectName,departmentName:e.formData.handlerUnitName,dataSet:a}}),e.transCode&&(t=B.saveAndCommitTask,i={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var s={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,m.default)(n),wfPara:(0,m.default)(i)};e.transCode||delete s.biReferenceId,e.processCode.length||(t=B.submitAndCalc,delete s.wfPara,delete s.biReferenceId),e.biReferenceId&&(s.biReferenceId=e.biReferenceId),e.saveData(t,s)}})},getFormData:function(){var e=this;return(0,j.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=o;var l={},u=r.outPut,c=u.dataSet,f=void 0===c?[]:c,m=!0,h=!1,p=void 0;try{for(var C,y=(0,d.default)(f);!(m=(C=y.next()).done);m=!0){var _=C.value;_.transCode=_.transMatchedCode,_.qtyBal=_.thenQtyBal,_.qtyStockBal=_.thenQtyStock,_.inventoryPic=_.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),_.inventoryName=_.inventoryName_outPutMatCode,_.inventoryCode=_.outPutMatCode,_.specification=_.specification_outPutMatCode,_.processing=_.tdProcessing,_.qty=_.thenTotalQtyBal,_.stockQty=_.thenLockQty,_.clientInventoryName=_.dealerInventoryName,_.clientInventoryCode=_.dealerInventoryCode,l[_.transCode]||(l[_.transCode]=[]),l[_.transCode].push(_)}}catch(e){h=!0,p=e}finally{try{!m&&y.return&&y.return()}finally{if(h)throw p}}e.matterList=f,e.dealerInfo={creatorName:r.dealerDebitContactPersonName,dealerName:u.dealerName_dealerDebit,dealerMobilePhone:r.dealerDebitContactInformation,dealerCode:u.dealerDebit,dealerLabelName:u.drDealerLabel,province:u.province_dealerDebit,city:u.city_dealerDebit,county:u.county_dealerDebit,address:u.address_dealerDebit,paymentTerm:u.drDealerPaymentTerm,dealerLogisticsTerms:r.drDealerLogisticsTerms,pamentDays:u.daysOfAccount,accountExpirationDate:u.accountExpirationDate},e.contactInfo={dealerName:r.dealerDebitContactPersonName,dealerMobilePhone:r.dealerDebitContactInformation},e.warehouse={warehouseCode:u.containerCodeOut,warehouseName:u.warehouseName_containerCodeOut,warehouseType:u.warehouseType_containerCodeOut,warehouseProvince:u.warehouseProvince_containerCodeOut,warehouseCity:u.warehouseCity_containerCodeOut,warehouseDistrict:u.warehouseDistrict_containerCodeOut,warehouseAddress:u.warehouseAddress_containerCodeOut,containerOutWarehouseManager:r.containerOutWarehouseManager},e.orderParams={dealerCode:e.dealerInfo.dealerCode,whCode:e.warehouse.warehouseCode},e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,v.default)({},e.formData,e.handlerDefault,{biComment:r.biComment,biId:r.biId,biProcessStatus:r.biProcessStatus,creator:r.creator,modifer:r.modifer,drDealerLogisticsTerms:r.drDealerLogisticsTerms}),e.project={projectName:u.project},e.biReferenceId=r.biReferenceId,e.orderList=l,e.$loading.hide()})},hasDraftData:function(){return!!(0,o.default)(this.orderList).length&&(0,r.default)({},"XSCK_DATA",{orderList:this.orderList,warehouse:this.warehouse,dealerInfo:this.dealerInfo,contactInfo:this.contactInfo,formData:this.formData,project:this.project})},getRelationData:function(){var e=this,t=this.$route.query.uniqueId;return(0,j.getSOList)({formViewUniqueId:t,transCode:this.relationKey}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i;t.attachment;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});r.order;e.dealerInfo={creatorName:r.dealerDebitContactPersonName,dealerMobilePhone:r.dealerDebitContactInformation,dealerCode:r.order.dealerDebit,dealerSubclass:r.order.drAccountSub,dealerName:r.order.dealerName_dealerDebit,province:r.order.province_dealerDebit,city:r.order.city_dealerDebit,county:r.order.county_dealerDebit,address:r.order.address_dealerDebit,paymentTerm:r.order.drDealerPaymentTerm},e.orderParams={dealerCode:e.dealerInfo.dealerCode},e.$loading.hide()})}},created:function(){var e=sessionStorage.getItem("XSCK_DATA");if(e){var t=JSON.parse(e);this.orderList=t.orderList;var a=!0,n=!1,i=void 0;try{for(var r,s=(0,d.default)((0,o.default)(this.orderList));!(a=(r=s.next()).done);a=!0){var l=r.value,u=!0,c=!1,f=void 0;try{for(var m,h=(0,d.default)(l);!(u=(m=h.next()).done);u=!0){var v=m.value;this.matterList.push(v)}}catch(e){c=!0,f=e}finally{try{!u&&h.return&&h.return()}finally{if(c)throw f}}}}catch(e){n=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}this.warehouse=t.warehouse,this.dealerInfo=t.dealerInfo,this.contactInfo=t.contactInfo,this.formData=t.formData,this.project=t.project,this.orderParams={dealerCode:this.dealerInfo.dealerCode,whCode:this.warehouse.warehouseCode},sessionStorage.removeItem("XSCK_DATA")}}}},"20Ve":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"24L6":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("kKsb"),p=n(v),C=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",dealerInfo:{}}},mixins:[u.default],components:{workFlow:h.default,RAction:f.default,ProjectPart:p.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=t.formData,i=n.order,s=void 0===i?{}:i;e.attachment=a,e.dealerInfo={dealerName:s.dealerName_dealerCodeCredit,dealerCode:s.dealerCodeCredit,dealerLabelName:s.crDealerLabel,amntBal:s.thenAmntBalCopy2,thenTotalAmntBal:s.thenAlreadyAmnt};var l=n.order.dataSet,d=!0,u=!1,c=void 0;try{for(var f,m=(0,r.default)(l);!(d=(f=m.next()).done);d=!0){var h=f.value;e.count=(0,C.accAdd)(e.count,h.tdAmount)}}catch(e){u=!0,c=e}finally{try{!d&&m.return&&m.return()}finally{if(u)throw c}}t.formData.validUntil=(0,o.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},"271e":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("cell",{attrs:{title:e.title,value:e.currentValue,"is-link":!e.readonly,"value-align":e.valueAlign,"border-intent":e.borderIntent},nativeOn:{click:function(t){return e.show(t)}}},[!e.displayValue&&e.placeholder?a("span",{staticClass:"vux-cell-placeholder"},[e._v(e._s(e.placeholder))]):e._e(),e._v(" "),e.displayValue?a("span",{staticClass:"vux-cell-value"},[e._v(e._s(e.displayValue))]):e._e(),e._v(" "),a("span",{attrs:{slot:"icon"},slot:"icon"},[e._t("icon")],2),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticStyle:{"background-color":"#fff"},on:{"on-hide":function(t){e.$emit("on-hide")},"on-show":function(t){e.$emit("on-show")}},model:{value:e.showPopup,callback:function(t){e.showPopup=t},expression:"showPopup"}},[e._t("popup-header",null,{options:e.options,value:e.currentValue}),e._v(" "),a("radio",{attrs:{options:e.options,"fill-mode":!1},on:{"on-change":e.onValueChange},scopedSlots:e._u([{key:"each-item",fn:function(t){return[e._t("each-item",[a("p",[a("img",{directives:[{name:"show",rawName:"v-show",value:t.icon,expression:"props.icon"}],staticClass:"vux-radio-icon",attrs:{src:t.icon}}),e._v(" "),a("span",{staticClass:"vux-radio-label"},[e._v(e._s(t.label))])])],{icon:t.icon,label:t.label,index:t.index})]}}]),model:{value:e.currentValue,callback:function(t){e.currentValue=t},expression:"currentValue"}})],2)],1)])},i=[],r={render:n,staticRenderFns:i};t.a=r},"274J":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("HzJ8"),o=n(s),l=a("kNGm"),d=n(l),u=a("0AQX"),c=a("+VRO"),f=n(c),m=a("BUFe"),h=n(m),v=a("AupE"),p=n(v),C=a("bFc7"),y=n(C),_=a("zWMP");a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",contactInfo:{},orderList:{}}},mixins:[f.default],components:{workFlow:p.default,RAction:h.default,contactPart:y.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=0,i={},r=!0,s=!1,l=void 0;try{for(var u,c=(0,o.default)(a);!(r=(u=c.next()).done);r=!0){var f=u.value;f.inventoryPic=f.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+f.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),n=(0,_.accAdd)(n,f.tdAmount),i[f.transMatchedCode]||(i[f.transMatchedCode]=[]),e.orderList=i,i[f.transMatchedCode].push(f)}}catch(e){s=!0,l=e}finally{try{!r&&c.return&&c.return()}finally{if(s)throw l}}e.count=n,t.formData.invoiceDate=(0,d.default)(t.formData.invoiceDate,"YYYY-MM-DD"),e.orderInfo=t.formData,e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo=(0,r.default)({},this.contactInfo,{dealerName:a.dealerName_dealerCodeCredit,dealerMobilePhone:t.dealerCreditContactInformation,dealerContactPersonName:t.dealerCreditContactPersonName,dealerCode:a.dealerCodeCredit,province:a.province_dealerCodeCreditt,city:a.city_dealerCodeCreditt,county:a.county_dealerCodeCredit,address:a.address_dealerCodeCredit})}}}},"27Fo":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("YP5q"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"confirm",components:{XDialog:i.default},props:{value:{type:Boolean,default:!1},showInput:{type:Boolean,default:!1},placeholder:{type:String,default:""},theme:{type:String,default:"ios"},hideOnBlur:{type:Boolean,default:!1},title:String,confirmText:String,cancelText:String,maskTransition:{type:String,default:"vux-fade"},maskZIndex:[Number,String],dialogTransition:{type:String,default:"vux-dialog"},content:String,closeOnConfirm:{type:Boolean,default:!0},inputAttrs:Object,showContent:{type:Boolean,default:!0},confirmType:{type:String,default:"primary"}},created:function(){this.showValue=this.show,this.value&&(this.showValue=this.value)},watch:{value:function(e){this.showValue=e},showValue:function(e){var t=this;this.$emit("input",e),e&&(this.showInput&&(this.msg="",setTimeout(function(){t.$refs.input&&t.setInputFocus()},300)),this.$emit("on-show"))}},data:function(){return{msg:"",showValue:!1}},methods:{getInputAttrs:function(){return this.inputAttrs||{type:"text"}},setInputValue:function(e){this.msg=e},setInputFocus:function(e){e&&e.preventDefault(),this.$refs.input.focus()},_onConfirm:function(){this.showValue&&(this.closeOnConfirm&&(this.showValue=!1),this.$emit("on-confirm",this.msg))},_onCancel:function(){this.showValue&&(this.showValue=!1,this.$emit("on-cancel"))}}}},"28/3":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages fgysqk-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{request:"1","default-value":e.dealerInfo},on:{"sel-item":e.selDealer}},[a("template",{slot:"other"},[a("div",{staticClass:"amt-dealer"},[a("span",{staticClass:"amt-dealer-item"},[e._v("本次申请: "+e._s(e._f("numberComma")(e.applicationAmount,3)))])])])],2),e._v(" "),a("div",{staticClass:"materiel_list"},[e.orderList.length?[a("div",{staticClass:"title"},[e._v("定金明细")]),e._v(" "),e._l(e.orderList,function(t,n){return a("div",{key:n,staticClass:"order-detail",class:{"vux-1px-t":0!==n}},[a("div",{staticClass:"detail-item top"},[a("span",{staticClass:"info-item"},[e._v(e._s(t.transCode))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"info-item"},[e._v("总金额: "+e._s(e._f("numberComma")(t.thenAmntBal,3)))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("采购定金: "+e._s(e._f("numberComma")(t.amount,3)))])]),e._v(" "),a("cell",{attrs:{title:"已付定金","text-align":"right",value:e._f("numberComma")(t.amnted,3)}}),e._v(" "),a("cell",{attrs:{"text-align":"right",value:e._f("numberComma")(t.deposit,3)}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("待付定金")])])],2),e._v(" "),a("x-input",{attrs:{"text-align":"right",placeholder:"请填写",type:"number"},on:{"on-blur":function(a){e.checkAmt(t,"tdAmount")},"on-focus":function(t){e.getFocus(t)}},model:{value:t.tdAmount,callback:function(a){e.$set(t,"tdAmount",e._n(a))},expression:"item.tdAmount"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("本次申请")])])],2)],1)})]:a("div",{staticClass:"order-info",on:{click:function(t){e.showOrder=!0}}},[a("div",{staticClass:"title"},[e._v("定金明细")]),e._v(" "),a("div",{staticClass:"mode"},[e._v("请选择定金明细")]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r-arrow"})])],2),e._v(" "),e.orderList.length?a("div",{staticClass:"handle_part vx-1px-t"},[e.orderList.length?a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多")]):e._e()]):e._e(),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"其他信息"}},[a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-earnest-money-list",{attrs:{show:e.showOrder,params:e.dealerParams,"default-value":e.orderList},on:{"sel-item":e.selOrder},model:{value:e.showOrder,callback:function(t){e.showOrder=t},expression:"showOrder"}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},"2F8C":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("IHPB"),d=n(l),u=a("MjAd"),c=n(u),f=a("1WsH");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"管理类",status:"M"},{name:"营销类",status:"Y"},{name:"技术类",status:"J"},{name:"专业类",status:"Z"},{name:"操作类",status:"C"}],biStatus:"",filterList:[{name:"职位名称",value:"name"}],activeName:""}},mixins:[c.default],methods:{getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=[];return this.activeTab.length&&(a=[{operator:"in",value:this.activeTab,property:"type"}]),this.serachVal&&(a=[].concat((0,d.default)(a),[{operator:"like",value:this.serachVal,property:"name"}]),this.activeTab.length&&(a[0].attendedOperation="and")),(0,f.getJobList)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(a),sort:(0,o.default)([{property:"crtTime",direction:"DESC"}])}).then(function(a){var n=a.dataCount,i=void 0===n?0:n,r=a.tableContent,s=void 0===r?[]:r;e.hasNext=i>(e.page-1)*e.limit+s.length,s.forEach(function(t){var a=["","使用中","未使用","草稿"];switch(t.status=a[t.status]||"停用",e.setStatus(t),t.type){case"Y":t.changeType="营销类";break;case"Z":t.changeType="专业类";break;case"J":t.changeType="技术类";break;case"C":t.changeType="操作类";break;case"M":t.changeType="管理类"}}),e.listData=1===e.page?s:e.listData.concat(s),t||e.$nextTick(function(){e.resetScroll()});var o="";t&&0===e.activeIndex&&e.total&&(o=i-e.total==0?"暂无新数据":o="新增"+(i-e.total)+"条数据",e.$vux.toast.show({text:o,position:"top",width:"50%",type:"text",time:700})),0===e.activeIndex&&1===e.page&&sessionStorage.setItem(e.applyCode,i),e.$loading.hide()}).catch(function(t){e.resetScroll()})},goNextPage:function(e,t,a){var n=this;if(!this.clickVisited){var i=this.$route.query.name,s=this.$route.params,o=s.folder,l=s.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,r.default)({},e));var d=a+"/"+o+"/"+l;setTimeout(function(){n.clickVisited=!1,n.$router.push({path:d,query:{name:i,id:e.id}})},200)}},goDetail:function(e,t){this.goNextPage(e,t,"/detail")},tabClick:function(e,t){this.activeIndex=t,this.activeTab=e.status,this.activeName="全部"===e.name?"":e.name,this.resetCondition(),this.getList()},goEdit:function(){var e=this.$route.query.name,t=this.$route.params,a=t.folder,n=t.fileName;this.$router.push({path:"/fillform/"+a+"/"+n,query:{name:e,jobType:this.activeName}})},setStatus:function(e){switch(e.status){case"使用中":e.statusClass="duty_done_c";break;default:e.statusClass="duty_fall_c"}}}}},"2FQK":function(e,t){},"2KqP":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("KH7x"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(void 0===e||!/^-?\d*\.?\d*$/.test(e))return console.error("the value can not change to number"),"";var a=(""+e).split("."),n=(0,i.default)(a,2),r=n[0],s=void 0===r?"":r,o=n[1],l=void 0===o?"":o;return l.length<t&&(l=""+l+"0".repeat(t-l.length)),l.length!==t&&(l=l.substr(0,t)+"."+l.substr(t),l=""+Math.round(l),l.length<t&&(l=""+"0".repeat(t-l.length)+l)),parseFloat(s+"."+l)}},"2PKd":function(e,t,a){function n(e){return a(i(e))}function i(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var r={"./consumable/DZYHPCGDDForm.vue":"ZVeX","./consumable/DZYHPCGSQForm.vue":"J0vH","./consumable/DZYHPCGYSYZFForm.vue":"9B9Q","./contacts/COMPANYForm.vue":"1d9+","./contacts/JOBForm.vue":"Ndqp","./contacts/USERForm.vue":"qP7K","./equipment/SBCGDDForm.vue":"F0gW","./equipment/SBCGSQForm.vue":"4B3i","./equipment/SBCGYSForm.vue":"/Z5K","./finance/BXYZFForm.vue":"HE6I","./finance/CRCDHPForm.vue":"JSOx","./finance/DFCDHPForm.vue":"uKpr","./finance/DXTXCDHPForm.vue":"FKOt","./finance/FGYSDJForm.vue":"kY/w","./finance/FGYSQKForm.vue":"8Ofw","./finance/FKForm.vue":"moVi","./finance/JKYBYJForm.vue":"4qY7","./finance/KCCDHPForm.vue":"pLZ0","./finance/SDCDHPForm.vue":"lOVW","./finance/SKForm.vue":"PYXE","./finance/XMFYBXForm.vue":"/8Dd","./finance/YBFYBXForm.vue":"Pibe","./finance/ZZSKPForm.vue":"G70E","./finance/ZZSSPForm.vue":"NgDr","./hr/YGDAForm.vue":"IIvl","./hr/YGLZForm.vue":"ShHt","./hr/YGRZForm.vue":"5O+N","./hr/ZPJHForm.vue":"zqN1","./plan/BHDDForm.vue":"UXCm","./plan/CGSQForm.vue":"T5Lg","./plan/WLXQJHForm.vue":"YOAB","./plan/WLXQTJForm.vue":"4cUA","./plan/XSDDYCForm.vue":"TIeJ","./product/CPFBForm.vue":"rNne","./product/CPXQForm.vue":"4tO6","./production/GDRWForm.vue":"D9b3","./production/GDRWQDForm.vue":"ow/D","./production/GDYSForm.vue":"lpBF","./production/NBJGDDForm.vue":"ZhmJ","./production/WGYRKForm.vue":"W8W0","./production/WGZJRKForm.vue":"U0ny","./project/XMJHForm.vue":"HcOF","./project/XMJXForm.vue":"SEjj","./project/XMLXForm.vue":"fPYh","./project/XMRWForm.vue":"ezSw","./purchase/CGDDForm.vue":"yv4D","./purchase/CGXYForm.vue":"yPF3","./sale/CPJGForm.vue":"eeRS","./sale/KPSQForm.vue":"MLSZ","./sale/SJForm.vue":"ewRl","./sale/XSBJForm.vue":"DTDx","./sale/XSDDForm.vue":"rYhG","./sale/XSHTForm.vue":"fg8O","./stock/BDKCDBForm.vue":"hsBr","./stock/CGRKForm.vue":"yiMf","./stock/CGTHCKForm.vue":"rgGk","./stock/GDBLLForm.vue":"yPVV","./stock/KCPDForm.vue":"isSJ","./stock/NBJGLLForm.vue":"hpCO","./stock/NBJGRKForm.vue":"UBaU","./stock/XSCKForm.vue":"UD9u"};n.keys=function(){return Object.keys(r)},n.resolve=i,e.exports=n,n.id="2PKd"},"2RZr":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"Project",props:{projectInfo:{type:Object,default:function(){return{}}}},data:function(){return{}}}},"2TA+":function(e,t,a){"use strict";function n(e){a("17R/")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Wkhp");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("ebgK"),o=a.n(s),l=a("m0ev"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-6877fe6e",null);t.default=c.exports},"2YrI":function(e,t){},"2hEA":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"loadding"},[a("spinner",{attrs:{type:"ripple",size:"50px"}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"2jGX":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("+62G"),v=n(h),p=a("6q39"),C=n(p),y=a("fEP3"),_=a("1KNX"),g=n(_),b=a("7biW"),w=n(b);t.default={name:"PopCompanyList",props:{defaultValue:{type:Object,default:function(){return{}}},show:{type:Boolean,default:!1}},directives:{TransferDom:v.default},components:{Icon:c.default,Popup:m.default,RScroll:g.default,DSearch:w.default,LoadMore:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:function(e){this.setDefaultValue()}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1,this.$emit("input",!1)},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this.getList()},showSelIcon:function(e){return this.selItems.facilityName===e.facilityName},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.$emit("sel-item",this.selItems)},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"facilityName"}])),(0,y.getObjFacility)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,d.default)(e.listData),(0,d.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.selItems=this.defaultValue?(0,r.default)({},this.defaultValue):{}}},created:function(){this.setDefaultValue(),this.getList()}}},"2ofu":function(e,t){},"2pZo":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2554,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_outPutMatCode"},{name:"往来名称",value:"dealerName_dealerDebit"}]}},mixins:[i.default],methods:{},created:function(){}}},"2rRD":function(e,t){},"2sZa":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("+26s"),r=n(i),s=a("Zp+1"),o=n(s);t.default={data:function(){return{uniqueId:1400,showContent:!1,filterArr:[{operator:"like",value:"",property:"warehouseName"}]}},components:{TabItem:o.default},mixins:[r.default]}},"2y58":function(e,t,a){"use strict";function n(e){a("UvnP")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("27Fo");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("kgls"),o=a.n(s),l=a("w1nj"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},"383K":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("kNGm"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"contactPart",props:{contactInfo:{type:Object,default:function(){return{}}},configs:{type:Array,default:function(){return[]}}},data:function(){return{}},computed:{address:function(){var e=this.contactInfo,t=e.province,a=void 0===t?"":t,n=e.city,i=void 0===n?"":n,r=e.county,s=void 0===r?"":r,o=e.address,l=void 0===o?"":o;return a||i||s||l?""+a+i+s+l:""}},filters:{dateFormat:i.default},created:function(){}}},"3Azx":function(e,t){},"3Ex/":function(e,t,a){"use strict";function n(e){a("vLlS")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("VvlX");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("5fEC"),o=a.n(s),l=a("uveB"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-40ad41d3",null);t.default=c.exports},"3Fmt":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sort-part vux-1px-b"},[e._l(e.data,function(t,n){return a("div",{key:n,staticClass:"each-sort",class:{"active vux-1px-b":e.property===t.key},on:{click:function(a){e.sortClick(t,n)}}},[a("div",{staticClass:"sort_name"},[e._v(e._s(t.name))]),e._v(" "),t.key?a("div",{staticClass:"arrow"},[a("span",{staticClass:"arrow_up",class:[e.property===t.key&&"ASC"===e.sort?"icon-up-fill":"icon-up"]}),e._v(" "),a("span",{staticClass:"arrow_down",class:[e.property===t.key&&"DESC"===e.sort?"icon-down-fill":"icon-down"]})]):e._e()])}),e._v(" "),a("div",{staticClass:"filter-part",class:{active:this.timeFilter.startDate||this.timeFilter.endDate||Object.keys(this.fieldVlaue).length},on:{click:function(t){e.showFilter=!0}}},[a("span",{staticClass:"filter_name"},[e._v("筛选")]),e._v(" "),a("span",{staticClass:"icon-filter"})]),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{attrs:{position:"right"},on:{"on-hide":e.onHide,"on-show":e.onShow},model:{value:e.showFilter,callback:function(t){e.showFilter=t},expression:"showFilter"}},[a("div",{staticClass:"filter-container-part"},[a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions}},[e.filtersList.biProcessStatus&&e.filtersList.biProcessStatus.value.length?a("div",{staticClass:"process-status-container vux-1px-b"},[a("div",{staticClass:"process-wrapper"},[a("div",{staticClass:"filter_title"},[e._v(e._s(e.filtersList.biProcessStatus.alias))]),e._v(" "),a("div",{staticClass:"process_status"},e._l(e.filtersList.biProcessStatus.value,function(t,n){return a("div",{key:n,staticClass:"each_status",class:{"active vux-1px":e.showSelIcon(t,"biProcessStatus")},on:{click:function(a){e.selProcee(t,"biProcessStatus",n)}}},[a("div",{staticClass:"status_content"},[e._v(e._s(t))])])}),0)])]):e._e(),e._v(" "),a("div",{staticClass:"time-filter-container vux-1px-b"},[a("div",{staticClass:"filter_title"},[e._v("时间段")]),e._v(" "),a("div",{staticClass:"specific_time"},e._l(e.specificTimeList,function(t,n){return a("div",{key:n,staticClass:"each_specific_time",class:{"active vux-1px":e.SpecTimeKey===n},on:{click:function(t){e.pickSpecTime(n)}}},[a("div",{staticClass:"time_content"},[e._v(e._s(t))])])}),0),e._v(" "),a("div",{staticClass:"time_filter"},[a("div",{staticClass:"each_time",class:{"active vux-1px":e.tmpTimeFilter.startDate},on:{click:e.getStart}},[e._v("\n                "+e._s(e.tmpTimeFilter.startDate||"开始日期")+"\n              ")]),e._v(" "),a("span",{staticClass:"symbol"}),e._v(" "),a("div",{staticClass:"each_time",class:{"active vux-1px":e.tmpTimeFilter.endDate},on:{click:e.getEnd}},[e._v("\n                "+e._s(e.tmpTimeFilter.endDate||"结束日期")+"\n              ")])])]),e._v(" "),e._l(e.filtersList,function(t,n,i){return"流程状态"!==t.alias&&t.value.length?a("div",{key:i,staticClass:"process-status-container vux-1px-b"},[a("div",{staticClass:"process-wrapper"},[a("div",{staticClass:"filter_title ",on:{click:function(e){t.showAll=!t.showAll}}},[a("span",[e._v(e._s(t.alias))]),e._v(" "),a("span",{staticClass:"arrow icon-filter-down",class:{"icon-filter-up":t.showAll}})]),e._v(" "),a("div",{staticClass:"process_status"},e._l(t.value,function(i,r){return a("div",{directives:[{name:"show",rawName:"v-show",value:r<3||t.showAll,expression:"index < 3 || val.showAll"}],key:r,staticClass:"each_status",class:{"active vux-1px":e.showSelIcon(i,n)},on:{click:function(t){e.selProcee(i,n)}}},[a("div",{staticClass:"status_content"},[e._v(e._s(i))])])}),0)])]):e._e()})],2),e._v(" "),a("div",{staticClass:"handle-part vux-1px-t"},[a("span",{staticClass:"reset_btn",on:{click:e.filterReset}},[e._v("重置")]),e._v(" "),a("span",{staticClass:"confirm_btn",on:{click:e.filterConfirm}},[e._v("确定")])])],1)])],1)],2)},i=[],r={render:n,staticRenderFns:i};t.a=r},"3Gm0":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("m-search",{attrs:{filterList:e.filterList,isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.workList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.workList,function(t,n){return a("div",{key:n,staticClass:"each-work box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"work-main"},[a("div",{staticClass:"work_top"},[a("span",{staticClass:"code_name"},[e._v("物料编码")]),e._v(" "),a("span",{staticClass:"work_code"},[e._v(e._s(t.inventoryCode))])]),e._v(" "),a("div",{staticClass:"work_mid vux-1px-b"},[a("div",{staticClass:"product_name"},[e._v("\n                "+e._s(t.inventoryName)+"\n              ")])]),e._v(" "),a("div",{staticClass:"work_btm vux-1px-b"},[a("div",{staticClass:"procedure_name"},[a("span",[e._v(e._s(t.procedureName))]),e._v(" "),a("span",{staticClass:"symbol"},[e._v("[工序编码: "+e._s(t.proPointCode)+"]")])]),e._v(" "),a("div",{staticClass:"procedure_unit"},[a("span",{staticClass:"each_unit"},[e._v("工序待启动: "+e._s(t.thenQtyBal))]),e._v(" "),a("span",{staticClass:"each_unit"},[e._v("被派人: "+e._s(t.dealerName))]),e._v(" "),a("span",{staticClass:"each_unit"},[e._v("往来标签: "+e._s(t.dealerLabel))])])]),e._v(" "),a("div",{staticClass:"work_btm"},[a("div",{staticClass:"procedure_name"},[a("span",[e._v(e._s(t.wareName))]),e._v(" "),a("span",{staticClass:"symbol"},[e._v("[仓库编码: "+e._s(t.whInCode)+"]")])]),e._v(" "),a("div",{staticClass:"procedure_unit"},[a("span",{staticClass:"each_unit"},[e._v("仓库类型: "+e._s(t.wareType))]),e._v(" "),t.wareAddress?a("span",{staticClass:"each_unit"},[e._v("仓库地址: "+e._s(t.wareAddress))]):e._e()])])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1)])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"3NX5":function(e,t,a){"use strict";function n(e){a("FxBM")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("ptUZ");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("qq0S"),o=a.n(s),l=a("meVP"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-1768a0c0",null);t.default=c.exports},"3P4b":function(e,t){},"3PZp":function(e,t){},"3QQJ":function(e,t,a){"use strict";function n(e){a("fv0H")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MFjG");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("7rAE"),o=a.n(s),l=a("5iSH"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},"3RO+":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MgeX"),r=n(i),s=a("HzJ8"),o=n(s),l=a("4YfN"),d=n(l),u=a("a3Yh"),c=n(u),f=a("ZLEe"),m=n(f),h=a("3cXf"),v=n(h),p=a("KH7x"),C=n(p),y=a("PzEQ"),_=n(y),g=a("SAzG"),b=n(g),w=a("BGNQ"),I=n(w),x=a("z5TY"),D=n(x),P=a("0AQX"),S=a("HyXB"),k=a("bKg5"),L=n(k),N=a("ZQWM"),M=n(N),T=a("9cRV"),A=n(T),O=a("89pA"),R=n(O),j=a("yt3/"),B=n(j),E=a("luHD"),F=n(E),U=a("hLfv"),$=n(U),Q=a("VZtf"),H=n(Q),V=a("vl8n"),q=n(V),Y=a("+WR7"),X=n(Y),G=a("zWMP"),W=a("Qg39");t.default={data:function(){return{orderList:{},matterList:[],showDealerPop:!1,dealerInfo:{},formData:{biId:"",biComment:""},submitSuccess:!1,showWarehousePop:!1,warehouse:{},transCode:"",biReferenceId:"",actions:[],taskId:"",showMaterielPop:!1,showMatterPop:!1,modifyIndex:null,modifyKey:null,selItems:[],contactInfo:{},filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"订单号",value:"transCode"}],checkFieldList:[{key:"tdQty",message:"请填写退货数量"},{key:"price",message:"请填写退货单价"},{key:"taxRate",message:"请填写税率"}]}},components:{XTextarea:_.default,XInput:b.default,RNumber:H.default,Cell:I.default,Group:D.default,PopDealerList:M.default,PopWarehouseList:R.default,PopMatterList:A.default,PopSingleSelect:B.default,PopMatter:F.default,RPicker:q.default,PopBaseinfo:X.default,DealerOtherPart:$.default},mixins:[L.default],methods:{selDealer:function(e){var t=JSON.parse(e),a=(0,C.default)(t,1),n=a[0];this.dealerInfo=n,this.dealerInfo.drDealerPaymentTerm=this.dealerInfo.paymentTerm,null!=this.matterParams.data.dealerCode&&(this.matterParams.data.dealerCode=this.dealerInfo.dealerCode,this.matterList=[],this.orderList={})},selContact:function(e){this.dealerInfo.dealerDebitContactPersonName=e.dealerName,this.dealerInfo.dealerMobilePhone=e.dealerMobilePhone},selWarehouse:function(e){this.warehouse=JSON.parse(e),null!=this.matterParams.data.whCode&&(this.matterParams.data.whCode=this.warehouse.warehouseCode,this.matterList=[],this.orderList={})},selMatter:function(e){var t=JSON.parse(e),a={};t.forEach(function(e){e.tdQty=e.tdQty||e.currQty,e.price=e.price,e.taxRate=e.taxRate||.16,e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null,a[e.transCode]||(a[e.transCode]=[]),a[e.transCode].push(e)}),this.matterList=t,this.orderList=a},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,v.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.inventoryCode!==e.inventoryCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode&&e.transCode===t.transCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,v.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,m.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});i>=0&&n.splice(i,1),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){this.showMaterielPop=!this.showMaterielPop},checkAmt:function(e){var t=e.price,a=e.tdQty,n=e.qtyBal,i=e.taxRate;t&&(e.price=Math.abs((0,W.toFixed)(t))),a&&(e.tdQty=Math.abs((0,W.toFixed)(a)),n&&a>n&&(e.tdQty=n)),i&&(e.taxRate=Math.abs((0,W.toFixed)(i)))},submitOrder:function(){var e=this,t="",a=[];[{key:"dealerInfo",message:"供应商信息"},{key:"warehouse",message:"仓库"}].every(function(a){return!!e[a.key]||(t="请选择"+a.message,!1)}),t||this.dealerInfo.drDealerPaymentTerm||(t="请选择结算方式"),t||(0,m.default)(this.orderList).length||(t="请选择物料");var n=!0,i=!1,s=void 0;try{for(var l,u=(0,o.default)((0,r.default)(this.orderList));!(n=(l=u.next()).done);n=!0){var f=l.value,h=!0,p=!1,C=void 0;try{for(var y,_=(0,o.default)(f);!(h=(y=_.next()).done);h=!0){var g=y.value;if(!g.tdQty){t="请填写数量";break}if(!g.price){t="请填写单价";break}var b=g.taxRate||this.taxRate,w=((0,G.accMul)(g.price,g.tdQty,b),{tdId:g.tdId||null,orderCode:g.transCode,outPutMatCode:g.inventoryCode,tdProcessing:g.processing,assMeasureUnit:void 0!==g.assMeasureUnit?g.assMeasureUnit:null,assMeasureScale:void 0!==g.assMeasureScale?g.assMeasureScale:null,assMeasureDescription:g.assMeasureDescription||"",thenQtyBal:g.qtyBal,thenQtyStock:g.qtyStockBal,tdQty:g.tdQty,assistQty:g.assistQty||0,price:g.price,tdAmount:g.tdAmount,taxRate:b,noTaxPrice:g.noTaxPrice,taxAmount:g.taxAmount,comment:g.comment||""});this.transCode&&(w.tdId=g.tdId||""),a.push(w)}}catch(e){p=!0,C=e}finally{try{!h&&_.return&&_.return()}finally{if(p)throw C}}}}catch(e){i=!0,s=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw s}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=S.saveAndStartWf,n={},i=(0,c.default)({},e.processCode,{businessKey:e.businessKey,createdBy:e.formData.handler});n=(0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",dealerDebitContactPersonName:e.dealerInfo.dealerDebitContactPersonName||"",dealerDebitContactInformation:e.dealerInfo.dealerMobilePhone||"",containerOutWarehouseManager:e.warehouse.containerInWarehouseManager||null,outPut:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName||"供应商",containerCodeOut:e.warehouse.warehouseCode,drDealerPaymentTerm:e.dealerInfo.drDealerPaymentTerm,dataSet:a}}),e.transCode&&(t=S.saveAndCommitTask,i={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,v.default)(n),wfPara:(0,v.default)(i)};e.transCode||delete r.biReferenceId,e.processCode.length||(t=S.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,l=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=l;var u={},c=r.outPut,f=(r.dealerDebit,c.dataSet),m=void 0===f?[]:f,h=!0,v=!1,p=void 0;try{for(var C,y=(0,o.default)(m);!(h=(C=y.next()).done);h=!0){var _=C.value;_.inventoryPic=_.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),_.inventoryName=_.inventoryName_outPutMatCode,_.inventoryCode=_.outPutMatCode,_.specification=_.specification_outPutMatCode,_.processing=_.tdProcessing,_.qtyStockBal=_.thenQtyStock,_.qtyBal=_.thenQtyBal,_.transCode=_.orderCode,u[_.orderCode]||(u[_.orderCode]=[]),u[_.orderCode].push(_)}}catch(e){v=!0,p=e}finally{try{!h&&y.return&&y.return()}finally{if(v)throw p}}e.matterList=m,e.dealerInfo={creatorName:r.dealerName_dealerDebit,dealerName:c.dealerName_dealerDebit,dealerMobilePhone:r.dealerDebitContactInformation,dealerDebitContactPersonName:r.dealerDebitContactPersonName,dealerCode:c.dealerDebit,paymentTerm:c.drDealerPaymentTerm,dealerLabelName:c.drDealerLabel,province:c.province_dealerDebit,city:c.city_dealerDebit,county:c.county_dealerDebit,address:c.address_dealerDebit},e.contactInfo={dealerName:r.dealerDebitContactPersonName,dealerMobilePhone:r.dealerDebitContactInformation},e.warehouse={warehouseCode:c.containerCodeOut,warehouseName:c.warehouseName_containerCodeOut,warehouseType:c.warehouseType_containerCodeOut,warehouseProvince:c.warehouseProvince_containerCodeOut,warehouseCity:c.warehouseCity_containerCodeOut,warehouseDistrict:c.warehouseDistrict_containerCodeOut,warehouseAddress:c.warehouseAddress_containerCodeOut,containerInWarehouseManager:c.containerInWarehouseManagerOut},e.matterParams={dealerCode:e.dealerInfo.dealerCode,whCode:e.warehouse.warehouseCode},e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:r.biComment,biId:r.biId,biProcessStatus:r.biProcessStatus,creator:r.creator,modifer:r.modifer}),e.biReferenceId=r.biReferenceId,e.orderList=u,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,c.default)({},"CGTHCK_DATA",{dealer:this.dealerInfo,warehouse:this.warehouse,formData:this.formData,orderList:this.orderList})},getRelationData:function(){var e=this,t=this.$route.query.uniqueId;return(0,P.getSOList)({formViewUniqueId:t,transCode:this.relationKey}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i;t.attachment;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var s=r.inPut,o=s.dataSet,l=void 0===o?[]:o;l=l.map(function(t){return(0,d.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,transCode:e.relationKey,qtyBal:t.tdQty,tdQty:""})}),e.dealerInfo={creatorName:r.dealerCreditContactPersonName,dealerName:outPut.dealerName_dealerCodeCredit,dealerMobilePhone:r.dealerCreditContactInformation,dealerCode:outPut.dealerCode_dealerCodeCredit,dealerLabelName:outPut.crDealerLabel,province:outPut.province_dealerCodeCredit,city:outPut.city_dealerCodeCredit,county:outPut.county_dealerCodeCredit,address:outPut.address_dealerCodeCredit},e.matterParams={dealerCode:e.dealerInfo.dealerCode},e.matterList=l,e.orderList=(0,c.default)({},e.relationKey,l),e.DealerPaymentTerm=r.drDealerPaymentTerm||"现付",e.$loading.hide()})}},created:function(){var e=sessionStorage.getItem("CGTHCK_DATA");if(e){this.orderList=JSON.parse(e).orderList;var t=!0,a=!1,n=void 0;try{for(var i,s=(0,o.default)((0,r.default)(this.orderList));!(t=(i=s.next()).done);t=!0){var l=i.value,d=!0,u=!1,c=void 0;try{for(var f,m=(0,o.default)(l);!(d=(f=m.next()).done);d=!0){var h=f.value;this.matterList.push(h)}}catch(e){u=!0,c=e}finally{try{!d&&m.return&&m.return()}finally{if(u)throw c}}}}catch(e){a=!0,n=e}finally{try{!t&&s.return&&s.return()}finally{if(a)throw n}}this.dealerInfo=JSON.parse(e).dealer,this.warehouse=JSON.parse(e).warehouse,this.formData=JSON.parse(e).formData,sessionStorage.removeItem("CGTHCK_DATA")}}}},"3iOo":function(e,t){},"3lqy":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("3cXf"),o=n(s),l=a("4YfN"),d=n(l),u=a("7g+Q"),c=n(u),f=a("z5TY"),m=n(f),h=a("BGNQ"),v=n(h),p=a("iR2W"),C=n(p),y=a("u28h"),_=n(y),g=a("SAzG"),b=n(g),w=a("PzEQ"),I=n(w),x=a("0AQX"),D=a("HyXB"),P=a("bKg5"),S=n(P),k=a("VZtf"),L=n(k),N=a("9cRV"),M=n(N),T=a("ZQWM"),A=n(T),O=a("yt3/"),R=n(O),j=a("luHD"),B=n(j),E=a("hLfv"),F=n(E),U=a("vl8n"),$=n(U),Q=a("+WR7"),H=n(Q),V=a("zWMP"),q=a("Qg39");t.default={data:function(){return{listId:"525bee48-d2d4-11e8-b8ca-0279b2c6a380",showMatterPop:!1,showMaterielPop:!1,transMode:[],matterList:[],logisticsTerm:[],numMap:{},contact:{},formData:{},dealerInfo:{validUntil:"",advancePaymentDueDate:""}}},computed:{thenTotalAmntBal:function(){var e=0;return this.matterList.forEach(function(t){var a=t.assistQty,n=t.price,i=(0,V.accMul)(a,n);e=(0,V.accAdd)(e,i)}),(0,q.toFixed)(e)}},components:{XInput:b.default,XTextarea:I.default,Group:m.default,Cell:v.default,Popup:c.default,PopMatter:B.default,RNumber:L.default,PopMatterList:M.default,PopDealerList:A.default,PopSingleSelect:R.default,Datetime:_.default,RPicker:$.default,PopBaseinfo:H.default,DealerOtherPart:F.default},mixins:[S.default],filters:{numberComma:C.default},methods:{selDealer:function(e){var t=JSON.parse(e)[0];this.dealerInfo=(0,d.default)({},this.dealerInfo,t),this.dealerInfo.drDealerPaymentTerm=this.dealerInfo.paymentTerm,this.dealerInfo.daysOfAccount=this.dealerInfo.pamentDays,this.dealerInfo.drDealerLogisticsTerms=this.dealerInfo.dealerLogisticsTerms,this.matterParams.data.drDealerCode&&(this.matterParams.data.drDealerCode=this.dealerInfo.dealerCode,this.matterList=[])},selContact:function(e){this.contact=(0,d.default)({},e)},dateSelect:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.$vux.datetime.show({confirmText:"确定",cancelText:"取消",value:this.dealerInfo[t],onConfirm:function(a){e.dealerInfo[t]=a}})},selMatter:function(e){var t=JSON.parse(e);t.map(function(e){e.tdQty=e.tdQty||"",e.price=e.price||"",e.taxRate=e.taxRate||.16,e.dateActivation=e.dateActivation||"",e.executionDate=e.executionDate||"",e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null}),this.matterList=t},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(t){return t.inventoryCode===e.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(e)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,o.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},checkAmt:function(e){var t=e.tdQty,a=e.tdAmountCopy1;t&&(e.tdQty=Math.abs((0,q.toFixed)(t))),a&&(e.tdAmountCopy1=Math.abs((0,q.toFixed)(a)))},submitOrder:function(){var e=this,t="",a=[],n=[{key:"dealerInfo",childKey:"dealerName",message:"请选择客户"},{key:"dealerInfo",childKey:"validUntil",message:"请选择合同到期日"},{key:"matterList",childKey:"length",message:"请选择物料"}];if(t||(n.every(function(a){return a.childKey&&!e[a.key][a.childKey]?(t=a.message,!1):!!e[a.key]||(t=a.message,!1)}),this.matterList.every(function(n){e.validateMap.every(function(e){return!!n[e.key]||(t=e.message,!1)});var i={tdId:n.tdId||"",inventoryName_transObjCode:n.inventoryName,transObjCode:n.inventoryCode,tdProcessing:n.processing,assMeasureUnit:n.assMeasureUnit,assMeasureDescription:n.assMeasureDescription,assMeasureScale:n.assMeasureScale,tdQty:n.tdQty,assistQty:n.assistQty,price:n.price,tdAmount:n.tdAmount,taxRate:n.taxRate,noTaxPrice:n.noTaxPrice,taxAmount:n.taxAmount,noTaxAmount:n.noTaxAmount,dateActivation:n.dateActivation,executionDate:n.executionDate,comment:n.comment||""};return a.push(i),!0})),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=D.saveAndStartWf,n=(0,r.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,drDealerPaymentTerm:e.dealerInfo.paymentTerm,daysOfAccount:e.dealerInfo.pamentDays},s={listId:e.listId,biComment:e.formData.biComment,formData:(0,o.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,dealerDebitContactPersonName:e.contact.dealerName,dealerDebitContactInformation:e.contact.dealerMobilePhone,drDealerLogisticsTerms:e.dealerInfo.dealerLogisticsTerms,order:(0,d.default)({},i,{dataSet:a}),inPut:(0,d.default)({},i,{validUntil:e.dealerInfo.validUntil,dataSet:[{thenTotalAmntBal:e.thenTotalAmntBal,tdAmountCopy1:e.dealerInfo.tdAmountCopy1,advancePaymentDueDate:e.dealerInfo.advancePaymentDueDate}]}),promDeliTime:""})),wfPara:(0,o.default)(n)};e.isResubmit&&(t=D.saveAndCommitTask,s.biReferenceId=e.biReferenceId,console.log("submitData.biReferenceId:",s.biReferenceId)),e.processCode.length||(t=D.submitAndCalc,delete s.wfPara,delete s.biReferenceId),e.biReferenceId&&(s.biReferenceId=e.biReferenceId),e.saveData(t,s)}})},getFormData:function(){var e=this;return(0,x.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.attachment=t.attachment;var a=t.formData;a.order.dataSet.map(function(t){t=(0,d.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode}),e.matterList.push(t)}),e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),e.dealerInfo={creatorName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation,dealerCode:a.order.dealerDebit,dealerSubclass:a.order.drAccountSub,dealerLabelName:a.order.drDealerLabel,dealerName:a.order.dealerName_dealerDebit,province:a.order.province_dealerDebit,city:a.order.city_dealerDebit,county:a.order.county_dealerDebit,address:a.order.address_dealerDebit,paymentTerm:a.order.drDealerPaymentTerm,dealerLogisticsTerms:a.drDealerLogisticsTerms,pamentDays:a.inPut.daysOfAccount,validUntil:a.inPut.validUntil,tdAmountCopy1:a.inPut.dataSet[0].tdAmountCopy1,advancePaymentDueDate:a.inPut.dataSet[0].advancePaymentDueDate},e.contact={dealerName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation},e.matterParams=(0,d.default)({},e.matterParams,{drDealerCode:e.dealerInfo.dealerCode}),e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,r.default)({},"XSHT_DATA",{matter:this.matterList,dealerInfo:this.dealerInfo,formData:this.formData,contact:this.contact})}},created:function(){var e=sessionStorage.getItem("XSHT_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.dealerInfo=t.dealerInfo,this.formData=t.formData,this.contact=t.contact,this.matterParams=(0,d.default)({},this.matterParams,{drDealerCode:this.dealerInfo.dealerCode}),sessionStorage.removeItem("XSHT_DATA")}}}},"3p7d":function(e,t,a){"use strict";function n(e){a("qwbi")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("ARDs");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("iSAE"),o=a.n(s),l=a("SR49"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-0cc12f0a",null);t.default=c.exports},"3v/h":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("MgeX"),o=n(s),l=a("HzJ8"),d=n(l),u=a("ZLEe"),c=n(u),f=a("3cXf"),m=n(f),h=a("4YfN"),v=n(h),p=a("7g+Q"),C=n(p),y=a("+62G"),_=n(y),g=a("z5TY"),b=n(g),w=a("BGNQ"),I=n(w),x=a("iR2W"),D=n(x),P=a("u28h"),S=n(P),k=a("SAzG"),L=n(k),N=a("PzEQ"),M=n(N),T=a("kNGm"),A=n(T),O=a("0AQX"),R=a("HyXB"),j=a("bKg5"),B=n(j),E=a("VZtf"),F=n(E),U=a("9cRV"),$=n(U),Q=a("ZQWM"),H=n(Q),V=a("hLfv"),q=n(V),Y=a("yt3/"),X=n(Y),G=a("luHD"),W=n(G),z=a("vl8n"),K=n(z),J=a("+WR7"),Z=n(J),ee=a("zWMP"),te=a("Qg39");t.default={data:function(){return{filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"合同号",value:"transCode"}],showMatterPop:!1,showMaterielPop:!1,transMode:[],matterList:[],numMap:{},formData:{},dealerInfo:{},orderList:{},modifyKey:null,contactInfo:{}}},directives:{TransferDom:_.default},components:{XInput:L.default,XTextarea:M.default,Group:b.default,Cell:I.default,Popup:C.default,PopMatter:W.default,RNumber:F.default,PopMatterList:$.default,PopDealerList:H.default,PopSingleSelect:X.default,Datetime:S.default,RPicker:K.default,PopBaseinfo:Z.default,DealerOtherPart:q.default},mixins:[B.default],filters:{numberComma:D.default},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],this.dealerInfo.drDealerPaymentTerm=this.dealerInfo.paymentTerm,this.dealerInfo.daysOfAccount=this.dealerInfo.pamentDays,this.dealerInfo.drDealerLogisticsTerms=this.dealerInfo.dealerLogisticsTerms,null!=this.matterParams.data.dealerCode&&(this.matterParams.data.dealerCode=this.dealerInfo.dealerCode,this.matterList=[],this.orderList={})},selContact:function(e){this.contactInfo=(0,v.default)({},e)},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,m.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.inventoryCode!==e.inventoryCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getMatter:function(){if(!this.dealerInfo.dealerCode)return void this.$vux.alert.show({content:"请选择客户"});this.showMaterielPop=!this.showMaterielPop},checkAmt:function(e){var t=e.tdQty,a=e.tdAmountCopy1;t&&(e.tdQty=Math.abs((0,te.toFixed)(t))),a&&(e.tdAmountCopy1=Math.abs((0,te.toFixed)(a)))},selMatter:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){var a=e.transCode+"_"+e.inventoryCode,i=t.numMap[a]||{},r=i.tdQty,s=void 0===r?e.qtyBal:r,o=i.price,l=void 0===o?e.price:o,d=i.taxRate,u=void 0===d?t.taxRate:d,c=i.promDeliTime,f=void 0===c?"":c;e.tdQty=s,e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null,e.price=l,e.taxRate=u,e.promDeliTime=f,e.dateActivation=(0,A.default)(e.dateActivation,"YYYY-MM-DD"),e.executionDate=(0,A.default)(e.executionDate,"YYYY-MM-DD"),e.transCode&&(n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e))}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t,a){var n=this.selItems,i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode&&e.transCode===t.transCode});if(-1!==i)return void n.splice(i,1);n.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,c.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});i>=0&&(e.$refs.matter.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,d.default)((0,o.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,l=!1,u=void 0;try{for(var c,f=(0,d.default)(r);!(s=(c=f.next()).done);s=!0){var m=c.value;this.numMap[m.transCode+"_"+m.inventoryCode]=(0,v.default)({},m)}}catch(e){l=!0,u=e}finally{try{!s&&f.return&&f.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showMaterielPop=!this.showMaterielPop},dateSelect:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.$vux.datetime.show({confirmText:"确定",cancelText:"取消",value:this.dealerInfo[t],onConfirm:function(a){e.$set(e.dealerInfo,t,a)}})},submitOrder:function(){var e=this;if(this.dealerInfo.dealerName)if((0,c.default)(this.orderList).length){var t="",a=[],n=!0,i=!1,s=void 0;try{for(var l,u=(0,d.default)((0,o.default)(this.orderList));!(n=(l=u.next()).done);n=!0){var f=l.value,h=!0,p=!1,C=void 0;try{for(var y,_=(0,d.default)(f);!(h=(y=_.next()).done);h=!0){var g=y.value;if(!g.tdQty){t="请填写数量";break}if(!g.price){t="请填写单价";break}if(!g.promDeliTime){t="请选择预期交货日";break}var b=g.taxRate||this.taxRate,w=(0,te.toFixed)((0,ee.accMul)(g.assistQty,b,g.noTaxPrice)),I={tdId:g.tdId||"",transMatchedCode:g.transCode,inventoryName_transObjCode:g.inventoryName,transObjCode:g.inventoryCode,tdProcessing:g.processing,assMeasureUnit:g.assMeasureUnit||null,assMeasureDescription:g.assMeasureDescription||null,assMeasureScale:g.assMeasureScale||null,dealerInventoryName:g.clientInventoryName,dealerInventoryCode:g.clientInventoryCode,thenTotalQtyBal:g.qty,thenLockQty:g.stockQty,thenQtyBal:g.qtyBal,tdQty:g.tdQty,assistQty:g.assistQty||0,price:g.price,tdAmount:(0,te.toFixed)((0,ee.accMul)(g.price,g.assistQty)),taxRate:b,noTaxPrice:g.noTaxPrice,taxAmount:w,noTaxAmount:(0,ee.accSub)(g.tdAmount,g.taxAmount),dateActivation:g.dateActivation,promDeliTime:g.promDeliTime||null,executionDate:g.executionDate,comment:g.comment||""};a.push(I)}}catch(e){p=!0,C=e}finally{try{!h&&_.return&&_.return()}finally{if(p)throw C}}}}catch(e){i=!0,s=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw s}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=R.saveAndStartWf,n=(0,r.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.formData.biComment,formData:(0,m.default)((0,v.default)({},e.formData,{handlerEntity:e.entity.dealerName,dealerDebitContactPersonName:e.contactInfo.dealerName||"",dealerDebitContactInformation:e.contactInfo.dealerMobilePhone||"",drDealerLogisticsTerms:e.dealerInfo.dealerLogisticsTerms,order:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,drDealerPaymentTerm:e.dealerInfo.paymentTerm,daysOfAccount:e.dealerInfo.pamentDays,dataSet:a},inPut:{dataSet:[{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,tdAmountCopy1:e.dealerInfo.tdAmountCopy1,advancePaymentDueDate:e.dealerInfo.advancePaymentDueDate}]}})),wfPara:(0,m.default)(n)};e.isResubmit&&(t=R.saveAndCommitTask,i.biReferenceId=e.biReferenceId),e.processCode.length||(t=R.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})}else this.$vux.alert.show({content:"请选择物料"});else this.$vux.alert.show({content:"请选择客户"})},getFormData:function(){var e=this;return(0,O.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.attachment=t.attachment;var a={},n=t.formData,i=n.order;(void 0===i?{}:i).dataSet.map(function(t){t=(0,v.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,clientInventoryName:t.dealerInventoryName,clientInventoryCode:t.dealerInventoryCode,qty:t.thenTotalQtyBal,stockQty:t.thenLockQty,qtyBal:t.thenQtyBal,transCode:t.transMatchedCode,invSubUnitMulti:t.assMeasureScale}),e.matterList.push(t),a[t.transCode]||(a[t.transCode]=[]),a[t.transCode].push(t)}),e.handlerDefault={handler:n.handler,handlerName:n.handlerName,handlerUnit:n.handlerUnit,handlerUnitName:n.handlerUnitName,handlerRole:n.handlerRole,handlerRoleName:n.handlerRoleName},e.orderList=a,e.formData=(0,v.default)({},e.formData,e.handlerDefault,{biComment:n.biComment,biId:n.biId,biProcessStatus:n.biProcessStatus,creator:n.creator,modifer:n.modifer});var r=n.order.dataSet[0];e.dealerInfo={dealerMobilePhone:n.dealerDebitContactInformation,dealerCode:r.dealerDebit,dealerLabelName:r.drDealerLabel,dealerName:n.order.dealerName_dealerDebit,province:n.order.province_dealerDebit,city:n.order.city_dealerDebit,county:n.order.county_dealerDebit,address:n.order.address_dealerDebit,paymentTerm:n.order.drDealerPaymentTerm,dealerLogisticsTerms:n.drDealerLogisticsTerms,pamentDays:n.order.daysOfAccount,tdAmountCopy1:r.tdAmountCopy1,advancePaymentDueDate:r.advancePaymentDueDate},e.contactInfo={dealerName:n.dealerDebitContactPersonName,dealerMobilePhone:n.dealerDebitContactInformation},e.matterParams.data.dealerCode&&(e.matterParams.data.dealerCode=e.dealerInfo.dealerCode),e.$loading.hide()})},hasDraftData:function(){return!!(0,o.default)(this.orderList).length&&(0,r.default)({},"XSDD_DATA",{dealerInfo:this.dealerInfo,formData:this.formData,contactInfo:this.contactInfo,orderList:this.orderList})}},created:function(){var e=sessionStorage.getItem("XSDD_DATA");if(e){var t=JSON.parse(e);this.dealerInfo=t.dealerInfo,this.formData=t.formData,this.contactInfo=t.contactInfo,this.orderList=t.orderList;var a=!0,n=!1,i=void 0;try{for(var r,s=(0,d.default)((0,o.default)(this.orderList));!(a=(r=s.next()).done);a=!0){var l=r.value,u=!0,c=!1,f=void 0;try{for(var m,h=(0,d.default)(l);!(u=(m=h.next()).done);u=!0){var v=m.value;this.matterList.push(v)}}catch(e){c=!0,f=e}finally{try{!u&&h.return&&h.return()}finally{if(c)throw f}}}}catch(e){n=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}this.matterParams.data.dealerCode&&(this.matterParams.data.dealerCode=this.dealerInfo.dealerCode),sessionStorage.removeItem("XSDD_DATA")}}}},"3wOk":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages"},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("tab-item",{attrs:{tabVal:e.listView},on:{"tab-click":e.tabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"each_duty",on:{click:function(a){e.getFlow(t)}}},[a("div",{staticClass:"duty_top vux-1px-b"},[a("div",{staticClass:"warehouse_info"},[a("span",{staticClass:"warehouse warehouse_name"},[e._v(e._s(t.warehouseName))]),e._v(" "),a("span",{staticClass:"warehouse warehouse_code"},[e._v(e._s(t.whCode))])]),e._v(" "),t.qtyBalance>=0?a("div",{staticClass:"mater_code"},[a("span",{staticClass:"title"},[e._v("数量余额")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(t.qtyBalance))])]):e._e(),e._v(" "),t.qtyLocked>=0?a("div",{staticClass:"mater_code"},[a("span",{staticClass:"title"},[e._v("数量余额")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(t.qtyLocked))])]):e._e()]),e._v(" "),a("div",{staticClass:"matter"},[t.matCode?a("div",{staticClass:"matter_code"},[a("span",{staticClass:"iconfont icon-bianma"}),e._v(" "),a("span",[e._v("物料编码: "+e._s(t.matCode))])]):e._e(),e._v(" "),a("div",{staticClass:"matter_name"},[e._v("\n            "+e._s(t.inventoryName)),a("span",{staticClass:"type"},[e._v("["+e._s(t.invProcessing)+"]")])]),e._v(" "),t.accountAge||t.libraryAge||t.nearKeepingDays?a("div",{staticClass:"mater_days"},[t.accountAge>=0?a("span",{staticClass:"days"},[e._v("账龄天数 "+e._s(t.accountAge))]):e._e(),e._v(" "),t.libraryAge>=0?a("span",{staticClass:"days"},[e._v("库龄天数 "+e._s(t.libraryAge))]):e._e(),e._v(" "),t.nearKeepingDays>=0?a("span",{staticClass:"days"},[e._v("保质剩余天数 "+e._s(t.nearKeepingDays))]):e._e()]):e._e()]),e._v(" "),a("div",{staticClass:"duty_btm vux-1px-t"},[a("div",{staticClass:"ware_type"},[e._v("\n            "+e._s(t.warehouseType||"暂无")),a("span",{staticClass:"type"},[e._v("[仓库类型]")])]),e._v(" "),""!==t.amountBalance?a("div",{staticClass:"balance"},[a("span",{staticClass:"symbol"},[e._v("金额余额: ￥")]),e._v(e._s(t.amountBalance)+"\n          ")]):e._e()])])}),0),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{attrs:{position:"bottom",height:"80%"},model:{value:e.flowShow,callback:function(t){e.flowShow=t},expression:"flowShow"}},[a("r-scroll",{ref:"flowListWrapper",staticClass:"flow_list_wrapper",attrs:{options:e.FlowScrollOptions,"has-next":e.FlowHasNext,"no-data":!e.FlowHasNext&&!e.flowData.length},on:{"on-pulling-up":e.onPullingUpFlow}},[a("div",{staticClass:"flow"},[a("div",{staticClass:"flow_top"},[a("div",{staticClass:"title"},[e._v("流水详情")]),e._v(" "),a("div",{staticClass:"name"},[e._v("\n                "+e._s(e.flowTitle.inventoryName)),a("span",{staticClass:"symbol"},[e._v("["+e._s(e.flowTitle.invProcessing)+"]")])])]),e._v(" "),a("div",{staticClass:"flow_list"},[e._l(e.flowData,function(t,n){return a("div",{key:n,staticClass:"each_flow",on:{click:function(e){e.stopPropagation(),t.showList=!t.showList}}},[a("div",{staticClass:"duty_top"},[a("div",{staticClass:"transCode"},[a("span",{staticClass:"order_title"},[e._v("编码")]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(t.transCode))])]),e._v(" "),a("div",{staticClass:"time"},[e._v("\n                    "+e._s(e._f("dateFormat")(t.calcTime))+"\n                  ")])]),e._v(" "),a("div",{staticClass:"show_list"},[a("div",{staticClass:"app_name"},[e._v("\n                    "+e._s(t.appTitle)),a("span",{staticClass:"symbol"},[e._v("[应用]")])]),e._v(" "),a("div",{staticClass:"num_info"},[a("div",{staticClass:"count"},[t.drQty>0?a("div",{staticClass:"num_part"},[a("span",{staticClass:"symbol"},[e._v("本次数量: ")]),e._v(" "),a("span",{staticClass:"number_incre"},[e._v("+ "+e._s(t.drQty))])]):t.crQty>0?a("div",{staticClass:"num_part"},[a("span",{staticClass:"symbol"},[e._v("本次数量: ")]),e._v(" "),a("span",{staticClass:"number_redu"},[e._v("- "+e._s(t.crQty))])]):a("div",{staticClass:"num_part"},[a("span",{staticClass:"symbol"},[e._v("本次数量: ")]),e._v(" "),a("span",[e._v("不变")])])]),e._v(" "),a("div",{staticClass:"amount_money"},[t.drAmnt>0?a("div",{staticClass:"num_part"},[a("span",{staticClass:"symbol"},[e._v("本次金额: ")]),e._v(" "),a("span",{staticClass:"number_incre"},[e._v("+ "+e._s(t.drAmnt))])]):t.crAmnt>0?a("div",{staticClass:"num_part"},[a("span",{staticClass:"symbol"},[e._v("本次金额: ")]),e._v(" "),a("span",{staticClass:"number_redu"},[e._v("- "+e._s(t.crAmnt))])]):a("div",{staticClass:"num_part"},[a("span",{staticClass:"symbol"},[e._v("本次金额: ")]),e._v(" "),a("span",[e._v("不变")])])])])]),e._v(" "),a("div",{staticClass:"summary_part vux-1px-t"},[a("div",{staticClass:"number"},[a("span",{staticClass:"symbol"},[e._v("当前数量: ")]),e._v(e._s(t.qtyBalance)+"\n                  ")]),e._v(" "),a("div",{staticClass:"price"},[a("span",{staticClass:"symbol"},[e._v("当前余额: ￥")]),e._v(e._s(t.amountBalance)+"\n                  ")])])])}),e._v(" "),a("div")],2)])]),e._v(" "),a("div",{staticClass:"btn when_less"},[a("span",{staticClass:"cfm_btn",on:{click:function(t){e.flowShow=!1}}},[e._v("关闭")])])],1)],1)],1)])},i=[],r={render:n,staticRenderFns:i};t.a=r},"3yEA":function(e,t){},"41vv":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("3cXf"),o=n(s),l=a("J0Oq"),d=n(l),u=a("kNGm"),c=n(u),f=a("I8ug"),m=a("IzfM"),h=n(m),v=a("1KNX"),p=n(v),C=a("7hoq"),y=n(C),_=a("8dL1"),g=n(_),b=a("TZXR"),w=n(b);t.default={data:function(){return{scrollOptions:{click:!0},appInfo:{},commentList:[],LatestchangeLog:{},adminCommentList:[],isAppAdmin:!1,currentUserId:"",listId:"a4897429-f4f2-44a4-ade7-2fe8dc67c3cf"}},components:{RScroll:p.default,ChangeLog:y.default,AdminComment:g.default,OtherComment:w.default},watch:{$route:{handler:function(e,t){var a=e.meta,n=void 0===a?{}:a;"APPDETAIL"===e.name&&n.reload&&(this.$loading.show(),e.meta.reload=!1,this.getAppInfo(),this.$refs.changeLog.getChangeList(),this.$refs.adminComment.getAdminComment(),this.$refs.comment.getCommetList(),this.$loading.hide())}}},methods:{getDefaultIcon:function(e){var t=a("CYNT");return e&&(e.icon=t),t},getAppInfo:function(){var e=this;return(0,f.getAppDetail)(this.listId).then(function(t){e.appInfo=t[0],e.appInfo.icon=e.appInfo.icon?"/dist/"+e.appInfo.icon:"",e.appInfo.crtTime=(0,c.default)(e.appInfo.crtTime,"YYYY-MM-DD"),e.appInfo.modTime=(0,c.default)(e.appInfo.modTime,"YYYY-MM-DD")})},getCurrentUser:function(){var e=this;return h.default.currentUser().then(function(t){e.currentUserId=t.userId})}},created:function(){var e=this,t=this.$route.params.listId;t&&(this.$loading.show(),this.listId=t,(0,d.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getCurrentUser();case 2:return t.next=4,e.getAppInfo().then(function(t){var a=(0,o.default)(e.currentUserId);e.appInfo.administratorId.length&&a===e.appInfo.administratorId&&(e.isAppAdmin=!0)});case 4:case"end":return t.stop()}},t,e)}))(),setTimeout(function(){e.$loading.hide()},500))}}},"424q":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"r-number-container"},[a("span",{staticClass:"r-number-handle",class:{disabled:e.min&&e.currentNum<=e.min},on:{click:function(t){return t.stopPropagation(),e.subNum(t)}}},[e._v("-")]),e._v(" "),a("input",{staticClass:"num",attrs:{type:"number"},domProps:{value:e.currentNum},on:{blur:e.getNum}}),e._v(" "),a("span",{staticClass:"r-number-handle plus",class:{disabled:e.max&&e.currentNum>=e.max},on:{click:function(t){return t.stopPropagation(),e.plusNum(t)}}},[e._v("+")])])},i=[],r={render:n,staticRenderFns:i};t.a=r},"43aq":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_part"},[e._m(0),e._v(" "),e._l(e.orderInfo.order.dataSet,function(t,n){return a("div",{key:n,staticClass:"form_content",class:{show_border:n!==e.orderInfo.order.dataSet.length-1}},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"名称",cellContent:t.costName_expCode,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"科目",cellContent:t.expSubject}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"费用类型",cellContent:t.costType_expCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"发票类型",cellContent:t.tdInvoiceType}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"申请金额",showSymbol:"",cellContent:e._f("numberComma")(e._f("toFixed")(t.tdAmount),3)}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"不含税金额",showSymbol:"",cellContent:e._f("numberComma")(e._f("toFixed")(t.noTaxAmount),3)}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"税率",cellContent:e._f("toFixed")(t.taxRate)}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"税金",showSymbol:"",cellContent:e._f("numberComma")(e._f("toFixed")(t.taxAmount),3)}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"报销事由",cellContent:t.expCause}})],1)])})],2),e._v(" "),a("div",{staticClass:"price_cell vux-1px-t"},[a("div",{staticClass:"price_title"},[a("span",[e._v("报销人: ")]),e._v(" "),a("span",{staticClass:"people_name"},[e._v(e._s(e.orderInfo.creatorName))])]),e._v(" "),a("div",[a("span",{staticClass:"title"},[e._v("合计:")]),e._v(" "),a("span",{staticClass:"num"},[a("span",{staticStyle:{fontSize:".12rem"}},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(e.count),3)))])])]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("费用列表")])])}],r={render:n,staticRenderFns:i};t.a=r},"46lT":function(e,t){},"47sn":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("iR2W"),r=n(i),s=a("7g+Q"),o=n(s),l=a("Qg39");t.default={name:"MatterItem",props:{item:{type:Object,default:function(){return{}}}},data:function(){return{showPop:!1}},components:{Popup:o.default},methods:{getMatterDefault:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t}},filters:{numberComma:r.default,toFixed:l.toFixed}}},4874:function(e,t){},"498P":function(e,t){},"49IH":function(e,t,a){"use strict";function n(e){a("0aRt")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("v/5J");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("IJcc"),o=a.n(s),l=a("VaQO"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-7cde84ac",null);t.default=c.exports},"4Apf":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["-moz-box-","-webkit-box-",""];t.default={name:"flexbox-item",props:{span:[Number,String],order:[Number,String]},beforeMount:function(){this.bodyWidth=document.documentElement.offsetWidth},methods:{buildWidth:function(e){return"number"==typeof e?e<1?e:e/12:"string"==typeof e?e.replace("px","")/this.bodyWidth:void 0}},computed:{style:function(){var e={},t="horizontal"===this.$parent.orient?"marginLeft":"marginTop";if(1*this.$parent.gutter!=0&&(e[t]=this.$parent.gutter+"px"),this.span)for(var a=0;a<n.length;a++)e[n[a]+"flex"]="0 0 "+100*this.buildWidth(this.span)+"%";return void 0!==this.order&&(e.order=this.order),e}},data:function(){return{bodyWidth:0}}}},"4B3i":function(e,t,a){"use strict";function n(e){a("TYbG")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("NefH");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("ZyBF"),o=a.n(s),l=a("WBHR"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-6069bda0",null);t.default=c.exports},"4BM7":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.inPut?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("warehouse-content",{attrs:{warehouse:e.warehouseIn,"warehouse-out":e.warehouseOut}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"matter-list":e.orderInfo.inPut.dataSet},scopedSlots:e._u([{key:"matterOther",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("属性: "+e._s(n.tdProcessing))]),e._v(" "),a("span",[e._v("单位: "+e._s(n.measureUnit_transObjCode))])]),e._v(" "),a("div",{staticClass:"mater_num"},[a("span",{staticClass:"num"},[e._v("\n                调拨数量: "+e._s(e._f("toFixed")(n.tdQty))+"\n              ")]),e._v(" "),a("span",{staticClass:"units"},[e._v("\n                [可用库存数: "+e._s(e._f("toFixed")(n.thenQtyStock))+"]\n              ")])])])]}}])}),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},"4CDp":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("iR2W"),d=n(l),u=a("kNGm"),c=n(u),f=a("QHLv"),m=a("0Nk0"),h=n(m);t.default={name:"PopMoneyOrderList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},required:{type:Boolean,default:!1},request:{type:String,default:"0"}},components:{RPopup:h.default},data:function(){return{page:1,limit:10,hasNext:!0,showPop:!1,srhInpTx:"",listData:[],scrollOptions:{pullUpLoad:!0},requestMethods:null}},watch:{show:{handler:function(e){this.showPop=e}},showPop:{handler:function(e){this.$emit("input",e)}}},methods:{selItem:function(e){this.$emit("sel-item",e)},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:"accepter"}])),this.requestMethods({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,o.default)(e.listData),(0,o.default)(r))})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()}},filters:{numberComma:d.default,dateFormat:c.default},created:function(){var e=[f.getInputDraft,f.getCashDiscount,f.getDraftBalance];this.requestMethods=e[this.request],this.getList()}}},"4CTk":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("MgeX"),o=n(s),l=a("HzJ8"),d=n(l),u=a("ZLEe"),c=n(u),f=a("3cXf"),m=n(f),h=a("4YfN"),v=n(h),p=a("KH7x"),C=n(p),y=a("HXPS"),_=n(y),g=a("BGNQ"),b=n(g),w=a("7g+Q"),I=n(w),x=a("z5TY"),D=n(x),P=a("SAzG"),S=n(P),k=a("PzEQ"),L=n(k),N=a("+62G"),M=n(N),T=a("kNGm"),A=n(T),O=a("u28h"),R=n(O),j=a("0AQX"),B=a("HyXB"),E=a("bKg5"),F=n(E),U=a("BUFe"),$=n(U),Q=a("VZtf"),H=n(Q),V=a("ZQWM"),q=n(V),Y=a("Pb67"),X=n(Y),G=a("yt3/"),W=n(G),z=a("89pA"),K=n(z),J=a("7cdy"),Z=n(J),ee=a("9cRV"),te=n(ee),ae=a("hLfv"),ne=n(ae),ie=a("UrVB"),re=n(ie),se=a("luHD"),oe=n(se),le=a("vl8n"),de=n(le),ue=a("+WR7"),ce=n(ue),fe=a("zWMP");a("Qg39");t.default={name:"ApplyXSCKForm",mixins:[F.default],directives:{TransferDom:M.default},components:{Icon:_.default,Cell:b.default,Popup:I.default,Group:D.default,XTextarea:L.default,XInput:S.default,RAction:$.default,RNumber:H.default,PopOrderList:X.default,PopDealerList:q.default,PopSingleSelect:W.default,PopWarehouseList:K.default,PopSodlProjectList:Z.default,PopEntityList:re.default,PopMatter:oe.default,Datetime:R.default,RPicker:de.default,PopBaseinfo:ce.default,PopMatterList:te.default,DealerOtherPart:ne.default},data:function(){return{orderList:{},showOrderPop:!1,dealerInfo:{},formData:{drDealerLogisticsTerms:"",biComment:""},submitSuccess:!1,warehouse:{warehouseType:"一般部门仓",warehouseName:"成品仓",warehouseCode:"FG0001"},taxRate:.16,numMap:{},transCode:"",formViewUniqueId:"346ede09-ac6a-489a-9242-f385932a4443",biReferenceId:"",actions:[],taskId:"",matterList:[],project:{},tmpItems:{},matter:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,contactInfo:{},checkFieldList:[{key:"tdQty",message:"请填写本次出库数量"},{key:"price",message:"请填写单价"},{key:"taxRate",message:"请填写税率"}]}},methods:{selDealer:function(e){var t=JSON.parse(e),a=(0,C.default)(t,1),n=a[0],i=n.pamentDays,r=i?(0,A.default)(Date.now()+(0,fe.accMul)(i,864e5),"YYYY-MM-DD"):"";this.dealerInfo=(0,v.default)({},n,{accountExpirationDate:r,daysOfAccount:n.pamentDays,drDealerPaymentTerm:n.paymentTerm,drDealerLogisticsTerms:n.dealerLogisticsTerms}),this.dealerInfo.drDealerPaymentTerm=this.dealerInfo.paymentTerm,null!=this.matterParams.data.dealerCode&&(this.matterParams.data.dealerCode=this.dealerInfo.dealerCode,this.matterList=[],this.orderList={})},selContact:function(e){this.contactInfo=(0,v.default)({},e)},selWarehouse:function(e){this.warehouse=JSON.parse(e),null!=this.matterParams.data.whCode&&(this.matterParams.data.whCode=this.warehouse.warehouseCode,this.matterList=[],this.orderList={})},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,m.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.inventoryCode!==e.inventoryCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getMatter:function(){if(!this.dealerInfo.dealerCode)return void this.$vux.alert.show({content:"请选择客户"});this.showMaterielPop=!this.showMaterielPop},selOrder:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){var a=e.transCode+"_"+e.inventoryCode,i=t.numMap[a]||{},r=i.tdQty,s=void 0===r?"":r,o=i.price,l=void 0===o?e.quotedPrice:o,d=i.taxRate,u=void 0===d?.16:d,c=i.promDeliTime,f=void 0===c?(0,A.default)(e.promDeliTime,"YYYY-MM-DD"):c;e.tdQty=s,e.price=l,e.taxRate=u,e.promDeliTime=f,e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null,n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t,a){var n=this.selItems,i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode&&e.transCode===t.transCode});if(-1!==i)return void n.splice(i,1);n.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,c.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});i>=0&&(e.$refs.order.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,d.default)((0,o.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,l=!1,u=void 0;try{for(var c,f=(0,d.default)(r);!(s=(c=f.next()).done);s=!0){var m=c.value;this.numMap[m.transCode+"_"+m.inventoryCode]={tdQty:m.tdQty,price:m.price,taxRate:m.taxRate,promDeliTime:m.promDeliTime}}}catch(e){l=!0,u=e}finally{try{!s&&f.return&&f.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="",a=[],n=[{key:"dealerInfo",childKey:"dealerCode",message:"客户信息"},{key:"dealerInfo",childKey:"paymentTerm",message:"结算方式"},{key:"warehouse",message:"仓库"}];t||n.every(function(a){return a.childKey&&!e[a.key][a.childKey]?(t="请选择"+a.message,!1):!!e[a.key]||(t="请选择"+a.message,!1)}),t||(0,c.default)(this.orderList).length||(t="请选择物料");var i=!0,s=!1,l=void 0;try{for(var u,f=(0,d.default)((0,o.default)(this.orderList));!(i=(u=f.next()).done);i=!0){var h=u.value,p=!0,C=!1,y=void 0;try{for(var _,g=(0,d.default)(h);!(p=(_=g.next()).done);p=!0){var b=_.value;if(!b.tdQty){t="请填写数量";break}if(!b.price){t="请填写单价";break}var w=b.taxRate||this.taxRate,I=((0,fe.accMul)(b.price,b.tdQty,w),{transMatchedCode:b.transCode,orderCode:b.transCode,outPutMatCode:b.inventoryCode,orderProCode:b.inventoryCode,tdProcessing:b.processing,assMeasureUnit:void 0!==b.assMeasureUnit?b.assMeasureUnit:null,assMeasureScale:void 0!==b.assMeasureScale?b.assMeasureScale:null,assMeasureDescription:b.assMeasureDescription||"",dealerInventoryName:b.clientInventoryName,dealerInventoryCode:b.clientInventoryCode,thenTotalQtyBal:b.qty,thenLockQty:b.stockQty,thenQtyBal:b.qtyBal,thenQtyStock:b.qtyStockBal,tdQty:b.tdQty,assistQty:b.assistQty||0,price:b.price,tdAmount:b.tdAmount,taxRate:w,noTaxPrice:b.noTaxPrice,taxAmount:b.taxAmount,promDeliTime:b.promDeliTime||"",comment:b.comment||""});this.transCode&&(I.tdId=b.tdId||""),a.push(I)}}catch(e){C=!0,y=e}finally{try{!p&&g.return&&g.return()}finally{if(C)throw y}}}}catch(e){s=!0,l=e}finally{try{!i&&f.return&&f.return()}finally{if(s)throw l}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=B.saveAndStartWf,n={},i=(0,r.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});n=(0,v.default)({},e.formData,{modifer:e.transCode?e.formData.handler:"",dealerDebitContactPersonName:e.contactInfo.dealerName||"",dealerDebitContactInformation:e.contactInfo.dealerMobilePhone||"",containerOutWarehouseManager:e.warehouse.containerOutWarehouseManager||null,handlerEntity:e.entity.dealerName,drDealerLogisticsTerms:e.dealerInfo.dealerLogisticsTerms,outPut:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName||"客户",drDealerPaymentTerm:e.dealerInfo.paymentTerm,daysOfAccount:e.dealerInfo.pamentDays,accountExpirationDate:e.dealerInfo.accountExpirationDate,containerCodeOut:e.warehouse.warehouseCode,project:e.project.projectName,departmentName:e.formData.handlerUnitName,dataSet:a}}),e.transCode&&(t=B.saveAndCommitTask,i={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var s={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,m.default)(n),wfPara:(0,m.default)(i)};e.transCode||delete s.biReferenceId,e.processCode.length||(t=B.submitAndCalc,delete s.wfPara,delete s.biReferenceId),e.biReferenceId&&(s.biReferenceId=e.biReferenceId),e.saveData(t,s)}})},getFormData:function(){var e=this;return(0,j.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=o;var l={},u=r.outPut,c=u.dataSet,f=void 0===c?[]:c,m=!0,h=!1,p=void 0;try{for(var C,y=(0,d.default)(f);!(m=(C=y.next()).done);m=!0){var _=C.value;_.transCode=_.transMatchedCode,_.qtyBal=_.thenQtyBal,_.qtyStockBal=_.thenQtyStock,_.inventoryPic=_.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),_.inventoryName=_.inventoryName_outPutMatCode,_.inventoryCode=_.outPutMatCode,_.specification=_.specification_outPutMatCode,_.processing=_.tdProcessing,_.qty=_.thenTotalQtyBal,_.stockQty=_.thenLockQty,_.clientInventoryName=_.dealerInventoryName,_.clientInventoryCode=_.dealerInventoryCode,l[_.transCode]||(l[_.transCode]=[]),l[_.transCode].push(_)}}catch(e){h=!0,p=e}finally{try{!m&&y.return&&y.return()}finally{if(h)throw p}}e.matterList=f,e.dealerInfo={creatorName:r.dealerDebitContactPersonName,dealerName:u.dealerName_dealerDebit,dealerMobilePhone:r.dealerDebitContactInformation,dealerCode:u.dealerDebit,dealerLabelName:u.drDealerLabel,province:u.province_dealerDebit,city:u.city_dealerDebit,county:u.county_dealerDebit,address:u.address_dealerDebit,paymentTerm:u.drDealerPaymentTerm,dealerLogisticsTerms:r.drDealerLogisticsTerms,pamentDays:u.daysOfAccount,accountExpirationDate:u.accountExpirationDate},e.contactInfo={dealerName:r.dealerDebitContactPersonName,dealerMobilePhone:r.dealerDebitContactInformation},e.warehouse={warehouseCode:u.containerCodeOut,warehouseName:u.warehouseName_containerCodeOut,warehouseType:u.warehouseType_containerCodeOut,warehouseProvince:u.warehouseProvince_containerCodeOut,warehouseCity:u.warehouseCity_containerCodeOut,warehouseDistrict:u.warehouseDistrict_containerCodeOut,warehouseAddress:u.warehouseAddress_containerCodeOut,containerOutWarehouseManager:r.containerOutWarehouseManager},e.orderParams={dealerCode:e.dealerInfo.dealerCode,whCode:e.warehouse.warehouseCode},e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,v.default)({},e.formData,e.handlerDefault,{biComment:r.biComment,biId:r.biId,biProcessStatus:r.biProcessStatus,creator:r.creator,modifer:r.modifer,drDealerLogisticsTerms:r.drDealerLogisticsTerms}),e.project={projectName:u.project},e.biReferenceId=r.biReferenceId,e.orderList=l,e.$loading.hide()})},hasDraftData:function(){return!!(0,o.default)(this.orderList).length&&(0,r.default)({},"XSCK_DATA",{orderList:this.orderList,warehouse:this.warehouse,dealerInfo:this.dealerInfo,contactInfo:this.contactInfo,formData:this.formData,project:this.project})},getRelationData:function(){var e=this,t=this.$route.query.uniqueId;return(0,j.getSOList)({formViewUniqueId:t,transCode:this.relationKey}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i;t.attachment;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});r.order;e.dealerInfo={creatorName:r.dealerDebitContactPersonName,dealerMobilePhone:r.dealerDebitContactInformation,dealerCode:r.order.dealerDebit,dealerSubclass:r.order.drAccountSub,dealerName:r.order.dealerName_dealerDebit,province:r.order.province_dealerDebit,city:r.order.city_dealerDebit,county:r.order.county_dealerDebit,address:r.order.address_dealerDebit,paymentTerm:r.order.drDealerPaymentTerm},e.orderParams={dealerCode:e.dealerInfo.dealerCode},e.$loading.hide()})}},created:function(){var e=sessionStorage.getItem("XSCK_DATA");if(e){var t=JSON.parse(e);this.orderList=t.orderList;var a=!0,n=!1,i=void 0;try{for(var r,s=(0,d.default)((0,o.default)(this.orderList));!(a=(r=s.next()).done);a=!0){var l=r.value,u=!0,c=!1,f=void 0;try{for(var m,h=(0,d.default)(l);!(u=(m=h.next()).done);u=!0){var v=m.value;this.matterList.push(v)}}catch(e){c=!0,f=e}finally{try{!u&&h.return&&h.return()}finally{if(c)throw f}}}}catch(e){n=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}this.warehouse=t.warehouse,this.dealerInfo=t.dealerInfo,this.contactInfo=t.contactInfo,this.formData=t.formData,this.project=t.project,this.orderParams={dealerCode:this.dealerInfo.dealerCode,whCode:this.warehouse.warehouseCode},sessionStorage.removeItem("XSCK_DATA")}}}},"4D87":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"RDate",props:{title:{type:String,default:""},value:{type:String,default:""},required:{type:Boolean,default:!1},placeholder:{type:String,default:""},startDate:{type:String,default:""},endDate:{type:String,default:""}},data:function(){return{time:""}},watch:{value:{handler:function(e){this.time=e},immediate:!0}},methods:{clickDateSelect:function(){var e=this;this.$vux.datetime.show({confirmText:"确定",cancelText:"取消",value:this.time,startDate:this.startDate,endDate:this.endDate,onConfirm:function(t){e.time=t,e.$emit("input",t)}})}}}},"4Gt7":function(e,t){},"4HCx":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("kNGm"),r=(n(i),a("0AQX")),s=a("+VRO"),o=n(s);t.default={data:function(){return{userData:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},uploadStyle:{width:"100%",padding:"0.06rem 0.1rem"}}},mixins:[o.default],methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,r.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=o,e.userData=r,e.workFlowInfoHandler()})},goEdit:function(){var e=this.$route.params,t=e.folder,a=e.fileName,n=this.$route.query.name;this.$router.push({path:"/fillform/"+t+"/"+a,query:{name:n,transCode:this.transCode}})}}}},"4LeJ":function(e,t){},"4NWw":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),m=a("89pA"),h=n(m),v=a("hPJo"),p=n(v),C=a("3NX5"),y=n(C);t.default={data:function(){return{warehouseIn:{},formViewUniqueId:"064e455d-4277-473a-9e54-d9ae4b1f23be"}},mixins:[l.default],components:{workFlow:f.default,PopWarehouseList:h.default,RAction:u.default,WarehouseContent:p.default,MatterList:y.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.inPut,n=void 0===a?{}:a,i=n.dataSet,s=!0,o=!1,l=void 0;try{for(var d,u=(0,r.default)(i);!(s=(d=u.next()).done);s=!0){var c=d.value;c.inventoryPic=c.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+c.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){o=!0,l=e}finally{try{!s&&u.return&&u.return()}finally{if(o)throw l}}e.warehouseIn={warehouseCode:n.containerCode,warehouseName:n.warehouseName_containerCode,warehouseType:n.warehouseType_containerCode,warehouseProvince:n.warehouseProvince_containerCode,warehouseCity:n.warehouseCity_containerCode,warehouseDistrict:n.warehouseDistrict_containerCode,warehouseAddress:n.warehouseAddress_containerCode},e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},"4Ocy":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.contactInfo,logistics:!1,payment:!1}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"order-list":e.orderList,noTaxAmount:e.noTaxAmount,taxAmount:e.taxAmount,count:e.count},scopedSlots:e._u([{key:"orderTitle",fn:function(t){return[a("span",{staticClass:"order_title"},[e._v("出库单")])]}},{key:"matterOther",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("属性: "+e._s(n.tdProcessing||"无"))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.taxRate,expression:"item.taxRate"}]},[e._v("税率: "+e._s(n.taxRate))]),e._v(" "),a("span",[e._v("待开票数量: "+e._s(n.thenQtyBal))])]),e._v(" "),a("div",{staticClass:"mater_num"},[a("span",{staticClass:"num"},[e._v("单价: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.price),3)))]),e._v(" "),a("span",{staticClass:"num"},[e._v("本次开票数量: "+e._s(e._f("toFixed")(n.tdQty)))])]),e._v(" "),a("div",{staticClass:"mater_price"},[a("span",[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(n.tdAmount),3)))]),e._v(" "),n.taxRate?a("span",{staticClass:"num",style:{display:n.tdAmount&&n.tdAmount.toString().length>=5?"block":""}},[e._v("\n                [金额: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.noTaxAmount),3))+" + 税金: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.taxAmount),3))+"]\n              ")]):e._e()])])]}}])}),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},"4TvN":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABICAYAAABCzyOOAAAAAXNSR0IArs4c6QAAB0pJREFUeAHlm3lsFUUcx1vksogELB6gUAUDbYICSky8EhSh/mFU8IqCiX+ZoNHEeMSqUUmUiMHwj8YowSgQUYwYDWiEaCRABAQvVGJttBxSKLSA3CL1823fa/bt22t2Z1/fo9/k29md+c3verO7M7PbsjKLaGtr6wVfhpstqi0tVQRfowRAobW0vLfgLUGXw0fhUZhFowXVpaOCqIfCldnoHeVvpRNFQk8Jehrc5wjeefhDQvXF351o+8H5zqg9jtcXfyS5HvbMPQ0+I+AJSCyGlwZLlv0X0l50zT2ieEQCesA6ZNfBsCRIZbn+lBJCRwQJGEZAC+H1pRSYqa+BI4Ik3IPCH0/3JChpniOCBPSn7XU4Q0LdAXmJIAnXELguhYu7QwKyMXZeGiSgfZ1Aw2oLSejUmzVU7GX7iCAJNTi6CI6z5HBvS3oKpqYnSXgYa6/CvhatJkoEPunxey6sgpXwVIbHKRvh9vLy8pOU1qAF03a0XWhNY4eiBhwdGVUnPvRB9iZ4I5wIR8GgH0ZJqIdfw5VwBfZOUMYHTuyAtrEtikcYHQJfgc0JHWii/yw4JIpdTxk6p5GIJk9jmUps9obPwkPQJk6gbCE0Twiddtr0JKOrxS8RtI+Em1Kw6VR5kBPtkZzh54e7Xo853Zhs40wvhTimOcp3cLxXu8U6TQjnwY3YHBFFb1rP+744kJNgzifj0JdwQBTHLMloOrAe29eF6UtrRMhu56jAkds5/wxWqKHAOAd7q/Dh/iC7aSainwzjwFSKD2GiuYV0JYBsv4Mv0/x0pHVpyJ52sm6hXALz1jQSKDAU6yJ8utrLbpoj4k4MfgR7eRnuojpN0j4lGdpjyYFmlnuoGZxTe/qffMFM9GZnmGleGk47zuOjnGzLcC/lEWdjgY5rGQDTnbY0Ipqp0MImDWjOsA5ugJugFkuHKXOADwOpqIaj4bWwFl4A04R+hBH4c7DdCE7shTbxM8qeglVJoqD/WDgP7odp4fFOH7FgKxEb0KWnhFWgU0+fh+BuaBtaZ3XczDnwe1sV1ejfCN5qNXoPZdg4G86Bx6FN3NduDo0tCbQupa9mbgUD9ibAP6EtLGt3Hm2tMTU+XbDoXYbwdyBcEdNvdzdtBfTRFDhOIh5z+VbwU/zWZvPH0AYmx5lZvsAj57WCR+4yiA//UnU37BjarnbD06s0Ig4YpFTfQnTFJMw3LvypgFsMYvASXWQSlKbi0/kltKNcNMAfzUzvgIcSODXK5NJ4EaO7ExhLrSt+bUX5MwkMDNOl8Y/XWHHV1XNeTKvIvJjlH/zd5XfU0xbtE+RsqeVZ6KiYRdZ1c4oNPNLOst5djMmwP+W+DLdQLsVGI2UsyD9s1NF5aQwFPTUiwrbUdTPt3HYzNUJfrRneg9pqD8IpGtdC7WPEAn31QUuc1xOHlIjDMAhvxfEKhVrZPg8VoCmW0GFQTLuzTY0h3xAlEXoNZwQUa6G0LIZDzi5aw1xmZBhh+ujDV1N8pY5HAnrpuquI4cyCAJ0mTbpJ615iBPo0mxhBdkHY43MzNyGjHSSU3obXDxh57i+sF8lP+jf7tmz0bfFu+CksEUYKSYLear/pbSt2rV7dmd6sjfzGs5VhM0vTx5lGw3mxQ/buqEtDb8lMsNNAeBej/pewEbHDQKFENU9IA5MMlR4wkF8u2bBE7DJQKNHLDeWjipvq3R9VMXJvSFYzyyCYLrAqg5QlaBvHfeIl+utekaVe1ngdq24AjII1XBbfS1CJCJpiB7V5GdK2fBo4C6WaPttG575K2KURNmLcjrW6K4r4fBWjYVnWv7CnxvlZwYjlHxHlulpMX+fNdDoRNiLyXpY6O3sc661WKUCr6Xqno2H3iCqncITjd5F5DpreW8JUz0dgLdR702M+pbPtXmTehl74gMrZeQ3cjYNWh3p3aQT0vQ9tQst3o6cR8ot9HPiWej1t8uHTIVt9kgOjRQ/yg+GerAILpUaZEbDZ5GFX31L5f/5Ao5a7QZhi5AXCKNPbqDjvS9x+7KLCaF8C+TFuJZx/AgNX0bpZLgwJdGpIe14zNyItem6ASZ4iTfSvRZfvN5t5hjsqJjnq9b9lc+BU9ASvosnUaI8MOqv0y2pVaQz6aYNmLgzbBUMkB3qdV2VskA70W57RpP9KvtJIBx30XVEQ7jJS6BJGcSXUNxNroO47XtDeqPY2NZJigb7DYQN8BEb+6lbG2h9zdBrO8a/Q7zrSfPwKhlcbZSJgSzYugRdBXZqa3DTAv5LqR3cNehrRk/dVDvXRgJInYBBi7y5H86BIpMiAtsL1vYMfttIQ615RJCFGd4NA+0Jdx36YG11biUuSgUFQMzAvaBZqvL1fsikhWI0Mv6myZo3VJRucqeMEqzdVddDr462d1OvO331AwNVwNXSjkYrx3ScTRErAGh0zoD4mdeIYJw92q2RkgyXwKVDTWCUhi885GJuVKcUy9gYKgWuGOBFqdToaDoXfMKubSVly+B+TUWebmmKE3AAAAABJRU5ErkJggg=="},"4XVd":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getUserList=t.unsubscribeApp=t.subscribeApp=t.isSubscribeByRelationKey=t.savePraise=t.saveComment=t.getReply=t.getCommentList=t.getPCCommentList=void 0;var i=a("3cXf"),r=n(i),s=a("4YfN"),o=n(s),l=a("GOq4"),d=n(l),u=t.getPCCommentList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/comment/getCommentByRelationKey",data:(0,o.default)({sort:(0,r.default)([{property:"crtTime",direction:"DESC"}]),page:1,limit:10,total:0},e)})},c=(t.getCommentList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/ds/getMobileCommentByTransCode",data:(0,o.default)({page:1,limit:10},e)})},t.getReply=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/comment/getCommentByParentId",data:(0,o.default)({sort:(0,r.default)([{property:"crtTime",direction:"ASC"}]),parentId:145657,page:1,limit:10},e)})},t.saveComment=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.post({url:"/H_roleplay-si/comment/saveComment",data:(0,o.default)({commentAndReply:!1,commentAttachments:[]},e)})}),f=t.savePraise=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return d.default.post({url:"/H_roleplay-si/comment/savePraise",data:{commentId:e}})};t.isSubscribeByRelationKey=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return d.default.ajax({url:"/H_roleplay-si/comment/isSubscribeByRelationKey",data:{relationKey:e,type:"instance"}})},t.subscribeApp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({type:"POST",contentType:"application/x-www-form-urlencoded",url:"/H_roleplay-si/comment/subscribeApp",data:e})},t.unsubscribeApp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({type:"POST",contentType:"application/x-www-form-urlencoded",url:"/H_roleplay-si/comment/unsubscribeAppByRelationKey",data:(0,o.default)({},e,{type:"instance"})})},t.getUserList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/comment/getUserByRelationKey",data:e})};t.default={getCommentList:u,saveComment:c,savePraise:f}},"4YLJ":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vux-toast"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowMask&&e.show,expression:"isShowMask && show"}],staticClass:"weui-mask_transparent"}),e._v(" "),a("transition",{attrs:{name:e.currentTransition}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"weui-toast",class:e.toastClass,style:{width:e.width}},[a("i",{directives:[{name:"show",rawName:"v-show",value:"text"!==e.type,expression:"type !== 'text'"}],staticClass:"weui-icon-success-no-circle weui-icon_toast"}),e._v(" "),e.text?a("p",{staticClass:"weui-toast__content",style:e.style,domProps:{innerHTML:e._s(e.text)}}):a("p",{staticClass:"weui-toast__content",style:e.style},[e._t("default")],2)])])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"4bt0":function(e,t,a){"use strict";function n(e){a("KxAj")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("l5aY");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("juMk"),o=a.n(s),l=a("da6f"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-05419057",null);t.default=c.exports},"4cUA":function(e,t,a){"use strict";function n(e){a("fp3p")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("16Vu");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("FOog"),o=a.n(s),l=a("1lOC"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-128f9882",null);t.default=c.exports},"4eDc":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("KH7x"),r=n(i),s=a("IHPB"),o=n(s),l=a("rVsN"),d=n(l),u=a("lC5x"),c=n(u),f=a("J0Oq"),m=n(f),h=a("3cXf"),v=n(h),p=a("4YfN"),C=n(p),y=a("8VZL"),_=n(y),g=a("HXPS"),b=n(g),w=a("fQz5"),I=n(w),x=a("kNGm"),D=n(x),P=a("hFVz"),S=n(P),k=a("I8ug"),L=a("7biW"),N=n(L),M=a("1KNX"),T=n(M),A=a("Ab2S"),O=n(A);t.default={data:function(){return{listId:"c0375170-d537-4f23-8ed0-a79cf75f5b04",dealerList:[],srhInpTx:"",activeIndex:0,tabItem:"全部",dealerClassfiy:[],uniqueId:"7f01c808-d338-4711-8c99-319337078cc1",page:1,limit:20,id:"",hasNext:!0,scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0},total:null,clickVisited:!1,action:{}}},components:{Tab:_.default,Icon:b.default,TabItem:I.default,RScroll:T.default,searchIcon:N.default,addBtn:O.default},methods:{resetCondition:function(){this.dealerList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.resetPullDown()},tabClick:function(e,t){this.tabItem=e.title,this.activeIndex=t,this.uniqueId=e.uniqueId,this.resetCondition(),this.$refs.bScroll.scrollTo(0,0),this.getDealer()},searchList:function(e){var t=e.val,a=void 0===t?"":t;e.property;this.srhInpTx=a,this.resetCondition(),this.getDealer()},goNextPage:function(e,t,a){var n=this;this.clickVisited||(this.clickVisited=!0,e.visited=!0,this.$set(this.dealerList,t,(0,C.default)({},e)),setTimeout(function(){n.clickVisited=!1;var t={transCode:e.transCode};e.transCode||"/adress/edit_ads"!==a||"全部"===n.tabItem||(t.dealerType=n.tabItem),n.$router.push({path:a,query:t})},200))},goEditAds:function(e,t){this.goNextPage(e,t,"/adress/edit_ads")},goDetail:function(e,t){this.goNextPage(e,t,"/adress/adressDetail")},getDealer:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=void 0;""!==this.srhInpTx&&(a=[{operator:"like",value:this.srhInpTx,property:"creatorName",attendedOperation:"or"},{operator:"like",value:this.srhInpTx,property:"dealerName"}]);var n={limit:this.limit,page:this.page,start:(this.page-1)*this.limit};return a&&(n.filter=(0,v.default)(a)),(0,m.default)(c.default.mark(function a(){return c.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,S.default.getId(e.uniqueId).then(function(t){t.length>0&&(e.id=t[0].id)}).catch(function(t){e.$vux.alert.show({content:t.message})});case 2:return a.next=4,S.default.getDealerList(e.id,n).then(function(a){var n=a.dataCount,i=void 0===n?0:n,r=a.tableContent,s=void 0===r?[]:r,o="";t&&0===e.activeIndex&&e.total&&(o=i-e.total==0?"暂无新数据":"新增"+(i-e.total)+"条数据",e.$vux.toast.show({text:o,position:"top",width:"50%",type:"text",time:700})),s.forEach(function(t){var a=t.province,n=void 0===a?"":a,i=t.city,r=void 0===i?"":i,s=t.county,o=void 0===s?"":s,l=t.address,d=void 0===l?"":l;e.setStatus(t),t.dealerPic=t.dealerPic?"/H_roleplay-si/ds/download?url="+t.dealerPic+"&width=400&height=400":e.getDefaultImg(),t.detailAddress=n||r||o||d?""+n+r+o+d:"暂无"}),0===e.activeIndex&&1===e.page&&sessionStorage.setItem("DL",i),e.dealerList=1===e.page?s:e.dealerList.concat(s),e.hasNext=i>(e.page-1)*e.limit+s.length,t||e.$nextTick(function(){e.resetScroll()})}).catch(function(t){e.resetScroll()});case 4:case"end":return a.stop()}},a,e)}))()},getClassfiy:function(){var e=this;S.default.getDealerClassfiy(this.page).then(function(t){t.map(function(e){"往来对象"===e.title&&(e.title="全部")}),e.dealerClassfiy=t}).catch(function(t){e.$vux.alert.show({content:t.message})})},resetScroll:function(){this.$refs.bScroll.finishPullDown(),this.$refs.bScroll.finishPullUp()},onPullingUp:function(){this.page++,this.getDealer()},onPullingDown:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.page=1,e)return void this.getData(!0);this.getData()},getSession:function(){var e=this;return new d.default(function(t){e.total=sessionStorage.getItem("DL"),t()})},getData:function(e){var t=this;return(0,m.default)(c.default.mark(function a(){return c.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getSession();case 2:if(!e){a.next=6;break}return a.next=5,t.getDealer(!0).then(function(){t.$nextTick(function(){t.$refs.bScroll.finishPullDown().then(function(){t.$refs.bScroll.finishPullUp()})})});case 5:return a.abrupt("return");case 6:return a.next=8,t.getDealer();case 8:case"end":return a.stop()}},a,t)}))()},changeVisitedStatus:function(){var e=this;setTimeout(function(){var t=[].concat((0,o.default)(e.dealerList));t.forEach(function(e){e.visited=!1}),e.dealerList=t},200)},getAppDetail:function(){var e=this;return(0,k.getAppDetail)(this.listId).then(function(t){var a=(0,r.default)(t,1),n=a[0],i=void 0===n?{}:n,s=i.action;e.action=s})},setStatus:function(e){switch(e.dealerStatus){case"使用中":e.statusClass="duty_done_c";break;default:e.statusClass="duty_fall_c"}},getDefaultImg:function(e){var t=a("sUQx");return e&&(e.dealerPic=t),t}},filters:{dateFormat:D.default},watch:{$route:{handler:function(e,t){var a=e.path,n=void 0===a?"":a,i=e.meta,r=void 0===i?{}:i;if("/adress"===n&&(this.changeVisitedStatus(),r.reload)){if(e.meta.reload=!1,this.uniqueId="7f01c808-d338-4711-8c99-319337078cc1",this.srhInpTx="",this.activeIndex=0,this.resetCondition(),t.query.transCode)return void this.onPullingDown(!1);this.onPullingDown()}}}},created:function(){this.getAppDetail(),this.getClassfiy(),this.getData(!1)}}},"4evt":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2362,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"成品名称",value:"inventoryName_transObjCode"}]}},mixins:[i.default]}},"4hfg":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("HyXB"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2243,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}]}},mixins:[i.default],methods:{},created:function(){}}},"4ixO":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("a3Yh"),o=n(s),l=a("ZLEe"),d=n(l),u=a("3cXf"),c=n(u),f=a("KH7x"),m=n(f),h=a("4YfN"),v=n(h),p=a("SAzG"),C=n(p),y=a("u28h"),_=(n(y),a("PzEQ")),g=n(_),b=a("kNGm"),w=(n(b),a("z5TY")),I=n(w),x=a("BGNQ"),D=n(x),P=a("0AQX"),S=a("HyXB"),k=a("bKg5"),L=n(k),N=a("ZQWM"),M=n(N),T=a("I5id"),A=n(T),O=a("luHD"),R=n(O),j=a("9cRV"),B=n(j),E=a("hLfv"),F=n(E),U=a("VZtf"),$=n(U),Q=a("vl8n"),H=n(Q),V=a("+WR7"),q=n(V),Y=a("zWMP"),X=a("Qg39");t.default={name:"ApplySBCGYSForm",data:function(){return{listId:"64c5afbc-c075-11e8-85e2-b06ebfc41432",srhInpTx:"",orderList:{},matterList:[],transMode:["现付","预付","账期","票据"],showDealerPop:!1,dealerInfo:{},contactInfo:{},formData:{biId:"",biComment:""},submitSuccess:!1,taxRate:.16,numMap:{},transCode:"",formViewUniqueId:"fed81800-4c34-44a9-b517-c3fd9f2ab57d",biReferenceId:"",actions:[],taskId:"",showOrderPop:!1,tmpItems:{},facility:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,filterList:[{name:"设施名称",value:"facilityName"},{name:"设施编码",value:"facilityCode"},{name:"订单号",value:"transCode"}],facilityParams:{},checkFieldList:[{key:"tdQty",message:"请填写本次验收数量"}]}},mixins:[L.default],components:{XInput:C.default,RNumber:$.default,XTextarea:g.default,Group:I.default,Cell:D.default,PopMatter:R.default,RPicker:H.default,PopDealerList:M.default,PopBaseinfo:q.default,PopFacilityList:A.default,PopMatterList:B.default,DealerOtherPart:F.default},computed:{totalAmount:function(){var e=this,t=0;return this.matterList.forEach(function(a){e.simpleCalcMatter(a),t=(0,Y.accAdd)(t,a.noTaxAmount)}),Number(t)},taxAmount:function(){var e=0;return this.matterList.forEach(function(t){e=(0,X.toFixed)((0,Y.accAdd)(e,t.taxAmount))}),e},tdAmount:function(){return parseFloat((0,Y.accAdd)(this.totalAmount,Number(this.taxAmount)).toFixed(2))}},watch:{facility:{handler:function(e){this.simpleCalcMatter(e)},deep:!0}},methods:{selItem:function(e){this.formData=(0,v.default)({},this.formData,e)},selDealer:function(e){var t=JSON.parse(e),a=(0,m.default)(t,1),n=a[0];this.dealerInfo=(0,v.default)({},n),null!=this.matterParams.data.dealerCode&&(this.matterParams.data.dealerCode=this.dealerInfo.dealerCode,this.matterList=[],this.orderList={})},selContact:function(e){this.contactInfo=(0,v.default)({},e)},modifyMatter:function(e,t,a){this.facility=JSON.parse((0,c.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selMatter:function(e){var t=JSON.parse(e),a={};t.forEach(function(e){e.tdQty=e.tdQty||e.qtyBal,e.taxRate=.16,a[e.transCode]||(a[e.transCode]=[]),a[e.transCode].push(e)}),this.matterList=t,this.orderList=a},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.facilityCode!==e.facilityCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.facilityCode===t.facilityCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.facilityCode===e.facilityCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,c.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,d.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.facilityCode===a.facilityCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.facilityCode===t.facilityCode});i>=0&&(e.$refs.matter.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.facilityCode===a.facilityCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerCode||(t="请选择供应商信息"),t||this.matterList.length||(t="请选择设施"),t||this.matterList.every(function(n){if(!n.price)return t="单价不能为空",!1;if(!n.tdQty&&0!==n.tdQty)return t="数量不能为空",!1;var i=n.taxRate||e.taxRate,r=(0,Y.accMul)(n.price,n.tdQty,i),s={transMatchedCode:n.transCode,facilityObjCode:n.facilityCode,facilityType:n.facilityType,thenTotalQtyBal:n.qty,thenLockQty:n.purchased,thenQtyBal:n.qtyBal||0,tdQty:n.tdQty,price:n.price,taxRate:i,taxAmount:r,tdAmount:(0,Y.accAdd)((0,Y.accMul)(n.price,n.tdQty),r),comment:n.comment||""};return e.transCode&&(s.tdId=n.tdId||null),a.push(s),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=S.saveAndStartWf,n={},i=(0,o.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});n=(0,v.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.formData.handler,modifer:e.formData.handler,dealerCreditContactPersonName:e.contactInfo.dealerName||"",dealerCreditContactInformation:e.contactInfo.dealerMobilePhone||"",order:{dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName||"供应商",dataSet:a}}),e.transCode&&(t=S.saveAndCommitTask,i={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,c.default)(n),wfPara:(0,c.default)(i)};e.transCode||delete r.biReferenceId,e.processCode.length||(t=S.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=l;var d=s.order,u=(s.dealerDebit,d.dataSet),c=void 0===u?[]:u,f={},m=[],h=!0,p=!1,C=void 0;try{for(var y,_=(0,r.default)(c);!(h=(y=_.next()).done);h=!0){var g=y.value;g=(0,v.default)({},g,{transCode:g.transMatchedCode,inventoryPic:g.inventoryPic_facilityObjCode?"/H_roleplay-si/ds/download?url="+g.inventoryPic_facilityObjCode+"&width=400&height=400":e.getDefaultImg(),facilityName:g.facilityName_facilityObjCode,facilityCode:g.facilityObjCode,facilityBigType:g.facilityBigType_facilityObjCode,facilitySubclass:g.facilitySubclass_facilityObjCode,facilityUnit:g.facilityUnit_facilityObjCode,qty:g.thenTotalQtyBal,purchased:g.thenLockQty,qtyBal:g.thenQtyBal}),f[g.transCode]||(f[g.transCode]=[]),m.push(g),f[g.transCode].push(g)}}catch(e){p=!0,C=e}finally{try{!h&&_.return&&_.return()}finally{if(p)throw C}}e.dealerInfo={dealerName:d.dealerName_dealerCodeCredit,dealerMobilePhone:s.dealerCreditContactInformation,dealerCode:d.dealerCodeCredit,dealerLabelName:d.crDealerLabel,province:d.province_dealerCodeCredit,city:d.city_dealerCodeCredit,county:d.county_dealerCodeCredit,address:d.address_dealerCodeCredit},e.facilityParams={dealerCode:d.dealerCodeCredit},e.contactInfo={dealerName:s.dealerCreditContactPersonName,dealerMobilePhone:s.dealerCreditContactInformation},e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,v.default)({},e.formData,e.handlerDefault,{creator:s.creator,biId:s.biId,biComment:s.biComment}),e.biReferenceId=s.biReferenceId,e.matterList=m,e.orderList=f,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,o.default)({},"SBCGYS_DATA",{matter:this.matterList,dealer:this.dealerInfo,formData:this.formData,contactInfo:this.contactInfo})},getRelationData:function(){var e=this,t=this.$route.query.uniqueId;return(0,P.getSOList)({formViewUniqueId:t,transCode:this.relationKey}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i;t.attachment;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var s=r.order,l=(r.dealerDebit,s.dataSet),d=void 0===l?[]:l;d=d.map(function(t){return(0,v.default)({},t,{inventoryPic:t.inventoryPic_facilityObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_facilityObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_facilityObjCode,facilityCode:t.inventoryCode_facilityObjCode,specification:t.specification_facilityObjCode,measureUnit:t.measureUnit_facilityObjCode,transCode:e.relationKey,qtyBal:t.tdQty,tdQty:""})}),e.dealerInfo={creatorName:r.dealerDebitContactPersonName,dealerMobilePhone:r.dealerDebitContactInformation,dealerCode:r.order.dealerDebit,dealerSubclass:r.order.drAccountSub,dealerName:r.order.dealerName_dealerDebit,province:r.order.province_dealerDebit,city:r.order.city_dealerDebit,county:r.order.county_dealerDebit,address:r.order.address_dealerDebit},e.matterList=d,e.orderList=(0,o.default)({},e.relationKey,d),e.$loading.hide()})},moreUnitClick:function(e){e.showDrop=!e.showDrop},moreUnitSelected:function(e){this.facility.assMeasureUnit=e.invSubUnitName,this.facility.assistQty=e.invSubUnitMulti},assembleOrder:function(e){var t={};e.forEach(function(e){t[e.transCode]||(t[e.transCode]=[]),t[e.transCode].push(e)}),this.orderList=t}},created:function(){var e=sessionStorage.getItem("SBCGYS_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.dealerInfo=t.dealer,this.formData=t.formData,this.contactInfo=t.contactInfo,this.assembleOrder(this.matterList),sessionStorage.removeItem("SBCGYS_DATA")}}}},"4lhw":function(e,t){},"4qY7":function(e,t,a){"use strict";function n(e){a("LAx5")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("jAUN");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("qzCh"),o=a.n(s),l=a("Xty+"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-37a3e7c1",null);t.default=c.exports},"4s8C":function(e,t){},"4tO6":function(e,t,a){"use strict";function n(e){a("8Aug")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("nexV");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("TJZS"),o=a.n(s),l=a("09C7"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-6f9298e8",null);t.default=c.exports},"5+0a":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("bFc7"),p=n(v),C=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",contactInfo:{}}},mixins:[u.default],components:{workFlow:h.default,RAction:f.default,contactPart:p.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=!0,i=!1,s=void 0;try{for(var l,d=(0,r.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;e.count=(0,C.accAdd)(e.count,u.tdAmount)}}catch(e){i=!0,s=e}finally{try{!n&&d.return&&d.return()}finally{if(i)throw s}}t.formData.validUntil=(0,o.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData;var c=e.orderInfo.order;e.contactInfo={creatorName:c.dealerDebitContactPersonName,dealerName:c.dealerName_dealerCodeCredit,dealerMobilePhone:t.formData.dealerCreditContactInformation,dealerContactPersonName:t.formData.dealerCreditContactPersonName,dealerCode:c.dealerCodeCredit,dealerLabelName:c.crDealerLabel,province:c.province_dealerCodeCredit,city:c.city_dealerCodeCredit,county:c.county_dealerCodeCredit,address:c.address_dealerCodeCredit},e.workFlowInfoHandler()})}}}},"5+pH":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("KH7x"),r=n(i),s=a("lC5x"),o=n(s),l=a("J0Oq"),d=n(l),u=a("rVsN"),c=n(u),f=a("3cXf"),m=n(f),h=a("IHPB"),v=n(h),p=a("4YfN"),C=n(p),y=a("8VZL"),_=n(y),g=a("fQz5"),b=n(g),w=a("kNGm"),I=n(w),x=a("HyXB"),D=a("I8ug"),P=a("7biW"),S=n(P),k=a("1KNX"),L=n(k),N=a("Ab2S"),M=n(N);t.default={data:function(){return{listId:"64a41c48-4e8d-4709-bd01-5d60ad6bc625",warehouseList:[],srhInpTx:"",tabSelect:"全部",activeIndex:0,warehouseClassfiy:[{name:"全部"},{name:"个人仓"},{name:"加工车间仓"},{name:"一般部门仓"},{name:"客户仓"},{name:"加工商仓"}],page:1,limit:20,id:2129,hasNext:!0,scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0},total:null,clickVisited:!1,action:{}}},components:{Tab:_.default,TabItem:b.default,searchIcon:S.default,RScroll:L.default,addBtn:M.default},methods:{resetCondition:function(){this.warehouseList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.resetPullDown()},tabClick:function(e,t){this.activeIndex=t,this.resetCondition(),this.tabSelect="",this.tabSelect=e.name,this.$refs.bScroll.scrollTo(0,0),this.getwarehouse()},searchList:function(e){var t=e.val,a=void 0===t?"":t;e.property;this.srhInpTx=a,this.resetCondition(),this.getwarehouse()},goNextPage:function(e,t,a){var n=this;this.clickVisited||(this.clickVisited=!0,e.visited=!0,this.$set(this.warehouseList,t,(0,C.default)({},e)),setTimeout(function(){n.clickVisited=!1;var t={transCode:e.transCode};e.transCode||"/warehouse/edit_warehouse"!==a||"全部"===n.tabSelect||(t.warehouseType=n.tabSelect),n.$router.push({path:a,query:t})},200))},goEditAds:function(e,t){this.goNextPage(e,t,"/warehouse/edit_warehouse")},goDetail:function(e,t){this.goNextPage(e,t,"/warehouse/warehouseDetail")},getwarehouseType:function(){var e=this;return(0,x.getDictByType)("warehouseRelType").then(function(t){e.warehouseClassfiy=[],e.warehouseClassfiy.push({name:"全部"}),e.warehouseClassfiy=e.warehouseClassfiy.concat(t.tableContent)})},getwarehouse:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=[];"全部"!==this.tabSelect?(a=[{operator:"eq",value:this.tabSelect,property:"warehouseType"}],this.srhInpTx&&(a[0].attendedOperation="and (",a=[].concat((0,v.default)(a),[{operator:"like",value:this.srhInpTx,property:"warehouseName",attendedOperation:"or"},{operator:"like",value:this.srhInpTx,property:"warehouseCode",attendedOperation:")"}]))):a=[].concat((0,v.default)(a),[{operator:"like",value:this.srhInpTx,property:"warehouseName",attendedOperation:"or"},{operator:"like",value:this.srhInpTx,property:"warehouseCode"}]);var n={limit:this.limit,page:this.page,start:(this.page-1)*this.limit};return a&&(n.filter=(0,m.default)(a)),(0,x.getList)(this.id,n).then(function(a){var n=a.dataCount,i=void 0===n?0:n,r=a.tableContent,s=void 0===r?[]:r,o="";t&&0===e.activeIndex&&e.total&&(o=i-e.total==0?"暂无新数据":"新增"+(i-e.total)+"条数据",e.$vux.toast.show({text:o,position:"top",width:"50%",type:"text",time:700})),s.forEach(function(t){var a=t.warehouseProvince,n=void 0===a?"":a,i=t.warehouseCity,r=void 0===i?"":i,s=t.warehouseDistrict,o=void 0===s?"":s,l=t.warehouseAddress,d=void 0===l?"":l;e.setStatus(t),t.warehousePic=t.warehousePic?"/H_roleplay-si/ds/download?url="+t.warehousePic+"&width=400&height=400":e.getDefaultImg(),t.detailAddress=n||r||o||d?""+n+r+o+d:""}),0===e.activeIndex&&1===e.page&&sessionStorage.setItem("CK",i),e.warehouseList=1===e.page?s:e.warehouseList.concat(s),e.$loading.hide(),e.hasNext=i>(e.page-1)*e.limit+s.length,t||e.$nextTick(function(){e.resetScroll()})}).catch(function(t){e.resetScroll()})},resetScroll:function(){this.$refs.bScroll.finishPullDown(),this.$refs.bScroll.finishPullUp()},onPullingUp:function(){this.page++,this.getwarehouse()},onPullingDown:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.page=1,e)return void this.getData(!0);this.getData()},getSession:function(){var e=this;return new c.default(function(t){e.total=sessionStorage.getItem("CK"),t()})},getData:function(e){var t=this;return(0,d.default)(o.default.mark(function a(){return o.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getSession();case 2:if(!e){a.next=6;break}return a.next=5,t.getwarehouse(!0).then(function(){t.$nextTick(function(){t.$refs.bScroll.finishPullDown().then(function(){t.$refs.bScroll.finishPullUp()})})});case 5:return a.abrupt("return");case 6:return a.next=8,t.getwarehouse();case 8:case"end":return a.stop()}},a,t)}))()},changeVisitedStatus:function(){var e=this;setTimeout(function(){var t=[].concat((0,v.default)(e.warehouseList));t.forEach(function(e){e.visited=!1}),e.warehouseList=t},200)},getAppDetail:function(){var e=this;return(0,D.getAppDetail)(this.listId).then(function(t){var a=(0,r.default)(t,1),n=a[0],i=void 0===n?{}:n,s=i.action;e.action=s})},setStatus:function(e){switch(e.warehouseStatus){case"使用中":e.statusClass="duty_done_c";break;default:e.statusClass="duty_fall_c"}},getDefaultImg:function(e){var t=a("t732");return e&&(e.warehousePic=t),t}},filters:{dateFormat:I.default},watch:{$route:{handler:function(e,t){var a=e.path,n=void 0===a?"":a,i=e.meta,r=void 0===i?{}:i;if("/warehouse"===n&&(this.changeVisitedStatus(),r.reload)){if(e.meta.reload=!1,this.srhInpTx="",this.activeIndex=0,this.resetCondition(),t.query.transCode)return void this.onPullingDown(!1);this.onPullingDown()}}}},created:function(){this.$loading.show(),this.getAppDetail(),this.getwarehouseType(),this.getData(!1)}}},"50DD":function(e,t){},"53nK":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.corpid="ww3c1aa17c16e380b7",i=t.secret="_MTqTVltBKS_HVBPbM00zHAdC0NpLNtcGvpTD0BQjC4",r=t.agentid="1000039",s=t.redirect_uri="http%3A%2F%2Fcpacn2012.3322.org%3A1175%2FHermes%2Fhome";t.default={corpid:n,secret:i,agentid:r,redirect_uri:s}},"53yf":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MgeX"),r=n(i),s=a("lC5x"),o=n(s),l=a("J0Oq"),d=n(l),u=a("4YfN"),c=n(u),f=a("a3Yh"),m=n(f),h=a("ZLEe"),v=n(h),p=a("3cXf"),C=n(p),y=a("HzJ8"),_=n(y),g=a("z5TY"),b=n(g),w=a("SAzG"),I=n(w),x=a("PzEQ"),D=n(x),P=a("u28h"),S=n(P),k=a("BGNQ"),L=n(k),N=a("kNGm"),M=n(N),T=a("0AQX"),A=a("HyXB"),O=a("bKg5"),R=n(O),j=a("9cRV"),B=n(j),E=a("luHD"),F=n(E),U=a("VZtf"),$=n(U),Q=a("vl8n"),H=n(Q),V=a("+WR7"),q=n(V),Y=a("zWMP"),X=a("Qg39"),G=a("pyij"),W=n(G);t.default={data:function(){return{orderList:{},matterList:[],showMaterielPop:!1,formData:{biId:"",biComment:""},modifyKey:"",filterList:[{name:"物料名称",value:"invName"},{name:"物料编码",value:"matCode"},{name:"交易号",value:"transCode"}],checkFieldList:[{key:"tdQty",message:"请填写本次申请数量"}]}},components:{XTextarea:D.default,Group:b.default,XInput:I.default,Datetime:S.default,Cell:L.default,RNumber:$.default,PopMatter:F.default,PopMatterList:B.default,RPicker:H.default,PopBaseinfo:q.default},filters:{dateFormat:M.default},computed:{totalNum:function(){var e=0;return this.matterList.forEach(function(t){e=(0,Y.accAdd)(e,t.tdQty)}),Number(e)}},watch:{matterList:{handler:function(e){var t=!0,a=!1,n=void 0;try{for(var i,r=(0,_.default)(e);!(t=(i=r.next()).done);t=!0){var s=i.value;s.shippingTime=(0,M.default)((0,W.default)(s.shippingTime,s.promDeliTime),"YYYY-MM-DD")}}catch(e){a=!0,n=e}finally{try{!t&&r.return&&r.return()}finally{if(a)throw n}}}}},mixins:[R.default],methods:{selMatter:function(e){var t=JSON.parse(e),a={};t.map(function(e){e.tdQty=e.tdQty||Math.max(e.qtyBalance,e.moq),e.promDeliTime=e.processingStartDate,e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null,a[e.transCode]||(a[e.transCode]=[]),a[e.transCode].push(e)}),this.matterList=t,this.orderList=a},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,C.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.inventoryCode!==e.inventoryCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode&&e.transCode===t.transCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,C.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,v.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});i>=0&&n.splice(i,1),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},checkAmt:function(e){var t=e.price,a=e.tdQty,n=e.qtyBalance;t&&(e.price=Math.abs((0,X.toFixed)(t))),a&&(e.tdQty=Math.abs((0,X.toFixed)(a)),a>n&&(e.tdQty=n))},submitOrder:function(){var e=this,t="",a=[];if(this.matterList.length||(t="请选择物料"),t||this.matterList.every(function(e){return e.tdQty?(a.push({tdId:e.tdId||"",transMatchedCode:e.transCode,transObjCode:e.inventoryCode,tdProcessing:e.processing,assMeasureUnit:e.assMeasureUnit||"个",assMeasureScale:e.assMeasureScale||null,assistQty:e.assistQty||0,productDemandQty:e.allQty,thenLockQty:e.qtyed,thenQtyBal:e.qtyBalance,tdQty:e.tdQty,shippingTime:e.shippingTime,promDeliTime:e.promDeliTime,comment:e.comment}),!0):(t="请填写本次申请数量",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=A.saveAndStartWf,n=(0,m.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.biComment,formData:(0,C.default)((0,c.default)({},e.formData,{handlerEntity:e.entity.dealerName,order:{dataSet:a}})),wfPara:(0,C.default)(n)};e.isResubmit&&(t=A.saveAndCommitTask,i.biReferenceId=e.biReferenceId),e.processCode.length||(t=A.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,d.default)(o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,T.getSOList)({formViewUniqueId:e.uniqueId,transCode:e.transCode}).then(function(t){e.listId=t.listId,e.biReferenceId=t.biReferenceId,e.attachment=t.attachment;var a=t.formData,n={},i=[];i=a.order.dataSet.map(function(t){return t=(0,c.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,inventoryType:t.inventoryType_transObjCode,inventorySubclass:t.inventorySubclass_transObjCode,allQty:t.productDemandQty,qtyed:t.thenLockQty,qtyBalance:t.thenQtyBal,transCode:t.transMatchedCode}),n[t.transCode]||(n[t.transCode]=[]),n[t.transCode].push(t),t}),e.orderList=n,e.matterList=i,e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,c.default)({},e.handlerDefault,{creator:a.creator,modifer:a.modifer,biId:a.biId,biComment:a.biComment,biProcessStatus:a.biProcessStatus}),e.$loading.hide()});case 2:case"end":return t.stop()}},t,e)}))()},hasDraftData:function(){return!!(0,r.default)(this.orderList).length&&(0,m.default)({},"CGSQ_DATA",{orderList:this.orderList,formData:this.formData})}},created:function(){var e=this,t=sessionStorage.getItem("CGSQ_DATA");if(t){this.orderList=JSON.parse(t).orderList,this.formData=JSON.parse(t).formData;for(var a in this.orderList)this.orderList[a].forEach(function(t){e.matterList.push(t)});sessionStorage.removeItem("CGSQ_DATA")}}}},"54rU":function(e,t){},"55ug":function(e,t,a){"use strict";function n(e){a("hZK2")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("eq7N");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("SVCO"),o=a.n(s),l=a("AjN8"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-96e940e2",null);t.default=c.exports},"57wr":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("DYun"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"toast",mixins:[i.default],props:{value:Boolean,time:{type:Number,default:2e3},type:{type:String,default:"success"},transition:String,width:{type:String,default:"7.6em"},isShowMask:{type:Boolean,default:!1},text:String,position:String},data:function(){return{show:!1}},created:function(){this.value&&(this.show=!0)},computed:{currentTransition:function(){return this.transition?this.transition:"top"===this.position?"vux-slide-from-top":"bottom"===this.position?"vux-slide-from-bottom":"vux-fade"},toastClass:function(){return{"weui-toast_forbidden":"warn"===this.type,"weui-toast_cancel":"cancel"===this.type,"weui-toast_success":"success"===this.type,"weui-toast_text":"text"===this.type,"vux-toast-top":"top"===this.position,"vux-toast-bottom":"bottom"===this.position,"vux-toast-middle":"middle"===this.position}},style:function(){if("text"===this.type&&"auto"===this.width)return{padding:"10px"}}},watch:{show:function(e){var t=this;e&&(this.$emit("input",!0),this.$emit("on-show"),this.fixSafariOverflowScrolling("auto"),clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.show=!1,t.$emit("input",!1),t.$emit("on-hide"),t.fixSafariOverflowScrolling("touch")},this.time))},value:function(e){this.show=e}}}},"59Rw":function(e,t,a){"use strict";function n(e){a("rpUU")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("OBkd");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("qwnS"),o=a.n(s),l=a("yvm3"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-5a003212",null);t.default=c.exports},"5Bns":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages"},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("tab-item",{attrs:{tabVal:e.listView},on:{"tab-click":e.tabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"each_duty",on:{click:function(a){e.getFlow(t)}}},[a("div",{staticClass:"duty_top"},[a("div",{staticClass:"basic_info"},[a("span",{staticClass:"warehouse warehouse_name"},[e._v("\n                "+e._s(t.accountSub)+"\n              ")]),e._v(" "),a("span",{staticClass:"warehouse warehouse_code"},[e._v(e._s(t.dealerCode))])]),e._v(" "),void 0!==t.accountAge?a("div",{staticClass:"mater_code"},[a("span",{staticClass:"title"},[e._v("账龄天数")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(t.accountAge))])]):e._e()]),e._v(" "),t.dealerName?a("div",{staticClass:"matter"},[a("div",{staticClass:"matter_name"},[e._v("\n            "+e._s(t.dealerName)+"\n          ")])]):e._e(),e._v(" "),a("div",{staticClass:"duty_btm",class:{"vux-1px-t":t.dealerName}},[a("div",{staticClass:"ware_type"}),e._v(" "),""!==t.amountBalance?a("div",{staticClass:"balance"},[a("span",{staticClass:"symbol"},[e._v("余额: ￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(t.amountBalance)))+"\n          ")]):e._e()])])}),0),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{attrs:{position:"bottom",height:"80%"},model:{value:e.flowShow,callback:function(t){e.flowShow=t},expression:"flowShow"}},[a("r-scroll",{ref:"flowListWrapper",staticClass:"flow_list_wrapper",attrs:{options:e.FlowScrollOptions,"has-next":e.FlowHasNext,"no-data":!e.FlowHasNext&&!e.flowData.length},on:{"on-pulling-up":e.onPullingUpFlow}},[a("div",{staticClass:"flow"},[a("div",{staticClass:"flow_top"},[a("div",{staticClass:"title"},[e._v("流水详情")])]),e._v(" "),a("div",{staticClass:"flow_list"},e._l(e.flowData,function(t,n){return a("div",{key:n,staticClass:"each_flow",on:{click:function(e){e.stopPropagation(),t.showList=!t.showList}}},[a("div",{staticClass:"duty_top"},[a("div",{staticClass:"transCode"},[a("span",{staticClass:"order_title"},[e._v("编码")]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(t.transCode))])]),e._v(" "),a("div",{staticClass:"time"},[e._v("\n                    "+e._s(e._f("dateFormat")(t.calcTime))+"\n                  ")])]),e._v(" "),a("div",{staticClass:"show_list"},[a("div",{staticClass:"app_name"},[e._v("\n                    "+e._s(t.appTitle)),a("span",{staticClass:"symbol"},[e._v("[应用]")])]),e._v(" "),a("div",{staticClass:"num_info"},[a("div",{staticClass:"count"},[a("div",{staticClass:"num_part"},[a("span",{staticClass:"symbol"},[e._v("借方金额: ")]),e._v(" "),t.drAmnt>0?a("span",{staticClass:"number_incre"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("toFixed")(t.drAmnt))+"\n                        ")]):a("span",[e._v("0")])])]),e._v(" "),a("div",{staticClass:"amount_money"},[a("div",{staticClass:"num_part"},[a("span",{staticClass:"symbol"},[e._v("贷方金额: ")]),e._v(" "),t.crAmnt>0?a("span",{staticClass:"number_incre"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("toFixed")(t.crAmnt))+"\n                        ")]):a("span",[e._v("0")])])])])]),e._v(" "),a("div",{staticClass:"summary_part vux-1px-t"},[a("div",{staticClass:"number"}),e._v(" "),a("div",{staticClass:"price"},[a("span",{staticClass:"symbol"},[e._v("当前余额:")]),e._v(" "),a("span",{class:{increase:t.amountBalance>0,reduce:t.amountBalance<0}},[a("span",{staticClass:"symbol"},[e._v(" ￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(t.amountBalance)))+"\n                    ")])])])])}),0)])]),e._v(" "),a("div",{staticClass:"btn when_less"},[a("span",{staticClass:"cfm_btn",on:{click:function(t){e.flowShow=!1}}},[e._v("关闭")])])],1)],1)],1)])},i=[],r={render:n,staticRenderFns:i};t.a=r},"5KgG":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("4YfN"),o=n(s),l=a("KH7x"),d=n(l),u=a("3cXf"),c=n(u),f=a("0AQX"),m=a("+VRO"),h=n(m),v=a("BUFe"),p=n(v),C=a("AupE"),y=n(C),_=a("bFc7"),g=n(_),b=a("6WeX"),w=n(b),I=a("3NX5"),x=n(I),D=a("zWMP");a("Qg39");t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"",contactInfo:{}}},components:{workFlow:y.default,RAction:p.default,contactPart:g.default,PriceTotal:w.default,MatterList:x.default},mixins:[h.default],methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,f.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(e.submitInfo=JSON.parse((0,c.default)(t)),!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.formData,n=void 0===a?{}:a,i=n.order,s=n.inPut,l=i.dataSet,u=s.dataSet,f=(0,d.default)(u,1),m=f[0],h=!0,v=!1,p=void 0;try{for(var C,y=(0,r.default)(l);!(h=(C=y.next()).done);h=!0){var _=C.value;e.count=(0,D.accAdd)(e.count,_.tdAmount),_.inventoryPic=_.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){v=!0,p=e}finally{try{!h&&y.return&&y.return()}finally{if(v)throw p}}e.attachment=t.attachment,e.orderInfo=n,e.contactInfo=(0,o.default)({},i,m,n,{creatorName:i.dealerDebitContactPersonName,dealerName:i.dealerName_dealerDebit,dealerMobilePhone:n.dealerDebitContactInformation,dealerContactPersonName:n.dealerDebitContactPersonName,dealerCode:i.dealerDebit,dealerLabelName:i.drDealerLabel,province:i.province_dealerDebit,city:i.city_dealerDebit,county:i.county_dealerDebit,address:i.address_dealerDebit}),e.workFlowInfoHandler()})}}}},"5NAd":function(e,t,a){"use strict";function n(e){a("QXTq")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("jIlA");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("N3Ds"),o=a.n(s),l=a("7IaZ"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-16b035f6",null);t.default=c.exports},"5O+N":function(e,t,a){"use strict";function n(e){a("YJS0")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("8cWJ");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("FKiD"),o=a.n(s),l=a("A/Vq"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-fc3df2f4",null);t.default=c.exports},"5Puw":function(e,t,a){"use strict";function n(e){a("nYM9")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("n8ws");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("4eDc"),o=a.n(s),l=a("JoHG"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-96c95e7c",null);t.default=c.exports},"5SxB":function(e,t,a){"use strict";function n(e){a("nzh1")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("JuKn");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("5cym"),o=a.n(s),l=a("QsxX"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-531adaf8",null);t.default=c.exports},"5UXJ":function(e,t,a){"use strict";function n(e){a("bVUx")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("M/Db");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("avU7"),o=a.n(s),l=a("1JHh"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-229b35e0",null);t.default=c.exports},"5VC7":function(e,t,a){"use strict";function n(e){a("d3GC")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("yjOG");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("LVgA"),o=a.n(s),l=a("g7Jd"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-f79dd88a",null);t.default=c.exports},"5XmH":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Qg39"),i=a("zWMP");t.default={name:"RNumber",props:{num:{type:Number,default:0},max:{type:Number,default:0},min:{type:Number,default:1},checkNum:{type:Function,default:function(e){return 0===e&&(e=1),Math.abs((0,n.toFixed)(e,2))}}},data:function(){return{currentNum:0}},watch:{num:{handler:function(e){this.currentNum=e}}},methods:{subNum:function(){this.currentNum<=this.min||(this.currentNum=parseFloat((0,i.accSub)(this.currentNum,1)),this.$emit("input",this.currentNum))},plusNum:function(){this.max&&this.max===this.num||(this.currentNum=parseFloat((0,i.accAdd)(this.currentNum,1)),this.$emit("input",this.currentNum))},getNum:function(e){var t=Number(e.target.value);this.max&&t>this.max&&(t=this.max),this.min&&t<this.min&&(t=this.min),this.currentNum=this.checkNum(t),e.target.value=this.currentNum,this.$emit("input",this.currentNum)}},created:function(){this.currentNum=this.num}}},"5YVY":function(e,t){},"5YqO":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("DYun"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"toast",mixins:[i.default],props:{value:Boolean,time:{type:Number,default:2e3},type:{type:String,default:"success"},transition:String,width:{type:String,default:"7.6em"},isShowMask:{type:Boolean,default:!1},text:String,position:String},data:function(){return{show:!1}},created:function(){this.value&&(this.show=!0)},computed:{currentTransition:function(){return this.transition?this.transition:"top"===this.position?"vux-slide-from-top":"bottom"===this.position?"vux-slide-from-bottom":"vux-fade"},toastClass:function(){return{"weui-toast_forbidden":"warn"===this.type,"weui-toast_cancel":"cancel"===this.type,"weui-toast_success":"success"===this.type,"weui-toast_text":"text"===this.type,"vux-toast-top":"top"===this.position,"vux-toast-bottom":"bottom"===this.position,"vux-toast-middle":"middle"===this.position}},style:function(){if("text"===this.type&&"auto"===this.width)return{padding:"10px"}}},watch:{show:function(e){var t=this;e&&(this.$emit("input",!0),this.$emit("on-show"),this.fixSafariOverflowScrolling("auto"),clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.show=!1,t.$emit("input",!1),t.$emit("on-hide"),t.fixSafariOverflowScrolling("touch")},this.time))},value:function(e){this.show=e}}}},"5Ys/":function(e,t){},"5cYO":function(e,t,a){"use strict";function n(e){a("pzJd")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("s5eW");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("RTBc"),o=a.n(s),l=a("MGsm"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-64dc92df",null);t.default=c.exports},"5cym":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("3cXf"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("bFc7"),p=n(v),C=a("6WeX"),y=n(C),_=a("3NX5"),g=n(_),b=a("zWMP");a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"",contactInfo:{},orderList:{},matterList:[]}},computed:{noTaxAmount:function(){var e=0;return this.matterList.forEach(function(t){e=(0,b.accAdd)(e,t.noTaxAmount)}),e},taxAmount:function(){var e=0;return this.matterList.forEach(function(t){e=(0,b.accAdd)(e,t.taxAmount)}),e}},components:{workFlow:h.default,RAction:f.default,contactPart:p.default,PriceTotal:y.default,MatterList:g.default},mixins:[u.default],methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(e.submitInfo=JSON.parse((0,o.default)(t)),!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a={},n=t.formData.inPut.dataSet,i=!0,s=!1,l=void 0;try{for(var d,u=(0,r.default)(n);!(i=(d=u.next()).done);i=!0){var c=d.value;e.count=(0,b.accAdd)(e.count,c.tdAmount),c.inventoryPic=c.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+c.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),c.transObjCode=c.transMatchedCode,a[c.transMatchedCode]||(a[c.transMatchedCode]=[]),a[c.transMatchedCode].push(c)}}catch(e){s=!0,l=e}finally{try{!i&&u.return&&u.return()}finally{if(s)throw l}}e.matterList=n,e.orderList=a,e.orderInfo=t.formData,e.getcontactInfo("inPut"),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo={creatorName:t.dealerDebitContactPersonName,dealerName:a.dealerName_dealerCodeCredit,dealerMobilePhone:t.dealerCreditContactInformation,dealerContactPersonName:t.dealerCreditContactPersonName,dealerCode:a.dealerCodeCredit,dealerLabelName:a.crDealerLabel,province:a.province_dealerCodeCredit,city:a.city_dealerCodeCredit,county:a.county_dealerCodeCredit,address:a.address_dealerCodeCredit,payment:a.crDealerPaymentTerm,pamentDays:a.daysOfAccount}}},created:function(){}}},"5eL4":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("KH7x"),r=n(i),s=a("lC5x"),o=n(s),l=a("J0Oq"),d=n(l),u=a("rVsN"),c=n(u),f=a("3cXf"),m=n(f),h=a("IHPB"),v=n(h),p=a("4YfN"),C=n(p),y=a("8VZL"),_=n(y),g=a("fQz5"),b=n(g),w=a("kNGm"),I=n(w),x=a("HyXB"),D=a("I8ug"),P=a("7biW"),S=n(P),k=a("1KNX"),L=n(k),N=a("Ab2S"),M=n(N);t.default={data:function(){return{listId:"64a41c48-4e8d-4709-bd01-5d60ad6bc625",warehouseList:[],srhInpTx:"",tabSelect:"全部",activeIndex:0,warehouseClassfiy:[{name:"全部"},{name:"个人仓"},{name:"加工车间仓"},{name:"一般部门仓"},{name:"客户仓"},{name:"加工商仓"}],page:1,limit:20,id:2129,hasNext:!0,scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0},total:null,clickVisited:!1,action:{}}},components:{Tab:_.default,TabItem:b.default,searchIcon:S.default,RScroll:L.default,addBtn:M.default},methods:{resetCondition:function(){this.warehouseList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.resetPullDown()},tabClick:function(e,t){this.activeIndex=t,this.resetCondition(),this.tabSelect="",this.tabSelect=e.name,this.$refs.bScroll.scrollTo(0,0),this.getwarehouse()},searchList:function(e){var t=e.val,a=void 0===t?"":t;e.property;this.srhInpTx=a,this.resetCondition(),this.getwarehouse()},goNextPage:function(e,t,a){var n=this;this.clickVisited||(this.clickVisited=!0,e.visited=!0,this.$set(this.warehouseList,t,(0,C.default)({},e)),setTimeout(function(){n.clickVisited=!1;var t={transCode:e.transCode};e.transCode||"/warehouse/edit_warehouse"!==a||"全部"===n.tabSelect||(t.warehouseType=n.tabSelect),n.$router.push({path:a,query:t})},200))},goEditAds:function(e,t){this.goNextPage(e,t,"/warehouse/edit_warehouse")},goDetail:function(e,t){this.goNextPage(e,t,"/warehouse/warehouseDetail")},getwarehouseType:function(){var e=this;return(0,x.getDictByType)("warehouseRelType").then(function(t){e.warehouseClassfiy=[],e.warehouseClassfiy.push({name:"全部"}),e.warehouseClassfiy=e.warehouseClassfiy.concat(t.tableContent)})},getwarehouse:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=[];"全部"!==this.tabSelect?(a=[{operator:"eq",value:this.tabSelect,property:"warehouseType"}],this.srhInpTx&&(a[0].attendedOperation="and (",a=[].concat((0,v.default)(a),[{operator:"like",value:this.srhInpTx,property:"warehouseName",attendedOperation:"or"},{operator:"like",value:this.srhInpTx,property:"warehouseCode",attendedOperation:")"}]))):a=[].concat((0,v.default)(a),[{operator:"like",value:this.srhInpTx,property:"warehouseName",attendedOperation:"or"},{operator:"like",value:this.srhInpTx,property:"warehouseCode"}]);var n={limit:this.limit,page:this.page,start:(this.page-1)*this.limit};return a&&(n.filter=(0,m.default)(a)),(0,x.getList)(this.id,n).then(function(a){var n=a.dataCount,i=void 0===n?0:n,r=a.tableContent,s=void 0===r?[]:r,o="";t&&0===e.activeIndex&&e.total&&(o=i-e.total==0?"暂无新数据":"新增"+(i-e.total)+"条数据",e.$vux.toast.show({text:o,position:"top",width:"50%",type:"text",time:700})),s.forEach(function(t){var a=t.warehouseProvince,n=void 0===a?"":a,i=t.warehouseCity,r=void 0===i?"":i,s=t.warehouseDistrict,o=void 0===s?"":s,l=t.warehouseAddress,d=void 0===l?"":l;e.setStatus(t),t.warehousePic=t.warehousePic?"/H_roleplay-si/ds/download?url="+t.warehousePic+"&width=400&height=400":e.getDefaultImg(),t.detailAddress=n||r||o||d?""+n+r+o+d:""}),0===e.activeIndex&&1===e.page&&sessionStorage.setItem("CK",i),e.warehouseList=1===e.page?s:e.warehouseList.concat(s),e.$loading.hide(),e.hasNext=i>(e.page-1)*e.limit+s.length,t||e.$nextTick(function(){e.resetScroll()})}).catch(function(t){e.resetScroll()})},resetScroll:function(){this.$refs.bScroll.finishPullDown(),this.$refs.bScroll.finishPullUp()},onPullingUp:function(){this.page++,this.getwarehouse()},onPullingDown:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.page=1,e)return void this.getData(!0);this.getData()},getSession:function(){var e=this;return new c.default(function(t){e.total=sessionStorage.getItem("CK"),t()})},getData:function(e){var t=this;return(0,d.default)(o.default.mark(function a(){return o.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getSession();case 2:if(!e){a.next=6;break}return a.next=5,t.getwarehouse(!0).then(function(){t.$nextTick(function(){t.$refs.bScroll.finishPullDown().then(function(){t.$refs.bScroll.finishPullUp()})})});case 5:return a.abrupt("return");case 6:return a.next=8,t.getwarehouse();case 8:case"end":return a.stop()}},a,t)}))()},changeVisitedStatus:function(){var e=this;setTimeout(function(){var t=[].concat((0,v.default)(e.warehouseList));t.forEach(function(e){e.visited=!1}),e.warehouseList=t},200)},getAppDetail:function(){var e=this;return(0,D.getAppDetail)(this.listId).then(function(t){var a=(0,r.default)(t,1),n=a[0],i=void 0===n?{}:n,s=i.action;e.action=s})},setStatus:function(e){switch(e.warehouseStatus){case"使用中":e.statusClass="duty_done_c";break;default:e.statusClass="duty_fall_c"}},getDefaultImg:function(e){var t=a("t732");return e&&(e.warehousePic=t),t}},filters:{dateFormat:I.default},watch:{$route:{handler:function(e,t){var a=e.path,n=void 0===a?"":a,i=e.meta,r=void 0===i?{}:i;if("/warehouse"===n&&(this.changeVisitedStatus(),r.reload)){if(e.meta.reload=!1,this.srhInpTx="",this.activeIndex=0,this.resetCondition(),t.query.transCode)return void this.onPullingDown(!1);this.onPullingDown()}}}},created:function(){this.$loading.show(),this.getAppDetail(),this.getwarehouseType(),this.getData(!1)}}},"5fEC":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2256,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}]}},mixins:[i.default],methods:{},created:function(){}}},"5gKc":function(e,t,a){"use strict";function n(e){a("MgKn")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MgX+");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("HJsR"),o=a.n(s),l=a("cNmV"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-7435bc89",null);t.default=c.exports},"5iSH":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement;return(e._self._c||t)("span",{class:["vux-badge",{"vux-badge-dot":void 0===e.text,"vux-badge-single":void 0!==e.text&&1===e.text.toString().length}],domProps:{textContent:e._s(e.text)}})},i=[],r={render:n,staticRenderFns:i};t.a=r},"5ixT":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"vux-popup-animate-"+e.position}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.show&&!e.initialShow,expression:"show && !initialShow"}],staticClass:"vux-popup-dialog",class:["vux-popup-"+e.position,e.show?"vux-popup-show":""],style:e.styles},[e.shouldRenderBody?e._t("default"):e._e()],2)])},i=[],r={render:n,staticRenderFns:i};t.a=r},"5jAZ":function(e,t,a){"use strict";function n(e){a("ZkwU")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("jBKy");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("VnXt"),o=a.n(s),l=a("p+UZ"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-5b861f2d",null);t.default=c.exports},"5kYi":function(e,t){},"5pYO":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages xsbj-list-conatiner",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noQty:"",noCount:""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"5pt1":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("6q39"),v=n(h),p=a("kNGm"),C=n(p),y=a("fEP3"),_=a("1KNX"),g=n(_),b=a("7biW"),w=n(b);t.default={name:"PopWorkGDBLLList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:m.default,LoadMore:v.default,RScroll:g.default,MSearch:w.default},filters:{dateFormat:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},workList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterList:[{name:"成品名称",value:"inventoryName"},{name:"成品编码",value:"matCode"},{name:"工序名称",value:"procedureName"}],filterProperty:""}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){return e.transCode===this.selItems.transCode},selThis:function(e,t){this.showPop=!1,this.selItems=(0,d.default)({},e),this.$emit("sel-work",this.selItems)},setDefaultValue:function(){this.selItems=(0,d.default)({},this.defaultValue)},getWorkOrderTask:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,y.getWorkGDBLLList)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.workList=1===e.page?r:[].concat((0,o.default)(e.workList),(0,o.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.workList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getWorkOrderTask()},onPullingUp:function(){this.page++,this.getWorkOrderTask()}},created:function(){this.setDefaultValue(),this.getWorkOrderTask()}}},"5q3q":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("a3Yh"),d=n(l),u=a("7g+Q"),c=n(u),f=a("+62G"),m=n(f),h=a("z5TY"),v=n(h),p=a("BGNQ"),C=n(p),y=a("iR2W"),_=n(y),g=a("u28h"),b=n(g),w=a("SAzG"),I=n(w),x=a("PzEQ"),D=n(x),P=a("HyXB"),S=a("fEP3"),k=a("0AQX"),L=a("bKg5"),N=n(L),M=a("7D9F"),T=n(M),A=a("j4rH"),O=n(A),R=a("JQMB"),j=n(R),B=a("vl8n"),E=n(B),F=a("FlCz"),U=n(F),$=a("+WR7"),Q=n($),H=a("0o6b"),V=a("Qg39"),q=a("zWMP");t.default={directives:{TransferDom:m.default},components:{Popup:c.default,PopWorkStartList:O.default,Group:v.default,Cell:C.default,Datetime:b.default,XInput:I.default,XTextarea:D.default,PopManagerList:T.default,RPicker:E.default,PopFacilityList:j.default,BomList:U.default,PopBaseinfo:Q.default},data:function(){return{listId:"c54b3325-a5c1-4d75-a3c4-c6cf0e988aae",showWorkPop:!1,dealer:{},formData:{biComment:""},workInfo:{},defaultManager:{},biProcessStatus:"",scanResult:"",bomList:[],facility:{}}},mixins:[N.default],filters:{numberComma:_.default},methods:{selWork:function(e){var t=this;e.tdQty=e.thenQtyBal,this.workInfo=e,(0,S.getBomWorkStart)(this.workInfo.inventoryCode).then(function(a){var n=a.tableContent,i=void 0===n?[]:n;i.forEach(function(t){t.tdQty=(0,V.toFixed)((0,q.accMul)(t.qty,e.tdQty,1+t.specificLoss),2)}),t.bomList=i})},selManager:function(e){this.defaultManager=JSON.parse(e),this.workInfo.dealerDebit=this.defaultManager.dealerCode},submitOrder:function(){var e=this,t="",a=[],n=[];this.workInfo.procedureName||(t="请选择工序");var i=[{key:"dealerName",msg:"请填写工人"},{key:"tdQty",msg:"请填写验收数量"},{key:"wareName",msg:"请填写仓库"}];if(t||i.every(function(a){return!!e.workInfo[a.key]||(t=a.msg,!1)}),t)return void this.$vux.alert.show({content:t});var s=this.workInfo;a.push({proPointCode:s.proPointCode,thenQtyBal:s.thenQtyBal,tdQty:s.tdQty,dealerDebit:s.dealerCode,drDealerLabel:s.dealerLabel,proFlowCode:s.proFlowCode||"",facilityObjCode:this.facility.facilityCode||"",facilityTypebase_facilityObjCode:this.facility.facilityType||"",transObjCode:this.workInfo.inventoryCode}),this.bomList.forEach(function(e){n.push({outPutMatCode:e.inventoryCode,inventoryName_outPutMatCode:e.inventoryName,processProCode:e.parentInvCode,tdProcessing:e.processing,specification_outPutMatCode:e.specification,measureUnit_outPutMatCode:e.measureUnit,bomType:e.bomType,bomQty:e.qty,bomSpecificLoss:e.specificLoss,tdQty:e.tdQty})}),this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=P.saveAndStartWf,i=(0,d.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});e.isResubmit&&(i={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var l={listId:e.listId,biComment:e.formData.biComment,formData:(0,o.default)((0,r.default)({},e.formData,{handlerEntity:e.entity.dealerName,biProcessStatus:e.biProcessStatus||null,order:{containerCode:s.whInCode,dataSet:a},outPut:{containerCode:s.whInCode,dataSet:n}})),wfPara:(0,o.default)(i)};e.isResubmit&&(t=P.saveAndCommitTask,l.biReferenceId=e.biReferenceId),e.processCode.length||(t=P.submitAndCalc,delete l.wfPara,delete l.biReferenceId),e.biReferenceId&&(l.biReferenceId=e.biReferenceId),e.saveData(t,l)}})},getFormData:function(){var e=this;return(0,k.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=t.attachment;var o=s.order,l=s.outPut,d=o.dataSet,u=void 0===d?[]:d,c=l.dataSet;e.workInfo=(0,r.default)({},u[0],{inventoryCode:u[0].transObjCode,inventoryName:u[0].inventoryName_transObjCode,procedureName:u[0].procedureName_proPointCode,technicsName:u[0].technicsName_proFlowCode,transCode:u[0].transMatchedCode,processing:u[0].tdProcessing||null,wareName:o.warehouseName_containerCode,whInCode:o.containerCode,wareAddress:o.warehouseAddress_containerCode,dealerName:u[0].dealerName_dealerDebit,dealerCode:u[0].dealerDebit,dealerLabel:u[0].drDealerLabel}),e.facility={facilityName:u[0].facilityName_facilityObjCode,facilityCode:u[0].facilityObjCode,facilityType:u[0].facilityTypebase_facilityObjCode},c.forEach(function(e){e.inventoryCode=e.outPutMatCode,e.inventoryName=e.inventoryName_outPutMatCode,e.measureUnit=e.measureUnit_outPutMatCode,e.parentInvCode=e.processProCode,e.processing=e.tdProcessing,e.qty=e.bomQty,e.qtyBal=e.thenQtyStock,e.specification=e.specification_outPutMatCode||"无",e.specificLoss=e.bomSpecificLoss||0}),e.bomList=c,e.warehouse={warehouseCode:o.containerCode,warehouseName:o.warehouseName_containerCode,warehouseType:o.warehouseType_containerCode,warehouseProvince:o.warehouseProvince_containerCode,warehouseCity:o.warehouseCity_containerCode,warehouseDistrict:o.warehouseDistrict_containerCode,warehouseAddress:o.warehouseAddress_containerCode},e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,r.default)({},e.handlerDefault,{biComment:s.biComment,biId:s.biId,biProcessStatus:s.biProcessStatus,creator:s.creator,modifer:s.modifer}),e.biReferenceId=s.biReferenceId,e.$loading.hide()})},scanQRCode:function(){var e=this;(0,H.scanQRCode)().then(function(t){var a=t.result,n=void 0===a?"":a;e.scanResult=n})},selFacility:function(e){this.facility=e}},created:function(){}}},"5wBf":function(e,t){},"6/io":function(e,t,a){"use strict";function n(e){a("s/zt")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Cnf0");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("esl5"),o=a.n(s),l=a("CwZV"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-1e21b27a",null);t.default=c.exports},"68lI":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,defaultContact:e.contact,"dealer-params":e.dealerParams,dealerTitle:"供应商"},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("dealer-other-part",{attrs:{"dealer-config":e.dealerConfig,"dealer-info":e.dealerInfo}}),e._v(" "),a("div",{staticClass:"materiel_list"},[e.matterList.length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n,i){return a("div",{key:n,staticClass:"each_mater",class:{"vux-1px-b":i<Object.keys(e.orderList).length-1}},[t.length?a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v(e._s(e.orderListTitle))]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]):e._e(),e._v(" "),e._l(t,function(t,i){return a("div",{key:i,class:{mater_delete:e.matterModifyClass}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass,config:e.matterEditConfig.property},on:{"on-modify":function(a){e.modifyMatter(t,i,n)}},nativeOn:{click:function(a){e.delClick(t,i)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[n.price&&n.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price)+"\n                      ")]),e._v(" "),a("div",[a("r-number",{attrs:{num:n.tdQty,checkAmt:e.checkAmt,max:n.qtyBal},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",t)},expression:"item.tdQty"}})],1)]):e._e()]}},{key:"editPart",fn:function(t){var r=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r.price&&r.tdQty&&!e.matterModifyClass,expression:"(item.price && item.tdQty) &&!matterModifyClass"}],staticClass:"edit-part vux-1px-l",on:{click:function(t){e.modifyMatter(r,i,n)}}},[a("span",{staticClass:"iconfont icon-bianji1"})])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(i,t)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)})],2)}),0)]:[a("div",{on:{click:function(t){e.showMaterielPop=!e.showMaterielPop}}},[a("div",{staticClass:"title"},[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择"+e._s(e.orderListTitle))]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),e.matterList.length?a("span",{staticClass:"add_more",on:{click:e.addMatter}},[e._v("新增更多物料")]):e._e()]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showMaterielPop,"default-value":e.matterList,config:e.matterPopConfig,"matter-params":e.matterParams,orderTitle:e.matterPopOrderTitle,"filter-list":e.filterList},on:{"sel-matter":e.selMatter},model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}})],2),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.consumables,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,"is-check-stock":!1,config:e.matterEditConfig},on:{"sel-confirm":e.selConfirm},model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num"},[a("span",{staticStyle:{fontSize:".14rem"}},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.tdAmount,3))+"\n      "),a("span",{staticClass:"taxAmount"},[e._v("[含税: ￥"+e._s(e._f("numberComma")(e.taxAmount,3))+"]")])]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},"69MN":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("4YfN"),o=n(s),l=a("KH7x"),d=n(l),u=a("3cXf"),c=n(u),f=a("0AQX"),m=a("+VRO"),h=n(m),v=a("BUFe"),p=n(v),C=a("AupE"),y=n(C),_=a("bFc7"),g=n(_),b=a("6WeX"),w=n(b),I=a("3NX5"),x=n(I),D=a("zWMP");a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"",contactInfo:{}}},components:{workFlow:y.default,RAction:p.default,contactPart:g.default,PriceTotal:w.default,MatterList:x.default},mixins:[h.default],methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,f.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(e.submitInfo=JSON.parse((0,c.default)(t)),!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData,n=a.order,i=a.inPut,s=n.dataSet,l=i.dataSet,u=void 0===l?[]:l,f=(0,d.default)(u,1),m=f[0],h=void 0===m?{}:m,v=!0,p=!1,C=void 0;try{for(var y,_=(0,r.default)(s);!(v=(y=_.next()).done);v=!0){var g=y.value;g.noTaxAmount=(0,D.accSub)(g.tdAmount,g.taxAmount),e.count=(0,D.accAdd)(e.count,g.tdAmount),g.inventoryPic=g.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+g.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){p=!0,C=e}finally{try{!v&&_.return&&_.return()}finally{if(p)throw C}}e.orderInfo=t.formData,e.contactInfo=(0,o.default)({},e.contactInfo,{logistics:t.formData.drDealerLogisticsTerms,executionDate:h.executionDate,validUntil:h.validUntil,thenTotalAmntBal:h.thenTotalAmntBal,prepaymentDueDate:h.prepaymentDueDate,tdAmountCopy1:h.tdAmountCopy1,daysOfAccount:i.daysOfAccount}),e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo=(0,o.default)({},this.contactInfo,{creatorName:t.dealerDebitContactPersonName,dealerName:a.dealerName_dealerDebit,dealerMobilePhone:t.dealerDebitContactInformation,dealerContactPersonName:t.dealerDebitContactPersonName,dealerCode:a.dealerDebit,dealerLabelName:a.drDealerLabel,province:a.province_dealerDebit,city:a.city_dealerDebit,county:a.county_dealerDebit,address:a.address_dealerDebit,payment:a.drDealerPaymentTerm})}},created:function(){}}},"6B8Z":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("3cXf"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("bFc7"),p=n(v),C=a("6WeX"),y=n(C),_=a("3NX5"),g=n(_),b=a("zWMP");a("Qg39");t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"",contactInfo:{}}},components:{workFlow:h.default,RAction:f.default,contactPart:p.default,PriceTotal:y.default,MatterList:g.default},mixins:[u.default],methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(e.submitInfo=JSON.parse((0,o.default)(t)),!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.formData.order.dataSet,n=!0,i=!1,s=void 0;try{for(var l,d=(0,r.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;e.count=(0,b.accAdd)(e.count,u.tdAmount),u.inventoryPic=u.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+u.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){i=!0,s=e}finally{try{!n&&d.return&&d.return()}finally{if(i)throw s}}e.attachment=t.attachment,e.orderInfo=t.formData,e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo={creatorName:a.dealerDebitContactPersonName,dealerName:a.dealerName_dealerDebit,dealerMobilePhone:t.dealerDebitContactInformation,dealerContactPersonName:t.dealerDebitContactPersonName,dealerCode:a.dealerDebit,dealerLabelName:a.drDealerLabel,province:a.province_dealerDebit,city:a.city_dealerDebit,county:a.county_dealerDebit,address:a.address_dealerDebit,payment:a.drDealerPaymentTerm,logistics:t.drDealerLogisticsTerms}}}}},"6DrK":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"search"},[a("form",{staticClass:"search_part",class:{"has-filter":e.filterList.length},attrs:{action:""},on:{submit:function(t){t.preventDefault(),e.searchMat(e.srhInpTx)}}},[a("i",{staticClass:"icon icon-search"}),e._v(" "),a("input",{ref:"searchInp",staticClass:"srh_inp",attrs:{type:"search",autocomplete:"off"},domProps:{value:e.srhInpTx},on:{input:function(t){e.getValue(t)},focus:function(t){e.isShowDrop=!0}}}),e._v(" "),e.isFill?a("div",{staticClass:"pop_cfm",class:{pop_cancel:!e.srhInpTx.length},on:{click:function(t){e.searchMat(e.srhInpTx)}}},[e._v(e._s(e.srhInpTx.length>0?"搜索":"返回")+"\n    ")]):a("div",{staticClass:"pop_cfm",on:{click:function(t){e.searchMat(e.srhInpTx)}}},[e._v("搜索")]),e._v(" "),e.srhInpTx?a("i",{staticClass:"icon-clear clear_icon",on:{click:e.clear}}):e._e()]),e._v(" "),e.filterList.length?a("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowDrop,expression:"isShowDrop"}],staticClass:"search_filter"},[a("r-dropdown",{attrs:{list:e.filterList},on:{"on-selected":e.popSelected}}),e._v(" "),a("div",{staticClass:"layer",on:{click:function(t){e.isShowDrop=!1}}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},"6ElN":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("m-search",{attrs:{filterList:e.filterList,isFill:!0},on:{search:e.searchList}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.matterList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.matterList,function(t,n){return a("div",{key:n,staticClass:"each_mater box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[t.transCode&&!t.transCode.includes(",")?a("div",{staticClass:"order-code"},[a("span",{staticClass:"order-title"},[e._v(e._s(e.orderTitle))]),e._v(" "),a("span",{staticClass:"order-num"},[e._v(e._s(t.transCode))])]):e._e(),e._v(" "),a("div",{staticClass:"order-matter"},[a("div",{staticClass:"mater_img"},[a("img",{attrs:{src:t.inventoryPic,alt:"mater_img"},on:{error:function(a){e.getDefaultImg(t)}}})]),e._v(" "),a("div",{staticClass:"mater_main "},[a("div",{staticClass:"mater_name"},[e._v("\n                "+e._s(t.inventoryName||t.facilityName)+"\n              ")]),e._v(" "),a("div",{staticClass:"mater_info"},[a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline",staticStyle:{display:"inline-block"}},[a("div",{staticClass:"mater_code"},[a("span",{staticClass:"title"},[e._v("编码")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(t.inventoryCode||t.facilityCode))])])]),e._v(" "),a("div",{staticClass:"ForInline",staticStyle:{display:"inline-block"}},[a("div",{staticClass:"mater_spec"},[a("span",{staticClass:"title"},[e._v("规格")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(t.specification||t.facilitySpecification||"无"))])])])]),e._v(" "),a("div",{staticClass:"withoutColor"},[a("div",{staticClass:"mater_classify"},e._l(e.config,function(n,i){return a("span",{key:i,staticClass:"type"},[e._v("\n                      "+e._s(n.v)+": "+e._s(null!=t[n.k]&&""!==t[n.k]?t[n.k]:"无")+"\n                    ")])}),0)])])])]),e._v(" "),a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-circle-outline selIcon",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1),e._v(" "),a("div",{staticClass:"count_mode vux-1px-t"},[a("span",{staticClass:"count_num"},[e._v(" "+e._s(e.tmpItems.length?"已选 "+e.tmpItems.length+" 个":"请选择")+" ")]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.cfmMater}},[e._v("确定")])])])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"6GPl":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.config.length?a("div",{staticClass:"dealer-other-part"},e._l(e.config,function(t,n){return a("div",{key:n},[t.hiddenInRun||"r2Combo"!==t.xtype?e._e():a("pop-single-select",{attrs:{title:t.fieldLabel,data:t.remoteData,value:e.dealerInfo[t.fieldCode],isRequired:!t.allowBlank},model:{value:e.dealerInfo[t.fieldCode],callback:function(a){e.$set(e.dealerInfo,t.fieldCode,a)},expression:"dealerInfo[item.fieldCode]"}}),e._v(" "),t.hiddenInRun?e._e():a("div",{staticClass:"mg_auto"},[t.readOnly&&"projectType_project"!==t.fieldCode?a("div",{staticClass:"cell-item"},[a("div",{staticClass:"title"},[e._v(e._s(t.fieldLabel))]),e._v(" "),a("div",{staticClass:"mode"},[a("span",{staticClass:"mode_content"},[e._v(e._s(e.dealerInfo[t.fieldCode]||"无"))])])]):t.readOnly?e._e():a("div",["r2Permilfield"===t.xtype?a("x-input",{staticClass:"cell-item",attrs:{type:"number","text-align":"right",placeholder:"请填写"},on:{"on-blur":function(t){e.checkAmt(e.dealerInfo)}},model:{value:e.dealerInfo[t.fieldCode],callback:function(a){e.$set(e.dealerInfo,t.fieldCode,e._n(a))},expression:"dealerInfo[item.fieldCode]"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(t.fieldLabel))])]):e._e(),e._v(" "),"r2Textfield"===t.xtype?a("x-input",{staticClass:"cell-item",attrs:{"text-align":"right",placeholder:"请填写"},model:{value:e.dealerInfo[t.fieldCode],callback:function(a){e.$set(e.dealerInfo,t.fieldCode,e._n(a))},expression:"dealerInfo[item.fieldCode]"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s(t.fieldLabel))])]):e._e(),e._v(" "),"r2Datefield"===t.xtype?a("datetime",{staticClass:"cell-item",attrs:{title:t.fieldLabel,placeholder:"请选择"},model:{value:e.dealerInfo[t.fieldCode],callback:function(a){e.$set(e.dealerInfo,t.fieldCode,a)},expression:"dealerInfo[item.fieldCode]"}},[a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.fieldLabel))])]):e._e()],1)])],1)}),0):e._e()},i=[],r={render:n,staticRenderFns:i};t.a=r},"6IKZ":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2237,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"项目名称",value:"projectName_project"}]}},mixins:[i.default],methods:{},created:function(){}}},"6Nvu":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("3cXf"),o=n(s),l=a("J0Oq"),d=n(l),u=a("kNGm"),c=n(u),f=a("I8ug"),m=a("IzfM"),h=n(m),v=a("1KNX"),p=n(v),C=a("7hoq"),y=n(C),_=a("8dL1"),g=n(_),b=a("TZXR"),w=n(b);t.default={data:function(){return{scrollOptions:{click:!0},appInfo:{},commentList:[],LatestchangeLog:{},adminCommentList:[],isAppAdmin:!1,currentUserId:"",listId:"a4897429-f4f2-44a4-ade7-2fe8dc67c3cf"}},components:{RScroll:p.default,ChangeLog:y.default,AdminComment:g.default,OtherComment:w.default},watch:{$route:{handler:function(e,t){var a=e.meta,n=void 0===a?{}:a;"APPDETAIL"===e.name&&n.reload&&(this.$loading.show(),e.meta.reload=!1,this.getAppInfo(),this.$refs.changeLog.getChangeList(),this.$refs.adminComment.getAdminComment(),this.$refs.comment.getCommetList(),this.$loading.hide())}}},methods:{getDefaultIcon:function(e){var t=a("CYNT");return e&&(e.icon=t),t},getAppInfo:function(){var e=this;return(0,f.getAppDetail)(this.listId).then(function(t){e.appInfo=t[0],e.appInfo.icon=e.appInfo.icon?"/dist/"+e.appInfo.icon:"",e.appInfo.crtTime=(0,c.default)(e.appInfo.crtTime,"YYYY-MM-DD"),e.appInfo.modTime=(0,c.default)(e.appInfo.modTime,"YYYY-MM-DD")})},getCurrentUser:function(){var e=this;return h.default.currentUser().then(function(t){e.currentUserId=t.userId})}},created:function(){var e=this,t=this.$route.params.listId;t&&(this.$loading.show(),this.listId=t,(0,d.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getCurrentUser();case 2:return t.next=4,e.getAppInfo().then(function(t){var a=(0,o.default)(e.currentUserId);e.appInfo.administratorId.length&&a===e.appInfo.administratorId&&(e.isAppAdmin=!0)});case 4:case"end":return t.stop()}},t,e)}))(),setTimeout(function(){e.$loading.hide()},500))}}},"6TM+":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("BGNQ"),r=n(i),s=a("z5TY"),o=n(s),l=a("kNGm"),d=(n(l),a("0AQX")),u=a("+VRO"),c=n(u),f=(a("Qg39"),a("BUFe")),m=n(f),h=a("AupE"),v=n(h),p=a("bFc7"),C=n(p),y=a("FlCz"),_=n(y),g=a("hPJo"),b=n(g);t.default={data:function(){return{workInfo:{},orderInfo:{},bomList:[],warehouse:{}}},mixins:[c.default],components:{Cell:r.default,Group:o.default,RAction:m.default,workFlow:v.default,contactPart:C.default,BomList:_.default,WarehouseContent:b.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,d.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.attachment,r=void 0===i?[]:i,s=t.formData,o=void 0===s?{}:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var l=o.outPut,d=void 0===l?{}:l,u=d.dataSet,c=void 0===u?[]:u;e.warehouse={warehouseName:d.warehouseName_containerCode,warehouseType:d.warehouseType_containerCode,warehouseAddress:d.warehouseAddress_containerCode},c.forEach(function(e){e.inventoryName=e.inventoryName_outPutMatCode,e.inventoryCode=e.outPutMatCode}),e.bomList=c,e.attachment=r,e.orderInfo=o,e.workInfo=o.order.dataSet[0],e.workFlowInfoHandler()})}}}},"6Vtj":function(e,t){},"6WeX":function(e,t,a){"use strict";function n(e){a("50DD")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("iAQa");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("mKXa"),o=a.n(s),l=a("iEiQ"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-c98d79a6",null);t.default=c.exports},"6XrU":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("St0H");t.default={name:"cell-box",props:{isLink:Boolean,link:[String,Object],borderIntent:{type:Boolean,default:!0},noFlex:Boolean,alignItems:String},computed:{style:function(){if(this.alignItems)return{"align-items":this.alignItems}},className:function(){return{"vux-tap-active":this.isLink||!!this.link,"weui-cell_access":this.isLink||!!this.link,"vux-cell-no-border-intent":!this.borderIntent}}},methods:{onClick:function(){this.link&&(0,n.go)(this.link,this.$router)}}}},"6YVT":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages xsbj-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"or_ads mg_auto",on:{click:function(t){e.showProjectPop=!e.showProjectPop}}},[a("div",{staticClass:"title"},[e._v("项目名称")]),e._v(" "),e.projectName?a("div",[a("div",{staticClass:"cp_info"},[a("p",{staticClass:"cp_name"},[e._v(e._s(e.projectName))])])]):a("div",[a("div",{staticClass:"mode required"},[e._v("请选择项目名称")])]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})]),e._v(" "),e._l(e.CostList,function(t,n){return a("div",{key:n,staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"费用明细"+(n+1)}},[a("cell",{attrs:{title:"费用名称","is-link":""},nativeOn:{click:function(a){e.getCost(n,t)}},model:{value:t.costName,callback:function(a){e.$set(t,"costName",a)},expression:"item.costName"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("费用名称\n              ")])])],2),e._v(" "),a("cell",{attrs:{title:"费用编码",value:t.costCode}}),e._v(" "),a("cell",{attrs:{title:"费用科目",value:t.costSubject}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("费用科目")])])],2),e._v(" "),a("x-input",{attrs:{title:"金额","text-align":"right",placeholder:"请填写",type:"number"},on:{"on-blur":function(a){e.checkAmt(t)}},model:{value:t.price,callback:function(a){e.$set(t,"price",e._n(a))},expression:"item.price"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("金额\n              ")])])],2),e._v(" "),a("x-input",{attrs:{type:"text",title:"报销事由","text-align":"right",placeholder:"请填写"},model:{value:t.reson,callback:function(a){e.$set(t,"reson",a)},expression:"item.reson"}})],1)],1)}),e._v(" "),a("div",{staticClass:"add_more"},[e._v("\n        您还需要添加新的报销?请点击\n        "),a("span",{staticClass:"add",on:{click:e.addCost}},[e._v("新增")]),e._v(" "),a("em",{directives:[{name:"show",rawName:"v-show",value:e.CostList.length>1,expression:"CostList.length>1"}]},[e._v("或")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.CostList.length>1,expression:"CostList.length>1"}],staticClass:"delete",on:{click:e.deleteCost}},[e._v("删除")])]),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"其他信息"}},[a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-cost-list",{ref:"matter",attrs:{show:e.showCostPop,defaultValue:e.selectedCost,getListMethod:"getProjectCostByGroupId","group-id":e.formData.handlerUnit},on:{"sel-matter":e.selMatter},model:{value:e.showCostPop,callback:function(t){e.showCostPop=t},expression:"showCostPop"}}),e._v(" "),a("pop-project-list",{attrs:{show:e.showProjectPop,"default-value":e.defaultProject},on:{"sel-project":e.selProject},model:{value:e.showProjectPop,callback:function(t){e.showProjectPop=t},expression:"showProjectPop"}})],2)]),e._v(" "),a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num"},[a("span",{staticStyle:{fontSize:".14rem"}},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.totalAmount,3))+"\n    ")]),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"count_btn stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},"6a8u":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),m=a("89pA"),h=n(m),v=a("hPJo"),p=n(v),C=a("3NX5"),y=n(C);t.default={data:function(){return{warehouseIn:{},warehouseOut:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513"}},mixins:[l.default],components:{workFlow:f.default,PopWarehouseList:h.default,RAction:u.default,WarehouseContent:p.default,MatterList:y.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.formData.outPut,n=void 0===a?{}:a,i=n.dataSet;e.attachment=t.attachment;var s=!0,o=!1,l=void 0;try{for(var d,u=(0,r.default)(i);!(s=(d=u.next()).done);s=!0){var c=d.value;c.inventoryName_transObjCode=c.inventoryName_outPutMatCode,c.transObjCode=c.outPutMatCode,c.specification=c.specification_outPutMatCode,c.inventoryPic=c.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+c.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){o=!0,l=e}finally{try{!s&&u.return&&u.return()}finally{if(o)throw l}}e.warehouseIn={warehouseCode:n.containerCode,warehouseName:""+n.warehouseName_containerCode,warehouseAction:"入库",warehouseIcon:"icon-ruku",warehouseType:n.warehouseType_containerCode,warehouseProvince:n.warehouseProvince_containerCode,warehouseCity:n.warehouseCity_containerCode,warehouseDistrict:n.warehouseDistrict_containerCode,warehouseAddress:n.warehouseAddress_containerCode},e.warehouseOut={warehouseCode:n.containerCodeOut,warehouseName:""+n.warehouseName_containerCodeOut,warehouseAction:"出库",warehouseIcon:"icon-chuku",warehouseType:n.warehouseType_containerCodeOut,warehouseProvince:n.warehouseProvince_containerCodeOut,warehouseCity:n.warehouseCity_containerCodeOut,warehouseDistrict:n.warehouseDistrict_containerCodeOut,warehouseAddress:n.warehouseAddress_containerCodeOut},e.orderInfo=t.formData,e.workFlowInfoHandler()})}},created:function(){}}},"6aPk":function(e,t,a){"use strict";function n(e){a("AlX/")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("SiYZ");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("+AWf"),o=a.n(s),l=a("qeoT"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-864262ca",null);t.default=c.exports},"6arZ":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("B8DQ");t.default={name:"tab",mixins:[n.parentMixin],mounted:function(){var e=this;this.$nextTick(function(){setTimeout(function(){e.hasReady=!0},0)})},props:{lineWidth:{type:Number,default:3},activeColor:String,barActiveColor:String,defaultColor:String,disabledColor:String,animate:{type:Boolean,default:!0},customBarWidth:[Function,String],preventDefault:Boolean,scrollThreshold:{type:Number,default:4},barPosition:{type:String,default:"bottom",validator:function(e){return-1!==["bottom","top"].indexOf(e)}}},computed:{barLeft:function(){if(this.hasReady){var e=this.scrollable?window.innerWidth/this.$children[this.currentIndex||0].$el.getBoundingClientRect().width:this.number;return this.currentIndex*(100/e)+"%"}},barRight:function(){if(this.hasReady){var e=this.scrollable?window.innerWidth/this.$children[this.currentIndex||0].$el.getBoundingClientRect().width:this.number;return(e-this.currentIndex-1)*(100/e)+"%"}},innerBarStyle:function(){return{width:"function"==typeof this.customBarWidth?this.customBarWidth(this.currentIndex):this.customBarWidth,backgroundColor:this.barActiveColor||this.activeColor}},barStyle:function(){var e={left:this.barLeft,right:this.barRight,display:"block",height:this.lineWidth+"px",transition:this.hasReady?null:"none"};return this.customBarWidth?e.backgroundColor="transparent":e.backgroundColor=this.barActiveColor||this.activeColor,e},barClass:function(){return{"vux-tab-ink-bar-transition-forward":"forward"===this.direction,"vux-tab-ink-bar-transition-backward":"backward"===this.direction}},scrollable:function(){return this.number>this.scrollThreshold}},watch:{currentIndex:function(e,t){this.direction=e>t?"forward":"backward",this.$emit("on-index-change",e,t),this.hasReady&&this.scrollToActiveTab()}},data:function(){return{direction:"forward",right:"100%",hasReady:!1}},methods:{scrollToActiveTab:function(){var e=this;if(this.scrollable&&this.$children&&this.$children.length){var t=this.$children[this.currentIndex].$el,a=0,n=function n(){var i=e.$refs.nav;i.scrollLeft+=(t.offsetLeft-(i.offsetWidth-t.offsetWidth)/2-i.scrollLeft)/15,++a<15&&window.requestAnimationFrame(n)};window.requestAnimationFrame(n)}}}}},"6cyL":function(e,t){},"6mP9":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages gdrw-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-warehouse-list",{attrs:{title:"在制仓库","default-value":e.warehouse,"filter-params":e.filterParams,"is-required":!0},on:{"sel-item":e.selWarehouse}}),e._v(" "),a("div",{staticClass:"materiel_list"},[e.workInfo.length?[a("div",{staticClass:"title"},[e._v("工序信息")]),e._v(" "),e._l(e.workInfo,function(t,n){return a("div",{key:n,staticClass:"order-detail",class:{"vux-1px-t":0!==n}},[a("div",{staticClass:"detail-item top"},[a("span",{staticClass:"info-item"},[e._v(e._s(t.inventoryName))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"info-item"},[e._v("订单号: "+e._s(t.transCode))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("工序名称: "+e._s(t.procedureName))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("工序编码: "+e._s(t.proPointCode))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"info-item"},[e._v("工艺路线名称: "+e._s(t.technicsName))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("工艺路线编码: "+e._s(t.proFlowCode))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"info-item"},[e._v("派工总数: "+e._s(t.productDemandQty))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("工序可派工: "+e._s(t.thenQtyBal))])]),e._v(" "),a("x-input",{attrs:{"text-align":"right",placeholder:"请填写",type:"number"},on:{"on-blur":function(a){e.checkAmt(t,n)},"on-focus":function(t){e.getFocus(t)}},model:{value:t.tdQty,callback:function(a){e.$set(t,"tdQty",e._n(a))},expression:"item.tdQty"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("派工数量")])])],2),e._v(" "),a("datetime",{model:{value:t.promDeliTime,callback:function(a){e.$set(t,"promDeliTime",a)},expression:"item.promDeliTime"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("要求完工日期")])])],2),e._v(" "),a("cell",{attrs:{isLink:""},nativeOn:{click:function(t){e.showManager(n)}},model:{value:t.dealerName_dealerDebit,callback:function(a){e.$set(t,"dealerName_dealerDebit",a)},expression:"item.dealerName_dealerDebit"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("组长")])])],2),e._v(" "),a("x-input",{attrs:{title:"工人数量","text-align":"right",placeholder:"请填写",type:"number"},on:{"on-blur":function(a){e.checkAmt(t,n)},"on-focus":function(t){e.getFocus(t)}},model:{value:t.numberWorkers,callback:function(a){e.$set(t,"numberWorkers",e._n(a))},expression:"item.numberWorkers"}}),e._v(" "),a("cell",{attrs:{title:"设施",isLink:""},nativeOn:{click:function(t){e.showFacility(n)}},model:{value:t.facilityName_facilityObjCode,callback:function(a){e.$set(t,"facilityName_facilityObjCode",a)},expression:"item.facilityName_facilityObjCode"}})],1)})]:a("div",{staticClass:"order-info",on:{click:function(t){e.showWorkPop=!0}}},[a("div",{staticClass:"title"},[e._v("工序信息")]),e._v(" "),a("div",{staticClass:"mode"},[e._v("请选择工序")]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r-arrow"})])],2),e._v(" "),a("pop-work-list",{ref:"matter",attrs:{show:e.showWorkPop,defaultValue:e.workInfo},on:{"sel-work":e.selWork},model:{value:e.showWorkPop,callback:function(t){e.showWorkPop=t},expression:"showWorkPop"}}),e._v(" "),a("pop-manager-list",{attrs:{show:e.showManagerPop,defaultValue:e.defaultManager},on:{"sel-item":e.selManager},model:{value:e.showManagerPop,callback:function(t){e.showManagerPop=t},expression:"showManagerPop"}}),e._v(" "),a("pop-work-facility-list",{attrs:{show:e.showFacilityPop,defaultValue:e.defaultFacility},on:{"sel-item":e.selFacility},model:{value:e.showFacilityPop,callback:function(t){e.showFacilityPop=t},expression:"showFacilityPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t"},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},"6q39":function(e,t,a){"use strict";function n(e){a("Thu3")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("UbXN");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("1ih/"),o=a.n(s),l=a("OXqN"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},"6xKo":function(e,t){},"72PU":function(e,t){},"73SI":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("B8DQ");t.default={name:"tab-item",mixins:[n.childMixin],props:{activeClass:String,disabled:Boolean,badgeBackground:{type:String,default:"#f74c31"},badgeColor:{type:String,default:"#fff"},badgeLabel:String},computed:{style:function(){return{borderWidth:this.$parent.lineWidth+"px",borderColor:this.$parent.activeColor,color:this.currentSelected?this.$parent.activeColor:this.disabled?this.$parent.disabledColor:this.$parent.defaultColor,border:this.$parent.animate?"none":"auto"}}}}},"75mE":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("zWMP");t.default={name:"MatterItem",filters:{percent:function(e){return e||0===e?(0,n.accMul)(e,100)+"%":"无"}},props:{showDelete:{type:Boolean,default:!1},item:{type:Object,default:function(){return{}}},config:{type:Array,default:function(){return[]}}},computed:{showEdit:function(){if(this.item.price||this.item.tdQty)return this.item.price||this.item.tdQty},hideEdit:function(){if(""===this.item.price||""===this.item.tdQty||0===this.item.price||0===this.item.tdQty)return!this.item.price||!this.item.tdQty}},data:function(){return{}},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},modifyMatter:function(){this.$emit("on-modify",this.item)}}}},"76tj":function(e,t){},"7D9F":function(e,t,a){"use strict";function n(e){a("njvk")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("7oTb");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("CpKl"),o=a.n(s),l=a("WPl8"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-1da305ee",null);t.default=c.exports},"7Fqm":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=(a("jLp1"),a("MjAd")),o=n(s);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2325,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"项目名称",value:"projectName"}]}},mixins:[o.default],methods:{goDetail:function(e,t){var a=this;if(!this.clickVisited){var n=e.transCode,i=this.$route.query.name,s=this.$route.params,o=s.folder,l=s.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,r.default)({},e)),setTimeout(function(){a.clickVisited=!1,a.$router.push({path:"/detail/"+o+"/"+l,query:{name:i,transCode:n}})},200)}},getTaskIcon:function(e){return["icon-task","icon-task2","icon-task3"][e%3]}}}},"7IaZ":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",class:{dashboard:e.chartShow},attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},[e.chartShow?a("apply-chart"):a("div",{staticClass:"list"},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"7LsP":function(e,t){},"7NvN":function(e,t,a){"use strict";function n(e){a("hagY")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("PoQm");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("1hzx"),o=a.n(s),l=a("cK+j"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-bfd7e0f2",null);t.default=c.exports},"7OA9":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"100%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("m-search",{attrs:{filterList:e.filterList,isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions}},e._l(e.taskWorkList,function(t,n){return a("div",{key:n,staticClass:"each-work box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"work-main"},[a("div",{staticClass:"work_mid"},[a("div",{staticClass:"product_name"},[e._v("\n                "+e._s(t.inventoryName)+"\n                ")])]),e._v(" "),a("div",{staticClass:"work_mid"},[a("div",{staticClass:"product_unit"},[a("span",{staticClass:"each_unit"},[e._v("加工订单号: "+e._s(t.transCode))]),e._v(" "),a("span",{staticClass:"each_unit"},[e._v("工序: "+e._s(t.procedureName))])]),e._v(" "),a("div",{staticClass:"product_unit"},[a("span",{staticClass:"each_unit"},[e._v("总数: "+e._s(t.productDemandQty))]),e._v(" "),a("span",{staticClass:"each_unit"},[e._v("已"+e._s(e.workType)+": "+e._s(t.thenLockQty))]),e._v(" "),a("span",{staticClass:"each_unit"},[e._v("可"+e._s(e.workType)+": "+e._s(t.thenQtyBal))])])])]),e._v(" "),a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-circle-outline selIcon",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0),e._v(" "),a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.btnHandle}},[e._v(e._s(e.btnText))])])],1)])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"7PqM":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2577,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"客户名称",value:"dealerName_dealerCodeCredit"}]}},mixins:[i.default],methods:{},created:function(){}}},"7Y5m":function(e,t){},"7biW":function(e,t,a){"use strict";function n(e){a("tUW+")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("uzoC");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("mOwv"),o=a.n(s),l=a("6DrK"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-1611ab5d",null);t.default=c.exports},"7cdy":function(e,t,a){"use strict";function n(e){a("1+w1")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Lp2T");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Lmxl"),o=a.n(s),l=a("s2e5"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-46544e6b",null);t.default=c.exports},"7d38":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2233,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}]}},mixins:[i.default],methods:{},created:function(){}}},"7dY3":function(e,t){},"7fRA":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("AupE"),f=n(c),m=a("BUFe"),h=n(m),v=a("bFc7"),p=n(v),C=a("3NX5"),y=n(C),_=a("zlAJ"),g=n(_);t.default={data:function(){return{orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},attachment:[]}},mixins:[u.default],components:{workFlow:f.default,RAction:h.default,contactPart:p.default,MatterList:y.default,UploadFile:g.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u=s.order,c=u.dataSet,f=!0,m=!1,h=void 0;try{for(var v,p=(0,r.default)(c);!(f=(v=p.next()).done);f=!0){var C=v.value;C.inventoryPic=C.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+C.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){m=!0,h=e}finally{try{!f&&p.return&&p.return()}finally{if(m)throw h}}e.attachment=d,s.validUntil=(0,o.default)(u.validUntil,"YYYY-MM-DD"),e.orderInfo=s,e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo={creatorName:t.dealerDebitContactPersonName,dealerName:a.dealerName_dealerDebit,dealerMobilePhone:t.dealerDebitContactInformation,dealerContactPersonName:t.dealerDebitContactPersonName,dealerCode:a.dealerDebit,dealerLabelName:a.drDealerLabel,province:a.province_dealerDebit,city:a.city_dealerDebit,county:a.county_dealerDebit,address:a.address_dealerDebit,payment:a.drDealerPaymentTerm,validUntil:t.validUntil,logistics:t.drDealerLogisticsTerms}}}}},"7g+Q":function(e,t,a){"use strict";function n(e){a("Uwbf")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("XS99");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("hBwb"),o=a.n(s),l=a("5ixT"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},"7hoq":function(e,t,a){"use strict";function n(e){a("m/V4")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("zqmM");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("RXIz"),o=a.n(s),l=a("NpFw"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-38fce45a",null);t.default=c.exports},"7oTb":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("IHPB"),o=n(s),l=a("3cXf"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("+62G"),v=n(h),p=a("6q39"),C=n(p),y=a("HyXB"),_=a("1KNX"),g=n(_),b=a("7biW"),w=n(b);t.default={name:"PopManagerList",props:{title:{type:String,default:"项目经理"},defaultValue:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1}},directives:{TransferDom:v.default},components:{Icon:c.default,Popup:m.default,RScroll:g.default,DSearch:w.default,LoadMore:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},computed:{tip:function(){var e="加载中";return this.hasNext||(e="暂无数据"),e}},watch:{defaultValue:function(e){this.setDefaultValue()}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this.getList()},showSelIcon:function(e){return this.selItems.dealerName===e.dealerName},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.$emit("sel-item",(0,d.default)(this.selItems))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:"dealerName"}])),(0,y.getObjDealerByLabelName)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,dealerLabelName:"员工",filter:(0,d.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,o.default)(e.listData),(0,o.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.selItems=this.defaultValue?(0,r.default)({},this.defaultValue):{}},warehouseClick:function(){this.disabled||(this.showPop=!this.showPop)},addWarehouse:function(){this.$router.push({path:"/warehouse/edit_warehouse",query:{add:1}})}},created:function(){this.setDefaultValue(),this.disabled||this.getList()}}},"7qeq":function(e,t,a){"use strict";function n(e){a("ijPy")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("aA6S");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("6XrU"),o=a.n(s),l=a("cIwV"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},"7rAE":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"badge",props:{text:[String,Number]}}},"7rXx":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper wlxqtj-detail-container"},[e.orderInfo&&e.orderInfo.outPut?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"order-list":e.orderList},scopedSlots:e._u([{key:"orderTitle",fn:function(t){return[a("span",{staticClass:"order_title"},[e._v("计划号")])]}},{key:"matterOther",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("物料大类: "+e._s(n.inventoryType_outPutMatCode||"无"))]),e._v(" "),a("span",[e._v("单位: "+e._s(n.measureUnit_outPutMatCode))])]),e._v(" "),a("div",{staticClass:"mater_num"},[a("span",{staticClass:"num"},[e._v("\n                减少数量: "+e._s(n.tdQty)+"\n              ")]),e._v(" "),a("span",{staticClass:"units"},[e._v("\n                [余额: "+e._s(n.thenQtyBal)+"]\n              ")])])])]}}])}),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},"7sWR":function(e,t,a){"use strict";function n(e){a("gGhs")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("ic8P");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Rg2x"),o=a.n(s),l=a("WEbs"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-54decdda",null);t.default=c.exports},"7sn7":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("J0Oq"),o=n(s),l=a("rVsN"),d=n(l),u=a("3cXf"),c=n(u),f=a("a3Yh"),m=n(f),h=a("IHPB"),v=n(h),p=a("KH7x"),C=n(p),y=a("4YfN"),_=n(y),g=a("8VZL"),b=n(g),w=a("HXPS"),I=n(w),x=a("fQz5"),D=n(x),P=a("HyXB"),S=a("I3vJ"),k=a("I8ug"),L=a("1KNX"),N=n(L),M=a("7biW"),T=n(M),A=a("Ab2S"),O=n(A);t.default={components:{Tab:b.default,Icon:I.default,TabItem:D.default,RScroll:N.default,RSearch:T.default,addBtn:O.default},data:function(){return{listId:"78a798f8-0f3a-4646-aa8b-d5bb1fada28c",srhInpTx:"",matNature:[{name:"全部"},{name:"成品"},{name:"半成品"},{name:"商品"},{name:"原件"},{name:"虚拟件"},{name:"商品库存"},{name:"客供原料"},{name:"服务"}],activeTab:"",activeIndex:0,matterList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0},total:null,clickVisited:!1,action:{}}},methods:{goEditAds:function(){var e={path:"/materlist/addMater"};this.activeTab.length&&(e.query={matterType:this.activeTab}),this.$router.push(e)},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},goDetail:function(e,t){var a=this;this.clickVisited||(this.clickVisited=!0,e.visited=!0,this.$set(this.matterList,t,(0,_.default)({},e)),setTimeout(function(){a.clickVisited=!1,a.$router.push({path:"/materlist/materDetail",query:{transCode:e.transCode}})},200))},resetCondition:function(){this.matterList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.$refs.bScroll.resetPullDown()},tabClick:function(e,t){this.activeTab=t?e.name:"",this.activeIndex=t,this.resetCondition(),this.getMatList()},getDictByType:function(){var e=this;return(0,P.getDictByType)("processing").then(function(t){var a=t.tableContent,n=(0,C.default)(a,1);n[0];e.activeTab="",a.unshift({name:"全部"}),e.matNature=[].concat((0,v.default)(a))})},getMatList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=[{operator:"eq",value:this.activeTab,property:"processing"}];if(this.activeIndex||(a[0].operator="like"),this.srhInpTx){var n;a=[].concat((0,v.default)(a),[(n={link:"or",property_1:"inventoryCode",operator_1:"like",value_1:this.srhInpTx},(0,m.default)(n,"property_1","inventoryName"),(0,m.default)(n,"operator_1","like"),(0,m.default)(n,"value_2",this.srhInpTx),n)])}return(0,S.getMatList)({limit:this.limit,page:this.page,filter:(0,c.default)(a),listViewID:2132,sort:(0,c.default)([{property:"effectiveTime",direction:"desc"},{property:"inventoryName",direction:"desc"}])}).then(function(a){var n=a.dataCount,i=void 0===n?0:n,r=a.tableContent,s=void 0===r?[]:r,o="";t&&0===e.activeIndex&&e.total&&(o=i-e.total==0?"暂无新数据":"新增"+(i-e.total)+"条数据",e.$vux.toast.show({text:o,position:"top",width:"50%",type:"text",time:700})),0===e.activeIndex&&1===e.page&&sessionStorage.setItem("WL",i),s.forEach(function(t){t.inventoryPic=t.inventoryPic?"/H_roleplay-si/ds/download?url="+t.inventoryPic+"&width=400&height=400":e.getDefaultImg()}),e.hasNext=i>(e.page-1)*e.limit+s.length,e.matterList=1===e.page?s:[].concat((0,v.default)(e.matterList),(0,v.default)(s)),t||e.$nextTick(function(){e.resetScroll()})}).catch(function(t){e.resetScroll()})},resetScroll:function(){this.$refs.bScroll.finishPullDown(),this.$refs.bScroll.finishPullUp()},searchMat:function(e){var t=e.val,a=void 0===t?"":t;e.property;this.srhInpTx=a,this.resetCondition(),this.getMatList()},onPullingUp:function(){this.page++,this.getMatList()},onPullingDown:function(){this.page=1,this.getData(!0)},getSession:function(){var e=this;return new d.default(function(t){e.total=sessionStorage.getItem("WL"),t()})},getData:function(e){var t=this;return(0,o.default)(r.default.mark(function a(){return r.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getSession();case 2:if(!e){a.next=6;break}return a.next=5,t.getMatList(!0).then(function(){t.$nextTick(function(){t.$refs.bScroll.finishPullDown().then(function(){t.$refs.bScroll.finishPullUp()})})});case 5:return a.abrupt("return");case 6:return a.next=8,t.getMatList();case 8:case"end":return a.stop()}},a,t)}))()},changeVisitedStatus:function(){var e=this;setTimeout(function(){var t=[].concat((0,v.default)(e.matterList));t.forEach(function(e){e.visited=!1}),e.matterList=t},200)},getAppDetail:function(){var e=this;return(0,k.getAppDetail)(this.listId).then(function(t){var a=(0,C.default)(t,1),n=a[0],i=void 0===n?{}:n,r=i.action;e.action=r})}},watch:{$route:{handler:function(e,t){var a=e.path,n=void 0===a?"":a,i=e.meta,r=void 0===i?{}:i;"/materlist"===n&&(this.changeVisitedStatus(),r.reload&&(e.meta.reload=!1,this.srhInpTx="",this.activeTab="",this.activeIndex=0,this.resetCondition(),this.getData(!1)))}}},created:function(){var e=this;(0,o.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getAppDetail();case 2:return t.next=4,e.getSession();case 4:return t.next=6,e.getDictByType().then(function(){e.getMatList()});case 6:case"end":return t.stop()}},t,e)}))()}}},"7xxm":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages cpxq-list-container"},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("just-word-item",{key:n,attrs:{item:t,noCount:""},nativeOn:{click:function(a){e.goDetail(t,n)}},scopedSlots:e._u([{key:"list-item",fn:function(t){var n=t.item;return[a("div",{staticClass:"content_part"},[e._v("招聘信息")]),e._v(" "),a("div",{staticClass:"other_info_part"},[a("p",{staticClass:"info_with_comment"},[e._v("申请部门: "+e._s(n.applicationDepartment))]),e._v(" "),a("p",{staticClass:"info_with_comment"},[e._v("申请岗位: "+e._s(n.applicationPost))])])]}}])})}),1)],1),e._v(" "),a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},"7xzZ":function(e,t,a){"use strict";function n(e){a("GV4E")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("ntXv");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Zdcs"),o=a.n(s),l=a("DdXg"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-54161540",null);t.default=c.exports},"82Uv":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("ZLEe"),r=n(i),s=a("HzJ8"),o=n(s),l=a("IHPB"),d=n(l),u=a("3cXf"),c=n(u),f=a("MgeX"),m=n(f),h=a("4YfN"),v=n(h),p=a("3QQJ"),C=n(p),y=a("ak47"),_=n(y),g=a("Dkzh"),b=a("1KNX"),w=n(b),I=a("6aPk"),x=n(I),D=a("WJwd"),P=n(D),S=a("bBLw"),k=n(S),L=a("Z5v5"),N={page:1,limit:10,hasNext:!0,isNull:!1,listData:[]};t.default={data:function(){return{tabList:[{name:"待办",status:"todo"},{name:"评论",status:"comment"},{name:"点赞",status:"praise"}],activeIndex:0,scrollOptions:{bounce:{top:!1},pullUpLoad:!0},isClickDetail:!1,pageSwiper:null,noticeData:{todo:(0,v.default)({},N,{listData:{}}),comment:(0,v.default)({},N),praise:(0,v.default)({},N)},isMovingSwiper:!1}},computed:{noDataText:function(){return["暂无待办消息","暂无评论消息","暂无点赞消息"][this.activeIndex]},currentItem:function(){var e=this.tabList[this.activeIndex].status;return this.noticeData[e]},currentScroll:function(){return this.$refs.bScroll[this.activeIndex]}},components:{Badge:C.default,RScroll:w.default,TodoItem:P.default,CommentItem:k.default,RTab:x.default},methods:{onTabClick:function(e){var t=e.index;this.activeIndex=t,this.currentScroll.scrollTo(0,0),this.resetCondition(),this.pageSwiper.slideTo(t)},getDefaultIcon:function(e){var t=a("CYNT");return e&&(e.icon=t),t},resetCondition:function(){var e=this.tabList[this.activeIndex].status,t=(0,v.default)({},N);this.activeIndex||(t.listData={}),this.noticeData[e]=t},getList:function(){var e=this;return(0,g.getMsgList)().then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;if(e.$event.$emit("badgeNum",n),e.currentItem.hasNext=!1,!r.length)return void(e.currentItem.isNull=!0);var s={};e.currentItem.isNull=!1,r.forEach(function(t){t.pic=t.icon?"/dist/"+t.icon:e.getDefaultIcon(),_.default[t.listId]&&(s[t.title]?s[t.title].list.push(t):s[t.title]={list:[t],noBorder:!1})});var o=(0,m.default)(s);o.length&&(o[o.length-1].noBorder=!0),e.currentItem.listData=s,e.$nextTick(function(){e.currentScroll.finishPullUp()})})},goMsglist:function(e,t){var a=this,n=this.tabList[this.activeIndex].status;this.isMovingSwiper||(e.visited=!0,this.isClickDetail=!0,this.$set(this.noticeData[n].listData,t,(0,v.default)({},e)),setTimeout(function(){a.$router.push({path:"/msglist",query:{name:t}})},200))},setReply:function(e){return'<span style="color: #2994FD;">'+e+"</span>"},getNotice:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"comment",a=this.currentItem,n=a.page,i=a.limit,r=[{property:"type",operator:"eq",value:t}];return(0,g.getNotice)({page:n,limit:i,filter:(0,c.default)(r)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i,s=e.currentItem,l=s.page,u=s.limit;e.currentItem.isNull=!r.length,e.currentItem.hasNext=n>(l-1)*u+r.length;var c=!0,f=!1,m=void 0;try{for(var h,v=(0,o.default)(r);!(c=(h=v.next()).done);c=!0){var p=h.value,C=JSON.parse(p.content);p.comment=C.content,p.commentType=C.type,p.attachment=C.attachment,p.RELATION_KEY=C.relationKey,p.pic=p.icon?"/dist/"+p.icon:e.getDefaultIcon(),p.other="list"===C.type?"@应用详情":"@实例编码："+C.relationKey,-1!==C.parentId&&(p.comment="回复@"+e.setReply(C.objCreator)+"："+C.content,p.reply={createrName:C.objCreator,comment:"@"+e.setReply(C.objCreator)+" 评论："+C.objContent})}}catch(e){f=!0,m=e}finally{try{!c&&v.return&&v.return()}finally{if(f)throw m}}return e.currentItem.listData=1===e.page?r:[].concat((0,d.default)(e.currentItem.listData),(0,d.default)(r)),e.$nextTick(function(){e.currentScroll.finishPullUp()}),t})},getNoticeByPraise:function(){var e=this,t=this.currentItem,a=t.page,n=t.limit;return(0,g.getNoticeByPraise)({page:a,limit:n}).then(function(t){var a=t.total,n=void 0===a?0:a,i=t.praiseNoticeList,r=void 0===i?[]:i,s=e.currentItem,l=s.page,u=s.limit;e.currentItem.isNull=!r.length,e.currentItem.hasNext=n>(l-1)*u+r.length;var c=!0,f=!1,m=void 0;try{for(var h,v=(0,o.default)(r);!(c=(h=v.next()).done);c=!0){var p=h.value,C=JSON.parse(p.content);p.comment="赞了这条评论",p.reply={createrName:C.creator,comment:"@"+e.setReply(C.creator)+": "+C.content,attachment:C.attachment},p.commentType=C.type,p.attachment=C.attachment,p.RELATION_KEY=C.relationKey,p.pic=p.icon?"/dist/"+p.icon:e.getDefaultIcon(),p.other="list"===C.type?"@应用详情":"@实例编码："+C.relationKey}}catch(e){f=!0,m=e}finally{try{!c&&v.return&&v.return()}finally{if(f)throw m}}return e.currentItem.listData=1===e.page?r:[].concat((0,d.default)(e.currentItem.listData),(0,d.default)(r)),e.$nextTick(function(){e.currentScroll.finishPullUp()}),t})},getComment:function(){return this.getNotice()},getPraise:function(){return this.getNoticeByPraise()},goDetail:function(e,t){var a=this,n=e.listId,i=e.folder,r=e.packagePath,s=e.listName,o=e.RELATION_KEY,l=e.commentType,d={name:s,transCode:o},u="/detail/"+i+"/"+r,c=this.tabList[this.activeIndex].status;this.isMovingSwiper||("list"===l&&(u="/appDetail/"+n,d={}),e.visited=!0,this.isClickDetail=!0,this.$set(this.noticeData[c].listData,t,(0,v.default)({},e)),setTimeout(function(){a.$router.push({path:u,query:d})},200))},onPullingUp:function(){this.currentItem.page++,1===this.activeIndex?this.getNotice():2===this.activeIndex&&this.getPraise()},changeVisitedStatus:function(){var e=this,t=[];0===this.activeIndex?(t=(0,v.default)({},this.currentItem.listData),(0,m.default)(t).forEach(function(e){e.visited=!1})):(t=[].concat((0,d.default)(this.currentItem.listData)),t.forEach(function(e){e.visited=!1})),setTimeout(function(){e.currentItem.listData=t},200),this.isClickDetail=!1},onPopoverClick:function(){(this.$refs.commentItem||[]).forEach(function(e){e.hidePopover()})},initSwiper:function(){var e=this;this.$nextTick(function(){e.pageSwiper=new e.Swiper(".notice-container",{touchAngle:30,on:{slideChangeTransitionStart:function(){var t=e.pageSwiper.activeIndex,a=[e.getList,e.getComment,e.getPraise];e.tabList[t].status;e.activeIndex=t,e.isMovingSwiper=!0,(0,r.default)(e.currentItem.listData).length||(e.resetCondition(),a[e.activeIndex]())},slideChangeTransitionEnd:function(){e.isMovingSwiper=!1}}})})}},beforeRouteLeave:function(e,t,a){"/home"===e.path&&(this.activeIndex=0,this.noticeData={todo:(0,v.default)({},N,{listData:{}}),comment:(0,v.default)({},N),praise:(0,v.default)({},N)},this.pageSwiper.slideTo(0),t.meta.reload=!0),a()},created:function(){var e=this;this.$loading.show(),this.initSwiper(),this.getList().then(function(){e.$loading.hide()})},activated:function(){var e=this,t=this.$route.meta.reload;(0,L.register)(),t?(this.$loading.show(),this.getList().then(function(){e.$loading.hide()}),this.$route.meta.reload=!1):this.isClickDetail&&this.changeVisitedStatus()}}},"83e5":function(e,t){},"84pt":function(e,t){},"864G":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Srds"),r=n(i),s=a("vWgl"),o=n(s);t.default=[{path:"/notice",name:"MSGHOME",component:r.default,meta:{title:"消息列表",keepAlive:!0}},{path:"/msglist",name:"MSGLIST",component:o.default,meta:{title:"应用消息列表",keepAlive:!0}}]},"86eb":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"inline-desc"}},"87MO":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("4YfN"),o=n(s),l=a("MgeX"),d=n(l),u=a("HzJ8"),c=n(u),f=a("ZLEe"),m=n(f),h=a("rVsN"),v=n(h),p=a("IHPB"),C=n(p),y=a("3cXf"),_=n(y),g=a("HXPS"),b=n(g),w=a("BGNQ"),I=n(w),x=a("z5TY"),D=n(x),P=a("SAzG"),S=n(P),k=a("u28h"),L=n(k),N=a("PzEQ"),M=n(N),T=a("kNGm"),A=n(T),O=a("0AQX"),R=a("I3vJ"),j=a("HyXB"),B=a("bKg5"),E=n(B),F=a("luHD"),U=n(F),$=a("Pb67"),Q=n($),H=a("d7ck"),V=n(H),q=a("FlCz"),Y=n(q),X=a("MVgC"),G=n(X),W=a("vl8n"),z=n(W),K=a("+WR7"),J=n(K),Z=a("zWMP"),ee=a("Qg39");t.default={name:"ApplyWLXQJHForm",mixins:[E.default],components:{Icon:b.default,Cell:I.default,Group:D.default,XInput:S.default,XTextarea:M.default,PopMatter:U.default,PopOrderList:Q.default,Datetime:L.default,FormCell:V.default,BomList:Y.default,BomPop:G.default,RPicker:z.default,PopBaseinfo:J.default},data:function(){return{listId:"867e0b4f-548f-4e08-873a-1b8e54333630",orderList:{},showOrderPop:!1,formData:{biComment:""},submitSuccess:!1,numMap:{},transCode:"",formViewUniqueId:"82784823-ded5-4a58-a746-d32514f7d26f",biReferenceId:"",actions:[],taskId:"",matterList:[],entity:{},tmpItems:{},matter:{},showMatterPop:!1,DuplicateBoms:[],UniqueBom:[],modifyIndex:null,modifyKey:null,bomPopShow:!1,bom:{},modifyBomTdqty:[]}},watch:{matter:{handler:function(e){var t=this;e.boms&&e.boms.forEach(function(a){var n=t.calcBom(e.processQty,a);a.tdQty=Math.abs((0,ee.toFixed)(n))})},deep:!0}},methods:{checkBom:function(e,t,a){this.bom=e,this.modifyIndex=t,this.modifyKey=a,this.bomPopShow=!0,this.modifyBomTdqty=JSON.parse((0,_.default)(e.boms))},bomConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t),this.reBuildArr(t)},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,_.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a,this.modifyBomTdqty=[].concat((0,C.default)(e.boms))},selConfirm:function(e){var t=JSON.parse(e);t.processQty?t.tdQty=(0,Z.accAdd)(t.lockQty,t.processQty):t.tdQty="",this.$set(this.orderList[this.modifyKey],this.modifyIndex,t),this.reBuildArr(t)},reBuildArr:function(e){var t=this,a=e.boms;this.modifyBomTdqty.forEach(function(e){a.forEach(function(a){if(a.inventoryCode===e.inventoryCode)return a.newTdqty=(0,Z.accSub)(a.tdQty,e.tdQty),t.UniqueBom.forEach(function(e){if(a.inventoryCode===e.inventoryCode)return e.tdQty=(0,Z.accAdd)(e.tdQty,a.newTdqty),!1}),!0})})},selOrder:function(e){var t=this,a=JSON.parse(e),n={},i=[];this.DuplicateBoms=[],a.forEach(function(e){var a=e.transCode+"_"+e.inventoryCode,r=e.promDeliTime?(0,A.default)(new Date(e.promDeliTime)-2592e5,"YYYY-MM-DD"):"",s=t.numMap[a]||{},o=s.tdQty,l=void 0===o?"":o,d=s.processQty,u=void 0===d?"":d,c=s.lockQty,f=void 0===c?e.qtyBal:c,m=s.shippingTime,h=void 0===m?r:m,v=s.boms,p=void 0===v?[]:v;e.tdQty=l,e.processQty=u,e.lockQty=f,e.shippingTime=h,n[e.transCode]||(n[e.transCode]=[]),i.push((0,R.getJGRKBom)({parentInvCode:e.inventoryCode}).then(function(a){var n=a.tableContent,i=void 0===n?[]:n;i.forEach(function(a){var n=p.find(function(e){return a.inventoryCode===e.inventoryCode})||{},i=n.specificLoss,s=void 0===i?a.specificLoss:i,o=n.lockQty,l=void 0===o?0:o,d=n.shippingTime,u=void 0===d?r:d;a.specificLoss=parseFloat(s),a.lockQty=l,a.shippingTime=u;var c=t.calcBom(e.processQty,a);a.tdQty=Math.abs((0,ee.toFixed)(c))}),t.$set(e,"boms",i);var s=JSON.parse((0,_.default)(i));t.DuplicateBoms=[].concat((0,C.default)(t.DuplicateBoms),(0,C.default)(s))})),n[e.transCode].push(e)}),v.default.all(i).then(function(e){t.mergeBomList()}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},findIndex:function(e,t){return e.findIndex(function(e){return e.orderCode===t.orderCode&&e.transCode===t.transCode&&e.inventoryCode===t.inventoryCode})},delClick:function(e,t,a){var n=this.selItems,i=this.findIndex(n,t);if(-1!==i)return void n.splice(i,1);n.push(t)},showSelIcon:function(e){return-1!==this.findIndex(this.selItems,e)},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,_.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,m.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.orderCode===a.orderCode&&t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=e.findIndex(n,t);i>=0&&(e.$refs.order.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}})}),e.selItems.forEach(function(t){t.boms.forEach(function(t){return e.UniqueBom.forEach(function(a,n){if(t.inventoryCode===a.inventoryCode){var i=(0,Z.accSub)(a.tdQty,t.tdQty);return a.tdQty=(0,ee.toFixed)(i),a.tdQty<=0&&e.UniqueBom.splice(n,1),!1}}),!0})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,c.default)((0,d.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,l=!1,u=void 0;try{for(var f,m=(0,c.default)(r);!(s=(f=m.next()).done);s=!0){var h=f.value;this.numMap[h.transCode+"_"+h.inventoryCode]=(0,o.default)({},h)}}catch(e){l=!0,u=e}finally{try{!s&&m.return&&m.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="";if(t||(0,m.default)(this.orderList).length||(t="请选择物料"),!t){var a=!0,n=!1,i=void 0;try{for(var s,l=(0,c.default)((0,d.default)(this.orderList));!(a=(s=l.next()).done);a=!0){var u=s.value,f=!0,h=!1,v=void 0;try{for(var p,C=(0,c.default)(u);!(f=(p=C.next()).done);f=!0){var y=p.value;if(!y.tdQty){t="请填写本次入库数量";break}var g=!0,b=!1,w=void 0;try{for(var I,x=(0,c.default)(y.boms);!(g=(I=x.next()).done);g=!0){var D=I.value;if(D.qtyStock<D.tdQty){t="可用余额不能少于本次扣料，请重新输入入库数量";break}}}catch(e){b=!0,w=e}finally{try{!g&&x.return&&x.return()}finally{if(b)throw w}}if(t)break}}catch(e){h=!0,v=e}finally{try{!f&&C.return&&C.return()}finally{if(h)throw v}}if(t)break}}catch(e){n=!0,i=e}finally{try{!a&&l.return&&l.return()}finally{if(n)throw i}}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=[],a=j.saveAndStartWf,n={},i=(0,r.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""}),s=!0,l=!1,u=void 0;try{for(var f,m=(0,c.default)((0,d.default)(e.orderList));!(s=(f=m.next()).done);s=!0){var h=f.value,v=!0,p=!1,C=void 0;try{for(var y,g=(0,c.default)(h);!(v=(y=g.next()).done);v=!0){var b=y.value,w=[],I=!0,x=!1,D=void 0;try{for(var P,S=(0,c.default)(b.boms);!(I=(P=S.next()).done);I=!0){var k=P.value;w.push({transMatchedCode:b.transCode,tdQty:k.tdQty,lockQty:k.lockQty,demandQty:k.qty,thenQtyStock:k.qtyStock,bomSpecificLoss:k.specificLoss,inventoryType:k.inventoryType,tdProcessing:k.processing||k.tdProcessing,containerCodeOut:k.warehouseCode,material:k.material,inventoryName:k.inventoryName,specification:k.specification,transObjCode:k.inventoryCode,measureUnit:k.measureUnit,bomType:k.bomType,bomQty:k.qty||k.bomQty,shippingTime:k.shippingTime})}}catch(e){x=!0,D=e}finally{try{!I&&S.return&&S.return()}finally{if(x)throw D}}var L={tdId:b.tdId||null,transMatchedCode:b.transCode,transObjCode:b.inventoryCode,inventoryName_transObjCode:b.inventoryName,tdProcessing:b.processing,containerCodeOut:b.warehouseCode,measureUnit_transObjCode:b.measureUnit,thenQtyBal:b.qtyBal,promDeliTime:b.promDeliTime,thenQtyStock:b.qtyStock,lockQty:b.lockQty,processQty:b.processQty,tdQty:b.tdQty,leadTime:b.comment||null,shippingTime:b.shippingTime||null,comment:b.comment||null,boms:w};t.push(L)}}catch(e){p=!0,C=e}finally{try{!v&&g.return&&g.return()}finally{if(p)throw C}}}}catch(e){l=!0,u=e}finally{try{!s&&m.return&&m.return()}finally{if(l)throw u}}n=(0,o.default)({},e.formData,{modifer:e.transCode?e.formData.handler:"",handlerEntity:e.entity.dealerName,biProcessStatus:e.currentStage,inPut:{dataSet:t}}),e.transCode&&(a=j.saveAndCommitTask,i={businessKey:e.transCode,createdBy:n.creator||n.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var N={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,_.default)(n),wfPara:(0,_.default)(i)};e.transCode||delete N.biReferenceId,e.processCode.length||(a=j.submitAndCalc,delete N.wfPara,delete N.biReferenceId),e.biReferenceId&&(N.biReferenceId=e.biReferenceId),console.log(N),e.saveData(a,N)}})},getFormData:function(){var e=this;return(0,O.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,l=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var d={};e.attachment=l;var u=r.inPut,f=u.dataSet,m=void 0===f?[]:f,h=!0,v=!1,p=void 0;try{for(var C,y=(0,c.default)(m);!(h=(C=y.next()).done);h=!0){var g=C.value;g.boms.forEach(function(e){e.inventoryCode=e.transObjCode,e.specificLoss=e.bomSpecificLoss,e.qty=e.bomQty}),e.DuplicateBoms=e.DuplicateBoms.concat(JSON.parse((0,_.default)(g.boms))),g=(0,o.default)({},g,{transCode:g.transMatchedCode,qtyBal:g.thenQtyBal,inventoryPic:g.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+g.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:g.inventoryName_transObjCode,inventoryCode:g.transObjCode,specification:g.specification_transObjCode,processing:g.tdProcessing}),d[g.transCode]||(d[g.transCode]=[]),d[g.transCode].push(g)}}catch(e){v=!0,p=e}finally{try{!h&&y.return&&y.return()}finally{if(v)throw p}}e.matterList=m,e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,o.default)({},e.formData,e.handlerDefault,{biComment:r.biComment,biId:r.biId,biProcessStatus:r.biProcessStatus,creator:r.creator,modifer:r.modifer,drDealerLogisticsTerms:r.drDealerLogisticsTerms}),e.mergeBomList(),e.biReferenceId=r.biReferenceId,e.orderList=d,e.$loading.hide()})},mergeBomList:function(){var e=function(e,t){return e.inventoryCode===t.inventoryCode};this.UniqueBom=function(t){return t.reduce(function(t,a){return t.some(function(t){var n=e(t,a);return n&&(t.tdQty=(0,Z.accAdd)(t.tdQty,a.tdQty)),n})||t.push(a),t},[])}(this.DuplicateBoms)},hasDraftData:function(){return!!(0,d.default)(this.orderList).length&&(0,r.default)({},"WLXQJH_DATA",{orderList:this.orderList,formData:this.formData,DuplicateBoms:this.DuplicateBoms})},checkQtyBal:function(e){var t=e.qtyBal,a=e.qtyStock;t=Math.abs((0,ee.toFixed)(t)),t>a&&(t=a),e.qtyBal=t},checklockQty:function(e){var t=e.qtyBal,a=e.lockQty,n=e.processQty;a=Math.abs((0,ee.toFixed)(a)),(0,Z.accAdd)(a,n)>t&&(a=(0,Z.accSub)(t,n)),e.lockQty=a},checkprocessQty:function(e){var t=e.qtyBal,a=e.lockQty,n=e.processQty;n=Math.abs((0,ee.toFixed)(n)),(0,Z.accAdd)(a,n)>t&&(n=(0,Z.accSub)(t,a)),e.processQty=n},modifyBomLockQty:function(e){var t=this;this.$vux.confirm.prompt(e.lockQty,{title:"原料库存计划",onConfirm:function(a){if(a){t.$refs.bomPop.changeToConfirm(),e.lockQty=Math.abs((0,ee.toFixed)(a));var n=t.calcBom(t.bom.processQty,e);e.tdQty=Math.abs((0,ee.toFixed)(n))}}})},modifyBomSpecificLoss:function(e){var t=this;this.$vux.confirm.prompt(item.specificLoss,{title:"单位损耗率",onConfirm:function(a){if(a){t.$refs.bomPop.changeToConfirm(),e.specificLoss=Math.abs((0,ee.toFixed)(a));var n=t.calcBom(t.bom.processQty,e);e.tdQty=Math.abs((0,ee.toFixed)(n))}}})},modifyBomDate:function(e){var t=this;this.$vux.datetime.show({cancelText:"取消",confirmText:"确定",value:e.shippingTime,onConfirm:function(a){t.$refs.bomPop.changeToConfirm(),e.shippingTime=a}})},calcBom:function(e,t){return(0,Z.accSub)((0,Z.accMul)(e,t.qty,1+t.specificLoss),t.lockQty)}},filters:{dateFormat:A.default},created:function(){var e=sessionStorage.getItem("WLXQJH_DATA");if(e){var t=JSON.parse(e);this.orderList=t.orderList,this.formData=t.formData,this.DuplicateBoms=t.DuplicateBoms,this.mergeBomList(),sessionStorage.removeItem("WLXQJH_DATA")}}}},"87OF":function(e,t){},"87dP":function(e,t,a){"use strict";function n(e){a("CFT0")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("FkUS");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("0WWG"),o=a.n(s),l=a("0Hir"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-339c4eac",null);t.default=c.exports},"88rY":function(e,t,a){function n(e){return a(i(e))}function i(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var r={"./consumable/DZYHPCGDD_List.vue":"g0+/","./consumable/DZYHPCGSQ_List.vue":"gufi","./consumable/DZYHPCGYSYZF_List.vue":"ACTo","./contacts/COMPANY_List.vue":"8hwe","./contacts/JOB_List.vue":"OyWz","./contacts/USER_List.vue":"wT6g","./equipment/SBCGDD_List.vue":"JvnV","./equipment/SBCGSQ_List.vue":"98vG","./equipment/SBCGYS_List.vue":"oxg+","./finance/BXYZF_List.vue":"QRhw","./finance/CH_List.vue":"1Kxi","./finance/CRCDHP_List.vue":"drc+","./finance/DFCDHP_List.vue":"Q6Kg","./finance/DXTXCDHP_List.vue":"7NvN","./finance/FGYSDJ_List.vue":"rOS6","./finance/FGYSQK_List.vue":"Rxk/","./finance/FK_List.vue":"Z/nY","./finance/HBZJ_List.vue":"EfN/","./finance/HGCW_List.vue":"nUHg","./finance/JKYBYJ_List.vue":"13HE","./finance/KCCDHP_List.vue":"KzA7","./finance/SDCDHP_List.vue":"zHRR","./finance/SK_List.vue":"/Pa9","./finance/WLYE_List.vue":"DcGI","./finance/XMFYBX_List.vue":"m/NV","./finance/YBFYBX_List.vue":"sX8C","./finance/ZZSKP_List.vue":"0jTj","./finance/ZZSSP_List.vue":"Fu6s","./hr/YGDA_List.vue":"cEa5","./hr/YGLZ_List.vue":"FBTb","./hr/YGRZ_List.vue":"HPEG","./hr/ZPJH_List.vue":"uvT0","./plan/BHDD_List.vue":"qEV3","./plan/CGSQ_List.vue":"As1F","./plan/WLXQJH_List.vue":"pAHg","./plan/WLXQTJ_List.vue":"3Ex/","./plan/XSDDYC_List.vue":"XCFZ","./product/CPFB_List.vue":"FIt+","./product/CPXQ_List.vue":"sk0R","./production/GDBLL_List.vue":"EVlf","./production/GDRWQD_List.vue":"NUgK","./production/GDRW_List.vue":"lnNG","./production/GDYS_List.vue":"ZKwe","./production/NBJGDD_List.vue":"3p7d","./production/WGYRK_List.vue":"l7FO","./production/WGZJRK_List.vue":"Vi6A","./project/XMJH_List.vue":"cQ92","./project/XMJX_List.vue":"z10A","./project/XMLX_List.vue":"SDtT","./project/XMRW_List.vue":"ImmF","./purchase/CGDD_List.vue":"u5pD","./purchase/CGXY_List.vue":"P5Nb","./sale/CPJG_List.vue":"X0tG","./sale/KPSQ_List.vue":"+YRA","./sale/SJ_List.vue":"10t/","./sale/XSBJ_List.vue":"c3Wr","./sale/XSDD_List.vue":"5NAd","./sale/XSHT_List.vue":"PSYi","./stock/BDKCDB_List.vue":"bRMi","./stock/CGRK_List.vue":"oylf","./stock/CGTHCK_List.vue":"5jAZ","./stock/GDBLL_List.vue":"FT4d","./stock/KCPD_List.vue":"CcvO","./stock/NBJGLL_List.vue":"0XI/","./stock/NBJGRK_List.vue":"5UXJ","./stock/XSCK_List.vue":"1oCA"};n.keys=function(){return Object.keys(r)},n.resolve=i,e.exports=n,n.id="88rY"},"89pA":function(e,t,a){"use strict";function n(e){a("aDRQ")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("NLlj");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("lwni"),o=a.n(s),l=a("iAXK"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-0107c43e",null);t.default=c.exports},"8Aug":function(e,t){},"8Dfk":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2580,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[i.default],methods:{},created:function(){}}},"8FFA":function(e,t,a){"use strict";function n(e){a("s4Ee")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("QDfD");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("QzS5"),o=a.n(s),l=a("N6fy"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-04e71e08",null);t.default=c.exports},"8KT1":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("just-word-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}},scopedSlots:e._u([{key:"list-item",fn:function(t){var n=t.item;return e._l(n.detailItem,function(t,n){return a("div",{key:n,staticClass:"each-slot-item"},[a("div",{staticClass:"top-content"},[e._v("资金账户: "+e._s(t.fundName_cashInCode))]),e._v(" "),a("div",{staticClass:"main-content"},[a("div",{staticClass:"info_part"},[e._v("\n                资金账户大类: "+e._s(t.fundType_cashInCode)+"\n              ")]),e._v(" "),a("div",{staticClass:"info_part different_type"},[e._v("\n                收款金额: ￥"+e._s(e._f("numberComma")(t.tdAmount))+"\n              ")])])])})}}])})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"8MNr":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2478}},mixins:[i.default],methods:{},created:function(){}}},"8Mec":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2503,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[i.default],methods:{},created:function(){}}},"8NYW":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("DGcX"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={mixins:[i.default],name:"x-dialog",model:{prop:"show",event:"change"},props:{show:{type:Boolean,default:!1},maskTransition:{type:String,default:"vux-mask"},maskZIndex:[String,Number],dialogTransition:{type:String,default:"vux-dialog"},dialogClass:{type:String,default:"weui-dialog"},hideOnBlur:Boolean,dialogStyle:Object,scroll:{type:Boolean,default:!0,validator:function(e){return!0}}},computed:{maskStyle:function(){if(void 0!==this.maskZIndex)return{zIndex:this.maskZIndex}}},mounted:function(){"undefined"!=typeof window&&window.VUX_CONFIG&&"VIEW_BOX"===window.VUX_CONFIG.$layout&&(this.layout="VIEW_BOX")},watch:{show:function(e){this.$emit("update:show",e),this.$emit(e?"on-show":"on-hide"),e?this.addModalClassName():this.removeModalClassName()}},methods:{shouldPreventScroll:function(){var e=/iPad|iPhone|iPod/i.test(window.navigator.userAgent),t=this.$el.querySelector("input")||this.$el.querySelector("textarea");if(e&&t)return!0},hide:function(){this.hideOnBlur&&(this.$emit("update:show",!1),this.$emit("change",!1),this.$emit("on-click-mask"))}},data:function(){return{layout:""}}}},"8ODN":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2572,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"},{name:"往来名称",value:"dealerName_dealerCodeCredit"}]}},mixins:[i.default],methods:{},created:function(){}}},"8OHO":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"childPage"},[a("div",{staticClass:"content"},[a("div",{staticClass:"each_property vux-1px-b",on:{click:e.EditLogPop}},[a("label",[e._v("更新范围:")]),e._v(" "),a("div",{staticClass:"picker",class:{tip:!e.submitData.scope}},[a("span",{staticClass:"log_title"},[e._v(e._s(e.submitData.scope||"请选择"))]),e._v(" "),a("span",{staticClass:"iconfont icon-gengduo"})])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("耗时(单位/时):")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.submitData.spendTime,expression:"submitData.spendTime"}],staticClass:"property_val",attrs:{type:"number"},domProps:{value:e.submitData.spendTime},on:{focus:function(t){e.getFocus(t)},blur:function(t){e.checkVal(e.submitData)},input:function(t){t.target.composing||e.$set(e.submitData,"spendTime",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("更新内容:")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.submitData.content,expression:"submitData.content"}],staticClass:"property_val",attrs:{placeholder:"请输入"},domProps:{value:e.submitData.content},on:{input:function(t){t.target.composing||e.$set(e.submitData,"content",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"btn vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"cfm_btn",on:{click:e.submitLog}},[e._v("提交")])]),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{position:"bottom",height:"50%"},on:{"on-show":e.onShow},model:{value:e.pickerStatus,callback:function(t){e.pickerStatus=t},expression:"pickerStatus"}},[a("div",{staticClass:"trade_pop"},[a("r-scroll",{ref:"bScroll",staticClass:"scope_list",attrs:{options:e.scrollOptions}},e._l(e.scopeList,function(t,n){return a("div",{key:n,staticClass:"scope_type vux-1px-b",on:{click:function(a){e.selectType(t)}}},[a("div",{staticClass:"scope_name"},[e._v(e._s(t.name))]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"checked"},[a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-checkmark-empty",attrs:{type:"ios-checkmark-empty",size:"25",xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M223.9 329.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])])}),0)],1),e._v(" "),a("div",{staticClass:"count_mode vux-1px-t"},[a("span",{staticClass:"count_num"},[e._v(" "+e._s(e.scopeType.length?"已选 "+e.scopeType.length+" 个":"请选择")+" ")]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.cfmMater}},[e._v("确定")])])])],1)])},i=[],r={render:n,staticRenderFns:i};t.a=r},"8Ofw":function(e,t,a){"use strict";function n(e){a("PeEf")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("umED");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("JKgd"),o=a.n(s),l=a("S/pI"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-6efe1f41",null);t.default=c.exports},"8VZL":function(e,t,a){"use strict";function n(e){a("RPHI")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("6arZ");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("BmNp"),o=a.n(s),l=a("qokj"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},"8aM1":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("HzJ8"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("PKHo"),f=n(c),m=a("zWMP"),h=a("BUFe"),v=n(h),p=a("AupE"),C=n(p),y=a("sUbJ"),_=n(y),g=a("FlCz"),b=n(g),w=a("d7ck"),I=n(w),x=a("MVgC"),D=n(x),P=a("hPJo"),S=n(P);t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",orderList:{},basicInfo:{},DuplicateBoms:[],UniqueBom:[],bomPopShow:!1,bom:{},warehouseIn:{},warehouseOut:{},bomList:[]}},mixins:[u.default,f.default],components:{workFlow:C.default,RAction:v.default,MatterItem:_.default,BomList:b.default,FormCell:I.default,BomPop:D.default,WarehouseContent:S.default},watch:{DuplicateBoms:{handler:function(e){var t=function(e,t){return e.inventoryCode===t.inventoryCode};this.UniqueBom=function(e){return e.reduce(function(e,a){return e.some(function(e){var n=t(e,a);return n&&(e.tdQty=(0,m.accAdd)(e.tdQty,a.tdQty)),n})||e.push(a),e},[])}(this.DuplicateBoms)}}},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},checkBom:function(e){this.bom=e,this.bomPopShow=!0},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u={},c=s.order,f=void 0===c?{}:c,h=s.outPut,v=void 0===h?{}:h,p=v.dataSet||[];e.attachment=d;var C=f.dataSet,y=void 0===C?[]:C,_=!0,g=!1,b=void 0;try{for(var w,I=(0,o.default)(y);!(_=(w=I.next()).done);_=!0){var x=w.value;if(x.inventoryPic=x.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+x.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),x.boms){var D=!0,P=!1,S=void 0;try{for(var k,L=(0,o.default)(x.boms);!(D=(k=L.next()).done);D=!0){var N=k.value;N.inventoryCode=N.transObjCode,N.warehouseName=N.warehouseName_containerCodeOut,N.warehouseCode=N.containerCodeOut,N.qtyStock=N.thenQtyStock,N.tdQty=(0,m.accMul)(N.bomQty,x.tdQty,1+N.bomSpecificLoss)}}catch(e){P=!0,S=e}finally{try{!D&&L.return&&L.return()}finally{if(P)throw S}}e.DuplicateBoms=e.DuplicateBoms.concat(JSON.parse((0,r.default)(x.boms)))}u[x.transMatchedCode]||(u[x.transMatchedCode]=[]),u[x.transMatchedCode].push(x)}}catch(e){g=!0,b=e}finally{try{!_&&I.return&&I.return()}finally{if(g)throw b}}p.forEach(function(e){e.inventoryCode=e.outPutMatCode,e.inventoryName=e.inventoryName_outPutMatCode,e.measureUnit=e.measureUnit_outPutMatCode}),e.warehouseIn={warehouseCode:f.containerCode,warehouseName:f.warehouseName_containerCode,warehouseAction:"入库",warehouseIcon:"icon-ruku",warehouseType:f.warehouseType_containerCode,warehouseProvince:f.warehouseProvince_containerCode,warehouseCity:f.warehouseCity_containerCode,warehouseDistrict:f.warehouseDistrict_containerCode,warehouseAddress:f.warehouseAddress_containerCode},e.warehouseOut={warehouseCode:f.containerCodeOut,warehouseName:""+f.warehouseName_containerCodeOut,warehouseAction:"在制仓库",warehouseIcon:"icon-chuku",warehouseType:f.warehouseType_containerCodeOut,warehouseProvince:f.warehouseProvince_containerCodeOut,warehouseCity:f.warehouseCity_containerCodeOut,warehouseDistrict:f.warehouseDistrict_containerCodeOut,warehouseAddress:f.warehouseAddress_containerCodeOut},e.orderList=u,e.bomList=p,e.orderInfo=s,e.workFlowInfoHandler()})}}}},"8bUL":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("DEQU"),r=n(i),s=a("xZPP"),o=n(s),l=a("K2BN"),d=n(l);t.default={name:"x-textarea",minxins:[r.default],mounted:function(){var e=this;this.$slots&&this.$slots["restricted-label"]&&(this.hasRestrictedLabel=!0),this.$nextTick(function(){e.autosize&&e.bindAutosize()})},components:{InlineDesc:o.default},props:{title:String,inlineDesc:String,showCounter:{type:Boolean,default:!0},max:Number,value:String,name:String,placeholder:String,readonly:Boolean,disabled:Boolean,rows:{type:Number,default:3},cols:{type:Number,default:30},height:Number,autocomplete:{type:String,default:"off"},autocapitalize:{type:String,default:"off"},autocorrect:{type:String,default:"off"},spellcheck:{type:String,default:"false"},autosize:Boolean},created:function(){this.currentValue=this.value},watch:{autosize:function(e){this.unbindAutosize(),e&&this.bindAutosize()},value:function(e){this.currentValue=e},currentValue:function(e){this.max&&e&&e.length>this.max&&(this.currentValue=e.slice(0,this.max)),this.$emit("input",this.currentValue),this.$emit("on-change",this.currentValue)}},data:function(){return{hasRestrictedLabel:!1,currentValue:""}},computed:{count:function(){var e=0;return this.currentValue&&(e=this.currentValue.replace(/\n/g,"aa").length),e>this.max?this.max:e},textareaStyle:function(){if(this.height)return{height:this.height+"px"}},labelStyles:function(){return{width:this.$parent.labelWidth||this.labelWidth+"em",textAlign:this.$parent.labelAlign,marginRight:this.$parent.labelMarginRight}},labelWidth:function(){return this.title.replace(/[^x00-xff]/g,"00").length/2+1},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}}},methods:{updateAutosize:function(){d.default.update(this.$refs.textarea)},bindAutosize:function(){(0,d.default)(this.$refs.textarea)},unbindAutosize:function(){d.default.destroy(this.$refs.textarea)},focus:function(){this.$refs.textarea.focus()}},beforeDestroy:function(){this.unbindAutosize()}}},"8cWJ":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("3cXf"),o=n(s),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("u28h"),C=n(p),y=a("PzEQ"),_=n(y),g=a("kNGm"),b=(n(g),a("jnZd")),w=n(b),I=(a("0AQX"),a("Z6x5")),x=a("HyXB"),D=a("bKg5"),P=n(D),S=a("vl8n"),k=n(S),L=a("+WR7"),N=n(L),M=a("iikc"),T=n(M);t.default={data:function(){return{listId:"98519ac0-d2d7-11e8-b8ca-0279b2c6a380",formData:{biId:"",biComment:"",biProcessStatus:""},biReferenceId:"",MobileWarn:!1,idCardWarn:!1,groupList:[],roleList:[]}},components:{Cell:c.default,Group:m.default,XInput:v.default,Datetime:C.default,XTextarea:_.default,PopupPicker:w.default,RPicker:k.default,PopBaseinfo:N.default,PopSalesmanList:T.default},mixins:[P.default],methods:{getAllGroup:function(){var e=this;(0,I.getAllGroup)().then(function(t){var a=[];t.tableContent.forEach(function(e){a.push(e.groupName)}),e.groupList.push(a)})},getAllRoleInfo:function(){var e=this;(0,I.getAllRoleInfo)().then(function(t){var a=[];t.tableContent.forEach(function(e){a.push(e.roleName)}),e.roleList.push(a)})},submitOrder:function(){var e=this,t="",a=[{key:"hiresName",message:"员工"}];if(t||a.every(function(a){return!!e.formData[a.key]||(t="请选择"+a.message,!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=x.saveAndStartWf,a=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,hiresDepartMent:e.formData.hiresDepartMent&&e.formData.hiresDepartMent[0],hiresPost:e.formData.hiresPost&&e.formData.hiresPost[0]}),n={listId:e.listId,biComment:"",formData:(0,o.default)(a)};e.isResubmit&&(t=x.saveAndCommitTask,n.biReferenceId=e.biReferenceId,n.wfPara=(0,o.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=x.submitAndCalc,delete n.wfPara,delete n.biReferenceId),e.biReferenceId&&(n.biReferenceId=e.biReferenceId),e.saveData(t,n)}})},hasDraftData:function(){var e=this.formData;if(e.profileName||e.idCard)return(0,r.default)({},"YGRZ_DATA",{formData:e})}},created:function(){this.getAllGroup(),this.getAllRoleInfo();var e=sessionStorage.getItem("YGRZ_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,sessionStorage.removeItem("YGRZ_DATA")}}}},"8dBe":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2496}},mixins:[i.default],methods:{},created:function(){}}},"8dL1":function(e,t,a){"use strict";function n(e){a("dBNw")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("vW5/");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("LOVB"),o=a.n(s),l=a("Vkn7"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-56a57950",null);t.default=c.exports},"8dZ0":function(e,t,a){"use strict";function n(e){a("46lT")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("UyNo");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("TZQl"),o=a.n(s),l=a("LEvG"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-05eb8156",null);t.default=c.exports},"8gEi":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2464,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}]}},mixins:[i.default],methods:{},created:function(){}}},"8hwe":function(e,t,a){"use strict";function n(e){a("R/Ib")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("sy2r");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("JHNY"),o=a.n(s),l=a("L0HX"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-3dadc15e",null);t.default=c.exports},"8i7U":function(e,t){},"8qFH":function(e,t){},"8qlz":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("KH7x"),r=n(i),s=a("a3Yh"),o=n(s),l=a("MgeX"),d=n(l),u=a("HzJ8"),c=n(u),f=a("ZLEe"),m=n(f),h=a("rVsN"),v=n(h),p=a("IHPB"),C=n(p),y=a("3cXf"),_=n(y),g=a("4YfN"),b=n(g),w=a("HXPS"),I=n(w),x=a("BGNQ"),D=n(x),P=a("z5TY"),S=n(P),k=a("SAzG"),L=n(k),N=a("u28h"),M=n(N),T=a("PzEQ"),A=n(T),O=a("kNGm"),R=n(O),j=a("0AQX"),B=a("I3vJ"),E=a("HyXB"),F=a("bKg5"),U=n(F),$=a("luHD"),Q=n($),H=a("RMtk"),V=n(H),q=a("jEax"),Y=n(q),X=a("d7ck"),G=n(X),W=a("FlCz"),z=n(W),K=a("MVgC"),J=n(K),Z=a("vl8n"),ee=n(Z),te=a("+WR7"),ae=n(te),ne=a("89pA"),ie=n(ne),re=a("zWMP"),se=a("Qg39");t.default={name:"ApplyWLXQTJForm",mixins:[U.default],components:{Icon:I.default,Cell:D.default,Group:S.default,XInput:L.default,XTextarea:A.default,PopMatter:Q.default,PopOrderXqtjList:V.default,Datetime:M.default,FormCell:G.default,PopWarehouseNbjgrkList:Y.default,BomList:z.default,BomPop:J.default,RPicker:ee.default,PopBaseinfo:ae.default,PopWarehouseList:ie.default},data:function(){return{listId:"5e8d89f1-49a5-4089-9c1a-44dc2ce0ae4b",orderList:{},showOrderPop:!1,formData:{biProcessStatus:null,biComment:""},submitSuccess:!1,warehouse:null,numMap:{},transCode:"",formViewUniqueId:"82784823-ded5-4a58-a746-d32514f7d26f",biReferenceId:"",actions:[],taskId:"",matterList:[],entity:{},tmpItems:{},matter:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,warehouseOut:{warehouseName:"待检仓",warehouseCode:"QC0001",warehouseType:"一般部门仓"},warehouseIn:null,warehouseOutParams:{warehouseType:"一般部门仓"},warehouseInParams:{warehouseType:"一般部门仓,个人仓,加工车间仓"},orderParams:{whCode:"FG0001"},DuplicateBoms:[],UniqueBom:[],bom:{},bomPopShow:!1,modifyBomTdqty:[]}},methods:{selWarehouseOut:function(e){this.warehouseOut=JSON.parse(e),this.orderParams=(0,b.default)({},this.orderParams,{whCode:this.warehouseOut.warehouseCode}),this.orderList={}},selWarehouseIn:function(e){this.warehouseIn=JSON.parse(e)},checkAmt:function(e){var t=e.qualityQty,a=void 0===t?0:t,n=e.tdQty,i=void 0===n?0:n,r=e.qtyStock,s=void 0===r?0:r,o=e.qtyBal,l=void 0===o?0:o,d=Math.min(s,l);a&&(a=Math.min(d,a),e.qualityQty=Math.abs((0,se.toFixed)(a)),this.$set(e,"differenceNum",(0,re.accSub)(a,i))),i&&(i=Math.min(d,i),e.tdQty=Math.abs((0,se.toFixed)(i)),this.$set(e,"differenceNum",(0,re.accSub)(a,i)))},checkBom:function(e,t,a){this.bom=e,this.modifyIndex=t,this.modifyKey=a,this.bomPopShow=!0,this.modifyBomTdqty=JSON.parse((0,_.default)(e.boms))},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,_.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a,this.modifyBomTdqty=[].concat((0,C.default)(e.boms))},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t),this.reBuildUniqueBom(t)},selOrder:function(e){var t=this,a=JSON.parse(e),n={},i=[],r=[];a.forEach(function(e){var a=e.transCode+"_"+e.orderCode+"_"+e.inventoryCode,s=Math.min(e.qtyStock||0,e.qtyBal||0),o=t.numMap[a]||{},l=o.tdQty,d=void 0===l?s:l,u=o.boms,c=o.qualityQty,f=void 0===c?s:c,m=o.shippingTime,h=void 0===m?(0,R.default)(e.shippingTime,"YYYY-MM-DD"):m;e.tdQty=d,e.shippingTime=h,e.qualityQty=f,e.differenceNum=(0,re.accSub)(f,d),i.push((0,B.getJGRKBom)({parentInvCode:e.inventoryCode}).then(function(a){var n=a.tableContent,i=void 0===n?[]:n;i.forEach(function(a){var n=t.calcBom(e.differenceNum,a);a.qualityQty=n,a.demandQty=n});var s=t.mergeSingleBom(i),o=t.oneToMul(e,i);t.$set(e,"boms",s),t.$set(e,"assembleBoms",o),r=[].concat((0,C.default)(r),(0,C.default)(i))})),n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n,v.default.all(i).then(function(e){t.DuplicateBoms=r,t.mergeBomList()})},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},findIndex:function(e,t){return e.findIndex(function(e){return e.orderCode===t.orderCode&&e.transCode===t.transCode&&e.inventoryCode===t.inventoryCode})},delClick:function(e,t,a){var n=this.selItems,i=this.findIndex(n,t);if(-1!==i)return void n.splice(i,1);n.push(t)},showSelIcon:function(e){return-1!==this.findIndex(this.selItems,e)},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,_.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,m.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.orderCode===a.orderCode&&t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=e.findIndex(n,t);i>=0&&(e.$refs.order.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,c.default)((0,d.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,o=!1,l=void 0;try{for(var u,f=(0,c.default)(r);!(s=(u=f.next()).done);s=!0){var m=u.value;this.numMap[m.transCode+"_"+m.orderCode+"_"+m.inventoryCode]=(0,b.default)({},m)}}catch(e){o=!0,l=e}finally{try{!s&&f.return&&f.return()}finally{if(o)throw l}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="";if([{key:"warehouseIn",message:"入库仓库"}].every(function(a){return!!e[a.key]||(t="请选择"+a.message,!1)}),t||(0,m.default)(this.orderList).length||(t="请选择物料"),!t){var a=!0,n=!1,i=void 0;try{for(var r,s=(0,c.default)((0,d.default)(this.orderList));!(a=(r=s.next()).done);a=!0){var l=r.value,u=!0,f=!1,h=void 0;try{for(var v,p=(0,c.default)(l);!(u=(v=p.next()).done);u=!0)if(!v.value.qualityQty){t="请填写本次入库数量";break}}catch(e){f=!0,h=e}finally{try{!u&&p.return&&p.return()}finally{if(f)throw h}}if(t)break}}catch(e){n=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=[],a=E.saveAndStartWf,n={},i=(0,o.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""}),r=!0,s=!1,l=void 0;try{for(var u,f=(0,c.default)((0,d.default)(e.orderList));!(r=(u=f.next()).done);r=!0){var m=u.value,h=!0,v=!1,p=void 0;try{for(var C,y=(0,c.default)(m);!(h=(C=y.next()).done);h=!0){var g=C.value;!function(e){var a=e.boms.reduce(function(t,a){return t.push({tdId:a.tdId||null,transMatchedCode:e.transCode,qualityQty:a.qualityQty,bomSpecificLoss:a.specificLoss,tdProcessing:a.processing,inventoryName:a.inventoryName,demandQty:a.demandQty,transObjCode:a.inventoryCode,measureUnit:a.measureUnit,bomType:a.bomType,bomQty:a.qty,parentInventoryCode:a.parentInventoryCode}),t},[]),n={tdId:e.tdId||null,transMatchedCode:e.transCode,orderCode:e.orderCode,inventoryName_transObjCode:e.inventoryName,transObjCode:e.inventoryCode,tdProcessing:e.processing,measureUnit_transObjCode:e.measureUnit,thenTotalQtyBal:e.productDemandQty,thenQtyStock:e.qtyStock,thenLockQty:e.stockQty,thenQtyBal:e.qtyBal,qualityQty:e.qualityQty,tdQty:e.tdQty,differenceNum:e.differenceNum,shippingTime:e.shippingTime,skinFee:e.skinFee,wages:e.wages,comment:e.comment||"",boms:a};t.push(n)}(g)}}catch(e){v=!0,p=e}finally{try{!h&&y.return&&y.return()}finally{if(v)throw p}}}}catch(e){s=!0,l=e}finally{try{!r&&f.return&&f.return()}finally{if(s)throw l}}n=(0,b.default)({},e.formData,{modifer:e.transCode?e.formData.handler:"",handlerEntity:e.entity.dealerName,order:{containerCodeOut:e.warehouseOut.warehouseCode,containerCode:e.warehouseIn.warehouseCode,dataSet:t},outPut:{dataSet:outPutDataSet},containerOutWarehouseManager:e.warehouseOut.manager||null,containerInWarehouseManager:e.warehouseIn.manager||null}),e.transCode&&(a=E.saveAndCommitTask,i={businessKey:e.transCode,createdBy:n.creator||n.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var w={listId:e.listId,biComment:"",formData:(0,_.default)(n),wfPara:(0,_.default)(i)};e.processCode.length||(a=E.submitAndCalc,delete w.wfPara),e.transCode&&(w.biReferenceId=e.biReferenceId),e.saveData(a,w)}})},getFormData:function(){var e=this;return(0,j.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=o;var l={},d=r.order,u=r.outPut,f=d.dataSet,m=void 0===f?[]:f,h=u.dataSet,v=void 0===h?[]:h,p=!0,C=!1,y=void 0;try{for(var _,g=(0,c.default)(m);!(p=(_=g.next()).done);p=!0){var w=_.value;w=(0,b.default)({},w,{transCode:w.transMatchedCode,measureUnit:w.measureUnit_transObjCode,qtyBal:w.thenQtyBal,qtyStock:w.thenQtyStock,inventoryPic:w.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+w.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:w.inventoryName_transObjCode,inventoryCode:w.transObjCode,specification:w.specification_transObjCode,processing:w.tdProcessing}),l[w.transCode]||(l[w.transCode]=[]),l[w.transCode].push(w)}}catch(e){C=!0,y=e}finally{try{!p&&g.return&&g.return()}finally{if(C)throw y}}v.forEach(function(e){e.inventoryName=e.inventoryName_outPutMatCode,e.inventoryCode=e.outPutMatCode,e.measureUnit=e.measureUnit_outPutMatCode,e.processing=e.tdProcessing}),e.warehouseOut={warehouseName:d.warehouseName_containerCodeOut,warehouseType:d.warehouseType_containerCodeOut,warehouseCode:d.containerCodeOut,manager:r.containerOutWarehouseManager},e.warehouseIn={warehouseName:d.warehouseName_containerCode,warehouseType:d.warehouseType_containerCode,warehouseCode:d.containerCode,manager:r.containerInWarehouseManager},e.matterList=m,e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,b.default)({},e.formData,e.handlerDefault,{biComment:r.biComment,biId:r.biId,biProcessStatus:r.biProcessStatus,creator:r.creator,modifer:r.modifer}),e.biReferenceId=r.biReferenceId,e.orderList=l,e.orderParams=(0,b.default)({},e.orderParams,{whCode:e.warehouseOut.warehouseCode}),e.$loading.hide()})},hasDraftData:function(){return!!(0,d.default)(this.orderList).length&&(0,o.default)({},"NBJGRK_DATA",{orderList:this.orderList,formData:this.formData,warehouseIn:this.warehouseIn,warehouseOut:this.warehouseOut})},mergeSingleBom:function(e){return e.reduce(function(e,t){var a=e.find(function(e){return e.inventoryCode===t.inventoryCode});return a?(a.demandQty=(0,re.accAdd)(a.demandQty,t.demandQty),a.qualityQty=(0,re.accAdd)(a.qualityQty,t.qualityQty)):e.push(t),e},[])},oneToMul:function(e,t){var a=this,n=e.inventoryCode,i=JSON.parse((0,_.default)(t)),r=i.filter(function(e){return e.parentInventoryCode===n});return r&&r.length&&r.forEach(function(e){e.child=a.oneToMul(e,t)}),r||[]},mulToOne:function(e){var t=this,a=e;return e.reduce(function(e,n){return n.child&&(a=[].concat((0,C.default)(a),(0,C.default)(t.mulToOne(n.child)))),e},[]),a},getStock:function(e){var t=this,a=this.UniqueBom.find(function(t){return t.inventoryCode===e.inventoryCode}),n=(0,re.accSub)(a.thenTotalQtyStock,a.thenQtyBalCopy1),i=(0,d.default)(this.orderList).reduce(function(e,t){return[].concat((0,C.default)(e),(0,C.default)(t))},[]),r=i.reduce(function(e,a){var n=t.mulToOne(a.assembleBoms);return a.boms=n,[].concat((0,C.default)(e),(0,C.default)(n))},[]),s=r.reduce(function(e,t){var n=0;return t.inventoryCode===a.inventoryCode&&(n=t.qualityQty),(0,re.accAdd)(e,n)},0);return n<0?0:(0,re.accSub)(n,s)},reBuildUniqueBom:function(e){var t=this,a=0,n=function e(n,i){n.map(function(n,r){var s=0,o=0;parseFloat(i)?(s=t.calcBom(i,n),n.demandQty=s,"原料"===n.processing?n.qualityQty=s:(o=t.getStock(n,s),n.qualityQty=o?s>o?o:s:0,a=(0,re.accSub)(s,n.qualityQty))):(n.demandQty=0,n.qualityQty=0,a=0),n.child&&n.child.length&&e(n.child,a)})},i=(0,d.default)(this.orderList).reduce(function(e,t){return[].concat((0,C.default)(e),(0,C.default)(t))},[]),r=i.reduce(function(e,a){n(a.assembleBoms,a.differenceNum);var i=t.mulToOne(a.assembleBoms);return a.boms=t.mergeSingleBom(i),[].concat((0,C.default)(e),(0,C.default)(i))},[]);console.log(r),r=this.mergeSingleBom(r),this.UniqueBom.forEach(function(e){var t=r.find(function(t){return t.inventoryCode===e.inventoryCode});e.demandQty=t.demandQty,e.tdQty=t.qualityQty})},mergeBomList:function(){var e=this,t=[],a=JSON.parse((0,_.default)(this.DuplicateBoms)),n=a.reduce(function(e,a){var n=e.find(function(e){return e.inventoryCode===a.inventoryCode});return n?n.tdQty=(0,re.accAdd)(n.tdQty,a.qualityQty):(!a.thenTotalQtyStock&&0!==a.thenTotalQtyStock&&t.push((0,B.getInProcessingStorageSumSource)({inventoryCode:a.inventoryCode}).then(function(e){var t=e.tableContent,n=void 0===t?[]:t,i=(0,r.default)(n,1),s=i[0],o=void 0===s?{}:s;a.thenQtyBalCopy1=o.qtyBal||0,a.thenTotalQtyStock=o.thenTotalQtyStock||0})),a.tdQty=a.qualityQty,e.push(a)),e},[]);v.default.all(t).then(function(){e.UniqueBom=n})},calcBom:function(e,t){return(0,re.accMul)(e,t.qty,1+t.specificLoss)}},created:function(){var e=sessionStorage.getItem("NBJGRK_DATA");if(e){var t=JSON.parse(e);this.orderList=t.orderList,this.formData=t.formData,this.warehouseOut=t.warehouseOut,this.warehouseIn=t.warehouseIn,this.orderParams=(0,b.default)({},this.orderParams,{whCode:this.warehouseOut.warehouseCode}),sessionStorage.removeItem("NBJGRK_DATA")}}}},"8rBc":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("HXPS"),d=n(l),u=a("7g+Q"),c=n(u),f=a("6q39"),m=n(f),h=a("QHLv"),v=a("1KNX"),p=n(v),C=a("7biW"),y=n(C);t.default={name:"MatterList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},getListMethod:{type:String,default:"getObjFunds"}},components:{Icon:d.default,Popup:c.default,LoadMore:m.default,RScroll:p.default,MSearch:y.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],costList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,o.default)(this.selItems)),this.$emit("input",!1),this.$event.$emit("shut-down-filter",!1)},showSelIcon:function(e){var t=!1;return this.selItems&&this.selItems.every(function(a){return e.fundCode!==a.fundCode||(t=!0,!1)}),t},selThis:function(e,t){this.showPop=!1,this.selItems=[e],this.$emit("sel-matter",this.selItems[0])},setDefaultValue:function(){this.tmpItems=[].concat((0,o.default)(this.defaultValue)),this.selItems=[].concat((0,o.default)(this.defaultValue))},getObjFunds:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,o.default)(e),[{operator:"like",value:this.srhInpTx,property:"fundName"}])),(0,h.getObjFunds)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(e)}).then(this.dataHandler)},getEmployeeReserveFunds:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,o.default)(e),[{operator:"like",value:this.srhInpTx,property:"fundName"}])),(0,h.getEmployeeReserveFunds)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(e)}).then(this.dataHandler)},dataHandler:function(e){var t=this,a=e.dataCount,n=void 0===a?0:a,i=e.tableContent,r=void 0===i?[]:i;this.hasNext=n>(this.page-1)*this.limit+r.length,this.costList=1===this.page?r:[].concat((0,o.default)(this.costList),(0,o.default)(r)),this.$nextTick(function(){t.$refs.bScroll.finishPullUp()})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.costList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this[this.getListMethod]()},onPullingUp:function(){this.page++,this[this.getListMethod]()}},created:function(){this.setDefaultValue(),this[this.getListMethod]()}}},"8rFc":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,"dealer-params":e.dealerParams,defaultContact:e.contact},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("dealer-other-part",{attrs:{"dealer-config":e.dealerConfig,"dealer-info":e.dealerInfo}}),e._v(" "),a("div",{staticClass:"materiel_list"},[e.matterList.length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v("物料列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.matterList,function(t,n){return a("div",{key:n,staticClass:"each_mater",class:{mater_delete:e.matterModifyClass,"vux-1px-b":n<e.matterList.length-1}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass,config:e.matterEditConfig.property},on:{"on-modify":function(a){e.modifyMatter(t,n)}},nativeOn:{click:function(a){e.delClick(t,n)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[n.price&&n.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price)+"\n                    ")]),e._v(" "),a("div",[a("r-number",{attrs:{num:n.tdQty,checkAmt:e.checkAmt},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",t)},expression:"item.tdQty"}})],1)]):e._e()]}},{key:"editPart",fn:function(t){var i=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:i.price&&i.tdQty&&!e.matterModifyClass,expression:"(item.price && item.tdQty) &&!matterModifyClass"}],staticClass:"edit-part vux-1px-l",on:{click:function(t){e.modifyMatter(i,n)}}},[a("span",{staticClass:"iconfont icon-bianji1"})])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(t,n)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)}),0)]:[a("div",{staticClass:"no-matter",on:{click:function(t){e.showMaterielPop=!e.showMaterielPop}}},[a("div",{staticClass:"title"},[e._v("物料列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择物料")]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),e.matterList.length?a("span",{staticClass:"add_more",on:{click:function(t){e.showMaterielPop=!e.showMaterielPop}}},[e._v("新增更多物料")]):e._e()]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showMaterielPop,config:e.matterPopConfig,"matter-params":e.matterParams,"default-value":e.matterList},on:{"sel-matter":e.selMatter},model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}})],2),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,"show-date-time":!0,config:e.matterEditConfig},on:{"sel-confirm":e.selConfirm},model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num",class:{nine_up:e.tdAmount.length>8,ten_up:e.tdAmount.length>9,ele_up:e.tdAmount.length>10}},[a("span",{staticClass:"total_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.tdAmount,3))+"\n      ")]),e._v(" "),a("span",{staticClass:"taxAmount"},[e._v("[含税: ￥"+e._s(e._f("numberComma")(e.taxAmount,3))+"]")])]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},"8uS7":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages cpxq-list-container"},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"each_duty",class:{visited:t.visited},on:{click:function(a){e.goDetail(t,n)}}},[a("div",{staticClass:"duty_top"},[a("p",{staticClass:"duty_code"},[e._v("\n            "+e._s(t.transCode)+"\n            "),t.processStatus?a("span",{staticClass:"duty_crt_man"},[e._v(e._s(t.processStatus))]):e._e()]),e._v(" "),a("span",{staticClass:"duty_status",class:t.statusClass},[e._v(e._s(t.statusName))]),e._v(" "),a("i",{staticClass:"iconfont",class:t.whichIcon})]),e._v(" "),a("div",{staticClass:"duty_content"},[a("div",{staticClass:"content_title"},[e._v(e._s(t.profileName))]),e._v(" "),a("div",{staticClass:"content_step vux-1px-b"},[a("div",[e._v("手机号: "+e._s(t.profileContact))]),e._v(" "),a("div",[e._v("入职时间: "+e._s(e._f("dateFormat")(t.entryDate,"YYYY-MM-DD")))])])]),e._v(" "),a("div",{staticClass:"order_count"},[t.handlerName?a("div",{staticClass:"handle_man"},[e._v("\n            "+e._s(t.handlerName)),a("span",{staticStyle:{fontSize:".1rem"}},[e._v("[经办人]")])]):e._e()])])}),0)],1),e._v(" "),a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},"8xC5":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("IHPB"),o=n(s),l=a("3cXf"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("+62G"),v=n(h),p=a("6q39"),C=n(p),y=a("HyXB"),_=a("1KNX"),g=n(_),b=a("7biW"),w=n(b);t.default={name:"PopManagerList",props:{defaultValue:{type:Object,default:function(){return{}}},show:{type:Boolean,default:!1}},directives:{TransferDom:v.default},components:{Icon:c.default,Popup:m.default,RScroll:g.default,DSearch:w.default,LoadMore:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},computed:{tip:function(){var e="加载中";return this.hasNext||(e="暂无数据"),e}},watch:{show:function(e){this.showPop=e},defaultValue:function(e){this.setDefaultValue()}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1,this.$emit("input",!1)},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this.getList()},showSelIcon:function(e){return this.selItems.dealerName===e.dealerName},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.$emit("sel-item",(0,d.default)(this.selItems))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:"dealerName"}])),(0,y.getObjDealerByLabelName)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,dealerLabelName:"员工",filter:(0,d.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,o.default)(e.listData),(0,o.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.selItems=this.defaultValue?(0,r.default)({},this.defaultValue):{}}},created:function(){this.setDefaultValue(),this.getList()}}},"9+xF":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("MgeX"),o=n(s),l=a("HzJ8"),d=n(l),u=a("ZLEe"),c=n(u),f=a("3cXf"),m=n(f),h=a("4YfN"),v=n(h),p=a("7g+Q"),C=n(p),y=a("+62G"),_=n(y),g=a("z5TY"),b=n(g),w=a("BGNQ"),I=n(w),x=a("iR2W"),D=n(x),P=a("u28h"),S=n(P),k=a("SAzG"),L=n(k),N=a("PzEQ"),M=n(N),T=a("kNGm"),A=n(T),O=a("0AQX"),R=a("HyXB"),j=a("bKg5"),B=n(j),E=a("VZtf"),F=n(E),U=a("9cRV"),$=n(U),Q=a("ZQWM"),H=n(Q),V=a("hLfv"),q=n(V),Y=a("yt3/"),X=n(Y),G=a("luHD"),W=n(G),z=a("vl8n"),K=n(z),J=a("+WR7"),Z=n(J),ee=a("zWMP"),te=a("Qg39");t.default={data:function(){return{filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"合同号",value:"transCode"}],showMatterPop:!1,showMaterielPop:!1,transMode:[],matterList:[],numMap:{},formData:{},dealerInfo:{},orderList:{},modifyKey:null,contactInfo:{}}},directives:{TransferDom:_.default},components:{XInput:L.default,XTextarea:M.default,Group:b.default,Cell:I.default,Popup:C.default,PopMatter:W.default,RNumber:F.default,PopMatterList:$.default,PopDealerList:H.default,PopSingleSelect:X.default,Datetime:S.default,RPicker:K.default,PopBaseinfo:Z.default,DealerOtherPart:q.default},mixins:[B.default],filters:{numberComma:D.default},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],this.dealerInfo.drDealerPaymentTerm=this.dealerInfo.paymentTerm,this.dealerInfo.daysOfAccount=this.dealerInfo.pamentDays,this.dealerInfo.drDealerLogisticsTerms=this.dealerInfo.dealerLogisticsTerms,null!=this.matterParams.data.dealerCode&&(this.matterParams.data.dealerCode=this.dealerInfo.dealerCode,this.matterList=[],this.orderList={})},selContact:function(e){this.contactInfo=(0,v.default)({},e)},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,m.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.inventoryCode!==e.inventoryCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getMatter:function(){if(!this.dealerInfo.dealerCode)return void this.$vux.alert.show({content:"请选择客户"});this.showMaterielPop=!this.showMaterielPop},checkAmt:function(e){var t=e.tdQty,a=e.tdAmountCopy1;t&&(e.tdQty=Math.abs((0,te.toFixed)(t))),a&&(e.tdAmountCopy1=Math.abs((0,te.toFixed)(a)))},selMatter:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){var a=e.transCode+"_"+e.inventoryCode,i=t.numMap[a]||{},r=i.tdQty,s=void 0===r?e.qtyBal:r,o=i.price,l=void 0===o?e.price:o,d=i.taxRate,u=void 0===d?t.taxRate:d,c=i.promDeliTime,f=void 0===c?"":c;e.tdQty=s,e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null,e.price=l,e.taxRate=u,e.promDeliTime=f,e.dateActivation=(0,A.default)(e.dateActivation,"YYYY-MM-DD"),e.executionDate=(0,A.default)(e.executionDate,"YYYY-MM-DD"),e.transCode&&(n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e))}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t,a){var n=this.selItems,i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode&&e.transCode===t.transCode});if(-1!==i)return void n.splice(i,1);n.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,c.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});i>=0&&(e.$refs.matter.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,d.default)((0,o.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,l=!1,u=void 0;try{for(var c,f=(0,d.default)(r);!(s=(c=f.next()).done);s=!0){var m=c.value;this.numMap[m.transCode+"_"+m.inventoryCode]=(0,v.default)({},m)}}catch(e){l=!0,u=e}finally{try{!s&&f.return&&f.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showMaterielPop=!this.showMaterielPop},dateSelect:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.$vux.datetime.show({confirmText:"确定",cancelText:"取消",value:this.dealerInfo[t],onConfirm:function(a){e.$set(e.dealerInfo,t,a)}})},submitOrder:function(){var e=this;if(this.dealerInfo.dealerName)if((0,c.default)(this.orderList).length){var t="",a=[],n=!0,i=!1,s=void 0;try{for(var l,u=(0,d.default)((0,o.default)(this.orderList));!(n=(l=u.next()).done);n=!0){var f=l.value,h=!0,p=!1,C=void 0;try{for(var y,_=(0,d.default)(f);!(h=(y=_.next()).done);h=!0){var g=y.value;if(!g.tdQty){t="请填写数量";break}if(!g.price){t="请填写单价";break}if(!g.promDeliTime){t="请选择预期交货日";break}var b=g.taxRate||this.taxRate,w=(0,te.toFixed)((0,ee.accMul)(g.assistQty,b,g.noTaxPrice)),I={tdId:g.tdId||"",transMatchedCode:g.transCode,inventoryName_transObjCode:g.inventoryName,transObjCode:g.inventoryCode,tdProcessing:g.processing,assMeasureUnit:g.assMeasureUnit||null,assMeasureDescription:g.assMeasureDescription||null,assMeasureScale:g.assMeasureScale||null,dealerInventoryName:g.clientInventoryName,dealerInventoryCode:g.clientInventoryCode,thenTotalQtyBal:g.qty,thenLockQty:g.stockQty,thenQtyBal:g.qtyBal,tdQty:g.tdQty,assistQty:g.assistQty||0,price:g.price,tdAmount:(0,te.toFixed)((0,ee.accMul)(g.price,g.assistQty)),taxRate:b,noTaxPrice:g.noTaxPrice,taxAmount:w,noTaxAmount:(0,ee.accSub)(g.tdAmount,g.taxAmount),dateActivation:g.dateActivation,promDeliTime:g.promDeliTime||null,executionDate:g.executionDate,comment:g.comment||""};a.push(I)}}catch(e){p=!0,C=e}finally{try{!h&&_.return&&_.return()}finally{if(p)throw C}}}}catch(e){i=!0,s=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw s}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=R.saveAndStartWf,n=(0,r.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.formData.biComment,formData:(0,m.default)((0,v.default)({},e.formData,{handlerEntity:e.entity.dealerName,dealerDebitContactPersonName:e.contactInfo.dealerName||"",dealerDebitContactInformation:e.contactInfo.dealerMobilePhone||"",drDealerLogisticsTerms:e.dealerInfo.dealerLogisticsTerms,order:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,drDealerPaymentTerm:e.dealerInfo.paymentTerm,daysOfAccount:e.dealerInfo.pamentDays,dataSet:a},inPut:{dataSet:[{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,tdAmountCopy1:e.dealerInfo.tdAmountCopy1,advancePaymentDueDate:e.dealerInfo.advancePaymentDueDate}]}})),wfPara:(0,m.default)(n)};e.isResubmit&&(t=R.saveAndCommitTask,i.biReferenceId=e.biReferenceId),e.processCode.length||(t=R.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})}else this.$vux.alert.show({content:"请选择物料"});else this.$vux.alert.show({content:"请选择客户"})},getFormData:function(){var e=this;return(0,O.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.attachment=t.attachment;var a={},n=t.formData,i=n.order;(void 0===i?{}:i).dataSet.map(function(t){t=(0,v.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,clientInventoryName:t.dealerInventoryName,clientInventoryCode:t.dealerInventoryCode,qty:t.thenTotalQtyBal,stockQty:t.thenLockQty,qtyBal:t.thenQtyBal,transCode:t.transMatchedCode,invSubUnitMulti:t.assMeasureScale}),e.matterList.push(t),a[t.transCode]||(a[t.transCode]=[]),a[t.transCode].push(t)}),e.handlerDefault={handler:n.handler,handlerName:n.handlerName,handlerUnit:n.handlerUnit,handlerUnitName:n.handlerUnitName,handlerRole:n.handlerRole,handlerRoleName:n.handlerRoleName},e.orderList=a,e.formData=(0,v.default)({},e.formData,e.handlerDefault,{biComment:n.biComment,biId:n.biId,biProcessStatus:n.biProcessStatus,creator:n.creator,modifer:n.modifer});var r=n.order.dataSet[0];e.dealerInfo={dealerMobilePhone:n.dealerDebitContactInformation,dealerCode:r.dealerDebit,dealerLabelName:r.drDealerLabel,dealerName:n.order.dealerName_dealerDebit,province:n.order.province_dealerDebit,city:n.order.city_dealerDebit,county:n.order.county_dealerDebit,address:n.order.address_dealerDebit,paymentTerm:n.order.drDealerPaymentTerm,dealerLogisticsTerms:n.drDealerLogisticsTerms,pamentDays:n.order.daysOfAccount,tdAmountCopy1:r.tdAmountCopy1,advancePaymentDueDate:r.advancePaymentDueDate},e.contactInfo={dealerName:n.dealerDebitContactPersonName,dealerMobilePhone:n.dealerDebitContactInformation},e.matterParams.data.dealerCode&&(e.matterParams.data.dealerCode=e.dealerInfo.dealerCode),e.$loading.hide()})},hasDraftData:function(){return!!(0,o.default)(this.orderList).length&&(0,r.default)({},"XSDD_DATA",{dealerInfo:this.dealerInfo,formData:this.formData,contactInfo:this.contactInfo,orderList:this.orderList})}},created:function(){var e=sessionStorage.getItem("XSDD_DATA");if(e){var t=JSON.parse(e);this.dealerInfo=t.dealerInfo,this.formData=t.formData,this.contactInfo=t.contactInfo,this.orderList=t.orderList;var a=!0,n=!1,i=void 0;try{for(var r,s=(0,d.default)((0,o.default)(this.orderList));!(a=(r=s.next()).done);a=!0){var l=r.value,u=!0,c=!1,f=void 0;try{for(var m,h=(0,d.default)(l);!(u=(m=h.next()).done);u=!0){var v=m.value;this.matterList.push(v)}}catch(e){c=!0,f=e}finally{try{!u&&h.return&&h.return()}finally{if(c)throw f}}}}catch(e){n=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}this.matterParams.data.dealerCode&&(this.matterParams.data.dealerCode=this.dealerInfo.dealerCode),sessionStorage.removeItem("XSDD_DATA")}}}},"92zY":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"work-flow-full-container"},[a("r-scroll",[a("header",{staticClass:"work-flow-header"},[e._v("工作流")]),e._v(" "),a("div",{staticClass:"work-flow-wrapper"},e._l(e.workFlowList,function(t,n){return a("div",{key:n,staticClass:"work_flow_item vux-1px-l",class:[t.statusClass,{is_my_node:t.isMyNode}]},[a("div",{staticClass:"work_flow_time"},[a("span",[e._v(e._s(e._f("dateFormat")(t.startTime,"YYYY-MM-DD")))]),e._v(" "),a("span",{staticClass:"hour"},[e._v(e._s(e._f("dateFormat")(t.startTime,"HH:mm")))])]),e._v(" "),a("div",{staticClass:"work_flow_info"},[a("img",{staticClass:"avatar",attrs:{src:t.photoUrl,alt:"avatar"},on:{error:function(a){e.getDefaultIcon(t)}}}),e._v(" "),a("div",{staticClass:"work_flow_info_right"},[a("div",{staticClass:"work_flow_node"},[a("div",{staticClass:"node_info"},[a("div",{staticClass:"node_name"},[e._v(e._s(t.nodeName))]),e._v(" "),a("div",{staticClass:"node_user"},[e._v(e._s(t.userName))])]),e._v(" "),a("div",{staticClass:"node_status"},[e._v(e._s(t.statusText))])]),e._v(" "),a("div",{staticClass:"work_flow_remark"},[e._v("备注："+e._s(t.message||"无"))])])])])}),0)])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"98vG":function(e,t,a){"use strict";function n(e){a("1tO0")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("q8mY");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("zF26"),o=a.n(s),l=a("XZip"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-7020d7a6",null);t.default=c.exports},"9B9Q":function(e,t,a){"use strict";function n(e){a("FpgM")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Cgoy");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("KDMX"),o=a.n(s),l=a("y/yf"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-39943d50",null);t.default=c.exports},"9FuR":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("4YfN"),o=n(s),l=a("MgeX"),d=n(l),u=a("HzJ8"),c=n(u),f=a("ZLEe"),m=n(f),h=a("rVsN"),v=n(h),p=a("IHPB"),C=n(p),y=a("3cXf"),_=n(y),g=a("HXPS"),b=n(g),w=a("BGNQ"),I=n(w),x=a("z5TY"),D=n(x),P=a("SAzG"),S=n(P),k=a("u28h"),L=n(k),N=a("PzEQ"),M=n(N),T=a("kNGm"),A=n(T),O=a("0AQX"),R=a("I3vJ"),j=a("HyXB"),B=a("bKg5"),E=n(B),F=a("luHD"),U=n(F),$=a("Pb67"),Q=n($),H=a("d7ck"),V=n(H),q=a("FlCz"),Y=n(q),X=a("MVgC"),G=n(X),W=a("vl8n"),z=n(W),K=a("+WR7"),J=n(K),Z=a("zWMP"),ee=a("Qg39");t.default={name:"ApplyWLXQJHForm",mixins:[E.default],components:{Icon:b.default,Cell:I.default,Group:D.default,XInput:S.default,XTextarea:M.default,PopMatter:U.default,PopOrderList:Q.default,Datetime:L.default,FormCell:V.default,BomList:Y.default,BomPop:G.default,RPicker:z.default,PopBaseinfo:J.default},data:function(){return{listId:"867e0b4f-548f-4e08-873a-1b8e54333630",orderList:{},showOrderPop:!1,formData:{biComment:""},submitSuccess:!1,numMap:{},transCode:"",formViewUniqueId:"82784823-ded5-4a58-a746-d32514f7d26f",biReferenceId:"",actions:[],taskId:"",matterList:[],entity:{},tmpItems:{},matter:{},showMatterPop:!1,DuplicateBoms:[],UniqueBom:[],modifyIndex:null,modifyKey:null,bomPopShow:!1,bom:{},modifyBomTdqty:[]}},watch:{matter:{handler:function(e){var t=this;e.boms&&e.boms.forEach(function(a){var n=t.calcBom(e.processQty,a);a.tdQty=Math.abs((0,ee.toFixed)(n))})},deep:!0}},methods:{checkBom:function(e,t,a){this.bom=e,this.modifyIndex=t,this.modifyKey=a,this.bomPopShow=!0,this.modifyBomTdqty=JSON.parse((0,_.default)(e.boms))},bomConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t),this.reBuildArr(t)},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,_.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a,this.modifyBomTdqty=[].concat((0,C.default)(e.boms))},selConfirm:function(e){var t=JSON.parse(e);t.processQty?t.tdQty=(0,Z.accAdd)(t.lockQty,t.processQty):t.tdQty="",this.$set(this.orderList[this.modifyKey],this.modifyIndex,t),this.reBuildArr(t)},reBuildArr:function(e){var t=this,a=e.boms;this.modifyBomTdqty.forEach(function(e){a.forEach(function(a){if(a.inventoryCode===e.inventoryCode)return a.newTdqty=(0,Z.accSub)(a.tdQty,e.tdQty),t.UniqueBom.forEach(function(e){if(a.inventoryCode===e.inventoryCode)return e.tdQty=(0,Z.accAdd)(e.tdQty,a.newTdqty),!1}),!0})})},selOrder:function(e){var t=this,a=JSON.parse(e),n={},i=[];this.DuplicateBoms=[],a.forEach(function(e){var a=e.transCode+"_"+e.inventoryCode,r=e.promDeliTime?(0,A.default)(new Date(e.promDeliTime)-2592e5,"YYYY-MM-DD"):"",s=t.numMap[a]||{},o=s.tdQty,l=void 0===o?"":o,d=s.processQty,u=void 0===d?"":d,c=s.lockQty,f=void 0===c?e.qtyBal:c,m=s.shippingTime,h=void 0===m?r:m,v=s.boms,p=void 0===v?[]:v;e.tdQty=l,e.processQty=u,e.lockQty=f,e.shippingTime=h,n[e.transCode]||(n[e.transCode]=[]),i.push((0,R.getJGRKBom)({parentInvCode:e.inventoryCode}).then(function(a){var n=a.tableContent,i=void 0===n?[]:n;i.forEach(function(a){var n=p.find(function(e){return a.inventoryCode===e.inventoryCode})||{},i=n.specificLoss,s=void 0===i?a.specificLoss:i,o=n.lockQty,l=void 0===o?0:o,d=n.shippingTime,u=void 0===d?r:d;a.specificLoss=parseFloat(s),a.lockQty=l,a.shippingTime=u;var c=t.calcBom(e.processQty,a);a.tdQty=Math.abs((0,ee.toFixed)(c))}),t.$set(e,"boms",i);var s=JSON.parse((0,_.default)(i));t.DuplicateBoms=[].concat((0,C.default)(t.DuplicateBoms),(0,C.default)(s))})),n[e.transCode].push(e)}),v.default.all(i).then(function(e){t.mergeBomList()}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},findIndex:function(e,t){return e.findIndex(function(e){return e.orderCode===t.orderCode&&e.transCode===t.transCode&&e.inventoryCode===t.inventoryCode})},delClick:function(e,t,a){var n=this.selItems,i=this.findIndex(n,t);if(-1!==i)return void n.splice(i,1);n.push(t)},showSelIcon:function(e){return-1!==this.findIndex(this.selItems,e)},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,_.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,m.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.orderCode===a.orderCode&&t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=e.findIndex(n,t);i>=0&&(e.$refs.order.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}})}),e.selItems.forEach(function(t){t.boms.forEach(function(t){return e.UniqueBom.forEach(function(a,n){if(t.inventoryCode===a.inventoryCode){var i=(0,Z.accSub)(a.tdQty,t.tdQty);return a.tdQty=(0,ee.toFixed)(i),a.tdQty<=0&&e.UniqueBom.splice(n,1),!1}}),!0})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,c.default)((0,d.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,l=!1,u=void 0;try{for(var f,m=(0,c.default)(r);!(s=(f=m.next()).done);s=!0){var h=f.value;this.numMap[h.transCode+"_"+h.inventoryCode]=(0,o.default)({},h)}}catch(e){l=!0,u=e}finally{try{!s&&m.return&&m.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="";if(t||(0,m.default)(this.orderList).length||(t="请选择物料"),!t){var a=!0,n=!1,i=void 0;try{for(var s,l=(0,c.default)((0,d.default)(this.orderList));!(a=(s=l.next()).done);a=!0){var u=s.value,f=!0,h=!1,v=void 0;try{for(var p,C=(0,c.default)(u);!(f=(p=C.next()).done);f=!0){var y=p.value;if(!y.tdQty){t="请填写本次入库数量";break}var g=!0,b=!1,w=void 0;try{for(var I,x=(0,c.default)(y.boms);!(g=(I=x.next()).done);g=!0){var D=I.value;if(D.qtyStock<D.tdQty){t="可用余额不能少于本次扣料，请重新输入入库数量";break}}}catch(e){b=!0,w=e}finally{try{!g&&x.return&&x.return()}finally{if(b)throw w}}if(t)break}}catch(e){h=!0,v=e}finally{try{!f&&C.return&&C.return()}finally{if(h)throw v}}if(t)break}}catch(e){n=!0,i=e}finally{try{!a&&l.return&&l.return()}finally{if(n)throw i}}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=[],a=j.saveAndStartWf,n={},i=(0,r.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""}),s=!0,l=!1,u=void 0;try{for(var f,m=(0,c.default)((0,d.default)(e.orderList));!(s=(f=m.next()).done);s=!0){var h=f.value,v=!0,p=!1,C=void 0;try{for(var y,g=(0,c.default)(h);!(v=(y=g.next()).done);v=!0){var b=y.value,w=[],I=!0,x=!1,D=void 0;try{for(var P,S=(0,c.default)(b.boms);!(I=(P=S.next()).done);I=!0){var k=P.value;w.push({transMatchedCode:b.transCode,tdQty:k.tdQty,lockQty:k.lockQty,demandQty:k.qty,thenQtyStock:k.qtyStock,bomSpecificLoss:k.specificLoss,inventoryType:k.inventoryType,tdProcessing:k.processing||k.tdProcessing,containerCodeOut:k.warehouseCode,material:k.material,inventoryName:k.inventoryName,specification:k.specification,transObjCode:k.inventoryCode,measureUnit:k.measureUnit,bomType:k.bomType,bomQty:k.qty||k.bomQty,shippingTime:k.shippingTime})}}catch(e){x=!0,D=e}finally{try{!I&&S.return&&S.return()}finally{if(x)throw D}}var L={tdId:b.tdId||null,transMatchedCode:b.transCode,transObjCode:b.inventoryCode,inventoryName_transObjCode:b.inventoryName,tdProcessing:b.processing,containerCodeOut:b.warehouseCode,measureUnit_transObjCode:b.measureUnit,thenQtyBal:b.qtyBal,promDeliTime:b.promDeliTime,thenQtyStock:b.qtyStock,lockQty:b.lockQty,processQty:b.processQty,tdQty:b.tdQty,leadTime:b.comment||null,shippingTime:b.shippingTime||null,comment:b.comment||null,boms:w};t.push(L)}}catch(e){p=!0,C=e}finally{try{!v&&g.return&&g.return()}finally{if(p)throw C}}}}catch(e){l=!0,u=e}finally{try{!s&&m.return&&m.return()}finally{if(l)throw u}}n=(0,o.default)({},e.formData,{modifer:e.transCode?e.formData.handler:"",handlerEntity:e.entity.dealerName,biProcessStatus:e.currentStage,inPut:{dataSet:t}}),e.transCode&&(a=j.saveAndCommitTask,i={businessKey:e.transCode,createdBy:n.creator||n.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var N={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,_.default)(n),wfPara:(0,_.default)(i)};e.transCode||delete N.biReferenceId,e.processCode.length||(a=j.submitAndCalc,delete N.wfPara,delete N.biReferenceId),e.biReferenceId&&(N.biReferenceId=e.biReferenceId),console.log(N),e.saveData(a,N)}})},getFormData:function(){var e=this;return(0,O.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,l=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var d={};e.attachment=l;var u=r.inPut,f=u.dataSet,m=void 0===f?[]:f,h=!0,v=!1,p=void 0;try{for(var C,y=(0,c.default)(m);!(h=(C=y.next()).done);h=!0){var g=C.value;g.boms.forEach(function(e){e.inventoryCode=e.transObjCode,e.specificLoss=e.bomSpecificLoss,e.qty=e.bomQty}),e.DuplicateBoms=e.DuplicateBoms.concat(JSON.parse((0,_.default)(g.boms))),g=(0,o.default)({},g,{transCode:g.transMatchedCode,qtyBal:g.thenQtyBal,inventoryPic:g.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+g.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:g.inventoryName_transObjCode,inventoryCode:g.transObjCode,specification:g.specification_transObjCode,processing:g.tdProcessing}),d[g.transCode]||(d[g.transCode]=[]),d[g.transCode].push(g)}}catch(e){v=!0,p=e}finally{try{!h&&y.return&&y.return()}finally{if(v)throw p}}e.matterList=m,e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,o.default)({},e.formData,e.handlerDefault,{biComment:r.biComment,biId:r.biId,biProcessStatus:r.biProcessStatus,creator:r.creator,modifer:r.modifer,drDealerLogisticsTerms:r.drDealerLogisticsTerms}),e.mergeBomList(),e.biReferenceId=r.biReferenceId,e.orderList=d,e.$loading.hide()})},mergeBomList:function(){var e=function(e,t){return e.inventoryCode===t.inventoryCode};this.UniqueBom=function(t){return t.reduce(function(t,a){return t.some(function(t){var n=e(t,a);return n&&(t.tdQty=(0,Z.accAdd)(t.tdQty,a.tdQty)),n})||t.push(a),t},[])}(this.DuplicateBoms)},hasDraftData:function(){return!!(0,d.default)(this.orderList).length&&(0,r.default)({},"WLXQJH_DATA",{orderList:this.orderList,formData:this.formData,DuplicateBoms:this.DuplicateBoms})},checkQtyBal:function(e){var t=e.qtyBal,a=e.qtyStock;t=Math.abs((0,ee.toFixed)(t)),t>a&&(t=a),e.qtyBal=t},checklockQty:function(e){var t=e.qtyBal,a=e.lockQty,n=e.processQty;a=Math.abs((0,ee.toFixed)(a)),(0,Z.accAdd)(a,n)>t&&(a=(0,Z.accSub)(t,n)),e.lockQty=a},checkprocessQty:function(e){var t=e.qtyBal,a=e.lockQty,n=e.processQty;n=Math.abs((0,ee.toFixed)(n)),(0,Z.accAdd)(a,n)>t&&(n=(0,Z.accSub)(t,a)),e.processQty=n},modifyBomLockQty:function(e){var t=this;this.$vux.confirm.prompt(e.lockQty,{title:"原料库存计划",onConfirm:function(a){if(a){t.$refs.bomPop.changeToConfirm(),e.lockQty=Math.abs((0,ee.toFixed)(a));var n=t.calcBom(t.bom.processQty,e);e.tdQty=Math.abs((0,ee.toFixed)(n))}}})},modifyBomSpecificLoss:function(e){var t=this;this.$vux.confirm.prompt(item.specificLoss,{title:"单位损耗率",onConfirm:function(a){if(a){t.$refs.bomPop.changeToConfirm(),e.specificLoss=Math.abs((0,ee.toFixed)(a));var n=t.calcBom(t.bom.processQty,e);e.tdQty=Math.abs((0,ee.toFixed)(n))}}})},modifyBomDate:function(e){var t=this;this.$vux.datetime.show({cancelText:"取消",confirmText:"确定",value:e.shippingTime,onConfirm:function(a){t.$refs.bomPop.changeToConfirm(),e.shippingTime=a}})},calcBom:function(e,t){return(0,Z.accSub)((0,Z.accMul)(e,t.qty,1+t.specificLoss),t.lockQty)}},filters:{dateFormat:A.default},created:function(){var e=sessionStorage.getItem("WLXQJH_DATA");if(e){var t=JSON.parse(e);this.orderList=t.orderList,this.formData=t.formData,this.DuplicateBoms=t.DuplicateBoms,this.mergeBomList(),sessionStorage.removeItem("WLXQJH_DATA")}}}},"9HJv":function(e,t){},"9HrF":function(e,t){},"9M4O":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("DGcX"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={mixins:[i.default],name:"x-dialog",model:{prop:"show",event:"change"},props:{show:{type:Boolean,default:!1},maskTransition:{type:String,default:"vux-mask"},maskZIndex:[String,Number],dialogTransition:{type:String,default:"vux-dialog"},dialogClass:{type:String,default:"weui-dialog"},hideOnBlur:Boolean,dialogStyle:Object,scroll:{type:Boolean,default:!0,validator:function(e){return!0}}},computed:{maskStyle:function(){if(void 0!==this.maskZIndex)return{zIndex:this.maskZIndex}}},mounted:function(){"undefined"!=typeof window&&window.VUX_CONFIG&&"VIEW_BOX"===window.VUX_CONFIG.$layout&&(this.layout="VIEW_BOX")},watch:{show:function(e){this.$emit("update:show",e),this.$emit(e?"on-show":"on-hide"),e?this.addModalClassName():this.removeModalClassName()}},methods:{shouldPreventScroll:function(){var e=/iPad|iPhone|iPod/i.test(window.navigator.userAgent),t=this.$el.querySelector("input")||this.$el.querySelector("textarea");if(e&&t)return!0},hide:function(){this.hideOnBlur&&(this.$emit("update:show",!1),this.$emit("change",!1),this.$emit("on-click-mask"))}},data:function(){return{layout:""}}}},"9Nrk":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pop-company-container",on:{click:e.itemClick}},[e.selItems.facilityName?a("div",[a("div",{staticClass:"title"},[e._v("设施")]),e._v(" "),a("div",{staticClass:"user_info"},[a("span",{staticClass:"user_name"},[e._v(e._s(e.selItems.facilityName))])])]):a("div",[a("div",{staticClass:"title"},[e._v("设施")]),e._v(" "),a("div",{staticClass:"mode"},[e._v("请选择设施")])]),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:!e.disabled,expression:"!disabled"}],staticClass:"iconfont icon-youjiantou r-arrow"}),e._v(" "),e.disabled?e._e():a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("d-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"pop-list-container",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"pop-mater-list-item box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"pop-list-main "},[a("div",{staticClass:"pop-list-info"},[a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline name",staticStyle:{display:"inline-block"}},[a("span",[e._v(e._s(t.facilityName))])])]),e._v(" "),t.facilityType?a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline ",staticStyle:{display:"inline-block"}},[a("span",{staticClass:"creator"},[e._v(e._s(t.facilityType))])])]):e._e()])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1)])],1)])},i=[],r={render:n,staticRenderFns:i};t.a=r},"9S56":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("HXPS"),d=n(l),u=a("7g+Q"),c=n(u),f=a("6q39"),m=n(f),h=a("kNGm"),v=n(h),p=a("fEP3"),C=a("1KNX"),y=n(C),_=a("7biW"),g=n(_);t.default={name:"work-list-pop",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}}},components:{Icon:d.default,Popup:c.default,LoadMore:m.default,RScroll:y.default,MSearch:g.default},filters:{dateFormat:v.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],workList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterList:[{name:"成品名称",value:"inventoryName"},{name:"成品编码",value:"inventoryCode"},{name:"工序名称",value:"procedureName"}],filterProperty:""}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,o.default)(this.selItems)),this.$emit("input",!1),this.$event.$emit("shut-down-filter",!1)},findIndex:function(e,t){return e.findIndex(function(e){var a=!0;return e.transCode&&(a=e.transCode===t.transCode),a&&e.inventoryCode===t.inventoryCode})},showSelIcon:function(e){return-1!==this.tmpItems.findIndex(function(t){return t.transCode===e.transCode&&t.inventoryCode===e.inventoryCode})},selThis:function(e,t){var a=this.tmpItems,n=a.findIndex(function(t){return t.transCode===e.transCode&&t.inventoryCode===e.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(e)},setDefaultValue:function(){this.tmpItems=[this.defaultValue],this.selItems=[this.defaultValue]},getWorkOrderTask:function(){var e=this,t=[],a=this.$route.query.orderId,n=void 0===a?"[]":a,i=JSON.parse(n);if(this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),i.length){var s=[{operator:"in",value:"",property:"colId"}];i.forEach(function(e,t){if(t===i.length-1)return void(s[0].value+=e);s[0].value+=e+","}),t=[].concat((0,o.default)(t),s)}return(0,p.getWorkOrderTask)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,s=t.tableContent,l=void 0===s?[]:s;i.length&&e.$emit("sel-work",(0,r.default)(l)),e.hasNext=n>(e.page-1)*e.limit+l.length,e.workList=1===e.page?l:[].concat((0,o.default)(e.workList),(0,o.default)(l)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},cfmMater:function(){this.showPop=!1,this.tmpItems.sort(function(e,t){return t.effectiveTime-e.effectiveTime}),this.selItems=[].concat((0,o.default)(this.tmpItems)),this.$emit("sel-work",(0,r.default)(this.selItems))},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.workList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getWorkOrderTask()},onPullingUp:function(){this.page++,this.getWorkOrderTask()}},created:function(){this.setDefaultValue(),this.getWorkOrderTask()}}},"9SNe":function(e,t,a){"use strict";function n(e){a("0O+m")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4D87");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("X128"),o=a.n(s),l=a("fm4O"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-519fddd6",null);t.default=c.exports},"9cRV":function(e,t,a){"use strict";function n(e){a("4lhw")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("tiX6");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("beoG"),o=a.n(s),l=a("6ElN"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-fc6cf588",null);t.default=c.exports},"9dj2":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=(a("XAqG"),a("HyXB"),a("MjAd")),o=n(s),l=a("ak47");n(l);t.default={name:"ZPJH_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"经办人",value:"handlerName"},{name:"交易号",value:"transCode"}],listViewID:2400}},mixins:[o.default],methods:{pathChange:function(e,t,a){var n=this;if(!this.clickVisited){var i=e.transCode,s=this.$route.query.name,o=this.$route.params,l=o.folder,d=o.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,r.default)({},e));var u=a+"/"+l+"/"+d;setTimeout(function(){n.clickVisited=!1,n.$router.push({path:u,query:{name:s,transCode:i}})},200)}},goDetail:function(e,t){this.pathChange(e,t,"/detail")},goUserEdit:function(e,t){this.pathChange(e,t,"/fillform")}}}},"9enk":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("rVsN"),r=n(i),s=a("KH7x"),o=n(s),l=a("Q+Ik"),d=n(l),u=a("4YfN"),c=n(u),f=a("Nk/b"),m=n(f),h=a("7g+Q"),v=n(h),p=a("z5TY"),C=n(p),y=a("vl8n"),_=n(y),g=a("PKHo"),b=n(g),w=a("XAqG"),I=a("5gKc"),x=n(I),D=a("WGJW"),P=n(D),S=a("1KNX"),k=n(S);t.default={name:"ApplyUserForm",data:function(){return{genderList:[{name:"男",value:"男",key:1},{name:"女",value:"女",key:0}],userTypeList:[{name:"长期有效",value:"长期有效",key:1},{name:"临时账户",value:"临时账户",key:0}],statusList:[{name:"使用中",value:"使用中",key:1},{name:"草稿",value:"草稿",key:3},{name:"停用",value:"停用",key:-1},{name:"未使用",value:"未使用",key:2}],codeReadOnly:!1,userData:{email:"",entityId:"",entityName:"",gender:"男",mobile:"",nickname:"",officePhone:"",photo:"",status:"使用中",termOfValidity:"",userCode:"",userType:"长期有效"},showDate:!1,PhoneWarn:!1,MobileWarn:!1,EmailWarn:!1,userCodeWarn:!1,colId:"",company:{},companyParams:{target:4}}},mixins:[b.default],components:{Picker:m.default,Popup:v.default,Group:C.default,RPicker:_.default,UploadImage:x.default,PopCompanyList:P.default,RScroll:k.default},methods:{onUpload:function(e){this.userData.photo="/H_roleplay-si/ds/download?width=128&height=128&url="+e.src},userTypeChange:function(e){"临时账户"===e&&(this.showDate=!0)},save:function(){var e=this,t={userCode:"工号",nickname:"姓名",mobile:"手机"};"临时账户"===this.userData.userType&&(t.termOfValidity="账户有效期"),t.entityName="公司";for(var a in this.userData)"string"==typeof this.userData[a]&&this.userData[a].indexOf(" ")>=0&&(this.userData[a]=this.userData[a].replace(/\s/g,""));var n=(0,c.default)({},this.userData),i=this.colId?w.updateUser:w.addUser,r="";if(this.userCodeWarn&&(r="工号已存在"),!r&&(0,d.default)(t).every(function(t){var a=(0,o.default)(t,2),n=a[0],i=a[1];return!!e.userData[n]||(r=i+"不能为空",!1)}),!r&&this.PhoneWarn&&(r="座机格式不正确"),!r&&this.EmailWarn&&(r="邮箱格式不正确"),r)return void this.$vux.alert.show({content:r});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=e.genderList.find(function(e){return e.value===n.gender}),a=e.userTypeList.find(function(e){return e.value===n.userType}),r=e.statusList.find(function(e){return e.value===n.status});n.gender=t.key,n.userType=a.key,n.status=r.key,console.log(n),i(n).then(function(t){e.$HandleLoad.hide();var a=t.success,n=void 0===a||a,r=t.message,s=void 0===r?"提交失败":r;n&&(s=i===w.addUser?"提交成功":"修改成功",e.$emit("change",!0)),e.$vux.alert.show({content:s,onHide:function(){n&&e.$router.go(-1)}})}).catch(function(t){e.$HandleLoad.hide()})}})},getDefaultImg:function(){this.userData.photo=a("CcG0")},selCompany:function(e){this.userData.entityName=e.groupName,this.userData.entityId=e.groupCode},getDate:function(){var e=this;this.$vux.datetime.show({confirmText:"确定",cancelText:"取消",value:this.userData.termOfValidity,onConfirm:function(t){e.userData.termOfValidity=t}})},checkPhone:function(){var e=/^0\d{2,3}-\d{7,8}$/;if(this.userData.officePhone.length>0&&!e.test(this.userData.officePhone))return void(this.PhoneWarn=!0);this.PhoneWarn=!1},checkMobile:function(){var e=/^[1][34578][0-9]{9}$/;if(this.userData.mobile.length>0&&!e.test(this.userData.mobile))return void(this.MobileWarn=!0);this.MobileWarn=!1},checkUserCode:function(){var e=this;(0,w.validateCode)(this.userData.userCode).then(function(t){var a=t.result,n=void 0===a?0:a;e.userCodeWarn=!1,n&&(e.userCodeWarn=!0,e.$vux.alert.show({content:"工号已存在"}))}).catch(function(t){e.userCodeWarn=!0})},checkEmail:function(){var e=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;if(this.userData.email.length>0&&!e.test(this.userData.email))return void(this.EmailWarn=!0);this.EmailWarn=!1},getFormData:function(){var e=this;return(0,w.getUserDetail)(this.colId).then(function(t){var a=t.tableContent,n=void 0===a?[]:a,i=(0,o.default)(n,1),r=i[0],s=void 0===r?{}:r,l=["女","男"],d=["","使用中","未使用","草稿"],u=["临时账户","长期有效"];s.gender=l[s.gender]||"未知",s.status=d[s.status]||"停用",s.userType=u[s.userType],"临时账户"===s.userType&&(e.showDate=!0),e.company={groupCode:s.entityId,groupName:s.entityName},e.userData=(0,c.default)({},e.userData,s),e.$loading.hide()})}},created:function(){var e=this;this.$loading.show();var t=this.$route.query.colId,a=void 0===t?"":t,n=[];a&&(this.colId=a,this.codeReadOnly=!0,n.push(this.getFormData())),r.default.all(n).then(function(){e.$loading.hide()})}}},"9fGn":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),m=a("89pA"),h=n(m),v=a("bFc7"),p=n(v),C=a("6WeX"),y=n(C),_=a("hPJo"),g=n(_),b=a("3NX5"),w=n(b),I=a("sUbJ"),x=n(I),D=a("d7ck"),P=n(D),S=a("zWMP");a("Qg39");t.default={data:function(){return{count:0,comment:"",orderInfo:{},warehouse:{},formViewUniqueId:"e76a8c6f-05cc-45ee-ba93-299fe6751856",orderList:{}}},computed:{noTaxAmount:function(){var e=0;return this.orderInfo.inPut.dataSet.forEach(function(t){e=(0,S.accAdd)(e,t.noTaxAmount)}),e},taxAmount:function(){var e=0;return this.orderInfo.inPut.dataSet.forEach(function(t){e=(0,S.accAdd)(e,t.taxAmount)}),e}},mixins:[l.default],components:{workFlow:f.default,RAction:u.default,PopWarehouseList:h.default,PriceTotal:y.default,contactPart:p.default,WarehouseContent:g.default,MatterList:w.default,MatterItem:x.default,FormCell:P.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var d={},u=s.inPut,c=void 0===u?{}:u;e.attachment=l;var f=s.inPut.dataSet,m=!0,h=!1,v=void 0;try{for(var p,C=(0,r.default)(f);!(m=(p=C.next()).done);m=!0){var y=p.value;e.count=(0,S.accAdd)(e.count,y.tdAmount),y.inventoryPic=y.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+y.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),d[y.transMatchedCode]||(d[y.transMatchedCode]=[]),d[y.transMatchedCode].push(y)}}catch(e){h=!0,v=e}finally{try{!m&&C.return&&C.return()}finally{if(h)throw v}}e.orderList=d,e.dealerInfo={creatorName:s.dealerCreditContactPersonName,dealerName:c.dealerName_dealerCodeCredit,dealerMobilePhone:s.dealerCreditContactInformation,dealerContactPersonName:s.dealerCreditContactPersonName,dealerCode:c.dealerCode_dealerCodeCredit,dealerLabelName:c.crDealerLabel,province:c.province_dealerCodeCredit,city:c.city_dealerCodeCredit,county:c.county_dealerCodeCredit,address:c.address_dealerCodeCredit,payment:c.crDealerPaymentTerm},e.warehouse={warehouseCode:c.containerCode,warehouseName:c.warehouseName_containerCode,warehouseType:c.warehouseType_containerCode,warehouseProvince:c.warehouseProvince_containerCode,warehouseCity:c.warehouseCity_containerCode,warehouseDistrict:c.warehouseDistrict_containerCode,warehouseAddress:c.warehouseAddress_containerCode,containerInWarehouseManager:c.containerInWarehouseManager},e.orderInfo=s,e.workFlowInfoHandler()})}}}},"9jJE":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages xmjh-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,"default-contact":e.contactInfo,dealerTitle:"供应商","dealer-params":e.dealerParams},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("dealer-other-part",{attrs:{"dealer-config":e.dealerConfig,"dealer-info":e.dealerInfo}}),e._v(" "),a("div",{staticClass:"materiel_list"},[a("div",{staticClass:"title"},[e._v("发票信息")]),e._v(" "),a("group",{staticClass:"SJ_group",on:{"group-title-margin-top":function(e){}}},[a("x-input",{attrs:{title:"票号","text-align":"right",placeholder:"请填写"},on:{"on-focus":function(t){e.getFocus(t)}},model:{value:e.invoiceInfo.ticketNumber,callback:function(t){e.$set(e.invoiceInfo,"ticketNumber",t)},expression:"invoiceInfo.ticketNumber"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("票号")])])],2),e._v(" "),a("popup-picker",{attrs:{title:"发票类型",data:e.invoiceType,placeholder:"请选择","text-align":"right"},on:{"on-change":function(t){e.typeTask(t)}},model:{value:e.invoiceGetType,callback:function(t){e.invoiceGetType=t},expression:"invoiceGetType"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("发票类型")])])],2),e._v(" "),a("datetime",{attrs:{title:"发票日期","text-align":"right",placeholder:"请选择"},model:{value:e.invoiceInfo.invoiceDate,callback:function(t){e.$set(e.invoiceInfo,"invoiceDate",t)},expression:"invoiceInfo.invoiceDate"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("发票日期")])])],2),e._v(" "),a("x-input",{attrs:{title:"发票内容","text-align":"right",placeholder:"请填写"},on:{"on-focus":function(t){e.getFocus(t)}},model:{value:e.invoiceInfo.invoiceContent,callback:function(t){e.$set(e.invoiceInfo,"invoiceContent",t)},expression:"invoiceInfo.invoiceContent"}})],1)],1),e._v(" "),a("div",{staticClass:"materiel_list"},[Object.keys(e.orderList).length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n,i){return a("div",{key:n,staticClass:"each_mater",class:{"vux-1px-b":i<Object.keys(e.orderList).length-1}},[t.length?a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v(e._s(e.orderListTitle))]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]):e._e(),e._v(" "),e._l(t,function(t,i){return a("div",{key:i,class:{mater_delete:e.matterModifyClass}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass,config:e.matterEditConfig.property},on:{"on-modify":function(a){e.modifyMatter(t,i,n)}},nativeOn:{click:function(a){e.delClick(i,t,n)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[n.price&&n.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price)+"\n                      ")]),e._v(" "),a("div",[a("r-number",{attrs:{num:n.tdQty,max:n.qtyBal,checkAmt:e.checkAmt},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",t)},expression:"item.tdQty"}})],1)]):e._e()]}},{key:"editPart",fn:function(t){var r=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r.price&&r.tdQty&&!e.matterModifyClass,expression:"(item.price && item.tdQty) &&!matterModifyClass"}],staticClass:"edit-part vux-1px-l",on:{click:function(t){e.modifyMatter(r,i,n)}}},[a("span",{staticClass:"iconfont icon-bianji1"})])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(i,t,n)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)})],2)}),0)]:[a("div",{staticClass:"no-matter",on:{click:e.getMatter}},[a("div",{staticClass:"title"},[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择"+e._s(e.orderListTitle))]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),e.matterList.length?a("span",{staticClass:"add_more",on:{click:e.addMatter}},[e._v("新增更多物料")]):e._e()]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showMaterielPop,"matter-params":e.matterParams,"default-value":e.matterList,"filter-list":e.filterList,"order-title":e.matterPopOrderTitle,config:e.matterPopConfig},on:{"sel-matter":e.selMatter},model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}})],2),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,config:e.matterEditConfig},on:{"sel-confirm":e.selConfirm},model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("op-button",{attrs:{"is-modify":e.matterModifyClass,hide:e.btnIsHide,"td-amount":e.tdAmount,"tax-amount":e.taxAmount,"all-check":e.selItems.length===e.matterList.length},on:{"on-submit":e.submitOrder,"on-check-all":e.checkAll,"on-delete":e.deleteCheckd}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"9kVI":function(e,t,a){function n(e){return a(i(e))}function i(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var r={"./consumable/DZYHPCGDDForm.vue":"5SxB","./consumable/DZYHPCGSQForm.vue":"WnoM","./consumable/DZYHPCGYSYZFForm.vue":"YjUH","./contacts/COMPANYForm.vue":"gihj","./contacts/JOBForm.vue":"Nu2k","./contacts/USERForm.vue":"k/UG","./equipment/SBCGDDForm.vue":"QifJ","./equipment/SBCGSQForm.vue":"K0z5","./equipment/SBCGYSForm.vue":"dOws","./finance/BXYZFForm.vue":"59Rw","./finance/CRCDHPForm.vue":"NHMs","./finance/DFCDHPForm.vue":"eNNU","./finance/DXTXCDHPForm.vue":"2TA+","./finance/FGYSDJForm.vue":"TUz9","./finance/FGYSQKForm.vue":"aASr","./finance/FKForm.vue":"YmAS","./finance/HGCWForm.vue":"n6c+","./finance/JKYBYJForm.vue":"MmnS","./finance/KCCDHPForm.vue":"of1D","./finance/SDCDHPForm.vue":"Uvie","./finance/SKForm.vue":"h8g4","./finance/XMFYBXForm.vue":"IBVj","./finance/YBFYBXForm.vue":"DTET","./finance/ZZSKPForm.vue":"/Z4J","./finance/ZZSSPForm.vue":"fMId","./hr/YGDAForm.vue":"x7T3","./hr/YGLZForm.vue":"vz8g","./hr/YGRZForm.vue":"+wTM","./hr/ZPJHForm.vue":"C6jN","./plan/BHDDForm.vue":"6/io","./plan/CGSQForm.vue":"djgs","./plan/WLXQJHForm.vue":"/97J","./plan/WLXQTJForm.vue":"o99i","./plan/XSDDYCForm.vue":"v4O2","./product/CPFBForm.vue":"LoFD","./product/CPXQForm.vue":"qL4K","./production/GDRWForm.vue":"sMPv","./production/GDRWQDForm.vue":"C/iA","./production/GDYSForm.vue":"Px8X","./production/NBJGDDForm.vue":"P7KE","./production/WGYRKForm.vue":"DfE5","./production/WGZJRKForm.vue":"FZVR","./project/XMJHForm.vue":"7sWR","./project/XMJXForm.vue":"8dZ0","./project/XMLXForm.vue":"TruQ","./project/XMRWForm.vue":"rewM","./purchase/CGDDForm.vue":"vJe9","./purchase/CGXYForm.vue":"dRd+","./sale/CPJGForm.vue":"lkpG","./sale/KPSQForm.vue":"g2cw","./sale/SJForm.vue":"t4UV","./sale/XSBJForm.vue":"sZ9E","./sale/XSDDForm.vue":"Ca4P","./sale/XSHTForm.vue":"caTQ","./stock/BDKCDBForm.vue":"BMO2","./stock/CGRKForm.vue":"a6VN","./stock/CGTHCKForm.vue":"N/8H","./stock/GDBLLForm.vue":"e+7k","./stock/KCPDForm.vue":"xaLY","./stock/NBJGLLForm.vue":"bVic","./stock/NBJGRKForm.vue":"GIFU","./stock/XSCKForm.vue":"8FFA"};n.keys=function(){return Object.keys(r)},n.resolve=i,e.exports=n,n.id="9kVI"},"9mAr":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_content"},[e._m(0),e._v(" "),a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"往来名称",cellContent:e.dealerInfo.dealerName_dealerCodeCredit}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来编码",cellContent:e.dealerInfo.dealerCodeCredit}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来关系标签",cellContent:e.dealerInfo.crDealerLabel}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"类型",cellContent:e.dealerInfo.applicationType}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"信用额度",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.tdCreditLine),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来余额",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.thenAmntBalCopy1),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"申请金额",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.thenTotalAmntBal),3),showSymbol:""}}),e._v(" "),e.isAccount?a("x-input",{attrs:{type:"number",title:"本次支付",value:e.dealerInfo.tdAmountCopy1,"text-align":"right"},on:{"on-focus":e.getFocus,"on-blur":function(t){e.calcPayment(e.dealerInfo)}},model:{value:e.dealerInfo.tdAmountCopy1,callback:function(t){e.$set(e.dealerInfo,"tdAmountCopy1",e._n(t))},expression:"dealerInfo.tdAmountCopy1"}},[a("span",{staticClass:"required",attrs:{slot:"title"},slot:"title"},[e._v("本次支付")])]):a("form-cell",{attrs:{cellTitle:"本次支付",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.tdAmountCopy1),3),showSymbol:""}}),e._v(" "),e.isApproval?e._e():a("form-cell",{attrs:{cellTitle:"本次支付后余额",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.differenceAmount),3),showSymbol:""}})],1)]),e._v(" "),e.isCashier?a("pop-cash-list",{attrs:{"default-value":e.cashInfo,request:"0",params:e.cashParams,required:""},on:{"sel-item":e.selCash}},[a("template",{slot:"other"},[a("form-cell",{attrs:{cellTitle:"本次支付",cellContent:e._f("numberComma")(e._f("toFixed")(e.cashInfo.tdAmount),3),showSymbol:""}})],1)],2):e.isApproval||e.isAccount?e._e():a("div",{staticClass:"form_content",staticStyle:{"margin-top":"0.1rem"}},[a("div",{staticClass:"form_title"},[a("span",{staticClass:"iconfont icon-baoxiao"}),e._v(" "),a("span",{staticClass:"title"},[e._v("资金账户信息")])]),e._v(" "),a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"资金账户",cellContent:e.cashInfo.fundName_cashInCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"资金编码",cellContent:e.cashInfo.cashInCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"资金账户类型",cellContent:e.cashInfo.cashType_cashInCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"账户余额",cellContent:e._f("numberComma")(e._f("toFixed")(e.cashInfo.thenAmntBal),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次支付",cellContent:e._f("numberComma")(e._f("toFixed")(e.cashInfo.tdAmount),3),showSymbol:""}})],1)]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,"agree-handler":e.agreeHandler,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title"},[a("span",{staticClass:"iconfont icon-mingxi1"}),e._v(" "),a("span",[e._v("往来信息")])])}],r={render:n,staticRenderFns:i};t.a=r},"9wX+":function(e,t,a){"use strict";function n(e){a("Ou9q")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IQc9");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("1JcB"),o=a.n(s),l=a("/3js"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-6e079886",null);t.default=c.exports},"A/Vq":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages sj-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[a("div",{staticClass:"mater_list"},[a("div",{staticClass:"each_mater"},[a("div",{staticClass:"userInp_mode"},[a("div",{staticClass:"title"},[e._v("员工信息")]),e._v(" "),a("group",{staticClass:"SJ_group",on:{"group-title-margin-top":function(e){}}},[a("pop-salesman-list",{attrs:{title:"员工","dealer-label-name":"员工",value:e.formData.salesPerson,required:""},model:{value:e.formData.hiresName,callback:function(t){e.$set(e.formData,"hiresName",t)},expression:"formData.hiresName"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("员工\n                    ")])])],2),e._v(" "),a("popup-picker",{attrs:{title:"部门",data:e.groupList,placeholder:"请选择"},model:{value:e.formData.hiresDepartMent,callback:function(t){e.$set(e.formData,"hiresDepartMent",t)},expression:"formData.hiresDepartMent"}}),e._v(" "),a("popup-picker",{attrs:{title:"岗位",data:e.roleList,placeholder:"请选择"},model:{value:e.formData.hiresPost,callback:function(t){e.$set(e.formData,"hiresPost",t)},expression:"formData.hiresPost"}}),e._v(" "),a("datetime",{attrs:{placeholder:"请选择日期",title:"体检日期"},model:{value:e.formData.examinationDate,callback:function(t){e.$set(e.formData,"examinationDate",t)},expression:"formData.examinationDate"}}),e._v(" "),a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1)])])]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},"A/ul":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"inPage"},[n("r-tab",{attrs:{data:e.tabList,"active-index":e.activeIndex,mode:"3"},on:{"on-click":e.onTabClick}}),e._v(" "),n("div",{staticClass:"swiper-container notice-container"},[n("div",{staticClass:"swiper-wrapper"},e._l(e.noticeData,function(t,i,r){return n("div",{key:i,staticClass:"swiper-slide"},[n("r-scroll",{ref:"bScroll",refInFor:!0,staticClass:"wrapper",attrs:{options:e.scrollOptions,"has-next":t.hasNext,"no-data":!1},on:{"on-pulling-up":e.onPullingUp}},[t.isNull?n("div",{staticClass:"when_null"},[n("img",{staticClass:"no_data",class:["no_data_"+i],attrs:{src:a("ynid")("./"+i+".png"),alt:"no-data"}}),e._v(" "),n("div",{staticClass:"text"},[e._v(e._s(e.noDataText))])]):n("div",{staticClass:"msg_list"},[0===r?e._l(t.listData,function(t,a){return n("todo-item",{key:a,attrs:{name:a,item:t,"no-border":t.noBorder},nativeOn:{click:function(n){e.goMsglist(t,a)}}})}):1===r||2===r?e._l(t.listData,function(a,i){return n("comment-item",{key:i,ref:"commentItem",refInFor:!0,attrs:{item:a,"no-border":i===t.listData.length-1},on:{"on-popover-click":e.onPopoverClick},nativeOn:{click:function(t){e.goDetail(a,i)}}})}):e._e()],2)])],1)}),0)])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},A5Yq:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.contactInfo,payment:!1,logistics:!1}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_part"},[e._m(0),e._v(" "),e._l(e.orderInfo.order.dataSet,function(t,n){return a("div",{key:n,staticClass:"form_content",class:{show_border:n!==e.orderInfo.order.dataSet.length-1}},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"资金账户名称",cellContent:t.fundName_cashInCode,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"资金账户大类",cellContent:t.cashType_cashInCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"收款金额",showSymbol:"",cellContent:e._f("numberComma")(e._f("toFixed")(t.tdAmount),3)}})],1)])})],2),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("账户列表")])])}],r={render:n,staticRenderFns:i};t.a=r},A9Pu:function(e,t){},ACTo:function(e,t,a){"use strict";function n(e){a("is30")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("hHGC");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("wB6c"),o=a.n(s),l=a("cdvu"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-33572a96",null);t.default=c.exports},"ACd/":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages nbjgll-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-warehouse-list",{attrs:{isRequired:"",title:"入库仓库","default-value":e.warehouseIn},on:{"sel-item":e.selWarehouseIn}}),e._v(" "),a("div",{staticClass:"materiel_list"},[Object.keys(e.orderList).length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v("订单列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n,i){return a("div",{key:n,staticClass:"each_mater",class:{"vux-1px-b":i<Object.keys(e.orderList).length-1}},[t.length?a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v("加工订单号")]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]):e._e(),e._v(" "),e._l(t,function(t,i){return a("div",{key:i,class:{mater_delete:e.matterModifyClass}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass},on:{"on-modify":function(a){e.modifyMatter(t,i,n)}},nativeOn:{click:function(a){e.delClick(i,t,n)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_more"},[a("span",[e._v("单位: "+e._s(n.measureUnit))]),e._v(" "),a("span",[e._v("待领料: "+e._s(n.qtyBal))]),e._v(" "),a("span",[e._v("可用库存: "+e._s(n.qtyStock))])]),e._v(" "),a("div",{staticClass:"mater_other"},[n.warehouseName?a("div",{staticClass:"matter-remain"},[a("i",{staticClass:"iconfont icon--"}),e._v(" "),a("span",[e._v(e._s(n.warehouseName))])]):e._e(),e._v(" "),n.tdQty?a("div",{staticClass:"matter-remain"},[a("span",{staticClass:"symbol"},[e._v("本次领料: ")]),e._v(e._s(n.tdQty)+"\n                      ")]):e._e()])]}},{key:"edit",fn:function(t){var r=t.item;return[r.tdQty||e.matterModifyClass?e._e():a("div",{staticClass:"mater_other",on:{click:function(t){e.modifyMatter(r,i,n)}}},[a("div",{staticClass:"edit-tips"},[e._v("点击进行填写")])])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(i,t,n)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)})],2)}),0)]:[a("div",{on:{click:function(t){e.showOrderPop=!e.showOrderPop}}},[a("div",{staticClass:"title"},[e._v("订单列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择订单")]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),Object.keys(e.orderList).length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多物料")])]):e._e(),e._v(" "),a("pop-order-xqtj-list",{ref:"order",attrs:{show:e.showOrderPop,"default-value":e.orderList,"list-method":"getManyWhProcessingPicking"},on:{"sel-matter":e.selOrder},scopedSlots:e._u([{key:"qtyBal",fn:function(t){var n=t.item;return[a("span",[e._v("待领料余额: "+e._s(n.qtyBal))])]}},{key:"qtyStock",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater-balance"},[e._v("可用库存: "+e._s(n.qtyStock)+e._s(n.measureUnit))])]}}]),model:{value:e.showOrderPop,callback:function(t){e.showOrderPop=t},expression:"showOrderPop"}})],2),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,"is-show-amount":!1},on:{"sel-confirm":e.selConfirm},scopedSlots:e._u([{key:"qtyBal",fn:function(e){e.modifyMatter;return[a("span")]}},{key:"modify",fn:function(t){var n=t.modifyMatter;return[a("group",{staticClass:"mg_auto"},[a("x-input",{attrs:{title:"本次领料",type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",e._n(t))},expression:"modifyMatter.tdQty"}}),e._v(" "),a("cell",{attrs:{title:"可用库存",value:n.qtyStock}}),e._v(" "),a("cell",{attrs:{title:"待领料",value:n.qtyBal}})],1)]}}]),model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode"},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},AJqB:function(e,t){},AKWE:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_part"},[e._m(0),e._v(" "),a("div",{staticClass:"form_content"},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"资金账户",cellContent:e.cashInfo.fundName_cashOutCode,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"资金编码",cellContent:e.cashInfo.cashOutCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"资金账户类型",cellContent:e.cashInfo.cashType_cashOutCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"账户余额",cellContent:e._f("numberComma")(e._f("toFixed")(e.cashInfo.thenAmntBal),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"支付金额",cellContent:e._f("numberComma")(e._f("toFixed")(e.cashInfo.tdAmount),3),showSymbol:""}})],1)])]),e._v(" "),a("div",{staticClass:"form_part"},[e._m(1),e._v(" "),e._l(e.orderInfo.order.dataSet,function(t,n){return a("div",{key:n,staticClass:"form_content",class:{show_border:n!==e.orderInfo.order.dataSet.length-1}},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"汇票号",cellContent:t.draftNumber,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"类型",cellContent:t.draftType}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"承兑人",cellContent:t.accepter}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"金额",cellContent:e._f("numberComma")(e._f("toFixed")(t.tdAmount),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"保证金",cellContent:e._f("numberComma")(e._f("toFixed")(t.deposit),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"出票日",cellContent:t.draftDate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"到期日",cellContent:t.draftDueDate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"说明",cellContent:t.comment}})],1)])})],2),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("资金账户详情")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("汇票列表")])])}],r={render:n,staticRenderFns:i};t.a=r},AOGL:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2208,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}],noTaxRate:!0}},mixins:[i.default],methods:{},created:function(){}}},AQAo:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"78a798f8-0f3a-4646-aa8b-d5bb1fada28c":"/materlist","64a41c48-4e8d-4709-bd01-5d60ad6bc625":"/warehouse","c0375170-d537-4f23-8ed0-a79cf75f5b04":"/adress"}},ARDs:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2323,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName"}]}},mixins:[i.default],methods:{},created:function(){}}},AU3i:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Zp+1"),r=n(i),s=a("+26s"),o=n(s),l=a("Qg39");t.default={data:function(){return{uniqueId:9e3,showContent:!1,handleLoadding:!1,filterArr:[{operator:"like",value:"",property:"dealerCode"}]}},components:{TabItem:r.default},mixins:[o.default],filters:{toFixed:l.toFixed}}},Aann:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"app_top"},[a("search-icon",{on:{search:e.searchList}}),e._v(" "),a("tab",{attrs:{"line-width":2,"default-color":"#333","active-color":"#3296FA"}},e._l(e.warehouseClassfiy,function(t,n){return a("tab-item",{key:n,attrs:{selected:n===e.activeIndex},on:{"on-item-click":function(a){e.tabClick(t,n)}}},[e._v(e._s(t.name)+"\n        ")])}),1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"app_main",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.warehouseList.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.warehouseList,function(t,n){return a("div",{key:n,staticClass:"basic-item-wrapper",class:{visited:t.visited},on:{click:function(a){e.goDetail(t,n)}}},[a("div",{staticClass:"basic-main"},[a("div",{staticClass:"basic-header"},[a("span",{staticClass:"basic_code vux-1px-l"},[e._v("仓库编码："+e._s(t.warehouseCode))]),e._v(" "),a("span",{staticClass:"basic_status",class:t.statusClass},[e._v(e._s(t.warehouseStatus))])]),e._v(" "),a("div",{staticClass:"basic-info-wrapper"},[a("img",{staticClass:"basic-img",attrs:{src:t.warehousePic,alt:"warehouse-img"},on:{error:function(a){e.getDefaultImg(t)}}}),e._v(" "),a("div",{staticClass:"basic-detail"},[a("div",{staticClass:"basic_name"},[e._v(e._s(t.warehouseName))]),e._v(" "),t.detailAddress?a("div",{staticClass:"basic_detail_item"},[a("span",{staticClass:"basic_detail_title"},[e._v("详细地址:")]),e._v(" "),a("span",{staticClass:"basic_detail_value"},[e._v(e._s(t.detailAddress))])]):e._e(),e._v(" "),a("div",{staticClass:"basic_detail_item"},[a("span",{staticClass:"basic_detail_title"},[e._v("仓库类型:")]),e._v(" "),a("span",{staticClass:"basic_detail_value"},[e._v(e._s(t.warehouseType))])])])])]),e._v(" "),a("div",{staticClass:"basic-bottom vux-1px-t"},[a("div",{staticClass:"basic-bottom-wrapper"},[a("div",{staticClass:"basic_bottom_item basic_handler"},[a("i",{staticClass:"icon icon-handler"}),e._v(" "),a("span",[e._v("创建人："+e._s(t.creatorName))])]),e._v(" "),a("div",{staticClass:"basic_bottom_item basic_mod_time"},[a("i",{staticClass:"icon icon-mod-time"}),e._v(" "),a("span",[e._v("创建时间："+e._s(e._f("dateFormat")(t.crtTime,"YYYY-MM-DD HH:mm")))])])])])])}),0)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEditAds}}),e._v(" "),a("router-view")],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},Ab2S:function(e,t,a){"use strict";function n(e){a("PVMT")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("CpUn");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Xheq"),o=a.n(s),l=a("aoPF"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-478f9742",null);t.default=c.exports},Ab3R:function(e,t){},AbpJ:function(e,t){},Ac7F:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("DEQU"),r=n(i),s=a("xZPP"),o=n(s),l=a("K2BN"),d=n(l);t.default={name:"x-textarea",minxins:[r.default],mounted:function(){var e=this;this.$slots&&this.$slots["restricted-label"]&&(this.hasRestrictedLabel=!0),this.$nextTick(function(){e.autosize&&e.bindAutosize()})},components:{InlineDesc:o.default},props:{title:String,inlineDesc:String,showCounter:{type:Boolean,default:!0},max:Number,value:String,name:String,placeholder:String,readonly:Boolean,disabled:Boolean,rows:{type:Number,default:3},cols:{type:Number,default:30},height:Number,autocomplete:{type:String,default:"off"},autocapitalize:{type:String,default:"off"},autocorrect:{type:String,default:"off"},spellcheck:{type:String,default:"false"},autosize:Boolean},created:function(){this.currentValue=this.value},watch:{autosize:function(e){this.unbindAutosize(),e&&this.bindAutosize()},value:function(e){this.currentValue=e},currentValue:function(e){this.max&&e&&e.length>this.max&&(this.currentValue=e.slice(0,this.max)),this.$emit("input",this.currentValue),this.$emit("on-change",this.currentValue)}},data:function(){return{hasRestrictedLabel:!1,currentValue:""}},computed:{count:function(){var e=0;return this.currentValue&&(e=this.currentValue.replace(/\n/g,"aa").length),e>this.max?this.max:e},textareaStyle:function(){if(this.height)return{height:this.height+"px"}},labelStyles:function(){return{width:this.$parent.labelWidth||this.labelWidth+"em",textAlign:this.$parent.labelAlign,marginRight:this.$parent.labelMarginRight}},labelWidth:function(){return this.title.replace(/[^x00-xff]/g,"00").length/2+1},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}}},methods:{updateAutosize:function(){d.default.update(this.$refs.textarea)},bindAutosize:function(){(0,d.default)(this.$refs.textarea)},unbindAutosize:function(){d.default.destroy(this.$refs.textarea)},focus:function(){this.$refs.textarea.focus()}},beforeDestroy:function(){this.unbindAutosize()}}},Ae17:function(e,t){},Afda:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},AjN8:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pop_dealer_list"},[a("div",{staticClass:"dealer-info",on:{click:function(t){e.showDealerPop=!e.showDealerPop}}},[e.selInfo.dealerCode?a("div",{staticClass:"user-content"},[a("div",{staticClass:"user-info"},[a("div",{staticClass:"user-name"},[a("span",{staticClass:"user-tips"},[e._v(e._s(e.selInfo.dealerLabelName))]),e._v(" "),a("span",[e._v(e._s(e.selInfo.dealerName||e.selInfo.nickname))])])]),e._v(" "),a("div",{staticClass:"cp-info"},[a("span",[e._v("编码: "+e._s(e.selInfo.dealerCode))]),e._v(" "),a("span",[e._v("余额: "+e._s(e._f("numberComma")(e.selInfo.amntBal)))])])]):a("div",{staticClass:"user-content"},[a("div",{staticClass:"title"},[e._v(e._s(e.dealerLabelName)+"信息")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择"+e._s(e.dealerLabelName))])]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r-arrow"})]),e._v(" "),e.selInfo.dealerCode?e._t("other"):e._e(),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showDealerPop,callback:function(t){e.showDealerPop=t},expression:"showDealerPop"}},[a("div",{staticClass:"trade_pop"},[a("d-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"pop-list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"pop-item",on:{click:function(a){a.stopPropagation(),e.selItem(t,n)}}},[a("div",{staticClass:"top"},[a("span",{staticClass:"name"},[e._v(e._s(t.dealerName||t.nickname))]),e._v(" "),a("span",{staticClass:"label"},[e._v(e._s(t.dealerLabelName))])]),e._v(" "),a("div",{staticClass:"amt"},[a("span",[e._v("编码: "+e._s(t.dealerCode))]),e._v(" "),a("span",[e._v("往来余额: "+e._s(e._f("numberComma")(t.amntBal)))])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1)])],1)],2)},i=[],r={render:n,staticRenderFns:i};t.a=r},Ak0d:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"FormCell",props:{cellTitle:[String,Number],cellContent:[String,Number],showTopBorder:{type:Boolean,default:!0},textRight:{type:Boolean,default:!1},showSymbol:{type:Boolean,default:!1}}}},"AlX/":function(e,t){},An2j:function(e,t,a){"use strict";function n(e){a("SS5a")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("hQFQ");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("ojrp"),o=a.n(s),l=a("92zY"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-1aefe1c4",null);t.default=c.exports},As1F:function(e,t,a){"use strict";function n(e){a("Qsdg")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("AOGL");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("GEfv"),o=a.n(s),l=a("Bsx3"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-7f25bbe5",null);t.default=c.exports},AupE:function(e,t,a){"use strict";function n(e){a("HMMB")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("nHTe");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("W09m"),o=a.n(s),l=a("IJv4"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-b64a42b6",null);t.default=c.exports},AwSw:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("BGNQ"),o=n(s),l=a("z5TY"),d=n(l),u=a("7g+Q"),c=n(u),f=a("SAzG"),m=n(f),h=a("u28h"),v=n(h),p=a("jnZd"),C=n(p),y=a("iR2W"),_=n(y),g=a("kNGm"),b=n(g),w=a("1KNX"),I=n(w),x=a("Qg39"),D=a("zWMP");t.default={name:"MatterPop",filters:{numberComma:_.default},props:{modifyMatter:{type:Object,default:function(){return{}}},showDateTime:{type:Boolean,default:!1},showPop:{type:Boolean,default:!1},btnIsHide:{type:Boolean,default:!1},isCheckStock:{type:Boolean,default:!0},isShowAmount:{type:Boolean,default:!0},dateText:{type:String,default:"预期交货日"},validateMap:{type:Array,default:function(){return[]}},config:{type:Object,default:function(){return{}}}},components:{Cell:o.default,Group:d.default,Popup:c.default,XInput:m.default,Datetime:v.default,RScroll:I.default,PopupPicker:C.default},watch:{showPop:{handler:function(e){this.show=e}},modifyMatter:{handler:function(e){var t=new Date(e.productionDate).getTime();e.validUntil=t?(0,b.default)(t+(0,D.accMul)(e.keepingDays,864e5),"YYYY-MM-DD"):""},deep:!0}},data:function(){return{show:!1,scrollOptions:{click:!0},pickerStyle:{zIndex:550}}},methods:{numberComma:function(e){return e||0===e?(0,_.default)(e):"无"},onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&(e.$refs.bScroll.refresh(),e.$refs.bScroll.scrollTo(0,0)),e.clientHeight=document.documentElement.clientHeight})},onHide:function(){this.$emit("input",!1),this.showPrice=!1,this.currentType="渠道价"},confirm:function(){var e=this,t="";if(this.config.editPart.every(function(a){return!(!a.allowBlank&&(Array.isArray(e.modifyMatter[a.fieldCode])&&!e.modifyMatter[a.fieldCode].length||!e.modifyMatter[a.fieldCode]))||(t=a.text+"不能为空",!1)}),t)return void this.$vux.alert.show({content:t});this.$emit("sel-confirm",(0,r.default)(this.modifyMatter)),this.show=!1},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},checkAmt:function(e,t,a){var n=(e.price,e.tdQty),i=e.taxRate,r=e.qtyBal,s=e.qtyStockBal,o=e.qtyStock,l=e.qtyBalance;e[t]=Math.abs((0,x.toFixed)(a)),n&&this.isCheckStock&&(!s&&!o&&r&&n>r?e.tdQty=r:s&&n>s?e.tdQty=s:o&&n>o?(console.log(o),e.tdQty=o):l&&n>l&&(e.tdQty=l)),i&&(e.taxRate=Math.abs((0,x.toFixed)(i)))},getFocus:function(e){event.currentTarget.select()}}}},"B/eA":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("HyXB"),d=a("2y58"),u=n(d),c=a("fyaN"),f=n(c);t.default={name:"RAction",props:{code:{type:String,default:""},taskId:{type:String,default:""},actions:{type:Array,default:function(){return[]}},name:{type:String,default:""},agreeHandler:{type:Function,default:null}},components:{Confirm:u.default,PopUserList:f.default},data:function(){return{showUserList:!1,selectedUser:{},showConfirm:!1,transferInfo:{taskTime:.1,comment:""},showTaskWarn:!1,showCommentWarn:!1}},methods:{reject:function(){var e=this;this.$vux.confirm.prompt("",{title:"审批意见",onConfirm:function(t){e.commitTask({result:0,successMsg:"拒绝成功",value:t})}})},agree:function(){var e=this;this.agreeHandler&&this.agreeHandler()||this.$vux.confirm.prompt("",{title:"审批意见",onConfirm:function(t){e.commitTask({result:1,successMsg:"同意成功",value:t})}})},revoke:function(){var e=this;this.$vux.confirm.prompt("",{title:"撤回原因",onConfirm:function(t){e.commitTask({result:2,successMsg:"撤回成功",value:t,callback:function(){var t=e.$route.query.childId,a=e.$route.params,n=a.folder,i=a.fileName;e.$router.replace({path:"/fillform/"+n+"/"+i,query:{childId:t,name:e.name,transCode:e.code}})}})}})},commitTask:function(e){var t=this,a=e.result,n=e.value,i=e.successMsg,r=e.callback;this.$HandleLoad.show();var s={taskId:this.taskId,taskData:(0,o.default)({result:a,transCode:this.code,comment:n})};return(0,l.commitTask)(s).then(function(e){t.$HandleLoad.hide();var n=e.success,s=void 0!==n&&n,l=e.message,d=void 0===l?"提交失败":l,u={0:"reject",1:"agree",2:"revoke"};s&&(d=i,t.$emit("on-submit-success",(0,o.default)({type:u[a]}))),t.$vux.alert.show({content:d,onHide:function(){s&&(r?r():t.$router.go(0))}})}).catch(function(e){t.$HandleLoad.hide()})},transfer:function(){this.selectedUser={},this.showUserList=!0},selUser:function(e){this.selectedUser=(0,r.default)({},e),this.showConfirm=!0},onConfirm:function(){var e=this,t=(0,r.default)({userId:this.selectedUser.userId,taskId:this.taskId},this.transferInfo);this.showTaskWarn=!this.transferInfo.taskTime,this.showCommentWarn=!this.transferInfo.comment,this.showTaskWarn||this.showCommentWarn||(this.showConfirm=!1,this.$HandleLoad.show(),(0,l.transferTask)(t).then(function(t){e.$HandleLoad.hide();var a=t.success,n=void 0!==a&&a,i=t.message,r=void 0===i?"提交失败":i;n&&(r="转办成功",e.$emit("on-submit-success",(0,o.default)({type:"transfer"}))),e.$vux.alert.show({content:r,onHide:function(){e.$router.go(0)}})}).catch(function(t){e.$HandleLoad.hide()}))}}}},B1Yr:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_part"},[e._m(0),e._v(" "),a("div",{staticClass:"form_content"},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"往来名称",cellContent:e.dealerInfo.dealerName,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来编码",cellContent:e.dealerInfo.dealerCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来关系标签",cellContent:e.dealerInfo.dealerLabelName}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来余额",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.amntBal),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次开出汇票",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.thenTotalAmntBal),3),showSymbol:""}})],1)])]),e._v(" "),a("div",{staticClass:"form_part"},[e._m(1),e._v(" "),e._l(e.orderInfo.order.dataSet,function(t,n){return a("div",{key:n,staticClass:"form_content",class:{show_border:n!==e.orderInfo.order.dataSet.length-1}},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"汇票号",cellContent:t.draftNumber,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"类型",cellContent:t.draftType}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"承兑人",cellContent:t.accepter}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"金额",cellContent:e._f("numberComma")(e._f("toFixed")(t.tdAmount),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"保证金",cellContent:e._f("numberComma")(e._f("toFixed")(t.deposit),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"出票日",cellContent:t.draftDate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"到期日",cellContent:t.draftDueDate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"出让日期",cellContent:t.draftSellDate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"说明",cellContent:t.comment}})],1)])})],2),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("往来详情")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("汇票列表")])])}],r={render:n,staticRenderFns:i};t.a=r},B1pP:function(e,t){},B5KQ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2554,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_outPutMatCode"},{name:"往来名称",value:"dealerName_dealerDebit"}]}},mixins:[i.default],methods:{},created:function(){}}},B7rM:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("iR2W"),r=n(i),s=a("kNGm"),o=n(s),l=a("Qg39");t.default={name:"materListItem",props:{item:{type:Object,default:function(){return{}}},noCount:{type:Boolean,default:!1},noPrice:{type:Boolean,default:!1},noQty:{type:Boolean,default:!1},isDealer:{type:Boolean,default:!0},isMoreDealer:{type:Boolean,default:!1}},filters:{toFixed:l.toFixed,dateFormat:o.default,numberComma:r.default},computed:{istransCodeBottom:function(){return this.item.dealerName&&(this.item.warehouseName_containerCode||this.item.warehouseName_containerCodeOut)},isWarehouse:function(){return this.item.warehouseName_containerCode||this.item.warehouseName_containerCodeOut},isDealerWarehouse:function(){return!this.item.dealerName&&!(this.item.warehouseName_containerCode||this.item.warehouseName_containerCodeOut)}},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t}}}},B8Y4:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("4YfN"),o=n(s),l=a("IHPB"),d=n(l),u=a("n0D0"),c=a("0Nk0"),f=n(c);t.default={name:"PopFacilityList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},defaultTitle:{type:String,default:"订单号"},request:{type:String,default:"0"},params:{type:Object,default:function(){return{}}},filterList:{type:Array,default:function(){return[{name:"设施名称",value:"facilityName"},{name:"设施编码",value:"facilityCode"}]}},judgeKeys:{type:Array,default:function(){return["transCode","facilityCode"]}}},components:{RPopup:f.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],listData:[],limit:100,page:1,hasNext:!0,scrollOptions:{pullUpLoad:!0},filterProperty:"",requestMethods:null}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.selItems=[].concat((0,d.default)(this.defaultValue))},immediate:!0},params:{handler:function(){this.resetCondition(),this.getList()}}},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),this.requestMethods((0,o.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,s=void 0===i?[]:i;s.forEach(function(t){t.inventoryPic=t.inventoryPic?"/H_roleplay-si/ds/download?url="+t.inventoryPic+"&width=400&height=400":e.getDefaultImg()});var o=e.$route.query.relationKey;(void 0===o?"":o)&&(e.selItems=[].concat((0,d.default)(s)),e.$emit("sel-matter",(0,r.default)(e.selItems))),e.hasNext=n>(e.page-1)*e.limit+s.length,e.listData=1===e.page?s:[].concat((0,d.default)(e.listData),(0,d.default)(s))})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.resetCondition(),this.getList()},delSelItem:function(e){this.$refs.RPopup.delSelItem(e)},onPullingUp:function(){this.page++,this.getList()},resetCondition:function(){this.listData=[],this.page=1,this.hasNext=!0},selItem:function(e){this.$emit("sel-matter",(0,r.default)(e)),this.$emit("input",!1)}},created:function(){var e=[u.getObjFacilityByType,u.getEquipmentPurchaseOrder,u.getObjFacilityByDealerCode];this.requestMethods=e[this.request],this.getList()}}},BBrP:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages xsbj-list-conatiner",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("just-word-item",{key:n,attrs:{item:t,noCount:""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},BGNQ:function(e,t,a){"use strict";function n(e){a("PRcm")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("VsvK");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("jzM3"),o=a.n(s),l=a("Zs2f"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},BH03:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages fgysqk-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{"dealer-label-name":"往来",request:"3","default-value":e.dealerInfo,params:e.dealerParams},on:{"sel-item":e.selDealer}},[a("template",{slot:"other"},[a("div",{staticClass:"amt-dealer"},[a("span",{staticClass:"amt-dealer-item"},[e._v("本次收汇票: "+e._s(e._f("numberComma")(e.thenTotalAmntBal,3)))])])])],2),e._v(" "),a("div",{staticClass:"materiel_list"},[a("div",{staticClass:"title"},[e._v("汇票明细")]),e._v(" "),e._l(e.orderList,function(t,n){return a("div",{key:n,staticClass:"order-detail",class:{"vux-1px-t":0!==n}},[a("x-input",{attrs:{"text-align":"right",placeholder:"请填写"},model:{value:t.draftNumber,callback:function(a){e.$set(t,"draftNumber",a)},expression:"item.draftNumber"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("汇票号")])])],2),e._v(" "),a("r-picker",{staticClass:"vux-1px-t",attrs:{title:"类型",data:e.draftTypeList,mode:"4",placeholder:"请选择类型",hasBorder:!1,required:""},model:{value:t.draftType,callback:function(a){e.$set(t,"draftType",a)},expression:"item.draftType"}}),e._v(" "),a("x-input",{attrs:{"text-align":"right",placeholder:"请填写"},model:{value:t.accepter,callback:function(a){e.$set(t,"accepter",a)},expression:"item.accepter"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("承兑人")])])],2),e._v(" "),a("x-input",{attrs:{"text-align":"right",placeholder:"请填写",type:"number"},on:{"on-blur":function(a){e.checkAmt(t,"tdAmount")},"on-focus":function(t){e.getFocus(t)}},model:{value:t.tdAmount,callback:function(a){e.$set(t,"tdAmount",e._n(a))},expression:"item.tdAmount"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("金额")])])],2),e._v(" "),a("datetime",{attrs:{placeholder:"请选择出票日"},model:{value:t.draftDate,callback:function(a){e.$set(t,"draftDate",a)},expression:"item.draftDate"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("出票日")])])],2),e._v(" "),a("datetime",{attrs:{placeholder:"请选择到期日"},model:{value:t.draftDueDate,callback:function(a){e.$set(t,"draftDueDate",a)},expression:"item.draftDueDate"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("到期日")])])],2),e._v(" "),a("x-input",{attrs:{title:"说明","text-align":"right",placeholder:"请填写"},model:{value:t.comment,callback:function(a){e.$set(t,"comment",a)},expression:"item.comment"}})],1)})],2),e._v(" "),a("div",{staticClass:"add_more"},[e._v("\n        您还需要添加新的汇票?请点击\n        "),a("span",{staticClass:"add",on:{click:e.addOrder}},[e._v("新增")]),e._v(" "),a("em",{directives:[{name:"show",rawName:"v-show",value:e.orderList.length>1,expression:"orderList.length>1"}]},[e._v("或")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.orderList.length>1,expression:"orderList.length>1"}],staticClass:"delete",on:{click:e.deleteOrder}},[e._v("删除")])]),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"其他信息"}},[a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-money-order-list",{attrs:{show:e.showOrder,"default-value":e.orderList},on:{"sel-item":e.selOrder},model:{value:e.showOrder,callback:function(t){e.showOrder=t},expression:"showOrder"}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},BJMS:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("B8DQ");t.default={name:"tab-item",mixins:[n.childMixin],props:{activeClass:String,disabled:Boolean,badgeBackground:{type:String,default:"#f74c31"},badgeColor:{type:String,default:"#fff"},badgeLabel:String},computed:{style:function(){return{borderWidth:this.$parent.lineWidth+"px",borderColor:this.$parent.activeColor,color:this.currentSelected?this.$parent.activeColor:this.disabled?this.$parent.disabledColor:this.$parent.defaultColor,border:this.$parent.animate?"none":"auto"}}}}},BK5o:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.inPut?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.dealerInfo,logistics:!1}}),e._v(" "),a("warehouse-content",{attrs:{warehouse:e.warehouse}}),e._v(" "),a("matter-list",{attrs:{"order-list":e.orderList,noTaxAmount:e.noTaxAmount,taxAmount:e.taxAmount,count:e.count},scopedSlots:e._u([{key:"matterOther",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[n.productionDate?a("span",[e._v("生产日期: "+e._s(n.productionDate))]):e._e(),e._v(" "),n.validUntil?a("span",[e._v("有效日期: "+e._s(n.validUntil))]):e._e()]),e._v(" "),a("div",{staticClass:"mater_attribute"},[a("span",[e._v("单价: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.price),3)))]),e._v(" "),a("span",[e._v("数量: "+e._s(e._f("toFixed")(n.tdQty)))]),e._v(" "),a("span",[e._v("包装数量: "+e._s(e._f("toFixed")(n.assistQty)))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.taxRate,expression:"item.taxRate"}]},[e._v("税率: "+e._s(n.taxRate))])]),e._v(" "),a("div",{staticClass:"mater_num"},[a("span",{staticClass:"num"},[e._v("订单数量: "+e._s(n.thenTotalQtyBal))]),e._v(" "),a("span",{staticClass:"num"},[e._v("已入库数: "+e._s(n.thenLockQty))]),e._v(" "),a("span",{staticClass:"num"},[e._v("待入库数: "+e._s(n.thenQtyBal))])]),e._v(" "),a("div",{staticClass:"mater_price"},[a("span",[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(n.tdAmount),3)))]),e._v(" "),n.taxRate?a("span",{staticClass:"num",style:{display:n.tdAmount&&n.tdAmount.toString().length>=5?"block":""}},[e._v("\n                [金额: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.noTaxAmount),3))+" + 税金: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.taxAmount),3))+"]\n              ")]):e._e()])])]}}])}),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},BKtH:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("div",{staticClass:"title"},[a("d-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}})],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"pop-list-container",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"pop-mater-list-item box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"pop-list-main "},[a("div",{staticClass:"pop-list-info"},[a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline name",staticStyle:{display:"inline-block"}},[a("span",[e._v(e._s(t.facilityName))])])]),e._v(" "),t.facilityType?a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline ",staticStyle:{display:"inline-block"}},[a("span",{staticClass:"creator"},[e._v(e._s(t.facilityType))])])]):e._e()])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1)])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},BLSw:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2478}},mixins:[i.default],methods:{},created:function(){}}},BM9o:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("HXPS"),o=n(s);t.default={name:"RDropdown",props:{list:{type:Array,default:function(){return[]}},show:{type:Boolean,default:!1}},components:{Icon:o.default},data:function(){return{showDrop:!1,selItem:{}}},watch:{show:{handler:function(e){this.showDrop=e},immediate:!0},list:{handler:function(){this.selItem=this.list[0],this.$emit("on-selected",this.selItem)},immediate:!0}},methods:{dropClick:function(){this.showDrop=!this.showDrop},dropItemClick:function(e){this.selItem=(0,r.default)({},e),this.showDrop=!1,this.$emit("on-selected",this.selItem)}},created:function(){}}},BMO2:function(e,t,a){"use strict";function n(e){a("1uhD")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("+sd1");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("g09T"),o=a.n(s),l=a("4BM7"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-0ad42931",null);t.default=c.exports},BUFe:function(e,t,a){"use strict";function n(e){a("B1pP")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("B/eA");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("dQpD"),o=a.n(s),l=a("SDDa"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-6866b9cc",null);t.default=c.exports},BUVi:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("BGNQ"),o=n(s),l=a("z5TY"),d=n(l),u=a("kNGm"),c=n(u),f=a("0AQX"),m=a("+VRO"),h=n(m),v=(a("Qg39"),a("BUFe")),p=n(v),C=a("AupE"),y=n(C),_=a("bFc7"),g=n(_),b=a("hPJo"),w=n(b),I=a("FlCz"),x=n(I);t.default={data:function(){return{workInfo:[],orderInfo:{},warehouse:{},bomList:[]}},mixins:[h.default],components:{Cell:o.default,Group:d.default,RAction:p.default,workFlow:y.default,contactPart:g.default,WarehouseContent:w.default,BomList:x.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,f.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order,n=void 0===a?{}:a;t.formData.validUntil=(0,c.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workInfo=n.dataSet,e.warehouse=(0,r.default)({},e.warehouse,{warehouseName:n.warehouseName_containerCode,warehouseType:n.warehouseType_containerCode,warehouseAddress:n.warehouseAddress_containerCode}),e.workFlowInfoHandler()})}}}},Bd2n:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=(a("jLp1"),a("MjAd")),o=n(s);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2325,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"项目名称",value:"projectName"}]}},mixins:[o.default],methods:{goDetail:function(e,t){var a=this;if(!this.clickVisited){var n=e.transCode,i=this.$route.query.name,s=this.$route.params,o=s.folder,l=s.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,r.default)({},e)),setTimeout(function(){a.clickVisited=!1,a.$router.push({path:"/detail/"+o+"/"+l,query:{name:i,transCode:n}})},200)}},getTaskIcon:function(e){return["icon-task","icon-task2","icon-task3"][e%3]}}}},BhuD:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pop-single-container",on:{click:function(t){e.showPop=!e.showPop}}},[a("div",{staticClass:"pop_info"},[a("div",{staticClass:"title",class:{required:e.isRequired}},[e._v(e._s(e.title))]),e._v(" "),a("div",{staticClass:"mode"},[a("span",{staticClass:"mode-content"},[e._v(e._s(e.selected||"请选择"))]),e._v(" "),a("span",{staticClass:"iconfont icon-shenglve"})])]),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"70%"},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("div",{staticClass:"title"},[e._v(e._s(e.title)+"\n          "),a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-close-empty close_icon",attrs:{type:"ios-close-empty",size:"30",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 512 512"},on:{click:function(t){e.showPop=!e.showPop}}},[a("path",{staticClass:"st0",attrs:{d:"M340.2 160l-84.4 84.3-84-83.9-11.8 11.8 84 83.8-84 83.9 11.8 11.7 84-83.8 84.4 84.2 11.8-11.7-84.4-84.3 84.4-84.2z"}})])]),e._v(" "),e._l(e.data,function(t,n){return a("span",{key:n,staticClass:"each_mode",class:{choiced:t.name===e.tmp},on:{click:function(a){e.selItem(t.name,n)}}},[e._v(e._s(t.name))])})],2),e._v(" "),a("div",{staticClass:"cfm_btn",on:{click:e.confirm}},[e._v("确定")])])],1)])},i=[],r={render:n,staticRenderFns:i};t.a=r},BljH:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tab"},[a("div",{staticClass:"only_tab_item",on:{click:function(t){e.tabShow=!e.tabShow}}},[a("div",{staticClass:"tab_item_name"},[e._v(e._s(e.choicedTab)+"\n      "),a("p",{staticClass:"arrow",class:e.tabShow?"arrow_up":"arrow_down"},[a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-arrow-down",attrs:{type:"ios-arrow-down",size:"24",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M396.6 160l19.4 20.7L256 352 96 180.7l19.3-20.7L256 310.5z"}})])])])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.tabShow,expression:"tabShow"}],ref:"tabItem",staticClass:"all_tab_item"},[a("div",{staticClass:"tab_wrapper"},e._l(e.tabVal,function(t,n){return a("div",{key:n,staticClass:"tab_item_name",class:{active:n===e.activeTabIndex},on:{click:function(a){e.switchTab(t,n)}}},[e._v("\n        "+e._s(t.view_name)+"\n      ")])}),0)])])},i=[],r={render:n,staticRenderFns:i};t.a=r},BmNp:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("B8DQ");t.default={name:"tab",mixins:[n.parentMixin],mounted:function(){var e=this;this.$nextTick(function(){setTimeout(function(){e.hasReady=!0},0)})},props:{lineWidth:{type:Number,default:3},activeColor:String,barActiveColor:String,defaultColor:String,disabledColor:String,animate:{type:Boolean,default:!0},customBarWidth:[Function,String],preventDefault:Boolean,scrollThreshold:{type:Number,default:4},barPosition:{type:String,default:"bottom",validator:function(e){return-1!==["bottom","top"].indexOf(e)}}},computed:{barLeft:function(){if(this.hasReady){var e=this.scrollable?window.innerWidth/this.$children[this.currentIndex||0].$el.getBoundingClientRect().width:this.number;return this.currentIndex*(100/e)+"%"}},barRight:function(){if(this.hasReady){var e=this.scrollable?window.innerWidth/this.$children[this.currentIndex||0].$el.getBoundingClientRect().width:this.number;return(e-this.currentIndex-1)*(100/e)+"%"}},innerBarStyle:function(){return{width:"function"==typeof this.customBarWidth?this.customBarWidth(this.currentIndex):this.customBarWidth,backgroundColor:this.barActiveColor||this.activeColor}},barStyle:function(){var e={left:this.barLeft,right:this.barRight,display:"block",height:this.lineWidth+"px",transition:this.hasReady?null:"none"};return this.customBarWidth?e.backgroundColor="transparent":e.backgroundColor=this.barActiveColor||this.activeColor,e},barClass:function(){return{"vux-tab-ink-bar-transition-forward":"forward"===this.direction,"vux-tab-ink-bar-transition-backward":"backward"===this.direction}},scrollable:function(){return this.number>this.scrollThreshold}},watch:{currentIndex:function(e,t){this.direction=e>t?"forward":"backward",this.$emit("on-index-change",e,t),this.hasReady&&this.scrollToActiveTab()}},data:function(){return{direction:"forward",right:"100%",hasReady:!1}},methods:{scrollToActiveTab:function(){var e=this;if(this.scrollable&&this.$children&&this.$children.length){var t=this.$children[this.currentIndex].$el,a=0,n=function n(){var i=e.$refs.nav;i.scrollLeft+=(t.offsetLeft-(i.offsetWidth-t.offsetWidth)/2-i.scrollLeft)/15,++a<15&&window.requestAnimationFrame(n)};window.requestAnimationFrame(n)}}}}},BnMG:function(e,t){},BpKx:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pop-entity-list",on:{click:e.itemClick}},[a("div",{staticClass:"title"},[e._v("经办主体")]),e._v(" "),e.selItems.dealerName?a("div",[a("div",{staticClass:"cp_info"},[a("p",{staticClass:"cp_name"},[e._v(e._s(e.selItems.dealerName))])])]):a("div",[a("div",{staticClass:"mode"},[e._v("请选择经办主体")])]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"}),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("m-search",{attrs:{filterList:e.filterList,isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"each_mater box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"mater_main "},[a("div",{staticClass:"dealer_name"},[e._v("\n                "+e._s(t.dealerName)+"\n              ")]),e._v(" "),a("div",{staticClass:"dealer_code"},[e._v("\n                "+e._s(t.dealerCode)+"\n              ")])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1)])],1)])},i=[],r={render:n,staticRenderFns:i};t.a=r},BqiB:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("3pyw"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"countup",mounted:function(){var e=this;this.$nextTick(function(){e._countup=new i.default(e.$el,e.startVal,e.endVal,e.decimals,e.duration,e.options),e.start&&e._countup.start()})},props:{tag:{type:String,default:"span"},start:{type:Boolean,default:!0},startVal:{type:Number,default:0},endVal:{type:Number,required:!0},decimals:{type:Number,default:0},duration:{type:Number,default:2},options:{type:Object,default:function(){return{}}}},render:function(e){return e(this.tag,{},[this.startVal])},watch:{start:function(e){e&&this._countup.start()},endVal:function(e){this._countup.update(e)}}}},"Bs+d":function(e,t){},Bsx3:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{"no-count":"",noPrice:"",item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},Bvj9:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("QHLv"),v=a("1KNX"),p=n(v),C=a("7biW"),y=n(C);t.default={name:"PopOrderList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},params:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:m.default,RScroll:p.default,MSearch:y.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],matterList:[],limit:100,page:1,hasNext:!0,scrollOptions:{pullUpLoad:!0},filterProperty:"",filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"}]}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}},params:{handler:function(){this.resetCondition(),this.getList()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,d.default)(this.selItems)),this.$emit("input",!1),this.$event.$emit("shut-down-filter",!1)},findIndex:function(e,t){return e.findIndex(function(e){return e.popiCode===t.popiCode})},showSelIcon:function(e){return-1!==this.findIndex(this.tmpItems,e)},selThis:function(e,t){var a=this.tmpItems,n=this.findIndex(a,e);if(-1!==n)return void a.splice(n,1);a.push(e)},cfmMater:function(){this.showPop=!1,this.tmpItems.sort(function(e,t){return t.effectiveTime-e.effectiveTime}),this.selItems=[].concat((0,d.default)(this.tmpItems)),this.$emit("sel-item",(0,o.default)(this.selItems))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.resetCondition(),this.getList()},delSelItem:function(e){var t=this.findIndex(this.selItems,e);-1!==t&&this.selItems.splice(t,1),this.tmpItems=[].concat((0,d.default)(this.selItems))},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.tmpItems=[].concat((0,d.default)(this.defaultValue)),this.selItems=[].concat((0,d.default)(this.defaultValue))},resetCondition:function(){this.matterList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"popiCode"}])),(0,h.getPaySupplierArrearsDataSet)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(t)},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.matterList=1===e.page?r:[].concat((0,d.default)(e.matterList),(0,d.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})}},created:function(){this.setDefaultValue(),this.getList()}}},Bw1i:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},Bw8g:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages hgcw-list-container"},[a("div",{staticClass:"btns"},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"btn-item",on:{click:function(a){e.goDetail(t)}}},[a("span",[e._v(e._s(t.title))]),e._v(" "),a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-arrow-right",attrs:{type:"ios-arrow-right",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M160 115.4L180.7 96 352 256 180.7 416 160 396.7 310.5 256z"}})])])}),0)])},i=[],r={render:n,staticRenderFns:i};t.a=r},"C+Mu":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("rVsN"),r=n(i),s=a("3cXf"),o=n(s),l=a("5odV"),d=n(l),u=a("53nK"),c=a("Tj2J"),f=n(c),m=new f.default,h={clean:function(){window.sessionStorage.removeItem("ROSE_LOGIN_TOKEN"),window.localStorage.removeItem("roleplay-token")},setToken:function(e){window.sessionStorage.setItem("ROSE_LOGIN_TOKEN",(0,o.default)({entityId:e.entityId,token:e.token,name:e.name,department:e.department,avatar:e.avatar,position:e.position,timestamp:+new Date})),window.localStorage.setItem("roleplay-token",(0,o.default)({key1:e.key1,active:e.active,entityId:e.entityId,token:e.token}))},checkLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"token",t=JSON.parse(window.sessionStorage.getItem("ROSE_LOGIN_TOKEN"))||{},a=null!==navigator.userAgent.toLowerCase().match(/wxwork/);if(!t[e])return"";var n=t.timestamp,i=new Date-n;return a&&i>72e5?"":i>432e5?"":t[e]},login:function(e){if(this.clean(),null!==navigator.userAgent.toLowerCase().match(/wxwork/))return this.QYWXLogin(e);window.location.replace("https://open.weixin.qq.com/connect/oauth2/authorize?appid="+u.corpid+"&redirect_uri="+u.redirect_uri+"&response_type=code&scope=SCOPE&agentid="+u.agentid+"&state=1#wechat_redirect")},pcLogin:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"token";return console.log("进入pc了"),new r.default(function(a,n){var i={method:"post",baseURL:"/H_roleplay-si",url:"/login",headers:{"Content-Type":"application/json"},data:{loginModel:1,password:"123456",userCode:"15399909500"}};m.request(i,i.data).then(function(n){var i=n.data;e.setToken({key1:i.key1||"",active:i.active||"",token:i.token||"",entityId:i.entityId||"",name:i.name||"",department:i.department||"",avatar:i.avatar||""}),a(i[t])}).catch(function(e){var t=e.response,a=t&&t.data||{};n({success:!1,message:a.message||"请求异常"})})})},QYWXLogin:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"token";return console.log("进入企业微信了"),new r.default(function(a,n){var i=d.default.parse(location.search.slice(1)),r=i.code||"";m.get("/H_roleplay-si/wxLogin?code="+r+"&state=1&corpsecret="+u.secret).then(function(n){var i=n.data;e.setToken({key1:i.key1||"",active:i.active||"",token:i.token||"",entityId:i.entityId||"",name:i.name||"",department:i.department||"",avatar:i.avatar||"",position:i.position||""}),a(i[t])}).catch(function(e){var t=e.response,a=t&&t.data||{};n({success:!1,message:a.message||"请求异常"})})})}};t.default=h},"C/iA":function(e,t,a){"use strict";function n(e){a("IXYu")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("6TM+");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("kCcb"),o=a.n(s),l=a("XWH4"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-a53f7eac",null);t.default=c.exports},C6jN:function(e,t,a){"use strict";function n(e){a("GFh5")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("RxFs");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("DT0P"),o=a.n(s),l=a("X1uf"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-c7c99480",null);t.default=c.exports},CFT0:function(e,t){},CGvj:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("fQlz"),o=n(s),l=a("+AeB"),d=n(l);t.default={name:"REmotion",props:{show:{type:Boolean,default:!0}},components:{Emotion:d.default},data:function(){return{emotionList:[].concat((0,r.default)(o.default))}},methods:{emotionClick:function(e,t){this.$emit("on-select","["+e+"]")}},created:function(){}}},CKaN:function(e,t,a){"use strict";function n(e){a("VIWb")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("sPO+");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("esH7"),o=a.n(s),l=a("GdVh"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-954d0a90",null);t.default=c.exports},CP9X:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},CPdU:function(e,t){},CRKs:function(e,t,a){e.exports=a.p+"static/img/ck_default.c23c125.png"},CSTP:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"weui-cells_radio",class:e.disabled?"vux-radio-disabled":""},[e._l(e.options,function(t,n){return a("label",{staticClass:"weui-cell weui-cell_radio weui-check__label",attrs:{for:"radio_"+e.uuid+"_"+n}},[a("div",{staticClass:"weui-cell__bd"},[e._t("each-item",[a("p",[a("img",{directives:[{name:"show",rawName:"v-show",value:t&&t.icon,expression:"one && one.icon"}],staticClass:"vux-radio-icon",attrs:{src:t.icon}}),e._v(" "),a("span",{staticClass:"vux-radio-label",style:e.currentValue===e.getKey(t)?e.selectedLabelStyle||"":""},[e._v(e._s(e._f("getValue")(t)))])])],{icon:t.icon,label:e.getValue(t),index:n,selected:e.currentValue===e.getKey(t)})],2),e._v(" "),a("div",{staticClass:"weui-cell__ft"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"weui-check",attrs:{type:"radio",id:e.disabled?"":"radio_"+e.uuid+"_"+n},domProps:{value:e.getKey(t),checked:e._q(e.currentValue,e.getKey(t))},on:{change:function(a){e.currentValue=e.getKey(t)}}}),e._v(" "),a("span",{staticClass:"weui-icon-checked"})])])}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.fillMode,expression:"fillMode"}],staticClass:"weui-cell"},[a("div",{staticClass:"weui-cell__hd"},[a("label",{staticClass:"weui-label",attrs:{for:""}},[e._v(e._s(e.fillLabel))])]),e._v(" "),a("div",{staticClass:"weui-cell__bd"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.fillValue,expression:"fillValue"}],staticClass:"weui-input needsclick",attrs:{type:"text",placeholder:e.fillPlaceholder},domProps:{value:e.fillValue},on:{blur:function(t){e.isFocus=!1},focus:function(t){e.onFocus()},input:function(t){t.target.composing||(e.fillValue=t.target.value)}}})]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:""===e.value&&!e.isFocus,expression:"value==='' && !isFocus"}],staticClass:"weui-cell__ft"},[a("i",{staticClass:"weui-icon-warn"})])])],2)},i=[],r={render:n,staticRenderFns:i};t.a=r},CYNT:function(e,t,a){e.exports=a.p+"static/img/defaultApp.895b567.png"},CZPG:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"weui-cell vux-cell-form-preview",class:{"vux-cell-no-border-intent":!e.borderIntent}},[a("div",{staticClass:"weui-form-preview__bd"},e._l(e.list,function(t){return a("div",{staticClass:"weui-form-preview__item"},[a("label",{staticClass:"weui-form-preview__label",domProps:{innerHTML:e._s(t.label)}}),e._v(" "),a("span",{staticClass:"weui-form-preview__value",domProps:{innerHTML:e._s(t.value)}})])}),0)])},i=[],r={render:n,staticRenderFns:i};t.a=r},Ca4P:function(e,t,a){"use strict";function n(e){a("MoPf")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("bxyf");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Xzj3"),o=a.n(s),l=a("RJZk"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-25367aa8",null);t.default=c.exports},CcG0:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQ4AAAEOCAYAAAB4sfmlAAAAAXNSR0IArs4c6QAAJcZJREFUeAHtnelvHEd6xofk8BAlkbpIrRMsAnttCLuLBfzBwC5sI4ETOBsskK8L5I/IvxcgCQxfwN6br7FkWT7kyJYP2dZBcnjmeVr9UsWanqN6urqre54Cmn1Md3XVU9U/vlVvdfVCb07CH//4x6v7+/v/fnx8fGdpaekOsn3n4ODgqzfeeONwTiRQNqVAZQosVBZT4hG98847bz733HP/denSpd7Ozk5vd3eXy/GTJ09uHh4efozk3z45ObkNqNxeXl6+hfPu/vznP99PPFtKnhRoRIF+I3dt4KZHR0cvEhrb29vu3Rex81NYIT81mNgaUDl5//33b8MqyaCC824vLi7exrm3FhYWPoWlsudGpG0pME8KzA048LC/eO7cuTNl+/XXX/f6/X62wNLobWxs9C5fvtzjNs6nNfYSrJCXAJN/poXiQKX3u9/97uPBYHAHv3+E8zKoYPtDbgsqZ2TWTgcVmBtwoOzOgAPNkx6sh2zZ29vL1m75wro4BQrhcuHChR4tlhwqPPV5LoDJP+XNnlOwACr3AZUPDCpYEywfoo/lw1//+tdP3PtoWwq0UYG5AQf6LV4gACyg6ZJtbm5uZoDgDmHC47bmNh72HsGCh98u7blQIUjOnz/fYzwOVK7j5OsAyj/4UPn973//LaDyv+ykxTlZvwqhgnt++Oabb/5wehNtSIGEFZiLzlE89At/+ctfnrzyyiunbRU2Ox49epT1eTxtlYwvJRcmLlxotfhQIUAIKa5t4b57H8LIhwr2v8fygQsVWivr6+s3X3311QfjU6hfpUB9CswFON56662//dGPfvT5z372s1NlCQ0+vFtbW6fHym64IOG27ftQITgMKLY2sNCKsQCLZAgqAN0jLDcBklNLhVBBvw2h8jXifmYSWURaS4FICjyz3SPdIJFob+C/9pmk0ILgw1tFsIe/KC4DicHE1oSDa6m4UGF8q6urWROI2zlULiL+V+DleYXWEq0VW//5z3/ehbv5pmup4LrbyN/N11577UvEfVyUNh2TAmUVqObJKXv3mq7Dg/eS71HhA7yyshI9BdNCxYBCoBVBhfGYlcJ0Mz90LedQYRPsZVz7ssHE1n/961/333333ZuI/8xYFUIFELqnAXDRq0AnbzAX4EDJvehbHGxG8GH0Ax6mzMNCC8AWPpy27Z8/y/44qDB9BhOubRkFFYsLncC9tbW13rVr1yx/pOMvcP0vDCbO+ui99967BeCcgQrOvYXO3s/QJ3QwS/50bXcVmAtw4CE844rlQ8hmQlFThcdtKSp2A4i7NrAUnV/2GOPkQhD4gemjZcJ82JrbBj07n2k0oNiaLuWrV68aVEjOUQPgjjEA7iPEmUEF52kAnAmrdW8uwOG7YvmwMfBh8gMfynEhFCp8eAmAKgPjJFAmQYUwMbj4UGF6DCbWBPIGwDHRowbAnWCsyifoXD4DFWjz4cWLF+/AUtmpMr+KKz0FOu9VQWWmK/YhKvMFk5+m+ihXLD0tMYJroRRtx7inHyehZyAxqNg+m0ZuMKhwbWCxY0w/A+Mzl7LbWYvtu9DxdFQtztMAOFfcDmx3Hhxowz8H0/zeNK5YPgjsQ6g7FIHEPVZXeqzZY2uDC6FCbSzQgvJhYvsGFZ5bBBVA+2tA5Rbiy4bqG1RwTw2AM4FbsO58UwUguFHkUWFF94P7cPi/xdznfUfd2wVI0XaV6aImXOgK9oMPE+5zVG0RVFwrhZ3SaL5k8eZQ4cCZLcDjNQOLddb+4Q9/eIBjhMqZsSoaAOeXRvP7w09P82mqNAV4EM50jDJyVvoiV6xvrleakJKRjYMKo+TDSAugLqgUZcOaO2ahcF0EFaaRYDKwEOh8B4j7eT/QFcT/K8D+Vz5UMJ/KQ0IFZXQGKohDA+CKCiXysc6DAw/eS9O6Ykf9149cBjNFzzTzQS0KBpMisBSdX/aY9X0UXe/CxKwWrovcygYVxlcwAG4D8b8CIL3iQwUD4HYwAG4IKnBLawBcUaFUcKzz4IBGZywOVmQ+bKycfmgjOPw8uPvMD5ciS8qgwrUPFjeOWbenhQrLhUAZBRXGY2ApGADHYcGFA+DQMb6HAXAfIv7MAwQ9ssmaENfNe/fu/d9vf/vbYurOmvGOX995cOCheMF1W7KCMrAS+qFr4PDz5+4bVHjMNLHfXaj4YLFzqliPgwphZzDh2hZrAtn9mT6Lh2uWtTcAbg3nFg6Aw3mH6Dznm8lnoIJ4OCvcZxpVayoPr4efnuFzWn0EzZSfuBngfzQGVjI/zBM4/Ly7+y5U3OPc9qHigsU/d5Z9WkFcXOhbfAYVHyz+WBUfKixzbwAc63/hADh02B5hABznpT0zVgX3voWO3U9+85vf1O9+MwESWHfaHYte+uvofPsSc4eeSj3qrVg+LE24Yk8T1oGNIqgYWOrKHsuR/xzMQnHh4jbZLF2EiTWBuG37ll5e4/epYP8Ey9AAOEIFVswdvK28a9d3dd1piwMTEd/w5hjNKhQrhx9kbfiKhO+HWiouaMLvVnwF46SVUmSpMH0uSAwusCCG+oEMIgYSupSdGeD4D/d5xPc8APKPPlgwWdNdHDu1VHBeNgAO13BaycfFKW/X0U6DA5XoTMcoi4b/jYpcsaxUCvEUoL6jNHYBUrRdVaoYN62LUf1bBhLXYmGfCsHipp1NKNdKKZgB7sc4/8e47u99qMAK/gLHhkbV4p6tGgDXaXCgwg2Bg6ZnkcXhmrFVVVTFM50CqUEl8gC456DKc4DK0AA4jFX5Gn0rQ1BBem6lNgNcp8GBCnlmDAf/o7CSFoGDxxXSU2ASVJhiWgAxLRXeY5Slwt+Kmj/m/XHrFdNpTSDGVzAALhtVi762X/qWyp/+9KfvARV+nmNoABwma/qK6agzdBocKJxCV6zAUWcVi3cveyj54BYFg0kRWIrOL3vMYFB0vTV/XLiwKVRiANwlxF84AA5Q4bSSH/lQyQfAfQEdKv+v2GlwQLhCVyxp7werhP5x7bdXAbNWipqhBhWufbBUmeNpoWJgGQUVxsN6y3XBADhOK/kyXMcv+5YKRtR+jt9+XGWeGNfwE1T1HRqK7+23376GMRyb7u1ZOFZJ3OOChqvGfGwbVJhb1gs3uFDxweKeN+v2OKgQdgYTrm0pslQsHq79AXD46NjdWdNZdH1nwYGKMTRBMcWnuH4QOHxF5nvfhYqvhA8VFyz+ubPs8x8clyK3skHFB4s/AI73v3Hjxi/u37//n7C+/w3TQVb2iY3OggMFWjhBsZops1RnXRsKFQNLlcqNgwrT57qT4b25AMC8gdndKv3YV2fBASoPTVBMQoO8Q2VY1AYeOkkHpMAEBcpAxSyYCVFP/TPjcwfA5RD5BMfPtsemjrH4xM6CA0KdGcNBaLBg1VQprgg6GleBpqCCen+Ee9+sOnen4EA76D8Q+em8nFXfqO740Lv8Moac97gwmFXBffY8u8F+c49pu/sKcMRnCiEEKvzHR6ti2sB/mDj/w2nPn/a8U3DggtfRdrpY9B952shSOs/vVGK7sGioOdPM3xTmRwH+o6AJ34bgQ4XQmPYZZT6xLOGa21Xn1QVH1v7nVG4KUqDLCmCwVDbLfRvzGPJPjtZGHioHh/7VmrRaS4EWKBDaTMmzJHC0oGyVRCkQRYEQaDABef/GIaaW+KzqBMniqFpRxScFIikQCo68H+dTXFd5h47AEamQFa0UqFqBUHDA4jiO4YplvgSOqktX8UmBSAqUAAffiq28f4PZEzgiFbKilQJVKxACDrpx6YqFF6byMRzMl8BRdekqPikQSYEQcDjjVGRxRCoPRSsFWqFAKmM4KJYsjlZUGSVy3hUIsTaoVe6KPdra2vo0hnYCRwxVFacUqFiBUHDkTZXPcN1BxUnJohM4YqiqOKVAxQqEgoOuWCSh8rdiLVtn3lWxg7HXx3ASHWIcPbzM2avui4t4cYezHS2JY7G1V/ztVKAEOOBYOYnSMUoFawXHzuCgt7t/2NsHDOku8sMi3vxbXV7qra8sZ2v/d+1LgXlVIAQc5oqFVu0Gx97BUe/h7gBWBq2n0QHD3DKwEC4EyOa51V5fVshowfTL3CgQAg5zxcYaw0HRo7cNHu7u9x483p0IDb8GDACbbx7t9vYODv2ftC8F5k6BEHDQo8KAa6JZHFHB8f3OoPd4b790IdMCefB4L7NCSkeiC6VAyxUgNELBgfOPr1279kmsrEcDx2P0Z7BPo4pAALFfREEKzKMCIdCgPrQ40M/xOa4r/197gtBRwHEIb8kjNFGqCuzs+f7JXlXRKR4p0CoFQsGBPo5jXPNBzExGAccjdIQWeU1myQg7Vp9UZMHMkg5dKwXqViAUHPkYjmj9G8x/5eDg2Ax6RWIEgSOGqoozdQVCwJG7YvtYtwscMb0gtDomuXRTrwRKnxQIVSAEHOZRwUzo7QIH3agxw+Awbvwx0664pUAZBULAYWM4cE2UeTgs/VGaKhZ5jDWbQgpSYF4UIDRCwEGLA+cfX7169eOYGlUPjpO4btMjfGRGQQrMiwIh0KAmeVPlHq4bxNSocnCAjzHTG0TfqAlR5FKgBgVKgIP/WaO9FWtZrhwcS3jTNWbA9+xiRq+4pUBSCoSC4+DggG35qP0bFKhycPQjf4d1SS+9JVWxlZi4CoSAg65YLEtIUVSPCnNcOThWV5juOIEiruGtWQUpMC8KhIDDXLGxx3BQ+8rBsdbvR+uHWIG1wTk7FKTAvChQBhzLy8vtszj4XF9YW45SrhfPrUSJV5FKgRQVIDRCwMExHDj/5MqVK3di56dyi4MJvrC6kk0FWGXi15b7vZW+milVaqq40lYgBBrMSd5U+QLX7cbOWRRw0Oq4fH4tiJbjMspZwC4hPgUpME8KhIIDFge6N06iu2JZBlHAwYhX+njY11dnhgfdu1cAjcheXiZZQQokpUAoOGBxHOGa6P0bFCnqZMXnVvposiz0HmAujeMSQ8WX0TQhNGKPDUmqtigxUiBXIAQcsDT4rdg+rok+hoPJiwoO3oD9Etsb69nEPjt43Z4ZnBT4uYQLayvoK4nTyTrp/vpdCqSgQAg4zBWLdLff4jDx6ULdRLOFMOBcHXz1/gCvyLsQISwIGXaCnsPCfhIFKTDPCpQBB56p7oDDCp9NDrpqzV1L44MTEqspYgppLQWeKkBohIDDXqe/fv16dFcsUxi9qTKuItCq0Lsn4xTSb/OqQAg0qBGbKrjmSyxP6tAsmleljsTrHlKgqwqUAAdaKfW4Yqm5wNHVmqd8tVqBEuDg1Hi19G9QWIGj1dWrfOL3DzUhUnn14l9ZAhx4MX1R4IhfNPN7B3ZIP5rhC3vzq1x9OQ8Bh3WMoqlSyxgOqiCLo766kMyd+BHwfUz6PMWQmmTSPG8JCQFH3WM4WBYCx7zVSOSX42jw30kf9E607AmNMuDANR/VlSWBoy6lE7qPfcIi5jdwEspu55OSv07/9fb29uO6Mitw1KV0IvchNGhtMBhAEkmakpErgE7OIC3QVGGB1vJWrCUsLIV2ldatVcC1MthJqg9cpVeUIc0Uph7gOKqzY5T3FDiowhwFdoy6wQWJe1zbzSkQCg68FVvLBMWuIgKHq0bHt/liof9Bq739syDpuAStyF4IONi/AWtjoc4xHBRR4GhFVaomkUXWBUFCoCiko0AIOBxXbG1jOKiUwJFOfYmeEr+ZYjcsAor9pnW9ChAaZcCBr9PX5oqlIo2+HVtvkcz33dgReoBBX0WBQLmYyJSu9PhwQbs9Syq3Gex4tjPhz+rq6oQzuvNzbnF8i49MP6wzVwJHnWo3eC/2ZfA/2SomS+LESrv5IDAmiUA5wtSOdc6LYnBw1waJBmVq/Nahrlj0cZygXG/VnXCBo27FG7pfH5NHX99c7+0MDrP3VPyHlM2V8xGnaqQFYZCw7YakSPq2Ic0UZoSuWKwEjqRLtcWJW8YnJr7HpNGcurEosLlSNTgICNZrgaJI8eJjoeCAtksAcm1vxVqqZXGYEh1esxny4PHuWO+JvfSGVsxMwUAhWJSTMQQc1BrQWEDHqMBRTm5dNU4BvkI/yeXKZsQAYwI4WXRo4LUcTyBYhCo3fH4IOKh5HgQOU0Lr6hQYoP/CD5xVnpDg925sYBg7UEPAwf94ZmH48Wu/nAIh4KD2DP1+X+AoJ7euGqXAUyg8dWm65xAYfMltAx/yvoIPZ9FdyybNNIH/6XIzeZrTdc6UCoRAg1GyDHDNd5cvX/5+yltUdlq4XVrZrRVRHQrsjegM5b05avQ7dJju7Pezz3WyA3VcEDDGqTP7byXAQdLX7lFhTgWO2cs76RhGjRZ1E82mzFcPj7Lv3VzER7P8IGD4isTZLzGGg22VWoeaW84FDlOig2s2PQ7ydvCk7LGD89Hufo/9HFsb57LTaQoTGvxNIb4CoRYHXbFIlcARv2jm6w5l3kEhaDiS9OT46fiL+VKs2dyGgCPvY6LzvPaOUao0vlHbrI66+4wKjGqm9NGXMa6SPoH7lq5VhXoVGFcmfkoIDoYmPCrZfbO760/nFGDjgoO6GNjpyQ96ry4v4X2Uxd7DnUHv8GQ0GPbxmv0azleoV4EQcLAJybC8vNyIxaE+jnrrRm13o7v18vnVDBh8qY2BL7Z9+2g3c72OS8ghrqV71q4bd65+q0aBEGjwjrkr9ofNzc0H1aQgLBaBI0yv1pzNN12XFp8WL62PH2Bl7AwOpk4/ZxhcVe2YWq9ZTywBDvRZnzTiimVeVTVmLfHEr+cAMI7VOAyc5YvNFb6Cr1CPAmVcsYBNIx4VKiJw1FMvGrkL31F5vHdQyp16gOYKLZUZ33lrJN9tvGmoxZG7Yhvp36C+Akcba9mENHP8Bq0M6xydcPrIn2mtrEwYTTryYv0QpEAIOMwV26TFIXdsUPG24+Rv8Qr9rNBgTg9GO17aIUSLUhkKDmYNfRyNWRwCR4sq1zRJpbUR2p8xKl72cyjUo0AIOMwVu76+3hg4gpoqTDAHBjGTXNihE9qpU08xzO9dyowWNbX68MQsLy1krljwp0e3LBceV4inQAg0mIrcFftoY2Pjm3ipGh9zEDgYlT+i0IeIQDJe8Ni/zgKOp+M3er315QX1bcQuKCf+MuDA5Y15VJj0YHA4+c02+QIUFwOKCxJMaTZ2aLMfl/ZnU4Dvou0fzta84MCvx/snveXFk975Fc6IPluadPVkBUqA47DJMRzM0czg8GVxQcKmDS0QAoSLQlwFaG1Q/yoC3bHf7x32zi0v9s5hhnSFeAqEWuloquDNgcXG+jeoROXg8OWlJcLFhUioUH6c2i9WYNRLbcVnT3d0l64VsIgAUYijQIjF4bhiGwVHbbWB/wmZ6f39/Wyxpk2copjPWIvmFq1CCVofCvEUCAUHU4LnqdE+jtrA4cpOaAggriKzb3PcBvsn/MD322b1ithLb37c2q9GgTLgaNIVy1xHb6qMk9YAwv4PzCugjtRxYk34zZop7MwkKDLXKtY0FnZm7DDlrdliWVU31YRSCP85BBqMnU1+XPPk4sWLX4XfrborGgWHZYNNGC4CiCkSvl5ER8TmGjqh81foGcMugJH1UYRHN3QFvTWr6uAe0mXWA6Hg4HOC0Gj/BhOQBDiYEAaKQiuE1oe8ME81meYv/wv1F9hMeeo7pZXxGHOHsolRVdBLb1UpeTaeUHCgrI/Qv3HzbCz17zXSxzEum+xEPTg4yJZx5+m3pwoQtPl/oezA/tFJ7we4UauEhml9gLgVqlUg1MOI8l5o2hVLBZIDhxULH4bBYHA6sMyOa/1MAYMs1+wXfbx/nFkasR5veVeeaV/VVojFwWcCZc1ntvGmSrLgYMHYg0FTXGFYAVpmmUa0MgZwdUd+KS12/MM57P6RUHDkiggck6oGHwyCg+5bhWcKEBqZVwrQeIT+jCJX7LOzq9miVaPmSjVaWiwlwdHoGA6mPWmLw8TlOntIBI9MEoLU+jXqtgLUXHFr5WzbIdDgnfIy393e3v5ytjvPfnVrwMGsCh5PNXCbbjEtAPpoVvGaPd9V4bgQ7tcNKpZ7V0MoOFjuuKbxZgrLIyl37DQVhPBgp+nKysrcDRizPh/TyVyktl/1mp2sAzSFVgCPCyuYewVjRCr08Fad3NbFFwoOWBwcxNHYzOauwK2yOCzhfIDY58H1PAU/z3X99+d9ftg76u1hEBhHpipUo0AJcCygzjfev8HctxIcTPi8wcOHBjXIP9TGzeiBiN7BuPOH8N7EGCMSPQMJ3iBkDActbdR5XNLs6/QmY2vBwQwYPCwzXV2bB8XNH+cWxRBC91At24QG4VGHF6eWDDV4kxCLw/q1UunjaDU4WOZdhwebtXlv+pkqzhGiDGw6sAPzPCfcqXHODM2AfqY4Su2EgMPqQCrgaF3naFEJ0Yzjf2V8gLfo59YeY2Wx/zR+JjipML+0Zh2WT/DNxpgeFv/+eunNVyRsPwQajDkHx97Vq1fvhd0pztmdAIcJy8LgC3JdCIQhoUGLqijYHBv0rDzBUPO6mw7m0VFfaVHpTD5WBhy45g6W4gox+ZaVntH6poqrBh80M+nc423bNgtqFDQsP+ysfNRgf0OdFo7luSvrUHCgbtMV2/hbsaZ/N/49W26wJjxYKCE91s7ljW8SFvYOyqjEsFP08QBvxY6wRkZdV/VxWh0c46EQrkAoOPAPkUInMfiLue2UxcEMTfPg8bwUAy2NIrern9aHGFPRNDSYJn5bVqGcAiH/2FgvUK8XsSQxhoM57hw4mCnCgw9gm8K0zRM2D5Jo5EJcGBy1dsi2qTwnpTXE4rDmNya3Ssbi6FxTxQrM4MGh6akHVoxxHaFu+usaLere091mp+xqn1bzAgaCWaesmiuuRtNsh4CDdYMhlcFfTEtnwcHM2X/xlN20rBRWMZjmSaHp8RMcAHaEL72tYczI+WXNXjypvIp+D4EGr88tjsGVK1c+L4qviWOdBocjepJjPNicItymDXxo63a7FqWNTSVOgrx/eILvzC5mH6ouOk/HihUoCY6PcV0qrdRu9nH4xUVi01ORSiAsykyLSC9GSoEdtJxEiG/QKkyvQCg4YJEe4ZpkXLHMaSc7R4uKkPBIocOUAJvGc1KUBxtmXvRbk8cGFXy3pcn0133vUHCg7ibliqVecwMOZrbsf3peO2sguGhlcF0msInCF9tSDKk0oVLUpihNIeBgnaUrFvEk41Fhnjrfx+EXHL0t/K9vH3/yf696n6Bg5yfvO0vAqyhJB3ba6ktv0xVRyBgO+0eD+pPMGA7mcu7AwUzzIebDzEKhxyWkIHn9NKEqYNi9mnbDWjpGrZk+feltlDpnj4dYHOZxW11dlcVxVsbm9ggQ9jcQHLRAuA4pVD/lNCsJjNy89H8uvU9bJbWOUT8zem/FV6R4P7R+sT7hmoNLly7dLY6xmaNzaXH4UvNB58JC5UKI2DbXRYHQ4WLX2n7RubMea8tDyXTydX+F0QqMqk+jriA4ED7BddP77UdFVuFxgcMR0x5+wsBCUUHzvDpD6s0U02KA5sqyPkxtchSui+pT4Yn5QYADXu+TD8ad08RvAscE1euGRFFy6LVoQ5BXdnIplQAHrd+k+jeYS4Fjclk3fsaltWqKibOEDTDa0w8bcIfYxED+b9qvVoEQcOTN4KUUwTFX4ziqrQKKTQqEKxDiwcv7N3iT5CwOgSO87HWFFCitQIjFYeCAKzapMRzMvMBRugroQikQpkAINBgzx3DgmsPNzc3Pwu4U/2yBI77GuoMUyBQIBUducXyK65IbNyxwqFJLgZoUCAUHLA68onSS1FuxJpXAYUpoLQUiKxAKDnhV+M3H5Po3KJPAEbmyKHopYAqEgMNcsbg2OY8K8yNwWKlqLQUiKxACDvOoIEkCR+RyUfRSIGkFujKGgyLL4ki6qilxXVEgxNpgnmlx4JrDra2tT1LUQOBIsVSUps4pEAqOfB6Ou4RHimIIHCmWitLUOQVCwQGLg69oJ+mKZeEIHJ2rospQigqUAAeGcJwk2TFKfQWOFGuZ0tQ5BULAwakc4I5dSnUMBwtH4OhcFVWGUlQgBBw2zyjyIYsjxcJUmqRAXQqUccUCNgJHXQWk+0iB1BQIsTaY9twVe3Tt2rWPU8uLpUdNFVNCaykQSYEy4EBSPsd16Xy31NNG4PAE0a4UqFqBUHDwrVikIVlXLPUROKquJYpPCngKhIIDTRVODJts/wazV80suJ5Q2pUCUuCZAiHgMFcsrk4aHLI4npWvtqRAFAVCwMGOUQZ8FCzJeThMIIHDlNBaCkRSIAQcNoYD18jiiFQeilYKJK8AoRECjtwVe3z16tVkXbEUXRZH8lVPCWyzAiHQYD7zpso9XDdIOd8CR8qlo7S1XoES4KArNrlvxfoFIXD4imhfClSoQCg40MeRvCuW8ggcFVYSRSUFfAVCwNEWVyzzKHD4Ja19KVChAiHgMFdsyvNwmDQChymhtRSIoEAZcCwvLyc9hoMyCRwRKouilAJUgNAIAQfHcOD8kytXrtxJXUENOU+9hJS+aAr0+/0e+xXcpcqbhUCD982bKl/gur0q0xEjLoEjhqqKsxUKEBx+4BfUXJC42/65k/ZLgCPZb8X6eR1Wzj9D+1JgjhQYN1MXITIKLEUShYKDr9PjmuT7N5hXgaOoxHVMChQoQBDg5bOCX3qnVooLlhBw5FDq45qk31GxzAscpoTWUmAGBQgJLuMslnHRmysW5wgc44TSb/UrgH9nsDGxeGGRxxUaVcDAActD4Gi0JHTzIQVW+4u91aGjOpCCAuaK3d7e/iiF9ExKg8ZxTFJIv0uBGhTILY77aO7s1HC7mW8hcMwsoSKQArMrwJfbEJKeoNjNpcDhqqFtKdCQAvDGcM7AVvRvUKIgrwp7jUe5oxrSW7eVAq1XgK5YNFX6KX8r1hc5CByEhsDhS6h9KTCbAm3zqDC3aqrMVua6WgrMrICBAxG1pqkicMxc7IpACsymgIEDXQGtcMUytwLHbGWuq6XAzArkYzi+whiOxzNHVlMEAkdNQus2UmCUArA4OM/orVG/p3hc4EixVJSmuVIA4DiCZ6UVb8VawQgcpoTWUqAhBTCGg6/ctqZjlDIJHA1VFt1WClAB9m/A2lho0xgOplvgoAoKUqAhBcyjgtvL4mioDHRbKdA6BQwccMUKHK0rPSVYCjSkQA6Ob7e2th41lIRSt1VTpZRsukgKVKMA34qFtdGat2It1wKHKaG1FGhAAVgcfCu2Va5YyiRwNFBZdEspYArQFQuvSqv6N5h2gcNKUGspULMCNDboisUb5wJHzdrrdlKgtQpwDEce1FQxJbSWAlJgvAK5R4Vz3MjiGC+VfpUCUsAUIDjgUfkOH5n+wY61Za0+jraUlNLZOQUAjta9FWuFIHCYElpLgZoVQB8HXbGtep3eJBI4TAmtpUDNCrTxrViTKGiyYrtIaykgBWZTwFyxiKV1HaPMuSyO2cpfV0uBUgqYR6Xf7wscpRTURVJgDhWwMRzLy8sCxxyWv7IsBUopkLtif9jc3HxQKoKGL1JTpeEC0O3nUwG6YhFa6VFhiZ12jmL02iLaW729vb35LEnlem4UwDR9Pdb1JgNdsRj81bqh5qaZLA5TQmspUKMCuStW4KhRc91KCrRagba7Yim+LI5WV0Elvo0KmCu2jfNwmN4ChymhtRSoSQFzxa6vr7fSFUuZBI6aKotuIwVMgdwV+3BjY+MbO9a2tcDRthJTeluvQN5Uaa21wQIQOFpfDZWBtikAcBy2eQwH9RY42lbrlN7WKwBwLGEsSastjmZHwbS+CigDUiBMATZTYG0s4KrWjuFgjmVxhJW7zpYCMymQ928wjlZbHALHTNVAF0uBMAUMHG12xTLHAkdYuetsKTCTAhzDgXdUnly8ePGrmSJq+GKBo+EC0O3nS4Hc4mh1/wZLTOCYr3qr3DasAMDRelcsJRQ4Gq5Iuv18KQBwwBPbblcsS0zu2Pmqt8qto8B3332XzcuBuWj4NbXTBX0QzlnVbbKZAlfsIuJvtUeFiggc1dULxdRCBQaDQS/vdzhNvQsRbnPSHzs2C1Sc+7S+j0PgOK0u2pg3BS5fvpxlGVZABg8+2Fzo+eB6f3+/hwl3aCWcSmOzhxlIXLBMgooDDlkcp4pqQwq0VAE+8LQqRk0n6MKE2+OgYkBxrRQeI3B4He61s729/WVLpTpNtiyOUym0IQWKFTAYFP1qIDErhfvcZhPItVQIJyw0XT4qiqdtxwSOtpWY0puUAgaVlZWVoXQZVLj+5ptvaNG8j+V/hk5s4QGBo4WFpiRXo8Cnn37aO3fuXA/Dv7M1IVBlMKgwzgcPHvR2dnb+5dVXX92t8h5NxSVwNKW87tu4Anfv3v1XNCv+Dh2gLyIxL8JqeH5tbe0n58+fXyNQXKiM6v+YNhOAxuddgQbzLHBMW/I6r3MKvP766/+NfoeBmzGOs3jnnXf+Busb+C0DCsGCTzW+AKi8CKisG1QMLPjNjWJom30d6PP4eOiHFh8QOFpceEp69QoAFseI9fN8ecu9AwCwAKhc96ECaySDCpo8G9bsMaiw74MfOcM1rXfBuloIHK4a2pYCYxTIvSJ0pXJ51z/17bffvuZDBf0cL8AioeXS+kFfbn5Px9bev3//PQjzdESMe4a2pUA3FTjc2tr6Jer8fh3Zo7WSg6eO2+keUkAKSAEpIAWkgBSQAlJACkgBKSAFpIAUkAJSQApIASkgBaSAFJACUkAKSAEpIAWkgBSQAlJACkgBKSAFpIAUkAJSQApIASkgBaSAFJACUkAKSAEpIAWkgBSQAlJACkgBKSAFpIAUkAJSQApIASkgBaSAFJACUkAKSAEpIAWkgBSQAlJACkgBKSAFpIAUkAJSQApIASkgBaSAFJACUkAKSAEpIAWkgBSQAlJACkgBKVC5Av8Pbqg+XeH87h4AAAAASUVORK5CYII="},CcvO:function(e,t,a){"use strict";function n(e){a("+GfL")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MJ/2");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("dwzl"),o=a.n(s),l=a("a1uP"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-4e9823f3",null);t.default=c.exports},Cgoy:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("a3Yh"),o=n(s),l=a("ZLEe"),d=n(l),u=a("3cXf"),c=n(u),f=a("KH7x"),m=n(f),h=a("4YfN"),v=n(h),p=a("PzEQ"),C=n(p),y=a("u28h"),_=n(y),g=a("kNGm"),b=n(g),w=a("BGNQ"),I=n(w),x=a("SAzG"),D=n(x),P=a("z5TY"),S=n(P),k=a("0AQX"),L=a("I3vJ"),N=a("HyXB"),M=a("bKg5"),T=n(M),A=a("ZQWM"),O=n(A),R=a("9cRV"),j=n(R),B=a("Pb67"),E=n(B),F=a("yt3/"),U=n(F),$=a("luHD"),Q=n($),H=a("CKaN"),V=n(H),q=a("hLfv"),Y=n(q),X=a("VZtf"),G=n(X),W=a("vl8n"),z=n(W),K=a("+WR7"),J=n(K),Z=a("fCs9"),ee=n(Z),te=a("zWMP"),ae=a("Qg39");t.default={name:"ApplyDZYHPCGYSYZFForm",data:function(){return{orderList:{},matterList:[],showDealerPop:!1,dealerInfo:{},contactInfo:{},formData:{biId:"",biComment:""},submitSuccess:!1,taxRate:.16,numMap:{},transCode:"",formViewUniqueId:"fed81800-4c34-44a9-b517-c3fd9f2ab57d",biReferenceId:"",actions:[],taskId:"",showOrderPop:!1,tmpItems:{},matter:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"订单号",value:"transCode"}],cashInfo:{},cashParams:{fundType:"银行存款"},consumables:{},checkFieldList:[{key:"tdQty",message:"请填写数量"}]}},computed:{totalAmount:function(){var e=this,t=0;return this.matterList.forEach(function(a){e.simpleCalcMatter(a),t=(0,te.accAdd)(t,a.noTaxAmount)}),Number(t)},taxAmount:function(){var e=0;return this.matterList.forEach(function(t){e=(0,ae.toFixed)((0,te.accAdd)(e,t.taxAmount))}),e},tdAmount:function(){return parseFloat((0,te.accAdd)(this.totalAmount,Number(this.taxAmount)).toFixed(2))},tdAmountCopy1:function(){var e=this,t=0;return this.matterList.forEach(function(a){var n=a.taxRate||e.taxRate,i=(0,te.accMul)(a.price,a.tdQty,n);t=(0,te.accAdd)(t,(0,te.accAdd)((0,te.accMul)(a.price,a.tdQty),i))}),(0,ae.toFixed)(t)}},watch:{consumables:{handler:function(e){this.simpleCalcMatter(e)},deep:!0}},mixins:[T.default],components:{XTextarea:C.default,Datetime:_.default,PopOrderList:E.default,RNumber:G.default,XInput:D.default,Group:S.default,PopDealerList:O.default,PopMatterList:j.default,PopSingleSelect:U.default,PopMatter:Q.default,RPicker:z.default,PopBaseinfo:J.default,Cell:I.default,RDropdown:ee.default,PopCashList:V.default,DealerOtherPart:Y.default},methods:{selItem:function(e){this.formData=(0,v.default)({},this.formData,e),null!=this.matterParams.data.groupId&&(this.matterParams.data.groupId=e.handlerUnit)},selDealer:function(e){var t=JSON.parse(e),a=(0,m.default)(t,1),n=a[0],i=n.pamentDays,r=i?(0,b.default)(Date.now()+(0,te.accMul)(i,864e5),"YYYY-MM-DD"):"";this.dealerInfo=(0,v.default)({},n,{accountExpirationDate:r,crDealerPaymentTerm:n.paymentTerm,daysOfAccount:n.pamentDays}),null!=this.matterParams.data.dealerCode&&(this.matterParams.data.dealerCode=this.dealerInfo.dealerCode,this.matterList=[],this.orderList={})},selContact:function(e){this.contactInfo=(0,v.default)({},e)},modifyMatter:function(e,t,a){this.consumables=JSON.parse((0,c.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selMatter:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){e.tdQty=e.tdQty||e.qtyBal,e.price=e.price||"",e.taxRate=e.taxRate||.16,e.productionDate=e.productionDate||"",e.validUntil=e.validUntil||"",n[e.transCode]||(n[e.transCode]=[]),t.getMoreUnit(e),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.inventoryCode!==e.inventoryCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,c.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,d.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});i>=0&&(e.$refs.matter.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerCode||(t="请选择供应商"),t||this.dealerInfo.crDealerPaymentTerm||(t="请选择结算方式"),t||this.matterList.length||(t="请选择物料"),t||this.matterList.every(function(n){if(!n.tdQty&&0!==n.tdQty)return t="数量不能为空",!1;var i=n.taxRate||e.taxRate,r=(0,te.accMul)(n.price,n.tdQty,i),s={transMatchedCode:n.transCode,transObjCode:n.inventoryCode,tdProcessing:n.processing,assMeasureUnit:void 0!==n.assMeasureUnit?n.assMeasureUnit:null,expSubject:n.expSubject,thenTotalQtyBal:n.qty,thenLockQty:n.qtyed,thenQtyBal:n.qtyBal||0,tdQty:n.tdQty,assMeasureScale:null,assistQty:n.assistQty||null,price:n.price,taxRate:i,taxAmount:r,tdAmount:(0,te.accAdd)((0,te.accMul)(n.price,n.tdQty),r),processingStartDate:n.processingStartDate||null,keepingDays_transObjCode:n.keepingDays,productionDate:n.productionDate||null,validUntil:n.validUntil||null,comment:n.comment||""};return e.transCode&&(s.tdId=n.tdId||null),a.push(s),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=N.saveAndStartWf,n={},i=(0,o.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});n=(0,v.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",dealerCreditContactPersonName:e.contactInfo.dealerName||"",dealerCreditContactInformation:e.contactInfo.dealerMobilePhone||"",containerInWarehouseManager:null,inPut:{dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName||"供应商",crDealerPaymentTerm:e.dealerInfo.paymentTerm,daysOfAccount:e.dealerInfo.pamentDays,accountExpirationDate:e.dealerInfo.accountExpirationDate,containerCode:"",dataSet:a},outPut:{dataSet:[{fundName_cashOutCode:e.cashInfo.fundName,cashOutCode:e.cashInfo.fundCode,cashType_cashOutCode:e.cashInfo.fundType,thenAmntBalCopy1:e.cashInfo.amntBal,tdAmountCopy1:e.tdAmountCopy1}]}}),e.transCode&&(t=N.saveAndCommitTask,i={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,c.default)(n),wfPara:(0,c.default)(i)};e.transCode||delete r.biReferenceId,e.processCode.length||(t=N.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,k.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=l;var d=s.inPut,u=(s.dealerDebit,s.outPut),c=d.dataSet,f=void 0===c?[]:c,m={},h=[],p=!0,C=!1,y=void 0;try{for(var _,g=(0,r.default)(f);!(p=(_=g.next()).done);p=!0){var b=_.value;b=(0,v.default)({},b,{transCode:b.transMatchedCode,inventoryPic:b.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+b.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:b.inventoryName_transObjCode,inventoryCode:b.transObjCode,specification:b.specification_transObjCode,processing:b.tdProcessing,keepingDays:b.keepingDays_transObjCode,qtyed:b.thenLockQty,qtyBal:b.thenQtyBal,qty:b.thenTotalQtyBal}),e.getMoreUnit(b),m[b.transCode]||(m[b.transCode]=[]),h.push(b),m[b.transCode].push(b)}}catch(e){C=!0,y=e}finally{try{!p&&g.return&&g.return()}finally{if(C)throw y}}e.dealerInfo={creatorName:s.dealerCreditContactPersonName,dealerName:d.dealerName_dealerCodeCredit,dealerMobilePhone:s.dealerCreditContactInformation,dealerCode:d.dealerCodeCredit,dealerLabelName:d.crDealerLabel,province:d.province_dealerCodeCredit,city:d.city_dealerCodeCredit,county:d.county_dealerCodeCredit,address:d.address_dealerCodeCredit,paymentTerm:d.crDealerPaymentTerm,pamentDays:d.daysOfAccount,accountExpirationDate:d.accountExpirationDate||""};var w=!0,I=!1,x=void 0;try{for(var D,P=(0,r.default)(u.dataSet);!(w=(D=P.next()).done);w=!0){var S=D.value;e.cashInfo={fundName:S.fundName_cashOutCode,fundCode:S.cashOutCode,fundType:S.cashType_cashOutCode,amntBal:S.thenAmntBalCopy1}}}catch(e){I=!0,x=e}finally{try{!w&&P.return&&P.return()}finally{if(I)throw x}}e.contactInfo={dealerName:s.dealerCreditContactPersonName,dealerMobilePhone:s.dealerCreditContactInformation},e.matterParams={dealerCode:e.dealerInfo.dealerCode,groupId:e.formData.handlerUnit},e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,v.default)({},e.formData,e.handlerDefault,{creator:s.creator,biId:s.biId,biComment:s.biComment}),e.biReferenceId=s.biReferenceId,e.matterList=h,e.orderList=m,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,o.default)({},"DZYHPCGYSYZF_DATA",{matter:this.matterList,dealer:this.dealerInfo,formData:this.formData,contactInfo:this.contactInfo,cashInfo:this.cashInfo})},getRelationData:function(){var e=this,t=this.$route.query.uniqueId;return(0,k.getSOList)({formViewUniqueId:t,transCode:this.relationKey}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i;t.attachment;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var s=r.order,l=(r.dealerDebit,s.dataSet),d=void 0===l?[]:l;d=d.map(function(t){return(0,v.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,transCode:e.relationKey,qtyBal:t.tdQty,tdQty:""})}),e.dealerInfo={creatorName:r.dealerDebitContactPersonName,dealerMobilePhone:r.dealerDebitContactInformation,dealerCode:r.order.dealerDebit,dealerSubclass:r.order.drAccountSub,dealerName:r.order.dealerName_dealerDebit,province:r.order.province_dealerDebit,city:r.order.city_dealerDebit,county:r.order.county_dealerDebit,address:r.order.address_dealerDebit},e.matterParams={dealerCode:e.dealerInfo.dealerCode,groupId:e.formData.handlerUnit},e.matterList=d,e.orderList=(0,o.default)({},e.relationKey,d),e.$loading.hide()})},getMoreUnit:function(e){var t=e.inventoryCode;return(0,L.getObjInvMoreUnitByInvCode)(t).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;e.showDrop=!1,n.forEach(function(e){e.name=e.invSubUnitName,e.value=e.invSubUnitName}),e.moreUnitList=n})},moreUnitClick:function(e){e.showDrop=!e.showDrop},moreUnitSelected:function(e){this.consumables.assMeasureUnit=e.invSubUnitName,this.consumables.assistQty=e.invSubUnitMulti},selCash:function(e){this.cashInfo=e},assembleOrder:function(e){var t=this,a={};e.forEach(function(e){a[e.transCode]||(a[e.transCode]=[]),t.getMoreUnit(e),a[e.transCode].push(e)}),this.orderList=a}},created:function(){var e=sessionStorage.getItem("DZYHPCGYSYZF_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.dealerInfo=t.dealer,this.formData=t.formData,this.contactInfo=t.contactInfo,this.cashInfo=t.cashInfo,this.matterParams={dealerCode:this.dealerInfo.dealerCode,groupId:this.formData.handlerUnit},this.assembleOrder(this.matterList),sessionStorage.removeItem("DZYHPCGYSYZF_DATA")}}}},Ci8m:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("kNGm"),v=(n(h),a("qE8w")),p=a("I3vJ"),C=a("1KNX"),y=n(C),_=a("7biW"),g=n(_);t.default={name:"PopMatterList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},getListMethod:{type:String,default:"getMatList"},params:{type:Object,default:function(){return{}}},processing:{type:String,default:"成品,商品,服务"},isShowCode:{type:Boolean,default:!0},isShowStock:{type:Boolean,default:!1},filterList:{type:Array,default:function(){return[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"}]}}},components:{Icon:c.default,Popup:m.default,RScroll:y.default,MSearch:g.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],matterList:[],limit:100,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterProperty:"",requestMethods:null}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}},params:{handler:function(){this.resetCondition(),this.requestMethods()},deep:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,d.default)(this.selItems)),this.$emit("input",!1),this.$event.$emit("shut-down-filter",!1)},findIndex:function(e,t){return e.findIndex(function(e){return e.orderCode?e.orderCode===t.orderCode&&e.inventoryCode===t.inventoryCode:e.transCode===t.transCode&&e.inventoryCode===t.inventoryCode})},showSelIcon:function(e){return-1!==this.findIndex(this.tmpItems,e)},selThis:function(e,t){if(this.isShowStock&&0===e.qtyStockBal)return void this.$vux.alert.show({content:"当前订单库存为0，请选择其他订单"});var a=this.tmpItems,n=this.findIndex(a,e);if(-1!==n)return void a.splice(n,1);a.push(e)},cfmMater:function(){this.showPop=!1,this.tmpItems.sort(function(e,t){return t.effectiveTime-e.effectiveTime}),this.selItems=[].concat((0,d.default)(this.tmpItems)),this.$emit("sel-matter",(0,o.default)(this.selItems))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getMatList:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getObjInventoryByProcessing)((0,r.default)({processing:this.processing,limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(e)},this.params)).then(this.dataHandler)},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.resetCondition(),this[this.getListMethod]()},delSelItem:function(e){var t=this.findIndex(this.selItems,e);-1!==t&&this.selItems.splice(t,1),this.tmpItems=[].concat((0,d.default)(this.selItems))},onPullingUp:function(){this.page++,this.requestMethods()},setDefaultValue:function(){this.tmpItems=[].concat((0,d.default)(this.defaultValue)),this.selItems=[].concat((0,d.default)(this.defaultValue))},getObjInventory:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getObjInventory)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(e)}).then(this.dataHandler)},getSumInvBalance:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getSumInvBalance)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,calcRelCode:1406},this.params,{filter:(0,o.default)(e)})).then(this.dataHandler)},getInventory7501:function(){var e=[];this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}]));var t=this.$route.query.relationKey,a=void 0===t?"":t;return a&&(e=[{operator:"eq",value:a,property:"transCode"}]),(0,p.getInventory7501)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit},this.params,{filter:(0,o.default)(e)})).then(this.dataHandler)},getInventory7502:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getInventory7502)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit},this.params,{filter:(0,o.default)(e)})).then(this.dataHandler)},getCKTHCKList:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getCKTHCKList)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit},this.params,{filter:(0,o.default)(e)})).then(this.dataHandler)},getPurchaseInNeeds:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getPurchaseInNeeds)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;r.forEach(function(t){t.inventoryPic=t.inventoryPic?"/H_roleplay-si/ds/download?url="+t.inventoryPic+"&width=400&height=400":e.getDefaultImg(),t.inventoryCode=t.matCode,t.inventoryName=t.invName});var s=e.$route.query.relationKey;(void 0===s?"":s)&&(e.selItems=[].concat((0,d.default)(r)),e.$emit("sel-matter",(0,o.default)(e.selItems))),e.hasNext=n>(e.page-1)*e.limit+r.length,e.matterList=1===e.page?r:[].concat((0,d.default)(e.matterList),(0,d.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},getKCPDList:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getKCPDList)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit},this.params,{filter:(0,o.default)(e)})).then(this.dataHandler)},getLowValueConsumPurchaseOrder:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getLowValueConsumPurchaseOrder)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit},this.params,{filter:(0,o.default)(e)})).then(this.dataHandler)},getLowPriceConsumableInWarehouse:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getLowPriceConsumableInWarehouse)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit},this.params,{filter:(0,o.default)(e)})).then(this.dataHandler)},getProductPriceAllInventory:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getProductPriceAllInventory)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(e)}).then(this.dataHandler)},getSalesContract:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getSalesContract)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(e)},this.params)).then(this.dataHandler)},getInventoryToProcessing:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getInventoryToProcessing)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(e)},this.params)).then(this.dataHandler)},getSalesOrderNew:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getSalesOrderNew)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(e)},this.params)).then(this.dataHandler)},getManyVATBilling:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,v.getManyVATBilling)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(e)},this.params)).then(this.dataHandler)},getManyVATReceipt:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,v.getManyVATReceipt)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(e)},this.params)).then(this.dataHandler)},getEtcPutInStorage:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getEtcPutInStorage)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(e)},this.params)).then(this.dataHandler)},getBillingApplication:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,v.getBillingApplication)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(e)},this.params)).then(this.dataHandler)},dataHandler:function(e){var t=this,a=e.dataCount,n=void 0===a?0:a,i=e.tableContent,r=void 0===i?[]:i;r.forEach(function(e){e.inventoryPic=e.inventoryPic?"/H_roleplay-si/ds/download?url="+e.inventoryPic+"&width=400&height=400":t.getDefaultImg()});var s=this.$route.query.relationKey;(void 0===s?"":s)&&(this.selItems=[].concat((0,d.default)(r)),this.$emit("sel-matter",(0,o.default)(this.selItems))),this.hasNext=n>(this.page-1)*this.limit+r.length,this.matterList=1===this.page?r:[].concat((0,d.default)(this.matterList),(0,d.default)(r)),this.$nextTick(function(){t.$refs.bScroll.finishPullUp()})},resetCondition:function(){this.matterList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)}},created:function(){this.setDefaultValue(),this.requestMethods=this[this.getListMethod],this.requestMethods()}}},Cnf0:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("3cXf"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("bFc7"),p=n(v),C=a("6WeX"),y=n(C),_=a("3NX5"),g=n(_),b=a("zWMP");t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"",contactInfo:{}}},components:{workFlow:h.default,RAction:f.default,contactPart:p.default,PriceTotal:y.default,MatterList:g.default},mixins:[u.default],methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(e.submitInfo=JSON.parse((0,o.default)(t)),!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=!0,i=!1,s=void 0;try{for(var l,d=(0,r.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;u.noTaxAmount=(0,b.accMul)(u.price,u.tdQty),u.taxAmount=(0,b.accMul)(u.noTaxAmount,u.taxRate),u.tdAmount=(0,b.accAdd)(u.noTaxAmount,u.taxAmount),e.count=(0,b.accAdd)(e.count,u.tdAmount),u.inventoryPic=u.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+u.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){i=!0,s=e}finally{try{!n&&d.return&&d.return()}finally{if(i)throw s}}e.orderInfo=t.formData,e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo={creatorName:a.dealerDebitContactPersonName,dealerName:a.dealerName_dealerDebit,dealerMobilePhone:t.dealerDebitContactInformation,dealerCode:a.dealerDebit,dealerLabelName:a.drDealerLabel,province:a.province_dealerDebit,city:a.city_dealerDebit,county:a.county_dealerDebit,address:a.address_dealerDebit,payment:a.drDealerPaymentTerm,logistics:t.drDealerLogisticsTerms}}}}},CnyO:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,"dealer-params":e.dealerParams,defaultContact:e.contactInfo},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("dealer-other-part",{attrs:{"dealer-config":e.dealerConfig,"dealer-info":e.dealerInfo}}),e._v(" "),a("div",{staticClass:"materiel_list"},[Object.keys(e.orderList).length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n,i){return a("div",{key:n,staticClass:"each_mater",class:{"vux-1px-b":i<Object.keys(e.orderList).length-1}},[t.length?a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v(e._s(e.orderListTitle))]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]):e._e(),e._v(" "),e._l(t,function(t,i){return a("div",{key:i,class:{mater_delete:e.matterModifyClass}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass,config:e.matterEditConfig.property},on:{"on-modify":function(a){e.modifyMatter(t,i,n)}},nativeOn:{click:function(a){e.delClick(i,t,n)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[n.price&&n.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price)+"\n                      ")]),e._v(" "),a("div",[a("r-number",{attrs:{num:n.tdQty,max:n.qtyBal,checkAmt:e.checkAmt},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",t)},expression:"item.tdQty"}})],1)]):e._e()]}},{key:"editPart",fn:function(t){var r=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r.price&&r.tdQty&&!e.matterModifyClass,expression:"(item.price && item.tdQty) &&!matterModifyClass"}],staticClass:"edit-part vux-1px-l",on:{click:function(t){e.modifyMatter(r,i,n)}}},[a("span",{staticClass:"iconfont icon-bianji1"})])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(i,t,n)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)})],2)}),0)]:[a("div",{staticClass:"no-matter",on:{click:e.getMatter}},[a("div",{staticClass:"title"},[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择"+e._s(e.orderListTitle))]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),e.matterList.length?a("span",{staticClass:"add_more",on:{click:e.addMatter}},[e._v("新增更多物料")]):e._e()]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showMaterielPop,config:e.matterPopConfig,"matter-params":e.matterParams,"filter-list":e.filterList,"order-title":e.matterPopOrderTitle,"default-value":e.matterList},on:{"sel-matter":e.selMatter},model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}})],2),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,config:e.matterEditConfig},on:{"sel-confirm":e.selConfirm},model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num",class:{nine_up:e.tdAmount.length>8,ten_up:e.tdAmount.length>9,ele_up:e.tdAmount.length>10}},[a("span",{staticClass:"total_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.tdAmount,3))+"\n      ")]),e._v(" "),a("span",{staticClass:"taxAmount"},[e._v("[含税: ￥"+e._s(e._f("numberComma")(e.taxAmount,3))+"]")])]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},CoE1:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MgeX"),r=n(i),s=a("HzJ8"),o=n(s),l=a("a3Yh"),d=n(l),u=a("ZLEe"),c=n(u),f=a("3cXf"),m=n(f),h=a("4YfN"),v=n(h),p=a("PzEQ"),C=n(p),y=a("kNGm"),_=(n(y),a("u28h")),g=n(_),b=a("BGNQ"),w=n(b),I=a("SAzG"),x=n(I),D=a("z5TY"),P=n(D),S=a("0AQX"),k=a("HyXB"),L=a("bKg5"),N=n(L),M=a("9cRV"),T=n(M),A=a("ZQWM"),O=n(A),R=a("yt3/"),j=n(R),B=a("hLfv"),E=n(B),F=a("luHD"),U=n(F),$=a("VZtf"),Q=n($),H=a("vl8n"),V=n(H),q=a("+WR7"),Y=n(q),X=a("zWMP"),G=a("Qg39");t.default={components:{XTextarea:C.default,RNumber:Q.default,Datetime:g.default,XInput:x.default,Group:P.default,PopMatterList:T.default,PopDealerList:O.default,PopSingleSelect:j.default,PopMatter:U.default,RPicker:V.default,PopBaseinfo:Y.default,Cell:w.default,DealerOtherPart:E.default},data:function(){return{listId:"1d52d5ce-d05e-4987-a023-3f4dba68cad9",taxRate:.16,numMap:{},dealer:{},formData:{creator:"",modifer:"",biId:"",biComment:""},dealerInfo:{},contact:{},transMode:[],matterList:[],orderList:{},showMaterielPop:!1,showDealerPop:!1,filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"申请号",value:"transCode"}],consumables:{},checkFieldList:[{key:"tdQty",message:"请填写数量"},{key:"price",message:"请填写单价"},{key:"taxRate",message:"请填写税率"}],modifyKey:null,modifyIndex:null}},mixins:[N.default],computed:{totalAmount:function(){var e=this,t=0;return this.matterList.forEach(function(a){e.simpleCalcMatter(a),t=(0,X.accAdd)(t,a.noTaxAmount)}),Number(t)},taxAmount:function(){var e=0;return this.matterList.forEach(function(t){e=(0,G.toFixed)((0,X.accAdd)(e,t.taxAmount))}),e},tdAmount:function(){return parseFloat((0,X.accAdd)(this.totalAmount,Number(this.taxAmount)).toFixed(2))}},watch:{consumables:{handler:function(e){this.simpleCalcMatter(e)},deep:!0}},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],this.dealerInfo=(0,v.default)({},this.dealerInfo,{daysOfAccount:this.dealerInfo.pamentDays,crDealerPaymentTerm:this.dealerInfo.paymentTerm})},selContact:function(e){this.formData.dealerCreditContactPersonName=e.dealerName,this.formData.dealerCreditContactInformation=e.dealerMobilePhone,this.contact=e},selMatter:function(e){var t=JSON.parse(e),a={};t.forEach(function(e){e.tdQty=e.tdQty||e.qtyBal,e.price=e.price||"",e.taxRate=e.taxRate||.16,a[e.transCode]||(a[e.transCode]=[]),a[e.transCode].push(e)}),this.matterList=t,this.orderList=a},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.inventoryCode!==e.inventoryCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},modifyMatter:function(e,t,a){this.consumables=JSON.parse((0,m.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(t){return t.transCode===e.transCode&&t.inventoryCode===e.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(e)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.transCode===e.transCode&&t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,c.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});i>=0&&(e.$refs.matter.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerCode?0===this.matterList.length&&(t="请选择物料"):t="请选择供应商信息",t||this.matterList.every(function(e){if(!e.price)return t="单价不能为空",!1;if(!e.tdQty)return t="数量不能为空",!1;var n=e.taxRate,i=(0,X.accMul)(e.price,e.tdQty,n);return a.push({tdId:e.tdId||"",transMatchedCode:e.transCode,transObjCode:e.inventoryCode,tdProcessing:e.processing,thenQtyBal:e.qtyBal||0,tdQty:e.tdQty,price:e.price,taxRate:n,taxAmount:i,tdAmount:(0,X.accAdd)((0,X.accMul)(e.price,e.tdQty),i),comment:""}),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=k.saveAndStartWf,n=(0,d.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.biComment,formData:(0,m.default)((0,v.default)({},e.formData,e.dealer,{handlerEntity:e.entity.dealerName,inPut:{dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName||"",crDealerPaymentTerm:e.dealerInfo.paymentTerm,daysOfAccount:e.dealerInfo.pamentDays,dataSet:a}})),wfPara:(0,m.default)(n)};e.isResubmit&&(t=k.saveAndCommitTask,i.biReferenceId=e.biReferenceId),e.processCode.length||(t=k.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,S.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId;var a=t.formData;e.attachment=t.attachment;var n={};a.inPut.dataSet.map(function(t){t=(0,v.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,qtyBal:t.thenQtyBal,transCode:t.transMatchedCode}),n[t.transCode]||(n[t.transCode]=[]),n[t.transCode].push(t),e.matterList.push(t)}),e.orderList=n,e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,v.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),e.dealerInfo={dealerMobilePhone:a.dealerCreditContactInformation,dealerCode:a.inPut.dealerCodeCredit,dealerSubclass:a.inPut.drAccountSub,dealerName:a.inPut.dealerName_dealerCodeCredit,dealerLabelName:a.inPut.crDealerLabel,province:a.inPut.province_dealerCodeCredit,city:a.inPut.city_dealerCodeCredit,county:a.inPut.county_dealerCodeCredit,address:a.inPut.address_dealerCodeCredit,dealerCreditContactPersonName:a.dealerCreditContactPersonName,dealerCreditContactInformation:a.dealerCreditContactInformation,paymentTerm:a.inPut.crDealerPaymentTerm,pamentDays:a.inPut.daysOfAccount},e.contact={dealerMobilePhone:a.dealerCreditContactInformation,dealerName:a.dealerCreditContactPersonName},e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,d.default)({},"DZYHPCGDD_DATA",{orderList:this.orderList,dealerInfo:this.dealerInfo,formData:this.formData,dealer:this.dealer,contact:this.contact})},getRelationData:function(){}},created:function(){var e=sessionStorage.getItem("DZYHPCGDD_DATA"),t=JSON.parse(e);if(e){this.orderList=t.orderList;var a=!0,n=!1,i=void 0;try{for(var s,l=(0,o.default)((0,r.default)(this.orderList));!(a=(s=l.next()).done);a=!0){var d=s.value,u=!0,c=!1,f=void 0;try{for(var m,h=(0,o.default)(d);!(u=(m=h.next()).done);u=!0){var v=m.value;this.matterList.push(v)}}catch(e){c=!0,f=e}finally{try{!u&&h.return&&h.return()}finally{if(c)throw f}}}}catch(e){n=!0,i=e}finally{try{!a&&l.return&&l.return()}finally{if(n)throw i}}this.dealerInfo=t.dealerInfo,this.dealer=t.dealer,this.formData=t.formData,this.contact=t.contact,sessionStorage.removeItem("DZYHPCGDD_DATA")}}}},CpKl:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("IHPB"),o=n(s),l=a("3cXf"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("+62G"),v=n(h),p=a("6q39"),C=n(p),y=a("HyXB"),_=a("1KNX"),g=n(_),b=a("7biW"),w=n(b);t.default={name:"PopManagerList",props:{title:{type:String,default:"项目经理"},defaultValue:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1}},directives:{TransferDom:v.default},components:{Icon:c.default,Popup:m.default,RScroll:g.default,DSearch:w.default,LoadMore:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},computed:{tip:function(){var e="加载中";return this.hasNext||(e="暂无数据"),e}},watch:{defaultValue:function(e){this.setDefaultValue()}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this.getList()},showSelIcon:function(e){return this.selItems.dealerName===e.dealerName},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.$emit("sel-item",(0,d.default)(this.selItems))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:"dealerName"}])),(0,y.getObjDealerByLabelName)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,dealerLabelName:"员工",filter:(0,d.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,o.default)(e.listData),(0,o.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.selItems=this.defaultValue?(0,r.default)({},this.defaultValue):{}},warehouseClick:function(){this.disabled||(this.showPop=!this.showPop)},addWarehouse:function(){this.$router.push({path:"/warehouse/edit_warehouse",query:{add:1}})}},created:function(){this.setDefaultValue(),this.disabled||this.getList()}}},CpUn:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{action:{type:Object,default:{}},goEdit:{type:Function,required:!0}}}},CrUP:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("a3Yh"),o=n(s),l=a("3cXf"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("7g+Q"),C=n(p),y=a("PzEQ"),_=n(y),g=a("jnZd"),b=n(g),w=a("u28h"),I=n(w),x=a("kNGm"),D=n(x),P=a("iR2W"),S=n(P),k=a("0AQX"),L=a("HyXB"),N=(a("jLp1"),a("bKg5")),M=n(N),T=a("wuIh"),A=n(T),O=a("CKaN"),R=n(O),j=a("vl8n"),B=n(j),E=a("+WR7"),F=n(E),U=(a("zWMP"),a("Qg39"));t.default={mixins:[M.default],components:{Cell:c.default,Group:m.default,Popup:C.default,XInput:v.default,XTextarea:_.default,PopupPicker:b.default,RPicker:B.default,PopBaseinfo:F.default,PopMoneyOrderList:A.default,Datetime:I.default,PopCashList:R.default},data:function(){return{listId:"bb9ce973-2f62-4707-a54c-7e8605dc99d6",biReferenceId:"",selectedCost:[],costIndex:0,transCode:"",formData:{biComment:"",biProcessStatus:""},showOrder:!1,orderList:[],cashInfo:{}}},filters:{numberComma:S.default,dateFormat:D.default},methods:{submitOrder:function(){var e=this,t="",a=[];if(t||this.orderList.length||(t="请选择汇票明细"),t||this.cashInfo.fundName||(t="请选择资金账户"),t||this.cashInfo.tdAmount||(t="请填写支付金额"),t)return void this.$vux.alert.show({content:t});this.orderList.every(function(e){a.push({tdId:e.tdId||null,draftNumber:e.draftNumber,draftType:e.draftType,accepter:e.accepter,tdAmount:e.tdAmount,deposit:e.deposit,draftDate:e.draftDate,draftDueDate:e.draftDueDate,comment:e.comment||""})}),this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=L.saveAndStartWf,n=(0,o.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,d.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.formData.biComment,formData:(0,d.default)((0,r.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",outPut:{dataSet:[{fundName_cashOutCode:e.cashInfo.fundName,cashOutCode:e.cashInfo.fundCode,cashType_cashOutCode:e.cashInfo.fundType,thenAmntBal:e.cashInfo.thenAmntBal,tdAmount:e.cashInfo.tdAmount}]},order:{dataSet:a}})),wfPara:(0,d.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=L.saveAndCommitTask),e.processCode.length||(t=L.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,k.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.attachment,n=void 0===a?[]:a,i=t.listId,s=void 0===i?"":i,o=(t.biComment,t.biReferenceId),l=void 0===o?"":o,d=t.formData,u=void 0===d?{}:d;e.attachment=n,e.listId=s,e.biReferenceId=l,e.handlerDefault={handler:u.handler,handlerName:u.handlerName,handlerUnit:u.handlerUnit,handlerUnitName:u.handlerUnitName,handlerRole:u.handlerRole,handlerRoleName:u.handlerRoleName},e.formData=(0,r.default)({},e.formData,e.handlerDefault,{biComment:u.biComment,biId:u.biId,biProcessStatus:u.biProcessStatus,creator:u.creator,modifer:u.modifer});var c=u.order,f=void 0===c?{}:c,m=u.outPut,h=void 0===m?{}:m,v=f.dataSet,p=void 0===v?[]:v;e.cashInfo={fundName:h.dataSet[0].fundName_cashOutCode,fundCode:h.dataSet[0].cashOutCode,fundType:h.dataSet[0].cashType_cashOutCode,thenAmntBal:h.dataSet[0].thenAmntBal,amntBal:h.dataSet[0].thenAmntBal,tdAmount:h.dataSet[0].tdAmount},e.orderList=p,e.$loading.hide()})},hasDraftData:function(){return!!this.orderList.dealerCode&&(0,o.default)({},"DFCDHP_DATA",{formData:this.formData,cashInfo:this.cashInfo,orderList:this.orderList})},getRelationData:function(){},selOrder:function(e){e.forEach(function(e){e.draftDate=(0,D.default)(e.draftDate,"YYYY-MM-DD"),e.draftDueDate=(0,D.default)(e.draftDueDate,"YYYY-MM-DD"),e.tdAmount=e.amntTbMatched}),this.orderList=e},addOrder:function(){this.showOrder=!0},selCash:function(e){this.cashInfo=(0,r.default)({},e,{thenAmntBal:e.amntBal})},checkAmt:function(e){var t=e.tdAmount,a=e.thenAmntBal;t&&(t>a&&(t=a),e.tdAmount=Math.abs((0,U.toFixed)(t)))}},created:function(){var e=sessionStorage.getItem("DFCDHP_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.cashInfo=t.cashInfo,this.orderList=t.orderList,sessionStorage.removeItem("DFCDHP_DATA")}}}},Cs4O:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("a3Yh"),o=n(s),l=a("3cXf"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("7g+Q"),C=n(p),y=a("PzEQ"),_=n(y),g=a("jnZd"),b=n(g),w=a("0AQX"),I=a("HyXB"),x=(a("jLp1"),a("bKg5")),D=n(x),P=a("N2r1"),S=n(P),k=a("vl8n"),L=n(k),N=a("+WR7"),M=n(N),T=a("zWMP"),A=a("Qg39");t.default={mixins:[D.default],components:{Cell:c.default,Group:m.default,Popup:C.default,XInput:v.default,XTextarea:_.default,PopCostList:S.default,PopupPicker:b.default,RPicker:L.default,PopBaseinfo:M.default},data:function(){return{listId:"18800986-a50f-11e8-96a5-005056a136d0",biComment:"",biReferenceId:"",showCostPop:!1,CostList:[{exptName:"",expCode:"",expSubject:"",costType_expCode:"",tdInvoiceType:["普票"],tdAmount:"",noTaxAmount:"",taxRate:.16,taxAmount:"",expCause:""}],invoiceTypeList:[["普票","专票"]],selectedCost:[],costIndex:0,transCode:"",formData:{biComment:"",biProcessStatus:""}}},computed:{totalAmount:function(){var e=0;return this.CostList.forEach(function(t){t.tdAmount&&(e=(0,T.accAdd)(e,t.tdAmount))}),e}},methods:{checkAmt:function(e){var t=e.tdAmount,a=e.taxRate;a&&(e.taxRate=Math.abs((0,A.toFixed)(a))),t&&(e.tdAmount=Math.abs((0,A.toFixed)(t)),e.noTaxAmount=Math.abs((0,A.toFixed)((0,T.accDiv)(e.tdAmount,1+e.taxRate))),e.taxAmount=(0,A.toFixed)((0,T.accSub)(e.tdAmount,e.noTaxAmount)))},getCost:function(e,t){this.showCostPop=!0,this.costIndex=e,this.selectedCost=[t]},addCost:function(){this.expSubjectList=[],this.CostList.push({exptName:"",expCode:"",expSubject:"",costType_expCode:"",tdInvoiceType:["普票"],tdAmount:"",noTaxAmount:"",taxRate:.16,taxAmount:"",expCause:""})},deleteCost:function(){this.CostList.pop()},selMatter:function(e){var t=e;this.CostList[this.costIndex].exptName=t.costName,this.CostList[this.costIndex].expCode=t.costCode,this.CostList[this.costIndex].expSubject=t.costSubject,this.CostList[this.costIndex].costType_expCode=t.costType},submitOrder:function(){var e=this,t="",a=[];if(this.CostList.every(function(e){return e.exptName?e.tdAmount?(a.push({tdId:e.tdId||"",expCode:e.expCode,expSubject:e.expSubject,costType_expCode:e.costType_expCode||"",tdInvoiceType:e.tdInvoiceType[0],tdAmount:e.tdAmount,noTaxAmount:e.noTaxAmount,taxRate:e.taxRate,taxAmount:e.taxAmount,expCause:e.expCause}),!0):(t="请填写申请金额",!1):(t="请选择费用名称",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=I.saveAndStartWf,n=(0,o.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,d.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:"",formData:(0,d.default)((0,r.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{crDealerLabel:"员工",dealerCodeCredit:e.formData.userCode,departmentName:e.formData.handlerUnitName,dataSet:a}})),wfPara:(0,d.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=I.saveAndCommitTask),e.processCode.length||(t=I.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,w.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.attachment=t.attachment,e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.CostList=[];var a=t.formData;e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,r.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),a.order.dataSet.forEach(function(t){var a={exptName:t.costName_expCode,expCode:t.expCode,costType_expCode:t.costType_expCode,expSubject:t.expSubject,tdAmount:t.tdAmount,noTaxAmount:t.noTaxAmount,taxRate:t.taxRate,taxAmount:t.taxAmount,expCause:t.expCause,tdId:t.tdId};e.CostList.push(a)}),e.$loading.hide()})},hasDraftData:function(){var e=!1;return this.CostList.forEach(function(t){if(t.exptName)return e=!0,!1}),!!e&&(0,o.default)({},"FYBX_DATA",{cost:this.CostList,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("FYBX_DATA");if(e){var t=JSON.parse(e);this.CostList=t.cost,this.formData=t.formData,sessionStorage.removeItem("FYBX_DATA")}}}},CwZV:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"matter-list":e.orderInfo.order.dataSet},scopedSlots:e._u([{key:"matterOther",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("单位: "+e._s(n.measureUnit_transObjCode))]),e._v(" "),a("span",[e._v("预期完工日: "+e._s(n.promDeliTime||"无"))])]),e._v(" "),a("div",{staticClass:"mater_num"},[a("span",{staticClass:"num"},[e._v("数量: "+e._s(n.tdQty))])])])]}}])}),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},CxQM:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("3cXf"),o=n(s),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("7g+Q"),C=n(p),y=a("PzEQ"),_=n(y),g=a("jnZd"),b=n(g),w=a("u28h"),I=n(w),x=a("kNGm"),D=n(x),P=a("0AQX"),S=a("HyXB"),k=(a("jLp1"),a("bKg5")),L=n(k),N=a("55ug"),M=n(N),T=a("wuIh"),A=n(T),O=a("vl8n"),R=n(O),j=a("+WR7"),B=n(j),E=a("zWMP"),F=a("Qg39"),U={draftNumber:"",draftType:"",accepter:"",tdAmount:"",draftDate:"",draftDueDate:"",comment:""};t.default={mixins:[L.default],components:{Cell:c.default,Group:m.default,Popup:C.default,XInput:v.default,XTextarea:_.default,PopupPicker:b.default,RPicker:R.default,PopBaseinfo:B.default,PopDealerList:M.default,PopMoneyOrderList:A.default,Datetime:I.default},data:function(){return{listId:"1745ffdd-1b6a-4fe5-9c5b-6e5394bd4faf",biReferenceId:"",selectedCost:[],costIndex:0,transCode:"",formData:{biComment:""},dealerInfo:{},showOrder:!1,orderList:[(0,d.default)({},U)],dealerParams:{dealerLabelName:"客户"},draftTypeList:["银行承兑","商业承兑"]}},computed:{thenTotalAmntBal:function(){var e=0;return this.orderList.forEach(function(t){t.tdAmount&&(e=(0,E.accAdd)(e,t.tdAmount))}),(0,F.toFixed)(e)}},methods:{submitOrder:function(){var e=this,t="",a=[],n=[{key:"draftNumber",message:"请输入汇票号"},{key:"draftType",message:"请选择类型"},{key:"accepter",message:"请输入承兑人"},{key:"tdAmount",message:"请输入金额"},{key:"draftDate",message:"请选择出票日"},{key:"draftDueDate",message:"请选择到期日"}];if(this.dealerInfo.dealerCode||(t="请选择往来"),t||this.orderList.every(function(e){return n.every(function(a){return e[a.key]||0===e[a.key]||(t=a.message),!t}),a.push({tdId:e.tdId||"",draftNumber:e.draftNumber,draftType:e.draftType,accepter:e.accepter,tdAmount:e.tdAmount,draftDate:e.draftDate,draftDueDate:e.draftDueDate,comment:e.comment}),!t}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=S.saveAndStartWf,n=(0,r.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,o.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.formData.biComment,formData:(0,o.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{dealerName_dealerCodeCredit:e.dealerInfo.dealerName,dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName,thenAmntBalCopy2:e.dealerInfo.amntBal,thenAlreadyAmnt:e.thenTotalAmntBal,dataSet:a}})),wfPara:(0,o.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=S.saveAndCommitTask),e.processCode.length||(t=S.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.attachment,n=void 0===a?[]:a,i=t.listId,r=void 0===i?"":i,s=(t.biComment,t.biReferenceId),o=void 0===s?"":s,l=t.formData,u=void 0===l?{}:l;e.attachment=n,e.listId=r,e.biReferenceId=o,e.handlerDefault={handler:u.handler,handlerName:u.handlerName,handlerUnit:u.handlerUnit,handlerUnitName:u.handlerUnitName,handlerRole:u.handlerRole,handlerRoleName:u.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:u.biComment,biId:u.biId,biProcessStatus:u.biProcessStatus,creator:u.creator,modifer:u.modifer});var c=u.order,f=void 0===c?{}:c,m=f.dataSet,h=void 0===m?[]:m;e.dealerInfo={dealerName:f.dealerName_dealerCodeCredit,dealerCode:f.dealerCodeCredit,dealerLabelName:f.crDealerLabel,amntBal:f.thenAmntBalCopy2,thenTotalAmntBal:f.thenAlreadyAmnt},e.orderList=h,e.$loading.hide()})},hasDraftData:function(){return!!this.dealerInfo.dealerCode&&(0,r.default)({},"SDCDHP_DATA",{formData:this.formData,dealerInfo:this.dealerInfo,orderList:this.orderList})},getRelationData:function(){},selDealer:function(e){this.dealerInfo=(0,d.default)({},e)},selOrder:function(e){e.forEach(function(e){e.draftDate=(0,D.default)(e.draftDate,"YYYY-MM-DD"),e.draftDueDate=(0,D.default)(e.draftDueDate,"YYYY-MM-DD")}),this.orderList=e},addOrder:function(){this.orderList.push((0,d.default)({},U))},deleteOrder:function(){this.orderList.pop()},checkAmt:function(e,t){switch(e){case"tdAmountCopy1":this.dealerInfo.tdAmountCopy1=(0,F.toFixed)(this.dealerInfo.tdAmountCopy1);break;default:e[t]=(0,F.toFixed)(e[t])}}},created:function(){var e=sessionStorage.getItem("SDCDHP_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.orderList=t.orderList,sessionStorage.removeItem("SDCDHP_DATA")}}}},D8fo:function(e,t){},D90O:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2558,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"客户名称",value:"dealerName_dealerCodeCredit"}]}},mixins:[i.default],methods:{},created:function(){}}},D9b3:function(e,t,a){"use strict";function n(e){a("wIS+")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("TnC3");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("EzjB"),o=a.n(s),l=a("6mP9"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-687845c3",null);t.default=c.exports},DBVi:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listViewID:2366,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"往来名称",value:"dealerName_dealerDebit"},{name:"设备名称",value:"facilityName_facilityObjCode"}]}},mixins:[i.default],methods:{},created:function(){}}},DHup:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("rVsN"),r=n(i),s=a("4YfN"),o=n(s),l=a("vHT0"),d=n(l),u=a("Iu/6"),c=n(u),f=a("6q39"),m=n(f);t.default={name:"RScroll",components:{Spinner:c.default,LoadMore:m.default},props:{hasNext:{type:Boolean,default:!1},noData:{type:Boolean,default:!1},options:{type:Object,default:function(){return{}}}},data:function(){return{bScroll:null,hasRefresh:!1,refreshDone:!1,pullDownTop:-70}},computed:{tip:function(){var e="加载中";return this.hasNext||(e="暂无数据"),e}},methods:{_initScroll:function(){var e=this,t=(0,o.default)({click:!0,probeType:1},this.options);this.options.pullDownRefresh&&(this.hasRefresh=!0,t.pullDownRefresh={threshold:40,stop:70}),this.options.pullUpLoad&&(t.pullUpLoad={threshold:20}),this.$nextTick(function(){e.bScroll=new d.default(e.$refs.bScroll,t),e.bScroll.on("pullingUp",function(){e.hasNext&&e.$emit("on-pulling-up")}),e.bScroll.on("pullingDown",function(){e.disable(),e.refreshDone=!1,e.$emit("on-pulling-down")}),e.bScroll.on("scroll",function(t){var a=(t.x,t.y);a>0?e.pullDownTop=a>70?0:a-70:e.resetPullDown()})})},refresh:function(){this.bScroll&&this.bScroll.refresh()},enable:function(){this.bScroll&&this.bScroll.enable()},disable:function(){this.bScroll&&this.bScroll.disable()},finishPullDown:function(){var e=this;return new r.default(function(t){e.resetPullDown(),e.bScroll.finishPullDown(),e.enable(),e.refresh(),t()})},finishPullUp:function(){var e=this;return new r.default(function(t){e.bScroll.finishPullUp(),e.refresh(),t()})},scrollTo:function(e,t){this.bScroll&&this.bScroll.scrollTo(e,t,400)},resetPullDown:function(){-70!==this.pullDownTop&&(this.pullDownTop=-70)},destroy:function(){this.bScroll.destroy(),this.bScroll=null}},created:function(){this._initScroll()},beforeDestroy:function(){this.bScroll&&this.destroy()}}},DOKq:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2538}},mixins:[i.default]}},DQPj:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("3cXf"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("bFc7"),p=n(v),C=a("6WeX"),y=n(C),_=a("3NX5"),g=n(_),b=a("zWMP");a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"",contactInfo:{}}},components:{workFlow:h.default,RAction:f.default,contactPart:p.default,PriceTotal:y.default,MatterList:g.default},mixins:[u.default],methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(e.submitInfo=JSON.parse((0,o.default)(t)),!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=!0,i=!1,s=void 0;try{for(var l,d=(0,r.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;e.count=(0,b.accAdd)(e.count,u.tdAmount),u.inventoryPic=u.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+u.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){i=!0,s=e}finally{try{!n&&d.return&&d.return()}finally{if(i)throw s}}e.orderInfo=t.formData,e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"inPut",t=this.orderInfo,a=t[e];console.log(t),this.contactInfo={creatorName:t.dealerDebitContactPersonName,dealerName:a.dataSet[0].dealerName_dealerDebit,dealerMobilePhone:t.dealerDebitContactInformation,dealerContactPersonName:t.dealerDebitContactPersonName,dealerCode:a.dataSet[0].dealerDebit,dealerLabelName:a.dataSet[0].drDealerLabel,province:a.dataSet[0].province_dealerDebit,city:a.dataSet[0].city_dealerDebit,county:a.dataSet[0].county_dealerDebit,address:a.dataSet[0].address_dealerDebit,payment:t.order.drDealerPaymentTerm,daysOfAccount:t.order.daysOfAccount,tdAmountCopy1:a.dataSet[0].tdAmountCopy1,prepaymentDueDate:a.dataSet[0].prepaymentDueDate},console.log(this.contactInfo)}},created:function(){}}},DRTX:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),m=a("89pA"),h=n(m),v=a("hPJo"),p=n(v),C=a("3NX5"),y=n(C);t.default={data:function(){return{orderInfo:{},warehouseIn:{},warehouseOut:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513"}},mixins:[l.default],components:{workFlow:f.default,PopWarehouseList:h.default,RAction:u.default,WarehouseContent:p.default,MatterList:y.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.inPut,n=void 0===a?{}:a,i=n.dataSet,s=!0,o=!1,l=void 0;try{for(var d,u=(0,r.default)(i);!(s=(d=u.next()).done);s=!0){var c=d.value;c.inventoryPic=c.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+c.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){o=!0,l=e}finally{try{!s&&u.return&&u.return()}finally{if(o)throw l}}e.warehouseIn={warehouseCode:n.containerCode,warehouseName:""+n.warehouseName_containerCode,warehouseAction:"入库",warehouseIcon:"icon-ruku",warehouseType:n.warehouseType_containerCode,warehouseProvince:n.warehouseProvince_containerCode,warehouseCity:n.warehouseCity_containerCode,warehouseDistrict:n.warehouseDistrict_containerCode,warehouseAddress:n.warehouseAddress_containerCode},e.warehouseOut={warehouseCode:n.containerCodeOut,warehouseName:""+n.warehouseName_containerCodeOut,warehouseAction:"出库",warehouseIcon:"icon-chuku",warehouseType:n.warehouseType_containerCodeOut,warehouseProvince:n.warehouseProvince_containerCodeOut,warehouseCity:n.warehouseCity_containerCodeOut,warehouseDistrict:n.warehouseDistrict_containerCodeOut,warehouseAddress:n.warehouseAddress_containerCodeOut},e.orderInfo=t.formData,e.workFlowInfoHandler()})}},created:function(){}}},DSiR:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("J0Oq"),o=n(s),l=a("IHPB"),d=n(l),u=a("KH7x"),c=n(u),f=a("4YfN"),m=n(f),h=a("+26s"),v=n(h),p=a("kpbF"),C=a("Qg39"),y={page:1,limit:20,hasNext:!0,listData:[]};t.default={data:function(){return{uniqueId:1e3,showContent:!1,filterArr:[{operator:"like",value:"",property:"cashCode"}],listMap:{}}},computed:{currentItem:function(){var e=this.listView[this.activeIndex].view_id;return this.listMap[e]},currentScroll:function(){return this.$refs.bScroll[this.activeIndex]}},mixins:[v.default],methods:{resetCondition:function(){var e=this.listView[this.activeIndex].view_id;this.listMap[e]=(0,m.default)({},y),this.currentScroll.scrollTo(0,0),this.currentScroll.resetPullDown()},tabClick:function(e,t){this.activeIndex=t,this.activeTab=e.view_name,this.calc_rel_code=e.calc_rel_code,this.view_id=e.view_id,this.currentScroll.scrollTo(0,0),this.resetCondition(),this.listSwiper.slideTo(t)},getClassfiy:function(){var e=this;return(0,p.getListClassfiy)({account_code:this.uniqueId,device_type:"phone"}).then(function(t){var a=t.data,n=void 0===a?[]:a,i=(0,c.default)(n,1),r=i[0],s=void 0===r?{}:r,o={};n.forEach(function(e){o[e.view_id]=(0,m.default)({},y)}),e.listMap=o,e.listView=n,e.activeTab=s.view_name,e.calc_rel_code=s.calc_rel_code,e.view_id=s.view_id,e.$nextTick(function(){e.listSwiper.update()})})},getListData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.currentItem,i=n.page,r=n.limit;return(0,p.getViewList)({user_code:1,page:i,limit:r,view_scope:"data",device_type:"phone",view_id:this.view_id,filter:this.serachVal,calc_rel_code:this.calc_rel_code,start:(i-1)*r}).then(function(n){var s=n.data,o=void 0===s?[]:s,l=n.total,u=void 0===l?0:l,c={"交通银行":a("4TvN"),"建设银行":a("ptJ7"),"中国银行":a("ihcZ"),"招商银行":a("E3CK")};e.currentItem.hasNext=u>(i-1)*r+o.length,o.forEach(function(t){if(t.status=!1,t.cashInOrOut)switch(t.cashInOrOut){case"流入":t.flowIconClass="iconfont icon-shangjiantou",t.flowWordClass="cashIn";break;case"流出":t.flowIconClass="iconfont icon-xiajiantou-copy",t.flowWordClass="cashOut"}e.activeTab.includes("资金账户余额")?t.icon=c[t.bank]:e.activeTab.includes("现金流计划表")&&(t.appIcon="/dist/"+t.appIcon)}),e.listData=1===i?o:e.listData.concat(o),e.currentItem.listData=1===i?o:[].concat((0,d.default)(e.currentItem.listData),(0,d.default)(o)),t||e.$nextTick(function(){e.resetScroll()});var f="";t&&0===e.activeIndex&&e.total&&(f=u-e.total==0?"暂无新数据":f="新增"+(u-e.total)+"条数据",e.$vux.toast.show({text:f,position:"top",width:"50%",type:"text",time:700})),0===e.activeIndex&&1===i&&sessionStorage.setItem(e.applyCode,u),e.$loading.hide()}).catch(function(t){e.resetScroll()})},getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,o.default)(r.default.mark(function a(){return r.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.getView();case 2:return a.next=4,e.getListData(t);case 4:case"end":return a.stop()}},a,e)}))()},resetScroll:function(){this.currentScroll.finishPullDown(),this.currentScroll.finishPullUp()},onPullingUp:function(){this.currentItem.page++,this.getListData()},onPullingDown:function(){this.currentItem.page=1,this.getData(!0)},getData:function(e){var t=this;return(0,o.default)(r.default.mark(function a(){return r.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getSession();case 2:if(!e){a.next=6;break}return a.next=5,t.getList(!0).then(function(){t.$nextTick(function(){t.currentScroll.finishPullDown().then(function(){t.currentScroll.finishPullUp()})})});case 5:return a.abrupt("return");case 6:return a.next=8,t.getList();case 8:case"end":return a.stop()}},a,t)}))()},initSwiper:function(){var e=this;this.$nextTick(function(){e.listSwiper=new e.Swiper(".list-container",{touchAngle:30,on:{slideChangeTransitionStart:function(){var t=e.listSwiper.activeIndex,a=e.listView[t];e.activeIndex=t,e.activeTab=a.view_name,e.calc_rel_code=a.calc_rel_code,e.view_id=a.view_id,e.scrollToShow(t),e.currentItem.listData.length||(e.resetCondition(),e.getListData())}}})})},scrollToShow:function(e){var t=this.$refs.tabContainer,a=parseFloat(getComputedStyle(t).paddingLeft),n=this.$refs.tabs[e];t.scrollLeft=n.offsetLeft-a}},filters:{toFixed:C.toFixed},created:function(){this.initSwiper()}}},DT0P:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("kNGm"),r=(n(i),a("0AQX")),s=a("+VRO"),o=n(s);t.default={data:function(){return{userData:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},uploadStyle:{width:"100%",padding:"0.06rem 0.1rem"}}},mixins:[o.default],methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,r.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=o,e.userData=r,e.workFlowInfoHandler()})},goEdit:function(){var e=this.$route.params,t=e.folder,a=e.fileName,n=this.$route.query.name;this.$router.push({path:"/fillform/"+t+"/"+a,query:{name:n,transCode:this.transCode}})}}}},DTDx:function(e,t,a){"use strict";function n(e){a("2FQK")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Zbco");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("P63M"),o=a.n(s),l=a("lHQV"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-71dc660b",null);t.default=c.exports},DTET:function(e,t,a){"use strict";function n(e){a("G4pH")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("c7LW");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("aZSx"),o=a.n(s),l=a("43aq"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-a496ee82",null);t.default=c.exports},DXZE:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2570}},mixins:[i.default],methods:{},created:function(){}}},DcGI:function(e,t,a){"use strict";function n(e){a("AJqB")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("AU3i");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("X9Vn"),o=a.n(s),l=a("5Bns"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-4ac34e9b",null);t.default=c.exports},DdXg:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"basic-container"},[a("div",{staticClass:"basic-info-main"},[a("header",{staticClass:"basic_header"},[a("div",{staticClass:"basic_title vux-1px-l"},[e._v("经办信息")]),e._v(" "),a("div",{staticClass:"basic_process_status"},[e._v(e._s(e.orderInfo.biProcessStatus||"暂无流程"))])]),e._v(" "),a("div",{staticClass:"basic_top"},[a("div",{staticClass:"basic_code"},[a("span",{staticClass:"basic_code_title"},[e._v("交易号：")]),e._v(e._s(e.orderInfo.transCode)+"\n      ")]),e._v(" "),a("div",{staticClass:"basic_status"},[e._v(e._s(e.orderInfo.biStatus))])]),e._v(" "),a("div",{staticClass:"basic_detail"},[a("div",{staticClass:"basic_detail_wrapper"},[a("div",{staticClass:"basic_detail_item"},[a("span",{staticClass:"basic_detail_title"},[e._v("经办人:")]),e._v(" "),a("span",{staticClass:"basic_detail_value"},[e._v(e._s(e.orderInfo.handlerName))])]),e._v(" "),a("div",{staticClass:"basic_detail_item"},[a("span",{staticClass:"basic_detail_title"},[e._v("经办组织:")]),e._v(" "),a("span",{staticClass:"basic_detail_value"},[e._v(e._s(e.orderInfo.handlerUnitName))])])]),e._v(" "),a("div",{staticClass:"basic_detail_wrapper"},[a("div",{staticClass:"basic_detail_item"},[a("span",{staticClass:"basic_detail_title"},[e._v("创建人:")]),e._v(" "),a("span",{staticClass:"basic_detail_value"},[e._v(e._s(e.orderInfo.creatorName))])]),e._v(" "),a("div",{staticClass:"basic_detail_item"},[a("span",{staticClass:"basic_detail_title"},[e._v("经办职位:")]),e._v(" "),a("span",{staticClass:"basic_detail_value"},[e._v(e._s(e.orderInfo.handlerRoleName))])])]),e._v(" "),a("div",{staticClass:"basic_detail_wrapper handler_entity"},[a("div",{staticClass:"basic_detail_item"},[a("span",{staticClass:"basic_detail_title"},[e._v("经办主体:")]),e._v(" "),a("span",{staticClass:"basic_detail_value"},[e._v(e._s(e.orderInfo.handlerEntityName))])])]),e._v(" "),a("div",{staticClass:"basic_detail_wrapper"},[a("div",{staticClass:"basic_detail_item"},[a("span",{staticClass:"basic_detail_title"},[e._v("修改时间:")]),e._v(" "),a("span",{staticClass:"basic_detail_value"},[e._v(e._s(e._f("dateFormat")(e.orderInfo.modTime,"YYYY-MM-DD HH:mm")))])])])])]),e._v(" "),e.projectInfo.projectName?a("div",{staticClass:"project-container vux-1px-t"},[a("div",{staticClass:"project_title"},[e._v("项目信息")]),e._v(" "),a("div",{staticClass:"project_item"},[a("i",{staticClass:"icon icon-project"}),e._v(" "),a("span",{staticClass:"project_item_title"},[e._v("项目名称: ")]),e._v(" "),a("span",{staticClass:"project_item_value"},[e._v(e._s(e.projectInfo.projectName))])]),e._v(" "),a("div",{staticClass:"project_item"},[a("i",{staticClass:"icon icon-type"}),e._v(" "),a("span",{staticClass:"project_item_title"},[e._v("项目类型: ")]),e._v(" "),a("span",{staticClass:"project_item_value"},[e._v(e._s(e.projectInfo.projectType))])])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},DfE5:function(e,t,a){"use strict";function n(e){a("ge+i")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("DRTX");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("zcWi"),o=a.n(s),l=a("/TpX"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-c4625dfc",null);t.default=c.exports},DfJM:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("vHT0"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{tabShow:!1,choicedTab:"",activeTabIndex:0,tabScroll:null,startY:0}},props:{tabVal:{type:Array,default:[]}},methods:{switchTab:function(e,t){this.choicedTab=e.view_name,this.activeTabIndex=t,this.tabShow=!1,this.$emit("tab-click",e,t)}},watch:{tabVal:{handler:function(e){e.length&&(this.choicedTab=e[0].view_name)}},tabShow:{handler:function(e){var t=this;e?(this.tabScroll.scrollTo(0,this.startY),this.$nextTick(function(){t.tabScroll.refresh()})):this.startY=this.tabScroll.y}}},created:function(){var e=this;this.tabVal.length&&(this.choicedTab=this.tabVal[0].view_name),this.$nextTick(function(){e.tabScroll=new i.default(e.$refs.tabItem,{click:!0})})}}},"DkQ+":function(e,t){},Dkzh:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNoticeByPraise=t.getNotice=t.getAllMsgList=t.getMsgList=void 0;var n=a("GOq4"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.getMsgList=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return i.default.ajax({url:"/H_roleplay-si/ds/getTasksListData"})},t.getAllMsgList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.ajax({url:"/H_roleplay-si/ds/getMyTasksAndLastNode",data:e})},t.getNotice=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.ajax({url:"/H_roleplay-si/ds/getNotice",data:e})},t.getNoticeByPraise=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.ajax({url:"/H_roleplay-si/mobile/getNoticeByPraise",data:e})}},DmCN:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var i,r,s=a("IYkF"),o=n(s),l=a("8zml"),d=n(l),u=a("1Mrq"),c=n(u),f=a("ZLEe"),m=n(f),h=a("hRKE"),v=n(h);!function(n,s){"object"==(0,v.default)(t)&&void 0!==e?e.exports=s():(i=s,void 0!==(r="function"==typeof i?i.call(t,a,t,e):i)&&(e.exports=r))}(0,function(){function e(e,t){var a=[],s=0;if(e&&!t&&e instanceof r)return e;if(e)if("string"==typeof e){var o,l,d=e.trim();if(d.indexOf("<")>=0&&d.indexOf(">")>=0){var u="div";for(0===d.indexOf("<li")&&(u="ul"),0===d.indexOf("<tr")&&(u="tbody"),0!==d.indexOf("<td")&&0!==d.indexOf("<th")||(u="tr"),0===d.indexOf("<tbody")&&(u="table"),0===d.indexOf("<option")&&(u="select"),(l=n.createElement(u)).innerHTML=d,s=0;s<l.childNodes.length;s+=1)a.push(l.childNodes[s])}else for(o=t||"#"!==e[0]||e.match(/[ .<>:~]/)?(t||n).querySelectorAll(e.trim()):[n.getElementById(e.trim().split("#")[1])],s=0;s<o.length;s+=1)o[s]&&a.push(o[s])}else if(e.nodeType||e===i||e===n)a.push(e);else if(e.length>0&&e[0].nodeType)for(s=0;s<e.length;s+=1)a.push(e[s]);return new r(a)}function t(e){for(var t=[],a=0;a<e.length;a+=1)-1===t.indexOf(e[a])&&t.push(e[a]);return t}function a(){var e=this.params,t=this.el;if(!t||0!==t.offsetWidth){e.breakpoints&&this.setBreakpoint();var a=this.allowSlideNext,n=this.allowSlidePrev,i=this.snapGrid;if(this.allowSlideNext=!0,this.allowSlidePrev=!0,this.updateSize(),this.updateSlides(),e.freeMode){var r=Math.min(Math.max(this.translate,this.maxTranslate()),this.minTranslate());this.setTranslate(r),this.updateActiveIndex(),this.updateSlidesClasses(),e.autoHeight&&this.updateAutoHeight()}else this.updateSlidesClasses(),("auto"===e.slidesPerView||e.slidesPerView>1)&&this.isEnd&&!this.params.centeredSlides?this.slideTo(this.slides.length-1,0,!1,!0):this.slideTo(this.activeIndex,0,!1,!0);this.allowSlidePrev=n,this.allowSlideNext=a,this.params.watchOverflow&&i!==this.snapGrid&&this.checkOverflow()}}var n="undefined"==typeof document?{body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},location:{hash:""}}:document,i="undefined"==typeof window?{document:n,navigator:{userAgent:""},location:{},history:{},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){}}:window,r=function(e){for(var t=0;t<e.length;t+=1)this[t]=e[t];return this.length=e.length,this};e.fn=r.prototype,e.Class=r,e.Dom7=r;var s={addClass:function(e){if(void 0===e)return this;for(var t=e.split(" "),a=0;a<t.length;a+=1)for(var n=0;n<this.length;n+=1)void 0!==this[n].classList&&this[n].classList.add(t[a]);return this},removeClass:function(e){for(var t=e.split(" "),a=0;a<t.length;a+=1)for(var n=0;n<this.length;n+=1)void 0!==this[n].classList&&this[n].classList.remove(t[a]);return this},hasClass:function(e){return!!this[0]&&this[0].classList.contains(e)},toggleClass:function(e){for(var t=e.split(" "),a=0;a<t.length;a+=1)for(var n=0;n<this.length;n+=1)void 0!==this[n].classList&&this[n].classList.toggle(t[a]);return this},attr:function(e,t){var a=arguments;if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var n=0;n<this.length;n+=1)if(2===a.length)this[n].setAttribute(e,t);else for(var i in e)this[n][i]=e[i],this[n].setAttribute(i,e[i]);return this},removeAttr:function(e){for(var t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this},data:function(e,t){var a;if(void 0!==t){for(var n=0;n<this.length;n+=1)(a=this[n]).dom7ElementDataStorage||(a.dom7ElementDataStorage={}),a.dom7ElementDataStorage[e]=t;return this}if(a=this[0]){if(a.dom7ElementDataStorage&&e in a.dom7ElementDataStorage)return a.dom7ElementDataStorage[e];return a.getAttribute("data-"+e)||void 0}},transform:function(e){for(var t=0;t<this.length;t+=1){var a=this[t].style;a.webkitTransform=e,a.transform=e}return this},transition:function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t+=1){var a=this[t].style;a.webkitTransitionDuration=e,a.transitionDuration=e}return this},on:function(){function t(t){var a=t.target;if(a){var n=t.target.dom7EventData||[];if(n.unshift(t),e(a).is(o))l.apply(a,n);else for(var i=e(a).parents(),r=0;r<i.length;r+=1)e(i[r]).is(o)&&l.apply(i[r],n)}}function a(e){var t=e&&e.target?e.target.dom7EventData||[]:[];t.unshift(e),l.apply(this,t)}for(var n,i=[],r=arguments.length;r--;)i[r]=arguments[r];var s=i[0],o=i[1],l=i[2],d=i[3];"function"==typeof i[1]&&(s=(n=i)[0],l=n[1],d=n[2],o=void 0),d||(d=!1);for(var u,c=s.split(" "),f=0;f<this.length;f+=1){var m=this[f];if(o)for(u=0;u<c.length;u+=1)m.dom7LiveListeners||(m.dom7LiveListeners=[]),m.dom7LiveListeners.push({type:s,listener:l,proxyListener:t}),m.addEventListener(c[u],t,d);else for(u=0;u<c.length;u+=1)m.dom7Listeners||(m.dom7Listeners=[]),m.dom7Listeners.push({type:s,listener:l,proxyListener:a}),m.addEventListener(c[u],a,d)}return this},off:function(){for(var e,t=[],a=arguments.length;a--;)t[a]=arguments[a];var n=t[0],i=t[1],r=t[2],s=t[3];"function"==typeof t[1]&&(n=(e=t)[0],r=e[1],s=e[2],i=void 0),s||(s=!1);for(var o=n.split(" "),l=0;l<o.length;l+=1)for(var d=0;d<this.length;d+=1){var u=this[d];if(i){if(u.dom7LiveListeners)for(var c=0;c<u.dom7LiveListeners.length;c+=1)r?u.dom7LiveListeners[c].listener===r&&u.removeEventListener(o[l],u.dom7LiveListeners[c].proxyListener,s):u.dom7LiveListeners[c].type===o[l]&&u.removeEventListener(o[l],u.dom7LiveListeners[c].proxyListener,s)}else if(u.dom7Listeners)for(var f=0;f<u.dom7Listeners.length;f+=1)r?u.dom7Listeners[f].listener===r&&u.removeEventListener(o[l],u.dom7Listeners[f].proxyListener,s):u.dom7Listeners[f].type===o[l]&&u.removeEventListener(o[l],u.dom7Listeners[f].proxyListener,s)}return this},trigger:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var a=e[0].split(" "),r=e[1],s=0;s<a.length;s+=1)for(var o=0;o<this.length;o+=1){var l=void 0;try{l=new i.CustomEvent(a[s],{detail:r,bubbles:!0,cancelable:!0})}catch(e){(l=n.createEvent("Event")).initEvent(a[s],!0,!0),l.detail=r}this[o].dom7EventData=e.filter(function(e,t){return t>0}),this[o].dispatchEvent(l),this[o].dom7EventData=[],delete this[o].dom7EventData}return this},transitionEnd:function(e){function t(r){if(r.target===this)for(e.call(this,r),a=0;a<n.length;a+=1)i.off(n[a],t)}var a,n=["webkitTransitionEnd","transitionend"],i=this;if(e)for(a=0;a<n.length;a+=1)i.on(n[a],t);return this},outerWidth:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue("margin-right"))+parseFloat(t.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetHeight+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},offset:function(){if(this.length>0){var e=this[0],t=e.getBoundingClientRect(),a=n.body,r=e.clientTop||a.clientTop||0,s=e.clientLeft||a.clientLeft||0,o=e===i?i.scrollY:e.scrollTop,l=e===i?i.scrollX:e.scrollLeft;return{top:t.top+o-r,left:t.left+l-s}}return null},css:function(e,t){var a;if(1===arguments.length){if("string"!=typeof e){for(a=0;a<this.length;a+=1)for(var n in e)this[a].style[n]=e[n];return this}if(this[0])return i.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(a=0;a<this.length;a+=1)this[a].style[e]=t;return this}return this},each:function(e){if(!e)return this;for(var t=0;t<this.length;t+=1)if(!1===e.call(this[t],t,this[t]))return this;return this},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:void 0;for(var t=0;t<this.length;t+=1)this[t].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t+=1)this[t].textContent=e;return this},is:function(t){var a,s,o=this[0];if(!o||void 0===t)return!1;if("string"==typeof t){if(o.matches)return o.matches(t);if(o.webkitMatchesSelector)return o.webkitMatchesSelector(t);if(o.msMatchesSelector)return o.msMatchesSelector(t);for(a=e(t),s=0;s<a.length;s+=1)if(a[s]===o)return!0;return!1}if(t===n)return o===n;if(t===i)return o===i;if(t.nodeType||t instanceof r){for(a=t.nodeType?[t]:t,s=0;s<a.length;s+=1)if(a[s]===o)return!0;return!1}return!1},index:function(){var e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}},eq:function(e){if(void 0===e)return this;var t,a=this.length;return new r(e>a-1?[]:e<0?(t=a+e)<0?[]:[this[t]]:[this[e]])},append:function(){for(var e,t=[],a=arguments.length;a--;)t[a]=arguments[a];for(var i=0;i<t.length;i+=1){e=t[i];for(var s=0;s<this.length;s+=1)if("string"==typeof e){var o=n.createElement("div");for(o.innerHTML=e;o.firstChild;)this[s].appendChild(o.firstChild)}else if(e instanceof r)for(var l=0;l<e.length;l+=1)this[s].appendChild(e[l]);else this[s].appendChild(e)}return this},prepend:function(e){var t,a;for(t=0;t<this.length;t+=1)if("string"==typeof e){var i=n.createElement("div");for(i.innerHTML=e,a=i.childNodes.length-1;a>=0;a-=1)this[t].insertBefore(i.childNodes[a],this[t].childNodes[0])}else if(e instanceof r)for(a=0;a<e.length;a+=1)this[t].insertBefore(e[a],this[t].childNodes[0]);else this[t].insertBefore(e,this[t].childNodes[0]);return this},next:function(t){return new r(this.length>0?t?this[0].nextElementSibling&&e(this[0].nextElementSibling).is(t)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(t){var a=[],n=this[0];if(!n)return new r([]);for(;n.nextElementSibling;){var i=n.nextElementSibling;t?e(i).is(t)&&a.push(i):a.push(i),n=i}return new r(a)},prev:function(t){if(this.length>0){var a=this[0];return new r(t?a.previousElementSibling&&e(a.previousElementSibling).is(t)?[a.previousElementSibling]:[]:a.previousElementSibling?[a.previousElementSibling]:[])}return new r([])},prevAll:function(t){var a=[],n=this[0];if(!n)return new r([]);for(;n.previousElementSibling;){var i=n.previousElementSibling;t?e(i).is(t)&&a.push(i):a.push(i),n=i}return new r(a)},parent:function(a){for(var n=[],i=0;i<this.length;i+=1)null!==this[i].parentNode&&(a?e(this[i].parentNode).is(a)&&n.push(this[i].parentNode):n.push(this[i].parentNode));return e(t(n))},parents:function(a){for(var n=[],i=0;i<this.length;i+=1)for(var r=this[i].parentNode;r;)a?e(r).is(a)&&n.push(r):n.push(r),r=r.parentNode;return e(t(n))},closest:function(e){var t=this;return void 0===e?new r([]):(t.is(e)||(t=t.parents(e).eq(0)),t)},find:function(e){for(var t=[],a=0;a<this.length;a+=1)for(var n=this[a].querySelectorAll(e),i=0;i<n.length;i+=1)t.push(n[i]);return new r(t)},children:function(a){for(var n=[],i=0;i<this.length;i+=1)for(var s=this[i].childNodes,o=0;o<s.length;o+=1)a?1===s[o].nodeType&&e(s[o]).is(a)&&n.push(s[o]):1===s[o].nodeType&&n.push(s[o]);return new r(t(n))},remove:function(){for(var e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},add:function(){for(var t=[],a=arguments.length;a--;)t[a]=arguments[a];var n,i;for(n=0;n<t.length;n+=1){var r=e(t[n]);for(i=0;i<r.length;i+=1)this[this.length]=r[i],this.length+=1}return this},styles:function(){return this[0]?i.getComputedStyle(this[0],null):{}}};(0,m.default)(s).forEach(function(t){e.fn[t]=s[t]});var l,u,f,h={deleteProps:function(e){var t=e;(0,m.default)(t).forEach(function(e){try{t[e]=null}catch(e){}try{delete t[e]}catch(e){}})},nextTick:function(e,t){return void 0===t&&(t=0),setTimeout(e,t)},now:function(){return Date.now()},getTranslate:function(e,t){var a,n,r;void 0===t&&(t="x");var s=i.getComputedStyle(e,null);return i.WebKitCSSMatrix?((n=s.transform||s.webkitTransform).split(",").length>6&&(n=n.split(", ").map(function(e){return e.replace(",",".")}).join(", ")),r=new i.WebKitCSSMatrix("none"===n?"":n)):a=(r=s.MozTransform||s.OTransform||s.MsTransform||s.msTransform||s.transform||s.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===t&&(n=i.WebKitCSSMatrix?r.m41:16===a.length?parseFloat(a[12]):parseFloat(a[4])),"y"===t&&(n=i.WebKitCSSMatrix?r.m42:16===a.length?parseFloat(a[13]):parseFloat(a[5])),n||0},parseUrlQuery:function(e){var t,a,n,r,s={},o=e||i.location.href;if("string"==typeof o&&o.length)for(r=(a=(o=o.indexOf("?")>-1?o.replace(/\S*\?/,""):"").split("&").filter(function(e){return""!==e})).length,t=0;t<r;t+=1)n=a[t].replace(/#\S+/g,"").split("="),s[decodeURIComponent(n[0])]=void 0===n[1]?void 0:decodeURIComponent(n[1])||"";return s},isObject:function(e){return"object"==(void 0===e?"undefined":(0,v.default)(e))&&null!==e&&e.constructor&&e.constructor===Object},extend:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var a=Object(e[0]),n=1;n<e.length;n+=1){var i=e[n];if(void 0!==i&&null!==i)for(var r=(0,m.default)(Object(i)),s=0,o=r.length;s<o;s+=1){var l=r[s],d=(0,c.default)(i,l);void 0!==d&&d.enumerable&&(h.isObject(a[l])&&h.isObject(i[l])?h.extend(a[l],i[l]):!h.isObject(a[l])&&h.isObject(i[l])?(a[l]={},h.extend(a[l],i[l])):a[l]=i[l])}}return a}},p=(f=n.createElement("div"),{touch:i.Modernizr&&!0===i.Modernizr.touch||!!("ontouchstart"in i||i.DocumentTouch&&n instanceof i.DocumentTouch),pointerEvents:!(!i.navigator.pointerEnabled&&!i.PointerEvent),prefixedPointerEvents:!!i.navigator.msPointerEnabled,transition:"transition"in(u=f.style)||"webkitTransition"in u||"MozTransition"in u,transforms3d:i.Modernizr&&!0===i.Modernizr.csstransforms3d||"webkitPerspective"in(l=f.style)||"MozPerspective"in l||"OPerspective"in l||"MsPerspective"in l||"perspective"in l,flexbox:function(){for(var e=f.style,t="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),a=0;a<t.length;a+=1)if(t[a]in e)return!0;return!1}(),observer:"MutationObserver"in i||"WebkitMutationObserver"in i,passiveListener:function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});i.addEventListener("testPassiveListener",null,t)}catch(e){}return e}(),gestures:"ongesturestart"in i}),C=function(e){void 0===e&&(e={});var t=this;t.params=e,t.eventsListeners={},t.params&&t.params.on&&(0,m.default)(t.params.on).forEach(function(e){t.on(e,t.params.on[e])})},y={components:{configurable:!0}};C.prototype.on=function(e,t,a){var n=this;if("function"!=typeof t)return n;var i=a?"unshift":"push";return e.split(" ").forEach(function(e){n.eventsListeners[e]||(n.eventsListeners[e]=[]),n.eventsListeners[e][i](t)}),n},C.prototype.once=function(e,t,a){var n=this;return"function"!=typeof t?n:n.on(e,function a(){for(var i=[],r=arguments.length;r--;)i[r]=arguments[r];t.apply(n,i),n.off(e,a)},a)},C.prototype.off=function(e,t){var a=this;return a.eventsListeners?(e.split(" ").forEach(function(e){void 0===t?a.eventsListeners[e]=[]:a.eventsListeners[e].forEach(function(n,i){n===t&&a.eventsListeners[e].splice(i,1)})}),a):a},C.prototype.emit=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a,n,i,r=this;return r.eventsListeners?("string"==typeof e[0]||Array.isArray(e[0])?(a=e[0],n=e.slice(1,e.length),i=r):(a=e[0].events,n=e[0].data,i=e[0].context||r),(Array.isArray(a)?a:a.split(" ")).forEach(function(e){if(r.eventsListeners&&r.eventsListeners[e]){var t=[];r.eventsListeners[e].forEach(function(e){t.push(e)}),t.forEach(function(e){e.apply(i,n)})}}),r):r},C.prototype.useModulesParams=function(e){var t=this;t.modules&&(0,m.default)(t.modules).forEach(function(a){var n=t.modules[a];n.params&&h.extend(e,n.params)})},C.prototype.useModules=function(e){void 0===e&&(e={});var t=this;t.modules&&(0,m.default)(t.modules).forEach(function(a){var n=t.modules[a],i=e[a]||{};n.instance&&(0,m.default)(n.instance).forEach(function(e){var a=n.instance[e];t[e]="function"==typeof a?a.bind(t):a}),n.on&&t.on&&(0,m.default)(n.on).forEach(function(e){t.on(e,n.on[e])}),n.create&&n.create.bind(t)(i)})},y.components.set=function(e){this.use&&this.use(e)},C.installModule=function(e){for(var t=[],a=arguments.length-1;a-- >0;)t[a]=arguments[a+1];var n=this;n.prototype.modules||(n.prototype.modules={});var i=e.name||(0,m.default)(n.prototype.modules).length+"_"+h.now();return n.prototype.modules[i]=e,e.proto&&(0,m.default)(e.proto).forEach(function(t){n.prototype[t]=e.proto[t]}),e.static&&(0,m.default)(e.static).forEach(function(t){n[t]=e.static[t]}),e.install&&e.install.apply(n,t),n},C.use=function(e){for(var t=[],a=arguments.length-1;a-- >0;)t[a]=arguments[a+1];var n=this;return Array.isArray(e)?(e.forEach(function(e){return n.installModule(e)}),n):n.installModule.apply(n,[e].concat(t))},(0,d.default)(C,y);var _={updateSize:function(){var e,t,a=this.$el;e=void 0!==this.params.width?this.params.width:a[0].clientWidth,t=void 0!==this.params.height?this.params.height:a[0].clientHeight,0===e&&this.isHorizontal()||0===t&&this.isVertical()||(e=e-parseInt(a.css("padding-left"),10)-parseInt(a.css("padding-right"),10),t=t-parseInt(a.css("padding-top"),10)-parseInt(a.css("padding-bottom"),10),h.extend(this,{width:e,height:t,size:this.isHorizontal()?e:t}))},updateSlides:function(){var e=this.params,t=this.$wrapperEl,a=this.size,n=this.rtlTranslate,r=this.wrongRTL,s=t.children("."+this.params.slideClass),o=this.virtual&&e.virtual.enabled?this.virtual.slides.length:s.length,l=[],d=[],u=[],c=e.slidesOffsetBefore;"function"==typeof c&&(c=e.slidesOffsetBefore.call(this));var f=e.slidesOffsetAfter;"function"==typeof f&&(f=e.slidesOffsetAfter.call(this));var m=o,v=this.snapGrid.length,C=this.snapGrid.length,y=e.spaceBetween,_=-c,g=0,b=0;if(void 0!==a){var w,I;"string"==typeof y&&y.indexOf("%")>=0&&(y=parseFloat(y.replace("%",""))/100*a),this.virtualSize=-y,n?s.css({marginLeft:"",marginTop:""}):s.css({marginRight:"",marginBottom:""}),e.slidesPerColumn>1&&(w=Math.floor(o/e.slidesPerColumn)===o/this.params.slidesPerColumn?o:Math.ceil(o/e.slidesPerColumn)*e.slidesPerColumn,"auto"!==e.slidesPerView&&"row"===e.slidesPerColumnFill&&(w=Math.max(w,e.slidesPerView*e.slidesPerColumn)));for(var x,D=e.slidesPerColumn,P=w/D,S=P-(e.slidesPerColumn*P-o),k=0;k<o;k+=1){I=0;var L=s.eq(k);if(e.slidesPerColumn>1){var N=void 0,M=void 0,T=void 0;"column"===e.slidesPerColumnFill?(T=k-(M=Math.floor(k/D))*D,(M>S||M===S&&T===D-1)&&(T+=1)>=D&&(T=0,M+=1),N=M+T*w/D,L.css({"-webkit-box-ordinal-group":N,"-moz-box-ordinal-group":N,"-ms-flex-order":N,"-webkit-order":N,order:N})):M=k-(T=Math.floor(k/P))*P,L.css("margin-"+(this.isHorizontal()?"top":"left"),0!==T&&e.spaceBetween&&e.spaceBetween+"px").attr("data-swiper-column",M).attr("data-swiper-row",T)}if("none"!==L.css("display")){if("auto"===e.slidesPerView){var A=i.getComputedStyle(L[0],null);I=this.isHorizontal()?L[0].getBoundingClientRect().width+parseFloat(A.getPropertyValue("margin-left"))+parseFloat(A.getPropertyValue("margin-right")):L[0].getBoundingClientRect().height+parseFloat(A.getPropertyValue("margin-top"))+parseFloat(A.getPropertyValue("margin-bottom")),e.roundLengths&&(I=Math.floor(I))}else I=(a-(e.slidesPerView-1)*y)/e.slidesPerView,e.roundLengths&&(I=Math.floor(I)),s[k]&&(this.isHorizontal()?s[k].style.width=I+"px":s[k].style.height=I+"px");s[k]&&(s[k].swiperSlideSize=I),u.push(I),e.centeredSlides?(_=_+I/2+g/2+y,0===g&&0!==k&&(_=_-a/2-y),0===k&&(_=_-a/2-y),Math.abs(_)<.001&&(_=0),b%e.slidesPerGroup==0&&l.push(_),d.push(_)):(b%e.slidesPerGroup==0&&l.push(_),d.push(_),_=_+I+y),this.virtualSize+=I+y,g=I,b+=1}}if(this.virtualSize=Math.max(this.virtualSize,a)+f,n&&r&&("slide"===e.effect||"coverflow"===e.effect)&&t.css({width:this.virtualSize+e.spaceBetween+"px"}),p.flexbox&&!e.setWrapperSize||(this.isHorizontal()?t.css({width:this.virtualSize+e.spaceBetween+"px"}):t.css({height:this.virtualSize+e.spaceBetween+"px"})),e.slidesPerColumn>1&&(this.virtualSize=(I+e.spaceBetween)*w,this.virtualSize=Math.ceil(this.virtualSize/e.slidesPerColumn)-e.spaceBetween,this.isHorizontal()?t.css({width:this.virtualSize+e.spaceBetween+"px"}):t.css({height:this.virtualSize+e.spaceBetween+"px"}),e.centeredSlides)){x=[];for(var O=0;O<l.length;O+=1)l[O]<this.virtualSize+l[0]&&x.push(l[O]);l=x}if(!e.centeredSlides){x=[];for(var R=0;R<l.length;R+=1)l[R]<=this.virtualSize-a&&x.push(l[R]);l=x,Math.floor(this.virtualSize-a)-Math.floor(l[l.length-1])>1&&l.push(this.virtualSize-a)}0===l.length&&(l=[0]),0!==e.spaceBetween&&(this.isHorizontal()?n?s.css({marginLeft:y+"px"}):s.css({marginRight:y+"px"}):s.css({marginBottom:y+"px"})),h.extend(this,{slides:s,snapGrid:l,slidesGrid:d,slidesSizesGrid:u}),o!==m&&this.emit("slidesLengthChange"),l.length!==v&&(this.params.watchOverflow&&this.checkOverflow(),this.emit("snapGridLengthChange")),d.length!==C&&this.emit("slidesGridLengthChange"),(e.watchSlidesProgress||e.watchSlidesVisibility)&&this.updateSlidesOffset()}},updateAutoHeight:function(e){var t,a=[],n=0;if("number"==typeof e?this.setTransition(e):!0===e&&this.setTransition(this.params.speed),"auto"!==this.params.slidesPerView&&this.params.slidesPerView>1)for(t=0;t<Math.ceil(this.params.slidesPerView);t+=1){var i=this.activeIndex+t;if(i>this.slides.length)break;a.push(this.slides.eq(i)[0])}else a.push(this.slides.eq(this.activeIndex)[0]);for(t=0;t<a.length;t+=1)if(void 0!==a[t]){var r=a[t].offsetHeight;n=r>n?r:n}n&&this.$wrapperEl.css("height",n+"px")},updateSlidesOffset:function(){for(var e=this.slides,t=0;t<e.length;t+=1)e[t].swiperSlideOffset=this.isHorizontal()?e[t].offsetLeft:e[t].offsetTop},updateSlidesProgress:function(e){void 0===e&&(e=this.translate||0);var t=this.params,a=this.slides,n=this.rtlTranslate;if(0!==a.length){void 0===a[0].swiperSlideOffset&&this.updateSlidesOffset();var i=-e;n&&(i=e),a.removeClass(t.slideVisibleClass);for(var r=0;r<a.length;r+=1){var s=a[r],o=(i+(t.centeredSlides?this.minTranslate():0)-s.swiperSlideOffset)/(s.swiperSlideSize+t.spaceBetween);if(t.watchSlidesVisibility){var l=-(i-s.swiperSlideOffset),d=l+this.slidesSizesGrid[r];(l>=0&&l<this.size||d>0&&d<=this.size||l<=0&&d>=this.size)&&a.eq(r).addClass(t.slideVisibleClass)}s.progress=n?-o:o}}},updateProgress:function(e){void 0===e&&(e=this.translate||0);var t=this.params,a=this.maxTranslate()-this.minTranslate(),n=this.progress,i=this.isBeginning,r=this.isEnd,s=i,o=r;0===a?(n=0,i=!0,r=!0):(i=(n=(e-this.minTranslate())/a)<=0,r=n>=1),h.extend(this,{progress:n,isBeginning:i,isEnd:r}),(t.watchSlidesProgress||t.watchSlidesVisibility)&&this.updateSlidesProgress(e),i&&!s&&this.emit("reachBeginning toEdge"),r&&!o&&this.emit("reachEnd toEdge"),(s&&!i||o&&!r)&&this.emit("fromEdge"),this.emit("progress",n)},updateSlidesClasses:function(){var e,t=this.slides,a=this.params,n=this.$wrapperEl,i=this.activeIndex,r=this.realIndex,s=this.virtual&&a.virtual.enabled;t.removeClass(a.slideActiveClass+" "+a.slideNextClass+" "+a.slidePrevClass+" "+a.slideDuplicateActiveClass+" "+a.slideDuplicateNextClass+" "+a.slideDuplicatePrevClass),(e=s?this.$wrapperEl.find("."+a.slideClass+'[data-swiper-slide-index="'+i+'"]'):t.eq(i)).addClass(a.slideActiveClass),a.loop&&(e.hasClass(a.slideDuplicateClass)?n.children("."+a.slideClass+":not(."+a.slideDuplicateClass+')[data-swiper-slide-index="'+r+'"]').addClass(a.slideDuplicateActiveClass):n.children("."+a.slideClass+"."+a.slideDuplicateClass+'[data-swiper-slide-index="'+r+'"]').addClass(a.slideDuplicateActiveClass));var o=e.nextAll("."+a.slideClass).eq(0).addClass(a.slideNextClass);a.loop&&0===o.length&&(o=t.eq(0)).addClass(a.slideNextClass);var l=e.prevAll("."+a.slideClass).eq(0).addClass(a.slidePrevClass);a.loop&&0===l.length&&(l=t.eq(-1)).addClass(a.slidePrevClass),a.loop&&(o.hasClass(a.slideDuplicateClass)?n.children("."+a.slideClass+":not(."+a.slideDuplicateClass+')[data-swiper-slide-index="'+o.attr("data-swiper-slide-index")+'"]').addClass(a.slideDuplicateNextClass):n.children("."+a.slideClass+"."+a.slideDuplicateClass+'[data-swiper-slide-index="'+o.attr("data-swiper-slide-index")+'"]').addClass(a.slideDuplicateNextClass),l.hasClass(a.slideDuplicateClass)?n.children("."+a.slideClass+":not(."+a.slideDuplicateClass+')[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(a.slideDuplicatePrevClass):n.children("."+a.slideClass+"."+a.slideDuplicateClass+'[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(a.slideDuplicatePrevClass))},updateActiveIndex:function(e){var t,a=this.rtlTranslate?this.translate:-this.translate,n=this.slidesGrid,i=this.snapGrid,r=this.params,s=this.activeIndex,o=this.realIndex,l=this.snapIndex,d=e;if(void 0===d){for(var u=0;u<n.length;u+=1)void 0!==n[u+1]?a>=n[u]&&a<n[u+1]-(n[u+1]-n[u])/2?d=u:a>=n[u]&&a<n[u+1]&&(d=u+1):a>=n[u]&&(d=u);r.normalizeSlideIndex&&(d<0||void 0===d)&&(d=0)}if((t=i.indexOf(a)>=0?i.indexOf(a):Math.floor(d/r.slidesPerGroup))>=i.length&&(t=i.length-1),d!==s){var c=parseInt(this.slides.eq(d).attr("data-swiper-slide-index")||d,10);h.extend(this,{snapIndex:t,realIndex:c,previousIndex:s,activeIndex:d}),this.emit("activeIndexChange"),this.emit("snapIndexChange"),o!==c&&this.emit("realIndexChange"),this.emit("slideChange")}else t!==l&&(this.snapIndex=t,this.emit("snapIndexChange"))},updateClickedSlide:function(t){var a=this.params,n=e(t.target).closest("."+a.slideClass)[0],i=!1;if(n)for(var r=0;r<this.slides.length;r+=1)this.slides[r]===n&&(i=!0);if(!n||!i)return this.clickedSlide=void 0,void(this.clickedIndex=void 0);this.clickedSlide=n,this.virtual&&this.params.virtual.enabled?this.clickedIndex=parseInt(e(n).attr("data-swiper-slide-index"),10):this.clickedIndex=e(n).index(),a.slideToClickedSlide&&void 0!==this.clickedIndex&&this.clickedIndex!==this.activeIndex&&this.slideToClickedSlide()}},g={getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");var t=this.params,a=this.rtlTranslate,n=this.translate,i=this.$wrapperEl;if(t.virtualTranslate)return a?-n:n;var r=h.getTranslate(i[0],e);return a&&(r=-r),r||0},setTranslate:function(e,t){var a=this.rtlTranslate,n=this.params,i=this.$wrapperEl,r=this.progress,s=0,o=0;this.isHorizontal()?s=a?-e:e:o=e,n.roundLengths&&(s=Math.floor(s),o=Math.floor(o)),n.virtualTranslate||(p.transforms3d?i.transform("translate3d("+s+"px, "+o+"px, 0px)"):i.transform("translate("+s+"px, "+o+"px)")),this.translate=this.isHorizontal()?s:o;var l=this.maxTranslate()-this.minTranslate();(0===l?0:(e-this.minTranslate())/l)!==r&&this.updateProgress(e),this.emit("setTranslate",this.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]}},b={setTransition:function(e,t){this.$wrapperEl.transition(e),this.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);var a=this.activeIndex,n=this.params,i=this.previousIndex;n.autoHeight&&this.updateAutoHeight();var r=t;if(r||(r=a>i?"next":a<i?"prev":"reset"),this.emit("transitionStart"),e&&a!==i){if("reset"===r)return void this.emit("slideResetTransitionStart");this.emit("slideChangeTransitionStart"),"next"===r?this.emit("slideNextTransitionStart"):this.emit("slidePrevTransitionStart")}},transitionEnd:function(e,t){void 0===e&&(e=!0);var a=this.activeIndex,n=this.previousIndex;this.animating=!1,this.setTransition(0);var i=t;if(i||(i=a>n?"next":a<n?"prev":"reset"),this.emit("transitionEnd"),e&&a!==n){if("reset"===i)return void this.emit("slideResetTransitionEnd");this.emit("slideChangeTransitionEnd"),"next"===i?this.emit("slideNextTransitionEnd"):this.emit("slidePrevTransitionEnd")}}},w={slideTo:function(e,t,a,n){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===a&&(a=!0);var i=this,r=e;r<0&&(r=0);var s=i.params,o=i.snapGrid,l=i.slidesGrid,d=i.previousIndex,u=i.activeIndex,c=i.rtlTranslate,f=i.$wrapperEl;if(i.animating&&s.preventIntercationOnTransition)return!1;var m=Math.floor(r/s.slidesPerGroup);m>=o.length&&(m=o.length-1),(u||s.initialSlide||0)===(d||0)&&a&&i.emit("beforeSlideChangeStart");var h,v=-o[m];if(i.updateProgress(v),s.normalizeSlideIndex)for(var C=0;C<l.length;C+=1)-Math.floor(100*v)>=Math.floor(100*l[C])&&(r=C);if(i.initialized&&r!==u){if(!i.allowSlideNext&&v<i.translate&&v<i.minTranslate())return!1;if(!i.allowSlidePrev&&v>i.translate&&v>i.maxTranslate()&&(u||0)!==r)return!1}return h=r>u?"next":r<u?"prev":"reset",c&&-v===i.translate||!c&&v===i.translate?(i.updateActiveIndex(r),s.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),"slide"!==s.effect&&i.setTranslate(v),"reset"!==h&&(i.transitionStart(a,h),i.transitionEnd(a,h)),!1):(0!==t&&p.transition?(i.setTransition(t),i.setTranslate(v),i.updateActiveIndex(r),i.updateSlidesClasses(),i.emit("beforeTransitionStart",t,n),i.transitionStart(a,h),i.animating||(i.animating=!0,f.transitionEnd(function(){i&&!i.destroyed&&i.transitionEnd(a,h)}))):(i.setTransition(0),i.setTranslate(v),i.updateActiveIndex(r),i.updateSlidesClasses(),i.emit("beforeTransitionStart",t,n),i.transitionStart(a,h),i.transitionEnd(a,h)),!0)},slideToLoop:function(e,t,a,n){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===a&&(a=!0);var i=e;return this.params.loop&&(i+=this.loopedSlides),this.slideTo(i,t,a,n)},slideNext:function(e,t,a){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var n=this.params,i=this.animating;return n.loop?!i&&(this.loopFix(),this._clientLeft=this.$wrapperEl[0].clientLeft,this.slideTo(this.activeIndex+n.slidesPerGroup,e,t,a)):this.slideTo(this.activeIndex+n.slidesPerGroup,e,t,a)},slidePrev:function(e,t,a){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var n=this.params,i=this.animating,r=this.snapGrid,s=this.slidesGrid,o=this.rtlTranslate;if(n.loop){if(i)return!1;this.loopFix(),this._clientLeft=this.$wrapperEl[0].clientLeft}var l,d=o?this.translate:-this.translate,u=(r[r.indexOf(d)],r[r.indexOf(d)-1]);return u&&(l=s.indexOf(u))<0&&(l=this.activeIndex-1),this.slideTo(l,e,t,a)},slideReset:function(e,t,a){return void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),this.slideTo(this.activeIndex,e,t,a)},slideToClosest:function(e,t,a){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var n=this.activeIndex,i=Math.floor(n/this.params.slidesPerGroup);if(i<this.snapGrid.length-1){var r=this.rtlTranslate?this.translate:-this.translate,s=this.snapGrid[i];r-s>(this.snapGrid[i+1]-s)/2&&(n=this.params.slidesPerGroup)}return this.slideTo(n,e,t,a)},slideToClickedSlide:function(){var t,a=this,n=a.params,i=a.$wrapperEl,r="auto"===n.slidesPerView?a.slidesPerViewDynamic():n.slidesPerView,s=a.clickedIndex;if(n.loop){if(a.animating)return;t=parseInt(e(a.clickedSlide).attr("data-swiper-slide-index"),10),n.centeredSlides?s<a.loopedSlides-r/2||s>a.slides.length-a.loopedSlides+r/2?(a.loopFix(),s=i.children("."+n.slideClass+'[data-swiper-slide-index="'+t+'"]:not(.'+n.slideDuplicateClass+")").eq(0).index(),h.nextTick(function(){a.slideTo(s)})):a.slideTo(s):s>a.slides.length-r?(a.loopFix(),s=i.children("."+n.slideClass+'[data-swiper-slide-index="'+t+'"]:not(.'+n.slideDuplicateClass+")").eq(0).index(),h.nextTick(function(){a.slideTo(s)})):a.slideTo(s)}else a.slideTo(s)}},I={loopCreate:function(){var t=this,a=t.params,i=t.$wrapperEl;i.children("."+a.slideClass+"."+a.slideDuplicateClass).remove();var r=i.children("."+a.slideClass);if(a.loopFillGroupWithBlank){var s=a.slidesPerGroup-r.length%a.slidesPerGroup;if(s!==a.slidesPerGroup){for(var o=0;o<s;o+=1){var l=e(n.createElement("div")).addClass(a.slideClass+" "+a.slideBlankClass);i.append(l)}r=i.children("."+a.slideClass)}}"auto"!==a.slidesPerView||a.loopedSlides||(a.loopedSlides=r.length),t.loopedSlides=parseInt(a.loopedSlides||a.slidesPerView,10),t.loopedSlides+=a.loopAdditionalSlides,t.loopedSlides>r.length&&(t.loopedSlides=r.length);var d=[],u=[];r.each(function(a,n){var i=e(n);a<t.loopedSlides&&u.push(n),a<r.length&&a>=r.length-t.loopedSlides&&d.push(n),i.attr("data-swiper-slide-index",a)});for(var c=0;c<u.length;c+=1)i.append(e(u[c].cloneNode(!0)).addClass(a.slideDuplicateClass));for(var f=d.length-1;f>=0;f-=1)i.prepend(e(d[f].cloneNode(!0)).addClass(a.slideDuplicateClass))},loopFix:function(){var e,t=this.params,a=this.activeIndex,n=this.slides,i=this.loopedSlides,r=this.allowSlidePrev,s=this.allowSlideNext,o=this.snapGrid,l=this.rtlTranslate;this.allowSlidePrev=!0,this.allowSlideNext=!0;var d=-o[a]-this.getTranslate();a<i?(e=n.length-3*i+a,e+=i,this.slideTo(e,0,!1,!0)&&0!==d&&this.setTranslate((l?-this.translate:this.translate)-d)):("auto"===t.slidesPerView&&a>=2*i||a>n.length-2*t.slidesPerView)&&(e=-n.length+a+i,e+=i,this.slideTo(e,0,!1,!0)&&0!==d&&this.setTranslate((l?-this.translate:this.translate)-d)),this.allowSlidePrev=r,this.allowSlideNext=s},loopDestroy:function(){var e=this.$wrapperEl,t=this.params,a=this.slides;e.children("."+t.slideClass+"."+t.slideDuplicateClass).remove(),a.removeAttr("data-swiper-slide-index")}},x={setGrabCursor:function(e){if(!p.touch&&this.params.simulateTouch){var t=this.el;t.style.cursor="move",t.style.cursor=e?"-webkit-grabbing":"-webkit-grab",t.style.cursor=e?"-moz-grabbin":"-moz-grab",t.style.cursor=e?"grabbing":"grab"}},unsetGrabCursor:function(){p.touch||(this.el.style.cursor="")}},D={appendSlide:function(e){var t=this.$wrapperEl,a=this.params;if(a.loop&&this.loopDestroy(),"object"==(void 0===e?"undefined":(0,v.default)(e))&&"length"in e)for(var n=0;n<e.length;n+=1)e[n]&&t.append(e[n]);else t.append(e);a.loop&&this.loopCreate(),a.observer&&p.observer||this.update()},prependSlide:function(e){var t=this.params,a=this.$wrapperEl,n=this.activeIndex;t.loop&&this.loopDestroy();var i=n+1;if("object"==(void 0===e?"undefined":(0,v.default)(e))&&"length"in e){for(var r=0;r<e.length;r+=1)e[r]&&a.prepend(e[r]);i=n+e.length}else a.prepend(e);t.loop&&this.loopCreate(),t.observer&&p.observer||this.update(),this.slideTo(i,0,!1)},removeSlide:function(e){var t=this.params,a=this.$wrapperEl,n=this.activeIndex;t.loop&&(this.loopDestroy(),this.slides=a.children("."+t.slideClass));var i,r=n;if("object"==(void 0===e?"undefined":(0,v.default)(e))&&"length"in e){for(var s=0;s<e.length;s+=1)i=e[s],this.slides[i]&&this.slides.eq(i).remove(),i<r&&(r-=1);r=Math.max(r,0)}else i=e,this.slides[i]&&this.slides.eq(i).remove(),i<r&&(r-=1),r=Math.max(r,0);t.loop&&this.loopCreate(),t.observer&&p.observer||this.update(),t.loop?this.slideTo(r+this.loopedSlides,0,!1):this.slideTo(r,0,!1)},removeAllSlides:function(){for(var e=[],t=0;t<this.slides.length;t+=1)e.push(t);this.removeSlide(e)}},P=function(){var e=i.navigator.userAgent,t={ios:!1,android:!1,androidChrome:!1,desktop:!1,windows:!1,iphone:!1,ipod:!1,ipad:!1,cordova:i.cordova||i.phonegap,phonegap:i.cordova||i.phonegap},a=e.match(/(Windows Phone);?[\s\/]+([\d.]+)?/),r=e.match(/(Android);?[\s\/]+([\d.]+)?/),s=e.match(/(iPad).*OS\s([\d_]+)/),o=e.match(/(iPod)(.*OS\s([\d_]+))?/),l=!s&&e.match(/(iPhone\sOS|iOS)\s([\d_]+)/);if(a&&(t.os="windows",t.osVersion=a[2],t.windows=!0),r&&!a&&(t.os="android",t.osVersion=r[2],t.android=!0,t.androidChrome=e.toLowerCase().indexOf("chrome")>=0),(s||l||o)&&(t.os="ios",t.ios=!0),l&&!o&&(t.osVersion=l[2].replace(/_/g,"."),t.iphone=!0),s&&(t.osVersion=s[2].replace(/_/g,"."),t.ipad=!0),o&&(t.osVersion=o[3]?o[3].replace(/_/g,"."):null,t.iphone=!0),t.ios&&t.osVersion&&e.indexOf("Version/")>=0&&"10"===t.osVersion.split(".")[0]&&(t.osVersion=e.toLowerCase().split("version/")[1].split(" ")[0]),t.desktop=!(t.os||t.android||t.webView),t.webView=(l||s||o)&&e.match(/.*AppleWebKit(?!.*Safari)/i),t.os&&"ios"===t.os){var d=t.osVersion.split("."),u=n.querySelector('meta[name="viewport"]');t.minimalUi=!t.webView&&(o||l)&&(1*d[0]==7?1*d[1]>=1:1*d[0]>7)&&u&&u.getAttribute("content").indexOf("minimal-ui")>=0}return t.pixelRatio=i.devicePixelRatio||1,t}(),S={attachEvents:function(){var t=this.params,r=this.touchEvents,s=this.el,o=this.wrapperEl;this.onTouchStart=function(t){var a=this.touchEventsData,r=this.params,s=this.touches;if(!this.animating||!r.preventIntercationOnTransition){var o=t;if(o.originalEvent&&(o=o.originalEvent),a.isTouchEvent="touchstart"===o.type,(a.isTouchEvent||!("which"in o)||3!==o.which)&&(!a.isTouched||!a.isMoved))if(r.noSwiping&&e(o.target).closest(r.noSwipingSelector?r.noSwipingSelector:"."+r.noSwipingClass)[0])this.allowClick=!0;else if(!r.swipeHandler||e(o).closest(r.swipeHandler)[0]){s.currentX="touchstart"===o.type?o.targetTouches[0].pageX:o.pageX,s.currentY="touchstart"===o.type?o.targetTouches[0].pageY:o.pageY;var l=s.currentX,d=s.currentY;if(!(P.ios&&!P.cordova&&r.iOSEdgeSwipeDetection&&l<=r.iOSEdgeSwipeThreshold&&l>=i.screen.width-r.iOSEdgeSwipeThreshold)){if(h.extend(a,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),s.startX=l,s.startY=d,a.touchStartTime=h.now(),this.allowClick=!0,this.updateSize(),this.swipeDirection=void 0,r.threshold>0&&(a.allowThresholdMove=!1),"touchstart"!==o.type){var u=!0;e(o.target).is(a.formElements)&&(u=!1),n.activeElement&&e(n.activeElement).is(a.formElements)&&n.activeElement!==o.target&&n.activeElement.blur(),u&&this.allowTouchMove&&o.preventDefault()}this.emit("touchStart",o)}}}}.bind(this),this.onTouchMove=function(t){var a=this.touchEventsData,i=this.params,r=this.touches,s=this.rtlTranslate,o=t;if(o.originalEvent&&(o=o.originalEvent),a.isTouched){if(!a.isTouchEvent||"mousemove"!==o.type){var l="touchmove"===o.type?o.targetTouches[0].pageX:o.pageX,d="touchmove"===o.type?o.targetTouches[0].pageY:o.pageY;if(o.preventedByNestedSwiper)return r.startX=l,void(r.startY=d);if(!this.allowTouchMove)return this.allowClick=!1,void(a.isTouched&&(h.extend(r,{startX:l,startY:d,currentX:l,currentY:d}),a.touchStartTime=h.now()));if(a.isTouchEvent&&i.touchReleaseOnEdges&&!i.loop)if(this.isVertical()){if(d<r.startY&&this.translate<=this.maxTranslate()||d>r.startY&&this.translate>=this.minTranslate())return a.isTouched=!1,void(a.isMoved=!1)}else if(l<r.startX&&this.translate<=this.maxTranslate()||l>r.startX&&this.translate>=this.minTranslate())return;if(a.isTouchEvent&&n.activeElement&&o.target===n.activeElement&&e(o.target).is(a.formElements))return a.isMoved=!0,void(this.allowClick=!1);if(a.allowTouchCallbacks&&this.emit("touchMove",o),!(o.targetTouches&&o.targetTouches.length>1)){r.currentX=l,r.currentY=d;var u,c=r.currentX-r.startX,f=r.currentY-r.startY;if(void 0===a.isScrolling&&(this.isHorizontal()&&r.currentY===r.startY||this.isVertical()&&r.currentX===r.startX?a.isScrolling=!1:c*c+f*f>=25&&(u=180*Math.atan2(Math.abs(f),Math.abs(c))/Math.PI,a.isScrolling=this.isHorizontal()?u>i.touchAngle:90-u>i.touchAngle)),a.isScrolling&&this.emit("touchMoveOpposite",o),"undefined"==typeof startMoving&&(r.currentX===r.startX&&r.currentY===r.startY||(a.startMoving=!0)),a.isScrolling)a.isTouched=!1;else if(a.startMoving){this.allowClick=!1,o.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&o.stopPropagation(),a.isMoved||(i.loop&&this.loopFix(),a.startTranslate=this.getTranslate(),this.setTransition(0),this.animating&&this.$wrapperEl.trigger("webkitTransitionEnd transitionend"),a.allowMomentumBounce=!1,!i.grabCursor||!0!==this.allowSlideNext&&!0!==this.allowSlidePrev||this.setGrabCursor(!0),this.emit("sliderFirstMove",o)),this.emit("sliderMove",o),a.isMoved=!0;var m=this.isHorizontal()?c:f;r.diff=m,m*=i.touchRatio,s&&(m=-m),this.swipeDirection=m>0?"prev":"next",a.currentTranslate=m+a.startTranslate;var v=!0,p=i.resistanceRatio;if(i.touchReleaseOnEdges&&(p=0),m>0&&a.currentTranslate>this.minTranslate()?(v=!1,i.resistance&&(a.currentTranslate=this.minTranslate()-1+Math.pow(-this.minTranslate()+a.startTranslate+m,p))):m<0&&a.currentTranslate<this.maxTranslate()&&(v=!1,i.resistance&&(a.currentTranslate=this.maxTranslate()+1-Math.pow(this.maxTranslate()-a.startTranslate-m,p))),v&&(o.preventedByNestedSwiper=!0),!this.allowSlideNext&&"next"===this.swipeDirection&&a.currentTranslate<a.startTranslate&&(a.currentTranslate=a.startTranslate),!this.allowSlidePrev&&"prev"===this.swipeDirection&&a.currentTranslate>a.startTranslate&&(a.currentTranslate=a.startTranslate),i.threshold>0){if(!(Math.abs(m)>i.threshold||a.allowThresholdMove))return void(a.currentTranslate=a.startTranslate);if(!a.allowThresholdMove)return a.allowThresholdMove=!0,r.startX=r.currentX,r.startY=r.currentY,a.currentTranslate=a.startTranslate,void(r.diff=this.isHorizontal()?r.currentX-r.startX:r.currentY-r.startY)}i.followFinger&&((i.freeMode||i.watchSlidesProgress||i.watchSlidesVisibility)&&(this.updateActiveIndex(),this.updateSlidesClasses()),i.freeMode&&(0===a.velocities.length&&a.velocities.push({position:r[this.isHorizontal()?"startX":"startY"],time:a.touchStartTime}),a.velocities.push({position:r[this.isHorizontal()?"currentX":"currentY"],time:h.now()})),this.updateProgress(a.currentTranslate),this.setTranslate(a.currentTranslate))}}}}else a.startMoving&&a.isScrolling&&this.emit("touchMoveOpposite",o)}.bind(this),this.onTouchEnd=function(e){var t=this,a=t.touchEventsData,n=t.params,i=t.touches,r=t.rtlTranslate,s=t.$wrapperEl,o=t.slidesGrid,l=t.snapGrid,d=e;if(d.originalEvent&&(d=d.originalEvent),a.allowTouchCallbacks&&t.emit("touchEnd",d),a.allowTouchCallbacks=!1,!a.isTouched)return a.isMoved&&n.grabCursor&&t.setGrabCursor(!1),a.isMoved=!1,void(a.startMoving=!1);n.grabCursor&&a.isMoved&&a.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);var u,c=h.now(),f=c-a.touchStartTime;if(t.allowClick&&(t.updateClickedSlide(d),t.emit("tap",d),f<300&&c-a.lastClickTime>300&&(a.clickTimeout&&clearTimeout(a.clickTimeout),a.clickTimeout=h.nextTick(function(){t&&!t.destroyed&&t.emit("click",d)},300)),f<300&&c-a.lastClickTime<300&&(a.clickTimeout&&clearTimeout(a.clickTimeout),t.emit("doubleTap",d))),a.lastClickTime=h.now(),h.nextTick(function(){t.destroyed||(t.allowClick=!0)}),!a.isTouched||!a.isMoved||!t.swipeDirection||0===i.diff||a.currentTranslate===a.startTranslate)return a.isTouched=!1,a.isMoved=!1,void(a.startMoving=!1);if(a.isTouched=!1,a.isMoved=!1,a.startMoving=!1,u=n.followFinger?r?t.translate:-t.translate:-a.currentTranslate,n.freeMode){if(u<-t.minTranslate())return void t.slideTo(t.activeIndex);if(u>-t.maxTranslate())return void(t.slides.length<l.length?t.slideTo(l.length-1):t.slideTo(t.slides.length-1));if(n.freeModeMomentum){if(a.velocities.length>1){var m=a.velocities.pop(),v=a.velocities.pop(),p=m.position-v.position,C=m.time-v.time;t.velocity=p/C,t.velocity/=2,Math.abs(t.velocity)<n.freeModeMinimumVelocity&&(t.velocity=0),(C>150||h.now()-m.time>300)&&(t.velocity=0)}else t.velocity=0;t.velocity*=n.freeModeMomentumVelocityRatio,a.velocities.length=0;var y=1e3*n.freeModeMomentumRatio,_=t.velocity*y,g=t.translate+_;r&&(g=-g);var b,w,I=!1,x=20*Math.abs(t.velocity)*n.freeModeMomentumBounceRatio;if(g<t.maxTranslate())n.freeModeMomentumBounce?(g+t.maxTranslate()<-x&&(g=t.maxTranslate()-x),b=t.maxTranslate(),I=!0,a.allowMomentumBounce=!0):g=t.maxTranslate(),n.loop&&n.centeredSlides&&(w=!0);else if(g>t.minTranslate())n.freeModeMomentumBounce?(g-t.minTranslate()>x&&(g=t.minTranslate()+x),b=t.minTranslate(),I=!0,a.allowMomentumBounce=!0):g=t.minTranslate(),n.loop&&n.centeredSlides&&(w=!0);else if(n.freeModeSticky){for(var D,P=0;P<l.length;P+=1)if(l[P]>-g){D=P;break}g=-(g=Math.abs(l[D]-g)<Math.abs(l[D-1]-g)||"next"===t.swipeDirection?l[D]:l[D-1])}if(w&&t.once("transitionEnd",function(){t.loopFix()}),0!==t.velocity)y=r?Math.abs((-g-t.translate)/t.velocity):Math.abs((g-t.translate)/t.velocity);else if(n.freeModeSticky)return void t.slideToClosest();n.freeModeMomentumBounce&&I?(t.updateProgress(b),t.setTransition(y),t.setTranslate(g),t.transitionStart(!0,t.swipeDirection),t.animating=!0,s.transitionEnd(function(){t&&!t.destroyed&&a.allowMomentumBounce&&(t.emit("momentumBounce"),t.setTransition(n.speed),t.setTranslate(b),s.transitionEnd(function(){t&&!t.destroyed&&t.transitionEnd()}))})):t.velocity?(t.updateProgress(g),t.setTransition(y),t.setTranslate(g),t.transitionStart(!0,t.swipeDirection),t.animating||(t.animating=!0,s.transitionEnd(function(){t&&!t.destroyed&&t.transitionEnd()}))):t.updateProgress(g),t.updateActiveIndex(),t.updateSlidesClasses()}else if(n.freeModeSticky)return void t.slideToClosest();(!n.freeModeMomentum||f>=n.longSwipesMs)&&(t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses())}else{for(var S=0,k=t.slidesSizesGrid[0],L=0;L<o.length;L+=n.slidesPerGroup)void 0!==o[L+n.slidesPerGroup]?u>=o[L]&&u<o[L+n.slidesPerGroup]&&(S=L,k=o[L+n.slidesPerGroup]-o[L]):u>=o[L]&&(S=L,k=o[o.length-1]-o[o.length-2]);var N=(u-o[S])/k;if(f>n.longSwipesMs){if(!n.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(N>=n.longSwipesRatio?t.slideTo(S+n.slidesPerGroup):t.slideTo(S)),"prev"===t.swipeDirection&&(N>1-n.longSwipesRatio?t.slideTo(S+n.slidesPerGroup):t.slideTo(S))}else{if(!n.shortSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&t.slideTo(S+n.slidesPerGroup),"prev"===t.swipeDirection&&t.slideTo(S)}}}.bind(this),this.onClick=function(e){this.allowClick||(this.params.preventClicks&&e.preventDefault(),this.params.preventClicksPropagation&&this.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))}.bind(this);var l="container"===t.touchEventsTarget?s:o,d=!!t.nested;if(p.touch||!p.pointerEvents&&!p.prefixedPointerEvents){if(p.touch){var u=!("touchstart"!==r.start||!p.passiveListener||!t.passiveListeners)&&{passive:!0,capture:!1};l.addEventListener(r.start,this.onTouchStart,u),l.addEventListener(r.move,this.onTouchMove,p.passiveListener?{passive:!1,capture:d}:d),l.addEventListener(r.end,this.onTouchEnd,u)}(t.simulateTouch&&!P.ios&&!P.android||t.simulateTouch&&!p.touch&&P.ios)&&(l.addEventListener("mousedown",this.onTouchStart,!1),n.addEventListener("mousemove",this.onTouchMove,d),n.addEventListener("mouseup",this.onTouchEnd,!1))}else l.addEventListener(r.start,this.onTouchStart,!1),n.addEventListener(r.move,this.onTouchMove,d),n.addEventListener(r.end,this.onTouchEnd,!1);(t.preventClicks||t.preventClicksPropagation)&&l.addEventListener("click",this.onClick,!0),this.on("resize observerUpdate",a,!0)},detachEvents:function(){var e=this.params,t=this.touchEvents,i=this.el,r=this.wrapperEl,s="container"===e.touchEventsTarget?i:r,o=!!e.nested;if(p.touch||!p.pointerEvents&&!p.prefixedPointerEvents){if(p.touch){var l=!("onTouchStart"!==t.start||!p.passiveListener||!e.passiveListeners)&&{passive:!0,capture:!1};s.removeEventListener(t.start,this.onTouchStart,l),s.removeEventListener(t.move,this.onTouchMove,o),s.removeEventListener(t.end,this.onTouchEnd,l)}(e.simulateTouch&&!P.ios&&!P.android||e.simulateTouch&&!p.touch&&P.ios)&&(s.removeEventListener("mousedown",this.onTouchStart,!1),n.removeEventListener("mousemove",this.onTouchMove,o),n.removeEventListener("mouseup",this.onTouchEnd,!1))}else s.removeEventListener(t.start,this.onTouchStart,!1),n.removeEventListener(t.move,this.onTouchMove,o),n.removeEventListener(t.end,this.onTouchEnd,!1);(e.preventClicks||e.preventClicksPropagation)&&s.removeEventListener("click",this.onClick,!0),this.off("resize observerUpdate",a)}},k={setBreakpoint:function(){var e=this.activeIndex,t=this.loopedSlides;void 0===t&&(t=0);var a=this.params,n=a.breakpoints;if(n&&(!n||0!==(0,m.default)(n).length)){var i=this.getBreakpoint(n);if(i&&this.currentBreakpoint!==i){var r=i in n?n[i]:this.originalParams,s=a.loop&&r.slidesPerView!==a.slidesPerView;h.extend(this.params,r),h.extend(this,{allowTouchMove:this.params.allowTouchMove,allowSlideNext:this.params.allowSlideNext,allowSlidePrev:this.params.allowSlidePrev}),this.currentBreakpoint=i,s&&(this.loopDestroy(),this.loopCreate(),this.updateSlides(),this.slideTo(e-t+this.loopedSlides,0,!1)),this.emit("breakpoint",r)}}},getBreakpoint:function(e){if(e){var t=!1,a=[];(0,m.default)(e).forEach(function(e){a.push(e)}),a.sort(function(e,t){return parseInt(e,10)-parseInt(t,10)});for(var n=0;n<a.length;n+=1){var r=a[n];r>=i.innerWidth&&!t&&(t=r)}return t||"max"}}},L=function(){return{isIE:!!i.navigator.userAgent.match(/Trident/g)||!!i.navigator.userAgent.match(/MSIE/g),isSafari:(e=i.navigator.userAgent.toLowerCase(),e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(i.navigator.userAgent)};var e}(),N={init:!0,direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,preventIntercationOnTransition:!1,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,watchOverflow:!1,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!0,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0},M={update:_,translate:g,transition:b,slide:w,loop:I,grabCursor:x,manipulation:D,events:S,breakpoints:k,checkOverflow:{checkOverflow:function(){var e=this.isLocked;this.isLocked=1===this.snapGrid.length,this.allowSlideNext=!this.isLocked,this.allowSlidePrev=!this.isLocked,e!==this.isLocked&&this.emit(this.isLocked?"lock":"unlock"),e&&e!==this.isLocked&&(this.isEnd=!1,this.navigation.update())}},classes:{addClasses:function(){var e=this.classNames,t=this.params,a=this.rtl,n=this.$el,i=[];i.push(t.direction),t.freeMode&&i.push("free-mode"),p.flexbox||i.push("no-flexbox"),t.autoHeight&&i.push("autoheight"),a&&i.push("rtl"),t.slidesPerColumn>1&&i.push("multirow"),P.android&&i.push("android"),P.ios&&i.push("ios"),L.isIE&&(p.pointerEvents||p.prefixedPointerEvents)&&i.push("wp8-"+t.direction),i.forEach(function(a){e.push(t.containerModifierClass+a)}),n.addClass(e.join(" "))},removeClasses:function(){var e=this.$el,t=this.classNames;e.removeClass(t.join(" "))}},images:{loadImage:function(e,t,a,n,r,s){function o(){s&&s()}var l;e.complete&&r?o():t?((l=new i.Image).onload=o,l.onerror=o,n&&(l.sizes=n),a&&(l.srcset=a),t&&(l.src=t)):o()},preloadImages:function(){function e(){void 0!==t&&null!==t&&t&&!t.destroyed&&(void 0!==t.imagesLoaded&&(t.imagesLoaded+=1),t.imagesLoaded===t.imagesToLoad.length&&(t.params.updateOnImagesReady&&t.update(),t.emit("imagesReady")))}var t=this;t.imagesToLoad=t.$el.find("img");for(var a=0;a<t.imagesToLoad.length;a+=1){var n=t.imagesToLoad[a];t.loadImage(n,n.currentSrc||n.getAttribute("src"),n.srcset||n.getAttribute("srcset"),n.sizes||n.getAttribute("sizes"),!0,e)}}}},T={},A=function(t){function a(){for(var n,i,r,s=[],o=arguments.length;o--;)s[o]=arguments[o];1===s.length&&s[0].constructor&&s[0].constructor===Object?r=s[0]:(i=(n=s)[0],r=n[1]),r||(r={}),r=h.extend({},r),i&&!r.el&&(r.el=i),t.call(this,r),(0,m.default)(M).forEach(function(e){(0,m.default)(M[e]).forEach(function(t){a.prototype[t]||(a.prototype[t]=M[e][t])})});var l=this;void 0===l.modules&&(l.modules={}),(0,m.default)(l.modules).forEach(function(e){var t=l.modules[e];if(t.params){var a=(0,m.default)(t.params)[0],n=t.params[a];if("object"!=(void 0===n?"undefined":(0,v.default)(n)))return;if(!(a in r&&"enabled"in n))return;!0===r[a]&&(r[a]={enabled:!0}),"object"!=(0,v.default)(r[a])||"enabled"in r[a]||(r[a].enabled=!0),r[a]||(r[a]={enabled:!1})}});var d=h.extend({},N);l.useModulesParams(d),l.params=h.extend({},d,T,r),l.originalParams=h.extend({},l.params),l.passedParams=h.extend({},r),l.$=e;var u=e(l.params.el);if(i=u[0]){if(u.length>1){var c=[];return u.each(function(e,t){var n=h.extend({},r,{el:t});c.push(new a(n))}),c}i.swiper=l,u.data("swiper",l);var f,C,y=u.children("."+l.params.wrapperClass);return h.extend(l,{$el:u,el:i,$wrapperEl:y,wrapperEl:y[0],classNames:[],slides:e(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===l.params.direction},isVertical:function(){return"vertical"===l.params.direction},rtl:"rtl"===i.dir.toLowerCase()||"rtl"===u.css("direction"),rtlTranslate:"horizontal"===l.params.direction&&("rtl"===i.dir.toLowerCase()||"rtl"===u.css("direction")),wrongRTL:"-webkit-box"===y.css("display"),activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,progress:0,velocity:0,animating:!1,allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEvents:(f=["touchstart","touchmove","touchend"],C=["mousedown","mousemove","mouseup"],p.pointerEvents?C=["pointerdown","pointermove","pointerup"]:p.prefixedPointerEvents&&(C=["MSPointerDown","MSPointerMove","MSPointerUp"]),l.touchEventsTouch={start:f[0],move:f[1],end:f[2]},l.touchEventsDesktop={start:C[0],move:C[1],end:C[2]},p.touch||!l.params.simulateTouch?l.touchEventsTouch:l.touchEventsDesktop),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,formElements:"input, select, option, textarea, button, video",lastClickTime:h.now(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.useModules(),l.params.init&&l.init(),l}}t&&(a.__proto__=t),a.prototype=(0,o.default)(t&&t.prototype),a.prototype.constructor=a;var n={extendedDefaults:{configurable:!0},defaults:{configurable:!0},Class:{configurable:!0},$:{configurable:!0}};return a.prototype.slidesPerViewDynamic=function(){var e=this.params,t=this.slides,a=this.slidesGrid,n=this.size,i=this.activeIndex,r=1;if(e.centeredSlides){for(var s,o=t[i].swiperSlideSize,l=i+1;l<t.length;l+=1)t[l]&&!s&&(r+=1,(o+=t[l].swiperSlideSize)>n&&(s=!0));for(var d=i-1;d>=0;d-=1)t[d]&&!s&&(r+=1,(o+=t[d].swiperSlideSize)>n&&(s=!0))}else for(var u=i+1;u<t.length;u+=1)a[u]-a[i]<n&&(r+=1);return r},a.prototype.update=function(){function e(){var e=t.rtlTranslate?-1*t.translate:t.translate,a=Math.min(Math.max(e,t.maxTranslate()),t.minTranslate());t.setTranslate(a),t.updateActiveIndex(),t.updateSlidesClasses()}var t=this;if(t&&!t.destroyed){var a=t.snapGrid,n=t.params;n.breakpoints&&t.setBreakpoint(),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.params.freeMode?(e(),t.params.autoHeight&&t.updateAutoHeight()):(("auto"===t.params.slidesPerView||t.params.slidesPerView>1)&&t.isEnd&&!t.params.centeredSlides?t.slideTo(t.slides.length-1,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0))||e(),n.watchOverflow&&a!==t.snapGrid&&t.checkOverflow(),t.emit("update")}},a.prototype.init=function(){this.initialized||(this.emit("beforeInit"),this.params.breakpoints&&this.setBreakpoint(),this.addClasses(),this.params.loop&&this.loopCreate(),this.updateSize(),this.updateSlides(),this.params.watchOverflow&&this.checkOverflow(),this.params.grabCursor&&this.setGrabCursor(),this.params.preloadImages&&this.preloadImages(),this.params.loop?this.slideTo(this.params.initialSlide+this.loopedSlides,0,this.params.runCallbacksOnInit):this.slideTo(this.params.initialSlide,0,this.params.runCallbacksOnInit),this.attachEvents(),this.initialized=!0,this.emit("init"))},a.prototype.destroy=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);var a=this,n=a.params,i=a.$el,r=a.$wrapperEl,s=a.slides;a.emit("beforeDestroy"),a.initialized=!1,a.detachEvents(),n.loop&&a.loopDestroy(),t&&(a.removeClasses(),i.removeAttr("style"),r.removeAttr("style"),s&&s.length&&s.removeClass([n.slideVisibleClass,n.slideActiveClass,n.slideNextClass,n.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index").removeAttr("data-swiper-column").removeAttr("data-swiper-row")),a.emit("destroy"),(0,m.default)(a.eventsListeners).forEach(function(e){a.off(e)}),!1!==e&&(a.$el[0].swiper=null,a.$el.data("swiper",null),h.deleteProps(a)),a.destroyed=!0},a.extendDefaults=function(e){h.extend(T,e)},n.extendedDefaults.get=function(){return T},n.defaults.get=function(){return N},n.Class.get=function(){return t},n.$.get=function(){return e},(0,d.default)(a,n),a}(C),O={name:"device",proto:{device:P},static:{device:P}},R={name:"support",proto:{support:p},static:{support:p}},j={name:"browser",proto:{browser:L},static:{browser:L}},B={name:"resize",create:function(){var e=this;h.extend(e,{resize:{resizeHandler:function(){e&&!e.destroyed&&e.initialized&&(e.emit("beforeResize"),e.emit("resize"))},orientationChangeHandler:function(){e&&!e.destroyed&&e.initialized&&e.emit("orientationchange")}}})},on:{init:function(){i.addEventListener("resize",this.resize.resizeHandler),i.addEventListener("orientationchange",this.resize.orientationChangeHandler)},destroy:function(){i.removeEventListener("resize",this.resize.resizeHandler),i.removeEventListener("orientationchange",this.resize.orientationChangeHandler)}}},E={func:i.MutationObserver||i.WebkitMutationObserver,attach:function(e,t){void 0===t&&(t={});var a=this,n=new(0,E.func)(function(e){e.forEach(function(e){a.emit("observerUpdate",e)})});n.observe(e,{attributes:void 0===t.attributes||t.attributes,childList:void 0===t.childList||t.childList,characterData:void 0===t.characterData||t.characterData}),a.observer.observers.push(n)},init:function(){if(p.observer&&this.params.observer){if(this.params.observeParents)for(var e=this.$el.parents(),t=0;t<e.length;t+=1)this.observer.attach(e[t]);this.observer.attach(this.$el[0],{childList:!1}),this.observer.attach(this.$wrapperEl[0],{attributes:!1})}},destroy:function(){this.observer.observers.forEach(function(e){e.disconnect()}),this.observer.observers=[]}},F={name:"observer",params:{observer:!1,observeParents:!1},create:function(){h.extend(this,{observer:{init:E.init.bind(this),attach:E.attach.bind(this),destroy:E.destroy.bind(this),observers:[]}})},on:{init:function(){this.observer.init()},destroy:function(){this.observer.destroy()}}},U={update:function(e){function t(){a.updateSlides(),a.updateProgress(),a.updateSlidesClasses(),a.lazy&&a.params.lazy.enabled&&a.lazy.load()}var a=this,n=a.params,i=n.slidesPerView,r=n.slidesPerGroup,s=n.centeredSlides,o=a.virtual,l=o.from,d=o.to,u=o.slides,c=o.slidesGrid,f=o.renderSlide,m=o.offset;a.updateActiveIndex();var v,p,C,y=a.activeIndex||0;v=a.rtlTranslate?"right":a.isHorizontal()?"left":"top",s?(p=Math.floor(i/2)+r,C=Math.floor(i/2)+r):(p=i+(r-1),C=r);var _=Math.max((y||0)-C,0),g=Math.min((y||0)+p,u.length-1),b=(a.slidesGrid[_]||0)-(a.slidesGrid[0]||0);if(h.extend(a.virtual,{from:_,to:g,offset:b,slidesGrid:a.slidesGrid}),l===_&&d===g&&!e)return a.slidesGrid!==c&&b!==m&&a.slides.css(v,b+"px"),void a.updateProgress();if(a.params.virtual.renderExternal)return a.params.virtual.renderExternal.call(a,{offset:b,from:_,to:g,slides:function(){for(var e=[],t=_;t<=g;t+=1)e.push(u[t]);return e}()}),void t();var w=[],I=[];if(e)a.$wrapperEl.find("."+a.params.slideClass).remove();else for(var x=l;x<=d;x+=1)(x<_||x>g)&&a.$wrapperEl.find("."+a.params.slideClass+'[data-swiper-slide-index="'+x+'"]').remove();for(var D=0;D<u.length;D+=1)D>=_&&D<=g&&(void 0===d||e?I.push(D):(D>d&&I.push(D),D<l&&w.push(D)));I.forEach(function(e){a.$wrapperEl.append(f(u[e],e))}),w.sort(function(e,t){return e<t}).forEach(function(e){a.$wrapperEl.prepend(f(u[e],e))}),a.$wrapperEl.children(".swiper-slide").css(v,b+"px"),t()},renderSlide:function(t,a){var n=this.params.virtual;if(n.cache&&this.virtual.cache[a])return this.virtual.cache[a];var i=e(n.renderSlide?n.renderSlide.call(this,t,a):'<div class="'+this.params.slideClass+'" data-swiper-slide-index="'+a+'">'+t+"</div>");return i.attr("data-swiper-slide-index")||i.attr("data-swiper-slide-index",a),n.cache&&(this.virtual.cache[a]=i),i},appendSlide:function(e){this.virtual.slides.push(e),this.virtual.update(!0)},prependSlide:function(e){if(this.virtual.slides.unshift(e),this.params.virtual.cache){var t=this.virtual.cache,a={};(0,m.default)(t).forEach(function(e){a[e+1]=t[e]}),this.virtual.cache=a}this.virtual.update(!0),this.slideNext(0)}},$={name:"virtual",params:{virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null}},create:function(){h.extend(this,{virtual:{update:U.update.bind(this),appendSlide:U.appendSlide.bind(this),prependSlide:U.prependSlide.bind(this),renderSlide:U.renderSlide.bind(this),slides:this.params.virtual.slides,cache:{}}})},on:{beforeInit:function(){if(this.params.virtual.enabled){this.classNames.push(this.params.containerModifierClass+"virtual");var e={watchSlidesProgress:!0};h.extend(this.params,e),h.extend(this.originalParams,e),this.virtual.update()}},setTranslate:function(){this.params.virtual.enabled&&this.virtual.update()}}},Q={handle:function(e){var t=this.rtlTranslate,a=e;a.originalEvent&&(a=a.originalEvent);var r=a.keyCode||a.charCode;if(!this.allowSlideNext&&(this.isHorizontal()&&39===r||this.isVertical()&&40===r))return!1;if(!this.allowSlidePrev&&(this.isHorizontal()&&37===r||this.isVertical()&&38===r))return!1;if(!(a.shiftKey||a.altKey||a.ctrlKey||a.metaKey||n.activeElement&&n.activeElement.nodeName&&("input"===n.activeElement.nodeName.toLowerCase()||"textarea"===n.activeElement.nodeName.toLowerCase()))){if(this.params.keyboard.onlyInViewport&&(37===r||39===r||38===r||40===r)){var s=!1;if(this.$el.parents("."+this.params.slideClass).length>0&&0===this.$el.parents("."+this.params.slideActiveClass).length)return;var o=i.innerWidth,l=i.innerHeight,d=this.$el.offset();t&&(d.left-=this.$el[0].scrollLeft);for(var u=[[d.left,d.top],[d.left+this.width,d.top],[d.left,d.top+this.height],[d.left+this.width,d.top+this.height]],c=0;c<u.length;c+=1){var f=u[c];f[0]>=0&&f[0]<=o&&f[1]>=0&&f[1]<=l&&(s=!0)}if(!s)return}this.isHorizontal()?(37!==r&&39!==r||(a.preventDefault?a.preventDefault():a.returnValue=!1),(39===r&&!t||37===r&&t)&&this.slideNext(),(37===r&&!t||39===r&&t)&&this.slidePrev()):(38!==r&&40!==r||(a.preventDefault?a.preventDefault():a.returnValue=!1),40===r&&this.slideNext(),38===r&&this.slidePrev()),this.emit("keyPress",r)}},enable:function(){this.keyboard.enabled||(e(n).on("keydown",this.keyboard.handle),this.keyboard.enabled=!0)},disable:function(){this.keyboard.enabled&&(e(n).off("keydown",this.keyboard.handle),this.keyboard.enabled=!1)}},H={name:"keyboard",params:{keyboard:{enabled:!1,onlyInViewport:!0}},create:function(){h.extend(this,{keyboard:{enabled:!1,enable:Q.enable.bind(this),disable:Q.disable.bind(this),handle:Q.handle.bind(this)}})},on:{init:function(){this.params.keyboard.enabled&&this.keyboard.enable()},destroy:function(){this.keyboard.enabled&&this.keyboard.disable()}}},V={lastScrollTime:h.now(),event:i.navigator.userAgent.indexOf("firefox")>-1?"DOMMouseScroll":function(){var e="onwheel"in n;if(!e){var t=n.createElement("div");t.setAttribute("onwheel","return;"),e="function"==typeof t.onwheel}return!e&&n.implementation&&n.implementation.hasFeature&&!0!==n.implementation.hasFeature("","")&&(e=n.implementation.hasFeature("Events.wheel","3.0")),e}()?"wheel":"mousewheel",normalize:function(e){var t=0,a=0,n=0,i=0;return"detail"in e&&(a=e.detail),"wheelDelta"in e&&(a=-e.wheelDelta/120),"wheelDeltaY"in e&&(a=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=a,a=0),n=10*t,i=10*a,"deltaY"in e&&(i=e.deltaY),"deltaX"in e&&(n=e.deltaX),(n||i)&&e.deltaMode&&(1===e.deltaMode?(n*=40,i*=40):(n*=800,i*=800)),n&&!t&&(t=n<1?-1:1),i&&!a&&(a=i<1?-1:1),{spinX:t,spinY:a,pixelX:n,pixelY:i}},handleMouseEnter:function(){this.mouseEntered=!0},handleMouseLeave:function(){this.mouseEntered=!1},handle:function(e){var t=e,a=this,n=a.params.mousewheel;if(!a.mouseEntered&&!n.releaseOnEdges)return!0;t.originalEvent&&(t=t.originalEvent);var r=0,s=a.rtlTranslate?-1:1,o=V.normalize(t);if(n.forceToAxis)if(a.isHorizontal()){if(!(Math.abs(o.pixelX)>Math.abs(o.pixelY)))return!0;r=o.pixelX*s}else{if(!(Math.abs(o.pixelY)>Math.abs(o.pixelX)))return!0;r=o.pixelY}else r=Math.abs(o.pixelX)>Math.abs(o.pixelY)?-o.pixelX*s:-o.pixelY;if(0===r)return!0;if(n.invert&&(r=-r),a.params.freeMode){a.params.loop&&a.loopFix();var l=a.getTranslate()+r*n.sensitivity,d=a.isBeginning,u=a.isEnd;if(l>=a.minTranslate()&&(l=a.minTranslate()),l<=a.maxTranslate()&&(l=a.maxTranslate()),a.setTransition(0),a.setTranslate(l),a.updateProgress(),a.updateActiveIndex(),a.updateSlidesClasses(),(!d&&a.isBeginning||!u&&a.isEnd)&&a.updateSlidesClasses(),a.params.freeModeSticky&&(clearTimeout(a.mousewheel.timeout),a.mousewheel.timeout=h.nextTick(function(){a.slideToClosest()},300)),a.emit("scroll",t),a.params.autoplay&&a.params.autoplayDisableOnInteraction&&a.stopAutoplay(),l===a.minTranslate()||l===a.maxTranslate())return!0}else{if(h.now()-a.mousewheel.lastScrollTime>60)if(r<0)if(a.isEnd&&!a.params.loop||a.animating){if(n.releaseOnEdges)return!0}else a.slideNext(),a.emit("scroll",t);else if(a.isBeginning&&!a.params.loop||a.animating){if(n.releaseOnEdges)return!0}else a.slidePrev(),a.emit("scroll",t);a.mousewheel.lastScrollTime=(new i.Date).getTime()}return t.preventDefault?t.preventDefault():t.returnValue=!1,!1},enable:function(){if(!V.event)return!1;if(this.mousewheel.enabled)return!1;var t=this.$el;return"container"!==this.params.mousewheel.eventsTarged&&(t=e(this.params.mousewheel.eventsTarged)),t.on("mouseenter",this.mousewheel.handleMouseEnter),t.on("mouseleave",this.mousewheel.handleMouseLeave),t.on(V.event,this.mousewheel.handle),this.mousewheel.enabled=!0,!0},disable:function(){if(!V.event)return!1;if(!this.mousewheel.enabled)return!1;var t=this.$el;return"container"!==this.params.mousewheel.eventsTarged&&(t=e(this.params.mousewheel.eventsTarged)),t.off(V.event,this.mousewheel.handle),this.mousewheel.enabled=!1,!0}},q={update:function(){var e=this.params.navigation;if(!this.params.loop){var t=this.navigation,a=t.$nextEl,n=t.$prevEl;n&&n.length>0&&(this.isBeginning?n.addClass(e.disabledClass):n.removeClass(e.disabledClass),n[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](e.lockClass)),a&&a.length>0&&(this.isEnd?a.addClass(e.disabledClass):a.removeClass(e.disabledClass),a[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](e.lockClass))}},init:function(){var t,a,n=this,i=n.params.navigation;(i.nextEl||i.prevEl)&&(i.nextEl&&(t=e(i.nextEl),n.params.uniqueNavElements&&"string"==typeof i.nextEl&&t.length>1&&1===n.$el.find(i.nextEl).length&&(t=n.$el.find(i.nextEl))),i.prevEl&&(a=e(i.prevEl),n.params.uniqueNavElements&&"string"==typeof i.prevEl&&a.length>1&&1===n.$el.find(i.prevEl).length&&(a=n.$el.find(i.prevEl))),t&&t.length>0&&t.on("click",function(e){e.preventDefault(),n.isEnd&&!n.params.loop||n.slideNext()}),a&&a.length>0&&a.on("click",function(e){e.preventDefault(),n.isBeginning&&!n.params.loop||n.slidePrev()}),h.extend(n.navigation,{$nextEl:t,nextEl:t&&t[0],$prevEl:a,prevEl:a&&a[0]}))},destroy:function(){var e=this.navigation,t=e.$nextEl,a=e.$prevEl;t&&t.length&&(t.off("click"),t.removeClass(this.params.navigation.disabledClass)),a&&a.length&&(a.off("click"),a.removeClass(this.params.navigation.disabledClass))}},Y={update:function(){var t=this.rtl,a=this.params.pagination;if(a.el&&this.pagination.el&&this.pagination.$el&&0!==this.pagination.$el.length){var n,i=this.virtual&&this.params.virtual.enabled?this.virtual.slides.length:this.slides.length,r=this.pagination.$el,s=this.params.loop?Math.ceil((i-2*this.loopedSlides)/this.params.slidesPerGroup):this.snapGrid.length;if(this.params.loop?((n=Math.ceil((this.activeIndex-this.loopedSlides)/this.params.slidesPerGroup))>i-1-2*this.loopedSlides&&(n-=i-2*this.loopedSlides),n>s-1&&(n-=s),n<0&&"bullets"!==this.params.paginationType&&(n=s+n)):n=void 0!==this.snapIndex?this.snapIndex:this.activeIndex||0,"bullets"===a.type&&this.pagination.bullets&&this.pagination.bullets.length>0){var o,l,d,u=this.pagination.bullets;if(a.dynamicBullets&&(this.pagination.bulletSize=u.eq(0)[this.isHorizontal()?"outerWidth":"outerHeight"](!0),r.css(this.isHorizontal()?"width":"height",this.pagination.bulletSize*(a.dynamicMainBullets+4)+"px"),a.dynamicMainBullets>1&&void 0!==this.previousIndex&&(this.pagination.dynamicBulletIndex+=n-this.previousIndex,this.pagination.dynamicBulletIndex>a.dynamicMainBullets-1?this.pagination.dynamicBulletIndex=a.dynamicMainBullets-1:this.pagination.dynamicBulletIndex<0&&(this.pagination.dynamicBulletIndex=0)),o=n-this.pagination.dynamicBulletIndex,d=((l=o+(Math.min(u.length,a.dynamicMainBullets)-1))+o)/2),u.removeClass(a.bulletActiveClass+" "+a.bulletActiveClass+"-next "+a.bulletActiveClass+"-next-next "+a.bulletActiveClass+"-prev "+a.bulletActiveClass+"-prev-prev "+a.bulletActiveClass+"-main"),r.length>1)u.each(function(t,i){var r=e(i),s=r.index();s===n&&r.addClass(a.bulletActiveClass),a.dynamicBullets&&(s>=o&&s<=l&&r.addClass(a.bulletActiveClass+"-main"),s===o&&r.prev().addClass(a.bulletActiveClass+"-prev").prev().addClass(a.bulletActiveClass+"-prev-prev"),s===l&&r.next().addClass(a.bulletActiveClass+"-next").next().addClass(a.bulletActiveClass+"-next-next"))});else if(u.eq(n).addClass(a.bulletActiveClass),a.dynamicBullets){for(var c=u.eq(o),f=u.eq(l),m=o;m<=l;m+=1)u.eq(m).addClass(a.bulletActiveClass+"-main");c.prev().addClass(a.bulletActiveClass+"-prev").prev().addClass(a.bulletActiveClass+"-prev-prev"),f.next().addClass(a.bulletActiveClass+"-next").next().addClass(a.bulletActiveClass+"-next-next")}if(a.dynamicBullets){var h=Math.min(u.length,a.dynamicMainBullets+4),v=(this.pagination.bulletSize*h-this.pagination.bulletSize)/2-d*this.pagination.bulletSize,p=t?"right":"left";u.css(this.isHorizontal()?p:"top",v+"px")}}if("fraction"===a.type&&(r.find("."+a.currentClass).text(n+1),r.find("."+a.totalClass).text(s)),"progressbar"===a.type){var C;C=a.progressbarOpposite?this.isHorizontal()?"vertical":"horizontal":this.isHorizontal()?"horizontal":"vertical";var y=(n+1)/s,_=1,g=1;"horizontal"===C?_=y:g=y,r.find("."+a.progressbarFillClass).transform("translate3d(0,0,0) scaleX("+_+") scaleY("+g+")").transition(this.params.speed)}"custom"===a.type&&a.renderCustom?(r.html(a.renderCustom(this,n+1,s)),this.emit("paginationRender",this,r[0])):this.emit("paginationUpdate",this,r[0]),r[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](a.lockClass)}},render:function(){var e=this.params.pagination;if(e.el&&this.pagination.el&&this.pagination.$el&&0!==this.pagination.$el.length){var t=this.virtual&&this.params.virtual.enabled?this.virtual.slides.length:this.slides.length,a=this.pagination.$el,n="";if("bullets"===e.type){for(var i=this.params.loop?Math.ceil((t-2*this.loopedSlides)/this.params.slidesPerGroup):this.snapGrid.length,r=0;r<i;r+=1)e.renderBullet?n+=e.renderBullet.call(this,r,e.bulletClass):n+="<"+e.bulletElement+' class="'+e.bulletClass+'"></'+e.bulletElement+">";a.html(n),this.pagination.bullets=a.find("."+e.bulletClass)}"fraction"===e.type&&(n=e.renderFraction?e.renderFraction.call(this,e.currentClass,e.totalClass):'<span class="'+e.currentClass+'"></span> / <span class="'+e.totalClass+'"></span>',a.html(n)),"progressbar"===e.type&&(n=e.renderProgressbar?e.renderProgressbar.call(this,e.progressbarFillClass):'<span class="'+e.progressbarFillClass+'"></span>',a.html(n)),"custom"!==e.type&&this.emit("paginationRender",this.pagination.$el[0])}},init:function(){var t=this,a=t.params.pagination;if(a.el){var n=e(a.el);0!==n.length&&(t.params.uniqueNavElements&&"string"==typeof a.el&&n.length>1&&1===t.$el.find(a.el).length&&(n=t.$el.find(a.el)),"bullets"===a.type&&a.clickable&&n.addClass(a.clickableClass),n.addClass(a.modifierClass+a.type),"bullets"===a.type&&a.dynamicBullets&&(n.addClass(""+a.modifierClass+a.type+"-dynamic"),t.pagination.dynamicBulletIndex=0,a.dynamicMainBullets<1&&(a.dynamicMainBullets=1)),"progressbar"===a.type&&a.progressbarOpposite&&n.addClass(a.progressbarOppositeClass),a.clickable&&n.on("click","."+a.bulletClass,function(a){a.preventDefault();var n=e(this).index()*t.params.slidesPerGroup;t.params.loop&&(n+=t.loopedSlides),t.slideTo(n)}),h.extend(t.pagination,{$el:n,el:n[0]}))}},destroy:function(){var e=this.params.pagination;if(e.el&&this.pagination.el&&this.pagination.$el&&0!==this.pagination.$el.length){var t=this.pagination.$el;t.removeClass(e.hiddenClass),t.removeClass(e.modifierClass+e.type),this.pagination.bullets&&this.pagination.bullets.removeClass(e.bulletActiveClass),e.clickable&&t.off("click","."+e.bulletClass)}}},X={setTranslate:function(){if(this.params.scrollbar.el&&this.scrollbar.el){var e=this.scrollbar,t=this.rtlTranslate,a=this.progress,n=e.dragSize,i=e.trackSize,r=e.$dragEl,s=e.$el,o=this.params.scrollbar,l=n,d=(i-n)*a;t?(d=-d)>0?(l=n-d,d=0):-d+n>i&&(l=i+d):d<0?(l=n+d,d=0):d+n>i&&(l=i-d),this.isHorizontal()?(p.transforms3d?r.transform("translate3d("+d+"px, 0, 0)"):r.transform("translateX("+d+"px)"),r[0].style.width=l+"px"):(p.transforms3d?r.transform("translate3d(0px, "+d+"px, 0)"):r.transform("translateY("+d+"px)"),r[0].style.height=l+"px"),o.hide&&(clearTimeout(this.scrollbar.timeout),s[0].style.opacity=1,this.scrollbar.timeout=setTimeout(function(){s[0].style.opacity=0,s.transition(400)},1e3))}},setTransition:function(e){this.params.scrollbar.el&&this.scrollbar.el&&this.scrollbar.$dragEl.transition(e)},updateSize:function(){if(this.params.scrollbar.el&&this.scrollbar.el){var e=this.scrollbar,t=e.$dragEl,a=e.$el;t[0].style.width="",t[0].style.height="";var n,i=this.isHorizontal()?a[0].offsetWidth:a[0].offsetHeight,r=this.size/this.virtualSize,s=r*(i/this.size);n="auto"===this.params.scrollbar.dragSize?i*r:parseInt(this.params.scrollbar.dragSize,10),this.isHorizontal()?t[0].style.width=n+"px":t[0].style.height=n+"px",a[0].style.display=r>=1?"none":"",this.params.scrollbarHide&&(a[0].style.opacity=0),h.extend(e,{trackSize:i,divider:r,moveDivider:s,dragSize:n}),e.$el[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](this.params.scrollbar.lockClass)}},setDragPosition:function(e){var t,a=this.scrollbar,n=this.rtlTranslate,i=a.$el,r=a.dragSize,s=a.trackSize;t=((this.isHorizontal()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageX:e.pageX||e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageY:e.pageY||e.clientY)-i.offset()[this.isHorizontal()?"left":"top"]-r/2)/(s-r),t=Math.max(Math.min(t,1),0),n&&(t=1-t);var o=this.minTranslate()+(this.maxTranslate()-this.minTranslate())*t;this.updateProgress(o),this.setTranslate(o),this.updateActiveIndex(),this.updateSlidesClasses()},onDragStart:function(e){var t=this.params.scrollbar,a=this.scrollbar,n=this.$wrapperEl,i=a.$el,r=a.$dragEl;this.scrollbar.isTouched=!0,e.preventDefault(),e.stopPropagation(),n.transition(100),r.transition(100),a.setDragPosition(e),clearTimeout(this.scrollbar.dragTimeout),i.transition(0),t.hide&&i.css("opacity",1),this.emit("scrollbarDragStart",e)},onDragMove:function(e){var t=this.scrollbar,a=this.$wrapperEl,n=t.$el,i=t.$dragEl;this.scrollbar.isTouched&&(e.preventDefault?e.preventDefault():e.returnValue=!1,t.setDragPosition(e),a.transition(0),n.transition(0),i.transition(0),this.emit("scrollbarDragMove",e))},onDragEnd:function(e){var t=this.params.scrollbar,a=this.scrollbar.$el;this.scrollbar.isTouched&&(this.scrollbar.isTouched=!1,t.hide&&(clearTimeout(this.scrollbar.dragTimeout),this.scrollbar.dragTimeout=h.nextTick(function(){a.css("opacity",0),a.transition(400)},1e3)),this.emit("scrollbarDragEnd",e),t.snapOnRelease&&this.slideToClosest())},enableDraggable:function(){if(this.params.scrollbar.el){var e=this.scrollbar,t=this.touchEvents,a=this.touchEventsDesktop,i=this.params,r=e.$el[0],s=!(!p.passiveListener||!i.passiveListener)&&{passive:!1,capture:!1},o=!(!p.passiveListener||!i.passiveListener)&&{passive:!0,capture:!1};p.touch||!p.pointerEvents&&!p.prefixedPointerEvents?(p.touch&&(r.addEventListener(t.start,this.scrollbar.onDragStart,s),r.addEventListener(t.move,this.scrollbar.onDragMove,s),r.addEventListener(t.end,this.scrollbar.onDragEnd,o)),(i.simulateTouch&&!P.ios&&!P.android||i.simulateTouch&&!p.touch&&P.ios)&&(r.addEventListener("mousedown",this.scrollbar.onDragStart,s),n.addEventListener("mousemove",this.scrollbar.onDragMove,s),n.addEventListener("mouseup",this.scrollbar.onDragEnd,o))):(r.addEventListener(a.start,this.scrollbar.onDragStart,s),n.addEventListener(a.move,this.scrollbar.onDragMove,s),n.addEventListener(a.end,this.scrollbar.onDragEnd,o))}},disableDraggable:function(){if(this.params.scrollbar.el){var e=this.scrollbar,t=this.touchEvents,a=this.touchEventsDesktop,i=this.params,r=e.$el[0],s=!(!p.passiveListener||!i.passiveListener)&&{passive:!1,capture:!1},o=!(!p.passiveListener||!i.passiveListener)&&{passive:!0,capture:!1};p.touch||!p.pointerEvents&&!p.prefixedPointerEvents?(p.touch&&(r.removeEventListener(t.start,this.scrollbar.onDragStart,s),r.removeEventListener(t.move,this.scrollbar.onDragMove,s),r.removeEventListener(t.end,this.scrollbar.onDragEnd,o)),(i.simulateTouch&&!P.ios&&!P.android||i.simulateTouch&&!p.touch&&P.ios)&&(r.removeEventListener("mousedown",this.scrollbar.onDragStart,s),n.removeEventListener("mousemove",this.scrollbar.onDragMove,s),n.removeEventListener("mouseup",this.scrollbar.onDragEnd,o))):(r.removeEventListener(a.start,this.scrollbar.onDragStart,s),n.removeEventListener(a.move,this.scrollbar.onDragMove,s),n.removeEventListener(a.end,this.scrollbar.onDragEnd,o))}},init:function(){if(this.params.scrollbar.el){var t=this.scrollbar,a=this.$el,n=this.params.scrollbar,i=e(n.el);this.params.uniqueNavElements&&"string"==typeof n.el&&i.length>1&&1===a.find(n.el).length&&(i=a.find(n.el));var r=i.find("."+this.params.scrollbar.dragClass);0===r.length&&(r=e('<div class="'+this.params.scrollbar.dragClass+'"></div>'),i.append(r)),h.extend(t,{$el:i,el:i[0],$dragEl:r,dragEl:r[0]}),n.draggable&&t.enableDraggable()}},destroy:function(){this.scrollbar.disableDraggable()}},G={setTransform:function(t,a){var n=this.rtl,i=e(t),r=n?-1:1,s=i.attr("data-swiper-parallax")||"0",o=i.attr("data-swiper-parallax-x"),l=i.attr("data-swiper-parallax-y"),d=i.attr("data-swiper-parallax-scale"),u=i.attr("data-swiper-parallax-opacity");if(o||l?(o=o||"0",l=l||"0"):this.isHorizontal()?(o=s,l="0"):(l=s,o="0"),o=o.indexOf("%")>=0?parseInt(o,10)*a*r+"%":o*a*r+"px",l=l.indexOf("%")>=0?parseInt(l,10)*a+"%":l*a+"px",void 0!==u&&null!==u){var c=u-(u-1)*(1-Math.abs(a));i[0].style.opacity=c}if(void 0===d||null===d)i.transform("translate3d("+o+", "+l+", 0px)");else{var f=d-(d-1)*(1-Math.abs(a));i.transform("translate3d("+o+", "+l+", 0px) scale("+f+")")}},setTranslate:function(){var t=this,a=t.$el,n=t.slides,i=t.progress,r=t.snapGrid;a.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(e,a){t.parallax.setTransform(a,i)}),n.each(function(a,n){var s=n.progress;t.params.slidesPerGroup>1&&"auto"!==t.params.slidesPerView&&(s+=Math.ceil(a/2)-i*(r.length-1)),s=Math.min(Math.max(s,-1),1),e(n).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(e,a){t.parallax.setTransform(a,s)})})},setTransition:function(t){void 0===t&&(t=this.params.speed),this.$el.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(a,n){var i=e(n),r=parseInt(i.attr("data-swiper-parallax-duration"),10)||t;0===t&&(r=0),i.transition(r)})}},W={getDistanceBetweenTouches:function(e){if(e.targetTouches.length<2)return 1;var t=e.targetTouches[0].pageX,a=e.targetTouches[0].pageY,n=e.targetTouches[1].pageX,i=e.targetTouches[1].pageY;return Math.sqrt(Math.pow(n-t,2)+Math.pow(i-a,2))},onGestureStart:function(t){var a=this.params.zoom,n=this.zoom,i=n.gesture;if(n.fakeGestureTouched=!1,n.fakeGestureMoved=!1,!p.gestures){if("touchstart"!==t.type||"touchstart"===t.type&&t.targetTouches.length<2)return;n.fakeGestureTouched=!0,i.scaleStart=W.getDistanceBetweenTouches(t)}i.$slideEl&&i.$slideEl.length||(i.$slideEl=e(t.target).closest(".swiper-slide"),0===i.$slideEl.length&&(i.$slideEl=this.slides.eq(this.activeIndex)),i.$imageEl=i.$slideEl.find("img, svg, canvas"),i.$imageWrapEl=i.$imageEl.parent("."+a.containerClass),i.maxRatio=i.$imageWrapEl.attr("data-swiper-zoom")||a.maxRatio,0!==i.$imageWrapEl.length)?(i.$imageEl.transition(0),this.zoom.isScaling=!0):i.$imageEl=void 0},onGestureChange:function(e){var t=this.params.zoom,a=this.zoom,n=a.gesture;if(!p.gestures){if("touchmove"!==e.type||"touchmove"===e.type&&e.targetTouches.length<2)return;a.fakeGestureMoved=!0,n.scaleMove=W.getDistanceBetweenTouches(e)}n.$imageEl&&0!==n.$imageEl.length&&(p.gestures?this.zoom.scale=e.scale*a.currentScale:a.scale=n.scaleMove/n.scaleStart*a.currentScale,a.scale>n.maxRatio&&(a.scale=n.maxRatio-1+Math.pow(a.scale-n.maxRatio+1,.5)),a.scale<t.minRatio&&(a.scale=t.minRatio+1-Math.pow(t.minRatio-a.scale+1,.5)),n.$imageEl.transform("translate3d(0,0,0) scale("+a.scale+")"))},onGestureEnd:function(e){var t=this.params.zoom,a=this.zoom,n=a.gesture;if(!p.gestures){if(!a.fakeGestureTouched||!a.fakeGestureMoved)return;if("touchend"!==e.type||"touchend"===e.type&&e.changedTouches.length<2&&!P.android)return;a.fakeGestureTouched=!1,a.fakeGestureMoved=!1}n.$imageEl&&0!==n.$imageEl.length&&(a.scale=Math.max(Math.min(a.scale,n.maxRatio),t.minRatio),n.$imageEl.transition(this.params.speed).transform("translate3d(0,0,0) scale("+a.scale+")"),a.currentScale=a.scale,a.isScaling=!1,1===a.scale&&(n.$slideEl=void 0))},onTouchStart:function(e){var t=this.zoom,a=t.gesture,n=t.image;a.$imageEl&&0!==a.$imageEl.length&&(n.isTouched||(P.android&&e.preventDefault(),n.isTouched=!0,n.touchesStart.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,n.touchesStart.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY))},onTouchMove:function(e){var t=this.zoom,a=t.gesture,n=t.image,i=t.velocity;if(a.$imageEl&&0!==a.$imageEl.length&&(this.allowClick=!1,n.isTouched&&a.$slideEl)){n.isMoved||(n.width=a.$imageEl[0].offsetWidth,n.height=a.$imageEl[0].offsetHeight,n.startX=h.getTranslate(a.$imageWrapEl[0],"x")||0,n.startY=h.getTranslate(a.$imageWrapEl[0],"y")||0,a.slideWidth=a.$slideEl[0].offsetWidth,a.slideHeight=a.$slideEl[0].offsetHeight,a.$imageWrapEl.transition(0),this.rtl&&(n.startX=-n.startX,n.startY=-n.startY));var r=n.width*t.scale,s=n.height*t.scale;if(!(r<a.slideWidth&&s<a.slideHeight)){if(n.minX=Math.min(a.slideWidth/2-r/2,0),n.maxX=-n.minX,n.minY=Math.min(a.slideHeight/2-s/2,0),n.maxY=-n.minY,n.touchesCurrent.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,n.touchesCurrent.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,!n.isMoved&&!t.isScaling){if(this.isHorizontal()&&(Math.floor(n.minX)===Math.floor(n.startX)&&n.touchesCurrent.x<n.touchesStart.x||Math.floor(n.maxX)===Math.floor(n.startX)&&n.touchesCurrent.x>n.touchesStart.x))return void(n.isTouched=!1);if(!this.isHorizontal()&&(Math.floor(n.minY)===Math.floor(n.startY)&&n.touchesCurrent.y<n.touchesStart.y||Math.floor(n.maxY)===Math.floor(n.startY)&&n.touchesCurrent.y>n.touchesStart.y))return void(n.isTouched=!1)}e.preventDefault(),e.stopPropagation(),n.isMoved=!0,n.currentX=n.touchesCurrent.x-n.touchesStart.x+n.startX,n.currentY=n.touchesCurrent.y-n.touchesStart.y+n.startY,n.currentX<n.minX&&(n.currentX=n.minX+1-Math.pow(n.minX-n.currentX+1,.8)),n.currentX>n.maxX&&(n.currentX=n.maxX-1+Math.pow(n.currentX-n.maxX+1,.8)),n.currentY<n.minY&&(n.currentY=n.minY+1-Math.pow(n.minY-n.currentY+1,.8)),n.currentY>n.maxY&&(n.currentY=n.maxY-1+Math.pow(n.currentY-n.maxY+1,.8)),i.prevPositionX||(i.prevPositionX=n.touchesCurrent.x),i.prevPositionY||(i.prevPositionY=n.touchesCurrent.y),i.prevTime||(i.prevTime=Date.now()),i.x=(n.touchesCurrent.x-i.prevPositionX)/(Date.now()-i.prevTime)/2,i.y=(n.touchesCurrent.y-i.prevPositionY)/(Date.now()-i.prevTime)/2,Math.abs(n.touchesCurrent.x-i.prevPositionX)<2&&(i.x=0),Math.abs(n.touchesCurrent.y-i.prevPositionY)<2&&(i.y=0),i.prevPositionX=n.touchesCurrent.x,i.prevPositionY=n.touchesCurrent.y,i.prevTime=Date.now(),a.$imageWrapEl.transform("translate3d("+n.currentX+"px, "+n.currentY+"px,0)")}}},onTouchEnd:function(){var e=this.zoom,t=e.gesture,a=e.image,n=e.velocity;if(t.$imageEl&&0!==t.$imageEl.length){if(!a.isTouched||!a.isMoved)return a.isTouched=!1,void(a.isMoved=!1);a.isTouched=!1,a.isMoved=!1;var i=300,r=300,s=n.x*i,o=a.currentX+s,l=n.y*r,d=a.currentY+l;0!==n.x&&(i=Math.abs((o-a.currentX)/n.x)),0!==n.y&&(r=Math.abs((d-a.currentY)/n.y));var u=Math.max(i,r);a.currentX=o,a.currentY=d;var c=a.width*e.scale,f=a.height*e.scale;a.minX=Math.min(t.slideWidth/2-c/2,0),a.maxX=-a.minX,a.minY=Math.min(t.slideHeight/2-f/2,0),a.maxY=-a.minY,a.currentX=Math.max(Math.min(a.currentX,a.maxX),a.minX),a.currentY=Math.max(Math.min(a.currentY,a.maxY),a.minY),t.$imageWrapEl.transition(u).transform("translate3d("+a.currentX+"px, "+a.currentY+"px,0)")}},onTransitionEnd:function(){var e=this.zoom,t=e.gesture;t.$slideEl&&this.previousIndex!==this.activeIndex&&(t.$imageEl.transform("translate3d(0,0,0) scale(1)"),t.$imageWrapEl.transform("translate3d(0,0,0)"),t.$slideEl=void 0,t.$imageEl=void 0,t.$imageWrapEl=void 0,e.scale=1,e.currentScale=1)},toggle:function(e){var t=this.zoom;t.scale&&1!==t.scale?t.out():t.in(e)},in:function(t){var a,n,i,r,s,o,l,d,u,c,f,m,h,v,p,C,y=this.zoom,_=this.params.zoom,g=y.gesture,b=y.image;g.$slideEl||(g.$slideEl=this.clickedSlide?e(this.clickedSlide):this.slides.eq(this.activeIndex),g.$imageEl=g.$slideEl.find("img, svg, canvas"),g.$imageWrapEl=g.$imageEl.parent("."+_.containerClass)),g.$imageEl&&0!==g.$imageEl.length&&(g.$slideEl.addClass(""+_.zoomedSlideClass),void 0===b.touchesStart.x&&t?(a="touchend"===t.type?t.changedTouches[0].pageX:t.pageX,n="touchend"===t.type?t.changedTouches[0].pageY:t.pageY):(a=b.touchesStart.x,n=b.touchesStart.y),y.scale=g.$imageWrapEl.attr("data-swiper-zoom")||_.maxRatio,y.currentScale=g.$imageWrapEl.attr("data-swiper-zoom")||_.maxRatio,t?(p=g.$slideEl[0].offsetWidth,C=g.$slideEl[0].offsetHeight,i=g.$slideEl.offset().left+p/2-a,r=g.$slideEl.offset().top+C/2-n,l=g.$imageEl[0].offsetWidth,d=g.$imageEl[0].offsetHeight,u=l*y.scale,c=d*y.scale,h=-(f=Math.min(p/2-u/2,0)),v=-(m=Math.min(C/2-c/2,0)),s=i*y.scale,o=r*y.scale,s<f&&(s=f),s>h&&(s=h),o<m&&(o=m),o>v&&(o=v)):(s=0,o=0),g.$imageWrapEl.transition(300).transform("translate3d("+s+"px, "+o+"px,0)"),g.$imageEl.transition(300).transform("translate3d(0,0,0) scale("+y.scale+")"))},out:function(){var t=this.zoom,a=this.params.zoom,n=t.gesture;n.$slideEl||(n.$slideEl=this.clickedSlide?e(this.clickedSlide):this.slides.eq(this.activeIndex),n.$imageEl=n.$slideEl.find("img, svg, canvas"),n.$imageWrapEl=n.$imageEl.parent("."+a.containerClass)),n.$imageEl&&0!==n.$imageEl.length&&(t.scale=1,t.currentScale=1,n.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),n.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),n.$slideEl.removeClass(""+a.zoomedSlideClass),n.$slideEl=void 0)},enable:function(){var e=this.zoom;if(!e.enabled){e.enabled=!0;var t=!("touchstart"!==this.touchEvents.start||!p.passiveListener||!this.params.passiveListeners)&&{passive:!0,capture:!1};p.gestures?(this.$wrapperEl.on("gesturestart",".swiper-slide",e.onGestureStart,t),this.$wrapperEl.on("gesturechange",".swiper-slide",e.onGestureChange,t),this.$wrapperEl.on("gestureend",".swiper-slide",e.onGestureEnd,t)):"touchstart"===this.touchEvents.start&&(this.$wrapperEl.on(this.touchEvents.start,".swiper-slide",e.onGestureStart,t),this.$wrapperEl.on(this.touchEvents.move,".swiper-slide",e.onGestureChange,t),this.$wrapperEl.on(this.touchEvents.end,".swiper-slide",e.onGestureEnd,t)),this.$wrapperEl.on(this.touchEvents.move,"."+this.params.zoom.containerClass,e.onTouchMove)}},disable:function(){var e=this.zoom;if(e.enabled){this.zoom.enabled=!1;var t=!("touchstart"!==this.touchEvents.start||!p.passiveListener||!this.params.passiveListeners)&&{passive:!0,capture:!1};p.gestures?(this.$wrapperEl.off("gesturestart",".swiper-slide",e.onGestureStart,t),this.$wrapperEl.off("gesturechange",".swiper-slide",e.onGestureChange,t),this.$wrapperEl.off("gestureend",".swiper-slide",e.onGestureEnd,t)):"touchstart"===this.touchEvents.start&&(this.$wrapperEl.off(this.touchEvents.start,".swiper-slide",e.onGestureStart,t),this.$wrapperEl.off(this.touchEvents.move,".swiper-slide",e.onGestureChange,t),this.$wrapperEl.off(this.touchEvents.end,".swiper-slide",e.onGestureEnd,t)),this.$wrapperEl.off(this.touchEvents.move,"."+this.params.zoom.containerClass,e.onTouchMove)}}},z={loadInSlide:function(t,a){void 0===a&&(a=!0);var n=this,i=n.params.lazy;if(void 0!==t&&0!==n.slides.length){var r=n.virtual&&n.params.virtual.enabled?n.$wrapperEl.children("."+n.params.slideClass+'[data-swiper-slide-index="'+t+'"]'):n.slides.eq(t),s=r.find("."+i.elementClass+":not(."+i.loadedClass+"):not(."+i.loadingClass+")");!r.hasClass(i.elementClass)||r.hasClass(i.loadedClass)||r.hasClass(i.loadingClass)||(s=s.add(r[0])),0!==s.length&&s.each(function(t,s){var o=e(s);o.addClass(i.loadingClass);var l=o.attr("data-background"),d=o.attr("data-src"),u=o.attr("data-srcset"),c=o.attr("data-sizes");n.loadImage(o[0],d||l,u,c,!1,function(){if(void 0!==n&&null!==n&&n&&(!n||n.params)&&!n.destroyed){if(l?(o.css("background-image",'url("'+l+'")'),o.removeAttr("data-background")):(u&&(o.attr("srcset",u),o.removeAttr("data-srcset")),c&&(o.attr("sizes",c),o.removeAttr("data-sizes")),d&&(o.attr("src",d),o.removeAttr("data-src"))),o.addClass(i.loadedClass).removeClass(i.loadingClass),r.find("."+i.preloaderClass).remove(),n.params.loop&&a){var e=r.attr("data-swiper-slide-index");if(r.hasClass(n.params.slideDuplicateClass)){var t=n.$wrapperEl.children('[data-swiper-slide-index="'+e+'"]:not(.'+n.params.slideDuplicateClass+")");n.lazy.loadInSlide(t.index(),!1)}else{var s=n.$wrapperEl.children("."+n.params.slideDuplicateClass+'[data-swiper-slide-index="'+e+'"]');n.lazy.loadInSlide(s.index(),!1)}}n.emit("lazyImageReady",r[0],o[0])}}),n.emit("lazyImageLoad",r[0],o[0])})}},load:function(){function t(e){if(l){if(i.children("."+r.slideClass+'[data-swiper-slide-index="'+e+'"]').length)return!0}else if(s[e])return!0;return!1}function a(t){return l?e(t).attr("data-swiper-slide-index"):e(t).index()}var n=this,i=n.$wrapperEl,r=n.params,s=n.slides,o=n.activeIndex,l=n.virtual&&r.virtual.enabled,d=r.lazy,u=r.slidesPerView;if("auto"===u&&(u=0),n.lazy.initialImageLoaded||(n.lazy.initialImageLoaded=!0),n.params.watchSlidesVisibility)i.children("."+r.slideVisibleClass).each(function(t,a){var i=l?e(a).attr("data-swiper-slide-index"):e(a).index();n.lazy.loadInSlide(i)});else if(u>1)for(var c=o;c<o+u;c+=1)t(c)&&n.lazy.loadInSlide(c);else n.lazy.loadInSlide(o);if(d.loadPrevNext)if(u>1||d.loadPrevNextAmount&&d.loadPrevNextAmount>1){for(var f=d.loadPrevNextAmount,m=u,h=Math.min(o+m+Math.max(f,m),s.length),v=Math.max(o-Math.max(m,f),0),p=o+u;p<h;p+=1)t(p)&&n.lazy.loadInSlide(p);for(var C=v;C<o;C+=1)t(C)&&n.lazy.loadInSlide(C)}else{var y=i.children("."+r.slideNextClass);y.length>0&&n.lazy.loadInSlide(a(y));var _=i.children("."+r.slidePrevClass);_.length>0&&n.lazy.loadInSlide(a(_))}}},K={LinearSpline:function(e,t){var a,n,i,r,s,o=function(e,t){for(n=-1,a=e.length;a-n>1;)e[i=a+n>>1]<=t?n=i:a=i;return a};return this.x=e,this.y=t,this.lastIndex=e.length-1,this.interpolate=function(e){return e?(s=o(this.x,e),r=s-1,(e-this.x[r])*(this.y[s]-this.y[r])/(this.x[s]-this.x[r])+this.y[r]):0},this},getInterpolateFunction:function(e){this.controller.spline||(this.controller.spline=this.params.loop?new K.LinearSpline(this.slidesGrid,e.slidesGrid):new K.LinearSpline(this.snapGrid,e.snapGrid))},setTranslate:function(e,t){function a(e){var t=r.rtlTranslate?-r.translate:r.translate;"slide"===r.params.controller.by&&(r.controller.getInterpolateFunction(e),i=-r.controller.spline.interpolate(-t)),i&&"container"!==r.params.controller.by||(n=(e.maxTranslate()-e.minTranslate())/(r.maxTranslate()-r.minTranslate()),i=(t-r.minTranslate())*n+e.minTranslate()),r.params.controller.inverse&&(i=e.maxTranslate()-i),e.updateProgress(i),e.setTranslate(i,r),e.updateActiveIndex(),e.updateSlidesClasses()}var n,i,r=this,s=r.controller.control;if(Array.isArray(s))for(var o=0;o<s.length;o+=1)s[o]!==t&&s[o]instanceof A&&a(s[o]);else s instanceof A&&t!==s&&a(s)},setTransition:function(e,t){function a(t){t.setTransition(e,i),0!==e&&(t.transitionStart(),t.$wrapperEl.transitionEnd(function(){r&&(t.params.loop&&"slide"===i.params.controller.by&&t.loopFix(),t.transitionEnd())}))}var n,i=this,r=i.controller.control;if(Array.isArray(r))for(n=0;n<r.length;n+=1)r[n]!==t&&r[n]instanceof A&&a(r[n]);else r instanceof A&&t!==r&&a(r)}},J={makeElFocusable:function(e){return e.attr("tabIndex","0"),e},addElRole:function(e,t){return e.attr("role",t),e},addElLabel:function(e,t){return e.attr("aria-label",t),e},disableEl:function(e){return e.attr("aria-disabled",!0),e},enableEl:function(e){return e.attr("aria-disabled",!1),e},onEnterKey:function(t){var a=this.params.a11y;if(13===t.keyCode){var n=e(t.target);this.navigation&&this.navigation.$nextEl&&n.is(this.navigation.$nextEl)&&(this.isEnd&&!this.params.loop||this.slideNext(),this.isEnd?this.a11y.notify(a.lastSlideMessage):this.a11y.notify(a.nextSlideMessage)),this.navigation&&this.navigation.$prevEl&&n.is(this.navigation.$prevEl)&&(this.isBeginning&&!this.params.loop||this.slidePrev(),this.isBeginning?this.a11y.notify(a.firstSlideMessage):this.a11y.notify(a.prevSlideMessage)),this.pagination&&n.is("."+this.params.pagination.bulletClass)&&n[0].click()}},notify:function(e){var t=this.a11y.liveRegion;0!==t.length&&(t.html(""),t.html(e))},updateNavigation:function(){if(!this.params.loop){var e=this.navigation,t=e.$nextEl,a=e.$prevEl;a&&a.length>0&&(this.isBeginning?this.a11y.disableEl(a):this.a11y.enableEl(a)),t&&t.length>0&&(this.isEnd?this.a11y.disableEl(t):this.a11y.enableEl(t))}},updatePagination:function(){var t=this,a=t.params.a11y;t.pagination&&t.params.pagination.clickable&&t.pagination.bullets&&t.pagination.bullets.length&&t.pagination.bullets.each(function(n,i){var r=e(i);t.a11y.makeElFocusable(r),t.a11y.addElRole(r,"button"),t.a11y.addElLabel(r,a.paginationBulletMessage.replace(/{{index}}/,r.index()+1))})},init:function(){this.$el.append(this.a11y.liveRegion);var e,t,a=this.params.a11y;this.navigation&&this.navigation.$nextEl&&(e=this.navigation.$nextEl),this.navigation&&this.navigation.$prevEl&&(t=this.navigation.$prevEl),e&&(this.a11y.makeElFocusable(e),this.a11y.addElRole(e,"button"),this.a11y.addElLabel(e,a.nextSlideMessage),e.on("keydown",this.a11y.onEnterKey)),t&&(this.a11y.makeElFocusable(t),this.a11y.addElRole(t,"button"),this.a11y.addElLabel(t,a.prevSlideMessage),t.on("keydown",this.a11y.onEnterKey)),this.pagination&&this.params.pagination.clickable&&this.pagination.bullets&&this.pagination.bullets.length&&this.pagination.$el.on("keydown","."+this.params.pagination.bulletClass,this.a11y.onEnterKey)},destroy:function(){var e,t;this.a11y.liveRegion&&this.a11y.liveRegion.length>0&&this.a11y.liveRegion.remove(),this.navigation&&this.navigation.$nextEl&&(e=this.navigation.$nextEl),this.navigation&&this.navigation.$prevEl&&(t=this.navigation.$prevEl),e&&e.off("keydown",this.a11y.onEnterKey),t&&t.off("keydown",this.a11y.onEnterKey),this.pagination&&this.params.pagination.clickable&&this.pagination.bullets&&this.pagination.bullets.length&&this.pagination.$el.off("keydown","."+this.params.pagination.bulletClass,this.a11y.onEnterKey)}},Z={init:function(){if(this.params.history){if(!i.history||!i.history.pushState)return this.params.history.enabled=!1,void(this.params.hashNavigation.enabled=!0);var e=this.history;e.initialized=!0,e.paths=Z.getPathValues(),(e.paths.key||e.paths.value)&&(e.scrollToSlide(0,e.paths.value,this.params.runCallbacksOnInit),this.params.history.replaceState||i.addEventListener("popstate",this.history.setHistoryPopState))}},destroy:function(){this.params.history.replaceState||i.removeEventListener("popstate",this.history.setHistoryPopState)},setHistoryPopState:function(){this.history.paths=Z.getPathValues(),this.history.scrollToSlide(this.params.speed,this.history.paths.value,!1)},getPathValues:function(){var e=i.location.pathname.slice(1).split("/").filter(function(e){return""!==e}),t=e.length;return{key:e[t-2],value:e[t-1]}},setHistory:function(e,t){if(this.history.initialized&&this.params.history.enabled){var a=this.slides.eq(t),n=Z.slugify(a.attr("data-history"));i.location.pathname.includes(e)||(n=e+"/"+n);var r=i.history.state;r&&r.value===n||(this.params.history.replaceState?i.history.replaceState({value:n},null,n):i.history.pushState({value:n},null,n))}},slugify:function(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},scrollToSlide:function(e,t,a){if(t)for(var n=0,i=this.slides.length;n<i;n+=1){var r=this.slides.eq(n);if(Z.slugify(r.attr("data-history"))===t&&!r.hasClass(this.params.slideDuplicateClass)){var s=r.index();this.slideTo(s,e,a)}}else this.slideTo(0,e,a)}},ee={onHashCange:function(){var e=n.location.hash.replace("#","");e!==this.slides.eq(this.activeIndex).attr("data-hash")&&this.slideTo(this.$wrapperEl.children("."+this.params.slideClass+'[data-hash="'+e+'"]').index())},setHash:function(){if(this.hashNavigation.initialized&&this.params.hashNavigation.enabled)if(this.params.hashNavigation.replaceState&&i.history&&i.history.replaceState)i.history.replaceState(null,null,"#"+this.slides.eq(this.activeIndex).attr("data-hash")||"");else{var e=this.slides.eq(this.activeIndex),t=e.attr("data-hash")||e.attr("data-history");n.location.hash=t||""}},init:function(){if(!(!this.params.hashNavigation.enabled||this.params.history&&this.params.history.enabled)){this.hashNavigation.initialized=!0;var t=n.location.hash.replace("#","");if(t)for(var a=0,r=this.slides.length;a<r;a+=1){var s=this.slides.eq(a);if((s.attr("data-hash")||s.attr("data-history"))===t&&!s.hasClass(this.params.slideDuplicateClass)){var o=s.index();this.slideTo(o,0,this.params.runCallbacksOnInit,!0)}}this.params.hashNavigation.watchState&&e(i).on("hashchange",this.hashNavigation.onHashCange)}},destroy:function(){this.params.hashNavigation.watchState&&e(i).off("hashchange",this.hashNavigation.onHashCange)}},te={run:function(){var e=this,t=e.slides.eq(e.activeIndex),a=e.params.autoplay.delay;t.attr("data-swiper-autoplay")&&(a=t.attr("data-swiper-autoplay")||e.params.autoplay.delay),e.autoplay.timeout=h.nextTick(function(){e.params.autoplay.reverseDirection?e.params.loop?(e.loopFix(),e.slidePrev(e.params.speed,!0,!0),e.emit("autoplay")):e.isBeginning?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(e.slideTo(e.slides.length-1,e.params.speed,!0,!0),e.emit("autoplay")):(e.slidePrev(e.params.speed,!0,!0),e.emit("autoplay")):e.params.loop?(e.loopFix(),e.slideNext(e.params.speed,!0,!0),e.emit("autoplay")):e.isEnd?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(e.slideTo(0,e.params.speed,!0,!0),e.emit("autoplay")):(e.slideNext(e.params.speed,!0,!0),e.emit("autoplay"))},a)},start:function(){return void 0===this.autoplay.timeout&&!this.autoplay.running&&(this.autoplay.running=!0,this.emit("autoplayStart"),this.autoplay.run(),!0)},stop:function(){return!!this.autoplay.running&&void 0!==this.autoplay.timeout&&(this.autoplay.timeout&&(clearTimeout(this.autoplay.timeout),this.autoplay.timeout=void 0),this.autoplay.running=!1,this.emit("autoplayStop"),!0)},pause:function(e){var t=this;t.autoplay.running&&(t.autoplay.paused||(t.autoplay.timeout&&clearTimeout(t.autoplay.timeout),t.autoplay.paused=!0,0!==e&&t.params.autoplay.waitForTransition?t.$wrapperEl.transitionEnd(function(){t&&!t.destroyed&&(t.autoplay.paused=!1,t.autoplay.running?t.autoplay.run():t.autoplay.stop())}):(t.autoplay.paused=!1,t.autoplay.run())))}},ae={setTranslate:function(){for(var e=this.slides,t=0;t<e.length;t+=1){var a=this.slides.eq(t),n=-a[0].swiperSlideOffset;this.params.virtualTranslate||(n-=this.translate);var i=0;this.isHorizontal()||(i=n,n=0);var r=this.params.fadeEffect.crossFade?Math.max(1-Math.abs(a[0].progress),0):1+Math.min(Math.max(a[0].progress,-1),0);a.css({opacity:r}).transform("translate3d("+n+"px, "+i+"px, 0px)")}},setTransition:function(e){var t=this,a=t.slides,n=t.$wrapperEl;if(a.transition(e),t.params.virtualTranslate&&0!==e){var i=!1;a.transitionEnd(function(){if(!i&&t&&!t.destroyed){i=!0,t.animating=!1;for(var e=["webkitTransitionEnd","transitionend"],a=0;a<e.length;a+=1)n.trigger(e[a])}})}}},ne={setTranslate:function(){var t,a=this.$el,n=this.$wrapperEl,i=this.slides,r=this.width,s=this.height,o=this.rtlTranslate,l=this.size,d=this.params.cubeEffect,u=this.isHorizontal(),c=this.virtual&&this.params.virtual.enabled,f=0;d.shadow&&(u?(0===(t=n.find(".swiper-cube-shadow")).length&&(t=e('<div class="swiper-cube-shadow"></div>'),n.append(t)),t.css({height:r+"px"})):0===(t=a.find(".swiper-cube-shadow")).length&&(t=e('<div class="swiper-cube-shadow"></div>'),a.append(t)));for(var m=0;m<i.length;m+=1){var h=i.eq(m),v=m;c&&(v=parseInt(h.attr("data-swiper-slide-index"),10));var p=90*v,C=Math.floor(p/360);o&&(p=-p,C=Math.floor(-p/360));var y=Math.max(Math.min(h[0].progress,1),-1),_=0,g=0,b=0;v%4==0?(_=4*-C*l,b=0):(v-1)%4==0?(_=0,b=4*-C*l):(v-2)%4==0?(_=l+4*C*l,b=l):(v-3)%4==0&&(_=-l,b=3*l+4*l*C),o&&(_=-_),u||(g=_,_=0);var w="rotateX("+(u?0:-p)+"deg) rotateY("+(u?p:0)+"deg) translate3d("+_+"px, "+g+"px, "+b+"px)";if(y<=1&&y>-1&&(f=90*v+90*y,o&&(f=90*-v-90*y)),h.transform(w),d.slideShadows){var I=u?h.find(".swiper-slide-shadow-left"):h.find(".swiper-slide-shadow-top"),x=u?h.find(".swiper-slide-shadow-right"):h.find(".swiper-slide-shadow-bottom");0===I.length&&(I=e('<div class="swiper-slide-shadow-'+(u?"left":"top")+'"></div>'),h.append(I)),0===x.length&&(x=e('<div class="swiper-slide-shadow-'+(u?"right":"bottom")+'"></div>'),h.append(x)),I.length&&(I[0].style.opacity=Math.max(-y,0)),x.length&&(x[0].style.opacity=Math.max(y,0))}}if(n.css({"-webkit-transform-origin":"50% 50% -"+l/2+"px","-moz-transform-origin":"50% 50% -"+l/2+"px","-ms-transform-origin":"50% 50% -"+l/2+"px","transform-origin":"50% 50% -"+l/2+"px"}),d.shadow)if(u)t.transform("translate3d(0px, "+(r/2+d.shadowOffset)+"px, "+-r/2+"px) rotateX(90deg) rotateZ(0deg) scale("+d.shadowScale+")");else{var D=Math.abs(f)-90*Math.floor(Math.abs(f)/90),P=1.5-(Math.sin(2*D*Math.PI/360)/2+Math.cos(2*D*Math.PI/360)/2),S=d.shadowScale,k=d.shadowScale/P,N=d.shadowOffset;t.transform("scale3d("+S+", 1, "+k+") translate3d(0px, "+(s/2+N)+"px, "+-s/2/k+"px) rotateX(-90deg)")}var M=L.isSafari||L.isUiWebView?-l/2:0;n.transform("translate3d(0px,0,"+M+"px) rotateX("+(this.isHorizontal()?0:f)+"deg) rotateY("+(this.isHorizontal()?-f:0)+"deg)")},setTransition:function(e){var t=this.$el;this.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),this.params.cubeEffect.shadow&&!this.isHorizontal()&&t.find(".swiper-cube-shadow").transition(e)}},ie={setTranslate:function(){for(var t=this.slides,a=this.rtlTranslate,n=0;n<t.length;n+=1){var i=t.eq(n),r=i[0].progress;this.params.flipEffect.limitRotation&&(r=Math.max(Math.min(i[0].progress,1),-1));var s=-180*r,o=0,l=-i[0].swiperSlideOffset,d=0;if(this.isHorizontal()?a&&(s=-s):(d=l,l=0,o=-s,s=0),i[0].style.zIndex=-Math.abs(Math.round(r))+t.length,this.params.flipEffect.slideShadows){var u=this.isHorizontal()?i.find(".swiper-slide-shadow-left"):i.find(".swiper-slide-shadow-top"),c=this.isHorizontal()?i.find(".swiper-slide-shadow-right"):i.find(".swiper-slide-shadow-bottom");0===u.length&&(u=e('<div class="swiper-slide-shadow-'+(this.isHorizontal()?"left":"top")+'"></div>'),i.append(u)),0===c.length&&(c=e('<div class="swiper-slide-shadow-'+(this.isHorizontal()?"right":"bottom")+'"></div>'),i.append(c)),u.length&&(u[0].style.opacity=Math.max(-r,0)),c.length&&(c[0].style.opacity=Math.max(r,0))}i.transform("translate3d("+l+"px, "+d+"px, 0px) rotateX("+o+"deg) rotateY("+s+"deg)")}},setTransition:function(e){var t=this,a=t.slides,n=t.activeIndex,i=t.$wrapperEl;if(a.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),t.params.virtualTranslate&&0!==e){var r=!1;a.eq(n).transitionEnd(function(){if(!r&&t&&!t.destroyed){r=!0,t.animating=!1;for(var e=["webkitTransitionEnd","transitionend"],a=0;a<e.length;a+=1)i.trigger(e[a])}})}}},re={setTranslate:function(){for(var t=this.width,a=this.height,n=this.slides,i=this.$wrapperEl,r=this.slidesSizesGrid,s=this.params.coverflowEffect,o=this.isHorizontal(),l=this.translate,d=o?t/2-l:a/2-l,u=o?s.rotate:-s.rotate,c=s.depth,f=0,m=n.length;f<m;f+=1){var h=n.eq(f),v=r[f],C=(d-h[0].swiperSlideOffset-v/2)/v*s.modifier,y=o?u*C:0,_=o?0:u*C,g=-c*Math.abs(C),b=o?0:s.stretch*C,w=o?s.stretch*C:0;Math.abs(w)<.001&&(w=0),Math.abs(b)<.001&&(b=0),Math.abs(g)<.001&&(g=0),Math.abs(y)<.001&&(y=0),Math.abs(_)<.001&&(_=0);var I="translate3d("+w+"px,"+b+"px,"+g+"px)  rotateX("+_+"deg) rotateY("+y+"deg)";if(h.transform(I),h[0].style.zIndex=1-Math.abs(Math.round(C)),s.slideShadows){var x=o?h.find(".swiper-slide-shadow-left"):h.find(".swiper-slide-shadow-top"),D=o?h.find(".swiper-slide-shadow-right"):h.find(".swiper-slide-shadow-bottom");0===x.length&&(x=e('<div class="swiper-slide-shadow-'+(o?"left":"top")+'"></div>'),h.append(x)),0===D.length&&(D=e('<div class="swiper-slide-shadow-'+(o?"right":"bottom")+'"></div>'),h.append(D)),x.length&&(x[0].style.opacity=C>0?C:0),D.length&&(D[0].style.opacity=-C>0?-C:0)}}(p.pointerEvents||p.prefixedPointerEvents)&&(i[0].style.perspectiveOrigin=d+"px 50%")},setTransition:function(e){this.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}},se=[O,R,j,B,F,$,H,{name:"mousewheel",params:{mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarged:"container"}},create:function(){h.extend(this,{mousewheel:{enabled:!1,enable:V.enable.bind(this),disable:V.disable.bind(this),handle:V.handle.bind(this),handleMouseEnter:V.handleMouseEnter.bind(this),handleMouseLeave:V.handleMouseLeave.bind(this),lastScrollTime:h.now()}})},on:{init:function(){this.params.mousewheel.enabled&&this.mousewheel.enable()},destroy:function(){this.mousewheel.enabled&&this.mousewheel.disable()}}},{name:"navigation",params:{navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}},create:function(){h.extend(this,{navigation:{init:q.init.bind(this),update:q.update.bind(this),destroy:q.destroy.bind(this)}})},on:{init:function(){this.navigation.init(),this.navigation.update()},toEdge:function(){this.navigation.update()},fromEdge:function(){this.navigation.update()},destroy:function(){this.navigation.destroy()},click:function(t){var a=this.navigation,n=a.$nextEl,i=a.$prevEl;!this.params.navigation.hideOnClick||e(t.target).is(i)||e(t.target).is(n)||(n&&n.toggleClass(this.params.navigation.hiddenClass),i&&i.toggleClass(this.params.navigation.hiddenClass))}}},{name:"pagination",params:{pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",modifierClass:"swiper-pagination-",currentClass:"swiper-pagination-current",totalClass:"swiper-pagination-total",hiddenClass:"swiper-pagination-hidden",progressbarFillClass:"swiper-pagination-progressbar-fill",progressbarOppositeClass:"swiper-pagination-progressbar-opposite",clickableClass:"swiper-pagination-clickable",lockClass:"swiper-pagination-lock"}},create:function(){h.extend(this,{pagination:{init:Y.init.bind(this),render:Y.render.bind(this),update:Y.update.bind(this),destroy:Y.destroy.bind(this),dynamicBulletIndex:0}})},on:{init:function(){this.pagination.init(),this.pagination.render(),this.pagination.update()},activeIndexChange:function(){this.params.loop?this.pagination.update():void 0===this.snapIndex&&this.pagination.update()},snapIndexChange:function(){this.params.loop||this.pagination.update()},slidesLengthChange:function(){this.params.loop&&(this.pagination.render(),this.pagination.update())},snapGridLengthChange:function(){this.params.loop||(this.pagination.render(),this.pagination.update())},destroy:function(){this.pagination.destroy()},click:function(t){this.params.pagination.el&&this.params.pagination.hideOnClick&&this.pagination.$el.length>0&&!e(t.target).hasClass(this.params.pagination.bulletClass)&&this.pagination.$el.toggleClass(this.params.pagination.hiddenClass)}}},{name:"scrollbar",params:{scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag"}},create:function(){h.extend(this,{scrollbar:{init:X.init.bind(this),destroy:X.destroy.bind(this),updateSize:X.updateSize.bind(this),setTranslate:X.setTranslate.bind(this),setTransition:X.setTransition.bind(this),enableDraggable:X.enableDraggable.bind(this),disableDraggable:X.disableDraggable.bind(this),setDragPosition:X.setDragPosition.bind(this),onDragStart:X.onDragStart.bind(this),onDragMove:X.onDragMove.bind(this),onDragEnd:X.onDragEnd.bind(this),isTouched:!1,timeout:null,dragTimeout:null}})},on:{init:function(){this.scrollbar.init(),this.scrollbar.updateSize(),this.scrollbar.setTranslate()},update:function(){this.scrollbar.updateSize()},resize:function(){this.scrollbar.updateSize()},observerUpdate:function(){this.scrollbar.updateSize()},setTranslate:function(){this.scrollbar.setTranslate()},setTransition:function(e){this.scrollbar.setTransition(e)},destroy:function(){this.scrollbar.destroy()}}},{name:"parallax",params:{parallax:{enabled:!1}},create:function(){h.extend(this,{parallax:{setTransform:G.setTransform.bind(this),setTranslate:G.setTranslate.bind(this),setTransition:G.setTransition.bind(this)}})},on:{beforeInit:function(){this.params.parallax.enabled&&(this.params.watchSlidesProgress=!0)},init:function(){this.params.parallax&&this.parallax.setTranslate()},setTranslate:function(){this.params.parallax&&this.parallax.setTranslate()},setTransition:function(e){this.params.parallax&&this.parallax.setTransition(e)}}},{name:"zoom",params:{zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}},create:function(){var e=this,t={enabled:!1,scale:1,currentScale:1,isScaling:!1,gesture:{$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0}};"onGestureStart onGestureChange onGestureEnd onTouchStart onTouchMove onTouchEnd onTransitionEnd toggle enable disable in out".split(" ").forEach(function(a){t[a]=W[a].bind(e)}),h.extend(e,{zoom:t})},on:{init:function(){this.params.zoom.enabled&&this.zoom.enable()},destroy:function(){this.zoom.disable()},touchStart:function(e){this.zoom.enabled&&this.zoom.onTouchStart(e)},touchEnd:function(e){this.zoom.enabled&&this.zoom.onTouchEnd(e)},doubleTap:function(e){this.params.zoom.enabled&&this.zoom.enabled&&this.params.zoom.toggle&&this.zoom.toggle(e)},transitionEnd:function(){this.zoom.enabled&&this.params.zoom.enabled&&this.zoom.onTransitionEnd()}}},{name:"lazy",params:{lazy:{enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"}},create:function(){h.extend(this,{lazy:{initialImageLoaded:!1,load:z.load.bind(this),loadInSlide:z.loadInSlide.bind(this)}})},on:{beforeInit:function(){this.params.lazy.enabled&&this.params.preloadImages&&(this.params.preloadImages=!1)},init:function(){this.params.lazy.enabled&&!this.params.loop&&0===this.params.initialSlide&&this.lazy.load()},scroll:function(){this.params.freeMode&&!this.params.freeModeSticky&&this.lazy.load()},resize:function(){this.params.lazy.enabled&&this.lazy.load()},scrollbarDragMove:function(){this.params.lazy.enabled&&this.lazy.load()},transitionStart:function(){this.params.lazy.enabled&&(this.params.lazy.loadOnTransitionStart||!this.params.lazy.loadOnTransitionStart&&!this.lazy.initialImageLoaded)&&this.lazy.load()},transitionEnd:function(){this.params.lazy.enabled&&!this.params.lazy.loadOnTransitionStart&&this.lazy.load()}}},{name:"controller",params:{controller:{control:void 0,inverse:!1,by:"slide"}},create:function(){h.extend(this,{controller:{control:this.params.controller.control,getInterpolateFunction:K.getInterpolateFunction.bind(this),setTranslate:K.setTranslate.bind(this),setTransition:K.setTransition.bind(this)}})},on:{update:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},resize:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},observerUpdate:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},setTranslate:function(e,t){this.controller.control&&this.controller.setTranslate(e,t)},setTransition:function(e,t){this.controller.control&&this.controller.setTransition(e,t)}}},{name:"a11y",params:{a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}"}},create:function(){var t=this;h.extend(t,{a11y:{liveRegion:e('<span class="'+t.params.a11y.notificationClass+'" aria-live="assertive" aria-atomic="true"></span>')}}),(0,m.default)(J).forEach(function(e){t.a11y[e]=J[e].bind(t)})},on:{init:function(){this.params.a11y.enabled&&(this.a11y.init(),this.a11y.updateNavigation())},toEdge:function(){this.params.a11y.enabled&&this.a11y.updateNavigation()},fromEdge:function(){this.params.a11y.enabled&&this.a11y.updateNavigation()},paginationUpdate:function(){this.params.a11y.enabled&&this.a11y.updatePagination()},destroy:function(){this.params.a11y.enabled&&this.a11y.destroy()}}},{name:"history",params:{history:{enabled:!1,replaceState:!1,key:"slides"}},create:function(){h.extend(this,{history:{init:Z.init.bind(this),setHistory:Z.setHistory.bind(this),setHistoryPopState:Z.setHistoryPopState.bind(this),scrollToSlide:Z.scrollToSlide.bind(this),destroy:Z.destroy.bind(this)}})},on:{init:function(){this.params.history.enabled&&this.history.init()},destroy:function(){this.params.history.enabled&&this.history.destroy()},transitionEnd:function(){this.history.initialized&&this.history.setHistory(this.params.history.key,this.activeIndex)}}},{name:"hash-navigation",params:{hashNavigation:{enabled:!1,replaceState:!1,watchState:!1}},create:function(){h.extend(this,{hashNavigation:{initialized:!1,init:ee.init.bind(this),destroy:ee.destroy.bind(this),setHash:ee.setHash.bind(this),onHashCange:ee.onHashCange.bind(this)}})},on:{init:function(){this.params.hashNavigation.enabled&&this.hashNavigation.init()},destroy:function(){this.params.hashNavigation.enabled&&this.hashNavigation.destroy()},transitionEnd:function(){this.hashNavigation.initialized&&this.hashNavigation.setHash()}}},{name:"autoplay",params:{autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1}},create:function(){h.extend(this,{autoplay:{running:!1,paused:!1,run:te.run.bind(this),start:te.start.bind(this),stop:te.stop.bind(this),pause:te.pause.bind(this)}})},on:{init:function(){this.params.autoplay.enabled&&this.autoplay.start()},beforeTransitionStart:function(e,t){this.autoplay.running&&(t||!this.params.autoplay.disableOnInteraction?this.autoplay.pause(e):this.autoplay.stop())},sliderFirstMove:function(){this.autoplay.running&&(this.params.autoplay.disableOnInteraction?this.autoplay.stop():this.autoplay.pause())},destroy:function(){this.autoplay.running&&this.autoplay.stop()}}},{name:"effect-fade",params:{fadeEffect:{crossFade:!1}},create:function(){h.extend(this,{fadeEffect:{setTranslate:ae.setTranslate.bind(this),setTransition:ae.setTransition.bind(this)}})},on:{beforeInit:function(){if("fade"===this.params.effect){this.classNames.push(this.params.containerModifierClass+"fade");var e={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};h.extend(this.params,e),h.extend(this.originalParams,e)}},setTranslate:function(){"fade"===this.params.effect&&this.fadeEffect.setTranslate()},setTransition:function(e){"fade"===this.params.effect&&this.fadeEffect.setTransition(e)}}},{name:"effect-cube",params:{cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}},create:function(){h.extend(this,{cubeEffect:{setTranslate:ne.setTranslate.bind(this),setTransition:ne.setTransition.bind(this)}})},on:{beforeInit:function(){if("cube"===this.params.effect){this.classNames.push(this.params.containerModifierClass+"cube"),this.classNames.push(this.params.containerModifierClass+"3d");var e={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0};h.extend(this.params,e),h.extend(this.originalParams,e)}},setTranslate:function(){"cube"===this.params.effect&&this.cubeEffect.setTranslate()},setTransition:function(e){"cube"===this.params.effect&&this.cubeEffect.setTransition(e)}}},{name:"effect-flip",params:{flipEffect:{slideShadows:!0,limitRotation:!0}},create:function(){h.extend(this,{flipEffect:{setTranslate:ie.setTranslate.bind(this),setTransition:ie.setTransition.bind(this)}})},on:{beforeInit:function(){if("flip"===this.params.effect){this.classNames.push(this.params.containerModifierClass+"flip"),this.classNames.push(this.params.containerModifierClass+"3d");var e={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};h.extend(this.params,e),h.extend(this.originalParams,e)}},setTranslate:function(){"flip"===this.params.effect&&this.flipEffect.setTranslate()},setTransition:function(e){"flip"===this.params.effect&&this.flipEffect.setTransition(e)}}},{name:"effect-coverflow",params:{coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0}},create:function(){h.extend(this,{coverflowEffect:{setTranslate:re.setTranslate.bind(this),setTransition:re.setTransition.bind(this)}})},on:{beforeInit:function(){"coverflow"===this.params.effect&&(this.classNames.push(this.params.containerModifierClass+"coverflow"),this.classNames.push(this.params.containerModifierClass+"3d"),this.params.watchSlidesProgress=!0,this.originalParams.watchSlidesProgress=!0)},setTranslate:function(){"coverflow"===this.params.effect&&this.coverflowEffect.setTranslate()},setTransition:function(e){"coverflow"===this.params.effect&&this.coverflowEffect.setTransition(e)}}}];return void 0===A.use&&(A.use=A.Class.use,A.installModule=A.Class.installModule),A.use(se),A})},"Dqn+":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HXPS"),r=n(i),s=a("7g+Q"),o=n(s),l=a("6q39"),d=n(l),u=a("1KNX"),c=n(u),f=a("7biW"),m=n(f);t.default={name:"GroupList",props:{show:{type:Boolean,default:!1},defaultValue:{type:String,default:""},data:{type:Array,default:function(){return[]}}},components:{Icon:r.default,Popup:o.default,LoadMore:d.default,RScroll:c.default,MSearch:m.default},data:function(){return{showPop:!1,scrollOptions:{click:!0}}},watch:{show:{handler:function(e){this.showPop=e}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){var t=!1;return e.name===this.defaultValue&&(t=!0),t},selThis:function(e,t){this.showPop=!1,this.$emit("sel-group",e.name)},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.$emit("list-search",a)}},created:function(){}}},E0uh:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Iu/6"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"Loading",data:function(){return{show:!1}},components:{Spinner:i.default}}},"E3/m":function(e,t){},E3CK:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAAAXNSR0IArs4c6QAACVxJREFUeAHVmwuMVcUZx3dBsFrFWogUXVABIVSJxohohYqaTWsVazXGGt8RnzHGR0ubaNL4bBujRlsftVWioi1GSwjRKKmvYCpRgkRAfKDC6rYWQbE+UWD9/e/eWefMnTkzc+/eXfiS/87MN9/3n+/MmTNnZs7d1pY+kK6urnE0MwlMAD8Ee4MhVQwjlXwNOsFHYC1YAV4F/25tbV1J2lRpbQY7Fz4I3ingWHAC2As0Ih04zwfzwNN0zOZGyJruSweMBreAdaBZ8gHEN4K2pl9QbgMEpQ6YDTYBIxvJvGgKDab/wP9jh+MryrPA2Nx4e92eIHYEfwS6aFfmoPiFq6yzPAm/WwO+X6P/Cxje6xeYQkjDU8BKEJJ2KgaCjpBBon6p4sF2H7ClxGcDdSenxN4rNjTWCn4FdCdCspqKAdULuDJklKi/yASO/eMJPn/F5jvGpykpDQwFCxKC+Z0JANvhwPfoJNB0fYbRLhbXT1OcsFkCRhm/Xk0hbgOvgZhsxqAQBOUHY06B+ln2RWCj0fhGwNZVv49if9u/4TyEI8Eqt6VA+Qm3Qex+FLCNqQ/1cF0Sc7LqPyJ/kMtRVxmiUSBnwjvJ1xAcL4McWRbgGQLJ/zOIGu8MGhsBUkeCYtNiZ3DgAmbIIEMu8fFIB8efMnhkuh6MCfGV6nEcBBaBHLk5RAqJ1hy6OynyBUa7lnCNp77sVeprYylK700KtVPR43STjy2i27eMFN+bI/6m+oEyHtVh+IQxzkhvi/EW6iGuZ0X4QoHEU4A3tigy1zTV415QYXiMMc5MjysQhQqQ7gQ6M8llPiPEaeuxezLCnbTlhmMAeDPC5at+F+XOdkzePEbaO+TKpzjEyWkRu+Mi5Jd7A/Mo4bk0whWqDs5llWbw0i6ynlXgPZ44vSr4dSe1BPfJlyiHeh09Smx3AZ/4iCI67VxH25SV/YCluIZ8/sza0pLcERyqbKGNu6w27exc6tfbirI8th9Tf3+ZTaBOB0dXeOvUQ2BTpCd91UnPtN0oJMOA7r4rR9h2KXkIJrgkiWWN/JGmDXtEXIhyoKnISJNHg+HkTq4j/7ApV9NVpM86umgRLt2If0UNaw008osTPD2j57aeN4Wetd1q24hr8JsMbJkZ9/JbQDLdJsrIv1lgxPGoDGfb9NECUWYBosVVsro7VE3CoRv5VpUrNzlYHNvpD+LdKHVXlf6teSyIYjDD9atSr28rbyd7L5iHj47wC5LKha+W2xfgPLlAkFbQxNktkKwBufIeDjVzCrq7DW8sxXYHoA1Ru2uLThu+q119s8rb0dh4yAsHKYmNzeJObLZt4ZpI+VzS+6l73q7z5bHR5uoq6nyT3dnoL6D+euySRhi22rGe6Gsrojtdj8a0iJGvugulhrQr51UVOmeMdoRsucg7qz49CRfUSmEG0ESsC/s7SJGnMDogxdCxGaaJ5s8gV2ruIAQa5mabrXd0XW8TBYhvOzCy0Am6KUWNCD0auVIzSUKgCfd7VSK9o88Bv6+Wc5NzLYcp9MhERs4ySxfMYjuWyouDBv6KFToM1btUzqmij7S7E9iXtgM8unNTLN0a8qOx05I6WeDRSHoPfDubt7TcCU/PsX4ZGf66CU+D75bZOXXLNQzXghypOdzAObTMne40GC3C9WtPMNpY7Rx1bsBAj8YOmf6+x8Ieyjad7uJ8W5GQ93HthN/p4I4E/4oJHXcymfRrw6Hsi5V7cxa7gWCwPQh9/dZCZ4zrEypjOw2EZHnIz6eH5IEQkU+vRyNHtHorCM6nRAhuLDiUFOB5KML14xL3hqo0WX4KQ8rE8gV2I5i0dAbQI/g/Q2Faj6I2sx5Vmzu5umbwDEXXCbZ366zyHHh+aZVLs3COxOD7pUbdlV0aEVoqp0jNAQhO+4CUY/UzY8HAc1lCENqcDY9xmXpstcpNkbWaLHXH9jDOJWloktQqMCY667gvYuSbJF2XQShkd51bESjr5r0UqLPVGzUi5iZ0WXHfDgU+g8D/EnyNyYF2y3YeAy2aUqUDw4G2f2/kB0CyIoHINxp+jl/OMrpsQZQyGkyYeu6PNYVYSqeNATqC1CMcwh80WZ4K2ewSwk3UjWKS+q9tg98Cyu22LpL/nPo94Nlg28GjZfl/QPo7v6VlATw/sXnK8rRxPPXBT4jULdIQHwfKZJ7bCMZ7g5RJ0uW91MN1sWuUUFbbY12uhsuQrilpvOYTGbbXl9iXVb1OZWFypfxKmUNJ3U05Fw7PfWCJB4+LpxIUlToy8z3D76MfyTDU41ERbPWm6QAjujXZf9vhq2zj4ZqM96Jshm4Hbf70qGl9ExXaOgSjqR7DVXDMregxmgZ8UrONxuh4n2GG7p8mGHzuyfDzmZ5tuBpNzYjQ22MNaHMIx9FbhVcn0WgoHe3Y5RQ3Y7wn+ARokkxZ1WLmlcXEN8lb41ESu950p1lVH+J/vlWurAuudbr8uYIBBepHAf1YrFG5GgKdR/aGJP9Gisb2AvYkrymhInrejej0+bfA6B4yFVaqld1ZVrne7Doc9To9o14Cy2+jlY9lD8ag8hSQamT6v4rTW/bWdRnlRoZtLKg+reda9HlAnw6MPBgMAAsNffvj7MNB422sgut6zPQAqVaa40svAYPbLAdlf1PqsA1Ucg3nOdfUMzcEw8dBPxm2h5Amx+TlbJC4nyqIXT93sH9M8iFlnX3EBcNTgS1yHh333LosiFkfhxfaF0L+lKwocbjdIdBSeJuaPIl3pnMN92Z1gowhUG/Od4jmZBP1kwNxTwT64mZE+5whdYWDo36stdwwVdOZdZH1oRNxDgb6pa2RDWQmNBQCBG1glWEk1asn5xyiofbrcSa+G6x49dNH32arQG1WWQWlW4BIe5BngflGoZ2fyluj6JqmAx3n6YT+Z+wnFpKWSlJHiIHO+AGJts/7qrwNiI4QjqETlqTEql1nkkAo4sNBtHeTCJtrtAz6Q1M7QaEkd4SMIdbR/5HAv1mRUf/LbEI4hFhX90koPCpHg3fA1iL6/qqD6L4XGtavZK4B+gLVX6ItwN/AsL7vAadFgtB6XivRz0FfiTrgEbCfE07/FwlKv7G+ErwNmiWrIb4OmFd5/194KAKCbAVTgf6fW3sU+3iMYrZ04nE3OBIkv/JD8fn0TSF1GyJ4fZo/DOh8UesQ7WS1SNNzbWLYQv4z8C7oBB1gKXiKN8BK0qbKN88n7GQmGyFcAAAAAElFTkSuQmCC"},E3l2:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("just-word-item",{key:n,attrs:{item:t,"no-count":""},nativeOn:{click:function(a){e.goDetail(t,n)}},scopedSlots:e._u([{key:"list-item",fn:function(t){var n=t.item;return e._l(n.detailItem,function(t,i){return a("div",{key:i,staticClass:"each-slot-item"},[a("div",{staticClass:"top-content"},[e._v("汇票号: "+e._s(t.draftNumber))]),e._v(" "),a("div",{staticClass:"main-content"},[a("div",{staticClass:"info_part"},[e._v("\n                承汇类型: "+e._s(n.draftType)+"\n              ")]),e._v(" "),a("div",{staticClass:"info_part"},[e._v("\n                承汇人: "+e._s(n.accepter)+"\n              ")])])])})}}])})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},E6hn:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("u28h"),r=n(i),s=a("SAzG"),o=n(s),l=a("yt3/"),d=n(l),u=a("Qg39");t.default={name:"dealerOtherPart",props:{dealerConfig:{type:Array,default:function(){return[]}},dealerInfo:{type:Object,default:function(){return{}}}},computed:{config:function(){return this.dealerConfig}},data:function(){return{}},components:{PopSingleSelect:d.default,Datetime:r.default,XInput:o.default},watch:{dealerInfo:{handler:function(e){var t=e.drDealerPaymentTerm;this.config.forEach(function(e){if("tdAmountCopy1"===e.fieldCode||"prepaymentDueDate"===e.fieldCode){if(t&&t.includes("预收"))return void(e.hiddenInRun=!1);e.hiddenInRun=!0}})},deep:!0}},methods:{checkAmt:function(e){var t=e.tdAmountCopy1;t&&(e.tdAmountCopy1=Math.abs((0,u.toFixed)(t)))}}}},E7Wa:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("a3Yh"),o=n(s),l=a("3cXf"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("7g+Q"),C=n(p),y=a("PzEQ"),_=n(y),g=a("jnZd"),b=n(g),w=a("u28h"),I=n(w),x=a("kNGm"),D=n(x),P=a("0AQX"),S=a("HyXB"),k=(a("jLp1"),a("bKg5")),L=n(k),N=a("55ug"),M=n(N),T=a("wuIh"),A=n(T),O=a("vl8n"),R=n(O),j=a("+WR7"),B=n(j),E=a("zWMP"),F=a("Qg39");t.default={mixins:[L.default],components:{Cell:c.default,Group:m.default,Popup:C.default,XInput:v.default,XTextarea:_.default,PopupPicker:b.default,RPicker:R.default,PopBaseinfo:B.default,PopDealerList:M.default,PopMoneyOrderList:A.default,Datetime:I.default},data:function(){return{listId:"bb9ce973-2f62-4707-a54c-7e8605dc99d6",biReferenceId:"",selectedCost:[],costIndex:0,transCode:"",formData:{biComment:""},dealerInfo:{},showOrder:!1,orderList:[]}},computed:{thenTotalAmntBal:function(){var e=0;return this.orderList.forEach(function(t){t.tdAmount&&(e=(0,E.accAdd)(e,t.tdAmount))}),(0,F.toFixed)(e)}},methods:{submitOrder:function(){var e=this,t="",a=[],n=[{key:"draftNumber",message:"请选择协议号"},{key:"draftType",message:"请选择类型"},{key:"accepter",message:"请选择承兑人"},{key:"tdAmount",message:"请输入金额"},{key:"draftDate",message:"请选择出票日"},{key:"draftDueDate",message:"请选择到期日"},{key:"draftSellDate",message:"请选择出让日期"}];if(this.dealerInfo.dealerCode||(t="请选择往来"),t||this.orderList.length||(t="请选择汇票明细"),t||this.orderList.every(function(e){return n.every(function(a){return e[a.key]||0===e[a.key]||(t=a.message),!t}),a.push({tdId:e.tdId||"",draftNumber:e.draftNumber,draftType:e.draftType,accepter:e.accepter,tdAmount:e.tdAmount,draftDate:e.draftDate,draftDueDate:e.draftDueDate,draftSellDate:e.draftSellDate,comment:e.comment}),!t}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=S.saveAndStartWf,n=(0,o.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,d.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.formData.biComment,formData:(0,d.default)((0,r.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{dealerName_dealerDebit:e.dealerInfo.nickname,dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,thenAmntBal:e.dealerInfo.amntBal,thenTotalAmntBal:e.thenTotalAmntBal,dataSet:a}})),wfPara:(0,d.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=S.saveAndCommitTask),e.processCode.length||(t=S.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.attachment,n=void 0===a?[]:a,i=t.listId,s=void 0===i?"":i,o=(t.biComment,t.biReferenceId),l=void 0===o?"":o,d=t.formData,u=void 0===d?{}:d;e.attachment=n,e.listId=s,e.biReferenceId=l,e.handlerDefault={handler:u.handler,handlerName:u.handlerName,handlerUnit:u.handlerUnit,handlerUnitName:u.handlerUnitName,handlerRole:u.handlerRole,handlerRoleName:u.handlerRoleName},e.formData=(0,r.default)({},e.formData,e.handlerDefault,{biComment:u.biComment,biId:u.biId,biProcessStatus:u.biProcessStatus,creator:u.creator,modifer:u.modifer});var c=u.order,f=void 0===c?{}:c,m=f.dataSet,h=void 0===m?[]:m;e.dealerInfo={nickname:f.dealerName_dealerDebit,dealerCode:f.dealerDebit,dealerLabelName:f.drDealerLabel,amntBal:f.thenAmntBal},e.orderList=h,e.$loading.hide()})},hasDraftData:function(){return!!this.dealerInfo.dealerCode&&(0,o.default)({},"CRCDHP_DATA",{formData:this.formData,dealerInfo:this.dealerInfo,orderList:this.orderList})},getRelationData:function(){},selDealer:function(e){this.dealerInfo=(0,r.default)({},e)},selOrder:function(e){e.forEach(function(e){e.hasOrigin=!0,e.originAmt=e.tdAmount,e.draftDate=(0,D.default)(e.draftDate,"YYYY-MM-DD"),e.draftDueDate=(0,D.default)(e.draftDueDate,"YYYY-MM-DD")}),this.orderList=e},addOrder:function(){this.showOrder=!0},checkAmt:function(e,t){var a=e.hasOrigin,n=void 0!==a&&a,i=e.originAmt,r=void 0===i?0:i,s=e.tdAmount,o=void 0===s?0:s;n&&o>r&&(o=r),e.tdAmount=Math.abs((0,F.toFixed)(o))}},created:function(){var e=sessionStorage.getItem("CRCDHP_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.orderList=t.orderList,sessionStorage.removeItem("CRCDHP_DATA")}}}},ELRb:function(e,t){},EOEs:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.projectInfo.project?a("div",{staticClass:"project_ct_info"},[e._m(0),e._v(" "),a("div",{staticClass:"info_content"},[a("div",{staticClass:"each_info"},[a("span",{staticClass:"title"},[e._v("项目名称: ")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e.projectInfo.project||"无"))])]),e._v(" "),a("div",{staticClass:"each_info"},[a("span",{staticClass:"title"},[e._v("项目类型: ")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e.projectInfo.projectType_project||"无"))])])])]):e._e()},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"info_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-xiangmu"}),e._v("项目信息")])}],r={render:n,staticRenderFns:i};t.a=r},EPhH:function(e,t){},EQ3w:function(e,t){},ESmm:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("J0Oq"),o=n(s),l=a("rVsN"),d=n(l),u=a("3cXf"),c=n(u),f=a("a3Yh"),m=n(f),h=a("IHPB"),v=n(h),p=a("KH7x"),C=n(p),y=a("4YfN"),_=n(y),g=a("8VZL"),b=n(g),w=a("HXPS"),I=n(w),x=a("fQz5"),D=n(x),P=a("HyXB"),S=a("I3vJ"),k=a("I8ug"),L=a("1KNX"),N=n(L),M=a("7biW"),T=n(M),A=a("Ab2S"),O=n(A);t.default={components:{Tab:b.default,Icon:I.default,TabItem:D.default,RScroll:N.default,RSearch:T.default,addBtn:O.default},data:function(){return{listId:"78a798f8-0f3a-4646-aa8b-d5bb1fada28c",srhInpTx:"",matNature:[{name:"全部"},{name:"成品"},{name:"半成品"},{name:"商品"},{name:"原件"},{name:"虚拟件"},{name:"商品库存"},{name:"客供原料"},{name:"服务"}],activeTab:"",activeIndex:0,matterList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0},total:null,clickVisited:!1,action:{}}},methods:{goEditAds:function(){var e={path:"/materlist/addMater"};this.activeTab.length&&(e.query={matterType:this.activeTab}),this.$router.push(e)},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},goDetail:function(e,t){var a=this;this.clickVisited||(this.clickVisited=!0,e.visited=!0,this.$set(this.matterList,t,(0,_.default)({},e)),setTimeout(function(){a.clickVisited=!1,a.$router.push({path:"/materlist/materDetail",query:{transCode:e.transCode}})},200))},resetCondition:function(){this.matterList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.$refs.bScroll.resetPullDown()},tabClick:function(e,t){this.activeTab=t?e.name:"",this.activeIndex=t,this.resetCondition(),this.getMatList()},getDictByType:function(){var e=this;return(0,P.getDictByType)("processing").then(function(t){var a=t.tableContent,n=(0,C.default)(a,1);n[0];e.activeTab="",a.unshift({name:"全部"}),e.matNature=[].concat((0,v.default)(a))})},getMatList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=[{operator:"eq",value:this.activeTab,property:"processing"}];if(this.activeIndex||(a[0].operator="like"),this.srhInpTx){var n;a=[].concat((0,v.default)(a),[(n={link:"or",property_1:"inventoryCode",operator_1:"like",value_1:this.srhInpTx},(0,m.default)(n,"property_1","inventoryName"),(0,m.default)(n,"operator_1","like"),(0,m.default)(n,"value_2",this.srhInpTx),n)])}return(0,S.getMatList)({limit:this.limit,page:this.page,filter:(0,c.default)(a),listViewID:2132,sort:(0,c.default)([{property:"effectiveTime",direction:"desc"},{property:"inventoryName",direction:"desc"}])}).then(function(a){var n=a.dataCount,i=void 0===n?0:n,r=a.tableContent,s=void 0===r?[]:r,o="";t&&0===e.activeIndex&&e.total&&(o=i-e.total==0?"暂无新数据":"新增"+(i-e.total)+"条数据",e.$vux.toast.show({text:o,position:"top",width:"50%",type:"text",time:700})),0===e.activeIndex&&1===e.page&&sessionStorage.setItem("WL",i),s.forEach(function(t){t.inventoryPic=t.inventoryPic?"/H_roleplay-si/ds/download?url="+t.inventoryPic+"&width=400&height=400":e.getDefaultImg()}),e.hasNext=i>(e.page-1)*e.limit+s.length,e.matterList=1===e.page?s:[].concat((0,v.default)(e.matterList),(0,v.default)(s)),t||e.$nextTick(function(){e.resetScroll()})}).catch(function(t){e.resetScroll()})},resetScroll:function(){this.$refs.bScroll.finishPullDown(),this.$refs.bScroll.finishPullUp()},searchMat:function(e){var t=e.val,a=void 0===t?"":t;e.property;this.srhInpTx=a,this.resetCondition(),this.getMatList()},onPullingUp:function(){this.page++,this.getMatList()},onPullingDown:function(){this.page=1,this.getData(!0)},getSession:function(){var e=this;return new d.default(function(t){e.total=sessionStorage.getItem("WL"),t()})},getData:function(e){var t=this;return(0,o.default)(r.default.mark(function a(){return r.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getSession();case 2:if(!e){a.next=6;break}return a.next=5,t.getMatList(!0).then(function(){t.$nextTick(function(){t.$refs.bScroll.finishPullDown().then(function(){t.$refs.bScroll.finishPullUp()})})});case 5:return a.abrupt("return");case 6:return a.next=8,t.getMatList();case 8:case"end":return a.stop()}},a,t)}))()},changeVisitedStatus:function(){var e=this;setTimeout(function(){var t=[].concat((0,v.default)(e.matterList));t.forEach(function(e){e.visited=!1}),e.matterList=t},200)},getAppDetail:function(){var e=this;return(0,k.getAppDetail)(this.listId).then(function(t){var a=(0,C.default)(t,1),n=a[0],i=void 0===n?{}:n,r=i.action;e.action=r})}},watch:{$route:{handler:function(e,t){var a=e.path,n=void 0===a?"":a,i=e.meta,r=void 0===i?{}:i;"/materlist"===n&&(this.changeVisitedStatus(),r.reload&&(e.meta.reload=!1,this.srhInpTx="",this.activeTab="",this.activeIndex=0,this.resetCondition(),this.getData(!1)))}}},created:function(){var e=this;(0,o.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getAppDetail();case 2:return t.next=4,e.getSession();case 4:return t.next=6,e.getDictByType().then(function(){e.getMatList()});case 6:case"end":return t.stop()}},t,e)}))()}}},ET1x:function(e,t){},EVlf:function(e,t,a){"use strict";function n(e){a("2rRD")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("FnN8");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Q1rT"),o=a.n(s),l=a("zSNY"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-4cb9f110",null);t.default=c.exports},"EVt+":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("KH7x"),r=n(i),s=a("IHPB"),o=n(s),l=a("3cXf"),d=n(l),u=a("4YfN"),c=n(u),f=a("Jwlx"),m=n(f),h=a("HXPS"),v=n(h),p=a("7g+Q"),C=n(p),y=a("6q39"),_=n(y),g=a("L6VY"),b=n(g),w=a("+62G"),I=n(w),x=a("7biW"),D=n(x),P=a("hFVz"),S=(n(P),a("HyXB")),k=a("vHT0"),L=n(k),N=a("aHRR"),M=n(N);t.default={name:"PopDealerList",props:{dealerTitle:{type:String,default:"客户"},defaultValue:{type:Object,default:function(){return{}}},defaultContact:{type:Object,default:function(){return{}}},mode:{type:String,default:"1"},required:{type:Boolean,default:!1},noContact:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"},noRecord:{type:Boolean,default:!1},dealerParams:{type:Object,default:function(){return{}}}},computed:{noAddress:function(){var e=this.defaultValue,t=e.province,a=void 0===t?"":t,n=e.city,i=void 0===n?"":n,r=e.county,s=void 0===r?"":r,o=e.address,l=void 0===o?"":o;return!(a||i||s||l)}},directives:{TransferDom:I.default},components:{Icon:v.default,Popup:C.default,DSearch:D.default,LoadMore:_.default,PopContactList:M.default},data:function(){return{page:1,limit:10,hasNext:!0,showDealerPop:!1,srhInpTx:"",bScroll:null,dealerInfo:{},contactInfo:{},selItems:[],dealerList:[]}},watch:{defaultValue:{handler:function(){var e=this.defaultValue;this.dealerInfo=(0,m.default)((0,c.default)({},e)),this.selItems=[(0,c.default)({},e)]},immediate:!0},defaultContact:{handler:function(){this.contactInfo=(0,m.default)((0,c.default)({},this.defaultContact))},immediate:!0},dealerParams:{handler:function(){this.getDealer()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.bScroll&&e.bScroll.refresh()})},onHide:function(){this.showDealerPop=!1},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.dealerCode===e.dealerCode})},selDealer:function(e,t){if(this.showDealerPop=!1,this.selItems=[e],this.dealerInfo=(0,m.default)((0,c.default)({},e)),this.contactInfo={},this.noRecord||sessionStorage.setItem("DEALERLIST_SELITEMS",(0,d.default)(this.selItems)),"2"===this.mode)return void this.$emit("sel-dealer",(0,c.default)({},this.dealerInfo));this.$emit("sel-dealer",(0,d.default)(this.selItems))},selContact:function(e){this.$emit("sel-contact",e)},getDealer:function(){var e=this,t=[];this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:"dealerName"}]));var a=(0,c.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,d.default)(t)},this.dealerParams.data);return(0,S.requestData)({url:this.dealerParams.url,data:a}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,s=void 0===i?[]:i,l=JSON.parse(sessionStorage.getItem("DEALERLIST_SELITEMS"))||"";if(e.hasNext=n>(e.page-1)*e.limit+s.length,e.dealerList=1===e.page?s:[].concat((0,o.default)(e.dealerList),(0,o.default)(s)),l){e.selItems=[].concat((0,o.default)(l));var u=(0,r.default)(e.selItems,1),c=u[0];e.dealerInfo=void 0===c?{}:c,e.$emit("sel-dealer",(0,d.default)(e.selItems)),sessionStorage.removeItem("DEALERLIST_SELITEMS")}e.$nextTick(function(){e.bScroll.refresh(),e.hasNext&&e.bScroll.finishPullUp()})}).catch(function(e){b.default.show({content:e.message})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.dealerList=[],this.page=1,this.hasNext=!0,this.getDealer()},initScroll:function(){var e=this;this.$nextTick(function(){e.bScroll=new L.default(e.$refs.dealer,{click:!0,pullUpLoad:{threshold:20}}),e.bScroll.on("pullingUp",function(){e.hasNext&&(e.page++,e.getDealer())})})},add:function(){var e=this.dealerTitle;this.$router.push({path:"/adress/edit_ads",query:{add:1,pickVal:e}})},itemClick:function(){this.showDealerPop=!0}},created:function(){this.initScroll()}}},"EZe+":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("a3Yh"),o=n(s),l=a("4YfN"),d=n(l),u=a("MgeX"),c=n(u),f=a("IHPB"),m=n(f),h=a("3cXf"),v=n(h),p=a("HXPS"),C=n(p),y=a("SAzG"),_=n(y),g=a("PzEQ"),b=n(g),w=a("BGNQ"),I=n(w),x=a("z5TY"),D=n(x),P=a("0AQX"),S=a("HyXB"),k=a("bKg5"),L=n(k),N=a("vl8n"),M=n(N),T=a("9cRV"),A=n(T),O=a("ZQWM"),R=(n(O),a("yt3/")),j=(n(R),a("luHD")),B=n(j),E=a("zlAJ"),F=n(E),U=a("+WR7"),$=n(U),Q=a("VZtf"),H=n(Q),V=a("zWMP"),q=a("Qg39");t.default={data:function(){return{listId:"4472a646-f2c8-4a07-bad6-4c01f0b9292f",matterList:[],showMaterielPop:!1,transCode:"",formData:{biComment:""},priceMap:{},consumables:{},checkFieldList:[{key:"tdQty",message:"请填写本次申请数量"},{key:"price",message:"请填写估计价格"}]}},components:{Icon:C.default,XInput:_.default,RPicker:M.default,XTextarea:b.default,Group:D.default,PopMatterList:A.default,PopMatter:B.default,UploadFile:F.default,PopBaseinfo:$.default,Cell:I.default,RNumber:H.default},mixins:[L.default],computed:{totalAmount:function(){var e=this,t=0;return this.matterList.forEach(function(a){e.simpleCalcMatter(a),t=(0,V.accAdd)(t,a.noTaxAmount)}),Number(t)},taxAmount:function(){var e=0;return this.matterList.forEach(function(t){e=(0,q.toFixed)((0,V.accAdd)(e,t.taxAmount))}),e},tdAmount:function(){return parseFloat((0,V.accAdd)(this.totalAmount,Number(this.taxAmount)).toFixed(2))}},watch:{consumables:{handler:function(e){this.simpleCalcMatter(e)},deep:!0}},methods:{modifyMatter:function(e,t,a){this.consumables=JSON.parse((0,v.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,v.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},selMatter:function(e){var t=JSON.parse(e);t.forEach(function(e){e.price=e.price||"",e.tdQty=e.tdQty||""}),this.matterList=[].concat((0,m.default)(t))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},save:function(){var e=this,t="",a=[];if([{key:"matterList",message:"物料"}].every(function(a){return!!(0,c.default)(e[a.key]).length||(t="请选择"+a.message,!1)}),this.matterList.every(function(n){if(!n.tdQty)return t="请输入本次申请数量",!1;if(!n.price)return t="请输入估计价格",!1;var i={transObjCode:n.inventoryCode,inventoryName_transObjCode:n.inventoryName,tdProcessing:n.processing,specification_transObjCode:n.specification,measureUnit_transObjCode:n.measureUnit,assMeasureUnit:n.assMeasureUnit||null,assMeasureScale:n.assMeasureScale||null,assistQty:n.assistQty||0,tdQty:n.tdQty,price:n.price,tdAmount:n.tdAmount,comment:n.comment||null};return e.transCode&&(i.tdId=n.tdId||""),a.push(i),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=S.saveAndStartWf,n=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,order:{dataSet:a}}),i={listId:e.listId,biComment:"",formData:(0,v.default)(n),wfPara:(0,v.default)((0,o.default)({},e.processCode,{businessKey:e.businessKey,createdBy:n.creator}))};e.transCode&&(t=S.saveAndCommitTask,i.biReferenceId=e.biReferenceId,i.wfPara=(0,v.default)({businessKey:e.transCode,createdBy:n.creator,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=S.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var u=[];e.attachment=l;var c=s.order,f=c.dataSet,m=void 0===f?[]:f,h=!0,v=!1,p=void 0;try{for(var C,y=(0,r.default)(m);!(h=(C=y.next()).done);h=!0){var _=C.value;_=(0,d.default)({},_,{inventoryPic:_.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:_.inventoryName_transObjCode,inventoryCode:_.inventoryCode_transObjCode,specification:_.specification_transObjCode,processing:_.tdProcessing,measureUnit:_.measureUnit_transObjCode,inventoryColor:_.inventoryColor_transObjCode}),u.push(_)}}catch(e){v=!0,p=e}finally{try{!h&&y.return&&y.return()}finally{if(v)throw p}}e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:s.biComment,biId:s.biId,biProcessStatus:s.biProcessStatus,creator:s.creator,modifer:s.modifer}),e.biReferenceId=s.biReferenceId,e.matterList=u,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,o.default)({},"DZYHPCGSQ_DATA",{matter:this.matterList,formData:this.formData})},checkAmt:function(e){var t=e.tdQty,a=e.price;t=Math.abs((0,q.toFixed)(t)),a=Math.abs((0,q.toFixed)(a)),t&&(e.tdQty=t,e.tdAmount=(0,q.toFixed)((0,V.accMul)(t,a))),a&&(e.price=a,e.tdAmount=(0,q.toFixed)((0,V.accMul)(t,a)))}},created:function(){var e=sessionStorage.getItem("DZYHPCGSQ_DATA");e&&(this.matterList=JSON.parse(e).matter,this.formData=JSON.parse(e).formData,sessionStorage.removeItem("DZYHPCGSQ_DATA"))}}},"EfN/":function(e,t,a){"use strict";function n(e){a("uu7l")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("NzC7");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("DSiR"),o=a.n(s),l=a("pdRW"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-99dda45e",null);t.default=c.exports},EnXN:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages sj-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[a("div",{staticClass:"mater_list"},[a("div",{staticClass:"each_mater"},[a("div",{staticClass:"userInp_mode"},[a("div",{staticClass:"title"},[e._v("招聘信息")]),e._v(" "),a("group",{staticClass:"SJ_group",on:{"group-title-margin-top":function(e){}}},[a("popup-picker",{attrs:{data:e.groupList,placeholder:"请选择"},model:{value:e.formData.applicationDepartment,callback:function(t){e.$set(e.formData,"applicationDepartment",t)},expression:"formData.applicationDepartment"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("申请部门")])])],2),e._v(" "),a("popup-picker",{attrs:{data:e.roleList,placeholder:"请选择"},model:{value:e.formData.applicationPost,callback:function(t){e.$set(e.formData,"applicationPost",t)},expression:"formData.applicationPost"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("申请岗位")])])],2),e._v(" "),a("x-input",{attrs:{"text-align":"right",placeholder:"请填写",type:"number"},on:{"on-blur":function(t){e.checkAmt(e.formData.recruitmentPeople)},"on-focus":function(t){e.getFocus(t)}},model:{value:e.formData.recruitmentPeople,callback:function(t){e.$set(e.formData,"recruitmentPeople",e._n(t))},expression:"formData.recruitmentPeople"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("招聘人数")])])],2),e._v(" "),a("x-textarea",{attrs:{title:"任职要求",max:100},model:{value:e.formData.jobRequirements,callback:function(t){e.$set(e.formData,"jobRequirements",t)},expression:"formData.jobRequirements"}}),e._v(" "),a("x-textarea",{attrs:{title:"岗位描述",max:100},model:{value:e.formData.postDescription,callback:function(t){e.$set(e.formData,"postDescription",t)},expression:"formData.postDescription"}}),e._v(" "),a("x-textarea",{attrs:{title:"招聘原因",max:100},model:{value:e.formData.recruitmentReson,callback:function(t){e.$set(e.formData,"recruitmentReson",t)},expression:"formData.recruitmentReson"}}),e._v(" "),a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1)])])]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},EzZd:function(e,t){},EzjB:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("3cXf"),o=n(s),l=a("a3Yh"),d=n(l),u=a("4YfN"),c=n(u),f=a("7g+Q"),m=n(f),h=a("+62G"),v=n(h),p=a("z5TY"),C=n(p),y=a("BGNQ"),_=n(y),g=a("iR2W"),b=n(g),w=a("u28h"),I=n(w),x=a("SAzG"),D=n(x),P=a("PzEQ"),S=n(P),k=a("0AQX"),L=a("HyXB"),N=a("I3vJ"),M=a("bKg5"),T=n(M),A=a("wRUd"),O=n(A),R=a("i61Q"),j=n(R),B=a("hByD"),E=n(B),F=a("89pA"),U=n(F),$=a("vl8n"),Q=n($),H=a("+WR7"),V=n(H),q=a("0o6b"),Y=a("zWMP"),X=a("Qg39");t.default={directives:{TransferDom:v.default},components:{Popup:m.default,PopWorkList:j.default,Group:C.default,Cell:_.default,Datetime:I.default,XInput:D.default,XTextarea:S.default,PopManagerList:O.default,RPicker:Q.default,PopWorkFacilityList:E.default,PopWarehouseList:U.default,PopBaseinfo:V.default},data:function(){return{listId:"2372f734-93c1-11e8-85db-005056a136d0",showWorkPop:!1,showManagerPop:!1,showFacilityPop:!1,formData:{biComment:"",biProcessStatus:""},workInfo:[],defaultManager:{},defaultFacility:{},scanResult:"",warehouse:{},filter:[{operator:"in",property:"whCode",value:""},{operator:"in",property:"parentInvCode",value:""}],filterParams:[{property:"warehouseType",operator:"eq",value:"加工车间仓"}],managerIndex:null,facilityIndex:null}},mixins:[T.default],filters:{numberComma:b.default},methods:{selWork:function(e){this.workInfo=JSON.parse(e),this.workInfo.forEach(function(e,t){e.tdQty=e.thenQtyBal})},showManager:function(e){this.managerIndex=e,this.showManagerPop=!this.showManagerPop},selManager:function(e){this.defaultManager=JSON.parse(e),this.workInfo[this.managerIndex].dealerName_dealerDebit=this.defaultManager.dealerName,this.workInfo[this.managerIndex].dealerDebit=this.defaultManager.dealerCode,this.workInfo[this.managerIndex].drDealerLabel=this.defaultManager.dealerLabelName},showFacility:function(e){this.facilityIndex=e,this.showFacilityPop=!this.showFacilityPop},selFacility:function(e){this.defaultFacility=e,this.workInfo[this.facilityIndex].facilityName_facilityObjCode=this.defaultFacility.facilityName,this.workInfo[this.facilityIndex].facilityObjCode=this.defaultFacility.facilityCode,this.workInfo[this.facilityIndex].facilityTypebase_facilityObjCode=this.defaultFacility.facilityType},checkAmt:function(e,t){var a=e.tdQty,n=e.thenQtyBal,i=e.numberWorkers;a&&(a>n&&(e.tdQty=n),e.tdQty=Math.abs((0,X.toFixed)(a)),e.boms&&e.boms.forEach(function(t){var a=(0,Y.accMul)(e.tdQty,t.qty);t.tdQty=Math.abs((0,X.toFixed)(a))})),i&&(e.numberWorkers=Math.round(i))},selWarehouse:function(e){var t=this;this.warehouse=JSON.parse(e),this.filter[0].value=this.warehouse.warehouseCode,this.workInfo.forEach(function(e,a){t.filter[1].value=e.inventoryCode,t.getTaskBom(a).then(function(n){e.boms=n,t.$set(t.workInfo,a,(0,c.default)({},e))})})},submitOrder:function(){var e=this,t="",a=[],n=[{key:"tdQty",message:"请填写派工数量"},{key:"dealerName_dealerDebit",message:"请选择组长"},{key:"promDeliTime",message:"请选择要求完工日期"}];if(this.workInfo.length||(t="请选择工序"),t||this.warehouse.warehouseCode||(t="请选择在制仓库"),t||this.workInfo.every(function(e){n.every(function(a){return!(!e[a.key]&&0!==e[a.key])||(t=a.message,!1)});var i=[];return e.boms.forEach(function(t){i.push({tdQty:t.tdQty,proPointCode:e.proPointCode,processCode:e.transCode,processProCode:e.inventoryCode,outPutMatCode:t.inventoryCode,bomSpecificLoss:t.specificLoss,thenQtyStock:t.qtyBal,specification_outPutMatCode:t.specification,tdProcessing:t.processing,inventoryName_outPutMatCode:t.inventoryName,measureUnit_outPutMatCode:t.measureUnit,bomType:t.bomType,bomQty:t.qty,thenLockQty:t.tdQty,thenQtyBal:0})}),a.push({transMatchedCode:e.transCode,processProQty:e.processProQty||null,transObjCode:e.inventoryCode,inventoryName_transObjCode:e.inventoryName,tdProcessing:e.processing,proPointCode:e.proPointCode,procedureName_proPointCode:e.procedureName,tdId:e.tdId||null,productDemandQty:e.productDemandQty,thenLockQty:e.thenLockQty,thenQtyBal:e.thenQtyBal,tdQty:e.tdQty,dealerName_dealerDebit:e.dealerName_dealerDebit,dealerDebit:e.dealerDebit,drDealerLabel:e.drDealerLabel,numberWorkers:e.numberWorkers||null,facilityName_facilityObjCode:e.facilityName_facilityObjCode||null,proFlowCode:e.proFlowCode||"",technicsName_proFlowCode:e.technicsName,promDeliTime:e.promDeliTime,facilityObjCode:e.facilityObjCode||null,facilityTypebase_facilityObjCode:e.facilityTypebase_facilityObjCode||null,boms:i}),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=L.saveAndStartWf,n=(0,d.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:e.formData.biComment});var i={listId:e.listId,biComment:e.formData.biComment,formData:(0,o.default)((0,c.default)({},e.formData,{handlerEntity:e.entity.dealerName,order:{containerCode:e.warehouse.warehouseCode,dataSet:a}})),wfPara:(0,o.default)(n)};e.isResubmit&&(t=L.saveAndCommitTask,i.biReferenceId=e.biReferenceId),e.processCode.length||(t=L.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),console.log(i),e.saveData(t,i)}})},scanQRCode:function(){var e=this;(0,q.scanQRCode)().then(function(t){var a=t.result,n=void 0===a?"":a;e.scanResult=n})},onHistoryBack:function(){return!this.showWorkPop||(this.showWorkPop=!1,!1)},getFormData:function(){var e=this;return(0,k.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=t.attachment;var o=[],l=s.order,d=l.dataSet,u=void 0===d?[]:d,f=!0,m=!1,h=void 0;try{for(var v,p=(0,r.default)(u);!(f=(v=p.next()).done);f=!0){var C=v.value;C=(0,c.default)({},C,{inventoryCode:C.transObjCode,inventoryName:C.inventoryName_outPutMatCode,procedureName:C.procedureName_proPointCode,technicsName:C.technicsName_proFlowCode,transCode:C.transMatchedCode,processing:C.tdProcessing||null}),C.boms.forEach(function(e){e.inventoryCode=e.outPutMatCode,e.nventoryName=e.inventoryName_outPutMatCode,e.measureUnit=e.measureUnit_outPutMatCode,e.parentInvCode=e.processProCode,e.processing=e.tdProcessing,e.qty=e.bomQty,e.qtyBal=e.thenQtyStock,e.specification=e.specification_outPutMatCode,e.specificLoss=e.bomSpecificLoss}),o.push(C)}}catch(e){m=!0,h=e}finally{try{!f&&p.return&&p.return()}finally{if(m)throw h}}e.workInfo=o,e.warehouse={warehouseCode:l.containerCode,warehouseName:l.warehouseName_containerCode,warehouseType:l.warehouseType_containerCode,warehouseProvince:l.warehouseProvince_containerCode,warehouseCity:l.warehouseCity_containerCode,warehouseDistrict:l.warehouseDistrict_containerCode,warehouseAddress:l.warehouseAddress_containerCode},e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,c.default)({},e.handlerDefault,{biComment:s.biComment,biId:s.biId,biProcessStatus:s.biProcessStatus,creator:s.creator,modifer:s.modifer}),e.biReferenceId=s.biReferenceId,e.$loading.hide()})},getTaskBom:function(e){var t=this;return this.filter[0].value=this.warehouse.warehouseCode,(0,N.getTaskBom)({filter:(0,o.default)(this.filter)}).then(function(a){var n=a.tableContent,i=void 0===n?[]:n;return i.forEach(function(a){var n=t.workInfo[e].tdQty,i=(0,Y.accMul)(n,a.qty,1+a.specificLoss);a.tdQty=(0,X.toFixed)(i)}),i})}},created:function(){}}},"F+mj":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MgeX"),r=n(i),s=a("3cXf"),o=n(s);t.default={name:"WarehouseContent",props:{warehouse:{type:Object,default:function(){return{}}},warehouseOut:{type:Object,default:function(){return{}}}},data:function(){return{activeIndex:0}},computed:{noAddress:function(){var e=this.warehouse,t=e.warehouseProvince,a=void 0===t?"":t,n=e.warehouseCity,i=void 0===n?"":n,r=e.warehouseDistrict,s=void 0===r?"":r,o=e.warehouseAddress,l=void 0===o?"":o;return!(a||i||s||l)},warehouseList:function(){var e=[],t=JSON.parse((0,o.default)(this.warehouse)),n=JSON.parse((0,o.default)(this.warehouseOut));return(0,r.default)(t).length&&e.push(t),(0,r.default)(n).length&&e.push(n),t.type="in",n.type="out",e.forEach(function(e){var t=e.warehouseProvince,n=void 0===t?"":t,i=e.warehouseCity,r=void 0===i?"":i,s=e.warehouseDistrict,o=void 0===s?"":s,l=e.warehouseAddress,d=void 0===l?"":l;e.warehousePic=a("03IF")("./warehouse_"+e.type+".png"),e.address=n||r||o||d?""+n+r+o+d:"暂无"}),e}},methods:{handleData:function(e){},warehouseChange:function(e,t){this.activeIndex=t}}}},F0gW:function(e,t,a){"use strict";function n(e){a("yT5Y")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("SSut");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Vfwi"),o=a.n(s),l=a("z2pA"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-304d6d4c",null);t.default=c.exports},F2L3:function(e,t,a){"use strict";function n(e){a("Bs+d")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("eRTo");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("VOK4"),o=a.n(s),l=a("+GaD"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-036ecb08",null);t.default=c.exports},F8Jj:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noPrice:!0,noCount:!0},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},F9M6:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("hRKE"),o=n(s),l=a("fBTP"),d=n(l),u=a("nKjL"),c=a("aiMs"),f=n(c),m=a("uJtz"),h=n(m),v=a("71iV");n(v);t.default={name:"picker",components:{Flexbox:u.Flexbox,FlexboxItem:u.FlexboxItem},created:function(){if(0!==this.columns){var e=this.columns;this.store=new f.default(this.data,e,this.fixedColumns||this.columns),this.currentData=this.store.getColumns(this.value)}},mounted:function(){var e=this;this.uuid=Math.random().toString(36).substring(3,8),this.$nextTick(function(){e.render(e.currentData,e.currentValue)})},props:{data:Array,columns:{type:Number,default:0},fixedColumns:{type:Number,default:0},value:Array,itemClass:{type:String,default:"scroller-item"},columnWidth:Array},methods:{getNameValues:function(){return(0,h.default)(this.currentValue,this.data)},getId:function(e){return"#vux-picker-"+this.uuid+"-"+e},render:function(e,t){this.count=this.currentData.length;var a=this;if(e&&e.length){var n=this.currentData.length;if(t.length<n)for(var i=0;i<n;i++)this.$set(a.currentValue,i,e[i][0].value||e[i][0]);for(var r=0;r<e.length;r++){var s=function(n){if(!document.querySelector(a.getId(n)))return{v:void 0};a.scroller[n]&&a.scroller[n].destroy(),a.scroller[n]=new d.default(a.getId(n),{data:e[n],defaultValue:t[n]||e[n][0].value,itemClass:a.itemClass,onSelect:function(e){a.$set(a.currentValue,n,e),(!this.columns||this.columns&&a.getValue().length===a.store.count)&&a.$nextTick(function(){a.$emit("on-change",a.getValue())}),0!==a.columns&&a.renderChain(n+1)}}),a.currentValue&&a.scroller[n].select(t[n])}(r);if("object"===(void 0===s?"undefined":(0,o.default)(s)))return s.v}}},renderChain:function(e){if(this.columns&&!(e>this.count-1)){var t=this,a=this.getId(e);this.scroller[e].destroy();var n=this.store.getChildren(t.getValue()[e-1]);this.scroller[e]=new d.default(a,{data:n,itemClass:t.item_class,onSelect:function(a){t.$set(t.currentValue,e,a),t.$nextTick(function(){t.$emit("on-change",t.getValue())}),t.renderChain(e+1)}}),n.length?(this.$set(this.currentValue,e,n[0].value),this.renderChain(e+1)):this.$set(this.currentValue,e,null)}},getValue:function(){for(var e=[],t=0;t<this.currentData.length;t++){if(!this.scroller[t])return[];e.push(this.scroller[t].value)}return e},emitValueChange:function(e){(!this.columns||this.columns&&e.length===this.store.count)&&this.$emit("on-change",e)}},data:function(){return{scroller:[],count:0,uuid:"",currentData:this.data,currentValue:this.value}},watch:{value:function(e){(0,r.default)(e)!==(0,r.default)(this.currentValue)&&(this.currentValue=e)},currentValue:function(e,t){if(this.$emit("input",e),0!==this.columns)e.length>0&&(0,r.default)(e)!==(0,r.default)(t)&&(this.currentData=this.store.getColumns(e),this.$nextTick(function(){this.render(this.currentData,e)}));else if(e.length)for(var a=0;a<e.length;a++)this.scroller[a]&&this.scroller[a].value!==e[a]&&this.scroller[a].select(e[a]);else this.render(this.currentData,[])},data:function(e){(0,r.default)(e)!==(0,r.default)(this.currentData)&&(this.currentData=e)},currentData:function(e){var t=this;if("[object Array]"===Object.prototype.toString.call(e[0]))this.$nextTick(function(){t.render(e,t.currentValue),t.$nextTick(function(){t.emitValueChange(t.getValue()),(0,r.default)(t.getValue())!==(0,r.default)(t.currentValue)&&(!t.columns||t.columns&&t.getValue().length===t.store.count)&&(t.currentValue=t.getValue())})});else if(0!==this.columns){if(!e.length)return;var a=this.columns;this.store=new f.default(e,a,this.fixedColumns||this.columns),this.currentData=this.store.getColumns(this.currentValue)}}},beforeDestroy:function(){for(var e=0;e<this.count;e++)this.scroller[e]&&this.scroller[e].destroy(),this.scroller[e]=null}}},FA8z:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"icon",props:{type:String,isMsg:Boolean},computed:{className:function(){return"weui-icon weui_icon_"+this.type+" weui-icon-"+this.type.replace(/_/g,"-")}}}},FBTb:function(e,t,a){"use strict";function n(e){a("lioh")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("xZDR");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("UZRl"),o=a.n(s),l=a("zwn1"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-32ee0a6d",null);t.default=c.exports},FDGp:function(e,t){},FFsY:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("4YfN"),o=n(s),l=a("KH7x"),d=n(l),u=a("3cXf"),c=n(u),f=a("0AQX"),m=a("+VRO"),h=n(m),v=a("BUFe"),p=n(v),C=a("AupE"),y=n(C),_=a("bFc7"),g=n(_),b=a("6WeX"),w=n(b),I=a("3NX5"),x=n(I),D=a("zWMP");a("Qg39");t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"",contactInfo:{}}},components:{workFlow:y.default,RAction:p.default,contactPart:g.default,PriceTotal:w.default,MatterList:x.default},mixins:[h.default],methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,f.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(e.submitInfo=JSON.parse((0,c.default)(t)),!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.formData,n=void 0===a?{}:a,i=n.order,s=n.inPut,l=i.dataSet,u=s.dataSet,f=(0,d.default)(u,1),m=f[0],h=!0,v=!1,p=void 0;try{for(var C,y=(0,r.default)(l);!(h=(C=y.next()).done);h=!0){var _=C.value;e.count=(0,D.accAdd)(e.count,_.tdAmount),_.inventoryPic=_.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){v=!0,p=e}finally{try{!h&&y.return&&y.return()}finally{if(v)throw p}}e.attachment=t.attachment,e.orderInfo=n,e.contactInfo=(0,o.default)({},i,m,n,{creatorName:i.dealerDebitContactPersonName,dealerName:i.dealerName_dealerDebit,dealerMobilePhone:n.dealerDebitContactInformation,dealerContactPersonName:n.dealerDebitContactPersonName,dealerCode:i.dealerDebit,dealerLabelName:i.drDealerLabel,province:i.province_dealerDebit,city:i.city_dealerDebit,county:i.county_dealerDebit,address:i.address_dealerDebit}),e.workFlowInfoHandler()})}}}},FGYN:function(e,t,a){"use strict";function n(e){a("12Rn")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("W3IX");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("5pt1"),o=a.n(s),l=a("/ePQ"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-6b5ec819",null);t.default=c.exports},"FIt+":function(e,t,a){"use strict";function n(e){a("rsKK")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("h8ox");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("FTWd"),o=a.n(s),l=a("Yn2B"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-328b5c99",null);t.default=c.exports},FKOt:function(e,t,a){"use strict";function n(e){a("wGz/")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("UFIK");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("rQbX"),o=a.n(s),l=a("/ZBz"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-68251586",null);t.default=c.exports},FKiD:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("3cXf"),o=n(s),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("u28h"),C=n(p),y=a("PzEQ"),_=n(y),g=a("kNGm"),b=(n(g),a("jnZd")),w=n(b),I=(a("0AQX"),a("Z6x5")),x=a("HyXB"),D=a("bKg5"),P=n(D),S=a("vl8n"),k=n(S),L=a("+WR7"),N=n(L),M=a("iikc"),T=n(M);t.default={data:function(){return{listId:"98519ac0-d2d7-11e8-b8ca-0279b2c6a380",formData:{biId:"",biComment:"",biProcessStatus:""},biReferenceId:"",MobileWarn:!1,idCardWarn:!1,groupList:[],roleList:[]}},components:{Cell:c.default,Group:m.default,XInput:v.default,Datetime:C.default,XTextarea:_.default,PopupPicker:w.default,RPicker:k.default,PopBaseinfo:N.default,PopSalesmanList:T.default},mixins:[P.default],methods:{getAllGroup:function(){var e=this;(0,I.getAllGroup)().then(function(t){var a=[];t.tableContent.forEach(function(e){a.push(e.groupName)}),e.groupList.push(a)})},getAllRoleInfo:function(){var e=this;(0,I.getAllRoleInfo)().then(function(t){var a=[];t.tableContent.forEach(function(e){a.push(e.roleName)}),e.roleList.push(a)})},submitOrder:function(){var e=this,t="",a=[{key:"hiresName",message:"员工"}];if(t||a.every(function(a){return!!e.formData[a.key]||(t="请选择"+a.message,!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=x.saveAndStartWf,a=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,hiresDepartMent:e.formData.hiresDepartMent&&e.formData.hiresDepartMent[0],hiresPost:e.formData.hiresPost&&e.formData.hiresPost[0]}),n={listId:e.listId,biComment:"",formData:(0,o.default)(a)};e.isResubmit&&(t=x.saveAndCommitTask,n.biReferenceId=e.biReferenceId,n.wfPara=(0,o.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=x.submitAndCalc,delete n.wfPara,delete n.biReferenceId),e.biReferenceId&&(n.biReferenceId=e.biReferenceId),e.saveData(t,n)}})},hasDraftData:function(){var e=this.formData;if(e.profileName||e.idCard)return(0,r.default)({},"YGRZ_DATA",{formData:e})}},created:function(){this.getAllGroup(),this.getAllRoleInfo();var e=sessionStorage.getItem("YGRZ_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,sessionStorage.removeItem("YGRZ_DATA")}}}},FLuL:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"childPage"},[a("r-scroll",{ref:"bScroll",staticClass:"content",attrs:{options:e.scrollOptions}},[a("div",[a("div",{staticClass:"mater_baseinfo vux-1px-b"},[a("div",{staticClass:"mater_property"},[a("div",{staticClass:"each_property vux-1px-b "},[a("label",{staticClass:"required"},[e._v("往来编码:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.dealer.dealerCode,expression:"dealer.dealerCode"}],staticClass:"property_val",class:{readonly:""!==e.transCode},attrs:{type:"text",readonly:""!==e.transCode},domProps:{value:e.dealer.dealerCode},on:{input:function(t){t.target.composing||e.$set(e.dealer,"dealerCode",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"each_property required"},[a("label",{staticClass:"required"},[e._v("往来名称:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.dealer.dealerName,expression:"dealer.dealerName"}],staticClass:"property_val",attrs:{type:"text"},domProps:{value:e.dealer.dealerName},on:{input:function(t){t.target.composing||e.$set(e.dealer,"dealerName",t.target.value)}}})])]),e._v(" "),a("upload-image",{attrs:{src:e.MatPic},on:{"on-upload":e.onUpload,"on-error":e.getDefaultImg}})],1),e._v(" "),e._l(e.dealerConfig,function(t,n){return a("div",{key:n},["dealerLabelName"!==t.fieldCode&&"province"!==t.fieldCode?["r2Textfield"===t.xtype?a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v(e._s(t.fieldLabel))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.dealer[t.fieldCode],expression:"dealer[item.fieldCode]"}],staticClass:"property_val",attrs:{type:"text"},domProps:{value:e.dealer[t.fieldCode]},on:{blur:function(a){e.check(t)},input:function(a){a.target.composing||e.$set(e.dealer,t.fieldCode,a.target.value)}}}),e._v(" "),t.warn?a("icon",{staticClass:"warn",attrs:{type:"warn"}}):e._e()],1):e._e(),e._v(" "),"r2Numberfield"===t.xtype?a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v(e._s(t.fieldLabel))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.dealer[t.fieldCode],expression:"dealer[item.fieldCode]"}],staticClass:"property_val",attrs:{type:"number"},domProps:{value:e.dealer[t.fieldCode]},on:{blur:function(a){e.check(t)},input:function(a){a.target.composing||e.$set(e.dealer,t.fieldCode,a.target.value)}}}),e._v(" "),t.warn?a("icon",{staticClass:"warn",attrs:{type:"warn"}}):e._e()],1):e._e(),e._v(" "),"r2Combo"===t.xtype?a("r-picker",{attrs:{title:t.fieldLabel+":",data:t.remoteData,value:"dealerStatus"===t.fieldCode?e.dealerStatus:e.dealer[t.fieldCode]},model:{value:"dealerStatus"===t.fieldCode?e.dealerStatus:e.dealer[t.fieldCode],callback:function(a){e.$set("dealerStatus"===t.fieldCode?e.dealerStatus:e.dealer,t.fieldCode,a)},expression:"item.fieldCode === 'dealerStatus' ? dealerStatus : dealer[item.fieldCode]"}}):e._e()]:"province"===t.fieldCode?[a("div",{staticClass:"each_property vux-1px-b",on:{click:function(t){e.showAddress=!0}}},[a("label",[e._v("省市区:")]),e._v(" "),a("div",{staticClass:"picker"},[a("span",{staticClass:"mater_nature"},[e._v(e._s(e.dealer.province)+e._s(e.dealer.city)+e._s(e.dealer.county))]),e._v(" "),a("span",{staticClass:"iconfont icon-gengduo"})]),e._v(" "),a("x-address",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{title:"省市区:",list:e.addressData,value:e.cAccountAddress,show:e.showAddress},on:{"on-hide":function(t){e.getAddress()},"on-shadow-change":e.changeAddress,"update:show":function(t){e.showAddress=t}}})],1)]:[a("div",{staticClass:"each_property vux-1px-b",on:{click:e.DealerPop}},[a("label",{staticClass:"required"},[e._v(e._s(t.fieldLabel))]),e._v(" "),a("div",{staticClass:"picker"},[a("span",{staticClass:"mater_nature"},[e._v(e._s(e.dealer[t.fieldCode]))]),e._v(" "),a("span",{staticClass:"iconfont icon-gengduo"})])])]],2)}),e._v(" "),e._l(e.dealerDuplicateConfig,function(t,n){return t.isHidden?e._e():a("div",{key:t.name+"+"+n},[e.dealerDuplicateData[t.name].length?a("group",{staticClass:"duplicate-item",attrs:{title:t.title}},e._l(e.dealerDuplicateData[t.name],function(i,r){return a("div",{key:r,class:{has_border:r<e.dealerDuplicateData[t.name].length-1}},e._l(t.items,function(t,r){return null!=i[t.fieldCode]?a("div",{key:r},["r2Combo"===t.editorType?a("r-picker",{staticClass:"vux-1px-t",attrs:{title:t.text,data:t.remoteData,value:i[t.fieldCode],mode:"4","has-border":!1,required:!t.allowBlank},on:{"on-change":function(a){e.onChange(a,n,t,i)}},model:{value:i[t.fieldCode],callback:function(a){e.$set(i,t.fieldCode,a)},expression:"sItem[dItem.fieldCode]"}}):e._e(),e._v(" "),"r2Numberfield"===t.editorType?a("x-input",{attrs:{type:"number","text-align":"right",placeholder:"请填写"},model:{value:i[t.fieldCode],callback:function(a){e.$set(i,t.fieldCode,a)},expression:"sItem[dItem.fieldCode]"}},[a("template",{slot:"label"},[a("span",{class:{required:!t.allowBlank}},[e._v(e._s(t.text))])])],2):e._e(),e._v(" "),"r2Textfield"===t.editorType?a("x-input",{attrs:{"text-align":"right",placeholder:"请填写"},model:{value:i[t.fieldCode],callback:function(a){e.$set(i,t.fieldCode,a)},expression:"sItem[dItem.fieldCode]"}},[a("template",{slot:"label"},[a("span",{class:{required:!t.allowBlank}},[e._v(e._s(t.text))])])],2):e._e(),e._v(" "),"r2Datefield"===t.editorType?a("datetime",{model:{value:i[t.fieldCode],callback:function(a){e.$set(i,t.fieldCode,a)},expression:"sItem[dItem.fieldCode]"}},[a("template",{slot:"title"},[a("span",{class:{required:!t.allowBlank}},[e._v(e._s(t.text))])])],2):e._e()],1):e._e()}),0)}),0):a("div",{staticClass:"duplicate-item-no-select"},[a("span",{staticClass:"title"},[e._v(e._s(t.title))]),e._v(" "),a("span",{staticClass:"add",on:{click:function(a){e.addMoreUnit(t)}}},[e._v("新增")])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.dealerDuplicateData[t.name].length,expression:"dealerDuplicateData[item.name].length"}],staticClass:"add_more"},[e._v("\n          您还需要添加新的"+e._s(t.title)+"?请点击\n          "),a("span",{staticClass:"add",on:{click:function(a){e.addMoreUnit(t)}}},[e._v("新增")]),e._v(" "),a("em",{directives:[{name:"show",rawName:"v-show",value:e.dealerDuplicateData[t.name].length>1,expression:"dealerDuplicateData[item.name].length > 1"}]},[e._v("或")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.dealerDuplicateData[t.name].length>1,expression:"dealerDuplicateData[item.name].length > 1"}],staticClass:"delete",on:{click:function(a){e.deleteMoreUnit(t)}}},[e._v("删除")])])],1)})],2)]),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{position:"bottom",height:"50%"},on:{"on-show":e.onShow},model:{value:e.pickerStatus,callback:function(t){e.pickerStatus=t},expression:"pickerStatus"}},[a("div",{staticClass:"trade_pop"},[a("r-scroll",{ref:"bScroll",staticClass:"dealer_list",attrs:{options:e.scrollOptions}},e._l(e.AccountRelType,function(t,n){return a("div",{key:n,staticClass:"dealer_type vux-1px-b",on:{click:function(a){e.selectType(t)}}},[a("div",{staticClass:"dealer_name"},[e._v(e._s(t.name))]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"checked"},[a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-checkmark-empty",attrs:{type:"ios-checkmark-empty",size:"30",xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M223.9 329.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])])}),0)],1),e._v(" "),a("div",{staticClass:"count_mode vux-1px-t"},[a("span",{staticClass:"count_num"},[e._v(" "+e._s(e.dealerType.length?"已选 "+e.dealerType.length+" 个":"请选择")+" ")]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.cfmMater}},[e._v("确定")])])])],1),e._v(" "),a("div",{staticClass:"vux-1px-t btn "},[a("div",{staticClass:"cfm_btn",class:{disabled:e.disabledSubmit},on:{click:e.save}},[e._v("\n      "+e._s(this.transCode?"保存":"提交")+"\n    ")])])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},FLut:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("3cXf"),o=n(s),l=a("HXPS"),d=n(l),u=a("7g+Q"),c=n(u),f=a("6q39"),m=n(f),h=a("L6VY"),v=n(h),p=a("+62G"),C=n(p),y=a("7biW"),_=n(y),g=a("vHT0"),b=(n(g),a("jLp1")),w=a("1KNX"),I=n(w);t.default={name:"PopNameList",props:{defaultValue:{type:Object,default:function(){return{}}}},directives:{TransferDom:C.default},components:{Icon:d.default,Popup:c.default,DSearch:_.default,LoadMore:m.default,RScroll:I.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},dealerList:[],bScroll:null,limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},isChoice:!0}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:function(e){this.selItems=JSON.parse((0,o.default)(this.defaultValue))}},filters:{handlerDate:function(e){return e.split(" ")[0]}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},showSelIcon:function(e){return this.selItems.PROJECT_NAME===e.PROJECT_NAME},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.$emit("sel-item",(0,o.default)(this.selItems))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getDealer:function(){var e=this,t=[],a={limit:this.limit,page:this.page,start:(this.page-1)*this.limit};this.srhInpTx&&(t=[].concat((0,r.default)(t),[{operator:"like",value:this.srhInpTx,property:"PROJECT_NAME"}]),a.filter=(0,o.default)(t)),(0,b.getProjectApproval)(a).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,s=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+s.length,e.dealerList=1===e.page?s:[].concat((0,r.default)(e.dealerList),(0,r.default)(s)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})}).catch(function(e){v.default.show({content:e.message})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.dealerList=[],this.page=1,this.hasNext=!0,this.getDealer()},onPullingUp:function(){this.page++,this.getDealer()},itemClick:function(){this.showPop=!0}},created:function(){this.selItems=JSON.parse((0,o.default)(this.defaultValue)),this.$route.query.relationKey&&(this.isChoice=!1),this.getDealer()}}},FOog:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("a3Yh"),o=n(s),l=a("MgeX"),d=n(l),u=a("HzJ8"),c=n(u),f=a("ZLEe"),m=n(f),h=a("3cXf"),v=n(h),p=a("HXPS"),C=n(p),y=a("BGNQ"),_=n(y),g=a("z5TY"),b=n(g),w=a("SAzG"),I=n(w),x=a("PzEQ"),D=n(x),P=a("0AQX"),S=a("HyXB"),k=a("bKg5"),L=n(k),N=a("vl8n"),M=n(N),T=a("+WR7"),A=n(T),O=a("luHD"),R=n(O),j=a("RMtk"),B=n(j),E=a("9cRV"),F=n(E);t.default={name:"ApplyWLXQTJForm",mixins:[L.default],components:{Icon:C.default,Cell:_.default,Group:b.default,XTextarea:D.default,XInput:I.default,PopMatter:R.default,PopOrderXqtjList:B.default,RPicker:M.default,PopBaseinfo:A.default,PopMatterList:F.default},data:function(){return{orderList:{},showOrderPop:!1,formData:{biComment:""},submitSuccess:!1,warehouse:null,taxRate:.16,numMap:{},orderParams:{dealerCode:"",whCode:""},transCode:"",formViewUniqueId:"346ede09-ac6a-489a-9242-f385932a4443",biReferenceId:"",actions:[],taskId:"",matterList:[],project:{},entity:{},tmpItems:{},matter:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,checkFieldList:[{key:"tdQty",message:"请填写减少数量"}]}},methods:{modifyMatter:function(e,t,a){this.matter=JSON.parse((0,v.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t)},selOrder:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){var a=e.transCode+"_"+e.colId+"_"+e.inventoryCode,i=t.numMap[a]||{},r=i.tdQty,s=void 0===r?"":r;e.tdQty=s,n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},findIndex:function(e,t){return e.findIndex(function(e){var a=!0;return e.colId&&(a=e.colId===t.colId),a&&e.transCode===t.transCode&&e.inventoryCode===t.inventoryCode})},delClick:function(e,t,a){var n=this.selItems,i=this.findIndex(n,t);if(-1!==i)return void n.splice(i,1);n.push(t)},showSelIcon:function(e){return-1!==this.findIndex(this.selItems,e)},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,v.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,m.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){var n=!0;if(a.colId&&(n=t.colId===a.colId),n&&a.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var i=e.orderList[t.transCode],r=e.findIndex(i,t);r>=0&&(e.$refs.matter.delSelItem(i[r]),i.splice(r,1)),i.length||delete e.orderList[t.transCode]}})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,c.default)((0,d.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,o=!1,l=void 0;try{for(var u,f=(0,c.default)(r);!(s=(u=f.next()).done);s=!0){var m=u.value;this.numMap[m.transCode+"_"+m.colId+"_"+m.inventoryCode]={tdQty:m.tdQty}}}catch(e){o=!0,l=e}finally{try{!s&&f.return&&f.return()}finally{if(o)throw l}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="",a=[];t||(0,m.default)(this.orderList).length||(t="请选择物料");var n=!0,i=!1,s=void 0;try{for(var l,u=(0,c.default)((0,d.default)(this.orderList));!(n=(l=u.next()).done);n=!0){var f=l.value,h=!0,p=!1,C=void 0;try{for(var y,_=(0,c.default)(f);!(h=(y=_.next()).done);h=!0){var g=y.value;if(!g.tdQty){t="请填写减少数量";break}var b={transMatchedCode:g.transCode,outPutMatCode:g.inventoryCode,inventoryType_outPutMatCode:g.inventoryType,thenQtyBal:g.qtyBal,tdQty:g.tdQty,subjectCode:g.calcRelCode,comment:g.comment||""};this.transCode&&(b.tdId=g.tdId||""),a.push(b)}}catch(e){p=!0,C=e}finally{try{!h&&_.return&&_.return()}finally{if(p)throw C}}}}catch(e){i=!0,s=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw s}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=S.saveAndStartWf,n={},i=(0,o.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});n=(0,r.default)({},e.formData,{modifer:e.transCode?e.formData.handler:"",handlerEntity:e.entity.dealerName,outPut:{dataSet:a}}),e.transCode&&(t=S.saveAndCommitTask,i={businessKey:e.transCode,createdBy:n.creator||n.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var s={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,v.default)(n),wfPara:(0,v.default)(i)};e.transCode||delete s.biReferenceId,e.processCode.length||(t=S.submitAndCalc,delete s.wfPara,delete s.biReferenceId),e.biReferenceId&&(s.biReferenceId=e.biReferenceId),e.saveData(t,s)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var d={};e.attachment=l;var u=s.outPut,f=u.dataSet,m=void 0===f?[]:f,h=!0,v=!1,p=void 0;try{for(var C,y=(0,c.default)(m);!(h=(C=y.next()).done);h=!0){var _=C.value;_=(0,r.default)({},_,{transCode:_.transMatchedCode,qtyBal:_.thenQtyBal,inventoryPic:_.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:_.inventoryName_outPutMatCode,inventoryCode:_.outPutMatCode,inventoryType:_.inventoryType_outPutMatCode,specification:_.specification_outPutMatCode,measureUnit:_.measureUnit_outPutMatCode,processing:_.tdProcessing,calcRelCode:_.subjectCode,inventoryTypen:_.inventoryType_outPutMatCode}),d[_.transCode]||(d[_.transCode]=[]),d[_.transCode].push(_)}}catch(e){v=!0,p=e}finally{try{!h&&y.return&&y.return()}finally{if(v)throw p}}e.matterList=m,e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,r.default)({},e.formData,e.handlerDefault,{biComment:s.biComment,biId:s.biId,biProcessStatus:s.biProcessStatus,creator:s.creator,modifer:s.modifer,drDealerLogisticsTerms:s.drDealerLogisticsTerms}),e.biReferenceId=s.biReferenceId,e.orderList=d,e.$loading.hide()})},hasDraftData:function(){return!!(0,d.default)(this.orderList).length&&(0,o.default)({},"XQTJ_DATA",{orderList:this.orderList,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("XQTJ_DATA");e&&(this.orderList=JSON.parse(e).orderList,this.formData=JSON.parse(e).formData,sessionStorage.removeItem("XQTJ_DATA"))}}},FPb0:function(e,t,a){"use strict";function n(e){a("Wqlm")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("VyQ5");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("yCVl"),o=a.n(s),l=a("uf/a"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-03020c66",null);t.default=c.exports},FRNG:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Qg39"),i=a("zWMP");t.default={name:"RNumber",props:{num:{type:Number,default:0},max:{type:Number,default:0},min:{type:Number,default:1},checkNum:{type:Function,default:function(e){return 0===e&&(e=1),Math.abs((0,n.toFixed)(e,2))}}},data:function(){return{currentNum:0}},watch:{num:{handler:function(e){this.currentNum=e}}},methods:{subNum:function(){this.currentNum<=this.min||(this.currentNum=parseFloat((0,i.accSub)(this.currentNum,1)),this.$emit("input",this.currentNum))},plusNum:function(){this.max&&this.max===this.num||(this.currentNum=parseFloat((0,i.accAdd)(this.currentNum,1)),this.$emit("input",this.currentNum))},getNum:function(e){var t=Number(e.target.value);this.max&&t>this.max&&(t=this.max),this.min&&t<this.min&&(t=this.min),this.currentNum=this.checkNum(t),e.target.value=this.currentNum,this.$emit("input",this.currentNum)}},created:function(){this.currentNum=this.num}}},FT4d:function(e,t,a){"use strict";function n(e){a("/Qt6")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Wtqk");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("4evt"),o=a.n(s),l=a("rm+c"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-9831cc0a",null);t.default=c.exports},FTWd:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=(a("XAqG"),a("HyXB"),a("MjAd")),o=n(s),l=a("ak47");n(l);t.default={name:"CPXQ_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"经办人",value:"handlerName"},{name:"交易号",value:"transCode"},{name:"标题",value:"launchTitle"}],listViewID:2339}},mixins:[o.default],methods:{pathChange:function(e,t,a){var n=this;if(!this.clickVisited){var i=e.transCode,s=this.$route.query.name,o=this.$route.params,l=o.folder,d=o.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,r.default)({},e));var u=a+"/"+l+"/"+d;setTimeout(function(){n.clickVisited=!1,n.$router.push({path:u,query:{name:s,transCode:i}})},200)}},goDetail:function(e,t){this.pathChange(e,t,"/detail")},goUserEdit:function(e,t){this.pathChange(e,t,"/fillform")}}}},FX02:function(e,t){},FZVR:function(e,t,a){"use strict";function n(e){a("BnMG")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("0dhE");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("8aM1"),o=a.n(s),l=a("NiwN"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-3826bba4",null);t.default=c.exports},Fjox:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("3cXf"),o=n(s),l=a("4YfN"),d=n(l),u=a("7g+Q"),c=n(u),f=a("+62G"),m=n(f),h=a("z5TY"),v=n(h),p=a("BGNQ"),C=n(p),y=a("iR2W"),_=n(y),g=a("u28h"),b=n(g),w=a("SAzG"),I=n(w),x=a("PzEQ"),D=n(x),P=a("0AQX"),S=a("HyXB"),k=a("bKg5"),L=n(k),N=a("VZtf"),M=n(N),T=a("9cRV"),A=n(T),O=a("ZQWM"),R=n(O),j=a("yt3/"),B=n(j),E=a("hLfv"),F=n(E),U=a("luHD"),$=n(U),Q=a("vl8n"),H=n(Q),V=a("+WR7"),q=n(V),Y=a("zWMP");t.default={data:function(){return{showMatterPop:!1,showMaterielPop:!1,matterList:[],dealer:{},contact:{},formData:{},dealerInfo:{},checkFieldList:[{key:"tdQty",message:"请填写数量"},{key:"price",message:"请填写含税单价"},{key:"taxRate",message:"请填写税率"}]}},directives:{TransferDom:m.default},components:{XInput:I.default,XTextarea:D.default,Group:v.default,Cell:C.default,Popup:c.default,PopMatter:$.default,RNumber:M.default,PopMatterList:A.default,PopDealerList:R.default,PopSingleSelect:B.default,Datetime:b.default,RPicker:H.default,PopBaseinfo:q.default,DealerOtherPart:F.default},mixins:[L.default],filters:{numberComma:_.default},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],this.formData.drDealerLogisticsTerms=this.dealerInfo.dealerLogisticsTerms,this.dealerInfo.drDealerPaymentTerm=this.dealerInfo.paymentTerm,this.dealerInfo.drDealerLogisticsTerms=this.dealerInfo.dealerLogisticsTerms},selContact:function(e){this.contact=(0,d.default)({},e),this.formData.dealerDebitContactPersonName=this.contact.dealerName||"",this.formData.dealerDebitContactInformation=this.contact.dealerMobilePhone},getMatter:function(){this.showMaterielPop=!this.showMaterielPop},selMatter:function(e){var t=JSON.parse(e);t.map(function(e){e.tdQty=e.tdQty||"",e.price=e.price||"",e.taxRate=e.taxRate||.16,e.promDeliTime=e.promDeliTime||"",e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null}),this.matterList=t},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(t){return t.inventoryCode===e.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(e)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,o.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this;if(this.dealerInfo.dealerName)if(this.matterList.length){var t="",a=[];if(this.matterList.every(function(n){if(!n.tdQty)return t="请填写数量",!1;if(!n.price)return t="请输入含税单价",!1;var i=n.taxRate||e.taxRate,r=((0,Y.accMul)(n.price,n.tdQty,i),{tdId:n.tdId||"",inventoryName_transObjCode:n.inventoryName,transObjCode:n.inventoryCode,tdProcessing:n.processing,assMeasureUnit:n.invSubUnitName||null,assMeasureScale:n.invSubUnitMulti||null,assMeasureDescription:n.invSubUnitComment||null,assistQty:n.assistQty||0,tdQty:n.tdQty,price:n.price,noTaxPrice:n.noTaxPrice,taxRate:i,taxAmount:n.taxAmount,tdAmount:n.tdAmount,promDeliTime:n.promDeliTime||"",comment:n.comment||""});return a.push(r),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=S.saveAndStartWf,n=(0,r.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.formData.biComment,formData:(0,o.default)((0,d.default)({},e.formData,e.dealer,{handlerEntity:e.entity.dealerName,order:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,drDealerPaymentTerm:e.dealerInfo.paymentTerm,dataSet:a}})),wfPara:(0,o.default)(n)};e.isResubmit&&(t=S.saveAndCommitTask,i.biReferenceId=e.biReferenceId),e.processCode.length||(t=S.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})}else this.$vux.alert.show({content:"请选择物料"});else this.$vux.alert.show({content:"请选择客户"})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.attachment=t.attachment;var a=t.formData;a.order.dataSet.map(function(t){t=(0,d.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode}),e.matterList.push(t)}),e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,d.default)({},e.handlerDefault,{creator:a.creator,modifer:a.modifer,dealerDebitContactPersonName:a.dealerDebitContactPersonName,dealerDebitContactInformation:a.dealerDebitContactInformation,drDealerLogisticsTerms:a.drDealerLogisticsTerms,duringDate:a.duringDate,biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus}),e.dealerInfo={creatorName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation,dealerCode:a.order.dealerDebit,dealerSubclass:a.order.drAccountSub,dealerLabelName:a.order.drDealerLabel,dealerName:a.order.dealerName_dealerDebit,province:a.order.province_dealerDebit,city:a.order.city_dealerDebit,county:a.order.county_dealerDebit,address:a.order.address_dealerDebit,paymentTerm:a.order.drDealerPaymentTerm||"现付"},e.contact={dealerName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation},e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,r.default)({},"XSDDYC_DATA",{matter:this.matterList,dealerInfo:this.dealerInfo,dealer:this.dealer,formData:this.formData,contact:this.contact})}},created:function(){var e=sessionStorage.getItem("XSDDYC_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.dealerInfo=t.dealerInfo,this.dealer=t.dealer,this.formData=t.formData,this.contact=t.contact,sessionStorage.removeItem("XSDDYC_DATA")}}}},FkUS:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("HXPS"),o=n(s);t.default={name:"RDropdown",props:{list:{type:Array,default:function(){return[]}}},components:{Icon:o.default},data:function(){return{selItem:{}}},watch:{list:{handler:function(){this.selItem=this.list[0],this.$emit("on-selected",this.selItem)},immediate:!0}},methods:{dropItemClick:function(e){this.selItem=(0,r.default)({},e),this.$emit("on-selected",this.selItem)}},created:function(){}}},Fkpb:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.boms&&e.boms.length?a("div",{staticClass:"bom-container"},[a("div",{staticClass:"title vux-1px-b"},[e._v("原料")]),e._v(" "),e._l(e.boms,function(t,n){return a("div",{key:n,staticClass:"each-bom-part",class:{"vux-1px-b":n<e.boms.length-1}},[a("div",{staticClass:"main-info-part"},[t.warehouseName||t.warehouseCode?a("div",{staticClass:"main-top"},[t.warehouseName?a("span",{staticClass:"content-title"},[e._v(e._s(t.warehouseName))]):e._e(),e._v(" "),t.warehouseName?a("span",{staticClass:"side-bar vux-1px-r"}):e._e(),e._v(" "),t.warehouseCode?a("span",{staticClass:"content-info"},[e._v(e._s(t.warehouseCode))]):e._e()]):e._e(),e._v(" "),a("div",{staticClass:"main-content"},[a("div",{staticClass:"content-unit"},[a("span",{staticClass:"iconfont icon-bianma"}),e._v(" "),a("span",[e._v("原料编码: "+e._s(t.inventoryCode))])]),e._v(" "),a("div",{staticClass:"content-name"},[e._v("\n          "+e._s(t.inventoryName)+"\n        ")]),e._v(" "),e._t("specification",null,{bom:t})],2)]),e._v(" "),e._t("number",[a("div",{staticClass:"number-part"},[a("span",{staticClass:"main-number"},[e._v("本次扣料: "+e._s(t.tdQty)+e._s(t.measureUnit))]),e._v(" "),a("span",{staticClass:"number-unit"},[e._v("可用余额: "+e._s(t.qtyStock))])])],{bom:t})],2)})],2):e._e()},i=[],r={render:n,staticRenderFns:i};t.a=r},FlCz:function(e,t,a){"use strict";function n(e){a("SQkk")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("s+NT");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("VuUd"),o=a.n(s),l=a("Fkpb"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-3b7f38c0",null);t.default=c.exports},FnN8:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2362,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"成品名称",value:"inventoryName_transObjCode"}]}},mixins:[i.default]}},FpgM:function(e,t){},Fu3g:function(e,t){},Fu6s:function(e,t,a){"use strict";function n(e){a("dFn0")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("trKI");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("7PqM"),o=a.n(s),l=a("LXXj"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-6241512a",null);t.default=c.exports},Fuf7:function(e,t,a){e.exports=a.p+"static/img/ava01.685cf6b.png"},FvvE:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"6b6a6f40-ea86-4e72-a451-69a9a3b2e28c":{"000004":"COMPANY","000001":"USER","000003":"JOB"},"a7f59e02-86fc-4c85-ae78-0f567b8078ad":{},"7dab9bd1-f51d-4b09-afc0-3d5c732ca219":{"4099b5aa-1468-4b81-85a5-75079e291977":"BHDD","7532f8ea-caf3-4fc4-97f6-b5aad7bcf6a0":"WLXQTJ","2e8e23c6-2fa4-4067-9cef-b5c92463d4c9":"XSDDYC","43ccbc27-bbb5-4cfb-997b-6d3823f1c03e":"CGSQ"},"fb200d08-4289-44dc-81e1-1fddec997c5e":{"f6e7047d-29df-46bd-a9ef-c342e0bfda31":{"2372f734-93c1-11e8-85db-005056a136d0":"GDRW","f9f1e0cb-7edf-43aa-b2f2-527e2525b96e":"GDYS","c54b3325-a5c1-4d75-a3c4-c6cf0e988aae":"GDRWQD","3e8d0dc2-45a0-463a-a7b5-21c63955eb8f":"WGYRK"}},"a32759e8-a3ad-47a6-a030-f33daea8b433":{"b30f4d3e-b23d-11e8-96a5-005056a136d0":"CPXQ","eb8a01a3-7a74-439b-bc44-8d58cbfa6166":"CPFB"},"43b07f14-4ae5-4804-a80e-ef06ce26fb0b":{"548b7e35-16c6-4748-af06-eac1d2dac5d1":"CPJG","78949976-4689-41da-b090-fe891186ee8b":"XSDD","58a607ce-fe93-4d26-a42e-a374f4662f1c":"XSBJ","32a2c333-02a3-416f-a133-95c7a32da678":"SJ","0b2360df-499c-47b0-8d97-7c5d81c35353":"XSHT","4f2debbe-fce5-44f8-8440-a3959e62f721":"KPSQ"},"406f7db3-af5a-45ae-8641-576fa33b0471":{},"a0a66a68-b351-4c19-b837-e168cbf48019":{"a4474c03-1139-4e8c-bc4e-2beb4565be33":"CGDD","9e8de557-2e56-4ce5-8792-54829eef7c5b":"CGXY"},"9e5a7193-f2eb-4b99-9849-8fe6c6ae3713":{"edf7b34b-8916-410f-801f-2db7e97efbde":"KCPD","4d9a7f8f-9a88-47b6-a1f4-3faed6423615":"BDKCDB","6ebcad8b-449c-422a-960f-53ccf98fd4ba":"GDBLL","00bf03eb-2794-4222-a97e-9029683734b3":"CGRK","bde3edef-ee04-4a18-b063-73ae7682e23a":"XSCK","482b7468-06eb-40c7-842a-f7ea6edb1c37":"CGTHCK"},"7218d31d-88f4-45bc-82c2-6d4a1c766821":{"b81c5e6c-4f6d-4c1c-8a6d-636750127410":{"f97f603e-7570-4b72-84f3-ee90d03e7636":"SK","1972f3a4-b29a-4a0e-90a8-85090c0e2d28":"FK","c930267f-66fd-4927-983b-0216ef9449b3":"FGYSQK","7d172485-8726-4e42-b29d-ec2a716bf062":"FGYSDJ"},"752bfc20-9cbf-4552-b2a4-77b2c46eb2d1":{"8c68eaa6-46dd-4b3b-b885-1218600b519c":"ZZSKP","6df81f47-9d31-46f3-b852-614a8891cd01":"ZZSSP"},"9a50685e-88d5-48ac-9c49-977e23f14b98":{"bb9ce973-2f62-4707-a54c-7e8605dc99d6":"CRCDHP","1745ffdd-1b6a-4fe5-9c5b-6e5394bd4faf":"SDCDHP","ef8bbbc5-04c4-40eb-8d8c-338784a847e9":"DXTXCDHP","7666662a-a52a-4ca8-8f28-d3035322875e":"DFCDHP"},"dac8201d-7b8f-4889-8c9d-eb34192e99ad":{"418bd0e9-1dce-4e01-aa5a-3d4cd80e87d4":"JKYBYJ","080147c6-05ea-4ae7-9390-49e8e0379a11":"BXYZF"}},"27d28ff5-2e04-4881-a159-2b38f10ce7e4":{"4472a646-f2c8-4a07-bad6-4c01f0b9292f":"DZYHPCGSQ","1d52d5ce-d05e-4987-a023-3f4dba68cad9":"DZYHPCGDD","0750729a-1bea-423e-99a0-070beb953787":"DZYHPCGYSYZF"},"4a1e1cce-186a-46b6-acb7-fbd5febf578b":{"4f358097-ccb3-4e3f-ac18-e7c677f83896":{"f928725f-5e23-4321-922c-6db0efa85f17":"SBCGSQ","fac37727-d2d4-11e8-b8ca-0279b2c6a380":"SBCGDD","64c5afbc-c075-11e8-85e2-b06ebfc41432":"SBCGYS"}},"f3d819ee-8f77-47d0-81f1-e986841e51eb":{1000:"HBZJ",1400:"CH",9000:"WLYE","000100":"HGCW"},"26d75e08-2c82-4e1a-ad51-b788b026428a":{"630a9b96-f257-48b6-b0bc-fd64c455d92b":"XMLX","0281f8eb-f1d2-415c-b566-756fc749ccb3":"XMJH","ee4ff0a1-c612-419d-afd7-471913d57a2a":"XMRW","b87a513e-99ec-4608-89db-3d6e97ef1432":"XMJX"},"c09c6397-c685-4fb8-ac9e-bd554ab6bc52":{"223f9387-d2d7-11e8-b8ca-0279b2c6a380":"YGDA","98519ac0-d2d7-11e8-b8ca-0279b2c6a380":"YGRZ","da7f15cc-d2d7-11e8-b8ca-0279b2c6a380":"YGLZ","3dda676a-4ce0-4c4a-a56f-8bda50a8ef1f":"ZPJH"}}},FxBM:function(e,t){},FyOn:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,"default-contact":e.contactInfo,"dealer-params":e.dealerParams,dealerTitle:"供应商"},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("div",{staticClass:"materiel_list"},[Object.keys(e.orderList).length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n,i){return a("div",{key:n,staticClass:"each_mater",class:{"vux-1px-b":i<Object.keys(e.orderList).length-1}},[t.length?a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v(e._s(e.orderListTitle))]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]):e._e(),e._v(" "),e._l(t,function(t,i){return a("div",{key:i,class:{mater_delete:e.matterModifyClass}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass,config:e.matterEditConfig.property},on:{"on-modify":function(a){e.modifyMatter(t,i,n)}},nativeOn:{click:function(a){e.delClick(i,t)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[n.price&&n.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price)+"\n                      ")]),e._v(" "),a("div",[a("r-number",{attrs:{num:n.tdQty,checkAmt:e.checkAmt,max:n.qtyBal},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",t)},expression:"item.tdQty"}})],1)]):e._e()]}},{key:"editPart",fn:function(t){var r=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r.price&&(r.tdQty||0===r.tdQty)&&!e.matterModifyClass,expression:"(item.price && (item.tdQty || item.tdQty === 0)) &&!matterModifyClass"}],staticClass:"edit-part vux-1px-l",on:{click:function(t){e.modifyMatter(r,i,n)}}},[a("span",{staticClass:"iconfont icon-bianji1"})])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(i,t)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)})],2)}),0)]:[a("div",{on:{click:function(t){e.showOrderPop=!e.showOrderPop}}},[a("div",{staticClass:"title"},[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择"+e._s(e.orderListTitle))]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多物料")])]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showOrderPop,config:e.matterPopConfig,"filter-list":e.filterList,"matter-params":e.matterParams,"default-value":e.matterList,orderTitle:e.matterPopOrderTitle},on:{"sel-matter":e.selMatter},model:{value:e.showOrderPop,callback:function(t){e.showOrderPop=t},expression:"showOrderPop"}})],2),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.facility,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,config:e.matterEditConfig},on:{"sel-confirm":e.selConfirm},model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num"},[a("span",{staticStyle:{fontSize:".14rem"}},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.tdAmount))+"\n      "),a("span",{staticClass:"taxAmount"},[e._v("[含税: ￥"+e._s(e._f("numberComma")(e.taxAmount))+"]")])]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},"G/uS":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("gTYh"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"group",methods:{cleanStyle:i.default},props:{title:String,titleColor:String,labelWidth:String,labelAlign:String,labelMarginRight:String,gutter:[String,Number],footerTitle:String,footerTitleColor:String}}},G0OA:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("kNGm"),v=(n(h),a("qE8w")),p=a("I3vJ"),C=a("1KNX"),y=n(C),_=a("7biW"),g=n(_);t.default={name:"PopMatterList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},getListMethod:{type:String,default:"getMatList"},params:{type:Object,default:function(){return{}}},processing:{type:String,default:"成品,商品,服务"},isShowCode:{type:Boolean,default:!0},isShowStock:{type:Boolean,default:!1},filterList:{type:Array,default:function(){return[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"}]}}},components:{Icon:c.default,Popup:m.default,RScroll:y.default,MSearch:g.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],matterList:[],limit:100,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterProperty:"",requestMethods:null}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}},params:{handler:function(){this.resetCondition(),this.requestMethods()},deep:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,d.default)(this.selItems)),this.$emit("input",!1),this.$event.$emit("shut-down-filter",!1)},findIndex:function(e,t){return e.findIndex(function(e){return e.orderCode?e.orderCode===t.orderCode&&e.inventoryCode===t.inventoryCode:e.transCode===t.transCode&&e.inventoryCode===t.inventoryCode})},showSelIcon:function(e){return-1!==this.findIndex(this.tmpItems,e)},selThis:function(e,t){if(this.isShowStock&&0===e.qtyStockBal)return void this.$vux.alert.show({content:"当前订单库存为0，请选择其他订单"});var a=this.tmpItems,n=this.findIndex(a,e);if(-1!==n)return void a.splice(n,1);a.push(e)},cfmMater:function(){this.showPop=!1,this.tmpItems.sort(function(e,t){return t.effectiveTime-e.effectiveTime}),this.selItems=[].concat((0,d.default)(this.tmpItems)),this.$emit("sel-matter",(0,o.default)(this.selItems))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getMatList:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getObjInventoryByProcessing)((0,r.default)({processing:this.processing,limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(e)},this.params)).then(this.dataHandler)},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.resetCondition(),this[this.getListMethod]()},delSelItem:function(e){var t=this.findIndex(this.selItems,e);-1!==t&&this.selItems.splice(t,1),this.tmpItems=[].concat((0,d.default)(this.selItems))},onPullingUp:function(){this.page++,this.requestMethods()},setDefaultValue:function(){this.tmpItems=[].concat((0,d.default)(this.defaultValue)),this.selItems=[].concat((0,d.default)(this.defaultValue))},getObjInventory:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getObjInventory)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(e)}).then(this.dataHandler)},getSumInvBalance:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getSumInvBalance)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,calcRelCode:1406},this.params,{filter:(0,o.default)(e)})).then(this.dataHandler)},getInventory7501:function(){var e=[];this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}]));var t=this.$route.query.relationKey,a=void 0===t?"":t;return a&&(e=[{operator:"eq",value:a,property:"transCode"}]),(0,p.getInventory7501)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit},this.params,{filter:(0,o.default)(e)})).then(this.dataHandler)},getInventory7502:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getInventory7502)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit},this.params,{filter:(0,o.default)(e)})).then(this.dataHandler)},getCKTHCKList:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getCKTHCKList)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit},this.params,{filter:(0,o.default)(e)})).then(this.dataHandler)},getPurchaseInNeeds:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getPurchaseInNeeds)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;r.forEach(function(t){t.inventoryPic=t.inventoryPic?"/H_roleplay-si/ds/download?url="+t.inventoryPic+"&width=400&height=400":e.getDefaultImg(),t.inventoryCode=t.matCode,t.inventoryName=t.invName});var s=e.$route.query.relationKey;(void 0===s?"":s)&&(e.selItems=[].concat((0,d.default)(r)),e.$emit("sel-matter",(0,o.default)(e.selItems))),e.hasNext=n>(e.page-1)*e.limit+r.length,e.matterList=1===e.page?r:[].concat((0,d.default)(e.matterList),(0,d.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},getKCPDList:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getKCPDList)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit},this.params,{filter:(0,o.default)(e)})).then(this.dataHandler)},getLowValueConsumPurchaseOrder:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getLowValueConsumPurchaseOrder)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit},this.params,{filter:(0,o.default)(e)})).then(this.dataHandler)},getLowPriceConsumableInWarehouse:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getLowPriceConsumableInWarehouse)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit},this.params,{filter:(0,o.default)(e)})).then(this.dataHandler)},getProductPriceAllInventory:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getProductPriceAllInventory)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(e)}).then(this.dataHandler)},getSalesContract:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getSalesContract)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(e)},this.params)).then(this.dataHandler)},getInventoryToProcessing:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getInventoryToProcessing)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(e)},this.params)).then(this.dataHandler)},getSalesOrderNew:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getSalesOrderNew)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(e)},this.params)).then(this.dataHandler)},getManyVATBilling:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,v.getManyVATBilling)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(e)},this.params)).then(this.dataHandler)},getManyVATReceipt:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,v.getManyVATReceipt)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(e)},this.params)).then(this.dataHandler)},getEtcPutInStorage:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getEtcPutInStorage)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(e)},this.params)).then(this.dataHandler)},getBillingApplication:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,v.getBillingApplication)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(e)},this.params)).then(this.dataHandler)},dataHandler:function(e){var t=this,a=e.dataCount,n=void 0===a?0:a,i=e.tableContent,r=void 0===i?[]:i;r.forEach(function(e){e.inventoryPic=e.inventoryPic?"/H_roleplay-si/ds/download?url="+e.inventoryPic+"&width=400&height=400":t.getDefaultImg()});var s=this.$route.query.relationKey;(void 0===s?"":s)&&(this.selItems=[].concat((0,d.default)(r)),this.$emit("sel-matter",(0,o.default)(this.selItems))),this.hasNext=n>(this.page-1)*this.limit+r.length,this.matterList=1===this.page?r:[].concat((0,d.default)(this.matterList),(0,d.default)(r)),this.$nextTick(function(){t.$refs.bScroll.finishPullUp()})},resetCondition:function(){this.matterList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)}},created:function(){this.setDefaultValue(),this.requestMethods=this[this.getListMethod],this.requestMethods()}}},G4pH:function(e,t){},G70E:function(e,t,a){"use strict";function n(e){a("QGti")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("TgCX");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("dbpI"),o=a.n(s),l=a("W1Ln"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-c3357a94",null);t.default=c.exports},GBuK:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("r-popup",{ref:"RPopup",staticClass:"pop-facility-list",attrs:{show:e.showPop,data:e.listData,options:e.scrollOptions,"has-next":e.hasNext,"default-value":e.selItems,"judge-keys":e.judgeKeys,"filter-list":e.filterList,multipart:""},on:{"on-pulling-up":e.onPullingUp,"on-select":e.selItem,"on-search":e.searchList},scopedSlots:e._u([{key:"pop-item",fn:function(t){var n=t.item;t.index;return[n.transCode?a("div",{staticClass:"order-code"},[a("span",{staticClass:"order-title"},[e._v(e._s(e.defaultTitle))]),e._v(" "),a("span",{staticClass:"order-num"},[e._v(e._s(n.transCode))])]):e._e(),e._v(" "),a("div",{staticClass:"order-matter"},[a("div",{staticClass:"mater_img"},[a("img",{attrs:{src:n.inventoryPic,alt:"mater_img"},on:{error:function(t){e.getDefaultImg(n)}}})]),e._v(" "),a("div",{staticClass:"mater_main "},[a("div",{staticClass:"mater_name"},[e._v("\n          "+e._s(n.facilityName)+"\n        ")]),e._v(" "),a("div",{staticClass:"mater_info"},[a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline",staticStyle:{display:"inline-block"}},[a("div",{staticClass:"mater_code"},[a("span",{staticClass:"title"},[e._v("编码")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(n.facilityCode))])])]),e._v(" "),a("div",{staticClass:"ForInline",staticStyle:{display:"inline-block"}},[a("div",{staticClass:"mater_spec"},[a("span",{staticClass:"title"},[e._v("规格")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(n.facilitySpecification||"无"))])])])]),e._v(" "),a("div",{staticClass:"withoutColor"},[a("div",{staticClass:"mater_classify"},[a("span",{staticClass:"father"},[e._v("大类: "+e._s(n.facilityBigType||"无"))]),e._v(" "),a("span",{staticClass:"father"},[e._v("子类: "+e._s(n.facilitySubclass||"无"))]),e._v(" "),a("span",{staticClass:"father"},[e._v("类型: "+e._s(n.facilityType||"无"))]),e._v(" "),a("span",[e._v("单位: "+e._s(n.facilityUnit))])]),e._v(" "),a("div",{staticClass:"mater_classify"},[a("span",{staticClass:"father"},[e._v("折旧摊销月数: "+e._s(n.facilityDepreciation||0))]),e._v(" "),a("span",[e._v("预留残值比例: "+e._s(n.facilityResidualRatio||"无"))])]),e._v(" "),e._t("storage",null,{item:n})],2)])])])]}}]),model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}})},i=[],r={render:n,staticRenderFns:i};t.a=r},GEfv:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2208,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}],noTaxRate:!0}},mixins:[i.default],methods:{},created:function(){}}},GFh5:function(e,t){},GIFU:function(e,t,a){"use strict";function n(e){a("xp6H")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("VEhc");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("rlKI"),o=a.n(s),l=a("Ivd8"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-763bfeaf",null);t.default=c.exports},GMSf:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages nbjgdd-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[Object.keys(e.orderList).length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v("订单列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n,i){return a("div",{key:n,staticClass:"each_mater"},[t.length?a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v("计划号")]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]):e._e(),e._v(" "),e._l(t,function(i,r){return a("div",{key:r,class:{mater_delete:e.matterModifyClass}},[a("matter-item",{class:{"vux-1px-b":r<t.length-1},attrs:{item:i,"show-delete":e.matterModifyClass},on:{"on-modify":function(t){e.modifyMatter(i,r,n)}},nativeOn:{click:function(t){e.delClick(r,i,n)}},scopedSlots:e._u([{key:"info",fn:function(t){var i=t.item;return[a("div",{staticClass:"mater_more"},[a("span",[e._v("单位: "+e._s(i.measureUnit))]),e._v(" "),a("span",[e._v("待下单余额: "+e._s(i.qtyBal))])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:i.shippingTime,expression:"item.shippingTime"}],staticClass:"mater_more"},[a("span",[e._v("成品计划验收日期:"+e._s(i.shippingTime))])]),e._v(" "),i.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"matter-remain"},[e._v("\n                        本次下单: "+e._s(i.tdQty)+"\n                      ")]),e._v(" "),a("span",{staticClass:"check_bom",on:{click:function(t){e.checkBom(i,r,n)}}},[e._v("查看原料")])]):e._e()]}},{key:"edit",fn:function(t){var i=t.item;return[i.tdQty||e.matterModifyClass?e._e():a("div",{staticClass:"mater_other"},[a("div",{staticClass:"edit-tips",on:{click:function(t){e.modifyMatter(i,r,n)}}},[e._v("点击进行填写")]),e._v(" "),a("span",{staticClass:"check_bom",on:{click:function(t){e.checkBom(i,r,n)}}},[e._v("查看原料")])])]}}])}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.matterModifyClass,expression:"matterModifyClass"}],staticClass:"delete_icon",on:{click:function(t){e.delClick(r,i,n)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(i),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(i),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])])],1)})],2)}),0)]:[a("div",{on:{click:function(t){e.showOrderPop=!e.showOrderPop}}},[a("div",{staticClass:"title"},[e._v("订单列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择订单")]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),Object.keys(e.orderList).length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多物料")])]):e._e(),e._v(" "),a("pop-order-xqtj-list",{ref:"order",attrs:{show:e.showOrderPop,"default-value":e.orderList,"list-method":"getInProcessingOrder"},on:{"sel-matter":e.selOrder},model:{value:e.showOrderPop,callback:function(t){e.showOrderPop=t},expression:"showOrderPop"}})],2),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.UniqueBom.length,expression:"UniqueBom.length"}],staticClass:"materiel_list"},[a("bom-list",{attrs:{boms:e.UniqueBom},scopedSlots:e._u([{key:"number",fn:function(t){var n=t.bom;return[a("div",{staticClass:"number-part"},[a("span",{staticClass:"main-number"},[e._v("领料需求: "+e._s(n.tdQty)+e._s(n.measureUnit))])])]}}])})],1),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,"is-show-amount":!1},on:{"sel-confirm":e.selConfirm},scopedSlots:e._u([{key:"modify",fn:function(t){var n=t.modifyMatter;return[a("x-input",{attrs:{title:"本次下单",type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",e._n(t))},expression:"modifyMatter.tdQty"}}),e._v(" "),a("datetime",{attrs:{title:"主计划完工入库日",placeholder:"请选择"},model:{value:n.shippingTime,callback:function(t){e.$set(n,"shippingTime",t)},expression:"modifyMatter.shippingTime"}}),e._v(" "),a("cell",{attrs:{title:"待下单余额","text-align":"right",placeholder:"请填写",value:n.qtyBal}})]}}]),model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("bom-pop",{staticClass:"bom_pop",attrs:{show:e.bomPopShow,bomInfo:e.bom,"btn-is-hide":e.btnIsHide},on:{"bom-confirm":e.bomConfirm},scopedSlots:e._u([{key:"number",fn:function(t){var n=t.bom;return[a("div",{staticClass:"number-part"},[a("span",{staticClass:"main-number"},[e._v("领料需求: "+e._s(n.tdQty)+e._s(n.measureUnit))])])]}}]),model:{value:e.bomPopShow,callback:function(t){e.bomPopShow=t},expression:"bomPopShow"}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode"},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},GOq4:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("53nK"),r=n(i),s=a("IXh9"),o=n(s);t.default={ajax:o.default.ajax,post:o.default.post,upload:o.default.upload,conf:r.default}},GRe5:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vux-cell-box"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.showCell,expression:"showCell"}],staticClass:"weui-cell vux-tap-active",class:{"weui-cell_access":!e.disabled},on:{click:e.onClick}},[a("div",{staticClass:"weui-cell__hd"},[e._t("title",[e.title?a("label",{staticClass:"weui-label",class:e.labelClass,style:e.labelStyles,domProps:{innerHTML:e._s(e.title)}}):e._e()],{labelClass:"weui-label",labelStyle:e.labelStyles,labelTitle:e.title}),e._v(" "),e.inlineDesc?a("inline-desc",[e._v(e._s(e.inlineDesc))]):e._e()],2),e._v(" "),a("div",{staticClass:"vux-cell-primary vux-popup-picker-select-box"},[a("div",{staticClass:"vux-popup-picker-select",style:{textAlign:e.valueTextAlign}},[e.displayFormat||e.showName||!e.value.length?e._e():a("span",{staticClass:"vux-popup-picker-value vux-cell-value"},[e._v(e._s(e._f("array2string")(e.value)))]),e._v(" "),!e.displayFormat&&e.showName&&e.value.length?a("span",{staticClass:"vux-popup-picker-value vux-cell-value"},[e._v(e._s(e._f("value2name")(e.value,e.data)))]):e._e(),e._v(" "),e.displayFormat&&e.value.length?a("span",{staticClass:"vux-popup-picker-value vux-cell-value"},[e._v(e._s(e.displayFormat(e.value,e.value2name(e.value,e.data))))]):e._e(),e._v(" "),!e.value.length&&e.placeholder?a("span",{staticClass:"vux-popup-picker-placeholder vux-cell-placeholder",domProps:{textContent:e._s(e.placeholder)}}):e._e()])]),e._v(" "),a("div",{staticClass:"weui-cell__ft"})]),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom",value:e.isTransferDom,expression:"isTransferDom"}]},[a("popup",{staticClass:"vux-popup-picker",attrs:{id:"vux-popup-picker-"+e.uuid,"popup-style":e.popupStyle},on:{"on-hide":e.onPopupHide,"on-show":e.onPopupShow},model:{value:e.showValue,callback:function(t){e.showValue=t},expression:"showValue"}},[a("div",{staticClass:"vux-popup-picker-container"},[a("popup-header",{attrs:{"left-text":e.cancelText||"取消","right-text":e.confirmText||"完成",title:e.popupTitle},on:{"on-click-left":function(t){e.onHide(!1)},"on-click-right":function(t){e.onHide(!0)}}}),e._v(" "),a("picker",{attrs:{data:e.data,columns:e.columns,"fixed-columns":e.fixedColumns,container:"#vux-popup-picker-"+e.uuid,"column-width":e.columnWidth},on:{"on-change":e.onPickerChange},model:{value:e.tempValue,callback:function(t){e.tempValue=t},expression:"tempValue"}})],1)])],1)])},i=[],r={render:n,staticRenderFns:i};t.a=r},GTw7:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages cpxq-list-container"},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"each_duty",class:{visited:t.visited},on:{click:function(a){e.goDetail(t,n)}}},[a("div",{staticClass:"duty_top"},[a("p",{staticClass:"duty_code"},[e._v("\n            "+e._s(t.transCode)+"\n            "),t.processStatus?a("span",{staticClass:"duty_crt_man"},[e._v(e._s(t.processStatus))]):e._e()]),e._v(" "),a("span",{staticClass:"duty_status",class:t.statusClass},[e._v(e._s(t.statusName))]),e._v(" "),a("i",{staticClass:"iconfont",class:t.whichIcon})]),e._v(" "),a("div",{staticClass:"duty_content"},[a("div",{staticClass:"content_title"},[e._v(e._s(t.hiresName))]),e._v(" "),a("div",{staticClass:"content_step vux-1px-b"},[a("div",[e._v("部门: "+e._s(t.hiresDepartMent))]),e._v(" "),a("div",[e._v("岗位: "+e._s(t.hiresPost))])])]),e._v(" "),a("div",{staticClass:"order_count"},[t.handlerName?a("div",{staticClass:"handle_man"},[e._v("\n            "+e._s(t.handlerName)),a("span",{staticStyle:{fontSize:".1rem"}},[e._v("[经办人]")])]):e._e()])])}),0)],1),e._v(" "),a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},GV4E:function(e,t){},GWbZ:function(e,t,a){"use strict";function n(e){a("4LeJ")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("1Unt");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("idOg"),o=a.n(s),l=a("CZPG"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},GZaT:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},GZsT:function(e,t){},GdIh:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADVCAYAAAChWJfBAAAAAXNSR0IArs4c6QAAGsVJREFUeAHtnXlsHcd9x2cf+XiJlKiLos5Isg7Lsi3LkRMXVlTLoUiKaXMgKZwmRdHmaFEkbtO0iZs0KBCg/aNBixzoH03TwKlhJGnQoC2MSNThKHFs2Wpkx3FC2ZZsRbcsUSIp6+Dx+N72+1txlvOe3iN3l7vv2u8A5MzuzvmZ/b6ZnZmdVYqGBEigpASskqbOxD0TOHjwYOPIW2+tTlnWKiuTabGVakLgWfgTux5/b9mWddmyrIGaTObyuGX1d3V1HcdxBtdoypgARVhmlWPbdmLv3r13WLZ9P9z3QWzrkMU1qKilOPZVXxDgNYT/BQIdhkAP19bWPt/R0XG8zIoc++z4qtTY04oQwL59++7KjI8/CqH1IJm5USUlgkTcj9c1Nn5v+/btl6JKh/F6J0ARemcViU/pZr515cq3UREfnqqlSyQSqrGxUTU1NanaZFLV1NS4f3ItlUpl/Y0MD6uRkZGCeUYrmUIrudtKJB7r7Oz8XxzjkKYUBCjCUlCfSHPPnj2zVCbzJMS33cxGfUODam1tdf5aWloc4TVAgBCK6W1a99jYmLpy5YqCyB174PJllU6nbw1nWc9BjI/gGfKFWy/yTNQE/NVq1LmJWfx7du/+JgT4J7rYS5YuVatWrVLNEF4UZnx8XF1480117uxZNTg4qJC2mUwGN8O3G5X62209Pf3mBbqjJUARRsu3YOy9vb1rMPjyCoRQK57u2LhRLV+xoqD/sC9Id/X06dPq5IkTWa0jboghtLh/2blz53fCTpPx5SeQyH+aZ6MmAAF+TAuwbdGiogpQyibd27Xr1qkH3vUutQjpa4O2sTVj24/t6e39KvJXo8/Tjo4ARRgd2+livlN7WLZsmXYW3ZbBnnvuvVdtecc7VHNzs5u+ncl8BkL8EUZt57gn6YiEAEUYCdbpI0WLI/N/jpk1S+bcS2vmz5+vfuuBB1T74sWTGbHtrvT4+I+feeaZaB5SJ1OKtYsiLF31yyoXx8gUQzkYyceme+5Ra9aunRyJte17r129+t99fX115ZDHasxDedR+NZKt4DLdtmaN2nin21tWGEZ995mTJx/HMyIH8iKoV4owAqjVEOVSPKeuW7/eLQq6zw9jSuXz7gk6QiNAEYaGsvoiWrV6tXrbypWTBbOsL/+4t3fj5Am6wiBAEYZBsYrjuH3DBtU6d2Ipq23Xj9n24wcOHHDmNqu42EUtGkVYVNyVmdhdd93lrFN1co+BmrGRkb+uzJKUZ64pwvKsl7LKVROmUNZgYt8wn+O0hUFjhk6KcIYA4xJ8JZ4NZ01M5mOUdN6Na9ceiUvZoy4nRRg14SqKf/Vtt7mlgRA/i2fDySU27hU6/BKgCP0Si7H/JUuWKOmaioEI5+PZ8GMxxhFa0SnC0FDGIyJ51co1tv0R101HYAIUYWB08Qwoa0sTeKtfDCbw37l///7V8SQRXqkpwvBYxiImbBalFixY4JY1nUqxNXRpBHNQhMG4xTrUYvNNC6U+FGsYIRSeIgwBYtyiWNjWpow3P+7GKGlr3BiEWV6KMEyaMYlLdnqbPXu2U1p5s2J0dPT+mBQ9kmJShJFgrf5I3fWkKCq26nig+kscXQkpwujYVnXMsiWjYShCA4ZfJ0Xolxj9OwRyRHg3sQQnQBEGZxfrkLJBsTwbipHVM1zCFvx2oAiDs4t9SNmpTRtsLGwspdFnaXshQBF6oUQ/eQmYIsykUivzeuLJaQlQhNMioodCBGQDYdfgu4mumw5fBChCX7jo2STQgOdCbfBcOLmWTZ+k7YkARegJEz3lI6AHZuQabiT5YjBNAAIUYQBoDHKTgClCO5GgCAPeGBRhQHAMhtZvYorCYWHbFGHAm4IiDAiOwZSqyd6+v/Qf1KjQSqEIK7TiyiHbxpsUkh332xrlkLdKygNFWEm1xbxWJQGKsCqrlYWqJAIUYSXVFvNalQQowqqsVhaqkghQhJVUW8xrVRKgCKuyWlmoSiJAEVZSbTGvVUmAIixVtZqfnrasUuWC6ZYBAYqwRJVgWVaLTtpcg6nP0Y4PAYqwBHUt2wTib44kDTGqZDJZglwwyXIhQBGWoCYO7d4traCzQUsNtpWniTcBirAE9X+9vn7iI/BKJSnCEtRAeSVJEZagPuxUaoVOtq6uTjtpx5QARViCis/Y9n062ZaJ7eT1Me34EaAIS1Dn+K6fK8I5c5zxmRLkgkmWCwGKsDQ1sUUnO5si1Chia1OERa76p3t7F2N6Yo0kKy/FtrS404VFzgmTKxcCFGGRa2LYtj+sk5w7b54zT6iPaceTAEVY/Hr/qE4y54u3+jTtmBGgCItY4Xv27LkdXdG3S5KyU9mi9vYips6kypUARVjEmrEzmU/q5NoWLlS1nKjXOGJtU4RFqn4ZkMGC0T/TyS1Ztkw7acecAEVYpBsAAzJfwvyg8wUVmRtciJaQhgSEAEVYhPvgwO7dK/Es+Amd1Np167STNglQhMW4B8aU+gbScRaJyrTE/AX8gFExuFdKGmwJI66p3t7eT6IV/F1JRt4dXMdWMGLilRc9RRhhnT21a9dtGIz5qk7ibStXqta57ltM+jTtmBOgCCO6AY7t2lU/bllPoBV0PpTSjOVpfBaMCHaFR0sRRlCBEJ51XKn/gH2/RC9rRO+++27HjiA5RlnhBLi3QgQVuLe3958xHfGwjnrd+vUqBu8NJp/ftWu2LnMl2POVGl3b0zNa6rxyr72QawADMX+lMpl/0tHKc+DtGzbow6qy+y9eVC++8EJFlwmDZdfRY7mEUbPLeH6/jMKcgPtZG3/d3d2vF6NwFGGIlNECfjGTyfyDjrJ98WK16Z579GHV2dUgwqkqBeK4IGLEM9uT8xYu/MGWLVtuTOU/6DWKMCg5Ixx+SRMQ4NdgP6JPy3zgfffdp6zsr9nqy1VhX7p0Sf3ypZcqtiz4wVSZdNpT/iGUIfw9YdfUfLOrq+vXngJ59EQRegRVyFtfX1/dmZMnHzefARdgSdo9mzcrbupbiFr5nE9DhKlUSqXGxtQY/q5evaoGBwfVEP7kOJ+BaJ61amsf7ezsfDbfdb/nKEK/xAz/eDVplUqnfwAButtVLF6yRN2FkVCZmKepbALXr19Xl/r71ZnTp9W1a9duKQzq+IlGy/r8tu7u87dc9HGCd4oPWKZXDMB8EA/y30YX1N2pqZoHYcyyx9E9ODCgTkOMFy5cyO3CXsXc05fr6+u/vn379vEgbChCn9QOHjzYeG1o6CsZpT6tg8o84HqMgK5Y4W4nqi/RrjICo6Oj6rVXX1Xnz53LKhmE9DRekfnQtp6e/qwLHg4oQg+QtJe9u3e/F+L7urLtlfpc06xZzgjobO4fqpHEwpaW8ZUjR5xnSKPAJ9Eqvg9TG780zk3rpAinRaTU/v37V4+nUt+A+N5jepcpiDvvvFPxexImlXi5f3P8uDp29ChuDYwMwMi8I4T4BxhB/R+vJAKJUNZFnqqvb0fC9V4TitofRiIH0Ce/FGY6Bw4caBgbGXkUcf4Nytqg466rr1frsQpmydKl+hTtGBOQqZqXMVUjo6xiIMRxCOt9nTt37vKCxZMIcTO2p0ZH3489Ut6LFN6JG3Kel8iL7Ud+hfB7dBLpvoB8PoZfo5/g3M2fKB+ZEfGhvH+E7eofNbueiEstx3OfLMTm/jA+gMbA6w2MpMrqIRlRnTA3rJqaHbgHD+oThewpRYhu2PzM2NgXsGrgU2ZLUCiycjuPwh2HGP+xa+fOf/OSN1n7OKSU7APzGfxlbYXW2tqqNmzcqPjs54VkPP3IvOKh559XIsgJM1iXSLzroe7uPn0in11QhBiEeDeakP+E+LDONdvIJLR8TUhGBcvFSFeg0OQqhPij2mTy4x0dHRfy5RfzfW12Ov0XaOnkx8adchC/0vVcu3atWrZ8eb6gPEcCWQSGh4fVoeeeUzKK6hjLegOrpjahRXSVmRUAB3lFiCVYn8KSnq/juvMhSwkkL6MuxTOQrAZpaHAfj+RS2RhZ/SC/QjJ8fA5/LgjkEAK7mKitfXDHjh2vSIbR5ayFaLvRxf5jdDl/B6ec7SfkmpjGxka1ctUqR3zl9GNzM3f8X84EZNXNzw8dcp8Rkdd/7e7pkR5WXnOLCNEC/t5EC+hck5tRumGVtjsYWjT1+rFjSkavxO0YyzqRsO0/zVhWF05+BOeyupzip7m5Wa1avVrJyhd5BqQhgSAE3jx/PmtdbY1lde/YuXNPvriy7jKsAtlkZTLP4ZbFvCNaPzwH3bVpk9P1zBe4FOekK+xHHLIGUB6Y9chVoTzPRUsvLV/bokWFvPA8CfgiIIvbRYxiILSzeM654/6enrdyI8l+qde2v68FKB6HhobUz37609wwJT2WrqEMjsiLsvKmwnRGutGymPqFw4fxmh+m2g0j3WqZZpButky605BAmATuQA9SJvXlsQi6WnrFsv4c8f99bhpuS4jnwO/iJv39XA/leiyt4eZ771UL29o8ZfH0qVPqSF+fM9DShjDt+A4Etx70hI6eZkBAxide/qW7gGawVamVua2hI0LZFQzTjEeRljPcKV2+ch2MkMEX3aJh0ax68KGHPCOSLmkymfTsnx5JIAwCzzz9tDt/CMF9qaunx33xW+J3uqNjltWBNwIcAcqz0dvxMqoIsRyNTEM8+8wzagxNvDTz8oqJDKZ4MRSgF0r0EzaB29asmWwNLeuzhw8f/qr5lr4jPKjT2RVMEpcuWrkKUPIn85OtxiemZV6GhgTKmYCMtM+aGHPASP28gf7+rDXIWoRZE9TlXCDmjQQqkYC5zhhCfNgsgyNCjNy0mCfpJgESCJeAvHFjmB4sFnGfoRwR4l/2VIXhm04SIIGZE2hqanLXHcs0IMY23C6pI8KZJ8EYSIAEpiNgfh7dSqe3av8UoSZBmwQiJiAfh9UGreFm7aYINQnaJBAxgaxPIVjWJgzQOPP0FGHE4Bk9CWgCMr2m30CCAJufeuqptXKNItSEaJNAEQjIJ/K0weqv28RNEWoitEmgCASStZMTEXitzlEkRVgE8EyCBDQBc2c+7GFEEWowtEmgWATMDcLwXEgRFgs80yEBTcB8OwnuJjnP7qimQ5sEikDA3OEB+xsNSpIUYRHAMwkS0ATkFTxt8GL6m+KmCDUR2iRQBAKjxjcP7UTC2YKTIiwCeCZBApqAuQ1nbTpNEWowtEmgGARkW5aRyZfQ0/iQ3hlJly1hMegzDRIAAflOBaYlHBZYNHp8bU+P84BIEfL2IIEiEbhufHIb33dxdoKXpCnCIlUAkyEB44tNKkER8oYggeITkJ0BtUG3lC2hhkGbBIpFgN3RYpFmOiRQgMD1GzfcK62ZzKv6gM+EmgRtEoiQwA0IMIPd48VgZPSsuRU+RRgheEZNAppAoa6oXKcINSXaJBAhAXNQBi2hOygjSVKEEYJn1CSgCZjTE5ixpwg1GNokUCwCZnfUnCOU9NkSFqsWmE6sCVzDkjVtrGSSLaGGQZsEikFA3pwYx7cxJ8xgR0eH8/aEPsGWUJOgTQIRETC7oniRN6sVlCQpwojAM1oS0ATMkVGcowg1GNokUCwC5sio+faETp8toSZBmwQiImC2hNjwly1hRJwZLQkUJGA+E2JfGYqwICleIIEICIyPjyu9rwxWygx3dnaezE2G3dFcIjwmgRAJmF1RRPsaRkczudFThLlEeEwCIRLI6ormmZ6QpCjCEIEzKhLIJWCKMHe5mvZLEWoStEkgAgLmcjVse3/LoIwkSRFGAJ5RkoAmYLaEyTwjo+KPItS0aJNAyARks99hY7PfRcuXH8uXBEWYjwrPkUAIBMzNfhHdGxs3bhzLFy1FmI8Kz5FACATMrqgqMDIqyVCEIcBmFCSQj4A5R5i7pYXpnyI0adBNAiESmG7htk6KItQkaJNAyATMlrA2z8JtnRxFqEnQJoGQCdwwtrRoaGlxN/vNTYYizCXCYxIIgYCz2S+mKBxjWWe2bt16tVC0FGEhMjxPAjMgYI6MWlN0RSUJinAGoBmUBAoRMJ8Hp5qekPAUYSGKPE8CMyCQ1RJOMUcoSVCEMwDNoCRQiIC5cFsVWLitw1KEmgRtEgiRgNkS2jU1ed+e0MlRhJoEbRIIicDoyIiSbS3E4E36ga6urotTRU0RTkWH10ggAIGsrug0I6MSPUUYADKDkMBUBLK6otMMykg8FOFUNHmNBAIQMKcnILApnwcleoowAGQGIYGpCGQt3C7wNr0ZniI0adBNAiEQMLujddNMT0hyFGEI0BkFCWgCKXwCTW/2i3M3HuzuvmWzX+1X2xShJkGbBEIgYHZFMT8hm/3a00VLEU5HiNdJwAcBsys63cJtHS1FqEnQJoEQCJgjo9Mt3NbJUYSaBG0SCIGA2RLm+xZhviQownxUeI4EAhIwV8vUehgZlWRqA6bFYCRAAjkEZLPfkYnNfjEgM966cGHezX5zgnGKIhcIj0kgKAHpitr2zcFQ/H9jy5YtKS9xsTvqhRL9kIAHAmZX1OvIqERLEXqASy8k4IWAOSjjdWRU4qUIvdClHxLwQMAUIZ4Jp124raOkCDUJ2iQwQwJmd1R5WLitk6MINQnaJDADAjIgY272m0wmC272m5sMRZhLhMckEIDA8I0b2M/p5ma/6Iqe3r59+zWv0VCEXknRHwlMQSCrK+rhRV4zKorQpEE3CQQkYA7KoGvqeVBGkqMIA0JnMBIwCZgLtxM+RkYlDorQJEk3CQQkkNUS+hgZleQowoDQGYwETALmy7yN6bSv7igXcJsk6SaBAARGsjf7vbxt585+P9GwJfRDi35JIA+BrK6oz5FRiY4izAOVp0jADwGzK+pn4bZOgyLUJGiTQEAC5sion4XbOjmKUJOgTQIBCWR1R31OT0iSFGFA8AxGApqAuVoGa0Z9jYxKHBShJkmbBAIQkM1+x0ZHnZBYM3r9oYceOuU3GorQLzH6JwGDQFZXVClPm/0awR0nRZhLhMck4IOA2RW1AkxPSFIUoQ/g9EoCuQTMlhC7PPl+HpT4KMJcqjwmAR8EzOkJvwu3dTIUoSZBmwQCEDBFWKNUX4Ao2BIGgcYwJCAExsfH3c1+MUk/ur27+/UgZNgSBqHGMCQAAteuXnU5yHI1TFGk3RM+HBShD1j0SgImgYGBgclDy3ph8sCfiyL0x4u+ScAlMHD5suvGF5h+7B74dFCEPoHROwkIgXQ6rYaGhlwYTUodcA98OihCn8DonQSEwPnz5x0hOjQsq29bd/f5oGQowqDkGC7WBE6fOuWWHytlvu8eBHBQhAGgMUi8Cbx15YqSP21qksnvancQmyIMQo1hYk3g9OnTbvkxLXGwo6PjuHsigIMiDACNQeJLQCboz5875wJAV/Rr7kFAB0UYEByDxZPAyRMn3AEZCPDYju7uH86UhCNCfNp3bKYRMTwJVDsBWSFz/I033GJaicRX0B29+RUY96x/x82W0LYn19/4j4MhSKDqCcinz371q1+5X17CWtGXd3R1PRZGwW+KMJGYHOoJI1bGQQJVRuA3x49njYjWWtang64VzUWjW0J39bfsmVHuJoWHY21qEjeLoI9pk0DYBOTF3TdedyWi0Ap+p6O7+2dhpXNzG/xE4iU8bTpxnjt7VtXX16tkXV1YaYQaj3wNdWhw0I2zuaXFddNBAmETGMUmTr948cXJbqhSR+sbGh4JMx1HhHV1dQfGRkZOoN+7UlrCo6+9FmYakcXV3t6ukPfI4mfE8SYgAvz5oUPK3WEb7wwmamoe9vMVXi8Enb4cIh3BKvD3o5m97iVQOfiZO3euumPjRk9ZuXzpknop+9fMUzh6ii+BUXzk5f9MAWIGocayHu7s7HwpbCqY6pg0+3ftumPcsp7HhjVOH6+2tlYtWLBAYUPTSU8ldtUiL3NaW9WiRYs85eTsmTPqSF+f051ohXA3b96s6tDdpiGBQgTkK0vSAt7Ad+gnzBiE8qGunp4n9Ykw7SwRSsT7du/emrbtp+B0+nkixDVr16oVK1YozIuEmXakcQnIY0ePKnnGNQ36844QRcg0JJBLoP/iRedHW+4fx6ALihbwg5iU/1Gu37CObxGhRLyvt/c9EOJ30SLO1gk14OZtX7xYLWxrU01NTc7gDYZo9eWS2/J+l/ThZWHtRYC8cOGCykwMNuVmLoEfE+nKLl22LPcSj2NKYGxsTL165IjzipKLAAJEw/OBrq6u3e65CBwFVbRv374NmVTqh1hNs6FQuuUiQplIncqgkI8D5v6MbX8LPyxuX3Q5Wvf1t9+uamqwTxZNbAnIWtBXX3lFiRC1wT1zFjfGH0KAgd+Y13FNZxcUoQQ8cOBAbWpk5OO4xf8ON/qS6SIrt+so3NMA+QWAPCh527t37wN2Ov09lGW5zqu08OsgxMVo5WniRUC6nrIW9LKxTYUQwH3zrUQy+bkdO3YUZRHLlCLUVXL48OHkQH//NojxvWhJ3olRVBFkO27mshmxQat8DXk7j1HeU7D3Ye7lyY6eniO6DNru7e2dh52x/h15/4A+J/acOXPUqtWr1SJMe9BULwF5ZDmDV5HOYMBuZHg4q6C4h36jEolPFKP1MxP2JEIzgOnGjTyj8GZcM3UD4NR90pwE9uza9VH8mHwFZchq4ZtmzVLL8Kwoz7+NjY05oXhYiQRkkOUK9oM5h26ntH6o89xiyEqVf1nQ1vbFLVu2uEOiuZ6iOi4bEUVVwKniRXe7OTU6+qVMJiMrILBXT7ZpxQjqvPnz1bx585S4azBSTFPeBGSATgbnruBPNmIS8bkjnTlZx80/jB/ix/Bm/D/P9MXcnKh9HcZahJoUxLgAYnwEv5Cfwt98fT7XlumNWRgZbkALKVM3MqDDQZ1cStEfS0smI9/pTMaZ/5UBFZlcH0FXU74VmKely84U3oDAjf9Eo21/Z1tPT3/2xeIfUYQG84MHDzZevXLlfTj1EVRkF2yuiTP4VKoTjyrjUOYhtHr78cz3X3jm+3U5lYUiLFAbaB1b8Qv7ICrvtyHIbfC2EW53eqNAMJ4uPYE0xPY6buyXkRVp8V5samn52datW8v2nVmK0ONNAyEmftLbuyJl2+syiUQ7Rlib8QvbjPMyekOOHjmG4s22U3YiMYI6GMYP4wieCQZQD+ewvPIsPlf9Jurl5itBoSTGSEiABKqewP8D0AnBOqipPQcAAAAASUVORK5CYII="},GdOl:function(e,t){},GdVh:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pop_dealer_list"},[a("div",{staticClass:"dealer-info",on:{click:function(t){e.showDealerPop=!e.showDealerPop}}},[e.selInfo.fundCode?a("div",{staticClass:"user-content"},[a("div",{staticClass:"user-info"},[a("div",{staticClass:"user-name"},[a("span",{staticClass:"user-tips"},[e._v(e._s(e.selInfo.fundType))]),e._v(" "),a("span",[e._v(e._s(e.selInfo.fundName||"暂无银行名称"))])])]),e._v(" "),a("div",{staticClass:"cp-info"},[a("span",[e._v("编码: "+e._s(e.selInfo.fundCode))]),e._v(" "),a("span",[e._v("余额: "+e._s(e._f("numberComma")(e.selInfo.thenAmntBal||e.selInfo.amntBal)))])])]):a("div",{staticClass:"user-content"},[a("div",{staticClass:"title"},[e._v("资金信息")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择资金")])]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r-arrow"})]),e._v(" "),e.selInfo.fundCode?e._t("other"):e._e(),e._v(" "),a("r-popup",{attrs:{show:e.showDealerPop,data:e.listData,options:e.scrollOptions,"has-next":e.hasNext,"default-value":e.defaultValue,"judge-keys":["fundCode"]},on:{"on-pulling-up":e.onPullingUp,"on-select":e.selItem,"on-search":e.searchList},scopedSlots:e._u([{key:"pop-item",fn:function(t){var n=t.item;return[a("div",{staticClass:"top"},[a("span",{staticClass:"name"},[e._v(e._s(n.fundName||"暂无银行名称"))]),e._v(" "),a("span",{staticClass:"label"},[e._v(e._s(n.fundType))])]),e._v(" "),a("div",{staticClass:"amt"},[a("span",[e._v("编码: "+e._s(n.fundCode))]),e._v(" "),a("span",[e._v("账户余额: "+e._s(e._f("numberComma")(n.thenAmntBal||n.amntBal)))])])]}}]),model:{value:e.showDealerPop,callback:function(t){e.showDealerPop=t},expression:"showDealerPop"}})],2)},i=[],r={render:n,staticRenderFns:i};t.a=r},Gfu4:function(e,t){},Ggb2:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages sj-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[a("div",{staticClass:"mater_list"},[a("div",{staticClass:"each_mater"},[a("div",{staticClass:"userInp_mode"},[a("div",{staticClass:"title"},[e._v("员工信息")]),e._v(" "),a("group",{staticClass:"SJ_group",on:{"group-title-margin-top":function(e){}}},[a("pop-salesman-list",{attrs:{title:"员工","dealer-label-name":"员工",value:e.formData.salesPerson,required:""},model:{value:e.formData.turnoverName,callback:function(t){e.$set(e.formData,"turnoverName",t)},expression:"formData.turnoverName"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("员工\n                    ")])])],2),e._v(" "),a("popup-picker",{attrs:{title:"部门",data:e.groupList,placeholder:"请选择"},model:{value:e.formData.turnoverDepartMent,callback:function(t){e.$set(e.formData,"turnoverDepartMent",t)},expression:"formData.turnoverDepartMent"}}),e._v(" "),a("popup-picker",{attrs:{title:"岗位",data:e.roleList,placeholder:"请选择"},model:{value:e.formData.turnoverPost,callback:function(t){e.$set(e.formData,"turnoverPost",t)},expression:"formData.turnoverPost"}}),e._v(" "),a("datetime",{attrs:{placeholder:"请选择日期",title:"离职日期"},model:{value:e.formData.turnoverDate,callback:function(t){e.$set(e.formData,"turnoverDate",t)},expression:"formData.turnoverDate"}}),e._v(" "),a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1)])])]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},Gkvy:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),m=a("sUbJ"),h=n(m),v=a("d7ck"),p=n(v);t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",orderList:{},basicInfo:{}}},mixins:[l.default],components:{workFlow:f.default,RAction:u.default,MatterItem:h.default,FormCell:p.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var d={};s.outPut;e.attachment=l;var u=s.outPut.dataSet,c=!0,f=!1,m=void 0;try{for(var h,v=(0,r.default)(u);!(c=(h=v.next()).done);c=!0){var p=h.value;p.inventoryPic=p.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+p.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),p.inventoryName_transObjCode=p.inventoryName_outPutMatCode,p.transObjCode=p.outPutMatCode,d[p.transMatchedCode]||(d[p.transMatchedCode]=[]),d[p.transMatchedCode].push(p)}}catch(e){f=!0,m=e}finally{try{!c&&v.return&&v.return()}finally{if(f)throw m}}e.orderList=d,e.orderInfo=s,e.workFlowInfoHandler()})}}}},GlWL:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2313,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[i.default],methods:{},created:function(){}}},GqrD:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("3cXf"),o=n(s),l=a("4YfN"),d=n(l),u=a("7g+Q"),c=n(u),f=a("z5TY"),m=n(f),h=a("BGNQ"),v=n(h),p=a("iR2W"),C=n(p),y=a("u28h"),_=n(y),g=a("SAzG"),b=n(g),w=a("PzEQ"),I=n(w),x=a("0AQX"),D=a("HyXB"),P=a("bKg5"),S=n(P),k=a("VZtf"),L=n(k),N=a("9cRV"),M=n(N),T=a("ZQWM"),A=n(T),O=a("yt3/"),R=n(O),j=a("luHD"),B=n(j),E=a("hLfv"),F=n(E),U=a("vl8n"),$=n(U),Q=a("+WR7"),H=n(Q),V=a("zWMP"),q=a("Qg39");t.default={data:function(){return{listId:"525bee48-d2d4-11e8-b8ca-0279b2c6a380",showMatterPop:!1,showMaterielPop:!1,transMode:[],matterList:[],logisticsTerm:[],numMap:{},contact:{},formData:{},dealerInfo:{validUntil:"",advancePaymentDueDate:""}}},computed:{thenTotalAmntBal:function(){var e=0;return this.matterList.forEach(function(t){var a=t.assistQty,n=t.price,i=(0,V.accMul)(a,n);e=(0,V.accAdd)(e,i)}),(0,q.toFixed)(e)}},components:{XInput:b.default,XTextarea:I.default,Group:m.default,Cell:v.default,Popup:c.default,PopMatter:B.default,RNumber:L.default,PopMatterList:M.default,PopDealerList:A.default,PopSingleSelect:R.default,Datetime:_.default,RPicker:$.default,PopBaseinfo:H.default,DealerOtherPart:F.default},mixins:[S.default],filters:{numberComma:C.default},methods:{selDealer:function(e){var t=JSON.parse(e)[0];this.dealerInfo=(0,d.default)({},this.dealerInfo,t),this.dealerInfo.drDealerPaymentTerm=this.dealerInfo.paymentTerm,this.dealerInfo.daysOfAccount=this.dealerInfo.pamentDays,this.dealerInfo.drDealerLogisticsTerms=this.dealerInfo.dealerLogisticsTerms,this.matterParams.data.drDealerCode&&(this.matterParams.data.drDealerCode=this.dealerInfo.dealerCode,this.matterList=[])},selContact:function(e){this.contact=(0,d.default)({},e)},dateSelect:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.$vux.datetime.show({confirmText:"确定",cancelText:"取消",value:this.dealerInfo[t],onConfirm:function(a){e.dealerInfo[t]=a}})},selMatter:function(e){var t=JSON.parse(e);t.map(function(e){e.tdQty=e.tdQty||"",e.price=e.price||"",e.taxRate=e.taxRate||.16,e.dateActivation=e.dateActivation||"",e.executionDate=e.executionDate||"",e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null}),this.matterList=t},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(t){return t.inventoryCode===e.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(e)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,o.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},checkAmt:function(e){var t=e.tdQty,a=e.tdAmountCopy1;t&&(e.tdQty=Math.abs((0,q.toFixed)(t))),a&&(e.tdAmountCopy1=Math.abs((0,q.toFixed)(a)))},submitOrder:function(){var e=this,t="",a=[],n=[{key:"dealerInfo",childKey:"dealerName",message:"请选择客户"},{key:"dealerInfo",childKey:"validUntil",message:"请选择合同到期日"},{key:"matterList",childKey:"length",message:"请选择物料"}];if(t||(n.every(function(a){return a.childKey&&!e[a.key][a.childKey]?(t=a.message,!1):!!e[a.key]||(t=a.message,!1)}),this.matterList.every(function(n){e.validateMap.every(function(e){return!!n[e.key]||(t=e.message,!1)});var i={tdId:n.tdId||"",inventoryName_transObjCode:n.inventoryName,transObjCode:n.inventoryCode,tdProcessing:n.processing,assMeasureUnit:n.assMeasureUnit,assMeasureDescription:n.assMeasureDescription,assMeasureScale:n.assMeasureScale,tdQty:n.tdQty,assistQty:n.assistQty,price:n.price,tdAmount:n.tdAmount,taxRate:n.taxRate,noTaxPrice:n.noTaxPrice,taxAmount:n.taxAmount,noTaxAmount:n.noTaxAmount,dateActivation:n.dateActivation,executionDate:n.executionDate,comment:n.comment||""};return a.push(i),!0})),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=D.saveAndStartWf,n=(0,r.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,drDealerPaymentTerm:e.dealerInfo.paymentTerm,daysOfAccount:e.dealerInfo.pamentDays},s={listId:e.listId,biComment:e.formData.biComment,formData:(0,o.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,dealerDebitContactPersonName:e.contact.dealerName,dealerDebitContactInformation:e.contact.dealerMobilePhone,drDealerLogisticsTerms:e.dealerInfo.dealerLogisticsTerms,order:(0,d.default)({},i,{dataSet:a}),inPut:(0,d.default)({},i,{validUntil:e.dealerInfo.validUntil,dataSet:[{thenTotalAmntBal:e.thenTotalAmntBal,tdAmountCopy1:e.dealerInfo.tdAmountCopy1,advancePaymentDueDate:e.dealerInfo.advancePaymentDueDate}]}),promDeliTime:""})),wfPara:(0,o.default)(n)};e.isResubmit&&(t=D.saveAndCommitTask,s.biReferenceId=e.biReferenceId,console.log("submitData.biReferenceId:",s.biReferenceId)),e.processCode.length||(t=D.submitAndCalc,delete s.wfPara,delete s.biReferenceId),e.biReferenceId&&(s.biReferenceId=e.biReferenceId),e.saveData(t,s)}})},getFormData:function(){var e=this;return(0,x.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.attachment=t.attachment;var a=t.formData;a.order.dataSet.map(function(t){t=(0,d.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode}),e.matterList.push(t)}),e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),e.dealerInfo={creatorName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation,dealerCode:a.order.dealerDebit,dealerSubclass:a.order.drAccountSub,dealerLabelName:a.order.drDealerLabel,dealerName:a.order.dealerName_dealerDebit,province:a.order.province_dealerDebit,city:a.order.city_dealerDebit,county:a.order.county_dealerDebit,address:a.order.address_dealerDebit,paymentTerm:a.order.drDealerPaymentTerm,dealerLogisticsTerms:a.drDealerLogisticsTerms,pamentDays:a.inPut.daysOfAccount,validUntil:a.inPut.validUntil,tdAmountCopy1:a.inPut.dataSet[0].tdAmountCopy1,advancePaymentDueDate:a.inPut.dataSet[0].advancePaymentDueDate},e.contact={dealerName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation},e.matterParams=(0,d.default)({},e.matterParams,{drDealerCode:e.dealerInfo.dealerCode}),e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,r.default)({},"XSHT_DATA",{matter:this.matterList,dealerInfo:this.dealerInfo,formData:this.formData,contact:this.contact})}},created:function(){var e=sessionStorage.getItem("XSHT_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.dealerInfo=t.dealerInfo,this.formData=t.formData,this.contact=t.contact,this.matterParams=(0,d.default)({},this.matterParams,{drDealerCode:this.dealerInfo.dealerCode}),sessionStorage.removeItem("XSHT_DATA")}}}},Gr1O:function(e,t){},GrsU:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages nbjgdd-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[Object.keys(e.orderList).length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v("订单列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n,i){return a("div",{key:n,staticClass:"each_mater"},[t.length?a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v("加工订单号")]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]):e._e(),e._v(" "),e._l(t,function(i,r){return a("div",{key:r,class:{mater_delete:e.matterModifyClass}},[a("matter-item",{class:{"vux-1px-b":r<t.length-1},attrs:{item:i,"show-delete":e.matterModifyClass},on:{"on-modify":function(t){e.modifyMatter(i,r,n)}},nativeOn:{click:function(t){e.delClick(r,i,n)}},scopedSlots:e._u([{key:"info",fn:function(t){var i=t.item;return[a("div",{staticClass:"mater_more"},[i.promDeliTime?a("span",[e._v("承诺交付日期: "+e._s(e._f("dateFormat")(i.promDeliTime,"YYYY-MM-DD")))]):e._e(),e._v(" "),a("span",[e._v("库存: "+e._s(i.qtyStock))])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:i.tdQty&&i.shippingTime,expression:"item.tdQty && item.shippingTime"}],staticClass:"mater_more"},[a("span",[e._v("主计划截止验收日:"+e._s(i.shippingTime))])]),e._v(" "),i.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"matter-remain"},[a("div",[e._v("待计划余额: "+e._s(i.qtyBal))]),e._v(" "),a("div",[e._v("库存计划: "+e._s(i.lockQty))]),e._v(" "),a("div",[e._v("加工计划: "+e._s(i.processQty))])]),e._v(" "),a("span",{staticClass:"check_bom",on:{click:function(t){e.checkBom(i,r,n)}}},[e._v("查看原料")])]):e._e()]}},{key:"edit",fn:function(t){var i=t.item;return[i.tdQty||e.matterModifyClass?e._e():a("div",{staticClass:"mater_other"},[a("div",{staticClass:"edit-tips",on:{click:function(t){e.modifyMatter(i,r,n)}}},[e._v("点击进行填写")]),e._v(" "),a("span",{staticClass:"check_bom",on:{click:function(t){e.checkBom(i,r,n)}}},[e._v("查看原料")])])]}}])}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.matterModifyClass,expression:"matterModifyClass"}],staticClass:"delete_icon",on:{click:function(t){e.delClick(r,i,n)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(i),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(i),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])])],1)})],2)}),0)]:[a("div",{on:{click:function(t){e.showOrderPop=!e.showOrderPop}}},[a("div",{staticClass:"title"},[e._v("订单列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择订单")]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),Object.keys(e.orderList).length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多物料")])]):e._e(),e._v(" "),a("pop-order-list",{ref:"order",attrs:{show:e.showOrderPop,"default-value":e.orderList,"is-mater-order":""},on:{"sel-matter":e.selOrder},scopedSlots:e._u([{key:"materInfo",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_material"},[a("span",{staticClass:"matter-info-item"},[e._v("库存:"+e._s(n.qtyStock))]),e._v(" "),a("span",{staticClass:"matter-info-item"},[e._v("余额:"+e._s(n.qtyBal))])])]}}]),model:{value:e.showOrderPop,callback:function(t){e.showOrderPop=t},expression:"showOrderPop"}})],2),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.UniqueBom.length,expression:"UniqueBom.length"}],staticClass:"materiel_list"},[a("bom-list",{attrs:{boms:e.UniqueBom},scopedSlots:e._u([{key:"number",fn:function(t){var n=t.bom;return[a("div",{staticClass:"number-part"},[a("span",{staticClass:"main-number"},[e._v("原料需求: "+e._s(n.tdQty)+e._s(n.measureUnit))]),e._v(" "),a("span",{staticClass:"number-unit"},[e._v("库存余额: "+e._s(n.qtyStock||n.thenQtyStock))])])]}}])})],1),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,"is-show-amount":!1},on:{"sel-confirm":e.selConfirm},scopedSlots:e._u([{key:"modify",fn:function(t){var n=t.modifyMatter;return[a("x-input",{attrs:{title:"待计划余额",type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkQtyBal(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.qtyBal,callback:function(t){e.$set(n,"qtyBal",e._n(t))},expression:"modifyMatter.qtyBal"}}),e._v(" "),a("x-input",{attrs:{title:"库存计划",type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checklockQty(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.lockQty,callback:function(t){e.$set(n,"lockQty",e._n(t))},expression:"modifyMatter.lockQty"}}),e._v(" "),a("x-input",{attrs:{title:"加工计划",type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkprocessQty(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.processQty,callback:function(t){e.$set(n,"processQty",e._n(t))},expression:"modifyMatter.processQty"}}),e._v(" "),a("datetime",{attrs:{title:"主计划截止验收日",placeholder:"请选择"},model:{value:n.shippingTime,callback:function(t){e.$set(n,"shippingTime",t)},expression:"modifyMatter.shippingTime"}}),e._v(" "),a("cell",{attrs:{title:"库存","text-align":"right",value:n.qtyStock}})]}}]),model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("bom-pop",{ref:"bomPop",attrs:{show:e.bomPopShow,bomInfo:e.bom,"btn-is-hide":e.btnIsHide,"no-specific-loss":!0},on:{"bom-confirm":e.bomConfirm},scopedSlots:e._u([{key:"bom-left",fn:function(t){var n=t.bom;return[a("div",{staticClass:"shipping-time",on:{click:function(t){e.modifyBomDate(n)}}},[e._v("\n            采购交货日期: "+e._s(n.shippingTime)),a("span",{staticClass:"iconfont icon-bianji1"})])]}},{key:"number",fn:function(t){var n=t.bom;return[a("div",{staticClass:"number-part"},[a("span",{staticClass:"main-number"},[e._v("原料需求: "+e._s(n.tdQty)+e._s(n.measureUnit))]),e._v(" "),a("span",{staticClass:"number-unit"},[e._v("库存余额: "+e._s(n.qtyStock))])]),e._v(" "),a("div",{staticClass:"specific_loss",on:{click:function(t){e.modifyBomLockQty(n)}}},[e._v("\n            原料库存计划: "+e._s(n.lockQty)),a("span",{staticClass:"iconfont icon-bianji1"})]),e._v(" "),a("div",{staticClass:"specific_loss"},[e._v("\n            单位损耗率: "+e._s(n.specificLoss))])]}}]),model:{value:e.bomPopShow,callback:function(t){e.bomPopShow=t},expression:"bomPopShow"}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode"},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},GtZX:function(e,t){},GvUu:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={PINI:{"b61ef324-f261-48d6-9c79-d1b475c24943":"FYBX","0281f8eb-f1d2-415c-b566-756fc749ccb3":"XMJH","b87a513e-99ec-4608-89db-3d6e97ef1432":"XMJX"},PPLN:{"ee4ff0a1-c612-419d-afd7-471913d57a2a":"XMRW"},PO:{"1c5896d8-1500-4569-b0c5-6b596d03fb9b":"CGRK"},PAPP:{"dd4d228d-fc01-4038-bf17-df54d8d06eb9":"CGDD"},POPI:{"482b7468-06eb-40c7-842a-f7ea6edb1c37":"CGTHCK"},PLAN:{"65ceb5a6-a120-11e8-862a-005056a136d0":"NBJGDD","7532f8ea-caf3-4fc4-97f6-b5aad7bcf6a0":"WLXQTJ"},SO1:{"a1e8592f-63c2-4a31-ba22-9d654484db1d":"XSCK"}}},GwOs:function(e,t,a){"use strict";function n(e){a("Fu3g")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("qgxz");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Zm5O"),o=a.n(s),l=a("1Y6N"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-91b5605c",null);t.default=c.exports},Gwjb:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.contactInfo,payment:!1,logistics:!1}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_part"},[e._m(0),e._v(" "),e._l(e.orderInfo.order.dataSet,function(t,n){return a("div",{key:n,staticClass:"form_content",class:{show_border:n!==e.orderInfo.order.dataSet.length-1}},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"资金账户名称",cellContent:t.fundName_cashOutCode,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"资金账户大类",cellContent:t.cashType_cashOutCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"支付金额",showSymbol:"",cellContent:e._f("numberComma")(e._f("toFixed")(t.tdAmount),3)}})],1)])})],2),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("账户列表")])])}],r={render:n,staticRenderFns:i};t.a=r},GxGw:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("3cXf"),i=function(e){return e&&e.__esModule?e:{default:e}}(n),r=a("1WsH");t.default={data:function(){return{jobInfo:{},jobId:""}},methods:{findData:function(){var e=this;return(0,r.getJobList)({filter:(0,i.default)([{operator:"eq",value:this.jobId,property:"id"}])}).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;n.forEach(function(e){switch(e.type){case"Y":e.type="营销类";break;case"Z":e.type="专业类";break;case"J":e.type="技术类";break;case"C":e.type="操作类";break;case"M":e.type="管理类"}switch(e.status){case 1:e.status="使用中";break;case 2:e.status="未使用";break;case 3:e.status="草稿";break;case-1:e.status="停用"}}),e.jobInfo=n[0],e.$loading.hide()}).catch(function(t){e.$loading.hide(),e.$vux.alert.show({content:t.message})})}},created:function(){this.$loading.show();var e=this.$route.query;e.id&&(this.jobId=e.id,this.findData())}}},GxoI:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages gdrwqd-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.biProcessStatus,callback:function(t){e.biProcessStatus=t},expression:"biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[a("div",{staticClass:"title"},[e._v("工序信息")]),e._v(" "),a("group",{staticClass:"costGroup",attrs:{"group-title-margin-top":"0"}},[a("cell",{attrs:{isLink:"",title:"工序名称"},nativeOn:{click:function(t){e.showWorkPop=!e.showWorkPop}},model:{value:e.workInfo.procedureName||"请选择",callback:function(t){e.$set(e.workInfo,"procedureName || '请选择'",t)},expression:"workInfo.procedureName || '请选择'"}}),e._v(" "),a("cell",{attrs:{title:"工序编码",disabled:!e.workInfo.proPointCode},model:{value:e.workInfo.proPointCode,callback:function(t){e.$set(e.workInfo,"proPointCode",t)},expression:"workInfo.proPointCode"}}),e._v(" "),a("cell",{attrs:{title:"工序待启动",disabled:!e.workInfo.thenQtyBal},model:{value:e.workInfo.thenQtyBal,callback:function(t){e.$set(e.workInfo,"thenQtyBal",t)},expression:"workInfo.thenQtyBal"}}),e._v(" "),a("cell",{attrs:{title:"启动数量",disabled:!e.workInfo.tdQty},model:{value:e.workInfo.tdQty,callback:function(t){e.$set(e.workInfo,"tdQty",t)},expression:"workInfo.tdQty"}}),e._v(" "),a("x-input",{attrs:{disabled:!e.workInfo.dealerName,"text-align":"right",placeholder:e.workInfo.qtyBal?"请填写":""},on:{"on-focus":function(t){e.getFocus(t)}},model:{value:e.workInfo.dealerName,callback:function(t){e.$set(e.workInfo,"dealerName",t)},expression:"workInfo.dealerName"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("组长")])])],2),e._v(" "),a("cell",{attrs:{title:"物料名称",disabled:!e.workInfo.inventoryName},model:{value:e.workInfo.inventoryName,callback:function(t){e.$set(e.workInfo,"inventoryName",t)},expression:"workInfo.inventoryName"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("物料名称\n              ")])])],2),e._v(" "),a("cell",{attrs:{title:"物料编码",disabled:!e.workInfo.inventoryCode},model:{value:e.workInfo.inventoryCode,callback:function(t){e.$set(e.workInfo,"inventoryCode",t)},expression:"workInfo.inventoryCode"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("物料编码\n              ")])])],2)],1),e._v(" "),a("pop-work-start-list",{attrs:{show:e.showWorkPop,defaultValue:e.workInfo},on:{"sel-work":e.selWork},model:{value:e.showWorkPop,callback:function(t){e.showWorkPop=t},expression:"showWorkPop"}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.workInfo.whInCode,expression:"workInfo.whInCode"}],staticClass:"warehouse materiel_list"},[a("div",{staticClass:"title required"},[e._v("在制仓库")]),e._v(" "),a("div",{staticClass:"mode"},[a("span",{staticClass:"mode-item"},[e._v(e._s(e.workInfo.wareName))]),e._v(" "),a("span",{staticClass:"mode-item"},[e._v(e._s(e.workInfo.whInCode))])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.workInfo.wareAddress,expression:"workInfo.wareAddress"}],staticClass:"cp_info"},[a("i",{staticClass:"iconfont icon-icon-test"}),e._v(" "),a("span",{staticClass:"cp_ads"},[e._v(e._s(e.workInfo.wareAddress))])])]),e._v(" "),a("pop-facility-list",{attrs:{"default-value":e.facility},on:{"sel-item":e.selFacility}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.bomList.length,expression:"bomList.length"}],staticClass:"materiel_list"},[a("bom-list",{attrs:{boms:e.bomList},scopedSlots:e._u([{key:"specification",fn:function(t){var n=t.bom;return[a("div",{staticClass:"content-unit"},[a("span",[e._v("型号规格: "+e._s(n.specification))])])]}},{key:"number",fn:function(t){var n=t.bom;return[a("div",{staticClass:"number-part"},[a("span",{staticClass:"main-number"},[e._v("数量: "+e._s(n.tdQty||0)+e._s(n.measureUnit))]),e._v(" "),a("span",{staticClass:"number-unit"},[e._v("bom数量: "+e._s(n.qty))]),e._v(" "),a("span",{staticClass:"number-unit"},[e._v("损耗率: "+e._s(n.specificLoss))])])]}}])})],1),e._v(" "),a("div",{staticClass:"comment vux-1px-t"},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},GylV:function(e,t){},"H+kM":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("kKsb"),p=n(v),C=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70"}},mixins:[u.default],components:{workFlow:h.default,RAction:f.default,ProjectPart:p.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=!0,i=!1,s=void 0;try{for(var l,d=(0,r.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;e.count=(0,C.accAdd)(e.count,u.tdAmount)}}catch(e){i=!0,s=e}finally{try{!n&&d.return&&d.return()}finally{if(i)throw s}}t.formData.validUntil=(0,o.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},H4xu:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"100%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("m-search",{attrs:{filterList:e.filterList,isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions}},e._l(e.taskWorkList,function(t,n){return t.qtyBalance>0?a("div",{key:n,staticClass:"each-work box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"work-main"},[a("div",{staticClass:"order-code"},[a("span",{directives:[{name:"show",rawName:"v-show",value:"启动"===e.workType,expression:"workType === '启动'"}],staticClass:"order-title"},[e._v("派工单号")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"验收"===e.workType,expression:"workType === '验收'"}],staticClass:"order-title"},[e._v("启动单号")]),e._v(" "),a("span",{staticClass:"order-num"},[e._v(e._s(t.transCode))])]),e._v(" "),a("div",{staticClass:"work_mid"},[a("div",{staticClass:"product_name"},[e._v("\n                 "+e._s(t.inventoryName)),a("span",{staticClass:"symbol"},[e._v("["+e._s(t.invProcessing)+"]")])])]),e._v(" "),a("div",{staticClass:"work_mid"},[a("div",{staticClass:"product_unit"},[a("span",{staticClass:"each_unit"},[e._v("加工订单号: "+e._s(t.processCode))]),e._v(" "),a("span",{staticClass:"each_unit"},[e._v("工序: "+e._s(t.procedureName))])]),e._v(" "),a("div",{staticClass:"product_unit"},[a("span",{staticClass:"each_unit"},[e._v("总数: "+e._s(t.drQty))]),e._v(" "),a("span",{staticClass:"each_unit"},[e._v("已"+e._s(e.workType)+": "+e._s(t.crQty))]),e._v(" "),a("span",{staticClass:"each_unit"},[e._v("可"+e._s(e.workType)+": "+e._s(t.qtyBalance))])])])]),e._v(" "),a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-circle-outline selIcon",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])]):e._e()}),0),e._v(" "),a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.btnHandle}},[e._v(e._s(e.btnText))])])],1)])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},HE6I:function(e,t,a){"use strict";function n(e){a("+gRi")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lf2c");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("/Fg5"),o=a.n(s),l=a("I0bA"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-0a62ab44",null);t.default=c.exports},HJsR:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("KH7x"),r=n(i),s=a("IHPB"),o=n(s),l=a("Iu/6"),d=n(l),u=a("HyXB"),c=a("vvLd"),f=n(c);t.default={name:"UploadImage",props:{src:{type:String,default:""}},components:{Spinner:d.default},data:function(){return{imgSrc:"",imgFile:"",showLoading:!1}},watch:{src:{handler:function(e){this.imgSrc=e}}},methods:{dataURLtoFile:function(e,t){for(var a=e.split(","),n=window.atob(a[1]),i=n.length,r=new Uint8Array(i),s=a[0].match(/:(.*?);/)[1];i--;)r[i]=n.charCodeAt(i);return new File([r],t,{type:s})},uploadFile:function(e){var t=[].concat((0,o.default)(e.target.files));t.length&&(this.imgFile=t[0],e.target.value="",this.imgPreview())},imgPreview:function(){var e=this;this.showLoading=!0;var t=this.imgFile,a=void 0;if(f.default.getData(t,function(){a=f.default.getTag(t,"Orientation")}),t&&window.FileReader&&/^image/.test(t.type)){var n=new FileReader;n.readAsDataURL(t),n.onloadend=function(t){var n=t.target.result,i=new Image;i.src=n,n.length<=102400?e.postImg(n):i.onload=function(){e.postImg(e.compress(i,a))}}}},postImg:function(e){var t=this,a=this.dataURLtoFile(e,this.imgFile.name);(0,u.upload)({file:a}).then(function(e){var a=(e.success,e.message,e.data),n=(0,r.default)(a,1),i=n[0],s=void 0===i?{}:i;t.imgSrc="/H_roleplay-si/ds/download?url="+s.attacthment+"&width=400&height=400",t.$emit("on-upload",{src:s.attacthment})}).catch(function(e){t.$vux.alert.show({content:e.message})})},compress:function(e,t){var a=document.createElement("canvas"),n=a.getContext("2d"),i=document.createElement("canvas"),r=i.getContext("2d"),s=e.src.length,o=e.width,l=e.height,d=void 0;(d=o*l/4e6)>1?(console.log("大于400万像素"),d=Math.sqrt(d),o/=d,l/=d):d=1,a.width=o,a.height=l,n.fillStyle="#fff",n.fillRect(0,0,a.width,a.height);var u=void 0;if((u=o*l/1e6)>1){console.log("超过100W像素"),u=~~(Math.sqrt(u)+1);var c=~~(o/u),f=~~(l/u);i.width=c,i.height=f;for(var m=0;m<u;m++)for(var h=0;h<u;h++)r.drawImage(e,m*c*d,h*f*d,c*d,f*d,0,0,c,f),n.drawImage(i,m*c,h*f,c,f)}else n.drawImage(e,0,0,o,l);if(""!==t&&1!==t)switch(t){case 6:this.rotateImg(e,"left",a);break;case 8:this.rotateImg(e,"right",a);break;case 3:this.rotateImg(e,"right",a),this.rotateImg(e,"right",a)}var v=a.toDataURL("image/jpeg/gif",.5);return console.log("压缩前: "+s),console.log("压缩后: "+v.length),console.log("压缩率: "+~~(100*(s-v.length)/s)+"%"),i.width=i.height=a.width=a.height=0,v},rotateImg:function(e,t,a){if(null!=e){var n=e.height,i=e.width,r=2;null==r&&(r=0),"right"===t?++r>3&&(r=0):--r<0&&(r=3);var s=90*r*Math.PI/180,o=a.getContext("2d");switch(r){case 0:a.width=i,a.height=n,o.drawImage(e,0,0);break;case 1:a.width=n,a.height=i,o.rotate(s),o.drawImage(e,0,-n);break;case 2:a.width=i,a.height=n,o.rotate(s),o.drawImage(e,-i,-n);break;case 3:a.width=n,a.height=i,o.rotate(s),o.drawImage(e,-i,0)}}},getDefaultImg:function(e){this.showLoading=!1,this.$emit("on-error",e)},imgLoad:function(){this.showLoading=!1}},created:function(){this.imgSrc=this.src}}},HMMB:function(e,t){},HPEG:function(e,t,a){"use strict";function n(e){a("XuIo")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("dcVo");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("cG8U"),o=a.n(s),l=a("GTw7"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-fe559f1c",null);t.default=c.exports},HTRD:function(e,t){},"HU/K":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("St0H");t.default={name:"x-button",props:{type:{default:"default"},disabled:Boolean,mini:Boolean,plain:Boolean,text:String,actionType:String,showLoading:Boolean,link:[String,Object],gradients:{type:Array,validator:function(e){return 2===e.length}}},methods:{onClick:function(){!this.disabled&&(0,n.go)(this.link,this.$router)}},computed:{noBorder:function(){return Array.isArray(this.gradients)},buttonStyle:function(){if(this.gradients)return{background:"linear-gradient(90deg, "+this.gradients[0]+", "+this.gradients[1]+")",color:"#FFFFFF"}},classes:function(){return[{"weui-btn_disabled":!this.plain&&this.disabled,"weui-btn_plain-disabled":this.plain&&this.disabled,"weui-btn_mini":this.mini,"vux-x-button-no-border":this.noBorder},this.plain?"":"weui-btn_"+this.type,this.plain?"weui-btn_plain-"+this.type:"",this.showLoading?"weui-btn_loading":""]}}}},HV0e:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("project-part",{attrs:{"project-info":e.orderInfo.order}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_part"},[e._m(0),e._v(" "),e._l(e.orderInfo.inPut.dataSet,function(t,n){return a("div",{key:n,staticClass:"form_content"},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"供应商名称",cellContent:t.dealerName_dealerDebit,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"供应商编码",cellContent:t.dealerCode_dealerDebit}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来关系标签",cellContent:t.drDealerLabel}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来余额",cellContent:e._f("numberComma")(e._f("toFixed")(t.thenAmntBalCopy1),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"申请金额",cellContent:e._f("numberComma")(e._f("toFixed")(t.applicationAmount),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次支付",cellContent:e._f("numberComma")(e._f("toFixed")(t.tdAmountCopy1),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次支付后余额",cellContent:e._f("numberComma")(e._f("toFixed")(t.differenceAmount),3),showSymbol:""}})],1)])})],2),e._v(" "),a("div",{staticClass:"form_part"},[e._m(1),e._v(" "),e._l(e.orderInfo.order.dataSet,function(t,n){return a("div",{key:n,staticClass:"form_content",class:{show_border:n!==e.orderInfo.order.dataSet.length-1}},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"采购入库号",cellContent:t.transMatchedCode,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"采购订单号",cellContent:t.orderCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"价税合计",cellContent:e._f("numberComma")(e._f("toFixed")(t.thenTotalAmntBal),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"已核销",cellContent:e._f("numberComma")(e._f("toFixed")(t.thenAlreadyAmnt),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"待核销",cellContent:e._f("numberComma")(e._f("toFixed")(t.thenAmntBal),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"账期到期日",cellContent:t.accountExpirationDate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"账期天数",cellContent:""+t.daysOfAccount}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"帐龄天数",cellContent:""+t.ageOfAging}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"账期剩余天数",cellContent:""+t.accountRemaingDays}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"已收票",cellContent:e._f("numberComma")(e._f("toFixed")(t.invoiced),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"待收票",cellContent:e._f("numberComma")(e._f("toFixed")(t.pendingTicket),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次申请支付",cellContent:e._f("numberComma")(e._f("toFixed")(t.applicationAmount),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次支付",cellContent:e._f("numberComma")(e._f("toFixed")(t.tdAmount),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次支付后余额",cellContent:e._f("numberComma")(e._f("toFixed")(t.differenceAmount),3),showSymbol:""}})],1)])})],2),e._v(" "),a("div",{staticClass:"form_part"},[e._m(2),e._v(" "),e._l(e.orderInfo.outPut.dataSet,function(t,n){return a("div",{key:n,staticClass:"form_content"},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"资金账户",cellContent:t.fundName_cashOutCode,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"资金编码",cellContent:t.cashOutCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"资金账户类型",cellContent:t.cashType_cashOutCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"账户余额",cellContent:e._f("numberComma")(e._f("toFixed")(t.thenAmntBal),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次支付",cellContent:e._f("numberComma")(e._f("toFixed")(t.tdAmount),3),showSymbol:""}})],1)])})],2),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("供应商详情")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("采购费用列表")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("供资金详情")])])}],r={render:n,staticRenderFns:i};t.a=r},HVhx:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("BGNQ"),o=n(s),l=a("z5TY"),d=n(l),u=a("kNGm"),c=(n(u),a("0AQX"),a("jLp1")),f=a("+VRO"),m=n(f),h=a("PKHo"),v=n(h),p=a("vl8n"),C=n(p);t.default={data:function(){return{projectTask:{},comment:{}}},mixins:[m.default,v.default],components:{Group:d.default,Cell:o.default,RPicker:C.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,c.findProjectTask)(t).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=t.attachment,s=void 0===i?[]:i,o=n.projectTask||{};e.jsonData=n,e.attachment=s,e.comment=n.comment,e.projectTask=(0,r.default)({},o,{deadline:e.changeDate(o.deadline),actualCompleteTime:e.changeDate(o.actualCompleteTime)}),e.orderInfo=(0,r.default)({},n.baseinfo,{biStatus:"已生效"})})}},created:function(){}}},HXPS:function(e,t,a){"use strict";function n(e){a("iiu9")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("K7WK");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("FA8z"),o=a.n(s),l=a("LGX9"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},HaI5:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages comment-list-container",class:{"has-emotion":e.showEmotion}},[a("r-scroll",{ref:"bScroll",staticClass:"comment-list-wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.commentList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.commentList,function(t,n){return a("comment-item",{key:n,attrs:{item:t,"no-border":n===e.commentList.length-1},on:{"on-reply":e.onReply,"on-praise-success":e.onPraiseSuccess}},e._l(t.allReply,function(t,n){return a("comment-item",{key:n,attrs:{slot:"reply",item:t,"no-border":""},on:{"on-reply":e.onReply,"on-praise-success":e.onPraiseSuccess},slot:"reply"})}),1)}),1),e._v(" "),a("div",{staticClass:"send-container",class:{focus:e.focusInput}},[a("i",{ref:"emotionIcon",staticClass:"icon-emotion",on:{click:function(t){e.showEmotion=!e.showEmotion}}}),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.comment,expression:"comment"}],ref:"commentValue",staticClass:"comment-value",attrs:{type:"text",placeholder:e.placeholder},domProps:{value:e.comment},on:{focusin:e.commentFocusIn,focusout:e.commentFocusOut,input:function(t){t.target.composing||(e.comment=t.target.value)}}}),e._v(" "),a("span",{staticClass:"btn-send",on:{click:function(t){return t.stopPropagation(),e.saveComment(t)}}},[e._v("发送")])]),e._v(" "),a("r-emotion",{ref:"emotion",attrs:{show:e.showEmotion},on:{"on-select":e.emotionSelected}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},HcHI:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("T1B6"),r=n(i),s=a("uJtz"),o=n(s),l=a("jnZd"),d=n(l);t.default={name:"x-address",components:{PopupPicker:d.default},props:{title:{type:String,required:!0},value:{type:Array,default:function(){return[]}},rawValue:Boolean,list:{type:Array,required:!0},labelWidth:String,inlineDesc:String,placeholder:String,hideDistrict:Boolean,valueTextAlign:String,confirmText:String,cancelText:String,displayFormat:{type:Function,default:function(e,t){return t}},popupStyle:Object,popupTitle:String,show:Boolean,disabled:Boolean},created:function(){if(this.currentValue.length&&this.rawValue){var e=(0,r.default)(this.currentValue,this.list);/__/.test(e)?(console.error("[VUX] Wrong address value",this.currentValue),this.currentValue=[]):this.currentValue=e.split(" ")}this.show&&(this.showValue=!0)},methods:{emitHide:function(e){this.$emit("on-hide",e)},getAddressName:function(){return(0,o.default)(this.value,this.list)},onShadowChange:function(e,t){this.$emit("on-shadow-change",e,t)}},data:function(){return{currentValue:this.value,showValue:!1}},computed:{nameValue:function(){return(0,o.default)(this.currentValue,this.list)},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}}},watch:{currentValue:function(e){this.$emit("input",e)},value:function(e){if(e.length&&!/\d+/.test(e[0])){var t=(0,r.default)(e,this.list).split(" ");if("__"!==t[0]&&"__"!==t[1])return void(this.currentValue=t)}this.currentValue=e},show:function(e){this.showValue=e},showValue:function(e){this.$emit("update:show",e)}}}},HcOF:function(e,t,a){"use strict";function n(e){a("72PU")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("pD7w");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("thiw"),o=a.n(s),l=a("+c9Q"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-cc94a4ca",null);t.default=c.exports},HfaK:function(e,t,a){e.exports=a.p+"static/img/avatar.07a1d37.png"},HgcR:function(e,t){},Hitz:function(e,t){},HkPF:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2244,biStatus:"",filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"客户名称",value:"dealerName_dealerDebit"}]}},mixins:[i.default],methods:{}}},Hp0t:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("J0Oq"),o=n(s),l=a("4YfN"),d=n(l),u=a("a3Yh"),c=n(u),f=a("3cXf"),m=n(f),h=a("z5TY"),v=n(h),p=a("SAzG"),C=n(p),y=a("PzEQ"),_=n(y),g=a("u28h"),b=n(g),w=a("0AQX"),I=a("HyXB"),x=a("bKg5"),D=n(x),P=a("9cRV"),S=n(P),k=a("luHD"),L=n(k),N=a("vl8n"),M=n(N),T=a("+WR7"),A=n(T),O=a("zWMP");a("Qg39");t.default={components:{PopMatterList:S.default,XTextarea:_.default,Group:v.default,XInput:C.default,PopMatter:L.default,RPicker:M.default,Datetime:b.default,PopBaseinfo:A.default},data:function(){return{matterList:[],showMaterielPop:!1,formData:{creator:"",modifer:"",biId:"",biComment:""},applyComment:"",numMap:{},taxRate:0,checkFieldList:[{key:"tdQty",message:"请填写数量"}]}},mixins:[D.default],computed:{totalNum:function(){var e=0;return this.matterList.forEach(function(t){e=(0,O.accAdd)(e,t.tdQty)}),Number(e)}},methods:{selMatter:function(e){var t=JSON.parse(e);t.map(function(e){e.tdQty=e.tdQty||""}),this.matterList=t},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this,t="",a=[];if(0===this.matterList.length&&(t="请选择物料"),t||this.matterList.every(function(e){return e.tdQty?(a.push({tdId:e.tdId||"",inventoryName_transObjCode:e.inventoryName,transObjCode:e.inventoryCode,tdProcessing:e.processing,assMeasureUnit:e.assMeasureUnit||null,assMeasureScale:e.assMeasureScale||null,assistQty:e.assistQty||0,tdQty:e.tdQty,comment:e.comment||"",promDeliTime:e.promDeliTime}),!0):(t="请填写数量",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=I.saveAndStartWf,n=(0,c.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.biComment,formData:(0,m.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,order:{dataSet:a}})),wfPara:(0,m.default)(n)};e.isResubmit&&(t=I.saveAndCommitTask,i.biReferenceId=e.biReferenceId),e.processCode.length||(t=I.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,o.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,w.getSOList)({formViewUniqueId:e.uniqueId,transCode:e.transCode}).then(function(t){e.listId=t.listId,e.applyComment=t.biComment,e.biReferenceId=t.biReferenceId,e.biComment=t.biComment;var a=t.formData;a.order.dataSet.map(function(t){t=(0,d.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,inventoryType:t.inventoryType_transObjCode,inventorySubclass:t.inventorySubclass_transObjCode}),e.matterList.push(t)}),e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),e.attachment=t.attachment,e.$loading.hide()});case 2:case"end":return t.stop()}},t,e)}))()},hasDraftData:function(){return!!this.matterList.length&&(0,c.default)({},"BHDD_DATA",{matter:this.matterList,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("BHDD_DATA");e&&(this.matterList=JSON.parse(e).matter,this.formData=JSON.parse(e).formData,sessionStorage.removeItem("BHDD_DATA"))}}},HpO8:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("Nk/b"),o=n(s),l=a("BGNQ"),d=n(l),u=a("7g+Q"),c=n(u),f=a("MF1H"),m=n(f),h=a("xZPP"),v=n(h),p=a("nKjL"),C=a("KH5r"),y=n(C),_=a("uJtz"),g=n(_),b=a("3BYQ"),w=n(b),I=a("+62G"),x=n(I),D=function(e){return JSON.parse((0,r.default)(e))};t.default={name:"popup-picker",directives:{TransferDom:x.default},created:function(){void 0!==this.show&&(this.showValue=this.show)},mixins:[w.default],components:{Picker:o.default,Cell:d.default,Popup:c.default,PopupHeader:m.default,Flexbox:p.Flexbox,FlexboxItem:p.FlexboxItem,InlineDesc:v.default},filters:{array2string:y.default,value2name:g.default},props:{valueTextAlign:{type:String,default:"right"},title:String,cancelText:String,confirmText:String,data:{type:Array,default:function(){return[]}},placeholder:String,columns:{type:Number,default:0},fixedColumns:{type:Number,default:0},value:{type:Array,default:function(){return[]}},showName:Boolean,inlineDesc:[String,Number,Array,Object,Boolean],showCell:{type:Boolean,default:!0},show:Boolean,displayFormat:Function,isTransferDom:{type:Boolean,default:!0},columnWidth:Array,popupStyle:Object,popupTitle:String,disabled:Boolean},computed:{labelStyles:function(){return{display:"block",width:this.$parent.labelWidth||this.$parent.$parent.labelWidth||"auto",textAlign:this.$parent.labelAlign||this.$parent.$parent.labelAlign,marginRight:this.$parent.labelMarginRight||this.$parent.$parent.labelMarginRight}},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}}},methods:{value2name:g.default,getNameValues:function(){return(0,g.default)(this.currentValue,this.data)},onClick:function(){this.disabled||(this.showValue=!0)},onHide:function(e){this.showValue=!1,e&&(this.closeType=!0,this.currentValue=D(this.tempValue)),e||(this.closeType=!1,this.value.length>0&&(this.tempValue=D(this.currentValue)))},onPopupShow:function(){this.closeType=!1,this.$emit("on-show")},onPopupHide:function(e){this.value.length>0&&(this.tempValue=D(this.currentValue)),this.$emit("on-hide",this.closeType)},onPickerChange:function(e){if((0,r.default)(this.currentValue)!==(0,r.default)(e)&&this.value.length){var t=(0,r.default)(this.data);t!==this.currentData&&"[]"!==this.currentData&&(this.tempValue=D(e)),this.currentData=t}var a=D(e);this.$emit("on-shadow-change",a,(0,g.default)(a,this.data).split(" "))}},watch:{value:function(e){(0,r.default)(e)!==(0,r.default)(this.tempValue)&&(this.tempValue=D(e),this.currentValue=D(e))},currentValue:function(e){this.$emit("input",D(e)),this.$emit("on-change",D(e))},show:function(e){this.showValue=e},showValue:function(e){this.$emit("update:show",e)}},data:function(){return{onShowProcess:!1,tempValue:D(this.value),closeType:!1,currentData:(0,r.default)(this.data),showValue:!1,currentValue:this.value}}}},HyXB:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.requestData=t.getFormViews=t.getFormConfig=t.transferTask=t.getUserList=t.getRoleByUserId=t.getGroupByUserId=t.listUsers=t.getObjDealerByLabelName=t.getProcess=t.getDictByValue=t.getProcessStatus=t.getDictByType=t.deleteFile=t.mediaUpload=t.upload=t.getList=t.getBaseInfoData=t.getBaseInfoDataBase=t.commitTask=t.updateData=t.submitAndCalc=t.saveAndCommitTask=t.saveAndStartWf=void 0;var i=a("3cXf"),r=n(i),s=a("4YfN"),o=n(s),l=a("lC5x"),d=n(l),u=a("KH7x"),c=n(u),f=a("J0Oq"),m=n(f),h=a("rVsN"),v=n(h),p=a("GOq4"),C=n(p),y=t.saveAndStartWf=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return C.default.ajax({type:"POST",contentType:"application/x-www-form-urlencoded",url:"/H_roleplay-si/formAPI/saveAndStartWf",data:e})},_=t.saveAndCommitTask=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return C.default.ajax({type:"POST",contentType:"application/x-www-form-urlencoded",url:"/H_roleplay-si/formAPI/saveAndCommitTask",data:e})},g=t.submitAndCalc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return C.default.ajax({type:"POST",contentType:"application/x-www-form-urlencoded",url:"/H_roleplay-si/formAPI/submitAndCalc",data:e})},b=(t.updateData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return C.default.ajax({type:"POST",contentType:"application/x-www-form-urlencoded",url:"/H_roleplay-si/formAPI/updateData",data:e})},t.commitTask=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return C.default.ajax({type:"POST",contentType:"application/x-www-form-urlencoded",url:"/H_roleplay-si/flow/commitTask",data:e})},t.getBaseInfoDataBase=function(){return new v.default(function(){var e=(0,m.default)(d.default.mark(function e(t,a){var n,i,r,s,o,l,u,f;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.default.ajax({url:"/H_roleplay-si/userInfo/currentUser"}).then(function(e){return e});case 2:return n=e.sent,i=n.nickname,r=n.userId,e.next=7,C.default.ajax({url:"/H_roleplay-si/ds/getUnitsByUserId",data:{userId:r,page:1,start:0,limit:1e4}}).then(function(e){var t=e.tableContent,a=void 0===t?[]:t,n=(0,c.default)(a,1),i=n[0];return void 0===i?{}:i});case 7:s=e.sent,o=s.userGroupId,l=void 0===o?"":o,u=s.userGroupName,f=void 0===u?"":u,C.default.ajax({url:"/H_roleplay-si/ds/getRolesByUserId",data:{userId:r,parentId:l,page:1,start:0,limit:1e4}}).then(function(e){var a=e.tableContent,n=void 0===a?[]:a,s=(0,c.default)(n,1),o=s[0],d=void 0===o?{}:o;t({handler:r,handlerName:i,handlerUnit:l,handlerUnitName:f,handlerRole:d.userGroupId||"",handlerRoleName:d.userGroupName||""})});case 13:case"end":return e.stop()}},e,void 0)}));return function(t,a){return e.apply(this,arguments)}}())},t.getBaseInfoData=function(){return new v.default(function(){var e=(0,m.default)(d.default.mark(function e(t,a){var n,i,r,s,o,l,u,c;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.default.ajax({url:"/H_roleplay-si/userInfo/currentUser"}).then(function(e){return e});case 2:return n=e.sent,i=n.nickname,r=n.userId,s=n.userCode,e.next=8,C.default.ajax({url:"/H_roleplay-si/ds/getGroupByUserId",data:{userId:r,page:1,start:0,limit:1e4}}).then(function(e){var t=e.tableContent;return{tableContent:void 0===t?[]:t}});case 8:return o=e.sent,l=o.tableContent,e.next=12,C.default.ajax({url:"/H_roleplay-si/ds/getRoleByUserId",data:{userId:r,page:1,start:0,limit:1e4}}).then(function(e){var t=e.tableContent;return{tableContent:void 0===t?[]:t}});case 12:u=e.sent,c=u.tableContent,t({handleORG:l,userRoleList:c,userId:r,nickname:i,userCode:s});case 15:case"end":return e.stop()}},e,void 0)}));return function(t,a){return e.apply(this,arguments)}}())}),w=t.getList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return C.default.ajax({url:"/H_roleplay-si/seconds/getReportInfoByListViewId/"+e,data:t})},I=t.upload=function(e){var t=e.file,a=void 0===t?{}:t,n=e.biReferenceId,i=void 0===n?"":n;return C.default.upload({file:a,biReferenceId:i})},x=t.mediaUpload=function(e){var t=e.mediaId,a=void 0===t?"":t,n=e.biReferenceId,i=void 0===n?"":n,r=new FormData;return r.append("mediaId",a),i&&r.append("biReferenceId",i),C.default.post({headers:{"Content-Type":"multipart/form-data"},url:"/H_roleplay-si/ds/mediaUpload",data:r})},D=(t.deleteFile=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return C.default.ajax({url:"/H_roleplay-si/ds/delete",data:{_dc:Date.now(),id:e,list:"attachments"}})},t.getDictByType=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return C.default.ajax({url:"/H_roleplay-si/ds/getDictByType",data:(0,o.default)({_dc:Date.now(),page:1,start:0,limit:1e4,type:e},t)})}),P=t.getProcessStatus=function(e){return C.default.ajax({url:"/H_roleplay-si/ds/getProcessStatus",data:{listId:e,page:1,start:0,limit:1e4}})},S=t.getDictByValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return C.default.ajax({url:"/H_roleplay-si/ds/getDictByValue",data:(0,o.default)({_dc:Date.now(),page:1,start:0,limit:1e4,value:e},t)})},k=t.getProcess=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return C.default.ajax({url:"/H_roleplay-si/ds/list/getProcessByListId",data:{_dc:Date.now(),listId:e}})},L=t.getObjDealerByLabelName=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return C.default.ajax({url:"/H_roleplay-si/ds/getObjDealerByLabelName",data:(0,o.default)({_dc:Date.now(),page:1,start:0,limit:1e4},e)})},N=(t.listUsers=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return C.default.ajax({url:"/H_roleplay-si/ds/listUsers",data:e})},t.getGroupByUserId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return C.default.ajax({url:"/H_roleplay-si/ds/getGroupByUserId",data:{page:1,start:0,limit:1e4,userId:e}})},t.getRoleByUserId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return C.default.ajax({url:"/H_roleplay-si/ds/getRoleByUserId",data:{page:1,start:0,limit:1e4,userId:e}})},t.getUserList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return C.default.ajax({url:"/H_roleplay-si/ds/listUsers",data:(0,o.default)({_dc:Date.now(),sort:(0,r.default)([{property:"crtTime",direction:"DESC"}])},e)})}),M=t.transferTask=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return C.default.ajax({url:"/H_roleplay-si/flow/setAssignee",data:(0,o.default)({_dc:Date.now()},e)})},T=t.getFormConfig=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return C.default.ajax({url:"/H_roleplay-si/mobile/formView/"+e})};t.getFormViews=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return C.default.ajax({url:"/H_roleplay-si/ds/list/getFormViews",data:{listId:e}})},t.requestData=function(e){var t=e.url,a=void 0===t?"":t,n=e.data,i=void 0===n?{}:n;return C.default.ajax({url:a,data:i})};t.default={getList:w,upload:I,mediaUpload:x,getProcess:k,getDictByType:D,submitAndCalc:g,getDictByValue:S,saveAndStartWf:y,getBaseInfoData:b,saveAndCommitTask:_,getProcessStatus:P,getObjDealerByLabelName:L,getUserList:N,transferTask:M,getFormConfig:T}},I0bA:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages sj-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),e._l(e.CostList,function(t,n){return a("div",{key:n,staticClass:"materiel_list"},[a("div",{staticClass:"title"},[e._v(e._s("费用明细"+(n+1)))]),e._v(" "),a("group",{staticClass:"SJ_group",on:{"group-title-margin-top":function(e){}}},[a("cell",{attrs:{title:"费用名称","is-link":""},nativeOn:{click:function(a){e.getCost(n,t)}},model:{value:t.exptName,callback:function(a){e.$set(t,"exptName",a)},expression:"item.exptName"}},[a("span",{staticClass:"required",attrs:{slot:"title"},slot:"title"},[e._v("费用名称")])]),e._v(" "),a("cell",{attrs:{title:"费用编码"},model:{value:t.expCode,callback:function(a){e.$set(t,"expCode",a)},expression:"item.expCode"}}),e._v(" "),a("cell",{attrs:{title:"费用科目"},model:{value:t.expSubject,callback:function(a){e.$set(t,"expSubject",a)},expression:"item.expSubject"}},[a("span",{staticClass:"required",attrs:{slot:"title"},slot:"title"},[e._v("费用科目")])]),e._v(" "),a("cell",{attrs:{title:"费用类型"},model:{value:t.costType,callback:function(a){e.$set(t,"costType",a)},expression:"item.costType"}}),e._v(" "),a("x-input",{attrs:{title:"申请金额","text-align":"right",placeholder:"请填写",type:"number"},on:{"on-focus":function(t){e.getFocus(t)},"on-blur":function(a){e.checkAmt(t)}},model:{value:t.tdAmount,callback:function(a){e.$set(t,"tdAmount",e._n(a))},expression:"item.tdAmount"}},[a("span",{staticClass:"required",attrs:{slot:"label"},slot:"label"},[e._v("申请金额")])]),e._v(" "),a("x-input",{attrs:{title:"报销事由","text-align":"right",placeholder:"请填写"},model:{value:t.expCause,callback:function(a){e.$set(t,"expCause",a)},expression:"item.expCause"}})],1)],1)}),e._v(" "),a("div",{staticClass:"add_more"},[e._v("\n        您还需要添加新的报销?请点击\n        "),a("span",{staticClass:"add",on:{click:e.addCost}},[e._v("新增")]),e._v(" "),a("em",{directives:[{name:"show",rawName:"v-show",value:e.CostList.length>1,expression:"CostList.length>1"}]},[e._v("或")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.CostList.length>1,expression:"CostList.length>1"}],staticClass:"delete",on:{click:e.deleteCost}},[e._v("删除")])]),e._v(" "),a("pop-cost-list",{ref:"matter",attrs:{show:e.showCostPop,defaultValue:e.selectedCost,getListMethod:"getProjectCostByGroupId","group-id":Number(e.formData.handlerUnit)},on:{"sel-matter":e.selMatter},model:{value:e.showCostPop,callback:function(t){e.showCostPop=t},expression:"showCostPop"}}),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],2)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},I3vJ:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getInProcessingStorageSumSource=t.getEtcPutInStorage=t.getPriceRange=t.getSalesOrderNew=t.getInventoryToProcessing=t.getSalesContract=t.getProductPriceAllInventory=t.getLowPriceConsumableInWarehouse=t.getLowValueConsumPurchaseOrder=t.getObjInvMoreUnitByInvCode=t.getUsingProcedure=t.getObjTechnics=t.getTaskBom=t.getJGRKBom=t.getJGDDBom=t.getPurchaseInNeeds=t.getXQTJList=t.getCKTHCKList=t.getKCPDList=t.getMatList=t.getInventory7502=t.getInventory7501=t.getObjInventory=t.getObjInventoryByProcessing=t.getCostById=t.getCost=t.getSumInvBalance=t.delImg=t.upload=t.findData=t.update=t.save=void 0;var i=a("4YfN"),r=n(i),s=a("GOq4"),o=n(s),l=t.save=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.post({url:"/H_roleplay-si/inventory/save",data:e})},d=t.update=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.post({url:"/H_roleplay-si/inventory/update",data:e})},u=t.findData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return o.default.ajax({url:"/H_roleplay-si/inventory/findData",data:{transCode:e}})},c=t.upload=function(e){var t=e.file,a=void 0===t?{}:t,n=e.biReferenceId,i=void 0===n?"":n;return o.default.upload({file:a,biReferenceId:i})},f=t.delImg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return o.default.ajax({url:"/H_roleplay-si/ds/delete",data:{id:e,list:"attachments"}})};t.getSumInvBalance=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getSumInvBalance",data:e})},t.getCost=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getCostAll",data:e})},t.getCostById=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getProjectCostByGroupId",data:e})},t.getObjInventoryByProcessing=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getObjInventoryByProcessing",data:(0,r.default)({_dc:Date.now()},e)})},t.getObjInventory=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getObjInventory",data:(0,r.default)({_dc:Date.now()},e)})},t.getInventory7501=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getPurchaseOrder",data:(0,r.default)({_dc:Date.now()},e)})},t.getInventory7502=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getPurchaseWarehousing",data:(0,r.default)({_dc:Date.now()},e)})},t.getMatList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getMaterialList",data:e})},t.getKCPDList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getSumInvBalance_KCPD",data:(0,r.default)({_dc:Date.now()},e)})},t.getCKTHCKList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getPurchaseReturn",data:e})},t.getXQTJList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"getDemandAdjustment";return o.default.ajax({url:"/H_roleplay-si/ds/"+t,data:(0,r.default)({_dc:Date.now()},e)})},t.getPurchaseInNeeds=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getPurchaseInNeeds",data:e})},t.getJGDDBom=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getInProcessingOrderBom",data:(0,r.default)({_dc:Date.now()},e)})},t.getJGRKBom=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getBomByPInvCode",data:(0,r.default)({_dc:Date.now()},e)})},t.getTaskBom=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getBomWorkOrderTask",data:(0,r.default)({_dc:Date.now()},e)})},t.getObjTechnics=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getObjTechnics",data:(0,r.default)({_dc:Date.now()},e)})},t.getUsingProcedure=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getUsingProcedure",data:(0,r.default)({_dc:Date.now()},e)})},t.getObjInvMoreUnitByInvCode=function(e){return o.default.ajax({url:"/H_roleplay-si/ds/getObjInvMoreUnitByInvCode",data:{_dc:Date.now(),inventoryCode:e,page:1,start:0,limit:1e4}})},t.getLowValueConsumPurchaseOrder=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getLowValueConsumPurchaseOrder",data:(0,r.default)({_dc:Date.now(),page:1,start:0,limit:1e4},e)})},t.getLowPriceConsumableInWarehouse=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getLowPriceConsumableInWarehouse",data:(0,r.default)({_dc:Date.now(),page:1,start:0,limit:1e4},e)})},t.getProductPriceAllInventory=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getProductPriceAllInventory",data:(0,r.default)({_dc:Date.now()},e)})},t.getSalesContract=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getSalesContract",data:(0,r.default)({_dc:Date.now()},e)})},t.getInventoryToProcessing=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getInventoryToProcessing",data:(0,r.default)({_dc:Date.now()},e)})},t.getSalesOrderNew=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getSalesOrderNew",data:(0,r.default)({_dc:Date.now()},e)})},t.getPriceRange=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getPriceRange",data:(0,r.default)({_dc:Date.now(),drDealerLabel:"客户"},e)})},t.getEtcPutInStorage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getEtcPutInStorage",data:(0,r.default)({_dc:Date.now()},e)})},t.getInProcessingStorageSumSource=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getInProcessingStorageSumSource",data:(0,r.default)({_dc:Date.now()},e)})};t.default={save:l,update:d,findData:u,upload:c,delImg:f}},I5id:function(e,t,a){"use strict";function n(e){a("RPsT")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("sEzR");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("B8Y4"),o=a.n(s),l=a("GBuK"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-48ef1196",null);t.default=c.exports},I8ug:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.saveAssessment=t.saveLog=t.getAdminCommentList=t.getChangeLog=t.getAppDetail=t.savePraise=t.saveComment=t.getReply=t.getCommentList=t.getPCCommentList=void 0;var i=a("3cXf"),r=n(i),s=a("4YfN"),o=n(s),l=a("GOq4"),d=n(l),u=t.getPCCommentList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/comment/getCommentByRelationKey",data:(0,o.default)({sort:(0,r.default)([{property:"crtTime",direction:"DESC"}]),page:1,limit:10,total:0},e)})},c=(t.getCommentList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/ds/getMobileCommentByTransCode",data:(0,o.default)({page:1,limit:10},e)})},t.getReply=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/comment/getCommentByParentId",data:(0,o.default)({sort:(0,r.default)([{property:"crtTime",direction:"ASC"}]),parentId:145657,page:1,limit:10},e)})},t.saveComment=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.post({url:"/H_roleplay-si/comment/saveComment",data:(0,o.default)({commentAndReply:!1,commentAttachments:[],type:"instance"},e)})},t.savePraise=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return d.default.post({url:"/H_roleplay-si/comment/savePraise",data:{commentId:e}})},t.getAppDetail=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return d.default.ajax({url:"/H_roleplay-si/ds/list/getListById",data:{uniqueId:e}})}),f=t.getChangeLog=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/ds/getChangeLog",data:e})},m=t.getAdminCommentList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/ds/getAssessmentByListId",data:e})},h=t.saveLog=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({type:"POST",contentType:"application/x-www-form-urlencoded",url:"/H_roleplay-si/app/saveLog",data:e})};t.saveAssessment=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.post({url:"/H_roleplay-si/app/saveAssessment",data:e})};t.default={getAppDetail:c,getChangeLog:f,getAdminCommentList:m,getPCCommentList:u,saveLog:h}},IAdv:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),m=a("bFc7"),h=n(m),v=a("6WeX"),p=n(v),C=a("3NX5"),y=n(C),_=a("sUbJ"),g=n(_),b=a("d7ck"),w=n(b),I=a("zWMP"),x=a("Qg39");t.default={data:function(){return{count:0,comment:"",orderInfo:{},formViewUniqueId:"e76a8c6f-05cc-45ee-ba93-299fe6751856",orderList:{}}},mixins:[l.default],components:{workFlow:f.default,RAction:u.default,PriceTotal:p.default,contactPart:h.default,MatterList:y.default,MatterItem:g.default,FormCell:w.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var d={},u=s.order,c=void 0===u?{}:u;e.attachment=l;var f=s.order.dataSet,m=!0,h=!1,v=void 0;try{for(var p,C=(0,r.default)(f);!(m=(p=C.next()).done);m=!0){var y=p.value;y.noTaxAmount=(0,I.accMul)(y.price,y.tdQty),y.taxAmount=(0,I.accMul)(y.noTaxAmount,y.taxRate),y.tdAmount=(0,x.toFixed)((0,I.accAdd)(y.noTaxAmount,y.taxAmount)),e.count=(0,I.accAdd)(e.count,y.tdAmount),y.inventoryPic=y.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+y.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),d[y.transMatchedCode]||(d[y.transMatchedCode]=[]),d[y.transMatchedCode].push(y)}}catch(e){h=!0,v=e}finally{try{!m&&C.return&&C.return()}finally{if(h)throw v}}e.orderList=d,e.dealerInfo={dealerName:c.dealerName_dealerCodeCredit,dealerMobilePhone:s.dealerCreditContactInformation,dealerContactPersonName:s.dealerCreditContactPersonName,dealerCode:c.dealerCodeCredit,dealerLabelName:c.crDealerLabel,province:c.province_dealerCodeCredit,city:c.city_dealerCodeCredit,county:c.county_dealerCodeCredit,address:c.address_dealerCodeCredit},e.orderInfo=s,e.workFlowInfoHandler()})}}}},IBVj:function(e,t,a){"use strict";function n(e){a("RkIG")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("vT2+");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("moZA"),o=a.n(s),l=a("ZOHQ"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-7340d5e8",null);t.default=c.exports},IC31:function(e,t){},IIvl:function(e,t,a){"use strict";function n(e){a("T2+C")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Iw1N");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("vj7a"),o=a.n(s),l=a("Y+r7"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-9760d890",null);t.default=c.exports},IJcc:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Iu/6"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"loading",data:function(){return{show:!1}},components:{Spinner:i.default}}},IJv4:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.fullWorkFlow.length?a("div",{staticClass:"work-flow-container",on:{click:e.goWorkFlowFull}},[e._m(0),e._v(" "),a("div",{staticClass:"work-flow-status-wrapper"},[a("i",{staticClass:"icon-flow-time"}),e._v(" "),a("span",[e._v("工作流已到"+e._s(e.currentStatus.nodeName)+"，当前状态："),a("span",{class:[e.statusClass]},[e._v(e._s(e.workFlowInfo.biStatus))])])]),e._v(" "),a("div",{staticClass:"work-flow-time"},[e._v(e._s(e.currentStatus.startTime))])]):e._e()},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"work-flow-header"},[a("span",{staticClass:"work_flow_title vux-1px-l"},[e._v("工作流")]),e._v(" "),a("span",{staticClass:"check_more"},[e._v("\n      更多"),a("i",{staticClass:"icon-right"})])])}],r={render:n,staticRenderFns:i};t.a=r},"ILd/":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("HzJ8"),o=n(s),l=a("I8ug"),d=a("4XVd"),u=a("fQlz"),c=n(u),f=a("Z5v5");t.default={name:"ChangeLog",data:function(){return{commentList:[],listId:"a4897429-f4f2-44a4-ade7-2fe8dc67c3cf"}},filters:{handleCrt:function(e){if(e){var t=Date.now();"string"==typeof e&&(e=e.replace(/-/g,"/").replace(/\..*/g,""));var a=+new Date(e),n=t-a,i=n/1e3,r=i/60,s=r/60,o=s/24;return i<60?"刚刚":r<60?parseInt(r)+"分钟前":s<24?parseInt(s)+"小时前":o<30?parseInt(o)+"天前":e}}},methods:{getUserDefault:function(e){var t=a("Fuf7");return e&&(e.photo=t),t},getCommetList:function(){var e=this;return(0,l.getPCCommentList)({relationKey:this.listId,limit:10,page:1,total:0}).then(function(t){var a=(t.dataCount,t.tableContent),n=void 0===a?[]:a;n.forEach(function(t){if(e.checkImgSuffix(t),t.praises.length)return void(t.isPraise=!1);t.isPraise=!0}),e.commentList=n})},changeImgPath:function(e){var t=e.content.replace(/src="resources/g,'src="/dist/resources');return e.content=t,t},goCommentList:function(){this.$router.push({path:"/commentList",query:{listId:this.listId}})},savePraise:function(e){if(e.isPraise)return(0,d.savePraise)(e.id).then(function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];arguments[1];t&&(e.isPraise=!1,e.praiseNum++)})},checkImgSuffix:function(e){var t=["jpg","jpeg","png","gif","bmp","tif","pcx","tga","exif","fpx","svg","psd","cdr","pcd","dxf","ufo","eps","ai","raw","WMF","webp"],a=!0,n=!1,i=void 0;try{for(var r,s=(0,o.default)(e.commentAttachments);!(a=(r=s.next()).done);a=!0){var l=r.value,d=l.name.lastIndexOf("."),u=l.name.substr(d+1);t.includes(u)&&(l.isImg=!0)}}catch(e){n=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}},handleComment:function(e){var t=[].concat((0,r.default)(c.default)),a=e.content,n=/\[(.+?)\]/g;return a=a.replace(/src="resources/g,'src="/dist/resources'),a=a.replace(n,function(e){var a=t.findIndex(function(t){return t===e.replace(/(\[|\])/g,"")});return-1===a?e:'<span class="img-emotion" style="background-position: -'+24*a+'px 0;"></span>'})},scaleImg:function(e){console.log("img:",e);var t=""+location.origin+e.attachment;wx.previewImage({current:t,urls:[t]})},checkFile:function(e){window.location.href=""+location.origin+e}},created:function(){(0,f.register)();var e=this.$route.params.listId;e&&(this.listId=e,this.getCommetList())}}},ILrM:function(e,t){},IMPq:function(e,t){},IQc9:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"RPopover",data:function(){return{show:!1}},methods:{showPopover:function(){this.show||this.$emit("on-click"),this.show=!this.show},hidePopover:function(){this.show=!1},clickOutside:function(e){this.$refs.popover.contains(e.target)||(this.show=!1)}},created:function(){var e=this;this.$nextTick(function(){document.addEventListener("click",e.clickOutside)})},beforeDestroy:function(){document.removeEventListener("click",this.clickOutside)}}},IT5e:function(e,t,a){"use strict";function n(e){a("ZALv")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("VtS1");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("oRkL"),o=a.n(s),l=a("lY26"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-477ad5db",null);t.default=c.exports},IUN9:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("BGNQ"),o=n(s),l=a("z5TY"),d=n(l),u=a("kNGm"),c=n(u),f=a("0AQX"),m=a("+VRO"),h=n(m),v=(a("Qg39"),a("BUFe")),p=n(v),C=a("AupE"),y=n(C),_=a("bFc7"),g=n(_),b=a("hPJo"),w=n(b),I=a("FlCz"),x=n(I);t.default={data:function(){return{workInfo:[],orderInfo:{},warehouse:{},bomList:[]}},mixins:[h.default],components:{Cell:o.default,Group:d.default,RAction:p.default,workFlow:y.default,contactPart:g.default,WarehouseContent:w.default,BomList:x.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,f.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order,n=void 0===a?{}:a;t.formData.validUntil=(0,c.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workInfo=n.dataSet,e.warehouse=(0,r.default)({},e.warehouse,{warehouseName:n.warehouseName_containerCode,warehouseType:n.warehouseType_containerCode,warehouseAddress:n.warehouseAddress_containerCode}),e.workFlowInfoHandler()})}}}},IXYu:function(e,t){},IXh9:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Q+Ik"),r=n(i),s=a("HzJ8"),o=n(s),l=a("KH7x"),d=n(l),u=a("hRKE"),c=n(u),f=a("rVsN"),m=n(f),h=a("Tj2J"),v=n(h),p=a("C+Mu"),C=n(p),y=a("L6VY"),_=n(y),g=a("kSI7"),b=n(g),w=new v.default,I=a("Umb+"),x=function(e,t){return(0,b.default)(t),m.default.reject({success:!1,message:t})};w.interceptors.request.use(function(e){var t=C.default.checkLogin();if(!t)return w.lock(),C.default.login().then(function(t){return e.headers.Authorization=t,e}).finally(function(){w.unlock()}).catch(function(e){console.log("req-err:",e),x(0,e.message)});e.headers.Authorization=t}),w.interceptors.response.use(function(e){var t=e.data,a=t.success,n=void 0===a||a,i=t.message,r=void 0===i?"请求异常":i;if(n)return e;x(0,r)},function(e){if(401===e.status)return this.lock(),C.default.login().then(function(e){console.log("token已更新"),_.default.show({title:"温馨提示",content:"您的登录状态似乎有点问题，不用担心，页面刷新之后就好",onHide:function(){location.reload()}})});x(0,e.response.data.message)});var D={ajax:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new m.default(function(t,a){var n={method:e.type||e.method||"GET",url:e.url,headers:{"Content-Type":e.contentType||"*/*"},timeout:e.time||3e4,responseType:e.dataType||"json"};if("POST"===n.method.toUpperCase())n.data=I.stringify(e.data||e.body)||{};else if("object"===(0,c.default)(e.data)){var i=[],s=!0,l=!1,u=void 0;try{for(var f,m=(0,o.default)((0,r.default)(e.data));!(s=(f=m.next()).done);s=!0){var h=f.value,v=(0,d.default)(h,2),p=v[0],C=v[1];i.push(p+"="+C)}}catch(e){l=!0,u=e}finally{try{!s&&m.return&&m.return()}finally{if(l)throw u}}-1===n.url.indexOf("?")?n.url=encodeURI(n.url+"?"+i.join("&")):n.url=encodeURI(n.url+"&"+i.join("&"))}w.request(n,n.data).then(function(e){return t(e.data)})})},post:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new m.default(function(t,a){w.post(e.url,e.data).then(function(e){return t(e.data)})})},upload:function(e){var t=e.file,a=void 0===t?{}:t,n=e.biReferenceId,i=void 0===n?"":n,r=new FormData;return r.append("file",a),i&&r.append("biReferenceId",i),this.post({url:"/H_roleplay-si/ds/upload",headers:{"Content-Type":"multipart/form-data"},data:r})}};t.default=D},IgHR:function(e,t){},IhpF:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("fKU2");a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,function(){return n[e]})}(i);var r=a("BqiB"),s=a.n(r),o=a("C7Lr"),l=o(s.a,null,!1,null,null,null);t.default=l.exports},"Ij+m":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=(a("HyXB"),a("MjAd")),o=n(s);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}],listViewID:2331}},mixins:[o.default],methods:{goDetail:function(e,t){var a=this;if(!this.clickVisited){var n=e.transCode,i=this.$route.query.name,s=this.$route.params,o=s.folder,l=s.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,r.default)({},e)),setTimeout(function(){a.clickVisited=!1,a.$router.push({path:"/detail/"+o+"/"+l,query:{name:i,transCode:n}})},200)}}}}},"Ijt+":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("project-part",{attrs:{"project-info":e.orderInfo.order}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_part"},[e._m(0),e._v(" "),a("div",{staticClass:"form_content"},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"往来名称",cellContent:e.dealerInfo.dealerName,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来编码",cellContent:e.dealerInfo.dealerCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来关系标签",cellContent:e.dealerInfo.dealerLabelName}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来余额",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.amntBal),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次收汇票",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.thenTotalAmntBal),3),showSymbol:""}})],1)])]),e._v(" "),a("div",{staticClass:"form_part"},[e._m(1),e._v(" "),e._l(e.orderInfo.order.dataSet,function(t,n){return a("div",{key:n,staticClass:"form_content",class:{show_border:n!==e.orderInfo.order.dataSet.length-1}},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"汇票号",cellContent:t.draftNumber,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"类型",cellContent:t.draftType}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"承兑人",cellContent:t.accepter}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"金额",cellContent:e._f("numberComma")(e._f("toFixed")(t.tdAmount),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"出票日",cellContent:t.draftDate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"到期日",cellContent:t.draftDueDate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"说明",cellContent:t.comment}})],1)])})],2),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("往来详情")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("汇票列表")])])}],r={render:n,staticRenderFns:i};t.a=r},IlP4:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),m=a("sUbJ"),h=n(m),v=a("d7ck"),p=n(v);t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",orderList:{},basicInfo:{}}},mixins:[l.default],components:{workFlow:f.default,RAction:u.default,MatterItem:h.default,FormCell:p.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var d={};s.outPut;e.attachment=l;var u=s.outPut.dataSet,c=!0,f=!1,m=void 0;try{for(var h,v=(0,r.default)(u);!(c=(h=v.next()).done);c=!0){var p=h.value;p.inventoryPic=p.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+p.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),p.inventoryName_transObjCode=p.inventoryName_outPutMatCode,p.transObjCode=p.outPutMatCode,d[p.transMatchedCode]||(d[p.transMatchedCode]=[]),d[p.transMatchedCode].push(p)}}catch(e){f=!0,m=e}finally{try{!c&&v.return&&v.return()}finally{if(f)throw m}}e.orderList=d,e.orderInfo=s,e.workFlowInfoHandler()})}}}},ImHx:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper task_container"},[e.orderInfo?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("warehouse-content",{directives:[{name:"show",rawName:"v-show",value:e.warehouse.warehouseName,expression:"warehouse.warehouseName"}],attrs:{warehouse:e.warehouse}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_content"},[e._m(0),e._v(" "),e._l(e.workInfo,function(t,n){return a("div",{key:n,staticClass:"main_content",class:{has_border:n>0}},[a("form-cell",{attrs:{cellTitle:"工序名称",cellContent:t.procedureName_proPointCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"工序编码",cellContent:t.proPointCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"物料名称",cellContent:t.inventoryName_transObjCode||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"物料编码",cellContent:t.transObjCode||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"工序可派工",cellContent:t.thenQtyBal}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"派工数量",cellContent:t.tdQty}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"组长",cellContent:t.dealerName_dealerDebit}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"工人数量",cellContent:t.numberWorkers}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"设施",cellContent:t.facilityName_facilityObjCode||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"工艺路线名称",cellContent:t.technicsName_proFlowCode||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"工艺路线编码",cellContent:t.proFlowCode||"无"}})],1)})],2),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title"},[a("span",{staticClass:"iconfont icon-mingxi1"}),e._v(" "),a("span",[e._v("工单信息")])])}],r={render:n,staticRenderFns:i};t.a=r},ImmF:function(e,t,a){"use strict";function n(e){a("xTwt")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("n+GY");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("OXL9"),o=a.n(s),l=a("dxNA"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-47ca7bd0",null);t.default=c.exports},IpWp:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("kNGm"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o);t.default={data:function(){return{userData:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},uploadStyle:{width:"100%",padding:"0.06rem 0.1rem"}}},mixins:[l.default],filters:{date:function(e){return(0,r.default)(e,"YYYY-MM-DD")}},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=o,e.userData=r,e.workFlowInfoHandler()})},goEdit:function(){var e=this.$route.params,t=e.folder,a=e.fileName,n=this.$route.query.name;this.$router.push({path:"/fillform/"+t+"/"+a,query:{name:n,transCode:this.transCode}})}}}},IsSW:function(e,t,a){"use strict";function n(e){a("lIMF")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("yqeo");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("gBBO"),o=a.n(s),l=a("7OA9"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-781ce10d",null);t.default=c.exports},"Iu/6":function(e,t,a){"use strict";function n(e){a("ZXlx")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("OuXJ");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("1RQV"),o=a.n(s),l=a("qfeE"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},Ivd8:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper nbjdgg-detail-container"},[e.orderInfo&&e.orderInfo.inPut?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("warehouse-content",{attrs:{warehouse:e.warehouseIn,"warehouse-out":e.warehouseOut}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"order-list":e.orderList},scopedSlots:e._u([{key:"matterOther",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("单位: "+e._s(n.measureUnit_transObjCode))]),e._v(" "),a("span",[e._v("可用库存: "+e._s(n.thenQtyStock))])]),e._v(" "),a("div",{staticClass:"mater_num"},[a("span",{staticClass:"num"},[e._v("\n                本次完工入库: "+e._s(e._f("toFixed")(n.tdQty))+"\n              ")]),e._v(" "),a("span",{staticClass:"units"},[e._v("\n                [待验收余额: "+e._s(e._f("toFixed")(n.thenQtyBal))+"]\n              ")])])])]}}])}),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},"Iw/D":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MjAd"),r=n(i),s=a("OTZ4"),o=n(s);t.default={components:{PopTaskWorkList:o.default},data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2361,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"成品名称",value:"inventoryName_outPutMatCode"}],popShow:!1,requestParams:{calc_rel_code:8051,view_id:"view_96"}}},mixins:[r.default],methods:{goEdit:function(){this.popShow=!0},selTask:function(e){var t=this.$route.query.name,a=this.$route.params,n=a.folder,i=a.fileName;this.$router.push({path:"/fillform/"+n+"/"+i,query:{name:t,childId:childId,inventoryCode:e[0].matCode,orderCode:e[0].transCode}})}}}},Iw1N:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("3cXf"),o=n(s),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("u28h"),C=n(p),y=a("PzEQ"),_=n(y),g=a("kNGm"),b=(n(g),a("0AQX"),a("HyXB")),w=a("bKg5"),I=n(w),x=a("vl8n"),D=n(x),P=a("+WR7"),S=n(P);t.default={data:function(){return{listId:"223f9387-d2d7-11e8-b8ca-0279b2c6a380",formData:{biId:"",biComment:"",biProcessStatus:""},biReferenceId:"",MobileWarn:!1,idCardWarn:!1}},components:{Cell:c.default,Group:m.default,XInput:v.default,Datetime:C.default,XTextarea:_.default,RPicker:D.default,PopBaseinfo:S.default},mixins:[I.default],methods:{checkMobile:function(){var e=/^[1][3,4,5,7,8][0-9]{9}$/;if(this.formData.profileContact&&!e.test(this.formData.profileContact))return void(this.MobileWarn=!0);this.MobileWarn=!1},checkIdCard:function(){var e=/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/;if(this.formData.idCard&&!e.test(this.formData.idCard))return void(this.idCardWarn=!0);this.idCardWarn=!1},submitOrder:function(){var e=this,t="",a=[{key:"profileName",message:"员工"},{key:"idCard",message:"身份证号"}];if(t||a.every(function(a){return!!e.formData[a.key]||(t="请填写"+a.message,!1)}),!t&&this.MobileWarn&&(t="联系方式格式不正确"),!t&&this.idCardWarn&&(t="身份证号格式不正确"),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=b.saveAndStartWf,a=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName}),n={listId:e.listId,biComment:"",formData:(0,o.default)(a)};e.isResubmit&&(t=b.saveAndCommitTask,n.biReferenceId=e.biReferenceId,n.wfPara=(0,o.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=b.submitAndCalc,delete n.wfPara,delete n.biReferenceId),e.biReferenceId&&(n.biReferenceId=e.biReferenceId),e.saveData(t,n)}})},hasDraftData:function(){var e=this.formData;if(e.profileName||e.idCard)return(0,r.default)({},"YGDA_DATA",{formData:e})}},created:function(){var e=sessionStorage.getItem("YGDA_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,sessionStorage.removeItem("YGDA_DATA")}}}},IzfM:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("GOq4"),i=function(e){return e&&e.__esModule?e:{default:e}}(n),r={getMeau:function(){return i.default.ajax({url:"/H_roleplay-si/ds/getMenu"})},getMyTask:function(){return i.default.ajax({url:"/H_roleplay-si/ds/getMyTaskCountAll"})},currentUser:function(){return i.default.ajax({url:"/H_roleplay-si/userInfo/currentUser"})},changeEntity:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.ajax({type:"POST",contentType:"application/x-www-form-urlencoded",url:"/H_roleplay-si/changeEntity",data:e})}};t.default=r},J0vH:function(e,t,a){"use strict";function n(e){a("0BFY")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("ZIQC");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("EZe+"),o=a.n(s),l=a("RT/a"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-6a886716",null);t.default=c.exports},"J1O+":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("HzJ8"),o=n(s),l=a("3cXf"),d=n(l),u=a("kNGm"),c=(n(u),a("0AQX")),f=a("+VRO"),m=n(f),h=a("BUFe"),v=n(h),p=a("AupE"),C=n(p),y=a("bFc7"),_=n(y),g=a("3NX5"),b=n(g),w=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",contactInfo:{},orderList:{},orderInfo:{}}},mixins:[m.default],components:{workFlow:C.default,RAction:v.default,contactPart:_.default,MatterList:b.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,c.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(e.submitInfo=JSON.parse((0,d.default)(t)),!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a={},n=t.formData.order.dataSet,i=!0,r=!1,s=void 0;try{for(var l,u=(0,o.default)(n);!(i=(l=u.next()).done);i=!0){var c=l.value;e.count=(0,w.accAdd)(e.count,c.tdAmount),c.inventoryPic=c.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+c.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),a[c.transMatchedCode]||(a[c.transMatchedCode]=[]),a[c.transMatchedCode].push(c)}}catch(e){r=!0,s=e}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}e.orderList=a,e.attachment=t.attachment,e.orderInfo=t.formData,e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo=(0,r.default)({},this.contactInfo,{creatorName:a.dealerDebitContactPersonName,dealerName:a.dealerName_dealerCodeCredit,dealerMobilePhone:t.dealerCreditContactInformation,dealerContactPersonName:t.dealerCreditContactPersonName,dealerCode:a.dealerCodeCredit,dealerLabelName:a.crDealerLabel,province:a.province_dealerCodeCredit,city:a.city_dealerCodeCredit,county:a.county_dealerCodeCredit,address:a.address_dealerCodeCredit})}}}},J5wU:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("QHLv"),v=a("1KNX"),p=n(v),C=a("7biW"),y=n(C);t.default={name:"PopEarnestMoneyList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},params:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:m.default,RScroll:p.default,MSearch:y.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],matterList:[],limit:100,page:1,hasNext:!0,scrollOptions:{pullUpLoad:!0},filterProperty:"",filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"}]}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}},params:{handler:function(){this.resetCondition(),this.getList()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,d.default)(this.selItems)),this.$emit("input",!1),this.$event.$emit("shut-down-filter",!1)},findIndex:function(e,t){return e.findIndex(function(e){return e.transCode===t.transCode})},showSelIcon:function(e){return-1!==this.findIndex(this.tmpItems,e)},selThis:function(e,t){var a=this.tmpItems,n=this.findIndex(a,e);if(-1!==n)return void a.splice(n,1);a.push(e)},cfmMater:function(){this.showPop=!1,this.tmpItems.sort(function(e,t){return t.effectiveTime-e.effectiveTime}),this.selItems=[].concat((0,d.default)(this.tmpItems)),this.$emit("sel-item",(0,o.default)(this.selItems))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.resetCondition(),this.getList()},delSelItem:function(e){var t=this.findIndex(this.selItems,e);-1!==t&&this.selItems.splice(t,1),this.tmpItems=[].concat((0,d.default)(this.selItems))},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.tmpItems=[].concat((0,d.default)(this.defaultValue)),this.selItems=[].concat((0,d.default)(this.defaultValue))},resetCondition:function(){this.matterList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"transCode"}])),(0,h.getPurchaseAgreementDeposit)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(t)},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.matterList=1===e.page?r:[].concat((0,d.default)(e.matterList),(0,d.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})}},created:function(){this.setDefaultValue(),this.getList()}}},J8tP:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MgeX"),r=n(i),s=a("4YfN"),o=n(s),l=a("HzJ8"),d=n(l),u=a("KH7x"),c=n(u),f=a("0AQX"),m=a("+VRO"),h=n(m),v=a("BUFe"),p=n(v),C=a("AupE"),y=n(C),_=a("bFc7"),g=n(_),b=a("6WeX"),w=n(b),I=a("3NX5"),x=n(I),D=a("sUbJ"),P=n(D),S=a("d7ck"),k=n(S),L=a("CKaN"),N=n(L),M=a("zWMP"),T=a("Qg39");t.default={data:function(){return{count:0,comment:"",orderInfo:{},formViewUniqueId:"e76a8c6f-05cc-45ee-ba93-299fe6751856",orderList:{},cashInfo:{},costList:[]}},computed:{noTaxAmount:function(){var e=0;return this.orderInfo.inPut.dataSet.forEach(function(t){e=(0,M.accAdd)(e,t.noTaxAmount)}),e},taxAmount:function(){var e=0;return this.orderInfo.inPut.dataSet.forEach(function(t){e=(0,M.accAdd)(e,t.taxAmount)}),e},isCashier:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"e185e706-5b21-4467-bbe9-cff1856873a7"===t},cashParams:function(){return{transCode:this.transCode,fundType:"银行存款"}}},mixins:[h.default],components:{workFlow:y.default,RAction:p.default,PriceTotal:w.default,contactPart:g.default,MatterList:x.default,MatterItem:P.default,FormCell:k.default,PopCashList:N.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,f.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var l={},u=r.inPut,f=void 0===u?{}:u,m=r.outPut,h=void 0===m?{}:m;e.attachment=o;var v=f.dataSet,p=h.dataSet,C=void 0===p?[]:p,y=(0,c.default)(C,1),_=y[0],g=void 0===_?{}:_,b=!0,w=!1,I=void 0;try{for(var x,D=(0,d.default)(v);!(b=(x=D.next()).done);b=!0){var P=x.value;P.noTaxAmount=(0,M.accMul)(P.price,P.tdQty),P.taxAmount=(0,M.accMul)(P.noTaxAmount,P.taxRate),P.tdAmount=(0,T.toFixed)((0,M.accAdd)(P.noTaxAmount,P.taxAmount)),e.count=(0,M.accAdd)(e.count,P.tdAmount),P.inventoryPic=P.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+P.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),l[P.transMatchedCode]||(l[P.transMatchedCode]=[]),l[P.transMatchedCode].push(P)}}catch(e){w=!0,I=e}finally{try{!b&&D.return&&D.return()}finally{if(w)throw I}}e.orderList=l,e.dealerInfo={creatorName:r.dealerCreditContactPersonName,dealerName:f.dealerName_dealerCodeCredit,dealerMobilePhone:r.dealerCreditContactInformation,dealerContactPersonName:r.dealerCreditContactPersonName,dealerCode:f.dealerCode_dealerCodeCredit,dealerLabelName:f.crDealerLabel,province:f.province_dealerCodeCredit,city:f.city_dealerCodeCredit,county:f.county_dealerCodeCredit,address:f.address_dealerCodeCredit,payment:f.crDealerPaymentTerm,pamentDays:f.daysOfAccount,accountExpirationDate:f.accountExpirationDate},e.cashInfo=g,e.orderInfo=r,e.workFlowInfoHandler()})},agreeHandler:function(){if(this.isCashier){if(this.isCashier&&!this.cashInfo.fundCode)return this.$vux.alert.show({content:"请选择资金账户"}),!0;var e=this.orderInfo,t=[],a=!0,n=!1,i=void 0;try{for(var s,l=(0,d.default)((0,r.default)(this.orderList));!(a=(s=l.next()).done);a=!0){var u=s.value,c=!0,f=!1,m=void 0;try{for(var h,v=(0,d.default)(u);!(c=(h=v.next()).done);c=!0){var p=h.value;t.push({tdId:p.tdId,transMatchedCode:p.transMatchedCode,transObjCode:p.transObjCode,tdProcessing:p.tdProcessing,assMeasureUnit:p.assMeasureUnit,expSubject:p.expSubject,thenTotalQtyBal:p.thenTotalQtyBal,thenLockQty:p.thenLockQty,thenQtyBal:p.thenQtyBal,tdQty:p.tdQty,assMeasureScale:p.assMeasureScale,assistQty:p.assistQty,price:p.price,taxRate:p.taxRate,taxAmount:p.taxAmount,tdAmount:p.tdAmount,processingStartDate:p.processingStartDate,keepingDays_transObjCode:p.keepingDays_transObjCode,productionDate:p.productionDate,validUntil:p.validUntil,comment:p.comment})}}catch(e){f=!0,m=e}finally{try{!c&&v.return&&v.return()}finally{if(f)throw m}}}}catch(e){n=!0,i=e}finally{try{!a&&l.return&&l.return()}finally{if(n)throw i}}var C=(0,o.default)({},e,{inPut:{dealerCodeCredit:this.orderInfo.inPut.dealerCodeCredit,crDealerLabel:this.orderInfo.inPut.crDealerLabel,crDealerPaymentTerm:this.orderInfo.inPut.crDealerPaymentTerm,daysOfAccount:this.orderInfo.inPut.daysOfAccount,accountExpirationDate:this.orderInfo.inPut.accountExpirationDate,containerCode:this.orderInfo.inPut.containerCode,dataSet:t}});if(this.isCashier){var y=this.cashInfo;C.outPut.dataSet=[{fundName_cashInCode:y.fundName,cashOutCode:y.fundCode,cashType_cashOutCode:y.fundType,thenAmntBalCopy1:y.thenAmntBal,tdAmountCopy1:y.tdAmountCopy1,tdIdCopy1:y.tdIdCopy1}]}return console.log(C),this.saveData(C),!0}return!1},selCash:function(e){this.cashInfo=(0,o.default)({},this.cashInfo,e)}}}},JFGk:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages bdkcdb-list-conatiner",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noPrice:"",noCount:""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},JFKB:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("J0Oq"),o=n(s),l=a("KH7x"),d=n(l),u=a("XAqG"),c=a("I8ug"),f=a("d7ck"),m=n(f);t.default={name:"USERForm",components:{FormCell:m.default},data:function(){return{colId:"",userData:{},action:{}}},methods:{getDefaultImg:function(e){this.userData.photo=a("男"===e?"Fuf7":"0gu7")},loadPage:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.$loading.show(),(0,u.getUserDetail)(this.colId).then(function(t){var a=t.tableContent,n=void 0===a?[]:a,i=(0,d.default)(n,1),r=i[0],s=void 0===r?{}:r,o=["女","男"],l=["临时账户","长期有效"],u=["shortTerm","longTerm"],c=["","使用中","未使用","草稿"],f=["","inUse","unUse"];s.gender=o[s.gender]||"未知",s.statusClass=f[s.status],s.status=c[s.status]||"停用",s.typeClass=u[s.userType],s.userType=l[s.userType],e.userData=s,s.photo||e.getDefaultImg(s.gender),e.$loading.hide()})},goEdit:function(){var e=this.$route.query.name,t=this.$route.params,a=t.folder,n=t.fileName;this.$router.push({path:"/fillForm/"+a+"/"+n,query:{name:e,colId:this.colId}})},getAppDetail:function(){var e=this,t=this.$route.query.listId,a=void 0===t?"":t;return(0,c.getAppDetail)(a).then(function(t){var a=(0,d.default)(t,1),n=a[0],i=void 0===n?{}:n,r=i.action;e.action=r})}},created:function(){var e=this;(0,o.default)(r.default.mark(function t(){var a,n;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.$route.query.colId,n=void 0===a?"":a,e.colId=n,t.next=4,e.getAppDetail();case 4:e.loadPage();case 5:case"end":return t.stop()}},t,e)}))()}}},JHNY:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("0w+U"),c=a("MjAd"),f=n(c);t.default={mixins:[f.default],data:function(){return{listStatus:[{name:"全部",status:""},{name:"使用中",status:"1"},{name:"未使用",status:"2"},{name:"停用",status:"-1"}],filterList:[{name:"公司名称",value:"groupName"},{name:"公司简称",value:"groupShortName"}]}},methods:{tabClick:function(e,t){this.activeIndex=t,this.activeTab=e.status,this.resetCondition(),this.getList()},RouterChange:function(e,t,a){var n=this;if(!this.clickVisited){var i=e.groupId,r=this.$route.query.name;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,d.default)({},e)),setTimeout(function(){n.clickVisited=!1,n.$router.push({path:a,query:{name:r,groupId:i}})},200)}},goDetail:function(e,t){var a=this.$route.params,n=a.folder,i=a.fileName;this.RouterChange(e,t,"/detail/"+n+"/"+i)},getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=[],n=[{property:"crtTime",direction:"DESC"}];return this.activeTab&&(a=[{operator:"in",property:"status",value:this.activeTab}]),this.serachVal&&(a=[].concat((0,o.default)(a),[{operator:"like",value:this.serachVal,property:this.filterProperty}])),(0,u.getCompany)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,sort:(0,r.default)(n),filter:(0,r.default)(a)}).then(function(a){var n=a.dataCount,i=void 0===n?0:n,r=a.tableContent,s=void 0===r?[]:r;e.$emit("input",!1),s.forEach(function(t){var a=["","使用中","未使用","草稿"];t.status=a[t.status]||"停用",e.setStatus(t),t.groupPic=t.groupPic?t.groupPic:e.getDefaultImg()}),e.hasNext=i>(e.page-1)*e.limit+s.length,e.listData=1===e.page?s:e.listData.concat(s),t||e.$nextTick(function(){e.resetScroll()}),e.$loading.hide()}).catch(function(t){e.resetScroll()})},setStatus:function(e){switch(e.status){case"使用中":e.statusClass="duty_done_c";break;default:e.statusClass="duty_fall_c"}},getDefaultImg:function(e){var t=a("L+HE");return e&&(e.groupPic=t),t}}}},JKgd:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("KH7x"),r=n(i),s=a("4YfN"),o=n(s),l=a("a3Yh"),d=n(l),u=a("3cXf"),c=n(u),f=a("BGNQ"),m=n(f),h=a("z5TY"),v=n(h),p=a("SAzG"),C=n(p),y=a("7g+Q"),_=n(y),g=a("PzEQ"),b=n(g),w=a("jnZd"),I=n(w),x=a("0AQX"),D=a("HyXB"),P=(a("jLp1"),a("bKg5")),S=n(P),k=a("55ug"),L=n(k),N=a("CKaN"),M=n(N),T=a("gk4f"),A=n(T),O=a("vl8n"),R=n(O),j=a("+WR7"),B=n(j),E=a("zWMP"),F=a("Qg39");t.default={mixins:[S.default],components:{Cell:m.default,Group:v.default,Popup:_.default,XInput:C.default,XTextarea:b.default,PopupPicker:I.default,RPicker:R.default,PopBaseinfo:B.default,PopDealerList:L.default,PopCashList:M.default,PopOrderList:A.default},data:function(){return{listId:"c930267f-66fd-4927-983b-0216ef9449b3",biReferenceId:"",selectedCost:[],costIndex:0,transCode:"",formData:{biComment:""},dealerInfo:{},showOrder:!1,dealerParams:{},orderList:[],cashInfo:{}}},computed:{applicationAmount:function(){var e=0;return this.orderList.forEach(function(t){t.applicationAmount&&(e=(0,E.accAdd)(e,t.applicationAmount))}),(0,F.toFixed)(e)},tdAmountCopy1:function(){var e=0;return this.orderList.forEach(function(t){t.tdAmount&&(t.differenceAmount=(0,E.accAdd)(t.thenAmntBal,t.tdAmount),e=(0,E.accAdd)(e,t.tdAmount))}),(0,F.toFixed)(e)},differenceAmount:function(){var e=0;return this.dealerInfo.amntBal&&(e=(0,E.accAdd)(this.tdAmountCopy1,this.dealerInfo.amntBal)),(0,F.toFixed)(e)}},methods:{submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerCode||(t="请选择供应商"),t||this.orderList.length||(t="请选择欠款明细"),t||this.orderList.every(function(e){return e.popiCode?(a.push({tdId:e.tdId||"",transMatchedCode:e.popiCode,orderCode:e.poCode,thenTotalAmntBal:e.thenTotalAmntBal,thenAlreadyAmnt:e.thenAlreadyAmnt,thenAmntBal:e.thenAmntBal,accountExpirationDate:e.accountExpirationDate,daysOfAccount:e.daysOfAccount,ageOfAging:e.ageOfAging,accountRemaingDays:e.accountRemaingDays,invoiced:e.invoicing,pendingTicket:e.invoiced,applicationAmount:e.applicationAmount,tdAmount:e.tdAmount,differenceAmount:e.differenceAmount}),!0):(t="请选择采购入库号",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=D.saveAndStartWf,n=(0,d.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,c.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={dealerName_dealerDebit:e.dealerInfo.nickname,dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,thenAmntBalCopy1:e.dealerInfo.amntBal,applicationAmount:e.applicationAmount,tdAmountCopy1:e.tdAmountCopy1,differenceAmount:e.differenceAmount},r={fundName_cashOutCode:e.cashInfo.fundName,cashOutCode:e.cashInfo.fundCode,cashType_cashOutCode:e.cashInfo.fundType,thenAmntBal:e.cashInfo.thenAmntBal,tdAmount:e.cashInfo.tdAmount};e.transCode&&(i.tdIdCopy1=e.dealerInfo.tdIdCopy1,r.tdId=e.cashInfo.tdId);var s={listId:e.listId,biComment:e.formData.biComment,formData:(0,c.default)((0,o.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",inPut:{dataSet:[i]},order:{dataSet:a},outPut:{dataSet:[r]}})),wfPara:(0,c.default)(n)};e.isResubmit&&(s.biReferenceId=e.biReferenceId,t=D.saveAndCommitTask),e.processCode.length||(t=D.submitAndCalc,delete s.wfPara,delete s.biReferenceId),e.biReferenceId&&(s.biReferenceId=e.biReferenceId),e.saveData(t,s)}})},getFormData:function(){var e=this;return(0,x.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.attachment,n=void 0===a?[]:a,i=t.listId,s=void 0===i?"":i,l=(t.biComment,t.biReferenceId),d=void 0===l?"":l,u=t.formData,c=void 0===u?{}:u;e.attachment=n,e.listId=s,e.biReferenceId=d,e.handlerDefault={handler:c.handler,handlerName:c.handlerName,handlerUnit:c.handlerUnit,handlerUnitName:c.handlerUnitName,handlerRole:c.handlerRole,handlerRoleName:c.handlerRoleName},e.formData=(0,o.default)({},e.formData,e.handlerDefault,{biComment:c.biComment,biId:c.biId,biProcessStatus:c.biProcessStatus,creator:c.creator,modifer:c.modifer});var f=c.order.dataSet,m=void 0===f?[]:f,h=c.inPut.dataSet,v=void 0===h?[]:h,p=c.outPut.dataSet,C=void 0===p?[]:p,y=(0,r.default)(v,1),_=y[0],g=void 0===_?{}:_,b=(0,r.default)(C,1),w=b[0],I=void 0===w?{}:w;m.forEach(function(e){e.popiCode=e.transMatchedCode,e.poCode=e.orderCode,e.invoicing=e.invoiced}),e.dealerInfo=(0,o.default)({},g,{nickname:g.dealerName_dealerDebit,dealerCode:g.dealerDebit,dealerLabelName:g.drDealerLabel,amntBal:g.thenAmntBalCopy1}),e.cashInfo=(0,o.default)({},I,{fundName:I.fundName_cashOutCode,fundCode:I.cashOutCode,fundType:I.cashType_cashOutCode}),e.orderList=m,e.$loading.hide()})},hasDraftData:function(){return!!this.dealerInfo.dealerCode&&(0,d.default)({},"FGYSQK_DATA",{formData:this.formData,dealerInfo:this.dealerInfo,orderList:this.orderList,cashInfo:this.cashInfo})},getRelationData:function(){},selDealer:function(e){this.dealerInfo=(0,o.default)({},e),this.dealerParams={dealerCode:e.dealerCode}},selOrder:function(e){this.orderList=JSON.parse(e),this.orderList},selCash:function(e){this.cashInfo=(0,o.default)({},e)},addOrder:function(){this.showOrder=!0},checkAmt:function(e,t){switch(e){case"tdAmount":this.cashInfo.tdAmount=(0,F.toFixed)(this.cashInfo.tdAmount);break;default:e[t]=(0,F.toFixed)(e[t])}}},created:function(){var e=sessionStorage.getItem("FGYSQK_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.orderList=t.orderList,this.cashInfo=t.cashInfo,this.dealerParams={dealerCode:this.dealerInfo.dealerCode},sessionStorage.removeItem("FGYSQK_DATA")}}}},JOdt:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("Nk/b"),o=n(s),l=a("BGNQ"),d=n(l),u=a("7g+Q"),c=n(u),f=a("MF1H"),m=n(f),h=a("xZPP"),v=n(h),p=a("nKjL"),C=a("KH5r"),y=n(C),_=a("uJtz"),g=n(_),b=a("3BYQ"),w=n(b),I=a("+62G"),x=n(I),D=function(e){return JSON.parse((0,r.default)(e))};t.default={name:"popup-picker",directives:{TransferDom:x.default},created:function(){void 0!==this.show&&(this.showValue=this.show)},mixins:[w.default],components:{Picker:o.default,Cell:d.default,Popup:c.default,PopupHeader:m.default,Flexbox:p.Flexbox,FlexboxItem:p.FlexboxItem,InlineDesc:v.default},filters:{array2string:y.default,value2name:g.default},props:{valueTextAlign:{type:String,default:"right"},title:String,cancelText:String,confirmText:String,data:{type:Array,default:function(){return[]}},placeholder:String,columns:{type:Number,default:0},fixedColumns:{type:Number,default:0},value:{type:Array,default:function(){return[]}},showName:Boolean,inlineDesc:[String,Number,Array,Object,Boolean],showCell:{type:Boolean,default:!0},show:Boolean,displayFormat:Function,isTransferDom:{type:Boolean,default:!0},columnWidth:Array,popupStyle:Object,popupTitle:String,disabled:Boolean},computed:{labelStyles:function(){return{display:"block",width:this.$parent.labelWidth||this.$parent.$parent.labelWidth||"auto",textAlign:this.$parent.labelAlign||this.$parent.$parent.labelAlign,marginRight:this.$parent.labelMarginRight||this.$parent.$parent.labelMarginRight}},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}}},methods:{value2name:g.default,getNameValues:function(){return(0,g.default)(this.currentValue,this.data)},onClick:function(){this.disabled||(this.showValue=!0)},onHide:function(e){this.showValue=!1,e&&(this.closeType=!0,this.currentValue=D(this.tempValue)),e||(this.closeType=!1,this.value.length>0&&(this.tempValue=D(this.currentValue)))},onPopupShow:function(){this.closeType=!1,this.$emit("on-show")},onPopupHide:function(e){this.value.length>0&&(this.tempValue=D(this.currentValue)),this.$emit("on-hide",this.closeType)},onPickerChange:function(e){if((0,r.default)(this.currentValue)!==(0,r.default)(e)&&this.value.length){var t=(0,r.default)(this.data);t!==this.currentData&&"[]"!==this.currentData&&(this.tempValue=D(e)),this.currentData=t}var a=D(e);this.$emit("on-shadow-change",a,(0,g.default)(a,this.data).split(" "))}},watch:{value:function(e){(0,r.default)(e)!==(0,r.default)(this.tempValue)&&(this.tempValue=D(e),this.currentValue=D(e))},currentValue:function(e){this.$emit("input",D(e)),this.$emit("on-change",D(e))},show:function(e){this.showValue=e},showValue:function(e){this.$emit("update:show",e)}},data:function(){return{onShowProcess:!1,tempValue:D(this.value),closeType:!1,currentData:(0,r.default)(this.data),showValue:!1,currentValue:this.value}}}},JQMB:function(e,t,a){"use strict";function n(e){a("XWkQ")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("g2zt");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("keYS"),o=a.n(s),l=a("9Nrk"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-cb929402",null);t.default=c.exports},JSOx:function(e,t,a){"use strict";function n(e){a("pzWy")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("RbVM");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("E7Wa"),o=a.n(s),l=a("Ylii"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-0aada149",null);t.default=c.exports},JUuq:function(e,t,a){"use strict";function n(e){a("xMq4")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("FLut");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("K798"),o=a.n(s),l=a("pVM+"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-2086a706",null);t.default=c.exports},JVZc:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MjAd"),r=n(i),s=a("OTZ4"),o=n(s);t.default={components:{PopTaskWorkList:o.default},data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2361,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"成品名称",value:"inventoryName_outPutMatCode"}],popShow:!1,requestParams:{calc_rel_code:8051,view_id:"view_96"}}},mixins:[r.default],methods:{goEdit:function(){this.popShow=!0},selTask:function(e){var t=this.$route.query.name,a=this.$route.params,n=a.folder,i=a.fileName;this.$router.push({path:"/fillform/"+n+"/"+i,query:{name:t,childId:childId,inventoryCode:e[0].matCode,orderCode:e[0].transCode}})}}}},JYGM:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={props:{BusApps:{type:Array,default:[]},goList:{type:Function,require:!0},getDefaultIcon:{type:Function,require:!0},goAppDetail:{type:Function,require:!0}}}},JYVp:function(e,t){},Jcf1:function(e,t){},JeEO:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"flexbox",props:{gutter:{type:Number,default:8},orient:{type:String,default:"horizontal"},justify:String,align:String,wrap:String,direction:String},computed:{styles:function(){return{"justify-content":this.justify,"-webkit-justify-content":this.justify,"align-items":this.align,"-webkit-align-items":this.align,"flex-wrap":this.wrap,"-webkit-flex-wrap":this.wrap,"flex-direction":this.direction,"-webkit-flex-direction":this.direction}}}}},JjdX:function(e,t){},Jnfb:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.contactInfo,logistics:!1,payment:!1}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),e.orderInfo.ticketNumber?a("div",{staticClass:"form_part"},[e._m(0),e._v(" "),a("div",{staticClass:"form_content",staticStyle:{"margin-bottom":"0.1rem"}},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"票号",cellContent:e.orderInfo.ticketNumber,textRight:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"发票类型",cellContent:e.orderInfo.invoiceType,textRight:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"发票日期",cellContent:e.orderInfo.invoiceDate,textRight:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"发票内容",cellContent:e.orderInfo.invoiceContent,textRight:""}})],1)])]):e._e(),e._v(" "),a("matter-list",{attrs:{"order-list":e.orderList,noTaxAmount:e.noTaxAmount,taxAmount:e.taxAmount,count:e.count},scopedSlots:e._u([{key:"orderTitle",fn:function(t){return[a("span",{staticClass:"order_title"},[e._v("入库单号")])]}},{key:"matterOther",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("入库日期: "+e._s(n.purchaseDay))])]),e._v(" "),a("div",{staticClass:"mater_attribute"},[a("span",[e._v("单价: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.price),3)))]),e._v(" "),a("span",[e._v("本次收票数量: "+e._s(e._f("toFixed")(n.tdQty)))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.taxRate,expression:"item.taxRate"}]},[e._v("税率: "+e._s(n.taxRate))])]),e._v(" "),a("div",{staticClass:"mater_num"},[a("span",{staticClass:"num"},[e._v("入库数量: "+e._s(n.thenTotalQtyBal))]),e._v(" "),a("span",{staticClass:"num"},[e._v("已收票数量: "+e._s(n.thenLockQty))]),e._v(" "),a("span",{staticClass:"num"},[e._v("待收票数量: "+e._s(n.thenQtyBal))])]),e._v(" "),a("div",{staticClass:"mater_price"},[a("span",[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(n.tdAmount),3)))]),e._v(" "),n.taxRate?a("span",{staticClass:"num",style:{display:n.tdAmount&&n.tdAmount.toString().length>=5?"block":""}},[e._v("\n                [金额: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.noTaxAmount),3))+" + 税金: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.taxAmount),3))+"]\n              ")]):e._e()])])]}}])}),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-xiangmu"}),a("span",{staticClass:"title"},[e._v("发票信息")])])}],r={render:n,staticRenderFns:i};t.a=r},Jngd:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.dealerInfo,logistics:!1,payment:!1}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"order-list":e.orderList,noTaxAmount:e.noTaxAmount,taxAmount:e.taxAmount,count:e.count,"list-title":"设施列表"},scopedSlots:e._u([{key:"orderTitle",fn:function(t){return[a("span",{staticClass:"order_title"},[e._v("订单号")])]}},{key:"matterOther",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("类型: "+e._s(n.facilityType))]),e._v(" "),a("span",[e._v("大类: "+e._s(n.facilityBigType_facilityObjCode))]),e._v(" "),a("span",[e._v("单位: "+e._s(n.facilityUnit_facilityObjCode||"无"))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.taxRate,expression:"item.taxRate"}]},[e._v("税率: "+e._s(n.taxRate))])]),e._v(" "),a("div",{staticClass:"mater_attribute"},[a("span",[e._v("订单总数: "+e._s(n.thenTotalQtyBal))]),e._v(" "),a("span",[e._v("已验收数: "+e._s(n.thenLockQty))]),e._v(" "),a("span",[e._v("待验收数: "+e._s(n.thenQtyBal))])]),e._v(" "),a("div",{staticClass:"mater_num"},[a("span",{staticClass:"num"},[e._v("单价: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.price),3)))]),e._v(" "),a("span",{staticClass:"num"},[e._v("本次验收: "+e._s(e._f("toFixed")(n.tdQty)))])]),e._v(" "),a("div",{staticClass:"mater_price"},[a("span",[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(n.tdAmount),3)))]),e._v(" "),n.taxRate?a("span",{staticClass:"num",style:{display:n.tdAmount&&n.tdAmount.toString().length>=5?"block":""}},[e._v("\n                [金额: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.noTaxAmount),3))+" + 税金: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.taxAmount),3))+"]\n              ")]):e._e()])])]}}])}),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},JoHG:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"app_top"},[a("searchIcon",{on:{search:e.searchList}}),e._v(" "),a("tab",{attrs:{"line-width":2,"default-color":"#333","active-color":"#3296FA"}},e._l(e.dealerClassfiy,function(t,n){return a("tab-item",{key:n,attrs:{selected:n===e.activeIndex},on:{"on-item-click":function(a){e.tabClick(t,n)}}},[e._v(e._s(t.title)+"\n        ")])}),1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"app_main",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.dealerList.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.dealerList,function(t,n){return a("div",{key:n,staticClass:"basic-item-wrapper",class:{visited:t.visited},on:{click:function(a){e.goDetail(t,n)}}},[a("div",{staticClass:"basic-main"},[a("div",{staticClass:"basic-header"},[a("span",{staticClass:"basic_code vux-1px-l"},[e._v("往来编码："+e._s(t.dealerCode))]),e._v(" "),a("span",{staticClass:"basic_status",class:t.statusClass},[e._v(e._s(t.dealerStatus))])]),e._v(" "),a("div",{staticClass:"basic-info-wrapper"},[a("img",{staticClass:"basic-img",attrs:{src:t.dealerPic,alt:"dealer-img"},on:{error:function(a){e.getDefaultImg(t)}}}),e._v(" "),a("div",{staticClass:"basic-detail"},[a("div",{staticClass:"basic_name"},[e._v(e._s(t.dealerName))]),e._v(" "),a("div",{staticClass:"basic_detail_item"},[a("span",{staticClass:"basic_detail_title"},[e._v("详细地址:")]),e._v(" "),a("span",{staticClass:"basic_detail_value"},[e._v(e._s(t.detailAddress))])]),e._v(" "),a("div",{staticClass:"basic_detail_item"},[a("span",{staticClass:"basic_detail_title"},[e._v("关系标签:")]),e._v(" "),a("span",[e._v(e._s(t.dealerLabelName))])])])])]),e._v(" "),a("div",{staticClass:"basic-bottom vux-1px-t"},[a("div",{staticClass:"basic-bottom-wrapper"},[a("div",{staticClass:"basic_bottom_item basic_handler"},[a("i",{staticClass:"icon icon-handler"}),e._v(" "),a("span",[e._v("创建人："+e._s(t.creatorName))])]),e._v(" "),a("div",{staticClass:"basic_bottom_item basic_mod_time"},[a("i",{staticClass:"icon icon-mod-time"}),e._v(" "),a("span",[e._v("创建时间："+e._s(e._f("dateFormat")(t.crtTime,"YYYY-MM-DD HH:mm")))])])])])])}),0)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEditAds}}),e._v(" "),a("router-view")],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},JuKn:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("3cXf"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("bFc7"),p=n(v),C=a("6WeX"),y=n(C),_=a("3NX5"),g=n(_),b=a("zWMP");a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"",contactInfo:{},orderList:{},matterList:[]}},computed:{noTaxAmount:function(){var e=0;return this.matterList.forEach(function(t){e=(0,b.accAdd)(e,t.noTaxAmount)}),e},taxAmount:function(){var e=0;return this.matterList.forEach(function(t){e=(0,b.accAdd)(e,t.taxAmount)}),e}},components:{workFlow:h.default,RAction:f.default,contactPart:p.default,PriceTotal:y.default,MatterList:g.default},mixins:[u.default],methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(e.submitInfo=JSON.parse((0,o.default)(t)),!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a={},n=t.formData.inPut.dataSet,i=!0,s=!1,l=void 0;try{for(var d,u=(0,r.default)(n);!(i=(d=u.next()).done);i=!0){var c=d.value;e.count=(0,b.accAdd)(e.count,c.tdAmount),c.inventoryPic=c.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+c.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),c.transObjCode=c.transMatchedCode,a[c.transMatchedCode]||(a[c.transMatchedCode]=[]),a[c.transMatchedCode].push(c)}}catch(e){s=!0,l=e}finally{try{!i&&u.return&&u.return()}finally{if(s)throw l}}e.matterList=n,e.orderList=a,e.orderInfo=t.formData,e.getcontactInfo("inPut"),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo={creatorName:t.dealerDebitContactPersonName,dealerName:a.dealerName_dealerCodeCredit,dealerMobilePhone:t.dealerCreditContactInformation,dealerContactPersonName:t.dealerCreditContactPersonName,dealerCode:a.dealerCodeCredit,dealerLabelName:a.crDealerLabel,province:a.province_dealerCodeCredit,city:a.city_dealerCodeCredit,county:a.county_dealerCodeCredit,address:a.address_dealerCodeCredit,payment:a.crDealerPaymentTerm,pamentDays:a.daysOfAccount}}},created:function(){}}},JvnV:function(e,t,a){"use strict";function n(e){a("PeDZ")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("gR+h");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Q9fr"),o=a.n(s),l=a("GZaT"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-1850b818",null);t.default=c.exports},JxH7:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.contactInfo,configs:e.dealerConfig}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"matter-list":e.orderInfo.order.dataSet,noTaxAmount:e.noTaxAmount,taxAmount:e.taxAmount,count:e.count},scopedSlots:e._u([{key:"matterOther",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("单位: "+e._s(n.measureUnit_transObjCode))]),e._v(" "),a("span",[e._v("辅助计量: "+e._s(n.assMeasureUnit))]),e._v(" "),a("span",[e._v("辅助计量说明: "+e._s(n.assMeasureDescription)+" ")])]),e._v(" "),a("div",{staticClass:"mater_num"},[a("div",[a("span",{staticClass:"num"},[e._v("交付开始日: "+e._s(n.dateActivation))]),e._v(" "),a("span",{staticClass:"num"},[e._v("交付截止日: "+e._s(n.executionDate))])]),e._v(" "),a("div",[a("span",{staticClass:"num"},[e._v("单价: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.price))))]),e._v(" "),a("span",{staticClass:"num"},[e._v("数量: "+e._s(e._f("toFixed")(n.tdQty)))]),e._v(" "),a("span",{staticClass:"num"},[e._v("包装数量: "+e._s(e._f("toFixed")(n.assistQty)))])])]),e._v(" "),a("div",{staticClass:"mater_price"},[a("span",[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(n.tdAmount))))]),e._v(" "),n.taxRate?a("span",{staticClass:"num",style:{display:n.tdAmount&&n.tdAmount.toString().length>=5?"block":""}},[e._v("\n                [金额: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.noTaxAmount)))+" + 税金: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.taxAmount)))+"]\n              ")]):e._e()])])]}}])}),e._v(" "),a("div",{staticClass:"comment-part"},[e.count?a("price-total",{attrs:{amt:e.noTaxAmount,"tax-amt":e.taxAmount,count:e.count}}):e._e(),e._v(" "),a("div",{staticClass:"comment-container"},[a("span",{staticClass:"comment_title"},[e._v("备注：")]),e._v(" "),a("span",{staticClass:"comment_value"},[e._v(e._s(e.orderInfo.biComment||"无"))])]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":""}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},Jz7U:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("KH7x"),r=n(i),s=a("a3Yh"),o=n(s),l=a("MgeX"),d=n(l),u=a("HzJ8"),c=n(u),f=a("ZLEe"),m=n(f),h=a("rVsN"),v=n(h),p=a("IHPB"),C=n(p),y=a("3cXf"),_=n(y),g=a("4YfN"),b=n(g),w=a("HXPS"),I=n(w),x=a("BGNQ"),D=n(x),P=a("z5TY"),S=n(P),k=a("SAzG"),L=n(k),N=a("u28h"),M=n(N),T=a("PzEQ"),A=n(T),O=a("kNGm"),R=n(O),j=a("0AQX"),B=a("I3vJ"),E=a("HyXB"),F=a("bKg5"),U=n(F),$=a("luHD"),Q=n($),H=a("RMtk"),V=n(H),q=a("jEax"),Y=n(q),X=a("d7ck"),G=n(X),W=a("FlCz"),z=n(W),K=a("MVgC"),J=n(K),Z=a("vl8n"),ee=n(Z),te=a("+WR7"),ae=n(te),ne=a("89pA"),ie=n(ne),re=a("zWMP"),se=a("Qg39");t.default={name:"ApplyWLXQTJForm",mixins:[U.default],components:{Icon:I.default,Cell:D.default,Group:S.default,XInput:L.default,XTextarea:A.default,PopMatter:Q.default,PopOrderXqtjList:V.default,Datetime:M.default,FormCell:G.default,PopWarehouseNbjgrkList:Y.default,BomList:z.default,BomPop:J.default,RPicker:ee.default,PopBaseinfo:ae.default,PopWarehouseList:ie.default},data:function(){return{listId:"5e8d89f1-49a5-4089-9c1a-44dc2ce0ae4b",orderList:{},showOrderPop:!1,formData:{biProcessStatus:null,biComment:""},submitSuccess:!1,warehouse:null,numMap:{},transCode:"",formViewUniqueId:"82784823-ded5-4a58-a746-d32514f7d26f",biReferenceId:"",actions:[],taskId:"",matterList:[],entity:{},tmpItems:{},matter:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,warehouseOut:{warehouseName:"待检仓",warehouseCode:"QC0001",warehouseType:"一般部门仓"},warehouseIn:null,warehouseOutParams:{warehouseType:"一般部门仓"},warehouseInParams:{warehouseType:"一般部门仓,个人仓,加工车间仓"},orderParams:{whCode:"FG0001"},DuplicateBoms:[],UniqueBom:[],bom:{},bomPopShow:!1,modifyBomTdqty:[]}},methods:{selWarehouseOut:function(e){this.warehouseOut=JSON.parse(e),this.orderParams=(0,b.default)({},this.orderParams,{whCode:this.warehouseOut.warehouseCode}),this.orderList={}},selWarehouseIn:function(e){this.warehouseIn=JSON.parse(e)},checkAmt:function(e){var t=e.qualityQty,a=void 0===t?0:t,n=e.tdQty,i=void 0===n?0:n,r=e.qtyStock,s=void 0===r?0:r,o=e.qtyBal,l=void 0===o?0:o,d=Math.min(s,l);a&&(a=Math.min(d,a),e.qualityQty=Math.abs((0,se.toFixed)(a)),this.$set(e,"differenceNum",(0,re.accSub)(a,i))),i&&(i=Math.min(d,i),e.tdQty=Math.abs((0,se.toFixed)(i)),this.$set(e,"differenceNum",(0,re.accSub)(a,i)))},checkBom:function(e,t,a){this.bom=e,this.modifyIndex=t,this.modifyKey=a,this.bomPopShow=!0,this.modifyBomTdqty=JSON.parse((0,_.default)(e.boms))},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,_.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a,this.modifyBomTdqty=[].concat((0,C.default)(e.boms))},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t),this.reBuildUniqueBom(t)},selOrder:function(e){var t=this,a=JSON.parse(e),n={},i=[],r=[];a.forEach(function(e){var a=e.transCode+"_"+e.orderCode+"_"+e.inventoryCode,s=Math.min(e.qtyStock||0,e.qtyBal||0),o=t.numMap[a]||{},l=o.tdQty,d=void 0===l?s:l,u=o.boms,c=o.qualityQty,f=void 0===c?s:c,m=o.shippingTime,h=void 0===m?(0,R.default)(e.shippingTime,"YYYY-MM-DD"):m;e.tdQty=d,e.shippingTime=h,e.qualityQty=f,e.differenceNum=(0,re.accSub)(f,d),i.push((0,B.getJGRKBom)({parentInvCode:e.inventoryCode}).then(function(a){var n=a.tableContent,i=void 0===n?[]:n;i.forEach(function(a){var n=t.calcBom(e.differenceNum,a);a.qualityQty=n,a.demandQty=n});var s=t.mergeSingleBom(i),o=t.oneToMul(e,i);t.$set(e,"boms",s),t.$set(e,"assembleBoms",o),r=[].concat((0,C.default)(r),(0,C.default)(i))})),n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n,v.default.all(i).then(function(e){t.DuplicateBoms=r,t.mergeBomList()})},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},findIndex:function(e,t){return e.findIndex(function(e){return e.orderCode===t.orderCode&&e.transCode===t.transCode&&e.inventoryCode===t.inventoryCode})},delClick:function(e,t,a){var n=this.selItems,i=this.findIndex(n,t);if(-1!==i)return void n.splice(i,1);n.push(t)},showSelIcon:function(e){return-1!==this.findIndex(this.selItems,e)},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,_.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,m.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.orderCode===a.orderCode&&t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=e.findIndex(n,t);i>=0&&(e.$refs.order.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,c.default)((0,d.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,o=!1,l=void 0;try{for(var u,f=(0,c.default)(r);!(s=(u=f.next()).done);s=!0){var m=u.value;this.numMap[m.transCode+"_"+m.orderCode+"_"+m.inventoryCode]=(0,b.default)({},m)}}catch(e){o=!0,l=e}finally{try{!s&&f.return&&f.return()}finally{if(o)throw l}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="";if([{key:"warehouseIn",message:"入库仓库"}].every(function(a){return!!e[a.key]||(t="请选择"+a.message,!1)}),t||(0,m.default)(this.orderList).length||(t="请选择物料"),!t){var a=!0,n=!1,i=void 0;try{for(var r,s=(0,c.default)((0,d.default)(this.orderList));!(a=(r=s.next()).done);a=!0){var l=r.value,u=!0,f=!1,h=void 0;try{for(var v,p=(0,c.default)(l);!(u=(v=p.next()).done);u=!0)if(!v.value.qualityQty){t="请填写本次入库数量";break}}catch(e){f=!0,h=e}finally{try{!u&&p.return&&p.return()}finally{if(f)throw h}}if(t)break}}catch(e){n=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=[],a=E.saveAndStartWf,n={},i=(0,o.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""}),r=!0,s=!1,l=void 0;try{for(var u,f=(0,c.default)((0,d.default)(e.orderList));!(r=(u=f.next()).done);r=!0){var m=u.value,h=!0,v=!1,p=void 0;try{for(var C,y=(0,c.default)(m);!(h=(C=y.next()).done);h=!0){var g=C.value;!function(e){var a=e.boms.reduce(function(t,a){return t.push({tdId:a.tdId||null,transMatchedCode:e.transCode,qualityQty:a.qualityQty,bomSpecificLoss:a.specificLoss,tdProcessing:a.processing,inventoryName:a.inventoryName,demandQty:a.demandQty,transObjCode:a.inventoryCode,measureUnit:a.measureUnit,bomType:a.bomType,bomQty:a.qty,parentInventoryCode:a.parentInventoryCode}),t},[]),n={tdId:e.tdId||null,transMatchedCode:e.transCode,orderCode:e.orderCode,inventoryName_transObjCode:e.inventoryName,transObjCode:e.inventoryCode,tdProcessing:e.processing,measureUnit_transObjCode:e.measureUnit,thenTotalQtyBal:e.productDemandQty,thenQtyStock:e.qtyStock,thenLockQty:e.stockQty,thenQtyBal:e.qtyBal,qualityQty:e.qualityQty,tdQty:e.tdQty,differenceNum:e.differenceNum,shippingTime:e.shippingTime,skinFee:e.skinFee,wages:e.wages,comment:e.comment||"",boms:a};t.push(n)}(g)}}catch(e){v=!0,p=e}finally{try{!h&&y.return&&y.return()}finally{if(v)throw p}}}}catch(e){s=!0,l=e}finally{try{!r&&f.return&&f.return()}finally{if(s)throw l}}n=(0,b.default)({},e.formData,{modifer:e.transCode?e.formData.handler:"",handlerEntity:e.entity.dealerName,order:{containerCodeOut:e.warehouseOut.warehouseCode,containerCode:e.warehouseIn.warehouseCode,dataSet:t},outPut:{dataSet:outPutDataSet},containerOutWarehouseManager:e.warehouseOut.manager||null,containerInWarehouseManager:e.warehouseIn.manager||null}),e.transCode&&(a=E.saveAndCommitTask,i={businessKey:e.transCode,createdBy:n.creator||n.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var w={listId:e.listId,biComment:"",formData:(0,_.default)(n),wfPara:(0,_.default)(i)};e.processCode.length||(a=E.submitAndCalc,delete w.wfPara),e.transCode&&(w.biReferenceId=e.biReferenceId),e.saveData(a,w)}})},getFormData:function(){var e=this;return(0,j.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=o;var l={},d=r.order,u=r.outPut,f=d.dataSet,m=void 0===f?[]:f,h=u.dataSet,v=void 0===h?[]:h,p=!0,C=!1,y=void 0;try{for(var _,g=(0,c.default)(m);!(p=(_=g.next()).done);p=!0){var w=_.value;w=(0,b.default)({},w,{transCode:w.transMatchedCode,measureUnit:w.measureUnit_transObjCode,qtyBal:w.thenQtyBal,qtyStock:w.thenQtyStock,inventoryPic:w.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+w.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:w.inventoryName_transObjCode,inventoryCode:w.transObjCode,specification:w.specification_transObjCode,processing:w.tdProcessing}),l[w.transCode]||(l[w.transCode]=[]),l[w.transCode].push(w)}}catch(e){C=!0,y=e}finally{try{!p&&g.return&&g.return()}finally{if(C)throw y}}v.forEach(function(e){e.inventoryName=e.inventoryName_outPutMatCode,e.inventoryCode=e.outPutMatCode,e.measureUnit=e.measureUnit_outPutMatCode,e.processing=e.tdProcessing}),e.warehouseOut={warehouseName:d.warehouseName_containerCodeOut,warehouseType:d.warehouseType_containerCodeOut,warehouseCode:d.containerCodeOut,manager:r.containerOutWarehouseManager},e.warehouseIn={warehouseName:d.warehouseName_containerCode,warehouseType:d.warehouseType_containerCode,warehouseCode:d.containerCode,manager:r.containerInWarehouseManager},e.matterList=m,e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,b.default)({},e.formData,e.handlerDefault,{biComment:r.biComment,biId:r.biId,biProcessStatus:r.biProcessStatus,creator:r.creator,modifer:r.modifer}),e.biReferenceId=r.biReferenceId,e.orderList=l,e.orderParams=(0,b.default)({},e.orderParams,{whCode:e.warehouseOut.warehouseCode}),e.$loading.hide()})},hasDraftData:function(){return!!(0,d.default)(this.orderList).length&&(0,o.default)({},"NBJGRK_DATA",{orderList:this.orderList,formData:this.formData,warehouseIn:this.warehouseIn,warehouseOut:this.warehouseOut})},mergeSingleBom:function(e){return e.reduce(function(e,t){var a=e.find(function(e){return e.inventoryCode===t.inventoryCode});return a?(a.demandQty=(0,re.accAdd)(a.demandQty,t.demandQty),a.qualityQty=(0,re.accAdd)(a.qualityQty,t.qualityQty)):e.push(t),e},[])},oneToMul:function(e,t){var a=this,n=e.inventoryCode,i=JSON.parse((0,_.default)(t)),r=i.filter(function(e){return e.parentInventoryCode===n});return r&&r.length&&r.forEach(function(e){e.child=a.oneToMul(e,t)}),r||[]},mulToOne:function(e){var t=this,a=e;return e.reduce(function(e,n){return n.child&&(a=[].concat((0,C.default)(a),(0,C.default)(t.mulToOne(n.child)))),e},[]),a},getStock:function(e){var t=this,a=this.UniqueBom.find(function(t){return t.inventoryCode===e.inventoryCode}),n=(0,re.accSub)(a.thenTotalQtyStock,a.thenQtyBalCopy1),i=(0,d.default)(this.orderList).reduce(function(e,t){return[].concat((0,C.default)(e),(0,C.default)(t))},[]),r=i.reduce(function(e,a){var n=t.mulToOne(a.assembleBoms);return a.boms=n,[].concat((0,C.default)(e),(0,C.default)(n))},[]),s=r.reduce(function(e,t){var n=0;return t.inventoryCode===a.inventoryCode&&(n=t.qualityQty),(0,re.accAdd)(e,n)},0);return n<0?0:(0,re.accSub)(n,s)},reBuildUniqueBom:function(e){var t=this,a=0,n=function e(n,i){n.map(function(n,r){var s=0,o=0;parseFloat(i)?(s=t.calcBom(i,n),n.demandQty=s,"原料"===n.processing?n.qualityQty=s:(o=t.getStock(n,s),n.qualityQty=o?s>o?o:s:0,a=(0,re.accSub)(s,n.qualityQty))):(n.demandQty=0,n.qualityQty=0,a=0),n.child&&n.child.length&&e(n.child,a)})},i=(0,d.default)(this.orderList).reduce(function(e,t){return[].concat((0,C.default)(e),(0,C.default)(t))},[]),r=i.reduce(function(e,a){n(a.assembleBoms,a.differenceNum);var i=t.mulToOne(a.assembleBoms);return a.boms=t.mergeSingleBom(i),[].concat((0,C.default)(e),(0,C.default)(i))},[]);console.log(r),r=this.mergeSingleBom(r),this.UniqueBom.forEach(function(e){var t=r.find(function(t){return t.inventoryCode===e.inventoryCode});e.demandQty=t.demandQty,e.tdQty=t.qualityQty})},mergeBomList:function(){var e=this,t=[],a=JSON.parse((0,_.default)(this.DuplicateBoms)),n=a.reduce(function(e,a){var n=e.find(function(e){return e.inventoryCode===a.inventoryCode});return n?n.tdQty=(0,re.accAdd)(n.tdQty,a.qualityQty):(!a.thenTotalQtyStock&&0!==a.thenTotalQtyStock&&t.push((0,B.getInProcessingStorageSumSource)({inventoryCode:a.inventoryCode}).then(function(e){var t=e.tableContent,n=void 0===t?[]:t,i=(0,r.default)(n,1),s=i[0],o=void 0===s?{}:s;a.thenQtyBalCopy1=o.qtyBal||0,a.thenTotalQtyStock=o.thenTotalQtyStock||0})),a.tdQty=a.qualityQty,e.push(a)),e},[]);v.default.all(t).then(function(){e.UniqueBom=n})},calcBom:function(e,t){return(0,re.accMul)(e,t.qty,1+t.specificLoss)}},created:function(){var e=sessionStorage.getItem("NBJGRK_DATA");if(e){var t=JSON.parse(e);this.orderList=t.orderList,this.formData=t.formData,this.warehouseOut=t.warehouseOut,this.warehouseIn=t.warehouseIn,this.orderParams=(0,b.default)({},this.orderParams,{whCode:this.warehouseOut.warehouseCode}),sessionStorage.removeItem("NBJGRK_DATA")}}}},Jzcy:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"childPage",class:{"no-edit":!e.action.update}},[a("r-scroll",{ref:"bScroll",staticClass:"main_content"},[a("div",{staticClass:"inventory_baseinfo has_margin"},[a("div",{staticClass:"baseInfo_top"},[a("div",{staticClass:"baseinfo_part"},[a("img",{attrs:{src:e.inventory.inventoryPic},on:{error:e.getDefaultImg}}),e._v(" "),a("div",{staticClass:"inventory_name"},[a("p",{staticClass:"name"},[e._v(e._s(e.inventory.inventoryName))]),e._v(" "),a("p",{staticClass:"code"},[e._v("物料编码："),a("span",{staticClass:"symbol"}),e._v(e._s(e.inventory.inventoryCode))])])]),e._v(" "),a("span",{staticClass:"inventory_status vux-1px",class:{no_use:"使用中"!==e.inventory.status}},[e._v(e._s(e.inventory.status))])])]),e._v(" "),a("div",{staticClass:"inventory_other has_margin"},e._l(e.matterConfig,function(t,n){return a("div",{key:n,staticClass:"each_property",class:{"vux-1px-b":n<e.matterConfig.length-1}},[a("label",[e._v(e._s(t.fieldLabel)+":")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.inventory[t.fieldCode]||"无"))])])}),0),e._v(" "),e._l(e.matterDuplicateConfig,function(t,n){return t.show?a("div",{key:""+n+t.name,staticClass:"common_style d_main"},e._l(e.formData[t.name],function(n,i){return e.formData[t.name].length?a("div",{key:i,staticClass:"content"},e._l(t.items,function(t,i){return t.hidden?e._e():a("div",{key:i,staticClass:"each_property vux-1px-b"},[a("label",[e._v(e._s(t.text)+":")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(n[t.fieldCode]||"无"))])])}),0):e._e()}),0):e._e()}),e._v(" "),a("div",{staticClass:"creator"},[a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("创建者:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.baseinfo.creatorName))])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("创建时间:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e._f("dateFormat")(e.baseinfo.crtTime)))])]),e._v(" "),e.baseinfo.modiferName?a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("修改者:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.baseinfo.modiferName))])]):e._e(),e._v(" "),e.baseinfo.modTime?a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("修改时间:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e._f("dateFormat")(e.baseinfo.modTime)))])]):e._e()])],2),e._v(" "),a("div",{staticClass:"modify_icon",on:{click:e.goEdit}},[a("span",{staticClass:"icon-edit"})])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"K/uT":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"order-list":e.orderList,count:e.count},scopedSlots:e._u([{key:"orderTitle",fn:function(t){return[a("span",{staticClass:"order_title"},[e._v("物料需求计划号")])]}},{key:"matterOther",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("全部需求: "+e._s(n.productDemandQty))]),e._v(" "),a("span",[e._v("已申请: "+e._s(n.thenLockQty))]),e._v(" "),a("span",[e._v("待申请: "+e._s(n.thenLockQty))]),e._v(" "),a("span",[e._v("采购提前期: "+e._s(n.leadTime_transObjCode))])]),e._v(" "),a("div",{staticClass:"mater_num"},[a("div",[a("span",{staticClass:"unit symbol"},[e._v("下单截止日: "+e._s(n.shippingTime))]),e._v(" "),a("span",{staticClass:"unit symbol"},[e._v("到货截止日: "+e._s(n.promDeliTime))])]),e._v(" "),a("div",[a("span",{staticClass:"num"},[e._v("本次申请: "+e._s(n.tdQty))]),e._v(" "),a("span",{staticClass:"symbol"},[e._v("[申请说明: "+e._s(n.comment||"无")+"]")])])])])]}}])}),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},K0z5:function(e,t,a){"use strict";function n(e){a("pYrj")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("vtaQ");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("m557"),o=a.n(s),l=a("Sj7T"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-b1a62fa0",null);t.default=c.exports},K2RO:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("iR2W"),r=n(i),s=a("kNGm"),o=n(s),l=a("Qg39");t.default={name:"materListItem",props:{item:{type:Object,default:function(){return{}}},noCount:{type:Boolean,default:!1},noPrice:{type:Boolean,default:!1},noQty:{type:Boolean,default:!1},isDealer:{type:Boolean,default:!0},isMoreDealer:{type:Boolean,default:!1}},filters:{toFixed:l.toFixed,dateFormat:o.default,numberComma:r.default},computed:{istransCodeBottom:function(){return this.item.dealerName&&(this.item.warehouseName_containerCode||this.item.warehouseName_containerCodeOut)},isWarehouse:function(){return this.item.warehouseName_containerCode||this.item.warehouseName_containerCodeOut},isDealerWarehouse:function(){return!this.item.dealerName&&!(this.item.warehouseName_containerCode||this.item.warehouseName_containerCodeOut)}},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t}}}},K798:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("3cXf"),o=n(s),l=a("HXPS"),d=n(l),u=a("7g+Q"),c=n(u),f=a("6q39"),m=n(f),h=a("L6VY"),v=n(h),p=a("+62G"),C=n(p),y=a("7biW"),_=n(y),g=a("vHT0"),b=(n(g),a("jLp1")),w=a("1KNX"),I=n(w);t.default={name:"PopNameList",props:{defaultValue:{type:Object,default:function(){return{}}}},directives:{TransferDom:C.default},components:{Icon:d.default,Popup:c.default,DSearch:_.default,LoadMore:m.default,RScroll:I.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},dealerList:[],bScroll:null,limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},isChoice:!0}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:function(e){this.selItems=JSON.parse((0,o.default)(this.defaultValue))}},filters:{handlerDate:function(e){return e.split(" ")[0]}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},showSelIcon:function(e){return this.selItems.PROJECT_NAME===e.PROJECT_NAME},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.$emit("sel-item",(0,o.default)(this.selItems))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getDealer:function(){var e=this,t=[],a={limit:this.limit,page:this.page,start:(this.page-1)*this.limit};this.srhInpTx&&(t=[].concat((0,r.default)(t),[{operator:"like",value:this.srhInpTx,property:"PROJECT_NAME"}]),a.filter=(0,o.default)(t)),(0,b.getProjectApproval)(a).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,s=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+s.length,e.dealerList=1===e.page?s:[].concat((0,r.default)(e.dealerList),(0,r.default)(s)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})}).catch(function(e){v.default.show({content:e.message})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.dealerList=[],this.page=1,this.hasNext=!0,this.getDealer()},onPullingUp:function(){this.page++,this.getDealer()},itemClick:function(){this.showPop=!0}},created:function(){this.selItems=JSON.parse((0,o.default)(this.defaultValue)),this.$route.query.relationKey&&(this.isChoice=!1),this.getDealer()}}},K7WK:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"icon",props:{type:String,isMsg:Boolean},computed:{className:function(){return"weui-icon weui_icon_"+this.type+" weui-icon-"+this.type.replace(/_/g,"-")}}}},KDMX:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("a3Yh"),o=n(s),l=a("ZLEe"),d=n(l),u=a("3cXf"),c=n(u),f=a("KH7x"),m=n(f),h=a("4YfN"),v=n(h),p=a("PzEQ"),C=n(p),y=a("u28h"),_=n(y),g=a("kNGm"),b=n(g),w=a("BGNQ"),I=n(w),x=a("SAzG"),D=n(x),P=a("z5TY"),S=n(P),k=a("0AQX"),L=a("I3vJ"),N=a("HyXB"),M=a("bKg5"),T=n(M),A=a("ZQWM"),O=n(A),R=a("9cRV"),j=n(R),B=a("Pb67"),E=n(B),F=a("yt3/"),U=n(F),$=a("luHD"),Q=n($),H=a("CKaN"),V=n(H),q=a("hLfv"),Y=n(q),X=a("VZtf"),G=n(X),W=a("vl8n"),z=n(W),K=a("+WR7"),J=n(K),Z=a("fCs9"),ee=n(Z),te=a("zWMP"),ae=a("Qg39");t.default={name:"ApplyDZYHPCGYSYZFForm",data:function(){return{orderList:{},matterList:[],showDealerPop:!1,dealerInfo:{},contactInfo:{},formData:{biId:"",biComment:""},submitSuccess:!1,taxRate:.16,numMap:{},transCode:"",formViewUniqueId:"fed81800-4c34-44a9-b517-c3fd9f2ab57d",biReferenceId:"",actions:[],taskId:"",showOrderPop:!1,tmpItems:{},matter:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"订单号",value:"transCode"}],cashInfo:{},cashParams:{fundType:"银行存款"},consumables:{},checkFieldList:[{key:"tdQty",message:"请填写数量"}]}},computed:{totalAmount:function(){var e=this,t=0;return this.matterList.forEach(function(a){e.simpleCalcMatter(a),t=(0,te.accAdd)(t,a.noTaxAmount)}),Number(t)},taxAmount:function(){var e=0;return this.matterList.forEach(function(t){e=(0,ae.toFixed)((0,te.accAdd)(e,t.taxAmount))}),e},tdAmount:function(){return parseFloat((0,te.accAdd)(this.totalAmount,Number(this.taxAmount)).toFixed(2))},tdAmountCopy1:function(){var e=this,t=0;return this.matterList.forEach(function(a){var n=a.taxRate||e.taxRate,i=(0,te.accMul)(a.price,a.tdQty,n);t=(0,te.accAdd)(t,(0,te.accAdd)((0,te.accMul)(a.price,a.tdQty),i))}),(0,ae.toFixed)(t)}},watch:{consumables:{handler:function(e){this.simpleCalcMatter(e)},deep:!0}},mixins:[T.default],components:{XTextarea:C.default,Datetime:_.default,PopOrderList:E.default,RNumber:G.default,XInput:D.default,Group:S.default,PopDealerList:O.default,PopMatterList:j.default,PopSingleSelect:U.default,PopMatter:Q.default,RPicker:z.default,PopBaseinfo:J.default,Cell:I.default,RDropdown:ee.default,PopCashList:V.default,DealerOtherPart:Y.default},methods:{selItem:function(e){this.formData=(0,v.default)({},this.formData,e),null!=this.matterParams.data.groupId&&(this.matterParams.data.groupId=e.handlerUnit)},selDealer:function(e){var t=JSON.parse(e),a=(0,m.default)(t,1),n=a[0],i=n.pamentDays,r=i?(0,b.default)(Date.now()+(0,te.accMul)(i,864e5),"YYYY-MM-DD"):"";this.dealerInfo=(0,v.default)({},n,{accountExpirationDate:r,crDealerPaymentTerm:n.paymentTerm,daysOfAccount:n.pamentDays}),null!=this.matterParams.data.dealerCode&&(this.matterParams.data.dealerCode=this.dealerInfo.dealerCode,this.matterList=[],this.orderList={})},selContact:function(e){this.contactInfo=(0,v.default)({},e)},modifyMatter:function(e,t,a){this.consumables=JSON.parse((0,c.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selMatter:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){e.tdQty=e.tdQty||e.qtyBal,e.price=e.price||"",e.taxRate=e.taxRate||.16,e.productionDate=e.productionDate||"",e.validUntil=e.validUntil||"",n[e.transCode]||(n[e.transCode]=[]),t.getMoreUnit(e),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.inventoryCode!==e.inventoryCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,c.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,d.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});i>=0&&(e.$refs.matter.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerCode||(t="请选择供应商"),t||this.dealerInfo.crDealerPaymentTerm||(t="请选择结算方式"),t||this.matterList.length||(t="请选择物料"),t||this.matterList.every(function(n){if(!n.tdQty&&0!==n.tdQty)return t="数量不能为空",!1;var i=n.taxRate||e.taxRate,r=(0,te.accMul)(n.price,n.tdQty,i),s={transMatchedCode:n.transCode,transObjCode:n.inventoryCode,tdProcessing:n.processing,assMeasureUnit:void 0!==n.assMeasureUnit?n.assMeasureUnit:null,expSubject:n.expSubject,thenTotalQtyBal:n.qty,thenLockQty:n.qtyed,thenQtyBal:n.qtyBal||0,tdQty:n.tdQty,assMeasureScale:null,assistQty:n.assistQty||null,price:n.price,taxRate:i,taxAmount:r,tdAmount:(0,te.accAdd)((0,te.accMul)(n.price,n.tdQty),r),processingStartDate:n.processingStartDate||null,keepingDays_transObjCode:n.keepingDays,productionDate:n.productionDate||null,validUntil:n.validUntil||null,comment:n.comment||""};return e.transCode&&(s.tdId=n.tdId||null),a.push(s),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=N.saveAndStartWf,n={},i=(0,o.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});n=(0,v.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",dealerCreditContactPersonName:e.contactInfo.dealerName||"",dealerCreditContactInformation:e.contactInfo.dealerMobilePhone||"",containerInWarehouseManager:null,inPut:{dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName||"供应商",crDealerPaymentTerm:e.dealerInfo.paymentTerm,daysOfAccount:e.dealerInfo.pamentDays,accountExpirationDate:e.dealerInfo.accountExpirationDate,containerCode:"",dataSet:a},outPut:{dataSet:[{fundName_cashOutCode:e.cashInfo.fundName,cashOutCode:e.cashInfo.fundCode,cashType_cashOutCode:e.cashInfo.fundType,thenAmntBalCopy1:e.cashInfo.amntBal,tdAmountCopy1:e.tdAmountCopy1}]}}),e.transCode&&(t=N.saveAndCommitTask,i={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,c.default)(n),wfPara:(0,c.default)(i)};e.transCode||delete r.biReferenceId,e.processCode.length||(t=N.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,k.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=l;var d=s.inPut,u=(s.dealerDebit,s.outPut),c=d.dataSet,f=void 0===c?[]:c,m={},h=[],p=!0,C=!1,y=void 0;try{for(var _,g=(0,r.default)(f);!(p=(_=g.next()).done);p=!0){var b=_.value;b=(0,v.default)({},b,{transCode:b.transMatchedCode,inventoryPic:b.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+b.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:b.inventoryName_transObjCode,inventoryCode:b.transObjCode,specification:b.specification_transObjCode,processing:b.tdProcessing,keepingDays:b.keepingDays_transObjCode,qtyed:b.thenLockQty,qtyBal:b.thenQtyBal,qty:b.thenTotalQtyBal}),e.getMoreUnit(b),m[b.transCode]||(m[b.transCode]=[]),h.push(b),m[b.transCode].push(b)}}catch(e){C=!0,y=e}finally{try{!p&&g.return&&g.return()}finally{if(C)throw y}}e.dealerInfo={creatorName:s.dealerCreditContactPersonName,dealerName:d.dealerName_dealerCodeCredit,dealerMobilePhone:s.dealerCreditContactInformation,dealerCode:d.dealerCodeCredit,dealerLabelName:d.crDealerLabel,province:d.province_dealerCodeCredit,city:d.city_dealerCodeCredit,county:d.county_dealerCodeCredit,address:d.address_dealerCodeCredit,paymentTerm:d.crDealerPaymentTerm,pamentDays:d.daysOfAccount,accountExpirationDate:d.accountExpirationDate||""};var w=!0,I=!1,x=void 0;try{for(var D,P=(0,r.default)(u.dataSet);!(w=(D=P.next()).done);w=!0){var S=D.value;e.cashInfo={fundName:S.fundName_cashOutCode,fundCode:S.cashOutCode,fundType:S.cashType_cashOutCode,amntBal:S.thenAmntBalCopy1}}}catch(e){I=!0,x=e}finally{try{!w&&P.return&&P.return()}finally{if(I)throw x}}e.contactInfo={dealerName:s.dealerCreditContactPersonName,dealerMobilePhone:s.dealerCreditContactInformation},e.matterParams={dealerCode:e.dealerInfo.dealerCode,groupId:e.formData.handlerUnit},e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,v.default)({},e.formData,e.handlerDefault,{creator:s.creator,biId:s.biId,biComment:s.biComment}),e.biReferenceId=s.biReferenceId,e.matterList=h,e.orderList=m,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,o.default)({},"DZYHPCGYSYZF_DATA",{matter:this.matterList,dealer:this.dealerInfo,formData:this.formData,contactInfo:this.contactInfo,cashInfo:this.cashInfo})},getRelationData:function(){var e=this,t=this.$route.query.uniqueId;return(0,k.getSOList)({formViewUniqueId:t,transCode:this.relationKey}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i;t.attachment;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var s=r.order,l=(r.dealerDebit,s.dataSet),d=void 0===l?[]:l;d=d.map(function(t){return(0,v.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,transCode:e.relationKey,qtyBal:t.tdQty,tdQty:""})}),e.dealerInfo={creatorName:r.dealerDebitContactPersonName,dealerMobilePhone:r.dealerDebitContactInformation,dealerCode:r.order.dealerDebit,dealerSubclass:r.order.drAccountSub,dealerName:r.order.dealerName_dealerDebit,province:r.order.province_dealerDebit,city:r.order.city_dealerDebit,county:r.order.county_dealerDebit,address:r.order.address_dealerDebit},e.matterParams={dealerCode:e.dealerInfo.dealerCode,groupId:e.formData.handlerUnit},e.matterList=d,e.orderList=(0,o.default)({},e.relationKey,d),e.$loading.hide()})},getMoreUnit:function(e){var t=e.inventoryCode;return(0,L.getObjInvMoreUnitByInvCode)(t).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;e.showDrop=!1,n.forEach(function(e){e.name=e.invSubUnitName,e.value=e.invSubUnitName}),e.moreUnitList=n})},moreUnitClick:function(e){e.showDrop=!e.showDrop},moreUnitSelected:function(e){this.consumables.assMeasureUnit=e.invSubUnitName,this.consumables.assistQty=e.invSubUnitMulti},selCash:function(e){this.cashInfo=e},assembleOrder:function(e){var t=this,a={};e.forEach(function(e){a[e.transCode]||(a[e.transCode]=[]),t.getMoreUnit(e),a[e.transCode].push(e)}),this.orderList=a}},created:function(){var e=sessionStorage.getItem("DZYHPCGYSYZF_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.dealerInfo=t.dealer,this.formData=t.formData,this.contactInfo=t.contactInfo,this.cashInfo=t.cashInfo,this.matterParams={dealerCode:this.dealerInfo.dealerCode,groupId:this.formData.handlerUnit},this.assembleOrder(this.matterList),sessionStorage.removeItem("DZYHPCGYSYZF_DATA")}}}},KEY0:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("lC5x"),o=n(s),l=a("J0Oq"),d=n(l),u=a("ZLEe"),c=n(u),f=a("KH7x"),m=n(f),h=a("3cXf"),v=n(h),p=a("MgeX"),C=n(p),y=a("HzJ8"),_=n(y),g=a("+62G"),b=n(g),w=a("Nk/b"),I=n(w),x=a("7g+Q"),D=n(x),P=a("z5TY"),S=n(P),k=a("wDjS"),L=n(k),N=a("KFOb"),M=n(N),T=a("HXPS"),A=n(T),O=a("BGNQ"),R=n(O),j=a("HyXB"),B=a("h+4q"),E=a("vl8n"),F=n(E),U=a("1KNX"),$=n(U),Q=a("PKHo"),H=n(Q),V=a("5gKc"),q=n(V),Y=a("XgMd"),X=n(Y);t.default={data:function(){return{addressData:M.default,transCode:"",picShow:!1,showPop:!1,imgFileObj:{},biReferenceId:"",MatPic:"",AccountAddress:[],baseinfo:{},warehouse:{warehouseCode:"",warehouseName:"",warehouseType:"",warehousePic:"",staffDealerCode:null,groupCode:null,customerDealerCode:null,processorsDealerCode:"",channelDealerCode:null,warehouseCondtions:"",warehouseProvince:"",warehouseCity:"",warehouseDistrict:"",warehouseAddress:"",warehouseStatus:""},submitSuccess:!1,typeSubMap:{staff:{title:"员工",dealerLabelName:"员工",key:"staffDealerCode",value:"",code:"",list:[]},group:{title:"组织",dealerLabelName:"",key:"groupCode",value:"",code:"",list:[]},customer:{title:"客户",dealerLabelName:"客户",key:"customerDealerCode",value:"",code:"",list:[]},processors:{title:"加工商",dealerLabelName:"加工商",key:"processorsDealerCode",value:"",code:"",list:[]},channel:{title:"渠道商",dealerLabelName:"渠道商",key:"channelDealerCode",value:"",code:"",list:[]},noMatched:{title:"",dealerLabelName:"",key:"",value:"",code:"",list:[]}},typeSub:"group",typeSubValue:"",typeToSubMap:{"配送中心仓":"group","加工商仓":"processors","加工车间仓":"group","客户仓":"customer","渠道商仓":"channel","个人仓":"staff","一般部门仓":"group"},warehouseConfig:[],warehouseDuplicateConfig:[],warehouseDuplicateData:{},currentGroup:"",statusType:[],warehouseStatus:"使用中",showAddress:!1,scrollOptions:{click:!0},viewId:"",hasDefault:!1}},computed:{warehouseType:function(){return this.warehouse.warehouseType},warehouseRel:function(){return this.warehouseDuplicateData.warehouseRel}},directives:{TransferDom:b.default},mixins:[H.default],components:{Picker:I.default,Popup:D.default,Group:S.default,RPicker:F.default,XAddress:L.default,Icon:A.default,UploadImage:q.default,PopWarelabeList:X.default,RScroll:$.default,Cell:R.default},watch:{warehouseType:function(e){if(console.log(this.hasDefault),!this.hasDefault){if(this.typeSubMap[this.typeSub].value="",this.typeSubMap[this.typeSub].list=[],this.typeSub=this.typeToSubMap[e]||"noMatched","noMatched"===this.typeSub)return void("库位"===this.warehouseType&&delete this.warehouseDuplicateData.warehouseRel);this.$set(this.warehouseDuplicateData,"warehouseRel",[]),this.getTypeSubList()}},warehouseRel:{handler:function(e){var t=this;this.hasDefault||e&&e.length&&e.forEach(function(e){if(e.childWarehouseName){var a=!0,n=!1,i=void 0;try{for(var r,s=(0,_.default)(t.warehouseDuplicateConfig);!(a=(r=s.next()).done);a=!0){var o=r.value;if("warehouseRel"===o.name){var l=!0,d=!1,u=void 0;try{for(var c,f=(0,_.default)(o.items);!(l=(c=f.next()).done);l=!0){var m=c.value;if("childWarehouseName"===m.fieldCode){var h=!0,v=!1,p=void 0;try{for(var C,y=(0,_.default)(m.remoteData);!(h=(C=y.next()).done);h=!0){var g=C.value;if(g.warehosueName===e.childWarehouseName){e.childWarehouseCode=g.warehouseCode;break}}}catch(e){v=!0,p=e}finally{try{!h&&y.return&&y.return()}finally{if(v)throw p}}break}}}catch(e){d=!0,u=e}finally{try{!l&&f.return&&f.return()}finally{if(d)throw u}}break}break}}catch(e){n=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}}})},deep:!0}},methods:{onUpload:function(e){this.warehouse.warehousePic=e.src},findData:function(){var e=this;return(0,B.getwarehouseInfo)(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a;t.attachment;e.warehouseDuplicateConfig.forEach(function(t){n[t.name].length&&(e.warehouseDuplicateData[t.name]=n[t.name])});var i=n.baseinfo,r=void 0===i?{}:i,s=n.warehouse,o=void 0===s?{}:s;switch(e.hasDefault=!0,o.warehouseStatus){case 1:e.warehouseStatus="使用中";break;case 2:e.warehouseStatus="未使用";break;case 0:e.warehouseStatus="草稿";break;case-1:e.warehouseStatus="停用"}e.baseinfo=r,e.warehouse=o,e.biReferenceId=e.warehouse.referenceId,e.warehouse.warehousePic?(e.picShow=!0,e.MatPic="/H_roleplay-si/ds/download?url="+e.warehouse.warehousePic+"&width=400&height=400"):(e.picShow=!0,e.getDefaultImg()),e.AccountAddress=[e.warehouse.warehouseProvince,e.warehouse.warehouseCity,e.warehouse.warehouseDistrict];var l=!0,d=!1,u=void 0;try{for(var c,f=(0,_.default)((0,C.default)(e.typeSubMap));!(l=(c=f.next()).done);l=!0){var m=c.value,h=e.warehouse[m.key];if(h){m.code=h;break}}}catch(e){d=!0,u=e}finally{try{!l&&f.return&&f.return()}finally{if(d)throw u}}})},getDefaultImg:function(){this.MatPic=a("CRKs")},changeAddress:function(e,t){this.AccountAddress=t},getAddress:function(){if(this.AccountAddress.length>0){if(this.warehouse.warehouseProvince=this.AccountAddress[0],this.warehouse.warehouseDistrict=this.AccountAddress[2],"市辖区"===this.AccountAddress[1])return void(this.warehouse.warehouseCity="");this.warehouse.warehouseCity=this.AccountAddress[1]}},addMoreUnit:function(e){var t={};e.items.forEach(function(e){t[e.fieldCode]=""}),this.warehouseDuplicateData[e.name].push(t)},deleteMoreUnit:function(e){this.warehouseDuplicateData[e.name].pop()},submit:function(){var e=this;for(var t in this.warehouse)"string"==typeof this.warehouse[t]&&this.warehouse[t].indexOf(" ")>=0&&(this.warehouse[t]=this.warehouse[t].replace(/\s/g,""));this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){switch(e.warehouseStatus){case"使用中":e.warehouse.warehouseStatus=1;break;case"未使用":e.warehouse.warehouseStatus=2;break;case"草稿":e.warehouse.warehouseStatus=0;break;case"停用":e.warehouse.warehouseStatus=-1}e.warehouse.status&&delete e.warehouse.status;var t=B.save,a={listId:"64a41c48-4e8d-4709-bd01-5d60ad6bc625",formData:{baseinfo:e.baseinfo,warehouse:e.warehouse}};e.transCode&&(t=B.update);var n=!0,i=!1,r=void 0;try{for(var s,o=(0,_.default)((0,C.default)(e.typeSubMap));!(n=(s=o.next()).done);n=!0){var l=s.value;if("break"===function(t){if(t.value){var a=t.list.filter(function(e){return t.value===e.value}),n=(0,m.default)(a,1),i=n[0],r=void 0===i?{}:i;return e.warehouse[t.key]=r.code,"break"}}(l))break}}catch(e){i=!0,r=e}finally{try{!n&&o.return&&o.return()}finally{if(i)throw r}}e.warehouseDuplicateConfig.length&&e.warehouseDuplicateConfig.forEach(function(t){e.warehouseDuplicateData[t.name].length&&(a.formData[t.name]=e.warehouseDuplicateData[t.name])}),t(a).then(function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a.success,i=void 0!==n&&n,r=a.message,s=void 0===r?"提交失败":r;i&&(s=t===B.update?"修改成功":"提交成功",e.submitSuccess=!0,e.transCode||""+e.$route.query.add!="1"||sessionStorage.setItem("EDIT_WAREHOUSE_TRANSCODE",(0,v.default)({transCode:a.transCode}))),e.$vux.alert.show({content:s,onHide:function(){i&&e.$router.go(-1)}})})}})},save:function(){var e=this,t="";if([{key:"warehouseCode",message:"【仓库编码】"},{key:"warehouseName",message:"【仓库名称】"},{key:"warehouseType",message:"【仓库类型】"}].every(function(a){return""!==e.warehouse[a.key]||(t=a.message+"不能为空",!1)}),!t&&(0,c.default)(this.warehouseDuplicateData).length&&(0,c.default)(this.warehouseDuplicateData).forEach(function(a){if(e.warehouseDuplicateData[a].length<=0)return!1;e.warehouseDuplicateConfig.forEach(function(n){n.name===a&&n.items.forEach(function(n){e.warehouseDuplicateData[a].forEach(function(e){if(!n.allowBlank&&!e[n.fieldCode])return t=n.text+"不能为空",!1})})})}),t)return void this.$vux.alert.show({content:t});this.submit()},selGroup:function(e){this.typeSubMap[this.typeSub].value=e},getTypeSubList:function(e){var t=this,a=[];e&&(a=[{operator:"like",value:e,property:"GROUP_NAME"}]);var n=this.typeSubMap[this.typeSub];switch(this.typeSub){case"group":return(0,B.getDepartMentWage)({filter:(0,v.default)(a)}).then(function(e){var a=e.tableContent,i=void 0===a?[]:a;i.forEach(function(e){e.name=e.GROUP_NAME,e.value=e.GROUP_NAME,e.code=e.GROUP_CODE,e.code===n.code&&(t.typeSubMap[t.typeSub].value=e.value)}),t.typeSubMap[t.typeSub].list=i,t.typeSubMap[t.typeSub].code=""});case"staff":case"customer":case"processors":case"channel":return e&&(a[0].property="dealerName"),(0,j.getObjDealerByLabelName)({dealerLabelName:n.dealerLabelName,filter:(0,v.default)(a)}).then(function(e){var a=e.tableContent,i=void 0===a?[]:a;i.forEach(function(e){e.name=e.dealerName,e.value=e.dealerName,e.code=e.dealerCode,e.code===n.code&&(t.typeSubMap[t.typeSub].value=e.value)}),t.typeSubMap[t.typeSub].code="",t.typeSubMap[t.typeSub].list=i})}},handlerParams:function(e){var t=e.dataSource.data.url,a=e.dataSource.data.params,n=(0,c.default)(a),i={url:t};if(n.length){var r={};n.forEach(function(e){r[e]="text"===a[e].type?a[e].value:""}),i.data=r}return i},getFormViews:function(){var e=this;return(0,j.getFormViews)("64a41c48-4e8d-4709-bd01-5d60ad6bc625").then(function(t){var a=!0,n=!1,i=void 0;try{for(var r,s=(0,_.default)(t);!(a=(r=s.next()).done);a=!0){var o=r.value;if("submit"===o.viewType){e.viewId=o.uniqueId;break}}}catch(e){n=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}})},getFormConfig:function(){var e=this;(0,j.getFormConfig)(this.viewId).then(function(t){var a=t.config,n=void 0===a?[]:a,i=[],r=[];n.forEach(function(e){e.isMultiple?e.hiddenInRun||"r2Fileupload"===e.xtype||r.push(JSON.parse((0,v.default)(e))):i=JSON.parse((0,v.default)(e.items))}),i.forEach(function(t){"groupCode"!==t.fieldCode&&"customerDealerCode"!==t.fieldCode&&"customerDealerCode"!==t.fieldCode&&"processorsDealerCode"!==t.fieldCode&&"channelDealerCode"!==t.fieldCode||(t.hiddenInRun=!0),t.hiddenInRun||("warehouseProvince"!==t.fieldCode&&"warehouseCity"!==t.fieldCode&&"warehouseDistrict"!==t.fieldCode&&"r2Combo"===t.xtype&&t.dataSource&&"remoteData"===t.dataSource.type&&(0,j.requestData)(e.handlerParams(t)).then(function(a){a.tableContent?(a.tableContent.forEach(function(e){e.value=e.name}),"warehouseType"===t.fieldCode&&(e.$route.query.transCode||(e.warehouse.warehouseType=e.$route.query.warehouseType?e.$route.query.warehouseType:a.tableContent[0].value)),e.$set(t,"remoteData",a.tableContent)):(a.forEach(function(e){e.value=e.name}),e.$set(t,"remoteData",a))}),"warehouseCode"!==t.fieldCode&&"warehouseName"!==t.fieldCode&&"warehousePic"!==t.fieldCode&&"warehouseCity"!==t.fieldCode&&"warehouseDistrict"!==t.fieldCode&&e.warehouseConfig.push(t))}),r.forEach(function(t){switch(t.name){case"warehouseRel":t.title="库位"}var a=[];t.items.forEach(function(t,n){t.hidden||("r2Combo"!==t.editorType&&"r2Selector"!==t.editorType||!t.dataSource||"remoteData"!==t.dataSource.type||(0,j.requestData)(e.handlerParams(t)).then(function(a){a.tableContent?(a.tableContent.forEach(function(e){if(e.warehosueName)return e.value=e.warehosueName,void(e.name=e.warehosueName);e.value=e.name}),e.$set(t,"remoteData",a.tableContent)):(a.forEach(function(e){e.value=e.name}),e.$set(t,"remoteData",a))}),a.push(t))}),t.items=a,e.$set(e.warehouseDuplicateData,t.name,[])}),e.warehouseDuplicateConfig=r,e.$loading.hide()})}},beforeRouteLeave:function(e,t,a){var n=e.path;this.submitSuccess&&"/warehouse"===n&&(e.meta.reload=!0),a()},created:function(){var e=this;this.$loading.show();var t=this.$route.query;if(t.transCode)return this.transCode=t.transCode,this.isClearData=!1,void(0,d.default)(o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getFormViews();case 2:return t.next=4,e.getFormConfig();case 4:return t.next=6,e.findData();case 6:e.hasDefault=!1;case 7:case"end":return t.stop()}},t,e)}))();(0,d.default)(o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(0,j.getBaseInfoDataBase)().then(function(t){e.baseinfo=(0,r.default)({},e.baseinfo,t)}),t.next=3,e.getFormViews();case 3:return t.next=5,e.getFormConfig();case 5:case"end":return t.stop()}},t,e)}))(),this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},beforeRouteEnter:function(e,t,a){e.meta.title="新增仓库",e.query.transCode&&(e.meta.title="编辑仓库"),a()}}},KFOb:function(e,t){e.exports=[{name:"北京市",value:"110000"},{name:"天津市",value:"120000"},{name:"河北省",value:"130000"},{name:"山西省",value:"140000"},{name:"内蒙古自治区",value:"150000"},{name:"辽宁省",value:"210000"},{name:"吉林省",value:"220000"},{name:"黑龙江省",value:"230000"},{name:"上海市",value:"310000"},{name:"江苏省",value:"320000"},{name:"浙江省",value:"330000"},{name:"安徽省",value:"340000"},{name:"福建省",value:"350000"},{name:"江西省",value:"360000"},{name:"山东省",value:"370000"},{name:"河南省",value:"410000"},{name:"湖北省",value:"420000"},{name:"湖南省",value:"430000"},{name:"广东省",value:"440000"},{name:"广西壮族自治区",value:"450000"},{name:"海南省",value:"460000"},{name:"重庆市",value:"500000"},{name:"四川省",value:"510000"},{name:"贵州省",value:"520000"},{name:"云南省",value:"530000"},{name:"西藏自治区",value:"540000"},{name:"陕西省",value:"610000"},{name:"甘肃省",value:"620000"},{name:"青海省",value:"630000"},{name:"宁夏回族自治区",value:"640000"},{name:"新疆维吾尔自治区",value:"650000"},{name:"市辖区",value:"110100",parent:"110000"},{name:"东城区",value:"110101",parent:"110100"},{name:"西城区",value:"110102",parent:"110100"},{name:"朝阳区",value:"110105",parent:"110100"},{name:"丰台区",value:"110106",parent:"110100"},{name:"石景山区",value:"110107",parent:"110100"},{name:"海淀区",value:"110108",parent:"110100"},{name:"门头沟区",value:"110109",parent:"110100"},{name:"房山区",value:"110111",parent:"110100"},{name:"通州区",value:"110112",parent:"110100"},{name:"顺义区",value:"110113",parent:"110100"},{name:"昌平区",value:"110114",parent:"110100"},{name:"大兴区",value:"110115",parent:"110100"},{name:"怀柔区",value:"110116",parent:"110100"},{name:"平谷区",value:"110117",parent:"110100"},{name:"密云区",value:"110118",parent:"110100"},{name:"延庆区",value:"110119",parent:"110100"},{name:"市辖区",value:"120100",parent:"120000"},{name:"和平区",value:"120101",parent:"120100"},{name:"河东区",value:"120102",parent:"120100"},{name:"河西区",value:"120103",parent:"120100"},{name:"南开区",value:"120104",parent:"120100"},{name:"河北区",value:"120105",parent:"120100"},{name:"红桥区",value:"120106",parent:"120100"},{name:"东丽区",value:"120110",parent:"120100"},{name:"西青区",value:"120111",parent:"120100"},{name:"津南区",value:"120112",parent:"120100"},{name:"北辰区",value:"120113",parent:"120100"},{name:"武清区",value:"120114",parent:"120100"},{name:"宝坻区",value:"120115",parent:"120100"},{name:"滨海新区",value:"120116",parent:"120100"},{name:"宁河区",value:"120117",parent:"120100"},{name:"静海区",value:"120118",parent:"120100"},{name:"蓟州区",value:"120119",parent:"120100"},{name:"石家庄市",value:"130100",parent:"130000"},{name:"唐山市",value:"130200",parent:"130000"},{name:"秦皇岛市",value:"130300",parent:"130000"},{name:"邯郸市",value:"130400",parent:"130000"},{name:"邢台市",value:"130500",parent:"130000"},{name:"保定市",value:"130600",parent:"130000"},{name:"张家口市",value:"130700",parent:"130000"},{name:"承德市",value:"130800",parent:"130000"},{name:"沧州市",value:"130900",parent:"130000"},{name:"廊坊市",value:"131000",parent:"130000"},{name:"衡水市",value:"131100",parent:"130000"},{name:"定州市",value:"139001",parent:"130000"},{name:"辛集市",value:"139002",parent:"130000"},{name:"长安区",value:"130102",parent:"130100"},{name:"桥西区",value:"130104",parent:"130100"},{name:"新华区",value:"130105",parent:"130100"},{name:"井陉矿区",value:"130107",parent:"130100"},{name:"裕华区",value:"130108",parent:"130100"},{name:"藁城区",value:"130109",parent:"130100"},{name:"鹿泉区",value:"130110",parent:"130100"},{name:"栾城区",value:"130111",parent:"130100"},{name:"井陉县",value:"130121",parent:"130100"},{name:"正定县",value:"130123",parent:"130100"},{name:"行唐县",value:"130125",parent:"130100"},{name:"灵寿县",value:"130126",parent:"130100"},{name:"高邑县",value:"130127",parent:"130100"},{name:"深泽县",value:"130128",parent:"130100"},{name:"赞皇县",value:"130129",parent:"130100"},{name:"无极县",value:"130130",parent:"130100"},{name:"平山县",value:"130131",parent:"130100"},{name:"元氏县",value:"130132",parent:"130100"},{name:"赵县",value:"130133",parent:"130100"},{name:"晋州市",value:"130183",parent:"130100"},{name:"新乐市",value:"130184",parent:"130100"},{name:"路南区",value:"130202",parent:"130200"},{name:"路北区",value:"130203",parent:"130200"},{name:"古冶区",value:"130204",parent:"130200"},{name:"开平区",value:"130205",parent:"130200"},{name:"丰南区",value:"130207",parent:"130200"},{name:"丰润区",value:"130208",parent:"130200"},{name:"曹妃甸区",value:"130209",parent:"130200"},{name:"滦县",value:"130223",parent:"130200"},{name:"滦南县",value:"130224",parent:"130200"},{name:"乐亭县",value:"130225",parent:"130200"},{name:"迁西县",value:"130227",parent:"130200"},{name:"玉田县",value:"130229",parent:"130200"},{name:"遵化市",value:"130281",parent:"130200"},{name:"迁安市",value:"130283",parent:"130200"},{name:"海港区",value:"130302",parent:"130300"},{name:"山海关区",value:"130303",parent:"130300"},{name:"北戴河区",value:"130304",parent:"130300"},{name:"抚宁区",value:"130306",parent:"130300"},{name:"青龙满族自治县",value:"130321",parent:"130300"},{name:"昌黎县",value:"130322",parent:"130300"},{name:"卢龙县",value:"130324",parent:"130300"},{name:"邯山区",value:"130402",parent:"130400"},{name:"丛台区",value:"130403",parent:"130400"},{name:"复兴区",value:"130404",parent:"130400"},{name:"峰峰矿区",value:"130406",parent:"130400"},{name:"邯郸县",value:"130421",parent:"130400"},{name:"临漳县",value:"130423",parent:"130400"},{name:"成安县",value:"130424",parent:"130400"},{name:"大名县",value:"130425",parent:"130400"},{name:"涉县",value:"130426",parent:"130400"},{name:"磁县",value:"130427",parent:"130400"},{name:"肥乡县",value:"130428",parent:"130400"},{name:"永年县",value:"130429",parent:"130400"},{name:"邱县",value:"130430",parent:"130400"},{name:"鸡泽县",value:"130431",parent:"130400"},{name:"广平县",value:"130432",parent:"130400"},{name:"馆陶县",value:"130433",parent:"130400"},{name:"魏县",value:"130434",parent:"130400"},{name:"曲周县",value:"130435",parent:"130400"},{name:"武安市",value:"130481",parent:"130400"},{name:"桥东区",value:"130502",parent:"130500"},{name:"桥西区",value:"130503",parent:"130500"},{name:"邢台县",value:"130521",parent:"130500"},{name:"临城县",value:"130522",parent:"130500"},{name:"内丘县",value:"130523",parent:"130500"},{name:"柏乡县",value:"130524",parent:"130500"},{name:"隆尧县",value:"130525",parent:"130500"},{name:"任县",value:"130526",parent:"130500"},{name:"南和县",value:"130527",parent:"130500"},{name:"宁晋县",value:"130528",parent:"130500"},{name:"巨鹿县",value:"130529",parent:"130500"},{name:"新河县",value:"130530",parent:"130500"},{name:"广宗县",value:"130531",parent:"130500"},{name:"平乡县",value:"130532",parent:"130500"},{name:"威县",value:"130533",parent:"130500"},{name:"清河县",value:"130534",parent:"130500"},{name:"临西县",value:"130535",parent:"130500"},{name:"南宫市",value:"130581",parent:"130500"},{name:"沙河市",value:"130582",parent:"130500"},{name:"竞秀区",value:"130602",parent:"130600"},{name:"莲池区",value:"130606",parent:"130600"},{name:"满城区",value:"130607",parent:"130600"},{name:"清苑区",value:"130608",parent:"130600"},{name:"徐水区",value:"130609",parent:"130600"},{name:"涞水县",value:"130623",parent:"130600"},{name:"阜平县",value:"130624",parent:"130600"},{name:"定兴县",value:"130626",parent:"130600"},{name:"唐县",value:"130627",parent:"130600"},{name:"高阳县",value:"130628",parent:"130600"},{name:"容城县",value:"130629",parent:"130600"},{name:"涞源县",value:"130630",parent:"130600"},{name:"望都县",value:"130631",parent:"130600"},{name:"安新县",value:"130632",parent:"130600"},{name:"易县",value:"130633",parent:"130600"},{name:"曲阳县",value:"130634",parent:"130600"},{name:"蠡县",value:"130635",parent:"130600"},{name:"顺平县",value:"130636",parent:"130600"},{name:"博野县",value:"130637",parent:"130600"},{name:"雄县",value:"130638",parent:"130600"},{name:"涿州市",value:"130681",parent:"130600"},{name:"安国市",value:"130683",parent:"130600"},{name:"高碑店市",value:"130684",parent:"130600"},{name:"桥东区",value:"130702",parent:"130700"},{name:"桥西区",value:"130703",parent:"130700"},{name:"宣化区",value:"130705",parent:"130700"},{name:"下花园区",value:"130706",parent:"130700"},{name:"万全区",value:"130708",parent:"130700"},{name:"崇礼区",value:"130709",parent:"130700"},{name:"张北县",value:"130722",parent:"130700"},{name:"康保县",value:"130723",parent:"130700"},{name:"沽源县",value:"130724",parent:"130700"},{name:"尚义县",value:"130725",parent:"130700"},{name:"蔚县",value:"130726",parent:"130700"},{name:"阳原县",value:"130727",parent:"130700"},{name:"怀安县",value:"130728",parent:"130700"},{name:"怀来县",value:"130730",parent:"130700"},{name:"涿鹿县",value:"130731",parent:"130700"},{name:"赤城县",value:"130732",parent:"130700"},{name:"双桥区",value:"130802",parent:"130800"},{name:"双滦区",value:"130803",parent:"130800"},{name:"鹰手营子矿区",value:"130804",parent:"130800"},{name:"承德县",value:"130821",parent:"130800"},{name:"兴隆县",value:"130822",parent:"130800"},{name:"平泉县",value:"130823",parent:"130800"},{name:"滦平县",value:"130824",parent:"130800"},{name:"隆化县",value:"130825",parent:"130800"},{name:"丰宁满族自治县",value:"130826",parent:"130800"},{name:"宽城满族自治县",value:"130827",parent:"130800"},{name:"围场满族蒙古族自治县",value:"130828",parent:"130800"},{name:"新华区",value:"130902",parent:"130900"},{name:"运河区",value:"130903",parent:"130900"},{name:"沧县",value:"130921",parent:"130900"},{name:"青县",value:"130922",parent:"130900"},{name:"东光县",value:"130923",parent:"130900"},{name:"海兴县",value:"130924",parent:"130900"},{name:"盐山县",value:"130925",parent:"130900"},{name:"肃宁县",value:"130926",parent:"130900"},{name:"南皮县",value:"130927",parent:"130900"},{name:"吴桥县",value:"130928",parent:"130900"},{name:"献县",value:"130929",parent:"130900"},{name:"孟村回族自治县",value:"130930",parent:"130900"},{name:"泊头市",value:"130981",parent:"130900"},{name:"任丘市",value:"130982",parent:"130900"},{name:"黄骅市",value:"130983",parent:"130900"},{name:"河间市",value:"130984",parent:"130900"},{name:"安次区",value:"131002",parent:"131000"},{name:"广阳区",value:"131003",parent:"131000"},{name:"固安县",value:"131022",parent:"131000"},{name:"永清县",value:"131023",parent:"131000"},{name:"香河县",value:"131024",parent:"131000"},{name:"大城县",value:"131025",parent:"131000"},{name:"文安县",value:"131026",parent:"131000"},{name:"大厂回族自治县",value:"131028",parent:"131000"},{name:"霸州市",value:"131081",parent:"131000"},{name:"三河市",value:"131082",parent:"131000"},{name:"桃城区",value:"131102",parent:"131100"},{name:"冀州区",value:"131103",parent:"131100"},{name:"枣强县",value:"131121",parent:"131100"},{name:"武邑县",value:"131122",parent:"131100"},{name:"武强县",value:"131123",parent:"131100"},{name:"饶阳县",value:"131124",parent:"131100"},{name:"安平县",value:"131125",parent:"131100"},{name:"故城县",value:"131126",parent:"131100"},{name:"景县",value:"131127",parent:"131100"},{name:"阜城县",value:"131128",parent:"131100"},{name:"深州市",value:"131182",parent:"131100"},{name:"太原市",value:"140100",parent:"140000"},{name:"大同市",value:"140200",parent:"140000"},{name:"阳泉市",value:"140300",parent:"140000"},{name:"长治市",value:"140400",parent:"140000"},{name:"晋城市",value:"140500",parent:"140000"},{name:"朔州市",value:"140600",parent:"140000"},{name:"晋中市",value:"140700",parent:"140000"},{name:"运城市",value:"140800",parent:"140000"},{name:"忻州市",value:"140900",parent:"140000"},{name:"临汾市",value:"141000",parent:"140000"},{name:"吕梁市",value:"141100",parent:"140000"},{name:"小店区",value:"140105",parent:"140100"},{name:"迎泽区",value:"140106",parent:"140100"},{name:"杏花岭区",value:"140107",parent:"140100"},{name:"尖草坪区",value:"140108",parent:"140100"},{name:"万柏林区",value:"140109",parent:"140100"},{name:"晋源区",value:"140110",parent:"140100"},{name:"清徐县",value:"140121",parent:"140100"},{name:"阳曲县",value:"140122",parent:"140100"},{name:"娄烦县",value:"140123",parent:"140100"},{name:"古交市",value:"140181",parent:"140100"},{name:"城区",value:"140202",parent:"140200"},{name:"矿区",value:"140203",parent:"140200"},{name:"南郊区",value:"140211",parent:"140200"},{name:"新荣区",value:"140212",parent:"140200"},{name:"阳高县",value:"140221",parent:"140200"},{name:"天镇县",value:"140222",parent:"140200"},{name:"广灵县",value:"140223",parent:"140200"},{name:"灵丘县",value:"140224",parent:"140200"},{name:"浑源县",value:"140225",parent:"140200"},{name:"左云县",value:"140226",parent:"140200"},{name:"大同县",value:"140227",parent:"140200"},{name:"城区",value:"140302",parent:"140300"},{name:"矿区",value:"140303",parent:"140300"},{name:"郊区",value:"140311",parent:"140300"},{name:"平定县",value:"140321",parent:"140300"},{name:"盂县",value:"140322",parent:"140300"},{name:"城区",value:"140402",parent:"140400"},{name:"郊区",value:"140411",parent:"140400"},{name:"长治县",value:"140421",parent:"140400"},{name:"襄垣县",value:"140423",parent:"140400"},{name:"屯留县",value:"140424",parent:"140400"},{name:"平顺县",value:"140425",parent:"140400"},{name:"黎城县",value:"140426",parent:"140400"},{name:"壶关县",value:"140427",parent:"140400"},{name:"长子县",value:"140428",parent:"140400"},{name:"武乡县",value:"140429",parent:"140400"},{name:"沁县",value:"140430",parent:"140400"},{name:"沁源县",value:"140431",parent:"140400"},{name:"潞城市",value:"140481",parent:"140400"},{name:"城区",value:"140502",parent:"140500"},{name:"沁水县",value:"140521",parent:"140500"},{name:"阳城县",value:"140522",parent:"140500"},{name:"陵川县",value:"140524",parent:"140500"},{name:"泽州县",value:"140525",parent:"140500"},{name:"高平市",value:"140581",parent:"140500"},{name:"朔城区",value:"140602",parent:"140600"},{name:"平鲁区",value:"140603",parent:"140600"},{name:"山阴县",value:"140621",parent:"140600"},{name:"应县",value:"140622",parent:"140600"},{name:"右玉县",value:"140623",parent:"140600"},{name:"怀仁县",value:"140624",parent:"140600"},{name:"榆次区",value:"140702",parent:"140700"},{name:"榆社县",value:"140721",parent:"140700"},{name:"左权县",value:"140722",parent:"140700"},{name:"和顺县",value:"140723",parent:"140700"},{name:"昔阳县",value:"140724",parent:"140700"},{name:"寿阳县",value:"140725",parent:"140700"},{name:"太谷县",value:"140726",parent:"140700"},{name:"祁县",value:"140727",parent:"140700"},{name:"平遥县",value:"140728",parent:"140700"},{name:"灵石县",value:"140729",parent:"140700"},{name:"介休市",value:"140781",parent:"140700"},{name:"盐湖区",value:"140802",parent:"140800"},{name:"临猗县",value:"140821",parent:"140800"},{name:"万荣县",value:"140822",parent:"140800"},{name:"闻喜县",value:"140823",parent:"140800"},{name:"稷山县",value:"140824",parent:"140800"},{name:"新绛县",value:"140825",parent:"140800"},{name:"绛县",value:"140826",parent:"140800"},{name:"垣曲县",value:"140827",parent:"140800"},{name:"夏县",value:"140828",parent:"140800"},{name:"平陆县",value:"140829",parent:"140800"},{name:"芮城县",value:"140830",parent:"140800"},{name:"永济市",value:"140881",parent:"140800"},{name:"河津市",value:"140882",parent:"140800"},{name:"忻府区",value:"140902",parent:"140900"},{name:"定襄县",value:"140921",parent:"140900"},{name:"五台县",value:"140922",parent:"140900"},{name:"代县",value:"140923",parent:"140900"},{name:"繁峙县",value:"140924",parent:"140900"},{name:"宁武县",value:"140925",parent:"140900"},{name:"静乐县",value:"140926",parent:"140900"},{name:"神池县",value:"140927",parent:"140900"},{name:"五寨县",value:"140928",parent:"140900"},{name:"岢岚县",value:"140929",parent:"140900"},{name:"河曲县",value:"140930",parent:"140900"},{name:"保德县",value:"140931",parent:"140900"},{name:"偏关县",value:"140932",parent:"140900"},{name:"原平市",value:"140981",parent:"140900"},{name:"尧都区",value:"141002",parent:"141000"},{name:"曲沃县",value:"141021",parent:"141000"},{name:"翼城县",value:"141022",parent:"141000"},{name:"襄汾县",value:"141023",parent:"141000"},{name:"洪洞县",value:"141024",parent:"141000"},{name:"古县",value:"141025",parent:"141000"},{name:"安泽县",value:"141026",parent:"141000"},{name:"浮山县",value:"141027",parent:"141000"},{name:"吉县",value:"141028",parent:"141000"},{name:"乡宁县",value:"141029",parent:"141000"},{name:"大宁县",value:"141030",parent:"141000"},{name:"隰县",value:"141031",parent:"141000"},{name:"永和县",value:"141032",parent:"141000"},{name:"蒲县",value:"141033",parent:"141000"},{name:"汾西县",value:"141034",parent:"141000"},{name:"侯马市",value:"141081",parent:"141000"},{name:"霍州市",value:"141082",parent:"141000"},{name:"离石区",value:"141102",parent:"141100"},{name:"文水县",value:"141121",parent:"141100"},{name:"交城县",value:"141122",parent:"141100"},{name:"兴县",value:"141123",parent:"141100"},{name:"临县",value:"141124",parent:"141100"},{name:"柳林县",value:"141125",parent:"141100"},{name:"石楼县",value:"141126",parent:"141100"},{name:"岚县",value:"141127",parent:"141100"},{name:"方山县",value:"141128",parent:"141100"},{name:"中阳县",value:"141129",parent:"141100"},{name:"交口县",value:"141130",parent:"141100"},{name:"孝义市",value:"141181",parent:"141100"},{name:"汾阳市",value:"141182",parent:"141100"},{name:"呼和浩特市",value:"150100",parent:"150000"},{name:"包头市",value:"150200",parent:"150000"},{name:"乌海市",value:"150300",parent:"150000"},{name:"赤峰市",value:"150400",parent:"150000"},{name:"通辽市",value:"150500",parent:"150000"},{name:"鄂尔多斯市",value:"150600",parent:"150000"},{name:"呼伦贝尔市",value:"150700",parent:"150000"},{name:"巴彦淖尔市",value:"150800",parent:"150000"},{name:"乌兰察布市",value:"150900",parent:"150000"},{name:"兴安盟",value:"152200",parent:"150000"},{name:"锡林郭勒盟",value:"152500",parent:"150000"},{name:"阿拉善盟",value:"152900",parent:"150000"},{name:"新城区",value:"150102",parent:"150100"},{name:"回民区",value:"150103",parent:"150100"},{name:"玉泉区",value:"150104",parent:"150100"},{name:"赛罕区",value:"150105",parent:"150100"},{name:"土默特左旗",value:"150121",parent:"150100"},{name:"托克托县",value:"150122",parent:"150100"},{name:"和林格尔县",value:"150123",parent:"150100"},{name:"清水河县",value:"150124",parent:"150100"},{name:"武川县",value:"150125",parent:"150100"},{name:"东河区",value:"150202",parent:"150200"},{name:"昆都仑区",value:"150203",parent:"150200"},{name:"青山区",value:"150204",parent:"150200"},{name:"石拐区",value:"150205",parent:"150200"},{name:"白云鄂博矿区",value:"150206",parent:"150200"},{name:"九原区",value:"150207",parent:"150200"},{name:"土默特右旗",value:"150221",parent:"150200"},{name:"固阳县",value:"150222",parent:"150200"},{name:"达尔罕茂明安联合旗",value:"150223",parent:"150200"},{name:"海勃湾区",value:"150302",parent:"150300"},{name:"海南区",value:"150303",parent:"150300"},{name:"乌达区",value:"150304",parent:"150300"},{name:"红山区",value:"150402",parent:"150400"},{name:"元宝山区",value:"150403",parent:"150400"},{name:"松山区",value:"150404",parent:"150400"},{name:"阿鲁科尔沁旗",value:"150421",parent:"150400"},{name:"巴林左旗",value:"150422",parent:"150400"},{name:"巴林右旗",value:"150423",parent:"150400"},{name:"林西县",value:"150424",parent:"150400"},{name:"克什克腾旗",value:"150425",parent:"150400"},{name:"翁牛特旗",value:"150426",parent:"150400"},{name:"喀喇沁旗",value:"150428",parent:"150400"},{name:"宁城县",value:"150429",parent:"150400"},{name:"敖汉旗",value:"150430",parent:"150400"},{name:"科尔沁区",value:"150502",parent:"150500"},{name:"科尔沁左翼中旗",value:"150521",parent:"150500"},{name:"科尔沁左翼后旗",value:"150522",parent:"150500"},{name:"开鲁县",value:"150523",parent:"150500"},{name:"库伦旗",value:"150524",parent:"150500"},{name:"奈曼旗",value:"150525",parent:"150500"},{name:"扎鲁特旗",value:"150526",parent:"150500"},{name:"霍林郭勒市",value:"150581",parent:"150500"},{name:"东胜区",value:"150602",parent:"150600"},{name:"康巴什区",value:"150603",parent:"150600"},{name:"达拉特旗",value:"150621",parent:"150600"},{name:"准格尔旗",value:"150622",parent:"150600"},{name:"鄂托克前旗",value:"150623",parent:"150600"},{name:"鄂托克旗",value:"150624",parent:"150600"},{name:"杭锦旗",value:"150625",parent:"150600"},{name:"乌审旗",value:"150626",parent:"150600"},{name:"伊金霍洛旗",value:"150627",parent:"150600"},{name:"海拉尔区",value:"150702",parent:"150700"},{name:"扎赉诺尔区",value:"150703",parent:"150700"},{name:"阿荣旗",value:"150721",parent:"150700"},{name:"莫力达瓦达斡尔族自治旗",value:"150722",parent:"150700"},{name:"鄂伦春自治旗",value:"150723",parent:"150700"},{name:"鄂温克族自治旗",value:"150724",parent:"150700"},{name:"陈巴尔虎旗",value:"150725",parent:"150700"},{name:"新巴尔虎左旗",value:"150726",parent:"150700"},{name:"新巴尔虎右旗",value:"150727",parent:"150700"},{name:"满洲里市",value:"150781",parent:"150700"},{name:"牙克石市",value:"150782",parent:"150700"},{name:"扎兰屯市",value:"150783",parent:"150700"},{name:"额尔古纳市",value:"150784",parent:"150700"},{name:"根河市",value:"150785",parent:"150700"},{name:"临河区",value:"150802",parent:"150800"},{name:"五原县",value:"150821",parent:"150800"},{name:"磴口县",value:"150822",parent:"150800"},{name:"乌拉特前旗",value:"150823",parent:"150800"},{name:"乌拉特中旗",value:"150824",parent:"150800"},{name:"乌拉特后旗",value:"150825",parent:"150800"},{name:"杭锦后旗",value:"150826",parent:"150800"},{name:"集宁区",value:"150902",parent:"150900"},{name:"卓资县",value:"150921",parent:"150900"},{name:"化德县",value:"150922",parent:"150900"},{name:"商都县",value:"150923",parent:"150900"},{name:"兴和县",value:"150924",parent:"150900"},{name:"凉城县",value:"150925",parent:"150900"},{name:"察哈尔右翼前旗",value:"150926",parent:"150900"},{name:"察哈尔右翼中旗",value:"150927",parent:"150900"},{name:"察哈尔右翼后旗",value:"150928",parent:"150900"},{name:"四子王旗",value:"150929",parent:"150900"},{name:"丰镇市",value:"150981",parent:"150900"},{name:"乌兰浩特市",value:"152201",parent:"152200"},{name:"阿尔山市",value:"152202",parent:"152200"},{name:"科尔沁右翼前旗",value:"152221",parent:"152200"},{name:"科尔沁右翼中旗",value:"152222",parent:"152200"},{name:"扎赉特旗",value:"152223",parent:"152200"},{name:"突泉县",value:"152224",parent:"152200"},{name:"二连浩特市",value:"152501",parent:"152500"},{name:"锡林浩特市",value:"152502",parent:"152500"},{name:"阿巴嘎旗",value:"152522",parent:"152500"},{name:"苏尼特左旗",value:"152523",parent:"152500"},{name:"苏尼特右旗",value:"152524",parent:"152500"},{name:"东乌珠穆沁旗",value:"152525",parent:"152500"},{name:"西乌珠穆沁旗",value:"152526",parent:"152500"},{name:"太仆寺旗",value:"152527",parent:"152500"},{name:"镶黄旗",value:"152528",parent:"152500"},{name:"正镶白旗",value:"152529",parent:"152500"},{name:"正蓝旗",value:"152530",parent:"152500"},{name:"多伦县",value:"152531",parent:"152500"},{name:"阿拉善左旗",value:"152921",parent:"152900"},{name:"阿拉善右旗",value:"152922",parent:"152900"},{name:"额济纳旗",value:"152923",parent:"152900"},{name:"沈阳市",value:"210100",parent:"210000"},{name:"大连市",value:"210200",parent:"210000"},{name:"鞍山市",value:"210300",parent:"210000"},{name:"抚顺市",value:"210400",parent:"210000"},{name:"本溪市",value:"210500",parent:"210000"},{name:"丹东市",value:"210600",parent:"210000"},{name:"锦州市",value:"210700",parent:"210000"},{name:"营口市",value:"210800",parent:"210000"},{name:"阜新市",value:"210900",parent:"210000"},{name:"辽阳市",value:"211000",parent:"210000"},{name:"盘锦市",value:"211100",parent:"210000"},{name:"铁岭市",value:"211200",parent:"210000"},{name:"朝阳市",value:"211300",parent:"210000"},{name:"葫芦岛市",value:"211400",parent:"210000"},{name:"和平区",value:"210102",parent:"210100"},{name:"沈河区",value:"210103",parent:"210100"},{name:"大东区",value:"210104",parent:"210100"},{name:"皇姑区",value:"210105",parent:"210100"},{name:"铁西区",value:"210106",parent:"210100"},{name:"苏家屯区",value:"210111",parent:"210100"},{name:"浑南区",value:"210112",parent:"210100"},{name:"沈北新区",value:"210113",parent:"210100"},{name:"于洪区",value:"210114",parent:"210100"},{name:"辽中区",value:"210115",parent:"210100"},{name:"康平县",value:"210123",parent:"210100"},{name:"法库县",value:"210124",parent:"210100"},{name:"新民市",value:"210181",parent:"210100"},{name:"中山区",value:"210202",parent:"210200"},{name:"西岗区",value:"210203",parent:"210200"},{name:"沙河口区",value:"210204",parent:"210200"},{name:"甘井子区",value:"210211",parent:"210200"},{name:"旅顺口区",value:"210212",parent:"210200"},{name:"金州区",value:"210213",parent:"210200"},{name:"普兰店区",value:"210214",parent:"210200"},{name:"长海县",value:"210224",parent:"210200"},{name:"瓦房店市",value:"210281",parent:"210200"},{name:"庄河市",value:"210283",parent:"210200"},{name:"铁东区",value:"210302",parent:"210300"},{name:"铁西区",value:"210303",parent:"210300"},{name:"立山区",value:"210304",parent:"210300"},{name:"千山区",value:"210311",parent:"210300"},{name:"台安县",value:"210321",parent:"210300"},{name:"岫岩满族自治县",value:"210323",parent:"210300"},{name:"海城市",value:"210381",parent:"210300"},{name:"新抚区",value:"210402",parent:"210400"},{name:"东洲区",value:"210403",parent:"210400"},{name:"望花区",value:"210404",parent:"210400"},{name:"顺城区",value:"210411",parent:"210400"},{name:"抚顺县",value:"210421",parent:"210400"},{name:"新宾满族自治县",value:"210422",parent:"210400"},{name:"清原满族自治县",value:"210423",parent:"210400"},{name:"平山区",value:"210502",parent:"210500"},{name:"溪湖区",value:"210503",parent:"210500"},{name:"明山区",value:"210504",parent:"210500"},{name:"南芬区",value:"210505",parent:"210500"},{name:"本溪满族自治县",value:"210521",parent:"210500"},{name:"桓仁满族自治县",value:"210522",parent:"210500"},{name:"元宝区",value:"210602",parent:"210600"},{name:"振兴区",value:"210603",parent:"210600"},{name:"振安区",value:"210604",parent:"210600"},{name:"宽甸满族自治县",value:"210624",parent:"210600"},{name:"东港市",value:"210681",parent:"210600"},{name:"凤城市",value:"210682",parent:"210600"},{name:"古塔区",value:"210702",parent:"210700"},{name:"凌河区",value:"210703",parent:"210700"},{name:"太和区",value:"210711",parent:"210700"},{name:"黑山县",value:"210726",parent:"210700"},{name:"义县",value:"210727",parent:"210700"},{name:"凌海市",value:"210781",parent:"210700"},{name:"北镇市",value:"210782",parent:"210700"},{name:"站前区",value:"210802",parent:"210800"},{name:"西市区",value:"210803",parent:"210800"},{name:"鲅鱼圈区",value:"210804",parent:"210800"},{name:"老边区",value:"210811",parent:"210800"},{name:"盖州市",value:"210881",parent:"210800"},{name:"大石桥市",value:"210882",parent:"210800"},{name:"海州区",value:"210902",parent:"210900"},{name:"新邱区",value:"210903",parent:"210900"},{name:"太平区",value:"210904",parent:"210900"},{name:"清河门区",value:"210905",parent:"210900"},{name:"细河区",value:"210911",parent:"210900"},{name:"阜新蒙古族自治县",value:"210921",parent:"210900"},{name:"彰武县",value:"210922",parent:"210900"},{name:"白塔区",value:"211002",parent:"211000"},{name:"文圣区",value:"211003",parent:"211000"},{name:"宏伟区",value:"211004",parent:"211000"},{name:"弓长岭区",value:"211005",parent:"211000"},{name:"太子河区",value:"211011",parent:"211000"},{name:"辽阳县",value:"211021",parent:"211000"},{name:"灯塔市",value:"211081",parent:"211000"},{name:"双台子区",value:"211102",parent:"211100"},{name:"兴隆台区",value:"211103",parent:"211100"},{name:"大洼区",value:"211104",parent:"211100"},{name:"盘山县",value:"211122",parent:"211100"},{name:"银州区",value:"211202",parent:"211200"},{name:"清河区",value:"211204",parent:"211200"},{name:"铁岭县",value:"211221",parent:"211200"},{name:"西丰县",value:"211223",parent:"211200"},{name:"昌图县",value:"211224",parent:"211200"},{name:"调兵山市",value:"211281",parent:"211200"},{name:"开原市",value:"211282",parent:"211200"},{name:"双塔区",value:"211302",parent:"211300"},{name:"龙城区",value:"211303",parent:"211300"},{name:"朝阳县",value:"211321",parent:"211300"},{name:"建平县",value:"211322",parent:"211300"},{name:"喀喇沁左翼蒙古族自治县",value:"211324",parent:"211300"},{name:"北票市",value:"211381",parent:"211300"},{name:"凌源市",value:"211382",parent:"211300"},{name:"连山区",value:"211402",parent:"211400"},{name:"龙港区",value:"211403",parent:"211400"},{name:"南票区",value:"211404",parent:"211400"},{name:"绥中县",value:"211421",parent:"211400"},{name:"建昌县",value:"211422",parent:"211400"},{name:"兴城市",value:"211481",parent:"211400"},{name:"长春市",value:"220100",parent:"220000"},{name:"吉林市",value:"220200",parent:"220000"},{name:"四平市",value:"220300",parent:"220000"},{name:"辽源市",value:"220400",parent:"220000"},{name:"通化市",value:"220500",parent:"220000"},{name:"白山市",value:"220600",parent:"220000"},{name:"松原市",value:"220700",parent:"220000"},{name:"白城市",value:"220800",parent:"220000"},{name:"延边朝鲜族自治州",value:"222400",parent:"220000"},{name:"南关区",value:"220102",parent:"220100"},{name:"宽城区",value:"220103",parent:"220100"},{name:"朝阳区",value:"220104",parent:"220100"},{name:"二道区",value:"220105",parent:"220100"},{name:"绿园区",value:"220106",parent:"220100"},{name:"双阳区",value:"220112",parent:"220100"},{name:"九台区",value:"220113",parent:"220100"},{name:"农安县",value:"220122",parent:"220100"},{name:"榆树市",value:"220182",parent:"220100"},{name:"德惠市",value:"220183",parent:"220100"},{name:"昌邑区",value:"220202",parent:"220200"},{name:"龙潭区",value:"220203",parent:"220200"},{name:"船营区",value:"220204",parent:"220200"},{name:"丰满区",value:"220211",parent:"220200"},{name:"永吉县",value:"220221",parent:"220200"},{name:"蛟河市",value:"220281",parent:"220200"},{name:"桦甸市",value:"220282",parent:"220200"},{name:"舒兰市",value:"220283",parent:"220200"},{name:"磐石市",value:"220284",parent:"220200"},{name:"铁西区",value:"220302",parent:"220300"},{name:"铁东区",value:"220303",parent:"220300"},{name:"梨树县",value:"220322",parent:"220300"},{name:"伊通满族自治县",value:"220323",parent:"220300"},{name:"公主岭市",value:"220381",parent:"220300"},{name:"双辽市",value:"220382",parent:"220300"},{name:"龙山区",value:"220402",parent:"220400"},{name:"西安区",value:"220403",parent:"220400"},{name:"东丰县",value:"220421",parent:"220400"},{name:"东辽县",value:"220422",parent:"220400"},{name:"东昌区",value:"220502",parent:"220500"},{name:"二道江区",value:"220503",parent:"220500"},{name:"通化县",value:"220521",parent:"220500"},{name:"辉南县",value:"220523",parent:"220500"},{name:"柳河县",value:"220524",parent:"220500"},{name:"梅河口市",value:"220581",parent:"220500"},{name:"集安市",value:"220582",parent:"220500"},{name:"浑江区",value:"220602",parent:"220600"},{name:"江源区",value:"220605",parent:"220600"},{name:"抚松县",value:"220621",parent:"220600"},{name:"靖宇县",value:"220622",parent:"220600"},{name:"长白朝鲜族自治县",value:"220623",parent:"220600"},{name:"临江市",value:"220681",parent:"220600"},{name:"宁江区",value:"220702",parent:"220700"},{name:"前郭尔罗斯蒙古族自治县",value:"220721",parent:"220700"},{name:"长岭县",value:"220722",parent:"220700"},{name:"乾安县",value:"220723",parent:"220700"},{name:"扶余市",value:"220781",parent:"220700"},{name:"洮北区",value:"220802",parent:"220800"},{name:"镇赉县",value:"220821",parent:"220800"},{name:"通榆县",value:"220822",parent:"220800"},{name:"洮南市",value:"220881",parent:"220800"},{name:"大安市",value:"220882",parent:"220800"},{name:"延吉市",value:"222401",parent:"222400"},{name:"图们市",value:"222402",parent:"222400"},{name:"敦化市",value:"222403",parent:"222400"},{name:"珲春市",value:"222404",parent:"222400"},{name:"龙井市",value:"222405",parent:"222400"},{name:"和龙市",value:"222406",parent:"222400"},{name:"汪清县",value:"222424",parent:"222400"},{name:"安图县",value:"222426",parent:"222400"},{name:"哈尔滨市",value:"230100",parent:"230000"},{name:"齐齐哈尔市",value:"230200",parent:"230000"},{name:"鸡西市",value:"230300",parent:"230000"},{name:"鹤岗市",value:"230400",parent:"230000"},{name:"双鸭山市",value:"230500",parent:"230000"},{name:"大庆市",value:"230600",parent:"230000"},{name:"伊春市",value:"230700",parent:"230000"},{name:"佳木斯市",value:"230800",parent:"230000"},{name:"七台河市",value:"230900",parent:"230000"},{name:"牡丹江市",value:"231000",parent:"230000"},{name:"黑河市",value:"231100",parent:"230000"},{name:"绥化市",value:"231200",parent:"230000"},{name:"大兴安岭地区",value:"232700",parent:"230000"},{name:"道里区",value:"230102",parent:"230100"},{name:"南岗区",value:"230103",parent:"230100"},{name:"道外区",value:"230104",parent:"230100"},{name:"平房区",value:"230108",parent:"230100"},{name:"松北区",value:"230109",parent:"230100"},{name:"香坊区",value:"230110",parent:"230100"},{name:"呼兰区",value:"230111",parent:"230100"},{name:"阿城区",value:"230112",parent:"230100"},{name:"双城区",value:"230113",parent:"230100"},{name:"依兰县",value:"230123",parent:"230100"},{name:"方正县",value:"230124",parent:"230100"},{name:"宾县",value:"230125",parent:"230100"},{name:"巴彦县",value:"230126",parent:"230100"},{name:"木兰县",value:"230127",parent:"230100"},{name:"通河县",value:"230128",parent:"230100"},{name:"延寿县",value:"230129",parent:"230100"},{name:"尚志市",value:"230183",parent:"230100"},{name:"五常市",value:"230184",parent:"230100"},{name:"龙沙区",value:"230202",parent:"230200"},{name:"建华区",value:"230203",parent:"230200"},{name:"铁锋区",value:"230204",parent:"230200"},{name:"昂昂溪区",value:"230205",parent:"230200"},{name:"富拉尔基区",value:"230206",parent:"230200"},{name:"碾子山区",value:"230207",parent:"230200"},{name:"梅里斯达斡尔族区",value:"230208",parent:"230200"},{name:"龙江县",value:"230221",parent:"230200"},{name:"依安县",value:"230223",parent:"230200"},{name:"泰来县",value:"230224",parent:"230200"},{name:"甘南县",value:"230225",parent:"230200"},{name:"富裕县",value:"230227",parent:"230200"},{name:"克山县",value:"230229",parent:"230200"},{name:"克东县",value:"230230",parent:"230200"},{name:"拜泉县",value:"230231",parent:"230200"},{name:"讷河市",value:"230281",parent:"230200"},{name:"鸡冠区",value:"230302",parent:"230300"},{name:"恒山区",value:"230303",parent:"230300"},{name:"滴道区",value:"230304",parent:"230300"},{name:"梨树区",value:"230305",parent:"230300"},{name:"城子河区",value:"230306",parent:"230300"},{name:"麻山区",value:"230307",parent:"230300"},{name:"鸡东县",value:"230321",parent:"230300"},{name:"虎林市",value:"230381",parent:"230300"},{name:"密山市",value:"230382",parent:"230300"},{name:"向阳区",value:"230402",parent:"230400"},{name:"工农区",value:"230403",parent:"230400"},{name:"南山区",value:"230404",parent:"230400"},{name:"兴安区",value:"230405",parent:"230400"},{name:"东山区",value:"230406",parent:"230400"},{name:"兴山区",value:"230407",parent:"230400"},{name:"萝北县",value:"230421",parent:"230400"},{name:"绥滨县",value:"230422",parent:"230400"},{name:"尖山区",value:"230502",parent:"230500"},{name:"岭东区",value:"230503",parent:"230500"},{name:"四方台区",value:"230505",parent:"230500"},{name:"宝山区",value:"230506",parent:"230500"},{name:"集贤县",value:"230521",parent:"230500"},{name:"友谊县",value:"230522",parent:"230500"},{name:"宝清县",value:"230523",parent:"230500"},{name:"饶河县",value:"230524",parent:"230500"},{name:"萨尔图区",value:"230602",parent:"230600"},{name:"龙凤区",value:"230603",parent:"230600"},{name:"让胡路区",value:"230604",parent:"230600"},{name:"红岗区",value:"230605",parent:"230600"},{name:"大同区",value:"230606",parent:"230600"},{name:"肇州县",value:"230621",parent:"230600"},{name:"肇源县",value:"230622",parent:"230600"},{name:"林甸县",value:"230623",parent:"230600"},{name:"杜尔伯特蒙古族自治县",value:"230624",parent:"230600"},{name:"伊春区",value:"230702",parent:"230700"},{name:"南岔区",value:"230703",parent:"230700"},{name:"友好区",value:"230704",parent:"230700"},{name:"西林区",value:"230705",parent:"230700"},{name:"翠峦区",value:"230706",parent:"230700"},{name:"新青区",value:"230707",parent:"230700"},{name:"美溪区",value:"230708",parent:"230700"},{name:"金山屯区",value:"230709",parent:"230700"},{name:"五营区",value:"230710",parent:"230700"},{name:"乌马河区",value:"230711",parent:"230700"},{name:"汤旺河区",value:"230712",parent:"230700"},{name:"带岭区",value:"230713",parent:"230700"},{name:"乌伊岭区",value:"230714",parent:"230700"},{name:"红星区",value:"230715",parent:"230700"},{name:"上甘岭区",value:"230716",parent:"230700"},{name:"嘉荫县",value:"230722",parent:"230700"},{name:"铁力市",value:"230781",parent:"230700"},{name:"向阳区",value:"230803",parent:"230800"},{name:"前进区",value:"230804",parent:"230800"},{name:"东风区",value:"230805",parent:"230800"},{name:"郊区",value:"230811",parent:"230800"},{name:"桦南县",value:"230822",parent:"230800"},{name:"桦川县",value:"230826",parent:"230800"},{name:"汤原县",value:"230828",parent:"230800"},{name:"同江市",value:"230881",parent:"230800"},{name:"富锦市",value:"230882",parent:"230800"},{name:"抚远市",value:"230883",parent:"230800"},{name:"新兴区",value:"230902",parent:"230900"},{name:"桃山区",value:"230903",parent:"230900"},{name:"茄子河区",value:"230904",parent:"230900"},{name:"勃利县",value:"230921",parent:"230900"},{name:"东安区",value:"231002",parent:"231000"},{name:"阳明区",value:"231003",parent:"231000"},{name:"爱民区",value:"231004",parent:"231000"},{name:"西安区",value:"231005",parent:"231000"},{name:"林口县",value:"231025",parent:"231000"},{name:"绥芬河市",value:"231081",parent:"231000"},{name:"海林市",value:"231083",parent:"231000"},{name:"宁安市",value:"231084",parent:"231000"},{name:"穆棱市",value:"231085",parent:"231000"},{name:"东宁市",value:"231086",parent:"231000"},{name:"爱辉区",value:"231102",parent:"231100"},{name:"嫩江县",value:"231121",parent:"231100"},{name:"逊克县",value:"231123",parent:"231100"},{name:"孙吴县",value:"231124",parent:"231100"},{name:"北安市",value:"231181",parent:"231100"},{name:"五大连池市",value:"231182",parent:"231100"},{name:"北林区",value:"231202",parent:"231200"},{name:"望奎县",value:"231221",parent:"231200"},{name:"兰西县",value:"231222",parent:"231200"},{name:"青冈县",value:"231223",parent:"231200"},{name:"庆安县",value:"231224",parent:"231200"},{name:"明水县",value:"231225",parent:"231200"},{name:"绥棱县",value:"231226",parent:"231200"},{name:"安达市",value:"231281",parent:"231200"},{name:"肇东市",value:"231282",parent:"231200"},{name:"海伦市",value:"231283",parent:"231200"},{name:"呼玛县",value:"232721",parent:"232700"},{name:"塔河县",value:"232722",parent:"232700"},{name:"漠河县",value:"232723",parent:"232700"},{name:"市辖区",value:"310100",parent:"310000"},{name:"黄浦区",value:"310101",parent:"310100"},{name:"徐汇区",value:"310104",parent:"310100"},{name:"长宁区",value:"310105",parent:"310100"},{name:"静安区",value:"310106",parent:"310100"},{name:"普陀区",value:"310107",parent:"310100"},{name:"虹口区",value:"310109",parent:"310100"},{name:"杨浦区",value:"310110",parent:"310100"},{name:"闵行区",value:"310112",parent:"310100"},{name:"宝山区",value:"310113",parent:"310100"},{name:"嘉定区",value:"310114",parent:"310100"},{name:"浦东新区",value:"310115",parent:"310100"},{name:"金山区",value:"310116",parent:"310100"},{name:"松江区",value:"310117",parent:"310100"},{name:"青浦区",value:"310118",parent:"310100"},{name:"奉贤区",value:"310120",parent:"310100"},{name:"崇明区",value:"310151",parent:"310100"},{name:"南京市",value:"320100",parent:"320000"},{name:"无锡市",value:"320200",parent:"320000"},{name:"徐州市",value:"320300",parent:"320000"},{name:"常州市",value:"320400",parent:"320000"},{name:"苏州市",value:"320500",parent:"320000"},{name:"南通市",value:"320600",parent:"320000"},{name:"连云港市",value:"320700",parent:"320000"},{name:"淮安市",value:"320800",parent:"320000"},{name:"盐城市",value:"320900",parent:"320000"},{name:"扬州市",value:"321000",parent:"320000"},{name:"镇江市",value:"321100",parent:"320000"},{name:"泰州市",value:"321200",parent:"320000"},{name:"宿迁市",value:"321300",parent:"320000"},{name:"玄武区",value:"320102",parent:"320100"},{name:"秦淮区",value:"320104",parent:"320100"},{name:"建邺区",value:"320105",parent:"320100"},{name:"鼓楼区",value:"320106",parent:"320100"},{name:"浦口区",value:"320111",parent:"320100"},{name:"栖霞区",value:"320113",parent:"320100"},{name:"雨花台区",value:"320114",parent:"320100"},{name:"江宁区",value:"320115",parent:"320100"},{name:"六合区",value:"320116",parent:"320100"},{name:"溧水区",value:"320117",parent:"320100"},{name:"高淳区",value:"320118",parent:"320100"},{name:"锡山区",value:"320205",parent:"320200"},{name:"惠山区",value:"320206",parent:"320200"},{name:"滨湖区",value:"320211",parent:"320200"},{name:"梁溪区",value:"320213",parent:"320200"},{name:"新吴区",value:"320214",parent:"320200"},{name:"江阴市",value:"320281",parent:"320200"},{name:"宜兴市",value:"320282",parent:"320200"},{name:"鼓楼区",value:"320302",parent:"320300"},{name:"云龙区",value:"320303",parent:"320300"},{name:"贾汪区",value:"320305",parent:"320300"},{name:"泉山区",value:"320311",parent:"320300"},{name:"铜山区",value:"320312",parent:"320300"},{name:"丰县",value:"320321",parent:"320300"},{name:"沛县",value:"320322",parent:"320300"},{name:"睢宁县",value:"320324",parent:"320300"},{name:"新沂市",value:"320381",parent:"320300"},{name:"邳州市",value:"320382",parent:"320300"},{name:"天宁区",value:"320402",parent:"320400"},{name:"钟楼区",value:"320404",parent:"320400"},{name:"新北区",value:"320411",parent:"320400"},{name:"武进区",value:"320412",parent:"320400"},{name:"金坛区",value:"320413",parent:"320400"},{name:"溧阳市",value:"320481",parent:"320400"},{name:"虎丘区",value:"320505",parent:"320500"},{name:"吴中区",value:"320506",parent:"320500"},{name:"相城区",value:"320507",parent:"320500"},{name:"姑苏区",value:"320508",parent:"320500"},{name:"吴江区",value:"320509",parent:"320500"},{name:"常熟市",value:"320581",parent:"320500"},{name:"张家港市",value:"320582",parent:"320500"},{name:"昆山市",value:"320583",parent:"320500"},{name:"太仓市",value:"320585",parent:"320500"},{name:"崇川区",value:"320602",parent:"320600"},{name:"港闸区",value:"320611",parent:"320600"},{name:"通州区",value:"320612",parent:"320600"},{name:"海安县",value:"320621",parent:"320600"},{name:"如东县",value:"320623",parent:"320600"},{name:"启东市",value:"320681",parent:"320600"},{name:"如皋市",value:"320682",parent:"320600"},{name:"海门市",value:"320684",parent:"320600"},{name:"连云区",value:"320703",parent:"320700"},{name:"海州区",value:"320706",parent:"320700"},{name:"赣榆区",value:"320707",parent:"320700"},{name:"东海县",value:"320722",parent:"320700"},{name:"灌云县",value:"320723",parent:"320700"},{name:"灌南县",value:"320724",parent:"320700"},{name:"淮安区",value:"320803",parent:"320800"},{name:"淮阴区",value:"320804",parent:"320800"},{name:"清江浦区",value:"320812",parent:"320800"},{name:"洪泽区",value:"320813",parent:"320800"},{name:"涟水县",value:"320826",parent:"320800"},{name:"盱眙县",value:"320830",parent:"320800"},{name:"金湖县",value:"320831",parent:"320800"},{name:"亭湖区",value:"320902",parent:"320900"},{name:"盐都区",value:"320903",parent:"320900"},{name:"大丰区",value:"320904",parent:"320900"},{name:"响水县",value:"320921",parent:"320900"},{name:"滨海县",value:"320922",parent:"320900"},{name:"阜宁县",value:"320923",parent:"320900"},{name:"射阳县",value:"320924",parent:"320900"},{name:"建湖县",value:"320925",parent:"320900"},{name:"东台市",value:"320981",parent:"320900"},{name:"广陵区",value:"321002",parent:"321000"},{name:"邗江区",value:"321003",parent:"321000"},{name:"江都区",value:"321012",parent:"321000"},{name:"宝应县",value:"321023",parent:"321000"},{name:"仪征市",value:"321081",parent:"321000"},{name:"高邮市",value:"321084",parent:"321000"},{name:"京口区",value:"321102",parent:"321100"},{name:"润州区",value:"321111",parent:"321100"},{name:"丹徒区",value:"321112",parent:"321100"},{name:"丹阳市",value:"321181",parent:"321100"},{name:"扬中市",value:"321182",parent:"321100"},{name:"句容市",value:"321183",parent:"321100"},{name:"海陵区",value:"321202",parent:"321200"},{name:"高港区",value:"321203",parent:"321200"},{name:"姜堰区",value:"321204",parent:"321200"},{name:"兴化市",value:"321281",parent:"321200"},{name:"靖江市",value:"321282",parent:"321200"},{name:"泰兴市",value:"321283",parent:"321200"},{name:"宿城区",value:"321302",parent:"321300"},{name:"宿豫区",value:"321311",parent:"321300"},{name:"沭阳县",value:"321322",parent:"321300"},{name:"泗阳县",value:"321323",parent:"321300"},{name:"泗洪县",value:"321324",parent:"321300"},{name:"杭州市",value:"330100",parent:"330000"},{name:"宁波市",value:"330200",parent:"330000"},{name:"温州市",value:"330300",parent:"330000"},{name:"嘉兴市",value:"330400",parent:"330000"},{name:"湖州市",value:"330500",parent:"330000"},{name:"绍兴市",value:"330600",parent:"330000"},{name:"金华市",value:"330700",parent:"330000"},{name:"衢州市",value:"330800",parent:"330000"},{name:"舟山市",value:"330900",parent:"330000"},{name:"台州市",value:"331000",parent:"330000"},{name:"丽水市",value:"331100",parent:"330000"},{name:"上城区",value:"330102",parent:"330100"},{name:"下城区",value:"330103",parent:"330100"},{name:"江干区",value:"330104",parent:"330100"},{name:"拱墅区",value:"330105",parent:"330100"},{name:"西湖区",value:"330106",parent:"330100"},{name:"滨江区",value:"330108",parent:"330100"},{name:"萧山区",value:"330109",parent:"330100"},{name:"余杭区",value:"330110",parent:"330100"},{name:"富阳区",value:"330111",parent:"330100"},{name:"桐庐县",value:"330122",parent:"330100"},{name:"淳安县",value:"330127",parent:"330100"},{name:"建德市",value:"330182",parent:"330100"},{name:"临安市",value:"330185",parent:"330100"},{name:"海曙区",value:"330203",parent:"330200"},{name:"江东区",value:"330204",parent:"330200"},{name:"江北区",value:"330205",parent:"330200"},{name:"北仑区",value:"330206",parent:"330200"},{name:"镇海区",value:"330211",parent:"330200"},{name:"鄞州区",value:"330212",parent:"330200"},{name:"象山县",value:"330225",parent:"330200"},{name:"宁海县",value:"330226",parent:"330200"},{name:"余姚市",value:"330281",parent:"330200"},{name:"慈溪市",value:"330282",parent:"330200"},{name:"奉化市",value:"330283",parent:"330200"},{name:"鹿城区",value:"330302",parent:"330300"},{name:"龙湾区",value:"330303",parent:"330300"},{name:"瓯海区",value:"330304",parent:"330300"},{name:"洞头区",value:"330305",parent:"330300"},{name:"永嘉县",value:"330324",parent:"330300"},{name:"平阳县",value:"330326",parent:"330300"},{name:"苍南县",value:"330327",parent:"330300"},{name:"文成县",value:"330328",parent:"330300"},{name:"泰顺县",value:"330329",parent:"330300"},{name:"瑞安市",value:"330381",parent:"330300"},{name:"乐清市",value:"330382",parent:"330300"},{name:"南湖区",value:"330402",parent:"330400"},{name:"秀洲区",value:"330411",parent:"330400"},{name:"嘉善县",value:"330421",parent:"330400"},{name:"海盐县",value:"330424",parent:"330400"},{name:"海宁市",value:"330481",parent:"330400"},{name:"平湖市",value:"330482",parent:"330400"},{name:"桐乡市",value:"330483",parent:"330400"},{name:"吴兴区",value:"330502",parent:"330500"},{name:"南浔区",value:"330503",parent:"330500"},{name:"德清县",value:"330521",parent:"330500"},{name:"长兴县",value:"330522",parent:"330500"},{name:"安吉县",value:"330523",parent:"330500"},{name:"越城区",value:"330602",parent:"330600"},{name:"柯桥区",value:"330603",parent:"330600"},{name:"上虞区",value:"330604",parent:"330600"},{name:"新昌县",value:"330624",parent:"330600"},{name:"诸暨市",value:"330681",parent:"330600"},{name:"嵊州市",value:"330683",parent:"330600"},{name:"婺城区",value:"330702",parent:"330700"},{name:"金东区",value:"330703",parent:"330700"},{name:"武义县",value:"330723",parent:"330700"},{name:"浦江县",value:"330726",parent:"330700"},{name:"磐安县",value:"330727",parent:"330700"},{name:"兰溪市",value:"330781",parent:"330700"},{name:"义乌市",value:"330782",parent:"330700"},{name:"东阳市",value:"330783",parent:"330700"},{name:"永康市",value:"330784",parent:"330700"},{name:"柯城区",value:"330802",parent:"330800"},{name:"衢江区",value:"330803",parent:"330800"},{name:"常山县",value:"330822",parent:"330800"},{name:"开化县",value:"330824",parent:"330800"},{name:"龙游县",value:"330825",parent:"330800"},{name:"江山市",value:"330881",parent:"330800"},{name:"定海区",value:"330902",parent:"330900"},{name:"普陀区",value:"330903",parent:"330900"},{name:"岱山县",value:"330921",parent:"330900"},{name:"嵊泗县",value:"330922",parent:"330900"},{name:"椒江区",value:"331002",parent:"331000"},{name:"黄岩区",value:"331003",parent:"331000"},{name:"路桥区",value:"331004",parent:"331000"},{name:"玉环县",value:"331021",parent:"331000"},{name:"三门县",value:"331022",parent:"331000"},{name:"天台县",value:"331023",parent:"331000"},{name:"仙居县",value:"331024",parent:"331000"},{name:"温岭市",value:"331081",parent:"331000"},{name:"临海市",value:"331082",parent:"331000"},{name:"莲都区",value:"331102",parent:"331100"},{name:"青田县",value:"331121",parent:"331100"},{name:"缙云县",value:"331122",parent:"331100"},{name:"遂昌县",value:"331123",parent:"331100"},{name:"松阳县",value:"331124",parent:"331100"},{name:"云和县",value:"331125",parent:"331100"},{name:"庆元县",value:"331126",parent:"331100"},{name:"景宁畲族自治县",value:"331127",parent:"331100"},{name:"龙泉市",value:"331181",parent:"331100"},{name:"合肥市",value:"340100",parent:"340000"},{name:"芜湖市",value:"340200",parent:"340000"},{name:"蚌埠市",value:"340300",parent:"340000"},{name:"淮南市",value:"340400",parent:"340000"},{name:"马鞍山市",value:"340500",parent:"340000"},{name:"淮北市",value:"340600",parent:"340000"},{name:"铜陵市",value:"340700",parent:"340000"},{name:"安庆市",value:"340800",parent:"340000"},{name:"黄山市",value:"341000",parent:"340000"},{name:"滁州市",value:"341100",parent:"340000"},{name:"阜阳市",value:"341200",parent:"340000"},{name:"宿州市",value:"341300",parent:"340000"},{name:"六安市",value:"341500",parent:"340000"},{name:"亳州市",value:"341600",parent:"340000"},{name:"池州市",value:"341700",parent:"340000"},{name:"宣城市",value:"341800",parent:"340000"},{name:"瑶海区",value:"340102",parent:"340100"},{name:"庐阳区",value:"340103",parent:"340100"},{name:"蜀山区",value:"340104",parent:"340100"},{name:"包河区",value:"340111",parent:"340100"},{name:"长丰县",value:"340121",parent:"340100"},{name:"肥东县",value:"340122",parent:"340100"},{name:"肥西县",value:"340123",parent:"340100"},{name:"庐江县",value:"340124",parent:"340100"},{name:"巢湖市",value:"340181",parent:"340100"},{name:"镜湖区",value:"340202",parent:"340200"},{name:"弋江区",value:"340203",parent:"340200"},{name:"鸠江区",value:"340207",parent:"340200"},{name:"三山区",value:"340208",parent:"340200"},{name:"芜湖县",value:"340221",parent:"340200"},{name:"繁昌县",value:"340222",parent:"340200"},{name:"南陵县",value:"340223",parent:"340200"},{name:"无为县",value:"340225",parent:"340200"},{name:"龙子湖区",value:"340302",parent:"340300"},{name:"蚌山区",value:"340303",parent:"340300"},{name:"禹会区",value:"340304",parent:"340300"},{name:"淮上区",value:"340311",parent:"340300"},{name:"怀远县",value:"340321",parent:"340300"},{name:"五河县",value:"340322",parent:"340300"},{name:"固镇县",value:"340323",parent:"340300"},{name:"大通区",value:"340402",parent:"340400"},{name:"田家庵区",value:"340403",parent:"340400"},{name:"谢家集区",value:"340404",parent:"340400"},{name:"八公山区",value:"340405",parent:"340400"},{name:"潘集区",value:"340406",parent:"340400"},{name:"凤台县",value:"340421",parent:"340400"},{name:"寿县",value:"340422",parent:"340400"},{name:"花山区",value:"340503",parent:"340500"},{name:"雨山区",value:"340504",parent:"340500"},{name:"博望区",value:"340506",parent:"340500"},{name:"当涂县",value:"340521",parent:"340500"},{name:"含山县",value:"340522",parent:"340500"},{name:"和县",value:"340523",parent:"340500"},{name:"杜集区",value:"340602",parent:"340600"},{name:"相山区",value:"340603",parent:"340600"},{name:"烈山区",value:"340604",parent:"340600"},{name:"濉溪县",value:"340621",parent:"340600"},{name:"铜官区",value:"340705",parent:"340700"},{name:"义安区",value:"340706",parent:"340700"},{name:"郊区",value:"340711",parent:"340700"},{name:"枞阳县",value:"340722",parent:"340700"},{name:"迎江区",value:"340802",parent:"340800"},{name:"大观区",value:"340803",parent:"340800"},{name:"宜秀区",value:"340811",parent:"340800"},{name:"怀宁县",value:"340822",parent:"340800"},{name:"潜山县",value:"340824",parent:"340800"},{name:"太湖县",value:"340825",parent:"340800"},{name:"宿松县",value:"340826",parent:"340800"},{name:"望江县",value:"340827",parent:"340800"},{name:"岳西县",value:"340828",parent:"340800"},{name:"桐城市",value:"340881",parent:"340800"},{name:"屯溪区",value:"341002",parent:"341000"},{name:"黄山区",value:"341003",parent:"341000"},{name:"徽州区",value:"341004",parent:"341000"},{name:"歙县",value:"341021",parent:"341000"},{name:"休宁县",value:"341022",parent:"341000"},{name:"黟县",value:"341023",parent:"341000"},{name:"祁门县",value:"341024",parent:"341000"},{name:"琅琊区",value:"341102",parent:"341100"},{name:"南谯区",value:"341103",parent:"341100"},{name:"来安县",value:"341122",parent:"341100"},{name:"全椒县",value:"341124",parent:"341100"},{name:"定远县",value:"341125",parent:"341100"},{name:"凤阳县",value:"341126",parent:"341100"},{name:"天长市",value:"341181",parent:"341100"},{name:"明光市",value:"341182",parent:"341100"},{name:"颍州区",value:"341202",parent:"341200"},{name:"颍东区",value:"341203",parent:"341200"},{name:"颍泉区",value:"341204",parent:"341200"},{name:"临泉县",value:"341221",parent:"341200"},{name:"太和县",value:"341222",parent:"341200"},{name:"阜南县",value:"341225",parent:"341200"},{name:"颍上县",value:"341226",parent:"341200"},{name:"界首市",value:"341282",parent:"341200"},{name:"埇桥区",value:"341302",parent:"341300"},{name:"砀山县",value:"341321",parent:"341300"},{name:"萧县",value:"341322",parent:"341300"},{name:"灵璧县",value:"341323",parent:"341300"},{name:"泗县",value:"341324",parent:"341300"},{name:"金安区",value:"341502",parent:"341500"},{name:"裕安区",value:"341503",parent:"341500"},{name:"叶集区",value:"341504",parent:"341500"},{name:"霍邱县",value:"341522",parent:"341500"},{name:"舒城县",value:"341523",parent:"341500"},{name:"金寨县",value:"341524",parent:"341500"},{name:"霍山县",value:"341525",parent:"341500"},{name:"谯城区",value:"341602",parent:"341600"},{name:"涡阳县",value:"341621",parent:"341600"},{name:"蒙城县",value:"341622",parent:"341600"},{name:"利辛县",value:"341623",parent:"341600"},{name:"贵池区",value:"341702",parent:"341700"},{name:"东至县",value:"341721",parent:"341700"},{name:"石台县",value:"341722",parent:"341700"},{name:"青阳县",value:"341723",parent:"341700"},{name:"宣州区",value:"341802",parent:"341800"},{name:"郎溪县",value:"341821",parent:"341800"},{name:"广德县",value:"341822",parent:"341800"},{name:"泾县",value:"341823",parent:"341800"},{name:"绩溪县",value:"341824",parent:"341800"},{name:"旌德县",value:"341825",parent:"341800"},{name:"宁国市",value:"341881",parent:"341800"},{name:"福州市",value:"350100",parent:"350000"},{name:"厦门市",value:"350200",parent:"350000"},{name:"莆田市",value:"350300",parent:"350000"},{name:"三明市",value:"350400",parent:"350000"},{name:"泉州市",value:"350500",parent:"350000"},{name:"漳州市",value:"350600",parent:"350000"},{name:"南平市",value:"350700",parent:"350000"},{name:"龙岩市",value:"350800",parent:"350000"},{name:"宁德市",value:"350900",parent:"350000"},{name:"鼓楼区",value:"350102",parent:"350100"},{name:"台江区",value:"350103",parent:"350100"},{name:"仓山区",value:"350104",parent:"350100"},{name:"马尾区",value:"350105",parent:"350100"},{name:"晋安区",value:"350111",parent:"350100"},{name:"闽侯县",value:"350121",parent:"350100"},{name:"连江县",value:"350122",parent:"350100"},{name:"罗源县",value:"350123",parent:"350100"},{name:"闽清县",value:"350124",parent:"350100"},{name:"永泰县",value:"350125",parent:"350100"},{name:"平潭县",value:"350128",parent:"350100"},{name:"福清市",value:"350181",parent:"350100"},{name:"长乐市",value:"350182",parent:"350100"},{name:"思明区",value:"350203",parent:"350200"},{name:"海沧区",value:"350205",parent:"350200"},{name:"湖里区",value:"350206",parent:"350200"},{name:"集美区",value:"350211",parent:"350200"},{name:"同安区",value:"350212",parent:"350200"},{name:"翔安区",value:"350213",parent:"350200"},{name:"城厢区",value:"350302",parent:"350300"},{name:"涵江区",value:"350303",parent:"350300"},{name:"荔城区",value:"350304",parent:"350300"},{name:"秀屿区",value:"350305",parent:"350300"},{name:"仙游县",value:"350322",parent:"350300"},{name:"梅列区",value:"350402",parent:"350400"},{name:"三元区",value:"350403",parent:"350400"},{name:"明溪县",value:"350421",parent:"350400"},{name:"清流县",value:"350423",parent:"350400"},{name:"宁化县",value:"350424",parent:"350400"},{name:"大田县",value:"350425",parent:"350400"},{name:"尤溪县",value:"350426",parent:"350400"},{name:"沙县",value:"350427",parent:"350400"},{name:"将乐县",value:"350428",parent:"350400"},{name:"泰宁县",value:"350429",parent:"350400"},{name:"建宁县",value:"350430",parent:"350400"},{name:"永安市",value:"350481",parent:"350400"},{name:"鲤城区",value:"350502",parent:"350500"},{name:"丰泽区",value:"350503",parent:"350500"},{name:"洛江区",value:"350504",parent:"350500"},{name:"泉港区",value:"350505",parent:"350500"},{name:"惠安县",value:"350521",parent:"350500"},{name:"安溪县",value:"350524",parent:"350500"},{name:"永春县",value:"350525",parent:"350500"},{name:"德化县",value:"350526",parent:"350500"},{name:"金门县",value:"350527",parent:"350500"},{name:"石狮市",value:"350581",parent:"350500"},{name:"晋江市",value:"350582",parent:"350500"},{name:"南安市",value:"350583",parent:"350500"},{name:"芗城区",value:"350602",parent:"350600"},{name:"龙文区",value:"350603",parent:"350600"},{name:"云霄县",value:"350622",parent:"350600"},{name:"漳浦县",value:"350623",parent:"350600"},{name:"诏安县",value:"350624",parent:"350600"},{name:"长泰县",value:"350625",parent:"350600"},{name:"东山县",value:"350626",parent:"350600"},{name:"南靖县",value:"350627",parent:"350600"},{name:"平和县",value:"350628",parent:"350600"},{name:"华安县",value:"350629",parent:"350600"},{name:"龙海市",value:"350681",parent:"350600"},{name:"延平区",value:"350702",parent:"350700"},{name:"建阳区",value:"350703",parent:"350700"},{name:"顺昌县",value:"350721",parent:"350700"},{name:"浦城县",value:"350722",parent:"350700"},{name:"光泽县",value:"350723",parent:"350700"},{name:"松溪县",value:"350724",parent:"350700"},{name:"政和县",value:"350725",parent:"350700"},{name:"邵武市",value:"350781",parent:"350700"},{name:"武夷山市",value:"350782",parent:"350700"},{name:"建瓯市",value:"350783",parent:"350700"},{name:"新罗区",value:"350802",parent:"350800"},{name:"永定区",value:"350803",parent:"350800"},{name:"长汀县",value:"350821",parent:"350800"},{name:"上杭县",value:"350823",parent:"350800"},{name:"武平县",value:"350824",parent:"350800"},{name:"连城县",value:"350825",parent:"350800"},{name:"漳平市",value:"350881",parent:"350800"},{name:"蕉城区",value:"350902",parent:"350900"},{name:"霞浦县",value:"350921",parent:"350900"},{name:"古田县",value:"350922",parent:"350900"},{name:"屏南县",value:"350923",parent:"350900"},{name:"寿宁县",value:"350924",parent:"350900"},{name:"周宁县",value:"350925",parent:"350900"},{name:"柘荣县",value:"350926",parent:"350900"},{name:"福安市",value:"350981",parent:"350900"},{name:"福鼎市",value:"350982",parent:"350900"},{name:"南昌市",value:"360100",parent:"360000"},{name:"景德镇市",value:"360200",parent:"360000"},{name:"萍乡市",value:"360300",parent:"360000"},{name:"九江市",value:"360400",parent:"360000"},{name:"新余市",value:"360500",parent:"360000"},{name:"鹰潭市",value:"360600",parent:"360000"},{name:"赣州市",value:"360700",parent:"360000"},{name:"吉安市",value:"360800",parent:"360000"},{name:"宜春市",value:"360900",parent:"360000"},{name:"抚州市",value:"361000",parent:"360000"},{name:"上饶市",value:"361100",parent:"360000"},{name:"东湖区",value:"360102",parent:"360100"},{name:"西湖区",value:"360103",parent:"360100"},{name:"青云谱区",value:"360104",parent:"360100"},{name:"湾里区",value:"360105",parent:"360100"},{name:"青山湖区",value:"360111",parent:"360100"},{name:"新建区",value:"360112",parent:"360100"},{name:"南昌县",value:"360121",parent:"360100"},{name:"安义县",value:"360123",parent:"360100"},{name:"进贤县",value:"360124",parent:"360100"},{name:"昌江区",value:"360202",parent:"360200"},{name:"珠山区",value:"360203",parent:"360200"},{name:"浮梁县",value:"360222",parent:"360200"},{name:"乐平市",value:"360281",parent:"360200"},{name:"安源区",value:"360302",parent:"360300"},{name:"湘东区",value:"360313",parent:"360300"},{name:"莲花县",value:"360321",parent:"360300"},{name:"上栗县",value:"360322",parent:"360300"},{name:"芦溪县",value:"360323",parent:"360300"},{name:"濂溪区",value:"360402",parent:"360400"},{name:"浔阳区",value:"360403",parent:"360400"},{name:"九江县",value:"360421",parent:"360400"},{name:"武宁县",value:"360423",parent:"360400"},{name:"修水县",value:"360424",parent:"360400"},{name:"永修县",value:"360425",parent:"360400"},{name:"德安县",value:"360426",parent:"360400"},{name:"都昌县",value:"360428",parent:"360400"},{name:"湖口县",value:"360429",parent:"360400"},{name:"彭泽县",value:"360430",parent:"360400"},{name:"瑞昌市",value:"360481",parent:"360400"},{name:"共青城市",value:"360482",parent:"360400"},{name:"庐山市",value:"360483",parent:"360400"},{name:"渝水区",value:"360502",parent:"360500"},{name:"分宜县",value:"360521",parent:"360500"},{name:"月湖区",value:"360602",parent:"360600"},{name:"余江县",value:"360622",parent:"360600"},{name:"贵溪市",value:"360681",parent:"360600"},{name:"章贡区",value:"360702",parent:"360700"},{name:"南康区",value:"360703",parent:"360700"},{name:"赣县",value:"360721",parent:"360700"},{name:"信丰县",value:"360722",parent:"360700"},{name:"大余县",value:"360723",parent:"360700"},{name:"上犹县",value:"360724",parent:"360700"},{name:"崇义县",value:"360725",parent:"360700"},{name:"安远县",value:"360726",parent:"360700"},{name:"龙南县",value:"360727",parent:"360700"},{name:"定南县",value:"360728",parent:"360700"},{name:"全南县",value:"360729",parent:"360700"},{name:"宁都县",value:"360730",parent:"360700"},{name:"于都县",value:"360731",parent:"360700"},{name:"兴国县",value:"360732",parent:"360700"},{name:"会昌县",value:"360733",parent:"360700"},{name:"寻乌县",value:"360734",parent:"360700"},{name:"石城县",value:"360735",parent:"360700"},{name:"瑞金市",value:"360781",parent:"360700"},{name:"吉州区",value:"360802",parent:"360800"},{name:"青原区",value:"360803",parent:"360800"},{name:"吉安县",value:"360821",parent:"360800"},{name:"吉水县",value:"360822",parent:"360800"},{name:"峡江县",value:"360823",parent:"360800"},{name:"新干县",value:"360824",parent:"360800"},{name:"永丰县",value:"360825",parent:"360800"},{name:"泰和县",value:"360826",parent:"360800"},{name:"遂川县",value:"360827",parent:"360800"},{name:"万安县",value:"360828",parent:"360800"},{name:"安福县",value:"360829",parent:"360800"},{name:"永新县",value:"360830",parent:"360800"},{name:"井冈山市",value:"360881",parent:"360800"},{name:"袁州区",value:"360902",parent:"360900"},{name:"奉新县",value:"360921",parent:"360900"},{name:"万载县",value:"360922",parent:"360900"},{name:"上高县",value:"360923",parent:"360900"},{name:"宜丰县",value:"360924",parent:"360900"},{name:"靖安县",value:"360925",parent:"360900"},{name:"铜鼓县",value:"360926",parent:"360900"},{name:"丰城市",value:"360981",parent:"360900"},{name:"樟树市",value:"360982",parent:"360900"},{name:"高安市",value:"360983",parent:"360900"},{name:"临川区",value:"361002",parent:"361000"},{name:"南城县",value:"361021",parent:"361000"},{name:"黎川县",value:"361022",parent:"361000"},{name:"南丰县",value:"361023",parent:"361000"},{name:"崇仁县",value:"361024",parent:"361000"},{name:"乐安县",value:"361025",parent:"361000"},{name:"宜黄县",value:"361026",parent:"361000"},{name:"金溪县",value:"361027",parent:"361000"},{name:"资溪县",value:"361028",parent:"361000"},{name:"东乡县",value:"361029",parent:"361000"},{name:"广昌县",value:"361030",parent:"361000"},{name:"信州区",value:"361102",parent:"361100"},{name:"广丰区",value:"361103",parent:"361100"},{name:"上饶县",value:"361121",parent:"361100"},{name:"玉山县",value:"361123",parent:"361100"},{name:"铅山县",value:"361124",parent:"361100"},{name:"横峰县",value:"361125",parent:"361100"},{name:"弋阳县",value:"361126",parent:"361100"},{name:"余干县",value:"361127",parent:"361100"},{name:"鄱阳县",value:"361128",parent:"361100"},{name:"万年县",value:"361129",parent:"361100"},{name:"婺源县",value:"361130",parent:"361100"},{name:"德兴市",value:"361181",parent:"361100"},{name:"济南市",value:"370100",parent:"370000"},{name:"青岛市",value:"370200",parent:"370000"},{name:"淄博市",value:"370300",parent:"370000"},{name:"枣庄市",value:"370400",parent:"370000"},{name:"东营市",value:"370500",parent:"370000"},{name:"烟台市",value:"370600",parent:"370000"},{name:"潍坊市",value:"370700",parent:"370000"},{name:"济宁市",value:"370800",parent:"370000"},{name:"泰安市",value:"370900",parent:"370000"},{name:"威海市",value:"371000",parent:"370000"},{name:"日照市",value:"371100",parent:"370000"},{name:"莱芜市",value:"371200",parent:"370000"},{name:"临沂市",value:"371300",parent:"370000"},{name:"德州市",value:"371400",parent:"370000"},{name:"聊城市",value:"371500",parent:"370000"},{name:"滨州市",value:"371600",parent:"370000"},{name:"菏泽市",value:"371700",parent:"370000"},{name:"历下区",value:"370102",parent:"370100"},{name:"市中区",value:"370103",parent:"370100"},{name:"槐荫区",value:"370104",parent:"370100"},{name:"天桥区",value:"370105",parent:"370100"},{name:"历城区",value:"370112",parent:"370100"},{name:"长清区",value:"370113",parent:"370100"},{name:"平阴县",value:"370124",parent:"370100"},{name:"济阳县",value:"370125",parent:"370100"},{name:"商河县",value:"370126",parent:"370100"},{name:"章丘市",value:"370181",parent:"370100"},{name:"市南区",value:"370202",parent:"370200"},{name:"市北区",value:"370203",parent:"370200"},{name:"黄岛区",value:"370211",parent:"370200"},{name:"崂山区",value:"370212",parent:"370200"},{name:"李沧区",value:"370213",parent:"370200"},{name:"城阳区",value:"370214",parent:"370200"},{name:"胶州市",value:"370281",parent:"370200"},{name:"即墨市",value:"370282",parent:"370200"},{name:"平度市",value:"370283",parent:"370200"},{name:"莱西市",value:"370285",parent:"370200"},{name:"淄川区",value:"370302",parent:"370300"},{name:"张店区",value:"370303",parent:"370300"},{name:"博山区",value:"370304",parent:"370300"},{name:"临淄区",value:"370305",parent:"370300"},{name:"周村区",value:"370306",parent:"370300"},{name:"桓台县",value:"370321",parent:"370300"},{name:"高青县",value:"370322",parent:"370300"},{name:"沂源县",value:"370323",parent:"370300"},{name:"市中区",value:"370402",parent:"370400"},{name:"薛城区",value:"370403",parent:"370400"},{name:"峄城区",value:"370404",parent:"370400"},{name:"台儿庄区",value:"370405",parent:"370400"},{name:"山亭区",value:"370406",parent:"370400"},{name:"滕州市",value:"370481",parent:"370400"},{name:"东营区",value:"370502",parent:"370500"},{name:"河口区",value:"370503",parent:"370500"},{name:"垦利区",value:"370505",parent:"370500"},{name:"利津县",value:"370522",parent:"370500"},{name:"广饶县",value:"370523",parent:"370500"},{name:"芝罘区",value:"370602",parent:"370600"},{name:"福山区",value:"370611",parent:"370600"},{name:"牟平区",value:"370612",parent:"370600"},{name:"莱山区",value:"370613",parent:"370600"},{name:"长岛县",value:"370634",parent:"370600"},{name:"龙口市",value:"370681",parent:"370600"},{name:"莱阳市",value:"370682",parent:"370600"},{name:"莱州市",value:"370683",parent:"370600"},{name:"蓬莱市",value:"370684",parent:"370600"},{name:"招远市",value:"370685",parent:"370600"},{name:"栖霞市",value:"370686",parent:"370600"},{name:"海阳市",value:"370687",parent:"370600"},{name:"潍城区",value:"370702",parent:"370700"},{name:"寒亭区",value:"370703",parent:"370700"},{name:"坊子区",value:"370704",parent:"370700"},{name:"奎文区",value:"370705",parent:"370700"},{name:"临朐县",value:"370724",parent:"370700"},{name:"昌乐县",value:"370725",parent:"370700"},{name:"青州市",value:"370781",parent:"370700"},{name:"诸城市",value:"370782",parent:"370700"},{name:"寿光市",value:"370783",parent:"370700"},{name:"安丘市",value:"370784",parent:"370700"},{name:"高密市",value:"370785",parent:"370700"},{name:"昌邑市",value:"370786",parent:"370700"},{name:"任城区",value:"370811",parent:"370800"},{name:"兖州区",value:"370812",parent:"370800"},{name:"微山县",value:"370826",parent:"370800"},{name:"鱼台县",value:"370827",parent:"370800"},{name:"金乡县",value:"370828",parent:"370800"},{name:"嘉祥县",value:"370829",parent:"370800"},{name:"汶上县",value:"370830",parent:"370800"},{name:"泗水县",value:"370831",parent:"370800"},{name:"梁山县",value:"370832",parent:"370800"},{name:"曲阜市",value:"370881",parent:"370800"},{name:"邹城市",value:"370883",parent:"370800"},{name:"泰山区",value:"370902",parent:"370900"},{name:"岱岳区",value:"370911",parent:"370900"},{name:"宁阳县",value:"370921",parent:"370900"},{name:"东平县",value:"370923",parent:"370900"},{name:"新泰市",value:"370982",parent:"370900"},{name:"肥城市",value:"370983",parent:"370900"},{name:"环翠区",value:"371002",parent:"371000"},{name:"文登区",value:"371003",parent:"371000"},{name:"荣成市",value:"371082",parent:"371000"},{name:"乳山市",value:"371083",parent:"371000"},{name:"东港区",value:"371102",parent:"371100"},{name:"岚山区",value:"371103",parent:"371100"},{name:"五莲县",value:"371121",parent:"371100"},{name:"莒县",value:"371122",parent:"371100"},{name:"莱城区",value:"371202",parent:"371200"},{name:"钢城区",value:"371203",parent:"371200"},{name:"兰山区",value:"371302",parent:"371300"},{name:"罗庄区",value:"371311",parent:"371300"},{name:"河东区",value:"371312",parent:"371300"},{name:"沂南县",value:"371321",parent:"371300"},{name:"郯城县",value:"371322",parent:"371300"},{name:"沂水县",value:"371323",parent:"371300"},{name:"兰陵县",value:"371324",parent:"371300"},{name:"费县",value:"371325",parent:"371300"},{name:"平邑县",value:"371326",parent:"371300"},{name:"莒南县",value:"371327",parent:"371300"},{name:"蒙阴县",value:"371328",parent:"371300"},{name:"临沭县",value:"371329",parent:"371300"},{name:"德城区",value:"371402",parent:"371400"},{name:"陵城区",value:"371403",parent:"371400"},{name:"宁津县",value:"371422",parent:"371400"},{name:"庆云县",value:"371423",parent:"371400"},{name:"临邑县",value:"371424",parent:"371400"},{name:"齐河县",value:"371425",parent:"371400"},{name:"平原县",value:"371426",parent:"371400"},{name:"夏津县",value:"371427",parent:"371400"},{name:"武城县",value:"371428",parent:"371400"},{name:"乐陵市",value:"371481",parent:"371400"},{name:"禹城市",value:"371482",parent:"371400"},{name:"东昌府区",value:"371502",parent:"371500"},{name:"阳谷县",value:"371521",parent:"371500"},{name:"莘县",value:"371522",parent:"371500"},{name:"茌平县",value:"371523",parent:"371500"},{name:"东阿县",value:"371524",parent:"371500"},{name:"冠县",value:"371525",parent:"371500"},{name:"高唐县",value:"371526",parent:"371500"},{name:"临清市",value:"371581",parent:"371500"},{name:"滨城区",value:"371602",parent:"371600"},{name:"沾化区",value:"371603",parent:"371600"},{name:"惠民县",value:"371621",parent:"371600"},{name:"阳信县",value:"371622",parent:"371600"},{name:"无棣县",value:"371623",parent:"371600"},{name:"博兴县",value:"371625",parent:"371600"},{name:"邹平县",value:"371626",parent:"371600"},{name:"牡丹区",value:"371702",parent:"371700"},{name:"定陶区",value:"371703",parent:"371700"},{name:"曹县",value:"371721",parent:"371700"},{name:"单县",value:"371722",parent:"371700"},{name:"成武县",value:"371723",parent:"371700"},{name:"巨野县",value:"371724",parent:"371700"},{name:"郓城县",value:"371725",parent:"371700"},{name:"鄄城县",value:"371726",parent:"371700"},{name:"东明县",value:"371728",parent:"371700"},{name:"郑州市",value:"410100",parent:"410000"},{name:"开封市",value:"410200",parent:"410000"},{name:"洛阳市",value:"410300",parent:"410000"},{name:"平顶山市",value:"410400",parent:"410000"},{name:"安阳市",value:"410500",parent:"410000"},{name:"鹤壁市",value:"410600",parent:"410000"},{name:"新乡市",value:"410700",parent:"410000"},{name:"焦作市",value:"410800",parent:"410000"},{name:"濮阳市",value:"410900",parent:"410000"},{name:"许昌市",value:"411000",parent:"410000"},{name:"漯河市",value:"411100",parent:"410000"},{name:"三门峡市",value:"411200",parent:"410000"},{name:"南阳市",value:"411300",parent:"410000"},{name:"商丘市",value:"411400",parent:"410000"},{name:"信阳市",value:"411500",parent:"410000"},{name:"周口市",value:"411600",parent:"410000"},{name:"驻马店市",value:"411700",parent:"410000"},{name:"济源市",value:"419001",parent:"410000"},{name:"中原区",value:"410102",parent:"410100"},{name:"二七区",value:"410103",parent:"410100"},{name:"管城回族区",value:"410104",parent:"410100"},{name:"金水区",value:"410105",parent:"410100"},{name:"上街区",value:"410106",parent:"410100"},{name:"惠济区",value:"410108",parent:"410100"},{name:"中牟县",value:"410122",parent:"410100"},{name:"巩义市",value:"410181",parent:"410100"},{name:"荥阳市",value:"410182",parent:"410100"},{name:"新密市",value:"410183",parent:"410100"},{name:"新郑市",value:"410184",parent:"410100"},{name:"登封市",value:"410185",parent:"410100"},{name:"龙亭区",value:"410202",parent:"410200"},{name:"顺河回族区",value:"410203",parent:"410200"},{name:"鼓楼区",value:"410204",parent:"410200"},{name:"禹王台区",value:"410205",parent:"410200"},{name:"金明区",value:"410211",parent:"410200"},{name:"祥符区",value:"410212",parent:"410200"},{name:"杞县",value:"410221",parent:"410200"},{name:"通许县",value:"410222",parent:"410200"},{name:"尉氏县",value:"410223",parent:"410200"},{name:"兰考县",value:"410225",parent:"410200"},{name:"老城区",value:"410302",parent:"410300"},{name:"西工区",value:"410303",parent:"410300"},{name:"瀍河回族区",value:"410304",parent:"410300"},{name:"涧西区",value:"410305",parent:"410300"},{name:"吉利区",value:"410306",parent:"410300"},{name:"洛龙区",value:"410311",parent:"410300"},{name:"孟津县",value:"410322",parent:"410300"},{name:"新安县",value:"410323",parent:"410300"},{name:"栾川县",value:"410324",parent:"410300"},{name:"嵩县",value:"410325",parent:"410300"},{name:"汝阳县",value:"410326",parent:"410300"},{name:"宜阳县",value:"410327",parent:"410300"},{name:"洛宁县",value:"410328",parent:"410300"},{name:"伊川县",value:"410329",parent:"410300"},{name:"偃师市",value:"410381",parent:"410300"},{name:"新华区",value:"410402",parent:"410400"},{name:"卫东区",value:"410403",parent:"410400"},{name:"石龙区",value:"410404",parent:"410400"},{name:"湛河区",value:"410411",parent:"410400"},{name:"宝丰县",value:"410421",parent:"410400"},{name:"叶县",value:"410422",parent:"410400"},{name:"鲁山县",value:"410423",parent:"410400"},{name:"郏县",value:"410425",parent:"410400"},{name:"舞钢市",value:"410481",parent:"410400"},{name:"汝州市",value:"410482",parent:"410400"},{name:"文峰区",value:"410502",parent:"410500"},{name:"北关区",value:"410503",parent:"410500"},{name:"殷都区",value:"410505",parent:"410500"},{name:"龙安区",value:"410506",parent:"410500"},{name:"安阳县",value:"410522",parent:"410500"},{name:"汤阴县",value:"410523",parent:"410500"},{name:"滑县",value:"410526",parent:"410500"},{name:"内黄县",value:"410527",parent:"410500"},{name:"林州市",value:"410581",parent:"410500"},{name:"鹤山区",value:"410602",parent:"410600"},{name:"山城区",value:"410603",parent:"410600"},{name:"淇滨区",value:"410611",parent:"410600"},{name:"浚县",value:"410621",parent:"410600"},{name:"淇县",value:"410622",parent:"410600"},{name:"红旗区",value:"410702",parent:"410700"},{name:"卫滨区",value:"410703",parent:"410700"},{name:"凤泉区",value:"410704",parent:"410700"},{name:"牧野区",value:"410711",parent:"410700"},{name:"新乡县",value:"410721",parent:"410700"},{name:"获嘉县",value:"410724",parent:"410700"},{name:"原阳县",value:"410725",parent:"410700"},{name:"延津县",value:"410726",parent:"410700"},{name:"封丘县",value:"410727",parent:"410700"},{name:"长垣县",value:"410728",parent:"410700"},{name:"卫辉市",value:"410781",parent:"410700"},{name:"辉县市",value:"410782",parent:"410700"},{name:"解放区",value:"410802",parent:"410800"},{name:"中站区",value:"410803",parent:"410800"},{name:"马村区",value:"410804",parent:"410800"},{name:"山阳区",value:"410811",parent:"410800"},{name:"修武县",value:"410821",parent:"410800"},{name:"博爱县",value:"410822",parent:"410800"},{name:"武陟县",value:"410823",parent:"410800"},{name:"温县",value:"410825",parent:"410800"},{name:"沁阳市",value:"410882",parent:"410800"},{name:"孟州市",value:"410883",parent:"410800"},{name:"华龙区",value:"410902",parent:"410900"},{name:"清丰县",value:"410922",parent:"410900"},{name:"南乐县",value:"410923",parent:"410900"},{name:"范县",value:"410926",parent:"410900"},{name:"台前县",value:"410927",parent:"410900"},{name:"濮阳县",value:"410928",parent:"410900"},{name:"魏都区",value:"411002",parent:"411000"},{name:"许昌县",value:"411023",parent:"411000"},{name:"鄢陵县",value:"411024",parent:"411000"},{name:"襄城县",value:"411025",parent:"411000"},{name:"禹州市",value:"411081",parent:"411000"},{name:"长葛市",value:"411082",parent:"411000"},{name:"源汇区",value:"411102",parent:"411100"},{name:"郾城区",value:"411103",parent:"411100"},{name:"召陵区",value:"411104",parent:"411100"},{name:"舞阳县",value:"411121",parent:"411100"},{name:"临颍县",value:"411122",parent:"411100"},{name:"湖滨区",value:"411202",parent:"411200"},{name:"陕州区",value:"411203",parent:"411200"},{name:"渑池县",value:"411221",parent:"411200"},{name:"卢氏县",value:"411224",parent:"411200"},{name:"义马市",value:"411281",parent:"411200"},{name:"灵宝市",value:"411282",parent:"411200"},{name:"宛城区",value:"411302",parent:"411300"},{name:"卧龙区",value:"411303",parent:"411300"},{name:"南召县",value:"411321",parent:"411300"},{name:"方城县",value:"411322",parent:"411300"},{name:"西峡县",value:"411323",parent:"411300"},{name:"镇平县",value:"411324",parent:"411300"},{name:"内乡县",value:"411325",parent:"411300"},{name:"淅川县",value:"411326",parent:"411300"},{name:"社旗县",value:"411327",parent:"411300"},{name:"唐河县",value:"411328",parent:"411300"},{name:"新野县",value:"411329",parent:"411300"},{name:"桐柏县",value:"411330",parent:"411300"},{name:"邓州市",value:"411381",parent:"411300"},{name:"梁园区",value:"411402",parent:"411400"},{name:"睢阳区",value:"411403",parent:"411400"},{name:"民权县",value:"411421",parent:"411400"},{name:"睢县",value:"411422",parent:"411400"},{name:"宁陵县",value:"411423",parent:"411400"},{name:"柘城县",value:"411424",parent:"411400"},{name:"虞城县",value:"411425",parent:"411400"},{name:"夏邑县",value:"411426",parent:"411400"},{name:"永城市",value:"411481",parent:"411400"},{name:"浉河区",value:"411502",parent:"411500"},{name:"平桥区",value:"411503",parent:"411500"},{name:"罗山县",value:"411521",parent:"411500"},{name:"光山县",value:"411522",parent:"411500"},{name:"新县",value:"411523",parent:"411500"},{name:"商城县",value:"411524",parent:"411500"},{name:"固始县",value:"411525",parent:"411500"},{name:"潢川县",value:"411526",parent:"411500"},{name:"淮滨县",value:"411527",parent:"411500"},{name:"息县",value:"411528",parent:"411500"},{name:"川汇区",value:"411602",parent:"411600"},{name:"扶沟县",value:"411621",parent:"411600"},{name:"西华县",value:"411622",parent:"411600"},{name:"商水县",value:"411623",parent:"411600"},{name:"沈丘县",value:"411624",parent:"411600"},{name:"郸城县",value:"411625",parent:"411600"},{name:"淮阳县",value:"411626",parent:"411600"},{name:"太康县",value:"411627",parent:"411600"},{name:"鹿邑县",value:"411628",parent:"411600"},{name:"项城市",value:"411681",parent:"411600"},{name:"驿城区",value:"411702",parent:"411700"},{name:"西平县",value:"411721",parent:"411700"},{name:"上蔡县",value:"411722",parent:"411700"},{name:"平舆县",value:"411723",parent:"411700"},{name:"正阳县",value:"411724",parent:"411700"},{name:"确山县",value:"411725",parent:"411700"},{name:"泌阳县",value:"411726",parent:"411700"},{name:"汝南县",value:"411727",parent:"411700"},{name:"遂平县",value:"411728",parent:"411700"},{name:"新蔡县",value:"411729",parent:"411700"},{name:"武汉市",value:"420100",parent:"420000"},{name:"黄石市",value:"420200",parent:"420000"},{name:"十堰市",value:"420300",parent:"420000"},{name:"宜昌市",value:"420500",parent:"420000"},{name:"襄阳市",value:"420600",parent:"420000"},{name:"鄂州市",value:"420700",parent:"420000"},{name:"荆门市",value:"420800",parent:"420000"},{name:"孝感市",value:"420900",parent:"420000"},{name:"荆州市",value:"421000",parent:"420000"},{name:"黄冈市",value:"421100",parent:"420000"},{name:"咸宁市",value:"421200",parent:"420000"},{name:"随州市",value:"421300",parent:"420000"},{name:"恩施土家族苗族自治州",value:"422800",parent:"420000"},{name:"仙桃市",value:"429004",parent:"420000"},{name:"潜江市",value:"429005",parent:"420000"},{name:"天门市",value:"429006",parent:"420000"},{name:"神农架林区",value:"429021",parent:"420000"},{name:"江岸区",value:"420102",parent:"420100"},{name:"江汉区",value:"420103",parent:"420100"},{name:"硚口区",value:"420104",parent:"420100"},{name:"汉阳区",value:"420105",parent:"420100"},{name:"武昌区",value:"420106",parent:"420100"},{name:"青山区",value:"420107",parent:"420100"},{name:"洪山区",value:"420111",parent:"420100"},{name:"东西湖区",value:"420112",parent:"420100"},{name:"汉南区",value:"420113",parent:"420100"},{name:"蔡甸区",value:"420114",parent:"420100"},{name:"江夏区",value:"420115",parent:"420100"},{name:"黄陂区",value:"420116",parent:"420100"},{name:"新洲区",value:"420117",parent:"420100"},{name:"黄石港区",value:"420202",parent:"420200"},{name:"西塞山区",value:"420203",parent:"420200"},{name:"下陆区",value:"420204",parent:"420200"},{name:"铁山区",value:"420205",parent:"420200"},{name:"阳新县",value:"420222",parent:"420200"},{name:"大冶市",value:"420281",parent:"420200"},{name:"茅箭区",value:"420302",parent:"420300"},{name:"张湾区",value:"420303",parent:"420300"},{name:"郧阳区",value:"420304",parent:"420300"},{name:"郧西县",value:"420322",parent:"420300"},{name:"竹山县",value:"420323",parent:"420300"},{name:"竹溪县",value:"420324",parent:"420300"},{name:"房县",value:"420325",parent:"420300"},{name:"丹江口市",value:"420381",parent:"420300"},{name:"西陵区",value:"420502",parent:"420500"},{name:"伍家岗区",value:"420503",parent:"420500"},{name:"点军区",value:"420504",parent:"420500"},{name:"猇亭区",value:"420505",parent:"420500"},{name:"夷陵区",value:"420506",parent:"420500"},{name:"远安县",value:"420525",parent:"420500"},{name:"兴山县",value:"420526",parent:"420500"},{name:"秭归县",value:"420527",parent:"420500"},{name:"长阳土家族自治县",value:"420528",parent:"420500"},{name:"五峰土家族自治县",value:"420529",parent:"420500"},{name:"宜都市",value:"420581",parent:"420500"},{name:"当阳市",value:"420582",parent:"420500"},{name:"枝江市",value:"420583",parent:"420500"},{name:"襄城区",value:"420602",parent:"420600"},{name:"樊城区",value:"420606",parent:"420600"},{name:"襄州区",value:"420607",parent:"420600"},{name:"南漳县",value:"420624",parent:"420600"},{name:"谷城县",value:"420625",parent:"420600"},{name:"保康县",value:"420626",parent:"420600"},{name:"老河口市",value:"420682",parent:"420600"},{name:"枣阳市",value:"420683",parent:"420600"},{name:"宜城市",value:"420684",parent:"420600"},{name:"梁子湖区",value:"420702",parent:"420700"},{name:"华容区",value:"420703",parent:"420700"},{name:"鄂城区",value:"420704",parent:"420700"},{name:"东宝区",value:"420802",parent:"420800"},{name:"掇刀区",value:"420804",parent:"420800"},{name:"京山县",value:"420821",parent:"420800"},{name:"沙洋县",value:"420822",parent:"420800"},{name:"钟祥市",value:"420881",parent:"420800"},{name:"孝南区",value:"420902",parent:"420900"},{name:"孝昌县",value:"420921",parent:"420900"},{name:"大悟县",value:"420922",parent:"420900"},{name:"云梦县",value:"420923",parent:"420900"},{name:"应城市",value:"420981",parent:"420900"},{name:"安陆市",value:"420982",parent:"420900"},{name:"汉川市",value:"420984",parent:"420900"},{name:"沙市区",value:"421002",parent:"421000"},{name:"荆州区",value:"421003",parent:"421000"},{name:"公安县",value:"421022",parent:"421000"},{name:"监利县",value:"421023",parent:"421000"},{name:"江陵县",value:"421024",parent:"421000"},{name:"石首市",value:"421081",parent:"421000"},{name:"洪湖市",value:"421083",parent:"421000"},{name:"松滋市",value:"421087",parent:"421000"},{name:"黄州区",value:"421102",parent:"421100"},{name:"团风县",value:"421121",parent:"421100"},{name:"红安县",value:"421122",parent:"421100"},{name:"罗田县",value:"421123",parent:"421100"},{name:"英山县",value:"421124",parent:"421100"},{name:"浠水县",value:"421125",parent:"421100"},{name:"蕲春县",value:"421126",parent:"421100"},{name:"黄梅县",value:"421127",parent:"421100"},{name:"麻城市",value:"421181",parent:"421100"},{name:"武穴市",value:"421182",parent:"421100"},{name:"咸安区",value:"421202",parent:"421200"},{name:"嘉鱼县",value:"421221",parent:"421200"},{name:"通城县",value:"421222",parent:"421200"},{name:"崇阳县",value:"421223",parent:"421200"},{name:"通山县",value:"421224",parent:"421200"},{name:"赤壁市",value:"421281",parent:"421200"},{name:"曾都区",value:"421303",parent:"421300"},{name:"随县",value:"421321",parent:"421300"},{name:"广水市",value:"421381",parent:"421300"},{name:"恩施市",value:"422801",parent:"422800"},{name:"利川市",value:"422802",parent:"422800"},{name:"建始县",value:"422822",parent:"422800"},{name:"巴东县",value:"422823",parent:"422800"},{name:"宣恩县",value:"422825",parent:"422800"},{name:"咸丰县",value:"422826",parent:"422800"},{name:"来凤县",value:"422827",parent:"422800"},{name:"鹤峰县",value:"422828",parent:"422800"},{name:"长沙市",value:"430100",parent:"430000"},{name:"株洲市",value:"430200",parent:"430000"},{name:"湘潭市",value:"430300",parent:"430000"},{name:"衡阳市",value:"430400",parent:"430000"},{name:"邵阳市",value:"430500",parent:"430000"},{name:"岳阳市",value:"430600",parent:"430000"},{name:"常德市",value:"430700",parent:"430000"},{name:"张家界市",value:"430800",parent:"430000"},{name:"益阳市",value:"430900",parent:"430000"},{name:"郴州市",value:"431000",parent:"430000"},{name:"永州市",value:"431100",parent:"430000"},{name:"怀化市",value:"431200",parent:"430000"},{name:"娄底市",value:"431300",parent:"430000"},{name:"湘西土家族苗族自治州",value:"433100",parent:"430000"},{name:"芙蓉区",value:"430102",parent:"430100"},{name:"天心区",value:"430103",parent:"430100"},{name:"岳麓区",value:"430104",parent:"430100"},{name:"开福区",value:"430105",parent:"430100"},{name:"雨花区",value:"430111",parent:"430100"},{name:"望城区",value:"430112",parent:"430100"},{name:"长沙县",value:"430121",parent:"430100"},{name:"宁乡县",value:"430124",parent:"430100"},{name:"浏阳市",value:"430181",parent:"430100"},{name:"荷塘区",value:"430202",parent:"430200"},{name:"芦淞区",value:"430203",parent:"430200"},{name:"石峰区",value:"430204",parent:"430200"},{name:"天元区",value:"430211",parent:"430200"},{name:"株洲县",value:"430221",parent:"430200"},{name:"攸县",value:"430223",parent:"430200"},{name:"茶陵县",value:"430224",parent:"430200"},{name:"炎陵县",value:"430225",parent:"430200"},{name:"醴陵市",value:"430281",parent:"430200"},{name:"雨湖区",value:"430302",parent:"430300"},{name:"岳塘区",value:"430304",parent:"430300"},{name:"湘潭县",value:"430321",parent:"430300"},{name:"湘乡市",value:"430381",parent:"430300"},{name:"韶山市",value:"430382",parent:"430300"},{name:"珠晖区",value:"430405",parent:"430400"},{name:"雁峰区",value:"430406",parent:"430400"},{name:"石鼓区",value:"430407",parent:"430400"},{name:"蒸湘区",value:"430408",parent:"430400"},{name:"南岳区",value:"430412",parent:"430400"},{name:"衡阳县",value:"430421",parent:"430400"},{name:"衡南县",value:"430422",parent:"430400"},{name:"衡山县",value:"430423",parent:"430400"},{name:"衡东县",value:"430424",parent:"430400"},{name:"祁东县",value:"430426",parent:"430400"},{name:"耒阳市",value:"430481",parent:"430400"},{name:"常宁市",value:"430482",parent:"430400"},{name:"双清区",value:"430502",parent:"430500"},{name:"大祥区",value:"430503",parent:"430500"},{name:"北塔区",value:"430511",parent:"430500"},{name:"邵东县",value:"430521",parent:"430500"},{name:"新邵县",value:"430522",parent:"430500"},{name:"邵阳县",value:"430523",parent:"430500"},{name:"隆回县",value:"430524",parent:"430500"},{name:"洞口县",value:"430525",parent:"430500"},{name:"绥宁县",value:"430527",parent:"430500"},{name:"新宁县",value:"430528",parent:"430500"},{name:"城步苗族自治县",value:"430529",parent:"430500"},{name:"武冈市",value:"430581",parent:"430500"},{name:"岳阳楼区",value:"430602",parent:"430600"},{name:"云溪区",value:"430603",parent:"430600"},{name:"君山区",value:"430611",parent:"430600"},{name:"岳阳县",value:"430621",parent:"430600"},{name:"华容县",value:"430623",parent:"430600"},{name:"湘阴县",value:"430624",parent:"430600"},{name:"平江县",value:"430626",parent:"430600"},{name:"汨罗市",value:"430681",parent:"430600"},{name:"临湘市",value:"430682",parent:"430600"},{name:"武陵区",value:"430702",parent:"430700"},{name:"鼎城区",value:"430703",parent:"430700"},{name:"安乡县",value:"430721",parent:"430700"},{name:"汉寿县",value:"430722",parent:"430700"},{name:"澧县",value:"430723",parent:"430700"},{name:"临澧县",value:"430724",parent:"430700"},{name:"桃源县",value:"430725",parent:"430700"},{name:"石门县",value:"430726",parent:"430700"},{name:"津市市",value:"430781",parent:"430700"},{name:"永定区",value:"430802",parent:"430800"},{name:"武陵源区",value:"430811",parent:"430800"},{name:"慈利县",value:"430821",parent:"430800"},{name:"桑植县",value:"430822",parent:"430800"},{name:"资阳区",value:"430902",parent:"430900"},{name:"赫山区",value:"430903",parent:"430900"},{name:"南县",value:"430921",parent:"430900"},{name:"桃江县",value:"430922",parent:"430900"},{name:"安化县",value:"430923",parent:"430900"},{name:"沅江市",value:"430981",parent:"430900"},{name:"北湖区",value:"431002",parent:"431000"},{name:"苏仙区",value:"431003",parent:"431000"},{name:"桂阳县",value:"431021",parent:"431000"},{name:"宜章县",value:"431022",parent:"431000"},{name:"永兴县",value:"431023",parent:"431000"},{name:"嘉禾县",value:"431024",parent:"431000"},{name:"临武县",value:"431025",parent:"431000"},{name:"汝城县",value:"431026",parent:"431000"},{name:"桂东县",value:"431027",parent:"431000"},{name:"安仁县",value:"431028",parent:"431000"},{name:"资兴市",value:"431081",parent:"431000"},{name:"零陵区",value:"431102",parent:"431100"},{name:"冷水滩区",value:"431103",parent:"431100"},{name:"祁阳县",value:"431121",parent:"431100"},{name:"东安县",value:"431122",parent:"431100"},{name:"双牌县",value:"431123",parent:"431100"},{name:"道县",value:"431124",parent:"431100"},{name:"江永县",value:"431125",parent:"431100"},{name:"宁远县",value:"431126",parent:"431100"},{name:"蓝山县",value:"431127",parent:"431100"},{name:"新田县",value:"431128",parent:"431100"},{name:"江华瑶族自治县",value:"431129",parent:"431100"},{name:"鹤城区",value:"431202",parent:"431200"},{name:"中方县",value:"431221",parent:"431200"},{name:"沅陵县",value:"431222",parent:"431200"},{name:"辰溪县",value:"431223",parent:"431200"},{name:"溆浦县",value:"431224",parent:"431200"},{name:"会同县",value:"431225",parent:"431200"},{name:"麻阳苗族自治县",value:"431226",parent:"431200"},{name:"新晃侗族自治县",value:"431227",parent:"431200"},{name:"芷江侗族自治县",value:"431228",parent:"431200"},{name:"靖州苗族侗族自治县",value:"431229",parent:"431200"},{name:"通道侗族自治县",value:"431230",parent:"431200"},{name:"洪江市",value:"431281",parent:"431200"},{name:"娄星区",value:"431302",parent:"431300"},{name:"双峰县",value:"431321",parent:"431300"},{name:"新化县",value:"431322",parent:"431300"},{name:"冷水江市",value:"431381",parent:"431300"},{name:"涟源市",value:"431382",parent:"431300"},{name:"吉首市",value:"433101",parent:"433100"},{name:"泸溪县",value:"433122",parent:"433100"},{name:"凤凰县",value:"433123",parent:"433100"},{name:"花垣县",value:"433124",parent:"433100"},{name:"保靖县",value:"433125",parent:"433100"},{name:"古丈县",value:"433126",parent:"433100"},{name:"永顺县",value:"433127",parent:"433100"},{name:"龙山县",value:"433130",parent:"433100"},{name:"广州市",value:"440100",parent:"440000"},{name:"韶关市",value:"440200",parent:"440000"},{name:"深圳市",value:"440300",parent:"440000"},{name:"珠海市",value:"440400",parent:"440000"},{name:"汕头市",value:"440500",parent:"440000"},{name:"佛山市",value:"440600",parent:"440000"},{name:"江门市",value:"440700",parent:"440000"},{name:"湛江市",value:"440800",parent:"440000"},{name:"茂名市",value:"440900",parent:"440000"},{name:"肇庆市",value:"441200",parent:"440000"},{name:"惠州市",value:"441300",parent:"440000"},{name:"梅州市",value:"441400",parent:"440000"},{name:"汕尾市",value:"441500",parent:"440000"},{name:"河源市",value:"441600",parent:"440000"},{name:"阳江市",value:"441700",parent:"440000"},{name:"清远市",value:"441800",parent:"440000"},{name:"东莞市",value:"441900",parent:"440000"},{name:"中山市",value:"442000",parent:"440000"},{name:"潮州市",value:"445100",parent:"440000"},{name:"揭阳市",value:"445200",parent:"440000"},{name:"云浮市",value:"445300",parent:"440000"},{name:"荔湾区",value:"440103",parent:"440100"},{name:"越秀区",value:"440104",parent:"440100"},{name:"海珠区",value:"440105",parent:"440100"},{name:"天河区",value:"440106",parent:"440100"},{name:"白云区",value:"440111",parent:"440100"},{name:"黄埔区",value:"440112",parent:"440100"},{name:"番禺区",value:"440113",parent:"440100"},{name:"花都区",value:"440114",parent:"440100"},{name:"南沙区",value:"440115",parent:"440100"},{name:"从化区",value:"440117",parent:"440100"},{name:"增城区",value:"440118",parent:"440100"},{name:"武江区",value:"440203",parent:"440200"},{name:"浈江区",value:"440204",parent:"440200"},{name:"曲江区",value:"440205",parent:"440200"},{name:"始兴县",value:"440222",parent:"440200"},{name:"仁化县",value:"440224",parent:"440200"},{name:"翁源县",value:"440229",parent:"440200"},{name:"乳源瑶族自治县",value:"440232",parent:"440200"},{name:"新丰县",value:"440233",parent:"440200"},{name:"乐昌市",value:"440281",parent:"440200"},{name:"南雄市",value:"440282",parent:"440200"},{name:"罗湖区",value:"440303",parent:"440300"},{name:"福田区",value:"440304",parent:"440300"},{name:"南山区",value:"440305",parent:"440300"},{name:"宝安区",value:"440306",parent:"440300"},{name:"龙岗区",value:"440307",parent:"440300"},{name:"盐田区",value:"440308",parent:"440300"},{name:"香洲区",value:"440402",parent:"440400"},{name:"斗门区",value:"440403",parent:"440400"},{name:"金湾区",value:"440404",parent:"440400"},{name:"龙湖区",value:"440507",parent:"440500"},{name:"金平区",value:"440511",parent:"440500"},{name:"濠江区",value:"440512",parent:"440500"},{name:"潮阳区",value:"440513",parent:"440500"},{name:"潮南区",value:"440514",parent:"440500"},{name:"澄海区",value:"440515",parent:"440500"},{name:"南澳县",value:"440523",parent:"440500"},{name:"禅城区",value:"440604",parent:"440600"},{name:"南海区",value:"440605",parent:"440600"},{name:"顺德区",value:"440606",parent:"440600"},{name:"三水区",value:"440607",parent:"440600"},{name:"高明区",value:"440608",parent:"440600"},{name:"蓬江区",value:"440703",parent:"440700"},{name:"江海区",value:"440704",parent:"440700"},{name:"新会区",value:"440705",parent:"440700"},{name:"台山市",value:"440781",parent:"440700"},{name:"开平市",value:"440783",parent:"440700"},{name:"鹤山市",value:"440784",parent:"440700"},{name:"恩平市",value:"440785",parent:"440700"},{name:"赤坎区",value:"440802",parent:"440800"},{name:"霞山区",value:"440803",parent:"440800"},{name:"坡头区",value:"440804",parent:"440800"},{name:"麻章区",value:"440811",parent:"440800"},{name:"遂溪县",value:"440823",parent:"440800"},{name:"徐闻县",value:"440825",parent:"440800"},{name:"廉江市",value:"440881",parent:"440800"},{name:"雷州市",value:"440882",parent:"440800"},{name:"吴川市",value:"440883",parent:"440800"},{name:"茂南区",value:"440902",parent:"440900"},{name:"电白区",value:"440904",parent:"440900"},{name:"高州市",value:"440981",parent:"440900"},{name:"化州市",value:"440982",parent:"440900"},{name:"信宜市",value:"440983",parent:"440900"},{name:"端州区",value:"441202",parent:"441200"},{name:"鼎湖区",value:"441203",parent:"441200"},{name:"高要区",value:"441204",parent:"441200"},{name:"广宁县",value:"441223",parent:"441200"},{name:"怀集县",value:"441224",parent:"441200"},{name:"封开县",value:"441225",parent:"441200"},{name:"德庆县",value:"441226",parent:"441200"},{name:"四会市",value:"441284",parent:"441200"},{name:"惠城区",value:"441302",parent:"441300"},{name:"惠阳区",value:"441303",parent:"441300"},{name:"博罗县",value:"441322",parent:"441300"},{name:"惠东县",value:"441323",parent:"441300"},{name:"龙门县",value:"441324",parent:"441300"},{name:"梅江区",value:"441402",parent:"441400"},{name:"梅县区",value:"441403",parent:"441400"},{name:"大埔县",value:"441422",parent:"441400"},{name:"丰顺县",value:"441423",parent:"441400"},{name:"五华县",value:"441424",parent:"441400"},{name:"平远县",value:"441426",parent:"441400"},{name:"蕉岭县",value:"441427",parent:"441400"},{name:"兴宁市",value:"441481",parent:"441400"},{name:"城区",value:"441502",parent:"441500"},{name:"海丰县",value:"441521",parent:"441500"},{name:"陆河县",value:"441523",parent:"441500"},{name:"陆丰市",value:"441581",parent:"441500"},{name:"源城区",value:"441602",parent:"441600"},{name:"紫金县",value:"441621",parent:"441600"},{name:"龙川县",value:"441622",parent:"441600"},{name:"连平县",value:"441623",parent:"441600"},{name:"和平县",value:"441624",parent:"441600"},{name:"东源县",value:"441625",parent:"441600"},{name:"江城区",value:"441702",parent:"441700"},{name:"阳东区",value:"441704",parent:"441700"},{name:"阳西县",value:"441721",parent:"441700"},{name:"阳春市",value:"441781",parent:"441700"},{name:"清城区",value:"441802",parent:"441800"},{name:"清新区",value:"441803",parent:"441800"},{name:"佛冈县",value:"441821",parent:"441800"},{name:"阳山县",value:"441823",parent:"441800"},{name:"连山壮族瑶族自治县",value:"441825",parent:"441800"},{name:"连南瑶族自治县",value:"441826",parent:"441800"},{name:"英德市",value:"441881",parent:"441800"},{name:"连州市",value:"441882",parent:"441800"},{name:"湘桥区",value:"445102",parent:"445100"},{name:"潮安区",value:"445103",parent:"445100"},{name:"饶平县",value:"445122",parent:"445100"},{name:"榕城区",value:"445202",parent:"445200"},{name:"揭东区",value:"445203",parent:"445200"},{name:"揭西县",value:"445222",parent:"445200"},{name:"惠来县",value:"445224",parent:"445200"},{name:"普宁市",value:"445281",parent:"445200"},{name:"云城区",value:"445302",parent:"445300"},{name:"云安区",value:"445303",parent:"445300"},{name:"新兴县",value:"445321",parent:"445300"},{name:"郁南县",value:"445322",parent:"445300"},{name:"罗定市",value:"445381",parent:"445300"},{name:"南宁市",value:"450100",parent:"450000"},{name:"柳州市",value:"450200",parent:"450000"},{name:"桂林市",value:"450300",parent:"450000"},{name:"梧州市",value:"450400",parent:"450000"},{name:"北海市",value:"450500",parent:"450000"},{name:"防城港市",value:"450600",parent:"450000"},{name:"钦州市",value:"450700",parent:"450000"},{name:"贵港市",value:"450800",parent:"450000"},{name:"玉林市",value:"450900",parent:"450000"},{name:"百色市",value:"451000",parent:"450000"},{name:"贺州市",value:"451100",parent:"450000"},{name:"河池市",value:"451200",parent:"450000"},{name:"来宾市",value:"451300",parent:"450000"},{name:"崇左市",value:"451400",parent:"450000"},{name:"兴宁区",value:"450102",parent:"450100"},{name:"青秀区",value:"450103",parent:"450100"},{name:"江南区",value:"450105",parent:"450100"},{name:"西乡塘区",value:"450107",parent:"450100"},{name:"良庆区",value:"450108",parent:"450100"},{name:"邕宁区",value:"450109",parent:"450100"},{name:"武鸣区",value:"450110",parent:"450100"},{name:"隆安县",value:"450123",parent:"450100"},{name:"马山县",value:"450124",parent:"450100"},{name:"上林县",value:"450125",parent:"450100"},{name:"宾阳县",value:"450126",parent:"450100"},{name:"横县",value:"450127",parent:"450100"},{name:"城中区",value:"450202",parent:"450200"},{name:"鱼峰区",value:"450203",parent:"450200"},{name:"柳南区",value:"450204",parent:"450200"},{name:"柳北区",value:"450205",parent:"450200"},{name:"柳江区",value:"450206",parent:"450200"},{name:"柳城县",value:"450222",parent:"450200"},{name:"鹿寨县",value:"450223",parent:"450200"},{name:"融安县",value:"450224",parent:"450200"},{name:"融水苗族自治县",value:"450225",parent:"450200"},{name:"三江侗族自治县",value:"450226",parent:"450200"},{name:"秀峰区",value:"450302",parent:"450300"},{name:"叠彩区",value:"450303",parent:"450300"},{name:"象山区",value:"450304",parent:"450300"},{name:"七星区",value:"450305",parent:"450300"},{name:"雁山区",value:"450311",parent:"450300"},{name:"临桂区",value:"450312",parent:"450300"},{name:"阳朔县",value:"450321",parent:"450300"},{name:"灵川县",value:"450323",parent:"450300"},{name:"全州县",value:"450324",parent:"450300"},{name:"兴安县",value:"450325",parent:"450300"},{name:"永福县",value:"450326",parent:"450300"},{name:"灌阳县",value:"450327",parent:"450300"},{name:"龙胜各族自治县",value:"450328",parent:"450300"},{name:"资源县",value:"450329",parent:"450300"},{name:"平乐县",value:"450330",parent:"450300"},{name:"荔浦县",value:"450331",parent:"450300"},{name:"恭城瑶族自治县",value:"450332",parent:"450300"},{name:"万秀区",value:"450403",parent:"450400"},{name:"长洲区",value:"450405",parent:"450400"},{name:"龙圩区",value:"450406",parent:"450400"},{name:"苍梧县",value:"450421",parent:"450400"},{name:"藤县",value:"450422",parent:"450400"},{name:"蒙山县",value:"450423",parent:"450400"},{name:"岑溪市",value:"450481",parent:"450400"},{name:"海城区",value:"450502",parent:"450500"},{name:"银海区",value:"450503",parent:"450500"},{name:"铁山港区",value:"450512",parent:"450500"},{name:"合浦县",value:"450521",parent:"450500"},{name:"港口区",value:"450602",parent:"450600"},{name:"防城区",value:"450603",parent:"450600"},{name:"上思县",value:"450621",parent:"450600"},{name:"东兴市",value:"450681",parent:"450600"},{name:"钦南区",value:"450702",parent:"450700"},{name:"钦北区",value:"450703",parent:"450700"},{name:"灵山县",value:"450721",parent:"450700"},{name:"浦北县",value:"450722",parent:"450700"},{name:"港北区",value:"450802",parent:"450800"},{name:"港南区",value:"450803",parent:"450800"},{name:"覃塘区",value:"450804",parent:"450800"},{name:"平南县",value:"450821",parent:"450800"},{name:"桂平市",value:"450881",parent:"450800"},{name:"玉州区",value:"450902",parent:"450900"},{name:"福绵区",value:"450903",parent:"450900"},{name:"容县",value:"450921",parent:"450900"},{name:"陆川县",value:"450922",parent:"450900"},{name:"博白县",value:"450923",parent:"450900"},{name:"兴业县",value:"450924",parent:"450900"},{name:"北流市",value:"450981",parent:"450900"},{name:"右江区",value:"451002",parent:"451000"},{name:"田阳县",value:"451021",parent:"451000"},{name:"田东县",value:"451022",parent:"451000"},{name:"平果县",value:"451023",parent:"451000"},{name:"德保县",value:"451024",parent:"451000"},{name:"那坡县",value:"451026",parent:"451000"},{name:"凌云县",value:"451027",parent:"451000"},{name:"乐业县",value:"451028",parent:"451000"},{name:"田林县",value:"451029",parent:"451000"},{name:"西林县",value:"451030",parent:"451000"},{name:"隆林各族自治县",value:"451031",parent:"451000"},{name:"靖西市",value:"451081",parent:"451000"},{name:"八步区",value:"451102",parent:"451100"},{name:"平桂区",value:"451103",parent:"451100"},{name:"昭平县",value:"451121",parent:"451100"},{name:"钟山县",value:"451122",parent:"451100"},{name:"富川瑶族自治县",value:"451123",parent:"451100"},{name:"金城江区",value:"451202",parent:"451200"},{name:"南丹县",value:"451221",parent:"451200"},{name:"天峨县",value:"451222",parent:"451200"},{name:"凤山县",value:"451223",parent:"451200"},{name:"东兰县",value:"451224",parent:"451200"},{name:"罗城仫佬族自治县",value:"451225",parent:"451200"},{name:"环江毛南族自治县",value:"451226",parent:"451200"},{name:"巴马瑶族自治县",value:"451227",parent:"451200"},{name:"都安瑶族自治县",value:"451228",parent:"451200"},{name:"大化瑶族自治县",value:"451229",parent:"451200"},{name:"宜州市",value:"451281",parent:"451200"},{name:"兴宾区",value:"451302",parent:"451300"},{name:"忻城县",value:"451321",parent:"451300"},{name:"象州县",value:"451322",parent:"451300"},{name:"武宣县",value:"451323",parent:"451300"},{name:"金秀瑶族自治县",value:"451324",parent:"451300"},{name:"合山市",value:"451381",parent:"451300"},{name:"江州区",value:"451402",parent:"451400"},{name:"扶绥县",value:"451421",parent:"451400"},{name:"宁明县",value:"451422",parent:"451400"},{name:"龙州县",value:"451423",parent:"451400"},{name:"大新县",value:"451424",parent:"451400"},{name:"天等县",value:"451425",parent:"451400"},{name:"凭祥市",value:"451481",parent:"451400"},{name:"海口市",value:"460100",parent:"460000"},{name:"三亚市",value:"460200",parent:"460000"},{name:"三沙市",value:"460300",parent:"460000"},{name:"儋州市",value:"460400",parent:"460000"},{name:"五指山市",value:"469001",parent:"460000"},{name:"琼海市",value:"469002",parent:"460000"},{name:"文昌市",value:"469005",parent:"460000"},{name:"万宁市",value:"469006",parent:"460000"},{name:"东方市",value:"469007",parent:"460000"},{name:"定安县",value:"469021",parent:"460000"},{name:"屯昌县",value:"469022",parent:"460000"},{name:"澄迈县",value:"469023",parent:"460000"},{name:"临高县",value:"469024",parent:"460000"},{name:"白沙黎族自治县",value:"469025",parent:"460000"},{name:"昌江黎族自治县",value:"469026",parent:"460000"},{name:"乐东黎族自治县",value:"469027",parent:"460000"},{name:"陵水黎族自治县",value:"469028",parent:"460000"},{name:"保亭黎族苗族自治县",value:"469029",parent:"460000"},{name:"琼中黎族苗族自治县",value:"469030",parent:"460000"},{name:"秀英区",value:"460105",parent:"460100"},{name:"龙华区",value:"460106",parent:"460100"},{name:"琼山区",value:"460107",parent:"460100"},{name:"美兰区",value:"460108",parent:"460100"},{name:"海棠区",value:"460202",parent:"460200"},{name:"吉阳区",value:"460203",parent:"460200"},{name:"天涯区",value:"460204",parent:"460200"},{name:"崖州区",value:"460205",parent:"460200"},{name:"市辖区",value:"500100",parent:"500000"},{name:"县",value:"500200",parent:"500000"},{name:"万州区",value:"500101",parent:"500100"},{name:"涪陵区",value:"500102",parent:"500100"},{name:"渝中区",value:"500103",parent:"500100"},{name:"大渡口区",value:"500104",parent:"500100"},{name:"江北区",value:"500105",parent:"500100"},{name:"沙坪坝区",value:"500106",parent:"500100"},{name:"九龙坡区",value:"500107",parent:"500100"},{name:"南岸区",value:"500108",parent:"500100"},{name:"北碚区",value:"500109",parent:"500100"},{name:"綦江区",value:"500110",parent:"500100"},{name:"大足区",value:"500111",parent:"500100"},{name:"渝北区",value:"500112",parent:"500100"},{name:"巴南区",value:"500113",parent:"500100"},{name:"黔江区",value:"500114",parent:"500100"},{name:"长寿区",value:"500115",parent:"500100"},{name:"江津区",value:"500116",parent:"500100"},{name:"合川区",value:"500117",parent:"500100"},{name:"永川区",value:"500118",parent:"500100"},{name:"南川区",value:"500119",parent:"500100"},{name:"璧山区",value:"500120",parent:"500100"},{name:"铜梁区",value:"500151",parent:"500100"},{name:"潼南区",value:"500152",parent:"500100"},{name:"荣昌区",value:"500153",parent:"500100"},{name:"开州区",value:"500154",parent:"500100"},{name:"梁平县",value:"500228",parent:"500200"},{name:"城口县",value:"500229",parent:"500200"},{name:"丰都县",value:"500230",parent:"500200"},{name:"垫江县",value:"500231",parent:"500200"},{name:"武隆县",value:"500232",parent:"500200"},{name:"忠县",value:"500233",parent:"500200"},{name:"云阳县",value:"500235",parent:"500200"},{name:"奉节县",value:"500236",parent:"500200"},{name:"巫山县",value:"500237",parent:"500200"},{name:"巫溪县",value:"500238",parent:"500200"},{name:"石柱土家族自治县",value:"500240",parent:"500200"},{name:"秀山土家族苗族自治县",value:"500241",parent:"500200"},{name:"酉阳土家族苗族自治县",value:"500242",parent:"500200"},{name:"彭水苗族土家族自治县",value:"500243",parent:"500200"},{name:"成都市",value:"510100",parent:"510000"},{name:"自贡市",value:"510300",parent:"510000"},{name:"攀枝花市",value:"510400",parent:"510000"},{name:"泸州市",value:"510500",parent:"510000"},{name:"德阳市",value:"510600",parent:"510000"},{name:"绵阳市",value:"510700",parent:"510000"},{name:"广元市",value:"510800",parent:"510000"},{name:"遂宁市",value:"510900",parent:"510000"},{name:"内江市",value:"511000",parent:"510000"},{name:"乐山市",value:"511100",parent:"510000"},{name:"南充市",value:"511300",parent:"510000"},{name:"眉山市",value:"511400",parent:"510000"},{name:"宜宾市",value:"511500",parent:"510000"},{name:"广安市",value:"511600",parent:"510000"},{name:"达州市",value:"511700",parent:"510000"},{name:"雅安市",value:"511800",parent:"510000"},{name:"巴中市",value:"511900",parent:"510000"},{name:"资阳市",value:"512000",parent:"510000"},{name:"阿坝藏族羌族自治州",value:"513200",parent:"510000"},{name:"甘孜藏族自治州",value:"513300",parent:"510000"},{name:"凉山彝族自治州",value:"513400",parent:"510000"},{name:"锦江区",value:"510104",parent:"510100"},{name:"青羊区",value:"510105",parent:"510100"},{name:"金牛区",value:"510106",parent:"510100"},{name:"武侯区",value:"510107",parent:"510100"},{name:"成华区",value:"510108",parent:"510100"},{name:"龙泉驿区",value:"510112",parent:"510100"},{name:"青白江区",value:"510113",parent:"510100"},{name:"新都区",value:"510114",parent:"510100"},{name:"温江区",value:"510115",parent:"510100"},{name:"双流区",value:"510116",parent:"510100"},{name:"金堂县",value:"510121",parent:"510100"},{name:"郫县",value:"510124",parent:"510100"},{name:"大邑县",value:"510129",parent:"510100"},{name:"蒲江县",value:"510131",parent:"510100"},{name:"新津县",value:"510132",parent:"510100"},{name:"都江堰市",value:"510181",parent:"510100"},{name:"彭州市",value:"510182",parent:"510100"},{name:"邛崃市",value:"510183",parent:"510100"},{name:"崇州市",value:"510184",parent:"510100"},{name:"简阳市",value:"510185",parent:"510100"},{name:"自流井区",value:"510302",parent:"510300"},{name:"贡井区",value:"510303",parent:"510300"},{name:"大安区",value:"510304",parent:"510300"},{name:"沿滩区",value:"510311",parent:"510300"},{name:"荣县",value:"510321",parent:"510300"},{name:"富顺县",value:"510322",parent:"510300"},{name:"东区",value:"510402",parent:"510400"},{name:"西区",value:"510403",parent:"510400"},{name:"仁和区",value:"510411",parent:"510400"},{name:"米易县",value:"510421",parent:"510400"},{name:"盐边县",value:"510422",parent:"510400"},{name:"江阳区",value:"510502",parent:"510500"},{name:"纳溪区",value:"510503",parent:"510500"},{name:"龙马潭区",value:"510504",parent:"510500"},{name:"泸县",value:"510521",parent:"510500"},{name:"合江县",value:"510522",parent:"510500"},{name:"叙永县",value:"510524",parent:"510500"},{name:"古蔺县",value:"510525",parent:"510500"},{name:"旌阳区",value:"510603",parent:"510600"},{name:"中江县",value:"510623",parent:"510600"},{name:"罗江县",value:"510626",parent:"510600"},{name:"广汉市",value:"510681",parent:"510600"},{name:"什邡市",value:"510682",parent:"510600"},{name:"绵竹市",value:"510683",parent:"510600"},{name:"涪城区",value:"510703",parent:"510700"},{name:"游仙区",value:"510704",parent:"510700"},{name:"安州区",value:"510705",parent:"510700"},{name:"三台县",value:"510722",parent:"510700"},{name:"盐亭县",value:"510723",parent:"510700"},{name:"梓潼县",value:"510725",parent:"510700"},{name:"北川羌族自治县",value:"510726",parent:"510700"},{name:"平武县",value:"510727",parent:"510700"},{name:"江油市",value:"510781",parent:"510700"},{name:"利州区",value:"510802",parent:"510800"},{name:"昭化区",value:"510811",parent:"510800"},{name:"朝天区",value:"510812",parent:"510800"},{name:"旺苍县",value:"510821",parent:"510800"},{name:"青川县",value:"510822",parent:"510800"},{name:"剑阁县",value:"510823",parent:"510800"},{name:"苍溪县",value:"510824",parent:"510800"},{name:"船山区",value:"510903",parent:"510900"},{name:"安居区",value:"510904",parent:"510900"},{name:"蓬溪县",value:"510921",parent:"510900"},{name:"射洪县",value:"510922",parent:"510900"},{name:"大英县",value:"510923",parent:"510900"},{name:"市中区",value:"511002",parent:"511000"},{name:"东兴区",value:"511011",parent:"511000"},{name:"威远县",value:"511024",parent:"511000"},{name:"资中县",value:"511025",parent:"511000"},{name:"隆昌县",value:"511028",parent:"511000"},{name:"市中区",value:"511102",parent:"511100"},{name:"沙湾区",value:"511111",parent:"511100"},{name:"五通桥区",value:"511112",parent:"511100"},{name:"金口河区",value:"511113",parent:"511100"},{name:"犍为县",value:"511123",parent:"511100"},{name:"井研县",value:"511124",parent:"511100"},{name:"夹江县",value:"511126",parent:"511100"},{name:"沐川县",value:"511129",parent:"511100"},{name:"峨边彝族自治县",value:"511132",parent:"511100"},{name:"马边彝族自治县",value:"511133",parent:"511100"},{name:"峨眉山市",value:"511181",parent:"511100"},{name:"顺庆区",value:"511302",parent:"511300"},{name:"高坪区",value:"511303",parent:"511300"},{name:"嘉陵区",value:"511304",parent:"511300"},{name:"南部县",value:"511321",parent:"511300"},{name:"营山县",value:"511322",parent:"511300"},{name:"蓬安县",value:"511323",parent:"511300"},{name:"仪陇县",value:"511324",parent:"511300"},{name:"西充县",value:"511325",parent:"511300"},{name:"阆中市",value:"511381",parent:"511300"},{name:"东坡区",value:"511402",parent:"511400"},{name:"彭山区",value:"511403",parent:"511400"},{name:"仁寿县",value:"511421",parent:"511400"},{name:"洪雅县",value:"511423",parent:"511400"},{name:"丹棱县",value:"511424",parent:"511400"},{name:"青神县",value:"511425",parent:"511400"},{name:"翠屏区",value:"511502",parent:"511500"},{name:"南溪区",value:"511503",parent:"511500"},{name:"宜宾县",value:"511521",parent:"511500"},{name:"江安县",value:"511523",parent:"511500"},{name:"长宁县",value:"511524",parent:"511500"},{name:"高县",value:"511525",parent:"511500"},{name:"珙县",value:"511526",parent:"511500"},{name:"筠连县",value:"511527",parent:"511500"},{name:"兴文县",value:"511528",parent:"511500"},{name:"屏山县",value:"511529",parent:"511500"},{name:"广安区",value:"511602",parent:"511600"},{name:"前锋区",value:"511603",parent:"511600"},{name:"岳池县",value:"511621",parent:"511600"},{name:"武胜县",value:"511622",parent:"511600"},{name:"邻水县",value:"511623",parent:"511600"},{name:"华蓥市",value:"511681",parent:"511600"},{name:"通川区",value:"511702",parent:"511700"},{name:"达川区",value:"511703",parent:"511700"},{name:"宣汉县",value:"511722",parent:"511700"},{name:"开江县",value:"511723",parent:"511700"},{name:"大竹县",value:"511724",parent:"511700"},{name:"渠县",value:"511725",parent:"511700"},{name:"万源市",value:"511781",parent:"511700"},{name:"雨城区",value:"511802",parent:"511800"},{name:"名山区",value:"511803",parent:"511800"},{name:"荥经县",value:"511822",parent:"511800"},{name:"汉源县",value:"511823",parent:"511800"},{name:"石棉县",value:"511824",parent:"511800"},{name:"天全县",value:"511825",parent:"511800"},{name:"芦山县",value:"511826",parent:"511800"},{name:"宝兴县",value:"511827",parent:"511800"},{name:"巴州区",value:"511902",parent:"511900"},{name:"恩阳区",value:"511903",parent:"511900"},{name:"通江县",value:"511921",parent:"511900"},{name:"南江县",value:"511922",parent:"511900"},{name:"平昌县",value:"511923",parent:"511900"},{name:"雁江区",value:"512002",parent:"512000"},{name:"安岳县",value:"512021",parent:"512000"},{name:"乐至县",value:"512022",parent:"512000"},{name:"马尔康市",value:"513201",parent:"513200"},{name:"汶川县",value:"513221",parent:"513200"},{name:"理县",value:"513222",parent:"513200"},{name:"茂县",value:"513223",parent:"513200"},{name:"松潘县",value:"513224",parent:"513200"},{name:"九寨沟县",value:"513225",parent:"513200"},{name:"金川县",value:"513226",parent:"513200"},{name:"小金县",value:"513227",parent:"513200"},{name:"黑水县",value:"513228",parent:"513200"},{name:"壤塘县",value:"513230",parent:"513200"},{name:"阿坝县",value:"513231",parent:"513200"},{name:"若尔盖县",value:"513232",parent:"513200"},{name:"红原县",value:"513233",parent:"513200"},{name:"康定市",value:"513301",parent:"513300"},{name:"泸定县",value:"513322",parent:"513300"},{name:"丹巴县",value:"513323",parent:"513300"},{name:"九龙县",value:"513324",parent:"513300"},{name:"雅江县",value:"513325",parent:"513300"},{name:"道孚县",value:"513326",parent:"513300"},{name:"炉霍县",value:"513327",parent:"513300"},{name:"甘孜县",value:"513328",parent:"513300"},{name:"新龙县",value:"513329",parent:"513300"},{name:"德格县",value:"513330",parent:"513300"},{name:"白玉县",value:"513331",parent:"513300"},{name:"石渠县",value:"513332",parent:"513300"},{name:"色达县",value:"513333",parent:"513300"},{name:"理塘县",value:"513334",parent:"513300"},{name:"巴塘县",value:"513335",parent:"513300"},{name:"乡城县",value:"513336",parent:"513300"},{name:"稻城县",value:"513337",parent:"513300"},{name:"得荣县",value:"513338",parent:"513300"},{name:"西昌市",value:"513401",parent:"513400"},{name:"木里藏族自治县",value:"513422",parent:"513400"},{name:"盐源县",value:"513423",parent:"513400"},{name:"德昌县",value:"513424",parent:"513400"},{name:"会理县",value:"513425",parent:"513400"},{name:"会东县",value:"513426",parent:"513400"},{name:"宁南县",value:"513427",parent:"513400"},{name:"普格县",value:"513428",parent:"513400"},{name:"布拖县",value:"513429",parent:"513400"},{name:"金阳县",value:"513430",parent:"513400"},{name:"昭觉县",value:"513431",parent:"513400"},{name:"喜德县",value:"513432",parent:"513400"},{name:"冕宁县",value:"513433",parent:"513400"},{name:"越西县",value:"513434",parent:"513400"},{name:"甘洛县",value:"513435",parent:"513400"},{name:"美姑县",value:"513436",parent:"513400"},{name:"雷波县",value:"513437",parent:"513400"},{name:"贵阳市",value:"520100",parent:"520000"},{name:"六盘水市",value:"520200",parent:"520000"},{name:"遵义市",value:"520300",parent:"520000"},{name:"安顺市",value:"520400",parent:"520000"},{name:"毕节市",value:"520500",parent:"520000"},{name:"铜仁市",value:"520600",parent:"520000"},{name:"黔西南布依族苗族自治州",value:"522300",parent:"520000"},{name:"黔东南苗族侗族自治州",value:"522600",parent:"520000"},{name:"黔南布依族苗族自治州",value:"522700",parent:"520000"},{name:"南明区",value:"520102",parent:"520100"},{name:"云岩区",value:"520103",parent:"520100"},{name:"花溪区",value:"520111",parent:"520100"},{name:"乌当区",value:"520112",parent:"520100"},{name:"白云区",value:"520113",parent:"520100"},{name:"观山湖区",value:"520115",parent:"520100"},{name:"开阳县",value:"520121",parent:"520100"},{name:"息烽县",value:"520122",parent:"520100"},{name:"修文县",value:"520123",parent:"520100"},{name:"清镇市",value:"520181",parent:"520100"},{name:"钟山区",value:"520201",parent:"520200"},{name:"六枝特区",value:"520203",parent:"520200"},{name:"水城县",value:"520221",parent:"520200"},{name:"盘县",value:"520222",parent:"520200"},{name:"红花岗区",value:"520302",parent:"520300"},{name:"汇川区",value:"520303",parent:"520300"},{name:"播州区",value:"520304",parent:"520300"},{name:"桐梓县",value:"520322",parent:"520300"},{name:"绥阳县",value:"520323",parent:"520300"},{name:"正安县",value:"520324",parent:"520300"},{name:"道真仡佬族苗族自治县",value:"520325",parent:"520300"},{name:"务川仡佬族苗族自治县",value:"520326",parent:"520300"},{name:"凤冈县",value:"520327",parent:"520300"},{name:"湄潭县",value:"520328",parent:"520300"},{name:"余庆县",value:"520329",parent:"520300"},{name:"习水县",value:"520330",parent:"520300"},{name:"赤水市",value:"520381",parent:"520300"},{name:"仁怀市",value:"520382",parent:"520300"},{name:"西秀区",value:"520402",parent:"520400"},{name:"平坝区",value:"520403",parent:"520400"},{name:"普定县",value:"520422",parent:"520400"},{name:"镇宁布依族苗族自治县",value:"520423",parent:"520400"},{name:"关岭布依族苗族自治县",value:"520424",parent:"520400"},{name:"紫云苗族布依族自治县",value:"520425",parent:"520400"},{name:"七星关区",value:"520502",parent:"520500"},{name:"大方县",value:"520521",parent:"520500"},{name:"黔西县",value:"520522",parent:"520500"},{name:"金沙县",value:"520523",parent:"520500"},{name:"织金县",value:"520524",parent:"520500"},{name:"纳雍县",value:"520525",parent:"520500"},{name:"威宁彝族回族苗族自治县",value:"520526",parent:"520500"},{name:"赫章县",value:"520527",parent:"520500"},{name:"碧江区",value:"520602",parent:"520600"},{name:"万山区",value:"520603",parent:"520600"},{name:"江口县",value:"520621",parent:"520600"},{name:"玉屏侗族自治县",value:"520622",parent:"520600"},{name:"石阡县",value:"520623",parent:"520600"},{name:"思南县",value:"520624",parent:"520600"},{name:"印江土家族苗族自治县",value:"520625",parent:"520600"},{name:"德江县",value:"520626",parent:"520600"},{name:"沿河土家族自治县",value:"520627",parent:"520600"},{name:"松桃苗族自治县",value:"520628",parent:"520600"},{name:"兴义市",value:"522301",parent:"522300"},{name:"兴仁县",value:"522322",parent:"522300"},{name:"普安县",value:"522323",parent:"522300"},{name:"晴隆县",value:"522324",parent:"522300"},{name:"贞丰县",value:"522325",parent:"522300"},{name:"望谟县",value:"522326",parent:"522300"},{name:"册亨县",value:"522327",parent:"522300"},{name:"安龙县",value:"522328",parent:"522300"},{name:"凯里市",value:"522601",parent:"522600"},{name:"黄平县",value:"522622",parent:"522600"},{name:"施秉县",value:"522623",parent:"522600"},{name:"三穗县",value:"522624",parent:"522600"},{name:"镇远县",value:"522625",parent:"522600"},{name:"岑巩县",value:"522626",parent:"522600"},{name:"天柱县",value:"522627",parent:"522600"},{name:"锦屏县",value:"522628",parent:"522600"},{name:"剑河县",value:"522629",parent:"522600"},{name:"台江县",value:"522630",parent:"522600"},{name:"黎平县",value:"522631",parent:"522600"},{name:"榕江县",value:"522632",parent:"522600"},{name:"从江县",value:"522633",parent:"522600"},{name:"雷山县",value:"522634",parent:"522600"},{name:"麻江县",value:"522635",parent:"522600"},{name:"丹寨县",value:"522636",parent:"522600"},{name:"都匀市",value:"522701",parent:"522700"},{name:"福泉市",value:"522702",parent:"522700"},{name:"荔波县",value:"522722",parent:"522700"},{name:"贵定县",value:"522723",parent:"522700"},{name:"瓮安县",value:"522725",parent:"522700"},{name:"独山县",value:"522726",parent:"522700"},{name:"平塘县",value:"522727",parent:"522700"},{name:"罗甸县",value:"522728",parent:"522700"},{name:"长顺县",value:"522729",parent:"522700"},{name:"龙里县",value:"522730",parent:"522700"},{name:"惠水县",value:"522731",parent:"522700"},{name:"三都水族自治县",value:"522732",parent:"522700"},{name:"昆明市",value:"530100",parent:"530000"},{name:"曲靖市",value:"530300",parent:"530000"},{name:"玉溪市",value:"530400",parent:"530000"},{name:"保山市",value:"530500",parent:"530000"},{name:"昭通市",value:"530600",parent:"530000"},{name:"丽江市",value:"530700",parent:"530000"},{name:"普洱市",value:"530800",parent:"530000"},{name:"临沧市",value:"530900",parent:"530000"},{name:"楚雄彝族自治州",value:"532300",parent:"530000"},{name:"红河哈尼族彝族自治州",value:"532500",parent:"530000"},{name:"文山壮族苗族自治州",value:"532600",parent:"530000"},{name:"西双版纳傣族自治州",value:"532800",parent:"530000"},{name:"大理白族自治州",value:"532900",parent:"530000"},{name:"德宏傣族景颇族自治州",value:"533100",parent:"530000"},{name:"怒江傈僳族自治州",value:"533300",parent:"530000"},{name:"迪庆藏族自治州",value:"533400",parent:"530000"},{name:"五华区",value:"530102",parent:"530100"},{name:"盘龙区",value:"530103",parent:"530100"},{name:"官渡区",value:"530111",parent:"530100"},{name:"西山区",value:"530112",parent:"530100"},{name:"东川区",value:"530113",parent:"530100"},{name:"呈贡区",value:"530114",parent:"530100"},{name:"晋宁县",value:"530122",parent:"530100"},{name:"富民县",value:"530124",parent:"530100"},{name:"宜良县",value:"530125",parent:"530100"},{name:"石林彝族自治县",value:"530126",parent:"530100"},{name:"嵩明县",value:"530127",parent:"530100"},{name:"禄劝彝族苗族自治县",value:"530128",parent:"530100"},{name:"寻甸回族彝族自治县",value:"530129",parent:"530100"},{name:"安宁市",value:"530181",parent:"530100"},{name:"麒麟区",value:"530302",parent:"530300"},{name:"沾益区",value:"530303",parent:"530300"},{name:"马龙县",value:"530321",parent:"530300"},{name:"陆良县",value:"530322",parent:"530300"},{name:"师宗县",value:"530323",parent:"530300"},{name:"罗平县",value:"530324",parent:"530300"},{name:"富源县",value:"530325",parent:"530300"},{name:"会泽县",value:"530326",parent:"530300"},{name:"宣威市",value:"530381",parent:"530300"},{name:"红塔区",value:"530402",parent:"530400"},{name:"江川区",value:"530403",parent:"530400"},{name:"澄江县",value:"530422",parent:"530400"},{name:"通海县",value:"530423",parent:"530400"},{name:"华宁县",value:"530424",parent:"530400"},{name:"易门县",value:"530425",parent:"530400"},{name:"峨山彝族自治县",value:"530426",parent:"530400"},{name:"新平彝族傣族自治县",value:"530427",parent:"530400"},{name:"元江哈尼族彝族傣族自治县",value:"530428",parent:"530400"},{name:"隆阳区",value:"530502",parent:"530500"},{name:"施甸县",value:"530521",parent:"530500"},{name:"龙陵县",value:"530523",parent:"530500"},{name:"昌宁县",value:"530524",parent:"530500"},{name:"腾冲市",value:"530581",parent:"530500"},{name:"昭阳区",value:"530602",parent:"530600"},{name:"鲁甸县",value:"530621",parent:"530600"},{name:"巧家县",value:"530622",parent:"530600"},{name:"盐津县",value:"530623",parent:"530600"},{name:"大关县",value:"530624",parent:"530600"},{name:"永善县",value:"530625",parent:"530600"},{name:"绥江县",value:"530626",parent:"530600"},{name:"镇雄县",value:"530627",parent:"530600"},{name:"彝良县",value:"530628",parent:"530600"},{name:"威信县",value:"530629",parent:"530600"},{name:"水富县",value:"530630",parent:"530600"},{name:"古城区",value:"530702",parent:"530700"},{name:"玉龙纳西族自治县",value:"530721",parent:"530700"},{name:"永胜县",value:"530722",parent:"530700"},{name:"华坪县",value:"530723",parent:"530700"},{name:"宁蒗彝族自治县",value:"530724",parent:"530700"},{name:"思茅区",value:"530802",parent:"530800"},{name:"宁洱哈尼族彝族自治县",value:"530821",parent:"530800"},{name:"墨江哈尼族自治县",value:"530822",parent:"530800"},{name:"景东彝族自治县",value:"530823",parent:"530800"},{name:"景谷傣族彝族自治县",value:"530824",parent:"530800"},{name:"镇沅彝族哈尼族拉祜族自治县",value:"530825",parent:"530800"},{name:"江城哈尼族彝族自治县",value:"530826",parent:"530800"},{name:"孟连傣族拉祜族佤族自治县",value:"530827",parent:"530800"},{name:"澜沧拉祜族自治县",value:"530828",parent:"530800"},{name:"西盟佤族自治县",value:"530829",parent:"530800"},{name:"临翔区",value:"530902",parent:"530900"},{name:"凤庆县",value:"530921",parent:"530900"},{name:"云县",value:"530922",parent:"530900"},{name:"永德县",value:"530923",parent:"530900"},{name:"镇康县",value:"530924",parent:"530900"},{name:"双江拉祜族佤族布朗族傣族自治县",value:"530925",parent:"530900"},{name:"耿马傣族佤族自治县",value:"530926",parent:"530900"},{name:"沧源佤族自治县",value:"530927",parent:"530900"},{name:"楚雄市",value:"532301",parent:"532300"},{name:"双柏县",value:"532322",parent:"532300"},{name:"牟定县",value:"532323",parent:"532300"},{name:"南华县",value:"532324",parent:"532300"},{name:"姚安县",value:"532325",parent:"532300"},{name:"大姚县",value:"532326",parent:"532300"},{name:"永仁县",value:"532327",parent:"532300"},{name:"元谋县",value:"532328",parent:"532300"},{name:"武定县",value:"532329",parent:"532300"},{name:"禄丰县",value:"532331",parent:"532300"},{name:"个旧市",value:"532501",parent:"532500"},{name:"开远市",value:"532502",parent:"532500"},{name:"蒙自市",value:"532503",parent:"532500"},{name:"弥勒市",value:"532504",parent:"532500"},{name:"屏边苗族自治县",value:"532523",parent:"532500"},{name:"建水县",value:"532524",parent:"532500"},{name:"石屏县",value:"532525",parent:"532500"},{name:"泸西县",value:"532527",parent:"532500"},{name:"元阳县",value:"532528",parent:"532500"},{name:"红河县",value:"532529",parent:"532500"},{name:"金平苗族瑶族傣族自治县",value:"532530",parent:"532500"},{name:"绿春县",value:"532531",parent:"532500"},{name:"河口瑶族自治县",value:"532532",parent:"532500"},{name:"文山市",value:"532601",parent:"532600"},{name:"砚山县",value:"532622",parent:"532600"},{name:"西畴县",value:"532623",parent:"532600"},{name:"麻栗坡县",value:"532624",parent:"532600"},{name:"马关县",value:"532625",parent:"532600"},{name:"丘北县",value:"532626",parent:"532600"},{name:"广南县",value:"532627",parent:"532600"},{name:"富宁县",value:"532628",parent:"532600"},{name:"景洪市",value:"532801",parent:"532800"},{name:"勐海县",value:"532822",parent:"532800"},{name:"勐腊县",value:"532823",parent:"532800"},{name:"大理市",value:"532901",parent:"532900"},{name:"漾濞彝族自治县",value:"532922",parent:"532900"},{name:"祥云县",value:"532923",parent:"532900"},{name:"宾川县",value:"532924",parent:"532900"},{name:"弥渡县",value:"532925",parent:"532900"},{name:"南涧彝族自治县",value:"532926",parent:"532900"},{name:"巍山彝族回族自治县",value:"532927",parent:"532900"},{name:"永平县",value:"532928",parent:"532900"},{name:"云龙县",value:"532929",parent:"532900"},{name:"洱源县",value:"532930",parent:"532900"},{name:"剑川县",value:"532931",parent:"532900"},{name:"鹤庆县",value:"532932",parent:"532900"},{name:"瑞丽市",value:"533102",parent:"533100"},{name:"芒市",value:"533103",parent:"533100"},{name:"梁河县",value:"533122",parent:"533100"},{name:"盈江县",value:"533123",parent:"533100"},{name:"陇川县",value:"533124",parent:"533100"},{name:"泸水市",value:"533301",parent:"533300"},{name:"福贡县",value:"533323",parent:"533300"},{name:"贡山独龙族怒族自治县",value:"533324",parent:"533300"},{name:"兰坪白族普米族自治县",value:"533325",parent:"533300"},{name:"香格里拉市",value:"533401",parent:"533400"},{name:"德钦县",value:"533422",parent:"533400"},{name:"维西傈僳族自治县",value:"533423",parent:"533400"},{name:"拉萨市",value:"540100",parent:"540000"},{name:"日喀则市",value:"540200",parent:"540000"},{name:"昌都市",value:"540300",parent:"540000"},{name:"林芝市",value:"540400",parent:"540000"},{name:"山南市",value:"540500",parent:"540000"},{name:"那曲地区",value:"542400",parent:"540000"},{name:"阿里地区",value:"542500",parent:"540000"},{name:"城关区",value:"540102",parent:"540100"},{name:"堆龙德庆区",value:"540103",parent:"540100"},{name:"林周县",value:"540121",parent:"540100"},{name:"当雄县",value:"540122",parent:"540100"},{name:"尼木县",value:"540123",parent:"540100"},{name:"曲水县",value:"540124",parent:"540100"},{name:"达孜县",value:"540126",parent:"540100"},{name:"墨竹工卡县",value:"540127",parent:"540100"},{name:"桑珠孜区",value:"540202",parent:"540200"},{name:"南木林县",value:"540221",parent:"540200"},{name:"江孜县",value:"540222",parent:"540200"},{name:"定日县",value:"540223",parent:"540200"},{name:"萨迦县",value:"540224",parent:"540200"},{name:"拉孜县",value:"540225",parent:"540200"},{name:"昂仁县",value:"540226",parent:"540200"},{name:"谢通门县",value:"540227",parent:"540200"},{name:"白朗县",value:"540228",parent:"540200"},{name:"仁布县",value:"540229",parent:"540200"},{name:"康马县",value:"540230",parent:"540200"},{name:"定结县",value:"540231",parent:"540200"},{name:"仲巴县",value:"540232",parent:"540200"},{name:"亚东县",value:"540233",parent:"540200"},{name:"吉隆县",value:"540234",parent:"540200"},{name:"聂拉木县",value:"540235",parent:"540200"},{name:"萨嘎县",value:"540236",parent:"540200"},{name:"岗巴县",value:"540237",parent:"540200"},{name:"卡若区",value:"540302",parent:"540300"},{name:"江达县",value:"540321",parent:"540300"},{name:"贡觉县",value:"540322",parent:"540300"},{name:"类乌齐县",value:"540323",parent:"540300"},{name:"丁青县",value:"540324",parent:"540300"},{name:"察雅县",value:"540325",parent:"540300"},{name:"八宿县",value:"540326",parent:"540300"},{name:"左贡县",value:"540327",parent:"540300"},{name:"芒康县",value:"540328",parent:"540300"},{name:"洛隆县",value:"540329",parent:"540300"},{name:"边坝县",value:"540330",parent:"540300"},{name:"巴宜区",value:"540402",parent:"540400"},{name:"工布江达县",value:"540421",parent:"540400"},{name:"米林县",value:"540422",parent:"540400"},{name:"墨脱县",value:"540423",parent:"540400"},{name:"波密县",value:"540424",parent:"540400"},{name:"察隅县",value:"540425",parent:"540400"},{name:"朗县",value:"540426",parent:"540400"},{name:"乃东区",value:"540502",parent:"540500"},{name:"扎囊县",value:"540521",parent:"540500"},{name:"贡嘎县",value:"540522",parent:"540500"},{name:"桑日县",value:"540523",parent:"540500"},{name:"琼结县",value:"540524",parent:"540500"},{name:"曲松县",value:"540525",parent:"540500"},{name:"措美县",value:"540526",parent:"540500"},{name:"洛扎县",value:"540527",parent:"540500"},{name:"加查县",value:"540528",parent:"540500"},{name:"隆子县",value:"540529",parent:"540500"},{name:"错那县",value:"540530",parent:"540500"},{name:"浪卡子县",value:"540531",parent:"540500"},{name:"那曲县",value:"542421",parent:"542400"},{name:"嘉黎县",value:"542422",parent:"542400"},{name:"比如县",value:"542423",parent:"542400"},{name:"聂荣县",value:"542424",parent:"542400"},{name:"安多县",value:"542425",parent:"542400"},{name:"申扎县",value:"542426",parent:"542400"},{name:"索县",value:"542427",parent:"542400"},{name:"班戈县",value:"542428",parent:"542400"},{name:"巴青县",value:"542429",parent:"542400"},{name:"尼玛县",value:"542430",parent:"542400"},{name:"双湖县",value:"542431",parent:"542400"},{name:"普兰县",value:"542521",parent:"542500"},{name:"札达县",value:"542522",parent:"542500"},{name:"噶尔县",value:"542523",parent:"542500"},{name:"日土县",value:"542524",parent:"542500"},{name:"革吉县",value:"542525",parent:"542500"},{name:"改则县",value:"542526",parent:"542500"},{name:"措勤县",value:"542527",parent:"542500"},{name:"西安市",value:"610100",parent:"610000"},{name:"铜川市",value:"610200",parent:"610000"},{name:"宝鸡市",value:"610300",parent:"610000"},{name:"咸阳市",value:"610400",parent:"610000"},{name:"渭南市",value:"610500",parent:"610000"},{name:"延安市",value:"610600",parent:"610000"},{name:"汉中市",value:"610700",parent:"610000"},{name:"榆林市",value:"610800",parent:"610000"},{name:"安康市",value:"610900",parent:"610000"},{name:"商洛市",value:"611000",parent:"610000"},{name:"新城区",value:"610102",parent:"610100"},{name:"碑林区",value:"610103",parent:"610100"},{name:"莲湖区",value:"610104",parent:"610100"},{name:"灞桥区",value:"610111",parent:"610100"},{name:"未央区",value:"610112",parent:"610100"},{name:"雁塔区",value:"610113",parent:"610100"},{name:"阎良区",value:"610114",parent:"610100"},{name:"临潼区",value:"610115",parent:"610100"},{name:"长安区",value:"610116",parent:"610100"},{name:"高陵区",value:"610117",parent:"610100"},{name:"蓝田县",value:"610122",parent:"610100"},{name:"周至县",value:"610124",parent:"610100"},{name:"户县",value:"610125",parent:"610100"},{name:"王益区",value:"610202",parent:"610200"},{name:"印台区",value:"610203",parent:"610200"},{name:"耀州区",value:"610204",parent:"610200"},{name:"宜君县",value:"610222",parent:"610200"},{name:"渭滨区",value:"610302",parent:"610300"},{name:"金台区",value:"610303",parent:"610300"},{name:"陈仓区",value:"610304",parent:"610300"},{name:"凤翔县",value:"610322",parent:"610300"},{name:"岐山县",value:"610323",parent:"610300"},{name:"扶风县",value:"610324",parent:"610300"},{name:"眉县",value:"610326",parent:"610300"},{name:"陇县",value:"610327",parent:"610300"},{name:"千阳县",value:"610328",parent:"610300"},{name:"麟游县",value:"610329",parent:"610300"},{name:"凤县",value:"610330",parent:"610300"},{name:"太白县",value:"610331",parent:"610300"},{name:"秦都区",value:"610402",parent:"610400"},{name:"杨陵区",value:"610403",parent:"610400"},{name:"渭城区",value:"610404",parent:"610400"},{name:"三原县",value:"610422",parent:"610400"},{name:"泾阳县",value:"610423",parent:"610400"},{name:"乾县",value:"610424",parent:"610400"},{name:"礼泉县",value:"610425",parent:"610400"},{name:"永寿县",value:"610426",parent:"610400"},{name:"彬县",value:"610427",parent:"610400"},{name:"长武县",value:"610428",parent:"610400"},{name:"旬邑县",value:"610429",parent:"610400"},{name:"淳化县",value:"610430",parent:"610400"},{name:"武功县",value:"610431",parent:"610400"},{name:"兴平市",value:"610481",parent:"610400"},{name:"临渭区",value:"610502",parent:"610500"},{name:"华州区",value:"610503",parent:"610500"},{name:"潼关县",value:"610522",parent:"610500"},{name:"大荔县",value:"610523",parent:"610500"},{name:"合阳县",value:"610524",parent:"610500"},{name:"澄城县",value:"610525",parent:"610500"},{name:"蒲城县",value:"610526",parent:"610500"},{name:"白水县",value:"610527",parent:"610500"},{name:"富平县",value:"610528",parent:"610500"},{name:"韩城市",value:"610581",parent:"610500"},{name:"华阴市",value:"610582",parent:"610500"},{name:"宝塔区",value:"610602",parent:"610600"},{name:"安塞区",value:"610603",parent:"610600"},{name:"延长县",value:"610621",parent:"610600"},{name:"延川县",value:"610622",parent:"610600"},{name:"子长县",value:"610623",parent:"610600"},{name:"志丹县",value:"610625",parent:"610600"},{name:"吴起县",value:"610626",parent:"610600"},{name:"甘泉县",value:"610627",parent:"610600"},{name:"富县",value:"610628",parent:"610600"},{name:"洛川县",value:"610629",parent:"610600"},{name:"宜川县",value:"610630",parent:"610600"},{name:"黄龙县",value:"610631",parent:"610600"},{name:"黄陵县",value:"610632",parent:"610600"},{name:"汉台区",value:"610702",parent:"610700"},{name:"南郑县",value:"610721",parent:"610700"},{name:"城固县",value:"610722",parent:"610700"},{name:"洋县",value:"610723",parent:"610700"},{name:"西乡县",value:"610724",parent:"610700"},{name:"勉县",value:"610725",parent:"610700"},{name:"宁强县",value:"610726",parent:"610700"},{name:"略阳县",value:"610727",parent:"610700"},{name:"镇巴县",value:"610728",parent:"610700"},{name:"留坝县",value:"610729",parent:"610700"},{name:"佛坪县",value:"610730",parent:"610700"},{name:"榆阳区",value:"610802",parent:"610800"},{name:"横山区",value:"610803",parent:"610800"},{name:"神木县",value:"610821",parent:"610800"},{name:"府谷县",value:"610822",parent:"610800"},{name:"靖边县",value:"610824",parent:"610800"},{name:"定边县",value:"610825",parent:"610800"},{name:"绥德县",value:"610826",parent:"610800"},{name:"米脂县",value:"610827",parent:"610800"},{name:"佳县",value:"610828",parent:"610800"},{name:"吴堡县",value:"610829",parent:"610800"},{name:"清涧县",value:"610830",parent:"610800"},{name:"子洲县",value:"610831",parent:"610800"},{name:"汉滨区",value:"610902",parent:"610900"},{name:"汉阴县",value:"610921",parent:"610900"},{name:"石泉县",value:"610922",parent:"610900"},{name:"宁陕县",value:"610923",parent:"610900"},{name:"紫阳县",value:"610924",parent:"610900"},{name:"岚皋县",value:"610925",parent:"610900"},{name:"平利县",value:"610926",parent:"610900"},{name:"镇坪县",value:"610927",parent:"610900"},{name:"旬阳县",value:"610928",parent:"610900"},{name:"白河县",value:"610929",parent:"610900"},{name:"商州区",value:"611002",parent:"611000"},{name:"洛南县",value:"611021",parent:"611000"},{name:"丹凤县",value:"611022",parent:"611000"},{name:"商南县",value:"611023",parent:"611000"},{name:"山阳县",value:"611024",parent:"611000"},{name:"镇安县",value:"611025",parent:"611000"},{name:"柞水县",value:"611026",parent:"611000"},{name:"兰州市",value:"620100",parent:"620000"},{name:"嘉峪关市",value:"620200",parent:"620000"},{name:"金昌市",value:"620300",parent:"620000"},{name:"白银市",value:"620400",parent:"620000"},{name:"天水市",value:"620500",parent:"620000"},{name:"武威市",value:"620600",parent:"620000"},{name:"张掖市",value:"620700",parent:"620000"},{name:"平凉市",value:"620800",parent:"620000"},{name:"酒泉市",value:"620900",parent:"620000"},{name:"庆阳市",value:"621000",parent:"620000"},{name:"定西市",value:"621100",parent:"620000"},{name:"陇南市",value:"621200",parent:"620000"},{name:"临夏回族自治州",value:"622900",parent:"620000"},{name:"甘南藏族自治州",value:"623000",parent:"620000"},{name:"城关区",value:"620102",parent:"620100"},{name:"七里河区",value:"620103",parent:"620100"},{name:"西固区",value:"620104",parent:"620100"},{name:"安宁区",value:"620105",parent:"620100"},{name:"红古区",value:"620111",parent:"620100"},{name:"永登县",value:"620121",parent:"620100"},{name:"皋兰县",value:"620122",parent:"620100"},{name:"榆中县",value:"620123",parent:"620100"},{name:"金川区",value:"620302",parent:"620300"},{name:"永昌县",value:"620321",parent:"620300"},{name:"白银区",value:"620402",parent:"620400"},{name:"平川区",value:"620403",parent:"620400"},{name:"靖远县",value:"620421",parent:"620400"},{name:"会宁县",value:"620422",parent:"620400"},{name:"景泰县",value:"620423",parent:"620400"},{name:"秦州区",value:"620502",parent:"620500"},{name:"麦积区",value:"620503",parent:"620500"},{name:"清水县",value:"620521",parent:"620500"},{name:"秦安县",value:"620522",parent:"620500"},{name:"甘谷县",value:"620523",parent:"620500"},{name:"武山县",value:"620524",parent:"620500"},{name:"张家川回族自治县",value:"620525",parent:"620500"},{name:"凉州区",value:"620602",parent:"620600"},{name:"民勤县",value:"620621",parent:"620600"},{name:"古浪县",value:"620622",parent:"620600"},{name:"天祝藏族自治县",value:"620623",parent:"620600"},{name:"甘州区",value:"620702",parent:"620700"},{name:"肃南裕固族自治县",value:"620721",parent:"620700"},{name:"民乐县",value:"620722",parent:"620700"},{name:"临泽县",value:"620723",parent:"620700"},{name:"高台县",value:"620724",parent:"620700"},{name:"山丹县",value:"620725",parent:"620700"},{name:"崆峒区",value:"620802",parent:"620800"},{name:"泾川县",value:"620821",parent:"620800"},{name:"灵台县",value:"620822",parent:"620800"},{name:"崇信县",value:"620823",parent:"620800"},{name:"华亭县",value:"620824",parent:"620800"},{name:"庄浪县",value:"620825",parent:"620800"},{name:"静宁县",value:"620826",parent:"620800"},{name:"肃州区",value:"620902",parent:"620900"},{name:"金塔县",value:"620921",parent:"620900"},{name:"瓜州县",value:"620922",parent:"620900"},{name:"肃北蒙古族自治县",value:"620923",parent:"620900"},{name:"阿克塞哈萨克族自治县",value:"620924",parent:"620900"},{name:"玉门市",value:"620981",parent:"620900"},{name:"敦煌市",value:"620982",parent:"620900"},{name:"西峰区",value:"621002",parent:"621000"},{name:"庆城县",value:"621021",parent:"621000"},{name:"环县",value:"621022",parent:"621000"},{name:"华池县",value:"621023",parent:"621000"},{name:"合水县",value:"621024",parent:"621000"},{name:"正宁县",value:"621025",parent:"621000"},{name:"宁县",value:"621026",parent:"621000"},{name:"镇原县",value:"621027",parent:"621000"},{name:"安定区",value:"621102",parent:"621100"},{name:"通渭县",value:"621121",parent:"621100"},{name:"陇西县",value:"621122",parent:"621100"},{name:"渭源县",value:"621123",parent:"621100"},{name:"临洮县",value:"621124",parent:"621100"},{name:"漳县",value:"621125",parent:"621100"},{name:"岷县",value:"621126",parent:"621100"},{name:"武都区",value:"621202",parent:"621200"},{name:"成县",value:"621221",parent:"621200"},{name:"文县",value:"621222",parent:"621200"},{name:"宕昌县",value:"621223",parent:"621200"},{name:"康县",value:"621224",parent:"621200"},{name:"西和县",value:"621225",parent:"621200"},{name:"礼县",value:"621226",parent:"621200"},{name:"徽县",value:"621227",parent:"621200"},{name:"两当县",value:"621228",parent:"621200"},{name:"临夏市",value:"622901",parent:"622900"},{name:"临夏县",value:"622921",parent:"622900"},{name:"康乐县",value:"622922",parent:"622900"},{name:"永靖县",value:"622923",parent:"622900"},{name:"广河县",value:"622924",parent:"622900"},{name:"和政县",value:"622925",parent:"622900"},{name:"东乡族自治县",value:"622926",parent:"622900"},{name:"积石山保安族东乡族撒拉族自治县",value:"622927",parent:"622900"},{name:"合作市",value:"623001",parent:"623000"},{name:"临潭县",value:"623021",parent:"623000"},{name:"卓尼县",value:"623022",parent:"623000"},{name:"舟曲县",value:"623023",parent:"623000"},{name:"迭部县",value:"623024",parent:"623000"},{name:"玛曲县",value:"623025",parent:"623000"},{name:"碌曲县",value:"623026",parent:"623000"},{name:"夏河县",value:"623027",parent:"623000"},{name:"西宁市",value:"630100",parent:"630000"},{name:"海东市",value:"630200",parent:"630000"},{name:"海北藏族自治州",value:"632200",parent:"630000"},{name:"黄南藏族自治州",value:"632300",parent:"630000"},{name:"海南藏族自治州",value:"632500",parent:"630000"},{name:"果洛藏族自治州",value:"632600",parent:"630000"},{name:"玉树藏族自治州",value:"632700",parent:"630000"},{name:"海西蒙古族藏族自治州",value:"632800",parent:"630000"},{name:"城东区",value:"630102",parent:"630100"},{name:"城中区",value:"630103",parent:"630100"},{name:"城西区",value:"630104",parent:"630100"},{name:"城北区",value:"630105",parent:"630100"},{name:"大通回族土族自治县",value:"630121",parent:"630100"},{name:"湟中县",value:"630122",parent:"630100"},{name:"湟源县",value:"630123",parent:"630100"},{name:"乐都区",value:"630202",parent:"630200"},{name:"平安区",value:"630203",parent:"630200"},{name:"民和回族土族自治县",value:"630222",parent:"630200"},{name:"互助土族自治县",value:"630223",parent:"630200"},{name:"化隆回族自治县",value:"630224",parent:"630200"},{name:"循化撒拉族自治县",value:"630225",parent:"630200"},{name:"门源回族自治县",value:"632221",parent:"632200"},{name:"祁连县",value:"632222",parent:"632200"},{name:"海晏县",value:"632223",parent:"632200"},{name:"刚察县",value:"632224",parent:"632200"},{name:"同仁县",value:"632321",parent:"632300"},{name:"尖扎县",value:"632322",parent:"632300"},{name:"泽库县",value:"632323",parent:"632300"},{name:"河南蒙古族自治县",value:"632324",parent:"632300"},{name:"共和县",value:"632521",parent:"632500"},{name:"同德县",value:"632522",parent:"632500"},{name:"贵德县",value:"632523",parent:"632500"},{name:"兴海县",value:"632524",parent:"632500"},{name:"贵南县",value:"632525",parent:"632500"},{name:"玛沁县",value:"632621",parent:"632600"},{name:"班玛县",value:"632622",parent:"632600"},{name:"甘德县",value:"632623",parent:"632600"},{name:"达日县",value:"632624",parent:"632600"},{name:"久治县",value:"632625",parent:"632600"},{name:"玛多县",value:"632626",parent:"632600"},{name:"玉树市",value:"632701",parent:"632700"},{name:"杂多县",value:"632722",parent:"632700"},{name:"称多县",value:"632723",parent:"632700"},{name:"治多县",value:"632724",parent:"632700"},{name:"囊谦县",value:"632725",parent:"632700"},{name:"曲麻莱县",value:"632726",parent:"632700"},{name:"格尔木市",value:"632801",parent:"632800"},{name:"德令哈市",value:"632802",parent:"632800"},{name:"乌兰县",value:"632821",parent:"632800"},{name:"都兰县",value:"632822",parent:"632800"},{name:"天峻县",value:"632823",parent:"632800"},{name:"银川市",value:"640100",parent:"640000"},{name:"石嘴山市",value:"640200",parent:"640000"},{name:"吴忠市",value:"640300",parent:"640000"},{name:"固原市",value:"640400",parent:"640000"},{name:"中卫市",value:"640500",parent:"640000"},{name:"兴庆区",value:"640104",parent:"640100"},{name:"西夏区",value:"640105",parent:"640100"},{name:"金凤区",value:"640106",parent:"640100"},{name:"永宁县",value:"640121",parent:"640100"},{name:"贺兰县",value:"640122",parent:"640100"},{name:"灵武市",value:"640181",parent:"640100"},{name:"大武口区",value:"640202",parent:"640200"},{name:"惠农区",value:"640205",parent:"640200"},{name:"平罗县",value:"640221",parent:"640200"},{name:"利通区",value:"640302",parent:"640300"},{name:"红寺堡区",value:"640303",parent:"640300"},{name:"盐池县",value:"640323",parent:"640300"},{name:"同心县",value:"640324",parent:"640300"},{name:"青铜峡市",value:"640381",parent:"640300"},{name:"原州区",value:"640402",parent:"640400"},{name:"西吉县",value:"640422",parent:"640400"},{name:"隆德县",value:"640423",parent:"640400"},{name:"泾源县",value:"640424",parent:"640400"},{name:"彭阳县",value:"640425",parent:"640400"},{name:"沙坡头区",value:"640502",parent:"640500"},{name:"中宁县",value:"640521",parent:"640500"},{name:"海原县",value:"640522",parent:"640500"},{name:"乌鲁木齐市",value:"650100",parent:"650000"},{name:"克拉玛依市",value:"650200",parent:"650000"},{name:"吐鲁番市",value:"650400",parent:"650000"},{name:"哈密市",value:"650500",parent:"650000"},{name:"昌吉回族自治州",value:"652300",parent:"650000"},{name:"博尔塔拉蒙古自治州",value:"652700",parent:"650000"},{name:"巴音郭楞蒙古自治州",value:"652800",parent:"650000"},{name:"阿克苏地区",value:"652900",parent:"650000"},{name:"克孜勒苏柯尔克孜自治州",value:"653000",parent:"650000"},{name:"喀什地区",value:"653100",parent:"650000"},{name:"和田地区",value:"653200",parent:"650000"},{name:"伊犁哈萨克自治州",value:"654000",parent:"650000"},{name:"塔城地区",value:"654200",parent:"650000"},{name:"阿勒泰地区",value:"654300",parent:"650000"},{name:"石河子市",value:"659001",parent:"650000"},{name:"阿拉尔市",value:"659002",parent:"650000"},{name:"图木舒克市",value:"659003",parent:"650000"},{name:"五家渠市",value:"659004",parent:"650000"},{name:"铁门关市",value:"659006",parent:"650000"},{name:"天山区",value:"650102",parent:"650100"},{name:"沙依巴克区",value:"650103",parent:"650100"},{name:"新市区",value:"650104",parent:"650100"},{name:"水磨沟区",value:"650105",parent:"650100"},{name:"头屯河区",value:"650106",parent:"650100"},{name:"达坂城区",value:"650107",parent:"650100"},{name:"米东区",value:"650109",parent:"650100"},{name:"乌鲁木齐县",value:"650121",parent:"650100"},{name:"独山子区",value:"650202",parent:"650200"},{name:"克拉玛依区",value:"650203",parent:"650200"},{name:"白碱滩区",value:"650204",parent:"650200"},{name:"乌尔禾区",value:"650205",parent:"650200"},{name:"高昌区",value:"650402",parent:"650400"},{name:"鄯善县",value:"650421",parent:"650400"},{name:"托克逊县",value:"650422",parent:"650400"},{name:"伊州区",value:"650502",parent:"650500"},{name:"巴里坤哈萨克自治县",value:"650521",parent:"650500"},{name:"伊吾县",value:"650522",parent:"650500"},{name:"昌吉市",value:"652301",parent:"652300"},{name:"阜康市",value:"652302",parent:"652300"},{name:"呼图壁县",value:"652323",parent:"652300"},{name:"玛纳斯县",value:"652324",parent:"652300"},{name:"奇台县",value:"652325",parent:"652300"},{name:"吉木萨尔县",value:"652327",parent:"652300"},{name:"木垒哈萨克自治县",value:"652328",parent:"652300"},{name:"博乐市",value:"652701",parent:"652700"},{name:"阿拉山口市",value:"652702",parent:"652700"},{name:"精河县",value:"652722",parent:"652700"},{name:"温泉县",value:"652723",parent:"652700"},{name:"库尔勒市",value:"652801",parent:"652800"},{name:"轮台县",value:"652822",parent:"652800"},{name:"尉犁县",value:"652823",parent:"652800"},{name:"若羌县",value:"652824",parent:"652800"},{name:"且末县",value:"652825",parent:"652800"},{name:"焉耆回族自治县",value:"652826",parent:"652800"},{name:"和静县",value:"652827",parent:"652800"},{name:"和硕县",value:"652828",parent:"652800"},{name:"博湖县",value:"652829",parent:"652800"},{name:"阿克苏市",value:"652901",parent:"652900"},{name:"温宿县",value:"652922",parent:"652900"},{name:"库车县",value:"652923",parent:"652900"},{name:"沙雅县",value:"652924",parent:"652900"},{name:"新和县",value:"652925",parent:"652900"},{name:"拜城县",value:"652926",parent:"652900"},{name:"乌什县",value:"652927",parent:"652900"},{name:"阿瓦提县",value:"652928",parent:"652900"},{name:"柯坪县",value:"652929",parent:"652900"},{name:"阿图什市",value:"653001",parent:"653000"},{name:"阿克陶县",value:"653022",parent:"653000"},{name:"阿合奇县",value:"653023",parent:"653000"},{name:"乌恰县",value:"653024",parent:"653000"},{name:"喀什市",value:"653101",parent:"653100"},{name:"疏附县",value:"653121",parent:"653100"},{name:"疏勒县",value:"653122",parent:"653100"},{name:"英吉沙县",value:"653123",parent:"653100"},{name:"泽普县",value:"653124",parent:"653100"},{name:"莎车县",value:"653125",parent:"653100"},{name:"叶城县",value:"653126",parent:"653100"},{name:"麦盖提县",value:"653127",parent:"653100"},{name:"岳普湖县",value:"653128",parent:"653100"},{name:"伽师县",value:"653129",parent:"653100"},{name:"巴楚县",value:"653130",parent:"653100"},{name:"塔什库尔干塔吉克自治县",value:"653131",parent:"653100"},{name:"和田市",value:"653201",parent:"653200"},{name:"和田县",value:"653221",parent:"653200"},{name:"墨玉县",value:"653222",parent:"653200"},{name:"皮山县",value:"653223",parent:"653200"},{name:"洛浦县",value:"653224",parent:"653200"},{name:"策勒县",value:"653225",parent:"653200"},{name:"于田县",value:"653226",parent:"653200"},{name:"民丰县",value:"653227",parent:"653200"},{name:"伊宁市",value:"654002",parent:"654000"},{name:"奎屯市",value:"654003",parent:"654000"},{name:"霍尔果斯市",value:"654004",parent:"654000"},{name:"伊宁县",value:"654021",parent:"654000"},{name:"察布查尔锡伯自治县",value:"654022",parent:"654000"},{name:"霍城县",value:"654023",parent:"654000"},{name:"巩留县",value:"654024",parent:"654000"},{name:"新源县",value:"654025",parent:"654000"},{name:"昭苏县",value:"654026",parent:"654000"},{name:"特克斯县",value:"654027",parent:"654000"},{name:"尼勒克县",value:"654028",parent:"654000"},{name:"塔城市",value:"654201",parent:"654200"},{name:"乌苏市",value:"654202",parent:"654200"},{name:"额敏县",value:"654221",parent:"654200"},{name:"沙湾县",value:"654223",parent:"654200"},{name:"托里县",value:"654224",parent:"654200"},{name:"裕民县",value:"654225",parent:"654200"},{name:"和布克赛尔蒙古自治县",value:"654226",parent:"654200"},{name:"阿勒泰市",value:"654301",parent:"654300"},{name:"布尔津县",value:"654321",parent:"654300"},{name:"富蕴县",value:"654322",parent:"654300"},{name:"福海县",value:"654323",parent:"654300"},{name:"哈巴河县",value:"654324",parent:"654300"},{name:"青河县",value:"654325",parent:"654300"},{name:"吉木乃县",value:"654326",parent:"654300"},{name:"中西區",value:"810001",parent:"810000"},{name:"灣仔區",value:"810002",parent:"810000"},{name:"東區",value:"810003",parent:"810000"},{name:"南區",value:"810004",parent:"810000"},{name:"油尖旺區",value:"810005",parent:"810000"},{name:"深水埗區",value:"810006",parent:"810000"},{name:"九龍城區",value:"810007",parent:"810000"},{name:"黃大仙區",value:"810008",parent:"810000"},{name:"觀塘區",value:"810009",parent:"810000"},{name:"荃灣區",value:"810010",parent:"810000"},{name:"屯門區",value:"810011",parent:"810000"},{name:"元朗區",value:"810012",parent:"810000"},{name:"北區",value:"810013",parent:"810000"},{name:"大埔區",value:"810014",parent:"810000"},{name:"西貢區",value:"810015",parent:"810000"},{name:"沙田區",value:"810016",parent:"810000"},{name:"葵青區",value:"810017",parent:"810000"},{name:"離島區",value:"810018",parent:"810000"},{name:"花地瑪堂區",value:"820001",parent:"820000"},{name:"花王堂區",value:"820002",parent:"820000"},{name:"望德堂區",value:"820003",parent:"820000"},{name:"大堂區",value:"820004",parent:"820000"},{name:"風順堂區",value:"820005",parent:"820000"},{name:"嘉模堂區",value:"820006",parent:"820000"},{name:"路氹填海區",value:"820007",parent:"820000"},{name:"聖方濟各堂區",value:"820008",parent:"820000"},{name:"--",value:"--",parent:"139000"},{name:"--",value:"--",parent:"139001"},{name:"--",value:"--",parent:"139002"},{name:"--",value:"--",parent:"419000"},{name:"--",value:"--",parent:"419001"},{name:"--",value:"--",parent:"429000"},{name:"--",value:"--",parent:"429004"},{name:"--",value:"--",parent:"429005"},{name:"--",value:"--",parent:"429006"},{name:"--",value:"--",parent:"429021"},{name:"--",value:"--",parent:"441900"},{name:"--",value:"--",parent:"442000"},{name:"--",value:"--",parent:"460300"},{name:"--",value:"--",parent:"460400"},{name:"--",value:"--",parent:"469000"},{name:"--",value:"--",parent:"469001"},{name:"--",value:"--",parent:"469002"},{name:"--",value:"--",parent:"469005"},{name:"--",value:"--",parent:"469006"},{name:"--",value:"--",parent:"469007"},{name:"--",value:"--",parent:"469021"},{name:"--",value:"--",parent:"469022"},{name:"--",value:"--",parent:"469023"},{name:"--",value:"--",parent:"469024"},{name:"--",value:"--",parent:"469025"},{name:"--",value:"--",parent:"469026"},{name:"--",value:"--",parent:"469027"},{name:"--",value:"--",parent:"469028"},{name:"--",value:"--",parent:"469029"},{name:"--",value:"--",parent:"469030"},{name:"--",value:"--",parent:"620200"},{name:"--",value:"--",parent:"659000"},{name:"--",value:"--",parent:"659001"},{name:"--",value:"--",parent:"659002"},{name:"--",value:"--",parent:"659003"},{name:"--",value:"--",parent:"659004"},{name:"--",value:"--",parent:"659006"}]},KG9p:function(e,t){},KR0i:function(e,t,a){"use strict";function n(e){a("GdOl")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("J5wU");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("gqL/"),o=a.n(s),l=a("X+5y"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-998247a6",null);t.default=c.exports},Kaw8:function(e,t){},Kbld:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("m-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.costList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.costList,function(t,n){return a("div",{key:n,staticClass:"each_mater box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"mater_main "},[a("div",{staticClass:"cost_name"},[e._v("\n              "+e._s(t.fundName)+"\n            ")]),e._v(" "),a("div",{staticClass:"cost_type"},[e._v("\n              "+e._s(t.fundType)+"\n            ")])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1)])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"Ke/Y":function(e,t){},KiER:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("a3Yh"),o=n(s),l=a("4YfN"),d=n(l),u=a("IHPB"),c=n(u),f=a("3cXf"),m=n(f),h=a("HXPS"),v=n(h),p=a("z5TY"),C=n(p),y=a("Nk/b"),_=n(y),g=a("SAzG"),b=n(g),w=a("PzEQ"),I=n(w),x=a("kNGm"),D=(n(x),a("jnZd")),P=n(D),S=a("0AQX"),k=a("HyXB"),L=a("bKg5"),N=n(L),M=a("vl8n"),T=n(M),A=a("9cRV"),O=n(A),R=a("luHD"),j=n(R),B=a("zlAJ"),E=n(B),F=a("+WR7"),U=n(F);a("Qg39");t.default={data:function(){return{transCode:"",currentType:"",formData:{biId:"",biComment:"",biProcessStatus:""},priceMap:{},matterList:[],showMaterielPop:!1,validateMap:[{key:"drDealerLabel",message:"请选择客户类型"},{key:"qtyDownline",message:"请填写数量下线"},{key:"qtyOnline",message:"请填写数量上线"},{key:"price",message:"请填写标准价格"},{key:"specialReservePrice",message:"请填写特批底价"}]}},components:{Icon:v.default,Group:C.default,Picker:_.default,XInput:b.default,RPicker:T.default,XTextarea:I.default,PopupPicker:P.default,PopMatterList:O.default,PopMatter:j.default,UploadFile:E.default,PopBaseinfo:U.default},mixins:[N.default],methods:{delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=this;this.matterList.forEach(function(t){e.priceMap[t.inventoryCode]={price:t.price,qtyOnline:t.qtyOnline,qtyDownline:t.qtyDownline,drDealerLabel:t.drDealerLabel,specialReservePrice:t.specialReservePrice}}),this.showMaterielPop=!this.showMaterielPop},selMatter:function(e){var t=this,a=JSON.parse(e);a.forEach(function(e){var a=t.priceMap[e.inventoryCode]||{};e.price=a.price||"",e.qtyOnline=a.qtyOnline||"",e.qtyDownline=a.qtyDownline||"",e.specialReservePrice=a.specialReservePrice||"",e.drDealerLabel=a.drDealerLabel||[]}),this.priceMap={},this.matterList=[].concat((0,c.default)(a))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},save:function(){var e=this,t="",a=[];if(this.matterList.length||(t="请选择物料"),t||this.matterList.every(function(n){e.validateMap.every(function(e){return(Array.isArray(n[e.key])&&!n[e.key].length||!n[e.key])&&(t=e.message),!t});var i={transObjCode:n.inventoryCode,drDealerLabel:n.drDealerLabel[0],qtyDownline:n.qtyDownline,qtyOnline:n.qtyOnline,price:n.price,specialReservePrice:n.specialReservePrice,comment:""};return e.transCode&&(i.tdId=n.tdId||""),a.push(i),!t}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=k.saveAndStartWf,n=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,order:{dataSet:a}}),i={listId:e.listId,biComment:"",formData:(0,m.default)(n),wfPara:(0,m.default)((0,o.default)({},e.processCode,{businessKey:e.businessKey,createdBy:n.creator}))};e.transCode&&(t=k.saveAndCommitTask,i.biReferenceId=e.biReferenceId,i.wfPara=(0,m.default)({businessKey:e.transCode,createdBy:n.creator,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=k.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,S.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var u=[];e.attachment=l;var c=s.order,f=c.dataSet,m=void 0===f?[]:f,h=!0,v=!1,p=void 0;try{for(var C,y=(0,r.default)(m);!(h=(C=y.next()).done);h=!0){var _=C.value;_=(0,d.default)({},_,{inventoryCode:_.transObjCode,inventoryName:_.inventoryName_transObjCode,measureUnit:_.measureUnit_transObjCode,specification:_.specification_transObjCode,PopDealerLabel:[_.drDealerLabel],inventoryPic:_.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}),u.push(_)}}catch(e){v=!0,p=e}finally{try{!h&&y.return&&y.return()}finally{if(v)throw p}}e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:s.biComment,biId:s.biId,biProcessStatus:s.biProcessStatus,creator:s.creator,modifer:s.modifer}),e.biReferenceId=s.biReferenceId,e.matterList=u,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,o.default)({},"CPJG_DATA",{matter:this.matterList,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("CPJG_DATA");e&&(this.matterList=JSON.parse(e).matter,this.formData=JSON.parse(e).formData,sessionStorage.removeItem("CPJG_DATA"))}}},KnX9:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("KH7x"),r=n(i),s=a("HXPS"),o=n(s),l=a("+62G"),d=n(l),u=a("Nk/b"),c=n(u),f=a("7g+Q"),m=n(f);t.default={name:"RPicker",props:{title:{type:String,default:""},value:{type:String,default:""},data:{type:Array,default:function(){return[]}},required:{type:Boolean,default:!1},pickerStatus:{type:Boolean,default:!0},mode:{type:String,default:"1"},showArrow:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"},hasBorder:{type:Boolean,default:!0},hasBorderTop:{type:Boolean,default:!1}},data:function(){return{show:!1,currentValue:"",showValue:""}},watch:{value:{handler:function(e){this.showValue=e,this.currentValue=e?[e]:[],this.$emit("on-change",e)}}},directives:{TransferDom:d.default},components:{Picker:c.default,Popup:m.default,Icon:o.default},methods:{confirm:function(){var e=(0,r.default)(this.currentValue,1),t=e[0],a=void 0===t?"":t;this.show=!1,this.$emit("input",a)},showStatus:function(){this.pickerStatus&&!this.disabled&&(this.show=!this.show)}},created:function(){this.currentValue=[this.value],this.showValue=this.value}}},Knib:function(e,t){},KpoN:function(e,t){},Kppu:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MjAd"),r=n(i),s=(a("vS5q"),a("FPb0")),o=n(s);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2482,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},components:{financeListItem:o.default},mixins:[r.default],methods:{},created:function(){}}},"Kuu/":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("HyXB"),v=a("1KNX"),p=n(v),C=a("7biW"),y=n(C);t.default={name:"PopUserList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:m.default,RScroll:p.default,RSearch:y.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:100,page:1,hasNext:!0,scrollOptions:{pullUpLoad:!0},filterProperty:"",filterList:[{name:"姓名",value:"nickname"},{name:"工号",value:"userCode"}]}},watch:{show:{handler:function(e){this.showPop=e},immediate:!0},defaultValue:{handler:function(e){this.selItems=(0,d.default)({},this.defaultValue)},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){return this.selItems.userCode===e.userCode},selThis:function(e,t){this.selItems=(0,d.default)({},e),this.$emit("sel-item",(0,d.default)({},e)),this.$emit("input",!1)},getDefaultImg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.gender,n=void 0===t?"":t,i=a("男"===n?"Fuf7":"0gu7");return e&&(e.photo=i),i},getUserList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,h.getUserList)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i,s={1:{text:"使用中",class:"inUse"},2:{text:"未使用",class:"unUse"},3:{text:"草稿",class:"offUse"},"-1":{text:"停用",class:"offUse"}};r.forEach(function(t){var a=s[t.status]||{};t.photo=t.photo||e.getDefaultImg(t),t.statusText=a.text,t.statusClass=a.class}),e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,o.default)(e.listData),(0,o.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.resetCondition(),this.getUserList()},onPullingUp:function(){this.page++,this.getUserList()},resetCondition:function(){this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)}},created:function(){this.getUserList()}}},KxAj:function(e,t){},KzA7:function(e,t,a){"use strict";function n(e){a("GZsT")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("YG92");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("MtqW"),o=a.n(s),l=a("gNJA"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-58c473f6",null);t.default=c.exports},KzpN:function(e,t){},"L+HE":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAYAAAA8AXHiAAALZ0lEQVR4Xu2dW4hdVxnH/99a+1xmMjO5NMEkxUYnVggpxhfRh0hGiNVoY5SYvrXmqQWreZDUXqhyGpQQG+qDRrCgwRSRouhDQaVEMqDBK0hvBrRtkqZN2ubamcnMuey1PtkTEjLnMmclZ63sfWZ/+2lgr/Vf6/uvH+vbe501axM6Xcw0Nv6kXjE2UjjzZq08XJyIZqolbahOHevIjQXrgOYiD5RrZrI+Eq+6o1Q9Oz7RGB+rGBC4XdBtIdnxaqV4sVweUItmSjPVhl6wbklgN+3AQLlg7OVqbXR0dPoZerDRLNQC1tbTlcHz0zykIwHqpl3PUUUTF8xtgzT1/OrK9PVhzwHr7hd3L6qPDA1LussRGR5CTdJkcWJq8oUN+y9flbsGVjJTTdYwIlB5cDqHEglcwyVMXJ25ZsFKnqneLvESSX85JMJjyElavL1Gl369vlInMNPmN/aN1PTEoMc2RCqnDpTMyPTh0UcnaOxIJSqu42Xy9pdTEjyHnbwt1o/RBdrBTw+8c/LcEs/6IpdjB1auWX6JNp7cu5R4spxjHyR0zw4wDVdpy5nHVkzVKPKsLXI5dmCoxDGNHa+slCWGHFMQIPRk6YE+feLxVQG0RTLnDghYOQcgVPgCVihnc64rYOUcgFDhC1ihnM25roCVcwBChS9ghXI257oCVs4BCBW+gBXK2ZzrClg5ByBU+AJWKGdzritg5RyAUOELWKGczbmugJVzAEKFL2CFcjbnugJWzgEIFb6AFcrZnOsKWDkHIFT4AlYoZ3OuK2DlHIBQ4QtYoZzNua6AlXMAQoUvYIVyNue6AlbOAQgVvoAVytmc6wpYOQcgVPgCVihnc67bN2BZFZOq6SWMaIyY72WmDWBeDOCWHQ9OhEsAXgLRryzhz6pgLuScn47h9w1Y2tDaOMZ3wTQGoJDygDLA40bzvqiAl1LuSyab7wuwGmxLuh79loANYKhMOEmwAB1VER5ibc5lok8Z6kRfgMU1vQvMj2bIt2td4YgeVpH5ZRb7lmafMg8WGTVkY/wOjPVpGtWpbQJeRtl+Lot9S7NPmQcLsR7lmJ8DcHuaRnV+SoVRmj/MEceZ7F9Knco8WFxX62HxLICVKXnUtVlDZl1Uove7FsxRgeyDZdR6NASsfmMy+2DJjNVvTM32N/tgyYwlYIVwgAWsELYG18z+jCWpMDgEIRrIPlgyY4UY9+CaApYHi2W5odXE7IMlqdAD+rdeIvtgSSq89VR4aFHA8mCipMKFnAqZDqGAP7XnxC5BrB4C+KNN98+BaC80Wra9WAulgXvY8vZu7AlY/QiWWyqs6yJttsq81g4CzbYU1/QegO6bc59wlEp2RydwNKsNcQ1/ELC6ObCAweIibVbzgVWPngTj/iaw/kIle29H2xrRx9jYP3a1NcIWAk0CVzc4JJ9/7O1vtlFsBtT5yDQud20/gwWy/4zl8lbI3FAam7nI/2s/YxVLcT3eA0bTjEVHqWQ6zlgqxsdNrH7vMG5ngGRHqdeLAVyGoqNE5gAKSNromyv7YLmlQhDhOavVkXbOK8uLmfkBMNZef5+A8wz8kCPV8oyl2Cq2+AIY96Q9mkR0FoRv60F92MR1k3Z/XNpfMGC5BNvXZQinlMI3uGD/2Q9xZB8sl1TYD0576CMBf0XZdn1L9dBUzxLZB8sxFfbsRJ8IKBVt4mK97bNklkIQsLI0Gg59IYVdKNrfOBRNtUj2wZJUOBcQhSeoaH+eKjUOjWcfLEmFTcPI36Ey/8xhbFMtImClav/NNC5g3YxrLXX64d+/vATqLCJgOVs1X8F+2PPuJVBnEQHL2SoB60asErBuxK2OZV1TIQE1Bk63FSIUAawGN52ldeXEmHNgbvmhl0FElNThpG6PV6JP73UQGbix//IWsHocjCvVHVOhBfFXqcR/a9docrCIifkpYtp2/X0ielkX9ZcM1Wvt6pm6+ryy6O3VnjClNLZxZI+1a8M29DLFOMCWN7kZJmC5+dSllCNY9VS3zcwXA+FdVvxlVeCT7Yqx4WE01H6AtroZJmC5+dQNLLcF0j4HK9oPsIDlhRhHEZcZiwgGinZCm7bHNlqiQVVXTzDzF+c0q/BKUo+UabR2pwBu2I1gPuDY1U7FJhGpr5GKX2+bpmNaYpm+D8ZGt3ZkxnLzqduM5bryTngXjLfay1ERxHeCUW663yDCa8yYbq03e2buGoCX9xwI4RQY7R/eiQbAfKf7uaoCVs/jMfvw7pYKvbTVHyIClpdxckmFXhrqGxEBy8tQCVjNNgpYfsCSVNjko4DlByzXh3cvrfWDiIDlZZQkFUoq9AJSi42SCiUVhiBLZiyZsUJw5fojdJC2sykqz1hexkUWSGXG8gJSi42Ob4VE9BaY255vwMl+LIuPgLDoev1kDxcI/wWj2tLule8gJp9ZWdVbYMwAnSC0HpU0+8uCwsDsv/4zkn1ZDpfMWA4mdS/i9IxFMFbxdl3gf7RT1LqwKJ62PwDzV+aARfRvYt7OZdsC1uygN6LNMPZQ9152LkGE9xHZ7dD4T9tSDV7KNvoxmD/j1o6A5eZTl1KOqVC2zXhx25/IQvn3r7pS/Nl5jzGqxXuAGzvGiOPiBsRx14PX5h0OwnuseNu8G/1MtB9W9mP5w9pByTEVWgZ9jxT9SwO4es7Ptb/ZDIFpFxifamryOEX0ODPN7nm/vq6CJba0iZm/5dDNeXIhZoi4wqSPtesbW7OMmHYDuMutHUmFbj75SYVAsqeK0P70O4YGYQRActTetYsBS0DyObjWbw1e+YT5kPtD9byBTAKtLwhXapAG8WIkfXS6BCwnm7oVcpqxuoksqPsClpfhFLCabRSw/IAlvxU2+Shg+QHLcYHUS2N9ISJgeRkmSYWSCr2A1GKjpEJJhSHIkhlLZqwQXMm2mRZX5RnLC2iOvxV6aas/RAQsL+MkqVBSoReQWmyU5QZ5ePdBFpti4Xodju16WHuQCB/wod/vGlajolR0sDkO0vU2B5ukF20mts0kZ0RRrHcyY2fvOzbTMzPlls+A6BeI4oOkk0/cpXtlAizU1DfZ4mHQ3N0H6VrTh60zYlJ4CiX7o7R7nwmwuKqSL1ol+8vl6t2Bt6lsP9G7TG8K2QCrpv4Oxgd7C0VqzzpAOEUl+8m03cgGWHX9dVh+xP3wsbRty2z7DSjaR0Xzk7R7mAmwkv+iMVV7n7W4n5g/lLYp/dg+E51QCod0WT1rMvAd6UyA1Y8DKX2e3wEBSwgJ4oCAFcRWERWwhIEgDghYQWwVUQFLGAjigIAVxFYRFbCEgSAOCFhBbBVRAUsYCOKAgBXEVhEVsISBIA4IWEFsFVEBSxgI4oCAFcRWERWwhIEgDghYQWwVUQFLGAjigIAVxFYRFbCEgSAOCFhBbBVRAUsYCOKAgBXEVhEVsISBIA4IWEFsFVEBSxgI4oCAFcRWEaWx45WVhupXvnUllzjgwQHNRaYtZx5bMVWjOZ9b86AtEjl2YKjEMW08uXcp8WQ5xz5I6J4dYBqu0g5+euCdk+eWeNYWuRw7sHLN8ks0dqQSFdfxsplqw/ELnzl2TELv6sBAuWDqx+gCgUGb33hkpKb1YNdaUkAc6OJAyZjpw6P7JmbfBh/gnxZeef30Uh3JrCXk3LwDJi6Yu9auvvgMPdi4tsyw9XRlcLKGEVl6uHlj81wzWWIYLmHi+dWV6cSHOetXd7+4e1F9ZGhY4MozIjceewJVcWJq8oUN+y9frd2yMJrMXOeneUjS4o0bnMcaSfq7bZCmrs5UHcFKbux4tVK8WC4PqEUzJXlbzCMu3WNO3v7s5WptdHR0Onmmaq7R+accBo2NV/SKsZHCmTdr5eHiRDRTLWlJk91NX4glknQ3UK6ZyfpIvOqOUvXs+ERjfKxikKwrtLn+Dyydg7JWpfauAAAAAElFTkSuQmCC"},"L/+s":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("BGNQ"),o=n(s),l=a("z5TY"),d=n(l),u=a("kNGm"),c=(n(u),a("0AQX"),a("jLp1")),f=a("+VRO"),m=n(f),h=a("PKHo"),v=n(h),p=a("vl8n"),C=n(p);t.default={data:function(){return{projectTask:{},comment:{}}},mixins:[m.default,v.default],components:{Group:d.default,Cell:o.default,RPicker:C.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,c.findProjectTask)(t).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=t.attachment,s=void 0===i?[]:i,o=n.projectTask||{};e.jsonData=n,e.attachment=s,e.comment=n.comment,e.projectTask=(0,r.default)({},o,{deadline:e.changeDate(o.deadline),actualCompleteTime:e.changeDate(o.actualCompleteTime)}),e.orderInfo=(0,r.default)({},n.baseinfo,{biStatus:"已生效"})})}},created:function(){}}},L0HX:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("tab",{attrs:{"line-width":2,"default-color":"#333","active-color":"#3296FA"}},e._l(e.listStatus,function(t,n){return a("tab-item",{key:n,attrs:{selected:n===e.activeIndex},on:{"on-item-click":function(a){e.tabClick(t,n)}}},[e._v(e._s(t.name)+"\n          ")])}),1)],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"list-item-wrapper",class:{visited:t.visited},on:{click:function(a){e.goDetail(t,n)}}},[a("img",{staticClass:"list_item_img",attrs:{src:t.groupPic,alt:"company-img"},on:{error:function(a){e.getDefaultImg(t)}}}),e._v(" "),a("div",{staticClass:"list_info_wrapper"},[a("div",{staticClass:"list_header"},[a("span",{staticClass:"list_name"},[e._v(e._s(t.groupName))]),e._v(" "),a("span",{staticClass:"list_status",class:t.statusClass},[e._v(e._s(t.status))])]),e._v(" "),a("div",{staticClass:"list_detail"},[a("div",{staticClass:"list_detail_item"},[a("span",{staticClass:"list_detail_title"},[e._v("简称: ")]),e._v(" "),a("span",{staticClass:"list_detail_value"},[e._v(e._s(t.groupShortName))])]),e._v(" "),a("div",{staticClass:"list_detail_item"},[a("span",{staticClass:"list_detail_title"},[e._v("公司类型: ")]),e._v(" "),a("span",{staticClass:"list_detail_value"},[e._v(e._s(t.companyType))])])])])])}),0)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},L3x7:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("m-search",{attrs:{filterList:e.filterList,isFill:!0},on:{search:e.searchList}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.matterList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.matterList,function(t,n){return a("div",{key:n,staticClass:"each_mater box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[t.transCode&&!t.transCode.includes(",")&&e.isShowCode?a("div",{staticClass:"order-code"},[e._t("titleName",[a("span",{staticClass:"order-title"},[e._v("单号")])]),e._v(" "),a("span",{staticClass:"order-num"},[e._v(e._s(t.transCode))])],2):e._e(),e._v(" "),a("div",{staticClass:"order-matter"},[a("div",{staticClass:"mater_img"},[a("img",{attrs:{src:t.inventoryPic,alt:"mater_img"},on:{error:function(a){e.getDefaultImg(t)}}})]),e._v(" "),a("div",{staticClass:"mater_main "},[a("div",{staticClass:"mater_name"},[e._v("\n                "+e._s(t.inventoryName)+"\n              ")]),e._v(" "),a("div",{staticClass:"mater_info"},[a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline",staticStyle:{display:"inline-block"}},[a("div",{staticClass:"mater_code"},[a("span",{staticClass:"title"},[e._v("编码")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(t.inventoryCode))])])]),e._v(" "),a("div",{staticClass:"ForInline",staticStyle:{display:"inline-block"}},[a("div",{staticClass:"mater_spec"},[a("span",{staticClass:"title"},[e._v("规格")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(t.specification||"无"))])])])]),e._v(" "),a("div",{staticClass:"withoutColor"},[e._t("attribute",[a("div",{staticClass:"mater_classify"},[a("span",{staticClass:"type"},[e._v("属性: "+e._s(t.processing))]),e._v(" "),a("span",{staticClass:"father"},[e._v("大类: "+e._s(t.inventoryType||"无"))]),e._v(" "),a("span",{staticClass:"child"},[e._v("子类: "+e._s(t.inventorySubclass||"无"))])]),e._v(" "),a("div",{staticClass:"mater_material"},[a("span",{staticClass:"unit"},[e._v("单位: "+e._s(t.measureUnit))]),e._v(" "),a("span",{staticClass:"color"},[e._v("颜色: "+e._s(t.inventoryColor||"无"))]),e._v(" "),a("span",{staticClass:"spec"},[e._v("材质: "+e._s(t.material||"无"))])])],{item:t}),e._v(" "),e._t("storage",[void 0!==t.qtyBal?a("div",{staticClass:"mater_material"},[a("span",{staticClass:"spec"},[e._v("余额: "+e._s(t.qtyBal))])]):e._e(),e._v(" "),t.allQty?a("div",{staticClass:"mater_material"},[a("span",{staticClass:"spec"},[e._v("待做需求: "+e._s(t.qtyBalance))])]):e._e()],{item:t})],2)])])]),e._v(" "),a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-circle-outline selIcon",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1),e._v(" "),a("div",{staticClass:"count_mode vux-1px-t"},[a("span",{staticClass:"count_num"},[e._v(" "+e._s(e.tmpItems.length?"已选 "+e.tmpItems.length+" 个":"请选择")+" ")]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.cfmMater}},[e._v("确定")])])])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},L4KZ:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,"default-contact":e.contactInfo,"dealer-params":e.dealerParams},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("dealer-other-part",{attrs:{"dealer-config":e.dealerConfig,"dealer-info":e.dealerInfo}}),e._v(" "),a("pop-warehouse-list",{attrs:{isRequired:"","default-value":e.warehouse},on:{"sel-item":e.selWarehouse}}),e._v(" "),a("div",{staticClass:"materiel_list"},[Object.keys(e.orderList).length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n,i){return a("div",{key:n,staticClass:"each_mater",class:{"vux-1px-b":i<Object.keys(e.orderList).length-1}},[t.length?a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v(e._s(e.orderListTitle))]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]):e._e(),e._v(" "),e._l(t,function(t,i){return a("div",{key:i,class:{mater_delete:e.matterModifyClass}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass,config:e.matterEditConfig.property},on:{"on-modify":function(a){e.modifyMatter(t,i,n)}},nativeOn:{click:function(a){e.delClick(i,t,n)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[n.price&&n.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price)+"\n                      ")]),e._v(" "),a("div",[a("r-number",{attrs:{num:n.tdQty,max:n.qtyStockBal,checkAmt:e.checkAmt},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",t)},expression:"item.tdQty"}})],1)]):e._e()]}},{key:"editPart",fn:function(t){var r=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r.price&&r.tdQty&&!e.matterModifyClass,expression:"(item.price && item.tdQty) &&!matterModifyClass"}],staticClass:"edit-part vux-1px-l",on:{click:function(t){e.modifyMatter(r,i,n)}}},[a("span",{staticClass:"iconfont icon-bianji1"})])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(i,t,n)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)})],2)}),0)]:[a("div",{on:{click:function(t){e.showOrderPop=!e.showOrderPop}}},[a("div",{staticClass:"title"},[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择"+e._s(e.orderListTitle))]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),Object.keys(e.orderList).length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多物料")])]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showOrderPop,"default-value":e.matterList,config:e.matterPopConfig,"matter-params":e.matterParams,orderTitle:e.matterPopOrderTitle},on:{"sel-matter":e.selOrder},model:{value:e.showOrderPop,callback:function(t){e.showOrderPop=t},expression:"showOrderPop"}})],2),e._v(" "),a("pop-sodl-projectList",{attrs:{value:e.project},model:{value:e.project,callback:function(t){e.project=t},expression:"project"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,config:e.matterEditConfig},on:{"sel-confirm":e.selConfirm},model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num"},[a("span",{staticStyle:{fontSize:".14rem"}},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.tdAmount))+"\n      "),a("span",{staticClass:"taxAmount"},[e._v("[含税: ￥"+e._s(e._f("numberComma")(e.taxAmount))+"]")])]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},L61s:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("kNGm"),r=(n(i),a("0AQX")),s=a("+VRO"),o=n(s);t.default={data:function(){return{userData:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},uploadStyle:{width:"100%",padding:"0.06rem 0.1rem"}}},mixins:[o.default],methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,r.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=o,e.userData=r,e.workFlowInfoHandler()})},goEdit:function(){var e=this.$route.params,t=e.folder,a=e.fileName,n=this.$route.query.name;this.$router.push({path:"/fillform/"+t+"/"+a,query:{name:n,transCode:this.transCode}})}}}},LAx5:function(e,t){},LBhX:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("KH7x"),o=n(s),l=a("Jwlx"),d=n(l),u=a("kpbF"),c=a("1KNX"),f=n(c),m=a("Qg39"),h=(a("zWMP"),a("iR2W")),v=n(h);t.default={name:"ZCFZForm",data:function(){return{headerSwiper:null,partRightSwiper:null,code:"",headInfo:{},listData:{},listMap:{ZCFZ:{title:"资产负债表",firstName:"期初",LastName:"期末",request:u.getOffBalance},LR:{title:"利润表",firstName:"上期",LastName:"本期",request:u.getProfit}},scrollOptions:{bounce:{top:!1}}}},components:{RScroll:f.default},methods:{getData:function(){var e=this;return this.listMap[this.code].request().then(function(t){var a=t.data,n=void 0===a?[]:a,i={};n.forEach(function(e){var t=i[e.assetType];t?t.items.push((0,d.default)(e)):i[e.assetType]={assetType:e.assetType,items:[(0,d.default)(e)]}}),e.listData=i,e.$nextTick(function(){e.setHeight(e.$refs.partLeftContent,e.$refs.partRightInit,e.$refs.partRightFinal),"ZCFZ"===e.code&&e.setHeight(e.$refs.partLeftTitle,e.$refs.partRightInitTitle,e.$refs.partRightFinalTitle),e.$loading.hide()})})},setHeight:function(e){for(var t=arguments.length,a=Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];var i=(0,o.default)(a,1),r=i[0];e&&e.forEach(function(e,t){var n=r[t];e.clientHeight!==n.clientHeight&&a.forEach(function(a){a[t].style.height=e.clientHeight+"px"})})},initSwiper:function(){var e=this;this.$nextTick(function(){e.partRightSwiper=new e.Swiper(".part-right"),e.headerSwiper=new e.Swiper(".swiper-container-header"),e.partRightSwiper.controller.control=e.headerSwiper,e.headerSwiper.controller.control=e.partRightSwiper})}},filters:{formatNum:function(e){return e?(0,v.default)((0,m.toFixed)(e))+"元":"-"}},created:function(){var e=this.$route.query.code,t=void 0===e?"":e;this.code=t,this.headInfo=(0,r.default)({},this.listMap[t]),this.initSwiper(),this.getData()}}},LEvG:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper xmjx-detail-container"},[a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.orderInfo,"order-info":e.orderInfo}}),e._v(" "),a("div",{staticClass:"project_info"},[e._m(0),e._v(" "),a("div",{staticClass:"project_content"},[a("form-cell",{attrs:{cellTitle:"名称",cellContent:e.projectApproval.projectName,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"大类",cellContent:e.projectApproval.projectType}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"子类",cellContent:e.projectApproval.projectSubclass}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"经理",cellContent:e.projectApproval.projectManager}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"经理电话",cellContent:e.projectApproval.phoneNumber}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"说明",cellContent:e.projectApproval.comment||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"预期开始日期",cellContent:e._f("dateFormat")(e.projectApproval.expectStartDate,"YYYY-MM-DD")}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"预期截止日期",cellContent:e._f("dateFormat")(e.projectApproval.expectEndDate,"YYYY-MM-DD")}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"实际开始日期",cellContent:e._f("dateFormat")(e.projectTime.actualStartTime,"YYYY-MM-DD")}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"实际完成日期",cellContent:e._f("dateFormat")(e.projectTime.actualCompleteTime,"YYYY-MM-DD")}})],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.projectConclusion.length,expression:"projectConclusion.length"}],staticClass:"project_info project-amt"},[e._m(1),e._v(" "),e._l(e.projectConclusion,function(t,n){return a("div",{key:n,staticClass:"project_content",class:{"vux-1px-b":n!==e.projectConclusion.length-1}},[a("form-cell",{attrs:{cellTitle:"实际"+t.conclusionName,showSymbol:"利润率"!==t.conclusionName,textRight:"",cellContent:e.numberComma(t.actual),showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"预算"+t.conclusionName,showSymbol:"利润率"!==t.conclusionName,textRight:"",cellContent:e.numberComma(t.budget),showTopBorder:!1}}),e._v(" "),a("form-cell",{directives:[{name:"show",rawName:"v-show",value:"利润率"!==t.conclusionName,expression:"item.conclusionName !== '利润率'"}],attrs:{cellTitle:"差额"+t.conclusionName,showSymbol:"利润率"!==t.conclusionName,textRight:"",cellContent:e.numberComma(t.difference),showTopBorder:!1}})],1)})],2),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.comment.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}})],1)])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"info_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-xiangmu"}),e._v("项目信息")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"info_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-yusuan2"}),e._v("资金明细")])}],r={render:n,staticRenderFns:i};t.a=r},LGX9:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement;return(e._self._c||t)("i",{class:[e.className,e.isMsg?"weui-icon_msg":""]})},i=[],r={render:n,staticRenderFns:i};t.a=r},LIUC:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("+62G"),o=n(s),l=a("7g+Q"),d=n(l),u=a("z5TY"),c=n(u),f=a("HXPS"),m=n(f),h=a("d5Kw"),v=n(h),p=a("kNGm"),C=(n(p),a("1KNX")),y=n(C),_=a("I8ug"),g=a("d3k1"),b=n(g),w=a("Qg39");t.default={data:function(){return{scrollOptions:{click:!0},logShow:!1,pickerStatus:!1,scopeList:[{name:"表单",selected:!1},{name:"科目关系",selected:!1},{name:"报销",selected:!1},{name:"工作流",selected:!1},{name:"权限",selected:!1}],submitData:{scope:"",spendTime:1,content:""},scopeType:[],listId:"",btnIsHide:!1,clientHeight:document.documentElement.clientHeight}},directives:{TransferDom:o.default},components:{Popup:d.default,Group:c.default,Icon:m.default,XButton:v.default,RScroll:y.default},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},EditLogPop:function(){var e=this;if(this.pickerStatus=!0,this.scopeType=[],this.submitData.scope){this.submitData.scope.split(",").forEach(function(t){var a={name:t};e.scopeType.push(a)})}},showSelIcon:function(e){return-1!==this.scopeType.findIndex(function(t){return t.name===e.name})},selectType:function(e){e.selected=!e.selected;var t=this.scopeType,a=t.findIndex(function(t){return t.name===e.name});if(-1!==a)return void t.splice(a,1);t.push(e)},cfmMater:function(){var e=this;this.pickerStatus=!1,this.submitData.scope="",this.scopeType.forEach(function(t){if(e.submitData.scope.length)return void(e.submitData.scope+=","+t.name);e.submitData.scope+=t.name})},checkVal:function(e){var t=e.spendTime;t&&(e.spendTime=Math.abs((0,w.toFixed)(t)))},submitLog:function(){var e=this,t="";if([{key:"scope",message:"【更新范围】"},{key:"spendTime",message:"【耗用时间】"},{key:"content",message:"【更新内容】"}].every(function(a){return""!==e.submitData[a.key]||(t=a.message+"不能为空",!1)}),t)return void this.$vux.alert.show({content:t});(0,_.saveLog)((0,r.default)({},this.submitData,{listId:this.listId})).then(function(t){t.success&&(e.submitSuccess=!0,e.$vux.alert.show({content:"提交成功",onHide:function(){e.$router.go(-1)}}))})},getFocus:function(e){event.currentTarget.select()}},created:function(){var e=this.$route.params.listId;e&&(this.listId=e)},mounted:function(){var e=this;b.default.isAndroid&&(window.onresize=function(){e.clientHeight>document.documentElement.clientHeight?e.btnIsHide=!0:e.btnIsHide=!1})},beforeRouteLeave:function(e,t,a){e.path;this.submitSuccess&&"APPDETAIL"===e.name&&(e.meta.reload=!0),a()}}},LOVB:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("3cXf"),o=n(s),l=a("+62G"),d=n(l),u=a("7g+Q"),c=n(u),f=a("z5TY"),m=n(f),h=a("HXPS"),v=n(h),p=a("d5Kw"),C=n(p),y=a("kNGm"),_=n(y),g=a("1KNX"),b=n(g),w=a("I8ug"),I=a("9r/T");t.default={name:"ChangeLog",props:{handle:{type:Boolean,default:!1}},data:function(){return{page:1,limit:10,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},mySwiper:null,popupShow:!1,adminCommentList:[],listId:"a4897429-f4f2-44a4-ade7-2fe8dc67c3cf",scrollHeight:0,seletedIndex:null}},directives:{TransferDom:d.default},components:{Popup:c.default,Group:m.default,Icon:v.default,XButton:C.default,RScroll:b.default},filters:{handerTime:function(e){return(0,_.default)(e,"YYYY-MM")}},methods:{onShow:function(){var e=this;this.$nextTick(function(){if(e.$refs.bScroll){e.$refs.bScroll.refresh();var t=e.$refs.bScroll.$refs.bScroll.offsetHeight,a=e.$refs.bScroll.$refs.scrollWrapper.offsetHeight,n=a-t;a>t&&(e.scrollHeight>n&&(e.scrollHeight=n),e.$refs.bScroll.scrollTo(0,-e.scrollHeight))}}),(0,I.setTimeout)(function(){e.seletedIndex=null},1e3)},getUserDefault:function(e){var t=a("Fuf7");return e&&(e.photo=t),t},getMoreComment:function(){this.popupShow=!0,this.scrollHeight=0},goPop:function(e){var t=this;this.seletedIndex=e,this.popupShow=!0,this.scrollHeight=0,this.$nextTick(function(){0!==e&&t.$refs.eachComment.forEach(function(a,n){n<e&&(t.scrollHeight+=a.offsetHeight)})})},getAdminComment:function(){var e=this;return(0,w.getAdminCommentList)({listId:this.listId,limit:this.limit,page:this.page,sort:(0,o.default)([{property:"crtTime",direction:"DESC"}])}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,s=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+s.length,s.forEach(function(e){e.achievement.includes("<")&&!e.achievement.includes("img")?(e.modifyAchievement=e.achievement.replace(/<\/?[^>]*>/g,""),e.modifyAchievement=e.modifyAchievement.replace(/\s+/g,"</br>")):e.modifyAchievement=e.achievement,e.chance.includes("<")&&!e.chance.includes("img")?(e.modifyChance=e.chance.replace(/<\/?[^>]*>/g,""),e.modifyChance=e.modifyChance.replace(/\s+/g,"</br>")):e.modifyChance=e.chance}),e.adminCommentList=1===e.page?s:[].concat((0,r.default)(e.adminCommentList),(0,r.default)(s)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},onPullingUp:function(){this.page++,this.getAdminComment()},closePop:function(){this.popupShow=!1},EditAdmin:function(){this.$router.push({path:"/appDetail/"+this.listId+"/addAdminComment"})}},created:function(){var e=this.$route.params.listId;e&&(this.listId=e,this.getAdminComment())},mounted:function(){var e=this.Swiper;this.mySwiper=new e(".admin-comment-container",{slidesPerView:"auto",observer:!0,observeParents:!0,centeredSlides:!0})}}},LOzK:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"r-picker ",class:{"r-picker-2":"2"===e.mode,"r-picker-3":"3"===e.mode,"r-picker-4":"4"===e.mode,"vux-1px-b":e.hasBorder,"vux-1px-t":e.hasBorderTop},on:{click:e.showStatus}},["1"===e.mode||"2"===e.mode?[a("label",{class:{required:e.required}},[e._v(e._s(e.title))]),e._v(" "),a("div",{staticClass:"picker"},[a("span",{staticClass:"horizontal-title",class:{required:e.required}},[e._v(e._s(e.title))]),e._v(" "),a("span",{staticClass:"mater_nature"},[e._v(e._s(e.showValue))]),e._v(" "),e.showArrow?a("span",{staticClass:"iconfont icon-youjiantou r_arrow"}):a("span",{staticClass:"iconfont icon-gengduo",class:e.pickerStatus?"":"iconfont_fff"})])]:"3"===e.mode?[a("div",{staticClass:"title",class:{required:e.required}},[e._v(e._s(e.title))]),e._v(" "),a("div",{staticClass:"mode"},[e._v(e._s(e.showValue||e.placeholder))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!e.disabled,expression:"!disabled"}],staticClass:"iconfont icon-youjiantou r_arrow"})]:"4"===e.mode?[a("div",{staticClass:"title",class:{required:e.required}},[e._v(e._s(e.title))]),e._v(" "),a("div",{staticClass:"mode"},[e._v(e._s(e.showValue))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!e.disabled,expression:"!disabled"}],staticClass:"iconfont icon-youjiantou r_arrow"})]:e._e(),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{attrs:{id:"trade_pop_part"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[a("div",[a("div",{staticClass:"popup_header vux-1px-b"},[a("span",{staticClass:"cancel",on:{click:function(t){e.show=!1}}},[e._v("取消")]),e._v(" "),a("span",{staticClass:"confirm",on:{click:e.confirm}},[e._v("确认")])]),e._v(" "),a("picker",{attrs:{data:e.data,columns:1,value:e.currentValue},model:{value:e.currentValue,callback:function(t){e.currentValue=t},expression:"currentValue"}})],1)])],1)],2)},i=[],r={render:n,staticRenderFns:i};t.a=r},LQmC:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("HXPS"),d=n(l),u=a("7g+Q"),c=n(u),f=a("6q39"),m=n(f),h=a("kNGm"),v=n(h),p=a("fEP3"),C=a("1KNX"),y=n(C),_=a("7biW"),g=n(_);t.default={name:"work-list-pop",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}}},components:{Icon:d.default,Popup:c.default,LoadMore:m.default,RScroll:y.default,MSearch:g.default},filters:{dateFormat:v.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],workList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterList:[{name:"成品名称",value:"inventoryName"},{name:"成品编码",value:"inventoryCode"},{name:"工序名称",value:"procedureName"}],filterProperty:""}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,o.default)(this.selItems)),this.$emit("input",!1),this.$event.$emit("shut-down-filter",!1)},findIndex:function(e,t){return e.findIndex(function(e){var a=!0;return e.transCode&&(a=e.transCode===t.transCode),a&&e.inventoryCode===t.inventoryCode})},showSelIcon:function(e){return-1!==this.tmpItems.findIndex(function(t){return t.transCode===e.transCode&&t.inventoryCode===e.inventoryCode})},selThis:function(e,t){var a=this.tmpItems,n=a.findIndex(function(t){return t.transCode===e.transCode&&t.inventoryCode===e.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(e)},setDefaultValue:function(){this.tmpItems=[this.defaultValue],this.selItems=[this.defaultValue]},getWorkOrderTask:function(){var e=this,t=[],a=this.$route.query.orderId,n=void 0===a?"[]":a,i=JSON.parse(n);if(this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),i.length){var s=[{operator:"in",value:"",property:"colId"}];i.forEach(function(e,t){if(t===i.length-1)return void(s[0].value+=e);s[0].value+=e+","}),t=[].concat((0,o.default)(t),s)}return(0,p.getWorkOrderTask)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,s=t.tableContent,l=void 0===s?[]:s;i.length&&e.$emit("sel-work",(0,r.default)(l)),e.hasNext=n>(e.page-1)*e.limit+l.length,e.workList=1===e.page?l:[].concat((0,o.default)(e.workList),(0,o.default)(l)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},cfmMater:function(){this.showPop=!1,this.tmpItems.sort(function(e,t){return t.effectiveTime-e.effectiveTime}),this.selItems=[].concat((0,o.default)(this.tmpItems)),this.$emit("sel-work",(0,r.default)(this.selItems))},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.workList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getWorkOrderTask()},onPullingUp:function(){this.page++,this.getWorkOrderTask()}},created:function(){this.setDefaultValue(),this.getWorkOrderTask()}}},LVgA:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("HzJ8"),o=n(s),l=a("J0Oq"),d=n(l),u=a("3cXf"),c=n(u),f=a("4YfN"),m=n(f),h=a("IzfM"),v=n(h),p=a("Dkzh"),C=a("AQAo"),y=n(C),_=a("FvvE"),g=(n(_),a("ZTs6")),b=(n(g),a("xbeG")),w=n(b),I=a("vmwj"),x=n(I),D=a("vHT0"),P=n(D);t.default={data:function(){return{BUSobj:{},userInfo:{},BusApps:[],BasicApps:[],homeScroll:null,entityList:[],showDrop:!1,selItem:{}}},components:{busApp:w.default,basicApp:x.default},methods:{goBasic:function(e){this.$router.push({path:""+y.default[e]})},goList:function(e,t,a,n){this.$router.push({path:"/list/"+e+"/"+t,query:{name:a,listId:n}})},goAppDetail:function(e){this.$router.push({path:"/appDetail/"+e})},getDefaultIcon:function(e){var t=a("CYNT");return e&&(e.icon=t),t},getNews:function(){var e=this,t=void 0;return(0,p.getMsgList)().then(function(a){if(a.dataCount>99)return void(t="99+");t=a.dataCount,e.$event.$emit("badgeNum",t)})},getCurrentUser:function(){var e=this;return v.default.currentUser().then(function(t){e.userInfo={photo:t.photo,mobile:t.mobile,userCode:t.userCode,nickname:t.nickname,entityName:t.entityName&&t.entityName.slice(0,4)||""},t.sysGroupList&&t.sysGroupList.forEach(function(a){"C"===a.groupType&&(e.entityList.push(a),a.groupCode===t.entityId&&(e.selItem=a))})})},dropItemClick:function(e){this.selItem.groupCode!==e.groupCode&&(this.selItem=(0,m.default)({},e),this.userInfo.entityName=e.groupName.slice(0,4),this.showDrop=!1,this.$loading.show(),v.default.changeEntity({entityId:e.groupCode}).then(function(e){var t=sessionStorage.getItem("ROSE_LOGIN_TOKEN");t&&(t=JSON.parse(t),t.entityId=e.entityId,t.token=e.token,sessionStorage.setItem("ROSE_LOGIN_TOKEN",(0,c.default)(t)),location.reload())}))}},watch:{$route:{handler:function(e){"HOME"===e.name&&this.homeScroll.refresh()}}},created:function(){var e=this;this.$loading.show(),(0,d.default)(r.default.mark(function t(){var n,i,s,l,d;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getCurrentUser();case 2:return t.next=4,v.default.getMeau().then(function(t){var a=e.BUSobj,n=!0,i=!1,r=void 0;try{for(var s,l=(0,o.default)(t);!(n=(s=l.next()).done);n=!0){var d=s.value;a[d.text]=[];var u=!0,c=!1,f=void 0;try{for(var h,v=(0,o.default)(d.children);!(u=(h=v.next()).done);u=!0){var p=h.value;if(y.default[p.listId]&&(p.icon=p.icon?"/dist/"+p.icon:"",e.BasicApps.push(p)),p.packagePath&&(p.fileID=d.id,p.icon=p.icon?"/dist/"+p.icon:e.getDefaultIcon(),a[d.text].push(p)),p.children){var C=!0,_=!1,g=void 0;try{for(var b,w=(0,o.default)(p.children);!(C=(b=w.next()).done);C=!0){var I=b.value;I.packagePath&&(I.fileID=d.id,I.icon=I.icon?"/dist/"+I.icon:e.getDefaultIcon(),a[d.text][p.text]?a[d.text][p.text].childList.push(I):e.$set(a[d.text],p.text,{childId:p.id,childName:p.text,childList:[I]}))}}catch(e){_=!0,g=e}finally{try{!C&&w.return&&w.return()}finally{if(_)throw g}}}}}catch(e){c=!0,f=e}finally{try{!u&&v.return&&v.return()}finally{if(c)throw f}}e.BusApps.push({id:d.id,name:d.text,folder:d.folder,appList:(0,m.default)({},a[d.text])}),e.$loading.hide()}}catch(e){i=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(i)throw r}}});case 4:return n=JSON.parse(sessionStorage.getItem("ROSE_LOGIN_TOKEN")),i=n.name,s=n.avatar,l=n.position,s||(d=e.userInfo.photo,e.userInfo.photo||(d=a("Fuf7")),s=d),e.userInfo=(0,m.default)({},e.userInfo,{name:i,avatar:s,position:l}),t.next=10,e.getNews();case 10:case"end":return t.stop()}},t,e)}))()},mounted:function(){this.homeScroll=new P.default(this.$refs.home,{click:!0})}}},LXXj:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},LZ1p:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("bFc7"),p=n(v),C=a("zWMP");a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",contactInfo:{},orderList:{}}},mixins:[u.default],components:{workFlow:h.default,RAction:f.default,contactPart:p.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a={},n=0,i=t.formData.order.dataSet,s=!0,l=!1,d=void 0;try{for(var u,c=(0,r.default)(i);!(s=(u=c.next()).done);s=!0){var f=u.value;f.inventoryPic=f.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+f.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),n=(0,C.accAdd)(n,f.tdAmount),a[f.transMatchedCode]||(a[f.transMatchedCode]=[]),e.orderList=a,a[f.transMatchedCode].push(f)}}catch(e){l=!0,d=e}finally{try{!s&&c.return&&c.return()}finally{if(l)throw d}}e.count=n,t.formData.invoiceDate=(0,o.default)(t.formData.invoiceDate,"YYYY-MM-DD"),e.orderInfo=t.formData,e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo={dealerName:a.dealerName_dealerCodeCredit,dealerContactPersonName:t.dealerCreditContactPersonName,dealerMobilePhone:t.dealerCreditContactInformation,dealerCode:a.dealerCodeCredit,province:a.province_dealerCodeCreditt,city:a.city_dealerCodeCreditt,county:a.county_dealerCodeCredit,address:a.address_dealerCodeCredit}}}}},LbKK:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("KH7x"),o=n(s),l=a("lC5x"),d=n(l),u=a("HzJ8"),c=n(u),f=a("J0Oq"),m=n(f),h=a("HyXB"),v=a("0o6b");t.default={name:"UploadFile",props:{id:{type:String,default:"upload-file"},defaultValue:{type:Array,default:function(){return[]}},noUpload:{type:Boolean,default:!1},containStyle:{type:Object,default:function(){return{}}},titleStyle:{type:Object,default:function(){return{}}},biReferenceId:{type:String,default:""}},data:function(){return{files:[],file:null,showLoading:!1}},watch:{defaultValue:{handler:function(){this.setDefault()},immediate:!0}},methods:{chooseImage:function(){var e=this,t={count:5,defaultCameraMode:"batch"};(0,v.chooseImage)({options:t}).then(function(){var t=(0,m.default)(d.default.mark(function t(a){var n,i,r,s,o,l;return d.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=!0,i=!1,r=void 0,t.prev=3,s=(0,c.default)(a);case 5:if(n=(o=s.next()).done){t.next=12;break}return l=o.value,t.next=9,e.upload(l);case 9:n=!0,t.next=5;break;case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),i=!0,r=t.t0;case 18:t.prev=18,t.prev=19,!n&&s.return&&s.return();case 21:if(t.prev=21,!i){t.next=24;break}throw r;case 24:return t.finish(21);case 25:return t.finish(18);case 26:case"end":return t.stop()}},t,e,[[3,14,18,26],[19,,21,25]])}));return function(e){return t.apply(this,arguments)}}())},setDefault:function(){var e=this,t=[],a=(0,o.default)(this.defaultValue,1);a[0];t=this.defaultValue.map(function(t){return(0,r.default)({},t,{iconType:e.judgeFileType(t.attr1)})}),this.files=t},judgeFileType:function(e){var t="other";return[{reg:/\.(png|jpg|jpeg|gif|bmp|)$/gi,type:"image"},{reg:/\.xlsx$/gi,type:"excel"},{reg:/\.(doc|docx)$/gi,type:"word"},{reg:/\.(ppt|pptx)$/gi,type:"ppt"},{reg:/\.txt$/gi,type:"txt"}].every(function(a){return!a.reg.test(e)||(t=a.type,!1)}),t},getImgUrl:function(e){return location.origin+"/H_roleplay-si/ds/download?url="+e.attacthment},preview:function(e){var t=this;if("image"===e.iconType){var a=this.files.reduce(function(e,a){return"image"===a.iconType&&e.push(t.getImgUrl(a)),e},[]),n=this.getImgUrl(e);wx.previewImage({current:n,urls:a})}},deleteFile:function(e){var t=this;this.$vux.confirm.show({content:"确定删除？",onConfirm:function(){(0,h.deleteFile)(e.id).then(function(a){var n=a.success,i=void 0===n||n;a.message;if(i){var r=t.files.findIndex(function(t){return t.id===e.id});-1!==r&&t.files.splice(r,1)}})}})},upload:function(e){var t=this;return(0,v.uploadImage)({localId:e,biReferenceId:this.biReferenceId}).then(function(e){var a=(0,o.default)(e,1),n=a[0],i=void 0===n?{}:n;i.iconType=t.judgeFileType(i.attr1),t.files.push(i),t.$emit("on-upload",{biReferenceId:i.biReferenceId})})}},created:function(){}}},Lmxl:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("jLp1"),v=a("1KNX"),p=n(v),C=a("7biW"),y=n(C);t.default={name:"PopSODLProjectList",props:{value:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:m.default,RScroll:p.default,MSearch:y.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},tmpItems:[],projectList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},projectName:""}},watch:{value:{handler:function(e){this.selItems=(0,d.default)({},e)}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},showSelIcon:function(e){return this.selItems.projectName===e.projectName},selThis:function(e,t){this.showPop=!1,this.selItems=(0,d.default)({},e),this.$emit("input",this.selItems)},getProjectLsit:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:"projectName"}])),(0,h.getSalesOutStockProject)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.projectList=1===e.page?r:[].concat((0,o.default)(e.projectList),(0,o.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.projectList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getProjectLsit()},onPullingUp:function(){this.page++,this.getProjectLsit()},itemClick:function(){this.showPop=!0}},created:function(){this.selItems=(0,d.default)({},this.value),this.getProjectLsit()}}},LoFD:function(e,t,a){"use strict";function n(e){a("iMFB")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Zt7o");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("RZF6"),o=a.n(s),l=a("cHSc"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-102eb466",null);t.default=c.exports},Lp2T:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("jLp1"),v=a("1KNX"),p=n(v),C=a("7biW"),y=n(C);t.default={name:"PopSODLProjectList",props:{value:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:m.default,RScroll:p.default,MSearch:y.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},tmpItems:[],projectList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},projectName:""}},watch:{value:{handler:function(e){this.selItems=(0,d.default)({},e)}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},showSelIcon:function(e){return this.selItems.projectName===e.projectName},selThis:function(e,t){this.showPop=!1,this.selItems=(0,d.default)({},e),this.$emit("input",this.selItems)},getProjectLsit:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:"projectName"}])),(0,h.getSalesOutStockProject)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.projectList=1===e.page?r:[].concat((0,o.default)(e.projectList),(0,o.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.projectList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getProjectLsit()},onPullingUp:function(){this.page++,this.getProjectLsit()},itemClick:function(){this.showPop=!0}},created:function(){this.selItems=(0,d.default)({},this.value),this.getProjectLsit()}}},LpND:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("kNGm"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"contactPart",props:{contactInfo:{type:Object,default:function(){return{}}},configs:{type:Array,default:function(){return[]}}},data:function(){return{}},computed:{address:function(){var e=this.contactInfo,t=e.province,a=void 0===t?"":t,n=e.city,i=void 0===n?"":n,r=e.county,s=void 0===r?"":r,o=e.address,l=void 0===o?"":o;return a||i||s||l?""+a+i+s+l:""}},filters:{dateFormat:i.default},created:function(){}}},Lzbv:function(e,t){},"M+t1":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"M/Db":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2324,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}]}},mixins:[i.default],methods:{},created:function(){}}},"M/KW":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("r-scroll",{staticClass:"content",attrs:{options:e.scrollOptions}},[a("div",{staticClass:"mater_baseinfo vux-1px-b"},[a("div",{staticClass:"mater_property"},[a("div",{staticClass:"each_property vux-1px-b"},[a("label",{staticClass:"required"},[e._v("仓库编码:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.warehouse.warehouseCode,expression:"warehouse.warehouseCode"}],staticClass:"property_val",class:{readonly:""!==e.transCode},attrs:{type:"text",readonly:""!==e.transCode},domProps:{value:e.warehouse.warehouseCode},on:{input:function(t){t.target.composing||e.$set(e.warehouse,"warehouseCode",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"each_property required",class:""!=e.transCode?"edit_bor_btm":""},[a("label",{staticClass:"required"},[e._v("仓库名称:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.warehouse.warehouseName,expression:"warehouse.warehouseName"}],staticClass:"property_val",attrs:{type:"text"},domProps:{value:e.warehouse.warehouseName},on:{input:function(t){t.target.composing||e.$set(e.warehouse,"warehouseName",t.target.value)}}})])]),e._v(" "),a("upload-image",{attrs:{src:e.MatPic},on:{"on-upload":e.onUpload,"on-error":e.getDefaultImg}})],1),e._v(" "),e._l(e.warehouseConfig,function(t,n){return a("div",{key:n,staticClass:"each-info"},["staffDealerCode"!==t.fieldCode&&"warehouseProvince"!==t.fieldCode?a("div",["r2Combo"===t.xtype?a("r-picker",{staticClass:"r-picker",attrs:{title:t.fieldLabel+":",data:t.remoteData,value:"warehouseStatus"===t.fieldCode?e.warehouseStatus:e.warehouse[t.fieldCode],required:!t.allowBlank},model:{value:"warehouseStatus"===t.fieldCode?e.warehouseStatus:e.warehouse[t.fieldCode],callback:function(a){e.$set("warehouseStatus"===t.fieldCode?e.warehouseStatus:e.warehouse,t.fieldCode,a)},expression:"item.fieldCode === 'warehouseStatus'? warehouseStatus : warehouse[item.fieldCode]"}}):e._e(),e._v(" "),"r2Textfield"===t.xtype?a("div",{staticClass:"each_property vux-1px-b"},[a("label",{class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel)+":")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.warehouse[t.fieldCode],expression:"warehouse[item.fieldCode]"}],staticClass:"property_val",attrs:{type:"text"},domProps:{value:e.warehouse[t.fieldCode]},on:{input:function(a){a.target.composing||e.$set(e.warehouse,t.fieldCode,a.target.value)}}})]):e._e()],1):"warehouseProvince"===t.fieldCode?[a("div",{staticClass:"each_property vux-1px-b",on:{click:function(t){e.showAddress=!0}}},[a("label",[e._v("省市区:")]),e._v(" "),a("div",{staticClass:"picker"},[a("span",{staticClass:"mater_nature"},[e._v(e._s(e.warehouse.warehouseProvince)+e._s(e.warehouse.warehouseCity)+e._s(e.warehouse.warehouseDistrict))]),e._v(" "),a("span",{staticClass:"iconfont icon-gengduo"})]),e._v(" "),a("x-address",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{title:"省市区:",list:e.addressData,value:e.AccountAddress,show:e.showAddress},on:{"on-hide":function(t){e.getAddress(t)},"on-shadow-change":e.changeAddress,"update:show":function(t){e.showAddress=t}}})],1)]:[a("div",{directives:[{name:"show",rawName:"v-show",value:"noMatched"!==e.typeSub,expression:"typeSub !== 'noMatched'"}],staticClass:"each_property vux-1px-b",on:{click:function(t){e.showPop=!0}}},[a("label",[e._v(e._s(e.typeSubMap[e.typeSub].title))]),e._v(" "),a("div",{staticClass:"picker"},[a("span",{staticClass:"mater_nature"},[e._v(e._s(e.typeSubMap[e.typeSub].value))]),e._v(" "),a("span",{staticClass:"iconfont icon-gengduo"})])])]],2)}),e._v(" "),e._l(e.warehouseDuplicateConfig,function(t,n){return a("div",{key:t.name+"+"+n},[e.warehouseDuplicateData[t.name]&&!e.warehouseDuplicateData[t.name].length?a("div",{staticClass:"duplicate-item-no-select"},[a("span",{staticClass:"title"},[e._v(e._s(t.title))]),e._v(" "),a("span",{staticClass:"add",on:{click:function(a){e.addMoreUnit(t)}}},[e._v("新增")])]):e.warehouseDuplicateData[t.name]&&e.warehouseDuplicateData[t.name].length?a("group",{staticClass:"duplicate-item",attrs:{title:t.title}},e._l(e.warehouseDuplicateData[t.name],function(n,i){return a("div",{key:i,class:{has_border:i<e.warehouseDuplicateData[t.name].length-1}},e._l(t.items,function(t,i){return null!=n[t.fieldCode]?a("div",{key:i},[t.readOnly?[a("cell",{staticClass:"vux-1px-t",attrs:{title:t.text,value:n[t.fieldCode]}})]:["r2Combo"===t.editorType||"r2Selector"===t.editorType?a("r-picker",{staticClass:"duplicate-picker vux-1px-t",attrs:{title:t.text,data:t.remoteData,value:n[t.fieldCode],mode:"4","has-border":!1,required:!t.allowBlank},model:{value:n[t.fieldCode],callback:function(a){e.$set(n,t.fieldCode,a)},expression:"sItem[dItem.fieldCode]"}}):e._e(),e._v(" "),"r2Numberfield"===t.editorType?a("x-input",{attrs:{title:t.text,type:"number","text-align":"right",placeholder:"请填写"},on:{"on-blur":function(t){e.checkAmt(n)}},model:{value:n[t.fieldCode],callback:function(a){e.$set(n,t.fieldCode,a)},expression:"sItem[dItem.fieldCode]"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:!t.allowBlank,expression:"!dItem.allowBlank"}],staticClass:"required",attrs:{slot:"label"},slot:"label"},[e._v(e._s(t.text))])]):e._e(),e._v(" "),"r2Textfield"===t.editorType?a("x-input",{attrs:{title:t.text,"text-align":"right",placeholder:"请填写"},model:{value:n[t.fieldCode],callback:function(a){e.$set(n,t.fieldCode,a)},expression:"sItem[dItem.fieldCode]"}}):e._e()]],2):e._e()}),0)}),0):e._e(),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.warehouseDuplicateData[t.name]&&e.warehouseDuplicateData[t.name].length,expression:"warehouseDuplicateData[item.name] && warehouseDuplicateData[item.name].length"}],staticClass:"add_more"},[e._v("\n        您还需要添加新的"+e._s(t.title)+"?请点击\n        "),a("span",{staticClass:"add",on:{click:function(a){e.addMoreUnit(t)}}},[e._v("新增")]),e._v(" "),a("em",{directives:[{name:"show",rawName:"v-show",value:e.warehouseDuplicateData[t.name]&&e.warehouseDuplicateData[t.name].length>1,expression:"warehouseDuplicateData[item.name] && warehouseDuplicateData[item.name].length > 1"}]},[e._v("或")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.warehouseDuplicateData[t.name]&&e.warehouseDuplicateData[t.name].length>1,expression:"warehouseDuplicateData[item.name] && warehouseDuplicateData[item.name].length > 1"}],staticClass:"delete",on:{click:function(a){e.deleteMoreUnit(t)}}},[e._v("删除")])])],1)})],2),e._v(" "),a("pop-warelabe-list",{attrs:{show:e.showPop,data:e.typeSubMap[e.typeSub].list,defaultValue:e.typeSubMap[e.typeSub].value},on:{"sel-group":e.selGroup,"list-search":e.getTypeSubList},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}}),e._v(" "),a("div",{staticClass:"vux-1px-t btn "},[a("div",{staticClass:"cfm_btn",on:{click:e.save}},[e._v(e._s(this.transCode?"保存":"提交"))])])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},M4eV:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("+62G"),v=n(h),p=a("6q39"),C=n(p),y=a("fEP3"),_=a("1KNX"),g=n(_),b=a("7biW"),w=n(b);t.default={name:"PopCompanyList",props:{defaultValue:{type:Object,default:function(){return{}}},show:{type:Boolean,default:!1}},directives:{TransferDom:v.default},components:{Icon:c.default,Popup:m.default,RScroll:g.default,DSearch:w.default,LoadMore:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:function(e){this.setDefaultValue()}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1,this.$emit("input",!1)},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this.getList()},showSelIcon:function(e){return this.selItems.facilityName===e.facilityName},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.$emit("sel-item",this.selItems)},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"facilityName"}])),(0,y.getObjFacility)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,d.default)(e.listData),(0,d.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.selItems=this.defaultValue?(0,r.default)({},this.defaultValue):{}}},created:function(){this.setDefaultValue(),this.getList()}}},M93x:function(e,t,a){"use strict";function n(e){a("cSDn")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("eLoA");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("eQNG"),o=a.n(s),l=a("P+ts"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},MF1H:function(e,t,a){"use strict";function n(e){a("3P4b")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("QfO0");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("p9IC"),o=a.n(s),l=a("ZksZ"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},MFjG:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"badge",props:{text:[String,Number]}}},MGsm:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{attrs:{id:"main"}})])}],r={render:n,staticRenderFns:i};t.a=r},MHSk:function(e,t){},"MJ/2":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("HyXB"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2310,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}]}},mixins:[i.default],methods:{},created:function(){}}},MK4C:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("just-word-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}},scopedSlots:e._u([{key:"list-item",fn:function(t){var n=t.item;return e._l(n.detailItem,function(t,n){return a("div",{key:n,staticClass:"each-slot-item"},[a("div",{staticClass:"top-content"},[e._v("资金账户: "+e._s(t.fundName_cashInCode))]),e._v(" "),a("div",{staticClass:"main-content"},[a("div",{staticClass:"info_part"},[e._v("\n                收款金额: ￥"+e._s(e._f("numberComma")(t.tdAmount))+"\n              ")])])])})}}])})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},ML4I:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("MgeX"),o=n(s),l=a("HzJ8"),d=n(l),u=a("ZLEe"),c=n(u),f=a("3cXf"),m=n(f),h=a("4YfN"),v=n(h),p=a("BGNQ"),C=n(p),y=a("z5TY"),_=n(y),g=a("SAzG"),b=n(g),w=a("kNGm"),I=n(w),x=a("PzEQ"),D=n(x),P=a("u28h"),S=n(P),k=a("jnZd"),L=n(k),N=a("HyXB"),M=a("0AQX"),T=a("bKg5"),A=n(T),O=a("VZtf"),R=n(O),j=a("ZQWM"),B=n(j),E=a("Ylj6"),F=n(E),U=a("9cRV"),$=n(U),Q=a("vl8n"),H=n(Q),V=a("+WR7"),q=n(V),Y=a("luHD"),X=n(Y),G=a("zWMP"),W=a("Qg39");t.default={mixins:[A.default],components:{Cell:C.default,Group:_.default,XInput:b.default,PopMatterList:$.default,PopMatter:X.default,RNumber:R.default,Datetime:S.default,XTextarea:D.default,PopDealerList:B.default,PopupPicker:L.default,PopInvoiceList:F.default,RPicker:H.default,PopBaseinfo:q.default},data:function(){return{taxRate:.16,modifyKey:null,showMatterPop:!1,showMaterielPop:!1,filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"出库单",value:"transCode"}],numMap:{},orderList:{},matterList:[],dealerInfo:{},contactInfo:{},formData:{biProcessStatus:"",biComment:""}}},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],null!=this.matterParams.data.dealerCode&&(this.matterParams.data.dealerCode=this.dealerInfo.dealerCode,this.matterList=[],this.orderList={})},selContact:function(e){this.contactInfo=(0,v.default)({},e)},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,m.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.inventoryCode!==e.inventoryCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getMatter:function(){if(!this.dealerInfo.dealerCode)return void this.$vux.alert.show({content:"请选择客户"});this.showMaterielPop=!this.showMaterielPop},selMatter:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){var a=e.transCode+"_"+e.inventoryCode,i=t.numMap[a]||{},r=i.tdQty,s=void 0===r?e.qtyBal:r,o=i.price,l=void 0===o?e.price:o,d=i.taxRate,u=void 0===d?t.taxRate:d,c=i.promDeliTime,f=void 0===c?"":c;e.tdQty=s,e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null,e.price=l,e.taxRate=u,e.promDeliTime=f,e.dateActivation=(0,I.default)(e.dateActivation,"YYYY-MM-DD"),e.executionDate=(0,I.default)(e.executionDate,"YYYY-MM-DD"),n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t,a){var n=this.selItems,i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode&&e.transCode===t.transCode});if(-1!==i)return void n.splice(i,1);n.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,c.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});i>=0&&(e.$refs.matter.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,d.default)((0,o.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,l=!1,u=void 0;try{for(var c,f=(0,d.default)(r);!(s=(c=f.next()).done);s=!0){var m=c.value;this.numMap[m.transCode+"_"+m.inventoryCode]=(0,v.default)({},m)}}catch(e){l=!0,u=e}finally{try{!s&&f.return&&f.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this;if(this.dealerInfo.dealerCode)if((0,c.default)(this.orderList).length){var t="",a=[],n=!0,i=!1,s=void 0;try{for(var l,u=(0,d.default)((0,o.default)(this.orderList));!(n=(l=u.next()).done);n=!0){var f=l.value,h=!0,p=!1,C=void 0;try{for(var y,_=(0,d.default)(f);!(h=(y=_.next()).done);h=!0){var g=y.value;if(!g.tdQty){t="请填写数量";break}if(!g.price){t="请填写单价";break}var b=g.taxRate||this.taxRate,w=(0,W.toFixed)((0,G.accMul)(g.assistQty,b,g.noTaxPrice)),I={tdId:g.tdId||"",transMatchedCode:g.transCode,inventoryName_transObjCode:g.inventoryName,transObjCode:g.inventoryCode,measureUnit_transObjCode:g.measureUnit,tdProcessing:g.processing,assMeasureUnit:g.assMeasureUnit||null,assMeasureDescription:g.assMeasureDescription||null,assMeasureScale:g.assMeasureScale||null,thenQtyBal:g.qtyBal,tdQty:g.tdQty,assistQty:g.assistQty||0,price:g.price,tdAmount:g.tdAmount,taxRate:b,noTaxPrice:g.noTaxPrice,taxAmount:w,comment:g.comment||""};a.push(I)}}catch(e){p=!0,C=e}finally{try{!h&&_.return&&_.return()}finally{if(p)throw C}}}}catch(e){i=!0,s=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw s}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=N.saveAndStartWf,n=(0,r.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,m.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:"",formData:(0,m.default)((0,v.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.formData.handler,modifer:e.formData.handler,order:{crDealerLabel:"客户",dealerCodeCredit:e.dealerInfo.dealerCode,dataSet:a},dealerCreditContactPersonName:e.contactInfo.dealerName||null,dealerCreditContactInformation:e.contactInfo.dealerMobilePhone||""})),wfPara:(0,m.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=N.saveAndCommitTask),e.processCode.length||(t=N.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})}else this.$vux.alert.show({content:"请选择物料"});else"请选择客户信息"},getFormData:function(){var e=this;return(0,M.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.attachment=t.attachment;var a={},n=t.formData,i=n.order,r=void 0===i?{}:i;r.dataSet.map(function(t){t=(0,v.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,clientInventoryName:t.dealerInventoryName,clientInventoryCode:t.dealerInventoryCode,qty:t.thenTotalQtyBal,stockQty:t.thenLockQty,qtyBal:t.thenQtyBal,transCode:t.transMatchedCode,invSubUnitMulti:t.assMeasureScale}),e.matterList.push(t),a[t.transCode]||(a[t.transCode]=[]),a[t.transCode].push(t)}),e.handlerDefault={handler:n.handler,handlerName:n.handlerName,handlerUnit:n.handlerUnit,handlerUnitName:n.handlerUnitName,handlerRole:n.handlerRole,handlerRoleName:n.handlerRoleName},e.orderList=a,e.formData=(0,v.default)({},e.formData,e.handlerDefault,{biComment:n.biComment,biId:n.biId,biProcessStatus:n.biProcessStatus,creator:n.creator,modifer:n.modifer}),e.dealerInfo={creatorName:n.dealerCreditContactPersonName,dealerName:r.dealerName_dealerCodeCredit,dealerMobilePhone:n.dealerCreditContactInformation,dealerContactPersonName:n.dealerCreditContactPersonName,dealerCode:r.dealerCodeCredit,dealerLabelName:r.crDealerLabel,province:r.province_dealerCodeCredit,city:r.city_dealerCodeCredit,county:r.county_dealerCodeCredit,address:r.address_dealerCodeCredit},e.contactInfo={dealerName:n.dealerCreditContactPersonName,dealerMobilePhone:n.dealerCreditContactInformation},e.matterParams.data.dealerCode=e.dealerInfo.dealerCode,e.$loading.hide()})},hasDraftData:function(){return!!(0,o.default)(this.dealerInfo).length&&(0,r.default)({},"KPSQ_DATA",{handlerDefault:this.handlerDefault,dealer:this.dealerInfo,list:this.orderList,contactInfo:this.contactInfo})}},created:function(){var e=sessionStorage.getItem("KPSQ_DATA");if(e){var t=JSON.parse(e);this.handlerDefault=t.handlerDefault,this.dealerInfo=t.dealer,this.orderList=t.list;var a=!0,n=!1,i=void 0;try{for(var r,s=(0,d.default)((0,o.default)(this.orderList));!(a=(r=s.next()).done);a=!0){var l=r.value,u=!0,c=!1,f=void 0;try{for(var m,h=(0,d.default)(l);!(u=(m=h.next()).done);u=!0){var v=m.value;this.matterList.push(v)}}catch(e){c=!0,f=e}finally{try{!u&&h.return&&h.return()}finally{if(c)throw f}}}}catch(e){n=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}this.contactInfo=t.contactInfo,this.matterParams.data.dealerCode=this.dealerInfo.dealerCode,sessionStorage.removeItem("KPSQ_DATA")}}}},MLSZ:function(e,t,a){"use strict";function n(e){a("3yEA")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("ML4I");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("oWIc"),o=a.n(s),l=a("WIJ9"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-46860615",null);t.default=c.exports},MP8F:function(e,t){},MSgx:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages xsbj-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{"dealer-label-name":"客户,原厂供应商,经销供应商,设施供应商,投资者,银行,其他",dealerTitle:"往来",defaultValue:e.dealerInfo,defaultContact:e.contact},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),e._l(e.CostList,function(t,n){return a("div",{key:n,staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"资金账户"+(n+1)}},[a("cell",{attrs:{title:"资金账户名称","is-link":""},nativeOn:{click:function(a){e.getCost(n,t)}},model:{value:t.cashName,callback:function(a){e.$set(t,"cashName",a)},expression:"item.cashName"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("资金账户名称\n              ")])])],2),e._v(" "),a("cell",{attrs:{title:"资金账户大类",value:t.cashType_cashInCode}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("资金账户大类")])])],2),e._v(" "),a("x-input",{attrs:{title:"收款金额","text-align":"right",placeholder:"请填写",type:"number"},on:{"on-focus":function(t){e.getFocus(t)},"on-blur":function(a){e.checkAmt(t)}},model:{value:t.tdAmount,callback:function(a){e.$set(t,"tdAmount",e._n(a))},expression:"item.tdAmount"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("收款金额\n              ")])])],2)],1)],1)}),e._v(" "),a("div",{staticClass:"add_more"},[e._v("\n        您还需要添加新的报销?请点击\n        "),a("span",{staticClass:"add",on:{click:e.addCost}},[e._v("新增")]),e._v(" "),a("em",{directives:[{name:"show",rawName:"v-show",value:e.CostList.length>1,expression:"CostList.length>1"}]},[e._v("或")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.CostList.length>1,expression:"CostList.length>1"}],staticClass:"delete",on:{click:e.deleteCost}},[e._v("删除")])]),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"其他信息"}},[a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-fund-list",{ref:"matter",attrs:{show:e.showCostPop,defaultValue:e.selectedCost},on:{"sel-matter":e.selMatter},model:{value:e.showCostPop,callback:function(t){e.showCostPop=t},expression:"showCostPop"}})],2)]),e._v(" "),a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num"},[a("span",{staticStyle:{fontSize:".14rem"}},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.totalAmount,3))+"\n    ")]),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"count_btn stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},MVgC:function(e,t,a){"use strict";function n(e){a("Qgf+")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("eGZN");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("f4G+"),o=a.n(s),l=a("zmA5"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-0ff81ebf",null);t.default=c.exports},McKY:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("finance-list-item",{key:n,attrs:{item:t,isHasCount:!1},nativeOn:{click:function(a){e.goDetail(t,n)}},scopedSlots:e._u([{key:"cost_info",fn:function(t){var n=t.mItem;return[a("div",{staticClass:"each_amount"},[a("span",{staticClass:"money"},[e._v("￥"+e._s(e._f("numberComma")(n.tdAmount)))]),e._v(" "),a("span",{staticClass:"title"},[e._v("本次支付")])]),e._v(" "),a("div",{staticClass:"each_amount"},[a("span",{staticClass:"money"},[e._v("￥"+e._s(e._f("numberComma")(n.tdAmountCopy1)))]),e._v(" "),a("span",{staticClass:"title"},[e._v("申请金额")])]),e._v(" "),a("div",{staticClass:"each_amount count"},[a("span",{staticClass:"money"},[e._v("￥"+e._s(e._f("numberComma")(n.tdAmount)))]),e._v(" "),a("span",{staticClass:"title"},[e._v("本次合计")])])]}}])})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},MgKn:function(e,t){},"MgX+":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("KH7x"),r=n(i),s=a("IHPB"),o=n(s),l=a("Iu/6"),d=n(l),u=a("HyXB"),c=a("vvLd"),f=n(c);t.default={name:"UploadImage",props:{src:{type:String,default:""}},components:{Spinner:d.default},data:function(){return{imgSrc:"",imgFile:"",showLoading:!1}},watch:{src:{handler:function(e){this.imgSrc=e}}},methods:{dataURLtoFile:function(e,t){for(var a=e.split(","),n=window.atob(a[1]),i=n.length,r=new Uint8Array(i),s=a[0].match(/:(.*?);/)[1];i--;)r[i]=n.charCodeAt(i);return new File([r],t,{type:s})},uploadFile:function(e){var t=[].concat((0,o.default)(e.target.files));t.length&&(this.imgFile=t[0],e.target.value="",this.imgPreview())},imgPreview:function(){var e=this;this.showLoading=!0;var t=this.imgFile,a=void 0;if(f.default.getData(t,function(){a=f.default.getTag(t,"Orientation")}),t&&window.FileReader&&/^image/.test(t.type)){var n=new FileReader;n.readAsDataURL(t),n.onloadend=function(t){var n=t.target.result,i=new Image;i.src=n,n.length<=102400?e.postImg(n):i.onload=function(){e.postImg(e.compress(i,a))}}}},postImg:function(e){var t=this,a=this.dataURLtoFile(e,this.imgFile.name);(0,u.upload)({file:a}).then(function(e){var a=(e.success,e.message,e.data),n=(0,r.default)(a,1),i=n[0],s=void 0===i?{}:i;t.imgSrc="/H_roleplay-si/ds/download?url="+s.attacthment+"&width=400&height=400",t.$emit("on-upload",{src:s.attacthment})}).catch(function(e){t.$vux.alert.show({content:e.message})})},compress:function(e,t){var a=document.createElement("canvas"),n=a.getContext("2d"),i=document.createElement("canvas"),r=i.getContext("2d"),s=e.src.length,o=e.width,l=e.height,d=void 0;(d=o*l/4e6)>1?(console.log("大于400万像素"),d=Math.sqrt(d),o/=d,l/=d):d=1,a.width=o,a.height=l,n.fillStyle="#fff",n.fillRect(0,0,a.width,a.height);var u=void 0;if((u=o*l/1e6)>1){console.log("超过100W像素"),u=~~(Math.sqrt(u)+1);var c=~~(o/u),f=~~(l/u);i.width=c,i.height=f;for(var m=0;m<u;m++)for(var h=0;h<u;h++)r.drawImage(e,m*c*d,h*f*d,c*d,f*d,0,0,c,f),n.drawImage(i,m*c,h*f,c,f)}else n.drawImage(e,0,0,o,l);if(""!==t&&1!==t)switch(t){case 6:this.rotateImg(e,"left",a);break;case 8:this.rotateImg(e,"right",a);break;case 3:this.rotateImg(e,"right",a),this.rotateImg(e,"right",a)}var v=a.toDataURL("image/jpeg/gif",.5);return console.log("压缩前: "+s),console.log("压缩后: "+v.length),console.log("压缩率: "+~~(100*(s-v.length)/s)+"%"),i.width=i.height=a.width=a.height=0,v},rotateImg:function(e,t,a){if(null!=e){var n=e.height,i=e.width,r=2;null==r&&(r=0),"right"===t?++r>3&&(r=0):--r<0&&(r=3);var s=90*r*Math.PI/180,o=a.getContext("2d");switch(r){case 0:a.width=i,a.height=n,o.drawImage(e,0,0);break;case 1:a.width=n,a.height=i,o.rotate(s),o.drawImage(e,0,-n);break;case 2:a.width=i,a.height=n,o.rotate(s),o.drawImage(e,-i,-n);break;case 3:a.width=n,a.height=i,o.rotate(s),o.drawImage(e,-i,0)}}},getDefaultImg:function(e){this.showLoading=!1,this.$emit("on-error",e)},imgLoad:function(){this.showLoading=!1}},created:function(){this.imgSrc=this.src}}},MgnL:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("4YfN"),o=n(s),l=a("KH7x"),d=n(l),u=a("kNGm"),c=(n(u),a("SAzG")),f=n(c),m=a("0AQX"),h=a("+VRO"),v=n(h),p=a("BUFe"),C=n(p),y=a("AupE"),_=n(y),g=a("kKsb"),b=n(g),w=a("CKaN"),I=n(w),x=a("zWMP"),D=a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",dealerInfo:{},listData:[],cashInfo:{}}},computed:{isApproval:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"71c8f876-0617-4ff9-8a39-f9f99b14125d"===t},isCashier:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"00690810-7eaf-4bef-931b-a72eb5093f88"===t},isAccount:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"b00796ff-5986-4cdd-8ae4-fb202ff79af1"===t},cashParams:function(){return{transCode:this.transCode}}},mixins:[v.default],components:{workFlow:_.default,RAction:C.default,ProjectPart:b.default,PopCashList:I.default,XInput:f.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,m.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=t.formData,i=n.inPut,s=void 0===i?{}:i,l=(0,d.default)(s.dataSet,1),u=l[0],c=void 0===u?{}:u;e.attachment=a,e.dealerInfo=(0,o.default)({},c,s);var f=n.order.dataSet,m=!0,h=!1,v=void 0;try{for(var p,C=(0,r.default)(f);!(m=(p=C.next()).done);m=!0){var y=p.value;y.tdAmount&&(e.count=(0,x.accAdd)(e.count,y.tdAmount))}}catch(e){h=!0,v=e}finally{try{!m&&C.return&&C.return()}finally{if(h)throw v}}e.listData=f,e.orderInfo=n,e.cashInfo=t.formData.outPut.dataSet[0],e.workFlowInfoHandler()})},agreeHandler:function(){if(this.isApproval||this.isCashier||this.isAccount){if(this.isCashier&&!this.cashInfo.fundCode)return this.$vux.alert.show({content:"请选择资金账户"}),!0;var e=this.orderInfo,t=this.dealerInfo,a=this.cashInfo,n=this.listData.map(function(e){return{tdIdCopy1:e.tdIdCopy1,transMatchedCode:e.transMatchedCode,thenTotalAmntBal:e.thenTotalAmntBal,differenceAmountCopy1:e.differenceAmountCopy1,thenAlreadyAmnt:e.thenAlreadyAmnt,thenAmntBalCopy2:e.thenAmntBalCopy2,applicationAmount:e.applicationAmount,tdAmountCopy1:e.tdAmountCopy1,dealerDebit:e.dealerDebit}}),i=(0,o.default)({},e,{order:{dataSet:n},outPut:{dataSet:[{fundName_cashOutCode:a.fundName||a.fundName_cashOutCode,cashOutCode:a.fundCode||a.cashOutCode,cashType_cashOutCode:a.fundType||a.cashType_cashOutCode,thenAmntBal:a.thenAmntBal,tdAmount:a.tdAmount,tdId:a.tdId}]}}),r={"本次支付":t.tdAmountCopy1};this.saveData(i,r)}return!0},selCash:function(e){this.cashInfo=(0,o.default)({},this.cashInfo,e)},calcPayment:function(e){var t=(e.thenAmntBalCopy1,e.tdAmountCopy1),a=void 0===t?0:t;a||(a=0),a=(0,D.toFixed)(a),e.tdAmountCopy1=a}}}},MjAd:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("KH7x"),r=n(i),s=a("lC5x"),o=n(s),l=a("J0Oq"),d=n(l),u=a("3cXf"),c=n(u),f=a("ZLEe"),m=n(f),h=a("IHPB"),v=n(h),p=a("rVsN"),C=n(p),y=a("4YfN"),_=n(y),g=a("8VZL"),b=n(g),w=a("HXPS"),I=n(w),x=a("fQz5"),D=n(x),P=a("iR2W"),S=n(P),k=a("kNGm"),L=n(k),N=a("0AQX"),M=a("I8ug"),T=a("vS5q"),A=a("1KNX"),O=n(A),R=a("7biW"),j=n(R),B=a("PDsi"),E=n(B),F=a("6aPk"),U=n(F),$=a("Ab2S"),Q=n($),H=a("IT5e"),V=n(H),q=a("sWGj"),Y=n(q),X=a("Qg39"),G=a("zWMP"),W=a("FvvE"),z=(n(W),a("ZTs6")),K=(n(z),a("Z5v5")),J=a("0o6b");t.default={props:{refreshRequest:{type:Boolean,default:!1}},data:function(){return{page:1,limit:20,hasNext:!0,scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0},listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],activeIndex:0,serachVal:"",listData:[],activeTab:"",count:0,total:null,applyCode:"",clickVisited:!1,filterProperty:"",filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"},{name:"往来名称",value:"dealerName_dealerDebit"}],sort:[],timeFilter:{startDate:"",endDate:""},otherFilter:{},action:{}}},components:{Tab:b.default,Icon:I.default,TabItem:D.default,RSort:E.default,RTab:U.default,RScroll:O.default,searchIcon:j.default,addBtn:Q.default,justWordItem:V.default,materListItem:Y.default},methods:{goDetail:function(e,t){var a=this;if(!this.clickVisited){var n=e.transCode,i=this.$route.query.name,r=this.$route.params,s=r.folder,o=r.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,_.default)({},e));var l=Date.now();(0,N.isMyflow)({transCode:n}).then(function(e){var t=e.tableContent,r=function(){var e="";if(a.clickVisited=!1,t.length>0){var r=t[0],l=r.isMyTask,d=r.nodeName;e=1===l&&"重新提交"===d?"/fillform/"+s+"/"+o:"/detail/"+s+"/"+o}else e="/detail/"+s+"/"+o;a.$router.push({path:e,query:{name:i,transCode:n}})},d=Date.now()-l;d>200?r():setTimeout(function(){r()},200-d)}).catch(function(n){a.clickVisited=!1,e.visited=!1,a.$set(a.listData,t,(0,_.default)({},e))})}},goEdit:function(){var e=this.$route.query,t=e.name,a=e.listId,n=this.$route.params,i=n.folder,r=n.fileName;this.$router.push({path:"/fillform/"+i+"/"+r,query:{name:t,listId:a}})},resetCondition:function(){var e=this;this.listData=[],this.page=1,this.hasNext=!0,this.$nextTick(function(){e.$refs.bScroll.scrollTo(0,0),e.$refs.bScroll.resetPullDown()})},tabClick:function(e,t){this.activeIndex=t,this.activeTab=e.status,this.resetCondition(),this.getList()},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.serachVal=a,this.filterProperty=i,this.otherFilter={},this.timeFilter={},this.$refs.sort&&this.$refs.sort.filterReset(),this.resetCondition(),this.getList()},setStatus:function(e){switch(e.biStatus){case"已生效":e.whichIcon="icon-yishengxiao",e.statusClass="duty_done_c",e.statusName="";break;case"进行中":e.statusClass="duty_doing_c",e.statusName="进行中";break;case"草稿":e.statusClass="duty_fall_c",e.statusName="草稿";break;case"已失效":e.statusClass="duty_fall_c",e.statusName="已失效"}},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},resetScroll:function(){this.$refs.bScroll.finishPullDown(),this.$refs.bScroll.finishPullUp()},onPullingUp:function(){this.page++,this.getList()},onPullingDown:function(){this.page=1,this.getData(!0)},reloadData:function(){this.serachVal="",this.activeTab="",this.activeIndex=0,this.resetCondition(),this.onPullingDown();var e=this.$route.query.name;"工单任务派工"!==e&&"工单任务启动"!==e&&"工单任务验收"!==e||this.$refs.taskWork.getWorkOrderTask()},getSession:function(){var e=this;return new C.default(function(t){e.total=sessionStorage.getItem(e.applyCode),t()})},getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=[];if(this.activeTab&&(a=[{operator:"like",property:"biStatus",value:this.activeTab}]),this.serachVal){var n={operator:"like",property:this.filterProperty,value:this.serachVal};this.activeTab&&(n.attendedOperation="and"),a=[].concat((0,v.default)(a),[n])}if((0,m.default)(this.otherFilter).length){(0,m.default)(this.otherFilter);for(var i in this.otherFilter)!function(t){var n={property:t,operator:"in"};e.otherFilter[t].value.forEach(function(e,t){n["value"+(t+1)]=e}),a.push(n)}(i)}if(this.timeFilter.startDate||this.timeFilter.endDate){var r={property:"modTime",operator:"date",startDate:this.timeFilter.startDate,endDate:this.timeFilter.endDate};a.push(r)}return(0,T.getSellOrderList)(this.listViewID,{limit:this.limit,page:this.page,filter:(0,c.default)(a),sort:(0,c.default)(this.sort)}).then(function(a){var n=a.total,i=void 0===n?0:n,r=a.instanceList,s=void 0===r?[]:r;e.hasNext=i>(e.page-1)*e.limit+s.length,s.forEach(function(t){e.setStatus(t),t.count=0,t.totalQty=0,t.dealerName=t.dealerName_dealerDebit||t.dealerName_dealerCodeCredit,t.crtTime=(0,L.default)(t.crtTime,"YYYY-MM-DD HH:mm:ss"),t.modTime=(0,L.default)(t.modTime,"YYYY-MM-DD HH:mm:ss"),t.itemCount=t.detailItem.length,t.detailItem=t.detailItem.slice(0,3),t.detailItem.forEach(function(a){a.tdAmount=0,null!=a.assistQty?(a.tdAmount=(0,X.toFixed)((0,G.accMul)(a.price,a.assistQty)),t.totalQty=(0,X.toFixed)((0,G.accAdd)(t.totalQty,a.assistQty))):null==a.assistQty&&null!=a.tdQty&&(a.tdAmount=(0,X.toFixed)((0,G.accMul)(a.price,a.tdQty)),a.taxAmount&&(a.tdAmount=(0,X.toFixed)((0,G.accAdd)((0,G.accMul)(a.price,a.tdQty),a.taxAmount))),t.totalQty=(0,X.toFixed)((0,G.accAdd)(t.totalQty,a.tdQty))),t.count=(0,X.toFixed)((0,G.accAdd)(t.count,a.tdAmount)),(a.inventoryName_transObjCode||a.inventoryName_outPutMatCode)&&(a.inventoryName=a.inventoryName_transObjCode||a.inventoryName_outPutMatCode,a.inventoryCode=a.inventoryCode_transObjCode||a.inventoryCode_outPutMatCode,a.specification=a.specification_transObjCode||a.measureUnit_outPutMatCode,a.measureUnit=a.measureUnit_transObjCode||a.specification_outPutMatCode,a.inventoryPic=a.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+a.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()),a.facilityCode_facilityObjCode&&(a.inventoryName=a.facilityName_facilityObjCode,a.inventoryCode=a.facilityCode_facilityObjCode,a.specification=a.facilitySpecification_facilityObjCode,a.measureUnit=a.facilityUnit_facilityObjCode,a.inventoryPic=a.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+a.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg())})}),e.listData=1===e.page?s:e.listData.concat(s),t||e.$nextTick(function(){e.resetScroll()});var o="";t&&0===e.activeIndex&&e.total&&(o=i-e.total==0?"暂无新数据":o="新增"+(i-e.total)+"条数据",e.$vux.toast.show({text:o,position:"top",width:"50%",type:"text",time:700})),0==e.activeIndex&&1===e.page&&sessionStorage.setItem(e.applyCode,i)}).catch(function(t){e.resetScroll()})},getData:function(e){var t=this;return(0,d.default)(o.default.mark(function a(){return o.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getSession();case 2:if(!e){a.next=6;break}return a.next=5,t.getList(!0).then(function(){t.$nextTick(function(){t.$refs.bScroll.finishPullDown().then(function(){t.$refs.bScroll.finishPullUp()})}),t.$loading.hide()});case 5:return a.abrupt("return");case 6:return a.next=8,t.getList();case 8:case"end":return a.stop()}},a,t)}))()},changeVisitedStatus:function(){var e=[].concat((0,v.default)(this.listData));setTimeout(function(){e.forEach(function(e){e.visited=!1})},200),this.listData=e},onSortList:function(e){this.sort=e.property?[e]:[],this.resetCondition(),this.getList()},onTabClick:function(e){var t=e.status,a=void 0===t?"":t,n=e.index,i=void 0===n?0:n;this.activeIndex=i,this.activeTab=a,this.resetCondition(),this.getList()},onFilter:function(e){this.serachVal="",this.$refs.search.clearVal(),this.sort.length||(this.sort=[{property:"modTime",direction:"DESC"}]),this.timeFilter=e.timeFilter,this.otherFilter=e.otherFilter,this.resetCondition(),this.getList()},getAppDetail:function(){var e=this,t=this.$route.query.listId,a=void 0===t?"":t;return(0,M.getAppDetail)(a).then(function(t){var a=(0,r.default)(t,1),n=a[0],i=void 0===n?{}:n,s=i.action;e.action=s})}},filters:{filterTime:function(e){if(e){e=(0,L.default)(e);return e.split(" ")[0]}},numberComma:S.default,dateFormat:L.default,toFixed:X.toFixed},beforeCreate:function(){var e=this;this.$loading.show();var t=this.$route.query,a=t.name,n=t.transCode,i=this.$route.params,r=i.folder,s=i.fileName;n&&(0,N.isMyflow)({transCode:n}).then(function(t){var i=t.tableContent,o="";if(i.length>0){var l=i[0],d=l.isMyTask,u=l.nodeName;o=1===d&&"重新提交"===u?"/fillform/"+r+"/"+s:"/detail/"+r+"/"+s}else o="/detail/"+r+"/"+s;e.$router.replace({path:o,query:{name:a,transCode:n}})})},created:function(){var e=this;(0,K.register)(),this.applyCode=this.$route.params.code;var t=this.$route.query,a=t.name,n=t.transCode;this.getAppDetail(),this.getData(!1).then(function(){n||e.$loading.hide(),wx.ready(function(){var e={title:"点击查看"+a+"列表",desc:"点击查看"+a+"列表，可创建新的订单",imgUrl:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1542276320183&di=ef11baa4ce65f2ba1aed2b214cf4dacd&imgtype=0&src=http://www.qqzhi.com/uploadpic/2014-09-26/101958658.jpg"};(0,J.shareContent)(e)})})}}},MjEC:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"warehouse-container"},[a("header",{staticClass:"warehouse-header"},[a("div",{staticClass:"warehouse_title vux-1px-l"},[e._v("仓库信息")]),e._v(" "),e.warehouseList.length>1?a("div",{staticClass:"warehouse_switch"},e._l(e.warehouseList,function(t,n){return a("div",{staticClass:"warehouse_switch_item",class:{active:e.activeIndex===n},on:{click:function(a){e.warehouseChange(t,n)}}},[e._v("\n        "+e._s(t.warehouseAction)+"\n      ")])}),0):e._e()]),e._v(" "),e._l(e.warehouseList,function(t,n){return a("div",{directives:[{name:"show",rawName:"v-show",value:e.activeIndex===n,expression:"activeIndex === index"}],staticClass:"warehouse-main"},[a("img",{staticClass:"warehouse_img",attrs:{src:t.warehousePic,alt:""}}),e._v(" "),a("div",{staticClass:"warehouse_info"},[a("div",{staticClass:"warehouse_name"},[e._v(e._s(t.warehouseName))]),e._v(" "),a("div",{staticClass:"warehouse_info_item"},[a("span",{staticClass:"warehouse_item_title"},[e._v("仓库类型:")]),e._v(" "),a("span",{staticClass:"warehouse_item_value"},[e._v(e._s(t.warehouseType))])]),e._v(" "),a("div",{staticClass:"warehouse_info_item"},[a("span",{staticClass:"warehouse_item_title"},[e._v("仓库地址:")]),e._v(" "),a("span",{staticClass:"warehouse_item_value"},[e._v(e._s(t.address))])])])])})],2)},i=[],r={render:n,staticRenderFns:i};t.a=r},MjOu:function(e,t){},MjpR:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("hRKE"),r=n(i),s=a("4YfN"),o=n(s),l=a("BGNQ"),d=n(l),u=a("7g+Q"),c=n(u),f=a("rDF8"),m=n(f),h=a("GM4P"),v=n(h),p=a("803w"),C=n(p),y=a("+62G"),_=n(y),g=a("qZvt"),b=n(g),w=(0,C.default)();delete w.value,t.default={name:"popup-radio",components:{Popup:c.default,Radio:m.default,Cell:d.default},directives:{TransferDom:_.default},props:(0,o.default)({placeholder:String,readonly:Boolean},w,(0,v.default)()),computed:{displayValue:function(){var e=this;if(!this.options.length)return"";if("object"===(0,r.default)(this.options[0])){var t=(0,b.default)(this.options,function(t){return t.key===e.currentValue});if(t)return t.value}return this.currentValue}},methods:{onValueChange:function(e){this.hide()},show:function(){this.readonly||(this.showPopup=!0)},hide:function(){this.showPopup=!1}},watch:{value:function(e){this.currentValue=e},currentValue:function(e){this.$emit("input",e),this.$emit("on-change",e)}},data:function(){return{showPopup:!1,currentValue:this.value}}}},Mkeq:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,"dealer-params":e.dealerParams,defaultContact:e.contact},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("dealer-other-part",{attrs:{"dealer-config":e.dealerConfig,"dealer-info":e.dealerInfo}}),e._v(" "),a("div",{staticClass:"materiel_list"},[e.matterList.length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.matterList,function(t,n){return a("div",{key:n,staticClass:"each_mater",class:{mater_delete:e.matterModifyClass,"vux-1px-b":n<e.matterList.length-1}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass,config:e.matterEditConfig.property},on:{"on-modify":function(a){e.modifyMatter(t,n)}},nativeOn:{click:function(a){e.delClick(t,n)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[n.price&&n.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price)+"\n                    ")]),e._v(" "),a("div",[a("r-number",{attrs:{num:n.tdQty,checkAmt:e.checkAmt},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",t)},expression:"item.tdQty"}})],1)]):e._e()]}},{key:"editPart",fn:function(t){var i=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:i.price&&i.tdQty&&!e.matterModifyClass,expression:"(item.price && item.tdQty) &&!matterModifyClass"}],staticClass:"edit-part vux-1px-l",on:{click:function(t){e.modifyMatter(i,n)}}},[a("span",{staticClass:"iconfont icon-bianji1"})])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(t,n)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)}),0)]:[a("div",{staticClass:"no-matter",on:{click:e.getMatter}},[a("div",{staticClass:"title"},[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择"+e._s(e.orderListTitle))]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),e.matterList.length?a("span",{staticClass:"add_more",on:{click:e.addMatter}},[e._v("新增更多物料")]):e._e()]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showMaterielPop,"default-value":e.matterList,"matter-params":e.matterParams,config:e.matterPopConfig,"order-title":e.matterPopOrderTitle},on:{"sel-matter":e.selMatter},model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}})],2),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,config:e.matterEditConfig},on:{"sel-confirm":e.selConfirm},model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num",class:{nine_up:e.tdAmount.length>8,ten_up:e.tdAmount.length>9,ele_up:e.tdAmount.length>10}},[a("span",{staticClass:"total_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.tdAmount,3))+"\n      ")]),e._v(" "),a("span",{staticClass:"taxAmount"},[e._v("[含税: ￥"+e._s(e._f("numberComma")(e.taxAmount,3))+"]")])]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},MmnS:function(e,t,a){"use strict";function n(e){a("0QVE")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("fSHU");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("ZtPB"),o=a.n(s),l=a("9mAr"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-31096792",null);t.default=c.exports},Mnwv:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("ZLEe"),r=n(i),s=a("HXPS"),o=n(s),l=a("Lmo3"),d=n(l),u=a("z5TY"),c=n(u),f=a("xZPP"),m=n(f),h=a("j51P"),v=n(h),p=a("kNGm"),C=n(p);t.default={name:"datetime",mixins:[v.default],components:{Group:c.default,InlineDesc:m.default,Icon:o.default},props:{format:{type:String,default:"YYYY-MM-DD",validator:function(e){return!0}},title:String,value:{type:String,default:""},inlineDesc:String,placeholder:String,minYear:Number,maxYear:Number,confirmText:String,cancelText:String,clearText:String,yearRow:{type:String,default:"{value}"},monthRow:{type:String,default:"{value}"},dayRow:{type:String,default:"{value}"},hourRow:{type:String,default:"{value}"},minuteRow:{type:String,default:"{value}"},required:{type:Boolean,default:!1},minHour:{type:Number,default:0},maxHour:{type:Number,default:23},startDate:{type:String,validator:function(e){return!e||10===e.length}},endDate:{type:String,validator:function(e){return!e||10===e.length}},valueTextAlign:String,displayFormat:Function,readonly:Boolean,hourList:Array,minuteList:Array,show:Boolean,defaultSelectedValue:String,computeHoursFunction:Function,computeDaysFunction:Function,orderMap:Object},created:function(){this.isFirstSetValue=!1,this.currentValue=this.value},data:function(){return{currentShow:!1,currentValue:null,valid:!0,errors:{}}},mounted:function(){var e=this,t=this.uuid;this.$el.setAttribute("id","vux-datetime-"+t),this.readonly||this.$nextTick(function(){e.render(),e.show&&e.$nextTick(function(){e.picker&&e.picker.show(e.currentValue)})})},computed:{styles:function(){return this.$parent?{width:this.$parent.labelWidth,textAlign:this.$parent.labelAlign,marginRight:this.$parent.labelMarginRight}:{}},pickerOptions:function(){var e=this,t={trigger:"#vux-datetime-"+this.uuid,format:this.format,value:this.currentValue,output:".vux-datetime-value",confirmText:e.getButtonText("confirm"),cancelText:e.getButtonText("cancel"),clearText:e.clearText,yearRow:this.yearRow,monthRow:this.monthRow,dayRow:this.dayRow,hourRow:this.hourRow,minuteRow:this.minuteRow,minHour:this.minHour,maxHour:this.maxHour,startDate:this.startDate,endDate:this.endDate,hourList:this.hourList,minuteList:this.minuteList,defaultSelectedValue:this.defaultSelectedValue,computeHoursFunction:this.computeHoursFunction,computeDaysFunction:this.computeDaysFunction,orderMap:this.orderMap||{},onSelect:function(t,a,n){e.picker&&e.picker.config.renderInline&&(e.$emit("input",n),e.$emit("on-change",n))},onConfirm:function(t){e.currentValue=t},onClear:function(t){e.$emit("on-clear",t)},onHide:function(t){e.currentShow=!1,e.$emit("update:show",!1),e.validate(),e.$emit("on-hide",t),"cancel"===t&&e.$emit("on-cancel"),"confirm"===t&&setTimeout(function(){e.$nextTick(function(){e.$emit("on-confirm",e.value)})})},onShow:function(){e.currentShow=!0,e.$emit("update:show",!0),e.$emit("on-show")}};return this.minYear&&(t.minYear=this.minYear),this.maxYear&&(t.maxYear=this.maxYear),t},firstError:function(){var e=(0,r.default)(this.errors)[0];return this.errors[e]},labelClass:function(){return this.$parent?{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}:{}}},methods:{getButtonText:function(e){return"cancel"===e&&this.cancelText?this.cancelText:"confirm"===e&&this.confirmText?this.confirmText:this.$el.getAttribute("data-"+e+"-text")},render:function(){var e=this;this.$nextTick(function(){e.picker&&e.picker.destroy(),e.picker=new d.default(e.pickerOptions)})},validate:function(){if(!this.currentValue&&this.required)return this.valid=!1,void(this.errors.required="必填");this.valid=!0,this.errors={}}},watch:{readonly:function(e){e?this.picker&&this.picker.destroy():this.render()},show:function(e){e!==this.currentShow&&(e?this.picker&&this.picker.show(this.currentValue):this.picker&&this.picker.hide(this.currentValue))},currentValue:function(e,t){this.$emit("input",e),this.isFirstSetValue?this.$emit("on-change",e):(this.isFirstSetValue=!0,t&&this.$emit("on-change",e)),this.validate()},startDate:function(){this.render()},endDate:function(){this.render()},format:function(e){this.currentValue&&(this.currentValue=(0,C.default)(this.currentValue,e)),this.render()},value:function(e){if(this.readonly||this.picker&&this.picker.config.renderInline)return void(this.currentValue=e);this.currentValue!==e&&(this.currentValue=e,this.render())}},beforeDestroy:function(){this.picker&&this.picker.destroy()}}},MoPf:function(e,t){},MtqW:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2443,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[i.default],methods:{},created:function(){}}},"N/8H":function(e,t,a){"use strict";function n(e){a("aW6d")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("kRot");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("zPJ7"),o=a.n(s),l=a("w0b2"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-49d89cfe",null);t.default=c.exports},"N/vw":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("+26s"),r=n(i),s=a("Zp+1"),o=n(s);t.default={data:function(){return{uniqueId:1400,showContent:!1,filterArr:[{operator:"like",value:"",property:"warehouseName"}]}},components:{TabItem:o.default},mixins:[r.default]}},N2r1:function(e,t,a){"use strict";function n(e){a("PIUc")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("r2DS");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Ul2w"),o=a.n(s),l=a("XupI"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-7ff167f0",null);t.default=c.exports},N3Ds:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MjAd"),r=n(i),s=(a("vS5q"),a("4bt0")),o=n(s);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2550,chartShow:!1,hasNext:!0,scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0},sortList:[{name:"交易号",key:"transCode"},{name:"修改时间",key:"modTime"},{name:"客户名称",key:"dealerName"}]}},components:{ApplyChart:o.default},mixins:[r.default]}},N6fy:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper xsck-detail-container"},[e.orderInfo&&e.orderInfo.outPut?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.dealerInfo,hasClass:!1}},[a("template",{slot:"other"},[a("div",{staticClass:"other"},[a("span",{staticClass:"title"},[e._v("账期天数: ")]),e._v(" "),a("span",{staticClass:"mode"},[e._v(e._s(e.dealerInfo.pamentDays||"暂无"))])]),e._v(" "),a("div",{staticClass:"other"},[a("span",{staticClass:"title"},[e._v("账期到期日: ")]),e._v(" "),a("span",{staticClass:"mode"},[e._v(e._s(e.dealerInfo.accountExpirationDate||"暂无"))])])])],2),e._v(" "),a("warehouse-content",{attrs:{"warehouse-out":e.warehouse}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"order-list":e.orderList,noTaxAmount:e.noTaxAmount,taxAmount:e.taxAmount,count:e.count},scopedSlots:e._u([{key:"orderTitle",fn:function(t){return[a("span",{staticClass:"order_title"},[e._v("订单号")])]}},{key:"matterOther",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("单价: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.price),3)))]),e._v(" "),a("span",[e._v("不含税单价: ￥"+e._s(e._f("numberComma")(n.noTaxPrice,3)))]),e._v(" "),a("span",[e._v("出库数量: "+e._s(e._f("toFixed")(n.tdQty)))]),e._v(" "),a("span",[e._v("包装数量: "+e._s(e._f("toFixed")(n.assistQty)))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.taxRate,expression:"item.taxRate"}]},[e._v("税率: "+e._s(n.taxRate))])]),e._v(" "),n.promDeliTime?a("div",{staticClass:"mater_attribute"},[a("span",[e._v("预期交货日: "+e._s(n.promDeliTime))])]):e._e(),e._v(" "),a("div",{staticClass:"mater_num"},[a("span",{staticClass:"num"},[e._v("订单数量: "+e._s(n.thenTotalQtyBal))]),e._v(" "),a("span",{staticClass:"num"},[e._v("已出库数量: "+e._s(n.thenLockQty))]),e._v(" "),a("span",{staticClass:"num"},[e._v("在库库存: "+e._s(n.thenQtyStock))]),e._v(" "),a("span",{staticClass:"num"},[e._v("待出库数量: "+e._s(n.thenQtyBal))])]),e._v(" "),a("div",{staticClass:"mater_price"},[a("span",[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(n.tdAmount),3)))]),e._v(" "),n.taxRate?a("span",{staticClass:"num",style:{display:n.tdAmount&&n.tdAmount.toString().length>=5?"block":""}},[e._v("\n                [金额: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.noTaxAmount),3))+" + 税金: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.taxAmount),3))+"]\n              ")]):e._e()])])]}}])}),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},N8ly:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("ZLEe"),r=n(i),s=a("3cXf"),o=n(s),l=a("IHPB"),d=n(l),u=a("4YfN"),c=n(u),f=a("HXPS"),m=n(f),h=a("7g+Q"),v=n(h),p=a("HyXB"),C=a("1KNX"),y=n(C),_=a("7biW"),g=n(_);t.default={name:"PopEntityList",props:{value:{type:Object,default:function(){return{}}}},components:{Icon:m.default,Popup:v.default,RScroll:y.default,MSearch:g.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},tmpItems:[],listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},watch:{value:{handler:function(e){this.selItems=(0,c.default)({},e)}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},showSelIcon:function(e){return this.selItems.dealerName===e.dealerName},selThis:function(e,t){this.showPop=!1,this.selItems=(0,c.default)({},e),this.$emit("input",this.selItems)},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"dealerName"}])),(0,p.getObjDealerByLabelName)({dealerLabelName:"内部公司",limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,s=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+s.length,e.listData=1===e.page?s:[].concat((0,d.default)(e.listData),(0,d.default)(s)),(0,r.default)(e.selItems).length||(e.selItems=e.listData[0]),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getList()},onPullingUp:function(){this.page++,this.getList()},itemClick:function(){this.showPop=!0}},created:function(){this.getList()}}},N9Kf:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("ZLEe"),r=n(i),s=a("3cXf"),o=n(s),l=a("IHPB"),d=n(l),u=a("4YfN"),c=n(u),f=a("HXPS"),m=n(f),h=a("7g+Q"),v=n(h),p=a("HyXB"),C=a("1KNX"),y=n(C),_=a("7biW"),g=n(_);t.default={name:"PopEntityList",props:{value:{type:Object,default:function(){return{}}}},components:{Icon:m.default,Popup:v.default,RScroll:y.default,MSearch:g.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},tmpItems:[],listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},watch:{value:{handler:function(e){this.selItems=(0,c.default)({},e)}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},showSelIcon:function(e){return this.selItems.dealerName===e.dealerName},selThis:function(e,t){this.showPop=!1,this.selItems=(0,c.default)({},e),this.$emit("input",this.selItems)},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"dealerName"}])),(0,p.getObjDealerByLabelName)({dealerLabelName:"内部公司",limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,s=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+s.length,e.listData=1===e.page?s:[].concat((0,d.default)(e.listData),(0,d.default)(s)),(0,r.default)(e.selItems).length||(e.selItems=e.listData[0]),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getList()},onPullingUp:function(){this.page++,this.getList()},itemClick:function(){this.showPop=!0}},created:function(){this.getList()}}},N9Ou:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("3cXf"),o=n(s),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("u28h"),C=n(p),y=a("PzEQ"),_=n(y),g=a("kNGm"),b=(n(g),a("jnZd")),w=n(b),I=(a("0AQX"),a("Z6x5")),x=a("HyXB"),D=a("bKg5"),P=n(D),S=a("vl8n"),k=n(S),L=a("+WR7"),N=n(L),M=a("iikc"),T=n(M);t.default={data:function(){return{listId:"da7f15cc-d2d7-11e8-b8ca-0279b2c6a380",formData:{biId:"",biComment:"",biProcessStatus:""},biReferenceId:"",MobileWarn:!1,idCardWarn:!1,groupList:[],roleList:[]}},components:{Cell:c.default,Group:m.default,XInput:v.default,Datetime:C.default,XTextarea:_.default,PopupPicker:w.default,RPicker:k.default,PopBaseinfo:N.default,PopSalesmanList:T.default},mixins:[P.default],methods:{getAllGroup:function(){var e=this;(0,I.getAllGroup)().then(function(t){var a=[];t.tableContent.forEach(function(e){a.push(e.groupName)}),e.groupList.push(a)})},getAllRoleInfo:function(){var e=this;(0,I.getAllRoleInfo)().then(function(t){var a=[];t.tableContent.forEach(function(e){a.push(e.roleName)}),e.roleList.push(a)})},submitOrder:function(){var e=this,t="",a=[{key:"turnoverName",message:"员工"}];if(t||a.every(function(a){return!!e.formData[a.key]||(t="请选择"+a.message,!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=x.saveAndStartWf,a=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,turnoverDepartMent:e.formData.turnoverDepartMent&&e.formData.turnoverDepartMent[0],turnoverPost:e.formData.turnoverPost&&e.formData.turnoverPost[0]}),n={listId:e.listId,biComment:"",formData:(0,o.default)(a)};e.isResubmit&&(t=x.saveAndCommitTask,n.biReferenceId=e.biReferenceId,n.wfPara=(0,o.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=x.submitAndCalc,delete n.wfPara,delete n.biReferenceId),e.biReferenceId&&(n.biReferenceId=e.biReferenceId),e.saveData(t,n)}})},hasDraftData:function(){var e=this.formData;if(e.profileName||e.idCard)return(0,r.default)({},"YGLZ_DATA",{formData:e})}},created:function(){this.getAllGroup(),this.getAllRoleInfo();var e=sessionStorage.getItem("YGLZ_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,sessionStorage.removeItem("YGLZ_DATA")}}}},NAfT:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("J0Oq"),o=n(s),l=a("3cXf"),d=n(l),u=a("HzJ8"),c=n(u),f=a("KH7x"),m=n(f),h=a("4YfN"),v=n(h),p=a("kNGm"),C=n(p),y=a("hFVz"),_=n(y),g=a("HyXB"),b=a("1KNX"),w=n(b),I=a("d7ck"),x=n(I);t.default={filters:{dateFormat:C.default},data:function(){return{transCode:"",MatPic:"",imgFileObj:{},dealer:{},baseinfo:{},dealerConfig:[],dealerDuplicateConfig:[],formData:{}}},components:{RScroll:w.default,FormCell:x.default},methods:{findData:function(){var e=this;return _.default.getDealerInfo(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=t.attachment,r=void 0===i?[]:i;e.formData=n,e.dealerDuplicateConfig.forEach(function(t){if(e.formData[t.name]&&!e.formData[t.name].length)return void(t.show=!1);t.show=!0});var s=n.baseinfo,o=void 0===s?{}:s,l=n.dealer,d=void 0===l?{}:l;switch(d.dealerStatus){case"1":d.dealerStatus="使用中";break;case"2":d.dealerStatus="未使用";break;case"0":d.dealerStatus="草稿";break;case"-1":d.dealerStatus="停用"}e.hasDefault=!0,e.baseinfo=(0,v.default)({},e.baseinfo,o),e.dealer=(0,v.default)({},e.dealer,d);for(var u in e.dealer)""==e.dealer[u]&&(e.dealer[u]="无");e.biReferenceId=e.dealer.referenceId,e.dealer.dealerPic?e.MatPic="/H_roleplay-si/ds/download?url="+e.dealer.dealerPic+"&width=400&height=400":e.getDefaultImg();var c=r.filter(function(t){return t.attacthment===e.dealer.dealerPic}),f=(0,m.default)(c,1),h=f[0],p=void 0===h?{}:h;e.imgFileObj=p}).catch(function(t){e.$loading.hide(),e.$vux.alert.show({content:t.message})})},getDefaultImg:function(){this.MatPic=a("sUQx")},goEdit:function(){this.$router.push({path:"/adress/edit_ads",query:{transCode:this.transCode}})},getFormViews:function(){var e=this;return(0,g.getFormViews)("c0375170-d537-4f23-8ed0-a79cf75f5b04").then(function(t){var a=!0,n=!1,i=void 0;try{for(var r,s=(0,c.default)(t);!(a=(r=s.next()).done);a=!0){var o=r.value;if("view"===o.viewType){e.getFormConfig(o.uniqueId);break}}}catch(e){n=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}})},getFormConfig:function(e){var t=this;(0,g.getFormConfig)(e).then(function(e){var a=e.config,n=void 0===a?[]:a;console.log(n);var i=[],r=[];n.forEach(function(e){e.isMultiple?r.push(JSON.parse((0,d.default)(e))):i=JSON.parse((0,d.default)(e.items))}),i.forEach(function(e){e.hiddenInRun||"dealerCode"!==e.fieldCode&&"dealerName"!==e.fieldCode&&"dealerPic"!==e.fieldCode&&"province"!==e.fieldCode&&"city"!==e.fieldCode&&"county"!==e.fieldCode&&"address"!==e.fieldCode&&"dealerStatus"!==e.fieldCode&&t.dealerConfig.push(e)}),r.forEach(function(e){switch(e.name){case"dealerCertificateRel":e.title="证件";break;case"deliveryAddresses":e.title="地址"}}),t.dealerDuplicateConfig=r})}},created:function(){var e=this;this.$loading.show();var t=this.$route.query;t.transCode&&(this.transCode=t.transCode,(0,o.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getFormViews();case 2:return t.next=4,e.findData();case 4:e.$loading.hide();case 5:case"end":return t.stop()}},t,e)}))())}}},NBQd:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,dealerTitle:"供应商","default-contact":e.contactInfo,"dealer-params":e.dealerParams},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("dealer-other-part",{attrs:{"dealer-config":e.dealerConfig,"dealer-info":e.dealerInfo}}),e._v(" "),a("pop-warehouse-list",{attrs:{isRequired:"",title:"入库仓库","default-value":e.warehouse},on:{"sel-item":e.selWarehouse}}),e._v(" "),a("div",{staticClass:"materiel_list"},[Object.keys(e.orderList).length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n,i){return a("div",{key:n,staticClass:"each_mater",class:{"vux-1px-b":i<Object.keys(e.orderList).length-1}},[t.length?a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v(e._s(e.orderListTitle))]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]):e._e(),e._v(" "),e._l(t,function(t,i){return a("div",{key:i,class:{mater_delete:e.matterModifyClass}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass,config:e.matterEditConfig.property},on:{"on-modify":function(a){e.modifyMatter(t,i,n)}},nativeOn:{click:function(a){e.delClick(i,t)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[n.price&&n.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price)+"\n                      ")]),e._v(" "),a("div",[a("r-number",{attrs:{num:n.tdQty,checkAmt:e.checkAmt,max:n.qtyBal},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",t)},expression:"item.tdQty"}})],1)]):e._e()]}},{key:"editPart",fn:function(t){var r=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r.price&&r.tdQty&&!e.matterModifyClass,expression:"(item.price && item.tdQty) &&!matterModifyClass"}],staticClass:"edit-part vux-1px-l",on:{click:function(t){e.modifyMatter(r,i,n)}}},[a("span",{staticClass:"iconfont icon-bianji1"})])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(i,t)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)})],2)}),0)]:[a("div",{on:{click:function(t){e.showOrderPop=!e.showOrderPop}}},[a("div",{staticClass:"title"},[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择"+e._s(e.orderListTitle))]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多物料")])]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showOrderPop,"default-value":e.matterList,"filter-list":e.filterList,params:e.matterParams,config:e.matterPopConfig,"matter-params":e.matterParams,orderTitle:e.matterPopOrderTitle},on:{"sel-matter":e.selMatter},model:{value:e.showOrderPop,callback:function(t){e.showOrderPop=t},expression:"showOrderPop"}})],2),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,config:e.matterEditConfig},on:{"sel-confirm":e.selConfirm},model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num"},[a("span",{staticStyle:{fontSize:".14rem"}},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.tdAmount))+"\n      "),a("span",{staticClass:"taxAmount"},[e._v("[含税: ￥"+e._s(e._f("numberComma")(e.taxAmount))+"]")])]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},NDsO:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("4YfN"),o=n(s),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("6q39"),v=n(h),p=a("fEP3"),C=a("1KNX"),y=n(C),_=a("7biW"),g=n(_);a("zWMP");t.default={name:"work-list-pop",props:{show:{type:Boolean,default:!1},params:{type:Object,default:function(){return{calc_rel_code:7051,view_id:"view_94"}}},workType:{type:String,default:"派工"}},components:{Icon:c.default,Popup:m.default,LoadMore:v.default,RScroll:y.default,MSearch:g.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],scrollOptions:{click:!0},btnText:"关闭",filterList:[{name:"成品名称",value:"inventoryName"},{name:"工序名称",value:"procedureName"}],filterProperty:"",taskWorkList:{}}},watch:{show:{handler:function(e){this.showPop=e}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){var t=!1;return this.selItems&&this.selItems.every(function(a){return a.orderCode&&e.matCode===a.matCode&&e.transCode===a.transCode&&e.orderCode===a.orderCode?(t=!0,!1):!(!a.orderCode&&e.matCode===a.matCode&&e.transCode===a.transCode)||(t=!0,!1)}),t&&(this.btnText="发起工单"+this.workType),t},selThis:function(e,t){var a=this.selItems,n=a.findIndex(function(t){return t.transCode===e.transCode&&t.matCode===e.matCode});if(e.orderCode&&(n=a.findIndex(function(t){return t.transCode===e.transCode&&t.matCode===e.matCode&&t.orderCode===e.orderCode})),-1!==n)return a.splice(n,1),void(a.length||(this.btnText="关闭"));this.selItems=[e]},getWorkOrderTask:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getTaskWorkList)((0,o.default)({},this.params,{filter:(0,r.default)(t)})).then(function(t){var a=t.data,n=void 0===a?[]:a;e.taskWorkList=n})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.taskWorkList={},this.$refs.bScroll.scrollTo(0,0),this.getWorkOrderTask()},btnHandle:function(){"关闭"!==this.btnText&&this.$emit("sel-task",this.selItems),this.showPop=!1}},created:function(){this.getWorkOrderTask()}}},NHMs:function(e,t,a){"use strict";function n(e){a("MjOu")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("mV4P");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("gC8S"),o=a.n(s),l=a("zmkY"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-677c6cf2",null);t.default=c.exports},NHnr:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var i=a("rudh"),r=n(i),s=a("M93x"),o=n(s),l=a("YaEn"),d=n(l),u=a("iDdd"),c=n(u),f=a("KGCO"),m=n(f),h=a("xcUm"),v=(n(h),a("DmCN")),p=n(v),C=a("wrnC"),y=n(C),_=a("azgU"),g=n(_),b=a("2J3d"),w=n(b),I=a("+62G"),x=n(I),D=a("r1uy"),P=n(D),S=a("owYz"),k=n(S),L=a("/rmV"),N=n(L);r.default.use(k.default),r.default.use(m.default),r.default.use(N.default),r.default.use(w.default),r.default.use(y.default),r.default.use(g.default),r.default.use(P.default),r.default.directive("transfer-dom",x.default),r.default.prototype.Swiper=p.default,c.default.attach(document.body);r.default.config.debug=!1,r.default.config.devtools=!1,r.default.config.productionTip=!1,r.default.prototype.$event=new r.default,d.default.afterEach(function(e){document.title=e.meta.title||""}),new r.default({router:d.default,render:function(e){return e(o.default)}}).$mount("#app-box")},NINi:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),m=a("bFc7"),h=n(m),v=a("6WeX"),p=n(v),C=a("3NX5"),y=n(C),_=a("sUbJ"),g=n(_),b=a("d7ck"),w=n(b),I=a("zWMP"),x=a("Qg39");t.default={data:function(){return{count:0,comment:"",orderInfo:{},formViewUniqueId:"e76a8c6f-05cc-45ee-ba93-299fe6751856",orderList:{}}},mixins:[l.default],components:{workFlow:f.default,RAction:u.default,PriceTotal:p.default,contactPart:h.default,MatterList:y.default,MatterItem:g.default,FormCell:w.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var d={},u=s.order,c=void 0===u?{}:u;e.attachment=l;var f=s.order.dataSet,m=!0,h=!1,v=void 0;try{for(var p,C=(0,r.default)(f);!(m=(p=C.next()).done);m=!0){var y=p.value;y.noTaxAmount=(0,I.accMul)(y.price,y.tdQty),y.taxAmount=(0,I.accMul)(y.noTaxAmount,y.taxRate),y.tdAmount=(0,x.toFixed)((0,I.accAdd)(y.noTaxAmount,y.taxAmount)),e.count=(0,I.accAdd)(e.count,y.tdAmount),y.inventoryPic=y.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+y.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),d[y.transMatchedCode]||(d[y.transMatchedCode]=[]),d[y.transMatchedCode].push(y)}}catch(e){h=!0,v=e}finally{try{!m&&C.return&&C.return()}finally{if(h)throw v}}e.orderList=d,e.dealerInfo={dealerName:c.dealerName_dealerDebit,dealerMobilePhone:s.dealerDebitContactInformation,dealerContactPersonName:s.dealerDebitContactPersonName,dealerCode:c.dealerCode_dealerDebit,dealerLabelName:c.drDealerLabel,province:c.province_dealerDebit,city:c.city_dealerDebit,county:c.county_dealerDebit,address:c.address_dealerDebit,payment:c.drDealerPaymentTerm,pamentDays:c.daysOfAccount},e.orderInfo=s,e.workFlowInfoHandler()})}}}},NIYf:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],ref:"emotionContainer",staticClass:"emotion-container vux-1px-t"},[a("div",{staticClass:"emotion-wrapper"},e._l(e.emotionList,function(t,n){return a("emotion",{key:n,staticClass:"emotion-item",nativeOn:{click:function(a){e.emotionClick(t,n)}}},[e._v(e._s(t))])}),1)])},i=[],r={render:n,staticRenderFns:i};t.a=r},NKKo:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"app_top"},[a("r-search",{on:{search:e.searchMat}}),e._v(" "),a("tab",{attrs:{"line-width":2,"default-color":"#333","active-color":"#3296FA"}},e._l(e.matNature,function(t,n){return a("tab-item",{key:n,attrs:{selected:n===e.activeIndex},on:{"on-item-click":function(a){e.tabClick(t,n)}}},[e._v(e._s(t.name)+"\n        ")])}),1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"app_main",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.matterList.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.matterList,function(t,n){return a("div",{key:n,staticClass:"matter-item-wrapper",class:{visited:t.visited,"vux-1px-b":n!==e.matterList.length-1},on:{click:function(a){e.goDetail(t,n)}}},[a("img",{staticClass:"matter-img",attrs:{src:t.inventoryPic,alt:"matter-img"},on:{error:function(a){e.getDefaultImg(t)}}}),e._v(" "),a("div",{staticClass:"matter-info-wrapper"},[a("div",{staticClass:"matter_name"},[e._v(e._s(t.inventoryName))]),e._v(" "),a("div",{staticClass:"matter_info_main"},[a("span",{staticClass:"matter_main_item"},[e._v("编码："+e._s(t.inventoryCode))]),e._v(" "),a("span",{staticClass:"matter_main_item specification"},[e._v("规格："+e._s(t.specification||"无"))])]),e._v(" "),a("div",{staticClass:"matter_detail"},[a("div",{staticClass:"matter_info_item"},[a("span",{staticClass:"matter_info_title"},[e._v("大类:")]),e._v(" "),a("span",[e._v(e._s(t.inventoryType||"无"))])]),e._v(" "),a("div",{staticClass:"matter_info_item"},[a("span",{staticClass:"matter_info_title"},[e._v("子类:")]),e._v(" "),a("span",[e._v(e._s(t.inventorySubclass||"无"))])]),e._v(" "),a("div",{staticClass:"matter_info_item"},[a("span",{staticClass:"matter_info_title"},[e._v("单位:")]),e._v(" "),a("span",[e._v(e._s(t.measureUnit||"无"))])])]),e._v(" "),a("div",{staticClass:"matter_detail"},[a("div",{staticClass:"matter_info_item"},[a("span",{staticClass:"matter_info_title"},[e._v("属性:")]),e._v(" "),a("span",[e._v(e._s(t.processing||"无"))])]),e._v(" "),a("div",{staticClass:"matter_info_item"},[a("span",{staticClass:"matter_info_title"},[e._v("颜色:")]),e._v(" "),a("span",[e._v(e._s(t.inventoryColor||"无"))])]),e._v(" "),a("div",{staticClass:"matter_info_item"},[a("span",{staticClass:"matter_info_title"},[e._v("材质:")]),e._v(" "),a("span",[e._v(e._s(t.material||"无"))])])])])])}),0)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEditAds}}),e._v(" "),a("router-view")],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},NLcr:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("J0Oq"),o=n(s),l=a("3cXf"),d=n(l),u=a("HzJ8"),c=n(u),f=a("KH7x"),m=n(f),h=a("L6VY"),v=n(h),p=a("kNGm"),C=n(p),y=a("I3vJ"),_=a("I8ug"),g=a("HyXB"),b=a("1KNX"),w=n(b);t.default={name:"materDetail",filters:{dateFormat:C.default},data:function(){return{listId:"78a798f8-0f3a-4646-aa8b-d5bb1fada28c",baseinfo:{},transCode:"",inventory:{},invMoreUnit:[],invNetWeight:[],invDealerRel:[],invCustomerRel:[],action:{},matterConfig:[],matterDuplicateConfig:[],formData:{}}},computed:{leadTimeTitle:function(){var e=this.inventory.processing,t=["原料","商品"],a=["半成品","成品","模具"];return t.includes(e)?"采购提前期":a.includes(e)?"加工提前期":""}},components:{RScroll:w.default},methods:{goEdit:function(){this.$router.push({path:"/materlist/addMater",query:{transCode:this.transCode}})},findData:function(){var e=this;return(0,y.findData)(this.transCode).then(function(t){var a=t.formData;e.formData=a,e.matterDuplicateConfig.forEach(function(t){if(e.formData[t.name]&&!e.formData[t.name].length)return void(t.show=!1);t.show=!0});var n=a.inventory,i=void 0===n?{}:n,r=["","使用中","未使用","草稿"],s=["","inUse","unUse"];i.statusClass=s[i.inventoryStatus],i.status=r[i.inventoryStatus]||"停用",e.baseinfo=a.baseinfo,e.inventory=a.inventory,e.invNetWeight=a.invNetWeight,e.invMoreUnit=a.invMoreUnit,e.invDealerRel=a.invDealerRel||[],e.invCustomerRel=a.invCustomerRel||[];var o=e.inventory,l=o.inventoryPic,d=o.inventoryCode,u=o.specification;e.contentLength=d.length+u.length,l?e.inventory.inventoryPic="/H_roleplay-si/ds/download?url="+l+"&width=400&height=400":e.getDefaultImg(),e.$loading.hide()}).catch(function(t){e.$loading.hide(),v.default.show({content:t.message})})},getDefaultImg:function(){this.inventory.inventoryPic=a("CcG0")},getAppDetail:function(){var e=this;return(0,_.getAppDetail)(this.listId).then(function(t){var a=(0,m.default)(t,1),n=a[0],i=void 0===n?{}:n,r=i.action;e.action=r})},getFormViews:function(){var e=this;return(0,g.getFormViews)(this.listId).then(function(t){var a=!0,n=!1,i=void 0;try{for(var r,s=(0,c.default)(t);!(a=(r=s.next()).done);a=!0){var o=r.value;if("view"===o.viewType){e.getFormConfig(o.uniqueId);break}}}catch(e){n=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}})},getFormConfig:function(e){var t=this;(0,g.getFormConfig)(e).then(function(e){var a=e.config,n=void 0===a?[]:a;console.log(n);var i=[],r=[];n.forEach(function(e){e.isMultiple?e.hiddenInRun||"r2Fileupload"===e.xtype||"invMoreUnit"!==e.name||r.push(JSON.parse((0,d.default)(e))):i=JSON.parse((0,d.default)(e.items))}),i.forEach(function(e){e.hiddenInRun||"inventoryCode"!==e.fieldCode&&"inventoryName"!==e.fieldCode&&"inventoryPic"!==e.fieldCode&&"inventoryStatus"!==e.fieldCode&&t.matterConfig.push(e)}),r.forEach(function(e){switch(e.name){case"invMoreUnit":e.title="辅助计量";break;case"invNetWeight":e.title="净含量";break;case"invDealerRel":e.title="客户";break;case"invCustomerRel":e.title="供应商"}}),t.matterDuplicateConfig=r})}},created:function(){var e=this;(0,o.default)(r.default.mark(function t(){var a,n;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.$loading.show(),a=e.$route.query.transCode,n=void 0===a?"":a,e.transCode=n,t.next=5,e.getAppDetail();case 5:return t.next=7,e.getFormViews();case 7:e.findData();case 8:case"end":return t.stop()}},t,e)}))()}}},NLlj:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("IHPB"),o=n(s),l=a("3cXf"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("+62G"),v=n(h),p=a("6q39"),C=n(p),y=a("vS5q"),_=a("1KNX"),g=n(_),b=a("7biW"),w=n(b);t.default={name:"PopWarehouseList",props:{title:{type:String,default:"仓库列表"},defaultValue:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1},isRequired:{type:Boolean,default:!1},filterParams:{type:Array,default:function(){return[]}},getListMethod:{type:String,default:"getWarehouse"},params:{type:Object,default:function(){return{}}}},directives:{TransferDom:v.default},components:{Icon:c.default,Popup:m.default,RScroll:g.default,DSearch:w.default,LoadMore:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},showAddWarehouse:!1}},computed:{tip:function(){var e="加载中";return this.hasNext||(e="暂无数据"),e},noAddress:function(){var e=this.selItems,t=e.warehouseProvince,a=void 0===t?"":t,n=e.warehouseCity,i=void 0===n?"":n,r=e.warehouseDistrict,s=void 0===r?"":r,o=e.warehouseAddress,l=void 0===o?"":o;return!(a||i||s||l)}},watch:{defaultValue:function(e){this.setDefaultValue()}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this[this.getListMethod]()},showSelIcon:function(e){return this.selItems.warehouseCode===e.warehouseCode},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.$emit("sel-item",(0,d.default)(this.selItems))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getWarehouse:function(){var e=this.filterParams;return this.srhInpTx&&(e=[].concat((0,o.default)(e),[{operator:"like",value:this.srhInpTx,property:"warehouseName"}])),(0,y.getWarehouse)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,d.default)(e)},this.params)).then(this.dataHandler)},getWareHouseType:function(){var e=this.filterParams;this.srhInpTx&&(e=[].concat((0,o.default)(e),[{operator:"like",value:this.srhInpTx,property:"warehouseName"}])),(0,y.getWareHouseType)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,d.default)(e)},this.params)).then(this.dataHandler)},dataHandler:function(e){var t=this,a=e.dataCount,n=void 0===a?0:a,i=e.tableContent,r=void 0===i?[]:i;if(this.showAddWarehouse=this.srhInpTx&&0===r.length,this.hasNext=n>(this.page-1)*this.limit+r.length,r.forEach(function(e){e.warehouseCity=e.warehouseCity||e.wareHouseCity}),this.listData=1===this.page?r:[].concat((0,o.default)(this.listData),(0,o.default)(r)),sessionStorage.getItem("EDIT_WAREHOUSE_TRANSCODE"))for(var s=JSON.parse(sessionStorage.getItem("EDIT_WAREHOUSE_TRANSCODE")).transCode,l=0;l<this.listData.length;l++)this.listData[l].transCode==s&&(this.selItems=this.listData[l],this.$emit("sel-item",(0,d.default)(this.listData[l])),sessionStorage.removeItem("EDIT_WAREHOUSE_TRANSCODE"));this.$nextTick(function(){t.$refs.bScroll.finishPullUp()})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this[this.getListMethod]()},onPullingUp:function(){this.page++,this[this.getListMethod]()},setDefaultValue:function(){this.selItems=this.defaultValue?(0,r.default)({},this.defaultValue):{}},warehouseClick:function(){this.disabled||(this.showPop=!this.showPop)},addWarehouse:function(){this.$router.push({path:"/warehouse/edit_warehouse",query:{add:1}})}},created:function(){this.setDefaultValue(),this.disabled||this[this.getListMethod]()}}},NUgK:function(e,t,a){"use strict";function n(e){a("Pe9i")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Sksv");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("dB5k"),o=a.n(s),l=a("X7eJ"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-65a9be7e",null);t.default=c.exports},NWqe:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages cpfb-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart when-is-form"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,defaultContact:e.contactInfo},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("div",{staticClass:"materiel_list"},[a("div",{staticClass:"mater_list"},[a("div",{staticClass:"each_mater"},[a("div",{staticClass:"userInp_mode"},[a("div",{staticClass:"title"},[e._v("发布信息")]),e._v(" "),a("group",{staticClass:"CP_group",on:{"group-title-margin-top":function(e){}}},[a("x-input",{attrs:{title:"标题","text-align":"right",placeholder:"请填写"},model:{value:e.formData.launchTitle,callback:function(t){e.$set(e.formData,"launchTitle",t)},expression:"formData.launchTitle"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("标题\n                    ")])])],2),e._v(" "),a("popup-picker",{attrs:{title:"类型",data:e.launchTypeList,placeholder:"请选择"},on:{"on-change":e.isSelectType},model:{value:e.selectedType,callback:function(t){e.selectedType=t},expression:"selectedType"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("类型")])])],2),e._v(" "),a("x-textarea",{attrs:{title:"描述",max:200},model:{value:e.formData.launchDescribe,callback:function(t){e.$set(e.formData,"launchDescribe",t)},expression:"formData.launchDescribe"}}),e._v(" "),a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1)])])]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId,"contain-style":e.uploadStyle},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"cfm_btn",on:{click:e.save}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},NbtV:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("4YfN"),o=n(s),l=a("KH7x"),d=n(l),u=a("3cXf"),c=n(u),f=a("0AQX"),m=a("+VRO"),h=n(m),v=a("BUFe"),p=n(v),C=a("AupE"),y=n(C),_=a("bFc7"),g=n(_),b=a("6WeX"),w=n(b),I=a("3NX5"),x=n(I),D=a("zWMP");a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"",contactInfo:{}}},components:{workFlow:y.default,RAction:p.default,contactPart:g.default,PriceTotal:w.default,MatterList:x.default},mixins:[h.default],methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,f.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(e.submitInfo=JSON.parse((0,c.default)(t)),!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData,n=a.order,i=a.inPut,s=n.dataSet,l=i.dataSet,u=void 0===l?[]:l,f=(0,d.default)(u,1),m=f[0],h=void 0===m?{}:m,v=!0,p=!1,C=void 0;try{for(var y,_=(0,r.default)(s);!(v=(y=_.next()).done);v=!0){var g=y.value;g.noTaxAmount=(0,D.accSub)(g.tdAmount,g.taxAmount),e.count=(0,D.accAdd)(e.count,g.tdAmount),g.inventoryPic=g.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+g.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){p=!0,C=e}finally{try{!v&&_.return&&_.return()}finally{if(p)throw C}}e.orderInfo=t.formData,e.contactInfo=(0,o.default)({},e.contactInfo,{logistics:t.formData.drDealerLogisticsTerms,executionDate:h.executionDate,validUntil:h.validUntil,thenTotalAmntBal:h.thenTotalAmntBal,prepaymentDueDate:h.prepaymentDueDate,tdAmountCopy1:h.tdAmountCopy1,daysOfAccount:i.daysOfAccount}),e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo=(0,o.default)({},this.contactInfo,{creatorName:t.dealerDebitContactPersonName,dealerName:a.dealerName_dealerDebit,dealerMobilePhone:t.dealerDebitContactInformation,dealerContactPersonName:t.dealerDebitContactPersonName,dealerCode:a.dealerDebit,dealerLabelName:a.drDealerLabel,province:a.province_dealerDebit,city:a.city_dealerDebit,county:a.county_dealerDebit,address:a.address_dealerDebit,payment:a.drDealerPaymentTerm})}},created:function(){}}},Ndqp:function(e,t,a){"use strict";function n(e){a("5YVY")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lI25");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("qhvE"),o=a.n(s),l=a("bH4i"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-6062e88c",null);t.default=c.exports},NefH:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("4YfN"),o=n(s),l=a("a3Yh"),d=n(l),u=a("3cXf"),c=n(u),f=a("PzEQ"),m=n(f),h=a("u28h"),v=n(h),p=a("kNGm"),C=(n(p),a("BGNQ")),y=n(C),_=a("SAzG"),g=n(_),b=a("z5TY"),w=n(b),I=a("0AQX"),x=a("HyXB"),D=a("bKg5"),P=n(D),S=a("I5id"),k=n(S),L=a("9cRV"),N=n(L),M=a("luHD"),T=n(M),A=a("VZtf"),O=n(A),R=a("vl8n"),j=n(R),B=a("+WR7"),E=n(B),F=a("zWMP");a("Qg39");t.default={name:"ApplySBCGSQForm",data:function(){return{matterList:[],formData:{biId:"",biComment:"",biProcessStatus:""},numMap:{},showFacilityPop:!1,showMatterPop:!1,selItems:[],facility:{},checkFieldList:[{key:"tdQty",message:"请填写本次申请数量"},{key:"price",message:"请填写估计价格"}],filterList:[{name:"设施名称",value:"facilityName"},{name:"设施编码",value:"facilityCode"}]}},mixins:[P.default],components:{XTextarea:m.default,Datetime:v.default,RNumber:O.default,Cell:y.default,XInput:g.default,Group:w.default,PopMatter:T.default,RPicker:j.default,PopBaseinfo:E.default,PopFacilityList:k.default,PopMatterList:N.default},computed:{tdAmount:function(){var e=this,t=0;return this.matterList.forEach(function(a){e.simpleCalcMatter(a),t=(0,F.accAdd)(t,a.tdAmount)}),t}},watch:{facility:{handler:function(e){this.simpleCalcMatter(e)},deep:!0}},methods:{selMatter:function(e){var t=JSON.parse(e);t.map(function(e){e.tdQty=e.tdQty||"",e.price=e.price||""}),this.matterList=t},modifyMatter:function(e,t){this.facility=JSON.parse((0,c.default)(e)),this.showMatterPop=!0,this.modifyIndex=t},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.facilityCode===t.facilityCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.facilityCode===e.facilityCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,c.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.facilityCode===t.facilityCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){this.showFacilityPop=!this.showFacilityPop},submitOrder:function(){var e=this,t="",a=[];if(this.matterList.length?this.matterList.every(function(n){if(!n.price)return t="单价不能为空",!1;if(!n.tdQty&&0!==n.tdQty)return t="数量不能为空",!1;var i={facilityObjCode:n.facilityCode,facilityType:n.facilityType,assMeasureUnit:null,assistQty:n.assistQty||null,tdQty:n.tdQty,price:n.price,tdAmount:n.tdAmount,comment:n.comment||""};return e.transCode&&(i.tdId=n.tdId||null),a.push(i),!0}):t="请选择设备",t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=x.saveAndStartWf,n={},i=(0,d.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});n=(0,o.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.formData.handler,modifer:e.formData.handler,order:{dataSet:a}}),e.transCode&&(t=x.saveAndCommitTask,i={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,c.default)(n),wfPara:(0,c.default)(i)};e.transCode||delete r.biReferenceId,e.processCode.length||(t=x.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,I.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,l=t.attachment,u=void 0===l?[]:l;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=u;var c=s.order,f=c.dataSet,m=void 0===f?[]:f,h=[],v=!0,p=!1,C=void 0;try{for(var y,_=(0,r.default)(m);!(v=(y=_.next()).done);v=!0){var g,b=y.value;b=(0,o.default)({},b,(g={facilityName:b.facilityName_facilityObjCode,facilityCode:b.facilityCode_facilityObjCode,facilityBigType:b.facilityBigType_facilityObjCode,facilitySubclass:b.facilitySubclass_facilityObjCode,facilityUnit:b.facilityUnit_facilityObjCode},(0,d.default)(g,"facilityName",b.facilityName_facilityObjCode),(0,d.default)(g,"facilityName",b.facilityName_facilityObjCode),(0,d.default)(g,"inventoryPic",b.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+b.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()),g)),h.push(b)}}catch(e){p=!0,C=e}finally{try{!v&&_.return&&_.return()}finally{if(p)throw C}}e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,o.default)({},e.handlerDefault,{creator:s.creator,modifer:s.modifer,biId:s.biId,biComment:s.biComment,biProcessStatus:s.biProcessStatus}),e.biReferenceId=s.biReferenceId,e.matterList=h,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,d.default)({},"SBCGSQ_DATA",{matter:this.matterList,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("SBCGSQ_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.formData=t.formData,sessionStorage.removeItem("SBCGSQ_DATA")}}}},NgDr:function(e,t,a){"use strict";function n(e){a("lNKi")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("+Kn1");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("/9JJ"),o=a.n(s),l=a("9jJE"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-7bcc4936",null);t.default=c.exports},NiwN:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper nbjdgg-detail-container"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("warehouse-content",{attrs:{warehouse:e.warehouseIn,"warehouse-out":e.warehouseOut}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"order-list":e.orderList},scopedSlots:e._u([{key:"matterOther",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("加工属性: "+e._s(n.tdProcessing))]),e._v(" "),a("span",[e._v("单位: "+e._s(n.measureUnit_transObjCode))]),e._v(" "),a("span",[e._v("计划完工日期: "+e._s(n.shippingTime))])]),e._v(" "),a("div",{staticClass:"mater_attribute"},[a("span",[e._v("订单数量: "+e._s(e._f("toFixed")(n.thenTotalQtyBal)))]),e._v(" "),a("span",[e._v("车间仓库存: "+e._s(e._f("toFixed")(n.thenQtyStock)))]),e._v(" "),a("span",[e._v("已入库数量: "+e._s(e._f("toFixed")(n.thenLockQty)))])]),e._v(" "),a("div",{staticClass:"mater_attribute"},[a("span",[e._v("制造费用: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.skinFee))))]),e._v(" "),a("span",[e._v("工价: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.wages))))]),e._v(" "),a("span",{staticClass:"num"},[e._v("不合格数: "+e._s(e._f("toFixed")(n.differenceNum)))])]),e._v(" "),a("div",{staticClass:"mater_num"},[a("span",{staticClass:"num"},[e._v("本次质检: "+e._s(e._f("toFixed")(n.qualityQty)))]),e._v(" "),a("span",{staticClass:"num"},[e._v("合格数: "+e._s(e._f("toFixed")(n.tdQty)))]),e._v(" "),a("span",{staticClass:"units"},[e._v("[待入库数量: "+e._s(e._f("toFixed")(n.thenQtyBal))+"]")])])])]}}])}),e._v(" "),a("div",{staticClass:"bom_list"},[a("bom-list",{attrs:{boms:e.bomList},scopedSlots:e._u([{key:"number",fn:function(t){var n=t.bom;return[a("div",{staticClass:"number-part"},[a("span",{staticClass:"main-number"},[e._v("领料需求: "+e._s(n.tdQty)+e._s(n.measureUnit))]),e._v(" "),a("span",{staticClass:"number-unit"},[e._v("在库余额: "+e._s(n.thenTotalQtyStock))])])]}}])})],1),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},"Nk/b":function(e,t,a){"use strict";function n(e){a("3iOo")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("0u1o");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("F9M6"),o=a.n(s),l=a("O4M8"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},NpFw:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"change_log vux-1px-b"},[a("div",{staticClass:"title"},[a("span",[e._v("更新日志")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.changeLogList.length,expression:"changeLogList.length"}],staticClass:"history",on:{click:function(t){e.popupShow=!0}}},[e._v("历史记录")])]),e._v(" "),e.changeLogList.length?a("div",{staticClass:"latest_change",on:{click:function(t){e.popupShow=!0}}},[a("div",{staticClass:"change_time"},[a("span",{staticClass:"version"},[e._v("v"+e._s(e.latestLog.VERSION))]),e._v(" "),a("span",[e._v(e._s(e._f("handerTime")(e.latestLog.CRT_TIME)))])]),e._v(" "),a("div",{staticClass:"change_content"},[a("div",{staticClass:"each_change"},[a("span",[e._v(e._s(e.latestLog.CREATOR_NAME))]),e._v(" "),a("span",{staticStyle:{"margin-left":"0.1rem"}},[e._v("耗用时间:"+e._s(e.latestLog.TIME_CONSUMING))])]),e._v(" "),a("div",{staticClass:"each_change"},[a("span",{staticClass:"change_title"},[e._v("更新范围: ")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e.latestLog.CHANGE_RANGE))])]),e._v(" "),a("div",{staticClass:"each_change"},[a("span",{staticClass:"change_title"},[e._v("备注: ")]),e._v(" "),a("span",{staticClass:"content",domProps:{innerHTML:e._s(e.latestLog.CONTENT)}})])])]):a("div",{staticClass:"no_data"},[e._v("暂无数据")]),e._v(" "),e.handle?a("div",{staticClass:"edit_log",on:{click:e.EditLog}},[a("span",{staticClass:"iconfont icon-bianji"}),e._v(" "),a("span",[e._v("撰写日志")])]):e._e(),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{attrs:{position:"bottom",height:"100%"},on:{"on-show":e.onShow},model:{value:e.popupShow,callback:function(t){e.popupShow=t},expression:"popupShow"}},[a("r-scroll",{ref:"bScroll",staticClass:"full-flow-container",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.changeLogList.length},on:{"on-pulling-up":e.onPullingUp}},[a("div",{staticClass:"change_list"},[a("div",{staticClass:"title vux-1px-b"},[e._v("\n            更新日志历史记录\n          ")]),e._v(" "),e._l(e.changeLogList,function(t,n){return a("div",{key:n,staticClass:"latest_change vux-1px-b"},[a("div",{staticClass:"change_time"},[a("span",{staticClass:"version"},[e._v("v"+e._s(t.VERSION))]),e._v(" "),a("span",[e._v(e._s(e._f("handerTime")(t.CRT_TIME)))])]),e._v(" "),a("div",{staticClass:"change_content"},[a("div",[e._v(e._s(t.CREATOR_NAME)+"  耗用时间:"+e._s(t.TIME_CONSUMING))]),e._v(" "),a("div",[e._v("更新范围: "+e._s(t.CHANGE_RANGE))]),e._v(" "),a("div",[e._v("备注: "),a("span",{domProps:{innerHTML:e._s(t.CONTENT)}})])])])})],2)]),e._v(" "),a("div",{staticClass:"btn when_less vux-1px-t"},[a("span",{staticClass:"cfm_btn",on:{click:e.closePop}},[e._v("关闭")])])],1)],1)])},i=[],r={render:n,staticRenderFns:i};t.a=r},NrK8:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper nbjdgg-detail-container"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"materiel_list"},[e._m(0),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n){return a("div",{key:n,staticClass:"each_mater"},[a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v("计划号")]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]),e._v(" "),a("div",{staticClass:"order_matter"},[e._l(t,function(n,i){return[a("matter-item",{class:{"vux-1px-b":i<t.length-1},attrs:{item:n},scopedSlots:e._u([{key:"other",fn:function(t){var n=t.item;return a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_num"},[a("span",{staticClass:"num"},[e._v("\n                      本次下单: "+e._s(e._f("toFixed")(n.tdQty))+"\n                    ")]),e._v(" "),a("span",{staticClass:"units"},[e._v("\n                      [待下单余额: "+e._s(e._f("toFixed")(n.thenQtyBal))+"]\n                    ")]),e._v(" "),a("span",{staticClass:"get_bom",on:{click:function(t){e.checkBom(n)}}},[e._v("查看原料")])]),e._v(" "),a("div",{staticClass:"mater_num"},[n.shippingTime?a("span",{staticClass:"num"},[e._v("\n                      主计划完工入库日: "+e._s(n.shippingTime)+"\n                    ")]):e._e()])])}}])})]})],2)])}),0)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.UniqueBom.length,expression:"UniqueBom.length"}],staticClass:"bom_list"},[a("bom-list",{attrs:{boms:e.UniqueBom},scopedSlots:e._u([{key:"number",fn:function(t){var n=t.bom;return[a("div",{staticClass:"number-part"},[a("span",{staticClass:"main-number"},[e._v("领料需求: "+e._s(n.tdQty)+e._s(n.measureUnit))])])]}}])})],1),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("bom-pop",{staticClass:"bom_pop",attrs:{show:e.bomPopShow,bomInfo:e.bom,"is-edit":!1},scopedSlots:e._u([{key:"number",fn:function(t){var n=t.bom;return[a("div",{staticClass:"number-part"},[a("span",{staticClass:"main-number"},[e._v("领料需求: "+e._s(n.tdQty)+e._s(n.measureUnit))])])]}}]),model:{value:e.bomPopShow,callback:function(t){e.bomPopShow=t},expression:"bomPopShow"}}),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title"},[a("span",{staticClass:"iconfont icon-Shape"}),e._v("物料列表\n      ")])}],r={render:n,staticRenderFns:i};t.a=r},Nu2k:function(e,t,a){"use strict";function n(e){a("TJSi")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("+Yy+");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("GxGw"),o=a.n(s),l=a("bxBr"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-7ca02b22",null);t.default=c.exports},NvkL:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("I3vJ"),v=a("1KNX"),p=n(v),C=a("7biW"),y=n(C);t.default={name:"PopTechnicsList",props:{defaultValue:{type:Object,default:function(){return{}}},required:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"}},components:{Icon:c.default,Popup:m.default,RScroll:p.default,RSearch:y.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:100,page:1,hasNext:!0,scrollOptions:{pullUpLoad:!0},filterProperty:"",filterList:[{name:"名称",value:"technicsName"},{name:"编码",value:"technicsCode"}]}},watch:{defaultValue:{handler:function(e){this.selItems=(0,d.default)({},this.defaultValue)},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},showSelIcon:function(e){return this.selItems.technicsCode===e.technicsCode},selThis:function(e,t){this.selItems=(0,d.default)({},e),this.showPop=!1,this.$emit("sel-item",(0,d.default)({},e))},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,h.getObjTechnics)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,o.default)(e.listData),(0,o.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.resetCondition(),this.getList()},onPullingUp:function(){this.page++,this.getList()},resetCondition:function(){this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)}},created:function(){this.getList()}}},"Ny/B":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("J0Oq"),o=n(s),l=a("3cXf"),d=n(l),u=a("MgeX"),c=n(u),f=a("HzJ8"),m=n(f),h=a("4YfN"),v=n(h),p=a("kNGm"),C=n(p),y=a("h+4q"),_=a("HyXB"),g=a("1KNX"),b=n(g);t.default={filters:{dateFormat:C.default},data:function(){return{transCode:"",MatPic:"",warehouse:{},baseinfo:{},typeSubMap:{staff:{title:"员工",dealerLabelName:"员工",key:"staffDealerCode",value:"",code:"",list:[]},group:{title:"组织",dealerLabelName:"",key:"groupCode",value:"",code:"",list:[]},customer:{title:"客户",dealerLabelName:"客户",key:"customerDealerCode",value:"",code:"",list:[]},processors:{title:"加工商",dealerLabelName:"加工商",key:"processorsDealerCode",value:"",code:"",list:[]},channel:{title:"渠道商",dealerLabelName:"渠道商",key:"channelDealerCode",value:"",code:"",list:[]},noMatched:{title:"",dealerLabelName:"",key:"",value:"",code:"",list:[]}},typeSub:"group",typeToSubMap:{"配送中心仓":"group","加工商仓":"processors","加工车间仓":"group","客户仓":"customer","渠道商仓":"channel","个人仓":"staff","一般部门仓":"group"},warehouseConfig:[],warehouseDuplicateConfig:[],formData:{},viewId:""}},components:{RScroll:b.default},methods:{findData:function(){var e=this;return(0,y.getwarehouseInfo)(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a;t.attachment;e.formData=n,e.warehouseDuplicateConfig.forEach(function(t){if(e.formData[t.name]&&!e.formData[t.name].length)return void(t.show=!1);t.show=!0});var i=n.baseinfo,r=void 0===i?{}:i,s=n.warehouse,o=void 0===s?{}:s;switch(o.warehouseStatus){case 1:o.warehouseStatus="使用中";break;case 2:o.warehouseStatus="未使用";break;case 0:o.warehouseStatus="草稿";break;case-1:o.warehouseStatus="停用"}if(e.hasDefault=!0,e.baseinfo=(0,v.default)({},e.baseinfo,r),e.warehouse=(0,v.default)({},e.warehouse,o),e.warehouse.warehousePic?e.MatPic="/H_roleplay-si/ds/download?url="+e.warehouse.warehousePic+"&width=400&height=400":e.getDefaultImg(),e.typeSub=e.typeToSubMap[e.warehouse.warehouseType]||"noMatched","noMatched"!==e.typeSub){var l=!0,d=!1,u=void 0;try{for(var f,h=(0,m.default)((0,c.default)(e.typeSubMap));!(l=(f=h.next()).done);l=!0){var p=f.value;if(e.warehouse[p.key]){p.code=e.warehouse[p.key],e.getTypeSubList();break}}}catch(e){d=!0,u=e}finally{try{!l&&h.return&&h.return()}finally{if(d)throw u}}e.biReferenceId=e.warehouse.referenceId,e.$loading.hide()}}).catch(function(t){e.$loading.hide(),e.$vux.alert.show({content:t.message})})},getDefaultImg:function(){this.MatPic=a("t732")},getTypeSubList:function(){var e=this;switch(this.typeSub){case"group":return(0,y.getDepartMentWage)().then(function(t){var a=t.tableContent,n=void 0===a?[]:a,i=!0,r=!1,s=void 0;try{for(var o,l=(0,m.default)(n);!(i=(o=l.next()).done);i=!0){var d=o.value;if(d.GROUP_CODE===e.typeSubMap[e.typeSub].code){e.typeSubMap[e.typeSub].value=d.GROUP_NAME;break}}}catch(e){r=!0,s=e}finally{try{!i&&l.return&&l.return()}finally{if(r)throw s}}});case"staff":case"customer":case"processors":case"channel":return(0,_.getObjDealerByLabelName)({dealerLabelName:this.typeSubMap[this.typeSub].dealerLabelName}).then(function(t){var a=t.tableContent,n=void 0===a?[]:a,i=!0,r=!1,s=void 0;try{for(var o,l=(0,m.default)(n);!(i=(o=l.next()).done);i=!0){var d=o.value;if(d.dealerCode===e.typeSubMap[e.typeSub].code){e.typeSubMap[e.typeSub].value=d.dealerName;break}}}catch(e){r=!0,s=e}finally{try{!i&&l.return&&l.return()}finally{if(r)throw s}}})}},goEdit:function(){this.$router.push({path:"/warehouse/edit_warehouse",query:{transCode:this.transCode}})},getFormViews:function(){var e=this;return(0,_.getFormViews)("64a41c48-4e8d-4709-bd01-5d60ad6bc625").then(function(t){var a=!0,n=!1,i=void 0;try{for(var r,s=(0,m.default)(t);!(a=(r=s.next()).done);a=!0){var o=r.value;if("view"===o.viewType){e.viewId=o.uniqueId;break}}}catch(e){n=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}})},getFormConfig:function(){var e=this;(0,_.getFormConfig)(this.viewId).then(function(t){var a=t.config,n=void 0===a?[]:a,i=[],r=[];n.forEach(function(e){e.isMultiple?e.hiddenInRun||"r2Fileupload"===e.xtype||r.push(JSON.parse((0,d.default)(e))):i=JSON.parse((0,d.default)(e.items))}),i.forEach(function(t){"groupCode"!==t.fieldCode&&"customerDealerCode"!==t.fieldCode&&"customerDealerCode"!==t.fieldCode&&"processorsDealerCode"!==t.fieldCode&&"channelDealerCode"!==t.fieldCode||(t.hiddenInRun=!0),t.hiddenInRun||"warehouseCode"!==t.fieldCode&&"warehouseName"!==t.fieldCode&&"warehousePic"!==t.fieldCode&&"warehouseProvince"!==t.fieldCode&&"warehouseCity"!==t.fieldCode&&"warehouseDistrict"!==t.fieldCode&&"warehouseAddress"!==t.fieldCode&&"warehouseStatus"!==t.fieldCode&&e.warehouseConfig.push(t)}),r.forEach(function(e){switch(e.name){case"warehouseRel":e.title="库位"}e.items.forEach(function(t,a){t.hidden&&(e.items.splice(a,1),a--)})}),e.warehouseDuplicateConfig=r,e.$loading.hide()})}},created:function(){var e=this;this.$loading.show();var t=this.$route.query;t.transCode&&(this.transCode=t.transCode,(0,o.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getFormViews();case 2:return t.next=4,e.getFormConfig();case 4:return t.next=6,e.findData();case 6:case"end":return t.stop()}},t,e)}))())}}},NzC7:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("J0Oq"),o=n(s),l=a("IHPB"),d=n(l),u=a("KH7x"),c=n(u),f=a("4YfN"),m=n(f),h=a("+26s"),v=n(h),p=a("kpbF"),C=a("Qg39"),y={page:1,limit:20,hasNext:!0,listData:[]};t.default={data:function(){return{uniqueId:1e3,showContent:!1,filterArr:[{operator:"like",value:"",property:"cashCode"}],listMap:{}}},computed:{currentItem:function(){var e=this.listView[this.activeIndex].view_id;return this.listMap[e]},currentScroll:function(){return this.$refs.bScroll[this.activeIndex]}},mixins:[v.default],methods:{resetCondition:function(){var e=this.listView[this.activeIndex].view_id;this.listMap[e]=(0,m.default)({},y),this.currentScroll.scrollTo(0,0),this.currentScroll.resetPullDown()},tabClick:function(e,t){this.activeIndex=t,this.activeTab=e.view_name,this.calc_rel_code=e.calc_rel_code,this.view_id=e.view_id,this.currentScroll.scrollTo(0,0),this.resetCondition(),this.listSwiper.slideTo(t)},getClassfiy:function(){var e=this;return(0,p.getListClassfiy)({account_code:this.uniqueId,device_type:"phone"}).then(function(t){var a=t.data,n=void 0===a?[]:a,i=(0,c.default)(n,1),r=i[0],s=void 0===r?{}:r,o={};n.forEach(function(e){o[e.view_id]=(0,m.default)({},y)}),e.listMap=o,e.listView=n,e.activeTab=s.view_name,e.calc_rel_code=s.calc_rel_code,e.view_id=s.view_id,e.$nextTick(function(){e.listSwiper.update()})})},getListData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.currentItem,i=n.page,r=n.limit;return(0,p.getViewList)({user_code:1,page:i,limit:r,view_scope:"data",device_type:"phone",view_id:this.view_id,filter:this.serachVal,calc_rel_code:this.calc_rel_code,start:(i-1)*r}).then(function(n){var s=n.data,o=void 0===s?[]:s,l=n.total,u=void 0===l?0:l,c={"交通银行":a("4TvN"),"建设银行":a("ptJ7"),"中国银行":a("ihcZ"),"招商银行":a("E3CK")};e.currentItem.hasNext=u>(i-1)*r+o.length,o.forEach(function(t){if(t.status=!1,t.cashInOrOut)switch(t.cashInOrOut){case"流入":t.flowIconClass="iconfont icon-shangjiantou",t.flowWordClass="cashIn";break;case"流出":t.flowIconClass="iconfont icon-xiajiantou-copy",t.flowWordClass="cashOut"}e.activeTab.includes("资金账户余额")?t.icon=c[t.bank]:e.activeTab.includes("现金流计划表")&&(t.appIcon="/dist/"+t.appIcon)}),e.listData=1===i?o:e.listData.concat(o),e.currentItem.listData=1===i?o:[].concat((0,d.default)(e.currentItem.listData),(0,d.default)(o)),t||e.$nextTick(function(){e.resetScroll()});var f="";t&&0===e.activeIndex&&e.total&&(f=u-e.total==0?"暂无新数据":f="新增"+(u-e.total)+"条数据",e.$vux.toast.show({text:f,position:"top",width:"50%",type:"text",time:700})),0===e.activeIndex&&1===i&&sessionStorage.setItem(e.applyCode,u),e.$loading.hide()}).catch(function(t){e.resetScroll()})},getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,o.default)(r.default.mark(function a(){return r.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.getView();case 2:return a.next=4,e.getListData(t);case 4:case"end":return a.stop()}},a,e)}))()},resetScroll:function(){this.currentScroll.finishPullDown(),this.currentScroll.finishPullUp()},onPullingUp:function(){this.currentItem.page++,this.getListData()},onPullingDown:function(){this.currentItem.page=1,this.getData(!0)},getData:function(e){var t=this;return(0,o.default)(r.default.mark(function a(){return r.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getSession();case 2:if(!e){a.next=6;break}return a.next=5,t.getList(!0).then(function(){t.$nextTick(function(){t.currentScroll.finishPullDown().then(function(){t.currentScroll.finishPullUp()})})});case 5:return a.abrupt("return");case 6:return a.next=8,t.getList();case 8:case"end":return a.stop()}},a,t)}))()},initSwiper:function(){var e=this;this.$nextTick(function(){e.listSwiper=new e.Swiper(".list-container",{touchAngle:30,on:{slideChangeTransitionStart:function(){var t=e.listSwiper.activeIndex,a=e.listView[t];e.activeIndex=t,e.activeTab=a.view_name,e.calc_rel_code=a.calc_rel_code,e.view_id=a.view_id,e.scrollToShow(t),e.currentItem.listData.length||(e.resetCondition(),e.getListData())}}})})},scrollToShow:function(e){var t=this.$refs.tabContainer,a=parseFloat(getComputedStyle(t).paddingLeft),n=this.$refs.tabs[e];t.scrollLeft=n.offsetLeft-a}},filters:{toFixed:C.toFixed},created:function(){this.initSwiper()}}},"O/CH":function(e,t){},O1ha:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("a3Yh"),o=n(s),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("u28h"),C=n(p),y=a("kNGm"),_=(n(y),a("iR2W")),g=n(_),b=a("PzEQ"),w=n(b),I=a("jLp1"),x=a("bKg5"),D=n(x),P=a("JUuq"),S=n(P),k=a("d7ck"),L=n(k),N=a("vl8n"),M=n(N),T=a("+WR7"),A=n(T);t.default={mixins:[D.default],components:{Cell:c.default,Group:m.default,XInput:v.default,Datetime:C.default,XTextarea:w.default,PopNameList:S.default,FormCell:L.default,RPicker:M.default,PopBaseinfo:A.default},data:function(){return{listId:"b87a513e-99ec-4608-89db-3d6e97ef1432",projectList:[],taskList:[],formData:{biProcessStatus:""},projectApproval:{},jsonData:{baseinfo:{},comment:{biComment:""}},projectConclusion:[],projectTime:{actualStartTime:"",actualCompleteTime:""}}},methods:(0,o.default)({save:function(){var e=this,t="",a=[{key:"actualStartTime",message:"实际开始日期"},{key:"actualCompleteTime",message:"实际完成日期"}];if(this.projectApproval.PROJECT_NAME||(t="请选择项目"),a.every(function(a){return!!e.projectTime[a.key]||(t=a.message+"不能为空",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show(),e.jsonData.baseinfo=(0,d.default)({},e.formData,{creator:e.formData.handler},e.jsonData.baseinfo,{modifer:e.formData.handler});var t=I.saveProjectConclusion,a=e.projectConclusion.map(function(e){return{conclusionName:e.conclusionName,actual:e.actual,budget:e.budget,difference:e.difference}}),n={listId:e.listId,formData:(0,d.default)({handlerEntity:e.entity.dealerName},e.jsonData,{projectApproval:{projectName:e.projectApproval.PROJECT_NAME,projectType:e.projectApproval.PROJECT_TYPE,comment:e.projectApproval.COMMENT,projectManager:e.projectApproval.PROJECT_MANAGER,expectStartDate:e.projectApproval.EXPECT_START_DATE,expectEndDate:e.projectApproval.EXPECT_END_DATE},projectConclusion:a,projectTime:e.projectTime})};e.transCode&&(t=I.updateProjectConclusion),e.saveData(t,n)}})},clickDateSelect:function(){var e=this;this.$vux.datetime.show({confirmText:"确定",cancelText:"取消",value:this.formData.validUntil,onConfirm:function(t){e.formData.validUntil=t}})},selProject:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"{}";this.projectApproval=JSON.parse(t),(0,I.findConclusion)(this.projectApproval.PROJECT_NAME).then(function(t){var a=t.data,n=void 0===a?[]:a;e.projectConclusion=n})},getFormData:function(){return(0,I.findProjectConclusion)(this.transCode).then(function(e){e.formData})},numberComma:function(e){return e||0===e?(0,g.default)(e):"无"},hasDraftData:function(){return!!this.projectApproval.PROJECT_NAME&&(0,o.default)({},"XMJX_DATA",{projectApproval:this.projectApproval,jsonData:this.jsonData,projectConclusion:this.projectConclusion,projectTime:this.projectTime})},getRelationData:function(){var e=this;return(0,I.findProjectApproval)(this.relationKey).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=(t.attachment,JSON.parse((0,r.default)(n.projectApproval)));e.projectApproval={BUDGET_CAPITAL:i.budgetCapital,BUDGET_COST:i.budgetCost,BUDGET_INCOME:i.budgetIncome,BUDGET_PROFIT:i.budgetProfit,BUDGET_PROFIT_MARGIN:i.budgetProfitMargin,COMMENT:i.comment,EXPECT_END_DATE:i.expectEndDate,EXPECT_START_DATE:i.expectStartDate,ID:i.projectApprovalId,PHONE_NUMBER:i.phoneNumber,PROJECT_MANAGER:i.projectManager,PROJECT_NAME:i.projectName,PROJECT_STATUS:i.projectStatus,PROJECT_SUBCLASS:i.projectSubclass,PROJECT_TYPE:i.projectType,REFERENCE_ID:i.referenceId},e.selProject((0,r.default)(e.projectApproval))})}},"getFormData",function(){var e=this;return(0,I.findProjectConclusion)(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=(t.attachment,n.projectApproval);e.projectApproval={BUDGET_CAPITAL:i.budgetCapital,BUDGET_COST:i.budgetCost,BUDGET_INCOME:i.budgetIncome,BUDGET_PROFIT:i.budgetProfit,BUDGET_PROFIT_MARGIN:i.budgetProfitMargin,COMMENT:i.comment,EXPECT_END_DATE:i.expectEndDate,EXPECT_START_DATE:i.expectStartDate,ID:i.projectApprovalId,PHONE_NUMBER:i.phoneNumber,PROJECT_MANAGER:i.projectManager,PROJECT_NAME:i.projectName,PROJECT_STATUS:i.projectStatus,PROJECT_SUBCLASS:i.projectSubclass,PROJECT_TYPE:i.projectType,REFERENCE_ID:i.referenceId},e.jsonData=n,e.projectConclusion=n.projectConclusion,e.projectTime=n.projectTime,e.handlerDefault={handler:n.baseinfo.handler,handlerName:n.baseinfo.handlerName,handlerUnit:n.baseinfo.handlerUnit,handlerUnitName:n.baseinfo.handlerUnitName,handlerRole:n.baseinfo.handlerRole,handlerRoleName:n.baseinfo.handlerRoleName},e.$loading.hide()})}),created:function(){var e=sessionStorage.getItem("XMJX_DATA");if(e){var t=JSON.parse(e);this.projectApproval=t.projectApproval,this.jsonData=t.jsonData,this.projectConclusion=t.projectConclusion,this.projectTime=t.projectTime,sessionStorage.removeItem("XMJX_DATA")}}}},O4M8:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vux-picker"},[a("flexbox",{attrs:{gutter:0}},e._l(e.currentData,function(t,n){return a("flexbox-item",{key:n,staticStyle:{"margin-left":"0"},attrs:{span:e.columnWidth&&e.columnWidth[n]}},[a("div",{staticClass:"vux-picker-item",attrs:{id:"vux-picker-"+e.uuid+"-"+n}})])}),1)],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"OB+s":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("4YfN"),o=n(s),l=a("HXPS"),d=n(l),u=a("7g+Q"),c=n(u),f=a("+62G"),m=n(f),h=a("6q39"),v=n(h),p=(a("HyXB"),a("XAqG")),C=a("1KNX"),y=n(C),_=a("7biW"),g=n(_);t.default={name:"PopCompanyList",props:{defaultValue:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1},params:{type:Object,default:function(){return{}}}},directives:{TransferDom:m.default},components:{Icon:d.default,Popup:c.default,RScroll:y.default,DSearch:g.default,LoadMore:v.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},watch:{defaultValue:function(e){this.setDefaultValue()}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this.getList()},showSelIcon:function(e){return this.selItems.groupCode===e.groupCode},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.$emit("sel-item",this.selItems)},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getList:function(){var e=this;return(0,p.getCompanyList)((0,o.default)({pageSize:this.limit,currentPage:this.page,search:this.srhInpTx},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,s=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+s.length,e.listData=1===e.page?s:[].concat((0,r.default)(e.listData),(0,r.default)(s)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.selItems=this.defaultValue?(0,o.default)({},this.defaultValue):{}},itemClick:function(){this.disabled||(this.showPop=!this.showPop)}},created:function(){this.setDefaultValue(),this.disabled||this.getList()}}},OBkd:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("kNGm"),o=(n(s),a("SAzG")),l=n(o),d=a("0AQX"),u=a("+VRO"),c=n(u),f=a("BUFe"),m=n(f),h=a("AupE"),v=n(h),p=a("bFc7"),C=n(p),y=a("CKaN"),_=n(y),g=a("zWMP"),b=a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",dealerInfo:{},cashInfo:{},costList:[]}},computed:{isApproval:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"7d18cfc2-475f-44c5-ae12-a723d6234253"===t},isAccounting:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"69c3a187-1816-41cf-a9ec-899e9932940e"===t},isCashier:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"8ea73083-fc91-49f2-97d6-e9923ac9b9e2"===t},cashParams:function(){return{transCode:this.transCode}}},mixins:[c.default],components:{workFlow:v.default,RAction:m.default,contactPart:C.default,XInput:l.default,PopCashList:_.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,d.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=t.formData,i=t.attachment;if(!1===a)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var r=n.order.dataSet,s=void 0===r?[]:r;if(e.attachment=i,e.orderInfo=n,e.dealerInfo=n.inPut.dataSet[0],e.cashInfo=n.outPut.dataSet[0],e.costList=s,e.isAccounting){var o=e.dealerInfo,l=o.thenAmntBal,d=void 0===l?0:l,u=o.thenAlreadyAmnt,c=void 0===u?0:u;e.dealerInfo.thenTotalAmntBal=c,e.dealerInfo.differenceAmount=d}e.workFlowInfoHandler()})},agreeHandler:function(){if(this.isApproval||this.isAccounting||this.isCashier){if(this.isCashier&&!this.cashInfo.fundCode)return this.$vux.alert.show({content:"请选择资金账户"}),!0;var e=this.orderInfo,t=this.costList.map(function(e){return{tdId:e.tdId,expCode:e.expCode,expSubject:e.expSubject,costType_expCode:e.costType_expCode,tdAmount:e.tdAmount,expCause:e.expCause,taxAmount:e.taxAmount,noTaxAmount:e.noTaxAmount}}),a=(0,r.default)({},e,{order:{departmentName:e.order.departmentName,dataSet:t}});if(this.isCashier){var n=this.cashInfo;a.outPut={dataSet:[{fundName_cashInCode:n.fundName,cashInCode:n.fundCode,cashType_cashInCode:n.fundType,thenAmntBalCopy1:n.thenAmntBal,tdAmountCopy1:n.tdAmountCopy1,tdIdCopy1:n.tdIdCopy1}]}}return this.saveData(a),!0}return!1},calcTax:function(e){var t=e.taxAmount,a=void 0===t?0:t,n=e.noTaxAmount,i=void 0===n?0:n;a||(a=0,e.taxAmount=0),e.noTaxAmount=(0,g.accSub)(i,a)},calcPayment:function(e){var t=e.thenAmntBal,a=void 0===t?0:t,n=e.thenAlreadyAmnt,i=void 0===n?0:n,r=e.thenTotalAmntBal,s=void 0===r?0:r;s||(s=0),s=(0,b.toFixed)(s),e.thenTotalAmntBal=s,e.tdAmount=(0,b.toFixed)((0,g.accSub)(i,s)),e.differenceAmount=(0,b.toFixed)((0,g.accAdd)((0,g.accSub)(a,i),s)),this.cashInfo.tdAmountCopy1=s},selCash:function(e){this.cashInfo=(0,r.default)({},this.cashInfo,e)}}}},OC53:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("6q39"),v=n(h),p=a("kNGm"),C=n(p),y=a("fEP3"),_=a("1KNX"),g=n(_),b=a("7biW"),w=n(b);t.default={name:"work-list-pop",props:{show:{type:Boolean,default:!1},defaultValue:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:m.default,LoadMore:v.default,RScroll:g.default,MSearch:w.default},filters:{dateFormat:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},workList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterList:[{name:"成品名称",value:"inventoryName"},{name:"成品编码",value:"inventoryCode"},{name:"工序名称",value:"procedureName"}],filterProperty:"",inventoryCode:"",orderCode:""}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){return this.selItems.colId===e.colId},selThis:function(e,t){this.showPop=!1,this.selItems=(0,d.default)({},e),this.$emit("sel-work",this.selItems)},setDefaultValue:function(){this.selItems=(0,d.default)({},this.defaultValue)},getWorkOrderTask:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),this.inventoryCode&&(t=[].concat((0,o.default)(t),[{operator:"eq",value:this.inventoryCode,property:"matCode"},{operator:"eq",value:this.orderCode,property:"transCode"}])),(0,y.getWorkCheckList)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;if(e.inventoryCode){var s=r.find(function(t){return t.matCode===e.inventoryCode&&t.transCode===e.orderCode});s&&e.selThis(s)}e.hasNext=n>(e.page-1)*e.limit+r.length,e.workList=1===e.page?r:[].concat((0,o.default)(e.workList),(0,o.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.workList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getWorkOrderTask()},onPullingUp:function(){this.page++,this.getWorkOrderTask()}},created:function(){var e=this.$route.query,t=e.inventoryCode,a=void 0===t?"":t,n=e.orderCode,i=void 0===n?"":n;this.inventoryCode=a,this.orderCode=i,this.setDefaultValue(),this.getWorkOrderTask()}}},OFAD:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("+62G"),v=n(h),p=a("6q39"),C=n(p),y=a("vS5q"),_=a("1KNX"),g=n(_),b=a("7biW"),w=n(b);t.default={name:"PopWarehouseList",props:{title:{type:String,default:"仓库列表"},defaultValue:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1},isRequired:{type:Boolean,default:!1}},directives:{TransferDom:v.default},components:{Icon:c.default,Popup:m.default,RScroll:g.default,DSearch:w.default,LoadMore:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},showAddWarehouse:!1}},computed:{tip:function(){var e="加载中";return this.hasNext||(e="暂无数据"),e},noAddress:function(){var e=this.selItems,t=e.warehouseProvince,a=void 0===t?"":t,n=e.warehouseCity,i=void 0===n?"":n,r=e.warehouseDistrict,s=void 0===r?"":r,o=e.warehouseAddress,l=void 0===o?"":o;return!(a||i||s||l)}},watch:{defaultValue:function(e){this.setDefaultValue()}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1,this.$emit("on-hide")},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this.getList()},showSelIcon:function(e){return this.selItems.warehouseCode===e.warehouseCode},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.$emit("sel-item",this.selItems)},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"warehouseName"}])),(0,y.getWarehouse)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.showAddWarehouse=e.srhInpTx&&0===r.length,e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,d.default)(e.listData),(0,d.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.selItems=this.defaultValue?(0,r.default)({},this.defaultValue):{}},warehouseClick:function(){this.disabled||(this.$emit("on-show"),this.showPop=!this.showPop)},addWarehouse:function(){this.$router.push({path:"/warehouse/edit_warehouse",query:{add:1}})}},created:function(){this.setDefaultValue(),this.disabled||this.getList()}}},OG9q:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isModify?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.hide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.allCheck,expression:"!allCheck"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.allCheck,expression:"allCheck"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n    全选\n  ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteItem}},[e._v("删除")])]):a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.hide}},[a("span",{staticClass:"count_num",class:{nine_up:e.tdAmount.length>8,ten_up:e.tdAmount.length>9,ele_up:e.tdAmount.length>10}},[a("span",{staticClass:"total_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.tdAmount))+"\n      ")]),e._v(" "),a("span",{staticClass:"taxAmount"},[e._v("[含税: ￥"+e._s(e._f("numberComma")(e.taxAmount))+"]")])]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submit}},[e._v("提交")])])},i=[],r={render:n,staticRenderFns:i};t.a=r},OMTN:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("a3Yh"),o=n(s),l=a("4YfN"),d=n(l),u=a("7g+Q"),c=n(u),f=a("+62G"),m=n(f),h=a("z5TY"),v=n(h),p=a("BGNQ"),C=n(p),y=a("iR2W"),_=n(y),g=a("u28h"),b=n(g),w=a("SAzG"),I=n(w),x=a("PzEQ"),D=n(x),P=a("HyXB"),S=a("bKg5"),k=n(S),L=a("7D9F"),N=n(L),M=a("i61Q"),T=n(M),A=a("FGYN"),O=n(A),R=a("F2L3"),j=n(R),B=a("vl8n"),E=n(B),F=a("+WR7"),U=n(F);t.default={directives:{TransferDom:m.default},components:{Popup:c.default,Group:v.default,Cell:C.default,Datetime:b.default,XInput:I.default,XTextarea:D.default,PopWorkList:T.default,PopManagerList:N.default,PopProjectList:j.default,PopWorkGdbllList:O.default,RPicker:E.default,PopBaseinfo:U.default},data:function(){return{listId:"6ebcad8b-449c-422a-960f-53ccf98fd4ba",showWorkPop:!1,transMode:[],matterList:[],dealer:{},numMap:{},contact:{},formData:{},dealerInfo:{},workInfo:{},defaultManager:{},showProjectPop:!1,project:{},defaultProject:[]}},mixins:[k.default],filters:{numberComma:_.default},methods:{selWork:function(e){this.workInfo=(0,d.default)({tdQty:""},e)},submitOrder:function(){var e=this,t="",a=[];if(this.workInfo.transCode||(t="请选择工序"),t||this.workInfo.tdQty||(t="请填写补领料数量"),t||this.project.PROJECT_NAME||(t="请选择项目"),t)return void this.$vux.alert.show({content:t});var n={transMatchedCode:this.workInfo.transCode,proPointCode:this.workInfo.proPointCode,tdQty:this.workInfo.tdQty,transObjCode:this.workInfo.matCode,proFlowCode:this.workInfo.proFlowCode,processCode:this.workInfo.processCode,tdProcessing:this.workInfo.processing};a.push(n),this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=(P.saveAndStartWf,(0,o.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""}));e.isResubmit&&(t={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var n={listId:e.listId,biComment:e.formData.biComment,formData:(0,r.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,biProcessStatus:e.currentStage,order:{dataSet:a,project:e.project.PROJECT_NAME,departmentName:e.formData.handlerUnitName}})),wfPara:(0,r.default)(t)};e.isResubmit&&(P.saveAndCommitTask,n.biReferenceId=e.biReferenceId),e.processCode.length||(P.submitAndCalc,delete n.wfPara,delete n.biReferenceId),e.biReferenceId&&(n.biReferenceId=e.biReferenceId)}})},selProject:function(e){this.project=(0,d.default)({},e)},hasDraftData:function(){return!!this.workInfo.procedureName&&(0,o.default)({},"GDBLL_DATA",{workInfo:this.workInfo,project:this.project,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("GDBLL_DATA");if(e){var t=JSON.parse(e);this.workInfo=t.workInfo,this.project=t.project,this.formData=t.formData,sessionStorage.removeItem("GDBLL_DATA")}}}},OMnH:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages user-list-container",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("tab",{attrs:{"line-width":2,"default-color":"#333","active-color":"#3296FA"}},e._l(e.listStatus,function(t,n){return a("tab-item",{key:n,attrs:{selected:n===e.activeIndex},on:{"on-item-click":function(a){e.tabClick(t,n)}}},[e._v(e._s(t.name)+"\n          ")])}),1)],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"list-item-wrapper",class:{visited:t.visited},on:{click:function(a){e.goDetail(t,n)}}},[a("div",{staticClass:"list-img-wrapper"},[a("img",{staticClass:"list_item_img",attrs:{src:t.photo,alt:"user-img"},on:{error:function(a){e.getDefaultImg(t)}}}),e._v(" "),a("i",{staticClass:"icon",class:[1===t.gender?"icon-male":"icon-female"]})]),e._v(" "),a("div",{staticClass:"list_info_wrapper"},[a("div",{staticClass:"list_header"},[a("div",{staticClass:"list_header_left"},[a("span",{staticClass:"list_name"},[e._v(e._s(t.nickname))]),e._v(" "),a("span",{staticClass:"list_type",class:{temporary:0===t.userType}},[e._v(e._s(t.userTypeText))])]),e._v(" "),a("span",{staticClass:"list_status",class:t.statusClass},[e._v(e._s(t.status))])]),e._v(" "),a("div",{staticClass:"list_detail"},[a("div",{staticClass:"list_detail_item"},[a("span",{staticClass:"list_detail_title"},[e._v("手机: ")]),e._v(" "),a("span",{staticClass:"list_detail_value"},[e._v(e._s(t.mobile))])]),e._v(" "),a("div",{staticClass:"list_detail_item"},[a("span",{staticClass:"list_detail_title"},[e._v("工号: ")]),e._v(" "),a("span",{staticClass:"list_detail_value"},[e._v(e._s(t.userCode))])])])])])}),0)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},OTZ4:function(e,t,a){"use strict";function n(e){a("lqcj")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("NDsO");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("ksvY"),o=a.n(s),l=a("H4xu"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-d9d90374",null);t.default=c.exports},"OV+5":function(e,t){},OX8B:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("HyXB"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2243,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}]}},mixins:[i.default],methods:{},created:function(){}}},OXL9:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=(a("HyXB"),a("MjAd")),o=n(s);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"任务类型",value:"taskType"},{name:"项目名称",value:"projectName_project"}],listViewID:2326}},mixins:[o.default],methods:{goDetail:function(e,t){var a=this;if(!this.clickVisited){var n=e.transCode,i=this.$route.query.name,s=this.$route.params,o=s.folder,l=s.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,r.default)({},e)),setTimeout(function(){a.clickVisited=!1,a.$router.push({path:"/detail/"+o+"/"+l,query:{name:i,transCode:n}})},200)}},getTaskIcon:function(e){return["icon-task","icon-task2","icon-task3"][e%3]}}}},OXqN:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vux-loadmore weui-loadmore",class:{"weui-loadmore_line":!e.showLoading,"weui-loadmore_dot":!e.showLoading&&!e.tip}},[e.showLoading?a("i",{staticClass:"weui-loading"}):e._e(),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.tip||!e.showLoading,expression:"tip || !showLoading"}],staticClass:"weui-loadmore__tips"},[e._v(e._s(e.tip))])])},i=[],r={render:n,staticRenderFns:i};t.a=r},OZZT:function(e,t,a){"use strict";function n(e){a("yGkO")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("qxrx");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("kdhw"),o=a.n(s),l=a("y2fK"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},Opmd:function(e,t){},Ou9q:function(e,t){},OuKl:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("tab",{attrs:{"line-width":2,"default-color":"#333","active-color":"#3296FA"}},e._l(e.listStatus,function(t,n){return a("tab-item",{key:n,attrs:{selected:n===e.activeIndex},on:{"on-item-click":function(a){e.tabClick(t,n)}}},[e._v(e._s(t.name)+"\n          ")])}),1)],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"list-item-wrapper",class:{visited:t.visited,"vux-1px-b":n!==e.listData.length-1},on:{click:function(a){e.goDetail(t,n)}}},[a("i",{staticClass:"icon-job"}),e._v(" "),a("div",{staticClass:"list_info_wrapper"},[a("div",{staticClass:"list_detail"},[a("div",{staticClass:"list_name"},[e._v(e._s(t.name))]),e._v(" "),a("div",{staticClass:"list_detail_item"},[a("span",{staticClass:"list_detail_title"},[e._v("职位类型: ")]),e._v(" "),a("span",{staticClass:"list_detail_value"},[e._v(e._s(t.changeType))])])]),e._v(" "),a("div",{staticClass:"list_status",class:t.statusClass},[e._v(e._s(t.status))]),e._v(" "),a("i",{staticClass:"icon-right"})])])}),0)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},OuXJ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Ns/O"),i=function(e){return e&&e.__esModule?e:{default:e}}(n),r=["android","ios","ios-small","bubbles","circles","crescent","dots","lines","ripple","spiral"];t.default={name:"spinner",mounted:function(){var e=this;this.$nextTick(function(){(0,i.default)(e.$el,e.type,e.size)})},props:{type:{type:String,default:"ios"},size:String},computed:{styles:function(){if(void 0!==this.size&&"28px"!==this.size)return{width:this.size,height:this.size}},className:function(){for(var e={},t=0;t<r.length;t++)e["vux-spinner-"+r[t]]=this.type===r[t];return e}}}},OwgJ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2299,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_outPutMatCode"}]}},mixins:[i.default],methods:{},created:function(){}}},OyWz:function(e,t,a){"use strict";function n(e){a("evww")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Syq3");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("2F8C"),o=a.n(s),l=a("OuKl"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-42d6c7fc",null);t.default=c.exports},Oyni:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2542,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}]}},mixins:[i.default],methods:{},created:function(){}}},Oysh:function(e,t){},"P+ts":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("keep-alive",[e.$route.meta.keepAlive?a("router-view"):e._e()],1),e._v(" "),e.$route.meta.keepAlive?e._e():a("router-view"),e._v(" "),a("nav",{staticClass:"tabs vux-1px-t"},e._l(e.tablist,function(t,n){return a("router-link",{key:n,staticClass:"tab",attrs:{to:t.path}},[a("span",{staticClass:"tabicon iconfont",class:t.icon}),e._v(" "),a("span",{staticClass:"title"},[e._v(e._s(t.title))]),e._v(" "),"消息"===t.title&&0!=e.newsNumber?a("badge"):e._e()],1)}),1)],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},P0Xt:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("AupE"),f=n(c),m=a("BUFe"),h=n(m),v=a("bFc7"),p=n(v),C=a("3NX5"),y=n(C),_=a("zlAJ"),g=n(_),b=a("zWMP");t.default={data:function(){return{orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",attachment:[],count:0}},mixins:[u.default],components:{workFlow:f.default,RAction:h.default,contactPart:p.default,MatterList:y.default,UploadFile:g.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u=s.order,c=u.dataSet,f=!0,m=!1,h=void 0;try{for(var v,p=(0,r.default)(c);!(f=(v=p.next()).done);f=!0){var C=v.value;e.count=(0,b.accAdd)(e.count,C.tdAmount),C.inventoryPic=C.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+C.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){m=!0,h=e}finally{try{!f&&p.return&&p.return()}finally{if(m)throw h}}e.attachment=d,s.validUntil=(0,o.default)(s.validUntil,"YYYY-MM-DD"),e.orderInfo=s,e.workFlowInfoHandler()})}}}},P2Bj:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("a3Yh"),o=n(s),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("u28h"),C=n(p),y=a("kNGm"),_=(n(y),a("iR2W")),g=n(_),b=a("PzEQ"),w=n(b),I=a("jLp1"),x=a("bKg5"),D=n(x),P=a("JUuq"),S=n(P),k=a("d7ck"),L=n(k),N=a("vl8n"),M=n(N),T=a("+WR7"),A=n(T);t.default={mixins:[D.default],components:{Cell:c.default,Group:m.default,XInput:v.default,Datetime:C.default,XTextarea:w.default,PopNameList:S.default,FormCell:L.default,RPicker:M.default,PopBaseinfo:A.default},data:function(){return{listId:"b87a513e-99ec-4608-89db-3d6e97ef1432",projectList:[],taskList:[],formData:{biProcessStatus:""},projectApproval:{},jsonData:{baseinfo:{},comment:{biComment:""}},projectConclusion:[],projectTime:{actualStartTime:"",actualCompleteTime:""}}},methods:(0,o.default)({save:function(){var e=this,t="",a=[{key:"actualStartTime",message:"实际开始日期"},{key:"actualCompleteTime",message:"实际完成日期"}];if(this.projectApproval.PROJECT_NAME||(t="请选择项目"),a.every(function(a){return!!e.projectTime[a.key]||(t=a.message+"不能为空",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show(),e.jsonData.baseinfo=(0,d.default)({},e.formData,{creator:e.formData.handler},e.jsonData.baseinfo,{modifer:e.formData.handler});var t=I.saveProjectConclusion,a=e.projectConclusion.map(function(e){return{conclusionName:e.conclusionName,actual:e.actual,budget:e.budget,difference:e.difference}}),n={listId:e.listId,formData:(0,d.default)({handlerEntity:e.entity.dealerName},e.jsonData,{projectApproval:{projectName:e.projectApproval.PROJECT_NAME,projectType:e.projectApproval.PROJECT_TYPE,comment:e.projectApproval.COMMENT,projectManager:e.projectApproval.PROJECT_MANAGER,expectStartDate:e.projectApproval.EXPECT_START_DATE,expectEndDate:e.projectApproval.EXPECT_END_DATE},projectConclusion:a,projectTime:e.projectTime})};e.transCode&&(t=I.updateProjectConclusion),e.saveData(t,n)}})},clickDateSelect:function(){var e=this;this.$vux.datetime.show({confirmText:"确定",cancelText:"取消",value:this.formData.validUntil,onConfirm:function(t){e.formData.validUntil=t}})},selProject:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"{}";this.projectApproval=JSON.parse(t),(0,I.findConclusion)(this.projectApproval.PROJECT_NAME).then(function(t){var a=t.data,n=void 0===a?[]:a;e.projectConclusion=n})},getFormData:function(){return(0,I.findProjectConclusion)(this.transCode).then(function(e){e.formData})},numberComma:function(e){return e||0===e?(0,g.default)(e):"无"},hasDraftData:function(){return!!this.projectApproval.PROJECT_NAME&&(0,o.default)({},"XMJX_DATA",{projectApproval:this.projectApproval,jsonData:this.jsonData,projectConclusion:this.projectConclusion,projectTime:this.projectTime})},getRelationData:function(){var e=this;return(0,I.findProjectApproval)(this.relationKey).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=(t.attachment,JSON.parse((0,r.default)(n.projectApproval)));e.projectApproval={BUDGET_CAPITAL:i.budgetCapital,BUDGET_COST:i.budgetCost,BUDGET_INCOME:i.budgetIncome,BUDGET_PROFIT:i.budgetProfit,BUDGET_PROFIT_MARGIN:i.budgetProfitMargin,COMMENT:i.comment,EXPECT_END_DATE:i.expectEndDate,EXPECT_START_DATE:i.expectStartDate,ID:i.projectApprovalId,PHONE_NUMBER:i.phoneNumber,PROJECT_MANAGER:i.projectManager,PROJECT_NAME:i.projectName,PROJECT_STATUS:i.projectStatus,PROJECT_SUBCLASS:i.projectSubclass,PROJECT_TYPE:i.projectType,REFERENCE_ID:i.referenceId},e.selProject((0,r.default)(e.projectApproval))})}},"getFormData",function(){var e=this;return(0,I.findProjectConclusion)(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=(t.attachment,n.projectApproval);e.projectApproval={BUDGET_CAPITAL:i.budgetCapital,BUDGET_COST:i.budgetCost,BUDGET_INCOME:i.budgetIncome,BUDGET_PROFIT:i.budgetProfit,BUDGET_PROFIT_MARGIN:i.budgetProfitMargin,COMMENT:i.comment,EXPECT_END_DATE:i.expectEndDate,EXPECT_START_DATE:i.expectStartDate,ID:i.projectApprovalId,PHONE_NUMBER:i.phoneNumber,PROJECT_MANAGER:i.projectManager,PROJECT_NAME:i.projectName,PROJECT_STATUS:i.projectStatus,PROJECT_SUBCLASS:i.projectSubclass,PROJECT_TYPE:i.projectType,REFERENCE_ID:i.referenceId},e.jsonData=n,e.projectConclusion=n.projectConclusion,e.projectTime=n.projectTime,e.handlerDefault={handler:n.baseinfo.handler,handlerName:n.baseinfo.handlerName,handlerUnit:n.baseinfo.handlerUnit,handlerUnitName:n.baseinfo.handlerUnitName,handlerRole:n.baseinfo.handlerRole,handlerRoleName:n.baseinfo.handlerRoleName},e.$loading.hide()})}),created:function(){var e=sessionStorage.getItem("XMJX_DATA");if(e){var t=JSON.parse(e);this.projectApproval=t.projectApproval,this.jsonData=t.jsonData,this.projectConclusion=t.projectConclusion,this.projectTime=t.projectTime,sessionStorage.removeItem("XMJX_DATA")}}}},P2Js:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"FormCell",props:{cellTitle:[String,Number],cellContent:[String,Number],showTopBorder:{type:Boolean,default:!0},textRight:{type:Boolean,default:!1},showSymbol:{type:Boolean,default:!1}}}},P2jE:function(e,t){},P3eF:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("HzJ8"),o=n(s),l=a("I8ug"),d=a("4XVd"),u=a("fQlz"),c=n(u),f=a("Z5v5");t.default={name:"ChangeLog",data:function(){return{commentList:[],listId:"a4897429-f4f2-44a4-ade7-2fe8dc67c3cf"}},filters:{handleCrt:function(e){if(e){var t=Date.now();"string"==typeof e&&(e=e.replace(/-/g,"/").replace(/\..*/g,""));var a=+new Date(e),n=t-a,i=n/1e3,r=i/60,s=r/60,o=s/24;return i<60?"刚刚":r<60?parseInt(r)+"分钟前":s<24?parseInt(s)+"小时前":o<30?parseInt(o)+"天前":e}}},methods:{getUserDefault:function(e){var t=a("Fuf7");return e&&(e.photo=t),t},getCommetList:function(){var e=this;return(0,l.getPCCommentList)({relationKey:this.listId,limit:10,page:1,total:0}).then(function(t){var a=(t.dataCount,t.tableContent),n=void 0===a?[]:a;n.forEach(function(t){if(e.checkImgSuffix(t),t.praises.length)return void(t.isPraise=!1);t.isPraise=!0}),e.commentList=n})},changeImgPath:function(e){var t=e.content.replace(/src="resources/g,'src="/dist/resources');return e.content=t,t},goCommentList:function(){this.$router.push({path:"/commentList",query:{listId:this.listId}})},savePraise:function(e){if(e.isPraise)return(0,d.savePraise)(e.id).then(function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];arguments[1];t&&(e.isPraise=!1,e.praiseNum++)})},checkImgSuffix:function(e){var t=["jpg","jpeg","png","gif","bmp","tif","pcx","tga","exif","fpx","svg","psd","cdr","pcd","dxf","ufo","eps","ai","raw","WMF","webp"],a=!0,n=!1,i=void 0;try{for(var r,s=(0,o.default)(e.commentAttachments);!(a=(r=s.next()).done);a=!0){var l=r.value,d=l.name.lastIndexOf("."),u=l.name.substr(d+1);t.includes(u)&&(l.isImg=!0)}}catch(e){n=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}},handleComment:function(e){var t=[].concat((0,r.default)(c.default)),a=e.content,n=/\[(.+?)\]/g;return a=a.replace(/src="resources/g,'src="/dist/resources'),a=a.replace(n,function(e){var a=t.findIndex(function(t){return t===e.replace(/(\[|\])/g,"")});return-1===a?e:'<span class="img-emotion" style="background-position: -'+24*a+'px 0;"></span>'})},scaleImg:function(e){console.log("img:",e);var t=""+location.origin+e.attachment;wx.previewImage({current:t,urls:[t]})},checkFile:function(e){window.location.href=""+location.origin+e}},created:function(){(0,f.register)();var e=this.$route.params.listId;e&&(this.listId=e,this.getCommetList())}}},P5Nb:function(e,t,a){"use strict";function n(e){a("cq+X")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("WzL9");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("DXZE"),o=a.n(s),l=a("20Ve"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-2d0942da",null);t.default=c.exports},P5P7:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2464,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}]}},mixins:[i.default],methods:{},created:function(){}}},P63M:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("a3Yh"),o=n(s),l=a("MgeX"),d=n(l),u=a("IHPB"),c=n(u),f=a("KH7x"),m=n(f),h=a("4YfN"),v=n(h),p=a("3cXf"),C=n(p),y=a("HXPS"),_=n(y),g=a("SAzG"),b=n(g),w=a("PzEQ"),I=n(w),x=a("kNGm"),D=n(x),P=a("BGNQ"),S=n(P),k=a("0AQX"),L=a("HyXB"),N=a("I3vJ"),M=a("bKg5"),T=n(M),A=a("vl8n"),O=n(A),R=a("9SNe"),j=n(R),B=a("kZy/"),E=n(B),F=a("y8YJ"),U=n(F),$=a("yt3/"),Q=n($),H=a("luHD"),V=n(H),q=a("zlAJ"),Y=n(q),X=a("+WR7"),G=n(X),W=a("VZtf"),z=n(W),K=a("Qg39"),J=a("zWMP");t.default={data:function(){return{listId:"58a607ce-fe93-4d26-a42e-a374f4662f1c",matterList:[],showMaterielPop:!1,transCode:"",dealerInfo:{},transMode:[],logisticsTerm:[],formData:{biComment:"",drDealerLogisticsTerms:"",validUntil:""},numMap:{},taxRate:.16,contactInfo:{}}},components:{Icon:_.default,XInput:b.default,RPicker:O.default,XTextarea:I.default,Cell:S.default,PopMatterList:E.default,PopDealerList:U.default,PopSingleSelect:Q.default,PopMatter:V.default,UploadFile:Y.default,PopBaseinfo:G.default,RDate:j.default,RNumber:z.default},mixins:[T.default],methods:{getPaymentTerm:function(){var e=this;return(0,L.getDictByType)("paymentTerm").then(function(t){var a=t.tableContent;e.transMode=a})},getLogisticsTerms:function(){var e=this;return(0,L.getDictByType)("dealerLogisticsTerms").then(function(t){var a=t.tableContent;e.logisticsTerm=a})},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,C.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=this;this.matterList.forEach(function(t){e.numMap[t.inventoryCode]=(0,v.default)({},t)}),this.showMaterielPop=!this.showMaterielPop},selDealer:function(e){var t=JSON.parse(e),a=(0,m.default)(t,1),n=a[0];this.dealerInfo=n},selContact:function(e){this.contactInfo=(0,v.default)({},e)},selMatter:function(e){var t=this,a=JSON.parse(e);a.forEach(function(e,a){var n=t.numMap[e.inventoryCode]||{},i=n.price,r=void 0===i?"":i,s=n.taxRate,o=void 0===s?t.taxRate:s,l=n.tdQty,d=void 0===l?"":l;e.tdQty=d,e.price=r,e.taxRate=o,e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null,t.getPriceRange(e,a)}),this.numMap={},this.matterList=[].concat((0,c.default)(a))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},save:function(){var e=this,t="",a=[];if([{key:"dealerInfo",message:"客户"},{key:"matterList",message:"物料"}].every(function(a){return!!(0,d.default)(e[a.key]).length||(t="请选择"+a.message,!1)}),this.matterList.every(function(n){var i=n.tdQty,r=n.price;if(!i&&0!==i)return t="请输入需求数量",!1;if(i<n.qtyDownline)return t="需求数量不能小于最小需求数量",!1;if(i>n.qtyOnline)return t="需求数量不能大于最大需求数量",!1;if(!r)return t="请输入本次报价",!1;if(r<n.specialReservePrice)return t="需求数量不能小于特批底价",!1;if(r>n.standardPrice)return t="需求数量不能大于标准价格",!1;var s=n.taxRate||e.taxRate,o=((0,J.accMul)(n.price,n.tdQty,s),{inventoryName_transObjCode:n.inventoryName,transObjCode:n.inventoryCode,tdProcessing:n.processing,assMeasureUnit:n.assMeasureUnit||null,assMeasureDescription:n.assMeasureDescription||null,assMeasureScale:n.assMeasureScale||null,tdQty:n.tdQty,assistQty:n.assistQty,standardPrice:n.standardPrice,specialReservePrice:n.specialReservePrice,price:n.price,tdAmount:n.tdAmount,taxRate:s,noTaxPrice:n.noTaxPrice,taxAmount:n.taxAmount,comment:n.comment||null});return e.transCode&&(o.tdId=n.tdId||""),a.push(o),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=L.saveAndStartWf,n=(0,m.default)(e.matterList,1),i=(n[0],(0,v.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,dealerDebitContactPersonName:e.contactInfo.dealerName||"",dealerDebitContactInformation:e.contactInfo.dealerMobilePhone||"",drDealerLogisticsTerms:e.dealerInfo.dealerLogisticsTerms,order:{dealerDebit:e.dealerInfo.dealerCode||"",drDealerLabel:e.dealerInfo.dealerLabelName,drDealerPaymentTerm:e.dealerInfo.paymentTerm,validUntil:e.formData.validUntil,dataSet:a}})),r={listId:e.listId,biComment:"",formData:(0,C.default)(i),wfPara:(0,C.default)((0,o.default)({},e.processCode,{businessKey:e.businessKey,createdBy:i.creator}))};e.transCode&&(t=L.saveAndCommitTask,r.biReferenceId=e.biReferenceId,r.wfPara=(0,C.default)({businessKey:e.transCode,createdBy:i.creator,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=L.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,k.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var d=[];e.attachment=l;var u=s.order,c=u.dataSet,f=void 0===c?[]:c,m=!0,h=!1,p=void 0;try{for(var C,y=(0,r.default)(f);!(m=(C=y.next()).done);m=!0){var _=C.value;_=(0,v.default)({},_,{inventoryPic:_.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:_.inventoryName_transObjCode,inventoryCode:_.inventoryCode_transObjCode,specification:_.specification_transObjCode,processing:_.processing_transObjCode,inventoryType:_.inventoryType_transObjCode,inventorySubclass:_.inventorySubclass_transObjCode,measureUnit:_.measureUnit_transObjCode,inventoryColor:_.inventoryColor_transObjCode,material:_.material_transObjCode}),d.push(_)}}catch(e){h=!0,p=e}finally{try{!m&&y.return&&y.return()}finally{if(h)throw p}}e.dealerInfo={creatorName:s.dealerDebitContactPersonName||"",dealerName:u.dealerName_dealerDebit||"",dealerMobilePhone:s.dealerDebitContactInformation||"",dealerCode:u.dealerDebit||"",dealerLabelName:u.drDealerLabel||"客户",province:u.province_dealerDebit||"",city:u.city_dealerDebit||"",county:u.county_dealerDebit||"",address:u.address_dealerDebit||"",paymentTerm:u.drDealerPaymentTerm,dealerLogisticsTerms:s.drDealerLogisticsTerms},e.contactInfo={dealerName:s.dealerDebitContactPersonName,dealerMobilePhone:s.dealerDebitContactInformation},e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,v.default)({},e.formData,e.handlerDefault,{biComment:s.biComment,biId:s.biId,biProcessStatus:s.biProcessStatus,creator:s.creator,modifer:s.modifer,validUntil:(0,D.default)(s.validUntil,"YYYY-MM-DD")}),e.biReferenceId=s.biReferenceId,e.matterList=d,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,o.default)({},"XSBJ_DATA",{matter:this.matterList,dealer:this.dealerInfo,formData:this.formData,contactInfo:this.contactInfo})},getPriceRange:function(e,t){var a=this;return(0,N.getPriceRange)({inventoryCode:e.inventoryCode}).then(function(n){var i=n.tableContent,r=(0,m.default)(i,1),s=r[0],o=void 0===s?{}:s;["qtyDownline","qtyOnline","specialReservePrice","standardPrice"].forEach(function(t){e[t]=o[t]||0}),a.$set(a.matterList,t,(0,v.default)({},e))})},checkQty:function(e){var t=e.qtyDownline,a=void 0===t?0:t,n=e.qtyOnline,i=void 0===n?0:n,r=e.tdQty;r<a&&(r=a),r>i&&(r=i),e.tdQty=Math.abs((0,K.toFixed)(r))},checkAmt:function(e){var t=e.standardPrice,a=void 0===t?0:t,n=e.specialReservePrice,i=void 0===n?0:n,r=e.price;r<i&&(r=i),r>a&&(r=a),e.price=Math.abs((0,K.toFixed)(r))},checkRate:function(e){e.taxRate=Math.abs((0,K.toFixed)(e.taxRate))}},created:function(){var e=sessionStorage.getItem("XSBJ_DATA");e&&(this.matterList=JSON.parse(e).matter,this.dealerInfo=JSON.parse(e).dealer,this.formData=JSON.parse(e).formData,this.contactInfo=JSON.parse(e).contactInfo,sessionStorage.removeItem("XSBJ_DATA"))}}},P7KE:function(e,t,a){"use strict";function n(e){a("af2W")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("jKAT");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("ZtSw"),o=a.n(s),l=a("NrK8"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-d978608e",null);t.default=c.exports},PDsi:function(e,t,a){"use strict";function n(e){a("yxL8")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("WVZW");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("gBjh"),o=a.n(s),l=a("3Fmt"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-5818bcc6",null);t.default=c.exports},PGEV:function(e,t){},PIUc:function(e,t){},PKHo:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("FIKn"),r=(n(i),a("kNGm")),s=n(r),o=a("d3k1"),l=n(o);t.default={data:function(){return{btnIsHide:!1,clientHeight:document.documentElement.clientHeight}},methods:{changeDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return"";"string"==typeof e&&(e=e.replace(/-/g,"/").replace(/\..*/g,""));var a="YYYY-MM-DD";return t&&(a="YYYY-MM-DD HH:mm:ss"),(0,s.default)(e,a)}},mounted:function(){var e=this;l.default.isAndroid&&(window.onresize=function(){e.clientHeight>document.documentElement.clientHeight?e.btnIsHide=!0:(e.btnIsHide=!1,"INPUT"!==document.activeElement.tagName&&"TEXTAREA"!==document.activeElement.tagName||document.activeElement.blur())})}}},PKjt:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("J0Oq"),o=n(s),l=a("3cXf"),d=n(l),u=a("HzJ8"),c=n(u),f=a("KH7x"),m=n(f),h=a("L6VY"),v=n(h),p=a("kNGm"),C=n(p),y=a("I3vJ"),_=a("I8ug"),g=a("HyXB"),b=a("1KNX"),w=n(b);t.default={name:"materDetail",filters:{dateFormat:C.default},data:function(){return{listId:"78a798f8-0f3a-4646-aa8b-d5bb1fada28c",baseinfo:{},transCode:"",inventory:{},invMoreUnit:[],invNetWeight:[],invDealerRel:[],invCustomerRel:[],action:{},matterConfig:[],matterDuplicateConfig:[],formData:{}}},computed:{leadTimeTitle:function(){var e=this.inventory.processing,t=["原料","商品"],a=["半成品","成品","模具"];return t.includes(e)?"采购提前期":a.includes(e)?"加工提前期":""}},components:{RScroll:w.default},methods:{goEdit:function(){this.$router.push({path:"/materlist/addMater",query:{transCode:this.transCode}})},findData:function(){var e=this;return(0,y.findData)(this.transCode).then(function(t){var a=t.formData;e.formData=a,e.matterDuplicateConfig.forEach(function(t){if(e.formData[t.name]&&!e.formData[t.name].length)return void(t.show=!1);t.show=!0});var n=a.inventory,i=void 0===n?{}:n,r=["","使用中","未使用","草稿"],s=["","inUse","unUse"];i.statusClass=s[i.inventoryStatus],i.status=r[i.inventoryStatus]||"停用",e.baseinfo=a.baseinfo,e.inventory=a.inventory,e.invNetWeight=a.invNetWeight,e.invMoreUnit=a.invMoreUnit,e.invDealerRel=a.invDealerRel||[],e.invCustomerRel=a.invCustomerRel||[];var o=e.inventory,l=o.inventoryPic,d=o.inventoryCode,u=o.specification;e.contentLength=d.length+u.length,l?e.inventory.inventoryPic="/H_roleplay-si/ds/download?url="+l+"&width=400&height=400":e.getDefaultImg(),e.$loading.hide()}).catch(function(t){e.$loading.hide(),v.default.show({content:t.message})})},getDefaultImg:function(){this.inventory.inventoryPic=a("CcG0")},getAppDetail:function(){var e=this;return(0,_.getAppDetail)(this.listId).then(function(t){var a=(0,m.default)(t,1),n=a[0],i=void 0===n?{}:n,r=i.action;e.action=r})},getFormViews:function(){var e=this;return(0,g.getFormViews)(this.listId).then(function(t){var a=!0,n=!1,i=void 0;try{for(var r,s=(0,c.default)(t);!(a=(r=s.next()).done);a=!0){var o=r.value;if("view"===o.viewType){e.getFormConfig(o.uniqueId);break}}}catch(e){n=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}})},getFormConfig:function(e){var t=this;(0,g.getFormConfig)(e).then(function(e){var a=e.config,n=void 0===a?[]:a;console.log(n);var i=[],r=[];n.forEach(function(e){e.isMultiple?e.hiddenInRun||"r2Fileupload"===e.xtype||"invMoreUnit"!==e.name||r.push(JSON.parse((0,d.default)(e))):i=JSON.parse((0,d.default)(e.items))}),i.forEach(function(e){e.hiddenInRun||"inventoryCode"!==e.fieldCode&&"inventoryName"!==e.fieldCode&&"inventoryPic"!==e.fieldCode&&"inventoryStatus"!==e.fieldCode&&t.matterConfig.push(e)}),r.forEach(function(e){switch(e.name){case"invMoreUnit":e.title="辅助计量";break;case"invNetWeight":e.title="净含量";break;case"invDealerRel":e.title="客户";break;case"invCustomerRel":e.title="供应商"}}),t.matterDuplicateConfig=r})}},created:function(){var e=this;(0,o.default)(r.default.mark(function t(){var a,n;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.$loading.show(),a=e.$route.query.transCode,n=void 0===a?"":a,e.transCode=n,t.next=5,e.getAppDetail();case 5:return t.next=7,e.getFormViews();case 7:e.findData();case 8:case"end":return t.stop()}},t,e)}))()}}},PN9S:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MgeX"),r=n(i),s=a("HzJ8"),o=n(s),l=a("4YfN"),d=n(l),u=a("3cXf"),c=n(u),f=a("IHPB"),m=n(f),h=a("HXPS"),v=n(h),p=a("7g+Q"),C=n(p),y=a("1KNX"),_=n(y),g=(a("vS5q"),a("I3vJ")),b=a("7biW"),w=n(b);t.default={name:"PopOrderXQTJList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Object,default:function(){return{}}},listMethod:{type:String,default:"getDemandAdjustment"},params:{type:Object,default:function(){return{}}}},components:{Icon:v.default,Popup:C.default,RScroll:_.default,RSearch:w.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],listData:[],limit:100,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterProperty:"",filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"交易号",value:"transCode"}]}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}},params:{handler:function(){this.getList()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,m.default)(this.selItems)),this.$emit("input",!1),this.$event.$emit("shut-down-filter",!1)},findIndex:function(e,t){return e.findIndex(function(e){var a=!0,n=!0;return e.orderCode&&(a=e.orderCode===t.orderCode),e.colId&&(n=e.colId===t.colId),a&&n&&e.transCode===t.transCode&&e.inventoryCode===t.inventoryCode})},showSelIcon:function(e){return-1!==this.findIndex(this.tmpItems,e)},selThis:function(e,t){if(["getInProcessingOrder","getInProcessingStorage"].includes(this.listMethod)&&!e.orderCode)return void this.$vux.alert.show({content:"当前订单号不存在，不可选择"});if(e.qtyBal&&e.qtyStock<=0)return void this.$vux.alert.show({content:"当前库存为0，不可选择"});var a=this.tmpItems,n=this.findIndex(a,e);if(-1!==n)return void a.splice(n,1);a.push(e)},selConfirm:function(){this.showPop=!1,this.tmpItems.sort(function(e,t){return t.effectiveTime-e.effectiveTime}),this.selItems=[].concat((0,m.default)(this.tmpItems)),this.$emit("sel-matter",(0,c.default)(this.selItems))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getList:function(){var e=this,t=[];this.srhInpTx&&(t=[{operator:"like",value:this.srhInpTx,property:this.filterProperty}]);var a=this.$route.query.relationKey,n=void 0===a?"":a;return n&&(t=[{operator:"eq",value:n,property:"transCode"}]),(0,g.getXQTJList)((0,d.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,c.default)(t)},this.params),this.listMethod).then(function(t){var a=t.dataCount,i=void 0===a?0:a,r=t.tableContent,s=void 0===r?[]:r;s.forEach(function(t){t.inventoryPic=t.inventoryPic?"/H_roleplay-si/ds/download?url="+t.inventoryPic+"&width=400&height=400":e.getDefaultImg()}),n&&(e.selItems=[].concat((0,m.default)(s)),e.$emit("sel-matter",(0,c.default)(e.selItems))),e.hasNext=i>(e.page-1)*e.limit+s.length,e.listData=1===e.page?s:[].concat((0,m.default)(e.listData),(0,m.default)(s)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},resetCondition:function(){this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.resetCondition(),this.getList()},clearList:function(){this.srhInpTx="",this.resetCondition(),this.getList()},delSelItem:function(e){var t=this.findIndex(this.selItems,e);-1!==t&&this.selItems.splice(t,1),this.tmpItems=[].concat((0,m.default)(this.selItems))},clearSel:function(){this.selItems=[],this.tmpItems=[]},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var i,s=(0,o.default)((0,r.default)(this.defaultValue));!(t=(i=s.next()).done);t=!0){var l=i.value;e=[].concat((0,m.default)(e),(0,m.default)(l))}}catch(e){a=!0,n=e}finally{try{!t&&s.return&&s.return()}finally{if(a)throw n}}this.tmpItems=[].concat((0,m.default)(e)),this.selItems=[].concat((0,m.default)(e))}},created:function(){this.showPop=this.show,this.setDefaultValue(),this.getList()}}},PRcm:function(e,t){},PSYi:function(e,t,a){"use strict";function n(e){a("rS01")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("car/");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("ukfH"),o=a.n(s),l=a("1Sqs"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-427717e1",null);t.default=c.exports},PVMT:function(e,t){},PYXE:function(e,t,a){"use strict";function n(e){a("Gfu4")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("VhGg");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("T4DS"),o=a.n(s),l=a("MSgx"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-5d25706a",null);t.default=c.exports},Pb67:function(e,t,a){"use strict";function n(e){a("1PyV")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("SGPQ");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("d5RT"),o=a.n(s),l=a("zHvc"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-65f0ddee",null);t.default=c.exports},PbSJ:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("T1B6"),r=n(i),s=a("uJtz"),o=n(s),l=a("jnZd"),d=n(l);t.default={name:"x-address",components:{PopupPicker:d.default},props:{title:{type:String,required:!0},value:{type:Array,default:function(){return[]}},rawValue:Boolean,list:{type:Array,required:!0},labelWidth:String,inlineDesc:String,placeholder:String,hideDistrict:Boolean,valueTextAlign:String,confirmText:String,cancelText:String,displayFormat:{type:Function,default:function(e,t){return t}},popupStyle:Object,popupTitle:String,show:Boolean,disabled:Boolean},created:function(){if(this.currentValue.length&&this.rawValue){var e=(0,r.default)(this.currentValue,this.list);/__/.test(e)?(console.error("[VUX] Wrong address value",this.currentValue),this.currentValue=[]):this.currentValue=e.split(" ")}this.show&&(this.showValue=!0)},methods:{emitHide:function(e){this.$emit("on-hide",e)},getAddressName:function(){return(0,o.default)(this.value,this.list)},onShadowChange:function(e,t){this.$emit("on-shadow-change",e,t)}},data:function(){return{currentValue:this.value,showValue:!1}},computed:{nameValue:function(){return(0,o.default)(this.currentValue,this.list)},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}}},watch:{currentValue:function(e){this.$emit("input",e)},value:function(e){if(e.length&&!/\d+/.test(e[0])){var t=(0,r.default)(e,this.list).split(" ");if("__"!==t[0]&&"__"!==t[1])return void(this.currentValue=t)}this.currentValue=e},show:function(e){this.showValue=e},showValue:function(e){this.$emit("update:show",e)}}}},Pe9i:function(e,t){},PeDZ:function(e,t){},PeEf:function(e,t){},"Peu+":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"inline-desc"}},Pibe:function(e,t,a){"use strict";function n(e){a("498P")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Cs4O");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("c8eI"),o=a.n(s),l=a("Xoe/"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-0086f3e9",null);t.default=c.exports},PoQm:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2508,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[i.default],methods:{},created:function(){}}},Pqvm:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("+62G"),v=n(h),p=a("6q39"),C=n(p),y=a("jnZd"),_=n(y),g=a("HyXB"),b=a("1KNX"),w=n(b),I=a("7biW"),x=n(I);t.default={name:"BaseInfo",props:{defaultValue:{type:Object,default:function(){return{}}},handleOrgList:{type:Array,default:function(){return[]},required:!0},userRoleList:{type:Array,default:function(){return[]},required:!0},isRequired:{type:Boolean,default:!0}},directives:{TransferDom:v.default},components:{Icon:c.default,Popup:m.default,RScroll:w.default,DSearch:x.default,LoadMore:C.default,PopupPicker:_.default},data:function(){return{page:1,limit:50,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},srhInpTx:"",showPop:!1,isSetInitial:!1,selItems:{},currentUser:{},role:[],group:[],listData:[],roleList:[],groupList:[]}},watch:{defaultValue:function(e){this.setDefaultValue()}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},onPullingUp:function(){this.page++,this.getlistUsers()},showSelIcon:function(e){return""+this.selItems.userId==""+e.userId},getDefaultImg:function(e){var t=a("男"===e.gender?"Fuf7":"0gu7");return e&&(e.photo=t),t},changeGroup:function(e){var t=this;this.selItems.handlerUnitName=e[0],this.groupList.forEach(function(a){if(a.name===e[0])return t.selItems.handlerUnit=a.userGroupId,!1});var a={handler:this.selItems.userId,handlerName:this.selItems.nickname,handlerUnit:this.selItems.handlerUnit,handlerUnitName:this.selItems.handlerUnitName,handlerRole:this.selItems.handlerRole,handlerRoleName:this.selItems.handlerRoleName};this.$emit("sel-item",a)},changeRole:function(e){var t=this;this.selItems.handlerRoleName=e[0],this.roleList.forEach(function(a){if(a.name===e[0])return t.selItems.handlerRole=a.userGroupId,!1});var a={handler:this.selItems.userId,handlerName:this.selItems.nickname,handlerUnit:this.selItems.handlerUnit,handlerUnitName:this.selItems.handlerUnitName,handlerRole:this.selItems.handlerRole,handlerRoleName:this.selItems.handlerRoleName};this.$emit("sel-item",a)},selThis:function(e,t){this.isSetInitial=!0,this.showPop=!1,this.selItems=e,this.getNewHandleORG(),this.getNewUserRole()},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getlistUsers()},getlistUsers:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"nickname"}])),(0,g.listUsers)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,d.default)(e.listData),(0,d.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},setDefaultValue:function(){this.selItems=this.defaultValue?(0,r.default)({},this.defaultValue,{userId:this.defaultValue.handler,nickname:this.defaultValue.handlerName}):{},this.group=[this.selItems.handlerUnitName],this.role=[this.selItems.handlerRoleName],this.defaultORG(),this.defaultUserRole()},defaultORG:function(){var e=this;this.groupList=[],this.handleOrgList.forEach(function(t){e.groupList.push((0,r.default)({},t,{name:t.userGroupName,value:t.userGroupName}))})},defaultUserRole:function(){var e=this;this.roleList=[],this.userRoleList.forEach(function(t){e.roleList.push((0,r.default)({},t,{name:t.userGroupName,value:t.userGroupName}))})},getNewHandleORG:function(){var e=this;return(0,g.getGroupByUserId)(this.selItems.userId).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;e.group=[],e.groupList=[],n.forEach(function(t){e.groupList.push((0,r.default)({},t,{name:t.userGroupName,value:t.userGroupName}))}),n.length&&e.isSetInitial&&(e.group=[n[0].userGroupName],e.selItems.handlerUnit=n[0].userGroupId)})},getNewUserRole:function(){var e=this;return(0,g.getRoleByUserId)(this.selItems.userId).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;e.role=[],e.roleList=[],n.forEach(function(t){e.roleList.push((0,r.default)({},t,{name:t.userGroupName,value:t.userGroupName}))}),n.length&&e.isSetInitial&&(e.role=[n[0].userGroupName],e.selItems.handlerRole=n[0].userGroupId)})}},created:function(){this.getlistUsers(),this.setDefaultValue()}}},Px8X:function(e,t,a){"use strict";function n(e){a("Kaw8")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("q4Rk");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("ansf"),o=a.n(s),l=a("/euG"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-24e92dcb",null);t.default=c.exports},PzEQ:function(e,t,a){"use strict";function n(e){a("Ae17")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("8bUL");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Ac7F"),o=a.n(s),l=a("sYiH"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},"Q+Bn":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"baseinfo_wrapper"},[a("div",{staticClass:"baseinfo_content"},[a("div",{staticClass:"each_info",on:{click:function(t){e.showPop=!0}}},[a("div",{staticClass:"title"},[e._v("经办人")]),e._v(" "),a("div",{staticClass:"mode"},[a("span",{staticClass:"mode_content"},[e._v(e._s(e.selItems.nickname))]),e._v(" "),a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-arrow-forward r_arrow",attrs:{type:"ios-arrow-forward",size:"18",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M160 128.4L192.3 96 352 256 192.3 416 160 383.6 287.3 256z"}})])])]),e._v(" "),a("popup-picker",{ref:"groupPicker",attrs:{title:"经办组织",data:e.groupList,columns:1},on:{"on-change":e.changeGroup},model:{value:e.group,callback:function(t){e.group=t},expression:"group"}},[a("template",{slot:"title"},[a("span",{staticClass:"title",class:{required:e.isRequired}},[e._v("经办组织\n        ")])])],2),e._v(" "),a("popup-picker",{ref:"rolePicker",attrs:{title:"经办职位",data:e.roleList,columns:1},on:{"on-change":e.changeRole},model:{value:e.role,callback:function(t){e.role=t},expression:"role"}})],1),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("d-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"pop-list-container",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"pop-mater-list-item box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"pop-list-main "},[a("div",{staticClass:"user-photo"},[a("img",{attrs:{src:t.photo,alt:"mater_img"},on:{error:function(a){e.getDefaultImg(t)}}})]),e._v(" "),a("div",{staticClass:"pop-list-info"},[a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline name",staticStyle:{display:"inline-block"}},[a("span",[e._v(e._s(t.nickname))])])]),e._v(" "),t.userCode?a("div",{staticClass:"withColor",staticStyle:{"margin-top":"0"}},[a("div",{staticClass:"ForInline ",staticStyle:{display:"inline-block"}},[a("span",[e._v(e._s(t.userCode))])])]):e._e()])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1)])],1)])},i=[],r={render:n,staticRenderFns:i};t.a=r},Q0k0:function(e,t){},Q1rT:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2362,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"成品名称",value:"inventoryName_transObjCode"}]}},mixins:[i.default]}},"Q3S/":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages xsbj-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{"dealer-label-name":"客户,原厂供应商,经销供应商,设施供应商,员工",dealerTitle:"往来",defaultValue:e.dealerInfo,defaultContact:e.contact},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),e._l(e.CostList,function(t,n){return a("div",{key:n,staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"资金账户"+(n+1)}},[a("cell",{attrs:{title:"资金账户名称","is-link":""},nativeOn:{click:function(a){e.getCost(n,t)}},model:{value:t.cashName,callback:function(a){e.$set(t,"cashName",a)},expression:"item.cashName"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("资金账户名称\n              ")])])],2),e._v(" "),a("cell",{attrs:{title:"资金账户大类",value:t.cashType_cashOutCode}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("资金账户大类")])])],2),e._v(" "),a("x-input",{attrs:{title:"支付金额","text-align":"right",placeholder:"请填写",type:"number"},on:{"on-focus":function(t){e.getFocus(t)},"on-blur":function(a){e.checkAmt(t)}},model:{value:t.tdAmount,callback:function(a){e.$set(t,"tdAmount",e._n(a))},expression:"item.tdAmount"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("支付金额\n              ")])])],2)],1)],1)}),e._v(" "),a("div",{staticClass:"add_more"},[e._v("\n        您还需要添加新的报销?请点击\n        "),a("span",{staticClass:"add",on:{click:e.addCost}},[e._v("新增")]),e._v(" "),a("em",{directives:[{name:"show",rawName:"v-show",value:e.CostList.length>1,expression:"CostList.length>1"}]},[e._v("或")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.CostList.length>1,expression:"CostList.length>1"}],staticClass:"delete",on:{click:e.deleteCost}},[e._v("删除")])]),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"其他信息"}},[a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-fund-list",{ref:"matter",attrs:{show:e.showCostPop,defaultValue:e.selectedCost},on:{"sel-matter":e.selMatter},model:{value:e.showCostPop,callback:function(t){e.showCostPop=t},expression:"showCostPop"}})],2)]),e._v(" "),a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num"},[a("span",{staticStyle:{fontSize:".14rem"}},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.totalAmount,3))+"\n    ")]),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"count_btn stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},Q6Kg:function(e,t,a){"use strict";function n(e){a("IgHR")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("XquE");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("xwQh"),o=a.n(s),l=a("nU+M"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-66f3620a",null);t.default=c.exports},Q7ft:function(e,t){},Q9fr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listViewID:2387,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"往来名称",value:"dealerName_dealerDebit"},{name:"设备名称",value:"facilityName_facilityObjCode"}]}},mixins:[i.default],methods:{},created:function(){}}},QBiQ:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper cpxq-detail-container"},[a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.userData,"order-info":e.userData}}),e._v(" "),a("div",{staticClass:"product"},[e._m(0),e._v(" "),a("form-cell",{attrs:{cellTitle:"员工",cellContent:e.userData.profileName||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"身份证号",cellContent:e.userData.idCard||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"紧急联系人",cellContent:e.userData.urgentContact||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"联系方式",cellContent:e.userData.profileContact||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"地址",cellContent:e.userData.profileAddress||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"学历",cellContent:e.userData.education||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"合同日期",cellContent:e.userData.contractPeriod||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"入职日期",cellContent:e._f("date")(e.userData.entryDate||"无")}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"备注",cellContent:e.userData.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}})],1)])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title"},[a("div",[a("span",{staticClass:"iconfont icon-mingxi1"}),e._v(" "),a("span",[e._v("员工信息")])])])}],r={render:n,staticRenderFns:i};t.a=r},QCfW:function(e,t){},QDfD:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o),d=a("zWMP"),u=(a("Qg39"),a("BUFe")),c=n(u),f=a("AupE"),m=n(f),h=a("89pA"),v=n(h),p=a("bFc7"),C=n(p),y=a("6WeX"),_=n(y),g=a("hPJo"),b=n(g),w=a("kKsb"),I=n(w),x=a("sUbJ"),D=n(x),P=a("d7ck"),S=n(P);t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",orderList:{},warehouse:{},dealerInfo:{},basicInfo:{}}},computed:{noTaxAmount:function(){var e=0;return this.orderInfo.outPut.dataSet.forEach(function(t){e=(0,d.accAdd)(e,t.noTaxAmount)}),e},taxAmount:function(){var e=0;return this.orderInfo.outPut.dataSet.forEach(function(t){e=(0,d.accAdd)(e,t.taxAmount)}),e}},mixins:[l.default],components:{workFlow:m.default,RAction:c.default,PopWarehouseList:v.default,contactPart:C.default,PriceTotal:_.default,WarehouseContent:b.default,ProjectPart:I.default,MatterItem:D.default,FormCell:S.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u={},c=s.outPut,f=void 0===c?{}:c;e.attachment=l;var m=s.outPut.dataSet,h=!0,v=!1,p=void 0;try{for(var C,y=(0,r.default)(m);!(h=(C=y.next()).done);h=!0){var _=C.value;e.count=(0,d.accAdd)(e.count,_.tdAmount),_.inventoryPic=_.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),_.inventoryName_transObjCode=_.inventoryName_outPutMatCode,_.transObjCode=_.inventoryCode_outPutMatCode,u[_.transMatchedCode]||(u[_.transMatchedCode]=[]),u[_.transMatchedCode].push(_)}}catch(e){v=!0,p=e}finally{try{!h&&y.return&&y.return()}finally{if(v)throw p}}e.orderList=u,e.dealerInfo={creatorName:s.dealerDebitContactPersonName,dealerName:f.dealerName_dealerDebit,dealerMobilePhone:s.dealerDebitContactInformation,dealerContactPersonName:s.dealerDebitContactPersonName,dealerCode:f.dealerDebit,dealerLabelName:f.drDealerLabel,province:f.province_dealerDebit,city:f.city_dealerDebit,county:f.county_dealerDebit,address:f.address_dealerDebit,payment:f.drDealerPaymentTerm,logistics:s.drDealerLogisticsTerms,pamentDays:f.daysOfAccount,accountExpirationDate:f.accountExpirationDate},e.warehouse={warehouseCode:f.containerCodeOut,warehouseName:f.warehouseName_containerCodeOut,warehouseType:f.warehouseType_containerCodeOut,warehouseProvince:f.warehouseProvince_containerCodeOut,warehouseCity:f.warehouseCity_containerCodeOut,warehouseDistrict:f.warehouseDistrict_containerCodeOut,warehouseAddress:f.warehouseAddress_containerCodeOut},e.orderInfo=s,e.workFlowInfoHandler()})}}}},QGti:function(e,t){},QHLv:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getComplexExpenseReimbursement=t.getObjFundBalByType=t.getDraftBalance=t.getFundCashDiscount=t.getCashDiscount=t.getInputDraft=t.getPurchaseAgreementDeposit=t.getSupplierToPayDeposit=t.getPaySupplierArrearsDataSet=t.getEmployeeReserveFunds=t.getEmployeeBal=t.getObjFunds=t.getCostByGroupId=t.getProjectCostByGroupId=t.getCost=void 0;var i=a("4YfN"),r=n(i),s=a("GOq4"),o=n(s);t.getCost=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getCostAll",data:e})},t.getProjectCostByGroupId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getProjectCostByGroupId",data:e})},t.getCostByGroupId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getCostByGroupId",data:e})},t.getObjFunds=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getObjFunds",data:e})},t.getEmployeeBal=function(e){return o.default.ajax({url:"/H_roleplay-si/ds/getEmployeeBal",data:{limit:1,filter:e,refresh:!0}})},t.getEmployeeReserveFunds=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getEmployeeReserveFunds",data:(0,r.default)({_dc:Date.now()},e)})},t.getPaySupplierArrearsDataSet=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getPaySupplierArrearsDataSet",data:(0,r.default)({_dc:Date.now()},e)})},t.getSupplierToPayDeposit=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getSupplierToPayDeposit",data:(0,r.default)({_dc:Date.now()},e)})},t.getPurchaseAgreementDeposit=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getPurchaseAgreementDeposit",data:(0,r.default)({_dc:Date.now()},e)})},t.getInputDraft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getInputDraft",data:(0,r.default)({_dc:Date.now()},e)})},t.getCashDiscount=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getCashDiscount",data:(0,r.default)({_dc:Date.now()},e)})},t.getFundCashDiscount=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getFundCashDiscount",data:(0,r.default)({_dc:Date.now()},e)})},t.getDraftBalance=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getDraftBalance",data:(0,r.default)({_dc:Date.now()},e)})},t.getObjFundBalByType=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getObjFundBalByType",data:(0,r.default)({_dc:Date.now(),fundType:"其他资金,银行存款"},e)})},t.getComplexExpenseReimbursement=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getComplexExpenseReimbursement",data:(0,r.default)({_dc:Date.now()},e)})};t.default={}},QMWr:function(e,t,a){"use strict";function n(e){a("cvl1")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("NLcr");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("PKjt"),o=a.n(s),l=a("Jzcy"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-0581d25c",null);t.default=c.exports},QRhw:function(e,t,a){"use strict";function n(e){a("T7vi")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a+8v");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Kppu"),o=a.n(s),l=a("UdY3"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-6e091f96",null);t.default=c.exports},QTBm:function(e,t){},QXTq:function(e,t){},QfFO:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("r-popup",{attrs:{show:e.showPop,data:e.listData,options:e.scrollOptions,"has-next":e.hasNext,"default-value":e.defaultValue,"judge-keys":["draftNumber"],multipart:""},on:{"on-pulling-up":e.onPullingUp,"on-select":e.selItem,"on-search":e.searchList},scopedSlots:e._u([{key:"pop-item",fn:function(t){var n=t.item;return[a("div",{staticClass:"top"},[a("span",{staticClass:"name"},[e._v(e._s(n.accepter))]),e._v(" "),a("span",{staticClass:"label"},[e._v(e._s(n.draftType))])]),e._v(" "),a("div",{staticClass:"amt"},[a("span",[e._v("汇票号: "+e._s(n.draftNumber))]),e._v(" "),e._t("amount",[a("span",[e._v("金额: "+e._s(e._f("numberComma")(n.tdAmount)))])],{item:n})],2),e._v(" "),a("div",{staticClass:"amt"},[a("span",[e._v("出票日: "+e._s(e._f("dateFormat")(n.draftDate,"YYYY-MM-DD")))]),e._v(" "),a("span",[e._v("到期日: "+e._s(e._f("dateFormat")(n.draftDueDate,"YYYY-MM-DD")))])])]}}]),model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}})},i=[],r={render:n,staticRenderFns:i};t.a=r},QfO0:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"popup-header",props:{leftText:String,rightText:String,title:String,showBottomBorder:{type:Boolean,default:!0}}}},Qg39:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.toFixed=a("2KqP").default;t.default={toFixed:n}},"Qgf+":function(e,t){},QifJ:function(e,t,a){"use strict";function n(e){a("bjJC")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("hz6K");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("NINi"),o=a.n(s),l=a("uOFv"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-7aa3ef0e",null);t.default=c.exports},"Qp4/":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages xsbj-list-conatiner",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noPrice:"",noCount:""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},QpJ3:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper cpxq-detail-container"},[a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.userData,"order-info":e.userData}}),e._v(" "),a("div",{staticClass:"product"},[e._m(0),e._v(" "),a("form-cell",{attrs:{cellTitle:"员工",cellContent:e.userData.hiresName}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"部门",cellContent:e.userData.hiresDepartMent||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"岗位",cellContent:e.userData.hiresPost||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"体检日期",cellContent:e.userData.examinationDate||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"备注",cellContent:e.userData.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}})],1)])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title"},[a("div",[a("span",{staticClass:"iconfont icon-mingxi1"}),e._v(" "),a("span",[e._v("员工信息")])])])}],r={render:n,staticRenderFns:i};t.a=r},QpJC:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"r-dropdown",on:{click:function(t){return t.stopPropagation(),e.dropClick(t)}}},[a("div",{staticClass:"r-dropdown-value"},[a("span",{staticClass:"value"},[e._v(e._s(e.selItem.name))]),e._v(" "),a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-arrow-down",class:{"arrow-up":e.showDrop},attrs:{type:"ios-arrow-down",size:"14",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M396.6 160l19.4 20.7L256 352 96 180.7l19.3-20.7L256 310.5z"}})])]),e._v(" "),a("ul",{directives:[{name:"show",rawName:"v-show",value:e.showDrop,expression:"showDrop"}],staticClass:"r-dropdown-list"},e._l(e.list,function(t,n){return a("li",{key:n,staticClass:"r-dropdown-item",class:{"vux-1px-b":n!==e.list.length-1},on:{click:function(a){a.stopPropagation(),e.dropItemClick(t)}}},[a("span",[e._v(e._s(t.name))]),e._v(" "),a("icon",{directives:[{name:"show",rawName:"v-show",value:e.selItem.value===t.value,expression:"selItem.value === item.value"}],staticClass:"icon-selected",attrs:{type:"success-no-circle"}})],1)}),0)])},i=[],r={render:n,staticRenderFns:i};t.a=r},Qsdg:function(e,t){},QsxX:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.inPut?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.contactInfo,logistics:!1}},[a("div",{staticClass:"other",attrs:{slot:"other"},slot:"other"},[a("span",{staticClass:"title"},[e._v("账期天数: ")]),e._v(" "),a("span",{staticClass:"mode"},[e._v(e._s(e.contactInfo.pamentDays))])])]),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"order-list":e.orderList,noTaxAmount:e.noTaxAmount,taxAmount:e.taxAmount,count:e.count},scopedSlots:e._u([{key:"orderTitle",fn:function(t){return[a("span",{staticClass:"order_title"},[e._v("申请号")])]}},{key:"matterOther",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("单价: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.price),3)))]),e._v(" "),a("span",[e._v("数量: "+e._s(e._f("toFixed")(n.tdQty)))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.taxRate,expression:"item.taxRate"}]},[e._v("税率: "+e._s(n.taxRate))])]),e._v(" "),a("div",{staticClass:"mater_num"},[a("span",{staticClass:"num"},[e._v("待下单: "+e._s(n.thenQtyBal))])]),e._v(" "),a("div",{staticClass:"mater_price"},[a("span",[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(n.tdAmount),3)))]),e._v(" "),n.taxRate?a("span",{staticClass:"num",style:{display:n.tdAmount&&n.tdAmount.toString().length>=5?"block":""}},[e._v("\n                [金额: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.noTaxAmount),3))+" + 税金: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.taxAmount),3))+"]\n              ")]):e._e()])])]}}])}),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},QzS5:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o),d=a("zWMP"),u=(a("Qg39"),a("BUFe")),c=n(u),f=a("AupE"),m=n(f),h=a("89pA"),v=n(h),p=a("bFc7"),C=n(p),y=a("6WeX"),_=n(y),g=a("hPJo"),b=n(g),w=a("kKsb"),I=n(w),x=a("sUbJ"),D=n(x),P=a("d7ck"),S=n(P);t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",orderList:{},warehouse:{},dealerInfo:{},basicInfo:{}}},computed:{noTaxAmount:function(){var e=0;return this.orderInfo.outPut.dataSet.forEach(function(t){e=(0,d.accAdd)(e,t.noTaxAmount)}),e},taxAmount:function(){var e=0;return this.orderInfo.outPut.dataSet.forEach(function(t){e=(0,d.accAdd)(e,t.taxAmount)}),e}},mixins:[l.default],components:{workFlow:m.default,RAction:c.default,PopWarehouseList:v.default,contactPart:C.default,PriceTotal:_.default,WarehouseContent:b.default,ProjectPart:I.default,MatterItem:D.default,FormCell:S.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u={},c=s.outPut,f=void 0===c?{}:c;e.attachment=l;var m=s.outPut.dataSet,h=!0,v=!1,p=void 0;try{for(var C,y=(0,r.default)(m);!(h=(C=y.next()).done);h=!0){var _=C.value;e.count=(0,d.accAdd)(e.count,_.tdAmount),_.inventoryPic=_.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),_.inventoryName_transObjCode=_.inventoryName_outPutMatCode,_.transObjCode=_.inventoryCode_outPutMatCode,u[_.transMatchedCode]||(u[_.transMatchedCode]=[]),u[_.transMatchedCode].push(_)}}catch(e){v=!0,p=e}finally{try{!h&&y.return&&y.return()}finally{if(v)throw p}}e.orderList=u,e.dealerInfo={creatorName:s.dealerDebitContactPersonName,dealerName:f.dealerName_dealerDebit,dealerMobilePhone:s.dealerDebitContactInformation,dealerContactPersonName:s.dealerDebitContactPersonName,dealerCode:f.dealerDebit,dealerLabelName:f.drDealerLabel,province:f.province_dealerDebit,city:f.city_dealerDebit,county:f.county_dealerDebit,address:f.address_dealerDebit,payment:f.drDealerPaymentTerm,logistics:s.drDealerLogisticsTerms,pamentDays:f.daysOfAccount,accountExpirationDate:f.accountExpirationDate},e.warehouse={warehouseCode:f.containerCodeOut,warehouseName:f.warehouseName_containerCodeOut,warehouseType:f.warehouseType_containerCodeOut,warehouseProvince:f.warehouseProvince_containerCodeOut,warehouseCity:f.warehouseCity_containerCodeOut,warehouseDistrict:f.warehouseDistrict_containerCodeOut,warehouseAddress:f.warehouseAddress_containerCodeOut},e.orderInfo=s,e.workFlowInfoHandler()})}}}},"R/Ib":function(e,t){},RAYp:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"childPage"},[a("r-scroll",{ref:"bScroll",staticClass:"detail_content"},[a("div",{staticClass:"dealer_baseinfo has_margin"},[a("div",{staticClass:"baseInfo_top"},[a("div",{staticClass:"baseinfo_part"},[a("img",{attrs:{src:e.MatPic},on:{error:e.getDefaultImg}}),e._v(" "),a("div",{staticClass:"dealer_name"},[a("p",{staticClass:"name"},[e._v(e._s(e.dealer.dealerName))]),e._v(" "),a("p",{staticClass:"code"},[e._v("往来编码："),a("span",{staticClass:"symbol"}),e._v(e._s(e.dealer.dealerCode))])])]),e._v(" "),a("span",{staticClass:"dealer_status vux-1px",class:{no_use:"使用中"!==e.dealer.dealerStatus}},[e._v(e._s(e.dealer.dealerStatus))])]),e._v(" "),a("div",{staticClass:"baseinfo_address"},[a("span",{staticClass:"icon-address"}),e._v(" "),e.dealer.province||e.dealer.city||e.dealer.county||e.dealer.address?a("span",{staticClass:"address"},[e._v("\n          "+e._s(e.dealer.province)+e._s(e.dealer.city)+e._s(e.dealer.county)+e._s(e.dealer.address)+"\n        ")]):a("span",{staticClass:"address"},[e._v("暂无地址")])])]),e._v(" "),a("div",{staticClass:"dealer_other"},e._l(e.dealerConfig,function(t,n){return a("div",{key:n,staticClass:"each_property",class:{"vux-1px-b":n<e.dealerConfig.length-1}},[a("label",[e._v(e._s(t.fieldLabel)+":")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.dealer[t.fieldCode]||"无"))])])}),0),e._v(" "),e._l(e.dealerDuplicateConfig,function(t,n){return t.show?a("div",{key:""+n+t.name,staticClass:"d_main common_style"},e._l(e.formData[t.name],function(n,i){return e.formData[t.name].length?a("div",{key:i,staticClass:"content"},e._l(t.items,function(t,i){return a("div",{key:i,staticClass:"each_property vux-1px-b"},[a("label",[e._v(e._s(t.text)+":")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(n[t.fieldCode]||"无"))])])}),0):e._e()}),0):e._e()}),e._v(" "),a("div",{staticClass:"creator"},[a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("创建者:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.baseinfo.creatorName))])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("创建时间:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e._f("dateFormat")(e.baseinfo.crtTime)))])]),e._v(" "),e.baseinfo.modiferName?a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("修改者:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.baseinfo.modiferName))])]):e._e(),e._v(" "),e.baseinfo.modTime?a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("修改时间:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e._f("dateFormat")(e.baseinfo.modTime)))])]):e._e()])],2),e._v(" "),a("div",{staticClass:"modify_icon",on:{click:e.goEdit}},[a("span",{staticClass:"icon-edit"})])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"RBK+":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mater-list-item",class:{visited:e.item.visited}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.item.dealerName,expression:"item.dealerName"}],staticClass:"dealer-part"},[a("div",{staticClass:"order_dealer"},[a("span",{staticClass:"icon-dealer"}),e._v(" "),a("span",{staticClass:"dealer_name"},[e._v(e._s(e.item.dealerName))])]),e._v(" "),a("div",{staticClass:"order_status"},[a("span",{class:e.item.statusClass},[e._v(e._s(e.item.biStatus))])])]),e._v(" "),e.istransCodeBottom?e._e():a("div",{staticClass:"duty-top"},[a("div",{staticClass:"duty_code"},[a("div",{staticClass:"code"},[a("label",[e._v("交易号：")]),e._v(" "),a("span",[e._v(e._s(e.item.transCode))])]),e._v(" "),e.item.dealerName?a("div",{staticClass:"order_biProStatus"},[e._v(e._s(e.item.processStatus||"暂无流程"))]):a("div",{staticClass:"order_status"},[a("span",{class:e.item.statusClass},[e._v(e._s(e.item.biStatus))])])])]),e._v(" "),e.isWarehouse?a("div",{staticClass:"warehouse-part"},[a("div",{staticClass:"warehouse"},[e.item.warehouseName_containerCode?a("span",{staticClass:"warehouse_in"},[e._v("入库 - "+e._s(e.item.warehouseName_containerCode))]):e._e(),e._v(" "),e.item.warehouseName_containerCodeOut?a("span",{staticClass:"warehouse_out"},[e._v("出库 - "+e._s(e.item.warehouseName_containerCodeOut))]):e._e()]),e._v(" "),a("div",{staticClass:"order_biProStatus"},[e._v(e._s(e.item.processStatus||"暂无流程"))])]):e._e(),e._v(" "),a("div",{staticClass:"order-main vux-1px-b",class:{has_margin:e.noCount}},[a("ul",{staticClass:"duty_matter"},e._l(e.item.detailItem,function(t,n){return n<3?a("li",{key:n,staticClass:"duty_matter_item",class:{"is-matched-mat":t.matchedMat}},[a("div",{staticClass:"matter_img"},[a("img",{attrs:{src:t.inventoryPic},on:{error:function(a){e.getDefaultImg(t)}}})]),e._v(" "),a("div",{staticClass:"matter_main",class:{"vux-1px-b":n<e.item.detailItem.length-1}},[a("div",{staticClass:"main_top"},[a("div",{staticClass:"matter_name"},[e._v(e._s(t.inventoryName))]),e._v(" "),a("div",{staticClass:"matter_units"},[a("div",[a("p",[e._v("编码: "+e._s(t.inventoryCode))]),e._v(" "),a("p",[a("span",[e._v("规格: "+e._s(t.specification_outPutMatCode||t.specification||"无"))]),e._v(" "),a("span",[e._v("单位: "+e._s(t.measureUnit_outPutMatCode||t.measureUnit||"无"))])])]),e._v(" "),a("div",{staticClass:"matter_num_part"},[e.noQty||null==t.assistQty?e._e():a("p",{staticClass:"mater_count"},[a("span",{staticClass:"symbol"},[e._v("x")]),e._v(e._s(e._f("toFixed")(t.assistQty))+"\n                ")]),e._v(" "),e.noQty||null!=t.assistQty?e._e():a("p",{staticClass:"mater_count"},[a("span",{staticClass:"symbol"},[e._v("x")]),e._v(e._s(e._f("toFixed")(t.tdQty))+"\n                ")])])]),e._v(" "),e.noPrice?e._e():a("div",{staticClass:"matter_price_part"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("toFixed")(t.price))+"\n            ")])])])]):e._e()}),0)]),e._v(" "),a("div",{staticClass:"order-count vux-1px-b"},[!e.noCount&&e.isDealerWarehouse?[a("div",{staticClass:"num"},[a("div",[a("span",[e._v("共"+e._s(e.item.itemCount)+"类商品")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.item.totalQty,expression:"item.totalQty"}]},[e._v("合计"+e._s(e.item.totalQty)+"件")])]),e._v(" "),a("div",{staticClass:"money"},[e._v("\n          价税小计："),a("span",{staticClass:"symbol"},[e._v("￥")]),a("span",{staticClass:"tdAmount"},[e._v(e._s(e._f("numberComma")(e._f("toFixed")(e.item.count),3)))])])])]:[a("div",{staticClass:"num"},[a("span",[e._v("共"+e._s(e.item.itemCount)+"类商品")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.item.totalQty,expression:"item.totalQty"}]},[e._v("合计"+e._s(e.item.totalQty)+"件")])]),e._v(" "),e.noCount?e._e():a("div",{staticClass:"money"},[e._v("\n        价税小计："),a("span",{staticClass:"symbol"},[e._v("￥")]),a("span",{staticClass:"tdAmount"},[e._v(e._s(e._f("numberComma")(e._f("toFixed")(e.item.count),3)))])])],e._v(" "),e.isDealerWarehouse?a("div",{staticClass:"order_biProStatus"},[e._v(e._s(e.item.processStatus||"暂无流程"))]):e._e()],2),e._v(" "),e.istransCodeBottom?a("div",{staticClass:"transcode-part vux-1px-b"},[a("label",[e._v("交易号：")]),e._v(" "),a("span",[e._v(e._s(e.item.transCode))])]):e._e(),e._v(" "),a("div",{staticClass:"duty-creator"},[a("p",{staticClass:"order_handler"},[a("label",[e._v("经办人：")]),e._v(" "),a("span",[e._v(e._s(e.item.handlerName))])]),e._v(" "),a("p",{staticClass:"order_handler"},[a("label",[e._v("修改时间：")]),e._v(" "),a("span",[e._v(e._s(e.item.modTime))])])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.item.itemCount>3,expression:"item.itemCount > 3"}],staticClass:"tips-part"},[a("span",[e._v("查看全部 "+e._s(e.item.itemCount)+" 条信息")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},REWi:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("rVsN"),r=n(i),s=a("KH7x"),o=n(s),l=a("Q+Ik"),d=n(l),u=a("4YfN"),c=n(u),f=a("Nk/b"),m=n(f),h=a("7g+Q"),v=n(h),p=a("z5TY"),C=n(p),y=a("vl8n"),_=n(y),g=a("PKHo"),b=n(g),w=a("XAqG"),I=a("5gKc"),x=n(I),D=a("WGJW"),P=n(D),S=a("1KNX"),k=n(S);t.default={name:"ApplyUserForm",data:function(){return{genderList:[{name:"男",value:"男",key:1},{name:"女",value:"女",key:0}],userTypeList:[{name:"长期有效",value:"长期有效",key:1},{name:"临时账户",value:"临时账户",key:0}],statusList:[{name:"使用中",value:"使用中",key:1},{name:"草稿",value:"草稿",key:3},{name:"停用",value:"停用",key:-1},{name:"未使用",value:"未使用",key:2}],codeReadOnly:!1,userData:{email:"",entityId:"",entityName:"",gender:"男",mobile:"",nickname:"",officePhone:"",photo:"",status:"使用中",termOfValidity:"",userCode:"",userType:"长期有效"},showDate:!1,PhoneWarn:!1,MobileWarn:!1,EmailWarn:!1,userCodeWarn:!1,colId:"",company:{},companyParams:{target:4}}},mixins:[b.default],components:{Picker:m.default,Popup:v.default,Group:C.default,RPicker:_.default,UploadImage:x.default,PopCompanyList:P.default,RScroll:k.default},methods:{onUpload:function(e){this.userData.photo="/H_roleplay-si/ds/download?width=128&height=128&url="+e.src},userTypeChange:function(e){"临时账户"===e&&(this.showDate=!0)},save:function(){var e=this,t={userCode:"工号",nickname:"姓名",mobile:"手机"};"临时账户"===this.userData.userType&&(t.termOfValidity="账户有效期"),t.entityName="公司";for(var a in this.userData)"string"==typeof this.userData[a]&&this.userData[a].indexOf(" ")>=0&&(this.userData[a]=this.userData[a].replace(/\s/g,""));var n=(0,c.default)({},this.userData),i=this.colId?w.updateUser:w.addUser,r="";if(this.userCodeWarn&&(r="工号已存在"),!r&&(0,d.default)(t).every(function(t){var a=(0,o.default)(t,2),n=a[0],i=a[1];return!!e.userData[n]||(r=i+"不能为空",!1)}),!r&&this.PhoneWarn&&(r="座机格式不正确"),!r&&this.EmailWarn&&(r="邮箱格式不正确"),r)return void this.$vux.alert.show({content:r});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=e.genderList.find(function(e){return e.value===n.gender}),a=e.userTypeList.find(function(e){return e.value===n.userType}),r=e.statusList.find(function(e){return e.value===n.status});n.gender=t.key,n.userType=a.key,n.status=r.key,console.log(n),i(n).then(function(t){e.$HandleLoad.hide();var a=t.success,n=void 0===a||a,r=t.message,s=void 0===r?"提交失败":r;n&&(s=i===w.addUser?"提交成功":"修改成功",e.$emit("change",!0)),e.$vux.alert.show({content:s,onHide:function(){n&&e.$router.go(-1)}})}).catch(function(t){e.$HandleLoad.hide()})}})},getDefaultImg:function(){this.userData.photo=a("CcG0")},selCompany:function(e){this.userData.entityName=e.groupName,this.userData.entityId=e.groupCode},getDate:function(){var e=this;this.$vux.datetime.show({confirmText:"确定",cancelText:"取消",value:this.userData.termOfValidity,onConfirm:function(t){e.userData.termOfValidity=t}})},checkPhone:function(){var e=/^0\d{2,3}-\d{7,8}$/;if(this.userData.officePhone.length>0&&!e.test(this.userData.officePhone))return void(this.PhoneWarn=!0);this.PhoneWarn=!1},checkMobile:function(){var e=/^[1][34578][0-9]{9}$/;if(this.userData.mobile.length>0&&!e.test(this.userData.mobile))return void(this.MobileWarn=!0);this.MobileWarn=!1},checkUserCode:function(){var e=this;(0,w.validateCode)(this.userData.userCode).then(function(t){var a=t.result,n=void 0===a?0:a;e.userCodeWarn=!1,n&&(e.userCodeWarn=!0,e.$vux.alert.show({content:"工号已存在"}))}).catch(function(t){e.userCodeWarn=!0})},checkEmail:function(){var e=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;if(this.userData.email.length>0&&!e.test(this.userData.email))return void(this.EmailWarn=!0);this.EmailWarn=!1},getFormData:function(){var e=this;return(0,w.getUserDetail)(this.colId).then(function(t){var a=t.tableContent,n=void 0===a?[]:a,i=(0,o.default)(n,1),r=i[0],s=void 0===r?{}:r,l=["女","男"],d=["","使用中","未使用","草稿"],u=["临时账户","长期有效"];s.gender=l[s.gender]||"未知",s.status=d[s.status]||"停用",s.userType=u[s.userType],"临时账户"===s.userType&&(e.showDate=!0),e.company={groupCode:s.entityId,groupName:s.entityName},e.userData=(0,c.default)({},e.userData,s),e.$loading.hide()})}},created:function(){var e=this;this.$loading.show();var t=this.$route.query.colId,a=void 0===t?"":t,n=[];a&&(this.colId=a,this.codeReadOnly=!0,n.push(this.getFormData())),r.default.all(n).then(function(){e.$loading.hide()})}}},RGJm:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("3cXf"),o=n(s),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("u28h"),C=n(p),y=a("PzEQ"),_=n(y),g=a("kNGm"),b=(n(g),a("jnZd")),w=n(b),I=(a("0AQX"),a("Z6x5")),x=a("HyXB"),D=a("bKg5"),P=n(D),S=a("vl8n"),k=n(S),L=a("+WR7"),N=n(L),M=a("iikc"),T=n(M);t.default={data:function(){return{listId:"da7f15cc-d2d7-11e8-b8ca-0279b2c6a380",formData:{biId:"",biComment:"",biProcessStatus:""},biReferenceId:"",MobileWarn:!1,idCardWarn:!1,groupList:[],roleList:[]}},components:{Cell:c.default,Group:m.default,XInput:v.default,Datetime:C.default,XTextarea:_.default,PopupPicker:w.default,RPicker:k.default,PopBaseinfo:N.default,PopSalesmanList:T.default},mixins:[P.default],methods:{getAllGroup:function(){var e=this;(0,I.getAllGroup)().then(function(t){var a=[];t.tableContent.forEach(function(e){a.push(e.groupName)}),e.groupList.push(a)})},getAllRoleInfo:function(){var e=this;(0,I.getAllRoleInfo)().then(function(t){var a=[];t.tableContent.forEach(function(e){a.push(e.roleName)}),e.roleList.push(a)})},submitOrder:function(){var e=this,t="",a=[{key:"turnoverName",message:"员工"}];if(t||a.every(function(a){return!!e.formData[a.key]||(t="请选择"+a.message,!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=x.saveAndStartWf,a=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,turnoverDepartMent:e.formData.turnoverDepartMent&&e.formData.turnoverDepartMent[0],turnoverPost:e.formData.turnoverPost&&e.formData.turnoverPost[0]}),n={listId:e.listId,biComment:"",formData:(0,o.default)(a)};e.isResubmit&&(t=x.saveAndCommitTask,n.biReferenceId=e.biReferenceId,n.wfPara=(0,o.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=x.submitAndCalc,delete n.wfPara,delete n.biReferenceId),e.biReferenceId&&(n.biReferenceId=e.biReferenceId),e.saveData(t,n)}})},hasDraftData:function(){var e=this.formData;if(e.profileName||e.idCard)return(0,r.default)({},"YGLZ_DATA",{formData:e})}},created:function(){this.getAllGroup(),this.getAllRoleInfo();var e=sessionStorage.getItem("YGLZ_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,sessionStorage.removeItem("YGLZ_DATA")}}}},RHLq:function(e,t){},RJZk:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.contactInfo,configs:e.dealerConfig}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"order-list":e.orderList,noTaxAmount:e.noTaxAmount,taxAmount:e.taxAmount,count:e.count},scopedSlots:e._u([{key:"orderTitle",fn:function(t){return[a("span",{staticClass:"order_title"},[e._v("销售合同号：")])]}},{key:"matterOther",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("属性: "+e._s(n.tdProcessing||"无"))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.taxRate,expression:"item.taxRate"}]},[e._v("税率: "+e._s(n.taxRate))]),e._v(" "),a("span",[e._v("合同数量: "+e._s(n.thenTotalQtyBal))]),e._v(" "),a("span",[e._v("已下单: "+e._s(n.thenLockQty))]),e._v(" "),a("span",[e._v("待下单: "+e._s(n.thenQtyBal))])]),e._v(" "),a("div",{staticClass:"mater_attribute"},[a("span",[e._v("交付开始日: "+e._s(n.dateActivation))]),e._v(" "),a("span",[e._v("预期交货日: "+e._s(n.promDeliTime))])]),e._v(" "),a("div",{staticClass:"mater_attribute"},[a("span",[e._v("交付截止日: "+e._s(n.executionDate))])]),e._v(" "),a("div",{staticClass:"mater_num"},[a("span",{staticClass:"num"},[e._v("单价: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.price),3)))]),e._v(" "),a("span",{staticClass:"num"},[e._v("本次下单: "+e._s(e._f("toFixed")(n.tdQty)))])]),e._v(" "),a("div",{staticClass:"mater_price"},[a("span",[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(n.tdAmount),3)))]),e._v(" "),n.taxRate?a("span",{staticClass:"num",style:{display:n.tdAmount&&n.tdAmount.toString().length>=5?"block":""}},[e._v("\n                [金额: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.noTaxAmount),3))+" + 税金: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.taxAmount),3))+"]\n              ")]):e._e()])])]}}])}),e._v(" "),a("div",{staticClass:"comment-part"},[e.count?a("price-total",{attrs:{amt:e.noTaxAmount,"tax-amt":e.taxAmount,count:e.count}}):e._e(),e._v(" "),a("div",{staticClass:"comment-container"},[a("span",{staticClass:"comment_title"},[e._v("备注：")]),e._v(" "),a("span",{staticClass:"comment_value"},[e._v(e._s(e.orderInfo.biComment||"无"))])]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":""}})],1),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},RMtk:function(e,t,a){"use strict";function n(e){a("Oysh")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("PN9S");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("TDh+"),o=a.n(s),l=a("ZaIh"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-47982b74",null);t.default=c.exports},RPHI:function(e,t){},RPsT:function(e,t){},RPzs:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("KH7x"),r=n(i),s=a("3QQJ"),o=n(s);t.default={name:"TodoItem",props:{item:{type:Object,default:function(){return{}}},name:{type:String,default:""},noBorder:{type:Boolean,default:!1}},components:{Badge:o.default},data:function(){return{}},methods:{getDefaultImg:function(e){var t=a("CYNT");return e&&(e.pic=t),t}},filters:{handleCrt:function(e){if(e){var t=(0,r.default)(e,1),a=t[0],n=void 0===a?{}:a,i=n.duration,s=parseInt(i/3600),o=i-3600*s,l=Math.floor(o/60),d=o-60*l,u=(Math.round(d),void 0);return u=s>0?s+"小时前":0===l?"1分钟前":l+"分钟前",s<24?u:""+n.crtTime.split(" ")[0]}}}}},RROt:function(e,t){},RS8G:function(e,t){},"RT/a":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages xsbj-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[e.matterList.length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.matterList,function(t,n){return a("div",{key:n,staticClass:"each_mater",class:{mater_delete:e.matterModifyClass,"vux-1px-b":n<e.matterList.length-1}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass,config:e.matterEditConfig.property},on:{"on-modify":function(a){e.modifyMatter(t,n)}},nativeOn:{click:function(a){e.delClick(n,t)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[n.price&&n.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price)+"\n                    ")]),e._v(" "),a("div",[a("r-number",{attrs:{num:n.tdQty,checkAmt:e.checkAmt(n)},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",t)},expression:"item.tdQty"}})],1)]):e._e()]}},{key:"edit",fn:function(t){var i=t.item;return[i.tdQty||e.matterModifyClass?e._e():a("div",{staticClass:"mater_other",on:{click:function(t){e.modifyMatter(i,n)}}},[a("div",{staticClass:"edit-tips"},[a("span",{staticClass:"tips-word"},[e._v("点击进行填写")])])])]}},{key:"editPart",fn:function(t){var i=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:i.tdQty&&!e.matterModifyClass,expression:"item.tdQty && !matterModifyClass"}],staticClass:"edit-part vux-1px-l",on:{click:function(t){e.modifyMatter(i,n)}}},[a("span",{staticClass:"iconfont icon-bianji1"})])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(n,t)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)}),0)]:[a("div",{on:{click:function(t){e.showMaterielPop=!e.showMaterielPop}}},[a("div",{staticClass:"title"},[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择"+e._s(e.orderListTitle))]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part vx-1px-t"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),e.matterList.length?a("span",{staticClass:"add_more",on:{click:e.addMatter}},[e._v("新增更多物料")]):e._e()]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showMaterielPop,"default-value":e.matterList,config:e.matterPopConfig,"matter-params":e.matterParams},on:{"sel-matter":e.selMatter},model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}})],2),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.consumables,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,config:e.matterEditConfig},on:{"sel-confirm":e.selConfirm},model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num"},[a("span",{staticStyle:{fontSize:".14rem"}},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.tdAmount,3))+"\n      ")]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.save}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},RTBc:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("5YEj");t.default={data:function(){return{toggle:!1,chartList:["饼状","线性","柱状"],option:{},activeIndex:0,chart:null}},methods:{changeTip:function(e){this.activeIndex=e,0===e?this.option={title:{itemGap:20,top:20,x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",bottom:20,left:20,selectedMode:!1,data:["直接访问","邮件营销","联盟广告","视频广告","搜索引擎"]},series:[{name:"访问来源",type:"pie",radius:"50%",center:["40%","50%"],data:[{value:335,name:"直接访问"},{value:310,name:"邮件营销"},{value:234,name:"联盟广告"},{value:135,name:"视频广告"},{value:1548,name:"搜索引擎"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}:1===e?this.option={title:{text:"一天用电量分布",subtext:"纯属虚构",top:5,x:"center"},grid:{height:"10%"},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},xAxis:{type:"category",boundaryGap:!1,data:["00:00","01:15","02:30","03:45","05:00","06:15","07:30","08:45","10:00","11:15","12:30","13:45","15:00","16:15","17:30","18:45","20:00","21:15","22:30","23:45"]},yAxis:{type:"value",splitNumber:10,axisLabel:{margin:2,formatter:"{value} W"},axisPointer:{snap:!0}},visualMap:{show:!1,dimension:0,pieces:[{lte:6,color:"green"},{gt:6,lte:8,color:"red"},{gt:8,lte:14,color:"green"},{gt:14,lte:17,color:"red"},{gt:17,color:"green"}]},series:[{name:"用电量",type:"line",smooth:!0,data:[300,280,250,260,270,300,550,500,400,390,380,390,400,500,600,750,800,700,600,400]}]}:2===e&&(this.option={title:{text:"动态数据",subtext:"纯属虚构"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#283b56"}}},legend:{data:["最新成交价","预购队列"]},dataZoom:{show:!1,start:0,end:100},xAxis:[{type:"category",boundaryGap:!0,data:function(){for(var e=new Date,t=[],a=10;a--;)t.unshift(e.toLocaleTimeString().replace(/^\D*/,"")),e=new Date(e-2e3);return t}()},{type:"category",boundaryGap:!0,data:function(){for(var e=[],t=10;t--;)e.push(10-t-1);return e}()}],yAxis:[{type:"value",scale:!0,name:"价格",max:30,min:0,boundaryGap:[.2,.2]},{type:"value",scale:!0,name:"预购量",max:1200,min:0,boundaryGap:[.2,.2]}],series:[{name:"预购队列",type:"bar",xAxisIndex:1,yAxisIndex:1,data:function(){for(var e=[],t=10;t--;)e.push(Math.round(1e3*Math.random()));return e}()},{name:"最新成交价",type:"line",data:function(){for(var e=[],t=0;t<10;)e.push((10*Math.random()+5).toFixed(1)-0),t++;return e}()}]}),this.showPie()},showPie:function(){this.chart&&this.chart.clear(),this.chart=n.init(document.getElementById("main")),this.chart.setOption(this.option)}},mounted:function(){this.option={title:{},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{left:0,bottom:0,selectedMode:!1,data:["直接访问","邮件营销","联盟广告","视频广告","搜索引擎","其他"]},series:[{name:"访问来源",type:"pie",radius:"60%",labelLine:{},center:["50%","50%"],data:[{value:335,name:"直接访问"},{value:310,name:"邮件营销"},{value:234,name:"联盟广告"},{value:135,name:"视频广告"},{value:1548,name:"搜索引擎"},{value:100,name:"其他"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},this.showPie()}}},RXIz:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("+62G"),o=n(s),l=a("7g+Q"),d=n(l),u=a("z5TY"),c=n(u),f=a("HXPS"),m=n(f),h=a("d5Kw"),v=n(h),p=a("kNGm"),C=n(p),y=a("1KNX"),_=n(y),g=a("I8ug");t.default={name:"ChangeLog",props:{handle:{type:Boolean,default:!1}},data:function(){return{latestLog:{},changeLogList:[],listId:"a4897429-f4f2-44a4-ade7-2fe8dc67c3cf",popupShow:!1,page:1,limit:10,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},directives:{TransferDom:o.default},components:{Popup:d.default,Group:c.default,Icon:m.default,XButton:v.default,RScroll:_.default},filters:{handerTime:function(e){return(0,C.default)(e,"YYYY-MM-DD")}},methods:{getChangeList:function(){var e=this;return(0,g.getChangeLog)({listId:this.listId,limit:this.limit,page:this.page}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,s=void 0===i?[]:i;1===e.page&&(e.latestLog=s[0]),e.hasNext=n>(e.page-1)*e.limit+s.length,e.changeLogList=1===e.page?s:[].concat((0,r.default)(e.changeLogList),(0,r.default)(s)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},onPullingUp:function(){this.page++,this.getChangeList()},closePop:function(){this.popupShow=!1},onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},EditLog:function(){this.$router.push({path:"/appDetail/"+this.listId+"/addLog"})}},created:function(){var e=this.$route.params.listId;e&&(this.listId=e,this.getChangeList())}}},RZF6:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("kNGm"),r=(n(i),a("0AQX")),s=a("+VRO"),o=n(s),l=a("AupE"),d=n(l),u=a("BUFe"),c=n(u),f=a("bFc7"),m=n(f),h=a("3NX5"),v=n(h);t.default={data:function(){return{orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},uploadStyle:{width:"100%",padding:"0.06rem 0.1rem"}}},mixins:[o.default],components:{workFlow:d.default,RAction:c.default,contactPart:m.default,MatterList:v.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,r.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=o,e.orderInfo=r,e.contactInfo={dealerName:r.dealerName_launchDealerCode,dealerMobilePhone:r.dealerDebitContactInformation,dealerContactPersonName:r.dealerDebitContactPersonName},e.workFlowInfoHandler()})},goEdit:function(){var e=this.$route.params,t=e.folder,a=e.fileName,n=this.$route.query.name;this.$router.push({path:"/fillform/"+t+"/"+a,query:{name:n,transCode:this.transCode}})}}}},RbKA:function(e,t,a){"use strict";function n(e){a("qq/E")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("NvkL");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("STJc"),o=a.n(s),l=a("0hhl"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-365ac08a",null);t.default=c.exports},RbVM:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("a3Yh"),o=n(s),l=a("3cXf"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("7g+Q"),C=n(p),y=a("PzEQ"),_=n(y),g=a("jnZd"),b=n(g),w=a("u28h"),I=n(w),x=a("kNGm"),D=n(x),P=a("0AQX"),S=a("HyXB"),k=(a("jLp1"),a("bKg5")),L=n(k),N=a("55ug"),M=n(N),T=a("wuIh"),A=n(T),O=a("vl8n"),R=n(O),j=a("+WR7"),B=n(j),E=a("zWMP"),F=a("Qg39");t.default={mixins:[L.default],components:{Cell:c.default,Group:m.default,Popup:C.default,XInput:v.default,XTextarea:_.default,PopupPicker:b.default,RPicker:R.default,PopBaseinfo:B.default,PopDealerList:M.default,PopMoneyOrderList:A.default,Datetime:I.default},data:function(){return{listId:"bb9ce973-2f62-4707-a54c-7e8605dc99d6",biReferenceId:"",selectedCost:[],costIndex:0,transCode:"",formData:{biComment:""},dealerInfo:{},showOrder:!1,orderList:[]}},computed:{thenTotalAmntBal:function(){var e=0;return this.orderList.forEach(function(t){t.tdAmount&&(e=(0,E.accAdd)(e,t.tdAmount))}),(0,F.toFixed)(e)}},methods:{submitOrder:function(){var e=this,t="",a=[],n=[{key:"draftNumber",message:"请选择协议号"},{key:"draftType",message:"请选择类型"},{key:"accepter",message:"请选择承兑人"},{key:"tdAmount",message:"请输入金额"},{key:"draftDate",message:"请选择出票日"},{key:"draftDueDate",message:"请选择到期日"},{key:"draftSellDate",message:"请选择出让日期"}];if(this.dealerInfo.dealerCode||(t="请选择往来"),t||this.orderList.length||(t="请选择汇票明细"),t||this.orderList.every(function(e){return n.every(function(a){return e[a.key]||0===e[a.key]||(t=a.message),!t}),a.push({tdId:e.tdId||"",draftNumber:e.draftNumber,draftType:e.draftType,accepter:e.accepter,tdAmount:e.tdAmount,draftDate:e.draftDate,draftDueDate:e.draftDueDate,draftSellDate:e.draftSellDate,comment:e.comment}),!t}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=S.saveAndStartWf,n=(0,o.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,d.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.formData.biComment,formData:(0,d.default)((0,r.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{dealerName_dealerDebit:e.dealerInfo.nickname,dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,thenAmntBal:e.dealerInfo.amntBal,thenTotalAmntBal:e.thenTotalAmntBal,dataSet:a}})),wfPara:(0,d.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=S.saveAndCommitTask),e.processCode.length||(t=S.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.attachment,n=void 0===a?[]:a,i=t.listId,s=void 0===i?"":i,o=(t.biComment,t.biReferenceId),l=void 0===o?"":o,d=t.formData,u=void 0===d?{}:d;e.attachment=n,e.listId=s,e.biReferenceId=l,e.handlerDefault={handler:u.handler,handlerName:u.handlerName,handlerUnit:u.handlerUnit,handlerUnitName:u.handlerUnitName,handlerRole:u.handlerRole,handlerRoleName:u.handlerRoleName},e.formData=(0,r.default)({},e.formData,e.handlerDefault,{biComment:u.biComment,biId:u.biId,biProcessStatus:u.biProcessStatus,creator:u.creator,modifer:u.modifer});var c=u.order,f=void 0===c?{}:c,m=f.dataSet,h=void 0===m?[]:m;e.dealerInfo={nickname:f.dealerName_dealerDebit,dealerCode:f.dealerDebit,dealerLabelName:f.drDealerLabel,amntBal:f.thenAmntBal},e.orderList=h,e.$loading.hide()})},hasDraftData:function(){return!!this.dealerInfo.dealerCode&&(0,o.default)({},"CRCDHP_DATA",{formData:this.formData,dealerInfo:this.dealerInfo,orderList:this.orderList})},getRelationData:function(){},selDealer:function(e){this.dealerInfo=(0,r.default)({},e)},selOrder:function(e){e.forEach(function(e){e.hasOrigin=!0,e.originAmt=e.tdAmount,e.draftDate=(0,D.default)(e.draftDate,"YYYY-MM-DD"),e.draftDueDate=(0,D.default)(e.draftDueDate,"YYYY-MM-DD")}),this.orderList=e},addOrder:function(){this.showOrder=!0},checkAmt:function(e,t){var a=e.hasOrigin,n=void 0!==a&&a,i=e.originAmt,r=void 0===i?0:i,s=e.tdAmount,o=void 0===s?0:s;n&&o>r&&(o=r),e.tdAmount=Math.abs((0,F.toFixed)(o))}},created:function(){var e=sessionStorage.getItem("CRCDHP_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.orderList=t.orderList,sessionStorage.removeItem("CRCDHP_DATA")}}}},Rg2x:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("BGNQ"),o=n(s),l=a("z5TY"),d=n(l),u=a("jLp1"),c=a("+VRO"),f=n(c);t.default={data:function(){return{projectPlan:{},comment:{},projectApproval:{}}},filters:{timeSplit:function(e){return e?e.split(" ")[0]:""}},mixins:[f.default],components:{Group:d.default,Cell:o.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u.findProjectPlan)(t).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=t.attachment,s=void 0===i?[]:i;e.projectPlan=n.projectPlan,e.comment=n.comment,e.attachment=s,e.projectApproval=n.projectApproval,e.orderInfo=(0,r.default)({},n.baseinfo,{biStatus:"已生效"})})}},created:function(){}}},RgoX:function(e,t){},RhTD:function(e,t){},RiJb:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.noUpload&&e.defaultValue.length||!e.noUpload?a("div",{staticClass:"upload-file-container",class:{"no-upload":e.noUpload,"vux-1px-t":e.noUpload},style:e.containStyle},[a("p",{staticClass:"title",style:e.titleStyle},[e._v("附件")]),e._v(" "),a("div",{staticClass:"upload-file-list"},[e._l(e.files,function(t,n){return a("div",{key:n,staticClass:"upload-file-item"},["image"===t.iconType?[a("img",{staticClass:"img",attrs:{src:"/H_roleplay-si/ds/download?url="+t.attacthment+"&width=400&height=400"},on:{click:function(a){a.stopPropagation(),e.preview(t)}}})]:[e._v("\n        "+e._s(t.attr1)+"\n      ")],e._v(" "),e.noUpload?e._e():a("i",{staticClass:"iconfont icon-shanchu",on:{click:function(a){e.deleteFile(t)}}})],2)}),e._v(" "),e.noUpload?e._e():a("div",{staticClass:"upload-file-item",on:{click:e.chooseImage}},[a("label",{staticClass:"upload-file-add"}),e._v(" "),e._m(0)])],2)]):e._e()},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"icon_container"},[a("span",{staticClass:"iconfont icon-fujian"})])}],r={render:n,staticRenderFns:i};t.a=r},RkIG:function(e,t){},Rozl:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("+62G"),v=n(h),p=a("6q39"),C=n(p),y=a("vS5q"),_=a("1KNX"),g=n(_),b=a("7biW"),w=n(b);t.default={name:"PopWarehouseList",props:{title:{type:String,default:"仓库列表"},defaultValue:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1},isRequired:{type:Boolean,default:!1}},directives:{TransferDom:v.default},components:{Icon:c.default,Popup:m.default,RScroll:g.default,DSearch:w.default,LoadMore:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},showAddWarehouse:!1}},computed:{tip:function(){var e="加载中";return this.hasNext||(e="暂无数据"),e},noAddress:function(){var e=this.selItems,t=e.warehouseProvince,a=void 0===t?"":t,n=e.warehouseCity,i=void 0===n?"":n,r=e.warehouseDistrict,s=void 0===r?"":r,o=e.warehouseAddress,l=void 0===o?"":o;return!(a||i||s||l)}},watch:{defaultValue:function(e){this.setDefaultValue()}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1,this.$emit("on-hide")},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this.getList()},showSelIcon:function(e){return this.selItems.warehouseCode===e.warehouseCode},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.$emit("sel-item",this.selItems)},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"warehouseName"}])),(0,y.getWarehouse)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.showAddWarehouse=e.srhInpTx&&0===r.length,e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,d.default)(e.listData),(0,d.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.selItems=this.defaultValue?(0,r.default)({},this.defaultValue):{}},warehouseClick:function(){this.disabled||(this.$emit("on-show"),this.showPop=!this.showPop)},addWarehouse:function(){this.$router.push({path:"/warehouse/edit_warehouse",query:{add:1}})}},created:function(){this.setDefaultValue(),this.disabled||this.getList()}}},RpJn:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("IHPB"),o=n(s),l=a("3cXf"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("+62G"),v=n(h),p=a("6q39"),C=n(p),y=a("HyXB"),_=a("1KNX"),g=n(_),b=a("7biW"),w=n(b);t.default={name:"PopManagerList",props:{defaultValue:{type:Object,default:function(){return{}}},show:{type:Boolean,default:!1}},directives:{TransferDom:v.default},components:{Icon:c.default,Popup:m.default,RScroll:g.default,DSearch:w.default,LoadMore:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},computed:{tip:function(){var e="加载中";return this.hasNext||(e="暂无数据"),e}},watch:{show:function(e){this.showPop=e},defaultValue:function(e){this.setDefaultValue()}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1,this.$emit("input",!1)},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this.getList()},showSelIcon:function(e){return this.selItems.dealerName===e.dealerName},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.$emit("sel-item",(0,d.default)(this.selItems))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:"dealerName"}])),(0,y.getObjDealerByLabelName)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,dealerLabelName:"员工",filter:(0,d.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,o.default)(e.listData),(0,o.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.selItems=this.defaultValue?(0,r.default)({},this.defaultValue):{}}},created:function(){this.setDefaultValue(),this.getList()}}},Rw15:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("bFc7"),p=n(v),C=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",contactInfo:{}}},mixins:[u.default],components:{workFlow:h.default,RAction:f.default,contactPart:p.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=!0,i=!1,s=void 0;try{for(var l,d=(0,r.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;e.count=(0,C.accAdd)(e.count,u.tdAmount)}}catch(e){i=!0,s=e}finally{try{!n&&d.return&&d.return()}finally{if(i)throw s}}t.formData.validUntil=(0,o.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData;var c=e.orderInfo.order;e.contactInfo={creatorName:c.dealerDebitContactPersonName,dealerName:c.dealerName_dealerDebit,dealerMobilePhone:e.orderInfo.dealerDebitContactInformation,dealerContactPersonName:e.orderInfo.dealerDebitContactPersonName,dealerCode:c.dealerDebit,dealerLabelName:c.dealerName_dealerDebit,province:c.province_dealerDebit,city:c.city_dealerDebit,county:c.county_dealerDebit,address:c.address_dealerDebit},e.workFlowInfoHandler()})}}}},RwDF:function(e,t){},RwbX:function(e,t){},RxFs:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("kNGm"),r=(n(i),a("0AQX")),s=a("+VRO"),o=n(s);t.default={data:function(){return{userData:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},uploadStyle:{width:"100%",padding:"0.06rem 0.1rem"}}},mixins:[o.default],methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,r.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=o,e.userData=r,e.workFlowInfoHandler()})},goEdit:function(){var e=this.$route.params,t=e.folder,a=e.fileName,n=this.$route.query.name;this.$router.push({path:"/fillform/"+t+"/"+a,query:{name:n,transCode:this.transCode}})}}}},"Rxk/":function(e,t,a){"use strict";function n(e){a("cU2r")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("iMG+");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("SyAi"),o=a.n(s),l=a("+p9h"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-2ed5033e",null);t.default=c.exports},RzhK:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("J0Oq"),o=n(s),l=a("3cXf"),d=n(l),u=a("KH7x"),c=n(u),f=a("Q+Ik"),m=n(f),h=a("4YfN"),v=n(h),p=a("ZLEe"),C=n(p),y=a("HzJ8"),_=n(y),g=a("+62G"),b=n(g),w=a("7g+Q"),I=n(w),x=a("z5TY"),D=n(x),P=a("SAzG"),S=n(P),k=a("jnZd"),L=n(k),N=a("BGNQ"),M=n(N),T=a("vl8n"),A=n(T),O=a("5gKc"),R=n(O),j=a("1KNX"),B=n(j),E=a("RbKA"),F=n(E),U=a("w5TH"),$=n(U),Q=a("y8YJ"),H=n(Q),V=a("PKHo"),q=n(V),Y=a("I3vJ"),X=a("HyXB"),G=a("Qg39");t.default={data:function(){return{listId:"78a798f8-0f3a-4646-aa8b-d5bb1fada28c",biReferenceId:"",MatPic:"",picShow:!1,baseinfo:{handler:"",handlerName:"",handlerArea:"",handlerAreaName:"",handlerUnit:"",handlerUnitName:"",handlerRole:"",handlerRoleName:"",activeTime:"",comment:""},inventory:{inventoryCode:"",inventoryName:"",processing:"",inventoryType:"",inventorySubclass:"",measureUnit:"",specification:"",material:"",inventoryColor:"",keepingDays:1,safeStock:0,nearKeepingDays:1,inventoryStatus:"",inventoryPic:"",comment:"",technicsCode:"",leadTime:"",procedureName:"",procedureCode:"",moq:""},transCode:"",hasDefault:!1,imgFileObj:{},imgFile:null,codeReadOnly:!1,submitSuccess:!1,inventoryStatus:"使用中",scrollOptions:{click:!0},matterConfig:[],matterDuplicateConfig:[],matterDuplicateData:{},viewId:""}},computed:{nearKeepingDays:function(){var e=this.inventory.keepingDays;return e||0===e?e>=365?45:e>=183?20:e>=90?15:e>=30?10:e>=10?2:1:0},leadTimeTitle:function(){var e=this.inventory.processing,t=["原料","商品"],a=["半成品","成品","模具"];return t.includes(e)?"采购提前期":a.includes(e)?"加工提前期":""},inventoryProcessing:function(){return this.inventory.processing},inventoryType:function(){return this.inventory.inventoryType},MoreUnit:function(){return this.matterDuplicateData.invMoreUnit}},watch:{inventoryProcessing:function(e){var t=this;if(!this.hasDefault){var a="",n="",i=!0,r=!1,s=void 0;try{for(var o,l=(0,_.default)(this.matterConfig);!(i=(o=l.next()).done);i=!0){var d=o.value;if("break"===function(i){if("processing"===i.fieldCode){var r=!0,s=!1,o=void 0;try{for(var l,d=(0,_.default)(i.remoteData);!(r=(l=d.next()).done);r=!0){var u=l.value;if(u.name===e){a=u.id,n=u.type;break}}}catch(e){s=!0,o=e}finally{try{!r&&d.return&&d.return()}finally{if(s)throw o}}}if("multipleAccess"===i.fieldCode&&(i.requestParams.data.sType=t.inventory.processing,console.log(""),(0,X.requestData)(i.requestParams).then(function(e){var a=e.tableContent,n=void 0===a?[]:a;n.length?(n.forEach(function(e){e.name=e.sName,e.value=e.sName}),t.inventory.multipleAccess=n[0].name):t.inventory.multipleAccess="",i.remoteData=n})),"inventoryType"===i.fieldCode)return(0,C.default)(i.requestParams.data).forEach(function(e){"parentId"===e?i.requestParams.data[e]=a:"value"===e&&(i.requestParams.data[e]=n)}),(0,X.requestData)(i.requestParams).then(function(e){null!=e.tableContent?(e.tableContent.length?(e.tableContent.forEach(function(e){e.originValue=e.value,e.value=e.name}),t.inventory.inventoryType=e.tableContent[0].name):t.inventory.inventoryType="",i.remoteData=e.tableContent):(e.length?(e.forEach(function(e){e.originValue=e.value,e.value=e.name}),t.inventory.inventoryType=e[0].name):t.inventory.inventoryType="",i.remoteData=e)}),"break"}(d))break}}catch(e){r=!0,s=e}finally{try{!i&&l.return&&l.return()}finally{if(r)throw s}}}},inventoryType:function(e){var t=this;if(!this.hasDefault){var a="",n="",i=!0,r=!1,s=void 0;try{for(var o,l=(0,_.default)(this.matterConfig);!(i=(o=l.next()).done);i=!0){var d=o.value;if("break"===function(i){if("inventoryType"===i.fieldCode){var r=!0,s=!1,o=void 0;try{for(var l,d=(0,_.default)(i.remoteData);!(r=(l=d.next()).done);r=!0){var u=l.value;if(u.name===e){a=u.id,n=u.type;break}}}catch(e){s=!0,o=e}finally{try{!r&&d.return&&d.return()}finally{if(s)throw o}}}if("inventorySubclass"===i.fieldCode)return(0,C.default)(i.requestParams.data).forEach(function(e){"parentId"===e?i.requestParams.data[e]=TypeParentId:"value"===e&&(i.requestParams.data[e]=n)}),(0,X.requestData)(i.requestParams).then(function(e){null!=e.tableContent?(e.tableContent.length?(e.tableContent.forEach(function(e){e.originValue=e.value,e.value=e.name}),t.inventory.inventorySubclass=e.tableContent[0].name):t.inventory.inventorySubclass="",i.remoteData=e.tableContent):(e.length?(e.forEach(function(e){e.originValue=e.value,e.value=e.name}),t.inventory.inventorySubclass=e[0].name):t.inventory.inventorySubclass="",i.remoteData=e)}),"break"}(d))break}}catch(e){r=!0,s=e}finally{try{!i&&l.return&&l.return()}finally{if(r)throw s}}}},MoreUnit:{handler:function(e){var t=this;e&&e.length&&e.forEach(function(e){if(t.inventory.measureUnit&&e.invSubUnitName&&e.invSubUnitMulti)return void(e.comment=""+e.invSubUnitMulti+t.inventory.measureUnit+"/"+e.invSubUnitName)})},deep:!0}},directives:{TransferDom:b.default},mixins:[q.default],components:{Popup:I.default,Group:D.default,RPicker:A.default,UploadImage:R.default,XInput:S.default,PopupPicker:L.default,RScroll:B.default,Cell:M.default,PopTechnicsList:F.default,PopProcedureList:$.default,PopDealerList:H.default},methods:{onUpload:function(e){console.log(e),this.inventory.inventoryPic=e.src},checkAmt:function(e){var t=e.invSubUnitMulti,a=e.invCompQty;t?e.invSubUnitMulti=Math.abs((0,G.toFixed)(t)):a&&(e.invCompQty=Math.abs((0,G.toFixed)(a)))},selTechnics:function(e){this.inventory=(0,v.default)({},this.inventory,{technicsName:e.technicsName,technicsCode:e.technicsCode})},save:function(){var e=this,t={inventoryCode:"物料编码",inventoryName:"物料名称",processing:"物料属性",measureUnit:"主计量单位"};for(var a in this.inventory)"string"==typeof this.inventory[a]&&this.inventory[a].indexOf(" ")>=0&&(this.inventory[a]=this.inventory[a].replace(/\s/g,""));switch(this.inventoryStatus){case"使用中":this.inventory.inventoryStatus=1;break;case"未使用":this.inventory.inventoryStatus=2;break;case"草稿":this.inventory.inventoryStatus=0;break;case"停用":this.inventory.inventoryStatus=-1}this.inventory.status&&delete this.inventory.status;var n=Y.save,i="";if((0,m.default)(t).every(function(t){var a=(0,c.default)(t,2),n=a[0],r=a[1];return!!e.inventory[n]||(i=r+"不能为空",!1)}),!i&&(0,C.default)(this.matterDuplicateData).length&&(0,C.default)(this.matterDuplicateData).forEach(function(t){if(e.matterDuplicateData[t].length<=0)return!1;e.matterDuplicateConfig.forEach(function(a){a.name===t&&a.items.forEach(function(a){a.hidden||e.matterDuplicateData[t].forEach(function(e){if(!a.allowBlank&&!e[a.fieldCode])return i=a.text+"不能为空",!1})})})}),i)return void this.$vux.alert.show({content:i});var r={baseinfo:this.baseinfo,inventory:(0,v.default)({},this.inventory,{nearKeepingDays:this.nearKeepingDays,leadTime:this.leadTimeTitle?this.inventory.leadTime:""})};this.matterDuplicateConfig.forEach(function(t){e.matterDuplicateData[t.name].length&&(r[t.name]=e.matterDuplicateData[t.name])});var s={listId:this.listId,formData:r};this.transCode&&(n=Y.update),console.log(s),this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$loading.show(),n(s).then(function(t){e.$loading.hide();var a=t.success,i=void 0!==a&&a,r=t.message,s=void 0===r?"提交失败":r;i&&(s=n===Y.update?"修改成功":"提交成功",e.submitSuccess=!0),e.$vux.alert.show({content:s,onHide:function(){i&&e.$router.go(-1)}})}).catch(function(t){e.$loading.hide()})}})},findData:function(){var e=this;return(0,Y.findData)(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=t.attachment,r=void 0===i?[]:i;e.matterDuplicateConfig.forEach(function(t){n[t.name].length&&(e.matterDuplicateData[t.name]=n[t.name])});var s=n.baseinfo,o=void 0===s?{}:s,l=n.inventory,d=void 0===l?{}:l;switch(e.hasDefault=!0,d.inventoryStatus){case 1:e.inventoryStatus="使用中";break;case 2:e.inventoryStatus="未使用";break;case 0:e.inventoryStatus="草稿";break;case-1:e.inventoryStatus="停用"}e.baseinfo=(0,v.default)({},e.baseinfo,o),e.inventory=(0,v.default)({},e.inventory,d),e.inventory.inventoryPic&&(e.picShow=!0,e.MatPic="/H_roleplay-si/ds/download?url="+e.inventory.inventoryPic+"&width=400&height=400");var u=r.filter(function(t){return t.attacthment===e.inventory.inventoryPic}),f=(0,c.default)(u,1),m=f[0],h=void 0===m?{}:m;e.imgFileObj=h})},getBaseInfoData:function(){var e=this;return(0,X.getBaseInfoDataBase)().then(function(t){e.baseinfo=(0,v.default)({},e.baseinfo,t,{activeTime:e.changeDate(new Date,!0)})})},getDefaultImg:function(){this.MatPic=a("CcG0")},addMoreUnit:function(e){var t={};e.items.forEach(function(e){e.hidden||(t[e.fieldCode]="")}),this.matterDuplicateData[e.name].push(t)},deleteMoreUnit:function(e){this.matterDuplicateData[e.name].pop()},validateData:function(e,t){var a="";return e.every(function(e){return t.every(function(t){return!!e[t.key]||(a=t.message+"不能为空",!1)}),!!a}),a},selProcedure:function(e){this.inventory=(0,v.default)({},this.inventory,{procedureName:e.procedureName,procedureCode:e.procedureCode})},handlerParams:function(e){var t=e.dataSource.data.url,a=e.dataSource.data.params,n=(0,C.default)(a),i={url:t};if(n.length){var r={};n.forEach(function(e){r[e]="text"===a[e].type?a[e].value:""}),i.data=r}return i},getFormViews:function(){var e=this;return(0,X.getFormViews)(this.listId).then(function(t){var a=!0,n=!1,i=void 0;try{for(var r,s=(0,_.default)(t);!(a=(r=s.next()).done);a=!0){var o=r.value;if("submit"===o.viewType){e.viewId=o.uniqueId;break}}}catch(e){n=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}})},getFormConfig:function(){var e=this;(0,X.getFormConfig)(this.viewId).then(function(t){var a=t.config,n=void 0===a?[]:a,i=[],r=[];n.forEach(function(e){e.isMultiple?e.hiddenInRun||"r2Fileupload"===e.xtype||"invMoreUnit"!==e.name||r.push(JSON.parse((0,d.default)(e))):i=JSON.parse((0,d.default)(e.items))}),i.forEach(function(t){t.hiddenInRun||("r2Combo"!==t.xtype&&"r2MultiSelector"!==t.xtype||!t.dataSource||"remoteData"!==t.dataSource.type||(t.requestParams=e.handlerParams(t),(0,X.requestData)(e.handlerParams(t)).then(function(a){a.tableContent?(a.tableContent.forEach(function(e){if(e.technicsName)return e.value=e.technicsName,void(e.name=e.technicsName);e.value=e.name}),"processing"===t.fieldCode&&(e.$route.query.transCode||(e.inventory.processing=e.$route.query.matterType?e.$route.query.matterType:"")),e.$set(t,"remoteData",a.tableContent)):(a.forEach(function(e){e.value=e.name}),e.$set(t,"remoteData",a))})),"inventoryCode"!==t.fieldCode&&"inventoryName"!==t.fieldCode&&"inventoryPic"!==t.fieldCode&&e.matterConfig.push(t))}),r.forEach(function(t){switch(t.name){case"invMoreUnit":t.title="辅助计量";break;case"invNetWeight":t.title="净含量";break;case"invDealerRel":t.title="客户";break;case"invCustomerRel":t.title="供应商"}t.items.forEach(function(t,a){t.hidden||"r2Combo"===t.editorType&&t.dataSource&&"remoteData"===t.dataSource.type&&(0,X.requestData)(e.handlerParams(t)).then(function(a){a.tableContent?(a.tableContent.forEach(function(e){e.value=e.name}),e.$set(t,"remoteData",a.tableContent)):(a.forEach(function(e){e.value=e.name}),e.$set(t,"remoteData",a))})}),e.$set(e.matterDuplicateData,t.name,[])}),e.matterDuplicateConfig=r})}},beforeRouteLeave:function(e,t,a){var n=e.path;this.submitSuccess&&"/materlist"===n&&(e.meta.reload=!0),a()},created:function(){var e=this;this.$loading.show();var t=this.$route.query.transCode,a=void 0===t?"":t;if(this.transCode=a,a)return void(0,o.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getFormViews();case 2:return t.next=4,e.getFormConfig();case 4:return t.next=6,e.findData();case 6:e.hasDefault=!1,e.codeReadOnly=!0,e.$loading.hide();case 9:case"end":return t.stop()}},t,e)}))();(0,o.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.getBaseInfoData(),t.next=3,e.getFormViews();case 3:return t.next=5,e.getFormConfig();case 5:e.$loading.hide();case 6:case"end":return t.stop()}},t,e)}))()},beforeRouteEnter:function(e,t,a){e.meta.title="新增物料",e.query.transCode&&(e.meta.title="编辑物料"),a()}}},"S/pI":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages fgysqk-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{"default-value":e.dealerInfo},on:{"sel-item":e.selDealer}},[a("template",{slot:"other"},[a("div",{staticClass:"amt-dealer"},[a("span",{staticClass:"amt-dealer-item"},[e._v("申请金额: "+e._s(e._f("numberComma")(e.applicationAmount,3)))])])])],2),e._v(" "),a("div",{staticClass:"materiel_list"},[e.orderList.length?[a("div",{staticClass:"title"},[e._v("欠款明细")]),e._v(" "),e._l(e.orderList,function(t,n){return a("div",{key:n,staticClass:"order-detail",class:{"vux-1px-t":0!==n}},[a("div",{staticClass:"detail-item top"},[a("span",{staticClass:"info-item"},[e._v(e._s(t.popiCode))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"info-item"},[e._v("采购订单号: "+e._s(t.poCode))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("价税合计: "+e._s(e._f("numberComma")(t.thenTotalAmntBal,3)))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"info-item"},[e._v("已核销: "+e._s(e._f("numberComma")(t.thenAlreadyAmnt,3)))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("待核销: "+e._s(e._f("numberComma")(t.thenAmntBal,3)))])]),e._v(" "),a("div",{staticClass:"detail-item"},[t.accountExpirationDate||0===t.accountExpirationDate?a("span",{staticClass:"info-item"},[e._v("账期到期日: "+e._s(t.accountExpirationDate))]):e._e(),e._v(" "),t.daysOfAccount||0===t.daysOfAccount?a("span",{staticClass:"info-item"},[e._v("账期天数: "+e._s(t.daysOfAccount))]):e._e(),e._v(" "),t.ageOfAging||0===t.ageOfAging?a("span",{staticClass:"info-item"},[e._v("账龄天数: "+e._s(t.ageOfAging))]):e._e()]),e._v(" "),a("div",{staticClass:"detail-item"},[t.accountRemaingDays||0===t.accountRemaingDays?a("span",{staticClass:"info-item"},[e._v("账期剩余天数: "+e._s(t.accountRemaingDays))]):e._e(),e._v(" "),a("span",{staticClass:"info-item"},[e._v("已收票: "+e._s(e._f("numberComma")(t.invoicing,3)))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("待收票: "+e._s(e._f("numberComma")(t.pendingTicket||t.invoiced,3)))])]),e._v(" "),a("x-input",{attrs:{title:"本次申请","text-align":"right",placeholder:"请填写",type:"number"},on:{"on-blur":function(a){e.checkAmt(t,"applicationAmount")},"on-focus":function(t){e.getFocus(t)}},model:{value:t.applicationAmount,callback:function(a){e.$set(t,"applicationAmount",e._n(a))},expression:"item.applicationAmount"}})],1)})]:a("div",{staticClass:"order-info",on:{click:function(t){e.showOrder=!0}}},[a("div",{staticClass:"title"},[e._v("欠款明细")]),e._v(" "),a("div",{staticClass:"mode"},[e._v("请选择欠款明细")]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r-arrow"})])],2),e._v(" "),e.orderList.length?a("div",{staticClass:"handle_part vx-1px-t"},[e.orderList.length?a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多")]):e._e()]):e._e(),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"其他信息"}},[a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-order-list",{attrs:{show:e.showOrder,params:e.dealerParams,"default-value":e.orderList},on:{"sel-item":e.selOrder},model:{value:e.showOrder,callback:function(t){e.showOrder=t},expression:"showOrder"}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},"S4+1":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={props:{BasicApps:{type:Array,require:!0},goBasic:{type:Function,require:!0},goAppDetail:{type:Function,require:!0}}}},S4EA:function(e,t){},SAzG:function(e,t,a){"use strict";function n(e){a("XljL")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("l8j0");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Wnp4"),o=a.n(s),l=a("lzEG"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},SBDX:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages gdrw-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.biProcessStatus,callback:function(t){e.biProcessStatus=t},expression:"biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[a("div",{staticClass:"title"},[e._v("工序信息")]),e._v(" "),a("group",{staticClass:"costGroup",attrs:{"group-title-margin-top":"0"}},[a("cell",{attrs:{isLink:"",title:"工单启动号"},nativeOn:{click:function(t){e.showWorkPop=!e.showWorkPop}},model:{value:e.workInfo.transCode||"请选择",callback:function(t){e.$set(e.workInfo,"transCode || '请选择'",t)},expression:"workInfo.transCode || '请选择'"}}),e._v(" "),a("cell",{attrs:{title:"工单派工号",disabled:!e.workInfo.orderCode},model:{value:e.workInfo.orderCode,callback:function(t){e.$set(e.workInfo,"orderCode",t)},expression:"workInfo.orderCode"}}),e._v(" "),a("cell",{attrs:{title:"加工订单号",disabled:!e.workInfo.orderCode},model:{value:e.workInfo.processCode,callback:function(t){e.$set(e.workInfo,"processCode",t)},expression:"workInfo.processCode"}}),e._v(" "),a("cell",{attrs:{title:"工序名称",disabled:!e.workInfo.procedureName},model:{value:e.workInfo.procedureName,callback:function(t){e.$set(e.workInfo,"procedureName",t)},expression:"workInfo.procedureName"}}),e._v(" "),a("cell",{attrs:{title:"可验收余额",disabled:!e.workInfo.qtyBal},model:{value:e.workInfo.qtyBal,callback:function(t){e.$set(e.workInfo,"qtyBal",t)},expression:"workInfo.qtyBal"}}),e._v(" "),a("x-input",{attrs:{title:"本次验收",type:"number",disabled:!e.workInfo.qtyBal,"text-align":"right",placeholder:e.workInfo.qtyBal?"请填写":""},on:{"on-focus":function(t){e.getFocus(t)},"on-blur":function(t){e.checkAmt(e.workInfo)}},model:{value:e.workInfo.tdQty,callback:function(t){e.$set(e.workInfo,"tdQty",e._n(t))},expression:"workInfo.tdQty"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("本次验收")])])],2),e._v(" "),a("cell",{attrs:{title:"工艺路线编码",disabled:!e.workInfo.rearProcedureName},model:{value:e.workInfo.proFlowCode,callback:function(t){e.$set(e.workInfo,"proFlowCode",t)},expression:"workInfo.proFlowCode"}}),e._v(" "),a("cell",{attrs:{title:"工艺路线名称",disabled:!e.workInfo.rearProcedureName},model:{value:e.workInfo.technicsName,callback:function(t){e.$set(e.workInfo,"technicsName",t)},expression:"workInfo.technicsName"}}),e._v(" "),a("cell",{attrs:{title:"物料名称",disabled:!e.workInfo.inventoryName},model:{value:e.workInfo.inventoryName,callback:function(t){e.$set(e.workInfo,"inventoryName",t)},expression:"workInfo.inventoryName"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("物料名称")])])],2),e._v(" "),a("cell",{attrs:{title:"物料编码",disabled:!e.workInfo.matCode},model:{value:e.workInfo.matCode,callback:function(t){e.$set(e.workInfo,"matCode",t)},expression:"workInfo.matCode"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("物料编码")])])],2),e._v(" "),a("cell",{attrs:{title:"加工属性",disabled:!e.workInfo.processing},model:{value:e.workInfo.processing||"无",callback:function(t){e.$set(e.workInfo,"processing || '无'",t)},expression:"workInfo.processing || '无'"}}),e._v(" "),a("cell",{attrs:{title:"制造费用",disabled:!e.workInfo.skinFee},model:{value:e.workInfo.skinFee,callback:function(t){e.$set(e.workInfo,"skinFee",t)},expression:"workInfo.skinFee"}}),e._v(" "),a("cell",{attrs:{title:"工价",disabled:!e.workInfo.wages},model:{value:e.workInfo.wages,callback:function(t){e.$set(e.workInfo,"wages",t)},expression:"workInfo.wages"}})],1),e._v(" "),a("pop-work-check-list",{ref:"matter",attrs:{show:e.showWorkPop,defaultValue:e.workInfo},on:{"sel-work":e.selWork},model:{value:e.showWorkPop,callback:function(t){e.showWorkPop=t},expression:"showWorkPop"}})],1),e._v(" "),a("pop-manager-list",{attrs:{title:"验收者",defaultValue:e.defaultManager},on:{"sel-item":e.selManager}}),e._v(" "),a("pop-warehouse-list",{attrs:{title:"入库仓库","filter-params":e.filterParams,"default-value":e.warehouse,isRequired:""},on:{"sel-item":e.selWarehouse}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.bomList.length,expression:"bomList.length"}],staticClass:"materiel_list"},[a("bom-list",{attrs:{boms:e.bomList},scopedSlots:e._u([{key:"specification",fn:function(t){var n=t.bom;return[a("div",{staticClass:"content-unit"},[a("span",[e._v("型号规格: "+e._s(n.specification||"无"))])])]}},{key:"number",fn:function(t){var n=t.bom;return[a("div",{staticClass:"number-part"},[a("span",{staticClass:"main-number"},[e._v("数量: "+e._s(n.tdQty)+e._s(n.measureUnit))]),e._v(" "),a("span",{staticClass:"number-unit"},[e._v("bom数量: "+e._s(n.qty))]),e._v(" "),a("span",{staticClass:"number-unit"},[e._v("损耗率: "+e._s(n.specificLoss))])])]}}])})],1),e._v(" "),a("div",{staticClass:"comment vux-1px-t"},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},SDDa:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.actions.length?a("div",{staticClass:"handle_wrapper vux-1px-t"},[a("div",{staticClass:"handle_btn"},[e.actions.includes("revoke")?a("span",{staticClass:"btn_item reject",on:{click:e.revoke}},[e._v("撤回")]):e._e(),e._v(" "),e.actions.includes("disagree")?a("span",{staticClass:"btn_item reject",on:{click:e.reject}},[e._v("拒绝")]):e._e(),e._v(" "),e.actions.includes("agreement")?a("span",{staticClass:"btn_item agree",on:{click:e.agree}},[e._v("同意")]):e._e(),e._v(" "),e.actions.includes("transfer")?a("span",{staticClass:"btn_item transfer",on:{click:e.transfer}},[e._v("转办")]):e._e()]),e._v(" "),e.actions.includes("transfer")?a("pop-user-list",{attrs:{show:e.showUserList,"default-value":e.selectedUser},on:{"sel-item":e.selUser},model:{value:e.showUserList,callback:function(t){e.showUserList=t},expression:"showUserList"}}):e._e(),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("confirm",{staticClass:"action-confirm",attrs:{title:"转办","close-on-confirm":!1},on:{"on-confirm":e.onConfirm},model:{value:e.showConfirm,callback:function(t){e.showConfirm=t},expression:"showConfirm"}},[a("div",{staticClass:"confirm-item"},[a("span",{staticClass:"title required"},[e._v("转办给: ")]),e._v(" "),a("span",[e._v(e._s(e.selectedUser.nickname))])]),e._v(" "),a("div",{staticClass:"confirm-item"},[a("span",{staticClass:"title required"},[e._v("工时: ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.transferInfo.taskTime,expression:"transferInfo.taskTime",modifiers:{number:!0}}],staticClass:"value",attrs:{type:"number"},domProps:{value:e.transferInfo.taskTime},on:{input:function(t){t.target.composing||e.$set(e.transferInfo,"taskTime",e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showTaskWarn,expression:"showTaskWarn"}],staticClass:"warn"},[e._v("请输入工时")]),e._v(" "),a("div",{staticClass:"confirm-item"},[a("span",{staticClass:"title required"},[e._v("备注: ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.transferInfo.comment,expression:"transferInfo.comment"}],staticClass:"value",attrs:{type:"text"},domProps:{value:e.transferInfo.comment},on:{input:function(t){t.target.composing||e.$set(e.transferInfo,"comment",t.target.value)}}})]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showCommentWarn,expression:"showCommentWarn"}],staticClass:"warn"},[e._v("请输入备注")])])],1)],1):e._e()},i=[],r={render:n,staticRenderFns:i};t.a=r},SDtT:function(e,t,a){"use strict";function n(e){a("jwT9")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("0V3y");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("u1IZ"),o=a.n(s),l=a("c5h/"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-3cdf12be",null);t.default=c.exports},SDx5:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("AupE"),f=n(c),m=a("BUFe"),h=n(m),v=a("bFc7"),p=n(v),C=a("3NX5"),y=n(C),_=a("zlAJ"),g=n(_);t.default={data:function(){return{orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},attachment:[]}},mixins:[u.default],components:{workFlow:f.default,RAction:h.default,contactPart:p.default,MatterList:y.default,UploadFile:g.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u=s.order,c=u.dataSet,f=!0,m=!1,h=void 0;try{for(var v,p=(0,r.default)(c);!(f=(v=p.next()).done);f=!0){var C=v.value;C.inventoryPic=C.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+C.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){m=!0,h=e}finally{try{!f&&p.return&&p.return()}finally{if(m)throw h}}e.attachment=d,s.validUntil=(0,o.default)(u.validUntil,"YYYY-MM-DD"),e.orderInfo=s,e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo={creatorName:t.dealerDebitContactPersonName,dealerName:a.dealerName_dealerDebit,dealerMobilePhone:t.dealerDebitContactInformation,dealerContactPersonName:t.dealerDebitContactPersonName,dealerCode:a.dealerDebit,dealerLabelName:a.drDealerLabel,province:a.province_dealerDebit,city:a.city_dealerDebit,county:a.county_dealerDebit,address:a.address_dealerDebit,payment:a.drDealerPaymentTerm,validUntil:t.validUntil,logistics:t.drDealerLogisticsTerms}}}}},SEjj:function(e,t,a){"use strict";function n(e){a("GtZX")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("O1ha");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("P2Bj"),o=a.n(s),l=a("t5gp"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-e112cf12",null);t.default=c.exports},SFXC:function(e,t,a){"use strict";function n(e){a("P2jE")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("75mE");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("+7T9"),o=a.n(s),l=a("zNZL"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-b585b8de",null);t.default=c.exports},SGPQ:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MgeX"),r=n(i),s=a("HzJ8"),o=n(s),l=a("4YfN"),d=n(l),u=a("3cXf"),c=n(u),f=a("IHPB"),m=n(f),h=a("HXPS"),v=n(h),p=a("7g+Q"),C=n(p),y=a("1KNX"),_=n(y),g=a("vS5q"),b=a("7biW"),w=n(b);t.default={name:"PopOrderList",props:{show:{type:Boolean,default:!1},params:{type:Object,default:function(){return{dealerCode:"",whCode:""}}},defaultValue:{type:Object,default:function(){return{}}},isMaterOrder:{type:Boolean,default:!1},isMaterProccing:{type:Boolean,default:!1}},components:{Icon:v.default,Popup:C.default,RScroll:_.default,RSearch:w.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],listData:[],limit:100,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterProperty:"",filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"订单号",value:"transCode"}]}},watch:{show:{handler:function(e){this.showPop=e}},params:{handler:function(){this.resetCondition(),this.getList()}},defaultValue:{handler:function(e){this.setDefaultValue()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,m.default)(this.selItems)),this.$emit("input",!1),this.$event.$emit("shut-down-filter",!1)},showSelIcon:function(e){return-1!==this.tmpItems.findIndex(function(t){return t.transCode===e.transCode&&t.inventoryCode===e.inventoryCode})},selThis:function(e,t){if(!this.isMaterOrder&&(0===e.qtyStockBal||0===e.qtyStock)||this.isMaterOrder&&0===e.qtyStock)return void this.$vux.alert.show({content:"当前订单库存为0，请选择其他订单"});var a=this.tmpItems,n=a.findIndex(function(t){return t.transCode===e.transCode&&t.inventoryCode===e.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(e)},selConfirm:function(){this.showPop=!1,this.tmpItems.sort(function(e,t){return t.effectiveTime-e.effectiveTime}),this.selItems=[].concat((0,m.default)(this.tmpItems)),this.$emit("sel-matter",(0,c.default)(this.selItems))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getList:function(){var e=this,t=[];this.srhInpTx&&(t=[{operator:"like",value:this.srhInpTx,property:this.filterProperty}]);var a=g.getSalesOrderList,n=(0,d.default)({},this.params);this.isMaterOrder&&(a=g.getMaterOrderList,n={}),this.isMaterProccing&&(a=g.getNBJGLLOrderList);var i=this.$route.query.relationKey,r=void 0===i?"":i;return r&&(t=[{operator:"eq",value:r,property:"transCode"}]),a((0,d.default)({},n,{limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,c.default)(t)})).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,s=void 0===i?[]:i;s.forEach(function(t){t.inventoryPic=t.inventoryPic?"/H_roleplay-si/ds/download?url="+t.inventoryPic+"&width=400&height=400":e.getDefaultImg()}),r&&(e.selItems=[].concat((0,m.default)(s)),e.$emit("sel-matter",(0,c.default)(e.selItems))),e.hasNext=n>(e.page-1)*e.limit+s.length,e.listData=1===e.page?s:[].concat((0,m.default)(e.listData),(0,m.default)(s)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},resetCondition:function(){this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.resetCondition(),this.getList()},clearList:function(){this.srhInpTx="",this.resetCondition(),this.getList()},delSelItem:function(e){var t=this.selItems.findIndex(function(t){return t.transCode===e.transCode&&t.inventoryCode===e.inventoryCode});-1!==t&&this.selItems.splice(t,1),this.tmpItems=[].concat((0,m.default)(this.selItems))},clearSel:function(){this.selItems=[],this.tmpItems=[]},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var i,s=(0,o.default)((0,r.default)(this.defaultValue));!(t=(i=s.next()).done);t=!0){var l=i.value;e=[].concat((0,m.default)(e),(0,m.default)(l))}}catch(e){a=!0,n=e}finally{try{!t&&s.return&&s.return()}finally{if(a)throw n}}this.tmpItems=[].concat((0,m.default)(e)),this.selItems=[].concat((0,m.default)(e))}},created:function(){this.showPop=this.show,this.setDefaultValue(),this.getList()}}},SLsN:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("MjAd"),o=n(s),l=a("IsSW"),d=n(l);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2363,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"成品名称",value:"inventoryName_transObjCode"}],popShow:!1}},components:{PopAssignmentTaskWorkList:d.default},mixins:[o.default],methods:{goEdit:function(){this.popShow=!0},selTask:function(e){var t=[];e.forEach(function(e){t.push(e.colId)});var a=this.$route.query.name,n=this.$route.params,i=n.folder,s=n.fileName;this.$router.push({path:"/fillform/"+i+"/"+s,query:{name:a,childId:childId,orderId:(0,r.default)(t)}})}}}},SMm3:function(e,t){},SQkk:function(e,t){},SR49:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{on:{"on-sort":e.onSortList}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noCount:"",noPrice:""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},SS5a:function(e,t){},SSut:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("a3Yh"),o=n(s),l=a("ZLEe"),d=n(l),u=a("3cXf"),c=n(u),f=a("KH7x"),m=n(f),h=a("4YfN"),v=n(h),p=a("PzEQ"),C=n(p),y=a("BGNQ"),_=n(y),g=a("SAzG"),b=n(g),w=a("z5TY"),I=n(w),x=a("0AQX"),D=a("HyXB"),P=a("bKg5"),S=n(P),k=a("ZQWM"),L=n(k),N=a("I5id"),M=n(N),T=a("9cRV"),A=n(T),O=a("hLfv"),R=n(O),j=a("yt3/"),B=n(j),E=a("luHD"),F=n(E),U=a("VZtf"),$=n(U),Q=a("vl8n"),H=n(Q),V=a("+WR7"),q=n(V),Y=a("zWMP"),X=a("Qg39");t.default={name:"ApplySBCGDDForm",data:function(){return{orderList:{},matterList:[],showDealerPop:!1,dealerInfo:{},contactInfo:{},formData:{biId:"",biComment:""},submitSuccess:!1,taxRate:.16,numMap:{},transCode:"",formViewUniqueId:"fed81800-4c34-44a9-b517-c3fd9f2ab57d",biReferenceId:"",actions:[],taskId:"",showOrderPop:!1,tmpItems:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,filterList:[{name:"设施名称",value:"facilityName"},{name:"设施编码",value:"facilityCode"},{name:"申请号",value:"transCode"}],facility:{},checkFieldList:[{key:"tdQty",message:"请填写数量"},{key:"price",message:"请填写单价"},{key:"taxRate",message:"请填写税率"}]}},mixins:[S.default],components:{XTextarea:C.default,RNumber:$.default,PopDealerList:L.default,PopSingleSelect:B.default,XInput:b.default,Group:I.default,PopMatter:F.default,RPicker:H.default,PopBaseinfo:q.default,Cell:_.default,PopFacilityList:M.default,PopMatterList:A.default,DealerOtherPart:R.default},computed:{totalAmount:function(){var e=this,t=0;return this.matterList.forEach(function(a){e.simpleCalcMatter(a),t=(0,Y.accAdd)(t,a.noTaxAmount)}),Number(t)},taxAmount:function(){var e=0;return this.matterList.forEach(function(t){e=(0,X.toFixed)((0,Y.accAdd)(e,t.taxAmount))}),e},tdAmount:function(){return parseFloat((0,Y.accAdd)(this.totalAmount,Number(this.taxAmount)).toFixed(2))}},watch:{facility:{handler:function(e){this.simpleCalcMatter(e)},deep:!0}},methods:{selItem:function(e){this.formData=(0,v.default)({},this.formData,e)},selDealer:function(e){var t=JSON.parse(e),a=(0,m.default)(t,1),n=a[0];this.dealerInfo=(0,v.default)({},n,{drDealerPaymentTerm:n.paymentTerm,daysOfAccount:n.pamentDays})},selContact:function(e){this.contactInfo=(0,v.default)({},e)},modifyMatter:function(e,t,a){this.facility=JSON.parse((0,c.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selMatter:function(e){var t=JSON.parse(e),a={};t.forEach(function(e){e.tdQty=e.tdQty||e.qtyBal,e.price=e.price||"",e.taxRate=e.taxRate||.16,a[e.transCode]||(a[e.transCode]=[]),a[e.transCode].push(e)}),this.numMap={},this.matterList=t,this.orderList=a},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.facilityCode!==e.facilityCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.facilityCode===t.facilityCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.facilityCode===e.facilityCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,c.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,d.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.facilityCode===a.facilityCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.facilityCode===t.facilityCode});i>=0&&(e.$refs.matter.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.facilityCode===a.facilityCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerCode||(t="请选择供应商信息"),t||this.dealerInfo.paymentTerm||(t="请选择结算方式"),t||this.matterList.length||(t="请选择设施"),t||this.matterList.every(function(n){if(!n.price)return t="单价不能为空",!1;if(!n.tdQty&&0!==n.tdQty)return t="数量不能为空",!1;var i=n.taxRate||e.taxRate,r=(0,Y.accMul)(n.price,n.tdQty,i),s={transMatchedCode:n.transCode,facilityObjCode:n.facilityCode,facilityName_facilityObjCode:n.facilityName,facilityType:n.facilityType,thenQtyBal:n.qtyBal||0,tdQty:n.tdQty,price:n.price,taxRate:i,taxAmount:r,tdAmount:(0,Y.accAdd)((0,Y.accMul)(n.price,n.tdQty),r),comment:n.comment||""};return e.transCode&&(s.tdId=n.tdId||null),a.push(s),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=D.saveAndStartWf,n={},i=(0,o.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});n=(0,v.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.formData.handler,modifer:e.formData.handler,dealerDebitContactPersonName:e.contactInfo.dealerName||"",dealerDebitContactInformation:e.contactInfo.dealerMobilePhone||"",order:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName||"供应商",drDealerPaymentTerm:e.dealerInfo.paymentTerm,daysOfAccount:e.dealerInfo.pamentDays,dataSet:a}}),e.transCode&&(t=D.saveAndCommitTask,i={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,c.default)(n),wfPara:(0,c.default)(i)};e.transCode||delete r.biReferenceId,e.processCode.length||(t=D.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,x.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=l;var d=s.order,u=(s.dealerDebit,d.dataSet),c=void 0===u?[]:u,f={},m=[],h=!0,p=!1,C=void 0;try{for(var y,_=(0,r.default)(c);!(h=(y=_.next()).done);h=!0){var g=y.value;g=(0,v.default)({},g,{transCode:g.transMatchedCode,inventoryPic:g.inventoryPic_facilityObjCode?"/H_roleplay-si/ds/download?url="+g.inventoryPic_facilityObjCode+"&width=400&height=400":e.getDefaultImg(),facilityName:g.facilityName_facilityObjCode,facilityCode:g.facilityObjCode,facilityBigType:g.facilityBigType_facilityObjCode,facilitySubclass:g.facilitySubclass_facilityObjCode,facilityUnit:g.facilityUnit_facilityObjCode,specification:g.specification_facilityObjCode,processing:g.tdProcessing,qtyBal:g.thenQtyBal}),f[g.transCode]||(f[g.transCode]=[]),m.push(g),f[g.transCode].push(g)}}catch(e){p=!0,C=e}finally{try{!h&&_.return&&_.return()}finally{if(p)throw C}}e.dealerInfo={creatorName:s.dealerCreditContactPersonName,dealerName:d.dealerName_dealerDebit,dealerMobilePhone:s.dealerCreditContactInformation,dealerCode:d.dealerCode_dealerDebit,dealerLabelName:d.drDealerLabel,province:d.province_dealerDebit,city:d.city_dealerDebit,county:d.county_dealerDebit,address:d.address_dealerDebit,paymentTerm:d.drDealerPaymentTerm,pamentDays:d.daysOfAccount},e.contactInfo={dealerName:s.dealerDebitContactPersonName,dealerMobilePhone:s.dealerDebitContactInformation},e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,v.default)({},e.formData,e.handlerDefault,{creator:s.creator,biId:s.biId,biComment:s.biComment}),e.biReferenceId=s.biReferenceId,e.matterList=m,e.orderList=f,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,o.default)({},"SBCGDD_DATA",{facility:this.matterList,dealer:this.dealerInfo,formData:this.formData,contactInfo:this.contactInfo})},getRelationData:function(){var e=this,t=this.$route.query.uniqueId;return(0,x.getSOList)({formViewUniqueId:t,transCode:this.relationKey}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i;t.attachment;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var s=r.order,l=(r.dealerDebit,s.dataSet),d=void 0===l?[]:l;d=d.map(function(t){return(0,v.default)({},t,{inventoryPic:t.inventoryPic_facilityObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_facilityObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_facilityObjCode,facilityCode:t.inventoryCode_facilityObjCode,specification:t.specification_facilityObjCode,measureUnit:t.measureUnit_facilityObjCode,transCode:e.relationKey,qtyBal:t.tdQty,tdQty:""})}),e.dealerInfo={creatorName:r.dealerDebitContactPersonName,dealerMobilePhone:r.dealerDebitContactInformation,dealerCode:r.order.dealerDebit,dealerSubclass:r.order.drAccountSub,dealerName:r.order.dealerName_dealerDebit,province:r.order.province_dealerDebit,city:r.order.city_dealerDebit,county:r.order.county_dealerDebit,address:r.order.address_dealerDebit},e.matterList=d,e.orderList=(0,o.default)({},e.relationKey,d),e.$loading.hide()})},moreUnitClick:function(e){e.showDrop=!e.showDrop},moreUnitSelected:function(e){this.facility.assMeasureUnit=e.invSubUnitName,this.facility.assistQty=e.invSubUnitMulti},assembleOrder:function(e){var t={};e.forEach(function(e){t[e.transCode]||(t[e.transCode]=[]),t[e.transCode].push(e)}),this.orderList=t}},created:function(){var e=sessionStorage.getItem("SBCGDD_DATA");if(e){var t=JSON.parse(e);this.matterList=t.facility,this.dealerInfo=t.dealer,this.formData=t.formData,this.contactInfo=t.contactInfo,this.assembleOrder(this.matterList),sessionStorage.removeItem("SBCGDD_DATA")}}}},STJc:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("I3vJ"),v=a("1KNX"),p=n(v),C=a("7biW"),y=n(C);t.default={name:"PopTechnicsList",props:{defaultValue:{type:Object,default:function(){return{}}},required:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"}},components:{Icon:c.default,Popup:m.default,RScroll:p.default,RSearch:y.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:100,page:1,hasNext:!0,scrollOptions:{pullUpLoad:!0},filterProperty:"",filterList:[{name:"名称",value:"technicsName"},{name:"编码",value:"technicsCode"}]}},watch:{defaultValue:{handler:function(e){this.selItems=(0,d.default)({},this.defaultValue)},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},showSelIcon:function(e){return this.selItems.technicsCode===e.technicsCode},selThis:function(e,t){this.selItems=(0,d.default)({},e),this.showPop=!1,this.$emit("sel-item",(0,d.default)({},e))},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,h.getObjTechnics)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,o.default)(e.listData),(0,o.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.resetCondition(),this.getList()},onPullingUp:function(){this.page++,this.getList()},resetCondition:function(){this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)}},created:function(){this.getList()}}},SU7p:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("KH7x"),o=n(s),l=a("4YfN"),d=n(l),u=a("a3Yh"),c=n(u),f=a("3cXf"),m=n(f),h=a("BGNQ"),v=n(h),p=a("z5TY"),C=n(p),y=a("SAzG"),_=n(y),g=a("7g+Q"),b=n(g),w=a("PzEQ"),I=n(w),x=a("jnZd"),D=n(x),P=a("0AQX"),S=a("HyXB"),k=(a("jLp1"),a("bKg5")),L=n(k),N=a("55ug"),M=n(N),T=a("CKaN"),A=n(T),O=a("KR0i"),R=n(O),j=a("vl8n"),B=n(j),E=a("+WR7"),F=n(E),U=a("zWMP"),$=a("Qg39");t.default={mixins:[L.default],components:{Cell:v.default,Group:C.default,Popup:b.default,XInput:_.default,XTextarea:I.default,PopupPicker:D.default,RPicker:B.default,PopBaseinfo:F.default,PopDealerList:M.default,PopCashList:A.default,PopEarnestMoneyList:R.default},data:function(){return{listId:"7d172485-8726-4e42-b29d-ec2a716bf062",biReferenceId:"",selectedCost:[],costIndex:0,transCode:"",formData:{biComment:"",biProcessStatus:""},dealerInfo:{},showOrder:!1,dealerParams:{},orderList:[],cashInfo:{fundName_cashOutCode:"",cashOutCode:"",cashType_cashOutCode:"",thenAmntBal:0},numMap:{}}},computed:{applicationAmount:function(){var e=0;return this.orderList.forEach(function(t){t.tdAmount&&(e=(0,U.accAdd)(e,t.tdAmount))}),(0,$.toFixed)(e)},differenceAmount:function(){var e=this.dealerInfo.amntBal||0;return e=(0,U.accAdd)(e,this.applicationAmount),(0,$.toFixed)(e)}},methods:{submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerCode||(t="请选择供应商"),t||this.orderList.length||(t="请选择定金明细"),t)return void this.$vux.alert.show({content:t});this.orderList.forEach(function(t){a.push({tdId:t.tdId||"",transMatchedCode:t.transCode,thenTotalAmntBal:t.thenAmntBal,differenceAmountCopy1:t.amount,thenAlreadyAmnt:t.amnted,thenAmntBalCopy2:t.deposit,applicationAmount:t.tdAmount,tdAmountCopy1:t.tdAmount,dealerDebit:e.dealerInfo.dealerCode})}),this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=S.saveAndStartWf,n=(0,c.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,m.default)(e.formData.handler),"本次支付":e.applicationAmount});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={dealerName_dealerDebit:e.dealerInfo.nickname,dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,applicationAmount:e.applicationAmount,tdAmountCopy1:e.applicationAmount,differenceAmount:e.differenceAmount},r=(0,d.default)({},e.cashInfo,{tdAmount:e.applicationAmount});e.transCode&&(i.tdIdCopy1=e.dealerInfo.tdIdCopy1,r.tdId=e.cashInfo.tdId);var s={listId:e.listId,biComment:e.formData.biComment,formData:(0,m.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",inPut:{dataSet:[i],thenAmntBalCopy1:e.dealerInfo.amntBal},order:{dataSet:a},outPut:{dataSet:[r]}})),wfPara:(0,m.default)(n)};e.isResubmit&&(s.biReferenceId=e.biReferenceId,t=S.saveAndCommitTask),e.processCode.length||(t=S.submitAndCalc,delete s.wfPara,delete s.biReferenceId),e.biReferenceId&&(s.biReferenceId=e.biReferenceId),e.saveData(t,s)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.attachment,n=void 0===a?[]:a,i=t.listId,r=void 0===i?"":i,s=(t.biComment,t.biReferenceId),l=void 0===s?"":s,u=t.formData,c=void 0===u?{}:u;e.attachment=n,e.listId=r,e.biReferenceId=l,e.handlerDefault={handler:c.handler,handlerName:c.handlerName,handlerUnit:c.handlerUnit,handlerUnitName:c.handlerUnitName,handlerRole:c.handlerRole,handlerRoleName:c.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:c.biComment,biId:c.biId,biProcessStatus:c.biProcessStatus,creator:c.creator,modifer:c.modifer});var f=c.order.dataSet,m=void 0===f?[]:f,h=c.inPut.dataSet,v=void 0===h?[]:h,p=c.outPut.dataSet,C=void 0===p?[]:p,y=(0,o.default)(v,1),_=y[0],g=void 0===_?{}:_,b=(0,o.default)(C,1),w=b[0],I=void 0===w?{}:w;m.forEach(function(e){e.transCode=e.transMatchedCode,e.thenAmntBal=e.thenTotalAmntBal,e.amount=e.differenceAmountCopy1,e.amnted=e.thenAlreadyAmnt,e.deposit=e.thenAmntBalCopy2,e.tdAmount=e.applicationAmount}),e.dealerInfo=(0,d.default)({},g,{nickname:g.dealerName_dealerDebit,dealerCode:g.dealerDebit,dealerLabelName:g.drDealerLabel,amntBal:c.inPut.thenAmntBalCopy1}),e.cashInfo=(0,d.default)({},I),e.orderList=m,e.$loading.hide()})},hasDraftData:function(){return!!this.dealerInfo.dealerCode&&(0,c.default)({},"FGYSDJ_DATA",{formData:this.formData,dealerInfo:this.dealerInfo,orderList:this.orderList,cashInfo:this.cashInfo})},getRelationData:function(){},selDealer:function(e){this.dealerInfo=(0,d.default)({},e),this.dealerParams={dealerCode:e.dealerCode}},selOrder:function(e){var t=this,a=JSON.parse(e);a.map(function(e){var a=t.numMap[e.transCode]||{},n=a.tdAmount,i=void 0===n?e.deposit:n;e.tdAmount=i}),this.numMap={},this.orderList=a},selCash:function(e){this.cashInfo=(0,d.default)({},e)},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,r.default)(this.orderList);!(e=(n=i.next()).done);e=!0){var s=n.value;this.numMap[s.transCode]=(0,d.default)({},s)}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showOrder=!0},checkAmt:function(e,t){switch(e){case"tdAmountCopy1":this.dealerInfo.tdAmountCopy1=(0,$.toFixed)(this.dealerInfo.tdAmountCopy1);break;case"tdAmount":this.cashInfo.tdAmount=(0,$.toFixed)(this.cashInfo.tdAmount);break;default:e[t]=(0,$.toFixed)(e[t])}}},created:function(){var e=sessionStorage.getItem("FGYSDJ_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.orderList=t.orderList,this.cashInfo=t.cashInfo,this.dealerParams={dealerCode:this.dealerInfo.dealerCode},sessionStorage.removeItem("FGYSDJ_DATA")}}}},SVCO:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("Jwlx"),c=n(u),f=a("HXPS"),m=n(f),h=a("7g+Q"),v=n(h),p=a("6q39"),C=(n(p),a("L6VY")),y=n(C),_=a("iR2W"),g=n(_),b=a("7biW"),w=n(b),I=a("hFVz"),x=a("1KNX"),D=n(x);t.default={name:"PopDealerList",props:{dealerLabelName:{type:String,default:"供应商"},defaultValue:{type:Object,default:function(){return{}}},required:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"},request:{type:String,default:"0"},params:{type:Object,default:function(){return{}}}},components:{Icon:m.default,Popup:v.default,DSearch:w.default,RScroll:D.default},data:function(){return{page:1,limit:10,hasNext:!0,showDealerPop:!1,srhInpTx:"",selInfo:{},selItems:[],listData:[],scrollOptions:{pullUpLoad:!0},requestMethods:null}},watch:{defaultValue:{handler:function(){var e=this.defaultValue;this.selInfo=(0,c.default)((0,d.default)({},e)),this.selItems=[(0,d.default)({},e)]},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showDealerPop=!1},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.dealerCode===e.dealerCode})},selItem:function(e,t){this.showDealerPop=!1,this.selItems=[e],this.selInfo=(0,c.default)((0,d.default)({},e)),this.$emit("sel-item",(0,d.default)({},this.selInfo))},getDealer:function(){var e=this,t=[];if(this.srhInpTx){var a="nickname";["3"].includes(this.request)&&(a="dealerName"),t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:a}])}return this.requestMethods((0,d.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,o.default)(e.listData),(0,o.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})}).catch(function(e){y.default.show({content:e.message})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getDealer()},itemClick:function(){this.showDealerPop=!0},onPullingUp:function(){this.page++,this.getDealer()}},filters:{numberComma:g.default},created:function(){var e=[I.getPaySupplierArrears,I.getDepositToPaySuppliers,I.getSaleAcceptanceBill,I.getObjDealerBalByLabelName];this.requestMethods=e[this.request],this.getDealer()}}},ScA0:function(e,t){},SfL5:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("J0Oq"),o=n(s),l=a("a3Yh"),d=n(l),u=a("3cXf"),c=n(u),f=a("4YfN"),m=n(f),h=a("PzEQ"),v=n(h),p=a("kNGm"),C=n(p),y=a("u28h"),_=n(y),g=a("SAzG"),b=n(g),w=a("z5TY"),I=n(w),x=a("0AQX"),D=a("HyXB"),P=a("bKg5"),S=n(P),k=a("9cRV"),L=n(k),N=a("ZQWM"),M=n(N),T=a("yt3/"),A=n(T),O=a("hLfv"),R=n(O),j=a("luHD"),B=n(j),E=a("VZtf"),F=n(E),U=a("vl8n"),$=n(U),Q=a("+WR7"),H=n(Q),V=a("9SNe"),q=n(V),Y=a("zWMP");t.default={components:{XTextarea:v.default,RNumber:F.default,Datetime:_.default,Group:I.default,PopMatterList:L.default,PopDealerList:M.default,PopSingleSelect:A.default,PopMatter:B.default,RPicker:$.default,PopBaseinfo:H.default,RDate:q.default,XInput:b.default,DealerOtherPart:R.default},data:function(){return{taxRate:.16,numMap:{},order:{},inPut:{tdAmountCopy1:"",executionDate:"",validUntil:"",thenTotalAmntBal:"",prepaymentDueDate:""},formData:{creator:"",modifer:"",biId:"",biComment:""},logisticsTerm:[],dealerInfo:{},transMode:[],matterList:[],showTransPop:!1,showMaterielPop:!1,showDealerPop:!1,contactInfo:{},matterParams:{processing:"原料"},checkFieldList:[{key:"price",message:"请填写包装含税单价"}]}},mixins:[S.default],methods:{getPaymentTerm:function(){var e=this;return(0,D.getDictByType)("paymentTerm").then(function(t){var a=t.tableContent;e.transMode=a})},selDealer:function(e){this.dealerInfo=JSON.parse(e)[0]},selContact:function(e){this.contactInfo=(0,m.default)({},e)},selMatter:function(e){var t=JSON.parse(e);t.map(function(e){var t=e.processingStartDate?(0,C.default)(e.processingStartDate,"YYYY-MM-DD"):"";e.tdQty=e.tdQty||"",e.price=e.price||"",e.taxRate=e.taxRate||.16,e.processingStartDate=e.processingStartDate||t,e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null}),this.numMap={},this.matterList=t},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(t){return t.inventoryCode===e.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(e)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,c.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerCode?0===this.matterList.length?t="请选择物料":this.inPut.executionDate?this.inPut.validUntil||(t="请选择协议到期日"):t="请选择协议开始日":t="请选择供应商信息",t||this.matterList.every(function(n){if(!n.price)return t="单价不能为空",!1;var i=n.taxRate;(0,Y.accMul)(n.price,n.tdQty,i);return a.push({tdId:n.tdId||"",inventoryName_transObjCode:n.inventoryName,transObjCode:n.inventoryCode,executionDate:e.inPut.executionDate,validUntil:e.inPut.validUntil,tdProcessing:n.processing,assMeasureUnit:n.assMeasureUnit,assMeasureDescription:n.assMeasureDescription,assMeasureScale:n.assMeasureScale,tdQty:n.tdQty,assistQty:n.assistQty,price:n.price,tdAmount:n.tdAmount,taxRate:i,noTaxPrice:n.noTaxPrice,taxAmount:n.taxAmount,comment:n.comment||""}),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=D.saveAndStartWf,n=(0,d.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i=e.dealerInfo,r={listId:e.listId,biComment:e.biComment,formData:(0,c.default)((0,m.default)({},e.formData,{handlerEntity:e.entity.dealerName,dealerDebitContactPersonName:e.contactInfo.dealerName||null,dealerDebitContactInformation:e.contactInfo.dealerMobilePhone||"",drDealerLogisticsTerms:i.dealerLogisticsTerms,inPut:{dealerDebit:i.dealerCode,drDealerLabel:i.dealerLabelName,daysOfAccount:i.pamentDays,dataSet:[(0,m.default)({},e.inPut,{thenTotalAmntBal:e.tdAmount})]},order:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName||"",drDealerPaymentTerm:e.dealerInfo.paymentTerm,dataSet:a}})),wfPara:(0,c.default)(n)};e.isResubmit&&(t=D.saveAndCommitTask,r.biReferenceId=e.biReferenceId),e.processCode.length||(t=D.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,o.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,x.getSOList)({formViewUniqueId:e.uniqueId,transCode:e.transCode}).then(function(t){e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId;var a=t.formData;e.attachment=t.attachment,a.order.dataSet.map(function(t){t=(0,m.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode}),e.matterList.push(t)}),e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,m.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),e.dealerInfo={creatorName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation,dealerCode:a.order.dealerDebit,dealerName:a.order.dealerName_dealerDebit,province:a.order.province_dealerDebit,city:a.order.city_dealerDebit,county:a.order.county_dealerDebit,address:a.order.address_dealerDebit,dealerLogisticsTerms:a.drDealerLogisticsTerms,pamentDays:a.inPut.daysOfAccount,paymentTerm:a.order.drDealerPaymentTerm||""},e.contactInfo={dealerName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation},e.inPut={tdAmountCopy1:a.inPut.dataSet[0].tdAmountCopy1,executionDate:a.inPut.dataSet[0].executionDate,validUntil:a.inPut.dataSet[0].validUntil,thenTotalAmntBal:a.inPut.dataSet[0].thenTotalAmntBal,prepaymentDueDate:a.inPut.dataSet[0].prepaymentDueDate},e.$loading.hide()});case 2:case"end":return t.stop()}},t,e)}))()},hasDraftData:function(){return!!this.matterList.length&&(0,d.default)({},"CGXY_DATA",{matter:this.matterList,dealerInfo:this.dealerInfo,formData:this.formData,contactInfo:this.contactInfo,inPut:this.inPut})},getRelationData:function(){},getLogisticsTerms:function(){var e=this;return(0,D.getDictByType)("dealerLogisticsTerms").then(function(t){var a=t.tableContent;e.logisticsTerm=a})}},created:function(){var e=sessionStorage.getItem("CGXY_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.dealerInfo=t.dealerInfo,this.formData=t.formData,this.contactInfo=t.contactInfo,this.inPut=t.inPut,sessionStorage.removeItem("CGXY_DATA")}}}},Sgei:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("iR2W"),d=n(l),u=a("kNGm"),c=n(u),f=a("QHLv"),m=a("0Nk0"),h=n(m);t.default={name:"PopMoneyOrderList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},required:{type:Boolean,default:!1},request:{type:String,default:"0"}},components:{RPopup:h.default},data:function(){return{page:1,limit:10,hasNext:!0,showPop:!1,srhInpTx:"",listData:[],scrollOptions:{pullUpLoad:!0},requestMethods:null}},watch:{show:{handler:function(e){this.showPop=e}},showPop:{handler:function(e){this.$emit("input",e)}}},methods:{selItem:function(e){this.$emit("sel-item",e)},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:"accepter"}])),this.requestMethods({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,o.default)(e.listData),(0,o.default)(r))})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()}},filters:{numberComma:d.default,dateFormat:c.default},created:function(){var e=[f.getInputDraft,f.getCashDiscount,f.getDraftBalance];this.requestMethods=e[this.request],this.getList()}}},ShHt:function(e,t,a){"use strict";function n(e){a("D8fo")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("N9Ou");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("RGJm"),o=a.n(s),l=a("Ggb2"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-0bbf486c",null);t.default=c.exports},SiYZ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("4YfN"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"RTab",props:{data:{type:Array,default:function(){return[{name:"全部",status:""},{name:"进行中",status:"进行中"},{name:"已生效",status:"已生效"},{name:"草稿",status:"草稿"}]}},activeIndex:{type:Number,default:0},mode:{type:String,default:"1"}},data:function(){return{activeTabIndex:0}},watch:{activeIndex:{handler:function(e){this.activeTabIndex=e},immediate:!0}},methods:{switchTab:function(e,t){this.activeTabIndex!==t&&(this.activeTabIndex=t,this.$emit("on-click",(0,i.default)({},e,{index:t})))}}}},Sj7T:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"matter-list":e.orderList,listTitle:"设施列表",count:e.count},scopedSlots:e._u([{key:"matterOther",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("类型: "+e._s(n.facilityType))]),e._v(" "),a("span",[e._v("单位: "+e._s(n.facilityUnit_facilityObjCode||"无"))]),e._v(" "),a("span",[e._v("大类: "+e._s(n.facilityBigType_facilityObjCode))]),e._v(" "),a("span",[e._v("子类: "+e._s(n.facilitySubclass_facilityObjCode||"无"))])]),e._v(" "),a("div",{staticClass:"mater_num"},[a("span",{staticClass:"num"},[e._v("估计价格: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.price),3)))]),e._v(" "),a("span",{staticClass:"num"},[e._v("本次申请: "+e._s(e._f("toFixed")(n.tdQty)))])]),e._v(" "),a("div",{staticClass:"mater_price"},[a("span",[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(n.tdAmount),3))+"\n            ")])])])]}}])}),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},Sksv:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MjAd"),r=n(i),s=a("OTZ4"),o=n(s);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2395,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"成品名称",value:"inventoryName_transObjCode"}],popShow:!1,requestParams:{calc_rel_code:8851,view_id:"view_113"}}},components:{PopTaskWorkList:o.default},mixins:[r.default],methods:{goEdit:function(){this.popShow=!0},selTask:function(e){var t=this.$route.query.name,a=this.$route.params,n=a.folder,i=a.fileName;this.$router.push({path:"/fillform/"+n+"/"+i,query:{name:t,childId:childId,inventoryCode:e[0].matCode,proPointCode:e[0].proPointCode}})}}}},SpJC:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("YP5q"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"alert",components:{XDialog:i.default},created:function(){void 0!==this.value&&(this.showValue=this.value)},props:{value:Boolean,title:String,content:String,buttonText:String,hideOnBlur:{type:Boolean,default:!1},maskTransition:{type:String,default:"vux-mask"},dialogTransition:{type:String,default:"vux-dialog"},maskZIndex:[Number,String]},data:function(){return{showValue:!1}},methods:{_onHide:function(){this.showValue=!1}},watch:{value:function(e){this.showValue=e},showValue:function(e){this.$emit("input",e)}}}},Srds:function(e,t,a){"use strict";function n(e){a("VPcv")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("82Uv");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("riHU"),o=a.n(s),l=a("A/ul"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-01652690",null);t.default=c.exports},Ss8W:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("BGNQ"),r=n(i),s=a("z5TY"),o=n(s),l=a("kNGm"),d=n(l),u=a("0AQX"),c=a("+VRO"),f=n(c),m=(a("Qg39"),a("BUFe")),h=n(m),v=a("AupE"),p=n(v),C=a("bFc7"),y=n(C);t.default={data:function(){return{workInfo:{},orderInfo:{},formViewUniqueId:"c5acfe84-3478-431b-bb18-93809e19cb62"}},mixins:[f.default],components:{Cell:r.default,Group:o.default,RAction:h.default,workFlow:p.default,contactPart:y.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment,t.formData.validUntil=(0,d.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workInfo=t.formData.order.dataSet[0],e.workFlowInfoHandler()})}}}},SyAi:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2433,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[i.default],methods:{},created:function(){}}},Syq3:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("IHPB"),d=n(l),u=a("MjAd"),c=n(u),f=a("1WsH");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"管理类",status:"M"},{name:"营销类",status:"Y"},{name:"技术类",status:"J"},{name:"专业类",status:"Z"},{name:"操作类",status:"C"}],biStatus:"",filterList:[{name:"职位名称",value:"name"}],activeName:""}},mixins:[c.default],methods:{getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=[];return this.activeTab.length&&(a=[{operator:"in",value:this.activeTab,property:"type"}]),this.serachVal&&(a=[].concat((0,d.default)(a),[{operator:"like",value:this.serachVal,property:"name"}]),this.activeTab.length&&(a[0].attendedOperation="and")),(0,f.getJobList)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(a),sort:(0,o.default)([{property:"crtTime",direction:"DESC"}])}).then(function(a){var n=a.dataCount,i=void 0===n?0:n,r=a.tableContent,s=void 0===r?[]:r;e.hasNext=i>(e.page-1)*e.limit+s.length,s.forEach(function(t){var a=["","使用中","未使用","草稿"];switch(t.status=a[t.status]||"停用",e.setStatus(t),t.type){case"Y":t.changeType="营销类";break;case"Z":t.changeType="专业类";break;case"J":t.changeType="技术类";break;case"C":t.changeType="操作类";break;case"M":t.changeType="管理类"}}),e.listData=1===e.page?s:e.listData.concat(s),t||e.$nextTick(function(){e.resetScroll()});var o="";t&&0===e.activeIndex&&e.total&&(o=i-e.total==0?"暂无新数据":o="新增"+(i-e.total)+"条数据",e.$vux.toast.show({text:o,position:"top",width:"50%",type:"text",time:700})),0===e.activeIndex&&1===e.page&&sessionStorage.setItem(e.applyCode,i),e.$loading.hide()}).catch(function(t){e.resetScroll()})},goNextPage:function(e,t,a){var n=this;if(!this.clickVisited){var i=this.$route.query.name,s=this.$route.params,o=s.folder,l=s.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,r.default)({},e));var d=a+"/"+o+"/"+l;setTimeout(function(){n.clickVisited=!1,n.$router.push({path:d,query:{name:i,id:e.id}})},200)}},goDetail:function(e,t){this.goNextPage(e,t,"/detail")},tabClick:function(e,t){this.activeIndex=t,this.activeTab=e.status,this.activeName="全部"===e.name?"":e.name,this.resetCondition(),this.getList()},goEdit:function(){var e=this.$route.query.name,t=this.$route.params,a=t.folder,n=t.fileName;this.$router.push({path:"/fillform/"+a+"/"+n,query:{name:e,jobType:this.activeName}})},setStatus:function(e){switch(e.status){case"使用中":e.statusClass="duty_done_c";break;default:e.statusClass="duty_fall_c"}}}}},T1aZ:function(e,t){},"T2+C":function(e,t){},T4DS:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("3cXf"),o=n(s),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("7g+Q"),C=n(p),y=a("PzEQ"),_=n(y),g=a("jnZd"),b=n(g),w=a("0AQX"),I=a("HyXB"),x=(a("jLp1"),a("bKg5")),D=n(x),P=a("aumL"),S=n(P),k=a("vl8n"),L=n(k),N=a("+WR7"),M=n(N),T=a("y8YJ"),A=n(T),O=a("zWMP");a("Qg39");t.default={mixins:[D.default],components:{Cell:c.default,Group:m.default,Popup:C.default,XInput:v.default,XTextarea:_.default,PopFundList:S.default,PopupPicker:b.default,RPicker:L.default,PopBaseinfo:M.default,PopDealerList:A.default},data:function(){return{listId:"b6b97d33-5d8e-4942-b978-09103d06f188",biComment:"",biReferenceId:"",showCostPop:!1,CostList:[{cashName:"",cashInCode:"",cashType_cashInCode:"",tdAmount:""}],selectedCost:[],costIndex:0,transCode:"",dealerInfo:{},contact:{},formData:{biComment:"",biProcessStatus:""}}},computed:{totalAmount:function(){var e=0;return this.CostList.forEach(function(t){t.tdAmount&&(e=(0,O.accAdd)(e,t.tdAmount))}),e}},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0]},selContact:function(e){this.contact=(0,d.default)({},e)},getCost:function(e,t){this.showCostPop=!0,this.costIndex=e,this.selectedCost=[t]},addCost:function(){this.expSubjectList=[],this.CostList.push({cashName:"",cashInCode:"",cashType_cashInCode:"",tdAmount:""})},deleteCost:function(){this.CostList.pop()},selMatter:function(e){var t=e;this.CostList[this.costIndex].cashName=t.fundName,this.CostList[this.costIndex].cashInCode=t.fundCode,this.CostList[this.costIndex].cashType_cashInCode=t.fundType},submitOrder:function(){var e=this,t="",a=[];if(this.CostList.every(function(e){return e.cashName?e.tdAmount?(a.push({tdId:e.tdId||"",cashInCode:e.cashInCode,cashType_cashInCode:e.cashType_cashInCode,tdAmount:e.tdAmount}),!0):(t="请填写支付金额",!1):(t="请选择资金账户",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=I.saveAndStartWf,n=(0,r.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,o.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:"",formData:(0,o.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName,dataSet:a},dealerCreditContactPersonName:e.contact.dealerName||null,dealerCreditContactInformation:e.contact.dealerMobilePhone||null})),wfPara:(0,o.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=I.saveAndCommitTask),e.processCode.length||(t=I.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,w.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.attachment=t.attachment,e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.CostList=[];var a=t.formData;e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),a.order.dataSet.forEach(function(t){var a={cashName:t.fundName_cashInCode,cashInCode:t.cashInCode,cashType_cashInCode:t.cashType_cashInCode,tdAmount:t.tdAmount,tdId:t.tdId};e.CostList.push(a)}),e.dealerInfo={creatorName:a.dealerCreditContactPersonName,dealerMobilePhone:a.dealerCreditContactInformation,dealerCode:a.order.dealerCodeCredit,dealerLabelName:a.order.crDealerLabel,dealerName:a.order.dealerName_dealerCodeCredit,province:a.order.province_dealerDebit,city:a.order.city_dealerDebit,county:a.order.county_dealerDebit,address:a.order.address_dealerCodeCredit},e.contact={dealerName:a.dealerCreditContactPersonName,dealerMobilePhone:a.dealerCreditContactInformation},e.$loading.hide()})},hasDraftData:function(){var e=!1;return this.CostList.forEach(function(t){if(t.cashName)return e=!0,!1}),!!e&&(0,r.default)({},"SK_DATA",{cost:this.CostList,formData:this.formData,dealerInfo:this.dealerInfo,contact:this.contact})}},created:function(){var e=sessionStorage.getItem("SK_DATA");if(e){var t=JSON.parse(e);this.CostList=t.cost,this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.contact=t.contact,sessionStorage.removeItem("SK_DATA")}}}},T5Lg:function(e,t,a){"use strict";function n(e){a("XsxV")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("tO34");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("53yf"),o=a.n(s),l=a("ZFcT"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-e486ee36",null);t.default=c.exports},"T7t+":function(e,t){},T7vi:function(e,t){},"TDh+":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MgeX"),r=n(i),s=a("HzJ8"),o=n(s),l=a("4YfN"),d=n(l),u=a("3cXf"),c=n(u),f=a("IHPB"),m=n(f),h=a("HXPS"),v=n(h),p=a("7g+Q"),C=n(p),y=a("1KNX"),_=n(y),g=(a("vS5q"),a("I3vJ")),b=a("7biW"),w=n(b);t.default={name:"PopOrderXQTJList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Object,default:function(){return{}}},listMethod:{type:String,default:"getDemandAdjustment"},params:{type:Object,default:function(){return{}}}},components:{Icon:v.default,Popup:C.default,RScroll:_.default,RSearch:w.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],listData:[],limit:100,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterProperty:"",filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"交易号",value:"transCode"}]}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}},params:{handler:function(){this.getList()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,m.default)(this.selItems)),this.$emit("input",!1),this.$event.$emit("shut-down-filter",!1)},findIndex:function(e,t){return e.findIndex(function(e){var a=!0,n=!0;return e.orderCode&&(a=e.orderCode===t.orderCode),e.colId&&(n=e.colId===t.colId),a&&n&&e.transCode===t.transCode&&e.inventoryCode===t.inventoryCode})},showSelIcon:function(e){return-1!==this.findIndex(this.tmpItems,e)},selThis:function(e,t){if(["getInProcessingOrder","getInProcessingStorage"].includes(this.listMethod)&&!e.orderCode)return void this.$vux.alert.show({content:"当前订单号不存在，不可选择"});if(e.qtyBal&&e.qtyStock<=0)return void this.$vux.alert.show({content:"当前库存为0，不可选择"});var a=this.tmpItems,n=this.findIndex(a,e);if(-1!==n)return void a.splice(n,1);a.push(e)},selConfirm:function(){this.showPop=!1,this.tmpItems.sort(function(e,t){return t.effectiveTime-e.effectiveTime}),this.selItems=[].concat((0,m.default)(this.tmpItems)),this.$emit("sel-matter",(0,c.default)(this.selItems))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getList:function(){var e=this,t=[];this.srhInpTx&&(t=[{operator:"like",value:this.srhInpTx,property:this.filterProperty}]);var a=this.$route.query.relationKey,n=void 0===a?"":a;return n&&(t=[{operator:"eq",value:n,property:"transCode"}]),(0,g.getXQTJList)((0,d.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,c.default)(t)},this.params),this.listMethod).then(function(t){var a=t.dataCount,i=void 0===a?0:a,r=t.tableContent,s=void 0===r?[]:r;s.forEach(function(t){t.inventoryPic=t.inventoryPic?"/H_roleplay-si/ds/download?url="+t.inventoryPic+"&width=400&height=400":e.getDefaultImg()}),n&&(e.selItems=[].concat((0,m.default)(s)),e.$emit("sel-matter",(0,c.default)(e.selItems))),e.hasNext=i>(e.page-1)*e.limit+s.length,e.listData=1===e.page?s:[].concat((0,m.default)(e.listData),(0,m.default)(s)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},resetCondition:function(){this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.resetCondition(),this.getList()},clearList:function(){this.srhInpTx="",this.resetCondition(),this.getList()},delSelItem:function(e){var t=this.findIndex(this.selItems,e);-1!==t&&this.selItems.splice(t,1),this.tmpItems=[].concat((0,m.default)(this.selItems))},clearSel:function(){this.selItems=[],this.tmpItems=[]},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var i,s=(0,o.default)((0,r.default)(this.defaultValue));!(t=(i=s.next()).done);t=!0){var l=i.value;e=[].concat((0,m.default)(e),(0,m.default)(l))}}catch(e){a=!0,n=e}finally{try{!t&&s.return&&s.return()}finally{if(a)throw n}}this.tmpItems=[].concat((0,m.default)(e)),this.selItems=[].concat((0,m.default)(e))}},created:function(){this.showPop=this.show,this.setDefaultValue(),this.getList()}}},TIJu:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pop_dealer_list",class:{"dealer-list-2":"2"===e.mode}},[a("div",{staticClass:"dealer-info",on:{click:function(t){e.showDealerPop=!e.showDealerPop}}},["2"===e.mode?[a("div",{staticClass:"title",class:{required:e.required}},[e._v(e._s(e.dealerLabel)+"名称")]),e._v(" "),a("div",{staticClass:"mode"},[e._v(e._s(e.dealerInfo.dealerName||e.placeholder))]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r-arrow"})]:[e.dealerInfo.dealerCode?a("div",{staticClass:"user-content"},[a("div",{staticClass:"user-info"},[a("div",{staticClass:"user-name"},[e.dealerInfo.dealerLabelName?a("span",{staticClass:"user-tips"},[e._v(e._s(e.dealerInfo.dealerLabelName))]):e._e(),e._v(" "),a("span",[e._v(e._s(e.dealerInfo.dealerName))])])]),e._v(" "),a("div",{staticClass:"cp-info"},[a("span",{staticClass:"iconfont icon-icon-test"}),e._v(" "),e.noAddress?a("span",{staticClass:"cp-ads"},[e._v("暂无联系地址")]):a("span",{staticClass:"cp-ads"},[e._v("\n          "+e._s(e.dealerInfo.province)+e._s(e.dealerInfo.city)+e._s(e.dealerInfo.county)+e._s(e.dealerInfo.address)+"\n        ")])])]):a("div",{staticClass:"user-content"},[a("div",{staticClass:"title"},[e._v(e._s(e.dealerTitle)+"列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择"+e._s(e.dealerTitle))])]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r-arrow"})]],2),e._v(" "),e.noContact?e._e():a("pop-contact-list",{attrs:{"dealer-info":e.dealerInfo,"default-value":e.contactInfo},on:{"sel-contact":e.selContact}}),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showDealerPop,callback:function(t){e.showDealerPop=t},expression:"showDealerPop"}},[a("div",{staticClass:"trade_pop"},[a("d-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("div",{ref:"dealer",staticClass:"mater_list"},[a("div",{staticClass:"mater_list_wrapper"},[e._l(e.dealerList,function(t,n){return a("div",{key:n,staticClass:"each_mater box_sd",on:{click:function(a){a.stopPropagation(),e.selDealer(t,n)}}},[a("div",{staticClass:"mater_main "},[a("div",{staticClass:"mater_info"},[a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline ",staticStyle:{display:"inline-block"}},[a("span",{staticClass:"dealer"},[e._v(e._s(t.dealerName))])])]),e._v(" "),t.dealerMobilePhone||t.dealerPhone?a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline name",staticStyle:{display:"inline-block"}},[t.dealerMobilePhone?a("span",{staticStyle:{marginRight:".04rem"}},[e._v(e._s(t.dealerMobilePhone))]):e._e(),e._v(" "),t.dealerPhone?a("span",[e._v(e._s(t.dealerPhone))]):e._e()])]):e._e(),e._v(" "),a("div",{staticClass:"withoutColor"},[a("span",[e._v(e._s(t.province)+e._s(t.city)+e._s(t.county)+e._s(t.address))])])])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),e._v(" "),a("load-more",{directives:[{name:"show",rawName:"v-show",value:e.hasNext,expression:"hasNext"}],attrs:{slot:"loadmore",tip:"加载中"},slot:"loadmore"}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.dealerList.length&&!e.hasNext,expression:"!dealerList.length && !hasNext"}],staticClass:"when-null",attrs:{slot:"loadmore"},slot:"loadmore"},[a("div",{staticClass:"title"},[e._v("抱歉，没有找到您搜索的内容")]),e._v(" "),a("ul",{staticClass:"tips"},[a("li",[e._v("\n                  不用担心，您马上可以进行 "),a("span",{staticClass:"addNew",on:{click:e.add}},[e._v("新增往来")])]),e._v(" "),a("li",[e._v("\n                  或者检查“输入内容”是否正确\n                ")])])])],2)])],1)])],1)],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},TIeJ:function(e,t,a){"use strict";function n(e){a("xAGr")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("eQeJ");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Fjox"),o=a.n(s),l=a("Mkeq"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-4562af4b",null);t.default=c.exports},TJSi:function(e,t){},TJZS:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("3cXf"),o=n(s),l=a("KH7x"),d=n(l),u=a("Q+Ik"),c=n(u),f=a("4YfN"),m=n(f),h=a("z5TY"),v=n(h),p=a("7g+Q"),C=(n(p),a("SAzG")),y=n(C),_=a("PzEQ"),g=n(_),b=a("vl8n"),w=n(b),I=a("+WR7"),x=n(I),D=a("y8YJ"),P=n(D),S=a("HyXB"),k=a("0AQX"),L=a("bKg5"),N=n(L);t.default={name:"ApplyCPXQForm",data:function(){return{listId:"b30f4d3e-b23d-11e8-96a5-005056a136d0",formViewUniqueId:"b018ef18-f0d1-41a8-985e-29de19e6b705",formData:{biId:"",demandTitle:"",demandDescribe:"",biComment:""},biReferenceId:"",dealerInfo:{},contactInfo:{},uploadStyle:{}}},mixins:[N.default],components:{Group:v.default,XInput:y.default,XTextarea:g.default,RPicker:w.default,PopBaseinfo:x.default,PopDealerList:P.default},methods:{selContact:function(e){this.contactInfo=(0,m.default)({},e)},selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],this.formData.launchDealerCode=this.dealerInfo.dealerCode},save:function(){var e=this,t={demandTitle:"标题",demandDescribe:"描述"};for(var a in this.formData)"string"==typeof this.formData[a]&&this.formData[a].indexOf(" ")>=0&&(this.formData[a]=this.formData[a].replace(/\s/g,""));var n="";if(!n&&(0,c.default)(t).every(function(t){var a=(0,d.default)(t,2),i=a[0],r=a[1];return!!e.formData[i]||(n=r+"不能为空",!1)}),n)return void this.$vux.alert.show({content:n});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=e.formData,a={productDealerCode:e.dealerInfo.dealerCode,address_productDealerCode:e.dealerInfo.address,demandDealerLabel:e.dealerInfo.dealerLabelName,dealerName_productDealerCode:e.dealerInfo.dealerName},n={dealerDebitContactPersonName:e.contactInfo.dealerName,dealerDebitContactInformation:e.contactInfo.dealerMobilePhone},i=e.processCode.length?S.saveAndStartWf:S.submitAndCalc,r={biComment:"",listId:e.listId,biReferenceId:e.biReferenceId,formData:(0,o.default)((0,m.default)({handlerEntity:e.entity.dealerName},t,a,n))};e.transCode&&(i=S.updateData),e.saveData(i,r)}})},getFormData:function(){var e=this;return(0,k.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.biReferenceId,o=void 0===s?"":s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=t.attachment,e.biReferenceId=o,e.formData=(0,m.default)({},e.formData,r),e.dealerInfo={dealerCode:r.productDealerCode,address:r.address_productDealerCode,dealerLabelName:r.demandDealerLabel,dealerName:r.dealerName_productDealerCode},e.$loading.hide()})},hasDraftData:function(){var e=this.formData;if(e.demandTitle||e.demandDescribe||e.processStatus)return(0,r.default)({},"CPXQ_DATA",{formData:this.formData,dealerInfo:this.dealerInfo,contactInfo:this.contactInfo})}},created:function(){var e=sessionStorage.getItem("CPXQ_DATA");e&&(this.formData=JSON.parse(e).formData,this.dealerInfo=JSON.parse(e).dealerInfo,this.contactInfo=JSON.parse(e).contactInfo,sessionStorage.removeItem("CPXQ_DATA"))}}},TSBw:function(e,t){},TTvH:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("BGNQ"),o=n(s),l=a("z5TY"),d=n(l),u=a("iR2W"),c=n(u),f=a("jLp1"),m=a("+VRO"),h=n(m),v=a("zWMP");t.default={data:function(){return{approval:{},comment:{}}},filters:{timeSplit:function(e){return e?e.split(" ")[0]:""}},mixins:[h.default],components:{Group:d.default,Cell:o.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,f.findProjectApproval)(t).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=t.attachment,s=void 0===i?[]:i;e.approval=n.projectApproval,e.attachment=s,e.comment=n.comment,e.orderInfo=(0,r.default)({},n.baseinfo,{biStatus:"已生效"})})},numberComma:function(e){return e||0===e?(0,c.default)(e):"无"},percent:function(e){return e||0===e?(0,v.accMul)(e,100)+"%":"无"}},created:function(){}}},TUz9:function(e,t,a){"use strict";function n(e){a("76tj")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("oA6L");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("MgnL"),o=a.n(s),l=a("v3Wb"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-326f58e3",null);t.default=c.exports},TXh4:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("a3Yh"),d=n(l),u=a("7g+Q"),c=n(u),f=a("+62G"),m=n(f),h=a("z5TY"),v=n(h),p=a("BGNQ"),C=n(p),y=a("iR2W"),_=n(y),g=a("u28h"),b=n(g),w=a("SAzG"),I=n(w),x=a("PzEQ"),D=n(x),P=a("HyXB"),S=a("fEP3"),k=a("0AQX"),L=a("bKg5"),N=n(L),M=a("7D9F"),T=n(M),A=a("89pA"),O=n(A),R=a("oxLw"),j=n(R),B=a("vl8n"),E=n(B),F=a("FlCz"),U=n(F),$=a("+WR7"),Q=n($),H=a("0o6b"),V=a("Qg39"),q=a("zWMP");t.default={directives:{TransferDom:m.default},components:{Popup:c.default,PopWorkCheckList:j.default,Group:v.default,Cell:C.default,Datetime:b.default,XInput:I.default,XTextarea:D.default,PopManagerList:T.default,RPicker:E.default,PopWarehouseList:O.default,BomList:U.default,PopBaseinfo:Q.default},data:function(){return{listId:"f9f1e0cb-7edf-43aa-b2f2-527e2525b96e",showWorkPop:!1,dealer:{},formData:{biComment:""},workInfo:{},defaultManager:{},biProcessStatus:"",scanResult:"",warehouse:{},filterParams:[{property:"warehouseType",operator:"eq",value:"加工车间仓"}],bomList:[]}},mixins:[N.default],filters:{numberComma:_.default},methods:{selWork:function(e){var t=this;e.tdQty=e.qtyBal,this.workInfo=e,(0,S.getBomWorkCheck)({transCode:e.transCode,inventoryCode:e.matCode}).then(function(e){var a=e.tableContent,n=void 0===a?[]:a;t.bomList=n,t.setBomQty()})},selManager:function(e){this.defaultManager=JSON.parse(e),this.workInfo.dealerDebit=this.defaultManager.dealerCode},checkAmt:function(e){var t=e.tdQty,a=e.qtyBal;t&&(t>a&&(e.tdQty=a),this.setBomQty())},submitOrder:function(){var e=this,t="",a=[],n=[];this.workInfo.transCode||(t="请选择工序");var i=[{key:"tdQty",msg:"请填写验收数量"}];if(t||i.every(function(a){return!!e.workInfo[a.key]||(t=a.msg,!1)}),t||this.defaultManager.dealerCode||(t="请选择验收者"),t||this.warehouse.warehouseCode||(t="请选择入库仓库"),t)return void this.$vux.alert.show({content:t});var s=this.workInfo;a.push({transMatchedCode:s.transCode,orderCode:s.orderCode,processCode:s.processCode,proPointCode:s.proPointCode,thenQtyBal:s.qtyBal,tdQty:s.tdQty,rearProPointCode:s.rearProPointCode||"",dealerDebit:this.defaultManager.dealerCode,proFlowCode:s.proFlowCode||"",transObjCode:s.matCode,tdProcessing:s.processing,skinFee:s.skinFee,wages:s.wages}),this.bomList.forEach(function(e){n.push({inventoryName_outPutMatCode:e.inventoryName,outPutMatCode:e.inventoryCode,proPointCode:s.proPointCode,transMatchedCode:s.transCode,orderCode:s.orderCode,processCode:s.processCode,parentInventoryCode:s.matCode,processProCode:s.matCode,tdProcessing:e.processing,specification_outPutMatCode:e.specification,measureUnit_outPutMatCode:e.measureUnit,containerCodeOut:e.whCode,bomType:e.bomType,bomQty:e.qty,bomSpecificLoss:e.specificLoss,tdQty:e.tdQty})}),this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=P.saveAndStartWf,i=(0,d.default)({},e.processCode,{businessKey:e.businessKey,createdBy:"",acceptor:s.dealerDebit,inWarehouseName:e.warehouse.warehouseName});e.isResubmit&&(i={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:e.formData.biComment});var l={listId:e.listId,biComment:e.formData.biComment,formData:(0,o.default)((0,r.default)({},e.formData,{handlerEntity:e.entity.dealerName,biProcessStatus:e.biProcessStatus||null,containerInWarehouseManager:e.warehouse.containerInWarehouseManager||null,order:{containerCode:e.warehouse.warehouseCode,dataSet:a},outPut:{containerCode:e.warehouse.warehouseCode,dataSet:n}})),wfPara:(0,o.default)(i)};e.isResubmit&&(t=P.saveAndCommitTask,l.biReferenceId=e.biReferenceId),e.processCode.length||(t=P.submitAndCalc,delete l.wfPara,delete l.biReferenceId),e.biReferenceId&&(l.biReferenceId=e.biReferenceId),e.saveData(t,l)}})},getFormData:function(){var e=this;return(0,k.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=t.attachment;var o=s.order,l=s.outPut,d=o.dataSet,u=void 0===d?[]:d,c=l.dataSet;e.workInfo=(0,r.default)({},u[0],{matCode:u[0].transObjCode,inventoryName:u[0].inventoryName_transObjCode,procedureName:u[0].procedureName_proPointCode,technicsName:u[0].technicsName_proFlowCode,qtyBal:u[0].thenQtyBal,transCode:u[0].transMatchedCode,processing:u[0].tdProcessing||null,wareName:o.warehouseName_containerCode,whInCode:o.containerCode,wareAddress:o.warehouseAddress_containerCode,dealerName:u[0].dealerName_dealerDebit,dealerCode:u[0].dealerDebit,dealerLabel:u[0].drDealerLabel}),e.defaultManager={dealerName:u[0].dealerName_dealerDebit,dealerCode:u[0].dealerDebit,dealerLabel:u[0].drDealerLabel},e.facility={facilityName:u[0].facilityName_facilityObjCode,facilityCode:u[0].facilityObjCode,facilityType:u[0].facilityTypebase_facilityObjCode},c.forEach(function(e){e.inventoryCode=e.outPutMatCode,e.inventoryName=e.inventoryName_outPutMatCode,e.measureUnit=e.measureUnit_outPutMatCode,e.parentInvCode=e.processProCode,e.processing=e.tdProcessing,e.qty=e.bomQty,e.whCode=e.containerCodeOut,e.specification=e.specification_outPutMatCode||"无",e.specificLoss=e.bomSpecificLoss||0}),e.bomList=c,e.warehouse={warehouseCode:o.containerCode,warehouseName:o.warehouseName_containerCode,warehouseType:o.warehouseType_containerCode,warehouseProvince:o.warehouseProvince_containerCode,warehouseCity:o.warehouseCity_containerCode,warehouseDistrict:o.warehouseDistrict_containerCode,warehouseAddress:o.warehouseAddress_containerCode},e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,r.default)({},e.handlerDefault,{biComment:s.biComment,biId:s.biId,biProcessStatus:s.biProcessStatus,creator:s.creator,modifer:s.modifer}),e.biProcessStatus=s.biProcessStatus,e.biReferenceId=s.biReferenceId,e.$loading.hide()})},scanQRCode:function(){var e=this;(0,H.scanQRCode)().then(function(t){var a=t.result,n=void 0===a?"":a;e.scanResult=n})},selWarehouse:function(e){this.warehouse=JSON.parse(e)},setBomQty:function(){var e=this.workInfo.tdQty;this.bomList=this.bomList.map(function(t){return(0,r.default)({},t,{tdQty:(0,V.toFixed)((0,q.accMul)(t.qty,e,1+t.specificLoss),2)})})}},created:function(){}}},TYbG:function(e,t){},TZQl:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("BGNQ"),o=n(s),l=a("z5TY"),d=n(l),u=a("kNGm"),c=n(u),f=a("iR2W"),m=n(f),h=a("jLp1"),v=a("+VRO"),p=n(v);t.default={data:function(){return{comment:{},projectApproval:{},projectTime:{},projectConclusion:{}}},filters:{dateFormat:c.default},mixins:[p.default],components:{Group:d.default,Cell:o.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,h.findProjectConclusion)(t).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=t.attachment,s=void 0===i?[]:i;e.comment=n.comment,e.attachment=s,e.projectApproval=n.projectApproval,e.projectTime=n.projectTime,e.projectConclusion=n.projectConclusion,e.orderInfo=(0,r.default)({},n.baseinfo,{biStatus:"已生效"})})},numberComma:function(e){return e||0===e?(0,m.default)(e):"无"}},created:function(){}}},TZXR:function(e,t,a){"use strict";function n(e){a("Opmd")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("P3eF");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("ILd/"),o=a.n(s),l=a("0hym"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-b1530964",null);t.default=c.exports},TgCX:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("MgeX"),o=n(s),l=a("a3Yh"),d=n(l),u=a("ZLEe"),c=n(u),f=a("3cXf"),m=n(f),h=a("4YfN"),v=n(h),p=a("BGNQ"),C=n(p),y=a("z5TY"),_=n(y),g=a("SAzG"),b=n(g),w=a("kNGm"),I=n(w),x=a("PzEQ"),D=n(x),P=a("u28h"),S=n(P),k=a("jnZd"),L=n(k),N=a("HyXB"),M=a("0AQX"),T=a("bKg5"),A=n(T),O=a("ZQWM"),R=n(O),j=a("vl8n"),B=n(j),E=a("+WR7"),F=n(E),U=a("VZtf"),$=n(U),Q=a("9cRV"),H=n(Q),V=a("luHD"),q=n(V),Y=a("lsbD"),X=n(Y),G=(a("Qg39"),a("zWMP"));t.default={mixins:[A.default],components:{Cell:C.default,Group:_.default,XInput:b.default,Datetime:S.default,XTextarea:D.default,PopDealerList:R.default,PopupPicker:L.default,RPicker:B.default,PopBaseinfo:F.default,RNumber:$.default,PopMatterList:H.default,PopMatter:q.default,OpButton:X.default},data:function(){return{dealerInfo:{},contactInfo:{},invoiceType:[["普通发票","专用发票"]],invoiceGetType:[],invoiceInfo:{ticketNumber:"",invoiceType:"",invoiceAmount:"",invoiceDate:"",invoiceContent:""},invoicePlan:[],taxRate:.16,showInvoicePop:!1,seletedIndex:0,seletedInvoice:[],formData:{biProcessStatus:"",biComment:""},formDataComment:"",projectName:"",matterList:[],orderList:{},showMaterielPop:!1,matterParams:{},numMap:{},checkFieldList:[{key:"tdQty",message:"请填写本次开票数量"},{key:"taxRate",message:"请填写税率"}],filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"申请单",value:"transCode"}]}},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],null!=this.matterParams.data.dealerCode&&(this.matterParams.data.dealerCode=this.dealerInfo.dealerCode,this.matterList=[],this.orderList={})},selContact:function(e){this.contactInfo=(0,v.default)({},e)},typeTask:function(e){this.invoiceInfo.invoiceType=e[0]},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,m.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.inventoryCode!==e.inventoryCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getMatter:function(){if(!this.dealerInfo.dealerCode)return void this.$vux.alert.show({content:"请选择客户"});this.showMaterielPop=!this.showMaterielPop},selMatter:function(e){var t=JSON.parse(e),a={};t.forEach(function(e){e.tdQty=e.tdQty||e.qtyBal,e.taxRate=e.taxRate||.16,e.purchaseDay=(0,I.default)(e.calcTime,"YYYY-MM-DD")||e.purchaseDay,e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null,a[e.transCode]||(a[e.transCode]=[]),a[e.transCode].push(e)}),this.numMap={},this.matterList=t,this.orderList=a},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t,a){var n=this.selItems,i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode&&e.transCode===t.transCode});if(-1!==i)return void n.splice(i,1);n.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,c.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});i>=0&&(e.$refs.matter.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this,t="",a=[];this.dealerInfo.dealerCode||(t="请选择客户信息");var n=[{tip:"ticketNumber",msg:"请输入票号"},{tip:"invoiceType",msg:"请选择发票类型"},{tip:"invoiceDate",msg:"请选择发票日期"}];if(t||n.every(function(a){return!!e.invoiceInfo[a.tip]||(t=a.msg,!1)}),t||this.matterList.length||(t="请选择物料"),t||this.matterList.every(function(n){if(!n.tdQty&&0!==n.tdQty)return t="请填写本次开票数量",!1;var i=n.taxRate||e.taxRate,r=(0,G.accMul)(n.price,n.tdQty);(0,G.accMul)(r,i);return a.push({tdId:n.tdId||"",transMatchedCode:n.transCode,salesOutCode:n.salesOutCode,inventoryName_transObjCode:n.inventoryName,transObjCode:n.inventoryCode,tdProcessing:n.processing,measureUnit_transObjCode:n.measureUnit,assMeasureUnit:n.assMeasureUnit||"",assMeasureDescription:n.assMeasureDescription||"",assMeasureScale:n.assMeasureScale,thenQtyBal:n.qtyBal,tdQty:n.tdQty,assistQty:n.assistQty,price:n.price,tdAmount:n.tdAmount,taxRate:i,noTaxPrice:n.noTaxPrice,taxAmount:n.taxAmount,comment:n.comment}),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=N.saveAndStartWf,n=(0,d.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,m.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:"",formData:(0,m.default)((0,v.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{crDealerLabel:e.dealerInfo.dealerLabelName,dealerCodeCredit:e.dealerInfo.dealerCode,dataSet:a},dealerCreditContactPersonName:e.contactInfo.dealerName||null,dealerCreditContactInformation:e.contactInfo.dealerMobilePhone||"",invoiceDate:e.invoiceInfo.invoiceDate,ticketNumber:e.invoiceInfo.ticketNumber,invoiceType:e.invoiceInfo.invoiceType,invoiceContent:e.invoiceInfo.invoiceContent})),wfPara:(0,m.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=N.saveAndCommitTask),e.processCode.length||(t=N.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,M.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.attachment=t.attachment,e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId;var a=t.formData;e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,v.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),e.dealerInfo=(0,v.default)({},e.dealerInfo,{dealerName:a.order.dealerName_dealerCodeCredit,dealerCode:a.order.dealerCodeCredit,province:a.order.province_dealerCodeCredit,city:a.order.city_dealerCodeCredit,county:a.order.county_dealerCodeCredit,address:a.order.address_dealerCodeCredit,dealerMobilePhone:a.dealerMobilePhone_dealerCodeCredit,dealerLabelName:a.order.crDealerLabel}),e.contactInfo={dealerName:a.dealerCreditContactPersonName,dealerMobilePhone:a.dealerCreditContactInformation};var n={};a.order.dataSet.forEach(function(t){t.transCode=t.transMatchedCode,t.inventoryName=t.inventoryName_transObjCode,t.inventoryCode=t.transObjCode,t.inventoryPic=t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),t.qtyBal=t.thenQtyBal,t.processing=t.tdProcessing,t.measureUnit=t.measureUnit_transObjCode,e.matterList.push(t),n[t.transCode]||(n[t.transCode]=[]),n[t.transCode].push(t)}),e.orderList=n,e.invoiceInfo=(0,v.default)({},e.invoiceInfo,{ticketNumber:a.ticketNumber,invoiceType:a.invoiceType,invoiceAmount:a.invoiceAmount,invoiceDate:(0,I.default)(a.invoiceDate,"YYYY-MM-DD"),invoiceContent:a.invoiceContent}),e.invoiceGetType.push(a.invoiceType),e.dealerParams.dealerCode=a.order.dealerCodeCredit,e.$loading.hide()})},hasDraftData:function(){return!!(0,o.default)(this.dealerInfo).length&&(0,d.default)({},"ZZSKP_DATA",{invoice:{dealer:this.dealerInfo,invoiceInfo:this.invoiceInfo,contactInfo:this.contactInfo,orderList:this.orderList}})}},created:function(){var e=sessionStorage.getItem("ZZSKP_DATA");if(e){var t=JSON.parse(e);this.dealerInfo=t.invoice.dealer,this.contactInfo=t.invoice.contactInfo,this.invoiceInfo=t.invoice.invoiceInfo,this.orderList=t.invoice.orderList;var a=!0,n=!1,i=void 0;try{for(var s,l=(0,r.default)((0,o.default)(this.orderList));!(a=(s=l.next()).done);a=!0){var d=s.value,u=!0,c=!1,f=void 0;try{for(var m,h=(0,r.default)(d);!(u=(m=h.next()).done);u=!0){var v=m.value;this.matterList.push(v)}}catch(e){c=!0,f=e}finally{try{!u&&h.return&&h.return()}finally{if(c)throw f}}}}catch(e){n=!0,i=e}finally{try{!a&&l.return&&l.return()}finally{if(n)throw i}}this.invoiceGetType.push(this.invoiceInfo.invoiceType),sessionStorage.removeItem("ZZSKP_DATA")}}}},TglZ:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-part"},e._l(e.BusApps,function(t,n){return a("div",{key:n,staticClass:"each_part"},[Object.values(t.appList).length>0?[a("div",{staticClass:"app-container defalut_bg"},[a("div",{staticClass:"app_classify_name"},[a("p",[e._v(e._s(t.name))])]),e._v(" "),a("div",{staticClass:"app-list"},e._l(t.appList,function(n,i){return n.text?a("div",{key:i,staticClass:"indval_app",on:{click:function(a){e.goList(t.folder,n.packagePath,n.text,n.listId)}}},[[a("div",{staticClass:"app_img"},[a("img",{attrs:{src:n.icon},on:{error:function(t){e.getDefaultIcon(n)}}})]),e._v(" "),a("div",{staticClass:"app_info vux-1px-b"},[a("div",{staticClass:"app_name"},[e._v(e._s(n.text))]),e._v(" "),a("div",{staticClass:"app_detail_btn",on:{click:function(t){t.stopPropagation(),e.goAppDetail(n.listId)}}},[e._v("应用详情")])])]],2):e._e()}),0),e._v(" "),a("div",{staticClass:"child-list"},e._l(t.appList,function(n,i){return n.childName?a("div",{key:i,staticClass:"each_child"},[a("div",{staticClass:"child_name"},[a("span",{staticClass:"circle"}),e._v(" "),a("span",[e._v(e._s(n.childName))])]),e._v(" "),a("div",{staticClass:"child_apps_list"},e._l(n.childList,function(n,i){return a("div",{key:i,staticClass:"child_apps",on:{click:function(a){e.goList(t.folder,n.packagePath,n.text,n.listId)}}},[a("div",{staticClass:"app_img"},[a("img",{attrs:{src:n.icon},on:{error:function(t){e.getDefaultIcon(n)}}})]),e._v(" "),a("div",{staticClass:"app_info vux-1px-b"},[a("div",{staticClass:"app_name"},[e._v(e._s(n.text))]),e._v(" "),a("div",{staticClass:"app_detail_btn",on:{click:function(t){t.stopPropagation(),e.goAppDetail(n.listId)}}},[e._v("应用详情")])])])}),0)]):e._e()}),0)])]:e._e()],2)}),0)},i=[],r={render:n,staticRenderFns:i};t.a=r},Thu3:function(e,t){},Tizq:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("u28h"),r=n(i),s=a("SAzG"),o=n(s),l=a("yt3/"),d=n(l),u=a("Qg39");t.default={name:"dealerOtherPart",props:{dealerConfig:{type:Array,default:function(){return[]}},dealerInfo:{type:Object,default:function(){return{}}}},computed:{config:function(){return this.dealerConfig}},data:function(){return{}},components:{PopSingleSelect:d.default,Datetime:r.default,XInput:o.default},watch:{dealerInfo:{handler:function(e){var t=e.drDealerPaymentTerm;this.config.forEach(function(e){if("tdAmountCopy1"===e.fieldCode||"prepaymentDueDate"===e.fieldCode){if(t&&t.includes("预收"))return void(e.hiddenInRun=!1);e.hiddenInRun=!0}})},deep:!0}},methods:{checkAmt:function(e){var t=e.tdAmountCopy1;t&&(e.tdAmountCopy1=Math.abs((0,u.toFixed)(t)))}}}},Tn0E:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[e.matterList.length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.matterList,function(t,n){return a("div",{key:n,staticClass:"each_mater",class:{mater_delete:e.matterModifyClass,"vux-1px-b":n<e.matterList.length-1}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass,config:e.matterEditConfig.property},on:{"on-modify":function(a){e.modifyMatter(t,n)}},nativeOn:{click:function(a){e.delClick(n,t)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_num"},[a("span",{directives:[{name:"show",rawName:"v-show",value:n.tdQty,expression:"item.tdQty"}],staticClass:"current_num"},[e._v("\n                      数量: "+e._s(n.tdQty)+"\n                    ")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.promDeliTime,expression:"item.promDeliTime"}],staticClass:"current_num",staticStyle:{"margin-left":"0.05rem"}},[e._v("\n                      预期完工日: "+e._s(n.promDeliTime)+"\n                    ")])])]}},{key:"edit",fn:function(t){var i=t.item;return[i.tdQty||e.matterModifyClass?e._e():a("div",{staticClass:"mater_other",on:{click:function(t){e.modifyMatter(i,n)}}},[a("div",{staticClass:"edit-tips"},[e._v("点击进行填写")])])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(n,t)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)}),0)]:[a("div",{on:{click:function(t){e.showMaterielPop=!e.showMaterielPop}}},[a("div",{staticClass:"title"},[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择"+e._s(e.orderListTitle))]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),e.matterList.length?a("span",{staticClass:"add_more",on:{click:e.addMatter}},[e._v("新增更多物料")]):e._e()]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showMaterielPop,"default-value":e.matterList,"matter-params":e.matterParams,"order-title":e.matterPopOrderTitle,config:e.matterPopConfig},on:{"sel-matter":e.selMatter},model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}})],2),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,config:e.matterEditConfig},on:{"sel-confirm":e.selConfirm},model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},TnC3:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("3cXf"),o=n(s),l=a("a3Yh"),d=n(l),u=a("4YfN"),c=n(u),f=a("7g+Q"),m=n(f),h=a("+62G"),v=n(h),p=a("z5TY"),C=n(p),y=a("BGNQ"),_=n(y),g=a("iR2W"),b=n(g),w=a("u28h"),I=n(w),x=a("SAzG"),D=n(x),P=a("PzEQ"),S=n(P),k=a("0AQX"),L=a("HyXB"),N=a("I3vJ"),M=a("bKg5"),T=n(M),A=a("wRUd"),O=n(A),R=a("i61Q"),j=n(R),B=a("hByD"),E=n(B),F=a("89pA"),U=n(F),$=a("vl8n"),Q=n($),H=a("+WR7"),V=n(H),q=a("0o6b"),Y=a("zWMP"),X=a("Qg39");t.default={directives:{TransferDom:v.default},components:{Popup:m.default,PopWorkList:j.default,Group:C.default,Cell:_.default,Datetime:I.default,XInput:D.default,XTextarea:S.default,PopManagerList:O.default,RPicker:Q.default,PopWorkFacilityList:E.default,PopWarehouseList:U.default,PopBaseinfo:V.default},data:function(){return{listId:"2372f734-93c1-11e8-85db-005056a136d0",showWorkPop:!1,showManagerPop:!1,showFacilityPop:!1,formData:{biComment:"",biProcessStatus:""},workInfo:[],defaultManager:{},defaultFacility:{},scanResult:"",warehouse:{},filter:[{operator:"in",property:"whCode",value:""},{operator:"in",property:"parentInvCode",value:""}],filterParams:[{property:"warehouseType",operator:"eq",value:"加工车间仓"}],managerIndex:null,facilityIndex:null}},mixins:[T.default],filters:{numberComma:b.default},methods:{selWork:function(e){this.workInfo=JSON.parse(e),this.workInfo.forEach(function(e,t){e.tdQty=e.thenQtyBal})},showManager:function(e){this.managerIndex=e,this.showManagerPop=!this.showManagerPop},selManager:function(e){this.defaultManager=JSON.parse(e),this.workInfo[this.managerIndex].dealerName_dealerDebit=this.defaultManager.dealerName,this.workInfo[this.managerIndex].dealerDebit=this.defaultManager.dealerCode,this.workInfo[this.managerIndex].drDealerLabel=this.defaultManager.dealerLabelName},showFacility:function(e){this.facilityIndex=e,this.showFacilityPop=!this.showFacilityPop},selFacility:function(e){this.defaultFacility=e,this.workInfo[this.facilityIndex].facilityName_facilityObjCode=this.defaultFacility.facilityName,this.workInfo[this.facilityIndex].facilityObjCode=this.defaultFacility.facilityCode,this.workInfo[this.facilityIndex].facilityTypebase_facilityObjCode=this.defaultFacility.facilityType},checkAmt:function(e,t){var a=e.tdQty,n=e.thenQtyBal,i=e.numberWorkers;a&&(a>n&&(e.tdQty=n),e.tdQty=Math.abs((0,X.toFixed)(a)),e.boms&&e.boms.forEach(function(t){var a=(0,Y.accMul)(e.tdQty,t.qty);t.tdQty=Math.abs((0,X.toFixed)(a))})),i&&(e.numberWorkers=Math.round(i))},selWarehouse:function(e){var t=this;this.warehouse=JSON.parse(e),this.filter[0].value=this.warehouse.warehouseCode,this.workInfo.forEach(function(e,a){t.filter[1].value=e.inventoryCode,t.getTaskBom(a).then(function(n){e.boms=n,t.$set(t.workInfo,a,(0,c.default)({},e))})})},submitOrder:function(){var e=this,t="",a=[],n=[{key:"tdQty",message:"请填写派工数量"},{key:"dealerName_dealerDebit",message:"请选择组长"},{key:"promDeliTime",message:"请选择要求完工日期"}];if(this.workInfo.length||(t="请选择工序"),t||this.warehouse.warehouseCode||(t="请选择在制仓库"),t||this.workInfo.every(function(e){n.every(function(a){return!(!e[a.key]&&0!==e[a.key])||(t=a.message,!1)});var i=[];return e.boms.forEach(function(t){i.push({tdQty:t.tdQty,proPointCode:e.proPointCode,processCode:e.transCode,processProCode:e.inventoryCode,outPutMatCode:t.inventoryCode,bomSpecificLoss:t.specificLoss,thenQtyStock:t.qtyBal,specification_outPutMatCode:t.specification,tdProcessing:t.processing,inventoryName_outPutMatCode:t.inventoryName,measureUnit_outPutMatCode:t.measureUnit,bomType:t.bomType,bomQty:t.qty,thenLockQty:t.tdQty,thenQtyBal:0})}),a.push({transMatchedCode:e.transCode,processProQty:e.processProQty||null,transObjCode:e.inventoryCode,inventoryName_transObjCode:e.inventoryName,tdProcessing:e.processing,proPointCode:e.proPointCode,procedureName_proPointCode:e.procedureName,tdId:e.tdId||null,productDemandQty:e.productDemandQty,thenLockQty:e.thenLockQty,thenQtyBal:e.thenQtyBal,tdQty:e.tdQty,dealerName_dealerDebit:e.dealerName_dealerDebit,dealerDebit:e.dealerDebit,drDealerLabel:e.drDealerLabel,numberWorkers:e.numberWorkers||null,facilityName_facilityObjCode:e.facilityName_facilityObjCode||null,proFlowCode:e.proFlowCode||"",technicsName_proFlowCode:e.technicsName,promDeliTime:e.promDeliTime,facilityObjCode:e.facilityObjCode||null,facilityTypebase_facilityObjCode:e.facilityTypebase_facilityObjCode||null,boms:i}),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=L.saveAndStartWf,n=(0,d.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:e.formData.biComment});var i={listId:e.listId,biComment:e.formData.biComment,formData:(0,o.default)((0,c.default)({},e.formData,{handlerEntity:e.entity.dealerName,order:{containerCode:e.warehouse.warehouseCode,dataSet:a}})),wfPara:(0,o.default)(n)};e.isResubmit&&(t=L.saveAndCommitTask,i.biReferenceId=e.biReferenceId),e.processCode.length||(t=L.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),console.log(i),e.saveData(t,i)}})},scanQRCode:function(){var e=this;(0,q.scanQRCode)().then(function(t){var a=t.result,n=void 0===a?"":a;e.scanResult=n})},onHistoryBack:function(){return!this.showWorkPop||(this.showWorkPop=!1,!1)},getFormData:function(){var e=this;return(0,k.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=t.attachment;var o=[],l=s.order,d=l.dataSet,u=void 0===d?[]:d,f=!0,m=!1,h=void 0;try{for(var v,p=(0,r.default)(u);!(f=(v=p.next()).done);f=!0){var C=v.value;C=(0,c.default)({},C,{inventoryCode:C.transObjCode,inventoryName:C.inventoryName_outPutMatCode,procedureName:C.procedureName_proPointCode,technicsName:C.technicsName_proFlowCode,transCode:C.transMatchedCode,processing:C.tdProcessing||null}),C.boms.forEach(function(e){e.inventoryCode=e.outPutMatCode,e.nventoryName=e.inventoryName_outPutMatCode,e.measureUnit=e.measureUnit_outPutMatCode,e.parentInvCode=e.processProCode,e.processing=e.tdProcessing,e.qty=e.bomQty,e.qtyBal=e.thenQtyStock,e.specification=e.specification_outPutMatCode,e.specificLoss=e.bomSpecificLoss}),o.push(C)}}catch(e){m=!0,h=e}finally{try{!f&&p.return&&p.return()}finally{if(m)throw h}}e.workInfo=o,e.warehouse={warehouseCode:l.containerCode,warehouseName:l.warehouseName_containerCode,warehouseType:l.warehouseType_containerCode,warehouseProvince:l.warehouseProvince_containerCode,warehouseCity:l.warehouseCity_containerCode,warehouseDistrict:l.warehouseDistrict_containerCode,warehouseAddress:l.warehouseAddress_containerCode},e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,c.default)({},e.handlerDefault,{biComment:s.biComment,biId:s.biId,biProcessStatus:s.biProcessStatus,creator:s.creator,modifer:s.modifer}),e.biReferenceId=s.biReferenceId,e.$loading.hide()})},getTaskBom:function(e){var t=this;return this.filter[0].value=this.warehouse.warehouseCode,(0,N.getTaskBom)({filter:(0,o.default)(this.filter)}).then(function(a){var n=a.tableContent,i=void 0===n?[]:n;return i.forEach(function(a){var n=t.workInfo[e].tdQty,i=(0,Y.accMul)(n,a.qty,1+a.specificLoss);a.tdQty=(0,X.toFixed)(i)}),i})}},created:function(){}}},"Tra/":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2572,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"},{name:"往来名称",value:"dealerName_dealerCodeCredit"}]}},mixins:[i.default],methods:{},created:function(){}}},TruQ:function(e,t,a){"use strict";function n(e){a("xBH9")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("+s0Z");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("TTvH"),o=a.n(s),l=a("d329"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-4db4197e",null);t.default=c.exports},TuPP:function(e,t){},TweL:function(e,t){},U0ny:function(e,t,a){"use strict";function n(e){a("Zc5Q")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Jz7U");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("8qlz"),o=a.n(s),l=a("nL0P"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-b2b5c2ec",null);t.default=c.exports},UAsZ:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("6q39"),v=n(h),p=a("kNGm"),C=n(p),y=a("fEP3"),_=a("1KNX"),g=n(_),b=a("7biW"),w=n(b);t.default={name:"PopWorkStartList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:m.default,LoadMore:v.default,RScroll:g.default,MSearch:w.default},filters:{dateFormat:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},workList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"工序名称",value:"procedureName"}],filterProperty:""}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){return this.selItems.colId===e.colId},selThis:function(e,t){this.showPop=!1,this.selItems=(0,d.default)({},e),this.$emit("sel-work",this.selItems)},setDefaultValue:function(){this.selItems=(0,d.default)({},this.defaultValue)},getWorkOrderTask:function(){var e=this,t=[];if(this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),this.$route.query.inventoryCode){var a=this.$route.query,n=a.inventoryCode,i=a.proPointCode;t=[].concat((0,o.default)(t),[{operator:"eq",value:n,property:"inventoryCode",separator:"and"},{operator:"eq",value:i,property:"proPointCode"}])}return(0,y.getWorkStartList)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.$route.query.inventoryCode&&e.$emit("sel-work",r[0]),e.hasNext=n>(e.page-1)*e.limit+r.length,e.workList=1===e.page?r:[].concat((0,o.default)(e.workList),(0,o.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.workList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getWorkOrderTask()},onPullingUp:function(){this.page++,this.getWorkOrderTask()}},created:function(){this.setDefaultValue(),this.getWorkOrderTask()}}},UBaU:function(e,t,a){"use strict";function n(e){a("fcvP")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("UmsA");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("UJAU"),o=a.n(s),l=a("sD3A"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-2be13cf0",null);t.default=c.exports},UD9u:function(e,t,a){"use strict";function n(e){a("cRi4")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("2/p2");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("4CTk"),o=a.n(s),l=a("L4KZ"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-0ea70ae4",null);t.default=c.exports},UFIK:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("a3Yh"),o=n(s),l=a("3cXf"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("7g+Q"),C=n(p),y=a("PzEQ"),_=n(y),g=a("jnZd"),b=n(g),w=a("u28h"),I=n(w),x=a("kNGm"),D=n(x),P=a("iR2W"),S=n(P),k=a("0AQX"),L=a("HyXB"),N=(a("jLp1"),a("bKg5")),M=n(N),T=a("wuIh"),A=n(T),O=a("CKaN"),R=n(O),j=a("vl8n"),B=n(j),E=a("+WR7"),F=n(E),U=a("zWMP"),$=a("Qg39");t.default={mixins:[M.default],components:{Cell:c.default,Group:m.default,Popup:C.default,XInput:v.default,XTextarea:_.default,PopupPicker:b.default,RPicker:B.default,PopBaseinfo:F.default,PopMoneyOrderList:A.default,Datetime:I.default,PopCashList:R.default},data:function(){return{listId:"bb9ce973-2f62-4707-a54c-7e8605dc99d6",biReferenceId:"",selectedCost:[],costIndex:0,transCode:"",formData:{biComment:"",biProcessStatus:""},showOrder:!1,orderList:[],cashInfo:{}}},computed:{tdAmount:function(){var e=0;return this.orderList.forEach(function(t){t.thenAmntBal&&(e=(0,U.accAdd)(e,t.thenAmntBal))}),(0,$.toFixed)(e)}},filters:{numberComma:S.default,dateFormat:D.default},methods:{submitOrder:function(){var e=this,t="",a=[],n=[{key:"cashingDiscountDate",message:"请选择兑现贴现日"}];if(t||this.orderList.length||(t="请选择汇票明细"),t||this.orderList.every(function(e){return n.every(function(a){return e[a.key]||0===e[a.key]||(t=a.message),!t}),a.push({tdId:e.tdId||null,draftNumber:e.draftNumber,draftType:e.draftType,accepter:e.accepter,tdAmount:e.tdAmount,draftDate:e.draftDate,draftDueDate:e.draftDueDate,cashingDiscountDate:e.cashingDiscountDate,discount:e.discount,thenAmntBal:e.thenAmntBal,comment:e.comment||""}),!t}),t||this.cashInfo.fundName||(t="请选择资金账户"),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=L.saveAndStartWf,n=(0,o.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,d.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.formData.biComment,formData:(0,d.default)((0,r.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",inPut:{dataSet:[{fundName_cashInCode:e.cashInfo.fundName,cashInCode:e.cashInfo.fundCode,cashType_cashInCode:e.cashInfo.fundType,thenAmntBal:e.cashInfo.amntBal,tdAmount:e.tdAmount}]},order:{dataSet:a},deposit:null})),wfPara:(0,d.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=L.saveAndCommitTask),e.processCode.length||(t=L.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,k.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.attachment,n=void 0===a?[]:a,i=t.listId,s=void 0===i?"":i,o=(t.biComment,t.biReferenceId),l=void 0===o?"":o,d=t.formData,u=void 0===d?{}:d;e.attachment=n,e.listId=s,e.biReferenceId=l,e.handlerDefault={handler:u.handler,handlerName:u.handlerName,handlerUnit:u.handlerUnit,handlerUnitName:u.handlerUnitName,handlerRole:u.handlerRole,handlerRoleName:u.handlerRoleName},e.formData=(0,r.default)({},e.formData,e.handlerDefault,{biComment:u.biComment,biId:u.biId,biProcessStatus:u.biProcessStatus,creator:u.creator,modifer:u.modifer});var c=u.order,f=void 0===c?{}:c,m=u.inPut,h=void 0===m?{}:m,v=f.dataSet,p=void 0===v?[]:v;e.cashInfo={fundName:h.dataSet[0].fundName_cashInCode,fundCode:h.dataSet[0].cashInCode,fundType:h.dataSet[0].cashType_cashInCode,tdAmount:h.dataSet[0].tdAmount,amntBal:h.dataSet[0].thenAmntBal},e.orderList=p,e.$loading.hide()})},hasDraftData:function(){return!!this.orderList.dealerCode&&(0,o.default)({},"DXTXCDHP_DATA",{formData:this.formData,cashInfo:this.cashInfo,orderList:this.orderList})},getRelationData:function(){},selOrder:function(e){e.forEach(function(e){e.draftDate=(0,D.default)(e.draftDate,"YYYY-MM-DD"),e.draftDueDate=(0,D.default)(e.draftDueDate,"YYYY-MM-DD"),e.tdAmount=e.amntTbMatched}),this.orderList=e,this.orderList.forEach(function(e){e.discount||(e.discount=0),e.thenAmntBal=Number((0,U.accSub)(e.tdAmount,e.discount))})},addOrder:function(){this.showOrder=!0},selCash:function(e){this.cashInfo=(0,r.default)({},e)},checkAmt:function(e,t){var a=e.discount,n=void 0===a?0:a;e.discount=Math.abs((0,$.toFixed)(n)),e.thenAmntBal=Number((0,U.accSub)(e.amntTbMatched,e.discount)),this.$set(this.orderList,t,(0,r.default)({},e))}},created:function(){var e=sessionStorage.getItem("DXTXCDHP_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.cashInfo=t.cashInfo,this.orderList=t.orderList,sessionStorage.removeItem("DXTXCDHP_DATA")}}}},UI89:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("kNGm"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o);t.default={data:function(){return{userData:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},uploadStyle:{width:"100%",padding:"0.06rem 0.1rem"}}},mixins:[l.default],filters:{date:function(e){return(0,r.default)(e,"YYYY-MM-DD")}},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=o,e.userData=r,e.workFlowInfoHandler()})},goEdit:function(){var e=this.$route.params,t=e.folder,a=e.fileName,n=this.$route.query.name;this.$router.push({path:"/fillform/"+t+"/"+a,query:{name:n,transCode:this.transCode}})}}}},UIPT:function(e,t){},UJAU:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("4YfN"),o=n(s),l=a("MgeX"),d=n(l),u=a("HzJ8"),c=n(u),f=a("ZLEe"),m=n(f),h=a("3cXf"),v=n(h),p=a("HXPS"),C=n(p),y=a("BGNQ"),_=n(y),g=a("z5TY"),b=n(g),w=a("SAzG"),I=n(w),x=a("u28h"),D=n(x),P=a("PzEQ"),S=n(P),k=a("0AQX"),L=(a("I3vJ"),a("HyXB")),N=a("bKg5"),M=n(N),T=a("luHD"),A=n(T),O=a("RMtk"),R=n(O),j=a("jEax"),B=n(j),E=a("d7ck"),F=n(E),U=a("FlCz"),$=n(U),Q=a("MVgC"),H=n(Q),V=a("vl8n"),q=n(V),Y=a("+WR7"),X=n(Y),G=a("89pA"),W=n(G),z=(a("zWMP"),a("Qg39"));t.default={name:"ApplyWLXQTJForm",mixins:[M.default],components:{Icon:C.default,Cell:_.default,Group:b.default,XInput:I.default,XTextarea:S.default,PopMatter:A.default,PopOrderXqtjList:R.default,Datetime:D.default,FormCell:F.default,PopWarehouseNbjgrkList:B.default,BomList:$.default,BomPop:H.default,RPicker:q.default,PopBaseinfo:X.default,PopWarehouseList:W.default},data:function(){return{listId:"5e8d89f1-49a5-4089-9c1a-44dc2ce0ae4b",orderList:{},showOrderPop:!1,formData:{biProcessStatus:null,biComment:""},submitSuccess:!1,warehouse:null,numMap:{},transCode:"",formViewUniqueId:"82784823-ded5-4a58-a746-d32514f7d26f",biReferenceId:"",actions:[],taskId:"",matterList:[],entity:{},tmpItems:{},matter:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,warehouseOut:null,warehouseIn:null,warehouseOutParams:{warehouseType:"加工车间仓"},warehouseInParams:{warehouseType:"一般部门仓,个人仓,加工车间仓"}}},methods:{selWarehouseOut:function(e){this.warehouseOut=JSON.parse(e)},selWarehouseIn:function(e){this.warehouseIn=JSON.parse(e)},checkAmt:function(e){var t=e.tdQty,a=e.qtyStock;t&&(e.tdQty=Math.abs((0,z.toFixed)(t)),e.tdQty=t>a?a:e.tdQty)},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,v.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t)},selOrder:function(e){var t=this,a=JSON.parse(e),n={};this.DuplicateBoms=[],a.forEach(function(e){var a=e.transCode+"_"+e.orderCode+"_"+e.inventoryCode,i=t.numMap[a]||{},r=i.tdQty,s=void 0===r?"":r,o=i.warehouseName,l=void 0===o?e.warehouseName:o,d=i.warehouseCode,u=void 0===d?e.warehouseCode:d;e.tdQty=s,e.warehouseName=l,e.warehouseCode=u,n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},findIndex:function(e,t){return e.findIndex(function(e){return e.orderCode===t.orderCode&&e.transCode===t.transCode&&e.inventoryCode===t.inventoryCode})},delClick:function(e,t,a){var n=this.selItems,i=this.findIndex(n,t);if(-1!==i)return void n.splice(i,1);n.push(t)},showSelIcon:function(e){return-1!==this.findIndex(this.selItems,e)},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,v.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,m.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.orderCode===a.orderCode&&t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=e.findIndex(n,t);i>=0&&(e.$refs.order.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,c.default)((0,d.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,l=!1,u=void 0;try{for(var f,m=(0,c.default)(r);!(s=(f=m.next()).done);s=!0){var h=f.value;this.numMap[h.transCode+"_"+h.orderCode+"_"+h.inventoryCode]=(0,o.default)({},h)}}catch(e){l=!0,u=e}finally{try{!s&&m.return&&m.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="";if([{key:"warehouseOut",message:"出库仓库"},{key:"warehouseIn",message:"入库仓库"}].every(function(a){return!!e[a.key]||(t="请选择"+a.message,!1)}),t||(0,m.default)(this.orderList).length||(t="请选择物料"),!t){var a=!0,n=!1,i=void 0;try{for(var s,l=(0,c.default)((0,d.default)(this.orderList));!(a=(s=l.next()).done);a=!0){var u=s.value,f=!0,h=!1,p=void 0;try{for(var C,y=(0,c.default)(u);!(f=(C=y.next()).done);f=!0)if(!C.value.tdQty){t="请填写本次入库数量";break}}catch(e){h=!0,p=e}finally{try{!f&&y.return&&y.return()}finally{if(h)throw p}}if(t)break}}catch(e){n=!0,i=e}finally{try{!a&&l.return&&l.return()}finally{if(n)throw i}}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=[],a=L.saveAndStartWf,n={},i=(0,r.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""}),s=!0,l=!1,u=void 0;try{for(var f,m=(0,c.default)((0,d.default)(e.orderList));!(s=(f=m.next()).done);s=!0){var h=f.value,p=!0,C=!1,y=void 0;try{for(var _,g=(0,c.default)(h);!(p=(_=g.next()).done);p=!0){var b=_.value,w={tdId:b.tdId||null,transMatchedCode:b.transCode,orderCode:b.orderCode,transObjCode:b.inventoryCode,inventoryName_transObjCode:b.inventoryName,tdProcessing:b.processing,measureUnit_transObjCode:b.measureUnit,thenQtyStock:b.qtyStock,thenQtyBal:b.qtyBal,tdQty:b.tdQty,comment:b.comment||""};t.push(w)}}catch(e){C=!0,y=e}finally{try{!p&&g.return&&g.return()}finally{if(C)throw y}}}}catch(e){l=!0,u=e}finally{try{!s&&m.return&&m.return()}finally{if(l)throw u}}n=(0,o.default)({},e.formData,{modifer:e.transCode?e.formData.handler:"",handlerEntity:e.entity.dealerName,inPut:{containerCodeOut:e.warehouseOut.warehouseCode,containerCode:e.warehouseIn.warehouseCode,dataSet:t},containerOutWarehouseManager:e.warehouseOut.manager||null,containerInWarehouseManager:e.warehouseIn.manager||null}),e.transCode&&(a=L.saveAndCommitTask,i={businessKey:e.transCode,createdBy:n.creator||n.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var I={listId:e.listId,biComment:"",formData:(0,v.default)(n),wfPara:(0,v.default)(i)};e.processCode.length||(a=L.submitAndCalc,delete I.wfPara),e.transCode&&(I.biReferenceId=e.biReferenceId),e.saveData(a,I)}})},getFormData:function(){var e=this;return(0,k.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,l=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=l;var d={},u=r.inPut,f=u.dataSet,m=void 0===f?[]:f,h=!0,v=!1,p=void 0;try{for(var C,y=(0,c.default)(m);!(h=(C=y.next()).done);h=!0){var _=C.value;_=(0,o.default)({},_,{transCode:_.transMatchedCode,qtyBal:_.thenQtyBal,qtyStock:_.thenQtyStock,inventoryPic:_.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:_.inventoryName_transObjCode,inventoryCode:_.transObjCode,specification:_.specification_transObjCode,processing:_.tdProcessing}),d[_.transCode]||(d[_.transCode]=[]),d[_.transCode].push(_)}}catch(e){v=!0,p=e}finally{try{!h&&y.return&&y.return()}finally{if(v)throw p}}e.warehouseOut={warehouseName:u.warehouseName_containerCodeOut,warehouseType:u.warehouseType_containerCodeOut,warehouseCode:u.containerCodeOut,manager:r.containerOutWarehouseManager},e.warehouseIn={warehouseName:u.warehouseName_containerCode,warehouseType:u.warehouseType_containerCode,warehouseCode:u.containerCode,manager:r.containerInWarehouseManager},e.matterList=m,e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,o.default)({},e.formData,e.handlerDefault,{biComment:r.biComment,biId:r.biId,biProcessStatus:r.biProcessStatus,creator:r.creator,modifer:r.modifer}),e.biReferenceId=r.biReferenceId,e.orderList=d,e.$loading.hide()})},hasDraftData:function(){return!!(0,d.default)(this.orderList).length&&(0,r.default)({},"NBJGRK_DATA",{orderList:this.orderList,formData:this.formData,warehouseIn:this.warehouseIn,warehouseOut:this.warehouseOut})}},created:function(){var e=sessionStorage.getItem("NBJGRK_DATA");if(e){var t=JSON.parse(e);this.orderList=t.orderList,this.formData=t.formData,this.warehouseOut=t.warehouseOut,this.warehouseIn=t.warehouseIn,sessionStorage.removeItem("NBJGRK_DATA")}}}},UPeV:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper xsbj-detail-container"},[e.orderInfo?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.contactInfo,payment:!1,logistics:!1}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"message-container"},[e._m(0),e._v(" "),a("div",{staticClass:"message-content"},[a("div",{staticClass:"message_content_item"},[a("span",{staticClass:"title"},[e._v("标题：")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e.orderInfo.opportunityTitle))])]),e._v(" "),a("div",{staticClass:"message_content_item"},[a("span",{staticClass:"title"},[e._v("内容：")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e.orderInfo.comment||"无"))])]),e._v(" "),a("div",{staticClass:"message_content_item"},[a("span",{staticClass:"title"},[e._v("有效期至：")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e.orderInfo.validUntil||"无"))])]),e._v(" "),a("div",{staticClass:"message_content_item"},[a("span",{staticClass:"title"},[e._v("销售人员：")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e.orderInfo.salesPerson||"无"))])]),e._v(" "),a("div",{staticClass:"message_content_item"},[a("span",{staticClass:"title"},[e._v("销售渠道：")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e.orderInfo.salesChannels||"无"))])]),e._v(" "),a("div",{staticClass:"message_content_item"},[a("span",{staticClass:"title"},[e._v("分类标签：")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e.orderInfo.categoryLabels||"无"))])]),e._v(" "),a("div",{staticClass:"message_content_item"},[a("span",{staticClass:"title"},[e._v("备注：")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e.orderInfo.biComment||"无"))])]),e._v(" "),a("div",{staticClass:"message_content_item amt"},[a("span",{staticClass:"title"},[e._v("预期销售额：")]),e._v(" "),a("span",{staticClass:"content"},[e._v("￥"+e._s(e._f("numberComma")(e.orderInfo.tdAmount,3)||0))])])])]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",{staticClass:"message-header"},[a("div",{staticClass:"message_header_wrapper"},[a("div",{staticClass:"text"},[e._v("商机信息")]),e._v(" "),a("div",{staticClass:"spell"},[e._v("shangjixinxi")])])])}],r={render:n,staticRenderFns:i};t.a=r},UXCm:function(e,t,a){"use strict";function n(e){a("9HJv")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Hp0t");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("jO70"),o=a.n(s),l=a("Tn0E"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-08de2bee",null);t.default=c.exports},UZQG:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"each_cell",class:{"vux-1px-t":e.showTopBorder,"when-is-right":e.textRight}},[a("span",{staticClass:"cell_name"},[e._v(e._s(e.cellTitle)+": ")]),e._v(" "),a("span",{staticClass:"cell_content"},[e.showSymbol?a("span",{staticClass:"symbol"},[e._v("￥")]):e._e(),e._v(e._s(e.cellContent||"无")+"\n  ")])])},i=[],r={render:n,staticRenderFns:i};t.a=r},UZRl:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=(a("XAqG"),a("HyXB"),a("MjAd")),o=n(s),l=a("ak47");n(l);t.default={name:"CPXQ_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"经办人",value:"handlerName"},{name:"交易号",value:"transCode"},{name:"员工",value:"profileName"}],listViewID:2374}},mixins:[o.default],methods:{pathChange:function(e,t,a){var n=this;if(!this.clickVisited){var i=e.transCode,s=this.$route.query.name,o=this.$route.params,l=o.folder,d=o.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,r.default)({},e));var u=a+"/"+l+"/"+d;setTimeout(function(){n.clickVisited=!1,n.$router.push({path:u,query:{name:s,transCode:i}})},200)}},goDetail:function(e,t){this.pathChange(e,t,"/detail")},goUserEdit:function(e,t){this.pathChange(e,t,"/fillform")}}}},UbXN:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"load-more",props:{showLoading:{type:Boolean,default:!0},tip:String}}},Ud70:function(e,t){},UdY3:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("finance-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},Ujdd:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper xsbj-detail-container"},[e.orderInfo?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_content"},[e._m(0),e._v(" "),a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"工序名称",cellContent:e.workInfo.procedureName_proPointCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"工序编码",cellContent:e.workInfo.proPointCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"工序待验收",cellContent:e.workInfo.thenQtyStock}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"工序可派工",cellContent:e.workInfo.thenQtyBal}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"派工数量",cellContent:e.workInfo.tdQty}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"工人",cellContent:e.workInfo.dealerName_dealerDebit}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"设施",cellContent:e.workInfo.facilityName_facilityObjCode||"无"}})],1)]),e._v(" "),a("div",{staticClass:"form_content",staticStyle:{marginTop:".1rem"}},[e._m(1),e._v(" "),a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"加工订单号",cellContent:e.workInfo.processCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"成品名称",cellContent:e.workInfo.inventoryName_transObjCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"订单加工数",cellContent:e.workInfo.processProQty}})],1)]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title"},[a("span",{staticClass:"iconfont icon-mingxi1"}),e._v(" "),a("span",[e._v("工单信息")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title"},[a("span",{staticClass:"iconfont icon-mingxi1"}),e._v(" "),a("span",[e._v("加工订单信息")])])}],r={render:n,staticRenderFns:i};t.a=r},Ul2w:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("HXPS"),d=n(l),u=a("7g+Q"),c=n(u),f=a("6q39"),m=n(f),h=a("QHLv"),v=a("1KNX"),p=n(v),C=a("7biW"),y=n(C);t.default={name:"MatterList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},groupId:{type:Number,default:990713},getListMethod:{type:String,default:"getCostByGroupId"}},components:{Icon:d.default,Popup:c.default,LoadMore:m.default,RScroll:p.default,MSearch:y.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],costList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}},groupId:{handler:function(){this[this.getListMethod]()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,o.default)(this.selItems)),this.$emit("input",!1),this.$event.$emit("shut-down-filter",!1)},showSelIcon:function(e){var t=!1;return this.selItems&&this.selItems.every(function(a){return e.costCode!==a.costCode||(t=!0,!1)}),t},selThis:function(e,t){this.showPop=!1,this.selItems=[e],this.$emit("sel-matter",this.selItems[0])},setDefaultValue:function(){this.tmpItems=[].concat((0,o.default)(this.defaultValue)),this.selItems=[].concat((0,o.default)(this.defaultValue))},getCostByGroupId:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,o.default)(e),[{operator:"like",value:this.srhInpTx,property:"costName"}])),(0,h.getCostByGroupId)({groupId:this.groupId,limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(e)}).then(this.dataHandler)},getProjectCostByGroupId:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,o.default)(e),[{operator:"like",value:this.srhInpTx,property:"costName"}])),(0,h.getProjectCostByGroupId)({groupId:this.groupId,limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(e)}).then(this.dataHandler)},dataHandler:function(e){var t=this,a=e.dataCount,n=void 0===a?0:a,i=e.tableContent,r=void 0===i?[]:i;this.hasNext=n>(this.page-1)*this.limit+r.length,this.costList=1===this.page?r:[].concat((0,o.default)(this.costList),(0,o.default)(r)),this.$nextTick(function(){t.$refs.bScroll.finishPullUp()})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.costList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this[this.getListMethod]()},onPullingUp:function(){this.page++,this[this.getListMethod]()}},created:function(){this.setDefaultValue(),this[this.getListMethod]()}}},UmsA:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("4YfN"),o=n(s),l=a("MgeX"),d=n(l),u=a("HzJ8"),c=n(u),f=a("ZLEe"),m=n(f),h=a("3cXf"),v=n(h),p=a("HXPS"),C=n(p),y=a("BGNQ"),_=n(y),g=a("z5TY"),b=n(g),w=a("SAzG"),I=n(w),x=a("u28h"),D=n(x),P=a("PzEQ"),S=n(P),k=a("0AQX"),L=(a("I3vJ"),a("HyXB")),N=a("bKg5"),M=n(N),T=a("luHD"),A=n(T),O=a("RMtk"),R=n(O),j=a("jEax"),B=n(j),E=a("d7ck"),F=n(E),U=a("FlCz"),$=n(U),Q=a("MVgC"),H=n(Q),V=a("vl8n"),q=n(V),Y=a("+WR7"),X=n(Y),G=a("89pA"),W=n(G),z=(a("zWMP"),a("Qg39"));t.default={name:"ApplyWLXQTJForm",mixins:[M.default],components:{Icon:C.default,Cell:_.default,Group:b.default,XInput:I.default,XTextarea:S.default,PopMatter:A.default,PopOrderXqtjList:R.default,Datetime:D.default,FormCell:F.default,PopWarehouseNbjgrkList:B.default,BomList:$.default,BomPop:H.default,RPicker:q.default,PopBaseinfo:X.default,PopWarehouseList:W.default},data:function(){return{listId:"5e8d89f1-49a5-4089-9c1a-44dc2ce0ae4b",orderList:{},showOrderPop:!1,formData:{biProcessStatus:null,biComment:""},submitSuccess:!1,warehouse:null,numMap:{},transCode:"",formViewUniqueId:"82784823-ded5-4a58-a746-d32514f7d26f",biReferenceId:"",actions:[],taskId:"",matterList:[],entity:{},tmpItems:{},matter:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,warehouseOut:null,warehouseIn:null,warehouseOutParams:{warehouseType:"加工车间仓"},warehouseInParams:{warehouseType:"一般部门仓,个人仓,加工车间仓"}}},methods:{selWarehouseOut:function(e){this.warehouseOut=JSON.parse(e)},selWarehouseIn:function(e){this.warehouseIn=JSON.parse(e)},checkAmt:function(e){var t=e.tdQty,a=e.qtyStock;t&&(e.tdQty=Math.abs((0,z.toFixed)(t)),e.tdQty=t>a?a:e.tdQty)},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,v.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t)},selOrder:function(e){var t=this,a=JSON.parse(e),n={};this.DuplicateBoms=[],a.forEach(function(e){var a=e.transCode+"_"+e.orderCode+"_"+e.inventoryCode,i=t.numMap[a]||{},r=i.tdQty,s=void 0===r?"":r,o=i.warehouseName,l=void 0===o?e.warehouseName:o,d=i.warehouseCode,u=void 0===d?e.warehouseCode:d;e.tdQty=s,e.warehouseName=l,e.warehouseCode=u,n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},findIndex:function(e,t){return e.findIndex(function(e){return e.orderCode===t.orderCode&&e.transCode===t.transCode&&e.inventoryCode===t.inventoryCode})},delClick:function(e,t,a){var n=this.selItems,i=this.findIndex(n,t);if(-1!==i)return void n.splice(i,1);n.push(t)},showSelIcon:function(e){return-1!==this.findIndex(this.selItems,e)},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,v.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,m.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.orderCode===a.orderCode&&t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=e.findIndex(n,t);i>=0&&(e.$refs.order.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,c.default)((0,d.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,l=!1,u=void 0;try{for(var f,m=(0,c.default)(r);!(s=(f=m.next()).done);s=!0){var h=f.value;this.numMap[h.transCode+"_"+h.orderCode+"_"+h.inventoryCode]=(0,o.default)({},h)}}catch(e){l=!0,u=e}finally{try{!s&&m.return&&m.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="";if([{key:"warehouseOut",message:"出库仓库"},{key:"warehouseIn",message:"入库仓库"}].every(function(a){return!!e[a.key]||(t="请选择"+a.message,!1)}),t||(0,m.default)(this.orderList).length||(t="请选择物料"),!t){var a=!0,n=!1,i=void 0;try{for(var s,l=(0,c.default)((0,d.default)(this.orderList));!(a=(s=l.next()).done);a=!0){var u=s.value,f=!0,h=!1,p=void 0;try{for(var C,y=(0,c.default)(u);!(f=(C=y.next()).done);f=!0)if(!C.value.tdQty){t="请填写本次入库数量";break}}catch(e){h=!0,p=e}finally{try{!f&&y.return&&y.return()}finally{if(h)throw p}}if(t)break}}catch(e){n=!0,i=e}finally{try{!a&&l.return&&l.return()}finally{if(n)throw i}}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=[],a=L.saveAndStartWf,n={},i=(0,r.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""}),s=!0,l=!1,u=void 0;try{for(var f,m=(0,c.default)((0,d.default)(e.orderList));!(s=(f=m.next()).done);s=!0){var h=f.value,p=!0,C=!1,y=void 0;try{for(var _,g=(0,c.default)(h);!(p=(_=g.next()).done);p=!0){var b=_.value,w={tdId:b.tdId||null,transMatchedCode:b.transCode,orderCode:b.orderCode,transObjCode:b.inventoryCode,inventoryName_transObjCode:b.inventoryName,tdProcessing:b.processing,measureUnit_transObjCode:b.measureUnit,thenQtyStock:b.qtyStock,thenQtyBal:b.qtyBal,tdQty:b.tdQty,comment:b.comment||""};t.push(w)}}catch(e){C=!0,y=e}finally{try{!p&&g.return&&g.return()}finally{if(C)throw y}}}}catch(e){l=!0,u=e}finally{try{!s&&m.return&&m.return()}finally{if(l)throw u}}n=(0,o.default)({},e.formData,{modifer:e.transCode?e.formData.handler:"",handlerEntity:e.entity.dealerName,inPut:{containerCodeOut:e.warehouseOut.warehouseCode,containerCode:e.warehouseIn.warehouseCode,dataSet:t},containerOutWarehouseManager:e.warehouseOut.manager||null,containerInWarehouseManager:e.warehouseIn.manager||null}),e.transCode&&(a=L.saveAndCommitTask,i={businessKey:e.transCode,createdBy:n.creator||n.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var I={listId:e.listId,biComment:"",formData:(0,v.default)(n),wfPara:(0,v.default)(i)};e.processCode.length||(a=L.submitAndCalc,delete I.wfPara),e.transCode&&(I.biReferenceId=e.biReferenceId),e.saveData(a,I)}})},getFormData:function(){var e=this;return(0,k.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,l=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=l;var d={},u=r.inPut,f=u.dataSet,m=void 0===f?[]:f,h=!0,v=!1,p=void 0;try{for(var C,y=(0,c.default)(m);!(h=(C=y.next()).done);h=!0){var _=C.value;_=(0,o.default)({},_,{transCode:_.transMatchedCode,qtyBal:_.thenQtyBal,qtyStock:_.thenQtyStock,inventoryPic:_.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:_.inventoryName_transObjCode,inventoryCode:_.transObjCode,specification:_.specification_transObjCode,processing:_.tdProcessing}),d[_.transCode]||(d[_.transCode]=[]),d[_.transCode].push(_)}}catch(e){v=!0,p=e}finally{try{!h&&y.return&&y.return()}finally{if(v)throw p}}e.warehouseOut={warehouseName:u.warehouseName_containerCodeOut,warehouseType:u.warehouseType_containerCodeOut,warehouseCode:u.containerCodeOut,manager:r.containerOutWarehouseManager},e.warehouseIn={warehouseName:u.warehouseName_containerCode,warehouseType:u.warehouseType_containerCode,warehouseCode:u.containerCode,manager:r.containerInWarehouseManager},e.matterList=m,e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,o.default)({},e.formData,e.handlerDefault,{biComment:r.biComment,biId:r.biId,biProcessStatus:r.biProcessStatus,creator:r.creator,modifer:r.modifer}),e.biReferenceId=r.biReferenceId,e.orderList=d,e.$loading.hide()})},hasDraftData:function(){return!!(0,d.default)(this.orderList).length&&(0,r.default)({},"NBJGRK_DATA",{orderList:this.orderList,formData:this.formData,warehouseIn:this.warehouseIn,warehouseOut:this.warehouseOut})}},created:function(){var e=sessionStorage.getItem("NBJGRK_DATA");if(e){var t=JSON.parse(e);this.orderList=t.orderList,this.formData=t.formData,this.warehouseOut=t.warehouseOut,this.warehouseIn=t.warehouseIn,sessionStorage.removeItem("NBJGRK_DATA")}}}},UrVB:function(e,t,a){"use strict";function n(e){a("JjdX")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("N9Kf");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("N8ly"),o=a.n(s),l=a("BpKx"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-30deabcb",null);t.default=c.exports},Usb9:function(e,t){},Uvie:function(e,t,a){"use strict";function n(e){a("Usb9")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("24L6");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("bLVl"),o=a.n(s),l=a("Ijt+"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-2451162a",null);t.default=c.exports},UvnP:function(e,t){},UwQd:function(e,t,a){"use strict";function n(e){a("4Gt7")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("5YqO");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("57wr"),o=a.n(s),l=a("4YLJ"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},Uwbf:function(e,t){},UyNo:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("BGNQ"),o=n(s),l=a("z5TY"),d=n(l),u=a("kNGm"),c=n(u),f=a("iR2W"),m=n(f),h=a("jLp1"),v=a("+VRO"),p=n(v);t.default={data:function(){return{comment:{},projectApproval:{},projectTime:{},projectConclusion:{}}},filters:{dateFormat:c.default},mixins:[p.default],components:{Group:d.default,Cell:o.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,h.findProjectConclusion)(t).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=t.attachment,s=void 0===i?[]:i;e.comment=n.comment,e.attachment=s,e.projectApproval=n.projectApproval,e.projectTime=n.projectTime,e.projectConclusion=n.projectConclusion,e.orderInfo=(0,r.default)({},n.baseinfo,{biStatus:"已生效"})})},numberComma:function(e){return e||0===e?(0,m.default)(e):"无"}},created:function(){}}},V2Kj:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"childPage"},[a("r-scroll",{staticClass:"content",attrs:{options:e.scrollOptions}},[a("div",[a("div",{staticClass:"mater_baseinfo vux-1px-b"},[a("group",{staticClass:"mater_property",attrs:{gutter:"0"}},[a("x-input",{class:{readonly:e.codeReadOnly},attrs:{"text-align":"right",placeholder:"请填写",readonly:e.codeReadOnly},model:{value:e.inventory.inventoryCode,callback:function(t){e.$set(e.inventory,"inventoryCode","string"==typeof t?t.trim():t)},expression:"inventory.inventoryCode"}},[a("span",{staticClass:"required",attrs:{slot:"label"},slot:"label"},[e._v("物料编码")])]),e._v(" "),a("x-input",{attrs:{"text-align":"right",placeholder:"请填写"},model:{value:e.inventory.inventoryName,callback:function(t){e.$set(e.inventory,"inventoryName","string"==typeof t?t.trim():t)},expression:"inventory.inventoryName"}},[a("span",{staticClass:"required",attrs:{slot:"label"},slot:"label"},[e._v("物料名称")])])],1),e._v(" "),a("upload-image",{attrs:{src:e.MatPic},on:{"on-upload":e.onUpload,"on-error":e.getDefaultImg}})],1),e._v(" "),e._l(e.matterConfig,function(t,n){return a("div",{key:n,staticClass:"each-info"},["r2Combo"!==t.xtype&&"r2MultiSelector"!==t.xtype||"technicsCode"===t.fieldCode?"r2Numberfield"===t.xtype?[a("x-input",{staticClass:"vux-1px-b",attrs:{title:t.fieldLabel,type:"number","text-align":"right",placeholder:"请填写"},model:{value:e.inventory[t.fieldCode],callback:function(a){e.$set(e.inventory,t.fieldCode,e._n(a))},expression:"inventory[item.fieldCode]"}})]:"r2Textfield"===t.xtype?[a("x-input",{staticClass:"vux-1px-b",attrs:{title:t.fieldLabel,"text-align":"right",placeholder:"请填写"},model:{value:e.inventory[t.fieldCode],callback:function(a){e.$set(e.inventory,t.fieldCode,e._n(a))},expression:"inventory[item.fieldCode]"}})]:"r2Selector"===t.xtype?[a("pop-procedure-list",{staticClass:"vux-1px-b",attrs:{"default-value":e.inventory},on:{"sel-item":e.selProcedure}})]:"technicsCode"===t.fieldCode?[a("pop-technics-list",{staticClass:"vux-1px-b",attrs:{"default-value":e.inventory},on:{"sel-item":e.selTechnics}})]:e._e():[a("r-picker",{attrs:{title:t.fieldLabel,data:t.remoteData,value:"inventoryStatus"===t.fieldCode?e.inventoryStatus:e.inventory[t.fieldCode],required:!t.allowBlank,mode:"4"},model:{value:"inventoryStatus"===t.fieldCode?e.inventoryStatus:e.inventory[t.fieldCode],callback:function(a){e.$set("inventoryStatus"===t.fieldCode?e.inventoryStatus:e.inventory,t.fieldCode,a)},expression:"item.fieldCode === 'inventoryStatus'? inventoryStatus: inventory[item.fieldCode]"}})]],2)}),e._v(" "),e._l(e.matterDuplicateConfig,function(t,n){return a("div",{key:t.name+"+"+n},[e.matterDuplicateData[t.name].length?a("group",{staticClass:"duplicate-item",attrs:{title:t.title}},e._l(e.matterDuplicateData[t.name],function(n,i){return a("div",{key:i,class:{has_border:i<e.matterDuplicateData[t.name].length-1}},e._l(t.items,function(t,i){return null!=n[t.fieldCode]?a("div",{key:i},[t.hidden?e._e():["r2Combo"===t.editorType?a("r-picker",{staticClass:"vux-1px-t",attrs:{title:t.text,data:t.remoteData,value:n[t.fieldCode],mode:"4","has-border":!1,required:!t.allowBlank},model:{value:n[t.fieldCode],callback:function(a){e.$set(n,t.fieldCode,a)},expression:"sItem[dItem.fieldCode]"}}):e._e(),e._v(" "),"r2Numberfield"===t.editorType?a("x-input",{attrs:{title:t.text,type:"number","text-align":"right",placeholder:"请填写"},on:{"on-blur":function(t){e.checkAmt(n)}},model:{value:n[t.fieldCode],callback:function(a){e.$set(n,t.fieldCode,a)},expression:"sItem[dItem.fieldCode]"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:!t.allowBlank,expression:"!dItem.allowBlank"}],staticClass:"required",attrs:{slot:"label"},slot:"label"},[e._v(e._s(t.text))])]):e._e(),e._v(" "),"r2Textfield"===t.editorType?a("x-input",{attrs:{title:t.text,"text-align":"right",placeholder:"请填写"},model:{value:n[t.fieldCode],callback:function(a){e.$set(n,t.fieldCode,a)},expression:"sItem[dItem.fieldCode]"}}):e._e()]],2):e._e()}),0)}),0):a("div",{staticClass:"duplicate-item-no-select"},[a("span",{staticClass:"title"},[e._v(e._s(t.title))]),e._v(" "),a("span",{staticClass:"add",on:{click:function(a){e.addMoreUnit(t)}}},[e._v("新增")])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.matterDuplicateData[t.name].length,expression:"matterDuplicateData[item.name].length"}],staticClass:"add_more"},[e._v("\n          您还需要添加新的"+e._s(t.title)+"?请点击\n          "),a("span",{staticClass:"add",on:{click:function(a){e.addMoreUnit(t)}}},[e._v("新增")]),e._v(" "),a("em",{directives:[{name:"show",rawName:"v-show",value:e.matterDuplicateData[t.name].length>1,expression:"matterDuplicateData[item.name].length > 1"}]},[e._v("或")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.matterDuplicateData[t.name].length>1,expression:"matterDuplicateData[item.name].length > 1"}],staticClass:"delete",on:{click:function(a){e.deleteMoreUnit(t)}}},[e._v("删除")])])],1)})],2)]),e._v(" "),a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.save}},[e._v(e._s(this.transCode?"保存":"提交"))])])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},V2cg:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("rVsN"),o=n(s),l=a("4YfN"),d=n(l),u=a("KH7x"),c=n(u),f=a("BGNQ"),m=n(f),h=a("z5TY"),v=n(h),p=a("SAzG"),C=n(p),y=a("PzEQ"),_=n(y),g=a("u28h"),b=n(g),w=a("kNGm"),I=n(w),x=a("jLp1"),D=a("HyXB"),P=a("bKg5"),S=n(P),k=a("PKHo"),L=n(k),N=a("vl8n"),M=n(N),T=a("+WR7"),A=n(T),O=a("7D9F"),R=n(O),j=a("zWMP"),B=a("Qg39");t.default={mixins:[S.default,L.default],components:{Cell:m.default,Group:v.default,XInput:C.default,RPicker:M.default,PopBaseinfo:A.default,Datetime:b.default,XTextarea:_.default,PopManagerList:R.default},data:function(){return{listId:"630a9b96-f257-48b6-b0bc-fd64c455d92b",typeList:[],subclassList:[],ProjectApproval:{projectName:"",projectType:"",projectManager:"",phoneNumber:"",expectStartDate:(0,I.default)(new Date,"YYYY-MM-DD"),expectEndDate:(0,I.default)(new Date,"YYYY-MM-DD"),budgetIncome:"",budgetCapital:"",budgetCost:"",budgetProfit:"",budgetProfitMargin:"",comment:"",projectSubclass:""},formData:{biComment:"",biProcessStatus:""},defaultManager:{},hasDefault:!1}},computed:{profit:function(){var e=this.ProjectApproval,t=e.budgetIncome,a=void 0===t?0:t,n=e.budgetCapital,i=void 0===n?0:n,r=e.budgetCost,s=void 0===r?0:r,o=(0,j.accSub)(a,i),l=(0,B.toFixed)((0,j.accSub)(o,s));return this.ProjectApproval.budgetProfit=l,l},profitMargin:function(){var e=this.ProjectApproval,t=e.budgetIncome,a=void 0===t?0:t,n=e.budgetProfit,i=void 0===n?1:n,r=(0,B.toFixed)(Math.floor(Number(i)/(Number(a)||1)*1e4)/1e4);return this.ProjectApproval.budgetProfitMargin=r,1e4*r/100+"%"}},methods:{save:function(){var e=this,t=[{tip:"projectManager",msg:"项目经理"},{tip:"projectType",msg:"项目大类"},{tip:"projectName",msg:"项目名称"},{tip:"budgetIncome",msg:"预算收入"},{tip:"budgetCapital",msg:"预算成本"},{tip:"budgetCost",msg:"预算费用"},{tip:"expectStartDate",msg:"预期开始日期"},{tip:"expectEndDate",msg:"预期截止日期"}],a=["projectManager","projectType"],n="";if(t.every(function(t){return!!e.ProjectApproval[t.tip]||(n=a.includes(t.tip)?"请选择"+t.msg:"请填写"+t.msg,!1)}),n)return void this.$vux.alert.show({content:n});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=x.saveProjectApproval,a={listId:e.listId,formData:{handlerEntity:e.entity.dealerName,comment:{biComment:e.formData.biComment},baseinfo:{creator:e.formData.handler,handler:e.formData.handler,handlerName:e.formData.handlerName,handlerRole:e.formData.handlerRole,handlerRoleName:e.formData.handlerRoleName,handlerUnit:e.formData.handlerUnit,handlerUnitName:e.formData.handlerUnitName,id:"",modifer:e.formData.handler},projectApproval:e.ProjectApproval},wfParam:null};e.saveData(t,a)}})},selManager:function(e){var t=JSON.parse(e);this.ProjectApproval.projectManager=t.dealerName,this.ProjectApproval.phoneNumber=t.dealerMobilePhone},checkAmt:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];t&&(this.ProjectApproval[e]=(0,B.toFixed)(t))},getBigType:function(){var e=this;return(0,D.getDictByType)("projectType").then(function(t){var a=t.tableContent,n=void 0===a?[]:a;n&&n.forEach(function(e){e.originValue=e.value,e.value=e.name}),e.typeList=n})},getType:function(){var e=this,t=this.typeList.find(function(t){return t.name===e.ProjectApproval.projectType})||{};return(0,D.getDictByValue)(t.originValue).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;return n&&n.forEach(function(e){e.originValue=e.value,e.value=e.name}),e.subclassList=n,n})},projectBigChange:function(e){var t=this;this.getType().then(function(e){if(!t.hasDefault){var a=(0,c.default)(e,1),n=a[0],i=void 0===n?{}:n;t.ProjectApproval.projectSubclass=i.name}})},getFormData:function(){var e=this;return(0,x.findProjectApproval)(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a;e.hasDefault=!0,e.defaultManager={dealerName:n.projectApproval.projectManager,dealerMobilePhone:n.projectApproval.phoneNumber},n.projectApproval.expectStartDate=e.changeDate(n.projectApproval.expectStartDate),n.projectApproval.expectEndDate=e.changeDate(n.projectApproval.expectEndDate),e.ProjectApproval=n.projectApproval,e.$nextTick(function(){e.hasDefault=!1}),e.handlerDefault={handler:n.baseinfo.handler,handlerName:n.baseinfo.handlerName,handlerUnit:n.baseinfo.handlerUnit,handlerUnitName:n.baseinfo.handlerUnitName,handlerRole:n.baseinfo.handlerRole,handlerRoleName:n.baseinfo.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:n.baseinfo.biComment,biId:n.baseinfo.biId,biProcessStatus:n.baseinfo.biProcessStatus,creator:n.baseinfo.creator,modifer:n.baseinfo.modifer}),e.biReferenceId=n.biReferenceId,e.$loading.hide()})},initRequest:function(){var e=this,t=sessionStorage.getItem("XMLX_DATA"),a=[];if(t){var n=JSON.parse(t);return this.ProjectApproval=n.ProjectApproval,this.defaultManager={dealerName:this.ProjectApproval.projectManager,dealerMobilePhone:this.ProjectApproval.phoneNumber},this.getBigType().then(function(){e.getType()}),void sessionStorage.removeItem("XMLX_DATA")}return a.push(this.getBigType()),o.default.all(a)},hasDraftData:function(){return!!this.ProjectApproval.projectManager&&(0,r.default)({},"XMLX_DATA",{ProjectApproval:this.ProjectApproval})}},created:function(){}}},VEhc:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("HzJ8"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("PKHo"),f=n(c),m=a("zWMP"),h=a("BUFe"),v=n(h),p=a("AupE"),C=n(p),y=a("sUbJ"),_=n(y),g=a("FlCz"),b=n(g),w=a("d7ck"),I=n(w),x=a("MVgC"),D=n(x),P=a("hPJo"),S=n(P);t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",orderList:{},basicInfo:{},DuplicateBoms:[],UniqueBom:[],bomPopShow:!1,bom:{},warehouseIn:{},warehouseOut:{}}},mixins:[u.default,f.default],components:{workFlow:C.default,RAction:v.default,MatterItem:_.default,BomList:b.default,FormCell:I.default,BomPop:D.default,WarehouseContent:S.default},watch:{DuplicateBoms:{handler:function(e){var t=function(e,t){return e.inventoryCode===t.inventoryCode};this.UniqueBom=function(e){return e.reduce(function(e,a){return e.some(function(e){var n=t(e,a);return n&&(e.tdQty=(0,m.accAdd)(e.tdQty,a.tdQty)),n})||e.push(a),e},[])}(this.DuplicateBoms)}}},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},checkBom:function(e){this.bom=e,this.bomPopShow=!0},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u={};s.order;e.attachment=d;var c=s.inPut,f=void 0===c?{}:c,h=f.dataSet,v=!0,p=!1,C=void 0;try{for(var y,_=(0,o.default)(h);!(v=(y=_.next()).done);v=!0){var g=y.value;if(g.inventoryPic=g.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+g.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),g.boms){var b=!0,w=!1,I=void 0;try{for(var x,D=(0,o.default)(g.boms);!(b=(x=D.next()).done);b=!0){var P=x.value;P.inventoryCode=P.transObjCode,P.warehouseName=P.warehouseName_containerCodeOut,P.warehouseCode=P.containerCodeOut,P.qtyStock=P.thenQtyStock,P.tdQty=(0,m.accMul)(P.bomQty,g.tdQty,1+P.bomSpecificLoss)}}catch(e){w=!0,I=e}finally{try{!b&&D.return&&D.return()}finally{if(w)throw I}}e.DuplicateBoms=e.DuplicateBoms.concat(JSON.parse((0,r.default)(g.boms)))}u[g.transMatchedCode]||(u[g.transMatchedCode]=[]),u[g.transMatchedCode].push(g)}}catch(e){p=!0,C=e}finally{try{!v&&_.return&&_.return()}finally{if(p)throw C}}e.warehouseIn={warehouseCode:f.containerCode,warehouseName:f.warehouseName_containerCode,warehouseAction:"入库",warehouseIcon:"icon-ruku",warehouseType:f.warehouseType_containerCode,warehouseProvince:f.warehouseProvince_containerCode,warehouseCity:f.warehouseCity_containerCode,warehouseDistrict:f.warehouseDistrict_containerCode,warehouseAddress:f.warehouseAddress_containerCode},e.warehouseOut={warehouseCode:f.containerCodeOut,warehouseName:""+f.warehouseName_containerCodeOut,warehouseAction:"出库",warehouseIcon:"icon-chuku",warehouseType:f.warehouseType_containerCodeOut,warehouseProvince:f.warehouseProvince_containerCodeOut,warehouseCity:f.warehouseCity_containerCodeOut,warehouseDistrict:f.warehouseDistrict_containerCodeOut,warehouseAddress:f.warehouseAddress_containerCodeOut},e.orderList=u,e.orderInfo=s,e.workFlowInfoHandler()})}}}},VFFv:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("4YfN"),o=n(s),l=a("MgeX"),d=n(l),u=a("HzJ8"),c=n(u),f=a("ZLEe"),m=n(f),h=a("rVsN"),v=n(h),p=a("IHPB"),C=n(p),y=a("3cXf"),_=n(y),g=a("HXPS"),b=n(g),w=a("BGNQ"),I=n(w),x=a("z5TY"),D=n(x),P=a("SAzG"),S=n(P),k=a("u28h"),L=n(k),N=a("PzEQ"),M=n(N),T=a("0AQX"),A=a("I3vJ"),O=a("HyXB"),R=a("bKg5"),j=n(R),B=a("luHD"),E=n(B),F=a("RMtk"),U=n(F),$=a("d7ck"),Q=n($),H=a("FlCz"),V=n(H),q=a("MVgC"),Y=n(q),X=a("vl8n"),G=n(X),W=a("+WR7"),z=n(W),K=a("zWMP"),J=a("Qg39");t.default={name:"ApplyWLXQTJForm",mixins:[j.default],components:{Icon:b.default,Cell:I.default,Group:D.default,XInput:S.default,XTextarea:M.default,PopMatter:E.default,PopOrderXqtjList:U.default,Datetime:L.default,FormCell:Q.default,BomList:V.default,BomPop:Y.default,RPicker:G.default,PopBaseinfo:z.default},data:function(){return{listId:"65ceb5a6-a120-11e8-862a-005056a136d0",orderList:{},showOrderPop:!1,DuplicateBoms:[],UniqueBom:[],formData:{biComment:""},submitSuccess:!1,numMap:{},transCode:"",formViewUniqueId:"346ede09-ac6a-489a-9242-f385932a4443",biReferenceId:"",actions:[],taskId:"",matterList:[],entity:{},selItems:[],matter:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,bomPopShow:!1,bom:{},modifyBomTdqty:[]}},watch:{matter:{handler:function(e){e.boms&&e.boms.forEach(function(t){var a=(0,K.accMul)(e.tdQty,t.qty,1+t.specificLoss);t.tdQty=Math.abs((0,J.toFixed)(a))})},deep:!0}},methods:{checkBom:function(e,t,a){this.bom=e,this.modifyIndex=t,this.modifyKey=a,this.bomPopShow=!0,this.modifyBomTdqty=JSON.parse((0,_.default)(e.boms))},bomConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t),this.reBuildArr(t)},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,_.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a,this.modifyBomTdqty=[].concat((0,C.default)(e.boms))},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t),this.reBuildArr(t)},reBuildArr:function(e){var t=this,a=e.boms;this.modifyBomTdqty.forEach(function(e){a.forEach(function(a){if(a.inventoryCode===e.inventoryCode)return a.newTdqty=(0,K.accSub)(a.tdQty,e.tdQty),t.UniqueBom.forEach(function(e){if(a.inventoryCode===e.inventoryCode)return e.tdQty=(0,K.accAdd)(e.tdQty,a.newTdqty),!1}),!0})})},selOrder:function(e){var t=this,a=JSON.parse(e),n={},i=[];this.DuplicateBoms=[],a.forEach(function(e){var a=e.transCode+"_"+e.orderCode+"_"+e.inventoryCode,r=t.numMap[a]||{},s=r.tdQty,o=void 0===s?"":s,l=r.shippingTime,d=void 0===l?"":l,u=r.boms,c=void 0===u?[]:u;e.tdQty=o,e.shippingTime=d,n[e.transCode]||(n[e.transCode]=[]),i.push((0,A.getJGDDBom)({parentInvCode:e.inventoryCode}).then(function(a){var n=a.tableContent,i=void 0===n?[]:n;i.forEach(function(t){var a=c.find(function(e){return t.inventoryCode===e.inventoryCode})||{},n=a.specificLoss,i=void 0===n?t.specificLoss:n,r=(0,K.accMul)(e.tdQty,t.qty,1+i);t.specificLoss=i,t.tdQty=Math.abs((0,J.toFixed)(r))}),t.$set(e,"boms",i);var r=JSON.parse((0,_.default)(i));t.DuplicateBoms=[].concat((0,C.default)(t.DuplicateBoms),(0,C.default)(r))})),n[e.transCode].push(e)}),v.default.all(i).then(function(e){t.mergeBomList()}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},findIndex:function(e,t){return e.findIndex(function(e){return e.orderCode===t.orderCode&&e.transCode===t.transCode&&e.inventoryCode===t.inventoryCode})},delClick:function(e,t,a){var n=this.selItems,i=this.findIndex(n,t);if(-1!==i)return void n.splice(i,1);n.push(t)},showSelIcon:function(e){return-1!==this.findIndex(this.selItems,e)},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,_.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,m.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.orderCode===a.orderCode&&t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=e.findIndex(n,t);i>=0&&(e.$refs.order.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}})}),e.selItems.forEach(function(t){t.boms.forEach(function(t){return e.UniqueBom.forEach(function(a,n){if(t.inventoryCode===a.inventoryCode){var i=(0,K.accSub)(a.tdQty,t.tdQty);return a.tdQty=(0,J.toFixed)(i),a.tdQty<=0&&e.UniqueBom.splice(n,1),!1}}),!0})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,c.default)((0,d.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,l=!1,u=void 0;try{for(var f,m=(0,c.default)(r);!(s=(f=m.next()).done);s=!0){var h=f.value;this.numMap[h.transCode+"_"+h.orderCode+"_"+h.inventoryCode]=(0,o.default)({},h)}}catch(e){l=!0,u=e}finally{try{!s&&m.return&&m.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="",a=[];t||(0,m.default)(this.orderList).length||(t="请选择物料");var n=!0,i=!1,s=void 0;try{for(var l,u=(0,c.default)((0,d.default)(this.orderList));!(n=(l=u.next()).done);n=!0){var f=l.value,h=!0,v=!1,p=void 0;try{for(var C,y=(0,c.default)(f);!(h=(C=y.next()).done);h=!0){var g=C.value;if(!g.tdQty){t="请填写减少数量";break}var b=[],w=!0,I=!1,x=void 0;try{for(var D,P=(0,c.default)(g.boms);!(w=(D=P.next()).done);w=!0){var S=D.value,k={tdId:S.tdId||null,transMatchedCode:g.transCode,tdQty:S.tdQty,orderCode:g.orderCode,bomSpecificLoss:S.specificLoss||S.bomSpecificLoss,tdProcessing:S.processing||S.tdProcessing,inventoryName:S.inventoryName,transObjCode:S.inventoryCode||S.transObjCode,measureUnit:S.measureUnit,bomType:S.bomType,bomQty:S.qty||S.bomQty,specification:S.specification,parentId:S.parentId||null};this.transCode&&delete k.orderCode,b.push(k)}}catch(e){I=!0,x=e}finally{try{!w&&P.return&&P.return()}finally{if(I)throw x}}var L={tdId:g.tdId||null,transMatchedCode:g.transCode,orderCode:g.orderCode,transObjCode:g.inventoryCode,inventoryName_transObjCode:g.inventoryName,tdProcessing:g.processing,measureUnit_transObjCode:g.measureUnit,thenQtyBal:g.qtyBal,shippingTime:g.shippingTime,tdQty:g.tdQty,comment:g.comment||"",boms:b};a.push(L)}}catch(e){v=!0,p=e}finally{try{!h&&y.return&&y.return()}finally{if(v)throw p}}}}catch(e){i=!0,s=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw s}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=O.saveAndStartWf,n={},i=(0,r.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});n=(0,o.default)({},e.formData,{modifer:e.transCode?e.formData.handler:"",handlerEntity:e.entity.dealerName,order:{dataSet:a}}),e.transCode&&(t=O.saveAndCommitTask,i={businessKey:e.transCode,createdBy:n.creator||n.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var s={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,_.default)(n),wfPara:(0,_.default)(i)};e.transCode||delete s.biReferenceId,e.processCode.length||(t=O.submitAndCalc,delete s.wfPara,delete s.biReferenceId),e.biReferenceId&&(s.biReferenceId=e.biReferenceId),e.saveData(t,s)}})},getFormData:function(){var e=this;return(0,T.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,l=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=l;var d={},u=r.order,f=u.dataSet,m=void 0===f?[]:f,h=!0,v=!1,p=void 0;try{for(var C,y=(0,c.default)(m);!(h=(C=y.next()).done);h=!0){var g=C.value;g.boms.forEach(function(e){e.inventoryCode=e.transObjCode,e.specificLoss=e.bomSpecificLoss}),g.boms&&(e.DuplicateBoms=e.DuplicateBoms.concat(JSON.parse((0,_.default)(g.boms)))),g=(0,o.default)({},g,{transCode:g.transMatchedCode,qtyBal:g.thenQtyBal,inventoryPic:g.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+g.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:g.inventoryName_transObjCode,inventoryCode:g.transObjCode,specification:g.specification_transObjCode,processing:g.tdProcessing}),d[g.transCode]||(d[g.transCode]=[]),d[g.transCode].push(g)}}catch(e){v=!0,p=e}finally{try{!h&&y.return&&y.return()}finally{if(v)throw p}}e.matterList=m,e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,o.default)({},e.formData,e.handlerDefault,{biComment:r.biComment,biId:r.biId,biProcessStatus:r.biProcessStatus,creator:r.creator,modifer:r.modifer,drDealerLogisticsTerms:r.drDealerLogisticsTerms}),e.mergeBomList(),e.biReferenceId=r.biReferenceId,e.orderList=d,e.$loading.hide()})},mergeBomList:function(){var e=function(e,t){return e.inventoryCode===t.inventoryCode};this.UniqueBom=function(t){return t.reduce(function(t,a){return t.some(function(t){var n=e(t,a);return n&&(t.tdQty=(0,K.accAdd)(t.tdQty,a.tdQty)),n})||t.push(a),t},[])}(this.DuplicateBoms)},hasDraftData:function(){return!!(0,d.default)(this.orderList).length&&(0,r.default)({},"NBJGDD_DATA",{orderList:this.orderList,formData:this.formData,DuplicateBoms:this.DuplicateBoms})},getRelationData:function(){}},created:function(){var e=sessionStorage.getItem("NBJGDD_DATA");if(e){var t=JSON.parse(e);this.orderList=t.orderList,this.formData=t.formData,this.DuplicateBoms=t.DuplicateBoms,this.mergeBomList(),sessionStorage.removeItem("NBJGDD_DATA")}}}},VIWb:function(e,t){},VNOa:function(e,t){},VNth:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MjAd"),r=n(i),s=a("FPb0"),o=n(s);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2429,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},components:{financeListItem:o.default},mixins:[r.default],methods:{},created:function(){}}},VOK4:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("6q39"),v=n(h),p=a("jLp1"),C=a("1KNX"),y=n(C),_=a("7biW"),g=n(_);t.default={name:"PopProjectList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:m.default,LoadMore:v.default,RScroll:y.default,MSearch:g.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},projectList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:function(){this.selItems=(0,d.default)({},this.defaultValue)}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){return e.PROJECT_NAME===this.selItems.PROJECT_NAME},selThis:function(e,t){this.showPop=!1,this.selItems=(0,d.default)({},e),this.$emit("sel-project",this.selItems)},getProjectLsit:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:"PROJECT_NAME"}])),(0,p.getProjectList)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.projectList=1===e.page?r:[].concat((0,o.default)(e.projectList),(0,o.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.projectList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getProjectLsit()},onPullingUp:function(){this.page++,this.getProjectLsit()}},created:function(){this.selItems=(0,d.default)({},this.defaultValue),this.getProjectLsit()}}},VPcv:function(e,t){},VZtf:function(e,t,a){"use strict";function n(e){a("RS8G")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("5XmH");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("FRNG"),o=a.n(s),l=a("424q"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-55f1422f",null);t.default=c.exports},VaQO:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"loading-container"},[a("div",{staticClass:"loading-wrapper"},[a("spinner",{staticClass:"loading-animation",attrs:{type:"circles",size:"34"}})],1)])},i=[],r={render:n,staticRenderFns:i};t.a=r},Vfwi:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("a3Yh"),o=n(s),l=a("ZLEe"),d=n(l),u=a("3cXf"),c=n(u),f=a("KH7x"),m=n(f),h=a("4YfN"),v=n(h),p=a("PzEQ"),C=n(p),y=a("BGNQ"),_=n(y),g=a("SAzG"),b=n(g),w=a("z5TY"),I=n(w),x=a("0AQX"),D=a("HyXB"),P=a("bKg5"),S=n(P),k=a("ZQWM"),L=n(k),N=a("I5id"),M=n(N),T=a("9cRV"),A=n(T),O=a("hLfv"),R=n(O),j=a("yt3/"),B=n(j),E=a("luHD"),F=n(E),U=a("VZtf"),$=n(U),Q=a("vl8n"),H=n(Q),V=a("+WR7"),q=n(V),Y=a("zWMP"),X=a("Qg39");t.default={name:"ApplySBCGDDForm",data:function(){return{orderList:{},matterList:[],showDealerPop:!1,dealerInfo:{},contactInfo:{},formData:{biId:"",biComment:""},submitSuccess:!1,taxRate:.16,numMap:{},transCode:"",formViewUniqueId:"fed81800-4c34-44a9-b517-c3fd9f2ab57d",biReferenceId:"",actions:[],taskId:"",showOrderPop:!1,tmpItems:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,filterList:[{name:"设施名称",value:"facilityName"},{name:"设施编码",value:"facilityCode"},{name:"申请号",value:"transCode"}],facility:{},checkFieldList:[{key:"tdQty",message:"请填写数量"},{key:"price",message:"请填写单价"},{key:"taxRate",message:"请填写税率"}]}},mixins:[S.default],components:{XTextarea:C.default,RNumber:$.default,PopDealerList:L.default,PopSingleSelect:B.default,XInput:b.default,Group:I.default,PopMatter:F.default,RPicker:H.default,PopBaseinfo:q.default,Cell:_.default,PopFacilityList:M.default,PopMatterList:A.default,DealerOtherPart:R.default},computed:{totalAmount:function(){var e=this,t=0;return this.matterList.forEach(function(a){e.simpleCalcMatter(a),t=(0,Y.accAdd)(t,a.noTaxAmount)}),Number(t)},taxAmount:function(){var e=0;return this.matterList.forEach(function(t){e=(0,X.toFixed)((0,Y.accAdd)(e,t.taxAmount))}),e},tdAmount:function(){return parseFloat((0,Y.accAdd)(this.totalAmount,Number(this.taxAmount)).toFixed(2))}},watch:{facility:{handler:function(e){this.simpleCalcMatter(e)},deep:!0}},methods:{selItem:function(e){this.formData=(0,v.default)({},this.formData,e)},selDealer:function(e){var t=JSON.parse(e),a=(0,m.default)(t,1),n=a[0];this.dealerInfo=(0,v.default)({},n,{drDealerPaymentTerm:n.paymentTerm,daysOfAccount:n.pamentDays})},selContact:function(e){this.contactInfo=(0,v.default)({},e)},modifyMatter:function(e,t,a){this.facility=JSON.parse((0,c.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selMatter:function(e){var t=JSON.parse(e),a={};t.forEach(function(e){e.tdQty=e.tdQty||e.qtyBal,e.price=e.price||"",e.taxRate=e.taxRate||.16,a[e.transCode]||(a[e.transCode]=[]),a[e.transCode].push(e)}),this.numMap={},this.matterList=t,this.orderList=a},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.facilityCode!==e.facilityCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.facilityCode===t.facilityCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.facilityCode===e.facilityCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,c.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,d.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.facilityCode===a.facilityCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.facilityCode===t.facilityCode});i>=0&&(e.$refs.matter.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.facilityCode===a.facilityCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerCode||(t="请选择供应商信息"),t||this.dealerInfo.paymentTerm||(t="请选择结算方式"),t||this.matterList.length||(t="请选择设施"),t||this.matterList.every(function(n){if(!n.price)return t="单价不能为空",!1;if(!n.tdQty&&0!==n.tdQty)return t="数量不能为空",!1;var i=n.taxRate||e.taxRate,r=(0,Y.accMul)(n.price,n.tdQty,i),s={transMatchedCode:n.transCode,facilityObjCode:n.facilityCode,facilityName_facilityObjCode:n.facilityName,facilityType:n.facilityType,thenQtyBal:n.qtyBal||0,tdQty:n.tdQty,price:n.price,taxRate:i,taxAmount:r,tdAmount:(0,Y.accAdd)((0,Y.accMul)(n.price,n.tdQty),r),comment:n.comment||""};return e.transCode&&(s.tdId=n.tdId||null),a.push(s),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=D.saveAndStartWf,n={},i=(0,o.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});n=(0,v.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.formData.handler,modifer:e.formData.handler,dealerDebitContactPersonName:e.contactInfo.dealerName||"",dealerDebitContactInformation:e.contactInfo.dealerMobilePhone||"",order:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName||"供应商",drDealerPaymentTerm:e.dealerInfo.paymentTerm,daysOfAccount:e.dealerInfo.pamentDays,dataSet:a}}),e.transCode&&(t=D.saveAndCommitTask,i={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,c.default)(n),wfPara:(0,c.default)(i)};e.transCode||delete r.biReferenceId,e.processCode.length||(t=D.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,x.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=l;var d=s.order,u=(s.dealerDebit,d.dataSet),c=void 0===u?[]:u,f={},m=[],h=!0,p=!1,C=void 0;try{for(var y,_=(0,r.default)(c);!(h=(y=_.next()).done);h=!0){var g=y.value;g=(0,v.default)({},g,{transCode:g.transMatchedCode,inventoryPic:g.inventoryPic_facilityObjCode?"/H_roleplay-si/ds/download?url="+g.inventoryPic_facilityObjCode+"&width=400&height=400":e.getDefaultImg(),facilityName:g.facilityName_facilityObjCode,facilityCode:g.facilityObjCode,facilityBigType:g.facilityBigType_facilityObjCode,facilitySubclass:g.facilitySubclass_facilityObjCode,facilityUnit:g.facilityUnit_facilityObjCode,specification:g.specification_facilityObjCode,processing:g.tdProcessing,qtyBal:g.thenQtyBal}),f[g.transCode]||(f[g.transCode]=[]),m.push(g),f[g.transCode].push(g)}}catch(e){p=!0,C=e}finally{try{!h&&_.return&&_.return()}finally{if(p)throw C}}e.dealerInfo={creatorName:s.dealerCreditContactPersonName,dealerName:d.dealerName_dealerDebit,dealerMobilePhone:s.dealerCreditContactInformation,dealerCode:d.dealerCode_dealerDebit,dealerLabelName:d.drDealerLabel,province:d.province_dealerDebit,city:d.city_dealerDebit,county:d.county_dealerDebit,address:d.address_dealerDebit,paymentTerm:d.drDealerPaymentTerm,pamentDays:d.daysOfAccount},e.contactInfo={dealerName:s.dealerDebitContactPersonName,dealerMobilePhone:s.dealerDebitContactInformation},e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,v.default)({},e.formData,e.handlerDefault,{creator:s.creator,biId:s.biId,biComment:s.biComment}),e.biReferenceId=s.biReferenceId,e.matterList=m,e.orderList=f,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,o.default)({},"SBCGDD_DATA",{facility:this.matterList,dealer:this.dealerInfo,formData:this.formData,contactInfo:this.contactInfo})},getRelationData:function(){var e=this,t=this.$route.query.uniqueId;return(0,x.getSOList)({formViewUniqueId:t,transCode:this.relationKey}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i;t.attachment;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var s=r.order,l=(r.dealerDebit,s.dataSet),d=void 0===l?[]:l;d=d.map(function(t){return(0,v.default)({},t,{inventoryPic:t.inventoryPic_facilityObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_facilityObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_facilityObjCode,facilityCode:t.inventoryCode_facilityObjCode,specification:t.specification_facilityObjCode,measureUnit:t.measureUnit_facilityObjCode,transCode:e.relationKey,qtyBal:t.tdQty,tdQty:""})}),e.dealerInfo={creatorName:r.dealerDebitContactPersonName,dealerMobilePhone:r.dealerDebitContactInformation,dealerCode:r.order.dealerDebit,dealerSubclass:r.order.drAccountSub,dealerName:r.order.dealerName_dealerDebit,province:r.order.province_dealerDebit,city:r.order.city_dealerDebit,county:r.order.county_dealerDebit,address:r.order.address_dealerDebit},e.matterList=d,e.orderList=(0,o.default)({},e.relationKey,d),e.$loading.hide()})},moreUnitClick:function(e){e.showDrop=!e.showDrop},moreUnitSelected:function(e){this.facility.assMeasureUnit=e.invSubUnitName,this.facility.assistQty=e.invSubUnitMulti},assembleOrder:function(e){var t={};e.forEach(function(e){t[e.transCode]||(t[e.transCode]=[]),t[e.transCode].push(e)}),this.orderList=t}},created:function(){var e=sessionStorage.getItem("SBCGDD_DATA");if(e){var t=JSON.parse(e);this.matterList=t.facility,this.dealerInfo=t.dealer,this.formData=t.formData,this.contactInfo=t.contactInfo,this.assembleOrder(this.matterList),sessionStorage.removeItem("SBCGDD_DATA")}}}},Vgft:function(e,t){},VhGg:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("3cXf"),o=n(s),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("7g+Q"),C=n(p),y=a("PzEQ"),_=n(y),g=a("jnZd"),b=n(g),w=a("0AQX"),I=a("HyXB"),x=(a("jLp1"),a("bKg5")),D=n(x),P=a("aumL"),S=n(P),k=a("vl8n"),L=n(k),N=a("+WR7"),M=n(N),T=a("y8YJ"),A=n(T),O=a("zWMP");a("Qg39");t.default={mixins:[D.default],components:{Cell:c.default,Group:m.default,Popup:C.default,XInput:v.default,XTextarea:_.default,PopFundList:S.default,PopupPicker:b.default,RPicker:L.default,PopBaseinfo:M.default,PopDealerList:A.default},data:function(){return{listId:"b6b97d33-5d8e-4942-b978-09103d06f188",biComment:"",biReferenceId:"",showCostPop:!1,CostList:[{cashName:"",cashInCode:"",cashType_cashInCode:"",tdAmount:""}],selectedCost:[],costIndex:0,transCode:"",dealerInfo:{},contact:{},formData:{biComment:"",biProcessStatus:""}}},computed:{totalAmount:function(){var e=0;return this.CostList.forEach(function(t){t.tdAmount&&(e=(0,O.accAdd)(e,t.tdAmount))}),e}},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0]},selContact:function(e){this.contact=(0,d.default)({},e)},getCost:function(e,t){this.showCostPop=!0,this.costIndex=e,this.selectedCost=[t]},addCost:function(){this.expSubjectList=[],this.CostList.push({cashName:"",cashInCode:"",cashType_cashInCode:"",tdAmount:""})},deleteCost:function(){this.CostList.pop()},selMatter:function(e){var t=e;this.CostList[this.costIndex].cashName=t.fundName,this.CostList[this.costIndex].cashInCode=t.fundCode,this.CostList[this.costIndex].cashType_cashInCode=t.fundType},submitOrder:function(){var e=this,t="",a=[];if(this.CostList.every(function(e){return e.cashName?e.tdAmount?(a.push({tdId:e.tdId||"",cashInCode:e.cashInCode,cashType_cashInCode:e.cashType_cashInCode,tdAmount:e.tdAmount}),!0):(t="请填写支付金额",!1):(t="请选择资金账户",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=I.saveAndStartWf,n=(0,r.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,o.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:"",formData:(0,o.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName,dataSet:a},dealerCreditContactPersonName:e.contact.dealerName||null,dealerCreditContactInformation:e.contact.dealerMobilePhone||null})),wfPara:(0,o.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=I.saveAndCommitTask),e.processCode.length||(t=I.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,w.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.attachment=t.attachment,e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.CostList=[];var a=t.formData;e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),a.order.dataSet.forEach(function(t){var a={cashName:t.fundName_cashInCode,cashInCode:t.cashInCode,cashType_cashInCode:t.cashType_cashInCode,tdAmount:t.tdAmount,tdId:t.tdId};e.CostList.push(a)}),e.dealerInfo={creatorName:a.dealerCreditContactPersonName,dealerMobilePhone:a.dealerCreditContactInformation,dealerCode:a.order.dealerCodeCredit,dealerLabelName:a.order.crDealerLabel,dealerName:a.order.dealerName_dealerCodeCredit,province:a.order.province_dealerDebit,city:a.order.city_dealerDebit,county:a.order.county_dealerDebit,address:a.order.address_dealerCodeCredit},e.contact={dealerName:a.dealerCreditContactPersonName,dealerMobilePhone:a.dealerCreditContactInformation},e.$loading.hide()})},hasDraftData:function(){var e=!1;return this.CostList.forEach(function(t){if(t.cashName)return e=!0,!1}),!!e&&(0,r.default)({},"SK_DATA",{cost:this.CostList,formData:this.formData,dealerInfo:this.dealerInfo,contact:this.contact})}},created:function(){var e=sessionStorage.getItem("SK_DATA");if(e){var t=JSON.parse(e);this.CostList=t.cost,this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.contact=t.contact,sessionStorage.removeItem("SK_DATA")}}}},Vi6A:function(e,t,a){"use strict";function n(e){a("gftx")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("WUQS");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Oyni"),o=a.n(s),l=a("1XMz"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-acf79a50",null);t.default=c.exports},Vkn7:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"admin_comment"},[a("div",{staticClass:"title"},[a("span",[e._v("管理员自评")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.adminCommentList.length,expression:"adminCommentList.length"}],staticClass:"more",on:{click:e.getMoreComment}},[e._v("查看更多")])]),e._v(" "),e.adminCommentList.length?e._e():a("div",{staticClass:"no_data"},[e._v("暂无评论")]),e._v(" "),a("div",{staticClass:"admin-comment-container swiper-container",class:{no_swiper:!e.adminCommentList.length}},[a("div",{staticClass:"swiper-wrapper"},e._l(e.adminCommentList,function(t,n){return n<5?a("div",{key:n,staticClass:"swiper-slide"},[a("div",{staticClass:"each_comment",on:{click:function(t){e.goPop(n)}}},[a("div",{staticClass:"user_photo"},[a("img",{attrs:{src:t.photo},on:{error:function(a){e.getUserDefault(t)}}})]),e._v(" "),a("div",{staticClass:"comment_content"},[a("div",{staticClass:"user_info"},[a("span",{staticClass:"user_name"},[e._v(e._s(t.creator))]),e._v(" "),a("span",{staticClass:"comment_time"},[e._v(e._s(e._f("handerTime")(t.crtTime)))])]),e._v(" "),a("div",{staticClass:"comment"},[a("div",[a("div",[e._v("改进结果:")]),e._v(" "),a("div",{staticClass:"achievement",domProps:{innerHTML:e._s(t.modifyAchievement)}})]),e._v(" "),a("div",[a("div",[e._v("改进机会:")]),e._v(" "),a("div",{staticClass:"chance",domProps:{innerHTML:e._s(t.modifyChance)}})])])])])]):e._e()}),0)]),e._v(" "),e.handle?a("div",{staticClass:"edit_comment",on:{click:e.EditAdmin}},[a("span",{staticClass:"iconfont icon-bianji"}),e._v(" "),a("span",[e._v("撰写评论")])]):e._e(),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{attrs:{position:"bottom",height:"100%"},on:{"on-show":e.onShow},model:{value:e.popupShow,callback:function(t){e.popupShow=t},expression:"popupShow"}},[a("r-scroll",{ref:"bScroll",staticClass:"full-flow-container",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.adminCommentList.length},on:{"on-pulling-up":e.onPullingUp}},[a("div",{staticClass:"change_list"},[a("div",{staticClass:"title vux-1px-b"},[e._v("\n            管理员自评\n          ")]),e._v(" "),e._l(e.adminCommentList,function(t,n){return a("div",{key:n,ref:"eachComment",refInFor:!0,staticClass:"each_comment vux-1px-b",class:{visited:n===e.seletedIndex}},[a("div",{staticClass:"user_photo"},[a("img",{attrs:{src:t.photo},on:{error:function(a){e.getUserDefault(t)}}})]),e._v(" "),a("div",{staticClass:"comment_content"},[a("div",{staticClass:"user_info"},[a("span",{staticClass:"user_name"},[e._v(e._s(t.creator))]),e._v(" "),a("span",{staticClass:"comment_time"},[e._v(e._s(e._f("handerTime")(t.crtTime)))])]),e._v(" "),a("div",{staticClass:"comment"},[a("div",[a("span",[e._v("改进结果:")]),e._v(" "),a("span",{staticClass:"achievement",domProps:{innerHTML:e._s(t.achievement)}})]),e._v(" "),a("div",[a("span",[e._v("改进机会:")]),e._v(" "),a("span",{staticClass:"chance",domProps:{innerHTML:e._s(t.chance)}})])])])])})],2)]),e._v(" "),a("div",{staticClass:"btn when_less vux-1px-t"},[a("span",{staticClass:"cfm_btn",on:{click:e.closePop}},[e._v("关闭")])])],1)],1)])},i=[],r={render:n,staticRenderFns:i};t.a=r},VnXt:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2239,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_outPutMatCode"},{name:"往来名称",value:"dealerName_dealerDebit"}]}},mixins:[i.default],methods:{},created:function(){}}},VsvK:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("xZPP"),r=n(i),s=a("St0H"),o=a("803w"),l=n(o),d=a("gTYh"),u=n(d),c=a("FGI+"),f=n(c);t.default={name:"cell",components:{InlineDesc:r.default},props:(0,l.default)(),created:function(){},beforeMount:function(){this.hasTitleSlot=!!this.$slots.title,this.$slots.value},computed:{labelStyles:function(){return(0,u.default)({width:(0,f.default)(this,"labelWidth"),textAlign:(0,f.default)(this,"labelAlign"),marginRight:(0,f.default)(this,"labelMarginRight")})},valueClass:function(){return{"vux-cell-primary":"content"===this.primary||"left"===this.valueAlign,"vux-cell-align-left":"left"===this.valueAlign,"vux-cell-arrow-transition":!!this.arrowDirection,"vux-cell-arrow-up":"up"===this.arrowDirection,"vux-cell-arrow-down":"down"===this.arrowDirection}},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}},style:function(){if(this.alignItems)return{alignItems:this.alignItems}}},methods:{onClick:function(){!this.disabled&&(0,s.go)(this.link,this.$router)}},data:function(){return{hasTitleSlot:!0,hasMounted:!1}}}},VtS1:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("iR2W"),r=n(i),s=a("kNGm"),o=n(s),l=a("Qg39"),d=a("zWMP");t.default={name:"justWordItem",props:{item:{type:Object,default:function(){return{}}},noCount:{type:Boolean,default:!1},conutTitle:{type:String,default:"合计"}},data:function(){return{}},computed:{total:function(){var e=this.item,t=e.count,a=e.totalAmount,n=e.budgetIncome_project;return n||(null!=t?t:a||0===a?a:void 0)}},filters:{percent:function(e){return e||0===e?(0,d.accMul)(e,100)+"%":"无"},toFixed:l.toFixed,dateFormat:o.default,numberComma:r.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t}}}},VuUd:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"BomList",props:{boms:{type:Array,default:function(){return[]}}}}},VvlX:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2256,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}]}},mixins:[i.default],methods:{},created:function(){}}},VxZ1:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={props:{BusApps:{type:Array,default:[]},goList:{type:Function,require:!0},getDefaultIcon:{type:Function,require:!0},goAppDetail:{type:Function,require:!0}}}},VyQ5:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("iR2W"),r=n(i),s=a("kNGm"),o=n(s),l=a("Qg39");t.default={name:"materListItem",props:{item:{type:Object,default:function(){return{}}},isHasCount:{type:Boolean,default:!0}},data:function(){return{}},filters:{dateFormat:o.default,numberComma:r.default,toFixed:l.toFixed}}},W09m:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("KH7x"),o=n(s),l=a("7g+Q"),d=n(l),u=a("z5TY"),c=n(u),f=a("HXPS"),m=n(f),h=a("d5Kw"),v=n(h),p=a("kNGm"),C=n(p),y=a("1KNX"),_=n(y);t.default={props:{noStatus:{type:String,require:!0},crtTime:{type:String,require:!0},fullWorkFlow:{type:Array,default:function(){return[]}},userName:{type:String,default:""},isMyTask:{type:Boolean,default:!1},workFlowInfo:{type:Object,default:function(){return{}}}},data:function(){return{defaulImg:a("Fuf7"),currentStatus:{}}},computed:{statusClass:function(){var e=this.workFlowInfo.biStatus;switch(void 0===e?"":e){case"进行中":return"doing";case"已失效":return"failure";default:return""}}},watch:{fullWorkFlow:{handler:function(){this.workFlowHandler()},immediate:!0}},components:{Popup:d.default,Group:c.default,Icon:m.default,XButton:v.default,RScroll:_.default},methods:{workFlowHandler:function(){var e=this.fullWorkFlow.slice(-1),t=(0,o.default)(e,1),a=t[0],n=void 0===a?{}:a,i=!0,s=!1,l=void 0;try{for(var d,u=(0,r.default)(this.fullWorkFlow);!(i=(d=u.next()).done);i=!0){var c=d.value;c.userName=c.userName.replace(/\s*/g,"")}}catch(e){s=!0,l=e}finally{try{!i&&u.return&&u.return()}finally{if(s)throw l}}this.currentStatus=n},goWorkFlowFull:function(){var e=this.workFlowInfo.transCode,t=void 0===e?"":e;this.$router.push({path:"/workFlowFull",query:{transCode:t}})}},filters:{dateFormat:C.default},created:function(){}}},W1Ln:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages xmjh-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,"default-contact":e.contactInfo,"dealer-params":e.dealerParams},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("div",{staticClass:"materiel_list"},[a("div",{staticClass:"title"},[e._v("发票信息")]),e._v(" "),a("group",{staticClass:"SJ_group",on:{"group-title-margin-top":function(e){}}},[a("x-input",{attrs:{title:"票号","text-align":"right",placeholder:"请填写"},on:{"on-focus":function(t){e.getFocus(t)}},model:{value:e.invoiceInfo.ticketNumber,callback:function(t){e.$set(e.invoiceInfo,"ticketNumber",t)},expression:"invoiceInfo.ticketNumber"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("票号")])])],2),e._v(" "),a("popup-picker",{attrs:{title:"发票类型",data:e.invoiceType,"text-align":"right",placeholder:"请选择"},on:{"on-change":function(t){e.typeTask(t)}},model:{value:e.invoiceGetType,callback:function(t){e.invoiceGetType=t},expression:"invoiceGetType"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("发票类型")])])],2),e._v(" "),a("datetime",{attrs:{title:"发票日期","text-align":"right",placeholder:"请选择"},model:{value:e.invoiceInfo.invoiceDate,callback:function(t){e.$set(e.invoiceInfo,"invoiceDate",t)},expression:"invoiceInfo.invoiceDate"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("发票日期")])])],2),e._v(" "),a("x-input",{attrs:{title:"发票内容","text-align":"right",placeholder:"请填写"},on:{"on-focus":function(t){e.getFocus(t)}},model:{value:e.invoiceInfo.invoiceContent,callback:function(t){e.$set(e.invoiceInfo,"invoiceContent",t)},expression:"invoiceInfo.invoiceContent"}})],1)],1),e._v(" "),a("div",{staticClass:"materiel_list"},[Object.keys(e.orderList).length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n,i){return a("div",{key:n,staticClass:"each_mater",class:{"vux-1px-b":i<Object.keys(e.orderList).length-1}},[t.length?a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v(e._s(e.orderListTitle))]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]):e._e(),e._v(" "),e._l(t,function(t,i){return a("div",{key:i,class:{mater_delete:e.matterModifyClass}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass,config:e.matterEditConfig.property},on:{"on-modify":function(a){e.modifyMatter(t,i,n)}},nativeOn:{click:function(a){e.delClick(i,t,n)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[n.price&&n.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price)+"\n                      ")]),e._v(" "),a("div",[a("r-number",{attrs:{num:n.tdQty,max:n.qtyBal,checkAmt:e.checkAmt},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",t)},expression:"item.tdQty"}})],1)]):e._e()]}},{key:"editPart",fn:function(t){var r=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r.price&&r.tdQty&&!e.matterModifyClass,expression:"(item.price && item.tdQty) &&!matterModifyClass"}],staticClass:"edit-part vux-1px-l",on:{click:function(t){e.modifyMatter(r,i,n)}}},[a("span",{staticClass:"iconfont icon-bianji1"})])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(i,t,n)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)})],2)}),0)]:[a("div",{staticClass:"no-matter",on:{click:e.getMatter}},[a("div",{staticClass:"title"},[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择"+e._s(e.orderListTitle))]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),e.matterList.length?a("span",{staticClass:"add_more",on:{click:e.addMatter}},[e._v("新增更多物料")]):e._e()]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showMaterielPop,"default-value":e.matterList,"filter-list":e.filterList,"matter-params":e.matterParams,"order-title":e.matterPopOrderTitle,config:e.matterPopConfig},on:{"sel-matter":e.selMatter},model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}})],2),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,config:e.matterEditConfig},on:{"sel-confirm":e.selConfirm},model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("op-button",{attrs:{"is-modify":e.matterModifyClass,hide:e.btnIsHide,"td-amount":e.tdAmount,"tax-amount":e.taxAmount,"all-check":e.selItems.length===e.matterList.length},on:{"on-submit":e.submitOrder,"on-check-all":e.checkAll,"on-delete":e.deleteCheckd}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},W23b:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2496}},mixins:[i.default],methods:{},created:function(){}}},W3IX:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("6q39"),v=n(h),p=a("kNGm"),C=n(p),y=a("fEP3"),_=a("1KNX"),g=n(_),b=a("7biW"),w=n(b);t.default={name:"PopWorkGDBLLList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:m.default,LoadMore:v.default,RScroll:g.default,MSearch:w.default},filters:{dateFormat:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},workList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterList:[{name:"成品名称",value:"inventoryName"},{name:"成品编码",value:"matCode"},{name:"工序名称",value:"procedureName"}],filterProperty:""}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){return e.transCode===this.selItems.transCode},selThis:function(e,t){this.showPop=!1,this.selItems=(0,d.default)({},e),this.$emit("sel-work",this.selItems)},setDefaultValue:function(){this.selItems=(0,d.default)({},this.defaultValue)},getWorkOrderTask:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,y.getWorkGDBLLList)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.workList=1===e.page?r:[].concat((0,o.default)(e.workList),(0,o.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.workList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getWorkOrderTask()},onPullingUp:function(){this.page++,this.getWorkOrderTask()}},created:function(){this.setDefaultValue(),this.getWorkOrderTask()}}},W8W0:function(e,t,a){"use strict";function n(e){a("T1aZ")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("WMFo");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("wqMj"),o=a.n(s),l=a("0wyW"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-533cf897",null);t.default=c.exports},WAdr:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("J0Oq"),o=n(s),l=a("ZLEe"),d=n(l),u=a("3cXf"),c=n(u),f=a("HzJ8"),m=n(f),h=a("KH7x"),v=n(h),p=a("4YfN"),C=n(p),y=a("+62G"),_=n(y),g=a("Nk/b"),b=n(g),w=a("7g+Q"),I=n(w),x=a("z5TY"),D=n(x),P=a("wDjS"),S=n(P),k=a("KFOb"),L=n(k),N=a("HXPS"),M=n(N),T=a("SAzG"),A=n(T),O=a("u28h"),R=n(O),j=a("HyXB"),B=a("hFVz"),E=n(B),F=a("vl8n"),U=n(F),$=a("PKHo"),Q=n($),H=a("1KNX"),V=n(H),q=a("5gKc"),Y=n(q);a("44qn"),a("z0pV");t.default={data:function(){return{addressData:L.default,transCode:"",picShow:!1,imgFileObj:{},MatPic:"",AccountRelType:[],cAccountAddress:[],dAccountAddress:[],pickerStatus:!1,showAddress:!1,dealerType:[],PhoneWarn:!1,MobileWarn:!1,EmailWarn:!1,codeWarn:!1,baseinfo:{handler:"",handlerName:"",handlerArea:"",handlerAreaName:"",handlerUnit:"",handlerUnitName:"",handlerRole:"",handlerRoleName:"",activeTime:"",comment:""},dealer:{dealerCode:"",dealerName:"",dealerLabelName:"",province:"",city:"",county:"",address:"",dealerPhone:"",dealerMobilePhone:"",dealerMail:"",paymentTerm:"",dealerLogisticsTerms:"",pamentDays:"",dealerStatus:"",comment:"",dealerPic:""},statusList:[],dealerStatus:"使用中",submitSuccess:!1,scrollOptions:{click:!0},dealerConfig:[],dealerDuplicateConfig:[],dealerDuplicateData:{},viewId:""}},computed:{disabledSubmit:function(){return this.PhoneWarn||this.MobileWarn||this.EmailWarn||this.codeWarn},dealerLabelName:function(){return this.dealer.dealerLabelName}},watch:{dealerLabelName:function(e){var t=this.dealer.dealerLabelName;this.dealerDuplicateConfig.forEach(function(e){"deliveryAddresses"===e.name&&(e.isHidden=!1,t&&(t.includes("客户")||t.includes("供应商")||t.includes("加工商")||t.includes("渠道商")||t.includes("服务商"))||(e.isHidden=!0)),"dealerCertificateRel"===e.name&&(e.isHidden=!1,t&&(t.includes("生产商")||t.includes("经销供应商"))||(e.isHidden=!0))})}},directives:{TransferDom:_.default},mixins:[Q.default],components:{Picker:b.default,Popup:I.default,Group:D.default,RPicker:U.default,XAddress:S.default,Icon:M.default,RScroll:V.default,UploadImage:Y.default,XInput:A.default,Datetime:R.default},methods:{onUpload:function(e){this.dealer.dealerPic=e.src},getDealer:function(){var e=this;return E.default.getDictByType().then(function(t){var a=t.tableContent;return a&&a.forEach(function(e){e.selected=!1}),e.AccountRelType=a,e.$nextTick(function(){e.$refs.bScroll.refresh()}),a}).catch(function(t){e.$vux.alert.show({content:t.message})})},DealerPop:function(){var e=this;this.pickerStatus=!0,this.dealerType=[];var t=this.dealer.dealerLabelName.split(",");this.dealer.dealerLabelName.length&&t.forEach(function(t){var a={name:t};e.dealerType.push(a)})},onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},showSelIcon:function(e){return-1!==this.dealerType.findIndex(function(t){return t.name===e.name})},selectType:function(e){e.selected=!e.selected;var t=this.dealerType,a=t.findIndex(function(t){return t.name===e.name});if(-1!==a)return void t.splice(a,1);t.push(e)},cfmMater:function(){var e=this;this.pickerStatus=!1,this.dealer.dealerLabelName="",this.dealerType.forEach(function(t){if(e.dealer.dealerLabelName.length)return void(e.dealer.dealerLabelName+=","+t.name);e.dealer.dealerLabelName+=t.name})},check:function(e,t){"dealerPhone"===e.fieldCode?e.warn=this.checkPhone():"dealerMobilePhone"===e.fieldCode?e.warn=this.checkMobile():"dealerMail"===e.fieldCode&&(e.warn=this.checkEmail())},checkPhone:function(){var e=/^0\d{2,3}-\d{7,8}$/;return this.dealer.dealerPhone.length>0&&!e.test(this.dealer.dealerPhone)?this.PhoneWarn=!0:this.PhoneWarn=!1,this.PhoneWarn},checkMobile:function(){var e=/^[1][3,4,5,7,8][0-9]{9}$/;return this.dealer.dealerMobilePhone.length>0&&!e.test(this.dealer.dealerMobilePhone)?this.MobileWarn=!0:this.MobileWarn=!1,this.MobileWarn},checkEmail:function(){var e=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;return this.dealer.dealerMail.length>0&&!e.test(this.dealer.dealerMail)?this.EmailWarn=!0:this.EmailWarn=!1,this.EmailWarn},checkCode:function(e){var t=/^[1-9][0-9]{5}$/;return e.postalCode.length>0&&!t.test(e.postalCode)?this.codeWarn=!0:this.codeWarn=!1,this.codeWarn},findData:function(){var e=this;return E.default.getDealerInfo(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=t.attachment,r=void 0===i?[]:i;e.dealerDuplicateConfig.forEach(function(t){n[t.name].length&&(e.dealerDuplicateData[t.name]=n[t.name])});var s=n.baseinfo,o=void 0===s?{}:s,l=n.dealer,d=void 0===l?{}:l;switch(d.dealerStatus){case"1":e.dealerStatus="使用中";break;case"2":e.dealerStatus="未使用";break;case"0":e.dealerStatus="草稿";break;case"-1":e.dealerStatus="停用"}e.baseinfo=(0,C.default)({},e.baseinfo,o),e.dealer=(0,C.default)({},e.dealer,d),e.dealer.dealerPic.length>0?(e.picShow=!0,e.MatPic="/H_roleplay-si/ds/download?url="+e.dealer.dealerPic+"&width=400&height=400"):(e.picShow=!0,e.getDefaultImg());var u=r.filter(function(t){return t.attacthment===e.dealer.dealerPic}),c=(0,v.default)(u,1),f=c[0],m=void 0===f?{}:f;e.cAccountAddress=[e.dealer.province,e.dealer.city,e.dealer.county],e.imgFileObj=m})},getDefaultImg:function(){this.MatPic=a("tVsm")},changeAddress:function(e,t){this.AccountAddress=t},getAddress:function(){if(this.AccountAddress.length>0){if(this.dealer.province=this.AccountAddress[0],this.dealer.county=this.AccountAddress[2],"市辖区"===this.AccountAddress[1])return void(this.dealer.city="");this.dealer.city=this.AccountAddress[1]}},onChange:function(e,t,a,n){if("deliveryProvince"===a.fieldCode){var i="",r="",s=!0,o=!1,l=void 0;try{for(var d,u=(0,m.default)(this.dealerDuplicateConfig[t].items);!(s=(d=u.next()).done);s=!0){var c=d.value;if("break"===function(t){if("deliveryProvince"===t.fieldCode){var a=!0,s=!1,o=void 0;try{for(var l,d=(0,m.default)(t.remoteData);!(a=(l=d.next()).done);a=!0){var u=l.value;if(u.name===e){i=u.id;break}}}catch(e){s=!0,o=e}finally{try{!a&&d.return&&d.return()}finally{if(s)throw o}}}if("deliveryCity"===t.fieldCode)return t.requestParams.data.parentId=i,(0,j.requestData)(t.requestParams).then(function(e){e.tableContent&&(e.tableContent.length?(e.tableContent.forEach(function(e){e.originValue=e.value,e.value=e.name}),n.deliveryCity=e.tableContent[0].name,r=e.tableContent[0].originValue):n.deliveryCity="",t.remoteData=e.tableContent)}),"break"}(c))break}}catch(e){o=!0,l=e}finally{try{!s&&u.return&&u.return()}finally{if(o)throw l}}}else if("deliveryCity"===a.fieldCode){var f="",h=!0,v=!1,p=void 0;try{for(var C,y=(0,m.default)(this.dealerDuplicateConfig[t].items);!(h=(C=y.next()).done);h=!0){var _=C.value,g=function(t){if("deliveryCity"===t.fieldCode){var a=!0,i=!1,r=void 0;try{for(var s,o=(0,m.default)(t.remoteData);!(a=(s=o.next()).done);a=!0){var l=s.value;if(l.name===e){f=l.originValue;break}}}catch(e){i=!0,r=e}finally{try{!a&&o.return&&o.return()}finally{if(i)throw r}}}if("deliveryCounty"===t.fieldCode)return t.requestParams.data.parentId=f,(0,j.requestData)(t.requestParams).then(function(e){e.tableContent&&(e.tableContent.length?(e.tableContent.forEach(function(e){e.originValue=e.value,e.value=e.name}),n.deliveryCounty=e.tableContent[0].name):n.deliveryCounty="",t.remoteData=e.tableContent)}),"break"}(_);if("break"===g)break}}catch(e){v=!0,p=e}finally{try{!h&&y.return&&y.return()}finally{if(v)throw p}}}},submit:function(){var e=this;for(var t in this.dealer)"string"==typeof this.dealer[t]&&this.dealer[t].indexOf(" ")>=0&&(this.dealer[t]=this.dealer[t].replace(/\s/g,""));this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){switch(e.dealerStatus){case"使用中":e.dealer.dealerStatus="1";break;case"未使用":e.dealer.dealerStatus="2";break;case"草稿":e.dealer.dealerStatus="0";break;case"停用":e.dealer.dealerStatus="-1"}e.dealer.status&&delete e.dealer.status;var t={listId:"c0375170-d537-4f23-8ed0-a79cf75f5b04",formData:{baseinfo:e.baseinfo,dealer:e.dealer}};e.dealerDuplicateConfig.forEach(function(a){e.dealerDuplicateData[a.name].length&&(t.formData[a.name]=e.dealerDuplicateData[a.name])}),e.transCode?E.default.update(t).then(function(t){t.success?(e.submitSuccess=!0,e.$vux.alert.show({content:"修改成功",onHide:function(){e.$router.go(-1)}})):e.$vux.alert.show({content:t.message})}):E.default.save(t).then(function(t){t.success?(e.submitSuccess=!0,e.$vux.alert.show({content:"提交成功",onHide:function(){if(1===e.$route.query.add){var t=[e.dealer];sessionStorage.setItem("DEALERLIST_SELITEMS",(0,c.default)(t))}e.$router.go(-1)}})):e.$vux.alert.show({content:t.message})})}})},save:function(){var e=this;if(!this.disabledSubmit){var t="";if([{key:"dealerCode",message:"【往来编码】"},{key:"dealerName",message:"【往来名称】"},{key:"dealerLabelName",message:"【往来类型】"}].every(function(a){return""!==e.dealer[a.key]||(t=a.message+"不能为空",!1)}),!t&&this.PhoneWarn&&(t="电话号码格式不正确"),!t&&this.MobileWarn&&(t="手机号码格式不正确"),!t&&this.EmailWarn&&(t="邮件格式不正确"),!t&&(0,d.default)(this.dealerDuplicateData).length&&(0,d.default)(this.dealerDuplicateData).forEach(function(a){if(e.dealerDuplicateData[a].length<=0)return!1;e.dealerDuplicateConfig.forEach(function(n){n.name===a&&n.items.forEach(function(n){n.hidden||e.dealerDuplicateData[a].forEach(function(e){if(!n.allowBlank&&!e[n.fieldCode])return t=n.text+"不能为空",!1})})})}),t)return void this.$vux.alert.show({content:t});this.submit()}},addMoreUnit:function(e){var t={};e.items.forEach(function(e){e.hidden||(t[e.fieldCode]="")}),this.dealerDuplicateData[e.name].push(t)},deleteMoreUnit:function(e){this.dealerDuplicateData[e.name].pop()},handlerParams:function(e){var t=e.dataSource.data.url,a=e.dataSource.data.params,n=(0,d.default)(a),i={url:t};if(n.length){var r={};n.forEach(function(e){r[e]="text"===a[e].type?a[e].value:""}),i.data=r}return i},getFormViews:function(){var e=this;return(0,j.getFormViews)("c0375170-d537-4f23-8ed0-a79cf75f5b04").then(function(t){var a=!0,n=!1,i=void 0;try{for(var r,s=(0,m.default)(t);!(a=(r=s.next()).done);a=!0){var o=r.value;if("submit"===o.viewType){e.viewId=o.uniqueId;break}}}catch(e){n=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}})},getFormConfig:function(){var e=this;(0,j.getFormConfig)(this.viewId).then(function(t){var a=t.config,n=void 0===a?[]:a;console.log(n);var i=[],r=[];n.forEach(function(e){e.isMultiple?"r2Fileupload"!==e.xtype&&r.push(JSON.parse((0,c.default)(e))):i=JSON.parse((0,c.default)(e.items))}),i.forEach(function(t){t.hiddenInRun||("province"!==t.fieldCode&&"city"!==t.fieldCode&&"county"!==t.fieldCode&&"dealerLabelName"!==t.fieldCode&&("r2Combo"!==t.xtype&&"r2MultiSelector"!==t.xtype||!t.dataSource||"remoteData"!==t.dataSource.type||(0,j.requestData)(e.handlerParams(t)).then(function(a){a.tableContent?(a.tableContent.forEach(function(e){e.value=e.name}),e.$set(t,"remoteData",a.tableContent)):(a.forEach(function(e){e.value=e.name}),e.$set(t,"remoteData",a))})),"dealerCode"!==t.fieldCode&&"dealerName"!==t.fieldCode&&"dealerPic"!==t.fieldCode&&"city"!==t.fieldCode&&"county"!==t.fieldCode&&e.dealerConfig.push(t))}),r.forEach(function(t){switch(t.name){case"deliveryAddresses":t.title="地址";break;case"dealerCertificateRel":t.title="证件"}var a=[];t.items.forEach(function(t,n){t.hidden||("r2Combo"===t.editorType&&t.dataSource&&"remoteData"===t.dataSource.type&&(t.requestParams=e.handlerParams(t),(0,j.requestData)(e.handlerParams(t)).then(function(a){a.tableContent?(a.tableContent.forEach(function(e){e.value=e.name}),e.$set(t,"remoteData",a.tableContent)):(a.forEach(function(e){e.value=e.name}),e.$set(t,"remoteData",a))})),a.push(t))}),t.items=a,e.$set(e.dealerDuplicateData,t.name,[])}),e.dealerDuplicateConfig=r,e.$loading.hide()})}},created:function(){var e=this;this.$loading.show();var t=this.$route.query;if(t.transCode)return this.transCode=t.transCode,void(0,o.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getFormViews();case 2:return t.next=4,e.getFormConfig();case 4:return t.next=6,e.findData();case 6:e.getDealer();case 7:case"end":return t.stop()}},t,e)}))();(0,o.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getFormViews();case 2:return t.next=4,e.getFormConfig();case 4:e.getDealer().then(function(t){var a=(0,v.default)(t,1);a[0];e.$route.query.pickVal?(e.dealer.dealerLabelName=e.$route.query.pickVal,e.pickerStatus=!1):e.dealer.dealerLabelName=e.$route.query.dealerType?e.$route.query.dealerType:""});case 5:case"end":return t.stop()}},t,e)}))(),(0,j.getBaseInfoDataBase)().then(function(t){e.baseinfo=(0,C.default)({},e.baseinfo,t,{activeTime:e.changeDate(new Date,!0)})})},mounted:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},beforeRouteEnter:function(e,t,a){e.meta.title="新增往来",e.query.transCode&&(e.meta.title="编辑往来"),a()},beforeRouteLeave:function(e,t,a){var n=e.path;this.submitSuccess&&"/adress"===n&&(e.meta.reload=!0),a()}}},WBBK:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("just-word-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}},scopedSlots:e._u([{key:"list-item",fn:function(t){var n=t.item;return[a("div",{staticClass:"status_part"},[a("span",{staticClass:"iconfont icon-503020"}),e._v(" "),a("span",{staticClass:"status_name"},[e._v(e._s(n.projectType_project))])]),e._v(" "),a("div",{staticClass:"content_part"},[e._v(e._s(n.projectName_project))]),e._v(" "),e._l(n.detailItem,function(t,n){return a("div",[a("div",{staticClass:"content_part"},[e._v(e._s(t.costName_expCode))]),e._v(" "),a("div",{staticClass:"other_info_part"},[a("p",{staticClass:"info_with_comment"},[e._v("费用类型: "+e._s(t.costType_expCode||"暂无"))])])])})]}}])})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},WBHR:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[e.matterList.length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.matterList,function(t,n){return a("div",{key:n,staticClass:"each_mater",class:{mater_delete:e.matterModifyClass,"vux-1px-b":n<e.matterList.length-1}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass,config:e.matterEditConfig.property},on:{"on-modify":function(a){e.modifyMatter(t,n)}},nativeOn:{click:function(a){e.delClick(n,t)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[n.price&&n.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price)+"\n                      ")]),e._v(" "),a("div",[a("r-number",{attrs:{num:n.tdQty,checkAmt:e.checkAmt,max:n.qtyBal},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",t)},expression:"item.tdQty"}})],1)]):e._e()]}},{key:"editPart",fn:function(t){var i=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:i.price&&i.tdQty&&!e.matterModifyClass,expression:"(item.price && item.tdQty) &&!matterModifyClass"}],staticClass:"edit-part vux-1px-l",on:{click:function(t){e.modifyMatter(i,n)}}},[a("span",{staticClass:"iconfont icon-bianji1"})])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(n,t)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)}),0)]:[a("div",{on:{click:function(t){e.showFacilityPop=!e.showFacilityPop}}},[a("div",{staticClass:"title"},[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择"+e._s(e.orderListTitle))]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多物料")])]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showFacilityPop,config:e.matterPopConfig,"matter-params":e.matterParams,"default-value":e.matterList,"filter-list":e.filterList},on:{"sel-matter":e.selMatter},model:{value:e.showFacilityPop,callback:function(t){e.showFacilityPop=t},expression:"showFacilityPop"}})],2),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.facility,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,config:e.matterEditConfig},on:{"sel-confirm":e.selConfirm},model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num"},[a("span",{staticStyle:{fontSize:".14rem"}},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.tdAmount))+"\n    ")]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},WEbs:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper xmrw-detail-container"},[a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.orderInfo,"order-info":e.orderInfo}}),e._v(" "),a("div",{staticClass:"project_info"},[e._m(0),e._v(" "),a("div",{staticClass:"project_content"},[a("form-cell",{attrs:{cellTitle:"名称",cellContent:e.projectApproval.projectName,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"经理",cellContent:e.projectApproval.projectManager}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"大类",cellContent:e.projectApproval.projectType}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"子类",cellContent:e.projectApproval.projectSubclass}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"说明",cellContent:e.projectApproval.comment||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"预期开始日期",cellContent:e._f("timeSplit")(e.projectApproval.expectStartDate)}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"预期截止日期",cellContent:e._f("timeSplit")(e.projectApproval.expectEndDate)}})],1)]),e._v(" "),a("div",{staticClass:"form_part"},[e._m(1),e._v(" "),e._l(e.projectPlan,function(t,n){return a("div",{key:n,staticClass:"form_content",class:{show_border:n!==e.projectPlan.length-1}},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"任务名称",cellContent:t.taskName,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"任务类型",cellContent:t.taskType}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"周期天数",cellContent:t.cycleDays}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"标准工时",cellContent:t.planTime}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"作业费率",cellContent:t.jobRate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"预算作业成本",cellContent:t.budgetHomeworkCost}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"计划截止日期",cellContent:e._f("timeSplit")(t.deadline)}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"任务说明",cellContent:t.comment}})],1)])})],2),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.comment.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}})],1)])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"info_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-xiangmu"}),e._v("项目信息")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-renwu"}),a("span",{staticClass:"title"},[e._v("任务列表")])])}],r={render:n,staticRenderFns:i};t.a=r},WGJW:function(e,t,a){"use strict";function n(e){a("2ofu")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("OB+s");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("mSSm"),o=a.n(s),l=a("nRtZ"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-d49c453a",null);t.default=c.exports},"WHn+":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("kNGm"),r=(n(i),a("0AQX")),s=a("+VRO"),o=n(s),l=a("AupE"),d=n(l),u=a("BUFe"),c=n(u),f=a("bFc7"),m=n(f),h=a("3NX5"),v=n(h);t.default={data:function(){return{orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},uploadStyle:{width:"100%",padding:"0.06rem 0.1rem"}}},mixins:[o.default],components:{workFlow:d.default,RAction:c.default,contactPart:m.default,MatterList:v.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,r.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=o,e.orderInfo=r,e.contactInfo={dealerName:r.dealerName_productDealerCode,dealerMobilePhone:r.dealerDebitContactInformation,dealerContactPersonName:r.dealerDebitContactPersonName},e.workFlowInfoHandler()})},goEdit:function(){var e=this.$route.params,t=e.folder,a=e.fileName,n=this.$route.query.name;this.$router.push({path:"/fillform/"+t+"/"+a,query:{name:n,transCode:this.transCode}})}}}},WIJ9:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages xmjh-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,"default-contact":e.contactInfo,"dealer-params":e.dealerParams},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("div",{staticClass:"materiel_list"},[Object.keys(e.orderList).length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n,i){return a("div",{key:n,staticClass:"each_mater",class:{"vux-1px-b":i<Object.keys(e.orderList).length-1}},[t.length?a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v(e._s(e.orderListTitle))]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]):e._e(),e._v(" "),e._l(t,function(t,i){return a("div",{key:i,class:{mater_delete:e.matterModifyClass}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass,config:e.matterEditConfig.property},on:{"on-modify":function(a){e.modifyMatter(t,i,n)}},nativeOn:{click:function(a){e.delClick(i,t,n)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[n.price&&n.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price)+"\n                      ")]),e._v(" "),a("div",[a("r-number",{attrs:{num:n.tdQty,max:n.qtyBal,checkAmt:e.checkAmt},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",t)},expression:"item.tdQty"}})],1)]):e._e()]}},{key:"editPart",fn:function(t){var r=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r.price&&r.tdQty&&!e.matterModifyClass,expression:"(item.price && item.tdQty) &&!matterModifyClass"}],staticClass:"edit-part vux-1px-l",on:{click:function(t){e.modifyMatter(r,i,n)}}},[a("span",{staticClass:"iconfont icon-bianji1"})])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(i,t,n)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)})],2)}),0)]:[a("div",{staticClass:"no-matter",on:{click:e.getMatter}},[a("div",{staticClass:"title"},[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择"+e._s(e.orderListTitle))]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),e.matterList.length?a("span",{staticClass:"add_more",on:{click:e.addMatter}},[e._v("新增更多物料")]):e._e()]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showMaterielPop,config:e.matterPopConfig,"matter-params":e.matterParams,orderTitle:e.matterPopOrderTitle,"filter-list":e.filterList,"default-value":e.matterList},on:{"sel-matter":e.selMatter},model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}})],2),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,"show-date-time":!0,config:e.matterEditConfig},on:{"sel-confirm":e.selConfirm},model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num",class:{nine_up:e.tdAmount.length>8,ten_up:e.tdAmount.length>9,ele_up:e.tdAmount.length>10}},[a("span",{staticClass:"total_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.tdAmount,3))+"\n      ")]),e._v(" "),a("span",{staticClass:"taxAmount"},[e._v("[含税: ￥"+e._s(e._f("numberComma")(e.taxAmount,3))+"]")])]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},WJwd:function(e,t,a){"use strict";function n(e){a("RHLq")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("RPzs");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Xc3I"),o=a.n(s),l=a("fK8l"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-83d5bf40",null);t.default=c.exports},WMFo:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("a3Yh"),o=n(s),l=a("4YfN"),d=n(l),u=a("IHPB"),c=n(u),f=a("3cXf"),m=n(f),h=a("HXPS"),v=n(h),p=a("BGNQ"),C=n(p),y=a("z5TY"),_=n(y),g=a("SAzG"),b=n(g),w=a("PzEQ"),I=n(w),x=a("0AQX"),D=a("HyXB"),P=a("bKg5"),S=n(P),k=a("VZtf"),L=n(k),N=a("9cRV"),M=n(N),T=a("89pA"),A=n(T),O=a("luHD"),R=n(O),j=a("vl8n"),B=n(j),E=a("+WR7"),F=n(E);t.default={mixins:[S.default],components:{Icon:v.default,Cell:C.default,Group:_.default,XInput:b.default,XTextarea:I.default,RNumber:L.default,PopMatterList:M.default,PopWarehouseList:A.default,PopMatter:R.default,RPicker:B.default,PopBaseinfo:F.default},data:function(){return{listId:"4d9a7f8f-9a88-47b6-a1f4-3faed6423615",matterList:[],showMaterielPop:!1,transCode:"",formData:{biComment:""},numMap:{},warehouse:{},warehouseIn:{warehouseName:"待检仓",warehouseCode:"QC0001",warehouseType:"一般部门仓"},matterParams:{calcRelCode:"1406",whCode:""},matter:{},showMatterPop:!1,modifyIndex:null,warehouseOutParams:{warehouseType:"加工车间仓"},checkFieldList:[{key:"tdQty",message:"请填写入库数量"}]}},methods:{delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},selWarehouseOut:function(e){this.warehouse=JSON.parse(e),null!=this.matterParams.data.whCode&&(this.matterParams.data.whCode=this.warehouse.warehouseCode,this.matterList=[])},selWarehouseIn:function(e){this.warehouseIn=JSON.parse(e)},modifyMatter:function(e,t){this.matter=JSON.parse((0,m.default)(e)),this.showMatterPop=!0,this.modifyIndex=t},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.matterList,this.modifyIndex,t)},selMatter:function(e){var t=JSON.parse(e);t.forEach(function(e){e.tdQty=e.tdQty||""}),this.numMap={},this.matterList=[].concat((0,c.default)(t))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},save:function(){var e=this,t="",a=[];if([{key:"warehouse",message:"出库仓库"}].every(function(a){return!!e[a.key]||(t="请选择"+a.message,!1)}),t||this.matterList.length||(t="请选择物料"),this.matterList.every(function(n){if(!n.tdQty)return t="请填写入库数量",!1;var i={transObjCode:n.inventoryCode,tdProcessing:n.processing,assMeasureUnit:n.assMeasureUnit||null,thenQtyStock:n.qtyBal,assMeasureScale:n.assMeasureScale||null,assistQty:n.assistQty||0,tdQty:n.tdQty,comment:n.comment||""};return e.transCode&&(i.tdId=n.tdId||""),a.push(i),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=D.saveAndStartWf,n=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,containerOutWarehouseManager:e.warehouse.containerOutWarehouseManager||null,containerInWarehouseManager:e.warehouseIn.containerInWarehouseManager||null,inPut:{containerCodeOut:e.warehouse.warehouseCode,containerCode:e.warehouseIn.warehouseCode,dataSet:a}}),i={listId:e.listId,biComment:"",formData:(0,m.default)(n),wfPara:(0,m.default)((0,o.default)({},e.processCode,{businessKey:e.businessKey,createdBy:n.creator}))};e.transCode&&(t=D.saveAndCommitTask,i.biReferenceId=e.biReferenceId,i.wfPara=(0,m.default)({businessKey:e.transCode,createdBy:n.creator,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=D.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,x.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=t.attachment;var o=[],l=s.inPut,u=l.dataSet,c=void 0===u?[]:u,f=!0,m=!1,h=void 0;try{for(var v,p=(0,r.default)(c);!(f=(v=p.next()).done);f=!0){var C=v.value;C=(0,d.default)({},C,{qtyBal:C.thenQtyStock,inventoryPic:C.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+C.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:C.inventoryName_transObjCode,inventoryCode:C.inventoryCode_transObjCode,specification:C.specification_transObjCode,measureUnit:C.measureUnit_transObjCode,processing:C.tdProcessing}),o.push(C)}}catch(e){m=!0,h=e}finally{try{!f&&p.return&&p.return()}finally{if(m)throw h}}e.warehouseIn={warehouseCode:l.containerCode,warehouseName:l.warehouseName_containerCode,warehouseType:l.warehouseType_containerCode,warehouseProvince:l.warehouseProvince_containerCode,warehouseCity:l.warehouseCity_containerCode,warehouseDistrict:l.warehouseDistrict_containerCode,warehouseAddress:l.warehouseAddress_containerCode},e.warehouse={warehouseCode:l.containerCodeOut,warehouseName:l.warehouseName_containerCodeOut,warehouseType:l.warehouseType_containerCodeOut,warehouseProvince:l.warehouseProvince_containerCodeOut,warehouseCity:l.warehouseCity_containerCodeOut,warehouseDistrict:l.warehouseDistrict_containerCodeOut,warehouseAddress:l.warehouseAddress_containerCodeOut},e.matterParams=(0,d.default)({},e.matterParams,{whCode:e.warehouse.warehouseCode}),e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,d.default)({},e.handlerDefault,{biComment:s.biComment,biId:s.biId,biProcessStatus:s.biProcessStatus,creator:s.creator,modifer:s.modifer}),e.biReferenceId=s.biReferenceId,e.matterList=o,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,o.default)({},"WGYRK_DATA",{matter:this.matterList,warehouse:this.warehouse,warehouseIn:this.warehouseIn,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("WGYRK_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.warehouse=t.warehouse,this.warehouseIn=t.warehouseIn,this.formData=t.formData,this.matterParams=(0,d.default)({},this.matterParams,{whCode:this.warehouse.warehouseCode}),sessionStorage.removeItem("WGYRK_DATA")}}}},WNoS:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("3cXf"),o=n(s),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("7g+Q"),C=n(p),y=a("PzEQ"),_=n(y),g=a("jnZd"),b=n(g),w=a("0AQX"),I=a("HyXB"),x=(a("jLp1"),a("bKg5")),D=n(x),P=a("aumL"),S=n(P),k=a("vl8n"),L=n(k),N=a("+WR7"),M=n(N),T=a("y8YJ"),A=n(T),O=a("zWMP");a("Qg39");t.default={mixins:[D.default],components:{Cell:c.default,Group:m.default,Popup:C.default,XInput:v.default,XTextarea:_.default,PopFundList:S.default,PopupPicker:b.default,RPicker:L.default,PopBaseinfo:M.default,PopDealerList:A.default},data:function(){return{listId:"1972f3a4-b29a-4a0e-90a8-85090c0e2d28",biComment:"",biReferenceId:"",showCostPop:!1,CostList:[{cashName:"",cashOutCode:"",cashType_cashOutCode:"",tdAmount:""}],selectedCost:[],costIndex:0,transCode:"",dealerInfo:{},contact:{},formData:{biComment:"",biProcessStatus:""}}},computed:{totalAmount:function(){var e=0;return this.CostList.forEach(function(t){t.tdAmount&&(e=(0,O.accAdd)(e,t.tdAmount))}),e}},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0]},selContact:function(e){this.contact=(0,d.default)({},e)},getCost:function(e,t){this.showCostPop=!0,this.costIndex=e,this.selectedCost=[t]},addCost:function(){this.expSubjectList=[],this.CostList.push({cashName:"",cashOutCode:"",cashType_cashOutCode:"",tdAmount:""})},deleteCost:function(){this.CostList.pop()},selMatter:function(e){var t=e;this.CostList[this.costIndex].cashName=t.fundName,this.CostList[this.costIndex].cashOutCode=t.fundCode,this.CostList[this.costIndex].cashType_cashOutCode=t.fundType},submitOrder:function(){var e=this,t="",a=[];if(this.CostList.every(function(e){return e.cashName?e.tdAmount?(a.push({tdId:e.tdId||"",cashOutCode:e.cashOutCode,cashType_cashOutCode:e.cashType_cashOutCode,tdAmount:e.tdAmount}),!0):(t="请填写支付金额",!1):(t="请选择资金账户",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=I.saveAndStartWf,n=(0,r.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,o.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:"",formData:(0,o.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,dataSet:a},dealerDebitContactPersonName:e.contact.dealerName||null,dealerDebitContactInformation:e.contact.dealerMobilePhone||null})),wfPara:(0,o.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=I.saveAndCommitTask),e.processCode.length||(t=I.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,w.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.attachment=t.attachment,e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.CostList=[];var a=t.formData;e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),a.order.dataSet.forEach(function(t){var a={cashName:t.fundName_cashOutCode,cashOutCode:t.cashOutCode,cashType_cashOutCode:t.cashType_cashOutCode,tdAmount:t.tdAmount,tdId:t.tdId};e.CostList.push(a)}),e.dealerInfo={creatorName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation,dealerCode:a.order.dealerDebit,dealerLabelName:a.order.drDealerLabel,dealerName:a.order.dealerName_dealerDebit,province:a.order.province_dealerDebit,city:a.order.city_dealerDebit,county:a.order.county_dealerDebit,address:a.order.address_dealerDebit},e.contact={dealerName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation},e.$loading.hide()})},hasDraftData:function(){var e=!1;return this.CostList.forEach(function(t){if(t.cashName)return e=!0,!1}),!!e&&(0,r.default)({},"FYBX_DATA",{cost:this.CostList,formData:this.formData,dealerInfo:this.dealerInfo,contact:this.contact})}},created:function(){var e=sessionStorage.getItem("FYBX_DATA");if(e){var t=JSON.parse(e);this.CostList=t.cost,this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.contact=t.contact,sessionStorage.removeItem("FYBX_DATA")}}}},WOWH:function(e,t){},WPl8:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"or_ads mg_auto",on:{click:e.warehouseClick}},[e.selItems.dealerName?a("div",[a("div",{staticClass:"title"},[e._v(e._s(e.title))]),e._v(" "),a("div",{staticClass:"user_info"},[a("span",{staticClass:"user_name"},[e._v(e._s(e.selItems.dealerName))]),e._v(" "),a("span",{staticClass:"user_tel"},[e._v(e._s(e.selItems.dealerMobilePhone))])])]):a("div",[a("div",{staticClass:"title"},[e._v(e._s(e.title)+"信息")]),e._v(" "),a("div",{staticClass:"mode required"},[e._v("请选择"+e._s(e.title))])]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r_arrow"}),e._v(" "),e.disabled?e._e():a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("d-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"pop-list-container",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"pop-mater-list-item box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"pop-list-main "},[a("div",{staticClass:"pop-list-info"},[a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline name",staticStyle:{display:"inline-block"}},[a("span",[e._v(e._s(t.dealerName))])]),e._v(" "),a("div",{staticClass:"ForInline name",staticStyle:{display:"inline-block"}},[a("span")])]),e._v(" "),t.dealerMobilePhone?a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline ",staticStyle:{display:"inline-block"}},[a("span",{staticClass:"creator"},[e._v(e._s(t.dealerMobilePhone))])])]):e._e(),e._v(" "),a("div",{staticClass:"withoutColor"},[a("span",[e._v(e._s(t.province)+e._s(t.city)+e._s(t.county)+e._s(t.address))])])])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1)])],1)])},i=[],r={render:n,staticRenderFns:i};t.a=r},WRWB:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("HzJ8"),o=n(s),l=a("fQlz"),d=n(l),u=a("kNGm"),c=n(u),f=a("9wX+"),m=n(f);t.default={name:"CommentItem",props:{item:{type:Object,default:function(){return{}}},noBorder:{type:Boolean,default:!1}},watch:{item:{handler:function(){this.checkImgSuffix()},immediate:!0}},components:{RPopover:m.default},data:function(){return{attachmentImgs:[]}},methods:{getDefaultIcon:function(e){var t=a("CYNT");return e&&(e.pic=t),t},getDefaultImg:function(e){e.target.src=a("Fuf7")},getImgUrl:function(e){return""+location.origin+e.attachment},scaleImg:function(e){var t=this.getImgUrl(e);wx.previewImage({current:t,urls:this.attachmentImgs})},checkImgSuffix:function(){var e=["jpg","jpeg","png","gif","bmp","tif","pcx","tga","exif","fpx","svg","psd","cdr","pcd","dxf","ufo","eps","ai","raw","WMF","webp"],t=[];if(this.item.attachment){var a=!0,n=!1,i=void 0;try{for(var r,s=(0,o.default)(this.item.attachment);!(a=(r=s.next()).done);a=!0){var l=r.value,d=l.name.lastIndexOf("."),u=l.name.substr(d+1);e.includes(u)&&(l.isImg=!0,t.push(this.getImgUrl(l)))}}catch(e){n=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}this.attachmentImgs=t}},checkFile:function(e){window.location.href=""+location.origin+e},handleComment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"comment",t=this.item,a=(t.type,t.reply),n=void 0===a?{}:a,i=(t.content,t.noticeSource,[].concat((0,r.default)(d.default))),s="",o=/\[(.+?)\]/g;return s="reply"===e?n.comment:this.item.comment,s=s.replace(/src="resources/g,'src="/dist/resources'),s=s.replace(o,function(e){var t=i.findIndex(function(t){return t===e.replace(/(\[|\])/g,"")});return-1===t?e:'<span class="img-emotion" style="background-position: -'+24*t+'px 0;"></span>'})},onPopoverClick:function(){this.$emit("on-popover-click")},hidePopover:function(){(this.$refs.popover||[]).forEach(function(e){e.hidePopover()})}},filters:{filterTime:function(e){if(e){"string"==typeof e&&(e=e.replace(/-/g,"/").replace(/\..*/g,""));var t=Date.now(),a=(0,c.default)(e,"YYYY-MM-DD"),n=+new Date(e),i=t-n;return i<864e5?a="今天":i<1728e5&&(a="昨天"),a+" "+(0,c.default)(e,"HH:mm")}}},created:function(){}}},WUQS:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2542,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}]}},mixins:[i.default],methods:{},created:function(){}}},WVZW:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("ZLEe"),r=n(i),s=a("HzJ8"),o=n(s),l=a("4YfN"),d=n(l),u=a("aA9S"),c=n(u),f=a("3cXf"),m=n(f),h=a("7g+Q"),v=n(h),p=a("+62G"),C=(n(p),a("kNGm")),y=n(C),_=a("1KNX"),g=n(_),b=(a("HyXB"),a("vS5q"));t.default={name:"RSort",components:{Popup:v.default,RScroll:g.default},props:{data:{type:Array,default:function(){return[{name:"综合",key:""},{name:"交易号",key:"transCode"},{name:"修改时间",key:"modTime"}]}},viewId:{type:Number,default:2190}},data:function(){return{sort:"",toDay:"",preDate:"",property:"",SpecTimeKey:"",lastFilter:{},fieldVlaue:{},filtersList:{},timeFilter:{startDate:"",endDate:""},tmpTimeFilter:{startDate:"",endDate:""},scrollOptions:{click:!0},showFilter:!1,specificTimeList:["今日","昨日","本周"]}},methods:{sortClick:function(e,t){this.property===e.key?this.sort="ASC"===this.sort?"DESC":"ASC":this.sort="ASC",this.property=e.key,this.$emit("on-sort",{property:e.key,direction:this.sort})},onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()}),this.lastFilter={timeFilter:JSON.parse((0,m.default)(this.timeFilter)),otherFilter:JSON.parse((0,m.default)(this.fieldVlaue))}},onHide:function(){var e=!1;this.timeFilter.startDate===this.lastFilter.timeFilter.startDate&&this.timeFilter.endDate===this.lastFilter.timeFilter.endDate||(e=!0),(0,m.default)(this.fieldVlaue)!==(0,m.default)(this.lastFilter.otherFilter)&&(e=!0),e&&this.$emit("on-filter",{timeFilter:this.timeFilter,otherFilter:this.fieldVlaue})},filterConfirm:function(){this.showFilter=!1},filterReset:function(){this.fieldVlaue={},this.SpecTimeKey="",this.timeFilter=(0,c.default)({},this.$data.timeFilter,this.$options.data().timeFilter),this.tmpTimeFilter=(0,c.default)({},this.$data.tmpTimeFilter,this.$options.data().tmpTimeFilter)},showSelIcon:function(e,t){if(this.fieldVlaue[t])return-1!==this.fieldVlaue[t].value.findIndex(function(t){return t===e})},selProcee:function(e,t){if(this.fieldVlaue[t]){var a=this.fieldVlaue[t].value,n=a.findIndex(function(t){return t===e});if(-1!==n)return a.splice(n,1),void(a.length||delete this.fieldVlaue[t]);a.push(e)}else{var i={alias:this.filtersList[t].alias,value:[e]};this.$set(this.fieldVlaue,t,(0,d.default)({},i))}},pickSpecTime:function(e){if(this.SpecTimeKey===e)return this.SpecTimeKey="",void(this.timeFilter=(0,c.default)({},this.$data.timeFilter,this.$options.data().timeFilter));if(this.SpecTimeKey=e,this.tmpTimeFilter=(0,c.default)({},this.$data.tmpTimeFilter,this.$options.data().tmpTimeFilter),e<2){var t=["toDay","preDate"];this.pickDate(t[e])}else{var a=new Date,n=a.getDate(),i=a.getMonth(),r=a.getFullYear(),s=a.getDay(),o={startDate:(0,y.default)(new Date(r,i,n-s),"YYYY-MM-DD"),endDate:(0,y.default)(new Date(r,i,n+(6-s)),"YYYY-MM-DD")};this.pickDate("",o)}},pickDate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e?this.timeFilter.startDate=this.timeFilter.endDate=this[e]:this.timeFilter=(0,d.default)({},t)},getStart:function(){var e=this,t=this.timeFilter,a=this.tmpTimeFilter;this.$vux.datetime.show({cancelText:"取消",confirmText:"确定",clearText:"重新选择",value:a.startDate,endDate:this.toDay,onClear:function(e){t.startDate=a.startDate=""},onConfirm:function(n){if(""!==e.SpecTimeKey&&(e.SpecTimeKey=t.endDate=""),t.endDate){var i=new Date(Date.parse(t.endDate.replace(/-/g,"/")));new Date(Date.parse(n.replace(/-/g,"/")))-i>0&&(t.endDate=a.endDate="")}t.startDate=a.startDate=n}})},getEnd:function(){var e=this,t=this.timeFilter,a=this.tmpTimeFilter;this.$vux.datetime.show({cancelText:"取消",confirmText:"确定",clearText:"重新选择",value:a.endDate,startDate:a.startDate?this.toDay:"",onClear:function(e){t.endDate=a.endDate=""},onConfirm:function(n){""!==e.SpecTimeKey&&(e.SpecTimeKey=t.startDate=""),t.endDate=a.endDate=n}})},getFilterFields:function(){var e=this;(0,b.filterFields)(this.viewId).then(function(t){var a=["进行中","已生效","草稿"],n={biStatus:{alias:"表单状态",showAll:!1,showValue:a,value:a}},i=!0,s=!1,l=void 0;try{for(var u,c=(0,o.default)((0,r.default)(t));!(i=(u=c.next()).done);i=!0){var f=u.value,m=t[f];n[f]=(0,d.default)({},m,{showValue:m.value.slice(0,9),showAll:!1})}}catch(e){s=!0,l=e}finally{try{!i&&c.return&&c.return()}finally{if(s)throw l}}e.filtersList=(0,d.default)({},n)})}},created:function(){this.$route.params.listId;this.toDay=(0,y.default)(new Date,"YYYY-MM-DD"),this.preDate=(0,y.default)(new Date((new Date).getTime()-864e5),"YYYY-MM-DD"),this.getFilterFields()}}},WVmE:function(e,t,a){"use strict";function n(e){a("83e5")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("RzhK");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("0T3k"),o=a.n(s),l=a("V2Kj"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-53bab1d4",null);t.default=c.exports},Wdr0:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2244,biStatus:"",filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"客户名称",value:"dealerName_dealerDebit"}]}},mixins:[i.default],methods:{}}},Wdtp:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MgeX"),r=n(i),s=a("4YfN"),o=n(s),l=a("HzJ8"),d=n(l),u=a("KH7x"),c=n(u),f=a("0AQX"),m=a("+VRO"),h=n(m),v=a("BUFe"),p=n(v),C=a("AupE"),y=n(C),_=a("bFc7"),g=n(_),b=a("6WeX"),w=n(b),I=a("3NX5"),x=n(I),D=a("sUbJ"),P=n(D),S=a("d7ck"),k=n(S),L=a("CKaN"),N=n(L),M=a("zWMP"),T=a("Qg39");t.default={data:function(){return{count:0,comment:"",orderInfo:{},formViewUniqueId:"e76a8c6f-05cc-45ee-ba93-299fe6751856",orderList:{},cashInfo:{},costList:[]}},computed:{noTaxAmount:function(){var e=0;return this.orderInfo.inPut.dataSet.forEach(function(t){e=(0,M.accAdd)(e,t.noTaxAmount)}),e},taxAmount:function(){var e=0;return this.orderInfo.inPut.dataSet.forEach(function(t){e=(0,M.accAdd)(e,t.taxAmount)}),e},isCashier:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"e185e706-5b21-4467-bbe9-cff1856873a7"===t},cashParams:function(){return{transCode:this.transCode,fundType:"银行存款"}}},mixins:[h.default],components:{workFlow:y.default,RAction:p.default,PriceTotal:w.default,contactPart:g.default,MatterList:x.default,MatterItem:P.default,FormCell:k.default,PopCashList:N.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,f.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var l={},u=r.inPut,f=void 0===u?{}:u,m=r.outPut,h=void 0===m?{}:m;e.attachment=o;var v=f.dataSet,p=h.dataSet,C=void 0===p?[]:p,y=(0,c.default)(C,1),_=y[0],g=void 0===_?{}:_,b=!0,w=!1,I=void 0;try{for(var x,D=(0,d.default)(v);!(b=(x=D.next()).done);b=!0){var P=x.value;P.noTaxAmount=(0,M.accMul)(P.price,P.tdQty),P.taxAmount=(0,M.accMul)(P.noTaxAmount,P.taxRate),P.tdAmount=(0,T.toFixed)((0,M.accAdd)(P.noTaxAmount,P.taxAmount)),e.count=(0,M.accAdd)(e.count,P.tdAmount),P.inventoryPic=P.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+P.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),l[P.transMatchedCode]||(l[P.transMatchedCode]=[]),l[P.transMatchedCode].push(P)}}catch(e){w=!0,I=e}finally{try{!b&&D.return&&D.return()}finally{if(w)throw I}}e.orderList=l,e.dealerInfo={creatorName:r.dealerCreditContactPersonName,dealerName:f.dealerName_dealerCodeCredit,dealerMobilePhone:r.dealerCreditContactInformation,dealerContactPersonName:r.dealerCreditContactPersonName,dealerCode:f.dealerCode_dealerCodeCredit,dealerLabelName:f.crDealerLabel,province:f.province_dealerCodeCredit,city:f.city_dealerCodeCredit,county:f.county_dealerCodeCredit,address:f.address_dealerCodeCredit,payment:f.crDealerPaymentTerm,pamentDays:f.daysOfAccount,accountExpirationDate:f.accountExpirationDate},e.cashInfo=g,e.orderInfo=r,e.workFlowInfoHandler()})},agreeHandler:function(){if(this.isCashier){if(this.isCashier&&!this.cashInfo.fundCode)return this.$vux.alert.show({content:"请选择资金账户"}),!0;var e=this.orderInfo,t=[],a=!0,n=!1,i=void 0;try{for(var s,l=(0,d.default)((0,r.default)(this.orderList));!(a=(s=l.next()).done);a=!0){var u=s.value,c=!0,f=!1,m=void 0;try{for(var h,v=(0,d.default)(u);!(c=(h=v.next()).done);c=!0){var p=h.value;t.push({tdId:p.tdId,transMatchedCode:p.transMatchedCode,transObjCode:p.transObjCode,tdProcessing:p.tdProcessing,assMeasureUnit:p.assMeasureUnit,expSubject:p.expSubject,thenTotalQtyBal:p.thenTotalQtyBal,thenLockQty:p.thenLockQty,thenQtyBal:p.thenQtyBal,tdQty:p.tdQty,assMeasureScale:p.assMeasureScale,assistQty:p.assistQty,price:p.price,taxRate:p.taxRate,taxAmount:p.taxAmount,tdAmount:p.tdAmount,processingStartDate:p.processingStartDate,keepingDays_transObjCode:p.keepingDays_transObjCode,productionDate:p.productionDate,validUntil:p.validUntil,comment:p.comment})}}catch(e){f=!0,m=e}finally{try{!c&&v.return&&v.return()}finally{if(f)throw m}}}}catch(e){n=!0,i=e}finally{try{!a&&l.return&&l.return()}finally{if(n)throw i}}var C=(0,o.default)({},e,{inPut:{dealerCodeCredit:this.orderInfo.inPut.dealerCodeCredit,crDealerLabel:this.orderInfo.inPut.crDealerLabel,crDealerPaymentTerm:this.orderInfo.inPut.crDealerPaymentTerm,daysOfAccount:this.orderInfo.inPut.daysOfAccount,accountExpirationDate:this.orderInfo.inPut.accountExpirationDate,containerCode:this.orderInfo.inPut.containerCode,dataSet:t}});if(this.isCashier){var y=this.cashInfo;C.outPut.dataSet=[{fundName_cashInCode:y.fundName,cashOutCode:y.fundCode,cashType_cashOutCode:y.fundType,thenAmntBalCopy1:y.thenAmntBal,tdAmountCopy1:y.tdAmountCopy1,tdIdCopy1:y.tdIdCopy1}]}return console.log(C),this.saveData(C),!0}return!1},selCash:function(e){this.cashInfo=(0,o.default)({},this.cashInfo,e)}}}},Wg9S:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("HyXB"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2530,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}]}},mixins:[i.default],methods:{},created:function(){}}},Wkhp:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=(n(s),a("0AQX")),l=a("+VRO"),d=n(l),u=a("BUFe"),c=n(u),f=a("AupE"),m=n(f),h=a("zWMP");t.default={data:function(){return{count:0,cashInfo:{}}},mixins:[d.default],components:{workFlow:m.default,RAction:c.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,o.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=t.formData,i=n.order,s=void 0===i?{}:i,o=n.inPut,l=void 0===o?{}:o;e.attachment=a,e.cashInfo=l.dataSet[0];var d=s.dataSet,u=!0,c=!1,f=void 0;try{for(var m,v=(0,r.default)(d);!(u=(m=v.next()).done);u=!0){var p=m.value;e.count=(0,h.accAdd)(e.count,p.tdAmount)}}catch(e){c=!0,f=e}finally{try{!u&&v.return&&v.return()}finally{if(c)throw f}}e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},Wkue:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("3cXf"),o=n(s),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("7g+Q"),C=n(p),y=a("PzEQ"),_=n(y),g=a("jnZd"),b=n(g),w=a("u28h"),I=n(w),x=a("kNGm"),D=(n(x),a("0AQX")),P=a("HyXB"),S=(a("jLp1"),a("bKg5")),k=n(S),L=a("55ug"),N=n(L),M=a("vl8n"),T=n(M),A=a("+WR7"),O=n(A),R=a("zWMP"),j=a("Qg39"),B={draftNumber:"",draftType:"",accepter:"",tdAmount:"",deposit:"",draftDate:"",draftDueDate:"",comment:""};t.default={mixins:[k.default],components:{Cell:c.default,Group:m.default,Popup:C.default,XInput:v.default,XTextarea:_.default,PopupPicker:b.default,RPicker:T.default,PopBaseinfo:O.default,PopDealerList:N.default,Datetime:I.default},data:function(){return{listId:"1745ffdd-1b6a-4fe5-9c5b-6e5394bd4faf",biReferenceId:"",selectedCost:[],costIndex:0,transCode:"",formData:{biComment:"",biProcessStatus:""},dealerInfo:{},orderList:[(0,d.default)({},B)],dealerParams:{dealerLabelName:"供应商,经销供应商"},draftTypeList:["银行承兑","商业承兑"]}},computed:{thenTotalAmntBal:function(){var e=0;return this.orderList.forEach(function(t){t.tdAmount&&(e=(0,R.accAdd)(e,t.tdAmount))}),(0,j.toFixed)(e)},tdAmount:function(){var e=0;return this.orderList.forEach(function(t){t.deposit&&(e=(0,R.accAdd)(e,t.deposit))}),(0,j.toFixed)(e)}},methods:{submitOrder:function(){var e=this,t="",a=[],n=[{key:"draftNumber",message:"请输入汇票号"},{key:"draftType",message:"请选择类型"},{key:"accepter",message:"请输入承兑人"},{key:"tdAmount",message:"请输入金额"},{key:"deposit",message:"请输入保证金"},{key:"draftDate",message:"请选择出票日"},{key:"draftDueDate",message:"请选择到期日"}];if(this.dealerInfo.dealerCode||(t="请选择往来"),t||this.orderList.every(function(e){return n.every(function(a){return e[a.key]||0===e[a.key]||(t=a.message),!t}),a.push({tdId:e.tdId||"",draftNumber:e.draftNumber,draftType:e.draftType,accepter:e.accepter,tdAmount:e.tdAmount,deposit:e.deposit,draftDate:e.draftDate,draftDueDate:e.draftDueDate,comment:e.comment}),!t}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=P.saveAndStartWf,n=(0,r.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,o.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.formData.biComment,formData:(0,o.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.formData.handler,modifer:e.formData.handler,order:{dealerName_dealerDebit:e.dealerInfo.dealerName,dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,thenAmntBalCopy2:e.dealerInfo.amntBal,thenAlreadyAmnt:e.thenTotalAmntBal,dataSet:a},outPut:{dataSet:[{fundName_cashOutCode:null,cashOutCode:"",cashType_cashOutCode:"",thenAmntBalCopy1:0,tdAmountCopy1:e.tdAmount}]},inPut:{dataSet:[{fundName_cashInCode:null,cashInCode:"",cashType_cashInCode:"",thenAmntBal:0,tdAmount:e.tdAmount,tdId:""}]}})),wfPara:(0,o.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=P.saveAndCommitTask),e.processCode.length||(t=P.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,D.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.attachment,n=void 0===a?[]:a,i=t.listId,r=void 0===i?"":i,s=(t.biComment,t.biReferenceId),o=void 0===s?"":s,l=t.formData,u=void 0===l?{}:l;e.attachment=n,e.listId=r,e.biReferenceId=o,e.handlerDefault={handler:u.handler,handlerName:u.handlerName,handlerUnit:u.handlerUnit,handlerUnitName:u.handlerUnitName,handlerRole:u.handlerRole,handlerRoleName:u.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:u.biComment,biId:u.biId,biProcessStatus:u.biProcessStatus,creator:u.creator,modifer:u.modifer});var c=u.order,f=void 0===c?{}:c,m=f.dataSet,h=void 0===m?[]:m;e.dealerInfo={dealerName:f.dealerName_dealerDebit,dealerCode:f.dealerDebit,dealerLabelName:f.drDealerLabel,amntBal:f.thenAmntBalCopy2,thenTotalAmntBal:f.thenAlreadyAmnt},e.orderList=h,e.$loading.hide()})},hasDraftData:function(){return!!this.dealerInfo.dealerCode&&(0,r.default)({},"SDCDHP_DATA",{formData:this.formData,dealerInfo:this.dealerInfo,orderList:this.orderList})},getRelationData:function(){},selDealer:function(e){this.dealerInfo=(0,d.default)({},e)},addOrder:function(){this.orderList.push((0,d.default)({},B))},deleteOrder:function(){this.orderList.pop()},checkAmt:function(e,t){switch(e){case"tdAmountCopy1":this.dealerInfo.tdAmountCopy1=(0,j.toFixed)(this.dealerInfo.tdAmountCopy1);break;default:e[t]=(0,j.toFixed)(e[t])}}},created:function(){var e=sessionStorage.getItem("SDCDHP_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.orderList=t.orderList,sessionStorage.removeItem("SDCDHP_DATA")}}}},WnoM:function(e,t,a){"use strict";function n(e){a("oFd8")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("P0Xt");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("00yO"),o=a.n(s),l=a("gpAB"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-4c6b4045",null);t.default=c.exports},Wnp4:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("ZLEe"),r=n(i),s=a("DEQU"),o=n(s),l=a("HXPS"),d=n(l),u=a("UwQd"),c=n(u),f=a("xZPP"),m=n(f),h=a("Bv05"),v=n(h),p=a("BzUK"),C=n(p),y=a("cEbJ"),_=n(y),g=a("IFIB"),b=n(g),w={email:{fn:v.default,msg:"邮箱格式"},"china-mobile":{fn:function(e){return(0,C.default)(e,"zh-CN")},msg:"手机号码"},"china-name":{fn:function(e){return e.length>=2&&e.length<=6},msg:"中文姓名"}};t.default={name:"x-input",created:function(){var e=this;this.currentValue=void 0===this.value||null===this.value?"":this.mask?this.maskValue(this.value):this.value,!this.required||void 0!==this.currentValue&&""!==this.currentValue||(this.valid=!1),this.handleChangeEvent=!0,this.debounce&&(this._debounce=(0,_.default)(function(){e.$emit("on-change",e.currentValue)},this.debounce))},beforeMount:function(){this.$slots&&this.$slots["restricted-label"]&&(this.hasRestrictedLabel=!0),this.$slots&&this.$slots["right-full-height"]&&(this.hasRightFullHeightSlot=!0)},beforeDestroy:function(){this._debounce&&this._debounce.cancel(),window.removeEventListener("resize",this.scrollIntoView)},mixins:[o.default],components:{Icon:d.default,InlineDesc:m.default,Toast:c.default},props:{title:{type:String,default:""},type:{type:String,default:"text"},placeholder:String,value:[String,Number],name:String,readonly:Boolean,disabled:Boolean,keyboard:String,inlineDesc:String,isType:[String,Function],min:Number,max:Number,showClear:{type:Boolean,default:!0},equalWith:String,textAlign:String,autocomplete:{type:String,default:"off"},autocapitalize:{type:String,default:"off"},autocorrect:{type:String,default:"off"},spellcheck:{type:String,default:"false"},novalidate:{type:Boolean,default:!1},iconType:String,debounce:Number,placeholderAlign:String,labelWidth:String,mask:String,shouldToastError:{type:Boolean,default:!0}},computed:{labelStyles:function(){return{width:this.labelWidthComputed||this.$parent.labelWidth||this.labelWidthComputed,textAlign:this.$parent.labelAlign,marginRight:this.$parent.labelMarginRight}},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}},pattern:function(){if("number"===this.keyboard||"china-mobile"===this.isType)return"[0-9]*"},labelWidthComputed:function(){var e=this.title.replace(/[^x00-xff]/g,"00").length/2+1;if(e<10)return e+"em"},hasErrors:function(){return(0,r.default)(this.errors).length>0},inputStyle:function(){if(this.textAlign)return{textAlign:this.textAlign}},showWarn:function(){return!this.novalidate&&!this.equalWith&&!this.valid&&this.firstError&&(this.touched||this.forceShowError)}},mounted:function(){window.addEventListener("resize",this.scrollIntoView)},methods:{scrollIntoView:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;setTimeout(function(){"INPUT"!==document.activeElement.tagName&&"TEXTAREA"!==document.activeElement.tagName||setTimeout(function(){document.activeElement.scrollIntoViewIfNeeded()},e)})},onClickErrorIcon:function(){this.shouldToastError&&this.firstError&&(this.showErrorToast=!0),this.$emit("on-click-error-icon",this.firstError)},maskValue:function(e){return this.mask?b.default.toPattern(e,this.mask):e},reset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.dirty=!1,this.currentValue=e,this.firstError="",this.valid=!0},clear:function(){this.currentValue="",this.focus(),this.$emit("on-click-clear-icon")},focus:function(){this.$refs.input.focus()},blur:function(){this.$refs.input.blur()},focusHandler:function(e){this.$emit("on-focus",this.currentValue,e),this.isFocus=!0,this.scrollIntoView(500)},onBlur:function(e){this.setTouched(),this.validate(),this.isFocus=!1,this.$emit("on-blur",this.currentValue,e)},onKeyUp:function(e){"Enter"===e.key&&(e.target.blur(),this.$emit("on-enter",this.currentValue,e))},getError:function(){var e=(0,r.default)(this.errors)[0];this.firstError=this.errors[e]},validate:function(){if(void 0!==this.equalWith)return void this.validateEqual();if(this.errors={},!this.currentValue&&!this.required)return void(this.valid=!0);if(!this.currentValue&&this.required)return this.valid=!1,this.errors.required="必填哦",void this.getError();if("string"==typeof this.isType){var e=w[this.isType];if(e){var t=this.currentValue;if("china-mobile"===this.isType&&"999 9999 9999"===this.mask&&(t=this.currentValue.replace(/\s+/g,"")),this.valid=e.fn(t),!this.valid)return this.forceShowError=!0,this.errors.format=e.msg+"格式不对哦~",void this.getError();delete this.errors.format}}if("function"==typeof this.isType){var a=this.isType(this.currentValue);if(this.valid=a.valid,!this.valid)return this.errors.format=a.msg,this.forceShowError=!0,void this.getError();delete this.errors.format}if(this.min){if(this.currentValue.length<this.min)return this.errors.min="最少应该输入"+this.min+"个字符哦",this.valid=!1,void this.getError();delete this.errors.min}if(this.max){if(this.currentValue.length>this.max)return this.errors.max="最多可以输入"+this.max+"个字符哦",this.valid=!1,void(this.forceShowError=!0);this.forceShowError=!1,delete this.errors.max}this.valid=!0},validateEqual:function(){return!this.equalWith&&this.currentValue?(this.valid=!1,void(this.errors.equal="输入不一致")):(this.dirty||this.currentValue.length>=this.equalWith.length)&&this.currentValue!==this.equalWith?(this.valid=!1,void(this.errors.equal="输入不一致")):void(!this.currentValue&&this.required?this.valid=!1:(this.valid=!0,delete this.errors.equal))}},data:function(){return{hasRightFullHeightSlot:!1,hasRestrictedLabel:!1,firstError:"",forceShowError:!1,hasLengthEqual:!1,valid:!0,currentValue:"",showErrorToast:!1,isFocus:!1}},watch:{mask:function(e){e&&this.currentValue&&(this.currentValue=this.maskValue(this.currentValue))},valid:function(){this.getError()},value:function(e){this.currentValue=e},equalWith:function(e){e&&this.equalWith?(e.length===this.equalWith.length&&(this.hasLengthEqual=!0),this.validateEqual()):this.validate()},currentValue:function(e){!this.equalWith&&e&&this.validateEqual(),e&&this.equalWith?(e.length===this.equalWith.length&&(this.hasLengthEqual=!0),this.validateEqual()):this.validate(),this.$emit("input",this.maskValue(e)),this._debounce?this._debounce():this.$emit("on-change",e)}}}},Wqlm:function(e,t){},WsHV:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MgeX"),r=n(i),s=a("HzJ8"),o=n(s),l=a("4YfN"),d=n(l),u=a("a3Yh"),c=n(u),f=a("ZLEe"),m=n(f),h=a("3cXf"),v=n(h),p=a("KH7x"),C=n(p),y=a("PzEQ"),_=n(y),g=a("SAzG"),b=n(g),w=a("BGNQ"),I=n(w),x=a("z5TY"),D=n(x),P=a("0AQX"),S=a("HyXB"),k=a("bKg5"),L=n(k),N=a("ZQWM"),M=n(N),T=a("9cRV"),A=n(T),O=a("89pA"),R=n(O),j=a("yt3/"),B=n(j),E=a("luHD"),F=n(E),U=a("hLfv"),$=n(U),Q=a("VZtf"),H=n(Q),V=a("vl8n"),q=n(V),Y=a("+WR7"),X=n(Y),G=a("zWMP"),W=a("Qg39");t.default={data:function(){return{orderList:{},matterList:[],showDealerPop:!1,dealerInfo:{},formData:{biId:"",biComment:""},submitSuccess:!1,showWarehousePop:!1,warehouse:{},transCode:"",biReferenceId:"",actions:[],taskId:"",showMaterielPop:!1,showMatterPop:!1,modifyIndex:null,modifyKey:null,selItems:[],contactInfo:{},filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"订单号",value:"transCode"}],checkFieldList:[{key:"tdQty",message:"请填写退货数量"},{key:"price",message:"请填写退货单价"},{key:"taxRate",message:"请填写税率"}]}},components:{XTextarea:_.default,XInput:b.default,RNumber:H.default,Cell:I.default,Group:D.default,PopDealerList:M.default,PopWarehouseList:R.default,PopMatterList:A.default,PopSingleSelect:B.default,PopMatter:F.default,RPicker:q.default,PopBaseinfo:X.default,DealerOtherPart:$.default},mixins:[L.default],methods:{selDealer:function(e){var t=JSON.parse(e),a=(0,C.default)(t,1),n=a[0];this.dealerInfo=n,this.dealerInfo.drDealerPaymentTerm=this.dealerInfo.paymentTerm,null!=this.matterParams.data.dealerCode&&(this.matterParams.data.dealerCode=this.dealerInfo.dealerCode,this.matterList=[],this.orderList={})},selContact:function(e){this.dealerInfo.dealerDebitContactPersonName=e.dealerName,this.dealerInfo.dealerMobilePhone=e.dealerMobilePhone},selWarehouse:function(e){this.warehouse=JSON.parse(e),null!=this.matterParams.data.whCode&&(this.matterParams.data.whCode=this.warehouse.warehouseCode,this.matterList=[],this.orderList={})},selMatter:function(e){var t=JSON.parse(e),a={};t.forEach(function(e){e.tdQty=e.tdQty||e.currQty,e.price=e.price,e.taxRate=e.taxRate||.16,e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null,a[e.transCode]||(a[e.transCode]=[]),a[e.transCode].push(e)}),this.matterList=t,this.orderList=a},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,v.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.inventoryCode!==e.inventoryCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode&&e.transCode===t.transCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,v.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,m.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});i>=0&&n.splice(i,1),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){this.showMaterielPop=!this.showMaterielPop},checkAmt:function(e){var t=e.price,a=e.tdQty,n=e.qtyBal,i=e.taxRate;t&&(e.price=Math.abs((0,W.toFixed)(t))),a&&(e.tdQty=Math.abs((0,W.toFixed)(a)),n&&a>n&&(e.tdQty=n)),i&&(e.taxRate=Math.abs((0,W.toFixed)(i)))},submitOrder:function(){var e=this,t="",a=[];[{key:"dealerInfo",message:"供应商信息"},{key:"warehouse",message:"仓库"}].every(function(a){return!!e[a.key]||(t="请选择"+a.message,!1)}),t||this.dealerInfo.drDealerPaymentTerm||(t="请选择结算方式"),t||(0,m.default)(this.orderList).length||(t="请选择物料");var n=!0,i=!1,s=void 0;try{for(var l,u=(0,o.default)((0,r.default)(this.orderList));!(n=(l=u.next()).done);n=!0){var f=l.value,h=!0,p=!1,C=void 0;try{for(var y,_=(0,o.default)(f);!(h=(y=_.next()).done);h=!0){var g=y.value;if(!g.tdQty){t="请填写数量";break}if(!g.price){t="请填写单价";break}var b=g.taxRate||this.taxRate,w=((0,G.accMul)(g.price,g.tdQty,b),{tdId:g.tdId||null,orderCode:g.transCode,outPutMatCode:g.inventoryCode,tdProcessing:g.processing,assMeasureUnit:void 0!==g.assMeasureUnit?g.assMeasureUnit:null,assMeasureScale:void 0!==g.assMeasureScale?g.assMeasureScale:null,assMeasureDescription:g.assMeasureDescription||"",thenQtyBal:g.qtyBal,thenQtyStock:g.qtyStockBal,tdQty:g.tdQty,assistQty:g.assistQty||0,price:g.price,tdAmount:g.tdAmount,taxRate:b,noTaxPrice:g.noTaxPrice,taxAmount:g.taxAmount,comment:g.comment||""});this.transCode&&(w.tdId=g.tdId||""),a.push(w)}}catch(e){p=!0,C=e}finally{try{!h&&_.return&&_.return()}finally{if(p)throw C}}}}catch(e){i=!0,s=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw s}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=S.saveAndStartWf,n={},i=(0,c.default)({},e.processCode,{businessKey:e.businessKey,createdBy:e.formData.handler});n=(0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",dealerDebitContactPersonName:e.dealerInfo.dealerDebitContactPersonName||"",dealerDebitContactInformation:e.dealerInfo.dealerMobilePhone||"",containerOutWarehouseManager:e.warehouse.containerInWarehouseManager||null,outPut:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName||"供应商",containerCodeOut:e.warehouse.warehouseCode,drDealerPaymentTerm:e.dealerInfo.drDealerPaymentTerm,dataSet:a}}),e.transCode&&(t=S.saveAndCommitTask,i={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,v.default)(n),wfPara:(0,v.default)(i)};e.transCode||delete r.biReferenceId,e.processCode.length||(t=S.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,l=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=l;var u={},c=r.outPut,f=(r.dealerDebit,c.dataSet),m=void 0===f?[]:f,h=!0,v=!1,p=void 0;try{for(var C,y=(0,o.default)(m);!(h=(C=y.next()).done);h=!0){var _=C.value;_.inventoryPic=_.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),_.inventoryName=_.inventoryName_outPutMatCode,_.inventoryCode=_.outPutMatCode,_.specification=_.specification_outPutMatCode,_.processing=_.tdProcessing,_.qtyStockBal=_.thenQtyStock,_.qtyBal=_.thenQtyBal,_.transCode=_.orderCode,u[_.orderCode]||(u[_.orderCode]=[]),u[_.orderCode].push(_)}}catch(e){v=!0,p=e}finally{try{!h&&y.return&&y.return()}finally{if(v)throw p}}e.matterList=m,e.dealerInfo={creatorName:r.dealerName_dealerDebit,dealerName:c.dealerName_dealerDebit,dealerMobilePhone:r.dealerDebitContactInformation,dealerDebitContactPersonName:r.dealerDebitContactPersonName,dealerCode:c.dealerDebit,paymentTerm:c.drDealerPaymentTerm,dealerLabelName:c.drDealerLabel,province:c.province_dealerDebit,city:c.city_dealerDebit,county:c.county_dealerDebit,address:c.address_dealerDebit},e.contactInfo={dealerName:r.dealerDebitContactPersonName,dealerMobilePhone:r.dealerDebitContactInformation},e.warehouse={warehouseCode:c.containerCodeOut,warehouseName:c.warehouseName_containerCodeOut,warehouseType:c.warehouseType_containerCodeOut,warehouseProvince:c.warehouseProvince_containerCodeOut,warehouseCity:c.warehouseCity_containerCodeOut,warehouseDistrict:c.warehouseDistrict_containerCodeOut,warehouseAddress:c.warehouseAddress_containerCodeOut,containerInWarehouseManager:c.containerInWarehouseManagerOut},e.matterParams={dealerCode:e.dealerInfo.dealerCode,whCode:e.warehouse.warehouseCode},e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:r.biComment,biId:r.biId,biProcessStatus:r.biProcessStatus,creator:r.creator,modifer:r.modifer}),e.biReferenceId=r.biReferenceId,e.orderList=u,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,c.default)({},"CGTHCK_DATA",{dealer:this.dealerInfo,warehouse:this.warehouse,formData:this.formData,orderList:this.orderList})},getRelationData:function(){var e=this,t=this.$route.query.uniqueId;return(0,P.getSOList)({formViewUniqueId:t,transCode:this.relationKey}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i;t.attachment;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var s=r.inPut,o=s.dataSet,l=void 0===o?[]:o;l=l.map(function(t){return(0,d.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,transCode:e.relationKey,qtyBal:t.tdQty,tdQty:""})}),e.dealerInfo={creatorName:r.dealerCreditContactPersonName,dealerName:outPut.dealerName_dealerCodeCredit,dealerMobilePhone:r.dealerCreditContactInformation,dealerCode:outPut.dealerCode_dealerCodeCredit,dealerLabelName:outPut.crDealerLabel,province:outPut.province_dealerCodeCredit,city:outPut.city_dealerCodeCredit,county:outPut.county_dealerCodeCredit,address:outPut.address_dealerCodeCredit},e.matterParams={dealerCode:e.dealerInfo.dealerCode},e.matterList=l,e.orderList=(0,c.default)({},e.relationKey,l),e.DealerPaymentTerm=r.drDealerPaymentTerm||"现付",e.$loading.hide()})}},created:function(){var e=sessionStorage.getItem("CGTHCK_DATA");if(e){this.orderList=JSON.parse(e).orderList;var t=!0,a=!1,n=void 0;try{for(var i,s=(0,o.default)((0,r.default)(this.orderList));!(t=(i=s.next()).done);t=!0){var l=i.value,d=!0,u=!1,c=void 0;try{for(var f,m=(0,o.default)(l);!(d=(f=m.next()).done);d=!0){var h=f.value;this.matterList.push(h)}}catch(e){u=!0,c=e}finally{try{!d&&m.return&&m.return()}finally{if(u)throw c}}}}catch(e){a=!0,n=e}finally{try{!t&&s.return&&s.return()}finally{if(a)throw n}}this.dealerInfo=JSON.parse(e).dealer,this.warehouse=JSON.parse(e).warehouse,this.formData=JSON.parse(e).formData,sessionStorage.removeItem("CGTHCK_DATA")}}}},Wtqk:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2362,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"成品名称",value:"inventoryName_transObjCode"}]}},mixins:[i.default]}},WzL9:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2570}},mixins:[i.default],methods:{},created:function(){}}},"X+5y":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("m-search",{attrs:{filterList:e.filterList,isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.matterList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.matterList,function(t,n){return a("div",{key:n,staticClass:"each_mater box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"pop-info top"},[a("span",{staticClass:"info-item"},[e._v(e._s(t.transCode))])]),e._v(" "),a("div",{staticClass:"pop-info"},[a("span",{staticClass:"info-item"},[e._v("采购定金: "+e._s(t.amount))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("总金额: "+e._s(t.thenAmntBal))])]),e._v(" "),a("div",{staticClass:"pop-info"},[a("span",{staticClass:"info-item"},[e._v("已付定金: "+e._s(t.amnted))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("待付定金: "+e._s(t.deposit))])]),e._v(" "),a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-circle-outline selIcon",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1),e._v(" "),a("div",{staticClass:"count_mode vux-1px-t"},[a("span",{staticClass:"count_num"},[e._v(" "+e._s(e.tmpItems.length?"已选 "+e.tmpItems.length+" 个":"请选择")+" ")]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.cfmMater}},[e._v("确定")])])])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"X+HX":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"popup-user-list-container",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("r-search",{attrs:{filterList:e.filterList,isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"user-list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"mater-list-item",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"info-item vux-1px-b"},[a("img",{staticClass:"avatar",attrs:{src:t.photo,alt:"头像"},on:{error:function(a){e.getDefaultImg(t)}}}),e._v(" "),a("div",{staticClass:"user-info"},[a("div",{staticClass:"name"},[e._v(e._s(t.nickname))]),e._v(" "),a("div",{staticClass:"tel"},[e._v(e._s(t.mobile))])])]),e._v(" "),a("div",{staticClass:"info-item info-code"},[a("div",{staticClass:"code"},[e._v("工号: "+e._s(t.userCode))]),e._v(" "),a("div",{staticClass:"status",class:[t.statusClass]},[e._v(e._s(t.statusText||""))])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1)],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},X0tG:function(e,t,a){"use strict";function n(e){a("TSBw")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("W23b");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("8dBe"),o=a.n(s),l=a("vLAJ"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-7c930c26",null);t.default=c.exports},X128:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"RDate",props:{title:{type:String,default:""},value:{type:String,default:""},required:{type:Boolean,default:!1},placeholder:{type:String,default:""},startDate:{type:String,default:""},endDate:{type:String,default:""}},data:function(){return{time:""}},watch:{value:{handler:function(e){this.time=e},immediate:!0}},methods:{clickDateSelect:function(){var e=this;this.$vux.datetime.show({confirmText:"确定",cancelText:"取消",value:this.time,startDate:this.startDate,endDate:this.endDate,onConfirm:function(t){e.time=t,e.$emit("input",t)}})}}}},X1uf:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper cpxq-detail-container"},[a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.userData,"order-info":e.userData}}),e._v(" "),a("div",{staticClass:"product"},[e._m(0),e._v(" "),a("form-cell",{attrs:{cellTitle:"申请部门",cellContent:e.userData.applicationDepartment||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"申请岗位",cellContent:e.userData.applicationPost||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"招聘人数",cellContent:e.userData.recruitmentPeople||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"任职要求",cellContent:e.userData.jobRequirements||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"岗位描述",cellContent:e.userData.postDescription||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"招聘原因",cellContent:e.userData.recruitmentReson||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"备注",cellContent:e.userData.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}})],1)])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title"},[a("div",[a("span",{staticClass:"iconfont icon-mingxi1"}),e._v(" "),a("span",[e._v("招聘信息")])])])}],r={render:n,staticRenderFns:i};t.a=r},"X4/C":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("a3Yh"),o=n(s),l=a("4YfN"),d=n(l),u=a("IHPB"),c=n(u),f=a("3cXf"),m=n(f),h=a("HXPS"),v=n(h),p=a("BGNQ"),C=n(p),y=a("z5TY"),_=n(y),g=a("SAzG"),b=n(g),w=a("PzEQ"),I=n(w),x=a("0AQX"),D=a("HyXB"),P=a("bKg5"),S=n(P),k=a("9cRV"),L=n(k),N=a("89pA"),M=n(N),T=a("luHD"),A=n(T),O=a("vl8n"),R=n(O),j=a("+WR7"),B=n(j),E=a("zWMP"),F=a("Qg39");t.default={mixins:[S.default],components:{Icon:v.default,Cell:C.default,Group:_.default,XInput:b.default,XTextarea:I.default,PopMatterList:L.default,PopWarehouseList:M.default,PopMatter:A.default,RPicker:R.default,PopBaseinfo:B.default},data:function(){return{listId:"edf7b34b-8916-410f-801f-2db7e97efbde",matterList:[],showMaterielPop:!1,transCode:"",formData:{biComment:""},numMap:{},warehouse:{},matter:{},showMatterPop:!1,modifyIndex:null,checkFieldList:[{key:"tdQty",message:"请填写盘点数量"}]}},watch:{matter:{handler:function(e){e.differenceNum=(0,E.accSub)(e.tdQty,e.qtyBal)},deep:!0}},methods:{delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},selWarehouseIn:function(e){this.warehouse=JSON.parse(e),null!=this.matterParams.data.whCode&&(this.matterParams.data.whCode=this.warehouse.warehouseCode,this.matterList=[])},modifyMatter:function(e,t){this.matter=JSON.parse((0,m.default)(e)),this.showMatterPop=!0,this.modifyIndex=t},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.matterList,this.modifyIndex,t)},selMatter:function(e){var t=JSON.parse(e);t.forEach(function(e){e.tdQty=e.tdQty||0,e.differenceNum=(0,E.accSub)(e.tdQty,e.qtyBal),e.thenQtyStock=(0,F.toFixed)((0,E.accSub)(e.qtyBal,e.qtyLock))}),this.numMap={},this.matterList=[].concat((0,c.default)(t))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},save:function(){var e=this,t="",a=[];if([{key:"warehouse",message:"入库仓库"}].every(function(a){return!!e[a.key]||(t="请选择"+a.message,!1)}),t||this.matterList.length||(t="请选择物料"),this.matterList.every(function(n){if(!n.tdQty)return t="请填写盘点数量",!1;var i={transObjCode:n.inventoryCode,thenQtyStock:n.thenQtyStock,tdQty:n.tdQty,differenceNum:n.differenceNum||0,tdProcessing:n.processing,assistQty:n.assistQty||0,assMeasureScale:n.assMeasureScale||null,assMeasureUnit:n.assMeasureUnit||null,thenLockQtyStock:n.qtyLock,thenTotalQtyStock:n.qtyBal,comment:n.comment||null};return e.transCode&&(i.tdId=n.tdId||""),a.push(i),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=D.saveAndStartWf,n=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,containerInWarehouseManager:e.warehouse.containerInWarehouseManager||null,inPut:{containerCode:e.warehouse.warehouseCode,dataSet:a}}),i={listId:e.listId,biComment:"",formData:(0,m.default)(n),wfPara:(0,m.default)((0,o.default)({},e.processCode,{businessKey:e.businessKey,createdBy:n.creator}))};e.transCode&&(t=D.saveAndCommitTask,i.biReferenceId=e.biReferenceId,i.wfPara=(0,m.default)({businessKey:e.transCode,createdBy:n.creator,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=D.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,x.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var u=[];e.attachment=l;var c=s.inPut,f=c.dataSet,m=void 0===f?[]:f,h=!0,v=!1,p=void 0;try{for(var C,y=(0,r.default)(m);!(h=(C=y.next()).done);h=!0){var _=C.value;_=(0,d.default)({},_,{qtyBal:_.thenTotalQtyStock,qtyLock:_.thenLockQtyStock,inventoryPic:_.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:_.inventoryName_transObjCode,inventoryCode:_.transObjCode,specification:_.specification_transObjCode,measureUnit:_.measureUnit_transObjCode,processing:_.tdProcessing}),u.push(_)}}catch(e){v=!0,p=e}finally{try{!h&&y.return&&y.return()}finally{if(v)throw p}}e.warehouse={warehouseCode:c.containerCode,warehouseName:c.warehouseName_containerCode,warehouseType:c.warehouseType_containerCode,warehouseProvince:c.warehouseProvince_containerCode,warehouseCity:c.warehouseCity_containerCode,warehouseDistrict:c.warehouseDistrict_containerCode,warehouseAddress:c.warehouseAddress_containerCode},e.warehouseParams={whCode:e.warehouse.warehouseCode},e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:s.biComment,biId:s.biId,biProcessStatus:s.biProcessStatus,creator:s.creator,modifer:s.modifer}),e.biReferenceId=s.biReferenceId,e.matterList=u,e.$loading.hide()})},checkAmt:function(e){var t=e.tdQty,a=void 0===t?0:t;"number"!=typeof a&&(a=0),e.tdQty=Math.abs((0,F.toFixed)(a))},hasDraftData:function(){return!!this.matterList.length&&(0,o.default)({},"KCPD_DATA",{matter:this.matterList,warehouse:this.warehouse,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("KCPD_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.warehouse=t.warehouse,this.formData=t.formData,this.warehouseParams={whCode:this.warehouse.warehouseCode},sessionStorage.removeItem("KCPD_DATA")}}}},X7eJ:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noCount:"",noPrice:"",isDealer:!1},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}}),e._v(" "),a("pop-task-work-list",{ref:"taskWork",attrs:{show:e.popShow,params:e.requestParams,"work-type":"启动"},on:{"sel-task":e.selTask},model:{value:e.popShow,callback:function(t){e.popShow=t},expression:"popShow"}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},X9Vn:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Zp+1"),r=n(i),s=a("+26s"),o=n(s),l=a("Qg39");t.default={data:function(){return{uniqueId:9e3,showContent:!1,handleLoadding:!1,filterArr:[{operator:"like",value:"",property:"dealerCode"}]}},components:{TabItem:r.default},mixins:[o.default],filters:{toFixed:l.toFixed}}},XAqG:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.updateUser=t.addUser=t.validateCode=t.getCompanyList=t.getUserDetail=t.getAllUsers=void 0;var i=a("3cXf"),r=n(i),s=a("4YfN"),o=n(s),l=a("GOq4"),d=n(l);t.getAllUsers=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/ds/getAllUsers",data:(0,o.default)({_dc:Date.now(),sort:(0,r.default)([{property:"crtTime",direction:"DESC"}]),page:1,start:0,limit:50},e)})},t.getUserDetail=function(e){return d.default.ajax({url:"/H_roleplay-si/ds/getUserInfoById",data:{userId:e}})},t.getCompanyList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/sysGroup/getCompanyList",data:e})},t.validateCode=function(e){return d.default.ajax({url:"/H_roleplay-si/trans/validate",data:{tableName:"sys_user",filter:(0,r.default)([{filedName:"userCode",symbol:"=",value:e}])}})},t.addUser=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.post({url:"/H_roleplay-si/userInfo/addUser",data:e})},t.updateUser=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.post({url:"/H_roleplay-si/userInfo/updateUser",data:e})};t.default={}},XCFZ:function(e,t,a){"use strict";function n(e){a("MHSk")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("nT2q");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("d3zw"),o=a.n(s),l=a("gJpQ"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-494c7b60",null);t.default=c.exports},XJ9N:function(e,t){},XNwX:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("3cXf"),o=n(s),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("u28h"),C=n(p),y=a("PzEQ"),_=n(y),g=a("kNGm"),b=(n(g),a("jnZd")),w=n(b),I=(a("0AQX"),a("Z6x5")),x=a("HyXB"),D=a("bKg5"),P=n(D),S=a("vl8n"),k=n(S),L=a("+WR7"),N=n(L);t.default={data:function(){return{formData:{biId:"",biComment:"",biProcessStatus:""},biReferenceId:"",MobileWarn:!1,idCardWarn:!1,groupList:[],roleList:[]}},components:{Cell:c.default,Group:m.default,XInput:v.default,Datetime:C.default,XTextarea:_.default,PopupPicker:w.default,RPicker:k.default,PopBaseinfo:N.default},mixins:[P.default],methods:{getDepartMentWage:function(){var e=this;(0,I.getDepartMentWage)().then(function(t){var a=[];t.tableContent.forEach(function(e){a.push(e.GROUP_NAME)}),e.groupList.push(a)})},getAllRoleInfo:function(){var e=this;(0,I.getAllRoleInfo)().then(function(t){var a=[];t.tableContent.forEach(function(e){a.push(e.roleName)}),e.roleList.push(a)})},submitOrder:function(){var e=this,t="",a=[{key:"applicationDepartment",message:"请选择申请部门"},{key:"applicationPost",message:"请选择申请岗位"},{key:"recruitmentPeople",message:"请填写招聘人数"}];if(t||a.every(function(a){return!!e.formData[a.key]||(t=a.message,!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=x.saveAndStartWf,a=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,applicationDepartment:e.formData.applicationDepartment[0],applicationPost:e.formData.applicationPost[0]}),n={listId:e.listId,biComment:"",formData:(0,o.default)(a)};e.isResubmit&&(t=x.saveAndCommitTask,n.biReferenceId=e.biReferenceId,n.wfPara=(0,o.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=x.submitAndCalc,delete n.wfPara,delete n.biReferenceId),e.biReferenceId&&(n.biReferenceId=e.biReferenceId),e.saveData(t,n)}})},hasDraftData:function(){var e=this.formData;if(e.applicationDepartment||e.applicationPost)return(0,r.default)({},"ZHJH_DATA",{formData:e})},checkAmt:function(e){this.formData.recruitmentPeople=Math.round(e)}},created:function(){this.getDepartMentWage(),this.getAllRoleInfo();var e=sessionStorage.getItem("ZHJH_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,sessionStorage.removeItem("ZHJH_DATA")}}}},XQGE:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("4XVd"),o=a("1KNX"),l=n(o),d=a("xCct"),u=n(d),c=a("z7Zk"),f=n(c),m=a("Z5v5");t.default={name:"comment",components:{RScroll:l.default,CommentItem:u.default,REmotion:f.default},data:function(){return{scrollOptions:{pullUpLoad:!0},transCode:"",commentList:[],hasNext:!0,page:1,limit:10,total:0,comment:"",parentId:-1,focusInput:!1,placeholder:"添加评论...",listId:"",showEmotion:!1}},methods:{onPullingUp:function(){this.page++,this.getCommentList()},setReply:function(e,t){return'@<span style="color: #2994FD;">'+e+"</span>："+t},getCommentList:function(){var e=this,t={transCode:this.transCode,page:this.page,limit:this.limit};return this.listId&&(t.transCode=this.listId),(0,s.getCommentList)(t).then(function(t){var a=t.allCommentNum,n=void 0===a?0:a,i=t.comment,s=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+s.length,s.forEach(function(t){t.allReply&&t.allReply.forEach(function(a,n,i){var r=t.allReply.find(function(e){return e.ID===a.PARENT_ID});a.CONTENT=r?e.setReply(r.creatorName,a.CONTENT):e.setReply(t.creatorName,a.CONTENT)})}),e.commentList=1===e.page?s:[].concat((0,r.default)(e.commentList),(0,r.default)(s)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},onReply:function(e){this.parentId=e.ID,this.placeholder="回复"+e.creatorName+":",this.$refs.commentValue.focus()},onPraiseSuccess:function(e){e.isPraise=!1,e.praiseNum++},tagFilter:function(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")},saveComment:function(){var e=this;if(!this.comment)return void this.$vux.toast.show({text:"评论不能为空",position:"top",width:"50%",type:"text",time:700});var t={content:this.tagFilter(this.comment),parentId:this.parentId,relationKey:this.transCode,type:"instance"};return this.listId&&(t={content:this.tagFilter(this.comment),parentId:this.parentId,relationKey:this.listId,type:"list"}),(0,s.saveComment)(t).then(function(t){var a=t.success,n=void 0===a||a;t.message;n&&(e.comment="",e.parentId=-1,e.placeholder="添加评论...",e.page=1,e.$refs.bScroll.scrollTo(0,0),e.getCommentList().then(function(){e.$loading.hide()}))})},commentFocusIn:function(e){this.$nextTick(function(){e.target.scrollIntoView()}),this.focusInput=!0,this.showEmotion=!1},commentFocusOut:function(){this.focusInput=!1},emotionSelected:function(e){this.comment+=e},emotionClickOutside:function(e){this.$refs.emotion.$el.contains(e.target)||this.$refs.emotionIcon.contains(e.target)||(this.showEmotion=!1)}},created:function(){var e=this,t=this.$route.query,a=t.transCode,n=t.listId;this.transCode=a,this.listId=n,this.$loading.show(),(0,m.register)(),this.getCommentList().then(function(){e.$loading.hide()}),this.$nextTick(function(){document.addEventListener("click",e.emotionClickOutside)})},beforeDestroy:function(){document.removeEventListener("click",this.emotionClickOutside)}}},"XR+a":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages xsbj-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[e.matterList.length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v("物料列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.matterList,function(t,n){return a("div",{key:n,staticClass:"each_mater",class:{mater_delete:e.matterModifyClass,"vux-1px-b":n<e.matterList.length-1}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass,config:e.matterEditConfig.property},on:{"on-modify":function(a){e.modifyMatter(t,n)}},nativeOn:{click:function(a){e.delClick(n,t)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_other"},[a("div",[n.price?a("span",{staticClass:"price"},[e._v("\n                        标准价格: "),a("span",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price))])]):e._e(),e._v(" "),n.specialReservePrice?a("span",{staticClass:"price"},[e._v("\n                        特批底价: "),a("span",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.specialReservePrice))])]):e._e()])])]}},{key:"edit",fn:function(t){var i=t.item;return[i.price||e.matterModifyClass?e._e():a("div",{staticClass:"mater_other",on:{click:function(t){e.modifyMatter(i,n)}}},[a("div",{staticClass:"edit-tips"},[a("span",{staticClass:"tips-word"},[e._v("点击进行填写")])])])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(n,t)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)}),0)]:[a("div",{on:{click:function(t){e.showMaterielPop=!e.showMaterielPop}}},[a("div",{staticClass:"title"},[e._v("物料列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择物料")]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part vx-1px-t"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),e.matterList.length?a("span",{staticClass:"add_more",on:{click:e.addMatter}},[e._v("新增更多物料")]):e._e()]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showMaterielPop,config:e.matterPopConfig,"matter-params":e.matterParams,"default-value":e.matterList},on:{"sel-matter":e.selMatter},model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}})],2),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,config:e.matterEditConfig},on:{"sel-confirm":e.selConfirm},model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"btn-item",on:{click:e.save}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},XS99:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("ZLEe"),r=n(i),s=a("PiEG"),o=n(s),l=a("UOZN"),d=n(l);t.default={name:"popup",props:{value:Boolean,height:{type:String,default:"auto"},width:{type:String,default:"auto"},showMask:{type:Boolean,default:!0},isTransparent:Boolean,hideOnBlur:{type:Boolean,default:!0},position:{type:String,default:"bottom"},maxHeight:String,popupStyle:Object,hideOnDeactivated:{type:Boolean,default:!0},shouldRerenderOnShow:{type:Boolean,default:!1},shouldScrollTopOnShow:{type:Boolean,default:!1}},created:function(){this.$vux&&this.$vux.config&&"VIEW_BOX"===this.$vux.config.$layout&&(this.layout="VIEW_BOX")},mounted:function(){var e=this;this.$overflowScrollingList=document.querySelectorAll(".vux-fix-safari-overflow-scrolling"),this.$nextTick(function(){var t=e;e.popup=new o.default({showMask:t.showMask,container:t.$el,hideOnBlur:t.hideOnBlur,onOpen:function(){t.fixSafariOverflowScrolling("auto"),t.show=!0},onClose:function(){t.show=!1,window.__$vuxPopups&&(0,r.default)(window.__$vuxPopups).length>1||document.querySelector(".vux-popup-dialog.vux-popup-mask-disabled")||setTimeout(function(){t.fixSafariOverflowScrolling("touch")},300)}}),e.value&&e.popup.show(),e.initialShow=!1})},deactivated:function(){this.hideOnDeactivated&&(this.show=!1),this.removeModalClassName()},methods:{fixSafariOverflowScrolling:function(e){if(this.$overflowScrollingList.length)for(var t=0;t<this.$overflowScrollingList.length;t++)this.$overflowScrollingList[t].style.webkitOverflowScrolling=e},removeModalClassName:function(){"VIEW_BOX"===this.layout&&d.default.removeClass(document.body,"vux-modal-open")},doShow:function(){this.popup&&this.popup.show(),this.$emit("on-show"),this.fixSafariOverflowScrolling("auto"),"VIEW_BOX"===this.layout&&d.default.addClass(document.body,"vux-modal-open"),this.hasFirstShow||(this.$emit("on-first-show"),this.hasFirstShow=!0)},scrollTop:function(){var e=this;this.$nextTick(function(){e.$el.scrollTop=0;var t=e.$el.querySelectorAll(".vux-scrollable");if(t.length)for(var a=0;a<t.length;a++)t[a].scrollTop=0})}},data:function(){return{layout:"",initialShow:!0,hasFirstShow:!1,shouldRenderBody:!0,show:this.value}},computed:{styles:function(){var e={};if(this.position&&"bottom"!==this.position&&"top"!==this.position?e.width=this.width:e.height=this.height,this.maxHeight&&(e["max-height"]=this.maxHeight),this.isTransparent&&(e.background="transparent"),this.popupStyle)for(var t in this.popupStyle)e[t]=this.popupStyle[t];return e}},watch:{value:function(e){this.show=e},show:function(e){var t=this;this.$emit("input",e),e?this.shouldRerenderOnShow?(this.shouldRenderBody=!1,this.$nextTick(function(){t.scrollTop(),t.shouldRenderBody=!0,t.doShow()})):(this.shouldScrollTopOnShow&&this.scrollTop(),this.doShow()):(this.$emit("on-hide"),this.show=!1,this.popup.hide(!1),setTimeout(function(){document.querySelector(".vux-popup-dialog.vux-popup-show")||t.fixSafariOverflowScrolling("touch"),t.removeModalClassName()},200))}},beforeDestroy:function(){this.popup&&this.popup.destroy(),this.fixSafariOverflowScrolling("touch"),this.removeModalClassName()}}},XWH4:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper gdrwqd-detail-container"},[e.orderInfo?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("warehouse-content",{attrs:{warehouse:e.warehouse}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_content"},[e._m(0),e._v(" "),a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"工序名称",cellContent:e.workInfo.procedureName_proPointCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"工序编码",cellContent:e.workInfo.proPointCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"工序待验收",cellContent:""+e.workInfo.thenQtyStock}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"工序待启动",cellContent:""+e.workInfo.thenQtyBal}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"启动数量",cellContent:""+e.workInfo.tdQty}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"工人",cellContent:e.workInfo.dealerName_dealerDebit}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"设施",cellContent:e.workInfo.facilityName_facilityObjCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"物料名称",cellContent:e.workInfo.inventoryName_transObjCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"物料编码",cellContent:e.workInfo.transObjCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.bomList.length,expression:"bomList.length"}],staticClass:"bom_list"},[a("bom-list",{attrs:{boms:e.bomList},scopedSlots:e._u([{key:"specification",fn:function(t){var n=t.bom;return[a("div",{staticClass:"content-unit"},[a("span",[e._v("型号规格: "+e._s(n.specification_outPutMatCode))])])]}},{key:"number",fn:function(t){var n=t.bom;return[a("div",{staticClass:"number-part"},[a("span",{staticClass:"main-number"},[e._v("数量: "+e._s(n.tdQty)+e._s(n.measureUnit_outPutMatCode))]),e._v(" "),a("span",{staticClass:"number-unit"},[e._v("bom数量: "+e._s(n.bomQty))]),e._v(" "),a("span",{staticClass:"number-unit"},[e._v("损耗率: "+e._s(n.bomSpecificLoss))])])]}}])})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title"},[a("span",{staticClass:"iconfont icon-mingxi1"}),e._v(" "),a("span",[e._v("工单信息")])])}],r={render:n,staticRenderFns:i};t.a=r},XWkQ:function(e,t){},XZip:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},Xc3I:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("KH7x"),r=n(i),s=a("3QQJ"),o=n(s);t.default={name:"TodoItem",props:{item:{type:Object,default:function(){return{}}},name:{type:String,default:""},noBorder:{type:Boolean,default:!1}},components:{Badge:o.default},data:function(){return{}},methods:{getDefaultImg:function(e){var t=a("CYNT");return e&&(e.pic=t),t}},filters:{handleCrt:function(e){if(e){var t=(0,r.default)(e,1),a=t[0],n=void 0===a?{}:a,i=n.duration,s=parseInt(i/3600),o=i-3600*s,l=Math.floor(o/60),d=o-60*l,u=(Math.round(d),void 0);return u=s>0?s+"小时前":0===l?"1分钟前":l+"分钟前",s<24?u:""+n.crtTime.split(" ")[0]}}}}},Xf8Q:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pop-salesman-list-container"},[a("div",{staticClass:"SJForm_cell",on:{click:e.itemClick}},[a("div",{class:{required:e.required}},[e._v(e._s(e.title))]),e._v(" "),a("div",{staticClass:"value"},[e._v(e._s(e.currentValue||"请选择"))])]),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("r-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"salesman-list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.dealerList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.dealerList,function(t,n){return a("div",{key:n,staticClass:"mater-list-item",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"mater-list-item-content"},[a("div",{staticClass:"name"},[e._v(e._s(t.dealerName))]),e._v(" "),a("div",[e._v(e._s(t.province)+e._s(t.city)+e._s(t.county)+e._s(t.address))])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1)])],1)])},i=[],r={render:n,staticRenderFns:i};t.a=r},XgMd:function(e,t,a){"use strict";function n(e){a("p3VH")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Dqn+");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("cBID"),o=a.n(s),l=a("1qJ4"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-b6e49a7a",null);t.default=c.exports},Xheq:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{action:{type:Object,default:{}},goEdit:{type:Function,required:!0}}}},XlK6:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2313,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[i.default],methods:{},created:function(){}}},XljL:function(e,t){},"Xoe/":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages xsbj-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),e._l(e.CostList,function(t,n){return a("div",{key:n,staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"费用明细"+(n+1)}},[a("cell",{attrs:{title:"费用名称","is-link":""},nativeOn:{click:function(a){e.getCost(n,t)}},model:{value:t.exptName,callback:function(a){e.$set(t,"exptName",a)},expression:"item.exptName"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("费用名称\n              ")])])],2),e._v(" "),a("cell",{attrs:{title:"费用科目",value:t.expSubject}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("费用科目")])])],2),e._v(" "),a("popup-picker",{attrs:{title:"发票类型",data:e.invoiceTypeList},model:{value:t.tdInvoiceType,callback:function(a){e.$set(t,"tdInvoiceType",a)},expression:"item.tdInvoiceType"}}),e._v(" "),a("x-input",{attrs:{title:"申请金额","text-align":"right",placeholder:"请填写",type:"number"},on:{"on-focus":function(t){e.getFocus(t)},"on-blur":function(a){e.checkAmt(t)}},model:{value:t.tdAmount,callback:function(a){e.$set(t,"tdAmount",e._n(a))},expression:"item.tdAmount"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("申请金额\n              ")])])],2),e._v(" "),a("cell",{attrs:{title:"不含税金额",value:t.noTaxAmount}}),e._v(" "),a("x-input",{attrs:{title:"税率","text-align":"right",placeholder:"请填写",type:"number"},on:{"on-focus":function(t){e.getFocus(t)},"on-blur":function(a){e.checkAmt(t)}},model:{value:t.taxRate,callback:function(a){e.$set(t,"taxRate",e._n(a))},expression:"item.taxRate"}}),e._v(" "),a("cell",{attrs:{title:"税金",value:t.taxAmount}}),e._v(" "),a("x-input",{attrs:{type:"text",title:"报销事由","text-align":"right",placeholder:"请填写"},model:{value:t.expCause,callback:function(a){e.$set(t,"expCause",a)},expression:"item.expCause"}})],1)],1)}),e._v(" "),a("div",{staticClass:"add_more"},[e._v("\n        您还需要添加新的报销?请点击\n        "),a("span",{staticClass:"add",on:{click:e.addCost}},[e._v("新增")]),e._v(" "),a("em",{directives:[{name:"show",rawName:"v-show",value:e.CostList.length>1,expression:"CostList.length>1"}]},[e._v("或")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.CostList.length>1,expression:"CostList.length>1"}],staticClass:"delete",on:{click:e.deleteCost}},[e._v("删除")])]),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"其他信息"}},[a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-cost-list",{ref:"matter",attrs:{show:e.showCostPop,defaultValue:e.selectedCost,"group-id":e.formData.handlerUnit},on:{"sel-matter":e.selMatter},model:{value:e.showCostPop,callback:function(t){e.showCostPop=t},expression:"showCostPop"}})],2)]),e._v(" "),a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num"},[a("span",{staticStyle:{fontSize:".14rem"}},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.totalAmount,3))+"\n    ")]),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"count_btn stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},"XpI/":function(e,t){},XquE:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2487,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[i.default],methods:{},created:function(){}}},XsxV:function(e,t){},"Xty+":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages sj-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[a("div",{staticClass:"mater_list"},[a("div",{staticClass:"each_mater"},[a("div",{staticClass:"userInp_mode"},[a("div",{staticClass:"title"},[e._v("往来明细")]),e._v(" "),a("group",{staticClass:"SJ_group",on:{"group-title-margin-top":function(e){}}},[a("cell",{attrs:{title:"往来名称","text-align":"right"},model:{value:e.dealerInfo.dealerName,callback:function(t){e.$set(e.dealerInfo,"dealerName",t)},expression:"dealerInfo.dealerName"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("往来名称")])])],2),e._v(" "),a("cell",{attrs:{title:"往来编码","text-align":"right"},model:{value:e.dealerInfo.dealerCodeCredit,callback:function(t){e.$set(e.dealerInfo,"dealerCodeCredit",t)},expression:"dealerInfo.dealerCodeCredit"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("往来编码")])])],2),e._v(" "),a("cell",{attrs:{title:"往来关系标签","text-align":"right"},model:{value:e.dealerInfo.crDealerLabel,callback:function(t){e.$set(e.dealerInfo,"crDealerLabel",t)},expression:"dealerInfo.crDealerLabel"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("往来关系标签")])])],2),e._v(" "),a("popup-picker",{attrs:{title:"类型",data:e.currentType,placeholder:"请选择"},model:{value:e.dealerInfo.applicationType,callback:function(t){e.$set(e.dealerInfo,"applicationType",t)},expression:"dealerInfo.applicationType"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("类型")])])],2),e._v(" "),a("cell",{attrs:{title:"信用额度","text-align":"right"},model:{value:e.dealerInfo.tdCreditLine,callback:function(t){e.$set(e.dealerInfo,"tdCreditLine",t)},expression:"dealerInfo.tdCreditLine"}}),e._v(" "),a("cell",{attrs:{title:"往来余额","text-align":"right"},model:{value:e.dealerInfo.thenAmntBalCopy1,callback:function(t){e.$set(e.dealerInfo,"thenAmntBalCopy1",t)},expression:"dealerInfo.thenAmntBalCopy1"}}),e._v(" "),a("x-input",{attrs:{type:"number","text-align":"right",placeholder:"请填写"},on:{"on-blur":function(t){e.checkAmt(e.dealerInfo.thenTotalAmntBal)},"on-focus":e.getFocus},model:{value:e.dealerInfo.thenTotalAmntBal,callback:function(t){e.$set(e.dealerInfo,"thenTotalAmntBal",e._n(t))},expression:"dealerInfo.thenTotalAmntBal"}},[a("span",{staticClass:"required",attrs:{slot:"label"},slot:"label"},[e._v("申请金额")])]),e._v(" "),a("x-input",{attrs:{title:"事由","text-align":"right",placeholder:"请填写"},model:{value:e.dealerInfo.expCause,callback:function(t){e.$set(e.dealerInfo,"expCause",t)},expression:"dealerInfo.expCause"}})],1)],1)])])]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},XuIo:function(e,t){},XupI:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("m-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.costList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.costList,function(t,n){return a("div",{key:n,staticClass:"each_mater box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"mater_main "},[a("div",{staticClass:"cost_name"},[e._v("\n              "+e._s(t.costName)+"\n            ")]),e._v(" "),a("div",{staticClass:"cost_type"},[e._v("\n              "+e._s(t.costType)+"\n            ")])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1)])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},XzN5:function(e,t){},Xzj3:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("4YfN"),o=n(s),l=a("KH7x"),d=n(l),u=a("3cXf"),c=n(u),f=a("0AQX"),m=a("+VRO"),h=n(m),v=a("BUFe"),p=n(v),C=a("AupE"),y=n(C),_=a("bFc7"),g=n(_),b=a("6WeX"),w=n(b),I=a("3NX5"),x=n(I),D=a("zWMP");a("Qg39");t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"",contactInfo:{},orderList:{}}},computed:{hasAdvance:function(){var e=this.contactInfo.payment;return e&&e.includes("预收")}},components:{workFlow:y.default,RAction:p.default,contactPart:g.default,PriceTotal:w.default,MatterList:x.default},mixins:[h.default],methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,f.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(e.submitInfo=JSON.parse((0,c.default)(t)),!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a={},n=t.attachment,i=void 0===n?[]:n,s=t.formData,l=void 0===s?{}:s,u=l.inPut,f=void 0===u?{}:u,m=(0,d.default)(f.dataSet,1),h=m[0],v=void 0===h?{}:h,p=l.order.dataSet,C=!0,y=!1,_=void 0;try{for(var g,b=(0,r.default)(p);!(C=(g=b.next()).done);C=!0){var w=g.value;e.count=(0,D.accAdd)(e.count,w.tdAmount),w.inventoryPic=w.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+w.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),a[w.transMatchedCode]||(a[w.transMatchedCode]=[]),a[w.transMatchedCode].push(w)}}catch(e){y=!0,_=e}finally{try{!C&&b.return&&b.return()}finally{if(y)throw _}}e.orderList=a,e.attachment=i,e.orderInfo=l,e.contactInfo=(0,o.default)({},v,l),e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo=(0,o.default)({},this.contactInfo,a,{creatorName:a.dealerDebitContactPersonName,dealerName:a.dealerName_dealerDebit,dealerMobilePhone:t.dealerDebitContactInformation,dealerContactPersonName:t.dealerDebitContactPersonName,dealerCode:a.dealerDebit,dealerLabelName:a.drDealerLabel,province:a.province_dealerDebit,city:a.city_dealerDebit,county:a.county_dealerDebit,address:a.address_dealerDebit})},judgeDealerConfig:function(e){var t=this.contactInfo.drDealerPaymentTerm.includes("预收"),a=["advancePaymentDueDate","tdAmountCopy1"];e.forEach(function(e){t&&a.includes(e.fieldCode)&&(e.hiddenInRun=!1)})}}}},"Y+9d":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("a3Yh"),o=n(s),l=a("3cXf"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("7g+Q"),C=n(p),y=a("PzEQ"),_=n(y),g=a("jnZd"),b=n(g),w=a("0AQX"),I=a("HyXB"),x=a("jLp1"),D=a("bKg5"),P=n(D),S=a("N2r1"),k=n(S),L=a("F2L3"),N=n(L),M=a("vl8n"),T=n(M),A=a("+WR7"),O=n(A),R=a("zWMP");a("Qg39");t.default={mixins:[P.default],components:{Cell:c.default,Group:m.default,Popup:C.default,XInput:v.default,XTextarea:_.default,PopCostList:k.default,PopupPicker:b.default,PopProjectList:N.default,RPicker:T.default,PopBaseinfo:O.default},data:function(){return{listId:"b61ef324-f261-48d6-9c79-d1b475c24943",biComment:"",biReferenceId:"",showCostPop:!1,showProjectPop:!1,CostList:[{costName:"",costCode:"",expSubject:[],costType:"",price:"",reson:"",comment:""}],expSubjectList:[],selectedCost:[],costIndex:0,transCode:"",formData:{biComment:""},projectName:"",showPop:!1,tmp:"",taxRate:0,defaultProject:{}}},computed:{totalAmount:function(){var e=0;return this.CostList.forEach(function(t){t.price&&(e=(0,R.accAdd)(e,t.price))}),e}},methods:{getCost:function(e,t){this.showCostPop=!0,this.costIndex=e,this.selectedCost=[t]},addCost:function(){this.expSubjectList=[],this.CostList.push({costName:"",costCode:"",expSubject:[],price:"",reson:"",comment:""})},deleteCost:function(){this.CostList.pop()},selMatter:function(e){var t=e;this.CostList[this.costIndex].costName=t.costName,this.CostList[this.costIndex].costCode=t.costCode,this.CostList[this.costIndex].costSubject=t.costSubject,this.CostList[this.costIndex].expSubject=[],this.CostList[this.costIndex].costType=t.costType},selProject:function(e){this.projectName=e.PROJECT_NAME},submitOrder:function(){var e=this,t="",a=[];if(this.CostList.every(function(e){return e.costName?e.price?(a.push({tdId:e.tdId||"",expCode:e.costCode,expSubject:e.costSubject,tdAmount:e.price,expCause:e.reson}),!0):(t="请输入报销金额",!1):(t="请选择费用名称",!1)}),this.projectName||(t="请选择项目"),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=I.saveAndStartWf,n=(0,o.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,d.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:"",formData:(0,d.default)((0,r.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{crDealerLabel:"员工",project:e.projectName,dealerCodeCredit:e.formData.userCode,departmentName:e.formData.handlerUnitName,dataSet:a}})),wfPara:(0,d.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=I.saveAndCommitTask),e.processCode.length||(t=I.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,w.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.attachment=t.attachment,e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.CostList=[];var a=t.formData;e.projectName=a.order.project,e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,r.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),a.order.dataSet.forEach(function(t){var a={costName:t.costName_expCode,costCode:t.expCode,costType:t.costType_expCode,expSubject:t.expSubject,price:t.tdAmount,reson:t.expCause,comment:t.comment,tdId:t.tdId};e.CostList.push(a)}),e.$loading.hide()})},hasDraftData:function(){return!!this.projectName&&(0,o.default)({},"FYBX_DATA",{cost:this.CostList,formData:this.formData,projectName:this.projectName})},getRelationData:function(){var e=this;return(0,x.findProjectApproval)(this.relationKey).then(function(t){var a=t.formData,n=void 0===a?{}:a;t.attachment;e.projectName=n.approval.projectName,e.defaultProject={PROJECT_NAME:e.projectName}})}},created:function(){var e=sessionStorage.getItem("FYBX_DATA");if(e){var t=JSON.parse(e);this.CostList=t.cost,this.formData=t.formData,this.projectName=t.projectName,this.defaultProject={PROJECT_NAME:this.projectName},sessionStorage.removeItem("FYBX_DATA")}}}},"Y+r7":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages sj-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[a("div",{staticClass:"mater_list"},[a("div",{staticClass:"each_mater"},[a("div",{staticClass:"userInp_mode"},[a("div",{staticClass:"title"},[e._v("员工信息")]),e._v(" "),a("group",{staticClass:"SJ_group",on:{"group-title-margin-top":function(e){}}},[a("x-input",{attrs:{title:"员工","text-align":"right",placeholder:"请填写"},model:{value:e.formData.profileName,callback:function(t){e.$set(e.formData,"profileName",t)},expression:"formData.profileName"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("员工\n                    ")])])],2),e._v(" "),a("x-input",{attrs:{title:"身份证号",type:"number","text-align":"right",placeholder:"请填写"},on:{"on-blur":e.checkIdCard},model:{value:e.formData.idCard,callback:function(t){e.$set(e.formData,"idCard",t)},expression:"formData.idCard"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("身份证号\n                    ")])])],2),e._v(" "),a("x-input",{attrs:{title:"紧急联系人","text-align":"right",placeholder:"请填写"},model:{value:e.formData.urgentContact,callback:function(t){e.$set(e.formData,"urgentContact",e._n(t))},expression:"formData.urgentContact"}}),e._v(" "),a("x-input",{attrs:{title:"联系方式",type:"number","text-align":"right",placeholder:"请填写"},on:{"on-blur":e.checkMobile},model:{value:e.formData.profileContact,callback:function(t){e.$set(e.formData,"profileContact",e._n(t))},expression:"formData.profileContact"}}),e._v(" "),a("x-input",{attrs:{title:"地址","text-align":"right",placeholder:"请填写"},model:{value:e.formData.profileAddress,callback:function(t){e.$set(e.formData,"profileAddress",e._n(t))},expression:"formData.profileAddress"}}),e._v(" "),a("x-input",{attrs:{title:"学历","text-align":"right",placeholder:"请填写"},model:{value:e.formData.education,callback:function(t){e.$set(e.formData,"education",e._n(t))},expression:"formData.education"}}),e._v(" "),a("datetime",{attrs:{placeholder:"请选择日期",title:"合同期限"},model:{value:e.formData.contractPeriod,callback:function(t){e.$set(e.formData,"contractPeriod",t)},expression:"formData.contractPeriod"}}),e._v(" "),a("datetime",{attrs:{placeholder:"请选择日期",title:"入职日期"},model:{value:e.formData.entryDate,callback:function(t){e.$set(e.formData,"entryDate",t)},expression:"formData.entryDate"}}),e._v(" "),a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1)])])]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},"Y1R/":function(e,t){},Y30q:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"comment-item",class:{visited:e.item.visited}},[n("div",{staticClass:"comment-left"},[n("img",{staticClass:"avatar",attrs:{src:e.item.photo||a("Fuf7")},on:{error:e.getDefaultImg}})]),e._v(" "),n("div",{staticClass:"comment-right",class:{"vux-1px-b":!e.noBorder}},[n("div",{staticClass:"creator-name"},[e._v(e._s(e.item.creatorName))]),e._v(" "),n("div",{staticClass:"time"},[e._v(e._s(e._f("filterTime")(e.item.crtTime)))]),e._v(" "),n("div",{staticClass:"comment",domProps:{innerHTML:e._s(e.handleComment())}}),e._v(" "),e.item.attachment&&e.item.attachment.length?n("div",{staticClass:"comment-attachments"},[e._l(e.item.attachment,function(t,a){return t.isImg?n("img",{key:a,staticClass:"comment_image_item",attrs:{src:t.attachment},on:{click:function(a){a.stopPropagation(),e.scaleImg(t)}}}):e._e()}),e._v(" "),e._l(e.item.attachment,function(t,a){return t.isImg?e._e():n("div",{key:a,staticClass:"each_file",on:{click:function(a){a.stopPropagation(),e.checkFile(t.attachment)}}},[e._v("附件"+e._s(a+1)+": "+e._s(t.name)+"\n      ")])})],2):e._e(),e._v(" "),n("div",{staticClass:"belong-container",class:{"has-reply":e.item.reply}},[e.item.reply?n("div",{staticClass:"reply-part",domProps:{innerHTML:e._s(e.handleComment("reply"))}}):e._e(),e._v(" "),n("div",{staticClass:"belong-part"},[n("div",{staticClass:"app_img"},[n("img",{staticClass:"app_img",attrs:{src:e.item.pic,alt:"appImg"},on:{error:function(t){e.getDefaultIcon(e.item)}}})]),e._v(" "),n("div",{staticClass:"other_info"},[n("p",{staticClass:"app-name"},[e._v(e._s(e.item.listName))]),e._v(" "),n("p",{staticClass:"app_status_info"},[e._v(e._s(e.item.other))])])])]),e._v(" "),"praise"===e.item.type&&e.item.praiseUserList?n("div",{staticClass:"praise-count-container"},[n("div",{staticClass:"praise-left"},e._l(e.item.praiseUserList,function(t,a){return a<4?n("r-popover",{key:a,ref:"popover",refInFor:!0,on:{"on-click":e.onPopoverClick},nativeOn:{click:function(e){e.stopPropagation()}}},[n("img",{staticClass:"avatar",attrs:{src:t.photo},on:{error:e.getDefaultImg}}),e._v(" "),n("div",{staticClass:"praise-user",attrs:{slot:"content"},slot:"content"},[e._v(e._s(t.nickname))])]):e._e()}),1),e._v(" "),n("div",{staticClass:"praise-right"},[n("span",[e._v("共"+e._s(e.item.praiseUserList.length)+"人点赞这个动态")])])]):e._e()])])},i=[],r={render:n,staticRenderFns:i};t.a=r},Y3GT:function(e,t){},Y5WQ:function(e,t){},Y8f1:function(e,t){},YG92:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2443,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[i.default],methods:{},created:function(){}}},YJS0:function(e,t){},YOAB:function(e,t,a){"use strict";function n(e){a("Vgft")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("9FuR");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("87MO"),o=a.n(s),l=a("GrsU"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-70d302b6",null);t.default=c.exports},YP5q:function(e,t,a){"use strict";function n(e){a("SMm3")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("9M4O");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("8NYW"),o=a.n(s),l=a("upxC"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},"YX+4":function(e,t){},YaA6:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("a3Yh"),o=n(s),l=a("3cXf"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("7g+Q"),C=n(p),y=a("PzEQ"),_=n(y),g=a("jnZd"),b=n(g),w=a("0AQX"),I=a("HyXB"),x=a("jLp1"),D=a("bKg5"),P=n(D),S=a("N2r1"),k=n(S),L=a("F2L3"),N=n(L),M=a("vl8n"),T=n(M),A=a("+WR7"),O=n(A),R=a("zWMP");a("Qg39");t.default={mixins:[P.default],components:{Cell:c.default,Group:m.default,Popup:C.default,XInput:v.default,XTextarea:_.default,PopCostList:k.default,PopupPicker:b.default,PopProjectList:N.default,RPicker:T.default,PopBaseinfo:O.default},data:function(){return{listId:"b61ef324-f261-48d6-9c79-d1b475c24943",biComment:"",biReferenceId:"",showCostPop:!1,showProjectPop:!1,CostList:[{costName:"",costCode:"",expSubject:[],costType:"",price:"",reson:"",comment:""}],expSubjectList:[],selectedCost:[],costIndex:0,transCode:"",formData:{biComment:""},projectName:"",showPop:!1,tmp:"",taxRate:0,defaultProject:{}}},computed:{totalAmount:function(){var e=0;return this.CostList.forEach(function(t){t.price&&(e=(0,R.accAdd)(e,t.price))}),e}},methods:{getCost:function(e,t){this.showCostPop=!0,this.costIndex=e,this.selectedCost=[t]},addCost:function(){this.expSubjectList=[],this.CostList.push({costName:"",costCode:"",expSubject:[],price:"",reson:"",comment:""})},deleteCost:function(){this.CostList.pop()},selMatter:function(e){var t=e;this.CostList[this.costIndex].costName=t.costName,this.CostList[this.costIndex].costCode=t.costCode,this.CostList[this.costIndex].costSubject=t.costSubject,this.CostList[this.costIndex].expSubject=[],this.CostList[this.costIndex].costType=t.costType},selProject:function(e){this.projectName=e.PROJECT_NAME},submitOrder:function(){var e=this,t="",a=[];if(this.CostList.every(function(e){return e.costName?e.price?(a.push({tdId:e.tdId||"",expCode:e.costCode,expSubject:e.costSubject,tdAmount:e.price,expCause:e.reson}),!0):(t="请输入报销金额",!1):(t="请选择费用名称",!1)}),this.projectName||(t="请选择项目"),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=I.saveAndStartWf,n=(0,o.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,d.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:"",formData:(0,d.default)((0,r.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{crDealerLabel:"员工",project:e.projectName,dealerCodeCredit:e.formData.userCode,departmentName:e.formData.handlerUnitName,dataSet:a}})),wfPara:(0,d.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=I.saveAndCommitTask),e.processCode.length||(t=I.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,w.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.attachment=t.attachment,e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.CostList=[];var a=t.formData;e.projectName=a.order.project,e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,r.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),a.order.dataSet.forEach(function(t){var a={costName:t.costName_expCode,costCode:t.expCode,costType:t.costType_expCode,expSubject:t.expSubject,price:t.tdAmount,reson:t.expCause,comment:t.comment,tdId:t.tdId};e.CostList.push(a)}),e.$loading.hide()})},hasDraftData:function(){return!!this.projectName&&(0,o.default)({},"FYBX_DATA",{cost:this.CostList,formData:this.formData,projectName:this.projectName})},getRelationData:function(){var e=this;return(0,x.findProjectApproval)(this.relationKey).then(function(t){var a=t.formData,n=void 0===a?{}:a;t.attachment;e.projectName=n.approval.projectName,e.defaultProject={PROJECT_NAME:e.projectName}})}},created:function(){var e=sessionStorage.getItem("FYBX_DATA");if(e){var t=JSON.parse(e);this.CostList=t.cost,this.formData=t.formData,this.projectName=t.projectName,this.defaultProject={PROJECT_NAME:this.projectName},sessionStorage.removeItem("FYBX_DATA")}}}},YaEn:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("rudh"),o=n(s),l=a("KGCO"),d=n(l),u=a("bjWb"),c=n(u),f=a("864G"),m=n(f);o.default.use(d.default);var h=new d.default({mode:"history",base:"/Hermes",routes:[].concat((0,r.default)(c.default),(0,r.default)(m.default))});t.default=h},YeAG:function(e,t){},YeCH:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages xmlx-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-manager-list",{attrs:{defaultValue:e.defaultManager},on:{"sel-item":e.selManager}}),e._v(" "),a("r-picker",{attrs:{title:"项目大类",data:e.typeList,mode:"3",placeholder:"请选择项目大类","has-border":!1,required:""===e.ProjectApproval.projectType},on:{"on-change":e.projectBigChange},model:{value:e.ProjectApproval.projectType,callback:function(t){e.$set(e.ProjectApproval,"projectType",t)},expression:"ProjectApproval.projectType"}}),e._v(" "),a("r-picker",{attrs:{title:"项目子类",data:e.subclassList,mode:"3",placeholder:"请选择项目子类","has-border":!1},model:{value:e.ProjectApproval.projectSubclass,callback:function(t){e.$set(e.ProjectApproval,"projectSubclass",t)},expression:"ProjectApproval.projectSubclass"}}),e._v(" "),a("div",{staticClass:"materiel_list mg_auto"},[a("div",{staticClass:"title"},[e._v("项目立项明细")]),e._v(" "),a("group",{on:{"group-title-margin-top":function(e){}}},[a("x-input",{attrs:{title:"项目名称","text-align":"right",placeholder:"请填写"},model:{value:e.ProjectApproval.projectName,callback:function(t){e.$set(e.ProjectApproval,"projectName",t)},expression:"ProjectApproval.projectName"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("项目名称")])])],2),e._v(" "),a("x-input",{attrs:{title:"预算收入",type:"number","text-align":"right",placeholder:"请填写"},on:{"on-blur":function(t){e.checkAmt("budgetIncome",t)}},model:{value:e.ProjectApproval.budgetIncome,callback:function(t){e.$set(e.ProjectApproval,"budgetIncome",e._n(t))},expression:"ProjectApproval.budgetIncome"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("预算收入")])])],2),e._v(" "),a("x-input",{attrs:{title:"预算成本",type:"number","text-align":"right",placeholder:"请填写"},on:{"on-blur":function(t){e.checkAmt("budgetCapital",t)}},model:{value:e.ProjectApproval.budgetCapital,callback:function(t){e.$set(e.ProjectApproval,"budgetCapital",e._n(t))},expression:"ProjectApproval.budgetCapital"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("预算成本")])])],2),e._v(" "),a("x-input",{attrs:{title:"预算费用",type:"number","text-align":"right",placeholder:"请填写"},on:{"on-blur":function(t){e.checkAmt("budgetCost",t)}},model:{value:e.ProjectApproval.budgetCost,callback:function(t){e.$set(e.ProjectApproval,"budgetCost",e._n(t))},expression:"ProjectApproval.budgetCost"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("预算费用")])])],2),e._v(" "),a("datetime",{attrs:{title:"预期开始日期"},model:{value:e.ProjectApproval.expectStartDate,callback:function(t){e.$set(e.ProjectApproval,"expectStartDate",t)},expression:"ProjectApproval.expectStartDate"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("预期开始日期")])])],2),e._v(" "),a("datetime",{attrs:{title:"预期截止日期"},model:{value:e.ProjectApproval.expectEndDate,callback:function(t){e.$set(e.ProjectApproval,"expectEndDate",t)},expression:"ProjectApproval.expectEndDate"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("预期截止日期")])])],2),e._v(" "),a("cell",{attrs:{title:"预算利润",value:e.profit}}),e._v(" "),a("cell",{attrs:{title:"预算利润率",value:e.profitMargin}}),e._v(" "),a("x-textarea",{attrs:{title:"项目说明",max:200},model:{value:e.ProjectApproval.comment,callback:function(t){e.$set(e.ProjectApproval,"comment",t)},expression:"ProjectApproval.comment"}})],1)],1),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"其他信息"}},[a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1),e._v(" "),a("upload-file",{on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"cfm_btn",on:{click:e.save}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},YjUH:function(e,t,a){"use strict";function n(e){a("yhA5")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("J8tP");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Wdtp"),o=a.n(s),l=a("+LcB"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-950dbce6",null);t.default=c.exports},YkGp:function(e,t,a){"use strict";function n(e){a("gG8f")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("ceHg");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("WAdr"),o=a.n(s),l=a("FLuL"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-7837959e",null);t.default=c.exports},Ylii:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages fgysqk-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{"dealer-label-name":"往来",request:"2","default-value":e.dealerInfo},on:{"sel-item":e.selDealer}},[a("template",{slot:"other"},[a("div",{staticClass:"amt-dealer"},[a("span",{staticClass:"amt-dealer-item"},[e._v("本次收汇票: "+e._s(e.thenTotalAmntBal))])])])],2),e._v(" "),a("div",{staticClass:"materiel_list"},[e.orderList.length?[a("div",{staticClass:"title"},[e._v("汇票明细")]),e._v(" "),e._l(e.orderList,function(t,n){return a("div",{key:n,staticClass:"order-detail",class:{"vux-1px-t":0!==n}},[a("div",{staticClass:"detail-item top"},[a("span",{staticClass:"info-item"},[e._v(e._s(t.draftNumber))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"info-item"},[e._v("类型: "+e._s(t.draftType))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("承兑人: "+e._s(t.accepter))])]),e._v(" "),a("x-input",{attrs:{"text-align":"right",placeholder:"请填写",type:"number"},on:{"on-blur":function(a){e.checkAmt(t,"tdAmount")},"on-focus":function(t){e.getFocus(t)}},model:{value:t.tdAmount,callback:function(a){e.$set(t,"tdAmount",e._n(a))},expression:"item.tdAmount"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("金额")])])],2),e._v(" "),a("datetime",{model:{value:t.draftDate,callback:function(a){e.$set(t,"draftDate",a)},expression:"item.draftDate"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("出票日")])])],2),e._v(" "),a("datetime",{model:{value:t.draftDueDate,callback:function(a){e.$set(t,"draftDueDate",a)},expression:"item.draftDueDate"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("到期日")])])],2),e._v(" "),a("datetime",{model:{value:t.draftSellDate,callback:function(a){e.$set(t,"draftSellDate",a)},expression:"item.draftSellDate"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("出让日期")])])],2),e._v(" "),a("x-input",{attrs:{title:"说明","text-align":"right",placeholder:"请填写"},model:{value:t.comment,callback:function(a){e.$set(t,"comment",a)},expression:"item.comment"}})],1)})]:a("div",{staticClass:"order-info",on:{click:function(t){e.showOrder=!0}}},[a("div",{staticClass:"title"},[e._v("汇票明细")]),e._v(" "),a("div",{staticClass:"mode"},[e._v("请选择汇票明细")]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r-arrow"})])],2),e._v(" "),e.orderList.length?a("div",{staticClass:"handle_part vx-1px-t"},[e.orderList.length?a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多")]):e._e()]):e._e(),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"其他信息"}},[a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-money-order-list",{attrs:{show:e.showOrder,"default-value":e.orderList},on:{"sel-item":e.selOrder},model:{value:e.showOrder,callback:function(t){e.showOrder=t},expression:"showOrder"}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},Ylj6:function(e,t,a){"use strict";function n(e){a("ELRb")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("/QQc");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("c6ZO"),o=a.n(s),l=a("pg4D"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-c6769d20",null);t.default=c.exports},YmAS:function(e,t,a){"use strict";function n(e){a("gXdk")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Rw15");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("xyHp"),o=a.n(s),l=a("Gwjb"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-819d9026",null);t.default=c.exports},Yn2B:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages cpxq-list-container",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"instance-item-wrapper",class:{visited:t.visited},on:{click:function(a){e.goDetail(t,n)}}},[a("div",{staticClass:"instance-header"},[a("span",{staticClass:"instance_code vux-1px-l"},[e._v(e._s(t.transCode))]),e._v(" "),a("span",{staticClass:"instance_status",class:t.statusClass},[e._v(e._s(t.biStatus))])]),e._v(" "),a("div",{staticClass:"instance-main"},[a("i",{staticClass:"icon icon-send"}),e._v(" "),a("div",{staticClass:"instance_info_wrapper"},[a("div",{staticClass:"instance_header_wrapper"},[a("span",{staticClass:"instance_header"},[e._v(e._s(t.launchTitle))]),e._v(" "),a("span",{staticClass:"instance_process_status"},[e._v(e._s(t.biProcessStatus||"暂无流程"))])]),e._v(" "),a("div",{staticClass:"instance_detail"},[a("div",{staticClass:"instance_detail_item"},[a("i",{staticClass:"icon icon-handler"}),e._v(" "),a("span",[e._v("经办人："+e._s(t.handlerName))])]),e._v(" "),a("div",{staticClass:"instance_detail_item"},[a("i",{staticClass:"icon icon-mod-time"}),e._v(" "),a("span",[e._v("修改时间："+e._s(e._f("dateFormat")(t.modTime,"YYYY-MM-DD HH:mm")))])])])])])])}),0)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},YsWd:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages bdkcdb-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-warehouse-list",{attrs:{title:"出库仓库","default-value":e.warehouse,isRequired:""},on:{"sel-item":e.selWarehouseOut}}),e._v(" "),a("pop-warehouse-list",{attrs:{title:"入库仓库","default-value":e.warehouseIn,isRequired:""},on:{"sel-item":e.selWarehouseIn}}),e._v(" "),a("div",{staticClass:"materiel_list"},[e.matterList.length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.matterList,function(t,n){return a("div",{key:n,staticClass:"each_mater",class:{mater_delete:e.matterModifyClass,"vux-1px-b":n<e.matterList.length-1}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass,config:e.matterEditConfig.property},on:{"on-modify":function(a){e.modifyMatter(t,n)}},nativeOn:{click:function(a){e.delClick(n,t)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:n.tdQty,expression:"item.tdQty"}],staticClass:"mater_other"},[a("span",{staticClass:"matter-remain"},[a("span",{staticClass:"symbol"},[e._v("调拨数量: ")]),e._v(e._s(n.tdQty)+"\n                    ")])])]}},{key:"edit",fn:function(t){var i=t.item;return[i.tdQty||e.matterModifyClass?e._e():a("div",{staticClass:"mater_other",on:{click:function(t){e.modifyMatter(i,n)}}},[a("div",{staticClass:"edit-tips"},[e._v("点击进行填写")])])]}}])}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.matterModifyClass,expression:"matterModifyClass"}],staticClass:"delete_icon ",on:{click:function(a){e.delClick(n,t)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])])],1)}),0)]:[a("div",{on:{click:function(t){e.showMaterielPop=!e.showMaterielPop}}},[a("div",{staticClass:"title"},[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),a("div",{staticClass:"tips"},[e._v("请选择"+e._s(e.orderListTitle))]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),this.actions.includes("stop")?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),e.matterList.length?a("span",{staticClass:"add_more",on:{click:e.addMatter}},[e._v("新增更多物料")]):e._e()]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showMaterielPop,"default-value":e.matterList,config:e.matterPopConfig,"matter-params":e.matterParams},on:{"sel-matter":e.selMatter},model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}})],2),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,config:e.matterEditConfig},on:{"sel-confirm":e.selConfirm},model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode"},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-circle-outline 'outline' v-show=selItems.length !== matterList.length",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"btn-item",on:{click:e.save}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},YtHB:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,"dealer-params":e.dealerParams,dealerTitle:"供应商","default-contact":e.contactInfo},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("dealer-other-part",{attrs:{"dealer-config":e.dealerConfig,"dealer-info":e.dealerInfo}}),e._v(" "),a("div",{staticClass:"materiel_list"},[e.matterList.length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.matterList,function(t,n){return a("div",{key:n,staticClass:"each_mater",class:{mater_delete:e.matterModifyClass,"vux-1px-b":n<e.matterList.length-1}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass,config:e.matterEditConfig.property},on:{"on-modify":function(a){e.modifyMatter(t,n)}},nativeOn:{click:function(a){e.delClick(t,n)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[n.price?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price)+"\n                    ")])]):e._e()]}},{key:"editPart",fn:function(t){var i=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:i.price&&!e.matterModifyClass,expression:"item.price && !matterModifyClass"}],staticClass:"edit-part vux-1px-l",on:{click:function(t){e.modifyMatter(i,n)}}},[a("span",{staticClass:"iconfont icon-bianji1"})])]}},{key:"edit",fn:function(t){var i=t.item;return[i.price||e.matterModifyClass?e._e():a("div",{staticClass:"mater_other",on:{click:function(t){e.modifyMatter(i,n)}}},[a("div",{staticClass:"edit-tips"},[a("span",{staticClass:"tips-word"},[e._v("点击进行填写")])])])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(t,n)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)}),0)]:[a("div",{on:{click:function(t){e.showMaterielPop=!e.showMaterielPop}}},[a("div",{staticClass:"title"},[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择"+e._s(e.orderListTitle))]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),e.matterList.length?a("span",{staticClass:"add_more",on:{click:e.addMatter}},[e._v("新增更多物料")]):e._e()]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showMaterielPop,"default-value":e.matterList,"matter-params":e.matterParams,config:e.matterPopConfig},on:{"sel-matter":e.selMatter},model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}})],2),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,"is-check-stock":!1,config:e.matterEditConfig},on:{"sel-confirm":e.selConfirm},model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},YzAp:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.contactInfo}},[a("template",{slot:"other"},[a("div",{staticClass:"other"},[a("span",{staticClass:"title"},[e._v("账期天数: ")]),e._v(" "),a("span",{staticClass:"mode"},[e._v(e._s(e.contactInfo.daysOfAccount))])]),e._v(" "),a("div",{staticClass:"other_content vux-1px-t"},[this.contactInfo.thenTotalAmntBal||0===this.contactInfo.thenTotalAmntBal?a("div",{staticClass:"trade_info s_size_name"},[a("span",{staticClass:"title"},[e._v("协议总金额: ")]),e._v(" "),a("span",{staticClass:"mode"},[e._v(e._s("￥"+this.contactInfo.thenTotalAmntBal))])]):e._e(),e._v(" "),this.contactInfo.executionDate?a("div",{staticClass:"trade_info s_size_name"},[a("span",{staticClass:"title"},[e._v("协议开始日: ")]),e._v(" "),a("span",{staticClass:"mode"},[e._v(e._s(this.contactInfo.executionDate))])]):e._e(),e._v(" "),this.contactInfo.validUntil?a("div",{staticClass:"trade_info s_size_name"},[a("span",{staticClass:"title"},[e._v("协议到期日: ")]),e._v(" "),a("span",{staticClass:"mode"},[e._v(e._s(this.contactInfo.validUntil))])]):e._e(),e._v(" "),this.contactInfo.tdAmountCopy1||0===this.contactInfo.tdAmountCopy1?a("div",{staticClass:"trade_info s_size_name"},[a("span",{staticClass:"title"},[e._v("预付款: ")]),e._v(" "),a("span",{staticClass:"mode"},[e._v(e._s("￥"+this.contactInfo.tdAmountCopy1))])]):e._e(),e._v(" "),this.contactInfo.prepaymentDueDate?a("div",{staticClass:"trade_info s_size_name"},[a("span",{staticClass:"title"},[e._v("预付到期日: ")]),e._v(" "),a("span",{staticClass:"mode"},[e._v(e._s(this.contactInfo.prepaymentDueDate))])]):e._e()])])],2),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"matter-list":e.orderInfo.order.dataSet,noTaxAmount:e.noTaxAmount,taxAmount:e.taxAmount,count:e.count},scopedSlots:e._u([{key:"matterOther",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("单价: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.price),3)))]),e._v(" "),a("span",[e._v("数量: "+e._s(e._f("toFixed")(n.tdQty)))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.taxRate,expression:"item.taxRate"}]},[e._v("税率: "+e._s(n.taxRate))])]),e._v(" "),n.purchaseDay?a("div",{staticClass:"mater_attribute"},[a("span",[e._v("采购需求日期: "+e._s(n.purchaseDay))])]):e._e(),e._v(" "),a("div",{staticClass:"mater_price"},[a("span",[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(n.tdAmount),3)))]),e._v(" "),n.taxRate?a("span",{staticClass:"num",style:{display:n.tdAmount&&n.tdAmount.toString().length>=5?"block":""}},[e._v("\n                [金额: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.noTaxAmount),3))+" + 税金: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.taxAmount),3))+"]\n              ")]):e._e()])])]}}])}),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},"Z/nY":function(e,t,a){"use strict";function n(e){a("CPdU")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("GlWL");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("XlK6"),o=a.n(s),l=a("MK4C"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-d2f962cc",null);t.default=c.exports},Z3gt:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=(a("XAqG"),a("HyXB"),a("MjAd")),o=n(s),l=a("ak47");n(l);t.default={name:"CPXQ_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"经办人",value:"handlerName"},{name:"交易号",value:"transCode"}],listViewID:2335}},mixins:[o.default],methods:{pathChange:function(e,t,a){var n=this;if(!this.clickVisited){var i=e.transCode,s=this.$route.query.name,o=this.$route.params,l=o.folder,d=o.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,r.default)({},e));var u=a+"/"+l+"/"+d;setTimeout(function(){n.clickVisited=!1,n.$router.push({path:u,query:{name:s,transCode:i}})},200)}},goDetail:function(e,t){this.pathChange(e,t,"/detail")},goUserEdit:function(e,t){this.pathChange(e,t,"/fillform")}}}},Z5v5:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.register=a("/Pqc").default;t.default={register:n}},Z6x5:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDepartMentWage=t.getAllRoleInfo=t.getAllGroup=void 0;var n=a("GOq4"),i=function(e){return e&&e.__esModule?e:{default:e}}(n),r=t.getAllGroup=function(){return i.default.ajax({url:"/H_roleplay-si/ds/getAllGroup",data:{page:1,start:0,limit:1e3}})},s=t.getAllRoleInfo=function(){return i.default.ajax({url:"/H_roleplay-si/ds/getAllRoleInfo",data:{page:1,start:0,limit:1e3}})};t.getDepartMentWage=function(){return i.default.ajax({url:"/H_roleplay-si/ds/getDepartMentWage",data:{page:1,start:0,limit:1e3}})};t.default={getAllGroup:r,getAllRoleInfo:s}},Z77n:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("rVsN"),r=n(i),s=a("lC5x"),o=n(s),l=a("IHPB"),d=n(l),u=a("3cXf"),c=n(u),f=a("J0Oq"),m=n(f),h=a("4YfN"),v=n(h),p=a("kNGm"),C=n(p),y=a("0AQX"),_=a("HyXB"),g=a("ak47"),b=n(g),w=a("GvUu"),I=n(w);t.default={data:function(){return{listId:"",transCode:"",RelatedAppList:[],swiper:null,taskType:""}},methods:{getAppExampleDetails:function(){var e=this;return(0,y.getAppExampleDetails)({transCode:this.transCode,listId:this.listId}).then(function(t){t.relevantItems.forEach(function(t){if(b.default[t.listId]){t.isrelated=!1,I.default[e.taskType]&&I.default[e.taskType][t.listId]&&(t.isrelated=!0);var a=t.content.map(function(e){return e.transCode}).join(",");e.RelatedAppList.push((0,v.default)({},t,{page:1,limit:10,defaultFilter:a,icon:t.icon?"/dist/"+t.icon:""}))}})})},getViewId:function(e){return(0,y.getListView)({listId:e}).then(function(e){return e[0].id})},getRelatedList:function(e){var t=this;return(0,m.default)(o.default.mark(function a(){var n,i,r,s,l,u,f,m,h,v;return o.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.listId,i=void 0===n?"":n,r=e.defaultFilter,s=void 0===r?"":r,l=e.page,u=void 0===l?1:l,f=e.limit,m=void 0===f?10:f,a.next=3,t.getViewId(i);case 3:return h=a.sent,v=[{property:"transCode",operator:"in",value:s}],a.abrupt("return",(0,_.getList)(h,{limit:m,page:u,start:(u-1)*m,filter:(0,c.default)(v)}).then(function(a){var n=a.dataCount,i=void 0===n?0:n,r=a.tableContent,s=void 0===r?[]:r;e.hasNext=i>(u-1)*m+s.length;var o=1===u?s:[].concat((0,d.default)(e.relatedList),(0,d.default)(s));t.$set(e,"relatedList",o)}));case 6:case"end":return a.stop()}},a,t)}))()},goDetail:function(e,t){var a=e.parentNav,n=e.listId;this.$router.push({path:"/detail/"+a+"/"+n,query:{name:t.transTypeName,transCode:t.transCode,fromRalted:!0}})},goRelation:function(e){var t=this.$route.query.uniqueId,a=e.parentNav,n=(e.file,e.transName);this.$router.push({path:"/fillform/"+a+"/"+fileName,query:{name:n,uniqueId:t,relationKey:this.transCode}})}},filters:{dateFormat:C.default},created:function(){var e=this;this.$loading.show(),this.listId=this.$route.params.listId,this.transCode=this.$route.query.transCode,this.transCode&&(this.taskType=this.transCode.split("_")[0]),(0,m.default)(o.default.mark(function t(){var a;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getAppExampleDetails();case 2:a=[],e.RelatedAppList.forEach(function(t){a.push(e.getRelatedList(t))}),r.default.all(a).then(function(){e.$nextTick(function(){e.swiper=new e.Swiper(".swiper_related",{slidesPerView:"auto",centeredSlides:!0,observer:!0,observeParents:!0})}),e.$loading.hide()});case 5:case"end":return t.stop()}},t,e)}))()}}},ZALv:function(e,t){},ZCI5:function(e,t,a){"use strict";function n(e){a("9HrF")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("SpJC");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("o2EC"),o=a.n(s),l=a("zlTd"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},ZFcT:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[Object.keys(e.orderList).length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n){return a("div",{key:n,staticClass:"each_mater"},[t.length?a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v(e._s(e.orderListTitle))]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]):e._e(),e._v(" "),e._l(t,function(t,i){return a("div",{key:i,class:{mater_delete:e.matterModifyClass}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass,config:e.matterEditConfig.property},on:{"on-modify":function(a){e.modifyMatter(t,i,n)}},nativeOn:{click:function(a){e.delClick(i,t)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[n.tdQty?a("div",{staticClass:"mater_other"},[a("span",[e._v("\n                        本次申请: "),a("span",{staticClass:"mater_price"},[e._v(e._s(n.tdQty))])])]):e._e()]}},{key:"edit",fn:function(t){var r=t.item;return[r.tdQty||e.matterModifyClass?e._e():a("div",{staticClass:"mater_other",on:{click:function(t){e.modifyMatter(r,i,n)}}},[a("div",{staticClass:"edit-tips"},[a("span",{staticClass:"tips-word"},[e._v("点击进行填写")])])])]}},{key:"editPart",fn:function(t){var r=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r.tdQty&&!e.matterModifyClass,expression:"item.tdQty &&!matterModifyClass"}],staticClass:"edit-part vux-1px-l",on:{click:function(t){e.modifyMatter(r,i,n)}}},[a("span",{staticClass:"iconfont icon-bianji1"})])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(i,t)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)})],2)}),0)]:[a("div",{on:{click:function(t){e.showMaterielPop=!e.showMaterielPop}}},[a("div",{staticClass:"title"},[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择"+e._s(e.orderListTitle))]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),e.matterList.length?a("span",{staticClass:"add_more",on:{click:e.addMatter}},[e._v("新增更多物料")]):e._e()]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showMaterielPop,"default-value":e.matterList,config:e.matterPopConfig,"matter-params":e.matterParams,"order-title":e.matterPopOrderTitle,"filter-list":e.filterList},on:{"sel-matter":e.selMatter},model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}})],2),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,config:e.matterEditConfig},on:{"sel-confirm":e.selConfirm},model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-circle-outline 'outline' v-show=selItems.length !== matterList.length",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num"},[a("span",{staticClass:"total_price"},[a("span",{staticStyle:{fontSize:".14rem"}},[e._v("合计: ")]),e._v(e._s(e.totalNum)+"\n      ")])]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},ZIQC:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("a3Yh"),o=n(s),l=a("4YfN"),d=n(l),u=a("MgeX"),c=n(u),f=a("IHPB"),m=n(f),h=a("3cXf"),v=n(h),p=a("HXPS"),C=n(p),y=a("SAzG"),_=n(y),g=a("PzEQ"),b=n(g),w=a("BGNQ"),I=n(w),x=a("z5TY"),D=n(x),P=a("0AQX"),S=a("HyXB"),k=a("bKg5"),L=n(k),N=a("vl8n"),M=n(N),T=a("9cRV"),A=n(T),O=a("ZQWM"),R=(n(O),a("yt3/")),j=(n(R),a("luHD")),B=n(j),E=a("zlAJ"),F=n(E),U=a("+WR7"),$=n(U),Q=a("VZtf"),H=n(Q),V=a("zWMP"),q=a("Qg39");t.default={data:function(){return{listId:"4472a646-f2c8-4a07-bad6-4c01f0b9292f",matterList:[],showMaterielPop:!1,transCode:"",formData:{biComment:""},priceMap:{},consumables:{},checkFieldList:[{key:"tdQty",message:"请填写本次申请数量"},{key:"price",message:"请填写估计价格"}]}},components:{Icon:C.default,XInput:_.default,RPicker:M.default,XTextarea:b.default,Group:D.default,PopMatterList:A.default,PopMatter:B.default,UploadFile:F.default,PopBaseinfo:$.default,Cell:I.default,RNumber:H.default},mixins:[L.default],computed:{totalAmount:function(){var e=this,t=0;return this.matterList.forEach(function(a){e.simpleCalcMatter(a),t=(0,V.accAdd)(t,a.noTaxAmount)}),Number(t)},taxAmount:function(){var e=0;return this.matterList.forEach(function(t){e=(0,q.toFixed)((0,V.accAdd)(e,t.taxAmount))}),e},tdAmount:function(){return parseFloat((0,V.accAdd)(this.totalAmount,Number(this.taxAmount)).toFixed(2))}},watch:{consumables:{handler:function(e){this.simpleCalcMatter(e)},deep:!0}},methods:{modifyMatter:function(e,t,a){this.consumables=JSON.parse((0,v.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,v.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},selMatter:function(e){var t=JSON.parse(e);t.forEach(function(e){e.price=e.price||"",e.tdQty=e.tdQty||""}),this.matterList=[].concat((0,m.default)(t))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},save:function(){var e=this,t="",a=[];if([{key:"matterList",message:"物料"}].every(function(a){return!!(0,c.default)(e[a.key]).length||(t="请选择"+a.message,!1)}),this.matterList.every(function(n){if(!n.tdQty)return t="请输入本次申请数量",!1;if(!n.price)return t="请输入估计价格",!1;var i={transObjCode:n.inventoryCode,inventoryName_transObjCode:n.inventoryName,tdProcessing:n.processing,specification_transObjCode:n.specification,measureUnit_transObjCode:n.measureUnit,assMeasureUnit:n.assMeasureUnit||null,assMeasureScale:n.assMeasureScale||null,assistQty:n.assistQty||0,tdQty:n.tdQty,price:n.price,tdAmount:n.tdAmount,comment:n.comment||null};return e.transCode&&(i.tdId=n.tdId||""),a.push(i),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=S.saveAndStartWf,n=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,order:{dataSet:a}}),i={listId:e.listId,biComment:"",formData:(0,v.default)(n),wfPara:(0,v.default)((0,o.default)({},e.processCode,{businessKey:e.businessKey,createdBy:n.creator}))};e.transCode&&(t=S.saveAndCommitTask,i.biReferenceId=e.biReferenceId,i.wfPara=(0,v.default)({businessKey:e.transCode,createdBy:n.creator,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=S.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var u=[];e.attachment=l;var c=s.order,f=c.dataSet,m=void 0===f?[]:f,h=!0,v=!1,p=void 0;try{for(var C,y=(0,r.default)(m);!(h=(C=y.next()).done);h=!0){var _=C.value;_=(0,d.default)({},_,{inventoryPic:_.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:_.inventoryName_transObjCode,inventoryCode:_.inventoryCode_transObjCode,specification:_.specification_transObjCode,processing:_.tdProcessing,measureUnit:_.measureUnit_transObjCode,inventoryColor:_.inventoryColor_transObjCode}),u.push(_)}}catch(e){v=!0,p=e}finally{try{!h&&y.return&&y.return()}finally{if(v)throw p}}e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:s.biComment,biId:s.biId,biProcessStatus:s.biProcessStatus,creator:s.creator,modifer:s.modifer}),e.biReferenceId=s.biReferenceId,e.matterList=u,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,o.default)({},"DZYHPCGSQ_DATA",{matter:this.matterList,formData:this.formData})},checkAmt:function(e){var t=e.tdQty,a=e.price;t=Math.abs((0,q.toFixed)(t)),a=Math.abs((0,q.toFixed)(a)),t&&(e.tdQty=t,e.tdAmount=(0,q.toFixed)((0,V.accMul)(t,a))),a&&(e.price=a,e.tdAmount=(0,q.toFixed)((0,V.accMul)(t,a)))}},created:function(){var e=sessionStorage.getItem("DZYHPCGSQ_DATA");e&&(this.matterList=JSON.parse(e).matter,this.formData=JSON.parse(e).formData,sessionStorage.removeItem("DZYHPCGSQ_DATA"))}}},ZKwe:function(e,t,a){"use strict";function n(e){a("qjSg")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("JVZc");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Iw/D"),o=a.n(s),l=a("b3Lv"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-735237ec",null);t.default=c.exports},ZOHQ:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("project-part",{attrs:{"project-info":e.orderInfo.order}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_part"},[e._m(0),e._v(" "),e._l(e.orderInfo.order.dataSet,function(t,n){return a("div",{key:n,staticClass:"form_content",class:{show_border:n!==e.orderInfo.order.dataSet.length-1}},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"名称",cellContent:t.costName_expCode,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"编码",cellContent:t.expCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"科目",cellContent:t.expSubject}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"申请金额",showSymbol:"",cellContent:e._f("numberComma")(e._f("toFixed")(t.tdAmount),3)}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"报销事由",cellContent:t.expCause}})],1)])})],2),e._v(" "),a("div",{staticClass:"price_cell vux-1px-t"},[a("div",{staticClass:"price_title"},[a("span",[e._v("报销人: ")]),e._v(" "),a("span",{staticClass:"people_name"},[e._v(e._s(e.orderInfo.creatorName))])]),e._v(" "),a("div",[a("span",{staticClass:"title"},[e._v("合计:")]),e._v(" "),a("span",{staticClass:"num"},[a("span",{staticStyle:{fontSize:".12rem"}},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(e.count),3)))])])]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("费用列表")])])}],r={render:n,staticRenderFns:i};t.a=r},ZQWM:function(e,t,a){"use strict";function n(e){a("d3XY")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("EVt+");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("hhSo"),o=a.n(s),l=a("0cVs"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-0bb2904e",null);t.default=c.exports},ZTs6:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"6b6a6f40-ea86-4e72-a451-69a9a3b2e28c":"contacts","7dab9bd1-f51d-4b09-afc0-3d5c732ca219":"plan","fb200d08-4289-44dc-81e1-1fddec997c5e":"production","a32759e8-a3ad-47a6-a030-f33daea8b433":"product","43b07f14-4ae5-4804-a80e-ef06ce26fb0b":"sale","406f7db3-af5a-45ae-8641-576fa33b0471":"delivery","a0a66a68-b351-4c19-b837-e168cbf48019":"purchase","9e5a7193-f2eb-4b99-9849-8fe6c6ae3713":"stock","7218d31d-88f4-45bc-82c2-6d4a1c766821":"finance","27d28ff5-2e04-4881-a159-2b38f10ce7e4":"consumable","4a1e1cce-186a-46b6-acb7-fbd5febf578b":"equipment","f3d819ee-8f77-47d0-81f1-e986841e51eb":"finance","26d75e08-2c82-4e1a-ad51-b788b026428a":"project","752bfc20-9cbf-4552-b2a4-77b2c46eb2d1":"invoice","c09c6397-c685-4fb8-ac9e-bd554ab6bc52":"hr"}},ZUdS:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper xsbj-detail-container"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.contactInfo,validUntil:""}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"matter-list":e.orderInfo.order.dataSet},scopedSlots:e._u([{key:"matterOther",fn:function(t){var n=t.item;return a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("属性: "+e._s(n.processing_transObjCode))]),e._v(" "),a("span",[e._v("单位: "+e._s(n.measureUnit_transObjCode))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.taxRate,expression:"item.taxRate"}]},[e._v("税率: "+e._s(n.taxRate))])]),e._v(" "),a("div",{staticClass:"mater_attribute"},[a("span",[e._v("需求数量: "+e._s(n.tdQty))]),e._v(" "),a("span",[e._v("本次报价: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.price),3)))])]),e._v(" "),a("div",{staticClass:"mater_price"},[a("span",[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(n.tdAmount),3)))]),e._v(" "),n.taxRate?a("span",{staticClass:"num",style:{display:n.tdAmount&&n.tdAmount.toString().length>=5?"block":""}},[e._v("\n                [金额: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.noTaxAmount),3))+" + 税金: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.taxAmount),3))+"]\n              ")]):e._e()])])}}])}),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},ZVeX:function(e,t,a){"use strict";function n(e){a("/nUN")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Zv+r");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("CoE1"),o=a.n(s),l=a("68lI"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-03a796a3",null);t.default=c.exports},ZXlx:function(e,t){},ZYtr:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},ZaIh:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("r-search",{attrs:{filterList:e.filterList,isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"order-list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"order-item",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"order-code"},[a("span",{staticClass:"order-title"},[e._v("交易号")]),e._v(" "),a("span",{staticClass:"order-num"},[e._v(e._s(t.transCode))])]),e._v(" "),a("div",{staticClass:"order-top"},[t.orderCode?a("span",{staticClass:"order-top-item"},[e._v("订单号: "+e._s(t.orderCode))]):e._e(),e._v(" "),t.warehouseName?a("span",{staticClass:"order-top-item"},[e._v("仓库: "+e._s(t.warehouseName))]):e._e()]),e._v(" "),a("div",{staticClass:"order-matter"},[a("div",{staticClass:"mater_img"},[a("img",{attrs:{src:t.inventoryPic,alt:"mater_img"},on:{error:function(a){e.getDefaultImg(t)}}})]),e._v(" "),a("div",{staticClass:"mater_main "},[a("div",{staticClass:"mater_name"},[e._v("\n                "+e._s(t.inventoryName)+"\n              ")]),e._v(" "),a("div",{staticClass:"mater_info"},[a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline",staticStyle:{display:"inline-block"}},[a("div",{staticClass:"mater_code"},[a("span",{staticClass:"title"},[e._v("编码")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(t.inventoryCode))])])]),e._v(" "),a("div",{staticClass:"ForInline",staticStyle:{display:"inline-block"}},[a("div",{staticClass:"mater_spec"},[a("span",{staticClass:"title"},[e._v("规格")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(t.specification||"无"))])])])]),e._v(" "),a("div",{staticClass:"withoutColor"},[a("div",{staticClass:"mater_classify"},[a("span",{staticClass:"type"},[e._v("属性: "+e._s(t.processing))]),e._v(" "),a("span",{staticClass:"father"},[e._v("大类: "+e._s(t.inventoryType||"无"))]),e._v(" "),a("span",{staticClass:"child"},[e._v("子类: "+e._s(t.inventorySubclass||"无"))])]),e._v(" "),a("div",{staticClass:"mater_material"},[e._t("qtyBal",null,{item:t})],2),e._v(" "),e._t("qtyStock",[a("div",{staticClass:"mater-balance"},[e._v("余额: "+e._s(t.qtyBal)+e._s(t.measureUnit))])],{item:t})],2)])])]),e._v(" "),a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-circle-outline selIcon",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1),e._v(" "),a("div",{staticClass:"count_mode vux-1px-t"},[a("span",{staticClass:"count_num"},[e._v(" "+e._s(e.tmpItems.length?"已选 "+e.tmpItems.length+" 个":"请选择")+" ")]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.selConfirm}},[e._v("确定")])])])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},Zbco:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("a3Yh"),o=n(s),l=a("MgeX"),d=n(l),u=a("IHPB"),c=n(u),f=a("KH7x"),m=n(f),h=a("4YfN"),v=n(h),p=a("3cXf"),C=n(p),y=a("HXPS"),_=n(y),g=a("SAzG"),b=n(g),w=a("PzEQ"),I=n(w),x=a("kNGm"),D=n(x),P=a("BGNQ"),S=n(P),k=a("0AQX"),L=a("HyXB"),N=a("I3vJ"),M=a("bKg5"),T=n(M),A=a("vl8n"),O=n(A),R=a("9SNe"),j=n(R),B=a("kZy/"),E=n(B),F=a("y8YJ"),U=n(F),$=a("yt3/"),Q=n($),H=a("luHD"),V=n(H),q=a("zlAJ"),Y=n(q),X=a("+WR7"),G=n(X),W=a("VZtf"),z=n(W),K=a("Qg39"),J=a("zWMP");t.default={data:function(){return{listId:"58a607ce-fe93-4d26-a42e-a374f4662f1c",matterList:[],showMaterielPop:!1,transCode:"",dealerInfo:{},transMode:[],logisticsTerm:[],formData:{biComment:"",drDealerLogisticsTerms:"",validUntil:""},numMap:{},taxRate:.16,contactInfo:{}}},components:{Icon:_.default,XInput:b.default,RPicker:O.default,XTextarea:I.default,Cell:S.default,PopMatterList:E.default,PopDealerList:U.default,PopSingleSelect:Q.default,PopMatter:V.default,UploadFile:Y.default,PopBaseinfo:G.default,RDate:j.default,RNumber:z.default},mixins:[T.default],methods:{getPaymentTerm:function(){var e=this;return(0,L.getDictByType)("paymentTerm").then(function(t){var a=t.tableContent;e.transMode=a})},getLogisticsTerms:function(){var e=this;return(0,L.getDictByType)("dealerLogisticsTerms").then(function(t){var a=t.tableContent;e.logisticsTerm=a})},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,C.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=this;this.matterList.forEach(function(t){e.numMap[t.inventoryCode]=(0,v.default)({},t)}),this.showMaterielPop=!this.showMaterielPop},selDealer:function(e){var t=JSON.parse(e),a=(0,m.default)(t,1),n=a[0];this.dealerInfo=n},selContact:function(e){this.contactInfo=(0,v.default)({},e)},selMatter:function(e){var t=this,a=JSON.parse(e);a.forEach(function(e,a){var n=t.numMap[e.inventoryCode]||{},i=n.price,r=void 0===i?"":i,s=n.taxRate,o=void 0===s?t.taxRate:s,l=n.tdQty,d=void 0===l?"":l;e.tdQty=d,e.price=r,e.taxRate=o,e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null,t.getPriceRange(e,a)}),this.numMap={},this.matterList=[].concat((0,c.default)(a))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},save:function(){var e=this,t="",a=[];if([{key:"dealerInfo",message:"客户"},{key:"matterList",message:"物料"}].every(function(a){return!!(0,d.default)(e[a.key]).length||(t="请选择"+a.message,!1)}),this.matterList.every(function(n){var i=n.tdQty,r=n.price;if(!i&&0!==i)return t="请输入需求数量",!1;if(i<n.qtyDownline)return t="需求数量不能小于最小需求数量",!1;if(i>n.qtyOnline)return t="需求数量不能大于最大需求数量",!1;if(!r)return t="请输入本次报价",!1;if(r<n.specialReservePrice)return t="需求数量不能小于特批底价",!1;if(r>n.standardPrice)return t="需求数量不能大于标准价格",!1;var s=n.taxRate||e.taxRate,o=((0,J.accMul)(n.price,n.tdQty,s),{inventoryName_transObjCode:n.inventoryName,transObjCode:n.inventoryCode,tdProcessing:n.processing,assMeasureUnit:n.assMeasureUnit||null,assMeasureDescription:n.assMeasureDescription||null,assMeasureScale:n.assMeasureScale||null,tdQty:n.tdQty,assistQty:n.assistQty,standardPrice:n.standardPrice,specialReservePrice:n.specialReservePrice,price:n.price,tdAmount:n.tdAmount,taxRate:s,noTaxPrice:n.noTaxPrice,taxAmount:n.taxAmount,comment:n.comment||null});return e.transCode&&(o.tdId=n.tdId||""),a.push(o),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=L.saveAndStartWf,n=(0,m.default)(e.matterList,1),i=(n[0],(0,v.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,dealerDebitContactPersonName:e.contactInfo.dealerName||"",dealerDebitContactInformation:e.contactInfo.dealerMobilePhone||"",drDealerLogisticsTerms:e.dealerInfo.dealerLogisticsTerms,order:{dealerDebit:e.dealerInfo.dealerCode||"",drDealerLabel:e.dealerInfo.dealerLabelName,drDealerPaymentTerm:e.dealerInfo.paymentTerm,validUntil:e.formData.validUntil,dataSet:a}})),r={listId:e.listId,biComment:"",formData:(0,C.default)(i),wfPara:(0,C.default)((0,o.default)({},e.processCode,{businessKey:e.businessKey,createdBy:i.creator}))};e.transCode&&(t=L.saveAndCommitTask,r.biReferenceId=e.biReferenceId,r.wfPara=(0,C.default)({businessKey:e.transCode,createdBy:i.creator,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=L.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,k.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var d=[];e.attachment=l;var u=s.order,c=u.dataSet,f=void 0===c?[]:c,m=!0,h=!1,p=void 0;try{for(var C,y=(0,r.default)(f);!(m=(C=y.next()).done);m=!0){var _=C.value;_=(0,v.default)({},_,{inventoryPic:_.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:_.inventoryName_transObjCode,inventoryCode:_.inventoryCode_transObjCode,specification:_.specification_transObjCode,processing:_.processing_transObjCode,inventoryType:_.inventoryType_transObjCode,inventorySubclass:_.inventorySubclass_transObjCode,measureUnit:_.measureUnit_transObjCode,inventoryColor:_.inventoryColor_transObjCode,material:_.material_transObjCode}),d.push(_)}}catch(e){h=!0,p=e}finally{try{!m&&y.return&&y.return()}finally{if(h)throw p}}e.dealerInfo={creatorName:s.dealerDebitContactPersonName||"",dealerName:u.dealerName_dealerDebit||"",dealerMobilePhone:s.dealerDebitContactInformation||"",dealerCode:u.dealerDebit||"",dealerLabelName:u.drDealerLabel||"客户",province:u.province_dealerDebit||"",city:u.city_dealerDebit||"",county:u.county_dealerDebit||"",address:u.address_dealerDebit||"",paymentTerm:u.drDealerPaymentTerm,dealerLogisticsTerms:s.drDealerLogisticsTerms},e.contactInfo={dealerName:s.dealerDebitContactPersonName,dealerMobilePhone:s.dealerDebitContactInformation},e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,v.default)({},e.formData,e.handlerDefault,{biComment:s.biComment,biId:s.biId,biProcessStatus:s.biProcessStatus,creator:s.creator,modifer:s.modifer,validUntil:(0,D.default)(s.validUntil,"YYYY-MM-DD")}),e.biReferenceId=s.biReferenceId,e.matterList=d,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,o.default)({},"XSBJ_DATA",{matter:this.matterList,dealer:this.dealerInfo,formData:this.formData,contactInfo:this.contactInfo})},getPriceRange:function(e,t){var a=this;return(0,N.getPriceRange)({inventoryCode:e.inventoryCode}).then(function(n){var i=n.tableContent,r=(0,m.default)(i,1),s=r[0],o=void 0===s?{}:s;["qtyDownline","qtyOnline","specialReservePrice","standardPrice"].forEach(function(t){e[t]=o[t]||0}),a.$set(a.matterList,t,(0,v.default)({},e))})},checkQty:function(e){var t=e.qtyDownline,a=void 0===t?0:t,n=e.qtyOnline,i=void 0===n?0:n,r=e.tdQty;r<a&&(r=a),r>i&&(r=i),e.tdQty=Math.abs((0,K.toFixed)(r))},checkAmt:function(e){var t=e.standardPrice,a=void 0===t?0:t,n=e.specialReservePrice,i=void 0===n?0:n,r=e.price;r<i&&(r=i),r>a&&(r=a),e.price=Math.abs((0,K.toFixed)(r))},checkRate:function(e){e.taxRate=Math.abs((0,K.toFixed)(e.taxRate))}},created:function(){var e=sessionStorage.getItem("XSBJ_DATA");e&&(this.matterList=JSON.parse(e).matter,this.dealerInfo=JSON.parse(e).dealer,this.formData=JSON.parse(e).formData,this.contactInfo=JSON.parse(e).contactInfo,sessionStorage.removeItem("XSBJ_DATA"))}}},Zc5Q:function(e,t){},Zdcs:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("kNGm"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("44qn");t.default={name:"BasicInfo",props:{workFlowInfo:{type:Object,default:function(){return{}}},orderInfo:{type:Object,default:function(){return{}}}},data:function(){return{showMore:!1}},computed:{projectInfo:function(){var e=this.orderInfo.outPut,t=void 0===e?{}:e;return{projectName:t.project||"",projectType:t.projectType_project||""}}},filters:{dateFormat:i.default}}},ZhmJ:function(e,t,a){"use strict";function n(e){a("dMVy")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("foOz");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("VFFv"),o=a.n(s),l=a("GMSf"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-35b13881",null);t.default=c.exports},ZksZ:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vux-popup-header",class:e.showBottomBorder?"vux-1px-b":""},[a("div",{staticClass:"vux-popup-header-left",on:{click:function(t){e.$emit("on-click-left")}}},[e._t("left-text",[e._v(e._s(e.leftText))])],2),e._v(" "),a("div",{staticClass:"vux-popup-header-title"},[e._t("title",[e._v(e._s(e.title))])],2),e._v(" "),a("div",{staticClass:"vux-popup-header-right",on:{click:function(t){e.$emit("on-click-right")}}},[e._t("right-text",[e._v(e._s(e.rightText))])],2)])},i=[],r={render:n,staticRenderFns:i};t.a=r},ZkwU:function(e,t){},Zm5O:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("FvvE"),r=(n(i),a("ZTs6")),s=(n(r),a("vHT0")),o=n(s),l=a("4XVd");a("Z5v5");t.default={data:function(){return{transCode:"",currentComponent:"",submitSuccess:!1,detailScroll:null,commentCount:0,hasComment:!0,isConcern:0,concernCount:0}},methods:{modifyRoute:function(e){this.submitSuccess=e},refresh:function(){var e=this;this.$nextTick(function(){e.detailScroll.refresh()})},goDiscuss:function(){this.$router.push({path:"/commentList",query:{transCode:this.transCode}})},isSubscribe:function(e){this.isConcern=e},goConcern:function(){var e=this,t=l.subscribeApp,a={type:"instance",relationKey:this.transCode};1===this.isConcern&&(t=l.unsubscribeApp,delete a.type),t(a).then(function(t){var a=t.success,n=void 0===a||a,i=t.message,r=void 0===i?"":i;if(n){e.isConcern="订阅成功！"===r?1:0;var s="订阅成功！"===r?"关注成功":"取消关注成功";e.$vux.toast.show({type:"text",time:1e3,position:"top",text:s})}})},initPage:function(){var e=this,t=this.$route.query,n=(t.childId,t.transCode),i=this.$route.params,r=i.folder,s=i.fileName;this.hasComment=!!n,this.transCode=n;try{this.currentComponent=a("9kVI")("./"+r+"/"+s+"Form.vue").default,this.$event.$on("commentCount",function(t){e.commentCount=t})}catch(t){console.log(t),this.$vux.alert.show({content:"抱歉，无法支持该应用的查看",onHide:function(){e.$router.go(-1)}})}this.$nextTick(function(){e.detailScroll||(e.detailScroll=new o.default(e.$refs.detail,{click:!0}))})}},beforeRouteEnter:function(e,t,a){var n=e.query.name,i=void 0===n?"":n;i.includes("表")&&(e.meta.title=i,a()),e.meta.title=i+"详情",a()},created:function(){this.initPage()},activated:function(){this.$route.meta.reload&&(this.initPage(),this.$route.meta.reload=!1)},beforeRouteLeave:function(e,t,a){var n=(e.path,"LIST"===e.name||"MSGHOME"===e.name);this.$HandleLoad.hide(),n&&(this.currentComponent=null,this.detailScroll.destroy(),this.detailScroll=null,this.$event.$off("commentCount"),t.meta.reload=!0),this.submitSuccess&&n&&(e.meta.reload=!0),a()}}},"Zp+1":function(e,t,a){"use strict";function n(e){a("p4QX")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("DfJM");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("zsZJ"),o=a.n(s),l=a("BljH"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-d0e611d0",null);t.default=c.exports},Zs2f:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"weui-cell",class:{"vux-tap-active":e.isLink||!!e.link,"weui-cell_access":e.isLink||!!e.link,"vux-cell-no-border-intent":!e.borderIntent,"vux-cell-disabled":e.disabled},style:e.style,on:{click:e.onClick}},[a("div",{staticClass:"weui-cell__hd"},[e._t("icon")],2),e._v(" "),a("div",{staticClass:"vux-cell-bd",class:{"vux-cell-primary":"title"===e.primary&&"left"!==e.valueAlign}},[a("p",[e.title||e.hasTitleSlot?a("label",{staticClass:"vux-label",class:e.labelClass,style:e.labelStyles},[e._t("title",[e._v(e._s(e.title))])],2):e._e(),e._v(" "),e._t("after-title")],2),e._v(" "),a("inline-desc",[e._t("inline-desc",[e._v(e._s(e.inlineDesc))])],2)],1),e._v(" "),a("div",{staticClass:"weui-cell__ft",class:e.valueClass},[e._t("value"),e._v(" "),e._t("default",[e._v(e._s(e.value))]),e._v(" "),e.isLoading?a("i",{staticClass:"weui-loading"}):e._e()],2),e._v(" "),e._t("child")],2)},i=[],r={render:n,staticRenderFns:i};t.a=r},ZsTC:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("J0Oq"),o=n(s),l=a("a3Yh"),d=n(l),u=a("3cXf"),c=n(u),f=a("4YfN"),m=n(f),h=a("PzEQ"),v=n(h),p=a("kNGm"),C=n(p),y=a("u28h"),_=n(y),g=a("SAzG"),b=n(g),w=a("BGNQ"),I=n(w),x=a("0AQX"),D=a("HyXB"),P=a("bKg5"),S=n(P),k=a("9cRV"),L=n(k),N=a("ZQWM"),M=n(N),T=a("yt3/"),A=n(T),O=a("luHD"),R=n(O),j=a("hLfv"),B=n(j),E=a("VZtf"),F=n(E),U=a("vl8n"),$=n(U),Q=a("+WR7"),H=n(Q),V=a("9SNe"),q=n(V),Y=a("zWMP");t.default={components:{XTextarea:v.default,RNumber:F.default,Datetime:_.default,RDate:q.default,XInput:b.default,Cell:I.default,PopMatterList:L.default,PopDealerList:M.default,PopSingleSelect:A.default,PopMatter:R.default,RPicker:$.default,PopBaseinfo:H.default,DealerOtherPart:B.default},data:function(){return{taxRate:.16,dealer:{},formData:{creator:"",modifer:"",biId:"",biComment:""},inPut:{tdAmountCopy1:"",prepaymentDueDate:""},dealerInfo:{},contact:{},transMode:[],matterList:[],showTransPop:!1,showMaterielPop:!1,showDealerPop:!1,checkFieldList:[{key:"tdQty",message:"请填写数量"},{key:"price",message:"请填写含税单价"},{key:"taxRate",message:"请填写税率"},{key:"purchaseDay",message:"请选择采购需求日"}]}},mixins:[S.default],filters:{dateFormat:C.default},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],this.dealerInfo.drDealerPaymentTerm=this.dealerInfo.paymentTerm,this.dealerInfo.daysOfAccount=this.dealerInfo.pamentDays,this.dealer.drDealerPaymentTerm=this.dealerInfo.paymentTerm},selContact:function(e){this.dealer.dealerDebitContactPersonName=e.dealerName,this.dealer.dealerDebitContactInformation=e.dealerMobilePhone,this.contact=(0,m.default)({},this.contact,e)},selMatter:function(e){var t=JSON.parse(e);t.map(function(e){var t=e.processingStartDate?(0,C.default)(e.processingStartDate,"YYYY-MM-DD"):"",a=e.qtyBal<e.qty?e.qty:e.qtyBal;e.tdQty=e.tdQty||a,e.price=e.price||"",e.taxRate=e.taxRate||.16,e.shippingTime=(0,C.default)(e.shippingTime,"YYYY-MM-DD"),e.tdLeadTime=e.leadTime,e.processingStartDate=e.processingStartDate||t,e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null}),this.numMap={},this.matterList=t},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(t){return t.inventoryCode===e.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(e)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,c.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerCode?0===this.matterList.length&&(t="请选择物料"):t="请选择供应商信息",t||this.matterList.every(function(e){if(!e.tdQty)return t="请填写数量",!1;if(!e.price)return t="请填写含税单价",!1;if(!e.purchaseDay)return t="请选择采购需求日",!1;var n=e.taxRate;(0,Y.accMul)(e.price,e.tdQty,n);return a.push({tdId:e.tdId||"",transObjCode:e.inventoryCode,tdProcessing:e.processing,assMeasureUnit:e.assMeasureUnit||"个",assMeasureScale:e.assMeasureScale||null,assMeasureDescription:e.assMeasureDescription||"",assistQty:e.assistQty||0,thenQtyBal:e.qtyBal||0,tdQty:e.tdQty,price:e.price,noTaxPrice:e.noTaxPrice,taxRate:n,taxAmount:e.taxAmount,tdAmount:e.tdAmount,leadTime_transObjCode:e.leadTime,shippingTime:e.shippingTime,purchaseDay:e.purchaseDay,processingStartDate:e.processingStartDate,comment:""}),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=D.saveAndStartWf,n=(0,d.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.biComment,formData:(0,c.default)((0,m.default)({},e.formData,e.dealer,{handlerEntity:e.entity.dealerName,dealerDebitContactPersonName:e.contact.dealerName||null,dealerDebitContactInformation:e.contact.dealerMobilePhone||"",order:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName||"",drDealerPaymentTerm:e.dealerInfo.paymentTerm,daysOfAccount:e.dealerInfo.pamentDays,dataSet:a},inPut:{dataSet:[(0,m.default)({dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName||""},e.inPut)]}})),wfPara:(0,c.default)(n)};e.isResubmit&&(t=D.saveAndCommitTask,i.biReferenceId=e.biReferenceId),e.processCode.length||(t=D.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,o.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,x.getSOList)({formViewUniqueId:e.uniqueId,transCode:e.transCode}).then(function(t){e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId;var a=t.formData;e.attachment=t.attachment,a.order.dataSet.map(function(t){t=(0,m.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,safeStock:t.safeStock_transObjCode,qtyBal:t.thenQtyBal,moq:t.moq_transObjCode,leadTime:t.leadTime_transObjCode}),e.matterList.push(t)}),e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,m.default)({},e.handlerDefault,{creator:a.creator,modifer:a.modifer,biComment:a.biComment,biProcessStatus:a.biProcessStatus,biId:a.biId}),e.dealerInfo={dealerMobilePhone:a.dealerDebitContactInformation,dealerCode:a.inPut.dataSet[0].dealerDebit,dealerSubclass:a.inPut.dataSet[0].drAccountSub,dealerName:a.inPut.dataSet[0].dealerName_dealerDebit,province:a.inPut.dataSet[0].province_dealerDebit,city:a.inPut.dataSet[0].city_dealerDebit,county:a.inPut.dataSet[0].county_dealerDebit,address:a.inPut.dataSet[0].address_dealerDebit,paymentTerm:a.order.drDealerPaymentTerm,pamentDays:a.order.daysOfAccount,dealerLabelName:a.inPut.dataSet[0].drDealerLabel},e.inPut={tdAmountCopy1:a.inPut.dataSet[0].tdAmountCopy1,prepaymentDueDate:a.inPut.dataSet[0].prepaymentDueDate},e.contact={dealerName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation},e.dealer={dealerDebitContactPersonName:a.dealerDebitContactPersonName,dealerDebitContactInformation:a.dealerDebitContactInformation,drDealerPaymentTerm:a.order.drDealerPaymentTerm||""},e.$loading.hide()});case 2:case"end":return t.stop()}},t,e)}))()},hasDraftData:function(){return!!this.matterList.length&&(0,d.default)({},"CGDD_DATA",{matter:this.matterList,dealerInfo:this.dealerInfo,formData:this.formData,dealer:this.dealer,contact:this.contact,inPut:this.inPut})}},created:function(){var e=sessionStorage.getItem("CGDD_DATA");e&&(this.matterList=JSON.parse(e).matter,this.dealerInfo=JSON.parse(e).dealerInfo,this.dealer=JSON.parse(e).dealer,this.formData=JSON.parse(e).formData,this.contact=JSON.parse(e).contact,this.inPut=JSON.parse(e).inPut,sessionStorage.removeItem("CGDD_DATA"))}}},Zt7o:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("kNGm"),r=(n(i),a("0AQX")),s=a("+VRO"),o=n(s),l=a("AupE"),d=n(l),u=a("BUFe"),c=n(u),f=a("bFc7"),m=n(f),h=a("3NX5"),v=n(h);t.default={data:function(){return{orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},uploadStyle:{width:"100%",padding:"0.06rem 0.1rem"}}},mixins:[o.default],components:{workFlow:d.default,RAction:c.default,contactPart:m.default,MatterList:v.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,r.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=o,e.orderInfo=r,e.contactInfo={dealerName:r.dealerName_launchDealerCode,dealerMobilePhone:r.dealerDebitContactInformation,dealerContactPersonName:r.dealerDebitContactPersonName},e.workFlowInfoHandler()})},goEdit:function(){var e=this.$route.params,t=e.folder,a=e.fileName,n=this.$route.query.name;this.$router.push({path:"/fillform/"+t+"/"+a,query:{name:n,transCode:this.transCode}})}}}},ZtPB:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("kNGm"),o=(n(s),a("SAzG")),l=n(o),d=a("0AQX"),u=a("+VRO"),c=n(u),f=a("BUFe"),m=n(f),h=a("AupE"),v=n(h),p=a("bFc7"),C=n(p),y=a("CKaN"),_=n(y),g=a("zWMP"),b=a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",contactInfo:{},dealerInfo:{},cashInfo:{}}},computed:{isInCharge:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"d7ef0729-4a55-46fe-a750-e5298042c5bc"===t},isApproval:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"65afdac2-db7d-42d1-a059-7fdb98892134"===t},isCashier:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"14128204-e4ee-4688-98c7-9d3c03e7a3ad"===t},isAccount:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"b8490da9-513f-408b-8974-83998188bf6a"===t},cashParams:function(){return{transCode:this.transCode}}},mixins:[c.default],components:{workFlow:v.default,RAction:m.default,contactPart:C.default,PopCashList:_.default,XInput:l.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,d.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment,e.orderInfo=t.formData,e.dealerInfo=t.formData.order.dataSet[0],e.cashInfo=t.formData.outPut.dataSet[0],e.workFlowInfoHandler()})},agreeHandler:function(){if(this.isApproval||this.isCashier||this.isAccount){if(this.isCashier&&!this.cashInfo.fundCode)return this.$vux.alert.show({content:"请选择资金账户"}),!0;var e=this.orderInfo,t=this.dealerInfo,a=this.cashInfo,n=(0,r.default)({},e,{order:{dataSet:[{tdIdCopy1:t.tdIdCopy1,dealerCodeCredit:t.dealerCodeCredit,crDealerLabel:t.crDealerLabel,applicationType:t.applicationType,tdCreditLine:t.tdCreditLine,thenAmntBalCopy1:t.thenAmntBalCopy1,thenTotalAmntBal:t.thenTotalAmntBal,tdAmountCopy1:t.tdAmountCopy1,differenceAmount:t.differenceAmount,expCause:t.expCause}]},outPut:{dataSet:[{cashInCode:a.fundCode||a.cashInCode,cashType_cashInCode:a.fundType||a.cashType_cashInCode,thenAmntBal:a.thenAmntBal,tdAmount:a.tdAmount,tdId:a.tdId}]}});return this.saveData(n),!0}return!1},selCash:function(e){this.cashInfo=(0,r.default)({},this.cashInfo,e)},calcPayment:function(e){var t=e.thenAmntBalCopy1,a=void 0===t?0:t,n=e.tdAmountCopy1,i=void 0===n?0:n;i||(i=0),i=(0,b.toFixed)(i),e.tdAmountCopy1=i,e.differenceAmount=(0,b.toFixed)((0,g.accAdd)(a,i))}}}},ZtSw:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("HzJ8"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("PKHo"),f=n(c),m=a("zWMP"),h=a("BUFe"),v=n(h),p=a("AupE"),C=n(p),y=a("sUbJ"),_=n(y),g=a("FlCz"),b=n(g),w=a("d7ck"),I=n(w),x=a("MVgC"),D=n(x);t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",orderList:{},basicInfo:{},DuplicateBoms:[],UniqueBom:[],bomPopShow:!1,bom:{}}},mixins:[u.default,f.default],components:{workFlow:C.default,RAction:v.default,MatterItem:_.default,BomList:b.default,FormCell:I.default,BomPop:D.default},methods:{checkBom:function(e){this.bom=e,this.bomPopShow=!0},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u={};s.order;e.attachment=d;var c=s.order.dataSet,f=!0,m=!1,h=void 0;try{for(var v,p=(0,o.default)(c);!(f=(v=p.next()).done);f=!0){var C=v.value;if(C.inventoryPic=C.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+C.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),C.shippingTime=e.changeDate(C.shippingTime),C.boms){var y=!0,_=!1,g=void 0;try{for(var b,w=(0,o.default)(C.boms);!(y=(b=w.next()).done);y=!0){var I=b.value;I.inventoryCode=I.transObjCode}}catch(e){_=!0,g=e}finally{try{!y&&w.return&&w.return()}finally{if(_)throw g}}}C.boms&&(e.DuplicateBoms=e.DuplicateBoms.concat(JSON.parse((0,r.default)(C.boms)))),u[C.transMatchedCode]||(u[C.transMatchedCode]=[]),u[C.transMatchedCode].push(C)}}catch(e){m=!0,h=e}finally{try{!f&&p.return&&p.return()}finally{if(m)throw h}}e.mergeBomList(),e.orderList=u,e.orderInfo=s,e.workFlowInfoHandler()})},mergeBomList:function(){var e=function(e,t){return e.inventoryCode===t.inventoryCode};this.UniqueBom=function(t){return t.reduce(function(t,a){return t.some(function(t){var n=e(t,a);return n&&(t.tdQty=(0,m.accAdd)(t.tdQty,a.tdQty)),n})||t.push(a),t},[])}(this.DuplicateBoms)}}}},"Zv+r":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MgeX"),r=n(i),s=a("HzJ8"),o=n(s),l=a("a3Yh"),d=n(l),u=a("ZLEe"),c=n(u),f=a("3cXf"),m=n(f),h=a("4YfN"),v=n(h),p=a("PzEQ"),C=n(p),y=a("kNGm"),_=(n(y),a("u28h")),g=n(_),b=a("BGNQ"),w=n(b),I=a("SAzG"),x=n(I),D=a("z5TY"),P=n(D),S=a("0AQX"),k=a("HyXB"),L=a("bKg5"),N=n(L),M=a("9cRV"),T=n(M),A=a("ZQWM"),O=n(A),R=a("yt3/"),j=n(R),B=a("hLfv"),E=n(B),F=a("luHD"),U=n(F),$=a("VZtf"),Q=n($),H=a("vl8n"),V=n(H),q=a("+WR7"),Y=n(q),X=a("zWMP"),G=a("Qg39");t.default={components:{XTextarea:C.default,RNumber:Q.default,Datetime:g.default,XInput:x.default,Group:P.default,PopMatterList:T.default,PopDealerList:O.default,PopSingleSelect:j.default,PopMatter:U.default,RPicker:V.default,PopBaseinfo:Y.default,Cell:w.default,DealerOtherPart:E.default},data:function(){return{listId:"1d52d5ce-d05e-4987-a023-3f4dba68cad9",taxRate:.16,numMap:{},dealer:{},formData:{creator:"",modifer:"",biId:"",biComment:""},dealerInfo:{},contact:{},transMode:[],matterList:[],orderList:{},showMaterielPop:!1,showDealerPop:!1,filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"申请号",value:"transCode"}],consumables:{},checkFieldList:[{key:"tdQty",message:"请填写数量"},{key:"price",message:"请填写单价"},{key:"taxRate",message:"请填写税率"}],modifyKey:null,modifyIndex:null}},mixins:[N.default],computed:{totalAmount:function(){var e=this,t=0;return this.matterList.forEach(function(a){e.simpleCalcMatter(a),t=(0,X.accAdd)(t,a.noTaxAmount)}),Number(t)},taxAmount:function(){var e=0;return this.matterList.forEach(function(t){e=(0,G.toFixed)((0,X.accAdd)(e,t.taxAmount))}),e},tdAmount:function(){return parseFloat((0,X.accAdd)(this.totalAmount,Number(this.taxAmount)).toFixed(2))}},watch:{consumables:{handler:function(e){this.simpleCalcMatter(e)},deep:!0}},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],this.dealerInfo=(0,v.default)({},this.dealerInfo,{daysOfAccount:this.dealerInfo.pamentDays,crDealerPaymentTerm:this.dealerInfo.paymentTerm})},selContact:function(e){this.formData.dealerCreditContactPersonName=e.dealerName,this.formData.dealerCreditContactInformation=e.dealerMobilePhone,this.contact=e},selMatter:function(e){var t=JSON.parse(e),a={};t.forEach(function(e){e.tdQty=e.tdQty||e.qtyBal,e.price=e.price||"",e.taxRate=e.taxRate||.16,a[e.transCode]||(a[e.transCode]=[]),a[e.transCode].push(e)}),this.matterList=t,this.orderList=a},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.inventoryCode!==e.inventoryCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},modifyMatter:function(e,t,a){this.consumables=JSON.parse((0,m.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(t){return t.transCode===e.transCode&&t.inventoryCode===e.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(e)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.transCode===e.transCode&&t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,c.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});i>=0&&(e.$refs.matter.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerCode?0===this.matterList.length&&(t="请选择物料"):t="请选择供应商信息",t||this.matterList.every(function(e){if(!e.price)return t="单价不能为空",!1;if(!e.tdQty)return t="数量不能为空",!1;var n=e.taxRate,i=(0,X.accMul)(e.price,e.tdQty,n);return a.push({tdId:e.tdId||"",transMatchedCode:e.transCode,transObjCode:e.inventoryCode,tdProcessing:e.processing,thenQtyBal:e.qtyBal||0,tdQty:e.tdQty,price:e.price,taxRate:n,taxAmount:i,tdAmount:(0,X.accAdd)((0,X.accMul)(e.price,e.tdQty),i),comment:""}),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=k.saveAndStartWf,n=(0,d.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.biComment,formData:(0,m.default)((0,v.default)({},e.formData,e.dealer,{handlerEntity:e.entity.dealerName,inPut:{dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName||"",crDealerPaymentTerm:e.dealerInfo.paymentTerm,daysOfAccount:e.dealerInfo.pamentDays,dataSet:a}})),wfPara:(0,m.default)(n)};e.isResubmit&&(t=k.saveAndCommitTask,i.biReferenceId=e.biReferenceId),e.processCode.length||(t=k.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,S.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId;var a=t.formData;e.attachment=t.attachment;var n={};a.inPut.dataSet.map(function(t){t=(0,v.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,qtyBal:t.thenQtyBal,transCode:t.transMatchedCode}),n[t.transCode]||(n[t.transCode]=[]),n[t.transCode].push(t),e.matterList.push(t)}),e.orderList=n,e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,v.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),e.dealerInfo={dealerMobilePhone:a.dealerCreditContactInformation,dealerCode:a.inPut.dealerCodeCredit,dealerSubclass:a.inPut.drAccountSub,dealerName:a.inPut.dealerName_dealerCodeCredit,dealerLabelName:a.inPut.crDealerLabel,province:a.inPut.province_dealerCodeCredit,city:a.inPut.city_dealerCodeCredit,county:a.inPut.county_dealerCodeCredit,address:a.inPut.address_dealerCodeCredit,dealerCreditContactPersonName:a.dealerCreditContactPersonName,dealerCreditContactInformation:a.dealerCreditContactInformation,paymentTerm:a.inPut.crDealerPaymentTerm,pamentDays:a.inPut.daysOfAccount},e.contact={dealerMobilePhone:a.dealerCreditContactInformation,dealerName:a.dealerCreditContactPersonName},e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,d.default)({},"DZYHPCGDD_DATA",{orderList:this.orderList,dealerInfo:this.dealerInfo,formData:this.formData,dealer:this.dealer,contact:this.contact})},getRelationData:function(){}},created:function(){var e=sessionStorage.getItem("DZYHPCGDD_DATA"),t=JSON.parse(e);if(e){this.orderList=t.orderList;var a=!0,n=!1,i=void 0;try{for(var s,l=(0,o.default)((0,r.default)(this.orderList));!(a=(s=l.next()).done);a=!0){var d=s.value,u=!0,c=!1,f=void 0;try{for(var m,h=(0,o.default)(d);!(u=(m=h.next()).done);u=!0){var v=m.value;this.matterList.push(v)}}catch(e){c=!0,f=e}finally{try{!u&&h.return&&h.return()}finally{if(c)throw f}}}}catch(e){n=!0,i=e}finally{try{!a&&l.return&&l.return()}finally{if(n)throw i}}this.dealerInfo=t.dealerInfo,this.dealer=t.dealer,this.formData=t.formData,this.contact=t.contact,sessionStorage.removeItem("DZYHPCGDD_DATA")}}}},ZyBF:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("4YfN"),o=n(s),l=a("a3Yh"),d=n(l),u=a("3cXf"),c=n(u),f=a("PzEQ"),m=n(f),h=a("u28h"),v=n(h),p=a("kNGm"),C=(n(p),a("BGNQ")),y=n(C),_=a("SAzG"),g=n(_),b=a("z5TY"),w=n(b),I=a("0AQX"),x=a("HyXB"),D=a("bKg5"),P=n(D),S=a("I5id"),k=n(S),L=a("9cRV"),N=n(L),M=a("luHD"),T=n(M),A=a("VZtf"),O=n(A),R=a("vl8n"),j=n(R),B=a("+WR7"),E=n(B),F=a("zWMP");a("Qg39");t.default={name:"ApplySBCGSQForm",data:function(){return{matterList:[],formData:{biId:"",biComment:"",biProcessStatus:""},numMap:{},showFacilityPop:!1,showMatterPop:!1,selItems:[],facility:{},checkFieldList:[{key:"tdQty",message:"请填写本次申请数量"},{key:"price",message:"请填写估计价格"}],filterList:[{name:"设施名称",value:"facilityName"},{name:"设施编码",value:"facilityCode"}]}},mixins:[P.default],components:{XTextarea:m.default,Datetime:v.default,RNumber:O.default,Cell:y.default,XInput:g.default,Group:w.default,PopMatter:T.default,RPicker:j.default,PopBaseinfo:E.default,PopFacilityList:k.default,PopMatterList:N.default},computed:{tdAmount:function(){var e=this,t=0;return this.matterList.forEach(function(a){e.simpleCalcMatter(a),t=(0,F.accAdd)(t,a.tdAmount)}),t}},watch:{facility:{handler:function(e){this.simpleCalcMatter(e)},deep:!0}},methods:{selMatter:function(e){var t=JSON.parse(e);t.map(function(e){e.tdQty=e.tdQty||"",e.price=e.price||""}),this.matterList=t},modifyMatter:function(e,t){this.facility=JSON.parse((0,c.default)(e)),this.showMatterPop=!0,this.modifyIndex=t},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.facilityCode===t.facilityCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.facilityCode===e.facilityCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,c.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.facilityCode===t.facilityCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){this.showFacilityPop=!this.showFacilityPop},submitOrder:function(){var e=this,t="",a=[];if(this.matterList.length?this.matterList.every(function(n){if(!n.price)return t="单价不能为空",!1;if(!n.tdQty&&0!==n.tdQty)return t="数量不能为空",!1;var i={facilityObjCode:n.facilityCode,facilityType:n.facilityType,assMeasureUnit:null,assistQty:n.assistQty||null,tdQty:n.tdQty,price:n.price,tdAmount:n.tdAmount,comment:n.comment||""};return e.transCode&&(i.tdId=n.tdId||null),a.push(i),!0}):t="请选择设备",t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=x.saveAndStartWf,n={},i=(0,d.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});n=(0,o.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.formData.handler,modifer:e.formData.handler,order:{dataSet:a}}),e.transCode&&(t=x.saveAndCommitTask,i={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,c.default)(n),wfPara:(0,c.default)(i)};e.transCode||delete r.biReferenceId,e.processCode.length||(t=x.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,I.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,l=t.attachment,u=void 0===l?[]:l;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=u;var c=s.order,f=c.dataSet,m=void 0===f?[]:f,h=[],v=!0,p=!1,C=void 0;try{for(var y,_=(0,r.default)(m);!(v=(y=_.next()).done);v=!0){var g,b=y.value;b=(0,o.default)({},b,(g={facilityName:b.facilityName_facilityObjCode,facilityCode:b.facilityCode_facilityObjCode,facilityBigType:b.facilityBigType_facilityObjCode,facilitySubclass:b.facilitySubclass_facilityObjCode,facilityUnit:b.facilityUnit_facilityObjCode},(0,d.default)(g,"facilityName",b.facilityName_facilityObjCode),(0,d.default)(g,"facilityName",b.facilityName_facilityObjCode),(0,d.default)(g,"inventoryPic",b.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+b.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()),g)),h.push(b)}}catch(e){p=!0,C=e}finally{try{!v&&_.return&&_.return()}finally{if(p)throw C}}e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,o.default)({},e.handlerDefault,{creator:s.creator,modifer:s.modifer,biId:s.biId,biComment:s.biComment,biProcessStatus:s.biProcessStatus}),e.biReferenceId=s.biReferenceId,e.matterList=h,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,d.default)({},"SBCGSQ_DATA",{matter:this.matterList,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("SBCGSQ_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.formData=t.formData,sessionStorage.removeItem("SBCGSQ_DATA")}}}},ZzL0:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("HyXB"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2530,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}]}},mixins:[i.default],methods:{},created:function(){}}},"a+8v":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MjAd"),r=n(i),s=(a("vS5q"),a("FPb0")),o=n(s);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2482,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},components:{financeListItem:o.default},mixins:[r.default],methods:{},created:function(){}}},a0Gq:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("HXPS"),d=n(l),u=a("7g+Q"),c=n(u),f=a("6q39"),m=n(f),h=a("QHLv"),v=a("1KNX"),p=n(v),C=a("7biW"),y=n(C);t.default={name:"MatterList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},getListMethod:{type:String,default:"getObjFunds"}},components:{Icon:d.default,Popup:c.default,LoadMore:m.default,RScroll:p.default,MSearch:y.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],costList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,o.default)(this.selItems)),this.$emit("input",!1),this.$event.$emit("shut-down-filter",!1)},showSelIcon:function(e){var t=!1;return this.selItems&&this.selItems.every(function(a){return e.fundCode!==a.fundCode||(t=!0,!1)}),t},selThis:function(e,t){this.showPop=!1,this.selItems=[e],this.$emit("sel-matter",this.selItems[0])},setDefaultValue:function(){this.tmpItems=[].concat((0,o.default)(this.defaultValue)),this.selItems=[].concat((0,o.default)(this.defaultValue))},getObjFunds:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,o.default)(e),[{operator:"like",value:this.srhInpTx,property:"fundName"}])),(0,h.getObjFunds)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(e)}).then(this.dataHandler)},getEmployeeReserveFunds:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,o.default)(e),[{operator:"like",value:this.srhInpTx,property:"fundName"}])),(0,h.getEmployeeReserveFunds)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(e)}).then(this.dataHandler)},dataHandler:function(e){var t=this,a=e.dataCount,n=void 0===a?0:a,i=e.tableContent,r=void 0===i?[]:i;this.hasNext=n>(this.page-1)*this.limit+r.length,this.costList=1===this.page?r:[].concat((0,o.default)(this.costList),(0,o.default)(r)),this.$nextTick(function(){t.$refs.bScroll.finishPullUp()})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.costList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this[this.getListMethod]()},onPullingUp:function(){this.page++,this[this.getListMethod]()}},created:function(){this.setDefaultValue(),this[this.getListMethod]()}}},a1uP:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages bdkcdb-list-conatiner",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noPrice:"",noCount:""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},a6VN:function(e,t,a){"use strict";function n(e){a("4874")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("fej/");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("9fGn"),o=a.n(s),l=a("BK5o"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-cc46cf80",null);t.default=c.exports},a8wD:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper xsbj-detail-container"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"matter-list":e.orderInfo.order.dataSet},scopedSlots:e._u([{key:"matterOther",fn:function(t){var n=t.item;return a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("客户类型: "+e._s(n.drDealerLabel))])]),e._v(" "),a("div",{staticClass:"mater_num"},[a("span",{staticClass:"num"},[e._v("数量上线: "+e._s(n.qtyOnline))]),e._v(" "),a("span",{staticClass:"num"},[e._v("数量下线: "+e._s(n.qtyDownline))])]),e._v(" "),a("div",{staticClass:"mater_price"},[a("span",{staticClass:"diff_num"},[e._v("\n            ￥"+e._s(e._f("toFixed")(n.price))+"\n            "),a("span",{staticClass:"num"},[e._v("[标准价格]")])]),e._v(" "),a("span",{staticClass:"diff_num"},[e._v("\n            ￥"+e._s(e._f("toFixed")(n.specialReservePrice))+"\n            "),a("span",{staticClass:"num"},[e._v("[特批底价]")])])])])}}])}),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},aA6S:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("St0H");t.default={name:"cell-box",props:{isLink:Boolean,link:[String,Object],borderIntent:{type:Boolean,default:!0},noFlex:Boolean,alignItems:String},computed:{style:function(){if(this.alignItems)return{"align-items":this.alignItems}},className:function(){return{"vux-tap-active":this.isLink||!!this.link,"weui-cell_access":this.isLink||!!this.link,"vux-cell-no-border-intent":!this.borderIntent}}},methods:{onClick:function(){this.link&&(0,n.go)(this.link,this.$router)}}}},aAII:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2233,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}]}},mixins:[i.default],methods:{},created:function(){}}},aASr:function(e,t,a){"use strict";function n(e){a("aIp8")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("H+kM");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("e0Na"),o=a.n(s),l=a("HV0e"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-06fa2688",null);t.default=c.exports},aCXj:function(e,t){},aDRQ:function(e,t){},aHRR:function(e,t,a){"use strict";function n(e){a("wVnA")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("uBQ9");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("hIeW"),o=a.n(s),l=a("szPM"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-11e1b160",null);t.default=c.exports},aIp8:function(e,t){},aKfH:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{staticClass:"vux-datetime weui-cell",class:{"weui-cell_access":!e.readonly},attrs:{"data-cancel-text":"取消","data-confirm-text":"确定",href:"javascript:"}},[e._t("default",[a("div",[e._t("title",[a("p",{class:e.labelClass,style:e.styles,domProps:{innerHTML:e._s(e.title)}})]),e._v(" "),e.inlineDesc?a("inline-desc",[e._v(e._s(e.inlineDesc))]):e._e()],2),e._v(" "),a("div",{staticClass:"weui-cell__ft vux-cell-primary vux-datetime-value",style:{textAlign:e.valueTextAlign}},[!e.currentValue&&e.placeholder?a("span",{staticClass:"vux-cell-placeholder"},[e._v(e._s(e.placeholder))]):e._e(),e._v(" "),e.currentValue?a("span",{staticClass:"vux-cell-value"},[e._v(e._s(e.displayFormat?e.displayFormat(e.currentValue):e.currentValue))]):e._e(),e._v(" "),a("icon",{directives:[{name:"show",rawName:"v-show",value:!e.valid,expression:"!valid"}],staticClass:"vux-input-icon",attrs:{type:"warn",title:e.firstError}})],1)])],2)},i=[],r={render:n,staticRenderFns:i};t.a=r},"aP/0":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("3cXf"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("bFc7"),p=n(v),C=a("6WeX"),y=n(C),_=a("3NX5"),g=n(_),b=a("zWMP");a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"",contactInfo:{}}},components:{workFlow:h.default,RAction:f.default,contactPart:p.default,PriceTotal:y.default,MatterList:g.default},mixins:[u.default],methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(e.submitInfo=JSON.parse((0,o.default)(t)),!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=!0,i=!1,s=void 0;try{for(var l,d=(0,r.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;e.count=(0,b.accAdd)(e.count,u.tdAmount),u.inventoryPic=u.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+u.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){i=!0,s=e}finally{try{!n&&d.return&&d.return()}finally{if(i)throw s}}e.orderInfo=t.formData,e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"inPut",t=this.orderInfo,a=t[e];console.log(t),this.contactInfo={creatorName:t.dealerDebitContactPersonName,dealerName:a.dataSet[0].dealerName_dealerDebit,dealerMobilePhone:t.dealerDebitContactInformation,dealerContactPersonName:t.dealerDebitContactPersonName,dealerCode:a.dataSet[0].dealerDebit,dealerLabelName:a.dataSet[0].drDealerLabel,province:a.dataSet[0].province_dealerDebit,city:a.dataSet[0].city_dealerDebit,county:a.dataSet[0].county_dealerDebit,address:a.dataSet[0].address_dealerDebit,payment:t.order.drDealerPaymentTerm,daysOfAccount:t.order.daysOfAccount,tdAmountCopy1:a.dataSet[0].tdAmountCopy1,prepaymentDueDate:a.dataSet[0].prepaymentDueDate},console.log(this.contactInfo)}},created:function(){}}},aW6d:function(e,t){},aZSx:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70"}},mixins:[u.default],components:{workFlow:h.default,RAction:f.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=!0,i=!1,s=void 0;try{for(var l,d=(0,r.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;e.count=(0,v.accAdd)(e.count,u.tdAmount)}}catch(e){i=!0,s=e}finally{try{!n&&d.return&&d.return()}finally{if(i)throw s}}t.formData.validUntil=(0,o.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},af2W:function(e,t){},afFU:function(e,t){},ak47:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"000004":"COMPANY","000001":"USER","000003":"JOB","4099b5aa-1468-4b81-85a5-75079e291977":"BHDD","7532f8ea-caf3-4fc4-97f6-b5aad7bcf6a0":"WLXQTJ","2e8e23c6-2fa4-4067-9cef-b5c92463d4c9":"XSDDYC","2372f734-93c1-11e8-85db-005056a136d0":"GDRW","f9f1e0cb-7edf-43aa-b2f2-527e2525b96e":"GDYS","c54b3325-a5c1-4d75-a3c4-c6cf0e988aae":"GDRWQD","b30f4d3e-b23d-11e8-96a5-005056a136d0":"CPXQ","eb8a01a3-7a74-439b-bc44-8d58cbfa6166":"CPFB","548b7e35-16c6-4748-af06-eac1d2dac5d1":"CPJG","78949976-4689-41da-b090-fe891186ee8b":"XSDD","58a607ce-fe93-4d26-a42e-a374f4662f1c":"XSBJ","32a2c333-02a3-416f-a133-95c7a32da678":"SJ","0b2360df-499c-47b0-8d97-7c5d81c35353":"XSHT","4f2debbe-fce5-44f8-8440-a3959e62f721":"KPSQ","a4474c03-1139-4e8c-bc4e-2beb4565be33":"CGDD","43ccbc27-bbb5-4cfb-997b-6d3823f1c03e":"CGSQ","9e8de557-2e56-4ce5-8792-54829eef7c5b":"CGXY","edf7b34b-8916-410f-801f-2db7e97efbde":"KCPD","4d9a7f8f-9a88-47b6-a1f4-3faed6423615":"BDKCDB","6ebcad8b-449c-422a-960f-53ccf98fd4ba":"GDBLL","00bf03eb-2794-4222-a97e-9029683734b3":"CGRK","bde3edef-ee04-4a18-b063-73ae7682e23a":"XSCK","482b7468-06eb-40c7-842a-f7ea6edb1c37":"CGTHCK","b6b97d33-5d8e-4942-b978-09103d06f188":"SK","1972f3a4-b29a-4a0e-90a8-85090c0e2d28":"FK","c930267f-66fd-4927-983b-0216ef9449b3":"FGYSQK","7d172485-8726-4e42-b29d-ec2a716bf062":"FGYSDJ","8c68eaa6-46dd-4b3b-b885-1218600b519c":"ZZSKP","6df81f47-9d31-46f3-b852-614a8891cd01":"ZZSSP","bb9ce973-2f62-4707-a54c-7e8605dc99d6":"CRCDHP","1745ffdd-1b6a-4fe5-9c5b-6e5394bd4faf":"SDCDHP","ef8bbbc5-04c4-40eb-8d8c-338784a847e9":"DXTXCDHP","7666662a-a52a-4ca8-8f28-d3035322875e":"DFCDHP","418bd0e9-1dce-4e01-aa5a-3d4cd80e87d4":"JKYBYJ","080147c6-05ea-4ae7-9390-49e8e0379a11":"BXYZF","4472a646-f2c8-4a07-bad6-4c01f0b9292f":"DZYHPCGSQ","1d52d5ce-d05e-4987-a023-3f4dba68cad9":"DZYHPCGDD","0750729a-1bea-423e-99a0-070beb953787":"DZYHPCGYSYZF","f928725f-5e23-4321-922c-6db0efa85f17":"SBCGSQ","fac37727-d2d4-11e8-b8ca-0279b2c6a380":"SBCGDD","64c5afbc-c075-11e8-85e2-b06ebfc41432":"SBCGYS","630a9b96-f257-48b6-b0bc-fd64c455d92b":"XMLX","0281f8eb-f1d2-415c-b566-756fc749ccb3":"XMJH","ee4ff0a1-c612-419d-afd7-471913d57a2a":"XMRW","b87a513e-99ec-4608-89db-3d6e97ef1432":"XMJX","223f9387-d2d7-11e8-b8ca-0279b2c6a380":"YGDA","98519ac0-d2d7-11e8-b8ca-0279b2c6a380":"YGRZ","da7f15cc-d2d7-11e8-b8ca-0279b2c6a380":"YGLZ","3dda676a-4ce0-4c4a-a56f-8bda50a8ef1f":"ZPJH"}},akLR:function(e,t){},ansf:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("BGNQ"),r=n(i),s=a("z5TY"),o=n(s),l=a("kNGm"),d=(n(l),a("0AQX")),u=a("+VRO"),c=n(u),f=(a("Qg39"),a("BUFe")),m=n(f),h=a("AupE"),v=n(h),p=a("bFc7"),C=n(p),y=a("FlCz"),_=n(y),g=a("hPJo"),b=n(g);t.default={data:function(){return{workInfo:{},orderInfo:{},warehouse:{},bomList:[]}},mixins:[c.default],components:{Cell:r.default,Group:o.default,RAction:m.default,workFlow:v.default,contactPart:C.default,BomList:_.default,WarehouseContent:b.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,d.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.attachment,r=void 0===i?[]:i,s=t.formData,o=void 0===s?{}:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var l=o.order,d=void 0===l?{}:l,u=o.outPut,c=void 0===u?{}:u,f=c.dataSet,m=void 0===f?[]:f;e.warehouse={warehouseName:d.warehouseName_containerCode,warehouseType:d.warehouseType_containerCode,warehouseAddress:d.warehouseAddress_containerCode},m.forEach(function(e){e.inventoryName=e.inventoryName_outPutMatCode,e.inventoryCode=e.outPutMatCode}),e.bomList=m,e.attachment=r,e.orderInfo=o,e.workInfo=o.order.dataSet[0],e.workFlowInfoHandler()})}}}},aoPF:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.action.add?a("div",{staticClass:"vux-1px-t btn"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[a("span",{staticClass:"icon-add"}),e._v(" "),a("span",[e._v("新增")])])]):e._e()},i=[],r={render:n,staticRenderFns:i};t.a=r},aofM:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){for(var a=e.length;a--;)if(e[a]===t)return!0;return!1}Object.defineProperty(t,"__esModule",{value:!0});var r=a("DEQU"),s=n(r),o=a("MPfS"),l=a("GM4P"),d=n(l);t.default={name:"radio",mixins:[s.default],filters:{getValue:o.getValue,getKey:o.getKey},props:(0,d.default)(),created:function(){this.handleChangeEvent=!0},methods:{getValue:o.getValue,getKey:o.getKey,onFocus:function(){this.currentValue=this.fillValue||"",this.isFocus=!0}},watch:{value:function(e){this.currentValue=e},currentValue:function(e){var t=i(this.options,e);""!==e&&t&&(this.fillValue=""),this.$emit("on-change",e,(0,o.getLabel)(this.options,e)),this.$emit("input",e)},fillValue:function(e){this.fillMode&&this.isFocus&&(this.currentValue=e)}},data:function(){return{fillValue:"",isFocus:!1,currentValue:this.value}}}},ap1P:function(e,t){},aumL:function(e,t,a){"use strict";function n(e){a("zgYb")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a0Gq");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("8rBc"),o=a.n(s),l=a("Kbld"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-ee758664",null);t.default=c.exports},avU7:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2324,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}]}},mixins:[i.default],methods:{},created:function(){}}},az0b:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("HzJ8"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("PKHo"),f=n(c),m=a("zWMP"),h=a("BUFe"),v=n(h),p=a("AupE"),C=n(p),y=a("sUbJ"),_=n(y),g=a("FlCz"),b=n(g),w=a("d7ck"),I=n(w),x=a("MVgC"),D=n(x);t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",orderList:{},basicInfo:{},DuplicateBoms:[],UniqueBom:[],bomPopShow:!1,bom:{}}},mixins:[u.default,f.default],components:{workFlow:C.default,RAction:v.default,MatterItem:_.default,BomList:b.default,FormCell:I.default,BomPop:D.default},watch:{DuplicateBoms:{handler:function(e){var t=function(e,t){return e.inventoryCode===t.inventoryCode};this.UniqueBom=function(e){return e.reduce(function(e,a){return e.some(function(e){var n=t(e,a);return n&&(e.tdQty=(0,m.accAdd)(e.tdQty,a.tdQty)),n})||e.push(a),e},[])}(this.DuplicateBoms)}}},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},checkBom:function(e){this.bom=e,this.bomPopShow=!0},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u={};s.order;e.attachment=d;var c=s.inPut.dataSet,f=!0,h=!1,v=void 0;try{for(var p,C=(0,o.default)(c);!(f=(p=C.next()).done);f=!0){var y=p.value;if(y.inventoryPic=y.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+y.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),y.boms){var _=!0,g=!1,b=void 0;try{for(var w,I=(0,o.default)(y.boms);!(_=(w=I.next()).done);_=!0){var x=w.value;x.inventoryCode=x.transObjCode,x.warehouseName=x.warehouseName_containerCodeOut,x.warehouseCode=x.containerCodeOut,x.qtyStock=x.thenQtyStock,x.tdQty=(0,m.accSub)((0,m.accMul)(y.processQty,x.bomQty,1+x.bomSpecificLoss),x.lockQty)}}catch(e){g=!0,b=e}finally{try{!_&&I.return&&I.return()}finally{if(g)throw b}}}e.DuplicateBoms=e.DuplicateBoms.concat(JSON.parse((0,r.default)(y.boms))),u[y.transMatchedCode]||(u[y.transMatchedCode]=[]),u[y.transMatchedCode].push(y)}}catch(e){h=!0,v=e}finally{try{!f&&C.return&&C.return()}finally{if(h)throw v}}e.orderList=u,e.orderInfo=s,e.workFlowInfoHandler()})}}}},b3Lv:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noCount:"",noPrice:"",isDealer:!1},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}}),e._v(" "),a("pop-task-work-list",{ref:"taskWork",attrs:{show:e.popShow,params:e.requestParams,"work-type":"验收"},on:{"sel-task":e.selTask},model:{value:e.popShow,callback:function(t){e.popShow=t},expression:"popShow"}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},b3pO:function(e,t){},b4Rw:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("rVsN"),r=n(i),s=a("lC5x"),o=n(s),l=a("IHPB"),d=n(l),u=a("3cXf"),c=n(u),f=a("J0Oq"),m=n(f),h=a("4YfN"),v=n(h),p=a("kNGm"),C=n(p),y=a("0AQX"),_=a("HyXB"),g=a("ak47"),b=n(g),w=a("GvUu"),I=n(w);t.default={data:function(){return{listId:"",transCode:"",RelatedAppList:[],swiper:null,taskType:""}},methods:{getAppExampleDetails:function(){var e=this;return(0,y.getAppExampleDetails)({transCode:this.transCode,listId:this.listId}).then(function(t){t.relevantItems.forEach(function(t){if(b.default[t.listId]){t.isrelated=!1,I.default[e.taskType]&&I.default[e.taskType][t.listId]&&(t.isrelated=!0);var a=t.content.map(function(e){return e.transCode}).join(",");e.RelatedAppList.push((0,v.default)({},t,{page:1,limit:10,defaultFilter:a,icon:t.icon?"/dist/"+t.icon:""}))}})})},getViewId:function(e){return(0,y.getListView)({listId:e}).then(function(e){return e[0].id})},getRelatedList:function(e){var t=this;return(0,m.default)(o.default.mark(function a(){var n,i,r,s,l,u,f,m,h,v;return o.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.listId,i=void 0===n?"":n,r=e.defaultFilter,s=void 0===r?"":r,l=e.page,u=void 0===l?1:l,f=e.limit,m=void 0===f?10:f,a.next=3,t.getViewId(i);case 3:return h=a.sent,v=[{property:"transCode",operator:"in",value:s}],a.abrupt("return",(0,_.getList)(h,{limit:m,page:u,start:(u-1)*m,filter:(0,c.default)(v)}).then(function(a){var n=a.dataCount,i=void 0===n?0:n,r=a.tableContent,s=void 0===r?[]:r;e.hasNext=i>(u-1)*m+s.length;var o=1===u?s:[].concat((0,d.default)(e.relatedList),(0,d.default)(s));t.$set(e,"relatedList",o)}));case 6:case"end":return a.stop()}},a,t)}))()},goDetail:function(e,t){var a=e.parentNav,n=e.listId;this.$router.push({path:"/detail/"+a+"/"+n,query:{name:t.transTypeName,transCode:t.transCode,fromRalted:!0}})},goRelation:function(e){var t=this.$route.query.uniqueId,a=e.parentNav,n=(e.file,e.transName);this.$router.push({path:"/fillform/"+a+"/"+fileName,query:{name:n,uniqueId:t,relationKey:this.transCode}})}},filters:{dateFormat:C.default},created:function(){var e=this;this.$loading.show(),this.listId=this.$route.params.listId,this.transCode=this.$route.query.transCode,this.transCode&&(this.taskType=this.transCode.split("_")[0]),(0,m.default)(o.default.mark(function t(){var a;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getAppExampleDetails();case 2:a=[],e.RelatedAppList.forEach(function(t){a.push(e.getRelatedList(t))}),r.default.all(a).then(function(){e.$nextTick(function(){e.swiper=new e.Swiper(".swiper_related",{slidesPerView:"auto",centeredSlides:!0,observer:!0,observeParents:!0})}),e.$loading.hide()});case 5:case"end":return t.stop()}},t,e)}))()}}},bBLw:function(e,t,a){"use strict";function n(e){a("54rU")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("hX7J");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("WRWB"),o=a.n(s),l=a("Y30q"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-8d47a048",null);t.default=c.exports},bFc7:function(e,t,a){"use strict";function n(e){a("RhTD")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("383K");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("LpND"),o=a.n(s),l=a("dVgm"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-0166b10c",null);t.default=c.exports},bH4i:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"childPage"},[a("div",{staticClass:"content"},[a("div",{staticClass:"each_property vux-1px-b "},[a("label",{staticClass:"required"},[e._v("职位名称:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.jobInfo.name,expression:"jobInfo.name"}],staticClass:"property_val",attrs:{type:"text"},domProps:{value:e.jobInfo.name},on:{input:function(t){t.target.composing||e.$set(e.jobInfo,"name",t.target.value)}}})]),e._v(" "),a("r-picker",{attrs:{title:"职位类型:",data:e.jobType,value:e.jobInfo.type,required:!0},model:{value:e.jobInfo.type,callback:function(t){e.$set(e.jobInfo,"type",t)},expression:"jobInfo.type"}}),e._v(" "),a("r-picker",{attrs:{title:"使用状态:",data:e.jobStatus,value:e.jobInfo.status},model:{value:e.jobInfo.status,callback:function(t){e.$set(e.jobInfo,"status",t)},expression:"jobInfo.status"}})],1),e._v(" "),a("div",{staticClass:"vux-1px-t btn",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"cfm_btn",domProps:{innerHTML:e._s(this.$route.query.id?"保存":"提交")},on:{click:e.save}})])])},i=[],r={render:n,staticRenderFns:i};t.a=r},bHLN:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("4YfN"),o=n(s),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("1KNX"),v=n(h),p=a("7biW"),C=n(p);t.default={name:"RPopup",props:{data:{type:Array,default:function(){return[]}},show:{type:Boolean,default:!1},defaultValue:{type:[Array,Object],default:function(){return{}}},filterList:{type:Array,default:function(){return[]}},multipart:{type:Boolean,default:!1},isFill:{type:Boolean,default:!0},options:{type:Object,default:function(){return{pullUpLoad:!0}}},hasNext:{type:Boolean,default:!0},judgeKeys:{type:Array,default:function(){return[]}}},components:{Icon:c.default,Popup:m.default,RScroll:v.default,RSearch:C.default},data:function(){return{showPop:!1,selItems:[],tmpItems:[]}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.multipart?(this.tmpItems=[].concat((0,d.default)(this.defaultValue)),this.selItems=[].concat((0,d.default)(this.defaultValue))):(this.tmpItems=[(0,o.default)({},this.defaultValue)],this.selItems=[(0,o.default)({},this.defaultValue)])},immediate:!0},data:{handler:function(e){this.finishPullUp()},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,d.default)(this.selItems)),this.$emit("input",!1),this.$event.$emit("shut-down-filter",!1)},findIndex:function(e,t){var a=this;return e.findIndex(function(e){var n=!1;return a.judgeKeys.every(function(a){return e[a]&&(n=e[a]===t[a]),n}),n})},showSelIcon:function(e){return-1!==this.findIndex(this.tmpItems,e)},selThis:function(e,t){if(!this.multipart)return this.showPop=!1,this.selItems=[(0,o.default)({},e)],this.tmpItems=[(0,o.default)({},e)],void this.$emit("on-select",(0,o.default)({},e));var a=this.tmpItems,n=this.findIndex(a,e);if(-1!==n)return void a.splice(n,1);a.push(e)},cfmMater:function(){this.showPop=!1,this.selItems=[].concat((0,d.default)(this.tmpItems)),this.$emit("on-select",JSON.parse((0,r.default)(this.selItems)))},searchList:function(e){this.$refs.bScroll.scrollTo(0,0),this.$emit("on-search",e)},delSelItem:function(e){var t=this.findIndex(this.selItems,e);-1!==t&&this.selItems.splice(t,1),this.tmpItems=[].concat((0,d.default)(this.selItems))},onPullingUp:function(){this.$emit("on-pulling-up")},finishPullUp:function(){var e=this;this.$refs.bScroll&&this.$nextTick(function(){e.$refs.bScroll.finishPullUp()})}},created:function(){}}},bI5q:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=(a("HyXB"),a("MjAd")),o=n(s);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}],listViewID:2331}},mixins:[o.default],methods:{goDetail:function(e,t){var a=this;if(!this.clickVisited){var n=e.transCode,i=this.$route.query.name,s=this.$route.params,o=s.folder,l=s.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,r.default)({},e)),setTimeout(function(){a.clickVisited=!1,a.$router.push({path:"/detail/"+o+"/"+l,query:{name:i,transCode:n}})},200)}}}}},bIpS:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages gdrw-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[a("div",{staticClass:"title"},[e._v("工序信息")]),e._v(" "),a("group",{staticClass:"costGroup",attrs:{"group-title-margin-top":"0"}},[a("cell",{attrs:{isLink:"",title:"工序名称"},nativeOn:{click:function(t){e.showWorkPop=!e.showWorkPop}},model:{value:e.workInfo.procedureName||"请选择",callback:function(t){e.$set(e.workInfo,"procedureName || '请选择'",t)},expression:"workInfo.procedureName || '请选择'"}}),e._v(" "),a("cell",{attrs:{title:"工单任务号",disabled:!e.workInfo.transCode},model:{value:e.workInfo.transCode,callback:function(t){e.$set(e.workInfo,"transCode",t)},expression:"workInfo.transCode"}}),e._v(" "),a("cell",{attrs:{title:"工艺路线名称",disabled:!e.workInfo.technicsName},model:{value:e.workInfo.technicsName,callback:function(t){e.$set(e.workInfo,"technicsName",t)},expression:"workInfo.technicsName"}}),e._v(" "),a("cell",{attrs:{title:"工艺路线编码",disabled:!e.workInfo.proFlowCode},model:{value:e.workInfo.proFlowCode,callback:function(t){e.$set(e.workInfo,"proFlowCode",t)},expression:"workInfo.proFlowCode"}})],1),e._v(" "),a("pop-work-gdbll-list",{attrs:{show:e.showWorkPop,defaultValue:e.workInfo},on:{"sel-work":e.selWork},model:{value:e.showWorkPop,callback:function(t){e.showWorkPop=t},expression:"showWorkPop"}})],1),e._v(" "),a("div",{staticClass:"materiel_list"},[a("div",{staticClass:"title"},[e._v("加工订单信息")]),e._v(" "),a("group",{staticClass:"costGroup",attrs:{"group-title-margin-top":"0"}},[a("cell",{attrs:{title:"加工订单号",disabled:!e.workInfo.processCode},model:{value:e.workInfo.processCode,callback:function(t){e.$set(e.workInfo,"processCode",t)},expression:"workInfo.processCode"}}),e._v(" "),a("cell",{attrs:{title:"成品名称",disabled:!e.workInfo.inventoryName},model:{value:e.workInfo.inventoryName,callback:function(t){e.$set(e.workInfo,"inventoryName",t)},expression:"workInfo.inventoryName"}}),e._v(" "),a("cell",{attrs:{title:"成品编码",disabled:!e.workInfo.matCode},model:{value:e.workInfo.matCode,callback:function(t){e.$set(e.workInfo,"matCode",t)},expression:"workInfo.matCode"}}),e._v(" "),a("x-input",{attrs:{title:"补领料数量",disabled:!e.workInfo.inventoryName,"text-align":"right",placeholder:e.workInfo.inventoryName?"请填写":""},on:{"on-focus":function(t){e.getFocus(t)}},model:{value:e.workInfo.tdQty,callback:function(t){e.$set(e.workInfo,"tdQty",t)},expression:"workInfo.tdQty"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("补领料数量")])])],2)],1)],1),e._v(" "),a("div",{staticClass:"or_ads mg_auto",on:{click:function(t){e.showProjectPop=!e.showProjectPop}}},[a("div",{staticClass:"title"},[e._v("项目名称")]),e._v(" "),e.project.PROJECT_NAME?a("div",[a("div",{staticClass:"cp_info"},[a("p",{staticClass:"cp_name"},[e._v(e._s(e.project.PROJECT_NAME))])])]):a("div",[a("div",{staticClass:"mode required"},[e._v("请选择项目名称")])]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})]),e._v(" "),a("pop-project-list",{attrs:{show:e.showProjectPop,defaultValue:e.project},on:{"sel-project":e.selProject},model:{value:e.showProjectPop,callback:function(t){e.showProjectPop=t},expression:"showProjectPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},bKg5:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("J0Oq"),o=n(s),l=a("ZLEe"),d=n(l),u=a("HzJ8"),c=n(u),f=a("A9zj"),m=n(f),h=a("KH7x"),v=n(h),p=a("rVsN"),C=n(p),y=a("3cXf"),_=n(y),g=a("4YfN"),b=n(g),w=a("HyXB"),I=a("0AQX"),x=a("I8ug"),D=a("iR2W"),P=n(D),S=a("vHT0"),k=n(S),L=a("zWMP"),N=a("Qg39"),M=a("d3k1"),T=n(M),A=a("SFXC"),O=n(A),R=a("zlAJ"),j=n(R),B=a("Z5v5"),E=a("0o6b");t.default={data:function(){return{taskId:"",comment:"",uniqueId:"",biComment:"",transCode:"",processCode:"",biReferenceId:"",formViewUniqueId:"",matter:{},entity:{},btnInfo:{},actions:[],selItems:[],handleORG:[],userRoleList:[],currentStage:[],modifyIndex:null,fillBscroll:null,btnIsHide:!1,isResubmit:!1,showMatterPop:!1,matterModifyClass:!1,clientHeight:document.documentElement.clientHeight,attachment:[],relationKey:"",handlerDefault:{},listId:"",taxRate:.16,businessKey:"",viewId:"",dealerConfig:[],matterPopConfig:[],orderListTitle:"",matterEditConfig:{},matterParams:{},matterPopOrderTitle:"",dealerParams:{},otherConfig:[]}},components:{MatterItem:O.default,UploadFile:j.default},computed:{taxAmount:function(){var e=this,t=0;return this.matterList.forEach(function(a){e.calcMatter(a),t=(0,L.accAdd)(t,a.taxAmount)}),(0,N.toFixed)(t)},tdAmount:function(){var e=this,t=0;return this.matterList.forEach(function(a){e.calcMatter(a),t=(0,L.accAdd)(t,a.tdAmount)}),(0,N.toFixed)(t)}},watch:{matter:{handler:function(e){this.calcMatter(e)},deep:!0}},filters:{numberComma:P.default,percent:function(e){return e||0===e?(0,L.accMul)(e,100)+"%":"无"}},methods:{selItem:function(e){this.formData=(0,b.default)({},this.formData,e)},showDelete:function(){this.matterModifyClass=!this.matterModifyClass,this.selItems=[]},modifyMatter:function(e,t){this.matter=JSON.parse((0,_.default)(e)),this.showMatterPop=!0,this.modifyIndex=t},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.matterList,this.modifyIndex,t)},getListId:function(e){var t=this;return new C.default(function(a){(0,I.getListId)(e).then(function(e){t.uniqueId=e[0].uniqueId,a()})})},getUniqueId:function(e){var t=this;return new C.default(function(a){(0,I.isMyflow)({transCode:e}).then(function(e){var n=e.dataCount,i=e.tableContent,r=void 0===i?[]:i;if(n>0){var s=(0,v.default)(r,1),o=s[0],l=void 0===o?{}:o;t.taskId=l.taskId,1===l.isMyTask&&(t.uniqueId=l.viewId,t.formViewUniqueId=l.viewId,t.btnInfo=l,t.actions=l.actions&&l.actions.split(","))}var d=(0,v.default)(r,1),u=d[0],c=void 0===u?{}:u,f=(c.actions,c.isMyTask,c.taskId);t.taskId=f,a()})})},saveData:function(e,t){var a=this;e(t).then(function(e){a.$HandleLoad.hide();var t=e.success,n=void 0!==t&&t,i=e.message,r=void 0===i?"提交失败":i;n&&(r="提交成功",a.$emit("change",!0)),a.$vux.alert.show({content:r,onHide:function(){n&&a.judgePage()}})}).catch(function(e){a.$HandleLoad.hide()})},stopOrder:function(){var e=this;this.$vux.confirm.prompt("",{title:"审批意见",onConfirm:function(t){e.$HandleLoad.show(),t&&(e.comment=t);var a={taskId:e.taskId,taskData:(0,_.default)({result:-1,transCode:e.transCode,comment:e.comment})};(0,w.commitTask)(a).then(function(t){e.$HandleLoad.hide();var a=t.success,n=void 0!==a&&a,i=t.message,r=void 0===i?"提交失败":i;n&&(r="终止成功",e.$emit("change",!0)),e.$vux.alert.show({content:r,onHide:function(){n&&e.judgePage()}})}).catch(function(t){e.$HandleLoad.hide()})}})},getBaseInfoData:function(){var e=this;(0,w.getBaseInfoData)().then(function(t){var a=t.handleORG,n=t.userRoleList,i=(0,m.default)(t,["handleORG","userRoleList"]);e.handleORG=a,e.userRoleList=n;var r=(0,v.default)(a,1),s=r[0],o=void 0===s?{}:s,l=(0,v.default)(n,1),d=l[0],u=void 0===d?{}:d,c={handler:i.userId,handlerName:i.nickname,handlerUnit:o.groupId,handlerUnitName:o.groupName,handlerRole:u.roleId||"",handlerRoleName:u.roleName||"",userCode:i.userCode};e.formData=(0,b.default)({},e.formData,c,{creator:c.handler,modifer:c.handler}),e.handlerDefault=c,e.$loading.hide()})},getMatPrice:function(){var e=this;this.matterList.forEach(function(t,a){t.price||(0,I.getSaleQuotePrice)({drDealerCode:e.dealerInfo.dealerCode,matCode:t.inventoryCode,noCount:1}).then(function(e){var a=e.tableContent,n=void 0===a?[]:a,i=(0,v.default)(n,1),r=i[0],s=void 0===r?{}:r;t.price=s.price})})},getProcess:function(){var e=this;return(0,w.getProcess)(this.listId).then(function(t){var a=(0,v.default)(t,1),n=a[0],i=void 0===n?{}:n;e.processCode=i.processCode||""})},getProcessStatus:function(){var e=this;return(0,w.getProcessStatus)(this.listId).then(function(t){var a=t.tableContent,n=!0,i=!1,r=void 0;try{for(var s,o=(0,c.default)(a);!(n=(s=o.next()).done);n=!0){var l=s.value;l.value=l.fieldVlaue,l.name=l.fieldVlaue}}catch(e){i=!0,r=e}finally{try{!n&&o.return&&o.return()}finally{if(i)throw r}}e.currentStage=a})},checkAmt:function(e){var t=e.price,a=e.tdQty,n=e.qtyBal,i=e.qtyStockBal,r=e.thenQtyBal,s=e.qtyStock,o=e.taxRate;t&&(e.price=Math.abs((0,N.toFixed)(t))),a&&(e.tdQty=Math.abs((0,N.toFixed)(a)),!i&&!s&&n&&a>n?e.tdQty=n:i&&a>i?e.tdQty=i:s&&a>s?e.tdQty=s:n&&a>n?e.tdQty=n:r&&a>r&&(e.tdQty=r)),o&&(e.taxRate=Math.abs((0,N.toFixed)(o)))},getFocus:function(e){event.currentTarget.select()},onUploadFile:function(e){var t=e.biReferenceId;this.biReferenceId=t},listenBack:function(){var e=this;wx.ready(function(){wx.onHistoryBack&&wx.onHistoryBack(function(){return!e.onHistoryBack||e.onHistoryBack()})})},listenShare:function(){},judgePage:function(){if(1!==window.history.length)this.$router.go(-1);else{var e=this.$route.query.name,t=this.$route.params,a=t.folder,n=t.fileName;this.$router.replace({path:"/detail/"+a+"/"+n,query:{name:e,transCode:this.transCode}})}},getAppDetail:function(){var e=this;return(0,x.getAppDetail)(this.listId).then(function(t){var a=(0,v.default)(t,1),n=a[0],i=void 0===n?{}:n,r=(i.action,i.prefix);e.businessKey=r})},calcMatter:function(e){var t=e.price||0,a=e.tdQty||0,n=e.taxRate||0;e.assistQty=(0,N.toFixed)((0,L.accDiv)(a,e.assMeasureScale)),e.noTaxPrice=(0,N.toFixed)((0,L.accDiv)(t,(0,L.accAdd)(1,n)),6),e.tdAmount=(0,N.toFixed)((0,L.accMul)(t,e.assistQty)),e.taxAmount=(0,N.toFixed)((0,L.accMul)(e.assistQty,n,e.noTaxPrice)),e.noTaxAmount=(0,N.toFixed)((0,L.accSub)(e.tdAmount,e.taxAmount))},simpleCalcMatter:function(e){var t=e.price||0,a=e.tdQty||0,n=e.taxRate||0;e.noTaxAmount=(0,N.toFixed)((0,L.accMul)(t,a)),e.taxAmount=(0,N.toFixed)((0,L.accMul)(e.noTaxAmount,n)),e.tdAmount=(0,N.toFixed)((0,L.accAdd)(e.noTaxAmount,e.taxAmount))},getFormViews:function(){var e=this;(0,w.getFormViews)(this.listId).then(function(t){var a=!0,n=!1,i=void 0;try{for(var r,s=(0,c.default)(t);!(a=(r=s.next()).done);a=!0){var o=r.value;if("submit"===o.viewType){e.viewId=o.uniqueId,e.getFormConfig();break}}}catch(e){n=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}})},handlerParams:function(e){var t=e.dataSource.data.url,a=e.dataSource.data.params,n=(0,d.default)(a),i={url:t};if(n.length){var r={};n.forEach(function(e){r[e]=a[e].value}),i.data=r}return i},getFormConfig:function(){var e=this;(0,w.getFormConfig)(this.viewId).then(function(t){var a=t.config,n=void 0===a?[]:a;console.log(n);var i=[],r=[],s=[];n.forEach(function(e){e.isMultiple?"order"!==e.name&&"outPut"!==e.name&&"inPut"!==e.name||(r=e.items):("kh"!==e.name&&"inPut"!==e.name&&"baseinfoExt"!==e.name&&"gys"!==e.name||(i=i.concat(e.items)),"ck"===e.name&&(s=e.items))});var o=[];i.forEach(function(t){t.hiddenInRun||("r2Selector"===t.xtype&&t.dataSource&&"remoteData"===t.dataSource.type&&"project"!==t.fieldCode&&(e.dealerParams=e.handlerParams(t)),"r2Combo"===t.xtype&&t.dataSource&&"remoteData"===t.dataSource.type&&(0,w.requestData)(e.handlerParams(t)).then(function(a){e.$set(t,"remoteData",a.tableContent)}),"dealerDebit"!==t.fieldCode&&"drDealerLabel"!==t.fieldCode&&"address_dealerDebit"!==t.fieldCode&&"dealerDebitContactPersonName"!==t.fieldCode&&"dealerDebitContactInformation"!==t.fieldCode&&"dealerCodeCredit"!==t.fieldCode&&"crDealerLabel"!==t.fieldCode&&"address_dealerCodeCredit"!==t.fieldCode&&"dealerCreditContactPersonName"!==t.fieldCode&&"dealerCreditContactInformation"!==t.fieldCode&&o.push(t))}),e.dealerConfig=o;var l={property:[],editPart:[]},u=[];r.forEach(function(t,a){if(t.dataSource&&"remoteData"===t.dataSource.type)if("r2Selector"===t.editorType){"物料名称"===t.text||"物料编码"===t.text?e.orderListTitle="物料":"设施名称"===t.text?e.orderListTitle="设施":e.orderListTitle=t.text;var n=t.dataSource.data.url,i=t.dataSource.data.params,r=(0,d.default)(i),s={url:n};if(r.length){var o={};r.forEach(function(t){return"whCode"===t&&e.warehouse.warehouseCode?void(o[t]=e.warehouse.warehouseCode):"dealerCode"===t&&e.dealerInfo.dealerCode?void(o[t]=e.dealerInfo.dealerCode):void(o[t]="text"===i[t].type?i[t].value:"")}),s.data=o}e.matterParams=s}else if("r2Combo"===t.editorType){var l=t.dataSource.data.url,c=t.dataSource.data.params,f=(0,d.default)(c),m={url:l};if(f.length){var h={};f.forEach(function(e){h[e]=c[e].value}),m.data=h}(0,w.requestData)(m).then(function(e){var a=e.tableContent,n=void 0===a?[]:a,i=[];n.forEach(function(e){i.push(e.name)}),t.remoteData=[i]})}if("r2Selector"===t.editorType){var v=JSON.parse((0,_.default)(t.dataSource.data.hFields));v.unshift("transCode","inventoryName","inventoryCode","specification","invName","matCode","facilityName","facilityCode","facilitySpecification");var p=JSON.parse((0,_.default)(t.proertyContext.dataSourceCols));v.forEach(function(t){p.forEach(function(a,n){if("transCode"===a.k&&(e.matterPopOrderTitle=a.v),a.k===t)return p.splice(n,1),n--,!1})}),e.matterPopConfig=p}if(!t.hidden){if(t.dataSource&&"formData"===t.dataSource.type){if("string"==typeof t.dataSource.data.valueField){var C=t.dataSource.data.valueField.replace(/\[|]/g,"").split(/\"/),y=[];C.forEach(function(e){e&&y.push(e)}),t.dataSource.data.valueField=y}t.showFieldCode=t.dataSource.data.valueField[1]}"transCode"!==t.valueField&&"inventoryName"!==t.valueField&&"facilityName"!==t.valueField&&"物料名称"!==t.text&&"物料编码"!==t.text&&"规格"!==t.text&&"产品规格"!==t.text&&"facilityName"!==t.showFieldCode&&"facilityCode"!==t.showFieldCode&&"facilitySpecification"!==t.showFieldCode&&u.push(t)}}),console.log(u),u.length&&u.forEach(function(e,t){"tdQty"!==e.fieldCode&&"qualityQty"!==e.fieldCode&&"r2Combo"!==e.editorType||(l.property=u.slice(0,t),l.editPart=u.slice(t))}),e.matterEditConfig=l;var c=[];s.forEach(function(t){t.hiddenInRun||("r2MultiSelector"===t.xtype&&t.dataSource&&"remoteData"===t.dataSource.type&&(0,w.requestData)(e.handlerParams(t)).then(function(a){e.$set(t,"remoteData",a.tableContent)}),c.push(t))}),e.otherConfig=c})}},created:function(){var e=this;(0,B.register)();var t=this.$route.query,a=t.name,n=t.listId,i=t.transCode,s=t.relationKey;this.listId=n;var l=sessionStorage.getItem("ROSE_LOGIN_TOKEN");l&&(this.entity.dealerName=JSON.parse(l).entityId),(0,o.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.getFormViews(),e.getProcess(),i||e.getBaseInfoData(),e.getProcessStatus(),e.getAppDetail(),e.initRequest&&e.initRequest(),e.getPaymentTerm&&e.getPaymentTerm(),e.getLogisticsTerms&&e.getLogisticsTerms(),!i){t.next=19;break}return e.isResubmit=!0,e.transCode=i,t.next=13,e.getListId(i);case 13:return t.next=15,e.getUniqueId(i);case 15:if(t.t0=e.getFormData,!t.t0){t.next=19;break}return t.next=19,e.getFormData();case 19:s&&(e.relationKey=s,e.getRelationData()),wx.ready(function(){var e={title:"创建新的"+a,desc:"点击创建新的"+a+"订单",imgUrl:"https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=2952407151,1992384149&fm=26&gp=0.jpg"};(0,E.shareContent)(e)});case 21:case"end":return t.stop()}},t,e)}))()},mounted:function(){var e=this;this.$nextTick(function(){e.fillBscroll=new k.default(e.$refs.fill,{click:!0})}),T.default.isAndroid&&(window.onresize=function(){e.clientHeight>document.documentElement.clientHeight?e.btnIsHide=!0:(e.btnIsHide=!1,"INPUT"!==document.activeElement.tagName&&"TEXTAREA"!==document.activeElement.tagName||document.activeElement.blur())})}}},bLVl:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("kKsb"),p=n(v),C=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",dealerInfo:{}}},mixins:[u.default],components:{workFlow:h.default,RAction:f.default,ProjectPart:p.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=t.formData,i=n.order,s=void 0===i?{}:i;e.attachment=a,e.dealerInfo={dealerName:s.dealerName_dealerCodeCredit,dealerCode:s.dealerCodeCredit,dealerLabelName:s.crDealerLabel,amntBal:s.thenAmntBalCopy2,thenTotalAmntBal:s.thenAlreadyAmnt};var l=n.order.dataSet,d=!0,u=!1,c=void 0;try{for(var f,m=(0,r.default)(l);!(d=(f=m.next()).done);d=!0){var h=f.value;e.count=(0,C.accAdd)(e.count,h.tdAmount)}}catch(e){u=!0,c=e}finally{try{!d&&m.return&&m.return()}finally{if(u)throw c}}t.formData.validUntil=(0,o.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},bOiH:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("3cXf"),o=n(s),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("7g+Q"),m=n(f),h=a("+62G"),v=n(h),p=a("z5TY"),C=n(p),y=a("SAzG"),_=n(y),g=a("7qeq"),b=(n(g),a("u28h")),w=n(b),I=a("PzEQ"),x=n(I),D=a("iR2W"),P=n(D),S=a("kNGm"),k=n(S),L=a("dyuG"),N=n(L),M=a("L6VY"),T=(n(M),a("jnZd")),A=n(T),O=a("0AQX"),R=a("HyXB"),j=a("bKg5"),B=n(j),E=a("vl8n"),F=n(E),U=a("y8YJ"),$=n(U),Q=a("iikc"),H=n(Q),V=a("+WR7"),q=n(V),Y=a("Qg39");t.default={data:function(){return{listId:"32a2c333-02a3-416f-a133-95c7a32da678",showDealerPop:!1,dealerInfo:{},formData:{modifer:"",biId:"",dealerDebit:"",drDealerLabel:"",dealerDebitContactPersonName:"",dealerDebitContactInformation:"",opportunityTitle:"",comment:"",tdAmount:"",biProcessStatus:"",validUntil:"",salesPerson:"",salesChannels:"",categoryLabels:[],biComment:""},biReferenceId:"",categoryLabels:[],currentType:[],contactInfo:{}}},directives:{TransferDom:v.default},components:{Cell:c.default,Popup:m.default,Group:C.default,XInput:_.default,PopupPicker:A.default,Datetime:w.default,XTextarea:x.default,PopupRadio:N.default,RPicker:F.default,PopDealerList:$.default,PopSalesmanList:H.default,PopBaseinfo:q.default},mixins:[B.default],filters:{numberComma:P.default},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],this.formData.dealerDebitContactPersonName=this.dealerInfo.creatorName||"",this.formData.dealerDebitContactInformation=this.dealerInfo.dealerMobilePhone,this.formData.drDealerLabel=this.dealerInfo.dealerLabelName,this.formData.dealerDebit=this.dealerInfo.dealerCode},selContact:function(e){var t=(0,d.default)({},e);this.contactInfo=t,this.formData.dealerDebitContactPersonName=t.dealerName||"",this.formData.dealerDebitContactInformation=t.dealerMobilePhone||""},submitOrder:function(){var e=this,t="",a=[{key:"opportunityTitle",message:"请填写商机标题"},{key:"tdAmount",message:"请填写预期销售额"}];if("{}"==(0,o.default)(this.dealerInfo)&&(t="请选择客户"),t||a.every(function(a){return e.formData[a.key]?!(e.formData[a.key]<0)||(t="抱歉，销售额不允许为负数",!1):(t=a.message,!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=R.saveAndStartWf;e.formData.categoryLabels=e.categoryLabels[0];var a=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName}),n={listId:e.listId,biComment:"",formData:(0,o.default)(a),wfPara:(0,o.default)((0,r.default)({},e.processCode,{businessKey:e.businessKey,createdBy:a.creator}))};e.isResubmit&&(t=R.saveAndCommitTask,n.biReferenceId=e.biReferenceId,n.wfPara=(0,o.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=R.submitAndCalc,delete n.wfPara,delete n.biReferenceId),e.biReferenceId&&(n.biReferenceId=e.biReferenceId),e.saveData(t,n)}})},getFormData:function(){var e=this;return(0,O.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=o;r.order;e.dealerInfo={creatorName:r.dealerDebitContactPersonName||"",dealerName:r.dealerName_dealerDebit||"",dealerMobilePhone:r.dealerDebitContactInformation||"",dealerCode:r.dealerDebit||"",dealerLabelName:r.drDealerLabel||"客户",province:r.province_dealerDebit||"",city:r.city_dealerDebit||"",county:r.county_dealerDebit||"",address:r.address_dealerDebit||""},e.contactInfo={dealerName:r.dealerDebitContactPersonName||"",dealerMobilePhone:r.dealerDebitContactInformation||""},e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,d.default)({},e.formData,r,e.handlerDefault,{biComment:r.biComment,biId:r.biId,biProcessStatus:r.biProcessStatus,creator:r.creator,modifer:r.modifer,validUntil:(0,k.default)(r.validUntil,"YYYY-MM-DD")}),e.categoryLabels=[r.categoryLabels],e.biReferenceId=r.biReferenceId,e.$loading.hide()})},checkAmt:function(e){e&&(this.formData.tdAmount=Math.abs((0,Y.toFixed)(e)))},getTypeLabel:function(){var e=this;(0,R.getDictByType)("categoryLabels").then(function(t){var a=t.tableContent,n=void 0===a?[]:a,i=[];n.forEach(function(e){i.push(e.name)}),e.currentType.push(i)})},hasDraftData:function(){var e=this.formData;if(e.dealerDebit||e.opportunityTitle||e.tdAmount||e.biProcessStatus)return(0,r.default)({},"SJ_DATA",{formData:e,dealerInfo:this.dealerInfo,contactInfo:this.contactInfo,categoryLabels:this.categoryLabels})}},created:function(){var e=sessionStorage.getItem("SJ_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.contactInfo=t.contactInfo,this.categoryLabels=t.categoryLabels,sessionStorage.removeItem("SJ_DATA")}this.getTypeLabel()}}},bOvy:function(e,t){},bRBF:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("m-search",{attrs:{filterList:e.filterList,isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.matterList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.matterList,function(t,n){return a("div",{key:n,staticClass:"each_mater box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"pop-info top"},[a("span",{staticClass:"info-item"},[e._v(e._s(t.popiCode))])]),e._v(" "),a("div",{staticClass:"pop-info"},[a("span",{staticClass:"info-item"},[e._v("采购订单号: "+e._s(t.poCode))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("价税合计: "+e._s(t.thenTotalAmntBal))])]),e._v(" "),a("div",{staticClass:"pop-info"},[a("span",{staticClass:"info-item"},[e._v("已核销: "+e._s(t.thenAlreadyAmnt))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("待核销: "+e._s(t.thenAmntBal))])]),e._v(" "),a("div",{staticClass:"pop-info"},[t.accountExpirationDate||0===t.accountExpirationDate?a("span",{staticClass:"info-item"},[e._v("账期到期日: "+e._s(t.accountExpirationDate))]):e._e(),e._v(" "),t.daysOfAccount||0===t.daysOfAccount?a("span",{staticClass:"info-item"},[e._v("账期天数: "+e._s(t.daysOfAccount))]):e._e(),e._v(" "),t.ageOfAging||0===t.ageOfAging?a("span",{staticClass:"info-item"},[e._v("账龄天数: "+e._s(t.ageOfAging))]):e._e()]),e._v(" "),a("div",{staticClass:"pop-info"},[t.accountRemaingDays||0===t.accountRemaingDays?a("span",{staticClass:"info-item"},[e._v("账期剩余天数: "+e._s(t.accountRemaingDays))]):e._e(),e._v(" "),a("span",{staticClass:"info-item"},[e._v("已收票: "+e._s(t.invoicing))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("待收票: "+e._s(t.invoiced))])]),e._v(" "),a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-circle-outline selIcon",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1),e._v(" "),a("div",{staticClass:"count_mode vux-1px-t"},[a("span",{staticClass:"count_num"},[e._v(" "+e._s(e.tmpItems.length?"已选 "+e.tmpItems.length+" 个":"请选择")+" ")]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.cfmMater}},[e._v("确定")])])])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},bRMi:function(e,t,a){"use strict";function n(e){a("dLfE")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("OX8B");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("4hfg"),o=a.n(s),l=a("JFGk"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-21422c28",null);t.default=c.exports},bVUx:function(e,t){},bVic:function(e,t,a){"use strict";function n(e){a("i/ii")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("gS95");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("6a8u"),o=a.n(s),l=a("xI+v"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-2c91ecd2",null);t.default=c.exports},bYoS:function(e,t,a){"use strict";function n(e){a("S4EA")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("g27m");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("w9YQ"),o=a.n(s),l=a("z/Aa"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-6154145a",null);t.default=c.exports},bZiz:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"vux-flexbox",class:{"vux-flex-col":"vertical"===e.orient,"vux-flex-row":"horizontal"===e.orient},style:e.styles},[e._t("default")],2)},i=[],r={render:n,staticRenderFns:i};t.a=r},beoG:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("kNGm"),v=(n(h),a("qE8w"),a("HyXB")),p=a("1KNX"),C=n(p),y=a("7biW"),_=n(y);t.default={name:"PopMatterListTest",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},isShowStock:{type:Boolean,default:!1},filterList:{type:Array,default:function(){return[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"}]}},config:{type:Array,default:function(){return[]}},orderTitle:{type:String,default:"单号"},matterParams:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:m.default,RScroll:C.default,MSearch:_.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],matterList:[],limit:100,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterProperty:"",requestMethods:null}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}},matterParams:{handler:function(e){this.resetCondition(),this.requestData()},deep:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,d.default)(this.selItems)),this.$emit("input",!1),this.$event.$emit("shut-down-filter",!1)},findIndex:function(e,t){return e.findIndex(function(e){var a=!0,n=!0;if(e.orderCode){if(n=e.orderCode===t.orderCode,e.inventoryCode)return n&&e.inventoryCode===t.inventoryCode;if(e.facilityCode)return n&&e.facilityCode===t.facilityCode}return a=e.transCode===t.transCode,e.inventoryCode?a&&e.inventoryCode===t.inventoryCode:e.facilityCode?a&&e.facilityCode===t.facilityCode:void 0})},showSelIcon:function(e){return-1!==this.findIndex(this.tmpItems,e)},selThis:function(e,t){if(this.isShowStock&&0===e.qtyStockBal)return void this.$vux.alert.show({content:"当前订单库存为0，请选择其他订单"});var a=this.tmpItems,n=this.findIndex(a,e);if(-1!==n)return void a.splice(n,1);a.push(e)},cfmMater:function(){this.showPop=!1,this.tmpItems.sort(function(e,t){return t.effectiveTime-e.effectiveTime}),this.selItems=[].concat((0,d.default)(this.tmpItems)),this.$emit("sel-matter",(0,o.default)(this.selItems))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},requestData:function(){var e=[];this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}]));var t=(0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(e)},this.matterParams.data);return(0,v.requestData)({url:this.matterParams.url,data:t}).then(this.dataHandler)},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.resetCondition(),this.requestData()},delSelItem:function(e){var t=this.findIndex(this.selItems,e);-1!==t&&this.selItems.splice(t,1),this.tmpItems=[].concat((0,d.default)(this.selItems))},onPullingUp:function(){this.page++,this.requestData()},setDefaultValue:function(){this.tmpItems=[].concat((0,d.default)(this.defaultValue)),this.selItems=[].concat((0,d.default)(this.defaultValue))},dataHandler:function(e){var t=this,a=e.dataCount,n=void 0===a?0:a,i=e.tableContent,r=void 0===i?[]:i;r.forEach(function(e){e.inventoryPic=e.inventoryPic?"/H_roleplay-si/ds/download?url="+e.inventoryPic+"&width=400&height=400":t.getDefaultImg()});var s=this.$route.query.relationKey;(void 0===s?"":s)&&(this.selItems=[].concat((0,d.default)(r)),this.$emit("sel-matter",(0,o.default)(this.selItems))),this.hasNext=n>(this.page-1)*this.limit+r.length,this.matterList=1===this.page?r:[].concat((0,d.default)(this.matterList),(0,d.default)(r)),this.$nextTick(function(){t.$refs.bScroll.finishPullUp()})},resetCondition:function(){this.matterList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)}},created:function(){this.setDefaultValue()}}},bjJC:function(e,t){},bjWb:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("5VC7"),r=n(i),s=a("5Puw"),o=n(s),l=a("YkGp"),d=n(l),u=a("rHhR"),c=n(u),f=a("nVpM"),m=n(f),h=a("WVmE"),v=n(h),p=a("QMWr"),C=n(p),y=a("erBg"),_=n(y),g=a("fsDx"),b=n(g),w=a("iBgG"),I=n(w),x=a("OZZT"),D=n(x),P=a("qMm6"),S=n(P),k=a("GwOs"),L=n(k),N=a("An2j"),M=n(N),T=a("wNbs"),A=n(T),O=a("5cYO"),R=n(O),j=a("16Wp"),B=n(j),E=a("qwja"),F=n(E),U=a("0UVS"),$=n(U),Q=a("bYoS"),H=n(Q);t.default=[{path:"/home",name:"HOME",component:r.default,meta:{title:"首页",keepAlive:!0}},{path:"/commentList",name:"COMMENTLIST",component:B.default,meta:{title:"评论"}},{path:"/dashboard",name:"DASHBOARD",component:R.default,meta:{title:"仪表视图"}},{path:"/related/:listId",name:"RELATED",component:A.default,meta:{title:"相关实例"}},{path:"/list/:folder/:fileName",name:"LIST",component:D.default,meta:{title:"列表",keepAlive:!0}},{path:"/fillform/:folder/:fileName",name:"FILLFORM",component:S.default,meta:{title:"填写新内容"}},{path:"/detail/:folder/:fileName",name:"DETAIL",component:L.default,meta:{title:"订单详情",keepAlive:!0}},{path:"/workFlowFull",name:"WORKFLOWFULL",component:M.default,meta:{title:"工作流列表"}},{path:"/appDetail/:listId",name:"APPDETAIL",component:F.default,meta:{title:"应用详情"},children:[{path:"addLog",name:"ADDLOG",component:$.default,meta:{title:"新增日志"}},{path:"addAdminComment",name:"ADDADMINCOMMENT",component:H.default,meta:{title:"新增管理员评论"}}]},{path:"/adress",name:"ADRESS",component:o.default,meta:{title:"往来列表"},children:[{path:"edit_ads",name:"EDIT_ADS",component:d.default,meta:{title:"编辑往来"}},{path:"adressDetail",name:"ADRESSDETAL",component:c.default,meta:{title:"往来详情"}}]},{path:"/materlist",name:"MATERLIST",component:m.default,meta:{title:"物料列表"},children:[{path:"addMater",name:"ADDMATER",component:v.default,meta:{title:"新增物料"}},{path:"materDetail",name:"MATERDETAIL",component:C.default,meta:{title:"物料详情"}}]},{path:"/warehouse",name:"WAREHOUSE",component:_.default,meta:{title:"仓库列表"},children:[{path:"edit_warehouse",name:"EDIT_WAREHOUSE",component:b.default,meta:{title:"编辑仓库"}},{path:"warehouseDetail",name:"WAREHOUSEDETAIL",component:I.default,meta:{title:"仓库详情"}}]},{path:"/",redirect:"/home"},{path:"*",redirect:"/home"}]},bnXU:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("J0Oq"),o=n(s),l=a("3cXf"),d=n(l),u=a("HzJ8"),c=n(u),f=a("KH7x"),m=n(f),h=a("4YfN"),v=n(h),p=a("kNGm"),C=n(p),y=a("hFVz"),_=n(y),g=a("HyXB"),b=a("1KNX"),w=n(b),I=a("d7ck"),x=n(I);t.default={filters:{dateFormat:C.default},data:function(){return{transCode:"",MatPic:"",imgFileObj:{},dealer:{},baseinfo:{},dealerConfig:[],dealerDuplicateConfig:[],formData:{}}},components:{RScroll:w.default,FormCell:x.default},methods:{findData:function(){var e=this;return _.default.getDealerInfo(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=t.attachment,r=void 0===i?[]:i;e.formData=n,e.dealerDuplicateConfig.forEach(function(t){if(e.formData[t.name]&&!e.formData[t.name].length)return void(t.show=!1);t.show=!0});var s=n.baseinfo,o=void 0===s?{}:s,l=n.dealer,d=void 0===l?{}:l;switch(d.dealerStatus){case"1":d.dealerStatus="使用中";break;case"2":d.dealerStatus="未使用";break;case"0":d.dealerStatus="草稿";break;case"-1":d.dealerStatus="停用"}e.hasDefault=!0,e.baseinfo=(0,v.default)({},e.baseinfo,o),e.dealer=(0,v.default)({},e.dealer,d);for(var u in e.dealer)""==e.dealer[u]&&(e.dealer[u]="无");e.biReferenceId=e.dealer.referenceId,e.dealer.dealerPic?e.MatPic="/H_roleplay-si/ds/download?url="+e.dealer.dealerPic+"&width=400&height=400":e.getDefaultImg();var c=r.filter(function(t){return t.attacthment===e.dealer.dealerPic}),f=(0,m.default)(c,1),h=f[0],p=void 0===h?{}:h;e.imgFileObj=p}).catch(function(t){e.$loading.hide(),e.$vux.alert.show({content:t.message})})},getDefaultImg:function(){this.MatPic=a("sUQx")},goEdit:function(){this.$router.push({path:"/adress/edit_ads",query:{transCode:this.transCode}})},getFormViews:function(){var e=this;return(0,g.getFormViews)("c0375170-d537-4f23-8ed0-a79cf75f5b04").then(function(t){var a=!0,n=!1,i=void 0;try{for(var r,s=(0,c.default)(t);!(a=(r=s.next()).done);a=!0){var o=r.value;if("view"===o.viewType){e.getFormConfig(o.uniqueId);break}}}catch(e){n=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}})},getFormConfig:function(e){var t=this;(0,g.getFormConfig)(e).then(function(e){var a=e.config,n=void 0===a?[]:a;console.log(n);var i=[],r=[];n.forEach(function(e){e.isMultiple?r.push(JSON.parse((0,d.default)(e))):i=JSON.parse((0,d.default)(e.items))}),i.forEach(function(e){e.hiddenInRun||"dealerCode"!==e.fieldCode&&"dealerName"!==e.fieldCode&&"dealerPic"!==e.fieldCode&&"province"!==e.fieldCode&&"city"!==e.fieldCode&&"county"!==e.fieldCode&&"address"!==e.fieldCode&&"dealerStatus"!==e.fieldCode&&t.dealerConfig.push(e)}),r.forEach(function(e){switch(e.name){case"dealerCertificateRel":e.title="证件";break;case"deliveryAddresses":e.title="地址"}}),t.dealerDuplicateConfig=r})}},created:function(){var e=this;this.$loading.show();var t=this.$route.query;t.transCode&&(this.transCode=t.transCode,(0,o.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getFormViews();case 2:return t.next=4,e.findData();case 4:e.$loading.hide();case 5:case"end":return t.stop()}},t,e)}))())}}},bwty:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a(e.currentComponent,{ref:"fillPage",tag:"component",on:{"sel-data":e.selData,change:e.modifyRoute}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},bxBr:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{staticClass:"detail_content"},[a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("职位名称:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.jobInfo.name))])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("职位类型:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v("\n         "+e._s(e.jobInfo.type)+"\n      ")])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("创建者:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.jobInfo.creator||"无"))])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("创建时间:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.jobInfo.crtTime||"无"))])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("修改者:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.jobInfo.modifier||"无"))])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("修改时间:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.jobInfo.modTime||"无"))])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("职位状态:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.jobInfo.status))])])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},bxyf:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("4YfN"),o=n(s),l=a("KH7x"),d=n(l),u=a("3cXf"),c=n(u),f=a("0AQX"),m=a("+VRO"),h=n(m),v=a("BUFe"),p=n(v),C=a("AupE"),y=n(C),_=a("bFc7"),g=n(_),b=a("6WeX"),w=n(b),I=a("3NX5"),x=n(I),D=a("zWMP");a("Qg39");t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"",contactInfo:{},orderList:{}}},computed:{hasAdvance:function(){var e=this.contactInfo.payment;return e&&e.includes("预收")}},components:{workFlow:y.default,RAction:p.default,contactPart:g.default,PriceTotal:w.default,MatterList:x.default},mixins:[h.default],methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,f.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(e.submitInfo=JSON.parse((0,c.default)(t)),!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a={},n=t.attachment,i=void 0===n?[]:n,s=t.formData,l=void 0===s?{}:s,u=l.inPut,f=void 0===u?{}:u,m=(0,d.default)(f.dataSet,1),h=m[0],v=void 0===h?{}:h,p=l.order.dataSet,C=!0,y=!1,_=void 0;try{for(var g,b=(0,r.default)(p);!(C=(g=b.next()).done);C=!0){var w=g.value;e.count=(0,D.accAdd)(e.count,w.tdAmount),w.inventoryPic=w.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+w.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),a[w.transMatchedCode]||(a[w.transMatchedCode]=[]),a[w.transMatchedCode].push(w)}}catch(e){y=!0,_=e}finally{try{!C&&b.return&&b.return()}finally{if(y)throw _}}e.orderList=a,e.attachment=i,e.orderInfo=l,e.contactInfo=(0,o.default)({},v,l),e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo=(0,o.default)({},this.contactInfo,a,{creatorName:a.dealerDebitContactPersonName,dealerName:a.dealerName_dealerDebit,dealerMobilePhone:t.dealerDebitContactInformation,dealerContactPersonName:t.dealerDebitContactPersonName,dealerCode:a.dealerDebit,dealerLabelName:a.drDealerLabel,province:a.province_dealerDebit,city:a.city_dealerDebit,county:a.county_dealerDebit,address:a.address_dealerDebit})},judgeDealerConfig:function(e){var t=this.contactInfo.drDealerPaymentTerm.includes("预收"),a=["advancePaymentDueDate","tdAmountCopy1"];e.forEach(function(e){t&&a.includes(e.fieldCode)&&(e.hiddenInRun=!1)})}}}},c3Wr:function(e,t,a){"use strict";function n(e){a("O/CH")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("nYup");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("gPpb"),o=a.n(s),l=a("5pYO"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-540d4b02",null);t.default=c.exports},"c5h/":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages xmlx-list-container",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"instance-item-wrapper",class:{visited:t.visited},on:{click:function(a){e.goDetail(t,n)}}},[a("div",{staticClass:"instance-main"},[a("div",{staticClass:"instance-header"},[a("span",{staticClass:"instance_code vux-1px-l"},[e._v(e._s(t.transCode))]),e._v(" "),a("span",{staticClass:"instance_status",class:t.statusClass},[e._v(e._s(t.biStatus))])]),e._v(" "),a("div",{staticClass:"instance-project-type"},[a("span",{staticClass:"text"},[e._v(e._s(t.projectType_project))]),e._v(" "),a("span",{staticClass:"instance_process_status"},[e._v(e._s(t.biProcessStatus||"暂无流程"))])]),e._v(" "),a("div",{staticClass:"instance-project-container"},[a("i",{staticClass:"icon-project"}),e._v(" "),a("div",{staticClass:"instance_project_detail"},[a("div",{staticClass:"project_detail_top"},[a("div",{staticClass:"project_name"},[e._v(e._s(t.projectName_project))]),e._v(" "),a("div",{staticClass:"project_detail_amt"},[a("div",{staticClass:"amt"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(t.budgetIncome_project))+"\n                  ")]),e._v(" "),a("div",{staticClass:"text"},[e._v("收入")])])]),e._v(" "),a("div",{staticClass:"project_detail_bottom"},[a("div",[a("div",{staticClass:"project_detail_item"},[a("span",{staticClass:"project_detail_title"},[e._v("项目经理：")]),e._v(" "),a("span",{staticClass:"project_detail_value"},[e._v(e._s(t.projectManager_project))])]),e._v(" "),a("div",{staticClass:"project_detail_item"},[a("span",{staticClass:"project_detail_title"},[e._v("经理电话：")]),e._v(" "),a("span",{staticClass:"project_detail_value"},[e._v(e._s(t.phoneNumber_project||"无"))])])]),e._v(" "),a("div",{staticClass:"project_profit"},[e._v("利润率："),a("span",{staticClass:"value"},[e._v(e._s(e._f("percent")(t.budgetProfitMargin_project)))])])])])])]),e._v(" "),a("div",{staticClass:"instance-bottom vux-1px-t"},[a("div",{staticClass:"instance-bottom-wrapper"},[a("div",{staticClass:"instance_bottom_item instance_handler",class:{"when-is-more":t.handlerName.length>3}},[a("i",{staticClass:"icon icon-handler"}),e._v(" "),a("span",[e._v("经办人："+e._s(t.handlerName))])]),e._v(" "),a("div",{staticClass:"instance_bottom_item instance_mod_time"},[a("i",{staticClass:"icon icon-mod-time"}),e._v(" "),a("span",[e._v("修改时间："+e._s(e._f("dateFormat")(t.modTime,"YYYY-MM-DD HH:mm")))])])])])])}),0)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},c6WW:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("I3vJ"),v=a("1KNX"),p=n(v),C=a("7biW"),y=n(C);t.default={name:"PopProcedureList",props:{defaultValue:{type:Object,default:function(){return{}}},required:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"}},components:{Icon:c.default,Popup:m.default,RScroll:p.default,RSearch:y.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:100,page:1,hasNext:!0,scrollOptions:{pullUpLoad:!0},filterProperty:"",filterList:[{name:"名称",value:"procedureName"},{name:"编码",value:"procedureCode"}]}},watch:{defaultValue:{handler:function(e){this.selItems=(0,d.default)({},this.defaultValue)},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},showSelIcon:function(e){return this.selItems.procedureCode===e.procedureCode},selThis:function(e,t){this.selItems=(0,d.default)({},e),this.showPop=!1,this.$emit("sel-item",(0,d.default)({},e))},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,h.getUsingProcedure)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,o.default)(e.listData),(0,o.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.resetCondition(),this.getList()},onPullingUp:function(){this.page++,this.getList()},resetCondition:function(){this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)}},created:function(){this.getList()}}},c6ZO:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("4YfN"),o=n(s),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("6q39"),v=n(h),p=a("qE8w"),C=a("1KNX"),y=n(C),_=a("7biW"),g=n(_);t.default={name:"PopInvoiceList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},params:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:m.default,LoadMore:v.default,RScroll:y.default,MSearch:g.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],costList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},dataCount:0}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}},params:{handler:function(){this.getCostList()},deep:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){var t=!1;return this.selItems&&this.selItems.every(function(a){return e.transCode!==a.transCode||(t=!0,!1)}),t},selThis:function(e,t){var a="";if(this.selItems.every(function(t){return e.transCode!==t.transCode||(a="该出库单已选择，请选择其他",!1)}),a)return void this.$vux.alert.show({content:a});this.selItems.push(e),this.showPop=!1,this.$emit("sel-matter",e)},setDefaultValue:function(){var e=this;this.selItems=[],this.defaultValue.forEach(function(t){t.transCode&&e.selItems.push(t)})},getCostList:function(){var e=this,t=[],a=p.getBillingApplication;return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"transCode"}])),a((0,o.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.dataCount=n,e.hasNext=n>(e.page-1)*e.limit+r.length,e.costList=1===e.page?r:[].concat((0,d.default)(e.costList),(0,d.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.costList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getCostList()},onPullingUp:function(){this.page++,this.getCostList()}},created:function(){this.setDefaultValue(),this.getCostList()}}},c7LW:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70"}},mixins:[u.default],components:{workFlow:h.default,RAction:f.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=!0,i=!1,s=void 0;try{for(var l,d=(0,r.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;e.count=(0,v.accAdd)(e.count,u.tdAmount)}}catch(e){i=!0,s=e}finally{try{!n&&d.return&&d.return()}finally{if(i)throw s}}t.formData.validUntil=(0,o.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},c8eI:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("a3Yh"),o=n(s),l=a("3cXf"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("7g+Q"),C=n(p),y=a("PzEQ"),_=n(y),g=a("jnZd"),b=n(g),w=a("0AQX"),I=a("HyXB"),x=(a("jLp1"),a("bKg5")),D=n(x),P=a("N2r1"),S=n(P),k=a("vl8n"),L=n(k),N=a("+WR7"),M=n(N),T=a("zWMP"),A=a("Qg39");t.default={mixins:[D.default],components:{Cell:c.default,Group:m.default,Popup:C.default,XInput:v.default,XTextarea:_.default,PopCostList:S.default,PopupPicker:b.default,RPicker:L.default,PopBaseinfo:M.default},data:function(){return{listId:"18800986-a50f-11e8-96a5-005056a136d0",biComment:"",biReferenceId:"",showCostPop:!1,CostList:[{exptName:"",expCode:"",expSubject:"",costType_expCode:"",tdInvoiceType:["普票"],tdAmount:"",noTaxAmount:"",taxRate:.16,taxAmount:"",expCause:""}],invoiceTypeList:[["普票","专票"]],selectedCost:[],costIndex:0,transCode:"",formData:{biComment:"",biProcessStatus:""}}},computed:{totalAmount:function(){var e=0;return this.CostList.forEach(function(t){t.tdAmount&&(e=(0,T.accAdd)(e,t.tdAmount))}),e}},methods:{checkAmt:function(e){var t=e.tdAmount,a=e.taxRate;a&&(e.taxRate=Math.abs((0,A.toFixed)(a))),t&&(e.tdAmount=Math.abs((0,A.toFixed)(t)),e.noTaxAmount=Math.abs((0,A.toFixed)((0,T.accDiv)(e.tdAmount,1+e.taxRate))),e.taxAmount=(0,A.toFixed)((0,T.accSub)(e.tdAmount,e.noTaxAmount)))},getCost:function(e,t){this.showCostPop=!0,this.costIndex=e,this.selectedCost=[t]},addCost:function(){this.expSubjectList=[],this.CostList.push({exptName:"",expCode:"",expSubject:"",costType_expCode:"",tdInvoiceType:["普票"],tdAmount:"",noTaxAmount:"",taxRate:.16,taxAmount:"",expCause:""})},deleteCost:function(){this.CostList.pop()},selMatter:function(e){var t=e;this.CostList[this.costIndex].exptName=t.costName,this.CostList[this.costIndex].expCode=t.costCode,this.CostList[this.costIndex].expSubject=t.costSubject,this.CostList[this.costIndex].costType_expCode=t.costType},submitOrder:function(){var e=this,t="",a=[];if(this.CostList.every(function(e){return e.exptName?e.tdAmount?(a.push({tdId:e.tdId||"",expCode:e.expCode,expSubject:e.expSubject,costType_expCode:e.costType_expCode||"",tdInvoiceType:e.tdInvoiceType[0],tdAmount:e.tdAmount,noTaxAmount:e.noTaxAmount,taxRate:e.taxRate,taxAmount:e.taxAmount,expCause:e.expCause}),!0):(t="请填写申请金额",!1):(t="请选择费用名称",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=I.saveAndStartWf,n=(0,o.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,d.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:"",formData:(0,d.default)((0,r.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{crDealerLabel:"员工",dealerCodeCredit:e.formData.userCode,departmentName:e.formData.handlerUnitName,dataSet:a}})),wfPara:(0,d.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=I.saveAndCommitTask),e.processCode.length||(t=I.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,w.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.attachment=t.attachment,e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.CostList=[];var a=t.formData;e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,r.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),a.order.dataSet.forEach(function(t){var a={exptName:t.costName_expCode,expCode:t.expCode,costType_expCode:t.costType_expCode,expSubject:t.expSubject,tdAmount:t.tdAmount,noTaxAmount:t.noTaxAmount,taxRate:t.taxRate,taxAmount:t.taxAmount,expCause:t.expCause,tdId:t.tdId};e.CostList.push(a)}),e.$loading.hide()})},hasDraftData:function(){var e=!1;return this.CostList.forEach(function(t){if(t.exptName)return e=!0,!1}),!!e&&(0,o.default)({},"FYBX_DATA",{cost:this.CostList,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("FYBX_DATA");if(e){var t=JSON.parse(e);this.CostList=t.cost,this.formData=t.formData,sessionStorage.removeItem("FYBX_DATA")}}}},cBID:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HXPS"),r=n(i),s=a("7g+Q"),o=n(s),l=a("6q39"),d=n(l),u=a("1KNX"),c=n(u),f=a("7biW"),m=n(f);t.default={name:"GroupList",props:{show:{type:Boolean,default:!1},defaultValue:{type:String,default:""},data:{type:Array,default:function(){return[]}}},components:{Icon:r.default,Popup:o.default,LoadMore:d.default,RScroll:c.default,MSearch:m.default},data:function(){return{showPop:!1,scrollOptions:{click:!0}}},watch:{show:{handler:function(e){this.showPop=e}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){var t=!1;return e.name===this.defaultValue&&(t=!0),t},selThis:function(e,t){this.showPop=!1,this.$emit("sel-group",e.name)},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.$emit("list-search",a)}},created:function(){}}},cEa5:function(e,t,a){"use strict";function n(e){a("11x2")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("fkNu");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("rAju"),o=a.n(s),l=a("8uS7"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-fa17fb5e",null);t.default=c.exports},cG8U:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=(a("XAqG"),a("HyXB"),a("MjAd")),o=n(s),l=a("ak47");n(l);t.default={name:"CPXQ_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"经办人",value:"handlerName"},{name:"交易号",value:"transCode"},{name:"员工",value:"profileName"}],listViewID:2375}},mixins:[o.default],methods:{pathChange:function(e,t,a){var n=this;if(!this.clickVisited){var i=e.transCode,s=this.$route.query.name,o=this.$route.params,l=o.folder,d=o.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,r.default)({},e));var u=a+"/"+l+"/"+d;setTimeout(function(){n.clickVisited=!1,n.$router.push({path:u,query:{name:s,transCode:i}})},200)}},goDetail:function(e,t){this.pathChange(e,t,"/detail")},goUserEdit:function(e,t){this.pathChange(e,t,"/fillform")}}}},cHSc:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper cpxq-detail-container"},[a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.contactInfo,payment:!1,logistics:!1}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"product"},[e._m(0),e._v(" "),a("form-cell",{attrs:{cellTitle:"标题",cellContent:e.orderInfo.launchTitle}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"描述",cellContent:e.orderInfo.launchDescribe}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"类型",cellContent:e.orderInfo.launchType}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"备注",cellContent:e.orderInfo.biComment}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1)])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title"},[a("div",[a("span",{staticClass:"iconfont icon-mingxi1"}),e._v(" "),a("span",[e._v("产品信息")])])])}],r={render:n,staticRenderFns:i};t.a=r},cIwV:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"vux-cell-box weui-cell",class:e.className,style:e.style,on:{click:e.onClick}},[e._t("default")],2)},i=[],r={render:n,staticRenderFns:i};t.a=r},"cK+j":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("just-word-item",{key:n,attrs:{item:t,"no-count":""},nativeOn:{click:function(a){e.goDetail(t,n)}},scopedSlots:e._u([{key:"list-item",fn:function(t){var n=t.item;return e._l(n.detailItem,function(t,i){return a("div",{key:i,staticClass:"each-slot-item"},[a("div",{staticClass:"top-content"},[e._v("汇票号: "+e._s(t.draftNumber))]),e._v(" "),a("div",{staticClass:"main-content"},[a("div",{staticClass:"info_part"},[e._v("\n                承汇类型: "+e._s(n.draftType)+"\n              ")]),e._v(" "),a("div",{staticClass:"info_part"},[e._v("\n                承汇人: "+e._s(n.accepter)+"\n              ")])])])})}}])})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},cNmV:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"upload-image-container vux-1px-l"},[a("input",{staticStyle:{display:"none"},attrs:{type:"file",name:"file",id:"upload-image",accept:"image/*"},on:{change:e.uploadFile}}),e._v(" "),a("label",{staticClass:"label",attrs:{for:"upload-image"}}),e._v(" "),e.imgSrc?a("img",{staticClass:"upload",attrs:{src:e.imgSrc},on:{load:e.imgLoad,error:function(t){e.getDefaultImg()}}}):a("div",{staticClass:"upload"},[a("span",{staticClass:"iconfont icon-icon"}),e._v(" "),a("span",{staticClass:"add_text"},[e._v("增加图片")])]),e._v(" "),a("spinner",{directives:[{name:"show",rawName:"v-show",value:e.showLoading,expression:"showLoading"}],staticClass:"loading vux-1px-l",attrs:{type:"circles"}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},cQ92:function(e,t,a){"use strict";function n(e){a("Knib")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Bd2n");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("7Fqm"),o=a.n(s),l=a("cViY"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-16adde76",null);t.default=c.exports},cRi4:function(e,t){},cSDn:function(e,t){},cTTd:function(e,t){},cU2r:function(e,t){},cViY:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages xsbj-list-conatiner",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"instance-item-wrapper",class:{visited:t.visited},on:{click:function(a){e.goDetail(t,n)}}},[a("div",{staticClass:"instance-main"},[a("div",{staticClass:"instance-header"},[a("span",{staticClass:"instance_code vux-1px-l"},[e._v(e._s(t.transCode))]),e._v(" "),a("span",{staticClass:"instance_status",class:t.statusClass},[e._v(e._s(t.biStatus))])]),e._v(" "),a("div",{staticClass:"instance-project-container"},[a("div",{staticClass:"project_name",class:{"time-to-wrap":t.projectName_project.length>12}},[e._v(e._s(t.projectName_project))]),e._v(" "),a("div",[a("div",{staticClass:"project_manager"},[a("span",{staticClass:"project_manager_title"},[e._v("项目经理：")]),e._v(" "),a("span",{staticClass:"project_manager_value"},[e._v(e._s(t.projectManager_project))])])])]),e._v(" "),a("div",{staticClass:"instance-task-container"},e._l(t.detailItem,function(t,n){return a("div",{key:n,staticClass:"instance_task_item"},[a("i",{staticClass:"icon",class:[e.getTaskIcon(n)]}),e._v(" "),a("div",{staticClass:"task-detail vux-1px-b",class:{"when-is-long":t.taskName.length>18}},[a("div",{staticClass:"task_name"},[e._v(e._s(t.taskName))]),e._v(" "),a("div",{staticClass:"task_info"},[a("div",{staticClass:"task_info_item"},[a("span",{staticClass:"task_info_title"},[e._v("预算成本：")]),e._v(" "),a("span",{staticClass:"task_info_amt"},[e._v("￥"+e._s(e._f("numberComma")(t.budgetHomeworkCost)))])]),e._v(" "),a("div",{staticClass:"task_info_item"},[a("span",{staticClass:"task_info_title"},[e._v("周期天数：")]),e._v(" "),a("span",{staticClass:"task_info_day"},[e._v(e._s(t.planCycleDays||0)+"天")])])])])])}),0)]),e._v(" "),a("div",{staticClass:"instance-bottom vux-1px-t"},[a("div",{staticClass:"instance-bottom-wrapper"},[a("div",{staticClass:"instance_bottom_item instance_handler"},[a("i",{staticClass:"icon icon-handler"}),e._v(" "),a("span",[e._v("经办人："+e._s(t.handlerName))])]),e._v(" "),a("div",{staticClass:"instance_bottom_item instance_mod_time"},[a("i",{staticClass:"icon icon-mod-time"}),e._v(" "),a("span",[e._v("修改时间："+e._s(e._f("dateFormat")(t.modTime,"YYYY-MM-DD HH:mm")))])])])])])}),0)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},cW3i:function(e,t){},caTQ:function(e,t,a){"use strict";function n(e){a("TuPP")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("5KgG");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("FFsY"),o=a.n(s),l=a("JxH7"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-a2a737f6",null);t.default=c.exports},"car/":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MjAd"),r=n(i),s=(a("vS5q"),a("4bt0")),o=n(s);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2545,chartShow:!1,hasNext:!0,scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0}}},components:{ApplyChart:o.default},mixins:[r.default],methods:{}}},ccoT:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2504,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[i.default],methods:{},created:function(){}}},cdvu:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},ceHg:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("J0Oq"),o=n(s),l=a("ZLEe"),d=n(l),u=a("3cXf"),c=n(u),f=a("HzJ8"),m=n(f),h=a("KH7x"),v=n(h),p=a("4YfN"),C=n(p),y=a("+62G"),_=n(y),g=a("Nk/b"),b=n(g),w=a("7g+Q"),I=n(w),x=a("z5TY"),D=n(x),P=a("wDjS"),S=n(P),k=a("KFOb"),L=n(k),N=a("HXPS"),M=n(N),T=a("SAzG"),A=n(T),O=a("u28h"),R=n(O),j=a("HyXB"),B=a("hFVz"),E=n(B),F=a("vl8n"),U=n(F),$=a("PKHo"),Q=n($),H=a("1KNX"),V=n(H),q=a("5gKc"),Y=n(q);a("44qn"),a("z0pV");t.default={data:function(){return{addressData:L.default,transCode:"",picShow:!1,imgFileObj:{},MatPic:"",AccountRelType:[],cAccountAddress:[],dAccountAddress:[],pickerStatus:!1,showAddress:!1,dealerType:[],PhoneWarn:!1,MobileWarn:!1,EmailWarn:!1,codeWarn:!1,baseinfo:{handler:"",handlerName:"",handlerArea:"",handlerAreaName:"",handlerUnit:"",handlerUnitName:"",handlerRole:"",handlerRoleName:"",activeTime:"",comment:""},dealer:{dealerCode:"",dealerName:"",dealerLabelName:"",province:"",city:"",county:"",address:"",dealerPhone:"",dealerMobilePhone:"",dealerMail:"",paymentTerm:"",dealerLogisticsTerms:"",pamentDays:"",dealerStatus:"",comment:"",dealerPic:""},statusList:[],dealerStatus:"使用中",submitSuccess:!1,scrollOptions:{click:!0},dealerConfig:[],dealerDuplicateConfig:[],dealerDuplicateData:{},viewId:""}},computed:{disabledSubmit:function(){return this.PhoneWarn||this.MobileWarn||this.EmailWarn||this.codeWarn},dealerLabelName:function(){return this.dealer.dealerLabelName}},watch:{dealerLabelName:function(e){var t=this.dealer.dealerLabelName;this.dealerDuplicateConfig.forEach(function(e){"deliveryAddresses"===e.name&&(e.isHidden=!1,t&&(t.includes("客户")||t.includes("供应商")||t.includes("加工商")||t.includes("渠道商")||t.includes("服务商"))||(e.isHidden=!0)),"dealerCertificateRel"===e.name&&(e.isHidden=!1,t&&(t.includes("生产商")||t.includes("经销供应商"))||(e.isHidden=!0))})}},directives:{TransferDom:_.default},mixins:[Q.default],components:{Picker:b.default,Popup:I.default,Group:D.default,RPicker:U.default,XAddress:S.default,Icon:M.default,RScroll:V.default,UploadImage:Y.default,XInput:A.default,Datetime:R.default},methods:{onUpload:function(e){this.dealer.dealerPic=e.src},getDealer:function(){var e=this;return E.default.getDictByType().then(function(t){var a=t.tableContent;return a&&a.forEach(function(e){e.selected=!1}),e.AccountRelType=a,e.$nextTick(function(){e.$refs.bScroll.refresh()}),a}).catch(function(t){e.$vux.alert.show({content:t.message})})},DealerPop:function(){var e=this;this.pickerStatus=!0,this.dealerType=[];var t=this.dealer.dealerLabelName.split(",");this.dealer.dealerLabelName.length&&t.forEach(function(t){var a={name:t};e.dealerType.push(a)})},onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},showSelIcon:function(e){return-1!==this.dealerType.findIndex(function(t){return t.name===e.name})},selectType:function(e){e.selected=!e.selected;var t=this.dealerType,a=t.findIndex(function(t){return t.name===e.name});if(-1!==a)return void t.splice(a,1);t.push(e)},cfmMater:function(){var e=this;this.pickerStatus=!1,this.dealer.dealerLabelName="",this.dealerType.forEach(function(t){if(e.dealer.dealerLabelName.length)return void(e.dealer.dealerLabelName+=","+t.name);e.dealer.dealerLabelName+=t.name})},check:function(e,t){"dealerPhone"===e.fieldCode?e.warn=this.checkPhone():"dealerMobilePhone"===e.fieldCode?e.warn=this.checkMobile():"dealerMail"===e.fieldCode&&(e.warn=this.checkEmail())},checkPhone:function(){var e=/^0\d{2,3}-\d{7,8}$/;return this.dealer.dealerPhone.length>0&&!e.test(this.dealer.dealerPhone)?this.PhoneWarn=!0:this.PhoneWarn=!1,this.PhoneWarn},checkMobile:function(){var e=/^[1][3,4,5,7,8][0-9]{9}$/;return this.dealer.dealerMobilePhone.length>0&&!e.test(this.dealer.dealerMobilePhone)?this.MobileWarn=!0:this.MobileWarn=!1,this.MobileWarn},checkEmail:function(){var e=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;return this.dealer.dealerMail.length>0&&!e.test(this.dealer.dealerMail)?this.EmailWarn=!0:this.EmailWarn=!1,this.EmailWarn},checkCode:function(e){var t=/^[1-9][0-9]{5}$/;return e.postalCode.length>0&&!t.test(e.postalCode)?this.codeWarn=!0:this.codeWarn=!1,this.codeWarn},findData:function(){var e=this;return E.default.getDealerInfo(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=t.attachment,r=void 0===i?[]:i;e.dealerDuplicateConfig.forEach(function(t){n[t.name].length&&(e.dealerDuplicateData[t.name]=n[t.name])});var s=n.baseinfo,o=void 0===s?{}:s,l=n.dealer,d=void 0===l?{}:l;switch(d.dealerStatus){case"1":e.dealerStatus="使用中";break;case"2":e.dealerStatus="未使用";break;case"0":e.dealerStatus="草稿";break;case"-1":e.dealerStatus="停用"}e.baseinfo=(0,C.default)({},e.baseinfo,o),e.dealer=(0,C.default)({},e.dealer,d),e.dealer.dealerPic.length>0?(e.picShow=!0,e.MatPic="/H_roleplay-si/ds/download?url="+e.dealer.dealerPic+"&width=400&height=400"):(e.picShow=!0,e.getDefaultImg());var u=r.filter(function(t){return t.attacthment===e.dealer.dealerPic}),c=(0,v.default)(u,1),f=c[0],m=void 0===f?{}:f;e.cAccountAddress=[e.dealer.province,e.dealer.city,e.dealer.county],e.imgFileObj=m})},getDefaultImg:function(){this.MatPic=a("tVsm")},changeAddress:function(e,t){this.AccountAddress=t},getAddress:function(){if(this.AccountAddress.length>0){if(this.dealer.province=this.AccountAddress[0],this.dealer.county=this.AccountAddress[2],"市辖区"===this.AccountAddress[1])return void(this.dealer.city="");this.dealer.city=this.AccountAddress[1]}},onChange:function(e,t,a,n){if("deliveryProvince"===a.fieldCode){var i="",r="",s=!0,o=!1,l=void 0;try{for(var d,u=(0,m.default)(this.dealerDuplicateConfig[t].items);!(s=(d=u.next()).done);s=!0){var c=d.value;if("break"===function(t){if("deliveryProvince"===t.fieldCode){var a=!0,s=!1,o=void 0;try{for(var l,d=(0,m.default)(t.remoteData);!(a=(l=d.next()).done);a=!0){var u=l.value;if(u.name===e){i=u.id;break}}}catch(e){s=!0,o=e}finally{try{!a&&d.return&&d.return()}finally{if(s)throw o}}}if("deliveryCity"===t.fieldCode)return t.requestParams.data.parentId=i,(0,j.requestData)(t.requestParams).then(function(e){e.tableContent&&(e.tableContent.length?(e.tableContent.forEach(function(e){e.originValue=e.value,e.value=e.name}),n.deliveryCity=e.tableContent[0].name,r=e.tableContent[0].originValue):n.deliveryCity="",t.remoteData=e.tableContent)}),"break"}(c))break}}catch(e){o=!0,l=e}finally{try{!s&&u.return&&u.return()}finally{if(o)throw l}}}else if("deliveryCity"===a.fieldCode){var f="",h=!0,v=!1,p=void 0;try{for(var C,y=(0,m.default)(this.dealerDuplicateConfig[t].items);!(h=(C=y.next()).done);h=!0){var _=C.value,g=function(t){if("deliveryCity"===t.fieldCode){var a=!0,i=!1,r=void 0;try{for(var s,o=(0,m.default)(t.remoteData);!(a=(s=o.next()).done);a=!0){var l=s.value;if(l.name===e){f=l.originValue;break}}}catch(e){i=!0,r=e}finally{try{!a&&o.return&&o.return()}finally{if(i)throw r}}}if("deliveryCounty"===t.fieldCode)return t.requestParams.data.parentId=f,(0,j.requestData)(t.requestParams).then(function(e){e.tableContent&&(e.tableContent.length?(e.tableContent.forEach(function(e){e.originValue=e.value,e.value=e.name}),n.deliveryCounty=e.tableContent[0].name):n.deliveryCounty="",t.remoteData=e.tableContent)}),"break"}(_);if("break"===g)break}}catch(e){v=!0,p=e}finally{try{!h&&y.return&&y.return()}finally{if(v)throw p}}}},submit:function(){var e=this;for(var t in this.dealer)"string"==typeof this.dealer[t]&&this.dealer[t].indexOf(" ")>=0&&(this.dealer[t]=this.dealer[t].replace(/\s/g,""));this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){switch(e.dealerStatus){case"使用中":e.dealer.dealerStatus="1";break;case"未使用":e.dealer.dealerStatus="2";break;case"草稿":e.dealer.dealerStatus="0";break;case"停用":e.dealer.dealerStatus="-1"}e.dealer.status&&delete e.dealer.status;var t={listId:"c0375170-d537-4f23-8ed0-a79cf75f5b04",formData:{baseinfo:e.baseinfo,dealer:e.dealer}};e.dealerDuplicateConfig.forEach(function(a){e.dealerDuplicateData[a.name].length&&(t.formData[a.name]=e.dealerDuplicateData[a.name])}),e.transCode?E.default.update(t).then(function(t){t.success?(e.submitSuccess=!0,e.$vux.alert.show({content:"修改成功",onHide:function(){e.$router.go(-1)}})):e.$vux.alert.show({content:t.message})}):E.default.save(t).then(function(t){t.success?(e.submitSuccess=!0,e.$vux.alert.show({content:"提交成功",onHide:function(){if(1===e.$route.query.add){var t=[e.dealer];sessionStorage.setItem("DEALERLIST_SELITEMS",(0,c.default)(t))}e.$router.go(-1)}})):e.$vux.alert.show({content:t.message})})}})},save:function(){var e=this;if(!this.disabledSubmit){var t="";if([{key:"dealerCode",message:"【往来编码】"},{key:"dealerName",message:"【往来名称】"},{key:"dealerLabelName",message:"【往来类型】"}].every(function(a){return""!==e.dealer[a.key]||(t=a.message+"不能为空",!1)}),!t&&this.PhoneWarn&&(t="电话号码格式不正确"),!t&&this.MobileWarn&&(t="手机号码格式不正确"),!t&&this.EmailWarn&&(t="邮件格式不正确"),!t&&(0,d.default)(this.dealerDuplicateData).length&&(0,d.default)(this.dealerDuplicateData).forEach(function(a){if(e.dealerDuplicateData[a].length<=0)return!1;e.dealerDuplicateConfig.forEach(function(n){n.name===a&&n.items.forEach(function(n){n.hidden||e.dealerDuplicateData[a].forEach(function(e){if(!n.allowBlank&&!e[n.fieldCode])return t=n.text+"不能为空",!1})})})}),t)return void this.$vux.alert.show({content:t});this.submit()}},addMoreUnit:function(e){var t={};e.items.forEach(function(e){e.hidden||(t[e.fieldCode]="")}),this.dealerDuplicateData[e.name].push(t)},deleteMoreUnit:function(e){this.dealerDuplicateData[e.name].pop()},handlerParams:function(e){var t=e.dataSource.data.url,a=e.dataSource.data.params,n=(0,d.default)(a),i={url:t};if(n.length){var r={};n.forEach(function(e){r[e]="text"===a[e].type?a[e].value:""}),i.data=r}return i},getFormViews:function(){var e=this;return(0,j.getFormViews)("c0375170-d537-4f23-8ed0-a79cf75f5b04").then(function(t){var a=!0,n=!1,i=void 0;try{for(var r,s=(0,m.default)(t);!(a=(r=s.next()).done);a=!0){var o=r.value;if("submit"===o.viewType){e.viewId=o.uniqueId;break}}}catch(e){n=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}})},getFormConfig:function(){var e=this;(0,j.getFormConfig)(this.viewId).then(function(t){var a=t.config,n=void 0===a?[]:a;console.log(n);var i=[],r=[];n.forEach(function(e){e.isMultiple?"r2Fileupload"!==e.xtype&&r.push(JSON.parse((0,c.default)(e))):i=JSON.parse((0,c.default)(e.items))}),i.forEach(function(t){t.hiddenInRun||("province"!==t.fieldCode&&"city"!==t.fieldCode&&"county"!==t.fieldCode&&"dealerLabelName"!==t.fieldCode&&("r2Combo"!==t.xtype&&"r2MultiSelector"!==t.xtype||!t.dataSource||"remoteData"!==t.dataSource.type||(0,j.requestData)(e.handlerParams(t)).then(function(a){a.tableContent?(a.tableContent.forEach(function(e){e.value=e.name}),e.$set(t,"remoteData",a.tableContent)):(a.forEach(function(e){e.value=e.name}),e.$set(t,"remoteData",a))})),"dealerCode"!==t.fieldCode&&"dealerName"!==t.fieldCode&&"dealerPic"!==t.fieldCode&&"city"!==t.fieldCode&&"county"!==t.fieldCode&&e.dealerConfig.push(t))}),r.forEach(function(t){switch(t.name){case"deliveryAddresses":t.title="地址";break;case"dealerCertificateRel":t.title="证件"}var a=[];t.items.forEach(function(t,n){t.hidden||("r2Combo"===t.editorType&&t.dataSource&&"remoteData"===t.dataSource.type&&(t.requestParams=e.handlerParams(t),(0,j.requestData)(e.handlerParams(t)).then(function(a){a.tableContent?(a.tableContent.forEach(function(e){e.value=e.name}),e.$set(t,"remoteData",a.tableContent)):(a.forEach(function(e){e.value=e.name}),e.$set(t,"remoteData",a))})),a.push(t))}),t.items=a,e.$set(e.dealerDuplicateData,t.name,[])}),e.dealerDuplicateConfig=r,e.$loading.hide()})}},created:function(){var e=this;this.$loading.show();var t=this.$route.query;if(t.transCode)return this.transCode=t.transCode,void(0,o.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getFormViews();case 2:return t.next=4,e.getFormConfig();case 4:return t.next=6,e.findData();case 6:e.getDealer();case 7:case"end":return t.stop()}},t,e)}))();(0,o.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getFormViews();case 2:return t.next=4,e.getFormConfig();case 4:e.getDealer().then(function(t){var a=(0,v.default)(t,1);a[0];e.$route.query.pickVal?(e.dealer.dealerLabelName=e.$route.query.pickVal,e.pickerStatus=!1):e.dealer.dealerLabelName=e.$route.query.dealerType?e.$route.query.dealerType:""});case 5:case"end":return t.stop()}},t,e)}))(),(0,j.getBaseInfoDataBase)().then(function(t){e.baseinfo=(0,C.default)({},e.baseinfo,t,{activeTime:e.changeDate(new Date,!0)})})},mounted:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},beforeRouteEnter:function(e,t,a){e.meta.title="新增往来",e.query.transCode&&(e.meta.title="编辑往来"),a()},beforeRouteLeave:function(e,t,a){var n=e.path;this.submitSuccess&&"/adress"===n&&(e.meta.reload=!0),a()}}},cgbk:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages kcpd-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-warehouse-list",{attrs:{title:"仓库名称","default-value":e.warehouse,isRequired:""},on:{"sel-item":e.selWarehouseIn}}),e._v(" "),a("div",{staticClass:"materiel_list"},[e.matterList.length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.matterList,function(t,n){return a("div",{key:n,staticClass:"each_mater",class:{mater_delete:e.matterModifyClass,"vux-1px-b":n<e.matterList.length-1}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass,config:e.matterEditConfig.property},on:{"on-modify":function(a){e.modifyMatter(t,n)}},nativeOn:{click:function(a){e.delClick(n,t)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:n.tdQty,expression:"item.tdQty"}],staticClass:"mater_num"},[e._v("\n                    盘点数量: "),a("span",{staticClass:"num"},[e._v(e._s(n.tdQty))]),e._v("\n                    差异数量: "),a("span",{staticClass:"diff_num"},[e._v(e._s(n.differenceNum))])])]}},{key:"edit",fn:function(t){var i=t.item;return[i.tdQty||e.matterModifyClass?e._e():a("div",{staticClass:"mater_other",on:{click:function(t){e.modifyMatter(i,n)}}},[a("div",{staticClass:"edit-tips"},[e._v("点击进行填写")])])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(n,t)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)}),0)]:[a("div",{on:{click:function(t){e.showMaterielPop=!e.showMaterielPop}}},[a("div",{staticClass:"title"},[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),a("div",{staticClass:"tips"},[e._v("请选择"+e._s(e.orderListTitle))]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),e.matterList.length?a("span",{staticClass:"add_more",on:{click:e.addMatter}},[e._v("新增更多物料")]):e._e()]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showMaterielPop,"default-value":e.matterList,config:e.matterPopConfig,"matter-params":e.matterParams},on:{"sel-matter":e.selMatter},model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}})],2),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,config:e.matterEditConfig},on:{"sel-confirm":e.selConfirm},model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode"},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-circle-outline 'outline' v-show=selItems.length !== matterList.length",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"btn-item",on:{click:e.save}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},"cq+X":function(e,t){},crdR:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("XAqG"),c=a("MjAd"),f=n(c);t.default={name:"USER_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"使用中",status:1},{name:"未使用",status:2},{name:"停用",status:-1}],filterList:[{name:"工号",value:"userCode"},{name:"姓名",value:"nickname"}]}},mixins:[f.default],methods:{getDefaultImg:function(e,t){var n=a(1===t?"Fuf7":"0gu7");return e&&(e.photo=n),n},pathChange:function(e,t,a){var n=this;if(!this.clickVisited){var i=e.colId,r=this.$route.query,s=r.name,o=r.listId,l=this.$route.params,u=l.folder,c=l.fileName,f=a+"/"+u+"/"+c;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,d.default)({},e)),setTimeout(function(){n.clickVisited=!1,n.$router.push({path:f,query:{name:s,colId:i,listId:o}})},200)}},goDetail:function(e,t){this.pathChange(e,t,"/detail")},getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=[];return this.activeTab&&a.push({operator:"in",value:this.activeTab,property:"status"}),this.serachVal&&(a=[].concat((0,o.default)(a),[{operator:"like",value:this.serachVal,property:this.filterProperty}])),(0,u.getAllUsers)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(a)}).then(function(a){var n=a.dataCount,i=void 0===n?0:n,r=a.tableContent,s=void 0===r?[]:r;e.hasNext=i>(e.page-1)*e.limit+s.length,s.forEach(function(t){var a=["女","男"],n=["","使用中","未使用","草稿"],i=["临时账户","长期有效"];t.genderText=a[t.gender]||"未知",t.status=n[t.status]||"停用",t.userTypeText=i[t.userType],e.setStatus(t),t.photo||(t.photo=e.getDefaultImg("",t.gender))}),e.listData=1===e.page?s:e.listData.concat(s),t||e.$nextTick(function(){e.resetScroll()});var o="";t&&0===e.activeIndex&&e.total&&(o=i-e.total==0?"暂无新数据":o="新增"+(i-e.total)+"条数据",e.$vux.toast.show({text:o,position:"top",width:"50%",type:"text",time:700})),0===e.activeIndex&&1===e.page&&sessionStorage.setItem(e.applyCode,i),e.$loading.hide()}).catch(function(t){e.resetScroll()})},setStatus:function(e){switch(e.status){case"使用中":e.statusClass="duty_done_c";break;default:e.statusClass="duty_fall_c"}}}}},"cv/8":function(e,t){},cvl1:function(e,t){},d329:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper xmlw-detail-container"},[a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.orderInfo,"order-info":e.orderInfo}}),e._v(" "),a("div",{staticClass:"project_info"},[e._m(0),e._v(" "),a("div",{staticClass:"project_content"},[a("form-cell",{attrs:{cellTitle:"名称",cellContent:e.approval.projectName,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"大类",cellContent:e.approval.projectType}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"子类",cellContent:e.approval.projectSubclass}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"经理",cellContent:e.approval.projectManager}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"经理电话",cellContent:e.approval.phoneNumber}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"说明",cellContent:e.approval.comment||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"预期开始日期",cellContent:e._f("timeSplit")(e.approval.expectStartDate)}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"预期截止日期",cellContent:e._f("timeSplit")(e.approval.expectEndDate)}})],1)]),e._v(" "),a("div",{staticClass:"project_info"},[e._m(1),e._v(" "),a("div",{staticClass:"project_content"},[a("form-cell",{attrs:{cellTitle:"收入",showSymbol:"",textRight:"",cellContent:e.numberComma(e.approval.budgetIncome),showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"成本",showSymbol:"",textRight:"",cellContent:e.numberComma(e.approval.budgetCapital)}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"费用",showSymbol:"",textRight:"",cellContent:e.numberComma(e.approval.budgetCost)}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"利润",showSymbol:"",textRight:"",cellContent:e.numberComma(e.approval.budgetProfit)}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"利润率",textRight:"",cellContent:e.percent(e.approval.budgetProfitMargin)}})],1)]),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.comment.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}})],1)])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"info_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-xiangmu"}),e._v("项目信息")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"info_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-yusuan2"}),e._v("预算明细")])}],r={render:n,staticRenderFns:i};t.a=r},d3GC:function(e,t){},d3XY:function(e,t){},d3k1:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=navigator.userAgent.toLowerCase(),i=t.isIOS=!!n.match(/\(i[^;]+;( u;)? cpu.+mac os x/),r=t.isIPhone=n.indexOf("iphone")>0,s=t.isIPad=n.indexOf("ipad")>0,o=t.isAndroid=n.indexOf("android")>0,l=t.isPC=!(i||o),d=t.isQYWX=null!==n.match(/wxwork/);t.default={isIOS:i,isIPhone:r,isIPad:s,isAndroid:o,isPC:l,isQYWX:d}},d3zw:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MjAd"),r=n(i),s=(a("vS5q"),a("4bt0")),o=n(s);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2568,chartShow:!1,hasNext:!0,scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0},sortList:[{name:"交易号",key:"transCode"},{name:"修改时间",key:"modTime"},{name:"客户名称",key:"dealerName"}]}},components:{ApplyChart:o.default},mixins:[r.default],methods:{}}},d5Kw:function(e,t,a){"use strict";function n(e){a("ET1x")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HU/K");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("rxOo"),o=a.n(s),l=a("yB79"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},d5RT:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MgeX"),r=n(i),s=a("HzJ8"),o=n(s),l=a("4YfN"),d=n(l),u=a("3cXf"),c=n(u),f=a("IHPB"),m=n(f),h=a("HXPS"),v=n(h),p=a("7g+Q"),C=n(p),y=a("1KNX"),_=n(y),g=a("vS5q"),b=a("7biW"),w=n(b);t.default={name:"PopOrderList",props:{show:{type:Boolean,default:!1},params:{type:Object,default:function(){return{dealerCode:"",whCode:""}}},defaultValue:{type:Object,default:function(){return{}}},isMaterOrder:{type:Boolean,default:!1},isMaterProccing:{type:Boolean,default:!1}},components:{Icon:v.default,Popup:C.default,RScroll:_.default,RSearch:w.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],listData:[],limit:100,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterProperty:"",filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"订单号",value:"transCode"}]}},watch:{show:{handler:function(e){this.showPop=e}},params:{handler:function(){this.resetCondition(),this.getList()}},defaultValue:{handler:function(e){this.setDefaultValue()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,m.default)(this.selItems)),this.$emit("input",!1),this.$event.$emit("shut-down-filter",!1)},showSelIcon:function(e){return-1!==this.tmpItems.findIndex(function(t){return t.transCode===e.transCode&&t.inventoryCode===e.inventoryCode})},selThis:function(e,t){if(!this.isMaterOrder&&(0===e.qtyStockBal||0===e.qtyStock)||this.isMaterOrder&&0===e.qtyStock)return void this.$vux.alert.show({content:"当前订单库存为0，请选择其他订单"});var a=this.tmpItems,n=a.findIndex(function(t){return t.transCode===e.transCode&&t.inventoryCode===e.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(e)},selConfirm:function(){this.showPop=!1,this.tmpItems.sort(function(e,t){return t.effectiveTime-e.effectiveTime}),this.selItems=[].concat((0,m.default)(this.tmpItems)),this.$emit("sel-matter",(0,c.default)(this.selItems))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getList:function(){var e=this,t=[];this.srhInpTx&&(t=[{operator:"like",value:this.srhInpTx,property:this.filterProperty}]);var a=g.getSalesOrderList,n=(0,d.default)({},this.params);this.isMaterOrder&&(a=g.getMaterOrderList,n={}),this.isMaterProccing&&(a=g.getNBJGLLOrderList);var i=this.$route.query.relationKey,r=void 0===i?"":i;return r&&(t=[{operator:"eq",value:r,property:"transCode"}]),a((0,d.default)({},n,{limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,c.default)(t)})).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,s=void 0===i?[]:i;s.forEach(function(t){t.inventoryPic=t.inventoryPic?"/H_roleplay-si/ds/download?url="+t.inventoryPic+"&width=400&height=400":e.getDefaultImg()}),r&&(e.selItems=[].concat((0,m.default)(s)),e.$emit("sel-matter",(0,c.default)(e.selItems))),e.hasNext=n>(e.page-1)*e.limit+s.length,e.listData=1===e.page?s:[].concat((0,m.default)(e.listData),(0,m.default)(s)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},resetCondition:function(){this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.resetCondition(),this.getList()},clearList:function(){this.srhInpTx="",this.resetCondition(),this.getList()},delSelItem:function(e){var t=this.selItems.findIndex(function(t){return t.transCode===e.transCode&&t.inventoryCode===e.inventoryCode});-1!==t&&this.selItems.splice(t,1),this.tmpItems=[].concat((0,m.default)(this.selItems))},clearSel:function(){this.selItems=[],this.tmpItems=[]},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var i,s=(0,o.default)((0,r.default)(this.defaultValue));!(t=(i=s.next()).done);t=!0){var l=i.value;e=[].concat((0,m.default)(e),(0,m.default)(l))}}catch(e){a=!0,n=e}finally{try{!t&&s.return&&s.return()}finally{if(a)throw n}}this.tmpItems=[].concat((0,m.default)(e)),this.selItems=[].concat((0,m.default)(e))}},created:function(){this.showPop=this.show,this.setDefaultValue(),this.getList()}}},d7ck:function(e,t,a){"use strict";function n(e){a("dy4N")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("P2Js");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Ak0d"),o=a.n(s),l=a("UZQG"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-fb173d94",null);t.default=c.exports},d8ys:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2294,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName"}]}},mixins:[i.default],methods:{},created:function(){}}},dB5k:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MjAd"),r=n(i),s=a("OTZ4"),o=n(s);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2395,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"成品名称",value:"inventoryName_transObjCode"}],popShow:!1,requestParams:{calc_rel_code:8851,view_id:"view_113"}}},components:{PopTaskWorkList:o.default},mixins:[r.default],methods:{goEdit:function(){this.popShow=!0},selTask:function(e){var t=this.$route.query.name,a=this.$route.params,n=a.folder,i=a.fileName;this.$router.push({path:"/fillform/"+n+"/"+i,query:{name:t,childId:childId,inventoryCode:e[0].matCode,proPointCode:e[0].proPointCode}})}}}},dBNw:function(e,t){},dFn0:function(e,t){},dHch:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=(n(s),a("0AQX")),l=a("+VRO"),d=n(l),u=a("BUFe"),c=n(u),f=a("AupE"),m=n(f),h=a("zWMP");t.default={data:function(){return{count:0,cashInfo:{}}},mixins:[d.default],components:{workFlow:m.default,RAction:c.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,o.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=t.formData,i=n.order,s=void 0===i?{}:i,o=n.outPut,l=void 0===o?{}:o;e.attachment=a,e.cashInfo=l.dataSet[0];var d=s.dataSet,u=!0,c=!1,f=void 0;try{for(var m,v=(0,r.default)(d);!(u=(m=v.next()).done);u=!0){var p=m.value;e.count=(0,h.accAdd)(e.count,p.tdAmount)}}catch(e){c=!0,f=e}finally{try{!u&&v.return&&v.return()}finally{if(c)throw f}}e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},dLfE:function(e,t){},dMVy:function(e,t){},"dOA+":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper cpxq-detail-container"},[a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.userData,"order-info":e.userData}}),e._v(" "),a("div",{staticClass:"product"},[e._m(0),e._v(" "),a("form-cell",{attrs:{cellTitle:"员工",cellContent:e.userData.turnoverName||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"部门",cellContent:e.userData.turnoverDepartMent||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"岗位",cellContent:e.userData.turnoverPost||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"离职日期",cellContent:e.userData.turnoverDate||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"备注",cellContent:e.userData.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}})],1)])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title"},[a("div",[a("span",{staticClass:"iconfont icon-mingxi1"}),e._v(" "),a("span",[e._v("员工信息")])])])}],r={render:n,staticRenderFns:i};t.a=r},dOws:function(e,t,a){"use strict";function n(e){a("vKv4")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IAdv");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("wol0"),o=a.n(s),l=a("Jngd"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-051425f8",null);t.default=c.exports},dQpD:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("HyXB"),d=a("2y58"),u=n(d),c=a("fyaN"),f=n(c);t.default={name:"RAction",props:{code:{type:String,default:""},taskId:{type:String,default:""},actions:{type:Array,default:function(){return[]}},name:{type:String,default:""},agreeHandler:{type:Function,default:null}},components:{Confirm:u.default,PopUserList:f.default},data:function(){return{showUserList:!1,selectedUser:{},showConfirm:!1,transferInfo:{taskTime:.1,comment:""},showTaskWarn:!1,showCommentWarn:!1}},methods:{reject:function(){var e=this;this.$vux.confirm.prompt("",{title:"审批意见",onConfirm:function(t){e.commitTask({result:0,successMsg:"拒绝成功",value:t})}})},agree:function(){var e=this;this.agreeHandler&&this.agreeHandler()||this.$vux.confirm.prompt("",{title:"审批意见",onConfirm:function(t){e.commitTask({result:1,successMsg:"同意成功",value:t})}})},revoke:function(){var e=this;this.$vux.confirm.prompt("",{title:"撤回原因",onConfirm:function(t){e.commitTask({result:2,successMsg:"撤回成功",value:t,callback:function(){var t=e.$route.query.childId,a=e.$route.params,n=a.folder,i=a.fileName;e.$router.replace({path:"/fillform/"+n+"/"+i,query:{childId:t,name:e.name,transCode:e.code}})}})}})},commitTask:function(e){var t=this,a=e.result,n=e.value,i=e.successMsg,r=e.callback;this.$HandleLoad.show();var s={taskId:this.taskId,taskData:(0,o.default)({result:a,transCode:this.code,comment:n})};return(0,l.commitTask)(s).then(function(e){t.$HandleLoad.hide();var n=e.success,s=void 0!==n&&n,l=e.message,d=void 0===l?"提交失败":l,u={0:"reject",1:"agree",2:"revoke"};s&&(d=i,t.$emit("on-submit-success",(0,o.default)({type:u[a]}))),t.$vux.alert.show({content:d,onHide:function(){s&&(r?r():t.$router.go(0))}})}).catch(function(e){t.$HandleLoad.hide()})},transfer:function(){this.selectedUser={},this.showUserList=!0},selUser:function(e){this.selectedUser=(0,r.default)({},e),this.showConfirm=!0},onConfirm:function(){var e=this,t=(0,r.default)({userId:this.selectedUser.userId,taskId:this.taskId},this.transferInfo);this.showTaskWarn=!this.transferInfo.taskTime,this.showCommentWarn=!this.transferInfo.comment,this.showTaskWarn||this.showCommentWarn||(this.showConfirm=!1,this.$HandleLoad.show(),(0,l.transferTask)(t).then(function(t){e.$HandleLoad.hide();var a=t.success,n=void 0!==a&&a,i=t.message,r=void 0===i?"提交失败":i;n&&(r="转办成功",e.$emit("on-submit-success",(0,o.default)({type:"transfer"}))),e.$vux.alert.show({content:r,onHide:function(){e.$router.go(0)}})}).catch(function(t){e.$HandleLoad.hide()}))}}}},dRU1:function(e,t){},"dRd+":function(e,t,a){"use strict";function n(e){a("jhIa")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("69MN");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("NbtV"),o=a.n(s),l=a("YzAp"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-7d37ee80",null);t.default=c.exports},dVgm:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"contact-container"},[a("div",{staticClass:"contact-main"},[a("header",{staticClass:"contact_header vux-1px-l"},[e._v("往来信息")]),e._v(" "),a("div",{staticClass:"contact_top"},[a("div",{staticClass:"contact_top_item"},[a("span",{staticClass:"contact_top_title"},[e._v("联系人: ")]),e._v(e._s(e.contactInfo.dealerContactPersonName||"暂无")+"\n      ")]),e._v(" "),a("div",{staticClass:"contact_top_item"},[a("span",{staticClass:"contact_top_title"},[e._v("手机号: ")]),e._v(e._s(e.contactInfo.dealerMobilePhone||"暂无")+"\n      ")])]),e._v(" "),a("div",{staticClass:"contact_dealer"},[a("div",{staticClass:"contact_dealer_item"},[a("i",{staticClass:"icon icon-dealer2"}),e._v(" "),a("span",{staticClass:"contact_dealer_title"},[e._v("往来名称：")]),e._v(" "),a("span",{staticClass:"contact_dealer_value"},[e._v(e._s(e.contactInfo.dealerName))])]),e._v(" "),a("div",{staticClass:"contact_dealer_item"},[a("i",{staticClass:"icon icon-address"}),e._v(" "),a("span",{staticClass:"contact_dealer_title"},[e._v("往来地址：")]),e._v(" "),a("span",{staticClass:"contact_dealer_value"},[e._v(e._s(e.address||"暂无"))])])])]),e._v(" "),a("div",{staticClass:"contact-other vux-1px-t"},e._l(e.configs,function(t){return a("div",{staticClass:"contact_other_wrapper"},[a("div",{staticClass:"contact_other_item"},[a("span",{staticClass:"contact_other_title"},[e._v(e._s(t.fieldLabel)+"：")]),e._v(" "),a("span",{staticClass:"contact_other_value"},[e._v(e._s(t.fieldValue||"暂无"))])])])}),0)])},i=[],r={render:n,staticRenderFns:i};t.a=r},da6f:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"chart"},[a("div",{staticClass:"filter_time vux-1px-b"},[a("div",{staticClass:"current_time vux-1px-r"},[e._v(e._s(e.defaultTips))]),e._v(" "),a("div",{staticClass:"time_pop",on:{click:function(t){e.dateShow=!e.dateShow}}},[a("span",{staticClass:"tips"},[e._v("日期筛选")]),e._v(" "),a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-arrow-down",class:{"arrow-up":e.dateShow},attrs:{type:"ios-arrow-down",size:"14",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M396.6 160l19.4 20.7L256 352 96 180.7l19.3-20.7L256 310.5z"}})])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.dateShow,expression:"dateShow"}],staticClass:"date vux-1px-b"},[a("div",{staticClass:"choose_date"},[a("div",{staticClass:"start_date"},[a("span",{staticClass:"date_title"},[e._v("起始日期")]),e._v(" "),a("span",{staticClass:"date_value vux-1px",on:{click:e.getStart}},[e._v("\n            "+e._s(e.timeFilter.startDate)+"\n            ")])]),e._v(" "),a("div",{staticClass:"end_date"},[a("span",{staticClass:"date_title"},[e._v("截止日期")]),e._v(" "),a("span",{staticClass:"date_value vux-1px-t",on:{click:e.getEnd}},[e._v("\n            "+e._s(e.timeFilter.EndDate)+"\n          ")])])]),e._v(" "),a("div",{staticClass:"time_sel_btn"},[a("span",{staticClass:"reset",on:{click:e.resetData}},[e._v("重置")]),e._v(" "),a("span",{staticClass:"confirm",on:{click:e.confirm}},[e._v("确认")])])])]),e._v(" "),a("div",{staticClass:"business_amount vux-1px-b"},[a("p",[e._v("销售额")]),e._v(" "),a("p",{staticClass:"amount"},[e._v("\n      ￥"),a("countup",{attrs:{"end-val":e.businessAmount,duration:1,decimals:2}})],1)]),e._v(" "),e._m(0),e._v(" "),a("div",{staticClass:"list_rank vux-1px-t"},[a("div",{staticClass:"list_title"},[e._v("业务员业绩排行榜（前三）")]),e._v(" "),e._l(e.staffRank,function(t,n){return a("div",{key:n,staticClass:"each_staff vux-1px-b"},[a("div",{staticClass:"staff_name"},[a("span",{staticClass:"rank_num"},[e._v("No."+e._s(n+1))]),e._v(" "),a("span",[e._v(e._s(t.handlerName)+" "+e._s(t.handlerRoleName)+" "+e._s(t.handlerUnitName))])]),e._v(" "),a("div",[e._v("￥"+e._s(e._f("numberComma")(e._f("toFixed")(t.total))))])])})],2)])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"customer_rank"},[a("div",{attrs:{id:"pie"}})])}],r={render:n,staticRenderFns:i};t.a=r},dbpI:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("MgeX"),o=n(s),l=a("a3Yh"),d=n(l),u=a("ZLEe"),c=n(u),f=a("3cXf"),m=n(f),h=a("4YfN"),v=n(h),p=a("BGNQ"),C=n(p),y=a("z5TY"),_=n(y),g=a("SAzG"),b=n(g),w=a("kNGm"),I=n(w),x=a("PzEQ"),D=n(x),P=a("u28h"),S=n(P),k=a("jnZd"),L=n(k),N=a("HyXB"),M=a("0AQX"),T=a("bKg5"),A=n(T),O=a("ZQWM"),R=n(O),j=a("vl8n"),B=n(j),E=a("+WR7"),F=n(E),U=a("VZtf"),$=n(U),Q=a("9cRV"),H=n(Q),V=a("luHD"),q=n(V),Y=a("lsbD"),X=n(Y),G=(a("Qg39"),a("zWMP"));t.default={mixins:[A.default],components:{Cell:C.default,Group:_.default,XInput:b.default,Datetime:S.default,XTextarea:D.default,PopDealerList:R.default,PopupPicker:L.default,RPicker:B.default,PopBaseinfo:F.default,RNumber:$.default,PopMatterList:H.default,PopMatter:q.default,OpButton:X.default},data:function(){return{dealerInfo:{},contactInfo:{},invoiceType:[["普通发票","专用发票"]],invoiceGetType:[],invoiceInfo:{ticketNumber:"",invoiceType:"",invoiceAmount:"",invoiceDate:"",invoiceContent:""},invoicePlan:[],taxRate:.16,showInvoicePop:!1,seletedIndex:0,seletedInvoice:[],formData:{biProcessStatus:"",biComment:""},formDataComment:"",projectName:"",matterList:[],orderList:{},showMaterielPop:!1,matterParams:{},numMap:{},checkFieldList:[{key:"tdQty",message:"请填写本次开票数量"},{key:"taxRate",message:"请填写税率"}],filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"申请单",value:"transCode"}]}},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],null!=this.matterParams.data.dealerCode&&(this.matterParams.data.dealerCode=this.dealerInfo.dealerCode,this.matterList=[],this.orderList={})},selContact:function(e){this.contactInfo=(0,v.default)({},e)},typeTask:function(e){this.invoiceInfo.invoiceType=e[0]},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,m.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.inventoryCode!==e.inventoryCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getMatter:function(){if(!this.dealerInfo.dealerCode)return void this.$vux.alert.show({content:"请选择客户"});this.showMaterielPop=!this.showMaterielPop},selMatter:function(e){var t=JSON.parse(e),a={};t.forEach(function(e){e.tdQty=e.tdQty||e.qtyBal,e.taxRate=e.taxRate||.16,e.purchaseDay=(0,I.default)(e.calcTime,"YYYY-MM-DD")||e.purchaseDay,e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null,a[e.transCode]||(a[e.transCode]=[]),a[e.transCode].push(e)}),this.numMap={},this.matterList=t,this.orderList=a},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t,a){var n=this.selItems,i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode&&e.transCode===t.transCode});if(-1!==i)return void n.splice(i,1);n.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,c.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});i>=0&&(e.$refs.matter.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this,t="",a=[];this.dealerInfo.dealerCode||(t="请选择客户信息");var n=[{tip:"ticketNumber",msg:"请输入票号"},{tip:"invoiceType",msg:"请选择发票类型"},{tip:"invoiceDate",msg:"请选择发票日期"}];if(t||n.every(function(a){return!!e.invoiceInfo[a.tip]||(t=a.msg,!1)}),t||this.matterList.length||(t="请选择物料"),t||this.matterList.every(function(n){if(!n.tdQty&&0!==n.tdQty)return t="请填写本次开票数量",!1;var i=n.taxRate||e.taxRate,r=(0,G.accMul)(n.price,n.tdQty);(0,G.accMul)(r,i);return a.push({tdId:n.tdId||"",transMatchedCode:n.transCode,salesOutCode:n.salesOutCode,inventoryName_transObjCode:n.inventoryName,transObjCode:n.inventoryCode,tdProcessing:n.processing,measureUnit_transObjCode:n.measureUnit,assMeasureUnit:n.assMeasureUnit||"",assMeasureDescription:n.assMeasureDescription||"",assMeasureScale:n.assMeasureScale,thenQtyBal:n.qtyBal,tdQty:n.tdQty,assistQty:n.assistQty,price:n.price,tdAmount:n.tdAmount,taxRate:i,noTaxPrice:n.noTaxPrice,taxAmount:n.taxAmount,comment:n.comment}),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=N.saveAndStartWf,n=(0,d.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,m.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:"",formData:(0,m.default)((0,v.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{crDealerLabel:e.dealerInfo.dealerLabelName,dealerCodeCredit:e.dealerInfo.dealerCode,dataSet:a},dealerCreditContactPersonName:e.contactInfo.dealerName||null,dealerCreditContactInformation:e.contactInfo.dealerMobilePhone||"",invoiceDate:e.invoiceInfo.invoiceDate,ticketNumber:e.invoiceInfo.ticketNumber,invoiceType:e.invoiceInfo.invoiceType,invoiceContent:e.invoiceInfo.invoiceContent})),wfPara:(0,m.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=N.saveAndCommitTask),e.processCode.length||(t=N.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,M.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.attachment=t.attachment,e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId;var a=t.formData;e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,v.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),e.dealerInfo=(0,v.default)({},e.dealerInfo,{dealerName:a.order.dealerName_dealerCodeCredit,dealerCode:a.order.dealerCodeCredit,province:a.order.province_dealerCodeCredit,city:a.order.city_dealerCodeCredit,county:a.order.county_dealerCodeCredit,address:a.order.address_dealerCodeCredit,dealerMobilePhone:a.dealerMobilePhone_dealerCodeCredit,dealerLabelName:a.order.crDealerLabel}),e.contactInfo={dealerName:a.dealerCreditContactPersonName,dealerMobilePhone:a.dealerCreditContactInformation};var n={};a.order.dataSet.forEach(function(t){t.transCode=t.transMatchedCode,t.inventoryName=t.inventoryName_transObjCode,t.inventoryCode=t.transObjCode,t.inventoryPic=t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),t.qtyBal=t.thenQtyBal,t.processing=t.tdProcessing,t.measureUnit=t.measureUnit_transObjCode,e.matterList.push(t),n[t.transCode]||(n[t.transCode]=[]),n[t.transCode].push(t)}),e.orderList=n,e.invoiceInfo=(0,v.default)({},e.invoiceInfo,{ticketNumber:a.ticketNumber,invoiceType:a.invoiceType,invoiceAmount:a.invoiceAmount,invoiceDate:(0,I.default)(a.invoiceDate,"YYYY-MM-DD"),invoiceContent:a.invoiceContent}),e.invoiceGetType.push(a.invoiceType),e.dealerParams.dealerCode=a.order.dealerCodeCredit,e.$loading.hide()})},hasDraftData:function(){return!!(0,o.default)(this.dealerInfo).length&&(0,d.default)({},"ZZSKP_DATA",{invoice:{dealer:this.dealerInfo,invoiceInfo:this.invoiceInfo,contactInfo:this.contactInfo,orderList:this.orderList}})}},created:function(){var e=sessionStorage.getItem("ZZSKP_DATA");if(e){var t=JSON.parse(e);this.dealerInfo=t.invoice.dealer,this.contactInfo=t.invoice.contactInfo,this.invoiceInfo=t.invoice.invoiceInfo,this.orderList=t.invoice.orderList;var a=!0,n=!1,i=void 0;try{for(var s,l=(0,r.default)((0,o.default)(this.orderList));!(a=(s=l.next()).done);a=!0){var d=s.value,u=!0,c=!1,f=void 0;try{for(var m,h=(0,r.default)(d);!(u=(m=h.next()).done);u=!0){var v=m.value;this.matterList.push(v)}}catch(e){c=!0,f=e}finally{try{!u&&h.return&&h.return()}finally{if(c)throw f}}}}catch(e){n=!0,i=e}finally{try{!a&&l.return&&l.return()}finally{if(n)throw i}}this.invoiceGetType.push(this.invoiceInfo.invoiceType),sessionStorage.removeItem("ZZSKP_DATA")}}}},dcVo:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=(a("XAqG"),a("HyXB"),a("MjAd")),o=n(s),l=a("ak47");n(l);t.default={name:"CPXQ_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"经办人",value:"handlerName"},{name:"交易号",value:"transCode"},{name:"员工",value:"profileName"}],listViewID:2375}},mixins:[o.default],methods:{pathChange:function(e,t,a){var n=this;if(!this.clickVisited){var i=e.transCode,s=this.$route.query.name,o=this.$route.params,l=o.folder,d=o.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,r.default)({},e));var u=a+"/"+l+"/"+d;setTimeout(function(){n.clickVisited=!1,n.$router.push({path:u,query:{name:s,transCode:i}})},200)}},goDetail:function(e,t){this.pathChange(e,t,"/detail")},goUserEdit:function(e,t){this.pathChange(e,t,"/fillform")}}}},dj3y:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("kNGm"),r=(n(i),a("0AQX")),s=a("+VRO"),o=n(s),l=a("AupE"),d=n(l),u=a("BUFe"),c=n(u),f=a("bFc7"),m=n(f),h=a("3NX5"),v=n(h);t.default={data:function(){return{orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},uploadStyle:{width:"100%",padding:"0.06rem 0.1rem"}}},mixins:[o.default],components:{workFlow:d.default,RAction:c.default,contactPart:m.default,MatterList:v.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,r.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=o,e.orderInfo=r,e.contactInfo={dealerName:r.dealerName_productDealerCode,dealerMobilePhone:r.dealerDebitContactInformation,dealerContactPersonName:r.dealerDebitContactPersonName},e.workFlowInfoHandler()})},goEdit:function(){var e=this.$route.params,t=e.folder,a=e.fileName,n=this.$route.query.name;this.$router.push({path:"/fillform/"+t+"/"+a,query:{name:n,transCode:this.transCode}})}}}},djgs:function(e,t,a){"use strict";function n(e){a("E3/m")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("+X4v");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("/8IN"),o=a.n(s),l=a("K/uT"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-306f2b60",null);t.default=c.exports},doYu:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("a3Yh"),d=n(l),u=a("7g+Q"),c=n(u),f=a("+62G"),m=n(f),h=a("z5TY"),v=n(h),p=a("BGNQ"),C=n(p),y=a("iR2W"),_=n(y),g=a("u28h"),b=n(g),w=a("SAzG"),I=n(w),x=a("PzEQ"),D=n(x),P=a("HyXB"),S=a("fEP3"),k=a("0AQX"),L=a("bKg5"),N=n(L),M=a("7D9F"),T=n(M),A=a("j4rH"),O=n(A),R=a("JQMB"),j=n(R),B=a("vl8n"),E=n(B),F=a("FlCz"),U=n(F),$=a("+WR7"),Q=n($),H=a("0o6b"),V=a("Qg39"),q=a("zWMP");t.default={directives:{TransferDom:m.default},components:{Popup:c.default,PopWorkStartList:O.default,Group:v.default,Cell:C.default,Datetime:b.default,XInput:I.default,XTextarea:D.default,PopManagerList:T.default,RPicker:E.default,PopFacilityList:j.default,BomList:U.default,PopBaseinfo:Q.default},data:function(){return{listId:"c54b3325-a5c1-4d75-a3c4-c6cf0e988aae",showWorkPop:!1,dealer:{},formData:{biComment:""},workInfo:{},defaultManager:{},biProcessStatus:"",scanResult:"",bomList:[],facility:{}}},mixins:[N.default],filters:{numberComma:_.default},methods:{selWork:function(e){var t=this;e.tdQty=e.thenQtyBal,this.workInfo=e,(0,S.getBomWorkStart)(this.workInfo.inventoryCode).then(function(a){var n=a.tableContent,i=void 0===n?[]:n;i.forEach(function(t){t.tdQty=(0,V.toFixed)((0,q.accMul)(t.qty,e.tdQty,1+t.specificLoss),2)}),t.bomList=i})},selManager:function(e){this.defaultManager=JSON.parse(e),this.workInfo.dealerDebit=this.defaultManager.dealerCode},submitOrder:function(){var e=this,t="",a=[],n=[];this.workInfo.procedureName||(t="请选择工序");var i=[{key:"dealerName",msg:"请填写工人"},{key:"tdQty",msg:"请填写验收数量"},{key:"wareName",msg:"请填写仓库"}];if(t||i.every(function(a){return!!e.workInfo[a.key]||(t=a.msg,!1)}),t)return void this.$vux.alert.show({content:t});var s=this.workInfo;a.push({proPointCode:s.proPointCode,thenQtyBal:s.thenQtyBal,tdQty:s.tdQty,dealerDebit:s.dealerCode,drDealerLabel:s.dealerLabel,proFlowCode:s.proFlowCode||"",facilityObjCode:this.facility.facilityCode||"",facilityTypebase_facilityObjCode:this.facility.facilityType||"",transObjCode:this.workInfo.inventoryCode}),this.bomList.forEach(function(e){n.push({outPutMatCode:e.inventoryCode,inventoryName_outPutMatCode:e.inventoryName,processProCode:e.parentInvCode,tdProcessing:e.processing,specification_outPutMatCode:e.specification,measureUnit_outPutMatCode:e.measureUnit,bomType:e.bomType,bomQty:e.qty,bomSpecificLoss:e.specificLoss,tdQty:e.tdQty})}),this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=P.saveAndStartWf,i=(0,d.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});e.isResubmit&&(i={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var l={listId:e.listId,biComment:e.formData.biComment,formData:(0,o.default)((0,r.default)({},e.formData,{handlerEntity:e.entity.dealerName,biProcessStatus:e.biProcessStatus||null,order:{containerCode:s.whInCode,dataSet:a},outPut:{containerCode:s.whInCode,dataSet:n}})),wfPara:(0,o.default)(i)};e.isResubmit&&(t=P.saveAndCommitTask,l.biReferenceId=e.biReferenceId),e.processCode.length||(t=P.submitAndCalc,delete l.wfPara,delete l.biReferenceId),e.biReferenceId&&(l.biReferenceId=e.biReferenceId),e.saveData(t,l)}})},getFormData:function(){var e=this;return(0,k.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=t.attachment;var o=s.order,l=s.outPut,d=o.dataSet,u=void 0===d?[]:d,c=l.dataSet;e.workInfo=(0,r.default)({},u[0],{inventoryCode:u[0].transObjCode,inventoryName:u[0].inventoryName_transObjCode,procedureName:u[0].procedureName_proPointCode,technicsName:u[0].technicsName_proFlowCode,transCode:u[0].transMatchedCode,processing:u[0].tdProcessing||null,wareName:o.warehouseName_containerCode,whInCode:o.containerCode,wareAddress:o.warehouseAddress_containerCode,dealerName:u[0].dealerName_dealerDebit,dealerCode:u[0].dealerDebit,dealerLabel:u[0].drDealerLabel}),e.facility={facilityName:u[0].facilityName_facilityObjCode,facilityCode:u[0].facilityObjCode,facilityType:u[0].facilityTypebase_facilityObjCode},c.forEach(function(e){e.inventoryCode=e.outPutMatCode,e.inventoryName=e.inventoryName_outPutMatCode,e.measureUnit=e.measureUnit_outPutMatCode,e.parentInvCode=e.processProCode,e.processing=e.tdProcessing,e.qty=e.bomQty,e.qtyBal=e.thenQtyStock,e.specification=e.specification_outPutMatCode||"无",e.specificLoss=e.bomSpecificLoss||0}),e.bomList=c,e.warehouse={warehouseCode:o.containerCode,warehouseName:o.warehouseName_containerCode,warehouseType:o.warehouseType_containerCode,warehouseProvince:o.warehouseProvince_containerCode,warehouseCity:o.warehouseCity_containerCode,warehouseDistrict:o.warehouseDistrict_containerCode,warehouseAddress:o.warehouseAddress_containerCode},e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,r.default)({},e.handlerDefault,{biComment:s.biComment,biId:s.biId,biProcessStatus:s.biProcessStatus,creator:s.creator,modifer:s.modifer}),e.biReferenceId=s.biReferenceId,e.$loading.hide()})},scanQRCode:function(){var e=this;(0,H.scanQRCode)().then(function(t){var a=t.result,n=void 0===a?"":a;e.scanResult=n})},selFacility:function(e){this.facility=e}},created:function(){}}},"drc+":function(e,t,a){"use strict";function n(e){a("Ke/Y")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("iBRT");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("8Mec"),o=a.n(s),l=a("E3l2"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-4dfe2fb3",null);t.default=c.exports},dwzl:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("HyXB"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2310,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}]}},mixins:[i.default],methods:{},created:function(){}}},dxNA:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages xsbj-list-conatiner",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"instance-item-wrapper",class:{visited:t.visited},on:{click:function(a){e.goDetail(t,n)}}},[a("div",{staticClass:"instance-main"},[a("div",{staticClass:"instance-header"},[a("span",{staticClass:"instance_code vux-1px-l"},[e._v(e._s(t.transCode))]),e._v(" "),a("span",{staticClass:"instance_status",class:t.statusClass},[e._v(e._s(t.biStatus))])]),e._v(" "),a("div",{staticClass:"instance-project-container"},[a("div",{staticClass:"project_name",class:{"time-to-wrap":t.projectName_project.length>15}},[e._v("项目名称："+e._s(t.projectName_project))]),e._v(" "),a("div",{staticClass:"project_manager"},[a("span",{staticClass:"project_manager_title"},[e._v("标准工时：")]),e._v(" "),a("span",{staticClass:"project_manager_value"},[e._v(e._s(t.planTime||0))])])]),e._v(" "),a("div",{staticClass:"instance-task-container"},e._l(t.detailItem,function(t,n){return a("div",{key:n,staticClass:"instance_task_item"},[a("i",{staticClass:"icon",class:[e.getTaskIcon(n)]}),e._v(" "),a("div",{staticClass:"task-detail vux-1px-b"},[a("div",{staticClass:"task_name"},[e._v(e._s(t.taskName))]),e._v(" "),a("div",{staticClass:"task_info"},[a("div",{staticClass:"task_info_item"},[a("span",{staticClass:"task_info_title"},[e._v("预算成本：")]),e._v(" "),a("span",{staticClass:"task_info_amt"},[e._v("￥"+e._s(e._f("numberComma")(t.budgetCapital_project||0)))])]),e._v(" "),a("div",{staticClass:"task_info_item"},[a("span",{staticClass:"task_info_title"},[e._v("周期天数：")]),e._v(" "),a("span",{staticClass:"task_info_day"},[e._v(e._s(t.planCycleDays||0)+"天")])])]),e._v(" "),a("div",{staticClass:"task_info"},[a("div",{staticClass:"task_info_item"},[a("span",{staticClass:"task_info_title"},[e._v("计划截止日期：")]),e._v(" "),a("span",{staticClass:"task_info_day"},[e._v(e._s(e._f("dateFormat")(t.expectEndDate_project,"YYYY-MM-DD")||"无"))])])])])])}),0)]),e._v(" "),a("div",{staticClass:"instance-bottom vux-1px-t"},[a("div",{staticClass:"instance-bottom-wrapper"},[a("div",{staticClass:"instance_bottom_item instance_handler"},[a("i",{staticClass:"icon icon-handler"}),e._v(" "),a("span",[e._v("经办人："+e._s(t.handlerName))])]),e._v(" "),a("div",{staticClass:"instance_bottom_item instance_mod_time"},[a("i",{staticClass:"icon icon-mod-time"}),e._v(" "),a("span",[e._v("修改时间："+e._s(e._f("dateFormat")(t.modTime,"YYYY-MM-DD HH:mm")))])])])])])}),0)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},dy4N:function(e,t){},dyuG:function(e,t,a){"use strict";function n(e){a("HTRD")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("vW/T");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("MjpR"),o=a.n(s),l=a("271e"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},"e+7k":function(e,t,a){"use strict";function n(e){a("EQ3w")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("hk2Q");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Ss8W"),o=a.n(s),l=a("Ujdd"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-240c39c6",null);t.default=c.exports},"e/N9":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("just-word-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}},scopedSlots:e._u([{key:"list-item",fn:function(t){var n=t.item;return e._l(n.detailItem,function(t,i){return a("div",{key:i,staticClass:"each-slot-item"},[a("div",{staticClass:"top-content"},[e._v("汇票号: "+e._s(t.draftNumber))]),e._v(" "),a("div",{staticClass:"main-content"},[a("div",{staticClass:"info_part"},[e._v("\n                承汇类型: "+e._s(n.draftType)+"\n              ")]),e._v(" "),a("div",{staticClass:"info_part"},[e._v("\n                承汇人: "+e._s(n.accepter)+"\n              ")])])])})}}])})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},e0Na:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("kKsb"),p=n(v),C=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70"}},mixins:[u.default],components:{workFlow:h.default,RAction:f.default,ProjectPart:p.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=!0,i=!1,s=void 0;try{for(var l,d=(0,r.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;e.count=(0,C.accAdd)(e.count,u.tdAmount)}}catch(e){i=!0,s=e}finally{try{!n&&d.return&&d.return()}finally{if(i)throw s}}t.formData.validUntil=(0,o.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},e3I1:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"techics-list-container",on:{click:function(t){e.showPop=!e.showPop}}},[a("div",{staticClass:"title",class:{required:e.required}},[e._v("工序名称")]),e._v(" "),a("div",{staticClass:"mode"},[e._v(e._s(e.selItems.procedureName||e.placeholder))]),e._v(" "),a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-arrow-right r_arrow",attrs:{type:"ios-arrow-right",size:"16",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M160 115.4L180.7 96 352 256 180.7 416 160 396.7 310.5 256z"}})]),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"popup-technics-list-container",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("r-search",{attrs:{filterList:e.filterList,isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list-container",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"mater-list-item",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"info-item"},[a("div",{staticClass:"name"},[e._v(e._s(t.procedureName))])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1)],1)])},i=[],r={render:n,staticRenderFns:i};t.a=r},eGZN:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("7g+Q"),o=n(s),l=a("+62G"),d=(n(l),a("z5TY")),u=n(d),c=a("BGNQ"),f=n(c),m=a("SAzG"),h=n(m),v=a("1KNX"),p=n(v),C=a("Qg39"),y=a("zWMP");t.default={name:"Bom",props:{show:{type:Boolean,default:!1},bomInfo:{type:Object,default:function(){return{}}},btnIsHide:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!0},specificLossText:{type:String,default:"损耗率"},noSpecificLoss:{type:Boolean,default:!1}},data:function(){return{scrollOptions:{click:!0},showPop:!1,btnNext:"返回"}},components:{Popup:o.default,Group:u.default,Cell:f.default,XInput:h.default,RScroll:p.default},watch:{show:{handler:function(e){this.showPop=e}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()}),this.btnNext="返回"},onHide:function(){this.$emit("input",!1)},confirm:function(){"确认"===this.btnNext&&this.$emit("bom-confirm",(0,r.default)(this.bomInfo)),this.showPop=!1},modifyBom:function(e){var t=this;this.$vux.confirm.prompt(e.specificLoss,{title:this.specificLossText,onConfirm:function(a){if(a){e.specificLoss=Math.abs((0,C.toFixed)(a));var n=(0,y.accMul)(t.bomInfo.tdQty,e.qty,1+e.specificLoss);e.tdQty=Math.abs((0,C.toFixed)(n)),t.btnNext="确认"}}})},getFocus:function(e){event.currentTarget.select()},closePop:function(){this.showPop=!1},changeToConfirm:function(){this.btnNext="确认"}}}},eLoA:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("d3k1"),r=n(i),s=(a("Dkzh"),a("3QQJ")),o=n(s);a("5Ys/"),a("ympj"),t.default={name:"app",data:function(){return{tablist:[{title:"应用",path:"/home",icon:"icon-1"},{title:"消息",path:"/notice",icon:"icon-message"}],newsNumber:0}},components:{Badge:o.default},created:function(){var e=this;this.$event.$on("badgeNum",function(t){e.newsNumber=t})},updated:function(){r.default.isAndroid&&window.addEventListener("resize",function(){"INPUT"!==document.activeElement.tagName&&"TEXTAREA"!==document.activeElement.tagName||setTimeout(function(){document.activeElement.scrollIntoViewIfNeeded()},0)})}}},eNNU:function(e,t,a){"use strict";function n(e){a("gEh4")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("dHch");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("qeco"),o=a.n(s),l=a("AKWE"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-a8c53be8",null);t.default=c.exports},eQNG:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("d3k1"),r=n(i),s=(a("Dkzh"),a("3QQJ")),o=n(s);a("5Ys/"),a("ympj"),t.default={name:"app",data:function(){return{tablist:[{title:"应用",path:"/home",icon:"icon-1"},{title:"消息",path:"/notice",icon:"icon-message"}],newsNumber:0}},components:{Badge:o.default},created:function(){var e=this;this.$event.$on("badgeNum",function(t){e.newsNumber=t})},updated:function(){r.default.isAndroid&&window.addEventListener("resize",function(){"INPUT"!==document.activeElement.tagName&&"TEXTAREA"!==document.activeElement.tagName||setTimeout(function(){document.activeElement.scrollIntoViewIfNeeded()},0)})}}},eQeJ:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("3cXf"),o=n(s),l=a("4YfN"),d=n(l),u=a("7g+Q"),c=n(u),f=a("+62G"),m=n(f),h=a("z5TY"),v=n(h),p=a("BGNQ"),C=n(p),y=a("iR2W"),_=n(y),g=a("u28h"),b=n(g),w=a("SAzG"),I=n(w),x=a("PzEQ"),D=n(x),P=a("0AQX"),S=a("HyXB"),k=a("bKg5"),L=n(k),N=a("VZtf"),M=n(N),T=a("9cRV"),A=n(T),O=a("ZQWM"),R=n(O),j=a("yt3/"),B=n(j),E=a("hLfv"),F=n(E),U=a("luHD"),$=n(U),Q=a("vl8n"),H=n(Q),V=a("+WR7"),q=n(V),Y=a("zWMP");t.default={data:function(){return{showMatterPop:!1,showMaterielPop:!1,matterList:[],dealer:{},contact:{},formData:{},dealerInfo:{},checkFieldList:[{key:"tdQty",message:"请填写数量"},{key:"price",message:"请填写含税单价"},{key:"taxRate",message:"请填写税率"}]}},directives:{TransferDom:m.default},components:{XInput:I.default,XTextarea:D.default,Group:v.default,Cell:C.default,Popup:c.default,PopMatter:$.default,RNumber:M.default,PopMatterList:A.default,PopDealerList:R.default,PopSingleSelect:B.default,Datetime:b.default,RPicker:H.default,PopBaseinfo:q.default,DealerOtherPart:F.default},mixins:[L.default],filters:{numberComma:_.default},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],this.formData.drDealerLogisticsTerms=this.dealerInfo.dealerLogisticsTerms,this.dealerInfo.drDealerPaymentTerm=this.dealerInfo.paymentTerm,this.dealerInfo.drDealerLogisticsTerms=this.dealerInfo.dealerLogisticsTerms},selContact:function(e){this.contact=(0,d.default)({},e),this.formData.dealerDebitContactPersonName=this.contact.dealerName||"",this.formData.dealerDebitContactInformation=this.contact.dealerMobilePhone},getMatter:function(){this.showMaterielPop=!this.showMaterielPop},selMatter:function(e){var t=JSON.parse(e);t.map(function(e){e.tdQty=e.tdQty||"",e.price=e.price||"",e.taxRate=e.taxRate||.16,e.promDeliTime=e.promDeliTime||"",e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null}),this.matterList=t},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(t){return t.inventoryCode===e.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(e)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,o.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this;if(this.dealerInfo.dealerName)if(this.matterList.length){var t="",a=[];if(this.matterList.every(function(n){if(!n.tdQty)return t="请填写数量",!1;if(!n.price)return t="请输入含税单价",!1;var i=n.taxRate||e.taxRate,r=((0,Y.accMul)(n.price,n.tdQty,i),{tdId:n.tdId||"",inventoryName_transObjCode:n.inventoryName,transObjCode:n.inventoryCode,tdProcessing:n.processing,assMeasureUnit:n.invSubUnitName||null,assMeasureScale:n.invSubUnitMulti||null,assMeasureDescription:n.invSubUnitComment||null,assistQty:n.assistQty||0,tdQty:n.tdQty,price:n.price,noTaxPrice:n.noTaxPrice,taxRate:i,taxAmount:n.taxAmount,tdAmount:n.tdAmount,promDeliTime:n.promDeliTime||"",comment:n.comment||""});return a.push(r),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=S.saveAndStartWf,n=(0,r.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.formData.biComment,formData:(0,o.default)((0,d.default)({},e.formData,e.dealer,{handlerEntity:e.entity.dealerName,order:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,drDealerPaymentTerm:e.dealerInfo.paymentTerm,dataSet:a}})),wfPara:(0,o.default)(n)};e.isResubmit&&(t=S.saveAndCommitTask,i.biReferenceId=e.biReferenceId),e.processCode.length||(t=S.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})}else this.$vux.alert.show({content:"请选择物料"});else this.$vux.alert.show({content:"请选择客户"})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.attachment=t.attachment;var a=t.formData;a.order.dataSet.map(function(t){t=(0,d.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode}),e.matterList.push(t)}),e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,d.default)({},e.handlerDefault,{creator:a.creator,modifer:a.modifer,dealerDebitContactPersonName:a.dealerDebitContactPersonName,dealerDebitContactInformation:a.dealerDebitContactInformation,drDealerLogisticsTerms:a.drDealerLogisticsTerms,duringDate:a.duringDate,biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus}),e.dealerInfo={creatorName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation,dealerCode:a.order.dealerDebit,dealerSubclass:a.order.drAccountSub,dealerLabelName:a.order.drDealerLabel,dealerName:a.order.dealerName_dealerDebit,province:a.order.province_dealerDebit,city:a.order.city_dealerDebit,county:a.order.county_dealerDebit,address:a.order.address_dealerDebit,paymentTerm:a.order.drDealerPaymentTerm||"现付"},e.contact={dealerName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation},e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,r.default)({},"XSDDYC_DATA",{matter:this.matterList,dealerInfo:this.dealerInfo,dealer:this.dealer,formData:this.formData,contact:this.contact})}},created:function(){var e=sessionStorage.getItem("XSDDYC_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.dealerInfo=t.dealerInfo,this.dealer=t.dealer,this.formData=t.formData,this.contact=t.contact,sessionStorage.removeItem("XSDDYC_DATA")}}}},eQoa:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("7g+Q"),r=n(i),s=a("HXPS"),o=n(s);t.default={name:"PopSingleSelect",props:{title:{type:String,default:""},value:{type:String,default:""},data:{type:Array,default:function(){return[]}},isRequired:{type:Boolean,default:!1}},components:{Popup:r.default,Icon:o.default},data:function(){return{showPop:!1,tmp:"",selected:""}},watch:{value:{handler:function(e){this.tmp=e,this.selected=e}}},methods:{selItem:function(e){this.tmp=e},confirm:function(){this.selected=this.tmp,this.showPop=!1,this.$emit("input",this.selected)}},created:function(){this.tmp=this.value,this.selected=this.value}}},eRTo:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("6q39"),v=n(h),p=a("jLp1"),C=a("1KNX"),y=n(C),_=a("7biW"),g=n(_);t.default={name:"PopProjectList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:m.default,LoadMore:v.default,RScroll:y.default,MSearch:g.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},projectList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:function(){this.selItems=(0,d.default)({},this.defaultValue)}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){return e.PROJECT_NAME===this.selItems.PROJECT_NAME},selThis:function(e,t){this.showPop=!1,this.selItems=(0,d.default)({},e),this.$emit("sel-project",this.selItems)},getProjectLsit:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:"PROJECT_NAME"}])),(0,p.getProjectList)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.projectList=1===e.page?r:[].concat((0,o.default)(e.projectList),(0,o.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.projectList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getProjectLsit()},onPullingUp:function(){this.page++,this.getProjectLsit()}},created:function(){this.selItems=(0,d.default)({},this.defaultValue),this.getProjectLsit()}}},ebgK:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=(n(s),a("0AQX")),l=a("+VRO"),d=n(l),u=a("BUFe"),c=n(u),f=a("AupE"),m=n(f),h=a("zWMP");t.default={data:function(){return{count:0,cashInfo:{}}},mixins:[d.default],components:{workFlow:m.default,RAction:c.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,o.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=t.formData,i=n.order,s=void 0===i?{}:i,o=n.inPut,l=void 0===o?{}:o;e.attachment=a,e.cashInfo=l.dataSet[0];var d=s.dataSet,u=!0,c=!1,f=void 0;try{for(var m,v=(0,r.default)(d);!(u=(m=v.next()).done);u=!0){var p=m.value;e.count=(0,h.accAdd)(e.count,p.tdAmount)}}catch(e){c=!0,f=e}finally{try{!u&&v.return&&v.return()}finally{if(c)throw f}}e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},ecQd:function(e,t){},eeRS:function(e,t,a){"use strict";function n(e){a("RwbX")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("KiER");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("iZJL"),o=a.n(s),l=a("XR+a"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-9751af04",null);t.default=c.exports},eg0j:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("3cXf"),o=n(s),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("7g+Q"),m=n(f),h=a("+62G"),v=n(h),p=a("z5TY"),C=n(p),y=a("SAzG"),_=n(y),g=a("7qeq"),b=(n(g),a("u28h")),w=n(b),I=a("PzEQ"),x=n(I),D=a("iR2W"),P=n(D),S=a("kNGm"),k=n(S),L=a("dyuG"),N=n(L),M=a("L6VY"),T=(n(M),a("jnZd")),A=n(T),O=a("0AQX"),R=a("HyXB"),j=a("bKg5"),B=n(j),E=a("vl8n"),F=n(E),U=a("y8YJ"),$=n(U),Q=a("iikc"),H=n(Q),V=a("+WR7"),q=n(V),Y=a("Qg39");t.default={data:function(){return{listId:"32a2c333-02a3-416f-a133-95c7a32da678",showDealerPop:!1,dealerInfo:{},formData:{modifer:"",biId:"",dealerDebit:"",drDealerLabel:"",dealerDebitContactPersonName:"",dealerDebitContactInformation:"",opportunityTitle:"",comment:"",tdAmount:"",biProcessStatus:"",validUntil:"",salesPerson:"",salesChannels:"",categoryLabels:[],biComment:""},biReferenceId:"",categoryLabels:[],currentType:[],contactInfo:{}}},directives:{TransferDom:v.default},components:{Cell:c.default,Popup:m.default,Group:C.default,XInput:_.default,PopupPicker:A.default,Datetime:w.default,XTextarea:x.default,PopupRadio:N.default,RPicker:F.default,PopDealerList:$.default,PopSalesmanList:H.default,PopBaseinfo:q.default},mixins:[B.default],filters:{numberComma:P.default},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],this.formData.dealerDebitContactPersonName=this.dealerInfo.creatorName||"",this.formData.dealerDebitContactInformation=this.dealerInfo.dealerMobilePhone,this.formData.drDealerLabel=this.dealerInfo.dealerLabelName,this.formData.dealerDebit=this.dealerInfo.dealerCode},selContact:function(e){var t=(0,d.default)({},e);this.contactInfo=t,this.formData.dealerDebitContactPersonName=t.dealerName||"",this.formData.dealerDebitContactInformation=t.dealerMobilePhone||""},submitOrder:function(){var e=this,t="",a=[{key:"opportunityTitle",message:"请填写商机标题"},{key:"tdAmount",message:"请填写预期销售额"}];if("{}"==(0,o.default)(this.dealerInfo)&&(t="请选择客户"),t||a.every(function(a){return e.formData[a.key]?!(e.formData[a.key]<0)||(t="抱歉，销售额不允许为负数",!1):(t=a.message,!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=R.saveAndStartWf;e.formData.categoryLabels=e.categoryLabels[0];var a=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName}),n={listId:e.listId,biComment:"",formData:(0,o.default)(a),wfPara:(0,o.default)((0,r.default)({},e.processCode,{businessKey:e.businessKey,createdBy:a.creator}))};e.isResubmit&&(t=R.saveAndCommitTask,n.biReferenceId=e.biReferenceId,n.wfPara=(0,o.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=R.submitAndCalc,delete n.wfPara,delete n.biReferenceId),e.biReferenceId&&(n.biReferenceId=e.biReferenceId),e.saveData(t,n)}})},getFormData:function(){var e=this;return(0,O.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=o;r.order;e.dealerInfo={creatorName:r.dealerDebitContactPersonName||"",dealerName:r.dealerName_dealerDebit||"",dealerMobilePhone:r.dealerDebitContactInformation||"",dealerCode:r.dealerDebit||"",dealerLabelName:r.drDealerLabel||"客户",province:r.province_dealerDebit||"",city:r.city_dealerDebit||"",county:r.county_dealerDebit||"",address:r.address_dealerDebit||""},e.contactInfo={dealerName:r.dealerDebitContactPersonName||"",dealerMobilePhone:r.dealerDebitContactInformation||""},e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,d.default)({},e.formData,r,e.handlerDefault,{biComment:r.biComment,biId:r.biId,biProcessStatus:r.biProcessStatus,creator:r.creator,modifer:r.modifer,validUntil:(0,k.default)(r.validUntil,"YYYY-MM-DD")}),e.categoryLabels=[r.categoryLabels],e.biReferenceId=r.biReferenceId,e.$loading.hide()})},checkAmt:function(e){e&&(this.formData.tdAmount=Math.abs((0,Y.toFixed)(e)))},getTypeLabel:function(){var e=this;(0,R.getDictByType)("categoryLabels").then(function(t){var a=t.tableContent,n=void 0===a?[]:a,i=[];n.forEach(function(e){i.push(e.name)}),e.currentType.push(i)})},hasDraftData:function(){var e=this.formData;if(e.dealerDebit||e.opportunityTitle||e.tdAmount||e.biProcessStatus)return(0,r.default)({},"SJ_DATA",{formData:e,dealerInfo:this.dealerInfo,contactInfo:this.contactInfo,categoryLabels:this.categoryLabels})}},created:function(){var e=sessionStorage.getItem("SJ_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.contactInfo=t.contactInfo,this.categoryLabels=t.categoryLabels,sessionStorage.removeItem("SJ_DATA")}this.getTypeLabel()}}},eg1s:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("fQlz"),o=n(s),l=a("+AeB"),d=n(l);t.default={name:"REmotion",props:{show:{type:Boolean,default:!0}},components:{Emotion:d.default},data:function(){return{emotionList:[].concat((0,r.default)(o.default))}},methods:{emotionClick:function(e,t){this.$emit("on-select","["+e+"]")}},created:function(){}}},ei2D:function(e,t){},eoI8:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("MjAd"),o=n(s),l=(a("vS5q"),a("Qg39")),d=a("zWMP");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2435,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"协议号",value:"transMatchedCode"}]}},mixins:[o.default],watch:{listData:{handler:function(e){var t=!0,a=!1,n=void 0;try{for(var i,s=(0,r.default)(e);!(t=(i=s.next()).done);t=!0){var o=i.value;o.count=0;var u=!0,c=!1,f=void 0;try{for(var m,h=(0,r.default)(o.detailItem);!(u=(m=h.next()).done);u=!0){var v=m.value;o.count=(0,l.toFixed)((0,d.accAdd)(o.count,v.tdAmountCopy1))}}catch(e){c=!0,f=e}finally{try{!u&&h.return&&h.return()}finally{if(c)throw f}}}}catch(e){a=!0,n=e}finally{try{!t&&s.return&&s.return()}finally{if(a)throw n}}}}}}},eq7N:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("Jwlx"),c=n(u),f=a("HXPS"),m=n(f),h=a("7g+Q"),v=n(h),p=a("6q39"),C=(n(p),a("L6VY")),y=n(C),_=a("iR2W"),g=n(_),b=a("7biW"),w=n(b),I=a("hFVz"),x=a("1KNX"),D=n(x);t.default={name:"PopDealerList",props:{dealerLabelName:{type:String,default:"供应商"},defaultValue:{type:Object,default:function(){return{}}},required:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"},request:{type:String,default:"0"},params:{type:Object,default:function(){return{}}}},components:{Icon:m.default,Popup:v.default,DSearch:w.default,RScroll:D.default},data:function(){return{page:1,limit:10,hasNext:!0,showDealerPop:!1,srhInpTx:"",selInfo:{},selItems:[],listData:[],scrollOptions:{pullUpLoad:!0},requestMethods:null}},watch:{defaultValue:{handler:function(){var e=this.defaultValue;this.selInfo=(0,c.default)((0,d.default)({},e)),this.selItems=[(0,d.default)({},e)]},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showDealerPop=!1},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.dealerCode===e.dealerCode})},selItem:function(e,t){this.showDealerPop=!1,this.selItems=[e],this.selInfo=(0,c.default)((0,d.default)({},e)),this.$emit("sel-item",(0,d.default)({},this.selInfo))},getDealer:function(){var e=this,t=[];if(this.srhInpTx){var a="nickname";["3"].includes(this.request)&&(a="dealerName"),t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:a}])}return this.requestMethods((0,d.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,o.default)(e.listData),(0,o.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})}).catch(function(e){y.default.show({content:e.message})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getDealer()},itemClick:function(){this.showDealerPop=!0},onPullingUp:function(){this.page++,this.getDealer()}},filters:{numberComma:g.default},created:function(){var e=[I.getPaySupplierArrears,I.getDepositToPaySuppliers,I.getSaleAcceptanceBill,I.getObjDealerBalByLabelName];this.requestMethods=e[this.request],this.getDealer()}}},erBg:function(e,t,a){"use strict";function n(e){a("sTFW")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("5eL4");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("5+pH"),o=a.n(s),l=a("Aann"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-77bfe721",null);t.default=c.exports},esH7:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("Jwlx"),c=n(u),f=a("L6VY"),m=n(f),h=a("iR2W"),v=n(h),p=a("QHLv"),C=a("0Nk0"),y=n(C);t.default={name:"PopCashList",props:{defaultValue:{type:Object,default:function(){return{}}},required:{type:Boolean,default:!1},request:{type:String,default:"0"},params:{type:Object,default:function(){return{}}}},components:{RPopup:y.default},data:function(){return{page:1,limit:10,hasNext:!0,showDealerPop:!1,srhInpTx:"",selInfo:{},selItems:[],listData:[],scrollOptions:{pullUpLoad:!0},requestMethods:null}},watch:{defaultValue:{handler:function(){this.selInfo=(0,c.default)((0,d.default)({},this.defaultValue))},immediate:!0}},methods:{selItem:function(e){this.selInfo=(0,d.default)({},e),this.$emit("sel-item",(0,d.default)({},e))},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:"fundName"}])),this.requestMethods((0,d.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,o.default)(e.listData),(0,o.default)(r))}).catch(function(e){m.default.show({content:e.message})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()}},filters:{numberComma:v.default},created:function(){var e=[p.getEmployeeReserveFunds,p.getSupplierToPayDeposit,p.getFundCashDiscount,p.getObjFundBalByType,p.getComplexExpenseReimbursement];this.requestMethods=e[this.request],this.getList()}}},esl5:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("3cXf"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("bFc7"),p=n(v),C=a("6WeX"),y=n(C),_=a("3NX5"),g=n(_),b=a("zWMP");t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"",contactInfo:{}}},components:{workFlow:h.default,RAction:f.default,contactPart:p.default,PriceTotal:y.default,MatterList:g.default},mixins:[u.default],methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(e.submitInfo=JSON.parse((0,o.default)(t)),!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=!0,i=!1,s=void 0;try{for(var l,d=(0,r.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;u.noTaxAmount=(0,b.accMul)(u.price,u.tdQty),u.taxAmount=(0,b.accMul)(u.noTaxAmount,u.taxRate),u.tdAmount=(0,b.accAdd)(u.noTaxAmount,u.taxAmount),e.count=(0,b.accAdd)(e.count,u.tdAmount),u.inventoryPic=u.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+u.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){i=!0,s=e}finally{try{!n&&d.return&&d.return()}finally{if(i)throw s}}e.orderInfo=t.formData,e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo={creatorName:a.dealerDebitContactPersonName,dealerName:a.dealerName_dealerDebit,dealerMobilePhone:t.dealerDebitContactInformation,dealerCode:a.dealerDebit,dealerLabelName:a.drDealerLabel,province:a.province_dealerDebit,city:a.city_dealerDebit,county:a.county_dealerDebit,address:a.address_dealerDebit,payment:a.drDealerPaymentTerm,logistics:t.drDealerLogisticsTerms}}}}},evww:function(e,t){},ewRl:function(e,t,a){"use strict";function n(e){a("wetL")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("bOiH");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("eg0j"),o=a.n(s),l=a("sUiu"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-e03c383e",null);t.default=c.exports},ezSw:function(e,t,a){"use strict";function n(e){a("Y5WQ")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("y2/q");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("hrbZ"),o=a.n(s),l=a("+ARd"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-1bf45f98",null);t.default=c.exports},f06H:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("J0Oq"),o=n(s),l=a("3cXf"),d=n(l),u=a("MgeX"),c=n(u),f=a("HzJ8"),m=n(f),h=a("4YfN"),v=n(h),p=a("kNGm"),C=n(p),y=a("h+4q"),_=a("HyXB"),g=a("1KNX"),b=n(g);t.default={filters:{dateFormat:C.default},data:function(){return{transCode:"",MatPic:"",warehouse:{},baseinfo:{},typeSubMap:{staff:{title:"员工",dealerLabelName:"员工",key:"staffDealerCode",value:"",code:"",list:[]},group:{title:"组织",dealerLabelName:"",key:"groupCode",value:"",code:"",list:[]},customer:{title:"客户",dealerLabelName:"客户",key:"customerDealerCode",value:"",code:"",list:[]},processors:{title:"加工商",dealerLabelName:"加工商",key:"processorsDealerCode",value:"",code:"",list:[]},channel:{title:"渠道商",dealerLabelName:"渠道商",key:"channelDealerCode",value:"",code:"",list:[]},noMatched:{title:"",dealerLabelName:"",key:"",value:"",code:"",list:[]}},typeSub:"group",typeToSubMap:{"配送中心仓":"group","加工商仓":"processors","加工车间仓":"group","客户仓":"customer","渠道商仓":"channel","个人仓":"staff","一般部门仓":"group"},warehouseConfig:[],warehouseDuplicateConfig:[],formData:{},viewId:""}},components:{RScroll:b.default},methods:{findData:function(){var e=this;return(0,y.getwarehouseInfo)(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a;t.attachment;e.formData=n,e.warehouseDuplicateConfig.forEach(function(t){if(e.formData[t.name]&&!e.formData[t.name].length)return void(t.show=!1);t.show=!0});var i=n.baseinfo,r=void 0===i?{}:i,s=n.warehouse,o=void 0===s?{}:s;switch(o.warehouseStatus){case 1:o.warehouseStatus="使用中";break;case 2:o.warehouseStatus="未使用";break;case 0:o.warehouseStatus="草稿";break;case-1:o.warehouseStatus="停用"}if(e.hasDefault=!0,e.baseinfo=(0,v.default)({},e.baseinfo,r),e.warehouse=(0,v.default)({},e.warehouse,o),e.warehouse.warehousePic?e.MatPic="/H_roleplay-si/ds/download?url="+e.warehouse.warehousePic+"&width=400&height=400":e.getDefaultImg(),e.typeSub=e.typeToSubMap[e.warehouse.warehouseType]||"noMatched","noMatched"!==e.typeSub){var l=!0,d=!1,u=void 0;try{for(var f,h=(0,m.default)((0,c.default)(e.typeSubMap));!(l=(f=h.next()).done);l=!0){var p=f.value;if(e.warehouse[p.key]){p.code=e.warehouse[p.key],e.getTypeSubList();break}}}catch(e){d=!0,u=e}finally{try{!l&&h.return&&h.return()}finally{if(d)throw u}}e.biReferenceId=e.warehouse.referenceId,e.$loading.hide()}}).catch(function(t){e.$loading.hide(),e.$vux.alert.show({content:t.message})})},getDefaultImg:function(){this.MatPic=a("t732")},getTypeSubList:function(){var e=this;switch(this.typeSub){case"group":return(0,y.getDepartMentWage)().then(function(t){var a=t.tableContent,n=void 0===a?[]:a,i=!0,r=!1,s=void 0;try{for(var o,l=(0,m.default)(n);!(i=(o=l.next()).done);i=!0){var d=o.value;if(d.GROUP_CODE===e.typeSubMap[e.typeSub].code){e.typeSubMap[e.typeSub].value=d.GROUP_NAME;break}}}catch(e){r=!0,s=e}finally{try{!i&&l.return&&l.return()}finally{if(r)throw s}}});case"staff":case"customer":case"processors":case"channel":return(0,_.getObjDealerByLabelName)({dealerLabelName:this.typeSubMap[this.typeSub].dealerLabelName}).then(function(t){var a=t.tableContent,n=void 0===a?[]:a,i=!0,r=!1,s=void 0;try{for(var o,l=(0,m.default)(n);!(i=(o=l.next()).done);i=!0){var d=o.value;if(d.dealerCode===e.typeSubMap[e.typeSub].code){e.typeSubMap[e.typeSub].value=d.dealerName;break}}}catch(e){r=!0,s=e}finally{try{!i&&l.return&&l.return()}finally{if(r)throw s}}})}},goEdit:function(){this.$router.push({path:"/warehouse/edit_warehouse",query:{transCode:this.transCode}})},getFormViews:function(){var e=this;return(0,_.getFormViews)("64a41c48-4e8d-4709-bd01-5d60ad6bc625").then(function(t){var a=!0,n=!1,i=void 0;try{for(var r,s=(0,m.default)(t);!(a=(r=s.next()).done);a=!0){var o=r.value;if("view"===o.viewType){e.viewId=o.uniqueId;break}}}catch(e){n=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}})},getFormConfig:function(){var e=this;(0,_.getFormConfig)(this.viewId).then(function(t){var a=t.config,n=void 0===a?[]:a,i=[],r=[];n.forEach(function(e){e.isMultiple?e.hiddenInRun||"r2Fileupload"===e.xtype||r.push(JSON.parse((0,d.default)(e))):i=JSON.parse((0,d.default)(e.items))}),i.forEach(function(t){"groupCode"!==t.fieldCode&&"customerDealerCode"!==t.fieldCode&&"customerDealerCode"!==t.fieldCode&&"processorsDealerCode"!==t.fieldCode&&"channelDealerCode"!==t.fieldCode||(t.hiddenInRun=!0),t.hiddenInRun||"warehouseCode"!==t.fieldCode&&"warehouseName"!==t.fieldCode&&"warehousePic"!==t.fieldCode&&"warehouseProvince"!==t.fieldCode&&"warehouseCity"!==t.fieldCode&&"warehouseDistrict"!==t.fieldCode&&"warehouseAddress"!==t.fieldCode&&"warehouseStatus"!==t.fieldCode&&e.warehouseConfig.push(t)}),r.forEach(function(e){switch(e.name){case"warehouseRel":e.title="库位"}e.items.forEach(function(t,a){t.hidden&&(e.items.splice(a,1),a--)})}),e.warehouseDuplicateConfig=r,e.$loading.hide()})}},created:function(){var e=this;this.$loading.show();var t=this.$route.query;t.transCode&&(this.transCode=t.transCode,(0,o.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getFormViews();case 2:return t.next=4,e.getFormConfig();case 4:return t.next=6,e.findData();case 6:case"end":return t.stop()}},t,e)}))())}}},"f4G+":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("7g+Q"),o=n(s),l=a("+62G"),d=(n(l),a("z5TY")),u=n(d),c=a("BGNQ"),f=n(c),m=a("SAzG"),h=n(m),v=a("1KNX"),p=n(v),C=a("Qg39"),y=a("zWMP");t.default={name:"Bom",props:{show:{type:Boolean,default:!1},bomInfo:{type:Object,default:function(){return{}}},btnIsHide:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!0},specificLossText:{type:String,default:"损耗率"},noSpecificLoss:{type:Boolean,default:!1}},data:function(){return{scrollOptions:{click:!0},showPop:!1,btnNext:"返回"}},components:{Popup:o.default,Group:u.default,Cell:f.default,XInput:h.default,RScroll:p.default},watch:{show:{handler:function(e){this.showPop=e}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()}),this.btnNext="返回"},onHide:function(){this.$emit("input",!1)},confirm:function(){"确认"===this.btnNext&&this.$emit("bom-confirm",(0,r.default)(this.bomInfo)),this.showPop=!1},modifyBom:function(e){var t=this;this.$vux.confirm.prompt(e.specificLoss,{title:this.specificLossText,onConfirm:function(a){if(a){e.specificLoss=Math.abs((0,C.toFixed)(a));var n=(0,y.accMul)(t.bomInfo.tdQty,e.qty,1+e.specificLoss);e.tdQty=Math.abs((0,C.toFixed)(n)),t.btnNext="确认"}}})},getFocus:function(e){event.currentTarget.select()},closePop:function(){this.showPop=!1},changeToConfirm:function(){this.btnNext="确认"}}}},f6zL:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("BGNQ"),r=n(i),s=a("z5TY"),o=n(s),l=a("kNGm"),d=n(l),u=a("0AQX"),c=a("+VRO"),f=n(c),m=a("Qg39"),h=a("BUFe"),v=n(h),p=a("AupE"),C=n(p),y=a("bFc7"),_=n(y);t.default={data:function(){return{count:0,orderInfo:{},contactInfo:{},formViewUniqueId:"5446fc51-1d16-489a-ab2b-6b2292bb7be5"}},mixins:[f.default],components:{Cell:r.default,Group:o.default,RAction:v.default,workFlow:C.default,contactPart:_.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment,e.count=e.count/100,t.formData.validUntil=(0,d.default)(t.formData.validUntil,"YYYY-MM-DD"),t.formData.tdAmount=(0,m.toFixed)(t.formData.tdAmount),e.orderInfo=t.formData,e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.orderInfo);this.contactInfo={creatorName:e.dealerDebitContactPersonName,dealerName:e.dealerName_dealerDebit,dealerMobilePhone:e.dealerDebitContactInformation,dealerContactPersonName:e.dealerDebitContactPersonName,dealerCode:e.dealerDebit,dealerLabelName:e.drDealerLabel,province:e.province_dealerDebit,city:e.city_dealerDebit,county:e.county_dealerDebit,address:e.address_dealerDebit,payment:e.drDealerPaymentTerm,validUntil:e.validUntil,logistics:e.drDealerLogisticsTerms}}}}},fCs9:function(e,t,a){"use strict";function n(e){a("dRU1")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("rZl4");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("BM9o"),o=a.n(s),l=a("QpJC"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-c751d6c0",null);t.default=c.exports},fEP3:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getTaskWorkList=t.getBomWorkCheck=t.getBomWorkStart=t.getWorkStartList=t.getWorkGDBLLList=t.getWorkCheckList=t.getObjFacility=t.getWorkOrderTask=void 0;var i=a("3cXf"),r=n(i),s=a("4YfN"),o=n(s),l=a("GOq4"),d=n(l),u=t.getWorkOrderTask=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/ds/getWorkOrderTask",data:e})},c=t.getObjFacility=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/ds/getObjFacility",data:e})},f=(t.getWorkCheckList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/ds/getWorkCheck",data:e})},t.getWorkGDBLLList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/ds/getWorkReplenishment",data:(0,o.default)({_dc:Date.now(),refresh:!0},e)})}),m=t.getWorkStartList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/ds/getWorkOrderStart",data:(0,o.default)({_dc:Date.now()},e)})},h=t.getBomWorkStart=function(e){return d.default.ajax({url:"/H_roleplay-si/ds/getBomWorkOrderStart",data:{_dc:Date.now(),filter:(0,r.default)([{operator:"in",property:"parentInvCode",value:e}])}})};t.getBomWorkCheck=function(e){var t=e.transCode,a=void 0===t?"":t,n=e.inventoryCode,i=void 0===n?"":n;return d.default.ajax({url:"/H_roleplay-si/ds/getBomWorkOrderCheck",data:{_dc:Date.now(),filter:(0,r.default)([{operator:"in",property:"startCode",value:a},{operator:"in",property:"parentInvCode",value:i}])}})},t.getTaskWorkList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/account-api/account/getView",data:(0,o.default)({},e,{user_code:1,view_scope:"data",page:1,start:0,limit:100})})};t.default={getObjFacility:c,getWorkOrderTask:u,getWorkGDBLLList:f,getWorkStartList:m,getBomWorkStart:h}},fFaL:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("a3Yh"),o=n(s),l=a("4YfN"),d=n(l),u=a("IHPB"),c=n(u),f=a("3cXf"),m=n(f),h=a("HXPS"),v=n(h),p=a("BGNQ"),C=n(p),y=a("z5TY"),_=n(y),g=a("SAzG"),b=n(g),w=a("PzEQ"),I=n(w),x=a("0AQX"),D=a("HyXB"),P=a("bKg5"),S=n(P),k=a("VZtf"),L=n(k),N=a("9cRV"),M=n(N),T=a("89pA"),A=n(T),O=a("luHD"),R=n(O),j=a("vl8n"),B=n(j),E=a("+WR7"),F=n(E);t.default={mixins:[S.default],components:{Icon:v.default,Cell:C.default,Group:_.default,XInput:b.default,XTextarea:I.default,RNumber:L.default,PopMatterList:M.default,PopWarehouseList:A.default,PopMatter:R.default,RPicker:B.default,PopBaseinfo:F.default},data:function(){return{matterList:[],showMaterielPop:!1,transCode:"",formData:{biComment:""},warehouse:{},warehouseIn:null,matter:{},showMatterPop:!1,modifyIndex:null,checkFieldList:[{key:"tdQty",message:"请填写调拨数量"}]}},methods:{delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},selWarehouseOut:function(e){this.warehouse=JSON.parse(e),null!=this.matterParams.data.whCode&&(this.matterParams.data.whCode=this.warehouse.warehouseCode,this.matterList=[])},selWarehouseIn:function(e){this.warehouseIn=JSON.parse(e)},modifyMatter:function(e,t){this.matter=JSON.parse((0,m.default)(e)),this.showMatterPop=!0,this.modifyIndex=t},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.matterList,this.modifyIndex,t)},selMatter:function(e){var t=JSON.parse(e);t.forEach(function(e){e.tdQty=e.tdQty||""}),this.matterList=[].concat((0,c.default)(t))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},save:function(){var e=this,t="",a=[];if([{key:"warehouse",message:"出库仓库"},{key:"warehouseIn",message:"入库仓库"}].every(function(a){return!!e[a.key]||(t="请选择"+a.message,!1)}),t||this.matterList.length||(t="请选择物料"),this.matterList.every(function(n){if(!n.tdQty)return t="请填写调拨数量",!1;var i={transObjCode:n.inventoryCode,tdProcessing:n.processing,thenQtyStock:n.qtyBal,tdQty:n.tdQty,assistQty:n.assistQty||0,assMeasureScale:n.assMeasureScale||null,assMeasureUnit:n.assMeasureUnit||null,comment:n.comment||null};return e.transCode&&(i.tdId=n.tdId||""),a.push(i),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=D.saveAndStartWf,n=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,containerOutWarehouseManager:e.warehouse.containerOutWarehouseManager||null,containerInWarehouseManager:e.warehouseIn.containerInWarehouseManager||null,inPut:{containerCodeOut:e.warehouse.warehouseCode,containerCode:e.warehouseIn.warehouseCode,dataSet:a}}),i={listId:e.listId,biComment:"",formData:(0,m.default)(n),wfPara:(0,m.default)((0,o.default)({},e.processCode,{businessKey:e.businessKey,createdBy:n.creator}))};e.transCode&&(t=D.saveAndCommitTask,i.biReferenceId=e.biReferenceId,i.wfPara=(0,m.default)({businessKey:e.transCode,createdBy:n.creator,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=D.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,x.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=t.attachment;var o=[],l=s.inPut,u=l.dataSet,c=void 0===u?[]:u,f=!0,m=!1,h=void 0;try{for(var v,p=(0,r.default)(c);!(f=(v=p.next()).done);f=!0){var C=v.value;C=(0,d.default)({},C,{qtyBal:C.thenQtyStock,inventoryPic:C.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+C.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:C.inventoryName_transObjCode,inventoryCode:C.inventoryCode_transObjCode,specification:C.specification_transObjCode,measureUnit:C.measureUnit_transObjCode,processing:C.tdProcessing}),o.push(C)}}catch(e){m=!0,h=e}finally{try{!f&&p.return&&p.return()}finally{if(m)throw h}}e.warehouseIn={warehouseCode:l.containerCode,warehouseName:l.warehouseName_containerCode,warehouseType:l.warehouseType_containerCode,warehouseProvince:l.warehouseProvince_containerCode,warehouseCity:l.warehouseCity_containerCode,warehouseDistrict:l.warehouseDistrict_containerCode,warehouseAddress:l.warehouseAddress_containerCode},e.warehouse={warehouseCode:l.containerCodeOut,warehouseName:l.warehouseName_containerCodeOut,warehouseType:l.warehouseType_containerCodeOut,warehouseProvince:l.warehouseProvince_containerCodeOut,warehouseCity:l.warehouseCity_containerCodeOut,warehouseDistrict:l.warehouseDistrict_containerCodeOut,warehouseAddress:l.warehouseAddress_containerCodeOut},e.warehouseParams={whCode:e.warehouse.warehouseCode},e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,d.default)({},e.handlerDefault,{biComment:s.biComment,biId:s.biId,biProcessStatus:s.biProcessStatus,creator:s.creator,modifer:s.modifer}),e.biReferenceId=s.biReferenceId,e.matterList=o,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,o.default)({},"BDKCDB_DATA",{matter:this.matterList,warehouse:this.warehouse,warehouseIn:this.warehouseIn,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("BDKCDB_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.warehouse=t.warehouse,this.warehouseIn=t.warehouseIn,this.formData=t.formData,this.warehouseParams={whCode:this.warehouse.warehouseCode},sessionStorage.removeItem("BDKCDB_DATA")}}}},fJ2I:function(e,t,a){"use strict";function n(e){a("OV+5")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("JeEO");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("o+wH"),o=a.n(s),l=a("bZiz"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},fK8l:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"each-msg",class:{visited:e.item.visited}},[a("div",{staticClass:"app-img-part"},[a("img",{attrs:{src:e.item.list&&e.item.list[0].pic,alt:"appImg"},on:{error:function(t){e.getDefaultImg(e.item[0]||"")}}})]),e._v(" "),a("div",{staticClass:"msg-container-part",class:{"vux-1px-b":!e.noBorder}},[a("div",{staticClass:"top_part"},[a("span",{staticClass:"app_name"},[e._v(e._s(e.name))]),e._v(" "),a("span",{staticClass:"msg_time"},[e._v(e._s(e._f("handleCrt")(e.item.list)))])]),e._v(" "),a("div",{staticClass:"main_part"},[a("span",{staticClass:"info"},[e._v("您收到"+e._s(e.item.list&&e.item.list.length>1?"多":"一")+"条新的消息")]),e._v(" "),a("badge",{attrs:{text:e.item.list&&e.item.list.length}})],1)])])},i=[],r={render:n,staticRenderFns:i};t.a=r},fKU2:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("3pyw"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"countup",mounted:function(){var e=this;this.$nextTick(function(){e._countup=new i.default(e.$el,e.startVal,e.endVal,e.decimals,e.duration,e.options),e.start&&e._countup.start()})},props:{tag:{type:String,default:"span"},start:{type:Boolean,default:!0},startVal:{type:Number,default:0},endVal:{type:Number,required:!0},decimals:{type:Number,default:0},duration:{type:Number,default:2},options:{type:Object,default:function(){return{}}}},render:function(e){return e(this.tag,{},[this.startVal])},watch:{start:function(e){e&&this._countup.start()},endVal:function(e){this._countup.update(e)}}}},fMId:function(e,t,a){"use strict";function n(e){a("rPeu")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("274J");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("1/RG"),o=a.n(s),l=a("Jnfb"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-99191814",null);t.default=c.exports},fPYh:function(e,t,a){"use strict";function n(e){a("5wBf")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("fd/A");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("V2cg"),o=a.n(s),l=a("YeCH"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-22f267f0",null);t.default=c.exports},fQJn:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("a3Yh"),o=n(s),l=a("MgeX"),d=n(l),u=a("HzJ8"),c=n(u),f=a("ZLEe"),m=n(f),h=a("3cXf"),v=n(h),p=a("HXPS"),C=n(p),y=a("BGNQ"),_=n(y),g=a("z5TY"),b=n(g),w=a("SAzG"),I=n(w),x=a("PzEQ"),D=n(x),P=a("0AQX"),S=a("HyXB"),k=a("bKg5"),L=n(k),N=a("VZtf"),M=n(N),T=a("89pA"),A=n(T),O=a("luHD"),R=n(O),j=a("Pb67"),B=n(j),E=a("RMtk"),F=n(E),U=a("vl8n"),$=n(U),Q=a("+WR7"),H=n(Q),V=a("Qg39");t.default={mixins:[L.default],components:{Icon:C.default,Cell:_.default,Group:b.default,XInput:I.default,XTextarea:D.default,RNumber:M.default,PopOrderList:B.default,PopWarehouseList:A.default,PopMatter:R.default,RPicker:$.default,PopBaseinfo:H.default,PopOrderXqtjList:F.default},data:function(){return{listId:"762b8df4-2555-4325-884a-355f34355832",orderList:{},matterList:[],showOrderPop:!1,transCode:"",formData:{biComment:""},numMap:{},warehouseIn:null,matter:{},showMatterPop:!1,modifyIndex:null}},methods:{checkAmt:function(e){var t=e.tdQty,a=e.qtyBal;t&&(e.tdQty=Math.abs((0,V.toFixed)(t)),t>a&&(e.tdQty=a))},delClick:function(e,t,a){var n=this.selItems,i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode&&e.transCode===t.transCode});if(-1!==i)return void n.splice(i,1);n.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,v.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,m.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});i>=0&&(e.$refs.order.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,c.default)((0,d.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,o=!1,l=void 0;try{for(var u,f=(0,c.default)(r);!(s=(u=f.next()).done);s=!0){var m=u.value;this.numMap[m.transCode+"_"+m.inventoryCode]={tdQty:m.tdQty,shippingTime:m.shippingTime}}}catch(e){o=!0,l=e}finally{try{!s&&f.return&&f.return()}finally{if(o)throw l}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},selWarehouseIn:function(e){this.warehouseIn=JSON.parse(e)},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,v.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t)},selOrder:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){var a=e.transCode+"_"+e.inventoryCode,i=t.numMap[a]||{},r=i.tdQty,s=void 0===r?"":r,o=i.shippingTime,l=void 0===o?"":o;e.tdQty=s,e.shippingTime=l,n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},submitOrder:function(){var e=this,t="",a=[];[{key:"warehouseIn",message:"入库仓库"}].every(function(a){return!!e[a.key]||(t="请选择"+a.message,!1)}),t||(0,m.default)(this.orderList).length||(t="请选择物料");var n=!0,i=!1,s=void 0;try{for(var l,u=(0,c.default)((0,d.default)(this.orderList));!(n=(l=u.next()).done);n=!0){var f=l.value,h=!0,p=!1,C=void 0;try{for(var y,_=(0,c.default)(f);!(h=(y=_.next()).done);h=!0){var g=y.value;if(!g.tdQty){t="请填写数量";break}var b={transMatchedCode:g.transCode,outPutMatCode:g.inventoryCode,containerCodeOut:this.warehouseIn.warehouseCode,warehouseType_containerCodeOut:this.warehouseIn.warehouseType,tdProcessing:g.processing,thenQtyBal:g.qtyBal,thenQtyStock:g.qtyStock,tdQty:g.tdQty,comment:g.comment||""};this.transCode&&(b.tdId=g.tdId||""),a.push(b)}}catch(e){p=!0,C=e}finally{try{!h&&_.return&&_.return()}finally{if(p)throw C}}}}catch(e){i=!0,s=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw s}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=S.saveAndStartWf,n={},i=(0,o.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});n=(0,r.default)({},e.formData,{modifer:e.transCode?e.formData.handler:"",handlerEntity:e.entity.dealerName,outPut:{containerCode:e.warehouseIn.warehouseCode,dataSet:a},containerInWarehouseManager:e.warehouseIn.containerInWarehouseManager||null}),e.transCode&&(t=S.saveAndCommitTask,i={businessKey:e.transCode,createdBy:n.creator||n.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var s={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,v.default)(n),wfPara:(0,v.default)(i)};e.transCode||delete s.biReferenceId,e.processCode.length||(t=S.submitAndCalc,delete s.wfPara,delete s.biReferenceId),e.biReferenceId&&(s.biReferenceId=e.biReferenceId),e.saveData(t,s)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=l;var d=[],u={},f=s.outPut,m=f.dataSet,h=void 0===m?[]:m,v=!0,p=!1,C=void 0;try{for(var y,_=(0,c.default)(h);!(v=(y=_.next()).done);v=!0){var g=y.value;g=(0,r.default)({},g,{transCode:g.transMatchedCode,qtyBal:g.thenQtyBal,qtyStock:g.thenQtyStock,inventoryPic:g.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+g.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:g.inventoryName_outPutMatCode,inventoryCode:g.outPutMatCode,specification:g.specification_outPutMatCode,processing:g.tdProcessing}),u[g.transCode]||(u[g.transCode]=[]),d.push(g),u[g.transCode].push(g)}}catch(e){p=!0,C=e}finally{try{!v&&_.return&&_.return()}finally{if(p)throw C}}e.warehouseIn={warehouseCode:f.containerCode,warehouseName:f.warehouseName_containerCode,warehouseType:f.warehouseType_containerCode,warehouseProvince:f.warehouseProvince_containerCode,warehouseCity:f.warehouseCity_containerCode,warehouseDistrict:f.warehouseDistrict_containerCode,warehouseAddress:f.warehouseAddress_containerCode},e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,r.default)({},e.formData,e.handlerDefault,{biComment:s.biComment,biId:s.biId,biProcessStatus:s.biProcessStatus,creator:s.creator,modifer:s.modifer}),e.biReferenceId=s.biReferenceId,e.matterList=d,e.orderList=u,e.$loading.hide()})},assembMatterList:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,c.default)((0,d.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,o=!1,l=void 0;try{for(var u,f=(0,c.default)(r);!(s=(u=f.next()).done);s=!0){var m=u.value;this.matterList.push(m)}}catch(e){o=!0,l=e}finally{try{!s&&f.return&&f.return()}finally{if(o)throw l}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}},hasDraftData:function(){return!!(0,d.default)(this.orderList).length&&(0,o.default)({},"NBJGLL_DATA",{orderList:this.orderList,warehouseIn:this.warehouseIn,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("NBJGLL_DATA");if(e){var t=JSON.parse(e);this.orderList=t.orderList,this.assembMatterList(),this.formData=t.formData,this.warehouseIn=t.warehouseIn,sessionStorage.removeItem("NBJGLL_DATA")}}}},fQlz:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["微笑","撇嘴","色","发呆","得意","流泪","害羞","闭嘴","睡","大哭","尴尬","发怒","调皮","呲牙","惊讶","难过","酷","冷汗","抓狂","吐","偷笑","可爱","白眼","傲慢","饥饿","困","惊恐","流汗","憨笑","大兵","奋斗","咒骂","疑问","嘘","晕","折磨","衰","骷髅","敲打","再见","擦汗","抠鼻","鼓掌","糗大了","坏笑","左哼哼","右哼哼","哈欠","鄙视","委屈","快哭了","阴险","亲亲","吓","可怜","菜刀","西瓜","啤酒","篮球","乒乓","咖啡","饭","猪头","玫瑰","凋谢","示爱","爱心","心碎","蛋糕","闪电","炸弹","刀","足球","瓢虫","便便","月亮","太阳","礼物","拥抱","强","弱","握手","胜利","抱拳","勾引","拳头","差劲","爱你","NO","OK","爱情","飞吻","跳跳","发抖","怄火","转圈","磕头","回头","跳绳","挥手","激动","街舞","献吻","左太极","右太极"]},fQz5:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("BJMS");a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,function(){return n[e]})}(i);var r=a("73SI"),s=a.n(r),o=a("0GX7"),l=a("C7Lr"),d=l(s.a,o.a,!1,null,null,null);t.default=d.exports},fSHU:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("kNGm"),o=(n(s),a("SAzG")),l=n(o),d=a("0AQX"),u=a("+VRO"),c=n(u),f=a("BUFe"),m=n(f),h=a("AupE"),v=n(h),p=a("bFc7"),C=n(p),y=a("CKaN"),_=n(y),g=a("zWMP"),b=a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",contactInfo:{},dealerInfo:{},cashInfo:{}}},computed:{isInCharge:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"d7ef0729-4a55-46fe-a750-e5298042c5bc"===t},isApproval:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"65afdac2-db7d-42d1-a059-7fdb98892134"===t},isCashier:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"14128204-e4ee-4688-98c7-9d3c03e7a3ad"===t},isAccount:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"b8490da9-513f-408b-8974-83998188bf6a"===t},cashParams:function(){return{transCode:this.transCode}}},mixins:[c.default],components:{workFlow:v.default,RAction:m.default,contactPart:C.default,PopCashList:_.default,XInput:l.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,d.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment,e.orderInfo=t.formData,e.dealerInfo=t.formData.order.dataSet[0],e.cashInfo=t.formData.outPut.dataSet[0],e.workFlowInfoHandler()})},agreeHandler:function(){if(this.isApproval||this.isCashier||this.isAccount){if(this.isCashier&&!this.cashInfo.fundCode)return this.$vux.alert.show({content:"请选择资金账户"}),!0;var e=this.orderInfo,t=this.dealerInfo,a=this.cashInfo,n=(0,r.default)({},e,{order:{dataSet:[{tdIdCopy1:t.tdIdCopy1,dealerCodeCredit:t.dealerCodeCredit,crDealerLabel:t.crDealerLabel,applicationType:t.applicationType,tdCreditLine:t.tdCreditLine,thenAmntBalCopy1:t.thenAmntBalCopy1,thenTotalAmntBal:t.thenTotalAmntBal,tdAmountCopy1:t.tdAmountCopy1,differenceAmount:t.differenceAmount,expCause:t.expCause}]},outPut:{dataSet:[{cashInCode:a.fundCode||a.cashInCode,cashType_cashInCode:a.fundType||a.cashType_cashInCode,thenAmntBal:a.thenAmntBal,tdAmount:a.tdAmount,tdId:a.tdId}]}});return this.saveData(n),!0}return!1},selCash:function(e){this.cashInfo=(0,r.default)({},this.cashInfo,e)},calcPayment:function(e){var t=e.thenAmntBalCopy1,a=void 0===t?0:t,n=e.tdAmountCopy1,i=void 0===n?0:n;i||(i=0),i=(0,b.toFixed)(i),e.tdAmountCopy1=i,e.differenceAmount=(0,b.toFixed)((0,g.accAdd)(a,i))}}}},fc3g:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("J0Oq"),o=n(s),l=a("KH7x"),d=n(l),u=a("XAqG"),c=a("I8ug"),f=a("d7ck"),m=n(f);t.default={name:"USERForm",components:{FormCell:m.default},data:function(){return{colId:"",userData:{},action:{}}},methods:{getDefaultImg:function(e){this.userData.photo=a("男"===e?"Fuf7":"0gu7")},loadPage:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.$loading.show(),(0,u.getUserDetail)(this.colId).then(function(t){var a=t.tableContent,n=void 0===a?[]:a,i=(0,d.default)(n,1),r=i[0],s=void 0===r?{}:r,o=["女","男"],l=["临时账户","长期有效"],u=["shortTerm","longTerm"],c=["","使用中","未使用","草稿"],f=["","inUse","unUse"];s.gender=o[s.gender]||"未知",s.statusClass=f[s.status],s.status=c[s.status]||"停用",s.typeClass=u[s.userType],s.userType=l[s.userType],e.userData=s,s.photo||e.getDefaultImg(s.gender),e.$loading.hide()})},goEdit:function(){var e=this.$route.query.name,t=this.$route.params,a=t.folder,n=t.fileName;this.$router.push({path:"/fillForm/"+a+"/"+n,query:{name:e,colId:this.colId}})},getAppDetail:function(){var e=this,t=this.$route.query.listId,a=void 0===t?"":t;return(0,c.getAppDetail)(a).then(function(t){var a=(0,d.default)(t,1),n=a[0],i=void 0===n?{}:n,r=i.action;e.action=r})}},created:function(){var e=this;(0,o.default)(r.default.mark(function t(){var a,n;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.$route.query.colId,n=void 0===a?"":a,e.colId=n,t.next=4,e.getAppDetail();case 4:e.loadPage();case 5:case"end":return t.stop()}},t,e)}))()}}},fcvP:function(e,t){},"fd/A":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("rVsN"),o=n(s),l=a("4YfN"),d=n(l),u=a("KH7x"),c=n(u),f=a("BGNQ"),m=n(f),h=a("z5TY"),v=n(h),p=a("SAzG"),C=n(p),y=a("PzEQ"),_=n(y),g=a("u28h"),b=n(g),w=a("kNGm"),I=n(w),x=a("jLp1"),D=a("HyXB"),P=a("bKg5"),S=n(P),k=a("PKHo"),L=n(k),N=a("vl8n"),M=n(N),T=a("+WR7"),A=n(T),O=a("7D9F"),R=n(O),j=a("zWMP"),B=a("Qg39");t.default={mixins:[S.default,L.default],components:{Cell:m.default,Group:v.default,XInput:C.default,RPicker:M.default,PopBaseinfo:A.default,Datetime:b.default,XTextarea:_.default,PopManagerList:R.default},data:function(){return{listId:"630a9b96-f257-48b6-b0bc-fd64c455d92b",typeList:[],subclassList:[],ProjectApproval:{projectName:"",projectType:"",projectManager:"",phoneNumber:"",expectStartDate:(0,I.default)(new Date,"YYYY-MM-DD"),expectEndDate:(0,I.default)(new Date,"YYYY-MM-DD"),budgetIncome:"",budgetCapital:"",budgetCost:"",budgetProfit:"",budgetProfitMargin:"",comment:"",projectSubclass:""},formData:{biComment:"",biProcessStatus:""},defaultManager:{},hasDefault:!1}},computed:{profit:function(){var e=this.ProjectApproval,t=e.budgetIncome,a=void 0===t?0:t,n=e.budgetCapital,i=void 0===n?0:n,r=e.budgetCost,s=void 0===r?0:r,o=(0,j.accSub)(a,i),l=(0,B.toFixed)((0,j.accSub)(o,s));return this.ProjectApproval.budgetProfit=l,l},profitMargin:function(){var e=this.ProjectApproval,t=e.budgetIncome,a=void 0===t?0:t,n=e.budgetProfit,i=void 0===n?1:n,r=(0,B.toFixed)(Math.floor(Number(i)/(Number(a)||1)*1e4)/1e4);return this.ProjectApproval.budgetProfitMargin=r,1e4*r/100+"%"}},methods:{save:function(){var e=this,t=[{tip:"projectManager",msg:"项目经理"},{tip:"projectType",msg:"项目大类"},{tip:"projectName",msg:"项目名称"},{tip:"budgetIncome",msg:"预算收入"},{tip:"budgetCapital",msg:"预算成本"},{tip:"budgetCost",msg:"预算费用"},{tip:"expectStartDate",msg:"预期开始日期"},{tip:"expectEndDate",msg:"预期截止日期"}],a=["projectManager","projectType"],n="";if(t.every(function(t){return!!e.ProjectApproval[t.tip]||(n=a.includes(t.tip)?"请选择"+t.msg:"请填写"+t.msg,!1)}),n)return void this.$vux.alert.show({content:n});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=x.saveProjectApproval,a={listId:e.listId,formData:{handlerEntity:e.entity.dealerName,comment:{biComment:e.formData.biComment},baseinfo:{creator:e.formData.handler,handler:e.formData.handler,handlerName:e.formData.handlerName,handlerRole:e.formData.handlerRole,handlerRoleName:e.formData.handlerRoleName,handlerUnit:e.formData.handlerUnit,handlerUnitName:e.formData.handlerUnitName,id:"",modifer:e.formData.handler},projectApproval:e.ProjectApproval},wfParam:null};e.saveData(t,a)}})},selManager:function(e){var t=JSON.parse(e);this.ProjectApproval.projectManager=t.dealerName,this.ProjectApproval.phoneNumber=t.dealerMobilePhone},checkAmt:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];t&&(this.ProjectApproval[e]=(0,B.toFixed)(t))},getBigType:function(){var e=this;return(0,D.getDictByType)("projectType").then(function(t){var a=t.tableContent,n=void 0===a?[]:a;n&&n.forEach(function(e){e.originValue=e.value,e.value=e.name}),e.typeList=n})},getType:function(){var e=this,t=this.typeList.find(function(t){return t.name===e.ProjectApproval.projectType})||{};return(0,D.getDictByValue)(t.originValue).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;return n&&n.forEach(function(e){e.originValue=e.value,e.value=e.name}),e.subclassList=n,n})},projectBigChange:function(e){var t=this;this.getType().then(function(e){if(!t.hasDefault){var a=(0,c.default)(e,1),n=a[0],i=void 0===n?{}:n;t.ProjectApproval.projectSubclass=i.name}})},getFormData:function(){var e=this;return(0,x.findProjectApproval)(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a;e.hasDefault=!0,e.defaultManager={dealerName:n.projectApproval.projectManager,dealerMobilePhone:n.projectApproval.phoneNumber},n.projectApproval.expectStartDate=e.changeDate(n.projectApproval.expectStartDate),n.projectApproval.expectEndDate=e.changeDate(n.projectApproval.expectEndDate),e.ProjectApproval=n.projectApproval,e.$nextTick(function(){e.hasDefault=!1}),e.handlerDefault={handler:n.baseinfo.handler,handlerName:n.baseinfo.handlerName,handlerUnit:n.baseinfo.handlerUnit,handlerUnitName:n.baseinfo.handlerUnitName,handlerRole:n.baseinfo.handlerRole,handlerRoleName:n.baseinfo.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:n.baseinfo.biComment,biId:n.baseinfo.biId,biProcessStatus:n.baseinfo.biProcessStatus,creator:n.baseinfo.creator,modifer:n.baseinfo.modifer}),e.biReferenceId=n.biReferenceId,e.$loading.hide()})},initRequest:function(){var e=this,t=sessionStorage.getItem("XMLX_DATA"),a=[];if(t){var n=JSON.parse(t);return this.ProjectApproval=n.ProjectApproval,this.defaultManager={dealerName:this.ProjectApproval.projectManager,dealerMobilePhone:this.ProjectApproval.phoneNumber},this.getBigType().then(function(){e.getType()}),void sessionStorage.removeItem("XMLX_DATA")}return a.push(this.getBigType()),o.default.all(a)},hasDraftData:function(){return!!this.ProjectApproval.projectManager&&(0,r.default)({},"XMLX_DATA",{ProjectApproval:this.ProjectApproval})}},created:function(){}}},"fej/":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),m=a("89pA"),h=n(m),v=a("bFc7"),p=n(v),C=a("6WeX"),y=n(C),_=a("hPJo"),g=n(_),b=a("3NX5"),w=n(b),I=a("sUbJ"),x=n(I),D=a("d7ck"),P=n(D),S=a("zWMP");a("Qg39");t.default={data:function(){return{count:0,comment:"",orderInfo:{},warehouse:{},formViewUniqueId:"e76a8c6f-05cc-45ee-ba93-299fe6751856",orderList:{}}},computed:{noTaxAmount:function(){var e=0;return this.orderInfo.inPut.dataSet.forEach(function(t){e=(0,S.accAdd)(e,t.noTaxAmount)}),e},taxAmount:function(){var e=0;return this.orderInfo.inPut.dataSet.forEach(function(t){e=(0,S.accAdd)(e,t.taxAmount)}),e}},mixins:[l.default],components:{workFlow:f.default,RAction:u.default,PopWarehouseList:h.default,PriceTotal:y.default,contactPart:p.default,WarehouseContent:g.default,MatterList:w.default,MatterItem:x.default,FormCell:P.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var d={},u=s.inPut,c=void 0===u?{}:u;e.attachment=l;var f=s.inPut.dataSet,m=!0,h=!1,v=void 0;try{for(var p,C=(0,r.default)(f);!(m=(p=C.next()).done);m=!0){var y=p.value;e.count=(0,S.accAdd)(e.count,y.tdAmount),y.inventoryPic=y.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+y.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),d[y.transMatchedCode]||(d[y.transMatchedCode]=[]),d[y.transMatchedCode].push(y)}}catch(e){h=!0,v=e}finally{try{!m&&C.return&&C.return()}finally{if(h)throw v}}e.orderList=d,e.dealerInfo={creatorName:s.dealerCreditContactPersonName,dealerName:c.dealerName_dealerCodeCredit,dealerMobilePhone:s.dealerCreditContactInformation,dealerContactPersonName:s.dealerCreditContactPersonName,dealerCode:c.dealerCode_dealerCodeCredit,dealerLabelName:c.crDealerLabel,province:c.province_dealerCodeCredit,city:c.city_dealerCodeCredit,county:c.county_dealerCodeCredit,address:c.address_dealerCodeCredit,payment:c.crDealerPaymentTerm},e.warehouse={warehouseCode:c.containerCode,warehouseName:c.warehouseName_containerCode,warehouseType:c.warehouseType_containerCode,warehouseProvince:c.warehouseProvince_containerCode,warehouseCity:c.warehouseCity_containerCode,warehouseDistrict:c.warehouseDistrict_containerCode,warehouseAddress:c.warehouseAddress_containerCode,containerInWarehouseManager:c.containerInWarehouseManager},e.orderInfo=s,e.workFlowInfoHandler()})}}}},fem4:function(e,t){},fg8O:function(e,t,a){"use strict";function n(e){a("A9Pu")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3lqy");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("GqrD"),o=a.n(s),l=a("8rFc"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-07fdcabe",null);t.default=c.exports},fkNu:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=(a("XAqG"),a("HyXB"),a("MjAd")),o=n(s),l=a("ak47");n(l);t.default={name:"CPXQ_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"经办人",value:"handlerName"},{name:"交易号",value:"transCode"},{name:"员工",value:"profileName"}],listViewID:2376}},mixins:[o.default],methods:{pathChange:function(e,t,a){var n=this;if(!this.clickVisited){var i=e.transCode,s=this.$route.query.name,o=this.$route.params,l=o.folder,d=o.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,r.default)({},e));var u=a+"/"+l+"/"+d;setTimeout(function(){n.clickVisited=!1,n.$router.push({path:u,query:{name:s,transCode:i}})},200)}},goDetail:function(e,t){this.pathChange(e,t,"/detail")},goUserEdit:function(e,t){this.pathChange(e,t,"/fillform")}}}},flGB:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper xsddyc-detail-container"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.contactInfo}},[a("div",{staticClass:"other",attrs:{slot:"other"},slot:"other"},[a("span",{staticClass:"title"},[e._v("日期期间: ")]),e._v(" "),a("span",{staticClass:"mode"},[e._v(e._s(e.orderInfo.duringDate||"暂无"))])])]),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"matter-list":e.orderInfo.order.dataSet,noTaxAmount:e.noTaxAmount,taxAmount:e.taxAmount,count:e.count},scopedSlots:e._u([{key:"matterOther",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("单价: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.price),3)))]),e._v(" "),a("span",[e._v("数量: "+e._s(e._f("toFixed")(n.tdQty)))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.taxRate,expression:"item.taxRate"}]},[e._v("税率: "+e._s(n.taxRate))])]),e._v(" "),n.promDeliTime?a("div",{staticClass:"mater_attribute"},[a("span",[e._v("预期交货日: "+e._s(n.promDeliTime))])]):e._e(),e._v(" "),a("div",{staticClass:"mater_price"},[a("span",[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(n.tdAmount),3)))]),e._v(" "),n.taxRate?a("span",{staticClass:"num",style:{display:n.tdAmount&&n.tdAmount.toString().length>=5?"block":""}},[e._v("\n                [金额: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.noTaxAmount),3))+" + 税金: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.taxAmount),3))+"]\n              ")]):e._e()])])]}}])}),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},fm4O:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"r-date-container",on:{click:e.clickDateSelect}},[a("div",{staticClass:"title",class:{required:e.required}},[e._v(e._s(e.title))]),e._v(" "),a("div",{staticClass:"mode"},[a("span",{staticClass:"mode_content"},[e._v(e._s(e.time||e.placeholder||"请选择"+e.title))]),e._v(" "),a("span",{staticClass:"iconfont icon-shenglve"})])])},i=[],r={render:n,staticRenderFns:i};t.a=r},foOz:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("4YfN"),o=n(s),l=a("MgeX"),d=n(l),u=a("HzJ8"),c=n(u),f=a("ZLEe"),m=n(f),h=a("rVsN"),v=n(h),p=a("IHPB"),C=n(p),y=a("3cXf"),_=n(y),g=a("HXPS"),b=n(g),w=a("BGNQ"),I=n(w),x=a("z5TY"),D=n(x),P=a("SAzG"),S=n(P),k=a("u28h"),L=n(k),N=a("PzEQ"),M=n(N),T=a("0AQX"),A=a("I3vJ"),O=a("HyXB"),R=a("bKg5"),j=n(R),B=a("luHD"),E=n(B),F=a("RMtk"),U=n(F),$=a("d7ck"),Q=n($),H=a("FlCz"),V=n(H),q=a("MVgC"),Y=n(q),X=a("vl8n"),G=n(X),W=a("+WR7"),z=n(W),K=a("zWMP"),J=a("Qg39");t.default={name:"ApplyWLXQTJForm",mixins:[j.default],components:{Icon:b.default,Cell:I.default,Group:D.default,XInput:S.default,XTextarea:M.default,PopMatter:E.default,PopOrderXqtjList:U.default,Datetime:L.default,FormCell:Q.default,BomList:V.default,BomPop:Y.default,RPicker:G.default,PopBaseinfo:z.default},data:function(){return{listId:"65ceb5a6-a120-11e8-862a-005056a136d0",orderList:{},showOrderPop:!1,DuplicateBoms:[],UniqueBom:[],formData:{biComment:""},submitSuccess:!1,numMap:{},transCode:"",formViewUniqueId:"346ede09-ac6a-489a-9242-f385932a4443",biReferenceId:"",actions:[],taskId:"",matterList:[],entity:{},selItems:[],matter:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,bomPopShow:!1,bom:{},modifyBomTdqty:[]}},watch:{matter:{handler:function(e){e.boms&&e.boms.forEach(function(t){var a=(0,K.accMul)(e.tdQty,t.qty,1+t.specificLoss);t.tdQty=Math.abs((0,J.toFixed)(a))})},deep:!0}},methods:{checkBom:function(e,t,a){this.bom=e,this.modifyIndex=t,this.modifyKey=a,this.bomPopShow=!0,this.modifyBomTdqty=JSON.parse((0,_.default)(e.boms))},bomConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t),this.reBuildArr(t)},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,_.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a,this.modifyBomTdqty=[].concat((0,C.default)(e.boms))},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t),this.reBuildArr(t)},reBuildArr:function(e){var t=this,a=e.boms;this.modifyBomTdqty.forEach(function(e){a.forEach(function(a){if(a.inventoryCode===e.inventoryCode)return a.newTdqty=(0,K.accSub)(a.tdQty,e.tdQty),t.UniqueBom.forEach(function(e){if(a.inventoryCode===e.inventoryCode)return e.tdQty=(0,K.accAdd)(e.tdQty,a.newTdqty),!1}),!0})})},selOrder:function(e){var t=this,a=JSON.parse(e),n={},i=[];this.DuplicateBoms=[],a.forEach(function(e){var a=e.transCode+"_"+e.orderCode+"_"+e.inventoryCode,r=t.numMap[a]||{},s=r.tdQty,o=void 0===s?"":s,l=r.shippingTime,d=void 0===l?"":l,u=r.boms,c=void 0===u?[]:u;e.tdQty=o,e.shippingTime=d,n[e.transCode]||(n[e.transCode]=[]),i.push((0,A.getJGDDBom)({parentInvCode:e.inventoryCode}).then(function(a){var n=a.tableContent,i=void 0===n?[]:n;i.forEach(function(t){var a=c.find(function(e){return t.inventoryCode===e.inventoryCode})||{},n=a.specificLoss,i=void 0===n?t.specificLoss:n,r=(0,K.accMul)(e.tdQty,t.qty,1+i);t.specificLoss=i,t.tdQty=Math.abs((0,J.toFixed)(r))}),t.$set(e,"boms",i);var r=JSON.parse((0,_.default)(i));t.DuplicateBoms=[].concat((0,C.default)(t.DuplicateBoms),(0,C.default)(r))})),n[e.transCode].push(e)}),v.default.all(i).then(function(e){t.mergeBomList()}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},findIndex:function(e,t){return e.findIndex(function(e){return e.orderCode===t.orderCode&&e.transCode===t.transCode&&e.inventoryCode===t.inventoryCode})},delClick:function(e,t,a){var n=this.selItems,i=this.findIndex(n,t);if(-1!==i)return void n.splice(i,1);n.push(t)},showSelIcon:function(e){return-1!==this.findIndex(this.selItems,e)},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,_.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,m.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.orderCode===a.orderCode&&t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=e.findIndex(n,t);i>=0&&(e.$refs.order.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}})}),e.selItems.forEach(function(t){t.boms.forEach(function(t){return e.UniqueBom.forEach(function(a,n){if(t.inventoryCode===a.inventoryCode){var i=(0,K.accSub)(a.tdQty,t.tdQty);return a.tdQty=(0,J.toFixed)(i),a.tdQty<=0&&e.UniqueBom.splice(n,1),!1}}),!0})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,c.default)((0,d.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,l=!1,u=void 0;try{for(var f,m=(0,c.default)(r);!(s=(f=m.next()).done);s=!0){var h=f.value;this.numMap[h.transCode+"_"+h.orderCode+"_"+h.inventoryCode]=(0,o.default)({},h)}}catch(e){l=!0,u=e}finally{try{!s&&m.return&&m.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="",a=[];t||(0,m.default)(this.orderList).length||(t="请选择物料");var n=!0,i=!1,s=void 0;try{for(var l,u=(0,c.default)((0,d.default)(this.orderList));!(n=(l=u.next()).done);n=!0){var f=l.value,h=!0,v=!1,p=void 0;try{for(var C,y=(0,c.default)(f);!(h=(C=y.next()).done);h=!0){var g=C.value;if(!g.tdQty){t="请填写减少数量";break}var b=[],w=!0,I=!1,x=void 0;try{for(var D,P=(0,c.default)(g.boms);!(w=(D=P.next()).done);w=!0){var S=D.value,k={tdId:S.tdId||null,transMatchedCode:g.transCode,tdQty:S.tdQty,orderCode:g.orderCode,bomSpecificLoss:S.specificLoss||S.bomSpecificLoss,tdProcessing:S.processing||S.tdProcessing,inventoryName:S.inventoryName,transObjCode:S.inventoryCode||S.transObjCode,measureUnit:S.measureUnit,bomType:S.bomType,bomQty:S.qty||S.bomQty,specification:S.specification,parentId:S.parentId||null};this.transCode&&delete k.orderCode,b.push(k)}}catch(e){I=!0,x=e}finally{try{!w&&P.return&&P.return()}finally{if(I)throw x}}var L={tdId:g.tdId||null,transMatchedCode:g.transCode,orderCode:g.orderCode,transObjCode:g.inventoryCode,inventoryName_transObjCode:g.inventoryName,tdProcessing:g.processing,measureUnit_transObjCode:g.measureUnit,thenQtyBal:g.qtyBal,shippingTime:g.shippingTime,tdQty:g.tdQty,comment:g.comment||"",boms:b};a.push(L)}}catch(e){v=!0,p=e}finally{try{!h&&y.return&&y.return()}finally{if(v)throw p}}}}catch(e){i=!0,s=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw s}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=O.saveAndStartWf,n={},i=(0,r.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});n=(0,o.default)({},e.formData,{modifer:e.transCode?e.formData.handler:"",handlerEntity:e.entity.dealerName,order:{dataSet:a}}),e.transCode&&(t=O.saveAndCommitTask,i={businessKey:e.transCode,createdBy:n.creator||n.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var s={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,_.default)(n),wfPara:(0,_.default)(i)};e.transCode||delete s.biReferenceId,e.processCode.length||(t=O.submitAndCalc,delete s.wfPara,delete s.biReferenceId),e.biReferenceId&&(s.biReferenceId=e.biReferenceId),e.saveData(t,s)}})},getFormData:function(){var e=this;return(0,T.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,l=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=l;var d={},u=r.order,f=u.dataSet,m=void 0===f?[]:f,h=!0,v=!1,p=void 0;try{for(var C,y=(0,c.default)(m);!(h=(C=y.next()).done);h=!0){var g=C.value;g.boms.forEach(function(e){e.inventoryCode=e.transObjCode,e.specificLoss=e.bomSpecificLoss}),g.boms&&(e.DuplicateBoms=e.DuplicateBoms.concat(JSON.parse((0,_.default)(g.boms)))),g=(0,o.default)({},g,{transCode:g.transMatchedCode,qtyBal:g.thenQtyBal,inventoryPic:g.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+g.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:g.inventoryName_transObjCode,inventoryCode:g.transObjCode,specification:g.specification_transObjCode,processing:g.tdProcessing}),d[g.transCode]||(d[g.transCode]=[]),d[g.transCode].push(g)}}catch(e){v=!0,p=e}finally{try{!h&&y.return&&y.return()}finally{if(v)throw p}}e.matterList=m,e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,o.default)({},e.formData,e.handlerDefault,{biComment:r.biComment,biId:r.biId,biProcessStatus:r.biProcessStatus,creator:r.creator,modifer:r.modifer,drDealerLogisticsTerms:r.drDealerLogisticsTerms}),e.mergeBomList(),e.biReferenceId=r.biReferenceId,e.orderList=d,e.$loading.hide()})},mergeBomList:function(){var e=function(e,t){return e.inventoryCode===t.inventoryCode};this.UniqueBom=function(t){return t.reduce(function(t,a){return t.some(function(t){var n=e(t,a);return n&&(t.tdQty=(0,K.accAdd)(t.tdQty,a.tdQty)),n})||t.push(a),t},[])}(this.DuplicateBoms)},hasDraftData:function(){return!!(0,d.default)(this.orderList).length&&(0,r.default)({},"NBJGDD_DATA",{orderList:this.orderList,formData:this.formData,DuplicateBoms:this.DuplicateBoms})},getRelationData:function(){}},created:function(){var e=sessionStorage.getItem("NBJGDD_DATA");if(e){var t=JSON.parse(e);this.orderList=t.orderList,this.formData=t.formData,this.DuplicateBoms=t.DuplicateBoms,this.mergeBomList(),sessionStorage.removeItem("NBJGDD_DATA")}}}},fp3p:function(e,t){},fsDx:function(e,t,a){"use strict";function n(e){a("PGEV")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("hE3F");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("KEY0"),o=a.n(s),l=a("M/KW"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-74fc4269",null);t.default=c.exports},"fu+O":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("3cXf"),o=n(s),l=a("4YfN"),d=n(l),u=a("0AQX"),c=a("Dkzh"),f=a("7biW"),m=n(f),h=a("1KNX"),v=n(h);t.default={data:function(){return{serachVal:"",title:"",listData:[],page:1,limit:10,hasNext:!0,DefaultImg:a("Fuf7"),scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0}}},components:{search:m.default,RScroll:v.default},methods:{goDetail:function(e,t){var a=this,n=e.title,i=e.folder,r=e.packagePath,s=Date.now();e.visited=!0,this.$set(this.listData,t,(0,d.default)({},e));(0,u.isMyflow)({transCode:e.businessKey}).then(function(t){var o=t.tableContent,l=function(){var t="";if(o.length>0){var s=o[0],l=s.isMyTask,d=s.nodeName;t=1===l&&"重新提交"===d?"/fillform/"+i+"/"+r:"/detail/"+i+"/"+r}else t="/detail/"+i+"/"+r;var u={name:n,transCode:e.businessKey};a.$router.push({path:t,query:u})},d=Date.now()-s;d>200?l():setTimeout(function(){l()},200-d)}).catch(function(n){e.visited=!1,a.$set(a.listData,t,(0,d.default)({},e))})},resetCondition:function(){this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.$refs.bScroll.resetPullDown()},searchList:function(e){var t=e.val,a=void 0===t?"":t;e.property;this.serachVal=a,this.resetCondition(),this.getList()},getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a={title:this.title,businessKey:this.serachVal,crtName:this.serachVal};return(0,c.getAllMsgList)({limit:this.limit,page:this.page,filter:(0,o.default)(a)}).then(function(a){var n=a.total,i=void 0===n?0:n,s=a.tasks,o=void 0===s?[]:s;a.success;o.forEach(function(e){e.status="待处理",e.transCode=e.businessKey}),e.hasNext=i>(e.page-1)*e.limit+o.length,e.listData=1===e.page?o:[].concat((0,r.default)(e.listData),(0,r.default)(o)),t||e.$nextTick(function(){e.resetScroll()})}).catch(function(t){e.resetScroll()})},getDefaultImg:function(e){var t=a("HfaK");return e&&(e.inventoryPic=t),t},resetScroll:function(){this.$refs.bScroll.finishPullDown(),this.$refs.bScroll.finishPullUp()},onPullingUp:function(){this.page++,this.getList()},onPullingDown:function(){var e=this;this.page=1,this.getList(!0).then(function(){e.$nextTick(function(){e.$refs.bScroll.finishPullDown().then(function(){e.$refs.bScroll.finishPullUp()})})})},reloadData:function(){var e=this;this.serachVal="",this.resetCondition(),this.getList().then(function(){e.$loading.hide()})}},filters:{handleCrt:function(e){var t=e.duration,a=parseInt(t/3600),n=t-3600*a,i=Math.floor(n/60),r=void 0;return r=a>0?a+"小时前":0===i?"1分钟前":i+"分钟前",a<24?r:""+e.crtTime.split(" ")[0]}},created:function(){var e=this;this.$loading.show(),this.title=this.$route.query.name,this.getList().then(function(){e.$loading.hide()})},activated:function(){var e=this,t=this.$route.meta.reload;this.title=this.$route.query.name,setTimeout(function(){var t=[].concat((0,r.default)(e.listData));t.forEach(function(e){e.visited=!1}),e.listData=t},200),t&&(this.$loading.show(),this.reloadData(),this.$route.meta.reload=!1)},beforeRouteEnter:function(e,t,a){e.meta.title=e.query.name,a()},beforeRouteLeave:function(e,t,a){"MSGHOME"===e.name&&(t.meta.reload=!0),a()}}},fv0H:function(e,t){},fyaN:function(e,t,a){"use strict";function n(e){a("Hitz")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Kuu/");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("v8BB"),o=a.n(s),l=a("X+HX"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-857def8c",null);t.default=c.exports},fzi5:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAYAAAA8AXHiAAAAAXNSR0IArs4c6QAAD5xJREFUeAHtnQuQFMUZx7/u2d17wt2JcBygHAiJoYKKRGOwKF+JUSMao2AF0fiIWlZiEsuYqCkLKEQUrBhNYqyosdSoEcQoF3yAz5RFQMEYUxoVI+CTh3DH6+52Z6Y7X58s2budne25vZmd2fmm6tjd7q9f//7R3dPT3cPA5ZouFxs7t2yqZubeKpmGRMYAbrMMcwlCXhWqgCFTMmWDYFVgyWRduqF5dPcSNsMuVFxHSBRQ2za+PQghqikUkNxJAYSta2jrhN1OgOWBdfyGOdUoWSO1TASOjgKqJUO7jpfGzOnOtee5P07evKgOgWoiqHJVoe9uCihWFDOKnVy7/S2WaqmUQa4nfScFvCiArVd7tuXqabHUmAojaPQSCdmSAg4KNO5jCXrA2jdQ3996OQQgJ1KgqAKqW1QsKUOuCEMHuvsrKhsZ6CigWFJMcTVPpROAbEgBXQUUU1xNfuoGIDtSQEcBxRRXM+o6xmRDCugqoJji6jGNbgCyIwV0FFBM0bM/HaXIxpMC6u6QWitPkpGxrgIElq5SZOdJAQLLk1xkrKsAgaWrFNl5UoDA8iQXGesqQGDpKkV2nhQgsDzJRca6ChBYukqRnScFCCxPcpGxrgIElq5SZOdJAQLLk1xkrKsAgaWrFNl5UoDA8iQXGesqQGDpKkV2nhQgsDzJRca6ChBYukqRnScFCCxPcpGxrgIElq5SZOdJAQLLk1xkrKsAgaWrFNl5UoC2frnIJTLwVSb5LGDwJTx/YLwyxTN71uM/76Hbgywl3nIJHmsvAsuh+pnFxggLrmUMTgcpmaJJHQK17xqCn8fg3/mym/2NJ+BmmZAbsp70+YUC1BX2JcHi5wiLrUTnaUhT4YNSvvCbJgRfKTN8Rt9o4v6bwNpHgKxJ1ciMcbu05B3YPtVqgyFELQj5G8jwO1Qc2uEq3JDAwgoWAIeyXdYzIMT0/ta3FPIcttN+1rb4V/obRyWFiz1YMs1nsgxfLm3ZMzgvpXKlEOMMwZaLDA74Y37FFizDSNWBye/Ewfmt2JUNWBeGcFUzIRdCmv2B2bw+rnzFEizb5BOtTmsFtlLf9avipYQzbUuuUGn5lUaY440fWCa/0JCwDFuqMX5XDJPQygVrw7vGi/1OK2zxxwYsnBYYLNL8HmylbsKBdnCHzUmRwq72Rhx33aPyEDYA/MpPLMASVuIIZsJKJuVpfglZLF4cd52GeXhO2HxSMdtK8K98sEx2KbPFk9j1HVT2CpNyFLPgCWbyy8ueF58zULlgsVQTTnjeL22Yi1AlfdZRP3rMi7DlbBx3PQCYR/2A0bKsSLCEyY+SaWsFTnh+K7TVIeQ3ZdpeCWbi6NDmsYSMVR5YpvFjLmApDphHlqBLMEGFGAHSXirTxk+CSTC4VCoGLIPDEKygh6QtrpdSRmbVhhRggBTXYrf9iCpDcFXvb0oVARbOcH/D6uLPYQWd4K9cPsYuxHFYhufxacCxPqYSWNSRBktwi+Gqgqtw7dQSHKA3B6aaXwlJOQxbsEelya/uKZtf6QQQb2TBksIYxrpSi3Gy8xqEKrLlyKtjVRZbXs26kktUGfP8I+IQzQqxjOPAlNj1yYroNhxZkTCFmeJ5abPjHf1D7hgpsCyDcZz/+SUO0B9GqA4MubYlZw8fZA8BCx7Cx0HXZRKWeqdkZK7ogGVCi9HF1DTCT12XDEdGes2M4hJofBx0ZaoztVRaxgjNUGU3iwZYpnGSxLXlCNXXy65YmTKAY8mjsfwrmWWEd9I3R5tQg8WSLIFd3w24eO4B7PoOyMl3PL8K2SQscT9qMltpE2YRQgsW58YouZc9gf9Lr4hV16dDi5CXozZPgkiV/8F6gfyGEixmGqeKbrkSm/8jC+Q79s6ozSSwrBVM8LItBXKrhFCBJVN2Ejc3zBO2uBeFa3DLOPnhJjXUSGTkPTLD5tuCpcKkSWjAMmRqNNudbMOx1CVhEigSeRFwkWHyNm4arWHJbyjAwnmaM6wMbm6Q8rCwCBO1fEgpJtp2z+YN3zaIeNGkrGCZUlTJNLsF52nuwpZqkJeMk62TArKe2/JOfJC9kAGvdrIIyq1sYBk2OyRpJpfjHd/5QRU2LunghpFZIi2f4sIYV64ylwUsYRlnWyZ7FuenJpSr4BWfroRD7Yx8Bmfr+31sQCkaBQ4W3vXdzCzxW08Hb5RSwliHxcNNLHE7bntbGLQMgYKFM8Y/wrHUBUEXMu7p4ba3WYBLtoPUIViwJMT+sIwgKzc3LSHkebm//f4eKFh4Qp77TmDO3mAJNs/vQldk/Jx1uZWrqPZugfvhFyhYAGxtwTwm+B+h3jyTcdhU0IY8XBSQNwGH+woZ4FGXrxXy88M9ULBY0pqP/3O29yoIZx14jueFLGHPYRnD7OVHP7QVYNxIs5T8FU+xHwJnu3oH5JuNhJzf283fX8EuvWDsPSMBp1g2m4UDylbJ2fsyxe7DWeMd/hYzPrFLLp6ChLFWWqAejR2C/5H/k0jYf7YZbAlShWDBwpLZhvyEGfIWVUh1HDEe9VNR1+iqYdDIa2FjZivstDvLUjbG7a34SHpBNnE7+yXAz8DBCrBsgSY1umooXDXsdGhFsLLX6j3r4a5tz0KHvTfrFJvPQMdYlaqqaqXmj/h+L6hUWY+pHw8LRp4HVSw8Z5IEVQcEVolKD082wZyWGVBvOB9j2oIHypx7wJQSU4le8Mh3hYyztGTsNlwhsQZPbLDyqgAN8Hyscbg/7xd48PbwPP8SHA5I1MPcETOgKVHnGsukmrHwALzsalNpnpEHCyvkDpa08dB/dTPgdOEp7hzWIl8fShMec7Loj1s9rkqZ23IuNCcbiwZvSRW3KRpJxAyi3xUyeFVHc1atZ6cTVzXecs1umQ4HVentmWUFkNdJK6o2lQBWfvfnUBvSxJmdAbgSzIDrW74H42sis3d0AErtPYrog+W9zP0OoVqenzefCYfVjvYUh4JxRtMUOLymFWp5cAc2e8rkABtXwhhrgCUpHN2Vw07tmUIobOHsg0dOwMwhU3s8cV0/fJTZDm92bYKnd70On2Qq86EDgeXMQp7rJQeeCCcOLv0lEwyfsRyMYzP1952GI+H1zg3Q1rEW3ujakJdmlB0ILI3aU93YtMajNCy9mSjIJteN7fl7s3MT/HpLW8XM0tMYqwgLJwyauL8bK2Jakrcat9120EUwsebgkuIJS+DIg4XnuB+iJaZljNWyyzFSc1SXDj0px8Xfr2qide6Ic+GspqP9TSiA2CMPFmp0tbT5ZDeteg4YEfj6OI/XBUOOC/wujuNA/wdDToBj6w/1mNtwmUd/jCVlC5jQJi1u4pjFYYWIxCc6ol/3+Efg9EC5LnUH+rG5HTalt5UrCyWlWwkt1hcC4KtE1Eso8//696YvNWdVzjmnap6C65rPgrrybmjuN1yVA1a/JXAOKHER4jarzwpfZ1PfXIfjyoizm6J5iCGB5YLF33e/7eIbjNcpDZMi2WpFf4yF65tx5cLDgrHVOKudN8bi6I0LoMdxGy7DVsh9fUsfVh5rXw2Ta8fCmOryvZtAdcfTGr4Gf2l/pU/uwv2zAsDid0PSnuPW9Kq19Xgu/79BwJ+8VEe3zMCNm5fCwpHnw5Bk+Q7D+XbDEZEDy60+vNRB2Ww5Fy/oJG4lrRd17PrabLd2w+zPFsMe23U/aN9gA/pbzW+Nq24Z0Dj9jizyYGE3l9YRKcm4lp1TXB9nPod5ny2FbpFx8g7EbTKuQo3SFXmwghL73e5PYNHmZWDlD+MCycLEGm9LdQLJlEsiBJaLOH291nX+F3639Wkcr8m+Xq6/bXyl172fvwCr9rwL2609rraFPA+uitarDKM/eC9UEz65v7T7LRhs1MLFuIxG91JzYm0dr0HbvuMTptR/GWY2TYVRHmBRaaq/XWXaBKtb1qwdtVhZJTx8LkNIlu5Y7SFEb1PVcl350b1w//YXPbV+zcnonFBOYPWuc+1fD+54GZ7b9aa2fV9D1Yr9tf1VWLRlGWTwTZ46VwP3NA2nE6VvNpEHC8c7Wrsa/Hhz1u+3PgNr9q4vWjldovAN6ao978CCzY/jm11wm1qRqzFRW8QiPN6RB4tJ9rNi0EgmasAWcwdadtXq3Ip3im91fuQa9Qfpra7+/8TlyY/uWOVqozzNMt2RFs2Yg0HkB+/42o/xOLO+Bg/N/RCXMuX3KbhNGnesjsTBjPMeeAdRvDipXWXzcXZ+/oiZ+Ojn/weC5MbxePua3J+O3xe3r4IJNaPg8NpWR3/l+A5OeUTlinyLpYTGXsRAcMbg+ebj8/6EGIf9jC9QZSu5E7u6Gz59BNbt/SDr1POp3O/E7vJfXRt7uTv9UK2fWvO+0+p08oblHetgi9nh6BdGx8i3WGERdY/oxtn5JT2PXkanDoR2BGR9+lPY7eFRkDpPa97mx+Ca5jP2b91XE7JPtr8GD+94JSxF1coHgaUlk77R+92fgfrr76XCXrHpbgR0OKQgAR/gAW6dCG3ULgIrhDUmcBnGe92fhjBn+lmqiDGWfnHJMigFCKyglI5ZOgRWzCo8qOISWEEpHbN0CKyYVXhQxSWwglI6ZukQWDGr8KCKGzqwcLVCdJ5bBFVLEUwndGDhO1DW4+52b2t/Iyh8pWc5fGBxUKdg/KPShR/o8glRfD3XQKfpFl/4wFK5TbAF1Gq5VVu+n3qRQr5r+VxCCRYzxDrG+bzyyRK9lG1pvxumXIcSrB6BkvZd+EaJy4HzaD+NDaK2GX8+kYT+L8D3IY/hBQsLi28MbYMGYyo3jFvwraFv5L851AdFohSl+k9nGHdDo3FZ2LLNpm68viVsmaL8RF+BULdY0Zc3viUgsOJb976WnMDyVd74Rk5gxbfufS05geWrvPGNnMCKb937WnICy1d54xs5gRXfuve15ASWr/LGN3ICK75172vJCSxf5Y1v5ARWfOve15ITWL7KG9/ICaz41r2vJSewfJU3vpETWPGte19Lzg2Zoq1Wvkocv8gVUzxl4ylfdJECA6iAYoqzKoeThgcwEYoqfgooprhM1oVqP1r8qqHySqyY4g3No6N3cmrl1UVFlUgxxZewGTYOtsr3+tCKkpQKo1hSTPVMNwxtnbCb7g4JilIVUAwpllQ8PWApwvA7HR9UqrIUvmMfS3j0Rs518uZFdV3d7YNznOgrKaClQE11064Vw6/ZmzXuBZZyPH7DnGr8aLRZJs8vG4g+SYGsAvuGUB0vjZnT6ybQEZ7pcrGxbePbgxAuX19ulM0cfUZTATVQV2OqbPeXWwpHsLIGCrCdWzZVM3NvlUxDImMAp5Ysq068PlXLpGbU1eSnmqdSUwpOQGVV+R8TxdLBaiX8WwAAAABJRU5ErkJggg=="},"g+qi":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("4YfN"),o=n(s),l=a("vl8n"),d=n(l),u=a("5gKc"),c=n(u),f=a("PKHo"),m=n(f),h=a("0w+U");t.default={components:{RPicker:d.default,UploadImage:c.default},data:function(){return{MatPic:"",groupId:"",isNameExist:!1,isShortNameExist:!1,CompanyType:["有限责任公司","股份有限公司","集团公司","有限合伙","普通合伙","个人独资","子公司","其他"],CompanyStatus:["草稿","未使用","使用中","停用"],newCompanyInfo:{companyType:"有限责任公司",groupName:"",groupPic:"",groupShortName:"",groupType:"C",parentId:"1",status:"使用中"}}},mixins:[m.default],methods:{onUpload:function(e){this.newCompanyInfo.groupPic="/H_roleplay-si/ds/download?width=128&height=128&specify=true&url="+e.src},getDefaultImg:function(){this.newCompanyInfo.groupPic=a("tVsm")},checkGroupName:function(){var e=this;this.newCompanyInfo.groupName&&(0,h.checkValue)("groupName",this.newCompanyInfo.groupName).then(function(t){var a=t.result;e.isNameExist=!1,a&&(e.isNameExist=!0,e.$vux.alert.show({content:"【公司名称】已存在，请替换别的名称"}))})},checkShortName:function(){var e=this;this.newCompanyInfo.groupShortName&&(0,h.checkValue)("groupShortName",this.newCompanyInfo.groupShortName).then(function(t){var a=t.result;e.isShortNameExist=!1,a&&(e.isShortNameExist=!0,e.$vux.alert.show({content:"【公司简称】已存在，请替换别的简称"}))})},submit:function(){var e=this,t=this.groupId?h.update:h.save,a=[];a=t===h.save?[(0,o.default)({},this.newCompanyInfo)]:[{status:this.newCompanyInfo.status,groupId:this.newCompanyInfo.groupId,groupPic:this.newCompanyInfo.groupPic,groupName:this.newCompanyInfo.groupName,companyType:this.newCompanyInfo.companyType,groupShortName:this.newCompanyInfo.groupShortName}],this.$vux.confirm.show({content:"确定提交？",onConfirm:function(){switch(a[0].status){case"停用":a[0].status=-1;break;case"使用中":a[0].status=1;break;case"未使用":a[0].status=2;break;case"草稿":a[0].status=3}t(a).then(function(t){t[0]&&t[0].groupId||t.success?(e.$emit("change",!0),e.$vux.alert.show({content:t.success?"修改成功":"提交成功",onHide:function(){e.$router.go(-1)}})):e.$vux.alert.show({content:t.message})})}})},save:function(){var e=this,t="",a=[{key:"groupName",message:"【公司名称】"},{key:"groupShortName",message:"【公司简称】"},{key:"companyType",message:"【公司类型】"}];if(this.isNameExist?t="【公司名称】已存在，请替换别的名称":this.isShortNameExist&&(t="【公司简称】已存在，请替换别的简称"),!t&&a.every(function(a){return!!e.newCompanyInfo[a.key]||(t=a.message+"不能为空",!1)}),t)return void this.$vux.alert.show({content:t});this.submit()},CompanyInfo:function(){var e=this;return(0,h.CompanyInfo)(this.groupId).then(function(t){var a=!0,n=!1,i=void 0;try{for(var s,o=(0,r.default)(t);!(a=(s=o.next()).done);a=!0){var l=s.value;switch(l.status){case 1:l.status="使用中";break;case 2:l.status="未使用";break;case 3:l.status="草稿";break;case-1:l.status="停用"}e.newCompanyInfo=l}}catch(e){n=!0,i=e}finally{try{!a&&o.return&&o.return()}finally{if(n)throw i}}})}},created:function(){this.$loading.show();var e=this.$route.query.groupId,t=void 0===e?"":e;this.groupId=t,t&&this.CompanyInfo(),this.$loading.hide()}}},"g0+/":function(e,t,a){"use strict";function n(e){a("Q0k0")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("8MNr");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("BLSw"),o=a.n(s),l=a("mWQJ"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-d3753710",null);t.default=c.exports},g09T:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),m=a("89pA"),h=n(m),v=a("hPJo"),p=n(v),C=a("3NX5"),y=n(C);t.default={data:function(){return{orderInfo:{},warehouseIn:{},warehouseOut:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",warehouses:[]}},mixins:[l.default],components:{workFlow:f.default,PopWarehouseList:h.default,RAction:u.default,WarehouseContent:p.default,MatterList:y.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.inPut,n=void 0===a?{}:a,i=n.dataSet,s=!0,o=!1,l=void 0;try{for(var d,u=(0,r.default)(i);!(s=(d=u.next()).done);s=!0){var c=d.value;c.inventoryPic=c.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+c.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){o=!0,l=e}finally{try{!s&&u.return&&u.return()}finally{if(o)throw l}}e.warehouseIn={type:"in",warehouseCode:n.containerCode,warehouseName:""+n.warehouseName_containerCode,warehouseAction:"入库",warehouseIcon:"icon-ruku",warehouseType:n.warehouseType_containerCode,warehouseProvince:n.warehouseProvince_containerCode,warehouseCity:n.warehouseCity_containerCode,warehouseDistrict:n.warehouseDistrict_containerCode,warehouseAddress:n.warehouseAddress_containerCode},e.warehouseOut={type:"out",warehouseCode:n.containerCodeOut,warehouseName:""+n.warehouseName_containerCodeOut,warehouseAction:"出库",warehouseIcon:"icon-chuku",warehouseType:n.warehouseType_containerCodeOut,warehouseProvince:n.warehouseProvince_containerCodeOut,warehouseCity:n.warehouseCity_containerCodeOut,warehouseDistrict:n.warehouseDistrict_containerCodeOut,warehouseAddress:n.warehouseAddress_containerCodeOut},e.orderInfo=t.formData,e.workFlowInfoHandler()})}},created:function(){}}},g27m:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("7g+Q"),r=n(i),s=a("z5TY"),o=n(s),l=a("kNGm"),d=(n(l),a("I8ug")),u=a("d3k1"),c=n(u);t.default={data:function(){return{submitData:{achievement:"",chance:"",date:""},listId:"",btnIsHide:!1,clientHeight:document.documentElement.clientHeight}},components:{Popup:r.default,Group:o.default},methods:{getDate:function(){var e=this;this.$vux.datetime.show({cancelText:"取消",confirmText:"确定",format:"YYYY-MM",onConfirm:function(t){console.log(t),e.submitData.date=t}})},submit:function(){var e=this,t="";if([{key:"date",message:"【期间（月份）】"},{key:"achievement",message:"【效率与成本改进成果】"},{key:"chance",message:"【效率与成本改进机会】"}].every(function(a){return""!==e.submitData[a.key]||(t=a.message+"不能为空",!1)}),t)return void this.$vux.alert.show({content:t});var a={achievement:this.submitData.achievement,chance:this.submitData.chance,date:this.submitData.date+"-1",listId:this.listId};(0,d.saveAssessment)(a).then(function(t){t.success&&(e.submitSuccess=!0,e.$vux.alert.show({content:"提交成功",onHide:function(){e.$router.go(-1)}}))})}},created:function(){var e=this.$route.params.listId;e&&(this.listId=e)},mounted:function(){var e=this;c.default.isAndroid&&(window.onresize=function(){e.clientHeight>document.documentElement.clientHeight?e.btnIsHide=!0:e.btnIsHide=!1})},beforeRouteLeave:function(e,t,a){e.path;this.submitSuccess&&"APPDETAIL"===e.name&&(e.meta.reload=!0),a()}}},g2cw:function(e,t,a){"use strict";function n(e){a("XpI/")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("J1O+");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("tZbj"),o=a.n(s),l=a("4Ocy"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-8864d9b8",null);t.default=c.exports},g2zt:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("+62G"),v=n(h),p=a("6q39"),C=n(p),y=a("fEP3"),_=a("1KNX"),g=n(_),b=a("7biW"),w=n(b);t.default={name:"PopCompanyList",props:{defaultValue:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1}},directives:{TransferDom:v.default},components:{Icon:c.default,Popup:m.default,RScroll:g.default,DSearch:w.default,LoadMore:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},watch:{defaultValue:function(e){this.setDefaultValue()}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this.getList()},showSelIcon:function(e){return this.selItems.facilityName===e.facilityName},selThis:function(e,t){this.showPop=!1,this.selItems=e,console.log(this.selItems),this.$emit("sel-item",this.selItems)},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"facilityName"}])),(0,y.getObjFacility)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,d.default)(e.listData),(0,d.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.selItems=this.defaultValue?(0,r.default)({},this.defaultValue):{}},itemClick:function(){this.disabled||(this.showPop=!this.showPop)}},created:function(){this.setDefaultValue(),this.disabled||this.getList()}}},g7Jd:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"inPage"},[a("div",{ref:"home",staticClass:"content"},[a("div",{staticClass:"wrapper"},[a("div",{staticClass:"top-part-container"},[a("div",{staticClass:"top-part"},[a("div",{staticClass:"user-info-container"},[a("div",{staticClass:"user_avatar"},[a("img",{attrs:{src:e.userInfo.avatar}})]),e._v(" "),a("div",{staticClass:"user-info"},[a("p",{staticClass:"user_name"},[e._v(e._s(e.userInfo.nickname))]),e._v(" "),a("p",{staticClass:"user_other"},[e._v("@"+e._s(e.userInfo.userCode))])])]),e._v(" "),a("div",{staticClass:"entity-part",class:{active:e.showDrop},on:{click:function(t){e.showDrop=!e.showDrop}}},[a("span",{staticClass:"entity_name"},[e._v(e._s(e.userInfo.entityName))]),e._v(" "),e.entityList.length>1?a("span",{staticClass:"iconfont",class:{"icon-xia":!e.showDrop,"icon-shang":e.showDrop}}):e._e(),e._v(" "),a("ul",{directives:[{name:"show",rawName:"v-show",value:e.showDrop,expression:"showDrop"}],staticClass:"r-dropdown-list"},e._l(e.entityList,function(t,n){return a("li",{key:n,staticClass:"r-dropdown-item",class:{"vux-1px-b":n!==e.entityList.length-1},on:{click:function(a){a.stopPropagation(),e.dropItemClick(t)}}},[a("div",{staticClass:"each_item",class:{"active is-being-sel":e.selItem.groupCode===t.groupCode}},[a("p",{staticClass:"full_name"},[e._v(e._s(t.groupName))]),e._v(" "),a("p",{staticClass:"shor_name"},[e._v("简称: "+e._s(t.groupShortName))])]),e._v(" "),e.selItem.groupCode===t.groupCode?a("div",{staticClass:"tips_part"},[a("span",{staticClass:"tips_word"},[e._v("当前选中")])]):e._e()])}),0)])])]),e._v(" "),a("basic-app",{attrs:{BasicApps:e.BasicApps,goBasic:e.goBasic,goAppDetail:e.goAppDetail}}),e._v(" "),a("bus-app",{attrs:{BusApps:e.BusApps,goList:e.goList,goAppDetail:e.goAppDetail,getDefaultIcon:e.getDefaultIcon}})],1)])])},i=[],r={render:n,staticRenderFns:i};t.a=r},gBBO:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("HXPS"),d=n(l),u=a("7g+Q"),c=n(u),f=a("6q39"),m=n(f),h=a("fEP3"),v=a("1KNX"),p=n(v),C=a("7biW"),y=n(C);a("zWMP");t.default={name:"work-list-pop",props:{show:{type:Boolean,default:!1},params:{type:Object,default:function(){return{calc_rel_code:7051,view_id:"view_94"}}},workType:{type:String,default:"派工"}},components:{Icon:d.default,Popup:c.default,LoadMore:m.default,RScroll:p.default,MSearch:y.default},data:function(){return{showPop:!1,srhInpTx:"",scrollOptions:{click:!0},btnText:"关闭",filterList:[{name:"成品名称",value:"inventoryName"},{name:"工序名称",value:"procedureName"}],filterProperty:"",taskWorkList:[],tmpItems:[]}},watch:{show:{handler:function(e){this.showPop=e}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1),this.tmpItems=[]},findIndex:function(e,t){return e.findIndex(function(e){var a=!0;return e.transCode&&(a=e.transCode===t.transCode),a&&e.inventoryName===t.inventoryName&&e.procedureName===t.procedureName})},showSelIcon:function(e){return-1!==this.findIndex(this.tmpItems,e)},selThis:function(e,t){var a=this.tmpItems,n=this.findIndex(a,e);if(-1!==n)return a.splice(n,1),void(a.length||(this.btnText="关闭"));a.push(e),this.btnText=this.tmpItems?"发起工单"+this.workType:"关闭"},getWorkOrderTask:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,h.getWorkOrderTask)({filter:(0,r.default)(t)}).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;n.forEach(function(e){e.isStartTask=!1}),e.taskWorkList=n})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.taskWorkList={},this.$refs.bScroll.scrollTo(0,0),this.getWorkOrderTask()},btnHandle:function(){"关闭"!==this.btnText&&this.$emit("sel-task",this.tmpItems),this.showPop=!1}},created:function(){this.getWorkOrderTask()}}},gBjh:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("ZLEe"),r=n(i),s=a("HzJ8"),o=n(s),l=a("4YfN"),d=n(l),u=a("aA9S"),c=n(u),f=a("3cXf"),m=n(f),h=a("7g+Q"),v=n(h),p=a("+62G"),C=(n(p),a("kNGm")),y=n(C),_=a("1KNX"),g=n(_),b=(a("HyXB"),a("vS5q"));t.default={name:"RSort",components:{Popup:v.default,RScroll:g.default},props:{data:{type:Array,default:function(){return[{name:"综合",key:""},{name:"交易号",key:"transCode"},{name:"修改时间",key:"modTime"}]}},viewId:{type:Number,default:2190}},data:function(){return{sort:"",toDay:"",preDate:"",property:"",SpecTimeKey:"",lastFilter:{},fieldVlaue:{},filtersList:{},timeFilter:{startDate:"",endDate:""},tmpTimeFilter:{startDate:"",endDate:""},scrollOptions:{click:!0},showFilter:!1,specificTimeList:["今日","昨日","本周"]}},methods:{sortClick:function(e,t){this.property===e.key?this.sort="ASC"===this.sort?"DESC":"ASC":this.sort="ASC",this.property=e.key,this.$emit("on-sort",{property:e.key,direction:this.sort})},onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()}),this.lastFilter={timeFilter:JSON.parse((0,m.default)(this.timeFilter)),otherFilter:JSON.parse((0,m.default)(this.fieldVlaue))}},onHide:function(){var e=!1;this.timeFilter.startDate===this.lastFilter.timeFilter.startDate&&this.timeFilter.endDate===this.lastFilter.timeFilter.endDate||(e=!0),(0,m.default)(this.fieldVlaue)!==(0,m.default)(this.lastFilter.otherFilter)&&(e=!0),e&&this.$emit("on-filter",{timeFilter:this.timeFilter,otherFilter:this.fieldVlaue})},filterConfirm:function(){this.showFilter=!1},filterReset:function(){this.fieldVlaue={},this.SpecTimeKey="",this.timeFilter=(0,c.default)({},this.$data.timeFilter,this.$options.data().timeFilter),this.tmpTimeFilter=(0,c.default)({},this.$data.tmpTimeFilter,this.$options.data().tmpTimeFilter)},showSelIcon:function(e,t){if(this.fieldVlaue[t])return-1!==this.fieldVlaue[t].value.findIndex(function(t){return t===e})},selProcee:function(e,t){if(this.fieldVlaue[t]){var a=this.fieldVlaue[t].value,n=a.findIndex(function(t){return t===e});if(-1!==n)return a.splice(n,1),void(a.length||delete this.fieldVlaue[t]);a.push(e)}else{var i={alias:this.filtersList[t].alias,value:[e]};this.$set(this.fieldVlaue,t,(0,d.default)({},i))}},pickSpecTime:function(e){if(this.SpecTimeKey===e)return this.SpecTimeKey="",void(this.timeFilter=(0,c.default)({},this.$data.timeFilter,this.$options.data().timeFilter));if(this.SpecTimeKey=e,this.tmpTimeFilter=(0,c.default)({},this.$data.tmpTimeFilter,this.$options.data().tmpTimeFilter),e<2){var t=["toDay","preDate"];this.pickDate(t[e])}else{var a=new Date,n=a.getDate(),i=a.getMonth(),r=a.getFullYear(),s=a.getDay(),o={startDate:(0,y.default)(new Date(r,i,n-s),"YYYY-MM-DD"),endDate:(0,y.default)(new Date(r,i,n+(6-s)),"YYYY-MM-DD")};this.pickDate("",o)}},pickDate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e?this.timeFilter.startDate=this.timeFilter.endDate=this[e]:this.timeFilter=(0,d.default)({},t)},getStart:function(){var e=this,t=this.timeFilter,a=this.tmpTimeFilter;this.$vux.datetime.show({cancelText:"取消",confirmText:"确定",clearText:"重新选择",value:a.startDate,endDate:this.toDay,onClear:function(e){t.startDate=a.startDate=""},onConfirm:function(n){if(""!==e.SpecTimeKey&&(e.SpecTimeKey=t.endDate=""),t.endDate){var i=new Date(Date.parse(t.endDate.replace(/-/g,"/")));new Date(Date.parse(n.replace(/-/g,"/")))-i>0&&(t.endDate=a.endDate="")}t.startDate=a.startDate=n}})},getEnd:function(){var e=this,t=this.timeFilter,a=this.tmpTimeFilter;this.$vux.datetime.show({cancelText:"取消",confirmText:"确定",clearText:"重新选择",value:a.endDate,startDate:a.startDate?this.toDay:"",onClear:function(e){t.endDate=a.endDate=""},onConfirm:function(n){""!==e.SpecTimeKey&&(e.SpecTimeKey=t.startDate=""),t.endDate=a.endDate=n}})},getFilterFields:function(){var e=this;(0,b.filterFields)(this.viewId).then(function(t){var a=["进行中","已生效","草稿"],n={biStatus:{alias:"表单状态",showAll:!1,showValue:a,value:a}},i=!0,s=!1,l=void 0;try{for(var u,c=(0,o.default)((0,r.default)(t));!(i=(u=c.next()).done);i=!0){var f=u.value,m=t[f];n[f]=(0,d.default)({},m,{showValue:m.value.slice(0,9),showAll:!1})}}catch(e){s=!0,l=e}finally{try{!i&&c.return&&c.return()}finally{if(s)throw l}}e.filtersList=(0,d.default)({},n)})}},created:function(){this.$route.params.listId;this.toDay=(0,y.default)(new Date,"YYYY-MM-DD"),this.preDate=(0,y.default)(new Date((new Date).getTime()-864e5),"YYYY-MM-DD"),this.getFilterFields()}}},gC8S:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("kKsb"),p=n(v),C=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",dealerInfo:{}}},mixins:[u.default],components:{workFlow:h.default,RAction:f.default,ProjectPart:p.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=t.formData,i=n.order,s=void 0===i?{}:i;e.attachment=a,e.dealerInfo={dealerName:s.dealerName_dealerDebit,dealerCode:s.dealerDebit,dealerLabelName:s.drDealerLabel,amntBal:s.thenAmntBal,thenTotalAmntBal:s.thenTotalAmntBal};var l=n.order.dataSet,d=!0,u=!1,c=void 0;try{for(var f,m=(0,r.default)(l);!(d=(f=m.next()).done);d=!0){var h=f.value;e.count=(0,C.accAdd)(e.count,h.tdAmount)}}catch(e){u=!0,c=e}finally{try{!d&&m.return&&m.return()}finally{if(u)throw c}}t.formData.validUntil=(0,o.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},gEh4:function(e,t){},gG8f:function(e,t){},gGhs:function(e,t){},gJpQ:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",class:{dashboard:e.chartShow},attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},[e.chartShow?a("apply-chart"):a("div",{staticClass:"list"},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},gNJA:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("just-word-item",{key:n,attrs:{item:t,"no-count":""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},gPpb:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2544}},mixins:[i.default]}},"gR+h":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listViewID:2387,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"往来名称",value:"dealerName_dealerDebit"},{name:"设备名称",value:"facilityName_facilityObjCode"}]}},mixins:[i.default],methods:{},created:function(){}}},gS95:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),m=a("89pA"),h=n(m),v=a("hPJo"),p=n(v),C=a("3NX5"),y=n(C);t.default={data:function(){return{warehouseIn:{},warehouseOut:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513"}},mixins:[l.default],components:{workFlow:f.default,PopWarehouseList:h.default,RAction:u.default,WarehouseContent:p.default,MatterList:y.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.formData.outPut,n=void 0===a?{}:a,i=n.dataSet;e.attachment=t.attachment;var s=!0,o=!1,l=void 0;try{for(var d,u=(0,r.default)(i);!(s=(d=u.next()).done);s=!0){var c=d.value;c.inventoryName_transObjCode=c.inventoryName_outPutMatCode,c.transObjCode=c.outPutMatCode,c.specification=c.specification_outPutMatCode,c.inventoryPic=c.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+c.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){o=!0,l=e}finally{try{!s&&u.return&&u.return()}finally{if(o)throw l}}e.warehouseIn={warehouseCode:n.containerCode,warehouseName:""+n.warehouseName_containerCode,warehouseAction:"入库",warehouseIcon:"icon-ruku",warehouseType:n.warehouseType_containerCode,warehouseProvince:n.warehouseProvince_containerCode,warehouseCity:n.warehouseCity_containerCode,warehouseDistrict:n.warehouseDistrict_containerCode,warehouseAddress:n.warehouseAddress_containerCode},e.warehouseOut={warehouseCode:n.containerCodeOut,warehouseName:""+n.warehouseName_containerCodeOut,warehouseAction:"出库",warehouseIcon:"icon-chuku",warehouseType:n.warehouseType_containerCodeOut,warehouseProvince:n.warehouseProvince_containerCodeOut,warehouseCity:n.warehouseCity_containerCodeOut,warehouseDistrict:n.warehouseDistrict_containerCodeOut,warehouseAddress:n.warehouseAddress_containerCodeOut},e.orderInfo=t.formData,e.workFlowInfoHandler()})}},created:function(){}}},gXdk:function(e,t){},"ge+i":function(e,t){},gftx:function(e,t){},ghja:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("IHPB"),o=n(s),l=a("4XVd"),d=a("fQlz"),u=n(d),c=a("+AeB"),f=n(c),m=a("kNGm"),h=n(m);t.default={name:"CommentItem",props:{item:{type:Object,default:function(){return{}}},noBorder:{type:Boolean,default:!1}},components:{Emotion:f.default},data:function(){return{attachmentImgs:[]}},methods:{getDefaultImg:function(e){e.target.src=a("Fuf7")},reply:function(){this.$emit("on-reply",this.item)},savePraise:function(){var e=this;if(this.item.isPraise)return(0,l.savePraise)(this.item.ID).then(function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];arguments[1];t&&e.$emit("on-praise-success",e.item)})},getImgUrl:function(e){return""+location.origin+e.ATTACHMENT},scaleImg:function(e){var t=this.getImgUrl(e);wx.previewImage({current:t,urls:this.attachmentImgs})},handleComment:function(){var e=[].concat((0,o.default)(u.default)),t=this.item.CONTENT,a=/\[(.+?)\]/g;return t=t.replace(/src="resources/g,'src="/dist/resources'),t=t.replace(a,function(t){var a=e.findIndex(function(e){return e===t.replace(/(\[|\])/g,"")});return-1===a?t:'<span class="img-emotion" style="background-position: -'+24*a+'px 0;"></span>'})},checkImgSuffix:function(){var e=["jpg","jpeg","png","gif","bmp","tif","pcx","tga","exif","fpx","svg","psd","cdr","pcd","dxf","ufo","eps","ai","raw","WMF","webp"],t=[];if(this.item.commentAttachments){var a=!0,n=!1,i=void 0;try{for(var s,o=(0,r.default)(this.item.commentAttachments);!(a=(s=o.next()).done);a=!0){var l=s.value,d=l.name.lastIndexOf("."),u=l.name.substr(d+1);e.includes(u)&&(l.isImg=!0,t.push(this.getImgUrl(l)))}}catch(e){n=!0,i=e}finally{try{!a&&o.return&&o.return()}finally{if(n)throw i}}this.attachmentImgs=t}},checkFile:function(e){window.location.href=""+location.origin+e}},filters:{filterTime:function(e){if(e){"string"==typeof e&&(e=e.replace(/-/g,"/").replace(/\..*/g,""));var t=Date.now(),a=(0,h.default)(e,"YYYY-MM-DD"),n=+new Date(e),i=t-n;return i<864e5?a="今天":i<1728e5&&(a="昨天"),a+" "+(0,h.default)(e,"HH:mm")}}},created:function(){this.checkImgSuffix()}}},gihj:function(e,t,a){"use strict";function n(e){a("Y3GT")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("n6ZL");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("hQWF"),o=a.n(s),l=a("hRPs"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-4e3eaed0",null);t.default=c.exports},gk4f:function(e,t,a){"use strict";function n(e){a("sMJl")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("hAY0");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Bvj9"),o=a.n(s),l=a("bRBF"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-e1497706",null);t.default=c.exports},gpAB:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper xsbj-detail-container"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"matter-list":e.orderInfo.order.dataSet,count:e.count},scopedSlots:e._u([{key:"matterOther",fn:function(t){var n=t.item;return a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("属性: "+e._s(n.tdProcessing))]),e._v(" "),a("span",[e._v("单位: "+e._s(n.measureUnit_transObjCode))])]),e._v(" "),a("div",{staticClass:"mater_attribute"},[a("span",[e._v("本次申请: "+e._s(n.tdQty))]),e._v(" "),a("span",[e._v("估计价格: "+e._s(n.price))])]),e._v(" "),a("div",{staticClass:"mater_price"},[a("span",{staticClass:"diff_num"},[e._v("\n            ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.tdAmount),3))+"\n          ")])])])}}])}),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},"gqL/":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("QHLv"),v=a("1KNX"),p=n(v),C=a("7biW"),y=n(C);t.default={name:"PopEarnestMoneyList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},params:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:m.default,RScroll:p.default,MSearch:y.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],matterList:[],limit:100,page:1,hasNext:!0,scrollOptions:{pullUpLoad:!0},filterProperty:"",filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"}]}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}},params:{handler:function(){this.resetCondition(),this.getList()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,d.default)(this.selItems)),this.$emit("input",!1),this.$event.$emit("shut-down-filter",!1)},findIndex:function(e,t){return e.findIndex(function(e){return e.transCode===t.transCode})},showSelIcon:function(e){return-1!==this.findIndex(this.tmpItems,e)},selThis:function(e,t){var a=this.tmpItems,n=this.findIndex(a,e);if(-1!==n)return void a.splice(n,1);a.push(e)},cfmMater:function(){this.showPop=!1,this.tmpItems.sort(function(e,t){return t.effectiveTime-e.effectiveTime}),this.selItems=[].concat((0,d.default)(this.tmpItems)),this.$emit("sel-item",(0,o.default)(this.selItems))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.resetCondition(),this.getList()},delSelItem:function(e){var t=this.findIndex(this.selItems,e);-1!==t&&this.selItems.splice(t,1),this.tmpItems=[].concat((0,d.default)(this.selItems))},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.tmpItems=[].concat((0,d.default)(this.defaultValue)),this.selItems=[].concat((0,d.default)(this.defaultValue))},resetCondition:function(){this.matterList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"transCode"}])),(0,h.getPurchaseAgreementDeposit)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(t)},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.matterList=1===e.page?r:[].concat((0,d.default)(e.matterList),(0,d.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})}},created:function(){this.setDefaultValue(),this.getList()}}},gufi:function(e,t,a){"use strict";function n(e){a("cTTd")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("P5P7");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("8gEi"),o=a.n(s),l=a("03bc"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-2bff1f9e",null);t.default=c.exports},guvR:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("just-word-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}},scopedSlots:e._u([{key:"list-item",fn:function(t){var n=t.item;return e._l(n.detailItem,function(t,n){return a("div",[a("div",{staticClass:"content_part"},[e._v(e._s(t.costName_expCode))]),e._v(" "),a("div",{staticClass:"other_info_part"},[a("p",{staticClass:"info_with_comment"},[e._v("费用类型: "+e._s(t.costType_expCode||"暂无"))])])])})}}])})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"h+4q":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getDepartMentWage=t.getwarehouseInfo=t.update=t.save=t.getId=void 0;var i=a("4YfN"),r=n(i),s=a("GOq4"),o=n(s),l=t.getId=function(e){return o.default.ajax({url:"/H_roleplay-si/ds/list/getListViewById?uniqueId="+e})},d=t.save=function(e){return o.default.post({url:"/H_roleplay-si/warehouse/save",data:e})},u=t.update=function(e){return o.default.post({url:"/H_roleplay-si/warehouse/update",data:e})},c=t.getwarehouseInfo=function(e){return o.default.ajax({url:"/H_roleplay-si/warehouse/findData?transCode="+e})},f=t.getDepartMentWage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getDepartMentWage",data:(0,r.default)({_dc:Date.now(),page:1,start:0,limit:1e4},e)})};t.default={getId:l,save:d,update:u,getwarehouseInfo:c,getDepartMentWage:f}},h8g4:function(e,t,a){"use strict";function n(e){a("FX02")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("kkCB");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("5+0a"),o=a.n(s),l=a("A5Yq"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-0bcbf349",null);t.default=c.exports},h8ox:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=(a("XAqG"),a("HyXB"),a("MjAd")),o=n(s),l=a("ak47");n(l);t.default={name:"CPXQ_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"经办人",value:"handlerName"},{name:"交易号",value:"transCode"},{name:"标题",value:"launchTitle"}],listViewID:2339}},mixins:[o.default],methods:{pathChange:function(e,t,a){var n=this;if(!this.clickVisited){var i=e.transCode,s=this.$route.query.name,o=this.$route.params,l=o.folder,d=o.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,r.default)({},e));var u=a+"/"+l+"/"+d;setTimeout(function(){n.clickVisited=!1,n.$router.push({path:u,query:{name:s,transCode:i}})},200)}},goDetail:function(e,t){this.pathChange(e,t,"/detail")},goUserEdit:function(e,t){this.pathChange(e,t,"/fillform")}}}},hAY0:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("QHLv"),v=a("1KNX"),p=n(v),C=a("7biW"),y=n(C);t.default={name:"PopOrderList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},params:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:m.default,RScroll:p.default,MSearch:y.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],matterList:[],limit:100,page:1,hasNext:!0,scrollOptions:{pullUpLoad:!0},filterProperty:"",filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"}]}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}},params:{handler:function(){this.resetCondition(),this.getList()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,d.default)(this.selItems)),this.$emit("input",!1),this.$event.$emit("shut-down-filter",!1)},findIndex:function(e,t){return e.findIndex(function(e){return e.popiCode===t.popiCode})},showSelIcon:function(e){return-1!==this.findIndex(this.tmpItems,e)},selThis:function(e,t){var a=this.tmpItems,n=this.findIndex(a,e);if(-1!==n)return void a.splice(n,1);a.push(e)},cfmMater:function(){this.showPop=!1,this.tmpItems.sort(function(e,t){return t.effectiveTime-e.effectiveTime}),this.selItems=[].concat((0,d.default)(this.tmpItems)),this.$emit("sel-item",(0,o.default)(this.selItems))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.resetCondition(),this.getList()},delSelItem:function(e){var t=this.findIndex(this.selItems,e);-1!==t&&this.selItems.splice(t,1),this.tmpItems=[].concat((0,d.default)(this.selItems))},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.tmpItems=[].concat((0,d.default)(this.defaultValue)),this.selItems=[].concat((0,d.default)(this.defaultValue))},resetCondition:function(){this.matterList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"popiCode"}])),(0,h.getPaySupplierArrearsDataSet)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(t)},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.matterList=1===e.page?r:[].concat((0,d.default)(e.matterList),(0,d.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})}},created:function(){this.setDefaultValue(),this.getList()}}},hBwb:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("ZLEe"),r=n(i),s=a("PiEG"),o=n(s),l=a("UOZN"),d=n(l);t.default={name:"popup",props:{value:Boolean,height:{type:String,default:"auto"},width:{type:String,default:"auto"},showMask:{type:Boolean,default:!0},isTransparent:Boolean,hideOnBlur:{type:Boolean,default:!0},position:{type:String,default:"bottom"},maxHeight:String,popupStyle:Object,hideOnDeactivated:{type:Boolean,default:!0},shouldRerenderOnShow:{type:Boolean,default:!1},shouldScrollTopOnShow:{type:Boolean,default:!1}},created:function(){this.$vux&&this.$vux.config&&"VIEW_BOX"===this.$vux.config.$layout&&(this.layout="VIEW_BOX")},mounted:function(){var e=this;this.$overflowScrollingList=document.querySelectorAll(".vux-fix-safari-overflow-scrolling"),this.$nextTick(function(){var t=e;e.popup=new o.default({showMask:t.showMask,container:t.$el,hideOnBlur:t.hideOnBlur,onOpen:function(){t.fixSafariOverflowScrolling("auto"),t.show=!0},onClose:function(){t.show=!1,window.__$vuxPopups&&(0,r.default)(window.__$vuxPopups).length>1||document.querySelector(".vux-popup-dialog.vux-popup-mask-disabled")||setTimeout(function(){t.fixSafariOverflowScrolling("touch")},300)}}),e.value&&e.popup.show(),e.initialShow=!1})},deactivated:function(){this.hideOnDeactivated&&(this.show=!1),this.removeModalClassName()},methods:{fixSafariOverflowScrolling:function(e){if(this.$overflowScrollingList.length)for(var t=0;t<this.$overflowScrollingList.length;t++)this.$overflowScrollingList[t].style.webkitOverflowScrolling=e},removeModalClassName:function(){"VIEW_BOX"===this.layout&&d.default.removeClass(document.body,"vux-modal-open")},doShow:function(){this.popup&&this.popup.show(),this.$emit("on-show"),this.fixSafariOverflowScrolling("auto"),"VIEW_BOX"===this.layout&&d.default.addClass(document.body,"vux-modal-open"),this.hasFirstShow||(this.$emit("on-first-show"),this.hasFirstShow=!0)},scrollTop:function(){var e=this;this.$nextTick(function(){e.$el.scrollTop=0;var t=e.$el.querySelectorAll(".vux-scrollable");if(t.length)for(var a=0;a<t.length;a++)t[a].scrollTop=0})}},data:function(){return{layout:"",initialShow:!0,hasFirstShow:!1,shouldRenderBody:!0,show:this.value}},computed:{styles:function(){var e={};if(this.position&&"bottom"!==this.position&&"top"!==this.position?e.width=this.width:e.height=this.height,this.maxHeight&&(e["max-height"]=this.maxHeight),this.isTransparent&&(e.background="transparent"),this.popupStyle)for(var t in this.popupStyle)e[t]=this.popupStyle[t];return e}},watch:{value:function(e){this.show=e},show:function(e){var t=this;this.$emit("input",e),e?this.shouldRerenderOnShow?(this.shouldRenderBody=!1,this.$nextTick(function(){t.scrollTop(),t.shouldRenderBody=!0,t.doShow()})):(this.shouldScrollTopOnShow&&this.scrollTop(),this.doShow()):(this.$emit("on-hide"),this.show=!1,this.popup.hide(!1),setTimeout(function(){document.querySelector(".vux-popup-dialog.vux-popup-show")||t.fixSafariOverflowScrolling("touch"),t.removeModalClassName()},200))}},beforeDestroy:function(){this.popup&&this.popup.destroy(),this.fixSafariOverflowScrolling("touch"),this.removeModalClassName()}}},hByD:function(e,t,a){"use strict";function n(e){a("3PZp")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("2jGX");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("M4eV"),o=a.n(s),l=a("BKtH"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-017382ee",null);t.default=c.exports},hE3F:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("lC5x"),o=n(s),l=a("J0Oq"),d=n(l),u=a("ZLEe"),c=n(u),f=a("KH7x"),m=n(f),h=a("3cXf"),v=n(h),p=a("MgeX"),C=n(p),y=a("HzJ8"),_=n(y),g=a("+62G"),b=n(g),w=a("Nk/b"),I=n(w),x=a("7g+Q"),D=n(x),P=a("z5TY"),S=n(P),k=a("wDjS"),L=n(k),N=a("KFOb"),M=n(N),T=a("HXPS"),A=n(T),O=a("BGNQ"),R=n(O),j=a("HyXB"),B=a("h+4q"),E=a("vl8n"),F=n(E),U=a("1KNX"),$=n(U),Q=a("PKHo"),H=n(Q),V=a("5gKc"),q=n(V),Y=a("XgMd"),X=n(Y);t.default={data:function(){return{addressData:M.default,transCode:"",picShow:!1,showPop:!1,imgFileObj:{},biReferenceId:"",MatPic:"",AccountAddress:[],baseinfo:{},warehouse:{warehouseCode:"",warehouseName:"",warehouseType:"",warehousePic:"",staffDealerCode:null,groupCode:null,customerDealerCode:null,processorsDealerCode:"",channelDealerCode:null,warehouseCondtions:"",warehouseProvince:"",warehouseCity:"",warehouseDistrict:"",warehouseAddress:"",warehouseStatus:""},submitSuccess:!1,typeSubMap:{staff:{title:"员工",dealerLabelName:"员工",key:"staffDealerCode",value:"",code:"",list:[]},group:{title:"组织",dealerLabelName:"",key:"groupCode",value:"",code:"",list:[]},customer:{title:"客户",dealerLabelName:"客户",key:"customerDealerCode",value:"",code:"",list:[]},processors:{title:"加工商",dealerLabelName:"加工商",key:"processorsDealerCode",value:"",code:"",list:[]},channel:{title:"渠道商",dealerLabelName:"渠道商",key:"channelDealerCode",value:"",code:"",list:[]},noMatched:{title:"",dealerLabelName:"",key:"",value:"",code:"",list:[]}},typeSub:"group",typeSubValue:"",typeToSubMap:{"配送中心仓":"group","加工商仓":"processors","加工车间仓":"group","客户仓":"customer","渠道商仓":"channel","个人仓":"staff","一般部门仓":"group"},warehouseConfig:[],warehouseDuplicateConfig:[],warehouseDuplicateData:{},currentGroup:"",statusType:[],warehouseStatus:"使用中",showAddress:!1,scrollOptions:{click:!0},viewId:"",hasDefault:!1}},computed:{warehouseType:function(){return this.warehouse.warehouseType},warehouseRel:function(){return this.warehouseDuplicateData.warehouseRel}},directives:{TransferDom:b.default},mixins:[H.default],components:{Picker:I.default,Popup:D.default,Group:S.default,RPicker:F.default,XAddress:L.default,Icon:A.default,UploadImage:q.default,PopWarelabeList:X.default,RScroll:$.default,Cell:R.default},watch:{warehouseType:function(e){if(console.log(this.hasDefault),!this.hasDefault){if(this.typeSubMap[this.typeSub].value="",this.typeSubMap[this.typeSub].list=[],this.typeSub=this.typeToSubMap[e]||"noMatched","noMatched"===this.typeSub)return void("库位"===this.warehouseType&&delete this.warehouseDuplicateData.warehouseRel);this.$set(this.warehouseDuplicateData,"warehouseRel",[]),this.getTypeSubList()}},warehouseRel:{handler:function(e){var t=this;this.hasDefault||e&&e.length&&e.forEach(function(e){if(e.childWarehouseName){var a=!0,n=!1,i=void 0;try{for(var r,s=(0,_.default)(t.warehouseDuplicateConfig);!(a=(r=s.next()).done);a=!0){var o=r.value;if("warehouseRel"===o.name){var l=!0,d=!1,u=void 0;try{for(var c,f=(0,_.default)(o.items);!(l=(c=f.next()).done);l=!0){var m=c.value;if("childWarehouseName"===m.fieldCode){var h=!0,v=!1,p=void 0;try{for(var C,y=(0,_.default)(m.remoteData);!(h=(C=y.next()).done);h=!0){var g=C.value;if(g.warehosueName===e.childWarehouseName){e.childWarehouseCode=g.warehouseCode;break}}}catch(e){v=!0,p=e}finally{try{!h&&y.return&&y.return()}finally{if(v)throw p}}break}}}catch(e){d=!0,u=e}finally{try{!l&&f.return&&f.return()}finally{if(d)throw u}}break}break}}catch(e){n=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}}})},deep:!0}},methods:{onUpload:function(e){this.warehouse.warehousePic=e.src},findData:function(){var e=this;return(0,B.getwarehouseInfo)(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a;t.attachment;e.warehouseDuplicateConfig.forEach(function(t){n[t.name].length&&(e.warehouseDuplicateData[t.name]=n[t.name])});var i=n.baseinfo,r=void 0===i?{}:i,s=n.warehouse,o=void 0===s?{}:s;switch(e.hasDefault=!0,o.warehouseStatus){case 1:e.warehouseStatus="使用中";break;case 2:e.warehouseStatus="未使用";break;case 0:e.warehouseStatus="草稿";break;case-1:e.warehouseStatus="停用"}e.baseinfo=r,e.warehouse=o,e.biReferenceId=e.warehouse.referenceId,e.warehouse.warehousePic?(e.picShow=!0,e.MatPic="/H_roleplay-si/ds/download?url="+e.warehouse.warehousePic+"&width=400&height=400"):(e.picShow=!0,e.getDefaultImg()),e.AccountAddress=[e.warehouse.warehouseProvince,e.warehouse.warehouseCity,e.warehouse.warehouseDistrict];var l=!0,d=!1,u=void 0;try{for(var c,f=(0,_.default)((0,C.default)(e.typeSubMap));!(l=(c=f.next()).done);l=!0){var m=c.value,h=e.warehouse[m.key];if(h){m.code=h;break}}}catch(e){d=!0,u=e}finally{try{!l&&f.return&&f.return()}finally{if(d)throw u}}})},getDefaultImg:function(){this.MatPic=a("CRKs")},changeAddress:function(e,t){this.AccountAddress=t},getAddress:function(){if(this.AccountAddress.length>0){if(this.warehouse.warehouseProvince=this.AccountAddress[0],this.warehouse.warehouseDistrict=this.AccountAddress[2],"市辖区"===this.AccountAddress[1])return void(this.warehouse.warehouseCity="");this.warehouse.warehouseCity=this.AccountAddress[1]}},addMoreUnit:function(e){var t={};e.items.forEach(function(e){t[e.fieldCode]=""}),this.warehouseDuplicateData[e.name].push(t)},deleteMoreUnit:function(e){this.warehouseDuplicateData[e.name].pop()},submit:function(){var e=this;for(var t in this.warehouse)"string"==typeof this.warehouse[t]&&this.warehouse[t].indexOf(" ")>=0&&(this.warehouse[t]=this.warehouse[t].replace(/\s/g,""));this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){switch(e.warehouseStatus){case"使用中":e.warehouse.warehouseStatus=1;break;case"未使用":e.warehouse.warehouseStatus=2;break;case"草稿":e.warehouse.warehouseStatus=0;break;case"停用":e.warehouse.warehouseStatus=-1}e.warehouse.status&&delete e.warehouse.status;var t=B.save,a={listId:"64a41c48-4e8d-4709-bd01-5d60ad6bc625",formData:{baseinfo:e.baseinfo,warehouse:e.warehouse}};e.transCode&&(t=B.update);var n=!0,i=!1,r=void 0;try{for(var s,o=(0,_.default)((0,C.default)(e.typeSubMap));!(n=(s=o.next()).done);n=!0){var l=s.value;if("break"===function(t){if(t.value){var a=t.list.filter(function(e){return t.value===e.value}),n=(0,m.default)(a,1),i=n[0],r=void 0===i?{}:i;return e.warehouse[t.key]=r.code,"break"}}(l))break}}catch(e){i=!0,r=e}finally{try{!n&&o.return&&o.return()}finally{if(i)throw r}}e.warehouseDuplicateConfig.length&&e.warehouseDuplicateConfig.forEach(function(t){e.warehouseDuplicateData[t.name].length&&(a.formData[t.name]=e.warehouseDuplicateData[t.name])}),t(a).then(function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a.success,i=void 0!==n&&n,r=a.message,s=void 0===r?"提交失败":r;i&&(s=t===B.update?"修改成功":"提交成功",e.submitSuccess=!0,e.transCode||""+e.$route.query.add!="1"||sessionStorage.setItem("EDIT_WAREHOUSE_TRANSCODE",(0,v.default)({transCode:a.transCode}))),e.$vux.alert.show({content:s,onHide:function(){i&&e.$router.go(-1)}})})}})},save:function(){var e=this,t="";if([{key:"warehouseCode",message:"【仓库编码】"},{key:"warehouseName",message:"【仓库名称】"},{key:"warehouseType",message:"【仓库类型】"}].every(function(a){return""!==e.warehouse[a.key]||(t=a.message+"不能为空",!1)}),!t&&(0,c.default)(this.warehouseDuplicateData).length&&(0,c.default)(this.warehouseDuplicateData).forEach(function(a){if(e.warehouseDuplicateData[a].length<=0)return!1;e.warehouseDuplicateConfig.forEach(function(n){n.name===a&&n.items.forEach(function(n){e.warehouseDuplicateData[a].forEach(function(e){if(!n.allowBlank&&!e[n.fieldCode])return t=n.text+"不能为空",!1})})})}),t)return void this.$vux.alert.show({content:t});this.submit()},selGroup:function(e){this.typeSubMap[this.typeSub].value=e},getTypeSubList:function(e){var t=this,a=[];e&&(a=[{operator:"like",value:e,property:"GROUP_NAME"}]);var n=this.typeSubMap[this.typeSub];switch(this.typeSub){case"group":return(0,B.getDepartMentWage)({filter:(0,v.default)(a)}).then(function(e){var a=e.tableContent,i=void 0===a?[]:a;i.forEach(function(e){e.name=e.GROUP_NAME,e.value=e.GROUP_NAME,e.code=e.GROUP_CODE,e.code===n.code&&(t.typeSubMap[t.typeSub].value=e.value)}),t.typeSubMap[t.typeSub].list=i,t.typeSubMap[t.typeSub].code=""});case"staff":case"customer":case"processors":case"channel":return e&&(a[0].property="dealerName"),(0,j.getObjDealerByLabelName)({dealerLabelName:n.dealerLabelName,filter:(0,v.default)(a)}).then(function(e){var a=e.tableContent,i=void 0===a?[]:a;i.forEach(function(e){e.name=e.dealerName,e.value=e.dealerName,e.code=e.dealerCode,e.code===n.code&&(t.typeSubMap[t.typeSub].value=e.value)}),t.typeSubMap[t.typeSub].code="",t.typeSubMap[t.typeSub].list=i})}},handlerParams:function(e){var t=e.dataSource.data.url,a=e.dataSource.data.params,n=(0,c.default)(a),i={url:t};if(n.length){var r={};n.forEach(function(e){r[e]="text"===a[e].type?a[e].value:""}),i.data=r}return i},getFormViews:function(){var e=this;return(0,j.getFormViews)("64a41c48-4e8d-4709-bd01-5d60ad6bc625").then(function(t){var a=!0,n=!1,i=void 0;try{for(var r,s=(0,_.default)(t);!(a=(r=s.next()).done);a=!0){var o=r.value;if("submit"===o.viewType){e.viewId=o.uniqueId;break}}}catch(e){n=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}})},getFormConfig:function(){var e=this;(0,j.getFormConfig)(this.viewId).then(function(t){var a=t.config,n=void 0===a?[]:a,i=[],r=[];n.forEach(function(e){e.isMultiple?e.hiddenInRun||"r2Fileupload"===e.xtype||r.push(JSON.parse((0,v.default)(e))):i=JSON.parse((0,v.default)(e.items))}),i.forEach(function(t){"groupCode"!==t.fieldCode&&"customerDealerCode"!==t.fieldCode&&"customerDealerCode"!==t.fieldCode&&"processorsDealerCode"!==t.fieldCode&&"channelDealerCode"!==t.fieldCode||(t.hiddenInRun=!0),t.hiddenInRun||("warehouseProvince"!==t.fieldCode&&"warehouseCity"!==t.fieldCode&&"warehouseDistrict"!==t.fieldCode&&"r2Combo"===t.xtype&&t.dataSource&&"remoteData"===t.dataSource.type&&(0,j.requestData)(e.handlerParams(t)).then(function(a){a.tableContent?(a.tableContent.forEach(function(e){e.value=e.name}),"warehouseType"===t.fieldCode&&(e.$route.query.transCode||(e.warehouse.warehouseType=e.$route.query.warehouseType?e.$route.query.warehouseType:a.tableContent[0].value)),e.$set(t,"remoteData",a.tableContent)):(a.forEach(function(e){e.value=e.name}),e.$set(t,"remoteData",a))}),"warehouseCode"!==t.fieldCode&&"warehouseName"!==t.fieldCode&&"warehousePic"!==t.fieldCode&&"warehouseCity"!==t.fieldCode&&"warehouseDistrict"!==t.fieldCode&&e.warehouseConfig.push(t))}),r.forEach(function(t){switch(t.name){case"warehouseRel":t.title="库位"}var a=[];t.items.forEach(function(t,n){t.hidden||("r2Combo"!==t.editorType&&"r2Selector"!==t.editorType||!t.dataSource||"remoteData"!==t.dataSource.type||(0,j.requestData)(e.handlerParams(t)).then(function(a){a.tableContent?(a.tableContent.forEach(function(e){if(e.warehosueName)return e.value=e.warehosueName,void(e.name=e.warehosueName);e.value=e.name}),e.$set(t,"remoteData",a.tableContent)):(a.forEach(function(e){e.value=e.name}),e.$set(t,"remoteData",a))}),a.push(t))}),t.items=a,e.$set(e.warehouseDuplicateData,t.name,[])}),e.warehouseDuplicateConfig=r,e.$loading.hide()})}},beforeRouteLeave:function(e,t,a){var n=e.path;this.submitSuccess&&"/warehouse"===n&&(e.meta.reload=!0),a()},created:function(){var e=this;this.$loading.show();var t=this.$route.query;if(t.transCode)return this.transCode=t.transCode,this.isClearData=!1,void(0,d.default)(o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getFormViews();case 2:return t.next=4,e.getFormConfig();case 4:return t.next=6,e.findData();case 6:e.hasDefault=!1;case 7:case"end":return t.stop()}},t,e)}))();(0,d.default)(o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(0,j.getBaseInfoDataBase)().then(function(t){e.baseinfo=(0,r.default)({},e.baseinfo,t)}),t.next=3,e.getFormViews();case 3:return t.next=5,e.getFormConfig();case 5:case"end":return t.stop()}},t,e)}))(),this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},beforeRouteEnter:function(e,t,a){e.meta.title="新增仓库",e.query.transCode&&(e.meta.title="编辑仓库"),a()}}},hFVz:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getObjDealerBalByLabelName=t.getSaleAcceptanceBill=t.getDepositToPaySuppliers=t.getPaySupplierArrears=void 0;var i=a("4YfN"),r=n(i),s=a("GOq4"),o=n(s),l={getId:function(e){return o.default.ajax({url:"/H_roleplay-si/ds/list/getListViewById?uniqueId="+e})},getDealerList:function(e,t){return o.default.ajax({url:"/H_roleplay-si/seconds/getReportInfoByListViewId/"+e,data:t})},getOrderDealerList:function(e){return o.default.ajax({url:"/H_roleplay-si/ds/getObjDealerByLabelName",data:e})},getDealerClassfiy:function(){return o.default.ajax({url:"/H_roleplay-si/ds/list/getListViews?listId=c0375170-d537-4f23-8ed0-a79cf75f5b04"})},getDictByType:function(){return o.default.ajax({url:"/H_roleplay-si/ds/getDictByType",data:{type:"dealerRelLabel",page:1,start:0,limit:25}})},getDictByValue:function(e){return o.default.ajax({url:"/H_roleplay-si/ds/getDictByValue",data:{value:e,page:1,start:0,limit:1e4}})},save:function(e){return o.default.post({url:"/H_roleplay-si/dealer/save",data:e})},update:function(e){return o.default.post({url:"/H_roleplay-si/dealer/update",data:e})},getDealerInfo:function(e){return o.default.ajax({url:"/H_roleplay-si/dealer/findData?transCode="+e})},getAppdealer:function(e){return o.default.ajax({url:"/H_roleplay-si/ds/getObjDealerByLabelName",data:e})},getContactList:function(e){return o.default.ajax({url:"/H_roleplay-si/ds/getObjDealerContact",data:e})},getPaySupplierArrears:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getPaySupplierArrears",data:(0,r.default)({_dc:Date.now()},e)})},getDepositToPaySuppliers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getDepositToPaySuppliers",data:(0,r.default)({_dc:Date.now()},e)})},getSaleAcceptanceBill:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getSaleAcceptanceBill",data:(0,r.default)({_dc:Date.now()},e)})},getObjDealerBalByLabelName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getObjDealerBalByLabelName",data:(0,r.default)({_dc:Date.now()},e)})}};t.getPaySupplierArrears=l.getPaySupplierArrears,t.getDepositToPaySuppliers=l.getDepositToPaySuppliers,t.getSaleAcceptanceBill=l.getSaleAcceptanceBill,t.getObjDealerBalByLabelName=l.getObjDealerBalByLabelName;t.default=l},hHGC:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2466,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"},{name:"往来名称",value:"dealerName_dealerCodeCredit"}]}},mixins:[i.default],methods:{},created:function(){}}},hHiI:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("m-search",{attrs:{filterList:e.filterList,isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.workList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.workList,function(t,n){return a("div",{key:n,staticClass:"each-work box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"work-main"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.transCode,expression:"item.transCode"}],staticClass:"work_top"},[a("span",{staticClass:"code_name"},[e._v("加工订单号")]),e._v(" "),a("span",{staticClass:"work_code"},[e._v(e._s(t.transCode))])]),e._v(" "),a("div",{staticClass:"work_mid vux-1px-b"},[a("div",{staticClass:"product_name"},[e._v("\n                "+e._s(t.inventoryName)),a("span",{staticClass:"symbol"},[e._v("[成品]")])]),e._v(" "),a("div",{staticClass:"product_unit"},[a("span",{staticClass:"each_unit"},[e._v("成品编码: "+e._s(t.inventoryCode))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.processProQty,expression:"item.processProQty"}],staticClass:"each_unit"},[e._v("加工数量: "+e._s(t.processProQty))])])]),e._v(" "),a("div",{staticClass:"work_btm"},[a("div",{staticClass:"procedure_name"},[a("span",[e._v(e._s(t.procedureName))]),e._v(" "),a("span",{staticClass:"symbol"},[e._v("[工序编码: "+e._s(t.proPointCode)+"]")])]),e._v(" "),a("div",{staticClass:"procedure_unit"},[a("span",{staticClass:"each_unit"},[e._v("工序可派工: "+e._s(t.thenQtyBal))]),e._v(" "),a("span",{staticClass:"each_unit"},[e._v("派工总数: "+e._s(t.productDemandQty))])])]),e._v(" "),a("div")]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1),e._v(" "),a("div",{staticClass:"count_mode vux-1px-t"},[a("span",{staticClass:"count_num"},[e._v(" "+e._s(e.tmpItems.length?"已选 "+e.tmpItems.length+" 个":"请选择")+" ")]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.cfmMater}},[e._v("确定")])])])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},hIeW:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("4YfN"),o=n(s),l=a("Jwlx"),d=n(l),u=a("7g+Q"),c=n(u),f=a("+62G"),m=n(f),h=a("7biW"),v=n(h),p=a("1KNX"),C=n(p),y=a("hFVz"),_=n(y);t.default={name:"PopContactList",props:{dealerInfo:{type:Object,default:function(){return{}}},defaultValue:{type:Object,default:function(){return{}}}},directives:{TransferDom:m.default},components:{Popup:c.default,DSearch:v.default,RScroll:C.default},data:function(){return{page:1,limit:10,hasNext:!0,showDealerPop:!1,showPop:!1,srhInpTx:"",bScroll:null,contactInfo:{},dealerList:[],contactList:[],scrollOptions:{pullUpLoad:!0}}},watch:{dealerInfo:{handler:function(){this.resetCondition(),this.getContact()},immediate:!0},defaultValue:{handler:function(){this.contactInfo=(0,d.default)((0,o.default)({},this.defaultValue))},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},showSelIcon:function(e){return this.contactInfo.dealerName===e.dealerName},selContact:function(e,t){this.showPop=!1,this.contactInfo=(0,d.default)((0,o.default)({},e)),this.$emit("sel-contact",this.contactInfo)},getContact:function(){var e=this;return _.default.getContactList({dealerCode:this.dealerInfo.dealerCode,limit:this.limit,page:this.page,start:(this.page-1)*this.limit}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,s=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+s.length,e.contactList=1===e.page?s:[].concat((0,r.default)(e.contactList),(0,r.default)(s)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.contactList=[],this.page=1,this.hasNext=!0,this.getContact()},onPullingUp:function(){this.page++,this.getContact()},resetCondition:function(){this.page=1,this.hasNext=!0,this.contactList=[]}},created:function(){}}},hLfv:function(e,t,a){"use strict";function n(e){a("qwSi")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("E6hn");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Tizq"),o=a.n(s),l=a("6GPl"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-62f49ec6",null);t.default=c.exports},hNmM:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("IHPB"),o=n(s),l=a("4XVd"),d=a("fQlz"),u=n(d),c=a("+AeB"),f=n(c),m=a("kNGm"),h=n(m);t.default={name:"CommentItem",props:{item:{type:Object,default:function(){return{}}},noBorder:{type:Boolean,default:!1}},components:{Emotion:f.default},data:function(){return{attachmentImgs:[]}},methods:{getDefaultImg:function(e){e.target.src=a("Fuf7")},reply:function(){this.$emit("on-reply",this.item)},savePraise:function(){var e=this;if(this.item.isPraise)return(0,l.savePraise)(this.item.ID).then(function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];arguments[1];t&&e.$emit("on-praise-success",e.item)})},getImgUrl:function(e){return""+location.origin+e.ATTACHMENT},scaleImg:function(e){var t=this.getImgUrl(e);wx.previewImage({current:t,urls:this.attachmentImgs})},handleComment:function(){var e=[].concat((0,o.default)(u.default)),t=this.item.CONTENT,a=/\[(.+?)\]/g;return t=t.replace(/src="resources/g,'src="/dist/resources'),t=t.replace(a,function(t){var a=e.findIndex(function(e){return e===t.replace(/(\[|\])/g,"")});return-1===a?t:'<span class="img-emotion" style="background-position: -'+24*a+'px 0;"></span>'})},checkImgSuffix:function(){var e=["jpg","jpeg","png","gif","bmp","tif","pcx","tga","exif","fpx","svg","psd","cdr","pcd","dxf","ufo","eps","ai","raw","WMF","webp"],t=[];if(this.item.commentAttachments){var a=!0,n=!1,i=void 0;try{for(var s,o=(0,r.default)(this.item.commentAttachments);!(a=(s=o.next()).done);a=!0){var l=s.value,d=l.name.lastIndexOf("."),u=l.name.substr(d+1);e.includes(u)&&(l.isImg=!0,t.push(this.getImgUrl(l)))}}catch(e){n=!0,i=e}finally{try{!a&&o.return&&o.return()}finally{if(n)throw i}}this.attachmentImgs=t}},checkFile:function(e){window.location.href=""+location.origin+e}},filters:{filterTime:function(e){if(e){"string"==typeof e&&(e=e.replace(/-/g,"/").replace(/\..*/g,""));var t=Date.now(),a=(0,h.default)(e,"YYYY-MM-DD"),n=+new Date(e),i=t-n;return i<864e5?a="今天":i<1728e5&&(a="昨天"),a+" "+(0,h.default)(e,"HH:mm")}}},created:function(){this.checkImgSuffix()}}},hPJo:function(e,t,a){"use strict";function n(e){a("qBxf")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("mpfK");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("F+mj"),o=a.n(s),l=a("MjEC"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-3b162db2",null);t.default=c.exports},hQFQ:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("rVsN"),r=n(i),s=a("KH7x"),o=n(s),l=a("0AQX"),d=a("kNGm"),u=n(d),c=a("1KNX"),f=n(c);t.default={name:"WorkFlowFull",data:function(){return{transCode:"",currentUser:{},workFlow:[],defaulImg:a("Fuf7")}},computed:{workFlowList:function(){var e=this.workFlow,t=this.currentUser.userId,a=void 0===t?"":t;return e.forEach(function(e){e.isMyNode=""+a==""+e.assignee}),e}},components:{RScroll:f.default},methods:{getDefaultIcon:function(e){var t=this.defaulImg;return e&&(e.photoUrl=t),t},getCurrentUser:function(){var e=this;return(0,l.currentUser)().then(function(t){e.currentUser=t})},getWorkFlow:function(){var e=this;return(0,l.getWorkFlow)({transCode:this.transCode}).then(function(t){var a=t.tableContent,n=void 0===a?[]:a,i=(0,o.default)(n,1),r=i[0],s=void 0===r?{}:r,l=n.slice(-1),d=(0,o.default)(l,1),u=d[0];n.forEach(function(e,t){e.statusClass="",e.statusText="已完成"}),s.statusText="已提交",u.endTime?u.statusClass="done":(u.statusClass="doing",u.statusText="进行中"),e.workFlow=n.reverse()})}},filters:{dateFormat:u.default},created:function(){var e=this,t=this.$route.query.transCode,a=[];this.transCode=t,this.$loading.show(),a.push(this.getCurrentUser()),a.push(this.getWorkFlow()),r.default.all(a).then(function(){e.$loading.hide()})}}},hQWF:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("KH7x"),r=n(i),s=a("0w+U"),o=a("+VRO"),l=n(o);t.default={data:function(){return{MatPic:"",CompanyInfo:{}}},mixins:[l.default],methods:{getDefaultImg:function(){this.CompanyInfo.groupPic=a("tVsm")},loadPage:function(){var e=this,t=this.$route.query.groupId,a=void 0===t?"":t;return a?(this.$loading.show(),(0,s.CompanyInfo)(a).then(function(t){var a=(0,r.default)(t,1),n=a[0],i=void 0===n?{}:n,s=["","使用中","未使用","草稿"];i.status=s[i.status]||"停用",e.CompanyInfo=i,e.$loading.hide()})):void this.$vux.alert.show({content:"抱歉，有误，请尝试刷新之后再次进入"})}}}},hRPs:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"childPage"},[a("div",{staticClass:"detail_content"},[a("div",{staticClass:"mater_baseinfo vux-1px-b"},[a("div",{staticClass:"mater_property"},[a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("公司名称:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.CompanyInfo.groupName))])]),e._v(" "),a("div",{staticClass:"each_property"},[a("label",[e._v("公司简称:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.CompanyInfo.groupShortName))])])]),e._v(" "),a("div",{staticClass:"mater_pic vux-1px-l"},[a("div",{staticClass:"add_icon"},[a("label",{attrs:{for:"file"}}),e._v(" "),a("img",{staticClass:"upload",attrs:{src:e.CompanyInfo.groupPic},on:{error:e.getDefaultImg}})])])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("公司类型:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.CompanyInfo.companyType))])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("公司状态:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v("\n         "+e._s(e.CompanyInfo.status)+"\n      ")])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("创建者:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v("\n         "+e._s(e.CompanyInfo.creator||"无")+"\n      ")])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("创建时间:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v("\n         "+e._s(e.CompanyInfo.crtTime||"无")+"\n      ")])]),e._v(" "),e.CompanyInfo.modifier?a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("修改者:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v("\n         "+e._s(e.CompanyInfo.modifier||"无")+"\n      ")])]):e._e(),e._v(" "),e.CompanyInfo.modTime?a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("修改时间:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v("\n         "+e._s(e.CompanyInfo.modTime||"无")+"\n      ")])]):e._e()])])},i=[],r={render:n,staticRenderFns:i};t.a=r},hX7J:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("HzJ8"),o=n(s),l=a("fQlz"),d=n(l),u=a("kNGm"),c=n(u),f=a("9wX+"),m=n(f);t.default={name:"CommentItem",props:{item:{type:Object,default:function(){return{}}},noBorder:{type:Boolean,default:!1}},watch:{item:{handler:function(){this.checkImgSuffix()},immediate:!0}},components:{RPopover:m.default},data:function(){return{attachmentImgs:[]}},methods:{getDefaultIcon:function(e){var t=a("CYNT");return e&&(e.pic=t),t},getDefaultImg:function(e){e.target.src=a("Fuf7")},getImgUrl:function(e){return""+location.origin+e.attachment},scaleImg:function(e){var t=this.getImgUrl(e);wx.previewImage({current:t,urls:this.attachmentImgs})},checkImgSuffix:function(){var e=["jpg","jpeg","png","gif","bmp","tif","pcx","tga","exif","fpx","svg","psd","cdr","pcd","dxf","ufo","eps","ai","raw","WMF","webp"],t=[];if(this.item.attachment){var a=!0,n=!1,i=void 0;try{for(var r,s=(0,o.default)(this.item.attachment);!(a=(r=s.next()).done);a=!0){var l=r.value,d=l.name.lastIndexOf("."),u=l.name.substr(d+1);e.includes(u)&&(l.isImg=!0,t.push(this.getImgUrl(l)))}}catch(e){n=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}this.attachmentImgs=t}},checkFile:function(e){window.location.href=""+location.origin+e},handleComment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"comment",t=this.item,a=(t.type,t.reply),n=void 0===a?{}:a,i=(t.content,t.noticeSource,[].concat((0,r.default)(d.default))),s="",o=/\[(.+?)\]/g;return s="reply"===e?n.comment:this.item.comment,s=s.replace(/src="resources/g,'src="/dist/resources'),s=s.replace(o,function(e){var t=i.findIndex(function(t){return t===e.replace(/(\[|\])/g,"")});return-1===t?e:'<span class="img-emotion" style="background-position: -'+24*t+'px 0;"></span>'})},onPopoverClick:function(){this.$emit("on-popover-click")},hidePopover:function(){(this.$refs.popover||[]).forEach(function(e){e.hidePopover()})}},filters:{filterTime:function(e){if(e){"string"==typeof e&&(e=e.replace(/-/g,"/").replace(/\..*/g,""));var t=Date.now(),a=(0,c.default)(e,"YYYY-MM-DD"),n=+new Date(e),i=t-n;return i<864e5?a="今天":i<1728e5&&(a="昨天"),a+" "+(0,c.default)(e,"HH:mm")}}},created:function(){}}},hZK2:function(e,t){},hagY:function(e,t){},hhSo:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("KH7x"),r=n(i),s=a("IHPB"),o=n(s),l=a("3cXf"),d=n(l),u=a("4YfN"),c=n(u),f=a("Jwlx"),m=n(f),h=a("HXPS"),v=n(h),p=a("7g+Q"),C=n(p),y=a("6q39"),_=n(y),g=a("L6VY"),b=n(g),w=a("+62G"),I=n(w),x=a("7biW"),D=n(x),P=a("hFVz"),S=(n(P),a("HyXB")),k=a("vHT0"),L=n(k),N=a("aHRR"),M=n(N);t.default={name:"PopDealerList",props:{dealerTitle:{type:String,default:"客户"},defaultValue:{type:Object,default:function(){return{}}},defaultContact:{type:Object,default:function(){return{}}},mode:{type:String,default:"1"},required:{type:Boolean,default:!1},noContact:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"},noRecord:{type:Boolean,default:!1},dealerParams:{type:Object,default:function(){return{}}}},computed:{noAddress:function(){var e=this.defaultValue,t=e.province,a=void 0===t?"":t,n=e.city,i=void 0===n?"":n,r=e.county,s=void 0===r?"":r,o=e.address,l=void 0===o?"":o;return!(a||i||s||l)}},directives:{TransferDom:I.default},components:{Icon:v.default,Popup:C.default,DSearch:D.default,LoadMore:_.default,PopContactList:M.default},data:function(){return{page:1,limit:10,hasNext:!0,showDealerPop:!1,srhInpTx:"",bScroll:null,dealerInfo:{},contactInfo:{},selItems:[],dealerList:[]}},watch:{defaultValue:{handler:function(){var e=this.defaultValue;this.dealerInfo=(0,m.default)((0,c.default)({},e)),this.selItems=[(0,c.default)({},e)]},immediate:!0},defaultContact:{handler:function(){this.contactInfo=(0,m.default)((0,c.default)({},this.defaultContact))},immediate:!0},dealerParams:{handler:function(){this.getDealer()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.bScroll&&e.bScroll.refresh()})},onHide:function(){this.showDealerPop=!1},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.dealerCode===e.dealerCode})},selDealer:function(e,t){if(this.showDealerPop=!1,this.selItems=[e],this.dealerInfo=(0,m.default)((0,c.default)({},e)),this.contactInfo={},this.noRecord||sessionStorage.setItem("DEALERLIST_SELITEMS",(0,d.default)(this.selItems)),"2"===this.mode)return void this.$emit("sel-dealer",(0,c.default)({},this.dealerInfo));this.$emit("sel-dealer",(0,d.default)(this.selItems))},selContact:function(e){this.$emit("sel-contact",e)},getDealer:function(){var e=this,t=[];this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:"dealerName"}]));var a=(0,c.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,d.default)(t)},this.dealerParams.data);return(0,S.requestData)({url:this.dealerParams.url,data:a}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,s=void 0===i?[]:i,l=JSON.parse(sessionStorage.getItem("DEALERLIST_SELITEMS"))||"";if(e.hasNext=n>(e.page-1)*e.limit+s.length,e.dealerList=1===e.page?s:[].concat((0,o.default)(e.dealerList),(0,o.default)(s)),l){e.selItems=[].concat((0,o.default)(l));var u=(0,r.default)(e.selItems,1),c=u[0];e.dealerInfo=void 0===c?{}:c,e.$emit("sel-dealer",(0,d.default)(e.selItems)),sessionStorage.removeItem("DEALERLIST_SELITEMS")}e.$nextTick(function(){e.bScroll.refresh(),e.hasNext&&e.bScroll.finishPullUp()})}).catch(function(e){b.default.show({content:e.message})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.dealerList=[],this.page=1,this.hasNext=!0,this.getDealer()},initScroll:function(){var e=this;this.$nextTick(function(){e.bScroll=new L.default(e.$refs.dealer,{click:!0,pullUpLoad:{threshold:20}}),e.bScroll.on("pullingUp",function(){e.hasNext&&(e.page++,e.getDealer())})})},add:function(){var e=this.dealerTitle;this.$router.push({path:"/adress/edit_ads",query:{add:1,pickVal:e}})},itemClick:function(){this.showDealerPop=!0}},created:function(){this.initScroll()}}},hk2Q:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("BGNQ"),r=n(i),s=a("z5TY"),o=n(s),l=a("kNGm"),d=n(l),u=a("0AQX"),c=a("+VRO"),f=n(c),m=(a("Qg39"),a("BUFe")),h=n(m),v=a("AupE"),p=n(v),C=a("bFc7"),y=n(C);t.default={data:function(){return{workInfo:{},orderInfo:{},formViewUniqueId:"c5acfe84-3478-431b-bb18-93809e19cb62"}},mixins:[f.default],components:{Cell:r.default,Group:o.default,RAction:h.default,workFlow:p.default,contactPart:y.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment,t.formData.validUntil=(0,d.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workInfo=t.formData.order.dataSet[0],e.workFlowInfoHandler()})}}}},hojs:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"comment-item",on:{click:function(t){return t.stopPropagation(),e.reply(t)}}},[n("div",{staticClass:"comment-left"},[n("img",{staticClass:"avatar",attrs:{src:e.item.photo||a("Fuf7")},on:{error:e.getDefaultImg}})]),e._v(" "),n("div",{staticClass:"comment-right",class:{"vux-1px-b":!e.noBorder}},[n("div",{staticClass:"comment-header"},[n("div",{staticClass:"header_left"},[n("div",{staticClass:"creator-name"},[e._v(e._s(e.item.creatorName))]),e._v(" "),n("div",{staticClass:"time"},[e._v(e._s(e._f("filterTime")(e.item.CRT_TIME)))])]),e._v(" "),n("div",{staticClass:"header_right",on:{click:function(t){return t.stopPropagation(),e.savePraise(t)}}},[e.item.praiseNum?n("span",{staticClass:"praise_num"},[e._v(e._s(e.item.praiseNum))]):e._e(),e._v(" "),n("i",{staticClass:"icon",class:[e.item.isPraise?"icon-praise":"icon-praise-fill"]})])]),e._v(" "),n("div",{staticClass:"comment",domProps:{innerHTML:e._s(e.handleComment())}}),e._v(" "),e.item.commentAttachments&&e.item.commentAttachments.length?n("div",{staticClass:"comment-attachments"},[e._l(e.item.commentAttachments,function(t,a){return t.isImg?n("img",{key:a,staticClass:"comment_image_item",attrs:{src:t.ATTACHMENT},on:{click:function(a){a.stopPropagation(),e.scaleImg(t)}}}):e._e()}),e._v(" "),e._l(e.item.commentAttachments,function(t,a){return t.isImg?e._e():n("div",{key:a,staticClass:"each_file",on:{click:function(a){a.stopPropagation(),e.checkFile(t.ATTACHMENT)}}},[e._v("附件"+e._s(a+1)+": "+e._s(t.name)+"\n      ")])})],2):e._e(),e._v(" "),this.$slots.reply?n("div",{staticClass:"comment-reply"},[e._t("reply")],2):e._e()])])},i=[],r={render:n,staticRenderFns:i};t.a=r},hpCO:function(e,t,a){"use strict";function n(e){a("KG9p")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("+3hg");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("fQJn"),o=a.n(s),l=a("ACd/"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-132ba48b",null);t.default=c.exports},hrbZ:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("KH7x"),o=n(s),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("BGNQ"),m=n(f),h=a("z5TY"),v=n(h),p=a("SAzG"),C=n(p),y=a("u28h"),_=n(y),g=a("kNGm"),b=n(g),w=a("PzEQ"),I=n(w),x=a("jLp1"),D=a("bKg5"),P=n(D),S=a("vl8n"),k=n(S),L=a("+WR7"),N=n(L),M=a("Qg39"),T=a("zWMP");t.default={mixins:[P.default],components:{Icon:c.default,Cell:m.default,Group:v.default,XInput:C.default,RPicker:k.default,PopBaseinfo:N.default,Datetime:_.default,XTextarea:I.default},data:function(){return{projectList:[],taskList:[],formData:{biProcessStatus:""},jsonData:{baseinfo:{},comment:{biComment:""}},projectTask:{projectName:"",taskName:"",taskType:"",comment:"",deadline:"",planTime:"",cycleNumber:"",actualCompleteTime:"",actualTime:"",actualtHomeworkCost:0,budgetHomeworkCost:"",operatingRate:""}}},methods:{save:function(){var e=this,t="";if([{key:"projectName",message:"项目"},{key:"taskName",message:"任务"},{key:"actualCompleteTime",message:"实际完成日期"}].every(function(a){return!!e.projectTask[a.key]||(t=a.message+"不能为空",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show(),e.jsonData.baseinfo=(0,d.default)({},e.formData,{creator:e.formData.handler},e.jsonData.baseinfo,{modifer:e.formData.handler});var t=x.saveProjectTask,a={listId:"ee4ff0a1-c612-419d-afd7-471913d57a2a",formData:(0,d.default)({handlerEntity:e.entity.dealerName},e.jsonData,{projectTask:e.projectTask})};e.transCode&&(t=x.updateProjectTask),e.saveData(t,a)}})},clickDateSelect:function(){var e=this;this.$vux.datetime.show({confirmText:"确定",cancelText:"取消",value:this.formData.validUntil,onConfirm:function(t){e.formData.validUntil=t}})},getProjectList:function(){var e=this;return(0,x.getProjectPlanProjectName)().then(function(t){var a=t.tableContent,n=void 0===a?[]:a,i=[];n.forEach(function(e){e.projectName&&i.push((0,d.default)({},e,{name:e.projectName,value:e.projectName}))}),e.projectList=i})},taskChange:function(e){if(this.relationKey||this.transCode)return!1;var t=this.taskList.filter(function(t){return t.value===e}),a=(0,o.default)(t,1),n=a[0],i=void 0===n?{}:n;this.projectTask=(0,d.default)({},this.projectTask,{taskName:i.TASK_NAME,taskType:i.TASK_TYPE,comment:i.COMMENT,deadline:(0,b.default)(i.DEADLINE,"YYYY-MM-DD"),planTime:i.PLAN_TIME,budgetHomeworkCost:i.BUDGET_HOMEWORK_COST,operatingRate:i.JOB_RATE,cycleNumber:i.CYCLE_DAYS})},projectChange:function(e){if(this.relationKey||this.transCode)return!1;var t=this.projectList.find(function(t){return t.projectName===e});this.projectTask=(0,d.default)({},this.projectTask,{projectType:t.projectType||"",projectSubclass:t.projectSubclass||"",taskName:"",taskType:"",comment:"",deadline:"",planTime:"",budgetHomeworkCost:"",operatingRate:"",cycleNumber:""}),this.getTaskList()},getFormData:function(){var e=this;return(0,x.findProjectTask)(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=n.projectTask;e.jsonData=n,e.projectTask=(0,d.default)({},i,{actualCompleteTime:(0,b.default)(i.actualCompleteTime,"YYYY-MM-DD")}),e.handlerDefault={handler:n.baseinfo.handler,handlerName:n.baseinfo.handlerName,handlerUnit:n.baseinfo.handlerUnit,handlerUnitName:n.baseinfo.handlerUnitName,handlerRole:n.baseinfo.handlerRole,handlerRoleName:n.baseinfo.handlerRoleName},e.getTaskList(),e.$loading.hide()})},getTaskList:function(){var e=this;return(0,x.getProjectTodoTask)({projectName:this.projectTask.projectName}).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;e.taskList=n.map(function(e){return e=(0,d.default)({},e,{name:e.TASK_NAME,value:e.TASK_NAME})})})},checkTime:function(){var e=this.projectTask.actualTime;e&&(this.projectTask.actualTime=Math.abs((0,M.toFixed)(e,1))),this.projectTask.operatingRate&&this.projectTask.actualTime&&(this.projectTask.actualtHomeworkCost=(0,T.accMul)(this.projectTask.operatingRate,this.projectTask.actualTime))},hasDraftData:function(){return!!this.projectTask.projectName&&(0,r.default)({},"XMRW_DATA",{projectTask:this.projectTask})},getRelationData:function(){var e=this;return(0,x.findProjectPlan)(this.relationKey).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=(t.attachment,n.projectPlan[0]);e.projectTask=(0,d.default)({},e.projectTask,{projectName:n.projectApproval.projectName,taskName:i.taskName,taskType:i.taskType,comment:i.comment,deadline:(0,b.default)(i.deadline,"YYYY-MM-DD"),planTime:i.planTime})})}},created:function(){var e=sessionStorage.getItem("XMRW_DATA");if(e){var t=JSON.parse(e);this.projectTask=t.projectTask,this.getTaskList(),sessionStorage.removeItem("XMRW_DATA")}this.getProjectList()}}},hsBr:function(e,t,a){"use strict";function n(e){a("ap1P")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("yCU9");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("fFaL"),o=a.n(s),l=a("YsWd"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-170e0136",null);t.default=c.exports},hy8B:function(e,t){},hz6K:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),m=a("bFc7"),h=n(m),v=a("6WeX"),p=n(v),C=a("3NX5"),y=n(C),_=a("sUbJ"),g=n(_),b=a("d7ck"),w=n(b),I=a("zWMP"),x=a("Qg39");t.default={data:function(){return{count:0,comment:"",orderInfo:{},formViewUniqueId:"e76a8c6f-05cc-45ee-ba93-299fe6751856",orderList:{}}},mixins:[l.default],components:{workFlow:f.default,RAction:u.default,PriceTotal:p.default,contactPart:h.default,MatterList:y.default,MatterItem:g.default,FormCell:w.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var d={},u=s.order,c=void 0===u?{}:u;e.attachment=l;var f=s.order.dataSet,m=!0,h=!1,v=void 0;try{for(var p,C=(0,r.default)(f);!(m=(p=C.next()).done);m=!0){var y=p.value;y.noTaxAmount=(0,I.accMul)(y.price,y.tdQty),y.taxAmount=(0,I.accMul)(y.noTaxAmount,y.taxRate),y.tdAmount=(0,x.toFixed)((0,I.accAdd)(y.noTaxAmount,y.taxAmount)),e.count=(0,I.accAdd)(e.count,y.tdAmount),y.inventoryPic=y.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+y.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),d[y.transMatchedCode]||(d[y.transMatchedCode]=[]),d[y.transMatchedCode].push(y)}}catch(e){h=!0,v=e}finally{try{!m&&C.return&&C.return()}finally{if(h)throw v}}e.orderList=d,e.dealerInfo={dealerName:c.dealerName_dealerDebit,dealerMobilePhone:s.dealerDebitContactInformation,dealerContactPersonName:s.dealerDebitContactPersonName,dealerCode:c.dealerCode_dealerDebit,dealerLabelName:c.drDealerLabel,province:c.province_dealerDebit,city:c.city_dealerDebit,county:c.county_dealerDebit,address:c.address_dealerDebit,payment:c.drDealerPaymentTerm,pamentDays:c.daysOfAccount},e.orderInfo=s,e.workFlowInfoHandler()})}}}},"i/ii":function(e,t){},i2zW:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,"dealer-params":e.dealerParams,dealerTitle:"供应商",defaultContact:e.contactInfo},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("dealer-other-part",{attrs:{"dealer-config":e.dealerConfig,"dealer-info":e.dealerInfo}}),e._v(" "),a("pop-warehouse-list",{attrs:{title:"出库仓库","default-value":e.warehouse,"is-required":!0},on:{"sel-item":e.selWarehouse}}),e._v(" "),a("div",{staticClass:"materiel_list"},[Object.keys(e.orderList).length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n,i){return a("div",{key:n,staticClass:"each_mater",class:{"vux-1px-b":i<Object.keys(e.orderList).length-1}},[t.length?a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v(e._s(e.orderListTitle))]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]):e._e(),e._v(" "),e._l(t,function(t,i){return a("div",{key:i,class:{mater_delete:e.matterModifyClass}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass,config:e.matterEditConfig.property},on:{"on-modify":function(a){e.modifyMatter(t,i,n)}},nativeOn:{click:function(a){e.delClick(i,t,n)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[n.price&&n.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price)+"\n                      ")]),e._v(" "),a("div",[a("r-number",{attrs:{num:n.tdQty,checkAmt:e.checkAmt,max:n.qtyBal},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",t)},expression:"item.tdQty"}})],1)]):e._e()]}},{key:"editPart",fn:function(t){var r=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r.price&&r.tdQty&&!e.matterModifyClass,expression:"(item.price && item.tdQty) &&!matterModifyClass"}],staticClass:"edit-part vux-1px-l",on:{click:function(t){e.modifyMatter(r,i,n)}}},[a("span",{staticClass:"iconfont icon-bianji1"})])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(i,t,n)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)})],2)}),0)]:[a("div",{on:{click:function(t){e.showMaterielPop=!e.showMaterielPop}}},[a("div",{staticClass:"title"},[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择"+e._s(e.orderListTitle))]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多物料")])]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showMaterielPop,filterList:e.filterList,"default-value":e.matterList,config:e.matterPopConfig,"matter-params":e.matterParams,orderTitle:e.matterPopOrderTitle,isShowStock:""},on:{"sel-matter":e.selMatter},model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}})],2),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,config:e.matterEditConfig},on:{"sel-confirm":e.selConfirm},model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-circle-outline 'outline' v-show=selItems.length !== matterList.length",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num"},[a("span",{staticStyle:{fontSize:".14rem"}},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.tdAmount))+"\n      "),a("span",{staticClass:"taxAmount"},[e._v("[含税: ￥"+e._s(e._f("numberComma")(e.taxAmount))+"]")])]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},i4Pg:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"bScroll",staticClass:"scroll-container"},[a("div",{ref:"scrollWrapper",staticClass:"scroll-wrapper",class:{hasRefresh:e.hasRefresh}},[e._t("default"),e._v(" "),e._t("loadmore",[a("load-more",{directives:[{name:"show",rawName:"v-show",value:e.hasNext||e.noData,expression:"hasNext || noData"}],attrs:{"show-loading":e.hasNext,tip:e.tip}})])],2),e._v(" "),e.options.pullDownRefresh?e._t("refresh",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.hasRefresh,expression:"hasRefresh"}],staticClass:"refresh-container",style:{top:e.pullDownTop+"px"}},[a("spinner",{directives:[{name:"show",rawName:"v-show",value:!e.refreshDone,expression:"!refreshDone"}],staticClass:"icon",attrs:{type:"crescent"}}),e._v(" "),a("div",{staticClass:"tips"},[e._v(e._s(-e.pullDownTop>30?"下拉刷新":"释放刷新"))])],1)]):e._e()],2)},i=[],r={render:n,staticRenderFns:i};t.a=r},i61Q:function(e,t,a){"use strict";function n(e){a("hy8B")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("LQmC");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("9S56"),o=a.n(s),l=a("hHiI"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-6f5f4846",null);t.default=c.exports},iAQa:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("iR2W"),i=function(e){return e&&e.__esModule?e:{default:e}}(n),r=a("Qg39");t.default={name:"PriceTotal",props:{noAmt:{type:Boolean,default:!1},noTaxAmt:{type:Boolean,default:!1},noCount:{type:Boolean,default:!1},amt:{type:Number,default:0},taxAmt:{type:Number,default:0},count:{type:Number,default:0}},filters:{numberComma:i.default,toFixed:r.toFixed}}},iAXK:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pop-warehouse-container",on:{click:e.warehouseClick}},[e.selItems.warehouseName?a("div",[a("div",{staticClass:"title"},[e._v(e._s(e.title))]),e._v(" "),a("div",{staticClass:"user_info"},[a("span",{staticClass:"user_name"},[e._v(e._s(e.selItems.warehouseName))]),e._v(" "),a("span",{staticClass:"user_tel"},[e._v(e._s(e.selItems.warehouseType))])]),e._v(" "),e.noAddress?e._e():a("div",{staticClass:"cp_info"},[a("i",{staticClass:"iconfont icon-icon-test"}),e._v(" "),a("span",{staticClass:"cp_ads"},[e._v("\n        "+e._s(e.selItems.warehouseProvince)+e._s(e.selItems.warehouseCity)+e._s(e.selItems.warehouseDistrict)+e._s(e.selItems.warehouseAddress)+"\n      ")])])]):a("div",[a("div",{staticClass:"title"},[e._v(e._s(e.title))]),e._v(" "),a("div",{staticClass:"mode",class:{required:e.isRequired}},[e._v("请选择仓库")])]),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:!e.disabled,expression:"!disabled"}],staticClass:"iconfont icon-youjiantou r-arrow"}),e._v(" "),e.disabled?e._e():a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("d-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"pop-list-container",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},[e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"pop-mater-list-item box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"pop-list-main "},[a("div",{staticClass:"pop-list-info"},[a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline name",staticStyle:{display:"inline-block"}},[a("span",[e._v(e._s(t.warehouseName))])]),e._v(" "),a("div",{staticClass:"ForInline name",staticStyle:{display:"inline-block"}},[a("span")])]),e._v(" "),a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline ",staticStyle:{display:"inline-block"}},[a("span",{staticClass:"creator"},[e._v(e._s(t.warehouseType))])])]),e._v(" "),a("div",{staticClass:"withoutColor"},[a("span",[e._v(e._s(t.warehouseProvince)+e._s(t.warehouseCity)+e._s(t.warehouseDistrict)+e._s(t.warehouseAddress))])])])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),e._v(" "),a("load-more",{directives:[{name:"show",rawName:"v-show",value:!e.showAddWarehouse&&(e.hasNext||!e.listData.length),expression:"!showAddWarehouse && (hasNext || !listData.length)"}],attrs:{slot:"loadmore","show-loading":e.hasNext,tip:e.tip},slot:"loadmore"}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showAddWarehouse,expression:"showAddWarehouse"}],staticClass:"when_null_conteiner",attrs:{slot:"loadmore"},slot:"loadmore"},[a("div",{staticClass:"when_null"},[a("div",{staticClass:"title"},[e._v("抱歉，没有找到您搜索的内容")]),e._v(" "),a("ul",{staticClass:"tips"},[a("li",[e._v("\n                  不用担心，您马上可以进行 "),a("span",{staticClass:"addNew",on:{click:e.addWarehouse}},[e._v("新增仓库")])]),e._v(" "),a("li",[e._v("\n                  或者检查“输入内容”是否正确\n                ")])])])])],2)],1)])],1)])},i=[],r={render:n,staticRenderFns:i};t.a=r},iBRT:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2503,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[i.default],methods:{},created:function(){}}},iBgG:function(e,t,a){"use strict";function n(e){a("TweL")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("f06H");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Ny/B"),o=a.n(s),l=a("j0rO"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-19f13c60",null);t.default=c.exports},iC32:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("3cXf"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("bFc7"),p=n(v),C=a("6WeX"),y=n(C),_=a("3NX5"),g=n(_),b=a("zWMP");a("Qg39");t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"",contactInfo:{}}},components:{workFlow:h.default,RAction:f.default,contactPart:p.default,PriceTotal:y.default,MatterList:g.default},mixins:[u.default],methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(e.submitInfo=JSON.parse((0,o.default)(t)),!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.formData.order.dataSet,n=!0,i=!1,s=void 0;try{for(var l,d=(0,r.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;e.count=(0,b.accAdd)(e.count,u.tdAmount),u.inventoryPic=u.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+u.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){i=!0,s=e}finally{try{!n&&d.return&&d.return()}finally{if(i)throw s}}e.attachment=t.attachment,e.orderInfo=t.formData,e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo={creatorName:a.dealerDebitContactPersonName,dealerName:a.dealerName_dealerDebit,dealerMobilePhone:t.dealerDebitContactInformation,dealerContactPersonName:t.dealerDebitContactPersonName,dealerCode:a.dealerDebit,dealerLabelName:a.drDealerLabel,province:a.province_dealerDebit,city:a.city_dealerDebit,county:a.county_dealerDebit,address:a.address_dealerDebit,payment:a.drDealerPaymentTerm,logistics:t.drDealerLogisticsTerms}}}}},iEiQ:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"price_detail"},[e.taxAmt>0?a("div",{staticClass:"price_list"},[a("div",{staticClass:"title"},[e._v("税金：")]),e._v(" "),a("div",{staticClass:"num"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(e.taxAmt),3)))])]):e._e(),e._v(" "),e.amt>0?a("div",{staticClass:"price_list"},[a("div",{staticClass:"title"},[e._v("金额：")]),e._v(" "),a("div",{staticClass:"num"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(e.amt),3)))])]):e._e(),e._v(" "),e.noCount?e._e():a("div",{staticClass:"price_list"},[a("span",{staticClass:"title"},[e._v("价税小计：")]),e._v(" "),a("span",{staticClass:"num"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(e.count),3)))])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},iMFB:function(e,t){},"iMG+":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2433,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[i.default],methods:{},created:function(){}}},iNvo:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("3cXf"),o=n(s),l=a("HXPS"),d=n(l),u=a("7g+Q"),c=n(u),f=a("L6VY"),m=n(f),h=a("+62G"),v=n(h),p=a("HyXB"),C=a("1KNX"),y=n(C),_=a("7biW"),g=n(_);t.default={name:"PopSalesmanList",props:{title:{type:String,default:""},dealerLabelName:{type:String,default:"员工"},disabled:{type:Boolean,default:!1},value:{type:String,default:""},required:{type:Boolean,default:!1}},directives:{TransferDom:v.default},components:{Icon:d.default,Popup:c.default,RScroll:y.default,RSearch:g.default},data:function(){return{showPop:!1,srhInpTx:"",dealerList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},currentValue:""}},watch:{value:{handler:function(e){this.currentValue=this.value}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},showSelIcon:function(e){return e.dealerName===this.currentValue},selThis:function(e,t){var a=e.dealerName;this.showPop=!1,this.currentValue=a,this.$emit("input",a)},getDealer:function(){var e=this,t=[];return this.srhInpTx&&(t=[{operator:"like",value:this.srhInpTx,property:"dealerName"}]),(0,p.getObjDealerByLabelName)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,dealerLabelName:this.dealerLabelName,filter:(0,o.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,s=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+s.length,e.dealerList=1===e.page?s:[].concat((0,r.default)(e.dealerList),(0,r.default)(s)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})}).catch(function(e){m.default.show({content:e.message})})},onPullingUp:function(){this.page++,this.getDealer()},itemClick:function(){this.showPop=!0},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.dealerList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getDealer()}},created:function(){this.getDealer(),this.currentValue=this.value}}},iSAE:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2323,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName"}]}},mixins:[i.default],methods:{},created:function(){}}},iWpg:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"instance-item-wrapper",class:{visited:t.visited},on:{click:function(a){e.goDetail(t,n)}}},[a("div",{staticClass:"instance-summary"},[a("div",{staticClass:"instance-header"},[a("span",{staticClass:"instance_code vux-1px-l"},[e._v(e._s(t.transCode))]),e._v(" "),a("span",{staticClass:"instance_status",class:t.statusClass},[e._v(e._s(t.biStatus))])]),e._v(" "),a("div",{staticClass:"instance-top"},[a("span",{staticClass:"instance_dealer"},[e._v(e._s(t.dealerName))]),e._v(" "),a("span",{staticClass:"instance_process_status"},[e._v(e._s(t.biProcessStatus||"暂无流程"))])]),e._v(" "),a("div",{staticClass:"instance-amt-wrapper"},[a("div",{staticClass:"instance_amt"},[e._v("总支付￥"+e._s(e._f("numberComma")(t.count)))]),e._v(" "),a("div",{staticClass:"instance_count"},[e._v("共"+e._s(t.itemCount)+"笔")])])]),e._v(" "),a("div",{staticClass:"instance-detail vux-1px-t"},[e._l(t.detailItem,function(t,n){return a("div",{key:n,staticClass:"instance_detail_item"},[a("div",{staticClass:"instance_detail_code"},[e._v("协议号: "+e._s(t.transMatchedCode))]),e._v(" "),a("div",{staticClass:"instance_detail_amt_wrapper"},[a("div",{staticClass:"instance_detail_amt_item"},[a("div",{staticClass:"instance_detail_amt"},[e._v("￥"+e._s(e._f("numberComma")(t.thenTotalAmntBal)))]),e._v(" "),a("div",{staticClass:"instance_detail_title"},[e._v("总金额")])]),e._v(" "),a("div",{staticClass:"instance_detail_amt_item"},[a("div",{staticClass:"instance_detail_amt"},[e._v("￥"+e._s(e._f("numberComma")(t.differenceAmountCopy1)))]),e._v(" "),a("div",{staticClass:"instance_detail_title"},[e._v("采购定金")])]),e._v(" "),a("div",{staticClass:"instance_detail_amt_item"},[a("div",{staticClass:"instance_detail_amt"},[e._v("￥"+e._s(e._f("numberComma")(t.applicationAmount)))]),e._v(" "),a("div",{staticClass:"instance_detail_title"},[e._v("本次申请")])])])])}),e._v(" "),a("div",{staticClass:"instance-bottom"},[a("div",{staticClass:"instance_bottom_item instance_handler"},[a("i",{staticClass:"icon icon-handler"}),e._v(" "),a("span",[e._v("经办人："+e._s(t.handlerName))])]),e._v(" "),a("div",{staticClass:"instance_bottom_item instance_mod_time"},[a("i",{staticClass:"icon icon-mod-time"}),e._v(" "),a("span",[e._v("修改时间："+e._s(e._f("dateFormat")(t.modTime,"YYYY-MM-DD HH:mm")))])])])],2)])}),0)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},iZJL:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("a3Yh"),o=n(s),l=a("4YfN"),d=n(l),u=a("IHPB"),c=n(u),f=a("3cXf"),m=n(f),h=a("HXPS"),v=n(h),p=a("z5TY"),C=n(p),y=a("Nk/b"),_=n(y),g=a("SAzG"),b=n(g),w=a("PzEQ"),I=n(w),x=a("kNGm"),D=(n(x),a("jnZd")),P=n(D),S=a("0AQX"),k=a("HyXB"),L=a("bKg5"),N=n(L),M=a("vl8n"),T=n(M),A=a("9cRV"),O=n(A),R=a("luHD"),j=n(R),B=a("zlAJ"),E=n(B),F=a("+WR7"),U=n(F);a("Qg39");t.default={data:function(){return{transCode:"",currentType:"",formData:{biId:"",biComment:"",biProcessStatus:""},priceMap:{},matterList:[],showMaterielPop:!1,validateMap:[{key:"drDealerLabel",message:"请选择客户类型"},{key:"qtyDownline",message:"请填写数量下线"},{key:"qtyOnline",message:"请填写数量上线"},{key:"price",message:"请填写标准价格"},{key:"specialReservePrice",message:"请填写特批底价"}]}},components:{Icon:v.default,Group:C.default,Picker:_.default,XInput:b.default,RPicker:T.default,XTextarea:I.default,PopupPicker:P.default,PopMatterList:O.default,PopMatter:j.default,UploadFile:E.default,PopBaseinfo:U.default},mixins:[N.default],methods:{delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=this;this.matterList.forEach(function(t){e.priceMap[t.inventoryCode]={price:t.price,qtyOnline:t.qtyOnline,qtyDownline:t.qtyDownline,drDealerLabel:t.drDealerLabel,specialReservePrice:t.specialReservePrice}}),this.showMaterielPop=!this.showMaterielPop},selMatter:function(e){var t=this,a=JSON.parse(e);a.forEach(function(e){var a=t.priceMap[e.inventoryCode]||{};e.price=a.price||"",e.qtyOnline=a.qtyOnline||"",e.qtyDownline=a.qtyDownline||"",e.specialReservePrice=a.specialReservePrice||"",e.drDealerLabel=a.drDealerLabel||[]}),this.priceMap={},this.matterList=[].concat((0,c.default)(a))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},save:function(){var e=this,t="",a=[];if(this.matterList.length||(t="请选择物料"),t||this.matterList.every(function(n){e.validateMap.every(function(e){return(Array.isArray(n[e.key])&&!n[e.key].length||!n[e.key])&&(t=e.message),!t});var i={transObjCode:n.inventoryCode,drDealerLabel:n.drDealerLabel[0],qtyDownline:n.qtyDownline,qtyOnline:n.qtyOnline,price:n.price,specialReservePrice:n.specialReservePrice,comment:""};return e.transCode&&(i.tdId=n.tdId||""),a.push(i),!t}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=k.saveAndStartWf,n=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,order:{dataSet:a}}),i={listId:e.listId,biComment:"",formData:(0,m.default)(n),wfPara:(0,m.default)((0,o.default)({},e.processCode,{businessKey:e.businessKey,createdBy:n.creator}))};e.transCode&&(t=k.saveAndCommitTask,i.biReferenceId=e.biReferenceId,i.wfPara=(0,m.default)({businessKey:e.transCode,createdBy:n.creator,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=k.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,S.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var u=[];e.attachment=l;var c=s.order,f=c.dataSet,m=void 0===f?[]:f,h=!0,v=!1,p=void 0;try{for(var C,y=(0,r.default)(m);!(h=(C=y.next()).done);h=!0){var _=C.value;_=(0,d.default)({},_,{inventoryCode:_.transObjCode,inventoryName:_.inventoryName_transObjCode,measureUnit:_.measureUnit_transObjCode,specification:_.specification_transObjCode,PopDealerLabel:[_.drDealerLabel],inventoryPic:_.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}),u.push(_)}}catch(e){v=!0,p=e}finally{try{!h&&y.return&&y.return()}finally{if(v)throw p}}e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:s.biComment,biId:s.biId,biProcessStatus:s.biProcessStatus,creator:s.creator,modifer:s.modifer}),e.biReferenceId=s.biReferenceId,e.matterList=u,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,o.default)({},"CPJG_DATA",{matter:this.matterList,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("CPJG_DATA");e&&(this.matterList=JSON.parse(e).matter,this.formData=JSON.parse(e).formData,sessionStorage.removeItem("CPJG_DATA"))}}},ic8P:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("BGNQ"),o=n(s),l=a("z5TY"),d=n(l),u=a("jLp1"),c=a("+VRO"),f=n(c);t.default={data:function(){return{projectPlan:{},comment:{},projectApproval:{}}},filters:{timeSplit:function(e){return e?e.split(" ")[0]:""}},mixins:[f.default],components:{Group:d.default,Cell:o.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u.findProjectPlan)(t).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=t.attachment,s=void 0===i?[]:i;e.projectPlan=n.projectPlan,e.comment=n.comment,e.attachment=s,e.projectApproval=n.projectApproval,e.orderInfo=(0,r.default)({},n.baseinfo,{biStatus:"已生效"})})}},created:function(){}}},idOg:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"cell-form-preview",props:{list:Array,borderIntent:{type:Boolean,default:!0}}}},ihcZ:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAAAXNSR0IArs4c6QAACCdJREFUeAHdm3uIFVUcx1vXXN1MTdPCB2a6qWmZZT5StKg0iSKN7EWWiCZZEEb90QOzoL8kBMXKioRqLTBL06ICX0SWIqGZum62umqZ5tvUfG2f39UZZ2bn/M6ZvffO3u0H373nnN/z/ObMnMfMFl2UZ6qpqSnGRR8wDPQHnUBH0BI0Po8Sfs+Ag2AX2Ak2gDVgdVFR0Q5+Gx7R+XbgObAEHALZ0jYMTAc3N4hsEOgg8BH4F+SLqjD8Grii4JJCUMPBWpAmncDZ26B9vSeEILqChaA+6R+cvw6app4QnBaDqUCuSqFQBYEMTS0ZOOsAVhRK7yNxnKE+DTRKmpCiJAo4uAP5eeDyJHrI1gCZDn8A20BPMBbE0Xs0HgL9gEy3zUBS+g6FB5l2DyRVtMqThMfASZCEfkP4RRB6oFF/QjFyvxcMMk3BCPA+OAyS0AaEZb2SO8LglAQRnEV2PrgNxI442p0SEewBOqVgEqgCrlSNYFnQTp3LGHra1StysoC63uYMmcSJ8Gyi2xhMBPuAC21HKLuRgYGRQK6wjaoQGOkFa/tFts6J8Gxjoy2QxZsLbUIo6XPtnCsUO4G/Hbx8hkxzL0CXX+SzToTnB1syOlyeXd8jd7Gn5/QrCmAVsNFsBBJPVejkLBHSIewNAXuBjaY7JcATwtorNovwZ3rySX/RzWkixD82+wDbc0Nu81ud4kWwG7CtGD9BJnZGcHGCbs4TIX6x2xccABpVwpRtf4jihvVsJGoJBrR+pjyOxYoskgqKiEliGwPkbMNE3WBMMTEz7WTqdi2V8I6D7qoRByY28jIiPNfYfxZodBRmO09efqMjYlqQGVN+iaxXxLQXVBMxziCgJUpQl8ALjQr/PidDsnNboShvhtcbJ9qw89WxJ1PVYNALyJFckAZQeTjYECh/QHldoC63YDXYCCrx73RL4l+W9bK/uQzE0REaO2MvvB9BcR7QaHSctWgbBmQpPBXYnuCIJKbNaEwA0ZEcDSNTR+4Zi4cXQooItwHa8drakIKhgo2rwS8g3yRL+RaGMPxmZGQ9JLOEiX71haWA1DiT5Pn28SGFmApyLYBcsbToaxxZRwYy4y0B3eR3B8EvFOGD8Ep9YUMBmVmKjXyxJhvC8ZtxLFv5PUoAb2aEESgC+xXBt3yrhgK6LYFMSWnTbhxa9w/IzFACWy/dkqHVFZierCKzWP5YSHaeMiWlTXKkP8LB6TxFpjdJai3TmhybmegEjGUmZqD9mkA5WpTV3ufgbJThWJcrPgmY3mPcCM92sdYgsxe0BVGSJcQQSUSPKCdQX848eyxQNxXLTAzaH8GGrEHqTFwxmfNNO0frAxP/stlajo0HDEEMFCNaIiSTLqQdsIYXLC7Wasvsq92UuGW1otHJlohKRbmhsbRR2VES0UXp0f8pEbuVfnaQRGjTz1ZFOU2WvyfKwql2i7aXRAhMdMrESLndaaNliem0wi+VJMiHHCbSRotJJx/tuRgRWlxnJRHa/B7dPmvGCp3XUgnwuCRilyLQWuGlycrFrdFGCfiAJKJaEdDWGIpazlm5uDU6KFHtbSiJyMWIuFZJxHZJxBZFoK/Cc2W1chVU5LTnmKIWYmmJqJSH4aqQeLgip9rFrNVt55SHwmqh2hxsfEWLJL0uJLfFKEXRuvzGv9i4RbGxSU6nmgA5pjfRYMVAhoXiZJNyCu3DHOK7wRJHj0Zc7ZMY0jYkY2yO4H8JcjF8HVyFRA5TczlPHR7SCldkxVnhDdeFYV6oJl/KNA21RCoks5qmBZHmNKpz8H3UwdFYRWYZNs49jOnoVZahM04xlGGhLx+ZyflmWrQFR9oiyYtLPoLV6NFQ35D8UZEWp9pSPOjU9hJWcePMqkLS6dUjch8qVuUVRjiZNNiO9J8MZc5QwU4ZkI9H8kXlGI47cqsVEXLXgTNKIOWekr9iQ7iURrnXTUvR/fB6cj/t8ZS1X+zJFZMn+iAQzjqv2miTs8Y4+onGP2IYv9M2F//yGs+JiOEbBLUHZT/s1X7Yovgy0MjPoFMkBiEcaG/DRxvUEjXjY5TWEXhLjQZhNge7LAbuNRpwZGA/r4nAvrx6tD2rZKT65E2fmQaGiUxF4RejvqhfmIuTLn6twArEJlP9fKAt7cvpq7aiPtcrjK0EGsmLXqcHVlye0M3LiMBuCVgMNDoCs9Z3l6EREQh6IuXjgXq02JuGZRhsF2XUV51Y5JXCInC3JYbnGQ07LTIX2Bh22T9sRO7KC1puJXRyOiKw1x7Id5Q2+tYtwogUVhfZLMPfCgZEVNUq8jlLBLbuBNrbbtgZkkkg8UXLdATFS4HLhx+nkHsVOJ1xIpd1IrDRCswE2oIJdoZkBTlQvTo2JgY6gz+BC61GaKiDzTonAvuNgXz84TIKEKs5DUzvPG2hhvkY6g5s6wtEfFpKyZgQeIkTgU4z8BSoAq4kL38fD/cmyxoGy4D8I0oSkq/iZbXaLeieulMikJOrPwy8C5LubOX/Te8J+tXK/l5DE/J4GG5B+R3wkNeW4HcHsivBeiALskkgjmbRKMdvsheRvYr4TEqbUbiPabIiqWIieRIyARwDhUjy75d1SV6iHPjCOOsFXGaUtJIl//Ml31UmGuV+h7Ip4FTuYXG+D9QnfYpz7QVONt101yWI1uANIFclTZLZqb97pClJEpQkZBrYCfJFsjj6GIS20Sl1MZkbgiwGdwH5vtt14YOokWQqXADk/7fystFL5cFC8HJsNwTIrlWO6QRyT5cA+QajCTgBZNoU/AU2ATmWE6xjKjzFb97oPw+GGtYthaV0AAAAAElFTkSuQmCC"},iikc:function(e,t,a){"use strict";function n(e){a("/7Vt")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("uX8d");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("iNvo"),o=a.n(s),l=a("Xf8Q"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-bbdb307e",null);t.default=c.exports},iiu9:function(e,t){},ij6Q:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={props:{BasicApps:{type:Array,require:!0},goBasic:{type:Function,require:!0},goAppDetail:{type:Function,require:!0}}}},ijPy:function(e,t){},iqBt:function(e,t){},is30:function(e,t){},isSJ:function(e,t,a){"use strict";function n(e){a("ILrM")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("X4/C");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("q0Qv"),o=a.n(s),l=a("cgbk"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-aebd7044",null);t.default=c.exports},iysq:function(e,t){},j0rO:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"childPage"},[a("r-scroll",{ref:"bScroll",staticClass:"detail_content"},[a("div",{staticClass:"warehouse_baseinfo has_margin"},[a("div",{staticClass:"baseInfo_top"},[a("div",{staticClass:"baseinfo_part"},[a("img",{attrs:{src:e.MatPic},on:{error:e.getDefaultImg}}),e._v(" "),a("div",{staticClass:"warehouse_name"},[a("p",{staticClass:"name"},[e._v(e._s(e.warehouse.warehouseName))]),e._v(" "),a("p",{staticClass:"code"},[e._v("仓库编码："),a("span",{staticClass:"symbol"}),e._v(e._s(e.warehouse.warehouseCode))])])]),e._v(" "),a("span",{staticClass:"warehouse_status vux-1px",class:{no_use:"使用中"!==e.warehouse.warehouseStatus}},[e._v(e._s(e.warehouse.warehouseStatus))])]),e._v(" "),a("div",{staticClass:"baseinfo_address"},[a("span",{staticClass:"icon-address"}),e._v(" "),e.warehouse.warehouseProvince||e.warehouse.warehouseCity||e.warehouse.warehouseDistrict||e.warehouse.warehouseAddress?a("span",{staticClass:"address"},[e._v("\n          "+e._s(e.warehouse.warehouseProvince)+e._s(e.warehouse.warehouseCity)+e._s(e.warehouse.warehouseDistrict)+e._s(e.warehouse.warehouseAddress)+"\n        ")]):a("span",{staticClass:"address"},[e._v("暂无地址")])])]),e._v(" "),a("div",{staticClass:"warehouse_other has_margin"},e._l(e.warehouseConfig,function(t,n){return a("div",{key:n,staticClass:"each_property",class:{"vux-1px-b":n<e.warehouseConfig.length-1}},[a("label",[e._v(e._s(t.fieldLabel)+":")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.warehouse[t.fieldCode]||"无"))])])}),0),e._v(" "),a("div",{staticClass:"common_style"},e._l(e.warehouseDuplicateConfig,function(t,n){return t.show?a("div",{key:""+n+t.name,staticClass:"d_main"},e._l(e.formData[t.name],function(n,i){return e.formData[t.name].length?a("div",{key:i,staticClass:"content"},e._l(t.items,function(t,i){return a("div",{key:i,staticClass:"each_property vux-1px-b"},[a("label",[e._v(e._s(t.text)+":")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(n[t.fieldCode]||"无"))])])}),0):e._e()}),0):e._e()}),0),e._v(" "),a("div",{staticClass:"creator"},[a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("创建者:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.baseinfo.creatorName))])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("创建时间:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e._f("dateFormat")(e.baseinfo.crtTime)))])]),e._v(" "),e.baseinfo.modiferName?a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("修改者:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.baseinfo.modiferName))])]):e._e(),e._v(" "),e.baseinfo.modTime?a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("修改时间:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e._f("dateFormat")(e.baseinfo.modTime)))])]):e._e()])]),e._v(" "),a("div",{staticClass:"modify_icon",on:{click:e.goEdit}},[a("span",{staticClass:"icon-edit"})])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},j4rH:function(e,t,a){"use strict";function n(e){a("Ud70")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("UAsZ");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("wEtw"),o=a.n(s),l=a("3Gm0"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-ff16ae24",null);t.default=c.exports},jAUN:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("4YfN"),o=n(s),l=a("KH7x"),d=n(l),u=a("3cXf"),c=n(u),f=a("BGNQ"),m=n(f),h=a("7g+Q"),v=n(h),p=a("+62G"),C=n(p),y=a("z5TY"),_=n(y),g=a("SAzG"),b=n(g),w=a("7qeq"),I=(n(w),a("u28h")),x=n(I),D=a("PzEQ"),P=n(D),S=a("iR2W"),k=n(S),L=a("kNGm"),N=(n(L),a("dyuG")),M=(n(N),a("L6VY")),T=(n(M),a("jnZd")),A=n(T),O=a("0AQX"),R=a("HyXB"),j=a("QHLv"),B=a("bKg5"),E=n(B),F=a("vl8n"),U=n(F),$=a("aumL"),Q=n($),H=a("+WR7"),V=n(H),q=a("Qg39"),Y=a("zWMP");t.default={data:function(){return{listId:"418bd0e9-1dce-4e01-aa5a-3d4cd80e87d4",showCostPop:!1,dealerInfo:{dealerName:"",dealerCodeCredit:"",crDealerLabel:"",applicationType:[],tdCreditLine:"",thenAmntBalCopy1:"",thenTotalAmntBal:"",tdAmountCopy1:"",differenceAmount:"",expCause:""},formData:{biId:"",biComment:"",biProcessStatus:""},cashInfo:{cashName:"",cashInCode:"",cashType_cashInCode:"",thenAmntBal:"",tdAmount:""},biReferenceId:"",currentType:[["借款","备用金"]],selectedCost:[]}},computed:{creatorName:function(){return this.formData.userCode}},watch:{creatorName:function(e){this.getEmployeeBal()}},directives:{TransferDom:C.default},components:{Cell:m.default,Popup:v.default,Group:_.default,XInput:b.default,PopupPicker:A.default,Datetime:x.default,XTextarea:P.default,RPicker:U.default,PopFundList:Q.default,PopBaseinfo:V.default},mixins:[E.default],filters:{numberComma:k.default},methods:{getEmployeeBal:function(){var e=this,t=[{operator:"eq",value:this.formData.userCode,property:"dealerCode"}];(0,j.getEmployeeBal)((0,c.default)(t)).then(function(t){var a=t.tableContent,n=void 0===a?[]:a,i=(0,d.default)(n,1),r=i[0],s=void 0===r?{}:r;e.dealerInfo=(0,o.default)({},e.dealerInfo,{dealerName:s.nickname,dealerCodeCredit:s.dealerCode,crDealerLabel:s.dealerLabelName,tdCreditLine:s.tdCreditLine,thenAmntBalCopy1:s.amntBal})})},submitOrder:function(){var e=this,t="",a=this.dealerInfo;if(a.applicationType.length||(t="请选择类型"),t||a.thenTotalAmntBal||0===a.thenTotalAmntBal||(t="请输入申请金额"),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=R.saveAndStartWf,n=(0,o.default)({},e.formData,{handlerEntity:e.entity.dealerName,order:{dataSet:[{tdIdCopy1:a.tdIdCopy1||"",dealerCodeCredit:a.dealerCodeCredit,crDealerLabel:a.crDealerLabel,applicationType:a.applicationType[0],tdCreditLine:a.tdCreditLine,thenAmntBalCopy1:a.thenAmntBalCopy1,thenTotalAmntBal:a.thenTotalAmntBal,tdAmountCopy1:a.tdAmountCopy1,differenceAmount:a.differenceAmount,expCause:a.expCause}]},outPut:{dataSet:[{tdId:e.cashInfo.tdId||"",cashInCode:e.cashInfo.cashInCode,cashType_cashInCode:e.cashInfo.cashType_cashInCode,thenAmntBal:e.cashInfo.thenAmntBal,tdAmount:e.cashInfo.tdAmount,dealerCodeCredit:a.dealerCodeCredit,crDealerLabel:a.crDealerLabel}]}}),i={listId:e.listId,biComment:n.biComment,formData:(0,c.default)(n),wfPara:(0,c.default)((0,r.default)({},e.processCode,{businessKey:e.businessKey,createdBy:n.creator}))};e.isResubmit&&(t=R.saveAndCommitTask,i.biReferenceId=e.biReferenceId,i.wfPara=(0,c.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=R.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,O.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,l=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=l;var u=r.order,c=r.outPut,f=(0,d.default)(u.dataSet,1),m=f[0],h=void 0===m?{}:m,v=(0,d.default)(c.dataSet,1),p=v[0],C=void 0===p?{}:p;e.dealerInfo={tdIdCopy1:h.tdIdCopy1,dealerName:h.dealerName_dealerCodeCredit,dealerCodeCredit:h.dealerCodeCredit,crDealerLabel:h.crDealerLabel,applicationType:[h.applicationType],tdCreditLine:h.tdCreditLine,thenAmntBalCopy1:h.thenAmntBalCopy1,thenTotalAmntBal:h.thenTotalAmntBal,tdAmountCopy1:h.tdAmountCopy1,differenceAmount:h.differenceAmount,expCause:h.expCause},e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,o.default)({},e.formData,e.handlerDefault,{biComment:r.biComment,biId:r.biId,biProcessStatus:r.biProcessStatus,creator:r.creator,modifer:r.modifer}),e.cashInfo={tdId:C.tdId,cashName:C.fundName_cashInCode,cashInCode:C.cashInCode,cashType_cashInCode:C.cashType_cashInCode,thenAmntBal:C.thenAmntBal,tdAmount:C.tdAmount},e.biReferenceId=r.biReferenceId,e.$loading.hide()})},checkAmt:function(){var e=this.dealerInfo,t=e.thenAmntBalCopy1,a=void 0===t?0:t,n=e.thenTotalAmntBal,i=void 0===n?0:n;this.cashInfo.tdAmount;i||(i=0),this.dealerInfo.thenAmntBalCopy1=(0,q.toFixed)(a),this.dealerInfo.thenTotalAmntBal=(0,q.toFixed)(i),this.dealerInfo.tdAmountCopy1=(0,q.toFixed)(i),this.dealerInfo.differenceAmount=(0,q.toFixed)((0,Y.accAdd)(a,i)),this.cashInfo.tdAmount=(0,q.toFixed)(i)},hasDraftData:function(){return(0,r.default)({},"JKYBYJ_DATA",{dealerInfo:this.dealerInfo,cashInfo:this.contactInfo,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("JKYBYJ_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.cashInfo=t.cashInfo,sessionStorage.removeItem("JKYBYJ_DATA")}}}},jBKy:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2239,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_outPutMatCode"},{name:"往来名称",value:"dealerName_dealerDebit"}]}},mixins:[i.default],methods:{},created:function(){}}},jEax:function(e,t,a){"use strict";function n(e){a("HgcR")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("OFAD");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Rozl"),o=a.n(s),l=a("w/hL"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-00940f6d",null);t.default=c.exports},jICf:function(e,t){},jIlA:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MjAd"),r=n(i),s=(a("vS5q"),a("4bt0")),o=n(s);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2550,chartShow:!1,hasNext:!0,scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0},sortList:[{name:"交易号",key:"transCode"},{name:"修改时间",key:"modTime"},{name:"客户名称",key:"dealerName"}]}},components:{ApplyChart:o.default},mixins:[r.default]}},jKAT:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("HzJ8"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("PKHo"),f=n(c),m=a("zWMP"),h=a("BUFe"),v=n(h),p=a("AupE"),C=n(p),y=a("sUbJ"),_=n(y),g=a("FlCz"),b=n(g),w=a("d7ck"),I=n(w),x=a("MVgC"),D=n(x);t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",orderList:{},basicInfo:{},DuplicateBoms:[],UniqueBom:[],bomPopShow:!1,bom:{}}},mixins:[u.default,f.default],components:{workFlow:C.default,RAction:v.default,MatterItem:_.default,BomList:b.default,FormCell:I.default,BomPop:D.default},methods:{checkBom:function(e){this.bom=e,this.bomPopShow=!0},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u={};s.order;e.attachment=d;var c=s.order.dataSet,f=!0,m=!1,h=void 0;try{for(var v,p=(0,o.default)(c);!(f=(v=p.next()).done);f=!0){var C=v.value;if(C.inventoryPic=C.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+C.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),C.shippingTime=e.changeDate(C.shippingTime),C.boms){var y=!0,_=!1,g=void 0;try{for(var b,w=(0,o.default)(C.boms);!(y=(b=w.next()).done);y=!0){var I=b.value;I.inventoryCode=I.transObjCode}}catch(e){_=!0,g=e}finally{try{!y&&w.return&&w.return()}finally{if(_)throw g}}}C.boms&&(e.DuplicateBoms=e.DuplicateBoms.concat(JSON.parse((0,r.default)(C.boms)))),u[C.transMatchedCode]||(u[C.transMatchedCode]=[]),u[C.transMatchedCode].push(C)}}catch(e){m=!0,h=e}finally{try{!f&&p.return&&p.return()}finally{if(m)throw h}}e.mergeBomList(),e.orderList=u,e.orderInfo=s,e.workFlowInfoHandler()})},mergeBomList:function(){var e=function(e,t){return e.inventoryCode===t.inventoryCode};this.UniqueBom=function(t){return t.reduce(function(t,a){return t.some(function(t){var n=e(t,a);return n&&(t.tdQty=(0,m.accAdd)(t.tdQty,a.tdQty)),n})||t.push(a),t},[])}(this.DuplicateBoms)}}}},jLp1:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getProjectBotTask=t.findConclusion=t.getSalesOutStockProject=t.getProjectPlanList=t.getProjectList=t.getProjectTodoTask=t.getProjectApproval=t.getProjectPlanProjectName=t.findProjectConclusion=t.updateProjectConclusion=t.saveProjectConclusion=t.findProjectTask=t.updateProjectTask=t.saveProjectTask=t.findProjectPlan=t.updateProjectPlan=t.saveProjectPlan=t.findProjectApproval=t.updateProjectApproval=t.saveProjectApproval=void 0;var i=a("4YfN"),r=n(i),s=a("GOq4"),o=n(s);t.saveProjectApproval=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.post({url:"/H_roleplay-si/projectApproval/save",data:e})},t.updateProjectApproval=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.post({url:"/H_roleplay-si/projectApproval/save",data:e})},t.findProjectApproval=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return o.default.ajax({url:"/H_roleplay-si/projectApproval/findData",data:{transCode:e}})},t.saveProjectPlan=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.post({url:"/H_roleplay-si/projectPlan/save",data:e})},t.updateProjectPlan=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.post({url:"/H_roleplay-si/projectPlan/update",data:e})},t.findProjectPlan=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return o.default.ajax({url:"/H_roleplay-si/projectPlan/findData",data:{transCode:e}})},t.saveProjectTask=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.post({url:"/H_roleplay-si/projectTask/save",data:e})},t.updateProjectTask=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.post({url:"/H_roleplay-si/projectTask/update",data:e})},t.findProjectTask=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return o.default.ajax({url:"/H_roleplay-si/projectTask/findData",data:{transCode:e}})},t.saveProjectConclusion=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.post({url:"/H_roleplay-si/projectConclusion/save",data:e})},t.updateProjectConclusion=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.post({url:"/H_roleplay-si/projectConclusion/update",data:e})},t.findProjectConclusion=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return o.default.ajax({url:"/H_roleplay-si/projectConclusion/findData",data:{transCode:e}})},t.getProjectPlanProjectName=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getProjectPlanProjectName",data:(0,r.default)({_dc:Date.now(),page:1,start:0,limit:1e4},e)})},t.getProjectApproval=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getProjectApprovalAll",data:(0,r.default)({_dc:Date.now()},e)})},t.getProjectTodoTask=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getProjectTodoTask",data:(0,r.default)({_dc:Date.now(),page:1,start:0,limit:100},e)})},t.getProjectList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getProjectApproval",data:e})},t.getProjectPlanList=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.ajax({url:"/H_roleplay-si/mobile/getProjectPlan/"+e,data:(0,r.default)({_dc:Date.now()},t)})},t.getSalesOutStockProject=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getSalesOutStockProject",data:(0,r.default)({_dc:Date.now()},e)})},t.findConclusion=function(e){return o.default.ajax({url:"/H_roleplay-si/projectConclusion/findConclusion",data:{_dc:Date.now(),projectName:e}})},t.getProjectBotTask=function(e){return o.default.ajax({url:"/H_roleplay-si/ds/getProjectBotTask",data:(0,r.default)({_dc:Date.now()},e)})};t.default={}},jO70:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("J0Oq"),o=n(s),l=a("4YfN"),d=n(l),u=a("a3Yh"),c=n(u),f=a("3cXf"),m=n(f),h=a("z5TY"),v=n(h),p=a("SAzG"),C=n(p),y=a("PzEQ"),_=n(y),g=a("u28h"),b=n(g),w=a("0AQX"),I=a("HyXB"),x=a("bKg5"),D=n(x),P=a("9cRV"),S=n(P),k=a("luHD"),L=n(k),N=a("vl8n"),M=n(N),T=a("+WR7"),A=n(T),O=a("zWMP");a("Qg39");t.default={components:{PopMatterList:S.default,XTextarea:_.default,Group:v.default,XInput:C.default,PopMatter:L.default,RPicker:M.default,Datetime:b.default,PopBaseinfo:A.default},data:function(){return{matterList:[],showMaterielPop:!1,formData:{creator:"",modifer:"",biId:"",biComment:""},applyComment:"",numMap:{},taxRate:0,checkFieldList:[{key:"tdQty",message:"请填写数量"}]}},mixins:[D.default],computed:{totalNum:function(){var e=0;return this.matterList.forEach(function(t){e=(0,O.accAdd)(e,t.tdQty)}),Number(e)}},methods:{selMatter:function(e){var t=JSON.parse(e);t.map(function(e){e.tdQty=e.tdQty||""}),this.matterList=t},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this,t="",a=[];if(0===this.matterList.length&&(t="请选择物料"),t||this.matterList.every(function(e){return e.tdQty?(a.push({tdId:e.tdId||"",inventoryName_transObjCode:e.inventoryName,transObjCode:e.inventoryCode,tdProcessing:e.processing,assMeasureUnit:e.assMeasureUnit||null,assMeasureScale:e.assMeasureScale||null,assistQty:e.assistQty||0,tdQty:e.tdQty,comment:e.comment||"",promDeliTime:e.promDeliTime}),!0):(t="请填写数量",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=I.saveAndStartWf,n=(0,c.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.biComment,formData:(0,m.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,order:{dataSet:a}})),wfPara:(0,m.default)(n)};e.isResubmit&&(t=I.saveAndCommitTask,i.biReferenceId=e.biReferenceId),e.processCode.length||(t=I.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,o.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,w.getSOList)({formViewUniqueId:e.uniqueId,transCode:e.transCode}).then(function(t){e.listId=t.listId,e.applyComment=t.biComment,e.biReferenceId=t.biReferenceId,e.biComment=t.biComment;var a=t.formData;a.order.dataSet.map(function(t){t=(0,d.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,inventoryType:t.inventoryType_transObjCode,inventorySubclass:t.inventorySubclass_transObjCode}),e.matterList.push(t)}),e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),e.attachment=t.attachment,e.$loading.hide()});case 2:case"end":return t.stop()}},t,e)}))()},hasDraftData:function(){return!!this.matterList.length&&(0,c.default)({},"BHDD_DATA",{matter:this.matterList,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("BHDD_DATA");e&&(this.matterList=JSON.parse(e).matter,this.formData=JSON.parse(e).formData,sessionStorage.removeItem("BHDD_DATA"))}}},jWeF:function(e,t){},jWvC:function(e,t){},jZUV:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{staticClass:"list_top"},[a("search",{staticClass:"search",on:{search:e.searchList}})],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"each_task",on:{click:function(a){e.goDetail(t,n)}}},[a("div",{staticClass:"todo_msg",class:{visited:t.visited}},[a("div",{staticClass:"msg_top"},[a("div",{staticClass:"work_info"},[a("span",{staticClass:"work_status doing_work"},[e._v(e._s(t.status))]),e._v(" "),a("span",{staticClass:"work_code doing_code"},[e._v(e._s(t.transCode))])]),e._v(" "),a("div",{staticClass:"time"},[e._v("\n              "+e._s(e._f("handleCrt")(t))+"\n            ")])]),e._v(" "),a("div",{staticClass:"handle_info vux-1px-b"},[a("div",{staticClass:"handle_avatar"},[a("img",{attrs:{src:t.lastNode.photoUrl||e.DefaultImg,alt:"avatar"}})]),e._v(" "),a("div",{staticClass:"info"},[a("div",{staticClass:"handle_part"},[a("span",{staticClass:"name"},[e._v(e._s(t.lastNode.userName))]),e._v(" "),a("span",{staticClass:"handle"},[e._v("进行了操作")]),e._v(" "),a("span",{staticClass:"tips"},[e._v("[上个节点]")])]),e._v(" "),a("div",{staticClass:"handle_result"},[a("span",[e._v("操作动作:")]),e._v(" "),a("span",{staticClass:"result",class:{reject_c:"同意"===t.lastNode.status||"提交"===t.lastNode.status}},[e._v("\n                  "+e._s(t.lastNode.status)+"\n                ")])])])]),e._v(" "),a("div",{staticClass:"user_handle"},[a("div",{staticClass:"tips"},[e._v("此单你需要进行:")]),e._v(" "),a("div",{staticClass:"info"},[e._v(e._s(t.nodeName))])])])])}),0),e._v(" "),a("router-view")],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},jhIa:function(e,t){},jnZd:function(e,t,a){"use strict";function n(e){a("yS+Q")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("JOdt");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("HpO8"),o=a.n(s),l=a("GRe5"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},jrYp:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("gTYh"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"group",methods:{cleanStyle:i.default},props:{title:String,titleColor:String,labelWidth:String,labelAlign:String,labelMarginRight:String,gutter:[String,Number],footerTitle:String,footerTitleColor:String}}},juMk:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("IhpF"),o=n(s),l=a("kNGm"),d=n(l),u=a("iR2W"),c=n(u),f=a("vS5q"),m=a("Qg39"),h=a("/MtV");a("B6iy"),a("cfw3"),a("vfE7"),a("qYjU"),a("B6j4");var v=function(e,t,a){var n="",i=e.length,r=a,s=Math.ceil(i/r);if(i>r)for(var o=0;o<s;o++){var l="",d=o*r,u=d+r;l=o==s-1?e.substring(d,i):e.substring(d,u)+t,n+=l}else n=e;return n};t.default={data:function(){return{pieOption:{title:{text:"客户交易往来分析",x:"center",top:5},legend:{orient:"vertical",left:"6%",top:"65%",itemGap:10,data:[]},tooltip:{confine:!0,textStyle:{fontSize:12},formatter:function(e){return e.data.name+"<br/>销售额: ￥"+(0,c.default)(e.value)+" ("+e.percent+"%)"}},color:["#07689f","#a2d5f2","#ff7e67","#abedd8","#283c63","#bad7df"],series:[{name:"公司名称",type:"pie",radius:"40%",center:["50%","38%"],data:[],label:{fontSize:12,formatter:function(e){return v(e.data.name,"\n",6)}},labelLine:{}}]},timeFilter:{startDate:"请选择",EndDate:"请选择"},staffRank:[],defaultTips:"",isReset:!1,dateShow:!1,businessAmount:0}},filters:{toFixed:m.toFixed,numberComma:c.default},components:{Countup:o.default},methods:{getStart:function(){var e=this;this.$vux.datetime.show({cancelText:"取消",confirmText:"确定",value:this.timeFilter.startDate,endDate:this.preDate,onConfirm:function(t){e.timeFilter.startDate=t}})},getEnd:function(){var e=this;this.$vux.datetime.show({cancelText:"取消",confirmText:"确定",value:this.timeFilter.EndDate,endDate:this.toDay,onConfirm:function(t){e.timeFilter.EndDate=t}})},resetData:function(){this.timeFilter={startDate:"请选择",EndDate:"请选择"}},confirm:function(){"请选择"!==this.timeFilter.startDate&&"请选择"!==this.timeFilter.EndDate?this.defaultTips=this.timeFilter.startDate+" ~ "+this.timeFilter.EndDate:"请选择"!==this.timeFilter.EndDate?this.defaultTips="截止至 "+this.timeFilter.EndDate:"请选择"!==this.timeFilter.startDate?this.defaultTips=this.timeFilter.startDate+" ~ "+this.toDay+" [今日]":this.defaultTips="截止至 "+this.toDay,this.dateShow=!1;var e={startData:"请选择"===this.timeFilter.startDate?"":this.timeFilter.startDate,endData:"请选择"===this.timeFilter.EndDate?"":this.timeFilter.EndDate};this.dashboardData(e)},dashboardData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,f.getDashboard)(t).then(function(t){var a=t.total,n=void 0===a?0:a,i=t.dealerPie,s=(t.productSalesRanking,t.salesmanRanking),o=h.init(document.getElementById("pie")),l=[];e.staffRank=s;var d=!0,u=!1,c=void 0;try{for(var f,v=(0,r.default)(i);!(d=(f=v.next()).done);d=!0){var p=f.value,C={value:p.total,name:p.dealerName};l.push(C)}}catch(e){u=!0,c=e}finally{try{!d&&v.return&&v.return()}finally{if(u)throw c}}e.businessAmount=(0,m.toFixed)(n),e.$set(e.pieOption.series[0],"data",l),e.$set(e.pieOption.legend,"data",l),o.setOption(e.pieOption)})}},created:function(){this.toDay=(0,d.default)(new Date,"YYYY-MM-DD"),this.preDate=(0,d.default)(new Date((new Date).getTime()-864e5),"YYYY-MM-DD"),this.defaultTips="截止至 "+this.toDay,this.dashboardData()}}},jwT9:function(e,t){},jzM3:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("xZPP"),r=n(i),s=a("St0H"),o=a("803w"),l=n(o),d=a("gTYh"),u=n(d),c=a("FGI+"),f=n(c);t.default={name:"cell",components:{InlineDesc:r.default},props:(0,l.default)(),created:function(){},beforeMount:function(){this.hasTitleSlot=!!this.$slots.title,this.$slots.value},computed:{labelStyles:function(){return(0,u.default)({width:(0,f.default)(this,"labelWidth"),textAlign:(0,f.default)(this,"labelAlign"),marginRight:(0,f.default)(this,"labelMarginRight")})},valueClass:function(){return{"vux-cell-primary":"content"===this.primary||"left"===this.valueAlign,"vux-cell-align-left":"left"===this.valueAlign,"vux-cell-arrow-transition":!!this.arrowDirection,"vux-cell-arrow-up":"up"===this.arrowDirection,"vux-cell-arrow-down":"down"===this.arrowDirection}},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}},style:function(){if(this.alignItems)return{alignItems:this.alignItems}}},methods:{onClick:function(){!this.disabled&&(0,s.go)(this.link,this.$router)}},data:function(){return{hasTitleSlot:!0,hasMounted:!1}}}},"k/5C":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("z5TY"),r=n(i),s=a("BGNQ"),o=n(s);t.default={name:"HGCW_List",data:function(){return{listData:[{title:"利润表",code:"LR"},{title:"资产负债表",code:"ZCFZ"}]}},components:{Cell:o.default,Group:r.default},methods:{goDetail:function(e){var t=this.$route.params,a=t.folder,n=t.fileName;this.$router.push({path:"/detail/"+a+"/"+n,query:{code:e.code,name:e.title}})}},created:function(){this.$loading.hide()}}},"k/UG":function(e,t,a){"use strict";function n(e){a("rKsn")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("fc3g");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("JFKB"),o=a.n(s),l=a("qkn6"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-06f4e6c8",null);t.default=c.exports},k4WU:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("BGNQ"),o=n(s),l=a("z5TY"),d=n(l),u=a("7g+Q"),c=n(u),f=a("SAzG"),m=n(f),h=a("u28h"),v=n(h),p=a("jnZd"),C=n(p),y=a("iR2W"),_=n(y),g=a("kNGm"),b=n(g),w=a("1KNX"),I=n(w),x=a("Qg39"),D=a("zWMP");t.default={name:"MatterPop",filters:{numberComma:_.default},props:{modifyMatter:{type:Object,default:function(){return{}}},showDateTime:{type:Boolean,default:!1},showPop:{type:Boolean,default:!1},btnIsHide:{type:Boolean,default:!1},isCheckStock:{type:Boolean,default:!0},isShowAmount:{type:Boolean,default:!0},dateText:{type:String,default:"预期交货日"},validateMap:{type:Array,default:function(){return[]}},config:{type:Object,default:function(){return{}}}},components:{Cell:o.default,Group:d.default,Popup:c.default,XInput:m.default,Datetime:v.default,RScroll:I.default,PopupPicker:C.default},watch:{showPop:{handler:function(e){this.show=e}},modifyMatter:{handler:function(e){var t=new Date(e.productionDate).getTime();e.validUntil=t?(0,b.default)(t+(0,D.accMul)(e.keepingDays,864e5),"YYYY-MM-DD"):""},deep:!0}},data:function(){return{show:!1,scrollOptions:{click:!0},pickerStyle:{zIndex:550}}},methods:{numberComma:function(e){return e||0===e?(0,_.default)(e):"无"},onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&(e.$refs.bScroll.refresh(),e.$refs.bScroll.scrollTo(0,0)),e.clientHeight=document.documentElement.clientHeight})},onHide:function(){this.$emit("input",!1),this.showPrice=!1,this.currentType="渠道价"},confirm:function(){var e=this,t="";if(this.config.editPart.every(function(a){return!(!a.allowBlank&&(Array.isArray(e.modifyMatter[a.fieldCode])&&!e.modifyMatter[a.fieldCode].length||!e.modifyMatter[a.fieldCode]))||(t=a.text+"不能为空",!1)}),t)return void this.$vux.alert.show({content:t});this.$emit("sel-confirm",(0,r.default)(this.modifyMatter)),this.show=!1},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},checkAmt:function(e,t,a){var n=(e.price,e.tdQty),i=e.taxRate,r=e.qtyBal,s=e.qtyStockBal,o=e.qtyStock,l=e.qtyBalance;e[t]=Math.abs((0,x.toFixed)(a)),n&&this.isCheckStock&&(!s&&!o&&r&&n>r?e.tdQty=r:s&&n>s?e.tdQty=s:o&&n>o?(console.log(o),e.tdQty=o):l&&n>l&&(e.tdQty=l)),i&&(e.taxRate=Math.abs((0,x.toFixed)(i)))},getFocus:function(e){event.currentTarget.select()}}}},kA5c:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2294,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName"}]}},mixins:[i.default],methods:{},created:function(){}}},kCcb:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("BGNQ"),r=n(i),s=a("z5TY"),o=n(s),l=a("kNGm"),d=(n(l),a("0AQX")),u=a("+VRO"),c=n(u),f=(a("Qg39"),a("BUFe")),m=n(f),h=a("AupE"),v=n(h),p=a("bFc7"),C=n(p),y=a("FlCz"),_=n(y),g=a("hPJo"),b=n(g);t.default={data:function(){return{workInfo:{},orderInfo:{},bomList:[],warehouse:{}}},mixins:[c.default],components:{Cell:r.default,Group:o.default,RAction:m.default,workFlow:v.default,contactPart:C.default,BomList:_.default,WarehouseContent:b.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,d.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.attachment,r=void 0===i?[]:i,s=t.formData,o=void 0===s?{}:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var l=o.outPut,d=void 0===l?{}:l,u=d.dataSet,c=void 0===u?[]:u;e.warehouse={warehouseName:d.warehouseName_containerCode,warehouseType:d.warehouseType_containerCode,warehouseAddress:d.warehouseAddress_containerCode},c.forEach(function(e){e.inventoryName=e.inventoryName_outPutMatCode,e.inventoryCode=e.outPutMatCode}),e.bomList=c,e.attachment=r,e.orderInfo=o,e.workInfo=o.order.dataSet[0],e.workFlowInfoHandler()})}}}},kKsb:function(e,t,a){"use strict";function n(e){a("pM28")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lqQX");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("2RZr"),o=a.n(s),l=a("EOEs"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-1e368680",null);t.default=c.exports},kRot:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o),d=a("zWMP"),u=(a("Qg39"),a("BUFe")),c=n(u),f=a("AupE"),m=n(f),h=a("89pA"),v=n(h),p=a("bFc7"),C=n(p),y=a("6WeX"),_=n(y),g=a("hPJo"),b=n(g),w=a("kKsb"),I=n(w),x=a("sUbJ"),D=n(x),P=a("d7ck"),S=n(P);t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"",orderList:{},warehouse:{},dealerInfo:{},basicInfo:{}}},computed:{noTaxAmount:function(){var e=0;return this.orderInfo.outPut.dataSet.forEach(function(t){e=(0,d.accAdd)(e,t.noTaxAmount)}),e},taxAmount:function(){var e=0;return this.orderInfo.outPut.dataSet.forEach(function(t){e=(0,d.accAdd)(e,t.taxAmount)}),e}},mixins:[l.default],components:{workFlow:m.default,RAction:c.default,PopWarehouseList:v.default,contactPart:C.default,PriceTotal:_.default,WarehouseContent:b.default,ProjectPart:I.default,MatterItem:D.default,FormCell:S.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u={},c=s.outPut,f=void 0===c?{}:c;e.attachment=l;var m=s.outPut.dataSet,h=!0,v=!1,p=void 0;try{for(var C,y=(0,r.default)(m);!(h=(C=y.next()).done);h=!0){var _=C.value;e.count=(0,d.accAdd)(e.count,_.tdAmount),_.inventoryPic=_.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),_.inventoryName_transObjCode=_.inventoryName_outPutMatCode,_.transObjCode=_.outPutMatCode,u[_.orderCode]||(u[_.orderCode]=[]),u[_.orderCode].push(_)}}catch(e){v=!0,p=e}finally{try{!h&&y.return&&y.return()}finally{if(v)throw p}}e.orderList=u,e.dealerInfo={creatorName:s.dealerDebitContactPersonName,dealerName:f.dealerName_dealerDebit,dealerMobilePhone:s.dealerDebitContactInformation,dealerContactPersonName:s.dealerDebitContactPersonName,dealerCode:f.dealerDebit,dealerLabelName:f.drDealerLabel,province:f.province_dealerDebit,city:f.city_dealerDebit,county:f.county_dealerDebit,address:f.address_dealerDebit,payment:f.drDealerPaymentTerm,logistics:s.drDealerLogisticsTerms},e.warehouse={warehouseCode:f.containerCodeOut,warehouseName:f.warehouseName_containerCodeOut,warehouseType:f.warehouseType_containerCodeOut,warehouseProvince:f.warehouseProvince_containerCodeOut,warehouseCity:f.warehouseCity_containerCodeOut,warehouseDistrict:f.warehouseDistrict_containerCodeOut,warehouseAddress:f.warehouseAddress_containerCodeOut},e.orderInfo=s,e.workFlowInfoHandler()})}}}},kSDc:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2559,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"客户名称",value:"dealerName_dealerCodeCredit"}]}},mixins:[i.default],methods:{},created:function(){}}},kSI7:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){e&&e.includes("database")&&(e="抱歉，数据似乎出了点问题，请稍后重试"),l.default.show({content:e,onHide:function(){s.default.prototype.$loading.hide(),s.default.prototype.$HandleLoad.hide()}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=a("rudh"),s=n(r),o=a("L6VY"),l=n(o)},"kY/w":function(e,t,a){"use strict";function n(e){a("ScA0")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("SU7p");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("u5b7"),o=a.n(s),l=a("28/3"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-41b83fc2",null);t.default=c.exports},"kZy/":function(e,t,a){"use strict";function n(e){a("leoE")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("G0OA");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Ci8m"),o=a.n(s),l=a("L3x7"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-142c682f",null);t.default=c.exports},kdhw:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("FvvE"),r=(n(i),a("ZTs6"));n(r);t.default={data:function(){return{folder:"",currentComponent:"",isrefresh:!1}},created:function(){var e=this.$route.params,t=e.folder,n=e.fileName;this.folder=t,this.currentComponent=a("88rY")("./"+t+"/"+n+"_List.vue").default},beforeRouteEnter:function(e,t,a){var n=e.query,i=n.name,r=n.transCode;i.includes("合规")&&(e.meta.title=i,a()),e.meta.title=r?"加载中...":i+"列表",a()},activated:function(){var e=this,t=this.$route.meta.reload;if(setTimeout(function(){e.$refs.list.changeVisitedStatus&&e.$refs.list.changeVisitedStatus()}),this.$nextTick(function(){e.$refs.list&&e.$refs.list.$refs.bScroll&&e.$refs.list.$refs.bScroll.refresh()}),t){var n=this.$route.params,i=n.folder,r=n.fileName;this.$loading.show(),i&&(this.folder===i&&this.currentComponent&&this.$refs.list.reloadData(),this.folder=i,this.currentComponent=a("88rY")("./"+i+"/"+r+"_List.vue").default),this.$route.meta.reload=!1}},beforeRouteLeave:function(e,t,a){"/home"===e.path&&(this.$loading.hide(),this.currentComponent=null,t.meta.reload=!0),a()}}},keYS:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("+62G"),v=n(h),p=a("6q39"),C=n(p),y=a("fEP3"),_=a("1KNX"),g=n(_),b=a("7biW"),w=n(b);t.default={name:"PopCompanyList",props:{defaultValue:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1}},directives:{TransferDom:v.default},components:{Icon:c.default,Popup:m.default,RScroll:g.default,DSearch:w.default,LoadMore:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},watch:{defaultValue:function(e){this.setDefaultValue()}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this.getList()},showSelIcon:function(e){return this.selItems.facilityName===e.facilityName},selThis:function(e,t){this.showPop=!1,this.selItems=e,console.log(this.selItems),this.$emit("sel-item",this.selItems)},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"facilityName"}])),(0,y.getObjFacility)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,d.default)(e.listData),(0,d.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.selItems=this.defaultValue?(0,r.default)({},this.defaultValue):{}},itemClick:function(){this.disabled||(this.showPop=!this.showPop)}},created:function(){this.setDefaultValue(),this.disabled||this.getList()}}},kgls:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("YP5q"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"confirm",components:{XDialog:i.default},props:{value:{type:Boolean,default:!1},showInput:{type:Boolean,default:!1},placeholder:{type:String,default:""},theme:{type:String,default:"ios"},hideOnBlur:{type:Boolean,default:!1},title:String,confirmText:String,cancelText:String,maskTransition:{type:String,default:"vux-fade"},maskZIndex:[Number,String],dialogTransition:{type:String,default:"vux-dialog"},content:String,closeOnConfirm:{type:Boolean,default:!0},inputAttrs:Object,showContent:{type:Boolean,default:!0},confirmType:{type:String,default:"primary"}},created:function(){this.showValue=this.show,this.value&&(this.showValue=this.value)},watch:{value:function(e){this.showValue=e},showValue:function(e){var t=this;this.$emit("input",e),e&&(this.showInput&&(this.msg="",setTimeout(function(){t.$refs.input&&t.setInputFocus()},300)),this.$emit("on-show"))}},data:function(){return{msg:"",showValue:!1}},methods:{getInputAttrs:function(){return this.inputAttrs||{type:"text"}},setInputValue:function(e){this.msg=e},setInputFocus:function(e){e&&e.preventDefault(),this.$refs.input.focus()},_onConfirm:function(){this.showValue&&(this.closeOnConfirm&&(this.showValue=!1),this.$emit("on-confirm",this.msg))},_onCancel:function(){this.showValue&&(this.showValue=!1,this.$emit("on-cancel"))}}}},kkCB:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("bFc7"),p=n(v),C=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",contactInfo:{}}},mixins:[u.default],components:{workFlow:h.default,RAction:f.default,contactPart:p.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=!0,i=!1,s=void 0;try{for(var l,d=(0,r.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;e.count=(0,C.accAdd)(e.count,u.tdAmount)}}catch(e){i=!0,s=e}finally{try{!n&&d.return&&d.return()}finally{if(i)throw s}}t.formData.validUntil=(0,o.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData;var c=e.orderInfo.order;e.contactInfo={creatorName:c.dealerDebitContactPersonName,dealerName:c.dealerName_dealerCodeCredit,dealerMobilePhone:t.formData.dealerCreditContactInformation,dealerContactPersonName:t.formData.dealerCreditContactPersonName,dealerCode:c.dealerCodeCredit,dealerLabelName:c.crDealerLabel,province:c.province_dealerCodeCredit,city:c.city_dealerCodeCredit,county:c.county_dealerCodeCredit,address:c.address_dealerCodeCredit},e.workFlowInfoHandler()})}}}},kpbF:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getProfit=t.getOffBalance=t.getViewList=t.getView=t.getListClassfiy=void 0;var i=a("GOq4"),r=n(i),s=a("kSI7"),o=n(s);t.getListClassfiy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.ajax({url:"/H_roleplay-si/ps/account/getEntryView",data:e}).catch(function(e){return(0,o.default)(e)})},t.getView=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.ajax({url:"/account-api/account/getView",data:e}).catch(function(e){return(0,o.default)(e)})},t.getViewList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.ajax({url:"/account-api/account/getView",data:e}).catch(function(e){return(0,o.default)(e)})},t.getOffBalance=function(){return r.default.ajax({url:"/account-api/account/getOffBalanceForMobile"}).catch(function(e){return(0,o.default)(e)})},t.getProfit=function(){return r.default.ajax({url:"/account-api/account/getProfitForMobile"}).catch(function(e){return(0,o.default)(e)})};t.default={}},kqyU:function(e,t){},kriB:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["-moz-box-","-webkit-box-",""];t.default={name:"flexbox-item",props:{span:[Number,String],order:[Number,String]},beforeMount:function(){this.bodyWidth=document.documentElement.offsetWidth},methods:{buildWidth:function(e){return"number"==typeof e?e<1?e:e/12:"string"==typeof e?e.replace("px","")/this.bodyWidth:void 0}},computed:{style:function(){var e={},t="horizontal"===this.$parent.orient?"marginLeft":"marginTop";if(1*this.$parent.gutter!=0&&(e[t]=this.$parent.gutter+"px"),this.span)for(var a=0;a<n.length;a++)e[n[a]+"flex"]="0 0 "+100*this.buildWidth(this.span)+"%";return void 0!==this.order&&(e.order=this.order),e}},data:function(){return{bodyWidth:0}}}},ksvY:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("4YfN"),o=n(s),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("6q39"),v=n(h),p=a("fEP3"),C=a("1KNX"),y=n(C),_=a("7biW"),g=n(_);a("zWMP");t.default={name:"work-list-pop",props:{show:{type:Boolean,default:!1},params:{type:Object,default:function(){return{calc_rel_code:7051,view_id:"view_94"}}},workType:{type:String,default:"派工"}},components:{Icon:c.default,Popup:m.default,LoadMore:v.default,RScroll:y.default,MSearch:g.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],scrollOptions:{click:!0},btnText:"关闭",filterList:[{name:"成品名称",value:"inventoryName"},{name:"工序名称",value:"procedureName"}],filterProperty:"",taskWorkList:{}}},watch:{show:{handler:function(e){this.showPop=e}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){var t=!1;return this.selItems&&this.selItems.every(function(a){return a.orderCode&&e.matCode===a.matCode&&e.transCode===a.transCode&&e.orderCode===a.orderCode?(t=!0,!1):!(!a.orderCode&&e.matCode===a.matCode&&e.transCode===a.transCode)||(t=!0,!1)}),t&&(this.btnText="发起工单"+this.workType),t},selThis:function(e,t){var a=this.selItems,n=a.findIndex(function(t){return t.transCode===e.transCode&&t.matCode===e.matCode});if(e.orderCode&&(n=a.findIndex(function(t){return t.transCode===e.transCode&&t.matCode===e.matCode&&t.orderCode===e.orderCode})),-1!==n)return a.splice(n,1),void(a.length||(this.btnText="关闭"));this.selItems=[e]},getWorkOrderTask:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getTaskWorkList)((0,o.default)({},this.params,{filter:(0,r.default)(t)})).then(function(t){var a=t.data,n=void 0===a?[]:a;e.taskWorkList=n})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.taskWorkList={},this.$refs.bScroll.scrollTo(0,0),this.getWorkOrderTask()},btnHandle:function(){"关闭"!==this.btnText&&this.$emit("sel-task",this.selItems),this.showPop=!1}},created:function(){this.getWorkOrderTask()}}},ku52:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["微笑","撇嘴","色","发呆","得意","流泪","害羞","闭嘴","睡","大哭","尴尬","发怒","调皮","呲牙","惊讶","难过","酷","冷汗","抓狂","吐","偷笑","可爱","白眼","傲慢","饥饿","困","惊恐","流汗","憨笑","大兵","奋斗","咒骂","疑问","嘘","晕","折磨","衰","骷髅","敲打","再见","擦汗","抠鼻","鼓掌","糗大了","坏笑","左哼哼","右哼哼","哈欠","鄙视","委屈","快哭了","阴险","亲亲","吓","可怜","菜刀","西瓜","啤酒","篮球","乒乓","咖啡","饭","猪头","玫瑰","凋谢","示爱","爱心","心碎","蛋糕","闪电","炸弹","刀","足球","瓢虫","便便","月亮","太阳","礼物","拥抱","强","弱","握手","胜利","抱拳","勾引","拳头","差劲","爱你","NO","OK","爱情","飞吻","跳跳","发抖","怄火","转圈","磕头","回头","跳绳","挥手","激动","街舞","献吻","左太极","右太极"];t.default={name:"wechat-emotion",mounted:function(){var e=this,t=this.$el.innerHTML;this.index=n.indexOf(t),this.backgroundPositionX=24*-this.index;var a="";a=this.isGif?'<img src="https://res.wx.qq.com/mpres/htmledition/images/icon/emotion/'+this.index+'.gif">':'<span class="vux-static-emotion" style="background:url(https://res.wx.qq.com/mpres/htmledition/images/icon/emotion/default218877.gif) '+this.backgroundPositionX+'px 0;"></span>',this.$nextTick(function(){e.$el.innerHTML=a})},props:{isGif:Boolean},data:function(){return{src:"",backgroundPositionX:0}}}},l5aY:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("IhpF"),o=n(s),l=a("kNGm"),d=n(l),u=a("iR2W"),c=n(u),f=a("vS5q"),m=a("Qg39"),h=a("/MtV");a("B6iy"),a("cfw3"),a("vfE7"),a("qYjU"),a("B6j4");var v=function(e,t,a){var n="",i=e.length,r=a,s=Math.ceil(i/r);if(i>r)for(var o=0;o<s;o++){var l="",d=o*r,u=d+r;l=o==s-1?e.substring(d,i):e.substring(d,u)+t,n+=l}else n=e;return n};t.default={data:function(){return{pieOption:{title:{text:"客户交易往来分析",x:"center",top:5},legend:{orient:"vertical",left:"6%",top:"65%",itemGap:10,data:[]},tooltip:{confine:!0,textStyle:{fontSize:12},formatter:function(e){return e.data.name+"<br/>销售额: ￥"+(0,c.default)(e.value)+" ("+e.percent+"%)"}},color:["#07689f","#a2d5f2","#ff7e67","#abedd8","#283c63","#bad7df"],series:[{name:"公司名称",type:"pie",radius:"40%",center:["50%","38%"],data:[],label:{fontSize:12,formatter:function(e){return v(e.data.name,"\n",6)}},labelLine:{}}]},timeFilter:{startDate:"请选择",EndDate:"请选择"},staffRank:[],defaultTips:"",isReset:!1,dateShow:!1,businessAmount:0}},filters:{toFixed:m.toFixed,numberComma:c.default},components:{Countup:o.default},methods:{getStart:function(){var e=this;this.$vux.datetime.show({cancelText:"取消",confirmText:"确定",value:this.timeFilter.startDate,endDate:this.preDate,onConfirm:function(t){e.timeFilter.startDate=t}})},getEnd:function(){var e=this;this.$vux.datetime.show({cancelText:"取消",confirmText:"确定",value:this.timeFilter.EndDate,endDate:this.toDay,onConfirm:function(t){e.timeFilter.EndDate=t}})},resetData:function(){this.timeFilter={startDate:"请选择",EndDate:"请选择"}},confirm:function(){"请选择"!==this.timeFilter.startDate&&"请选择"!==this.timeFilter.EndDate?this.defaultTips=this.timeFilter.startDate+" ~ "+this.timeFilter.EndDate:"请选择"!==this.timeFilter.EndDate?this.defaultTips="截止至 "+this.timeFilter.EndDate:"请选择"!==this.timeFilter.startDate?this.defaultTips=this.timeFilter.startDate+" ~ "+this.toDay+" [今日]":this.defaultTips="截止至 "+this.toDay,this.dateShow=!1;var e={startData:"请选择"===this.timeFilter.startDate?"":this.timeFilter.startDate,endData:"请选择"===this.timeFilter.EndDate?"":this.timeFilter.EndDate};this.dashboardData(e)},dashboardData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,f.getDashboard)(t).then(function(t){var a=t.total,n=void 0===a?0:a,i=t.dealerPie,s=(t.productSalesRanking,t.salesmanRanking),o=h.init(document.getElementById("pie")),l=[];e.staffRank=s;var d=!0,u=!1,c=void 0;try{for(var f,v=(0,r.default)(i);!(d=(f=v.next()).done);d=!0){var p=f.value,C={value:p.total,name:p.dealerName};l.push(C)}}catch(e){u=!0,c=e}finally{try{!d&&v.return&&v.return()}finally{if(u)throw c}}e.businessAmount=(0,m.toFixed)(n),e.$set(e.pieOption.series[0],"data",l),e.$set(e.pieOption.legend,"data",l),o.setOption(e.pieOption)})}},created:function(){this.toDay=(0,d.default)(new Date,"YYYY-MM-DD"),this.preDate=(0,d.default)(new Date((new Date).getTime()-864e5),"YYYY-MM-DD"),this.defaultTips="截止至 "+this.toDay,this.dashboardData()}}},l7FO:function(e,t,a){"use strict";function n(e){a("VNOa")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Wg9S");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("ZzL0"),o=a.n(s),l=a("m0Rf"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-88eb62ea",null);t.default=c.exports},l8j0:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("ZLEe"),r=n(i),s=a("DEQU"),o=n(s),l=a("HXPS"),d=n(l),u=a("UwQd"),c=n(u),f=a("xZPP"),m=n(f),h=a("Bv05"),v=n(h),p=a("BzUK"),C=n(p),y=a("cEbJ"),_=n(y),g=a("IFIB"),b=n(g),w={email:{fn:v.default,msg:"邮箱格式"},"china-mobile":{fn:function(e){return(0,C.default)(e,"zh-CN")},msg:"手机号码"},"china-name":{fn:function(e){return e.length>=2&&e.length<=6},msg:"中文姓名"}};t.default={name:"x-input",created:function(){var e=this;this.currentValue=void 0===this.value||null===this.value?"":this.mask?this.maskValue(this.value):this.value,!this.required||void 0!==this.currentValue&&""!==this.currentValue||(this.valid=!1),this.handleChangeEvent=!0,this.debounce&&(this._debounce=(0,_.default)(function(){e.$emit("on-change",e.currentValue)},this.debounce))},beforeMount:function(){this.$slots&&this.$slots["restricted-label"]&&(this.hasRestrictedLabel=!0),this.$slots&&this.$slots["right-full-height"]&&(this.hasRightFullHeightSlot=!0)},beforeDestroy:function(){this._debounce&&this._debounce.cancel(),window.removeEventListener("resize",this.scrollIntoView)},mixins:[o.default],components:{Icon:d.default,InlineDesc:m.default,Toast:c.default},props:{title:{type:String,default:""},type:{type:String,default:"text"},placeholder:String,value:[String,Number],name:String,readonly:Boolean,disabled:Boolean,keyboard:String,inlineDesc:String,isType:[String,Function],min:Number,max:Number,showClear:{type:Boolean,default:!0},equalWith:String,textAlign:String,autocomplete:{type:String,default:"off"},autocapitalize:{type:String,default:"off"},autocorrect:{type:String,default:"off"},spellcheck:{type:String,default:"false"},novalidate:{type:Boolean,default:!1},iconType:String,debounce:Number,placeholderAlign:String,labelWidth:String,mask:String,shouldToastError:{type:Boolean,default:!0}},computed:{labelStyles:function(){return{width:this.labelWidthComputed||this.$parent.labelWidth||this.labelWidthComputed,textAlign:this.$parent.labelAlign,marginRight:this.$parent.labelMarginRight}},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}},pattern:function(){if("number"===this.keyboard||"china-mobile"===this.isType)return"[0-9]*"},labelWidthComputed:function(){var e=this.title.replace(/[^x00-xff]/g,"00").length/2+1;if(e<10)return e+"em"},hasErrors:function(){return(0,r.default)(this.errors).length>0},inputStyle:function(){if(this.textAlign)return{textAlign:this.textAlign}},showWarn:function(){return!this.novalidate&&!this.equalWith&&!this.valid&&this.firstError&&(this.touched||this.forceShowError)}},mounted:function(){window.addEventListener("resize",this.scrollIntoView)},methods:{scrollIntoView:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;setTimeout(function(){"INPUT"!==document.activeElement.tagName&&"TEXTAREA"!==document.activeElement.tagName||setTimeout(function(){document.activeElement.scrollIntoViewIfNeeded()},e)})},onClickErrorIcon:function(){this.shouldToastError&&this.firstError&&(this.showErrorToast=!0),this.$emit("on-click-error-icon",this.firstError)},maskValue:function(e){return this.mask?b.default.toPattern(e,this.mask):e},reset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.dirty=!1,this.currentValue=e,this.firstError="",this.valid=!0},clear:function(){this.currentValue="",this.focus(),this.$emit("on-click-clear-icon")},focus:function(){this.$refs.input.focus()},blur:function(){this.$refs.input.blur()},focusHandler:function(e){this.$emit("on-focus",this.currentValue,e),this.isFocus=!0,this.scrollIntoView(500)},onBlur:function(e){this.setTouched(),this.validate(),this.isFocus=!1,this.$emit("on-blur",this.currentValue,e)},onKeyUp:function(e){"Enter"===e.key&&(e.target.blur(),this.$emit("on-enter",this.currentValue,e))},getError:function(){var e=(0,r.default)(this.errors)[0];this.firstError=this.errors[e]},validate:function(){if(void 0!==this.equalWith)return void this.validateEqual();if(this.errors={},!this.currentValue&&!this.required)return void(this.valid=!0);if(!this.currentValue&&this.required)return this.valid=!1,this.errors.required="必填哦",void this.getError();if("string"==typeof this.isType){var e=w[this.isType];if(e){var t=this.currentValue;if("china-mobile"===this.isType&&"999 9999 9999"===this.mask&&(t=this.currentValue.replace(/\s+/g,"")),this.valid=e.fn(t),!this.valid)return this.forceShowError=!0,this.errors.format=e.msg+"格式不对哦~",void this.getError();delete this.errors.format}}if("function"==typeof this.isType){var a=this.isType(this.currentValue);if(this.valid=a.valid,!this.valid)return this.errors.format=a.msg,this.forceShowError=!0,void this.getError();delete this.errors.format}if(this.min){if(this.currentValue.length<this.min)return this.errors.min="最少应该输入"+this.min+"个字符哦",this.valid=!1,void this.getError();delete this.errors.min}if(this.max){if(this.currentValue.length>this.max)return this.errors.max="最多可以输入"+this.max+"个字符哦",this.valid=!1,void(this.forceShowError=!0);this.forceShowError=!1,delete this.errors.max}this.valid=!0},validateEqual:function(){return!this.equalWith&&this.currentValue?(this.valid=!1,void(this.errors.equal="输入不一致")):(this.dirty||this.currentValue.length>=this.equalWith.length)&&this.currentValue!==this.equalWith?(this.valid=!1,void(this.errors.equal="输入不一致")):void(!this.currentValue&&this.required?this.valid=!1:(this.valid=!0,delete this.errors.equal))}},data:function(){return{hasRightFullHeightSlot:!1,hasRestrictedLabel:!1,firstError:"",forceShowError:!1,hasLengthEqual:!1,valid:!0,currentValue:"",showErrorToast:!1,isFocus:!1}},watch:{mask:function(e){e&&this.currentValue&&(this.currentValue=this.maskValue(this.currentValue))},valid:function(){this.getError()},value:function(e){this.currentValue=e},equalWith:function(e){e&&this.equalWith?(e.length===this.equalWith.length&&(this.hasLengthEqual=!0),this.validateEqual()):this.validate()},currentValue:function(e){!this.equalWith&&e&&this.validateEqual(),e&&this.equalWith?(e.length===this.equalWith.length&&(this.hasLengthEqual=!0),this.validateEqual()):this.validate(),this.$emit("input",this.maskValue(e)),this._debounce?this._debounce():this.$emit("on-change",e)}}}},lHQV:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages xsbj-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,"default-contact":e.contactInfo},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("pop-single-select",{attrs:{title:"结算方式",data:e.transMode,value:e.dealerInfo.paymentTerm},model:{value:e.dealerInfo.paymentTerm,callback:function(t){e.$set(e.dealerInfo,"paymentTerm",t)},expression:"dealerInfo.paymentTerm"}}),e._v(" "),a("pop-single-select",{attrs:{title:"物流条款",data:e.logisticsTerm,value:e.dealerInfo.dealerLogisticsTerms},model:{value:e.dealerInfo.dealerLogisticsTerms,callback:function(t){e.$set(e.dealerInfo,"dealerLogisticsTerms",t)},expression:"dealerInfo.dealerLogisticsTerms"}}),e._v(" "),a("r-date",{attrs:{title:"有效期至",placeholder:"请选择","start-date":""+new Date,value:e.formData.validUntil},model:{value:e.formData.validUntil,callback:function(t){e.$set(e.formData,"validUntil",t)},expression:"formData.validUntil"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[e.matterList.length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v("物料列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.matterList,function(t,n){return a("div",{key:n,staticClass:"each_mater",class:{mater_delete:e.matterModifyClass,"vux-1px-b":n<e.matterList.length-1}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass},on:{"on-modify":function(a){e.modifyMatter(t,n)}},nativeOn:{click:function(a){e.delClick(n,t)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_more"},[a("span",{staticClass:"processing"},[e._v("属性: "+e._s(n.processing))]),e._v(" "),a("span",{staticClass:"unit"},[e._v("单位: "+e._s(n.measureUnit))]),e._v(" "),a("span",{staticClass:"unit"},[e._v("辅助计量: "+e._s(n.assMeasureUnit))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.taxRate,expression:"item.taxRate"}]},[e._v("税率: "+e._s(n.taxRate))])]),e._v(" "),a("div",{staticClass:"mater_more"},[a("span",{staticClass:"unit"},[e._v("辅助计量说明: "+e._s(n.assMeasureDescription))])]),e._v(" "),n.price&&n.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price)+"\n                    ")]),e._v(" "),a("r-number",{attrs:{num:n.tdQty,min:Number(n.qtyDownline),max:Number(n.qtyOnline),checkAmt:e.checkQty},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",t)},expression:"item.tdQty"}})],1):e._e()]}},{key:"editPart",fn:function(t){var i=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:i.price&&i.tdQty&&!e.matterModifyClass,expression:"(item.price && item.tdQty) &&!matterModifyClass"}],staticClass:"edit-part vux-1px-l",on:{click:function(t){e.modifyMatter(i,n)}}},[a("span",{staticClass:"iconfont icon-bianji1"})])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(n,t)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)}),0)]:[a("div",{on:{click:function(t){e.showMaterielPop=!e.showMaterielPop}}},[a("div",{staticClass:"title"},[e._v("物料列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择物料")]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part vx-1px-t"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),e.matterList.length?a("span",{staticClass:"add_more",on:{click:e.addMatter}},[e._v("新增更多物料")]):e._e()]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showMaterielPop,"default-value":e.matterList},on:{"sel-matter":e.selMatter},model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}})],2),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide},on:{"sel-confirm":e.selConfirm},scopedSlots:e._u([{key:"qtyBal",fn:function(t){var n=t.modifyMatter;return[a("div",[a("span",[e._v("标准价格: "+e._s(n.standardPrice))]),e._v(" "),a("span",[e._v("特批底价: "+e._s(n.specialReservePrice))])]),e._v(" "),a("div",[a("span",[e._v("最大需求数量: "+e._s(n.qtyOnline))]),e._v(" "),a("span",[e._v("最小需求数量: "+e._s(n.qtyDownline))])])]}},{key:"modify",fn:function(t){var n=t.modifyMatter;return[a("x-input",{attrs:{type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkQty(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",e._n(t))},expression:"modifyMatter.tdQty"}},[a("span",{staticClass:"required",attrs:{slot:"label"},slot:"label"},[e._v("需求数量")])]),e._v(" "),a("cell",{attrs:{title:"包装数量",value:n.assistQty}}),e._v(" "),a("x-input",{attrs:{type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.price,callback:function(t){e.$set(n,"price",e._n(t))},expression:"modifyMatter.price"}},[a("span",{staticClass:"required",attrs:{slot:"label"},slot:"label"},[e._v("本次报价")])]),e._v(" "),a("x-input",{attrs:{type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkRate(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.taxRate,callback:function(t){e.$set(n,"taxRate",e._n(t))},expression:"modifyMatter.taxRate"}},[a("span",{staticClass:"required",attrs:{slot:"label"},slot:"label"},[e._v("税率")])]),e._v(" "),a("cell",{attrs:{title:"不含税单价",value:n.noTaxPrice}})]}}]),model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num",class:{nine_up:e.tdAmount.length>8,ten_up:e.tdAmount.length>9,ele_up:e.tdAmount.length>10}},[a("span",{staticClass:"total_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.tdAmount,3))+"\n      ")]),e._v(" "),a("span",{staticClass:"taxAmount"},[e._v("[含税: ￥"+e._s(e._f("numberComma")(e.taxAmount,3))+"]")])]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.save}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},lI25:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("1WsH"),o=a("vl8n"),l=n(o),d=a("PKHo"),u=n(d);t.default={data:function(){return{jobInfo:{name:"",status:"使用中",type:""},jobType:[{name:"管理类",value:"管理类"},{name:"营销类",value:"营销类"},{name:"技术类",value:"技术类"},{name:"专业类",value:"专业类"},{name:"操作类",value:"操作类",status:"C"}],jobStatus:[{name:"停用",value:"停用"},{name:"未使用",value:"未使用"},{name:"使用中",value:"使用中"},{name:"草稿",value:"草稿"}],jobId:null}},components:{RPicker:l.default},mixins:[u.default],methods:{submit:function(){var e=this;for(var t in this.jobInfo)"string"==typeof this.jobInfo[t]&&this.jobInfo[t].indexOf(" ")>=0&&(this.jobInfo[t]=this.jobInfo[t].replace(/\s/g,""));this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){switch(e.jobInfo.type){case"营销类":e.jobInfo.changeType="Y";break;case"专业类":e.jobInfo.changeType="Z";break;case"技术类":e.jobInfo.changeType="J";break;case"操作类":e.jobInfo.changeType="C";break;case"管理类":e.jobInfo.changeType="M"}switch(e.jobInfo.status){case"使用中":e.jobInfo.changeStatus=1;break;case"未使用":e.jobInfo.changeStatus=2;break;case"草稿":e.jobInfo.changeStatus=3;break;case"停用":e.jobInfo.changeStatus=-1}var t={describe:"",name:e.jobInfo.name,type:e.jobInfo.changeType,status:e.jobInfo.changeStatus};e.jobId?(t.id=e.jobId,(0,s.update)(t).then(function(t){t.success?(e.$emit("change",!0),e.$vux.alert.show({content:"修改成功",onHide:function(){e.$router.go(-1)}})):e.$vux.alert.show({content:t.message})})):(0,s.save)(t).then(function(t){t.id?(e.$emit("change",!0),e.$vux.alert.show({content:"提交成功",onHide:function(){e.$router.go(-1)}})):e.$vux.alert.show({content:t.message})})}})},save:function(){var e=this,t="";if([{key:"name",message:"【职位名称】"},{key:"type",message:"【职位类型】"}].every(function(a){return""!==e.jobInfo[a.key]||(t=a.message+"不能为空",!1)}),t)return void this.$vux.alert.show({content:t});this.submit()},findData:function(){var e=this;return(0,s.getJobList)({filter:(0,r.default)([{operator:"eq",value:this.jobId,property:"id"}])}).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;n.forEach(function(e){switch(e.type){case"Y":e.type="营销类";break;case"Z":e.type="专业类";break;case"J":e.type="技术类";break;case"C":e.type="操作类";break;case"M":e.type="管理类"}switch(e.status){case 1:e.status="使用中";break;case 2:e.status="未使用";break;case 3:e.status="草稿";break;case-1:e.status="停用"}}),e.jobInfo=n[0],e.$loading.hide()}).catch(function(t){e.$loading.hide()})}},created:function(){var e=this;this.$loading.show();var t=this.$route.query;if(t.id)return this.jobId=t.id,void this.findData().then(function(){e.$loading.hide()});t.jobType&&(this.jobInfo.type=t.jobType),this.$loading.hide()}}},lIMF:function(e,t){},lK9Z:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("3cXf"),o=n(s),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("7g+Q"),C=n(p),y=a("PzEQ"),_=n(y),g=a("jnZd"),b=n(g),w=a("u28h"),I=n(w),x=a("kNGm"),D=(n(x),a("0AQX")),P=a("HyXB"),S=(a("jLp1"),a("bKg5")),k=n(S),L=a("55ug"),N=n(L),M=a("vl8n"),T=n(M),A=a("+WR7"),O=n(A),R=a("zWMP"),j=a("Qg39"),B={draftNumber:"",draftType:"",accepter:"",tdAmount:"",deposit:"",draftDate:"",draftDueDate:"",comment:""};t.default={mixins:[k.default],components:{Cell:c.default,Group:m.default,Popup:C.default,XInput:v.default,XTextarea:_.default,PopupPicker:b.default,RPicker:T.default,PopBaseinfo:O.default,PopDealerList:N.default,Datetime:I.default},data:function(){return{listId:"1745ffdd-1b6a-4fe5-9c5b-6e5394bd4faf",biReferenceId:"",selectedCost:[],costIndex:0,transCode:"",formData:{biComment:"",biProcessStatus:""},dealerInfo:{},orderList:[(0,d.default)({},B)],dealerParams:{dealerLabelName:"供应商,经销供应商"},draftTypeList:["银行承兑","商业承兑"]}},computed:{thenTotalAmntBal:function(){var e=0;return this.orderList.forEach(function(t){t.tdAmount&&(e=(0,R.accAdd)(e,t.tdAmount))}),(0,j.toFixed)(e)},tdAmount:function(){var e=0;return this.orderList.forEach(function(t){t.deposit&&(e=(0,R.accAdd)(e,t.deposit))}),(0,j.toFixed)(e)}},methods:{submitOrder:function(){var e=this,t="",a=[],n=[{key:"draftNumber",message:"请输入汇票号"},{key:"draftType",message:"请选择类型"},{key:"accepter",message:"请输入承兑人"},{key:"tdAmount",message:"请输入金额"},{key:"deposit",message:"请输入保证金"},{key:"draftDate",message:"请选择出票日"},{key:"draftDueDate",message:"请选择到期日"}];if(this.dealerInfo.dealerCode||(t="请选择往来"),t||this.orderList.every(function(e){return n.every(function(a){return e[a.key]||0===e[a.key]||(t=a.message),!t}),a.push({tdId:e.tdId||"",draftNumber:e.draftNumber,draftType:e.draftType,accepter:e.accepter,tdAmount:e.tdAmount,deposit:e.deposit,draftDate:e.draftDate,draftDueDate:e.draftDueDate,comment:e.comment}),!t}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=P.saveAndStartWf,n=(0,r.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,o.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.formData.biComment,formData:(0,o.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.formData.handler,modifer:e.formData.handler,order:{dealerName_dealerDebit:e.dealerInfo.dealerName,dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,thenAmntBalCopy2:e.dealerInfo.amntBal,thenAlreadyAmnt:e.thenTotalAmntBal,dataSet:a},outPut:{dataSet:[{fundName_cashOutCode:null,cashOutCode:"",cashType_cashOutCode:"",thenAmntBalCopy1:0,tdAmountCopy1:e.tdAmount}]},inPut:{dataSet:[{fundName_cashInCode:null,cashInCode:"",cashType_cashInCode:"",thenAmntBal:0,tdAmount:e.tdAmount,tdId:""}]}})),wfPara:(0,o.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=P.saveAndCommitTask),e.processCode.length||(t=P.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,D.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.attachment,n=void 0===a?[]:a,i=t.listId,r=void 0===i?"":i,s=(t.biComment,t.biReferenceId),o=void 0===s?"":s,l=t.formData,u=void 0===l?{}:l;e.attachment=n,e.listId=r,e.biReferenceId=o,e.handlerDefault={handler:u.handler,handlerName:u.handlerName,handlerUnit:u.handlerUnit,handlerUnitName:u.handlerUnitName,handlerRole:u.handlerRole,handlerRoleName:u.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:u.biComment,biId:u.biId,biProcessStatus:u.biProcessStatus,creator:u.creator,modifer:u.modifer});var c=u.order,f=void 0===c?{}:c,m=f.dataSet,h=void 0===m?[]:m;e.dealerInfo={dealerName:f.dealerName_dealerDebit,dealerCode:f.dealerDebit,dealerLabelName:f.drDealerLabel,amntBal:f.thenAmntBalCopy2,thenTotalAmntBal:f.thenAlreadyAmnt},e.orderList=h,e.$loading.hide()})},hasDraftData:function(){return!!this.dealerInfo.dealerCode&&(0,r.default)({},"SDCDHP_DATA",{formData:this.formData,dealerInfo:this.dealerInfo,orderList:this.orderList})},getRelationData:function(){},selDealer:function(e){this.dealerInfo=(0,d.default)({},e)},addOrder:function(){this.orderList.push((0,d.default)({},B))},deleteOrder:function(){this.orderList.pop()},checkAmt:function(e,t){switch(e){case"tdAmountCopy1":this.dealerInfo.tdAmountCopy1=(0,j.toFixed)(this.dealerInfo.tdAmountCopy1);break;default:e[t]=(0,j.toFixed)(e[t])}}},created:function(){var e=sessionStorage.getItem("SDCDHP_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.orderList=t.orderList,sessionStorage.removeItem("SDCDHP_DATA")}}}},lNKi:function(e,t){},lOVW:function(e,t,a){"use strict";function n(e){a("vhi9")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("CxQM");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("p/zx"),o=a.n(s),l=a("BH03"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-5a83219e",null);t.default=c.exports},lOZF:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("iR2W"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"OpButton",props:{isModify:{type:Boolean,default:!1},hide:{type:Boolean,default:!1},tdAmount:{type:[String,Number],default:0},taxAmount:{type:[String,Number],default:0},allCheck:{type:Boolean,default:!1}},methods:{checkAll:function(){this.$emit("on-check-all")},submit:function(){this.$emit("on-submit")},deleteItem:function(){this.$emit("on-delete")}},filters:{numberComma:i.default}}},lSBR:function(e,t){},lW8f:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("+62G"),v=n(h),p=a("6q39"),C=n(p),y=a("jnZd"),_=n(y),g=a("HyXB"),b=a("1KNX"),w=n(b),I=a("7biW"),x=n(I);t.default={name:"BaseInfo",props:{defaultValue:{type:Object,default:function(){return{}}},handleOrgList:{type:Array,default:function(){return[]},required:!0},userRoleList:{type:Array,default:function(){return[]},required:!0},isRequired:{type:Boolean,default:!0}},directives:{TransferDom:v.default},components:{Icon:c.default,Popup:m.default,RScroll:w.default,DSearch:x.default,LoadMore:C.default,PopupPicker:_.default},data:function(){return{page:1,limit:50,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},srhInpTx:"",showPop:!1,isSetInitial:!1,selItems:{},currentUser:{},role:[],group:[],listData:[],roleList:[],groupList:[]}},watch:{defaultValue:function(e){this.setDefaultValue()}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},onPullingUp:function(){this.page++,this.getlistUsers()},showSelIcon:function(e){return""+this.selItems.userId==""+e.userId},getDefaultImg:function(e){var t=a("男"===e.gender?"Fuf7":"0gu7");return e&&(e.photo=t),t},changeGroup:function(e){var t=this;this.selItems.handlerUnitName=e[0],this.groupList.forEach(function(a){if(a.name===e[0])return t.selItems.handlerUnit=a.userGroupId,!1});var a={handler:this.selItems.userId,handlerName:this.selItems.nickname,handlerUnit:this.selItems.handlerUnit,handlerUnitName:this.selItems.handlerUnitName,handlerRole:this.selItems.handlerRole,handlerRoleName:this.selItems.handlerRoleName};this.$emit("sel-item",a)},changeRole:function(e){var t=this;this.selItems.handlerRoleName=e[0],this.roleList.forEach(function(a){if(a.name===e[0])return t.selItems.handlerRole=a.userGroupId,!1});var a={handler:this.selItems.userId,handlerName:this.selItems.nickname,handlerUnit:this.selItems.handlerUnit,handlerUnitName:this.selItems.handlerUnitName,handlerRole:this.selItems.handlerRole,handlerRoleName:this.selItems.handlerRoleName};this.$emit("sel-item",a)},selThis:function(e,t){this.isSetInitial=!0,this.showPop=!1,this.selItems=e,this.getNewHandleORG(),this.getNewUserRole()},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getlistUsers()},getlistUsers:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"nickname"}])),(0,g.listUsers)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,d.default)(e.listData),(0,d.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},setDefaultValue:function(){this.selItems=this.defaultValue?(0,r.default)({},this.defaultValue,{userId:this.defaultValue.handler,nickname:this.defaultValue.handlerName}):{},this.group=[this.selItems.handlerUnitName],this.role=[this.selItems.handlerRoleName],this.defaultORG(),this.defaultUserRole()},defaultORG:function(){var e=this;this.groupList=[],this.handleOrgList.forEach(function(t){e.groupList.push((0,r.default)({},t,{name:t.userGroupName,value:t.userGroupName}))})},defaultUserRole:function(){var e=this;this.roleList=[],this.userRoleList.forEach(function(t){e.roleList.push((0,r.default)({},t,{name:t.userGroupName,value:t.userGroupName}))})},getNewHandleORG:function(){var e=this;return(0,g.getGroupByUserId)(this.selItems.userId).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;e.group=[],e.groupList=[],n.forEach(function(t){e.groupList.push((0,r.default)({},t,{name:t.userGroupName,value:t.userGroupName}))}),n.length&&e.isSetInitial&&(e.group=[n[0].userGroupName],e.selItems.handlerUnit=n[0].userGroupId)})},getNewUserRole:function(){var e=this;return(0,g.getRoleByUserId)(this.selItems.userId).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;e.role=[],e.roleList=[],n.forEach(function(t){e.roleList.push((0,r.default)({},t,{name:t.userGroupName,value:t.userGroupName}))}),n.length&&e.isSetInitial&&(e.role=[n[0].userGroupName],e.selItems.handlerRole=n[0].userGroupId)})}},created:function(){this.getlistUsers(),this.setDefaultValue()}}},lY26:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"just-word-item",class:{visited:e.item.visited}},[a("div",{staticClass:"duty_top"},[a("p",{staticClass:"duty_code"},[e._v("\n      "+e._s(e.item.transCode)+"\n      "),e.item.processStatus?a("span",{staticClass:"duty_crt_man"},[e._v(e._s(e.item.processStatus))]):e._e()]),e._v(" "),a("span",{staticClass:"duty_status",class:e.item.statusClass},[e._v(e._s(e.item.statusName))]),e._v(" "),a("i",{staticClass:"iconfont",class:e.item.whichIcon})]),e._v(" "),e.item.dealerName?a("div",{staticClass:"dealer_part"},[a("div",{staticClass:"dealer_name"},[a("span",{staticClass:"iconfont icon-kehu1"}),e._v(e._s(e.item.dealerName)+"\n    ")])]):e._e(),e._v(" "),e.item.opportunityTitle?a("div",{staticClass:"main_container"},[a("div",{staticClass:"content_part"},[e._v(e._s(e.item.opportunityTitle))]),e._v(" "),a("div",{staticClass:"other_info_part"},[a("p",{staticClass:"info_with_comment"},[e._v("内容简介: "+e._s(e.item.comment||"无"))]),e._v(" "),a("p",{staticClass:"info_with_comment"},[e._v("备注: "+e._s(e.item.biComment||"无"))])])]):e._e(),e._v(" "),a("div",{staticClass:"main_container when-is-nodealer"},[e._t("list-item",[e.item.projectType||e.item.projectType_project?a("div",{staticClass:"status_part"},[a("span",{staticClass:"iconfont icon-503020"}),e._v(" "),a("span",{staticClass:"status_name"},[e._v(e._s(e.item.projectType||e.item.projectType_project))])]):e._e(),e._v(" "),a("div",{staticClass:"content_part"},[e._v(e._s(e.item.projectName||e.item.projectName_project))]),e._v(" "),e.item.detailItem.length>1?e._l(e.item.detailItem,function(t,n){return t.taskName?a("div",{key:n,staticClass:"other_info_part"},[a("p",{staticClass:"info_with_comment"},[e._v("任务"+e._s(1+n)+": "+e._s(t.taskName))])]):e._e()}):[e.item.approvalComment_project||e.item.taskComment?a("div",{staticClass:"other_info_part"},[e.item.taskName?a("p",{staticClass:"info_with_comment"},[e._v("任务名称: "+e._s(e.item.taskName))]):e._e(),e._v(" "),e.item.approvalComment_project||e.item.taskComment?a("p",{staticClass:"info_with_comment"},[e._v("说明简介: "+e._s(e.item.approvalComment_project||e.item.taskComment))]):e._e(),e._v(" "),e.item.projectManager_project?a("p",{staticClass:"info_with_comment"},[e._v("项目经理: "+e._s(e.item.projectManager_project))]):e._e(),e._v(" "),e.item.budgetProfitMargin_project?a("p",{staticClass:"info_with_comment"},[e._v("利润率: "+e._s(e._f("percent")(e.item.budgetProfitMargin_project)))]):e._e(),e._v(" "),a("p",{staticClass:"info_with_comment"},[e._v("备注: "+e._s(e.item.biComment||"无"))])]):e._e()]],{item:e.item})],2),e._v(" "),a("div",{staticClass:"order_count"},[e.noCount?e._e():a("div",{staticClass:"money_part"},[e.item.itemCount>1?a("span",{staticClass:"num"},[e._v("共"+e._s(e.item.itemCount)+"笔")]):e._e(),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(e.conutTitle)+":")]),e._v(" "),a("span",{staticClass:"money"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(e.total),3))+"\n      ")])])]),e._v(" "),a("div",{staticClass:"other_part"},[a("p",{staticClass:"duty_time"},[e._v(e._s(e._f("dateFormat")(e.item.modTime))),a("span",{staticStyle:{fontSize:".1rem"}},[e._v("[修改时间]")])]),e._v(" "),a("div",{staticClass:"handle_man"},[e._v("\n      "+e._s(e.item.handlerName)),a("span",{staticStyle:{fontSize:".1rem"}},[e._v("[经办人]")])])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},leoE:function(e,t){},lf2c:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("KH7x"),o=n(s),l=a("3cXf"),d=n(l),u=a("4YfN"),c=n(u),f=a("BGNQ"),m=n(f),h=a("z5TY"),v=n(h),p=a("SAzG"),C=n(p),y=a("PzEQ"),_=n(y),g=a("0AQX"),b=a("HyXB"),w=a("QHLv"),I=a("bKg5"),x=n(I),D=a("vl8n"),P=n(D),S=a("aumL"),k=n(S),L=a("+WR7"),N=n(L),M=a("N2r1"),T=n(M),A=a("Qg39"),O=a("zWMP"),R={exptName:"",expCode:"",expSubject:"",costType:"",tdAmount:0,taxAmount:0,noTaxAmount:0};t.default={data:function(){return{listId:"080147c6-05ea-4ae7-9390-49e8e0379a11",dealerInfo:{dealerName_dealerCodeCredit:"",dealerCodeCredit:"",crDealerLabel:"",tdCreditLine:"",thenAmntBal:"",thenAlreadyAmnt:0,thenTotalAmntBal:0,differenceAmount:0},formData:{biId:"",biComment:"",biProcessStatus:""},cashInfo:{fundName_cashInCode:"",cashInCode:"",cashType_cashInCode:"",thenAmntBalCopy1:"",tdAmountCopy1:""},CostList:[(0,c.default)({},R)],biReferenceId:"",showCostPop:!1,costIndex:0,selectedCost:[],showFundPop:!1,selectedFund:[]}},components:{Cell:m.default,Group:v.default,XInput:C.default,XTextarea:_.default,RPicker:P.default,PopFundList:k.default,PopBaseinfo:N.default,PopCostList:T.default},mixins:[x.default],computed:{creatorName:function(){return this.formData.userCode},differenceAmount:function(){var e=0,t=(0,O.accSub)(this.dealerInfo.thenAmntBal,this.dealerInfo.thenAlreadyAmnt);return e=(0,O.accAdd)(t,this.dealerInfo.thenTotalAmntBal),(0,A.toFixed)(e)},tdAmount:function(){var e=this.dealerInfo,t=e.thenAlreadyAmnt,a=void 0===t?0:t,n=e.thenTotalAmntBal,i=void 0===n?0:n,r=(0,O.accSub)(a,i);return(0,A.toFixed)(r)}},watch:{creatorName:function(e){this.getEmployeeBal()},CostList:{handler:function(e){var t=0;e.forEach(function(e){e.noTaxAmount=(0,A.toFixed)((0,O.accSub)(e.tdAmount,e.taxAmount)),t=(0,O.accAdd)(t,e.tdAmount)}),this.dealerInfo.thenAlreadyAmnt=(0,A.toFixed)(t)},deep:!0},dealerInfo:{handler:function(e){this.cashInfo.tdAmountCopy1=e.thenTotalAmntBal},deep:!0},cashInfo:{handler:function(e){e.thenAmntBalCopy1&&e.tdAmountCopy1>e.thenAmntBalCopy1&&(e.tdAmountCopy1=e.thenAmntBalCopy1)},deep:!0}},methods:{getEmployeeBal:function(){var e=this,t=[{operator:"eq",value:this.formData.userCode,property:"dealerCode"}];(0,w.getEmployeeBal)((0,d.default)(t)).then(function(t){var a=t.tableContent,n=void 0===a?[]:a,i=(0,o.default)(n,1),r=i[0],s=void 0===r?{}:r;e.dealerInfo=(0,c.default)({},e.dealerInfo,{dealerName_dealerCodeCredit:s.nickname,dealerCodeCredit:s.dealerCode,crDealerLabel:s.dealerLabelName,tdCreditLine:s.tdCreditLine,thenAmntBal:s.amntBal})})},getCost:function(e,t){this.showCostPop=!0,this.costIndex=e,this.selectedCost=[t]},addCost:function(){this.CostList.push((0,c.default)({},R))},deleteCost:function(){this.CostList.pop()},selMatter:function(e){var t=e;this.CostList[this.costIndex].exptName=t.costName,this.CostList[this.costIndex].expCode=t.costCode,this.CostList[this.costIndex].expSubject=t.costSubject,this.CostList[this.costIndex].costType=t.costType,this.CostList[this.costIndex].expCause=""},submitOrder:function(){var e=this,t="",a=[];if(this.CostList.every(function(e){return e.exptName?e.tdAmount?(a.push({tdId:e.tdId||"",expCode:e.expCode,expSubject:e.expSubject,tdAmount:e.tdAmount,taxAmount:e.taxAmount,noTaxAmount:e.noTaxAmount,expCause:e.expCause}),!0):(t="请填写申请金额",!1):(t="请选择费用名称",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=b.saveAndStartWf,n=(0,c.default)({},e.formData,{handlerEntity:e.entity.dealerName,inPut:{dataSet:[(0,c.default)({},e.dealerInfo,{differenceAmount:e.differenceAmount,tdAmount:e.tdAmount,tdId:e.dealerInfo.tdId||""})]},order:{departmentName:e.formData.handlerUnitName,dataSet:a},outPut:{dataSet:[(0,c.default)({},e.cashInfo,{tdIdCopy1:e.cashInfo.tdIdCopy1||""})]}}),i={listId:e.listId,biComment:"",formData:(0,d.default)(n),wfPara:(0,d.default)((0,r.default)({},e.processCode,{businessKey:e.businessKey,createdBy:n.creator}))};e.isResubmit&&(t=b.saveAndCommitTask,i.biReferenceId=e.biReferenceId,i.wfPara=(0,d.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=b.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,g.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=o;var l=r.order,d=r.outPut,u=r.inPut,f=u.dataSet[0],m=d.dataSet[0];e.dealerInfo={dealerName_dealerCodeCredit:f.dealerName_dealerCodeCredit,dealerCodeCredit:f.dealerCodeCredit,crDealerLabel:f.crDealerLabel,tdCreditLine:f.tdCreditLine,thenAmntBal:f.thenAmntBal,thenAlreadyAmnt:f.thenAlreadyAmnt,thenTotalAmntBal:f.thenTotalAmntBal,differenceAmount:f.differenceAmount,tdAmount:f.tdAmount,tdId:f.tdId},e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,c.default)({},e.handlerDefault,{biComment:r.biComment,biId:r.biId,biProcessStatus:r.biProcessStatus,creator:r.creator,modifer:r.modifer}),e.cashInfo={fundName_cashInCode:m.fundName_cashInCode,cashInCode:m.cashInCode,cashType_cashInCode:m.cashType_cashInCode,thenAmntBalCopy1:m.thenAmntBalCopy1,tdAmountCopy1:m.tdAmountCopy1,tdIdCopy1:m.tdIdCopy1},e.CostList=[],l.dataSet.forEach(function(t){e.CostList.push({tdId:t.tdId,exptName:t.costName_expCode,expCode:t.expCode,expSubject:t.expSubject,costType:t.costType_expCode,tdAmount:t.tdAmount,taxAmount:t.taxAmount,noTaxAmount:t.noTaxAmount})}),e.biReferenceId=r.biReferenceId,e.$loading.hide()})},checkAmt:function(e){var t=e.tdAmount,a=e.taxAmount,n=this.dealerInfo,i=n.tdCreditLine,r=n.thenTotalAmntBal,s=this.cashInfo.tdAmountCopy1;t&&(e.tdAmount=Math.abs((0,A.toFixed)(t))),a&&(e.taxAmount=Math.abs((0,A.toFixed)(a))),i&&(this.dealerInfo.tdCreditLine=Math.abs((0,A.toFixed)(i))),r&&(this.dealerInfo.thenTotalAmntBal=Math.abs((0,A.toFixed)(r))),s&&(this.cashInfo.tdAmountCopy1=Math.abs((0,A.toFixed)(s)))},hasDraftData:function(){return(0,r.default)({},"BXYZF_DATA",{dealerInfo:this.dealerInfo,cashInfo:this.contactInfo,costList:this.costList,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("BXYZF_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.cashInfo=t.cashInfo,this.costList=t.costList,sessionStorage.removeItem("BXYZF_DATA")}}}},lfAx:function(e,t){},lioh:function(e,t){},lkpG:function(e,t,a){"use strict";function n(e){a("iysq")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("7fRA");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("xns3"),o=a.n(s),l=a("a8wD"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-7166d204",null);t.default=c.exports},lnNG:function(e,t,a){"use strict";function n(e){a("4s8C")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("tSLf");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("SLsN"),o=a.n(s),l=a("yAwe"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-38e24dcb",null);t.default=c.exports},lpBF:function(e,t,a){"use strict";function n(e){a("IC31")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("+yyE");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("TXh4"),o=a.n(s),l=a("SBDX"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-137ba479",null);t.default=c.exports},lqQX:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"Project",props:{projectInfo:{type:Object,default:function(){return{}}}},data:function(){return{}}}},lqcj:function(e,t){},lsbD:function(e,t,a){"use strict";function n(e){a("WOWH")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lOZF");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("tHsJ"),o=a.n(s),l=a("OG9q"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-3551fadc",null);t.default=c.exports},luHD:function(e,t,a){"use strict";function n(e){a("GylV")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("AwSw");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("k4WU"),o=a.n(s),l=a("zuPC"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-049af3ce",null);t.default=c.exports},lwni:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("IHPB"),o=n(s),l=a("3cXf"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("+62G"),v=n(h),p=a("6q39"),C=n(p),y=a("vS5q"),_=a("1KNX"),g=n(_),b=a("7biW"),w=n(b);t.default={name:"PopWarehouseList",props:{title:{type:String,default:"仓库列表"},defaultValue:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1},isRequired:{type:Boolean,default:!1},filterParams:{type:Array,default:function(){return[]}},getListMethod:{type:String,default:"getWarehouse"},params:{type:Object,default:function(){return{}}}},directives:{TransferDom:v.default},components:{Icon:c.default,Popup:m.default,RScroll:g.default,DSearch:w.default,LoadMore:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},showAddWarehouse:!1}},computed:{tip:function(){var e="加载中";return this.hasNext||(e="暂无数据"),e},noAddress:function(){var e=this.selItems,t=e.warehouseProvince,a=void 0===t?"":t,n=e.warehouseCity,i=void 0===n?"":n,r=e.warehouseDistrict,s=void 0===r?"":r,o=e.warehouseAddress,l=void 0===o?"":o;return!(a||i||s||l)}},watch:{defaultValue:function(e){this.setDefaultValue()}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this[this.getListMethod]()},showSelIcon:function(e){return this.selItems.warehouseCode===e.warehouseCode},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.$emit("sel-item",(0,d.default)(this.selItems))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getWarehouse:function(){var e=this.filterParams;return this.srhInpTx&&(e=[].concat((0,o.default)(e),[{operator:"like",value:this.srhInpTx,property:"warehouseName"}])),(0,y.getWarehouse)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,d.default)(e)},this.params)).then(this.dataHandler)},getWareHouseType:function(){var e=this.filterParams;this.srhInpTx&&(e=[].concat((0,o.default)(e),[{operator:"like",value:this.srhInpTx,property:"warehouseName"}])),(0,y.getWareHouseType)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,d.default)(e)},this.params)).then(this.dataHandler)},dataHandler:function(e){var t=this,a=e.dataCount,n=void 0===a?0:a,i=e.tableContent,r=void 0===i?[]:i;if(this.showAddWarehouse=this.srhInpTx&&0===r.length,this.hasNext=n>(this.page-1)*this.limit+r.length,r.forEach(function(e){e.warehouseCity=e.warehouseCity||e.wareHouseCity}),this.listData=1===this.page?r:[].concat((0,o.default)(this.listData),(0,o.default)(r)),sessionStorage.getItem("EDIT_WAREHOUSE_TRANSCODE"))for(var s=JSON.parse(sessionStorage.getItem("EDIT_WAREHOUSE_TRANSCODE")).transCode,l=0;l<this.listData.length;l++)this.listData[l].transCode==s&&(this.selItems=this.listData[l],this.$emit("sel-item",(0,d.default)(this.listData[l])),sessionStorage.removeItem("EDIT_WAREHOUSE_TRANSCODE"));this.$nextTick(function(){t.$refs.bScroll.finishPullUp()})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this[this.getListMethod]()},onPullingUp:function(){this.page++,this[this.getListMethod]()},setDefaultValue:function(){this.selItems=this.defaultValue?(0,r.default)({},this.defaultValue):{}},warehouseClick:function(){this.disabled||(this.showPop=!this.showPop)},addWarehouse:function(){this.$router.push({path:"/warehouse/edit_warehouse",query:{add:1}})}},created:function(){this.setDefaultValue(),this.disabled||this[this.getListMethod]()}}},lz9o:function(e,t,a){e.exports=a.p+"static/img/todo.56fcdc2.png"},lzEG:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vux-x-input weui-cell",class:{"weui-cell_warn":e.showWarn,disabled:e.disabled,"vux-x-input-has-right-full":e.hasRightFullHeightSlot}},[a("div",{staticClass:"weui-cell__hd"},[e.hasRestrictedLabel?a("div",{style:e.labelStyles},[e._t("restricted-label")],2):e._e(),e._v(" "),e._t("label",[e.title?a("label",{staticClass:"weui-label",class:e.labelClass,style:{width:e.labelWidth||e.$parent.labelWidth||e.labelWidthComputed,textAlign:e.$parent.labelAlign,marginRight:e.$parent.labelMarginRight},attrs:{for:"vux-x-input-"+e.uuid},domProps:{innerHTML:e._s(e.title)}}):e._e(),e._v(" "),e.inlineDesc?a("inline-desc",[e._v(e._s(e.inlineDesc))]):e._e()])],2),e._v(" "),a("div",{staticClass:"weui-cell__bd weui-cell__primary",class:e.placeholderAlign?"vux-x-input-placeholder-"+e.placeholderAlign:""},[e.type&&"text"!==e.type?e._e():a("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],ref:"input",staticClass:"weui-input",style:e.inputStyle,attrs:{id:"vux-x-input-"+e.uuid,maxlength:e.max,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,spellcheck:e.spellcheck,type:"text",name:e.name,pattern:e.pattern,placeholder:e.placeholder,readonly:e.readonly,disabled:e.disabled},domProps:{value:e.currentValue},on:{focus:e.focusHandler,blur:e.onBlur,keyup:e.onKeyUp,input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}),e._v(" "),"number"===e.type?a("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],ref:"input",staticClass:"weui-input",style:e.inputStyle,attrs:{id:"vux-x-input-"+e.uuid,maxlength:e.max,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,spellcheck:e.spellcheck,type:"number",name:e.name,pattern:e.pattern,placeholder:e.placeholder,readonly:e.readonly,disabled:e.disabled},domProps:{value:e.currentValue},on:{focus:e.focusHandler,blur:e.onBlur,keyup:e.onKeyUp,input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}):e._e(),e._v(" "),"email"===e.type?a("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],ref:"input",staticClass:"weui-input",style:e.inputStyle,attrs:{id:"vux-x-input-"+e.uuid,maxlength:e.max,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,spellcheck:e.spellcheck,type:"email",name:e.name,pattern:e.pattern,placeholder:e.placeholder,readonly:e.readonly,disabled:e.disabled},domProps:{value:e.currentValue},on:{focus:e.focusHandler,blur:e.onBlur,keyup:e.onKeyUp,input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}):e._e(),e._v(" "),"password"===e.type?a("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],ref:"input",staticClass:"weui-input",style:e.inputStyle,attrs:{id:"vux-x-input-"+e.uuid,maxlength:e.max,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,spellcheck:e.spellcheck,type:"password",name:e.name,pattern:e.pattern,placeholder:e.placeholder,readonly:e.readonly,disabled:e.disabled},domProps:{value:e.currentValue},on:{focus:e.focusHandler,blur:e.onBlur,keyup:e.onKeyUp,input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}):e._e(),e._v(" "),"tel"===e.type?a("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],ref:"input",staticClass:"weui-input",style:e.inputStyle,attrs:{id:"vux-x-input-"+e.uuid,maxlength:e.max,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,spellcheck:e.spellcheck,type:"tel",name:e.name,pattern:e.pattern,placeholder:e.placeholder,readonly:e.readonly,disabled:e.disabled},domProps:{value:e.currentValue},on:{focus:e.focusHandler,blur:e.onBlur,keyup:e.onKeyUp,input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}):e._e()]),e._v(" "),a("div",{staticClass:"weui-cell__ft"},[a("icon",{directives:[{name:"show",rawName:"v-show",value:!e.hasRightFullHeightSlot&&!e.equalWith&&e.showClear&&""!==e.currentValue&&!e.readonly&&!e.disabled&&e.isFocus,expression:"!hasRightFullHeightSlot && !equalWith && showClear && currentValue !== '' && !readonly && !disabled && isFocus"}],attrs:{type:"clear"},nativeOn:{click:function(t){return e.clear(t)}}}),e._v(" "),a("icon",{directives:[{name:"show",rawName:"v-show",value:e.showWarn,expression:"showWarn"}],staticClass:"vux-input-icon",attrs:{type:"warn",title:e.valid?"":e.firstError},nativeOn:{click:function(t){return e.onClickErrorIcon(t)}}}),e._v(" "),!e.novalidate&&e.hasLengthEqual&&e.dirty&&e.equalWith&&!e.valid?a("icon",{staticClass:"vux-input-icon",attrs:{type:"warn"},nativeOn:{click:function(t){return e.onClickErrorIcon(t)}}}):e._e(),e._v(" "),a("icon",{directives:[{name:"show",rawName:"v-show",value:!e.novalidate&&e.equalWith&&e.equalWith===e.currentValue&&e.valid,expression:"!novalidate && equalWith && equalWith === currentValue && valid"}],attrs:{type:"success"}}),e._v(" "),a("icon",{directives:[{name:"show",rawName:"v-show",value:e.novalidate&&"success"===e.iconType,expression:"novalidate && iconType === 'success'"}],staticClass:"vux-input-icon",attrs:{type:"success"}}),e._v(" "),a("icon",{directives:[{name:"show",rawName:"v-show",value:e.novalidate&&"error"===e.iconType,expression:"novalidate && iconType === 'error'"}],staticClass:"vux-input-icon",attrs:{type:"warn"}}),e._v(" "),e._t("right"),e._v(" "),e.hasRightFullHeightSlot?a("div",{staticClass:"vux-x-input-right-full"},[e._t("right-full-height")],2):e._e()],2),e._v(" "),a("toast",{attrs:{type:"text",width:"auto",time:600},model:{value:e.showErrorToast,callback:function(t){e.showErrorToast=t},expression:"showErrorToast"}},[e._v(e._s(e.firstError))])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"m/NV":function(e,t,a){"use strict";function n(e){a("UIPT")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("mtD9");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("6IKZ"),o=a.n(s),l=a("WBBK"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-7660a61e",null);t.default=c.exports},"m/V4":function(e,t){},m0Rf:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages bdkcdb-list-conatiner",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noPrice:"",noCount:""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},m0ev:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_part"},[e._m(0),e._v(" "),e._l(e.orderInfo.order.dataSet,function(t,n){return a("div",{key:n,staticClass:"form_content",class:{show_border:n!==e.orderInfo.order.dataSet.length-1}},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"汇票号",cellContent:t.draftNumber,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"类型",cellContent:t.draftType}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"承兑人",cellContent:t.accepter}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"金额",cellContent:e._f("numberComma")(e._f("toFixed")(t.tdAmount),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"出票日",cellContent:t.draftDate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"到期日",cellContent:t.draftDueDate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"兑现贴现日",cellContent:t.cashingDiscountDate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"贴息",cellContent:t.discount}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"现后金额",cellContent:e._f("numberComma")(e._f("toFixed")(t.thenAmntBal),3)}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"说明",cellContent:t.comment}})],1)])})],2),e._v(" "),a("div",{staticClass:"form_part"},[e._m(1),e._v(" "),a("div",{staticClass:"form_content"},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"资金账户",cellContent:e.cashInfo.fundName_cashInCode,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"资金编码",cellContent:e.cashInfo.cashInCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"资金账户类型",cellContent:e.cashInfo.cashType_cashInCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"账户余额",cellContent:e._f("numberComma")(e._f("toFixed")(e.cashInfo.thenAmntBal),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"收款金额",cellContent:e._f("numberComma")(e._f("toFixed")(e.cashInfo.tdAmount),3),showSymbol:""}})],1)])]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("汇票列表")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("资金账户明细")])])}],r={render:n,staticRenderFns:i};t.a=r},m557:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),m=a("3NX5"),h=n(m),v=a("d7ck"),p=n(v),C=a("zWMP");a("Qg39");t.default={data:function(){return{count:0,comment:"",orderList:[]}},mixins:[l.default],components:{workFlow:f.default,RAction:u.default,MatterList:h.default,FormCell:p.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var d=[];s.order;e.attachment=l;var u=s.order.dataSet,c=!0,f=!1,m=void 0;try{for(var h,v=(0,r.default)(u);!(c=(h=v.next()).done);c=!0){var p=h.value;e.count=(0,C.accAdd)(e.count,p.tdAmount),p.inventoryPic=p.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+p.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),d.push(p)}}catch(e){f=!0,m=e}finally{try{!c&&v.return&&v.return()}finally{if(f)throw m}}e.orderList=d,e.orderInfo=s,e.workFlowInfoHandler()})}}}},mDKT:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("KH7x"),r=n(i),s=a("IHPB"),o=n(s),l=a("3cXf"),d=n(l),u=a("4YfN"),c=n(u),f=a("Jwlx"),m=n(f),h=a("HXPS"),v=n(h),p=a("7g+Q"),C=n(p),y=a("6q39"),_=n(y),g=a("L6VY"),b=n(g),w=a("+62G"),I=n(w),x=a("7biW"),D=n(x),P=a("hFVz"),S=n(P),k=a("vHT0"),L=n(k),N=a("aHRR"),M=n(N);t.default={name:"PopDealerList",props:{dealerLabelName:{type:String,default:"客户"},dealerTitle:{type:String,default:"客户"},defaultValue:{type:Object,default:function(){return{}}},defaultContact:{type:Object,default:function(){return{}}},mode:{type:String,default:"1"},required:{type:Boolean,default:!1},noContact:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"},noRecord:{type:Boolean,default:!1},params:{type:Object,default:function(){return{}}}},computed:{noAddress:function(){var e=this.defaultValue,t=e.province,a=void 0===t?"":t,n=e.city,i=void 0===n?"":n,r=e.county,s=void 0===r?"":r,o=e.address,l=void 0===o?"":o;return!(a||i||s||l)}},directives:{TransferDom:I.default},components:{Icon:v.default,Popup:C.default,DSearch:D.default,LoadMore:_.default,PopContactList:M.default},data:function(){return{page:1,limit:10,hasNext:!0,showDealerPop:!1,srhInpTx:"",bScroll:null,dealerInfo:{},contactInfo:{},selItems:[],dealerList:[]}},watch:{defaultValue:{handler:function(){var e=this.defaultValue;this.dealerInfo=(0,m.default)((0,c.default)({},e)),this.selItems=[(0,c.default)({},e)]},immediate:!0},defaultContact:{handler:function(){this.contactInfo=(0,m.default)((0,c.default)({},this.defaultContact))},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.bScroll&&e.bScroll.refresh()})},onHide:function(){this.showDealerPop=!1},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.dealerCode===e.dealerCode})},selDealer:function(e,t){if(this.showDealerPop=!1,this.selItems=[e],this.dealerInfo=(0,m.default)((0,c.default)({},e)),this.contactInfo={},this.noRecord||sessionStorage.setItem("DEALERLIST_SELITEMS",(0,d.default)(this.selItems)),"2"===this.mode)return void this.$emit("sel-dealer",(0,c.default)({},this.dealerInfo));this.$emit("sel-dealer",(0,d.default)(this.selItems))},selContact:function(e){this.$emit("sel-contact",e)},getDealer:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:"dealerName"}])),S.default.getAppdealer((0,c.default)({dealerLabelName:this.dealerLabelName,limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,d.default)(t)},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,s=void 0===i?[]:i,l=JSON.parse(sessionStorage.getItem("DEALERLIST_SELITEMS"))||"";if(e.hasNext=n>(e.page-1)*e.limit+s.length,e.dealerList=1===e.page?s:[].concat((0,o.default)(e.dealerList),(0,o.default)(s)),l){e.selItems=[].concat((0,o.default)(l));var u=(0,r.default)(e.selItems,1),c=u[0];e.dealerInfo=void 0===c?{}:c,e.$emit("sel-dealer",(0,d.default)(e.selItems)),sessionStorage.removeItem("DEALERLIST_SELITEMS")}e.$nextTick(function(){e.bScroll.refresh(),e.hasNext&&e.bScroll.finishPullUp()})}).catch(function(e){b.default.show({content:e.message})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.dealerList=[],this.page=1,this.hasNext=!0,this.getDealer()},initScroll:function(){var e=this;this.$nextTick(function(){e.bScroll=new L.default(e.$refs.dealer,{click:!0,pullUpLoad:{threshold:20}}),e.bScroll.on("pullingUp",function(){e.hasNext&&(e.page++,e.getDealer())})})},add:function(){var e=this.dealerLabelName;this.$router.push({path:"/adress/edit_ads",query:{add:1,pickVal:e}})},itemClick:function(){this.showDealerPop=!0}},created:function(){this.initScroll(),this.getDealer()}}},mIwj:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.contactInfo,logistics:!1,payment:!1}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),e.orderInfo.ticketNumber?a("div",{staticClass:"form_part"},[e._m(0),e._v(" "),a("div",{staticClass:"form_content",staticStyle:{"margin-bottom":"0.1rem"}},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"票号",cellContent:e.orderInfo.ticketNumber,textRight:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"发票类型",cellContent:e.orderInfo.invoiceType,textRight:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"发票日期",cellContent:e.orderInfo.invoiceDate,textRight:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"发票内容",cellContent:e.orderInfo.invoiceContent,textRight:""}})],1)])]):e._e(),e._v(" "),a("matter-list",{attrs:{"order-list":e.orderList,noTaxAmount:e.noTaxAmount,taxAmount:e.taxAmount,count:e.count},scopedSlots:e._u([{key:"orderTitle",fn:function(t){return[a("span",{staticClass:"order_title"},[e._v("申请单")])]}},{key:"matterOther",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("待开票数量: "+e._s(n.thenQtyBal))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.taxRate,expression:"item.taxRate"}]},[e._v("税率: "+e._s(n.taxRate))])]),e._v(" "),a("div",{staticClass:"mater_attribute"},[a("span",[e._v("单价: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.price),3)))]),e._v(" "),a("span",[e._v("本次开票数量: "+e._s(e._f("toFixed")(n.tdQty)))])]),e._v(" "),a("div",{staticClass:"mater_price"},[a("span",[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(n.tdAmount),3)))]),e._v(" "),n.taxRate?a("span",{staticClass:"num",style:{display:n.tdAmount&&n.tdAmount.toString().length>=5?"block":""}},[e._v("\n                [金额: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.noTaxAmount),3))+" + 税金: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.taxAmount),3))+"]\n              ")]):e._e()])])]}}])}),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-xiangmu"}),a("span",{staticClass:"title"},[e._v("发票信息")])])}],r={render:n,staticRenderFns:i};t.a=r},mKXa:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("iR2W"),i=function(e){return e&&e.__esModule?e:{default:e}}(n),r=a("Qg39");t.default={name:"PriceTotal",props:{noAmt:{type:Boolean,default:!1},noTaxAmt:{type:Boolean,default:!1},noCount:{type:Boolean,default:!1},amt:{type:Number,default:0},taxAmt:{type:Number,default:0},count:{type:Number,default:0}},filters:{numberComma:i.default,toFixed:r.toFixed}}},mOwv:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HXPS"),r=n(i),s=a("9r/T"),o=a("87dP"),l=n(o);t.default={name:"RSearch",props:{isFill:{type:Boolean,default:!1},filterList:{type:Array,default:function(){return[]}}},watch:{isShowDrop:{handler:function(e){var t=this;this.$event.$on("shut-down-filter",function(e){t.isShowDrop=e,t.$event.$off("shut-down-filter")})}}},data:function(){return{srhInpTx:"",timer:null,property:"",isShowDrop:!1}},components:{Icon:r.default,RDropdown:l.default},methods:{getValue:function(e){var t=this;(0,s.setTimeout)(function(){t.srhInpTx=e.target.value,t.isFill&&!t.srhInpTx&&t.$emit("search",{val:t.srhInpTx,property:t.property})},0)},searchMat:function(e){if(this.isFill&&!e)return this.isShowDrop=!1,void this.$emit("turn-off",!1);this.$emit("search",{val:this.srhInpTx,property:this.property}),document.activeElement.blur(),this.isShowDrop=!1},clear:function(){this.srhInpTx="",this.$emit("search",{val:this.srhInpTx,property:this.property})},popSelected:function(e){this.property=e.value,this.$refs.searchInp.focus()},clearVal:function(){this.srhInpTx=""}}}},mSSm:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("4YfN"),o=n(s),l=a("HXPS"),d=n(l),u=a("7g+Q"),c=n(u),f=a("+62G"),m=n(f),h=a("6q39"),v=n(h),p=(a("HyXB"),a("XAqG")),C=a("1KNX"),y=n(C),_=a("7biW"),g=n(_);t.default={name:"PopCompanyList",props:{defaultValue:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1},params:{type:Object,default:function(){return{}}}},directives:{TransferDom:m.default},components:{Icon:d.default,Popup:c.default,RScroll:y.default,DSearch:g.default,LoadMore:v.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},watch:{defaultValue:function(e){this.setDefaultValue()}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this.getList()},showSelIcon:function(e){return this.selItems.groupCode===e.groupCode},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.$emit("sel-item",this.selItems)},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getList:function(){var e=this;return(0,p.getCompanyList)((0,o.default)({pageSize:this.limit,currentPage:this.page,search:this.srhInpTx},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,s=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+s.length,e.listData=1===e.page?s:[].concat((0,r.default)(e.listData),(0,r.default)(s)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.selItems=this.defaultValue?(0,o.default)({},this.defaultValue):{}},itemClick:function(){this.disabled||(this.showPop=!this.showPop)}},created:function(){this.setDefaultValue(),this.disabled||this.getList()}}},mU0o:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("popup-picker",{attrs:{"fixed-columns":e.hideDistrict?2:0,columns:3,data:e.list,title:e.title,"show-name":"","inline-desc":e.inlineDesc,placeholder:e.placeholder,"value-text-align":e.valueTextAlign,"confirm-text":e.confirmText,"cancel-text":e.cancelText,"display-format":e.displayFormat,"popup-style":e.popupStyle,"popup-title":e.popupTitle,show:e.showValue,disabled:e.disabled},on:{"update:show":function(t){e.showValue=t},"on-shadow-change":e.onShadowChange,"on-hide":e.emitHide,"on-show":function(t){e.$emit("on-show")}},scopedSlots:e._u([{key:"title",fn:function(t){return[e._t("title",[t.labelTitle?a("label",{class:[t.labelClass,e.labelClass],style:t.labelStyle,domProps:{innerHTML:e._s(t.labelTitle)}}):e._e()],{labelClass:t.labelClass,labelStyle:t.labelStyles,labelTitle:t.title})]}}]),model:{value:e.currentValue,callback:function(t){e.currentValue=t},expression:"currentValue"}})},i=[],r={render:n,staticRenderFns:i};t.a=r},mV4P:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("kKsb"),p=n(v),C=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",dealerInfo:{}}},mixins:[u.default],components:{workFlow:h.default,RAction:f.default,ProjectPart:p.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=t.formData,i=n.order,s=void 0===i?{}:i;e.attachment=a,e.dealerInfo={dealerName:s.dealerName_dealerDebit,dealerCode:s.dealerDebit,dealerLabelName:s.drDealerLabel,amntBal:s.thenAmntBal,thenTotalAmntBal:s.thenTotalAmntBal};var l=n.order.dataSet,d=!0,u=!1,c=void 0;try{for(var f,m=(0,r.default)(l);!(d=(f=m.next()).done);d=!0){var h=f.value;e.count=(0,C.accAdd)(e.count,h.tdAmount)}}catch(e){u=!0,c=e}finally{try{!d&&m.return&&m.return()}finally{if(u)throw c}}t.formData.validUntil=(0,o.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},mWQJ:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},mdNF:function(e,t){},meVP:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"materiel_ct_list"},[e.matterList.length?a("div",{staticClass:"mater_list"},e._l(e.matterList,function(t,n){return a("matter-item",{key:n,attrs:{item:t},scopedSlots:e._u([{key:"other",fn:function(t){var a=t.item;return[e._t("matterOther",null,{item:a})]}}])})}),1):e._e(),e._v(" "),Object.keys(e.orderList).length?a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n,i){return a("div",{key:n,staticClass:"each_mater",class:{"vux-1px-t":i}},[a("div",{staticClass:"order_code"},[e._t("orderTitle",[a("span",{staticClass:"order_title"},[e._v("所属订单：")])]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n||"未查询到相关订单，请检查数据是否正确"))])],2),e._v(" "),a("div",{staticClass:"order_matter"},e._l(t,function(t,n){return a("matter-item",{key:n,attrs:{item:t},scopedSlots:e._u([{key:"other",fn:function(t){var a=t.item;return e.$scopedSlots.matterOther?[e._t("matterOther",null,{item:a})]:void 0}}])})}),1)])}),0):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},mmca:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("kriB");a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,function(){return n[e]})}(i);var r=a("4Apf"),s=a.n(r),o=a("vGnC"),l=a("C7Lr"),d=l(s.a,o.a,!1,null,null,null);t.default=d.exports},moVi:function(e,t,a){"use strict";function n(e){a("7dY3")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("WNoS");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("p6ff"),o=a.n(s),l=a("Q3S/"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-621e3e53",null);t.default=c.exports},moZA:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("kKsb"),p=n(v),C=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70"}},mixins:[u.default],components:{workFlow:h.default,RAction:f.default,ProjectPart:p.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=!0,i=!1,s=void 0;try{for(var l,d=(0,r.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;e.count=(0,C.accAdd)(e.count,u.tdAmount)}}catch(e){i=!0,s=e}finally{try{!n&&d.return&&d.return()}finally{if(i)throw s}}t.formData.validUntil=(0,o.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},mpfK:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MgeX"),r=n(i),s=a("3cXf"),o=n(s);t.default={name:"WarehouseContent",props:{warehouse:{type:Object,default:function(){return{}}},warehouseOut:{type:Object,default:function(){return{}}}},data:function(){return{activeIndex:0}},computed:{noAddress:function(){var e=this.warehouse,t=e.warehouseProvince,a=void 0===t?"":t,n=e.warehouseCity,i=void 0===n?"":n,r=e.warehouseDistrict,s=void 0===r?"":r,o=e.warehouseAddress,l=void 0===o?"":o;return!(a||i||s||l)},warehouseList:function(){var e=[],t=JSON.parse((0,o.default)(this.warehouse)),n=JSON.parse((0,o.default)(this.warehouseOut));return(0,r.default)(t).length&&e.push(t),(0,r.default)(n).length&&e.push(n),t.type="in",n.type="out",e.forEach(function(e){var t=e.warehouseProvince,n=void 0===t?"":t,i=e.warehouseCity,r=void 0===i?"":i,s=e.warehouseDistrict,o=void 0===s?"":s,l=e.warehouseAddress,d=void 0===l?"":l;e.warehousePic=a("03IF")("./warehouse_"+e.type+".png"),e.address=n||r||o||d?""+n+r+o+d:"暂无"}),e}},methods:{handleData:function(e){},warehouseChange:function(e,t){this.activeIndex=t}}}},mtD9:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2237,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"项目名称",value:"projectName_project"}]}},mixins:[i.default],methods:{},created:function(){}}},"n+GY":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=(a("HyXB"),a("MjAd")),o=n(s);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"任务类型",value:"taskType"},{name:"项目名称",value:"projectName_project"}],listViewID:2326}},mixins:[o.default],methods:{goDetail:function(e,t){var a=this;if(!this.clickVisited){var n=e.transCode,i=this.$route.query.name,s=this.$route.params,o=s.folder,l=s.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,r.default)({},e)),setTimeout(function(){a.clickVisited=!1,a.$router.push({path:"/detail/"+o+"/"+l,query:{name:i,transCode:n}})},200)}},getTaskIcon:function(e){return["icon-task","icon-task2","icon-task3"][e%3]}}}},n0D0:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getObjFacilityByDealerCode=t.getEquipmentPurchaseOrder=t.getObjFacilityByType=void 0;var i=a("4YfN"),r=n(i),s=a("GOq4"),o=n(s);t.getObjFacilityByType=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getObjFacilityByType",data:(0,r.default)({_dc:Date.now()},e)})},t.getEquipmentPurchaseOrder=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getEquipmentPurchaseOrder",data:(0,r.default)({_dc:Date.now()},e)})},t.getObjFacilityByDealerCode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getObjFacilityByDealerCode",data:(0,r.default)({_dc:Date.now()},e)})};t.default={}},n6ZL:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("KH7x"),r=n(i),s=a("0w+U"),o=a("+VRO"),l=n(o);t.default={data:function(){return{MatPic:"",CompanyInfo:{}}},mixins:[l.default],methods:{getDefaultImg:function(){this.CompanyInfo.groupPic=a("tVsm")},loadPage:function(){var e=this,t=this.$route.query.groupId,a=void 0===t?"":t;return a?(this.$loading.show(),(0,s.CompanyInfo)(a).then(function(t){var a=(0,r.default)(t,1),n=a[0],i=void 0===n?{}:n,s=["","使用中","未使用","草稿"];i.status=s[i.status]||"停用",e.CompanyInfo=i,e.$loading.hide()})):void this.$vux.alert.show({content:"抱歉，有误，请尝试刷新之后再次进入"})}}}},"n6c+":function(e,t,a){"use strict";function n(e){a("DkQ+")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("uqrF");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("LBhX"),o=a.n(s),l=a("qRBd"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-508983cb",null);t.default=c.exports},n8ws:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("KH7x"),r=n(i),s=a("IHPB"),o=n(s),l=a("rVsN"),d=n(l),u=a("lC5x"),c=n(u),f=a("J0Oq"),m=n(f),h=a("3cXf"),v=n(h),p=a("4YfN"),C=n(p),y=a("8VZL"),_=n(y),g=a("HXPS"),b=n(g),w=a("fQz5"),I=n(w),x=a("kNGm"),D=n(x),P=a("hFVz"),S=n(P),k=a("I8ug"),L=a("7biW"),N=n(L),M=a("1KNX"),T=n(M),A=a("Ab2S"),O=n(A);t.default={data:function(){return{listId:"c0375170-d537-4f23-8ed0-a79cf75f5b04",dealerList:[],srhInpTx:"",activeIndex:0,tabItem:"全部",dealerClassfiy:[],uniqueId:"7f01c808-d338-4711-8c99-319337078cc1",page:1,limit:20,id:"",hasNext:!0,scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0},total:null,clickVisited:!1,action:{}}},components:{Tab:_.default,Icon:b.default,TabItem:I.default,RScroll:T.default,searchIcon:N.default,addBtn:O.default},methods:{resetCondition:function(){this.dealerList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.resetPullDown()},tabClick:function(e,t){this.tabItem=e.title,this.activeIndex=t,this.uniqueId=e.uniqueId,this.resetCondition(),this.$refs.bScroll.scrollTo(0,0),this.getDealer()},searchList:function(e){var t=e.val,a=void 0===t?"":t;e.property;this.srhInpTx=a,this.resetCondition(),this.getDealer()},goNextPage:function(e,t,a){var n=this;this.clickVisited||(this.clickVisited=!0,e.visited=!0,this.$set(this.dealerList,t,(0,C.default)({},e)),setTimeout(function(){n.clickVisited=!1;var t={transCode:e.transCode};e.transCode||"/adress/edit_ads"!==a||"全部"===n.tabItem||(t.dealerType=n.tabItem),n.$router.push({path:a,query:t})},200))},goEditAds:function(e,t){this.goNextPage(e,t,"/adress/edit_ads")},goDetail:function(e,t){this.goNextPage(e,t,"/adress/adressDetail")},getDealer:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=void 0;""!==this.srhInpTx&&(a=[{operator:"like",value:this.srhInpTx,property:"creatorName",attendedOperation:"or"},{operator:"like",value:this.srhInpTx,property:"dealerName"}]);var n={limit:this.limit,page:this.page,start:(this.page-1)*this.limit};return a&&(n.filter=(0,v.default)(a)),(0,m.default)(c.default.mark(function a(){return c.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,S.default.getId(e.uniqueId).then(function(t){t.length>0&&(e.id=t[0].id)}).catch(function(t){e.$vux.alert.show({content:t.message})});case 2:return a.next=4,S.default.getDealerList(e.id,n).then(function(a){var n=a.dataCount,i=void 0===n?0:n,r=a.tableContent,s=void 0===r?[]:r,o="";t&&0===e.activeIndex&&e.total&&(o=i-e.total==0?"暂无新数据":"新增"+(i-e.total)+"条数据",e.$vux.toast.show({text:o,position:"top",width:"50%",type:"text",time:700})),s.forEach(function(t){var a=t.province,n=void 0===a?"":a,i=t.city,r=void 0===i?"":i,s=t.county,o=void 0===s?"":s,l=t.address,d=void 0===l?"":l;e.setStatus(t),t.dealerPic=t.dealerPic?"/H_roleplay-si/ds/download?url="+t.dealerPic+"&width=400&height=400":e.getDefaultImg(),t.detailAddress=n||r||o||d?""+n+r+o+d:"暂无"}),0===e.activeIndex&&1===e.page&&sessionStorage.setItem("DL",i),e.dealerList=1===e.page?s:e.dealerList.concat(s),e.hasNext=i>(e.page-1)*e.limit+s.length,t||e.$nextTick(function(){e.resetScroll()})}).catch(function(t){e.resetScroll()});case 4:case"end":return a.stop()}},a,e)}))()},getClassfiy:function(){var e=this;S.default.getDealerClassfiy(this.page).then(function(t){t.map(function(e){"往来对象"===e.title&&(e.title="全部")}),e.dealerClassfiy=t}).catch(function(t){e.$vux.alert.show({content:t.message})})},resetScroll:function(){this.$refs.bScroll.finishPullDown(),this.$refs.bScroll.finishPullUp()},onPullingUp:function(){this.page++,this.getDealer()},onPullingDown:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.page=1,e)return void this.getData(!0);this.getData()},getSession:function(){var e=this;return new d.default(function(t){e.total=sessionStorage.getItem("DL"),t()})},getData:function(e){var t=this;return(0,m.default)(c.default.mark(function a(){return c.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getSession();case 2:if(!e){a.next=6;break}return a.next=5,t.getDealer(!0).then(function(){t.$nextTick(function(){t.$refs.bScroll.finishPullDown().then(function(){t.$refs.bScroll.finishPullUp()})})});case 5:return a.abrupt("return");case 6:return a.next=8,t.getDealer();case 8:case"end":return a.stop()}},a,t)}))()},changeVisitedStatus:function(){var e=this;setTimeout(function(){var t=[].concat((0,o.default)(e.dealerList));t.forEach(function(e){e.visited=!1}),e.dealerList=t},200)},getAppDetail:function(){var e=this;return(0,k.getAppDetail)(this.listId).then(function(t){var a=(0,r.default)(t,1),n=a[0],i=void 0===n?{}:n,s=i.action;e.action=s})},setStatus:function(e){switch(e.dealerStatus){case"使用中":e.statusClass="duty_done_c";break;default:e.statusClass="duty_fall_c"}},getDefaultImg:function(e){var t=a("sUQx");return e&&(e.dealerPic=t),t}},filters:{dateFormat:D.default},watch:{$route:{handler:function(e,t){var a=e.path,n=void 0===a?"":a,i=e.meta,r=void 0===i?{}:i;if("/adress"===n&&(this.changeVisitedStatus(),r.reload)){if(e.meta.reload=!1,this.uniqueId="7f01c808-d338-4711-8c99-319337078cc1",this.srhInpTx="",this.activeIndex=0,this.resetCondition(),t.query.transCode)return void this.onPullingDown(!1);this.onPullingDown()}}}},created:function(){this.getAppDetail(),this.getClassfiy(),this.getData(!1)}}},nHTe:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("KH7x"),o=n(s),l=a("7g+Q"),d=n(l),u=a("z5TY"),c=n(u),f=a("HXPS"),m=n(f),h=a("d5Kw"),v=n(h),p=a("kNGm"),C=n(p),y=a("1KNX"),_=n(y);t.default={props:{noStatus:{type:String,require:!0},crtTime:{type:String,require:!0},fullWorkFlow:{type:Array,default:function(){return[]}},userName:{type:String,default:""},isMyTask:{type:Boolean,default:!1},workFlowInfo:{type:Object,default:function(){return{}}}},data:function(){return{defaulImg:a("Fuf7"),currentStatus:{}}},computed:{statusClass:function(){var e=this.workFlowInfo.biStatus;switch(void 0===e?"":e){case"进行中":return"doing";case"已失效":return"failure";default:return""}}},watch:{fullWorkFlow:{handler:function(){this.workFlowHandler()},immediate:!0}},components:{Popup:d.default,Group:c.default,Icon:m.default,XButton:v.default,RScroll:_.default},methods:{workFlowHandler:function(){var e=this.fullWorkFlow.slice(-1),t=(0,o.default)(e,1),a=t[0],n=void 0===a?{}:a,i=!0,s=!1,l=void 0;try{for(var d,u=(0,r.default)(this.fullWorkFlow);!(i=(d=u.next()).done);i=!0){var c=d.value;c.userName=c.userName.replace(/\s*/g,"")}}catch(e){s=!0,l=e}finally{try{!i&&u.return&&u.return()}finally{if(s)throw l}}this.currentStatus=n},goWorkFlowFull:function(){var e=this.workFlowInfo.transCode,t=void 0===e?"":e;this.$router.push({path:"/workFlowFull",query:{transCode:t}})}},filters:{dateFormat:C.default},created:function(){}}},nHhV:function(e,t){},nL0P:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages wgzjrk-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-warehouse-list",{attrs:{title:"在制仓库","default-value":e.warehouseOut,isRequired:"","get-list-method":"getWareHouseType",params:e.warehouseOutParams},on:{"sel-item":e.selWarehouseOut}}),e._v(" "),a("pop-warehouse-list",{attrs:{title:"入库仓库","default-value":e.warehouseIn,isRequired:"","get-list-method":"getWareHouseType",params:e.warehouseInParams},on:{"sel-item":e.selWarehouseIn}}),e._v(" "),a("div",{staticClass:"materiel_list"},[Object.keys(e.orderList).length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v("订单列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n,i){return a("div",{key:n,staticClass:"each_mater"},[t.length?a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v("加工订单号")]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]):e._e(),e._v(" "),e._l(t,function(i,r){return a("div",{key:r,class:{mater_delete:e.matterModifyClass}},[a("matter-item",{class:{"vux-1px-b":r<t.length-1},attrs:{item:i,"show-delete":e.matterModifyClass},on:{"on-modify":function(t){e.modifyMatter(i,r,n)}},nativeOn:{click:function(t){e.delClick(r,i,n)}},scopedSlots:e._u([{key:"info",fn:function(t){var i=t.item;return[a("div",{staticClass:"mater_more"},[a("span",[e._v("车间仓库存: "+e._s(i.qtyStock))]),e._v(" "),a("span",[e._v("待入库数量: "+e._s(i.qtyBal))])]),e._v(" "),a("div",{staticClass:"mater_more"},[a("span",[e._v("计划完工日期: "+e._s(i.shippingTime))])]),e._v(" "),a("div",{staticClass:"mater_more"},[a("span",[e._v("合格数: "+e._s(i.tdQty))]),e._v(" "),a("span",[e._v("不合格数: "+e._s(i.differenceNum))])]),e._v(" "),i.qualityQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"matter-remain"},[a("span",[e._v("本次质检: "+e._s(i.qualityQty))])]),e._v(" "),a("span",{staticClass:"check_bom",on:{click:function(t){e.checkBom(i,r,n)}}},[e._v("查看原料")])]):e._e()]}},{key:"edit",fn:function(t){var i=t.item;return[i.qualityQty||e.matterModifyClass?e._e():a("div",{staticClass:"mater_other"},[a("div",{staticClass:"edit-tips",on:{click:function(t){e.modifyMatter(i,r,n)}}},[e._v("点击进行填写")]),e._v(" "),a("span",{staticClass:"check_bom",on:{click:function(t){e.checkBom(i,r,n)}}},[e._v("查看原料")])])]}},{key:"editPart",fn:function(t){var i=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:i.qualityQty&&!e.matterModifyClass,expression:"item.qualityQty && !matterModifyClass"}],staticClass:"edit-part vux-1px-l",on:{click:function(t){e.modifyMatter(i,r,n)}}},[a("span",{staticClass:"iconfont icon-bianji1"})])]}}])}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.matterModifyClass,expression:"matterModifyClass"}],staticClass:"delete_icon",on:{click:function(t){e.delClick(r,i,n)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(i),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(i),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])])],1)})],2)}),0)]:[a("div",{on:{click:function(t){e.showOrderPop=!e.showOrderPop}}},[a("div",{staticClass:"title"},[e._v("订单列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择订单")]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),Object.keys(e.orderList).length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多物料")])]):e._e(),e._v(" "),a("pop-order-xqtj-list",{ref:"order",attrs:{show:e.showOrderPop,params:e.orderParams,"default-value":e.orderList,"list-method":"getInProcessingStorage"},on:{"sel-matter":e.selOrder},scopedSlots:e._u([{key:"qtyBal",fn:function(t){var n=t.item;return[a("span",[e._v("待入库数量: "+e._s(n.qtyBal))])]}},{key:"qtyStock",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater-balance"},[e._v("车间仓库存: "+e._s(n.qtyStock))])]}}]),model:{value:e.showOrderPop,callback:function(t){e.showOrderPop=t},expression:"showOrderPop"}})],2),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.UniqueBom.length,expression:"UniqueBom.length"}],staticClass:"materiel_list"},[a("bom-list",{attrs:{boms:e.UniqueBom},scopedSlots:e._u([{key:"number",fn:function(t){var n=t.bom;return[a("div",{staticClass:"number-part"},[a("span",{staticClass:"main-number"},[e._v("领料需求: "+e._s(n.tdQty)+e._s(n.measureUnit))]),e._v(" "),a("span",{staticClass:"number-unit"},[e._v("Bom需求: "+e._s(n.demandQty))]),e._v(" "),a("span",{staticClass:"number-unit"},[e._v("待领料: "+e._s(n.thenQtyBalCopy1))]),e._v(" "),a("span",{staticClass:"number-unit"},[e._v("在库余额: "+e._s(n.thenTotalQtyStock))])])]}}])})],1),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,"is-show-amount":!1},on:{"sel-confirm":e.selConfirm},scopedSlots:e._u([{key:"qtyBal",fn:function(t){var n=t.modifyMatter;return[a("div",[a("span",[e._v("订单数量: "+e._s(n.productDemandQty))]),e._v(" "),a("span",[e._v("待检仓库存: "+e._s(n.qtyStock))]),e._v(" "),a("span",[e._v("待入库数量: "+e._s(n.qtyBal))])]),e._v(" "),a("div",[a("span",[e._v("制造费用: ￥"+e._s(e._f("numberComma")(n.skinFee)))]),e._v(" "),a("span",[e._v("工价: ￥"+e._s(e._f("numberComma")(n.wages)))])])]}},{key:"modify",fn:function(t){var n=t.modifyMatter;return[a("x-input",{attrs:{type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.qualityQty,callback:function(t){e.$set(n,"qualityQty",e._n(t))},expression:"modifyMatter.qualityQty"}},[a("span",{staticClass:"required",attrs:{slot:"label"},slot:"label"},[e._v("本次质检")])]),e._v(" "),a("x-input",{attrs:{title:"合格数",type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",e._n(t))},expression:"modifyMatter.tdQty"}}),e._v(" "),a("cell",{attrs:{title:"不合格数",value:n.differenceNum}}),e._v(" "),a("datetime",{attrs:{title:"计划完工日期",placeholder:"请选择"},model:{value:n.shippingTime,callback:function(t){e.$set(n,"shippingTime",t)},expression:"modifyMatter.shippingTime"}})]}}]),model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("bom-pop",{ref:"bomPop",attrs:{show:e.bomPopShow,bomInfo:e.bom,"btn-is-hide":e.btnIsHide,"no-specific-loss":!0},scopedSlots:e._u([{key:"number",fn:function(t){var n=t.bom;return[a("div",{staticClass:"number-part"},[a("span",{staticClass:"main-number"},[e._v("领料需求: "+e._s(n.qualityQty)+e._s(n.measureUnit))])]),e._v(" "),a("div",{staticClass:"specific_loss"},[e._v("单位损耗率: "+e._s(n.specificLoss))])]}}]),model:{value:e.bomPopShow,callback:function(t){e.bomPopShow=t},expression:"bomPopShow"}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode"},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},nRtZ:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pop-company-container vux-1px-b",on:{click:e.itemClick}},[e.selItems.groupName?a("div",[a("div",{staticClass:"title"},[e._v("公司")]),e._v(" "),a("div",{staticClass:"user_info"},[a("span",{staticClass:"user_name"},[e._v(e._s(e.selItems.groupName))])])]):a("div",[a("div",{staticClass:"title required"},[e._v("公司")]),e._v(" "),a("div",{staticClass:"mode"},[e._v("请选择公司")])]),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:!e.disabled,expression:"!disabled"}],staticClass:"iconfont icon-youjiantou r-arrow"}),e._v(" "),e.disabled?e._e():a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("d-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"pop-list-container",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"pop-mater-list-item box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"pop-list-main "},[a("div",{staticClass:"pop-list-info"},[a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline name",staticStyle:{display:"inline-block"}},[a("span",[e._v(e._s(t.groupName))])])]),e._v(" "),t.companyType?a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline ",staticStyle:{display:"inline-block"}},[a("span",{staticClass:"creator"},[e._v(e._s(t.companyType))])])]):e._e()])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1)])],1)])},i=[],r={render:n,staticRenderFns:i};t.a=r},nT2q:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MjAd"),r=n(i),s=(a("vS5q"),a("4bt0")),o=n(s);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2568,chartShow:!1,hasNext:!0,scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0},sortList:[{name:"交易号",key:"transCode"},{name:"修改时间",key:"modTime"},{name:"客户名称",key:"dealerName"}]}},components:{ApplyChart:o.default},mixins:[r.default],methods:{}}},"nU+M":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("just-word-item",{key:n,attrs:{item:t,"no-count":""},nativeOn:{click:function(a){e.goDetail(t,n)}},scopedSlots:e._u([{key:"list-item",fn:function(t){var n=t.item;return e._l(n.detailItem,function(t,i){return a("div",{key:i,staticClass:"each-slot-item"},[a("div",{staticClass:"top-content"},[e._v("汇票号: "+e._s(t.draftNumber))]),e._v(" "),a("div",{staticClass:"main-content"},[a("div",{staticClass:"info_part"},[e._v("\n                承汇类型: "+e._s(n.draftType)+"\n              ")]),e._v(" "),a("div",{staticClass:"info_part"},[e._v("\n                承汇人: "+e._s(n.accepter)+"\n              ")])])])})}}])})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},nUHg:function(e,t,a){"use strict";function n(e){a("lfAx")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("zzue");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("k/5C"),o=a.n(s),l=a("Bw8g"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-e07bd81e",null);t.default=c.exports},nVpM:function(e,t,a){"use strict";function n(e){a("2YrI")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("ESmm");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("7sn7"),o=a.n(s),l=a("NKKo"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-56d36016",null);t.default=c.exports},nY9r:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("KH7x"),r=n(i),s=a("IHPB"),o=n(s),l=a("3cXf"),d=n(l),u=a("4YfN"),c=n(u),f=a("Jwlx"),m=n(f),h=a("HXPS"),v=n(h),p=a("7g+Q"),C=n(p),y=a("6q39"),_=n(y),g=a("L6VY"),b=n(g),w=a("+62G"),I=n(w),x=a("7biW"),D=n(x),P=a("hFVz"),S=n(P),k=a("vHT0"),L=n(k),N=a("aHRR"),M=n(N);t.default={name:"PopDealerList",props:{dealerLabelName:{type:String,default:"客户"},dealerTitle:{type:String,default:"客户"},defaultValue:{type:Object,default:function(){return{}}},defaultContact:{type:Object,default:function(){return{}}},mode:{type:String,default:"1"},required:{type:Boolean,default:!1},noContact:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"},noRecord:{type:Boolean,default:!1},params:{type:Object,default:function(){return{}}}},computed:{noAddress:function(){var e=this.defaultValue,t=e.province,a=void 0===t?"":t,n=e.city,i=void 0===n?"":n,r=e.county,s=void 0===r?"":r,o=e.address,l=void 0===o?"":o;return!(a||i||s||l)}},directives:{TransferDom:I.default},components:{Icon:v.default,Popup:C.default,DSearch:D.default,LoadMore:_.default,PopContactList:M.default},data:function(){return{page:1,limit:10,hasNext:!0,showDealerPop:!1,srhInpTx:"",bScroll:null,dealerInfo:{},contactInfo:{},selItems:[],dealerList:[]}},watch:{defaultValue:{handler:function(){var e=this.defaultValue;this.dealerInfo=(0,m.default)((0,c.default)({},e)),this.selItems=[(0,c.default)({},e)]},immediate:!0},defaultContact:{handler:function(){this.contactInfo=(0,m.default)((0,c.default)({},this.defaultContact))},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.bScroll&&e.bScroll.refresh()})},onHide:function(){this.showDealerPop=!1},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.dealerCode===e.dealerCode})},selDealer:function(e,t){if(this.showDealerPop=!1,this.selItems=[e],this.dealerInfo=(0,m.default)((0,c.default)({},e)),this.contactInfo={},this.noRecord||sessionStorage.setItem("DEALERLIST_SELITEMS",(0,d.default)(this.selItems)),"2"===this.mode)return void this.$emit("sel-dealer",(0,c.default)({},this.dealerInfo));this.$emit("sel-dealer",(0,d.default)(this.selItems))},selContact:function(e){this.$emit("sel-contact",e)},getDealer:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:"dealerName"}])),S.default.getAppdealer((0,c.default)({dealerLabelName:this.dealerLabelName,limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,d.default)(t)},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,s=void 0===i?[]:i,l=JSON.parse(sessionStorage.getItem("DEALERLIST_SELITEMS"))||"";if(e.hasNext=n>(e.page-1)*e.limit+s.length,e.dealerList=1===e.page?s:[].concat((0,o.default)(e.dealerList),(0,o.default)(s)),l){e.selItems=[].concat((0,o.default)(l));var u=(0,r.default)(e.selItems,1),c=u[0];e.dealerInfo=void 0===c?{}:c,e.$emit("sel-dealer",(0,d.default)(e.selItems)),sessionStorage.removeItem("DEALERLIST_SELITEMS")}e.$nextTick(function(){e.bScroll.refresh(),e.hasNext&&e.bScroll.finishPullUp()})}).catch(function(e){b.default.show({content:e.message})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.dealerList=[],this.page=1,this.hasNext=!0,this.getDealer()},initScroll:function(){var e=this;this.$nextTick(function(){e.bScroll=new L.default(e.$refs.dealer,{click:!0,pullUpLoad:{threshold:20}}),e.bScroll.on("pullingUp",function(){e.hasNext&&(e.page++,e.getDealer())})})},add:function(){var e=this.dealerLabelName;this.$router.push({path:"/adress/edit_ads",query:{add:1,pickVal:e}})},itemClick:function(){this.showDealerPop=!0}},created:function(){this.initScroll(),this.getDealer()}}},nYM9:function(e,t){},nYup:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2544}},mixins:[i.default]}},"na+R":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_content kcpd-detail-container"},[e.orderInfo&&e.orderInfo.inPut?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("warehouse-content",{attrs:{warehouse:e.warehouseIn}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"matter-list":e.orderInfo.inPut.dataSet},scopedSlots:e._u([{key:"matterOther",fn:function(t){var n=t.item;return a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("加工属性: "+e._s(n.tdProcessing))]),e._v(" "),a("span",[e._v("单位: "+e._s(n.measureUnit_transObjCode))])]),e._v(" "),a("div",{staticClass:"mater_num"},[a("div",[a("span",[e._v("库存余额: "+e._s(n.thenTotalQtyStock||0))]),e._v(" "),a("span",[e._v("计划占用: "+e._s(n.thenLockQtyStock||0))]),e._v(" "),a("span",[e._v("可用库存: "+e._s(e._f("toFixed")(n.thenQtyStock)))])]),e._v(" "),a("div",[a("span",[e._v("盘点数量: "+e._s(e._f("toFixed")(n.tdQty)))]),e._v(" "),a("span",[e._v("差异数量: "),a("span",{staticClass:"diff_num"},[e._v(e._s(e._f("toFixed")(n.differenceNum)))])])])])])}}])}),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},ncND:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2504,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[i.default],methods:{},created:function(){}}},nexV:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("3cXf"),o=n(s),l=a("KH7x"),d=n(l),u=a("Q+Ik"),c=n(u),f=a("4YfN"),m=n(f),h=a("z5TY"),v=n(h),p=a("7g+Q"),C=(n(p),a("SAzG")),y=n(C),_=a("PzEQ"),g=n(_),b=a("vl8n"),w=n(b),I=a("+WR7"),x=n(I),D=a("y8YJ"),P=n(D),S=a("HyXB"),k=a("0AQX"),L=a("bKg5"),N=n(L);t.default={name:"ApplyCPXQForm",data:function(){return{listId:"b30f4d3e-b23d-11e8-96a5-005056a136d0",formViewUniqueId:"b018ef18-f0d1-41a8-985e-29de19e6b705",formData:{biId:"",demandTitle:"",demandDescribe:"",biComment:""},biReferenceId:"",dealerInfo:{},contactInfo:{},uploadStyle:{}}},mixins:[N.default],components:{Group:v.default,XInput:y.default,XTextarea:g.default,RPicker:w.default,PopBaseinfo:x.default,PopDealerList:P.default},methods:{selContact:function(e){this.contactInfo=(0,m.default)({},e)},selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],this.formData.launchDealerCode=this.dealerInfo.dealerCode},save:function(){var e=this,t={demandTitle:"标题",demandDescribe:"描述"};for(var a in this.formData)"string"==typeof this.formData[a]&&this.formData[a].indexOf(" ")>=0&&(this.formData[a]=this.formData[a].replace(/\s/g,""));var n="";if(!n&&(0,c.default)(t).every(function(t){var a=(0,d.default)(t,2),i=a[0],r=a[1];return!!e.formData[i]||(n=r+"不能为空",!1)}),n)return void this.$vux.alert.show({content:n});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=e.formData,a={productDealerCode:e.dealerInfo.dealerCode,address_productDealerCode:e.dealerInfo.address,demandDealerLabel:e.dealerInfo.dealerLabelName,dealerName_productDealerCode:e.dealerInfo.dealerName},n={dealerDebitContactPersonName:e.contactInfo.dealerName,dealerDebitContactInformation:e.contactInfo.dealerMobilePhone},i=e.processCode.length?S.saveAndStartWf:S.submitAndCalc,r={biComment:"",listId:e.listId,biReferenceId:e.biReferenceId,formData:(0,o.default)((0,m.default)({handlerEntity:e.entity.dealerName},t,a,n))};e.transCode&&(i=S.updateData),e.saveData(i,r)}})},getFormData:function(){var e=this;return(0,k.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.biReferenceId,o=void 0===s?"":s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=t.attachment,e.biReferenceId=o,e.formData=(0,m.default)({},e.formData,r),e.dealerInfo={dealerCode:r.productDealerCode,address:r.address_productDealerCode,dealerLabelName:r.demandDealerLabel,dealerName:r.dealerName_productDealerCode},e.$loading.hide()})},hasDraftData:function(){var e=this.formData;if(e.demandTitle||e.demandDescribe||e.processStatus)return(0,r.default)({},"CPXQ_DATA",{formData:this.formData,dealerInfo:this.dealerInfo,contactInfo:this.contactInfo})}},created:function(){var e=sessionStorage.getItem("CPXQ_DATA");e&&(this.formData=JSON.parse(e).formData,this.dealerInfo=JSON.parse(e).dealerInfo,this.contactInfo=JSON.parse(e).contactInfo,sessionStorage.removeItem("CPXQ_DATA"))}}},njvk:function(e,t){},nmkt:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("BGNQ"),r=n(i),s=a("z5TY"),o=n(s),l=a("kNGm"),d=n(l),u=a("0AQX"),c=a("+VRO"),f=n(c),m=a("Qg39"),h=a("BUFe"),v=n(h),p=a("AupE"),C=n(p),y=a("bFc7"),_=n(y);t.default={data:function(){return{count:0,orderInfo:{},contactInfo:{},formViewUniqueId:"5446fc51-1d16-489a-ab2b-6b2292bb7be5"}},mixins:[f.default],components:{Cell:r.default,Group:o.default,RAction:v.default,workFlow:C.default,contactPart:_.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment,e.count=e.count/100,t.formData.validUntil=(0,d.default)(t.formData.validUntil,"YYYY-MM-DD"),t.formData.tdAmount=(0,m.toFixed)(t.formData.tdAmount),e.orderInfo=t.formData,e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.orderInfo);this.contactInfo={creatorName:e.dealerDebitContactPersonName,dealerName:e.dealerName_dealerDebit,dealerMobilePhone:e.dealerDebitContactInformation,dealerContactPersonName:e.dealerDebitContactPersonName,dealerCode:e.dealerDebit,dealerLabelName:e.drDealerLabel,province:e.province_dealerDebit,city:e.city_dealerDebit,county:e.county_dealerDebit,address:e.address_dealerDebit,payment:e.drDealerPaymentTerm,validUntil:e.validUntil,logistics:e.drDealerLogisticsTerms}}}}},ntXv:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("kNGm"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("44qn");t.default={name:"BasicInfo",props:{workFlowInfo:{type:Object,default:function(){return{}}},orderInfo:{type:Object,default:function(){return{}}}},data:function(){return{showMore:!1}},computed:{projectInfo:function(){var e=this.orderInfo.outPut,t=void 0===e?{}:e;return{projectName:t.project||"",projectType:t.projectType_project||""}}},filters:{dateFormat:i.default}}},nzh1:function(e,t){},"o+wH":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"flexbox",props:{gutter:{type:Number,default:8},orient:{type:String,default:"horizontal"},justify:String,align:String,wrap:String,direction:String},computed:{styles:function(){return{"justify-content":this.justify,"-webkit-justify-content":this.justify,"align-items":this.align,"-webkit-align-items":this.align,"flex-wrap":this.wrap,"-webkit-flex-wrap":this.wrap,"flex-direction":this.direction,"-webkit-flex-direction":this.direction}}}}},o2EC:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("YP5q"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"alert",components:{XDialog:i.default},created:function(){void 0!==this.value&&(this.showValue=this.value)},props:{value:Boolean,title:String,content:String,buttonText:String,hideOnBlur:{type:Boolean,default:!1},maskTransition:{type:String,default:"vux-mask"},dialogTransition:{type:String,default:"vux-dialog"},maskZIndex:[Number,String]},data:function(){return{showValue:!1}},methods:{_onHide:function(){this.showValue=!1}},watch:{value:function(e){this.showValue=e},showValue:function(e){this.$emit("input",e)}}}},o99i:function(e,t,a){"use strict";function n(e){a("Y8f1")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IlP4");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Gkvy"),o=a.n(s),l=a("7rXx"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-51777346",null);t.default=c.exports},oA6L:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("4YfN"),o=n(s),l=a("KH7x"),d=n(l),u=a("kNGm"),c=(n(u),a("SAzG")),f=n(c),m=a("0AQX"),h=a("+VRO"),v=n(h),p=a("BUFe"),C=n(p),y=a("AupE"),_=n(y),g=a("kKsb"),b=n(g),w=a("CKaN"),I=n(w),x=a("zWMP"),D=a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",dealerInfo:{},listData:[],cashInfo:{}}},computed:{isApproval:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"71c8f876-0617-4ff9-8a39-f9f99b14125d"===t},isCashier:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"00690810-7eaf-4bef-931b-a72eb5093f88"===t},isAccount:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"b00796ff-5986-4cdd-8ae4-fb202ff79af1"===t},cashParams:function(){return{transCode:this.transCode}}},mixins:[v.default],components:{workFlow:_.default,RAction:C.default,ProjectPart:b.default,PopCashList:I.default,XInput:f.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,m.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=t.formData,i=n.inPut,s=void 0===i?{}:i,l=(0,d.default)(s.dataSet,1),u=l[0],c=void 0===u?{}:u;e.attachment=a,e.dealerInfo=(0,o.default)({},c,s);var f=n.order.dataSet,m=!0,h=!1,v=void 0;try{for(var p,C=(0,r.default)(f);!(m=(p=C.next()).done);m=!0){var y=p.value;y.tdAmount&&(e.count=(0,x.accAdd)(e.count,y.tdAmount))}}catch(e){h=!0,v=e}finally{try{!m&&C.return&&C.return()}finally{if(h)throw v}}e.listData=f,e.orderInfo=n,e.cashInfo=t.formData.outPut.dataSet[0],e.workFlowInfoHandler()})},agreeHandler:function(){if(this.isApproval||this.isCashier||this.isAccount){if(this.isCashier&&!this.cashInfo.fundCode)return this.$vux.alert.show({content:"请选择资金账户"}),!0;var e=this.orderInfo,t=this.dealerInfo,a=this.cashInfo,n=this.listData.map(function(e){return{tdIdCopy1:e.tdIdCopy1,transMatchedCode:e.transMatchedCode,thenTotalAmntBal:e.thenTotalAmntBal,differenceAmountCopy1:e.differenceAmountCopy1,thenAlreadyAmnt:e.thenAlreadyAmnt,thenAmntBalCopy2:e.thenAmntBalCopy2,applicationAmount:e.applicationAmount,tdAmountCopy1:e.tdAmountCopy1,dealerDebit:e.dealerDebit}}),i=(0,o.default)({},e,{order:{dataSet:n},outPut:{dataSet:[{fundName_cashOutCode:a.fundName||a.fundName_cashOutCode,cashOutCode:a.fundCode||a.cashOutCode,cashType_cashOutCode:a.fundType||a.cashType_cashOutCode,thenAmntBal:a.thenAmntBal,tdAmount:a.tdAmount,tdId:a.tdId}]}}),r={"本次支付":t.tdAmountCopy1};this.saveData(i,r)}return!0},selCash:function(e){this.cashInfo=(0,o.default)({},this.cashInfo,e)},calcPayment:function(e){var t=(e.thenAmntBalCopy1,e.tdAmountCopy1),a=void 0===t?0:t;a||(a=0),a=(0,D.toFixed)(a),e.tdAmountCopy1=a}}}},oFd8:function(e,t){},oRkL:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("iR2W"),r=n(i),s=a("kNGm"),o=n(s),l=a("Qg39"),d=a("zWMP");t.default={name:"justWordItem",props:{item:{type:Object,default:function(){return{}}},noCount:{type:Boolean,default:!1},conutTitle:{type:String,default:"合计"}},data:function(){return{}},computed:{total:function(){var e=this.item,t=e.count,a=e.totalAmount,n=e.budgetIncome_project;return n||(null!=t?t:a||0===a?a:void 0)}},filters:{percent:function(e){return e||0===e?(0,d.accMul)(e,100)+"%":"无"},toFixed:l.toFixed,dateFormat:o.default,numberComma:r.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t}}}},oWIc:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("MgeX"),o=n(s),l=a("HzJ8"),d=n(l),u=a("ZLEe"),c=n(u),f=a("3cXf"),m=n(f),h=a("4YfN"),v=n(h),p=a("BGNQ"),C=n(p),y=a("z5TY"),_=n(y),g=a("SAzG"),b=n(g),w=a("kNGm"),I=n(w),x=a("PzEQ"),D=n(x),P=a("u28h"),S=n(P),k=a("jnZd"),L=n(k),N=a("HyXB"),M=a("0AQX"),T=a("bKg5"),A=n(T),O=a("VZtf"),R=n(O),j=a("ZQWM"),B=n(j),E=a("Ylj6"),F=n(E),U=a("9cRV"),$=n(U),Q=a("vl8n"),H=n(Q),V=a("+WR7"),q=n(V),Y=a("luHD"),X=n(Y),G=a("zWMP"),W=a("Qg39");t.default={mixins:[A.default],components:{Cell:C.default,Group:_.default,XInput:b.default,PopMatterList:$.default,PopMatter:X.default,RNumber:R.default,Datetime:S.default,XTextarea:D.default,PopDealerList:B.default,PopupPicker:L.default,PopInvoiceList:F.default,RPicker:H.default,PopBaseinfo:q.default},data:function(){return{taxRate:.16,modifyKey:null,showMatterPop:!1,showMaterielPop:!1,filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"出库单",value:"transCode"}],numMap:{},orderList:{},matterList:[],dealerInfo:{},contactInfo:{},formData:{biProcessStatus:"",biComment:""}}},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],null!=this.matterParams.data.dealerCode&&(this.matterParams.data.dealerCode=this.dealerInfo.dealerCode,this.matterList=[],this.orderList={})},selContact:function(e){this.contactInfo=(0,v.default)({},e)},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,m.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.inventoryCode!==e.inventoryCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getMatter:function(){if(!this.dealerInfo.dealerCode)return void this.$vux.alert.show({content:"请选择客户"});this.showMaterielPop=!this.showMaterielPop},selMatter:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){var a=e.transCode+"_"+e.inventoryCode,i=t.numMap[a]||{},r=i.tdQty,s=void 0===r?e.qtyBal:r,o=i.price,l=void 0===o?e.price:o,d=i.taxRate,u=void 0===d?t.taxRate:d,c=i.promDeliTime,f=void 0===c?"":c;e.tdQty=s,e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null,e.price=l,e.taxRate=u,e.promDeliTime=f,e.dateActivation=(0,I.default)(e.dateActivation,"YYYY-MM-DD"),e.executionDate=(0,I.default)(e.executionDate,"YYYY-MM-DD"),n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t,a){var n=this.selItems,i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode&&e.transCode===t.transCode});if(-1!==i)return void n.splice(i,1);n.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,c.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});i>=0&&(e.$refs.matter.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,d.default)((0,o.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,l=!1,u=void 0;try{for(var c,f=(0,d.default)(r);!(s=(c=f.next()).done);s=!0){var m=c.value;this.numMap[m.transCode+"_"+m.inventoryCode]=(0,v.default)({},m)}}catch(e){l=!0,u=e}finally{try{!s&&f.return&&f.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this;if(this.dealerInfo.dealerCode)if((0,c.default)(this.orderList).length){var t="",a=[],n=!0,i=!1,s=void 0;try{for(var l,u=(0,d.default)((0,o.default)(this.orderList));!(n=(l=u.next()).done);n=!0){var f=l.value,h=!0,p=!1,C=void 0;try{for(var y,_=(0,d.default)(f);!(h=(y=_.next()).done);h=!0){var g=y.value;if(!g.tdQty){t="请填写数量";break}if(!g.price){t="请填写单价";break}var b=g.taxRate||this.taxRate,w=(0,W.toFixed)((0,G.accMul)(g.assistQty,b,g.noTaxPrice)),I={tdId:g.tdId||"",transMatchedCode:g.transCode,inventoryName_transObjCode:g.inventoryName,transObjCode:g.inventoryCode,measureUnit_transObjCode:g.measureUnit,tdProcessing:g.processing,assMeasureUnit:g.assMeasureUnit||null,assMeasureDescription:g.assMeasureDescription||null,assMeasureScale:g.assMeasureScale||null,thenQtyBal:g.qtyBal,tdQty:g.tdQty,assistQty:g.assistQty||0,price:g.price,tdAmount:g.tdAmount,taxRate:b,noTaxPrice:g.noTaxPrice,taxAmount:w,comment:g.comment||""};a.push(I)}}catch(e){p=!0,C=e}finally{try{!h&&_.return&&_.return()}finally{if(p)throw C}}}}catch(e){i=!0,s=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw s}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=N.saveAndStartWf,n=(0,r.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,m.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:"",formData:(0,m.default)((0,v.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.formData.handler,modifer:e.formData.handler,order:{crDealerLabel:"客户",dealerCodeCredit:e.dealerInfo.dealerCode,dataSet:a},dealerCreditContactPersonName:e.contactInfo.dealerName||null,dealerCreditContactInformation:e.contactInfo.dealerMobilePhone||""})),wfPara:(0,m.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=N.saveAndCommitTask),e.processCode.length||(t=N.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})}else this.$vux.alert.show({content:"请选择物料"});else"请选择客户信息"},getFormData:function(){var e=this;return(0,M.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.attachment=t.attachment;var a={},n=t.formData,i=n.order,r=void 0===i?{}:i;r.dataSet.map(function(t){t=(0,v.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,clientInventoryName:t.dealerInventoryName,clientInventoryCode:t.dealerInventoryCode,qty:t.thenTotalQtyBal,stockQty:t.thenLockQty,qtyBal:t.thenQtyBal,transCode:t.transMatchedCode,invSubUnitMulti:t.assMeasureScale}),e.matterList.push(t),a[t.transCode]||(a[t.transCode]=[]),a[t.transCode].push(t)}),e.handlerDefault={handler:n.handler,handlerName:n.handlerName,handlerUnit:n.handlerUnit,handlerUnitName:n.handlerUnitName,handlerRole:n.handlerRole,handlerRoleName:n.handlerRoleName},e.orderList=a,e.formData=(0,v.default)({},e.formData,e.handlerDefault,{biComment:n.biComment,biId:n.biId,biProcessStatus:n.biProcessStatus,creator:n.creator,modifer:n.modifer}),e.dealerInfo={creatorName:n.dealerCreditContactPersonName,dealerName:r.dealerName_dealerCodeCredit,dealerMobilePhone:n.dealerCreditContactInformation,dealerContactPersonName:n.dealerCreditContactPersonName,dealerCode:r.dealerCodeCredit,dealerLabelName:r.crDealerLabel,province:r.province_dealerCodeCredit,city:r.city_dealerCodeCredit,county:r.county_dealerCodeCredit,address:r.address_dealerCodeCredit},e.contactInfo={dealerName:n.dealerCreditContactPersonName,dealerMobilePhone:n.dealerCreditContactInformation},e.matterParams.data.dealerCode=e.dealerInfo.dealerCode,e.$loading.hide()})},hasDraftData:function(){return!!(0,o.default)(this.dealerInfo).length&&(0,r.default)({},"KPSQ_DATA",{handlerDefault:this.handlerDefault,dealer:this.dealerInfo,list:this.orderList,contactInfo:this.contactInfo})}},created:function(){var e=sessionStorage.getItem("KPSQ_DATA");if(e){var t=JSON.parse(e);this.handlerDefault=t.handlerDefault,this.dealerInfo=t.dealer,this.orderList=t.list;var a=!0,n=!1,i=void 0;try{for(var r,s=(0,d.default)((0,o.default)(this.orderList));!(a=(r=s.next()).done);a=!0){var l=r.value,u=!0,c=!1,f=void 0;try{for(var m,h=(0,d.default)(l);!(u=(m=h.next()).done);u=!0){var v=m.value;this.matterList.push(v)}}catch(e){c=!0,f=e}finally{try{!u&&h.return&&h.return()}finally{if(c)throw f}}}}catch(e){n=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}this.contactInfo=t.contactInfo,this.matterParams.data.dealerCode=this.dealerInfo.dealerCode,sessionStorage.removeItem("KPSQ_DATA")}}}},of1D:function(e,t,a){"use strict";function n(e){a("vzn5")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("wxaE");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("q3qU"),o=a.n(s),l=a("B1Yr"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-5da5fd84",null);t.default=c.exports},ojrp:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("rVsN"),r=n(i),s=a("KH7x"),o=n(s),l=a("0AQX"),d=a("kNGm"),u=n(d),c=a("1KNX"),f=n(c);t.default={name:"WorkFlowFull",data:function(){return{transCode:"",currentUser:{},workFlow:[],defaulImg:a("Fuf7")}},computed:{workFlowList:function(){var e=this.workFlow,t=this.currentUser.userId,a=void 0===t?"":t;return e.forEach(function(e){e.isMyNode=""+a==""+e.assignee}),e}},components:{RScroll:f.default},methods:{getDefaultIcon:function(e){var t=this.defaulImg;return e&&(e.photoUrl=t),t},getCurrentUser:function(){var e=this;return(0,l.currentUser)().then(function(t){e.currentUser=t})},getWorkFlow:function(){var e=this;return(0,l.getWorkFlow)({transCode:this.transCode}).then(function(t){var a=t.tableContent,n=void 0===a?[]:a,i=(0,o.default)(n,1),r=i[0],s=void 0===r?{}:r,l=n.slice(-1),d=(0,o.default)(l,1),u=d[0];n.forEach(function(e,t){e.statusClass="",e.statusText="已完成"}),s.statusText="已提交",u.endTime?u.statusClass="done":(u.statusClass="doing",u.statusText="进行中"),e.workFlow=n.reverse()})}},filters:{dateFormat:u.default},created:function(){var e=this,t=this.$route.query.transCode,a=[];this.transCode=t,this.$loading.show(),a.push(this.getCurrentUser()),a.push(this.getWorkFlow()),r.default.all(a).then(function(){e.$loading.hide()})}}},"oro+":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2317,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[i.default],methods:{},created:function(){}}},"ow/D":function(e,t,a){"use strict";function n(e){a("wwEb")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("doYu");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("5q3q"),o=a.n(s),l=a("GxoI"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-61d9d101",null);t.default=c.exports},owYz:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("yp1W"),i=function(e){return e&&e.__esModule?e:{default:e}}(n),r=null,s={};s.install=function(e){if(!r){var t=e.extend(i.default);r=(new t).$mount(),document.body.appendChild(r.$el)}e.prototype.$loading={show:function(){r.show=!0},hide:function(){r.show=!1}}},t.default=s},oxLw:function(e,t,a){"use strict";function n(e){a("RgoX")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("OC53");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("yosr"),o=a.n(s),l=a("1+Tt"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-59f3a228",null);t.default=c.exports},"oxg+":function(e,t,a){"use strict";function n(e){a("/5ub")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("DBVi");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("rSJi"),o=a.n(s),l=a("qU7Z"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-378dc6d1",null);t.default=c.exports},oylf:function(e,t,a){"use strict";function n(e){a("mdNF")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("8ODN");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Tra/"),o=a.n(s),l=a("M+t1"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-4738b68c",null);t.default=c.exports},"p+UZ":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"p/0M":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAYAAAA8AXHiAAAAAXNSR0IArs4c6QAADxJJREFUeAHtXQuQHEUZ/rtn9i4hbwKBEBBCEgwgKFBEiFIGRNCIgCWkSgyKhIfgg0dAUESCvDGFEAvkEaASXkoAgQAFIdFUWQQDaCEWIgkiREEkCgQMyd30w2/2slt7e7t7u3ezM927/1QlN9Pd8/ff3/9tP/5+jKAal7332ICe2TCEtOikwIYkuiVFWtR4haNaFYFcYMl2GHBBgQtdNG3UZjFria5W3IokyRNq1foRRHpotRc5nBEgCjbR9G0/qESwPsSy82YMoY00mmsmJk5dCMQ12TB6T8xbubk0fS9i2XMOG0Zq08jSBHzPCNSFQDj0fTF/2cZCWlm4yddUTKoCHPy3UQTAnTyHtryXJ1a+TxU3f3wxAoNBABzKcwkyemqsuKPOo73BQMrvxgjEHMoP+kCsHobx6I+ZkRQCemjMKZn3UyUlk+UwAjEC8H3KvPOT4WAEkkQADnWZ96gnKZRlMQKYpZH5aRqGghFIEgFM/fHcX5KAsqweBDA6LDpIGRNGIEkEmFhJosmyiggwsYpQ8E2SCDCxkkSTZRURYGIVoeCbJBFgYiWJJssqIsDEKkLBN0kiwMRKEk2WVUSAiVWEgm+SRICJlSSaLKuIABOrCAXfJIkAEytJNFlWEQEmVhEKvkkSASZWkmiyrCICTKwiFHyTJAJMrCTRZFlFBJhYRSj4JkkEwiSFtZws2/0xrIWcbYXdDWWbsqV8a4UVawJh7yCbe7HlypxQgZhYlYCUYqKy0fkkxBE4u6fX+RZIPhZEO8ASHU9CPRKK3JVk7N8riWnnMG4Ky6xvKDpG2e4nQagvgTzlpCqmjuPiNHFaI9SsYgTf5BFgYhWIIOxQJdV12CS+AKTZqhDc3984rSZ7rRJqAajG54ltAYyJFQMhu6dGpB631h7bH5GqxaP2OgYynqBQ714tTTuFtz2xjOg+TpF8FEYvdM4HY//JythHUXvNHoyQVni3fYkl1DA0fTdoEvNRUyXWhEHWENReV4Ncv6CcGN4KJBlIGdqTWKJ7r0jYZSDB0QMBrZ53QK6jItW9DDvN96onfaulaTtioZY6AU3fw2RpYgrG3EUJsVTJ6MQU8nIqi/YhVocZqUT3QtRSl6M26UzLCtZSB/5dCnItJOiQVr5Z59MWxNIUfSKKFHxTYmZWgINcM1Wkl2tp9slKhzTzbXliqUCdDN/5Q/Bn7pQmsJXygs9rR2v1g0rqUyvFt1JY6xIroDFofhZZYy+GQXOuGC3WxVpzkRLRYoKOruiVtB4tSSwto/0x14dRH30uacCSkgeCHQodn9RCT0tKpktyWo5YSujvoC91P0g1wSWgK+kCHXfAQOJ++Ly+Vyne57DWIVaox6Lpu8uS+SFGft6s2gCx4q8fnY+m8R5MB431mUylurcEsXRgDlTaLEcNcHBp4Xy6R9P4GWXMCh3oT/mkdzVd/SaWwoIVoc7CSGsJDLNdtUL6Eo4fxjh07H+F2msuoWy+6F1JT3+JJe04ldP3ohk5FwbxtxxlVonLgh/JXJRtCe7GlUV78+ilQTCS+oyyajkM0BLNRiW2oGzTlVErNKkZleJdD/OLWAIzfUKdhw763QB+G9fBHax+cOzGy6DvgvvkB6S7g8HKS/N9n4g1XmFojqbvDJDK6/5HIwaOy2osfVeF8n6srd+hkXezTOsFsbTUn0WHFnN99Mkswcoyb/ygpqlQP6mlctbpW4qP28SSIkQzcCFGSotBqq1LFW/He/jnxhhrF2nqvoiAjcsYuEusQO6IHTAPohk4rZ2avnrIYoQ4VVH0EDoEmU+sV9PXSWJhJPQFZbripm/faoq3ezhqr31ArmVamMyWAtWygVvEsjanhbrECHsrSDWqluIcR1gES6MM6YVaRJdRoDtcwsQdYkmzcyT1UkN2jksA+aCLIfpmZO1SIr2LK/o6QSwj1ZHK6mX4De7tCjDe6WHtXgobRIyMmrZBpBFMMiZW1Imm7ypt7Y2o1kc0ojin7YsAXBLDtaUbIhldTaprSN8U6YVkR6zATooEPYqm7/j0itsmOVmaHeWCxygnJ2dV4kyIhTUJX8E82BMo9B5ZFbz187VTlep6HE3jgI8NGAxGqRMLroQrcYjGz9H01X3wxmAK2M7vxhijabwuEmgaU75SJZYi/W24Er6echk5O6LZ8ZLtNIFIlVhWmLY/LCNN45bmhRUhXyt9bvZ9qsQSQtTcCSxIPI9jGC9pdqFbUT6w3VSrXP1hX+vdgcSlSiz4qZ6rpqQkcXNogqOEkK9XS8PhNRCw4nIY8/aqKSw9WzWuCRGpEisMxGU4X/G/peVALfWepOCEwIbzcOZnVBrH940gYLsCm7sAWJ6ExWrvl74pBL0VytxlpWHNvk936UUUrgmF+byifF9rF9Rgr4Qd8nbqku80u6DtIj+w8jEsqXkOo+85GBVOwoTiS6GRdwLrf6eJQbrEiktm5RshyauKhewq3vFNUggY8XZAuSuSEjcQOak2hQNRkN/xEwEmlp92c17r9JtC5yFJWMEgR2LCFJwx00n2ny8TdX2YcAZuivOeWBhVopcmfyakWY2OquoDs7UYFNFk7Cv+PjaDbt8nvokB8tPHkPzi6SQ6e87OtSCVeWIhmZX3NDFXN0R7TyzAuCC0cgHpmq36c1bodfA+35cW7PLwkyg4vPeaRdG5FQVH4mCZrUaSeeymtFTJJJ+a1shEowYzFVI8U88rAYV1patHVr9pxu1M8tBvVE0WHHoCyRlfrRrfChHeEwv+i77NXyXLmDrTVXq3wTA5ZT8SQe3GIK65xLQjGpTsT/IWIJaDYG9T366sYBY+MLb3DAcLMHiVmFiDx7CvhHi4UMclZEDB7J+QmLJ/Han9SsLEytheIsxRcOJVJHbeM2NNks2eiZUUngJQ7jCZ5IFHk5zU2FHusTsiOPkaou13TUqbzOXU7mFmrp7jCnQMIbn/TPSTDiHxkd3hrxr4amsBF0T4retILcAR8O+86XjB+1fPe2IJYyahmKv7LyolVx2M3o7yzs8DjyIxNLlda2LkNhSetqCHXB/0Wl1UR/HcSuJ9U2iEnIujffarCWt8wIiI5tdMU2dk7H8KL7iPgkNmJ0qqQvZi7IR8zUUJErYgO82/3tdYOBxjPNYdLbUiirBQUPcBD4e+4+sUnX3CGw2AoYPjLiS550GNvtlwejF+EgVzfkr6+tPhpsMGeg8v72usAuYgFz4lgo9Qlv9L4ktf6FSH5yxOhVSF8shdPw7vvb8bmlqGWAWDJP437lSj9hBjUp2/zhdDHoa5xuF+fm6HiVWLiXB0BsfDgTk2m6M/42khMcnPI8K872PBx42FMfLuwNrfozdVoY+F3YwkJoM/p6C5HFaLR+VxcuZpJD+a7bGnsRsCent3+U8sK24JbTAvj3wVC8TVMs6G/zOWzdxWt4W23Ynkwanu8ayomvXUp+V/UyjlbypapCwwsOa3ZUE1HwMsexEyW3jshvXYx/THmnq6GpktckmgIgxWkNZz5epMB1noqIt9D69HaNPSWI2TLu65FFWtn1st/SdWE0wrD4BHvZ/1VE3ItpdI88A1ZNektzaxV+YJPDCxKoAo95heITS9IB2vi3/61+ll2IScmFjloGK+TkzYrTw0tWf91APYcHFravk1KyMmVhmyYnJ2fiPz/AoyDyQypVlWqvQfvXc3JA2ZGOCaKBt1kf3HX8m+9gKJHaeS3K2xVaFmzbOk75oXe+WSLlIm8rwnFpbN1OcWj7+cFfSPsdh+Yv+JSlLY7s1knsKHuVYsJvqw55AX+eWziRogVkxIffv5GAHWty+kJHtnb70nFs7YPFMauxonrFRfHSfsUBVEF9fzNToxZnzdxjKv/on04h/h0KD/1P1OeUL79jpSN5/VcjukvScWlspMUYFejQ9Grqu4ExpswjUB8z4925HLLVv+PGLr8pCKz+aFlaTvvIhIdVeMrycwdoCqm84g2vhePcm9SuM/sQA3Ds4P8F/VNgxLaeo3yvDR/aY1zy8nfcePq/eH6jifwaLZVDedSfTuW/3m52MCHhWWWi3etoVOeK3Lvv066V9eXp1UeNm+sbaWCIr7ZXrhuURvvVoznc+RTKxS66Fms6+/WBrS6z4mhFp0AVF3zXNkyb74O5yf91qvdwsP+akayIhHj618MbHKrGseuR6b9ivPz5mHFxD9629lb1R4RL9L3XZe3v1QGmv/9y7pW84m+9Kq0uCWvG+JPlaSlonPsNK3zKX89vctC/xiopkVi8isamCaZT1Ge9fOIbHT1J79ghs39Mz99dPUJlmWLGUxsSqgb9c+S+qKWSDERBJYGmzffIUItU3DFzZC2HV/IYr/tdnFxKpmcIPFqCBUA+PJapLaMpz7WG1p9uYXmonVfIzbMgcmVluavfmFZmI1H+O2zME9YgnbehNnbUgt54gV6GAtJlZ4MOY5GZ0jFglaD0yf9hzXtlffPWLBJFjmcgXXWo1xUwpbe/a8MXGDTu0ksQIT/gH0umTQpWsjAUaLl10qrpPEigEKbXhjIO2pWMlSfWWoS0hmqAswWhGK0KnlEs4SK7aT1B1LQbCDBL5vmP9edNmXQzO0pRNZxz86GBBnV4SnOKFQiRLCnnlQ/Yu8S17kW0agFgJO11i1FOc4txFgYrltH2+1Y2J5azq3FWdiuW0fb7VjYnlrOrcVZ2K5bR9vtWNieWs6txVnYrltH2+1Y2J5azq3FWdiuW0fb7VjYnlrOrcVZ2K5bR9vtWNieWs6txVnYrltH2+1Y2J5azq3FWdiuW0fb7VjYnlrOrcVZ2K5bR9vtWNieWs6txWXlAt417HbNvJPO3BKku0w/mnOGjuNADgl8U3b1vnOhtNot5Fy4JSkwK2t2W0Ef+sWFZySNG3U5tYtIZcsEwTAKSlmLcEprkHtE/Ez0Y4z9ROBYFPMqR53w/RtP+DRoZ9mdErr2MMQcwlXnlj5WmsY8Ul6TlnJQ2XAoZ4WsOwDfvacw4aR2jTSwyKxylkjEA59X8xftrGgBs43633ZeTOG0EYaTZHuE9c7JT8xAkAgbv7immreyl6DwIrksfceG9Cq9SPwLdn6Ph7JCLcpAhj0oU9VaP5KQahIrEKCPMGe2TAETtRO+LtCEt2Sa7ICOm32N66Z4lma2KEe+z7hUqhEqAIq/wcRWXIizXgd1QAAAABJRU5ErkJggg=="},"p/zx":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("3cXf"),o=n(s),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("7g+Q"),C=n(p),y=a("PzEQ"),_=n(y),g=a("jnZd"),b=n(g),w=a("u28h"),I=n(w),x=a("kNGm"),D=n(x),P=a("0AQX"),S=a("HyXB"),k=(a("jLp1"),a("bKg5")),L=n(k),N=a("55ug"),M=n(N),T=a("wuIh"),A=n(T),O=a("vl8n"),R=n(O),j=a("+WR7"),B=n(j),E=a("zWMP"),F=a("Qg39"),U={draftNumber:"",draftType:"",accepter:"",tdAmount:"",draftDate:"",draftDueDate:"",comment:""};t.default={mixins:[L.default],components:{Cell:c.default,Group:m.default,Popup:C.default,XInput:v.default,XTextarea:_.default,PopupPicker:b.default,RPicker:R.default,PopBaseinfo:B.default,PopDealerList:M.default,PopMoneyOrderList:A.default,Datetime:I.default},data:function(){return{listId:"1745ffdd-1b6a-4fe5-9c5b-6e5394bd4faf",biReferenceId:"",selectedCost:[],costIndex:0,transCode:"",formData:{biComment:""},dealerInfo:{},showOrder:!1,orderList:[(0,d.default)({},U)],dealerParams:{dealerLabelName:"客户"},draftTypeList:["银行承兑","商业承兑"]}},computed:{thenTotalAmntBal:function(){var e=0;return this.orderList.forEach(function(t){t.tdAmount&&(e=(0,E.accAdd)(e,t.tdAmount))}),(0,F.toFixed)(e)}},methods:{submitOrder:function(){var e=this,t="",a=[],n=[{key:"draftNumber",message:"请输入汇票号"},{key:"draftType",message:"请选择类型"},{key:"accepter",message:"请输入承兑人"},{key:"tdAmount",message:"请输入金额"},{key:"draftDate",message:"请选择出票日"},{key:"draftDueDate",message:"请选择到期日"}];if(this.dealerInfo.dealerCode||(t="请选择往来"),t||this.orderList.every(function(e){return n.every(function(a){return e[a.key]||0===e[a.key]||(t=a.message),!t}),a.push({tdId:e.tdId||"",draftNumber:e.draftNumber,draftType:e.draftType,accepter:e.accepter,tdAmount:e.tdAmount,draftDate:e.draftDate,draftDueDate:e.draftDueDate,comment:e.comment}),!t}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=S.saveAndStartWf,n=(0,r.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,o.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.formData.biComment,formData:(0,o.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{dealerName_dealerCodeCredit:e.dealerInfo.dealerName,dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName,thenAmntBalCopy2:e.dealerInfo.amntBal,thenAlreadyAmnt:e.thenTotalAmntBal,dataSet:a}})),wfPara:(0,o.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=S.saveAndCommitTask),e.processCode.length||(t=S.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.attachment,n=void 0===a?[]:a,i=t.listId,r=void 0===i?"":i,s=(t.biComment,t.biReferenceId),o=void 0===s?"":s,l=t.formData,u=void 0===l?{}:l;e.attachment=n,e.listId=r,e.biReferenceId=o,e.handlerDefault={handler:u.handler,handlerName:u.handlerName,handlerUnit:u.handlerUnit,handlerUnitName:u.handlerUnitName,handlerRole:u.handlerRole,handlerRoleName:u.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:u.biComment,biId:u.biId,biProcessStatus:u.biProcessStatus,creator:u.creator,modifer:u.modifer});var c=u.order,f=void 0===c?{}:c,m=f.dataSet,h=void 0===m?[]:m;e.dealerInfo={dealerName:f.dealerName_dealerCodeCredit,dealerCode:f.dealerCodeCredit,dealerLabelName:f.crDealerLabel,amntBal:f.thenAmntBalCopy2,thenTotalAmntBal:f.thenAlreadyAmnt},e.orderList=h,e.$loading.hide()})},hasDraftData:function(){return!!this.dealerInfo.dealerCode&&(0,r.default)({},"SDCDHP_DATA",{formData:this.formData,dealerInfo:this.dealerInfo,orderList:this.orderList})},getRelationData:function(){},selDealer:function(e){this.dealerInfo=(0,d.default)({},e)},selOrder:function(e){e.forEach(function(e){e.draftDate=(0,D.default)(e.draftDate,"YYYY-MM-DD"),e.draftDueDate=(0,D.default)(e.draftDueDate,"YYYY-MM-DD")}),this.orderList=e},addOrder:function(){this.orderList.push((0,d.default)({},U))},deleteOrder:function(){this.orderList.pop()},checkAmt:function(e,t){switch(e){case"tdAmountCopy1":this.dealerInfo.tdAmountCopy1=(0,F.toFixed)(this.dealerInfo.tdAmountCopy1);break;default:e[t]=(0,F.toFixed)(e[t])}}},created:function(){var e=sessionStorage.getItem("SDCDHP_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.orderList=t.orderList,sessionStorage.removeItem("SDCDHP_DATA")}}}},p3VH:function(e,t){},p4QX:function(e,t){},p6YX:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){for(var a=e.length;a--;)if(e[a]===t)return!0;return!1}Object.defineProperty(t,"__esModule",{value:!0});var r=a("DEQU"),s=n(r),o=a("MPfS"),l=a("GM4P"),d=n(l);t.default={name:"radio",mixins:[s.default],filters:{getValue:o.getValue,getKey:o.getKey},props:(0,d.default)(),created:function(){this.handleChangeEvent=!0},methods:{getValue:o.getValue,getKey:o.getKey,onFocus:function(){this.currentValue=this.fillValue||"",this.isFocus=!0}},watch:{value:function(e){this.currentValue=e},currentValue:function(e){var t=i(this.options,e);""!==e&&t&&(this.fillValue=""),this.$emit("on-change",e,(0,o.getLabel)(this.options,e)),this.$emit("input",e)},fillValue:function(e){this.fillMode&&this.isFocus&&(this.currentValue=e)}},data:function(){return{fillValue:"",isFocus:!1,currentValue:this.value}}}},p6ff:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("3cXf"),o=n(s),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("7g+Q"),C=n(p),y=a("PzEQ"),_=n(y),g=a("jnZd"),b=n(g),w=a("0AQX"),I=a("HyXB"),x=(a("jLp1"),a("bKg5")),D=n(x),P=a("aumL"),S=n(P),k=a("vl8n"),L=n(k),N=a("+WR7"),M=n(N),T=a("y8YJ"),A=n(T),O=a("zWMP");a("Qg39");t.default={mixins:[D.default],components:{Cell:c.default,Group:m.default,Popup:C.default,XInput:v.default,XTextarea:_.default,PopFundList:S.default,PopupPicker:b.default,RPicker:L.default,PopBaseinfo:M.default,PopDealerList:A.default},data:function(){return{listId:"1972f3a4-b29a-4a0e-90a8-85090c0e2d28",biComment:"",biReferenceId:"",showCostPop:!1,CostList:[{cashName:"",cashOutCode:"",cashType_cashOutCode:"",tdAmount:""}],selectedCost:[],costIndex:0,transCode:"",dealerInfo:{},contact:{},formData:{biComment:"",biProcessStatus:""}}},computed:{totalAmount:function(){var e=0;return this.CostList.forEach(function(t){t.tdAmount&&(e=(0,O.accAdd)(e,t.tdAmount))}),e}},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0]},selContact:function(e){this.contact=(0,d.default)({},e)},getCost:function(e,t){this.showCostPop=!0,this.costIndex=e,this.selectedCost=[t]},addCost:function(){this.expSubjectList=[],this.CostList.push({cashName:"",cashOutCode:"",cashType_cashOutCode:"",tdAmount:""})},deleteCost:function(){this.CostList.pop()},selMatter:function(e){var t=e;this.CostList[this.costIndex].cashName=t.fundName,this.CostList[this.costIndex].cashOutCode=t.fundCode,this.CostList[this.costIndex].cashType_cashOutCode=t.fundType},submitOrder:function(){var e=this,t="",a=[];if(this.CostList.every(function(e){return e.cashName?e.tdAmount?(a.push({tdId:e.tdId||"",cashOutCode:e.cashOutCode,cashType_cashOutCode:e.cashType_cashOutCode,tdAmount:e.tdAmount}),!0):(t="请填写支付金额",!1):(t="请选择资金账户",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=I.saveAndStartWf,n=(0,r.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,o.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:"",formData:(0,o.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,dataSet:a},dealerDebitContactPersonName:e.contact.dealerName||null,dealerDebitContactInformation:e.contact.dealerMobilePhone||null})),wfPara:(0,o.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=I.saveAndCommitTask),e.processCode.length||(t=I.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,w.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.attachment=t.attachment,e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.CostList=[];var a=t.formData;e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),a.order.dataSet.forEach(function(t){var a={cashName:t.fundName_cashOutCode,cashOutCode:t.cashOutCode,cashType_cashOutCode:t.cashType_cashOutCode,tdAmount:t.tdAmount,tdId:t.tdId};e.CostList.push(a)}),e.dealerInfo={creatorName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation,dealerCode:a.order.dealerDebit,dealerLabelName:a.order.drDealerLabel,dealerName:a.order.dealerName_dealerDebit,province:a.order.province_dealerDebit,city:a.order.city_dealerDebit,county:a.order.county_dealerDebit,address:a.order.address_dealerDebit},e.contact={dealerName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation},e.$loading.hide()})},hasDraftData:function(){var e=!1;return this.CostList.forEach(function(t){if(t.cashName)return e=!0,!1}),!!e&&(0,r.default)({},"FYBX_DATA",{cost:this.CostList,formData:this.formData,dealerInfo:this.dealerInfo,contact:this.contact})}},created:function(){var e=sessionStorage.getItem("FYBX_DATA");if(e){var t=JSON.parse(e);this.CostList=t.cost,this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.contact=t.contact,sessionStorage.removeItem("FYBX_DATA")}}}},p9IC:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"popup-header",props:{leftText:String,rightText:String,title:String,showBottomBorder:{type:Boolean,default:!0}}}},pAHg:function(e,t,a){"use strict";function n(e){a("XJ9N")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("kA5c");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("d8ys"),o=a.n(s),l=a("sCAP"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-099b57b4",null);t.default=c.exports},pD7w:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("a3Yh"),o=n(s),l=a("KH7x"),d=n(l),u=a("Q+Ik"),c=n(u),f=a("3cXf"),m=n(f),h=a("BGNQ"),v=n(h),p=a("z5TY"),C=n(p),y=a("SAzG"),_=n(y),g=a("PzEQ"),b=n(g),w=a("u28h"),I=n(w),x=a("jnZd"),D=n(x),P=a("jLp1"),S=a("bKg5"),k=n(S),L=a("JUuq"),N=n(L),M=a("vl8n"),T=n(M),A=a("+WR7"),O=n(A),R=a("Qg39"),j=a("zWMP");t.default={mixins:[k.default],components:{Cell:v.default,Group:C.default,XInput:_.default,Datetime:I.default,XTextarea:b.default,PopNameList:N.default,PopupPicker:D.default,RPicker:T.default,PopBaseinfo:O.default},data:function(){return{listId:"0281f8eb-f1d2-415c-b566-756fc749ccb3",projectTypes:[["设计类","协调类","执行类"]],planModel:{taskName:"",taskType:"",taskTypes:[],comment:"",deadline:"",cycleDays:"",planTime:"",jobRate:"",budgetHomeworkCost:""},projectPlan:[],formData:{biProcessStatus:"",biComment:""},formDataComment:"",project:{}}},methods:{addPlan:function(){var e=(0,m.default)(this.planModel);this.projectPlan.push(JSON.parse(e))},delatePlan:function(){this.projectPlan.pop()},typeTask:function(e,t){t.taskType=e[0]},selProject:function(e){var t=JSON.parse(e);this.project=t;var a={projectType:this.project.PROJECT_TYPE,filters:(0,m.default)([{operator:"in",property:"projectType",value:this.project.PROJECT_TYPE}])};this.getProjectBotTask(a)},getProjectBotTask:function(e){var t=this;(0,P.getProjectBotTask)(e).then(function(e){var a=e.tableContent,n=void 0===a?[]:a;n.forEach(function(e){e.taskTypes=[e.taskType]}),t.projectPlan=n})},save:function(){var e=this,t="",a=[];this.project.PROJECT_NAME||(t="请选择项目");var n={taskName:"任务名称",deadline:"截止日期"};if(t||this.projectPlan.every(function(e){return(0,c.default)(n).every(function(a){var n=(0,d.default)(a,2),i=n[0],r=n[1];return!!e[i]||(t=r+"不能为空",!1)}),a.push({budgetHomeworkCost:e.budgetHomeworkCost,comment:e.comment,cycleDays:e.cycleDays,deadline:e.deadline,jobRate:e.jobRate,planTime:e.planTime,projectType:e.projectType,taskName:e.taskName,taskType:e.taskType}),!t}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=P.saveProjectPlan,n={listId:e.listId,formData:{baseinfo:{biProcessStatus:e.formData.biProcessStatus,handlerEntity:e.entity.dealerName,creator:e.formData.handler,handler:e.formData.handler,handlerName:e.formData.handlerName,handlerRole:e.formData.handlerRole,handlerRoleName:e.formData.handlerRoleName,handlerUnit:e.formData.handlerUnit,handlerUnitName:e.formData.handlerUnitName,id:"",modifer:e.formData.handler},comment:{biComment:e.formData.biComment},projectApproval:{projectName:e.project.PROJECT_NAME,comment:e.project.COMMENT,projectManager:e.project.PROJECT_MANAGER,expectStartDate:e.project.EXPECT_START_DATE,expectEndDate:e.project.EXPECT_END_DATE},projectPlan:a}};e.saveData(t,n)}})},checkTime:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=e.planTime,i=e.jobRate;e[t]&&(e[t]=Math.abs((0,R.toFixed)(e[t],a))),"planTime"!==t&&"jobRate"!==t||(e.budgetHomeworkCost=(0,j.accMul)(Number(n),Number(i)))},hasDraftData:function(){return!!this.project.PROJECT_NAME&&(0,o.default)({},"XMJH_DATA",{project:this.project,projectPlan:this.projectPlan})},getRelationData:function(){var e=this;return(0,P.findProjectPlan)(this.relationKey).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=(t.attachment,JSON.parse((0,m.default)(n.projectApproval)));e.project={BUDGET_CAPITAL:i.budgetCapital,BUDGET_COST:i.budgetCost,BUDGET_INCOME:i.budgetIncome,BUDGET_PROFIT:i.budgetProfit,BUDGET_PROFIT_MARGIN:i.budgetProfitMargin,COMMENT:i.comment,EXPECT_END_DATE:i.expectEndDate,EXPECT_START_DATE:i.expectStartDate,ID:i.projectApprovalId,PHONE_NUMBER:i.phoneNumber,PROJECT_MANAGER:i.projectManager,PROJECT_NAME:i.projectName,PROJECT_STATUS:i.projectStatus,PROJECT_SUBCLASS:i.projectSubclass,PROJECT_TYPE:i.projectType,REFERENCE_ID:i.referenceId},e.projectPlan=n.projectPlan,e.formData=n.baseinfo,e.selProject((0,m.default)(e.project)),e.$loading.hide()})},getFormData:function(){var e=this;return(0,P.findProjectPlan)(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=(t.attachment,JSON.parse((0,m.default)(n.projectApproval)));e.project={BUDGET_CAPITAL:i.budgetCapital,BUDGET_COST:i.budgetCost,BUDGET_INCOME:i.budgetIncome,BUDGET_PROFIT:i.budgetProfit,BUDGET_PROFIT_MARGIN:i.budgetProfitMargin,COMMENT:i.comment,EXPECT_END_DATE:i.expectEndDate,EXPECT_START_DATE:i.expectStartDate,ID:i.projectApprovalId,PHONE_NUMBER:i.phoneNumber,PROJECT_MANAGER:i.projectManager,PROJECT_NAME:i.projectName,PROJECT_STATUS:i.projectStatus,PROJECT_SUBCLASS:i.projectSubclass,PROJECT_TYPE:i.projectType,REFERENCE_ID:i.referenceId},n.projectPlan.forEach(function(e){e.taskTypes=[e.taskType]}),e.projectPlan=n.projectPlan,e.handlerDefault={handler:n.baseinfo.handler,handlerName:n.baseinfo.handlerName,handlerUnit:n.baseinfo.handlerUnit,handlerUnitName:n.baseinfo.handlerUnitName,handlerRole:n.baseinfo.handlerRole,handlerRoleName:n.baseinfo.handlerRoleName},e.formData=(0,r.default)({},e.formData,e.handlerDefault,{biComment:n.baseinfo.biComment,biId:n.baseinfo.biId,biProcessStatus:n.baseinfo.biProcessStatus,creator:n.baseinfo.creator,modifer:n.baseinfo.modifer}),e.biReferenceId=n.biReferenceId,e.$loading.hide()})}},created:function(){var e=(0,m.default)(this.planModel),t=sessionStorage.getItem("XMJH_DATA");if(t){var a=JSON.parse(t);return this.project=a.project,this.projectPlan=a.projectPlan,void sessionStorage.removeItem("XMJH_DATA")}this.transCode||this.relationKey||this.projectPlan.push(JSON.parse(e))}}},pLZ0:function(e,t,a){"use strict";function n(e){a("7LsP")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Wkue");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("lK9Z"),o=a.n(s),l=a("rBkj"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-753225e6",null);t.default=c.exports},pM28:function(e,t){},"pVM+":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pop-name-list-container",on:{click:e.itemClick}},[e.selItems.PROJECT_NAME?[a("div",{staticClass:"user_info"},[a("div",{staticClass:"user_name"},[e._v("\n        "+e._s(e.selItems.PROJECT_NAME)),a("span",{staticClass:"symbol"},[e._v(" [项目名称]")])])]),e._v(" "),a("div",{staticClass:"cp_info"},[a("div",{staticClass:"cp_manager"},[e._v("\n        "+e._s(e.selItems.PROJECT_MANAGER)),a("span",{staticClass:"symbol"},[e._v(" [项目经理]")])]),e._v(" "),a("div",{staticClass:"cp_name"},[e.selItems.PROJECT_TYPE?[e._v("\n          "+e._s(e.selItems.PROJECT_TYPE)),a("span",{staticClass:"symbol"},[e._v(" [项目大类]")])]:e._e(),e._v(" "),e.selItems.PROJECT_SUBCLASS?[e._v("\n          "+e._s(e.selItems.PROJECT_SUBCLASS)),a("span",{staticClass:"symbol"},[e._v(" [项目子类]")])]:e._e()],2),e._v(" "),e.selItems.COMMENT?a("p",{staticClass:"cp_name"},[e._v("\n        "+e._s(e.selItems.COMMENT)),a("span",{staticClass:"symbol"},[e._v(" [项目说明]")])]):e._e(),e._v(" "),a("p",{staticClass:"cp_ads"},[e._v("预期开始日期: "+e._s(e._f("handlerDate")(e.selItems.EXPECT_START_DATE)))]),e._v(" "),a("p",{staticClass:"cp_ads"},[e._v("预期截止日期: "+e._s(e._f("handlerDate")(e.selItems.EXPECT_END_DATE)))])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.isChoice,expression:"isChoice"}],staticClass:"vux-x-icon vux-x-icon-ios-arrow-right r_arrow",attrs:{type:"ios-arrow-right",size:"30",xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M160 115.4L180.7 96 352 256 180.7 416 160 396.7 310.5 256z"}})])]:[a("div",{staticClass:"title required"},[e._v("项目名称")]),e._v(" "),a("div",{staticClass:"mode"},[e._v("请选择项目")]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})],e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("d-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.dealerList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.dealerList,function(t,n){return a("div",{key:n,staticClass:"each_mater box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"mater_main "},[a("div",{staticClass:"mater_info"},[a("div",{staticClass:"mater_name"},[e._v("\n                  "+e._s(t.PROJECT_NAME)),a("span",{staticClass:"symbol"},[e._v(" [项目名称]")])]),e._v(" "),a("div",{staticClass:"mater_detail"},[a("div",{staticClass:"mater_manager"},[e._v("\n                    "+e._s(t.PROJECT_MANAGER)),a("span",{staticClass:"symbol"},[e._v(" [项目经理]")])]),e._v(" "),t.COMMENT?a("div",{staticClass:"mater_comment"},[e._v("\n                    "+e._s(t.COMMENT)),a("span",{staticClass:"symbol"},[e._v(" [项目说明]")])]):e._e(),e._v(" "),a("div",{staticClass:"mater_time"},[a("div",[e._v("预期开始日期: "+e._s(e._f("handlerDate")(t.EXPECT_START_DATE)))]),e._v(" "),a("div",[e._v("预期截止日期: "+e._s(e._f("handlerDate")(t.EXPECT_END_DATE)))])])])])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1)])],1)],2)},i=[],r={render:n,staticRenderFns:i};t.a=r},pVMx:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("kNGm"),r=(n(i),a("0AQX")),s=a("+VRO"),o=n(s);t.default={data:function(){return{userData:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},uploadStyle:{width:"100%",padding:"0.06rem 0.1rem"}}},mixins:[o.default],methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,r.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=o,e.userData=r,e.workFlowInfoHandler()})},goEdit:function(){var e=this.$route.params,t=e.folder,a=e.fileName,n=this.$route.query.name;this.$router.push({path:"/fillform/"+t+"/"+a,query:{name:n,transCode:this.transCode}})}}}},pYrj:function(e,t){},patH:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("4YfN"),o=n(s),l=a("vl8n"),d=n(l),u=a("5gKc"),c=n(u),f=a("PKHo"),m=n(f),h=a("0w+U");t.default={components:{RPicker:d.default,UploadImage:c.default},data:function(){return{MatPic:"",groupId:"",isNameExist:!1,isShortNameExist:!1,CompanyType:["有限责任公司","股份有限公司","集团公司","有限合伙","普通合伙","个人独资","子公司","其他"],CompanyStatus:["草稿","未使用","使用中","停用"],newCompanyInfo:{companyType:"有限责任公司",groupName:"",groupPic:"",groupShortName:"",groupType:"C",parentId:"1",status:"使用中"}}},mixins:[m.default],methods:{onUpload:function(e){this.newCompanyInfo.groupPic="/H_roleplay-si/ds/download?width=128&height=128&specify=true&url="+e.src},getDefaultImg:function(){this.newCompanyInfo.groupPic=a("tVsm")},checkGroupName:function(){var e=this;this.newCompanyInfo.groupName&&(0,h.checkValue)("groupName",this.newCompanyInfo.groupName).then(function(t){var a=t.result;e.isNameExist=!1,a&&(e.isNameExist=!0,e.$vux.alert.show({content:"【公司名称】已存在，请替换别的名称"}))})},checkShortName:function(){var e=this;this.newCompanyInfo.groupShortName&&(0,h.checkValue)("groupShortName",this.newCompanyInfo.groupShortName).then(function(t){var a=t.result;e.isShortNameExist=!1,a&&(e.isShortNameExist=!0,e.$vux.alert.show({content:"【公司简称】已存在，请替换别的简称"}))})},submit:function(){var e=this,t=this.groupId?h.update:h.save,a=[];a=t===h.save?[(0,o.default)({},this.newCompanyInfo)]:[{status:this.newCompanyInfo.status,groupId:this.newCompanyInfo.groupId,groupPic:this.newCompanyInfo.groupPic,groupName:this.newCompanyInfo.groupName,companyType:this.newCompanyInfo.companyType,groupShortName:this.newCompanyInfo.groupShortName}],this.$vux.confirm.show({content:"确定提交？",onConfirm:function(){switch(a[0].status){case"停用":a[0].status=-1;break;case"使用中":a[0].status=1;break;case"未使用":a[0].status=2;break;case"草稿":a[0].status=3}t(a).then(function(t){t[0]&&t[0].groupId||t.success?(e.$emit("change",!0),e.$vux.alert.show({content:t.success?"修改成功":"提交成功",onHide:function(){e.$router.go(-1)}})):e.$vux.alert.show({content:t.message})})}})},save:function(){var e=this,t="",a=[{key:"groupName",message:"【公司名称】"},{key:"groupShortName",message:"【公司简称】"},{key:"companyType",message:"【公司类型】"}];if(this.isNameExist?t="【公司名称】已存在，请替换别的名称":this.isShortNameExist&&(t="【公司简称】已存在，请替换别的简称"),!t&&a.every(function(a){return!!e.newCompanyInfo[a.key]||(t=a.message+"不能为空",!1)}),t)return void this.$vux.alert.show({content:t});this.submit()},CompanyInfo:function(){var e=this;return(0,h.CompanyInfo)(this.groupId).then(function(t){var a=!0,n=!1,i=void 0;try{for(var s,o=(0,r.default)(t);!(a=(s=o.next()).done);a=!0){var l=s.value;switch(l.status){case 1:l.status="使用中";break;case 2:l.status="未使用";break;case 3:l.status="草稿";break;case-1:l.status="停用"}e.newCompanyInfo=l}}catch(e){n=!0,i=e}finally{try{!a&&o.return&&o.return()}finally{if(n)throw i}}})}},created:function(){this.$loading.show();var e=this.$route.query.groupId,t=void 0===e?"":e;this.groupId=t,t&&this.CompanyInfo(),this.$loading.hide()}}},pdRW:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{on:{search:e.searchList}}),e._v(" "),a("div",{ref:"tabContainer",staticClass:"tab-container"},e._l(e.listView,function(t,n){return a("div",{ref:"tabs",refInFor:!0,staticClass:"tab-item",class:{active:n===e.activeIndex},on:{click:function(a){e.tabClick(t,n)}}},[e._v("\n          "+e._s(t.view_name)+"\n        ")])}),0)],1),e._v(" "),a("div",{staticClass:"swiper-container list-container"},[a("div",{staticClass:"swiper-wrapper"},e._l(e.listMap,function(t,n){return a("div",{key:n,staticClass:"swiper-slide"},[a("r-scroll",{ref:"bScroll",refInFor:!0,staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":t.hasNext,"no-data":!t.hasNext&&!t.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},["view_49"===n?e._l(t.listData,function(t,n){return a("div",{key:n,staticClass:"classification-item-wrapper"},[a("div",{staticClass:"classification-header-wrapper"},[a("img",{staticClass:"classification_img",attrs:{src:t.AppIcon,alt:"app-icon"}}),e._v(" "),a("div",{staticClass:"classification_app"},[a("div",{staticClass:"app_top"},[a("div",{staticClass:"app_name"},[e._v(e._s(t.appTitle))]),e._v(" "),a("div",{staticClass:"app_flow",class:t.flowWordClass},[e._v("\n                        "+e._s(t.cashInOrOut)),a("i",{class:t.flowIconClass})])]),e._v(" "),a("div",{staticClass:"classification_detail_item"},[a("span",{staticClass:"classification_detail_title"},[e._v("实例编码：")]),e._v(e._s(t.transCode)+"\n                    ")]),e._v(" "),a("div",{staticClass:"classification_detail_item"},[a("span",{staticClass:"classification_detail_title"},[e._v("往来名称：")]),e._v(e._s(t.dealerName||"无")+"\n                    ")])])]),e._v(" "),a("div",{staticClass:"classification-split"}),e._v(" "),a("div",{staticClass:"bank-info"},[a("div",{staticClass:"bank_detail"},[a("div",{staticClass:"bank"},[a("span",{staticClass:"title"},[e._v("开户银行: ")]),e._v(e._s(t.bank||"暂无银行信息")+"\n                    ")]),e._v(" "),a("div",{staticClass:"bank_account"},[a("span",{staticClass:"title"},[e._v("银行账号: ")]),e._v(e._s(t.account||"无")+"\n                    ")])]),e._v(" "),a("div",{staticClass:"bank_amt_wrapper"},[a("div",{staticClass:"bank_amt"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(t.crAmnt||t.drAmnt))+"\n                    ")]),e._v(" "),a("div",{staticClass:"text"},[e._v("总"+e._s(t.transName)+"("+e._s(t.fundCurrency)+")")])])]),e._v(" "),a("div",{staticClass:"bank-name"},[e._v(e._s(t.fundName))]),e._v(" "),a("div",{staticClass:"flow-info"},[a("div",{staticClass:"flow_info_item"},[a("div",{staticClass:"flow_account_item"},[a("span",{staticClass:"title"},[e._v("账户编码：")]),e._v(e._s(t.cashCode)+"\n                    ")]),e._v(" "),a("div",{staticClass:"flow_account_item flow_account_sub"},[a("span",{staticClass:"title"},[e._v("账户大类：")]),e._v(e._s(t.accountSub)+"\n                    ")])]),e._v(" "),a("div",{staticClass:"flow_info_item"},[a("span",{staticClass:"title"},[e._v("现金流类型：")]),e._v(e._s(t.cashType)+"\n                  ")]),e._v(" "),a("div",{staticClass:"flow_info_item"},[a("span",{staticClass:"title"},[e._v("现金流项目：")]),e._v(e._s(t.cashFlow)+"\n                  ")])])])}):"view_48"===n?e._l(t.listData,function(t,n){return a("div",{key:n,staticClass:"bank-item-wrapper",class:{bg2:n%3==2,bg3:n%3==0},on:{click:function(a){e.getFlow(t)}}},[a("div",{staticClass:"bank-header-wrapper"},[a("img",{staticClass:"bank_icon",attrs:{src:t.icon,alt:"bank-icon"}}),e._v(" "),a("div",{staticClass:"bank_info"},[a("div",{staticClass:"bank"},[e._v(e._s(t.bank))]),e._v(" "),a("div",{staticClass:"bank_name"},[e._v(e._s(t.fundName))])]),e._v(" "),a("div",{staticClass:"bank_code"},[e._v(e._s(t.cashCode))])]),e._v(" "),a("div",{staticClass:"bank-balance-wrapper"},[a("div",{staticClass:"bank-balance"},[e._v(e._s(e._f("numberComma")(t.amountBalance)))]),e._v(" "),a("div",{staticClass:"text"},[e._v("余额")])])])}):"view_140"===n?e._l(t.listData,function(t,n){return a("div",{key:n,staticClass:"schedule-item-wrapper",on:{click:function(a){e.getFlow(t)}}},[a("div",{staticClass:"schedule-main"},[a("img",{staticClass:"schedule_img",attrs:{src:t.appIcon,alt:"app-icon"}}),e._v(" "),a("div",{staticClass:"schedule_info"},[a("div",{staticClass:"app_name"},[e._v(e._s(t.appTitle))]),e._v(" "),a("div",{staticClass:"schedule_info_item"},[a("span",{staticClass:"schedule_info_title"},[e._v("实例编码：")]),e._v(e._s(t.transCode)+"\n                    ")]),e._v(" "),a("div",{staticClass:"schedule_info_item"},[a("span",{staticClass:"schedule_info_title"},[e._v("往来编码：")]),e._v(e._s(t.dealerCode)+"\n                    ")]),e._v(" "),a("div",{staticClass:"schedule_info_item"},[a("span",{staticClass:"schedule_info_title"},[e._v("关系标签：")]),e._v(e._s(t.crDealerLabel)+"\n                    ")]),e._v(" "),a("div",{staticClass:"schedule_info_item"},[a("span",{staticClass:"schedule_info_title"},[e._v("往来名称：")]),e._v(e._s(t.dealerName)+"\n                    ")]),e._v(" "),a("div",{staticClass:"schedule_info_item"},[a("span",{staticClass:"schedule_info_title"},[e._v("到账截止日期：")]),e._v(e._s(e._f("dateFormat")(t.draftDueDate,"YYYY-MM-DD")||"无")+"\n                    ")])])]),e._v(" "),a("div",{staticClass:"schedule-split"}),e._v(" "),a("div",{staticClass:"schedule-bottom"},[a("div",{staticClass:"schedule_bottom_item"},[a("div",{staticClass:"schedule_bottom_value"},[e._v(e._s(t.paymentSurplusDays||0))]),e._v(" "),a("div",{staticClass:"schedule_bottom_title"},[e._v("剩余天数")])]),e._v(" "),a("div",{staticClass:"schedule_bottom_item"},[a("div",{staticClass:"schedule_bottom_value"},[e._v(e._s(t.transName))]),e._v(" "),a("div",{staticClass:"schedule_bottom_title"},[e._v("计划类型")])]),e._v(" "),a("div",{staticClass:"schedule_bottom_item amt"},[a("div",{staticClass:"schedule_bottom_value"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(t.amntBalance))+"\n                    ")]),e._v(" "),a("div",{staticClass:"schedule_bottom_title"},[e._v("金额")])])])])}):e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"each_duty",on:{click:function(a){e.getFlow(t)}}},[a("div",{staticClass:"duty_top"},[a("div",{staticClass:"basic_info"},[a("span",{staticClass:"warehouse warehouse_name"},[e._v("\n                  账户编码\n                ")]),e._v(" "),a("span",{staticClass:"warehouse warehouse_code"},[e._v(e._s(t.cashCode))])])]),e._v(" "),a("div",{staticClass:"matter"},[a("div",{staticClass:"matter_name"},[e._v(e._s(t.fundName))])]),e._v(" "),a("div",{staticClass:"duty_btm vux-1px-t"},[a("div",{staticClass:"ware_type"},[e._v("\n                    "+e._s(t.bank||"暂无银行信息")+"\n                  ")]),e._v(" "),""!==t.amountBalance?a("div",{staticClass:"balance"},[a("span",{staticClass:"symbol"},[e._v("余额: ￥")]),e._v(e._s(e._f("numberComma")(t.amountBalance))+"\n                  ")]):e._e()])])})],2)],1)}),0)]),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{attrs:{position:"bottom",height:"80%"},model:{value:e.flowShow,callback:function(t){e.flowShow=t},expression:"flowShow"}},[a("r-scroll",{ref:"flowListWrapper",staticClass:"flow_list_wrapper",attrs:{options:e.FlowScrollOptions,"has-next":e.FlowHasNext,"no-data":!e.FlowHasNext&&!e.flowData.length},on:{"on-pulling-up":e.onPullingUpFlow}},[a("div",{staticClass:"flow"},[a("div",{staticClass:"flow_top"},[a("div",{staticClass:"title"},[e._v("流水详情")])]),e._v(" "),a("div",{staticClass:"flow_list"},[e._l(e.flowData,function(t,n){return a("div",{key:n,staticClass:"each_flow",on:{click:function(e){e.stopPropagation(),t.showList=!t.showList}}},[a("div",{staticClass:"duty_top"},[a("div",{staticClass:"transCode"},[a("span",{staticClass:"order_title"},[e._v("编码")]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(t.transCode))])]),e._v(" "),a("div",{staticClass:"time"},[e._v("\n                    "+e._s(e._f("dateFormat")(t.calcTime))+"\n                  ")])]),e._v(" "),a("div",{staticClass:"show_list"},[a("div",{staticClass:"app_name"},[e._v("\n                    "+e._s(t.appTitle)),a("span",{staticClass:"symbol"},[e._v("[应用]")])]),e._v(" "),a("div",{staticClass:"num_info"},[a("div",{staticClass:"amount_money"},[t.drAmnt>0?a("div",{staticClass:"num_part"},[a("span",{staticClass:"symbol"},[e._v("借方金额: ")]),e._v(" "),a("span",{staticClass:"number_incre"},[e._v("+ "+e._s(e._f("toFixed")(t.drAmnt)))])]):t.drAmnt<0?a("div",{staticClass:"num_part"},[a("span",{staticClass:"symbol"},[e._v("借方金额: ")]),e._v(" "),a("span",{staticClass:"number_redu"},[e._v("- "+e._s(e._f("toFixed")(t.drAmnt)))])]):a("div",{staticClass:"num_part"},[a("span",{staticClass:"symbol"},[e._v("借方金额: ")]),e._v(" "),a("span",[e._v("0")])])]),e._v(" "),a("div",{staticClass:"amount_money"},[t.crAmnt>0?a("div",{staticClass:"num_part"},[a("span",{staticClass:"symbol"},[e._v("贷方金额: ")]),e._v(" "),a("span",{staticClass:"number_incre"},[e._v("+ "+e._s(e._f("toFixed")(t.crAmnt)))])]):t.crAmnt<0?a("div",{staticClass:"num_part"},[a("span",{staticClass:"symbol"},[e._v("贷方金额: ")]),e._v(" "),a("span",{staticClass:"number_redu"},[e._v("- "+e._s(e._f("toFixed")(t.crAmnt)))])]):a("div",{staticClass:"num_part"},[a("span",{staticClass:"symbol"},[e._v("贷方金额: ")]),e._v(" "),a("span",[e._v("0")])])])])]),e._v(" "),a("div",{staticClass:"summary_part vux-1px-t"},[a("div",{staticClass:"number"}),e._v(" "),a("div",{staticClass:"price HBZJ_total"},[a("span",{staticClass:"symbol"},[e._v("当前余额:")]),e._v(" "),a("span",{class:{increase:t.amountBalance>0,reduce:t.amountBalance<0}},[e._v("\n                      ￥"+e._s(e._f("numberComma")(e._f("toFixed")(t.amountBalance)))+"\n                    ")])])])])}),e._v(" "),a("div")],2)])]),e._v(" "),a("div",{staticClass:"btn when_less"},[a("span",{staticClass:"cfm_btn",on:{click:function(t){e.flowShow=!1}}},[e._v("关闭")])])],1)],1)])])},i=[],r={render:n,staticRenderFns:i};t.a=r},pg4D:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("m-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.costList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.costList,function(t,n){return a("div",{key:n,staticClass:"each_mater box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"mater_main "},[a("div",{staticClass:"mater_name"},[e._v(e._s(t.transCode))]),e._v(" "),a("div",{staticClass:"no_invoiced"},[e._v(e._s(t.inventoryName))]),e._v(" "),a("div",{staticClass:"no_invoiced"},[e._v("金额: ￥"+e._s(t.amntBal))])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1)])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},pifm:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("rVsN"),r=n(i),s=a("4YfN"),o=n(s),l=a("vHT0"),d=n(l),u=a("Iu/6"),c=n(u),f=a("6q39"),m=n(f);t.default={name:"RScroll",components:{Spinner:c.default,LoadMore:m.default},props:{hasNext:{type:Boolean,default:!1},noData:{type:Boolean,default:!1},options:{type:Object,default:function(){return{}}}},data:function(){return{bScroll:null,hasRefresh:!1,refreshDone:!1,pullDownTop:-70}},computed:{tip:function(){var e="加载中";return this.hasNext||(e="暂无数据"),e}},methods:{_initScroll:function(){var e=this,t=(0,o.default)({click:!0,probeType:1},this.options);this.options.pullDownRefresh&&(this.hasRefresh=!0,t.pullDownRefresh={threshold:40,stop:70}),this.options.pullUpLoad&&(t.pullUpLoad={threshold:20}),this.$nextTick(function(){e.bScroll=new d.default(e.$refs.bScroll,t),e.bScroll.on("pullingUp",function(){e.hasNext&&e.$emit("on-pulling-up")}),e.bScroll.on("pullingDown",function(){e.disable(),e.refreshDone=!1,e.$emit("on-pulling-down")}),e.bScroll.on("scroll",function(t){var a=(t.x,t.y);a>0?e.pullDownTop=a>70?0:a-70:e.resetPullDown()})})},refresh:function(){this.bScroll&&this.bScroll.refresh()},enable:function(){this.bScroll&&this.bScroll.enable()},disable:function(){this.bScroll&&this.bScroll.disable()},finishPullDown:function(){var e=this;return new r.default(function(t){e.resetPullDown(),e.bScroll.finishPullDown(),e.enable(),e.refresh(),t()})},finishPullUp:function(){var e=this;return new r.default(function(t){e.bScroll.finishPullUp(),e.refresh(),t()})},scrollTo:function(e,t){this.bScroll&&this.bScroll.scrollTo(e,t,400)},resetPullDown:function(){-70!==this.pullDownTop&&(this.pullDownTop=-70)},destroy:function(){this.bScroll.destroy(),this.bScroll=null}},created:function(){this._initScroll()},beforeDestroy:function(){this.bScroll&&this.destroy()}}},pkoR:function(e,t){},ppDe:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages app_detail"},[a("div",{staticClass:"content"},[a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions}},[a("div",{staticClass:"app_top vux-1px-b"},[a("div",{staticClass:"app_icon"},[a("img",{attrs:{src:e.appInfo.icon},on:{error:function(t){e.getDefaultIcon(e.appInfo)}}})]),e._v(" "),a("div",{staticClass:"app_info"},[a("div",{staticClass:"app_name"},[e._v(e._s(e.appInfo.title))]),e._v(" "),a("div",{staticClass:"base_style app_type"},[e._v(e._s(e.appInfo.TRANS_NAME))]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.appInfo.administrator,expression:"appInfo.administrator"}],staticClass:"base_style app_admin"},[e._v("应用管理员: "+e._s(e.appInfo.administrator))]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.appInfo.crtTime,expression:"appInfo.crtTime"}],staticClass:"base_style crt_time"},[e._v("创建时间: "+e._s(e.appInfo.crtTime))])])]),e._v(" "),a("change-log",{ref:"changeLog",attrs:{handle:e.isAppAdmin}}),e._v(" "),a("div",{staticClass:"interaction"},[a("admin-comment",{ref:"adminComment",attrs:{handle:e.isAppAdmin}}),e._v(" "),a("other-comment",{ref:"comment"})],1)],1)],1),e._v(" "),a("router-view")],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},ptJ7:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABFCAYAAAD+UTBQAAAAAXNSR0IArs4c6QAABuVJREFUeAHdm2tsFUUUx71KpIA8VMQ3goKAUTQmahA0YCQoqIiPqPGDiTFW/VxJjJroR78IiOBbfDQGvhEeUjWK/SBRSRSCqK1oBYS2RgSKPCpo/f3bbr139tGdzs723p7kf2fnzJlzzvzv7t6dmb2Fk8pEOjo6riSV2eBqcDk4E4wEg0AraAE7waegrlAo6HhgCSSMALeDJaAFpJHvMXoKnD6w2OgeDQMbDB4FaQn5C9tnQVVFEEKiQ8G1YB6YA6aCM+KSp20UeBuklV8wnBbnr9/0JFUFdLq/AraAEyBKvkOpb/SsqGTRV4N2kEaOY7Qwyk/uOhK5BqwEh4GNyL4G6OZYIuh0FqUlA9OO5eDkEid5VQh8C9gIXOUzHIwy80Z3B/jbwvkqbEOkmn4zqxPsfrDVIsE0pvpFONdMEt18YEOGzsxTTD+Z1gkwBqwBvqQBx+eZSaPTmWFzmXyAvR8ycKybYCvwLY0EOD+CjNvQ25BRi3129wycDQOvgTzlJ4JdEEGGbqDHLBJ5D1t3MnAyEnxlEThL0x04iyLjVvQ2ZLyDfd/JoHN/kkD4TvmZzwsjzgz9Wh3tMkn1uQIrezLoJBK+BuUgImNsBBl6UrUh4y3sC6af2DrG5UQC6XSKHqUvMpNGNxsc6bRI9/EGZunIwHB1Op+5WzURcVwEGTejtyFDN/5kMjB4BJSz/EpyUWTchN7m8V5zoUIkGzRMgO0tYJjJepnVd5HPTBZpmorzIv9Z1NeBocX6hOPnQ3dPnOj5vBbkRcJuYh1PSDKpSTfOenK+uNgIYjZSnwcOF+sTjv8NteH0aZCXfEKgIcB2QmXmtwvFJeZg0N0ItHCTJA00ji7pi2I42J/UK8O2j/E1JEiA4/nAZkJlprIbhS7pEkF3AzhkGnfXt1OeU9JBFZRPxnTIWi0SQktr6FzJ+A0fE82BoZsBTDK0WBReDEKptcK9wLd8RIAQCUHytLmSsQcfUWRcj74NSDaD6GVCGrRg6lsSSSgi404ScblMRMalgb+gRDcN1AFtE4SFhgLQLM+nKIHYM8HMCltXMnR2TzL9JtbpcB3wKRtwnpqEIFn6uJLRjI/Jgb9eS4xfAL5EJAzuNYkYA/ouAC6XSQv9p8S4L1Vj+APwIR/itM8kBFniw4WMJvqHpu+B754So9HAh2RCQpAoCfaFDD1ojQt8JJYYav0va1mPQ+czwUwcn3eB4ymT1S9H6AHL9NlTx/i5lI7Tmq3DMHMSgoTxnYYM3SQnBX1SlXR4H2QlIuHUVIEdjIiRRMbvtF9m7Z5OX4AsZC1OvJMQDJBYdwPzMvkD3dTAxqqk407gKrmSEAyQpEVG8NP6J8d6yaRvQmex6CJr6JzbmWCOkthXgWdAaLnftE2s48BmXwDzEtGGbb+RkDgwy0atRrnsC+6nf19XlyxTjTfny9DuuV4SsV1V0wqdOFivNQjXhZhX8RG59kkA70Ls6aAVuEiNGGlzzLaa/svJIncyiDmD2HVgjOMY9omIg45O1P0xkCsZ3SRsIO5pSsBRmkXEDkcnQffcyMiYBOW/V0Q0BCPJoBQZy3xeJvieToyszgQNWTf7BhHxo2oZyuP48kJGNwm6J2RxOQRD3s4+SLt+OjYFmgxLkSF5oqtw//RwJgRJfRMc6CdU83YfsqwniMMBiRWvQGed5wM9qeF5Rdbei/w5kYEfnyRo0vb/u9xUtOXmU17uYd3igIR8kqDxfl6SDopBQPN4n2JFBon4JkFjfbiECFVQLlKLZ1kaChyhIIc8SDhAnPBrAygnghPAtySSQXDtRrX5TgL/SyK+gy4VjbU5JKAQkWSgz4sELT3EL/HTOAX8A/KQl4q/EQLmRYLGtrg4duQxRpo85SWdZBBMJBzMKajihGaroakzRlrk0GP32ZFMZa/Uk532J8M3ruxjyWM1j9Svm65DRMgAMu6jWGkaD4B6PWOYBREd5lg06QoJhqtQvhlqqGxFK+k/FEWChhV5RqiBs6KK4kug/2NWuhxhAHoNcXPcQCLPCBnT6RjFAtCsegWLXh18MIkEjS2WCDXSWS9yzgEHVK9QqWEcq3vLPZEIdcbJNoq5oBLJWEr+izSOzIR7xhVAW+2VIJoq+Pv/J87Hgq1lzsQ+8tOf7f0KQaqANnXKUfQljffLgOGdgPcAvZBRLvIuieT1dFrKBoFHgMUgj+k7YSJlG9qZpZn1U41EJgN9I+aLG6i8SSOe9ecarcSXl5DUePAi0LuNPkRLBHoV4V7Q609/v7NDkloDnQtWANc3ctrxUQ8WAreXQRKYiZ1rJPSxbmIA+lOJtuqmAL3tNgFouj8caNdK226HurGHshFoK/JbsImHoqOUXuU/osEnfVor3RgAAAAASUVORK5CYII="},ptUZ:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("iR2W"),r=n(i),s=a("Qg39"),o=a("d7ck"),l=n(o),d=a("sUbJ"),u=n(d),c=a("6WeX"),f=n(c);t.default={name:"MatterList",props:{matterList:{type:Array,default:function(){return[]}},orderList:{type:Object,default:function(){return{}}},noTaxAmount:{type:Number,default:0},taxAmount:{type:Number,default:0},count:{type:Number,default:0},listTitle:{type:String,default:"物料列表"}},components:{FormCell:l.default,PriceTotal:f.default,MatterItem:u.default},filters:{toFixed:s.toFixed,numberComma:r.default}}},pyij:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e=new Date(Date.parse(e.replace(/-/g,"/"))),t=new Date(Date.parse(t.replace(/-/g,"/")));var a=(t-e)/864e5;if(0===parseInt(a))return parseInt(a);for(var n=0,i=0;i<a;i++)0!==e.getDay()&&6!==e.getDay()||n++,e=e.valueOf(),e+=864e5,e=new Date(e);return t.setDate(t.getDate()-parseInt(a+n)),t}},pzJd:function(e,t){},pzWy:function(e,t){},"q+9q":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("I3vJ"),v=a("1KNX"),p=n(v),C=a("7biW"),y=n(C);t.default={name:"PopProcedureList",props:{defaultValue:{type:Object,default:function(){return{}}},required:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"}},components:{Icon:c.default,Popup:m.default,RScroll:p.default,RSearch:y.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:100,page:1,hasNext:!0,scrollOptions:{pullUpLoad:!0},filterProperty:"",filterList:[{name:"名称",value:"procedureName"},{name:"编码",value:"procedureCode"}]}},watch:{defaultValue:{handler:function(e){this.selItems=(0,d.default)({},this.defaultValue)},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},showSelIcon:function(e){return this.selItems.procedureCode===e.procedureCode},selThis:function(e,t){this.selItems=(0,d.default)({},e),this.showPop=!1,this.$emit("sel-item",(0,d.default)({},e))},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,h.getUsingProcedure)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,o.default)(e.listData),(0,o.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.resetCondition(),this.getList()},onPullingUp:function(){this.page++,this.getList()},resetCondition:function(){this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)}},created:function(){this.getList()}}},q0Qv:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("a3Yh"),o=n(s),l=a("4YfN"),d=n(l),u=a("IHPB"),c=n(u),f=a("3cXf"),m=n(f),h=a("HXPS"),v=n(h),p=a("BGNQ"),C=n(p),y=a("z5TY"),_=n(y),g=a("SAzG"),b=n(g),w=a("PzEQ"),I=n(w),x=a("0AQX"),D=a("HyXB"),P=a("bKg5"),S=n(P),k=a("9cRV"),L=n(k),N=a("89pA"),M=n(N),T=a("luHD"),A=n(T),O=a("vl8n"),R=n(O),j=a("+WR7"),B=n(j),E=a("zWMP"),F=a("Qg39");t.default={mixins:[S.default],components:{Icon:v.default,Cell:C.default,Group:_.default,XInput:b.default,XTextarea:I.default,PopMatterList:L.default,PopWarehouseList:M.default,PopMatter:A.default,RPicker:R.default,PopBaseinfo:B.default},data:function(){return{listId:"edf7b34b-8916-410f-801f-2db7e97efbde",matterList:[],showMaterielPop:!1,transCode:"",formData:{biComment:""},numMap:{},warehouse:{},matter:{},showMatterPop:!1,modifyIndex:null,checkFieldList:[{key:"tdQty",message:"请填写盘点数量"}]}},watch:{matter:{handler:function(e){e.differenceNum=(0,E.accSub)(e.tdQty,e.qtyBal)},deep:!0}},methods:{delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},selWarehouseIn:function(e){this.warehouse=JSON.parse(e),null!=this.matterParams.data.whCode&&(this.matterParams.data.whCode=this.warehouse.warehouseCode,this.matterList=[])},modifyMatter:function(e,t){this.matter=JSON.parse((0,m.default)(e)),this.showMatterPop=!0,this.modifyIndex=t},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.matterList,this.modifyIndex,t)},selMatter:function(e){var t=JSON.parse(e);t.forEach(function(e){e.tdQty=e.tdQty||0,e.differenceNum=(0,E.accSub)(e.tdQty,e.qtyBal),e.thenQtyStock=(0,F.toFixed)((0,E.accSub)(e.qtyBal,e.qtyLock))}),this.numMap={},this.matterList=[].concat((0,c.default)(t))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},save:function(){var e=this,t="",a=[];if([{key:"warehouse",message:"入库仓库"}].every(function(a){return!!e[a.key]||(t="请选择"+a.message,!1)}),t||this.matterList.length||(t="请选择物料"),this.matterList.every(function(n){if(!n.tdQty)return t="请填写盘点数量",!1;var i={transObjCode:n.inventoryCode,thenQtyStock:n.thenQtyStock,tdQty:n.tdQty,differenceNum:n.differenceNum||0,tdProcessing:n.processing,assistQty:n.assistQty||0,assMeasureScale:n.assMeasureScale||null,assMeasureUnit:n.assMeasureUnit||null,thenLockQtyStock:n.qtyLock,thenTotalQtyStock:n.qtyBal,comment:n.comment||null};return e.transCode&&(i.tdId=n.tdId||""),a.push(i),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=D.saveAndStartWf,n=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,containerInWarehouseManager:e.warehouse.containerInWarehouseManager||null,inPut:{containerCode:e.warehouse.warehouseCode,dataSet:a}}),i={listId:e.listId,biComment:"",formData:(0,m.default)(n),wfPara:(0,m.default)((0,o.default)({},e.processCode,{businessKey:e.businessKey,createdBy:n.creator}))};e.transCode&&(t=D.saveAndCommitTask,i.biReferenceId=e.biReferenceId,i.wfPara=(0,m.default)({businessKey:e.transCode,createdBy:n.creator,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=D.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,x.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var u=[];e.attachment=l;var c=s.inPut,f=c.dataSet,m=void 0===f?[]:f,h=!0,v=!1,p=void 0;try{for(var C,y=(0,r.default)(m);!(h=(C=y.next()).done);h=!0){var _=C.value;_=(0,d.default)({},_,{qtyBal:_.thenTotalQtyStock,qtyLock:_.thenLockQtyStock,inventoryPic:_.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:_.inventoryName_transObjCode,inventoryCode:_.transObjCode,specification:_.specification_transObjCode,measureUnit:_.measureUnit_transObjCode,processing:_.tdProcessing}),u.push(_)}}catch(e){v=!0,p=e}finally{try{!h&&y.return&&y.return()}finally{if(v)throw p}}e.warehouse={warehouseCode:c.containerCode,warehouseName:c.warehouseName_containerCode,warehouseType:c.warehouseType_containerCode,warehouseProvince:c.warehouseProvince_containerCode,warehouseCity:c.warehouseCity_containerCode,warehouseDistrict:c.warehouseDistrict_containerCode,warehouseAddress:c.warehouseAddress_containerCode},e.warehouseParams={whCode:e.warehouse.warehouseCode},e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:s.biComment,biId:s.biId,biProcessStatus:s.biProcessStatus,creator:s.creator,modifer:s.modifer}),e.biReferenceId=s.biReferenceId,e.matterList=u,e.$loading.hide()})},checkAmt:function(e){var t=e.tdQty,a=void 0===t?0:t;"number"!=typeof a&&(a=0),e.tdQty=Math.abs((0,F.toFixed)(a))},hasDraftData:function(){return!!this.matterList.length&&(0,o.default)({},"KCPD_DATA",{matter:this.matterList,warehouse:this.warehouse,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("KCPD_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.warehouse=t.warehouse,this.formData=t.formData,this.warehouseParams={whCode:this.warehouse.warehouseCode},sessionStorage.removeItem("KCPD_DATA")}}}},q3qU:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",dealerInfo:{}}},mixins:[u.default],components:{workFlow:h.default,RAction:f.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=t.formData,i=n.order,s=void 0===i?{}:i;e.attachment=a,e.dealerInfo={dealerName:s.dealerName_dealerDebit,dealerCode:s.dealerDebit,dealerLabelName:s.drDealerLabel,amntBal:s.thenAmntBalCopy2,thenTotalAmntBal:s.thenAlreadyAmnt};var l=n.order.dataSet,d=!0,u=!1,c=void 0;try{for(var f,m=(0,r.default)(l);!(d=(f=m.next()).done);d=!0){var h=f.value;e.count=(0,v.accAdd)(e.count,h.tdAmount)}}catch(e){u=!0,c=e}finally{try{!d&&m.return&&m.return()}finally{if(u)throw c}}t.formData.validUntil=(0,o.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},q4Rk:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("BGNQ"),r=n(i),s=a("z5TY"),o=n(s),l=a("kNGm"),d=(n(l),a("0AQX")),u=a("+VRO"),c=n(u),f=(a("Qg39"),a("BUFe")),m=n(f),h=a("AupE"),v=n(h),p=a("bFc7"),C=n(p),y=a("FlCz"),_=n(y),g=a("hPJo"),b=n(g);t.default={data:function(){return{workInfo:{},orderInfo:{},warehouse:{},bomList:[]}},mixins:[c.default],components:{Cell:r.default,Group:o.default,RAction:m.default,workFlow:v.default,contactPart:C.default,BomList:_.default,WarehouseContent:b.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,d.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.attachment,r=void 0===i?[]:i,s=t.formData,o=void 0===s?{}:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var l=o.order,d=void 0===l?{}:l,u=o.outPut,c=void 0===u?{}:u,f=c.dataSet,m=void 0===f?[]:f;e.warehouse={warehouseName:d.warehouseName_containerCode,warehouseType:d.warehouseType_containerCode,warehouseAddress:d.warehouseAddress_containerCode},m.forEach(function(e){e.inventoryName=e.inventoryName_outPutMatCode,e.inventoryCode=e.outPutMatCode}),e.bomList=m,e.attachment=r,e.orderInfo=o,e.workInfo=o.order.dataSet[0],e.workFlowInfoHandler()})}}}},q8mY:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listViewID:2476,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"设备名称",value:"facilityName_facilityObjCode"}]}},mixins:[i.default],methods:{},created:function(){}}},qBxf:function(e,t){},qE8w:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getBillingApplication=t.getManyVATReceipt=t.getVATReceipt=t.getManyVATBilling=t.getVATBilling=void 0;var i=a("4YfN"),r=n(i),s=a("GOq4"),o=n(s),l=a("kSI7"),d=n(l),u=t.getVATBilling=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getVATBilling",data:e}).catch(function(e){return(0,d.default)(e)})},c=(t.getManyVATBilling=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getManyVATBilling",data:e}).catch(function(e){return(0,d.default)(e)})},t.getVATReceipt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getVATReceipt",data:e}).catch(function(e){return(0,d.default)(e)})},t.getManyVATReceipt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getManyVATReceipt",data:e}).catch(function(e){return(0,d.default)(e)})},t.getBillingApplication=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getBillingApplication",data:(0,r.default)({_dc:Date.now()},e)}).catch(function(e){return(0,d.default)(e)})});t.default={getVATBilling:u,getBillingApplication:c}},qEHM:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("J0Oq"),o=n(s),l=a("a3Yh"),d=n(l),u=a("3cXf"),c=n(u),f=a("4YfN"),m=n(f),h=a("PzEQ"),v=n(h),p=a("kNGm"),C=n(p),y=a("u28h"),_=n(y),g=a("SAzG"),b=n(g),w=a("z5TY"),I=n(w),x=a("0AQX"),D=a("HyXB"),P=a("bKg5"),S=n(P),k=a("9cRV"),L=n(k),N=a("ZQWM"),M=n(N),T=a("yt3/"),A=n(T),O=a("hLfv"),R=n(O),j=a("luHD"),B=n(j),E=a("VZtf"),F=n(E),U=a("vl8n"),$=n(U),Q=a("+WR7"),H=n(Q),V=a("9SNe"),q=n(V),Y=a("zWMP");t.default={components:{XTextarea:v.default,RNumber:F.default,Datetime:_.default,Group:I.default,PopMatterList:L.default,PopDealerList:M.default,PopSingleSelect:A.default,PopMatter:B.default,RPicker:$.default,PopBaseinfo:H.default,RDate:q.default,XInput:b.default,DealerOtherPart:R.default},data:function(){return{taxRate:.16,numMap:{},order:{},inPut:{tdAmountCopy1:"",executionDate:"",validUntil:"",thenTotalAmntBal:"",prepaymentDueDate:""},formData:{creator:"",modifer:"",biId:"",biComment:""},logisticsTerm:[],dealerInfo:{},transMode:[],matterList:[],showTransPop:!1,showMaterielPop:!1,showDealerPop:!1,contactInfo:{},matterParams:{processing:"原料"},checkFieldList:[{key:"price",message:"请填写包装含税单价"}]}},mixins:[S.default],methods:{getPaymentTerm:function(){var e=this;return(0,D.getDictByType)("paymentTerm").then(function(t){var a=t.tableContent;e.transMode=a})},selDealer:function(e){this.dealerInfo=JSON.parse(e)[0]},selContact:function(e){this.contactInfo=(0,m.default)({},e)},selMatter:function(e){var t=JSON.parse(e);t.map(function(e){var t=e.processingStartDate?(0,C.default)(e.processingStartDate,"YYYY-MM-DD"):"";e.tdQty=e.tdQty||"",e.price=e.price||"",e.taxRate=e.taxRate||.16,e.processingStartDate=e.processingStartDate||t,e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null}),this.numMap={},this.matterList=t},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(t){return t.inventoryCode===e.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(e)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,c.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerCode?0===this.matterList.length?t="请选择物料":this.inPut.executionDate?this.inPut.validUntil||(t="请选择协议到期日"):t="请选择协议开始日":t="请选择供应商信息",t||this.matterList.every(function(n){if(!n.price)return t="单价不能为空",!1;var i=n.taxRate;(0,Y.accMul)(n.price,n.tdQty,i);return a.push({tdId:n.tdId||"",inventoryName_transObjCode:n.inventoryName,transObjCode:n.inventoryCode,executionDate:e.inPut.executionDate,validUntil:e.inPut.validUntil,tdProcessing:n.processing,assMeasureUnit:n.assMeasureUnit,assMeasureDescription:n.assMeasureDescription,assMeasureScale:n.assMeasureScale,tdQty:n.tdQty,assistQty:n.assistQty,price:n.price,tdAmount:n.tdAmount,taxRate:i,noTaxPrice:n.noTaxPrice,taxAmount:n.taxAmount,comment:n.comment||""}),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=D.saveAndStartWf,n=(0,d.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i=e.dealerInfo,r={listId:e.listId,biComment:e.biComment,formData:(0,c.default)((0,m.default)({},e.formData,{handlerEntity:e.entity.dealerName,dealerDebitContactPersonName:e.contactInfo.dealerName||null,dealerDebitContactInformation:e.contactInfo.dealerMobilePhone||"",drDealerLogisticsTerms:i.dealerLogisticsTerms,inPut:{dealerDebit:i.dealerCode,drDealerLabel:i.dealerLabelName,daysOfAccount:i.pamentDays,dataSet:[(0,m.default)({},e.inPut,{thenTotalAmntBal:e.tdAmount})]},order:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName||"",drDealerPaymentTerm:e.dealerInfo.paymentTerm,dataSet:a}})),wfPara:(0,c.default)(n)};e.isResubmit&&(t=D.saveAndCommitTask,r.biReferenceId=e.biReferenceId),e.processCode.length||(t=D.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,o.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,x.getSOList)({formViewUniqueId:e.uniqueId,transCode:e.transCode}).then(function(t){e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId;var a=t.formData;e.attachment=t.attachment,a.order.dataSet.map(function(t){t=(0,m.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode}),e.matterList.push(t)}),e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,m.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),e.dealerInfo={creatorName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation,dealerCode:a.order.dealerDebit,dealerName:a.order.dealerName_dealerDebit,province:a.order.province_dealerDebit,city:a.order.city_dealerDebit,county:a.order.county_dealerDebit,address:a.order.address_dealerDebit,dealerLogisticsTerms:a.drDealerLogisticsTerms,pamentDays:a.inPut.daysOfAccount,paymentTerm:a.order.drDealerPaymentTerm||""},e.contactInfo={dealerName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation},e.inPut={tdAmountCopy1:a.inPut.dataSet[0].tdAmountCopy1,executionDate:a.inPut.dataSet[0].executionDate,validUntil:a.inPut.dataSet[0].validUntil,thenTotalAmntBal:a.inPut.dataSet[0].thenTotalAmntBal,prepaymentDueDate:a.inPut.dataSet[0].prepaymentDueDate},e.$loading.hide()});case 2:case"end":return t.stop()}},t,e)}))()},hasDraftData:function(){return!!this.matterList.length&&(0,d.default)({},"CGXY_DATA",{matter:this.matterList,dealerInfo:this.dealerInfo,formData:this.formData,contactInfo:this.contactInfo,inPut:this.inPut})},getRelationData:function(){},getLogisticsTerms:function(){var e=this;return(0,D.getDictByType)("dealerLogisticsTerms").then(function(t){var a=t.tableContent;e.logisticsTerm=a})}},created:function(){var e=sessionStorage.getItem("CGXY_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.dealerInfo=t.dealerInfo,this.formData=t.formData,this.contactInfo=t.contactInfo,this.inPut=t.inPut,sessionStorage.removeItem("CGXY_DATA")}}}},qEV3:function(e,t,a){"use strict";function n(e){a("+XLf")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("aAII");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("7d38"),o=a.n(s),l=a("F8Jj"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-081007cc",null);t.default=c.exports},qFxV:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("d-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"pop-list-container",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"pop-mater-list-item box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"pop-list-main "},[a("div",{staticClass:"pop-list-info"},[a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline name",staticStyle:{display:"inline-block"}},[a("span",[e._v(e._s(t.dealerName))])]),e._v(" "),a("div",{staticClass:"ForInline name",staticStyle:{display:"inline-block"}},[a("span")])]),e._v(" "),t.dealerMobilePhone?a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline ",staticStyle:{display:"inline-block"}},[a("span",{staticClass:"creator"},[e._v(e._s(t.dealerMobilePhone))])])]):e._e(),e._v(" "),a("div",{staticClass:"withoutColor"},[a("span",[e._v(e._s(t.province)+e._s(t.city)+e._s(t.county)+e._s(t.address))])])])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1)])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},qL4K:function(e,t,a){"use strict";function n(e){a("87OF")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("dj3y");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("WHn+"),o=a.n(s),l=a("zlER"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-3ce64b2e",null);t.default=c.exports},qLvx:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2317,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[i.default],methods:{},created:function(){}}},qMm6:function(e,t,a){"use strict";function n(e){a("ei2D")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("xupB");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("wQkG"),o=a.n(s),l=a("bwty"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},qP7K:function(e,t,a){"use strict";function n(e){a("qe/I")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("9enk");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("REWi"),o=a.n(s),l=a("/WcG"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-2ad3358f",null);t.default=c.exports},qRBd:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[a("div",{staticClass:"header"},[a("div",{staticClass:"title"},[e._v(e._s(e.headInfo.title))]),e._v(" "),a("div",{staticClass:"swiper-container swiper-container-header"},[a("div",{staticClass:"swiper-wrapper"},[a("div",{staticClass:"swiper-slide"},[e._v(e._s(e.headInfo.firstName))]),e._v(" "),a("div",{staticClass:"swiper-slide"},[e._v(e._s(e.headInfo.LastName))])])])]),e._v(" "),a("r-scroll",{ref:"bScroll",attrs:{options:e.scrollOptions}},[a("div",{staticClass:"part-left"},e._l(e.listData,function(t,n){return a("div",{key:n},[t.assetType?a("div",{ref:"partLeftTitle",refInFor:!0,staticClass:"title border-1px-t border-1px-b"},[e._v(e._s(t.assetType)+"\n        ")]):e._e(),e._v(" "),e._l(t.items,function(t,n){return a("div",{key:n,ref:"partLeftContent",refInFor:!0,staticClass:"content-item",class:{"final-total":t.isTotal,"border-1px-t":t.isTotal,"is-first":t.bigSubject,indent:void 0!==t.bigSubject&&!t.bigSubject&&!t.subjectName.includes(": ")}},[e._v("\n          "+e._s(t.subjectName)+"\n        ")])})],2)}),0),e._v(" "),a("div",{staticClass:"swiper-container part-right"},[a("div",{staticClass:"swiper-wrapper"},[a("div",{staticClass:"swiper-slide"},e._l(e.listData,function(t,n){return a("div",{key:n},[t.assetType?a("div",{ref:"partRightInitTitle",refInFor:!0,staticClass:"title"}):e._e(),e._v(" "),e._l(t.items,function(t,n){return a("div",{key:n,ref:"partRightInit",refInFor:!0,staticClass:"content-item",class:{"final-total":t.isTotal,"is-first":t.bigSubject}},[e._v("\n              "+e._s(e._f("formatNum")(t.initialBalance))+"\n            ")])})],2)}),0),e._v(" "),a("div",{staticClass:"swiper-slide"},e._l(e.listData,function(t,n){return a("div",{key:n},[t.assetType?a("div",{ref:"partRightFinalTitle",refInFor:!0,staticClass:"title"}):e._e(),e._v(" "),e._l(t.items,function(t,n){return a("div",{key:n,ref:"partRightFinal",refInFor:!0,staticClass:"content-item",class:{"final-total":t.isTotal,"is-first":t.bigSubject}},[e._v("\n              "+e._s(e._f("formatNum")(t.finalBalance))+"\n            ")])})],2)}),0)])])])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},qU7Z:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},qdsK:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("3cXf"),o=n(s),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("u28h"),C=n(p),y=a("PzEQ"),_=n(y),g=a("kNGm"),b=(n(g),a("jnZd")),w=n(b),I=(a("0AQX"),a("Z6x5")),x=a("HyXB"),D=a("bKg5"),P=n(D),S=a("vl8n"),k=n(S),L=a("+WR7"),N=n(L);t.default={data:function(){return{formData:{biId:"",biComment:"",biProcessStatus:""},biReferenceId:"",MobileWarn:!1,idCardWarn:!1,groupList:[],roleList:[]}},components:{Cell:c.default,Group:m.default,XInput:v.default,Datetime:C.default,XTextarea:_.default,PopupPicker:w.default,RPicker:k.default,PopBaseinfo:N.default},mixins:[P.default],methods:{getDepartMentWage:function(){var e=this;(0,I.getDepartMentWage)().then(function(t){var a=[];t.tableContent.forEach(function(e){a.push(e.GROUP_NAME)}),e.groupList.push(a)})},getAllRoleInfo:function(){var e=this;(0,I.getAllRoleInfo)().then(function(t){var a=[];t.tableContent.forEach(function(e){a.push(e.roleName)}),e.roleList.push(a)})},submitOrder:function(){var e=this,t="",a=[{key:"applicationDepartment",message:"请选择申请部门"},{key:"applicationPost",message:"请选择申请岗位"},{key:"recruitmentPeople",message:"请填写招聘人数"}];if(t||a.every(function(a){return!!e.formData[a.key]||(t=a.message,!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=x.saveAndStartWf,a=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,applicationDepartment:e.formData.applicationDepartment[0],applicationPost:e.formData.applicationPost[0]}),n={listId:e.listId,biComment:"",formData:(0,o.default)(a)};e.isResubmit&&(t=x.saveAndCommitTask,n.biReferenceId=e.biReferenceId,n.wfPara=(0,o.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=x.submitAndCalc,delete n.wfPara,delete n.biReferenceId),e.biReferenceId&&(n.biReferenceId=e.biReferenceId),e.saveData(t,n)}})},hasDraftData:function(){var e=this.formData;if(e.applicationDepartment||e.applicationPost)return(0,r.default)({},"ZHJH_DATA",{formData:e})},checkAmt:function(e){this.formData.recruitmentPeople=Math.round(e)}},created:function(){this.getDepartMentWage(),this.getAllRoleInfo();var e=sessionStorage.getItem("ZHJH_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,sessionStorage.removeItem("ZHJH_DATA")}}}},"qe/I":function(e,t){},qeco:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=(n(s),a("0AQX")),l=a("+VRO"),d=n(l),u=a("BUFe"),c=n(u),f=a("AupE"),m=n(f),h=a("zWMP");t.default={data:function(){return{count:0,cashInfo:{}}},mixins:[d.default],components:{workFlow:m.default,RAction:c.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,o.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=t.formData,i=n.order,s=void 0===i?{}:i,o=n.outPut,l=void 0===o?{}:o;e.attachment=a,e.cashInfo=l.dataSet[0];var d=s.dataSet,u=!0,c=!1,f=void 0;try{for(var m,v=(0,r.default)(d);!(u=(m=v.next()).done);u=!0){var p=m.value;e.count=(0,h.accAdd)(e.count,p.tdAmount)}}catch(e){c=!0,f=e}finally{try{!u&&v.return&&v.return()}finally{if(c)throw f}}e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},qeoT:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tab-part vux-1px-b",class:{"tab-part-2":"2"===e.mode,"tab-part-3":"3"===e.mode}},e._l(e.data,function(t,n){return a("div",{key:n,staticClass:"each-tab",class:{"active vux-1px":n===e.activeTabIndex},on:{click:function(a){e.switchTab(t,n)}}},[e._v("\n    "+e._s(t.name)+"\n  ")])}),0)},i=[],r={render:n,staticRenderFns:i};t.a=r},qfeE:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement;return(e._self._c||t)("span",{staticClass:"vux-spinner",class:e.className,style:e.styles})},i=[],r={render:n,staticRenderFns:i};t.a=r},qgxz:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("FvvE"),r=(n(i),a("ZTs6")),s=(n(r),a("vHT0")),o=n(s),l=a("4XVd");a("Z5v5");t.default={data:function(){return{transCode:"",currentComponent:"",submitSuccess:!1,detailScroll:null,commentCount:0,hasComment:!0,isConcern:0,concernCount:0}},methods:{modifyRoute:function(e){this.submitSuccess=e},refresh:function(){var e=this;this.$nextTick(function(){e.detailScroll.refresh()})},goDiscuss:function(){this.$router.push({path:"/commentList",query:{transCode:this.transCode}})},isSubscribe:function(e){this.isConcern=e},goConcern:function(){var e=this,t=l.subscribeApp,a={type:"instance",relationKey:this.transCode};1===this.isConcern&&(t=l.unsubscribeApp,delete a.type),t(a).then(function(t){var a=t.success,n=void 0===a||a,i=t.message,r=void 0===i?"":i;if(n){e.isConcern="订阅成功！"===r?1:0;var s="订阅成功！"===r?"关注成功":"取消关注成功";e.$vux.toast.show({type:"text",time:1e3,position:"top",text:s})}})},initPage:function(){var e=this,t=this.$route.query,n=(t.childId,t.transCode),i=this.$route.params,r=i.folder,s=i.fileName;this.hasComment=!!n,this.transCode=n;try{this.currentComponent=a("9kVI")("./"+r+"/"+s+"Form.vue").default,this.$event.$on("commentCount",function(t){e.commentCount=t})}catch(t){console.log(t),this.$vux.alert.show({content:"抱歉，无法支持该应用的查看",onHide:function(){e.$router.go(-1)}})}this.$nextTick(function(){e.detailScroll||(e.detailScroll=new o.default(e.$refs.detail,{click:!0}))})}},beforeRouteEnter:function(e,t,a){var n=e.query.name,i=void 0===n?"":n;i.includes("表")&&(e.meta.title=i,a()),e.meta.title=i+"详情",a()},created:function(){this.initPage()},activated:function(){this.$route.meta.reload&&(this.initPage(),this.$route.meta.reload=!1)},beforeRouteLeave:function(e,t,a){var n=(e.path,"LIST"===e.name||"MSGHOME"===e.name);this.$HandleLoad.hide(),n&&(this.currentComponent=null,this.detailScroll.destroy(),this.detailScroll=null,this.$event.$off("commentCount"),t.meta.reload=!0),this.submitSuccess&&n&&(e.meta.reload=!0),a()}}},qhvE:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("1WsH"),o=a("vl8n"),l=n(o),d=a("PKHo"),u=n(d);t.default={data:function(){return{jobInfo:{name:"",status:"使用中",type:""},jobType:[{name:"管理类",value:"管理类"},{name:"营销类",value:"营销类"},{name:"技术类",value:"技术类"},{name:"专业类",value:"专业类"},{name:"操作类",value:"操作类",status:"C"}],jobStatus:[{name:"停用",value:"停用"},{name:"未使用",value:"未使用"},{name:"使用中",value:"使用中"},{name:"草稿",value:"草稿"}],jobId:null}},components:{RPicker:l.default},mixins:[u.default],methods:{submit:function(){var e=this;for(var t in this.jobInfo)"string"==typeof this.jobInfo[t]&&this.jobInfo[t].indexOf(" ")>=0&&(this.jobInfo[t]=this.jobInfo[t].replace(/\s/g,""));this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){switch(e.jobInfo.type){case"营销类":e.jobInfo.changeType="Y";break;case"专业类":e.jobInfo.changeType="Z";break;case"技术类":e.jobInfo.changeType="J";break;case"操作类":e.jobInfo.changeType="C";break;case"管理类":e.jobInfo.changeType="M"}switch(e.jobInfo.status){case"使用中":e.jobInfo.changeStatus=1;break;case"未使用":e.jobInfo.changeStatus=2;break;case"草稿":e.jobInfo.changeStatus=3;break;case"停用":e.jobInfo.changeStatus=-1}var t={describe:"",name:e.jobInfo.name,type:e.jobInfo.changeType,status:e.jobInfo.changeStatus};e.jobId?(t.id=e.jobId,(0,s.update)(t).then(function(t){t.success?(e.$emit("change",!0),e.$vux.alert.show({content:"修改成功",onHide:function(){e.$router.go(-1)}})):e.$vux.alert.show({content:t.message})})):(0,s.save)(t).then(function(t){t.id?(e.$emit("change",!0),e.$vux.alert.show({content:"提交成功",onHide:function(){e.$router.go(-1)}})):e.$vux.alert.show({content:t.message})})}})},save:function(){var e=this,t="";if([{key:"name",message:"【职位名称】"},{key:"type",message:"【职位类型】"}].every(function(a){return""!==e.jobInfo[a.key]||(t=a.message+"不能为空",!1)}),t)return void this.$vux.alert.show({content:t});this.submit()},findData:function(){var e=this;return(0,s.getJobList)({filter:(0,r.default)([{operator:"eq",value:this.jobId,property:"id"}])}).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;n.forEach(function(e){switch(e.type){case"Y":e.type="营销类";break;case"Z":e.type="专业类";break;case"J":e.type="技术类";break;case"C":e.type="操作类";break;case"M":e.type="管理类"}switch(e.status){case 1:e.status="使用中";break;case 2:e.status="未使用";break;case 3:e.status="草稿";break;case-1:e.status="停用"}}),e.jobInfo=n[0],e.$loading.hide()}).catch(function(t){e.$loading.hide()})}},created:function(){var e=this;this.$loading.show();var t=this.$route.query;if(t.id)return this.jobId=t.id,void this.findData().then(function(){e.$loading.hide()});t.jobType&&(this.jobInfo.type=t.jobType),this.$loading.hide()}}},qjSg:function(e,t){},qkn6:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper user-detail-container"},[a("div",{ref:"detail",staticClass:"basicPart"},[a("div",{staticClass:"user-info-container"},[a("div",{staticClass:"user-info"},[a("img",{staticClass:"avatar",attrs:{src:e.userData.photo,alt:"头像"},on:{error:e.getDefaultImg}}),e._v(" "),a("span",{staticClass:"user-name"},[e._v(e._s(e.userData.nickname))]),e._v(" "),a("div",{staticClass:"user-status-part"},[a("span",{staticClass:"user-status",class:e.userData.statusClass},[e._v(e._s(e.userData.status))]),e._v(" "),a("span",{staticClass:"user-type",class:e.userData.typeClass},[e._v(e._s(e.userData.userType))])])])]),e._v(" "),a("div",{staticClass:"user-info-part"},[a("div",{staticClass:"user-info-list"},[a("form-cell",{attrs:{cellTitle:"公司",cellContent:e.userData.entityName,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"工号",cellContent:e.userData.userCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"手机",cellContent:e.userData.mobile}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"座机",cellContent:e.userData.officePhone}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"邮箱",cellContent:e.userData.email}})],1),e._v(" "),a("div",{staticClass:"user-info-list"},[a("form-cell",{attrs:{cellTitle:"创建者",cellContent:e.userData.creatorName,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"创建时间",cellContent:e.userData.crtTime}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"修改者",cellContent:e.userData.modifierName}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"修改时间",cellContent:e.userData.modTime}})],1)]),e._v(" "),e.action.update?a("div",{staticClass:"edit-btn",on:{click:function(t){return t.stopPropagation(),e.goEdit(t)}}},[e._v("编辑")]):e._e()])])},i=[],r={render:n,staticRenderFns:i};t.a=r},"qni/":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("MjAd"),o=n(s),l=(a("vS5q"),a("Qg39")),d=a("zWMP");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2435,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"协议号",value:"transMatchedCode"}]}},mixins:[o.default],watch:{listData:{handler:function(e){var t=!0,a=!1,n=void 0;try{for(var i,s=(0,r.default)(e);!(t=(i=s.next()).done);t=!0){var o=i.value;o.count=0;var u=!0,c=!1,f=void 0;try{for(var m,h=(0,r.default)(o.detailItem);!(u=(m=h.next()).done);u=!0){var v=m.value;o.count=(0,l.toFixed)((0,d.accAdd)(o.count,v.tdAmountCopy1))}}catch(e){c=!0,f=e}finally{try{!u&&h.return&&h.return()}finally{if(c)throw f}}}}catch(e){a=!0,n=e}finally{try{!t&&s.return&&s.return()}finally{if(a)throw n}}}}}}},qokj:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vux-tab-wrap",class:"top"===e.barPosition?"vux-tab-bar-top":""},[a("div",{staticClass:"vux-tab-container"},[a("div",{ref:"nav",staticClass:"vux-tab",class:[{"vux-tab-no-animate":!e.animate},{scrollable:e.scrollable}]},[e._t("default"),e._v(" "),e.animate?a("div",{staticClass:"vux-tab-ink-bar",class:e.barClass,style:e.barStyle},[e.customBarWidth?a("span",{staticClass:"vux-tab-bar-inner",style:e.innerBarStyle}):e._e()]):e._e()],2)])])},i=[],r={render:n,staticRenderFns:i};t.a=r},"qq/E":function(e,t){},qq0S:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("iR2W"),r=n(i),s=a("Qg39"),o=a("d7ck"),l=n(o),d=a("sUbJ"),u=n(d),c=a("6WeX"),f=n(c);t.default={name:"MatterList",props:{matterList:{type:Array,default:function(){return[]}},orderList:{type:Object,default:function(){return{}}},noTaxAmount:{type:Number,default:0},taxAmount:{type:Number,default:0},count:{type:Number,default:0},listTitle:{type:String,default:"物料列表"}},components:{FormCell:l.default,PriceTotal:f.default,MatterItem:u.default},filters:{toFixed:s.toFixed,numberComma:r.default}}},qwSi:function(e,t){},qwbi:function(e,t){},qwja:function(e,t,a){"use strict";function n(e){a("2/ZY")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("41vv");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("6Nvu"),o=a.n(s),l=a("ppDe"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-682db870",null);t.default=c.exports},qwnS:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("kNGm"),o=(n(s),a("SAzG")),l=n(o),d=a("0AQX"),u=a("+VRO"),c=n(u),f=a("BUFe"),m=n(f),h=a("AupE"),v=n(h),p=a("bFc7"),C=n(p),y=a("CKaN"),_=n(y),g=a("zWMP"),b=a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",dealerInfo:{},cashInfo:{},costList:[]}},computed:{isApproval:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"7d18cfc2-475f-44c5-ae12-a723d6234253"===t},isAccounting:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"69c3a187-1816-41cf-a9ec-899e9932940e"===t},isCashier:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"8ea73083-fc91-49f2-97d6-e9923ac9b9e2"===t},cashParams:function(){return{transCode:this.transCode}}},mixins:[c.default],components:{workFlow:v.default,RAction:m.default,contactPart:C.default,XInput:l.default,PopCashList:_.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,d.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=t.formData,i=t.attachment;if(!1===a)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var r=n.order.dataSet,s=void 0===r?[]:r;if(e.attachment=i,e.orderInfo=n,e.dealerInfo=n.inPut.dataSet[0],e.cashInfo=n.outPut.dataSet[0],e.costList=s,e.isAccounting){var o=e.dealerInfo,l=o.thenAmntBal,d=void 0===l?0:l,u=o.thenAlreadyAmnt,c=void 0===u?0:u;e.dealerInfo.thenTotalAmntBal=c,e.dealerInfo.differenceAmount=d}e.workFlowInfoHandler()})},agreeHandler:function(){if(this.isApproval||this.isAccounting||this.isCashier){if(this.isCashier&&!this.cashInfo.fundCode)return this.$vux.alert.show({content:"请选择资金账户"}),!0;var e=this.orderInfo,t=this.costList.map(function(e){return{tdId:e.tdId,expCode:e.expCode,expSubject:e.expSubject,costType_expCode:e.costType_expCode,tdAmount:e.tdAmount,expCause:e.expCause,taxAmount:e.taxAmount,noTaxAmount:e.noTaxAmount}}),a=(0,r.default)({},e,{order:{departmentName:e.order.departmentName,dataSet:t}});if(this.isCashier){var n=this.cashInfo;a.outPut={dataSet:[{fundName_cashInCode:n.fundName,cashInCode:n.fundCode,cashType_cashInCode:n.fundType,thenAmntBalCopy1:n.thenAmntBal,tdAmountCopy1:n.tdAmountCopy1,tdIdCopy1:n.tdIdCopy1}]}}return this.saveData(a),!0}return!1},calcTax:function(e){var t=e.taxAmount,a=void 0===t?0:t,n=e.noTaxAmount,i=void 0===n?0:n;a||(a=0,e.taxAmount=0),e.noTaxAmount=(0,g.accSub)(i,a)},calcPayment:function(e){var t=e.thenAmntBal,a=void 0===t?0:t,n=e.thenAlreadyAmnt,i=void 0===n?0:n,r=e.thenTotalAmntBal,s=void 0===r?0:r;s||(s=0),s=(0,b.toFixed)(s),e.thenTotalAmntBal=s,e.tdAmount=(0,b.toFixed)((0,g.accSub)(i,s)),e.differenceAmount=(0,b.toFixed)((0,g.accAdd)((0,g.accSub)(a,i),s)),this.cashInfo.tdAmountCopy1=s},selCash:function(e){this.cashInfo=(0,r.default)({},this.cashInfo,e)}}}},qxrx:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("FvvE"),r=(n(i),a("ZTs6"));n(r);t.default={data:function(){return{folder:"",currentComponent:"",isrefresh:!1}},created:function(){var e=this.$route.params,t=e.folder,n=e.fileName;this.folder=t,this.currentComponent=a("88rY")("./"+t+"/"+n+"_List.vue").default},beforeRouteEnter:function(e,t,a){var n=e.query,i=n.name,r=n.transCode;i.includes("合规")&&(e.meta.title=i,a()),e.meta.title=r?"加载中...":i+"列表",a()},activated:function(){var e=this,t=this.$route.meta.reload;if(setTimeout(function(){e.$refs.list.changeVisitedStatus&&e.$refs.list.changeVisitedStatus()}),this.$nextTick(function(){e.$refs.list&&e.$refs.list.$refs.bScroll&&e.$refs.list.$refs.bScroll.refresh()}),t){var n=this.$route.params,i=n.folder,r=n.fileName;this.$loading.show(),i&&(this.folder===i&&this.currentComponent&&this.$refs.list.reloadData(),this.folder=i,this.currentComponent=a("88rY")("./"+i+"/"+r+"_List.vue").default),this.$route.meta.reload=!1}},beforeRouteLeave:function(e,t,a){"/home"===e.path&&(this.$loading.hide(),this.currentComponent=null,t.meta.reload=!0),a()}}},qy1N:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("AupE"),f=n(c),m=a("BUFe"),h=n(m),v=a("bFc7"),p=n(v),C=a("3NX5"),y=n(C),_=a("zlAJ"),g=n(_);t.default={data:function(){return{orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},attachment:[]}},mixins:[u.default],components:{workFlow:f.default,RAction:h.default,contactPart:p.default,MatterList:y.default,UploadFile:g.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u=s.order,c=u.dataSet,f=!0,m=!1,h=void 0;try{for(var v,p=(0,r.default)(c);!(f=(v=p.next()).done);f=!0){var C=v.value;C.inventoryPic=C.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+C.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){m=!0,h=e}finally{try{!f&&p.return&&p.return()}finally{if(m)throw h}}e.attachment=d,s.validUntil=(0,o.default)(u.validUntil,"YYYY-MM-DD"),e.orderInfo=s,e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo={creatorName:t.dealerDebitContactPersonName,dealerName:a.dealerName_dealerDebit,dealerMobilePhone:t.dealerDebitContactInformation,dealerContactPersonName:t.dealerDebitContactPersonName,dealerCode:a.dealerDebit,dealerLabelName:a.drDealerLabel,province:a.province_dealerDebit,city:a.city_dealerDebit,county:a.county_dealerDebit,address:a.address_dealerDebit,payment:a.drDealerPaymentTerm,validUntil:t.validUntil,logistics:t.drDealerLogisticsTerms}}}}},qzCh:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("4YfN"),o=n(s),l=a("KH7x"),d=n(l),u=a("3cXf"),c=n(u),f=a("BGNQ"),m=n(f),h=a("7g+Q"),v=n(h),p=a("+62G"),C=n(p),y=a("z5TY"),_=n(y),g=a("SAzG"),b=n(g),w=a("7qeq"),I=(n(w),a("u28h")),x=n(I),D=a("PzEQ"),P=n(D),S=a("iR2W"),k=n(S),L=a("kNGm"),N=(n(L),a("dyuG")),M=(n(N),a("L6VY")),T=(n(M),a("jnZd")),A=n(T),O=a("0AQX"),R=a("HyXB"),j=a("QHLv"),B=a("bKg5"),E=n(B),F=a("vl8n"),U=n(F),$=a("aumL"),Q=n($),H=a("+WR7"),V=n(H),q=a("Qg39"),Y=a("zWMP");t.default={data:function(){return{listId:"418bd0e9-1dce-4e01-aa5a-3d4cd80e87d4",showCostPop:!1,dealerInfo:{dealerName:"",dealerCodeCredit:"",crDealerLabel:"",applicationType:[],tdCreditLine:"",thenAmntBalCopy1:"",thenTotalAmntBal:"",tdAmountCopy1:"",differenceAmount:"",expCause:""},formData:{biId:"",biComment:"",biProcessStatus:""},cashInfo:{cashName:"",cashInCode:"",cashType_cashInCode:"",thenAmntBal:"",tdAmount:""},biReferenceId:"",currentType:[["借款","备用金"]],selectedCost:[]}},computed:{creatorName:function(){return this.formData.userCode}},watch:{creatorName:function(e){this.getEmployeeBal()}},directives:{TransferDom:C.default},components:{Cell:m.default,Popup:v.default,Group:_.default,XInput:b.default,PopupPicker:A.default,Datetime:x.default,XTextarea:P.default,RPicker:U.default,PopFundList:Q.default,PopBaseinfo:V.default},mixins:[E.default],filters:{numberComma:k.default},methods:{getEmployeeBal:function(){var e=this,t=[{operator:"eq",value:this.formData.userCode,property:"dealerCode"}];(0,j.getEmployeeBal)((0,c.default)(t)).then(function(t){var a=t.tableContent,n=void 0===a?[]:a,i=(0,d.default)(n,1),r=i[0],s=void 0===r?{}:r;e.dealerInfo=(0,o.default)({},e.dealerInfo,{dealerName:s.nickname,dealerCodeCredit:s.dealerCode,crDealerLabel:s.dealerLabelName,tdCreditLine:s.tdCreditLine,thenAmntBalCopy1:s.amntBal})})},submitOrder:function(){var e=this,t="",a=this.dealerInfo;if(a.applicationType.length||(t="请选择类型"),t||a.thenTotalAmntBal||0===a.thenTotalAmntBal||(t="请输入申请金额"),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=R.saveAndStartWf,n=(0,o.default)({},e.formData,{handlerEntity:e.entity.dealerName,order:{dataSet:[{tdIdCopy1:a.tdIdCopy1||"",dealerCodeCredit:a.dealerCodeCredit,crDealerLabel:a.crDealerLabel,applicationType:a.applicationType[0],tdCreditLine:a.tdCreditLine,thenAmntBalCopy1:a.thenAmntBalCopy1,thenTotalAmntBal:a.thenTotalAmntBal,tdAmountCopy1:a.tdAmountCopy1,differenceAmount:a.differenceAmount,expCause:a.expCause}]},outPut:{dataSet:[{tdId:e.cashInfo.tdId||"",cashInCode:e.cashInfo.cashInCode,cashType_cashInCode:e.cashInfo.cashType_cashInCode,thenAmntBal:e.cashInfo.thenAmntBal,tdAmount:e.cashInfo.tdAmount,dealerCodeCredit:a.dealerCodeCredit,crDealerLabel:a.crDealerLabel}]}}),i={listId:e.listId,biComment:n.biComment,formData:(0,c.default)(n),wfPara:(0,c.default)((0,r.default)({},e.processCode,{businessKey:e.businessKey,createdBy:n.creator}))};e.isResubmit&&(t=R.saveAndCommitTask,i.biReferenceId=e.biReferenceId,i.wfPara=(0,c.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=R.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,O.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,l=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=l;var u=r.order,c=r.outPut,f=(0,d.default)(u.dataSet,1),m=f[0],h=void 0===m?{}:m,v=(0,d.default)(c.dataSet,1),p=v[0],C=void 0===p?{}:p;e.dealerInfo={tdIdCopy1:h.tdIdCopy1,dealerName:h.dealerName_dealerCodeCredit,dealerCodeCredit:h.dealerCodeCredit,crDealerLabel:h.crDealerLabel,applicationType:[h.applicationType],tdCreditLine:h.tdCreditLine,thenAmntBalCopy1:h.thenAmntBalCopy1,thenTotalAmntBal:h.thenTotalAmntBal,tdAmountCopy1:h.tdAmountCopy1,differenceAmount:h.differenceAmount,expCause:h.expCause},e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,o.default)({},e.formData,e.handlerDefault,{biComment:r.biComment,biId:r.biId,biProcessStatus:r.biProcessStatus,creator:r.creator,modifer:r.modifer}),e.cashInfo={tdId:C.tdId,cashName:C.fundName_cashInCode,cashInCode:C.cashInCode,cashType_cashInCode:C.cashType_cashInCode,thenAmntBal:C.thenAmntBal,tdAmount:C.tdAmount},e.biReferenceId=r.biReferenceId,e.$loading.hide()})},checkAmt:function(){var e=this.dealerInfo,t=e.thenAmntBalCopy1,a=void 0===t?0:t,n=e.thenTotalAmntBal,i=void 0===n?0:n;this.cashInfo.tdAmount;i||(i=0),this.dealerInfo.thenAmntBalCopy1=(0,q.toFixed)(a),this.dealerInfo.thenTotalAmntBal=(0,q.toFixed)(i),this.dealerInfo.tdAmountCopy1=(0,q.toFixed)(i),this.dealerInfo.differenceAmount=(0,q.toFixed)((0,Y.accAdd)(a,i)),this.cashInfo.tdAmount=(0,q.toFixed)(i)},hasDraftData:function(){return(0,r.default)({},"JKYBYJ_DATA",{dealerInfo:this.dealerInfo,cashInfo:this.contactInfo,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("JKYBYJ_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.cashInfo=t.cashInfo,sessionStorage.removeItem("JKYBYJ_DATA")}}}},r2DS:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("HXPS"),d=n(l),u=a("7g+Q"),c=n(u),f=a("6q39"),m=n(f),h=a("QHLv"),v=a("1KNX"),p=n(v),C=a("7biW"),y=n(C);t.default={name:"MatterList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},groupId:{type:Number,default:990713},getListMethod:{type:String,default:"getCostByGroupId"}},components:{Icon:d.default,Popup:c.default,LoadMore:m.default,RScroll:p.default,MSearch:y.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],costList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}},groupId:{handler:function(){this[this.getListMethod]()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,o.default)(this.selItems)),this.$emit("input",!1),this.$event.$emit("shut-down-filter",!1)},showSelIcon:function(e){var t=!1;return this.selItems&&this.selItems.every(function(a){return e.costCode!==a.costCode||(t=!0,!1)}),t},selThis:function(e,t){this.showPop=!1,this.selItems=[e],this.$emit("sel-matter",this.selItems[0])},setDefaultValue:function(){this.tmpItems=[].concat((0,o.default)(this.defaultValue)),this.selItems=[].concat((0,o.default)(this.defaultValue))},getCostByGroupId:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,o.default)(e),[{operator:"like",value:this.srhInpTx,property:"costName"}])),(0,h.getCostByGroupId)({groupId:this.groupId,limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(e)}).then(this.dataHandler)},getProjectCostByGroupId:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,o.default)(e),[{operator:"like",value:this.srhInpTx,property:"costName"}])),(0,h.getProjectCostByGroupId)({groupId:this.groupId,limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(e)}).then(this.dataHandler)},dataHandler:function(e){var t=this,a=e.dataCount,n=void 0===a?0:a,i=e.tableContent,r=void 0===i?[]:i;this.hasNext=n>(this.page-1)*this.limit+r.length,this.costList=1===this.page?r:[].concat((0,o.default)(this.costList),(0,o.default)(r)),this.$nextTick(function(){t.$refs.bScroll.finishPullUp()})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.costList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this[this.getListMethod]()},onPullingUp:function(){this.page++,this[this.getListMethod]()}},created:function(){this.setDefaultValue(),this[this.getListMethod]()}}},r4Iv:function(e,t){},rAju:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=(a("XAqG"),a("HyXB"),a("MjAd")),o=n(s),l=a("ak47");n(l);t.default={name:"CPXQ_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"经办人",value:"handlerName"},{name:"交易号",value:"transCode"},{name:"员工",value:"profileName"}],listViewID:2376}},mixins:[o.default],methods:{pathChange:function(e,t,a){var n=this;if(!this.clickVisited){var i=e.transCode,s=this.$route.query.name,o=this.$route.params,l=o.folder,d=o.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,r.default)({},e));var u=a+"/"+l+"/"+d;setTimeout(function(){n.clickVisited=!1,n.$router.push({path:u,query:{name:s,transCode:i}})},200)}},goDetail:function(e,t){this.pathChange(e,t,"/detail")},goUserEdit:function(e,t){this.pathChange(e,t,"/fillform")}}}},rBkj:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages fgysqk-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{"dealer-label-name":"往来",request:"3","default-value":e.dealerInfo,params:e.dealerParams},on:{"sel-item":e.selDealer}},[a("template",{slot:"other"},[a("div",{staticClass:"amt-dealer"},[a("span",{staticClass:"amt-dealer-item"},[e._v("本次开出汇票: "+e._s(e.thenTotalAmntBal))])])])],2),e._v(" "),a("div",{staticClass:"materiel_list"},[a("div",{staticClass:"title"},[e._v("汇票明细")]),e._v(" "),e._l(e.orderList,function(t,n){return a("div",{key:n,staticClass:"order-detail",class:{"vux-1px-t":0!==n}},[a("x-input",{attrs:{"text-align":"right",placeholder:"请填写"},model:{value:t.draftNumber,callback:function(a){e.$set(t,"draftNumber",a)},expression:"item.draftNumber"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("汇票号")])])],2),e._v(" "),a("r-picker",{staticClass:"vux-1px-t",attrs:{title:"类型",data:e.draftTypeList,mode:"4",placeholder:"请选择类型",hasBorder:!1,required:""},model:{value:t.draftType,callback:function(a){e.$set(t,"draftType",a)},expression:"item.draftType"}}),e._v(" "),a("x-input",{attrs:{"text-align":"right",placeholder:"请填写"},model:{value:t.accepter,callback:function(a){e.$set(t,"accepter",a)},expression:"item.accepter"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("承兑人")])])],2),e._v(" "),a("x-input",{attrs:{"text-align":"right",placeholder:"请填写",type:"number"},on:{"on-blur":function(a){e.checkAmt(t,"tdAmount")},"on-focus":function(t){e.getFocus(t)}},model:{value:t.tdAmount,callback:function(a){e.$set(t,"tdAmount",e._n(a))},expression:"item.tdAmount"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("金额")])])],2),e._v(" "),a("x-input",{attrs:{"text-align":"right",placeholder:"请填写",type:"number"},on:{"on-blur":function(a){e.checkAmt(t,"deposit")},"on-focus":function(t){e.getFocus(t)}},model:{value:t.deposit,callback:function(a){e.$set(t,"deposit",e._n(a))},expression:"item.deposit"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("保证金")])])],2),e._v(" "),a("datetime",{attrs:{placeholder:"请选择出票日"},model:{value:t.draftDate,callback:function(a){e.$set(t,"draftDate",a)},expression:"item.draftDate"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("出票日")])])],2),e._v(" "),a("datetime",{attrs:{placeholder:"请选择到期日"},model:{value:t.draftDueDate,callback:function(a){e.$set(t,"draftDueDate",a)},expression:"item.draftDueDate"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("到期日")])])],2),e._v(" "),a("x-input",{attrs:{title:"说明","text-align":"right",placeholder:"请填写"},model:{value:t.comment,callback:function(a){e.$set(t,"comment",a)},expression:"item.comment"}})],1)})],2),e._v(" "),a("div",{staticClass:"add_more"},[e._v("\n        您还需要添加新的汇票?请点击\n        "),a("span",{staticClass:"add",on:{click:e.addOrder}},[e._v("新增")]),e._v(" "),a("em",{directives:[{name:"show",rawName:"v-show",value:e.orderList.length>1,expression:"orderList.length>1"}]},[e._v("或")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.orderList.length>1,expression:"orderList.length>1"}],staticClass:"delete",on:{click:e.deleteOrder}},[e._v("删除")])]),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"其他信息"}},[a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},rDF8:function(e,t,a){"use strict";function n(e){a("b3pO")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("aofM");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("p6YX"),o=a.n(s),l=a("CSTP"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},rHhR:function(e,t,a){"use strict";function n(e){a("KzpN")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("bnXU");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("NAfT"),o=a.n(s),l=a("RAYp"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-278c73a8",null);t.default=c.exports},rKsn:function(e,t){},rLJd:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("3cXf"),o=n(s),l=a("4YfN"),d=n(l),u=a("0AQX"),c=a("Dkzh"),f=a("7biW"),m=n(f),h=a("1KNX"),v=n(h);t.default={data:function(){return{serachVal:"",title:"",listData:[],page:1,limit:10,hasNext:!0,DefaultImg:a("Fuf7"),scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0}}},components:{search:m.default,RScroll:v.default},methods:{goDetail:function(e,t){var a=this,n=e.title,i=e.folder,r=e.packagePath,s=Date.now();e.visited=!0,this.$set(this.listData,t,(0,d.default)({},e));(0,u.isMyflow)({transCode:e.businessKey}).then(function(t){var o=t.tableContent,l=function(){var t="";if(o.length>0){var s=o[0],l=s.isMyTask,d=s.nodeName;t=1===l&&"重新提交"===d?"/fillform/"+i+"/"+r:"/detail/"+i+"/"+r}else t="/detail/"+i+"/"+r;var u={name:n,transCode:e.businessKey};a.$router.push({path:t,query:u})},d=Date.now()-s;d>200?l():setTimeout(function(){l()},200-d)}).catch(function(n){e.visited=!1,a.$set(a.listData,t,(0,d.default)({},e))})},resetCondition:function(){this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.$refs.bScroll.resetPullDown()},searchList:function(e){var t=e.val,a=void 0===t?"":t;e.property;this.serachVal=a,this.resetCondition(),this.getList()},getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a={title:this.title,businessKey:this.serachVal,crtName:this.serachVal};return(0,c.getAllMsgList)({limit:this.limit,page:this.page,filter:(0,o.default)(a)}).then(function(a){var n=a.total,i=void 0===n?0:n,s=a.tasks,o=void 0===s?[]:s;a.success;o.forEach(function(e){e.status="待处理",e.transCode=e.businessKey}),e.hasNext=i>(e.page-1)*e.limit+o.length,e.listData=1===e.page?o:[].concat((0,r.default)(e.listData),(0,r.default)(o)),t||e.$nextTick(function(){e.resetScroll()})}).catch(function(t){e.resetScroll()})},getDefaultImg:function(e){var t=a("HfaK");return e&&(e.inventoryPic=t),t},resetScroll:function(){this.$refs.bScroll.finishPullDown(),this.$refs.bScroll.finishPullUp()},onPullingUp:function(){this.page++,this.getList()},onPullingDown:function(){var e=this;this.page=1,this.getList(!0).then(function(){e.$nextTick(function(){e.$refs.bScroll.finishPullDown().then(function(){e.$refs.bScroll.finishPullUp()})})})},reloadData:function(){var e=this;this.serachVal="",this.resetCondition(),this.getList().then(function(){e.$loading.hide()})}},filters:{handleCrt:function(e){var t=e.duration,a=parseInt(t/3600),n=t-3600*a,i=Math.floor(n/60),r=void 0;return r=a>0?a+"小时前":0===i?"1分钟前":i+"分钟前",a<24?r:""+e.crtTime.split(" ")[0]}},created:function(){var e=this;this.$loading.show(),this.title=this.$route.query.name,this.getList().then(function(){e.$loading.hide()})},activated:function(){var e=this,t=this.$route.meta.reload;this.title=this.$route.query.name,setTimeout(function(){var t=[].concat((0,r.default)(e.listData));t.forEach(function(e){e.visited=!1}),e.listData=t},200),t&&(this.$loading.show(),this.reloadData(),this.$route.meta.reload=!1)},beforeRouteEnter:function(e,t,a){e.meta.title=e.query.name,a()},beforeRouteLeave:function(e,t,a){"MSGHOME"===e.name&&(t.meta.reload=!0),a()}}},rNne:function(e,t,a){"use strict";function n(e){a("yMkD")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("0LX9");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("uJmp"),o=a.n(s),l=a("NWqe"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-c70851a8",null);t.default=c.exports},rOS6:function(e,t,a){"use strict";function n(e){a("sAEQ")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("qni/");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("eoI8"),o=a.n(s),l=a("iWpg"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-3bf05f30",null);t.default=c.exports},rPeu:function(e,t){},rQbX:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("a3Yh"),o=n(s),l=a("3cXf"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("7g+Q"),C=n(p),y=a("PzEQ"),_=n(y),g=a("jnZd"),b=n(g),w=a("u28h"),I=n(w),x=a("kNGm"),D=n(x),P=a("iR2W"),S=n(P),k=a("0AQX"),L=a("HyXB"),N=(a("jLp1"),a("bKg5")),M=n(N),T=a("wuIh"),A=n(T),O=a("CKaN"),R=n(O),j=a("vl8n"),B=n(j),E=a("+WR7"),F=n(E),U=a("zWMP"),$=a("Qg39");t.default={mixins:[M.default],components:{Cell:c.default,Group:m.default,Popup:C.default,XInput:v.default,XTextarea:_.default,PopupPicker:b.default,RPicker:B.default,PopBaseinfo:F.default,PopMoneyOrderList:A.default,Datetime:I.default,PopCashList:R.default},data:function(){return{listId:"bb9ce973-2f62-4707-a54c-7e8605dc99d6",biReferenceId:"",selectedCost:[],costIndex:0,transCode:"",formData:{biComment:"",biProcessStatus:""},showOrder:!1,orderList:[],cashInfo:{}}},computed:{tdAmount:function(){var e=0;return this.orderList.forEach(function(t){t.thenAmntBal&&(e=(0,U.accAdd)(e,t.thenAmntBal))}),(0,$.toFixed)(e)}},filters:{numberComma:S.default,dateFormat:D.default},methods:{submitOrder:function(){var e=this,t="",a=[],n=[{key:"cashingDiscountDate",message:"请选择兑现贴现日"}];if(t||this.orderList.length||(t="请选择汇票明细"),t||this.orderList.every(function(e){return n.every(function(a){return e[a.key]||0===e[a.key]||(t=a.message),!t}),a.push({tdId:e.tdId||null,draftNumber:e.draftNumber,draftType:e.draftType,accepter:e.accepter,tdAmount:e.tdAmount,draftDate:e.draftDate,draftDueDate:e.draftDueDate,cashingDiscountDate:e.cashingDiscountDate,discount:e.discount,thenAmntBal:e.thenAmntBal,comment:e.comment||""}),!t}),t||this.cashInfo.fundName||(t="请选择资金账户"),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=L.saveAndStartWf,n=(0,o.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,d.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.formData.biComment,formData:(0,d.default)((0,r.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",inPut:{dataSet:[{fundName_cashInCode:e.cashInfo.fundName,cashInCode:e.cashInfo.fundCode,cashType_cashInCode:e.cashInfo.fundType,thenAmntBal:e.cashInfo.amntBal,tdAmount:e.tdAmount}]},order:{dataSet:a},deposit:null})),wfPara:(0,d.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=L.saveAndCommitTask),e.processCode.length||(t=L.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,k.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.attachment,n=void 0===a?[]:a,i=t.listId,s=void 0===i?"":i,o=(t.biComment,t.biReferenceId),l=void 0===o?"":o,d=t.formData,u=void 0===d?{}:d;e.attachment=n,e.listId=s,e.biReferenceId=l,e.handlerDefault={handler:u.handler,handlerName:u.handlerName,handlerUnit:u.handlerUnit,handlerUnitName:u.handlerUnitName,handlerRole:u.handlerRole,handlerRoleName:u.handlerRoleName},e.formData=(0,r.default)({},e.formData,e.handlerDefault,{biComment:u.biComment,biId:u.biId,biProcessStatus:u.biProcessStatus,creator:u.creator,modifer:u.modifer});var c=u.order,f=void 0===c?{}:c,m=u.inPut,h=void 0===m?{}:m,v=f.dataSet,p=void 0===v?[]:v;e.cashInfo={fundName:h.dataSet[0].fundName_cashInCode,fundCode:h.dataSet[0].cashInCode,fundType:h.dataSet[0].cashType_cashInCode,tdAmount:h.dataSet[0].tdAmount,amntBal:h.dataSet[0].thenAmntBal},e.orderList=p,e.$loading.hide()})},hasDraftData:function(){return!!this.orderList.dealerCode&&(0,o.default)({},"DXTXCDHP_DATA",{formData:this.formData,cashInfo:this.cashInfo,orderList:this.orderList})},getRelationData:function(){},selOrder:function(e){e.forEach(function(e){e.draftDate=(0,D.default)(e.draftDate,"YYYY-MM-DD"),e.draftDueDate=(0,D.default)(e.draftDueDate,"YYYY-MM-DD"),e.tdAmount=e.amntTbMatched}),this.orderList=e,this.orderList.forEach(function(e){e.discount||(e.discount=0),e.thenAmntBal=Number((0,U.accSub)(e.tdAmount,e.discount))})},addOrder:function(){this.showOrder=!0},selCash:function(e){this.cashInfo=(0,r.default)({},e)},checkAmt:function(e,t){var a=e.discount,n=void 0===a?0:a;e.discount=Math.abs((0,$.toFixed)(n)),e.thenAmntBal=Number((0,U.accSub)(e.amntTbMatched,e.discount)),this.$set(this.orderList,t,(0,r.default)({},e))}},created:function(){var e=sessionStorage.getItem("DXTXCDHP_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.cashInfo=t.cashInfo,this.orderList=t.orderList,sessionStorage.removeItem("DXTXCDHP_DATA")}}}},rS01:function(e,t){},rSJi:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listViewID:2366,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"往来名称",value:"dealerName_dealerDebit"},{name:"设备名称",value:"facilityName_facilityObjCode"}]}},mixins:[i.default],methods:{},created:function(){}}},rVlw:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("a3Yh"),o=n(s),l=a("4YfN"),d=n(l),u=a("7g+Q"),c=n(u),f=a("+62G"),m=n(f),h=a("z5TY"),v=n(h),p=a("BGNQ"),C=n(p),y=a("iR2W"),_=n(y),g=a("u28h"),b=n(g),w=a("SAzG"),I=n(w),x=a("PzEQ"),D=n(x),P=a("HyXB"),S=a("bKg5"),k=n(S),L=a("7D9F"),N=n(L),M=a("i61Q"),T=n(M),A=a("FGYN"),O=n(A),R=a("F2L3"),j=n(R),B=a("vl8n"),E=n(B),F=a("+WR7"),U=n(F);t.default={directives:{TransferDom:m.default},components:{Popup:c.default,Group:v.default,Cell:C.default,Datetime:b.default,XInput:I.default,XTextarea:D.default,PopWorkList:T.default,PopManagerList:N.default,PopProjectList:j.default,PopWorkGdbllList:O.default,RPicker:E.default,PopBaseinfo:U.default},data:function(){return{listId:"6ebcad8b-449c-422a-960f-53ccf98fd4ba",showWorkPop:!1,transMode:[],matterList:[],dealer:{},numMap:{},contact:{},formData:{},dealerInfo:{},workInfo:{},defaultManager:{},showProjectPop:!1,project:{},defaultProject:[]}},mixins:[k.default],filters:{numberComma:_.default},methods:{selWork:function(e){this.workInfo=(0,d.default)({tdQty:""},e)},submitOrder:function(){var e=this,t="",a=[];if(this.workInfo.transCode||(t="请选择工序"),t||this.workInfo.tdQty||(t="请填写补领料数量"),t||this.project.PROJECT_NAME||(t="请选择项目"),t)return void this.$vux.alert.show({content:t});var n={transMatchedCode:this.workInfo.transCode,proPointCode:this.workInfo.proPointCode,tdQty:this.workInfo.tdQty,transObjCode:this.workInfo.matCode,proFlowCode:this.workInfo.proFlowCode,processCode:this.workInfo.processCode,tdProcessing:this.workInfo.processing};a.push(n),this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=(P.saveAndStartWf,(0,o.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""}));e.isResubmit&&(t={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var n={listId:e.listId,biComment:e.formData.biComment,formData:(0,r.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,biProcessStatus:e.currentStage,order:{dataSet:a,project:e.project.PROJECT_NAME,departmentName:e.formData.handlerUnitName}})),wfPara:(0,r.default)(t)};e.isResubmit&&(P.saveAndCommitTask,n.biReferenceId=e.biReferenceId),e.processCode.length||(P.submitAndCalc,delete n.wfPara,delete n.biReferenceId),e.biReferenceId&&(n.biReferenceId=e.biReferenceId)}})},selProject:function(e){this.project=(0,d.default)({},e)},hasDraftData:function(){return!!this.workInfo.procedureName&&(0,o.default)({},"GDBLL_DATA",{workInfo:this.workInfo,project:this.project,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("GDBLL_DATA");if(e){var t=JSON.parse(e);this.workInfo=t.workInfo,this.project=t.project,this.formData=t.formData,sessionStorage.removeItem("GDBLL_DATA")}}}},rYhG:function(e,t,a){"use strict";function n(e){a("JYVp")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("9+xF");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("3v/h"),o=a.n(s),l=a("CnyO"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-07141b44",null);t.default=c.exports},rZl4:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("HXPS"),o=n(s);t.default={name:"RDropdown",props:{list:{type:Array,default:function(){return[]}},show:{type:Boolean,default:!1}},components:{Icon:o.default},data:function(){return{showDrop:!1,selItem:{}}},watch:{show:{handler:function(e){this.showDrop=e},immediate:!0},list:{handler:function(){this.selItem=this.list[0],this.$emit("on-selected",this.selItem)},immediate:!0}},methods:{dropClick:function(){this.showDrop=!this.showDrop},dropItemClick:function(e){this.selItem=(0,r.default)({},e),this.showDrop=!1,this.$emit("on-selected",this.selItem)}},created:function(){}}},rdTW:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("iR2W"),r=n(i),s=a("7g+Q"),o=n(s),l=a("Qg39");t.default={name:"MatterItem",props:{item:{type:Object,default:function(){return{}}}},data:function(){return{showPop:!1}},components:{Popup:o.default},methods:{getMatterDefault:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t}},filters:{numberComma:r.default,toFixed:l.toFixed}}},rewM:function(e,t,a){"use strict";function n(e){a("+WLV")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HVhx");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("L/+s"),o=a.n(s),l=a("1bWV"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-bbeb3b1c",null);t.default=c.exports},rgGk:function(e,t,a){"use strict";function n(e){a("fem4")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3RO+");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("WsHV"),o=a.n(s),l=a("i2zW"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-3a09f100",null);t.default=c.exports},riHU:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("ZLEe"),r=n(i),s=a("HzJ8"),o=n(s),l=a("IHPB"),d=n(l),u=a("3cXf"),c=n(u),f=a("MgeX"),m=n(f),h=a("4YfN"),v=n(h),p=a("3QQJ"),C=n(p),y=a("ak47"),_=n(y),g=a("Dkzh"),b=a("1KNX"),w=n(b),I=a("6aPk"),x=n(I),D=a("WJwd"),P=n(D),S=a("bBLw"),k=n(S),L=a("Z5v5"),N={page:1,limit:10,hasNext:!0,isNull:!1,listData:[]};t.default={data:function(){return{tabList:[{name:"待办",status:"todo"},{name:"评论",status:"comment"},{name:"点赞",status:"praise"}],activeIndex:0,scrollOptions:{bounce:{top:!1},pullUpLoad:!0},isClickDetail:!1,pageSwiper:null,noticeData:{todo:(0,v.default)({},N,{listData:{}}),comment:(0,v.default)({},N),praise:(0,v.default)({},N)},isMovingSwiper:!1}},computed:{noDataText:function(){return["暂无待办消息","暂无评论消息","暂无点赞消息"][this.activeIndex]},currentItem:function(){var e=this.tabList[this.activeIndex].status;return this.noticeData[e]},currentScroll:function(){return this.$refs.bScroll[this.activeIndex]}},components:{Badge:C.default,RScroll:w.default,TodoItem:P.default,CommentItem:k.default,RTab:x.default},methods:{onTabClick:function(e){var t=e.index;this.activeIndex=t,this.currentScroll.scrollTo(0,0),this.resetCondition(),this.pageSwiper.slideTo(t)},getDefaultIcon:function(e){var t=a("CYNT");return e&&(e.icon=t),t},resetCondition:function(){var e=this.tabList[this.activeIndex].status,t=(0,v.default)({},N);this.activeIndex||(t.listData={}),this.noticeData[e]=t},getList:function(){var e=this;return(0,g.getMsgList)().then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;if(e.$event.$emit("badgeNum",n),e.currentItem.hasNext=!1,!r.length)return void(e.currentItem.isNull=!0);var s={};e.currentItem.isNull=!1,r.forEach(function(t){t.pic=t.icon?"/dist/"+t.icon:e.getDefaultIcon(),_.default[t.listId]&&(s[t.title]?s[t.title].list.push(t):s[t.title]={list:[t],noBorder:!1})});var o=(0,m.default)(s);o.length&&(o[o.length-1].noBorder=!0),e.currentItem.listData=s,e.$nextTick(function(){e.currentScroll.finishPullUp()})})},goMsglist:function(e,t){var a=this,n=this.tabList[this.activeIndex].status;this.isMovingSwiper||(e.visited=!0,this.isClickDetail=!0,this.$set(this.noticeData[n].listData,t,(0,v.default)({},e)),setTimeout(function(){a.$router.push({path:"/msglist",query:{name:t}})},200))},setReply:function(e){return'<span style="color: #2994FD;">'+e+"</span>"},getNotice:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"comment",a=this.currentItem,n=a.page,i=a.limit,r=[{property:"type",operator:"eq",value:t}];return(0,g.getNotice)({page:n,limit:i,filter:(0,c.default)(r)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i,s=e.currentItem,l=s.page,u=s.limit;e.currentItem.isNull=!r.length,e.currentItem.hasNext=n>(l-1)*u+r.length;var c=!0,f=!1,m=void 0;try{for(var h,v=(0,o.default)(r);!(c=(h=v.next()).done);c=!0){var p=h.value,C=JSON.parse(p.content);p.comment=C.content,p.commentType=C.type,p.attachment=C.attachment,p.RELATION_KEY=C.relationKey,p.pic=p.icon?"/dist/"+p.icon:e.getDefaultIcon(),p.other="list"===C.type?"@应用详情":"@实例编码："+C.relationKey,-1!==C.parentId&&(p.comment="回复@"+e.setReply(C.objCreator)+"："+C.content,p.reply={createrName:C.objCreator,comment:"@"+e.setReply(C.objCreator)+" 评论："+C.objContent})}}catch(e){f=!0,m=e}finally{try{!c&&v.return&&v.return()}finally{if(f)throw m}}return e.currentItem.listData=1===e.page?r:[].concat((0,d.default)(e.currentItem.listData),(0,d.default)(r)),e.$nextTick(function(){e.currentScroll.finishPullUp()}),t})},getNoticeByPraise:function(){var e=this,t=this.currentItem,a=t.page,n=t.limit;return(0,g.getNoticeByPraise)({page:a,limit:n}).then(function(t){var a=t.total,n=void 0===a?0:a,i=t.praiseNoticeList,r=void 0===i?[]:i,s=e.currentItem,l=s.page,u=s.limit;e.currentItem.isNull=!r.length,e.currentItem.hasNext=n>(l-1)*u+r.length;var c=!0,f=!1,m=void 0;try{for(var h,v=(0,o.default)(r);!(c=(h=v.next()).done);c=!0){var p=h.value,C=JSON.parse(p.content);p.comment="赞了这条评论",p.reply={createrName:C.creator,comment:"@"+e.setReply(C.creator)+": "+C.content,attachment:C.attachment},p.commentType=C.type,p.attachment=C.attachment,p.RELATION_KEY=C.relationKey,p.pic=p.icon?"/dist/"+p.icon:e.getDefaultIcon(),p.other="list"===C.type?"@应用详情":"@实例编码："+C.relationKey}}catch(e){f=!0,m=e}finally{try{!c&&v.return&&v.return()}finally{if(f)throw m}}return e.currentItem.listData=1===e.page?r:[].concat((0,d.default)(e.currentItem.listData),(0,d.default)(r)),e.$nextTick(function(){e.currentScroll.finishPullUp()}),t})},getComment:function(){return this.getNotice()},getPraise:function(){return this.getNoticeByPraise()},goDetail:function(e,t){var a=this,n=e.listId,i=e.folder,r=e.packagePath,s=e.listName,o=e.RELATION_KEY,l=e.commentType,d={name:s,transCode:o},u="/detail/"+i+"/"+r,c=this.tabList[this.activeIndex].status;this.isMovingSwiper||("list"===l&&(u="/appDetail/"+n,d={}),e.visited=!0,this.isClickDetail=!0,this.$set(this.noticeData[c].listData,t,(0,v.default)({},e)),setTimeout(function(){a.$router.push({path:u,query:d})},200))},onPullingUp:function(){this.currentItem.page++,1===this.activeIndex?this.getNotice():2===this.activeIndex&&this.getPraise()},changeVisitedStatus:function(){var e=this,t=[];0===this.activeIndex?(t=(0,v.default)({},this.currentItem.listData),(0,m.default)(t).forEach(function(e){e.visited=!1})):(t=[].concat((0,d.default)(this.currentItem.listData)),t.forEach(function(e){e.visited=!1})),setTimeout(function(){e.currentItem.listData=t},200),this.isClickDetail=!1},onPopoverClick:function(){(this.$refs.commentItem||[]).forEach(function(e){e.hidePopover()})},initSwiper:function(){var e=this;this.$nextTick(function(){e.pageSwiper=new e.Swiper(".notice-container",{touchAngle:30,on:{slideChangeTransitionStart:function(){var t=e.pageSwiper.activeIndex,a=[e.getList,e.getComment,e.getPraise];e.tabList[t].status;e.activeIndex=t,e.isMovingSwiper=!0,(0,r.default)(e.currentItem.listData).length||(e.resetCondition(),a[e.activeIndex]())},slideChangeTransitionEnd:function(){e.isMovingSwiper=!1}}})})}},beforeRouteLeave:function(e,t,a){"/home"===e.path&&(this.activeIndex=0,this.noticeData={todo:(0,v.default)({},N,{listData:{}}),comment:(0,v.default)({},N),praise:(0,v.default)({},N)},this.pageSwiper.slideTo(0),t.meta.reload=!0),a()},created:function(){var e=this;this.$loading.show(),this.initSwiper(),this.getList().then(function(){e.$loading.hide()})},activated:function(){var e=this,t=this.$route.meta.reload;(0,L.register)(),t?(this.$loading.show(),this.getList().then(function(){e.$loading.hide()}),this.$route.meta.reload=!1):this.isClickDetail&&this.changeVisitedStatus()}}},rlKI:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("HzJ8"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("PKHo"),f=n(c),m=a("zWMP"),h=a("BUFe"),v=n(h),p=a("AupE"),C=n(p),y=a("sUbJ"),_=n(y),g=a("FlCz"),b=n(g),w=a("d7ck"),I=n(w),x=a("MVgC"),D=n(x),P=a("hPJo"),S=n(P);t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",orderList:{},basicInfo:{},DuplicateBoms:[],UniqueBom:[],bomPopShow:!1,bom:{},warehouseIn:{},warehouseOut:{}}},mixins:[u.default,f.default],components:{workFlow:C.default,RAction:v.default,MatterItem:_.default,BomList:b.default,FormCell:I.default,BomPop:D.default,WarehouseContent:S.default},watch:{DuplicateBoms:{handler:function(e){var t=function(e,t){return e.inventoryCode===t.inventoryCode};this.UniqueBom=function(e){return e.reduce(function(e,a){return e.some(function(e){var n=t(e,a);return n&&(e.tdQty=(0,m.accAdd)(e.tdQty,a.tdQty)),n})||e.push(a),e},[])}(this.DuplicateBoms)}}},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},checkBom:function(e){this.bom=e,this.bomPopShow=!0},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u={};s.order;e.attachment=d;var c=s.inPut,f=void 0===c?{}:c,h=f.dataSet,v=!0,p=!1,C=void 0;try{for(var y,_=(0,o.default)(h);!(v=(y=_.next()).done);v=!0){var g=y.value;if(g.inventoryPic=g.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+g.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),g.boms){var b=!0,w=!1,I=void 0;try{for(var x,D=(0,o.default)(g.boms);!(b=(x=D.next()).done);b=!0){var P=x.value;P.inventoryCode=P.transObjCode,P.warehouseName=P.warehouseName_containerCodeOut,P.warehouseCode=P.containerCodeOut,P.qtyStock=P.thenQtyStock,P.tdQty=(0,m.accMul)(P.bomQty,g.tdQty,1+P.bomSpecificLoss)}}catch(e){w=!0,I=e}finally{try{!b&&D.return&&D.return()}finally{if(w)throw I}}e.DuplicateBoms=e.DuplicateBoms.concat(JSON.parse((0,r.default)(g.boms)))}u[g.transMatchedCode]||(u[g.transMatchedCode]=[]),u[g.transMatchedCode].push(g)}}catch(e){p=!0,C=e}finally{try{!v&&_.return&&_.return()}finally{if(p)throw C}}e.warehouseIn={warehouseCode:f.containerCode,warehouseName:f.warehouseName_containerCode,warehouseAction:"入库",warehouseIcon:"icon-ruku",warehouseType:f.warehouseType_containerCode,warehouseProvince:f.warehouseProvince_containerCode,warehouseCity:f.warehouseCity_containerCode,warehouseDistrict:f.warehouseDistrict_containerCode,warehouseAddress:f.warehouseAddress_containerCode},e.warehouseOut={warehouseCode:f.containerCodeOut,warehouseName:""+f.warehouseName_containerCodeOut,warehouseAction:"出库",warehouseIcon:"icon-chuku",warehouseType:f.warehouseType_containerCodeOut,warehouseProvince:f.warehouseProvince_containerCodeOut,warehouseCity:f.warehouseCity_containerCodeOut,warehouseDistrict:f.warehouseDistrict_containerCodeOut,warehouseAddress:f.warehouseAddress_containerCodeOut},e.orderList=u,e.orderInfo=s,e.workFlowInfoHandler()})}}}},"rm+c":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noCount:"",noPrice:""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},rpUU:function(e,t){},rsKK:function(e,t){},rxOo:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("St0H");t.default={name:"x-button",props:{type:{default:"default"},disabled:Boolean,mini:Boolean,plain:Boolean,text:String,actionType:String,showLoading:Boolean,link:[String,Object],gradients:{type:Array,validator:function(e){return 2===e.length}}},methods:{onClick:function(){!this.disabled&&(0,n.go)(this.link,this.$router)}},computed:{noBorder:function(){return Array.isArray(this.gradients)},buttonStyle:function(){if(this.gradients)return{background:"linear-gradient(90deg, "+this.gradients[0]+", "+this.gradients[1]+")",color:"#FFFFFF"}},classes:function(){return[{"weui-btn_disabled":!this.plain&&this.disabled,"weui-btn_plain-disabled":this.plain&&this.disabled,"weui-btn_mini":this.mini,"vux-x-button-no-border":this.noBorder},this.plain?"":"weui-btn_"+this.type,this.plain?"weui-btn_plain-"+this.type:"",this.showLoading?"weui-btn_loading":""]}}}},"s+NT":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"BomList",props:{boms:{type:Array,default:function(){return[]}}}}},"s/zt":function(e,t){},s2e5:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pop-sodl-project-list",on:{click:e.itemClick}},[a("div",{staticClass:"title"},[e._v("项目名称")]),e._v(" "),e.selItems.projectName?a("div",{staticClass:"project-info"},[a("span",{staticClass:"project-name"},[e._v(e._s(e.selItems.projectName))]),e._v(" "),a("span",{staticClass:"project-type"},[e._v(e._s(e.selItems.projectType))])]):a("div",[a("div",{staticClass:"mode"},[e._v("请选择项目名称")])]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r-arrow"}),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("m-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.projectList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.projectList,function(t,n){return a("div",{key:n,staticClass:"each_mater box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"mater_main "},[a("div",{staticClass:"project_name"},[e._v("\n                "+e._s(t.projectName)+"\n              ")]),e._v(" "),a("div",{staticClass:"project_type"},[e._v("\n                "+e._s(t.projectType)+"\n              ")])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1)])],1)])},i=[],r={render:n,staticRenderFns:i};t.a=r},s4Ee:function(e,t){},s5eW:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("5YEj");t.default={data:function(){return{toggle:!1,chartList:["饼状","线性","柱状"],option:{},activeIndex:0,chart:null}},methods:{changeTip:function(e){this.activeIndex=e,0===e?this.option={title:{itemGap:20,top:20,x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",bottom:20,left:20,selectedMode:!1,data:["直接访问","邮件营销","联盟广告","视频广告","搜索引擎"]},series:[{name:"访问来源",type:"pie",radius:"50%",center:["40%","50%"],data:[{value:335,name:"直接访问"},{value:310,name:"邮件营销"},{value:234,name:"联盟广告"},{value:135,name:"视频广告"},{value:1548,name:"搜索引擎"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}:1===e?this.option={title:{text:"一天用电量分布",subtext:"纯属虚构",top:5,x:"center"},grid:{height:"10%"},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},xAxis:{type:"category",boundaryGap:!1,data:["00:00","01:15","02:30","03:45","05:00","06:15","07:30","08:45","10:00","11:15","12:30","13:45","15:00","16:15","17:30","18:45","20:00","21:15","22:30","23:45"]},yAxis:{type:"value",splitNumber:10,axisLabel:{margin:2,formatter:"{value} W"},axisPointer:{snap:!0}},visualMap:{show:!1,dimension:0,pieces:[{lte:6,color:"green"},{gt:6,lte:8,color:"red"},{gt:8,lte:14,color:"green"},{gt:14,lte:17,color:"red"},{gt:17,color:"green"}]},series:[{name:"用电量",type:"line",smooth:!0,data:[300,280,250,260,270,300,550,500,400,390,380,390,400,500,600,750,800,700,600,400]}]}:2===e&&(this.option={title:{text:"动态数据",subtext:"纯属虚构"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#283b56"}}},legend:{data:["最新成交价","预购队列"]},dataZoom:{show:!1,start:0,end:100},xAxis:[{type:"category",boundaryGap:!0,data:function(){for(var e=new Date,t=[],a=10;a--;)t.unshift(e.toLocaleTimeString().replace(/^\D*/,"")),e=new Date(e-2e3);return t}()},{type:"category",boundaryGap:!0,data:function(){for(var e=[],t=10;t--;)e.push(10-t-1);return e}()}],yAxis:[{type:"value",scale:!0,name:"价格",max:30,min:0,boundaryGap:[.2,.2]},{type:"value",scale:!0,name:"预购量",max:1200,min:0,boundaryGap:[.2,.2]}],series:[{name:"预购队列",type:"bar",xAxisIndex:1,yAxisIndex:1,data:function(){for(var e=[],t=10;t--;)e.push(Math.round(1e3*Math.random()));return e}()},{name:"最新成交价",type:"line",data:function(){for(var e=[],t=0;t<10;)e.push((10*Math.random()+5).toFixed(1)-0),t++;return e}()}]}),this.showPie()},showPie:function(){this.chart&&this.chart.clear(),this.chart=n.init(document.getElementById("main")),this.chart.setOption(this.option)}},mounted:function(){this.option={title:{},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{left:0,bottom:0,selectedMode:!1,data:["直接访问","邮件营销","联盟广告","视频广告","搜索引擎","其他"]},series:[{name:"访问来源",type:"pie",radius:"60%",labelLine:{},center:["50%","50%"],data:[{value:335,name:"直接访问"},{value:310,name:"邮件营销"},{value:234,name:"联盟广告"},{value:135,name:"视频广告"},{value:1548,name:"搜索引擎"},{value:100,name:"其他"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},this.showPie()}}},sAEQ:function(e,t){},sCAP:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noPrice:!0,noCount:!0},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},sD3A:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages nbjgdd-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-warehouse-list",{attrs:{title:"在制仓库","default-value":e.warehouseOut,isRequired:"","get-list-method":"getWareHouseType",params:e.warehouseOutParams},on:{"sel-item":e.selWarehouseOut}}),e._v(" "),a("pop-warehouse-list",{attrs:{title:"入库仓库","default-value":e.warehouseIn,isRequired:"","get-list-method":"getWareHouseType",params:e.warehouseInParams},on:{"sel-item":e.selWarehouseIn}}),e._v(" "),a("div",{staticClass:"materiel_list"},[Object.keys(e.orderList).length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v("订单列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n,i){return a("div",{key:n,staticClass:"each_mater"},[t.length?a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v("加工订单号")]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]):e._e(),e._v(" "),e._l(t,function(i,r){return a("div",{key:r,class:{mater_delete:e.matterModifyClass}},[a("matter-item",{class:{"vux-1px-b":r<t.length-1},attrs:{item:i,"show-delete":e.matterModifyClass},on:{"on-modify":function(t){e.modifyMatter(i,r,n)}},nativeOn:{click:function(t){e.delClick(r,i,n)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_more"},[a("span",[e._v("可用库存: "+e._s(n.qtyStock))]),e._v(" "),a("span",[e._v("待验收余额: "+e._s(n.qtyBal))])]),e._v(" "),n.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"matter-remain"},[a("span",[e._v("本次完工入库: "+e._s(n.tdQty)+e._s(n.measureUnit))])])]):e._e()]}},{key:"edit",fn:function(t){var i=t.item;return[i.tdQty||e.matterModifyClass?e._e():a("div",{staticClass:"mater_other"},[a("div",{staticClass:"edit-tips",on:{click:function(t){e.modifyMatter(i,r,n)}}},[e._v("点击进行填写")])])]}}])}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.matterModifyClass,expression:"matterModifyClass"}],staticClass:"delete_icon",on:{click:function(t){e.delClick(r,i,n)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(i),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(i),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])])],1)})],2)}),0)]:[a("div",{on:{click:function(t){e.showOrderPop=!e.showOrderPop}}},[a("div",{staticClass:"title"},[e._v("订单列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择订单")]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),Object.keys(e.orderList).length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多物料")])]):e._e(),e._v(" "),a("pop-order-xqtj-list",{ref:"order",attrs:{show:e.showOrderPop,"default-value":e.orderList,"list-method":"getInProcessingStorage"},on:{"sel-matter":e.selOrder},scopedSlots:e._u([{key:"qtyBal",fn:function(t){var n=t.item;return[a("span",[e._v("待验收余额: "+e._s(n.qtyBal))])]}},{key:"qtyStock",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater-balance"},[e._v("可用余额: "+e._s(n.qtyStock)+e._s(n.measureUnit))])]}}]),model:{value:e.showOrderPop,callback:function(t){e.showOrderPop=t},expression:"showOrderPop"}})],2),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,"is-show-amount":!1},on:{"sel-confirm":e.selConfirm},scopedSlots:e._u([{key:"modify",fn:function(t){var n=t.modifyMatter;return[a("group",{staticClass:"mg_auto"},[a("cell",{attrs:{title:"可用库存","text-align":"right",placeholder:"请填写",value:n.qtyStock}}),e._v(" "),a("cell",{attrs:{title:"待验收余额","text-align":"right",placeholder:"请填写",value:n.qtyBal}}),e._v(" "),a("x-input",{attrs:{title:"本次完工入库",type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",e._n(t))},expression:"modifyMatter.tdQty"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("本次完工入库")])])],2)],1)]}}]),model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode"},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},sEzR:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("4YfN"),o=n(s),l=a("IHPB"),d=n(l),u=a("n0D0"),c=a("0Nk0"),f=n(c);t.default={name:"PopFacilityList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},defaultTitle:{type:String,default:"订单号"},request:{type:String,default:"0"},params:{type:Object,default:function(){return{}}},filterList:{type:Array,default:function(){return[{name:"设施名称",value:"facilityName"},{name:"设施编码",value:"facilityCode"}]}},judgeKeys:{type:Array,default:function(){return["transCode","facilityCode"]}}},components:{RPopup:f.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],listData:[],limit:100,page:1,hasNext:!0,scrollOptions:{pullUpLoad:!0},filterProperty:"",requestMethods:null}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.selItems=[].concat((0,d.default)(this.defaultValue))},immediate:!0},params:{handler:function(){this.resetCondition(),this.getList()}}},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),this.requestMethods((0,o.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,s=void 0===i?[]:i;s.forEach(function(t){t.inventoryPic=t.inventoryPic?"/H_roleplay-si/ds/download?url="+t.inventoryPic+"&width=400&height=400":e.getDefaultImg()});var o=e.$route.query.relationKey;(void 0===o?"":o)&&(e.selItems=[].concat((0,d.default)(s)),e.$emit("sel-matter",(0,r.default)(e.selItems))),e.hasNext=n>(e.page-1)*e.limit+s.length,e.listData=1===e.page?s:[].concat((0,d.default)(e.listData),(0,d.default)(s))})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.resetCondition(),this.getList()},delSelItem:function(e){this.$refs.RPopup.delSelItem(e)},onPullingUp:function(){this.page++,this.getList()},resetCondition:function(){this.listData=[],this.page=1,this.hasNext=!0},selItem:function(e){this.$emit("sel-matter",(0,r.default)(e)),this.$emit("input",!1)}},created:function(){var e=[u.getObjFacilityByType,u.getEquipmentPurchaseOrder,u.getObjFacilityByDealerCode];this.requestMethods=e[this.request],this.getList()}}},sIfZ:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.title?a("div",{staticClass:"weui-cells__title",style:e.cleanStyle({color:e.titleColor}),domProps:{innerHTML:e._s(e.title)}}):e._e(),e._v(" "),e._t("title"),e._v(" "),a("div",{staticClass:"weui-cells",class:{"vux-no-group-title":!e.title},style:e.cleanStyle({marginTop:"number"==typeof e.gutter?e.gutter+"px":e.gutter})},[e._t("after-title"),e._v(" "),e._t("default")],2),e._v(" "),e.footerTitle?a("div",{staticClass:"weui-cells__title vux-group-footer-title",style:e.cleanStyle({color:e.footerTitleColor}),domProps:{innerHTML:e._s(e.footerTitle)}}):e._e()],2)},i=[],r={render:n,staticRenderFns:i};t.a=r},sMJl:function(e,t){},sMPv:function(e,t,a){"use strict";function n(e){a("0myC")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("BUVi");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("IUN9"),o=a.n(s),l=a("ImHx"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-397c9451",null);t.default=c.exports},"sPO+":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("Jwlx"),c=n(u),f=a("L6VY"),m=n(f),h=a("iR2W"),v=n(h),p=a("QHLv"),C=a("0Nk0"),y=n(C);t.default={name:"PopCashList",props:{defaultValue:{type:Object,default:function(){return{}}},required:{type:Boolean,default:!1},request:{type:String,default:"0"},params:{type:Object,default:function(){return{}}}},components:{RPopup:y.default},data:function(){return{page:1,limit:10,hasNext:!0,showDealerPop:!1,srhInpTx:"",selInfo:{},selItems:[],listData:[],scrollOptions:{pullUpLoad:!0},requestMethods:null}},watch:{defaultValue:{handler:function(){this.selInfo=(0,c.default)((0,d.default)({},this.defaultValue))},immediate:!0}},methods:{selItem:function(e){this.selInfo=(0,d.default)({},e),this.$emit("sel-item",(0,d.default)({},e))},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:"fundName"}])),this.requestMethods((0,d.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,o.default)(e.listData),(0,o.default)(r))}).catch(function(e){m.default.show({content:e.message})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()}},filters:{numberComma:v.default},created:function(){var e=[p.getEmployeeReserveFunds,p.getSupplierToPayDeposit,p.getFundCashDiscount,p.getObjFundBalByType,p.getComplexExpenseReimbursement];this.requestMethods=e[this.request],this.getList()}}},sTFW:function(e,t){},sUQx:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAYAAAA8AXHiAAAXhElEQVR4Xu1deZhdRZX/nVN1X3cnBEkwgoyAyKbIooCfM+ogiIo6YhQMhlXRAAOyStgREsIiQVDZDcMaBTSgM0QZFRDUKCCgmAgIhhFciWCCWbpf31t1znx1u1+nl/fSr5f3+nVe1T/5vryqc+75nV/XcupUFaFSUaXZD8H8czsky1eiNXOwaIHxHaCKbeIPGywCpg2KTvjEwm02GcXXLEM2e294EGk5o8uSZPpTWkAH2lyCFspgNli0omHDRkATeJuhc/IeaJ9PlPUXNIBY+z+uE2yCjSKhho15UzUMBHMZ1izak9p7G96HWIf/UCcWJ2OS5zjcNRU7RmisEWjrSqxesB+tLYnqIVboqVoFG0dSjRDlJm0eyFVkrCr1XDmxwpzKOWwSh78mZcUomZ3PuyxeXfhWSgmqNP0JbOyBCaMkP4ppYgQM0L5wD6yi2Q+q/c0UTIm9VROzYRRND73WyhVYQaf8SdteXI5NRlF2FNXkCGy9GV6lQ5bo5GKK1ibHIpo/igi0FlCk6b/SqV5gR1FuFNXkCBiGo+lP6eZxm6bJmTDK5oftHzrgcX39KMuN4iICiMSKJKgJApFYNYE1Co3EihyoCQKRWDWBNQqNxIocqAkCkVg1gTUKjcSKHKgJApFYNYE1Co3EihyoCQKRWDWBNQqNxIocqAkCkVg1gTUKjcSKHKgJApFYNYE1Co3EihyoCQKRWDWBNQqNxIocqAkCkVg1gTUKjcSKHKgJApFYNYE1Co3EihyoCQKRWDWBNQqNxIocqAkCkVg1gTUKjcSKHKgJApFYNYE1Co3EihyoCQKRWDWBNQqNxIocqAkCkVg1gTUKjcSKHKgJApFYNYE1Co3EihyoCQKRWDWBNQqNxIocqAkCkVg1gTUKHRfEcmm2OWD2UpKJ1tjfkeCXsPAjdl8Ck63Ftmz81iKyKbNpZ+WnyOL5EctucgENTyyfYStRdyVAOwMa7qNfTUTf48TMZaDPG3lV+zKBSYv+feT1SIB2AHQigAIQyEr/ZKYbDfiGUSFv1R81sKIHtoKT/UQEZPRea5K/jEBcXZs2NLHCwwbi5TSofB4A90Kmk4nnagvfbAVln44tiyKj0Jm5N7PQaVDdG6j0eqw+TyaZYQ36OFKy8HgxthXndgd4O7BOgQBCWGkgzyjRk8bLy2QKr46ElKRoS718CCpzoHhtly30vLIeV7B2aV0ZMkxlDU0scdjCi/sGgDcPsI/oblJzpi1grRO3vWErhMpDmPP4FxU5AtCDodrtrLKoLSfmS0T4rkIh0Kar+CzbSsGfUdXpADYtjzetAemTDP4Bi/sfain8Y6h+cYqN1cuJEP0coC292xPRI7bFzIAgHarcetdvaGI5Lwerl8v69VbdGNEdhcSc6xSZipyqqp8k0PWc8B39h8icFEKXKeHfgIrPuyhAjwh0zoQJ9rfedZHKWHBn0e+joucA2L5yL9fHdUUAS1rZHuktVg7Fqc7LNPUyD8CkgX9MEFI+yRb47qHIHIu6DUusMOx4uB9Bc2f2KQTqANG5NuE7Up+9jjzdBGB3EBRKf1CmRQxdoiIJCO8MD3AAeE05gBXImGg5iG5mz7dyS9e8zTGIithUyR2mwPHQYbznSFjCwKmG7O+qGRqDTi260wCcXJEMhKdtwX6SFK+OBWGq1dmwxHKpHKiQqyoY8rSx9lBmLHfev0e9LgDQZ9ioDgB6gUjvNmzvJoMXSm0MkKSp31uhxyjwrupkla0V5n/LlHCbNfZ74Xt71zIJWn2G0LvlxRVBMPJZhXwRmi8mypV2EJ9LLfytIc0vR2DEcJo2JLEMYWJnp1uowNvKGUXg022Bw9wLWeqvBjT0SNUXwloC3abG3NzKWO6BrKfxBBT8Kn+WCA4CNLzj2OdB9uqV9KlZBOjPxPgpKR4OvaQqbU3Q/cniAsPm8VJt77GdeHcngC0q6SKiB4nM8WaIw+wwv31YzRqSWCJ+P/H6VdUywxfRMjbmfeHpMg+8VlL/WP9J7nqQSIl4KRmeoxZP9P6Lz4CE1L8NTueqYtdhoTm8Rg8T7BFhEdLTc6XuBAXOrERqAmUgHGkT8+Phqax9q4YjVr7UzvzcfPXWr7eg/C+dT05a+Lt5b+XC6kmCA9ZfuuZeLyjTN0yB7zTSd0JNhKlp6o4gxSEK1Ps1tDUgPpta+O4S0UOPXUzlW1DZfT2G/dq02QPYo3Mw88fi94YjVurxRvIuEGez/oAQ0aMgc7S1eDlflmd5vbcMChzht8x2lmnFU8jWRezzybL374DTOaTYSYFkUFm1qEBYbK0cS7QuPJE6/24S3ApopUfglQizbGLvqMUnjVRmwxHLO/mCiMwqY1gKxkVUsP8V/rKd+H3VaZjcr+89a0+ER5LEzlTgn71lepdOVthpKnp691xqfVgqiP4B1cUE2kWhbxqluVeukwgC5pOsWRdGIIeNUnWXQBHmj5Xmec8WJtgD1WHFSIkw2u0bilhdcyZ3P4DXDTSUnmcyh5oEfwyrto7Mn0mqx5SPceWtAxl+agrmVFb8tSQvf6ZY/DtF9WgC7auqvSP65fANQ819YLqltdU8knX6vbzgUqhuObrOoD8aa6b1Xjm61L9HodcDmFJWF1E7qc4W2Nt7B3NH97uGJ62hiOUyOVlVTi9nSoiGo8BXh95KJNvMe7oFit0qmq14hYmO1lbzaM/cxYKLRTm+O6odou+DrPjoZbDMJpM8gE6stq3QEDAtFrEnxC8AdGAQc3h+6Oq5oLfZQtIzZwx/BOr9Jap6aCWxBPxMrT024cbqtRqGWOrxOi/+u6q6zQAQiV4yiXlPKaLeHbsKcwtTEXCi79jEHB9+z+dSDtvDu4ugeHcVvg8b3fcZNheQwd9NCnYGE+HSgk4orAkTZi/YS72/UlXL9K5VaChf5WUimmkT81jpZ1Vs6jL/Y0CnVui1HDFmWmN+NGytNWjYEMQKjpdON4NAc6EDJqvCjHOMtbeW7M9SNx/AR9eHB4EOsgWzONTxDpNF/ZUA3gfV9fVSnoBHFXybKfD9gciSFVsEhQ+pykfyIYnod0T6TWK7TJ1MU8icikPV0B0mRHQHJ+b83ttSzskhqnoxVMsGTQlYmiT240roGLrK2rRoDGKFFZ7zX4Hqhwf2VlhqyB7JtmueJIQtfKf7+WCR9kKb3UE91uRtFG/zXSvIytF5orVQusoavjP0Uvl3JDCu3Z+twKFQ3bh7vBIC/YVYjxJjnyEvH1EvV1e5h1iNF1eZxM5gwpN9ey13DYC9KghQJj7LJHxbNQrqUachiOW921Ud7lLCRv2Mdmz4cqN8dWmvLcvcaVCcMhg4luxOlHTtp7k0O1BBlbaHwr7jUmY9zxi7JNQP8yjnsI3L/IVQfW95XfQiJ2amGjytndmnoDxnFOdcP0nUfhot67IYMiefgOSb0yF3rEyhZQU2B6rFy4NhU4/fG4JYWZb3Vp/qbzABf2bC4ZzYZ8NvJJiSOrewqtgV0xGJNWGFCafYGZm/VaH9gp+6jMncopbvsoRVpV7Kd8g0ETkWwE7rmeCHONLDSnqqaUle8h3uSBBOhVZy/BDcSaREdIq1/O2eXstjkvPuunw4L0+sDma6oNDKC0qZGUPQOOpVx5xYLsObVNwDoIHDFBFf16J8ke/Oi8oyvx8BX1XVspkKvdEh4l9rGx+eOKzoXl29IwxpBOwugokEfJ+suca24qVS0DQTTIH3Z0N1/7JpKwPhD6k1jxYSe1gaEg69HA1UsRNQhRuJ8BzYHto72TDz7i0k9L9aYa4F4GGb2KOJMOQ8sCo+aUhVxpRYYdKOTn+pqh42sLeiV01i/r0EUohddTp/rqrODBGqKqxMCbiOC/aqQVOYGYXMYyfK3BwF9hw8DNFXOzF9H8acGno959wZKgjxtdYqvrFilbBRTYTLErLX9U65cZk/W1WPKxe/I0DY2oOZ8bOR6B6NtmNLLIepUP/fA0IMXUPBl6zlnnmRU2yumQvpMW8dguHtxPxNUbmdW+xz/dNM8tRn53cD46MQ/WTlzNBBNXYq0U02MZeHmT1Sf6qKhqFxGKk8fXQ9y6SfNknyx9L/imZbuoxuoUpbWYRLk8R+bdAvrnGFMSVW5rKtSXihQt/Qrw94HmwOSyxeLP1/5vz7Ibip+0DFUGDxIP0rgR9m0GIhDZPbCaS6gyj2gmI7UJ5qPFgEfjCdHUR8sU34RvWY5MXPUdUZgzVa3+/5Vg/Rddaai3rqORinMlNVzuo+ANJHhCF7Iie4ayR6R6PtmBILYQjq9DdCdd8eYxQejGtaE3t5KU8qHzKL7iYF9hsNo2slg4hEmY5j4nuNQDPxVxH0P0ayuU1EKVuzHxPyBUwoIthMnLu5X76aEOExw/aYnnBJrQytQu7YEisEL0Nim/gzIfouUOg16H4mmde7+/eCbcS5kHs00qGlCkhGVoVAfwfh9JY2c38xxSbk3QWq+Nh6cu0HV8h0XwHm82q74nKhpM7tQkonAdiFoB2itDix5jZiPDe4wNrXGHNiBRNDCgxlblMN8xNrX+lZ+nfb71J/jkLDEbDGLwQlpf8jY440BstCTj57ulIrBzersIlWE9Msa3lR78oBN86y14DhPSUrErMuzbkKoTWt0hDEGsxCl/l5qnpQuTnFYG3H6ncCnmarhzIny8lgo6zoFqjSnoBW3N9c77cSLbJsZpHB6rGyaSh6xwWxwqGDYoccB5GjKp22GYrR9apLhAetsWeA8WdJsaUnfymgYcEwnIXCT2HluIQLDZd7VQ7PcUGsfMLadRzsUCjCaqjCtka9KFOlHoUnpjtRMLNBaIfHNpq5G6raOeivguiWpMXMHg+HVcOnjxtilXB2mTtYFecCmFyle8e0Wh60ZL7YW74hAbJwH4Nm8g1V2bbqQGyevYoTkoJ5aEyNGYLycUesYFvX1g6dpSo79LLVAVgKUNjz2xKEbQZJkRkCTCOtSp1EdGFLwreFEIpz2DlsKCvJbtXsIijoJttm5jbqwYlxPRT2/vj82HuH30MVVwG6FQhrFXxewvyAhCP3hAlGsatTNwta4bBFniYTtl2GOZkeOtdWkuGzkfA9UgSR8W+Hx9cBrXh+MB9SCA8mrfaYUgrQ0NWOTYtx2WOVoOqOb80nol9wq7lYFGmSYmLKKCQWa3yKiar+LFX9OBBScuhVJflBYuh6b+3vvUUrt8sB6v1RBNo2nEOurRvCETQ9pnRjjMv8O6C4QVE2CzVE3X9pjDm2/wnq2n7j6Egf18TqhuD1LnNtqvYfzPJxFf1XQKcQ8ZMm4VuQ4O++PZsuStMIfDtZ/i3Eb6GKlBLzBwO8kkn2Bng+FpqfZRzR5vFgbiHCUjX2hKQ7kOmcf68KLgb6pWQTLQab8xODZwaT2Yi/bwjEgnOYququ6M5nLxHDMfF8Al/GlJ+a3lhU9iWE415oUw23yehyw3Y2W/wijzV1yiwV+eyIouRVeJmAJ2D0P/OL1ByMh/+AiF5eWpAo0T0mMecG0lchriGrjHtiOZdOhZrZCp02ID5E+ZGq6Uz4kyh2FCcLVKXPhjeBHjfGzAz7ayEfi7yfr6ojuQhkcEeHzWXQQrLm/NIug/PZger5XCLcg4KZZ3XdkfvBBTZejXFNrPwES+ovBGk4WDFgfkRELxBkBnOy0qu/SCW/PKRfcJKcGnyuYMx9wT2SYUcP9zVokEdt+eKg8p1aI/FoWCneQMbMC/dQBEHOY3d4PNv7HoeRKBjLtuOaWJnD+0n9LeUPndJqQM5LOLnLqTtINcxjym9iE9H1NjEXlBzRlT2QT+UNMd6omZyjkLI334zQeSksfylhDodSN6gyrokV4kGq/ocD4lVEKRFdiwJfZlPsmKlfBM0vsC1XPIiuTRJzSb68V7SFfzlBZyl3XAW7OeevB3Tr0fY+Ec+zCX91tOWOtbxxTaw8n6voHwL0jT1AEqVQ3NxaMBdnLpsqQtco8M4KQHcdwzfm5LCkD0Ord/7EkO9OSs9Rwt8P87N8mMrcMao4f5Qd9qyxdsZ4DCcMhsP4JlaIwgs+Aeeu6B7mAlG+Y2G+SIJ2R+4UEB2nqmVvkSHQ32DNZ2GxxAJJ1iknIaTnhMMKhJAz/wKxnRnSX/JDr+J/NYS7uAbBnp5HghMSMj3nBwdz1nj6ffwTK1yYlvl9ROQDhuh5sva7eQ8geEPm/F3dk+9yPlkL0ElJwdwbMlQ58x/2gq8NGDKZHidjDssPSqTuQQV2HJGDiV4i4BeGzZd7X085IpkN2HjcE6sSpus9fEEI2znzkoINmQboClJqOIJf5n6EfO/xCzkBU3+nhrSXYRYCrSHGkcaacJJ7gy4bLLEEmOAzH+47CAmCvUuYrC8wibkwHAtzzu2sStdCdbtK8zBivgIFvkKL/ptA/vDAsAoB9xuSEykpNPSNx8Myrl+jDZZYwU6f+g8IMA/QntsB86h3Yo+yhJe67zD9MqAfrAwmrTJM50uBv62dsmiQ6xvX4xN6kRmzmqG3CiBs0MQKh1yL3n8QgnDZSDg9/QrYzA/7byFxUCHni8rhlS706LoDni/lVr4xpKxkmf86FB8c4gQ+JabFEFyPVvPzRr5CezR6qpKMDZpYJSMdYaJJkbBFZ7jqJ78vq1POIOix61kxeiW9NGmx80tZm6rppuL4YyI4CwMvMOnrFyIF9Bkinq/M9zfaxWijSaJyspqCWP0NzzetJbsHoEoBT0fMt0N4brntlSzLZkA5ZCRUyISgIhhHly4lqbUTG1F+UxILnSg4cosU2KWsU4juTRLzRQB/C0esjGCKV6wNtzXnq8j8AK2fq9CQCdG3dOW5L0xazXnjLTlvNAnanMTK78xyZygQDnz2KSFpkMgcFV59EHE7iQ/7eNqqKl6V74UxXylYrNHU7eCAcKVS3xAF0U/ImlPC4mA0HTXeZDUtsTTDJk7zu7a2B8gQYY2KLhWjJ7fY5K9pmm3JbG5WkXBHVl7yG2CYL2fmayGYJOqv6X73MPzcQUQPKJsTG+ng6FgRsmmJFQAPJ2bES7g3YgKBf0+aPmZsYaVaTPJFf6F6PaB/ujIBTxpjP2OBVZ3iz1HRaQj3KjB/z1L2HTIt4+JAaa0J19TEqgSuS+VYhZxR4eT1CmvsR32CF43HFKRuEgqymvzIXlWttaPrLT8SqwziWepD0PSQMj+1g3FlUrDXj5eDo/UmVElfJFYZ5L2Xj4mXcEtxT1aqgorM9BUI37QhZHjWmnCRWGUQzlOevQ+ZDvuEA6UKFJn4fCv8rd43GdfaOeNZfiRWBe95xmTNJDwcsCUTPVYwZnGfBzPHs9fr8O2RWHUAuRlVRGI1o9frYHMkVh1AbkYVkVjN6PU62ByJVQeQm1FFJFYzer0ONkdi1QHkZlQRidWMXq+DzZFYdQC5GVVEYjWj1+tgcyRWHUBuRhWRWM3o9TrYHIlVB5CbUUUkVjN6vQ42R2LVAeRmVBGJ1Yxer4PNkVh1ALkZVURiNaPX62BzJFYdQG5GFZFYzej1OtgciVUHkJtRRSRWM3q9DjZHYtUB5GZUEYnVjF6vg82RWHUAuRlVRGI1o9frYHMkVh1AbkYVkVjN6PU62ByJVQeQm1FFJFYzer0ONkdi1QHkZlQRidWMXq+DzTT9Kd3cd4DqoCuqaBIEjEBp+q90qhfYJrE5mlkHBAzD0SFLdHIxRYU3YerwFVHFBodAawFFOuVP2vbicmyywVkXDRozBLbeDK/S7AfV/mYKplC27urpMfuiqHjcI6AJ/MoVWEFQpelPYGMPTBj3VkUDxhwBA7Qv3AOr8tXg0arJy0swOfZaY+6Xcf0BobeauitWzifKesIM+z+uE1oFG/vwFl8sEYEhIhBCDEXGqkV7Unto2odEh/9QJxYnY1Ik1xBRbfLqgVStK7F6wX60tgTFgN4p9Fw2wUZxWGxytlRpfhj+XIY1pZ6qIrHCD9Of0gI60OYStESCVYlwk1ULhLIZOifvgfYwp+pvfuX5lCrt/RDM27dDsnwlWjMHixaYuP3TZAzqNte0QdEJn1i4zSaj+OtlyB7aGx4U3rAaWP4fZLcm2GKaW/YAAAAASUVORK5CYII="},sUbJ:function(e,t,a){"use strict";function n(e){a("FDGp")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("rdTW");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("47sn"),o=a.n(s),l=a("1AlZ"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-d9cc6984",null);t.default=c.exports},sUiu:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages sj-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart when-is-form"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,defaultContact:e.contactInfo},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("div",{staticClass:"materiel_list"},[a("div",{staticClass:"mater_list"},[a("div",{staticClass:"each_mater"},[a("div",{staticClass:"userInp_mode"},[a("div",{staticClass:"title"},[e._v("商机明细")]),e._v(" "),a("group",{staticClass:"SJ_group",on:{"group-title-margin-top":function(e){}}},[a("x-input",{attrs:{title:"商机标题","text-align":"right",placeholder:"请填写"},model:{value:e.formData.opportunityTitle,callback:function(t){e.$set(e.formData,"opportunityTitle",t)},expression:"formData.opportunityTitle"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("商机标题\n                    ")])])],2),e._v(" "),a("x-input",{attrs:{title:"预期销售额",type:"number","text-align":"right",placeholder:"请填写"},on:{"on-blur":e.checkAmt},model:{value:e.formData.tdAmount,callback:function(t){e.$set(e.formData,"tdAmount",e._n(t))},expression:"formData.tdAmount"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("预期销售额\n                    ")])])],2),e._v(" "),a("datetime",{attrs:{placeholder:"请选择日期",title:"有效期至"},model:{value:e.formData.validUntil,callback:function(t){e.$set(e.formData,"validUntil",t)},expression:"formData.validUntil"}}),e._v(" "),a("pop-salesman-list",{attrs:{title:"销售人员","dealer-label-name":"员工",value:e.formData.salesPerson},model:{value:e.formData.salesPerson,callback:function(t){e.$set(e.formData,"salesPerson",t)},expression:"formData.salesPerson"}}),e._v(" "),a("pop-salesman-list",{attrs:{title:"销售渠道","dealer-label-name":"渠道商",value:e.formData.salesChannels},model:{value:e.formData.salesChannels,callback:function(t){e.$set(e.formData,"salesChannels",t)},expression:"formData.salesChannels"}}),e._v(" "),a("popup-picker",{attrs:{title:"分类标签",data:e.currentType,placeholder:"请选择"},model:{value:e.categoryLabels,callback:function(t){e.categoryLabels=t},expression:"categoryLabels"}}),e._v(" "),a("x-textarea",{attrs:{title:"商机内容",max:200},model:{value:e.formData.comment,callback:function(t){e.$set(e.formData,"comment",t)},expression:"formData.comment"}}),e._v(" "),a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1)])])]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},sWGj:function(e,t,a){"use strict";function n(e){a("YeAG")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("B7rM");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("K2RO"),o=a.n(s),l=a("RBK+"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-69226e6b",null);t.default=c.exports},sX8C:function(e,t,a){"use strict";function n(e){a("jWvC")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("qLvx");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("oro+"),o=a.n(s),l=a("guvR"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-624b00d2",null);t.default=c.exports},sYiH:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"weui-cell vux-x-textarea"},[a("div",{staticClass:"weui-cell__hd"},[e.hasRestrictedLabel?a("div",{style:e.labelStyles},[e._t("restricted-label")],2):e._e(),e._v(" "),e._t("label",[e.title?a("label",{staticClass:"weui-label",class:e.labelClass,style:{width:e.$parent.labelWidth||e.labelWidth+"em",textAlign:e.$parent.labelAlign,marginRight:e.$parent.labelMarginRight},domProps:{innerHTML:e._s(e.title)}}):e._e(),e._v(" "),e.inlineDesc?a("inline-desc",[e._v(e._s(e.inlineDesc))]):e._e()])],2),e._v(" "),a("div",{staticClass:"weui-cell__bd"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],ref:"textarea",staticClass:"weui-textarea",style:e.textareaStyle,attrs:{autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,spellcheck:e.spellcheck,placeholder:e.placeholder,readonly:e.readonly,disabled:e.disabled,name:e.name,rows:e.rows,cols:e.cols,maxlength:e.max},domProps:{value:e.currentValue},on:{focus:function(t){e.$emit("on-focus")},blur:function(t){e.$emit("on-blur")},input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showCounter&&e.max,expression:"showCounter && max"}],staticClass:"weui-textarea-counter",on:{click:e.focus}},[a("span",[e._v(e._s(e.count))]),e._v("/"+e._s(e.max)+"\n    ")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},sZ9E:function(e,t,a){"use strict";function n(e){a("5kYi")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("SDx5");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("qy1N"),o=a.n(s),l=a("ZUdS"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-7b882675",null);t.default=c.exports},sb2V:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2580,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[i.default],methods:{},created:function(){}}},sk0R:function(e,t,a){"use strict";function n(e){a("Gr1O")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("zRbv");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Z3gt"),o=a.n(s),l=a("1rl+"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-200c0664",null);t.default=c.exports},sy2r:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("0w+U"),c=a("MjAd"),f=n(c);t.default={mixins:[f.default],data:function(){return{listStatus:[{name:"全部",status:""},{name:"使用中",status:"1"},{name:"未使用",status:"2"},{name:"停用",status:"-1"}],filterList:[{name:"公司名称",value:"groupName"},{name:"公司简称",value:"groupShortName"}]}},methods:{tabClick:function(e,t){this.activeIndex=t,this.activeTab=e.status,this.resetCondition(),this.getList()},RouterChange:function(e,t,a){var n=this;if(!this.clickVisited){var i=e.groupId,r=this.$route.query.name;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,d.default)({},e)),setTimeout(function(){n.clickVisited=!1,n.$router.push({path:a,query:{name:r,groupId:i}})},200)}},goDetail:function(e,t){var a=this.$route.params,n=a.folder,i=a.fileName;this.RouterChange(e,t,"/detail/"+n+"/"+i)},getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=[],n=[{property:"crtTime",direction:"DESC"}];return this.activeTab&&(a=[{operator:"in",property:"status",value:this.activeTab}]),this.serachVal&&(a=[].concat((0,o.default)(a),[{operator:"like",value:this.serachVal,property:this.filterProperty}])),(0,u.getCompany)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,sort:(0,r.default)(n),filter:(0,r.default)(a)}).then(function(a){var n=a.dataCount,i=void 0===n?0:n,r=a.tableContent,s=void 0===r?[]:r;e.$emit("input",!1),s.forEach(function(t){var a=["","使用中","未使用","草稿"];t.status=a[t.status]||"停用",e.setStatus(t),t.groupPic=t.groupPic?t.groupPic:e.getDefaultImg()}),e.hasNext=i>(e.page-1)*e.limit+s.length,e.listData=1===e.page?s:e.listData.concat(s),t||e.$nextTick(function(){e.resetScroll()}),e.$loading.hide()}).catch(function(t){e.resetScroll()})},setStatus:function(e){switch(e.status){case"使用中":e.statusClass="duty_done_c";break;default:e.statusClass="duty_fall_c"}},getDefaultImg:function(e){var t=a("L+HE");return e&&(e.groupPic=t),t}}}},szPM:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.contactInfo.dealerName||e.contactList.length,expression:"contactInfo.dealerName || contactList.length"}],staticClass:"pop-contact-list"},[a("div",{staticClass:"contact-content vux-1px-t",on:{click:function(t){e.showPop=!e.showPop}}},[e.contactInfo.dealerName?a("div",{staticClass:"selected-mode"},[a("div",[a("span",{staticClass:"contact-tips"},[e._v("联系人")]),e._v(" "),a("span",[e._v(e._s(e.contactInfo.dealerName))]),e._v(" "),a("span",[e._v(e._s(e.contactInfo.dealerMobilePhone))])]),e._v(" "),a("span",{staticClass:"iconfont icon-Face-ID"})]):a("div",{staticClass:"default-mode"},[e._m(0)])]),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.contactList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.contactList,function(t,n){return a("div",{key:n,staticClass:"each-people box_sd",on:{click:function(a){a.stopPropagation(),e.selContact(t,n)}}},[a("div",{staticClass:"mater_main "},[a("div",{staticClass:"mater_info"},[a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline ",staticStyle:{display:"inline-block"}},[a("span",{staticClass:"dealer"},[e._v(e._s(t.dealerName))])])]),e._v(" "),t.dealerMobilePhone||t.dealerPhone?a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline name",staticStyle:{display:"inline-block"}},[t.dealerMobilePhone?a("span",{staticStyle:{marginRight:".04rem"}},[e._v(e._s(t.dealerMobilePhone))]):e._e(),e._v(" "),t.dealerPhone?a("span",[e._v(e._s(t.dealerPhone))]):e._e()])]):e._e(),e._v(" "),a("div",{staticClass:"withoutColor"},[a("span",[e._v(e._s(t.province)+e._s(t.city)+e._s(t.county)+e._s(t.address))])])])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1)])],1)])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mode-title"},[a("span",[e._v("请选择联系人")]),e._v(" "),a("span",{staticClass:"iconfont icon-FaceID"})])}],r={render:n,staticRenderFns:i};t.a=r},t2f1:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("4XVd"),o=a("1KNX"),l=n(o),d=a("xCct"),u=n(d),c=a("z7Zk"),f=n(c),m=a("Z5v5");t.default={name:"comment",components:{RScroll:l.default,CommentItem:u.default,REmotion:f.default},data:function(){return{scrollOptions:{pullUpLoad:!0},transCode:"",commentList:[],hasNext:!0,page:1,limit:10,total:0,comment:"",parentId:-1,focusInput:!1,placeholder:"添加评论...",listId:"",showEmotion:!1}},methods:{onPullingUp:function(){this.page++,this.getCommentList()},setReply:function(e,t){return'@<span style="color: #2994FD;">'+e+"</span>："+t},getCommentList:function(){var e=this,t={transCode:this.transCode,page:this.page,limit:this.limit};return this.listId&&(t.transCode=this.listId),(0,s.getCommentList)(t).then(function(t){var a=t.allCommentNum,n=void 0===a?0:a,i=t.comment,s=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+s.length,s.forEach(function(t){t.allReply&&t.allReply.forEach(function(a,n,i){var r=t.allReply.find(function(e){return e.ID===a.PARENT_ID});a.CONTENT=r?e.setReply(r.creatorName,a.CONTENT):e.setReply(t.creatorName,a.CONTENT)})}),e.commentList=1===e.page?s:[].concat((0,r.default)(e.commentList),(0,r.default)(s)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},onReply:function(e){this.parentId=e.ID,this.placeholder="回复"+e.creatorName+":",this.$refs.commentValue.focus()},onPraiseSuccess:function(e){e.isPraise=!1,e.praiseNum++},tagFilter:function(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")},saveComment:function(){var e=this;if(!this.comment)return void this.$vux.toast.show({text:"评论不能为空",position:"top",width:"50%",type:"text",time:700});var t={content:this.tagFilter(this.comment),parentId:this.parentId,relationKey:this.transCode,type:"instance"};return this.listId&&(t={content:this.tagFilter(this.comment),parentId:this.parentId,relationKey:this.listId,type:"list"}),(0,s.saveComment)(t).then(function(t){var a=t.success,n=void 0===a||a;t.message;n&&(e.comment="",e.parentId=-1,e.placeholder="添加评论...",e.page=1,e.$refs.bScroll.scrollTo(0,0),e.getCommentList().then(function(){e.$loading.hide()}))})},commentFocusIn:function(e){this.$nextTick(function(){e.target.scrollIntoView()}),this.focusInput=!0,this.showEmotion=!1},commentFocusOut:function(){this.focusInput=!1},emotionSelected:function(e){this.comment+=e},emotionClickOutside:function(e){this.$refs.emotion.$el.contains(e.target)||this.$refs.emotionIcon.contains(e.target)||(this.showEmotion=!1)}},created:function(){var e=this,t=this.$route.query,a=t.transCode,n=t.listId;this.transCode=a,this.listId=n,this.$loading.show(),(0,m.register)(),this.getCommentList().then(function(){e.$loading.hide()}),this.$nextTick(function(){document.addEventListener("click",e.emotionClickOutside)})},beforeDestroy:function(){document.removeEventListener("click",this.emotionClickOutside)}}},t4UV:function(e,t,a){"use strict";function n(e){a("AbpJ")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("nmkt");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("f6zL"),o=a.n(s),l=a("UPeV"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-490f0586",null);t.default=c.exports},t5gp:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages xmjx-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-name-list",{attrs:{"default-value":e.projectApproval},on:{"sel-item":e.selProject}}),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",[a("datetime",{attrs:{title:"实际开始日期"},model:{value:e.projectTime.actualStartTime,callback:function(t){e.$set(e.projectTime,"actualStartTime",t)},expression:"projectTime.actualStartTime"}},[a("span",{staticClass:"required",attrs:{slot:"title"},slot:"title"},[e._v("实际开始日期")])]),e._v(" "),a("datetime",{attrs:{title:"实际完成日期"},model:{value:e.projectTime.actualCompleteTime,callback:function(t){e.$set(e.projectTime,"actualCompleteTime",t)},expression:"projectTime.actualCompleteTime"}},[a("span",{staticClass:"required",attrs:{slot:"title"},slot:"title"},[e._v("实际完成日期")])])],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.projectConclusion.length,expression:"projectConclusion.length"}],staticClass:"materiel_list project-amt"},[a("p",{staticClass:"title"},[e._v("资金明细")]),e._v(" "),e._l(e.projectConclusion,function(t,n){return a("div",{staticClass:"project_content",class:{"vux-1px-b":n!==e.projectConclusion.length-1}},[a("form-cell",{attrs:{cellTitle:"实际"+t.conclusionName,showSymbol:"利润率"!==t.conclusionName,textRight:"",cellContent:e.numberComma(t.actual),showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"预算"+t.conclusionName,showSymbol:"利润率"!==t.conclusionName,textRight:"",cellContent:e.numberComma(t.budget),showTopBorder:!1}}),e._v(" "),a("form-cell",{directives:[{name:"show",rawName:"v-show",value:"利润率"!==t.conclusionName,expression:"item.conclusionName !== '利润率'"}],attrs:{cellTitle:"差额"+t.conclusionName,showSymbol:"利润率"!==t.conclusionName,textRight:"",cellContent:e.numberComma(t.difference),showTopBorder:!1}})],1)})],2),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"其他信息"}},[a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.jsonData.comment.biComment,callback:function(t){e.$set(e.jsonData.comment,"biComment",t)},expression:"jsonData.comment.biComment"}})],1)],1),e._v(" "),a("upload-file",{on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"cfm_btn",on:{click:e.save}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},t732:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAYAAAA8AXHiAAAOF0lEQVR4Xu2de4xdRR3Hv7+ZOffuLm3pFmuBGCtapUB8IBgMPkLU8FBRLG4gEMAmRsEHUF5StFiIgKAVBRSsFkFQIa2gkpDgIzQagzEt2CYVEEEaFLNIu7SF7d17ZuZn5tLt3r29t+w9e+b2Pn7DP6T3/L4z853PzjlnzjwIjRIzLV8LvW0BkuER9KUWBkVotxPUMEZ+6FoHdD8YY3CJgZ03iNL+/0S6/Dg4EHG9SteFZGgTF7AT/TZBkVLornVLKpbZAU7gTIqxwaMwupIorRXaA6yT1/GASTBDgMrseU8FBsBsipcfOJpGqys+CayzHuL9SoOY6ZTc7nqKjmlWVntw3wh23HUCvTIutRus0FP1ecwSqKbpco+GB7hKCtvHe64KWOGZylrMlttfj1KRU7Urz10GL60+gsoEZhpaj1kOGMhJX2R62AENjK4+Cttp+cNsNszBHOmtepiGHKseeq2RrdhKS57j/s3DmJ2jtkj1uAPz5+ElOmMjD5bK6OtxL6T6OTrQV0CJhh7luc7D5KgrUj3ugFawNLSJD5TPND1OQs7VD59/aNE6PihnXZETByBgCQRRHBCwotgqogKWMBDFAQEriq0iKmAJA1EcELCi2CqiApYwEMUBASuKrSIqYAkDURwQsKLYKqICljAQxQEBK4qtIipgCQNRHBCwotgqogKWMBDFAQEriq0iKmAJA1EcELCi2CqiApYwEMUBASuKrSIqYAkDURwQsKLYKqICljAQxQEBK4qtIipgCQNRHBCwotgqogKWMBDFAQEriq0iKmAJA1EcELAa2WqhmXCAhf8QnD+FQYeFSwn8OJS635B6mBhbYOCitEyHiwpYdRrQpygC/mTHfjGAIxu08WNM6g7Tp36jHMY6nIPciy9g1Vo6gEK6zV0F5kUAZu7dcdrBwP2F2fpKjKKce+t0sKCANd54dqd2nCz0jOsAHN1MmxJhPRlzuXZ4Qm6NrzonYAFIgYRS/2mGPxfAAnCTR74QGExPk+LbisasdhXJ3k49DxYzDnCpu5LBHwWw37RwILxCTA/qRF9NhC3T0urw4J4FSxuo0hgOJe+uZuZjKy98+aRwft9fGFjWP2CecBY+H9nOUulJsMhiRpntIjCdB/D8KE1GtBmgWwt96j52eDlKHm0s2nNgWcYssu5KD5wC5rjnBxGNEuPXSPRVhrC9jTnIvWg9A1Y4JMEz3krOrmDgXbk7uTdBxgYmXEwF81TSIw/2PQEWMfrL1p8O5i8CfHBLoRrPjOh5BfqBMeoXTNi5T8rQwky7Hiw2mGlH3fUAH499f3TeKIF+pwf0ZWSxo4Xt3PKsuhesBNqNuiM98w0AFrbc2b1n+CQRXWYG9KNIu/NbY1eCRQX0p6P+TPb8WYDf2GZQ7RqapufA/ONCYu7uxltj14HlLQ523n4DwHFA2x+XVwLRWlJ+mdHJf9ryDyBjoboHrAS6vNO9g0DXwvt3ZvRj34QRNpKiK4j0xnAk274pRL65dgVYzmIQ8Kd55s+DeV6+FrVIjWiYiFYS1D3aYKRFuUbLpuPBcsDrfOquAVfe+orRnGqN8BgYv1dFs1QDL7Ymyzi5dC5YCoU0xdvJu+8y81vi2LOvVOkZNvrCgsFG+M6c59WRYLHDTOfsZxj4HIAD9lXzR853CymshHZ3Gip23OegjgOr7PB6cvY7AMKMhG4/JL1EhEe8MksKGi9EBjlX+Y4BqzIZz7pjmXE9uE3HpnJtmgkxInqOFb4Crf/cKd8aOwKstIz9iexiZpwDoDPf+qYNHQ0T+KdJwdzOwLZpy0UWaHuw2Nq3OE/XMvExYBQi+9He8kRleP6rKZqlBDzdzoVta7CsxUL29lYAh7azia0uGzH+wcB5SdE83uq8p5pfW4OVlt3PAQ6fZiTVOkC0Nkn0Ge1qTLuD9XeAZ9eax4T1isHc5DKtdm2EvZWLCGWu+whALyUFfXi71qmtwbJl9yMmPgkMFQwkom0g3K1Zf9/BfZOZPzEVYwlIGSgTKCx0qKSwXouAAgNJA42wADWdFEMcFnqF0X0zlXxzuYZwE4EKzBx6p1m7ND2IHkwSHcbx2jK1NVjO2QXe0wUAHwbGf4noXuP1bymsVi65b08RrGECwje4Yc9uF1i60hik/HwwzmLgoOrWIdC/QbSKCC94F7ZmCNc7KK2JmY9g5rMAzGhFixJhhSmam13qT/Q+zILFgSDaQEbfbAjPtKIMWfJoa7CsAiVl7JdqzNAKJUfYZjyYNGZMFSwm3KCK5nshbg+Dwmehsvs6PIc9GnanENPfb26qt3Qr7OtgYe8hxjFZDG82pgJWYlboMlS5D/v7MfRRAduxE6Omr06dms0g0vVtDVajOjcDltbmy0rjl420UusvhvcXV/+utTpfabWmUYwtu5UM/nikNpkkOw5WK/LKMw8BS8DKk6fdWgKWgCVgjTsgt8IoLOQq2vU9FpRakhh1bz3XwssBl+2l8Liw+nel1UVaq3saPmOl7nZmPjHXlmggJs9YrXB5Vx7N9Fggui9J9JfqFS/M67KvTsH5WPXvBFrjB/SFhTobergyXsdk1zDjba2osoDVCpezgBViFD2iGE9WxkWrkgfCvqLHgHnSTjMMpErRI8SVcaKJGIb24HcT0eHMXBm0jZ0ErNgOV+k31WO1sFwxshKwYrja6LmjiQHSFhYrSlYCVhRb64s21WOFOUygf4D98wDVbIJG8wF+M8C1q3vGCHgcoGGuvhUSNJjfBMabEf5/IjmA/gXipwCqXhcYbrGvB/PbAfRnsUjAyuJaxpimwAL9SrO+RBUxWptd6jEHtvLwHpaO7U6kaE0x0Usd45U6MW9gZ++m6od3omeN4jNIm2f3uN6hD94tA0/+bDTVqgtYU3Uqh+uaAUtDLVGFvQw3lOylQM1wA6mLdLLX4YZVzHzSBIn4c5KYoUZVY+tOsp5XZam6gJXFtYwxTYHVim+Fiv6YGH16Q7BSd7xlviNLdQWsLK5ljBGwMhrXwrCuH3lvyewG6bH2QLb7wSJ1vkr2MgUmtZcw46JqZ5RRF2ilVjf6A6/MbAXvHq1nRX8qGH1ao+t96k5wzD/J0mHIrTCLaxljmrkVArgxKZhv1cvKaxT9mLuKPZ896XdSNyaJqhuThrc8Z8O3x/dUxWwqKPMpNvW33bbWn8feL8tSXQEri2sZY5oBqzJPHvxDInpC8eTN/C34nWD6DMCDNUUZVoxVpOgpqhnHcqD3MXPYKHdiK2/GGCu+n1ivheaJcSwfZj/zIQwsZpo8/XmqVRewpupUDtc1A1YO2e1TCQGrhfYLWC00O2NWXf/wvssXBihsajZ5+Rc13q2GQI6ZU1QtGQNV/ivWzobY7X04iQITt9uQaWUzOObMy8Wkx8pIdpawJnusJ402i0ljj88t3uNw5/zNYF85lncCELUB5M5NTLK5+p/DSpkx5T7Anm8CMLfqt60KtKQwoP9Qu7InTdODQOr78PzeTHXdtUonS+y+jOn+HovUV5NE1X/Vt9Apu6Vg/kJ1Iyitvqa1ur1ew1RmnY65n4Enlv4TaF1xQJ/S6KQv6/ypHADOkKTHymBa1pBmeqzXGiAtp/YSqhnHanr5lwyQ7tGUXd9jvRZYuawrFLAErFoHBKys9429x0mPlce6Qumxeq/HAuPypGh+Wvfvy0Jb7y5nhOPmJpKCWqoL6s56MeHNsET2TjA+PPEWib8mZE5tdIJ92fpF5P0tWfoGeXjP4lrGmGYe3omwnrS5iigddpxUxrHCvkWVY+adOwTgK8CYdEQKEf2FFa5JSA+H68av12EUi8MQhbsOzAdWFX8LkVqmlfqb16kfj/A27LykDoDDZQz+YJbqClhZXMsY0wxYry7fohdBKNXJrp/Ac3jX/lsTv5MDeCuIJsWE0U5mnglg/5rDyQOwO4hoe2U7uEmJCgwOe9FXz5Gfcs0FrClbNf0LK4eFextmH3xy+mrtrSBgtbB9wh5VHm45M4ftubs6CVgtbF5bAiHxZ7LzV3f96RQKKxJjVrTQ3lyy6sjhhlBzIsxNx+wdDByZixPtK3J1UjC3tW/x6pesY8GqvNQxjvCpXQrg/UA3Hi5AI4pwjk70OgGrxQ6kvjyHYD7Czp8N0MJJMztbXJZcsyN6lohuMQW1phOPluvoHivXhhSxXB0QsHK1U8TGHRCwhIUoDghYUWwVUQFLGIjigIAVxVYRFbCEgSgOCFhRbBVRAUsYiOKAgBXFVhEVsISBKA4IWFFsFVEBSxiI4oCAFcVWERWwhIEoDghYUWwVUQFLGIjigIAVxVYRFbCEgSgOCFhRbBVRAUsYiOKAgBXFVhEVsISBKA4IWFFsFVEBSxiI4oCAFcVWERWwhIEoDghYUWwVUQFLGIjigIAVxVYRpaFNfKDbWTmlSpI4kIsD2oNp6FGe6zwyH3uWS0lEpKsc0AqWztjIg6Vy43P7uqrGUpmWONBXQImWPMf9m4cxuyU5SiY94cD8eXiJlj/MZsMczKE02wb3PeGUVHLKDnACN7IVWykcQzu0HrMcMHEq+5Rl5EJxYLIDGhhdfRS2V94GP8ec/G8jBqXXEkym40Dorea+AyMridLdwwwnr+OBPo9ZTsnQw3TM7dXYMMRQUtj+wNE0GjyYNH511kO8X2kQMwWuXsUjW70DVH0j2HHXCfTKuMIeA6Oh5zIJZshtMZvJvRYVbn82xcvjPVVDsMIPQ5u4gJ3otwmKAlivoTK1+gagTIqxwaMwGp6paqMaf8phpuPWQh+5AMnwCPpSC4MitHz+mZrx3XaV7gdjDC4xsPMGUXrsn0jXHgcHotoDGitV/z/9fxGrab4kFgAAAABJRU5ErkJggg=="},tAQq:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"vux-emotion"},[e._t("default")],2)},i=[],r={render:n,staticRenderFns:i};t.a=r},tHsJ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("iR2W"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"OpButton",props:{isModify:{type:Boolean,default:!1},hide:{type:Boolean,default:!1},tdAmount:{type:[String,Number],default:0},taxAmount:{type:[String,Number],default:0},allCheck:{type:Boolean,default:!1}},methods:{checkAll:function(){this.$emit("on-check-all")},submit:function(){this.$emit("on-submit")},deleteItem:function(){this.$emit("on-delete")}},filters:{numberComma:i.default}}},tMHY:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.contactInfo,logistics:!1}},[a("template",{slot:"other"},[a("div",{staticClass:"other"},[a("span",{staticClass:"title"},[e._v("账期天数: ")]),e._v(" "),a("span",{staticClass:"mode"},[e._v(e._s(e.contactInfo.daysOfAccount))])]),e._v(" "),a("div",{staticClass:"other_content vux-1px-t"},[this.contactInfo.tdAmountCopy1||0===this.contactInfo.tdAmountCopy1?a("div",{staticClass:"trade_info s_size_name"},[a("span",{staticClass:"title"},[e._v("预付款: ")]),e._v(" "),a("span",{staticClass:"mode"},[e._v(e._s("￥"+this.contactInfo.tdAmountCopy1))])]):e._e(),e._v(" "),this.contactInfo.prepaymentDueDate?a("div",{staticClass:"trade_info s_size_name"},[a("span",{staticClass:"title"},[e._v("预付到期日: ")]),e._v(" "),a("span",{staticClass:"mode"},[e._v(e._s(this.contactInfo.prepaymentDueDate))])]):e._e()])])],2),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"matter-list":e.orderInfo.order.dataSet,noTaxAmount:e.noTaxAmount,taxAmount:e.taxAmount,count:e.count},scopedSlots:e._u([{key:"matterOther",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("单位: "+e._s(n.measureUnit_transObjCode))]),e._v(" "),a("span",[e._v("单价: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.price),3)))]),e._v(" "),a("span",[e._v("数量: "+e._s(e._f("toFixed")(n.tdQty)))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.taxRate,expression:"item.taxRate"}]},[e._v("税率: "+e._s(n.taxRate))])]),e._v(" "),n.purchaseDay?a("div",{staticClass:"mater_attribute"},[a("span",[e._v("采购需求日期: "+e._s(n.purchaseDay))])]):e._e(),e._v(" "),a("div",{staticClass:"mater_attribute"},[a("span",{staticClass:"num"},[e._v("安全库存: "+e._s(n.safeStock_transObjCode||0))]),e._v(" "),a("span",{staticClass:"num"},[e._v("待下单: "+e._s(n.thenQtyBal||0))]),e._v(" "),a("span",{staticClass:"num"},[e._v("起订量: "+e._s(n.moq_transObjCode||0))])]),e._v(" "),a("div",{staticClass:"mater_attribute"},[a("span",{staticClass:"num"},[e._v("采购提前期: "+e._s(n.leadTime_transObjCode||"无"))]),e._v(" "),a("span",{staticClass:"num"},[e._v("下单截止日: "+e._s(n.shippingTime||"无"))]),e._v(" "),a("span",{staticClass:"num"},[e._v("到货截止日: "+e._s(n.processingStartDate||"无"))])]),e._v(" "),a("div",{staticClass:"mater_price"},[a("span",[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(n.tdAmount),3)))]),e._v(" "),n.taxRate?a("span",{staticClass:"num",style:{display:n.tdAmount&&n.tdAmount.toString().length>=5?"block":""}},[e._v("\n                [金额: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.noTaxAmount),3))+" + 税金: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.taxAmount),3))+"]\n              ")]):e._e()])])]}}])}),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},tNTb:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Iu/6"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"Loading",data:function(){return{show:!1}},components:{Spinner:i.default}}},tO34:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MgeX"),r=n(i),s=a("lC5x"),o=n(s),l=a("J0Oq"),d=n(l),u=a("4YfN"),c=n(u),f=a("a3Yh"),m=n(f),h=a("ZLEe"),v=n(h),p=a("3cXf"),C=n(p),y=a("HzJ8"),_=n(y),g=a("z5TY"),b=n(g),w=a("SAzG"),I=n(w),x=a("PzEQ"),D=n(x),P=a("u28h"),S=n(P),k=a("BGNQ"),L=n(k),N=a("kNGm"),M=n(N),T=a("0AQX"),A=a("HyXB"),O=a("bKg5"),R=n(O),j=a("9cRV"),B=n(j),E=a("luHD"),F=n(E),U=a("VZtf"),$=n(U),Q=a("vl8n"),H=n(Q),V=a("+WR7"),q=n(V),Y=a("zWMP"),X=a("Qg39"),G=a("pyij"),W=n(G);t.default={data:function(){return{orderList:{},matterList:[],showMaterielPop:!1,formData:{biId:"",biComment:""},modifyKey:"",filterList:[{name:"物料名称",value:"invName"},{name:"物料编码",value:"matCode"},{name:"交易号",value:"transCode"}],checkFieldList:[{key:"tdQty",message:"请填写本次申请数量"}]}},components:{XTextarea:D.default,Group:b.default,XInput:I.default,Datetime:S.default,Cell:L.default,RNumber:$.default,PopMatter:F.default,PopMatterList:B.default,RPicker:H.default,PopBaseinfo:q.default},filters:{dateFormat:M.default},computed:{totalNum:function(){var e=0;return this.matterList.forEach(function(t){e=(0,Y.accAdd)(e,t.tdQty)}),Number(e)}},watch:{matterList:{handler:function(e){var t=!0,a=!1,n=void 0;try{for(var i,r=(0,_.default)(e);!(t=(i=r.next()).done);t=!0){var s=i.value;s.shippingTime=(0,M.default)((0,W.default)(s.shippingTime,s.promDeliTime),"YYYY-MM-DD")}}catch(e){a=!0,n=e}finally{try{!t&&r.return&&r.return()}finally{if(a)throw n}}}}},mixins:[R.default],methods:{selMatter:function(e){var t=JSON.parse(e),a={};t.map(function(e){e.tdQty=e.tdQty||Math.max(e.qtyBalance,e.moq),e.promDeliTime=e.processingStartDate,e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null,a[e.transCode]||(a[e.transCode]=[]),a[e.transCode].push(e)}),this.matterList=t,this.orderList=a},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,C.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.inventoryCode!==e.inventoryCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode&&e.transCode===t.transCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,C.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,v.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});i>=0&&n.splice(i,1),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},checkAmt:function(e){var t=e.price,a=e.tdQty,n=e.qtyBalance;t&&(e.price=Math.abs((0,X.toFixed)(t))),a&&(e.tdQty=Math.abs((0,X.toFixed)(a)),a>n&&(e.tdQty=n))},submitOrder:function(){var e=this,t="",a=[];if(this.matterList.length||(t="请选择物料"),t||this.matterList.every(function(e){return e.tdQty?(a.push({tdId:e.tdId||"",transMatchedCode:e.transCode,transObjCode:e.inventoryCode,tdProcessing:e.processing,assMeasureUnit:e.assMeasureUnit||"个",assMeasureScale:e.assMeasureScale||null,assistQty:e.assistQty||0,productDemandQty:e.allQty,thenLockQty:e.qtyed,thenQtyBal:e.qtyBalance,tdQty:e.tdQty,shippingTime:e.shippingTime,promDeliTime:e.promDeliTime,comment:e.comment}),!0):(t="请填写本次申请数量",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=A.saveAndStartWf,n=(0,m.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.biComment,formData:(0,C.default)((0,c.default)({},e.formData,{handlerEntity:e.entity.dealerName,order:{dataSet:a}})),wfPara:(0,C.default)(n)};e.isResubmit&&(t=A.saveAndCommitTask,i.biReferenceId=e.biReferenceId),e.processCode.length||(t=A.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,d.default)(o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,T.getSOList)({formViewUniqueId:e.uniqueId,transCode:e.transCode}).then(function(t){e.listId=t.listId,e.biReferenceId=t.biReferenceId,e.attachment=t.attachment;var a=t.formData,n={},i=[];i=a.order.dataSet.map(function(t){return t=(0,c.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,inventoryType:t.inventoryType_transObjCode,inventorySubclass:t.inventorySubclass_transObjCode,allQty:t.productDemandQty,qtyed:t.thenLockQty,qtyBalance:t.thenQtyBal,transCode:t.transMatchedCode}),n[t.transCode]||(n[t.transCode]=[]),n[t.transCode].push(t),t}),e.orderList=n,e.matterList=i,e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,c.default)({},e.handlerDefault,{creator:a.creator,modifer:a.modifer,biId:a.biId,biComment:a.biComment,biProcessStatus:a.biProcessStatus}),e.$loading.hide()});case 2:case"end":return t.stop()}},t,e)}))()},hasDraftData:function(){return!!(0,r.default)(this.orderList).length&&(0,m.default)({},"CGSQ_DATA",{orderList:this.orderList,formData:this.formData})}},created:function(){var e=this,t=sessionStorage.getItem("CGSQ_DATA");if(t){this.orderList=JSON.parse(t).orderList,this.formData=JSON.parse(t).formData;for(var a in this.orderList)this.orderList[a].forEach(function(t){e.matterList.push(t)});sessionStorage.removeItem("CGSQ_DATA")}}}},tSLf:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("MjAd"),o=n(s),l=a("IsSW"),d=n(l);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2363,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"成品名称",value:"inventoryName_transObjCode"}],popShow:!1}},components:{PopAssignmentTaskWorkList:d.default},mixins:[o.default],methods:{goEdit:function(){this.popShow=!0},selTask:function(e){var t=[];e.forEach(function(e){t.push(e.colId)});var a=this.$route.query.name,n=this.$route.params,i=n.folder,s=n.fileName;this.$router.push({path:"/fillform/"+i+"/"+s,query:{name:a,childId:childId,orderId:(0,r.default)(t)}})}}}},"tUW+":function(e,t){},tVsm:function(e,t,a){e.exports=a.p+"static/img/contact_default02.995b130.png"},tZbj:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("HzJ8"),o=n(s),l=a("3cXf"),d=n(l),u=a("kNGm"),c=(n(u),a("0AQX")),f=a("+VRO"),m=n(f),h=a("BUFe"),v=n(h),p=a("AupE"),C=n(p),y=a("bFc7"),_=n(y),g=a("3NX5"),b=n(g),w=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",contactInfo:{},orderList:{},orderInfo:{}}},mixins:[m.default],components:{workFlow:C.default,RAction:v.default,contactPart:_.default,MatterList:b.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,c.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(e.submitInfo=JSON.parse((0,d.default)(t)),!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a={},n=t.formData.order.dataSet,i=!0,r=!1,s=void 0;try{for(var l,u=(0,o.default)(n);!(i=(l=u.next()).done);i=!0){var c=l.value;e.count=(0,w.accAdd)(e.count,c.tdAmount),c.inventoryPic=c.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+c.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),a[c.transMatchedCode]||(a[c.transMatchedCode]=[]),a[c.transMatchedCode].push(c)}}catch(e){r=!0,s=e}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}e.orderList=a,e.attachment=t.attachment,e.orderInfo=t.formData,e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo=(0,r.default)({},this.contactInfo,{creatorName:a.dealerDebitContactPersonName,dealerName:a.dealerName_dealerCodeCredit,dealerMobilePhone:t.dealerCreditContactInformation,dealerContactPersonName:t.dealerCreditContactPersonName,dealerCode:a.dealerCodeCredit,dealerLabelName:a.crDealerLabel,province:a.province_dealerCodeCredit,city:a.city_dealerCodeCredit,county:a.county_dealerCodeCredit,address:a.address_dealerCodeCredit})}}}},thiw:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("a3Yh"),o=n(s),l=a("KH7x"),d=n(l),u=a("Q+Ik"),c=n(u),f=a("3cXf"),m=n(f),h=a("BGNQ"),v=n(h),p=a("z5TY"),C=n(p),y=a("SAzG"),_=n(y),g=a("PzEQ"),b=n(g),w=a("u28h"),I=n(w),x=a("jnZd"),D=n(x),P=a("jLp1"),S=a("bKg5"),k=n(S),L=a("JUuq"),N=n(L),M=a("vl8n"),T=n(M),A=a("+WR7"),O=n(A),R=a("Qg39"),j=a("zWMP");t.default={mixins:[k.default],components:{Cell:v.default,Group:C.default,XInput:_.default,Datetime:I.default,XTextarea:b.default,PopNameList:N.default,PopupPicker:D.default,RPicker:T.default,PopBaseinfo:O.default},data:function(){return{listId:"0281f8eb-f1d2-415c-b566-756fc749ccb3",projectTypes:[["设计类","协调类","执行类"]],planModel:{taskName:"",taskType:"",taskTypes:[],comment:"",deadline:"",cycleDays:"",planTime:"",jobRate:"",budgetHomeworkCost:""},projectPlan:[],formData:{biProcessStatus:"",biComment:""},formDataComment:"",project:{}}},methods:{addPlan:function(){var e=(0,m.default)(this.planModel);this.projectPlan.push(JSON.parse(e))},delatePlan:function(){this.projectPlan.pop()},typeTask:function(e,t){t.taskType=e[0]},selProject:function(e){var t=JSON.parse(e);this.project=t;var a={projectType:this.project.PROJECT_TYPE,filters:(0,m.default)([{operator:"in",property:"projectType",value:this.project.PROJECT_TYPE}])};this.getProjectBotTask(a)},getProjectBotTask:function(e){var t=this;(0,P.getProjectBotTask)(e).then(function(e){var a=e.tableContent,n=void 0===a?[]:a;n.forEach(function(e){e.taskTypes=[e.taskType]}),t.projectPlan=n})},save:function(){var e=this,t="",a=[];this.project.PROJECT_NAME||(t="请选择项目");var n={taskName:"任务名称",deadline:"截止日期"};if(t||this.projectPlan.every(function(e){return(0,c.default)(n).every(function(a){var n=(0,d.default)(a,2),i=n[0],r=n[1];return!!e[i]||(t=r+"不能为空",!1)}),a.push({budgetHomeworkCost:e.budgetHomeworkCost,comment:e.comment,cycleDays:e.cycleDays,deadline:e.deadline,jobRate:e.jobRate,planTime:e.planTime,projectType:e.projectType,taskName:e.taskName,taskType:e.taskType}),!t}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=P.saveProjectPlan,n={listId:e.listId,formData:{baseinfo:{biProcessStatus:e.formData.biProcessStatus,handlerEntity:e.entity.dealerName,creator:e.formData.handler,handler:e.formData.handler,handlerName:e.formData.handlerName,handlerRole:e.formData.handlerRole,handlerRoleName:e.formData.handlerRoleName,handlerUnit:e.formData.handlerUnit,handlerUnitName:e.formData.handlerUnitName,id:"",modifer:e.formData.handler},comment:{biComment:e.formData.biComment},projectApproval:{projectName:e.project.PROJECT_NAME,comment:e.project.COMMENT,projectManager:e.project.PROJECT_MANAGER,expectStartDate:e.project.EXPECT_START_DATE,expectEndDate:e.project.EXPECT_END_DATE},projectPlan:a}};e.saveData(t,n)}})},checkTime:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=e.planTime,i=e.jobRate;e[t]&&(e[t]=Math.abs((0,R.toFixed)(e[t],a))),"planTime"!==t&&"jobRate"!==t||(e.budgetHomeworkCost=(0,j.accMul)(Number(n),Number(i)))},hasDraftData:function(){return!!this.project.PROJECT_NAME&&(0,o.default)({},"XMJH_DATA",{project:this.project,projectPlan:this.projectPlan})},getRelationData:function(){var e=this;return(0,P.findProjectPlan)(this.relationKey).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=(t.attachment,JSON.parse((0,m.default)(n.projectApproval)));e.project={BUDGET_CAPITAL:i.budgetCapital,BUDGET_COST:i.budgetCost,BUDGET_INCOME:i.budgetIncome,BUDGET_PROFIT:i.budgetProfit,BUDGET_PROFIT_MARGIN:i.budgetProfitMargin,COMMENT:i.comment,EXPECT_END_DATE:i.expectEndDate,EXPECT_START_DATE:i.expectStartDate,ID:i.projectApprovalId,PHONE_NUMBER:i.phoneNumber,PROJECT_MANAGER:i.projectManager,PROJECT_NAME:i.projectName,PROJECT_STATUS:i.projectStatus,PROJECT_SUBCLASS:i.projectSubclass,PROJECT_TYPE:i.projectType,REFERENCE_ID:i.referenceId},e.projectPlan=n.projectPlan,e.formData=n.baseinfo,e.selProject((0,m.default)(e.project)),e.$loading.hide()})},getFormData:function(){var e=this;return(0,P.findProjectPlan)(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=(t.attachment,JSON.parse((0,m.default)(n.projectApproval)));e.project={BUDGET_CAPITAL:i.budgetCapital,BUDGET_COST:i.budgetCost,BUDGET_INCOME:i.budgetIncome,BUDGET_PROFIT:i.budgetProfit,BUDGET_PROFIT_MARGIN:i.budgetProfitMargin,COMMENT:i.comment,EXPECT_END_DATE:i.expectEndDate,EXPECT_START_DATE:i.expectStartDate,ID:i.projectApprovalId,PHONE_NUMBER:i.phoneNumber,PROJECT_MANAGER:i.projectManager,PROJECT_NAME:i.projectName,PROJECT_STATUS:i.projectStatus,PROJECT_SUBCLASS:i.projectSubclass,PROJECT_TYPE:i.projectType,REFERENCE_ID:i.referenceId},n.projectPlan.forEach(function(e){e.taskTypes=[e.taskType]}),e.projectPlan=n.projectPlan,e.handlerDefault={handler:n.baseinfo.handler,handlerName:n.baseinfo.handlerName,handlerUnit:n.baseinfo.handlerUnit,handlerUnitName:n.baseinfo.handlerUnitName,handlerRole:n.baseinfo.handlerRole,handlerRoleName:n.baseinfo.handlerRoleName},e.formData=(0,r.default)({},e.formData,e.handlerDefault,{biComment:n.baseinfo.biComment,biId:n.baseinfo.biId,biProcessStatus:n.baseinfo.biProcessStatus,creator:n.baseinfo.creator,modifer:n.baseinfo.modifer}),e.biReferenceId=n.biReferenceId,e.$loading.hide()})}},created:function(){var e=(0,m.default)(this.planModel),t=sessionStorage.getItem("XMJH_DATA");if(t){var a=JSON.parse(t);return this.project=a.project,this.projectPlan=a.projectPlan,void sessionStorage.removeItem("XMJH_DATA")}this.transCode||this.relationKey||this.projectPlan.push(JSON.parse(e))}}},tiX6:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("kNGm"),v=(n(h),a("qE8w"),a("HyXB")),p=a("1KNX"),C=n(p),y=a("7biW"),_=n(y);t.default={name:"PopMatterListTest",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},isShowStock:{type:Boolean,default:!1},filterList:{type:Array,default:function(){return[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"}]}},config:{type:Array,default:function(){return[]}},orderTitle:{type:String,default:"单号"},matterParams:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:m.default,RScroll:C.default,MSearch:_.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],matterList:[],limit:100,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterProperty:"",requestMethods:null}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}},matterParams:{handler:function(e){this.resetCondition(),this.requestData()},deep:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,d.default)(this.selItems)),this.$emit("input",!1),this.$event.$emit("shut-down-filter",!1)},findIndex:function(e,t){return e.findIndex(function(e){var a=!0,n=!0;if(e.orderCode){if(n=e.orderCode===t.orderCode,e.inventoryCode)return n&&e.inventoryCode===t.inventoryCode;if(e.facilityCode)return n&&e.facilityCode===t.facilityCode}return a=e.transCode===t.transCode,e.inventoryCode?a&&e.inventoryCode===t.inventoryCode:e.facilityCode?a&&e.facilityCode===t.facilityCode:void 0})},showSelIcon:function(e){return-1!==this.findIndex(this.tmpItems,e)},selThis:function(e,t){if(this.isShowStock&&0===e.qtyStockBal)return void this.$vux.alert.show({content:"当前订单库存为0，请选择其他订单"});var a=this.tmpItems,n=this.findIndex(a,e);if(-1!==n)return void a.splice(n,1);a.push(e)},cfmMater:function(){this.showPop=!1,this.tmpItems.sort(function(e,t){return t.effectiveTime-e.effectiveTime}),this.selItems=[].concat((0,d.default)(this.tmpItems)),this.$emit("sel-matter",(0,o.default)(this.selItems))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},requestData:function(){var e=[];this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}]));var t=(0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(e)},this.matterParams.data);return(0,v.requestData)({url:this.matterParams.url,data:t}).then(this.dataHandler)},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.resetCondition(),this.requestData()},delSelItem:function(e){var t=this.findIndex(this.selItems,e);-1!==t&&this.selItems.splice(t,1),this.tmpItems=[].concat((0,d.default)(this.selItems))},onPullingUp:function(){this.page++,this.requestData()},setDefaultValue:function(){this.tmpItems=[].concat((0,d.default)(this.defaultValue)),this.selItems=[].concat((0,d.default)(this.defaultValue))},dataHandler:function(e){var t=this,a=e.dataCount,n=void 0===a?0:a,i=e.tableContent,r=void 0===i?[]:i;r.forEach(function(e){e.inventoryPic=e.inventoryPic?"/H_roleplay-si/ds/download?url="+e.inventoryPic+"&width=400&height=400":t.getDefaultImg()});var s=this.$route.query.relationKey;(void 0===s?"":s)&&(this.selItems=[].concat((0,d.default)(r)),this.$emit("sel-matter",(0,o.default)(this.selItems))),this.hasNext=n>(this.page-1)*this.limit+r.length,this.matterList=1===this.page?r:[].concat((0,d.default)(this.matterList),(0,d.default)(r)),this.$nextTick(function(){t.$refs.bScroll.finishPullUp()})},resetCondition:function(){this.matterList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)}},created:function(){this.setDefaultValue()}}},tpzc:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getJsApiSignature=void 0;var n=a("GOq4"),i=function(e){return e&&e.__esModule?e:{default:e}}(n),r=t.getJsApiSignature=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return i.default.ajax({url:"/H_roleplay-si/getJsApiSignature",data:{url:e}})};t.default={getJsApiSignature:r}},trKI:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2577,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"客户名称",value:"dealerName_dealerCodeCredit"}]}},mixins:[i.default],methods:{},created:function(){}}},"u+pL":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("KH7x"),r=n(i),s=a("HXPS"),o=n(s),l=a("+62G"),d=n(l),u=a("Nk/b"),c=n(u),f=a("7g+Q"),m=n(f);t.default={name:"RPicker",props:{title:{type:String,default:""},value:{type:String,default:""},data:{type:Array,default:function(){return[]}},required:{type:Boolean,default:!1},pickerStatus:{type:Boolean,default:!0},mode:{type:String,default:"1"},showArrow:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"},hasBorder:{type:Boolean,default:!0},hasBorderTop:{type:Boolean,default:!1}},data:function(){return{show:!1,currentValue:"",showValue:""}},watch:{value:{handler:function(e){this.showValue=e,this.currentValue=e?[e]:[],this.$emit("on-change",e)}}},directives:{TransferDom:d.default},components:{Picker:c.default,Popup:m.default,Icon:o.default},methods:{confirm:function(){var e=(0,r.default)(this.currentValue,1),t=e[0],a=void 0===t?"":t;this.show=!1,this.$emit("input",a)},showStatus:function(){this.pickerStatus&&!this.disabled&&(this.show=!this.show)}},created:function(){this.currentValue=[this.value],this.showValue=this.value}}},u1IZ:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=(a("HyXB"),a("MjAd")),o=n(s),l=a("zWMP");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"项目名称",value:"projectName_project"}],listViewID:2301}},mixins:[o.default],filters:{percent:function(e){return e||0===e?(0,l.accMul)(e,100)+"%":"无"}},methods:{goDetail:function(e,t){var a=this;if(!this.clickVisited){var n=e.transCode,i=this.$route.query.name,s=this.$route.params,o=s.folder,l=s.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,r.default)({},e)),setTimeout(function(){a.clickVisited=!1,a.$router.push({path:"/detail/"+o+"/"+l,query:{name:i,transCode:n}})},200)}}}}},u28h:function(e,t,a){"use strict";function n(e){a("RROt")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Mnwv");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("ucqF"),o=a.n(s),l=a("aKfH"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},u5b7:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("KH7x"),o=n(s),l=a("4YfN"),d=n(l),u=a("a3Yh"),c=n(u),f=a("3cXf"),m=n(f),h=a("BGNQ"),v=n(h),p=a("z5TY"),C=n(p),y=a("SAzG"),_=n(y),g=a("7g+Q"),b=n(g),w=a("PzEQ"),I=n(w),x=a("jnZd"),D=n(x),P=a("0AQX"),S=a("HyXB"),k=(a("jLp1"),a("bKg5")),L=n(k),N=a("55ug"),M=n(N),T=a("CKaN"),A=n(T),O=a("KR0i"),R=n(O),j=a("vl8n"),B=n(j),E=a("+WR7"),F=n(E),U=a("zWMP"),$=a("Qg39");t.default={mixins:[L.default],components:{Cell:v.default,Group:C.default,Popup:b.default,XInput:_.default,XTextarea:I.default,PopupPicker:D.default,RPicker:B.default,PopBaseinfo:F.default,PopDealerList:M.default,PopCashList:A.default,PopEarnestMoneyList:R.default},data:function(){return{listId:"7d172485-8726-4e42-b29d-ec2a716bf062",biReferenceId:"",selectedCost:[],costIndex:0,transCode:"",formData:{biComment:"",biProcessStatus:""},dealerInfo:{},showOrder:!1,dealerParams:{},orderList:[],cashInfo:{fundName_cashOutCode:"",cashOutCode:"",cashType_cashOutCode:"",thenAmntBal:0},numMap:{}}},computed:{applicationAmount:function(){var e=0;return this.orderList.forEach(function(t){t.tdAmount&&(e=(0,U.accAdd)(e,t.tdAmount))}),(0,$.toFixed)(e)},differenceAmount:function(){var e=this.dealerInfo.amntBal||0;return e=(0,U.accAdd)(e,this.applicationAmount),(0,$.toFixed)(e)}},methods:{submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerCode||(t="请选择供应商"),t||this.orderList.length||(t="请选择定金明细"),t)return void this.$vux.alert.show({content:t});this.orderList.forEach(function(t){a.push({tdId:t.tdId||"",transMatchedCode:t.transCode,thenTotalAmntBal:t.thenAmntBal,differenceAmountCopy1:t.amount,thenAlreadyAmnt:t.amnted,thenAmntBalCopy2:t.deposit,applicationAmount:t.tdAmount,tdAmountCopy1:t.tdAmount,dealerDebit:e.dealerInfo.dealerCode})}),this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=S.saveAndStartWf,n=(0,c.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,m.default)(e.formData.handler),"本次支付":e.applicationAmount});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={dealerName_dealerDebit:e.dealerInfo.nickname,dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,applicationAmount:e.applicationAmount,tdAmountCopy1:e.applicationAmount,differenceAmount:e.differenceAmount},r=(0,d.default)({},e.cashInfo,{tdAmount:e.applicationAmount});e.transCode&&(i.tdIdCopy1=e.dealerInfo.tdIdCopy1,r.tdId=e.cashInfo.tdId);var s={listId:e.listId,biComment:e.formData.biComment,formData:(0,m.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",inPut:{dataSet:[i],thenAmntBalCopy1:e.dealerInfo.amntBal},order:{dataSet:a},outPut:{dataSet:[r]}})),wfPara:(0,m.default)(n)};e.isResubmit&&(s.biReferenceId=e.biReferenceId,t=S.saveAndCommitTask),e.processCode.length||(t=S.submitAndCalc,delete s.wfPara,delete s.biReferenceId),e.biReferenceId&&(s.biReferenceId=e.biReferenceId),e.saveData(t,s)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.attachment,n=void 0===a?[]:a,i=t.listId,r=void 0===i?"":i,s=(t.biComment,t.biReferenceId),l=void 0===s?"":s,u=t.formData,c=void 0===u?{}:u;e.attachment=n,e.listId=r,e.biReferenceId=l,e.handlerDefault={handler:c.handler,handlerName:c.handlerName,handlerUnit:c.handlerUnit,handlerUnitName:c.handlerUnitName,handlerRole:c.handlerRole,handlerRoleName:c.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:c.biComment,biId:c.biId,biProcessStatus:c.biProcessStatus,creator:c.creator,modifer:c.modifer});var f=c.order.dataSet,m=void 0===f?[]:f,h=c.inPut.dataSet,v=void 0===h?[]:h,p=c.outPut.dataSet,C=void 0===p?[]:p,y=(0,o.default)(v,1),_=y[0],g=void 0===_?{}:_,b=(0,o.default)(C,1),w=b[0],I=void 0===w?{}:w;m.forEach(function(e){e.transCode=e.transMatchedCode,e.thenAmntBal=e.thenTotalAmntBal,e.amount=e.differenceAmountCopy1,e.amnted=e.thenAlreadyAmnt,e.deposit=e.thenAmntBalCopy2,e.tdAmount=e.applicationAmount}),e.dealerInfo=(0,d.default)({},g,{nickname:g.dealerName_dealerDebit,dealerCode:g.dealerDebit,dealerLabelName:g.drDealerLabel,amntBal:c.inPut.thenAmntBalCopy1}),e.cashInfo=(0,d.default)({},I),e.orderList=m,e.$loading.hide()})},hasDraftData:function(){return!!this.dealerInfo.dealerCode&&(0,c.default)({},"FGYSDJ_DATA",{formData:this.formData,dealerInfo:this.dealerInfo,orderList:this.orderList,cashInfo:this.cashInfo})},getRelationData:function(){},selDealer:function(e){this.dealerInfo=(0,d.default)({},e),this.dealerParams={dealerCode:e.dealerCode}},selOrder:function(e){var t=this,a=JSON.parse(e);a.map(function(e){var a=t.numMap[e.transCode]||{},n=a.tdAmount,i=void 0===n?e.deposit:n;e.tdAmount=i}),this.numMap={},this.orderList=a},selCash:function(e){this.cashInfo=(0,d.default)({},e)},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,r.default)(this.orderList);!(e=(n=i.next()).done);e=!0){var s=n.value;this.numMap[s.transCode]=(0,d.default)({},s)}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showOrder=!0},checkAmt:function(e,t){switch(e){case"tdAmountCopy1":this.dealerInfo.tdAmountCopy1=(0,$.toFixed)(this.dealerInfo.tdAmountCopy1);break;case"tdAmount":this.cashInfo.tdAmount=(0,$.toFixed)(this.cashInfo.tdAmount);break;default:e[t]=(0,$.toFixed)(e[t])}}},created:function(){var e=sessionStorage.getItem("FGYSDJ_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.orderList=t.orderList,this.cashInfo=t.cashInfo,this.dealerParams={dealerCode:this.dealerInfo.dealerCode},sessionStorage.removeItem("FGYSDJ_DATA")}}}},u5pD:function(e,t,a){"use strict";function n(e){a("Q7ft")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("/MNM");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("DOKq"),o=a.n(s),l=a("CP9X"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-6c4dd9e7",null);t.default=c.exports},uBQ9:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("4YfN"),o=n(s),l=a("Jwlx"),d=n(l),u=a("7g+Q"),c=n(u),f=a("+62G"),m=n(f),h=a("7biW"),v=n(h),p=a("1KNX"),C=n(p),y=a("hFVz"),_=n(y);t.default={name:"PopContactList",props:{dealerInfo:{type:Object,default:function(){return{}}},defaultValue:{type:Object,default:function(){return{}}}},directives:{TransferDom:m.default},components:{Popup:c.default,DSearch:v.default,RScroll:C.default},data:function(){return{page:1,limit:10,hasNext:!0,showDealerPop:!1,showPop:!1,srhInpTx:"",bScroll:null,contactInfo:{},dealerList:[],contactList:[],scrollOptions:{pullUpLoad:!0}}},watch:{dealerInfo:{handler:function(){this.resetCondition(),this.getContact()},immediate:!0},defaultValue:{handler:function(){this.contactInfo=(0,d.default)((0,o.default)({},this.defaultValue))},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},showSelIcon:function(e){return this.contactInfo.dealerName===e.dealerName},selContact:function(e,t){this.showPop=!1,this.contactInfo=(0,d.default)((0,o.default)({},e)),this.$emit("sel-contact",this.contactInfo)},getContact:function(){var e=this;return _.default.getContactList({dealerCode:this.dealerInfo.dealerCode,limit:this.limit,page:this.page,start:(this.page-1)*this.limit}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,s=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+s.length,e.contactList=1===e.page?s:[].concat((0,r.default)(e.contactList),(0,r.default)(s)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.contactList=[],this.page=1,this.hasNext=!0,this.getContact()},onPullingUp:function(){this.page++,this.getContact()},resetCondition:function(){this.page=1,this.hasNext=!0,this.contactList=[]}},created:function(){}}},uJmp:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("a3Yh"),o=n(s),l=a("3cXf"),d=n(l),u=a("KH7x"),c=n(u),f=a("Q+Ik"),m=n(f),h=a("4YfN"),v=n(h),p=a("z5TY"),C=n(p),y=a("SAzG"),_=n(y),g=a("PzEQ"),b=n(g),w=a("jnZd"),I=n(w),x=a("vl8n"),D=n(x),P=a("+WR7"),S=n(P),k=a("y8YJ"),L=n(k),N=a("HyXB"),M=a("0AQX"),T=a("bKg5"),A=n(T);t.default={name:"ApplyCPFBForm",data:function(){return{listId:"eb8a01a3-7a74-439b-bc44-8d58cbfa6166",formViewUniqueId:"b018ef18-f0d1-41a8-985e-29de19e6b705",formData:{biId:"",biComment:"",launchType:"",launchTitle:"",launchDescribe:"",biProcessStatus:""},biReferenceId:"",typeList:[],selectedType:[],launchTypeList:[],dealerInfo:{},contactInfo:{},uploadStyle:{}}},mixins:[A.default],components:{Group:C.default,XInput:_.default,XTextarea:b.default,PopupPicker:I.default,RPicker:D.default,PopBaseinfo:S.default,PopDealerList:L.default},methods:{selContact:function(e){this.contactInfo=(0,v.default)({},e)},selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],this.formData.launchDealerCode=this.dealerInfo.dealerCode},isSelectType:function(e){this.formData.launchType=e[0]},save:function(){var e=this,t={launchDealerCode:"客户",launchTitle:"标题",launchType:"类型",launchDescribe:"描述"};for(var a in this.formData)"string"==typeof this.formData[a]&&this.formData[a].indexOf(" ")>=0&&(this.formData[a]=this.formData[a].replace(/\s/g,""));var n="";if(!n&&(0,m.default)(t).every(function(t){var a=(0,c.default)(t,2),i=a[0],r=a[1];return!!e.formData[i]||(n=r+"不能为空",!1)}),n)return void this.$vux.alert.show({content:n});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=e.formData,a={launchDealerCode:e.dealerInfo.dealerCode,address_launchDealerCode:e.dealerInfo.address,launchDealerLabel:e.dealerInfo.dealerLabelName,dealerName_launchDealerCode:e.dealerInfo.dealerName},n={dealerDebitContactPersonName:e.contactInfo.dealerName,dealerDebitContactInformation:e.contactInfo.dealerMobilePhone},i=e.processCode.length?N.saveAndStartWf:N.submitAndCalc,r={listId:e.listId,biComment:"",formData:(0,d.default)((0,v.default)({handlerEntity:e.entity.dealerName},t,a,n)),wfPara:(0,d.default)((0,o.default)({},e.processCode,{businessKey:e.businessKey,createdBy:t.creator}))};e.transCode&&(i=e.processCode.length?N.saveAndCommitTask:N.updateData,r.biReferenceId=e.biReferenceId,r.wfPara=(0,d.default)({businessKey:e.transCode,createdBy:t.creator,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(i,r)}})},getFormData:function(){var e=this;return(0,M.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.biReferenceId,o=void 0===s?"":s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=t.attachment,e.biReferenceId=o,e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,v.default)({},e.formData,r,e.handlerDefault),e.$loading.hide()})},getProductType:function(){var e=this;return(0,N.getDictByType)("productRelease").then(function(t){var a=t.tableContent,n=void 0===a?[]:a,i=[],s=!0,o=!1,l=void 0;try{for(var d,u=(0,r.default)(n);!(s=(d=u.next()).done);s=!0){var c=d.value;i.push(c.name)}}catch(e){o=!0,l=e}finally{try{!s&&u.return&&u.return()}finally{if(o)throw l}}e.launchTypeList.push(i)})},hasDraftData:function(){var e=["biProcessStatus","launchTitle","launchDescribe","launchType"],t=this.formData,a=!1;if(e.every(function(e){return!t[e]||(a=!0,!1)},!0),a)return(0,o.default)({},"CPFB_DATA",{formData:this.formData,dealerInfo:this.dealerInfo,contactInfo:this.contactInfo,selectedType:this.selectedType})}},created:function(){var e=sessionStorage.getItem("CPFB_DATA");e&&(this.formData=JSON.parse(e).formData,this.dealerInfo=JSON.parse(e).dealerInfo,this.contactInfo=JSON.parse(e).contactInfo,this.selectedType=JSON.parse(e).selectedType,sessionStorage.removeItem("CPFB_DATA")),this.getProductType()}}},uKpr:function(e,t,a){"use strict";function n(e){a("QCfW")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("vrxI");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("CrUP"),o=a.n(s),l=a("wmtl"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-70495a55",null);t.default=c.exports},uOFv:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.dealerInfo,logistics:!1}},[a("template",{slot:"other"},[a("div",{staticClass:"other"},[a("span",{staticClass:"title"},[e._v("账期天数: ")]),e._v(" "),a("span",{staticClass:"mode"},[e._v(e._s(e.dealerInfo.pamentDays||"暂无"))])])])],2),e._v(" "),a("matter-list",{attrs:{"order-list":e.orderList,noTaxAmount:e.noTaxAmount,taxAmount:e.taxAmount,count:e.count},scopedSlots:e._u([{key:"matterOther",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("类型: "+e._s(n.facilityType))]),e._v(" "),a("span",[e._v("大类: "+e._s(n.facilityBigType_facilityObjCode))]),e._v(" "),a("span",[e._v("子类: "+e._s(n.facilitySubclass_facilityObjCode))])]),e._v(" "),a("div",{staticClass:"mater_attribute"},[a("span",[e._v("单价: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.price),3)))]),e._v(" "),a("span",[e._v("数量: "+e._s(e._f("toFixed")(n.tdQty)))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.taxRate,expression:"item.taxRate"}]},[e._v("税率: "+e._s(n.taxRate))])]),e._v(" "),a("div",{staticClass:"mater_attribute"},[a("span",[e._v("待下单: "+e._s(e._f("toFixed")(n.thenQtyBal)))])]),e._v(" "),a("div",{staticClass:"mater_price"},[a("span",[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(n.tdAmount),3)))]),e._v(" "),n.taxRate?a("span",{staticClass:"num",style:{display:n.tdAmount&&n.tdAmount.toString().length>=5?"block":""}},[e._v("\n                [金额: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.noTaxAmount),3))+" + 税金: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.taxAmount),3))+"]\n              ")]):e._e()])])]}}])}),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},uX8d:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("3cXf"),o=n(s),l=a("HXPS"),d=n(l),u=a("7g+Q"),c=n(u),f=a("L6VY"),m=n(f),h=a("+62G"),v=n(h),p=a("HyXB"),C=a("1KNX"),y=n(C),_=a("7biW"),g=n(_);t.default={name:"PopSalesmanList",props:{title:{type:String,default:""},dealerLabelName:{type:String,default:"员工"},disabled:{type:Boolean,default:!1},value:{type:String,default:""},required:{type:Boolean,default:!1}},directives:{TransferDom:v.default},components:{Icon:d.default,Popup:c.default,RScroll:y.default,RSearch:g.default},data:function(){return{showPop:!1,srhInpTx:"",dealerList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},currentValue:""}},watch:{value:{handler:function(e){this.currentValue=this.value}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},showSelIcon:function(e){return e.dealerName===this.currentValue},selThis:function(e,t){var a=e.dealerName;this.showPop=!1,this.currentValue=a,this.$emit("input",a)},getDealer:function(){var e=this,t=[];return this.srhInpTx&&(t=[{operator:"like",value:this.srhInpTx,property:"dealerName"}]),(0,p.getObjDealerByLabelName)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,dealerLabelName:this.dealerLabelName,filter:(0,o.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,s=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+s.length,e.dealerList=1===e.page?s:[].concat((0,r.default)(e.dealerList),(0,r.default)(s)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})}).catch(function(e){m.default.show({content:e.message})})},onPullingUp:function(){this.page++,this.getDealer()},itemClick:function(){this.showPop=!0},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.dealerList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getDealer()}},created:function(){this.getDealer(),this.currentValue=this.value}}},ucqF:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("ZLEe"),r=n(i),s=a("HXPS"),o=n(s),l=a("Lmo3"),d=n(l),u=a("z5TY"),c=n(u),f=a("xZPP"),m=n(f),h=a("j51P"),v=n(h),p=a("kNGm"),C=n(p);t.default={name:"datetime",mixins:[v.default],components:{Group:c.default,InlineDesc:m.default,Icon:o.default},props:{format:{type:String,default:"YYYY-MM-DD",validator:function(e){return!0}},title:String,value:{type:String,default:""},inlineDesc:String,placeholder:String,minYear:Number,maxYear:Number,confirmText:String,cancelText:String,clearText:String,yearRow:{type:String,default:"{value}"},monthRow:{type:String,default:"{value}"},dayRow:{type:String,default:"{value}"},hourRow:{type:String,default:"{value}"},minuteRow:{type:String,default:"{value}"},required:{type:Boolean,default:!1},minHour:{type:Number,default:0},maxHour:{type:Number,default:23},startDate:{type:String,validator:function(e){return!e||10===e.length}},endDate:{type:String,validator:function(e){return!e||10===e.length}},valueTextAlign:String,displayFormat:Function,readonly:Boolean,hourList:Array,minuteList:Array,show:Boolean,defaultSelectedValue:String,computeHoursFunction:Function,computeDaysFunction:Function,orderMap:Object},created:function(){this.isFirstSetValue=!1,this.currentValue=this.value},data:function(){return{currentShow:!1,currentValue:null,valid:!0,errors:{}}},mounted:function(){var e=this,t=this.uuid;this.$el.setAttribute("id","vux-datetime-"+t),this.readonly||this.$nextTick(function(){e.render(),e.show&&e.$nextTick(function(){e.picker&&e.picker.show(e.currentValue)})})},computed:{styles:function(){return this.$parent?{width:this.$parent.labelWidth,textAlign:this.$parent.labelAlign,marginRight:this.$parent.labelMarginRight}:{}},pickerOptions:function(){var e=this,t={trigger:"#vux-datetime-"+this.uuid,format:this.format,value:this.currentValue,output:".vux-datetime-value",confirmText:e.getButtonText("confirm"),cancelText:e.getButtonText("cancel"),clearText:e.clearText,yearRow:this.yearRow,monthRow:this.monthRow,dayRow:this.dayRow,hourRow:this.hourRow,minuteRow:this.minuteRow,minHour:this.minHour,maxHour:this.maxHour,startDate:this.startDate,endDate:this.endDate,hourList:this.hourList,minuteList:this.minuteList,defaultSelectedValue:this.defaultSelectedValue,computeHoursFunction:this.computeHoursFunction,computeDaysFunction:this.computeDaysFunction,orderMap:this.orderMap||{},onSelect:function(t,a,n){e.picker&&e.picker.config.renderInline&&(e.$emit("input",n),e.$emit("on-change",n))},onConfirm:function(t){e.currentValue=t},onClear:function(t){e.$emit("on-clear",t)},onHide:function(t){e.currentShow=!1,e.$emit("update:show",!1),e.validate(),e.$emit("on-hide",t),"cancel"===t&&e.$emit("on-cancel"),"confirm"===t&&setTimeout(function(){e.$nextTick(function(){e.$emit("on-confirm",e.value)})})},onShow:function(){e.currentShow=!0,e.$emit("update:show",!0),e.$emit("on-show")}};return this.minYear&&(t.minYear=this.minYear),this.maxYear&&(t.maxYear=this.maxYear),t},firstError:function(){var e=(0,r.default)(this.errors)[0];return this.errors[e]},labelClass:function(){return this.$parent?{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}:{}}},methods:{getButtonText:function(e){return"cancel"===e&&this.cancelText?this.cancelText:"confirm"===e&&this.confirmText?this.confirmText:this.$el.getAttribute("data-"+e+"-text")},render:function(){var e=this;this.$nextTick(function(){e.picker&&e.picker.destroy(),e.picker=new d.default(e.pickerOptions)})},validate:function(){if(!this.currentValue&&this.required)return this.valid=!1,void(this.errors.required="必填");this.valid=!0,this.errors={}}},watch:{readonly:function(e){e?this.picker&&this.picker.destroy():this.render()},show:function(e){e!==this.currentShow&&(e?this.picker&&this.picker.show(this.currentValue):this.picker&&this.picker.hide(this.currentValue))},currentValue:function(e,t){this.$emit("input",e),this.isFirstSetValue?this.$emit("on-change",e):(this.isFirstSetValue=!0,t&&this.$emit("on-change",e)),this.validate()},startDate:function(){this.render()},endDate:function(){this.render()},format:function(e){this.currentValue&&(this.currentValue=(0,C.default)(this.currentValue,e)),this.render()},value:function(e){if(this.readonly||this.picker&&this.picker.config.renderInline)return void(this.currentValue=e);this.currentValue!==e&&(this.currentValue=e,this.render())}},beforeDestroy:function(){this.picker&&this.picker.destroy()}}},"uf/a":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"finance-list-item",class:{visited:e.item.visited}},[a("div",{staticClass:"order-top vux-1px-b"},[a("div",{staticClass:"order_code"},[a("span",{staticClass:"code vux-1px-l"},[e._v(e._s(e.item.transCode))]),e._v(" "),a("span",{staticClass:"status",class:e.item.statusClass},[e._v(e._s(e.item.biStatus))])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isHasCount,expression:"isHasCount"}],staticClass:"order_amount"},[a("p",{staticClass:"amount"},[e._v("总支付￥"+e._s(e._f("numberComma")(e._f("toFixed")(e.item.count),3)))]),e._v(" "),a("p",{staticClass:"num"},[e._v("共"+e._s(e.item.itemCount)+"笔")])])]),e._v(" "),a("ul",{staticClass:"order-cost"},e._l(e.item.detailItem,function(t,n){return a("li",{key:n,staticClass:"each_cost",class:{"vux-1px-b":n<e.item.detailItem.length-1}},[a("div",{staticClass:"cost_name"},[a("span",{staticClass:"name"},[e._v(e._s(t.costName_expCode||t.dealerName_dealerCodeCredit))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.expSubject,expression:"mItem.expSubject"}],staticClass:"type"},[e._v("科目："+e._s(t.expSubject))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.costType_expCod,expression:"mItem.costType_expCod"}],staticClass:"type"},[e._v("类型："+e._s(t.costType_expCode))])]),e._v(" "),a("div",{staticClass:"cost_amount"},[e._t("cost_info",[a("div",{staticClass:"each_amount"},[a("span",{staticClass:"money"},[e._v("￥"+e._s(e._f("numberComma")(t.noTaxAmount)))]),e._v(" "),a("span",{staticClass:"title"},[e._v("抵扣后金额")])]),e._v(" "),a("div",{staticClass:"each_amount"},[a("span",{staticClass:"money"},[e._v("￥"+e._s(e._f("numberComma")(t.taxAmount)))]),e._v(" "),a("span",{staticClass:"title"},[e._v("可抵扣税金")])]),e._v(" "),a("div",{staticClass:"each_amount"},[a("span",{staticClass:"money"},[e._v("￥"+e._s(e._f("numberComma")(t.tdAmount)))]),e._v(" "),a("span",{staticClass:"title"},[e._v("申请金额")])])],{mItem:t})],2)])}),0),e._v(" "),a("div",{staticClass:"order-creator"},[a("div",{staticClass:"creator"},[a("span",{staticClass:"icon icon-handler"}),e._v(" "),a("span",[e._v("经办人："+e._s(e.item.handlerName))])]),e._v(" "),a("div",{staticClass:"creator modTime"},[a("span",{staticClass:"icon icon-mod-time"}),e._v(" "),a("span",[e._v("修改时间："+e._s(e._f("dateFormat")(e.item.modTime,"YYYY-MM-DD HH:mm")))])])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},ukfH:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MjAd"),r=n(i),s=(a("vS5q"),a("4bt0")),o=n(s);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2545,chartShow:!1,hasNext:!0,scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0}}},components:{ApplyChart:o.default},mixins:[r.default],methods:{}}},umED:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("KH7x"),r=n(i),s=a("4YfN"),o=n(s),l=a("a3Yh"),d=n(l),u=a("3cXf"),c=n(u),f=a("BGNQ"),m=n(f),h=a("z5TY"),v=n(h),p=a("SAzG"),C=n(p),y=a("7g+Q"),_=n(y),g=a("PzEQ"),b=n(g),w=a("jnZd"),I=n(w),x=a("0AQX"),D=a("HyXB"),P=(a("jLp1"),a("bKg5")),S=n(P),k=a("55ug"),L=n(k),N=a("CKaN"),M=n(N),T=a("gk4f"),A=n(T),O=a("vl8n"),R=n(O),j=a("+WR7"),B=n(j),E=a("zWMP"),F=a("Qg39");t.default={mixins:[S.default],components:{Cell:m.default,Group:v.default,Popup:_.default,XInput:C.default,XTextarea:b.default,PopupPicker:I.default,RPicker:R.default,PopBaseinfo:B.default,PopDealerList:L.default,PopCashList:M.default,PopOrderList:A.default},data:function(){return{listId:"c930267f-66fd-4927-983b-0216ef9449b3",biReferenceId:"",selectedCost:[],costIndex:0,transCode:"",formData:{biComment:""},dealerInfo:{},showOrder:!1,dealerParams:{},orderList:[],cashInfo:{}}},computed:{applicationAmount:function(){var e=0;return this.orderList.forEach(function(t){t.applicationAmount&&(e=(0,E.accAdd)(e,t.applicationAmount))}),(0,F.toFixed)(e)},tdAmountCopy1:function(){var e=0;return this.orderList.forEach(function(t){t.tdAmount&&(t.differenceAmount=(0,E.accAdd)(t.thenAmntBal,t.tdAmount),e=(0,E.accAdd)(e,t.tdAmount))}),(0,F.toFixed)(e)},differenceAmount:function(){var e=0;return this.dealerInfo.amntBal&&(e=(0,E.accAdd)(this.tdAmountCopy1,this.dealerInfo.amntBal)),(0,F.toFixed)(e)}},methods:{submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerCode||(t="请选择供应商"),t||this.orderList.length||(t="请选择欠款明细"),t||this.orderList.every(function(e){return e.popiCode?(a.push({tdId:e.tdId||"",transMatchedCode:e.popiCode,orderCode:e.poCode,thenTotalAmntBal:e.thenTotalAmntBal,thenAlreadyAmnt:e.thenAlreadyAmnt,thenAmntBal:e.thenAmntBal,accountExpirationDate:e.accountExpirationDate,daysOfAccount:e.daysOfAccount,ageOfAging:e.ageOfAging,accountRemaingDays:e.accountRemaingDays,invoiced:e.invoicing,pendingTicket:e.invoiced,applicationAmount:e.applicationAmount,tdAmount:e.tdAmount,differenceAmount:e.differenceAmount}),!0):(t="请选择采购入库号",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=D.saveAndStartWf,n=(0,d.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,c.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={dealerName_dealerDebit:e.dealerInfo.nickname,dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,thenAmntBalCopy1:e.dealerInfo.amntBal,applicationAmount:e.applicationAmount,tdAmountCopy1:e.tdAmountCopy1,differenceAmount:e.differenceAmount},r={fundName_cashOutCode:e.cashInfo.fundName,cashOutCode:e.cashInfo.fundCode,cashType_cashOutCode:e.cashInfo.fundType,thenAmntBal:e.cashInfo.thenAmntBal,tdAmount:e.cashInfo.tdAmount};e.transCode&&(i.tdIdCopy1=e.dealerInfo.tdIdCopy1,r.tdId=e.cashInfo.tdId);var s={listId:e.listId,biComment:e.formData.biComment,formData:(0,c.default)((0,o.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",inPut:{dataSet:[i]},order:{dataSet:a},outPut:{dataSet:[r]}})),wfPara:(0,c.default)(n)};e.isResubmit&&(s.biReferenceId=e.biReferenceId,t=D.saveAndCommitTask),e.processCode.length||(t=D.submitAndCalc,delete s.wfPara,delete s.biReferenceId),e.biReferenceId&&(s.biReferenceId=e.biReferenceId),e.saveData(t,s)}})},getFormData:function(){var e=this;return(0,x.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.attachment,n=void 0===a?[]:a,i=t.listId,s=void 0===i?"":i,l=(t.biComment,t.biReferenceId),d=void 0===l?"":l,u=t.formData,c=void 0===u?{}:u;e.attachment=n,e.listId=s,e.biReferenceId=d,e.handlerDefault={handler:c.handler,handlerName:c.handlerName,handlerUnit:c.handlerUnit,handlerUnitName:c.handlerUnitName,handlerRole:c.handlerRole,handlerRoleName:c.handlerRoleName},e.formData=(0,o.default)({},e.formData,e.handlerDefault,{biComment:c.biComment,biId:c.biId,biProcessStatus:c.biProcessStatus,creator:c.creator,modifer:c.modifer});var f=c.order.dataSet,m=void 0===f?[]:f,h=c.inPut.dataSet,v=void 0===h?[]:h,p=c.outPut.dataSet,C=void 0===p?[]:p,y=(0,r.default)(v,1),_=y[0],g=void 0===_?{}:_,b=(0,r.default)(C,1),w=b[0],I=void 0===w?{}:w;m.forEach(function(e){e.popiCode=e.transMatchedCode,e.poCode=e.orderCode,e.invoicing=e.invoiced}),e.dealerInfo=(0,o.default)({},g,{nickname:g.dealerName_dealerDebit,dealerCode:g.dealerDebit,dealerLabelName:g.drDealerLabel,amntBal:g.thenAmntBalCopy1}),e.cashInfo=(0,o.default)({},I,{fundName:I.fundName_cashOutCode,fundCode:I.cashOutCode,fundType:I.cashType_cashOutCode}),e.orderList=m,e.$loading.hide()})},hasDraftData:function(){return!!this.dealerInfo.dealerCode&&(0,d.default)({},"FGYSQK_DATA",{formData:this.formData,dealerInfo:this.dealerInfo,orderList:this.orderList,cashInfo:this.cashInfo})},getRelationData:function(){},selDealer:function(e){this.dealerInfo=(0,o.default)({},e),this.dealerParams={dealerCode:e.dealerCode}},selOrder:function(e){this.orderList=JSON.parse(e),this.orderList},selCash:function(e){this.cashInfo=(0,o.default)({},e)},addOrder:function(){this.showOrder=!0},checkAmt:function(e,t){switch(e){case"tdAmount":this.cashInfo.tdAmount=(0,F.toFixed)(this.cashInfo.tdAmount);break;default:e[t]=(0,F.toFixed)(e[t])}}},created:function(){var e=sessionStorage.getItem("FGYSQK_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.orderList=t.orderList,this.cashInfo=t.cashInfo,this.dealerParams={dealerCode:this.dealerInfo.dealerCode},sessionStorage.removeItem("FGYSQK_DATA")}}}},upxC:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vux-x-dialog",class:{"vux-x-dialog-absolute":"VIEW_BOX"===e.layout}},[a("transition",{attrs:{name:e.maskTransition}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"weui-mask",style:e.maskStyle,on:{click:e.hide}})]),e._v(" "),a("transition",{attrs:{name:e.dialogTransition}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],class:e.dialogClass,style:e.dialogStyle},[e._t("default")],2)])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},uqrF:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("KH7x"),o=n(s),l=a("Jwlx"),d=n(l),u=a("kpbF"),c=a("1KNX"),f=n(c),m=a("Qg39"),h=(a("zWMP"),a("iR2W")),v=n(h);t.default={name:"ZCFZForm",data:function(){return{headerSwiper:null,partRightSwiper:null,code:"",headInfo:{},listData:{},listMap:{ZCFZ:{title:"资产负债表",firstName:"期初",LastName:"期末",request:u.getOffBalance},LR:{title:"利润表",firstName:"上期",LastName:"本期",request:u.getProfit}},scrollOptions:{bounce:{top:!1}}}},components:{RScroll:f.default},methods:{getData:function(){var e=this;return this.listMap[this.code].request().then(function(t){var a=t.data,n=void 0===a?[]:a,i={};n.forEach(function(e){var t=i[e.assetType];t?t.items.push((0,d.default)(e)):i[e.assetType]={assetType:e.assetType,items:[(0,d.default)(e)]}}),e.listData=i,e.$nextTick(function(){e.setHeight(e.$refs.partLeftContent,e.$refs.partRightInit,e.$refs.partRightFinal),"ZCFZ"===e.code&&e.setHeight(e.$refs.partLeftTitle,e.$refs.partRightInitTitle,e.$refs.partRightFinalTitle),e.$loading.hide()})})},setHeight:function(e){for(var t=arguments.length,a=Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];var i=(0,o.default)(a,1),r=i[0];e&&e.forEach(function(e,t){var n=r[t];e.clientHeight!==n.clientHeight&&a.forEach(function(a){a[t].style.height=e.clientHeight+"px"})})},initSwiper:function(){var e=this;this.$nextTick(function(){e.partRightSwiper=new e.Swiper(".part-right"),e.headerSwiper=new e.Swiper(".swiper-container-header"),e.partRightSwiper.controller.control=e.headerSwiper,e.headerSwiper.controller.control=e.partRightSwiper})}},filters:{formatNum:function(e){return e?(0,v.default)((0,m.toFixed)(e))+"元":"-"}},created:function(){var e=this.$route.query.code,t=void 0===e?"":e;this.code=t,this.headInfo=(0,r.default)({},this.listMap[t]),this.initSwiper(),this.getData()}}},uu7l:function(e,t){},uvT0:function(e,t,a){"use strict";function n(e){a("vVIY")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("9dj2");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("/TT8"),o=a.n(s),l=a("7xxm"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-5e871920",null);t.default=c.exports},uveB:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noCount:"",noPrice:""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},uzoC:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HXPS"),r=n(i),s=a("9r/T"),o=a("87dP"),l=n(o);t.default={name:"RSearch",props:{isFill:{type:Boolean,default:!1},filterList:{type:Array,default:function(){return[]}}},watch:{isShowDrop:{handler:function(e){var t=this;this.$event.$on("shut-down-filter",function(e){t.isShowDrop=e,t.$event.$off("shut-down-filter")})}}},data:function(){return{srhInpTx:"",timer:null,property:"",isShowDrop:!1}},components:{Icon:r.default,RDropdown:l.default},methods:{getValue:function(e){var t=this;(0,s.setTimeout)(function(){t.srhInpTx=e.target.value,t.isFill&&!t.srhInpTx&&t.$emit("search",{val:t.srhInpTx,property:t.property})},0)},searchMat:function(e){if(this.isFill&&!e)return this.isShowDrop=!1,void this.$emit("turn-off",!1);this.$emit("search",{val:this.srhInpTx,property:this.property}),document.activeElement.blur(),this.isShowDrop=!1},clear:function(){this.srhInpTx="",this.$emit("search",{val:this.srhInpTx,property:this.property})},popSelected:function(e){this.property=e.value,this.$refs.searchInp.focus()},clearVal:function(){this.srhInpTx=""}}}},"v/5J":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Iu/6"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"loading",data:function(){return{show:!1}},components:{Spinner:i.default}}},v2Hn:function(e,t){},v3Wb:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("project-part",{attrs:{"project-info":e.orderInfo.order}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_part"},[e._m(0),e._v(" "),a("div",{staticClass:"form_content"},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"供应商名称",cellContent:e.dealerInfo.dealerName_dealerDebit,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"供应商编码",cellContent:e.dealerInfo.dealerDebit}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来关系标签",cellContent:e.dealerInfo.drDealerLabel}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来余额",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.thenAmntBalCopy1),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次申请",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.applicationAmount),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次支付",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.tdAmountCopy1),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次支付后余额",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.differenceAmount),3),showSymbol:""}})],1)])]),e._v(" "),a("div",{staticClass:"form_part"},[e._m(1),e._v(" "),e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"form_content",class:{show_border:n!==e.listData.length-1}},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"协议号",cellContent:t.transMatchedCode,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"总金额",cellContent:e._f("numberComma")(e._f("toFixed")(t.thenTotalAmntBal),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"采购定金",cellContent:e._f("numberComma")(e._f("toFixed")(t.differenceAmountCopy1),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"已付定金",cellContent:e._f("numberComma")(e._f("toFixed")(t.thenAlreadyAmnt),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"待付定金",cellContent:e._f("numberComma")(e._f("toFixed")(t.thenAmntBalCopy2),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次申请",cellContent:e._f("numberComma")(e._f("toFixed")(t.applicationAmount),3),showSymbol:""}}),e._v(" "),e.isAccount?a("x-input",{attrs:{type:"number",title:"本次支付",value:e.dealerInfo.tdAmountCopy1,"text-align":"right"},on:{"on-focus":e.getFocus,"on-blur":function(t){e.calcPayment(e.dealerInfo)}},model:{value:e.dealerInfo.tdAmountCopy1,callback:function(t){e.$set(e.dealerInfo,"tdAmountCopy1",e._n(t))},expression:"dealerInfo.tdAmountCopy1"}}):a("form-cell",{attrs:{cellTitle:"本次支付",cellContent:e._f("numberComma")(e._f("toFixed")(t.tdAmountCopy1),3),showSymbol:""}})],1)])})],2),e._v(" "),e.isCashier?a("pop-cash-list",{attrs:{"default-value":e.cashInfo,request:"1",params:e.cashParams,required:""},on:{"sel-item":e.selCash}},[a("template",{slot:"other"},[a("form-cell",{attrs:{cellTitle:"本次支付",cellContent:e._f("numberComma")(e._f("toFixed")(e.cashInfo.tdAmount),3),showSymbol:""}})],1)],2):e.isApproval||e.isAccount?e._e():a("div",{staticClass:"form_part"},[a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("供资金详情")])]),e._v(" "),a("div",{staticClass:"form_content"},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"资金账户",cellContent:e.cashInfo.fundName_cashOutCode,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"资金编码",cellContent:e.cashInfo.cashOutCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"资金账户类型",cellContent:e.cashInfo.cashType_cashOutCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"账户余额",cellContent:e._f("numberComma")(e._f("toFixed")(e.cashInfo.thenAmntBal),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"支付金额",cellContent:e._f("numberComma")(e._f("toFixed")(e.cashInfo.tdAmount),3),showSymbol:""}})],1)])]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,"agree-handler":e.agreeHandler,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("供应商详情")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("定金列表")])])}],r={render:n,staticRenderFns:i};t.a=r},v4O2:function(e,t,a){"use strict";function n(e){a("yilP")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("6B8Z");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("iC32"),o=a.n(s),l=a("flGB"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-6a00a3b8",null);t.default=c.exports},v8BB:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("HyXB"),v=a("1KNX"),p=n(v),C=a("7biW"),y=n(C);t.default={name:"PopUserList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:m.default,RScroll:p.default,RSearch:y.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:100,page:1,hasNext:!0,scrollOptions:{pullUpLoad:!0},filterProperty:"",filterList:[{name:"姓名",value:"nickname"},{name:"工号",value:"userCode"}]}},watch:{show:{handler:function(e){this.showPop=e},immediate:!0},defaultValue:{handler:function(e){this.selItems=(0,d.default)({},this.defaultValue)},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){return this.selItems.userCode===e.userCode},selThis:function(e,t){this.selItems=(0,d.default)({},e),this.$emit("sel-item",(0,d.default)({},e)),this.$emit("input",!1)},getDefaultImg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.gender,n=void 0===t?"":t,i=a("男"===n?"Fuf7":"0gu7");return e&&(e.photo=i),i},getUserList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,h.getUserList)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i,s={1:{text:"使用中",class:"inUse"},2:{text:"未使用",class:"unUse"},3:{text:"草稿",class:"offUse"},"-1":{text:"停用",class:"offUse"}};r.forEach(function(t){var a=s[t.status]||{};t.photo=t.photo||e.getDefaultImg(t),t.statusText=a.text,t.statusClass=a.class}),e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,o.default)(e.listData),(0,o.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.resetCondition(),this.getUserList()},onPullingUp:function(){this.page++,this.getUserList()},resetCondition:function(){this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)}},created:function(){this.getUserList()}}},vGnC:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"vux-flexbox-item",style:e.style},[e._t("default")],2)},i=[],r={render:n,staticRenderFns:i};t.a=r},vJJz:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,defaultContact:e.contact,dealerTitle:"供应商","dealer-params":e.dealerParams},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("dealer-other-part",{attrs:{"dealer-config":e.dealerConfig,"dealer-info":e.dealerInfo}}),e._v(" "),a("div",{staticClass:"materiel_list"},[e.matterList.length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.matterList,function(t,n){return a("div",{key:n,staticClass:"each_mater",class:{mater_delete:e.matterModifyClass,"vux-1px-b":n<e.matterList.length-1}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass,config:e.matterEditConfig.property},on:{"on-modify":function(a){e.modifyMatter(t,n)}},nativeOn:{click:function(a){e.delClick(t,n)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[n.price&&n.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price)+"\n                    ")]),e._v(" "),a("div",[a("r-number",{attrs:{num:n.tdQty,checkAmt:e.checkAmt},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",t)},expression:"item.tdQty"}})],1)]):e._e()]}},{key:"editPart",fn:function(t){var i=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:i.price&&i.tdQty&&!e.matterModifyClass,expression:"(item.price && item.tdQty) &&!matterModifyClass"}],staticClass:"edit-part vux-1px-l",on:{click:function(t){e.modifyMatter(i,n)}}},[a("span",{staticClass:"iconfont icon-bianji1"})])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(t,n)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)}),0)]:[a("div",{on:{click:function(t){e.showMaterielPop=!e.showMaterielPop}}},[a("div",{staticClass:"title"},[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择"+e._s(e.orderListTitle))]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),e.matterList.length?a("span",{staticClass:"add_more",on:{click:e.addMatter}},[e._v("新增更多物料")]):e._e()]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showMaterielPop,"default-value":e.matterList,config:e.matterPopConfig,"matter-params":e.matterParams},on:{"sel-matter":e.selMatter},model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}})],2),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,"is-check-stock":!1,config:e.matterEditConfig},on:{"sel-confirm":e.selConfirm},model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-circle-outline 'outline' v-show=selItems.length !== matterList.length",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num"},[a("span",{staticStyle:{fontSize:".14rem"}},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.tdAmount,3))+"\n      "),a("span",{staticClass:"taxAmount"},[e._v("[含税: ￥"+e._s(e._f("numberComma")(e.taxAmount,3))+"]")])]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},vJe9:function(e,t,a){"use strict";function n(e){a("wEsH")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("aP/0");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("DQPj"),o=a.n(s),l=a("tMHY"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-af33d588",null);t.default=c.exports},vKv4:function(e,t){},vLAJ:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages xsbj-list-conatiner",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noQty:"",noCount:""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},vLlS:function(e,t){},vQom:function(e,t){},vS5q:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.filterFields=t.getWareHouseType=t.getWarehouse=t.getAuthorizedList=t.getDashboard=t.getNBJGLLOrderList=t.getBusinessList=t.getMaterOrderList=t.getSalesOrderList=t.getSellOrderList=t.getList=void 0;var i=a("4YfN"),r=n(i),s=a("GOq4"),o=n(s),l=t.getList=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.ajax({url:"/H_roleplay-si/seconds/getReportInfoByListViewId/"+e,data:t})},d=t.getSellOrderList=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.ajax({url:"/H_roleplay-si/seconds/mergeDetailItemList/"+e,data:t})},u=(t.getSalesOrderList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getSalesOutStock",data:(0,r.default)({_dc:Date.now()},e)})},t.getMaterOrderList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getInvRequirePlan",data:(0,r.default)({_dc:Date.now()},e)})},t.getBusinessList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getFilterBusiness",data:e})}),c=(t.getNBJGLLOrderList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getProcessingPicking",data:e})},t.getDashboard=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getSellOrderStatement",data:e})});t.getAuthorizedList=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.default.ajax({url:"/H_roleplay-si/ds/getAllGroup",data:{_dc:Date.now(),page:1,start:0,limit:1e4}})},t.getWarehouse=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getObjWarehouse",data:(0,r.default)({_dc:Date.now()},e)})},t.getWareHouseType=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getWareHouseType",data:(0,r.default)({_dc:Date.now()},e)})},t.filterFields=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return o.default.ajax({url:"/H_roleplay-si/seconds/getInstanceDistinct/"+e})};t.default={getList:l,getSellOrderList:d,getBusinessList:u,getDashboard:c}},"vT2+":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("kKsb"),p=n(v),C=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70"}},mixins:[u.default],components:{workFlow:h.default,RAction:f.default,ProjectPart:p.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=!0,i=!1,s=void 0;try{for(var l,d=(0,r.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;e.count=(0,C.accAdd)(e.count,u.tdAmount)}}catch(e){i=!0,s=e}finally{try{!n&&d.return&&d.return()}finally{if(i)throw s}}t.formData.validUntil=(0,o.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},vVIY:function(e,t){},"vW/T":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("hRKE"),r=n(i),s=a("4YfN"),o=n(s),l=a("BGNQ"),d=n(l),u=a("7g+Q"),c=n(u),f=a("rDF8"),m=n(f),h=a("GM4P"),v=n(h),p=a("803w"),C=n(p),y=a("+62G"),_=n(y),g=a("qZvt"),b=n(g),w=(0,C.default)();delete w.value,t.default={name:"popup-radio",components:{Popup:c.default,Radio:m.default,Cell:d.default},directives:{TransferDom:_.default},props:(0,o.default)({placeholder:String,readonly:Boolean},w,(0,v.default)()),computed:{displayValue:function(){var e=this;if(!this.options.length)return"";if("object"===(0,r.default)(this.options[0])){var t=(0,b.default)(this.options,function(t){return t.key===e.currentValue});if(t)return t.value}return this.currentValue}},methods:{onValueChange:function(e){this.hide()},show:function(){this.readonly||(this.showPopup=!0)},hide:function(){this.showPopup=!1}},watch:{value:function(e){this.currentValue=e},currentValue:function(e){this.$emit("input",e),this.$emit("on-change",e)}},data:function(){return{showPopup:!1,currentValue:this.value}}}},"vW5/":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("3cXf"),o=n(s),l=a("+62G"),d=n(l),u=a("7g+Q"),c=n(u),f=a("z5TY"),m=n(f),h=a("HXPS"),v=n(h),p=a("d5Kw"),C=n(p),y=a("kNGm"),_=n(y),g=a("1KNX"),b=n(g),w=a("I8ug"),I=a("9r/T");t.default={name:"ChangeLog",props:{handle:{type:Boolean,default:!1}},data:function(){return{page:1,limit:10,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},mySwiper:null,popupShow:!1,adminCommentList:[],listId:"a4897429-f4f2-44a4-ade7-2fe8dc67c3cf",scrollHeight:0,seletedIndex:null}},directives:{TransferDom:d.default},components:{Popup:c.default,Group:m.default,Icon:v.default,XButton:C.default,RScroll:b.default},filters:{handerTime:function(e){return(0,_.default)(e,"YYYY-MM")}},methods:{onShow:function(){var e=this;this.$nextTick(function(){if(e.$refs.bScroll){e.$refs.bScroll.refresh();var t=e.$refs.bScroll.$refs.bScroll.offsetHeight,a=e.$refs.bScroll.$refs.scrollWrapper.offsetHeight,n=a-t;a>t&&(e.scrollHeight>n&&(e.scrollHeight=n),e.$refs.bScroll.scrollTo(0,-e.scrollHeight))}}),(0,I.setTimeout)(function(){e.seletedIndex=null},1e3)},getUserDefault:function(e){var t=a("Fuf7");return e&&(e.photo=t),t},getMoreComment:function(){this.popupShow=!0,this.scrollHeight=0},goPop:function(e){var t=this;this.seletedIndex=e,this.popupShow=!0,this.scrollHeight=0,this.$nextTick(function(){0!==e&&t.$refs.eachComment.forEach(function(a,n){n<e&&(t.scrollHeight+=a.offsetHeight)})})},getAdminComment:function(){var e=this;return(0,w.getAdminCommentList)({listId:this.listId,limit:this.limit,page:this.page,sort:(0,o.default)([{property:"crtTime",direction:"DESC"}])}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,s=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+s.length,s.forEach(function(e){e.achievement.includes("<")&&!e.achievement.includes("img")?(e.modifyAchievement=e.achievement.replace(/<\/?[^>]*>/g,""),e.modifyAchievement=e.modifyAchievement.replace(/\s+/g,"</br>")):e.modifyAchievement=e.achievement,e.chance.includes("<")&&!e.chance.includes("img")?(e.modifyChance=e.chance.replace(/<\/?[^>]*>/g,""),e.modifyChance=e.modifyChance.replace(/\s+/g,"</br>")):e.modifyChance=e.chance}),e.adminCommentList=1===e.page?s:[].concat((0,r.default)(e.adminCommentList),(0,r.default)(s)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},onPullingUp:function(){this.page++,this.getAdminComment()},closePop:function(){this.popupShow=!1},EditAdmin:function(){this.$router.push({path:"/appDetail/"+this.listId+"/addAdminComment"})}},created:function(){var e=this.$route.params.listId;e&&(this.listId=e,this.getAdminComment())},mounted:function(){var e=this.Swiper;this.mySwiper=new e(".admin-comment-container",{slidesPerView:"auto",observer:!0,observeParents:!0,centeredSlides:!0})}}},vWgl:function(e,t,a){"use strict";function n(e){a("vs2b")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("rLJd");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("fu+O"),o=a.n(s),l=a("jZUV"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-0e562c6f",null);t.default=c.exports},vhi9:function(e,t){},vio6:function(e,t){},vj7a:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("3cXf"),o=n(s),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("u28h"),C=n(p),y=a("PzEQ"),_=n(y),g=a("kNGm"),b=(n(g),a("0AQX"),a("HyXB")),w=a("bKg5"),I=n(w),x=a("vl8n"),D=n(x),P=a("+WR7"),S=n(P);t.default={data:function(){return{listId:"223f9387-d2d7-11e8-b8ca-0279b2c6a380",formData:{biId:"",biComment:"",biProcessStatus:""},biReferenceId:"",MobileWarn:!1,idCardWarn:!1}},components:{Cell:c.default,Group:m.default,XInput:v.default,Datetime:C.default,XTextarea:_.default,RPicker:D.default,PopBaseinfo:S.default},mixins:[I.default],methods:{checkMobile:function(){var e=/^[1][3,4,5,7,8][0-9]{9}$/;if(this.formData.profileContact&&!e.test(this.formData.profileContact))return void(this.MobileWarn=!0);this.MobileWarn=!1},checkIdCard:function(){var e=/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/;if(this.formData.idCard&&!e.test(this.formData.idCard))return void(this.idCardWarn=!0);this.idCardWarn=!1},submitOrder:function(){var e=this,t="",a=[{key:"profileName",message:"员工"},{key:"idCard",message:"身份证号"}];if(t||a.every(function(a){return!!e.formData[a.key]||(t="请填写"+a.message,!1)}),!t&&this.MobileWarn&&(t="联系方式格式不正确"),!t&&this.idCardWarn&&(t="身份证号格式不正确"),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=b.saveAndStartWf,a=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName}),n={listId:e.listId,biComment:"",formData:(0,o.default)(a)};e.isResubmit&&(t=b.saveAndCommitTask,n.biReferenceId=e.biReferenceId,n.wfPara=(0,o.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=b.submitAndCalc,delete n.wfPara,delete n.biReferenceId),e.biReferenceId&&(n.biReferenceId=e.biReferenceId),e.saveData(t,n)}})},hasDraftData:function(){var e=this.formData;if(e.profileName||e.idCard)return(0,r.default)({},"YGDA_DATA",{formData:e})}},created:function(){var e=sessionStorage.getItem("YGDA_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,sessionStorage.removeItem("YGDA_DATA")}}}},vl8n:function(e,t,a){"use strict";function n(e){a("IMPq")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("KnX9");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("u+pL"),o=a.n(s),l=a("LOzK"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-77f250b1",null);t.default=c.exports},vmwj:function(e,t,a){"use strict";function n(e){a("7Y5m")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("S4+1");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("ij6Q"),o=a.n(s),l=a("vqdV"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-9d1ae304",null);t.default=c.exports},vqdV:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-part"},[a("div",{staticClass:"app-container"},[e._m(0),e._v(" "),a("div",{staticClass:"app-list"},e._l(e.BasicApps,function(t,n){return a("div",{key:n,staticClass:"indval_app",on:{click:function(a){e.goBasic(t.listId)}}},[a("div",{staticClass:"app_img"},[a("img",{attrs:{src:t.icon},on:{error:function(a){e.getDefaultIcon(t)}}})]),e._v(" "),a("div",{staticClass:"app_info vux-1px-b"},[a("div",{staticClass:"app_name"},[e._v(e._s(t.text))]),e._v(" "),a("div",{staticClass:"app_detail_btn",on:{click:function(a){a.stopPropagation(),e.goAppDetail(t.listId)}}},[e._v("应用详情")])])])}),0)])])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app_classify_name"},[a("p",[e._v("基础对象")])])}],r={render:n,staticRenderFns:i};t.a=r},vrxI:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("a3Yh"),o=n(s),l=a("3cXf"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("7g+Q"),C=n(p),y=a("PzEQ"),_=n(y),g=a("jnZd"),b=n(g),w=a("u28h"),I=n(w),x=a("kNGm"),D=n(x),P=a("iR2W"),S=n(P),k=a("0AQX"),L=a("HyXB"),N=(a("jLp1"),a("bKg5")),M=n(N),T=a("wuIh"),A=n(T),O=a("CKaN"),R=n(O),j=a("vl8n"),B=n(j),E=a("+WR7"),F=n(E),U=(a("zWMP"),a("Qg39"));t.default={mixins:[M.default],components:{Cell:c.default,Group:m.default,Popup:C.default,XInput:v.default,XTextarea:_.default,PopupPicker:b.default,RPicker:B.default,PopBaseinfo:F.default,PopMoneyOrderList:A.default,Datetime:I.default,PopCashList:R.default},data:function(){return{listId:"bb9ce973-2f62-4707-a54c-7e8605dc99d6",biReferenceId:"",selectedCost:[],costIndex:0,transCode:"",formData:{biComment:"",biProcessStatus:""},showOrder:!1,orderList:[],cashInfo:{}}},filters:{numberComma:S.default,dateFormat:D.default},methods:{submitOrder:function(){var e=this,t="",a=[];if(t||this.orderList.length||(t="请选择汇票明细"),t||this.cashInfo.fundName||(t="请选择资金账户"),t||this.cashInfo.tdAmount||(t="请填写支付金额"),t)return void this.$vux.alert.show({content:t});this.orderList.every(function(e){a.push({tdId:e.tdId||null,draftNumber:e.draftNumber,draftType:e.draftType,accepter:e.accepter,tdAmount:e.tdAmount,deposit:e.deposit,draftDate:e.draftDate,draftDueDate:e.draftDueDate,comment:e.comment||""})}),this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=L.saveAndStartWf,n=(0,o.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,d.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.formData.biComment,formData:(0,d.default)((0,r.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",outPut:{dataSet:[{fundName_cashOutCode:e.cashInfo.fundName,cashOutCode:e.cashInfo.fundCode,cashType_cashOutCode:e.cashInfo.fundType,thenAmntBal:e.cashInfo.thenAmntBal,tdAmount:e.cashInfo.tdAmount}]},order:{dataSet:a}})),wfPara:(0,d.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=L.saveAndCommitTask),e.processCode.length||(t=L.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,k.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.attachment,n=void 0===a?[]:a,i=t.listId,s=void 0===i?"":i,o=(t.biComment,t.biReferenceId),l=void 0===o?"":o,d=t.formData,u=void 0===d?{}:d;e.attachment=n,e.listId=s,e.biReferenceId=l,e.handlerDefault={handler:u.handler,handlerName:u.handlerName,handlerUnit:u.handlerUnit,handlerUnitName:u.handlerUnitName,handlerRole:u.handlerRole,handlerRoleName:u.handlerRoleName},e.formData=(0,r.default)({},e.formData,e.handlerDefault,{biComment:u.biComment,biId:u.biId,biProcessStatus:u.biProcessStatus,creator:u.creator,modifer:u.modifer});var c=u.order,f=void 0===c?{}:c,m=u.outPut,h=void 0===m?{}:m,v=f.dataSet,p=void 0===v?[]:v;e.cashInfo={fundName:h.dataSet[0].fundName_cashOutCode,fundCode:h.dataSet[0].cashOutCode,fundType:h.dataSet[0].cashType_cashOutCode,thenAmntBal:h.dataSet[0].thenAmntBal,amntBal:h.dataSet[0].thenAmntBal,tdAmount:h.dataSet[0].tdAmount},e.orderList=p,e.$loading.hide()})},hasDraftData:function(){return!!this.orderList.dealerCode&&(0,o.default)({},"DFCDHP_DATA",{formData:this.formData,cashInfo:this.cashInfo,orderList:this.orderList})},getRelationData:function(){},selOrder:function(e){e.forEach(function(e){e.draftDate=(0,D.default)(e.draftDate,"YYYY-MM-DD"),e.draftDueDate=(0,D.default)(e.draftDueDate,"YYYY-MM-DD"),e.tdAmount=e.amntTbMatched}),this.orderList=e},addOrder:function(){this.showOrder=!0},selCash:function(e){this.cashInfo=(0,r.default)({},e,{thenAmntBal:e.amntBal})},checkAmt:function(e){var t=e.tdAmount,a=e.thenAmntBal;t&&(t>a&&(t=a),e.tdAmount=Math.abs((0,U.toFixed)(t)))}},created:function(){var e=sessionStorage.getItem("DFCDHP_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.cashInfo=t.cashInfo,this.orderList=t.orderList,sessionStorage.removeItem("DFCDHP_DATA")}}}},vs2b:function(e,t){},vtaQ:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),m=a("3NX5"),h=n(m),v=a("d7ck"),p=n(v),C=a("zWMP");a("Qg39");t.default={data:function(){return{count:0,comment:"",orderList:[]}},mixins:[l.default],components:{workFlow:f.default,RAction:u.default,MatterList:h.default,FormCell:p.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var d=[];s.order;e.attachment=l;var u=s.order.dataSet,c=!0,f=!1,m=void 0;try{for(var h,v=(0,r.default)(u);!(c=(h=v.next()).done);c=!0){var p=h.value;e.count=(0,C.accAdd)(e.count,p.tdAmount),p.inventoryPic=p.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+p.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),d.push(p)}}catch(e){f=!0,m=e}finally{try{!c&&v.return&&v.return()}finally{if(f)throw m}}e.orderList=d,e.orderInfo=s,e.workFlowInfoHandler()})}}}},vvIr:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("a3Yh"),o=n(s),l=a("ZLEe"),d=n(l),u=a("3cXf"),c=n(u),f=a("KH7x"),m=n(f),h=a("4YfN"),v=n(h),p=a("SAzG"),C=n(p),y=a("u28h"),_=(n(y),a("PzEQ")),g=n(_),b=a("kNGm"),w=(n(b),a("z5TY")),I=n(w),x=a("BGNQ"),D=n(x),P=a("0AQX"),S=a("HyXB"),k=a("bKg5"),L=n(k),N=a("ZQWM"),M=n(N),T=a("I5id"),A=n(T),O=a("luHD"),R=n(O),j=a("9cRV"),B=n(j),E=a("hLfv"),F=n(E),U=a("VZtf"),$=n(U),Q=a("vl8n"),H=n(Q),V=a("+WR7"),q=n(V),Y=a("zWMP"),X=a("Qg39");t.default={name:"ApplySBCGYSForm",data:function(){return{listId:"64c5afbc-c075-11e8-85e2-b06ebfc41432",srhInpTx:"",orderList:{},matterList:[],transMode:["现付","预付","账期","票据"],showDealerPop:!1,dealerInfo:{},contactInfo:{},formData:{biId:"",biComment:""},submitSuccess:!1,taxRate:.16,numMap:{},transCode:"",formViewUniqueId:"fed81800-4c34-44a9-b517-c3fd9f2ab57d",biReferenceId:"",actions:[],taskId:"",showOrderPop:!1,tmpItems:{},facility:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,filterList:[{name:"设施名称",value:"facilityName"},{name:"设施编码",value:"facilityCode"},{name:"订单号",value:"transCode"}],facilityParams:{},checkFieldList:[{key:"tdQty",message:"请填写本次验收数量"}]}},mixins:[L.default],components:{XInput:C.default,RNumber:$.default,XTextarea:g.default,Group:I.default,Cell:D.default,PopMatter:R.default,RPicker:H.default,PopDealerList:M.default,PopBaseinfo:q.default,PopFacilityList:A.default,PopMatterList:B.default,DealerOtherPart:F.default},computed:{totalAmount:function(){var e=this,t=0;return this.matterList.forEach(function(a){e.simpleCalcMatter(a),t=(0,Y.accAdd)(t,a.noTaxAmount)}),Number(t)},taxAmount:function(){var e=0;return this.matterList.forEach(function(t){e=(0,X.toFixed)((0,Y.accAdd)(e,t.taxAmount))}),e},tdAmount:function(){return parseFloat((0,Y.accAdd)(this.totalAmount,Number(this.taxAmount)).toFixed(2))}},watch:{facility:{handler:function(e){this.simpleCalcMatter(e)},deep:!0}},methods:{selItem:function(e){this.formData=(0,v.default)({},this.formData,e)},selDealer:function(e){var t=JSON.parse(e),a=(0,m.default)(t,1),n=a[0];this.dealerInfo=(0,v.default)({},n),null!=this.matterParams.data.dealerCode&&(this.matterParams.data.dealerCode=this.dealerInfo.dealerCode,this.matterList=[],this.orderList={})},selContact:function(e){this.contactInfo=(0,v.default)({},e)},modifyMatter:function(e,t,a){this.facility=JSON.parse((0,c.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selMatter:function(e){var t=JSON.parse(e),a={};t.forEach(function(e){e.tdQty=e.tdQty||e.qtyBal,e.taxRate=.16,a[e.transCode]||(a[e.transCode]=[]),a[e.transCode].push(e)}),this.matterList=t,this.orderList=a},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.facilityCode!==e.facilityCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.facilityCode===t.facilityCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.facilityCode===e.facilityCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,c.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,d.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.facilityCode===a.facilityCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.facilityCode===t.facilityCode});i>=0&&(e.$refs.matter.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.facilityCode===a.facilityCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerCode||(t="请选择供应商信息"),t||this.matterList.length||(t="请选择设施"),t||this.matterList.every(function(n){if(!n.price)return t="单价不能为空",!1;if(!n.tdQty&&0!==n.tdQty)return t="数量不能为空",!1;var i=n.taxRate||e.taxRate,r=(0,Y.accMul)(n.price,n.tdQty,i),s={transMatchedCode:n.transCode,facilityObjCode:n.facilityCode,facilityType:n.facilityType,thenTotalQtyBal:n.qty,thenLockQty:n.purchased,thenQtyBal:n.qtyBal||0,tdQty:n.tdQty,price:n.price,taxRate:i,taxAmount:r,tdAmount:(0,Y.accAdd)((0,Y.accMul)(n.price,n.tdQty),r),comment:n.comment||""};return e.transCode&&(s.tdId=n.tdId||null),a.push(s),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=S.saveAndStartWf,n={},i=(0,o.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});n=(0,v.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.formData.handler,modifer:e.formData.handler,dealerCreditContactPersonName:e.contactInfo.dealerName||"",dealerCreditContactInformation:e.contactInfo.dealerMobilePhone||"",order:{dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName||"供应商",dataSet:a}}),e.transCode&&(t=S.saveAndCommitTask,i={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,c.default)(n),wfPara:(0,c.default)(i)};e.transCode||delete r.biReferenceId,e.processCode.length||(t=S.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=l;var d=s.order,u=(s.dealerDebit,d.dataSet),c=void 0===u?[]:u,f={},m=[],h=!0,p=!1,C=void 0;try{for(var y,_=(0,r.default)(c);!(h=(y=_.next()).done);h=!0){var g=y.value;g=(0,v.default)({},g,{transCode:g.transMatchedCode,inventoryPic:g.inventoryPic_facilityObjCode?"/H_roleplay-si/ds/download?url="+g.inventoryPic_facilityObjCode+"&width=400&height=400":e.getDefaultImg(),facilityName:g.facilityName_facilityObjCode,facilityCode:g.facilityObjCode,facilityBigType:g.facilityBigType_facilityObjCode,facilitySubclass:g.facilitySubclass_facilityObjCode,facilityUnit:g.facilityUnit_facilityObjCode,qty:g.thenTotalQtyBal,purchased:g.thenLockQty,qtyBal:g.thenQtyBal}),f[g.transCode]||(f[g.transCode]=[]),m.push(g),f[g.transCode].push(g)}}catch(e){p=!0,C=e}finally{try{!h&&_.return&&_.return()}finally{if(p)throw C}}e.dealerInfo={dealerName:d.dealerName_dealerCodeCredit,dealerMobilePhone:s.dealerCreditContactInformation,dealerCode:d.dealerCodeCredit,dealerLabelName:d.crDealerLabel,province:d.province_dealerCodeCredit,city:d.city_dealerCodeCredit,county:d.county_dealerCodeCredit,address:d.address_dealerCodeCredit},e.facilityParams={dealerCode:d.dealerCodeCredit},e.contactInfo={dealerName:s.dealerCreditContactPersonName,dealerMobilePhone:s.dealerCreditContactInformation},e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,v.default)({},e.formData,e.handlerDefault,{creator:s.creator,biId:s.biId,biComment:s.biComment}),e.biReferenceId=s.biReferenceId,e.matterList=m,e.orderList=f,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,o.default)({},"SBCGYS_DATA",{matter:this.matterList,dealer:this.dealerInfo,formData:this.formData,contactInfo:this.contactInfo})},getRelationData:function(){var e=this,t=this.$route.query.uniqueId;return(0,P.getSOList)({formViewUniqueId:t,transCode:this.relationKey}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i;t.attachment;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var s=r.order,l=(r.dealerDebit,s.dataSet),d=void 0===l?[]:l;d=d.map(function(t){return(0,v.default)({},t,{inventoryPic:t.inventoryPic_facilityObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_facilityObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_facilityObjCode,facilityCode:t.inventoryCode_facilityObjCode,specification:t.specification_facilityObjCode,measureUnit:t.measureUnit_facilityObjCode,transCode:e.relationKey,qtyBal:t.tdQty,tdQty:""})}),e.dealerInfo={creatorName:r.dealerDebitContactPersonName,dealerMobilePhone:r.dealerDebitContactInformation,dealerCode:r.order.dealerDebit,dealerSubclass:r.order.drAccountSub,dealerName:r.order.dealerName_dealerDebit,province:r.order.province_dealerDebit,city:r.order.city_dealerDebit,county:r.order.county_dealerDebit,address:r.order.address_dealerDebit},e.matterList=d,e.orderList=(0,o.default)({},e.relationKey,d),e.$loading.hide()})},moreUnitClick:function(e){e.showDrop=!e.showDrop},moreUnitSelected:function(e){this.facility.assMeasureUnit=e.invSubUnitName,this.facility.assistQty=e.invSubUnitMulti},assembleOrder:function(e){var t={};e.forEach(function(e){t[e.transCode]||(t[e.transCode]=[]),t[e.transCode].push(e)}),this.orderList=t}},created:function(){var e=sessionStorage.getItem("SBCGYS_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.dealerInfo=t.dealer,this.formData=t.formData,this.contactInfo=t.contactInfo,this.assembleOrder(this.matterList),sessionStorage.removeItem("SBCGYS_DATA")}}}},vz8g:function(e,t,a){"use strict";function n(e){a("v2Hn")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("L61s");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("4HCx"),o=a.n(s),l=a("dOA+"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-5ef1a2a4",null);t.default=c.exports},vzn5:function(e,t){},"w/hL":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pop-warehouse-nbjgrk-container vux-1px-t",on:{click:e.warehouseClick}},[a("div",{staticClass:"pop-warehouse-nbjgrk-wrapper"},[a("span",[e._v("仓库")]),e._v(" "),a("span",[e._v(e._s(e.selItems.warehouseName))])]),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:!e.disabled,expression:"!disabled"}],staticClass:"iconfont icon-youjiantou r-arrow"}),e._v(" "),e.disabled?e._e():a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("d-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"pop-list-container",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"pop-mater-list-item box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"pop-list-main "},[a("div",{staticClass:"pop-list-info"},[a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline name",staticStyle:{display:"inline-block"}},[a("span",[e._v(e._s(t.warehouseName))])]),e._v(" "),a("div",{staticClass:"ForInline name",staticStyle:{display:"inline-block"}},[a("span")])]),e._v(" "),a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline ",staticStyle:{display:"inline-block"}},[a("span",{staticClass:"creator"},[e._v(e._s(t.warehouseType))])])]),e._v(" "),a("div",{staticClass:"withoutColor"},[a("span",[e._v(e._s(t.warehouseProvince)+e._s(t.warehouseCity)+e._s(t.warehouseDistrict)+e._s(t.warehouseAddress))])])])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1)])],1)])},i=[],r={render:n,staticRenderFns:i};t.a=r},w0b2:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper xsck-detail-container"},[e.orderInfo&&e.orderInfo.outPut?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("project-part",{attrs:{"project-info":e.orderInfo.outPut}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.dealerInfo,hasClass:!1,logistics:!1,payment:!1}}),e._v(" "),a("warehouse-content",{attrs:{"warehouse-out":e.warehouse}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"order-list":e.orderList,noTaxAmount:e.noTaxAmount,taxAmount:e.taxAmount,count:e.count},scopedSlots:e._u([{key:"orderTitle",fn:function(t){return[a("span",{staticClass:"order_title"},[e._v("订单号")])]}},{key:"matterOther",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("单价: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.price),3)))]),e._v(" "),a("span",[e._v("退货数量: "+e._s(e._f("toFixed")(n.tdQty)))]),e._v(" "),a("span",[e._v("税率: "+e._s(n.taxRate))])]),e._v(" "),a("div",{staticClass:"mater_num"},[a("span",{staticClass:"num"},[e._v("可退货数量: "+e._s(n.thenQtyBal))]),e._v(" "),a("span",{staticClass:"num"},[e._v("可用库存: "+e._s(n.thenQtyStock))])]),e._v(" "),a("div",{staticClass:"mater_price"},[a("span",[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(n.tdAmount),3)))]),e._v(" "),n.taxRate?a("span",{staticClass:"num",style:{display:n.tdAmount&&n.tdAmount.toString().length>=5?"block":""}},[e._v("\n                [金额: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.noTaxAmount),3))+" + 税金: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.taxAmount),3))+"]\n              ")]):e._e()])])]}}])}),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{isTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},w1nj:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vux-confirm"},[a("x-dialog",{attrs:{"dialog-class":"android"===e.theme?"weui-dialog weui-skin_android":"weui-dialog","mask-transition":e.maskTransition,"dialog-transition":"android"===e.theme?"vux-fade":e.dialogTransition,"hide-on-blur":e.hideOnBlur,"mask-z-index":e.maskZIndex},on:{"on-hide":function(t){e.$emit("on-hide")}},model:{value:e.showValue,callback:function(t){e.showValue=t},expression:"showValue"}},[e.title?a("div",{staticClass:"weui-dialog__hd",class:{"with-no-content":!e.showContent}},[a("strong",{staticClass:"weui-dialog__title"},[e._v(e._s(e.title))])]):e._e(),e._v(" "),e.showContent?[e.showInput?a("div",{staticClass:"vux-prompt"},["checkbox"===e.getInputAttrs().type?a("input",e._b({directives:[{name:"model",rawName:"v-model",value:e.msg,expression:"msg"}],ref:"input",staticClass:"vux-prompt-msgbox",attrs:{placeholder:e.placeholder,type:"checkbox"},domProps:{checked:Array.isArray(e.msg)?e._i(e.msg,null)>-1:e.msg},on:{touchend:e.setInputFocus,change:function(t){var a=e.msg,n=t.target,i=!!n.checked;if(Array.isArray(a)){var r=e._i(a,null);n.checked?r<0&&(e.msg=a.concat([null])):r>-1&&(e.msg=a.slice(0,r).concat(a.slice(r+1)))}else e.msg=i}}},"input",e.getInputAttrs(),!1)):"radio"===e.getInputAttrs().type?a("input",e._b({directives:[{name:"model",rawName:"v-model",value:e.msg,expression:"msg"}],ref:"input",staticClass:"vux-prompt-msgbox",attrs:{placeholder:e.placeholder,type:"radio"},domProps:{checked:e._q(e.msg,null)},on:{touchend:e.setInputFocus,change:function(t){e.msg=null}}},"input",e.getInputAttrs(),!1)):a("input",e._b({directives:[{name:"model",rawName:"v-model",value:e.msg,expression:"msg"}],ref:"input",staticClass:"vux-prompt-msgbox",attrs:{placeholder:e.placeholder,type:e.getInputAttrs().type},domProps:{value:e.msg},on:{touchend:e.setInputFocus,input:function(t){t.target.composing||(e.msg=t.target.value)}}},"input",e.getInputAttrs(),!1))]):a("div",{staticClass:"weui-dialog__bd"},[e._t("default",[a("div",{domProps:{innerHTML:e._s(e.content)}})])],2)]:e._e(),e._v(" "),a("div",{staticClass:"weui-dialog__ft"},[a("a",{staticClass:"weui-dialog__btn weui-dialog__btn_default",attrs:{href:"javascript:;"},on:{click:e._onCancel}},[e._v(e._s(e.cancelText||"取消"))]),e._v(" "),a("a",{staticClass:"weui-dialog__btn",class:"weui-dialog__btn_"+e.confirmType,attrs:{href:"javascript:;"},on:{click:e._onConfirm}},[e._v(e._s(e.confirmText||"确定"))])])],2)],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},w5TH:function(e,t,a){"use strict";function n(e){a("xYqq")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("c6WW");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("q+9q"),o=a.n(s),l=a("e3I1"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-7c796bba",null);t.default=c.exports},w6tR:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MjAd"),r=n(i),s=a("FPb0"),o=n(s);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2429,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},components:{financeListItem:o.default},mixins:[r.default],methods:{},created:function(){}}},w9YQ:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("7g+Q"),r=n(i),s=a("z5TY"),o=n(s),l=a("kNGm"),d=(n(l),a("I8ug")),u=a("d3k1"),c=n(u);t.default={data:function(){return{submitData:{achievement:"",chance:"",date:""},listId:"",btnIsHide:!1,clientHeight:document.documentElement.clientHeight}},components:{Popup:r.default,Group:o.default},methods:{getDate:function(){var e=this;this.$vux.datetime.show({cancelText:"取消",confirmText:"确定",format:"YYYY-MM",onConfirm:function(t){console.log(t),e.submitData.date=t}})},submit:function(){var e=this,t="";if([{key:"date",message:"【期间（月份）】"},{key:"achievement",message:"【效率与成本改进成果】"},{key:"chance",message:"【效率与成本改进机会】"}].every(function(a){return""!==e.submitData[a.key]||(t=a.message+"不能为空",!1)}),t)return void this.$vux.alert.show({content:t});var a={achievement:this.submitData.achievement,chance:this.submitData.chance,date:this.submitData.date+"-1",listId:this.listId};(0,d.saveAssessment)(a).then(function(t){t.success&&(e.submitSuccess=!0,e.$vux.alert.show({content:"提交成功",onHide:function(){e.$router.go(-1)}}))})}},created:function(){var e=this.$route.params.listId;e&&(this.listId=e)},mounted:function(){var e=this;c.default.isAndroid&&(window.onresize=function(){e.clientHeight>document.documentElement.clientHeight?e.btnIsHide=!0:e.btnIsHide=!1})},beforeRouteLeave:function(e,t,a){e.path;this.submitSuccess&&"APPDETAIL"===e.name&&(e.meta.reload=!0),a()}}},wB6c:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2466,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"},{name:"往来名称",value:"dealerName_dealerCodeCredit"}]}},mixins:[i.default],methods:{},created:function(){}}},wDjS:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("PbSJ");a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,function(){return n[e]})}(i);var r=a("HcHI"),s=a.n(r),o=a("mU0o"),l=a("C7Lr"),d=l(s.a,o.a,!1,null,null,null);t.default=d.exports},wEsH:function(e,t){},wEtw:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("6q39"),v=n(h),p=a("kNGm"),C=n(p),y=a("fEP3"),_=a("1KNX"),g=n(_),b=a("7biW"),w=n(b);t.default={name:"PopWorkStartList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:m.default,LoadMore:v.default,RScroll:g.default,MSearch:w.default},filters:{dateFormat:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},workList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"工序名称",value:"procedureName"}],filterProperty:""}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){return this.selItems.colId===e.colId},selThis:function(e,t){this.showPop=!1,this.selItems=(0,d.default)({},e),this.$emit("sel-work",this.selItems)},setDefaultValue:function(){this.selItems=(0,d.default)({},this.defaultValue)},getWorkOrderTask:function(){var e=this,t=[];if(this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),this.$route.query.inventoryCode){var a=this.$route.query,n=a.inventoryCode,i=a.proPointCode;t=[].concat((0,o.default)(t),[{operator:"eq",value:n,property:"inventoryCode",separator:"and"},{operator:"eq",value:i,property:"proPointCode"}])}return(0,y.getWorkStartList)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.$route.query.inventoryCode&&e.$emit("sel-work",r[0]),e.hasNext=n>(e.page-1)*e.limit+r.length,e.workList=1===e.page?r:[].concat((0,o.default)(e.workList),(0,o.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.workList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getWorkOrderTask()},onPullingUp:function(){this.page++,this.getWorkOrderTask()}},created:function(){this.setDefaultValue(),this.getWorkOrderTask()}}},wGHW:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MgeX"),r=n(i),s=a("HzJ8"),o=n(s),l=a("a3Yh"),d=n(l),u=a("ZLEe"),c=n(u),f=a("3cXf"),m=n(f),h=a("4YfN"),v=n(h),p=a("KH7x"),C=n(p),y=a("BGNQ"),_=n(y),g=a("SAzG"),b=n(g),w=a("u28h"),I=n(w),x=a("PzEQ"),D=n(x),P=a("kNGm"),S=n(P),k=a("z5TY"),L=n(k),N=a("0AQX"),M=(a("I3vJ"),a("HyXB")),T=a("bKg5"),A=n(T),O=a("ZQWM"),R=n(O),j=a("9cRV"),B=n(j),E=a("Pb67"),F=n(E),U=a("89pA"),$=n(U),Q=a("yt3/"),H=n(Q),V=a("hLfv"),q=n(V),Y=a("luHD"),X=n(Y),G=a("VZtf"),W=n(G),z=a("vl8n"),K=n(z),J=a("+WR7"),Z=n(J),ee=a("fCs9"),te=n(ee),ae=a("zWMP");a("Qg39");t.default={name:"ApplyCGRKForm",data:function(){return{orderList:{},matterList:[],DealerPaymentTerm:"现付",showDealerPop:!1,dealerInfo:{},contactInfo:{},crDealerPaymentTerm:"现付",formData:{biId:"",biComment:""},submitSuccess:!1,showWarehousePop:!1,warehouse:{warehouseCode:"MA0001",warehouseName:"原料仓",warehouseType:"一般部门仓"},taxRate:.16,transCode:"",formViewUniqueId:"fed81800-4c34-44a9-b517-c3fd9f2ab57d",biReferenceId:"",actions:[],taskId:"",showOrderPop:!1,matterParams:{dealerCode:""},tmpItems:{},matter:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"订单号",value:"transCode"}],checkFieldList:[{key:"tdQty",message:"请填写本次收票数量"},{key:"price",message:"请填写含税单价"},{key:"taxRate",message:"请填写税率"},{key:"productionDate",message:"请选择生产日期"}]}},mixins:[A.default],components:{Cell:_.default,RDropdown:te.default,XInput:b.default,Group:L.default,XTextarea:D.default,Datetime:I.default,PopOrderList:F.default,RNumber:W.default,PopDealerList:R.default,PopWarehouseList:$.default,PopMatterList:B.default,PopSingleSelect:H.default,PopMatter:X.default,RPicker:K.default,PopBaseinfo:Z.default,DealerOtherPart:q.default},methods:{selDealer:function(e){var t=JSON.parse(e),a=(0,C.default)(t,1),n=a[0],i=n.pamentDays,r=i?(0,S.default)(Date.now()+(0,ae.accMul)(i,864e5),"YYYY-MM-DD"):"";this.dealerInfo=(0,v.default)({},n,{accountExpirationDate:r,drDealerPaymentTerm:n.paymentTerm}),null!=this.matterParams.data.dealerCode&&(this.matterParams.data.dealerCode=this.dealerInfo.dealerCode,this.matterList=[],this.orderList={}),this.crDealerPaymentTerm=this.dealerInfo.paymentTerm},selContact:function(e){this.contactInfo=(0,v.default)({},e)},selWarehouse:function(e){this.warehouse=JSON.parse(e)},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,m.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selMatter:function(e){var t=JSON.parse(e);console.log(t);var a={};t.forEach(function(e){e.tdQty=e.tdQty||e.qtyBal,e.qualityQty=e.qualityQty||e.qtyBal,e.taxRate=e.taxRate||.16,e.productionDate=e.productionDate||"",e.validUntil=e.validUntil||"",e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null,a[e.transCode]||(a[e.transCode]=[]),a[e.transCode].push(e)}),this.matterList=t,this.orderList=a},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.inventoryCode!==e.inventoryCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,c.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});i>=0&&(e.$refs.matter.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){this.showOrderPop=!this.showOrderPop},checkDate:function(e,t){var a=new Date(t).getTime();e.validUntil=a?(0,S.default)(a+(0,ae.accMul)(e.keepingDays,864e5),"YYYY-MM-DD"):""},submitOrder:function(){var e=this,t="",a=[];if([{key:"dealerInfo",message:"供应商信息"},{key:"crDealerPaymentTerm",message:"结算方式"},{key:"warehouse",message:"仓库"}].every(function(a){return!!e[a.key]||(t="请选择"+a.message,!1)}),t||this.matterList.length||(t="请选择物料"),t||this.matterList.every(function(n){if(!n.price)return t="含税单价不能为空",!1;if(!n.tdQty)return t="数量不能为空",!1;var i=n.taxRate||e.taxRate,r=((0,ae.accMul)(n.price,n.tdQty,i),{transMatchedCode:n.transCode,transObjCode:n.inventoryCode,tdProcessing:n.processing,assMeasureUnit:void 0!==n.assMeasureUnit?n.assMeasureUnit:null,assMeasureScale:n.assMeasureScale||null,assMeasureDescription:n.assMeasureDescription||"",thenTotalQtyBal:n.qty,thenLockQty:n.qtyed,thenQtyBal:n.qtyBal||0,qualityQty:n.tdQty,tdQty:n.tdQty,assistQty:n.assistQty||0,price:n.price,taxRate:n.taxRate,tdAmount:n.tdAmount,noTaxPrice:n.noTaxPrice,taxAmount:n.taxAmount,processingStartDate:n.processingStartDate||null,keepingDays_transObjCode:n.keepingDays,productionDate:n.productionDate,validUntil:n.validUntil,comment:n.comment||""});return e.transCode&&(r.tdId=n.tdId||null),a.push(r),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=M.saveAndStartWf,n={},i=(0,d.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});n=(0,v.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.formData.handler,modifer:e.formData.handler,dealerCreditContactPersonName:e.contactInfo.dealerName||"",dealerCreditContactInformation:e.contactInfo.dealerMobilePhone||"",containerInWarehouseManager:e.warehouse.containerInWarehouseManager||null,inPut:{dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName||"供应商",crDealerPaymentTerm:e.crDealerPaymentTerm,daysOfAccount:e.dealerInfo.pamentDays,accountExpirationDate:e.dealerInfo.accountExpirationDate,containerCode:e.warehouse.warehouseCode,dataSet:a}}),e.transCode&&(t=M.saveAndCommitTask,i={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,m.default)(n),wfPara:(0,m.default)(i)};e.transCode||delete r.biReferenceId,e.processCode.length||(t=M.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,N.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,l=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=l;var d=r.inPut,u=(r.dealerDebit,d.dataSet),c=void 0===u?[]:u,f={},m=[],h=!0,p=!1,C=void 0;try{for(var y,_=(0,o.default)(c);!(h=(y=_.next()).done);h=!0){var g=y.value;g=(0,v.default)({},g,{transCode:g.transMatchedCode,inventoryPic:g.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+g.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:g.inventoryName_transObjCode,inventoryCode:g.transObjCode,specification:g.specification_transObjCode,processing:g.tdProcessing,keepingDays:g.keepingDays_transObjCode,qtyed:g.thenLockQty,qtyBal:g.thenQtyBal,qty:g.thenTotalQtyBal}),f[g.transCode]||(f[g.transCode]=[]),m.push(g),f[g.transCode].push(g)}}catch(e){p=!0,C=e}finally{try{!h&&_.return&&_.return()}finally{if(p)throw C}}e.dealerInfo={creatorName:r.dealerCreditContactPersonName,dealerName:d.dealerName_dealerCodeCredit,dealerMobilePhone:r.dealerCreditContactInformation,dealerCode:d.dealerCode_dealerCodeCredit,dealerLabelName:d.crDealerLabel,province:d.province_dealerCodeCredit,city:d.city_dealerCodeCredit,county:d.county_dealerCodeCredit,address:d.address_dealerCodeCredit,accountExpirationDate:d.accountExpirationDate},e.contactInfo={dealerName:r.dealerCreditContactPersonName,dealerMobilePhone:r.dealerCreditContactInformation},e.warehouse={warehouseCode:d.containerCode,warehouseName:d.warehouseName_containerCode,warehouseType:d.warehouseType_containerCode,warehouseProvince:d.warehouseProvince_containerCode,warehouseCity:d.warehouseCity_containerCode,warehouseDistrict:d.warehouseDistrict_containerCode,warehouseAddress:d.warehouseAddress_containerCode,containerInWarehouseManager:d.containerInWarehouseManager},e.matterParams={dealerCode:e.dealerInfo.dealerCode},e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,v.default)({},e.formData,e.handlerDefault,{biComment:r.biComment,biId:r.biId,biProcessStatus:r.biProcessStatus,creator:r.creator,modifer:r.modifer}),e.crDealerPaymentTerm=d.crDealerPaymentTerm,e.DealerPaymentTerm=r.crDealerPaymentTerm||"现付",e.biReferenceId=r.biReferenceId,e.matterList=m,e.orderList=f,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,d.default)({},"CGRK_DATA",{orderList:this.orderList,dealer:this.dealerInfo,warehouse:this.warehouse,formData:this.formData,contactInfo:this.contactInfo})},getRelationData:function(){var e=this,t=this.$route.query.uniqueId;return(0,N.getSOList)({formViewUniqueId:t,transCode:this.relationKey}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i;t.attachment;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var s=r.order,o=(r.dealerDebit,s.dataSet),l=void 0===o?[]:o;l=l.map(function(t){return(0,v.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,transCode:e.relationKey,qtyBal:t.tdQty,tdQty:""})}),e.dealerInfo={creatorName:r.dealerDebitContactPersonName,dealerMobilePhone:r.dealerDebitContactInformation,dealerCode:r.order.dealerDebit,dealerSubclass:r.order.drAccountSub,dealerName:r.order.dealerName_dealerDebit,province:r.order.province_dealerDebit,city:r.order.city_dealerDebit,county:r.order.county_dealerDebit,address:r.order.address_dealerDebit},e.matterParams={dealerCode:e.dealerInfo.dealerCode},e.matterList=l,e.orderList=(0,d.default)({},e.relationKey,l),e.crDealerPaymentTerm=s.drDealerPaymentTerm,e.DealerPaymentTerm=r.drDealerPaymentTerm||"现付",e.$loading.hide()})},moreUnitSelected:function(e){this.matter.assMeasureUnit=e.invSubUnitName,this.matter.assistQty=e.invSubUnitMulti}},created:function(){var e=sessionStorage.getItem("CGRK_DATA");if(e){var t=JSON.parse(e);this.orderList=t.orderList;var a=!0,n=!1,i=void 0;try{for(var s,l=(0,o.default)((0,r.default)(this.orderList));!(a=(s=l.next()).done);a=!0){var d=s.value,u=!0,c=!1,f=void 0;try{for(var m,h=(0,o.default)(d);!(u=(m=h.next()).done);u=!0){var v=m.value;this.matterList.push(v)}}catch(e){c=!0,f=e}finally{try{!u&&h.return&&h.return()}finally{if(c)throw f}}}}catch(e){n=!0,i=e}finally{try{!a&&l.return&&l.return()}finally{if(n)throw i}}this.dealerInfo=t.dealer,this.warehouse=t.warehouse,this.formData=t.formData,this.contactInfo=t.contactInfo,this.crDealerPaymentTerm=this.dealerInfo.paymentTerm,this.matterParams.data.dealerCode=this.dealerInfo.dealerCode,sessionStorage.removeItem("CGRK_DATA")}}}},"wGz/":function(e,t){},"wIS+":function(e,t){},wNbs:function(e,t,a){"use strict";function n(e){a("Ab3R")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("b4Rw");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Z77n"),o=a.n(s),l=a("+X2N"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-1bab9359",null);t.default=c.exports},wQkG:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("ZLEe"),o=n(s),l=a("a3Yh"),d=n(l),u=a("d3k1"),c=(n(u),a("FvvE")),f=(n(c),a("ZTs6"));n(f);t.default={data:function(){var e;return e={currentComponent:"",showLoadding:!0,transCode:"",submitSuccess:!1,submitLoadding:!1},(0,d.default)(e,"transCode",null),(0,d.default)(e,"saveData",{}),e},methods:{modifyRoute:function(e){this.submitSuccess=e},selData:function(e){this.saveData=e}},beforeRouteEnter:function(e,t,a){var n=e.query.name;e.meta.title="新增"+n,(e.query.id||e.query.groupId||e.query.colId||e.query.transCode)&&(e.meta.title="编辑"+n),a()},created:function(){this.$loading.show();var e=this.$route.query.transCode,t=this.$route.params,n=t.folder,i=t.fileName;e&&(this.transCode=e),this.currentComponent=a("2PKd")("./"+n+"/"+i+"Form.vue").default},beforeRouteLeave:function(e,t,a){var n=this;this.$refs.fillPage.hasDraftData&&(this.saveData=this.$refs.fillPage.hasDraftData()||{});var i=(e.path,(0,o.default)(this.saveData)[0]);if(!this.submitSuccess||"LIST"!==e.name&&"MSGLIST"!==e.name||(e.meta.reload=!0,i&&sessionStorage.removeItem(i)),"LIST"===e.name&&sessionStorage.removeItem("DEALERLIST_SELITEMS"),"LIST"===e.name&&i&&!this.transCode&&!this.submitSuccess)return void this.$vux.confirm.show({content:"即将离开，是否保存数据？",onConfirm:function(){sessionStorage.setItem(i,(0,r.default)(n.saveData[i])),a()},onCancel:function(){sessionStorage.removeItem(i),a()}});a()}}},wRUd:function(e,t,a){"use strict";function n(e){a("T7t+")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("8xC5");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("RpJn"),o=a.n(s),l=a("qFxV"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-5d423278",null);t.default=c.exports},wT6g:function(e,t,a){"use strict";function n(e){a("EPhH")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("crdR");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("+Lff"),o=a.n(s),l=a("OMnH"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-24be1c5a",null);t.default=c.exports},wVnA:function(e,t){},wetL:function(e,t){},wmtl:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages fgysqk-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[e.orderList.length?[a("div",{staticClass:"title"},[e._v("汇票明细")]),e._v(" "),e._l(e.orderList,function(t,n){return a("div",{key:n,staticClass:"order-detail",class:{"vux-1px-t":0!==n}},[a("div",{staticClass:"detail-item top"},[a("span",{staticClass:"info-item"},[e._v(e._s(t.draftNumber))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"info-item"},[e._v("类型: "+e._s(t.draftType))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("承兑人: "+e._s(t.accepter))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"info-item"},[e._v("金额: "+e._s(e._f("numberComma")(t.tdAmount)))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("保证金: "+e._s(e._f("numberComma")(t.deposit)))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"info-item"},[e._v("出票日: "+e._s(t.draftDate))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("到期日: "+e._s(t.draftDueDate))])]),e._v(" "),a("x-input",{attrs:{title:"说明","text-align":"right",placeholder:"请填写"},model:{value:t.comment,callback:function(a){e.$set(t,"comment",a)},expression:"item.comment"}})],1)})]:a("div",{staticClass:"order-info",on:{click:function(t){e.showOrder=!0}}},[a("div",{staticClass:"title"},[e._v("汇票明细")]),e._v(" "),a("div",{staticClass:"mode required"},[e._v("请选择汇票明细")]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r-arrow"})])],2),e._v(" "),e.orderList.length?a("div",{staticClass:"handle_part vx-1px-t"},[e.orderList.length?a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多")]):e._e()]):e._e(),e._v(" "),a("pop-cash-list",{attrs:{"default-value":e.cashInfo,request:"3",required:!0},on:{"sel-item":e.selCash}},[a("template",{slot:"other"},[a("x-input",{staticClass:"amt-cash",attrs:{title:"支付金额","text-align":"right",placeholder:"请填写",type:"number"},on:{"on-blur":function(t){e.checkAmt(e.cashInfo)},"on-focus":function(t){e.getFocus(t)}},model:{value:e.cashInfo.tdAmount,callback:function(t){e.$set(e.cashInfo,"tdAmount",e._n(t))},expression:"cashInfo.tdAmount"}})],1)],2),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"其他信息"}},[a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-money-order-list",{attrs:{show:e.showOrder,"default-value":e.orderList,request:"2","get-list-method":"getDraftBalance"},on:{"sel-item":e.selOrder},scopedSlots:e._u([{key:"amount",fn:function(t){var n=t.item;return[a("span",[e._v("金额: "+e._s(e._f("numberComma")(n.amntTbMatched)))]),e._v(" "),a("span",[e._v("保证金: "+e._s(e._f("numberComma")(n.deposit)))])]}}]),model:{value:e.showOrder,callback:function(t){e.showOrder=t},expression:"showOrder"}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},wn1Q:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("bFc7"),p=n(v),C=a("zWMP");a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",contactInfo:{},orderList:{}}},mixins:[u.default],components:{workFlow:h.default,RAction:f.default,contactPart:p.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a={},n=0,i=t.formData.order.dataSet,s=!0,l=!1,d=void 0;try{for(var u,c=(0,r.default)(i);!(s=(u=c.next()).done);s=!0){var f=u.value;f.inventoryPic=f.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+f.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),n=(0,C.accAdd)(n,f.tdAmount),a[f.transMatchedCode]||(a[f.transMatchedCode]=[]),e.orderList=a,a[f.transMatchedCode].push(f)}}catch(e){l=!0,d=e}finally{try{!s&&c.return&&c.return()}finally{if(l)throw d}}e.count=n,t.formData.invoiceDate=(0,o.default)(t.formData.invoiceDate,"YYYY-MM-DD"),e.orderInfo=t.formData,e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo={dealerName:a.dealerName_dealerCodeCredit,dealerContactPersonName:t.dealerCreditContactPersonName,dealerMobilePhone:t.dealerCreditContactInformation,dealerCode:a.dealerCodeCredit,province:a.province_dealerCodeCreditt,city:a.city_dealerCodeCreditt,county:a.county_dealerCodeCredit,address:a.address_dealerCodeCredit}}}}},wol0:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),m=a("bFc7"),h=n(m),v=a("6WeX"),p=n(v),C=a("3NX5"),y=n(C),_=a("sUbJ"),g=n(_),b=a("d7ck"),w=n(b),I=a("zWMP"),x=a("Qg39");t.default={data:function(){return{count:0,comment:"",orderInfo:{},formViewUniqueId:"e76a8c6f-05cc-45ee-ba93-299fe6751856",orderList:{}}},mixins:[l.default],components:{workFlow:f.default,RAction:u.default,PriceTotal:p.default,contactPart:h.default,MatterList:y.default,MatterItem:g.default,FormCell:w.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var d={},u=s.order,c=void 0===u?{}:u;e.attachment=l;var f=s.order.dataSet,m=!0,h=!1,v=void 0;try{for(var p,C=(0,r.default)(f);!(m=(p=C.next()).done);m=!0){var y=p.value;y.noTaxAmount=(0,I.accMul)(y.price,y.tdQty),y.taxAmount=(0,I.accMul)(y.noTaxAmount,y.taxRate),y.tdAmount=(0,x.toFixed)((0,I.accAdd)(y.noTaxAmount,y.taxAmount)),e.count=(0,I.accAdd)(e.count,y.tdAmount),y.inventoryPic=y.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+y.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),d[y.transMatchedCode]||(d[y.transMatchedCode]=[]),d[y.transMatchedCode].push(y)}}catch(e){h=!0,v=e}finally{try{!m&&C.return&&C.return()}finally{if(h)throw v}}e.orderList=d,e.dealerInfo={dealerName:c.dealerName_dealerCodeCredit,dealerMobilePhone:s.dealerCreditContactInformation,dealerContactPersonName:s.dealerCreditContactPersonName,dealerCode:c.dealerCodeCredit,dealerLabelName:c.crDealerLabel,province:c.province_dealerCodeCredit,city:c.city_dealerCodeCredit,county:c.county_dealerCodeCredit,address:c.address_dealerCodeCredit},e.orderInfo=s,e.workFlowInfoHandler()})}}}},wqMj:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("a3Yh"),o=n(s),l=a("4YfN"),d=n(l),u=a("IHPB"),c=n(u),f=a("3cXf"),m=n(f),h=a("HXPS"),v=n(h),p=a("BGNQ"),C=n(p),y=a("z5TY"),_=n(y),g=a("SAzG"),b=n(g),w=a("PzEQ"),I=n(w),x=a("0AQX"),D=a("HyXB"),P=a("bKg5"),S=n(P),k=a("VZtf"),L=n(k),N=a("9cRV"),M=n(N),T=a("89pA"),A=n(T),O=a("luHD"),R=n(O),j=a("vl8n"),B=n(j),E=a("+WR7"),F=n(E);t.default={mixins:[S.default],components:{Icon:v.default,Cell:C.default,Group:_.default,XInput:b.default,XTextarea:I.default,RNumber:L.default,PopMatterList:M.default,PopWarehouseList:A.default,PopMatter:R.default,RPicker:B.default,PopBaseinfo:F.default},data:function(){return{listId:"4d9a7f8f-9a88-47b6-a1f4-3faed6423615",matterList:[],showMaterielPop:!1,transCode:"",formData:{biComment:""},numMap:{},warehouse:{},warehouseIn:{warehouseName:"待检仓",warehouseCode:"QC0001",warehouseType:"一般部门仓"},matterParams:{calcRelCode:"1406",whCode:""},matter:{},showMatterPop:!1,modifyIndex:null,warehouseOutParams:{warehouseType:"加工车间仓"},checkFieldList:[{key:"tdQty",message:"请填写入库数量"}]}},methods:{delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},selWarehouseOut:function(e){this.warehouse=JSON.parse(e),null!=this.matterParams.data.whCode&&(this.matterParams.data.whCode=this.warehouse.warehouseCode,this.matterList=[])},selWarehouseIn:function(e){this.warehouseIn=JSON.parse(e)},modifyMatter:function(e,t){this.matter=JSON.parse((0,m.default)(e)),this.showMatterPop=!0,this.modifyIndex=t},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.matterList,this.modifyIndex,t)},selMatter:function(e){var t=JSON.parse(e);t.forEach(function(e){e.tdQty=e.tdQty||""}),this.numMap={},this.matterList=[].concat((0,c.default)(t))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},save:function(){var e=this,t="",a=[];if([{key:"warehouse",message:"出库仓库"}].every(function(a){return!!e[a.key]||(t="请选择"+a.message,!1)}),t||this.matterList.length||(t="请选择物料"),this.matterList.every(function(n){if(!n.tdQty)return t="请填写入库数量",!1;var i={transObjCode:n.inventoryCode,tdProcessing:n.processing,assMeasureUnit:n.assMeasureUnit||null,thenQtyStock:n.qtyBal,assMeasureScale:n.assMeasureScale||null,assistQty:n.assistQty||0,tdQty:n.tdQty,comment:n.comment||""};return e.transCode&&(i.tdId=n.tdId||""),a.push(i),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=D.saveAndStartWf,n=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,containerOutWarehouseManager:e.warehouse.containerOutWarehouseManager||null,containerInWarehouseManager:e.warehouseIn.containerInWarehouseManager||null,inPut:{containerCodeOut:e.warehouse.warehouseCode,containerCode:e.warehouseIn.warehouseCode,dataSet:a}}),i={listId:e.listId,biComment:"",formData:(0,m.default)(n),wfPara:(0,m.default)((0,o.default)({},e.processCode,{businessKey:e.businessKey,createdBy:n.creator}))};e.transCode&&(t=D.saveAndCommitTask,i.biReferenceId=e.biReferenceId,i.wfPara=(0,m.default)({businessKey:e.transCode,createdBy:n.creator,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=D.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,x.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=t.attachment;var o=[],l=s.inPut,u=l.dataSet,c=void 0===u?[]:u,f=!0,m=!1,h=void 0;try{for(var v,p=(0,r.default)(c);!(f=(v=p.next()).done);f=!0){var C=v.value;C=(0,d.default)({},C,{qtyBal:C.thenQtyStock,inventoryPic:C.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+C.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:C.inventoryName_transObjCode,inventoryCode:C.inventoryCode_transObjCode,specification:C.specification_transObjCode,measureUnit:C.measureUnit_transObjCode,processing:C.tdProcessing}),o.push(C)}}catch(e){m=!0,h=e}finally{try{!f&&p.return&&p.return()}finally{if(m)throw h}}e.warehouseIn={warehouseCode:l.containerCode,warehouseName:l.warehouseName_containerCode,warehouseType:l.warehouseType_containerCode,warehouseProvince:l.warehouseProvince_containerCode,warehouseCity:l.warehouseCity_containerCode,warehouseDistrict:l.warehouseDistrict_containerCode,warehouseAddress:l.warehouseAddress_containerCode},e.warehouse={warehouseCode:l.containerCodeOut,warehouseName:l.warehouseName_containerCodeOut,warehouseType:l.warehouseType_containerCodeOut,warehouseProvince:l.warehouseProvince_containerCodeOut,warehouseCity:l.warehouseCity_containerCodeOut,warehouseDistrict:l.warehouseDistrict_containerCodeOut,warehouseAddress:l.warehouseAddress_containerCodeOut},e.matterParams=(0,d.default)({},e.matterParams,{whCode:e.warehouse.warehouseCode}),e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,d.default)({},e.handlerDefault,{biComment:s.biComment,biId:s.biId,biProcessStatus:s.biProcessStatus,creator:s.creator,modifer:s.modifer}),e.biReferenceId=s.biReferenceId,e.matterList=o,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,o.default)({},"WGYRK_DATA",{matter:this.matterList,warehouse:this.warehouse,warehouseIn:this.warehouseIn,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("WGYRK_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.warehouse=t.warehouse,this.warehouseIn=t.warehouseIn,this.formData=t.formData,this.matterParams=(0,d.default)({},this.matterParams,{whCode:this.warehouse.warehouseCode}),sessionStorage.removeItem("WGYRK_DATA")}}}},wuIh:function(e,t,a){"use strict";function n(e){a("ecQd")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Sgei");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("4CDp"),o=a.n(s),l=a("QfFO"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-3136606a",null);t.default=c.exports},wwEb:function(e,t){},wxaE:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",dealerInfo:{}}},mixins:[u.default],components:{workFlow:h.default,RAction:f.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=t.formData,i=n.order,s=void 0===i?{}:i;e.attachment=a,e.dealerInfo={dealerName:s.dealerName_dealerDebit,dealerCode:s.dealerDebit,dealerLabelName:s.drDealerLabel,amntBal:s.thenAmntBalCopy2,thenTotalAmntBal:s.thenAlreadyAmnt};var l=n.order.dataSet,d=!0,u=!1,c=void 0;try{for(var f,m=(0,r.default)(l);!(d=(f=m.next()).done);d=!0){var h=f.value;e.count=(0,v.accAdd)(e.count,h.tdAmount)}}catch(e){u=!0,c=e}finally{try{!d&&m.return&&m.return()}finally{if(u)throw c}}t.formData.validUntil=(0,o.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},x7T3:function(e,t,a){"use strict";function n(e){a("Y1R/")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("UI89");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("IpWp"),o=a.n(s),l=a("QBiQ"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-041ef863",null);t.default=c.exports},xAGr:function(e,t){},xBH9:function(e,t){},xCct:function(e,t,a){"use strict";function n(e){a("MP8F")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("hNmM");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("ghja"),o=a.n(s),l=a("hojs"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-37a79c68",null);t.default=c.exports},"xI+v":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.outPut?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("warehouse-content",{attrs:{warehouse:e.warehouseIn,"warehouse-out":e.warehouseOut}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"matter-list":e.orderInfo.outPut.dataSet,"order-remarks":e.orderInfo.biComment},scopedSlots:e._u([{key:"matterOther",fn:function(t){var n=t.item;return a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("单位: "+e._s(n.measureUnit_outPutMatCode))]),e._v(" "),a("span",[e._v("待领料: "+e._s(n.thenQtyBal))])]),e._v(" "),a("div",{staticClass:"mater_num"},[a("span",{staticClass:"num"},[e._v("\n            本次领料: "+e._s(e._f("toFixed")(n.tdQty))+"\n          ")]),e._v(" "),a("span",{staticClass:"units"},[e._v("\n            [库存数量: "+e._s(e._f("toFixed")(n.thenQtyStock))+"]\n          ")])])])}}])}),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},xJ3M:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("J0Oq"),o=n(s),l=a("a3Yh"),d=n(l),u=a("3cXf"),c=n(u),f=a("4YfN"),m=n(f),h=a("PzEQ"),v=n(h),p=a("kNGm"),C=n(p),y=a("u28h"),_=n(y),g=a("SAzG"),b=n(g),w=a("BGNQ"),I=n(w),x=a("0AQX"),D=a("HyXB"),P=a("bKg5"),S=n(P),k=a("9cRV"),L=n(k),N=a("ZQWM"),M=n(N),T=a("yt3/"),A=n(T),O=a("luHD"),R=n(O),j=a("hLfv"),B=n(j),E=a("VZtf"),F=n(E),U=a("vl8n"),$=n(U),Q=a("+WR7"),H=n(Q),V=a("9SNe"),q=n(V),Y=a("zWMP");t.default={components:{XTextarea:v.default,RNumber:F.default,Datetime:_.default,RDate:q.default,XInput:b.default,Cell:I.default,PopMatterList:L.default,PopDealerList:M.default,PopSingleSelect:A.default,PopMatter:R.default,RPicker:$.default,PopBaseinfo:H.default,DealerOtherPart:B.default},data:function(){return{taxRate:.16,dealer:{},formData:{creator:"",modifer:"",biId:"",biComment:""},inPut:{tdAmountCopy1:"",prepaymentDueDate:""},dealerInfo:{},contact:{},transMode:[],matterList:[],showTransPop:!1,showMaterielPop:!1,showDealerPop:!1,checkFieldList:[{key:"tdQty",message:"请填写数量"},{key:"price",message:"请填写含税单价"},{key:"taxRate",message:"请填写税率"},{key:"purchaseDay",message:"请选择采购需求日"}]}},mixins:[S.default],filters:{dateFormat:C.default},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],this.dealerInfo.drDealerPaymentTerm=this.dealerInfo.paymentTerm,this.dealerInfo.daysOfAccount=this.dealerInfo.pamentDays,this.dealer.drDealerPaymentTerm=this.dealerInfo.paymentTerm},selContact:function(e){this.dealer.dealerDebitContactPersonName=e.dealerName,this.dealer.dealerDebitContactInformation=e.dealerMobilePhone,this.contact=(0,m.default)({},this.contact,e)},selMatter:function(e){var t=JSON.parse(e);t.map(function(e){var t=e.processingStartDate?(0,C.default)(e.processingStartDate,"YYYY-MM-DD"):"",a=e.qtyBal<e.qty?e.qty:e.qtyBal;e.tdQty=e.tdQty||a,e.price=e.price||"",e.taxRate=e.taxRate||.16,e.shippingTime=(0,C.default)(e.shippingTime,"YYYY-MM-DD"),e.tdLeadTime=e.leadTime,e.processingStartDate=e.processingStartDate||t,e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null}),this.numMap={},this.matterList=t},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(t){return t.inventoryCode===e.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(e)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,c.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerCode?0===this.matterList.length&&(t="请选择物料"):t="请选择供应商信息",t||this.matterList.every(function(e){if(!e.tdQty)return t="请填写数量",!1;if(!e.price)return t="请填写含税单价",!1;if(!e.purchaseDay)return t="请选择采购需求日",!1;var n=e.taxRate;(0,Y.accMul)(e.price,e.tdQty,n);return a.push({tdId:e.tdId||"",transObjCode:e.inventoryCode,tdProcessing:e.processing,assMeasureUnit:e.assMeasureUnit||"个",assMeasureScale:e.assMeasureScale||null,assMeasureDescription:e.assMeasureDescription||"",assistQty:e.assistQty||0,thenQtyBal:e.qtyBal||0,tdQty:e.tdQty,price:e.price,noTaxPrice:e.noTaxPrice,taxRate:n,taxAmount:e.taxAmount,tdAmount:e.tdAmount,leadTime_transObjCode:e.leadTime,shippingTime:e.shippingTime,purchaseDay:e.purchaseDay,processingStartDate:e.processingStartDate,comment:""}),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=D.saveAndStartWf,n=(0,d.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.biComment,formData:(0,c.default)((0,m.default)({},e.formData,e.dealer,{handlerEntity:e.entity.dealerName,dealerDebitContactPersonName:e.contact.dealerName||null,dealerDebitContactInformation:e.contact.dealerMobilePhone||"",order:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName||"",drDealerPaymentTerm:e.dealerInfo.paymentTerm,daysOfAccount:e.dealerInfo.pamentDays,dataSet:a},inPut:{dataSet:[(0,m.default)({dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName||""},e.inPut)]}})),wfPara:(0,c.default)(n)};e.isResubmit&&(t=D.saveAndCommitTask,i.biReferenceId=e.biReferenceId),e.processCode.length||(t=D.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,o.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,x.getSOList)({formViewUniqueId:e.uniqueId,transCode:e.transCode}).then(function(t){e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId;var a=t.formData;e.attachment=t.attachment,a.order.dataSet.map(function(t){t=(0,m.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,safeStock:t.safeStock_transObjCode,qtyBal:t.thenQtyBal,moq:t.moq_transObjCode,leadTime:t.leadTime_transObjCode}),e.matterList.push(t)}),e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,m.default)({},e.handlerDefault,{creator:a.creator,modifer:a.modifer,biComment:a.biComment,biProcessStatus:a.biProcessStatus,biId:a.biId}),e.dealerInfo={dealerMobilePhone:a.dealerDebitContactInformation,dealerCode:a.inPut.dataSet[0].dealerDebit,dealerSubclass:a.inPut.dataSet[0].drAccountSub,dealerName:a.inPut.dataSet[0].dealerName_dealerDebit,province:a.inPut.dataSet[0].province_dealerDebit,city:a.inPut.dataSet[0].city_dealerDebit,county:a.inPut.dataSet[0].county_dealerDebit,address:a.inPut.dataSet[0].address_dealerDebit,paymentTerm:a.order.drDealerPaymentTerm,pamentDays:a.order.daysOfAccount,dealerLabelName:a.inPut.dataSet[0].drDealerLabel},e.inPut={tdAmountCopy1:a.inPut.dataSet[0].tdAmountCopy1,prepaymentDueDate:a.inPut.dataSet[0].prepaymentDueDate},e.contact={dealerName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation},e.dealer={dealerDebitContactPersonName:a.dealerDebitContactPersonName,dealerDebitContactInformation:a.dealerDebitContactInformation,drDealerPaymentTerm:a.order.drDealerPaymentTerm||""},e.$loading.hide()});case 2:case"end":return t.stop()}},t,e)}))()},hasDraftData:function(){return!!this.matterList.length&&(0,d.default)({},"CGDD_DATA",{matter:this.matterList,dealerInfo:this.dealerInfo,formData:this.formData,dealer:this.dealer,contact:this.contact,inPut:this.inPut})}},created:function(){var e=sessionStorage.getItem("CGDD_DATA");e&&(this.matterList=JSON.parse(e).matter,this.dealerInfo=JSON.parse(e).dealerInfo,this.dealer=JSON.parse(e).dealer,this.formData=JSON.parse(e).formData,this.contact=JSON.parse(e).contact,this.inPut=JSON.parse(e).inPut,sessionStorage.removeItem("CGDD_DATA"))}}},xMq4:function(e,t){},xTwt:function(e,t){},xYqq:function(e,t){},xZDR:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=(a("XAqG"),a("HyXB"),a("MjAd")),o=n(s),l=a("ak47");n(l);t.default={name:"CPXQ_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"经办人",value:"handlerName"},{name:"交易号",value:"transCode"},{name:"员工",value:"profileName"}],listViewID:2374}},mixins:[o.default],methods:{pathChange:function(e,t,a){var n=this;if(!this.clickVisited){var i=e.transCode,s=this.$route.query.name,o=this.$route.params,l=o.folder,d=o.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,r.default)({},e));var u=a+"/"+l+"/"+d;setTimeout(function(){n.clickVisited=!1,n.$router.push({path:u,query:{name:s,transCode:i}})},200)}},goDetail:function(e,t){this.pathChange(e,t,"/detail")},goUserEdit:function(e,t){this.pathChange(e,t,"/fillform")}}}},xZPP:function(e,t,a){"use strict";function n(e){a("84pt")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Peu+");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("86eb"),o=a.n(s),l=a("xohE"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},xaLY:function(e,t,a){"use strict";function n(e){a("cv/8")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("/asA");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("4NWw"),o=a.n(s),l=a("na+R"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-7eaa8a84",null);t.default=c.exports},xbeG:function(e,t,a){"use strict";function n(e){a("1k/p")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("VxZ1");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("JYGM"),o=a.n(s),l=a("TglZ"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-7e33380f",null);t.default=c.exports},xcUm:function(e,t,a){"use strict";!function e(){var t=document.documentElement.clientWidth;if(t>=375)document.documentElement.style.fontSize="100px";else{var a=t/375*100+"px";document.documentElement.style.fontSize=a}window.addEventListener("resize",e),window.addEventListener("orientationchange",e)}()},xns3:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("AupE"),f=n(c),m=a("BUFe"),h=n(m),v=a("bFc7"),p=n(v),C=a("3NX5"),y=n(C),_=a("zlAJ"),g=n(_);t.default={data:function(){return{orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},attachment:[]}},mixins:[u.default],components:{workFlow:f.default,RAction:h.default,contactPart:p.default,MatterList:y.default,UploadFile:g.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u=s.order,c=u.dataSet,f=!0,m=!1,h=void 0;try{for(var v,p=(0,r.default)(c);!(f=(v=p.next()).done);f=!0){var C=v.value;C.inventoryPic=C.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+C.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){m=!0,h=e}finally{try{!f&&p.return&&p.return()}finally{if(m)throw h}}e.attachment=d,s.validUntil=(0,o.default)(u.validUntil,"YYYY-MM-DD"),e.orderInfo=s,e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo={creatorName:t.dealerDebitContactPersonName,dealerName:a.dealerName_dealerDebit,dealerMobilePhone:t.dealerDebitContactInformation,dealerContactPersonName:t.dealerDebitContactPersonName,dealerCode:a.dealerDebit,dealerLabelName:a.drDealerLabel,province:a.province_dealerDebit,city:a.city_dealerDebit,county:a.county_dealerDebit,address:a.address_dealerDebit,payment:a.drDealerPaymentTerm,validUntil:t.validUntil,logistics:t.drDealerLogisticsTerms}}}}},xohE:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement;return(e._self._c||t)("span",{staticClass:"vux-label-desc"},[e._t("default")],2)},i=[],r={render:n,staticRenderFns:i};t.a=r},xp6H:function(e,t){},xupB:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("ZLEe"),o=n(s),l=a("a3Yh"),d=n(l),u=a("d3k1"),c=(n(u),a("FvvE")),f=(n(c),a("ZTs6"));n(f);t.default={data:function(){var e;return e={currentComponent:"",showLoadding:!0,transCode:"",submitSuccess:!1,submitLoadding:!1},(0,d.default)(e,"transCode",null),(0,d.default)(e,"saveData",{}),e},methods:{modifyRoute:function(e){this.submitSuccess=e},selData:function(e){this.saveData=e}},beforeRouteEnter:function(e,t,a){var n=e.query.name;e.meta.title="新增"+n,(e.query.id||e.query.groupId||e.query.colId||e.query.transCode)&&(e.meta.title="编辑"+n),a()},created:function(){this.$loading.show();var e=this.$route.query.transCode,t=this.$route.params,n=t.folder,i=t.fileName;e&&(this.transCode=e),this.currentComponent=a("2PKd")("./"+n+"/"+i+"Form.vue").default},beforeRouteLeave:function(e,t,a){var n=this;this.$refs.fillPage.hasDraftData&&(this.saveData=this.$refs.fillPage.hasDraftData()||{});var i=(e.path,(0,o.default)(this.saveData)[0]);if(!this.submitSuccess||"LIST"!==e.name&&"MSGLIST"!==e.name||(e.meta.reload=!0,i&&sessionStorage.removeItem(i)),"LIST"===e.name&&sessionStorage.removeItem("DEALERLIST_SELITEMS"),"LIST"===e.name&&i&&!this.transCode&&!this.submitSuccess)return void this.$vux.confirm.show({content:"即将离开，是否保存数据？",onConfirm:function(){sessionStorage.setItem(i,(0,r.default)(n.saveData[i])),a()},onCancel:function(){sessionStorage.removeItem(i),a()}});a()}}},xwQh:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2487,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[i.default],methods:{},created:function(){}}},xyHp:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("bFc7"),p=n(v),C=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",contactInfo:{}}},mixins:[u.default],components:{workFlow:h.default,RAction:f.default,contactPart:p.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=!0,i=!1,s=void 0;try{for(var l,d=(0,r.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;e.count=(0,C.accAdd)(e.count,u.tdAmount)}}catch(e){i=!0,s=e}finally{try{!n&&d.return&&d.return()}finally{if(i)throw s}}t.formData.validUntil=(0,o.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData;var c=e.orderInfo.order;e.contactInfo={creatorName:c.dealerDebitContactPersonName,dealerName:c.dealerName_dealerDebit,dealerMobilePhone:e.orderInfo.dealerDebitContactInformation,dealerContactPersonName:e.orderInfo.dealerDebitContactPersonName,dealerCode:c.dealerDebit,dealerLabelName:c.dealerName_dealerDebit,province:c.province_dealerDebit,city:c.city_dealerDebit,county:c.county_dealerDebit,address:c.address_dealerDebit},e.workFlowInfoHandler()})}}}},"y/yf":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,"default-contact":e.contactInfo,"dealer-params":e.dealerParams,dealerTitle:"供应商"},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("dealer-other-part",{attrs:{"dealer-config":e.dealerConfig,"dealer-info":e.dealerInfo}}),e._v(" "),a("div",{staticClass:"materiel_list"},[Object.keys(e.orderList).length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n,i){return a("div",{key:n,staticClass:"each_mater",class:{"vux-1px-b":i<Object.keys(e.orderList).length-1}},[t.length?a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v(e._s(e.orderListTitle))]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]):e._e(),e._v(" "),e._l(t,function(t,i){return a("div",{key:i,class:{mater_delete:e.matterModifyClass}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass,config:e.matterEditConfig.property},on:{"on-modify":function(a){e.modifyMatter(t,i,n)}},nativeOn:{click:function(a){e.delClick(i,t)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[n.price&&n.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price)+"\n                      ")]),e._v(" "),a("div",[a("r-number",{attrs:{num:n.tdQty,checkAmt:e.checkAmt,max:n.qtyBal},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",t)},expression:"item.tdQty"}})],1)]):e._e()]}},{key:"editPart",fn:function(t){var r=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r.price&&(r.tdQty||0===r.tdQty)&&!e.matterModifyClass,expression:"(item.price && (item.tdQty || item.tdQty === 0)) &&!matterModifyClass"}],staticClass:"edit-part vux-1px-l",on:{click:function(t){e.modifyMatter(r,i,n)}}},[a("span",{staticClass:"iconfont icon-bianji1"})])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(i,t)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)})],2)}),0)]:[a("div",{on:{click:function(t){e.showOrderPop=!e.showOrderPop}}},[a("div",{staticClass:"title"},[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择"+e._s(e.orderListTitle))]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多物料")])]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showOrderPop,"default-value":e.matterList,config:e.matterPopConfig,"matter-params":e.matterParams,orderTitle:e.matterPopOrderTitle,"filter-list":e.filterList},on:{"sel-matter":e.selMatter},model:{value:e.showOrderPop,callback:function(t){e.showOrderPop=t},expression:"showOrderPop"}})],2),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.consumables,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,config:e.matterEditConfig},on:{"sel-confirm":e.selConfirm},model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num"},[a("span",{staticStyle:{fontSize:".14rem"}},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.tdAmount))+"\n      "),a("span",{staticClass:"taxAmount"},[e._v("[含税: ￥"+e._s(e._f("numberComma")(e.taxAmount))+"]")])]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},"y2/q":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("KH7x"),o=n(s),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("BGNQ"),m=n(f),h=a("z5TY"),v=n(h),p=a("SAzG"),C=n(p),y=a("u28h"),_=n(y),g=a("kNGm"),b=n(g),w=a("PzEQ"),I=n(w),x=a("jLp1"),D=a("bKg5"),P=n(D),S=a("vl8n"),k=n(S),L=a("+WR7"),N=n(L),M=a("Qg39"),T=a("zWMP");t.default={mixins:[P.default],components:{Icon:c.default,Cell:m.default,Group:v.default,XInput:C.default,RPicker:k.default,PopBaseinfo:N.default,Datetime:_.default,XTextarea:I.default},data:function(){return{projectList:[],taskList:[],formData:{biProcessStatus:""},jsonData:{baseinfo:{},comment:{biComment:""}},projectTask:{projectName:"",taskName:"",taskType:"",comment:"",deadline:"",planTime:"",cycleNumber:"",actualCompleteTime:"",actualTime:"",actualtHomeworkCost:0,budgetHomeworkCost:"",operatingRate:""}}},methods:{save:function(){var e=this,t="";if([{key:"projectName",message:"项目"},{key:"taskName",message:"任务"},{key:"actualCompleteTime",message:"实际完成日期"}].every(function(a){return!!e.projectTask[a.key]||(t=a.message+"不能为空",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show(),e.jsonData.baseinfo=(0,d.default)({},e.formData,{creator:e.formData.handler},e.jsonData.baseinfo,{modifer:e.formData.handler});var t=x.saveProjectTask,a={listId:"ee4ff0a1-c612-419d-afd7-471913d57a2a",formData:(0,d.default)({handlerEntity:e.entity.dealerName},e.jsonData,{projectTask:e.projectTask})};e.transCode&&(t=x.updateProjectTask),e.saveData(t,a)}})},clickDateSelect:function(){var e=this;this.$vux.datetime.show({confirmText:"确定",cancelText:"取消",value:this.formData.validUntil,onConfirm:function(t){e.formData.validUntil=t}})},getProjectList:function(){var e=this;return(0,x.getProjectPlanProjectName)().then(function(t){var a=t.tableContent,n=void 0===a?[]:a,i=[];n.forEach(function(e){e.projectName&&i.push((0,d.default)({},e,{name:e.projectName,value:e.projectName}))}),e.projectList=i})},taskChange:function(e){if(this.relationKey||this.transCode)return!1;var t=this.taskList.filter(function(t){return t.value===e}),a=(0,o.default)(t,1),n=a[0],i=void 0===n?{}:n;this.projectTask=(0,d.default)({},this.projectTask,{taskName:i.TASK_NAME,taskType:i.TASK_TYPE,comment:i.COMMENT,deadline:(0,b.default)(i.DEADLINE,"YYYY-MM-DD"),planTime:i.PLAN_TIME,budgetHomeworkCost:i.BUDGET_HOMEWORK_COST,operatingRate:i.JOB_RATE,cycleNumber:i.CYCLE_DAYS})},projectChange:function(e){if(this.relationKey||this.transCode)return!1;var t=this.projectList.find(function(t){return t.projectName===e});this.projectTask=(0,d.default)({},this.projectTask,{projectType:t.projectType||"",projectSubclass:t.projectSubclass||"",taskName:"",taskType:"",comment:"",deadline:"",planTime:"",budgetHomeworkCost:"",operatingRate:"",cycleNumber:""}),this.getTaskList()},getFormData:function(){var e=this;return(0,x.findProjectTask)(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=n.projectTask;e.jsonData=n,e.projectTask=(0,d.default)({},i,{actualCompleteTime:(0,b.default)(i.actualCompleteTime,"YYYY-MM-DD")}),e.handlerDefault={handler:n.baseinfo.handler,handlerName:n.baseinfo.handlerName,handlerUnit:n.baseinfo.handlerUnit,handlerUnitName:n.baseinfo.handlerUnitName,handlerRole:n.baseinfo.handlerRole,handlerRoleName:n.baseinfo.handlerRoleName},e.getTaskList(),e.$loading.hide()})},getTaskList:function(){var e=this;return(0,x.getProjectTodoTask)({projectName:this.projectTask.projectName}).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;e.taskList=n.map(function(e){return e=(0,d.default)({},e,{name:e.TASK_NAME,value:e.TASK_NAME})})})},checkTime:function(){var e=this.projectTask.actualTime;e&&(this.projectTask.actualTime=Math.abs((0,M.toFixed)(e,1))),this.projectTask.operatingRate&&this.projectTask.actualTime&&(this.projectTask.actualtHomeworkCost=(0,T.accMul)(this.projectTask.operatingRate,this.projectTask.actualTime))},hasDraftData:function(){return!!this.projectTask.projectName&&(0,r.default)({},"XMRW_DATA",{projectTask:this.projectTask})},getRelationData:function(){var e=this;return(0,x.findProjectPlan)(this.relationKey).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=(t.attachment,n.projectPlan[0]);e.projectTask=(0,d.default)({},e.projectTask,{projectName:n.projectApproval.projectName,taskName:i.taskName,taskType:i.taskType,comment:i.comment,deadline:(0,b.default)(i.deadline,"YYYY-MM-DD"),planTime:i.planTime})})}},created:function(){var e=sessionStorage.getItem("XMRW_DATA");if(e){var t=JSON.parse(e);this.projectTask=t.projectTask,this.getTaskList(),sessionStorage.removeItem("XMRW_DATA")}this.getProjectList()}}},y2fK:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"inPage"},[a(e.currentComponent,{ref:"list",tag:"component",attrs:{"refresh-request":e.isrefresh}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},y8YJ:function(e,t,a){"use strict";function n(e){a("6Vtj")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("mDKT");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("nY9r"),o=a.n(s),l=a("TIJu"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-1b0896a1",null);t.default=c.exports},yAwe:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noCount:"",noPrice:"",isMoreDealer:""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}}),e._v(" "),a("pop-assignment-task-work-list",{ref:"taskWork",attrs:{show:e.popShow},on:{"sel-task":e.selTask},model:{value:e.popShow,callback:function(t){e.popShow=t},expression:"popShow"}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},yB79:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"weui-btn",class:e.classes,style:e.buttonStyle,attrs:{disabled:e.disabled,type:e.actionType},on:{click:e.onClick}},[e.showLoading?a("i",{staticClass:"weui-loading"}):e._e(),e._v(" "),e._t("default",[e._v(e._s(e.text))])],2)},i=[],r={render:n,staticRenderFns:i};t.a=r},yCU9:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("a3Yh"),o=n(s),l=a("4YfN"),d=n(l),u=a("IHPB"),c=n(u),f=a("3cXf"),m=n(f),h=a("HXPS"),v=n(h),p=a("BGNQ"),C=n(p),y=a("z5TY"),_=n(y),g=a("SAzG"),b=n(g),w=a("PzEQ"),I=n(w),x=a("0AQX"),D=a("HyXB"),P=a("bKg5"),S=n(P),k=a("VZtf"),L=n(k),N=a("9cRV"),M=n(N),T=a("89pA"),A=n(T),O=a("luHD"),R=n(O),j=a("vl8n"),B=n(j),E=a("+WR7"),F=n(E);t.default={mixins:[S.default],components:{Icon:v.default,Cell:C.default,Group:_.default,XInput:b.default,XTextarea:I.default,RNumber:L.default,PopMatterList:M.default,PopWarehouseList:A.default,PopMatter:R.default,RPicker:B.default,PopBaseinfo:F.default},data:function(){return{matterList:[],showMaterielPop:!1,transCode:"",formData:{biComment:""},warehouse:{},warehouseIn:null,matter:{},showMatterPop:!1,modifyIndex:null,checkFieldList:[{key:"tdQty",message:"请填写调拨数量"}]}},methods:{delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},selWarehouseOut:function(e){this.warehouse=JSON.parse(e),null!=this.matterParams.data.whCode&&(this.matterParams.data.whCode=this.warehouse.warehouseCode,this.matterList=[])},selWarehouseIn:function(e){this.warehouseIn=JSON.parse(e)},modifyMatter:function(e,t){this.matter=JSON.parse((0,m.default)(e)),this.showMatterPop=!0,this.modifyIndex=t},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.matterList,this.modifyIndex,t)},selMatter:function(e){var t=JSON.parse(e);t.forEach(function(e){e.tdQty=e.tdQty||""}),this.matterList=[].concat((0,c.default)(t))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},save:function(){var e=this,t="",a=[];if([{key:"warehouse",message:"出库仓库"},{key:"warehouseIn",message:"入库仓库"}].every(function(a){return!!e[a.key]||(t="请选择"+a.message,!1)}),t||this.matterList.length||(t="请选择物料"),this.matterList.every(function(n){if(!n.tdQty)return t="请填写调拨数量",!1;var i={transObjCode:n.inventoryCode,tdProcessing:n.processing,thenQtyStock:n.qtyBal,tdQty:n.tdQty,assistQty:n.assistQty||0,assMeasureScale:n.assMeasureScale||null,assMeasureUnit:n.assMeasureUnit||null,comment:n.comment||null};return e.transCode&&(i.tdId=n.tdId||""),a.push(i),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=D.saveAndStartWf,n=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,containerOutWarehouseManager:e.warehouse.containerOutWarehouseManager||null,containerInWarehouseManager:e.warehouseIn.containerInWarehouseManager||null,inPut:{containerCodeOut:e.warehouse.warehouseCode,containerCode:e.warehouseIn.warehouseCode,dataSet:a}}),i={listId:e.listId,biComment:"",formData:(0,m.default)(n),wfPara:(0,m.default)((0,o.default)({},e.processCode,{businessKey:e.businessKey,createdBy:n.creator}))};e.transCode&&(t=D.saveAndCommitTask,i.biReferenceId=e.biReferenceId,i.wfPara=(0,m.default)({businessKey:e.transCode,createdBy:n.creator,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=D.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,x.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=t.attachment;var o=[],l=s.inPut,u=l.dataSet,c=void 0===u?[]:u,f=!0,m=!1,h=void 0;try{for(var v,p=(0,r.default)(c);!(f=(v=p.next()).done);f=!0){var C=v.value;C=(0,d.default)({},C,{qtyBal:C.thenQtyStock,inventoryPic:C.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+C.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:C.inventoryName_transObjCode,inventoryCode:C.inventoryCode_transObjCode,specification:C.specification_transObjCode,measureUnit:C.measureUnit_transObjCode,processing:C.tdProcessing}),o.push(C)}}catch(e){m=!0,h=e}finally{try{!f&&p.return&&p.return()}finally{if(m)throw h}}e.warehouseIn={warehouseCode:l.containerCode,warehouseName:l.warehouseName_containerCode,warehouseType:l.warehouseType_containerCode,warehouseProvince:l.warehouseProvince_containerCode,warehouseCity:l.warehouseCity_containerCode,warehouseDistrict:l.warehouseDistrict_containerCode,warehouseAddress:l.warehouseAddress_containerCode},e.warehouse={warehouseCode:l.containerCodeOut,warehouseName:l.warehouseName_containerCodeOut,warehouseType:l.warehouseType_containerCodeOut,warehouseProvince:l.warehouseProvince_containerCodeOut,warehouseCity:l.warehouseCity_containerCodeOut,warehouseDistrict:l.warehouseDistrict_containerCodeOut,warehouseAddress:l.warehouseAddress_containerCodeOut},e.warehouseParams={whCode:e.warehouse.warehouseCode},e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,d.default)({},e.handlerDefault,{biComment:s.biComment,biId:s.biId,biProcessStatus:s.biProcessStatus,creator:s.creator,modifer:s.modifer}),e.biReferenceId=s.biReferenceId,e.matterList=o,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,o.default)({},"BDKCDB_DATA",{matter:this.matterList,warehouse:this.warehouse,warehouseIn:this.warehouseIn,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("BDKCDB_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.warehouse=t.warehouse,this.warehouseIn=t.warehouseIn,this.formData=t.formData,this.warehouseParams={whCode:this.warehouse.warehouseCode},sessionStorage.removeItem("BDKCDB_DATA")}}}},yCVl:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("iR2W"),r=n(i),s=a("kNGm"),o=n(s),l=a("Qg39");t.default={name:"materListItem",props:{item:{type:Object,default:function(){return{}}},isHasCount:{type:Boolean,default:!0}},data:function(){return{}},filters:{dateFormat:o.default,numberComma:r.default,toFixed:l.toFixed}}},yGkO:function(e,t){},yM1i:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("7g+Q"),r=n(i),s=a("HXPS"),o=n(s);t.default={name:"PopSingleSelect",props:{title:{type:String,default:""},value:{type:String,default:""},data:{type:Array,default:function(){return[]}},isRequired:{type:Boolean,default:!1}},components:{Popup:r.default,Icon:o.default},data:function(){return{showPop:!1,tmp:"",selected:""}},watch:{value:{handler:function(e){this.tmp=e,this.selected=e}}},methods:{selItem:function(e){this.tmp=e},confirm:function(){this.selected=this.tmp,this.showPop=!1,this.$emit("input",this.selected)}},created:function(){this.tmp=this.value,this.selected=this.value}}},yMkD:function(e,t){},yPF3:function(e,t,a){"use strict";function n(e){a("YX+4")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("qEHM");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("SfL5"),o=a.n(s),l=a("YtHB"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-39883817",null);t.default=c.exports},yPVV:function(e,t,a){"use strict";function n(e){a("6xKo")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("rVlw");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("OMTN"),o=a.n(s),l=a("bIpS"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-6c02f433",null);t.default=c.exports},yQzi:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2558,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"客户名称",value:"dealerName_dealerCodeCredit"}]}},mixins:[i.default],methods:{},created:function(){}}},"yS+Q":function(e,t){},yT5Y:function(e,t){},yYGT:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"childPage"},[a("div",{staticClass:"content"},[a("div",{staticClass:"mater_baseinfo vux-1px-b"},[a("div",{staticClass:"mater_property"},[a("div",{staticClass:"each_property vux-1px-b"},[a("label",{staticClass:"required"},[e._v("公司名称:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newCompanyInfo.groupName,expression:"newCompanyInfo.groupName"}],staticClass:"property_val",attrs:{type:"text"},domProps:{value:e.newCompanyInfo.groupName},on:{blur:e.checkGroupName,input:function(t){t.target.composing||e.$set(e.newCompanyInfo,"groupName",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"each_property required"},[a("label",{staticClass:"required"},[e._v("公司简称:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newCompanyInfo.groupShortName,expression:"newCompanyInfo.groupShortName"}],staticClass:"property_val",attrs:{type:"text"},domProps:{value:e.newCompanyInfo.groupShortName},on:{blur:e.checkShortName,input:function(t){t.target.composing||e.$set(e.newCompanyInfo,"groupShortName",t.target.value)}}})])]),e._v(" "),a("upload-image",{attrs:{src:e.newCompanyInfo.groupPic},on:{"on-upload":e.onUpload,"on-error":e.getDefaultImg}})],1),e._v(" "),a("r-picker",{attrs:{title:"公司类型:",data:e.CompanyType,value:e.newCompanyInfo.companyType,required:!0},model:{value:e.newCompanyInfo.companyType,callback:function(t){e.$set(e.newCompanyInfo,"companyType",t)},expression:"newCompanyInfo.companyType"}}),e._v(" "),a("r-picker",{attrs:{title:"公司状态",data:e.CompanyStatus,value:e.newCompanyInfo.status},model:{value:e.newCompanyInfo.status,callback:function(t){e.$set(e.newCompanyInfo,"status",t)},expression:"newCompanyInfo.status"}})],1),e._v(" "),a("div",{staticClass:"vux-1px-t btn",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"cfm_btn",on:{click:e.save}},[e._v(e._s(e.groupId?"保存":"提交"))])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},yhA5:function(e,t){},yhv0:function(e,t){},yiMf:function(e,t,a){"use strict";function n(e){a("XzN5")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("0g5o");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("wGHW"),o=a.n(s),l=a("NBQd"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-4d2c04e0",null);t.default=c.exports},yilP:function(e,t){},yjOG:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("HzJ8"),o=n(s),l=a("J0Oq"),d=n(l),u=a("3cXf"),c=n(u),f=a("4YfN"),m=n(f),h=a("IzfM"),v=n(h),p=a("Dkzh"),C=a("AQAo"),y=n(C),_=a("FvvE"),g=(n(_),a("ZTs6")),b=(n(g),a("xbeG")),w=n(b),I=a("vmwj"),x=n(I),D=a("vHT0"),P=n(D);t.default={data:function(){return{BUSobj:{},userInfo:{},BusApps:[],BasicApps:[],homeScroll:null,entityList:[],showDrop:!1,selItem:{}}},components:{busApp:w.default,basicApp:x.default},methods:{goBasic:function(e){this.$router.push({path:""+y.default[e]})},goList:function(e,t,a,n){this.$router.push({path:"/list/"+e+"/"+t,query:{name:a,listId:n}})},goAppDetail:function(e){this.$router.push({path:"/appDetail/"+e})},getDefaultIcon:function(e){var t=a("CYNT");return e&&(e.icon=t),t},getNews:function(){var e=this,t=void 0;return(0,p.getMsgList)().then(function(a){if(a.dataCount>99)return void(t="99+");t=a.dataCount,e.$event.$emit("badgeNum",t)})},getCurrentUser:function(){var e=this;return v.default.currentUser().then(function(t){e.userInfo={photo:t.photo,mobile:t.mobile,userCode:t.userCode,nickname:t.nickname,entityName:t.entityName&&t.entityName.slice(0,4)||""},t.sysGroupList&&t.sysGroupList.forEach(function(a){"C"===a.groupType&&(e.entityList.push(a),a.groupCode===t.entityId&&(e.selItem=a))})})},dropItemClick:function(e){this.selItem.groupCode!==e.groupCode&&(this.selItem=(0,m.default)({},e),this.userInfo.entityName=e.groupName.slice(0,4),this.showDrop=!1,this.$loading.show(),v.default.changeEntity({entityId:e.groupCode}).then(function(e){var t=sessionStorage.getItem("ROSE_LOGIN_TOKEN");t&&(t=JSON.parse(t),t.entityId=e.entityId,t.token=e.token,sessionStorage.setItem("ROSE_LOGIN_TOKEN",(0,c.default)(t)),location.reload())}))}},watch:{$route:{handler:function(e){"HOME"===e.name&&this.homeScroll.refresh()}}},created:function(){var e=this;this.$loading.show(),(0,d.default)(r.default.mark(function t(){var n,i,s,l,d;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getCurrentUser();case 2:return t.next=4,v.default.getMeau().then(function(t){var a=e.BUSobj,n=!0,i=!1,r=void 0;try{for(var s,l=(0,o.default)(t);!(n=(s=l.next()).done);n=!0){var d=s.value;a[d.text]=[];var u=!0,c=!1,f=void 0;try{for(var h,v=(0,o.default)(d.children);!(u=(h=v.next()).done);u=!0){var p=h.value;if(y.default[p.listId]&&(p.icon=p.icon?"/dist/"+p.icon:"",e.BasicApps.push(p)),p.packagePath&&(p.fileID=d.id,p.icon=p.icon?"/dist/"+p.icon:e.getDefaultIcon(),a[d.text].push(p)),p.children){var C=!0,_=!1,g=void 0;try{for(var b,w=(0,o.default)(p.children);!(C=(b=w.next()).done);C=!0){var I=b.value;I.packagePath&&(I.fileID=d.id,I.icon=I.icon?"/dist/"+I.icon:e.getDefaultIcon(),a[d.text][p.text]?a[d.text][p.text].childList.push(I):e.$set(a[d.text],p.text,{childId:p.id,childName:p.text,childList:[I]}))}}catch(e){_=!0,g=e}finally{try{!C&&w.return&&w.return()}finally{if(_)throw g}}}}}catch(e){c=!0,f=e}finally{try{!u&&v.return&&v.return()}finally{if(c)throw f}}e.BusApps.push({id:d.id,name:d.text,folder:d.folder,appList:(0,m.default)({},a[d.text])}),e.$loading.hide()}}catch(e){i=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(i)throw r}}});case 4:return n=JSON.parse(sessionStorage.getItem("ROSE_LOGIN_TOKEN")),i=n.name,s=n.avatar,l=n.position,s||(d=e.userInfo.photo,e.userInfo.photo||(d=a("Fuf7")),s=d),e.userInfo=(0,m.default)({},e.userInfo,{name:i,avatar:s,position:l}),t.next=10,e.getNews();case 10:case"end":return t.stop()}},t,e)}))()},mounted:function(){this.homeScroll=new P.default(this.$refs.home,{click:!0})}}},ympj:function(e,t){},ynid:function(e,t,a){function n(e){return a(i(e))}function i(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var r={"./comment.png":"+raq","./praise.png":"GdIh","./todo.png":"lz9o"};n.keys=function(){return Object.keys(r)},n.resolve=i,e.exports=n,n.id="ynid"},yosr:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("6q39"),v=n(h),p=a("kNGm"),C=n(p),y=a("fEP3"),_=a("1KNX"),g=n(_),b=a("7biW"),w=n(b);t.default={name:"work-list-pop",props:{show:{type:Boolean,default:!1},defaultValue:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:m.default,LoadMore:v.default,RScroll:g.default,MSearch:w.default},filters:{dateFormat:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},workList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterList:[{name:"成品名称",value:"inventoryName"},{name:"成品编码",value:"inventoryCode"},{name:"工序名称",value:"procedureName"}],filterProperty:"",inventoryCode:"",orderCode:""}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){return this.selItems.colId===e.colId},selThis:function(e,t){this.showPop=!1,this.selItems=(0,d.default)({},e),this.$emit("sel-work",this.selItems)},setDefaultValue:function(){this.selItems=(0,d.default)({},this.defaultValue)},getWorkOrderTask:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),this.inventoryCode&&(t=[].concat((0,o.default)(t),[{operator:"eq",value:this.inventoryCode,property:"matCode"},{operator:"eq",value:this.orderCode,property:"transCode"}])),(0,y.getWorkCheckList)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;if(e.inventoryCode){var s=r.find(function(t){return t.matCode===e.inventoryCode&&t.transCode===e.orderCode});s&&e.selThis(s)}e.hasNext=n>(e.page-1)*e.limit+r.length,e.workList=1===e.page?r:[].concat((0,o.default)(e.workList),(0,o.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.workList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getWorkOrderTask()},onPullingUp:function(){this.page++,this.getWorkOrderTask()}},created:function(){var e=this.$route.query,t=e.inventoryCode,a=void 0===t?"":t,n=e.orderCode,i=void 0===n?"":n;this.inventoryCode=a,this.orderCode=i,this.setDefaultValue(),this.getWorkOrderTask()}}},yp1W:function(e,t,a){"use strict";function n(e){a("cW3i")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("E0uh");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("tNTb"),o=a.n(s),l=a("2hEA"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-86c8fdde",null);t.default=c.exports},yqeo:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("HXPS"),d=n(l),u=a("7g+Q"),c=n(u),f=a("6q39"),m=n(f),h=a("fEP3"),v=a("1KNX"),p=n(v),C=a("7biW"),y=n(C);a("zWMP");t.default={name:"work-list-pop",props:{show:{type:Boolean,default:!1},params:{type:Object,default:function(){return{calc_rel_code:7051,view_id:"view_94"}}},workType:{type:String,default:"派工"}},components:{Icon:d.default,Popup:c.default,LoadMore:m.default,RScroll:p.default,MSearch:y.default},data:function(){return{showPop:!1,srhInpTx:"",scrollOptions:{click:!0},btnText:"关闭",filterList:[{name:"成品名称",value:"inventoryName"},{name:"工序名称",value:"procedureName"}],filterProperty:"",taskWorkList:[],tmpItems:[]}},watch:{show:{handler:function(e){this.showPop=e}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1),this.tmpItems=[]},findIndex:function(e,t){return e.findIndex(function(e){var a=!0;return e.transCode&&(a=e.transCode===t.transCode),a&&e.inventoryName===t.inventoryName&&e.procedureName===t.procedureName})},showSelIcon:function(e){return-1!==this.findIndex(this.tmpItems,e)},selThis:function(e,t){var a=this.tmpItems,n=this.findIndex(a,e);if(-1!==n)return a.splice(n,1),void(a.length||(this.btnText="关闭"));a.push(e),this.btnText=this.tmpItems?"发起工单"+this.workType:"关闭"},getWorkOrderTask:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,h.getWorkOrderTask)({filter:(0,r.default)(t)}).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;n.forEach(function(e){e.isStartTask=!1}),e.taskWorkList=n})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.taskWorkList={},this.$refs.bScroll.scrollTo(0,0),this.getWorkOrderTask()},btnHandle:function(){"关闭"!==this.btnText&&this.$emit("sel-task",this.tmpItems),this.showPop=!1}},created:function(){this.getWorkOrderTask()}}},"yt3/":function(e,t,a){"use strict";function n(e){a("/ung")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("eQoa");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("yM1i"),o=a.n(s),l=a("BhuD"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-80c43b4c",null);t.default=c.exports},yv4D:function(e,t,a){"use strict";function n(e){a("pkoR")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("xJ3M");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("ZsTC"),o=a.n(s),l=a("vJJz"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-3f1c3a41",null);t.default=c.exports},yvm3:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_content"},[e._m(0),e._v(" "),e._l(e.costList,function(t,n){return a("div",{key:n,staticClass:"main_content",class:{has_border:n>0}},[a("form-cell",{attrs:{cellTitle:"费用名称",cellContent:t.costName_expCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"费用科目",cellContent:t.expSubject}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"费用类型",cellContent:t.costType_expCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"申请金额",showSymbol:"",cellContent:e._f("numberComma")(e._f("toFixed")(t.tdAmount),3)}}),e._v(" "),a("form-cell",{attrs:{"cell-title":"报销事由","cell-content":t.expCause}}),e._v(" "),e.isAccounting?a("x-input",{attrs:{type:"number",title:"可抵扣税金",value:t.taxAmount,"text-align":"right"},on:{"on-focus":e.getFocus,"on-blur":function(a){e.calcTax(t)}},model:{value:t.taxAmount,callback:function(a){e.$set(t,"taxAmount",e._n(a))},expression:"item.taxAmount"}}):a("form-cell",{attrs:{cellTitle:"可抵扣税金",showSymbol:"",cellContent:e._f("numberComma")(e._f("toFixed")(t.taxAmount),3)}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"抵扣后金额",showSymbol:"",cellContent:e._f("numberComma")(e._f("toFixed")(t.noTaxAmount),3)}})],1)})],2),e._v(" "),a("div",{staticClass:"form_content",staticStyle:{"margin-top":"0.1rem"}},[e._m(1),e._v(" "),a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"往来名称",cellContent:e.dealerInfo.dealerName_dealerCodeCredit}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来关系标签",cellContent:e.dealerInfo.crDealerLabel}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"信用额度",showSymbol:"",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.tdCreditLine),3)}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来余额",showSymbol:"",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.thenAmntBal),3)}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次贷方增加",showSymbol:"",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.thenAlreadyAmnt),3)}}),e._v(" "),e.isAccounting?a("x-input",{attrs:{type:"number",title:"本次支付",value:e.dealerInfo.thenTotalAmntBal,"text-align":"right"},on:{"on-focus":e.getFocus,"on-blur":function(t){e.calcPayment(e.dealerInfo)}},model:{value:e.dealerInfo.thenTotalAmntBal,callback:function(t){e.$set(e.dealerInfo,"thenTotalAmntBal",e._n(t))},expression:"dealerInfo.thenTotalAmntBal"}}):a("form-cell",{attrs:{cellTitle:"本次支付",showSymbol:"",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.thenTotalAmntBal),3)}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次报销与支付后余额",showSymbol:"",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.differenceAmount),3)}})],1)]),e._v(" "),e.isCashier?a("pop-cash-list",{attrs:{"default-value":e.cashInfo,request:"4",params:e.cashParams,required:""},on:{"sel-item":e.selCash}},[a("template",{slot:"other"},[a("form-cell",{attrs:{cellTitle:"支付金额",showSymbol:"",cellContent:e._f("numberComma")(e._f("toFixed")(e.cashInfo.tdAmountCopy1),3)}})],1)],2):e.isCashier||e.isAccounting||e.isApproval?e._e():a("div",{staticClass:"form_content",staticStyle:{"margin-top":"0.1rem"}},[a("div",{staticClass:"form_title"},[a("span",{staticClass:"iconfont icon-baoxiao"}),e._v(" "),a("span",{staticClass:"title"},[e._v("资金账户信息")])]),e._v(" "),a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"资金账户",cellContent:e.cashInfo.fundName_cashInCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"资金账户类型",cellContent:e.cashInfo.cashType_cashInCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"账户余额",showSymbol:"",cellContent:e._f("numberComma")(e._f("toFixed")(e.cashInfo.thenAmntBalCopy1),3)}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"支付金额",showSymbol:"",cellContent:e._f("numberComma")(e._f("toFixed")(e.cashInfo.tdAmountCopy1),3)}})],1)]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,"agree-handler":e.agreeHandler,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title"},[a("span",{staticClass:"iconfont icon-baoxiao"}),e._v(" "),a("span",{staticClass:"title"},[e._v("费用信息")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title"},[a("span",{staticClass:"iconfont icon-mingxi1"}),e._v(" "),a("span",[e._v("往来信息")])])}],r={render:n,staticRenderFns:i};t.a=r},yxL8:function(e,t){},"z/Aa":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"childPage"},[a("div",{staticClass:"content"},[a("div",{staticClass:"each_property vux-1px-b",on:{click:e.getDate}},[a("label",[e._v("期间(月份):")]),e._v(" "),a("div",{staticClass:"property_val",class:{tip:""===e.submitData.date}},[e._v(e._s(e.submitData.date||"请选择"))])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("效率与成本改进成果:")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.submitData.achievement,expression:"submitData.achievement"}],staticClass:"property_val",attrs:{placeholder:"请输入"},domProps:{value:e.submitData.achievement},on:{input:function(t){t.target.composing||e.$set(e.submitData,"achievement",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("效率与成本改进机会:")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.submitData.chance,expression:"submitData.chance"}],staticClass:"property_val",attrs:{placeholder:"请输入"},domProps:{value:e.submitData.chance},on:{input:function(t){t.target.composing||e.$set(e.submitData,"chance",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"btn vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"cfm_btn",on:{click:e.submit}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},z10A:function(e,t,a){"use strict";function n(e){a("lSBR")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Ij+m");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("bI5q"),o=a.n(s),l=a("BBrP"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-4707beee",null);t.default=c.exports},z2pA:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,"default-contact":e.contactInfo,dealerTitle:"供应商","dealer-params":e.dealerParams},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("dealer-other-part",{attrs:{"dealer-config":e.dealerConfig,"dealer-info":e.dealerInfo}}),e._v(" "),a("div",{staticClass:"materiel_list"},[Object.keys(e.orderList).length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n,i){return a("div",{key:n,staticClass:"each_mater",class:{"vux-1px-b":i<Object.keys(e.orderList).length-1}},[t.length?a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v(e._s(e.orderListTitle))]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]):e._e(),e._v(" "),e._l(t,function(t,i){return a("div",{key:i,class:{mater_delete:e.matterModifyClass}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass,config:e.matterEditConfig.property},on:{"on-modify":function(a){e.modifyMatter(t,i,n)}},nativeOn:{click:function(a){e.delClick(i,t)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[n.price&&n.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price)+"\n                      ")]),e._v(" "),a("div",[a("r-number",{attrs:{num:n.tdQty,checkAmt:e.checkAmt,max:n.qtyBal},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",t)},expression:"item.tdQty"}})],1)]):e._e()]}},{key:"editPart",fn:function(t){var r=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r.price&&(r.tdQty||0===r.tdQty)&&!e.matterModifyClass,expression:"(item.price && (item.tdQty || item.tdQty === 0)) &&!matterModifyClass"}],staticClass:"edit-part vux-1px-l",on:{click:function(t){e.modifyMatter(r,i,n)}}},[a("span",{staticClass:"iconfont icon-bianji1"})])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(i,t)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)})],2)}),0)]:[a("div",{on:{click:function(t){e.showOrderPop=!e.showOrderPop}}},[a("div",{staticClass:"title"},[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择"+e._s(e.orderListTitle))]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多物料")])]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showOrderPop,config:e.matterPopConfig,"filter-list":e.filterList,"matter-params":e.matterParams,"default-value":e.matterList,orderTitle:e.matterPopOrderTitle},on:{"sel-matter":e.selMatter},model:{value:e.showOrderPop,callback:function(t){e.showOrderPop=t},expression:"showOrderPop"}})],2),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.facility,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,config:e.matterEditConfig},on:{"sel-confirm":e.selConfirm},model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num"},[a("span",{staticStyle:{fontSize:".14rem"}},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.tdAmount))+"\n      "),a("span",{staticClass:"taxAmount"},[e._v("[含税: ￥"+e._s(e._f("numberComma")(e.taxAmount))+"]")])]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},z5TY:function(e,t,a){"use strict";function n(e){a("jICf")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("G/uS");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("jrYp"),o=a.n(s),l=a("sIfZ"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},z7Zk:function(e,t,a){"use strict";function n(e){a("bOvy")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("CGvj");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("eg1s"),o=a.n(s),l=a("NIYf"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-07eb5861",null);t.default=c.exports},zF26:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listViewID:2476,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"设备名称",value:"facilityName_facilityObjCode"}]}},mixins:[i.default],methods:{},created:function(){}}},zHRR:function(e,t,a){"use strict";function n(e){a("8qFH")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("ccoT");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("ncND"),o=a.n(s),l=a("e/N9"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-58bf7da2",null);t.default=c.exports},zHvc:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("r-search",{attrs:{filterList:e.filterList,isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"each_mater box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"order-code"},[e._t("titleName",[a("span",{staticClass:"order-title"},[e._v("订单号")])]),e._v(" "),a("span",{staticClass:"order-num"},[e._v(e._s(t.transCode))])],2),e._v(" "),a("div",{staticClass:"order-matter"},[a("div",{staticClass:"mater_img"},[a("img",{attrs:{src:t.inventoryPic,alt:"mater_img"},on:{error:function(a){e.getDefaultImg(t)}}})]),e._v(" "),a("div",{staticClass:"mater_main "},[a("div",{staticClass:"mater_name"},[e._v("\n                "+e._s(t.inventoryName)+"\n              ")]),e._v(" "),a("div",{staticClass:"mater_info"},[a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline",staticStyle:{display:"inline-block"}},[a("div",{staticClass:"mater_code"},[a("span",{staticClass:"title"},[e._v("编码")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(t.inventoryCode))])])]),e._v(" "),a("div",{staticClass:"ForInline",staticStyle:{display:"inline-block"}},[a("div",{staticClass:"mater_spec"},[a("span",{staticClass:"title"},[e._v("规格")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(t.specification||"无"))])])])]),e._v(" "),a("div",{staticClass:"withoutColor"},[e._t("basicInfo",[a("div",{staticClass:"mater_classify"},[a("span",{staticClass:"type"},[e._v("属性: "+e._s(t.processing))]),e._v(" "),a("span",{staticClass:"father"},[e._v("大类: "+e._s(t.inventoryType))]),e._v(" "),a("span",{staticClass:"child"},[e._v("子类: "+e._s(t.inventorySubclass||"无"))])]),e._v(" "),a("div",{staticClass:"mater_material"},[a("span",{staticClass:"unit"},[e._v("单位: "+e._s(t.measureUnit))]),e._v(" "),a("span",{staticClass:"color"},[e._v("颜色: "+e._s(t.inventoryColor||"无"))]),e._v(" "),a("span",{staticClass:"spec"},[e._v("材质: "+e._s(t.material||"无"))])])],{item:t}),e._v(" "),e._t("materInfo",[a("div",{staticClass:"mater_material"},[a("span",[e._v("待交付数量:"+e._s(t.qtyBal))]),e._v(" "),a("span",[e._v("库存: "+e._s(t.qtyStockBal))])])],{item:t})],2)])])]),e._v(" "),a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-circle-outline selIcon",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1),e._v(" "),a("div",{staticClass:"count_mode vux-1px-t"},[a("span",{staticClass:"count_num"},[e._v(" "+e._s(e.tmpItems.length?"已选 "+e.tmpItems.length+" 个":"请选择")+" ")]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.selConfirm}},[e._v("确定")])])])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},zNZL:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"matter-item"},[a("div",{staticClass:"mater_img"},[a("img",{attrs:{src:e.item.inventoryPic,alt:"mater_img"},on:{error:function(t){e.getDefaultImg(e.item)}}})]),e._v(" "),a("div",{staticClass:"mater_main",class:[{"show-delete":e.showDelete},{"no-edit":e.hideEdit}]},[a("div",{staticClass:"mater_name"},[e._v("\n      "+e._s(e.item.inventoryName||e.item.facilityName)+"\n    ")]),e._v(" "),a("div",{staticClass:"matter-info"},[a("div",{staticClass:"matter-info-item"},[a("span",{staticClass:"title"},[e._v("编码")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(e.item.inventoryCode||e.item.facilityCode||e.item.outPutMatCode))])]),e._v(" "),a("div",{staticClass:"matter-info-item matter-spec"},[a("span",{staticClass:"title"},[e._v("规格")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(e.item.specification||e.item.facilitySpecification||e.item.specification_outPutMatCode||"无"))])])]),e._v(" "),a("div",{staticClass:"matter-more"},e._l(e.config,function(t,n){return a("span",{key:n,staticClass:"unit"},[e._v("\n        "+e._s(t.text)+": \n        "),t.showFieldCode?a("span",[e._v("\n          "+e._s(null!=e.item[t.showFieldCode]&&""!==e.item[t.showFieldCode]?e.item[t.showFieldCode]:"无")+"\n        ")]):a("span",[e._v("\n          "+e._s(null!=e.item[t.fieldCode]&&""!==e.item[t.fieldCode]?e.item[t.fieldCode]:"无")+"\n        ")])])}),0),e._v(" "),e._t("info",null,{item:e.item}),e._v(" "),e._t("edit",[e.hideEdit&&!e.showDelete?a("div",{staticClass:"mater_other",on:{click:e.modifyMatter}},[a("div",{staticClass:"edit-tips"},[e._v("点击进行填写")])]):e._e()],{item:e.item}),e._v(" "),e._t("editPart",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.showEdit&&!e.showDelete,expression:"showEdit && !showDelete"}],staticClass:"edit-part vux-1px-l",on:{click:e.modifyMatter}},[a("span",{staticClass:"iconfont icon-bianji1"})])],{item:e.item})],2)])},i=[],r={render:n,staticRenderFns:i};t.a=r},zOFp:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("HzJ8"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("PKHo"),f=n(c),m=a("zWMP"),h=a("BUFe"),v=n(h),p=a("AupE"),C=n(p),y=a("sUbJ"),_=n(y),g=a("FlCz"),b=n(g),w=a("d7ck"),I=n(w),x=a("MVgC"),D=n(x);t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",orderList:{},basicInfo:{},DuplicateBoms:[],UniqueBom:[],bomPopShow:!1,bom:{}}},mixins:[u.default,f.default],components:{workFlow:C.default,RAction:v.default,MatterItem:_.default,BomList:b.default,FormCell:I.default,BomPop:D.default},watch:{DuplicateBoms:{handler:function(e){var t=function(e,t){return e.inventoryCode===t.inventoryCode};this.UniqueBom=function(e){return e.reduce(function(e,a){return e.some(function(e){var n=t(e,a);return n&&(e.tdQty=(0,m.accAdd)(e.tdQty,a.tdQty)),n})||e.push(a),e},[])}(this.DuplicateBoms)}}},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},checkBom:function(e){this.bom=e,this.bomPopShow=!0},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u={};s.order;e.attachment=d;var c=s.inPut.dataSet,f=!0,h=!1,v=void 0;try{for(var p,C=(0,o.default)(c);!(f=(p=C.next()).done);f=!0){var y=p.value;if(y.inventoryPic=y.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+y.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),y.boms){var _=!0,g=!1,b=void 0;try{for(var w,I=(0,o.default)(y.boms);!(_=(w=I.next()).done);_=!0){var x=w.value;x.inventoryCode=x.transObjCode,x.warehouseName=x.warehouseName_containerCodeOut,x.warehouseCode=x.containerCodeOut,x.qtyStock=x.thenQtyStock,x.tdQty=(0,m.accSub)((0,m.accMul)(y.processQty,x.bomQty,1+x.bomSpecificLoss),x.lockQty)}}catch(e){g=!0,b=e}finally{try{!_&&I.return&&I.return()}finally{if(g)throw b}}}e.DuplicateBoms=e.DuplicateBoms.concat(JSON.parse((0,r.default)(y.boms))),u[y.transMatchedCode]||(u[y.transMatchedCode]=[]),u[y.transMatchedCode].push(y)}}catch(e){h=!0,v=e}finally{try{!f&&C.return&&C.return()}finally{if(h)throw v}}e.orderList=u,e.orderInfo=s,e.workFlowInfoHandler()})}}}},zPJ7:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o),d=a("zWMP"),u=(a("Qg39"),a("BUFe")),c=n(u),f=a("AupE"),m=n(f),h=a("89pA"),v=n(h),p=a("bFc7"),C=n(p),y=a("6WeX"),_=n(y),g=a("hPJo"),b=n(g),w=a("kKsb"),I=n(w),x=a("sUbJ"),D=n(x),P=a("d7ck"),S=n(P);t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"",orderList:{},warehouse:{},dealerInfo:{},basicInfo:{}}},computed:{noTaxAmount:function(){var e=0;return this.orderInfo.outPut.dataSet.forEach(function(t){e=(0,d.accAdd)(e,t.noTaxAmount)}),e},taxAmount:function(){var e=0;return this.orderInfo.outPut.dataSet.forEach(function(t){e=(0,d.accAdd)(e,t.taxAmount)}),e}},mixins:[l.default],components:{workFlow:m.default,RAction:c.default,PopWarehouseList:v.default,contactPart:C.default,PriceTotal:_.default,WarehouseContent:b.default,ProjectPart:I.default,MatterItem:D.default,FormCell:S.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u={},c=s.outPut,f=void 0===c?{}:c;e.attachment=l;var m=s.outPut.dataSet,h=!0,v=!1,p=void 0;try{for(var C,y=(0,r.default)(m);!(h=(C=y.next()).done);h=!0){var _=C.value;e.count=(0,d.accAdd)(e.count,_.tdAmount),_.inventoryPic=_.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),_.inventoryName_transObjCode=_.inventoryName_outPutMatCode,_.transObjCode=_.outPutMatCode,u[_.orderCode]||(u[_.orderCode]=[]),u[_.orderCode].push(_)}}catch(e){v=!0,p=e}finally{try{!h&&y.return&&y.return()}finally{if(v)throw p}}e.orderList=u,e.dealerInfo={creatorName:s.dealerDebitContactPersonName,dealerName:f.dealerName_dealerDebit,dealerMobilePhone:s.dealerDebitContactInformation,dealerContactPersonName:s.dealerDebitContactPersonName,dealerCode:f.dealerDebit,dealerLabelName:f.drDealerLabel,province:f.province_dealerDebit,city:f.city_dealerDebit,county:f.county_dealerDebit,address:f.address_dealerDebit,payment:f.drDealerPaymentTerm,logistics:s.drDealerLogisticsTerms},e.warehouse={warehouseCode:f.containerCodeOut,warehouseName:f.warehouseName_containerCodeOut,warehouseType:f.warehouseType_containerCodeOut,warehouseProvince:f.warehouseProvince_containerCodeOut,warehouseCity:f.warehouseCity_containerCodeOut,warehouseDistrict:f.warehouseDistrict_containerCodeOut,warehouseAddress:f.warehouseAddress_containerCodeOut},e.orderInfo=s,e.workFlowInfoHandler()})}}}},zRbv:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=(a("XAqG"),a("HyXB"),a("MjAd")),o=n(s),l=a("ak47");n(l);t.default={name:"CPXQ_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"经办人",value:"handlerName"},{name:"交易号",value:"transCode"}],listViewID:2335}},mixins:[o.default],methods:{pathChange:function(e,t,a){var n=this;if(!this.clickVisited){var i=e.transCode,s=this.$route.query.name,o=this.$route.params,l=o.folder,d=o.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,r.default)({},e));var u=a+"/"+l+"/"+d;setTimeout(function(){n.clickVisited=!1,n.$router.push({path:u,query:{name:s,transCode:i}})},200)}},goDetail:function(e,t){this.pathChange(e,t,"/detail")},goUserEdit:function(e,t){this.pathChange(e,t,"/fillform")}}}},zSNY:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{on:{"on-sort":e.onSortList}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noCount:"",noPrice:""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},zWMP:function(e,t,a){"use strict";function n(e,t){var a,n,i,r;try{var s=e.toString().split(".");a=s[1]&&s[1].length||0}catch(e){a=0,console.error(e)}try{var o=t.toString().split(".");n=o[1]&&o[1].length||0}catch(e){n=0,console.error(e)}if(r=Math.abs(a-n),i=Math.pow(10,Math.max(a,n)),r>0){var l=Math.pow(10,r);a>n?(e=Number(e.toString().replace(".","")),t=Number(t.toString().replace(".",""))*l):(e=Number(e.toString().replace(".",""))*l,t=Number(t.toString().replace(".","")))}else e=Number(e.toString().replace(".","")),t=Number(t.toString().replace(".",""));return(e+t)/i}function i(){var e=0,t=1;try{for(var a=arguments.length,n=Array(a),i=0;i<a;i++)n[i]=arguments[i];var r=!0,s=!1,o=void 0;try{for(var d,u=(0,l.default)(n);!(r=(d=u.next()).done);r=!0){var c=d.value;if(void 0!==c&&!isNaN(c)){c=""+Number(c);c.split(".").length>1&&(e+=c.split(".")[1].length),t*=Number(c.replace(".",""))}}}catch(e){s=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(s)throw o}}}catch(e){}return t/Math.pow(10,e)}function r(e,t){var a,n,i;try{var r=e.toString().split(".");a=r[1]&&r[1].length||0}catch(e){a=0,console.error(e)}try{var s=t.toString().split(".");n=s[1]&&s[1].length||0}catch(e){n=0,console.error(e)}return i=Math.pow(10,Math.max(a,n)),a>=n?a:n,((e*i-t*i)/i).toFixed(2)}function s(e,t){isNaN(e)&&(e=0),isNaN(t)&&(t=0),e=Number(e),t=Number(t);var a,n,i=0,r=0;try{var s=e.toString().split(".");i=s[1]&&s[1].length||0}catch(e){console.error(e)}try{var o=t.toString().split(".");r=o[1]&&o[1].length||0}catch(e){console.error(e)}return a=Number(e.toString().replace(".","")),n=Number(t.toString().replace(".","")),a/n*Math.pow(10,r-i)}Object.defineProperty(t,"__esModule",{value:!0});var o=a("HzJ8"),l=function(e){return e&&e.__esModule?e:{default:e}}(o);t.accAdd=n,t.accMul=i,t.accSub=r,t.accDiv=s},zcWi:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),m=a("89pA"),h=n(m),v=a("hPJo"),p=n(v),C=a("3NX5"),y=n(C);t.default={data:function(){return{orderInfo:{},warehouseIn:{},warehouseOut:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513"}},mixins:[l.default],components:{workFlow:f.default,PopWarehouseList:h.default,RAction:u.default,WarehouseContent:p.default,MatterList:y.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.inPut,n=void 0===a?{}:a,i=n.dataSet,s=!0,o=!1,l=void 0;try{for(var d,u=(0,r.default)(i);!(s=(d=u.next()).done);s=!0){var c=d.value;c.inventoryPic=c.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+c.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){o=!0,l=e}finally{try{!s&&u.return&&u.return()}finally{if(o)throw l}}e.warehouseIn={warehouseCode:n.containerCode,warehouseName:""+n.warehouseName_containerCode,warehouseAction:"入库",warehouseIcon:"icon-ruku",warehouseType:n.warehouseType_containerCode,warehouseProvince:n.warehouseProvince_containerCode,warehouseCity:n.warehouseCity_containerCode,warehouseDistrict:n.warehouseDistrict_containerCode,warehouseAddress:n.warehouseAddress_containerCode},e.warehouseOut={warehouseCode:n.containerCodeOut,warehouseName:""+n.warehouseName_containerCodeOut,warehouseAction:"出库",warehouseIcon:"icon-chuku",warehouseType:n.warehouseType_containerCodeOut,warehouseProvince:n.warehouseProvince_containerCodeOut,warehouseCity:n.warehouseCity_containerCodeOut,warehouseDistrict:n.warehouseDistrict_containerCodeOut,warehouseAddress:n.warehouseAddress_containerCodeOut},e.orderInfo=t.formData,e.workFlowInfoHandler()})}},created:function(){}}},zgOi:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["微笑","撇嘴","色","发呆","得意","流泪","害羞","闭嘴","睡","大哭","尴尬","发怒","调皮","呲牙","惊讶","难过","酷","冷汗","抓狂","吐","偷笑","可爱","白眼","傲慢","饥饿","困","惊恐","流汗","憨笑","大兵","奋斗","咒骂","疑问","嘘","晕","折磨","衰","骷髅","敲打","再见","擦汗","抠鼻","鼓掌","糗大了","坏笑","左哼哼","右哼哼","哈欠","鄙视","委屈","快哭了","阴险","亲亲","吓","可怜","菜刀","西瓜","啤酒","篮球","乒乓","咖啡","饭","猪头","玫瑰","凋谢","示爱","爱心","心碎","蛋糕","闪电","炸弹","刀","足球","瓢虫","便便","月亮","太阳","礼物","拥抱","强","弱","握手","胜利","抱拳","勾引","拳头","差劲","爱你","NO","OK","爱情","飞吻","跳跳","发抖","怄火","转圈","磕头","回头","跳绳","挥手","激动","街舞","献吻","左太极","右太极"];t.default={name:"wechat-emotion",mounted:function(){var e=this,t=this.$el.innerHTML;this.index=n.indexOf(t),this.backgroundPositionX=24*-this.index;var a="";a=this.isGif?'<img src="https://res.wx.qq.com/mpres/htmledition/images/icon/emotion/'+this.index+'.gif">':'<span class="vux-static-emotion" style="background:url(https://res.wx.qq.com/mpres/htmledition/images/icon/emotion/default218877.gif) '+this.backgroundPositionX+'px 0;"></span>',this.$nextTick(function(){e.$el.innerHTML=a})},props:{isGif:Boolean},data:function(){return{src:"",backgroundPositionX:0}}}},zgYb:function(e,t){},zlAJ:function(e,t,a){"use strict";function n(e){a("KpoN")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("LbKK");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("/zZU"),o=a.n(s),l=a("RiJb"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-5abaf3c6",null);t.default=c.exports},zlER:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper cpxq-detail-container"},[a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.contactInfo,payment:!1,logistics:!1}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"product"},[e._m(0),e._v(" "),a("form-cell",{attrs:{cellTitle:"标题",cellContent:e.orderInfo.demandTitle}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"描述",cellContent:e.orderInfo.demandDescribe}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"备注",cellContent:e.orderInfo.biComment}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1)])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title"},[a("div",[a("span",{staticClass:"iconfont icon-mingxi1"}),e._v(" "),a("span",[e._v("需求信息")])])])}],r={render:n,staticRenderFns:i};t.a=r},zlTd:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vux-alert"},[a("x-dialog",{attrs:{"mask-transition":e.maskTransition,"dialog-transition":e.dialogTransition,"hide-on-blur":e.hideOnBlur,"mask-z-index":e.maskZIndex},on:{"on-hide":function(t){e.$emit("on-hide")},"on-show":function(t){e.$emit("on-show")}},model:{value:e.showValue,callback:function(t){e.showValue=t},expression:"showValue"}},[a("div",{staticClass:"weui-dialog__hd"},[a("strong",{staticClass:"weui-dialog__title"},[e._v(e._s(e.title))])]),e._v(" "),a("div",{staticClass:"weui-dialog__bd"},[e._t("default",[a("div",{domProps:{innerHTML:e._s(e.content)}})])],2),e._v(" "),a("div",{staticClass:"weui-dialog__ft"},[a("a",{staticClass:"weui-dialog__btn weui-dialog__btn_primary",attrs:{href:"javascript:;"},on:{click:e._onHide}},[e._v(e._s(e.buttonText||"确定"))])])])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},zmA5:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions}},[e.bomInfo.boms&&e.bomInfo.boms.length?a("div",{staticClass:"bom-container"},[a("div",{staticClass:"title vux-1px-b"},[e._v("原料")]),e._v(" "),e._l(e.bomInfo.boms,function(t,n){return a("div",{key:n,staticClass:"each-bom-part vux-1px-b"},[a("div",{staticClass:"main-info-part"},[t.warehouseName||t.warehouseCode?a("div",{staticClass:"main-top"},[t.warehouseName?a("span",{staticClass:"content-title"},[e._v(e._s(t.warehouseName))]):e._e(),e._v(" "),t.warehouseName?a("span",{staticClass:"side-bar vux-1px-r"}):e._e(),e._v(" "),t.warehouseCode?a("span",{staticClass:"content-info"},[e._v(e._s(t.warehouseCode))]):e._e()]):e._e(),e._v(" "),a("div",{staticClass:"main-content"},[a("div",{staticClass:"content-unit"},[a("span",{staticClass:"iconfont icon-bianma"}),e._v(" "),a("span",[e._v("原料编码: "+e._s(t.inventoryCode))])]),e._v(" "),a("div",{staticClass:"content-name"},[e._v("\n                  "+e._s(t.inventoryName)+"\n                ")])]),e._v(" "),e._t("bom-left",null,{bom:t})],2),e._v(" "),a("div",{staticClass:"edit_info"},[e._t("number",[a("div",{staticClass:"number-part"},[a("span",{staticClass:"main-number"},[e._v("本次扣料: "+e._s(t.tdQty)+e._s(t.measureUnit))]),e._v(" "),a("span",{staticClass:"number-unit"},[e._v("可用余额: "+e._s(t.qtyStock))])])],{bom:t}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isEdit&&!e.noSpecificLoss,expression:"isEdit && !noSpecificLoss"}],staticClass:"specific_loss",on:{click:function(a){e.modifyBom(t)}}},[e._v(e._s(e.specificLossText)+": "+e._s(t.specificLoss)),a("span",{staticClass:"iconfont icon-bianji1"})])],2)])})],2):e._e()])],1),e._v(" "),e.isEdit?a("div",{staticClass:"confirm_btn",on:{click:e.confirm}},[a("div",{staticClass:"confirm"},[e._v(e._s(e.btnNext))])]):a("div",{staticClass:"confirm_btn",on:{click:e.closePop}},[a("div",{staticClass:"confirm"},[e._v("关闭")])])])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},zmkY:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("project-part",{attrs:{"project-info":e.orderInfo.order}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_part"},[e._m(0),e._v(" "),a("div",{staticClass:"form_content"},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"往来名称",cellContent:e.dealerInfo.dealerName,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来编码",cellContent:e.dealerInfo.dealerCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来关系标签",cellContent:e.dealerInfo.dealerLabelName}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来余额",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.amntBal),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次出让汇票",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.thenTotalAmntBal),3),showSymbol:""}})],1)])]),e._v(" "),a("div",{staticClass:"form_part"},[e._m(1),e._v(" "),e._l(e.orderInfo.order.dataSet,function(t,n){return a("div",{key:n,staticClass:"form_content",class:{show_border:n!==e.orderInfo.order.dataSet.length-1}},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"汇票号",cellContent:t.draftNumber,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"类型",cellContent:t.draftType}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"承兑人",cellContent:t.accepter}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"金额",cellContent:e._f("numberComma")(e._f("toFixed")(t.tdAmount),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"出票日",cellContent:t.draftDate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"到期日",cellContent:t.draftDueDate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"出让日期",cellContent:t.draftSellDate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"说明",cellContent:t.comment}})],1)])})],2),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("往来详情")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("汇票列表")])])}],r={render:n,staticRenderFns:i};t.a=r},zqN1:function(e,t,a){"use strict";function n(e){a("+eg0")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("XNwX");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("qdsK"),o=a.n(s),l=a("EnXN"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-825c62b8",null);t.default=c.exports},zqmM:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("+62G"),o=n(s),l=a("7g+Q"),d=n(l),u=a("z5TY"),c=n(u),f=a("HXPS"),m=n(f),h=a("d5Kw"),v=n(h),p=a("kNGm"),C=n(p),y=a("1KNX"),_=n(y),g=a("I8ug");t.default={name:"ChangeLog",props:{handle:{type:Boolean,default:!1}},data:function(){return{latestLog:{},changeLogList:[],listId:"a4897429-f4f2-44a4-ade7-2fe8dc67c3cf",popupShow:!1,page:1,limit:10,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},directives:{TransferDom:o.default},components:{Popup:d.default,Group:c.default,Icon:m.default,XButton:v.default,RScroll:_.default},filters:{handerTime:function(e){return(0,C.default)(e,"YYYY-MM-DD")}},methods:{getChangeList:function(){var e=this;return(0,g.getChangeLog)({listId:this.listId,limit:this.limit,page:this.page}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,s=void 0===i?[]:i;1===e.page&&(e.latestLog=s[0]),e.hasNext=n>(e.page-1)*e.limit+s.length,e.changeLogList=1===e.page?s:[].concat((0,r.default)(e.changeLogList),(0,r.default)(s)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},onPullingUp:function(){this.page++,this.getChangeList()},closePop:function(){this.popupShow=!1},onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},EditLog:function(){this.$router.push({path:"/appDetail/"+this.listId+"/addLog"})}},created:function(){var e=this.$route.params.listId;e&&(this.listId=e,this.getChangeList())}}},zsBr:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("4YfN"),o=n(s),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("1KNX"),v=n(h),p=a("7biW"),C=n(p);t.default={name:"RPopup",props:{data:{type:Array,default:function(){return[]}},show:{type:Boolean,default:!1},defaultValue:{type:[Array,Object],default:function(){return{}}},filterList:{type:Array,default:function(){return[]}},multipart:{type:Boolean,default:!1},isFill:{type:Boolean,default:!0},options:{type:Object,default:function(){return{pullUpLoad:!0}}},hasNext:{type:Boolean,default:!0},judgeKeys:{type:Array,default:function(){return[]}}},components:{Icon:c.default,Popup:m.default,RScroll:v.default,RSearch:C.default},data:function(){return{showPop:!1,selItems:[],tmpItems:[]}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.multipart?(this.tmpItems=[].concat((0,d.default)(this.defaultValue)),this.selItems=[].concat((0,d.default)(this.defaultValue))):(this.tmpItems=[(0,o.default)({},this.defaultValue)],this.selItems=[(0,o.default)({},this.defaultValue)])},immediate:!0},data:{handler:function(e){this.finishPullUp()},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,d.default)(this.selItems)),this.$emit("input",!1),this.$event.$emit("shut-down-filter",!1)},findIndex:function(e,t){var a=this;return e.findIndex(function(e){var n=!1;return a.judgeKeys.every(function(a){return e[a]&&(n=e[a]===t[a]),n}),n})},showSelIcon:function(e){return-1!==this.findIndex(this.tmpItems,e)},selThis:function(e,t){if(!this.multipart)return this.showPop=!1,this.selItems=[(0,o.default)({},e)],this.tmpItems=[(0,o.default)({},e)],void this.$emit("on-select",(0,o.default)({},e));var a=this.tmpItems,n=this.findIndex(a,e);if(-1!==n)return void a.splice(n,1);a.push(e)},cfmMater:function(){this.showPop=!1,this.selItems=[].concat((0,d.default)(this.tmpItems)),this.$emit("on-select",JSON.parse((0,r.default)(this.selItems)))},searchList:function(e){this.$refs.bScroll.scrollTo(0,0),this.$emit("on-search",e)},delSelItem:function(e){var t=this.findIndex(this.selItems,e);-1!==t&&this.selItems.splice(t,1),this.tmpItems=[].concat((0,d.default)(this.selItems))},onPullingUp:function(){this.$emit("on-pulling-up")},finishPullUp:function(){var e=this;this.$refs.bScroll&&this.$nextTick(function(){e.$refs.bScroll.finishPullUp()})}},created:function(){}}},zsZJ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("vHT0"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{tabShow:!1,choicedTab:"",activeTabIndex:0,tabScroll:null,startY:0}},props:{tabVal:{type:Array,default:[]}},methods:{switchTab:function(e,t){this.choicedTab=e.view_name,this.activeTabIndex=t,this.tabShow=!1,this.$emit("tab-click",e,t)}},watch:{tabVal:{handler:function(e){e.length&&(this.choicedTab=e[0].view_name)}},tabShow:{handler:function(e){var t=this;e?(this.tabScroll.scrollTo(0,this.startY),this.$nextTick(function(){t.tabScroll.refresh()})):this.startY=this.tabScroll.y}}},created:function(){var e=this;this.tabVal.length&&(this.choicedTab=this.tabVal[0].view_name),this.$nextTick(function(){e.tabScroll=new i.default(e.$refs.tabItem,{click:!0})})}}},zuPC:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions}},[a("div",{staticClass:"edit_matter"},[a("div",{staticClass:"matter_info mg_auto"},[a("img",{staticClass:"mater_img",attrs:{src:e.modifyMatter.inventoryPic,alt:"mater_img"},on:{error:function(t){e.getDefaultImg(e.item)}}}),e._v(" "),a("div",{staticClass:"mater_main"},[a("div",{staticClass:"mater_name"},[e._v("\n              "+e._s(e.modifyMatter.inventoryName||e.modifyMatter.facilityName||e.modifyMatter.inventoryName_outPutMatCode)+"\n            ")]),e._v(" "),a("div",{staticClass:"mater_info",staticStyle:{width:"2.6rem"}},[a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline",staticStyle:{display:"inline-block"}},[a("div",{staticClass:"mater_code"},[a("span",{staticClass:"title"},[e._v("编码")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(e.modifyMatter.inventoryCode||e.modifyMatter.facilityCode||e.modifyMatter.outPutMatCode))])])]),e._v(" "),a("div",{staticClass:"ForInline",staticStyle:{display:"inline-block"}},[a("div",{staticClass:"mater_spec"},[a("span",{staticClass:"title"},[e._v("规格")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(e.modifyMatter.specification||e.modifyMatter.facilitySpecification||e.modifyMatter.specification_outPutMatCode||"无"))])])])])]),e._v(" "),a("div",{staticClass:"mater_more"},e._l(e.config.property,function(t,n){return a("span",[e._v("\n                "+e._s(t.text)+": \n                "),t.showFieldCode?a("span",[e._v("\n                  "+e._s(null!=e.modifyMatter[t.showFieldCode]&&""!==e.modifyMatter[t.showFieldCode]?e.modifyMatter[t.showFieldCode]:"无")+"\n                ")]):a("span",[e._v("\n                 "+e._s(null!=e.modifyMatter[t.fieldCode]&&""!==e.modifyMatter[t.fieldCode]?e.modifyMatter[t.fieldCode]:"无")+"\n                ")])])}),0)])]),e._v(" "),a("group",{staticClass:"mg_auto"},e._l(e.config.editPart,function(t,n){return a("div",{key:n},[t.readOnly?a("cell",{staticClass:"vux-1px-b",attrs:{disabled:"",title:t.text,value:e.modifyMatter[t.fieldCode]||e.modifyMatter[t.showFieldCode]}}):a("div",["r2Numberfield"===t.editorType||"r2Percentfield"===t.editorType||"r2Permilfield"===t.editorType?a("x-input",{staticClass:"vux-1px-b",attrs:{title:t.text,type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(a){e.checkAmt(e.modifyMatter,t.fieldCode,e.modifyMatter[t.fieldCode])},"on-focus":function(t){e.getFocus(t)}},model:{value:e.modifyMatter[t.fieldCode],callback:function(a){e.$set(e.modifyMatter,t.fieldCode,e._n(a))},expression:"modifyMatter[eItem.fieldCode]"}},[t.allowBlank?e._e():a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v(e._s(t.text))])])],2):e._e(),e._v(" "),"r2Datefield"===t.editorType?a("datetime",{staticClass:"vux-1px-b",attrs:{title:t.text,"start-date":e.modifyMatter[t.fieldCode],"end-date":e.modifyMatter[t.fieldCode],placeholder:"请选择"},model:{value:e.modifyMatter[t.fieldCode],callback:function(a){e.$set(e.modifyMatter,t.fieldCode,a)},expression:"modifyMatter[eItem.fieldCode]"}},[t.allowBlank?e._e():a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v(e._s(t.text))])])],2):e._e(),e._v(" "),"r2Combo"===t.editorType?a("popup-picker",{attrs:{data:t.remoteData,"popup-style":e.pickerStyle,placeholder:"请选择"},model:{value:e.modifyMatter[t.fieldCode],callback:function(a){e.$set(e.modifyMatter,t.fieldCode,a)},expression:"modifyMatter[eItem.fieldCode]"}},[t.allowBlank?e._e():a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v(e._s(t.text)+"\n                  ")])])],2):e._e(),e._v(" "),"r2Textfield"===t.editorType?a("x-input",{attrs:{title:t.text,"text-align":"right",placeholder:"请输入"},model:{value:e.modifyMatter[t.fieldCode],callback:function(a){e.$set(e.modifyMatter,t.fieldCode,a)},expression:"modifyMatter[eItem.fieldCode]"}},[t.allowBlank?e._e():a("template",{slot:"label"},[a("span",[e._v(e._s(t.text))])])],2):e._e()],1)],1)}),0)],1)]),e._v(" "),a("div",{staticClass:"confirm_btn",class:{btn_hide:e.btnIsHide},on:{click:e.confirm}},[a("div",{staticClass:"confirm"},[e._v("确认")])])],1)],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},zwn1:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages cpxq-list-container"},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"each_duty",class:{visited:t.visited},on:{click:function(a){e.goDetail(t,n)}}},[a("div",{staticClass:"duty_top"},[a("p",{staticClass:"duty_code"},[e._v("\n            "+e._s(t.transCode)+"\n            "),t.processStatus?a("span",{staticClass:"duty_crt_man"},[e._v(e._s(t.processStatus))]):e._e()]),e._v(" "),a("span",{staticClass:"duty_status",class:t.statusClass},[e._v(e._s(t.statusName))]),e._v(" "),a("i",{staticClass:"iconfont",class:t.whichIcon})]),e._v(" "),a("div",{staticClass:"duty_content"},[a("div",{staticClass:"content_title"},[e._v(e._s(t.turnoverName))]),e._v(" "),a("div",{staticClass:"content_step vux-1px-b"},[a("div",[e._v("部门: "+e._s(t.turnoverDepartMent))]),e._v(" "),a("div",[e._v("岗位: "+e._s(t.turnoverPost))])])]),e._v(" "),a("div",{staticClass:"order_count"},[t.handlerName?a("div",{staticClass:"handle_man"},[e._v("\n            "+e._s(t.handlerName)),a("span",{staticStyle:{fontSize:".1rem"}},[e._v("[经办人]")])]):e._e()])])}),0)],1),e._v(" "),a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},zzue:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("z5TY"),r=n(i),s=a("BGNQ"),o=n(s);t.default={name:"HGCW_List",data:function(){return{listData:[{title:"利润表",code:"LR"},{title:"资产负债表",code:"ZCFZ"}]}},components:{Cell:o.default,Group:r.default},methods:{goDetail:function(e){var t=this.$route.params,a=t.folder,n=t.fileName;this.$router.push({path:"/detail/"+a+"/"+n,query:{code:e.code,name:e.title}})}},created:function(){this.$loading.hide()}}}},["NHnr"]);