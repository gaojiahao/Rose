webpackJsonp([0],{"+0aU":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("just-word-item",{key:n,attrs:{item:t,"no-count":""},nativeOn:{click:function(a){e.goDetail(t,n)}},scopedSlots:e._u([{key:"list-item",fn:function(t){var n=t.item;return e._l(n.detailItem,function(t,i){return a("div",{key:i,staticClass:"each-slot-item"},[a("div",{staticClass:"top-content"},[e._v("汇票号: "+e._s(t.draftNumber))]),e._v(" "),a("div",{staticClass:"main-content"},[a("div",{staticClass:"info_part"},[e._v("\n                承汇类型: "+e._s(n.draftType)+"\n              ")]),e._v(" "),a("div",{staticClass:"info_part"},[e._v("\n                承汇人: "+e._s(n.accepter)+"\n              ")])])])})}}])})}))],1),e._v(" "),e.action.add?a("div",{staticClass:" vux-1px-t btn "},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},"+26s":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("rVsN"),r=n(i),s=a("lC5x"),o=n(s),l=a("4YfN"),d=n(l),u=a("3cXf"),c=n(u),f=a("J0Oq"),m=n(f),h=a("GWbZ"),v=n(h),p=a("z5TY"),C=n(p),_=a("BGNQ"),y=n(_),b=a("8VZL"),g=n(b),w=a("HXPS"),I=n(w),x=a("fQz5"),D=n(x),P=a("+62G"),k=n(P),S=a("7g+Q"),T=n(S),L=a("kNGm"),N=n(L),M=a("iR2W"),A=n(M),O=a("kpbF"),R=a("7biW"),j=n(R),$=a("1KNX"),B=n($);t.default={data:function(){return{page:1,limit:20,hasNext:!0,scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0},flowPage:1,flowLimit:20,FlowHasNext:!0,FlowScrollOptions:{click:!0,pullUpLoad:!0},total:null,flowShow:!1,activeIndex:0,view_id:"",serachVal:"",activeTab:"",applyCode:"",calc_rel_code:"",flowData:[],listData:[],listView:[],listField:[],flowField:[],flowTitle:{},requestData:{}}},directives:{TransferDom:k.default},components:{Tab:g.default,Icon:I.default,Cell:y.default,Group:C.default,Popup:T.default,RScroll:B.default,TabItem:D.default,searchIcon:j.default,CellFormPreview:v.default},filters:{dateFormat:N.default,numberComma:A.default},methods:{resetCondition:function(){this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.$refs.bScroll.resetPullDown()},tabClick:function(e,t){this.activeIndex=t,this.activeTab=e.view_name,this.calc_rel_code=e.calc_rel_code,this.view_id=e.view_id,this.resetCondition(),this.getList()},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.serachVal=a,this.resetCondition(),this.getListData()},getClassfiy:function(){var e=this;return(0,O.getListClassfiy)({account_code:this.uniqueId,device_type:"phone"}).then(function(t){var a=t.data,n=void 0===a?[]:a;e.listView=n,e.calc_rel_code=n[0].calc_rel_code,e.view_id=n[0].view_id})},getFlow:function(e){var t=this;return(0,m.default)(o.default.mark(function a(){var n;return o.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!t.activeTab.includes("现金流分类")){a.next=2;break}return a.abrupt("return");case 2:if(t.flowData=[],t.flowPage=1,!(e.qtyLocked>=0)){a.next=6;break}return a.abrupt("return");case 6:return t.flowTitle=e,t.$HandleLoad.show(),n={},t.listField.forEach(function(t){n[t.field]=e[t.field]}),t.requestData={view_id:"obj_water_1",active_type:"water",row:(0,c.default)(n)},a.next=13,(0,O.getView)((0,d.default)({},t.requestData,{view_scope:"model"})).then(function(e){t.flowField=e.model}).catch(function(e){t.$HandleLoad.hide()});case 13:return a.next=15,t.getFlowData();case 15:t.$HandleLoad.hide(),t.flowShow=!0,t.$nextTick(function(){t.$refs.flowListWrapper.scrollTo(0,0),t.$refs.flowListWrapper.refresh()});case 18:case"end":return a.stop()}},a,t)}))()},getFlowData:function(){var e=this;return(0,O.getView)((0,d.default)({},this.requestData,{view_scope:"data",page:this.flowPage,limit:this.flowLimit,start:(this.flowPage-1)*this.flowLimit})).then(function(t){var a=t.data,n=void 0===a?[]:a,i=t.total,r=void 0===i?0:i;e.FlowHasNext=r>(e.flowPage-1)*e.flowLimit+n.length,n.forEach(function(e){e.showList=!1}),e.flowData=1===e.FlowHasNext?n:e.flowData.concat(n),e.$nextTick(function(){e.$refs.flowListWrapper.finishPullUp()})})},getView:function(){var e=this;return(0,O.getView)({user_code:1,view_scope:"model",view_id:this.view_id,calc_rel_code:this.calc_rel_code}).then(function(t){e.listField=t.model})},getListData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,O.getViewList)({user_code:1,page:this.page,limit:this.limit,view_scope:"data",device_type:"phone",view_id:this.view_id,filter:this.serachVal,calc_rel_code:this.calc_rel_code,start:(this.page-1)*this.limit}).then(function(a){var n=a.data,i=void 0===n?[]:n,r=a.total,s=void 0===r?0:r;e.hasNext=s>(e.page-1)*e.limit+i.length,i.forEach(function(e){if(e.status=!1,e.cashInOrOut)switch(e.cashInOrOut){case"流入":e.flowIconClass="iconfont icon-shangjiantou",e.flowWordClass="cashIn";break;case"流出":e.flowIconClass="iconfont icon-xiajiantou-copy",e.flowWordClass="cashOut"}}),e.listData=1===e.page?i:e.listData.concat(i),t||e.$nextTick(function(){e.resetScroll()});var o="";t&&0===e.activeIndex&&e.total&&(o=s-e.total==0?"暂无新数据":o="新增"+(s-e.total)+"条数据",e.$vux.toast.show({text:o,position:"top",width:"50%",type:"text",time:700})),0===e.activeIndex&&1===e.page&&sessionStorage.setItem(e.applyCode,s),e.$loading.hide()}).catch(function(t){e.resetScroll()})},getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,m.default)(o.default.mark(function a(){return o.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.getView();case 2:return a.next=4,e.getListData(t);case 4:case"end":return a.stop()}},a,e)}))()},resetScroll:function(){this.$refs.bScroll.finishPullDown(),this.$refs.bScroll.finishPullUp()},onPullingUp:function(){this.page++,this.getListData()},onPullingDown:function(){this.page=1,this.getData(!0)},onPullingUpFlow:function(){this.flowPage++,this.getFlowData()},getSession:function(){var e=this;return new r.default(function(t){e.total=sessionStorage.getItem(e.applyCode),t()})},getData:function(e){var t=this;return(0,m.default)(o.default.mark(function a(){return o.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getSession();case 2:if(!e){a.next=6;break}return a.next=5,t.getList(!0).then(function(){t.$nextTick(function(){t.$refs.bScroll.finishPullDown().then(function(){t.$refs.bScroll.finishPullUp()})})});case 5:return a.abrupt("return");case 6:return a.next=8,t.getList();case 8:case"end":return a.stop()}},a,t)}))()}},created:function(){var e=this;this.applyCode=this.$route.params.code,(0,m.default)(o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getClassfiy();case 2:return t.next=4,e.getView();case 4:return t.next=6,e.getListData();case 6:case"end":return t.stop()}},t,e)}))()}}},"+2If":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"childPage"},[a("div",{staticClass:"detail_content"},[a("div",{staticClass:"mater_baseinfo vux-1px-b"},[a("div",{staticClass:"mater_property"},[a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("仓库编码:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.warehouse.warehouseCode))])]),e._v(" "),a("div",{staticClass:"each_property"},[a("label",[e._v("仓库名称:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.warehouse.warehouseName))])])]),e._v(" "),a("div",{staticClass:"mater_pic vux-1px-l"},[a("div",{staticClass:"add_icon"},[a("label",{attrs:{for:"file"}}),e._v(" "),a("img",{staticClass:"upload",attrs:{src:e.MatPic},on:{error:e.getDefaultImg}})])])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("仓库关系类型:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.warehouse.warehouseType))])]),e._v(" "),e.typeSubMap[e.typeSub].title?a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v(e._s(e.typeSubMap[e.typeSub].title)+":")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.typeSubMap[e.typeSub].value))])]):e._e(),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("仓库状态:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.warehouse.warehouseStatus))])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("创建者:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.baseinfo.creatorName))])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("创建时间:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e._f("dateFormat")(e.baseinfo.crtTime)))])]),e._v(" "),e.baseinfo.modiferName?a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("修改者:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.baseinfo.modiferName))])]):e._e(),e._v(" "),e.baseinfo.modTime?a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("修改时间:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e._f("dateFormat")(e.baseinfo.modTime)))])]):e._e()])])},i=[],r={render:n,staticRenderFns:i};t.a=r},"+3hg":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("a3Yh"),o=n(s),l=a("MgeX"),d=n(l),u=a("HzJ8"),c=n(u),f=a("ZLEe"),m=n(f),h=a("3cXf"),v=n(h),p=a("HXPS"),C=n(p),_=a("BGNQ"),y=n(_),b=a("z5TY"),g=n(b),w=a("SAzG"),I=n(w),x=a("PzEQ"),D=n(x),P=a("0AQX"),k=a("HyXB"),S=a("bKg5"),T=n(S),L=a("VZtf"),N=n(L),M=a("89pA"),A=n(M),O=a("luHD"),R=n(O),j=a("Pb67"),$=n(j),B=a("RMtk"),E=n(B),F=a("vl8n"),U=n(F),q=a("+WR7"),Q=n(q),H=a("Qg39");t.default={mixins:[T.default],components:{Icon:C.default,Cell:y.default,Group:g.default,XInput:I.default,XTextarea:D.default,RNumber:N.default,PopOrderList:$.default,PopWarehouseList:A.default,PopMatter:R.default,RPicker:U.default,PopBaseinfo:Q.default,PopOrderXqtjList:E.default},data:function(){return{listId:"762b8df4-2555-4325-884a-355f34355832",orderList:{},matterList:[],showOrderPop:!1,transCode:"",formData:{biComment:""},numMap:{},warehouseIn:null,matter:{},showMatterPop:!1,modifyIndex:null}},methods:{checkAmt:function(e){var t=e.tdQty,a=e.qtyBal;t&&(e.tdQty=Math.abs((0,H.toFixed)(t)),t>a&&(e.tdQty=a))},delClick:function(e,t,a){var n=this.selItems,i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode&&e.transCode===t.transCode});if(-1!==i)return void n.splice(i,1);n.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,v.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,m.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});i>=0&&(e.$refs.order.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,c.default)((0,d.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,o=!1,l=void 0;try{for(var u,f=(0,c.default)(r);!(s=(u=f.next()).done);s=!0){var m=u.value;this.numMap[m.transCode+"_"+m.inventoryCode]={tdQty:m.tdQty,shippingTime:m.shippingTime}}}catch(e){o=!0,l=e}finally{try{!s&&f.return&&f.return()}finally{if(o)throw l}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},selWarehouseIn:function(e){this.warehouseIn=JSON.parse(e)},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,v.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t)},selOrder:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){var a=e.transCode+"_"+e.inventoryCode,i=t.numMap[a]||{},r=i.tdQty,s=void 0===r?"":r,o=i.shippingTime,l=void 0===o?"":o;e.tdQty=s,e.shippingTime=l,n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},submitOrder:function(){var e=this,t="",a=[];[{key:"warehouseIn",message:"入库仓库"}].every(function(a){return!!e[a.key]||(t="请选择"+a.message,!1)}),t||(0,m.default)(this.orderList).length||(t="请选择物料");var n=!0,i=!1,s=void 0;try{for(var l,u=(0,c.default)((0,d.default)(this.orderList));!(n=(l=u.next()).done);n=!0){var f=l.value,h=!0,p=!1,C=void 0;try{for(var _,y=(0,c.default)(f);!(h=(_=y.next()).done);h=!0){var b=_.value;if(!b.tdQty){t="请填写数量";break}var g={transMatchedCode:b.transCode,outPutMatCode:b.inventoryCode,containerCodeOut:this.warehouseIn.warehouseCode,warehouseType_containerCodeOut:this.warehouseIn.warehouseType,tdProcessing:b.processing,thenQtyBal:b.qtyBal,thenQtyStock:b.qtyStock,tdQty:b.tdQty,comment:b.comment||""};this.transCode&&(g.tdId=b.tdId||""),a.push(g)}}catch(e){p=!0,C=e}finally{try{!h&&y.return&&y.return()}finally{if(p)throw C}}}}catch(e){i=!0,s=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw s}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=k.saveAndStartWf,n={},i=(0,o.default)({},e.processCode,{businessKey:"PREQ",createdBy:""});n=(0,r.default)({},e.formData,{modifer:e.transCode?e.formData.handler:"",handlerEntity:e.entity.dealerName,outPut:{containerCode:e.warehouseIn.warehouseCode,dataSet:a},containerInWarehouseManager:e.warehouseIn.containerInWarehouseManager||null}),e.transCode&&(t=k.saveAndCommitTask,i={businessKey:e.transCode,createdBy:n.creator||n.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var s={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,v.default)(n),wfPara:(0,v.default)(i)};e.transCode||delete s.biReferenceId,e.processCode.length||(t=k.submitAndCalc,delete s.wfPara,delete s.biReferenceId),e.biReferenceId&&(s.biReferenceId=e.biReferenceId),e.saveData(t,s)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=l;var d=[],u={},f=s.outPut,m=f.dataSet,h=void 0===m?[]:m,v=!0,p=!1,C=void 0;try{for(var _,y=(0,c.default)(h);!(v=(_=y.next()).done);v=!0){var b=_.value;b=(0,r.default)({},b,{transCode:b.transMatchedCode,qtyBal:b.thenQtyBal,qtyStock:b.thenQtyStock,inventoryPic:b.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+b.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:b.inventoryName_outPutMatCode,inventoryCode:b.outPutMatCode,specification:b.specification_outPutMatCode,processing:b.tdProcessing}),u[b.transCode]||(u[b.transCode]=[]),d.push(b),u[b.transCode].push(b)}}catch(e){p=!0,C=e}finally{try{!v&&y.return&&y.return()}finally{if(p)throw C}}e.warehouseIn={warehouseCode:f.containerCode,warehouseName:f.warehouseName_containerCode,warehouseType:f.warehouseType_containerCode,warehouseProvince:f.warehouseProvince_containerCode,warehouseCity:f.warehouseCity_containerCode,warehouseDistrict:f.warehouseDistrict_containerCode,warehouseAddress:f.warehouseAddress_containerCode},e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,r.default)({},e.formData,e.handlerDefault,{biComment:s.biComment,biId:s.biId,biProcessStatus:s.biProcessStatus,creator:s.creator,modifer:s.modifer}),e.biReferenceId=s.biReferenceId,e.matterList=d,e.orderList=u,e.$loading.hide()})},assembMatterList:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,c.default)((0,d.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,o=!1,l=void 0;try{for(var u,f=(0,c.default)(r);!(s=(u=f.next()).done);s=!0){var m=u.value;this.matterList.push(m)}}catch(e){o=!0,l=e}finally{try{!s&&f.return&&f.return()}finally{if(o)throw l}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}},hasDraftData:function(){return!!(0,d.default)(this.orderList).length&&(0,o.default)({},"NBJGLL_DATA",{orderList:this.orderList,warehouseIn:this.warehouseIn,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("NBJGLL_DATA");if(e){var t=JSON.parse(e);this.orderList=t.orderList,this.assembMatterList(),this.formData=t.formData,this.warehouseIn=t.warehouseIn,sessionStorage.removeItem("NBJGLL_DATA")}}}},"+7T9":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"MatterItem",props:{showDelete:{type:Boolean,default:!1},item:{type:Object,default:function(){return{}}}},computed:{showEdit:function(){if(this.item.price||this.item.tdQty)return this.item.price||this.item.tdQty},hideEdit:function(){if(""===this.item.price||""===this.item.tdQty||0===this.item.price||0===this.item.tdQty)return!this.item.price||!this.item.tdQty}},data:function(){return{}},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},modifyMatter:function(){this.$emit("on-modify",this.item)}}}},"+8bS":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages related_apply"},[e._m(0),e._v(" "),a("div",{staticClass:"swiper-container swiper_related"},[a("div",{staticClass:"swiper-wrapper"},e._l(e.RelatedAppList,function(t,n){return a("div",{key:n,staticClass:"swiper-slide"},[a("div",{staticClass:"header vux-1px-b"},[a("div",{staticClass:"related_info"},[a("img",{staticClass:"icon",attrs:{src:t.icon}}),e._v(" "),a("div",[a("div",{staticClass:"related_name"},[e._v(e._s(t.listName))]),e._v(" "),a("div",{staticClass:"related_num"},[e._v("实例数量: "),a("span",[e._v(e._s(t.itemCount))])])])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isrelated,expression:"item.isrelated"}],staticClass:"create_order",on:{click:function(a){e.goRelation(t)}}},[e._v("创建并关联")])]),e._v(" "),a("div",{staticClass:"related_list"},e._l(t.relatedList,function(n,i){return a("div",{key:i,staticClass:"related_item vux-1px-b",on:{click:function(a){e.goDetail(t,n)}}},[a("div",[e._v(e._s(n.transCode))]),e._v(" "),a("div",{staticClass:"creator_name"},[e._v(e._s(n.creatorName)+"\n              "),a("span",[e._v("[创建人]")]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou"})])])}))])}))])])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"big_title"},[a("p",{},[e._v("相关实例")])])}],r={render:n,staticRenderFns:i};t.a=r},"+AWf":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("4YfN"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"RTab",props:{data:{type:Array,default:function(){return[{name:"全部",status:""},{name:"进行中",status:"进行中"},{name:"已生效",status:"已生效"},{name:"草稿",status:"草稿"}]}},activeIndex:{type:Number,default:0},mode:{type:String,default:"1"}},data:function(){return{activeTabIndex:0}},watch:{activeIndex:{handler:function(e){this.activeTabIndex=e},immediate:!0}},methods:{switchTab:function(e,t){this.activeTabIndex!==t&&(this.activeTabIndex=t,this.$emit("on-click",(0,i.default)({},e,{index:t})))}}}},"+AeB":function(e,t,a){"use strict";function n(e){a("Lzbv")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("zgOi");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("ku52"),o=a.n(s),l=a("tAQq"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},"+BtC":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("just-word-item",{key:n,attrs:{item:t,"no-count":""},nativeOn:{click:function(a){e.goDetail(t,n)}},scopedSlots:e._u([{key:"list-item",fn:function(t){var n=t.item;return e._l(n.detailItem,function(t,i){return a("div",{key:i,staticClass:"each-slot-item"},[a("div",{staticClass:"top-content"},[e._v("汇票号: "+e._s(t.draftNumber))]),e._v(" "),a("div",{staticClass:"main-content"},[a("div",{staticClass:"info_part"},[e._v("\n                承汇类型: "+e._s(n.draftType)+"\n              ")]),e._v(" "),a("div",{staticClass:"info_part"},[e._v("\n                承汇人: "+e._s(n.accepter)+"\n              ")])])])})}}])})}))],1),e._v(" "),e.action.add?a("div",{staticClass:" vux-1px-t btn "},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},"+FWj":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("kNGm"),r=(n(i),a("0AQX")),s=a("+VRO"),o=n(s);t.default={data:function(){return{userData:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},uploadStyle:{width:"100%",padding:"0.06rem 0.1rem"}}},mixins:[o.default],methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,r.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=o,e.userData=r,e.workFlowInfoHandler()})},goEdit:function(){var e=this.$route.params,t=e.fileId,a=e.listId,n=this.$route.query.name;this.$router.push({path:"/fillform/"+t+"/"+a,query:{name:n,transCode:this.transCode}})}}}},"+Kn1":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("MgeX"),o=n(s),l=a("HzJ8"),d=n(l),u=a("ZLEe"),c=n(u),f=a("3cXf"),m=n(f),h=a("4YfN"),v=n(h),p=a("BGNQ"),C=n(p),_=a("z5TY"),y=n(_),b=a("SAzG"),g=n(b),w=a("kNGm"),I=n(w),x=a("PzEQ"),D=n(x),P=a("u28h"),k=n(P),S=a("jnZd"),T=n(S),L=a("HyXB"),N=a("0AQX"),M=a("bKg5"),A=n(M),O=a("y8YJ"),R=n(O),j=a("vl8n"),$=n(j),B=a("+WR7"),E=n(B),F=a("VZtf"),U=n(F),q=a("kZy/"),Q=n(q),H=a("luHD"),V=n(H),X=a("lsbD"),z=n(X),Y=(a("Qg39"),a("zWMP"));t.default={mixins:[A.default],components:{Cell:C.default,Group:y.default,XInput:g.default,Datetime:k.default,XTextarea:D.default,PopDealerList:R.default,PopupPicker:T.default,RPicker:$.default,PopBaseinfo:E.default,RNumber:U.default,PopMatterList:Q.default,PopMatter:V.default,OpButton:z.default},data:function(){return{listId:"1759f423-9f1a-4a67-b68a-86773fe469c8",dealerInfo:{},contactInfo:{},invoiceType:[["普通发票","专用发票"]],invoiceGetType:[],invoiceInfo:{ticketNumber:"",invoiceType:"",invoiceDate:"",invoiceContent:""},invoiceParams:{dealerCode:""},taxRate:.16,showInvoicePop:!1,seletedIndex:0,seletedInvoice:[],formData:{biComment:""},dealerParams:{dealerLabelName:"原厂供应商,经销供应商,设施供应商"},matterList:[],orderList:{},showMaterielPop:!1,matterParams:{},numMap:{}}},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],this.matterParams={dealerCode:this.dealerInfo.dealerCode},this.matterList=[],this.orderList={}},selContact:function(e){this.contactInfo=(0,v.default)({},e)},typeTask:function(e){this.invoiceInfo.invoiceType=e[0]},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,m.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.inventoryCode!==e.inventoryCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getMatter:function(){if(!this.dealerInfo.dealerCode)return void this.$vux.alert.show({content:"请选择供应商"});this.showMaterielPop=!this.showMaterielPop},selMatter:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){var a=(e.transCode,e.inventoryCode,t.numMap[e.inventoryCode]||{}),i=a.tdQty,r=void 0===i?e.qtyBal:i,s=a.price,o=void 0===s?e.price:s,l=a.taxRate,d=void 0===l?t.taxRate:l;e.tdQty=r,e.price=o,e.taxRate=d,e.purchaseDay=(0,I.default)(e.calcTime,"YYYY-MM-DD"),n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},delClick:function(e,t,a){var n=this.selItems,i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode&&e.transCode===t.transCode});if(-1!==i)return void n.splice(i,1);n.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,c.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});i>=0&&(e.$refs.matter.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,d.default)((0,o.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,l=!1,u=void 0;try{for(var c,f=(0,d.default)(r);!(s=(c=f.next()).done);s=!0){var m=c.value;this.numMap[m.transCode+"_"+m.inventoryCode]=(0,v.default)({},m)}}catch(e){l=!0,u=e}finally{try{!s&&f.return&&f.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this,t="",a=[];this.dealerInfo.dealerCode||(t="请选择供应商信息");var n=[{tip:"ticketNumber",msg:"请输入票号"},{tip:"invoiceType",msg:"请选择发票类型"},{tip:"invoiceDate",msg:"请选择发票日期"}];if(t||n.every(function(a){return!!e.invoiceInfo[a.tip]||(t=a.msg,!1)}),t||this.matterList.length||(t="请选择物料"),t||this.matterList.every(function(n){if(!n.transCode)return t="请选择采购订单",!1;if(!n.tdQty&&0!==n.tdQty)return t="请填写本次收票数量",!1;if(!n.taxRate&&0!==n.taxRate)return t="请填写税率",!1;var i=n.taxRate||e.taxRate,r=(0,Y.accMul)(n.price,n.tdQty),s=(0,Y.accMul)(r,i);return a.push({tdId:n.tdId||"",orderCode:n.transCode,transMatchedCode:n.transCode,purchaseDay:n.purchaseDay,transObjCode:n.inventoryCode,thenTotalQtyBal:n.qty,thenLockQty:n.stockQty,thenQtyBal:n.qtyBal,price:n.price,tdQty:n.tdQty,noTaxAmount:r,taxRate:i,taxAmount:s,tdAmount:(0,Y.accAdd)(r,s),comment:n.comment||""}),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=L.saveAndStartWf,n=(0,r.default)({},e.processCode,{businessKey:"HXSP",createdBy:(0,m.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:"",formData:(0,m.default)((0,v.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName,crDealerPaymentTerm:e.dealerInfo.paymentTerm||null,pamentDays_dealerCodeCredit:e.dealerInfo.pamentDays||null,dataSet:a},dealerCreditContactPersonName:e.contactInfo.dealerName||null,dealerCreditContactInformation:e.contactInfo.dealerMobilePhone||"",invoiceDate:e.invoiceInfo.invoiceDate,ticketNumber:e.invoiceInfo.ticketNumber,invoiceType:e.invoiceInfo.invoiceType,invoiceContent:e.invoiceInfo.invoiceContent})),wfPara:(0,m.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=L.saveAndCommitTask),e.processCode.length||(t=L.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,N.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.attachment=t.attachment,e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId;var a=t.formData;e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,v.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),e.dealerInfo=(0,v.default)({},e.dealerInfo,{dealerName:a.order.dealerName_dealerCodeCredit,dealerCode:a.order.dealerCodeCredit,province:a.order.province_dealerCodeCredit,city:a.order.city_dealerCodeCredit,county:a.order.county_dealerCodeCredit,address:a.order.address_dealerCodeCredit,dealerMobilePhone:a.order.dealerMobilePhone_dealerCodeCredit,paymentTerm:a.order.crDealerPaymentTerm||"无"});var n={};a.order.dataSet.forEach(function(t){var a=(0,v.default)({},t,{transCode:t.transMatchedCode,inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),qty:t.thenTotalQtyBal,stockQty:t.thenLockQty,qtyBal:t.thenQtyBal});n[t.transMatchedCode]||(n[t.transMatchedCode]=[]),n[t.transMatchedCode].push(a),e.matterList.push(a)}),e.orderList=n,e.invoiceInfo=(0,v.default)({},e.invoiceInfo,{ticketNumber:a.ticketNumber,invoiceType:a.invoiceType,invoiceDate:(0,I.default)(a.invoiceDate,"YYYY-MM-DD"),invoiceContent:a.invoiceContent}),e.contactInfo={dealerName:a.dealerCreditContactPersonName,dealerMobilePhone:a.dealerCreditContactInformation},e.invoiceGetType.push(a.invoiceType),e.matterParams={dealerCode:a.order.dealerCodeCredit},e.$loading.hide()})},hasDraftData:function(){return!!(0,o.default)(this.dealerInfo).length&&(0,r.default)({},"ZZSSP_DATA",{invoice:{dealer:this.dealerInfo,invoiceInfo:this.invoiceInfo,contactInfo:this.contactInfo,matterList:this.matterList,orderList:this.orderList}})}},created:function(){var e=sessionStorage.getItem("ZZSSP_DATA");if(e){var t=JSON.parse(e);this.dealerInfo=t.invoice.dealer,this.invoiceInfo=t.invoice.invoiceInfo,this.contactInfo=t.invoice.contactInfo,this.matterList=t.invoice.matterList,this.orderList=t.invoice.orderList,this.matterParams={dealerCode:this.dealerInfo.dealerCodeCredit},this.invoiceGetType.push(this.invoiceInfo.invoiceType),sessionStorage.removeItem("ZZSSP_DATA")}}}},"+Lff":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("XAqG"),c=a("MjAd"),f=n(c);t.default={name:"USER_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"使用中",status:1},{name:"未使用",status:2},{name:"停用",status:-1}],filterList:[{name:"工号",value:"userCode"},{name:"姓名",value:"nickname"}]}},mixins:[f.default],methods:{getDefaultImg:function(e,t){var n=a(1===t?"cr7Q":"Atv/");return e&&(e.photo=n),n},pathChange:function(e,t,a){var n=this;if(!this.clickVisited){var i=e.colId,r=this.$route.query.name,s=this.$route.params,o=s.fileId,l=s.listId,u=a+"/"+o+"/"+l;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,d.default)({},e)),setTimeout(function(){n.clickVisited=!1,n.$router.push({path:u,query:{name:r,colId:i}})},200)}},goDetail:function(e,t){this.pathChange(e,t,"/detail")},goUserEdit:function(e,t){this.pathChange(e,t,"/fillform")},getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=[];return this.activeTab&&a.push({operator:"in",value:this.activeTab,property:"status"}),this.serachVal&&(a=[].concat((0,o.default)(a),[{operator:"like",value:this.serachVal,property:this.filterProperty}])),(0,u.getAllUsers)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(a)}).then(function(a){var n=a.dataCount,i=void 0===n?0:n,r=a.tableContent,s=void 0===r?[]:r;e.hasNext=i>(e.page-1)*e.limit+s.length,s.forEach(function(t){if(t.photo||(t.photo=e.getDefaultImg("",t.gender)),t.status)switch(t.status){case 1:t.status="使用中",t.statusClass="inUse";break;case 2:t.status="未使用",t.statusClass="unUse";break;case 3:t.status="草稿",t.statusClass="offUse";break;case-1:t.status="停用",t.statusClass="offUse"}}),e.listData=1===e.page?s:e.listData.concat(s),t||e.$nextTick(function(){e.resetScroll()});var o="";t&&0===e.activeIndex&&e.total&&(o=i-e.total==0?"暂无新数据":o="新增"+(i-e.total)+"条数据",e.$vux.toast.show({text:o,position:"top",width:"50%",type:"text",time:700})),0===e.activeIndex&&1===e.page&&sessionStorage.setItem(e.applyCode,i),e.$loading.hide()}).catch(function(t){e.resetScroll()})}}}},"+VRO":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("lC5x"),o=n(s),l=a("J0Oq"),d=n(l),u=a("KH7x"),c=n(u),f=a("rVsN"),m=n(f),h=a("4YfN"),v=n(h),p=a("0AQX"),C=a("4XVd"),_=a("I8ug"),y=a("HyXB"),b=a("iR2W"),g=n(b),w=a("7xzZ"),I=n(w),x=a("d7ck"),D=n(x),P=a("zlAJ"),k=n(P),S=a("3NX5"),T=n(S),L=a("FvvE"),N=n(L),M=a("zWMP"),A=a("Qg39"),O=a("Z5v5"),R=a("0o6b");t.default={components:{FormCell:D.default,BasicInfo:I.default,UploadFile:k.default,MatterList:T.default},data:function(){return{transCode:"",comment:"",taskId:"",listId:"",userId:"",userName:"",cancelStatus:!1,cancelStatus1:!1,isMyTask:!1,formViewUniqueId:"",fullWL:[],workFlowInfo:{},actions:[],isMine:!1,noOperation:!0,HasValRealted:!1,orderInfo:{},uploadStyle:{width:"100%",padding:"0.06rem 0.08rem"},uploadTitleStyle:{fontSize:"0.16rem",fontWeight:"bold",color:"#111"},attachment:[],orderList:"",action:{},currentWL:{}}},computed:{noTaxAmount:function(){var e=0;return this.orderInfo.order.dataSet.forEach(function(t){e=(0,M.accAdd)(e,t.noTaxAmount)}),e},taxAmount:function(){var e=0;return this.orderInfo.order.dataSet.forEach(function(t){e=(0,M.accAdd)(e,t.taxAmount)}),e}},filters:{numberComma:g.default,toFixed:A.toFixed},methods:{getSwiper:function(){this.$router.push({path:"/related/"+this.listId,query:{transCode:this.transCode,uniqueId:this.formViewUniqueId}})},randomID:function(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return e()+e()+e()},getCurrentUser:function(){var e=this;return(0,p.currentUser)().then(function(t){var a=t.userId,n=t.nickname,i=t.userCode;e.userId=""+a,e.userName=n+"-"+i})},getListId:function(){var e=this;return(0,p.getListId)(this.transCode).then(function(t){e.formViewUniqueId=t[0].uniqueId,e.listId=t[0].listId})},isMyflow:function(){return(0,p.isMyflow)({_dc:this.randomID(),transCode:this.transCode})},getWorkFlow:function(){return(0,p.getWorkFlow)({_dc:this.randomID(),transCode:this.transCode})},workFlowInfoHandler:function(){var e=(0,v.default)({},this.orderInfo);switch(this.workFlowInfo={biStatus:e.biStatus,transCode:e.transCode},e.biStatus){case"进行中":var t="dyClass";this.workFlowInfo[t]="doing_work",this.workFlowInfo.coClass="doing_code";break;case"草稿":case"已失效":t="dyClass",this.workFlowInfo[t]="invalid_work"}},getFlowAndActions:function(){var e=this;return m.default.all([this.isMyflow(),this.getWorkFlow()]).then(function(t){var a=(0,c.default)(t,2),n=a[0],i=void 0===n?{}:n,r=a[1],s=void 0===r?{}:r,o=i.tableContent||[],l=s.tableContent||[],d=(0,c.default)(o,1),u=d[0],f=void 0===u?{}:u,m=f.isMyTask,h=void 0===m?0:m,v=(f.actions,f.taskId),p=f.viewId,C=(0,c.default)(l,1),_=C[0],y=void 0===_?{}:_,b=l[l.length-1]||{},g=["同意","不同意"];if(e.fullWL=l,e.currentWL=f,"终止"!==b.status){if(l.filter(function(e){return 1===e.isFirstNode}).every(function(t){return!g.includes(t.status)||(e.noOperation=!1,!1)}),e.actions=["agreement","disagree","transfer"],0===y.isFirstNode&&y.startUserId===e.userId&&(e.isMine=!0,e.noOperation&&e.actions.splice(e.actions.findIndex(function(e){return"disagree"===e}),1,"revoke")),e.taskId=v,e.isMyTask=1===h,!e.isMyTask)return void(e.actions=e.isMine&&e.noOperation?["revoke"]:[]);e.formViewUniqueId=p}})},submitSuccessCallback:function(e){"revoke"!==JSON.parse(e).type&&this.$emit("change",!0)},getAppExampleDetails:function(){var e=this;return(0,p.getAppExampleDetails)({transCode:this.transCode,listId:this.listId}).then(function(t){t.relevantItems.forEach(function(t){var a=e.$route.params,n=a.fileId,i=a.listId;N.default[n][i]&&(e.HasValRealted=!0)})})},getCommentList:function(){var e=this;return(0,C.getPCCommentList)({relationKey:this.transCode}).then(function(t){var a=t.dataCount,n=void 0===a?0:a;e.$event.$emit("commentCount",n)})},isSubscribeByRelationKey:function(){var e=this;(0,C.isSubscribeByRelationKey)(this.transCode).then(function(t){e.$emit("is-subscribe",t)})},loadPage:function(){var e=this;return(0,d.default)(o.default.mark(function t(){var a,n,i;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.$route.query,n=a.transCode,i=a.name,n){t.next=4;break}return e.$vux.alert.show({content:"抱歉，交易号有误，请尝试刷新之后再次进入"}),t.abrupt("return");case 4:return e.transCode=n,e.$loading.show(),t.next=8,e.getCurrentUser();case 8:return t.next=10,e.getListId();case 10:return t.next=12,e.getFlowAndActions();case 12:return t.next=14,e.getAppExampleDetails();case 14:return t.next=16,e.getOrderList(n);case 16:return t.next=18,e.getCommentList();case 18:return t.next=20,e.isSubscribeByRelationKey();case 20:e.$loading.hide(),e.$emit("refresh-scroll"),wx.ready(function(){var e={title:"点击查看"+i+"详情",desc:"点击查看"+i+"详情，哈哈哈哈",imgUrl:"https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=888178039,2627708353&fm=26&gp=0.jpg"};(0,R.shareContent)(e)});case 23:case"end":return t.stop()}},t,e)}))()},getAppDetail:function(){var e=this,t=this.$route.params.listId,a=void 0===t?"":t;return(0,_.getAppDetail)(a).then(function(t){var a=(0,c.default)(t,1),n=a[0],i=void 0===n?{}:n,r=i.action;e.action=r})},getFocus:function(e){event.currentTarget.select()},saveData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.$vux.confirm.prompt("",{title:"审批意见",onConfirm:function(n){var i=e.orderInfo,s={listId:e.listId,biComment:i.biComment,biReferenceId:i.biReferenceId,formData:(0,r.default)(t),wfPara:(0,r.default)((0,v.default)({businessKey:e.transCode,createdBy:i.creator,transCode:e.transCode,result:1,taskId:e.taskId,comment:n},a))};e.$HandleLoad.show(),(0,y.saveAndCommitTask)(s).then(function(t){e.$HandleLoad.hide();var a=t.success,n=void 0!==a&&a,i=t.message,r=void 0===i?"提交失败":i;n&&(r="提交成功",e.$emit("change",!0)),e.$vux.alert.show({content:r,onHide:function(){n&&e.$router.go(0)}})})}})}},created:function(){(0,O.register)(),this.loadPage()}}},"+WR7":function(e,t,a){"use strict";function n(e){a("0FTM")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Pqvm");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("lW8f"),o=a.n(s),l=a("i9f0"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-5cfedfdf",null);t.default=c.exports},"+YRA":function(e,t,a){"use strict";function n(e){a("m5kN")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("yQzi");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("D90O"),o=a.n(s),l=a("/adf"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-7bf704b8",null);t.default=c.exports},"+Yy+":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("3cXf"),i=function(e){return e&&e.__esModule?e:{default:e}}(n),r=a("1WsH");t.default={data:function(){return{jobInfo:{},jobId:""}},methods:{findData:function(){var e=this;return(0,r.getJobList)({filter:(0,i.default)([{operator:"eq",value:this.jobId,property:"id"}])}).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;n.forEach(function(e){switch(e.type){case"Y":e.type="营销类";break;case"Z":e.type="专业类";break;case"J":e.type="技术类";break;case"C":e.type="操作类";break;case"M":e.type="管理类"}switch(e.status){case 1:e.status="使用中";break;case 2:e.status="未使用";break;case 3:e.status="草稿";break;case-1:e.status="停用"}}),e.jobInfo=n[0],e.$loading.hide()}).catch(function(t){e.$loading.hide(),e.$vux.alert.show({content:t.message})})}},created:function(){this.$loading.show();var e=this.$route.query;e.id&&(this.jobId=e.id,this.findData())}}},"+lJ/":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[e.matterList.length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v("设施列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.matterList,function(t,n){return a("div",{key:n,staticClass:"each_mater",class:{mater_delete:e.matterModifyClass,"vux-1px-b":n<e.matterList.length-1}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass},on:{"on-modify":function(a){e.modifyMatter(t,n)}},nativeOn:{click:function(a){e.delClick(n,t)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_more"},[a("span",{staticClass:"processing"},[e._v("大类: "+e._s(n.facilityBigType))]),e._v(" "),a("span",{staticClass:"mater_color"},[e._v("子类: "+e._s(n.facilitySubclass||"无"))]),e._v(" "),a("span",{staticClass:"unit"},[e._v("单位: "+e._s(n.facilityUnit))]),e._v(" "),a("span",[e._v("设施类型: "+e._s(n.facilityType))])]),e._v(" "),n.price&&n.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price)+"\n                      ")]),e._v(" "),a("div",[a("r-number",{attrs:{num:n.tdQty,checkAmt:e.checkAmt,max:n.qtyBal},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",t)},expression:"item.tdQty"}})],1)]):e._e()]}},{key:"edit",fn:function(t){var i=t.item;return[i.price||e.matterModifyClass?e._e():a("div",{staticClass:"mater_other",on:{click:function(t){e.modifyMatter(i,n)}}},[a("div",{staticClass:"edit-tips"},[a("span",{staticClass:"tips-word"},[e._v("点击进行填写")])])])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(n,t)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)}))]:[a("div",{on:{click:function(t){e.showFacilityPop=!e.showFacilityPop}}},[a("div",{staticClass:"title"},[e._v("设施列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择设施")]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多物料")])]):e._e(),e._v(" "),a("pop-facility-list",{ref:"matter",attrs:{show:e.showFacilityPop,judgeKeys:["facilityCode"],"default-value":e.matterList,params:e.matterParams},on:{"sel-matter":e.selMatter},model:{value:e.showFacilityPop,callback:function(t){e.showFacilityPop=t},expression:"showFacilityPop"}})],2),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,isShowAmount:!1},on:{"sel-confirm":e.selConfirm},scopedSlots:e._u([{key:"modify",fn:function(t){var n=t.modifyMatter;return[a("x-input",{attrs:{type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",e._n(t))},expression:"modifyMatter.tdQty"}},[a("template",{slot:"label"},[e._t("qtyName",[a("span",{staticClass:"required"},[e._v("本次申请")])])],2)],2),e._v(" "),a("x-input",{attrs:{type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.price,callback:function(t){e.$set(n,"price",e._n(t))},expression:"modifyMatter.price"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("估计价格\n              ")])])],2),e._v(" "),a("cell",{attrs:{value:n.tdAmount}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("估计金额\n              ")])])],2)]}}]),model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num"},[a("span",{staticStyle:{fontSize:".14rem"}},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.tdAmount))+"\n    ")]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},"+qeg":function(e,t){},"+qoX":function(e,t){},"+s0Z":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("BGNQ"),o=n(s),l=a("z5TY"),d=n(l),u=a("iR2W"),c=n(u),f=a("jLp1"),m=a("+VRO"),h=n(m),v=a("zWMP");t.default={data:function(){return{approval:{},comment:{}}},filters:{timeSplit:function(e){return e?e.split(" ")[0]:""}},mixins:[h.default],components:{Group:d.default,Cell:o.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,f.findProjectApproval)(t).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=t.attachment,s=void 0===i?[]:i;e.approval=n.projectApproval,e.attachment=s,e.comment=n.comment,e.orderInfo=(0,r.default)({},n.baseinfo,{biStatus:"已生效"})})},numberComma:function(e){return e||0===e?(0,c.default)(e):"无"},percent:function(e){return e||0===e?(0,v.accMul)(e,100)+"%":"无"}},created:function(){}}},"+sd1":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),m=a("89pA"),h=n(m),v=a("hPJo"),p=n(v),C=a("3NX5"),_=n(C);t.default={data:function(){return{orderInfo:{},warehouseIn:{},warehouseOut:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513"}},mixins:[l.default],components:{workFlow:f.default,PopWarehouseList:h.default,RAction:u.default,WarehouseContent:p.default,MatterList:_.default},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.inPut,n=void 0===a?{}:a,i=n.dataSet,s=!0,o=!1,l=void 0;try{for(var d,u=(0,r.default)(i);!(s=(d=u.next()).done);s=!0){var c=d.value;c.inventoryPic=c.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+c.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){o=!0,l=e}finally{try{!s&&u.return&&u.return()}finally{if(o)throw l}}e.warehouseIn={warehouseCode:n.containerCode,warehouseName:""+n.warehouseName_containerCode,warehouseAction:"入库",warehouseIcon:"icon-ruku",warehouseType:n.warehouseType_containerCode,warehouseProvince:n.warehouseProvince_containerCode,warehouseCity:n.warehouseCity_containerCode,warehouseDistrict:n.warehouseDistrict_containerCode,warehouseAddress:n.warehouseAddress_containerCode},e.warehouseOut={warehouseCode:n.containerCodeOut,warehouseName:""+n.warehouseName_containerCodeOut,warehouseAction:"出库",warehouseIcon:"icon-chuku",warehouseType:n.warehouseType_containerCodeOut,warehouseProvince:n.warehouseProvince_containerCodeOut,warehouseCity:n.warehouseCity_containerCodeOut,warehouseDistrict:n.warehouseDistrict_containerCodeOut,warehouseAddress:n.warehouseAddress_containerCodeOut},e.orderInfo=t.formData,e.workFlowInfoHandler()})}},created:function(){}}},"+wTM":function(e,t,a){"use strict";function n(e){a("hxQ3")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("+FWj");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("pVMx"),o=a.n(s),l=a("gVjc"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-b6174a1a",null);t.default=c.exports},"+yyE":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("a3Yh"),d=n(l),u=a("7g+Q"),c=n(u),f=a("+62G"),m=n(f),h=a("z5TY"),v=n(h),p=a("BGNQ"),C=n(p),_=a("iR2W"),y=n(_),b=a("u28h"),g=n(b),w=a("SAzG"),I=n(w),x=a("PzEQ"),D=n(x),P=a("HyXB"),k=a("fEP3"),S=a("0AQX"),T=a("bKg5"),L=n(T),N=a("7D9F"),M=n(N),A=a("89pA"),O=n(A),R=a("oxLw"),j=n(R),$=a("vl8n"),B=n($),E=a("FlCz"),F=n(E),U=a("+WR7"),q=n(U),Q=a("0o6b"),H=a("Qg39"),V=a("zWMP");t.default={directives:{TransferDom:m.default},components:{Popup:c.default,PopWorkCheckList:j.default,Group:v.default,Cell:C.default,Datetime:g.default,XInput:I.default,XTextarea:D.default,PopManagerList:M.default,RPicker:B.default,PopWarehouseList:O.default,BomList:F.default,PopBaseinfo:q.default},data:function(){return{listId:"f9f1e0cb-7edf-43aa-b2f2-527e2525b96e",showWorkPop:!1,dealer:{},formData:{biComment:""},workInfo:{},defaultManager:{},biProcessStatus:"",scanResult:"",warehouse:{},filterParams:[{property:"warehouseType",operator:"eq",value:"加工车间仓"}],bomList:[]}},mixins:[L.default],filters:{numberComma:y.default},methods:{selWork:function(e){var t=this;e.tdQty=e.qtyBal,this.workInfo=e,(0,k.getBomWorkCheck)({transCode:e.transCode,inventoryCode:e.matCode}).then(function(e){var a=e.tableContent,n=void 0===a?[]:a;t.bomList=n,t.setBomQty()})},selManager:function(e){this.defaultManager=JSON.parse(e),this.workInfo.dealerDebit=this.defaultManager.dealerCode},checkAmt:function(e){var t=e.tdQty,a=e.qtyBal;t&&(t>a&&(e.tdQty=a),this.setBomQty())},submitOrder:function(){var e=this,t="",a=[],n=[];this.workInfo.transCode||(t="请选择工序");var i=[{key:"tdQty",msg:"请填写验收数量"},{key:"dealerDebit",msg:"请选择验收者"}];if(t||i.every(function(a){return!!e.workInfo[a.key]||(t=a.msg,!1)}),t)return void this.$vux.alert.show({content:t});var s=this.workInfo;a.push({transMatchedCode:s.transCode,orderCode:s.orderCode,processCode:s.processCode,proPointCode:s.proPointCode,thenQtyBal:s.qtyBal,tdQty:s.tdQty,rearProPointCode:s.rearProPointCode||"",dealerDebit:s.dealerDebit,proFlowCode:s.proFlowCode||"",transObjCode:s.matCode,tdProcessing:s.processing,skinFee:s.skinFee,wages:s.wages}),this.bomList.forEach(function(e){n.push({inventoryName_outPutMatCode:e.inventoryName,outPutMatCode:e.inventoryCode,proPointCode:s.proPointCode,transMatchedCode:s.transCode,orderCode:s.orderCode,processCode:s.processCode,parentInventoryCode:s.matCode,processProCode:s.matCode,tdProcessing:e.processing,specification_outPutMatCode:e.specification,measureUnit_outPutMatCode:e.measureUnit,containerCodeOut:e.whCode,bomType:e.bomType,bomQty:e.qty,tdQty:e.tdQty})}),this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=P.saveAndStartWf,i=(0,d.default)({},e.processCode,{businessKey:"WTAC",createdBy:""});e.isResubmit&&(i={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var s={listId:e.listId,biComment:e.formData.biComment,formData:(0,o.default)((0,r.default)({},e.formData,{handlerEntity:e.entity.dealerName,biProcessStatus:e.biProcessStatus||null,containerInWarehouseManager:e.warehouse.containerInWarehouseManager||null,order:{containerCode:e.warehouse.warehouseCode,dataSet:a},outPut:{containerCode:e.warehouse.warehouseCode,dataSet:n}})),wfPara:(0,o.default)(i)};e.isResubmit&&(t=P.saveAndCommitTask,s.biReferenceId=e.biReferenceId),e.processCode.length||(t=P.submitAndCalc,delete s.wfPara,delete s.biReferenceId),e.biReferenceId&&(s.biReferenceId=e.biReferenceId),e.saveData(t,s)}})},getFormData:function(){var e=this;return(0,S.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=t.attachment;var o=s.order,l=s.outPut,d=o.dataSet,u=void 0===d?[]:d,c=l.dataSet;e.workInfo=(0,r.default)({},u[0],{matCode:u[0].transObjCode,inventoryName:u[0].inventoryName_transObjCode,procedureName:u[0].procedureName_proPointCode,technicsName:u[0].technicsName_proFlowCode,qtyBal:u[0].thenQtyBal,transCode:u[0].transMatchedCode,processing:u[0].tdProcessing||null,wareName:o.warehouseName_containerCode,whInCode:o.containerCode,wareAddress:o.warehouseAddress_containerCode,dealerName:u[0].dealerName_dealerDebit,dealerCode:u[0].dealerDebit,dealerLabel:u[0].drDealerLabel}),e.defaultManager={dealerName:u[0].dealerName_dealerDebit,dealerCode:u[0].dealerDebit,dealerLabel:u[0].drDealerLabel},e.facility={facilityName:u[0].facilityName_facilityObjCode,facilityCode:u[0].facilityObjCode,facilityType:u[0].facilityTypebase_facilityObjCode},c.forEach(function(e){e.inventoryCode=e.outPutMatCode,e.inventoryName=e.inventoryName_outPutMatCode,e.measureUnit=e.measureUnit_outPutMatCode,e.parentInvCode=e.processProCode,e.processing=e.tdProcessing,e.qty=e.bomQty,e.whCode=e.containerCodeOut,e.specification=e.specification_outPutMatCode||"无"}),e.bomList=c,e.warehouse={warehouseCode:o.containerCode,warehouseName:o.warehouseName_containerCode,warehouseType:o.warehouseType_containerCode,warehouseProvince:o.warehouseProvince_containerCode,warehouseCity:o.warehouseCity_containerCode,warehouseDistrict:o.warehouseDistrict_containerCode,warehouseAddress:o.warehouseAddress_containerCode},e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,r.default)({},e.handlerDefault,{biComment:s.biComment,biId:s.biId,biProcessStatus:s.biProcessStatus,creator:s.creator,modifer:s.modifer}),e.biProcessStatus=s.biProcessStatus,e.biReferenceId=s.biReferenceId,e.$loading.hide()})},scanQRCode:function(){var e=this;(0,Q.scanQRCode)().then(function(t){var a=t.result,n=void 0===a?"":a;e.scanResult=n})},selWarehouse:function(e){this.warehouse=JSON.parse(e)},setBomQty:function(){var e=this.workInfo.tdQty;this.bomList=this.bomList.map(function(t){return(0,r.default)({},t,{tdQty:(0,H.toFixed)((0,V.accMul)(t.qty,e),3)})})}},created:function(){}}},"/8Dd":function(e,t,a){"use strict";function n(e){a("VqIS")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Y+9d");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("YaA6"),o=a.n(s),l=a("XHmy"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-3ed1e2c8",null);t.default=c.exports},"/97J":function(e,t,a){"use strict";function n(e){a("GfxN")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("az0b");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("zOFp"),o=a.n(s),l=a("PPvx"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-3470ba84",null);t.default=c.exports},"/9JJ":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("MgeX"),o=n(s),l=a("HzJ8"),d=n(l),u=a("ZLEe"),c=n(u),f=a("3cXf"),m=n(f),h=a("4YfN"),v=n(h),p=a("BGNQ"),C=n(p),_=a("z5TY"),y=n(_),b=a("SAzG"),g=n(b),w=a("kNGm"),I=n(w),x=a("PzEQ"),D=n(x),P=a("u28h"),k=n(P),S=a("jnZd"),T=n(S),L=a("HyXB"),N=a("0AQX"),M=a("bKg5"),A=n(M),O=a("y8YJ"),R=n(O),j=a("vl8n"),$=n(j),B=a("+WR7"),E=n(B),F=a("VZtf"),U=n(F),q=a("kZy/"),Q=n(q),H=a("luHD"),V=n(H),X=a("lsbD"),z=n(X),Y=(a("Qg39"),a("zWMP"));t.default={mixins:[A.default],components:{Cell:C.default,Group:y.default,XInput:g.default,Datetime:k.default,XTextarea:D.default,PopDealerList:R.default,PopupPicker:T.default,RPicker:$.default,PopBaseinfo:E.default,RNumber:U.default,PopMatterList:Q.default,PopMatter:V.default,OpButton:z.default},data:function(){return{listId:"1759f423-9f1a-4a67-b68a-86773fe469c8",dealerInfo:{},contactInfo:{},invoiceType:[["普通发票","专用发票"]],invoiceGetType:[],invoiceInfo:{ticketNumber:"",invoiceType:"",invoiceDate:"",invoiceContent:""},invoiceParams:{dealerCode:""},taxRate:.16,showInvoicePop:!1,seletedIndex:0,seletedInvoice:[],formData:{biComment:""},dealerParams:{dealerLabelName:"原厂供应商,经销供应商,设施供应商"},matterList:[],orderList:{},showMaterielPop:!1,matterParams:{},numMap:{}}},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],this.matterParams={dealerCode:this.dealerInfo.dealerCode},this.matterList=[],this.orderList={}},selContact:function(e){this.contactInfo=(0,v.default)({},e)},typeTask:function(e){this.invoiceInfo.invoiceType=e[0]},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,m.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.inventoryCode!==e.inventoryCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getMatter:function(){if(!this.dealerInfo.dealerCode)return void this.$vux.alert.show({content:"请选择供应商"});this.showMaterielPop=!this.showMaterielPop},selMatter:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){var a=(e.transCode,e.inventoryCode,t.numMap[e.inventoryCode]||{}),i=a.tdQty,r=void 0===i?e.qtyBal:i,s=a.price,o=void 0===s?e.price:s,l=a.taxRate,d=void 0===l?t.taxRate:l;e.tdQty=r,e.price=o,e.taxRate=d,e.purchaseDay=(0,I.default)(e.calcTime,"YYYY-MM-DD"),n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},delClick:function(e,t,a){var n=this.selItems,i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode&&e.transCode===t.transCode});if(-1!==i)return void n.splice(i,1);n.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,c.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});i>=0&&(e.$refs.matter.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,d.default)((0,o.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,l=!1,u=void 0;try{for(var c,f=(0,d.default)(r);!(s=(c=f.next()).done);s=!0){var m=c.value;this.numMap[m.transCode+"_"+m.inventoryCode]=(0,v.default)({},m)}}catch(e){l=!0,u=e}finally{try{!s&&f.return&&f.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this,t="",a=[];this.dealerInfo.dealerCode||(t="请选择供应商信息");var n=[{tip:"ticketNumber",msg:"请输入票号"},{tip:"invoiceType",msg:"请选择发票类型"},{tip:"invoiceDate",msg:"请选择发票日期"}];if(t||n.every(function(a){return!!e.invoiceInfo[a.tip]||(t=a.msg,!1)}),t||this.matterList.length||(t="请选择物料"),t||this.matterList.every(function(n){if(!n.transCode)return t="请选择采购订单",!1;if(!n.tdQty&&0!==n.tdQty)return t="请填写本次收票数量",!1;if(!n.taxRate&&0!==n.taxRate)return t="请填写税率",!1;var i=n.taxRate||e.taxRate,r=(0,Y.accMul)(n.price,n.tdQty),s=(0,Y.accMul)(r,i);return a.push({tdId:n.tdId||"",orderCode:n.transCode,transMatchedCode:n.transCode,purchaseDay:n.purchaseDay,transObjCode:n.inventoryCode,thenTotalQtyBal:n.qty,thenLockQty:n.stockQty,thenQtyBal:n.qtyBal,price:n.price,tdQty:n.tdQty,noTaxAmount:r,taxRate:i,taxAmount:s,tdAmount:(0,Y.accAdd)(r,s),comment:n.comment||""}),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=L.saveAndStartWf,n=(0,r.default)({},e.processCode,{businessKey:"HXSP",createdBy:(0,m.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:"",formData:(0,m.default)((0,v.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName,crDealerPaymentTerm:e.dealerInfo.paymentTerm||null,pamentDays_dealerCodeCredit:e.dealerInfo.pamentDays||null,dataSet:a},dealerCreditContactPersonName:e.contactInfo.dealerName||null,dealerCreditContactInformation:e.contactInfo.dealerMobilePhone||"",invoiceDate:e.invoiceInfo.invoiceDate,ticketNumber:e.invoiceInfo.ticketNumber,invoiceType:e.invoiceInfo.invoiceType,invoiceContent:e.invoiceInfo.invoiceContent})),wfPara:(0,m.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=L.saveAndCommitTask),e.processCode.length||(t=L.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,N.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.attachment=t.attachment,e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId;var a=t.formData;e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,v.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),e.dealerInfo=(0,v.default)({},e.dealerInfo,{dealerName:a.order.dealerName_dealerCodeCredit,dealerCode:a.order.dealerCodeCredit,province:a.order.province_dealerCodeCredit,city:a.order.city_dealerCodeCredit,county:a.order.county_dealerCodeCredit,address:a.order.address_dealerCodeCredit,dealerMobilePhone:a.order.dealerMobilePhone_dealerCodeCredit,paymentTerm:a.order.crDealerPaymentTerm||"无"});var n={};a.order.dataSet.forEach(function(t){var a=(0,v.default)({},t,{transCode:t.transMatchedCode,inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),qty:t.thenTotalQtyBal,stockQty:t.thenLockQty,qtyBal:t.thenQtyBal});n[t.transMatchedCode]||(n[t.transMatchedCode]=[]),n[t.transMatchedCode].push(a),e.matterList.push(a)}),e.orderList=n,e.invoiceInfo=(0,v.default)({},e.invoiceInfo,{ticketNumber:a.ticketNumber,invoiceType:a.invoiceType,invoiceDate:(0,I.default)(a.invoiceDate,"YYYY-MM-DD"),invoiceContent:a.invoiceContent}),e.contactInfo={dealerName:a.dealerCreditContactPersonName,dealerMobilePhone:a.dealerCreditContactInformation},e.invoiceGetType.push(a.invoiceType),e.matterParams={dealerCode:a.order.dealerCodeCredit},e.$loading.hide()})},hasDraftData:function(){return!!(0,o.default)(this.dealerInfo).length&&(0,r.default)({},"ZZSSP_DATA",{invoice:{dealer:this.dealerInfo,invoiceInfo:this.invoiceInfo,contactInfo:this.contactInfo,matterList:this.matterList,orderList:this.orderList}})}},created:function(){var e=sessionStorage.getItem("ZZSSP_DATA");if(e){var t=JSON.parse(e);this.dealerInfo=t.invoice.dealer,this.invoiceInfo=t.invoice.invoiceInfo,this.contactInfo=t.invoice.contactInfo,this.matterList=t.invoice.matterList,this.orderList=t.invoice.orderList,this.matterParams={dealerCode:this.dealerInfo.dealerCodeCredit},this.invoiceGetType.push(this.invoiceInfo.invoiceType),sessionStorage.removeItem("ZZSSP_DATA")}}}},"/Fg5":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("KH7x"),o=n(s),l=a("3cXf"),d=n(l),u=a("4YfN"),c=n(u),f=a("BGNQ"),m=n(f),h=a("z5TY"),v=n(h),p=a("SAzG"),C=n(p),_=a("PzEQ"),y=n(_),b=a("0AQX"),g=a("HyXB"),w=a("QHLv"),I=a("bKg5"),x=n(I),D=a("vl8n"),P=n(D),k=a("aumL"),S=n(k),T=a("+WR7"),L=n(T),N=a("N2r1"),M=n(N),A=a("Qg39"),O=a("zWMP"),R={exptName:"",expCode:"",expSubject:"",costType:"",tdAmount:0,taxAmount:0,noTaxAmount:0};t.default={data:function(){return{listId:"080147c6-05ea-4ae7-9390-49e8e0379a11",dealerInfo:{dealerName_dealerCodeCredit:"",dealerCodeCredit:"",crDealerLabel:"",tdCreditLine:"",thenAmntBal:"",thenAlreadyAmnt:0,thenTotalAmntBal:0,differenceAmount:0},formData:{biId:"",biComment:"",biProcessStatus:""},cashInfo:{fundName_cashInCode:"",cashInCode:"",cashType_cashInCode:"",thenAmntBalCopy1:"",tdAmountCopy1:""},CostList:[(0,c.default)({},R)],biReferenceId:"",showCostPop:!1,costIndex:0,selectedCost:[],showFundPop:!1,selectedFund:[]}},components:{Cell:m.default,Group:v.default,XInput:C.default,XTextarea:y.default,RPicker:P.default,PopFundList:S.default,PopBaseinfo:L.default,PopCostList:M.default},mixins:[x.default],computed:{creatorName:function(){return this.formData.userCode},differenceAmount:function(){var e=0,t=(0,O.accSub)(this.dealerInfo.thenAmntBal,this.dealerInfo.thenAlreadyAmnt);return e=(0,O.accAdd)(t,this.dealerInfo.thenTotalAmntBal),(0,A.toFixed)(e)},tdAmount:function(){var e=this.dealerInfo,t=e.thenAlreadyAmnt,a=void 0===t?0:t,n=e.thenTotalAmntBal,i=void 0===n?0:n,r=(0,O.accSub)(a,i);return(0,A.toFixed)(r)}},watch:{creatorName:function(e){this.getEmployeeBal()},CostList:{handler:function(e){var t=0;e.forEach(function(e){e.noTaxAmount=(0,A.toFixed)((0,O.accSub)(e.tdAmount,e.taxAmount)),t=(0,O.accAdd)(t,e.tdAmount)}),this.dealerInfo.thenAlreadyAmnt=(0,A.toFixed)(t)},deep:!0},dealerInfo:{handler:function(e){this.cashInfo.tdAmountCopy1=e.thenTotalAmntBal},deep:!0},cashInfo:{handler:function(e){e.thenAmntBalCopy1&&e.tdAmountCopy1>e.thenAmntBalCopy1&&(e.tdAmountCopy1=e.thenAmntBalCopy1)},deep:!0}},methods:{getEmployeeBal:function(){var e=this,t=[{operator:"eq",value:this.formData.userCode,property:"dealerCode"}];(0,w.getEmployeeBal)((0,d.default)(t)).then(function(t){var a=t.tableContent,n=void 0===a?[]:a,i=(0,o.default)(n,1),r=i[0],s=void 0===r?{}:r;e.dealerInfo=(0,c.default)({},e.dealerInfo,{dealerName_dealerCodeCredit:s.nickname,dealerCodeCredit:s.dealerCode,crDealerLabel:s.dealerLabelName,tdCreditLine:s.tdCreditLine,thenAmntBal:s.amntBal})})},getCost:function(e,t){this.showCostPop=!0,this.costIndex=e,this.selectedCost=[t]},addCost:function(){this.CostList.push((0,c.default)({},R))},deleteCost:function(){this.CostList.pop()},selMatter:function(e){var t=e;this.CostList[this.costIndex].exptName=t.costName,this.CostList[this.costIndex].expCode=t.costCode,this.CostList[this.costIndex].expSubject=t.costSubject,this.CostList[this.costIndex].costType=t.costType,this.CostList[this.costIndex].expCause=""},submitOrder:function(){var e=this,t="",a=[];if(this.CostList.every(function(e){return e.exptName?e.tdAmount?(a.push({tdId:e.tdId||"",expCode:e.expCode,expSubject:e.expSubject,tdAmount:e.tdAmount,taxAmount:e.taxAmount,noTaxAmount:e.noTaxAmount,expCause:e.expCause}),!0):(t="请填写申请金额",!1):(t="请选择费用名称",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=g.saveAndStartWf,n=(0,c.default)({},e.formData,{handlerEntity:e.entity.dealerName,inPut:{dataSet:[(0,c.default)({},e.dealerInfo,{differenceAmount:e.differenceAmount,tdAmount:e.tdAmount,tdId:e.dealerInfo.tdId||""})]},order:{departmentName:e.formData.handlerUnitName,dataSet:a},outPut:{dataSet:[(0,c.default)({},e.cashInfo,{tdIdCopy1:e.cashInfo.tdIdCopy1||""})]}}),i={listId:e.listId,biComment:"",formData:(0,d.default)(n),wfPara:(0,d.default)((0,r.default)({},e.processCode,{businessKey:"FZFY",createdBy:n.creator}))};e.isResubmit&&(t=g.saveAndCommitTask,i.biReferenceId=e.biReferenceId,i.wfPara=(0,d.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=g.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,b.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=o;var l=r.order,d=r.outPut,u=r.inPut,f=u.dataSet[0],m=d.dataSet[0];e.dealerInfo={dealerName_dealerCodeCredit:f.dealerName_dealerCodeCredit,dealerCodeCredit:f.dealerCodeCredit,crDealerLabel:f.crDealerLabel,tdCreditLine:f.tdCreditLine,thenAmntBal:f.thenAmntBal,thenAlreadyAmnt:f.thenAlreadyAmnt,thenTotalAmntBal:f.thenTotalAmntBal,differenceAmount:f.differenceAmount,tdAmount:f.tdAmount,tdId:f.tdId},e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,c.default)({},e.handlerDefault,{biComment:r.biComment,biId:r.biId,biProcessStatus:r.biProcessStatus,creator:r.creator,modifer:r.modifer}),e.cashInfo={fundName_cashInCode:m.fundName_cashInCode,cashInCode:m.cashInCode,cashType_cashInCode:m.cashType_cashInCode,thenAmntBalCopy1:m.thenAmntBalCopy1,tdAmountCopy1:m.tdAmountCopy1,tdIdCopy1:m.tdIdCopy1},e.CostList=[],l.dataSet.forEach(function(t){e.CostList.push({tdId:t.tdId,exptName:t.costName_expCode,expCode:t.expCode,expSubject:t.expSubject,costType:t.costType_expCode,tdAmount:t.tdAmount,taxAmount:t.taxAmount,noTaxAmount:t.noTaxAmount})}),e.biReferenceId=r.biReferenceId,e.$loading.hide()})},checkAmt:function(e){var t=e.tdAmount,a=e.taxAmount,n=this.dealerInfo,i=n.tdCreditLine,r=n.thenTotalAmntBal,s=this.cashInfo.tdAmountCopy1;t&&(e.tdAmount=Math.abs((0,A.toFixed)(t))),a&&(e.taxAmount=Math.abs((0,A.toFixed)(a))),i&&(this.dealerInfo.tdCreditLine=Math.abs((0,A.toFixed)(i))),r&&(this.dealerInfo.thenTotalAmntBal=Math.abs((0,A.toFixed)(r))),s&&(this.cashInfo.tdAmountCopy1=Math.abs((0,A.toFixed)(s)))},hasDraftData:function(){return(0,r.default)({},"BXYZF_DATA",{dealerInfo:this.dealerInfo,cashInfo:this.contactInfo,costList:this.costList,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("BXYZF_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.cashInfo=t.cashInfo,this.costList=t.costList,sessionStorage.removeItem("BXYZF_DATA")}}}},"/GCn":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.noUpload&&e.defaultValue.length||!e.noUpload?a("div",{staticClass:"upload-file-container",class:{"no-upload":e.noUpload},style:e.containStyle},[a("p",{staticClass:"title",style:e.titleStyle},[e._v("附件")]),e._v(" "),a("div",{staticClass:"upload-file-list"},[e._l(e.files,function(t,n){return a("div",{key:n,staticClass:"upload-file-item"},["image"===t.iconType?[a("img",{staticClass:"img",attrs:{src:"/H_roleplay-si/ds/download?url="+t.attacthment+"&width=400&height=400"},on:{click:function(a){a.stopPropagation(),e.preview(t)}}})]:[e._v("\n        "+e._s(t.attr1)+"\n      ")],e._v(" "),e.noUpload?e._e():a("i",{staticClass:"iconfont icon-shanchu",on:{click:function(a){e.deleteFile(t)}}})],2)}),e._v(" "),e.noUpload?e._e():a("div",{staticClass:"upload-file-item"},[a("input",{staticClass:"upload-file",attrs:{type:"file",id:e.id,name:"upload-file"},on:{change:e.uploadFile}}),e._v(" "),a("label",{staticClass:"upload-file-add",attrs:{for:e.id}}),e._v(" "),e._m(0)])],2)]):e._e()},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"icon_container"},[a("span",{staticClass:"iconfont icon-fujian"})])}],r={render:n,staticRenderFns:i};t.a=r},"/MNM":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2211}},mixins:[i.default],methods:{},created:function(){}}},"/Pa9":function(e,t,a){"use strict";function n(e){a("8fzM")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("sb2V");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("8Dfk"),o=a.n(s),l=a("rKqJ"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-21c4a895",null);t.default=c.exports},"/Pqc":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("4YfN"),i=function(e){return e&&e.__esModule?e:{default:e}}(n),r=a("53nK"),s=a("tpzc");t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="localhost"!==location.hostname?encodeURIComponent(location.href.split("#")[0]):r.redirect_uri;return(0,s.getJsApiSignature)(t).then(function(t){var a=t.signature,n=void 0===a?"":a,s=t.nonceStr,o=void 0===s?"":s,l=t.timestamp,d=void 0===l?"":l;wx.config((0,i.default)({beta:!0,debug:!1,appId:r.corpid,timestamp:d,nonceStr:o,signature:n,jsApiList:["scanQRCode","previewFile","chooseImage","previewImage","onHistoryBack","getLocalImgData","onMenuShareAppMessage"]},e))})}},"/QQc":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("4YfN"),o=n(s),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("6q39"),v=n(h),p=a("qE8w"),C=a("1KNX"),_=n(C),y=a("7biW"),b=n(y);t.default={name:"PopInvoiceList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},params:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:m.default,LoadMore:v.default,RScroll:_.default,MSearch:b.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],costList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},dataCount:0}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}},params:{handler:function(){this.getCostList()},deep:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){var t=!1;return this.selItems&&this.selItems.every(function(a){return e.transCode!==a.transCode||(t=!0,!1)}),t},selThis:function(e,t){var a="";if(this.selItems.every(function(t){return e.transCode!==t.transCode||(a="该出库单已选择，请选择其他",!1)}),a)return void this.$vux.alert.show({content:a});this.selItems.push(e),this.showPop=!1,this.$emit("sel-matter",e)},setDefaultValue:function(){var e=this;this.selItems=[],this.defaultValue.forEach(function(t){t.transCode&&e.selItems.push(t)})},getCostList:function(){var e=this,t=[],a=p.getBillingApplication;return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"transCode"}])),a((0,o.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.dataCount=n,e.hasNext=n>(e.page-1)*e.limit+r.length,e.costList=1===e.page?r:[].concat((0,d.default)(e.costList),(0,d.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.costList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getCostList()},onPullingUp:function(){this.page++,this.getCostList()}},created:function(){this.setDefaultValue(),this.getCostList()}}},"/TT8":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=(a("XAqG"),a("HyXB"),a("MjAd")),o=n(s),l=a("ak47");n(l);t.default={name:"ZPJH_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"经办人",value:"handlerName"},{name:"交易号",value:"transCode"}],listViewID:2400}},mixins:[o.default],methods:{pathChange:function(e,t,a){var n=this;if(!this.clickVisited){var i=e.transCode,s=this.$route.query.name,o=this.$route.params,l=o.fileId,d=o.listId;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,r.default)({},e));var u=a+"/"+l+"/"+d;setTimeout(function(){n.clickVisited=!1,n.$router.push({path:u,query:{name:s,transCode:i}})},200)}},goDetail:function(e,t){this.pathChange(e,t,"/detail")},goUserEdit:function(e,t){this.pathChange(e,t,"/fillform")}}}},"/Ti6":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}))],1),e._v(" "),e.action.add?a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},"/Z4J":function(e,t,a){"use strict";function n(e){a("FUex")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("wn1Q");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("LZ1p"),o=a.n(s),l=a("V6ln"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-0c819eb5",null);t.default=c.exports},"/Z5K":function(e,t,a){"use strict";function n(e){a("qobV")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4ixO");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("vvIr"),o=a.n(s),l=a("NuNa"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-3f5c344c",null);t.default=c.exports},"/adf":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}))],1),e._v(" "),e.action.add?a("div",{staticClass:" vux-1px-t btn "},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},"/asA":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),m=a("89pA"),h=n(m),v=a("hPJo"),p=n(v),C=a("3NX5"),_=n(C);t.default={data:function(){return{warehouseIn:{},formViewUniqueId:"064e455d-4277-473a-9e54-d9ae4b1f23be"}},mixins:[l.default],components:{workFlow:f.default,PopWarehouseList:h.default,RAction:u.default,WarehouseContent:p.default,MatterList:_.default},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.inPut,n=void 0===a?{}:a,i=n.dataSet,s=!0,o=!1,l=void 0;try{for(var d,u=(0,r.default)(i);!(s=(d=u.next()).done);s=!0){var c=d.value;c.inventoryPic=c.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+c.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){o=!0,l=e}finally{try{!s&&u.return&&u.return()}finally{if(o)throw l}}e.warehouseIn={warehouseCode:n.containerCode,warehouseName:n.warehouseName_containerCode,warehouseType:n.warehouseType_containerCode,warehouseProvince:n.warehouseProvince_containerCode,warehouseCity:n.warehouseCity_containerCode,warehouseDistrict:n.warehouseDistrict_containerCode,warehouseAddress:n.warehouseAddress_containerCode},e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},"/hZ2":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}))],1),e._v(" "),e.action.add?a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},"/nCc":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[e.matterList.length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v("物料列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.matterList,function(t,n){return a("div",{key:n,staticClass:"each_mater",class:{mater_delete:e.matterModifyClass,"vux-1px-b":n<e.matterList.length-1}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass},on:{"on-modify":function(a){e.modifyMatter(t,n)}},nativeOn:{click:function(a){e.delClick(n,t)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_more"},[a("span",{staticClass:"processing"},[e._v("属性: "+e._s(n.processing))]),e._v(" "),a("span",{staticClass:"unit"},[e._v("单位: "+e._s(n.measureUnit))]),e._v(" "),a("span",{staticClass:"mater_color"},[e._v("颜色: "+e._s(n.inventoryColor||"无"))])]),e._v(" "),a("div",{staticClass:"mater_num"},[a("span",{directives:[{name:"show",rawName:"v-show",value:n.tdQty,expression:"item.tdQty"}],staticClass:"current_num"},[e._v("\n                      数量: "+e._s(n.tdQty)+"\n                    ")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.promDeliTime,expression:"item.promDeliTime"}],staticClass:"current_num",staticStyle:{"margin-left":"0.05rem"}},[e._v("\n                      预期完工日: "+e._s(n.promDeliTime)+"\n                    ")])])]}},{key:"edit",fn:function(t){var i=t.item;return[i.tdQty||e.matterModifyClass?e._e():a("div",{staticClass:"mater_other",on:{click:function(t){e.modifyMatter(i,n)}}},[a("div",{staticClass:"edit-tips"},[e._v("点击进行填写")])])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(n,t)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)}))]:[a("div",{on:{click:function(t){e.showMaterielPop=!e.showMaterielPop}}},[a("div",{staticClass:"title"},[e._v("物料列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择物料")]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),e.matterList.length?a("span",{staticClass:"add_more",on:{click:e.addMatter}},[e._v("新增更多物料")]):e._e()]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showMaterielPop,"default-value":e.matterList,params:e.matterParams},on:{"sel-matter":e.selMatter},model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}})],2),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,"is-show-amount":!1},on:{"sel-confirm":e.selConfirm},scopedSlots:e._u([{key:"modify",fn:function(t){var n=t.modifyMatter;return[a("x-input",{attrs:{title:"数量",type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",e._n(t))},expression:"modifyMatter.tdQty"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("数量\n              ")])])],2),e._v(" "),a("datetime",{attrs:{title:"预计完工日",placeholder:"请选择"},model:{value:n.promDeliTime,callback:function(t){e.$set(n,"promDeliTime",t)},expression:"modifyMatter.promDeliTime"}})]}}]),model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},"/nyt":function(e,t){},"/rmV":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("49IH"),i=function(e){return e&&e.__esModule?e:{default:e}}(n),r=null,s={};s.install=function(e){if(!r){var t=e.extend(i.default);r=(new t).$mount(),document.body.appendChild(r.$el)}e.prototype.$HandleLoad={show:function(){r.show=!0},hide:function(){r.show=!1}}},t.default=s},"/xwX":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages fgysqk-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{request:"1","default-value":e.dealerInfo},on:{"sel-item":e.selDealer}},[a("template",{slot:"other"},[a("div",{staticClass:"amt-dealer"},[a("span",{staticClass:"amt-dealer-item"},[e._v("本次申请: "+e._s(e.applicationAmount))])])])],2),e._v(" "),a("div",{staticClass:"materiel_list"},[e.orderList.length?[a("div",{staticClass:"title"},[e._v("定金明细")]),e._v(" "),e._l(e.orderList,function(t,n){return a("div",{key:n,staticClass:"order-detail",class:{"vux-1px-t":0!==n}},[a("div",{staticClass:"detail-item top"},[a("span",{staticClass:"info-item"},[e._v(e._s(t.transCode))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"info-item"},[e._v("总金额: "+e._s(t.thenAmntBal))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("采购定金: "+e._s(t.amount))])]),e._v(" "),a("cell",{attrs:{title:"已付定金","text-align":"right",value:t.amnted}}),e._v(" "),a("cell",{attrs:{"text-align":"right",value:t.deposit}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("待付定金")])])],2),e._v(" "),a("x-input",{attrs:{"text-align":"right",placeholder:"请填写",type:"number"},on:{"on-blur":function(a){e.checkAmt(t,"tdAmount")},"on-focus":function(t){e.getFocus(t)}},model:{value:t.tdAmount,callback:function(a){e.$set(t,"tdAmount",e._n(a))},expression:"item.tdAmount"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("本次申请")])])],2)],1)})]:a("div",{staticClass:"order-info",on:{click:function(t){e.showOrder=!0}}},[a("div",{staticClass:"title"},[e._v("定金明细")]),e._v(" "),a("div",{staticClass:"mode"},[e._v("请选择定金明细")]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r-arrow"})])],2),e._v(" "),e.orderList.length?a("div",{staticClass:"handle_part vx-1px-t"},[e.orderList.length?a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多")]):e._e()]):e._e(),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"其他信息"}},[a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-earnest-money-list",{attrs:{show:e.showOrder,params:e.dealerParams,"default-value":e.orderList},on:{"sel-item":e.selOrder},model:{value:e.showOrder,callback:function(t){e.showOrder=t},expression:"showOrder"}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},"/zZU":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("KH7x"),o=n(s),l=a("IHPB"),d=n(l),u=a("HyXB"),c=a("vvLd"),f=n(c);t.default={name:"UploadFile",props:{id:{type:String,default:"upload-file"},defaultValue:{type:Array,default:function(){return[]}},noUpload:{type:Boolean,default:!1},containStyle:{type:Object,default:function(){return{}}},titleStyle:{type:Object,default:function(){return{}}}},data:function(){return{files:[],file:null,biReferenceId:"",showLoading:!1}},watch:{defaultValue:{handler:function(){this.setDefault()}}},methods:{chooseImage:function(){wx.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],defaultCameraMode:"batch",success:function(e){var t=e.localIds;wx.getLocalImgData({localId:t,success:function(e){alert(e);var t=e.localData,a=[].concat((0,d.default)(t)),n=(0,o.default)(a,1),i=n[0];this.file=i}})}})},uploadFile:function(e){var t=[].concat((0,d.default)(e.target.files));if(t.length){var a=(0,o.default)(t,1),n=a[0];this.file=n,e.target.value="",this.imgPreview()}},imgPreview:function(){var e=this;this.showLoading=!0;var t=this.file,a=void 0;if(f.default.getData(t,function(){a=f.default.getTag(t,"Orientation")}),t&&window.FileReader)if(/^image/.test(this.file.type)){var n=new FileReader;n.readAsDataURL(t),n.onloadend=function(t){var n=t.target.result,i=new Image;i.src=n,n.length<=102400?e.postFile(n):i.onload=function(){e.postFile(e.compress(i,a))}}}else this.postFile()},dataURLtoFile:function(e,t){for(var a=e.split(","),n=window.atob(a[1]),i=n.length,r=new Uint8Array(i),s=a[0].match(/:(.*?);/)[1];i--;)r[i]=n.charCodeAt(i);return new File([r],t,{type:s})},postFile:function(e){var t=this,a=null;a=/^image/.test(this.file.type)?this.dataURLtoFile(e,this.file.name):this.file,(0,u.upload)({file:a,biReferenceId:this.biReferenceId}).then(function(e){var a=(e.success,e.message,e.data),n=(0,o.default)(a,1),i=n[0],r=void 0===i?{}:i;r.iconType=t.judgeFileType(r.attr1),t.files.push(r),t.biReferenceId||(t.biReferenceId=r.biReferenceId,t.$emit("on-upload",{biReferenceId:t.biReferenceId}))}).catch(function(e){t.$vux.alert.show({content:e.message})})},compress:function(e,t){var a=document.createElement("canvas"),n=a.getContext("2d"),i=document.createElement("canvas"),r=i.getContext("2d"),s=e.src.length,o=e.width,l=e.height,d=void 0;(d=o*l/4e6)>1?(console.log("大于400万像素"),d=Math.sqrt(d),o/=d,l/=d):d=1,a.width=o,a.height=l,n.fillStyle="#fff",n.fillRect(0,0,a.width,a.height);var u=void 0;if((u=o*l/1e6)>1){console.log("超过100W像素"),u=~~(Math.sqrt(u)+1);var c=~~(o/u),f=~~(l/u);i.width=c,i.height=f;for(var m=0;m<u;m++)for(var h=0;h<u;h++)r.drawImage(e,m*c*d,h*f*d,c*d,f*d,0,0,c,f),n.drawImage(i,m*c,h*f,c,f)}else n.drawImage(e,0,0,o,l);if(""!==t&&1!==t)switch(t){case 6:this.rotateImg(e,"left",a);break;case 8:this.rotateImg(e,"right",a);break;case 3:this.rotateImg(e,"right",a),this.rotateImg(e,"right",a)}var v=a.toDataURL("image/jpeg/gif",.5);return console.log("压缩前: "+s),console.log("压缩后: "+v.length),console.log("压缩率: "+~~(100*(s-v.length)/s)+"%"),i.width=i.height=a.width=a.height=0,v},rotateImg:function(e,t,a){if(null!=e){var n=e.height,i=e.width,r=2;null==r&&(r=0),"right"===t?++r>3&&(r=0):--r<0&&(r=3);var s=90*r*Math.PI/180,o=a.getContext("2d");switch(r){case 0:a.width=i,a.height=n,o.drawImage(e,0,0);break;case 1:a.width=n,a.height=i,o.rotate(s),o.drawImage(e,0,-n);break;case 2:a.width=i,a.height=n,o.rotate(s),o.drawImage(e,-i,-n);break;case 3:a.width=n,a.height=i,o.rotate(s),o.drawImage(e,-i,0)}}},setDefault:function(){var e=this,t=[],a=(0,o.default)(this.defaultValue,1),n=a[0],i=void 0===n?{}:n;t=this.defaultValue.map(function(t){return(0,r.default)({},t,{iconType:e.judgeFileType(t.attr1)})}),this.files=t,this.biReferenceId=i.referenceId},judgeFileType:function(e){var t="other";return[{reg:/\.(png|jpg|jpeg|gif|bmp|)$/gi,type:"image"},{reg:/\.xlsx$/gi,type:"excel"},{reg:/\.(doc|docx)$/gi,type:"word"},{reg:/\.(ppt|pptx)$/gi,type:"ppt"},{reg:/\.txt$/gi,type:"txt"}].every(function(a){return!a.reg.test(e)||(t=a.type,!1)}),t},preview:function(e){if("image"===e.iconType){var t=location.origin+"/H_roleplay-si/ds/download?url="+e.attacthment+"&width=400&height=400";wx.previewImage({current:t,urls:[t]})}},deleteFile:function(e){var t=this;this.$vux.confirm.show({content:"确定删除？",onConfirm:function(){(0,u.deleteFile)(e.id).then(function(a){var n=a.success,i=void 0===n||n;a.message;if(i){var r=t.files.findIndex(function(t){return t.id===e.id});-1!==r&&t.files.splice(r,1)}})}})}},created:function(){this.setDefault()}}},"0+Vg":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("+62G"),o=n(s),l=a("7g+Q"),d=n(l),u=a("z5TY"),c=n(u),f=a("HXPS"),m=n(f),h=a("d5Kw"),v=n(h),p=a("kNGm"),C=(n(p),a("1KNX")),_=n(C),y=a("I8ug"),b=a("d3k1"),g=n(b),w=a("Qg39");t.default={data:function(){return{scrollOptions:{click:!0},logShow:!1,pickerStatus:!1,scopeList:[{name:"表单",selected:!1},{name:"科目关系",selected:!1},{name:"报销",selected:!1},{name:"工作流",selected:!1},{name:"权限",selected:!1}],submitData:{scope:"",spendTime:1,content:""},scopeType:[],listId:"",btnIsHide:!1,clientHeight:document.documentElement.clientHeight}},directives:{TransferDom:o.default},components:{Popup:d.default,Group:c.default,Icon:m.default,XButton:v.default,RScroll:_.default},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},EditLogPop:function(){var e=this;if(this.pickerStatus=!0,this.scopeType=[],this.submitData.scope){this.submitData.scope.split(",").forEach(function(t){var a={name:t};e.scopeType.push(a)})}},showSelIcon:function(e){return-1!==this.scopeType.findIndex(function(t){return t.name===e.name})},selectType:function(e){e.selected=!e.selected;var t=this.scopeType,a=t.findIndex(function(t){return t.name===e.name});if(-1!==a)return void t.splice(a,1);t.push(e)},cfmMater:function(){var e=this;this.pickerStatus=!1,this.submitData.scope="",this.scopeType.forEach(function(t){if(e.submitData.scope.length)return void(e.submitData.scope+=","+t.name);e.submitData.scope+=t.name})},checkVal:function(e){var t=e.spendTime;t&&(e.spendTime=Math.abs((0,w.toFixed)(t)))},submitLog:function(){var e=this,t="";if([{key:"scope",message:"【更新范围】"},{key:"spendTime",message:"【耗用时间】"},{key:"content",message:"【更新内容】"}].every(function(a){return""!==e.submitData[a.key]||(t=a.message+"不能为空",!1)}),t)return void this.$vux.alert.show({content:t});(0,y.saveLog)((0,r.default)({},this.submitData,{listId:this.listId})).then(function(t){t.success&&(e.submitSuccess=!0,e.$vux.alert.show({content:"提交成功",onHide:function(){e.$router.go(-1)}}))})},getFocus:function(e){event.currentTarget.select()}},created:function(){var e=this.$route.params.listId;e&&(this.listId=e)},mounted:function(){var e=this;g.default.isAndroid&&(window.onresize=function(){e.clientHeight>document.documentElement.clientHeight?e.btnIsHide=!0:e.btnIsHide=!1})},beforeRouteLeave:function(e,t,a){e.path;this.submitSuccess&&"APPDETAIL"===e.name&&(e.meta.reload=!0),a()}}},"0/Yf":function(e,t){},"00yO":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("AupE"),f=n(c),m=a("BUFe"),h=n(m),v=a("bFc7"),p=n(v),C=a("3NX5"),_=n(C),y=a("zlAJ"),b=n(y),g=a("zWMP");t.default={data:function(){return{orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",attachment:[],count:0}},mixins:[u.default],components:{workFlow:f.default,RAction:h.default,contactPart:p.default,MatterList:_.default,UploadFile:b.default},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u=s.order,c=u.dataSet,f=!0,m=!1,h=void 0;try{for(var v,p=(0,r.default)(c);!(f=(v=p.next()).done);f=!0){var C=v.value;e.count=(0,g.accAdd)(e.count,C.tdAmount),C.inventoryPic=C.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+C.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){m=!0,h=e}finally{try{!f&&p.return&&p.return()}finally{if(m)throw h}}e.attachment=d,s.validUntil=(0,o.default)(s.validUntil,"YYYY-MM-DD"),e.orderInfo=s,e.workFlowInfoHandler()})}}}},"04qB":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("just-word-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}},scopedSlots:e._u([{key:"list-item",fn:function(t){var n=t.item;return[a("div",{staticClass:"status_part"},[a("span",{staticClass:"iconfont icon-503020"}),e._v(" "),a("span",{staticClass:"status_name"},[e._v(e._s(n.projectType_project))])]),e._v(" "),a("div",{staticClass:"content_part"},[e._v(e._s(n.projectName_project))]),e._v(" "),e._l(n.detailItem,function(t,n){return a("div",[a("div",{staticClass:"content_part"},[e._v(e._s(t.costName_expCode))]),e._v(" "),a("div",{staticClass:"other_info_part"},[a("p",{staticClass:"info_with_comment"},[e._v("费用类型: "+e._s(t.costType_expCode||"暂无"))])])])})]}}])})}))],1),e._v(" "),e.action.add?a("div",{staticClass:" vux-1px-t btn "},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},"092/":function(e,t){},"0AQX":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getListView=t.getAppExampleDetails=t.getSaleQuotePrice=t.currentUser=t.getSOList=t.getListId=t.isMyflow=t.getWorkFlow=void 0;var n=a("GOq4"),i=function(e){return e&&e.__esModule?e:{default:e}}(n),r=t.getWorkFlow=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.ajax({url:"/H_roleplay-si/ds/listTaskLogByTransCode",data:e})},s=t.isMyflow=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.ajax({url:"/H_roleplay-si/ds/getWorkFlowInfoByTransCode",data:e})},o=(t.getListId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return i.default.ajax({url:"/H_roleplay-si/ds/list/getFormByTransCode?transCode="+e})},t.getSOList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.ajax({url:"/H_roleplay-si/formAPI/findData",data:e})}),l=t.currentUser=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return i.default.ajax({url:"/H_roleplay-si/userInfo/currentUser",_dc:e})};t.getSaleQuotePrice=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.ajax({type:"POST",contentType:"application/x-www-form-urlencoded",url:"/H_roleplay-si/ds/getSaleQuotePrice",data:e})},t.getAppExampleDetails=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.ajax({url:"/H_roleplay-si/trans/getAppExampleDetails",data:e})},t.getListView=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.ajax({url:"/H_roleplay-si/ds/list/getListViews",data:e})};t.default={isMyflow:s,getSOList:o,currentUser:l,getWorkFlow:r}},"0EBS":function(e,t){},"0FTM":function(e,t){},"0GX7":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vux-tab-item",class:[e.currentSelected?e.activeClass:"",{"vux-tab-selected":e.currentSelected,"vux-tab-disabled":e.disabled}],style:e.style,on:{click:e.onItemClick}},[e._t("default"),e._v(" "),void 0!==e.badgeLabel&&""!==e.badgeLabel?a("span",{staticClass:"vux-tab-item-badge",style:{background:e.badgeBackground,color:e.badgeColor}},[e._v("\n  "+e._s(e.badgeLabel))]):e._e()],2)},i=[],r={render:n,staticRenderFns:i};t.a=r},"0LX9":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("a3Yh"),o=n(s),l=a("3cXf"),d=n(l),u=a("KH7x"),c=n(u),f=a("Q+Ik"),m=n(f),h=a("4YfN"),v=n(h),p=a("z5TY"),C=n(p),_=a("SAzG"),y=n(_),b=a("PzEQ"),g=n(b),w=a("jnZd"),I=n(w),x=a("vl8n"),D=n(x),P=a("+WR7"),k=n(P),S=a("y8YJ"),T=n(S),L=a("HyXB"),N=a("0AQX"),M=a("bKg5"),A=n(M);t.default={name:"ApplyCPFBForm",data:function(){return{listId:"eb8a01a3-7a74-439b-bc44-8d58cbfa6166",formViewUniqueId:"b018ef18-f0d1-41a8-985e-29de19e6b705",formData:{biId:"",biComment:"",launchType:"",launchTitle:"",launchDescribe:"",biProcessStatus:""},biReferenceId:"",typeList:[],selectedType:[],launchTypeList:[],dealerInfo:{},contactInfo:{},uploadStyle:{}}},mixins:[A.default],components:{Group:C.default,XInput:y.default,XTextarea:g.default,PopupPicker:I.default,RPicker:D.default,PopBaseinfo:k.default,PopDealerList:T.default},methods:{selContact:function(e){this.contactInfo=(0,v.default)({},e)},selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],this.formData.launchDealerCode=this.dealerInfo.dealerCode},isSelectType:function(e){this.formData.launchType=e[0]},save:function(){var e=this,t={launchDealerCode:"客户",launchTitle:"标题",launchType:"类型",launchDescribe:"描述"};for(var a in this.formData)"string"==typeof this.formData[a]&&this.formData[a].indexOf(" ")>=0&&(this.formData[a]=this.formData[a].replace(/\s/g,""));var n="";if(!n&&(0,m.default)(t).every(function(t){var a=(0,c.default)(t,2),i=a[0],r=a[1];return!!e.formData[i]||(n=r+"不能为空",!1)}),n)return void this.$vux.alert.show({content:n});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=e.formData,a={launchDealerCode:e.dealerInfo.dealerCode,address_launchDealerCode:e.dealerInfo.address,launchDealerLabel:e.dealerInfo.dealerLabelName,dealerName_launchDealerCode:e.dealerInfo.dealerName},n={dealerDebitContactPersonName:e.contactInfo.dealerName,dealerDebitContactInformation:e.contactInfo.dealerMobilePhone},i=e.processCode.length?L.saveAndStartWf:L.submitAndCalc,r={listId:e.listId,biComment:"",formData:(0,d.default)((0,v.default)({handlerEntity:e.entity.dealerName},t,a,n)),wfPara:(0,d.default)((0,o.default)({},e.processCode,{businessKey:"RELS",createdBy:t.creator}))};e.transCode&&(i=e.processCode.length?L.saveAndCommitTask:L.updateData,r.biReferenceId=e.biReferenceId,r.wfPara=(0,d.default)({businessKey:e.transCode,createdBy:t.creator,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(i,r)}})},getFormData:function(){var e=this;return(0,N.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.biReferenceId,o=void 0===s?"":s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=t.attachment,e.biReferenceId=o,e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,v.default)({},e.formData,r,e.handlerDefault),e.$loading.hide()})},getProductType:function(){var e=this;return(0,L.getDictByType)("productRelease").then(function(t){var a=t.tableContent,n=void 0===a?[]:a,i=[],s=!0,o=!1,l=void 0;try{for(var d,u=(0,r.default)(n);!(s=(d=u.next()).done);s=!0){var c=d.value;i.push(c.name)}}catch(e){o=!0,l=e}finally{try{!s&&u.return&&u.return()}finally{if(o)throw l}}e.launchTypeList.push(i)})},hasDraftData:function(){var e=["biProcessStatus","launchTitle","launchDescribe","launchType"],t=this.formData,a=!1;if(e.every(function(e){return!t[e]||(a=!0,!1)},!0),a)return(0,o.default)({},"CPFB_DATA",{formData:this.formData,dealerInfo:this.dealerInfo,contactInfo:this.contactInfo,selectedType:this.selectedType})}},created:function(){var e=sessionStorage.getItem("CPFB_DATA");e&&(this.formData=JSON.parse(e).formData,this.dealerInfo=JSON.parse(e).dealerInfo,this.contactInfo=JSON.parse(e).contactInfo,this.selectedType=JSON.parse(e).selectedType,sessionStorage.removeItem("CPFB_DATA")),this.getProductType()}}},"0Nk0":function(e,t,a){"use strict";function n(e){a("cD0w")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("zsBr");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("bHLN"),o=a.n(s),l=a("xRGd"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-737af83c",null);t.default=c.exports},"0QVE":function(e,t){},"0T3k":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("rVsN"),o=n(s),l=a("J0Oq"),d=n(l),u=a("4YfN"),c=n(u),f=a("Q+Ik"),m=n(f),h=a("KH7x"),v=n(h),p=a("+62G"),C=n(p),_=a("7g+Q"),y=n(_),b=a("z5TY"),g=n(b),w=a("SAzG"),I=n(w),x=a("jnZd"),D=n(x),P=a("BGNQ"),k=n(P),S=a("vl8n"),T=n(S),L=a("5gKc"),N=n(L),M=a("1KNX"),A=n(M),O=a("RbKA"),R=n(O),j=a("w5TH"),$=n(j),B=a("y8YJ"),E=n(B),F=a("PKHo"),U=n(F),q=a("I3vJ"),Q=a("HyXB"),H=a("Qg39");t.default={data:function(){return{listId:"78a798f8-0f3a-4646-aa8b-d5bb1fada28c",biReferenceId:"",MatPic:"",matNatureList:[],matBigList:[],matSmlList:[],measureList:[],statusList:[],picShow:!1,baseinfo:{handler:"",handlerName:"",handlerArea:"",handlerAreaName:"",handlerUnit:"",handlerUnitName:"",handlerRole:"",handlerRoleName:"",activeTime:"",comment:""},inventory:{inventoryCode:"",inventoryName:"",processing:"",inventoryType:"",inventorySubclass:"",measureUnit:"",specification:"",material:"",inventoryColor:"",keepingDays:1,safeStock:0,nearKeepingDays:1,inventoryStatus:"",inventoryPic:"",comment:"",technicsCode:"",leadTime:"",procedureName:"",procedureCode:"",moq:""},invMoreUnit:[],invNetWeight:[],transCode:"",hasDefault:!1,imgFileObj:{},imgFile:null,codeReadOnly:!1,submitSuccess:!1,processing:[],inventoryType:[],inventorySubclass:[],measureUnit:[],inventoryStatus:"",inventoryTypeDisabled:!1,inventorySubclassDisabled:!1,scrollOptions:{click:!0},invDealerRel:[],invCustomerRel:[],currentDealerIndex:0,currentCustomerIndex:0}},computed:{nearKeepingDays:function(){var e=this.inventory.keepingDays;return e||0===e?e>=365?45:e>=183?20:e>=90?15:e>=30?10:e>=10?2:1:0},leadTimeTitle:function(){var e=this.inventory.processing,t=["原料","商品"],a=["半成品","成品","模具"];return t.includes(e)?"采购提前期":a.includes(e)?"加工提前期":""}},directives:{TransferDom:C.default},mixins:[U.default],components:{Popup:y.default,Group:g.default,RPicker:T.default,UploadImage:N.default,XInput:I.default,PopupPicker:D.default,RScroll:A.default,Cell:k.default,PopTechnicsList:R.default,PopProcedureList:$.default,PopDealerList:E.default},methods:{onUpload:function(e){console.log(e),this.inventory.inventoryPic=e.src},natureChange:function(e){var t=this;this.hasDefault||this.getBig().then(function(e){var a=(0,v.default)(e,1),n=a[0],i=void 0===n?{}:n;t.inventory.inventoryType=i.name})},bigChange:function(e){var t=this;this.hasDefault||this.getSml(e).then(function(e){var a=(0,v.default)(e,1),n=a[0],i=void 0===n?{}:n;t.inventory.inventorySubclass=i.name})},getStatus:function(){var e=this;return(0,Q.getDictByType)("objStatus").then(function(t){var a=t.tableContent;a&&a.forEach(function(e){e.originValue=e.name,e.value=e.name}),e.statusList=a})},checkAmt:function(e){var t=e.invSubUnitMulti,a=e.invCompQty;t?e.invSubUnitMulti=Math.abs((0,H.toFixed)(t)):a&&(e.invCompQty=Math.abs((0,H.toFixed)(a)))},save:function(){var e=this,t={inventoryCode:"物料编码",inventoryName:"物料名称",processing:"加工属性",measureUnit:"单位",inventoryStatus:"物料状态"},a=this.invDealerRel.length&&"成品"===this.inventory.processing,n=this.invCustomerRel.length&&"原料"===this.inventory.processing;for(var i in this.inventory)"string"==typeof this.inventory[i]&&this.inventory[i].indexOf(" ")>=0&&(this.inventory[i]=this.inventory[i].replace(/\s/g,""));switch(this.inventoryStatus){case"使用中":this.inventory.inventoryStatus=1;break;case"未使用":this.inventory.inventoryStatus=2;break;case"草稿":this.inventory.inventoryStatus=0;break;case"停用":this.inventory.inventoryStatus=-1}this.inventory.status&&delete this.inventory.status;var r=q.save,s="";if((0,m.default)(t).every(function(t){var a=(0,v.default)(t,2),n=a[0],i=a[1];return!!e.inventory[n]||(s=i+"不能为空",!1)}),!s&&this.invMoreUnit.length){var o=[{key:"invSubUnitName",message:"辅计单位"},{key:"invSubUnitMulti",message:"单位倍数"}];s=this.validateData(this.invMoreUnit,o)}if(!s&&this.invNetWeight.length){var l=[{key:"invCompName",message:"净含量名称"},{key:"invCompUnit",message:"净含量单位"},{key:"invCompQty",message:"净含量数量"}];s=this.validateData(this.invNetWeight,l)}if(!s&&a){var d=[{key:"productDealerName",message:"客户名称"},{key:"clientInventoryCode",message:"客户成品编码"}];s=this.validateData(this.invDealerRel,d)}if(!s&&n){var u=[{key:"productDealerName",message:"供应商名称"},{key:"productDealerCode",message:"供应商编码"}];s=this.validateData(this.invCustomerRel,u)}if(s)return void this.$vux.alert.show({content:s});var f={baseinfo:this.baseinfo,inventory:(0,c.default)({},this.inventory,{nearKeepingDays:this.nearKeepingDays,leadTime:this.leadTimeTitle?this.inventory.leadTime:""})};this.invMoreUnit.length&&(f.invMoreUnit=this.invMoreUnit),this.invNetWeight.length&&(f.invNetWeight=this.invNetWeight),a&&(f.invDealerRel=this.invDealerRel),n&&(f.invCustomerRel=this.invCustomerRel);var h={listId:this.listId,formData:f};this.transCode&&(r=q.update),console.log(h),this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$loading.show(),r(h).then(function(t){e.$loading.hide();var a=t.success,n=void 0!==a&&a,i=t.message,s=void 0===i?"提交失败":i;n&&(s=r===q.update?"修改成功":"提交成功",e.submitSuccess=!0),e.$vux.alert.show({content:s,onHide:function(){n&&e.$router.go(-1)}})}).catch(function(t){e.$loading.hide()})}})},findData:function(){var e=this;return(0,q.findData)(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=t.attachment,r=void 0===i?[]:i,s=n.baseinfo,o=void 0===s?{}:s,l=n.inventory,d=void 0===l?{}:l,u=n.invMoreUnit,f=void 0===u?[]:u,m=n.invNetWeight,h=void 0===m?[]:m;switch(e.hasDefault=!0,d.inventoryStatus){case 1:e.inventoryStatus="使用中";break;case 2:e.inventoryStatus="未使用";break;case 0:e.inventoryStatus="草稿";break;case-1:e.inventoryStatus="停用"}var p=n.invDealerRel||[],C=n.invCustomerRel||[];p&&p.forEach(function(e){e.dealerName=e.productDealerName}),C&&C.forEach(function(e){e.dealerName=e.productDealerName}),e.baseinfo=(0,c.default)({},e.baseinfo,o),e.inventory=(0,c.default)({},e.inventory,d),e.invMoreUnit=f,e.invNetWeight=h,e.invDealerRel=p,e.invCustomerRel=C,e.inventory.inventoryPic&&(e.picShow=!0,e.MatPic="/H_roleplay-si/ds/download?url="+e.inventory.inventoryPic+"&width=400&height=400");var _=r.filter(function(t){return t.attacthment===e.inventory.inventoryPic}),y=(0,v.default)(_,1),b=y[0],g=void 0===b?{}:b;e.imgFileObj=g})},getNature:function(){var e=this;return(0,Q.getDictByType)("processing").then(function(t){var a=t.tableContent;return a&&a.forEach(function(e){e.originValue=e.value,e.value=e.name}),e.matNatureList=a,a}).catch(function(t){e.matNatureList=[],e.inventory.processing=""})},getBig:function(){var e=this,t=this.matNatureList.filter(function(t){return t.name===e.inventory.processing}),a=(0,v.default)(t,1),n=a[0],i=void 0===n?{}:n;return(0,Q.getDictByValue)(i.originValue).then(function(t){var a=t.tableContent;return a&&a.forEach(function(e){e.originValue=e.value,e.value=e.name}),e.inventoryTypeDisabled=!a.length,e.matBigList=a,a}).catch(function(t){e.matBigList=[],e.inventory.inventoryType=""})},getSml:function(){var e=this,t=this.matBigList.filter(function(t){return t.name===e.inventory.inventoryType}),a=(0,v.default)(t,1),n=a[0],i=void 0===n?{}:n;return(0,Q.getDictByValue)(i.originValue).then(function(t){var a=t.tableContent;return a&&a.forEach(function(e){e.originValue=e.value,e.value=e.name}),e.inventorySubclassDisabled=!a.length,e.matSmlList=a,a}).catch(function(t){e.matSmlList=[],e.inventory.inventorySubclass=""})},getMeasure:function(){var e=this;return(0,Q.getDictByType)("measureUnit").then(function(t){var a=t.tableContent;return a&&a.forEach(function(e){e.originValue=e.value,e.value=e.name}),e.measureList=a,a}).catch(function(t){e.measureList=[],e.inventory.measureUnit=""})},getBaseInfoData:function(){var e=this;return(0,Q.getBaseInfoDataBase)().then(function(t){e.baseinfo=(0,c.default)({},e.baseinfo,t,{activeTime:e.changeDate(new Date,!0)})})},getDefaultImg:function(){this.MatPic=a("Y//y")},addMoreUnit:function(){this.invMoreUnit.push({invSubUnitName:"",invSubUnitMulti:"",comment:""})},deleteMoreUnit:function(){this.invMoreUnit.pop()},addNetWeight:function(){this.invNetWeight.push({invCompName:"",invCompUnit:"",invCompQty:"",comment:""})},deleteNetWeight:function(){this.invNetWeight.pop()},addDealerRel:function(){this.invDealerRel.push({productDealerName:"",productDealerCode:"",productDealerType:"",clientInventoryCode:"",clientInventoryName:"",productComment:""})},deleteDealerRel:function(){this.invDealerRel.pop()},addCustomerRel:function(){this.invCustomerRel.push({productDealerName:"",productDealerCode:"",productDealerType:"",productComment:""})},deleteCustomerRel:function(){this.invCustomerRel.pop()},validateData:function(e,t){var a="";return e.every(function(e){return t.every(function(t){return!!e[t.key]||(a=t.message+"不能为空",!1)}),!!a}),a},selTechnics:function(e){this.inventory=(0,c.default)({},this.inventory,{technicsName:e.technicsName,technicsCode:e.technicsCode})},selProcedure:function(e){this.inventory=(0,c.default)({},this.inventory,{procedureName:e.procedureName,procedureCode:e.procedureCode})},selDealer:function(e){var t=this.currentDealerIndex;this.$set(this.invDealerRel,t,(0,c.default)({},this.invDealerRel[t],{dealerName:e.dealerName,productDealerName:e.dealerName,productDealerCode:e.dealerCode,productDealerType:e.dealerLabelName}))},selCustomer:function(e){var t=this.currentCustomerIndex;console.log(this.invCustomerRel[t]),this.$set(this.invCustomerRel,t,(0,c.default)({},this.invCustomerRel[t],{dealerName:e.dealerName,productDealerName:e.dealerName,productDealerCode:e.dealerCode,productDealerType:e.dealerLabelName}))},dealerClick:function(e){this.currentDealerIndex=e},customerClick:function(e){this.currentCustomerIndex=e}},beforeRouteLeave:function(e,t,a){var n=e.path;this.submitSuccess&&"/materlist"===n&&(e.meta.reload=!0),a()},created:function(){var e=this;this.$loading.show();var t=this.$route.query.transCode,a=void 0===t?"":t,n=[];if(this.transCode=a,a)return void(0,d.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.findData();case 2:return t.next=4,e.getNature();case 4:return t.next=6,e.getBig();case 6:n.push(e.getSml()),n.push(e.getMeasure()),n.push(e.getStatus()),e.hasDefault=!1,e.codeReadOnly=!0,o.default.all(n).then(function(){e.$loading.hide()});case 12:case"end":return t.stop()}},t,e)}))();n.push(this.getNature().then(function(t){var a=(0,v.default)(t,1),n=a[0],i=void 0===n?{}:n;e.inventory.processing=e.$route.query.matterType?e.$route.query.matterType:i.name})),n.push(this.getMeasure()),n.push(this.getBaseInfoData()),n.push(this.getStatus()),o.default.all(n).then(function(){e.$loading.hide()})},beforeRouteEnter:function(e,t,a){e.meta.title="新增物料",e.query.transCode&&(e.meta.title="编辑物料"),a()}}},"0UVS":function(e,t,a){"use strict";function n(e){a("6cyL")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("LIUC");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("0+Vg"),o=a.n(s),l=a("8OHO"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-6de09f0e",null);t.default=c.exports},"0V3y":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=(a("HyXB"),a("MjAd")),o=n(s),l=a("zWMP");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"项目名称",value:"projectName_project"}],listViewID:2301}},mixins:[o.default],filters:{percent:function(e){return e||0===e?(0,l.accMul)(e,100)+"%":"无"}},methods:{goDetail:function(e,t){var a=this;if(!this.clickVisited){var n=e.transCode,i=this.$route.query.name,s=this.$route.params,o=s.fileId,l=s.listId;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,r.default)({},e)),setTimeout(function(){a.clickVisited=!1,a.$router.push({path:"/detail/"+o+"/"+l,query:{name:i,transCode:n}})},200)}}}}},"0VBY":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2299,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_outPutMatCode"}]}},mixins:[i.default],methods:{},created:function(){}}},"0XI/":function(e,t,a){"use strict";function n(e){a("bl0S")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("0VBY");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("OwgJ"),o=a.n(s),l=a("p+VX"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-0cd6e3cc",null);t.default=c.exports},"0aRt":function(e,t){},"0g5o":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("MgeX"),o=n(s),l=a("HzJ8"),d=n(l),u=a("ZLEe"),c=n(u),f=a("3cXf"),m=n(f),h=a("4YfN"),v=n(h),p=a("KH7x"),C=n(p),_=a("BGNQ"),y=n(_),b=a("SAzG"),g=n(b),w=a("u28h"),I=n(w),x=a("PzEQ"),D=n(x),P=a("kNGm"),k=n(P),S=a("0AQX"),T=a("I3vJ"),L=a("HyXB"),N=a("bKg5"),M=n(N),A=a("y8YJ"),O=n(A),R=a("kZy/"),j=n(R),$=a("Pb67"),B=n($),E=a("89pA"),F=n(E),U=a("yt3/"),q=n(U),Q=a("luHD"),H=n(Q),V=a("VZtf"),X=n(V),z=a("vl8n"),Y=n(z),W=a("+WR7"),G=n(W),J=a("fCs9"),K=n(J),Z=a("zWMP");a("Qg39");t.default={name:"ApplyCGRKForm",data:function(){return{listId:"1c5896d8-1500-4569-b0c5-6b596d03fb9b",srhInpTx:"",orderList:{},matterList:[],DealerPaymentTerm:"现付",transMode:["现付","预付","账期","票据"],showDealerPop:!1,dealerInfo:{},contactInfo:{},crDealerPaymentTerm:"现付",formData:{biId:"",biComment:""},submitSuccess:!1,showWarehousePop:!1,warehouse:null,taxRate:.16,numMap:{},transCode:"",formViewUniqueId:"fed81800-4c34-44a9-b517-c3fd9f2ab57d",biReferenceId:"",actions:[],taskId:"",showOrderPop:!1,matterParams:{dealerCode:""},tmpItems:{},matter:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,filterList:[{name:"交易号",value:"transCode"},{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"}]}},mixins:[M.default],components:{Cell:y.default,RDropdown:K.default,XInput:g.default,XTextarea:D.default,Datetime:I.default,PopOrderList:B.default,RNumber:X.default,PopDealerList:O.default,PopWarehouseList:F.default,PopMatterList:j.default,PopSingleSelect:q.default,PopMatter:H.default,RPicker:Y.default,PopBaseinfo:G.default},methods:{getPaymentTerm:function(){var e=this;return(0,L.getDictByType)("paymentTerm").then(function(t){var a=t.tableContent;e.transMode=a})},selDealer:function(e){var t=JSON.parse(e),a=(0,C.default)(t,1),n=a[0],i=n.pamentDays,r=i?(0,k.default)(Date.now()+(0,Z.accMul)(i,864e5),"YYYY-MM-DD"):"";this.dealerInfo=(0,v.default)({},n,{accountExpirationDate:r}),this.matterParams=(0,v.default)({},this.matterParams,{dealerCode:n.dealerCode}),this.crDealerPaymentTerm=this.dealerInfo.paymentTerm},selContact:function(e){this.contactInfo=(0,v.default)({},e)},selWarehouse:function(e){this.warehouse=JSON.parse(e)},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,m.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selMatter:function(e){var t=this,a=JSON.parse(e);console.log(a);var n={};a.forEach(function(e){var a=e.transCode+"_"+e.inventoryCode,i=t.numMap[a]||{},r=i.tdQty,s=void 0===r?e.qtyBal:r,o=i.price,l=void 0===o?e.price:o,d=i.taxRate,u=void 0===d?.16:d,c=i.productionDate,f=void 0===c?"":c,m=i.validUntil,h=void 0===m?"":m;e.tdQty=s,l.length&&(e.price=l),e.taxRate=u,e.productionDate=f,e.validUntil=h,n[e.transCode]||(n[e.transCode]=[]),t.getMoreUnit(e),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.inventoryCode!==e.inventoryCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,c.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});i>=0&&(e.$refs.matter.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,d.default)((0,o.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,l=!1,u=void 0;try{for(var c,f=(0,d.default)(r);!(s=(c=f.next()).done);s=!0){var m=c.value;this.numMap[m.transCode+"_"+m.inventoryCode]=(0,v.default)({},m)}}catch(e){l=!0,u=e}finally{try{!s&&f.return&&f.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="",a=[];if([{key:"dealerInfo",message:"供应商信息"},{key:"crDealerPaymentTerm",message:"结算方式"},{key:"warehouse",message:"仓库"}].every(function(a){return!!e[a.key]||(t="请选择"+a.message,!1)}),t||this.matterList.length||(t="请选择物料"),t||this.matterList.every(function(n){if(!n.price)return t="单价不能为空",!1;if(!n.tdQty)return t="数量不能为空",!1;var i=n.taxRate||e.taxRate,r=(0,Z.accMul)(n.price,n.tdQty,i),s={transMatchedCode:n.transCode,transObjCode:n.inventoryCode,tdProcessing:n.processing,assMeasureUnit:void 0!==n.assMeasureUnit?n.assMeasureUnit:null,thenTotalQtyBal:n.qty,thenLockQty:n.qtyed,thenQtyBal:n.qtyBal||0,tdQty:n.tdQty,assMeasureScale:null,assistQty:n.assistQty||0,price:n.price,taxRate:i,taxAmount:r,tdAmount:(0,Z.accAdd)((0,Z.accMul)(n.price,n.tdQty),r),processingStartDate:n.processingStartDate||null,keepingDays_transObjCode:n.keepingDays,productionDate:n.productionDate,validUntil:n.validUntil,comment:n.comment||""};return e.transCode&&(s.tdId=n.tdId||null),a.push(s),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=L.saveAndStartWf,n={},i=(0,r.default)({},e.processCode,{businessKey:"POPI",createdBy:""});n=(0,v.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",dealerCreditContactPersonName:e.contactInfo.dealerName||"",dealerCreditContactInformation:e.contactInfo.dealerMobilePhone||"",containerInWarehouseManager:e.warehouse.containerInWarehouseManager||null,inPut:{dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName||"供应商",crDealerPaymentTerm:e.crDealerPaymentTerm,daysOfAccount:e.dealerInfo.pamentDays,accountExpirationDate:e.dealerInfo.accountExpirationDate,containerCode:e.warehouse.warehouseCode,dataSet:a}}),e.transCode&&(t=L.saveAndCommitTask,i={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var s={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,m.default)(n),wfPara:(0,m.default)(i)};e.transCode||delete s.biReferenceId,e.processCode.length||(t=L.submitAndCalc,delete s.wfPara,delete s.biReferenceId),e.biReferenceId&&(s.biReferenceId=e.biReferenceId),e.saveData(t,s)}})},getFormData:function(){var e=this;return(0,S.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=o;var l=r.inPut,u=(r.dealerDebit,l.dataSet),c=void 0===u?[]:u,f={},m=[],h=!0,p=!1,C=void 0;try{for(var _,y=(0,d.default)(c);!(h=(_=y.next()).done);h=!0){var b=_.value;b=(0,v.default)({},b,{transCode:b.transMatchedCode,inventoryPic:b.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+b.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:b.inventoryName_transObjCode,inventoryCode:b.transObjCode,specification:b.specification_transObjCode,processing:b.tdProcessing,keepingDays:b.keepingDays_transObjCode,qtyed:b.thenLockQty,qtyBal:b.thenQtyBal,qty:b.thenTotalQtyBal}),e.getMoreUnit(b),f[b.transCode]||(f[b.transCode]=[]),m.push(b),f[b.transCode].push(b)}}catch(e){p=!0,C=e}finally{try{!h&&y.return&&y.return()}finally{if(p)throw C}}e.dealerInfo={creatorName:r.dealerCreditContactPersonName,dealerName:l.dealerName_dealerCodeCredit,dealerMobilePhone:r.dealerCreditContactInformation,dealerCode:l.dealerCode_dealerCodeCredit,dealerLabelName:l.crDealerLabel,province:l.province_dealerCodeCredit,city:l.city_dealerCodeCredit,county:l.county_dealerCodeCredit,address:l.address_dealerCodeCredit,accountExpirationDate:l.accountExpirationDate},e.contactInfo={dealerName:r.dealerCreditContactPersonName,dealerMobilePhone:r.dealerCreditContactInformation},e.warehouse={warehouseCode:l.containerCode,warehouseName:l.warehouseName_containerCode,warehouseType:l.warehouseType_containerCode,warehouseProvince:l.warehouseProvince_containerCode,warehouseCity:l.warehouseCity_containerCode,warehouseDistrict:l.warehouseDistrict_containerCode,warehouseAddress:l.warehouseAddress_containerCode,containerInWarehouseManager:l.containerInWarehouseManager},e.matterParams={dealerCode:e.dealerInfo.dealerCode},e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,v.default)({},e.formData,e.handlerDefault,{biComment:r.biComment,biId:r.biId,biProcessStatus:r.biProcessStatus,creator:r.creator,modifer:r.modifer}),e.crDealerPaymentTerm=l.crDealerPaymentTerm,e.DealerPaymentTerm=r.crDealerPaymentTerm||"现付",e.biReferenceId=r.biReferenceId,e.matterList=m,e.orderList=f,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,r.default)({},"CGRK_DATA",{matter:this.matterList,dealer:this.dealerInfo,warehouse:this.warehouse,formData:this.formData,contactInfo:this.contactInfo})},getRelationData:function(){var e=this,t=this.$route.query.uniqueId;return(0,S.getSOList)({formViewUniqueId:t,transCode:this.relationKey}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i;t.attachment;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var o=s.order,l=(s.dealerDebit,o.dataSet),d=void 0===l?[]:l;d=d.map(function(t){return(0,v.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,transCode:e.relationKey,qtyBal:t.tdQty,tdQty:""})}),e.dealerInfo={creatorName:s.dealerDebitContactPersonName,dealerMobilePhone:s.dealerDebitContactInformation,dealerCode:s.order.dealerDebit,dealerSubclass:s.order.drAccountSub,dealerName:s.order.dealerName_dealerDebit,province:s.order.province_dealerDebit,city:s.order.city_dealerDebit,county:s.order.county_dealerDebit,address:s.order.address_dealerDebit},e.matterParams={dealerCode:e.dealerInfo.dealerCode},e.matterList=d,e.orderList=(0,r.default)({},e.relationKey,d),e.crDealerPaymentTerm=o.drDealerPaymentTerm,e.DealerPaymentTerm=s.drDealerPaymentTerm||"现付",e.$loading.hide()})},getMoreUnit:function(e){var t=e.inventoryCode;return(0,T.getObjInvMoreUnitByInvCode)(t).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;e.showDrop=!1,n.forEach(function(e){e.name=e.invSubUnitName,e.value=e.invSubUnitName}),e.moreUnitList=n})},moreUnitClick:function(e){e.showDrop=!e.showDrop},moreUnitSelected:function(e){this.matter.assMeasureUnit=e.invSubUnitName,this.matter.assistQty=e.invSubUnitMulti}},created:function(){var e=sessionStorage.getItem("CGRK_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.dealerInfo=t.dealer,this.warehouse=t.warehouse,this.formData=t.formData,this.contactInfo=t.contactInfo,this.crDealerPaymentTerm=this.dealerInfo.paymentTerm,sessionStorage.removeItem("CGRK_DATA")}}}},"0jTj":function(e,t,a){"use strict";function n(e){a("h1k8")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("1m4k");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("kSDc"),o=a.n(s),l=a("PxjL"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-1c4b4fc2",null);t.default=c.exports},"0o6b":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.shareContent=t.scanQRCode=void 0;var i=a("4YfN"),r=n(i),s=a("rVsN"),o=n(s);t.scanQRCode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new o.default(function(t,a){wx.scanQRCode((0,r.default)({desc:"scanQRCode desc",needResult:1,scanType:["qrCode","barCode"],success:function(e){var n=e.err_Info,i=void 0===n?"false":n,r=e.resultStr,s=void 0===r?"":r,o="扫描结果异常";"success"===i?(o="扫描成功",t({message:o,result:s})):(this.$vux.alert.show({content:o}),a({message:o}))},error:function(e){var t="扫描异常";e.errMsg.indexOf("function_not_exist")>0&&(t="版本过低请升级"),this.$vux.alert.show({content:t}),a({message:t})}},e))})},t.shareContent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.log(e),wx.onMenuShareAppMessage({title:e.title,desc:e.desc,imgUrl:e.imgUrl,success:function(){alert("分享成功！")},cancel:function(){alert("分享失败！")}})};t.default={}},"0sah":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("just-word-item",{key:n,attrs:{item:t,"no-count":""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}))],1),e._v(" "),e.action.add?a("div",{staticClass:" vux-1px-t btn "},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},"0u1o":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("hRKE"),o=n(s),l=a("fBTP"),d=n(l),u=a("nKjL"),c=a("aiMs"),f=n(c),m=a("uJtz"),h=n(m),v=a("71iV");n(v);t.default={name:"picker",components:{Flexbox:u.Flexbox,FlexboxItem:u.FlexboxItem},created:function(){if(0!==this.columns){var e=this.columns;this.store=new f.default(this.data,e,this.fixedColumns||this.columns),this.currentData=this.store.getColumns(this.value)}},mounted:function(){var e=this;this.uuid=Math.random().toString(36).substring(3,8),this.$nextTick(function(){e.render(e.currentData,e.currentValue)})},props:{data:Array,columns:{type:Number,default:0},fixedColumns:{type:Number,default:0},value:Array,itemClass:{type:String,default:"scroller-item"},columnWidth:Array},methods:{getNameValues:function(){return(0,h.default)(this.currentValue,this.data)},getId:function(e){return"#vux-picker-"+this.uuid+"-"+e},render:function(e,t){this.count=this.currentData.length;var a=this;if(e&&e.length){var n=this.currentData.length;if(t.length<n)for(var i=0;i<n;i++)this.$set(a.currentValue,i,e[i][0].value||e[i][0]);for(var r=0;r<e.length;r++){var s=function(n){if(!document.querySelector(a.getId(n)))return{v:void 0};a.scroller[n]&&a.scroller[n].destroy(),a.scroller[n]=new d.default(a.getId(n),{data:e[n],defaultValue:t[n]||e[n][0].value,itemClass:a.itemClass,onSelect:function(e){a.$set(a.currentValue,n,e),(!this.columns||this.columns&&a.getValue().length===a.store.count)&&a.$nextTick(function(){a.$emit("on-change",a.getValue())}),0!==a.columns&&a.renderChain(n+1)}}),a.currentValue&&a.scroller[n].select(t[n])}(r);if("object"===(void 0===s?"undefined":(0,o.default)(s)))return s.v}}},renderChain:function(e){if(this.columns&&!(e>this.count-1)){var t=this,a=this.getId(e);this.scroller[e].destroy();var n=this.store.getChildren(t.getValue()[e-1]);this.scroller[e]=new d.default(a,{data:n,itemClass:t.item_class,onSelect:function(a){t.$set(t.currentValue,e,a),t.$nextTick(function(){t.$emit("on-change",t.getValue())}),t.renderChain(e+1)}}),n.length?(this.$set(this.currentValue,e,n[0].value),this.renderChain(e+1)):this.$set(this.currentValue,e,null)}},getValue:function(){for(var e=[],t=0;t<this.currentData.length;t++){if(!this.scroller[t])return[];e.push(this.scroller[t].value)}return e},emitValueChange:function(e){(!this.columns||this.columns&&e.length===this.store.count)&&this.$emit("on-change",e)}},data:function(){return{scroller:[],count:0,uuid:"",currentData:this.data,currentValue:this.value}},watch:{value:function(e){(0,r.default)(e)!==(0,r.default)(this.currentValue)&&(this.currentValue=e)},currentValue:function(e,t){if(this.$emit("input",e),0!==this.columns)e.length>0&&(0,r.default)(e)!==(0,r.default)(t)&&(this.currentData=this.store.getColumns(e),this.$nextTick(function(){this.render(this.currentData,e)}));else if(e.length)for(var a=0;a<e.length;a++)this.scroller[a]&&this.scroller[a].value!==e[a]&&this.scroller[a].select(e[a]);else this.render(this.currentData,[])},data:function(e){(0,r.default)(e)!==(0,r.default)(this.currentData)&&(this.currentData=e)},currentData:function(e){var t=this;if("[object Array]"===Object.prototype.toString.call(e[0]))this.$nextTick(function(){t.render(e,t.currentValue),t.$nextTick(function(){t.emitValueChange(t.getValue()),(0,r.default)(t.getValue())!==(0,r.default)(t.currentValue)&&(!t.columns||t.columns&&t.getValue().length===t.store.count)&&(t.currentValue=t.getValue())})});else if(0!==this.columns){if(!e.length)return;var a=this.columns;this.store=new f.default(e,a,this.fixedColumns||this.columns),this.currentData=this.store.getColumns(this.currentValue)}}},beforeDestroy:function(){for(var e=0;e<this.count;e++)this.scroller[e]&&this.scroller[e].destroy(),this.scroller[e]=null}}},"0w+U":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.checkValue=t.update=t.save=t.CompanyInfo=t.getCompany=void 0;var i=a("3cXf"),r=n(i),s=a("GOq4"),o=n(s),l=t.getCompany=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getCompanyList",data:e})},d=t.CompanyInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return o.default.ajax({url:"/H_roleplay-si/sysGroup/getCompanyList",data:{groupId:e}})},u=t.save=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.post({url:"/H_roleplay-si/sysGroup/saveBatch",data:e})},c=t.update=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.post({url:"/H_roleplay-si/sysGroup/updateBatch",data:e})},f=t.checkValue=function(e,t){return o.default.ajax({url:"/H_roleplay-si/trans/validate",data:{tableName:"sys_group",filter:(0,r.default)([{filedName:e,symbol:"=",value:t}])}})};t.default={save:u,update:c,getCompany:l,checkValue:f,CompanyInfo:d}},"0zIr":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noCount:"",noPrice:""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}))],1),e._v(" "),e.action.add?a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},"1+gc":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper xmrw-detail-container"},[a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.orderInfo,"order-info":e.orderInfo}}),e._v(" "),a("div",{staticClass:"project_info"},[e._m(0),e._v(" "),a("div",{staticClass:"project_content"},[a("form-cell",{attrs:{cellTitle:"项目名称",cellContent:e.projectTask.projectName,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"任务名称",cellContent:e.projectTask.taskName}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"任务类型",cellContent:e.projectTask.taskType}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"任务说明",cellContent:e.projectTask.comment||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"计划截止日期",cellContent:e.projectTask.deadline}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"周期天数",cellContent:e.projectTask.cycleNumber}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"标准工时",cellContent:e.projectTask.planTime}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"作业费率",cellContent:e.projectTask.operatingRate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"预算作业成本",cellContent:e.projectTask.budgetHomeworkCost}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"实际完成日期",cellContent:e.projectTask.actualCompleteTime}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"实际工时",cellContent:e.projectTask.actualTime}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"实际作业成本",cellContent:e.projectTask.actualtHomeworkCost}})],1)]),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.comment.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}})],1)])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"info_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-renwu"}),e._v("任务信息")])}],r={render:n,staticRenderFns:i};t.a=r},"1/RG":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("HzJ8"),o=n(s),l=a("kNGm"),d=n(l),u=a("0AQX"),c=a("+VRO"),f=n(c),m=a("BUFe"),h=n(m),v=a("AupE"),p=n(v),C=a("bFc7"),_=n(C),y=a("zWMP"),b=a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",contactInfo:{},orderList:{}}},mixins:[f.default],components:{workFlow:p.default,RAction:h.default,contactPart:_.default},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=0,i={},r=!0,s=!1,l=void 0;try{for(var u,c=(0,o.default)(a);!(r=(u=c.next()).done);r=!0){var f=u.value;f.noTaxAmount=(0,y.accMul)(f.price,f.tdQty),f.taxAmount=(0,y.accMul)(f.noTaxAmount,f.taxRate),f.tdAmount=(0,b.toFixed)((0,y.accAdd)(f.noTaxAmount,f.taxAmount)),f.inventoryPic=f.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+f.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),n=(0,y.accAdd)(n,f.tdAmount),i[f.transMatchedCode]||(i[f.transMatchedCode]=[]),e.orderList=i,i[f.transMatchedCode].push(f)}}catch(e){s=!0,l=e}finally{try{!r&&c.return&&c.return()}finally{if(s)throw l}}e.count=n,t.formData.invoiceDate=(0,d.default)(t.formData.invoiceDate,"YYYY-MM-DD"),e.orderInfo=t.formData,e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo=(0,r.default)({},this.contactInfo,{dealerName:a.dealerName_dealerCodeCredit,dealerMobilePhone:t.dealerCreditContactInformation,dealerContactPersonName:t.dealerCreditContactPersonName,dealerCode:a.dealerCodeCredit,province:a.province_dealerCodeCreditt,city:a.city_dealerCodeCreditt,county:a.county_dealerCodeCredit,address:a.address_dealerCodeCredit})}}}},"10t/":function(e,t,a){"use strict";function n(e){a("IPxZ")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Wdr0");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("HkPF"),o=a.n(s),l=a("jcsO"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-5dcff556",null);t.default=c.exports},"13HE":function(e,t,a){"use strict";function n(e){a("wKA3")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("VNth");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("w6tR"),o=a.n(s),l=a("LzG0"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-076f5663",null);t.default=c.exports},"16Vu":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("a3Yh"),o=n(s),l=a("MgeX"),d=n(l),u=a("HzJ8"),c=n(u),f=a("ZLEe"),m=n(f),h=a("3cXf"),v=n(h),p=a("HXPS"),C=n(p),_=a("BGNQ"),y=n(_),b=a("z5TY"),g=n(b),w=a("SAzG"),I=n(w),x=a("PzEQ"),D=n(x),P=a("0AQX"),k=a("HyXB"),S=a("bKg5"),T=n(S),L=a("vl8n"),N=n(L),M=a("+WR7"),A=n(M),O=a("luHD"),R=n(O),j=a("RMtk"),$=n(j);t.default={name:"ApplyWLXQTJForm",mixins:[T.default],components:{Icon:C.default,Cell:y.default,Group:g.default,XTextarea:D.default,XInput:I.default,PopMatter:R.default,PopOrderXqtjList:$.default,RPicker:N.default,PopBaseinfo:A.default},data:function(){return{listId:"7532f8ea-caf3-4fc4-97f6-b5aad7bcf6a0",orderList:{},showOrderPop:!1,formData:{biComment:""},submitSuccess:!1,warehouse:null,taxRate:.16,numMap:{},orderParams:{dealerCode:"",whCode:""},transCode:"",formViewUniqueId:"346ede09-ac6a-489a-9242-f385932a4443",biReferenceId:"",actions:[],taskId:"",matterList:[],project:{},entity:{},tmpItems:{},matter:{},showMatterPop:!1,modifyIndex:null,modifyKey:null}},methods:{modifyMatter:function(e,t,a){this.matter=JSON.parse((0,v.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t)},selOrder:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){var a=e.transCode+"_"+e.colId+"_"+e.inventoryCode,i=t.numMap[a]||{},r=i.tdQty,s=void 0===r?"":r;e.tdQty=s,n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},findIndex:function(e,t){return e.findIndex(function(e){var a=!0;return e.colId&&(a=e.colId===t.colId),a&&e.transCode===t.transCode&&e.inventoryCode===t.inventoryCode})},delClick:function(e,t,a){var n=this.selItems,i=this.findIndex(n,t);if(-1!==i)return void n.splice(i,1);n.push(t)},showSelIcon:function(e){return-1!==this.findIndex(this.selItems,e)},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,v.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,m.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){var n=!0;if(a.colId&&(n=t.colId===a.colId),n&&a.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var i=e.orderList[t.transCode],r=e.findIndex(i,t);r>=0&&(e.$refs.order.delSelItem(i[r]),i.splice(r,1)),i.length||delete e.orderList[t.transCode]}})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,c.default)((0,d.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,o=!1,l=void 0;try{for(var u,f=(0,c.default)(r);!(s=(u=f.next()).done);s=!0){var m=u.value;this.numMap[m.transCode+"_"+m.colId+"_"+m.inventoryCode]={tdQty:m.tdQty}}}catch(e){o=!0,l=e}finally{try{!s&&f.return&&f.return()}finally{if(o)throw l}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="",a=[];t||(0,m.default)(this.orderList).length||(t="请选择物料");var n=!0,i=!1,s=void 0;try{for(var l,u=(0,c.default)((0,d.default)(this.orderList));!(n=(l=u.next()).done);n=!0){var f=l.value,h=!0,p=!1,C=void 0;try{for(var _,y=(0,c.default)(f);!(h=(_=y.next()).done);h=!0){var b=_.value;if(!b.tdQty){t="请填写数量";break}var g={transMatchedCode:b.transCode,outPutMatCode:b.inventoryCode,inventoryType_outPutMatCode:b.inventoryType,thenQtyBal:b.qtyBal,tdQty:b.tdQty,subjectCode:b.calcRelCode,comment:b.comment||""};this.transCode&&(g.tdId=b.tdId||""),a.push(g)}}catch(e){p=!0,C=e}finally{try{!h&&y.return&&y.return()}finally{if(p)throw C}}}}catch(e){i=!0,s=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw s}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=k.saveAndStartWf,n={},i=(0,o.default)({},e.processCode,{businessKey:"PLAD",createdBy:""});n=(0,r.default)({},e.formData,{modifer:e.transCode?e.formData.handler:"",handlerEntity:e.entity.dealerName,outPut:{dataSet:a}}),e.transCode&&(t=k.saveAndCommitTask,i={businessKey:e.transCode,createdBy:n.creator||n.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var s={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,v.default)(n),wfPara:(0,v.default)(i)};e.transCode||delete s.biReferenceId,e.processCode.length||(t=k.submitAndCalc,delete s.wfPara,delete s.biReferenceId),e.biReferenceId&&(s.biReferenceId=e.biReferenceId),console.log(s),e.saveData(t,s)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var d={};e.attachment=l;var u=s.outPut,f=u.dataSet,m=void 0===f?[]:f,h=!0,v=!1,p=void 0;try{for(var C,_=(0,c.default)(m);!(h=(C=_.next()).done);h=!0){var y=C.value;y=(0,r.default)({},y,{transCode:y.transMatchedCode,qtyBal:y.thenQtyBal,inventoryPic:y.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+y.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:y.inventoryName_outPutMatCode,inventoryCode:y.outPutMatCode,inventoryType:y.inventoryType_outPutMatCode,specification:y.specification_outPutMatCode,measureUnit:y.measureUnit_outPutMatCode,processing:y.tdProcessing,calcRelCode:y.subjectCode,inventoryTypen:y.inventoryType_outPutMatCode}),d[y.transCode]||(d[y.transCode]=[]),d[y.transCode].push(y)}}catch(e){v=!0,p=e}finally{try{!h&&_.return&&_.return()}finally{if(v)throw p}}e.matterList=m,e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,r.default)({},e.formData,e.handlerDefault,{biComment:s.biComment,biId:s.biId,biProcessStatus:s.biProcessStatus,creator:s.creator,modifer:s.modifer,drDealerLogisticsTerms:s.drDealerLogisticsTerms}),e.biReferenceId=s.biReferenceId,e.orderList=d,e.$loading.hide()})},hasDraftData:function(){return!!(0,d.default)(this.orderList).length&&(0,o.default)({},"XQTJ_DATA",{orderList:this.orderList,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("XQTJ_DATA");e&&(this.orderList=JSON.parse(e).orderList,this.formData=JSON.parse(e).formData,sessionStorage.removeItem("XQTJ_DATA"))}}},"16Wp":function(e,t,a){"use strict";function n(e){a("NgoS")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("XQGE");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("t2f1"),o=a.n(s),l=a("AiRy"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-477ea61c",null);t.default=c.exports},"17R/":function(e,t){},"1KNX":function(e,t,a){"use strict";function n(e){a("v85k")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("pifm");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("DHup"),o=a.n(s),l=a("hnN4"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-6045e5c1",null);t.default=c.exports},"1Kxi":function(e,t,a){"use strict";function n(e){a("jWeF")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("N/vw");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("2sZa"),o=a.n(s),l=a("3wOk"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-eebd3d34",null);t.default=c.exports},"1M7H":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"basic_info"},[a("div",{staticClass:"serial_bar vux-1px-b"},[a("div",[a("span",{staticClass:"iconfont icon-dingdan1"}),e._v(" "),a("span",{staticClass:"l_size_name"},[e._v(e._s(e.workFlowInfo.transCode))])]),e._v(" "),a("p",{staticClass:"work_status",class:e.workFlowInfo.dyClass},[e._v(e._s(e.workFlowInfo.biStatus))])]),e._v(" "),a("div",{staticClass:"handle_info vux-1px-b"},[a("div",{staticClass:"each_handle s_size_name"},[a("span",{staticClass:"title"},[e._v("经办主体: ")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e.orderInfo.handlerEntityName||"无"))])]),e._v(" "),a("div",{staticClass:"each_handle s_size_name"},[a("span",{staticClass:"title"},[e._v("经办人: ")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e.orderInfo.handlerName))])]),e._v(" "),a("div",{staticClass:"each_handle s_size_name"},[a("span",{staticClass:"title"},[e._v("经办组织: ")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e.orderInfo.handlerUnitName||"无"))])]),e._v(" "),a("div",{staticClass:"each_handle s_size_name"},[a("span",{staticClass:"title"},[e._v("经办职位: ")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e.orderInfo.handlerRoleName||"无"))])])]),e._v(" "),a("div",{staticClass:"time_info s_size_name"},[a("div",{staticClass:"each_time"},[a("span",{staticClass:"title"},[e._v("创建人: ")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e.orderInfo.creatorName))])]),e._v(" "),a("div",{staticClass:"each_time"},[a("span",{staticClass:"title"},[e._v("创建时间: ")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e._f("dateFormat")(e.orderInfo.crtTime)))])]),e._v(" "),e.orderInfo.effectiveTime?a("div",{staticClass:"each_time"},[a("span",{staticClass:"title"},[e._v("修改时间: ")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e._f("dateFormat")(e.orderInfo.modTime)))])]):e._e(),e._v(" "),a("div",{staticClass:"each_time"},[a("span",{staticClass:"title"},[e._v("流程状态: ")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e.orderInfo.biProcessStatus||"无"))])])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},"1RQV":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Ns/O"),i=function(e){return e&&e.__esModule?e:{default:e}}(n),r=["android","ios","ios-small","bubbles","circles","crescent","dots","lines","ripple","spiral"];t.default={name:"spinner",mounted:function(){var e=this;this.$nextTick(function(){(0,i.default)(e.$el,e.type,e.size)})},props:{type:{type:String,default:"ios"},size:String},computed:{styles:function(){if(void 0!==this.size&&"28px"!==this.size)return{width:this.size,height:this.size}},className:function(){for(var e={},t=0;t<r.length;t++)e["vux-spinner-"+r[t]]=this.type===r[t];return e}}}},"1Unt":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"cell-form-preview",props:{list:Array,borderIntent:{type:Boolean,default:!0}}}},"1WsH":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.update=t.save=t.getJobList=void 0;var n=a("GOq4"),i=function(e){return e&&e.__esModule?e:{default:e}}(n),r=t.getJobList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.ajax({url:"/H_roleplay-si/ds/getAllRole",data:e})},s=t.save=function(e){return i.default.post({url:"/H_roleplay-si/sysRole/save",data:e})},o=t.update=function(e){return i.default.post({url:"/H_roleplay-si/sysRole/update",data:e})};t.default={save:s,update:o,getJobList:r}},"1X8H":function(e,t){},"1d9+":function(e,t,a){"use strict";function n(e){a("aCXj")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("patH");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("g+qi"),o=a.n(s),l=a("yYGT"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-c25eed0e",null);t.default=c.exports},"1hzx":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2508,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[i.default],methods:{},created:function(){}}},"1ih/":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"load-more",props:{showLoading:{type:Boolean,default:!0},tip:String}}},"1jhs":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"popup-user-list-container",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"title"},[a("r-search",{attrs:{filterList:e.filterList,isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}})],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"user-list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"mater-list-item",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"info-item vux-1px-b"},[a("img",{staticClass:"avatar",attrs:{src:t.photo,alt:"头像"},on:{error:function(a){e.getDefaultImg(t)}}}),e._v(" "),a("div",{staticClass:"user-info"},[a("div",{staticClass:"name"},[e._v(e._s(t.nickname))]),e._v(" "),a("div",{staticClass:"tel"},[e._v(e._s(t.mobile))])])]),e._v(" "),a("div",{staticClass:"info-item info-code"},[a("div",{staticClass:"code"},[e._v("工号: "+e._s(t.userCode))]),e._v(" "),a("div",{staticClass:"status",class:[t.statusClass]},[e._v(e._s(t.statusText||""))])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}))],1)],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"1m4k":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2390,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"客户名称",value:"dealerName_dealerCodeCredit"}]}},mixins:[i.default],methods:{},created:function(){}}},"1mZp":function(e,t){},"1oCA":function(e,t,a){"use strict";function n(e){a("2ZKW")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("2pZo");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("B5KQ"),o=a.n(s),l=a("2eRD"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-45737544",null);t.default=c.exports},"2/ZY":function(e,t){},"2/p2":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("MgeX"),o=n(s),l=a("HzJ8"),d=n(l),u=a("ZLEe"),c=n(u),f=a("3cXf"),m=n(f),h=a("4YfN"),v=n(h),p=a("KH7x"),C=n(p),_=a("HXPS"),y=n(_),b=a("BGNQ"),g=n(b),w=a("7g+Q"),I=n(w),x=a("z5TY"),D=n(x),P=a("SAzG"),k=n(P),S=a("PzEQ"),T=n(S),L=a("+62G"),N=n(L),M=a("kNGm"),A=n(M),O=a("u28h"),R=n(O),j=a("0AQX"),$=a("HyXB"),B=a("bKg5"),E=n(B),F=a("BUFe"),U=n(F),q=a("VZtf"),Q=n(q),H=a("y8YJ"),V=n(H),X=a("Pb67"),z=n(X),Y=a("yt3/"),W=n(Y),G=a("89pA"),J=n(G),K=a("7cdy"),Z=n(K),ee=a("UrVB"),te=n(ee),ae=a("luHD"),ne=n(ae),ie=a("vl8n"),re=n(ie),se=a("+WR7"),oe=n(se),le=a("zWMP");a("Qg39");t.default={name:"ApplyXSCKForm",mixins:[E.default],directives:{TransferDom:N.default},components:{Icon:y.default,Cell:g.default,Popup:I.default,Group:D.default,XTextarea:T.default,XInput:k.default,RAction:U.default,RNumber:Q.default,PopOrderList:z.default,PopDealerList:V.default,PopSingleSelect:W.default,PopWarehouseList:J.default,PopSodlProjectList:Z.default,PopEntityList:te.default,PopMatter:ne.default,Datetime:R.default,RPicker:re.default,PopBaseinfo:oe.default},data:function(){return{listId:"a1e8592f-63c2-4a31-ba22-9d654484db1d",orderList:{},transMode:[],logisticsTerm:[],showDealerPop:!1,showOrderPop:!1,dealerInfo:{},formData:{drDealerLogisticsTerms:"",biComment:""},submitSuccess:!1,warehouse:null,taxRate:.16,numMap:{},orderParams:{dealerCode:"",whCode:""},transCode:"",formViewUniqueId:"346ede09-ac6a-489a-9242-f385932a4443",biReferenceId:"",actions:[],taskId:"",matterList:[],project:{},entity:{},tmpItems:{},matter:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,contactInfo:{}}},methods:{getPaymentTerm:function(){var e=this;return(0,$.getDictByType)("paymentTerm").then(function(t){var a=t.tableContent;e.transMode=a})},getLogisticsTerms:function(){var e=this;return(0,$.getDictByType)("dealerLogisticsTerms").then(function(t){var a=t.tableContent;e.logisticsTerm=a})},selDealer:function(e){var t=JSON.parse(e),a=(0,C.default)(t,1),n=a[0],i=n.pamentDays,r=i?(0,A.default)(Date.now()+(0,le.accMul)(i,864e5),"YYYY-MM-DD"):"";this.dealerInfo=(0,v.default)({},n,{accountExpirationDate:r}),this.orderParams=(0,v.default)({},this.orderParams,{dealerCode:n.dealerCode}),this.orderList={},this.$refs.order.clearSel()},selContact:function(e){this.contactInfo=(0,v.default)({},e)},selWarehouse:function(e){this.warehouse=JSON.parse(e),this.orderParams=(0,v.default)({},this.orderParams,{whCode:this.warehouse.warehouseCode}),this.orderList={},this.$refs.order.clearSel()},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,m.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.inventoryCode!==e.inventoryCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getMatter:function(){if(!this.dealerInfo.dealerCode)return void this.$vux.alert.show({content:"请选择客户"});this.showMaterielPop=!this.showMaterielPop},selOrder:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){var a=e.transCode+"_"+e.inventoryCode,i=t.numMap[a]||{},r=i.tdQty,s=void 0===r?"":r,o=i.price,l=void 0===o?e.quotedPrice:o,d=i.taxRate,u=void 0===d?.16:d,c=i.promDeliTime,f=void 0===c?(0,A.default)(e.promDeliTime,"YYYY-MM-DD"):c;e.tdQty=s,e.price=l,e.taxRate=u,e.promDeliTime=f,n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},delClick:function(e,t,a){var n=this.selItems,i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode&&e.transCode===t.transCode});if(-1!==i)return void n.splice(i,1);n.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,c.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});i>=0&&(e.$refs.order.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,d.default)((0,o.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,l=!1,u=void 0;try{for(var c,f=(0,d.default)(r);!(s=(c=f.next()).done);s=!0){var m=c.value;this.numMap[m.transCode+"_"+m.inventoryCode]={tdQty:m.tdQty,price:m.price,taxRate:m.taxRate,promDeliTime:m.promDeliTime}}}catch(e){l=!0,u=e}finally{try{!s&&f.return&&f.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="",a=[],n=[{key:"warehouse",message:"仓库"}];this.dealerInfo.dealerCode?this.dealerInfo.paymentTerm||(t="请选择结算方式"):t="请选择客户信息",t||n.every(function(a){return!!e[a.key]||(t="请选择"+a.message,!1)}),t||(0,c.default)(this.orderList).length||(t="请选择物料");var i=!0,s=!1,l=void 0;try{for(var u,f=(0,d.default)((0,o.default)(this.orderList));!(i=(u=f.next()).done);i=!0){var h=u.value,p=!0,C=!1,_=void 0;try{for(var y,b=(0,d.default)(h);!(p=(y=b.next()).done);p=!0){var g=y.value;if(!g.tdQty){t="请填写数量";break}if(!g.price){t="请填写单价";break}var w=g.taxRate||this.taxRate,I=(0,le.accMul)(g.price,g.tdQty,w),x={transMatchedCode:g.transCode,orderCode:g.transCode,outPutMatCode:g.inventoryCode,orderProCode:g.inventoryCode,tdProcessing:g.processing,assMeasureUnit:void 0!==g.assMeasureUnit?g.assMeasureUnit:null,assMeasureScale:void 0!==g.assMeasureScale?g.assMeasureScale:null,dealerInventoryName:g.clientInventoryName,dealerInventoryCode:g.clientInventoryCode,thenTotalQtyBal:g.qty,thenLockQty:g.stockQty,thenQtyBal:g.qtyBal,thenQtyStock:g.qtyStockBal,assistQty:g.assistQty||0,tdQty:g.tdQty,price:g.price,taxRate:w,taxAmount:I,tdAmount:(0,le.accAdd)((0,le.accMul)(g.price,g.tdQty),I),promDeliTime:g.promDeliTime||"",comment:g.comment||""};this.transCode&&(x.tdId=g.tdId||""),a.push(x)}}catch(e){C=!0,_=e}finally{try{!p&&b.return&&b.return()}finally{if(C)throw _}}}}catch(e){s=!0,l=e}finally{try{!i&&f.return&&f.return()}finally{if(s)throw l}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=$.saveAndStartWf,n={},i=(0,r.default)({},e.processCode,{businessKey:"SODL",createdBy:""});n=(0,v.default)({},e.formData,{modifer:e.transCode?e.formData.handler:"",dealerDebitContactPersonName:e.contactInfo.dealerName||"",dealerDebitContactInformation:e.contactInfo.dealerMobilePhone||"",containerOutWarehouseManager:e.warehouse.containerOutWarehouseManager||null,handlerEntity:e.entity.dealerName,drDealerLogisticsTerms:e.dealerInfo.dealerLogisticsTerms,outPut:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName||"客户",drDealerPaymentTerm:e.dealerInfo.paymentTerm,daysOfAccount:e.dealerInfo.pamentDays,accountExpirationDate:e.dealerInfo.accountExpirationDate,containerCodeOut:e.warehouse.warehouseCode,project:e.project.projectName,departmentName:e.formData.handlerUnitName,dataSet:a}}),e.transCode&&(t=$.saveAndCommitTask,i={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var s={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,m.default)(n),wfPara:(0,m.default)(i)};e.transCode||delete s.biReferenceId,e.processCode.length||(t=$.submitAndCalc,delete s.wfPara,delete s.biReferenceId),e.biReferenceId&&(s.biReferenceId=e.biReferenceId),e.saveData(t,s)}})},getFormData:function(){var e=this;return(0,j.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=o;var l={},u=r.outPut,c=u.dataSet,f=void 0===c?[]:c,m=!0,h=!1,p=void 0;try{for(var C,_=(0,d.default)(f);!(m=(C=_.next()).done);m=!0){var y=C.value;y=(0,v.default)({},y,{transCode:y.transMatchedCode,qtyBal:y.thenQtyBal,qtyStockBal:y.thenQtyStock,inventoryPic:y.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+y.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:y.inventoryName_outPutMatCode,inventoryCode:y.outPutMatCode,specification:y.specification_outPutMatCode,processing:y.tdProcessing,qty:y.thenTotalQtyBal,stockQty:y.thenLockQty,clientInventoryName:y.dealerInventoryName,clientInventoryCode:y.dealerInventoryCode}),l[y.transCode]||(l[y.transCode]=[]),l[y.transCode].push(y)}}catch(e){h=!0,p=e}finally{try{!m&&_.return&&_.return()}finally{if(h)throw p}}e.matterList=f,e.dealerInfo={creatorName:r.dealerDebitContactPersonName,dealerName:u.dealerName_dealerDebit,dealerMobilePhone:r.dealerDebitContactInformation,dealerCode:u.dealerDebit,dealerLabelName:u.drDealerLabel,province:u.province_dealerDebit,city:u.city_dealerDebit,county:u.county_dealerDebit,address:u.address_dealerDebit,paymentTerm:u.drDealerPaymentTerm,dealerLogisticsTerms:r.drDealerLogisticsTerms,pamentDays:u.daysOfAccount,accountExpirationDate:u.accountExpirationDate},e.contactInfo={dealerName:r.dealerDebitContactPersonName,dealerMobilePhone:r.dealerDebitContactInformation},e.warehouse={warehouseCode:u.containerCodeOut,warehouseName:u.warehouseName_containerCodeOut,warehouseType:u.warehouseType_containerCodeOut,warehouseProvince:u.warehouseProvince_containerCodeOut,warehouseCity:u.warehouseCity_containerCodeOut,warehouseDistrict:u.warehouseDistrict_containerCodeOut,warehouseAddress:u.warehouseAddress_containerCodeOut,containerOutWarehouseManager:r.containerOutWarehouseManager},e.orderParams={dealerCode:e.dealerInfo.dealerCode,whCode:e.warehouse.warehouseCode},e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,v.default)({},e.formData,e.handlerDefault,{biComment:r.biComment,biId:r.biId,biProcessStatus:r.biProcessStatus,creator:r.creator,modifer:r.modifer,drDealerLogisticsTerms:r.drDealerLogisticsTerms}),e.project={projectName:u.project},e.biReferenceId=r.biReferenceId,e.orderList=l,e.$loading.hide()})},hasDraftData:function(){return!!(0,o.default)(this.orderList).length&&(0,r.default)({},"XSCK_DATA",{orderList:this.orderList,warehouse:this.warehouse,dealerInfo:this.dealerInfo,contactInfo:this.contactInfo,formData:this.formData,project:this.project})},getRelationData:function(){var e=this,t=this.$route.query.uniqueId;return(0,j.getSOList)({formViewUniqueId:t,transCode:this.relationKey}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i;t.attachment;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});r.order;e.dealerInfo={creatorName:r.dealerDebitContactPersonName,dealerMobilePhone:r.dealerDebitContactInformation,dealerCode:r.order.dealerDebit,dealerSubclass:r.order.drAccountSub,dealerName:r.order.dealerName_dealerDebit,province:r.order.province_dealerDebit,city:r.order.city_dealerDebit,county:r.order.county_dealerDebit,address:r.order.address_dealerDebit,paymentTerm:r.order.drDealerPaymentTerm},e.orderParams={dealerCode:e.dealerInfo.dealerCode},e.$loading.hide()})}},created:function(){var e=sessionStorage.getItem("XSCK_DATA");if(e){var t=JSON.parse(e);this.orderList=t.orderList,this.warehouse=t.warehouse,this.dealerInfo=t.dealerInfo,this.contactInfo=t.contactInfo,this.formData=t.formData,this.project=t.project,this.orderParams={dealerCode:this.dealerInfo.dealerCode,whCode:this.warehouse.warehouseCode},sessionStorage.removeItem("XSCK_DATA")}}}},"22rg":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper xsbj-detail-container"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"matter-list":e.orderInfo.order.dataSet,count:e.count},scopedSlots:e._u([{key:"matterOther",fn:function(t){var n=t.item;return a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("属性: "+e._s(n.tdProcessing))]),e._v(" "),a("span",[e._v("单位: "+e._s(n.measureUnit_transObjCode))])]),e._v(" "),a("div",{staticClass:"mater_attribute"},[a("span",[e._v("本次申请: "+e._s(n.tdQty))]),e._v(" "),a("span",[e._v("估计价格: "+e._s(n.price))])]),e._v(" "),a("div",{staticClass:"mater_price"},[a("span",{staticClass:"diff_num"},[e._v("\n            ￥"+e._s(e._f("toFixed")(n.tdAmount))+"\n          ")])])])}}])}),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},"24L6":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("kKsb"),p=n(v),C=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",dealerInfo:{}}},mixins:[u.default],components:{workFlow:h.default,RAction:f.default,ProjectPart:p.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=t.formData,i=n.order,s=void 0===i?{}:i;e.attachment=a,e.dealerInfo={dealerName:s.dealerName_dealerCodeCredit,dealerCode:s.dealerCodeCredit,dealerLabelName:s.crDealerLabel,amntBal:s.thenAmntBalCopy2,thenTotalAmntBal:s.thenAlreadyAmnt};var l=n.order.dataSet,d=!0,u=!1,c=void 0;try{for(var f,m=(0,r.default)(l);!(d=(f=m.next()).done);d=!0){var h=f.value;e.count=(0,C.accAdd)(e.count,h.tdAmount)}}catch(e){u=!0,c=e}finally{try{!d&&m.return&&m.return()}finally{if(u)throw c}}t.formData.validUntil=(0,o.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},"271e":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("cell",{attrs:{title:e.title,value:e.currentValue,"is-link":!e.readonly,"value-align":e.valueAlign,"border-intent":e.borderIntent},nativeOn:{click:function(t){return e.show(t)}}},[!e.displayValue&&e.placeholder?a("span",{staticClass:"vux-cell-placeholder"},[e._v(e._s(e.placeholder))]):e._e(),e._v(" "),e.displayValue?a("span",{staticClass:"vux-cell-value"},[e._v(e._s(e.displayValue))]):e._e(),e._v(" "),a("span",{attrs:{slot:"icon"},slot:"icon"},[e._t("icon")],2),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticStyle:{"background-color":"#fff"},on:{"on-hide":function(t){e.$emit("on-hide")},"on-show":function(t){e.$emit("on-show")}},model:{value:e.showPopup,callback:function(t){e.showPopup=t},expression:"showPopup"}},[e._t("popup-header",null,{options:e.options,value:e.currentValue}),e._v(" "),a("radio",{attrs:{options:e.options,"fill-mode":!1},on:{"on-change":e.onValueChange},scopedSlots:e._u([{key:"each-item",fn:function(t){return[e._t("each-item",[a("p",[a("img",{directives:[{name:"show",rawName:"v-show",value:t.icon,expression:"props.icon"}],staticClass:"vux-radio-icon",attrs:{src:t.icon}}),e._v(" "),a("span",{staticClass:"vux-radio-label"},[e._v(e._s(t.label))])])],{icon:t.icon,label:t.label,index:t.index})]}}]),model:{value:e.currentValue,callback:function(t){e.currentValue=t},expression:"currentValue"}})],2)],1)])},i=[],r={render:n,staticRenderFns:i};t.a=r},"274J":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("HzJ8"),o=n(s),l=a("kNGm"),d=n(l),u=a("0AQX"),c=a("+VRO"),f=n(c),m=a("BUFe"),h=n(m),v=a("AupE"),p=n(v),C=a("bFc7"),_=n(C),y=a("zWMP"),b=a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",contactInfo:{},orderList:{}}},mixins:[f.default],components:{workFlow:p.default,RAction:h.default,contactPart:_.default},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=0,i={},r=!0,s=!1,l=void 0;try{for(var u,c=(0,o.default)(a);!(r=(u=c.next()).done);r=!0){var f=u.value;f.noTaxAmount=(0,y.accMul)(f.price,f.tdQty),f.taxAmount=(0,y.accMul)(f.noTaxAmount,f.taxRate),f.tdAmount=(0,b.toFixed)((0,y.accAdd)(f.noTaxAmount,f.taxAmount)),f.inventoryPic=f.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+f.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),n=(0,y.accAdd)(n,f.tdAmount),i[f.transMatchedCode]||(i[f.transMatchedCode]=[]),e.orderList=i,i[f.transMatchedCode].push(f)}}catch(e){s=!0,l=e}finally{try{!r&&c.return&&c.return()}finally{if(s)throw l}}e.count=n,t.formData.invoiceDate=(0,d.default)(t.formData.invoiceDate,"YYYY-MM-DD"),e.orderInfo=t.formData,e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo=(0,r.default)({},this.contactInfo,{dealerName:a.dealerName_dealerCodeCredit,dealerMobilePhone:t.dealerCreditContactInformation,dealerContactPersonName:t.dealerCreditContactPersonName,dealerCode:a.dealerCodeCredit,province:a.province_dealerCodeCreditt,city:a.city_dealerCodeCreditt,county:a.county_dealerCodeCredit,address:a.address_dealerCodeCredit})}}}},"27Fo":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("YP5q"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"confirm",components:{XDialog:i.default},props:{value:{type:Boolean,default:!1},showInput:{type:Boolean,default:!1},placeholder:{type:String,default:""},theme:{type:String,default:"ios"},hideOnBlur:{type:Boolean,default:!1},title:String,confirmText:String,cancelText:String,maskTransition:{type:String,default:"vux-fade"},maskZIndex:[Number,String],dialogTransition:{type:String,default:"vux-dialog"},content:String,closeOnConfirm:{type:Boolean,default:!0},inputAttrs:Object,showContent:{type:Boolean,default:!0},confirmType:{type:String,default:"primary"}},created:function(){this.showValue=this.show,this.value&&(this.showValue=this.value)},watch:{value:function(e){this.showValue=e},showValue:function(e){var t=this;this.$emit("input",e),e&&(this.showInput&&(this.msg="",setTimeout(function(){t.$refs.input&&t.setInputFocus()},300)),this.$emit("on-show"))}},data:function(){return{msg:"",showValue:!1}},methods:{getInputAttrs:function(){return this.inputAttrs||{type:"text"}},setInputValue:function(e){this.msg=e},setInputFocus:function(e){e&&e.preventDefault(),this.$refs.input.focus()},_onConfirm:function(){this.showValue&&(this.closeOnConfirm&&(this.showValue=!1),this.$emit("on-confirm",this.msg))},_onCancel:function(){this.showValue&&(this.showValue=!1,this.$emit("on-cancel"))}}}},"2F8C":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("IHPB"),d=n(l),u=a("MjAd"),c=n(u),f=a("1WsH");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"管理类",status:"M"},{name:"营销类",status:"Y"},{name:"技术类",status:"J"},{name:"专业类",status:"Z"},{name:"操作类",status:"C"}],biStatus:"",filterList:[{name:"职位名称",value:"name"}],activeName:""}},mixins:[c.default],methods:{getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=[];return this.activeTab.length&&(a=[{operator:"in",value:this.activeTab,property:"type"}]),this.serachVal&&(a=[].concat((0,d.default)(a),[{operator:"like",value:this.serachVal,property:"name"}]),this.activeTab.length&&(a[0].attendedOperation="and")),(0,f.getJobList)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(a),sort:(0,o.default)([{property:"crtTime",direction:"DESC"}])}).then(function(a){var n=a.dataCount,i=void 0===n?0:n,r=a.tableContent,s=void 0===r?[]:r;e.hasNext=i>(e.page-1)*e.limit+s.length,s.forEach(function(t){switch(e.setStatus(t),t.type){case"Y":t.changeType="营销类";break;case"Z":t.changeType="专业类";break;case"J":t.changeType="技术类";break;case"C":t.changeType="操作类";break;case"M":t.changeType="管理类"}switch(t.status){case 1:t.changeStatus="使用中",t.borderClass="using";break;case 2:t.changeStatus="未使用",t.borderClass="no_use";break;case 3:t.changeStatus="草稿",t.borderClass="draft";break;case-1:t.changeStatus="停用",t.borderClass="stop_use"}}),e.listData=1===e.page?s:e.listData.concat(s),t||e.$nextTick(function(){e.resetScroll()});var o="";t&&0===e.activeIndex&&e.total&&(o=i-e.total==0?"暂无新数据":o="新增"+(i-e.total)+"条数据",e.$vux.toast.show({text:o,position:"top",width:"50%",type:"text",time:700})),0===e.activeIndex&&1===e.page&&sessionStorage.setItem(e.applyCode,i),e.$loading.hide()}).catch(function(t){e.resetScroll()})},goNextPage:function(e,t,a){var n=this;if(!this.clickVisited){var i=this.$route.query.name,s=this.$route.params,o=s.fileId,l=s.listId;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,r.default)({},e));var d=a+"/"+o+"/"+l;setTimeout(function(){n.clickVisited=!1,n.$router.push({path:d,query:{name:i,id:e.id}})},200)}},goDetail:function(e,t){this.goNextPage(e,t,"/detail")},goEditJob:function(e,t){this.goNextPage(e,t,"/fillform")},tabClick:function(e,t){this.activeIndex=t,this.activeTab=e.status,this.activeName="全部"===e.name?"":e.name,this.resetCondition(),this.getList()},goEdit:function(){var e=this.$route.query,t=e.name,a=e.childId,n=this.$route.params,i=n.fileId,r=n.listId;this.$router.push({path:"/fillform/"+i+"/"+r,query:{name:t,childId:a,jobType:this.activeName}})}}}},"2KqP":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("KH7x"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(void 0===e||!/^-?\d*\.?\d*$/.test(e))return console.error("the value can not change to number"),"";var a=(""+e).split("."),n=(0,i.default)(a,2),r=n[0],s=void 0===r?"":r,o=n[1],l=void 0===o?"":o;return l.length<t&&(l=""+l+"0".repeat(t-l.length)),l.length!==t&&(l=l.substr(0,t)+"."+l.substr(t),l=""+Math.round(l),l.length<t&&(l=""+"0".repeat(t-l.length)+l)),parseFloat(s+"."+l)}},"2PKd":function(e,t,a){function n(e){return a(i(e))}function i(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var r={"./consumable/DZYHPCGDDForm.vue":"ZVeX","./consumable/DZYHPCGSQForm.vue":"J0vH","./consumable/DZYHPCGYSYZFForm.vue":"9B9Q","./contacts/COMPANYForm.vue":"1d9+","./contacts/JOBForm.vue":"Ndqp","./contacts/USERForm.vue":"qP7K","./equipment/SBCGDDForm.vue":"F0gW","./equipment/SBCGSQForm.vue":"4B3i","./equipment/SBCGYSForm.vue":"/Z5K","./finance/BXYZFForm.vue":"HE6I","./finance/CRCDHPForm.vue":"JSOx","./finance/DFCDHPForm.vue":"uKpr","./finance/DXTXCDHPForm.vue":"FKOt","./finance/FGYSDJForm.vue":"kY/w","./finance/FGYSQKForm.vue":"8Ofw","./finance/FKForm.vue":"moVi","./finance/JKYBYJForm.vue":"4qY7","./finance/KCCDHPForm.vue":"pLZ0","./finance/SDCDHPForm.vue":"lOVW","./finance/SKForm.vue":"PYXE","./finance/XMFYBXForm.vue":"/8Dd","./finance/YBFYBXForm.vue":"Pibe","./finance/ZZSKPForm.vue":"G70E","./finance/ZZSSPForm.vue":"NgDr","./hr/YGDAForm.vue":"IIvl","./hr/YGLZForm.vue":"ShHt","./hr/YGRZForm.vue":"5O+N","./hr/ZPJHForm.vue":"zqN1","./plan/BHDDForm.vue":"UXCm","./plan/WLXQJHForm.vue":"YOAB","./plan/WLXQTJForm.vue":"4cUA","./plan/XSDDYCForm.vue":"TIeJ","./product/CPFBForm.vue":"rNne","./product/CPXQForm.vue":"4tO6","./production/GDRWForm.vue":"D9b3","./production/GDRWQDForm.vue":"ow/D","./production/GDYSForm.vue":"lpBF","./production/NBJGDDForm.vue":"ZhmJ","./project/XMJHForm.vue":"HcOF","./project/XMJXForm.vue":"SEjj","./project/XMLXForm.vue":"fPYh","./project/XMRWForm.vue":"ezSw","./purchase/CGDDForm.vue":"yv4D","./purchase/CGSQForm.vue":"fqO9","./purchase/CGXYForm.vue":"yPF3","./sale/CPJGForm.vue":"eeRS","./sale/KPSQForm.vue":"MLSZ","./sale/SJForm.vue":"ewRl","./sale/XSBJForm.vue":"DTDx","./sale/XSDDForm.vue":"rYhG","./sale/XSHTForm.vue":"fg8O","./stock/BDKCDBForm.vue":"hsBr","./stock/CGRKForm.vue":"yiMf","./stock/CGTHCKForm.vue":"rgGk","./stock/GDBLLForm.vue":"yPVV","./stock/KCPDForm.vue":"isSJ","./stock/NBJGLLForm.vue":"hpCO","./stock/NBJGRKForm.vue":"UBaU","./stock/XSCKForm.vue":"UD9u"};n.keys=function(){return Object.keys(r)},n.resolve=i,e.exports=n,n.id="2PKd"},"2PUA":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("div",{staticClass:"title"},[a("r-search",{attrs:{filterList:e.filterList,isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}})],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"each_mater box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"order-code"},[e._v(e._s(t.transCode))]),e._v(" "),a("div",{staticClass:"order-matter"},[a("div",{staticClass:"mater_img"},[a("img",{attrs:{src:t.inventoryPic,alt:"mater_img"},on:{error:function(a){e.getDefaultImg(t)}}})]),e._v(" "),a("div",{staticClass:"mater_main "},[a("div",{staticClass:"mater_name"},[a("span",{staticClass:"whiNum"},[e._v("No."+e._s(n+1))]),e._v("\n                "+e._s(t.inventoryName)+"\n              ")]),e._v(" "),a("div",{staticClass:"mater_info"},[a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline",staticStyle:{display:"inline-block"}},[a("div",{staticClass:"mater_code"},[a("span",{staticClass:"title"},[e._v("编码")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(t.inventoryCode))])])]),e._v(" "),a("div",{staticClass:"ForInline",staticStyle:{display:"inline-block"}},[a("div",{staticClass:"mater_spec"},[a("span",{staticClass:"title"},[e._v("规格")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(t.specification||"无"))])])])]),e._v(" "),a("div",{staticClass:"withoutColor"},[a("div",{staticClass:"mater_classify"},[a("span",{staticClass:"type"},[e._v("属性: "+e._s(t.processing))]),e._v(" "),a("span",{staticClass:"father"},[e._v("大类: "+e._s(t.inventoryType))]),e._v(" "),a("span",{staticClass:"child"},[e._v("子类: "+e._s(t.inventorySubclass))])]),e._v(" "),a("div",{staticClass:"mater_material"},[a("span",{staticClass:"unit"},[e._v("单位: "+e._s(t.measureUnit))]),e._v(" "),a("span",{staticClass:"color"},[e._v("颜色: "+e._s(t.inventoryColor||"无"))]),e._v(" "),a("span",{staticClass:"spec"},[e._v("材质: "+e._s(t.material||"无"))])]),e._v(" "),e._t("materInfo",[a("div",{staticClass:"mater_material"},[a("span",[e._v("待交付数量:"+e._s(t.qtyBal))]),e._v(" "),a("span",[e._v("库存: "+e._s(t.qtyStockBal))])])],{item:t})],2)])])]),e._v(" "),a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-circle-outline selIcon",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}))],1),e._v(" "),a("div",{staticClass:"count_mode vux-1px-t"},[a("span",{staticClass:"count_num"},[e._v(" "+e._s(e.tmpItems.length?"已选 "+e.tmpItems.length+" 个":"请选择")+" ")]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.selConfirm}},[e._v("确定")])])])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"2RZr":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"Project",props:{projectInfo:{type:Object,default:function(){return{}}}},data:function(){return{}}}},"2TA+":function(e,t,a){"use strict";function n(e){a("17R/")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Wkhp");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("ebgK"),o=a.n(s),l=a("m0ev"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-6877fe6e",null);t.default=c.exports},"2ZKW":function(e,t){},"2eRD":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}))],1),e._v(" "),e.action.add?a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},"2hEA":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"loadding"},[a("spinner",{attrs:{type:"ripple",size:"50px"}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"2hEc":function(e,t){},"2jGX":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("+62G"),v=n(h),p=a("6q39"),C=n(p),_=a("fEP3"),y=a("1KNX"),b=n(y),g=a("7biW"),w=n(g);t.default={name:"PopCompanyList",props:{defaultValue:{type:Object,default:function(){return{}}},show:{type:Boolean,default:!1}},directives:{TransferDom:v.default},components:{Icon:c.default,Popup:m.default,RScroll:b.default,DSearch:w.default,LoadMore:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:function(e){this.setDefaultValue()}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1,this.$emit("input",!1)},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this.getList()},showSelIcon:function(e){return this.selItems.facilityName===e.facilityName},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.$emit("sel-item",this.selItems)},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"facilityName"}])),(0,_.getObjFacility)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,d.default)(e.listData),(0,d.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.selItems=this.defaultValue?(0,r.default)({},this.defaultValue):{}}},created:function(){this.setDefaultValue(),this.getList()}}},"2mHI":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages wlxqtj-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[Object.keys(e.orderList).length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v("订单列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n,i){return a("div",{key:n,staticClass:"each_mater",class:{"vux-1px-b":i<Object.keys(e.orderList).length-1}},[t.length?a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v("计划号")]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]):e._e(),e._v(" "),e._l(t,function(t,i){return a("div",{key:i,class:{mater_delete:e.matterModifyClass}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass},on:{"on-modify":function(a){e.modifyMatter(t,i,n)}},nativeOn:{click:function(a){e.delClick(i,t,n)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_more"},[a("span",[e._v("大类: "+e._s(n.inventoryType||"无"))]),e._v(" "),a("span",[e._v("单位: "+e._s(n.measureUnit))]),e._v(" "),a("span",[e._v("余额: "+e._s(n.qtyBal))])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:n.tdQty,expression:"item.tdQty"}],staticClass:"mater_other"},[a("span",{staticClass:"matter-remain"},[e._v("\n                        减少数量: "+e._s(n.tdQty)+"\n                      ")])])]}},{key:"edit",fn:function(t){var r=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:!r.tdQty&&!e.matterModifyClass,expression:"!item.tdQty && !matterModifyClass"}],staticClass:"mater_other",on:{click:function(t){e.modifyMatter(r,i,n)}}},[a("span",{staticClass:"edit-tips"},[e._v("\n                        点击进行填写\n                      ")])])]}}])}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.matterModifyClass,expression:"matterModifyClass"}],staticClass:"delete_icon",on:{click:function(a){e.delClick(i,t,n)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])])],1)})],2)}))]:[a("div",{on:{click:function(t){e.showOrderPop=!e.showOrderPop}}},[a("div",{staticClass:"title"},[e._v("订单列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择订单")]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),Object.keys(e.orderList).length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多物料")])]):e._e(),e._v(" "),a("pop-order-xqtj-list",{ref:"order",attrs:{show:e.showOrderPop,"default-value":e.orderList},on:{"sel-matter":e.selOrder},model:{value:e.showOrderPop,callback:function(t){e.showOrderPop=t},expression:"showOrderPop"}})],2),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,"is-show-amount":!1},on:{"sel-confirm":e.selConfirm},scopedSlots:e._u([{key:"modify",fn:function(t){var n=t.modifyMatter;return[a("cell",{attrs:{title:"余额","text-align":"right",placeholder:"请填写",value:n.qtyBal}}),e._v(" "),a("x-input",{attrs:{title:"减少数量",type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",e._n(t))},expression:"modifyMatter.tdQty"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("减少数量\n              ")])])],2)]}}]),model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode"},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},"2pZo":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2192,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_outPutMatCode"},{name:"往来名称",value:"dealerName_dealerDebit"}]}},mixins:[i.default],methods:{},created:function(){}}},"2qOs":function(e,t){},"2sZa":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("+26s"),r=n(i),s=a("Zp+1"),o=n(s);t.default={data:function(){return{uniqueId:1400,showContent:!1,filterArr:[{operator:"like",value:"",property:"warehouseName"}]}},components:{TabItem:o.default},mixins:[r.default]}},"2y58":function(e,t,a){"use strict";function n(e){a("UvnP")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("27Fo");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("kgls"),o=a.n(s),l=a("w1nj"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},"383K":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"contactPart",props:{hasClass:{type:Boolean,default:!0},contactInfo:{type:Object,default:function(){return{}}},payment:{type:Boolean,default:!0},logistics:{type:Boolean,default:!0},validUntil:{type:Boolean,default:!1}},data:function(){return{}},computed:{noAddress:function(){var e=this.contactInfo,t=e.province,a=void 0===t?"":t,n=e.city,i=void 0===n?"":n,r=e.county,s=void 0===r?"":r,o=e.address,l=void 0===o?"":o;return!(a||i||s||l)}},created:function(){}}},"3A09":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages sj-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[a("div",{staticClass:"mater_list"},[a("div",{staticClass:"each_mater"},[a("div",{staticClass:"userInp_mode"},[a("div",{staticClass:"title"},[e._v("员工信息")]),e._v(" "),a("group",{staticClass:"SJ_group",on:{"group-title-margin-top":function(e){}}},[a("pop-salesman-list",{attrs:{title:"员工","dealer-label-name":"员工",value:e.formData.salesPerson,required:""},model:{value:e.formData.turnoverName,callback:function(t){e.$set(e.formData,"turnoverName",t)},expression:"formData.turnoverName"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("员工\n                    ")])])],2),e._v(" "),a("popup-picker",{attrs:{title:"部门",data:e.groupList,placeholder:"请选择"},model:{value:e.formData.turnoverDepartMent,callback:function(t){e.$set(e.formData,"turnoverDepartMent",t)},expression:"formData.turnoverDepartMent"}}),e._v(" "),a("popup-picker",{attrs:{title:"岗位",data:e.roleList,placeholder:"请选择"},model:{value:e.formData.turnoverPost,callback:function(t){e.$set(e.formData,"turnoverPost",t)},expression:"formData.turnoverPost"}}),e._v(" "),a("datetime",{attrs:{placeholder:"请选择日期",title:"离职日期"},model:{value:e.formData.turnoverDate,callback:function(t){e.$set(e.formData,"turnoverDate",t)},expression:"formData.turnoverDate"}}),e._v(" "),a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1)])])]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},"3C0u":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.contactInfo,logistics:!1}}),e._v(" "),a("matter-list",{attrs:{"matter-list":e.orderInfo.order.dataSet,noTaxAmount:e.noTaxAmount,taxAmount:e.taxAmount,count:e.count},scopedSlots:e._u([{key:"matterOther",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("单位: "+e._s(n.measureUnit_transObjCode))]),e._v(" "),a("span",[e._v("单价: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.price),3)))]),e._v(" "),a("span",[e._v("数量: "+e._s(e._f("toFixed")(n.tdQty)))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.taxRate,expression:"item.taxRate"}]},[e._v("税率: "+e._s(n.taxRate))])]),e._v(" "),a("div",{staticClass:"mater_num"},[a("span",{staticClass:"num"},[e._v("安全库存: "+e._s(n.safeStock_transObjCode||0))]),e._v(" "),a("span",{staticClass:"num"},[e._v("待下单: "+e._s(n.thenQtyBal||0))]),e._v(" "),a("span",{staticClass:"num"},[e._v("起订量: "+e._s(n.moq_transObjCode||0))])]),e._v(" "),n.purchaseDay?a("div",{staticClass:"mater_attribute"},[a("span",[e._v("采购需求日期: "+e._s(n.purchaseDay))])]):e._e(),e._v(" "),a("div",{staticClass:"mater_price"},[a("span",[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(n.tdAmount),3)))]),e._v(" "),n.taxRate?a("span",{staticClass:"num",style:{display:n.tdAmount&&n.tdAmount.toString().length>=7?"block":""}},[e._v("\n                [金额: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.noTaxAmount),3))+" + 税金: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.taxAmount),3))+"]\n              ")]):e._e()])])]}}])}),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},"3Ex/":function(e,t,a){"use strict";function n(e){a("JHSS")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("VvlX");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("5fEC"),o=a.n(s),l=a("0zIr"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-65a0de95",null);t.default=c.exports},"3JsN":function(e,t){},"3Kpp":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("tab",{attrs:{"line-width":2,"default-color":"#757575","active-color":"#2c2727"}},e._l(e.listStatus,function(t,n){return a("tab-item",{key:n,attrs:{selected:n===e.activeIndex},on:{"on-item-click":function(a){e.tabClick(t,n)}}},[e._v(e._s(t.name)+"\n          ")])}))],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"client_ads vux-1px-b",class:{visited:t.visited},on:{click:function(a){e.goDetail(t,n)}}},[a("div",{staticClass:"cp_info user_info"},[a("div",{staticClass:"cp_name"},[a("span",[e._v(e._s(t.groupName))]),e._v(" "),a("span",[e._v("(简称: "+e._s(t.groupShortName)+")")])]),e._v(" "),a("p",{staticClass:"cp_ads"},[e._v(e._s(t.companyType))])]),e._v(" "),e.action.update?a("span",{staticClass:"iconfont icon-bianji",on:{click:function(a){a.stopPropagation(),e.EditCompany(t,n)}}}):e._e()])}))],1),e._v(" "),e.action.add?a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},"3MKb":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,defaultContact:e.contact,"dealer-label-name":"原厂供应商,经销供应商",dealerTitle:"供应商"},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("pop-single-select",{attrs:{title:"结算方式",data:e.transMode,value:e.dealer.drDealerPaymentTerm,isRequired:""},model:{value:e.dealer.drDealerPaymentTerm,callback:function(t){e.$set(e.dealer,"drDealerPaymentTerm",t)},expression:"dealer.drDealerPaymentTerm"}}),e._v(" "),a("div",{staticClass:"other_info"},[a("div",{staticClass:"title"},[e._v("账期天数")]),e._v(" "),a("div",{staticClass:"mode"},[e._v(e._s(e.dealerInfo.pamentDays))])]),e._v(" "),a("div",{staticClass:"materiel_list"},[e.matterList.length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v("物料列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.matterList,function(t,n){return a("div",{key:n,staticClass:"each_mater",class:{mater_delete:e.matterModifyClass,"vux-1px-b":n<e.matterList.length-1}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass},on:{"on-modify":function(a){e.modifyMatter(t,n)}},nativeOn:{click:function(a){e.delClick(t,n)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_more"},[a("div",[a("span",[e._v("税率: "+e._s(n.taxRate))]),e._v(" "),a("span",[e._v("安全库存: "+e._s(n.safeStock||0))]),e._v(" "),a("span",[e._v("待下单: "+e._s(n.qtyBal||0))]),e._v(" "),a("span",[e._v("起订量: "+e._s(n.moq||0))])]),e._v(" "),a("div"),e._v(" "),a("div",[a("span",{directives:[{name:"show",rawName:"v-show",value:n.processingStartDate,expression:"item.processingStartDate"}]},[e._v("计划需求日: "+e._s(n.processingStartDate))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.purchaseDay,expression:"item.purchaseDay"}]},[e._v("采购需求日: "+e._s(n.purchaseDay))])])]),e._v(" "),n.price&&n.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price)+"\n                    ")]),e._v(" "),a("div",[a("r-number",{attrs:{num:n.tdQty,checkAmt:e.checkAmt},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",t)},expression:"item.tdQty"}})],1)]):e._e()]}},{key:"editPart",fn:function(t){var i=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:i.price&&i.tdQty&&!e.matterModifyClass,expression:"(item.price && item.tdQty) &&!matterModifyClass"}],staticClass:"edit-part vux-1px-l",on:{click:function(t){e.modifyMatter(i,n)}}},[a("span",{staticClass:"iconfont icon-bianji1"})])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(t,n)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)}))]:[a("div",{on:{click:function(t){e.showMaterielPop=!e.showMaterielPop}}},[a("div",{staticClass:"title"},[e._v("物料列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择物料")]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),e.matterList.length?a("span",{staticClass:"add_more",on:{click:e.addMatter}},[e._v("新增更多物料")]):e._e()]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showMaterielPop,"default-value":e.matterList,"get-list-method":"getInventory7501",isShowCode:!1},on:{"sel-matter":e.selMatter},scopedSlots:e._u([{key:"attribute",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_classify"},[a("div",[a("span",[e._v("加工属性: "+e._s(n.processing))]),e._v(" "),a("span",[e._v("单位: "+e._s(n.measureUnit))]),e._v(" "),a("span",[e._v("物料大类: "+e._s(n.inventoryType))]),e._v(" "),a("span",[e._v("物料子类: "+e._s(n.inventorySubclass||"无"))])])])]}},{key:"storage",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_material"},[a("div",[a("span",[e._v("保质期天数: "+e._s(n.keepingDays||"无"))]),e._v(" "),a("span",[e._v("临保天数: "+e._s(n.nearKeepingDays||0))]),e._v(" "),a("span",[e._v("安全库存: "+e._s(n.safeStock||0))])]),e._v(" "),a("div",[a("span",[e._v("最小起订量: "+e._s(n.moq||0))]),e._v(" "),a("span",[e._v("数量: "+e._s(n.qty||0))])])])]}}]),model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}})],2),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,"is-check-stock":!1},on:{"sel-confirm":e.selConfirm},scopedSlots:e._u([{key:"qtyBal",fn:function(t){var n=t.modifyMatter;return[a("div",[a("span",[e._v("安全库存: "+e._s(n.safeStock||0))])]),e._v(" "),a("div",[a("span",[e._v("待下单: "+e._s(n.qtyBal||0))]),e._v(" "),a("span",[e._v("起订量: "+e._s(n.moq||0))])])]}},{key:"date",fn:function(t){var n=t.modifyMatter;return[a("datetime",{attrs:{title:"采购需求日",placeholder:"请选择"},model:{value:n.purchaseDay,callback:function(t){e.$set(n,"purchaseDay",t)},expression:"modifyMatter.purchaseDay"}}),e._v(" "),a("datetime",{attrs:{title:"计划需求日期",placeholder:"请选择"},model:{value:n.processingStartDate,callback:function(t){e.$set(n,"processingStartDate",t)},expression:"modifyMatter.processingStartDate"}})]}}]),model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-circle-outline 'outline' v-show=selItems.length !== matterList.length",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num"},[a("span",{staticStyle:{fontSize:".14rem"}},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.tdAmount,3))+"\n      "),a("span",{staticClass:"taxAmount"},[e._v("[含税: ￥"+e._s(e._f("numberComma")(e.taxAmount,3))+"]")])]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},"3NX5":function(e,t,a){"use strict";function n(e){a("IdQo")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("ptUZ");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("qq0S"),o=a.n(s),l=a("cz0L"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-58c910ef",null);t.default=c.exports},"3Nm0":function(e,t){},"3P4b":function(e,t){},"3QQJ":function(e,t,a){"use strict";function n(e){a("fv0H")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MFjG");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("7rAE"),o=a.n(s),l=a("5iSH"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},"3RO+":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("MgeX"),o=n(s),l=a("HzJ8"),d=n(l),u=a("ZLEe"),c=n(u),f=a("3cXf"),m=n(f),h=a("4YfN"),v=n(h),p=a("KH7x"),C=n(p),_=a("PzEQ"),y=n(_),b=a("SAzG"),g=n(b),w=a("BGNQ"),I=n(w),x=a("0AQX"),D=a("HyXB"),P=a("bKg5"),k=n(P),S=a("y8YJ"),T=n(S),L=a("kZy/"),N=n(L),M=a("89pA"),A=n(M),O=a("yt3/"),R=n(O),j=a("luHD"),$=n(j),B=a("VZtf"),E=n(B),F=a("vl8n"),U=n(F),q=a("+WR7"),Q=n(q),H=a("zWMP");a("Qg39");t.default={data:function(){return{listId:"482b7468-06eb-40c7-842a-f7ea6edb1c37",srhInpTx:"",orderList:{},matterList:[],transMode:["现付","预付","账期","票据"],showDealerPop:!1,dealerInfo:null,crDealerPaymentTerm:"现付",formData:{biId:"",biComment:""},submitSuccess:!1,showWarehousePop:!1,warehouse:null,numMap:{},transCode:"",biReferenceId:"",actions:[],taskId:"",showMaterielPop:!1,showMatterPop:!1,modifyIndex:null,modifyKey:null,selItems:[],matterParams:{whCode:""},contactInfo:{},filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"订单号",value:"transCode"}]}},components:{XTextarea:y.default,XInput:g.default,RNumber:E.default,Cell:I.default,PopDealerList:T.default,PopWarehouseList:A.default,PopMatterList:N.default,PopSingleSelect:R.default,PopMatter:$.default,RPicker:U.default,PopBaseinfo:Q.default},mixins:[k.default],methods:{getPaymentTerm:function(){var e=this;return(0,D.getDictByType)("paymentTerm").then(function(t){var a=t.tableContent;e.transMode=a})},selDealer:function(e){var t=JSON.parse(e),a=(0,C.default)(t,1),n=a[0];this.dealerInfo=n,this.crDealerPaymentTerm=this.dealerInfo.paymentTerm,this.matterParams=(0,v.default)({},this.matterParams,{dealerCode:this.dealerInfo.dealerCode})},selContact:function(e){this.dealerInfo.dealerDebitContactPersonName=e.dealerName,this.dealerInfo.dealerMobilePhone=e.dealerMobilePhone},selWarehouse:function(e){this.warehouse=JSON.parse(e),this.matterParams=(0,v.default)({},this.matterParams,{whCode:this.warehouse.warehouseCode}),this.matterList=[]},selMatter:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){var a=e.transCode+"_"+e.inventoryCode,i=t.numMap[a]||{},r=i.tdQty,s=void 0===r?e.currQty||"":r,o=i.price,l=void 0===o?e.price:o,d=i.taxRate,u=void 0===d?.16:d;e.tdQty=s,l.length&&(e.price=l),e.taxRate=u,e.assMeasureUnit=e.invSubUnitName||null,e.assMeasureScale=e.invSubUnitMulti||null,e.assMeasureDescription=e.invSubUnitComment||null,n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,m.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.inventoryCode!==e.inventoryCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode&&e.transCode===t.transCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,c.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});i>=0&&n.splice(i,1),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,d.default)((0,o.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,l=!1,u=void 0;try{for(var c,f=(0,d.default)(r);!(s=(c=f.next()).done);s=!0){var m=c.value;this.numMap[m.transCode+"_"+m.inventoryCode]={tdQty:m.tdQty,price:m.price,taxRate:m.taxRate}}}catch(e){l=!0,u=e}finally{try{!s&&f.return&&f.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this,t="",a=[];[{key:"dealerInfo",message:"供应商信息"},{key:"warehouse",message:"仓库"}].every(function(a){return!!e[a.key]||(t="请选择"+a.message,!1)}),t||this.crDealerPaymentTerm||(t="请选择结算方式"),t||(0,c.default)(this.orderList).length||(t="请选择物料");var n=!0,i=!1,s=void 0;try{for(var l,u=(0,d.default)((0,o.default)(this.orderList));!(n=(l=u.next()).done);n=!0){var f=l.value,h=!0,p=!1,C=void 0;try{for(var _,y=(0,d.default)(f);!(h=(_=y.next()).done);h=!0){var b=_.value;if(!b.tdQty){t="请填写数量";break}if(!b.price){t="请填写单价";break}var g=b.taxRate||this.taxRate,w=((0,H.accMul)(b.price,b.tdQty,g),{tdId:b.tdId||null,orderCode:b.transCode,outPutMatCode:b.inventoryCode,tdProcessing:b.processing,assMeasureUnit:void 0!==b.assMeasureUnit?b.assMeasureUnit:null,assMeasureScale:void 0!==b.assMeasureScale?b.assMeasureScale:null,assMeasureDescription:b.assMeasureDescription||"",thenQtyBal:b.qtyBal,thenQtyStock:b.qtyStockBal,tdQty:b.tdQty,assistQty:b.assistQty||0,price:b.price,tdAmount:b.tdAmount,taxRate:g,noTaxPrice:b.noTaxPrice,taxAmount:b.taxAmount,comment:b.comment||""});this.transCode&&(w.tdId=b.tdId||""),a.push(w)}}catch(e){p=!0,C=e}finally{try{!h&&y.return&&y.return()}finally{if(p)throw C}}}}catch(e){i=!0,s=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw s}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=D.saveAndStartWf,n={},i=(0,r.default)({},e.processCode,{businessKey:"PORT",createdBy:e.formData.handler});n=(0,v.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",dealerDebitContactPersonName:e.dealerInfo.dealerDebitContactPersonName||"",dealerDebitContactInformation:e.dealerInfo.dealerMobilePhone||"",containerOutWarehouseManager:e.warehouse.containerInWarehouseManager||null,outPut:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName||"供应商",containerCodeOut:e.warehouse.warehouseCode,drDealerPaymentTerm:e.crDealerPaymentTerm,dataSet:a}}),e.transCode&&(t=D.saveAndCommitTask,i={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var s={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,m.default)(n),wfPara:(0,m.default)(i)};e.transCode||delete s.biReferenceId,e.processCode.length||(t=D.submitAndCalc,delete s.wfPara,delete s.biReferenceId),e.biReferenceId&&(s.biReferenceId=e.biReferenceId),e.saveData(t,s)}})},getFormData:function(){var e=this;return(0,x.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=o;var l={},u=r.outPut,c=(r.dealerDebit,u.dataSet),f=void 0===c?[]:c,m=!0,h=!1,p=void 0;try{for(var C,_=(0,d.default)(f);!(m=(C=_.next()).done);m=!0){var y=C.value;y=(0,v.default)({},y,{inventoryPic:y.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+y.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:y.inventoryName_outPutMatCode,inventoryCode:y.outPutMatCode,specification:y.specification_outPutMatCode,processing:y.tdProcessing,qtyStockBal:y.thenQtyStock,qtyBal:y.thenQtyBal,transCode:y.orderCode}),l[y.orderCode]||(l[y.orderCode]=[]),l[y.orderCode].push(y)}}catch(e){h=!0,p=e}finally{try{!m&&_.return&&_.return()}finally{if(h)throw p}}e.matterList=f,e.dealerInfo={creatorName:r.dealerName_dealerDebit,dealerName:u.dealerName_dealerDebit,dealerMobilePhone:r.dealerDebitContactInformation,dealerDebitContactPersonName:r.dealerDebitContactPersonName,dealerCode:u.dealerDebit,dealerLabelName:u.drDealerLabel,province:u.province_dealerCodeCredit,city:u.city_dealerCodeCredit,county:u.county_dealerCodeCredit,address:u.address_dealerCodeCredit},e.contactInfo={dealerName:r.dealerDebitContactPersonName,dealerMobilePhone:r.dealerDebitContactInformation},e.warehouse={warehouseCode:u.containerCodeOut,warehouseName:u.warehouseName_containerCodeOut,warehouseType:u.warehouseType_containerCodeOut,warehouseProvince:u.warehouseProvince_containerCodeOut,warehouseCity:u.warehouseCity_containerCodeOut,warehouseDistrict:u.warehouseDistrict_containerCodeOut,warehouseAddress:u.warehouseAddress_containerCodeOut,containerInWarehouseManager:u.containerInWarehouseManagerOut},e.matterParams={dealerCode:e.dealerInfo.dealerCode},e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,v.default)({},e.formData,e.handlerDefault,{biComment:r.biComment,biId:r.biId,biProcessStatus:r.biProcessStatus,creator:r.creator,modifer:r.modifer}),e.crDealerPaymentTerm=u.drDealerPaymentTerm,console.log(u.drDealerPaymentTerm),e.biReferenceId=r.biReferenceId,e.orderList=l,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,r.default)({},"CGTHCK_DATA",{dealer:this.dealerInfo,warehouse:this.warehouse,formData:this.formData,orderList:this.orderList,crDealerPaymentTerm:this.crDealerPaymentTerm})},getRelationData:function(){var e=this,t=this.$route.query.uniqueId;return(0,x.getSOList)({formViewUniqueId:t,transCode:this.relationKey}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i;t.attachment;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var o=s.inPut,l=o.dataSet,d=void 0===l?[]:l;d=d.map(function(t){return(0,v.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,transCode:e.relationKey,qtyBal:t.tdQty,tdQty:""})}),e.dealerInfo={creatorName:s.dealerCreditContactPersonName,dealerName:outPut.dealerName_dealerCodeCredit,dealerMobilePhone:s.dealerCreditContactInformation,dealerCode:outPut.dealerCode_dealerCodeCredit,dealerLabelName:outPut.crDealerLabel,province:outPut.province_dealerCodeCredit,city:outPut.city_dealerCodeCredit,county:outPut.county_dealerCodeCredit,address:outPut.address_dealerCodeCredit},e.matterParams={dealerCode:e.dealerInfo.dealerCode},e.matterList=d,e.orderList=(0,r.default)({},e.relationKey,d),e.DealerPaymentTerm=s.drDealerPaymentTerm||"现付",e.$loading.hide()})}},created:function(){var e=sessionStorage.getItem("CGTHCK_DATA");if(e){this.orderList=JSON.parse(e).orderList;var t=!0,a=!1,n=void 0;try{for(var i,r=(0,d.default)((0,o.default)(this.orderList));!(t=(i=r.next()).done);t=!0){var s=i.value,l=!0,u=!1,c=void 0;try{for(var f,m=(0,d.default)(s);!(l=(f=m.next()).done);l=!0){var h=f.value;this.matterList.push(h)}}catch(e){u=!0,c=e}finally{try{!l&&m.return&&m.return()}finally{if(u)throw c}}}}catch(e){a=!0,n=e}finally{try{!t&&r.return&&r.return()}finally{if(a)throw n}}this.dealerInfo=JSON.parse(e).dealer,this.warehouse=JSON.parse(e).warehouse,this.formData=JSON.parse(e).formData,this.crDealerPaymentTerm=this.crDealerPaymentTerm,sessionStorage.removeItem("CGTHCK_DATA")}}}},"3iOo":function(e,t){},"3lqy":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("HzJ8"),o=n(s),l=a("3cXf"),d=n(l),u=a("4YfN"),c=n(u),f=a("7g+Q"),m=n(f),h=a("z5TY"),v=n(h),p=a("BGNQ"),C=n(p),_=a("iR2W"),y=n(_),b=a("u28h"),g=n(b),w=a("SAzG"),I=n(w),x=a("PzEQ"),D=n(x),P=a("0AQX"),k=a("HyXB"),S=a("bKg5"),T=n(S),L=a("VZtf"),N=n(L),M=a("kZy/"),A=n(M),O=a("y8YJ"),R=n(O),j=a("yt3/"),$=n(j),B=a("luHD"),E=n(B),F=a("vl8n"),U=n(F),q=a("+WR7"),Q=n(q),H=a("zWMP"),V=a("Qg39");t.default={data:function(){return{listId:"525bee48-d2d4-11e8-b8ca-0279b2c6a380",showMatterPop:!1,showMaterielPop:!1,transMode:[],matterList:[],logisticsTerm:[],numMap:{},contact:{},formData:{},dealerInfo:{validUntil:"",advancePaymentDueDate:""},matterParams:{processing:"成品,商品,服务"}}},computed:{thenTotalAmntBal:function(){var e=0;return this.matterList.forEach(function(t){var a=t.assistQty,n=t.price,i=(0,H.accMul)(a,n);e=(0,H.accAdd)(e,i)}),e.toFixed(2)},hasAdvance:function(){var e=this.dealerInfo.paymentTerm,t=["赊销"];return!!e&&!e.includes(t)}},components:{XInput:I.default,XTextarea:D.default,Group:v.default,Cell:C.default,Popup:m.default,PopMatter:E.default,RNumber:N.default,PopMatterList:A.default,PopDealerList:R.default,PopSingleSelect:$.default,Datetime:g.default,RPicker:U.default,PopBaseinfo:Q.default},mixins:[T.default],filters:{numberComma:y.default},methods:{selDealer:function(e){var t=JSON.parse(e)[0];this.dealerInfo=(0,c.default)({},this.dealerInfo,t),this.matterParams=(0,c.default)({},this.matterParams,{drDealerCode:this.dealerInfo.dealerCode}),this.matterList=[]},selContact:function(e){this.contact=(0,c.default)({},e)},getPaymentTerm:function(){var e=this;return(0,k.getDictByType)("paymentTerm").then(function(t){var a=t.tableContent;e.transMode=a})},getLogisticsTerms:function(){var e=this;return(0,k.getDictByType)("dealerLogisticsTerms").then(function(t){var a=t.tableContent;e.logisticsTerm=a})},dateSelect:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=new Date(this.dealerInfo.validUntil.replace(/-/g,"/")),n=new Date(this.dealerInfo.advancePaymentDueDate.replace(/-/g,"/"));if(console.log(a),console.log(n),"advancePaymentDueDate"===t&&!this.dealerInfo.validUntil)return void this.$vux.alert.show({content:"请选择合同到期日"});this.$vux.datetime.show({confirmText:"确定",cancelText:"取消",value:this.dealerInfo[t],onConfirm:function(a){e.dealerInfo[t]=a}})},getMatter:function(){var e="";if(this.dealerInfo.validUntil||(e="请选择合同到期日"),e||!this.hasAdvance||this.dealerInfo.advancePaymentDueDate||(e="请选择预收到期日"),e)return void this.$vux.alert.show({content:e});this.showMaterielPop=!this.showMaterielPop},selMatter:function(e){var t=this,a=JSON.parse(e);a.map(function(e){var a=t.numMap[e.inventoryCode]||{},n=a.tdQty,i=void 0===n?"":n,r=a.price,s=void 0===r?"":r,o=a.taxRate,l=void 0===o?.16:o,d=a.dateActivation,u=void 0===d?"":d,c=a.executionDate,f=void 0===c?"":c;e.tdQty=i,e.price=s,e.taxRate=l,e.dateActivation=u,e.executionDate=f,e.assMeasureUnit=e.invSubUnitName||null,e.assMeasureScale=e.invSubUnitMulti||null,e.assMeasureDescription=e.invSubUnitComment||null}),this.numMap={},this.matterList=a},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(t){return t.inventoryCode===e.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(e)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,d.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,o.default)(this.matterList);!(e=(n=i.next()).done);e=!0){var r=n.value;this.numMap[r.inventoryCode]=(0,c.default)({},r)}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showMaterielPop=!this.showMaterielPop},checkAmt:function(e){var t=e.tdQty,a=e.tdAmountCopy1;t&&(e.tdQty=Math.abs((0,V.toFixed)(t))),a&&(e.tdAmountCopy1=Math.abs((0,V.toFixed)(a)))},submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerName||(t="请选择客户"),t||this.dealerInfo.validUntil||(t="请选择合同到期日"),t||!this.hasAdvance||this.dealerInfo.advancePaymentDueDate||(t="请选择预收到期日"),t||this.matterList.length||(t="请选择物料"),t||this.matterList.every(function(e){if(!e.tdQty)return t="请填写数量",!1;if(!e.price)return t="请输入单价",!1;var n={tdId:e.tdId||"",inventoryName_transObjCode:e.inventoryName,transObjCode:e.inventoryCode,tdProcessing:e.processing,assMeasureUnit:e.assMeasureUnit,assMeasureDescription:e.assMeasureDescription,assMeasureScale:e.assMeasureScale,tdQty:e.tdQty,assistQty:e.assistQty,price:e.price,tdAmount:e.tdAmount,taxRate:e.taxRate,noTaxPrice:e.noTaxPrice,taxAmount:e.taxAmount,noTaxAmount:e.noTaxAmount,dateActivation:e.dateActivation,executionDate:e.executionDate,comment:e.comment||""};return a.push(n),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=k.saveAndStartWf,n=(0,r.default)({},e.processCode,{businessKey:"XS1",createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,drDealerPaymentTerm:e.dealerInfo.paymentTerm,daysOfAccount:e.dealerInfo.pamentDays},s={listId:e.listId,biComment:e.formData.biComment,formData:(0,d.default)((0,c.default)({},e.formData,{handlerEntity:e.entity.dealerName,dealerDebitContactPersonName:e.contact.dealerName,dealerDebitContactInformation:e.contact.dealerMobilePhone,drDealerLogisticsTerms:e.dealerInfo.dealerLogisticsTerms,order:(0,c.default)({},i,{dataSet:a}),inPut:(0,c.default)({},i,{validUntil:e.dealerInfo.validUntil,dataSet:[{thenTotalAmntBal:e.thenTotalAmntBal,tdAmountCopy1:e.dealerInfo.tdAmountCopy1,advancePaymentDueDate:e.dealerInfo.advancePaymentDueDate}]}),promDeliTime:""})),wfPara:(0,d.default)(n)};e.isResubmit&&(t=k.saveAndCommitTask,s.biReferenceId=e.biReferenceId),e.processCode.length||(t=k.submitAndCalc,delete s.wfPara,delete s.biReferenceId),e.biReferenceId&&(s.biReferenceId=e.biReferenceId),e.saveData(t,s)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.attachment=t.attachment;var a=t.formData;a.order.dataSet.map(function(t){t=(0,c.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode}),e.matterList.push(t)}),e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,c.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),e.dealerInfo={creatorName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation,dealerCode:a.order.dealerDebit,dealerSubclass:a.order.drAccountSub,dealerLabelName:a.order.drDealerLabel,dealerName:a.order.dealerName_dealerDebit,province:a.order.province_dealerDebit,city:a.order.city_dealerDebit,county:a.order.county_dealerDebit,address:a.order.address_dealerDebit,paymentTerm:a.order.drDealerPaymentTerm,dealerLogisticsTerms:a.drDealerLogisticsTerms,pamentDays:a.inPut.daysOfAccount,validUntil:a.inPut.validUntil,tdAmountCopy1:a.inPut.dataSet[0].tdAmountCopy1,advancePaymentDueDate:a.inPut.dataSet[0].advancePaymentDueDate},e.contact={dealerName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation},e.matterParams=(0,c.default)({},e.matterParams,{drDealerCode:e.dealerInfo.dealerCode}),e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,r.default)({},"XSHT_DATA",{matter:this.matterList,dealerInfo:this.dealerInfo,formData:this.formData,contact:this.contact})}},created:function(){var e=sessionStorage.getItem("XSHT_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.dealerInfo=t.dealerInfo,this.formData=t.formData,this.contact=t.contact,this.matterParams=(0,c.default)({},this.matterParams,{drDealerCode:this.dealerInfo.dealerCode}),sessionStorage.removeItem("XSHT_DATA")}}}},"3p7d":function(e,t,a){"use strict";function n(e){a("Yn3E")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("ARDs");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("iSAE"),o=a.n(s),l=a("g8L4"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-62ab4848",null);t.default=c.exports},"3tDR":function(e,t){},"3v/h":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("MgeX"),o=n(s),l=a("HzJ8"),d=n(l),u=a("ZLEe"),c=n(u),f=a("3cXf"),m=n(f),h=a("4YfN"),v=n(h),p=a("7g+Q"),C=n(p),_=a("+62G"),y=n(_),b=a("z5TY"),g=n(b),w=a("BGNQ"),I=n(w),x=a("iR2W"),D=n(x),P=a("u28h"),k=n(P),S=a("SAzG"),T=n(S),L=a("PzEQ"),N=n(L),M=a("kNGm"),A=n(M),O=a("0AQX"),R=a("HyXB"),j=a("bKg5"),$=n(j),B=a("VZtf"),E=n(B),F=a("kZy/"),U=n(F),q=a("y8YJ"),Q=n(q),H=a("yt3/"),V=n(H),X=a("luHD"),z=n(X),Y=a("vl8n"),W=n(Y),G=a("+WR7"),J=n(G),K=a("zWMP"),Z=a("Qg39");t.default={data:function(){return{listId:"a4897429-f4f2-44a4-ade7-2fe8dc67c3cf",filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"合同号",value:"transCode"}],showMatterPop:!1,showMaterielPop:!1,transMode:[],matterList:[],logisticsTerm:[],numMap:{},formData:{},dealerInfo:{},matterParams:{},orderList:{},modifyKey:null,contactInfo:{}}},directives:{TransferDom:y.default},components:{XInput:T.default,XTextarea:N.default,Group:g.default,Cell:I.default,Popup:C.default,PopMatter:z.default,RNumber:E.default,PopMatterList:U.default,PopDealerList:Q.default,PopSingleSelect:V.default,Datetime:k.default,RPicker:W.default,PopBaseinfo:J.default},mixins:[$.default],filters:{numberComma:D.default},computed:{hasAdvance:function(){var e=this.dealerInfo.paymentTerm,t=["赊销"];return!!e&&!e.includes(t)}},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],this.matterParams={dealerCode:this.dealerInfo.dealerCode},this.matterList=[],this.orderList={}},selContact:function(e){this.contactInfo=(0,v.default)({},e)},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,m.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.inventoryCode!==e.inventoryCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getPaymentTerm:function(){var e=this;return(0,R.getDictByType)("paymentTerm").then(function(t){var a=t.tableContent;e.transMode=a})},getLogisticsTerms:function(){var e=this;return(0,R.getDictByType)("dealerLogisticsTerms").then(function(t){var a=t.tableContent;e.logisticsTerm=a})},getMatter:function(){if(!this.dealerInfo.dealerCode)return void this.$vux.alert.show({content:"请选择客户"});this.showMaterielPop=!this.showMaterielPop},checkAmt:function(e){var t=e.tdQty,a=e.tdAmountCopy1;t&&(e.tdQty=Math.abs((0,Z.toFixed)(t))),a&&(e.tdAmountCopy1=Math.abs((0,Z.toFixed)(a)))},selMatter:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){var a=(e.transCode,e.inventoryCode,t.numMap[e.inventoryCode]||{}),i=a.tdQty,r=void 0===i?e.qtyBal:i,s=a.price,o=void 0===s?e.price:s,l=a.taxRate,d=void 0===l?t.taxRate:l,u=a.promDeliTime,c=void 0===u?"":u;e.tdQty=r,e.assMeasureUnit=e.invSubUnitName||null,e.assMeasureScale=e.invSubUnitMulti||null,e.assMeasureDescription=e.invSubUnitComment||null,e.assistQty=(0,Z.toFixed)((0,K.accDiv)(e.tdQty,e.invSubUnitMulti)),e.noTaxPrice=(0,Z.toFixed)((0,K.accDiv)(e.price,(0,K.accAdd)(1,d))),e.price=o,e.taxRate=d,e.promDeliTime=c,e.dateActivation=(0,A.default)(e.dateActivation,"YYYY-MM-DD"),e.executionDate=(0,A.default)(e.executionDate,"YYYY-MM-DD"),n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},delClick:function(e,t,a){var n=this.selItems,i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode&&e.transCode===t.transCode});if(-1!==i)return void n.splice(i,1);n.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,c.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});i>=0&&(e.$refs.matter.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,d.default)((0,o.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,l=!1,u=void 0;try{for(var c,f=(0,d.default)(r);!(s=(c=f.next()).done);s=!0){var m=c.value;this.numMap[m.transCode+"_"+m.inventoryCode]=(0,v.default)({},m)}}catch(e){l=!0,u=e}finally{try{!s&&f.return&&f.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showMaterielPop=!this.showMaterielPop},dateSelect:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.$vux.datetime.show({confirmText:"确定",cancelText:"取消",value:this.dealerInfo[t],onConfirm:function(a){e.$set(e.dealerInfo,t,a)}})},submitOrder:function(){var e=this;if(this.dealerInfo.dealerName)if((0,c.default)(this.orderList).length){var t="",a=[],n=!0,i=!1,s=void 0;try{for(var l,u=(0,d.default)((0,o.default)(this.orderList));!(n=(l=u.next()).done);n=!0){var f=l.value,h=!0,p=!1,C=void 0;try{for(var _,y=(0,d.default)(f);!(h=(_=y.next()).done);h=!0){var b=_.value;if(!b.tdQty){t="请填写数量";break}if(!b.price){t="请填写单价";break}if(!b.promDeliTime){t="请选择预期交货日";break}var g=b.taxRate||this.taxRate,w=(0,Z.toFixed)((0,K.accMul)(b.assistQty,g,b.noTaxPrice)),I={tdId:b.tdId||"",transMatchedCode:b.transCode,inventoryName_transObjCode:b.inventoryName,transObjCode:b.inventoryCode,tdProcessing:b.processing,assMeasureUnit:b.assMeasureUnit||null,assMeasureDescription:b.assMeasureDescription||null,assMeasureScale:b.assMeasureScale||null,dealerInventoryName:b.clientInventoryName,dealerInventoryCode:b.clientInventoryCode,thenTotalQtyBal:b.qty,thenLockQty:b.stockQty,thenQtyBal:b.qtyBal,tdQty:b.tdQty,assistQty:b.assistQty||0,price:b.price,tdAmount:(0,Z.toFixed)((0,K.accMul)(b.price,b.assistQty)),taxRate:g,noTaxPrice:b.noTaxPrice,taxAmount:w,noTaxAmount:(0,K.accSub)(b.tdAmount,b.taxAmount),dateActivation:b.dateActivation,promDeliTime:b.promDeliTime||null,executionDate:b.executionDate,comment:b.comment||""};a.push(I)}}catch(e){p=!0,C=e}finally{try{!h&&y.return&&y.return()}finally{if(p)throw C}}}}catch(e){i=!0,s=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw s}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=R.saveAndStartWf,n=(0,r.default)({},e.processCode,{businessKey:"SO3",createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.formData.biComment,formData:(0,m.default)((0,v.default)({},e.formData,{handlerEntity:e.entity.dealerName,dealerDebitContactPersonName:e.contactInfo.dealerName||"",dealerDebitContactInformation:e.contactInfo.dealerMobilePhone||"",drDealerLogisticsTerms:e.dealerInfo.dealerLogisticsTerms,order:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,drDealerPaymentTerm:e.dealerInfo.paymentTerm,daysOfAccount:e.dealerInfo.pamentDays,dataSet:a},inPut:{dataSet:[{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,tdAmountCopy1:e.dealerInfo.tdAmountCopy1,advancePaymentDueDate:e.dealerInfo.advancePaymentDueDate}]}})),wfPara:(0,m.default)(n)};e.isResubmit&&(t=R.saveAndCommitTask,i.biReferenceId=e.biReferenceId),e.processCode.length||(t=R.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})}else this.$vux.alert.show({content:"请选择物料"});else this.$vux.alert.show({content:"请选择客户"})},getFormData:function(){var e=this;return(0,O.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.attachment=t.attachment;var a={},n=t.formData;n.order.dataSet.map(function(t){t=(0,v.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,clientInventoryName:t.dealerInventoryName,clientInventoryCode:t.dealerInventoryCode,qty:t.thenTotalQtyBal,stockQty:t.thenLockQty,qtyBal:t.thenQtyBal,transCode:t.transMatchedCode}),e.matterList.push(t),a[t.transCode]||(a[t.transCode]=[]),a[t.transCode].push(t)}),e.handlerDefault={handler:n.handler,handlerName:n.handlerName,handlerUnit:n.handlerUnit,handlerUnitName:n.handlerUnitName,handlerRole:n.handlerRole,handlerRoleName:n.handlerRoleName},e.orderList=a,e.formData=(0,v.default)({},e.formData,e.handlerDefault,{biComment:n.biComment,biId:n.biId,biProcessStatus:n.biProcessStatus,creator:n.creator,modifer:n.modifer}),e.dealerInfo={creatorName:n.dealerDebitContactPersonName,dealerMobilePhone:n.dealerDebitContactInformation,dealerCode:n.order.dealerDebit,dealerSubclass:n.order.drAccountSub,dealerLabelName:n.order.drDealerLabel,dealerName:n.order.dealerName_dealerDebit,province:n.order.province_dealerDebit,city:n.order.city_dealerDebit,county:n.order.county_dealerDebit,address:n.order.address_dealerDebit,paymentTerm:n.order.drDealerPaymentTerm,dealerLogisticsTerms:n.drDealerLogisticsTerms,pamentDays:n.order.daysOfAccount},e.contactInfo={dealerName:n.dealerDebitContactPersonName,dealerMobilePhone:n.dealerDebitContactInformation},e.matterParams={dealerCode:e.dealerInfo.dealerCode},e.$loading.hide()})},hasDraftData:function(){return!!(0,o.default)(this.orderList).length&&(0,r.default)({},"XSDD_DATA",{dealerInfo:this.dealerInfo,formData:this.formData,contactInfo:this.contactInfo,orderList:this.orderList})}},created:function(){var e=sessionStorage.getItem("XSDD_DATA");if(e){var t=JSON.parse(e);this.dealerInfo=t.dealerInfo,this.formData=t.formData,this.contactInfo=t.contactInfo,this.orderList=t.orderList;var a=!0,n=!1,i=void 0;try{for(var r,s=(0,d.default)((0,o.default)(this.orderList));!(a=(r=s.next()).done);a=!0){var l=r.value,u=!0,c=!1,f=void 0;try{for(var m,h=(0,d.default)(l);!(u=(m=h.next()).done);u=!0){var v=m.value;this.matterList.push(v)}}catch(e){c=!0,f=e}finally{try{!u&&h.return&&h.return()}finally{if(c)throw f}}}}catch(e){n=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}this.matterParams={dealerCode:this.dealerInfo.dealerCode},sessionStorage.removeItem("XSDD_DATA")}}}},"3vO0":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("div",{staticClass:"title"},[a("m-search",{attrs:{filterList:e.filterList,isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}})],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.workList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.workList,function(t,n){return a("div",{key:n,staticClass:"each-work box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"work-main"},[a("div",{staticClass:"work_top"},[a("span",{staticClass:"code_name"},[e._v("物料编码")]),e._v(" "),a("span",{staticClass:"work_code"},[e._v(e._s(t.inventoryCode))])]),e._v(" "),a("div",{staticClass:"work_mid vux-1px-b"},[a("div",{staticClass:"product_name"},[e._v("\n                "+e._s(t.inventoryName)+"\n              ")])]),e._v(" "),a("div",{staticClass:"work_btm vux-1px-b"},[a("div",{staticClass:"procedure_name"},[a("span",[e._v(e._s(t.procedureName))]),e._v(" "),a("span",{staticClass:"symbol"},[e._v("[工序编码: "+e._s(t.proPointCode)+"]")])]),e._v(" "),a("div",{staticClass:"procedure_unit"},[a("span",{staticClass:"each_unit"},[e._v("工序待启动: "+e._s(t.thenQtyBal))]),e._v(" "),a("span",{staticClass:"each_unit"},[e._v("被派人: "+e._s(t.dealerName))]),e._v(" "),a("span",{staticClass:"each_unit"},[e._v("往来标签: "+e._s(t.dealerLabel))])])]),e._v(" "),a("div",{staticClass:"work_btm"},[a("div",{staticClass:"procedure_name"},[a("span",[e._v(e._s(t.wareName))]),e._v(" "),a("span",{staticClass:"symbol"},[e._v("[仓库编码: "+e._s(t.whInCode)+"]")])]),e._v(" "),a("div",{staticClass:"procedure_unit"},[a("span",{staticClass:"each_unit"},[e._v("仓库类型: "+e._s(t.wareType))]),e._v(" "),t.wareAddress?a("span",{staticClass:"each_unit"},[e._v("仓库地址: "+e._s(t.wareAddress))]):e._e()])])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}))],1)])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"3wOk":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages"},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("tab-item",{attrs:{tabVal:e.listView},on:{"tab-click":e.tabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"each_duty",on:{click:function(a){e.getFlow(t)}}},[a("div",{staticClass:"duty_top vux-1px-b"},[a("div",{staticClass:"warehouse_info"},[a("span",{staticClass:"warehouse warehouse_name"},[e._v(e._s(t.warehouseName))]),e._v(" "),a("span",{staticClass:"warehouse warehouse_code"},[e._v(e._s(t.whCode))])]),e._v(" "),t.qtyBalance>=0?a("div",{staticClass:"mater_code"},[a("span",{staticClass:"title"},[e._v("数量余额")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(t.qtyBalance))])]):e._e(),e._v(" "),t.qtyLocked>=0?a("div",{staticClass:"mater_code"},[a("span",{staticClass:"title"},[e._v("数量余额")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(t.qtyLocked))])]):e._e()]),e._v(" "),a("div",{staticClass:"matter"},[t.matCode?a("div",{staticClass:"matter_code"},[a("span",{staticClass:"iconfont icon-bianma"}),e._v(" "),a("span",[e._v("物料编码: "+e._s(t.matCode))])]):e._e(),e._v(" "),a("div",{staticClass:"matter_name"},[e._v("\n            "+e._s(t.inventoryName)),a("span",{staticClass:"type"},[e._v("["+e._s(t.invProcessing)+"]")])]),e._v(" "),t.accountAge||t.libraryAge||t.nearKeepingDays?a("div",{staticClass:"mater_days"},[t.accountAge>=0?a("span",{staticClass:"days"},[e._v("账龄天数 "+e._s(t.accountAge))]):e._e(),e._v(" "),t.libraryAge>=0?a("span",{staticClass:"days"},[e._v("库龄天数 "+e._s(t.libraryAge))]):e._e(),e._v(" "),t.nearKeepingDays>=0?a("span",{staticClass:"days"},[e._v("保质剩余天数 "+e._s(t.nearKeepingDays))]):e._e()]):e._e()]),e._v(" "),a("div",{staticClass:"duty_btm vux-1px-t"},[a("div",{staticClass:"ware_type"},[e._v("\n            "+e._s(t.warehouseType||"暂无")),a("span",{staticClass:"type"},[e._v("[仓库类型]")])]),e._v(" "),""!==t.amountBalance?a("div",{staticClass:"balance"},[a("span",{staticClass:"symbol"},[e._v("金额余额: ￥")]),e._v(e._s(t.amountBalance)+"\n          ")]):e._e()])])})),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{attrs:{position:"bottom",height:"80%"},model:{value:e.flowShow,callback:function(t){e.flowShow=t},expression:"flowShow"}},[a("r-scroll",{ref:"flowListWrapper",staticClass:"flow_list_wrapper",attrs:{options:e.FlowScrollOptions,"has-next":e.FlowHasNext,"no-data":!e.FlowHasNext&&!e.flowData.length},on:{"on-pulling-up":e.onPullingUpFlow}},[a("div",{staticClass:"flow"},[a("div",{staticClass:"flow_top"},[a("div",{staticClass:"title"},[e._v("流水详情")]),e._v(" "),a("div",{staticClass:"name"},[e._v("\n                "+e._s(e.flowTitle.inventoryName)),a("span",{staticClass:"symbol"},[e._v("["+e._s(e.flowTitle.invProcessing)+"]")])])]),e._v(" "),a("div",{staticClass:"flow_list"},[e._l(e.flowData,function(t,n){return a("div",{key:n,staticClass:"each_flow",on:{click:function(e){e.stopPropagation(),t.showList=!t.showList}}},[a("div",{staticClass:"duty_top"},[a("div",{staticClass:"transCode"},[a("span",{staticClass:"order_title"},[e._v("编码")]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(t.transCode))])]),e._v(" "),a("div",{staticClass:"time"},[e._v("\n                    "+e._s(e._f("dateFormat")(t.calcTime))+"\n                  ")])]),e._v(" "),a("div",{staticClass:"show_list"},[a("div",{staticClass:"app_name"},[e._v("\n                    "+e._s(t.appTitle)),a("span",{staticClass:"symbol"},[e._v("[应用]")])]),e._v(" "),a("div",{staticClass:"num_info"},[a("div",{staticClass:"count"},[t.drQty>0?a("div",{staticClass:"num_part"},[a("span",{staticClass:"symbol"},[e._v("本次数量: ")]),e._v(" "),a("span",{staticClass:"number_incre"},[e._v("+ "+e._s(t.drQty))])]):t.crQty>0?a("div",{staticClass:"num_part"},[a("span",{staticClass:"symbol"},[e._v("本次数量: ")]),e._v(" "),a("span",{staticClass:"number_redu"},[e._v("- "+e._s(t.crQty))])]):a("div",{staticClass:"num_part"},[a("span",{staticClass:"symbol"},[e._v("本次数量: ")]),e._v(" "),a("span",[e._v("不变")])])]),e._v(" "),a("div",{staticClass:"amount_money"},[t.drAmnt>0?a("div",{staticClass:"num_part"},[a("span",{staticClass:"symbol"},[e._v("本次金额: ")]),e._v(" "),a("span",{staticClass:"number_incre"},[e._v("+ "+e._s(t.drAmnt))])]):t.crAmnt>0?a("div",{staticClass:"num_part"},[a("span",{staticClass:"symbol"},[e._v("本次金额: ")]),e._v(" "),a("span",{staticClass:"number_redu"},[e._v("- "+e._s(t.crAmnt))])]):a("div",{staticClass:"num_part"},[a("span",{staticClass:"symbol"},[e._v("本次金额: ")]),e._v(" "),a("span",[e._v("不变")])])])])]),e._v(" "),a("div",{staticClass:"summary_part vux-1px-t"},[a("div",{staticClass:"number"},[a("span",{staticClass:"symbol"},[e._v("当前数量: ")]),e._v(e._s(t.qtyBalance)+"\n                  ")]),e._v(" "),a("div",{staticClass:"price"},[a("span",{staticClass:"symbol"},[e._v("当前余额: ￥")]),e._v(e._s(t.amountBalance)+"\n                  ")])])])}),e._v(" "),a("div")],2)])]),e._v(" "),a("div",{staticClass:"btn when_less"},[a("span",{staticClass:"cfm_btn",on:{click:function(t){e.flowShow=!1}}},[e._v("关闭")])])],1)],1)],1)])},i=[],r={render:n,staticRenderFns:i};t.a=r},"41Q9":function(e,t){},"41vv":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("3cXf"),o=n(s),l=a("J0Oq"),d=n(l),u=a("kNGm"),c=n(u),f=a("I8ug"),m=a("IzfM"),h=n(m),v=a("1KNX"),p=n(v),C=a("7hoq"),_=n(C),y=a("8dL1"),b=n(y),g=a("TZXR"),w=n(g);t.default={data:function(){return{scrollOptions:{click:!0},appInfo:{},commentList:[],LatestchangeLog:{},adminCommentList:[],isAppAdmin:!1,currentUserId:"",listId:"a4897429-f4f2-44a4-ade7-2fe8dc67c3cf"}},components:{RScroll:p.default,ChangeLog:_.default,AdminComment:b.default,OtherComment:w.default},watch:{$route:{handler:function(e,t){var a=e.meta,n=void 0===a?{}:a;"APPDETAIL"===e.name&&n.reload&&(this.$loading.show(),e.meta.reload=!1,this.getAppInfo(),this.$refs.changeLog.getChangeList(),this.$refs.adminComment.getAdminComment(),this.$refs.comment.getCommetList(),this.$loading.hide())}}},methods:{getDefaultIcon:function(e){var t=a("CYNT");return e&&(e.icon=t),t},getAppInfo:function(){var e=this;return(0,f.getAppDetail)(this.listId).then(function(t){e.appInfo=t[0],e.appInfo.icon=e.appInfo.icon?"/dist/"+e.appInfo.icon:"",e.appInfo.crtTime=(0,c.default)(e.appInfo.crtTime,"YYYY-MM-DD"),e.appInfo.modTime=(0,c.default)(e.appInfo.modTime,"YYYY-MM-DD")})},getCurrentUser:function(){var e=this;return h.default.currentUser().then(function(t){e.currentUserId=t.userId})}},created:function(){var e=this,t=this.$route.params.listId;t&&(this.$loading.show(),this.listId=t,(0,d.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getCurrentUser();case 2:return t.next=4,e.getAppInfo().then(function(t){var a=(0,o.default)(e.currentUserId);e.appInfo.administratorId.length&&a===e.appInfo.administratorId&&(e.isAppAdmin=!0)});case 4:case"end":return t.stop()}},t,e)}))(),setTimeout(function(){e.$loading.hide()},500))}}},"43aq":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_part"},[e._m(0),e._v(" "),e._l(e.orderInfo.order.dataSet,function(t,n){return a("div",{key:n,staticClass:"form_content",class:{show_border:n!==e.orderInfo.order.dataSet.length-1}},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"名称",cellContent:t.costName_expCode,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"科目",cellContent:t.expSubject}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"费用类型",cellContent:t.costType_expCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"发票类型",cellContent:t.tdInvoiceType}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"申请金额",showSymbol:"",cellContent:e._f("numberComma")(e._f("toFixed")(t.tdAmount),3)}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"不含税金额",showSymbol:"",cellContent:e._f("numberComma")(e._f("toFixed")(t.noTaxAmount),3)}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"税率",cellContent:e._f("toFixed")(t.taxRate)}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"税金",showSymbol:"",cellContent:e._f("numberComma")(e._f("toFixed")(t.taxAmount),3)}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"报销事由",cellContent:t.expCause}})],1)])})],2),e._v(" "),a("div",{staticClass:"price_cell vux-1px-t"},[a("div",{staticClass:"price_title"},[a("span",[e._v("报销人: ")]),e._v(" "),a("span",{staticClass:"people_name"},[e._v(e._s(e.orderInfo.creatorName))])]),e._v(" "),a("div",[a("span",{staticClass:"title"},[e._v("合计:")]),e._v(" "),a("span",{staticClass:"num"},[a("span",{staticStyle:{fontSize:".12rem"}},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(e.count),3)))])])]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("费用列表")])])}],r={render:n,staticRenderFns:i};t.a=r},"46bc":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-part"},e._l(e.BusApps,function(t,n){return a("div",{key:n,staticClass:"each_part"},[Object.values(t.appList).length>0?[a("div",{staticClass:"app-container defalut_bg"},[a("div",{staticClass:"app_classify_name"},[a("p",[e._v(e._s(t.name))])]),e._v(" "),a("div",{staticClass:"app-list"},e._l(t.appList,function(t,n){return t.text?a("div",{key:n,staticClass:"indval_app",on:{click:function(a){e.goList(t.listId,t.text,t.fileID)}}},[[a("div",{staticClass:"app_img"},[a("img",{attrs:{src:t.icon},on:{error:function(a){e.getDefaultIcon(t)}}})]),e._v(" "),a("div",{staticClass:"app_info vux-1px-b"},[a("div",{staticClass:"app_name"},[e._v(e._s(t.text))]),e._v(" "),a("div",{staticClass:"app_detail_btn",on:{click:function(a){a.stopPropagation(),e.goAppDetail(t.listId)}}},[e._v("应用详情")])])]],2):e._e()})),e._v(" "),a("div",{staticClass:"child-list"},e._l(t.appList,function(t,n){return t.childName?a("div",{key:n,staticClass:"each_child"},[a("div",{staticClass:"child_name"},[a("span",{staticClass:"circle"}),e._v(" "),a("span",[e._v(e._s(t.childName))])]),e._v(" "),a("div",{staticClass:"child_apps_list"},e._l(t.childList,function(n,i){return a("div",{key:i,staticClass:"child_apps",on:{click:function(a){e.goList(n.listId,n.text,n.fileID,t.childId)}}},[a("div",{staticClass:"app_img"},[a("img",{attrs:{src:n.icon},on:{error:function(t){e.getDefaultIcon(n)}}})]),e._v(" "),a("div",{staticClass:"app_info vux-1px-b"},[a("div",{staticClass:"app_name"},[e._v(e._s(n.text))]),e._v(" "),a("div",{staticClass:"app_detail_btn",on:{click:function(t){t.stopPropagation(),e.goAppDetail(n.listId)}}},[e._v("应用详情")])])])}))]):e._e()}))])]:e._e()],2)}))},i=[],r={render:n,staticRenderFns:i};t.a=r},"47sn":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("iR2W"),i=function(e){return e&&e.__esModule?e:{default:e}}(n),r=a("Qg39");t.default={name:"MatterItem",props:{item:{type:Object,default:function(){return{}}},isReturnMatter:{type:Boolean,default:!1}},data:function(){return{}},filters:{numberComma:i.default,toFixed:r.toFixed},methods:{getMatterDefault:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t}}}},"49IH":function(e,t,a){"use strict";function n(e){a("0aRt")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("v/5J");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("IJcc"),o=a.n(s),l=a("VaQO"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-7cde84ac",null);t.default=c.exports},"4Apf":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["-moz-box-","-webkit-box-",""];t.default={name:"flexbox-item",props:{span:[Number,String],order:[Number,String]},beforeMount:function(){this.bodyWidth=document.documentElement.offsetWidth},methods:{buildWidth:function(e){return"number"==typeof e?e<1?e:e/12:"string"==typeof e?e.replace("px","")/this.bodyWidth:void 0}},computed:{style:function(){var e={},t="horizontal"===this.$parent.orient?"marginLeft":"marginTop";if(1*this.$parent.gutter!=0&&(e[t]=this.$parent.gutter+"px"),this.span)for(var a=0;a<n.length;a++)e[n[a]+"flex"]="0 0 "+100*this.buildWidth(this.span)+"%";return void 0!==this.order&&(e.order=this.order),e}},data:function(){return{bodyWidth:0}}}},"4B3i":function(e,t,a){"use strict";function n(e){a("LETL")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("NefH");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("ZyBF"),o=a.n(s),l=a("+lJ/"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-72e7dbbc",null);t.default=c.exports},"4CDp":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("iR2W"),d=n(l),u=a("kNGm"),c=n(u),f=a("QHLv"),m=a("0Nk0"),h=n(m);t.default={name:"PopMoneyOrderList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},required:{type:Boolean,default:!1},request:{type:String,default:"0"}},components:{RPopup:h.default},data:function(){return{page:1,limit:10,hasNext:!0,showPop:!1,srhInpTx:"",listData:[],scrollOptions:{pullUpLoad:!0},requestMethods:null}},watch:{show:{handler:function(e){this.showPop=e}},showPop:{handler:function(e){this.$emit("input",e)}}},methods:{selItem:function(e){this.$emit("sel-item",e)},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:"accepter"}])),this.requestMethods({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,o.default)(e.listData),(0,o.default)(r))})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()}},filters:{numberComma:d.default,dateFormat:c.default},created:function(){var e=[f.getInputDraft,f.getCashDiscount,f.getDraftBalance];this.requestMethods=e[this.request],this.getList()}}},"4CTk":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("MgeX"),o=n(s),l=a("HzJ8"),d=n(l),u=a("ZLEe"),c=n(u),f=a("3cXf"),m=n(f),h=a("4YfN"),v=n(h),p=a("KH7x"),C=n(p),_=a("HXPS"),y=n(_),b=a("BGNQ"),g=n(b),w=a("7g+Q"),I=n(w),x=a("z5TY"),D=n(x),P=a("SAzG"),k=n(P),S=a("PzEQ"),T=n(S),L=a("+62G"),N=n(L),M=a("kNGm"),A=n(M),O=a("u28h"),R=n(O),j=a("0AQX"),$=a("HyXB"),B=a("bKg5"),E=n(B),F=a("BUFe"),U=n(F),q=a("VZtf"),Q=n(q),H=a("y8YJ"),V=n(H),X=a("Pb67"),z=n(X),Y=a("yt3/"),W=n(Y),G=a("89pA"),J=n(G),K=a("7cdy"),Z=n(K),ee=a("UrVB"),te=n(ee),ae=a("luHD"),ne=n(ae),ie=a("vl8n"),re=n(ie),se=a("+WR7"),oe=n(se),le=a("zWMP");a("Qg39");t.default={name:"ApplyXSCKForm",mixins:[E.default],directives:{TransferDom:N.default},components:{Icon:y.default,Cell:g.default,Popup:I.default,Group:D.default,XTextarea:T.default,XInput:k.default,RAction:U.default,RNumber:Q.default,PopOrderList:z.default,PopDealerList:V.default,PopSingleSelect:W.default,PopWarehouseList:J.default,PopSodlProjectList:Z.default,PopEntityList:te.default,PopMatter:ne.default,Datetime:R.default,RPicker:re.default,PopBaseinfo:oe.default},data:function(){return{listId:"a1e8592f-63c2-4a31-ba22-9d654484db1d",orderList:{},transMode:[],logisticsTerm:[],showDealerPop:!1,showOrderPop:!1,dealerInfo:{},formData:{drDealerLogisticsTerms:"",biComment:""},submitSuccess:!1,warehouse:null,taxRate:.16,numMap:{},orderParams:{dealerCode:"",whCode:""},transCode:"",formViewUniqueId:"346ede09-ac6a-489a-9242-f385932a4443",biReferenceId:"",actions:[],taskId:"",matterList:[],project:{},entity:{},tmpItems:{},matter:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,contactInfo:{}}},methods:{getPaymentTerm:function(){var e=this;return(0,$.getDictByType)("paymentTerm").then(function(t){var a=t.tableContent;e.transMode=a})},getLogisticsTerms:function(){var e=this;return(0,$.getDictByType)("dealerLogisticsTerms").then(function(t){var a=t.tableContent;e.logisticsTerm=a})},selDealer:function(e){var t=JSON.parse(e),a=(0,C.default)(t,1),n=a[0],i=n.pamentDays,r=i?(0,A.default)(Date.now()+(0,le.accMul)(i,864e5),"YYYY-MM-DD"):"";this.dealerInfo=(0,v.default)({},n,{accountExpirationDate:r}),this.orderParams=(0,v.default)({},this.orderParams,{dealerCode:n.dealerCode}),this.orderList={},this.$refs.order.clearSel()},selContact:function(e){this.contactInfo=(0,v.default)({},e)},selWarehouse:function(e){this.warehouse=JSON.parse(e),this.orderParams=(0,v.default)({},this.orderParams,{whCode:this.warehouse.warehouseCode}),this.orderList={},this.$refs.order.clearSel()},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,m.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.inventoryCode!==e.inventoryCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getMatter:function(){if(!this.dealerInfo.dealerCode)return void this.$vux.alert.show({content:"请选择客户"});this.showMaterielPop=!this.showMaterielPop},selOrder:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){var a=e.transCode+"_"+e.inventoryCode,i=t.numMap[a]||{},r=i.tdQty,s=void 0===r?"":r,o=i.price,l=void 0===o?e.quotedPrice:o,d=i.taxRate,u=void 0===d?.16:d,c=i.promDeliTime,f=void 0===c?(0,A.default)(e.promDeliTime,"YYYY-MM-DD"):c;e.tdQty=s,e.price=l,e.taxRate=u,e.promDeliTime=f,n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},delClick:function(e,t,a){var n=this.selItems,i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode&&e.transCode===t.transCode});if(-1!==i)return void n.splice(i,1);n.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,c.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});i>=0&&(e.$refs.order.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,d.default)((0,o.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,l=!1,u=void 0;try{for(var c,f=(0,d.default)(r);!(s=(c=f.next()).done);s=!0){var m=c.value;this.numMap[m.transCode+"_"+m.inventoryCode]={tdQty:m.tdQty,price:m.price,taxRate:m.taxRate,promDeliTime:m.promDeliTime}}}catch(e){l=!0,u=e}finally{try{!s&&f.return&&f.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="",a=[],n=[{key:"warehouse",message:"仓库"}];this.dealerInfo.dealerCode?this.dealerInfo.paymentTerm||(t="请选择结算方式"):t="请选择客户信息",t||n.every(function(a){return!!e[a.key]||(t="请选择"+a.message,!1)}),t||(0,c.default)(this.orderList).length||(t="请选择物料");var i=!0,s=!1,l=void 0;try{for(var u,f=(0,d.default)((0,o.default)(this.orderList));!(i=(u=f.next()).done);i=!0){var h=u.value,p=!0,C=!1,_=void 0;try{for(var y,b=(0,d.default)(h);!(p=(y=b.next()).done);p=!0){var g=y.value;if(!g.tdQty){t="请填写数量";break}if(!g.price){t="请填写单价";break}var w=g.taxRate||this.taxRate,I=(0,le.accMul)(g.price,g.tdQty,w),x={transMatchedCode:g.transCode,orderCode:g.transCode,outPutMatCode:g.inventoryCode,orderProCode:g.inventoryCode,tdProcessing:g.processing,assMeasureUnit:void 0!==g.assMeasureUnit?g.assMeasureUnit:null,assMeasureScale:void 0!==g.assMeasureScale?g.assMeasureScale:null,dealerInventoryName:g.clientInventoryName,dealerInventoryCode:g.clientInventoryCode,thenTotalQtyBal:g.qty,thenLockQty:g.stockQty,thenQtyBal:g.qtyBal,thenQtyStock:g.qtyStockBal,assistQty:g.assistQty||0,tdQty:g.tdQty,price:g.price,taxRate:w,taxAmount:I,tdAmount:(0,le.accAdd)((0,le.accMul)(g.price,g.tdQty),I),promDeliTime:g.promDeliTime||"",comment:g.comment||""};this.transCode&&(x.tdId=g.tdId||""),a.push(x)}}catch(e){C=!0,_=e}finally{try{!p&&b.return&&b.return()}finally{if(C)throw _}}}}catch(e){s=!0,l=e}finally{try{!i&&f.return&&f.return()}finally{if(s)throw l}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=$.saveAndStartWf,n={},i=(0,r.default)({},e.processCode,{businessKey:"SODL",createdBy:""});n=(0,v.default)({},e.formData,{modifer:e.transCode?e.formData.handler:"",dealerDebitContactPersonName:e.contactInfo.dealerName||"",dealerDebitContactInformation:e.contactInfo.dealerMobilePhone||"",containerOutWarehouseManager:e.warehouse.containerOutWarehouseManager||null,handlerEntity:e.entity.dealerName,drDealerLogisticsTerms:e.dealerInfo.dealerLogisticsTerms,outPut:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName||"客户",drDealerPaymentTerm:e.dealerInfo.paymentTerm,daysOfAccount:e.dealerInfo.pamentDays,accountExpirationDate:e.dealerInfo.accountExpirationDate,containerCodeOut:e.warehouse.warehouseCode,project:e.project.projectName,departmentName:e.formData.handlerUnitName,dataSet:a}}),e.transCode&&(t=$.saveAndCommitTask,i={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var s={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,m.default)(n),wfPara:(0,m.default)(i)};e.transCode||delete s.biReferenceId,e.processCode.length||(t=$.submitAndCalc,delete s.wfPara,delete s.biReferenceId),e.biReferenceId&&(s.biReferenceId=e.biReferenceId),e.saveData(t,s)}})},getFormData:function(){var e=this;return(0,j.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=o;var l={},u=r.outPut,c=u.dataSet,f=void 0===c?[]:c,m=!0,h=!1,p=void 0;try{for(var C,_=(0,d.default)(f);!(m=(C=_.next()).done);m=!0){var y=C.value;y=(0,v.default)({},y,{transCode:y.transMatchedCode,qtyBal:y.thenQtyBal,qtyStockBal:y.thenQtyStock,inventoryPic:y.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+y.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:y.inventoryName_outPutMatCode,inventoryCode:y.outPutMatCode,specification:y.specification_outPutMatCode,processing:y.tdProcessing,qty:y.thenTotalQtyBal,stockQty:y.thenLockQty,clientInventoryName:y.dealerInventoryName,clientInventoryCode:y.dealerInventoryCode}),l[y.transCode]||(l[y.transCode]=[]),l[y.transCode].push(y)}}catch(e){h=!0,p=e}finally{try{!m&&_.return&&_.return()}finally{if(h)throw p}}e.matterList=f,e.dealerInfo={creatorName:r.dealerDebitContactPersonName,dealerName:u.dealerName_dealerDebit,dealerMobilePhone:r.dealerDebitContactInformation,dealerCode:u.dealerDebit,dealerLabelName:u.drDealerLabel,province:u.province_dealerDebit,city:u.city_dealerDebit,county:u.county_dealerDebit,address:u.address_dealerDebit,paymentTerm:u.drDealerPaymentTerm,dealerLogisticsTerms:r.drDealerLogisticsTerms,pamentDays:u.daysOfAccount,accountExpirationDate:u.accountExpirationDate},e.contactInfo={dealerName:r.dealerDebitContactPersonName,dealerMobilePhone:r.dealerDebitContactInformation},e.warehouse={warehouseCode:u.containerCodeOut,warehouseName:u.warehouseName_containerCodeOut,warehouseType:u.warehouseType_containerCodeOut,warehouseProvince:u.warehouseProvince_containerCodeOut,warehouseCity:u.warehouseCity_containerCodeOut,warehouseDistrict:u.warehouseDistrict_containerCodeOut,warehouseAddress:u.warehouseAddress_containerCodeOut,containerOutWarehouseManager:r.containerOutWarehouseManager},e.orderParams={dealerCode:e.dealerInfo.dealerCode,whCode:e.warehouse.warehouseCode},e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,v.default)({},e.formData,e.handlerDefault,{biComment:r.biComment,biId:r.biId,biProcessStatus:r.biProcessStatus,creator:r.creator,modifer:r.modifer,drDealerLogisticsTerms:r.drDealerLogisticsTerms}),e.project={projectName:u.project},e.biReferenceId=r.biReferenceId,e.orderList=l,e.$loading.hide()})},hasDraftData:function(){return!!(0,o.default)(this.orderList).length&&(0,r.default)({},"XSCK_DATA",{orderList:this.orderList,warehouse:this.warehouse,dealerInfo:this.dealerInfo,contactInfo:this.contactInfo,formData:this.formData,project:this.project})},getRelationData:function(){var e=this,t=this.$route.query.uniqueId;return(0,j.getSOList)({formViewUniqueId:t,transCode:this.relationKey}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i;t.attachment;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});r.order;e.dealerInfo={creatorName:r.dealerDebitContactPersonName,dealerMobilePhone:r.dealerDebitContactInformation,dealerCode:r.order.dealerDebit,dealerSubclass:r.order.drAccountSub,dealerName:r.order.dealerName_dealerDebit,province:r.order.province_dealerDebit,city:r.order.city_dealerDebit,county:r.order.county_dealerDebit,address:r.order.address_dealerDebit,paymentTerm:r.order.drDealerPaymentTerm},e.orderParams={dealerCode:e.dealerInfo.dealerCode},e.$loading.hide()})}},created:function(){var e=sessionStorage.getItem("XSCK_DATA");if(e){var t=JSON.parse(e);this.orderList=t.orderList,this.warehouse=t.warehouse,this.dealerInfo=t.dealerInfo,this.contactInfo=t.contactInfo,this.formData=t.formData,this.project=t.project,this.orderParams={dealerCode:this.dealerInfo.dealerCode,whCode:this.warehouse.warehouseCode},sessionStorage.removeItem("XSCK_DATA")}}}},"4D87":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"RDate",props:{title:{type:String,default:""},value:{type:String,default:""},required:{type:Boolean,default:!1},placeholder:{type:String,default:""},startDate:{type:String,default:""},endDate:{type:String,default:""}},data:function(){return{time:""}},watch:{value:{handler:function(e){this.time=e},immediate:!0}},methods:{clickDateSelect:function(){var e=this;this.$vux.datetime.show({confirmText:"确定",cancelText:"取消",value:this.time,startDate:this.startDate,endDate:this.endDate,onConfirm:function(t){e.time=t,e.$emit("input",t)}})}}}},"4Gt7":function(e,t){},"4HCx":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("kNGm"),r=(n(i),a("0AQX")),s=a("+VRO"),o=n(s);t.default={data:function(){return{userData:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},uploadStyle:{width:"100%",padding:"0.06rem 0.1rem"}}},mixins:[o.default],methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,r.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=o,e.userData=r,e.workFlowInfoHandler()})},goEdit:function(){var e=this.$route.params,t=e.fileId,a=e.listId,n=this.$route.query.name;this.$router.push({path:"/fillform/"+t+"/"+a,query:{name:n,transCode:this.transCode}})}}}},"4LeJ":function(e,t){},"4Lz6":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper xsck-detail-container"},[e.orderInfo&&e.orderInfo.outPut?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("project-part",{attrs:{"project-info":e.orderInfo.outPut}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"contacts_part"},[a("contact-part",{attrs:{"contact-info":e.dealerInfo,hasClass:!1}},[a("template",{slot:"other"},[a("div",{staticClass:"other"},[a("span",{staticClass:"title"},[e._v("账期天数: ")]),e._v(" "),a("span",{staticClass:"mode"},[e._v(e._s(e.dealerInfo.pamentDays||"暂无"))])]),e._v(" "),a("div",{staticClass:"other"},[a("span",{staticClass:"title"},[e._v("账期到期日: ")]),e._v(" "),a("span",{staticClass:"mode"},[e._v(e._s(e.dealerInfo.accountExpirationDate||"暂无"))])])])],2),e._v(" "),a("warehouse-content",{staticClass:"vux-1px-t",attrs:{warehouse:e.warehouse}})],1),e._v(" "),a("matter-list",{attrs:{"order-list":e.orderList,noTaxAmount:e.noTaxAmount,taxAmount:e.taxAmount,count:e.count},scopedSlots:e._u([{key:"matterOther",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("单价: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.price),3)))]),e._v(" "),a("span",[e._v("出库数量: "+e._s(e._f("toFixed")(n.tdQty)))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.taxRate,expression:"item.taxRate"}]},[e._v("税率: "+e._s(n.taxRate))])]),e._v(" "),n.promDeliTime?a("div",{staticClass:"mater_attribute"},[a("span",[e._v("预期交货日: "+e._s(n.promDeliTime))])]):e._e(),e._v(" "),a("div",{staticClass:"mater_num"},[a("span",{staticClass:"num"},[e._v("订单数量: "+e._s(n.thenTotalQtyBal))]),e._v(" "),a("span",{staticClass:"num"},[e._v("已出库数量: "+e._s(n.thenLockQty))]),e._v(" "),a("span",{staticClass:"num"},[e._v("在库库存: "+e._s(n.thenQtyStock))]),e._v(" "),a("span",{staticClass:"num"},[e._v("待出库数量: "+e._s(n.thenQtyBal))])]),e._v(" "),a("div",{staticClass:"mater_price"},[a("span",[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(n.tdAmount),3)))]),e._v(" "),n.taxRate?a("span",{staticClass:"num",style:{display:n.tdAmount&&n.tdAmount.toString().length>=7?"block":""}},[e._v("\n                [金额: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.noTaxAmount),3))+" + 税金: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.taxAmount),3))+"]\n              ")]):e._e()])])]}}])}),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},"4NWw":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),m=a("89pA"),h=n(m),v=a("hPJo"),p=n(v),C=a("3NX5"),_=n(C);t.default={data:function(){return{warehouseIn:{},formViewUniqueId:"064e455d-4277-473a-9e54-d9ae4b1f23be"}},mixins:[l.default],components:{workFlow:f.default,PopWarehouseList:h.default,RAction:u.default,WarehouseContent:p.default,MatterList:_.default},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.inPut,n=void 0===a?{}:a,i=n.dataSet,s=!0,o=!1,l=void 0;try{for(var d,u=(0,r.default)(i);!(s=(d=u.next()).done);s=!0){var c=d.value;c.inventoryPic=c.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+c.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){o=!0,l=e}finally{try{!s&&u.return&&u.return()}finally{if(o)throw l}}e.warehouseIn={warehouseCode:n.containerCode,warehouseName:n.warehouseName_containerCode,warehouseType:n.warehouseType_containerCode,warehouseProvince:n.warehouseProvince_containerCode,warehouseCity:n.warehouseCity_containerCode,warehouseDistrict:n.warehouseDistrict_containerCode,warehouseAddress:n.warehouseAddress_containerCode},e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},"4PXy":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("r-popup",{ref:"RPopup",staticClass:"pop-facility-list",attrs:{show:e.showPop,data:e.listData,options:e.scrollOptions,"has-next":e.hasNext,"default-value":e.selItems,"judge-keys":e.judgeKeys,"filter-list":e.filterList,multipart:""},on:{"on-pulling-up":e.onPullingUp,"on-select":e.selItem,"on-search":e.searchList},scopedSlots:e._u([{key:"pop-item",fn:function(t){var n=t.item;t.index;return[n.transCode?a("div",{staticClass:"order-code"},[a("span",{staticClass:"order-title"},[e._v(e._s(e.defaultTitle))]),e._v(" "),a("span",{staticClass:"order-num"},[e._v(e._s(n.transCode))])]):e._e(),e._v(" "),a("div",{staticClass:"order-matter"},[a("div",{staticClass:"mater_img"},[a("img",{attrs:{src:n.inventoryPic,alt:"mater_img"},on:{error:function(t){e.getDefaultImg(n)}}})]),e._v(" "),a("div",{staticClass:"mater_main "},[a("div",{staticClass:"mater_name"},[e._v("\n          "+e._s(n.facilityName)+"\n        ")]),e._v(" "),a("div",{staticClass:"mater_info"},[a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline",staticStyle:{display:"inline-block"}},[a("div",{staticClass:"mater_code"},[a("span",{staticClass:"title"},[e._v("编码")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(n.facilityCode))])])]),e._v(" "),a("div",{staticClass:"ForInline",staticStyle:{display:"inline-block"}},[a("div",{staticClass:"mater_spec"},[a("span",{staticClass:"title"},[e._v("规格")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(n.facilitySpecification||"无"))])])])]),e._v(" "),a("div",{staticClass:"withoutColor"},[a("div",{staticClass:"mater_classify"},[a("span",{staticClass:"father"},[e._v("类型: "+e._s(n.facilityType||"无"))]),e._v(" "),a("span",[e._v("单位: "+e._s(n.facilityUnit))])]),e._v(" "),a("div",{staticClass:"mater_classify"},[a("span",{staticClass:"father"},[e._v("大类: "+e._s(n.facilityBigType||"无"))]),e._v(" "),a("span",{staticClass:"father"},[e._v("子类: "+e._s(n.facilitySubclass||"无"))]),e._v(" "),a("span",{staticClass:"father"},[e._v("设施厂商: "+e._s(n.facilityManufacturer||"无"))]),e._v(" "),a("span",{staticClass:"father"},[e._v("折旧摊销月数: "+e._s(n.facilityDepreciation||0))]),e._v(" "),a("span",[e._v("预留残值比例: "+e._s(n.facilityResidualRatio||"无"))])]),e._v(" "),e._t("storage",null,{item:n})],2)])])])]}}]),model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}})},i=[],r={render:n,staticRenderFns:i};t.a=r},"4UGw":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"childPage"},[a("div",{staticClass:"content"},[a("div",{staticClass:"mater_baseinfo vux-1px-b"},[a("div",{staticClass:"mater_property"},[a("div",{staticClass:"each_property vux-1px-b "},[a("label",{staticClass:"required"},[e._v("往来编码:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.dealer.dealerCode,expression:"dealer.dealerCode"}],staticClass:"property_val",class:{readonly:""!==e.transCode},attrs:{type:"text",readonly:""!==e.transCode},domProps:{value:e.dealer.dealerCode},on:{input:function(t){t.target.composing||e.$set(e.dealer,"dealerCode",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"each_property required"},[a("label",{staticClass:"required"},[e._v("往来名称:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.dealer.dealerName,expression:"dealer.dealerName"}],staticClass:"property_val",attrs:{type:"text"},domProps:{value:e.dealer.dealerName},on:{input:function(t){t.target.composing||e.$set(e.dealer,"dealerName",t.target.value)}}})])]),e._v(" "),a("upload-image",{attrs:{src:e.MatPic},on:{"on-upload":e.onUpload,"on-error":e.getDefaultImg}})],1),e._v(" "),a("div",{staticClass:"each_property vux-1px-b",on:{click:e.DealerPop}},[a("label",[e._v("往来类型")]),e._v(" "),a("div",{staticClass:"picker"},[a("span",{staticClass:"mater_nature"},[e._v(e._s(e.dealer.dealerLabelName))]),e._v(" "),a("span",{staticClass:"iconfont icon-gengduo"})])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b",on:{click:function(t){e.showAddress=!0}}},[a("label",[e._v("省市区:")]),e._v(" "),a("div",{staticClass:"picker"},[a("span",{staticClass:"mater_nature"},[e._v(e._s(e.dealer.province)+e._s(e.dealer.city)+e._s(e.dealer.county))]),e._v(" "),a("span",{staticClass:"iconfont icon-gengduo"})]),e._v(" "),a("x-address",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{title:"省市区:",list:e.addressData,value:e.AccountAddress,show:e.showAddress},on:{"on-hide":function(t){e.getAddress(t)},"on-shadow-change":e.changeAddress,"update:show":function(t){e.showAddress=t}}})],1),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("详细地址:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.dealer.address,expression:"dealer.address"}],staticClass:"property_val",attrs:{type:"text"},domProps:{value:e.dealer.address},on:{input:function(t){t.target.composing||e.$set(e.dealer,"address",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("固定电话:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.dealer.dealerPhone,expression:"dealer.dealerPhone"}],staticClass:"property_val",attrs:{type:"text"},domProps:{value:e.dealer.dealerPhone},on:{blur:e.checkPhone,input:function(t){t.target.composing||e.$set(e.dealer,"dealerPhone",t.target.value)}}}),e._v(" "),e.PhoneWarn?a("icon",{staticClass:"warn",attrs:{type:"warn"}}):e._e()],1),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("手机:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.dealer.dealerMobilePhone,expression:"dealer.dealerMobilePhone"}],staticClass:"property_val",attrs:{type:"number"},domProps:{value:e.dealer.dealerMobilePhone},on:{blur:e.checkMobile,input:function(t){t.target.composing||e.$set(e.dealer,"dealerMobilePhone",t.target.value)}}}),e._v(" "),e.MobileWarn?a("icon",{staticClass:"warn",attrs:{type:"warn"}}):e._e()],1),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("电子邮件:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.dealer.dealerMail,expression:"dealer.dealerMail"}],staticClass:"property_val",attrs:{type:"text"},domProps:{value:e.dealer.dealerMail},on:{blur:e.checkEmail,input:function(t){t.target.composing||e.$set(e.dealer,"dealerMail",t.target.value)}}}),e._v(" "),e.EmailWarn?a("icon",{staticClass:"warn",attrs:{type:"warn"}}):e._e()],1),e._v(" "),a("r-picker",{attrs:{title:"往来状态:",data:e.statusList,value:e.dealerStatus},model:{value:e.dealerStatus,callback:function(t){e.dealerStatus=t},expression:"dealerStatus"}})],1),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{position:"bottom",height:"50%"},on:{"on-show":e.onShow},model:{value:e.pickerStatus,callback:function(t){e.pickerStatus=t},expression:"pickerStatus"}},[a("div",{staticClass:"trade_pop"},[a("r-scroll",{ref:"bScroll",staticClass:"dealer_list",attrs:{options:e.scrollOptions}},e._l(e.AccountRelType,function(t,n){return a("div",{key:n,staticClass:"dealer_type vux-1px-b",on:{click:function(a){e.selectType(t)}}},[a("div",{staticClass:"dealer_name"},[e._v(e._s(t.name))]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"checked"},[a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-checkmark-empty",attrs:{type:"ios-checkmark-empty",size:"30",xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M223.9 329.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])])}))],1),e._v(" "),a("div",{staticClass:"count_mode vux-1px-t"},[a("span",{staticClass:"count_num"},[e._v(" "+e._s(e.dealerType.length?"已选 "+e.dealerType.length+" 个":"请选择")+" ")]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.cfmMater}},[e._v("确定")])])])],1),e._v(" "),a("div",{staticClass:"vux-1px-t btn "},[a("div",{staticClass:"cfm_btn",class:{disabled:e.disabledSubmit},on:{click:e.save}},[e._v("\n      "+e._s(this.transCode?"保存":"提交")+"\n    ")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},"4XVd":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getUserList=t.unsubscribeApp=t.subscribeApp=t.isSubscribeByRelationKey=t.savePraise=t.saveComment=t.getReply=t.getCommentList=t.getPCCommentList=void 0;var i=a("3cXf"),r=n(i),s=a("4YfN"),o=n(s),l=a("GOq4"),d=n(l),u=t.getPCCommentList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/comment/getCommentByRelationKey",data:(0,o.default)({sort:(0,r.default)([{property:"crtTime",direction:"DESC"}]),page:1,limit:10,total:0},e)})},c=(t.getCommentList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/ds/getMobileCommentByTransCode",data:(0,o.default)({page:1,limit:10},e)})},t.getReply=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/comment/getCommentByParentId",data:(0,o.default)({sort:(0,r.default)([{property:"crtTime",direction:"ASC"}]),parentId:145657,page:1,limit:10},e)})},t.saveComment=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.post({url:"/H_roleplay-si/comment/saveComment",data:(0,o.default)({commentAndReply:!1,commentAttachments:[]},e)})}),f=t.savePraise=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return d.default.post({url:"/H_roleplay-si/comment/savePraise",data:{commentId:e}})};t.isSubscribeByRelationKey=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return d.default.ajax({url:"/H_roleplay-si/comment/isSubscribeByRelationKey",data:{relationKey:e}})},t.subscribeApp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({type:"POST",contentType:"application/x-www-form-urlencoded",url:"/H_roleplay-si/comment/subscribeApp",data:e})},t.unsubscribeApp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({type:"POST",contentType:"application/x-www-form-urlencoded",url:"/H_roleplay-si/comment/unsubscribeAppByRelationKey",data:e})},t.getUserList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/comment/getUserByRelationKey",data:e})};t.default={getCommentList:u,saveComment:c,savePraise:f}},"4YLJ":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vux-toast"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowMask&&e.show,expression:"isShowMask && show"}],staticClass:"weui-mask_transparent"}),e._v(" "),a("transition",{attrs:{name:e.currentTransition}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"weui-toast",class:e.toastClass,style:{width:e.width}},[a("i",{directives:[{name:"show",rawName:"v-show",value:"text"!==e.type,expression:"type !== 'text'"}],staticClass:"weui-icon-success-no-circle weui-icon_toast"}),e._v(" "),e.text?a("p",{staticClass:"weui-toast__content",style:e.style,domProps:{innerHTML:e._s(e.text)}}):a("p",{staticClass:"weui-toast__content",style:e.style},[e._t("default")],2)])])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"4ahp":function(e,t){},"4bt0":function(e,t,a){"use strict";function n(e){a("KxAj")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("l5aY");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("juMk"),o=a.n(s),l=a("da6f"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-05419057",null);t.default=c.exports},"4cUA":function(e,t,a){"use strict";function n(e){a("UWkS")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("16Vu");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("FOog"),o=a.n(s),l=a("2mHI"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-c42f88dc",null);t.default=c.exports},"4eDc":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("KH7x"),r=n(i),s=a("IHPB"),o=n(s),l=a("rVsN"),d=n(l),u=a("lC5x"),c=n(u),f=a("J0Oq"),m=n(f),h=a("3cXf"),v=n(h),p=a("4YfN"),C=n(p),_=a("8VZL"),y=n(_),b=a("HXPS"),g=n(b),w=a("fQz5"),I=n(w),x=a("Iu/6"),D=n(x),P=a("6q39"),k=n(P),S=a("hFVz"),T=n(S),L=a("I8ug"),N=a("7biW"),M=n(N),A=a("1KNX"),O=n(A);t.default={data:function(){return{listId:"c0375170-d537-4f23-8ed0-a79cf75f5b04",dealerList:[],srhInpTx:"",activeIndex:0,tabItem:"全部",dealerClassfiy:[],uniqueId:"7f01c808-d338-4711-8c99-319337078cc1",page:1,limit:20,id:"",hasNext:!0,scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0},total:null,clickVisited:!1,action:{}}},components:{Tab:y.default,Icon:g.default,TabItem:I.default,Spinner:D.default,LoadMore:k.default,RScroll:O.default,searchIcon:M.default},methods:{resetCondition:function(){this.dealerList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.resetPullDown()},tabClick:function(e,t){this.tabItem=e.title,this.activeIndex=t,this.uniqueId=e.uniqueId,this.resetCondition(),this.$refs.bScroll.scrollTo(0,0),this.getDealer()},searchList:function(e){var t=e.val,a=void 0===t?"":t;e.property;this.srhInpTx=a,this.resetCondition(),this.getDealer()},goNextPage:function(e,t,a){var n=this;this.clickVisited||(this.clickVisited=!0,e.visited=!0,this.$set(this.dealerList,t,(0,C.default)({},e)),setTimeout(function(){n.clickVisited=!1;var t={transCode:e.transCode};e.transCode||"/adress/edit_ads"!==a||"全部"===n.tabItem||(t.dealerType=n.tabItem),n.$router.push({path:a,query:t})},200))},goEditAds:function(e,t){this.goNextPage(e,t,"/adress/edit_ads")},goDetail:function(e,t){this.goNextPage(e,t,"/adress/adressDetail")},getDealer:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=void 0;""!==this.srhInpTx&&(a=[{operator:"like",value:this.srhInpTx,property:"creatorName",attendedOperation:"or"},{operator:"like",value:this.srhInpTx,property:"dealerName"}]);var n={limit:this.limit,page:this.page,start:(this.page-1)*this.limit};return a&&(n.filter=(0,v.default)(a)),(0,m.default)(c.default.mark(function a(){return c.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,T.default.getId(e.uniqueId).then(function(t){t.length>0&&(e.id=t[0].id)}).catch(function(t){e.$vux.alert.show({content:t.message})});case 2:return a.next=4,T.default.getDealerList(e.id,n).then(function(a){var n=a.dataCount,i=void 0===n?0:n,r=a.tableContent,s=void 0===r?[]:r,o="";t&&0===e.activeIndex&&e.total&&(o=i-e.total==0?"暂无新数据":"新增"+(i-e.total)+"条数据",e.$vux.toast.show({text:o,position:"top",width:"50%",type:"text",time:700})),0===e.activeIndex&&1===e.page&&sessionStorage.setItem("DL",i),e.dealerList=1===e.page?s:e.dealerList.concat(s),e.hasNext=i>(e.page-1)*e.limit+s.length,t||e.$nextTick(function(){e.resetScroll()})}).catch(function(t){e.resetScroll()});case 4:case"end":return a.stop()}},a,e)}))()},getClassfiy:function(){var e=this;T.default.getDealerClassfiy(this.page).then(function(t){t.map(function(e){"往来对象"===e.title&&(e.title="全部")}),e.dealerClassfiy=t}).catch(function(t){e.$vux.alert.show({content:t.message})})},resetScroll:function(){this.$refs.bScroll.finishPullDown(),this.$refs.bScroll.finishPullUp()},onPullingUp:function(){this.page++,this.getDealer()},onPullingDown:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.page=1,e)return void this.getData(!0);this.getData()},getSession:function(){var e=this;return new d.default(function(t){e.total=sessionStorage.getItem("DL"),t()})},getData:function(e){var t=this;return(0,m.default)(c.default.mark(function a(){return c.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getSession();case 2:if(!e){a.next=6;break}return a.next=5,t.getDealer(!0).then(function(){t.$nextTick(function(){t.$refs.bScroll.finishPullDown().then(function(){t.$refs.bScroll.finishPullUp()})})});case 5:return a.abrupt("return");case 6:return a.next=8,t.getDealer();case 8:case"end":return a.stop()}},a,t)}))()},changeVisitedStatus:function(){var e=this;setTimeout(function(){var t=[].concat((0,o.default)(e.dealerList));t.forEach(function(e){e.visited=!1}),e.dealerList=t},200)},getAppDetail:function(){var e=this;return(0,L.getAppDetail)(this.listId).then(function(t){var a=(0,r.default)(t,1),n=a[0],i=void 0===n?{}:n,s=i.action;e.action=s})}},watch:{$route:{handler:function(e,t){var a=e.path,n=void 0===a?"":a,i=e.meta,r=void 0===i?{}:i;if("/adress"===n&&(this.changeVisitedStatus(),r.reload)){if(e.meta.reload=!1,this.uniqueId="7f01c808-d338-4711-8c99-319337078cc1",this.srhInpTx="",this.activeIndex=0,this.resetCondition(),t.query.transCode)return void this.onPullingDown(!1);this.onPullingDown()}}}},created:function(){this.getAppDetail(),this.getClassfiy(),this.getData(!1)}}},"4evt":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2362,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"成品名称",value:"inventoryName_transObjCode"}]}},mixins:[i.default]}},"4hfg":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("HyXB"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2243,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}]}},mixins:[i.default],methods:{},created:function(){}}},"4ixO":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("MgeX"),o=n(s),l=a("HzJ8"),d=n(l),u=a("ZLEe"),c=n(u),f=a("3cXf"),m=n(f),h=a("KH7x"),v=n(h),p=a("4YfN"),C=n(p),_=a("SAzG"),y=n(_),b=a("u28h"),g=(n(b),a("PzEQ")),w=n(g),I=a("kNGm"),x=(n(I),a("0AQX")),D=a("HyXB"),P=a("bKg5"),k=n(P),S=a("y8YJ"),T=n(S),L=a("I5id"),N=n(L),M=a("luHD"),A=n(M),O=a("VZtf"),R=n(O),j=a("vl8n"),$=n(j),B=a("+WR7"),E=n(B),F=a("zWMP");a("Qg39");t.default={name:"ApplySBCGYSForm",data:function(){return{listId:"64c5afbc-c075-11e8-85e2-b06ebfc41432",srhInpTx:"",orderList:{},matterList:[],transMode:["现付","预付","账期","票据"],showDealerPop:!1,dealerInfo:{},contactInfo:{},formData:{biId:"",biComment:""},submitSuccess:!1,taxRate:.16,numMap:{},transCode:"",formViewUniqueId:"fed81800-4c34-44a9-b517-c3fd9f2ab57d",biReferenceId:"",actions:[],taskId:"",showOrderPop:!1,tmpItems:{},matter:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,filterList:[{name:"交易号",value:"transCode"},{name:"设施名称",value:"facilityName"},{name:"设施编码",value:"facilityCode"}],facilityParams:{}}},mixins:[k.default],components:{XInput:y.default,RNumber:R.default,XTextarea:w.default,PopMatter:A.default,RPicker:$.default,PopDealerList:T.default,PopBaseinfo:E.default,PopFacilityList:N.default},methods:{selItem:function(e){this.formData=(0,C.default)({},this.formData,e)},getPaymentTerm:function(){var e=this;return(0,D.getDictByType)("paymentTerm").then(function(t){var a=t.tableContent;e.transMode=a})},selDealer:function(e){var t=JSON.parse(e),a=(0,v.default)(t,1),n=a[0];this.dealerInfo=(0,C.default)({},n),this.matterList=[],this.orderList={},this.facilityParams={dealerCode:n.dealerCode}},selContact:function(e){this.contactInfo=(0,C.default)({},e)},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,m.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selMatter:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){var a=e.transCode+"_"+e.facilityCode,i=t.numMap[a]||{},r=i.price,s=void 0===r?"":r,o=i.taxRate,l=void 0===o?.16:o;e.tdQty=e.qtyBal,e.taxRate=l,s.length&&(e.price=s),n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.facilityCode!==e.facilityCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.facilityCode===t.facilityCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.facilityCode===e.facilityCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,c.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.facilityCode===a.facilityCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.facilityCode===t.facilityCode});i>=0&&(e.$refs.matter.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.facilityCode===a.facilityCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,d.default)((0,o.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,l=!1,u=void 0;try{for(var c,f=(0,d.default)(r);!(s=(c=f.next()).done);s=!0){var m=c.value;this.numMap[m.transCode+"_"+m.facilityCode]=(0,C.default)({},m)}}catch(e){l=!0,u=e}finally{try{!s&&f.return&&f.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerCode||(t="请选择供应商信息"),t||this.matterList.length||(t="请选择设施"),t||this.matterList.every(function(n){if(!n.price)return t="单价不能为空",!1;if(!n.tdQty&&0!==n.tdQty)return t="数量不能为空",!1;var i=n.taxRate||e.taxRate,r=(0,F.accMul)(n.price,n.tdQty,i),s={transMatchedCode:n.transCode,facilityObjCode:n.facilityCode,facilityType:n.facilityType,thenTotalQtyBal:n.qty,thenLockQty:n.purchased,thenQtyBal:n.qtyBal||0,tdQty:n.tdQty,price:n.price,taxRate:i,taxAmount:r,tdAmount:(0,F.accAdd)((0,F.accMul)(n.price,n.tdQty),r),comment:n.comment||""};return e.transCode&&(s.tdId=n.tdId||null),a.push(s),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=D.saveAndStartWf,n={},i=(0,r.default)({},e.processCode,{businessKey:"POPI",createdBy:""});n=(0,C.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",dealerCreditContactPersonName:e.contactInfo.dealerName||"",dealerCreditContactInformation:e.contactInfo.dealerMobilePhone||"",order:{dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName||"供应商",dataSet:a}}),e.transCode&&(t=D.saveAndCommitTask,i={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var s={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,m.default)(n),wfPara:(0,m.default)(i)};e.transCode||delete s.biReferenceId,e.processCode.length||(t=D.submitAndCalc,delete s.wfPara,delete s.biReferenceId),e.biReferenceId&&(s.biReferenceId=e.biReferenceId),e.saveData(t,s)}})},getFormData:function(){var e=this;return(0,x.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=o;var l=r.order,u=(r.dealerDebit,l.dataSet),c=void 0===u?[]:u,f={},m=[],h=!0,v=!1,p=void 0;try{for(var _,y=(0,d.default)(c);!(h=(_=y.next()).done);h=!0){var b=_.value;b=(0,C.default)({},b,{transCode:b.transMatchedCode,inventoryPic:b.inventoryPic_facilityObjCode?"/H_roleplay-si/ds/download?url="+b.inventoryPic_facilityObjCode+"&width=400&height=400":e.getDefaultImg(),facilityName:b.facilityName_facilityObjCode,facilityCode:b.facilityCode_facilityObjCode,facilityBigType:b.facilityBigType_facilityObjCode,facilitySubclass:b.facilitySubclass_facilityObjCode,facilityUnit:b.facilityUnit_facilityObjCode,qty:b.thenTotalQtyBal,purchased:b.thenLockQty,qtyBal:b.thenQtyBal}),f[b.transCode]||(f[b.transCode]=[]),m.push(b),f[b.transCode].push(b)}}catch(e){v=!0,p=e}finally{try{!h&&y.return&&y.return()}finally{if(v)throw p}}e.dealerInfo={dealerName:l.dealerName_dealerCodeCredit,dealerMobilePhone:r.dealerCreditContactInformation,dealerCode:l.dealerCodeCredit,dealerLabelName:l.crDealerLabel,province:l.province_dealerCodeCredit,city:l.city_dealerCodeCredit,county:l.county_dealerCodeCredit,address:l.address_dealerCodeCredit},e.contactInfo={dealerName:r.dealerCreditContactPersonName,dealerMobilePhone:r.dealerCreditContactInformation},e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,C.default)({},e.formData,e.handlerDefault,{creator:r.creator,biId:r.biId,biComment:r.biComment}),e.biReferenceId=r.biReferenceId,e.matterList=m,e.orderList=f,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,r.default)({},"SBCGYS_DATA",{matter:this.matterList,dealer:this.dealerInfo,formData:this.formData,contactInfo:this.contactInfo})},getRelationData:function(){var e=this,t=this.$route.query.uniqueId;return(0,x.getSOList)({formViewUniqueId:t,transCode:this.relationKey}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i;t.attachment;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var o=s.order,l=(s.dealerDebit,o.dataSet),d=void 0===l?[]:l;d=d.map(function(t){return(0,C.default)({},t,{inventoryPic:t.inventoryPic_facilityObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_facilityObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_facilityObjCode,facilityCode:t.inventoryCode_facilityObjCode,specification:t.specification_facilityObjCode,measureUnit:t.measureUnit_facilityObjCode,transCode:e.relationKey,qtyBal:t.tdQty,tdQty:""})}),e.dealerInfo={creatorName:s.dealerDebitContactPersonName,dealerMobilePhone:s.dealerDebitContactInformation,dealerCode:s.order.dealerDebit,dealerSubclass:s.order.drAccountSub,dealerName:s.order.dealerName_dealerDebit,province:s.order.province_dealerDebit,city:s.order.city_dealerDebit,county:s.order.county_dealerDebit,address:s.order.address_dealerDebit},e.matterList=d,e.orderList=(0,r.default)({},e.relationKey,d),e.$loading.hide()})},moreUnitClick:function(e){e.showDrop=!e.showDrop},moreUnitSelected:function(e){this.matter.assMeasureUnit=e.invSubUnitName,this.matter.assistQty=e.invSubUnitMulti},assembleOrder:function(e){var t={};e.forEach(function(e){t[e.transCode]||(t[e.transCode]=[]),t[e.transCode].push(e)}),this.orderList=t}},created:function(){var e=sessionStorage.getItem("SBCGYS_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.dealerInfo=t.dealer,this.formData=t.formData,this.contactInfo=t.contactInfo,this.assembleOrder(this.matterList),sessionStorage.removeItem("SBCGYS_DATA")}}}},"4qY7":function(e,t,a){"use strict";function n(e){a("WmNM")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("jAUN");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("qzCh"),o=a.n(s),l=a("JZXe"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-39f0ad80",null);t.default=c.exports},"4tO6":function(e,t,a){"use strict";function n(e){a("OONX")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("nexV");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("TJZS"),o=a.n(s),l=a("l/ek"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-47b858ba",null);t.default=c.exports},"5+0a":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("bFc7"),p=n(v),C=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",contactInfo:{}}},mixins:[u.default],components:{workFlow:h.default,RAction:f.default,contactPart:p.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=!0,i=!1,s=void 0;try{for(var l,d=(0,r.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;e.count=(0,C.accAdd)(e.count,u.tdAmount)}}catch(e){i=!0,s=e}finally{try{!n&&d.return&&d.return()}finally{if(i)throw s}}t.formData.validUntil=(0,o.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData;var c=e.orderInfo.order;e.contactInfo={creatorName:c.dealerDebitContactPersonName,dealerName:c.dealerName_dealerCodeCredit,dealerMobilePhone:t.formData.dealerCreditContactInformation,dealerContactPersonName:t.formData.dealerCreditContactPersonName,dealerCode:c.dealerCodeCredit,dealerLabelName:c.crDealerLabel,province:c.province_dealerCodeCredit,city:c.city_dealerCodeCredit,county:c.county_dealerCodeCredit,address:c.address_dealerCodeCredit},e.workFlowInfoHandler()})}}}},"5+pH":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("KH7x"),r=n(i),s=a("lC5x"),o=n(s),l=a("J0Oq"),d=n(l),u=a("rVsN"),c=n(u),f=a("3cXf"),m=n(f),h=a("IHPB"),v=n(h),p=a("4YfN"),C=n(p),_=a("8VZL"),y=n(_),b=a("fQz5"),g=n(b),w=a("HyXB"),I=a("I8ug"),x=a("7biW"),D=n(x),P=a("1KNX"),k=n(P);t.default={data:function(){return{listId:"64a41c48-4e8d-4709-bd01-5d60ad6bc625",warehouseList:[],srhInpTx:"",tabSelect:"全部",activeIndex:0,warehouseClassfiy:[{name:"全部"},{name:"个人仓"},{name:"加工车间仓"},{name:"一般部门仓"},{name:"客户仓"},{name:"加工商仓"}],page:1,limit:20,id:2129,hasNext:!0,scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0},total:null,clickVisited:!1,action:{}}},components:{Tab:y.default,TabItem:g.default,searchIcon:D.default,RScroll:k.default},methods:{resetCondition:function(){this.warehouseList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.resetPullDown()},tabClick:function(e,t){this.activeIndex=t,this.resetCondition(),this.tabSelect="",this.tabSelect=e.name,this.$refs.bScroll.scrollTo(0,0),this.getwarehouse()},searchList:function(e){var t=e.val,a=void 0===t?"":t;e.property;this.srhInpTx=a,this.resetCondition(),this.getwarehouse()},goNextPage:function(e,t,a){var n=this;this.clickVisited||(this.clickVisited=!0,e.visited=!0,this.$set(this.warehouseList,t,(0,C.default)({},e)),setTimeout(function(){n.clickVisited=!1;var t={transCode:e.transCode};e.transCode||"/warehouse/edit_warehouse"!==a||"全部"===n.tabSelect||(t.warehouseType=n.tabSelect),n.$router.push({path:a,query:t})},200))},goEditAds:function(e,t){this.goNextPage(e,t,"/warehouse/edit_warehouse")},goDetail:function(e,t){this.goNextPage(e,t,"/warehouse/warehouseDetail")},getwarehouseType:function(){var e=this;return(0,w.getDictByType)("warehouseRelType").then(function(t){e.warehouseClassfiy=[],e.warehouseClassfiy.push({name:"全部"}),e.warehouseClassfiy=e.warehouseClassfiy.concat(t.tableContent)})},getwarehouse:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=[];"全部"!=this.tabSelect?(a=[{operator:"eq",value:this.tabSelect,property:"warehouseType"}],this.srhInpTx&&(a[0].attendedOperation="and (",a=[].concat((0,v.default)(a),[{operator:"like",value:this.srhInpTx,property:"warehouseName",attendedOperation:"or"},{operator:"like",value:this.srhInpTx,property:"warehouseCode",attendedOperation:")"}]))):a=[].concat((0,v.default)(a),[{operator:"like",value:this.srhInpTx,property:"warehouseName",attendedOperation:"or"},{operator:"like",value:this.srhInpTx,property:"warehouseCode"}]);var n={limit:this.limit,page:this.page,start:(this.page-1)*this.limit};return a&&(n.filter=(0,m.default)(a)),(0,w.getList)(this.id,n).then(function(a){var n=a.dataCount,i=void 0===n?0:n,r=a.tableContent,s=void 0===r?[]:r,o="";t&&0===e.activeIndex&&e.total&&(o=i-e.total==0?"暂无新数据":"新增"+(i-e.total)+"条数据",e.$vux.toast.show({text:o,position:"top",width:"50%",type:"text",time:700})),0===e.activeIndex&&1===e.page&&sessionStorage.setItem("CK",i),e.warehouseList=1===e.page?s:e.warehouseList.concat(s),e.$loading.hide(),e.hasNext=i>(e.page-1)*e.limit+s.length,t||e.$nextTick(function(){e.resetScroll()})}).catch(function(t){e.resetScroll()})},resetScroll:function(){this.$refs.bScroll.finishPullDown(),this.$refs.bScroll.finishPullUp()},onPullingUp:function(){this.page++,this.getwarehouse()},onPullingDown:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.page=1,e)return void this.getData(!0);this.getData()},getSession:function(){var e=this;return new c.default(function(t){e.total=sessionStorage.getItem("CK"),t()})},getData:function(e){var t=this;return(0,d.default)(o.default.mark(function a(){return o.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getSession();case 2:if(!e){a.next=6;break}return a.next=5,t.getwarehouse(!0).then(function(){t.$nextTick(function(){t.$refs.bScroll.finishPullDown().then(function(){t.$refs.bScroll.finishPullUp()})})});case 5:return a.abrupt("return");case 6:return a.next=8,t.getwarehouse();case 8:case"end":return a.stop()}},a,t)}))()},changeVisitedStatus:function(){var e=this;setTimeout(function(){var t=[].concat((0,v.default)(e.warehouseList));t.forEach(function(e){e.visited=!1}),e.warehouseList=t},200)},getAppDetail:function(){var e=this;return(0,I.getAppDetail)(this.listId).then(function(t){var a=(0,r.default)(t,1),n=a[0],i=void 0===n?{}:n,s=i.action;e.action=s})}},watch:{$route:{handler:function(e,t){var a=e.path,n=void 0===a?"":a,i=e.meta,r=void 0===i?{}:i;if("/warehouse"===n&&(this.changeVisitedStatus(),r.reload)){if(e.meta.reload=!1,this.srhInpTx="",this.activeIndex=0,this.resetCondition(),t.query.transCode)return void this.onPullingDown(!1);this.onPullingDown()}}}},created:function(){this.$loading.show(),this.getAppDetail(),this.getwarehouseType(),this.getData(!1)}}},"53nK":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.corpid="ww3c1aa17c16e380b7",i=t.secret="5DdrQJT9GlFvmBR87a7Df7dTqBskPlPDUnjKi_YZbOg",r=t.agentid="1000036",s=t.redirect_uri="http%3A%2F%2Fcpacn2012.3322.org%3A1174%2FHermes%2Fhome";t.default={corpid:n,secret:i,agentid:r,redirect_uri:s}},"54KT":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"childPage"},[a("r-scroll",{staticClass:"content",attrs:{options:e.scrollOptions}},[a("div",[a("div",{staticClass:"mater_baseinfo vux-1px-b"},[a("group",{staticClass:"mater_property",attrs:{gutter:"0"}},[a("x-input",{class:{readonly:e.codeReadOnly},attrs:{"text-align":"right",placeholder:"请填写",readonly:e.codeReadOnly},model:{value:e.inventory.inventoryCode,callback:function(t){e.$set(e.inventory,"inventoryCode","string"==typeof t?t.trim():t)},expression:"inventory.inventoryCode"}},[a("span",{staticClass:"required",attrs:{slot:"label"},slot:"label"},[e._v("物料编码")])]),e._v(" "),a("x-input",{attrs:{"text-align":"right",placeholder:"请填写"},model:{value:e.inventory.inventoryName,callback:function(t){e.$set(e.inventory,"inventoryName","string"==typeof t?t.trim():t)},expression:"inventory.inventoryName"}},[a("span",{staticClass:"required",attrs:{slot:"label"},slot:"label"},[e._v("物料名称")])])],1),e._v(" "),a("upload-image",{attrs:{src:e.MatPic},on:{"on-upload":e.onUpload,"on-error":e.getDefaultImg}})],1),e._v(" "),a("group",{attrs:{gutter:"0"}},[a("r-picker",{attrs:{title:"加工属性",data:e.matNatureList,value:e.inventory.processing,hasBorder:!1,required:!0,mode:"4"},on:{"on-change":e.natureChange},model:{value:e.inventory.processing,callback:function(t){e.$set(e.inventory,"processing",t)},expression:"inventory.processing"}})],1),e._v(" "),a("group",[a("r-picker",{attrs:{title:"材料大类",data:e.matBigList,value:e.inventory.inventoryType,mode:"4"},on:{"on-change":e.bigChange},model:{value:e.inventory.inventoryType,callback:function(t){e.$set(e.inventory,"inventoryType",t)},expression:"inventory.inventoryType"}}),e._v(" "),a("r-picker",{attrs:{title:"材料子类",data:e.matSmlList,value:e.inventory.inventorySubclass,"has-border":!1,mode:"4"},model:{value:e.inventory.inventorySubclass,callback:function(t){e.$set(e.inventory,"inventorySubclass",t)},expression:"inventory.inventorySubclass"}}),e._v(" "),a("x-input",{attrs:{title:"型号规格","text-align":"right",placeholder:"请填写"},model:{value:e.inventory.specification,callback:function(t){e.$set(e.inventory,"specification","string"==typeof t?t.trim():t)},expression:"inventory.specification"}}),e._v(" "),a("x-input",{attrs:{title:"颜色","text-align":"right",placeholder:"请填写"},model:{value:e.inventory.inventoryColor,callback:function(t){e.$set(e.inventory,"inventoryColor","string"==typeof t?t.trim():t)},expression:"inventory.inventoryColor"}}),e._v(" "),a("x-input",{attrs:{title:"主材质","text-align":"right",placeholder:"请填写"},model:{value:e.inventory.material,callback:function(t){e.$set(e.inventory,"material","string"==typeof t?t.trim():t)},expression:"inventory.material"}})],1),e._v(" "),a("group",{attrs:{gutter:"10"}},[a("x-input",{attrs:{title:"保质期天数",type:"number","text-align":"right",placeholder:"请填写"},model:{value:e.inventory.keepingDays,callback:function(t){e.$set(e.inventory,"keepingDays",e._n(t))},expression:"inventory.keepingDays"}}),e._v(" "),a("cell",{attrs:{title:"临保天数",value:e.nearKeepingDays}}),e._v(" "),a("x-input",{attrs:{title:"安全库存",type:"number","text-align":"right",placeholder:"请填写"},model:{value:e.inventory.safeStock,callback:function(t){e.$set(e.inventory,"safeStock",e._n(t))},expression:"inventory.safeStock"}})],1),e._v(" "),a("group",{attrs:{gutter:"10"}},[a("pop-technics-list",{staticClass:"vux-1px-b",attrs:{"default-value":e.inventory},on:{"sel-item":e.selTechnics}}),e._v(" "),a("pop-procedure-list",{attrs:{"default-value":e.inventory},on:{"sel-item":e.selProcedure}}),e._v(" "),a("cell",{attrs:{title:"工序编码",value:e.inventory.procedureCode}}),e._v(" "),a("r-picker",{attrs:{title:"单位:",data:e.measureList,value:e.inventory.measureUnit,required:!0,mode:"4","has-border-top":""},model:{value:e.inventory.measureUnit,callback:function(t){e.$set(e.inventory,"measureUnit",t)},expression:"inventory.measureUnit"}}),e._v(" "),a("r-picker",{attrs:{title:"物料状态:",required:!0,data:e.statusList,value:e.inventoryStatus,mode:"4","has-border":!1},model:{value:e.inventoryStatus,callback:function(t){e.inventoryStatus=t},expression:"inventoryStatus"}}),e._v(" "),a("x-input",{attrs:{title:"起订量",type:"number","text-align":"right",placeholder:"请填写"},model:{value:e.inventory.moq,callback:function(t){e.$set(e.inventory,"moq",e._n(t))},expression:"inventory.moq"}})],1),e._v(" "),e.invMoreUnit.length?a("group",{staticClass:"duplicate-item",attrs:{title:"辅计单位"}},e._l(e.invMoreUnit,function(t,n){return a("div",{key:n,class:{has_border:n<e.invMoreUnit.length-1}},[a("r-picker",{staticClass:"vux-1px-t",attrs:{title:"辅计单位",data:e.measureList,value:t.invSubUnitName,mode:"4","has-border":!1,required:""},model:{value:t.invSubUnitName,callback:function(a){e.$set(t,"invSubUnitName",a)},expression:"item.invSubUnitName"}}),e._v(" "),a("x-input",{attrs:{title:"单位倍数",type:"number","text-align":"right",placeholder:"请填写"},on:{"on-blur":function(a){e.checkAmt(t)}},model:{value:t.invSubUnitMulti,callback:function(a){e.$set(t,"invSubUnitMulti",a)},expression:"item.invSubUnitMulti"}},[a("span",{staticClass:"required",attrs:{slot:"label"},slot:"label"},[e._v("单位倍数")])]),e._v(" "),a("x-input",{attrs:{title:"辅计说明","text-align":"right",placeholder:"请填写"},model:{value:t.comment,callback:function(a){e.$set(t,"comment",a)},expression:"item.comment"}})],1)})):a("div",{staticClass:"duplicate-item-no-select"},[a("span",{staticClass:"title"},[e._v("辅计单位")]),e._v(" "),a("span",{staticClass:"add",on:{click:e.addMoreUnit}},[e._v("新增")])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.invMoreUnit.length,expression:"invMoreUnit.length"}],staticClass:"add_more"},[e._v("\n        您还需要添加新的辅助计量?请点击\n        "),a("span",{staticClass:"add",on:{click:e.addMoreUnit}},[e._v("新增")]),e._v(" "),a("em",{directives:[{name:"show",rawName:"v-show",value:e.invMoreUnit.length>0,expression:"invMoreUnit.length>0"}]},[e._v("或")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.invMoreUnit.length>0,expression:"invMoreUnit.length>0"}],staticClass:"delete",on:{click:e.deleteMoreUnit}},[e._v("删除")])]),e._v(" "),e.invNetWeight.length?a("group",{staticClass:"duplicate-item",attrs:{title:"净含量"}},e._l(e.invNetWeight,function(t,n){return a("div",{key:n,class:{has_border:n<e.invNetWeight.length-1}},[a("x-input",{attrs:{title:"净含量名称","text-align":"right",placeholder:"请填写"},model:{value:t.invCompName,callback:function(a){e.$set(t,"invCompName",a)},expression:"item.invCompName"}},[a("span",{staticClass:"required",attrs:{slot:"label"},slot:"label"},[e._v("净含量名称")])]),e._v(" "),a("r-picker",{attrs:{title:"单位",data:e.measureList,value:t.invCompUnit,mode:"4","has-border":!1,"has-border-top":"",required:""},model:{value:t.invCompUnit,callback:function(a){e.$set(t,"invCompUnit",a)},expression:"item.invCompUnit"}}),e._v(" "),a("x-input",{attrs:{title:"净含量数量",type:"number","text-align":"right",placeholder:"请填写"},on:{"on-blur":function(a){e.checkAmt(t)}},model:{value:t.invCompQty,callback:function(a){e.$set(t,"invCompQty",a)},expression:"item.invCompQty"}},[a("span",{staticClass:"required",attrs:{slot:"label"},slot:"label"},[e._v("净含量数量")])]),e._v(" "),a("x-input",{attrs:{title:"净含量说明","text-align":"right",placeholder:"请填写"},model:{value:t.comment,callback:function(a){e.$set(t,"comment",a)},expression:"item.comment"}})],1)})):a("div",{staticClass:"duplicate-item-no-select"},[a("span",{staticClass:"title"},[e._v("净含量")]),e._v(" "),a("span",{staticClass:"add",on:{click:e.addNetWeight}},[e._v("新增")])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.invNetWeight.length,expression:"invNetWeight.length"}],staticClass:"add_more"},[e._v("\n        您还需要添加新的净含量?请点击\n        "),a("span",{staticClass:"add",on:{click:e.addNetWeight}},[e._v("新增")]),e._v(" "),a("em",{directives:[{name:"show",rawName:"v-show",value:e.invNetWeight.length>0,expression:"invNetWeight.length>0"}]},[e._v("或")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.invNetWeight.length>0,expression:"invNetWeight.length>0"}],staticClass:"delete",on:{click:e.deleteNetWeight}},[e._v("删除")])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"成品"===e.inventory.processing,expression:"inventory.processing === '成品'"}]},[e.invDealerRel.length?a("group",{staticClass:"duplicate-item",attrs:{title:"客户"}},e._l(e.invDealerRel,function(t,n){return a("div",{key:n,class:{has_border:n<e.invDealerRel.length-1}},[a("pop-dealer-list",{attrs:{defaultValue:t,"dealer-label-name":"客户",mode:"2","no-contact":"","no-record":"",required:""},on:{"sel-dealer":e.selDealer},nativeOn:{click:function(t){e.dealerClick(n)}}}),e._v(" "),a("cell",{attrs:{title:"客户编码",value:t.productDealerCode}}),e._v(" "),a("x-input",{attrs:{"text-align":"right",placeholder:"请填写"},model:{value:t.clientInventoryCode,callback:function(a){e.$set(t,"clientInventoryCode",a)},expression:"item.clientInventoryCode"}},[a("span",{staticClass:"required",attrs:{slot:"label"},slot:"label"},[e._v("客户成品编码")])]),e._v(" "),a("x-input",{attrs:{title:"客户成品名称","text-align":"right",placeholder:"请填写"},model:{value:t.clientInventoryName,callback:function(a){e.$set(t,"clientInventoryName",a)},expression:"item.clientInventoryName"}}),e._v(" "),a("x-input",{attrs:{title:"说明","text-align":"right",placeholder:"请填写"},model:{value:t.productComment,callback:function(a){e.$set(t,"productComment",a)},expression:"item.productComment"}})],1)})):a("div",{staticClass:"duplicate-item-no-select"},[a("span",{staticClass:"title"},[e._v("客户")]),e._v(" "),a("span",{staticClass:"add",on:{click:e.addDealerRel}},[e._v("新增")])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.invDealerRel.length,expression:"invDealerRel.length"}],staticClass:"add_more"},[e._v("\n          您还需要添加新的净含量?请点击\n          "),a("span",{staticClass:"add",on:{click:e.addDealerRel}},[e._v("新增")]),e._v(" "),a("em",{directives:[{name:"show",rawName:"v-show",value:e.invDealerRel.length>0,expression:"invDealerRel.length>0"}]},[e._v("或")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.invDealerRel.length>0,expression:"invDealerRel.length>0"}],staticClass:"delete",on:{click:e.deleteDealerRel}},[e._v("删除")])])],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"原料"===e.inventory.processing,expression:"inventory.processing === '原料'"}]},[e.invCustomerRel.length?a("group",{staticClass:"duplicate-item",attrs:{title:"供应商"}},e._l(e.invCustomerRel,function(t,n){return a("div",{key:n,class:{has_border:n<e.invCustomerRel.length-1}},[a("pop-dealer-list",{attrs:{defaultValue:t,"dealer-label-name":"供应商",mode:"2","no-contact":"","no-record":"",required:""},on:{"sel-dealer":e.selCustomer},nativeOn:{click:function(t){e.customerClick(n)}}}),e._v(" "),a("cell",{attrs:{title:"供应商编码",value:t.productDealerCode}},[a("span",{staticClass:"required",attrs:{slot:"title"},slot:"title"},[e._v("供应商编码")])]),e._v(" "),a("x-input",{attrs:{title:"说明","text-align":"right",placeholder:"请填写"},model:{value:t.productComment,callback:function(a){e.$set(t,"productComment",a)},expression:"item.productComment"}})],1)})):a("div",{staticClass:"duplicate-item-no-select"},[a("span",{staticClass:"title"},[e._v("供应商")]),e._v(" "),a("span",{staticClass:"add",on:{click:e.addCustomerRel}},[e._v("新增")])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.invCustomerRel.length,expression:"invCustomerRel.length"}],staticClass:"add_more"},[e._v("\n          您还需要添加新的净含量? 请点击\n          "),a("span",{staticClass:"add",on:{click:e.addCustomerRel}},[e._v("新增")]),e._v(" "),a("em",{directives:[{name:"show",rawName:"v-show",value:e.invCustomerRel.length>0,expression:"invCustomerRel.length>0"}]},[e._v("或")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.invCustomerRel.length>0,expression:"invCustomerRel.length>0"}],staticClass:"delete",on:{click:e.deleteCustomerRel}},[e._v("删除")])])],1)],1)]),e._v(" "),a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.save}},[e._v(e._s(this.transCode?"保存":"提交"))])])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"55ug":function(e,t,a){"use strict";function n(e){a("u9re")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("eq7N");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("SVCO"),o=a.n(s),l=a("eUJz"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-bbd0940c",null);t.default=c.exports},"57wr":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("DYun"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"toast",mixins:[i.default],props:{value:Boolean,time:{type:Number,default:2e3},type:{type:String,default:"success"},transition:String,width:{type:String,default:"7.6em"},isShowMask:{type:Boolean,default:!1},text:String,position:String},data:function(){return{show:!1}},created:function(){this.value&&(this.show=!0)},computed:{currentTransition:function(){return this.transition?this.transition:"top"===this.position?"vux-slide-from-top":"bottom"===this.position?"vux-slide-from-bottom":"vux-fade"},toastClass:function(){return{"weui-toast_forbidden":"warn"===this.type,"weui-toast_cancel":"cancel"===this.type,"weui-toast_success":"success"===this.type,"weui-toast_text":"text"===this.type,"vux-toast-top":"top"===this.position,"vux-toast-bottom":"bottom"===this.position,"vux-toast-middle":"middle"===this.position}},style:function(){if("text"===this.type&&"auto"===this.width)return{padding:"10px"}}},watch:{show:function(e){var t=this;e&&(this.$emit("input",!0),this.$emit("on-show"),this.fixSafariOverflowScrolling("auto"),clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.show=!1,t.$emit("input",!1),t.$emit("on-hide"),t.fixSafariOverflowScrolling("touch")},this.time))},value:function(e){this.show=e}}}},"59Rw":function(e,t,a){"use strict";function n(e){a("UV90")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("OBkd");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("qwnS"),o=a.n(s),l=a("PsFA"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-3aad9a52",null);t.default=c.exports},"5Bns":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages"},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("tab-item",{attrs:{tabVal:e.listView},on:{"tab-click":e.tabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"each_duty",on:{click:function(a){e.getFlow(t)}}},[a("div",{staticClass:"duty_top"},[a("div",{staticClass:"basic_info"},[a("span",{staticClass:"warehouse warehouse_name"},[e._v("\n                "+e._s(t.accountSub)+"\n              ")]),e._v(" "),a("span",{staticClass:"warehouse warehouse_code"},[e._v(e._s(t.dealerCode))])]),e._v(" "),void 0!==t.accountAge?a("div",{staticClass:"mater_code"},[a("span",{staticClass:"title"},[e._v("账龄天数")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(t.accountAge))])]):e._e()]),e._v(" "),t.dealerName?a("div",{staticClass:"matter"},[a("div",{staticClass:"matter_name"},[e._v("\n            "+e._s(t.dealerName)+"\n          ")])]):e._e(),e._v(" "),a("div",{staticClass:"duty_btm",class:{"vux-1px-t":t.dealerName}},[a("div",{staticClass:"ware_type"}),e._v(" "),""!==t.amountBalance?a("div",{staticClass:"balance"},[a("span",{staticClass:"symbol"},[e._v("余额: ￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(t.amountBalance)))+"\n          ")]):e._e()])])})),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{attrs:{position:"bottom",height:"80%"},model:{value:e.flowShow,callback:function(t){e.flowShow=t},expression:"flowShow"}},[a("r-scroll",{ref:"flowListWrapper",staticClass:"flow_list_wrapper",attrs:{options:e.FlowScrollOptions,"has-next":e.FlowHasNext,"no-data":!e.FlowHasNext&&!e.flowData.length},on:{"on-pulling-up":e.onPullingUpFlow}},[a("div",{staticClass:"flow"},[a("div",{staticClass:"flow_top"},[a("div",{staticClass:"title"},[e._v("流水详情")])]),e._v(" "),a("div",{staticClass:"flow_list"},e._l(e.flowData,function(t,n){return a("div",{key:n,staticClass:"each_flow",on:{click:function(e){e.stopPropagation(),t.showList=!t.showList}}},[a("div",{staticClass:"duty_top"},[a("div",{staticClass:"transCode"},[a("span",{staticClass:"order_title"},[e._v("编码")]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(t.transCode))])]),e._v(" "),a("div",{staticClass:"time"},[e._v("\n                    "+e._s(e._f("dateFormat")(t.calcTime))+"\n                  ")])]),e._v(" "),a("div",{staticClass:"show_list"},[a("div",{staticClass:"app_name"},[e._v("\n                    "+e._s(t.appTitle)),a("span",{staticClass:"symbol"},[e._v("[应用]")])]),e._v(" "),a("div",{staticClass:"num_info"},[a("div",{staticClass:"count"},[a("div",{staticClass:"num_part"},[a("span",{staticClass:"symbol"},[e._v("借方金额: ")]),e._v(" "),t.drAmnt>0?a("span",{staticClass:"number_incre"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("toFixed")(t.drAmnt))+"\n                        ")]):a("span",[e._v("0")])])]),e._v(" "),a("div",{staticClass:"amount_money"},[a("div",{staticClass:"num_part"},[a("span",{staticClass:"symbol"},[e._v("贷方金额: ")]),e._v(" "),t.crAmnt>0?a("span",{staticClass:"number_incre"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("toFixed")(t.crAmnt))+"\n                        ")]):a("span",[e._v("0")])])])])]),e._v(" "),a("div",{staticClass:"summary_part vux-1px-t"},[a("div",{staticClass:"number"}),e._v(" "),a("div",{staticClass:"price"},[a("span",{staticClass:"symbol"},[e._v("当前余额:")]),e._v(" "),a("span",{class:{increase:t.amountBalance>0,reduce:t.amountBalance<0}},[a("span",{staticClass:"symbol"},[e._v(" ￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(t.amountBalance)))+"\n                    ")])])])])}))])]),e._v(" "),a("div",{staticClass:"btn when_less"},[a("span",{staticClass:"cfm_btn",on:{click:function(t){e.flowShow=!1}}},[e._v("关闭")])])],1)],1)],1)])},i=[],r={render:n,staticRenderFns:i};t.a=r},"5KgG":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("KH7x"),o=n(s),l=a("3cXf"),d=n(l),u=a("0AQX"),c=a("+VRO"),f=n(c),m=a("BUFe"),h=n(m),v=a("AupE"),p=n(v),C=a("bFc7"),_=n(C),y=a("6WeX"),b=n(y),g=a("3NX5"),w=n(g),I=a("zWMP"),x=a("Qg39");t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"",contactInfo:{}}},components:{workFlow:p.default,RAction:h.default,contactPart:_.default,PriceTotal:b.default,MatterList:w.default},mixins:[f.default],methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(e.submitInfo=JSON.parse((0,d.default)(t)),!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.formData,n=void 0===a?{}:a,i=n.order,s=n.inPut,l=i.dataSet,u=s.dataSet,c=(0,o.default)(u,1),f=c[0],m=!0,h=!1,v=void 0;try{for(var p,C=(0,r.default)(l);!(m=(p=C.next()).done);m=!0){var _=p.value;_.noTaxAmount=(0,I.accMul)(_.price,_.tdQty),_.taxAmount=(0,I.accMul)(_.noTaxAmount,_.taxRate),_.tdAmount=(0,x.toFixed)((0,I.accAdd)(_.noTaxAmount,_.taxAmount)),e.count=(0,I.accAdd)(e.count,_.tdAmount),_.inventoryPic=_.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){h=!0,v=e}finally{try{!m&&C.return&&C.return()}finally{if(h)throw v}}e.attachment=t.attachment,e.orderInfo=n,e.contactInfo={creatorName:i.dealerDebitContactPersonName,dealerName:i.dealerName_dealerDebit,dealerMobilePhone:n.dealerDebitContactInformation,dealerContactPersonName:n.dealerDebitContactPersonName,dealerCode:i.dealerDebit,dealerLabelName:i.drDealerLabel,province:i.province_dealerDebit,city:i.city_dealerDebit,county:i.county_dealerDebit,address:i.address_dealerDebit,payment:i.drDealerPaymentTerm,logistics:n.drDealerLogisticsTerms,validUntil:s.validUntil,thenTotalAmntBal:f.thenTotalAmntBal,tdAmountCopy1:f.tdAmountCopy1,advancePaymentDueDate:f.advancePaymentDueDate,daysOfAccount:s.daysOfAccount},e.workFlowInfoHandler()})}}}},"5NAd":function(e,t,a){"use strict";function n(e){a("BonF")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("jIlA");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("N3Ds"),o=a.n(s),l=a("rw1S"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-177fac14",null);t.default=c.exports},"5O+N":function(e,t,a){"use strict";function n(e){a("sfuF")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("8cWJ");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("FKiD"),o=a.n(s),l=a("BgEH"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-2979ef49",null);t.default=c.exports},"5Puw":function(e,t,a){"use strict";function n(e){a("7DJ6")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("n8ws");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("4eDc"),o=a.n(s),l=a("Wq2S"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-7e511282",null);t.default=c.exports},"5SxB":function(e,t,a){"use strict";function n(e){a("kmPo")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("JuKn");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("5cym"),o=a.n(s),l=a("wGZY"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-544f2feb",null);t.default=c.exports},"5UXJ":function(e,t,a){"use strict";function n(e){a("Rxgt")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("M/Db");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("avU7"),o=a.n(s),l=a("Oya0"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-4c0f713c",null);t.default=c.exports},"5VC7":function(e,t,a){"use strict";function n(e){a("i5Ni")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("yjOG");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("LVgA"),o=a.n(s),l=a("6pcR"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-44e4d816",null);t.default=c.exports},"5VPq":function(e,t){},"5XmH":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Qg39"),i=a("zWMP");t.default={name:"RNumber",props:{num:{type:Number,default:0},max:{type:Number,default:0},min:{type:Number,default:1},checkNum:{type:Function,default:function(e){return 0===e&&(e=1),Math.abs((0,n.toFixed)(e,2))}}},data:function(){return{currentNum:0}},watch:{num:{handler:function(e){this.currentNum=e}}},methods:{subNum:function(){this.currentNum<=this.min||(this.currentNum=parseFloat((0,i.accSub)(this.currentNum,1)),this.$emit("input",this.currentNum))},plusNum:function(){this.max&&this.max===this.num||(this.currentNum=parseFloat((0,i.accAdd)(this.currentNum,1)),this.$emit("input",this.currentNum))},getNum:function(e){var t=Number(e.target.value);this.max&&t>this.max&&(t=this.max),this.min&&t<this.min&&(t=this.min),this.currentNum=this.checkNum(t),e.target.value=this.currentNum,this.$emit("input",this.currentNum)}},created:function(){this.currentNum=this.num}}},"5YVY":function(e,t){},"5YqO":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("DYun"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"toast",mixins:[i.default],props:{value:Boolean,time:{type:Number,default:2e3},type:{type:String,default:"success"},transition:String,width:{type:String,default:"7.6em"},isShowMask:{type:Boolean,default:!1},text:String,position:String},data:function(){return{show:!1}},created:function(){this.value&&(this.show=!0)},computed:{currentTransition:function(){return this.transition?this.transition:"top"===this.position?"vux-slide-from-top":"bottom"===this.position?"vux-slide-from-bottom":"vux-fade"},toastClass:function(){return{"weui-toast_forbidden":"warn"===this.type,"weui-toast_cancel":"cancel"===this.type,"weui-toast_success":"success"===this.type,"weui-toast_text":"text"===this.type,"vux-toast-top":"top"===this.position,"vux-toast-bottom":"bottom"===this.position,"vux-toast-middle":"middle"===this.position}},style:function(){if("text"===this.type&&"auto"===this.width)return{padding:"10px"}}},watch:{show:function(e){var t=this;e&&(this.$emit("input",!0),this.$emit("on-show"),this.fixSafariOverflowScrolling("auto"),clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.show=!1,t.$emit("input",!1),t.$emit("on-hide"),t.fixSafariOverflowScrolling("touch")},this.time))},value:function(e){this.show=e}}}},"5Ys/":function(e,t){},"5cYO":function(e,t,a){"use strict";function n(e){a("pzJd")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("s5eW");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("RTBc"),o=a.n(s),l=a("MGsm"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-64dc92df",null);t.default=c.exports},"5cym":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("3cXf"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("bFc7"),p=n(v),C=a("6WeX"),_=n(C),y=a("3NX5"),b=n(y),g=a("zWMP"),w=a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"",contactInfo:{},matterList:[]}},computed:{noTaxAmount:function(){var e=0;return this.matterList.forEach(function(t){e=(0,g.accAdd)(e,t.noTaxAmount)}),e},taxAmount:function(){var e=0;return this.matterList.forEach(function(t){e=(0,g.accAdd)(e,t.taxAmount)}),e}},components:{workFlow:h.default,RAction:f.default,contactPart:p.default,PriceTotal:_.default,MatterList:b.default},mixins:[u.default],methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(e.submitInfo=JSON.parse((0,o.default)(t)),!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.inPut.dataSet,n=!0,i=!1,s=void 0;try{for(var l,d=(0,r.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;u.noTaxAmount=(0,g.accMul)(u.price,u.tdQty),u.taxAmount=(0,g.accMul)(u.noTaxAmount,u.taxRate),u.tdAmount=(0,w.toFixed)((0,g.accAdd)(u.noTaxAmount,u.taxAmount)),e.count=(0,g.accAdd)(e.count,u.tdAmount),u.inventoryPic=u.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+u.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){i=!0,s=e}finally{try{!n&&d.return&&d.return()}finally{if(i)throw s}}e.matterList=a,e.orderInfo=t.formData,e.getcontactInfo("inPut"),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo={creatorName:t.dealerDebitContactPersonName,dealerName:a.dealerName_dealerCodeCredit,dealerMobilePhone:t.dealerCreditContactInformation,dealerContactPersonName:t.dealerCreditContactPersonName,dealerCode:a.dealerCodeCredit,dealerLabelName:a.crDealerLabel,province:a.province_dealerCodeCredit,city:a.city_dealerCodeCredit,county:a.county_dealerCodeCredit,address:a.address_dealerCodeCredit,payment:a.crDealerPaymentTerm,pamentDays:a.daysOfAccount}}},created:function(){}}},"5eL4":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("KH7x"),r=n(i),s=a("lC5x"),o=n(s),l=a("J0Oq"),d=n(l),u=a("rVsN"),c=n(u),f=a("3cXf"),m=n(f),h=a("IHPB"),v=n(h),p=a("4YfN"),C=n(p),_=a("8VZL"),y=n(_),b=a("fQz5"),g=n(b),w=a("HyXB"),I=a("I8ug"),x=a("7biW"),D=n(x),P=a("1KNX"),k=n(P);t.default={data:function(){return{listId:"64a41c48-4e8d-4709-bd01-5d60ad6bc625",warehouseList:[],srhInpTx:"",tabSelect:"全部",activeIndex:0,warehouseClassfiy:[{name:"全部"},{name:"个人仓"},{name:"加工车间仓"},{name:"一般部门仓"},{name:"客户仓"},{name:"加工商仓"}],page:1,limit:20,id:2129,hasNext:!0,scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0},total:null,clickVisited:!1,action:{}}},components:{Tab:y.default,TabItem:g.default,searchIcon:D.default,RScroll:k.default},methods:{resetCondition:function(){this.warehouseList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.resetPullDown()},tabClick:function(e,t){this.activeIndex=t,this.resetCondition(),this.tabSelect="",this.tabSelect=e.name,this.$refs.bScroll.scrollTo(0,0),this.getwarehouse()},searchList:function(e){var t=e.val,a=void 0===t?"":t;e.property;this.srhInpTx=a,this.resetCondition(),this.getwarehouse()},goNextPage:function(e,t,a){var n=this;this.clickVisited||(this.clickVisited=!0,e.visited=!0,this.$set(this.warehouseList,t,(0,C.default)({},e)),setTimeout(function(){n.clickVisited=!1;var t={transCode:e.transCode};e.transCode||"/warehouse/edit_warehouse"!==a||"全部"===n.tabSelect||(t.warehouseType=n.tabSelect),n.$router.push({path:a,query:t})},200))},goEditAds:function(e,t){this.goNextPage(e,t,"/warehouse/edit_warehouse")},goDetail:function(e,t){this.goNextPage(e,t,"/warehouse/warehouseDetail")},getwarehouseType:function(){var e=this;return(0,w.getDictByType)("warehouseRelType").then(function(t){e.warehouseClassfiy=[],e.warehouseClassfiy.push({name:"全部"}),e.warehouseClassfiy=e.warehouseClassfiy.concat(t.tableContent)})},getwarehouse:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=[];"全部"!=this.tabSelect?(a=[{operator:"eq",value:this.tabSelect,property:"warehouseType"}],this.srhInpTx&&(a[0].attendedOperation="and (",a=[].concat((0,v.default)(a),[{operator:"like",value:this.srhInpTx,property:"warehouseName",attendedOperation:"or"},{operator:"like",value:this.srhInpTx,property:"warehouseCode",attendedOperation:")"}]))):a=[].concat((0,v.default)(a),[{operator:"like",value:this.srhInpTx,property:"warehouseName",attendedOperation:"or"},{operator:"like",value:this.srhInpTx,property:"warehouseCode"}]);var n={limit:this.limit,page:this.page,start:(this.page-1)*this.limit};return a&&(n.filter=(0,m.default)(a)),(0,w.getList)(this.id,n).then(function(a){var n=a.dataCount,i=void 0===n?0:n,r=a.tableContent,s=void 0===r?[]:r,o="";t&&0===e.activeIndex&&e.total&&(o=i-e.total==0?"暂无新数据":"新增"+(i-e.total)+"条数据",e.$vux.toast.show({text:o,position:"top",width:"50%",type:"text",time:700})),0===e.activeIndex&&1===e.page&&sessionStorage.setItem("CK",i),e.warehouseList=1===e.page?s:e.warehouseList.concat(s),e.$loading.hide(),e.hasNext=i>(e.page-1)*e.limit+s.length,t||e.$nextTick(function(){e.resetScroll()})}).catch(function(t){e.resetScroll()})},resetScroll:function(){this.$refs.bScroll.finishPullDown(),this.$refs.bScroll.finishPullUp()},onPullingUp:function(){this.page++,this.getwarehouse()},onPullingDown:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.page=1,e)return void this.getData(!0);this.getData()},getSession:function(){var e=this;return new c.default(function(t){e.total=sessionStorage.getItem("CK"),t()})},getData:function(e){var t=this;return(0,d.default)(o.default.mark(function a(){return o.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getSession();case 2:if(!e){a.next=6;break}return a.next=5,t.getwarehouse(!0).then(function(){t.$nextTick(function(){t.$refs.bScroll.finishPullDown().then(function(){t.$refs.bScroll.finishPullUp()})})});case 5:return a.abrupt("return");case 6:return a.next=8,t.getwarehouse();case 8:case"end":return a.stop()}},a,t)}))()},changeVisitedStatus:function(){var e=this;setTimeout(function(){var t=[].concat((0,v.default)(e.warehouseList));t.forEach(function(e){e.visited=!1}),e.warehouseList=t},200)},getAppDetail:function(){var e=this;return(0,I.getAppDetail)(this.listId).then(function(t){var a=(0,r.default)(t,1),n=a[0],i=void 0===n?{}:n,s=i.action;e.action=s})}},watch:{$route:{handler:function(e,t){var a=e.path,n=void 0===a?"":a,i=e.meta,r=void 0===i?{}:i;if("/warehouse"===n&&(this.changeVisitedStatus(),r.reload)){if(e.meta.reload=!1,this.srhInpTx="",this.activeIndex=0,this.resetCondition(),t.query.transCode)return void this.onPullingDown(!1);this.onPullingDown()}}}},created:function(){this.$loading.show(),this.getAppDetail(),this.getwarehouseType(),this.getData(!1)}}},"5fEC":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2256,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}]}},mixins:[i.default],methods:{},created:function(){}}},"5gKc":function(e,t,a){"use strict";function n(e){a("MgKn")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MgX+");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("HJsR"),o=a.n(s),l=a("cNmV"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-7435bc89",null);t.default=c.exports},"5iSH":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement;return(e._self._c||t)("span",{class:["vux-badge",{"vux-badge-dot":void 0===e.text,"vux-badge-single":void 0!==e.text&&1===e.text.toString().length}],domProps:{textContent:e._s(e.text)}})},i=[],r={render:n,staticRenderFns:i};t.a=r},"5ixT":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"vux-popup-animate-"+e.position}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.show&&!e.initialShow,expression:"show && !initialShow"}],staticClass:"vux-popup-dialog",class:["vux-popup-"+e.position,e.show?"vux-popup-show":""],style:e.styles},[e.shouldRenderBody?e._t("default"):e._e()],2)])},i=[],r={render:n,staticRenderFns:i};t.a=r},"5jAZ":function(e,t,a){"use strict";function n(e){a("itSm")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("jBKy");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("VnXt"),o=a.n(s),l=a("/hZ2"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-637a7157",null);t.default=c.exports},"5pEJ":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("contact-part",{staticClass:"contacts_part",attrs:{"contact-info":e.dealerInfo,hasClass:!1,logistics:!1}},[a("template",{slot:"other"},[a("div",{staticClass:"other"},[a("span",{staticClass:"title"},[e._v("账期天数: ")]),e._v(" "),a("span",{staticClass:"mode"},[e._v(e._s(e.dealerInfo.pamentDays||"暂无"))])])])],2),e._v(" "),a("matter-list",{attrs:{"order-list":e.orderList,noTaxAmount:e.noTaxAmount,taxAmount:e.taxAmount,count:e.count},scopedSlots:e._u([{key:"matterOther",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("类型: "+e._s(n.facilityType))]),e._v(" "),a("span",[e._v("大类: "+e._s(n.facilityBigType_facilityObjCode))]),e._v(" "),a("span",[e._v("子类: "+e._s(n.facilitySubclass_facilityObjCode))])]),e._v(" "),a("div",{staticClass:"mater_attribute"},[a("span",[e._v("单价: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.price),3)))]),e._v(" "),a("span",[e._v("数量: "+e._s(e._f("toFixed")(n.tdQty)))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.taxRate,expression:"item.taxRate"}]},[e._v("税率: "+e._s(n.taxRate))])]),e._v(" "),a("div",{staticClass:"mater_price"},[a("span",[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(n.tdAmount),3)))]),e._v(" "),n.taxRate?a("span",{staticClass:"num",style:{display:n.tdAmount&&n.tdAmount.toString().length>=7?"block":""}},[e._v("\n                [金额: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.noTaxAmount),3))+" + 税金: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.taxAmount),3))+"]\n              ")]):e._e()])])]}}])}),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},"5pt1":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("6q39"),v=n(h),p=a("kNGm"),C=n(p),_=a("fEP3"),y=a("1KNX"),b=n(y),g=a("7biW"),w=n(g);t.default={name:"PopWorkGDBLLList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:m.default,LoadMore:v.default,RScroll:b.default,MSearch:w.default},filters:{dateFormat:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},workList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterList:[{name:"成品名称",value:"inventoryName"},{name:"成品编码",value:"matCode"},{name:"工序名称",value:"procedureName"}],filterProperty:""}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){return e.transCode===this.selItems.transCode},selThis:function(e,t){this.showPop=!1,this.selItems=(0,d.default)({},e),this.$emit("sel-work",this.selItems)},setDefaultValue:function(){this.selItems=(0,d.default)({},this.defaultValue)},getWorkOrderTask:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,_.getWorkGDBLLList)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.workList=1===e.page?r:[].concat((0,o.default)(e.workList),(0,o.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.workList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getWorkOrderTask()},onPullingUp:function(){this.page++,this.getWorkOrderTask()}},created:function(){this.setDefaultValue(),this.getWorkOrderTask()}}},"5q3q":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("a3Yh"),d=n(l),u=a("7g+Q"),c=n(u),f=a("+62G"),m=n(f),h=a("z5TY"),v=n(h),p=a("BGNQ"),C=n(p),_=a("iR2W"),y=n(_),b=a("u28h"),g=n(b),w=a("SAzG"),I=n(w),x=a("PzEQ"),D=n(x),P=a("HyXB"),k=a("fEP3"),S=a("0AQX"),T=a("bKg5"),L=n(T),N=a("7D9F"),M=n(N),A=a("j4rH"),O=n(A),R=a("JQMB"),j=n(R),$=a("vl8n"),B=n($),E=a("FlCz"),F=n(E),U=a("+WR7"),q=n(U),Q=a("0o6b"),H=a("Qg39"),V=a("zWMP");t.default={directives:{TransferDom:m.default},components:{Popup:c.default,PopWorkStartList:O.default,Group:v.default,Cell:C.default,Datetime:g.default,XInput:I.default,XTextarea:D.default,PopManagerList:M.default,RPicker:B.default,PopFacilityList:j.default,BomList:F.default,PopBaseinfo:q.default},data:function(){return{listId:"c54b3325-a5c1-4d75-a3c4-c6cf0e988aae",showWorkPop:!1,dealer:{},formData:{biComment:""},workInfo:{},defaultManager:{},biProcessStatus:"",scanResult:"",bomList:[],facility:{}}},mixins:[L.default],filters:{numberComma:y.default},methods:{selWork:function(e){var t=this;e.tdQty=e.thenQtyBal,this.workInfo=e,(0,k.getBomWorkStart)(this.workInfo.inventoryCode).then(function(a){var n=a.tableContent,i=void 0===n?[]:n;i.forEach(function(t){t.tdQty=(0,H.toFixed)((0,V.accMul)(t.qty,e.tdQty),3)}),t.bomList=i})},selManager:function(e){this.defaultManager=JSON.parse(e),this.workInfo.dealerDebit=this.defaultManager.dealerCode},submitOrder:function(){var e=this,t="",a=[],n=[];this.workInfo.procedureName||(t="请选择工序");var i=[{key:"dealerName",msg:"请填写工人"},{key:"tdQty",msg:"请填写验收数量"},{key:"wareName",msg:"请填写仓库"}];if(t||i.every(function(a){return!!e.workInfo[a.key]||(t=a.msg,!1)}),t)return void this.$vux.alert.show({content:t});var s=this.workInfo;a.push({proPointCode:s.proPointCode,thenQtyBal:s.thenQtyBal,tdQty:s.tdQty,dealerDebit:s.dealerCode,drDealerLabel:s.dealerLabel,proFlowCode:s.proFlowCode||"",facilityObjCode:this.facility.facilityCode||"",facilityTypebase_facilityObjCode:this.facility.facilityType||"",transObjCode:this.workInfo.inventoryCode}),this.bomList.forEach(function(e){n.push({inventoryName_outPutMatCode:e.inventoryName,outPutMatCode:e.inventoryCode,tdProcessing:e.processing,specification_outPutMatCode:e.specification,measureUnit_outPutMatCode:e.measureUnit,bomType:e.bomType,bomQty:e.qty,tdQty:e.tdQty})}),this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=P.saveAndStartWf,i=(0,d.default)({},e.processCode,{businessKey:"PGRW",createdBy:""});e.isResubmit&&(i={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var l={listId:e.listId,biComment:e.formData.biComment,formData:(0,o.default)((0,r.default)({},e.formData,{handlerEntity:e.entity.dealerName,biProcessStatus:e.biProcessStatus||null,order:{containerCode:s.whInCode,dataSet:a},outPut:{containerCode:s.whInCode,dataSet:n}})),wfPara:(0,o.default)(i)};e.isResubmit&&(t=P.saveAndCommitTask,l.biReferenceId=e.biReferenceId),e.processCode.length||(t=P.submitAndCalc,delete l.wfPara,delete l.biReferenceId),e.biReferenceId&&(l.biReferenceId=e.biReferenceId),e.saveData(t,l)}})},getFormData:function(){var e=this;return(0,S.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=t.attachment;var o=s.order,l=s.outPut,d=o.dataSet,u=void 0===d?[]:d,c=l.dataSet;e.workInfo=(0,r.default)({},u[0],{inventoryCode:u[0].transObjCode,inventoryName:u[0].inventoryName_transObjCode,procedureName:u[0].procedureName_proPointCode,technicsName:u[0].technicsName_proFlowCode,transCode:u[0].transMatchedCode,processing:u[0].tdProcessing||null,wareName:o.warehouseName_containerCode,whInCode:o.containerCode,wareAddress:o.warehouseAddress_containerCode,dealerName:u[0].dealerName_dealerDebit,dealerCode:u[0].dealerDebit,dealerLabel:u[0].drDealerLabel}),e.facility={facilityName:u[0].facilityName_facilityObjCode,facilityCode:u[0].facilityObjCode,facilityType:u[0].facilityTypebase_facilityObjCode},c.forEach(function(e){e.inventoryCode=e.outPutMatCode,e.inventoryName=e.inventoryName_outPutMatCode,e.measureUnit=e.measureUnit_outPutMatCode,e.parentInvCode=e.processProCode,e.processing=e.tdProcessing,e.qty=e.bomQty,e.qtyBal=e.thenQtyStock,e.specification=e.specification_outPutMatCode||"无"}),e.bomList=c,e.warehouse={warehouseCode:o.containerCode,warehouseName:o.warehouseName_containerCode,warehouseType:o.warehouseType_containerCode,warehouseProvince:o.warehouseProvince_containerCode,warehouseCity:o.warehouseCity_containerCode,warehouseDistrict:o.warehouseDistrict_containerCode,warehouseAddress:o.warehouseAddress_containerCode},e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,r.default)({},e.handlerDefault,{biComment:s.biComment,biId:s.biId,biProcessStatus:s.biProcessStatus,creator:s.creator,modifer:s.modifer}),e.biReferenceId=s.biReferenceId,e.$loading.hide()})},scanQRCode:function(){var e=this;(0,Q.scanQRCode)().then(function(t){var a=t.result,n=void 0===a?"":a;e.scanResult=n})},selFacility:function(e){this.facility=e}},created:function(){}}},"6/io":function(e,t,a){"use strict";function n(e){a("rCAw")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Cnf0");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("esl5"),o=a.n(s),l=a("8mZP"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-ef0768f2",null);t.default=c.exports},"68Zv":function(e,t){},"69MN":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("4YfN"),o=n(s),l=a("KH7x"),d=n(l),u=a("3cXf"),c=n(u),f=a("0AQX"),m=a("+VRO"),h=n(m),v=a("BUFe"),p=n(v),C=a("AupE"),_=n(C),y=a("bFc7"),b=n(y),g=a("6WeX"),w=n(g),I=a("3NX5"),x=n(I),D=a("zWMP"),P=a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"",contactInfo:{}}},components:{workFlow:_.default,RAction:p.default,contactPart:b.default,PriceTotal:w.default,MatterList:x.default},mixins:[h.default],methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,f.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(e.submitInfo=JSON.parse((0,c.default)(t)),!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData,n=a.order,i=a.inPut,s=n.dataSet,l=i.dataSet,u=void 0===l?[]:l,f=(0,d.default)(u,1),m=f[0],h=void 0===m?{}:m,v=!0,p=!1,C=void 0;try{for(var _,y=(0,r.default)(s);!(v=(_=y.next()).done);v=!0){var b=_.value;b.noTaxAmount=(0,D.accMul)(b.price,b.tdQty),b.taxAmount=(0,D.accMul)(b.noTaxAmount,b.taxRate),b.tdAmount=(0,P.toFixed)((0,D.accAdd)(b.noTaxAmount,b.taxAmount)),e.count=(0,D.accAdd)(e.count,b.tdAmount),b.inventoryPic=b.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+b.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){p=!0,C=e}finally{try{!v&&y.return&&y.return()}finally{if(p)throw C}}e.orderInfo=t.formData,e.contactInfo=(0,o.default)({},e.contactInfo,{logistics:t.formData.drDealerLogisticsTerms,executionDate:h.executionDate,validUntil:h.validUntil,thenTotalAmntBal:h.thenTotalAmntBal,prepaymentDueDate:h.prepaymentDueDate,tdAmountCopy1:h.tdAmountCopy1,daysOfAccount:i.daysOfAccount}),e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo=(0,o.default)({},this.contactInfo,{creatorName:t.dealerDebitContactPersonName,dealerName:a.dealerName_dealerDebit,dealerMobilePhone:t.dealerDebitContactInformation,dealerContactPersonName:t.dealerDebitContactPersonName,dealerCode:a.dealerDebit,dealerLabelName:a.drDealerLabel,province:a.province_dealerDebit,city:a.city_dealerDebit,county:a.county_dealerDebit,address:a.address_dealerDebit,payment:a.drDealerPaymentTerm})}},created:function(){}}},"6B8Z":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("3cXf"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("bFc7"),p=n(v),C=a("6WeX"),_=n(C),y=a("3NX5"),b=n(y),g=a("zWMP");a("Qg39");t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"",contactInfo:{}}},components:{workFlow:h.default,RAction:f.default,contactPart:p.default,PriceTotal:_.default,MatterList:b.default},mixins:[u.default],methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(e.submitInfo=JSON.parse((0,o.default)(t)),!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.formData.order.dataSet,n=!0,i=!1,s=void 0;try{for(var l,d=(0,r.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;e.count=(0,g.accAdd)(e.count,u.tdAmount),u.inventoryPic=u.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+u.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){i=!0,s=e}finally{try{!n&&d.return&&d.return()}finally{if(i)throw s}}e.attachment=t.attachment,e.orderInfo=t.formData,e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo={creatorName:a.dealerDebitContactPersonName,dealerName:a.dealerName_dealerDebit,dealerMobilePhone:t.dealerDebitContactInformation,dealerContactPersonName:t.dealerDebitContactPersonName,dealerCode:a.dealerDebit,dealerLabelName:a.drDealerLabel,province:a.province_dealerDebit,city:a.city_dealerDebit,county:a.county_dealerDebit,address:a.address_dealerDebit,payment:a.drDealerPaymentTerm,logistics:t.drDealerLogisticsTerms}}}}},"6GQR":function(e,t){},"6IKZ":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2237,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"项目名称",value:"projectName_project"}]}},mixins:[i.default],methods:{},created:function(){}}},"6Nvu":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("3cXf"),o=n(s),l=a("J0Oq"),d=n(l),u=a("kNGm"),c=n(u),f=a("I8ug"),m=a("IzfM"),h=n(m),v=a("1KNX"),p=n(v),C=a("7hoq"),_=n(C),y=a("8dL1"),b=n(y),g=a("TZXR"),w=n(g);t.default={data:function(){return{scrollOptions:{click:!0},appInfo:{},commentList:[],LatestchangeLog:{},adminCommentList:[],isAppAdmin:!1,currentUserId:"",listId:"a4897429-f4f2-44a4-ade7-2fe8dc67c3cf"}},components:{RScroll:p.default,ChangeLog:_.default,AdminComment:b.default,OtherComment:w.default},watch:{$route:{handler:function(e,t){var a=e.meta,n=void 0===a?{}:a;"APPDETAIL"===e.name&&n.reload&&(this.$loading.show(),e.meta.reload=!1,this.getAppInfo(),this.$refs.changeLog.getChangeList(),this.$refs.adminComment.getAdminComment(),this.$refs.comment.getCommetList(),this.$loading.hide())}}},methods:{getDefaultIcon:function(e){var t=a("CYNT");return e&&(e.icon=t),t},getAppInfo:function(){var e=this;return(0,f.getAppDetail)(this.listId).then(function(t){e.appInfo=t[0],e.appInfo.icon=e.appInfo.icon?"/dist/"+e.appInfo.icon:"",e.appInfo.crtTime=(0,c.default)(e.appInfo.crtTime,"YYYY-MM-DD"),e.appInfo.modTime=(0,c.default)(e.appInfo.modTime,"YYYY-MM-DD")})},getCurrentUser:function(){var e=this;return h.default.currentUser().then(function(t){e.currentUserId=t.userId})}},created:function(){var e=this,t=this.$route.params.listId;t&&(this.$loading.show(),this.listId=t,(0,d.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getCurrentUser();case 2:return t.next=4,e.getAppInfo().then(function(t){var a=(0,o.default)(e.currentUserId);e.appInfo.administratorId.length&&a===e.appInfo.administratorId&&(e.isAppAdmin=!0)});case 4:case"end":return t.stop()}},t,e)}))(),setTimeout(function(){e.$loading.hide()},500))}}},"6Oqg":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages xsbj-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[e.matterList.length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v("物料列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.matterList,function(t,n){return a("div",{key:n,staticClass:"each_mater",class:{mater_delete:e.matterModifyClass,"vux-1px-b":n<e.matterList.length-1}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass},on:{"on-modify":function(a){e.modifyMatter(t,n)}},nativeOn:{click:function(a){e.delClick(n,t)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_more"},[a("span",{staticClass:"processing"},[e._v("属性: "+e._s(n.processing))]),e._v(" "),a("span",{staticClass:"unit"},[e._v("单位: "+e._s(n.measureUnit))]),e._v(" "),a("span",{staticClass:"mater_color"},[e._v("颜色: "+e._s(n.inventoryColor||"无"))])]),e._v(" "),a("div",{staticClass:"mater_more"},[a("span",{directives:[{name:"show",rawName:"v-show",value:n.tdAmount,expression:"item.tdAmount"}],staticClass:"processing"},[e._v("估计金额: "+e._s(n.tdAmount))])]),e._v(" "),n.price&&n.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price)+"\n                    ")]),e._v(" "),a("div",[a("r-number",{attrs:{num:n.tdQty,checkAmt:e.checkAmt(n)},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",t)},expression:"item.tdQty"}})],1)]):e._e()]}},{key:"edit",fn:function(t){var i=t.item;return[i.tdQty||e.matterModifyClass?e._e():a("div",{staticClass:"mater_other",on:{click:function(t){e.modifyMatter(i,n)}}},[a("div",{staticClass:"edit-tips"},[a("span",{staticClass:"tips-word"},[e._v("点击进行填写")])])])]}},{key:"editPart",fn:function(t){var i=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:i.tdQty&&!e.matterModifyClass,expression:"item.tdQty && !matterModifyClass"}],staticClass:"edit-part vux-1px-l",on:{click:function(t){e.modifyMatter(i,n)}}},[a("span",{staticClass:"iconfont icon-bianji1"})])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(n,t)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)}))]:[a("div",{on:{click:function(t){e.showMaterielPop=!e.showMaterielPop}}},[a("div",{staticClass:"title"},[e._v("物料列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择物料")]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part vx-1px-t"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),e.matterList.length?a("span",{staticClass:"add_more",on:{click:e.addMatter}},[e._v("新增更多物料")]):e._e()]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showMaterielPop,params:e.matterParams,"default-value":e.matterList},on:{"sel-matter":e.selMatter},model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}})],2),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,"is-show-amount":!1},on:{"sel-confirm":e.selConfirm},scopedSlots:e._u([{key:"modify",fn:function(t){var n=t.modifyMatter;return[a("x-input",{attrs:{title:"本次申请",type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",e._n(t))},expression:"modifyMatter.tdQty"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("本次申请")])])],2),e._v(" "),a("x-input",{attrs:{title:"估计价格",type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.price,callback:function(t){e.$set(n,"price",e._n(t))},expression:"modifyMatter.price"}}),e._v(" "),a("cell",{attrs:{title:"估计金额",value:n.tdAmount}})]}}]),model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num"},[a("span",{staticStyle:{fontSize:".14rem"}},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.tdAmount,3))+"\n      ")]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.save}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},"6TM+":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("BGNQ"),r=n(i),s=a("z5TY"),o=n(s),l=a("kNGm"),d=(n(l),a("0AQX")),u=a("+VRO"),c=n(u),f=(a("Qg39"),a("BUFe")),m=n(f),h=a("AupE"),v=n(h),p=a("bFc7"),C=n(p),_=a("FlCz"),y=n(_),b=a("hPJo"),g=n(b);t.default={data:function(){return{workInfo:{},orderInfo:{},bomList:[],warehouse:{}}},mixins:[c.default],components:{Cell:r.default,Group:o.default,RAction:m.default,workFlow:v.default,contactPart:C.default,BomList:y.default,WarehouseContent:g.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,d.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.attachment,r=void 0===i?[]:i,s=t.formData,o=void 0===s?{}:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var l=o.outPut,d=void 0===l?{}:l,u=d.dataSet,c=void 0===u?[]:u;e.warehouse={warehouseName:d.warehouseName_containerCode,warehouseType:d.warehouseType_containerCode,warehouseAddress:d.warehouseAddress_containerCode},c.forEach(function(e){e.inventoryName=e.inventoryName_outPutMatCode,e.inventoryCode=e.outPutMatCode}),e.bomList=c,e.attachment=r,e.orderInfo=o,e.workInfo=o.order.dataSet[0],e.workFlowInfoHandler()})}}}},"6VB5":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pop-warehouse-nbjgrk-container vux-1px-t",on:{click:e.warehouseClick}},[a("div",{staticClass:"pop-warehouse-nbjgrk-wrapper"},[a("span",[e._v("仓库")]),e._v(" "),a("span",[e._v(e._s(e.selItems.warehouseName))])]),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:!e.disabled,expression:"!disabled"}],staticClass:"iconfont icon-youjiantou r-arrow"}),e._v(" "),e.disabled?e._e():a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("div",{staticClass:"title"},[a("d-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}})],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"pop-list-container",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"pop-mater-list-item box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"pop-list-main "},[a("div",{staticClass:"pop-list-info"},[a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline name",staticStyle:{display:"inline-block"}},[a("span",[e._v(e._s(t.warehouseName))])]),e._v(" "),a("div",{staticClass:"ForInline name",staticStyle:{display:"inline-block"}},[a("span")])]),e._v(" "),a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline ",staticStyle:{display:"inline-block"}},[a("span",{staticClass:"creator"},[e._v(e._s(t.warehouseType))])])]),e._v(" "),a("div",{staticClass:"withoutColor"},[a("span",[e._v(e._s(t.warehouseProvince)+e._s(t.warehouseCity)+e._s(t.warehouseDistrict)+e._s(t.warehouseAddress))])])])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}))],1)])],1)])},i=[],r={render:n,staticRenderFns:i};t.a=r},"6WeX":function(e,t,a){"use strict";function n(e){a("JGS0")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("iAQa");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("mKXa"),o=a.n(s),l=a("c5qY"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-1d334356",null);t.default=c.exports},"6XrU":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("St0H");t.default={name:"cell-box",props:{isLink:Boolean,link:[String,Object],borderIntent:{type:Boolean,default:!0},noFlex:Boolean,alignItems:String},computed:{style:function(){if(this.alignItems)return{"align-items":this.alignItems}},className:function(){return{"vux-tap-active":this.isLink||!!this.link,"weui-cell_access":this.isLink||!!this.link,"vux-cell-no-border-intent":!this.borderIntent}}},methods:{onClick:function(){this.link&&(0,n.go)(this.link,this.$router)}}}},"6a8u":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),m=a("89pA"),h=n(m),v=a("hPJo"),p=n(v),C=a("3NX5"),_=n(C);t.default={data:function(){return{warehouseIn:{},warehouseOut:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513"}},mixins:[l.default],components:{workFlow:f.default,PopWarehouseList:h.default,RAction:u.default,WarehouseContent:p.default,MatterList:_.default},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.formData.outPut,n=void 0===a?{}:a,i=n.dataSet;e.attachment=t.attachment;var s=!0,o=!1,l=void 0;try{for(var d,u=(0,r.default)(i);!(s=(d=u.next()).done);s=!0){var c=d.value;c.inventoryName_transObjCode=c.inventoryName_outPutMatCode,c.transObjCode=c.outPutMatCode,c.specification=c.specification_outPutMatCode,c.inventoryPic=c.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+c.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){o=!0,l=e}finally{try{!s&&u.return&&u.return()}finally{if(o)throw l}}e.warehouseIn={warehouseCode:n.containerCode,warehouseName:""+n.warehouseName_containerCode,warehouseAction:"入库",warehouseIcon:"icon-ruku",warehouseType:n.warehouseType_containerCode,warehouseProvince:n.warehouseProvince_containerCode,warehouseCity:n.warehouseCity_containerCode,warehouseDistrict:n.warehouseDistrict_containerCode,warehouseAddress:n.warehouseAddress_containerCode},e.warehouseOut={warehouseCode:n.containerCodeOut,warehouseName:""+n.warehouseName_containerCodeOut,warehouseAction:"出库",warehouseIcon:"icon-chuku",warehouseType:n.warehouseType_containerCodeOut,warehouseProvince:n.warehouseProvince_containerCodeOut,warehouseCity:n.warehouseCity_containerCodeOut,warehouseDistrict:n.warehouseDistrict_containerCodeOut,warehouseAddress:n.warehouseAddress_containerCodeOut},e.orderInfo=t.formData,e.workFlowInfoHandler()})}},created:function(){}}},"6aCO":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"childPage"},[a("div",{staticClass:"content"},[a("div",{staticClass:"mater_baseinfo vux-1px-b"},[a("div",{staticClass:"mater_property"},[a("div",{staticClass:"each_property vux-1px-b"},[a("label",{staticClass:"required"},[e._v("仓库编码:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.warehouse.warehouseCode,expression:"warehouse.warehouseCode"}],staticClass:"property_val",class:{readonly:""!==e.transCode},attrs:{type:"text",readonly:""!==e.transCode},domProps:{value:e.warehouse.warehouseCode},on:{input:function(t){t.target.composing||e.$set(e.warehouse,"warehouseCode",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"each_property required",class:""!=e.transCode?"edit_bor_btm":""},[a("label",{staticClass:"required"},[e._v("仓库名称:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.warehouse.warehouseName,expression:"warehouse.warehouseName"}],staticClass:"property_val",attrs:{type:"text"},domProps:{value:e.warehouse.warehouseName},on:{input:function(t){t.target.composing||e.$set(e.warehouse,"warehouseName",t.target.value)}}})])]),e._v(" "),a("upload-image",{attrs:{src:e.MatPic},on:{"on-upload":e.onUpload,"on-error":e.getDefaultImg}})],1),e._v(" "),a("r-picker",{attrs:{title:"仓库类型:",data:e.AccountRelType,value:e.warehouse.warehouseType,required:!0},on:{"on-change":e.warehouseTypeChange},model:{value:e.warehouse.warehouseType,callback:function(t){e.$set(e.warehouse,"warehouseType",t)},expression:"warehouse.warehouseType"}}),e._v(" "),a("div",{staticClass:"each_property vux-1px-b",on:{click:function(t){e.showPop=!0}}},[a("label",[e._v(e._s(e.typeSubMap[e.typeSub].title))]),e._v(" "),a("div",{staticClass:"picker"},[a("span",{staticClass:"mater_nature"},[e._v(e._s(e.typeSubMap[e.typeSub].value))]),e._v(" "),a("span",{staticClass:"iconfont icon-gengduo"})])]),e._v(" "),a("r-picker",{attrs:{title:"仓库状态:",data:e.statusType,value:e.warehouseStatus},model:{value:e.warehouseStatus,callback:function(t){e.warehouseStatus=t},expression:"warehouseStatus"}})],1),e._v(" "),a("pop-warelabe-list",{attrs:{show:e.showPop,data:e.typeSubMap[e.typeSub].list,defaultValue:e.typeSubMap[e.typeSub].value},on:{"sel-group":e.selGroup,"list-search":e.getTypeSubList},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}}),e._v(" "),a("div",{staticClass:"vux-1px-t btn "},[a("div",{staticClass:"cfm_btn",on:{click:e.save}},[e._v(e._s(this.transCode?"保存":"提交"))])])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"6aPk":function(e,t,a){"use strict";function n(e){a("bJgI")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("SiYZ");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("+AWf"),o=a.n(s),l=a("Fazb"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-71497994",null);t.default=c.exports},"6arZ":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("B8DQ");t.default={name:"tab",mixins:[n.parentMixin],mounted:function(){var e=this;this.$nextTick(function(){setTimeout(function(){e.hasReady=!0},0)})},props:{lineWidth:{type:Number,default:3},activeColor:String,barActiveColor:String,defaultColor:String,disabledColor:String,animate:{type:Boolean,default:!0},customBarWidth:[Function,String],preventDefault:Boolean,scrollThreshold:{type:Number,default:4},barPosition:{type:String,default:"bottom",validator:function(e){return-1!==["bottom","top"].indexOf(e)}}},computed:{barLeft:function(){if(this.hasReady){var e=this.scrollable?window.innerWidth/this.$children[this.currentIndex||0].$el.getBoundingClientRect().width:this.number;return this.currentIndex*(100/e)+"%"}},barRight:function(){if(this.hasReady){var e=this.scrollable?window.innerWidth/this.$children[this.currentIndex||0].$el.getBoundingClientRect().width:this.number;return(e-this.currentIndex-1)*(100/e)+"%"}},innerBarStyle:function(){return{width:"function"==typeof this.customBarWidth?this.customBarWidth(this.currentIndex):this.customBarWidth,backgroundColor:this.barActiveColor||this.activeColor}},barStyle:function(){var e={left:this.barLeft,right:this.barRight,display:"block",height:this.lineWidth+"px",transition:this.hasReady?null:"none"};return this.customBarWidth?e.backgroundColor="transparent":e.backgroundColor=this.barActiveColor||this.activeColor,e},barClass:function(){return{"vux-tab-ink-bar-transition-forward":"forward"===this.direction,"vux-tab-ink-bar-transition-backward":"backward"===this.direction}},scrollable:function(){return this.number>this.scrollThreshold}},watch:{currentIndex:function(e,t){this.direction=e>t?"forward":"backward",this.$emit("on-index-change",e,t),this.hasReady&&this.scrollToActiveTab()}},data:function(){return{direction:"forward",right:"100%",hasReady:!1}},methods:{scrollToActiveTab:function(){var e=this;if(this.scrollable&&this.$children&&this.$children.length){var t=this.$children[this.currentIndex].$el,a=0,n=function n(){var i=e.$refs.nav;i.scrollLeft+=(t.offsetLeft-(i.offsetWidth-t.offsetWidth)/2-i.scrollLeft)/15,++a<15&&window.requestAnimationFrame(n)};window.requestAnimationFrame(n)}}}}},"6cyL":function(e,t){},"6lSn":function(e,t){},"6pcR":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"inPage"},[a("div",{ref:"home",staticClass:"content"},[a("div",{staticClass:"wrapper"},[a("div",{staticClass:"top-part-container"},[a("div",{staticClass:"top-part"},[a("div",{staticClass:"user-info-container"},[a("div",{staticClass:"user_avatar"},[a("img",{attrs:{src:e.userInfo.avatar}})]),e._v(" "),a("div",{staticClass:"user-info"},[a("p",{staticClass:"user_name"},[e._v(e._s(e.userInfo.nickname))]),e._v(" "),a("p",{staticClass:"user_other"},[e._v("@"+e._s(e.userInfo.userCode))])])]),e._v(" "),a("div",{staticClass:"entity-part",class:{active:e.showDrop},on:{click:function(t){e.showDrop=!e.showDrop}}},[a("span",{staticClass:"entity_name"},[e._v(e._s(e.userInfo.entityName))]),e._v(" "),e.entityList.length>1?a("span",{staticClass:"iconfont",class:{"icon-xia":!e.showDrop,"icon-shang":e.showDrop}}):e._e(),e._v(" "),a("ul",{directives:[{name:"show",rawName:"v-show",value:e.showDrop,expression:"showDrop"}],staticClass:"r-dropdown-list"},e._l(e.entityList,function(t,n){return a("li",{key:n,staticClass:"r-dropdown-item",class:{"vux-1px-b":n!==e.entityList.length-1},on:{click:function(a){a.stopPropagation(),e.dropItemClick(t)}}},[a("div",{staticClass:"item_name",class:{active:e.selItem.groupName===t.groupName}},[e._v(e._s(t.groupName))]),e._v(" "),e.selItem.groupName===t.groupName?a("div",{staticClass:"tips_part"},[a("span",{staticClass:"tips_word"},[e._v("当前选中")])]):e._e()])}))])])]),e._v(" "),a("basic-app",{attrs:{BasicApps:e.BasicApps,goBasic:e.goBasic,goAppDetail:e.goAppDetail}}),e._v(" "),a("bus-app",{attrs:{BusApps:e.BusApps,goList:e.goList,goAppDetail:e.goAppDetail,getDefaultIcon:e.getDefaultIcon}})],1)])])},i=[],r={render:n,staticRenderFns:i};t.a=r},"6q39":function(e,t,a){"use strict";function n(e){a("Thu3")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("UbXN");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("1ih/"),o=a.n(s),l=a("OXqN"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},"73SI":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("B8DQ");t.default={name:"tab-item",mixins:[n.childMixin],props:{activeClass:String,disabled:Boolean,badgeBackground:{type:String,default:"#f74c31"},badgeColor:{type:String,default:"#fff"},badgeLabel:String},computed:{style:function(){return{borderWidth:this.$parent.lineWidth+"px",borderColor:this.$parent.activeColor,color:this.currentSelected?this.$parent.activeColor:this.disabled?this.$parent.disabledColor:this.$parent.defaultColor,border:this.$parent.animate?"none":"auto"}}}}},"75mE":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"MatterItem",props:{showDelete:{type:Boolean,default:!1},item:{type:Object,default:function(){return{}}}},computed:{showEdit:function(){if(this.item.price||this.item.tdQty)return this.item.price||this.item.tdQty},hideEdit:function(){if(""===this.item.price||""===this.item.tdQty||0===this.item.price||0===this.item.tdQty)return!this.item.price||!this.item.tdQty}},data:function(){return{}},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},modifyMatter:function(){this.$emit("on-modify",this.item)}}}},"76tj":function(e,t){},"7D9F":function(e,t,a){"use strict";function n(e){a("Pl27")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("7oTb");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("CpKl"),o=a.n(s),l=a("aCu3"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-b7225488",null);t.default=c.exports},"7D9y":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("div",{staticClass:"title"},[a("m-search",{attrs:{filterList:e.filterList,isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}})],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.matterList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.matterList,function(t,n){return a("div",{key:n,staticClass:"each_mater box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[t.transCode&&!t.transCode.includes(",")&&e.isShowCode?a("div",{staticClass:"order-code"},[e._t("titleName",[a("span",{staticClass:"order-title"},[e._v("单号")])]),e._v(" "),a("span",{staticClass:"order-num"},[e._v(e._s(t.transCode))])],2):e._e(),e._v(" "),a("div",{staticClass:"order-matter"},[a("div",{staticClass:"mater_img"},[a("img",{attrs:{src:t.inventoryPic,alt:"mater_img"},on:{error:function(a){e.getDefaultImg(t)}}})]),e._v(" "),a("div",{staticClass:"mater_main "},[a("div",{staticClass:"mater_name"},[e._v("\n                "+e._s(t.inventoryName)+"\n              ")]),e._v(" "),a("div",{staticClass:"mater_info"},[a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline",staticStyle:{display:"inline-block"}},[a("div",{staticClass:"mater_code"},[a("span",{staticClass:"title"},[e._v("编码")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(t.inventoryCode))])])]),e._v(" "),a("div",{staticClass:"ForInline",staticStyle:{display:"inline-block"}},[a("div",{staticClass:"mater_spec"},[a("span",{staticClass:"title"},[e._v("规格")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(t.specification||"无"))])])])]),e._v(" "),a("div",{staticClass:"withoutColor"},[e._t("attribute",[a("div",{staticClass:"mater_classify"},[a("span",{staticClass:"type"},[e._v("属性: "+e._s(t.processing))]),e._v(" "),a("span",{staticClass:"father"},[e._v("大类: "+e._s(t.inventoryType||"无"))]),e._v(" "),a("span",{staticClass:"child"},[e._v("子类: "+e._s(t.inventorySubclass||"无"))])]),e._v(" "),a("div",{staticClass:"mater_material"},[a("span",{staticClass:"unit"},[e._v("单位: "+e._s(t.measureUnit))]),e._v(" "),a("span",{staticClass:"color"},[e._v("颜色: "+e._s(t.inventoryColor||"无"))]),e._v(" "),a("span",{staticClass:"spec"},[e._v("材质: "+e._s(t.material||"无"))])])],{item:t}),e._v(" "),e._t("storage",[void 0!==t.qtyBal?a("div",{staticClass:"mater_material"},[a("span",{staticClass:"spec"},[e._v("余额: "+e._s(t.qtyBal))])]):e._e(),e._v(" "),t.allQty?a("div",{staticClass:"mater_material"},[a("span",{staticClass:"spec"},[e._v("待做需求: "+e._s(t.qtyBalance))])]):e._e()],{item:t})],2)])])]),e._v(" "),a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-circle-outline selIcon",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}))],1),e._v(" "),a("div",{staticClass:"count_mode vux-1px-t"},[a("span",{staticClass:"count_num"},[e._v(" "+e._s(e.tmpItems.length?"已选 "+e.tmpItems.length+" 个":"请选择")+" ")]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.cfmMater}},[e._v("确定")])])])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"7DJ6":function(e,t){},"7Fqm":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=(a("jLp1"),a("MjAd")),o=n(s);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2325,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"项目名称",value:"projectName"}]}},mixins:[o.default],methods:{goDetail:function(e,t){var a=this;if(!this.clickVisited){var n=e.transCode,i=this.$route.query.name,s=this.$route.params,o=s.fileId,l=s.listId;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,r.default)({},e)),setTimeout(function(){a.clickVisited=!1,a.$router.push({path:"/detail/"+o+"/"+l,query:{name:i,transCode:n}})},200)}}}}},"7NvN":function(e,t,a){"use strict";function n(e){a("SdOm")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("PoQm");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("1hzx"),o=a.n(s),l=a("+0aU"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-5e3c4e26",null);t.default=c.exports},"7PqM":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2391,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"客户名称",value:"dealerName_dealerCodeCredit"}]}},mixins:[i.default],methods:{},created:function(){}}},"7Us3":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.contactInfo}},[a("template",{slot:"other"},[a("div",{staticClass:"other"},[a("span",{staticClass:"title"},[e._v("账期天数: ")]),e._v(" "),a("span",{staticClass:"mode"},[e._v(e._s(e.contactInfo.pamentDays||"暂无"))])])])],2),e._v(" "),a("matter-list",{attrs:{"order-list":e.orderList,noTaxAmount:e.noTaxAmount,taxAmount:e.taxAmount,count:e.count},scopedSlots:e._u([{key:"matterOther",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("属性: "+e._s(n.tdProcessing||"无"))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.taxRate,expression:"item.taxRate"}]},[e._v("税率: "+e._s(n.taxRate))]),e._v(" "),a("span",[e._v("合同数量: "+e._s(n.thenTotalQtyBal))]),e._v(" "),a("span",[e._v("已下单: "+e._s(n.thenLockQty))]),e._v(" "),a("span",[e._v("待下单: "+e._s(n.thenQtyBal))])]),e._v(" "),a("div",{staticClass:"mater_attribute"},[a("span",[e._v("交付开始日: "+e._s(n.dateActivation))]),e._v(" "),a("span",[e._v("预期交货日: "+e._s(n.promDeliTime))])]),e._v(" "),a("div",{staticClass:"mater_attribute"},[a("span",[e._v("交付截止日: "+e._s(n.executionDate))])]),e._v(" "),a("div",{staticClass:"mater_num"},[a("span",{staticClass:"num"},[e._v("单价: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.price),3)))]),e._v(" "),a("span",{staticClass:"num"},[e._v("本次下单: "+e._s(e._f("toFixed")(n.tdQty)))])]),e._v(" "),a("div",{staticClass:"mater_price"},[a("span",[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(n.tdAmount),3)))]),e._v(" "),n.taxRate?a("span",{staticClass:"num",style:{display:n.tdAmount&&n.tdAmount.toString().length>=7?"block":""}},[e._v("\n                [金额: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.noTaxAmount),3))+" + 税金: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.taxAmount),3))+"]\n              ")]):e._e()])])]}}])},[a("template",{slot:"orderTitle"},[a("span",{staticClass:"order_title"},[e._v("所属合同")])])],2),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},"7Y5m":function(e,t){},"7biW":function(e,t,a){"use strict";function n(e){a("SGFi")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("uzoC");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("mOwv"),o=a.n(s),l=a("c2fw"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-04bf12fe",null);t.default=c.exports},"7bk/":function(e,t){},"7cdy":function(e,t,a){"use strict";function n(e){a("XF8b")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Lp2T");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Lmxl"),o=a.n(s),l=a("QnVE"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-1479b71b",null);t.default=c.exports},"7d38":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2233,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}]}},mixins:[i.default],methods:{},created:function(){}}},"7fRA":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("AupE"),f=n(c),m=a("BUFe"),h=n(m),v=a("bFc7"),p=n(v),C=a("3NX5"),_=n(C),y=a("zlAJ"),b=n(y);t.default={data:function(){return{orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},attachment:[]}},mixins:[u.default],components:{workFlow:f.default,RAction:h.default,contactPart:p.default,MatterList:_.default,UploadFile:b.default},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u=s.order,c=u.dataSet,f=!0,m=!1,h=void 0;try{for(var v,p=(0,r.default)(c);!(f=(v=p.next()).done);f=!0){var C=v.value;C.inventoryPic=C.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+C.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){m=!0,h=e}finally{try{!f&&p.return&&p.return()}finally{if(m)throw h}}e.attachment=d,s.validUntil=(0,o.default)(u.validUntil,"YYYY-MM-DD"),e.orderInfo=s,e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo={creatorName:t.dealerDebitContactPersonName,dealerName:a.dealerName_dealerDebit,dealerMobilePhone:t.dealerDebitContactInformation,dealerContactPersonName:t.dealerDebitContactPersonName,dealerCode:a.dealerDebit,dealerLabelName:a.drDealerLabel,province:a.province_dealerDebit,city:a.city_dealerDebit,county:a.county_dealerDebit,address:a.address_dealerDebit,payment:a.drDealerPaymentTerm,validUntil:t.validUntil,logistics:t.drDealerLogisticsTerms}}}}},"7g+Q":function(e,t,a){"use strict";function n(e){a("Uwbf")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("XS99");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("hBwb"),o=a.n(s),l=a("5ixT"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},"7hoq":function(e,t,a){"use strict";function n(e){a("m/V4")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("zqmM");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("RXIz"),o=a.n(s),l=a("NpFw"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-38fce45a",null);t.default=c.exports},"7oTb":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("IHPB"),o=n(s),l=a("3cXf"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("+62G"),v=n(h),p=a("6q39"),C=n(p),_=a("HyXB"),y=a("1KNX"),b=n(y),g=a("7biW"),w=n(g);t.default={name:"PopManagerList",props:{title:{type:String,default:"项目经理"},defaultValue:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1}},directives:{TransferDom:v.default},components:{Icon:c.default,Popup:m.default,RScroll:b.default,DSearch:w.default,LoadMore:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},computed:{tip:function(){var e="加载中";return this.hasNext||(e="暂无数据"),e}},watch:{defaultValue:function(e){this.setDefaultValue()}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this.getList()},showSelIcon:function(e){return this.selItems.dealerName===e.dealerName},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.$emit("sel-item",(0,d.default)(this.selItems))},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:"dealerName"}])),(0,_.getObjDealerByLabelName)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,dealerLabelName:"员工",filter:(0,d.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,o.default)(e.listData),(0,o.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.selItems=this.defaultValue?(0,r.default)({},this.defaultValue):{}},warehouseClick:function(){this.disabled||(this.showPop=!this.showPop)},addWarehouse:function(){this.$router.push({path:"/warehouse/edit_warehouse",query:{add:1}})}},created:function(){this.setDefaultValue(),this.disabled||this.getList()}}},"7qeq":function(e,t,a){"use strict";function n(e){a("ijPy")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("aA6S");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("6XrU"),o=a.n(s),l=a("cIwV"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},"7rAE":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"badge",props:{text:[String,Number]}}},"7sWR":function(e,t,a){"use strict";function n(e){a("gGhs")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("ic8P");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Rg2x"),o=a.n(s),l=a("WEbs"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-54decdda",null);t.default=c.exports},"7sn7":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("J0Oq"),o=n(s),l=a("rVsN"),d=n(l),u=a("3cXf"),c=n(u),f=a("a3Yh"),m=n(f),h=a("IHPB"),v=n(h),p=a("KH7x"),C=n(p),_=a("4YfN"),y=n(_),b=a("8VZL"),g=n(b),w=a("HXPS"),I=n(w),x=a("fQz5"),D=n(x),P=a("Iu/6"),k=n(P),S=a("6q39"),T=n(S),L=a("HyXB"),N=a("I3vJ"),M=a("I8ug"),A=a("1KNX"),O=n(A),R=a("7biW"),j=n(R);t.default={components:{Tab:g.default,Icon:I.default,TabItem:D.default,Spinner:k.default,LoadMore:T.default,RScroll:O.default,RSearch:j.default},data:function(){return{listId:"78a798f8-0f3a-4646-aa8b-d5bb1fada28c",srhInpTx:"",matNature:[{name:"全部"},{name:"成品"},{name:"半成品"},{name:"商品"},{name:"原件"},{name:"虚拟件"},{name:"商品库存"},{name:"客供原料"},{name:"服务"}],activeTab:"",activeIndex:0,matterList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0},total:null,clickVisited:!1,action:{}}},methods:{goEditAds:function(){var e={path:"/materlist/addMater"};this.activeTab.length&&(e.query={matterType:this.activeTab}),this.$router.push(e)},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},goDetail:function(e,t){var a=this;this.clickVisited||(this.clickVisited=!0,e.visited=!0,this.$set(this.matterList,t,(0,y.default)({},e)),setTimeout(function(){a.clickVisited=!1,a.$router.push({path:"/materlist/materDetail",query:{transCode:e.transCode}})},200))},resetCondition:function(){this.matterList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.$refs.bScroll.resetPullDown()},tabClick:function(e,t){this.activeTab=t?e.name:"",this.activeIndex=t,this.resetCondition(),this.getMatList()},getDictByType:function(){var e=this;return(0,L.getDictByType)("processing").then(function(t){var a=t.tableContent,n=(0,C.default)(a,1);n[0];e.activeTab="",a.unshift({name:"全部"}),e.matNature=[].concat((0,v.default)(a))})},getMatList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=[{operator:"eq",value:this.activeTab,property:"processing"}];if(this.activeIndex||(a[0].operator="like"),this.srhInpTx){var n;a=[].concat((0,v.default)(a),[(n={link:"or",property_1:"inventoryCode",operator_1:"like",value_1:this.srhInpTx},(0,m.default)(n,"property_1","inventoryName"),(0,m.default)(n,"operator_1","like"),(0,m.default)(n,"value_2",this.srhInpTx),n)])}return(0,N.getMatList)({limit:this.limit,page:this.page,filter:(0,c.default)(a),listViewID:2132}).then(function(a){var n=a.dataCount,i=void 0===n?0:n,r=a.tableContent,s=void 0===r?[]:r,o="";t&&0===e.activeIndex&&e.total&&(o=i-e.total==0?"暂无新数据":"新增"+(i-e.total)+"条数据",e.$vux.toast.show({text:o,position:"top",width:"50%",type:"text",time:700})),0===e.activeIndex&&1===e.page&&sessionStorage.setItem("WL",i),s.forEach(function(t){t.inventoryPic=t.inventoryPic?"/H_roleplay-si/ds/download?url="+t.inventoryPic+"&width=400&height=400":e.getDefaultImg()}),e.hasNext=i>(e.page-1)*e.limit+s.length,e.matterList=1===e.page?s:[].concat((0,v.default)(e.matterList),(0,v.default)(s)),t||e.$nextTick(function(){e.resetScroll()})}).catch(function(t){e.resetScroll()})},resetScroll:function(){this.$refs.bScroll.finishPullDown(),this.$refs.bScroll.finishPullUp()},searchMat:function(e){var t=e.val,a=void 0===t?"":t;e.property;this.srhInpTx=a,this.resetCondition(),this.getMatList()},onPullingUp:function(){this.page++,this.getMatList()},onPullingDown:function(){this.page=1,this.getData(!0)},getSession:function(){var e=this;return new d.default(function(t){e.total=sessionStorage.getItem("WL"),t()})},getData:function(e){var t=this;return(0,o.default)(r.default.mark(function a(){return r.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getSession();case 2:if(!e){a.next=6;break}return a.next=5,t.getMatList(!0).then(function(){t.$nextTick(function(){t.$refs.bScroll.finishPullDown().then(function(){t.$refs.bScroll.finishPullUp()})})});case 5:return a.abrupt("return");case 6:return a.next=8,t.getMatList();case 8:case"end":return a.stop()}},a,t)}))()},changeVisitedStatus:function(){var e=this;setTimeout(function(){var t=[].concat((0,v.default)(e.matterList));t.forEach(function(e){e.visited=!1}),e.matterList=t},200)},getAppDetail:function(){var e=this;return(0,M.getAppDetail)(this.listId).then(function(t){var a=(0,C.default)(t,1),n=a[0],i=void 0===n?{}:n,r=i.action;e.action=r})}},watch:{$route:{handler:function(e,t){var a=e.path,n=void 0===a?"":a,i=e.meta,r=void 0===i?{}:i;"/materlist"===n&&(this.changeVisitedStatus(),r.reload&&(e.meta.reload=!1,this.srhInpTx="",this.activeTab="",this.activeIndex=0,this.resetCondition(),this.getData(!1)))}}},created:function(){var e=this;(0,o.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getAppDetail();case 2:return t.next=4,e.getSession();case 4:return t.next=6,e.getDictByType().then(function(){e.getMatList()});case 6:case"end":return t.stop()}},t,e)}))()}}},"7w4Q":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages xsbj-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[e.matterList.length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v("物料列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.matterList,function(t,n){return a("div",{key:n,staticClass:"each_mater",class:{mater_delete:e.matterModifyClass,"vux-1px-b":n<e.matterList.length-1}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass},on:{"on-modify":function(a){e.modifyMatter(t,n)}},nativeOn:{click:function(a){e.delClick(n,t)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_more"},[a("span",{staticClass:"unit"},[e._v("单位: "+e._s(n.measureUnit))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.drDealerLabel,expression:"item.drDealerLabel"}],staticClass:"mater_color"},[e._v("客户类型: "+e._s(n.drDealerLabel))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.qtyOnline,expression:"item.qtyOnline"}],staticClass:"mater_color"},[e._v("数量上线: "+e._s(n.qtyOnline))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.qtyDownline,expression:"item.qtyDownline"}],staticClass:"mater_color"},[e._v("数量下线: "+e._s(n.qtyDownline))])]),e._v(" "),a("div",{staticClass:"mater_other"},[n.price?a("div",{staticClass:"price"},[e._v("\n                        保准价格: "),a("span",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price))])]):e._e(),e._v(" "),n.specialReservePrice?a("div",{staticClass:"price"},[e._v("\n                        特批低价: "),a("span",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.specialReservePrice))])]):e._e()])]}},{key:"edit",fn:function(t){var i=t.item;return[i.price||e.matterModifyClass?e._e():a("div",{staticClass:"mater_other",on:{click:function(t){e.modifyMatter(i,n)}}},[a("div",{staticClass:"edit-tips"},[a("span",{staticClass:"tips-word"},[e._v("点击进行填写")])])])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(n,t)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)}))]:[a("div",{on:{click:function(t){e.showMaterielPop=!e.showMaterielPop}}},[a("div",{staticClass:"title"},[e._v("物料列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择物料")]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part vx-1px-t"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),e.matterList.length?a("span",{staticClass:"add_more",on:{click:e.addMatter}},[e._v("新增更多物料")]):e._e()]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showMaterielPop,"get-list-method":"getProductPriceAllInventory","default-value":e.matterList},on:{"sel-matter":e.selMatter},model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}})],2),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,"is-show-amount":!1},on:{"sel-confirm":e.selConfirm},scopedSlots:e._u([{key:"modify",fn:function(t){var n=t.modifyMatter;return[a("x-input",{attrs:{type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.qtyDownline,callback:function(t){e.$set(n,"qtyDownline",e._n(t))},expression:"modifyMatter.qtyDownline"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("数量下线\n                ")])])],2),e._v(" "),a("x-input",{attrs:{type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.qtyOnline,callback:function(t){e.$set(n,"qtyOnline",e._n(t))},expression:"modifyMatter.qtyOnline"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("数量上线\n                ")])])],2),e._v(" "),a("x-input",{attrs:{type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.price,callback:function(t){e.$set(n,"price",e._n(t))},expression:"modifyMatter.price"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("标准价格\n                ")])])],2),e._v(" "),a("x-input",{attrs:{type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.specialReservePrice,callback:function(t){e.$set(n,"specialReservePrice",e._n(t))},expression:"modifyMatter.specialReservePrice"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("特批底价\n                ")])])],2),e._v(" "),a("popup-picker",{attrs:{data:e.dealerTypeList,"popup-style":e.pickerStyle},on:{"on-change":function(t){e.onChange(t,n)}},model:{value:n.PopDealerLabel,callback:function(t){e.$set(n,"PopDealerLabel",t)},expression:"modifyMatter.PopDealerLabel"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("客户类型\n                ")])])],2)]}}]),model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"btn-item",on:{click:e.save}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},"7xzZ":function(e,t,a){"use strict";function n(e){a("iwwm")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("ntXv");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Zdcs"),o=a.n(s),l=a("1M7H"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-06773914",null);t.default=c.exports},"7yk4":function(e,t){},"800f":function(e,t){},"82Uv":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MgeX"),r=n(i),s=a("HzJ8"),o=n(s),l=a("IHPB"),d=n(l),u=a("3cXf"),c=n(u),f=a("4YfN"),m=n(f),h=a("3QQJ"),v=n(h),p=a("8VZL"),C=n(p),_=a("fQz5"),y=n(_),b=a("ak47"),g=n(b),w=a("Dkzh"),I=a("1KNX"),x=n(I),D=a("WJwd"),P=n(D),k=a("bBLw"),S=n(k),T=a("Z5v5");t.default={data:function(){return{listData:{},isNull:!1,tabList:[{name:"待办",status:"todo"},{name:"评论",status:"comment"},{name:"点赞",status:"praise"}],activeIndex:0,commentList:[],scrollOptions:{pullUpLoad:!0},page:1,limit:10,hasNext:!0,isClickDetail:!1}},computed:{noDataText:function(){return["暂无待办消息","暂无评论消息","暂无点赞消息"][this.activeIndex]}},components:{Badge:v.default,RScroll:x.default,TodoItem:P.default,CommentItem:S.default,Tab:C.default,TabItem:y.default},methods:{onTabClick:function(e){var t=[this.getList,this.getComment,this.getPraise];this.activeIndex=e,this.$refs.bScroll.scrollTo(0,0),this.resetCondition(),t[this.activeIndex]()},getDefaultIcon:function(e){var t=a("CYNT");return e&&(e.icon=t),t},resetCondition:function(){this.page=1,this.commentList=[],this.listData={},this.hasNext=!0},getList:function(){var e=this;return(0,w.getMsgList)().then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;if(e.$event.$emit("badgeNum",n),e.hasNext=!1,!r.length)return void(e.isNull=!0);r.forEach(function(t){e.isNull=!1,t.pic=t.icon?"/dist/"+t.icon:e.getDefaultIcon(),g.default[t.listId]&&(e.listData[t.title]?e.listData[t.title].list.push(t):e.$set(e.listData,t.title,{list:[t]}))}),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},goMsglist:function(e,t){var a=this;e.visited=!0,this.isClickDetail=!0,this.$set(this.listData,t,(0,m.default)({},e)),setTimeout(function(){a.$router.push({path:"/msglist",query:{name:t}})},200)},getNotice:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"comment",a=[{property:"type",operator:"eq",value:t}];return(0,w.getNotice)({page:this.page,limit:this.limit,filter:(0,c.default)(a)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.isNull=!r.length,e.hasNext=n>(e.page-1)*e.limit+r.length;var s=!0,l=!1,u=void 0;try{for(var c,f=(0,o.default)(r);!(s=(c=f.next()).done);s=!0){var m=c.value,h=JSON.parse(m.content);m.comment=h.content,m.commentType=h.type,m.attachment=h.attachment,m.RELATION_KEY=h.relationKey,m.pic=m.icon?"/dist/"+m.icon:e.getDefaultIcon(),m.other="list"===h.type?"@应用详情":"@实例编码: "+h.relationKey,-1!==h.parentId&&(m.comment="回复@"+h.objCreator+": "+h.content,m.reply={createrName:h.objCreator,comment:"@"+h.objCreator+" 评论: "+h.objContent}),"praise"===m.type&&(m.comment="赞了这条评论",m.reply={createrName:h.creator,comment:"@"+h.creator+": "+h.content,attachment:h.attachment})}}catch(e){l=!0,u=e}finally{try{!s&&f.return&&f.return()}finally{if(l)throw u}}return e.commentList=1===e.page?r:[].concat((0,d.default)(e.commentList),(0,d.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()}),t})},getComment:function(){return this.getNotice()},getPraise:function(){return this.getNotice("praise")},goDetail:function(e,t){var a=this,n=e.commentType,i=void 0===n?"":n,r=e.listId,s=void 0===r?"":r,o=e.listName,l=void 0===o?"":o,d=e.RELATION_KEY,u=void 0===d?"":d,c={name:l,transCode:u},f="",h="";e.listTypeID?(f=e.listTypeID,h=e.parentId,c.childId=h):f=e.parentId;var v="/detail/"+f+"/"+s;"list"===i&&(v="/appDetail/"+s,c={}),e.visited=!0,this.isClickDetail=!0,this.$set(this.commentList,t,(0,m.default)({},e)),setTimeout(function(){a.$router.push({path:v,query:c})},200)},onPullingUp:function(){this.page++,1===this.activeIndex?this.getNotice():2===this.activeIndex&&this.getPraise()},changeVisitedStatus:function(){var e=this;if(0===this.activeIndex){var t=(0,m.default)({},this.listData);(0,r.default)(t).forEach(function(e){e.visited=!1}),setTimeout(function(){e.listData=t},200)}else{var a=[].concat((0,d.default)(this.commentList));a.forEach(function(e){e.visited=!1}),setTimeout(function(){e.commentList=a},200)}this.isClickDetail=!1}},beforeRouteLeave:function(e,t,a){"/home"===e.path&&(t.meta.reload=!0),a()},created:function(){var e=this;this.$loading.show(),this.getList().then(function(){e.$loading.hide()})},activated:function(){var e=this,t=this.$route.meta.reload;(0,T.register)(),t?(this.listData={},this.activeIndex=0,this.$loading.show(),this.getList().then(function(){e.$loading.hide()}),this.$route.meta.reload=!1):this.isClickDetail&&this.changeVisitedStatus()}}},"84pt":function(e,t){},"864G":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Srds"),r=n(i),s=a("vWgl"),o=n(s);t.default=[{path:"/notice",name:"MSGHOME",component:r.default,meta:{title:"消息列表",keepAlive:!0}},{path:"/msglist",name:"MSGLIST",component:o.default,meta:{title:"应用消息列表",keepAlive:!0}}]},"86eb":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"inline-desc"}},"87MO":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("4YfN"),o=n(s),l=a("MgeX"),d=n(l),u=a("HzJ8"),c=n(u),f=a("ZLEe"),m=n(f),h=a("rVsN"),v=n(h),p=a("IHPB"),C=n(p),_=a("3cXf"),y=n(_),b=a("HXPS"),g=n(b),w=a("BGNQ"),I=n(w),x=a("z5TY"),D=n(x),P=a("SAzG"),k=n(P),S=a("u28h"),T=n(S),L=a("PzEQ"),N=n(L),M=a("kNGm"),A=n(M),O=a("0AQX"),R=a("I3vJ"),j=a("HyXB"),$=a("bKg5"),B=n($),E=a("luHD"),F=n(E),U=a("Pb67"),q=n(U),Q=a("d7ck"),H=n(Q),V=a("FlCz"),X=n(V),z=a("MVgC"),Y=n(z),W=a("vl8n"),G=n(W),J=a("+WR7"),K=n(J),Z=a("zWMP"),ee=a("Qg39");t.default={name:"ApplyWLXQJHForm",mixins:[B.default],components:{Icon:g.default,Cell:I.default,Group:D.default,XInput:k.default,XTextarea:N.default,PopMatter:F.default,PopOrderList:q.default,Datetime:T.default,FormCell:H.default,BomList:X.default,BomPop:Y.default,RPicker:G.default,PopBaseinfo:K.default},data:function(){return{listId:"867e0b4f-548f-4e08-873a-1b8e54333630",orderList:{},showOrderPop:!1,formData:{biComment:""},submitSuccess:!1,numMap:{},transCode:"",formViewUniqueId:"82784823-ded5-4a58-a746-d32514f7d26f",biReferenceId:"",actions:[],taskId:"",matterList:[],entity:{},tmpItems:{},matter:{},showMatterPop:!1,DuplicateBoms:[],UniqueBom:[],modifyIndex:null,modifyKey:null,bomPopShow:!1,bom:{},modifyBomTdqty:[]}},watch:{matter:{handler:function(e){var t=this;e.boms&&e.boms.forEach(function(a){var n=t.calcBom(e.processQty,a);a.tdQty=Math.abs((0,ee.toFixed)(n))})},deep:!0}},methods:{checkBom:function(e,t,a){this.bom=e,this.modifyIndex=t,this.modifyKey=a,this.bomPopShow=!0,this.modifyBomTdqty=JSON.parse((0,y.default)(e.boms))},bomConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t),this.reBuildArr(t)},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,y.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a,this.modifyBomTdqty=[].concat((0,C.default)(e.boms))},selConfirm:function(e){var t=JSON.parse(e);t.processQty?t.tdQty=(0,Z.accAdd)(t.lockQty,t.processQty):t.tdQty="",this.$set(this.orderList[this.modifyKey],this.modifyIndex,t),this.reBuildArr(t)},reBuildArr:function(e){var t=this,a=e.boms;this.modifyBomTdqty.forEach(function(e){a.forEach(function(a){if(a.inventoryCode===e.inventoryCode)return a.newTdqty=(0,Z.accSub)(a.tdQty,e.tdQty),t.UniqueBom.forEach(function(e){if(a.inventoryCode===e.inventoryCode)return e.tdQty=(0,Z.accAdd)(e.tdQty,a.newTdqty),!1}),!0})})},selOrder:function(e){var t=this,a=JSON.parse(e),n={},i=[];this.DuplicateBoms=[],a.forEach(function(e){var a=e.transCode+"_"+e.inventoryCode,r=e.promDeliTime?(0,A.default)(new Date(e.promDeliTime)-2592e5,"YYYY-MM-DD"):"",s=t.numMap[a]||{},o=s.tdQty,l=void 0===o?"":o,d=s.processQty,u=void 0===d?"":d,c=s.lockQty,f=void 0===c?e.qtyBal:c,m=s.shippingTime,h=void 0===m?r:m,v=s.boms,p=void 0===v?[]:v;e.tdQty=l,e.processQty=u,e.lockQty=f,e.shippingTime=h,n[e.transCode]||(n[e.transCode]=[]),i.push((0,R.getJGRKBom)({parentInvCode:e.inventoryCode}).then(function(a){var n=a.tableContent,i=void 0===n?[]:n;i.forEach(function(a){var n=p.find(function(e){return a.inventoryCode===e.inventoryCode})||{},i=n.specificLoss,s=void 0===i?a.specificLoss:i,o=n.lockQty,l=void 0===o?0:o,d=n.shippingTime,u=void 0===d?r:d;a.specificLoss=parseFloat(s),a.lockQty=l,a.shippingTime=u;var c=t.calcBom(e.processQty,a);a.tdQty=Math.abs((0,ee.toFixed)(c))}),t.$set(e,"boms",i);var s=JSON.parse((0,y.default)(i));t.DuplicateBoms=[].concat((0,C.default)(t.DuplicateBoms),(0,C.default)(s))})),n[e.transCode].push(e)}),v.default.all(i).then(function(e){t.mergeBomList()}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},findIndex:function(e,t){return e.findIndex(function(e){return e.orderCode===t.orderCode&&e.transCode===t.transCode&&e.inventoryCode===t.inventoryCode})},delClick:function(e,t,a){var n=this.selItems,i=this.findIndex(n,t);if(-1!==i)return void n.splice(i,1);n.push(t)},showSelIcon:function(e){return-1!==this.findIndex(this.selItems,e)},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,y.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,m.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.orderCode===a.orderCode&&t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=e.findIndex(n,t);i>=0&&(e.$refs.order.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}})}),e.selItems.forEach(function(t){t.boms.forEach(function(t){return e.UniqueBom.forEach(function(a,n){if(t.inventoryCode===a.inventoryCode){var i=(0,Z.accSub)(a.tdQty,t.tdQty);return a.tdQty=(0,ee.toFixed)(i),a.tdQty<=0&&e.UniqueBom.splice(n,1),!1}}),!0})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,c.default)((0,d.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,l=!1,u=void 0;try{for(var f,m=(0,c.default)(r);!(s=(f=m.next()).done);s=!0){var h=f.value;this.numMap[h.transCode+"_"+h.inventoryCode]=(0,o.default)({},h)}}catch(e){l=!0,u=e}finally{try{!s&&m.return&&m.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="";if(t||(0,m.default)(this.orderList).length||(t="请选择物料"),!t){var a=!0,n=!1,i=void 0;try{for(var s,l=(0,c.default)((0,d.default)(this.orderList));!(a=(s=l.next()).done);a=!0){var u=s.value,f=!0,h=!1,v=void 0;try{for(var p,C=(0,c.default)(u);!(f=(p=C.next()).done);f=!0){var _=p.value;if(!_.tdQty){t="请填写本次入库数量";break}var b=!0,g=!1,w=void 0;try{for(var I,x=(0,c.default)(_.boms);!(b=(I=x.next()).done);b=!0){var D=I.value;if(D.qtyStock<D.tdQty){t="可用余额不能少于本次扣料，请重新输入入库数量";break}}}catch(e){g=!0,w=e}finally{try{!b&&x.return&&x.return()}finally{if(g)throw w}}if(t)break}}catch(e){h=!0,v=e}finally{try{!f&&C.return&&C.return()}finally{if(h)throw v}}if(t)break}}catch(e){n=!0,i=e}finally{try{!a&&l.return&&l.return()}finally{if(n)throw i}}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=[],a=j.saveAndStartWf,n={},i=(0,r.default)({},e.processCode,{businessKey:"IPPI",createdBy:""}),s=!0,l=!1,u=void 0;try{for(var f,m=(0,c.default)((0,d.default)(e.orderList));!(s=(f=m.next()).done);s=!0){var h=f.value,v=!0,p=!1,C=void 0;try{for(var _,b=(0,c.default)(h);!(v=(_=b.next()).done);v=!0){var g=_.value,w=[],I=!0,x=!1,D=void 0;try{for(var P,k=(0,c.default)(g.boms);!(I=(P=k.next()).done);I=!0){var S=P.value;w.push({transMatchedCode:g.transCode,tdQty:S.tdQty,lockQty:S.lockQty,demandQty:S.qty,thenQtyStock:S.qtyStock,bomSpecificLoss:S.specificLoss,inventoryType:S.inventoryType,tdProcessing:S.processing||S.tdProcessing,containerCodeOut:S.warehouseCode,material:S.material,inventoryName:S.inventoryName,specification:S.specification,transObjCode:S.inventoryCode,measureUnit:S.measureUnit,bomType:S.bomType,bomQty:S.qty||S.bomQty,shippingTime:S.shippingTime})}}catch(e){x=!0,D=e}finally{try{!I&&k.return&&k.return()}finally{if(x)throw D}}var T={tdId:g.tdId||null,transMatchedCode:g.transCode,transObjCode:g.inventoryCode,inventoryName_transObjCode:g.inventoryName,tdProcessing:g.processing,containerCodeOut:g.warehouseCode,measureUnit_transObjCode:g.measureUnit,thenQtyBal:g.qtyBal,promDeliTime:g.promDeliTime,thenQtyStock:g.qtyStock,lockQty:g.lockQty,processQty:g.processQty,tdQty:g.tdQty,leadTime:g.comment||null,shippingTime:g.shippingTime||null,comment:g.comment||null,boms:w};t.push(T)}}catch(e){p=!0,C=e}finally{try{!v&&b.return&&b.return()}finally{if(p)throw C}}}}catch(e){l=!0,u=e}finally{try{!s&&m.return&&m.return()}finally{if(l)throw u}}n=(0,o.default)({},e.formData,{modifer:e.transCode?e.formData.handler:"",handlerEntity:e.entity.dealerName,biProcessStatus:e.currentStage,inPut:{dataSet:t}}),e.transCode&&(a=j.saveAndCommitTask,i={businessKey:e.transCode,createdBy:n.creator||n.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var L={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,y.default)(n),wfPara:(0,y.default)(i)};e.transCode||delete L.biReferenceId,e.processCode.length||(a=j.submitAndCalc,delete L.wfPara,delete L.biReferenceId),e.biReferenceId&&(L.biReferenceId=e.biReferenceId),console.log(L),e.saveData(a,L)}})},getFormData:function(){var e=this;return(0,O.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,l=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var d={};e.attachment=l;var u=r.inPut,f=u.dataSet,m=void 0===f?[]:f,h=!0,v=!1,p=void 0;try{for(var C,_=(0,c.default)(m);!(h=(C=_.next()).done);h=!0){var b=C.value;b.boms.forEach(function(e){e.inventoryCode=e.transObjCode,e.specificLoss=e.bomSpecificLoss,e.qty=e.bomQty}),e.DuplicateBoms=e.DuplicateBoms.concat(JSON.parse((0,y.default)(b.boms))),b=(0,o.default)({},b,{transCode:b.transMatchedCode,qtyBal:b.thenQtyBal,inventoryPic:b.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+b.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:b.inventoryName_transObjCode,inventoryCode:b.transObjCode,specification:b.specification_transObjCode,processing:b.tdProcessing}),d[b.transCode]||(d[b.transCode]=[]),d[b.transCode].push(b)}}catch(e){v=!0,p=e}finally{try{!h&&_.return&&_.return()}finally{if(v)throw p}}e.matterList=m,e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,o.default)({},e.formData,e.handlerDefault,{biComment:r.biComment,biId:r.biId,biProcessStatus:r.biProcessStatus,creator:r.creator,modifer:r.modifer,drDealerLogisticsTerms:r.drDealerLogisticsTerms}),e.mergeBomList(),e.biReferenceId=r.biReferenceId,e.orderList=d,e.$loading.hide()})},mergeBomList:function(){var e=function(e,t){return e.inventoryCode===t.inventoryCode};this.UniqueBom=function(t){return t.reduce(function(t,a){return t.some(function(t){var n=e(t,a);return n&&(t.tdQty=(0,Z.accAdd)(t.tdQty,a.tdQty)),n})||t.push(a),t},[])}(this.DuplicateBoms)},hasDraftData:function(){return!!(0,d.default)(this.orderList).length&&(0,r.default)({},"WLXQJH_DATA",{orderList:this.orderList,formData:this.formData,DuplicateBoms:this.DuplicateBoms})},checkQtyBal:function(e){var t=e.qtyBal,a=e.qtyStock;t=Math.abs((0,ee.toFixed)(t)),t>a&&(t=a),e.qtyBal=t},checklockQty:function(e){var t=e.qtyBal,a=e.lockQty,n=e.processQty;a=Math.abs((0,ee.toFixed)(a)),(0,Z.accAdd)(a,n)>t&&(a=(0,Z.accSub)(t,n)),e.lockQty=a},checkprocessQty:function(e){var t=e.qtyBal,a=e.lockQty,n=e.processQty;n=Math.abs((0,ee.toFixed)(n)),(0,Z.accAdd)(a,n)>t&&(n=(0,Z.accSub)(t,a)),e.processQty=n},modifyBomLockQty:function(e){var t=this;this.$vux.confirm.prompt(e.lockQty,{title:"原料库存计划",onConfirm:function(a){if(a){t.$refs.bomPop.changeToConfirm(),e.lockQty=Math.abs((0,ee.toFixed)(a));var n=t.calcBom(t.bom.processQty,e);e.tdQty=Math.abs((0,ee.toFixed)(n))}}})},modifyBomSpecificLoss:function(e){var t=this;this.$vux.confirm.prompt(item.specificLoss,{title:"单位损耗率",onConfirm:function(a){if(a){t.$refs.bomPop.changeToConfirm(),e.specificLoss=Math.abs((0,ee.toFixed)(a));var n=t.calcBom(t.bom.processQty,e);e.tdQty=Math.abs((0,ee.toFixed)(n))}}})},modifyBomDate:function(e){var t=this;this.$vux.datetime.show({cancelText:"取消",confirmText:"确定",value:e.shippingTime,onConfirm:function(a){t.$refs.bomPop.changeToConfirm(),e.shippingTime=a}})},calcBom:function(e,t){return(0,Z.accSub)((0,Z.accMul)(e,t.qty,1+t.specificLoss),t.lockQty)}},filters:{dateFormat:A.default},created:function(){var e=sessionStorage.getItem("WLXQJH_DATA");if(e){var t=JSON.parse(e);this.orderList=t.orderList,this.formData=t.formData,this.DuplicateBoms=t.DuplicateBoms,this.mergeBomList(),sessionStorage.removeItem("WLXQJH_DATA")}}}},"88rY":function(e,t,a){function n(e){return a(i(e))}function i(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var r={"./consumable/DZYHPCGDD_List.vue":"g0+/","./consumable/DZYHPCGSQ_List.vue":"gufi","./consumable/DZYHPCGYSYZF_List.vue":"ACTo","./contacts/COMPANY_List.vue":"8hwe","./contacts/JOB_List.vue":"OyWz","./contacts/USER_List.vue":"wT6g","./equipment/SBCGDD_List.vue":"JvnV","./equipment/SBCGSQ_List.vue":"98vG","./equipment/SBCGYS_List.vue":"oxg+","./finance/BXYZF_List.vue":"QRhw","./finance/CH_List.vue":"1Kxi","./finance/CRCDHP_List.vue":"drc+","./finance/DFCDHP_List.vue":"Q6Kg","./finance/DXTXCDHP_List.vue":"7NvN","./finance/FGYSDJ_List.vue":"rOS6","./finance/FGYSQK_List.vue":"Rxk/","./finance/FK_List.vue":"Z/nY","./finance/HBZJ_List.vue":"EfN/","./finance/HGCW_List.vue":"nUHg","./finance/JKYBYJ_List.vue":"13HE","./finance/KCCDHP_List.vue":"KzA7","./finance/SDCDHP_List.vue":"zHRR","./finance/SK_List.vue":"/Pa9","./finance/WLYE_List.vue":"DcGI","./finance/XMFYBX_List.vue":"m/NV","./finance/YBFYBX_List.vue":"sX8C","./finance/ZZSKP_List.vue":"0jTj","./finance/ZZSSP_List.vue":"Fu6s","./hr/YGDA_List.vue":"cEa5","./hr/YGLZ_List.vue":"FBTb","./hr/YGRZ_List.vue":"HPEG","./hr/ZPJH_List.vue":"uvT0","./plan/BHDD_List.vue":"qEV3","./plan/WLXQJH_List.vue":"pAHg","./plan/WLXQTJ_List.vue":"3Ex/","./plan/XSDDYC_List.vue":"XCFZ","./product/CPFB_List.vue":"FIt+","./product/CPXQ_List.vue":"sk0R","./production/GDBLL_List.vue":"EVlf","./production/GDRWQD_List.vue":"NUgK","./production/GDRW_List.vue":"lnNG","./production/GDYS_List.vue":"ZKwe","./production/NBJGDD_List.vue":"3p7d","./project/XMJH_List.vue":"cQ92","./project/XMJX_List.vue":"z10A","./project/XMLX_List.vue":"SDtT","./project/XMRW_List.vue":"ImmF","./purchase/CGDD_List.vue":"u5pD","./purchase/CGSQ_List.vue":"i2BW","./purchase/CGXY_List.vue":"P5Nb","./sale/CPJG_List.vue":"X0tG","./sale/KPSQ_List.vue":"+YRA","./sale/SJ_List.vue":"10t/","./sale/XSBJ_List.vue":"c3Wr","./sale/XSDD_List.vue":"5NAd","./sale/XSHT_List.vue":"PSYi","./stock/BDKCDB_List.vue":"bRMi","./stock/CGRK_List.vue":"oylf","./stock/CGTHCK_List.vue":"5jAZ","./stock/GDBLL_List.vue":"FT4d","./stock/KCPD_List.vue":"CcvO","./stock/NBJGLL_List.vue":"0XI/","./stock/NBJGRK_List.vue":"5UXJ","./stock/XSCK_List.vue":"1oCA"};n.keys=function(){return Object.keys(r)},n.resolve=i,e.exports=n,n.id="88rY"},"89pA":function(e,t,a){"use strict";function n(e){a("3Nm0")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("NLlj");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("lwni"),o=a.n(s),l=a("Wzqb"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-7590b56e",null);t.default=c.exports},"8CYM":function(e,t){},"8CsO":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,"default-contact":e.contactInfo},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("pop-single-select",{attrs:{title:"结算方式",data:e.transMode,value:e.dealerInfo.paymentTerm,isRequired:""},model:{value:e.dealerInfo.paymentTerm,callback:function(t){e.$set(e.dealerInfo,"paymentTerm",t)},expression:"dealerInfo.paymentTerm"}}),e._v(" "),a("pop-single-select",{attrs:{title:"物流条款",data:e.logisticsTerm,value:e.dealerInfo.dealerLogisticsTerms},model:{value:e.dealerInfo.dealerLogisticsTerms,callback:function(t){e.$set(e.dealerInfo,"dealerLogisticsTerms",t)},expression:"dealerInfo.dealerLogisticsTerms"}}),e._v(" "),a("cell",{staticClass:"cell-item",attrs:{title:"账期天数",value:e.dealerInfo.pamentDays}}),e._v(" "),a("cell",{staticClass:"cell-item",attrs:{title:"账期到期日",value:e.dealerInfo.accountExpirationDate}}),e._v(" "),a("pop-warehouse-list",{attrs:{isRequired:"","default-value":e.warehouse},on:{"sel-item":e.selWarehouse}}),e._v(" "),a("div",{staticClass:"materiel_list"},[Object.keys(e.orderList).length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v("订单列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n,i){return a("div",{key:n,staticClass:"each_mater",class:{"vux-1px-b":i<Object.keys(e.orderList).length-1}},[t.length?a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v("所属订单")]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]):e._e(),e._v(" "),e._l(t,function(t,i){return a("div",{key:i,class:{mater_delete:e.matterModifyClass}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass},on:{"on-modify":function(a){e.modifyMatter(t,i,n)}},nativeOn:{click:function(a){e.delClick(i,t,n)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_more"},[a("span",{staticClass:"unit"},[e._v("属性: "+e._s(n.processing))]),e._v(" "),a("span",{staticClass:"mater_color"},[e._v("颜色: "+e._s(n.inventoryColor||"无"))]),e._v(" "),a("span",{staticClass:"unit"},[e._v("单位: "+e._s(n.measureUnit))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.taxRate,expression:"item.taxRate"}]},[e._v("税率: "+e._s(n.taxRate||e.taxRate))])]),e._v(" "),a("div",{staticClass:"mater_more"},[a("div",[a("span",[e._v("订单数量: "+e._s(n.qty))]),e._v(" "),a("span",[e._v("已出库数量: "+e._s(n.stockQty))]),e._v(" "),a("span",[e._v("在库库存: "+e._s(n.qtyStockBal))])]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.promDeliTime,expression:"item.promDeliTime"}],staticClass:"unit"},[e._v("预期交货日: "+e._s(n.promDeliTime))])]),e._v(" "),n.price&&n.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price)+"\n                      ")]),e._v(" "),a("div",[a("r-number",{attrs:{num:n.tdQty,max:n.qtyStockBal,checkAmt:e.checkAmt},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",t)},expression:"item.tdQty"}})],1)]):e._e()]}},{key:"editPart",fn:function(t){var r=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r.price&&r.tdQty&&!e.matterModifyClass,expression:"(item.price && item.tdQty) &&!matterModifyClass"}],staticClass:"edit-part vux-1px-l",on:{click:function(t){e.modifyMatter(r,i,n)}}},[a("span",{staticClass:"iconfont icon-bianji1"})])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(i,t,n)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)})],2)}))]:[a("div",{on:{click:function(t){e.showOrderPop=!e.showOrderPop}}},[a("div",{staticClass:"title"},[e._v("订单列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择订单")]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),Object.keys(e.orderList).length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多物料")])]):e._e(),e._v(" "),a("pop-order-list",{ref:"order",attrs:{show:e.showOrderPop,params:e.orderParams,"default-value":e.orderList},on:{"sel-matter":e.selOrder},scopedSlots:e._u([{key:"materInfo",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_material"},[a("div",[a("span",[e._v("保质期天数: "+e._s(n.keepingDays))]),e._v(" "),a("span",[e._v("临保天数: "+e._s(n.nearKeepingDays))]),e._v(" "),a("span",[e._v("安全库存: "+e._s(n.safeStock))]),e._v(" "),a("span",[e._v("物料状态: "+e._s(n.inventoryStatus))])]),e._v(" "),a("div",[a("span",[e._v("预交货日期: "+e._s(n.promDeliTime))])])]),e._v(" "),a("div",{staticClass:"mater_num"},[a("span",[e._v("可用库存: "+e._s(n.qtyStockBal))]),e._v(" "),a("span",[e._v("单价: ￥"+e._s(e._f("numberComma")(n.quotedPrice)))])])]}}]),model:{value:e.showOrderPop,callback:function(t){e.showOrderPop=t},expression:"showOrderPop"}})],2),e._v(" "),a("pop-sodl-projectList",{attrs:{value:e.project},model:{value:e.project,callback:function(t){e.project=t},expression:"project"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide},on:{"sel-confirm":e.selConfirm},scopedSlots:e._u([{key:"qtyBal",fn:function(t){var n=t.modifyMatter;return[a("div",[a("span",[e._v("订单数量: "+e._s(n.qty))]),e._v(" "),a("span",[e._v("已出库数量: "+e._s(n.stockQty))])]),e._v(" "),a("div",[a("span",[e._v("待出库数量: "+e._s(n.qtyBal))]),e._v(" "),a("span",[e._v("预期交货日: "+e._s(n.promDeliTime))])])]}},{key:"date",fn:function(t){var n=t.modifyMatter;return[a("datetime",{attrs:{title:"预期交货日",placeholder:"请选择"},model:{value:n.promDeliTime,callback:function(t){e.$set(n,"promDeliTime",t)},expression:"modifyMatter.promDeliTime"}})]}}]),model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}},[a("template",{slot:"qtyName"},[a("span",{staticClass:"required"},[e._v("出库数量")])])],2)],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num"},[a("span",{staticStyle:{fontSize:".14rem"}},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.tdAmount))+"\n      "),a("span",{staticClass:"taxAmount"},[e._v("[含税: ￥"+e._s(e._f("numberComma")(e.taxAmount))+"]")])]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},"8Dfk":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2312,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[i.default],methods:{},created:function(){}}},"8FFA":function(e,t,a){"use strict";function n(e){a("nnKQ")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("QDfD");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("QzS5"),o=a.n(s),l=a("4Lz6"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-730f8128",null);t.default=c.exports},"8G1U":function(e,t){},"8L9u":function(e,t){},"8MNr":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2478}},mixins:[i.default],methods:{},created:function(){}}},"8Mec":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2503,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[i.default],methods:{},created:function(){}}},"8NYW":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("DGcX"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={mixins:[i.default],name:"x-dialog",model:{prop:"show",event:"change"},props:{show:{type:Boolean,default:!1},maskTransition:{type:String,default:"vux-mask"},maskZIndex:[String,Number],dialogTransition:{type:String,default:"vux-dialog"},dialogClass:{type:String,default:"weui-dialog"},hideOnBlur:Boolean,dialogStyle:Object,scroll:{type:Boolean,default:!0,validator:function(e){return!0}}},computed:{maskStyle:function(){if(void 0!==this.maskZIndex)return{zIndex:this.maskZIndex}}},mounted:function(){"undefined"!=typeof window&&window.VUX_CONFIG&&"VIEW_BOX"===window.VUX_CONFIG.$layout&&(this.layout="VIEW_BOX")},watch:{show:function(e){this.$emit("update:show",e),this.$emit(e?"on-show":"on-hide"),e?this.addModalClassName():this.removeModalClassName()}},methods:{shouldPreventScroll:function(){var e=/iPad|iPhone|iPod/i.test(window.navigator.userAgent),t=this.$el.querySelector("input")||this.$el.querySelector("textarea");if(e&&t)return!0},hide:function(){this.hideOnBlur&&(this.$emit("update:show",!1),this.$emit("change",!1),this.$emit("on-click-mask"))}},data:function(){return{layout:""}}}},"8Nz4":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("tab",{attrs:{"line-width":2,"default-color":"#757575","active-color":"#2c2727"}},e._l(e.listStatus,function(t,n){return a("tab-item",{key:n,attrs:{selected:n===e.activeIndex},on:{"on-item-click":function(a){e.tabClick(t,n)}}},[e._v(e._s(t.name)+"\n          ")])}))],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"client_ads vux-1px-b",class:{visited:t.visited},on:{click:function(a){e.goDetail(t,n)}}},[a("div",{staticClass:"job_info "},[a("div",{staticClass:"job_name"},[e._v(e._s(t.name)+"\n            "),a("span",{staticClass:"job_status",class:t.borderClass},[e._v(e._s(t.changeStatus))])]),e._v(" "),a("div",{staticClass:"job_type"},[e._v(e._s(t.changeType))])]),e._v(" "),e.action.update?a("span",{staticClass:"iconfont icon-bianji",on:{click:function(a){a.stopPropagation(),e.goEditJob(t,n)}}}):e._e()])}))],1),e._v(" "),e.action.add?a("div",{staticClass:" vux-1px-t btn"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},"8ODN":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2217,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"},{name:"往来名称",value:"dealerName_dealerCodeCredit"}]}},mixins:[i.default],methods:{},created:function(){}}},"8OHO":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"childPage"},[a("div",{staticClass:"content"},[a("div",{staticClass:"each_property vux-1px-b",on:{click:e.EditLogPop}},[a("label",[e._v("更新范围:")]),e._v(" "),a("div",{staticClass:"picker",class:{tip:!e.submitData.scope}},[a("span",{staticClass:"log_title"},[e._v(e._s(e.submitData.scope||"请选择"))]),e._v(" "),a("span",{staticClass:"iconfont icon-gengduo"})])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("耗时(单位/时):")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.submitData.spendTime,expression:"submitData.spendTime"}],staticClass:"property_val",attrs:{type:"number"},domProps:{value:e.submitData.spendTime},on:{focus:function(t){e.getFocus(t)},blur:function(t){e.checkVal(e.submitData)},input:function(t){t.target.composing||e.$set(e.submitData,"spendTime",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("更新内容:")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.submitData.content,expression:"submitData.content"}],staticClass:"property_val",attrs:{placeholder:"请输入"},domProps:{value:e.submitData.content},on:{input:function(t){t.target.composing||e.$set(e.submitData,"content",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"btn vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"cfm_btn",on:{click:e.submitLog}},[e._v("提交")])]),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{position:"bottom",height:"50%"},on:{"on-show":e.onShow},model:{value:e.pickerStatus,callback:function(t){e.pickerStatus=t},expression:"pickerStatus"}},[a("div",{staticClass:"trade_pop"},[a("r-scroll",{ref:"bScroll",staticClass:"scope_list",attrs:{options:e.scrollOptions}},e._l(e.scopeList,function(t,n){return a("div",{key:n,staticClass:"scope_type vux-1px-b",on:{click:function(a){e.selectType(t)}}},[a("div",{staticClass:"scope_name"},[e._v(e._s(t.name))]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"checked"},[a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-checkmark-empty",attrs:{type:"ios-checkmark-empty",size:"25",xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M223.9 329.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])])}))],1),e._v(" "),a("div",{staticClass:"count_mode vux-1px-t"},[a("span",{staticClass:"count_num"},[e._v(" "+e._s(e.scopeType.length?"已选 "+e.scopeType.length+" 个":"请选择")+" ")]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.cfmMater}},[e._v("确定")])])])],1)])},i=[],r={render:n,staticRenderFns:i};t.a=r},"8Ofw":function(e,t,a){"use strict";function n(e){a("6lSn")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("umED");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("JKgd"),o=a.n(s),l=a("t+5K"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-4d1893bd",null);t.default=c.exports},"8Q7p":function(e,t){},"8Uno":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper cpxq-detail-container"},[a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"product"},[e._m(0),e._v(" "),a("form-cell",{attrs:{cellTitle:"标题",cellContent:e.orderInfo.launchTitle}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"描述",cellContent:e.orderInfo.launchDescribe}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"类型",cellContent:e.orderInfo.launchType}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"备注",cellContent:e.orderInfo.biComment}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1)])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title"},[a("div",[a("span",{staticClass:"iconfont icon-mingxi1"}),e._v(" "),a("span",[e._v("产品信息")])])])}],r={render:n,staticRenderFns:i};t.a=r},"8VZL":function(e,t,a){"use strict";function n(e){a("RPHI")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("6arZ");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("BmNp"),o=a.n(s),l=a("qokj"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},"8bUL":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("DEQU"),r=n(i),s=a("xZPP"),o=n(s),l=a("K2BN"),d=n(l);t.default={name:"x-textarea",minxins:[r.default],mounted:function(){var e=this;this.$slots&&this.$slots["restricted-label"]&&(this.hasRestrictedLabel=!0),this.$nextTick(function(){e.autosize&&e.bindAutosize()})},components:{InlineDesc:o.default},props:{title:String,inlineDesc:String,showCounter:{type:Boolean,default:!0},max:Number,value:String,name:String,placeholder:String,readonly:Boolean,disabled:Boolean,rows:{type:Number,default:3},cols:{type:Number,default:30},height:Number,autocomplete:{type:String,default:"off"},autocapitalize:{type:String,default:"off"},autocorrect:{type:String,default:"off"},spellcheck:{type:String,default:"false"},autosize:Boolean},created:function(){this.currentValue=this.value},watch:{autosize:function(e){this.unbindAutosize(),e&&this.bindAutosize()},value:function(e){this.currentValue=e},currentValue:function(e){this.max&&e&&e.length>this.max&&(this.currentValue=e.slice(0,this.max)),this.$emit("input",this.currentValue),this.$emit("on-change",this.currentValue)}},data:function(){return{hasRestrictedLabel:!1,currentValue:""}},computed:{count:function(){var e=0;return this.currentValue&&(e=this.currentValue.replace(/\n/g,"aa").length),e>this.max?this.max:e},textareaStyle:function(){if(this.height)return{height:this.height+"px"}},labelStyles:function(){return{width:this.$parent.labelWidth||this.labelWidth+"em",textAlign:this.$parent.labelAlign,marginRight:this.$parent.labelMarginRight}},labelWidth:function(){return this.title.replace(/[^x00-xff]/g,"00").length/2+1},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}}},methods:{updateAutosize:function(){d.default.update(this.$refs.textarea)},bindAutosize:function(){(0,d.default)(this.$refs.textarea)},unbindAutosize:function(){d.default.destroy(this.$refs.textarea)},focus:function(){this.$refs.textarea.focus()}},beforeDestroy:function(){this.unbindAutosize()}}},"8cWJ":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("3cXf"),o=n(s),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("u28h"),C=n(p),_=a("PzEQ"),y=n(_),b=a("kNGm"),g=(n(b),a("jnZd")),w=n(g),I=(a("0AQX"),a("Z6x5")),x=a("HyXB"),D=a("bKg5"),P=n(D),k=a("vl8n"),S=n(k),T=a("+WR7"),L=n(T),N=a("iikc"),M=n(N);t.default={data:function(){return{listId:"98519ac0-d2d7-11e8-b8ca-0279b2c6a380",formData:{biId:"",biComment:"",biProcessStatus:""},biReferenceId:"",MobileWarn:!1,idCardWarn:!1,groupList:[],roleList:[]}},components:{Cell:c.default,Group:m.default,XInput:v.default,Datetime:C.default,XTextarea:y.default,PopupPicker:w.default,RPicker:S.default,PopBaseinfo:L.default,PopSalesmanList:M.default},mixins:[P.default],methods:{getAllGroup:function(){var e=this;(0,I.getAllGroup)().then(function(t){var a=[];t.tableContent.forEach(function(e){a.push(e.groupName)}),e.groupList.push(a)})},getAllRoleInfo:function(){var e=this;(0,I.getAllRoleInfo)().then(function(t){var a=[];t.tableContent.forEach(function(e){a.push(e.roleName)}),e.roleList.push(a)})},submitOrder:function(){var e=this,t="",a=[{key:"hiresName",message:"员工"}];if(t||a.every(function(a){return!!e.formData[a.key]||(t="请选择"+a.message,!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=x.saveAndStartWf,a=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,hiresDepartMent:e.formData.hiresDepartMent&&e.formData.hiresDepartMent[0],hiresPost:e.formData.hiresPost&&e.formData.hiresPost[0]}),n={listId:e.listId,biComment:"",formData:(0,o.default)(a)};e.isResubmit&&(t=x.saveAndCommitTask,n.biReferenceId=e.biReferenceId,n.wfPara=(0,o.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=x.submitAndCalc,delete n.wfPara,delete n.biReferenceId),e.biReferenceId&&(n.biReferenceId=e.biReferenceId),e.saveData(t,n)}})},hasDraftData:function(){var e=this.formData;if(e.profileName||e.idCard)return(0,r.default)({},"YGRZ_DATA",{formData:e})}},created:function(){this.getAllGroup(),this.getAllRoleInfo();var e=sessionStorage.getItem("YGRZ_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,sessionStorage.removeItem("YGRZ_DATA")}}}},"8dAA":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages xmrw-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,isRequired:!1},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("r-picker",{attrs:{title:"项目名称",data:e.projectList,mode:"3",placeholder:"请选择项目名称",required:"","has-border":!1},on:{"on-change":e.projectChange},model:{value:e.projectTask.projectName,callback:function(t){e.$set(e.projectTask,"projectName",t)},expression:"projectTask.projectName"}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.projectTask.projectName,expression:"projectTask.projectName"}],staticClass:"materiel_list mg_auto"},[a("p",{staticClass:"title"},[e._v("项目详情")]),e._v(" "),a("group",[a("cell",{attrs:{title:"项目大类",value:e.projectTask.projectType}}),e._v(" "),a("cell",{attrs:{title:"项目子类",value:e.projectTask.projectSubclass}})],1)],1),e._v(" "),a("r-picker",{attrs:{title:"任务名称",data:e.taskList,mode:"3",placeholder:"请选择任务名称",required:"","has-border":!1},on:{"on-change":e.taskChange},model:{value:e.projectTask.taskName,callback:function(t){e.$set(e.projectTask,"taskName",t)},expression:"projectTask.taskName"}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.projectTask.taskName,expression:"projectTask.taskName"}],staticClass:"materiel_list mg_auto "},[a("p",{staticClass:"title"},[e._v("任务详情")]),e._v(" "),a("group",[a("cell",{attrs:{title:"任务类型",value:e.projectTask.taskType}}),e._v(" "),a("cell",{attrs:{title:"任务说明",value:e.projectTask.comment,primary:"content"}}),e._v(" "),a("cell",{attrs:{title:"截止日期",value:e.projectTask.deadline}}),e._v(" "),a("cell",{directives:[{name:"show",rawName:"v-show",value:e.projectTask.cycleNumber,expression:"projectTask.cycleNumber"}],attrs:{title:"周期天数",value:e.projectTask.cycleNumber}}),e._v(" "),a("cell",{directives:[{name:"show",rawName:"v-show",value:e.projectTask.planTime,expression:"projectTask.planTime"}],attrs:{title:"标准工时",value:e.projectTask.planTime}}),e._v(" "),a("cell",{directives:[{name:"show",rawName:"v-show",value:e.projectTask.operatingRate,expression:"projectTask.operatingRate"}],attrs:{title:"作业费率",value:e.projectTask.operatingRate}}),e._v(" "),a("cell",{directives:[{name:"show",rawName:"v-show",value:e.projectTask.budgetHomeworkCost,expression:"projectTask.budgetHomeworkCost"}],attrs:{title:"预算作业成本",value:e.projectTask.budgetHomeworkCost}})],1)],1),e._v(" "),a("div",{staticClass:"materiel_list mg_auto"},[a("p",{staticClass:"title"},[e._v("实际情况")]),e._v(" "),a("group",[a("datetime",{attrs:{title:"实际完成日期"},model:{value:e.projectTask.actualCompleteTime,callback:function(t){e.$set(e.projectTask,"actualCompleteTime",t)},expression:"projectTask.actualCompleteTime"}},[a("span",{staticClass:"required",attrs:{slot:"title"},slot:"title"},[e._v("实际完成日期")])]),e._v(" "),a("x-input",{attrs:{type:"number",title:"实际工时","text-align":"right",placeholder:"请填写"},on:{"on-blur":e.checkTime},model:{value:e.projectTask.actualTime,callback:function(t){e.$set(e.projectTask,"actualTime",e._n(t))},expression:"projectTask.actualTime"}},[a("span",{staticClass:"required",attrs:{slot:"label"},slot:"label"},[e._v("实际工时")])]),e._v(" "),a("cell",{attrs:{title:"实际作业成本",value:e.projectTask.actualtHomeworkCost}},[a("span",{staticClass:"required",attrs:{slot:"title"},slot:"title"},[e._v("实际作业成本")])])],1)],1),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"其他信息"}},[a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.jsonData.comment.biComment,callback:function(t){e.$set(e.jsonData.comment,"biComment",t)},expression:"jsonData.comment.biComment"}})],1)],1),e._v(" "),a("upload-file",{on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"cfm_btn",on:{click:e.save}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},"8dBe":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2496}},mixins:[i.default],methods:{},created:function(){}}},"8dL1":function(e,t,a){"use strict";function n(e){a("ybHX")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("vW5/");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("LOVB"),o=a.n(s),l=a("8nc9"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-7c2b3b4c",null);t.default=c.exports},"8dZ0":function(e,t,a){"use strict";function n(e){a("npWU")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("UyNo");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("TZQl"),o=a.n(s),l=a("OZg9"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-037c2408",null);t.default=c.exports},"8dzu":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.contactInfo.dealerName||e.contactList.length,expression:"contactInfo.dealerName || contactList.length"}],staticClass:"pop-contact-list"},[a("div",{staticClass:"contact-content vux-1px-t",on:{click:function(t){e.showPop=!e.showPop}}},[e.contactInfo.dealerName?a("div",{staticClass:"selected-mode"},[a("div",[a("span",{staticClass:"contact-tips"},[e._v("联系人")]),e._v(" "),a("span",[e._v(e._s(e.contactInfo.dealerName))]),e._v(" "),a("span",[e._v(e._s(e.contactInfo.dealerMobilePhone))])]),e._v(" "),a("span",{staticClass:"iconfont icon-Face-ID"})]):a("div",{staticClass:"default-mode"},[e._m(0)])]),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.contactList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.contactList,function(t,n){return a("div",{key:n,staticClass:"each-people box_sd",on:{click:function(a){a.stopPropagation(),e.selContact(t,n)}}},[a("div",{staticClass:"mater_main "},[a("div",{staticClass:"mater_info"},[a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline ",staticStyle:{display:"inline-block"}},[a("span",{staticClass:"dealer"},[e._v(e._s(t.dealerName))])])]),e._v(" "),t.dealerMobilePhone||t.dealerPhone?a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline name",staticStyle:{display:"inline-block"}},[t.dealerMobilePhone?a("span",{staticStyle:{marginRight:".04rem"}},[e._v(e._s(t.dealerMobilePhone))]):e._e(),e._v(" "),t.dealerPhone?a("span",[e._v(e._s(t.dealerPhone))]):e._e()])]):e._e(),e._v(" "),a("div",{staticClass:"withoutColor"},[a("span",[e._v(e._s(t.province)+e._s(t.city)+e._s(t.county)+e._s(t.address))])])])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}))],1)])],1)])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mode-title"},[a("span",[e._v("请选择联系人")]),e._v(" "),a("span",{staticClass:"iconfont icon-FaceID"})])}],r={render:n,staticRenderFns:i};t.a=r},"8fzM":function(e,t){},"8gEi":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2464}},mixins:[i.default],methods:{},created:function(){}}},"8hwe":function(e,t,a){"use strict";function n(e){a("BGkv")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("sy2r");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("JHNY"),o=a.n(s),l=a("3Kpp"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-108499c9",null);t.default=c.exports},"8kZC":function(e,t,a){"use strict";function n(e){a("IUIu")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("9yeO");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("IhO0"),o=a.n(s),l=a("cfSF"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-08911758",null);t.default=c.exports},"8mZP":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"matter-list":e.orderInfo.order.dataSet},scopedSlots:e._u([{key:"matterOther",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("单位: "+e._s(n.measureUnit_transObjCode))]),e._v(" "),a("span",[e._v("预期完工日: "+e._s(n.promDeliTime))])]),e._v(" "),a("div",{staticClass:"mater_num"},[a("span",{staticClass:"num"},[e._v("数量: "+e._s(n.tdQty))])])])]}}])}),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},"8nc9":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"admin_comment"},[a("div",{staticClass:"title"},[a("span",[e._v("管理员自评")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.adminCommentList.length,expression:"adminCommentList.length"}],staticClass:"more",on:{click:e.getMoreComment}},[e._v("查看更多")])]),e._v(" "),e.adminCommentList.length?e._e():a("div",{staticClass:"no_data"},[e._v("暂无评论")]),e._v(" "),a("div",{staticClass:"admin-comment-container swiper-container",class:{no_swiper:!e.adminCommentList.length}},[a("div",{staticClass:"swiper-wrapper"},e._l(e.adminCommentList,function(t,n){return n<5?a("div",{key:n,staticClass:"swiper-slide"},[a("div",{staticClass:"each_comment",on:{click:function(t){e.goPop(n)}}},[a("div",{staticClass:"user_photo"},[a("img",{attrs:{src:t.photo},on:{error:function(a){e.getUserDefault(t)}}})]),e._v(" "),a("div",{staticClass:"comment_content"},[a("div",{staticClass:"user_info"},[a("span",{staticClass:"user_name"},[e._v(e._s(t.creator))]),e._v(" "),a("span",{staticClass:"comment_time"},[e._v(e._s(e._f("handerTime")(t.crtTime)))])]),e._v(" "),a("div",{staticClass:"comment"},[a("div",[a("div",[e._v("改进结果:")]),e._v(" "),a("div",{staticClass:"achievement",domProps:{innerHTML:e._s(t.modifyAchievement)}})]),e._v(" "),a("div",[a("div",[e._v("改进机会:")]),e._v(" "),a("div",{staticClass:"chance",domProps:{innerHTML:e._s(t.modifyChance)}})])])])])]):e._e()}))]),e._v(" "),e.handle?a("div",{staticClass:"edit_comment",on:{click:e.EditAdmin}},[a("span",{staticClass:"iconfont icon-bianji"}),e._v(" "),a("span",[e._v("撰写评论")])]):e._e(),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{attrs:{position:"bottom",height:"100%"},on:{"on-show":e.onShow},model:{value:e.popupShow,callback:function(t){e.popupShow=t},expression:"popupShow"}},[a("r-scroll",{ref:"bScroll",staticClass:"full-flow-container",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.adminCommentList.length},on:{"on-pulling-up":e.onPullingUp}},[a("div",{staticClass:"change_list"},[a("div",{staticClass:"title vux-1px-b"},[e._v("\n            管理员自评\n          ")]),e._v(" "),e._l(e.adminCommentList,function(t,n){return a("div",{key:n,ref:"eachComment",refInFor:!0,staticClass:"each_comment vux-1px-b",class:{visited:n===e.seletedIndex}},[a("div",{staticClass:"user_photo"},[a("img",{attrs:{src:t.photo},on:{error:function(a){e.getUserDefault(t)}}})]),e._v(" "),a("div",{staticClass:"comment_content"},[a("div",{staticClass:"user_info"},[a("span",{staticClass:"user_name"},[e._v(e._s(t.creator))]),e._v(" "),a("span",{staticClass:"comment_time"},[e._v(e._s(e._f("handerTime")(t.crtTime)))])]),e._v(" "),a("div",{staticClass:"comment"},[a("div",[a("span",[e._v("改进结果:")]),e._v(" "),a("span",{staticClass:"achievement",domProps:{innerHTML:e._s(t.achievement)}})]),e._v(" "),a("div",[a("span",[e._v("改进机会:")]),e._v(" "),a("span",{staticClass:"chance",domProps:{innerHTML:e._s(t.chance)}})])])])])})],2)]),e._v(" "),a("div",{staticClass:"btn when_less vux-1px-t"},[a("span",{staticClass:"cfm_btn",on:{click:e.closePop}},[e._v("关闭")])])],1)],1)])},i=[],r={render:n,staticRenderFns:i};t.a=r},"8rBc":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("HXPS"),d=n(l),u=a("7g+Q"),c=n(u),f=a("6q39"),m=n(f),h=a("QHLv"),v=a("1KNX"),p=n(v),C=a("7biW"),_=n(C);t.default={name:"MatterList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},getListMethod:{type:String,default:"getObjFunds"}},components:{Icon:d.default,Popup:c.default,LoadMore:m.default,RScroll:p.default,MSearch:_.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],costList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,o.default)(this.selItems)),this.$emit("input",!1)},showSelIcon:function(e){var t=!1;return this.selItems&&this.selItems.every(function(a){return e.fundCode!==a.fundCode||(t=!0,!1)}),t},selThis:function(e,t){this.showPop=!1,this.selItems=[e],this.$emit("sel-matter",this.selItems[0])},setDefaultValue:function(){this.tmpItems=[].concat((0,o.default)(this.defaultValue)),this.selItems=[].concat((0,o.default)(this.defaultValue))},getObjFunds:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,o.default)(e),[{operator:"like",value:this.srhInpTx,property:"fundName"}])),(0,h.getObjFunds)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(e)}).then(this.dataHandler)},getEmployeeReserveFunds:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,o.default)(e),[{operator:"like",value:this.srhInpTx,property:"fundName"}])),(0,h.getEmployeeReserveFunds)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(e)}).then(this.dataHandler)},dataHandler:function(e){var t=this,a=e.dataCount,n=void 0===a?0:a,i=e.tableContent,r=void 0===i?[]:i;this.hasNext=n>(this.page-1)*this.limit+r.length,this.costList=1===this.page?r:[].concat((0,o.default)(this.costList),(0,o.default)(r)),this.$nextTick(function(){t.$refs.bScroll.finishPullUp()})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.costList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this[this.getListMethod]()},onPullingUp:function(){this.page++,this[this.getListMethod]()}},created:function(){this.setDefaultValue(),this[this.getListMethod]()}}},"8ta2":function(e,t){},"8udT":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages xmjh-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,"default-contact":e.contactInfo},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),e._l(e.invoiceList,function(t,n){return a("div",{key:n,staticClass:"materiel_list"},[a("div",{staticClass:"title"},[e._v("开票明细")]),e._v(" "),a("group",{staticClass:"costGroup",on:{"group-title-margin-top":function(e){}}},[a("cell",{attrs:{"is-link":""},nativeOn:{click:function(a){e.getCost(n,t)}},model:{value:t.transCode||"请选择",callback:function(a){e.$set(t,"transCode || '请选择'",a)},expression:"item.transCode || '请选择'"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("出库单")])])],2),e._v(" "),a("cell",{model:{value:t.inventoryName,callback:function(a){e.$set(t,"inventoryName",a)},expression:"item.inventoryName"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("物料名称")])])],2),e._v(" "),a("cell",{model:{value:t.inventoryCode,callback:function(a){e.$set(t,"inventoryCode",a)},expression:"item.inventoryCode"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("物料编码")])])],2),e._v(" "),a("cell",{model:{value:t.qtyBal,callback:function(a){e.$set(t,"qtyBal",a)},expression:"item.qtyBal"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("待申请数量")])])],2),e._v(" "),a("cell",{model:{value:t.price,callback:function(a){e.$set(t,"price",a)},expression:"item.price"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("单价")])])],2),e._v(" "),a("x-input",{attrs:{"text-align":"right",placeholder:"请填写",type:"number"},on:{"on-blur":function(a){e.checkQty(t,n)},"on-focus":function(t){e.getFocus(t)}},model:{value:t.tdQty,callback:function(a){e.$set(t,"tdQty",e._n(a))},expression:"item.tdQty"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("本次申请数量")])])],2),e._v(" "),a("cell",{model:{value:t.noTaxAmount,callback:function(a){e.$set(t,"noTaxAmount",a)},expression:"item.noTaxAmount"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("金额")])])],2),e._v(" "),a("x-input",{attrs:{"text-align":"right",placeholder:"请填写",type:"number"},on:{"on-focus":function(t){e.getFocus(t)}},model:{value:t.taxRate,callback:function(a){e.$set(t,"taxRate",e._n(a))},expression:"item.taxRate"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("税率")])])],2),e._v(" "),a("cell",{model:{value:t.taxAmount,callback:function(a){e.$set(t,"taxAmount",a)},expression:"item.taxAmount"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("税金")])])],2),e._v(" "),a("cell",{model:{value:t.tdAmount,callback:function(a){e.$set(t,"tdAmount",a)},expression:"item.tdAmount"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("税价小计")])])],2),e._v(" "),a("x-input",{attrs:{type:"text",title:"说明","text-align":"right",placeholder:"请填写"},on:{"on-focus":function(t){e.getFocus(t)}},model:{value:t.comment,callback:function(a){e.$set(t,"comment",a)},expression:"item.comment"}})],1)],1)}),e._v(" "),a("div",{staticClass:"XMJH_add"},[a("div",[e._v("您还需要添加新的明细? 请点击\n          "),a("span",{on:{click:e.addInvoice}},[e._v("添加")]),e._v(" "),e.invoiceList.length>1?a("em",[e._v("或")]):e._e(),e._v(" "),e.invoiceList.length>1?a("span",{on:{click:e.deleteInvoice}},[e._v(" 删除")]):e._e()])]),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.invoiceList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-invoice-list",{ref:"costList",attrs:{show:e.showInvoicePop,defaultValue:e.invoiceList,params:e.dealerParams},on:{"sel-matter":e.selInvoice},model:{value:e.showInvoicePop,callback:function(t){e.showInvoicePop=t},expression:"showInvoicePop"}})],2)]),e._v(" "),a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num"},[a("span",{staticClass:"total_price"},[a("span",{staticStyle:{fontSize:".14rem"}},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.totalAmount,3))+"\n      ")])]),e._v(" "),this.actions.includes("stop")?a("span",{staticClass:"count_btn stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},"8xC5":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("IHPB"),o=n(s),l=a("3cXf"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("+62G"),v=n(h),p=a("6q39"),C=n(p),_=a("HyXB"),y=a("1KNX"),b=n(y),g=a("7biW"),w=n(g);t.default={name:"PopManagerList",props:{defaultValue:{type:Object,default:function(){return{}}},show:{type:Boolean,default:!1}},directives:{TransferDom:v.default},components:{Icon:c.default,Popup:m.default,RScroll:b.default,DSearch:w.default,LoadMore:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},computed:{tip:function(){var e="加载中";return this.hasNext||(e="暂无数据"),e}},watch:{show:function(e){this.showPop=e},defaultValue:function(e){this.setDefaultValue()}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1,this.$emit("input",!1)},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this.getList()},showSelIcon:function(e){return this.selItems.dealerName===e.dealerName},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.$emit("sel-item",(0,d.default)(this.selItems))},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:"dealerName"}])),(0,_.getObjDealerByLabelName)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,dealerLabelName:"员工",filter:(0,d.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,o.default)(e.listData),(0,o.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.selItems=this.defaultValue?(0,r.default)({},this.defaultValue):{}}},created:function(){this.setDefaultValue(),this.getList()}}},"9+xF":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("MgeX"),o=n(s),l=a("HzJ8"),d=n(l),u=a("ZLEe"),c=n(u),f=a("3cXf"),m=n(f),h=a("4YfN"),v=n(h),p=a("7g+Q"),C=n(p),_=a("+62G"),y=n(_),b=a("z5TY"),g=n(b),w=a("BGNQ"),I=n(w),x=a("iR2W"),D=n(x),P=a("u28h"),k=n(P),S=a("SAzG"),T=n(S),L=a("PzEQ"),N=n(L),M=a("kNGm"),A=n(M),O=a("0AQX"),R=a("HyXB"),j=a("bKg5"),$=n(j),B=a("VZtf"),E=n(B),F=a("kZy/"),U=n(F),q=a("y8YJ"),Q=n(q),H=a("yt3/"),V=n(H),X=a("luHD"),z=n(X),Y=a("vl8n"),W=n(Y),G=a("+WR7"),J=n(G),K=a("zWMP"),Z=a("Qg39");t.default={data:function(){return{listId:"a4897429-f4f2-44a4-ade7-2fe8dc67c3cf",filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"合同号",value:"transCode"}],showMatterPop:!1,showMaterielPop:!1,transMode:[],matterList:[],logisticsTerm:[],numMap:{},formData:{},dealerInfo:{},matterParams:{},orderList:{},modifyKey:null,contactInfo:{}}},directives:{TransferDom:y.default},components:{XInput:T.default,XTextarea:N.default,Group:g.default,Cell:I.default,Popup:C.default,PopMatter:z.default,RNumber:E.default,PopMatterList:U.default,PopDealerList:Q.default,PopSingleSelect:V.default,Datetime:k.default,RPicker:W.default,PopBaseinfo:J.default},mixins:[$.default],filters:{numberComma:D.default},computed:{hasAdvance:function(){var e=this.dealerInfo.paymentTerm,t=["赊销"];return!!e&&!e.includes(t)}},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],this.matterParams={dealerCode:this.dealerInfo.dealerCode},this.matterList=[],this.orderList={}},selContact:function(e){this.contactInfo=(0,v.default)({},e)},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,m.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.inventoryCode!==e.inventoryCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getPaymentTerm:function(){var e=this;return(0,R.getDictByType)("paymentTerm").then(function(t){var a=t.tableContent;e.transMode=a})},getLogisticsTerms:function(){var e=this;return(0,R.getDictByType)("dealerLogisticsTerms").then(function(t){var a=t.tableContent;e.logisticsTerm=a})},getMatter:function(){if(!this.dealerInfo.dealerCode)return void this.$vux.alert.show({content:"请选择客户"});this.showMaterielPop=!this.showMaterielPop},checkAmt:function(e){var t=e.tdQty,a=e.tdAmountCopy1;t&&(e.tdQty=Math.abs((0,Z.toFixed)(t))),a&&(e.tdAmountCopy1=Math.abs((0,Z.toFixed)(a)))},selMatter:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){var a=(e.transCode,e.inventoryCode,t.numMap[e.inventoryCode]||{}),i=a.tdQty,r=void 0===i?e.qtyBal:i,s=a.price,o=void 0===s?e.price:s,l=a.taxRate,d=void 0===l?t.taxRate:l,u=a.promDeliTime,c=void 0===u?"":u;e.tdQty=r,e.assMeasureUnit=e.invSubUnitName||null,e.assMeasureScale=e.invSubUnitMulti||null,e.assMeasureDescription=e.invSubUnitComment||null,e.assistQty=(0,Z.toFixed)((0,K.accDiv)(e.tdQty,e.invSubUnitMulti)),e.noTaxPrice=(0,Z.toFixed)((0,K.accDiv)(e.price,(0,K.accAdd)(1,d))),e.price=o,e.taxRate=d,e.promDeliTime=c,e.dateActivation=(0,A.default)(e.dateActivation,"YYYY-MM-DD"),e.executionDate=(0,A.default)(e.executionDate,"YYYY-MM-DD"),n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},delClick:function(e,t,a){var n=this.selItems,i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode&&e.transCode===t.transCode});if(-1!==i)return void n.splice(i,1);n.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,c.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});i>=0&&(e.$refs.matter.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,d.default)((0,o.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,l=!1,u=void 0;try{for(var c,f=(0,d.default)(r);!(s=(c=f.next()).done);s=!0){var m=c.value;this.numMap[m.transCode+"_"+m.inventoryCode]=(0,v.default)({},m)}}catch(e){l=!0,u=e}finally{try{!s&&f.return&&f.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showMaterielPop=!this.showMaterielPop},dateSelect:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.$vux.datetime.show({confirmText:"确定",cancelText:"取消",value:this.dealerInfo[t],onConfirm:function(a){e.$set(e.dealerInfo,t,a)}})},submitOrder:function(){var e=this;if(this.dealerInfo.dealerName)if((0,c.default)(this.orderList).length){var t="",a=[],n=!0,i=!1,s=void 0;try{for(var l,u=(0,d.default)((0,o.default)(this.orderList));!(n=(l=u.next()).done);n=!0){var f=l.value,h=!0,p=!1,C=void 0;try{for(var _,y=(0,d.default)(f);!(h=(_=y.next()).done);h=!0){var b=_.value;if(!b.tdQty){t="请填写数量";break}if(!b.price){t="请填写单价";break}if(!b.promDeliTime){t="请选择预期交货日";break}var g=b.taxRate||this.taxRate,w=(0,Z.toFixed)((0,K.accMul)(b.assistQty,g,b.noTaxPrice)),I={tdId:b.tdId||"",transMatchedCode:b.transCode,inventoryName_transObjCode:b.inventoryName,transObjCode:b.inventoryCode,tdProcessing:b.processing,assMeasureUnit:b.assMeasureUnit||null,assMeasureDescription:b.assMeasureDescription||null,assMeasureScale:b.assMeasureScale||null,dealerInventoryName:b.clientInventoryName,dealerInventoryCode:b.clientInventoryCode,thenTotalQtyBal:b.qty,thenLockQty:b.stockQty,thenQtyBal:b.qtyBal,tdQty:b.tdQty,assistQty:b.assistQty||0,price:b.price,tdAmount:(0,Z.toFixed)((0,K.accMul)(b.price,b.assistQty)),taxRate:g,noTaxPrice:b.noTaxPrice,taxAmount:w,noTaxAmount:(0,K.accSub)(b.tdAmount,b.taxAmount),dateActivation:b.dateActivation,promDeliTime:b.promDeliTime||null,executionDate:b.executionDate,comment:b.comment||""};a.push(I)}}catch(e){p=!0,C=e}finally{try{!h&&y.return&&y.return()}finally{if(p)throw C}}}}catch(e){i=!0,s=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw s}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=R.saveAndStartWf,n=(0,r.default)({},e.processCode,{businessKey:"SO3",createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.formData.biComment,formData:(0,m.default)((0,v.default)({},e.formData,{handlerEntity:e.entity.dealerName,dealerDebitContactPersonName:e.contactInfo.dealerName||"",dealerDebitContactInformation:e.contactInfo.dealerMobilePhone||"",drDealerLogisticsTerms:e.dealerInfo.dealerLogisticsTerms,order:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,drDealerPaymentTerm:e.dealerInfo.paymentTerm,daysOfAccount:e.dealerInfo.pamentDays,dataSet:a},inPut:{dataSet:[{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,tdAmountCopy1:e.dealerInfo.tdAmountCopy1,advancePaymentDueDate:e.dealerInfo.advancePaymentDueDate}]}})),wfPara:(0,m.default)(n)};e.isResubmit&&(t=R.saveAndCommitTask,i.biReferenceId=e.biReferenceId),e.processCode.length||(t=R.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})}else this.$vux.alert.show({content:"请选择物料"});else this.$vux.alert.show({content:"请选择客户"})},getFormData:function(){var e=this;return(0,O.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.attachment=t.attachment;var a={},n=t.formData;n.order.dataSet.map(function(t){t=(0,v.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,clientInventoryName:t.dealerInventoryName,clientInventoryCode:t.dealerInventoryCode,qty:t.thenTotalQtyBal,stockQty:t.thenLockQty,qtyBal:t.thenQtyBal,transCode:t.transMatchedCode}),e.matterList.push(t),a[t.transCode]||(a[t.transCode]=[]),a[t.transCode].push(t)}),e.handlerDefault={handler:n.handler,handlerName:n.handlerName,handlerUnit:n.handlerUnit,handlerUnitName:n.handlerUnitName,handlerRole:n.handlerRole,handlerRoleName:n.handlerRoleName},e.orderList=a,e.formData=(0,v.default)({},e.formData,e.handlerDefault,{biComment:n.biComment,biId:n.biId,biProcessStatus:n.biProcessStatus,creator:n.creator,modifer:n.modifer}),e.dealerInfo={creatorName:n.dealerDebitContactPersonName,dealerMobilePhone:n.dealerDebitContactInformation,dealerCode:n.order.dealerDebit,dealerSubclass:n.order.drAccountSub,dealerLabelName:n.order.drDealerLabel,dealerName:n.order.dealerName_dealerDebit,province:n.order.province_dealerDebit,city:n.order.city_dealerDebit,county:n.order.county_dealerDebit,address:n.order.address_dealerDebit,paymentTerm:n.order.drDealerPaymentTerm,dealerLogisticsTerms:n.drDealerLogisticsTerms,pamentDays:n.order.daysOfAccount},e.contactInfo={dealerName:n.dealerDebitContactPersonName,dealerMobilePhone:n.dealerDebitContactInformation},e.matterParams={dealerCode:e.dealerInfo.dealerCode},e.$loading.hide()})},hasDraftData:function(){return!!(0,o.default)(this.orderList).length&&(0,r.default)({},"XSDD_DATA",{dealerInfo:this.dealerInfo,formData:this.formData,contactInfo:this.contactInfo,orderList:this.orderList})}},created:function(){var e=sessionStorage.getItem("XSDD_DATA");if(e){var t=JSON.parse(e);this.dealerInfo=t.dealerInfo,this.formData=t.formData,this.contactInfo=t.contactInfo,this.orderList=t.orderList;var a=!0,n=!1,i=void 0;try{for(var r,s=(0,d.default)((0,o.default)(this.orderList));!(a=(r=s.next()).done);a=!0){var l=r.value,u=!0,c=!1,f=void 0;try{for(var m,h=(0,d.default)(l);!(u=(m=h.next()).done);u=!0){var v=m.value;this.matterList.push(v)}}catch(e){c=!0,f=e}finally{try{!u&&h.return&&h.return()}finally{if(c)throw f}}}}catch(e){n=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}this.matterParams={dealerCode:this.dealerInfo.dealerCode},sessionStorage.removeItem("XSDD_DATA")}}}},"963L":function(e,t){},"98vG":function(e,t,a){"use strict";function n(e){a("Fr7N")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("q8mY");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("zF26"),o=a.n(s),l=a("z7Bm"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-113421e1",null);t.default=c.exports},"9B9Q":function(e,t,a){"use strict";function n(e){a("SXU0")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Cgoy");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("KDMX"),o=a.n(s),l=a("K3un"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-7ed1bee5",null);t.default=c.exports},"9Cko":function(e,t){},"9FKS":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("div",{staticClass:"title"},[a("m-search",{attrs:{filterList:e.filterList,isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}})],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.workList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.workList,function(t,n){return a("div",{key:n,staticClass:"each-work box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"work-main"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.transCode,expression:"item.transCode"}],staticClass:"work_top"},[a("span",{staticClass:"code_name"},[e._v("加工订单号")]),e._v(" "),a("span",{staticClass:"work_code"},[e._v(e._s(t.transCode))])]),e._v(" "),a("div",{staticClass:"work_mid vux-1px-b"},[a("div",{staticClass:"product_name"},[e._v("\n                "+e._s(t.inventoryName)),a("span",{staticClass:"symbol"},[e._v("[成品]")])]),e._v(" "),a("div",{staticClass:"product_unit"},[a("span",{staticClass:"each_unit"},[e._v("成品编码: "+e._s(t.inventoryCode))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.processProQty,expression:"item.processProQty"}],staticClass:"each_unit"},[e._v("加工数量: "+e._s(t.processProQty))])])]),e._v(" "),a("div",{staticClass:"work_btm"},[a("div",{staticClass:"procedure_name"},[a("span",[e._v(e._s(t.procedureName))]),e._v(" "),a("span",{staticClass:"symbol"},[e._v("[工序编码: "+e._s(t.proPointCode)+"]")])]),e._v(" "),a("div",{staticClass:"procedure_unit"},[a("span",{staticClass:"each_unit"},[e._v("工序可派工: "+e._s(t.thenQtyBal))]),e._v(" "),a("span",{staticClass:"each_unit"},[e._v("派工总数: "+e._s(t.productDemandQty))])])]),e._v(" "),a("div")]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}))],1),e._v(" "),a("div",{staticClass:"count_mode vux-1px-t"},[a("span",{staticClass:"count_num"},[e._v(" "+e._s(e.tmpItems.length?"已选 "+e.tmpItems.length+" 个":"请选择")+" ")]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.cfmMater}},[e._v("确定")])])])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"9FuR":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("4YfN"),o=n(s),l=a("MgeX"),d=n(l),u=a("HzJ8"),c=n(u),f=a("ZLEe"),m=n(f),h=a("rVsN"),v=n(h),p=a("IHPB"),C=n(p),_=a("3cXf"),y=n(_),b=a("HXPS"),g=n(b),w=a("BGNQ"),I=n(w),x=a("z5TY"),D=n(x),P=a("SAzG"),k=n(P),S=a("u28h"),T=n(S),L=a("PzEQ"),N=n(L),M=a("kNGm"),A=n(M),O=a("0AQX"),R=a("I3vJ"),j=a("HyXB"),$=a("bKg5"),B=n($),E=a("luHD"),F=n(E),U=a("Pb67"),q=n(U),Q=a("d7ck"),H=n(Q),V=a("FlCz"),X=n(V),z=a("MVgC"),Y=n(z),W=a("vl8n"),G=n(W),J=a("+WR7"),K=n(J),Z=a("zWMP"),ee=a("Qg39");t.default={name:"ApplyWLXQJHForm",mixins:[B.default],components:{Icon:g.default,Cell:I.default,Group:D.default,XInput:k.default,XTextarea:N.default,PopMatter:F.default,PopOrderList:q.default,Datetime:T.default,FormCell:H.default,BomList:X.default,BomPop:Y.default,RPicker:G.default,PopBaseinfo:K.default},data:function(){return{listId:"867e0b4f-548f-4e08-873a-1b8e54333630",orderList:{},showOrderPop:!1,formData:{biComment:""},submitSuccess:!1,numMap:{},transCode:"",formViewUniqueId:"82784823-ded5-4a58-a746-d32514f7d26f",biReferenceId:"",actions:[],taskId:"",matterList:[],entity:{},tmpItems:{},matter:{},showMatterPop:!1,DuplicateBoms:[],UniqueBom:[],modifyIndex:null,modifyKey:null,bomPopShow:!1,bom:{},modifyBomTdqty:[]}},watch:{matter:{handler:function(e){var t=this;e.boms&&e.boms.forEach(function(a){var n=t.calcBom(e.processQty,a);a.tdQty=Math.abs((0,ee.toFixed)(n))})},deep:!0}},methods:{checkBom:function(e,t,a){this.bom=e,this.modifyIndex=t,this.modifyKey=a,this.bomPopShow=!0,this.modifyBomTdqty=JSON.parse((0,y.default)(e.boms))},bomConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t),this.reBuildArr(t)},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,y.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a,this.modifyBomTdqty=[].concat((0,C.default)(e.boms))},selConfirm:function(e){var t=JSON.parse(e);t.processQty?t.tdQty=(0,Z.accAdd)(t.lockQty,t.processQty):t.tdQty="",this.$set(this.orderList[this.modifyKey],this.modifyIndex,t),this.reBuildArr(t)},reBuildArr:function(e){var t=this,a=e.boms;this.modifyBomTdqty.forEach(function(e){a.forEach(function(a){if(a.inventoryCode===e.inventoryCode)return a.newTdqty=(0,Z.accSub)(a.tdQty,e.tdQty),t.UniqueBom.forEach(function(e){if(a.inventoryCode===e.inventoryCode)return e.tdQty=(0,Z.accAdd)(e.tdQty,a.newTdqty),!1}),!0})})},selOrder:function(e){var t=this,a=JSON.parse(e),n={},i=[];this.DuplicateBoms=[],a.forEach(function(e){var a=e.transCode+"_"+e.inventoryCode,r=e.promDeliTime?(0,A.default)(new Date(e.promDeliTime)-2592e5,"YYYY-MM-DD"):"",s=t.numMap[a]||{},o=s.tdQty,l=void 0===o?"":o,d=s.processQty,u=void 0===d?"":d,c=s.lockQty,f=void 0===c?e.qtyBal:c,m=s.shippingTime,h=void 0===m?r:m,v=s.boms,p=void 0===v?[]:v;e.tdQty=l,e.processQty=u,e.lockQty=f,e.shippingTime=h,n[e.transCode]||(n[e.transCode]=[]),i.push((0,R.getJGRKBom)({parentInvCode:e.inventoryCode}).then(function(a){var n=a.tableContent,i=void 0===n?[]:n;i.forEach(function(a){var n=p.find(function(e){return a.inventoryCode===e.inventoryCode})||{},i=n.specificLoss,s=void 0===i?a.specificLoss:i,o=n.lockQty,l=void 0===o?0:o,d=n.shippingTime,u=void 0===d?r:d;a.specificLoss=parseFloat(s),a.lockQty=l,a.shippingTime=u;var c=t.calcBom(e.processQty,a);a.tdQty=Math.abs((0,ee.toFixed)(c))}),t.$set(e,"boms",i);var s=JSON.parse((0,y.default)(i));t.DuplicateBoms=[].concat((0,C.default)(t.DuplicateBoms),(0,C.default)(s))})),n[e.transCode].push(e)}),v.default.all(i).then(function(e){t.mergeBomList()}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},findIndex:function(e,t){return e.findIndex(function(e){return e.orderCode===t.orderCode&&e.transCode===t.transCode&&e.inventoryCode===t.inventoryCode})},delClick:function(e,t,a){var n=this.selItems,i=this.findIndex(n,t);if(-1!==i)return void n.splice(i,1);n.push(t)},showSelIcon:function(e){return-1!==this.findIndex(this.selItems,e)},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,y.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,m.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.orderCode===a.orderCode&&t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=e.findIndex(n,t);i>=0&&(e.$refs.order.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}})}),e.selItems.forEach(function(t){t.boms.forEach(function(t){return e.UniqueBom.forEach(function(a,n){if(t.inventoryCode===a.inventoryCode){var i=(0,Z.accSub)(a.tdQty,t.tdQty);return a.tdQty=(0,ee.toFixed)(i),a.tdQty<=0&&e.UniqueBom.splice(n,1),!1}}),!0})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,c.default)((0,d.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,l=!1,u=void 0;try{for(var f,m=(0,c.default)(r);!(s=(f=m.next()).done);s=!0){var h=f.value;this.numMap[h.transCode+"_"+h.inventoryCode]=(0,o.default)({},h)}}catch(e){l=!0,u=e}finally{try{!s&&m.return&&m.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="";if(t||(0,m.default)(this.orderList).length||(t="请选择物料"),!t){var a=!0,n=!1,i=void 0;try{for(var s,l=(0,c.default)((0,d.default)(this.orderList));!(a=(s=l.next()).done);a=!0){var u=s.value,f=!0,h=!1,v=void 0;try{for(var p,C=(0,c.default)(u);!(f=(p=C.next()).done);f=!0){var _=p.value;if(!_.tdQty){t="请填写本次入库数量";break}var b=!0,g=!1,w=void 0;try{for(var I,x=(0,c.default)(_.boms);!(b=(I=x.next()).done);b=!0){var D=I.value;if(D.qtyStock<D.tdQty){t="可用余额不能少于本次扣料，请重新输入入库数量";break}}}catch(e){g=!0,w=e}finally{try{!b&&x.return&&x.return()}finally{if(g)throw w}}if(t)break}}catch(e){h=!0,v=e}finally{try{!f&&C.return&&C.return()}finally{if(h)throw v}}if(t)break}}catch(e){n=!0,i=e}finally{try{!a&&l.return&&l.return()}finally{if(n)throw i}}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=[],a=j.saveAndStartWf,n={},i=(0,r.default)({},e.processCode,{businessKey:"IPPI",createdBy:""}),s=!0,l=!1,u=void 0;try{for(var f,m=(0,c.default)((0,d.default)(e.orderList));!(s=(f=m.next()).done);s=!0){var h=f.value,v=!0,p=!1,C=void 0;try{for(var _,b=(0,c.default)(h);!(v=(_=b.next()).done);v=!0){var g=_.value,w=[],I=!0,x=!1,D=void 0;try{for(var P,k=(0,c.default)(g.boms);!(I=(P=k.next()).done);I=!0){var S=P.value;w.push({transMatchedCode:g.transCode,tdQty:S.tdQty,lockQty:S.lockQty,demandQty:S.qty,thenQtyStock:S.qtyStock,bomSpecificLoss:S.specificLoss,inventoryType:S.inventoryType,tdProcessing:S.processing||S.tdProcessing,containerCodeOut:S.warehouseCode,material:S.material,inventoryName:S.inventoryName,specification:S.specification,transObjCode:S.inventoryCode,measureUnit:S.measureUnit,bomType:S.bomType,bomQty:S.qty||S.bomQty,shippingTime:S.shippingTime})}}catch(e){x=!0,D=e}finally{try{!I&&k.return&&k.return()}finally{if(x)throw D}}var T={tdId:g.tdId||null,transMatchedCode:g.transCode,transObjCode:g.inventoryCode,inventoryName_transObjCode:g.inventoryName,tdProcessing:g.processing,containerCodeOut:g.warehouseCode,measureUnit_transObjCode:g.measureUnit,thenQtyBal:g.qtyBal,promDeliTime:g.promDeliTime,thenQtyStock:g.qtyStock,lockQty:g.lockQty,processQty:g.processQty,tdQty:g.tdQty,leadTime:g.comment||null,shippingTime:g.shippingTime||null,comment:g.comment||null,boms:w};t.push(T)}}catch(e){p=!0,C=e}finally{try{!v&&b.return&&b.return()}finally{if(p)throw C}}}}catch(e){l=!0,u=e}finally{try{!s&&m.return&&m.return()}finally{if(l)throw u}}n=(0,o.default)({},e.formData,{modifer:e.transCode?e.formData.handler:"",handlerEntity:e.entity.dealerName,biProcessStatus:e.currentStage,inPut:{dataSet:t}}),e.transCode&&(a=j.saveAndCommitTask,i={businessKey:e.transCode,createdBy:n.creator||n.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var L={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,y.default)(n),wfPara:(0,y.default)(i)};e.transCode||delete L.biReferenceId,e.processCode.length||(a=j.submitAndCalc,delete L.wfPara,delete L.biReferenceId),e.biReferenceId&&(L.biReferenceId=e.biReferenceId),console.log(L),e.saveData(a,L)}})},getFormData:function(){var e=this;return(0,O.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,l=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var d={};e.attachment=l;var u=r.inPut,f=u.dataSet,m=void 0===f?[]:f,h=!0,v=!1,p=void 0;try{for(var C,_=(0,c.default)(m);!(h=(C=_.next()).done);h=!0){var b=C.value;b.boms.forEach(function(e){e.inventoryCode=e.transObjCode,e.specificLoss=e.bomSpecificLoss,e.qty=e.bomQty}),e.DuplicateBoms=e.DuplicateBoms.concat(JSON.parse((0,y.default)(b.boms))),b=(0,o.default)({},b,{transCode:b.transMatchedCode,qtyBal:b.thenQtyBal,inventoryPic:b.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+b.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:b.inventoryName_transObjCode,inventoryCode:b.transObjCode,specification:b.specification_transObjCode,processing:b.tdProcessing}),d[b.transCode]||(d[b.transCode]=[]),d[b.transCode].push(b)}}catch(e){v=!0,p=e}finally{try{!h&&_.return&&_.return()}finally{if(v)throw p}}e.matterList=m,e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,o.default)({},e.formData,e.handlerDefault,{biComment:r.biComment,biId:r.biId,biProcessStatus:r.biProcessStatus,creator:r.creator,modifer:r.modifer,drDealerLogisticsTerms:r.drDealerLogisticsTerms}),e.mergeBomList(),e.biReferenceId=r.biReferenceId,e.orderList=d,e.$loading.hide()})},mergeBomList:function(){var e=function(e,t){return e.inventoryCode===t.inventoryCode};this.UniqueBom=function(t){return t.reduce(function(t,a){return t.some(function(t){var n=e(t,a);return n&&(t.tdQty=(0,Z.accAdd)(t.tdQty,a.tdQty)),n})||t.push(a),t},[])}(this.DuplicateBoms)},hasDraftData:function(){return!!(0,d.default)(this.orderList).length&&(0,r.default)({},"WLXQJH_DATA",{orderList:this.orderList,formData:this.formData,DuplicateBoms:this.DuplicateBoms})},checkQtyBal:function(e){var t=e.qtyBal,a=e.qtyStock;t=Math.abs((0,ee.toFixed)(t)),t>a&&(t=a),e.qtyBal=t},checklockQty:function(e){var t=e.qtyBal,a=e.lockQty,n=e.processQty;a=Math.abs((0,ee.toFixed)(a)),(0,Z.accAdd)(a,n)>t&&(a=(0,Z.accSub)(t,n)),e.lockQty=a},checkprocessQty:function(e){var t=e.qtyBal,a=e.lockQty,n=e.processQty;n=Math.abs((0,ee.toFixed)(n)),(0,Z.accAdd)(a,n)>t&&(n=(0,Z.accSub)(t,a)),e.processQty=n},modifyBomLockQty:function(e){var t=this;this.$vux.confirm.prompt(e.lockQty,{title:"原料库存计划",onConfirm:function(a){if(a){t.$refs.bomPop.changeToConfirm(),e.lockQty=Math.abs((0,ee.toFixed)(a));var n=t.calcBom(t.bom.processQty,e);e.tdQty=Math.abs((0,ee.toFixed)(n))}}})},modifyBomSpecificLoss:function(e){var t=this;this.$vux.confirm.prompt(item.specificLoss,{title:"单位损耗率",onConfirm:function(a){if(a){t.$refs.bomPop.changeToConfirm(),e.specificLoss=Math.abs((0,ee.toFixed)(a));var n=t.calcBom(t.bom.processQty,e);e.tdQty=Math.abs((0,ee.toFixed)(n))}}})},modifyBomDate:function(e){var t=this;this.$vux.datetime.show({cancelText:"取消",confirmText:"确定",value:e.shippingTime,onConfirm:function(a){t.$refs.bomPop.changeToConfirm(),e.shippingTime=a}})},calcBom:function(e,t){return(0,Z.accSub)((0,Z.accMul)(e,t.qty,1+t.specificLoss),t.lockQty)}},filters:{dateFormat:A.default},created:function(){var e=sessionStorage.getItem("WLXQJH_DATA");if(e){var t=JSON.parse(e);this.orderList=t.orderList,this.formData=t.formData,this.DuplicateBoms=t.DuplicateBoms,this.mergeBomList(),sessionStorage.removeItem("WLXQJH_DATA")}}}},"9HrF":function(e,t){},"9IhM":function(e,t){},"9M4O":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("DGcX"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={mixins:[i.default],name:"x-dialog",model:{prop:"show",event:"change"},props:{show:{type:Boolean,default:!1},maskTransition:{type:String,default:"vux-mask"},maskZIndex:[String,Number],dialogTransition:{type:String,default:"vux-dialog"},dialogClass:{type:String,default:"weui-dialog"},hideOnBlur:Boolean,dialogStyle:Object,scroll:{type:Boolean,default:!0,validator:function(e){return!0}}},computed:{maskStyle:function(){if(void 0!==this.maskZIndex)return{zIndex:this.maskZIndex}}},mounted:function(){"undefined"!=typeof window&&window.VUX_CONFIG&&"VIEW_BOX"===window.VUX_CONFIG.$layout&&(this.layout="VIEW_BOX")},watch:{show:function(e){this.$emit("update:show",e),this.$emit(e?"on-show":"on-hide"),e?this.addModalClassName():this.removeModalClassName()}},methods:{shouldPreventScroll:function(){var e=/iPad|iPhone|iPod/i.test(window.navigator.userAgent),t=this.$el.querySelector("input")||this.$el.querySelector("textarea");if(e&&t)return!0},hide:function(){this.hideOnBlur&&(this.$emit("update:show",!1),this.$emit("change",!1),this.$emit("on-click-mask"))}},data:function(){return{layout:""}}}},"9S56":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("HXPS"),d=n(l),u=a("7g+Q"),c=n(u),f=a("6q39"),m=n(f),h=a("kNGm"),v=n(h),p=a("fEP3"),C=a("1KNX"),_=n(C),y=a("7biW"),b=n(y);t.default={name:"work-list-pop",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}}},components:{Icon:d.default,Popup:c.default,LoadMore:m.default,RScroll:_.default,MSearch:b.default},filters:{dateFormat:v.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],workList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterList:[{name:"成品名称",value:"inventoryName"},{name:"成品编码",value:"inventoryCode"},{name:"工序名称",value:"procedureName"}],filterProperty:""}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,o.default)(this.selItems)),this.$emit("input",!1)},findIndex:function(e,t){return e.findIndex(function(e){var a=!0;return e.transCode&&(a=e.transCode===t.transCode),a&&e.inventoryCode===t.inventoryCode})},showSelIcon:function(e){return-1!==this.tmpItems.findIndex(function(t){return t.transCode===e.transCode&&t.inventoryCode===e.inventoryCode})},selThis:function(e,t){var a=this.tmpItems,n=a.findIndex(function(t){return t.transCode===e.transCode&&t.inventoryCode===e.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(e)},setDefaultValue:function(){this.tmpItems=[this.defaultValue],this.selItems=[this.defaultValue]},getWorkOrderTask:function(){var e=this,t=[];if(this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),this.$route.query.orderId){var a=this.$route.query.orderId;console.log(a);var n=[{operator:"in",value:"",property:"colId"}];a.forEach(function(e,t){if(t===a.length-1)return void(n[0].value+=e);n[0].value+=e+","}),t=[].concat((0,o.default)(t),n)}return(0,p.getWorkOrderTask)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,s=void 0===i?[]:i;e.$route.query.orderId&&e.$emit("sel-work",(0,r.default)(s)),e.hasNext=n>(e.page-1)*e.limit+s.length,e.workList=1===e.page?s:[].concat((0,o.default)(e.workList),(0,o.default)(s)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},cfmMater:function(){this.showPop=!1,this.tmpItems.sort(function(e,t){return t.effectiveTime-e.effectiveTime}),this.selItems=[].concat((0,o.default)(this.tmpItems)),this.$emit("sel-work",(0,r.default)(this.selItems))},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.workList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getWorkOrderTask()},onPullingUp:function(){this.page++,this.getWorkOrderTask()}},created:function(){this.setDefaultValue(),this.getWorkOrderTask()}}},"9SNe":function(e,t,a){"use strict";function n(e){a("pVbi")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4D87");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("X128"),o=a.n(s),l=a("jOdo"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-71240e92",null);t.default=c.exports},"9arH":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages xsbj-list-conatiner",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noQty:"",noCount:""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}))],1),e._v(" "),e.action.add?a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},"9dj2":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=(a("XAqG"),a("HyXB"),a("MjAd")),o=n(s),l=a("ak47");n(l);t.default={name:"ZPJH_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"经办人",value:"handlerName"},{name:"交易号",value:"transCode"}],listViewID:2400}},mixins:[o.default],methods:{pathChange:function(e,t,a){var n=this;if(!this.clickVisited){var i=e.transCode,s=this.$route.query.name,o=this.$route.params,l=o.fileId,d=o.listId;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,r.default)({},e));var u=a+"/"+l+"/"+d;setTimeout(function(){n.clickVisited=!1,n.$router.push({path:u,query:{name:s,transCode:i}})},200)}},goDetail:function(e,t){this.pathChange(e,t,"/detail")},goUserEdit:function(e,t){this.pathChange(e,t,"/fillform")}}}},"9enk":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("rVsN"),r=n(i),s=a("KH7x"),o=n(s),l=a("Q+Ik"),d=n(l),u=a("4YfN"),c=n(u),f=a("Nk/b"),m=n(f),h=a("7g+Q"),v=n(h),p=a("z5TY"),C=n(p),_=a("vl8n"),y=n(_),b=a("PKHo"),g=n(b),w=a("XAqG"),I=a("5gKc"),x=n(I),D=a("WGJW"),P=n(D),k=a("1KNX"),S=n(k);t.default={name:"ApplyUserForm",data:function(){return{genderList:[{name:"男",value:"男",key:1},{name:"女",value:"女",key:0}],userTypeList:[{name:"长期有效",value:"长期有效",key:1},{name:"临时账户",value:"临时账户",key:0}],statusList:[{name:"使用中",value:"使用中",key:1},{name:"草稿",value:"草稿",key:3},{name:"停用",value:"停用",key:-1},{name:"未使用",value:"未使用",key:2}],codeReadOnly:!1,userData:{email:"",entityId:"",entityName:"",gender:"男",mobile:"",nickname:"",officePhone:"",photo:"",status:"使用中",termOfValidity:"",userCode:"",userType:"长期有效"},showDate:!1,PhoneWarn:!1,MobileWarn:!1,EmailWarn:!1,userCodeWarn:!1,colId:"",company:{},companyParams:{target:4}}},mixins:[g.default],components:{Picker:m.default,Popup:v.default,Group:C.default,RPicker:y.default,UploadImage:x.default,PopCompanyList:P.default,RScroll:S.default},methods:{onUpload:function(e){this.userData.photo="/H_roleplay-si/ds/download?width=128&height=128&url="+e.src},userTypeChange:function(e){"临时账户"===e&&(this.showDate=!0)},save:function(){var e=this,t={userCode:"工号",nickname:"姓名",mobile:"手机"};"临时账户"===this.userData.userType&&(t.termOfValidity="账户有效期"),t.entityName="公司";for(var a in this.userData)"string"==typeof this.userData[a]&&this.userData[a].indexOf(" ")>=0&&(this.userData[a]=this.userData[a].replace(/\s/g,""));var n=(0,c.default)({},this.userData),i=this.colId?w.updateUser:w.addUser,r="";if(this.userCodeWarn&&(r="工号已存在"),!r&&(0,d.default)(t).every(function(t){var a=(0,o.default)(t,2),n=a[0],i=a[1];return!!e.userData[n]||(r=i+"不能为空",!1)}),!r&&this.PhoneWarn&&(r="座机格式不正确"),!r&&this.EmailWarn&&(r="邮箱格式不正确"),r)return void this.$vux.alert.show({content:r});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=e.genderList.find(function(e){return e.value===n.gender}),a=e.userTypeList.find(function(e){return e.value===n.userType}),r=e.statusList.find(function(e){return e.value===n.status});n.gender=t.key,n.userType=a.key,n.status=r.key,console.log(n),i(n).then(function(t){e.$HandleLoad.hide();var a=t.success,n=void 0===a||a,r=t.message,s=void 0===r?"提交失败":r;n&&(s=i===w.addUser?"提交成功":"修改成功",e.$emit("change",!0)),e.$vux.alert.show({content:s,onHide:function(){n&&e.$router.go(-1)}})}).catch(function(t){e.$HandleLoad.hide()})}})},getDefaultImg:function(){this.userData.photo=a("Y//y")},selCompany:function(e){this.userData.entityName=e.groupName,this.userData.entityId=e.groupCode},getDate:function(){var e=this;this.$vux.datetime.show({confirmText:"确定",cancelText:"取消",value:this.userData.termOfValidity,onConfirm:function(t){e.userData.termOfValidity=t}})},checkPhone:function(){var e=/^0\d{2,3}-\d{7,8}$/;if(this.userData.officePhone.length>0&&!e.test(this.userData.officePhone))return void(this.PhoneWarn=!0);this.PhoneWarn=!1},checkMobile:function(){var e=/^[1][34578][0-9]{9}$/;if(this.userData.mobile.length>0&&!e.test(this.userData.mobile))return void(this.MobileWarn=!0);this.MobileWarn=!1},checkUserCode:function(){var e=this;(0,w.validateCode)(this.userData.userCode).then(function(t){var a=t.result,n=void 0===a?0:a;e.userCodeWarn=!1,n&&(e.userCodeWarn=!0,e.$vux.alert.show({content:"工号已存在"}))}).catch(function(t){e.userCodeWarn=!0})},checkEmail:function(){var e=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;if(this.userData.email.length>0&&!e.test(this.userData.email))return void(this.EmailWarn=!0);this.EmailWarn=!1},getFormData:function(){var e=this;return(0,w.getUserDetail)(this.colId).then(function(t){var a=t.tableContent,n=void 0===a?[]:a,i=(0,o.default)(n,1),r=i[0],s=void 0===r?{}:r,l=["女","男"],d=["","使用中","未使用","草稿"],u=["临时账户","长期有效"];s.gender=l[s.gender]||"未知",s.status=d[s.status]||"停用",s.userType=u[s.userType],"临时账户"===s.userType&&(e.showDate=!0),e.company={groupCode:s.entityId,groupName:s.entityName},e.userData=(0,c.default)({},e.userData,s),e.$loading.hide()})}},created:function(){var e=this;this.$loading.show();var t=this.$route.query.colId,a=void 0===t?"":t,n=[];a&&(this.colId=a,this.codeReadOnly=!0,n.push(this.getFormData())),r.default.all(n).then(function(){e.$loading.hide()})}}},"9fGn":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),m=a("89pA"),h=n(m),v=a("bFc7"),p=n(v),C=a("6WeX"),_=n(C),y=a("hPJo"),b=n(y),g=a("3NX5"),w=n(g),I=a("sUbJ"),x=n(I),D=a("d7ck"),P=n(D),k=a("zWMP"),S=a("Qg39");t.default={data:function(){return{count:0,comment:"",orderInfo:{},warehouse:{},formViewUniqueId:"e76a8c6f-05cc-45ee-ba93-299fe6751856",orderList:{}}},computed:{noTaxAmount:function(){var e=0;return this.orderInfo.inPut.dataSet.forEach(function(t){e=(0,k.accAdd)(e,t.noTaxAmount)}),e},taxAmount:function(){var e=0;return this.orderInfo.inPut.dataSet.forEach(function(t){e=(0,k.accAdd)(e,t.taxAmount)}),e}},mixins:[l.default],components:{workFlow:f.default,RAction:u.default,PopWarehouseList:h.default,PriceTotal:_.default,contactPart:p.default,WarehouseContent:b.default,MatterList:w.default,MatterItem:x.default,FormCell:P.default},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var d={},u=s.inPut,c=void 0===u?{}:u;e.attachment=l;var f=s.inPut.dataSet,m=!0,h=!1,v=void 0;try{for(var p,C=(0,r.default)(f);!(m=(p=C.next()).done);m=!0){var _=p.value;_.noTaxAmount=(0,k.accMul)(_.price,_.tdQty),_.taxAmount=(0,k.accMul)(_.noTaxAmount,_.taxRate),_.tdAmount=(0,S.toFixed)((0,k.accAdd)(_.noTaxAmount,_.taxAmount)),e.count=(0,k.accAdd)(e.count,_.tdAmount),_.inventoryPic=_.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),d[_.transMatchedCode]||(d[_.transMatchedCode]=[]),d[_.transMatchedCode].push(_)}}catch(e){h=!0,v=e}finally{try{!m&&C.return&&C.return()}finally{if(h)throw v}}e.orderList=d,e.dealerInfo={creatorName:s.dealerCreditContactPersonName,dealerName:c.dealerName_dealerCodeCredit,dealerMobilePhone:s.dealerCreditContactInformation,dealerContactPersonName:s.dealerCreditContactPersonName,dealerCode:c.dealerCode_dealerCodeCredit,dealerLabelName:c.crDealerLabel,province:c.province_dealerCodeCredit,city:c.city_dealerCodeCredit,county:c.county_dealerCodeCredit,address:c.address_dealerCodeCredit,payment:c.crDealerPaymentTerm},e.warehouse={warehouseCode:c.containerCode,warehouseName:c.warehouseName_containerCode,warehouseType:c.warehouseType_containerCode,warehouseProvince:c.warehouseProvince_containerCode,warehouseCity:c.warehouseCity_containerCode,warehouseDistrict:c.warehouseDistrict_containerCode,warehouseAddress:c.warehouseAddress_containerCode,containerInWarehouseManager:c.containerInWarehouseManager},e.orderInfo=s,e.workFlowInfoHandler()})}}}},"9kVI":function(e,t,a){function n(e){return a(i(e))}function i(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var r={"./consumable/DZYHPCGDDForm.vue":"5SxB","./consumable/DZYHPCGSQForm.vue":"WnoM","./consumable/DZYHPCGYSYZFForm.vue":"YjUH","./contacts/COMPANYForm.vue":"gihj","./contacts/JOBForm.vue":"Nu2k","./contacts/USERForm.vue":"k/UG","./equipment/SBCGDDForm.vue":"QifJ","./equipment/SBCGSQForm.vue":"K0z5","./equipment/SBCGYSForm.vue":"dOws","./finance/BXYZFForm.vue":"59Rw","./finance/CRCDHPForm.vue":"NHMs","./finance/DFCDHPForm.vue":"eNNU","./finance/DXTXCDHPForm.vue":"2TA+","./finance/FGYSDJForm.vue":"TUz9","./finance/FGYSQKForm.vue":"aASr","./finance/FKForm.vue":"YmAS","./finance/HGCWForm.vue":"n6c+","./finance/JKYBYJForm.vue":"MmnS","./finance/KCCDHPForm.vue":"of1D","./finance/SDCDHPForm.vue":"Uvie","./finance/SKForm.vue":"h8g4","./finance/XMFYBXForm.vue":"IBVj","./finance/YBFYBXForm.vue":"DTET","./finance/ZZSKPForm.vue":"/Z4J","./finance/ZZSSPForm.vue":"fMId","./hr/YGDAForm.vue":"x7T3","./hr/YGLZForm.vue":"vz8g","./hr/YGRZForm.vue":"+wTM","./hr/ZPJHForm.vue":"C6jN","./plan/BHDDForm.vue":"6/io","./plan/WLXQJHForm.vue":"/97J","./plan/WLXQTJForm.vue":"o99i","./plan/XSDDYCForm.vue":"v4O2","./product/CPFBForm.vue":"LoFD","./product/CPXQForm.vue":"qL4K","./production/GDRWForm.vue":"sMPv","./production/GDRWQDForm.vue":"C/iA","./production/GDYSForm.vue":"Px8X","./production/NBJGDDForm.vue":"P7KE","./project/XMJHForm.vue":"7sWR","./project/XMJXForm.vue":"8dZ0","./project/XMLXForm.vue":"TruQ","./project/XMRWForm.vue":"rewM","./purchase/CGDDForm.vue":"vJe9","./purchase/CGSQForm.vue":"8kZC","./purchase/CGXYForm.vue":"dRd+","./sale/CPJGForm.vue":"lkpG","./sale/KPSQForm.vue":"g2cw","./sale/SJForm.vue":"t4UV","./sale/XSBJForm.vue":"sZ9E","./sale/XSDDForm.vue":"Ca4P","./sale/XSHTForm.vue":"caTQ","./stock/BDKCDBForm.vue":"BMO2","./stock/CGRKForm.vue":"a6VN","./stock/CGTHCKForm.vue":"N/8H","./stock/GDBLLForm.vue":"e+7k","./stock/KCPDForm.vue":"xaLY","./stock/NBJGLLForm.vue":"bVic","./stock/NBJGRKForm.vue":"GIFU","./stock/XSCKForm.vue":"8FFA"};n.keys=function(){return Object.keys(r)},n.resolve=i,e.exports=n,n.id="9kVI"},"9mAr":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_content"},[e._m(0),e._v(" "),a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"往来名称",cellContent:e.dealerInfo.dealerName_dealerCodeCredit}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来编码",cellContent:e.dealerInfo.dealerCodeCredit}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来关系标签",cellContent:e.dealerInfo.crDealerLabel}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"类型",cellContent:e.dealerInfo.applicationType}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"信用额度",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.tdCreditLine),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来余额",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.thenAmntBalCopy1),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"申请金额",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.thenTotalAmntBal),3),showSymbol:""}}),e._v(" "),e.isAccount?a("x-input",{attrs:{type:"number",title:"本次支付",value:e.dealerInfo.tdAmountCopy1,"text-align":"right"},on:{"on-focus":e.getFocus,"on-blur":function(t){e.calcPayment(e.dealerInfo)}},model:{value:e.dealerInfo.tdAmountCopy1,callback:function(t){e.$set(e.dealerInfo,"tdAmountCopy1",e._n(t))},expression:"dealerInfo.tdAmountCopy1"}},[a("span",{staticClass:"required",attrs:{slot:"title"},slot:"title"},[e._v("本次支付")])]):a("form-cell",{attrs:{cellTitle:"本次支付",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.tdAmountCopy1),3),showSymbol:""}}),e._v(" "),e.isApproval?e._e():a("form-cell",{attrs:{cellTitle:"本次支付后余额",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.differenceAmount),3),showSymbol:""}})],1)]),e._v(" "),e.isCashier?a("pop-cash-list",{attrs:{"default-value":e.cashInfo,request:"0",params:e.cashParams,required:""},on:{"sel-item":e.selCash}},[a("template",{slot:"other"},[a("form-cell",{attrs:{cellTitle:"本次支付",cellContent:e._f("numberComma")(e._f("toFixed")(e.cashInfo.tdAmount),3),showSymbol:""}})],1)],2):e.isApproval||e.isAccount?e._e():a("div",{staticClass:"form_content",staticStyle:{"margin-top":"0.1rem"}},[a("div",{staticClass:"form_title"},[a("span",{staticClass:"iconfont icon-baoxiao"}),e._v(" "),a("span",{staticClass:"title"},[e._v("资金账户信息")])]),e._v(" "),a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"资金账户",cellContent:e.cashInfo.fundName_cashInCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"资金编码",cellContent:e.cashInfo.cashInCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"资金账户类型",cellContent:e.cashInfo.cashType_cashInCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"账户余额",cellContent:e._f("numberComma")(e._f("toFixed")(e.cashInfo.thenAmntBal),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次支付",cellContent:e._f("numberComma")(e._f("toFixed")(e.cashInfo.tdAmount),3),showSymbol:""}})],1)]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,"agree-handler":e.agreeHandler,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title"},[a("span",{staticClass:"iconfont icon-mingxi1"}),e._v(" "),a("span",[e._v("往来信息")])])}],r={render:n,staticRenderFns:i};t.a=r},"9n09":function(e,t){},"9tFN":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("just-word-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}},scopedSlots:e._u([{key:"list-item",fn:function(t){var n=t.item;return e._l(n.detailItem,function(t,i){return a("div",{key:i,staticClass:"each-slot-item"},[a("div",{staticClass:"top-content"},[e._v("汇票号: "+e._s(t.draftNumber))]),e._v(" "),a("div",{staticClass:"main-content"},[a("div",{staticClass:"info_part"},[e._v("\n                承汇类型: "+e._s(n.draftType)+"\n              ")]),e._v(" "),a("div",{staticClass:"info_part"},[e._v("\n                承汇人: "+e._s(n.accepter)+"\n              ")])])])})}}])})}))],1),e._v(" "),e.action.add?a("div",{staticClass:" vux-1px-t btn "},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},"9yeO":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=(a("HyXB"),a("+VRO")),l=n(o),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),m=a("6WeX"),h=n(m),v=a("3NX5"),p=n(v),C=a("sUbJ"),_=n(C),y=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:""}},components:{workFlow:f.default,RAction:u.default,PriceTotal:h.default,MatterList:p.default,MatterItem:_.default},mixins:[l.default],methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var d={};s.order;e.attachment=l;var u=s.order.dataSet,c=!0,f=!1,m=void 0;try{for(var h,v=(0,r.default)(u);!(c=(h=v.next()).done);c=!0){var p=h.value;e.count=(0,y.accAdd)(e.count,p.tdAmount),p.inventoryPic=p.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+p.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),p.transObjCode=p.inventoryCode_transObjCode,d[p.transMatchedCode]||(d[p.transMatchedCode]=[]),d[p.transMatchedCode].push(p)}}catch(e){f=!0,m=e}finally{try{!c&&v.return&&v.return()}finally{if(f)throw m}}e.orderList=d,e.orderInfo=s,e.workFlowInfoHandler()})}}}},AAe0:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("contact-part",{staticClass:"contacts_part",attrs:{"contact-info":e.dealerInfo,hasClass:!1,logistics:!1,payment:!1}}),e._v(" "),a("matter-list",{attrs:{"order-list":e.orderList,noTaxAmount:e.noTaxAmount,taxAmount:e.taxAmount,count:e.count,"list-title":"设施列表"},scopedSlots:e._u([{key:"orderTitle",fn:function(t){return[a("span",{staticClass:"order_title"},[e._v("订单号")])]}},{key:"matterOther",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("类型: "+e._s(n.facilityType))]),e._v(" "),a("span",[e._v("大类: "+e._s(n.facilityBigType_facilityObjCode))]),e._v(" "),a("span",[e._v("单位: "+e._s(n.facilityUnit_facilityObjCode||"无"))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.taxRate,expression:"item.taxRate"}]},[e._v("税率: "+e._s(n.taxRate))])]),e._v(" "),a("div",{staticClass:"mater_attribute"},[a("span",[e._v("订单总数: "+e._s(n.thenTotalQtyBal))]),e._v(" "),a("span",[e._v("已验收数: "+e._s(n.thenLockQty))]),e._v(" "),a("span",[e._v("待验收数: "+e._s(n.thenQtyBal))])]),e._v(" "),a("div",{staticClass:"mater_num"},[a("span",{staticClass:"num"},[e._v("单价: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.price),3)))]),e._v(" "),a("span",{staticClass:"num"},[e._v("本次验收: "+e._s(e._f("toFixed")(n.tdQty)))])]),e._v(" "),a("div",{staticClass:"mater_price"},[a("span",[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(n.tdAmount),3)))]),e._v(" "),n.taxRate?a("span",{staticClass:"num",style:{display:n.tdAmount&&n.tdAmount.toString().length>=7?"block":""}},[e._v("\n                [金额: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.noTaxAmount),3))+" + 税金: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.taxAmount),3))+"]\n              ")]):e._e()])])]}}])}),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},ABM4:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pop-entity-list",on:{click:e.itemClick}},[a("div",{staticClass:"title"},[e._v("经办主体")]),e._v(" "),e.selItems.dealerName?a("div",[a("div",{staticClass:"cp_info"},[a("p",{staticClass:"cp_name"},[e._v(e._s(e.selItems.dealerName))])])]):a("div",[a("div",{staticClass:"mode"},[e._v("请选择经办主体")])]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"}),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("div",{staticClass:"title"},[a("m-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}})],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"each_mater box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"mater_main "},[a("div",{staticClass:"dealer_name"},[e._v("\n                "+e._s(t.dealerName)+"\n              ")]),e._v(" "),a("div",{staticClass:"dealer_code"},[e._v("\n                "+e._s(t.dealerCode)+"\n              ")])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}))],1)])],1)])},i=[],r={render:n,staticRenderFns:i};t.a=r},ACTo:function(e,t,a){"use strict";function n(e){a("UZlK")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("hHGC");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("wB6c"),o=a.n(s),l=a("nrSX"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-56a0a500",null);t.default=c.exports},AGE1:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper xsck-detail-container"},[e.orderInfo&&e.orderInfo.outPut?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("project-part",{attrs:{"project-info":e.orderInfo.outPut}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"contacts_part"},[a("contact-part",{attrs:{"contact-info":e.dealerInfo,hasClass:!1,logistics:!1,payment:!1}}),e._v(" "),a("warehouse-content",{staticClass:"vux-1px-t",attrs:{warehouse:e.warehouse}})],1),e._v(" "),a("matter-list",{attrs:{"order-list":e.orderList,noTaxAmount:e.noTaxAmount,taxAmount:e.taxAmount,count:e.count},scopedSlots:e._u([{key:"matterOther",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("单价: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.price),3)))]),e._v(" "),a("span",[e._v("退货数量: "+e._s(e._f("toFixed")(n.tdQty)))]),e._v(" "),a("span",[e._v("税率: "+e._s(n.taxRate))])]),e._v(" "),a("div",{staticClass:"mater_price"},[a("span",[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(n.tdAmount),3)))]),e._v(" "),n.taxRate?a("span",{staticClass:"num",style:{display:n.tdAmount&&n.tdAmount.toString().length>=7?"block":""}},[e._v("\n                [金额: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.noTaxAmount),3))+" + 税金: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.taxAmount),3))+"]\n              ")]):e._e()])])]}}])},[a("template",{slot:"orderTitle"},[a("span",{staticClass:"order_title"},[e._v("订单号")])])],2),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{isTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},AHs1:function(e,t){},AJqB:function(e,t){},AKWE:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_part"},[e._m(0),e._v(" "),a("div",{staticClass:"form_content"},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"资金账户",cellContent:e.cashInfo.fundName_cashOutCode,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"资金编码",cellContent:e.cashInfo.cashOutCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"资金账户类型",cellContent:e.cashInfo.cashType_cashOutCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"账户余额",cellContent:e._f("numberComma")(e._f("toFixed")(e.cashInfo.thenAmntBal),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"支付金额",cellContent:e._f("numberComma")(e._f("toFixed")(e.cashInfo.tdAmount),3),showSymbol:""}})],1)])]),e._v(" "),a("div",{staticClass:"form_part"},[e._m(1),e._v(" "),e._l(e.orderInfo.order.dataSet,function(t,n){return a("div",{key:n,staticClass:"form_content",class:{show_border:n!==e.orderInfo.order.dataSet.length-1}},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"汇票号",cellContent:t.draftNumber,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"类型",cellContent:t.draftType}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"承兑人",cellContent:t.accepter}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"金额",cellContent:e._f("numberComma")(e._f("toFixed")(t.tdAmount),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"保证金",cellContent:e._f("numberComma")(e._f("toFixed")(t.deposit),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"出票日",cellContent:t.draftDate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"到期日",cellContent:t.draftDueDate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"说明",cellContent:t.comment}})],1)])})],2),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("资金账户详情")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("汇票列表")])])}],r={render:n,staticRenderFns:i};t.a=r},APV6:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages bdkcdb-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-warehouse-list",{attrs:{title:"出库仓库","default-value":e.warehouseOut,isRequired:""},on:{"sel-item":e.selWarehouseOut}}),e._v(" "),a("pop-warehouse-list",{attrs:{title:"入库仓库","default-value":e.warehouseIn,isRequired:""},on:{"sel-item":e.selWarehouseIn}}),e._v(" "),a("div",{staticClass:"materiel_list"},[e.matterList.length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v("物料列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.matterList,function(t,n){return a("div",{key:n,staticClass:"each_mater",class:{mater_delete:e.matterModifyClass,"vux-1px-b":n<e.matterList.length-1}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass},on:{"on-modify":function(a){e.modifyMatter(t,n)}},nativeOn:{click:function(a){e.delClick(n,t)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_more"},[a("span",{staticClass:"processing"},[e._v("属性: "+e._s(n.processing))]),e._v(" "),a("span",{staticClass:"unit"},[e._v("单位: "+e._s(n.measureUnit))]),e._v(" "),a("span",{staticClass:"mater_color"},[e._v("颜色: "+e._s(n.inventoryColor||"无"))])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:n.tdQty,expression:"item.tdQty"}],staticClass:"mater_other"},[a("span",{staticClass:"matter-remain"},[a("span",{staticClass:"symbol"},[e._v("库存数量: ")]),e._v(e._s(n.qtyBal)+"\n                      "),a("span",{staticClass:"symbol"},[e._v("调拨数量: ")]),e._v(e._s(n.tdQty)+"\n                    ")])])]}},{key:"edit",fn:function(t){var i=t.item;return[i.tdQty||e.matterModifyClass?e._e():a("div",{staticClass:"mater_other",on:{click:function(t){e.modifyMatter(i,n)}}},[a("div",{staticClass:"edit-tips"},[e._v("点击进行填写")])])]}}])}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.matterModifyClass,expression:"matterModifyClass"}],staticClass:"delete_icon ",on:{click:function(a){e.delClick(n,t)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])])],1)}))]:[a("div",{on:{click:function(t){e.showMaterielPop=!e.showMaterielPop}}},[a("div",{staticClass:"title"},[e._v("物料列表")]),e._v(" "),a("div",{staticClass:"tips"},[e._v("请选择物料")]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),this.actions.includes("stop")?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),e.matterList.length?a("span",{staticClass:"add_more",on:{click:e.addMatter}},[e._v("新增更多物料")]):e._e()]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showMaterielPop,"default-value":e.matterList,"get-list-method":"getSumInvBalance",params:e.warehouseParams},on:{"sel-matter":e.selMatter},model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}})],2),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,"is-show-amount":!1},on:{"sel-confirm":e.selConfirm},scopedSlots:e._u([{key:"modify",fn:function(t){var n=t.modifyMatter;return[a("x-input",{attrs:{title:"调拨数量",type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",t)},expression:"modifyMatter.tdQty"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("调拨数量\n              ")])])],2),e._v(" "),a("cell",{attrs:{title:"库存数量","text-align":"right",placeholder:"请填写",value:n.qtyBal}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("库存数量\n              ")])])],2)]}}]),model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode"},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-circle-outline 'outline' v-show=selItems.length !== matterList.length",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"btn-item",on:{click:e.save}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},AQAo:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"78a798f8-0f3a-4646-aa8b-d5bb1fada28c":"/materlist","64a41c48-4e8d-4709-bd01-5d60ad6bc625":"/warehouse","c0375170-d537-4f23-8ed0-a79cf75f5b04":"/adress"}},ARDs:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2323,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName"}]}},mixins:[i.default],methods:{},created:function(){}}},AU3i:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Zp+1"),r=n(i),s=a("+26s"),o=n(s),l=a("Qg39");t.default={data:function(){return{uniqueId:9e3,showContent:!1,handleLoadding:!1,filterArr:[{operator:"like",value:"",property:"dealerCode"}]}},components:{TabItem:r.default},mixins:[o.default],filters:{toFixed:l.toFixed}}},Ac7F:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("DEQU"),r=n(i),s=a("xZPP"),o=n(s),l=a("K2BN"),d=n(l);t.default={name:"x-textarea",minxins:[r.default],mounted:function(){var e=this;this.$slots&&this.$slots["restricted-label"]&&(this.hasRestrictedLabel=!0),this.$nextTick(function(){e.autosize&&e.bindAutosize()})},components:{InlineDesc:o.default},props:{title:String,inlineDesc:String,showCounter:{type:Boolean,default:!0},max:Number,value:String,name:String,placeholder:String,readonly:Boolean,disabled:Boolean,rows:{type:Number,default:3},cols:{type:Number,default:30},height:Number,autocomplete:{type:String,default:"off"},autocapitalize:{type:String,default:"off"},autocorrect:{type:String,default:"off"},spellcheck:{type:String,default:"false"},autosize:Boolean},created:function(){this.currentValue=this.value},watch:{autosize:function(e){this.unbindAutosize(),e&&this.bindAutosize()},value:function(e){this.currentValue=e},currentValue:function(e){this.max&&e&&e.length>this.max&&(this.currentValue=e.slice(0,this.max)),this.$emit("input",this.currentValue),this.$emit("on-change",this.currentValue)}},data:function(){return{hasRestrictedLabel:!1,currentValue:""}},computed:{count:function(){var e=0;return this.currentValue&&(e=this.currentValue.replace(/\n/g,"aa").length),e>this.max?this.max:e},textareaStyle:function(){if(this.height)return{height:this.height+"px"}},labelStyles:function(){return{width:this.$parent.labelWidth||this.labelWidth+"em",textAlign:this.$parent.labelAlign,marginRight:this.$parent.labelMarginRight}},labelWidth:function(){return this.title.replace(/[^x00-xff]/g,"00").length/2+1},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}}},methods:{updateAutosize:function(){d.default.update(this.$refs.textarea)},bindAutosize:function(){(0,d.default)(this.$refs.textarea)},unbindAutosize:function(){d.default.destroy(this.$refs.textarea)},focus:function(){this.$refs.textarea.focus()}},beforeDestroy:function(){this.unbindAutosize()}}},Ae17:function(e,t){},AiRy:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages comment-list-container",class:{"has-emotion":e.showEmotion}},[a("r-scroll",{ref:"bScroll",staticClass:"comment-list-wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.commentList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.commentList,function(t,n){return a("comment-item",{key:n,attrs:{item:t},on:{"on-reply":e.onReply,"on-praise-success":e.onPraiseSuccess}},e._l(t.allReply,function(t,n){return a("comment-item",{key:n,attrs:{slot:"reply",item:t},on:{"on-reply":e.onReply,"on-praise-success":e.onPraiseSuccess},slot:"reply"})}))})),e._v(" "),a("div",{staticClass:"send-container",class:{focus:e.focusInput}},[a("i",{ref:"emotionIcon",staticClass:"icon-emotion",on:{click:function(t){e.showEmotion=!e.showEmotion}}}),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.comment,expression:"comment"}],ref:"commentValue",staticClass:"comment-value",attrs:{type:"text",placeholder:e.placeholder},domProps:{value:e.comment},on:{focusin:e.commentFocusIn,focusout:e.commentFocusOut,input:function(t){t.target.composing||(e.comment=t.target.value)}}}),e._v(" "),a("span",{staticClass:"btn-send",on:{click:function(t){return t.stopPropagation(),e.saveComment(t)}}},[e._v("发送")])]),e._v(" "),a("r-emotion",{ref:"emotion",attrs:{show:e.showEmotion},on:{"on-select":e.emotionSelected}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},Ak0d:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"FormCell",props:{cellTitle:[String,Number],cellContent:[String,Number],showTopBorder:{type:Boolean,default:!0},textRight:{type:Boolean,default:!1},showSymbol:{type:Boolean,default:!1}}}},"Atv/":function(e,t,a){e.exports=a.p+"static/img/ava04.e8359b1.png"},AupE:function(e,t,a){"use strict";function n(e){a("ITaD")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("nHTe");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("W09m"),o=a.n(s),l=a("Uy15"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-6229708f",null);t.default=c.exports},AwSw:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("7g+Q"),o=n(s),l=a("+62G"),d=(n(l),a("z5TY")),u=n(d),c=a("BGNQ"),f=n(c),m=a("u28h"),h=n(m),v=a("SAzG"),p=n(v),C=a("jnZd"),_=(n(C),a("Qg39"));t.default={name:"MatterPop",props:{modifyMatter:{type:Object,default:function(){return{}}},showDateTime:{type:Boolean,default:!1},showPop:{type:Boolean,default:!1},btnIsHide:{type:Boolean,default:!1},isCheckStock:{type:Boolean,default:!0},isShowAmount:{type:Boolean,default:!0},dateText:{type:String,default:"预期交货日"}},components:{Popup:o.default,Group:u.default,Cell:f.default,Datetime:h.default,XInput:p.default},data:function(){return{show:!1}},watch:{showPop:{handler:function(e){this.show=e}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&(e.$refs.bScroll.refresh(),e.$refs.bScroll.scrollTo(0,0)),e.clientHeight=document.documentElement.clientHeight})},onHide:function(){this.$emit("input",!1),this.showPrice=!1,this.currentType="渠道价"},confirm:function(){this.$emit("sel-confirm",(0,r.default)(this.modifyMatter)),this.show=!1},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},checkAmt:function(e){var t=e.price,a=e.tdQty,n=e.taxRate,i=e.qtyBal,r=e.qtyStockBal,s=e.qtyStock;t&&(e.price=Math.abs((0,_.toFixed)(t))),a&&this.isCheckStock&&(e.tdQty=Math.abs((0,_.toFixed)(a)),!r&&!s&&i&&a>i?e.tdQty=i:r&&a>r?e.tdQty=r:s&&a>s&&(console.log(s),e.tdQty=s)),n&&(e.taxRate=Math.abs((0,_.toFixed)(n)))},getFocus:function(e){event.currentTarget.select()}}}},"Ay/5":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages sj-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),e._l(e.CostList,function(t,n){return a("div",{key:n,staticClass:"materiel_list"},[a("div",{staticClass:"title"},[e._v(e._s("费用明细"+(n+1)))]),e._v(" "),a("group",{staticClass:"SJ_group",on:{"group-title-margin-top":function(e){}}},[a("cell",{attrs:{title:"费用名称","is-link":""},nativeOn:{click:function(a){e.getCost(n,t)}},model:{value:t.exptName,callback:function(a){e.$set(t,"exptName",a)},expression:"item.exptName"}},[a("span",{staticClass:"required",attrs:{slot:"title"},slot:"title"},[e._v("费用名称")])]),e._v(" "),a("cell",{attrs:{title:"费用编码"},model:{value:t.expCode,callback:function(a){e.$set(t,"expCode",a)},expression:"item.expCode"}}),e._v(" "),a("cell",{attrs:{title:"费用科目"},model:{value:t.expSubject,callback:function(a){e.$set(t,"expSubject",a)},expression:"item.expSubject"}},[a("span",{staticClass:"required",attrs:{slot:"title"},slot:"title"},[e._v("费用科目")])]),e._v(" "),a("cell",{attrs:{title:"费用类型"},model:{value:t.costType,callback:function(a){e.$set(t,"costType",a)},expression:"item.costType"}}),e._v(" "),a("x-input",{attrs:{title:"申请金额","text-align":"right",placeholder:"请填写",type:"number"},on:{"on-focus":function(t){e.getFocus(t)},"on-blur":function(a){e.checkAmt(t)}},model:{value:t.tdAmount,callback:function(a){e.$set(t,"tdAmount",e._n(a))},expression:"item.tdAmount"}},[a("span",{staticClass:"required",attrs:{slot:"label"},slot:"label"},[e._v("申请金额")])]),e._v(" "),a("x-input",{attrs:{title:"报销事由","text-align":"right",placeholder:"请填写"},model:{value:t.expCause,callback:function(a){e.$set(t,"expCause",a)},expression:"item.expCause"}})],1)],1)}),e._v(" "),a("div",{staticClass:"add_more"},[e._v("\n        您还需要添加新的报销?请点击\n        "),a("span",{staticClass:"add",on:{click:e.addCost}},[e._v("新增")]),e._v(" "),a("em",{directives:[{name:"show",rawName:"v-show",value:e.CostList.length>1,expression:"CostList.length>1"}]},[e._v("或")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.CostList.length>1,expression:"CostList.length>1"}],staticClass:"delete",on:{click:e.deleteCost}},[e._v("删除")])]),e._v(" "),a("pop-cost-list",{ref:"matter",attrs:{show:e.showCostPop,defaultValue:e.selectedCost,getListMethod:"getProjectCostByGroupId","group-id":Number(e.formData.handlerUnit)},on:{"sel-matter":e.selMatter},model:{value:e.showCostPop,callback:function(t){e.showCostPop=t},expression:"showCostPop"}}),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}})],2)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},"B/eA":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("HyXB"),d=a("2y58"),u=n(d),c=a("fyaN"),f=n(c);t.default={name:"RAction",props:{code:{type:String,default:""},taskId:{type:String,default:""},actions:{type:Array,default:function(){return[]}},name:{type:String,default:""},agreeHandler:{type:Function,default:null}},components:{Confirm:u.default,PopUserList:f.default},data:function(){return{showUserList:!1,selectedUser:{},showConfirm:!1,transferInfo:{taskTime:.1,comment:""},showTaskWarn:!1,showCommentWarn:!1}},methods:{reject:function(){var e=this;this.$vux.confirm.prompt("",{title:"审批意见",onConfirm:function(t){e.commitTask({result:0,successMsg:"拒绝成功",value:t})}})},agree:function(){var e=this;this.agreeHandler&&this.agreeHandler()||this.$vux.confirm.prompt("",{title:"审批意见",onConfirm:function(t){e.commitTask({result:1,successMsg:"同意成功",value:t})}})},revoke:function(){var e=this;this.$vux.confirm.prompt("",{title:"撤回原因",onConfirm:function(t){e.commitTask({result:2,successMsg:"撤回成功",value:t,callback:function(){var t=e.$route.query.childId,a=e.$route.params,n=a.fileId,i=a.listId;e.$router.replace({path:"/fillform/"+n+"/"+i,query:{childId:t,name:e.name,transCode:e.code}})}})}})},commitTask:function(e){var t=this,a=e.result,n=e.value,i=e.successMsg,r=e.callback;this.$HandleLoad.show();var s={taskId:this.taskId,taskData:(0,o.default)({result:a,transCode:this.code,comment:n})};return(0,l.commitTask)(s).then(function(e){t.$HandleLoad.hide();var n=e.success,s=void 0!==n&&n,l=e.message,d=void 0===l?"提交失败":l,u={0:"reject",1:"agree",2:"revoke"};s&&(d=i,t.$emit("on-submit-success",(0,o.default)({type:u[a]}))),t.$vux.alert.show({content:d,onHide:function(){s&&(r?r():t.$router.go(0))}})}).catch(function(e){t.$HandleLoad.hide()})},transfer:function(){this.selectedUser={},this.showUserList=!0},selUser:function(e){this.selectedUser=(0,r.default)({},e),this.showConfirm=!0},onConfirm:function(){var e=this,t=(0,r.default)({userId:this.selectedUser.userId,taskId:this.taskId},this.transferInfo);this.showTaskWarn=!this.transferInfo.taskTime,this.showCommentWarn=!this.transferInfo.comment,this.showTaskWarn||this.showCommentWarn||(this.showConfirm=!1,this.$HandleLoad.show(),(0,l.transferTask)(t).then(function(t){e.$HandleLoad.hide();var a=t.success,n=void 0!==a&&a,i=t.message,r=void 0===i?"提交失败":i;n&&(r="转办成功",e.$emit("on-submit-success",(0,o.default)({type:"transfer"}))),e.$vux.alert.show({content:r,onHide:function(){e.$router.go(0)}})}).catch(function(t){e.$HandleLoad.hide()}))}}}},B1Yr:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_part"},[e._m(0),e._v(" "),a("div",{staticClass:"form_content"},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"往来名称",cellContent:e.dealerInfo.dealerName,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来编码",cellContent:e.dealerInfo.dealerCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来关系标签",cellContent:e.dealerInfo.dealerLabelName}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来余额",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.amntBal),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次开出汇票",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.thenTotalAmntBal),3),showSymbol:""}})],1)])]),e._v(" "),a("div",{staticClass:"form_part"},[e._m(1),e._v(" "),e._l(e.orderInfo.order.dataSet,function(t,n){return a("div",{key:n,staticClass:"form_content",class:{show_border:n!==e.orderInfo.order.dataSet.length-1}},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"汇票号",cellContent:t.draftNumber,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"类型",cellContent:t.draftType}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"承兑人",cellContent:t.accepter}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"金额",cellContent:e._f("numberComma")(e._f("toFixed")(t.tdAmount),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"保证金",cellContent:e._f("numberComma")(e._f("toFixed")(t.deposit),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"出票日",cellContent:t.draftDate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"到期日",cellContent:t.draftDueDate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"出让日期",cellContent:t.draftSellDate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"说明",cellContent:t.comment}})],1)])})],2),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("往来详情")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("汇票列表")])])}],r={render:n,staticRenderFns:i};t.a=r},B5KQ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2192,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_outPutMatCode"},{name:"往来名称",value:"dealerName_dealerDebit"}]}},mixins:[i.default],methods:{},created:function(){}}},B7rM:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("iR2W"),r=n(i),s=a("kNGm"),o=n(s),l=a("Qg39");t.default={name:"materListItem",props:{item:{type:Object,default:function(){return{}}},noCount:{type:Boolean,default:!1},noPrice:{type:Boolean,default:!1},noQty:{type:Boolean,default:!1},isDealer:{type:Boolean,default:!0},isMoreDealer:{type:Boolean,default:!1}},data:function(){return{}},filters:{dateFormat:o.default,numberComma:r.default,toFixed:l.toFixed},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t}}}},B8Y4:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("4YfN"),o=n(s),l=a("IHPB"),d=n(l),u=a("n0D0"),c=a("0Nk0"),f=n(c);t.default={name:"PopFacilityList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},defaultTitle:{type:String,default:"订单号"},request:{type:String,default:"0"},params:{type:Object,default:function(){return{}}},filterList:{type:Array,default:function(){return[{name:"设施名称",value:"facilityName"},{name:"设施编码",value:"facilityCode"}]}},judgeKeys:{type:Array,default:function(){return["transCode","facilityCode"]}}},components:{RPopup:f.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],listData:[],limit:100,page:1,hasNext:!0,scrollOptions:{pullUpLoad:!0},filterProperty:"",requestMethods:null}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.selItems=[].concat((0,d.default)(this.defaultValue))},immediate:!0},params:{handler:function(){this.resetCondition(),this.getList()}}},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),this.requestMethods((0,o.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,s=void 0===i?[]:i;s.forEach(function(t){t.inventoryPic=t.inventoryPic?"/H_roleplay-si/ds/download?url="+t.inventoryPic+"&width=400&height=400":e.getDefaultImg()});var o=e.$route.query.relationKey;(void 0===o?"":o)&&(e.selItems=[].concat((0,d.default)(s)),e.$emit("sel-matter",(0,r.default)(e.selItems))),e.hasNext=n>(e.page-1)*e.limit+s.length,e.listData=1===e.page?s:[].concat((0,d.default)(e.listData),(0,d.default)(s))})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.resetCondition(),this.getList()},delSelItem:function(e){this.$refs.RPopup.delSelItem(e)},onPullingUp:function(){this.page++,this.getList()},resetCondition:function(){this.listData=[],this.page=1,this.hasNext=!0},selItem:function(e){this.$emit("sel-matter",(0,r.default)(e))}},created:function(){var e=[u.getObjFacilityByType,u.getEquipmentPurchaseOrder,u.getObjFacilityByDealerCode];this.requestMethods=e[this.request],this.getList()}}},BDVu:function(e,t){},BGNQ:function(e,t,a){"use strict";function n(e){a("PRcm")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("VsvK");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("jzM3"),o=a.n(s),l=a("Zs2f"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},BGkv:function(e,t){},BJMS:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("B8DQ");t.default={name:"tab-item",mixins:[n.childMixin],props:{activeClass:String,disabled:Boolean,badgeBackground:{type:String,default:"#f74c31"},badgeColor:{type:String,default:"#fff"},badgeLabel:String},computed:{style:function(){return{borderWidth:this.$parent.lineWidth+"px",borderColor:this.$parent.activeColor,color:this.currentSelected?this.$parent.activeColor:this.disabled?this.$parent.disabledColor:this.$parent.defaultColor,border:this.$parent.animate?"none":"auto"}}}}},BLSw:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2478}},mixins:[i.default],methods:{},created:function(){}}},BM9o:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("HXPS"),o=n(s);t.default={name:"RDropdown",props:{list:{type:Array,default:function(){return[]}},show:{type:Boolean,default:!1}},components:{Icon:o.default},data:function(){return{showDrop:!1,selItem:{}}},watch:{show:{handler:function(e){this.showDrop=e},immediate:!0},list:{handler:function(){this.selItem=this.list[0],this.$emit("on-selected",this.selItem)},immediate:!0}},methods:{dropClick:function(){this.showDrop=!this.showDrop},dropItemClick:function(e){this.selItem=(0,r.default)({},e),this.showDrop=!1,this.$emit("on-selected",this.selItem)}},created:function(){}}},BMO2:function(e,t,a){"use strict";function n(e){a("ZnFL")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("+sd1");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("g09T"),o=a.n(s),l=a("Bu1J"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-25e7059e",null);t.default=c.exports},BPjW:function(e,t){},BRCM:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pop-salesman-list-container"},[a("div",{staticClass:"SJForm_cell",on:{click:e.itemClick}},[a("div",{class:{required:e.required}},[e._v(e._s(e.title))]),e._v(" "),a("div",{staticClass:"value"},[e._v(e._s(e.currentValue||"请选择"))])]),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("div",{staticClass:"trade_pop_title"},[a("r-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}})],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"salesman-list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.dealerList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.dealerList,function(t,n){return a("div",{key:n,staticClass:"mater-list-item",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"mater-list-item-content"},[a("div",{staticClass:"name"},[e._v(e._s(t.dealerName))]),e._v(" "),a("div",[e._v(e._s(t.province)+e._s(t.city)+e._s(t.county)+e._s(t.address))])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}))],1)])],1)])},i=[],r={render:n,staticRenderFns:i};t.a=r},BUFe:function(e,t,a){"use strict";function n(e){a("tYFW")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("B/eA");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("dQpD"),o=a.n(s),l=a("rdCe"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-4054afaa",null);t.default=c.exports},BUVi:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("BGNQ"),o=n(s),l=a("z5TY"),d=n(l),u=a("kNGm"),c=n(u),f=a("0AQX"),m=a("+VRO"),h=n(m),v=(a("Qg39"),a("BUFe")),p=n(v),C=a("AupE"),_=n(C),y=a("bFc7"),b=n(y),g=a("hPJo"),w=n(g),I=a("FlCz"),x=n(I);t.default={data:function(){return{workInfo:[],orderInfo:{},warehouse:{},bomList:[]}},mixins:[h.default],components:{Cell:o.default,Group:d.default,RAction:p.default,workFlow:_.default,contactPart:b.default,WarehouseContent:w.default,BomList:x.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,f.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order,n=void 0===a?{}:a;t.formData.validUntil=(0,c.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workInfo=n.dataSet,e.warehouse=(0,r.default)({},e.warehouse,{warehouseName:n.warehouseName_containerCode,warehouseType:n.warehouseType_containerCode,warehouseAddress:n.warehouseAddress_containerCode}),e.workFlowInfoHandler()})}}}},Bd2n:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=(a("jLp1"),a("MjAd")),o=n(s);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2325,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"项目名称",value:"projectName"}]}},mixins:[o.default],methods:{goDetail:function(e,t){var a=this;if(!this.clickVisited){var n=e.transCode,i=this.$route.query.name,s=this.$route.params,o=s.fileId,l=s.listId;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,r.default)({},e)),setTimeout(function(){a.clickVisited=!1,a.$router.push({path:"/detail/"+o+"/"+l,query:{name:i,transCode:n}})},200)}}}}},BgEH:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages sj-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[a("div",{staticClass:"mater_list"},[a("div",{staticClass:"each_mater"},[a("div",{staticClass:"userInp_mode"},[a("div",{staticClass:"title"},[e._v("员工信息")]),e._v(" "),a("group",{staticClass:"SJ_group",on:{"group-title-margin-top":function(e){}}},[a("pop-salesman-list",{attrs:{title:"员工","dealer-label-name":"员工",value:e.formData.salesPerson,required:""},model:{value:e.formData.hiresName,callback:function(t){e.$set(e.formData,"hiresName",t)},expression:"formData.hiresName"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("员工\n                    ")])])],2),e._v(" "),a("popup-picker",{attrs:{title:"部门",data:e.groupList,placeholder:"请选择"},model:{value:e.formData.hiresDepartMent,callback:function(t){e.$set(e.formData,"hiresDepartMent",t)},expression:"formData.hiresDepartMent"}}),e._v(" "),a("popup-picker",{attrs:{title:"岗位",data:e.roleList,placeholder:"请选择"},model:{value:e.formData.hiresPost,callback:function(t){e.$set(e.formData,"hiresPost",t)},expression:"formData.hiresPost"}}),e._v(" "),a("datetime",{attrs:{placeholder:"请选择日期",title:"体检日期"},model:{value:e.formData.examinationDate,callback:function(t){e.$set(e.formData,"examinationDate",t)},expression:"formData.examinationDate"}}),e._v(" "),a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1)])])]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},BiK4:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"comment-item",on:{click:function(t){return t.stopPropagation(),e.reply(t)}}},[n("header",{staticClass:"header"},[n("div",{staticClass:"header-left"},[n("img",{staticClass:"avatar",attrs:{src:e.item.photo||a("Fuf7")},on:{error:e.getDefaultImg}}),e._v(" "),n("span",{staticClass:"creator-name"},[e._v(e._s(e.item.creatorName))]),e._v(" "),n("span",{staticClass:"time"},[e._v(e._s(e._f("filterTime")(e.item.CRT_TIME)))])]),e._v(" "),n("div",{staticClass:"header-right",on:{click:function(t){return t.stopPropagation(),e.savePraise(t)}}},[e.item.praiseNum?n("span",{staticClass:"praise-num"},[e._v(e._s(e.item.praiseNum))]):e._e(),e._v(" "),n("i",{staticClass:"iconfont icon-L2",class:{praise:!e.item.isPraise}})])]),e._v(" "),n("div",{staticClass:"comment",domProps:{innerHTML:e._s(e.handleComment())}}),e._v(" "),e.item.commentAttachments?n("div",{staticClass:"comment-image"},[e._l(e.item.commentAttachments,function(t,a){return t.isImg?n("img",{key:a,staticClass:"comment-image-item",attrs:{src:t.ATTACHMENT},on:{click:function(a){a.stopPropagation(),e.scaleImg(t)}}}):e._e()}),e._v(" "),e._l(e.item.commentAttachments,function(t,a){return t.isImg?e._e():n("div",{key:a,staticClass:"each_file",on:{click:function(a){a.stopPropagation(),e.checkFile(t.ATTACHMENT)}}},[e._v("附件"+e._s(a+1)+": "+e._s(t.name))])})],2):e._e(),e._v(" "),this.$slots.reply?n("div",{staticClass:"comment-reply"},[e._t("reply")],2):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},BjhZ:function(e,t){},BljH:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tab"},[a("div",{staticClass:"only_tab_item",on:{click:function(t){e.tabShow=!e.tabShow}}},[a("div",{staticClass:"tab_item_name"},[e._v(e._s(e.choicedTab)+"\n      "),a("p",{staticClass:"arrow",class:e.tabShow?"arrow_up":"arrow_down"},[a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-arrow-down",attrs:{type:"ios-arrow-down",size:"24",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M396.6 160l19.4 20.7L256 352 96 180.7l19.3-20.7L256 310.5z"}})])])])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.tabShow,expression:"tabShow"}],ref:"tabItem",staticClass:"all_tab_item"},[a("div",{staticClass:"tab_wrapper"},e._l(e.tabVal,function(t,n){return a("div",{key:n,staticClass:"tab_item_name",class:{active:n===e.activeTabIndex},on:{click:function(a){e.switchTab(t,n)}}},[e._v("\n        "+e._s(t.view_name)+"\n      ")])}))])])},i=[],r={render:n,staticRenderFns:i};t.a=r},BmNp:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("B8DQ");t.default={name:"tab",mixins:[n.parentMixin],mounted:function(){var e=this;this.$nextTick(function(){setTimeout(function(){e.hasReady=!0},0)})},props:{lineWidth:{type:Number,default:3},activeColor:String,barActiveColor:String,defaultColor:String,disabledColor:String,animate:{type:Boolean,default:!0},customBarWidth:[Function,String],preventDefault:Boolean,scrollThreshold:{type:Number,default:4},barPosition:{type:String,default:"bottom",validator:function(e){return-1!==["bottom","top"].indexOf(e)}}},computed:{barLeft:function(){if(this.hasReady){var e=this.scrollable?window.innerWidth/this.$children[this.currentIndex||0].$el.getBoundingClientRect().width:this.number;return this.currentIndex*(100/e)+"%"}},barRight:function(){if(this.hasReady){var e=this.scrollable?window.innerWidth/this.$children[this.currentIndex||0].$el.getBoundingClientRect().width:this.number;return(e-this.currentIndex-1)*(100/e)+"%"}},innerBarStyle:function(){return{width:"function"==typeof this.customBarWidth?this.customBarWidth(this.currentIndex):this.customBarWidth,backgroundColor:this.barActiveColor||this.activeColor}},barStyle:function(){var e={left:this.barLeft,right:this.barRight,display:"block",height:this.lineWidth+"px",transition:this.hasReady?null:"none"};return this.customBarWidth?e.backgroundColor="transparent":e.backgroundColor=this.barActiveColor||this.activeColor,e},barClass:function(){return{"vux-tab-ink-bar-transition-forward":"forward"===this.direction,"vux-tab-ink-bar-transition-backward":"backward"===this.direction}},scrollable:function(){return this.number>this.scrollThreshold}},watch:{currentIndex:function(e,t){this.direction=e>t?"forward":"backward",this.$emit("on-index-change",e,t),this.hasReady&&this.scrollToActiveTab()}},data:function(){return{direction:"forward",right:"100%",hasReady:!1}},methods:{scrollToActiveTab:function(){var e=this;if(this.scrollable&&this.$children&&this.$children.length){var t=this.$children[this.currentIndex].$el,a=0,n=function n(){var i=e.$refs.nav;i.scrollLeft+=(t.offsetLeft-(i.offsetWidth-t.offsetWidth)/2-i.scrollLeft)/15,++a<15&&window.requestAnimationFrame(n)};window.requestAnimationFrame(n)}}}}},BniI:function(e,t){},BonF:function(e,t){},BqiB:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("3pyw"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"countup",mounted:function(){var e=this;this.$nextTick(function(){e._countup=new i.default(e.$el,e.startVal,e.endVal,e.decimals,e.duration,e.options),e.start&&e._countup.start()})},props:{tag:{type:String,default:"span"},start:{type:Boolean,default:!0},startVal:{type:Number,default:0},endVal:{type:Number,required:!0},decimals:{type:Number,default:0},duration:{type:Number,default:2},options:{type:Object,default:function(){return{}}}},render:function(e){return e(this.tag,{},[this.startVal])},watch:{start:function(e){e&&this._countup.start()},endVal:function(e){this._countup.update(e)}}}},BsHw:function(e,t){},BtSW:function(e,t){},Bu1J:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.inPut?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"warehouse_part"},[a("warehouse-content",{staticClass:"vux-1px-b",attrs:{warehouse:e.warehouseOut}}),e._v(" "),a("warehouse-content",{attrs:{warehouse:e.warehouseIn}})],1),e._v(" "),a("matter-list",{attrs:{"matter-list":e.orderInfo.inPut.dataSet},scopedSlots:e._u([{key:"matterOther",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("属性: "+e._s(n.tdProcessing))]),e._v(" "),a("span",[e._v("单位: "+e._s(n.measureUnit_transObjCode))])]),e._v(" "),a("div",{staticClass:"mater_num"},[a("span",{staticClass:"num"},[e._v("\n                调拨数量: "+e._s(e._f("toFixed")(n.tdQty))+"\n              ")]),e._v(" "),a("span",{staticClass:"units"},[e._v("\n                [可用库存数: "+e._s(e._f("toFixed")(n.thenQtyStock))+"]\n              ")])])])]}}])}),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},Bvj9:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("QHLv"),v=a("1KNX"),p=n(v),C=a("7biW"),_=n(C);t.default={name:"PopOrderList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},params:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:m.default,RScroll:p.default,MSearch:_.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],matterList:[],limit:100,page:1,hasNext:!0,scrollOptions:{pullUpLoad:!0},filterProperty:"",filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"}]}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}},params:{handler:function(){this.resetCondition(),this.getList()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,d.default)(this.selItems)),this.$emit("input",!1)},findIndex:function(e,t){return e.findIndex(function(e){return e.popiCode===t.popiCode})},showSelIcon:function(e){return-1!==this.findIndex(this.tmpItems,e)},selThis:function(e,t){var a=this.tmpItems,n=this.findIndex(a,e);if(-1!==n)return void a.splice(n,1);a.push(e)},cfmMater:function(){this.showPop=!1,this.tmpItems.sort(function(e,t){return t.effectiveTime-e.effectiveTime}),this.selItems=[].concat((0,d.default)(this.tmpItems)),this.$emit("sel-item",(0,o.default)(this.selItems))},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.resetCondition(),this.getList()},delSelItem:function(e){var t=this.findIndex(this.selItems,e);-1!==t&&this.selItems.splice(t,1),this.tmpItems=[].concat((0,d.default)(this.selItems))},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.tmpItems=[].concat((0,d.default)(this.defaultValue)),this.selItems=[].concat((0,d.default)(this.defaultValue))},resetCondition:function(){this.matterList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"popiCode"}])),(0,h.getPaySupplierArrearsDataSet)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(t)},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.matterList=1===e.page?r:[].concat((0,d.default)(e.matterList),(0,d.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})}},created:function(){this.setDefaultValue(),this.getList()}}},Bvjk:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper xsbj-detail-container"},[e.orderInfo?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.contactInfo,payment:!1,logistics:!1}}),e._v(" "),a("div",{staticClass:"form_content"},[e._m(0),e._v(" "),a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"标题",cellContent:e.orderInfo.opportunityTitle}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"内容",cellContent:e.orderInfo.comment||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"流程状态",cellContent:e.orderInfo.biProcessStatus||"暂无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"有效期至",cellContent:e.orderInfo.validUntil}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"销售人员",cellContent:e.orderInfo.salesPerson}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"销售渠道",cellContent:e.orderInfo.salesChannels}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"分类标签",cellContent:e.orderInfo.categoryLabels||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("div",{staticClass:"price_cell vux-1px-t"},[a("span",{staticClass:"price_title"},[e._v("预期销售额:")]),e._v(" "),a("span",{staticClass:"num"},[a("span",{staticClass:"symbol"},[e._v("￥")]),a("span",[e._v(e._s(e._f("numberComma")(e.orderInfo.tdAmount,3)||0))])])])]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title"},[a("span",{staticClass:"iconfont icon-mingxi1"}),e._v(" "),a("span",[e._v("商机信息")])])}],r={render:n,staticRenderFns:i};t.a=r},Bzzv:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages xmjh-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,isRequired:!1},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-name-list",{attrs:{"default-value":e.project},on:{"sel-item":e.selProject}}),e._v(" "),e._l(e.projectPlan,function(t,n){return a("div",{key:n,staticClass:"materiel_list project_plan",class:{"vux-1px-t":n>0}},[a("div",{staticClass:"title"},[e._v("任务计划"+e._s(n+1))]),e._v(" "),a("group",{staticClass:"SJ_group",on:{"group-title-margin-top":function(e){}}},[a("x-input",{attrs:{title:"任务名称","text-align":"right",placeholder:"请填写"},model:{value:t.taskName,callback:function(a){e.$set(t,"taskName",a)},expression:"item.taskName"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("任务名称")])])],2),e._v(" "),a("popup-picker",{attrs:{title:"任务类型",data:e.projectTypes},on:{"on-change":function(a){e.typeTask(a,t)}},model:{value:t.taskTypes,callback:function(a){e.$set(t,"taskTypes",a)},expression:"item.taskTypes"}}),e._v(" "),a("x-input",{attrs:{title:"周期天数",type:"number","text-align":"right",placeholder:"请填写"},on:{"on-blur":function(a){e.checkTime(t,"cycleDays",2)}},model:{value:t.cycleDays,callback:function(a){e.$set(t,"cycleDays",e._n(a))},expression:"item.cycleDays"}}),e._v(" "),a("x-input",{attrs:{title:"标准工时",type:"number","text-align":"right",placeholder:"请填写"},on:{"on-blur":function(a){e.checkTime(t,"planTime")}},model:{value:t.planTime,callback:function(a){e.$set(t,"planTime",e._n(a))},expression:"item.planTime"}}),e._v(" "),a("x-input",{attrs:{title:"作业费率",type:"number","text-align":"right",placeholder:"请填写"},on:{"on-blur":function(a){e.checkTime(t,"jobRate",2)}},model:{value:t.jobRate,callback:function(a){e.$set(t,"jobRate",e._n(a))},expression:"item.jobRate"}}),e._v(" "),a("cell",{attrs:{title:"预算作业成本",value:t.budgetHomeworkCost}}),e._v(" "),a("x-input",{attrs:{title:"任务说明","text-align":"right"},model:{value:t.comment,callback:function(a){e.$set(t,"comment",a)},expression:"item.comment"}}),e._v(" "),a("datetime",{attrs:{title:"截止日期"},model:{value:t.deadline,callback:function(a){e.$set(t,"deadline",a)},expression:"item.deadline"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("计划截止日期")])])],2)],1)],1)}),e._v(" "),a("div",{staticClass:"XMJH_add"},[a("div",[e._v("您还需要添加新的计划? 请点击\n          "),a("span",{on:{click:e.addPlan}},[e._v("添加")]),e._v(" "),e.projectPlan.length>1?a("em",[e._v("或")]):e._e(),e._v(" "),e.projectPlan.length>1?a("span",{on:{click:e.delatePlan}},[e._v(" 删除")]):e._e()])]),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"其他信息"}},[a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1),e._v(" "),a("upload-file",{on:{"on-upload":e.onUploadFile}})],2)]),e._v(" "),a("div",{staticClass:"btn vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"cfm_btn",on:{click:e.save}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},"C+Mu":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("rVsN"),r=n(i),s=a("3cXf"),o=n(s),l=a("5odV"),d=n(l),u=a("53nK"),c=a("eA/s"),f=n(c),m=new f.default,h={clean:function(){window.sessionStorage.removeItem("ROSE_LOGIN_TOKEN"),window.localStorage.removeItem("roleplay-token")},setToken:function(e){window.sessionStorage.setItem("ROSE_LOGIN_TOKEN",(0,o.default)({entityId:e.entityId,token:e.token,name:e.name,department:e.department,avatar:e.avatar,position:e.position,timestamp:+new Date})),window.localStorage.setItem("roleplay-token",(0,o.default)({key1:e.key1,active:e.active,entityId:e.entityId,token:e.token}))},checkLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"token",t=JSON.parse(window.sessionStorage.getItem("ROSE_LOGIN_TOKEN"))||{},a=null!==navigator.userAgent.toLowerCase().match(/wxwork/);if(!t[e])return"";var n=t.timestamp,i=new Date-n;return a&&i>72e5?"":i>432e5?"":t[e]},login:function(e){this.clean();navigator.userAgent.toLowerCase().match(/wxwork/);return this.pcLogin(e)},pcLogin:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"token";return console.log("进入pc了"),new r.default(function(a,n){var i={method:"post",baseURL:"/H_roleplay-si",url:"/login",headers:{"Content-Type":"application/json"},data:{loginModel:1,password:"123456",userCode:"15399909500"}};m.request(i,i.data).then(function(n){var i=n.data;e.setToken({key1:i.key1||"",active:i.active||"",token:i.token||"",entityId:i.entityId||"",name:i.name||"",department:i.department||"",avatar:i.avatar||""}),a(i[t])}).catch(function(e){var t=e.response,a=t&&t.data||{};n({success:!1,message:a.message||"请求异常"})})})},QYWXLogin:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"token";return console.log("进入企业微信了"),new r.default(function(a,n){var i=d.default.parse(location.search.slice(1)),r=i.code||"";m.get("/H_roleplay-si/wxLogin?code="+r+"&state=1&corpsecret="+u.secret).then(function(n){var i=n.data;e.setToken({key1:i.key1||"",active:i.active||"",token:i.token||"",entityId:i.entityId||"",name:i.name||"",department:i.department||"",avatar:i.avatar||"",position:i.position||""}),a(i[t])}).catch(function(e){var t=e.response,a=t&&t.data||{};n({success:!1,message:a.message||"请求异常"})})})}};t.default=h},"C/iA":function(e,t,a){"use strict";function n(e){a("R6zg")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("6TM+");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("kCcb"),o=a.n(s),l=a("Rw3b"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-2311ba63",null);t.default=c.exports},C6jN:function(e,t,a){"use strict";function n(e){a("BsHw")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("RxFs");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("DT0P"),o=a.n(s),l=a("lk3s"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-64fff117",null);t.default=c.exports},CCAQ:function(e,t){},CGvj:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("fQlz"),o=n(s),l=a("+AeB"),d=n(l);t.default={name:"REmotion",props:{show:{type:Boolean,default:!0}},components:{Emotion:d.default},data:function(){return{emotionList:[].concat((0,r.default)(o.default))}},methods:{emotionClick:function(e,t){this.$emit("on-select","["+e+"]")}},created:function(){}}},CHIe:function(e,t){},CKaN:function(e,t,a){"use strict";function n(e){a("VIWb")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("sPO+");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("esH7"),o=a.n(s),l=a("GdVh"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-954d0a90",null);t.default=c.exports},CLlh:function(e,t){},CRKs:function(e,t,a){e.exports=a.p+"static/img/ck_default.c23c125.png"},CRKv:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages fgysqk-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[e.orderList.length?[a("div",{staticClass:"title"},[e._v("汇票明细")]),e._v(" "),e._l(e.orderList,function(t,n){return a("div",{key:n,staticClass:"order-detail",class:{"vux-1px-t":0!==n}},[a("div",{staticClass:"detail-item top"},[a("span",{staticClass:"info-item"},[e._v(e._s(t.draftNumber))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"info-item"},[e._v("类型: "+e._s(t.draftType))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("承兑人: "+e._s(t.accepter))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"info-item"},[e._v("金额: "+e._s(e._f("numberComma")(t.tdAmount)))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("保证金: "+e._s(e._f("numberComma")(t.deposit)))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"info-item"},[e._v("出票日: "+e._s(t.draftDate))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("到期日: "+e._s(t.draftDueDate))])]),e._v(" "),a("x-input",{attrs:{title:"说明","text-align":"right",placeholder:"请填写"},model:{value:t.comment,callback:function(a){e.$set(t,"comment",a)},expression:"item.comment"}})],1)})]:a("div",{staticClass:"order-info",on:{click:function(t){e.showOrder=!0}}},[a("div",{staticClass:"title"},[e._v("汇票明细")]),e._v(" "),a("div",{staticClass:"mode required"},[e._v("请选择汇票明细")]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r-arrow"})])],2),e._v(" "),e.orderList.length?a("div",{staticClass:"handle_part vx-1px-t"},[e.orderList.length?a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多")]):e._e()]):e._e(),e._v(" "),a("pop-cash-list",{attrs:{"default-value":e.cashInfo,request:"3",required:!0},on:{"sel-item":e.selCash}},[a("template",{slot:"other"},[a("x-input",{staticClass:"amt-cash",attrs:{title:"支付金额","text-align":"right",placeholder:"请填写",type:"number"},on:{"on-blur":function(t){e.checkAmt(e.cashInfo)},"on-focus":function(t){e.getFocus(t)}},model:{value:e.cashInfo.tdAmount,callback:function(t){e.$set(e.cashInfo,"tdAmount",e._n(t))},expression:"cashInfo.tdAmount"}})],1)],2),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"其他信息"}},[a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-money-order-list",{attrs:{show:e.showOrder,"default-value":e.orderList,request:"2","get-list-method":"getDraftBalance"},on:{"sel-item":e.selOrder},scopedSlots:e._u([{key:"amount",fn:function(t){var n=t.item;return[a("span",[e._v("金额: "+e._s(e._f("numberComma")(n.amntTbMatched)))]),e._v(" "),a("span",[e._v("保证金: "+e._s(e._f("numberComma")(n.deposit)))])]}}]),model:{value:e.showOrder,callback:function(t){e.showOrder=t},expression:"showOrder"}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},CSTP:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"weui-cells_radio",class:e.disabled?"vux-radio-disabled":""},[e._l(e.options,function(t,n){return a("label",{staticClass:"weui-cell weui-cell_radio weui-check__label",attrs:{for:"radio_"+e.uuid+"_"+n}},[a("div",{staticClass:"weui-cell__bd"},[e._t("each-item",[a("p",[a("img",{directives:[{name:"show",rawName:"v-show",value:t&&t.icon,expression:"one && one.icon"}],staticClass:"vux-radio-icon",attrs:{src:t.icon}}),e._v(" "),a("span",{staticClass:"vux-radio-label",style:e.currentValue===e.getKey(t)?e.selectedLabelStyle||"":""},[e._v(e._s(e._f("getValue")(t)))])])],{icon:t.icon,label:e.getValue(t),index:n,selected:e.currentValue===e.getKey(t)})],2),e._v(" "),a("div",{staticClass:"weui-cell__ft"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"weui-check",attrs:{type:"radio",id:e.disabled?"":"radio_"+e.uuid+"_"+n},domProps:{value:e.getKey(t),checked:e._q(e.currentValue,e.getKey(t))},on:{change:function(a){e.currentValue=e.getKey(t)}}}),e._v(" "),a("span",{staticClass:"weui-icon-checked"})])])}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.fillMode,expression:"fillMode"}],staticClass:"weui-cell"},[a("div",{staticClass:"weui-cell__hd"},[a("label",{staticClass:"weui-label",attrs:{for:""}},[e._v(e._s(e.fillLabel))])]),e._v(" "),a("div",{staticClass:"weui-cell__bd"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.fillValue,expression:"fillValue"}],staticClass:"weui-input needsclick",attrs:{type:"text",placeholder:e.fillPlaceholder},domProps:{value:e.fillValue},on:{blur:function(t){e.isFocus=!1},focus:function(t){e.onFocus()},input:function(t){t.target.composing||(e.fillValue=t.target.value)}}})]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:""===e.value&&!e.isFocus,expression:"value==='' && !isFocus"}],staticClass:"weui-cell__ft"},[a("i",{staticClass:"weui-icon-warn"})])])],2)},i=[],r={render:n,staticRenderFns:i};t.a=r},CYNT:function(e,t,a){e.exports=a.p+"static/img/defaultApp.895b567.png"},CZPG:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"weui-cell vux-cell-form-preview",class:{"vux-cell-no-border-intent":!e.borderIntent}},[a("div",{staticClass:"weui-form-preview__bd"},e._l(e.list,function(t){return a("div",{staticClass:"weui-form-preview__item"},[a("label",{staticClass:"weui-form-preview__label",domProps:{innerHTML:e._s(t.label)}}),e._v(" "),a("span",{staticClass:"weui-form-preview__value",domProps:{innerHTML:e._s(t.value)}})])}))])},i=[],r={render:n,staticRenderFns:i};t.a=r},Ca4P:function(e,t,a){"use strict";function n(e){a("aNl5")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("bxyf");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Xzj3"),o=a.n(s),l=a("7Us3"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-92e9d06e",null);t.default=c.exports},Caio:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages cpxq-list-container",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"each_duty",class:{visited:t.visited},on:{click:function(a){e.goDetail(t,n)}}},[a("div",{staticClass:"duty_top"},[a("p",{staticClass:"duty_code"},[e._v("\n            "+e._s(t.transCode)+"\n            "),t.processStatus?a("span",{staticClass:"duty_crt_man"},[e._v(e._s(t.processStatus))]):e._e()]),e._v(" "),a("span",{staticClass:"duty_status",class:t.statusClass},[e._v(e._s(t.statusName))]),e._v(" "),a("i",{staticClass:"iconfont",class:t.whichIcon})]),e._v(" "),a("div",{staticClass:"duty_content"},[a("div",{staticClass:"content_title"},[e._v(e._s(t.demandTitle))]),e._v(" "),a("div",{staticClass:"content_step vux-1px-b"},[a("div",[e._v("规划: "+e._s(t.demandPlan))]),e._v(" "),a("div",[e._v("信心指数: "+e._s(t.timeConfidenceIndex))])])]),e._v(" "),a("div",{staticClass:"order_count"},[t.handlerName?a("div",{staticClass:"handle_man"},[e._v("\n            "+e._s(t.handlerName)),a("span",{staticStyle:{fontSize:".1rem"}},[e._v("[经办人]")])]):e._e(),e._v(" "),a("div",{staticClass:"handle_man"},[e._v(e._s(t.authorizedTeam))])])])}))],1),e._v(" "),e.action.add?a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},CcvO:function(e,t,a){"use strict";function n(e){a("c0Xs")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MJ/2");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("dwzl"),o=a.n(s),l=a("zwEV"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-fef1971e",null);t.default=c.exports},Cgoy:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("MgeX"),o=n(s),l=a("HzJ8"),d=n(l),u=a("ZLEe"),c=n(u),f=a("3cXf"),m=n(f),h=a("KH7x"),v=n(h),p=a("4YfN"),C=n(p),_=a("PzEQ"),y=n(_),b=a("u28h"),g=n(b),w=a("kNGm"),I=n(w),x=a("BGNQ"),D=n(x),P=a("0AQX"),k=a("I3vJ"),S=a("HyXB"),T=a("bKg5"),L=n(T),N=a("y8YJ"),M=n(N),A=a("kZy/"),O=n(A),R=a("Pb67"),j=n(R),$=a("yt3/"),B=n($),E=a("luHD"),F=n(E),U=a("CKaN"),q=n(U),Q=a("VZtf"),H=n(Q),V=a("vl8n"),X=n(V),z=a("+WR7"),Y=n(z),W=a("fCs9"),G=n(W),J=a("zWMP"),K=a("Qg39");t.default={name:"ApplyDZYHPCGYSYZFForm",data:function(){return{listId:"0750729a-1bea-423e-99a0-070beb953787",srhInpTx:"",orderList:{},matterList:[],transMode:["现付","预付","账期","票据"],showDealerPop:!1,dealerInfo:{},contactInfo:{},formData:{biId:"",biComment:""},submitSuccess:!1,taxRate:.16,numMap:{},transCode:"",formViewUniqueId:"fed81800-4c34-44a9-b517-c3fd9f2ab57d",biReferenceId:"",actions:[],taskId:"",showOrderPop:!1,matterParams:{dealerCode:""},tmpItems:{},matter:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,filterList:[{name:"交易号",value:"transCode"},{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"}],cashInfo:{},cashParams:{fundType:"银行存款"}}},computed:{tdAmountCopy1:function(){var e=this,t=0;return this.matterList.forEach(function(a){var n=a.taxRate||e.taxRate,i=(0,J.accMul)(a.price,a.tdQty,n);t=(0,J.accAdd)(t,(0,J.accAdd)((0,J.accMul)(a.price,a.tdQty),i))}),(0,K.toFixed)(t)}},mixins:[L.default],components:{XTextarea:y.default,Datetime:g.default,PopOrderList:j.default,RNumber:H.default,PopDealerList:M.default,PopMatterList:O.default,PopSingleSelect:B.default,PopMatter:F.default,RPicker:X.default,PopBaseinfo:Y.default,Cell:D.default,RDropdown:G.default,PopCashList:q.default},methods:{selItem:function(e){this.formData=(0,C.default)({},this.formData,e),this.matterParams=(0,C.default)({},this.matterParams,{groupId:e.handlerUnit})},getPaymentTerm:function(){var e=this;return(0,S.getDictByType)("paymentTerm").then(function(t){var a=t.tableContent;e.transMode=a})},selDealer:function(e){var t=JSON.parse(e),a=(0,v.default)(t,1),n=a[0],i=n.pamentDays,r=i?(0,I.default)(Date.now()+(0,J.accMul)(i,864e5),"YYYY-MM-DD"):"";this.dealerInfo=(0,C.default)({},n,{accountExpirationDate:r}),console.log(n),this.matterParams=(0,C.default)({},this.matterParams,{dealerCode:n.dealerCode})},selContact:function(e){this.contactInfo=(0,C.default)({},e)},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,m.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selMatter:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){var a=e.transCode+"_"+e.inventoryCode,i=t.numMap[a]||{},r=i.tdQty,s=void 0===r?e.qtyBal:r,o=i.price,l=void 0===o?"":o,d=i.taxRate,u=void 0===d?.16:d,c=i.productionDate,f=void 0===c?"":c,m=i.validUntil,h=void 0===m?"":m;e.tdQty=s,l.length&&(e.price=l),e.taxRate=u,e.productionDate=f,e.validUntil=h,n[e.transCode]||(n[e.transCode]=[]),t.getMoreUnit(e),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.inventoryCode!==e.inventoryCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,c.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});i>=0&&(e.$refs.matter.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,d.default)((0,o.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,l=!1,u=void 0;try{for(var c,f=(0,d.default)(r);!(s=(c=f.next()).done);s=!0){var m=c.value;this.numMap[m.transCode+"_"+m.inventoryCode]=(0,C.default)({},m)}}catch(e){l=!0,u=e}finally{try{!s&&f.return&&f.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="",a=[];if([{key:"dealerInfo",message:"供应商信息"}].every(function(a){return!!e[a.key]||(t="请选择"+a.message,!1)}),t||this.dealerInfo.paymentTerm||(t="请选择结算方式"),t||this.matterList.length||(t="请选择物料"),t||this.matterList.every(function(n){if(!n.price)return t="单价不能为空",!1;if(!n.tdQty&&0!==n.tdQty)return t="数量不能为空",!1;var i=n.taxRate||e.taxRate,r=(0,J.accMul)(n.price,n.tdQty,i),s={transMatchedCode:n.transCode,transObjCode:n.inventoryCode,tdProcessing:n.processing,assMeasureUnit:void 0!==n.assMeasureUnit?n.assMeasureUnit:null,expSubject:n.expSubject,thenTotalQtyBal:n.qty,thenLockQty:n.qtyed,thenQtyBal:n.qtyBal||0,tdQty:n.tdQty,assMeasureScale:null,assistQty:n.assistQty||null,price:n.price,taxRate:i,taxAmount:r,tdAmount:(0,J.accAdd)((0,J.accMul)(n.price,n.tdQty),r),processingStartDate:n.processingStartDate||null,keepingDays_transObjCode:n.keepingDays,productionDate:n.productionDate||"",validUntil:n.validUntil||"",comment:n.comment||""};return e.transCode&&(s.tdId=n.tdId||null),a.push(s),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=S.saveAndStartWf,n={},i=(0,r.default)({},e.processCode,{businessKey:"POPI",createdBy:""});n=(0,C.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",dealerCreditContactPersonName:e.contactInfo.dealerName||"",dealerCreditContactInformation:e.contactInfo.dealerMobilePhone||"",containerInWarehouseManager:null,inPut:{dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName||"供应商",crDealerPaymentTerm:e.dealerInfo.paymentTerm,daysOfAccount:e.dealerInfo.pamentDays,accountExpirationDate:e.dealerInfo.accountExpirationDate,containerCode:"",dataSet:a},outPut:{dataSet:[{fundName_cashOutCode:e.cashInfo.fundName,cashOutCode:e.cashInfo.fundCode,cashType_cashOutCode:e.cashInfo.fundType,thenAmntBalCopy1:e.cashInfo.amntBal,tdAmountCopy1:e.tdAmountCopy1}]}}),e.transCode&&(t=S.saveAndCommitTask,i={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var s={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,m.default)(n),wfPara:(0,m.default)(i)};e.transCode||delete s.biReferenceId,e.processCode.length||(t=S.submitAndCalc,delete s.wfPara,delete s.biReferenceId),e.biReferenceId&&(s.biReferenceId=e.biReferenceId),e.saveData(t,s)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=l;var u=s.inPut,c=(s.dealerDebit,s.outPut),f=u.dataSet,m=void 0===f?[]:f,h={},v=[],p=!0,_=!1,y=void 0;try{for(var b,g=(0,d.default)(m);!(p=(b=g.next()).done);p=!0){var w=b.value;w=(0,C.default)({},w,{transCode:w.transMatchedCode,inventoryPic:w.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+w.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:w.inventoryName_transObjCode,inventoryCode:w.transObjCode,specification:w.specification_transObjCode,processing:w.tdProcessing,keepingDays:w.keepingDays_transObjCode,qtyed:w.thenLockQty,qtyBal:w.thenQtyBal,qty:w.thenTotalQtyBal}),e.getMoreUnit(w),h[w.transCode]||(h[w.transCode]=[]),v.push(w),h[w.transCode].push(w)}}catch(e){_=!0,y=e}finally{try{!p&&g.return&&g.return()}finally{if(_)throw y}}e.dealerInfo=(0,r.default)({creatorName:s.dealerCreditContactPersonName,dealerName:u.dealerName_dealerCodeCredit,dealerMobilePhone:s.dealerCreditContactInformation,dealerCode:u.dealerCode_dealerCodeCredit,dealerLabelName:u.crDealerLabel,province:u.province_dealerCodeCredit,city:u.city_dealerCodeCredit,county:u.county_dealerCodeCredit,address:u.address_dealerCodeCredit,accountExpirationDate:u.accountExpirationDate,paymentTerm:u.crDealerPaymentTerm,pamentDays:u.daysOfAccount},"accountExpirationDate",u.accountExpirationDate||"无");var I=!0,x=!1,D=void 0;try{for(var P,k=(0,d.default)(c.dataSet);!(I=(P=k.next()).done);I=!0){var S=P.value;e.cashInfo={fundName:S.fundName_cashOutCode,fundCode:S.cashOutCode,fundType:S.cashType_cashOutCode,amntBal:S.thenAmntBalCopy1}}}catch(e){x=!0,D=e}finally{try{!I&&k.return&&k.return()}finally{if(x)throw D}}e.contactInfo={dealerName:s.dealerCreditContactPersonName,dealerMobilePhone:s.dealerCreditContactInformation},e.matterParams={dealerCode:e.dealerInfo.dealerCode,groupId:e.formData.handlerUnit},e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,C.default)({},e.formData,e.handlerDefault,{creator:s.creator,biId:s.biId,biComment:s.biComment}),e.biReferenceId=s.biReferenceId,e.matterList=v,e.orderList=h,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,r.default)({},"DZYHPCGYSYZF_DATA",{matter:this.matterList,dealer:this.dealerInfo,formData:this.formData,contactInfo:this.contactInfo,cashInfo:this.cashInfo})},getRelationData:function(){var e=this,t=this.$route.query.uniqueId;return(0,P.getSOList)({formViewUniqueId:t,transCode:this.relationKey}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i;t.attachment;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var o=s.order,l=(s.dealerDebit,o.dataSet),d=void 0===l?[]:l;d=d.map(function(t){return(0,C.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,transCode:e.relationKey,qtyBal:t.tdQty,tdQty:""})}),e.dealerInfo={creatorName:s.dealerDebitContactPersonName,dealerMobilePhone:s.dealerDebitContactInformation,dealerCode:s.order.dealerDebit,dealerSubclass:s.order.drAccountSub,dealerName:s.order.dealerName_dealerDebit,province:s.order.province_dealerDebit,city:s.order.city_dealerDebit,county:s.order.county_dealerDebit,address:s.order.address_dealerDebit},e.matterParams={dealerCode:e.dealerInfo.dealerCode,groupId:e.formData.handlerUnit},e.matterList=d,e.orderList=(0,r.default)({},e.relationKey,d),e.$loading.hide()})},getMoreUnit:function(e){var t=e.inventoryCode;return(0,k.getObjInvMoreUnitByInvCode)(t).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;e.showDrop=!1,n.forEach(function(e){e.name=e.invSubUnitName,e.value=e.invSubUnitName}),e.moreUnitList=n})},moreUnitClick:function(e){e.showDrop=!e.showDrop},moreUnitSelected:function(e){this.matter.assMeasureUnit=e.invSubUnitName,this.matter.assistQty=e.invSubUnitMulti},selCash:function(e){this.cashInfo=e},assembleOrder:function(e){var t=this,a={};e.forEach(function(e){a[e.transCode]||(a[e.transCode]=[]),t.getMoreUnit(e),a[e.transCode].push(e)}),this.orderList=a}},created:function(){var e=sessionStorage.getItem("DZYHPCGYSYZF_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.dealerInfo=t.dealer,this.formData=t.formData,this.contactInfo=t.contactInfo,this.cashInfo=t.cashInfo,this.matterParams={dealerCode:this.dealerInfo.dealerCode,groupId:this.formData.handlerUnit},this.assembleOrder(this.matterList),sessionStorage.removeItem("DZYHPCGYSYZF_DATA")}}}},Ci8m:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("kNGm"),v=(n(h),a("qE8w")),p=a("I3vJ"),C=a("1KNX"),_=n(C),y=a("7biW"),b=n(y);t.default={name:"PopMatterList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},getListMethod:{type:String,default:"getMatList"},params:{type:Object,default:function(){return{}}},processing:{type:String,default:"成品,商品,服务"},isShowCode:{type:Boolean,default:!0},isShowStock:{type:Boolean,default:!1},filterList:{type:Array,default:function(){return[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"}]}}},components:{Icon:c.default,Popup:m.default,RScroll:_.default,MSearch:b.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],matterList:[],limit:100,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterProperty:"",requestMethods:null}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}},params:{handler:function(){this.resetCondition(),this[this.getListMethod](),this.requestMethods()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,d.default)(this.selItems)),this.$emit("input",!1)},findIndex:function(e,t){return e.findIndex(function(e){var a=!0;return e.transCode&&(a=e.transCode===t.transCode),a&&e.inventoryCode===t.inventoryCode})},showSelIcon:function(e){return-1!==this.findIndex(this.tmpItems,e)},selThis:function(e,t){if(this.isShowStock&&0===e.qtyStockBal)return void this.$vux.alert.show({content:"当前订单库存为0，请选择其他订单"});var a=this.tmpItems,n=this.findIndex(a,e);if(-1!==n)return void a.splice(n,1);a.push(e)},cfmMater:function(){this.showPop=!1,this.tmpItems.sort(function(e,t){return t.effectiveTime-e.effectiveTime}),this.selItems=[].concat((0,d.default)(this.tmpItems)),this.$emit("sel-matter",(0,o.default)(this.selItems))},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getMatList:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getObjInventoryByProcessing)((0,r.default)({processing:this.processing,limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(e)},this.params)).then(this.dataHandler)},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.resetCondition(),this[this.getListMethod]()},delSelItem:function(e){var t=this.findIndex(this.selItems,e);-1!==t&&this.selItems.splice(t,1),this.tmpItems=[].concat((0,d.default)(this.selItems))},onPullingUp:function(){this.page++,this.requestMethods()},setDefaultValue:function(){this.tmpItems=[].concat((0,d.default)(this.defaultValue)),this.selItems=[].concat((0,d.default)(this.defaultValue))},getObjInventory:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getObjInventory)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(e)}).then(this.dataHandler)},getSumInvBalance:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getSumInvBalance)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,calcRelCode:1406},this.params,{filter:(0,o.default)(e)})).then(this.dataHandler)},getInventory7501:function(){var e=[];this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}]));var t=this.$route.query.relationKey,a=void 0===t?"":t;return a&&(e=[{operator:"eq",value:a,property:"transCode"}]),(0,p.getInventory7501)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit},this.params,{filter:(0,o.default)(e)})).then(this.dataHandler)},getInventory7502:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getInventory7502)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit},this.params,{filter:(0,o.default)(e)})).then(this.dataHandler)},getCKTHCKList:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getCKTHCKList)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit},this.params,{filter:(0,o.default)(e)})).then(this.dataHandler)},getPurchaseInNeeds:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getPurchaseInNeeds)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;r.forEach(function(t){t.inventoryPic=t.inventoryPic?"/H_roleplay-si/ds/download?url="+t.inventoryPic+"&width=400&height=400":e.getDefaultImg(),t.inventoryCode=t.matCode,t.inventoryName=t.invName});var s=e.$route.query.relationKey;(void 0===s?"":s)&&(e.selItems=[].concat((0,d.default)(r)),e.$emit("sel-matter",(0,o.default)(e.selItems))),e.hasNext=n>(e.page-1)*e.limit+r.length,e.matterList=1===e.page?r:[].concat((0,d.default)(e.matterList),(0,d.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},getKCPDList:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getKCPDList)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit},this.params,{filter:(0,o.default)(e)})).then(this.dataHandler)},getLowValueConsumPurchaseOrder:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getLowValueConsumPurchaseOrder)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit},this.params,{filter:(0,o.default)(e)})).then(this.dataHandler)},getLowPriceConsumableInWarehouse:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getLowPriceConsumableInWarehouse)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit},this.params,{filter:(0,o.default)(e)})).then(this.dataHandler)},getProductPriceAllInventory:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getProductPriceAllInventory)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(e)}).then(this.dataHandler)},getSalesContract:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getSalesContract)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(e)},this.params)).then(this.dataHandler)},getInventoryToProcessing:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getInventoryToProcessing)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(e)},this.params)).then(this.dataHandler)},getSalesOrderNew:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getSalesOrderNew)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(e)},this.params)).then(this.dataHandler)},getManyVATBilling:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,v.getManyVATBilling)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(e)},this.params)).then(this.dataHandler)},getManyVATReceipt:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,v.getManyVATReceipt)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(e)},this.params)).then(this.dataHandler)},dataHandler:function(e){var t=this,a=e.dataCount,n=void 0===a?0:a,i=e.tableContent,r=void 0===i?[]:i;r.forEach(function(e){e.inventoryPic=e.inventoryPic?"/H_roleplay-si/ds/download?url="+e.inventoryPic+"&width=400&height=400":t.getDefaultImg()});var s=this.$route.query.relationKey;(void 0===s?"":s)&&(this.selItems=[].concat((0,d.default)(r)),this.$emit("sel-matter",(0,o.default)(this.selItems))),this.hasNext=n>(this.page-1)*this.limit+r.length,this.matterList=1===this.page?r:[].concat((0,d.default)(this.matterList),(0,d.default)(r)),this.$nextTick(function(){t.$refs.bScroll.finishPullUp()})},resetCondition:function(){this.matterList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)}},created:function(){this.setDefaultValue(),this.requestMethods=this[this.getListMethod],this.requestMethods()}}},Cm6D:function(e,t){},Cnf0:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("3cXf"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("bFc7"),p=n(v),C=a("6WeX"),_=n(C),y=a("3NX5"),b=n(y),g=a("zWMP");t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"",contactInfo:{}}},components:{workFlow:h.default,RAction:f.default,contactPart:p.default,PriceTotal:_.default,MatterList:b.default},mixins:[u.default],methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(e.submitInfo=JSON.parse((0,o.default)(t)),!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=!0,i=!1,s=void 0;try{for(var l,d=(0,r.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;u.noTaxAmount=(0,g.accMul)(u.price,u.tdQty),u.taxAmount=(0,g.accMul)(u.noTaxAmount,u.taxRate),u.tdAmount=(0,g.accAdd)(u.noTaxAmount,u.taxAmount),e.count=(0,g.accAdd)(e.count,u.tdAmount),u.inventoryPic=u.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+u.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){i=!0,s=e}finally{try{!n&&d.return&&d.return()}finally{if(i)throw s}}e.orderInfo=t.formData,e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo={creatorName:a.dealerDebitContactPersonName,dealerName:a.dealerName_dealerDebit,dealerMobilePhone:t.dealerDebitContactInformation,dealerCode:a.dealerDebit,dealerLabelName:a.drDealerLabel,province:a.province_dealerDebit,city:a.city_dealerDebit,county:a.county_dealerDebit,address:a.address_dealerDebit,payment:a.drDealerPaymentTerm,logistics:t.drDealerLogisticsTerms}}}}},CoE1:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("4YfN"),o=n(s),l=a("HzJ8"),d=n(l),u=a("3cXf"),c=n(u),f=a("PzEQ"),m=n(f),h=a("kNGm"),v=n(h),p=a("u28h"),C=n(p),_=a("BGNQ"),y=n(_),b=a("0AQX"),g=a("HyXB"),w=a("bKg5"),I=n(w),x=a("kZy/"),D=n(x),P=a("y8YJ"),k=n(P),S=a("yt3/"),T=n(S),L=a("luHD"),N=n(L),M=a("VZtf"),A=n(M),O=a("vl8n"),R=n(O),j=a("+WR7"),$=n(j),B=a("zWMP");t.default={components:{XTextarea:m.default,RNumber:A.default,Datetime:C.default,PopMatterList:D.default,PopDealerList:k.default,PopSingleSelect:T.default,PopMatter:N.default,RPicker:R.default,PopBaseinfo:$.default,Cell:y.default},data:function(){return{listId:"1d52d5ce-d05e-4987-a023-3f4dba68cad9",taxRate:.16,numMap:{},dealer:{},formData:{creator:"",modifer:"",biId:"",biComment:""},dealerInfo:{},contact:{},transMode:[],matterList:[],showTransPop:!1,showMaterielPop:!1,showDealerPop:!1,filterList:[{name:"交易号",value:"transCode"},{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"}]}},mixins:[I.default],methods:{getPaymentTerm:function(){var e=this;return(0,g.getDictByType)("paymentTerm").then(function(t){var a=t.tableContent;e.transMode=a})},selDealer:function(e){this.dealerInfo=JSON.parse(e)[0]},selContact:function(e){this.formData.dealerCreditContactPersonName=e.dealerName,this.formData.dealerCreditContactInformation=e.dealerMobilePhone,this.contact=e},selMatter:function(e){var t=this,a=JSON.parse(e);a.map(function(e){var a=e.processingStartDate?(0,v.default)(e.processingStartDate,"YYYY-MM-DD"):"",n=e.transCode+"_"+e.inventoryCode,i=t.numMap[n]||{},r=i.tdQty,s=void 0===r?e.qtyBal:r,o=i.price,l=void 0===o?e.price:o,d=i.taxRate,u=void 0===d?.16:d,c=i.processingStartDate,f=void 0===c?a:c;e.tdQty=s,e.price=l,e.taxRate=u,e.processingStartDate=f}),this.numMap={},this.matterList=a},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(t){return t.inventoryCode===e.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(e)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,c.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,d.default)(this.matterList);!(e=(n=i.next()).done);e=!0){var r=n.value,s=r.transCode+"_"+r.inventoryCode;this.numMap[s]=(0,o.default)({},r)}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerCode?0===this.matterList.length&&(t="请选择物料"):t="请选择供应商信息",t||this.matterList.every(function(e){if(!e.price)return t="单价不能为空",!1;if(!e.tdQty)return t="数量不能为空",!1;var n=e.taxRate,i=(0,B.accMul)(e.price,e.tdQty,n);return a.push({tdId:e.tdId||"",transMatchedCode:e.transCode,transObjCode:e.inventoryCode,tdProcessing:e.processing,thenQtyBal:e.qtyBal||0,tdQty:e.tdQty,price:e.price,taxRate:n,taxAmount:i,tdAmount:(0,B.accAdd)((0,B.accMul)(e.price,e.tdQty),i),comment:""}),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=g.saveAndStartWf,n=(0,r.default)({},e.processCode,{businessKey:"PO",createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.biComment,formData:(0,c.default)((0,o.default)({},e.formData,e.dealer,{handlerEntity:e.entity.dealerName,inPut:{dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName||"",crDealerPaymentTerm:e.dealerInfo.paymentTerm,daysOfAccount:e.dealerInfo.pamentDays,dataSet:a}})),wfPara:(0,c.default)(n)};e.isResubmit&&(t=g.saveAndCommitTask,i.biReferenceId=e.biReferenceId),e.processCode.length||(t=g.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,b.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId;var a=t.formData;e.attachment=t.attachment,a.inPut.dataSet.map(function(t){t=(0,o.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,qtyBal:t.thenQtyBal}),e.matterList.push(t)}),e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,o.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),e.dealerInfo={dealerMobilePhone:a.dealerCreditContactInformation,dealerCode:a.inPut.dealerCodeCredit,dealerSubclass:a.inPut.drAccountSub,dealerName:a.inPut.dealerName_dealerCodeCredit,dealerLabelName:a.inPut.crDealerLabel,province:a.inPut.province_dealerCodeCredit,city:a.inPut.city_dealerCodeCredit,county:a.inPut.county_dealerCodeCredit,address:a.inPut.address_dealerCodeCredit,dealerCreditContactPersonName:a.dealerCreditContactPersonName,dealerCreditContactInformation:a.dealerCreditContactInformation,paymentTerm:a.inPut.crDealerPaymentTerm,pamentDays:a.inPut.daysOfAccount},e.contact={dealerMobilePhone:a.dealerCreditContactInformation,dealerName:a.dealerCreditContactPersonName},e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,r.default)({},"DZYHPCGDD_DATA",{matter:this.matterList,dealerInfo:this.dealerInfo,formData:this.formData,dealer:this.dealer})},getRelationData:function(){}},created:function(){var e=sessionStorage.getItem("DZYHPCGDD_DATA");e&&(this.matterList=JSON.parse(e).matter,this.dealerInfo=JSON.parse(e).dealerInfo,this.dealer=JSON.parse(e).dealer,this.formData=JSON.parse(e).formData,sessionStorage.removeItem("DZYHPCGDD_DATA"))}}},CpKl:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("IHPB"),o=n(s),l=a("3cXf"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("+62G"),v=n(h),p=a("6q39"),C=n(p),_=a("HyXB"),y=a("1KNX"),b=n(y),g=a("7biW"),w=n(g);t.default={name:"PopManagerList",props:{title:{type:String,default:"项目经理"},defaultValue:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1}},directives:{TransferDom:v.default},components:{Icon:c.default,Popup:m.default,RScroll:b.default,DSearch:w.default,LoadMore:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},computed:{tip:function(){var e="加载中";return this.hasNext||(e="暂无数据"),e}},watch:{defaultValue:function(e){this.setDefaultValue()}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this.getList()},showSelIcon:function(e){return this.selItems.dealerName===e.dealerName},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.$emit("sel-item",(0,d.default)(this.selItems))},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:"dealerName"}])),(0,_.getObjDealerByLabelName)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,dealerLabelName:"员工",filter:(0,d.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,o.default)(e.listData),(0,o.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.selItems=this.defaultValue?(0,r.default)({},this.defaultValue):{}},warehouseClick:function(){this.disabled||(this.showPop=!this.showPop)},addWarehouse:function(){this.$router.push({path:"/warehouse/edit_warehouse",query:{add:1}})}},created:function(){this.setDefaultValue(),this.disabled||this.getList()}}},CrUP:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("a3Yh"),o=n(s),l=a("3cXf"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("7g+Q"),C=n(p),_=a("PzEQ"),y=n(_),b=a("jnZd"),g=n(b),w=a("u28h"),I=n(w),x=a("kNGm"),D=n(x),P=a("iR2W"),k=n(P),S=a("0AQX"),T=a("HyXB"),L=(a("jLp1"),a("bKg5")),N=n(L),M=a("wuIh"),A=n(M),O=a("CKaN"),R=n(O),j=a("vl8n"),$=n(j),B=a("+WR7"),E=n(B),F=(a("zWMP"),a("Qg39"));t.default={mixins:[N.default],components:{Cell:c.default,Group:m.default,Popup:C.default,XInput:v.default,XTextarea:y.default,PopupPicker:g.default,RPicker:$.default,PopBaseinfo:E.default,PopMoneyOrderList:A.default,Datetime:I.default,PopCashList:R.default},data:function(){return{listId:"bb9ce973-2f62-4707-a54c-7e8605dc99d6",biReferenceId:"",selectedCost:[],costIndex:0,transCode:"",formData:{biComment:"",biProcessStatus:""},showOrder:!1,orderList:[],cashInfo:{}}},filters:{numberComma:k.default,dateFormat:D.default},methods:{submitOrder:function(){var e=this,t="",a=[];if(t||this.orderList.length||(t="请选择汇票明细"),t||this.cashInfo.fundName||(t="请选择资金账户"),t||this.cashInfo.tdAmount||(t="请填写支付金额"),t)return void this.$vux.alert.show({content:t});this.orderList.every(function(e){a.push({tdId:e.tdId||null,draftNumber:e.draftNumber,draftType:e.draftType,accepter:e.accepter,tdAmount:e.tdAmount,deposit:e.deposit,draftDate:e.draftDate,draftDueDate:e.draftDueDate,comment:e.comment||""})}),this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=T.saveAndStartWf,n=(0,o.default)({},e.processCode,{businessKey:"HATB",createdBy:(0,d.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.formData.biComment,formData:(0,d.default)((0,r.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",outPut:{dataSet:[{fundName_cashOutCode:e.cashInfo.fundName,cashOutCode:e.cashInfo.fundCode,cashType_cashOutCode:e.cashInfo.fundType,thenAmntBal:e.cashInfo.thenAmntBal,tdAmount:e.cashInfo.tdAmount}]},order:{dataSet:a}})),wfPara:(0,d.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=T.saveAndCommitTask),e.processCode.length||(t=T.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,S.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.attachment,n=void 0===a?[]:a,i=t.listId,s=void 0===i?"":i,o=(t.biComment,t.biReferenceId),l=void 0===o?"":o,d=t.formData,u=void 0===d?{}:d;e.attachment=n,e.listId=s,e.biReferenceId=l,e.handlerDefault={handler:u.handler,handlerName:u.handlerName,handlerUnit:u.handlerUnit,handlerUnitName:u.handlerUnitName,handlerRole:u.handlerRole,handlerRoleName:u.handlerRoleName},e.formData=(0,r.default)({},e.formData,e.handlerDefault,{biComment:u.biComment,biId:u.biId,biProcessStatus:u.biProcessStatus,creator:u.creator,modifer:u.modifer});var c=u.order,f=void 0===c?{}:c,m=u.outPut,h=void 0===m?{}:m,v=f.dataSet,p=void 0===v?[]:v;e.cashInfo={fundName:h.dataSet[0].fundName_cashOutCode,fundCode:h.dataSet[0].cashOutCode,fundType:h.dataSet[0].cashType_cashOutCode,thenAmntBal:h.dataSet[0].thenAmntBal,amntBal:h.dataSet[0].thenAmntBal,tdAmount:h.dataSet[0].tdAmount},e.orderList=p,e.$loading.hide()})},hasDraftData:function(){return!!this.orderList.dealerCode&&(0,o.default)({},"DFCDHP_DATA",{formData:this.formData,cashInfo:this.cashInfo,orderList:this.orderList})},getRelationData:function(){},selOrder:function(e){e.forEach(function(e){e.draftDate=(0,D.default)(e.draftDate,"YYYY-MM-DD"),e.draftDueDate=(0,D.default)(e.draftDueDate,"YYYY-MM-DD"),e.tdAmount=e.amntTbMatched}),this.orderList=e},addOrder:function(){this.showOrder=!0},selCash:function(e){this.cashInfo=(0,r.default)({},e,{thenAmntBal:e.amntBal})},checkAmt:function(e){var t=e.tdAmount,a=e.thenAmntBal;t&&(t>a&&(t=a),e.tdAmount=Math.abs((0,F.toFixed)(t)))}},created:function(){var e=sessionStorage.getItem("DFCDHP_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.cashInfo=t.cashInfo,this.orderList=t.orderList,sessionStorage.removeItem("DFCDHP_DATA")}}}},Cs4O:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("a3Yh"),o=n(s),l=a("3cXf"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("7g+Q"),C=n(p),_=a("PzEQ"),y=n(_),b=a("jnZd"),g=n(b),w=a("0AQX"),I=a("HyXB"),x=(a("jLp1"),a("bKg5")),D=n(x),P=a("N2r1"),k=n(P),S=a("vl8n"),T=n(S),L=a("+WR7"),N=n(L),M=a("zWMP"),A=a("Qg39");t.default={mixins:[D.default],components:{Cell:c.default,Group:m.default,Popup:C.default,XInput:v.default,XTextarea:y.default,PopCostList:k.default,PopupPicker:g.default,RPicker:T.default,PopBaseinfo:N.default},data:function(){return{listId:"18800986-a50f-11e8-96a5-005056a136d0",biComment:"",biReferenceId:"",showCostPop:!1,CostList:[{exptName:"",expCode:"",expSubject:"",costType_expCode:"",tdInvoiceType:["普票"],tdAmount:"",noTaxAmount:"",taxRate:.16,taxAmount:"",expCause:""}],invoiceTypeList:[["普票","专票"]],selectedCost:[],costIndex:0,transCode:"",formData:{biComment:"",biProcessStatus:""}}},computed:{totalAmount:function(){var e=0;return this.CostList.forEach(function(t){t.tdAmount&&(e=(0,M.accAdd)(e,t.tdAmount))}),e}},methods:{checkAmt:function(e){var t=e.tdAmount,a=e.taxRate;a&&(e.taxRate=Math.abs((0,A.toFixed)(a))),t&&(e.tdAmount=Math.abs((0,A.toFixed)(t)),e.noTaxAmount=Math.abs((0,A.toFixed)((0,M.accDiv)(e.tdAmount,1+e.taxRate))),e.taxAmount=(0,A.toFixed)((0,M.accSub)(e.tdAmount,e.noTaxAmount)))},getCost:function(e,t){this.showCostPop=!0,this.costIndex=e,this.selectedCost=[t]},addCost:function(){this.expSubjectList=[],this.CostList.push({exptName:"",expCode:"",expSubject:"",costType_expCode:"",tdInvoiceType:["普票"],tdAmount:"",noTaxAmount:"",taxRate:.16,taxAmount:"",expCause:""})},deleteCost:function(){this.CostList.pop()},selMatter:function(e){var t=e;this.CostList[this.costIndex].exptName=t.costName,this.CostList[this.costIndex].expCode=t.costCode,this.CostList[this.costIndex].expSubject=t.costSubject,this.CostList[this.costIndex].costType_expCode=t.costType},submitOrder:function(){var e=this,t="",a=[];if(this.CostList.every(function(e){return e.exptName?e.tdAmount?(a.push({tdId:e.tdId||"",expCode:e.expCode,expSubject:e.expSubject,costType_expCode:e.costType_expCode||"",tdInvoiceType:e.tdInvoiceType[0],tdAmount:e.tdAmount,noTaxAmount:e.noTaxAmount,taxRate:e.taxRate,taxAmount:e.taxAmount,expCause:e.expCause}),!0):(t="请填写申请金额",!1):(t="请选择费用名称",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=I.saveAndStartWf,n=(0,o.default)({},e.processCode,{businessKey:"REIM2",createdBy:(0,d.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:"",formData:(0,d.default)((0,r.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{crDealerLabel:"员工",dealerCodeCredit:e.formData.userCode,departmentName:e.formData.handlerUnitName,dataSet:a}})),wfPara:(0,d.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=I.saveAndCommitTask),e.processCode.length||(t=I.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,w.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.attachment=t.attachment,e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.CostList=[];var a=t.formData;e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,r.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),a.order.dataSet.forEach(function(t){var a={exptName:t.costName_expCode,expCode:t.expCode,costType_expCode:t.costType_expCode,expSubject:t.expSubject,tdAmount:t.tdAmount,noTaxAmount:t.noTaxAmount,taxRate:t.taxRate,taxAmount:t.taxAmount,expCause:t.expCause,tdId:t.tdId};e.CostList.push(a)}),e.$loading.hide()})},hasDraftData:function(){var e=!1;return this.CostList.forEach(function(t){if(t.exptName)return e=!0,!1}),!!e&&(0,o.default)({},"FYBX_DATA",{cost:this.CostList,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("FYBX_DATA");if(e){var t=JSON.parse(e);this.CostList=t.cost,this.formData=t.formData,sessionStorage.removeItem("FYBX_DATA")}}}},CxQM:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("3cXf"),o=n(s),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("7g+Q"),C=n(p),_=a("PzEQ"),y=n(_),b=a("jnZd"),g=n(b),w=a("u28h"),I=n(w),x=a("kNGm"),D=n(x),P=a("0AQX"),k=a("HyXB"),S=(a("jLp1"),a("bKg5")),T=n(S),L=a("55ug"),N=n(L),M=a("wuIh"),A=n(M),O=a("vl8n"),R=n(O),j=a("+WR7"),$=n(j),B=a("zWMP"),E=a("Qg39"),F={draftNumber:"",draftType:"",accepter:"",tdAmount:"",draftDate:"",draftDueDate:"",comment:""};t.default={mixins:[T.default],components:{Cell:c.default,Group:m.default,Popup:C.default,XInput:v.default,XTextarea:y.default,PopupPicker:g.default,RPicker:R.default,PopBaseinfo:$.default,PopDealerList:N.default,PopMoneyOrderList:A.default,Datetime:I.default},data:function(){return{listId:"1745ffdd-1b6a-4fe5-9c5b-6e5394bd4faf",biReferenceId:"",selectedCost:[],costIndex:0,transCode:"",formData:{biComment:""},dealerInfo:{},showOrder:!1,orderList:[(0,d.default)({},F)],dealerParams:{dealerLabelName:"客户"},draftTypeList:["银行承兑","商业承兑"]}},computed:{thenTotalAmntBal:function(){var e=0;return this.orderList.forEach(function(t){t.tdAmount&&(e=(0,B.accAdd)(e,t.tdAmount))}),(0,E.toFixed)(e)}},methods:{submitOrder:function(){var e=this,t="",a=[],n=[{key:"draftNumber",message:"请输入汇票号"},{key:"draftType",message:"请选择类型"},{key:"accepter",message:"请输入承兑人"},{key:"tdAmount",message:"请输入金额"},{key:"draftDate",message:"请选择出票日"},{key:"draftDueDate",message:"请选择到期日"}];if(this.dealerInfo.dealerCode||(t="请选择往来"),t||this.orderList.every(function(e){return n.every(function(a){return e[a.key]||0===e[a.key]||(t=a.message),!t}),a.push({tdId:e.tdId||"",draftNumber:e.draftNumber,draftType:e.draftType,accepter:e.accepter,tdAmount:e.tdAmount,draftDate:e.draftDate,draftDueDate:e.draftDueDate,comment:e.comment}),!t}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=k.saveAndStartWf,n=(0,r.default)({},e.processCode,{businessKey:"RAAB",createdBy:(0,o.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.formData.biComment,formData:(0,o.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{dealerName_dealerCodeCredit:e.dealerInfo.dealerName,dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName,thenAmntBalCopy2:e.dealerInfo.amntBal,thenAlreadyAmnt:e.thenTotalAmntBal,dataSet:a}})),wfPara:(0,o.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=k.saveAndCommitTask),e.processCode.length||(t=k.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.attachment,n=void 0===a?[]:a,i=t.listId,r=void 0===i?"":i,s=(t.biComment,t.biReferenceId),o=void 0===s?"":s,l=t.formData,u=void 0===l?{}:l;e.attachment=n,e.listId=r,e.biReferenceId=o,e.handlerDefault={handler:u.handler,handlerName:u.handlerName,handlerUnit:u.handlerUnit,handlerUnitName:u.handlerUnitName,handlerRole:u.handlerRole,handlerRoleName:u.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:u.biComment,biId:u.biId,biProcessStatus:u.biProcessStatus,creator:u.creator,modifer:u.modifer});var c=u.order,f=void 0===c?{}:c,m=f.dataSet,h=void 0===m?[]:m;e.dealerInfo={dealerName:f.dealerName_dealerCodeCredit,dealerCode:f.dealerCodeCredit,dealerLabelName:f.crDealerLabel,amntBal:f.thenAmntBalCopy2,thenTotalAmntBal:f.thenAlreadyAmnt},e.orderList=h,e.$loading.hide()})},hasDraftData:function(){return!!this.dealerInfo.dealerCode&&(0,r.default)({},"SDCDHP_DATA",{formData:this.formData,dealerInfo:this.dealerInfo,orderList:this.orderList})},getRelationData:function(){},selDealer:function(e){this.dealerInfo=(0,d.default)({},e)},selOrder:function(e){e.forEach(function(e){e.draftDate=(0,D.default)(e.draftDate,"YYYY-MM-DD"),e.draftDueDate=(0,D.default)(e.draftDueDate,"YYYY-MM-DD")}),this.orderList=e},addOrder:function(){this.orderList.push((0,d.default)({},F))},deleteOrder:function(){this.orderList.pop()},checkAmt:function(e,t){switch(e){case"tdAmountCopy1":this.dealerInfo.tdAmountCopy1=(0,E.toFixed)(this.dealerInfo.tdAmountCopy1);break;default:e[t]=(0,E.toFixed)(e[t])}}},created:function(){var e=sessionStorage.getItem("SDCDHP_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.orderList=t.orderList,sessionStorage.removeItem("SDCDHP_DATA")}}}},D67O:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper cpxq-detail-container"},[a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"product"},[a("div",{staticClass:"title"},[e._m(0),e._v(" "),a("div",{on:{click:e.goEdit}},[a("i",{staticClass:"iconfont icon-bianji1"}),e._v(" "),a("span",[e._v("编辑")])])]),e._v(" "),a("form-cell",{attrs:{cellTitle:"标题",cellContent:e.orderInfo.demandTitle}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"描述",cellContent:e.orderInfo.demandDescribe}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"备注",cellContent:e.orderInfo.biComment}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1)])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("span",{staticClass:"iconfont icon-mingxi1"}),e._v(" "),a("span",[e._v("需求信息")])])}],r={render:n,staticRenderFns:i};t.a=r},D90O:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2418,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"客户名称",value:"dealerName_dealerCodeCredit"}]}},mixins:[i.default],methods:{},created:function(){}}},D9b3:function(e,t,a){"use strict";function n(e){a("xdVj")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("TnC3");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("EzjB"),o=a.n(s),l=a("ECgH"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-56bdf1f4",null);t.default=c.exports},DAXD:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,defaultContact:e.contact},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("pop-single-select",{attrs:{title:"结算方式",data:e.transMode,value:e.dealerInfo.paymentTerm},model:{value:e.dealerInfo.paymentTerm,callback:function(t){e.$set(e.dealerInfo,"paymentTerm",t)},expression:"dealerInfo.paymentTerm"}}),e._v(" "),a("pop-single-select",{attrs:{title:"物流条款",data:e.logisticsTerm,value:e.dealerInfo.dealerLogisticsTerms},model:{value:e.dealerInfo.dealerLogisticsTerms,callback:function(t){e.$set(e.dealerInfo,"dealerLogisticsTerms",t)},expression:"dealerInfo.dealerLogisticsTerms"}}),e._v(" "),a("div",{staticClass:"mg_auto no_top"},[a("div",{staticClass:"cell-item"},[a("div",{staticClass:"title"},[e._v("账期天数")]),e._v(" "),a("div",{staticClass:"mode"},[a("span",{staticClass:"mode_content"},[e._v(e._s(e.dealerInfo.pamentDays||"无"))])])]),e._v(" "),a("div",{staticClass:"cell-item"},[a("div",{staticClass:"title required"},[e._v("合同总金额")]),e._v(" "),a("div",{staticClass:"mode"},[a("span",{staticClass:"mode_content"},[e._v(e._s(e.thenTotalAmntBal))])])]),e._v(" "),a("div",{staticClass:"cell-item",on:{click:function(t){e.dateSelect("validUntil")}}},[a("div",{staticClass:"title required"},[e._v("合同到期日")]),e._v(" "),a("div",{staticClass:"mode"},[a("span",{staticClass:"mode_content"},[e._v(e._s(e.dealerInfo.validUntil||"请选择"))]),e._v(" "),a("span",{staticClass:"iconfont icon-shenglve"})])]),e._v(" "),a("x-input",{directives:[{name:"show",rawName:"v-show",value:e.hasAdvance,expression:"hasAdvance"}],staticClass:"cell-item",attrs:{type:"number","text-align":"right",placeholder:"请填写"},on:{"on-blur":function(t){e.checkAmt(e.dealerInfo)}},model:{value:e.dealerInfo.tdAmountCopy1,callback:function(t){e.$set(e.dealerInfo,"tdAmountCopy1",e._n(t))},expression:"dealerInfo.tdAmountCopy1"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("预收款")])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.hasAdvance,expression:"hasAdvance"}],staticClass:"cell-item",on:{click:function(t){e.dateSelect("advancePaymentDueDate")}}},[a("div",{staticClass:"title"},[e._v("预收到期日")]),e._v(" "),a("div",{staticClass:"mode"},[a("span",{staticClass:"mode_content"},[e._v(e._s(e.dealerInfo.advancePaymentDueDate||"请选择"))]),e._v(" "),a("span",{staticClass:"iconfont icon-shenglve"})])])],1),e._v(" "),a("div",{staticClass:"materiel_list"},[e.matterList.length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v("物料列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.matterList,function(t,n){return a("div",{key:n,staticClass:"each_mater",class:{mater_delete:e.matterModifyClass,"vux-1px-b":n<e.matterList.length-1}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass},on:{"on-modify":function(a){e.modifyMatter(t,n)}},nativeOn:{click:function(a){e.delClick(t,n)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_more"},[a("span",{staticClass:"processing"},[e._v("属性: "+e._s(n.processing))]),e._v(" "),a("span",{staticClass:"unit"},[e._v("主计量: "+e._s(n.measureUnit))]),e._v(" "),a("span",{staticClass:"unit"},[e._v("辅助计量: "+e._s(n.assMeasureUnit))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.taxRate,expression:"item.taxRate"}]},[e._v("税率: "+e._s(n.taxRate))])]),e._v(" "),a("div",{staticClass:"mater_more"},[a("span",{staticClass:"unit"},[e._v("辅助计量说明: "+e._s(n.assMeasureDescription))])]),e._v(" "),a("div",{staticClass:"mater_more"},[a("span",{directives:[{name:"show",rawName:"v-show",value:n.dateActivation,expression:"item.dateActivation"}],staticClass:"processing"},[e._v("交付开始日: "+e._s(n.dateActivation))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.executionDate,expression:"item.executionDate"}],staticClass:"unit"},[e._v("交付截止日: "+e._s(n.executionDate))])]),e._v(" "),n.price&&n.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price)+"\n                    ")]),e._v(" "),a("div",[a("r-number",{attrs:{num:n.tdQty,checkAmt:e.checkAmt},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",t)},expression:"item.tdQty"}})],1)]):e._e()]}},{key:"editPart",fn:function(t){var i=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:i.price&&i.tdQty&&!e.matterModifyClass,expression:"(item.price && item.tdQty) &&!matterModifyClass"}],staticClass:"edit-part vux-1px-l",on:{click:function(t){e.modifyMatter(i,n)}}},[a("span",{staticClass:"iconfont icon-bianji1"})])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(t,n)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)}))]:[a("div",{staticClass:"no-matter",on:{click:e.getMatter}},[a("div",{staticClass:"title"},[e._v("物料列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择物料")]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),e.matterList.length?a("span",{staticClass:"add_more",on:{click:e.addMatter}},[e._v("新增更多物料")]):e._e()]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showMaterielPop,"default-value":e.matterList,"get-list-method":"getSalesContract",params:e.matterParams},on:{"sel-matter":e.selMatter},model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}})],2),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,"show-date-time":!0},on:{"sel-confirm":e.selConfirm},scopedSlots:e._u([{key:"date",fn:function(t){var n=t.modifyMatter;return[a("datetime",{attrs:{"start-date":e.dealerInfo.advancePaymentDueDate,"end-date":n.executionDate,placeholder:"请选择"},model:{value:n.dateActivation,callback:function(t){e.$set(n,"dateActivation",t)},expression:"modifyMatter.dateActivation"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("交付开始日")])])],2),e._v(" "),a("datetime",{attrs:{"start-date":n.dateActivation,"end-date":e.dealerInfo.validUntil,placeholder:"请选择"},model:{value:n.executionDate,callback:function(t){e.$set(n,"executionDate",t)},expression:"modifyMatter.executionDate"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("交付截止日")])])],2)]}}]),model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num",class:{nine_up:e.tdAmount.length>8,ten_up:e.tdAmount.length>9,ele_up:e.tdAmount.length>10}},[a("span",{staticClass:"total_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.tdAmount,3))+"\n      ")]),e._v(" "),a("span",{staticClass:"taxAmount"},[e._v("[含税: ￥"+e._s(e._f("numberComma")(e.taxAmount,3))+"]")])]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},"DAb+":function(e,t){},DAfb:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"just-word-item",class:{visited:e.item.visited}},[a("div",{staticClass:"duty_top"},[a("p",{staticClass:"duty_code"},[e._v("\n      "+e._s(e.item.transCode)+"\n      "),e.item.processStatus?a("span",{staticClass:"duty_crt_man"},[e._v(e._s(e.item.processStatus))]):e._e()]),e._v(" "),a("span",{staticClass:"duty_status",class:e.item.statusClass},[e._v(e._s(e.item.statusName))]),e._v(" "),a("i",{staticClass:"iconfont",class:e.item.whichIcon})]),e._v(" "),e.item.dealerName?a("div",{staticClass:"dealer_part"},[a("div",{staticClass:"dealer_name"},[a("span",{staticClass:"iconfont icon-kehu1"}),e._v(e._s(e.item.dealerName)+"\n    ")])]):e._e(),e._v(" "),e.item.opportunityTitle?a("div",{staticClass:"main_container"},[a("div",{staticClass:"content_part"},[e._v(e._s(e.item.opportunityTitle))]),e._v(" "),a("div",{staticClass:"other_info_part"},[a("p",{staticClass:"info_with_comment"},[e._v("内容简介: "+e._s(e.item.comment||"无"))]),e._v(" "),a("p",{staticClass:"info_with_comment"},[e._v("备注: "+e._s(e.item.biComment||"无"))])])]):e._e(),e._v(" "),a("div",{staticClass:"main_container when-is-nodealer"},[e._t("list-item",[e.item.projectType||e.item.projectType_project?a("div",{staticClass:"status_part"},[a("span",{staticClass:"iconfont icon-503020"}),e._v(" "),a("span",{staticClass:"status_name"},[e._v(e._s(e.item.projectType||e.item.projectType_project))])]):e._e(),e._v(" "),a("div",{staticClass:"content_part"},[e._v(e._s(e.item.projectName||e.item.projectName_project))]),e._v(" "),e.item.detailItem.length>1?e._l(e.item.detailItem,function(t,n){return t.taskName?a("div",{key:n,staticClass:"other_info_part"},[a("p",{staticClass:"info_with_comment"},[e._v("任务"+e._s(1+n)+": "+e._s(t.taskName))])]):e._e()}):[e.item.approvalComment_project||e.item.taskComment?a("div",{staticClass:"other_info_part"},[e.item.taskName?a("p",{staticClass:"info_with_comment"},[e._v("任务名称: "+e._s(e.item.taskName))]):e._e(),e._v(" "),e.item.approvalComment_project||e.item.taskComment?a("p",{staticClass:"info_with_comment"},[e._v("说明简介: "+e._s(e.item.approvalComment_project||e.item.taskComment))]):e._e(),e._v(" "),e.item.projectManager_project?a("p",{staticClass:"info_with_comment"},[e._v("项目经理: "+e._s(e.item.projectManager_project))]):e._e(),e._v(" "),e.item.budgetProfitMargin_project?a("p",{staticClass:"info_with_comment"},[e._v("利润率: "+e._s(e._f("percent")(e.item.budgetProfitMargin_project)))]):e._e(),e._v(" "),a("p",{staticClass:"info_with_comment"},[e._v("备注: "+e._s(e.item.biComment||"无"))])]):e._e()]],{item:e.item})],2),e._v(" "),a("div",{staticClass:"order_count"},[e.noCount?e._e():a("div",{staticClass:"money_part"},[e.item.itemCount>1?a("span",{staticClass:"num"},[e._v("共"+e._s(e.item.itemCount)+"笔")]):e._e(),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(e.conutTitle)+":")]),e._v(" "),a("span",{staticClass:"money"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(e.total),3))+"\n      ")])])]),e._v(" "),a("div",{staticClass:"other_part"},[a("p",{staticClass:"duty_time"},[e._v(e._s(e._f("dateFormat")(e.item.modTime))),a("span",{staticStyle:{fontSize:".1rem"}},[e._v("[修改时间]")])]),e._v(" "),a("div",{staticClass:"handle_man"},[e._v("\n      "+e._s(e.item.handlerName)),a("span",{staticStyle:{fontSize:".1rem"}},[e._v("[经办人]")])])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},DBVi:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listViewID:2366}},mixins:[i.default],methods:{},created:function(){}}},DHup:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("rVsN"),r=n(i),s=a("4YfN"),o=n(s),l=a("yKqG"),d=n(l),u=a("Iu/6"),c=n(u),f=a("6q39"),m=n(f);t.default={name:"RScroll",components:{Spinner:c.default,LoadMore:m.default},props:{hasNext:{type:Boolean,default:!1},noData:{type:Boolean,default:!1},options:{type:Object,default:function(){return{}}}},data:function(){return{bScroll:null,hasRefresh:!1,refreshDone:!1,pullDownTop:-70}},computed:{tip:function(){var e="加载中";return this.hasNext||(e="暂无数据"),e}},methods:{_initScroll:function(){var e=this,t=(0,o.default)({click:!0,probeType:1},this.options);this.options.pullDownRefresh&&(this.hasRefresh=!0,t.pullDownRefresh={threshold:40,stop:70}),this.options.pullUpLoad&&(t.pullUpLoad={threshold:20}),this.$nextTick(function(){e.bScroll=new d.default(e.$refs.bScroll,t),e.bScroll.on("pullingUp",function(){e.hasNext&&e.$emit("on-pulling-up")}),e.bScroll.on("pullingDown",function(){e.disable(),e.refreshDone=!1,e.$emit("on-pulling-down")}),e.bScroll.on("scroll",function(t){var a=(t.x,t.y);a>0?e.pullDownTop=a>70?0:a-70:e.resetPullDown()})})},refresh:function(){this.bScroll&&this.bScroll.refresh()},enable:function(){this.bScroll&&this.bScroll.enable()},disable:function(){this.bScroll&&this.bScroll.disable()},finishPullDown:function(){var e=this;return new r.default(function(t){e.resetPullDown(),e.bScroll.finishPullDown(),e.enable(),e.refresh(),t()})},finishPullUp:function(){var e=this;return new r.default(function(t){e.bScroll.finishPullUp(),e.refresh(),t()})},scrollTo:function(e,t){this.bScroll&&this.bScroll.scrollTo(e,t,400)},resetPullDown:function(){-70!==this.pullDownTop&&(this.pullDownTop=-70)}},created:function(){this._initScroll()}}},DOKq:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2211}},mixins:[i.default],methods:{},created:function(){}}},DQPj:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("3cXf"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("bFc7"),p=n(v),C=a("6WeX"),_=n(C),y=a("3NX5"),b=n(y),g=a("zWMP"),w=a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"",contactInfo:{}}},components:{workFlow:h.default,RAction:f.default,contactPart:p.default,PriceTotal:_.default,MatterList:b.default},mixins:[u.default],methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(e.submitInfo=JSON.parse((0,o.default)(t)),!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=!0,i=!1,s=void 0;try{for(var l,d=(0,r.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;u.noTaxAmount=(0,g.accMul)(u.price,u.tdQty),u.taxAmount=(0,g.accMul)(u.noTaxAmount,u.taxRate),u.tdAmount=(0,w.toFixed)((0,g.accAdd)(u.noTaxAmount,u.taxAmount)),e.count=(0,g.accAdd)(e.count,u.tdAmount),u.inventoryPic=u.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+u.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){i=!0,s=e}finally{try{!n&&d.return&&d.return()}finally{if(i)throw s}}e.orderInfo=t.formData,e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo={creatorName:t.dealerDebitContactPersonName,dealerName:a.dealerName_dealerDebit,dealerMobilePhone:t.dealerDebitContactInformation,dealerContactPersonName:t.dealerDebitContactPersonName,dealerCode:a.dealerDebit,dealerLabelName:a.drDealerLabel,province:a.province_dealerDebit,city:a.city_dealerDebit,county:a.county_dealerDebit,address:a.address_dealerDebit,payment:a.drDealerPaymentTerm}}},created:function(){}}},DSiR:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("+26s"),i=function(e){return e&&e.__esModule?e:{default:e}}(n),r=a("Qg39");t.default={data:function(){return{uniqueId:1e3,showContent:!1,filterArr:[{operator:"like",value:"",property:"cashCode"}]}},mixins:[i.default],filters:{toFixed:r.toFixed}}},"DT/R":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}))],1),e._v(" "),e.action.add?a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},DT0P:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("kNGm"),r=(n(i),a("0AQX")),s=a("+VRO"),o=n(s);t.default={data:function(){return{userData:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},uploadStyle:{width:"100%",padding:"0.06rem 0.1rem"}}},mixins:[o.default],methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,r.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=o,e.userData=r,e.workFlowInfoHandler()})},goEdit:function(){var e=this.$route.params,t=e.fileId,a=e.listId,n=this.$route.query.name;this.$router.push({path:"/fillform/"+t+"/"+a,query:{name:n,transCode:this.transCode}})}}}},DTDx:function(e,t,a){"use strict";function n(e){a("GBuO")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Zbco");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("P63M"),o=a.n(s),l=a("p0dk"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-7917ebe9",null);t.default=c.exports},DTET:function(e,t,a){"use strict";function n(e){a("G4pH")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("c7LW");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("aZSx"),o=a.n(s),l=a("43aq"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-a496ee82",null);t.default=c.exports},DViF:function(e,t){},"DWy+":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages gdrwqd-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.biProcessStatus,callback:function(t){e.biProcessStatus=t},expression:"biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[a("div",{staticClass:"title"},[e._v("工序信息")]),e._v(" "),a("group",{staticClass:"costGroup",attrs:{"group-title-margin-top":"0"}},[a("cell",{attrs:{isLink:"",title:"工序名称"},nativeOn:{click:function(t){e.showWorkPop=!e.showWorkPop}},model:{value:e.workInfo.procedureName||"请选择",callback:function(t){e.$set(e.workInfo,"procedureName || '请选择'",t)},expression:"workInfo.procedureName || '请选择'"}}),e._v(" "),a("cell",{attrs:{title:"工序编码",disabled:!e.workInfo.proPointCode},model:{value:e.workInfo.proPointCode,callback:function(t){e.$set(e.workInfo,"proPointCode",t)},expression:"workInfo.proPointCode"}}),e._v(" "),a("cell",{attrs:{title:"工序待启动",disabled:!e.workInfo.thenQtyBal},model:{value:e.workInfo.thenQtyBal,callback:function(t){e.$set(e.workInfo,"thenQtyBal",t)},expression:"workInfo.thenQtyBal"}}),e._v(" "),a("cell",{attrs:{title:"启动数量",disabled:!e.workInfo.tdQty},model:{value:e.workInfo.tdQty,callback:function(t){e.$set(e.workInfo,"tdQty",t)},expression:"workInfo.tdQty"}}),e._v(" "),a("x-input",{attrs:{disabled:!e.workInfo.dealerName,"text-align":"right",placeholder:e.workInfo.qtyBal?"请填写":""},on:{"on-focus":function(t){e.getFocus(t)}},model:{value:e.workInfo.dealerName,callback:function(t){e.$set(e.workInfo,"dealerName",t)},expression:"workInfo.dealerName"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("组长")])])],2),e._v(" "),a("cell",{attrs:{title:"物料名称",disabled:!e.workInfo.inventoryName},model:{value:e.workInfo.inventoryName,callback:function(t){e.$set(e.workInfo,"inventoryName",t)},expression:"workInfo.inventoryName"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("物料名称\n              ")])])],2),e._v(" "),a("cell",{attrs:{title:"物料编码",disabled:!e.workInfo.inventoryCode},model:{value:e.workInfo.inventoryCode,callback:function(t){e.$set(e.workInfo,"inventoryCode",t)},expression:"workInfo.inventoryCode"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("物料编码\n              ")])])],2)],1),e._v(" "),a("pop-work-start-list",{attrs:{show:e.showWorkPop,defaultValue:e.workInfo},on:{"sel-work":e.selWork},model:{value:e.showWorkPop,callback:function(t){e.showWorkPop=t},expression:"showWorkPop"}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.workInfo.whInCode,expression:"workInfo.whInCode"}],staticClass:"warehouse materiel_list"},[a("div",{staticClass:"title required"},[e._v("仓库")]),e._v(" "),a("div",{staticClass:"mode"},[a("span",{staticClass:"mode-item"},[e._v(e._s(e.workInfo.wareName))]),e._v(" "),a("span",{staticClass:"mode-item"},[e._v(e._s(e.workInfo.whInCode))])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.workInfo.wareAddress,expression:"workInfo.wareAddress"}],staticClass:"cp_info"},[a("i",{staticClass:"iconfont icon-icon-test"}),e._v(" "),a("span",{staticClass:"cp_ads"},[e._v(e._s(e.workInfo.wareAddress))])])]),e._v(" "),a("pop-facility-list",{attrs:{"default-value":e.facility},on:{"sel-item":e.selFacility}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.bomList.length,expression:"bomList.length"}],staticClass:"materiel_list"},[a("bom-list",{attrs:{boms:e.bomList},scopedSlots:e._u([{key:"specification",fn:function(t){var n=t.bom;return[a("div",{staticClass:"content-unit"},[a("span",[e._v("型号规格: "+e._s(n.specification))])])]}},{key:"number",fn:function(t){var n=t.bom;return[a("div",{staticClass:"number-part"},[a("span",{staticClass:"main-number"},[e._v("数量: "+e._s(n.tdQty||0)+e._s(n.measureUnit))]),e._v(" "),a("span",{staticClass:"number-unit"},[e._v("bom数量: "+e._s(n.qty))])])]}}])})],1),e._v(" "),a("div",{staticClass:"comment vux-1px-t"},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},DXZE:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2469}},mixins:[i.default],methods:{},created:function(){}}},"Da7/":function(e,t){},DcGI:function(e,t,a){"use strict";function n(e){a("AJqB")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("AU3i");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("X9Vn"),o=a.n(s),l=a("5Bns"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-4ac34e9b",null);t.default=c.exports},DfJM:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("yKqG"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{tabShow:!1,choicedTab:"",activeTabIndex:0,tabScroll:null,startY:0}},props:{tabVal:{type:Array,default:[]}},methods:{switchTab:function(e,t){this.choicedTab=e.view_name,this.activeTabIndex=t,this.tabShow=!1,this.$emit("tab-click",e,t)}},watch:{tabVal:{handler:function(e){e.length&&(this.choicedTab=e[0].view_name)}},tabShow:{handler:function(e){var t=this;e?(this.tabScroll.scrollTo(0,this.startY),this.$nextTick(function(){t.tabScroll.refresh()})):this.startY=this.tabScroll.y}}},created:function(){var e=this;this.tabVal.length&&(this.choicedTab=this.tabVal[0].view_name),this.$nextTick(function(){e.tabScroll=new i.default(e.$refs.tabItem,{click:!0})})}}},"DkQ+":function(e,t){},Dkzh:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNotice=t.getAllMsgList=t.getMsgList=void 0;var n=a("GOq4"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.getMsgList=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return i.default.ajax({url:"/H_roleplay-si/ds/getTasksListData?entityId=20000&para1="})},t.getAllMsgList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.ajax({url:"/H_roleplay-si/ds/getMyTasksAndLastNode",data:e})},t.getNotice=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.ajax({url:"/H_roleplay-si/ds/getNotice",data:e})}},DmCN:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var i,r,s=a("IYkF"),o=n(s),l=a("8zml"),d=n(l),u=a("1Mrq"),c=n(u),f=a("ZLEe"),m=n(f),h=a("hRKE"),v=n(h);!function(n,s){"object"==(0,v.default)(t)&&void 0!==e?e.exports=s():(i=s,void 0!==(r="function"==typeof i?i.call(t,a,t,e):i)&&(e.exports=r))}(0,function(){function e(e,t){var a=[],s=0;if(e&&!t&&e instanceof r)return e;if(e)if("string"==typeof e){var o,l,d=e.trim();if(d.indexOf("<")>=0&&d.indexOf(">")>=0){var u="div";for(0===d.indexOf("<li")&&(u="ul"),0===d.indexOf("<tr")&&(u="tbody"),0!==d.indexOf("<td")&&0!==d.indexOf("<th")||(u="tr"),0===d.indexOf("<tbody")&&(u="table"),0===d.indexOf("<option")&&(u="select"),(l=n.createElement(u)).innerHTML=d,s=0;s<l.childNodes.length;s+=1)a.push(l.childNodes[s])}else for(o=t||"#"!==e[0]||e.match(/[ .<>:~]/)?(t||n).querySelectorAll(e.trim()):[n.getElementById(e.trim().split("#")[1])],s=0;s<o.length;s+=1)o[s]&&a.push(o[s])}else if(e.nodeType||e===i||e===n)a.push(e);else if(e.length>0&&e[0].nodeType)for(s=0;s<e.length;s+=1)a.push(e[s]);return new r(a)}function t(e){for(var t=[],a=0;a<e.length;a+=1)-1===t.indexOf(e[a])&&t.push(e[a]);return t}function a(){var e=this.params,t=this.el;if(!t||0!==t.offsetWidth){e.breakpoints&&this.setBreakpoint();var a=this.allowSlideNext,n=this.allowSlidePrev,i=this.snapGrid;if(this.allowSlideNext=!0,this.allowSlidePrev=!0,this.updateSize(),this.updateSlides(),e.freeMode){var r=Math.min(Math.max(this.translate,this.maxTranslate()),this.minTranslate());this.setTranslate(r),this.updateActiveIndex(),this.updateSlidesClasses(),e.autoHeight&&this.updateAutoHeight()}else this.updateSlidesClasses(),("auto"===e.slidesPerView||e.slidesPerView>1)&&this.isEnd&&!this.params.centeredSlides?this.slideTo(this.slides.length-1,0,!1,!0):this.slideTo(this.activeIndex,0,!1,!0);this.allowSlidePrev=n,this.allowSlideNext=a,this.params.watchOverflow&&i!==this.snapGrid&&this.checkOverflow()}}var n="undefined"==typeof document?{body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},location:{hash:""}}:document,i="undefined"==typeof window?{document:n,navigator:{userAgent:""},location:{},history:{},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){}}:window,r=function(e){for(var t=0;t<e.length;t+=1)this[t]=e[t];return this.length=e.length,this};e.fn=r.prototype,e.Class=r,e.Dom7=r;var s={addClass:function(e){if(void 0===e)return this;for(var t=e.split(" "),a=0;a<t.length;a+=1)for(var n=0;n<this.length;n+=1)void 0!==this[n].classList&&this[n].classList.add(t[a]);return this},removeClass:function(e){for(var t=e.split(" "),a=0;a<t.length;a+=1)for(var n=0;n<this.length;n+=1)void 0!==this[n].classList&&this[n].classList.remove(t[a]);return this},hasClass:function(e){return!!this[0]&&this[0].classList.contains(e)},toggleClass:function(e){for(var t=e.split(" "),a=0;a<t.length;a+=1)for(var n=0;n<this.length;n+=1)void 0!==this[n].classList&&this[n].classList.toggle(t[a]);return this},attr:function(e,t){var a=arguments;if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var n=0;n<this.length;n+=1)if(2===a.length)this[n].setAttribute(e,t);else for(var i in e)this[n][i]=e[i],this[n].setAttribute(i,e[i]);return this},removeAttr:function(e){for(var t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this},data:function(e,t){var a;if(void 0!==t){for(var n=0;n<this.length;n+=1)(a=this[n]).dom7ElementDataStorage||(a.dom7ElementDataStorage={}),a.dom7ElementDataStorage[e]=t;return this}if(a=this[0]){if(a.dom7ElementDataStorage&&e in a.dom7ElementDataStorage)return a.dom7ElementDataStorage[e];return a.getAttribute("data-"+e)||void 0}},transform:function(e){for(var t=0;t<this.length;t+=1){var a=this[t].style;a.webkitTransform=e,a.transform=e}return this},transition:function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t+=1){var a=this[t].style;a.webkitTransitionDuration=e,a.transitionDuration=e}return this},on:function(){function t(t){var a=t.target;if(a){var n=t.target.dom7EventData||[];if(n.unshift(t),e(a).is(o))l.apply(a,n);else for(var i=e(a).parents(),r=0;r<i.length;r+=1)e(i[r]).is(o)&&l.apply(i[r],n)}}function a(e){var t=e&&e.target?e.target.dom7EventData||[]:[];t.unshift(e),l.apply(this,t)}for(var n,i=[],r=arguments.length;r--;)i[r]=arguments[r];var s=i[0],o=i[1],l=i[2],d=i[3];"function"==typeof i[1]&&(s=(n=i)[0],l=n[1],d=n[2],o=void 0),d||(d=!1);for(var u,c=s.split(" "),f=0;f<this.length;f+=1){var m=this[f];if(o)for(u=0;u<c.length;u+=1)m.dom7LiveListeners||(m.dom7LiveListeners=[]),m.dom7LiveListeners.push({type:s,listener:l,proxyListener:t}),m.addEventListener(c[u],t,d);else for(u=0;u<c.length;u+=1)m.dom7Listeners||(m.dom7Listeners=[]),m.dom7Listeners.push({type:s,listener:l,proxyListener:a}),m.addEventListener(c[u],a,d)}return this},off:function(){for(var e,t=[],a=arguments.length;a--;)t[a]=arguments[a];var n=t[0],i=t[1],r=t[2],s=t[3];"function"==typeof t[1]&&(n=(e=t)[0],r=e[1],s=e[2],i=void 0),s||(s=!1);for(var o=n.split(" "),l=0;l<o.length;l+=1)for(var d=0;d<this.length;d+=1){var u=this[d];if(i){if(u.dom7LiveListeners)for(var c=0;c<u.dom7LiveListeners.length;c+=1)r?u.dom7LiveListeners[c].listener===r&&u.removeEventListener(o[l],u.dom7LiveListeners[c].proxyListener,s):u.dom7LiveListeners[c].type===o[l]&&u.removeEventListener(o[l],u.dom7LiveListeners[c].proxyListener,s)}else if(u.dom7Listeners)for(var f=0;f<u.dom7Listeners.length;f+=1)r?u.dom7Listeners[f].listener===r&&u.removeEventListener(o[l],u.dom7Listeners[f].proxyListener,s):u.dom7Listeners[f].type===o[l]&&u.removeEventListener(o[l],u.dom7Listeners[f].proxyListener,s)}return this},trigger:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var a=e[0].split(" "),r=e[1],s=0;s<a.length;s+=1)for(var o=0;o<this.length;o+=1){var l=void 0;try{l=new i.CustomEvent(a[s],{detail:r,bubbles:!0,cancelable:!0})}catch(e){(l=n.createEvent("Event")).initEvent(a[s],!0,!0),l.detail=r}this[o].dom7EventData=e.filter(function(e,t){return t>0}),this[o].dispatchEvent(l),this[o].dom7EventData=[],delete this[o].dom7EventData}return this},transitionEnd:function(e){function t(r){if(r.target===this)for(e.call(this,r),a=0;a<n.length;a+=1)i.off(n[a],t)}var a,n=["webkitTransitionEnd","transitionend"],i=this;if(e)for(a=0;a<n.length;a+=1)i.on(n[a],t);return this},outerWidth:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue("margin-right"))+parseFloat(t.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetHeight+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},offset:function(){if(this.length>0){var e=this[0],t=e.getBoundingClientRect(),a=n.body,r=e.clientTop||a.clientTop||0,s=e.clientLeft||a.clientLeft||0,o=e===i?i.scrollY:e.scrollTop,l=e===i?i.scrollX:e.scrollLeft;return{top:t.top+o-r,left:t.left+l-s}}return null},css:function(e,t){var a;if(1===arguments.length){if("string"!=typeof e){for(a=0;a<this.length;a+=1)for(var n in e)this[a].style[n]=e[n];return this}if(this[0])return i.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(a=0;a<this.length;a+=1)this[a].style[e]=t;return this}return this},each:function(e){if(!e)return this;for(var t=0;t<this.length;t+=1)if(!1===e.call(this[t],t,this[t]))return this;return this},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:void 0;for(var t=0;t<this.length;t+=1)this[t].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t+=1)this[t].textContent=e;return this},is:function(t){var a,s,o=this[0];if(!o||void 0===t)return!1;if("string"==typeof t){if(o.matches)return o.matches(t);if(o.webkitMatchesSelector)return o.webkitMatchesSelector(t);if(o.msMatchesSelector)return o.msMatchesSelector(t);for(a=e(t),s=0;s<a.length;s+=1)if(a[s]===o)return!0;return!1}if(t===n)return o===n;if(t===i)return o===i;if(t.nodeType||t instanceof r){for(a=t.nodeType?[t]:t,s=0;s<a.length;s+=1)if(a[s]===o)return!0;return!1}return!1},index:function(){var e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}},eq:function(e){if(void 0===e)return this;var t,a=this.length;return new r(e>a-1?[]:e<0?(t=a+e)<0?[]:[this[t]]:[this[e]])},append:function(){for(var e,t=[],a=arguments.length;a--;)t[a]=arguments[a];for(var i=0;i<t.length;i+=1){e=t[i];for(var s=0;s<this.length;s+=1)if("string"==typeof e){var o=n.createElement("div");for(o.innerHTML=e;o.firstChild;)this[s].appendChild(o.firstChild)}else if(e instanceof r)for(var l=0;l<e.length;l+=1)this[s].appendChild(e[l]);else this[s].appendChild(e)}return this},prepend:function(e){var t,a;for(t=0;t<this.length;t+=1)if("string"==typeof e){var i=n.createElement("div");for(i.innerHTML=e,a=i.childNodes.length-1;a>=0;a-=1)this[t].insertBefore(i.childNodes[a],this[t].childNodes[0])}else if(e instanceof r)for(a=0;a<e.length;a+=1)this[t].insertBefore(e[a],this[t].childNodes[0]);else this[t].insertBefore(e,this[t].childNodes[0]);return this},next:function(t){return new r(this.length>0?t?this[0].nextElementSibling&&e(this[0].nextElementSibling).is(t)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(t){var a=[],n=this[0];if(!n)return new r([]);for(;n.nextElementSibling;){var i=n.nextElementSibling;t?e(i).is(t)&&a.push(i):a.push(i),n=i}return new r(a)},prev:function(t){if(this.length>0){var a=this[0];return new r(t?a.previousElementSibling&&e(a.previousElementSibling).is(t)?[a.previousElementSibling]:[]:a.previousElementSibling?[a.previousElementSibling]:[])}return new r([])},prevAll:function(t){var a=[],n=this[0];if(!n)return new r([]);for(;n.previousElementSibling;){var i=n.previousElementSibling;t?e(i).is(t)&&a.push(i):a.push(i),n=i}return new r(a)},parent:function(a){for(var n=[],i=0;i<this.length;i+=1)null!==this[i].parentNode&&(a?e(this[i].parentNode).is(a)&&n.push(this[i].parentNode):n.push(this[i].parentNode));return e(t(n))},parents:function(a){for(var n=[],i=0;i<this.length;i+=1)for(var r=this[i].parentNode;r;)a?e(r).is(a)&&n.push(r):n.push(r),r=r.parentNode;return e(t(n))},closest:function(e){var t=this;return void 0===e?new r([]):(t.is(e)||(t=t.parents(e).eq(0)),t)},find:function(e){for(var t=[],a=0;a<this.length;a+=1)for(var n=this[a].querySelectorAll(e),i=0;i<n.length;i+=1)t.push(n[i]);return new r(t)},children:function(a){for(var n=[],i=0;i<this.length;i+=1)for(var s=this[i].childNodes,o=0;o<s.length;o+=1)a?1===s[o].nodeType&&e(s[o]).is(a)&&n.push(s[o]):1===s[o].nodeType&&n.push(s[o]);return new r(t(n))},remove:function(){for(var e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},add:function(){for(var t=[],a=arguments.length;a--;)t[a]=arguments[a];var n,i;for(n=0;n<t.length;n+=1){var r=e(t[n]);for(i=0;i<r.length;i+=1)this[this.length]=r[i],this.length+=1}return this},styles:function(){return this[0]?i.getComputedStyle(this[0],null):{}}};(0,m.default)(s).forEach(function(t){e.fn[t]=s[t]});var l,u,f,h={deleteProps:function(e){var t=e;(0,m.default)(t).forEach(function(e){try{t[e]=null}catch(e){}try{delete t[e]}catch(e){}})},nextTick:function(e,t){return void 0===t&&(t=0),setTimeout(e,t)},now:function(){return Date.now()},getTranslate:function(e,t){var a,n,r;void 0===t&&(t="x");var s=i.getComputedStyle(e,null);return i.WebKitCSSMatrix?((n=s.transform||s.webkitTransform).split(",").length>6&&(n=n.split(", ").map(function(e){return e.replace(",",".")}).join(", ")),r=new i.WebKitCSSMatrix("none"===n?"":n)):a=(r=s.MozTransform||s.OTransform||s.MsTransform||s.msTransform||s.transform||s.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===t&&(n=i.WebKitCSSMatrix?r.m41:16===a.length?parseFloat(a[12]):parseFloat(a[4])),"y"===t&&(n=i.WebKitCSSMatrix?r.m42:16===a.length?parseFloat(a[13]):parseFloat(a[5])),n||0},parseUrlQuery:function(e){var t,a,n,r,s={},o=e||i.location.href;if("string"==typeof o&&o.length)for(r=(a=(o=o.indexOf("?")>-1?o.replace(/\S*\?/,""):"").split("&").filter(function(e){return""!==e})).length,t=0;t<r;t+=1)n=a[t].replace(/#\S+/g,"").split("="),s[decodeURIComponent(n[0])]=void 0===n[1]?void 0:decodeURIComponent(n[1])||"";return s},isObject:function(e){return"object"==(void 0===e?"undefined":(0,v.default)(e))&&null!==e&&e.constructor&&e.constructor===Object},extend:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var a=Object(e[0]),n=1;n<e.length;n+=1){var i=e[n];if(void 0!==i&&null!==i)for(var r=(0,m.default)(Object(i)),s=0,o=r.length;s<o;s+=1){var l=r[s],d=(0,c.default)(i,l);void 0!==d&&d.enumerable&&(h.isObject(a[l])&&h.isObject(i[l])?h.extend(a[l],i[l]):!h.isObject(a[l])&&h.isObject(i[l])?(a[l]={},h.extend(a[l],i[l])):a[l]=i[l])}}return a}},p=(f=n.createElement("div"),{touch:i.Modernizr&&!0===i.Modernizr.touch||!!("ontouchstart"in i||i.DocumentTouch&&n instanceof i.DocumentTouch),pointerEvents:!(!i.navigator.pointerEnabled&&!i.PointerEvent),prefixedPointerEvents:!!i.navigator.msPointerEnabled,transition:"transition"in(u=f.style)||"webkitTransition"in u||"MozTransition"in u,transforms3d:i.Modernizr&&!0===i.Modernizr.csstransforms3d||"webkitPerspective"in(l=f.style)||"MozPerspective"in l||"OPerspective"in l||"MsPerspective"in l||"perspective"in l,flexbox:function(){for(var e=f.style,t="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),a=0;a<t.length;a+=1)if(t[a]in e)return!0;return!1}(),observer:"MutationObserver"in i||"WebkitMutationObserver"in i,passiveListener:function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});i.addEventListener("testPassiveListener",null,t)}catch(e){}return e}(),gestures:"ongesturestart"in i}),C=function(e){void 0===e&&(e={});var t=this;t.params=e,t.eventsListeners={},t.params&&t.params.on&&(0,m.default)(t.params.on).forEach(function(e){t.on(e,t.params.on[e])})},_={components:{configurable:!0}};C.prototype.on=function(e,t,a){var n=this;if("function"!=typeof t)return n;var i=a?"unshift":"push";return e.split(" ").forEach(function(e){n.eventsListeners[e]||(n.eventsListeners[e]=[]),n.eventsListeners[e][i](t)}),n},C.prototype.once=function(e,t,a){var n=this;return"function"!=typeof t?n:n.on(e,function a(){for(var i=[],r=arguments.length;r--;)i[r]=arguments[r];t.apply(n,i),n.off(e,a)},a)},C.prototype.off=function(e,t){var a=this;return a.eventsListeners?(e.split(" ").forEach(function(e){void 0===t?a.eventsListeners[e]=[]:a.eventsListeners[e].forEach(function(n,i){n===t&&a.eventsListeners[e].splice(i,1)})}),a):a},C.prototype.emit=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a,n,i,r=this;return r.eventsListeners?("string"==typeof e[0]||Array.isArray(e[0])?(a=e[0],n=e.slice(1,e.length),i=r):(a=e[0].events,n=e[0].data,i=e[0].context||r),(Array.isArray(a)?a:a.split(" ")).forEach(function(e){if(r.eventsListeners&&r.eventsListeners[e]){var t=[];r.eventsListeners[e].forEach(function(e){t.push(e)}),t.forEach(function(e){e.apply(i,n)})}}),r):r},C.prototype.useModulesParams=function(e){var t=this;t.modules&&(0,m.default)(t.modules).forEach(function(a){var n=t.modules[a];n.params&&h.extend(e,n.params)})},C.prototype.useModules=function(e){void 0===e&&(e={});var t=this;t.modules&&(0,m.default)(t.modules).forEach(function(a){var n=t.modules[a],i=e[a]||{};n.instance&&(0,m.default)(n.instance).forEach(function(e){var a=n.instance[e];t[e]="function"==typeof a?a.bind(t):a}),n.on&&t.on&&(0,m.default)(n.on).forEach(function(e){t.on(e,n.on[e])}),n.create&&n.create.bind(t)(i)})},_.components.set=function(e){this.use&&this.use(e)},C.installModule=function(e){for(var t=[],a=arguments.length-1;a-- >0;)t[a]=arguments[a+1];var n=this;n.prototype.modules||(n.prototype.modules={});var i=e.name||(0,m.default)(n.prototype.modules).length+"_"+h.now();return n.prototype.modules[i]=e,e.proto&&(0,m.default)(e.proto).forEach(function(t){n.prototype[t]=e.proto[t]}),e.static&&(0,m.default)(e.static).forEach(function(t){n[t]=e.static[t]}),e.install&&e.install.apply(n,t),n},C.use=function(e){for(var t=[],a=arguments.length-1;a-- >0;)t[a]=arguments[a+1];var n=this;return Array.isArray(e)?(e.forEach(function(e){return n.installModule(e)}),n):n.installModule.apply(n,[e].concat(t))},(0,d.default)(C,_);var y={updateSize:function(){var e,t,a=this.$el;e=void 0!==this.params.width?this.params.width:a[0].clientWidth,t=void 0!==this.params.height?this.params.height:a[0].clientHeight,0===e&&this.isHorizontal()||0===t&&this.isVertical()||(e=e-parseInt(a.css("padding-left"),10)-parseInt(a.css("padding-right"),10),t=t-parseInt(a.css("padding-top"),10)-parseInt(a.css("padding-bottom"),10),h.extend(this,{width:e,height:t,size:this.isHorizontal()?e:t}))},updateSlides:function(){var e=this.params,t=this.$wrapperEl,a=this.size,n=this.rtlTranslate,r=this.wrongRTL,s=t.children("."+this.params.slideClass),o=this.virtual&&e.virtual.enabled?this.virtual.slides.length:s.length,l=[],d=[],u=[],c=e.slidesOffsetBefore;"function"==typeof c&&(c=e.slidesOffsetBefore.call(this));var f=e.slidesOffsetAfter;"function"==typeof f&&(f=e.slidesOffsetAfter.call(this));var m=o,v=this.snapGrid.length,C=this.snapGrid.length,_=e.spaceBetween,y=-c,b=0,g=0;if(void 0!==a){var w,I;"string"==typeof _&&_.indexOf("%")>=0&&(_=parseFloat(_.replace("%",""))/100*a),this.virtualSize=-_,n?s.css({marginLeft:"",marginTop:""}):s.css({marginRight:"",marginBottom:""}),e.slidesPerColumn>1&&(w=Math.floor(o/e.slidesPerColumn)===o/this.params.slidesPerColumn?o:Math.ceil(o/e.slidesPerColumn)*e.slidesPerColumn,"auto"!==e.slidesPerView&&"row"===e.slidesPerColumnFill&&(w=Math.max(w,e.slidesPerView*e.slidesPerColumn)));for(var x,D=e.slidesPerColumn,P=w/D,k=P-(e.slidesPerColumn*P-o),S=0;S<o;S+=1){I=0;var T=s.eq(S);if(e.slidesPerColumn>1){var L=void 0,N=void 0,M=void 0;"column"===e.slidesPerColumnFill?(M=S-(N=Math.floor(S/D))*D,(N>k||N===k&&M===D-1)&&(M+=1)>=D&&(M=0,N+=1),L=N+M*w/D,T.css({"-webkit-box-ordinal-group":L,"-moz-box-ordinal-group":L,"-ms-flex-order":L,"-webkit-order":L,order:L})):N=S-(M=Math.floor(S/P))*P,T.css("margin-"+(this.isHorizontal()?"top":"left"),0!==M&&e.spaceBetween&&e.spaceBetween+"px").attr("data-swiper-column",N).attr("data-swiper-row",M)}if("none"!==T.css("display")){if("auto"===e.slidesPerView){var A=i.getComputedStyle(T[0],null);I=this.isHorizontal()?T[0].getBoundingClientRect().width+parseFloat(A.getPropertyValue("margin-left"))+parseFloat(A.getPropertyValue("margin-right")):T[0].getBoundingClientRect().height+parseFloat(A.getPropertyValue("margin-top"))+parseFloat(A.getPropertyValue("margin-bottom")),e.roundLengths&&(I=Math.floor(I))}else I=(a-(e.slidesPerView-1)*_)/e.slidesPerView,e.roundLengths&&(I=Math.floor(I)),s[S]&&(this.isHorizontal()?s[S].style.width=I+"px":s[S].style.height=I+"px");s[S]&&(s[S].swiperSlideSize=I),u.push(I),e.centeredSlides?(y=y+I/2+b/2+_,0===b&&0!==S&&(y=y-a/2-_),0===S&&(y=y-a/2-_),Math.abs(y)<.001&&(y=0),g%e.slidesPerGroup==0&&l.push(y),d.push(y)):(g%e.slidesPerGroup==0&&l.push(y),d.push(y),y=y+I+_),this.virtualSize+=I+_,b=I,g+=1}}if(this.virtualSize=Math.max(this.virtualSize,a)+f,n&&r&&("slide"===e.effect||"coverflow"===e.effect)&&t.css({width:this.virtualSize+e.spaceBetween+"px"}),p.flexbox&&!e.setWrapperSize||(this.isHorizontal()?t.css({width:this.virtualSize+e.spaceBetween+"px"}):t.css({height:this.virtualSize+e.spaceBetween+"px"})),e.slidesPerColumn>1&&(this.virtualSize=(I+e.spaceBetween)*w,this.virtualSize=Math.ceil(this.virtualSize/e.slidesPerColumn)-e.spaceBetween,this.isHorizontal()?t.css({width:this.virtualSize+e.spaceBetween+"px"}):t.css({height:this.virtualSize+e.spaceBetween+"px"}),e.centeredSlides)){x=[];for(var O=0;O<l.length;O+=1)l[O]<this.virtualSize+l[0]&&x.push(l[O]);l=x}if(!e.centeredSlides){x=[];for(var R=0;R<l.length;R+=1)l[R]<=this.virtualSize-a&&x.push(l[R]);l=x,Math.floor(this.virtualSize-a)-Math.floor(l[l.length-1])>1&&l.push(this.virtualSize-a)}0===l.length&&(l=[0]),0!==e.spaceBetween&&(this.isHorizontal()?n?s.css({marginLeft:_+"px"}):s.css({marginRight:_+"px"}):s.css({marginBottom:_+"px"})),h.extend(this,{slides:s,snapGrid:l,slidesGrid:d,slidesSizesGrid:u}),o!==m&&this.emit("slidesLengthChange"),l.length!==v&&(this.params.watchOverflow&&this.checkOverflow(),this.emit("snapGridLengthChange")),d.length!==C&&this.emit("slidesGridLengthChange"),(e.watchSlidesProgress||e.watchSlidesVisibility)&&this.updateSlidesOffset()}},updateAutoHeight:function(e){var t,a=[],n=0;if("number"==typeof e?this.setTransition(e):!0===e&&this.setTransition(this.params.speed),"auto"!==this.params.slidesPerView&&this.params.slidesPerView>1)for(t=0;t<Math.ceil(this.params.slidesPerView);t+=1){var i=this.activeIndex+t;if(i>this.slides.length)break;a.push(this.slides.eq(i)[0])}else a.push(this.slides.eq(this.activeIndex)[0]);for(t=0;t<a.length;t+=1)if(void 0!==a[t]){var r=a[t].offsetHeight;n=r>n?r:n}n&&this.$wrapperEl.css("height",n+"px")},updateSlidesOffset:function(){for(var e=this.slides,t=0;t<e.length;t+=1)e[t].swiperSlideOffset=this.isHorizontal()?e[t].offsetLeft:e[t].offsetTop},updateSlidesProgress:function(e){void 0===e&&(e=this.translate||0);var t=this.params,a=this.slides,n=this.rtlTranslate;if(0!==a.length){void 0===a[0].swiperSlideOffset&&this.updateSlidesOffset();var i=-e;n&&(i=e),a.removeClass(t.slideVisibleClass);for(var r=0;r<a.length;r+=1){var s=a[r],o=(i+(t.centeredSlides?this.minTranslate():0)-s.swiperSlideOffset)/(s.swiperSlideSize+t.spaceBetween);if(t.watchSlidesVisibility){var l=-(i-s.swiperSlideOffset),d=l+this.slidesSizesGrid[r];(l>=0&&l<this.size||d>0&&d<=this.size||l<=0&&d>=this.size)&&a.eq(r).addClass(t.slideVisibleClass)}s.progress=n?-o:o}}},updateProgress:function(e){void 0===e&&(e=this.translate||0);var t=this.params,a=this.maxTranslate()-this.minTranslate(),n=this.progress,i=this.isBeginning,r=this.isEnd,s=i,o=r;0===a?(n=0,i=!0,r=!0):(i=(n=(e-this.minTranslate())/a)<=0,r=n>=1),h.extend(this,{progress:n,isBeginning:i,isEnd:r}),(t.watchSlidesProgress||t.watchSlidesVisibility)&&this.updateSlidesProgress(e),i&&!s&&this.emit("reachBeginning toEdge"),r&&!o&&this.emit("reachEnd toEdge"),(s&&!i||o&&!r)&&this.emit("fromEdge"),this.emit("progress",n)},updateSlidesClasses:function(){var e,t=this.slides,a=this.params,n=this.$wrapperEl,i=this.activeIndex,r=this.realIndex,s=this.virtual&&a.virtual.enabled;t.removeClass(a.slideActiveClass+" "+a.slideNextClass+" "+a.slidePrevClass+" "+a.slideDuplicateActiveClass+" "+a.slideDuplicateNextClass+" "+a.slideDuplicatePrevClass),(e=s?this.$wrapperEl.find("."+a.slideClass+'[data-swiper-slide-index="'+i+'"]'):t.eq(i)).addClass(a.slideActiveClass),a.loop&&(e.hasClass(a.slideDuplicateClass)?n.children("."+a.slideClass+":not(."+a.slideDuplicateClass+')[data-swiper-slide-index="'+r+'"]').addClass(a.slideDuplicateActiveClass):n.children("."+a.slideClass+"."+a.slideDuplicateClass+'[data-swiper-slide-index="'+r+'"]').addClass(a.slideDuplicateActiveClass));var o=e.nextAll("."+a.slideClass).eq(0).addClass(a.slideNextClass);a.loop&&0===o.length&&(o=t.eq(0)).addClass(a.slideNextClass);var l=e.prevAll("."+a.slideClass).eq(0).addClass(a.slidePrevClass);a.loop&&0===l.length&&(l=t.eq(-1)).addClass(a.slidePrevClass),a.loop&&(o.hasClass(a.slideDuplicateClass)?n.children("."+a.slideClass+":not(."+a.slideDuplicateClass+')[data-swiper-slide-index="'+o.attr("data-swiper-slide-index")+'"]').addClass(a.slideDuplicateNextClass):n.children("."+a.slideClass+"."+a.slideDuplicateClass+'[data-swiper-slide-index="'+o.attr("data-swiper-slide-index")+'"]').addClass(a.slideDuplicateNextClass),l.hasClass(a.slideDuplicateClass)?n.children("."+a.slideClass+":not(."+a.slideDuplicateClass+')[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(a.slideDuplicatePrevClass):n.children("."+a.slideClass+"."+a.slideDuplicateClass+'[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(a.slideDuplicatePrevClass))},updateActiveIndex:function(e){var t,a=this.rtlTranslate?this.translate:-this.translate,n=this.slidesGrid,i=this.snapGrid,r=this.params,s=this.activeIndex,o=this.realIndex,l=this.snapIndex,d=e;if(void 0===d){for(var u=0;u<n.length;u+=1)void 0!==n[u+1]?a>=n[u]&&a<n[u+1]-(n[u+1]-n[u])/2?d=u:a>=n[u]&&a<n[u+1]&&(d=u+1):a>=n[u]&&(d=u);r.normalizeSlideIndex&&(d<0||void 0===d)&&(d=0)}if((t=i.indexOf(a)>=0?i.indexOf(a):Math.floor(d/r.slidesPerGroup))>=i.length&&(t=i.length-1),d!==s){var c=parseInt(this.slides.eq(d).attr("data-swiper-slide-index")||d,10);h.extend(this,{snapIndex:t,realIndex:c,previousIndex:s,activeIndex:d}),this.emit("activeIndexChange"),this.emit("snapIndexChange"),o!==c&&this.emit("realIndexChange"),this.emit("slideChange")}else t!==l&&(this.snapIndex=t,this.emit("snapIndexChange"))},updateClickedSlide:function(t){var a=this.params,n=e(t.target).closest("."+a.slideClass)[0],i=!1;if(n)for(var r=0;r<this.slides.length;r+=1)this.slides[r]===n&&(i=!0);if(!n||!i)return this.clickedSlide=void 0,void(this.clickedIndex=void 0);this.clickedSlide=n,this.virtual&&this.params.virtual.enabled?this.clickedIndex=parseInt(e(n).attr("data-swiper-slide-index"),10):this.clickedIndex=e(n).index(),a.slideToClickedSlide&&void 0!==this.clickedIndex&&this.clickedIndex!==this.activeIndex&&this.slideToClickedSlide()}},b={getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");var t=this.params,a=this.rtlTranslate,n=this.translate,i=this.$wrapperEl;if(t.virtualTranslate)return a?-n:n;var r=h.getTranslate(i[0],e);return a&&(r=-r),r||0},setTranslate:function(e,t){var a=this.rtlTranslate,n=this.params,i=this.$wrapperEl,r=this.progress,s=0,o=0;this.isHorizontal()?s=a?-e:e:o=e,n.roundLengths&&(s=Math.floor(s),o=Math.floor(o)),n.virtualTranslate||(p.transforms3d?i.transform("translate3d("+s+"px, "+o+"px, 0px)"):i.transform("translate("+s+"px, "+o+"px)")),this.translate=this.isHorizontal()?s:o;var l=this.maxTranslate()-this.minTranslate();(0===l?0:(e-this.minTranslate())/l)!==r&&this.updateProgress(e),this.emit("setTranslate",this.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]}},g={setTransition:function(e,t){this.$wrapperEl.transition(e),this.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);var a=this.activeIndex,n=this.params,i=this.previousIndex;n.autoHeight&&this.updateAutoHeight();var r=t;if(r||(r=a>i?"next":a<i?"prev":"reset"),this.emit("transitionStart"),e&&a!==i){if("reset"===r)return void this.emit("slideResetTransitionStart");this.emit("slideChangeTransitionStart"),"next"===r?this.emit("slideNextTransitionStart"):this.emit("slidePrevTransitionStart")}},transitionEnd:function(e,t){void 0===e&&(e=!0);var a=this.activeIndex,n=this.previousIndex;this.animating=!1,this.setTransition(0);var i=t;if(i||(i=a>n?"next":a<n?"prev":"reset"),this.emit("transitionEnd"),e&&a!==n){if("reset"===i)return void this.emit("slideResetTransitionEnd");this.emit("slideChangeTransitionEnd"),"next"===i?this.emit("slideNextTransitionEnd"):this.emit("slidePrevTransitionEnd")}}},w={slideTo:function(e,t,a,n){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===a&&(a=!0);var i=this,r=e;r<0&&(r=0);var s=i.params,o=i.snapGrid,l=i.slidesGrid,d=i.previousIndex,u=i.activeIndex,c=i.rtlTranslate,f=i.$wrapperEl;if(i.animating&&s.preventIntercationOnTransition)return!1;var m=Math.floor(r/s.slidesPerGroup);m>=o.length&&(m=o.length-1),(u||s.initialSlide||0)===(d||0)&&a&&i.emit("beforeSlideChangeStart");var h,v=-o[m];if(i.updateProgress(v),s.normalizeSlideIndex)for(var C=0;C<l.length;C+=1)-Math.floor(100*v)>=Math.floor(100*l[C])&&(r=C);if(i.initialized&&r!==u){if(!i.allowSlideNext&&v<i.translate&&v<i.minTranslate())return!1;if(!i.allowSlidePrev&&v>i.translate&&v>i.maxTranslate()&&(u||0)!==r)return!1}return h=r>u?"next":r<u?"prev":"reset",c&&-v===i.translate||!c&&v===i.translate?(i.updateActiveIndex(r),s.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),"slide"!==s.effect&&i.setTranslate(v),"reset"!==h&&(i.transitionStart(a,h),i.transitionEnd(a,h)),!1):(0!==t&&p.transition?(i.setTransition(t),i.setTranslate(v),i.updateActiveIndex(r),i.updateSlidesClasses(),i.emit("beforeTransitionStart",t,n),i.transitionStart(a,h),i.animating||(i.animating=!0,f.transitionEnd(function(){i&&!i.destroyed&&i.transitionEnd(a,h)}))):(i.setTransition(0),i.setTranslate(v),i.updateActiveIndex(r),i.updateSlidesClasses(),i.emit("beforeTransitionStart",t,n),i.transitionStart(a,h),i.transitionEnd(a,h)),!0)},slideToLoop:function(e,t,a,n){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===a&&(a=!0);var i=e;return this.params.loop&&(i+=this.loopedSlides),this.slideTo(i,t,a,n)},slideNext:function(e,t,a){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var n=this.params,i=this.animating;return n.loop?!i&&(this.loopFix(),this._clientLeft=this.$wrapperEl[0].clientLeft,this.slideTo(this.activeIndex+n.slidesPerGroup,e,t,a)):this.slideTo(this.activeIndex+n.slidesPerGroup,e,t,a)},slidePrev:function(e,t,a){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var n=this.params,i=this.animating,r=this.snapGrid,s=this.slidesGrid,o=this.rtlTranslate;if(n.loop){if(i)return!1;this.loopFix(),this._clientLeft=this.$wrapperEl[0].clientLeft}var l,d=o?this.translate:-this.translate,u=(r[r.indexOf(d)],r[r.indexOf(d)-1]);return u&&(l=s.indexOf(u))<0&&(l=this.activeIndex-1),this.slideTo(l,e,t,a)},slideReset:function(e,t,a){return void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),this.slideTo(this.activeIndex,e,t,a)},slideToClosest:function(e,t,a){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var n=this.activeIndex,i=Math.floor(n/this.params.slidesPerGroup);if(i<this.snapGrid.length-1){var r=this.rtlTranslate?this.translate:-this.translate,s=this.snapGrid[i];r-s>(this.snapGrid[i+1]-s)/2&&(n=this.params.slidesPerGroup)}return this.slideTo(n,e,t,a)},slideToClickedSlide:function(){var t,a=this,n=a.params,i=a.$wrapperEl,r="auto"===n.slidesPerView?a.slidesPerViewDynamic():n.slidesPerView,s=a.clickedIndex;if(n.loop){if(a.animating)return;t=parseInt(e(a.clickedSlide).attr("data-swiper-slide-index"),10),n.centeredSlides?s<a.loopedSlides-r/2||s>a.slides.length-a.loopedSlides+r/2?(a.loopFix(),s=i.children("."+n.slideClass+'[data-swiper-slide-index="'+t+'"]:not(.'+n.slideDuplicateClass+")").eq(0).index(),h.nextTick(function(){a.slideTo(s)})):a.slideTo(s):s>a.slides.length-r?(a.loopFix(),s=i.children("."+n.slideClass+'[data-swiper-slide-index="'+t+'"]:not(.'+n.slideDuplicateClass+")").eq(0).index(),h.nextTick(function(){a.slideTo(s)})):a.slideTo(s)}else a.slideTo(s)}},I={loopCreate:function(){var t=this,a=t.params,i=t.$wrapperEl;i.children("."+a.slideClass+"."+a.slideDuplicateClass).remove();var r=i.children("."+a.slideClass);if(a.loopFillGroupWithBlank){var s=a.slidesPerGroup-r.length%a.slidesPerGroup;if(s!==a.slidesPerGroup){for(var o=0;o<s;o+=1){var l=e(n.createElement("div")).addClass(a.slideClass+" "+a.slideBlankClass);i.append(l)}r=i.children("."+a.slideClass)}}"auto"!==a.slidesPerView||a.loopedSlides||(a.loopedSlides=r.length),t.loopedSlides=parseInt(a.loopedSlides||a.slidesPerView,10),t.loopedSlides+=a.loopAdditionalSlides,t.loopedSlides>r.length&&(t.loopedSlides=r.length);var d=[],u=[];r.each(function(a,n){var i=e(n);a<t.loopedSlides&&u.push(n),a<r.length&&a>=r.length-t.loopedSlides&&d.push(n),i.attr("data-swiper-slide-index",a)});for(var c=0;c<u.length;c+=1)i.append(e(u[c].cloneNode(!0)).addClass(a.slideDuplicateClass));for(var f=d.length-1;f>=0;f-=1)i.prepend(e(d[f].cloneNode(!0)).addClass(a.slideDuplicateClass))},loopFix:function(){var e,t=this.params,a=this.activeIndex,n=this.slides,i=this.loopedSlides,r=this.allowSlidePrev,s=this.allowSlideNext,o=this.snapGrid,l=this.rtlTranslate;this.allowSlidePrev=!0,this.allowSlideNext=!0;var d=-o[a]-this.getTranslate();a<i?(e=n.length-3*i+a,e+=i,this.slideTo(e,0,!1,!0)&&0!==d&&this.setTranslate((l?-this.translate:this.translate)-d)):("auto"===t.slidesPerView&&a>=2*i||a>n.length-2*t.slidesPerView)&&(e=-n.length+a+i,e+=i,this.slideTo(e,0,!1,!0)&&0!==d&&this.setTranslate((l?-this.translate:this.translate)-d)),this.allowSlidePrev=r,this.allowSlideNext=s},loopDestroy:function(){var e=this.$wrapperEl,t=this.params,a=this.slides;e.children("."+t.slideClass+"."+t.slideDuplicateClass).remove(),a.removeAttr("data-swiper-slide-index")}},x={setGrabCursor:function(e){if(!p.touch&&this.params.simulateTouch){var t=this.el;t.style.cursor="move",t.style.cursor=e?"-webkit-grabbing":"-webkit-grab",t.style.cursor=e?"-moz-grabbin":"-moz-grab",t.style.cursor=e?"grabbing":"grab"}},unsetGrabCursor:function(){p.touch||(this.el.style.cursor="")}},D={appendSlide:function(e){var t=this.$wrapperEl,a=this.params;if(a.loop&&this.loopDestroy(),"object"==(void 0===e?"undefined":(0,v.default)(e))&&"length"in e)for(var n=0;n<e.length;n+=1)e[n]&&t.append(e[n]);else t.append(e);a.loop&&this.loopCreate(),a.observer&&p.observer||this.update()},prependSlide:function(e){var t=this.params,a=this.$wrapperEl,n=this.activeIndex;t.loop&&this.loopDestroy();var i=n+1;if("object"==(void 0===e?"undefined":(0,v.default)(e))&&"length"in e){for(var r=0;r<e.length;r+=1)e[r]&&a.prepend(e[r]);i=n+e.length}else a.prepend(e);t.loop&&this.loopCreate(),t.observer&&p.observer||this.update(),this.slideTo(i,0,!1)},removeSlide:function(e){var t=this.params,a=this.$wrapperEl,n=this.activeIndex;t.loop&&(this.loopDestroy(),this.slides=a.children("."+t.slideClass));var i,r=n;if("object"==(void 0===e?"undefined":(0,v.default)(e))&&"length"in e){for(var s=0;s<e.length;s+=1)i=e[s],this.slides[i]&&this.slides.eq(i).remove(),i<r&&(r-=1);r=Math.max(r,0)}else i=e,this.slides[i]&&this.slides.eq(i).remove(),i<r&&(r-=1),r=Math.max(r,0);t.loop&&this.loopCreate(),t.observer&&p.observer||this.update(),t.loop?this.slideTo(r+this.loopedSlides,0,!1):this.slideTo(r,0,!1)},removeAllSlides:function(){for(var e=[],t=0;t<this.slides.length;t+=1)e.push(t);this.removeSlide(e)}},P=function(){var e=i.navigator.userAgent,t={ios:!1,android:!1,androidChrome:!1,desktop:!1,windows:!1,iphone:!1,ipod:!1,ipad:!1,cordova:i.cordova||i.phonegap,phonegap:i.cordova||i.phonegap},a=e.match(/(Windows Phone);?[\s\/]+([\d.]+)?/),r=e.match(/(Android);?[\s\/]+([\d.]+)?/),s=e.match(/(iPad).*OS\s([\d_]+)/),o=e.match(/(iPod)(.*OS\s([\d_]+))?/),l=!s&&e.match(/(iPhone\sOS|iOS)\s([\d_]+)/);if(a&&(t.os="windows",t.osVersion=a[2],t.windows=!0),r&&!a&&(t.os="android",t.osVersion=r[2],t.android=!0,t.androidChrome=e.toLowerCase().indexOf("chrome")>=0),(s||l||o)&&(t.os="ios",t.ios=!0),l&&!o&&(t.osVersion=l[2].replace(/_/g,"."),t.iphone=!0),s&&(t.osVersion=s[2].replace(/_/g,"."),t.ipad=!0),o&&(t.osVersion=o[3]?o[3].replace(/_/g,"."):null,t.iphone=!0),t.ios&&t.osVersion&&e.indexOf("Version/")>=0&&"10"===t.osVersion.split(".")[0]&&(t.osVersion=e.toLowerCase().split("version/")[1].split(" ")[0]),t.desktop=!(t.os||t.android||t.webView),t.webView=(l||s||o)&&e.match(/.*AppleWebKit(?!.*Safari)/i),t.os&&"ios"===t.os){var d=t.osVersion.split("."),u=n.querySelector('meta[name="viewport"]');t.minimalUi=!t.webView&&(o||l)&&(1*d[0]==7?1*d[1]>=1:1*d[0]>7)&&u&&u.getAttribute("content").indexOf("minimal-ui")>=0}return t.pixelRatio=i.devicePixelRatio||1,t}(),k={attachEvents:function(){var t=this.params,r=this.touchEvents,s=this.el,o=this.wrapperEl;this.onTouchStart=function(t){var a=this.touchEventsData,r=this.params,s=this.touches;if(!this.animating||!r.preventIntercationOnTransition){var o=t;if(o.originalEvent&&(o=o.originalEvent),a.isTouchEvent="touchstart"===o.type,(a.isTouchEvent||!("which"in o)||3!==o.which)&&(!a.isTouched||!a.isMoved))if(r.noSwiping&&e(o.target).closest(r.noSwipingSelector?r.noSwipingSelector:"."+r.noSwipingClass)[0])this.allowClick=!0;else if(!r.swipeHandler||e(o).closest(r.swipeHandler)[0]){s.currentX="touchstart"===o.type?o.targetTouches[0].pageX:o.pageX,s.currentY="touchstart"===o.type?o.targetTouches[0].pageY:o.pageY;var l=s.currentX,d=s.currentY;if(!(P.ios&&!P.cordova&&r.iOSEdgeSwipeDetection&&l<=r.iOSEdgeSwipeThreshold&&l>=i.screen.width-r.iOSEdgeSwipeThreshold)){if(h.extend(a,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),s.startX=l,s.startY=d,a.touchStartTime=h.now(),this.allowClick=!0,this.updateSize(),this.swipeDirection=void 0,r.threshold>0&&(a.allowThresholdMove=!1),"touchstart"!==o.type){var u=!0;e(o.target).is(a.formElements)&&(u=!1),n.activeElement&&e(n.activeElement).is(a.formElements)&&n.activeElement!==o.target&&n.activeElement.blur(),u&&this.allowTouchMove&&o.preventDefault()}this.emit("touchStart",o)}}}}.bind(this),this.onTouchMove=function(t){var a=this.touchEventsData,i=this.params,r=this.touches,s=this.rtlTranslate,o=t;if(o.originalEvent&&(o=o.originalEvent),a.isTouched){if(!a.isTouchEvent||"mousemove"!==o.type){var l="touchmove"===o.type?o.targetTouches[0].pageX:o.pageX,d="touchmove"===o.type?o.targetTouches[0].pageY:o.pageY;if(o.preventedByNestedSwiper)return r.startX=l,void(r.startY=d);if(!this.allowTouchMove)return this.allowClick=!1,void(a.isTouched&&(h.extend(r,{startX:l,startY:d,currentX:l,currentY:d}),a.touchStartTime=h.now()));if(a.isTouchEvent&&i.touchReleaseOnEdges&&!i.loop)if(this.isVertical()){if(d<r.startY&&this.translate<=this.maxTranslate()||d>r.startY&&this.translate>=this.minTranslate())return a.isTouched=!1,void(a.isMoved=!1)}else if(l<r.startX&&this.translate<=this.maxTranslate()||l>r.startX&&this.translate>=this.minTranslate())return;if(a.isTouchEvent&&n.activeElement&&o.target===n.activeElement&&e(o.target).is(a.formElements))return a.isMoved=!0,void(this.allowClick=!1);if(a.allowTouchCallbacks&&this.emit("touchMove",o),!(o.targetTouches&&o.targetTouches.length>1)){r.currentX=l,r.currentY=d;var u,c=r.currentX-r.startX,f=r.currentY-r.startY;if(void 0===a.isScrolling&&(this.isHorizontal()&&r.currentY===r.startY||this.isVertical()&&r.currentX===r.startX?a.isScrolling=!1:c*c+f*f>=25&&(u=180*Math.atan2(Math.abs(f),Math.abs(c))/Math.PI,a.isScrolling=this.isHorizontal()?u>i.touchAngle:90-u>i.touchAngle)),a.isScrolling&&this.emit("touchMoveOpposite",o),"undefined"==typeof startMoving&&(r.currentX===r.startX&&r.currentY===r.startY||(a.startMoving=!0)),a.isScrolling)a.isTouched=!1;else if(a.startMoving){this.allowClick=!1,o.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&o.stopPropagation(),a.isMoved||(i.loop&&this.loopFix(),a.startTranslate=this.getTranslate(),this.setTransition(0),this.animating&&this.$wrapperEl.trigger("webkitTransitionEnd transitionend"),a.allowMomentumBounce=!1,!i.grabCursor||!0!==this.allowSlideNext&&!0!==this.allowSlidePrev||this.setGrabCursor(!0),this.emit("sliderFirstMove",o)),this.emit("sliderMove",o),a.isMoved=!0;var m=this.isHorizontal()?c:f;r.diff=m,m*=i.touchRatio,s&&(m=-m),this.swipeDirection=m>0?"prev":"next",a.currentTranslate=m+a.startTranslate;var v=!0,p=i.resistanceRatio;if(i.touchReleaseOnEdges&&(p=0),m>0&&a.currentTranslate>this.minTranslate()?(v=!1,i.resistance&&(a.currentTranslate=this.minTranslate()-1+Math.pow(-this.minTranslate()+a.startTranslate+m,p))):m<0&&a.currentTranslate<this.maxTranslate()&&(v=!1,i.resistance&&(a.currentTranslate=this.maxTranslate()+1-Math.pow(this.maxTranslate()-a.startTranslate-m,p))),v&&(o.preventedByNestedSwiper=!0),!this.allowSlideNext&&"next"===this.swipeDirection&&a.currentTranslate<a.startTranslate&&(a.currentTranslate=a.startTranslate),!this.allowSlidePrev&&"prev"===this.swipeDirection&&a.currentTranslate>a.startTranslate&&(a.currentTranslate=a.startTranslate),i.threshold>0){if(!(Math.abs(m)>i.threshold||a.allowThresholdMove))return void(a.currentTranslate=a.startTranslate);if(!a.allowThresholdMove)return a.allowThresholdMove=!0,r.startX=r.currentX,r.startY=r.currentY,a.currentTranslate=a.startTranslate,void(r.diff=this.isHorizontal()?r.currentX-r.startX:r.currentY-r.startY)}i.followFinger&&((i.freeMode||i.watchSlidesProgress||i.watchSlidesVisibility)&&(this.updateActiveIndex(),this.updateSlidesClasses()),i.freeMode&&(0===a.velocities.length&&a.velocities.push({position:r[this.isHorizontal()?"startX":"startY"],time:a.touchStartTime}),a.velocities.push({position:r[this.isHorizontal()?"currentX":"currentY"],time:h.now()})),this.updateProgress(a.currentTranslate),this.setTranslate(a.currentTranslate))}}}}else a.startMoving&&a.isScrolling&&this.emit("touchMoveOpposite",o)}.bind(this),this.onTouchEnd=function(e){var t=this,a=t.touchEventsData,n=t.params,i=t.touches,r=t.rtlTranslate,s=t.$wrapperEl,o=t.slidesGrid,l=t.snapGrid,d=e;if(d.originalEvent&&(d=d.originalEvent),a.allowTouchCallbacks&&t.emit("touchEnd",d),a.allowTouchCallbacks=!1,!a.isTouched)return a.isMoved&&n.grabCursor&&t.setGrabCursor(!1),a.isMoved=!1,void(a.startMoving=!1);n.grabCursor&&a.isMoved&&a.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);var u,c=h.now(),f=c-a.touchStartTime;if(t.allowClick&&(t.updateClickedSlide(d),t.emit("tap",d),f<300&&c-a.lastClickTime>300&&(a.clickTimeout&&clearTimeout(a.clickTimeout),a.clickTimeout=h.nextTick(function(){t&&!t.destroyed&&t.emit("click",d)},300)),f<300&&c-a.lastClickTime<300&&(a.clickTimeout&&clearTimeout(a.clickTimeout),t.emit("doubleTap",d))),a.lastClickTime=h.now(),h.nextTick(function(){t.destroyed||(t.allowClick=!0)}),!a.isTouched||!a.isMoved||!t.swipeDirection||0===i.diff||a.currentTranslate===a.startTranslate)return a.isTouched=!1,a.isMoved=!1,void(a.startMoving=!1);if(a.isTouched=!1,a.isMoved=!1,a.startMoving=!1,u=n.followFinger?r?t.translate:-t.translate:-a.currentTranslate,n.freeMode){if(u<-t.minTranslate())return void t.slideTo(t.activeIndex);if(u>-t.maxTranslate())return void(t.slides.length<l.length?t.slideTo(l.length-1):t.slideTo(t.slides.length-1));if(n.freeModeMomentum){if(a.velocities.length>1){var m=a.velocities.pop(),v=a.velocities.pop(),p=m.position-v.position,C=m.time-v.time;t.velocity=p/C,t.velocity/=2,Math.abs(t.velocity)<n.freeModeMinimumVelocity&&(t.velocity=0),(C>150||h.now()-m.time>300)&&(t.velocity=0)}else t.velocity=0;t.velocity*=n.freeModeMomentumVelocityRatio,a.velocities.length=0;var _=1e3*n.freeModeMomentumRatio,y=t.velocity*_,b=t.translate+y;r&&(b=-b);var g,w,I=!1,x=20*Math.abs(t.velocity)*n.freeModeMomentumBounceRatio;if(b<t.maxTranslate())n.freeModeMomentumBounce?(b+t.maxTranslate()<-x&&(b=t.maxTranslate()-x),g=t.maxTranslate(),I=!0,a.allowMomentumBounce=!0):b=t.maxTranslate(),n.loop&&n.centeredSlides&&(w=!0);else if(b>t.minTranslate())n.freeModeMomentumBounce?(b-t.minTranslate()>x&&(b=t.minTranslate()+x),g=t.minTranslate(),I=!0,a.allowMomentumBounce=!0):b=t.minTranslate(),n.loop&&n.centeredSlides&&(w=!0);else if(n.freeModeSticky){for(var D,P=0;P<l.length;P+=1)if(l[P]>-b){D=P;break}b=-(b=Math.abs(l[D]-b)<Math.abs(l[D-1]-b)||"next"===t.swipeDirection?l[D]:l[D-1])}if(w&&t.once("transitionEnd",function(){t.loopFix()}),0!==t.velocity)_=r?Math.abs((-b-t.translate)/t.velocity):Math.abs((b-t.translate)/t.velocity);else if(n.freeModeSticky)return void t.slideToClosest();n.freeModeMomentumBounce&&I?(t.updateProgress(g),t.setTransition(_),t.setTranslate(b),t.transitionStart(!0,t.swipeDirection),t.animating=!0,s.transitionEnd(function(){t&&!t.destroyed&&a.allowMomentumBounce&&(t.emit("momentumBounce"),t.setTransition(n.speed),t.setTranslate(g),s.transitionEnd(function(){t&&!t.destroyed&&t.transitionEnd()}))})):t.velocity?(t.updateProgress(b),t.setTransition(_),t.setTranslate(b),t.transitionStart(!0,t.swipeDirection),t.animating||(t.animating=!0,s.transitionEnd(function(){t&&!t.destroyed&&t.transitionEnd()}))):t.updateProgress(b),t.updateActiveIndex(),t.updateSlidesClasses()}else if(n.freeModeSticky)return void t.slideToClosest();(!n.freeModeMomentum||f>=n.longSwipesMs)&&(t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses())}else{for(var k=0,S=t.slidesSizesGrid[0],T=0;T<o.length;T+=n.slidesPerGroup)void 0!==o[T+n.slidesPerGroup]?u>=o[T]&&u<o[T+n.slidesPerGroup]&&(k=T,S=o[T+n.slidesPerGroup]-o[T]):u>=o[T]&&(k=T,S=o[o.length-1]-o[o.length-2]);var L=(u-o[k])/S;if(f>n.longSwipesMs){if(!n.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(L>=n.longSwipesRatio?t.slideTo(k+n.slidesPerGroup):t.slideTo(k)),"prev"===t.swipeDirection&&(L>1-n.longSwipesRatio?t.slideTo(k+n.slidesPerGroup):t.slideTo(k))}else{if(!n.shortSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&t.slideTo(k+n.slidesPerGroup),"prev"===t.swipeDirection&&t.slideTo(k)}}}.bind(this),this.onClick=function(e){this.allowClick||(this.params.preventClicks&&e.preventDefault(),this.params.preventClicksPropagation&&this.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))}.bind(this);var l="container"===t.touchEventsTarget?s:o,d=!!t.nested;if(p.touch||!p.pointerEvents&&!p.prefixedPointerEvents){if(p.touch){var u=!("touchstart"!==r.start||!p.passiveListener||!t.passiveListeners)&&{passive:!0,capture:!1};l.addEventListener(r.start,this.onTouchStart,u),l.addEventListener(r.move,this.onTouchMove,p.passiveListener?{passive:!1,capture:d}:d),l.addEventListener(r.end,this.onTouchEnd,u)}(t.simulateTouch&&!P.ios&&!P.android||t.simulateTouch&&!p.touch&&P.ios)&&(l.addEventListener("mousedown",this.onTouchStart,!1),n.addEventListener("mousemove",this.onTouchMove,d),n.addEventListener("mouseup",this.onTouchEnd,!1))}else l.addEventListener(r.start,this.onTouchStart,!1),n.addEventListener(r.move,this.onTouchMove,d),n.addEventListener(r.end,this.onTouchEnd,!1);(t.preventClicks||t.preventClicksPropagation)&&l.addEventListener("click",this.onClick,!0),this.on("resize observerUpdate",a,!0)},detachEvents:function(){var e=this.params,t=this.touchEvents,i=this.el,r=this.wrapperEl,s="container"===e.touchEventsTarget?i:r,o=!!e.nested;if(p.touch||!p.pointerEvents&&!p.prefixedPointerEvents){if(p.touch){var l=!("onTouchStart"!==t.start||!p.passiveListener||!e.passiveListeners)&&{passive:!0,capture:!1};s.removeEventListener(t.start,this.onTouchStart,l),s.removeEventListener(t.move,this.onTouchMove,o),s.removeEventListener(t.end,this.onTouchEnd,l)}(e.simulateTouch&&!P.ios&&!P.android||e.simulateTouch&&!p.touch&&P.ios)&&(s.removeEventListener("mousedown",this.onTouchStart,!1),n.removeEventListener("mousemove",this.onTouchMove,o),n.removeEventListener("mouseup",this.onTouchEnd,!1))}else s.removeEventListener(t.start,this.onTouchStart,!1),n.removeEventListener(t.move,this.onTouchMove,o),n.removeEventListener(t.end,this.onTouchEnd,!1);(e.preventClicks||e.preventClicksPropagation)&&s.removeEventListener("click",this.onClick,!0),this.off("resize observerUpdate",a)}},S={setBreakpoint:function(){var e=this.activeIndex,t=this.loopedSlides;void 0===t&&(t=0);var a=this.params,n=a.breakpoints;if(n&&(!n||0!==(0,m.default)(n).length)){var i=this.getBreakpoint(n);if(i&&this.currentBreakpoint!==i){var r=i in n?n[i]:this.originalParams,s=a.loop&&r.slidesPerView!==a.slidesPerView;h.extend(this.params,r),h.extend(this,{allowTouchMove:this.params.allowTouchMove,allowSlideNext:this.params.allowSlideNext,allowSlidePrev:this.params.allowSlidePrev}),this.currentBreakpoint=i,s&&(this.loopDestroy(),this.loopCreate(),this.updateSlides(),this.slideTo(e-t+this.loopedSlides,0,!1)),this.emit("breakpoint",r)}}},getBreakpoint:function(e){if(e){var t=!1,a=[];(0,m.default)(e).forEach(function(e){a.push(e)}),a.sort(function(e,t){return parseInt(e,10)-parseInt(t,10)});for(var n=0;n<a.length;n+=1){var r=a[n];r>=i.innerWidth&&!t&&(t=r)}return t||"max"}}},T=function(){return{isIE:!!i.navigator.userAgent.match(/Trident/g)||!!i.navigator.userAgent.match(/MSIE/g),isSafari:(e=i.navigator.userAgent.toLowerCase(),e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(i.navigator.userAgent)};var e}(),L={init:!0,direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,preventIntercationOnTransition:!1,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,watchOverflow:!1,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!0,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0},N={update:y,translate:b,transition:g,slide:w,loop:I,grabCursor:x,manipulation:D,events:k,breakpoints:S,checkOverflow:{checkOverflow:function(){var e=this.isLocked;this.isLocked=1===this.snapGrid.length,this.allowSlideNext=!this.isLocked,this.allowSlidePrev=!this.isLocked,e!==this.isLocked&&this.emit(this.isLocked?"lock":"unlock"),e&&e!==this.isLocked&&(this.isEnd=!1,this.navigation.update())}},classes:{addClasses:function(){var e=this.classNames,t=this.params,a=this.rtl,n=this.$el,i=[];i.push(t.direction),t.freeMode&&i.push("free-mode"),p.flexbox||i.push("no-flexbox"),t.autoHeight&&i.push("autoheight"),a&&i.push("rtl"),t.slidesPerColumn>1&&i.push("multirow"),P.android&&i.push("android"),P.ios&&i.push("ios"),T.isIE&&(p.pointerEvents||p.prefixedPointerEvents)&&i.push("wp8-"+t.direction),i.forEach(function(a){e.push(t.containerModifierClass+a)}),n.addClass(e.join(" "))},removeClasses:function(){var e=this.$el,t=this.classNames;e.removeClass(t.join(" "))}},images:{loadImage:function(e,t,a,n,r,s){function o(){s&&s()}var l;e.complete&&r?o():t?((l=new i.Image).onload=o,l.onerror=o,n&&(l.sizes=n),a&&(l.srcset=a),t&&(l.src=t)):o()},preloadImages:function(){function e(){void 0!==t&&null!==t&&t&&!t.destroyed&&(void 0!==t.imagesLoaded&&(t.imagesLoaded+=1),t.imagesLoaded===t.imagesToLoad.length&&(t.params.updateOnImagesReady&&t.update(),t.emit("imagesReady")))}var t=this;t.imagesToLoad=t.$el.find("img");for(var a=0;a<t.imagesToLoad.length;a+=1){var n=t.imagesToLoad[a];t.loadImage(n,n.currentSrc||n.getAttribute("src"),n.srcset||n.getAttribute("srcset"),n.sizes||n.getAttribute("sizes"),!0,e)}}}},M={},A=function(t){function a(){for(var n,i,r,s=[],o=arguments.length;o--;)s[o]=arguments[o];1===s.length&&s[0].constructor&&s[0].constructor===Object?r=s[0]:(i=(n=s)[0],r=n[1]),r||(r={}),r=h.extend({},r),i&&!r.el&&(r.el=i),t.call(this,r),(0,m.default)(N).forEach(function(e){(0,m.default)(N[e]).forEach(function(t){a.prototype[t]||(a.prototype[t]=N[e][t])})});var l=this;void 0===l.modules&&(l.modules={}),(0,m.default)(l.modules).forEach(function(e){var t=l.modules[e];if(t.params){var a=(0,m.default)(t.params)[0],n=t.params[a];if("object"!=(void 0===n?"undefined":(0,v.default)(n)))return;if(!(a in r&&"enabled"in n))return;!0===r[a]&&(r[a]={enabled:!0}),"object"!=(0,v.default)(r[a])||"enabled"in r[a]||(r[a].enabled=!0),r[a]||(r[a]={enabled:!1})}});var d=h.extend({},L);l.useModulesParams(d),l.params=h.extend({},d,M,r),l.originalParams=h.extend({},l.params),l.passedParams=h.extend({},r),l.$=e;var u=e(l.params.el);if(i=u[0]){if(u.length>1){var c=[];return u.each(function(e,t){var n=h.extend({},r,{el:t});c.push(new a(n))}),c}i.swiper=l,u.data("swiper",l);var f,C,_=u.children("."+l.params.wrapperClass);return h.extend(l,{$el:u,el:i,$wrapperEl:_,wrapperEl:_[0],classNames:[],slides:e(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===l.params.direction},isVertical:function(){return"vertical"===l.params.direction},rtl:"rtl"===i.dir.toLowerCase()||"rtl"===u.css("direction"),rtlTranslate:"horizontal"===l.params.direction&&("rtl"===i.dir.toLowerCase()||"rtl"===u.css("direction")),wrongRTL:"-webkit-box"===_.css("display"),activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,progress:0,velocity:0,animating:!1,allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEvents:(f=["touchstart","touchmove","touchend"],C=["mousedown","mousemove","mouseup"],p.pointerEvents?C=["pointerdown","pointermove","pointerup"]:p.prefixedPointerEvents&&(C=["MSPointerDown","MSPointerMove","MSPointerUp"]),l.touchEventsTouch={start:f[0],move:f[1],end:f[2]},l.touchEventsDesktop={start:C[0],move:C[1],end:C[2]},p.touch||!l.params.simulateTouch?l.touchEventsTouch:l.touchEventsDesktop),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,formElements:"input, select, option, textarea, button, video",lastClickTime:h.now(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.useModules(),l.params.init&&l.init(),l}}t&&(a.__proto__=t),a.prototype=(0,o.default)(t&&t.prototype),a.prototype.constructor=a;var n={extendedDefaults:{configurable:!0},defaults:{configurable:!0},Class:{configurable:!0},$:{configurable:!0}};return a.prototype.slidesPerViewDynamic=function(){var e=this.params,t=this.slides,a=this.slidesGrid,n=this.size,i=this.activeIndex,r=1;if(e.centeredSlides){for(var s,o=t[i].swiperSlideSize,l=i+1;l<t.length;l+=1)t[l]&&!s&&(r+=1,(o+=t[l].swiperSlideSize)>n&&(s=!0));for(var d=i-1;d>=0;d-=1)t[d]&&!s&&(r+=1,(o+=t[d].swiperSlideSize)>n&&(s=!0))}else for(var u=i+1;u<t.length;u+=1)a[u]-a[i]<n&&(r+=1);return r},a.prototype.update=function(){function e(){var e=t.rtlTranslate?-1*t.translate:t.translate,a=Math.min(Math.max(e,t.maxTranslate()),t.minTranslate());t.setTranslate(a),t.updateActiveIndex(),t.updateSlidesClasses()}var t=this;if(t&&!t.destroyed){var a=t.snapGrid,n=t.params;n.breakpoints&&t.setBreakpoint(),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.params.freeMode?(e(),t.params.autoHeight&&t.updateAutoHeight()):(("auto"===t.params.slidesPerView||t.params.slidesPerView>1)&&t.isEnd&&!t.params.centeredSlides?t.slideTo(t.slides.length-1,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0))||e(),n.watchOverflow&&a!==t.snapGrid&&t.checkOverflow(),t.emit("update")}},a.prototype.init=function(){this.initialized||(this.emit("beforeInit"),this.params.breakpoints&&this.setBreakpoint(),this.addClasses(),this.params.loop&&this.loopCreate(),this.updateSize(),this.updateSlides(),this.params.watchOverflow&&this.checkOverflow(),this.params.grabCursor&&this.setGrabCursor(),this.params.preloadImages&&this.preloadImages(),this.params.loop?this.slideTo(this.params.initialSlide+this.loopedSlides,0,this.params.runCallbacksOnInit):this.slideTo(this.params.initialSlide,0,this.params.runCallbacksOnInit),this.attachEvents(),this.initialized=!0,this.emit("init"))},a.prototype.destroy=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);var a=this,n=a.params,i=a.$el,r=a.$wrapperEl,s=a.slides;a.emit("beforeDestroy"),a.initialized=!1,a.detachEvents(),n.loop&&a.loopDestroy(),t&&(a.removeClasses(),i.removeAttr("style"),r.removeAttr("style"),s&&s.length&&s.removeClass([n.slideVisibleClass,n.slideActiveClass,n.slideNextClass,n.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index").removeAttr("data-swiper-column").removeAttr("data-swiper-row")),a.emit("destroy"),(0,m.default)(a.eventsListeners).forEach(function(e){a.off(e)}),!1!==e&&(a.$el[0].swiper=null,a.$el.data("swiper",null),h.deleteProps(a)),a.destroyed=!0},a.extendDefaults=function(e){h.extend(M,e)},n.extendedDefaults.get=function(){return M},n.defaults.get=function(){return L},n.Class.get=function(){return t},n.$.get=function(){return e},(0,d.default)(a,n),a}(C),O={name:"device",proto:{device:P},static:{device:P}},R={name:"support",proto:{support:p},static:{support:p}},j={name:"browser",proto:{browser:T},static:{browser:T}},$={name:"resize",create:function(){var e=this;h.extend(e,{resize:{resizeHandler:function(){e&&!e.destroyed&&e.initialized&&(e.emit("beforeResize"),e.emit("resize"))},orientationChangeHandler:function(){e&&!e.destroyed&&e.initialized&&e.emit("orientationchange")}}})},on:{init:function(){i.addEventListener("resize",this.resize.resizeHandler),i.addEventListener("orientationchange",this.resize.orientationChangeHandler)},destroy:function(){i.removeEventListener("resize",this.resize.resizeHandler),i.removeEventListener("orientationchange",this.resize.orientationChangeHandler)}}},B={func:i.MutationObserver||i.WebkitMutationObserver,attach:function(e,t){void 0===t&&(t={});var a=this,n=new(0,B.func)(function(e){e.forEach(function(e){a.emit("observerUpdate",e)})});n.observe(e,{attributes:void 0===t.attributes||t.attributes,childList:void 0===t.childList||t.childList,characterData:void 0===t.characterData||t.characterData}),a.observer.observers.push(n)},init:function(){if(p.observer&&this.params.observer){if(this.params.observeParents)for(var e=this.$el.parents(),t=0;t<e.length;t+=1)this.observer.attach(e[t]);this.observer.attach(this.$el[0],{childList:!1}),this.observer.attach(this.$wrapperEl[0],{attributes:!1})}},destroy:function(){this.observer.observers.forEach(function(e){e.disconnect()}),this.observer.observers=[]}},E={name:"observer",params:{observer:!1,observeParents:!1},create:function(){h.extend(this,{observer:{init:B.init.bind(this),attach:B.attach.bind(this),destroy:B.destroy.bind(this),observers:[]}})},on:{init:function(){this.observer.init()},destroy:function(){this.observer.destroy()}}},F={update:function(e){function t(){a.updateSlides(),a.updateProgress(),a.updateSlidesClasses(),a.lazy&&a.params.lazy.enabled&&a.lazy.load()}var a=this,n=a.params,i=n.slidesPerView,r=n.slidesPerGroup,s=n.centeredSlides,o=a.virtual,l=o.from,d=o.to,u=o.slides,c=o.slidesGrid,f=o.renderSlide,m=o.offset;a.updateActiveIndex();var v,p,C,_=a.activeIndex||0;v=a.rtlTranslate?"right":a.isHorizontal()?"left":"top",s?(p=Math.floor(i/2)+r,C=Math.floor(i/2)+r):(p=i+(r-1),C=r);var y=Math.max((_||0)-C,0),b=Math.min((_||0)+p,u.length-1),g=(a.slidesGrid[y]||0)-(a.slidesGrid[0]||0);if(h.extend(a.virtual,{from:y,to:b,offset:g,slidesGrid:a.slidesGrid}),l===y&&d===b&&!e)return a.slidesGrid!==c&&g!==m&&a.slides.css(v,g+"px"),void a.updateProgress();if(a.params.virtual.renderExternal)return a.params.virtual.renderExternal.call(a,{offset:g,from:y,to:b,slides:function(){for(var e=[],t=y;t<=b;t+=1)e.push(u[t]);return e}()}),void t();var w=[],I=[];if(e)a.$wrapperEl.find("."+a.params.slideClass).remove();else for(var x=l;x<=d;x+=1)(x<y||x>b)&&a.$wrapperEl.find("."+a.params.slideClass+'[data-swiper-slide-index="'+x+'"]').remove();for(var D=0;D<u.length;D+=1)D>=y&&D<=b&&(void 0===d||e?I.push(D):(D>d&&I.push(D),D<l&&w.push(D)));I.forEach(function(e){a.$wrapperEl.append(f(u[e],e))}),w.sort(function(e,t){return e<t}).forEach(function(e){a.$wrapperEl.prepend(f(u[e],e))}),a.$wrapperEl.children(".swiper-slide").css(v,g+"px"),t()},renderSlide:function(t,a){var n=this.params.virtual;if(n.cache&&this.virtual.cache[a])return this.virtual.cache[a];var i=e(n.renderSlide?n.renderSlide.call(this,t,a):'<div class="'+this.params.slideClass+'" data-swiper-slide-index="'+a+'">'+t+"</div>");return i.attr("data-swiper-slide-index")||i.attr("data-swiper-slide-index",a),n.cache&&(this.virtual.cache[a]=i),i},appendSlide:function(e){this.virtual.slides.push(e),this.virtual.update(!0)},prependSlide:function(e){if(this.virtual.slides.unshift(e),this.params.virtual.cache){var t=this.virtual.cache,a={};(0,m.default)(t).forEach(function(e){a[e+1]=t[e]}),this.virtual.cache=a}this.virtual.update(!0),this.slideNext(0)}},U={name:"virtual",params:{virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null}},create:function(){h.extend(this,{virtual:{update:F.update.bind(this),appendSlide:F.appendSlide.bind(this),prependSlide:F.prependSlide.bind(this),renderSlide:F.renderSlide.bind(this),slides:this.params.virtual.slides,cache:{}}})},on:{beforeInit:function(){if(this.params.virtual.enabled){this.classNames.push(this.params.containerModifierClass+"virtual");var e={watchSlidesProgress:!0};h.extend(this.params,e),h.extend(this.originalParams,e),this.virtual.update()}},setTranslate:function(){this.params.virtual.enabled&&this.virtual.update()}}},q={handle:function(e){var t=this.rtlTranslate,a=e;a.originalEvent&&(a=a.originalEvent);var r=a.keyCode||a.charCode;if(!this.allowSlideNext&&(this.isHorizontal()&&39===r||this.isVertical()&&40===r))return!1;if(!this.allowSlidePrev&&(this.isHorizontal()&&37===r||this.isVertical()&&38===r))return!1;if(!(a.shiftKey||a.altKey||a.ctrlKey||a.metaKey||n.activeElement&&n.activeElement.nodeName&&("input"===n.activeElement.nodeName.toLowerCase()||"textarea"===n.activeElement.nodeName.toLowerCase()))){if(this.params.keyboard.onlyInViewport&&(37===r||39===r||38===r||40===r)){var s=!1;if(this.$el.parents("."+this.params.slideClass).length>0&&0===this.$el.parents("."+this.params.slideActiveClass).length)return;var o=i.innerWidth,l=i.innerHeight,d=this.$el.offset();t&&(d.left-=this.$el[0].scrollLeft);for(var u=[[d.left,d.top],[d.left+this.width,d.top],[d.left,d.top+this.height],[d.left+this.width,d.top+this.height]],c=0;c<u.length;c+=1){var f=u[c];f[0]>=0&&f[0]<=o&&f[1]>=0&&f[1]<=l&&(s=!0)}if(!s)return}this.isHorizontal()?(37!==r&&39!==r||(a.preventDefault?a.preventDefault():a.returnValue=!1),(39===r&&!t||37===r&&t)&&this.slideNext(),(37===r&&!t||39===r&&t)&&this.slidePrev()):(38!==r&&40!==r||(a.preventDefault?a.preventDefault():a.returnValue=!1),40===r&&this.slideNext(),38===r&&this.slidePrev()),this.emit("keyPress",r)}},enable:function(){this.keyboard.enabled||(e(n).on("keydown",this.keyboard.handle),this.keyboard.enabled=!0)},disable:function(){this.keyboard.enabled&&(e(n).off("keydown",this.keyboard.handle),this.keyboard.enabled=!1)}},Q={name:"keyboard",params:{keyboard:{enabled:!1,onlyInViewport:!0}},create:function(){h.extend(this,{keyboard:{enabled:!1,enable:q.enable.bind(this),disable:q.disable.bind(this),handle:q.handle.bind(this)}})},on:{init:function(){this.params.keyboard.enabled&&this.keyboard.enable()},destroy:function(){this.keyboard.enabled&&this.keyboard.disable()}}},H={lastScrollTime:h.now(),event:i.navigator.userAgent.indexOf("firefox")>-1?"DOMMouseScroll":function(){var e="onwheel"in n;if(!e){var t=n.createElement("div");t.setAttribute("onwheel","return;"),e="function"==typeof t.onwheel}return!e&&n.implementation&&n.implementation.hasFeature&&!0!==n.implementation.hasFeature("","")&&(e=n.implementation.hasFeature("Events.wheel","3.0")),e}()?"wheel":"mousewheel",normalize:function(e){var t=0,a=0,n=0,i=0;return"detail"in e&&(a=e.detail),"wheelDelta"in e&&(a=-e.wheelDelta/120),"wheelDeltaY"in e&&(a=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=a,a=0),n=10*t,i=10*a,"deltaY"in e&&(i=e.deltaY),"deltaX"in e&&(n=e.deltaX),(n||i)&&e.deltaMode&&(1===e.deltaMode?(n*=40,i*=40):(n*=800,i*=800)),n&&!t&&(t=n<1?-1:1),i&&!a&&(a=i<1?-1:1),{spinX:t,spinY:a,pixelX:n,pixelY:i}},handleMouseEnter:function(){this.mouseEntered=!0},handleMouseLeave:function(){this.mouseEntered=!1},handle:function(e){var t=e,a=this,n=a.params.mousewheel;if(!a.mouseEntered&&!n.releaseOnEdges)return!0;t.originalEvent&&(t=t.originalEvent);var r=0,s=a.rtlTranslate?-1:1,o=H.normalize(t);if(n.forceToAxis)if(a.isHorizontal()){if(!(Math.abs(o.pixelX)>Math.abs(o.pixelY)))return!0;r=o.pixelX*s}else{if(!(Math.abs(o.pixelY)>Math.abs(o.pixelX)))return!0;r=o.pixelY}else r=Math.abs(o.pixelX)>Math.abs(o.pixelY)?-o.pixelX*s:-o.pixelY;if(0===r)return!0;if(n.invert&&(r=-r),a.params.freeMode){a.params.loop&&a.loopFix();var l=a.getTranslate()+r*n.sensitivity,d=a.isBeginning,u=a.isEnd;if(l>=a.minTranslate()&&(l=a.minTranslate()),l<=a.maxTranslate()&&(l=a.maxTranslate()),a.setTransition(0),a.setTranslate(l),a.updateProgress(),a.updateActiveIndex(),a.updateSlidesClasses(),(!d&&a.isBeginning||!u&&a.isEnd)&&a.updateSlidesClasses(),a.params.freeModeSticky&&(clearTimeout(a.mousewheel.timeout),a.mousewheel.timeout=h.nextTick(function(){a.slideToClosest()},300)),a.emit("scroll",t),a.params.autoplay&&a.params.autoplayDisableOnInteraction&&a.stopAutoplay(),l===a.minTranslate()||l===a.maxTranslate())return!0}else{if(h.now()-a.mousewheel.lastScrollTime>60)if(r<0)if(a.isEnd&&!a.params.loop||a.animating){if(n.releaseOnEdges)return!0}else a.slideNext(),a.emit("scroll",t);else if(a.isBeginning&&!a.params.loop||a.animating){if(n.releaseOnEdges)return!0}else a.slidePrev(),a.emit("scroll",t);a.mousewheel.lastScrollTime=(new i.Date).getTime()}return t.preventDefault?t.preventDefault():t.returnValue=!1,!1},enable:function(){if(!H.event)return!1;if(this.mousewheel.enabled)return!1;var t=this.$el;return"container"!==this.params.mousewheel.eventsTarged&&(t=e(this.params.mousewheel.eventsTarged)),t.on("mouseenter",this.mousewheel.handleMouseEnter),t.on("mouseleave",this.mousewheel.handleMouseLeave),t.on(H.event,this.mousewheel.handle),this.mousewheel.enabled=!0,!0},disable:function(){if(!H.event)return!1;if(!this.mousewheel.enabled)return!1;var t=this.$el;return"container"!==this.params.mousewheel.eventsTarged&&(t=e(this.params.mousewheel.eventsTarged)),t.off(H.event,this.mousewheel.handle),this.mousewheel.enabled=!1,!0}},V={update:function(){var e=this.params.navigation;if(!this.params.loop){var t=this.navigation,a=t.$nextEl,n=t.$prevEl;n&&n.length>0&&(this.isBeginning?n.addClass(e.disabledClass):n.removeClass(e.disabledClass),n[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](e.lockClass)),a&&a.length>0&&(this.isEnd?a.addClass(e.disabledClass):a.removeClass(e.disabledClass),a[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](e.lockClass))}},init:function(){var t,a,n=this,i=n.params.navigation;(i.nextEl||i.prevEl)&&(i.nextEl&&(t=e(i.nextEl),n.params.uniqueNavElements&&"string"==typeof i.nextEl&&t.length>1&&1===n.$el.find(i.nextEl).length&&(t=n.$el.find(i.nextEl))),i.prevEl&&(a=e(i.prevEl),n.params.uniqueNavElements&&"string"==typeof i.prevEl&&a.length>1&&1===n.$el.find(i.prevEl).length&&(a=n.$el.find(i.prevEl))),t&&t.length>0&&t.on("click",function(e){e.preventDefault(),n.isEnd&&!n.params.loop||n.slideNext()}),a&&a.length>0&&a.on("click",function(e){e.preventDefault(),n.isBeginning&&!n.params.loop||n.slidePrev()}),h.extend(n.navigation,{$nextEl:t,nextEl:t&&t[0],$prevEl:a,prevEl:a&&a[0]}))},destroy:function(){var e=this.navigation,t=e.$nextEl,a=e.$prevEl;t&&t.length&&(t.off("click"),t.removeClass(this.params.navigation.disabledClass)),a&&a.length&&(a.off("click"),a.removeClass(this.params.navigation.disabledClass))}},X={update:function(){var t=this.rtl,a=this.params.pagination;if(a.el&&this.pagination.el&&this.pagination.$el&&0!==this.pagination.$el.length){var n,i=this.virtual&&this.params.virtual.enabled?this.virtual.slides.length:this.slides.length,r=this.pagination.$el,s=this.params.loop?Math.ceil((i-2*this.loopedSlides)/this.params.slidesPerGroup):this.snapGrid.length;if(this.params.loop?((n=Math.ceil((this.activeIndex-this.loopedSlides)/this.params.slidesPerGroup))>i-1-2*this.loopedSlides&&(n-=i-2*this.loopedSlides),n>s-1&&(n-=s),n<0&&"bullets"!==this.params.paginationType&&(n=s+n)):n=void 0!==this.snapIndex?this.snapIndex:this.activeIndex||0,"bullets"===a.type&&this.pagination.bullets&&this.pagination.bullets.length>0){var o,l,d,u=this.pagination.bullets;if(a.dynamicBullets&&(this.pagination.bulletSize=u.eq(0)[this.isHorizontal()?"outerWidth":"outerHeight"](!0),r.css(this.isHorizontal()?"width":"height",this.pagination.bulletSize*(a.dynamicMainBullets+4)+"px"),a.dynamicMainBullets>1&&void 0!==this.previousIndex&&(this.pagination.dynamicBulletIndex+=n-this.previousIndex,this.pagination.dynamicBulletIndex>a.dynamicMainBullets-1?this.pagination.dynamicBulletIndex=a.dynamicMainBullets-1:this.pagination.dynamicBulletIndex<0&&(this.pagination.dynamicBulletIndex=0)),o=n-this.pagination.dynamicBulletIndex,d=((l=o+(Math.min(u.length,a.dynamicMainBullets)-1))+o)/2),u.removeClass(a.bulletActiveClass+" "+a.bulletActiveClass+"-next "+a.bulletActiveClass+"-next-next "+a.bulletActiveClass+"-prev "+a.bulletActiveClass+"-prev-prev "+a.bulletActiveClass+"-main"),r.length>1)u.each(function(t,i){var r=e(i),s=r.index();s===n&&r.addClass(a.bulletActiveClass),a.dynamicBullets&&(s>=o&&s<=l&&r.addClass(a.bulletActiveClass+"-main"),s===o&&r.prev().addClass(a.bulletActiveClass+"-prev").prev().addClass(a.bulletActiveClass+"-prev-prev"),s===l&&r.next().addClass(a.bulletActiveClass+"-next").next().addClass(a.bulletActiveClass+"-next-next"))});else if(u.eq(n).addClass(a.bulletActiveClass),a.dynamicBullets){for(var c=u.eq(o),f=u.eq(l),m=o;m<=l;m+=1)u.eq(m).addClass(a.bulletActiveClass+"-main");c.prev().addClass(a.bulletActiveClass+"-prev").prev().addClass(a.bulletActiveClass+"-prev-prev"),f.next().addClass(a.bulletActiveClass+"-next").next().addClass(a.bulletActiveClass+"-next-next")}if(a.dynamicBullets){var h=Math.min(u.length,a.dynamicMainBullets+4),v=(this.pagination.bulletSize*h-this.pagination.bulletSize)/2-d*this.pagination.bulletSize,p=t?"right":"left";u.css(this.isHorizontal()?p:"top",v+"px")}}if("fraction"===a.type&&(r.find("."+a.currentClass).text(n+1),r.find("."+a.totalClass).text(s)),"progressbar"===a.type){var C;C=a.progressbarOpposite?this.isHorizontal()?"vertical":"horizontal":this.isHorizontal()?"horizontal":"vertical";var _=(n+1)/s,y=1,b=1;"horizontal"===C?y=_:b=_,r.find("."+a.progressbarFillClass).transform("translate3d(0,0,0) scaleX("+y+") scaleY("+b+")").transition(this.params.speed)}"custom"===a.type&&a.renderCustom?(r.html(a.renderCustom(this,n+1,s)),this.emit("paginationRender",this,r[0])):this.emit("paginationUpdate",this,r[0]),r[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](a.lockClass)}},render:function(){var e=this.params.pagination;if(e.el&&this.pagination.el&&this.pagination.$el&&0!==this.pagination.$el.length){var t=this.virtual&&this.params.virtual.enabled?this.virtual.slides.length:this.slides.length,a=this.pagination.$el,n="";if("bullets"===e.type){for(var i=this.params.loop?Math.ceil((t-2*this.loopedSlides)/this.params.slidesPerGroup):this.snapGrid.length,r=0;r<i;r+=1)e.renderBullet?n+=e.renderBullet.call(this,r,e.bulletClass):n+="<"+e.bulletElement+' class="'+e.bulletClass+'"></'+e.bulletElement+">";a.html(n),this.pagination.bullets=a.find("."+e.bulletClass)}"fraction"===e.type&&(n=e.renderFraction?e.renderFraction.call(this,e.currentClass,e.totalClass):'<span class="'+e.currentClass+'"></span> / <span class="'+e.totalClass+'"></span>',a.html(n)),"progressbar"===e.type&&(n=e.renderProgressbar?e.renderProgressbar.call(this,e.progressbarFillClass):'<span class="'+e.progressbarFillClass+'"></span>',a.html(n)),"custom"!==e.type&&this.emit("paginationRender",this.pagination.$el[0])}},init:function(){var t=this,a=t.params.pagination;if(a.el){var n=e(a.el);0!==n.length&&(t.params.uniqueNavElements&&"string"==typeof a.el&&n.length>1&&1===t.$el.find(a.el).length&&(n=t.$el.find(a.el)),"bullets"===a.type&&a.clickable&&n.addClass(a.clickableClass),n.addClass(a.modifierClass+a.type),"bullets"===a.type&&a.dynamicBullets&&(n.addClass(""+a.modifierClass+a.type+"-dynamic"),t.pagination.dynamicBulletIndex=0,a.dynamicMainBullets<1&&(a.dynamicMainBullets=1)),"progressbar"===a.type&&a.progressbarOpposite&&n.addClass(a.progressbarOppositeClass),a.clickable&&n.on("click","."+a.bulletClass,function(a){a.preventDefault();var n=e(this).index()*t.params.slidesPerGroup;t.params.loop&&(n+=t.loopedSlides),t.slideTo(n)}),h.extend(t.pagination,{$el:n,el:n[0]}))}},destroy:function(){var e=this.params.pagination;if(e.el&&this.pagination.el&&this.pagination.$el&&0!==this.pagination.$el.length){var t=this.pagination.$el;t.removeClass(e.hiddenClass),t.removeClass(e.modifierClass+e.type),this.pagination.bullets&&this.pagination.bullets.removeClass(e.bulletActiveClass),e.clickable&&t.off("click","."+e.bulletClass)}}},z={setTranslate:function(){if(this.params.scrollbar.el&&this.scrollbar.el){var e=this.scrollbar,t=this.rtlTranslate,a=this.progress,n=e.dragSize,i=e.trackSize,r=e.$dragEl,s=e.$el,o=this.params.scrollbar,l=n,d=(i-n)*a;t?(d=-d)>0?(l=n-d,d=0):-d+n>i&&(l=i+d):d<0?(l=n+d,d=0):d+n>i&&(l=i-d),this.isHorizontal()?(p.transforms3d?r.transform("translate3d("+d+"px, 0, 0)"):r.transform("translateX("+d+"px)"),r[0].style.width=l+"px"):(p.transforms3d?r.transform("translate3d(0px, "+d+"px, 0)"):r.transform("translateY("+d+"px)"),r[0].style.height=l+"px"),o.hide&&(clearTimeout(this.scrollbar.timeout),s[0].style.opacity=1,this.scrollbar.timeout=setTimeout(function(){s[0].style.opacity=0,s.transition(400)},1e3))}},setTransition:function(e){this.params.scrollbar.el&&this.scrollbar.el&&this.scrollbar.$dragEl.transition(e)},updateSize:function(){if(this.params.scrollbar.el&&this.scrollbar.el){var e=this.scrollbar,t=e.$dragEl,a=e.$el;t[0].style.width="",t[0].style.height="";var n,i=this.isHorizontal()?a[0].offsetWidth:a[0].offsetHeight,r=this.size/this.virtualSize,s=r*(i/this.size);n="auto"===this.params.scrollbar.dragSize?i*r:parseInt(this.params.scrollbar.dragSize,10),this.isHorizontal()?t[0].style.width=n+"px":t[0].style.height=n+"px",a[0].style.display=r>=1?"none":"",this.params.scrollbarHide&&(a[0].style.opacity=0),h.extend(e,{trackSize:i,divider:r,moveDivider:s,dragSize:n}),e.$el[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](this.params.scrollbar.lockClass)}},setDragPosition:function(e){var t,a=this.scrollbar,n=this.rtlTranslate,i=a.$el,r=a.dragSize,s=a.trackSize;t=((this.isHorizontal()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageX:e.pageX||e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageY:e.pageY||e.clientY)-i.offset()[this.isHorizontal()?"left":"top"]-r/2)/(s-r),t=Math.max(Math.min(t,1),0),n&&(t=1-t);var o=this.minTranslate()+(this.maxTranslate()-this.minTranslate())*t;this.updateProgress(o),this.setTranslate(o),this.updateActiveIndex(),this.updateSlidesClasses()},onDragStart:function(e){var t=this.params.scrollbar,a=this.scrollbar,n=this.$wrapperEl,i=a.$el,r=a.$dragEl;this.scrollbar.isTouched=!0,e.preventDefault(),e.stopPropagation(),n.transition(100),r.transition(100),a.setDragPosition(e),clearTimeout(this.scrollbar.dragTimeout),i.transition(0),t.hide&&i.css("opacity",1),this.emit("scrollbarDragStart",e)},onDragMove:function(e){var t=this.scrollbar,a=this.$wrapperEl,n=t.$el,i=t.$dragEl;this.scrollbar.isTouched&&(e.preventDefault?e.preventDefault():e.returnValue=!1,t.setDragPosition(e),a.transition(0),n.transition(0),i.transition(0),this.emit("scrollbarDragMove",e))},onDragEnd:function(e){var t=this.params.scrollbar,a=this.scrollbar.$el;this.scrollbar.isTouched&&(this.scrollbar.isTouched=!1,t.hide&&(clearTimeout(this.scrollbar.dragTimeout),this.scrollbar.dragTimeout=h.nextTick(function(){a.css("opacity",0),a.transition(400)},1e3)),this.emit("scrollbarDragEnd",e),t.snapOnRelease&&this.slideToClosest())},enableDraggable:function(){if(this.params.scrollbar.el){var e=this.scrollbar,t=this.touchEvents,a=this.touchEventsDesktop,i=this.params,r=e.$el[0],s=!(!p.passiveListener||!i.passiveListener)&&{passive:!1,capture:!1},o=!(!p.passiveListener||!i.passiveListener)&&{passive:!0,capture:!1};p.touch||!p.pointerEvents&&!p.prefixedPointerEvents?(p.touch&&(r.addEventListener(t.start,this.scrollbar.onDragStart,s),r.addEventListener(t.move,this.scrollbar.onDragMove,s),r.addEventListener(t.end,this.scrollbar.onDragEnd,o)),(i.simulateTouch&&!P.ios&&!P.android||i.simulateTouch&&!p.touch&&P.ios)&&(r.addEventListener("mousedown",this.scrollbar.onDragStart,s),n.addEventListener("mousemove",this.scrollbar.onDragMove,s),n.addEventListener("mouseup",this.scrollbar.onDragEnd,o))):(r.addEventListener(a.start,this.scrollbar.onDragStart,s),n.addEventListener(a.move,this.scrollbar.onDragMove,s),n.addEventListener(a.end,this.scrollbar.onDragEnd,o))}},disableDraggable:function(){if(this.params.scrollbar.el){var e=this.scrollbar,t=this.touchEvents,a=this.touchEventsDesktop,i=this.params,r=e.$el[0],s=!(!p.passiveListener||!i.passiveListener)&&{passive:!1,capture:!1},o=!(!p.passiveListener||!i.passiveListener)&&{passive:!0,capture:!1};p.touch||!p.pointerEvents&&!p.prefixedPointerEvents?(p.touch&&(r.removeEventListener(t.start,this.scrollbar.onDragStart,s),r.removeEventListener(t.move,this.scrollbar.onDragMove,s),r.removeEventListener(t.end,this.scrollbar.onDragEnd,o)),(i.simulateTouch&&!P.ios&&!P.android||i.simulateTouch&&!p.touch&&P.ios)&&(r.removeEventListener("mousedown",this.scrollbar.onDragStart,s),n.removeEventListener("mousemove",this.scrollbar.onDragMove,s),n.removeEventListener("mouseup",this.scrollbar.onDragEnd,o))):(r.removeEventListener(a.start,this.scrollbar.onDragStart,s),n.removeEventListener(a.move,this.scrollbar.onDragMove,s),n.removeEventListener(a.end,this.scrollbar.onDragEnd,o))}},init:function(){if(this.params.scrollbar.el){var t=this.scrollbar,a=this.$el,n=this.params.scrollbar,i=e(n.el);this.params.uniqueNavElements&&"string"==typeof n.el&&i.length>1&&1===a.find(n.el).length&&(i=a.find(n.el));var r=i.find("."+this.params.scrollbar.dragClass);0===r.length&&(r=e('<div class="'+this.params.scrollbar.dragClass+'"></div>'),i.append(r)),h.extend(t,{$el:i,el:i[0],$dragEl:r,dragEl:r[0]}),n.draggable&&t.enableDraggable()}},destroy:function(){this.scrollbar.disableDraggable()}},Y={setTransform:function(t,a){var n=this.rtl,i=e(t),r=n?-1:1,s=i.attr("data-swiper-parallax")||"0",o=i.attr("data-swiper-parallax-x"),l=i.attr("data-swiper-parallax-y"),d=i.attr("data-swiper-parallax-scale"),u=i.attr("data-swiper-parallax-opacity");if(o||l?(o=o||"0",l=l||"0"):this.isHorizontal()?(o=s,l="0"):(l=s,o="0"),o=o.indexOf("%")>=0?parseInt(o,10)*a*r+"%":o*a*r+"px",l=l.indexOf("%")>=0?parseInt(l,10)*a+"%":l*a+"px",void 0!==u&&null!==u){var c=u-(u-1)*(1-Math.abs(a));i[0].style.opacity=c}if(void 0===d||null===d)i.transform("translate3d("+o+", "+l+", 0px)");else{var f=d-(d-1)*(1-Math.abs(a));i.transform("translate3d("+o+", "+l+", 0px) scale("+f+")")}},setTranslate:function(){var t=this,a=t.$el,n=t.slides,i=t.progress,r=t.snapGrid;a.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(e,a){t.parallax.setTransform(a,i)}),n.each(function(a,n){var s=n.progress;t.params.slidesPerGroup>1&&"auto"!==t.params.slidesPerView&&(s+=Math.ceil(a/2)-i*(r.length-1)),s=Math.min(Math.max(s,-1),1),e(n).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(e,a){t.parallax.setTransform(a,s)})})},setTransition:function(t){void 0===t&&(t=this.params.speed),this.$el.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(a,n){var i=e(n),r=parseInt(i.attr("data-swiper-parallax-duration"),10)||t;0===t&&(r=0),i.transition(r)})}},W={getDistanceBetweenTouches:function(e){if(e.targetTouches.length<2)return 1;var t=e.targetTouches[0].pageX,a=e.targetTouches[0].pageY,n=e.targetTouches[1].pageX,i=e.targetTouches[1].pageY;return Math.sqrt(Math.pow(n-t,2)+Math.pow(i-a,2))},onGestureStart:function(t){var a=this.params.zoom,n=this.zoom,i=n.gesture;if(n.fakeGestureTouched=!1,n.fakeGestureMoved=!1,!p.gestures){if("touchstart"!==t.type||"touchstart"===t.type&&t.targetTouches.length<2)return;n.fakeGestureTouched=!0,i.scaleStart=W.getDistanceBetweenTouches(t)}i.$slideEl&&i.$slideEl.length||(i.$slideEl=e(t.target).closest(".swiper-slide"),0===i.$slideEl.length&&(i.$slideEl=this.slides.eq(this.activeIndex)),i.$imageEl=i.$slideEl.find("img, svg, canvas"),i.$imageWrapEl=i.$imageEl.parent("."+a.containerClass),i.maxRatio=i.$imageWrapEl.attr("data-swiper-zoom")||a.maxRatio,0!==i.$imageWrapEl.length)?(i.$imageEl.transition(0),this.zoom.isScaling=!0):i.$imageEl=void 0},onGestureChange:function(e){var t=this.params.zoom,a=this.zoom,n=a.gesture;if(!p.gestures){if("touchmove"!==e.type||"touchmove"===e.type&&e.targetTouches.length<2)return;a.fakeGestureMoved=!0,n.scaleMove=W.getDistanceBetweenTouches(e)}n.$imageEl&&0!==n.$imageEl.length&&(p.gestures?this.zoom.scale=e.scale*a.currentScale:a.scale=n.scaleMove/n.scaleStart*a.currentScale,a.scale>n.maxRatio&&(a.scale=n.maxRatio-1+Math.pow(a.scale-n.maxRatio+1,.5)),a.scale<t.minRatio&&(a.scale=t.minRatio+1-Math.pow(t.minRatio-a.scale+1,.5)),n.$imageEl.transform("translate3d(0,0,0) scale("+a.scale+")"))},onGestureEnd:function(e){var t=this.params.zoom,a=this.zoom,n=a.gesture;if(!p.gestures){if(!a.fakeGestureTouched||!a.fakeGestureMoved)return;if("touchend"!==e.type||"touchend"===e.type&&e.changedTouches.length<2&&!P.android)return;a.fakeGestureTouched=!1,a.fakeGestureMoved=!1}n.$imageEl&&0!==n.$imageEl.length&&(a.scale=Math.max(Math.min(a.scale,n.maxRatio),t.minRatio),n.$imageEl.transition(this.params.speed).transform("translate3d(0,0,0) scale("+a.scale+")"),a.currentScale=a.scale,a.isScaling=!1,1===a.scale&&(n.$slideEl=void 0))},onTouchStart:function(e){var t=this.zoom,a=t.gesture,n=t.image;a.$imageEl&&0!==a.$imageEl.length&&(n.isTouched||(P.android&&e.preventDefault(),n.isTouched=!0,n.touchesStart.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,n.touchesStart.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY))},onTouchMove:function(e){var t=this.zoom,a=t.gesture,n=t.image,i=t.velocity;if(a.$imageEl&&0!==a.$imageEl.length&&(this.allowClick=!1,n.isTouched&&a.$slideEl)){n.isMoved||(n.width=a.$imageEl[0].offsetWidth,n.height=a.$imageEl[0].offsetHeight,n.startX=h.getTranslate(a.$imageWrapEl[0],"x")||0,n.startY=h.getTranslate(a.$imageWrapEl[0],"y")||0,a.slideWidth=a.$slideEl[0].offsetWidth,a.slideHeight=a.$slideEl[0].offsetHeight,a.$imageWrapEl.transition(0),this.rtl&&(n.startX=-n.startX,n.startY=-n.startY));var r=n.width*t.scale,s=n.height*t.scale;if(!(r<a.slideWidth&&s<a.slideHeight)){if(n.minX=Math.min(a.slideWidth/2-r/2,0),n.maxX=-n.minX,n.minY=Math.min(a.slideHeight/2-s/2,0),n.maxY=-n.minY,n.touchesCurrent.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,n.touchesCurrent.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,!n.isMoved&&!t.isScaling){if(this.isHorizontal()&&(Math.floor(n.minX)===Math.floor(n.startX)&&n.touchesCurrent.x<n.touchesStart.x||Math.floor(n.maxX)===Math.floor(n.startX)&&n.touchesCurrent.x>n.touchesStart.x))return void(n.isTouched=!1);if(!this.isHorizontal()&&(Math.floor(n.minY)===Math.floor(n.startY)&&n.touchesCurrent.y<n.touchesStart.y||Math.floor(n.maxY)===Math.floor(n.startY)&&n.touchesCurrent.y>n.touchesStart.y))return void(n.isTouched=!1)}e.preventDefault(),e.stopPropagation(),n.isMoved=!0,n.currentX=n.touchesCurrent.x-n.touchesStart.x+n.startX,n.currentY=n.touchesCurrent.y-n.touchesStart.y+n.startY,n.currentX<n.minX&&(n.currentX=n.minX+1-Math.pow(n.minX-n.currentX+1,.8)),n.currentX>n.maxX&&(n.currentX=n.maxX-1+Math.pow(n.currentX-n.maxX+1,.8)),n.currentY<n.minY&&(n.currentY=n.minY+1-Math.pow(n.minY-n.currentY+1,.8)),n.currentY>n.maxY&&(n.currentY=n.maxY-1+Math.pow(n.currentY-n.maxY+1,.8)),i.prevPositionX||(i.prevPositionX=n.touchesCurrent.x),i.prevPositionY||(i.prevPositionY=n.touchesCurrent.y),i.prevTime||(i.prevTime=Date.now()),i.x=(n.touchesCurrent.x-i.prevPositionX)/(Date.now()-i.prevTime)/2,i.y=(n.touchesCurrent.y-i.prevPositionY)/(Date.now()-i.prevTime)/2,Math.abs(n.touchesCurrent.x-i.prevPositionX)<2&&(i.x=0),Math.abs(n.touchesCurrent.y-i.prevPositionY)<2&&(i.y=0),i.prevPositionX=n.touchesCurrent.x,i.prevPositionY=n.touchesCurrent.y,i.prevTime=Date.now(),a.$imageWrapEl.transform("translate3d("+n.currentX+"px, "+n.currentY+"px,0)")}}},onTouchEnd:function(){var e=this.zoom,t=e.gesture,a=e.image,n=e.velocity;if(t.$imageEl&&0!==t.$imageEl.length){if(!a.isTouched||!a.isMoved)return a.isTouched=!1,void(a.isMoved=!1);a.isTouched=!1,a.isMoved=!1;var i=300,r=300,s=n.x*i,o=a.currentX+s,l=n.y*r,d=a.currentY+l;0!==n.x&&(i=Math.abs((o-a.currentX)/n.x)),0!==n.y&&(r=Math.abs((d-a.currentY)/n.y));var u=Math.max(i,r);a.currentX=o,a.currentY=d;var c=a.width*e.scale,f=a.height*e.scale;a.minX=Math.min(t.slideWidth/2-c/2,0),a.maxX=-a.minX,a.minY=Math.min(t.slideHeight/2-f/2,0),a.maxY=-a.minY,a.currentX=Math.max(Math.min(a.currentX,a.maxX),a.minX),a.currentY=Math.max(Math.min(a.currentY,a.maxY),a.minY),t.$imageWrapEl.transition(u).transform("translate3d("+a.currentX+"px, "+a.currentY+"px,0)")}},onTransitionEnd:function(){var e=this.zoom,t=e.gesture;t.$slideEl&&this.previousIndex!==this.activeIndex&&(t.$imageEl.transform("translate3d(0,0,0) scale(1)"),t.$imageWrapEl.transform("translate3d(0,0,0)"),t.$slideEl=void 0,t.$imageEl=void 0,t.$imageWrapEl=void 0,e.scale=1,e.currentScale=1)},toggle:function(e){var t=this.zoom;t.scale&&1!==t.scale?t.out():t.in(e)},in:function(t){var a,n,i,r,s,o,l,d,u,c,f,m,h,v,p,C,_=this.zoom,y=this.params.zoom,b=_.gesture,g=_.image;b.$slideEl||(b.$slideEl=this.clickedSlide?e(this.clickedSlide):this.slides.eq(this.activeIndex),b.$imageEl=b.$slideEl.find("img, svg, canvas"),b.$imageWrapEl=b.$imageEl.parent("."+y.containerClass)),b.$imageEl&&0!==b.$imageEl.length&&(b.$slideEl.addClass(""+y.zoomedSlideClass),void 0===g.touchesStart.x&&t?(a="touchend"===t.type?t.changedTouches[0].pageX:t.pageX,n="touchend"===t.type?t.changedTouches[0].pageY:t.pageY):(a=g.touchesStart.x,n=g.touchesStart.y),_.scale=b.$imageWrapEl.attr("data-swiper-zoom")||y.maxRatio,_.currentScale=b.$imageWrapEl.attr("data-swiper-zoom")||y.maxRatio,t?(p=b.$slideEl[0].offsetWidth,C=b.$slideEl[0].offsetHeight,i=b.$slideEl.offset().left+p/2-a,r=b.$slideEl.offset().top+C/2-n,l=b.$imageEl[0].offsetWidth,d=b.$imageEl[0].offsetHeight,u=l*_.scale,c=d*_.scale,h=-(f=Math.min(p/2-u/2,0)),v=-(m=Math.min(C/2-c/2,0)),s=i*_.scale,o=r*_.scale,s<f&&(s=f),s>h&&(s=h),o<m&&(o=m),o>v&&(o=v)):(s=0,o=0),b.$imageWrapEl.transition(300).transform("translate3d("+s+"px, "+o+"px,0)"),b.$imageEl.transition(300).transform("translate3d(0,0,0) scale("+_.scale+")"))},out:function(){var t=this.zoom,a=this.params.zoom,n=t.gesture;n.$slideEl||(n.$slideEl=this.clickedSlide?e(this.clickedSlide):this.slides.eq(this.activeIndex),n.$imageEl=n.$slideEl.find("img, svg, canvas"),n.$imageWrapEl=n.$imageEl.parent("."+a.containerClass)),n.$imageEl&&0!==n.$imageEl.length&&(t.scale=1,t.currentScale=1,n.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),n.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),n.$slideEl.removeClass(""+a.zoomedSlideClass),n.$slideEl=void 0)},enable:function(){var e=this.zoom;if(!e.enabled){e.enabled=!0;var t=!("touchstart"!==this.touchEvents.start||!p.passiveListener||!this.params.passiveListeners)&&{passive:!0,capture:!1};p.gestures?(this.$wrapperEl.on("gesturestart",".swiper-slide",e.onGestureStart,t),this.$wrapperEl.on("gesturechange",".swiper-slide",e.onGestureChange,t),this.$wrapperEl.on("gestureend",".swiper-slide",e.onGestureEnd,t)):"touchstart"===this.touchEvents.start&&(this.$wrapperEl.on(this.touchEvents.start,".swiper-slide",e.onGestureStart,t),this.$wrapperEl.on(this.touchEvents.move,".swiper-slide",e.onGestureChange,t),this.$wrapperEl.on(this.touchEvents.end,".swiper-slide",e.onGestureEnd,t)),this.$wrapperEl.on(this.touchEvents.move,"."+this.params.zoom.containerClass,e.onTouchMove)}},disable:function(){var e=this.zoom;if(e.enabled){this.zoom.enabled=!1;var t=!("touchstart"!==this.touchEvents.start||!p.passiveListener||!this.params.passiveListeners)&&{passive:!0,capture:!1};p.gestures?(this.$wrapperEl.off("gesturestart",".swiper-slide",e.onGestureStart,t),this.$wrapperEl.off("gesturechange",".swiper-slide",e.onGestureChange,t),this.$wrapperEl.off("gestureend",".swiper-slide",e.onGestureEnd,t)):"touchstart"===this.touchEvents.start&&(this.$wrapperEl.off(this.touchEvents.start,".swiper-slide",e.onGestureStart,t),this.$wrapperEl.off(this.touchEvents.move,".swiper-slide",e.onGestureChange,t),this.$wrapperEl.off(this.touchEvents.end,".swiper-slide",e.onGestureEnd,t)),this.$wrapperEl.off(this.touchEvents.move,"."+this.params.zoom.containerClass,e.onTouchMove)}}},G={loadInSlide:function(t,a){void 0===a&&(a=!0);var n=this,i=n.params.lazy;if(void 0!==t&&0!==n.slides.length){var r=n.virtual&&n.params.virtual.enabled?n.$wrapperEl.children("."+n.params.slideClass+'[data-swiper-slide-index="'+t+'"]'):n.slides.eq(t),s=r.find("."+i.elementClass+":not(."+i.loadedClass+"):not(."+i.loadingClass+")");!r.hasClass(i.elementClass)||r.hasClass(i.loadedClass)||r.hasClass(i.loadingClass)||(s=s.add(r[0])),0!==s.length&&s.each(function(t,s){var o=e(s);o.addClass(i.loadingClass);var l=o.attr("data-background"),d=o.attr("data-src"),u=o.attr("data-srcset"),c=o.attr("data-sizes");n.loadImage(o[0],d||l,u,c,!1,function(){if(void 0!==n&&null!==n&&n&&(!n||n.params)&&!n.destroyed){if(l?(o.css("background-image",'url("'+l+'")'),o.removeAttr("data-background")):(u&&(o.attr("srcset",u),o.removeAttr("data-srcset")),c&&(o.attr("sizes",c),o.removeAttr("data-sizes")),d&&(o.attr("src",d),o.removeAttr("data-src"))),o.addClass(i.loadedClass).removeClass(i.loadingClass),r.find("."+i.preloaderClass).remove(),n.params.loop&&a){var e=r.attr("data-swiper-slide-index");if(r.hasClass(n.params.slideDuplicateClass)){var t=n.$wrapperEl.children('[data-swiper-slide-index="'+e+'"]:not(.'+n.params.slideDuplicateClass+")");n.lazy.loadInSlide(t.index(),!1)}else{var s=n.$wrapperEl.children("."+n.params.slideDuplicateClass+'[data-swiper-slide-index="'+e+'"]');n.lazy.loadInSlide(s.index(),!1)}}n.emit("lazyImageReady",r[0],o[0])}}),n.emit("lazyImageLoad",r[0],o[0])})}},load:function(){function t(e){if(l){if(i.children("."+r.slideClass+'[data-swiper-slide-index="'+e+'"]').length)return!0}else if(s[e])return!0;return!1}function a(t){return l?e(t).attr("data-swiper-slide-index"):e(t).index()}var n=this,i=n.$wrapperEl,r=n.params,s=n.slides,o=n.activeIndex,l=n.virtual&&r.virtual.enabled,d=r.lazy,u=r.slidesPerView;if("auto"===u&&(u=0),n.lazy.initialImageLoaded||(n.lazy.initialImageLoaded=!0),n.params.watchSlidesVisibility)i.children("."+r.slideVisibleClass).each(function(t,a){var i=l?e(a).attr("data-swiper-slide-index"):e(a).index();n.lazy.loadInSlide(i)});else if(u>1)for(var c=o;c<o+u;c+=1)t(c)&&n.lazy.loadInSlide(c);else n.lazy.loadInSlide(o);if(d.loadPrevNext)if(u>1||d.loadPrevNextAmount&&d.loadPrevNextAmount>1){for(var f=d.loadPrevNextAmount,m=u,h=Math.min(o+m+Math.max(f,m),s.length),v=Math.max(o-Math.max(m,f),0),p=o+u;p<h;p+=1)t(p)&&n.lazy.loadInSlide(p);for(var C=v;C<o;C+=1)t(C)&&n.lazy.loadInSlide(C)}else{var _=i.children("."+r.slideNextClass);_.length>0&&n.lazy.loadInSlide(a(_));var y=i.children("."+r.slidePrevClass);y.length>0&&n.lazy.loadInSlide(a(y))}}},J={LinearSpline:function(e,t){var a,n,i,r,s,o=function(e,t){for(n=-1,a=e.length;a-n>1;)e[i=a+n>>1]<=t?n=i:a=i;return a};return this.x=e,this.y=t,this.lastIndex=e.length-1,this.interpolate=function(e){return e?(s=o(this.x,e),r=s-1,(e-this.x[r])*(this.y[s]-this.y[r])/(this.x[s]-this.x[r])+this.y[r]):0},this},getInterpolateFunction:function(e){this.controller.spline||(this.controller.spline=this.params.loop?new J.LinearSpline(this.slidesGrid,e.slidesGrid):new J.LinearSpline(this.snapGrid,e.snapGrid))},setTranslate:function(e,t){function a(e){var t=r.rtlTranslate?-r.translate:r.translate;"slide"===r.params.controller.by&&(r.controller.getInterpolateFunction(e),i=-r.controller.spline.interpolate(-t)),i&&"container"!==r.params.controller.by||(n=(e.maxTranslate()-e.minTranslate())/(r.maxTranslate()-r.minTranslate()),i=(t-r.minTranslate())*n+e.minTranslate()),r.params.controller.inverse&&(i=e.maxTranslate()-i),e.updateProgress(i),e.setTranslate(i,r),e.updateActiveIndex(),e.updateSlidesClasses()}var n,i,r=this,s=r.controller.control;if(Array.isArray(s))for(var o=0;o<s.length;o+=1)s[o]!==t&&s[o]instanceof A&&a(s[o]);else s instanceof A&&t!==s&&a(s)},setTransition:function(e,t){function a(t){t.setTransition(e,i),0!==e&&(t.transitionStart(),t.$wrapperEl.transitionEnd(function(){r&&(t.params.loop&&"slide"===i.params.controller.by&&t.loopFix(),t.transitionEnd())}))}var n,i=this,r=i.controller.control;if(Array.isArray(r))for(n=0;n<r.length;n+=1)r[n]!==t&&r[n]instanceof A&&a(r[n]);else r instanceof A&&t!==r&&a(r)}},K={makeElFocusable:function(e){return e.attr("tabIndex","0"),e},addElRole:function(e,t){return e.attr("role",t),e},addElLabel:function(e,t){return e.attr("aria-label",t),e},disableEl:function(e){return e.attr("aria-disabled",!0),e},enableEl:function(e){return e.attr("aria-disabled",!1),e},onEnterKey:function(t){var a=this.params.a11y;if(13===t.keyCode){var n=e(t.target);this.navigation&&this.navigation.$nextEl&&n.is(this.navigation.$nextEl)&&(this.isEnd&&!this.params.loop||this.slideNext(),this.isEnd?this.a11y.notify(a.lastSlideMessage):this.a11y.notify(a.nextSlideMessage)),this.navigation&&this.navigation.$prevEl&&n.is(this.navigation.$prevEl)&&(this.isBeginning&&!this.params.loop||this.slidePrev(),this.isBeginning?this.a11y.notify(a.firstSlideMessage):this.a11y.notify(a.prevSlideMessage)),this.pagination&&n.is("."+this.params.pagination.bulletClass)&&n[0].click()}},notify:function(e){var t=this.a11y.liveRegion;0!==t.length&&(t.html(""),t.html(e))},updateNavigation:function(){if(!this.params.loop){var e=this.navigation,t=e.$nextEl,a=e.$prevEl;a&&a.length>0&&(this.isBeginning?this.a11y.disableEl(a):this.a11y.enableEl(a)),t&&t.length>0&&(this.isEnd?this.a11y.disableEl(t):this.a11y.enableEl(t))}},updatePagination:function(){var t=this,a=t.params.a11y;t.pagination&&t.params.pagination.clickable&&t.pagination.bullets&&t.pagination.bullets.length&&t.pagination.bullets.each(function(n,i){var r=e(i);t.a11y.makeElFocusable(r),t.a11y.addElRole(r,"button"),t.a11y.addElLabel(r,a.paginationBulletMessage.replace(/{{index}}/,r.index()+1))})},init:function(){this.$el.append(this.a11y.liveRegion);var e,t,a=this.params.a11y;this.navigation&&this.navigation.$nextEl&&(e=this.navigation.$nextEl),this.navigation&&this.navigation.$prevEl&&(t=this.navigation.$prevEl),e&&(this.a11y.makeElFocusable(e),this.a11y.addElRole(e,"button"),this.a11y.addElLabel(e,a.nextSlideMessage),e.on("keydown",this.a11y.onEnterKey)),t&&(this.a11y.makeElFocusable(t),this.a11y.addElRole(t,"button"),this.a11y.addElLabel(t,a.prevSlideMessage),t.on("keydown",this.a11y.onEnterKey)),this.pagination&&this.params.pagination.clickable&&this.pagination.bullets&&this.pagination.bullets.length&&this.pagination.$el.on("keydown","."+this.params.pagination.bulletClass,this.a11y.onEnterKey)},destroy:function(){var e,t;this.a11y.liveRegion&&this.a11y.liveRegion.length>0&&this.a11y.liveRegion.remove(),this.navigation&&this.navigation.$nextEl&&(e=this.navigation.$nextEl),this.navigation&&this.navigation.$prevEl&&(t=this.navigation.$prevEl),e&&e.off("keydown",this.a11y.onEnterKey),t&&t.off("keydown",this.a11y.onEnterKey),this.pagination&&this.params.pagination.clickable&&this.pagination.bullets&&this.pagination.bullets.length&&this.pagination.$el.off("keydown","."+this.params.pagination.bulletClass,this.a11y.onEnterKey)}},Z={init:function(){if(this.params.history){if(!i.history||!i.history.pushState)return this.params.history.enabled=!1,void(this.params.hashNavigation.enabled=!0);var e=this.history;e.initialized=!0,e.paths=Z.getPathValues(),(e.paths.key||e.paths.value)&&(e.scrollToSlide(0,e.paths.value,this.params.runCallbacksOnInit),this.params.history.replaceState||i.addEventListener("popstate",this.history.setHistoryPopState))}},destroy:function(){this.params.history.replaceState||i.removeEventListener("popstate",this.history.setHistoryPopState)},setHistoryPopState:function(){this.history.paths=Z.getPathValues(),this.history.scrollToSlide(this.params.speed,this.history.paths.value,!1)},getPathValues:function(){var e=i.location.pathname.slice(1).split("/").filter(function(e){return""!==e}),t=e.length;return{key:e[t-2],value:e[t-1]}},setHistory:function(e,t){if(this.history.initialized&&this.params.history.enabled){var a=this.slides.eq(t),n=Z.slugify(a.attr("data-history"));i.location.pathname.includes(e)||(n=e+"/"+n);var r=i.history.state;r&&r.value===n||(this.params.history.replaceState?i.history.replaceState({value:n},null,n):i.history.pushState({value:n},null,n))}},slugify:function(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},scrollToSlide:function(e,t,a){if(t)for(var n=0,i=this.slides.length;n<i;n+=1){var r=this.slides.eq(n);if(Z.slugify(r.attr("data-history"))===t&&!r.hasClass(this.params.slideDuplicateClass)){var s=r.index();this.slideTo(s,e,a)}}else this.slideTo(0,e,a)}},ee={onHashCange:function(){var e=n.location.hash.replace("#","");e!==this.slides.eq(this.activeIndex).attr("data-hash")&&this.slideTo(this.$wrapperEl.children("."+this.params.slideClass+'[data-hash="'+e+'"]').index())},setHash:function(){if(this.hashNavigation.initialized&&this.params.hashNavigation.enabled)if(this.params.hashNavigation.replaceState&&i.history&&i.history.replaceState)i.history.replaceState(null,null,"#"+this.slides.eq(this.activeIndex).attr("data-hash")||"");else{var e=this.slides.eq(this.activeIndex),t=e.attr("data-hash")||e.attr("data-history");n.location.hash=t||""}},init:function(){if(!(!this.params.hashNavigation.enabled||this.params.history&&this.params.history.enabled)){this.hashNavigation.initialized=!0;var t=n.location.hash.replace("#","");if(t)for(var a=0,r=this.slides.length;a<r;a+=1){var s=this.slides.eq(a);if((s.attr("data-hash")||s.attr("data-history"))===t&&!s.hasClass(this.params.slideDuplicateClass)){var o=s.index();this.slideTo(o,0,this.params.runCallbacksOnInit,!0)}}this.params.hashNavigation.watchState&&e(i).on("hashchange",this.hashNavigation.onHashCange)}},destroy:function(){this.params.hashNavigation.watchState&&e(i).off("hashchange",this.hashNavigation.onHashCange)}},te={run:function(){var e=this,t=e.slides.eq(e.activeIndex),a=e.params.autoplay.delay;t.attr("data-swiper-autoplay")&&(a=t.attr("data-swiper-autoplay")||e.params.autoplay.delay),e.autoplay.timeout=h.nextTick(function(){e.params.autoplay.reverseDirection?e.params.loop?(e.loopFix(),e.slidePrev(e.params.speed,!0,!0),e.emit("autoplay")):e.isBeginning?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(e.slideTo(e.slides.length-1,e.params.speed,!0,!0),e.emit("autoplay")):(e.slidePrev(e.params.speed,!0,!0),e.emit("autoplay")):e.params.loop?(e.loopFix(),e.slideNext(e.params.speed,!0,!0),e.emit("autoplay")):e.isEnd?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(e.slideTo(0,e.params.speed,!0,!0),e.emit("autoplay")):(e.slideNext(e.params.speed,!0,!0),e.emit("autoplay"))},a)},start:function(){return void 0===this.autoplay.timeout&&!this.autoplay.running&&(this.autoplay.running=!0,this.emit("autoplayStart"),this.autoplay.run(),!0)},stop:function(){return!!this.autoplay.running&&void 0!==this.autoplay.timeout&&(this.autoplay.timeout&&(clearTimeout(this.autoplay.timeout),this.autoplay.timeout=void 0),this.autoplay.running=!1,this.emit("autoplayStop"),!0)},pause:function(e){var t=this;t.autoplay.running&&(t.autoplay.paused||(t.autoplay.timeout&&clearTimeout(t.autoplay.timeout),t.autoplay.paused=!0,0!==e&&t.params.autoplay.waitForTransition?t.$wrapperEl.transitionEnd(function(){t&&!t.destroyed&&(t.autoplay.paused=!1,t.autoplay.running?t.autoplay.run():t.autoplay.stop())}):(t.autoplay.paused=!1,t.autoplay.run())))}},ae={setTranslate:function(){for(var e=this.slides,t=0;t<e.length;t+=1){var a=this.slides.eq(t),n=-a[0].swiperSlideOffset;this.params.virtualTranslate||(n-=this.translate);var i=0;this.isHorizontal()||(i=n,n=0);var r=this.params.fadeEffect.crossFade?Math.max(1-Math.abs(a[0].progress),0):1+Math.min(Math.max(a[0].progress,-1),0);a.css({opacity:r}).transform("translate3d("+n+"px, "+i+"px, 0px)")}},setTransition:function(e){var t=this,a=t.slides,n=t.$wrapperEl;if(a.transition(e),t.params.virtualTranslate&&0!==e){var i=!1;a.transitionEnd(function(){if(!i&&t&&!t.destroyed){i=!0,t.animating=!1;for(var e=["webkitTransitionEnd","transitionend"],a=0;a<e.length;a+=1)n.trigger(e[a])}})}}},ne={setTranslate:function(){var t,a=this.$el,n=this.$wrapperEl,i=this.slides,r=this.width,s=this.height,o=this.rtlTranslate,l=this.size,d=this.params.cubeEffect,u=this.isHorizontal(),c=this.virtual&&this.params.virtual.enabled,f=0;d.shadow&&(u?(0===(t=n.find(".swiper-cube-shadow")).length&&(t=e('<div class="swiper-cube-shadow"></div>'),n.append(t)),t.css({height:r+"px"})):0===(t=a.find(".swiper-cube-shadow")).length&&(t=e('<div class="swiper-cube-shadow"></div>'),a.append(t)));for(var m=0;m<i.length;m+=1){var h=i.eq(m),v=m;c&&(v=parseInt(h.attr("data-swiper-slide-index"),10));var p=90*v,C=Math.floor(p/360);o&&(p=-p,C=Math.floor(-p/360));var _=Math.max(Math.min(h[0].progress,1),-1),y=0,b=0,g=0;v%4==0?(y=4*-C*l,g=0):(v-1)%4==0?(y=0,g=4*-C*l):(v-2)%4==0?(y=l+4*C*l,g=l):(v-3)%4==0&&(y=-l,g=3*l+4*l*C),o&&(y=-y),u||(b=y,y=0);var w="rotateX("+(u?0:-p)+"deg) rotateY("+(u?p:0)+"deg) translate3d("+y+"px, "+b+"px, "+g+"px)";if(_<=1&&_>-1&&(f=90*v+90*_,o&&(f=90*-v-90*_)),h.transform(w),d.slideShadows){var I=u?h.find(".swiper-slide-shadow-left"):h.find(".swiper-slide-shadow-top"),x=u?h.find(".swiper-slide-shadow-right"):h.find(".swiper-slide-shadow-bottom");0===I.length&&(I=e('<div class="swiper-slide-shadow-'+(u?"left":"top")+'"></div>'),h.append(I)),0===x.length&&(x=e('<div class="swiper-slide-shadow-'+(u?"right":"bottom")+'"></div>'),h.append(x)),I.length&&(I[0].style.opacity=Math.max(-_,0)),x.length&&(x[0].style.opacity=Math.max(_,0))}}if(n.css({"-webkit-transform-origin":"50% 50% -"+l/2+"px","-moz-transform-origin":"50% 50% -"+l/2+"px","-ms-transform-origin":"50% 50% -"+l/2+"px","transform-origin":"50% 50% -"+l/2+"px"}),d.shadow)if(u)t.transform("translate3d(0px, "+(r/2+d.shadowOffset)+"px, "+-r/2+"px) rotateX(90deg) rotateZ(0deg) scale("+d.shadowScale+")");else{var D=Math.abs(f)-90*Math.floor(Math.abs(f)/90),P=1.5-(Math.sin(2*D*Math.PI/360)/2+Math.cos(2*D*Math.PI/360)/2),k=d.shadowScale,S=d.shadowScale/P,L=d.shadowOffset;t.transform("scale3d("+k+", 1, "+S+") translate3d(0px, "+(s/2+L)+"px, "+-s/2/S+"px) rotateX(-90deg)")}var N=T.isSafari||T.isUiWebView?-l/2:0;n.transform("translate3d(0px,0,"+N+"px) rotateX("+(this.isHorizontal()?0:f)+"deg) rotateY("+(this.isHorizontal()?-f:0)+"deg)")},setTransition:function(e){var t=this.$el;this.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),this.params.cubeEffect.shadow&&!this.isHorizontal()&&t.find(".swiper-cube-shadow").transition(e)}},ie={setTranslate:function(){for(var t=this.slides,a=this.rtlTranslate,n=0;n<t.length;n+=1){var i=t.eq(n),r=i[0].progress;this.params.flipEffect.limitRotation&&(r=Math.max(Math.min(i[0].progress,1),-1));var s=-180*r,o=0,l=-i[0].swiperSlideOffset,d=0;if(this.isHorizontal()?a&&(s=-s):(d=l,l=0,o=-s,s=0),i[0].style.zIndex=-Math.abs(Math.round(r))+t.length,this.params.flipEffect.slideShadows){var u=this.isHorizontal()?i.find(".swiper-slide-shadow-left"):i.find(".swiper-slide-shadow-top"),c=this.isHorizontal()?i.find(".swiper-slide-shadow-right"):i.find(".swiper-slide-shadow-bottom");0===u.length&&(u=e('<div class="swiper-slide-shadow-'+(this.isHorizontal()?"left":"top")+'"></div>'),i.append(u)),0===c.length&&(c=e('<div class="swiper-slide-shadow-'+(this.isHorizontal()?"right":"bottom")+'"></div>'),i.append(c)),u.length&&(u[0].style.opacity=Math.max(-r,0)),c.length&&(c[0].style.opacity=Math.max(r,0))}i.transform("translate3d("+l+"px, "+d+"px, 0px) rotateX("+o+"deg) rotateY("+s+"deg)")}},setTransition:function(e){var t=this,a=t.slides,n=t.activeIndex,i=t.$wrapperEl;if(a.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),t.params.virtualTranslate&&0!==e){var r=!1;a.eq(n).transitionEnd(function(){if(!r&&t&&!t.destroyed){r=!0,t.animating=!1;for(var e=["webkitTransitionEnd","transitionend"],a=0;a<e.length;a+=1)i.trigger(e[a])}})}}},re={setTranslate:function(){for(var t=this.width,a=this.height,n=this.slides,i=this.$wrapperEl,r=this.slidesSizesGrid,s=this.params.coverflowEffect,o=this.isHorizontal(),l=this.translate,d=o?t/2-l:a/2-l,u=o?s.rotate:-s.rotate,c=s.depth,f=0,m=n.length;f<m;f+=1){var h=n.eq(f),v=r[f],C=(d-h[0].swiperSlideOffset-v/2)/v*s.modifier,_=o?u*C:0,y=o?0:u*C,b=-c*Math.abs(C),g=o?0:s.stretch*C,w=o?s.stretch*C:0;Math.abs(w)<.001&&(w=0),Math.abs(g)<.001&&(g=0),Math.abs(b)<.001&&(b=0),Math.abs(_)<.001&&(_=0),Math.abs(y)<.001&&(y=0);var I="translate3d("+w+"px,"+g+"px,"+b+"px)  rotateX("+y+"deg) rotateY("+_+"deg)";if(h.transform(I),h[0].style.zIndex=1-Math.abs(Math.round(C)),s.slideShadows){var x=o?h.find(".swiper-slide-shadow-left"):h.find(".swiper-slide-shadow-top"),D=o?h.find(".swiper-slide-shadow-right"):h.find(".swiper-slide-shadow-bottom");0===x.length&&(x=e('<div class="swiper-slide-shadow-'+(o?"left":"top")+'"></div>'),h.append(x)),0===D.length&&(D=e('<div class="swiper-slide-shadow-'+(o?"right":"bottom")+'"></div>'),h.append(D)),x.length&&(x[0].style.opacity=C>0?C:0),D.length&&(D[0].style.opacity=-C>0?-C:0)}}(p.pointerEvents||p.prefixedPointerEvents)&&(i[0].style.perspectiveOrigin=d+"px 50%")},setTransition:function(e){this.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}},se=[O,R,j,$,E,U,Q,{name:"mousewheel",params:{mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarged:"container"}},create:function(){h.extend(this,{mousewheel:{enabled:!1,enable:H.enable.bind(this),disable:H.disable.bind(this),handle:H.handle.bind(this),handleMouseEnter:H.handleMouseEnter.bind(this),handleMouseLeave:H.handleMouseLeave.bind(this),lastScrollTime:h.now()}})},on:{init:function(){this.params.mousewheel.enabled&&this.mousewheel.enable()},destroy:function(){this.mousewheel.enabled&&this.mousewheel.disable()}}},{name:"navigation",params:{navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}},create:function(){h.extend(this,{navigation:{init:V.init.bind(this),update:V.update.bind(this),destroy:V.destroy.bind(this)}})},on:{init:function(){this.navigation.init(),this.navigation.update()},toEdge:function(){this.navigation.update()},fromEdge:function(){this.navigation.update()},destroy:function(){this.navigation.destroy()},click:function(t){var a=this.navigation,n=a.$nextEl,i=a.$prevEl;!this.params.navigation.hideOnClick||e(t.target).is(i)||e(t.target).is(n)||(n&&n.toggleClass(this.params.navigation.hiddenClass),i&&i.toggleClass(this.params.navigation.hiddenClass))}}},{name:"pagination",params:{pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",modifierClass:"swiper-pagination-",currentClass:"swiper-pagination-current",totalClass:"swiper-pagination-total",hiddenClass:"swiper-pagination-hidden",progressbarFillClass:"swiper-pagination-progressbar-fill",progressbarOppositeClass:"swiper-pagination-progressbar-opposite",clickableClass:"swiper-pagination-clickable",lockClass:"swiper-pagination-lock"}},create:function(){h.extend(this,{pagination:{init:X.init.bind(this),render:X.render.bind(this),update:X.update.bind(this),destroy:X.destroy.bind(this),dynamicBulletIndex:0}})},on:{init:function(){this.pagination.init(),this.pagination.render(),this.pagination.update()},activeIndexChange:function(){this.params.loop?this.pagination.update():void 0===this.snapIndex&&this.pagination.update()},snapIndexChange:function(){this.params.loop||this.pagination.update()},slidesLengthChange:function(){this.params.loop&&(this.pagination.render(),this.pagination.update())},snapGridLengthChange:function(){this.params.loop||(this.pagination.render(),this.pagination.update())},destroy:function(){this.pagination.destroy()},click:function(t){this.params.pagination.el&&this.params.pagination.hideOnClick&&this.pagination.$el.length>0&&!e(t.target).hasClass(this.params.pagination.bulletClass)&&this.pagination.$el.toggleClass(this.params.pagination.hiddenClass)}}},{name:"scrollbar",params:{scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag"}},create:function(){h.extend(this,{scrollbar:{init:z.init.bind(this),destroy:z.destroy.bind(this),updateSize:z.updateSize.bind(this),setTranslate:z.setTranslate.bind(this),setTransition:z.setTransition.bind(this),enableDraggable:z.enableDraggable.bind(this),disableDraggable:z.disableDraggable.bind(this),setDragPosition:z.setDragPosition.bind(this),onDragStart:z.onDragStart.bind(this),onDragMove:z.onDragMove.bind(this),onDragEnd:z.onDragEnd.bind(this),isTouched:!1,timeout:null,dragTimeout:null}})},on:{init:function(){this.scrollbar.init(),this.scrollbar.updateSize(),this.scrollbar.setTranslate()},update:function(){this.scrollbar.updateSize()},resize:function(){this.scrollbar.updateSize()},observerUpdate:function(){this.scrollbar.updateSize()},setTranslate:function(){this.scrollbar.setTranslate()},setTransition:function(e){this.scrollbar.setTransition(e)},destroy:function(){this.scrollbar.destroy()}}},{name:"parallax",params:{parallax:{enabled:!1}},create:function(){h.extend(this,{parallax:{setTransform:Y.setTransform.bind(this),setTranslate:Y.setTranslate.bind(this),setTransition:Y.setTransition.bind(this)}})},on:{beforeInit:function(){this.params.parallax.enabled&&(this.params.watchSlidesProgress=!0)},init:function(){this.params.parallax&&this.parallax.setTranslate()},setTranslate:function(){this.params.parallax&&this.parallax.setTranslate()},setTransition:function(e){this.params.parallax&&this.parallax.setTransition(e)}}},{name:"zoom",params:{zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}},create:function(){var e=this,t={enabled:!1,scale:1,currentScale:1,isScaling:!1,gesture:{$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0}};"onGestureStart onGestureChange onGestureEnd onTouchStart onTouchMove onTouchEnd onTransitionEnd toggle enable disable in out".split(" ").forEach(function(a){t[a]=W[a].bind(e)}),h.extend(e,{zoom:t})},on:{init:function(){this.params.zoom.enabled&&this.zoom.enable()},destroy:function(){this.zoom.disable()},touchStart:function(e){this.zoom.enabled&&this.zoom.onTouchStart(e)},touchEnd:function(e){this.zoom.enabled&&this.zoom.onTouchEnd(e)},doubleTap:function(e){this.params.zoom.enabled&&this.zoom.enabled&&this.params.zoom.toggle&&this.zoom.toggle(e)},transitionEnd:function(){this.zoom.enabled&&this.params.zoom.enabled&&this.zoom.onTransitionEnd()}}},{name:"lazy",params:{lazy:{enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"}},create:function(){h.extend(this,{lazy:{initialImageLoaded:!1,load:G.load.bind(this),loadInSlide:G.loadInSlide.bind(this)}})},on:{beforeInit:function(){this.params.lazy.enabled&&this.params.preloadImages&&(this.params.preloadImages=!1)},init:function(){this.params.lazy.enabled&&!this.params.loop&&0===this.params.initialSlide&&this.lazy.load()},scroll:function(){this.params.freeMode&&!this.params.freeModeSticky&&this.lazy.load()},resize:function(){this.params.lazy.enabled&&this.lazy.load()},scrollbarDragMove:function(){this.params.lazy.enabled&&this.lazy.load()},transitionStart:function(){this.params.lazy.enabled&&(this.params.lazy.loadOnTransitionStart||!this.params.lazy.loadOnTransitionStart&&!this.lazy.initialImageLoaded)&&this.lazy.load()},transitionEnd:function(){this.params.lazy.enabled&&!this.params.lazy.loadOnTransitionStart&&this.lazy.load()}}},{name:"controller",params:{controller:{control:void 0,inverse:!1,by:"slide"}},create:function(){h.extend(this,{controller:{control:this.params.controller.control,getInterpolateFunction:J.getInterpolateFunction.bind(this),setTranslate:J.setTranslate.bind(this),setTransition:J.setTransition.bind(this)}})},on:{update:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},resize:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},observerUpdate:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},setTranslate:function(e,t){this.controller.control&&this.controller.setTranslate(e,t)},setTransition:function(e,t){this.controller.control&&this.controller.setTransition(e,t)}}},{name:"a11y",params:{a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}"}},create:function(){var t=this;h.extend(t,{a11y:{liveRegion:e('<span class="'+t.params.a11y.notificationClass+'" aria-live="assertive" aria-atomic="true"></span>')}}),(0,m.default)(K).forEach(function(e){t.a11y[e]=K[e].bind(t)})},on:{init:function(){this.params.a11y.enabled&&(this.a11y.init(),this.a11y.updateNavigation())},toEdge:function(){this.params.a11y.enabled&&this.a11y.updateNavigation()},fromEdge:function(){this.params.a11y.enabled&&this.a11y.updateNavigation()},paginationUpdate:function(){this.params.a11y.enabled&&this.a11y.updatePagination()},destroy:function(){this.params.a11y.enabled&&this.a11y.destroy()}}},{name:"history",params:{history:{enabled:!1,replaceState:!1,key:"slides"}},create:function(){h.extend(this,{history:{init:Z.init.bind(this),setHistory:Z.setHistory.bind(this),setHistoryPopState:Z.setHistoryPopState.bind(this),scrollToSlide:Z.scrollToSlide.bind(this),destroy:Z.destroy.bind(this)}})},on:{init:function(){this.params.history.enabled&&this.history.init()},destroy:function(){this.params.history.enabled&&this.history.destroy()},transitionEnd:function(){this.history.initialized&&this.history.setHistory(this.params.history.key,this.activeIndex)}}},{name:"hash-navigation",params:{hashNavigation:{enabled:!1,replaceState:!1,watchState:!1}},create:function(){h.extend(this,{hashNavigation:{initialized:!1,init:ee.init.bind(this),destroy:ee.destroy.bind(this),setHash:ee.setHash.bind(this),onHashCange:ee.onHashCange.bind(this)}})},on:{init:function(){this.params.hashNavigation.enabled&&this.hashNavigation.init()},destroy:function(){this.params.hashNavigation.enabled&&this.hashNavigation.destroy()},transitionEnd:function(){this.hashNavigation.initialized&&this.hashNavigation.setHash()}}},{name:"autoplay",params:{autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1}},create:function(){h.extend(this,{autoplay:{running:!1,paused:!1,run:te.run.bind(this),start:te.start.bind(this),stop:te.stop.bind(this),pause:te.pause.bind(this)}})},on:{init:function(){this.params.autoplay.enabled&&this.autoplay.start()},beforeTransitionStart:function(e,t){this.autoplay.running&&(t||!this.params.autoplay.disableOnInteraction?this.autoplay.pause(e):this.autoplay.stop())},sliderFirstMove:function(){this.autoplay.running&&(this.params.autoplay.disableOnInteraction?this.autoplay.stop():this.autoplay.pause())},destroy:function(){this.autoplay.running&&this.autoplay.stop()}}},{name:"effect-fade",params:{fadeEffect:{crossFade:!1}},create:function(){h.extend(this,{fadeEffect:{setTranslate:ae.setTranslate.bind(this),setTransition:ae.setTransition.bind(this)}})},on:{beforeInit:function(){if("fade"===this.params.effect){this.classNames.push(this.params.containerModifierClass+"fade");var e={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};h.extend(this.params,e),h.extend(this.originalParams,e)}},setTranslate:function(){"fade"===this.params.effect&&this.fadeEffect.setTranslate()},setTransition:function(e){"fade"===this.params.effect&&this.fadeEffect.setTransition(e)}}},{name:"effect-cube",params:{cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}},create:function(){h.extend(this,{cubeEffect:{setTranslate:ne.setTranslate.bind(this),setTransition:ne.setTransition.bind(this)}})},on:{beforeInit:function(){if("cube"===this.params.effect){this.classNames.push(this.params.containerModifierClass+"cube"),this.classNames.push(this.params.containerModifierClass+"3d");var e={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0};h.extend(this.params,e),h.extend(this.originalParams,e)}},setTranslate:function(){"cube"===this.params.effect&&this.cubeEffect.setTranslate()},setTransition:function(e){"cube"===this.params.effect&&this.cubeEffect.setTransition(e)}}},{name:"effect-flip",params:{flipEffect:{slideShadows:!0,limitRotation:!0}},create:function(){h.extend(this,{flipEffect:{setTranslate:ie.setTranslate.bind(this),setTransition:ie.setTransition.bind(this)}})},on:{beforeInit:function(){if("flip"===this.params.effect){this.classNames.push(this.params.containerModifierClass+"flip"),this.classNames.push(this.params.containerModifierClass+"3d");var e={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};h.extend(this.params,e),h.extend(this.originalParams,e)}},setTranslate:function(){"flip"===this.params.effect&&this.flipEffect.setTranslate()},setTransition:function(e){"flip"===this.params.effect&&this.flipEffect.setTransition(e)}}},{name:"effect-coverflow",params:{coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0}},create:function(){h.extend(this,{coverflowEffect:{setTranslate:re.setTranslate.bind(this),setTransition:re.setTransition.bind(this)}})},on:{beforeInit:function(){"coverflow"===this.params.effect&&(this.classNames.push(this.params.containerModifierClass+"coverflow"),this.classNames.push(this.params.containerModifierClass+"3d"),this.params.watchSlidesProgress=!0,this.originalParams.watchSlidesProgress=!0)},setTranslate:function(){"coverflow"===this.params.effect&&this.coverflowEffect.setTranslate()},setTransition:function(e){"coverflow"===this.params.effect&&this.coverflowEffect.setTransition(e)}}}];return void 0===A.use&&(A.use=A.Class.use,A.installModule=A.Class.installModule),A.use(se),A})},"Dqn+":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HXPS"),r=n(i),s=a("7g+Q"),o=n(s),l=a("6q39"),d=n(l),u=a("1KNX"),c=n(u),f=a("7biW"),m=n(f);t.default={name:"GroupList",props:{show:{type:Boolean,default:!1},defaultValue:{type:String,default:""},data:{type:Array,default:function(){return[]}}},components:{Icon:r.default,Popup:o.default,LoadMore:d.default,RScroll:c.default,MSearch:m.default},data:function(){return{showPop:!1,scrollOptions:{click:!0}}},watch:{show:{handler:function(e){this.showPop=e}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){var t=!1;return e.name===this.defaultValue&&(t=!0),t},selThis:function(e,t){this.showPop=!1,this.$emit("sel-group",e.name)},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.$emit("list-search",a)}},created:function(){}}},Dzss:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages fgysqk-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{"dealer-label-name":"往来",request:"3","default-value":e.dealerInfo,params:e.dealerParams},on:{"sel-item":e.selDealer}},[a("template",{slot:"other"},[a("div",{staticClass:"amt-dealer"},[a("span",{staticClass:"amt-dealer-item"},[e._v("本次收汇票: "+e._s(e.thenTotalAmntBal))])])])],2),e._v(" "),a("div",{staticClass:"materiel_list"},[a("div",{staticClass:"title"},[e._v("汇票明细")]),e._v(" "),e._l(e.orderList,function(t,n){return a("div",{key:n,staticClass:"order-detail",class:{"vux-1px-t":0!==n}},[a("x-input",{attrs:{"text-align":"right",placeholder:"请填写"},model:{value:t.draftNumber,callback:function(a){e.$set(t,"draftNumber",a)},expression:"item.draftNumber"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("汇票号")])])],2),e._v(" "),a("r-picker",{staticClass:"vux-1px-t",attrs:{title:"类型",data:e.draftTypeList,mode:"4",placeholder:"请选择类型",hasBorder:!1,required:""},model:{value:t.draftType,callback:function(a){e.$set(t,"draftType",a)},expression:"item.draftType"}}),e._v(" "),a("x-input",{attrs:{"text-align":"right",placeholder:"请填写"},model:{value:t.accepter,callback:function(a){e.$set(t,"accepter",a)},expression:"item.accepter"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("承兑人")])])],2),e._v(" "),a("x-input",{attrs:{"text-align":"right",placeholder:"请填写",type:"number"},on:{"on-blur":function(a){e.checkAmt(t,"tdAmount")},"on-focus":function(t){e.getFocus(t)}},model:{value:t.tdAmount,callback:function(a){e.$set(t,"tdAmount",e._n(a))},expression:"item.tdAmount"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("金额")])])],2),e._v(" "),a("datetime",{attrs:{placeholder:"请选择出票日"},model:{value:t.draftDate,callback:function(a){e.$set(t,"draftDate",a)},expression:"item.draftDate"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("出票日")])])],2),e._v(" "),a("datetime",{attrs:{placeholder:"请选择到期日"},model:{value:t.draftDueDate,callback:function(a){e.$set(t,"draftDueDate",a)},expression:"item.draftDueDate"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("到期日")])])],2),e._v(" "),a("x-input",{attrs:{title:"说明","text-align":"right",placeholder:"请填写"},model:{value:t.comment,callback:function(a){e.$set(t,"comment",a)},expression:"item.comment"}})],1)})],2),e._v(" "),a("div",{staticClass:"add_more"},[e._v("\n        您还需要添加新的汇票?请点击\n        "),a("span",{staticClass:"add",on:{click:e.addOrder}},[e._v("新增")]),e._v(" "),a("em",{directives:[{name:"show",rawName:"v-show",value:e.orderList.length>1,expression:"orderList.length>1"}]},[e._v("或")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.orderList.length>1,expression:"orderList.length>1"}],staticClass:"delete",on:{click:e.deleteOrder}},[e._v("删除")])]),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"其他信息"}},[a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-money-order-list",{attrs:{show:e.showOrder,"default-value":e.orderList},on:{"sel-item":e.selOrder},model:{value:e.showOrder,callback:function(t){e.showOrder=t},expression:"showOrder"}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},E0uh:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Iu/6"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"Loading",data:function(){return{show:!1}},components:{Spinner:i.default}}},E7Wa:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("a3Yh"),o=n(s),l=a("3cXf"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("7g+Q"),C=n(p),_=a("PzEQ"),y=n(_),b=a("jnZd"),g=n(b),w=a("u28h"),I=n(w),x=a("kNGm"),D=n(x),P=a("0AQX"),k=a("HyXB"),S=(a("jLp1"),a("bKg5")),T=n(S),L=a("55ug"),N=n(L),M=a("wuIh"),A=n(M),O=a("vl8n"),R=n(O),j=a("+WR7"),$=n(j),B=a("zWMP"),E=a("Qg39");t.default={mixins:[T.default],components:{Cell:c.default,Group:m.default,Popup:C.default,XInput:v.default,XTextarea:y.default,PopupPicker:g.default,RPicker:R.default,PopBaseinfo:$.default,PopDealerList:N.default,PopMoneyOrderList:A.default,Datetime:I.default},data:function(){return{listId:"bb9ce973-2f62-4707-a54c-7e8605dc99d6",biReferenceId:"",selectedCost:[],costIndex:0,transCode:"",formData:{biComment:""},dealerInfo:{},showOrder:!1,orderList:[]}},computed:{thenTotalAmntBal:function(){var e=0;return this.orderList.forEach(function(t){t.tdAmount&&(e=(0,B.accAdd)(e,t.tdAmount))}),(0,E.toFixed)(e)}},methods:{submitOrder:function(){var e=this,t="",a=[],n=[{key:"draftNumber",message:"请选择协议号"},{key:"draftType",message:"请选择类型"},{key:"accepter",message:"请选择承兑人"},{key:"tdAmount",message:"请输入金额"},{key:"draftDate",message:"请选择出票日"},{key:"draftDueDate",message:"请选择到期日"},{key:"draftSellDate",message:"请选择出让日期"}];if(this.dealerInfo.dealerCode||(t="请选择往来"),t||this.orderList.length||(t="请选择汇票明细"),t||this.orderList.every(function(e){return n.every(function(a){return e[a.key]||0===e[a.key]||(t=a.message),!t}),a.push({tdId:e.tdId||"",draftNumber:e.draftNumber,draftType:e.draftType,accepter:e.accepter,tdAmount:e.tdAmount,draftDate:e.draftDate,draftDueDate:e.draftDueDate,draftSellDate:e.draftSellDate,comment:e.comment}),!t}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=k.saveAndStartWf,n=(0,o.default)({},e.processCode,{businessKey:"SAPB",createdBy:(0,d.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.formData.biComment,formData:(0,d.default)((0,r.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{dealerName_dealerDebit:e.dealerInfo.nickname,dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,thenAmntBal:e.dealerInfo.amntBal,thenTotalAmntBal:e.thenTotalAmntBal,dataSet:a}})),wfPara:(0,d.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=k.saveAndCommitTask),e.processCode.length||(t=k.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.attachment,n=void 0===a?[]:a,i=t.listId,s=void 0===i?"":i,o=(t.biComment,t.biReferenceId),l=void 0===o?"":o,d=t.formData,u=void 0===d?{}:d;e.attachment=n,e.listId=s,e.biReferenceId=l,e.handlerDefault={handler:u.handler,handlerName:u.handlerName,handlerUnit:u.handlerUnit,handlerUnitName:u.handlerUnitName,handlerRole:u.handlerRole,handlerRoleName:u.handlerRoleName},e.formData=(0,r.default)({},e.formData,e.handlerDefault,{biComment:u.biComment,biId:u.biId,biProcessStatus:u.biProcessStatus,creator:u.creator,modifer:u.modifer});var c=u.order,f=void 0===c?{}:c,m=f.dataSet,h=void 0===m?[]:m;e.dealerInfo={nickname:f.dealerName_dealerDebit,dealerCode:f.dealerDebit,dealerLabelName:f.drDealerLabel,amntBal:f.thenAmntBal},e.orderList=h,e.$loading.hide()})},hasDraftData:function(){return!!this.dealerInfo.dealerCode&&(0,o.default)({},"CRCDHP_DATA",{formData:this.formData,dealerInfo:this.dealerInfo,orderList:this.orderList})},getRelationData:function(){},selDealer:function(e){this.dealerInfo=(0,r.default)({},e)},selOrder:function(e){e.forEach(function(e){e.hasOrigin=!0,e.originAmt=e.tdAmount,e.draftDate=(0,D.default)(e.draftDate,"YYYY-MM-DD"),e.draftDueDate=(0,D.default)(e.draftDueDate,"YYYY-MM-DD")}),this.orderList=e},addOrder:function(){this.showOrder=!0},checkAmt:function(e,t){var a=e.hasOrigin,n=void 0!==a&&a,i=e.originAmt,r=void 0===i?0:i,s=e.tdAmount,o=void 0===s?0:s;n&&o>r&&(o=r),e.tdAmount=Math.abs((0,E.toFixed)(o))}},created:function(){var e=sessionStorage.getItem("CRCDHP_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.orderList=t.orderList,sessionStorage.removeItem("CRCDHP_DATA")}}}},ECgH:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages gdrw-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-warehouse-list",{attrs:{title:"在制仓库","default-value":e.warehouse,"filter-params":e.filterParams,"is-required":!0},on:{"sel-item":e.selWarehouse}}),e._v(" "),a("div",{staticClass:"materiel_list"},[e.workInfo.length?[a("div",{staticClass:"title"},[e._v("工序信息")]),e._v(" "),e._l(e.workInfo,function(t,n){return a("div",{key:n,staticClass:"order-detail",class:{"vux-1px-t":0!==n}},[a("div",{staticClass:"detail-item top"},[a("span",{staticClass:"info-item"},[e._v(e._s(t.inventoryName))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"info-item"},[e._v("订单号: "+e._s(t.transCode))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("工序名称: "+e._s(t.procedureName))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("工序编码: "+e._s(t.proPointCode))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"info-item"},[e._v("工艺路线名称: "+e._s(t.technicsName))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("工艺路线编码: "+e._s(t.proFlowCode))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"info-item"},[e._v("派工总数: "+e._s(t.productDemandQty))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("工序可派工: "+e._s(t.thenQtyBal))])]),e._v(" "),a("x-input",{attrs:{"text-align":"right",placeholder:"请填写",type:"number"},on:{"on-blur":function(a){e.checkAmt(t,n)},"on-focus":function(t){e.getFocus(t)}},model:{value:t.tdQty,callback:function(a){e.$set(t,"tdQty",e._n(a))},expression:"item.tdQty"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("派工数量")])])],2),e._v(" "),a("datetime",{model:{value:t.promDeliTime,callback:function(a){e.$set(t,"promDeliTime",a)},expression:"item.promDeliTime"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("要求完工日期")])])],2),e._v(" "),a("cell",{attrs:{isLink:""},nativeOn:{click:function(t){e.showManager(n)}},model:{value:t.dealerName_dealerDebit,callback:function(a){e.$set(t,"dealerName_dealerDebit",a)},expression:"item.dealerName_dealerDebit"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("组长")])])],2),e._v(" "),a("x-input",{attrs:{title:"工人数量","text-align":"right",placeholder:"请填写",type:"number"},on:{"on-blur":function(a){e.checkAmt(t,n)},"on-focus":function(t){e.getFocus(t)}},model:{value:t.numberWorkers,callback:function(a){e.$set(t,"numberWorkers",e._n(a))},expression:"item.numberWorkers"}}),e._v(" "),a("cell",{attrs:{title:"设施",isLink:""},nativeOn:{click:function(t){e.showFacility(n)}},model:{value:t.facilityName_facilityObjCode,callback:function(a){e.$set(t,"facilityName_facilityObjCode",a)},expression:"item.facilityName_facilityObjCode"}})],1)})]:a("div",{staticClass:"order-info",on:{click:function(t){e.showWorkPop=!0}}},[a("div",{staticClass:"title"},[e._v("工序信息")]),e._v(" "),a("div",{staticClass:"mode"},[e._v("请选择工序")]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r-arrow"})])],2),e._v(" "),a("pop-work-list",{ref:"matter",attrs:{show:e.showWorkPop,defaultValue:e.workInfo},on:{"sel-work":e.selWork},model:{value:e.showWorkPop,callback:function(t){e.showWorkPop=t},expression:"showWorkPop"}}),e._v(" "),a("pop-manager-list",{attrs:{show:e.showManagerPop,defaultValue:e.defaultManager},on:{"sel-item":e.selManager},model:{value:e.showManagerPop,callback:function(t){e.showManagerPop=t},expression:"showManagerPop"}}),e._v(" "),a("pop-work-facility-list",{attrs:{show:e.showFacilityPop,defaultValue:e.defaultFacility},on:{"sel-item":e.selFacility},model:{value:e.showFacilityPop,callback:function(t){e.showFacilityPop=t},expression:"showFacilityPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t"},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},EOEs:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.projectInfo.project?a("div",{staticClass:"project_ct_info"},[e._m(0),e._v(" "),a("div",{staticClass:"info_content"},[a("div",{staticClass:"each_info"},[a("span",{staticClass:"title"},[e._v("项目名称: ")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e.projectInfo.project||"无"))])]),e._v(" "),a("div",{staticClass:"each_info"},[a("span",{staticClass:"title"},[e._v("项目类型: ")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e.projectInfo.projectType_project||"无"))])])])]):e._e()},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"info_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-xiangmu"}),e._v("项目信息")])}],r={render:n,staticRenderFns:i};t.a=r},EQ3w:function(e,t){},EQWA:function(e,t){},ESmm:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("J0Oq"),o=n(s),l=a("rVsN"),d=n(l),u=a("3cXf"),c=n(u),f=a("a3Yh"),m=n(f),h=a("IHPB"),v=n(h),p=a("KH7x"),C=n(p),_=a("4YfN"),y=n(_),b=a("8VZL"),g=n(b),w=a("HXPS"),I=n(w),x=a("fQz5"),D=n(x),P=a("Iu/6"),k=n(P),S=a("6q39"),T=n(S),L=a("HyXB"),N=a("I3vJ"),M=a("I8ug"),A=a("1KNX"),O=n(A),R=a("7biW"),j=n(R);t.default={components:{Tab:g.default,Icon:I.default,TabItem:D.default,Spinner:k.default,LoadMore:T.default,RScroll:O.default,RSearch:j.default},data:function(){return{listId:"78a798f8-0f3a-4646-aa8b-d5bb1fada28c",srhInpTx:"",matNature:[{name:"全部"},{name:"成品"},{name:"半成品"},{name:"商品"},{name:"原件"},{name:"虚拟件"},{name:"商品库存"},{name:"客供原料"},{name:"服务"}],activeTab:"",activeIndex:0,matterList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0},total:null,clickVisited:!1,action:{}}},methods:{goEditAds:function(){var e={path:"/materlist/addMater"};this.activeTab.length&&(e.query={matterType:this.activeTab}),this.$router.push(e)},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},goDetail:function(e,t){var a=this;this.clickVisited||(this.clickVisited=!0,e.visited=!0,this.$set(this.matterList,t,(0,y.default)({},e)),setTimeout(function(){a.clickVisited=!1,a.$router.push({path:"/materlist/materDetail",query:{transCode:e.transCode}})},200))},resetCondition:function(){this.matterList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.$refs.bScroll.resetPullDown()},tabClick:function(e,t){this.activeTab=t?e.name:"",this.activeIndex=t,this.resetCondition(),this.getMatList()},getDictByType:function(){var e=this;return(0,L.getDictByType)("processing").then(function(t){var a=t.tableContent,n=(0,C.default)(a,1);n[0];e.activeTab="",a.unshift({name:"全部"}),e.matNature=[].concat((0,v.default)(a))})},getMatList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=[{operator:"eq",value:this.activeTab,property:"processing"}];if(this.activeIndex||(a[0].operator="like"),this.srhInpTx){var n;a=[].concat((0,v.default)(a),[(n={link:"or",property_1:"inventoryCode",operator_1:"like",value_1:this.srhInpTx},(0,m.default)(n,"property_1","inventoryName"),(0,m.default)(n,"operator_1","like"),(0,m.default)(n,"value_2",this.srhInpTx),n)])}return(0,N.getMatList)({limit:this.limit,page:this.page,filter:(0,c.default)(a),listViewID:2132}).then(function(a){var n=a.dataCount,i=void 0===n?0:n,r=a.tableContent,s=void 0===r?[]:r,o="";t&&0===e.activeIndex&&e.total&&(o=i-e.total==0?"暂无新数据":"新增"+(i-e.total)+"条数据",e.$vux.toast.show({text:o,position:"top",width:"50%",type:"text",time:700})),0===e.activeIndex&&1===e.page&&sessionStorage.setItem("WL",i),s.forEach(function(t){t.inventoryPic=t.inventoryPic?"/H_roleplay-si/ds/download?url="+t.inventoryPic+"&width=400&height=400":e.getDefaultImg()}),e.hasNext=i>(e.page-1)*e.limit+s.length,e.matterList=1===e.page?s:[].concat((0,v.default)(e.matterList),(0,v.default)(s)),t||e.$nextTick(function(){e.resetScroll()})}).catch(function(t){e.resetScroll()})},resetScroll:function(){this.$refs.bScroll.finishPullDown(),this.$refs.bScroll.finishPullUp()},searchMat:function(e){var t=e.val,a=void 0===t?"":t;e.property;this.srhInpTx=a,this.resetCondition(),this.getMatList()},onPullingUp:function(){this.page++,this.getMatList()},onPullingDown:function(){this.page=1,this.getData(!0)},getSession:function(){var e=this;return new d.default(function(t){e.total=sessionStorage.getItem("WL"),t()})},getData:function(e){var t=this;return(0,o.default)(r.default.mark(function a(){return r.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getSession();case 2:if(!e){a.next=6;break}return a.next=5,t.getMatList(!0).then(function(){t.$nextTick(function(){t.$refs.bScroll.finishPullDown().then(function(){t.$refs.bScroll.finishPullUp()})})});case 5:return a.abrupt("return");case 6:return a.next=8,t.getMatList();case 8:case"end":return a.stop()}},a,t)}))()},changeVisitedStatus:function(){var e=this;setTimeout(function(){var t=[].concat((0,v.default)(e.matterList));t.forEach(function(e){e.visited=!1}),e.matterList=t},200)},getAppDetail:function(){var e=this;return(0,M.getAppDetail)(this.listId).then(function(t){var a=(0,C.default)(t,1),n=a[0],i=void 0===n?{}:n,r=i.action;e.action=r})}},watch:{$route:{handler:function(e,t){var a=e.path,n=void 0===a?"":a,i=e.meta,r=void 0===i?{}:i;"/materlist"===n&&(this.changeVisitedStatus(),r.reload&&(e.meta.reload=!1,this.srhInpTx="",this.activeTab="",this.activeIndex=0,this.resetCondition(),this.getData(!1)))}}},created:function(){var e=this;(0,o.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getAppDetail();case 2:return t.next=4,e.getSession();case 4:return t.next=6,e.getDictByType().then(function(){e.getMatList()});case 6:case"end":return t.stop()}},t,e)}))()}}},ET1x:function(e,t){},EVlf:function(e,t,a){"use strict";function n(e){a("68Zv")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("FnN8");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Q1rT"),o=a.n(s),l=a("lH9/"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-dc1482dc",null);t.default=c.exports},"EZe+":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("a3Yh"),o=n(s),l=a("4YfN"),d=n(l),u=a("MgeX"),c=n(u),f=a("IHPB"),m=n(f),h=a("3cXf"),v=n(h),p=a("HXPS"),C=n(p),_=a("SAzG"),y=n(_),b=a("PzEQ"),g=n(b),w=a("BGNQ"),I=n(w),x=a("0AQX"),D=a("HyXB"),P=a("bKg5"),k=n(P),S=a("vl8n"),T=n(S),L=a("kZy/"),N=n(L),M=a("y8YJ"),A=(n(M),a("yt3/")),O=(n(A),a("luHD")),R=n(O),j=a("zlAJ"),$=n(j),B=a("+WR7"),E=n(B),F=a("VZtf"),U=n(F),q=a("Qg39"),Q=a("zWMP");t.default={data:function(){return{listId:"4472a646-f2c8-4a07-bad6-4c01f0b9292f",matterList:[],showMaterielPop:!1,transCode:"",formData:{biComment:""},priceMap:{},matterParams:{processing:"低值易耗品"}}},components:{Icon:C.default,XInput:y.default,RPicker:T.default,XTextarea:g.default,PopMatterList:N.default,PopMatter:R.default,UploadFile:$.default,PopBaseinfo:E.default,Cell:I.default,RNumber:U.default},mixins:[k.default],methods:{delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,v.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=this;this.matterList.forEach(function(t){e.priceMap[t.inventoryCode]={price:t.price,priceType:t.priceType}}),this.showMaterielPop=!this.showMaterielPop},selMatter:function(e){var t=this,a=JSON.parse(e);a.forEach(function(e){var a=t.priceMap[e.inventoryCode]||{};e.price=a.price||"",e.priceType=a.priceType||"渠道价"}),this.priceMap={},this.matterList=[].concat((0,m.default)(a))},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},save:function(){var e=this,t="",a=[];if([{key:"matterList",message:"物料"}].every(function(a){return!!(0,c.default)(e[a.key]).length||(t="请选择"+a.message,!1)}),this.matterList.every(function(n){if(!n.tdQty)return t="请输入本次申请",!1;var i={transObjCode:n.inventoryCode,inventoryName_transObjCode:n.inventoryName,tdProcessing:n.processing,specification_transObjCode:n.specification,measureUnit_transObjCode:n.measureUnit,assMeasureUnit:n.assMeasureUnit||null,assMeasureScale:n.assMeasureScale||null,assistQty:n.assistQty||0,tdQty:n.tdQty,price:n.price,tdAmount:n.tdAmount,comment:n.comment||null};return e.transCode&&(i.tdId=n.tdId||""),a.push(i),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=D.saveAndStartWf,n=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,order:{dataSet:a}}),i={listId:e.listId,biComment:"",formData:(0,v.default)(n),wfPara:(0,v.default)((0,o.default)({},e.processCode,{businessKey:"PAPO",createdBy:n.creator}))};e.transCode&&(t=D.saveAndCommitTask,i.biReferenceId=e.biReferenceId,i.wfPara=(0,v.default)({businessKey:e.transCode,createdBy:n.creator,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=D.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,x.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var u=[];e.attachment=l;var c=s.order,f=c.dataSet,m=void 0===f?[]:f,h=!0,v=!1,p=void 0;try{for(var C,_=(0,r.default)(m);!(h=(C=_.next()).done);h=!0){var y=C.value;y=(0,d.default)({},y,{inventoryPic:y.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+y.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:y.inventoryName_transObjCode,inventoryCode:y.inventoryCode_transObjCode,specification:y.specification_transObjCode,processing:y.tdProcessing,measureUnit:y.measureUnit_transObjCode,inventoryColor:y.inventoryColor_transObjCode}),u.push(y)}}catch(e){v=!0,p=e}finally{try{!h&&_.return&&_.return()}finally{if(v)throw p}}e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:s.biComment,biId:s.biId,biProcessStatus:s.biProcessStatus,creator:s.creator,modifer:s.modifer}),e.biReferenceId=s.biReferenceId,e.matterList=u,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,o.default)({},"DZYHPCGSQ_DATA",{matter:this.matterList,formData:this.formData})},checkAmt:function(e){var t=e.tdQty,a=e.price;t=Math.abs((0,q.toFixed)(t)),a=Math.abs((0,q.toFixed)(a)),t&&(e.tdQty=t,e.tdAmount=(0,q.toFixed)((0,Q.accMul)(t,a))),a&&(e.price=a,e.tdAmount=(0,q.toFixed)((0,Q.accMul)(t,a)))}},created:function(){var e=sessionStorage.getItem("DZYHPCGSQ_DATA");e&&(this.matterList=JSON.parse(e).matter,this.formData=JSON.parse(e).formData,sessionStorage.removeItem("DZYHPCGSQ_DATA"))}}},Ef2G:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper nbjdgg-detail-container"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"materiel_list"},[e._m(0),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n){return a("div",{key:n,staticClass:"each_mater"},[a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v("计划号")]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]),e._v(" "),a("div",{staticClass:"order_matter"},[e._l(t,function(n,i){return[a("matter-item",{class:{"vux-1px-b":i<t.length-1},attrs:{item:n},scopedSlots:e._u([{key:"other",fn:function(t){var n=t.item;return a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_num"},[a("span",{staticClass:"num"},[e._v("\n                      本次下单: "+e._s(e._f("toFixed")(n.tdQty))+"\n                    ")]),e._v(" "),a("span",{staticClass:"units"},[e._v("\n                      [待下单余额: "+e._s(e._f("toFixed")(n.thenQtyBal))+"]\n                    ")]),e._v(" "),a("span",{staticClass:"get_bom",on:{click:function(t){e.checkBom(n)}}},[e._v("查看原料")])]),e._v(" "),a("div",{staticClass:"mater_num"},[n.shippingTime?a("span",{staticClass:"num"},[e._v("\n                      主计划完工入库日: "+e._s(n.shippingTime)+"\n                    ")]):e._e()])])}}])})]})],2)])}))]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.UniqueBom.length,expression:"UniqueBom.length"}],staticClass:"bom_list"},[a("bom-list",{attrs:{boms:e.UniqueBom},scopedSlots:e._u([{key:"number",fn:function(t){var n=t.bom;return[a("div",{staticClass:"number-part"},[a("span",{staticClass:"main-number"},[e._v("领料需求: "+e._s(n.tdQty)+e._s(n.measureUnit))])])]}}])})],1),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("bom-pop",{staticClass:"bom_pop",attrs:{show:e.bomPopShow,bomInfo:e.bom,"is-edit":!1},scopedSlots:e._u([{key:"number",fn:function(t){var n=t.bom;return[a("div",{staticClass:"number-part"},[a("span",{staticClass:"main-number"},[e._v("领料需求: "+e._s(n.tdQty)+e._s(n.measureUnit))])])]}}]),model:{value:e.bomPopShow,callback:function(t){e.bomPopShow=t},expression:"bomPopShow"}}),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title"},[a("span",{staticClass:"iconfont icon-Shape"}),e._v("物料列表\n      ")])}],r={render:n,staticRenderFns:i};t.a=r},"EfN/":function(e,t,a){"use strict";function n(e){a("Q9H3")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("NzC7");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("DSiR"),o=a.n(s),l=a("W0BY"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-ff2bc69a",null);t.default=c.exports},En9Q:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper xsddyc-detail-container"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.contactInfo}},[a("div",{staticClass:"other",attrs:{slot:"other"},slot:"other"},[a("span",{staticClass:"title"},[e._v("日期期间: ")]),e._v(" "),a("span",{staticClass:"mode"},[e._v(e._s(e.orderInfo.duringDate||"暂无"))])])]),e._v(" "),a("matter-list",{attrs:{"matter-list":e.orderInfo.order.dataSet,noTaxAmount:e.noTaxAmount,taxAmount:e.taxAmount,count:e.count},scopedSlots:e._u([{key:"matterOther",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("单价: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.price),3)))]),e._v(" "),a("span",[e._v("数量: "+e._s(e._f("toFixed")(n.tdQty)))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.taxRate,expression:"item.taxRate"}]},[e._v("税率: "+e._s(n.taxRate))])]),e._v(" "),n.promDeliTime?a("div",{staticClass:"mater_attribute"},[a("span",[e._v("预期交货日: "+e._s(n.promDeliTime))])]):e._e(),e._v(" "),a("div",{staticClass:"mater_price"},[a("span",[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(n.tdAmount),3)))]),e._v(" "),n.taxRate?a("span",{staticClass:"num",style:{display:n.tdAmount&&n.tdAmount.toString().length>=7?"block":""}},[e._v("\n                [金额: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.noTaxAmount),3))+" + 税金: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.taxAmount),3))+"]\n              ")]):e._e()])])]}}])}),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},Eo7N:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"r-number-container"},[a("span",{staticClass:"r-number-handle",class:{disabled:e.min&&e.currentNum<=e.min},on:{click:function(t){return t.stopPropagation(),e.subNum(t)}}},[e._v("-")]),e._v(" "),a("input",{staticClass:"num",attrs:{type:"number"},domProps:{value:e.currentNum},on:{blur:e.getNum}}),e._v(" "),a("span",{staticClass:"r-number-handle plus",class:{disabled:e.max&&e.currentNum>=e.max},on:{click:function(t){return t.stopPropagation(),e.plusNum(t)}}},[e._v("+")])])},i=[],r={render:n,staticRenderFns:i};t.a=r},"Eq/F":function(e,t){},EzjB:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("3cXf"),o=n(s),l=a("a3Yh"),d=n(l),u=a("4YfN"),c=n(u),f=a("7g+Q"),m=n(f),h=a("+62G"),v=n(h),p=a("z5TY"),C=n(p),_=a("BGNQ"),y=n(_),b=a("iR2W"),g=n(b),w=a("u28h"),I=n(w),x=a("SAzG"),D=n(x),P=a("PzEQ"),k=n(P),S=a("0AQX"),T=a("HyXB"),L=a("I3vJ"),N=a("bKg5"),M=n(N),A=a("wRUd"),O=n(A),R=a("i61Q"),j=n(R),$=a("hByD"),B=n($),E=a("89pA"),F=n(E),U=a("vl8n"),q=n(U),Q=a("+WR7"),H=n(Q),V=a("0o6b"),X=a("zWMP"),z=a("Qg39");t.default={directives:{TransferDom:v.default},components:{Popup:m.default,PopWorkList:j.default,Group:C.default,Cell:y.default,Datetime:I.default,XInput:D.default,XTextarea:k.default,PopManagerList:O.default,RPicker:q.default,PopWorkFacilityList:B.default,PopWarehouseList:F.default,PopBaseinfo:H.default},data:function(){return{listId:"2372f734-93c1-11e8-85db-005056a136d0",showWorkPop:!1,showManagerPop:!1,showFacilityPop:!1,formData:{biComment:"",biProcessStatus:""},workInfo:[],defaultManager:{},defaultFacility:{},scanResult:"",warehouse:{},filter:[{operator:"in",property:"whCode",value:""},{operator:"in",property:"parentInvCode",value:""}],filterParams:[{property:"warehouseType",operator:"eq",value:"加工车间仓"}],managerIndex:null,facilityIndex:null}},mixins:[M.default],filters:{numberComma:g.default},methods:{selWork:function(e){this.workInfo=JSON.parse(e),this.workInfo.forEach(function(e,t){e.tdQty=e.thenQtyBal})},showManager:function(e){this.managerIndex=e,this.showManagerPop=!this.showManagerPop},selManager:function(e){this.defaultManager=JSON.parse(e),this.workInfo[this.managerIndex].dealerName_dealerDebit=this.defaultManager.dealerName,this.workInfo[this.managerIndex].dealerDebit=this.defaultManager.dealerCode,this.workInfo[this.managerIndex].drDealerLabel=this.defaultManager.dealerLabelName},showFacility:function(e){this.facilityIndex=e,this.showFacilityPop=!this.showFacilityPop},selFacility:function(e){this.defaultFacility=e,this.workInfo[this.facilityIndex].facilityName_facilityObjCode=this.defaultFacility.facilityName,this.workInfo[this.facilityIndex].facilityObjCode=this.defaultFacility.facilityCode,this.workInfo[this.facilityIndex].facilityTypebase_facilityObjCode=this.defaultFacility.facilityType},checkAmt:function(e,t){var a=e.tdQty,n=e.thenQtyBal,i=e.numberWorkers;a&&(a>n&&(e.tdQty=n),e.tdQty=Math.abs((0,z.toFixed)(a)),e.boms&&e.boms.forEach(function(t){var a=(0,X.accMul)(e.tdQty,t.qty);t.tdQty=Math.abs((0,z.toFixed)(a))})),i&&(e.numberWorkers=Math.round(i))},selWarehouse:function(e){var t=this;this.warehouse=JSON.parse(e),this.filter[0].value=this.warehouse.warehouseCode,this.workInfo.forEach(function(e,a){t.filter[1].value=e.inventoryCode,t.getTaskBom(a).then(function(n){e.boms=n,t.$set(t.workInfo,a,(0,c.default)({},e))})})},submitOrder:function(){var e=this,t="",a=[],n=[{key:"tdQty",message:"请填写派工数量"},{key:"dealerName_dealerDebit",message:"请选择组长"},{key:"promDeliTime",message:"请选择要求完工日期"}];if(this.workInfo.length||(t="请选择工序"),t||this.warehouse.warehouseCode||(t="请选择在制仓库"),t||this.workInfo.every(function(e){n.every(function(a){return!(!e[a.key]&&0!==e[a.key])||(t=a.message,!1)});var i=[];return e.boms.forEach(function(t){i.push({tdQty:t.tdQty,proPointCode:e.proPointCode,processCode:e.transCode,processProCode:e.inventoryCode,outPutMatCode:t.inventoryCode,thenQtyStock:t.qtyBal,specification_outPutMatCode:t.specification,tdProcessing:t.processing,inventoryName_outPutMatCode:t.inventoryName,measureUnit_outPutMatCode:t.measureUnit,bomType:t.bomType,bomQty:t.qty,thenLockQty:t.tdQty,thenQtyBal:0})}),a.push({transMatchedCode:e.transCode,processProQty:e.processProQty||null,transObjCode:e.inventoryCode,inventoryName_transObjCode:e.inventoryName,proPointCode:e.proPointCode,procedureName_proPointCode:e.procedureName,tdId:e.tdId||null,productDemandQty:e.productDemandQty,thenLockQty:e.thenLockQty,thenQtyBal:e.thenQtyBal,tdQty:e.tdQty,dealerName_dealerDebit:e.dealerName_dealerDebit,dealerDebit:e.dealerDebit,drDealerLabel:e.drDealerLabel,numberWorkers:e.numberWorkers,facilityName_facilityObjCode:e.facilityName_facilityObjCode,proFlowCode:e.proFlowCode||"",technicsName_proFlowCode:e.technicsName,promDeliTime:e.promDeliTime,facilityObjCode:e.facilityObjCode||"",facilityTypebase_facilityObjCode:e.facilityTypebase_facilityObjCode||"",boms:i}),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=T.saveAndStartWf,n=(0,d.default)({},e.processCode,{businessKey:"WTSK",createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.formData.biComment,formData:(0,o.default)((0,c.default)({},e.formData,{handlerEntity:e.entity.dealerName,order:{containerCode:e.warehouse.warehouseCode,dataSet:a}})),wfPara:(0,o.default)(n)};e.isResubmit&&(t=T.saveAndCommitTask,i.biReferenceId=e.biReferenceId),e.processCode.length||(t=T.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),console.log(i),e.saveData(t,i)}})},scanQRCode:function(){var e=this;(0,V.scanQRCode)().then(function(t){var a=t.result,n=void 0===a?"":a;e.scanResult=n})},onHistoryBack:function(){return!this.showWorkPop||(this.showWorkPop=!1,!1)},getFormData:function(){var e=this;return(0,S.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=t.attachment;var o=[],l=s.order,d=l.dataSet,u=void 0===d?[]:d,f=!0,m=!1,h=void 0;try{for(var v,p=(0,r.default)(u);!(f=(v=p.next()).done);f=!0){var C=v.value;C=(0,c.default)({},C,{inventoryCode:C.transObjCode,inventoryName:C.inventoryName_outPutMatCode,procedureName:C.procedureName_proPointCode,technicsName:C.technicsName_proFlowCode,transCode:C.transMatchedCode,processing:C.tdProcessing||null}),C.boms.forEach(function(e){e.inventoryCode=e.outPutMatCode,e.nventoryName=e.inventoryName_outPutMatCode,e.measureUnit=e.measureUnit_outPutMatCode,e.parentInvCode=e.processProCode,e.processing=e.tdProcessing,e.qty=e.bomQty,e.qtyBal=e.thenQtyStock,e.specification=e.specification_outPutMatCode}),o.push(C)}}catch(e){m=!0,h=e}finally{try{!f&&p.return&&p.return()}finally{if(m)throw h}}e.workInfo=o,e.warehouse={warehouseCode:l.containerCode,warehouseName:l.warehouseName_containerCode,warehouseType:l.warehouseType_containerCode,warehouseProvince:l.warehouseProvince_containerCode,warehouseCity:l.warehouseCity_containerCode,warehouseDistrict:l.warehouseDistrict_containerCode,warehouseAddress:l.warehouseAddress_containerCode},e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,c.default)({},e.handlerDefault,{biComment:s.biComment,biId:s.biId,biProcessStatus:s.biProcessStatus,creator:s.creator,modifer:s.modifer}),e.biReferenceId=s.biReferenceId,e.$loading.hide()})},getTaskBom:function(e){var t=this;return this.filter[0].value=this.warehouse.warehouseCode,(0,L.getTaskBom)({filter:(0,o.default)(this.filter)}).then(function(a){var n=a.tableContent,i=void 0===n?[]:n;return i.forEach(function(a){var n=t.workInfo[e].tdQty,i=(0,X.accMul)(n,a.qty);a.tdQty=(0,z.toFixed)(i)}),i})}},created:function(){}}},"F+mj":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"WarehouseContent",props:{warehouse:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:{noAddress:function(){var e=this.warehouse,t=e.warehouseProvince,a=void 0===t?"":t,n=e.warehouseCity,i=void 0===n?"":n,r=e.warehouseDistrict,s=void 0===r?"":r,o=e.warehouseAddress,l=void 0===o?"":o;return!(a||i||s||l)}}}},F0gW:function(e,t,a){"use strict";function n(e){a("RFiS")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("SSut");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Vfwi"),o=a.n(s),l=a("IK4/"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-1d8ed812",null);t.default=c.exports},F2L3:function(e,t,a){"use strict";function n(e){a("Itsb")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("eRTo");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("VOK4"),o=a.n(s),l=a("QDJI"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-653095fc",null);t.default=c.exports},F9M6:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("hRKE"),o=n(s),l=a("fBTP"),d=n(l),u=a("nKjL"),c=a("aiMs"),f=n(c),m=a("uJtz"),h=n(m),v=a("71iV");n(v);t.default={name:"picker",components:{Flexbox:u.Flexbox,FlexboxItem:u.FlexboxItem},created:function(){if(0!==this.columns){var e=this.columns;this.store=new f.default(this.data,e,this.fixedColumns||this.columns),this.currentData=this.store.getColumns(this.value)}},mounted:function(){var e=this;this.uuid=Math.random().toString(36).substring(3,8),this.$nextTick(function(){e.render(e.currentData,e.currentValue)})},props:{data:Array,columns:{type:Number,default:0},fixedColumns:{type:Number,default:0},value:Array,itemClass:{type:String,default:"scroller-item"},columnWidth:Array},methods:{getNameValues:function(){return(0,h.default)(this.currentValue,this.data)},getId:function(e){return"#vux-picker-"+this.uuid+"-"+e},render:function(e,t){this.count=this.currentData.length;var a=this;if(e&&e.length){var n=this.currentData.length;if(t.length<n)for(var i=0;i<n;i++)this.$set(a.currentValue,i,e[i][0].value||e[i][0]);for(var r=0;r<e.length;r++){var s=function(n){if(!document.querySelector(a.getId(n)))return{v:void 0};a.scroller[n]&&a.scroller[n].destroy(),a.scroller[n]=new d.default(a.getId(n),{data:e[n],defaultValue:t[n]||e[n][0].value,itemClass:a.itemClass,onSelect:function(e){a.$set(a.currentValue,n,e),(!this.columns||this.columns&&a.getValue().length===a.store.count)&&a.$nextTick(function(){a.$emit("on-change",a.getValue())}),0!==a.columns&&a.renderChain(n+1)}}),a.currentValue&&a.scroller[n].select(t[n])}(r);if("object"===(void 0===s?"undefined":(0,o.default)(s)))return s.v}}},renderChain:function(e){if(this.columns&&!(e>this.count-1)){var t=this,a=this.getId(e);this.scroller[e].destroy();var n=this.store.getChildren(t.getValue()[e-1]);this.scroller[e]=new d.default(a,{data:n,itemClass:t.item_class,onSelect:function(a){t.$set(t.currentValue,e,a),t.$nextTick(function(){t.$emit("on-change",t.getValue())}),t.renderChain(e+1)}}),n.length?(this.$set(this.currentValue,e,n[0].value),this.renderChain(e+1)):this.$set(this.currentValue,e,null)}},getValue:function(){for(var e=[],t=0;t<this.currentData.length;t++){if(!this.scroller[t])return[];e.push(this.scroller[t].value)}return e},emitValueChange:function(e){(!this.columns||this.columns&&e.length===this.store.count)&&this.$emit("on-change",e)}},data:function(){return{scroller:[],count:0,uuid:"",currentData:this.data,currentValue:this.value}},watch:{value:function(e){(0,r.default)(e)!==(0,r.default)(this.currentValue)&&(this.currentValue=e)},currentValue:function(e,t){if(this.$emit("input",e),0!==this.columns)e.length>0&&(0,r.default)(e)!==(0,r.default)(t)&&(this.currentData=this.store.getColumns(e),this.$nextTick(function(){this.render(this.currentData,e)}));else if(e.length)for(var a=0;a<e.length;a++)this.scroller[a]&&this.scroller[a].value!==e[a]&&this.scroller[a].select(e[a]);else this.render(this.currentData,[])},data:function(e){(0,r.default)(e)!==(0,r.default)(this.currentData)&&(this.currentData=e)},currentData:function(e){var t=this;if("[object Array]"===Object.prototype.toString.call(e[0]))this.$nextTick(function(){t.render(e,t.currentValue),t.$nextTick(function(){t.emitValueChange(t.getValue()),(0,r.default)(t.getValue())!==(0,r.default)(t.currentValue)&&(!t.columns||t.columns&&t.getValue().length===t.store.count)&&(t.currentValue=t.getValue())})});else if(0!==this.columns){if(!e.length)return;var a=this.columns;this.store=new f.default(e,a,this.fixedColumns||this.columns),this.currentData=this.store.getColumns(this.currentValue)}}},beforeDestroy:function(){for(var e=0;e<this.count;e++)this.scroller[e]&&this.scroller[e].destroy(),this.scroller[e]=null}}},FA8z:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"icon",props:{type:String,isMsg:Boolean},computed:{className:function(){return"weui-icon weui_icon_"+this.type+" weui-icon-"+this.type.replace(/_/g,"-")}}}},FBTb:function(e,t,a){"use strict";function n(e){a("o/Mw")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("xZDR");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("UZRl"),o=a.n(s),l=a("QfTN"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-3a326a29",null);t.default=c.exports},FFsY:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("KH7x"),o=n(s),l=a("3cXf"),d=n(l),u=a("0AQX"),c=a("+VRO"),f=n(c),m=a("BUFe"),h=n(m),v=a("AupE"),p=n(v),C=a("bFc7"),_=n(C),y=a("6WeX"),b=n(y),g=a("3NX5"),w=n(g),I=a("zWMP"),x=a("Qg39");t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"",contactInfo:{}}},components:{workFlow:p.default,RAction:h.default,contactPart:_.default,PriceTotal:b.default,MatterList:w.default},mixins:[f.default],methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(e.submitInfo=JSON.parse((0,d.default)(t)),!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.formData,n=void 0===a?{}:a,i=n.order,s=n.inPut,l=i.dataSet,u=s.dataSet,c=(0,o.default)(u,1),f=c[0],m=!0,h=!1,v=void 0;try{for(var p,C=(0,r.default)(l);!(m=(p=C.next()).done);m=!0){var _=p.value;_.noTaxAmount=(0,I.accMul)(_.price,_.tdQty),_.taxAmount=(0,I.accMul)(_.noTaxAmount,_.taxRate),_.tdAmount=(0,x.toFixed)((0,I.accAdd)(_.noTaxAmount,_.taxAmount)),e.count=(0,I.accAdd)(e.count,_.tdAmount),_.inventoryPic=_.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){h=!0,v=e}finally{try{!m&&C.return&&C.return()}finally{if(h)throw v}}e.attachment=t.attachment,e.orderInfo=n,e.contactInfo={creatorName:i.dealerDebitContactPersonName,dealerName:i.dealerName_dealerDebit,dealerMobilePhone:n.dealerDebitContactInformation,dealerContactPersonName:n.dealerDebitContactPersonName,dealerCode:i.dealerDebit,dealerLabelName:i.drDealerLabel,province:i.province_dealerDebit,city:i.city_dealerDebit,county:i.county_dealerDebit,address:i.address_dealerDebit,payment:i.drDealerPaymentTerm,logistics:n.drDealerLogisticsTerms,validUntil:s.validUntil,thenTotalAmntBal:f.thenTotalAmntBal,tdAmountCopy1:f.tdAmountCopy1,advancePaymentDueDate:f.advancePaymentDueDate,daysOfAccount:s.daysOfAccount},e.workFlowInfoHandler()})}}}},FGYN:function(e,t,a){"use strict";function n(e){a("ph0E")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("W3IX");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("5pt1"),o=a.n(s),l=a("rYgZ"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-5023ec91",null);t.default=c.exports},"FIt+":function(e,t,a){"use strict";function n(e){a("IDW0")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("h8ox");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("FTWd"),o=a.n(s),l=a("GqQH"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-1ff5777e",null);t.default=c.exports},FKOt:function(e,t,a){"use strict";function n(e){a("CHIe")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("UFIK");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("rQbX"),o=a.n(s),l=a("Khn/"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-6e017f58",null);t.default=c.exports},FKiD:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("3cXf"),o=n(s),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("u28h"),C=n(p),_=a("PzEQ"),y=n(_),b=a("kNGm"),g=(n(b),a("jnZd")),w=n(g),I=(a("0AQX"),a("Z6x5")),x=a("HyXB"),D=a("bKg5"),P=n(D),k=a("vl8n"),S=n(k),T=a("+WR7"),L=n(T),N=a("iikc"),M=n(N);t.default={data:function(){return{listId:"98519ac0-d2d7-11e8-b8ca-0279b2c6a380",formData:{biId:"",biComment:"",biProcessStatus:""},biReferenceId:"",MobileWarn:!1,idCardWarn:!1,groupList:[],roleList:[]}},components:{Cell:c.default,Group:m.default,XInput:v.default,Datetime:C.default,XTextarea:y.default,PopupPicker:w.default,RPicker:S.default,PopBaseinfo:L.default,PopSalesmanList:M.default},mixins:[P.default],methods:{getAllGroup:function(){var e=this;(0,I.getAllGroup)().then(function(t){var a=[];t.tableContent.forEach(function(e){a.push(e.groupName)}),e.groupList.push(a)})},getAllRoleInfo:function(){var e=this;(0,I.getAllRoleInfo)().then(function(t){var a=[];t.tableContent.forEach(function(e){a.push(e.roleName)}),e.roleList.push(a)})},submitOrder:function(){var e=this,t="",a=[{key:"hiresName",message:"员工"}];if(t||a.every(function(a){return!!e.formData[a.key]||(t="请选择"+a.message,!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=x.saveAndStartWf,a=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,hiresDepartMent:e.formData.hiresDepartMent&&e.formData.hiresDepartMent[0],hiresPost:e.formData.hiresPost&&e.formData.hiresPost[0]}),n={listId:e.listId,biComment:"",formData:(0,o.default)(a)};e.isResubmit&&(t=x.saveAndCommitTask,n.biReferenceId=e.biReferenceId,n.wfPara=(0,o.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=x.submitAndCalc,delete n.wfPara,delete n.biReferenceId),e.biReferenceId&&(n.biReferenceId=e.biReferenceId),e.saveData(t,n)}})},hasDraftData:function(){var e=this.formData;if(e.profileName||e.idCard)return(0,r.default)({},"YGRZ_DATA",{formData:e})}},created:function(){this.getAllGroup(),this.getAllRoleInfo();var e=sessionStorage.getItem("YGRZ_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,sessionStorage.removeItem("YGRZ_DATA")}}}},FLut:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("3cXf"),o=n(s),l=a("HXPS"),d=n(l),u=a("7g+Q"),c=n(u),f=a("6q39"),m=n(f),h=a("L6VY"),v=n(h),p=a("+62G"),C=n(p),_=a("7biW"),y=n(_),b=a("yKqG"),g=(n(b),a("jLp1")),w=a("1KNX"),I=n(w);t.default={name:"PopNameList",props:{defaultValue:{type:Object,default:function(){return{}}}},directives:{TransferDom:C.default},components:{Icon:d.default,Popup:c.default,DSearch:y.default,LoadMore:m.default,RScroll:I.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},dealerList:[],bScroll:null,limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},isChoice:!0}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:function(e){this.selItems=JSON.parse((0,o.default)(this.defaultValue))}},filters:{handlerDate:function(e){return e.split(" ")[0]}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},showSelIcon:function(e){return this.selItems.PROJECT_NAME===e.PROJECT_NAME},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.$emit("sel-item",(0,o.default)(this.selItems))},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getDealer:function(){var e=this,t=[],a={limit:this.limit,page:this.page,start:(this.page-1)*this.limit};this.srhInpTx&&(t=[].concat((0,r.default)(t),[{operator:"like",value:this.srhInpTx,property:"PROJECT_NAME"}]),a.filter=(0,o.default)(t)),(0,g.getProjectApproval)(a).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,s=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+s.length,e.dealerList=1===e.page?s:[].concat((0,r.default)(e.dealerList),(0,r.default)(s)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})}).catch(function(e){v.default.show({content:e.message})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.dealerList=[],this.page=1,this.hasNext=!0,this.getDealer()},onPullingUp:function(){this.page++,this.getDealer()},itemClick:function(){this.showPop=!0}},created:function(){this.selItems=JSON.parse((0,o.default)(this.defaultValue)),this.$route.query.relationKey&&(this.isChoice=!1),this.getDealer()}}},FMvG:function(e,t){},FO0W:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"childPage"},[a("div",{staticClass:"detail_content"},[a("div",{staticClass:"mater_baseinfo vux-1px-b"},[a("div",{staticClass:"mater_property"},[a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("公司名称:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.CompanyInfo.groupName))])]),e._v(" "),a("div",{staticClass:"each_property"},[a("label",[e._v("公司简称:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.CompanyInfo.groupShortName))])])]),e._v(" "),a("div",{staticClass:"mater_pic vux-1px-l"},[a("div",{staticClass:"add_icon"},[a("label",{attrs:{for:"file"}}),e._v(" "),a("img",{staticClass:"upload",attrs:{src:e.CompanyInfo.groupPic},on:{error:e.getDefaultImg}})])])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("公司类型:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.CompanyInfo.companyType))])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("公司状态:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v("\n         "+e._s(e.CompanyInfo.status)+"\n      ")])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("创建者:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v("\n         "+e._s(e.CompanyInfo.creator)+"\n      ")])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("创建时间:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v("\n         "+e._s(e.CompanyInfo.crtTime)+"\n      ")])]),e._v(" "),e.CompanyInfo.modifier?a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("修改者:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v("\n         "+e._s(e.CompanyInfo.modifier)+"\n      ")])]):e._e(),e._v(" "),e.CompanyInfo.modTime?a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("修改时间:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v("\n         "+e._s(e.CompanyInfo.modTime)+"\n      ")])]):e._e()])])},i=[],r={render:n,staticRenderFns:i};t.a=r},FOog:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("a3Yh"),o=n(s),l=a("MgeX"),d=n(l),u=a("HzJ8"),c=n(u),f=a("ZLEe"),m=n(f),h=a("3cXf"),v=n(h),p=a("HXPS"),C=n(p),_=a("BGNQ"),y=n(_),b=a("z5TY"),g=n(b),w=a("SAzG"),I=n(w),x=a("PzEQ"),D=n(x),P=a("0AQX"),k=a("HyXB"),S=a("bKg5"),T=n(S),L=a("vl8n"),N=n(L),M=a("+WR7"),A=n(M),O=a("luHD"),R=n(O),j=a("RMtk"),$=n(j);t.default={name:"ApplyWLXQTJForm",mixins:[T.default],components:{Icon:C.default,Cell:y.default,Group:g.default,XTextarea:D.default,XInput:I.default,PopMatter:R.default,PopOrderXqtjList:$.default,RPicker:N.default,PopBaseinfo:A.default},data:function(){return{listId:"7532f8ea-caf3-4fc4-97f6-b5aad7bcf6a0",orderList:{},showOrderPop:!1,formData:{biComment:""},submitSuccess:!1,warehouse:null,taxRate:.16,numMap:{},orderParams:{dealerCode:"",whCode:""},transCode:"",formViewUniqueId:"346ede09-ac6a-489a-9242-f385932a4443",biReferenceId:"",actions:[],taskId:"",matterList:[],project:{},entity:{},tmpItems:{},matter:{},showMatterPop:!1,modifyIndex:null,modifyKey:null}},methods:{modifyMatter:function(e,t,a){this.matter=JSON.parse((0,v.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t)},selOrder:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){var a=e.transCode+"_"+e.colId+"_"+e.inventoryCode,i=t.numMap[a]||{},r=i.tdQty,s=void 0===r?"":r;e.tdQty=s,n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},findIndex:function(e,t){return e.findIndex(function(e){var a=!0;return e.colId&&(a=e.colId===t.colId),a&&e.transCode===t.transCode&&e.inventoryCode===t.inventoryCode})},delClick:function(e,t,a){var n=this.selItems,i=this.findIndex(n,t);if(-1!==i)return void n.splice(i,1);n.push(t)},showSelIcon:function(e){return-1!==this.findIndex(this.selItems,e)},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,v.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,m.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){var n=!0;if(a.colId&&(n=t.colId===a.colId),n&&a.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var i=e.orderList[t.transCode],r=e.findIndex(i,t);r>=0&&(e.$refs.order.delSelItem(i[r]),i.splice(r,1)),i.length||delete e.orderList[t.transCode]}})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,c.default)((0,d.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,o=!1,l=void 0;try{for(var u,f=(0,c.default)(r);!(s=(u=f.next()).done);s=!0){var m=u.value;this.numMap[m.transCode+"_"+m.colId+"_"+m.inventoryCode]={tdQty:m.tdQty}}}catch(e){o=!0,l=e}finally{try{!s&&f.return&&f.return()}finally{if(o)throw l}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="",a=[];t||(0,m.default)(this.orderList).length||(t="请选择物料");var n=!0,i=!1,s=void 0;try{for(var l,u=(0,c.default)((0,d.default)(this.orderList));!(n=(l=u.next()).done);n=!0){var f=l.value,h=!0,p=!1,C=void 0;try{for(var _,y=(0,c.default)(f);!(h=(_=y.next()).done);h=!0){var b=_.value;if(!b.tdQty){t="请填写数量";break}var g={transMatchedCode:b.transCode,outPutMatCode:b.inventoryCode,inventoryType_outPutMatCode:b.inventoryType,thenQtyBal:b.qtyBal,tdQty:b.tdQty,subjectCode:b.calcRelCode,comment:b.comment||""};this.transCode&&(g.tdId=b.tdId||""),a.push(g)}}catch(e){p=!0,C=e}finally{try{!h&&y.return&&y.return()}finally{if(p)throw C}}}}catch(e){i=!0,s=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw s}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=k.saveAndStartWf,n={},i=(0,o.default)({},e.processCode,{businessKey:"PLAD",createdBy:""});n=(0,r.default)({},e.formData,{modifer:e.transCode?e.formData.handler:"",handlerEntity:e.entity.dealerName,outPut:{dataSet:a}}),e.transCode&&(t=k.saveAndCommitTask,i={businessKey:e.transCode,createdBy:n.creator||n.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var s={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,v.default)(n),wfPara:(0,v.default)(i)};e.transCode||delete s.biReferenceId,e.processCode.length||(t=k.submitAndCalc,delete s.wfPara,delete s.biReferenceId),e.biReferenceId&&(s.biReferenceId=e.biReferenceId),console.log(s),e.saveData(t,s)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var d={};e.attachment=l;var u=s.outPut,f=u.dataSet,m=void 0===f?[]:f,h=!0,v=!1,p=void 0;try{for(var C,_=(0,c.default)(m);!(h=(C=_.next()).done);h=!0){var y=C.value;y=(0,r.default)({},y,{transCode:y.transMatchedCode,qtyBal:y.thenQtyBal,inventoryPic:y.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+y.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:y.inventoryName_outPutMatCode,inventoryCode:y.outPutMatCode,inventoryType:y.inventoryType_outPutMatCode,specification:y.specification_outPutMatCode,measureUnit:y.measureUnit_outPutMatCode,processing:y.tdProcessing,calcRelCode:y.subjectCode,inventoryTypen:y.inventoryType_outPutMatCode}),d[y.transCode]||(d[y.transCode]=[]),d[y.transCode].push(y)}}catch(e){v=!0,p=e}finally{try{!h&&_.return&&_.return()}finally{if(v)throw p}}e.matterList=m,e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,r.default)({},e.formData,e.handlerDefault,{biComment:s.biComment,biId:s.biId,biProcessStatus:s.biProcessStatus,creator:s.creator,modifer:s.modifer,drDealerLogisticsTerms:s.drDealerLogisticsTerms}),e.biReferenceId=s.biReferenceId,e.orderList=d,e.$loading.hide()})},hasDraftData:function(){return!!(0,d.default)(this.orderList).length&&(0,o.default)({},"XQTJ_DATA",{orderList:this.orderList,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("XQTJ_DATA");e&&(this.orderList=JSON.parse(e).orderList,this.formData=JSON.parse(e).formData,sessionStorage.removeItem("XQTJ_DATA"))}}},FRNG:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Qg39"),i=a("zWMP");t.default={name:"RNumber",props:{num:{type:Number,default:0},max:{type:Number,default:0},min:{type:Number,default:1},checkNum:{type:Function,default:function(e){return 0===e&&(e=1),Math.abs((0,n.toFixed)(e,2))}}},data:function(){return{currentNum:0}},watch:{num:{handler:function(e){this.currentNum=e}}},methods:{subNum:function(){this.currentNum<=this.min||(this.currentNum=parseFloat((0,i.accSub)(this.currentNum,1)),this.$emit("input",this.currentNum))},plusNum:function(){this.max&&this.max===this.num||(this.currentNum=parseFloat((0,i.accAdd)(this.currentNum,1)),this.$emit("input",this.currentNum))},getNum:function(e){var t=Number(e.target.value);this.max&&t>this.max&&(t=this.max),this.min&&t<this.min&&(t=this.min),this.currentNum=this.checkNum(t),e.target.value=this.currentNum,this.$emit("input",this.currentNum)}},created:function(){this.currentNum=this.num}}},FT4d:function(e,t,a){"use strict";function n(e){a("ajv5")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Wtqk");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("4evt"),o=a.n(s),l=a("oR7t"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-ac89a786",null);t.default=c.exports},FTWd:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=(a("XAqG"),a("HyXB"),a("MjAd")),o=n(s),l=a("ak47");n(l);t.default={name:"CPXQ_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"经办人",value:"handlerName"},{name:"交易号",value:"transCode"},{name:"标题",value:"launchTitle"}],listViewID:2339}},mixins:[o.default],methods:{pathChange:function(e,t,a){var n=this;if(!this.clickVisited){var i=e.transCode,s=this.$route.query.name,o=this.$route.params,l=o.fileId,d=o.listId;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,r.default)({},e));var u=a+"/"+l+"/"+d;setTimeout(function(){n.clickVisited=!1,n.$router.push({path:u,query:{name:s,transCode:i}})},200)}},goDetail:function(e,t){this.pathChange(e,t,"/detail")},goUserEdit:function(e,t){this.pathChange(e,t,"/fillform")}}}},FUex:function(e,t){},FVHH:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.contactInfo,logistics:!1,payment:!1}}),e._v(" "),e.orderInfo.ticketNumber?a("div",{staticClass:"form_part"},[e._m(0),e._v(" "),a("div",{staticClass:"form_content",staticStyle:{"margin-bottom":"0.1rem"}},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"票号",cellContent:e.orderInfo.ticketNumber,textRight:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"发票类型",cellContent:e.orderInfo.invoiceType,textRight:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"发票日期",cellContent:e.orderInfo.invoiceDate,textRight:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"发票内容",cellContent:e.orderInfo.invoiceContent,textRight:""}})],1)])]):e._e(),e._v(" "),a("matter-list",{attrs:{"order-list":e.orderList,noTaxAmount:e.noTaxAmount,taxAmount:e.taxAmount,count:e.count},scopedSlots:e._u([{key:"matterOther",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("入库日期: "+e._s(n.purchaseDay))])]),e._v(" "),a("div",{staticClass:"mater_attribute"},[a("span",[e._v("入库数量: "+e._s(n.thenTotalQtyBal))]),e._v(" "),a("span",[e._v("已收票数量: "+e._s(n.thenLockQty))]),e._v(" "),a("span",[e._v("待收票数量: "+e._s(n.thenQtyBal))])]),e._v(" "),a("div",{staticClass:"mater_attribute"},[a("span",[e._v("单价: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.price),3)))]),e._v(" "),a("span",[e._v("本次收票数量: "+e._s(e._f("toFixed")(n.tdQty)))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.taxRate,expression:"item.taxRate"}]},[e._v("税率: "+e._s(n.taxRate))])]),e._v(" "),a("div",{staticClass:"mater_price"},[a("span",[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(n.tdAmount),3)))]),e._v(" "),n.taxRate?a("span",{staticClass:"num",style:{display:n.tdAmount&&n.tdAmount.toString().length>=7?"block":""}},[e._v("\n                [金额: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.noTaxAmount),3))+" + 税金: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.taxAmount),3))+"]\n              ")]):e._e()])])]}}])}),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-xiangmu"}),a("span",{staticClass:"title"},[e._v("发票信息")])])}],r={render:n,staticRenderFns:i};t.a=r},Fazb:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tab-part vux-1px-b",class:{"tab-part-2":"2"===e.mode}},e._l(e.data,function(t,n){return a("div",{key:n,staticClass:"each-tab",class:{"active vux-1px":n===e.activeTabIndex},on:{click:function(a){e.switchTab(t,n)}}},[a("div",{staticClass:"tab_content"},[e._v(e._s(t.name))])])}))},i=[],r={render:n,staticRenderFns:i};t.a=r},Fd06:function(e,t){},Fjox:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("HzJ8"),o=n(s),l=a("3cXf"),d=n(l),u=a("4YfN"),c=n(u),f=a("7g+Q"),m=n(f),h=a("+62G"),v=n(h),p=a("z5TY"),C=n(p),_=a("BGNQ"),y=n(_),b=a("iR2W"),g=n(b),w=a("u28h"),I=n(w),x=a("SAzG"),D=n(x),P=a("PzEQ"),k=n(P),S=a("0AQX"),T=a("HyXB"),L=a("bKg5"),N=n(L),M=a("VZtf"),A=n(M),O=a("kZy/"),R=n(O),j=a("y8YJ"),$=n(j),B=a("yt3/"),E=n(B),F=a("luHD"),U=n(F),q=a("vl8n"),Q=n(q),H=a("+WR7"),V=n(H),X=a("zWMP");t.default={data:function(){return{listId:"a8281547-d2d3-11e8-b8ca-0279b2c6a380",showMatterPop:!1,showMaterielPop:!1,transMode:[],matterList:[],logisticsTerm:[],dealer:{},numMap:{},contact:{},formData:{},dealerInfo:{},matterParams:{processing:"成品,商品"}}},directives:{TransferDom:v.default},components:{XInput:D.default,XTextarea:k.default,Group:C.default,Cell:y.default,Popup:m.default,PopMatter:U.default,RNumber:A.default,PopMatterList:R.default,PopDealerList:$.default,PopSingleSelect:E.default,Datetime:I.default,RPicker:Q.default,PopBaseinfo:V.default},mixins:[N.default],filters:{numberComma:g.default},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],this.formData.drDealerLogisticsTerms=this.dealerInfo.dealerLogisticsTerms,this.matterList=[]},selContact:function(e){this.contact=(0,c.default)({},e),this.formData.dealerDebitContactPersonName=this.contact.dealerName||"",this.formData.dealerDebitContactInformation=this.contact.dealerMobilePhone},getPaymentTerm:function(){var e=this;return(0,T.getDictByType)("paymentTerm").then(function(t){var a=t.tableContent;e.transMode=a})},getLogisticsTerms:function(){var e=this;return(0,T.getDictByType)("dealerLogisticsTerms").then(function(t){var a=t.tableContent;e.logisticsTerm=a})},getMatter:function(){this.showMaterielPop=!this.showMaterielPop},selMatter:function(e){var t=this,a=JSON.parse(e);a.map(function(e){var a=t.numMap[e.inventoryCode]||{},n=a.tdQty,i=void 0===n?"":n,r=a.price,s=void 0===r?"":r,o=a.taxRate,l=void 0===o?.16:o,d=a.promDeliTime,u=void 0===d?"":d;e.tdQty=i,e.price=s,e.taxRate=l,e.promDeliTime=u,e.assMeasureUnit=e.invSubUnitName||null,e.assMeasureScale=e.invSubUnitMulti||null,e.assMeasureDescription=e.invSubUnitComment||null}),this.numMap={},this.matterList=a},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(t){return t.inventoryCode===e.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(e)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,d.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,o.default)(this.matterList);!(e=(n=i.next()).done);e=!0){var r=n.value;this.numMap[r.inventoryCode]=(0,c.default)({},r)}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this;if(this.dealerInfo.dealerName)if(this.matterList.length){var t="",a=[];if(this.matterList.every(function(n){if(!n.tdQty)return t="请填写数量",!1;if(!n.price)return t="请输入单价",!1;var i=n.taxRate||e.taxRate,r=((0,X.accMul)(n.price,n.tdQty,i),{tdId:n.tdId||"",inventoryName_transObjCode:n.inventoryName,transObjCode:n.inventoryCode,tdProcessing:n.processing,assMeasureUnit:n.invSubUnitName||null,assMeasureScale:n.invSubUnitMulti||null,assMeasureDescription:n.invSubUnitComment||null,assistQty:n.assistQty||0,tdQty:n.tdQty,price:n.price,noTaxPrice:n.noTaxPrice,taxRate:i,taxAmount:n.taxAmount,tdAmount:n.tdAmount,promDeliTime:n.promDeliTime||"",comment:n.comment||""});return a.push(r),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=T.saveAndStartWf,n=(0,r.default)({},e.processCode,{businessKey:"SO",createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.formData.biComment,formData:(0,d.default)((0,c.default)({},e.formData,e.dealer,{handlerEntity:e.entity.dealerName,order:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,drDealerPaymentTerm:e.dealerInfo.paymentTerm,dataSet:a}})),wfPara:(0,d.default)(n)};e.isResubmit&&(t=T.saveAndCommitTask,i.biReferenceId=e.biReferenceId),e.processCode.length||(t=T.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})}else this.$vux.alert.show({content:"请选择物料"});else this.$vux.alert.show({content:"请选择客户"})},getFormData:function(){var e=this;return(0,S.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.attachment=t.attachment;var a=t.formData;a.order.dataSet.map(function(t){t=(0,c.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode}),e.matterList.push(t)}),e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,c.default)({},e.handlerDefault,{creator:a.creator,modifer:a.modifer,dealerDebitContactPersonName:a.dealerDebitContactPersonName,dealerDebitContactInformation:a.dealerDebitContactInformation,drDealerLogisticsTerms:a.drDealerLogisticsTerms,duringDate:a.duringDate,biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus}),e.dealerInfo={creatorName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation,dealerCode:a.order.dealerDebit,dealerSubclass:a.order.drAccountSub,dealerLabelName:a.order.drDealerLabel,dealerName:a.order.dealerName_dealerDebit,province:a.order.province_dealerDebit,city:a.order.city_dealerDebit,county:a.order.county_dealerDebit,address:a.order.address_dealerDebit,paymentTerm:a.order.drDealerPaymentTerm||"现付"},e.contact={dealerName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation},e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,r.default)({},"XSDDYC_DATA",{matter:this.matterList,dealerInfo:this.dealerInfo,dealer:this.dealer,formData:this.formData,contact:this.contact})}},created:function(){var e=sessionStorage.getItem("XSDDYC_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.dealerInfo=t.dealerInfo,this.dealer=t.dealer,this.formData=t.formData,this.contact=t.contact,sessionStorage.removeItem("XSDDYC_DATA")}}}},Fkpb:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.boms&&e.boms.length?a("div",{staticClass:"bom-container"},[a("div",{staticClass:"title vux-1px-b"},[e._v("原料")]),e._v(" "),e._l(e.boms,function(t,n){return a("div",{key:n,staticClass:"each-bom-part",class:{"vux-1px-b":n<e.boms.length-1}},[a("div",{staticClass:"main-info-part"},[t.warehouseName||t.warehouseCode?a("div",{staticClass:"main-top"},[t.warehouseName?a("span",{staticClass:"content-title"},[e._v(e._s(t.warehouseName))]):e._e(),e._v(" "),t.warehouseName?a("span",{staticClass:"side-bar vux-1px-r"}):e._e(),e._v(" "),t.warehouseCode?a("span",{staticClass:"content-info"},[e._v(e._s(t.warehouseCode))]):e._e()]):e._e(),e._v(" "),a("div",{staticClass:"main-content"},[a("div",{staticClass:"content-unit"},[a("span",{staticClass:"iconfont icon-bianma"}),e._v(" "),a("span",[e._v("原料编码: "+e._s(t.inventoryCode))])]),e._v(" "),a("div",{staticClass:"content-name"},[e._v("\n          "+e._s(t.inventoryName)+"\n        ")]),e._v(" "),e._t("specification",null,{bom:t})],2)]),e._v(" "),e._t("number",[a("div",{staticClass:"number-part"},[a("span",{staticClass:"main-number"},[e._v("本次扣料: "+e._s(t.tdQty)+e._s(t.measureUnit))]),e._v(" "),a("span",{staticClass:"number-unit"},[e._v("可用余额: "+e._s(t.qtyStock))])])],{bom:t})],2)})],2):e._e()},i=[],r={render:n,staticRenderFns:i};t.a=r},FlCz:function(e,t,a){"use strict";function n(e){a("SQkk")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("s+NT");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("VuUd"),o=a.n(s),l=a("Fkpb"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-3b7f38c0",null);t.default=c.exports},FnN8:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2362,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"成品名称",value:"inventoryName_transObjCode"}]}},mixins:[i.default]}},Fr7N:function(e,t){},Fu6s:function(e,t,a){"use strict";function n(e){a("lDwb")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("trKI");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("7PqM"),o=a.n(s),l=a("oRoT"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-02876950",null);t.default=c.exports},Fuf7:function(e,t,a){e.exports=a.p+"static/img/ava01.2bd340a.png"},Fuh6:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages cpxq-list-container"},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"each_duty",class:{visited:t.visited},on:{click:function(a){e.goDetail(t,n)}}},[a("div",{staticClass:"duty_top"},[a("p",{staticClass:"duty_code"},[e._v("\n            "+e._s(t.transCode)+"\n            "),t.processStatus?a("span",{staticClass:"duty_crt_man"},[e._v(e._s(t.processStatus))]):e._e()]),e._v(" "),a("span",{staticClass:"duty_status",class:t.statusClass},[e._v(e._s(t.statusName))]),e._v(" "),a("i",{staticClass:"iconfont",class:t.whichIcon})]),e._v(" "),a("div",{staticClass:"duty_content"},[a("div",{staticClass:"content_title"},[e._v(e._s(t.profileName))]),e._v(" "),a("div",{staticClass:"content_step vux-1px-b"},[a("div",[e._v("手机号: "+e._s(t.profileContact))]),e._v(" "),a("div",[e._v("入职时间: "+e._s(e._f("dateFormat")(t.entryDate,"YYYY-MM-DD")))])])]),e._v(" "),a("div",{staticClass:"order_count"},[t.handlerName?a("div",{staticClass:"handle_man"},[e._v("\n            "+e._s(t.handlerName)),a("span",{staticStyle:{fontSize:".1rem"}},[e._v("[经办人]")])]):e._e()])])}))],1),e._v(" "),a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},FvOl:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main_content"},[e.warehouse.warehouseIcon?a("span",{staticClass:"iconfont",class:e.warehouse.warehouseIcon}):a("span",{staticClass:"iconfont icon--"}),e._v(" "),a("div",{staticClass:"warehouse_name m_size_name"},[e.warehouse.warehouseAction?a("span",[e._v(e._s(e.warehouse.warehouseAction)+" - ")]):e._e(),e._v(e._s(e.warehouse.warehouseName)+"\n  ")]),e._v(" "),a("div",{staticClass:"other_info s_size_name"},[a("span",{staticClass:"title"},[e._v("类型: ")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e.warehouse.warehouseType||"暂无"))])]),e._v(" "),a("div",{staticClass:"other_info s_size_name"},[a("span",{staticClass:"title"},[e._v("地址: ")]),e._v(" "),e.noAddress?a("span",{staticClass:"content"},[e._v("暂无")]):a("span",{staticClass:"content"},[e._v(e._s(e.warehouse.warehouseProvince)+e._s(e.warehouse.warehouseCity)+e._s(e.warehouse.warehouseDistrict)+e._s(e.warehouse.warehouseAddress)+" ")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},FvvE:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"6b6a6f40-ea86-4e72-a451-69a9a3b2e28c":{"000004":"COMPANY","000001":"USER","000003":"JOB"},"a7f59e02-86fc-4c85-ae78-0f567b8078ad":{},"7dab9bd1-f51d-4b09-afc0-3d5c732ca219":{"4099b5aa-1468-4b81-85a5-75079e291977":"BHDD","7532f8ea-caf3-4fc4-97f6-b5aad7bcf6a0":"WLXQTJ","a8281547-d2d3-11e8-b8ca-0279b2c6a380":"XSDDYC"},"fb200d08-4289-44dc-81e1-1fddec997c5e":{"f6e7047d-29df-46bd-a9ef-c342e0bfda31":{"2372f734-93c1-11e8-85db-005056a136d0":"GDRW","f9f1e0cb-7edf-43aa-b2f2-527e2525b96e":"GDYS","c54b3325-a5c1-4d75-a3c4-c6cf0e988aae":"GDRWQD"}},"a32759e8-a3ad-47a6-a030-f33daea8b433":{"b30f4d3e-b23d-11e8-96a5-005056a136d0":"CPXQ","eb8a01a3-7a74-439b-bc44-8d58cbfa6166":"CPFB"},"43b07f14-4ae5-4804-a80e-ef06ce26fb0b":{"548b7e35-16c6-4748-af06-eac1d2dac5d1":"CPJG","b1b3c988-706c-495b-ad11-0ee73591480e":"XSDD","58a607ce-fe93-4d26-a42e-a374f4662f1c":"XSBJ","32a2c333-02a3-416f-a133-95c7a32da678":"SJ","525bee48-d2d4-11e8-b8ca-0279b2c6a380":"XSHT","ebd2225c-9354-4df9-bded-8631e3cac4ac":"KPSQ"},"406f7db3-af5a-45ae-8641-576fa33b0471":{},"a0a66a68-b351-4c19-b837-e168cbf48019":{"dd4d228d-fc01-4038-bf17-df54d8d06eb9":"CGDD","43ccbc27-bbb5-4cfb-997b-6d3823f1c03e":"CGSQ","67ff01b1-52bc-4e01-9650-214dc6e5e8f9":"CGXY"},"9e5a7193-f2eb-4b99-9849-8fe6c6ae3713":{"edf7b34b-8916-410f-801f-2db7e97efbde":"KCPD","4d9a7f8f-9a88-47b6-a1f4-3faed6423615":"BDKCDB","6ebcad8b-449c-422a-960f-53ccf98fd4ba":"GDBLL","1c5896d8-1500-4569-b0c5-6b596d03fb9b":"CGRK","a1e8592f-63c2-4a31-ba22-9d654484db1d":"XSCK","f5bcd76e-6b3b-4ee6-871f-5c3de4fc261f":"NBJGLL","5e8d89f1-49a5-4089-9c1a-44dc2ce0ae4b":"NBJGRK","482b7468-06eb-40c7-842a-f7ea6edb1c37":"CGTHCK"},"7218d31d-88f4-45bc-82c2-6d4a1c766821":{"b81c5e6c-4f6d-4c1c-8a6d-636750127410":{"b6b97d33-5d8e-4942-b978-09103d06f188":"SK","1972f3a4-b29a-4a0e-90a8-85090c0e2d28":"FK","c930267f-66fd-4927-983b-0216ef9449b3":"FGYSQK","7d172485-8726-4e42-b29d-ec2a716bf062":"FGYSDJ"},"752bfc20-9cbf-4552-b2a4-77b2c46eb2d1":{"0cf1a234-04a5-4021-926b-137914878082":"ZZSKP","1759f423-9f1a-4a67-b68a-86773fe469c8":"ZZSSP"},"9a50685e-88d5-48ac-9c49-977e23f14b98":{"bb9ce973-2f62-4707-a54c-7e8605dc99d6":"CRCDHP","1745ffdd-1b6a-4fe5-9c5b-6e5394bd4faf":"SDCDHP","ef8bbbc5-04c4-40eb-8d8c-338784a847e9":"DXTXCDHP","7666662a-a52a-4ca8-8f28-d3035322875e":"DFCDHP"},"dac8201d-7b8f-4889-8c9d-eb34192e99ad":{"418bd0e9-1dce-4e01-aa5a-3d4cd80e87d4":"JKYBYJ","080147c6-05ea-4ae7-9390-49e8e0379a11":"BXYZF"}},"27d28ff5-2e04-4881-a159-2b38f10ce7e4":{"4472a646-f2c8-4a07-bad6-4c01f0b9292f":"DZYHPCGSQ","1d52d5ce-d05e-4987-a023-3f4dba68cad9":"DZYHPCGDD","0750729a-1bea-423e-99a0-070beb953787":"DZYHPCGYSYZF"},"4a1e1cce-186a-46b6-acb7-fbd5febf578b":{"f928725f-5e23-4321-922c-6db0efa85f17":"SBCGSQ","fac37727-d2d4-11e8-b8ca-0279b2c6a380":"SBCGDD","64c5afbc-c075-11e8-85e2-b06ebfc41432":"SBCGYS"},"f3d819ee-8f77-47d0-81f1-e986841e51eb":{1000:"HBZJ",1400:"CH",9000:"WLYE","000100":"HGCW"},"26d75e08-2c82-4e1a-ad51-b788b026428a":{"630a9b96-f257-48b6-b0bc-fd64c455d92b":"XMLX","0281f8eb-f1d2-415c-b566-756fc749ccb3":"XMJH","ee4ff0a1-c612-419d-afd7-471913d57a2a":"XMRW","b87a513e-99ec-4608-89db-3d6e97ef1432":"XMJX"},"c09c6397-c685-4fb8-ac9e-bd554ab6bc52":{"223f9387-d2d7-11e8-b8ca-0279b2c6a380":"YGDA","98519ac0-d2d7-11e8-b8ca-0279b2c6a380":"YGRZ","da7f15cc-d2d7-11e8-b8ca-0279b2c6a380":"YGLZ","3dda676a-4ce0-4c4a-a56f-8bda50a8ef1f":"ZPJH"}}},"G/uS":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("gTYh"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"group",methods:{cleanStyle:i.default},props:{title:String,titleColor:String,labelWidth:String,labelAlign:String,labelMarginRight:String,gutter:[String,Number],footerTitle:String,footerTitleColor:String}}},G0OA:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("kNGm"),v=(n(h),a("qE8w")),p=a("I3vJ"),C=a("1KNX"),_=n(C),y=a("7biW"),b=n(y);t.default={name:"PopMatterList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},getListMethod:{type:String,default:"getMatList"},params:{type:Object,default:function(){return{}}},processing:{type:String,default:"成品,商品,服务"},isShowCode:{type:Boolean,default:!0},isShowStock:{type:Boolean,default:!1},filterList:{type:Array,default:function(){return[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"}]}}},components:{Icon:c.default,Popup:m.default,RScroll:_.default,MSearch:b.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],matterList:[],limit:100,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterProperty:"",requestMethods:null}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}},params:{handler:function(){this.resetCondition(),this[this.getListMethod](),this.requestMethods()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,d.default)(this.selItems)),this.$emit("input",!1)},findIndex:function(e,t){return e.findIndex(function(e){var a=!0;return e.transCode&&(a=e.transCode===t.transCode),a&&e.inventoryCode===t.inventoryCode})},showSelIcon:function(e){return-1!==this.findIndex(this.tmpItems,e)},selThis:function(e,t){if(this.isShowStock&&0===e.qtyStockBal)return void this.$vux.alert.show({content:"当前订单库存为0，请选择其他订单"});var a=this.tmpItems,n=this.findIndex(a,e);if(-1!==n)return void a.splice(n,1);a.push(e)},cfmMater:function(){this.showPop=!1,this.tmpItems.sort(function(e,t){return t.effectiveTime-e.effectiveTime}),this.selItems=[].concat((0,d.default)(this.tmpItems)),this.$emit("sel-matter",(0,o.default)(this.selItems))},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getMatList:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getObjInventoryByProcessing)((0,r.default)({processing:this.processing,limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(e)},this.params)).then(this.dataHandler)},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.resetCondition(),this[this.getListMethod]()},delSelItem:function(e){var t=this.findIndex(this.selItems,e);-1!==t&&this.selItems.splice(t,1),this.tmpItems=[].concat((0,d.default)(this.selItems))},onPullingUp:function(){this.page++,this.requestMethods()},setDefaultValue:function(){this.tmpItems=[].concat((0,d.default)(this.defaultValue)),this.selItems=[].concat((0,d.default)(this.defaultValue))},getObjInventory:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getObjInventory)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(e)}).then(this.dataHandler)},getSumInvBalance:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getSumInvBalance)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,calcRelCode:1406},this.params,{filter:(0,o.default)(e)})).then(this.dataHandler)},getInventory7501:function(){var e=[];this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}]));var t=this.$route.query.relationKey,a=void 0===t?"":t;return a&&(e=[{operator:"eq",value:a,property:"transCode"}]),(0,p.getInventory7501)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit},this.params,{filter:(0,o.default)(e)})).then(this.dataHandler)},getInventory7502:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getInventory7502)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit},this.params,{filter:(0,o.default)(e)})).then(this.dataHandler)},getCKTHCKList:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getCKTHCKList)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit},this.params,{filter:(0,o.default)(e)})).then(this.dataHandler)},getPurchaseInNeeds:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getPurchaseInNeeds)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;r.forEach(function(t){t.inventoryPic=t.inventoryPic?"/H_roleplay-si/ds/download?url="+t.inventoryPic+"&width=400&height=400":e.getDefaultImg(),t.inventoryCode=t.matCode,t.inventoryName=t.invName});var s=e.$route.query.relationKey;(void 0===s?"":s)&&(e.selItems=[].concat((0,d.default)(r)),e.$emit("sel-matter",(0,o.default)(e.selItems))),e.hasNext=n>(e.page-1)*e.limit+r.length,e.matterList=1===e.page?r:[].concat((0,d.default)(e.matterList),(0,d.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},getKCPDList:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getKCPDList)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit},this.params,{filter:(0,o.default)(e)})).then(this.dataHandler)},getLowValueConsumPurchaseOrder:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getLowValueConsumPurchaseOrder)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit},this.params,{filter:(0,o.default)(e)})).then(this.dataHandler)},getLowPriceConsumableInWarehouse:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getLowPriceConsumableInWarehouse)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit},this.params,{filter:(0,o.default)(e)})).then(this.dataHandler)},getProductPriceAllInventory:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getProductPriceAllInventory)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(e)}).then(this.dataHandler)},getSalesContract:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getSalesContract)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(e)},this.params)).then(this.dataHandler)},getInventoryToProcessing:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getInventoryToProcessing)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(e)},this.params)).then(this.dataHandler)},getSalesOrderNew:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getSalesOrderNew)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(e)},this.params)).then(this.dataHandler)},getManyVATBilling:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,v.getManyVATBilling)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(e)},this.params)).then(this.dataHandler)},getManyVATReceipt:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,v.getManyVATReceipt)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(e)},this.params)).then(this.dataHandler)},dataHandler:function(e){var t=this,a=e.dataCount,n=void 0===a?0:a,i=e.tableContent,r=void 0===i?[]:i;r.forEach(function(e){e.inventoryPic=e.inventoryPic?"/H_roleplay-si/ds/download?url="+e.inventoryPic+"&width=400&height=400":t.getDefaultImg()});var s=this.$route.query.relationKey;(void 0===s?"":s)&&(this.selItems=[].concat((0,d.default)(r)),this.$emit("sel-matter",(0,o.default)(this.selItems))),this.hasNext=n>(this.page-1)*this.limit+r.length,this.matterList=1===this.page?r:[].concat((0,d.default)(this.matterList),(0,d.default)(r)),this.$nextTick(function(){t.$refs.bScroll.finishPullUp()})},resetCondition:function(){this.matterList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)}},created:function(){this.setDefaultValue(),this.requestMethods=this[this.getListMethod],this.requestMethods()}}},G4pH:function(e,t){},G70E:function(e,t,a){"use strict";function n(e){a("c6mz")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("TgCX");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("dbpI"),o=a.n(s),l=a("L+WK"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-57dce9ba",null);t.default=c.exports},G7gF:function(e,t){},GBuO:function(e,t){},GF9j:function(e,t){},GIFU:function(e,t,a){"use strict";function n(e){a("m15U")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("VEhc");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("rlKI"),o=a.n(s),l=a("Nqa9"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-e945eb7e",null);t.default=c.exports},GN8k:function(e,t){},GOq4:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("53nK"),r=n(i),s=a("IXh9"),o=n(s);t.default={ajax:o.default.ajax,post:o.default.post,upload:o.default.upload,conf:r.default}},GRe5:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vux-cell-box"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.showCell,expression:"showCell"}],staticClass:"weui-cell vux-tap-active",class:{"weui-cell_access":!e.disabled},on:{click:e.onClick}},[a("div",{staticClass:"weui-cell__hd"},[e._t("title",[e.title?a("label",{staticClass:"weui-label",class:e.labelClass,style:e.labelStyles,domProps:{innerHTML:e._s(e.title)}}):e._e()],{labelClass:"weui-label",labelStyle:e.labelStyles,labelTitle:e.title}),e._v(" "),e.inlineDesc?a("inline-desc",[e._v(e._s(e.inlineDesc))]):e._e()],2),e._v(" "),a("div",{staticClass:"vux-cell-primary vux-popup-picker-select-box"},[a("div",{staticClass:"vux-popup-picker-select",style:{textAlign:e.valueTextAlign}},[e.displayFormat||e.showName||!e.value.length?e._e():a("span",{staticClass:"vux-popup-picker-value vux-cell-value"},[e._v(e._s(e._f("array2string")(e.value)))]),e._v(" "),!e.displayFormat&&e.showName&&e.value.length?a("span",{staticClass:"vux-popup-picker-value vux-cell-value"},[e._v(e._s(e._f("value2name")(e.value,e.data)))]):e._e(),e._v(" "),e.displayFormat&&e.value.length?a("span",{staticClass:"vux-popup-picker-value vux-cell-value"},[e._v(e._s(e.displayFormat(e.value,e.value2name(e.value,e.data))))]):e._e(),e._v(" "),!e.value.length&&e.placeholder?a("span",{staticClass:"vux-popup-picker-placeholder vux-cell-placeholder",domProps:{textContent:e._s(e.placeholder)}}):e._e()])]),e._v(" "),a("div",{staticClass:"weui-cell__ft"})]),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom",value:e.isTransferDom,expression:"isTransferDom"}]},[a("popup",{staticClass:"vux-popup-picker",attrs:{id:"vux-popup-picker-"+e.uuid,"popup-style":e.popupStyle},on:{"on-hide":e.onPopupHide,"on-show":e.onPopupShow},model:{value:e.showValue,callback:function(t){e.showValue=t},expression:"showValue"}},[a("div",{staticClass:"vux-popup-picker-container"},[a("popup-header",{attrs:{"left-text":e.cancelText||"取消","right-text":e.confirmText||"完成",title:e.popupTitle},on:{"on-click-left":function(t){e.onHide(!1)},"on-click-right":function(t){e.onHide(!0)}}}),e._v(" "),a("picker",{attrs:{data:e.data,columns:e.columns,"fixed-columns":e.fixedColumns,container:"#vux-popup-picker-"+e.uuid,"column-width":e.columnWidth},on:{"on-change":e.onPickerChange},model:{value:e.tempValue,callback:function(t){e.tempValue=t},expression:"tempValue"}})],1)])],1)])},i=[],r={render:n,staticRenderFns:i};t.a=r},GVQp:function(e,t){},GWbZ:function(e,t,a){"use strict";function n(e){a("4LeJ")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("1Unt");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("idOg"),o=a.n(s),l=a("CZPG"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},GZnU:function(e,t){},GdVh:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pop_dealer_list"},[a("div",{staticClass:"dealer-info",on:{click:function(t){e.showDealerPop=!e.showDealerPop}}},[e.selInfo.fundCode?a("div",{staticClass:"user-content"},[a("div",{staticClass:"user-info"},[a("div",{staticClass:"user-name"},[a("span",{staticClass:"user-tips"},[e._v(e._s(e.selInfo.fundType))]),e._v(" "),a("span",[e._v(e._s(e.selInfo.fundName||"暂无银行名称"))])])]),e._v(" "),a("div",{staticClass:"cp-info"},[a("span",[e._v("编码: "+e._s(e.selInfo.fundCode))]),e._v(" "),a("span",[e._v("余额: "+e._s(e._f("numberComma")(e.selInfo.thenAmntBal||e.selInfo.amntBal)))])])]):a("div",{staticClass:"user-content"},[a("div",{staticClass:"title"},[e._v("资金信息")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择资金")])]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r-arrow"})]),e._v(" "),e.selInfo.fundCode?e._t("other"):e._e(),e._v(" "),a("r-popup",{attrs:{show:e.showDealerPop,data:e.listData,options:e.scrollOptions,"has-next":e.hasNext,"default-value":e.defaultValue,"judge-keys":["fundCode"]},on:{"on-pulling-up":e.onPullingUp,"on-select":e.selItem,"on-search":e.searchList},scopedSlots:e._u([{key:"pop-item",fn:function(t){var n=t.item;return[a("div",{staticClass:"top"},[a("span",{staticClass:"name"},[e._v(e._s(n.fundName||"暂无银行名称"))]),e._v(" "),a("span",{staticClass:"label"},[e._v(e._s(n.fundType))])]),e._v(" "),a("div",{staticClass:"amt"},[a("span",[e._v("编码: "+e._s(n.fundCode))]),e._v(" "),a("span",[e._v("账户余额: "+e._s(e._f("numberComma")(n.thenAmntBal||n.amntBal)))])])]}}]),model:{value:e.showDealerPop,callback:function(t){e.showDealerPop=t},expression:"showDealerPop"}})],2)},i=[],r={render:n,staticRenderFns:i};t.a=r},GfxN:function(e,t){},GglY:function(e,t){},GkZz:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper task_container"},[e.orderInfo?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.warehouse.warehouseName,expression:"warehouse.warehouseName"}],staticClass:"contacts_part"},[a("warehouse-content",{attrs:{warehouse:e.warehouse}})],1),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_content"},[e._m(0),e._v(" "),e._l(e.workInfo,function(t,n){return a("div",{key:n,staticClass:"main_content",class:{has_border:n>0}},[a("form-cell",{attrs:{cellTitle:"工序名称",cellContent:t.procedureName_proPointCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"工序编码",cellContent:t.proPointCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"物料名称",cellContent:t.inventoryName_transObjCode||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"物料编码",cellContent:t.transObjCode||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"工序可派工",cellContent:t.thenQtyBal}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"派工数量",cellContent:t.tdQty}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"组长",cellContent:t.dealerName_dealerDebit}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"工人数量",cellContent:t.numberWorkers}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"设施",cellContent:t.facilityName_facilityObjCode||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"工艺路线名称",cellContent:t.technicsName_proFlowCode||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"工艺路线编码",cellContent:t.proFlowCode||"无"}})],1)})],2),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title"},[a("span",{staticClass:"iconfont icon-mingxi1"}),e._v(" "),a("span",[e._v("工单信息")])])}],r={render:n,staticRenderFns:i};t.a=r},Gkvy:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),m=a("sUbJ"),h=n(m),v=a("d7ck"),p=n(v);t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",orderList:{},basicInfo:{}}},mixins:[l.default],components:{workFlow:f.default,RAction:u.default,MatterItem:h.default,FormCell:p.default},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var d={};s.outPut;e.attachment=l;var u=s.outPut.dataSet,c=!0,f=!1,m=void 0;try{for(var h,v=(0,r.default)(u);!(c=(h=v.next()).done);c=!0){var p=h.value;p.inventoryPic=p.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+p.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),p.inventoryName_transObjCode=p.inventoryName_outPutMatCode,p.transObjCode=p.outPutMatCode,d[p.transMatchedCode]||(d[p.transMatchedCode]=[]),d[p.transMatchedCode].push(p)}}catch(e){f=!0,m=e}finally{try{!c&&v.return&&v.return()}finally{if(f)throw m}}e.orderList=d,e.orderInfo=s,e.workFlowInfoHandler()})}}}},GlWL:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2313,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[i.default],methods:{},created:function(){}}},GqQH:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages cpxq-list-container",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"each_duty",class:{visited:t.visited},on:{click:function(a){e.goDetail(t,n)}}},[a("div",{staticClass:"duty_top"},[a("p",{staticClass:"duty_code"},[e._v("\n            "+e._s(t.transCode)+"\n            "),t.processStatus?a("span",{staticClass:"duty_crt_man"},[e._v(e._s(t.processStatus))]):e._e()]),e._v(" "),a("span",{staticClass:"duty_status",class:t.statusClass},[e._v(e._s(t.statusName))]),e._v(" "),a("i",{staticClass:"iconfont",class:t.whichIcon})]),e._v(" "),a("div",{staticClass:"duty_content"},[a("div",{staticClass:"content_title"},[e._v(e._s(t.launchTitle))]),e._v(" "),a("div",{staticClass:"content_step vux-1px-b"})]),e._v(" "),a("div",{staticClass:"order_count"},[t.handlerName?a("div",{staticClass:"handle_man"},[e._v("\n            "+e._s(t.handlerName)),a("span",{staticStyle:{fontSize:".1rem"}},[e._v("[经办人]")])]):e._e(),e._v(" "),a("div",{staticClass:"handle_man"})])])}))],1),e._v(" "),e.action.add?a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},GqrD:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("HzJ8"),o=n(s),l=a("3cXf"),d=n(l),u=a("4YfN"),c=n(u),f=a("7g+Q"),m=n(f),h=a("z5TY"),v=n(h),p=a("BGNQ"),C=n(p),_=a("iR2W"),y=n(_),b=a("u28h"),g=n(b),w=a("SAzG"),I=n(w),x=a("PzEQ"),D=n(x),P=a("0AQX"),k=a("HyXB"),S=a("bKg5"),T=n(S),L=a("VZtf"),N=n(L),M=a("kZy/"),A=n(M),O=a("y8YJ"),R=n(O),j=a("yt3/"),$=n(j),B=a("luHD"),E=n(B),F=a("vl8n"),U=n(F),q=a("+WR7"),Q=n(q),H=a("zWMP"),V=a("Qg39");t.default={data:function(){return{listId:"525bee48-d2d4-11e8-b8ca-0279b2c6a380",showMatterPop:!1,showMaterielPop:!1,transMode:[],matterList:[],logisticsTerm:[],numMap:{},contact:{},formData:{},dealerInfo:{validUntil:"",advancePaymentDueDate:""},matterParams:{processing:"成品,商品,服务"}}},computed:{thenTotalAmntBal:function(){var e=0;return this.matterList.forEach(function(t){var a=t.assistQty,n=t.price,i=(0,H.accMul)(a,n);e=(0,H.accAdd)(e,i)}),e.toFixed(2)},hasAdvance:function(){var e=this.dealerInfo.paymentTerm,t=["赊销"];return!!e&&!e.includes(t)}},components:{XInput:I.default,XTextarea:D.default,Group:v.default,Cell:C.default,Popup:m.default,PopMatter:E.default,RNumber:N.default,PopMatterList:A.default,PopDealerList:R.default,PopSingleSelect:$.default,Datetime:g.default,RPicker:U.default,PopBaseinfo:Q.default},mixins:[T.default],filters:{numberComma:y.default},methods:{selDealer:function(e){var t=JSON.parse(e)[0];this.dealerInfo=(0,c.default)({},this.dealerInfo,t),this.matterParams=(0,c.default)({},this.matterParams,{drDealerCode:this.dealerInfo.dealerCode}),this.matterList=[]},selContact:function(e){this.contact=(0,c.default)({},e)},getPaymentTerm:function(){var e=this;return(0,k.getDictByType)("paymentTerm").then(function(t){var a=t.tableContent;e.transMode=a})},getLogisticsTerms:function(){var e=this;return(0,k.getDictByType)("dealerLogisticsTerms").then(function(t){var a=t.tableContent;e.logisticsTerm=a})},dateSelect:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=new Date(this.dealerInfo.validUntil.replace(/-/g,"/")),n=new Date(this.dealerInfo.advancePaymentDueDate.replace(/-/g,"/"));if(console.log(a),console.log(n),"advancePaymentDueDate"===t&&!this.dealerInfo.validUntil)return void this.$vux.alert.show({content:"请选择合同到期日"});this.$vux.datetime.show({confirmText:"确定",cancelText:"取消",value:this.dealerInfo[t],onConfirm:function(a){e.dealerInfo[t]=a}})},getMatter:function(){var e="";if(this.dealerInfo.validUntil||(e="请选择合同到期日"),e||!this.hasAdvance||this.dealerInfo.advancePaymentDueDate||(e="请选择预收到期日"),e)return void this.$vux.alert.show({content:e});this.showMaterielPop=!this.showMaterielPop},selMatter:function(e){var t=this,a=JSON.parse(e);a.map(function(e){var a=t.numMap[e.inventoryCode]||{},n=a.tdQty,i=void 0===n?"":n,r=a.price,s=void 0===r?"":r,o=a.taxRate,l=void 0===o?.16:o,d=a.dateActivation,u=void 0===d?"":d,c=a.executionDate,f=void 0===c?"":c;e.tdQty=i,e.price=s,e.taxRate=l,e.dateActivation=u,e.executionDate=f,e.assMeasureUnit=e.invSubUnitName||null,e.assMeasureScale=e.invSubUnitMulti||null,e.assMeasureDescription=e.invSubUnitComment||null}),this.numMap={},this.matterList=a},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(t){return t.inventoryCode===e.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(e)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,d.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,o.default)(this.matterList);!(e=(n=i.next()).done);e=!0){var r=n.value;this.numMap[r.inventoryCode]=(0,c.default)({},r)}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showMaterielPop=!this.showMaterielPop},checkAmt:function(e){var t=e.tdQty,a=e.tdAmountCopy1;t&&(e.tdQty=Math.abs((0,V.toFixed)(t))),a&&(e.tdAmountCopy1=Math.abs((0,V.toFixed)(a)))},submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerName||(t="请选择客户"),t||this.dealerInfo.validUntil||(t="请选择合同到期日"),t||!this.hasAdvance||this.dealerInfo.advancePaymentDueDate||(t="请选择预收到期日"),t||this.matterList.length||(t="请选择物料"),t||this.matterList.every(function(e){if(!e.tdQty)return t="请填写数量",!1;if(!e.price)return t="请输入单价",!1;var n={tdId:e.tdId||"",inventoryName_transObjCode:e.inventoryName,transObjCode:e.inventoryCode,tdProcessing:e.processing,assMeasureUnit:e.assMeasureUnit,assMeasureDescription:e.assMeasureDescription,assMeasureScale:e.assMeasureScale,tdQty:e.tdQty,assistQty:e.assistQty,price:e.price,tdAmount:e.tdAmount,taxRate:e.taxRate,noTaxPrice:e.noTaxPrice,taxAmount:e.taxAmount,noTaxAmount:e.noTaxAmount,dateActivation:e.dateActivation,executionDate:e.executionDate,comment:e.comment||""};return a.push(n),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=k.saveAndStartWf,n=(0,r.default)({},e.processCode,{businessKey:"XS1",createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,drDealerPaymentTerm:e.dealerInfo.paymentTerm,daysOfAccount:e.dealerInfo.pamentDays},s={listId:e.listId,biComment:e.formData.biComment,formData:(0,d.default)((0,c.default)({},e.formData,{handlerEntity:e.entity.dealerName,dealerDebitContactPersonName:e.contact.dealerName,dealerDebitContactInformation:e.contact.dealerMobilePhone,drDealerLogisticsTerms:e.dealerInfo.dealerLogisticsTerms,order:(0,c.default)({},i,{dataSet:a}),inPut:(0,c.default)({},i,{validUntil:e.dealerInfo.validUntil,dataSet:[{thenTotalAmntBal:e.thenTotalAmntBal,tdAmountCopy1:e.dealerInfo.tdAmountCopy1,advancePaymentDueDate:e.dealerInfo.advancePaymentDueDate}]}),promDeliTime:""})),wfPara:(0,d.default)(n)};e.isResubmit&&(t=k.saveAndCommitTask,s.biReferenceId=e.biReferenceId),e.processCode.length||(t=k.submitAndCalc,delete s.wfPara,delete s.biReferenceId),e.biReferenceId&&(s.biReferenceId=e.biReferenceId),e.saveData(t,s)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.attachment=t.attachment;var a=t.formData;a.order.dataSet.map(function(t){t=(0,c.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode}),e.matterList.push(t)}),e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,c.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),e.dealerInfo={creatorName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation,dealerCode:a.order.dealerDebit,dealerSubclass:a.order.drAccountSub,dealerLabelName:a.order.drDealerLabel,dealerName:a.order.dealerName_dealerDebit,province:a.order.province_dealerDebit,city:a.order.city_dealerDebit,county:a.order.county_dealerDebit,address:a.order.address_dealerDebit,paymentTerm:a.order.drDealerPaymentTerm,dealerLogisticsTerms:a.drDealerLogisticsTerms,pamentDays:a.inPut.daysOfAccount,validUntil:a.inPut.validUntil,tdAmountCopy1:a.inPut.dataSet[0].tdAmountCopy1,advancePaymentDueDate:a.inPut.dataSet[0].advancePaymentDueDate},e.contact={dealerName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation},e.matterParams=(0,c.default)({},e.matterParams,{drDealerCode:e.dealerInfo.dealerCode}),e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,r.default)({},"XSHT_DATA",{matter:this.matterList,dealerInfo:this.dealerInfo,formData:this.formData,contact:this.contact})}},created:function(){var e=sessionStorage.getItem("XSHT_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.dealerInfo=t.dealerInfo,this.formData=t.formData,this.contact=t.contact,this.matterParams=(0,c.default)({},this.matterParams,{drDealerCode:this.dealerInfo.dealerCode}),sessionStorage.removeItem("XSHT_DATA")}}}},GvUu:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={PINI:{"b61ef324-f261-48d6-9c79-d1b475c24943":"FYBX","0281f8eb-f1d2-415c-b566-756fc749ccb3":"XMJH","b87a513e-99ec-4608-89db-3d6e97ef1432":"XMJX"},PPLN:{"ee4ff0a1-c612-419d-afd7-471913d57a2a":"XMRW"},PO:{"1c5896d8-1500-4569-b0c5-6b596d03fb9b":"CGRK"},PAPP:{"dd4d228d-fc01-4038-bf17-df54d8d06eb9":"CGDD"},POPI:{"482b7468-06eb-40c7-842a-f7ea6edb1c37":"CGTHCK"},PLAN:{"65ceb5a6-a120-11e8-862a-005056a136d0":"NBJGDD","7532f8ea-caf3-4fc4-97f6-b5aad7bcf6a0":"WLXQTJ"},SO1:{"a1e8592f-63c2-4a31-ba22-9d654484db1d":"XSCK"}}},GwOs:function(e,t,a){"use strict";function n(e){a("cjK0")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("qgxz");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Zm5O"),o=a.n(s),l=a("hrtE"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-82d90d86",null);t.default=c.exports},GxGw:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("3cXf"),i=function(e){return e&&e.__esModule?e:{default:e}}(n),r=a("1WsH");t.default={data:function(){return{jobInfo:{},jobId:""}},methods:{findData:function(){var e=this;return(0,r.getJobList)({filter:(0,i.default)([{operator:"eq",value:this.jobId,property:"id"}])}).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;n.forEach(function(e){switch(e.type){case"Y":e.type="营销类";break;case"Z":e.type="专业类";break;case"J":e.type="技术类";break;case"C":e.type="操作类";break;case"M":e.type="管理类"}switch(e.status){case 1:e.status="使用中";break;case 2:e.status="未使用";break;case 3:e.status="草稿";break;case-1:e.status="停用"}}),e.jobInfo=n[0],e.$loading.hide()}).catch(function(t){e.$loading.hide(),e.$vux.alert.show({content:t.message})})}},created:function(){this.$loading.show();var e=this.$route.query;e.id&&(this.jobId=e.id,this.findData())}}},"H+kM":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("kKsb"),p=n(v),C=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70"}},mixins:[u.default],components:{workFlow:h.default,RAction:f.default,ProjectPart:p.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=!0,i=!1,s=void 0;try{for(var l,d=(0,r.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;e.count=(0,C.accAdd)(e.count,u.tdAmount)}}catch(e){i=!0,s=e}finally{try{!n&&d.return&&d.return()}finally{if(i)throw s}}t.formData.validUntil=(0,o.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},HE6I:function(e,t,a){"use strict";function n(e){a("8CYM")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lf2c");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("/Fg5"),o=a.n(s),l=a("Ay/5"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-d72d8a4e",null);t.default=c.exports},HJsR:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("KH7x"),r=n(i),s=a("IHPB"),o=n(s),l=a("Iu/6"),d=n(l),u=a("HyXB"),c=a("vvLd"),f=n(c);t.default={name:"UploadImage",props:{src:{type:String,default:""}},components:{Spinner:d.default},data:function(){return{imgSrc:"",imgFile:"",showLoading:!1}},watch:{src:{handler:function(e){this.imgSrc=e}}},methods:{dataURLtoFile:function(e,t){for(var a=e.split(","),n=window.atob(a[1]),i=n.length,r=new Uint8Array(i),s=a[0].match(/:(.*?);/)[1];i--;)r[i]=n.charCodeAt(i);return new File([r],t,{type:s})},uploadFile:function(e){var t=[].concat((0,o.default)(e.target.files));t.length&&(this.imgFile=t[0],e.target.value="",this.imgPreview())},imgPreview:function(){var e=this;this.showLoading=!0;var t=this.imgFile,a=void 0;if(f.default.getData(t,function(){a=f.default.getTag(t,"Orientation")}),t&&window.FileReader&&/^image/.test(t.type)){var n=new FileReader;n.readAsDataURL(t),n.onloadend=function(t){var n=t.target.result,i=new Image;i.src=n,n.length<=102400?e.postImg(n):i.onload=function(){e.postImg(e.compress(i,a))}}}},postImg:function(e){var t=this,a=this.dataURLtoFile(e,this.imgFile.name);(0,u.upload)({file:a}).then(function(e){var a=(e.success,e.message,e.data),n=(0,r.default)(a,1),i=n[0],s=void 0===i?{}:i;t.imgSrc="/H_roleplay-si/ds/download?url="+s.attacthment+"&width=400&height=400",t.$emit("on-upload",{src:s.attacthment})}).catch(function(e){t.$vux.alert.show({content:e.message})})},compress:function(e,t){var a=document.createElement("canvas"),n=a.getContext("2d"),i=document.createElement("canvas"),r=i.getContext("2d"),s=e.src.length,o=e.width,l=e.height,d=void 0;(d=o*l/4e6)>1?(console.log("大于400万像素"),d=Math.sqrt(d),o/=d,l/=d):d=1,a.width=o,a.height=l,n.fillStyle="#fff",n.fillRect(0,0,a.width,a.height);var u=void 0;if((u=o*l/1e6)>1){console.log("超过100W像素"),u=~~(Math.sqrt(u)+1);var c=~~(o/u),f=~~(l/u);i.width=c,i.height=f;for(var m=0;m<u;m++)for(var h=0;h<u;h++)r.drawImage(e,m*c*d,h*f*d,c*d,f*d,0,0,c,f),n.drawImage(i,m*c,h*f,c,f)}else n.drawImage(e,0,0,o,l);if(""!==t&&1!==t)switch(t){case 6:this.rotateImg(e,"left",a);break;case 8:this.rotateImg(e,"right",a);break;case 3:this.rotateImg(e,"right",a),this.rotateImg(e,"right",a)}var v=a.toDataURL("image/jpeg/gif",.5);return console.log("压缩前: "+s),console.log("压缩后: "+v.length),console.log("压缩率: "+~~(100*(s-v.length)/s)+"%"),i.width=i.height=a.width=a.height=0,v},rotateImg:function(e,t,a){if(null!=e){var n=e.height,i=e.width,r=2;null==r&&(r=0),"right"===t?++r>3&&(r=0):--r<0&&(r=3);var s=90*r*Math.PI/180,o=a.getContext("2d");switch(r){case 0:a.width=i,a.height=n,o.drawImage(e,0,0);break;case 1:a.width=n,a.height=i,o.rotate(s),o.drawImage(e,0,-n);break;case 2:a.width=i,a.height=n,o.rotate(s),o.drawImage(e,-i,-n);break;case 3:a.width=n,a.height=i,o.rotate(s),o.drawImage(e,-i,0)}}},getDefaultImg:function(e){this.showLoading=!1,this.$emit("on-error",e)},imgLoad:function(){this.showLoading=!1}},created:function(){this.imgSrc=this.src}}},HLvd:function(e,t){},HPEG:function(e,t,a){"use strict";function n(e){a("ccXV")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("dcVo");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("cG8U"),o=a.n(s),l=a("bsms"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-2d079de2",null);t.default=c.exports},HSWl:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pop-company-container",on:{click:e.itemClick}},[e.selItems.facilityName?a("div",[a("div",{staticClass:"title"},[e._v("设施")]),e._v(" "),a("div",{staticClass:"user_info"},[a("span",{staticClass:"user_name"},[e._v(e._s(e.selItems.facilityName))])])]):a("div",[a("div",{staticClass:"title"},[e._v("设施")]),e._v(" "),a("div",{staticClass:"mode"},[e._v("请选择设施")])]),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:!e.disabled,expression:"!disabled"}],staticClass:"iconfont icon-youjiantou r-arrow"}),e._v(" "),e.disabled?e._e():a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("div",{staticClass:"title"},[a("d-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}})],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"pop-list-container",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"pop-mater-list-item box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"pop-list-main "},[a("div",{staticClass:"pop-list-info"},[a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline name",staticStyle:{display:"inline-block"}},[a("span",[e._v(e._s(t.facilityName))])])]),e._v(" "),t.facilityType?a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline ",staticStyle:{display:"inline-block"}},[a("span",{staticClass:"creator"},[e._v(e._s(t.facilityType))])])]):e._e()])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}))],1)])],1)])},i=[],r={render:n,staticRenderFns:i};t.a=r},HTRD:function(e,t){},"HU/K":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("St0H");t.default={name:"x-button",props:{type:{default:"default"},disabled:Boolean,mini:Boolean,plain:Boolean,text:String,actionType:String,showLoading:Boolean,link:[String,Object],gradients:{type:Array,validator:function(e){return 2===e.length}}},methods:{onClick:function(){!this.disabled&&(0,n.go)(this.link,this.$router)}},computed:{noBorder:function(){return Array.isArray(this.gradients)},buttonStyle:function(){if(this.gradients)return{background:"linear-gradient(90deg, "+this.gradients[0]+", "+this.gradients[1]+")",color:"#FFFFFF"}},classes:function(){return[{"weui-btn_disabled":!this.plain&&this.disabled,"weui-btn_plain-disabled":this.plain&&this.disabled,"weui-btn_mini":this.mini,"vux-x-button-no-border":this.noBorder},this.plain?"":"weui-btn_"+this.type,this.plain?"weui-btn_plain-"+this.type:"",this.showLoading?"weui-btn_loading":""]}}}},HV0e:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("project-part",{attrs:{"project-info":e.orderInfo.order}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_part"},[e._m(0),e._v(" "),e._l(e.orderInfo.inPut.dataSet,function(t,n){return a("div",{key:n,staticClass:"form_content"},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"供应商名称",cellContent:t.dealerName_dealerDebit,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"供应商编码",cellContent:t.dealerCode_dealerDebit}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来关系标签",cellContent:t.drDealerLabel}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来余额",cellContent:e._f("numberComma")(e._f("toFixed")(t.thenAmntBalCopy1),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"申请金额",cellContent:e._f("numberComma")(e._f("toFixed")(t.applicationAmount),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次支付",cellContent:e._f("numberComma")(e._f("toFixed")(t.tdAmountCopy1),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次支付后余额",cellContent:e._f("numberComma")(e._f("toFixed")(t.differenceAmount),3),showSymbol:""}})],1)])})],2),e._v(" "),a("div",{staticClass:"form_part"},[e._m(1),e._v(" "),e._l(e.orderInfo.order.dataSet,function(t,n){return a("div",{key:n,staticClass:"form_content",class:{show_border:n!==e.orderInfo.order.dataSet.length-1}},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"采购入库号",cellContent:t.transMatchedCode,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"采购订单号",cellContent:t.orderCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"价税合计",cellContent:e._f("numberComma")(e._f("toFixed")(t.thenTotalAmntBal),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"已核销",cellContent:e._f("numberComma")(e._f("toFixed")(t.thenAlreadyAmnt),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"待核销",cellContent:e._f("numberComma")(e._f("toFixed")(t.thenAmntBal),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"账期到期日",cellContent:t.accountExpirationDate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"账期天数",cellContent:""+t.daysOfAccount}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"帐龄天数",cellContent:""+t.ageOfAging}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"账期剩余天数",cellContent:""+t.accountRemaingDays}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"已收票",cellContent:e._f("numberComma")(e._f("toFixed")(t.invoiced),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"待收票",cellContent:e._f("numberComma")(e._f("toFixed")(t.pendingTicket),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次申请支付",cellContent:e._f("numberComma")(e._f("toFixed")(t.applicationAmount),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次支付",cellContent:e._f("numberComma")(e._f("toFixed")(t.tdAmount),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次支付后余额",cellContent:e._f("numberComma")(e._f("toFixed")(t.differenceAmount),3),showSymbol:""}})],1)])})],2),e._v(" "),a("div",{staticClass:"form_part"},[e._m(2),e._v(" "),e._l(e.orderInfo.outPut.dataSet,function(t,n){return a("div",{key:n,staticClass:"form_content"},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"资金账户",cellContent:t.fundName_cashOutCode,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"资金编码",cellContent:t.cashOutCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"资金账户类型",cellContent:t.cashType_cashOutCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"账户余额",cellContent:e._f("numberComma")(e._f("toFixed")(t.thenAmntBal),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次支付",cellContent:e._f("numberComma")(e._f("toFixed")(t.tdAmount),3),showSymbol:""}})],1)])})],2),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("供应商详情")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("采购费用列表")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("供资金详情")])])}],r={render:n,staticRenderFns:i};t.a=r},HVhx:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("BGNQ"),o=n(s),l=a("z5TY"),d=n(l),u=a("kNGm"),c=(n(u),a("0AQX"),a("jLp1")),f=a("+VRO"),m=n(f),h=a("PKHo"),v=n(h),p=a("vl8n"),C=n(p);t.default={data:function(){return{projectTask:{},comment:{}}},mixins:[m.default,v.default],components:{Group:d.default,Cell:o.default,RPicker:C.default},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,c.findProjectTask)(t).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=t.attachment,s=void 0===i?[]:i,o=n.projectTask||{};e.jsonData=n,e.attachment=s,e.comment=n.comment,e.projectTask=(0,r.default)({},o,{deadline:e.changeDate(o.deadline),actualCompleteTime:e.changeDate(o.actualCompleteTime)}),e.orderInfo=(0,r.default)({},n.baseinfo,{biStatus:"已生效"})})}},created:function(){}}},HXPS:function(e,t,a){"use strict";function n(e){a("iiu9")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("K7WK");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("FA8z"),o=a.n(s),l=a("LGX9"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},HcHI:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("T1B6"),r=n(i),s=a("uJtz"),o=n(s),l=a("jnZd"),d=n(l);t.default={name:"x-address",components:{PopupPicker:d.default},props:{title:{type:String,required:!0},value:{type:Array,default:function(){return[]}},rawValue:Boolean,list:{type:Array,required:!0},labelWidth:String,inlineDesc:String,placeholder:String,hideDistrict:Boolean,valueTextAlign:String,confirmText:String,cancelText:String,displayFormat:{type:Function,default:function(e,t){return t}},popupStyle:Object,popupTitle:String,show:Boolean,disabled:Boolean},created:function(){if(this.currentValue.length&&this.rawValue){var e=(0,r.default)(this.currentValue,this.list);/__/.test(e)?(console.error("[VUX] Wrong address value",this.currentValue),this.currentValue=[]):this.currentValue=e.split(" ")}this.show&&(this.showValue=!0)},methods:{emitHide:function(e){this.$emit("on-hide",e)},getAddressName:function(){return(0,o.default)(this.value,this.list)},onShadowChange:function(e,t){this.$emit("on-shadow-change",e,t)}},data:function(){return{currentValue:this.value,showValue:!1}},computed:{nameValue:function(){return(0,o.default)(this.currentValue,this.list)},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}}},watch:{currentValue:function(e){this.$emit("input",e)},value:function(e){if(e.length&&!/\d+/.test(e[0])){var t=(0,r.default)(e,this.list).split(" ");if("__"!==t[0]&&"__"!==t[1])return void(this.currentValue=t)}this.currentValue=e},show:function(e){this.showValue=e},showValue:function(e){this.$emit("update:show",e)}}}},HcOF:function(e,t,a){"use strict";function n(e){a("rLLt")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("pD7w");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("thiw"),o=a.n(s),l=a("Bzzv"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-e94428c4",null);t.default=c.exports},HfaK:function(e,t,a){e.exports=a.p+"static/img/avatar.07a1d37.png"},HkPF:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2244,biStatus:"",filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"客户名称",value:"dealerName_dealerDebit"}]}},mixins:[i.default],methods:{}}},Hp0t:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("J0Oq"),o=n(s),l=a("4YfN"),d=n(l),u=a("a3Yh"),c=n(u),f=a("HzJ8"),m=n(f),h=a("3cXf"),v=n(h),p=a("z5TY"),C=n(p),_=a("SAzG"),y=n(_),b=a("PzEQ"),g=n(b),w=a("u28h"),I=n(w),x=a("0AQX"),D=a("HyXB"),P=a("bKg5"),k=n(P),S=a("kZy/"),T=n(S),L=a("luHD"),N=n(L),M=a("vl8n"),A=n(M),O=a("+WR7"),R=n(O),j=a("zWMP");a("Qg39");t.default={components:{PopMatterList:T.default,XTextarea:g.default,Group:C.default,XInput:y.default,PopMatter:N.default,RPicker:A.default,Datetime:I.default,PopBaseinfo:R.default},data:function(){return{listId:"4099b5aa-1468-4b81-85a5-75079e291977",matterList:[],showMaterielPop:!1,count:0,formData:{creator:"",modifer:"",biId:"",biComment:""},applyComment:"",numMap:{},taxRate:0,matterParams:{processing:"半成品"}}},mixins:[k.default],computed:{totalNum:function(){var e=0;return this.matterList.forEach(function(t){e=(0,j.accAdd)(e,t.tdQty)}),Number(e)}},methods:{selMatter:function(e){var t=this,a=JSON.parse(e);a.map(function(e){t.numMap[e.inventoryCode]?e.tdQty=t.numMap[e.inventoryCode].tdQty:e.tdQty=""}),this.numMap={},this.matterList=a},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,v.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,m.default)(this.matterList);!(e=(n=i.next()).done);e=!0){var r=n.value;this.numMap[r.inventoryCode]={tdQty:r.tdQty,price:r.price}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this,t="",a=[];if(0===this.matterList.length&&(t="请选择物料"),t||this.matterList.every(function(e){return e.tdQty?(a.push({tdId:e.tdId||"",inventoryName_transObjCode:e.inventoryName,transObjCode:e.inventoryCode,tdProcessing:e.processing,assMeasureUnit:e.assMeasureUnit||null,assMeasureScale:e.assMeasureScale||null,assistQty:e.assistQty||0,tdQty:e.tdQty,comment:e.comment||"",promDeliTime:e.promDeliTime}),!0):(t="数量不能为空",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=D.saveAndStartWf,n=(0,c.default)({},e.processCode,{businessKey:"BKSO",createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.biComment,formData:(0,v.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,order:{dataSet:a}})),wfPara:(0,v.default)(n)};e.isResubmit&&(t=D.saveAndCommitTask,i.biReferenceId=e.biReferenceId),e.processCode.length||(t=D.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,o.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,x.getSOList)({formViewUniqueId:e.uniqueId,transCode:e.transCode}).then(function(t){e.listId=t.listId,e.applyComment=t.biComment,e.biReferenceId=t.biReferenceId,e.biComment=t.biComment;var a=t.formData;a.order.dataSet.map(function(t){t=(0,d.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,inventoryType:t.inventoryType_transObjCode,inventorySubclass:t.inventorySubclass_transObjCode}),e.matterList.push(t)}),e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),e.attachment=t.attachment,e.$loading.hide()});case 2:case"end":return t.stop()}},t,e)}))()},hasDraftData:function(){return!!this.matterList.length&&(0,c.default)({},"BHDD_DATA",{matter:this.matterList,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("BHDD_DATA");e&&(this.matterList=JSON.parse(e).matter,this.formData=JSON.parse(e).formData,sessionStorage.removeItem("BHDD_DATA"))}}},HpO8:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("Nk/b"),o=n(s),l=a("BGNQ"),d=n(l),u=a("7g+Q"),c=n(u),f=a("MF1H"),m=n(f),h=a("xZPP"),v=n(h),p=a("nKjL"),C=a("KH5r"),_=n(C),y=a("uJtz"),b=n(y),g=a("3BYQ"),w=n(g),I=a("+62G"),x=n(I),D=function(e){return JSON.parse((0,r.default)(e))};t.default={name:"popup-picker",directives:{TransferDom:x.default},created:function(){void 0!==this.show&&(this.showValue=this.show)},mixins:[w.default],components:{Picker:o.default,Cell:d.default,Popup:c.default,PopupHeader:m.default,Flexbox:p.Flexbox,FlexboxItem:p.FlexboxItem,InlineDesc:v.default},filters:{array2string:_.default,value2name:b.default},props:{valueTextAlign:{type:String,default:"right"},title:String,cancelText:String,confirmText:String,data:{type:Array,default:function(){return[]}},placeholder:String,columns:{type:Number,default:0},fixedColumns:{type:Number,default:0},value:{type:Array,default:function(){return[]}},showName:Boolean,inlineDesc:[String,Number,Array,Object,Boolean],showCell:{type:Boolean,default:!0},show:Boolean,displayFormat:Function,isTransferDom:{type:Boolean,default:!0},columnWidth:Array,popupStyle:Object,popupTitle:String,disabled:Boolean},computed:{labelStyles:function(){return{display:"block",width:this.$parent.labelWidth||this.$parent.$parent.labelWidth||"auto",textAlign:this.$parent.labelAlign||this.$parent.$parent.labelAlign,marginRight:this.$parent.labelMarginRight||this.$parent.$parent.labelMarginRight}},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}}},methods:{value2name:b.default,getNameValues:function(){return(0,b.default)(this.currentValue,this.data)},onClick:function(){this.disabled||(this.showValue=!0)},onHide:function(e){this.showValue=!1,e&&(this.closeType=!0,this.currentValue=D(this.tempValue)),e||(this.closeType=!1,this.value.length>0&&(this.tempValue=D(this.currentValue)))},onPopupShow:function(){this.closeType=!1,this.$emit("on-show")},onPopupHide:function(e){this.value.length>0&&(this.tempValue=D(this.currentValue)),this.$emit("on-hide",this.closeType)},onPickerChange:function(e){if((0,r.default)(this.currentValue)!==(0,r.default)(e)&&this.value.length){var t=(0,r.default)(this.data);t!==this.currentData&&"[]"!==this.currentData&&(this.tempValue=D(e)),this.currentData=t}var a=D(e);this.$emit("on-shadow-change",a,(0,b.default)(a,this.data).split(" "))}},watch:{value:function(e){(0,r.default)(e)!==(0,r.default)(this.tempValue)&&(this.tempValue=D(e),this.currentValue=D(e))},currentValue:function(e){this.$emit("input",D(e)),this.$emit("on-change",D(e))},show:function(e){this.showValue=e},showValue:function(e){this.$emit("update:show",e)}},data:function(){return{onShowProcess:!1,tempValue:D(this.value),closeType:!1,currentData:(0,r.default)(this.data),showValue:!1,currentValue:this.value}}}},HyXB:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.transferTask=t.getUserList=t.getRoleByUserId=t.getGroupByUserId=t.listUsers=t.getObjDealerByLabelName=t.getProcess=t.getDictByValue=t.getProcessStatus=t.getDictByType=t.deleteFile=t.upload=t.getList=t.getBaseInfoData=t.getBaseInfoDataBase=t.commitTask=t.updateData=t.submitAndCalc=t.saveAndCommitTask=t.saveAndStartWf=void 0;var i=a("3cXf"),r=n(i),s=a("4YfN"),o=n(s),l=a("lC5x"),d=n(l),u=a("KH7x"),c=n(u),f=a("J0Oq"),m=n(f),h=a("rVsN"),v=n(h),p=a("GOq4"),C=n(p),_=t.saveAndStartWf=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return C.default.ajax({type:"POST",contentType:"application/x-www-form-urlencoded",url:"/H_roleplay-si/formAPI/saveAndStartWf",data:e})},y=t.saveAndCommitTask=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return C.default.ajax({type:"POST",contentType:"application/x-www-form-urlencoded",url:"/H_roleplay-si/formAPI/saveAndCommitTask",data:e})},b=t.submitAndCalc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return C.default.ajax({type:"POST",contentType:"application/x-www-form-urlencoded",url:"/H_roleplay-si/formAPI/submitAndCalc",data:e})},g=(t.updateData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return C.default.ajax({type:"POST",contentType:"application/x-www-form-urlencoded",url:"/H_roleplay-si/formAPI/updateData",data:e})},t.commitTask=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return C.default.ajax({type:"POST",contentType:"application/x-www-form-urlencoded",url:"/H_roleplay-si/flow/commitTask",data:e})},t.getBaseInfoDataBase=function(){return new v.default(function(){var e=(0,m.default)(d.default.mark(function e(t,a){var n,i,r,s,o,l,u,f;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.default.ajax({url:"/H_roleplay-si/userInfo/currentUser"}).then(function(e){return e});case 2:return n=e.sent,i=n.nickname,r=n.userId,e.next=7,C.default.ajax({url:"/H_roleplay-si/ds/getUnitsByUserId",data:{userId:r,page:1,start:0,limit:1e4}}).then(function(e){var t=e.tableContent,a=void 0===t?[]:t,n=(0,c.default)(a,1),i=n[0];return void 0===i?{}:i});case 7:s=e.sent,o=s.userGroupId,l=void 0===o?"":o,u=s.userGroupName,f=void 0===u?"":u,C.default.ajax({url:"/H_roleplay-si/ds/getRolesByUserId",data:{userId:r,parentId:l,page:1,start:0,limit:1e4}}).then(function(e){var a=e.tableContent,n=void 0===a?[]:a,s=(0,c.default)(n,1),o=s[0],d=void 0===o?{}:o;t({handler:r,handlerName:i,handlerUnit:l,handlerUnitName:f,handlerRole:d.userGroupId||"",handlerRoleName:d.userGroupName||""})});case 13:case"end":return e.stop()}},e,void 0)}));return function(t,a){return e.apply(this,arguments)}}())},t.getBaseInfoData=function(){return new v.default(function(){var e=(0,m.default)(d.default.mark(function e(t,a){var n,i,r,s,o,l,u,c;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.default.ajax({url:"/H_roleplay-si/userInfo/currentUser"}).then(function(e){return e});case 2:return n=e.sent,i=n.nickname,r=n.userId,s=n.userCode,e.next=8,C.default.ajax({url:"/H_roleplay-si/ds/getGroupByUserId",data:{userId:r,page:1,start:0,limit:1e4}}).then(function(e){var t=e.tableContent;return{tableContent:void 0===t?[]:t}});case 8:return o=e.sent,l=o.tableContent,e.next=12,C.default.ajax({url:"/H_roleplay-si/ds/getRoleByUserId",data:{userId:r,page:1,start:0,limit:1e4}}).then(function(e){var t=e.tableContent;return{tableContent:void 0===t?[]:t}});case 12:u=e.sent,c=u.tableContent,t({handleORG:l,userRoleList:c,userId:r,nickname:i,userCode:s});case 15:case"end":return e.stop()}},e,void 0)}));return function(t,a){return e.apply(this,arguments)}}())}),w=t.getList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return C.default.ajax({url:"/H_roleplay-si/seconds/getReportInfoByListViewId/"+e,data:t})},I=t.upload=function(e){var t=e.file,a=void 0===t?{}:t,n=e.biReferenceId,i=void 0===n?"":n;return C.default.upload({file:a,biReferenceId:i})},x=(t.deleteFile=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return C.default.ajax({url:"/H_roleplay-si/ds/delete",data:{_dc:Date.now(),id:e,list:"attachments"}})},t.getDictByType=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return C.default.ajax({url:"/H_roleplay-si/ds/getDictByType",data:(0,o.default)({_dc:Date.now(),page:1,start:0,limit:1e4,type:e},t)})}),D=t.getProcessStatus=function(e){return C.default.ajax({url:"/H_roleplay-si/ds/getProcessStatus",data:{listId:e,page:1,start:0,limit:1e4}})},P=t.getDictByValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return C.default.ajax({url:"/H_roleplay-si/ds/getDictByValue",data:(0,o.default)({_dc:Date.now(),page:1,start:0,limit:1e4,value:e},t)})},k=t.getProcess=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return C.default.ajax({url:"/H_roleplay-si/ds/list/getProcessByListId",data:{_dc:Date.now(),listId:e}})},S=t.getObjDealerByLabelName=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return C.default.ajax({url:"/H_roleplay-si/ds/getObjDealerByLabelName",data:(0,o.default)({_dc:Date.now(),page:1,start:0,limit:1e4},e)})},T=(t.listUsers=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return C.default.ajax({url:"/H_roleplay-si/ds/listUsers",data:e})},t.getGroupByUserId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return C.default.ajax({url:"/H_roleplay-si/ds/getGroupByUserId",data:{page:1,start:0,limit:1e4,userId:e}})},t.getRoleByUserId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return C.default.ajax({url:"/H_roleplay-si/ds/getRoleByUserId",data:{page:1,start:0,limit:1e4,userId:e}})},t.getUserList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return C.default.ajax({url:"/H_roleplay-si/ds/listUsers",data:(0,o.default)({_dc:Date.now(),sort:(0,r.default)([{property:"crtTime",direction:"DESC"}])},e)})}),L=t.transferTask=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return C.default.ajax({url:"/H_roleplay-si/flow/setAssignee",data:(0,o.default)({_dc:Date.now()},e)})};t.default={getList:w,upload:I,getProcess:k,getDictByType:x,submitAndCalc:b,getDictByValue:P,saveAndStartWf:_,getBaseInfoData:g,saveAndCommitTask:y,getProcessStatus:D,getObjDealerByLabelName:S,getUserList:T,transferTask:L}},"I/Vg":function(e,t){},"I/ph":function(e,t){},I3vJ:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getPriceRange=t.getSalesOrderNew=t.getInventoryToProcessing=t.getSalesContract=t.getProductPriceAllInventory=t.getLowPriceConsumableInWarehouse=t.getLowValueConsumPurchaseOrder=t.getObjInvMoreUnitByInvCode=t.getUsingProcedure=t.getObjTechnics=t.getTaskBom=t.getJGRKBom=t.getJGDDBom=t.getPurchaseInNeeds=t.getXQTJList=t.getCKTHCKList=t.getKCPDList=t.getMatList=t.getInventory7502=t.getInventory7501=t.getObjInventory=t.getObjInventoryByProcessing=t.getCostById=t.getCost=t.getSumInvBalance=t.delImg=t.upload=t.findData=t.update=t.save=void 0;var i=a("4YfN"),r=n(i),s=a("GOq4"),o=n(s),l=t.save=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.post({url:"/H_roleplay-si/inventory/save",data:e})},d=t.update=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.post({url:"/H_roleplay-si/inventory/update",data:e})},u=t.findData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return o.default.ajax({url:"/H_roleplay-si/inventory/findData",data:{transCode:e}})},c=t.upload=function(e){var t=e.file,a=void 0===t?{}:t,n=e.biReferenceId,i=void 0===n?"":n;return o.default.upload({file:a,biReferenceId:i})},f=t.delImg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return o.default.ajax({url:"/H_roleplay-si/ds/delete",data:{id:e,list:"attachments"}})};t.getSumInvBalance=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getSumInvBalance",data:e})},t.getCost=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getCostAll",data:e})},t.getCostById=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getProjectCostByGroupId",data:e})},t.getObjInventoryByProcessing=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getObjInventoryByProcessing",data:(0,r.default)({_dc:Date.now()},e)})},t.getObjInventory=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getObjInventory",data:(0,r.default)({_dc:Date.now()},e)})},t.getInventory7501=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getPurchaseOrder",data:(0,r.default)({_dc:Date.now()},e)})},t.getInventory7502=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getPurchaseWarehousing",data:(0,r.default)({_dc:Date.now()},e)})},t.getMatList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getMaterialList",data:e})},t.getKCPDList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getSumInvBalance_KCPD",data:(0,r.default)({_dc:Date.now()},e)})},t.getCKTHCKList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getPurchaseReturn",data:e})},t.getXQTJList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"getDemandAdjustment";return o.default.ajax({url:"/H_roleplay-si/ds/"+t,data:(0,r.default)({_dc:Date.now()},e)})},t.getPurchaseInNeeds=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getPurchaseInNeeds",data:e})},t.getJGDDBom=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getInProcessingOrderBom",data:(0,r.default)({_dc:Date.now()},e)})},t.getJGRKBom=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getBomByPInvCode",data:(0,r.default)({_dc:Date.now()},e)})},t.getTaskBom=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getBomWorkOrderTask",data:(0,r.default)({_dc:Date.now()},e)})},t.getObjTechnics=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getObjTechnics",data:(0,r.default)({_dc:Date.now()},e)})},t.getUsingProcedure=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getUsingProcedure",data:(0,r.default)({_dc:Date.now()},e)})},t.getObjInvMoreUnitByInvCode=function(e){return o.default.ajax({url:"/H_roleplay-si/ds/getObjInvMoreUnitByInvCode",data:{_dc:Date.now(),inventoryCode:e,page:1,start:0,limit:1e4}})},t.getLowValueConsumPurchaseOrder=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getLowValueConsumPurchaseOrder",data:(0,r.default)({_dc:Date.now(),page:1,start:0,limit:1e4},e)})},t.getLowPriceConsumableInWarehouse=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getLowPriceConsumableInWarehouse",data:(0,r.default)({_dc:Date.now(),page:1,start:0,limit:1e4},e)})},t.getProductPriceAllInventory=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getProductPriceAllInventory",data:(0,r.default)({_dc:Date.now()},e)})},t.getSalesContract=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getSalesContract",data:(0,r.default)({_dc:Date.now()},e)})},t.getInventoryToProcessing=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getInventoryToProcessing",data:(0,r.default)({_dc:Date.now()},e)})},t.getSalesOrderNew=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getSalesOrderNew",data:(0,r.default)({_dc:Date.now()},e)})},t.getPriceRange=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getPriceRange",data:(0,r.default)({_dc:Date.now(),drDealerLabel:"客户"},e)})};t.default={save:l,update:d,findData:u,upload:c,delImg:f}},I5id:function(e,t,a){"use strict";function n(e){a("b7iB")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("sEzR");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("B8Y4"),o=a.n(s),l=a("4PXy"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-10e0a1d6",null);t.default=c.exports},I8ug:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.saveAssessment=t.saveLog=t.getAdminCommentList=t.getChangeLog=t.getAppDetail=t.savePraise=t.saveComment=t.getReply=t.getCommentList=t.getPCCommentList=void 0;var i=a("3cXf"),r=n(i),s=a("4YfN"),o=n(s),l=a("GOq4"),d=n(l),u=t.getPCCommentList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/comment/getCommentByRelationKey",data:(0,o.default)({sort:(0,r.default)([{property:"crtTime",direction:"DESC"}]),page:1,limit:10,total:0},e)})},c=(t.getCommentList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/ds/getMobileCommentByTransCode",data:(0,o.default)({page:1,limit:10},e)})},t.getReply=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/comment/getCommentByParentId",data:(0,o.default)({sort:(0,r.default)([{property:"crtTime",direction:"ASC"}]),parentId:145657,page:1,limit:10},e)})},t.saveComment=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.post({url:"/H_roleplay-si/comment/saveComment",data:(0,o.default)({commentAndReply:!1,commentAttachments:[],type:"instance"},e)})},t.savePraise=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return d.default.post({url:"/H_roleplay-si/comment/savePraise",data:{commentId:e}})},t.getAppDetail=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return d.default.ajax({url:"/H_roleplay-si/ds/list/getListById",data:{uniqueId:e}})}),f=t.getChangeLog=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/ds/getChangeLog",data:e})},m=t.getAdminCommentList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/ds/getAssessmentByListId",data:e})},h=t.saveLog=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({type:"POST",contentType:"application/x-www-form-urlencoded",url:"/H_roleplay-si/app/saveLog",data:e})};t.saveAssessment=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.post({url:"/H_roleplay-si/app/saveAssessment",data:e})};t.default={getAppDetail:c,getChangeLog:f,getAdminCommentList:m,getPCCommentList:u,saveLog:h}},IAdv:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),m=a("bFc7"),h=n(m),v=a("6WeX"),p=n(v),C=a("3NX5"),_=n(C),y=a("sUbJ"),b=n(y),g=a("d7ck"),w=n(g),I=a("zWMP"),x=a("Qg39");t.default={data:function(){return{count:0,comment:"",orderInfo:{},formViewUniqueId:"e76a8c6f-05cc-45ee-ba93-299fe6751856",orderList:{}}},mixins:[l.default],components:{workFlow:f.default,RAction:u.default,PriceTotal:p.default,contactPart:h.default,MatterList:_.default,MatterItem:b.default,FormCell:w.default},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var d={},u=s.order,c=void 0===u?{}:u;e.attachment=l;var f=s.order.dataSet,m=!0,h=!1,v=void 0;try{for(var p,C=(0,r.default)(f);!(m=(p=C.next()).done);m=!0){var _=p.value;_.noTaxAmount=(0,I.accMul)(_.price,_.tdQty),_.taxAmount=(0,I.accMul)(_.noTaxAmount,_.taxRate),_.tdAmount=(0,x.toFixed)((0,I.accAdd)(_.noTaxAmount,_.taxAmount)),e.count=(0,I.accAdd)(e.count,_.tdAmount),_.inventoryPic=_.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),d[_.transMatchedCode]||(d[_.transMatchedCode]=[]),d[_.transMatchedCode].push(_)}}catch(e){h=!0,v=e}finally{try{!m&&C.return&&C.return()}finally{if(h)throw v}}e.orderList=d,e.dealerInfo={dealerName:c.dealerName_dealerCodeCredit,dealerMobilePhone:s.dealerCreditContactInformation,dealerContactPersonName:s.dealerCreditContactPersonName,dealerCode:c.dealerCodeCredit,dealerLabelName:c.crDealerLabel,province:c.province_dealerCodeCredit,city:c.city_dealerCodeCredit,county:c.county_dealerCodeCredit,address:c.address_dealerCodeCredit},e.orderInfo=s,e.workFlowInfoHandler()})}}}},IBVj:function(e,t,a){"use strict";function n(e){a("RkIG")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("vT2+");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("moZA"),o=a.n(s),l=a("ZOHQ"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-7340d5e8",null);t.default=c.exports},IDW0:function(e,t){},IF3Z:function(e,t){},IIvl:function(e,t,a){"use strict";function n(e){a("JBle")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Iw1N");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("vj7a"),o=a.n(s),l=a("Nbjp"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-3151fa2f",null);t.default=c.exports},IJcc:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Iu/6"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"loading",data:function(){return{show:!1}},components:{Spinner:i.default}}},"IK4/":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,"default-contact":e.contactInfo,"dealer-label-name":"设施供应商",dealerTitle:"供应商"},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("pop-single-select",{attrs:{title:"结算方式",data:e.transMode,value:e.dealerInfo.paymentTerm,isRequired:""},model:{value:e.dealerInfo.paymentTerm,callback:function(t){e.$set(e.dealerInfo,"paymentTerm",t)},expression:"dealerInfo.paymentTerm"}}),e._v(" "),a("cell",{staticClass:"cell-item",attrs:{title:"账期天数",value:e.dealerInfo.pamentDays}}),e._v(" "),a("div",{staticClass:"materiel_list"},[Object.keys(e.orderList).length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v("订单列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n,i){return a("div",{key:n,staticClass:"each_mater",class:{"vux-1px-b":i<Object.keys(e.orderList).length-1}},[t.length?a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v("申请号")]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]):e._e(),e._v(" "),e._l(t,function(i,r){return a("div",{key:r,class:{mater_delete:e.matterModifyClass}},[a("matter-item",{class:{"vux-1px-b":r<t.length-1},attrs:{item:i,"show-delete":e.matterModifyClass},on:{"on-modify":function(t){e.modifyMatter(i,r,n)}},nativeOn:{click:function(t){e.delClick(r,i)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_more"},[a("span",{staticClass:"unit"},[e._v("类型: "+e._s(n.facilityType||"无"))]),e._v(" "),a("span",{staticClass:"unit"},[e._v("大类: "+e._s(n.facilityBigType))]),e._v(" "),a("span",{staticClass:"qty"},[e._v("子类: "+e._s(n.facilitySubclass))])]),e._v(" "),a("div",{staticClass:"mater_more"},[a("span",{staticClass:"unit"},[e._v("单位: "+e._s(n.facilitySpecification||"无"))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.taxRate,expression:"item.taxRate"}]},[e._v("税率: "+e._s(n.taxRate))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.qtyBal,expression:"item.qtyBal"}],staticClass:"qty"},[e._v("待下单: "+e._s(n.qtyBal))])]),e._v(" "),n.price&&n.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price)+"\n                      ")]),e._v(" "),a("div",[a("r-number",{attrs:{num:n.tdQty,checkAmt:e.checkAmt,max:n.qtyBal},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",t)},expression:"item.tdQty"}})],1)]):e._e()]}},{key:"editPart",fn:function(t){var i=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:i.price&&(i.tdQty||0===i.tdQty)&&!e.matterModifyClass,expression:"(item.price && (item.tdQty || item.tdQty === 0)) &&!matterModifyClass"}],staticClass:"edit-part vux-1px-l",on:{click:function(t){e.modifyMatter(i,r,n)}}},[a("span",{staticClass:"iconfont icon-bianji1"})])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(t){e.delClick(r,i)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(i),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(i),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)})],2)}))]:[a("div",{on:{click:function(t){e.showOrderPop=!e.showOrderPop}}},[a("div",{staticClass:"title"},[e._v("申请号列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择申请号")]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多物料")])]):e._e(),e._v(" "),a("pop-facility-list",{ref:"matter",attrs:{show:e.showOrderPop,"filter-list":e.filterList,"default-title":"申请号","default-value":e.matterList,request:"1"},on:{"sel-matter":e.selMatter},scopedSlots:e._u([{key:"storage",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_classify"},[a("span",{staticClass:"father"},[e._v("单价: ￥"+e._s(n.price||0))]),e._v(" "),a("span",[e._v("待下单: "+e._s(n.qtyBal||0))])])]}}]),model:{value:e.showOrderPop,callback:function(t){e.showOrderPop=t},expression:"showOrderPop"}})],2),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide},on:{"sel-confirm":e.selConfirm},scopedSlots:e._u([{key:"qtyBal",fn:function(t){var n=t.modifyMatter;return[a("span",[e._v("待下单: "+e._s(n.qtyBal))])]}}]),model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num"},[a("span",{staticStyle:{fontSize:".14rem"}},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.tdAmount))+"\n      "),a("span",{staticClass:"taxAmount"},[e._v("[含税: ￥"+e._s(e._f("numberComma")(e.taxAmount))+"]")])]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},"ILd/":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("HzJ8"),o=n(s),l=a("I8ug"),d=a("4XVd"),u=a("fQlz"),c=n(u),f=a("Z5v5");t.default={name:"ChangeLog",data:function(){return{commentList:[],listId:"a4897429-f4f2-44a4-ade7-2fe8dc67c3cf"}},filters:{handleCrt:function(e){if(e){var t=Date.now();"string"==typeof e&&(e=e.replace(/-/g,"/").replace(/\..*/g,""));var a=+new Date(e),n=t-a,i=n/1e3,r=i/60,s=r/60,o=s/24;return i<60?"刚刚":r<60?parseInt(r)+"分钟前":s<24?parseInt(s)+"小时前":o<30?parseInt(o)+"天前":e}}},methods:{getUserDefault:function(e){var t=a("cr7Q");return e&&(e.photo=t),t},getCommetList:function(){var e=this;return(0,l.getPCCommentList)({relationKey:this.listId,limit:10,page:1,total:0}).then(function(t){var a=(t.dataCount,t.tableContent),n=void 0===a?[]:a;n.forEach(function(t){if(e.checkImgSuffix(t),t.praises.length)return void(t.isPraise=!1);t.isPraise=!0}),e.commentList=n})},changeImgPath:function(e){var t=e.content.replace(/src="resources/g,'src="/dist/resources');return e.content=t,t},goCommentList:function(){this.$router.push({path:"/commentList",query:{listId:this.listId}})},savePraise:function(e){if(e.isPraise)return(0,d.savePraise)(e.id).then(function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];arguments[1];t&&(e.isPraise=!1,e.praiseNum++)})},checkImgSuffix:function(e){var t=["jpg","jpeg","png","gif","bmp","tif","pcx","tga","exif","fpx","svg","psd","cdr","pcd","dxf","ufo","eps","ai","raw","WMF","webp"],a=!0,n=!1,i=void 0;try{for(var r,s=(0,o.default)(e.commentAttachments);!(a=(r=s.next()).done);a=!0){var l=r.value,d=l.name.lastIndexOf("."),u=l.name.substr(d+1);t.includes(u)&&(l.isImg=!0)}}catch(e){n=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}},handleComment:function(e){var t=[].concat((0,r.default)(c.default)),a=e.content,n=/\[(.+?)\]/g;return a=a.replace(/src="resources/g,'src="/dist/resources'),a=a.replace(n,function(e){var a=t.findIndex(function(t){return t===e.replace(/(\[|\])/g,"")});return-1===a?e:'<span class="img-emotion" style="background-position: -'+24*a+'px 0;"></span>'})},scaleImg:function(e){console.log("img:",e);var t=""+location.origin+e.attachment;wx.previewImage({current:t,urls:[t]})},checkFile:function(e){window.location.href=""+location.origin+e}},created:function(){(0,f.register)();var e=this.$route.params.listId;e&&(this.listId=e,this.getCommetList())}}},IMPq:function(e,t){},IPxZ:function(e,t){},ISAi:function(e,t){},IT5e:function(e,t,a){"use strict";function n(e){a("Fd06")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("VtS1");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("oRkL"),o=a.n(s),l=a("DAfb"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-1652174c",null);t.default=c.exports},IT6o:function(e,t){},ITaD:function(e,t){},IUIu:function(e,t){},IUN9:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("BGNQ"),o=n(s),l=a("z5TY"),d=n(l),u=a("kNGm"),c=n(u),f=a("0AQX"),m=a("+VRO"),h=n(m),v=(a("Qg39"),a("BUFe")),p=n(v),C=a("AupE"),_=n(C),y=a("bFc7"),b=n(y),g=a("hPJo"),w=n(g),I=a("FlCz"),x=n(I);t.default={data:function(){return{workInfo:[],orderInfo:{},warehouse:{},bomList:[]}},mixins:[h.default],components:{Cell:o.default,Group:d.default,RAction:p.default,workFlow:_.default,contactPart:b.default,WarehouseContent:w.default,BomList:x.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,f.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order,n=void 0===a?{}:a;t.formData.validUntil=(0,c.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workInfo=n.dataSet,e.warehouse=(0,r.default)({},e.warehouse,{warehouseName:n.warehouseName_containerCode,warehouseType:n.warehouseType_containerCode,warehouseAddress:n.warehouseAddress_containerCode}),e.workFlowInfoHandler()})}}}},IXh9:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Q+Ik"),r=n(i),s=a("HzJ8"),o=n(s),l=a("KH7x"),d=n(l),u=a("hRKE"),c=n(u),f=a("rVsN"),m=n(f),h=a("eA/s"),v=n(h),p=a("C+Mu"),C=n(p),_=a("L6VY"),y=n(_),b=a("kSI7"),g=n(b),w=new v.default,I=a("Umb+"),x=function(e,t){return(0,g.default)(t),m.default.reject({success:!1,message:t})};w.interceptors.request.use(function(e){var t=C.default.checkLogin();if(!t)return w.lock(),C.default.login().then(function(t){return e.headers.Authorization=t,e}).finally(function(){w.unlock()}).catch(function(e){console.log("req-err:",e),x(0,e.message)});e.headers.Authorization=t}),w.interceptors.response.use(function(e){var t=e.data,a=t.success,n=void 0===a||a,i=t.message,r=void 0===i?"请求异常":i;if(n)return e;x(0,r)},function(e){if(401===e.status)return this.lock(),C.default.login().then(function(e){console.log("token已更新"),y.default.show({title:"温馨提示",content:"您的登录状态似乎有点问题，不用担心，页面刷新之后就好",onHide:function(){location.reload()}})});x(0,e.response.data.message)});var D={ajax:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new m.default(function(t,a){var n={method:e.type||e.method||"GET",url:e.url,headers:{"Content-Type":e.contentType||"*/*"},timeout:e.time||3e4,responseType:e.dataType||"json"};if("POST"===n.method.toUpperCase())n.data=I.stringify(e.data||e.body)||{};else if("object"===(0,c.default)(e.data)){var i=[],s=!0,l=!1,u=void 0;try{for(var f,m=(0,o.default)((0,r.default)(e.data));!(s=(f=m.next()).done);s=!0){var h=f.value,v=(0,d.default)(h,2),p=v[0],C=v[1];i.push(p+"="+C)}}catch(e){l=!0,u=e}finally{try{!s&&m.return&&m.return()}finally{if(l)throw u}}-1===n.url.indexOf("?")?n.url=encodeURI(n.url+"?"+i.join("&")):n.url=encodeURI(n.url+"&"+i.join("&"))}w.request(n,n.data).then(function(e){return t(e.data)})})},post:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new m.default(function(t,a){w.post(e.url,e.data).then(function(e){return t(e.data)})})},upload:function(e){var t=e.file,a=void 0===t?{}:t,n=e.biReferenceId,i=void 0===n?"":n,r=new FormData;return r.append("file",a),i&&r.append("biReferenceId",i),this.post({url:"/H_roleplay-si/ds/upload",headers:{"Content-Type":"multipart/form-data"},data:r})}};t.default=D},IdQo:function(e,t){},IhO0:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=(a("HyXB"),a("+VRO")),l=n(o),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),m=a("6WeX"),h=n(m),v=a("3NX5"),p=n(v),C=a("sUbJ"),_=n(C),y=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:""}},components:{workFlow:f.default,RAction:u.default,PriceTotal:h.default,MatterList:p.default,MatterItem:_.default},mixins:[l.default],methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var d={};s.order;e.attachment=l;var u=s.order.dataSet,c=!0,f=!1,m=void 0;try{for(var h,v=(0,r.default)(u);!(c=(h=v.next()).done);c=!0){var p=h.value;e.count=(0,y.accAdd)(e.count,p.tdAmount),p.inventoryPic=p.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+p.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),p.transObjCode=p.inventoryCode_transObjCode,d[p.transMatchedCode]||(d[p.transMatchedCode]=[]),d[p.transMatchedCode].push(p)}}catch(e){f=!0,m=e}finally{try{!c&&v.return&&v.return()}finally{if(f)throw m}}e.orderList=d,e.orderInfo=s,e.workFlowInfoHandler()})}}}},IhpF:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("fKU2");a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,function(){return n[e]})}(i);var r=a("BqiB"),s=a.n(r),o=a("C7Lr"),l=o(s.a,null,!1,null,null,null);t.default=l.exports},"Ij+m":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=(a("HyXB"),a("MjAd")),o=n(s);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}],listViewID:2331}},mixins:[o.default],methods:{goDetail:function(e,t){var a=this;if(!this.clickVisited){var n=e.transCode,i=this.$route.query.name,s=this.$route.params,o=s.fileId,l=s.listId;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,r.default)({},e)),setTimeout(function(){a.clickVisited=!1,a.$router.push({path:"/detail/"+o+"/"+l,query:{name:i,transCode:n}})},200)}}}}},"Ijt+":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("project-part",{attrs:{"project-info":e.orderInfo.order}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_part"},[e._m(0),e._v(" "),a("div",{staticClass:"form_content"},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"往来名称",cellContent:e.dealerInfo.dealerName,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来编码",cellContent:e.dealerInfo.dealerCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来关系标签",cellContent:e.dealerInfo.dealerLabelName}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来余额",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.amntBal),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次收汇票",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.thenTotalAmntBal),3),showSymbol:""}})],1)])]),e._v(" "),a("div",{staticClass:"form_part"},[e._m(1),e._v(" "),e._l(e.orderInfo.order.dataSet,function(t,n){return a("div",{key:n,staticClass:"form_content",class:{show_border:n!==e.orderInfo.order.dataSet.length-1}},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"汇票号",cellContent:t.draftNumber,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"类型",cellContent:t.draftType}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"承兑人",cellContent:t.accepter}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"金额",cellContent:e._f("numberComma")(e._f("toFixed")(t.tdAmount),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"出票日",cellContent:t.draftDate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"到期日",cellContent:t.draftDueDate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"说明",cellContent:t.comment}})],1)])})],2),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("往来详情")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("汇票列表")])])}],r={render:n,staticRenderFns:i};t.a=r},IlP4:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),m=a("sUbJ"),h=n(m),v=a("d7ck"),p=n(v);t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",orderList:{},basicInfo:{}}},mixins:[l.default],components:{workFlow:f.default,RAction:u.default,MatterItem:h.default,FormCell:p.default},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var d={};s.outPut;e.attachment=l;var u=s.outPut.dataSet,c=!0,f=!1,m=void 0;try{for(var h,v=(0,r.default)(u);!(c=(h=v.next()).done);c=!0){var p=h.value;p.inventoryPic=p.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+p.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),p.inventoryName_transObjCode=p.inventoryName_outPutMatCode,p.transObjCode=p.outPutMatCode,d[p.transMatchedCode]||(d[p.transMatchedCode]=[]),d[p.transMatchedCode].push(p)}}catch(e){f=!0,m=e}finally{try{!c&&v.return&&v.return()}finally{if(f)throw m}}e.orderList=d,e.orderInfo=s,e.workFlowInfoHandler()})}}}},IlYu:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pop-company-container vux-1px-b",on:{click:e.itemClick}},[e.selItems.groupName?a("div",[a("div",{staticClass:"title"},[e._v("公司")]),e._v(" "),a("div",{staticClass:"user_info"},[a("span",{staticClass:"user_name"},[e._v(e._s(e.selItems.groupName))])])]):a("div",[a("div",{staticClass:"title required"},[e._v("公司")]),e._v(" "),a("div",{staticClass:"mode"},[e._v("请选择公司")])]),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:!e.disabled,expression:"!disabled"}],staticClass:"iconfont icon-youjiantou r-arrow"}),e._v(" "),e.disabled?e._e():a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("div",{staticClass:"title"},[a("d-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}})],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"pop-list-container",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"pop-mater-list-item box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"pop-list-main "},[a("div",{staticClass:"pop-list-info"},[a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline name",staticStyle:{display:"inline-block"}},[a("span",[e._v(e._s(t.groupName))])])]),e._v(" "),t.companyType?a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline ",staticStyle:{display:"inline-block"}},[a("span",{staticClass:"creator"},[e._v(e._s(t.companyType))])])]):e._e()])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}))],1)])],1)])},i=[],r={render:n,staticRenderFns:i};t.a=r},ImmF:function(e,t,a){"use strict";function n(e){a("uHvQ")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("n+GY");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("OXL9"),o=a.n(s),l=a("fuxa"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-6b0512fa",null);t.default=c.exports},IpWp:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("kNGm"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o);t.default={data:function(){return{userData:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},uploadStyle:{width:"100%",padding:"0.06rem 0.1rem"}}},mixins:[l.default],filters:{date:function(e){return(0,r.default)(e,"YYYY-MM-DD")}},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=o,e.userData=r,e.workFlowInfoHandler()})},goEdit:function(){var e=this.$route.params,t=e.fileId,a=e.listId,n=this.$route.query.name;this.$router.push({path:"/fillform/"+t+"/"+a,query:{name:n,transCode:this.transCode}})}}}},IsFu:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper cpxq-detail-container"},[a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.userData,"order-info":e.userData}}),e._v(" "),a("div",{staticClass:"product"},[e._m(0),e._v(" "),a("form-cell",{attrs:{cellTitle:"员工",cellContent:e.userData.profileName||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"身份证号",cellContent:e.userData.idCard||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"紧急联系人",cellContent:e.userData.urgentContact||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"联系方式",cellContent:e.userData.profileContact||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"地址",cellContent:e.userData.profileAddress||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"学历",cellContent:e.userData.education||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"合同日期",cellContent:e.userData.contractPeriod||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"入职日期",cellContent:e._f("date")(e.userData.entryDate||"无")}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"备注",cellContent:e.userData.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}})],1)])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title"},[a("div",[a("span",{staticClass:"iconfont icon-mingxi1"}),e._v(" "),a("span",[e._v("员工信息")])])])}],r={render:n,staticRenderFns:i};t.a=r},IsSW:function(e,t,a){"use strict";function n(e){a("FMvG")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("yqeo");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("gBBO"),o=a.n(s),l=a("W4lg"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-2bc80d95",null);t.default=c.exports},Itsb:function(e,t){},"Iu/6":function(e,t,a){"use strict";function n(e){a("ZXlx")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("OuXJ");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("1RQV"),o=a.n(s),l=a("qfeE"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},"Iw/D":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MjAd"),r=n(i),s=a("OTZ4"),o=n(s);t.default={components:{PopTaskWorkList:o.default},data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2361,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"成品名称",value:"inventoryName_outPutMatCode"}],popShow:!1,requestParams:{calc_rel_code:8051,view_id:"view_96"}}},mixins:[r.default],methods:{goEdit:function(){this.popShow=!0},selTask:function(e){var t=this.$route.query,a=t.name,n=t.childId,i=this.$route.params,r=i.fileId,s=i.listId;this.$router.push({path:"/fillform/"+r+"/"+s,query:{name:a,childId:n,inventoryCode:e[0].matCode,orderCode:e[0].transCode}})}}}},Iw1N:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("3cXf"),o=n(s),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("u28h"),C=n(p),_=a("PzEQ"),y=n(_),b=a("kNGm"),g=(n(b),a("0AQX"),a("HyXB")),w=a("bKg5"),I=n(w),x=a("vl8n"),D=n(x),P=a("+WR7"),k=n(P);t.default={data:function(){return{listId:"223f9387-d2d7-11e8-b8ca-0279b2c6a380",formData:{biId:"",biComment:"",biProcessStatus:""},biReferenceId:"",MobileWarn:!1,idCardWarn:!1}},components:{Cell:c.default,Group:m.default,XInput:v.default,Datetime:C.default,XTextarea:y.default,RPicker:D.default,PopBaseinfo:k.default},mixins:[I.default],methods:{checkMobile:function(){var e=/^[1][3,4,5,7,8][0-9]{9}$/;if(this.formData.profileContact&&!e.test(this.formData.profileContact))return void(this.MobileWarn=!0);this.MobileWarn=!1},checkIdCard:function(){var e=/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/;if(this.formData.idCard&&!e.test(this.formData.idCard))return void(this.idCardWarn=!0);this.idCardWarn=!1},submitOrder:function(){var e=this,t="",a=[{key:"profileName",message:"员工"},{key:"idCard",message:"身份证号"}];if(t||a.every(function(a){return!!e.formData[a.key]||(t="请填写"+a.message,!1)}),!t&&this.MobileWarn&&(t="联系方式格式不正确"),!t&&this.idCardWarn&&(t="身份证号格式不正确"),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=g.saveAndStartWf,a=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName}),n={listId:e.listId,biComment:"",formData:(0,o.default)(a)};e.isResubmit&&(t=g.saveAndCommitTask,n.biReferenceId=e.biReferenceId,n.wfPara=(0,o.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=g.submitAndCalc,delete n.wfPara,delete n.biReferenceId),e.biReferenceId&&(n.biReferenceId=e.biReferenceId),e.saveData(t,n)}})},hasDraftData:function(){var e=this.formData;if(e.profileName||e.idCard)return(0,r.default)({},"YGDA_DATA",{formData:e})}},created:function(){var e=sessionStorage.getItem("YGDA_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,sessionStorage.removeItem("YGDA_DATA")}}}},IzfM:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("GOq4"),i=function(e){return e&&e.__esModule?e:{default:e}}(n),r={getMeau:function(){return i.default.ajax({url:"/H_roleplay-si/ds/getMenu"})},getMyTask:function(){return i.default.ajax({url:"/H_roleplay-si/ds/getMyTaskCountAll"})},currentUser:function(){return i.default.ajax({url:"/H_roleplay-si/userInfo/currentUser"})},changeEntity:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.ajax({type:"POST",contentType:"application/x-www-form-urlencoded",url:"/H_roleplay-si/changeEntity",data:e})}};t.default=r},J0vH:function(e,t,a){"use strict";function n(e){a("PsWc")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("ZIQC");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("EZe+"),o=a.n(s),l=a("6Oqg"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-49b6e638",null);t.default=c.exports},"J1O+":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("bFc7"),p=n(v),C=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",contactInfo:{}}},mixins:[u.default],components:{workFlow:h.default,RAction:f.default,contactPart:p.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=!0,i=!1,s=void 0;try{for(var l,d=(0,r.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;e.count=(0,C.accAdd)(e.count,u.tdAmount)}}catch(e){i=!0,s=e}finally{try{!n&&d.return&&d.return()}finally{if(i)throw s}}t.formData.invoiceDate=(0,o.default)(t.formData.invoiceDate,"YYYY-MM-DD"),e.orderInfo=t.formData,e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo={dealerName:a.dealerName_dealerCodeCredit,dealerContactPersonName:t.dealerCreditContactPersonName,dealerMobilePhone:t.dealerCreditContactInformation,dealerCode:a.dealerCodeCredit,province:a.province_dealerCodeCreditt,city:a.city_dealerCodeCreditt,county:a.county_dealerCodeCredit,address:a.address_dealerCodeCredit}}}}},J5wU:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("QHLv"),v=a("1KNX"),p=n(v),C=a("7biW"),_=n(C);t.default={name:"PopEarnestMoneyList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},params:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:m.default,RScroll:p.default,MSearch:_.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],matterList:[],limit:100,page:1,hasNext:!0,scrollOptions:{pullUpLoad:!0},filterProperty:"",filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"}]}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}},params:{handler:function(){this.resetCondition(),this.getList()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,d.default)(this.selItems)),this.$emit("input",!1)},findIndex:function(e,t){return e.findIndex(function(e){return e.transCode===t.transCode})},showSelIcon:function(e){return-1!==this.findIndex(this.tmpItems,e)},selThis:function(e,t){var a=this.tmpItems,n=this.findIndex(a,e);if(-1!==n)return void a.splice(n,1);a.push(e)},cfmMater:function(){this.showPop=!1,this.tmpItems.sort(function(e,t){return t.effectiveTime-e.effectiveTime}),this.selItems=[].concat((0,d.default)(this.tmpItems)),this.$emit("sel-item",(0,o.default)(this.selItems))},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.resetCondition(),this.getList()},delSelItem:function(e){var t=this.findIndex(this.selItems,e);-1!==t&&this.selItems.splice(t,1),this.tmpItems=[].concat((0,d.default)(this.selItems))},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.tmpItems=[].concat((0,d.default)(this.defaultValue)),this.selItems=[].concat((0,d.default)(this.defaultValue))},resetCondition:function(){this.matterList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"transCode"}])),(0,h.getPurchaseAgreementDeposit)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(t)},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.matterList=1===e.page?r:[].concat((0,d.default)(e.matterList),(0,d.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})}},created:function(){this.setDefaultValue(),this.getList()}}},J8tP:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("KH7x"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("bFc7"),p=n(v),C=a("6WeX"),_=n(C),y=a("3NX5"),b=n(y),g=a("sUbJ"),w=n(g),I=a("d7ck"),x=n(I),D=a("zWMP"),P=a("Qg39");t.default={data:function(){return{count:0,comment:"",orderInfo:{},formViewUniqueId:"e76a8c6f-05cc-45ee-ba93-299fe6751856",orderList:{},cashInfo:{}}},computed:{noTaxAmount:function(){var e=0;return this.orderInfo.inPut.dataSet.forEach(function(t){e=(0,D.accAdd)(e,t.noTaxAmount)}),e},taxAmount:function(){var e=0;return this.orderInfo.inPut.dataSet.forEach(function(t){e=(0,D.accAdd)(e,t.taxAmount)}),e}},mixins:[u.default],components:{workFlow:h.default,RAction:f.default,PriceTotal:_.default,contactPart:p.default,MatterList:b.default,MatterItem:w.default,FormCell:x.default},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u={},c=s.inPut,f=void 0===c?{}:c,m=s.outPut,h=void 0===m?{}:m;e.attachment=d;var v=f.dataSet,p=h.dataSet,C=void 0===p?[]:p,_=(0,o.default)(C,1),y=_[0],b=void 0===y?{}:y,g=!0,w=!1,I=void 0;try{for(var x,k=(0,r.default)(v);!(g=(x=k.next()).done);g=!0){var S=x.value;S.noTaxAmount=(0,D.accMul)(S.price,S.tdQty),S.taxAmount=(0,D.accMul)(S.noTaxAmount,S.taxRate),S.tdAmount=(0,P.toFixed)((0,D.accAdd)(S.noTaxAmount,S.taxAmount)),e.count=(0,D.accAdd)(e.count,S.tdAmount),S.inventoryPic=S.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+S.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),u[S.transMatchedCode]||(u[S.transMatchedCode]=[]),u[S.transMatchedCode].push(S)}}catch(e){w=!0,I=e}finally{try{!g&&k.return&&k.return()}finally{if(w)throw I}}e.orderList=u,e.dealerInfo={creatorName:s.dealerCreditContactPersonName,dealerName:f.dealerName_dealerCodeCredit,dealerMobilePhone:s.dealerCreditContactInformation,dealerContactPersonName:s.dealerCreditContactPersonName,dealerCode:f.dealerCode_dealerCodeCredit,dealerLabelName:f.crDealerLabel,province:f.province_dealerCodeCredit,city:f.city_dealerCodeCredit,county:f.county_dealerCodeCredit,address:f.address_dealerCodeCredit,payment:f.crDealerPaymentTerm,pamentDays:f.daysOfAccount,accountExpirationDate:f.accountExpirationDate},e.cashInfo=b,e.orderInfo=s,e.workFlowInfoHandler()})}}}},J8yl:function(e,t){},JBle:function(e,t){},JFKB:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("J0Oq"),o=n(s),l=a("KH7x"),d=n(l),u=a("XAqG"),c=a("I8ug"),f=a("d7ck"),m=n(f);t.default={name:"USERForm",components:{FormCell:m.default},data:function(){return{colId:"",userData:{},action:{}}},methods:{getDefaultImg:function(e){this.userData.photo=a("男"===e?"cr7Q":"Atv/")},loadPage:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.$loading.show(),(0,u.getUserDetail)(this.colId).then(function(t){var a=t.tableContent,n=void 0===a?[]:a,i=(0,d.default)(n,1),r=i[0],s=void 0===r?{}:r,o=["女","男"],l=["临时账户","长期有效"],u=["shortTerm","longTerm"],c=["","使用中","未使用","草稿"],f=["","inUse","unUse"];s.gender=o[s.gender]||"未知",s.statusClass=f[s.status],s.status=c[s.status]||"停用",s.typeClass=u[s.userType],s.userType=l[s.userType],e.userData=s,s.photo||e.getDefaultImg(s.gender),e.$loading.hide()})},goEdit:function(){var e=this.$route.query.name,t=this.$route.params,a=t.fileId,n=t.listId;this.$router.push({path:"/fillForm/"+a+"/"+n,query:{name:e,colId:this.colId}})},getAppDetail:function(){var e=this,t=this.$route.params.listId,a=void 0===t?"":t;return(0,c.getAppDetail)(a).then(function(t){var a=(0,d.default)(t,1),n=a[0],i=void 0===n?{}:n,r=i.action;e.action=r})}},created:function(){var e=this;(0,o.default)(r.default.mark(function t(){var a,n;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.$route.query.colId,n=void 0===a?"":a,e.colId=n,t.next=4,e.getAppDetail();case 4:e.loadPage();case 5:case"end":return t.stop()}},t,e)}))()}}},JGS0:function(e,t){},JHNY:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("0w+U"),c=a("MjAd"),f=n(c);t.default={mixins:[f.default],data:function(){return{listStatus:[{name:"全部",status:""},{name:"使用中",status:"1"},{name:"未使用",status:"2"},{name:"停用",status:"-1"}],filterList:[{name:"公司名称",value:"groupName"},{name:"公司简称",value:"groupShortName"}]}},methods:{tabClick:function(e,t){this.activeIndex=t,this.activeTab=e.status,this.resetCondition(),this.getList()},RouterChange:function(e,t,a){var n=this;if(!this.clickVisited){var i=e.groupId,r=this.$route.query.name;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,d.default)({},e)),setTimeout(function(){n.clickVisited=!1,n.$router.push({path:a,query:{name:r,groupId:i}})},200)}},EditCompany:function(e,t){var a=this.$route.params,n=a.fileId,i=a.listId;this.RouterChange(e,t,"/fillForm/"+n+"/"+i)},goDetail:function(e,t){var a=this.$route.params,n=a.fileId,i=a.listId;this.RouterChange(e,t,"/detail/"+n+"/"+i)},getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=[],n=[{property:"crtTime",direction:"DESC"}];return this.activeTab&&(a=[{operator:"in",property:"status",value:this.activeTab}]),this.serachVal&&(a=[].concat((0,o.default)(a),[{operator:"like",value:this.serachVal,property:this.filterProperty}])),(0,u.getCompany)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,sort:(0,r.default)(n),filter:(0,r.default)(a)}).then(function(a){var n=a.dataCount,i=void 0===n?0:n,r=a.tableContent,s=void 0===r?[]:r;e.$emit("input",!1),s.forEach(function(t){e.setStatus(t)}),e.hasNext=i>(e.page-1)*e.limit+s.length,e.listData=1===e.page?s:e.listData.concat(s),t||e.$nextTick(function(){e.resetScroll()}),e.$loading.hide()}).catch(function(t){e.resetScroll()})}}}},JHSS:function(e,t){},JKgd:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("KH7x"),r=n(i),s=a("4YfN"),o=n(s),l=a("a3Yh"),d=n(l),u=a("3cXf"),c=n(u),f=a("BGNQ"),m=n(f),h=a("z5TY"),v=n(h),p=a("SAzG"),C=n(p),_=a("7g+Q"),y=n(_),b=a("PzEQ"),g=n(b),w=a("jnZd"),I=n(w),x=a("0AQX"),D=a("HyXB"),P=(a("jLp1"),a("bKg5")),k=n(P),S=a("55ug"),T=n(S),L=a("CKaN"),N=n(L),M=a("gk4f"),A=n(M),O=a("vl8n"),R=n(O),j=a("+WR7"),$=n(j),B=a("zWMP"),E=a("Qg39");t.default={mixins:[k.default],components:{Cell:m.default,Group:v.default,Popup:y.default,XInput:C.default,XTextarea:g.default,PopupPicker:I.default,RPicker:R.default,PopBaseinfo:$.default,PopDealerList:T.default,PopCashList:N.default,PopOrderList:A.default},data:function(){return{listId:"c930267f-66fd-4927-983b-0216ef9449b3",biReferenceId:"",selectedCost:[],costIndex:0,transCode:"",formData:{biComment:""},dealerInfo:{},showOrder:!1,dealerParams:{},orderList:[],cashInfo:{}}},computed:{applicationAmount:function(){var e=0;return this.orderList.forEach(function(t){t.applicationAmount&&(e=(0,B.accAdd)(e,t.applicationAmount))}),(0,E.toFixed)(e)},tdAmountCopy1:function(){var e=0;return this.orderList.forEach(function(t){t.tdAmount&&(t.differenceAmount=(0,B.accAdd)(t.thenAmntBal,t.tdAmount),e=(0,B.accAdd)(e,t.tdAmount))}),(0,E.toFixed)(e)},differenceAmount:function(){var e=0;return this.dealerInfo.amntBal&&(e=(0,B.accAdd)(this.tdAmountCopy1,this.dealerInfo.amntBal)),(0,E.toFixed)(e)}},methods:{submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerCode||(t="请选择供应商"),t||this.orderList.length||(t="请选择欠款明细"),t||this.orderList.every(function(e){return e.popiCode?(a.push({tdId:e.tdId||"",transMatchedCode:e.popiCode,orderCode:e.poCode,thenTotalAmntBal:e.thenTotalAmntBal,thenAlreadyAmnt:e.thenAlreadyAmnt,thenAmntBal:e.thenAmntBal,accountExpirationDate:e.accountExpirationDate,daysOfAccount:e.daysOfAccount,ageOfAging:e.ageOfAging,accountRemaingDays:e.accountRemaingDays,invoiced:e.invoicing,pendingTicket:e.invoiced,applicationAmount:e.applicationAmount,tdAmount:e.tdAmount,differenceAmount:e.differenceAmount}),!0):(t="请选择采购入库号",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=D.saveAndStartWf,n=(0,d.default)({},e.processCode,{businessKey:"FGQK",createdBy:(0,c.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={dealerName_dealerDebit:e.dealerInfo.nickname,dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,thenAmntBalCopy1:e.dealerInfo.amntBal,applicationAmount:e.applicationAmount,tdAmountCopy1:e.tdAmountCopy1,differenceAmount:e.differenceAmount},r={fundName_cashOutCode:e.cashInfo.fundName,cashOutCode:e.cashInfo.fundCode,cashType_cashOutCode:e.cashInfo.fundType,thenAmntBal:e.cashInfo.thenAmntBal,tdAmount:e.cashInfo.tdAmount};e.transCode&&(i.tdIdCopy1=e.dealerInfo.tdIdCopy1,r.tdId=e.cashInfo.tdId);var s={listId:e.listId,biComment:e.formData.biComment,formData:(0,c.default)((0,o.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",inPut:{dataSet:[i]},order:{dataSet:a},outPut:{dataSet:[r]}})),wfPara:(0,c.default)(n)};e.isResubmit&&(s.biReferenceId=e.biReferenceId,t=D.saveAndCommitTask),e.processCode.length||(t=D.submitAndCalc,delete s.wfPara,delete s.biReferenceId),e.biReferenceId&&(s.biReferenceId=e.biReferenceId),e.saveData(t,s)}})},getFormData:function(){var e=this;return(0,x.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.attachment,n=void 0===a?[]:a,i=t.listId,s=void 0===i?"":i,l=(t.biComment,t.biReferenceId),d=void 0===l?"":l,u=t.formData,c=void 0===u?{}:u;e.attachment=n,e.listId=s,e.biReferenceId=d,e.handlerDefault={handler:c.handler,handlerName:c.handlerName,handlerUnit:c.handlerUnit,handlerUnitName:c.handlerUnitName,handlerRole:c.handlerRole,handlerRoleName:c.handlerRoleName},e.formData=(0,o.default)({},e.formData,e.handlerDefault,{biComment:c.biComment,biId:c.biId,biProcessStatus:c.biProcessStatus,creator:c.creator,modifer:c.modifer});var f=c.order.dataSet,m=void 0===f?[]:f,h=c.inPut.dataSet,v=void 0===h?[]:h,p=c.outPut.dataSet,C=void 0===p?[]:p,_=(0,r.default)(v,1),y=_[0],b=void 0===y?{}:y,g=(0,r.default)(C,1),w=g[0],I=void 0===w?{}:w;m.forEach(function(e){e.popiCode=e.transMatchedCode,e.poCode=e.orderCode,e.invoicing=e.invoiced}),e.dealerInfo=(0,o.default)({},b,{nickname:b.dealerName_dealerDebit,dealerCode:b.dealerDebit,dealerLabelName:b.drDealerLabel,amntBal:b.thenAmntBalCopy1}),e.cashInfo=(0,o.default)({},I,{fundName:I.fundName_cashOutCode,fundCode:I.cashOutCode,fundType:I.cashType_cashOutCode}),e.orderList=m,e.$loading.hide()})},hasDraftData:function(){return!!this.dealerInfo.dealerCode&&(0,d.default)({},"FGYSQK_DATA",{formData:this.formData,dealerInfo:this.dealerInfo,orderList:this.orderList,cashInfo:this.cashInfo})},getRelationData:function(){},selDealer:function(e){this.dealerInfo=(0,o.default)({},e),this.dealerParams={dealerCode:e.dealerCode}},selOrder:function(e){this.orderList=JSON.parse(e),this.orderList},selCash:function(e){this.cashInfo=(0,o.default)({},e)},addOrder:function(){this.showOrder=!0},checkAmt:function(e,t){switch(e){case"tdAmount":this.cashInfo.tdAmount=(0,E.toFixed)(this.cashInfo.tdAmount);break;default:e[t]=(0,E.toFixed)(e[t])}}},created:function(){var e=sessionStorage.getItem("FGYSQK_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.orderList=t.orderList,this.cashInfo=t.cashInfo,this.dealerParams={dealerCode:this.dealerInfo.dealerCode},sessionStorage.removeItem("FGYSQK_DATA")}}}},JOdt:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("Nk/b"),o=n(s),l=a("BGNQ"),d=n(l),u=a("7g+Q"),c=n(u),f=a("MF1H"),m=n(f),h=a("xZPP"),v=n(h),p=a("nKjL"),C=a("KH5r"),_=n(C),y=a("uJtz"),b=n(y),g=a("3BYQ"),w=n(g),I=a("+62G"),x=n(I),D=function(e){return JSON.parse((0,r.default)(e))};t.default={name:"popup-picker",directives:{TransferDom:x.default},created:function(){void 0!==this.show&&(this.showValue=this.show)},mixins:[w.default],components:{Picker:o.default,Cell:d.default,Popup:c.default,PopupHeader:m.default,Flexbox:p.Flexbox,FlexboxItem:p.FlexboxItem,InlineDesc:v.default},filters:{array2string:_.default,value2name:b.default},props:{valueTextAlign:{type:String,default:"right"},title:String,cancelText:String,confirmText:String,data:{type:Array,default:function(){return[]}},placeholder:String,columns:{type:Number,default:0},fixedColumns:{type:Number,default:0},value:{type:Array,default:function(){return[]}},showName:Boolean,inlineDesc:[String,Number,Array,Object,Boolean],showCell:{type:Boolean,default:!0},show:Boolean,displayFormat:Function,isTransferDom:{type:Boolean,default:!0},columnWidth:Array,popupStyle:Object,popupTitle:String,disabled:Boolean},computed:{labelStyles:function(){return{display:"block",width:this.$parent.labelWidth||this.$parent.$parent.labelWidth||"auto",textAlign:this.$parent.labelAlign||this.$parent.$parent.labelAlign,marginRight:this.$parent.labelMarginRight||this.$parent.$parent.labelMarginRight}},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}}},methods:{value2name:b.default,getNameValues:function(){return(0,b.default)(this.currentValue,this.data)},onClick:function(){this.disabled||(this.showValue=!0)},onHide:function(e){this.showValue=!1,e&&(this.closeType=!0,this.currentValue=D(this.tempValue)),e||(this.closeType=!1,this.value.length>0&&(this.tempValue=D(this.currentValue)))},onPopupShow:function(){this.closeType=!1,this.$emit("on-show")},onPopupHide:function(e){this.value.length>0&&(this.tempValue=D(this.currentValue)),this.$emit("on-hide",this.closeType)},onPickerChange:function(e){if((0,r.default)(this.currentValue)!==(0,r.default)(e)&&this.value.length){var t=(0,r.default)(this.data);t!==this.currentData&&"[]"!==this.currentData&&(this.tempValue=D(e)),this.currentData=t}var a=D(e);this.$emit("on-shadow-change",a,(0,b.default)(a,this.data).split(" "))}},watch:{value:function(e){(0,r.default)(e)!==(0,r.default)(this.tempValue)&&(this.tempValue=D(e),this.currentValue=D(e))},currentValue:function(e){this.$emit("input",D(e)),this.$emit("on-change",D(e))},show:function(e){this.showValue=e},showValue:function(e){this.$emit("update:show",e)}},data:function(){return{onShowProcess:!1,tempValue:D(this.value),closeType:!1,currentData:(0,r.default)(this.data),showValue:!1,currentValue:this.value}}}},JQMB:function(e,t,a){"use strict";function n(e){a("AHs1")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("g2zt");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("keYS"),o=a.n(s),l=a("HSWl"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-7f0470d1",null);t.default=c.exports},JSOx:function(e,t,a){"use strict";function n(e){a("dagQ")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("RbVM");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("E7Wa"),o=a.n(s),l=a("x2nN"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-2fb45a03",null);t.default=c.exports},JUuq:function(e,t,a){"use strict";function n(e){a("CCAQ")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("FLut");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("K798"),o=a.n(s),l=a("JjmE"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-23029572",null);t.default=c.exports},JVZc:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MjAd"),r=n(i),s=a("OTZ4"),o=n(s);t.default={components:{PopTaskWorkList:o.default},data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2361,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"成品名称",value:"inventoryName_outPutMatCode"}],popShow:!1,requestParams:{calc_rel_code:8051,view_id:"view_96"}}},mixins:[r.default],methods:{goEdit:function(){this.popShow=!0},selTask:function(e){var t=this.$route.query,a=t.name,n=t.childId,i=this.$route.params,r=i.fileId,s=i.listId;this.$router.push({path:"/fillform/"+r+"/"+s,query:{name:a,childId:n,inventoryCode:e[0].matCode,orderCode:e[0].transCode}})}}}},JXIy:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages nbjgll-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-warehouse-list",{attrs:{isRequired:"",title:"入库仓库","default-value":e.warehouseIn},on:{"sel-item":e.selWarehouseIn}}),e._v(" "),a("div",{staticClass:"materiel_list"},[Object.keys(e.orderList).length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v("订单列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n,i){return a("div",{key:n,staticClass:"each_mater",class:{"vux-1px-b":i<Object.keys(e.orderList).length-1}},[t.length?a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v("加工订单号")]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]):e._e(),e._v(" "),e._l(t,function(t,i){return a("div",{key:i,class:{mater_delete:e.matterModifyClass}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass},on:{"on-modify":function(a){e.modifyMatter(t,i,n)}},nativeOn:{click:function(a){e.delClick(i,t,n)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_more"},[a("span",[e._v("单位: "+e._s(n.measureUnit))]),e._v(" "),a("span",[e._v("待领料: "+e._s(n.qtyBal))]),e._v(" "),a("span",[e._v("可用库存: "+e._s(n.qtyStock))])]),e._v(" "),a("div",{staticClass:"mater_other"},[n.warehouseName?a("div",{staticClass:"matter-remain"},[a("i",{staticClass:"iconfont icon--"}),e._v(" "),a("span",[e._v(e._s(n.warehouseName))])]):e._e(),e._v(" "),n.tdQty?a("div",{staticClass:"matter-remain"},[a("span",{staticClass:"symbol"},[e._v("本次领料: ")]),e._v(e._s(n.tdQty)+"\n                      ")]):e._e()])]}},{key:"edit",fn:function(t){var r=t.item;return[r.tdQty||e.matterModifyClass?e._e():a("div",{staticClass:"mater_other",on:{click:function(t){e.modifyMatter(r,i,n)}}},[a("div",{staticClass:"edit-tips"},[e._v("点击进行填写")])])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(i,t,n)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)})],2)}))]:[a("div",{on:{click:function(t){e.showOrderPop=!e.showOrderPop}}},[a("div",{staticClass:"title"},[e._v("订单列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择订单")]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),Object.keys(e.orderList).length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多物料")])]):e._e(),e._v(" "),a("pop-order-xqtj-list",{ref:"order",attrs:{show:e.showOrderPop,"default-value":e.orderList,"list-method":"getManyWhProcessingPicking"},on:{"sel-matter":e.selOrder},scopedSlots:e._u([{key:"qtyBal",fn:function(t){var n=t.item;return[a("span",[e._v("待领料余额: "+e._s(n.qtyBal))])]}},{key:"qtyStock",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater-balance"},[e._v("可用库存: "+e._s(n.qtyStock)+e._s(n.measureUnit))])]}}]),model:{value:e.showOrderPop,callback:function(t){e.showOrderPop=t},expression:"showOrderPop"}})],2),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,"is-show-amount":!1},on:{"sel-confirm":e.selConfirm},scopedSlots:e._u([{key:"qtyBal",fn:function(e){e.modifyMatter;return[a("span")]}},{key:"modify",fn:function(t){var n=t.modifyMatter;return[a("x-input",{attrs:{title:"本次领料",type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",e._n(t))},expression:"modifyMatter.tdQty"}}),e._v(" "),a("cell",{attrs:{title:"可用库存",value:n.qtyStock}}),e._v(" "),a("cell",{attrs:{title:"待领料",value:n.qtyBal}})]}}]),model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode"},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},JYGM:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={props:{BusApps:{type:Array,default:[]},goList:{type:Function,require:!0},getDefaultIcon:{type:Function,require:!0},goAppDetail:{type:Function,require:!0}}}},JZXe:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages sj-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[a("div",{staticClass:"mater_list"},[a("div",{staticClass:"each_mater"},[a("div",{staticClass:"userInp_mode"},[a("div",{staticClass:"title"},[e._v("往来明细")]),e._v(" "),a("group",{staticClass:"SJ_group",on:{"group-title-margin-top":function(e){}}},[a("cell",{attrs:{title:"往来名称","text-align":"right"},model:{value:e.dealerInfo.dealerName,callback:function(t){e.$set(e.dealerInfo,"dealerName",t)},expression:"dealerInfo.dealerName"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("往来名称")])])],2),e._v(" "),a("cell",{attrs:{title:"往来编码","text-align":"right"},model:{value:e.dealerInfo.dealerCodeCredit,callback:function(t){e.$set(e.dealerInfo,"dealerCodeCredit",t)},expression:"dealerInfo.dealerCodeCredit"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("往来编码")])])],2),e._v(" "),a("cell",{attrs:{title:"往来关系标签","text-align":"right"},model:{value:e.dealerInfo.crDealerLabel,callback:function(t){e.$set(e.dealerInfo,"crDealerLabel",t)},expression:"dealerInfo.crDealerLabel"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("往来关系标签")])])],2),e._v(" "),a("popup-picker",{attrs:{title:"类型",data:e.currentType,placeholder:"请选择"},model:{value:e.dealerInfo.applicationType,callback:function(t){e.$set(e.dealerInfo,"applicationType",t)},expression:"dealerInfo.applicationType"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("类型")])])],2),e._v(" "),a("cell",{attrs:{title:"信用额度","text-align":"right"},model:{value:e.dealerInfo.tdCreditLine,callback:function(t){e.$set(e.dealerInfo,"tdCreditLine",t)},expression:"dealerInfo.tdCreditLine"}}),e._v(" "),a("cell",{attrs:{title:"往来余额","text-align":"right"},model:{value:e.dealerInfo.thenAmntBalCopy1,callback:function(t){e.$set(e.dealerInfo,"thenAmntBalCopy1",t)},expression:"dealerInfo.thenAmntBalCopy1"}}),e._v(" "),a("x-input",{attrs:{type:"number","text-align":"right",placeholder:"请填写"},on:{"on-blur":function(t){e.checkAmt(e.dealerInfo.thenTotalAmntBal)},"on-focus":e.getFocus},model:{value:e.dealerInfo.thenTotalAmntBal,callback:function(t){e.$set(e.dealerInfo,"thenTotalAmntBal",e._n(t))},expression:"dealerInfo.thenTotalAmntBal"}},[a("span",{staticClass:"required",attrs:{slot:"label"},slot:"label"},[e._v("申请金额")])]),e._v(" "),a("x-input",{attrs:{title:"事由","text-align":"right",placeholder:"请填写"},model:{value:e.dealerInfo.expCause,callback:function(t){e.$set(e.dealerInfo,"expCause",t)},expression:"dealerInfo.expCause"}})],1)],1)])])]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},JeEO:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"flexbox",props:{gutter:{type:Number,default:8},orient:{type:String,default:"horizontal"},justify:String,align:String,wrap:String,direction:String},computed:{styles:function(){return{"justify-content":this.justify,"-webkit-justify-content":this.justify,"align-items":this.align,"-webkit-align-items":this.align,"flex-wrap":this.wrap,"-webkit-flex-wrap":this.wrap,"flex-direction":this.direction,"-webkit-flex-direction":this.direction}}}}},JeVE:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_content kcpd-detail-container"},[e.orderInfo&&e.orderInfo.inPut?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"warehouse_part"},[a("warehouse-content",{attrs:{warehouse:e.warehouseIn}})],1),e._v(" "),a("matter-list",{attrs:{"matter-list":e.orderInfo.inPut.dataSet},scopedSlots:e._u([{key:"matterOther",fn:function(t){var n=t.item;return a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("加工属性: "+e._s(n.tdProcessing))]),e._v(" "),a("span",[e._v("单位: "+e._s(n.measureUnit_transObjCode))])]),e._v(" "),a("div",{staticClass:"mater_num"},[a("div",[a("span",[e._v("库存余额: "+e._s(n.thenTotalQtyStock||0))]),e._v(" "),a("span",[e._v("计划占用: "+e._s(n.thenLockQtyStock||0))]),e._v(" "),a("span",[e._v("可用库存: "+e._s(e._f("toFixed")(n.thenQtyStock)))])]),e._v(" "),a("div",[a("span",[e._v("盘点数量: "+e._s(e._f("toFixed")(n.tdQty)))]),e._v(" "),a("span",[e._v("差异数量: "),a("span",{staticClass:"diff_num"},[e._v(e._s(e._f("toFixed")(n.differenceNum)))])])])])])}}])}),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},JjmE:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pop-name-list-container",on:{click:e.itemClick}},[e.selItems.PROJECT_NAME?[a("div",{staticClass:"user_info"},[a("div",{staticClass:"user_name"},[e._v("\n        "+e._s(e.selItems.PROJECT_NAME)),a("span",{staticClass:"symbol"},[e._v(" [项目名称]")])])]),e._v(" "),a("div",{staticClass:"cp_info"},[a("div",{staticClass:"cp_manager"},[e._v("\n        "+e._s(e.selItems.PROJECT_MANAGER)),a("span",{staticClass:"symbol"},[e._v(" [项目经理]")])]),e._v(" "),a("div",{staticClass:"cp_name"},[e.selItems.PROJECT_TYPE?[e._v("\n          "+e._s(e.selItems.PROJECT_TYPE)),a("span",{staticClass:"symbol"},[e._v(" [项目大类]")])]:e._e(),e._v(" "),e.selItems.PROJECT_SUBCLASS?[e._v("\n          "+e._s(e.selItems.PROJECT_SUBCLASS)),a("span",{staticClass:"symbol"},[e._v(" [项目子类]")])]:e._e()],2),e._v(" "),e.selItems.COMMENT?a("p",{staticClass:"cp_name"},[e._v("\n        "+e._s(e.selItems.COMMENT)),a("span",{staticClass:"symbol"},[e._v(" [项目说明]")])]):e._e(),e._v(" "),a("p",{staticClass:"cp_ads"},[e._v("预期开始日期: "+e._s(e._f("handlerDate")(e.selItems.EXPECT_START_DATE)))]),e._v(" "),a("p",{staticClass:"cp_ads"},[e._v("预期截止日期: "+e._s(e._f("handlerDate")(e.selItems.EXPECT_END_DATE)))])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.isChoice,expression:"isChoice"}],staticClass:"vux-x-icon vux-x-icon-ios-arrow-right r_arrow",attrs:{type:"ios-arrow-right",size:"30",xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M160 115.4L180.7 96 352 256 180.7 416 160 396.7 310.5 256z"}})])]:[a("div",{staticClass:"title required"},[e._v("项目名称")]),e._v(" "),a("div",{staticClass:"mode"},[e._v("请选择项目")]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})],e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("div",{staticClass:"title"},[a("d-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}})],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.dealerList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.dealerList,function(t,n){return a("div",{key:n,staticClass:"each_mater box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"mater_main "},[a("div",{staticClass:"mater_info"},[a("div",{staticClass:"mater_name"},[e._v("\n                  "+e._s(t.PROJECT_NAME)),a("span",{staticClass:"symbol"},[e._v(" [项目名称]")])]),e._v(" "),a("div",{staticClass:"mater_detail"},[a("div",{staticClass:"mater_manager"},[e._v("\n                    "+e._s(t.PROJECT_MANAGER)),a("span",{staticClass:"symbol"},[e._v(" [项目经理]")])]),e._v(" "),t.COMMENT?a("div",{staticClass:"mater_comment"},[e._v("\n                    "+e._s(t.COMMENT)),a("span",{staticClass:"symbol"},[e._v(" [项目说明]")])]):e._e(),e._v(" "),a("div",{staticClass:"mater_time"},[a("div",[e._v("预期开始日期: "+e._s(e._f("handlerDate")(t.EXPECT_START_DATE)))]),e._v(" "),a("div",[e._v("预期截止日期: "+e._s(e._f("handlerDate")(t.EXPECT_END_DATE)))])])])])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}))],1)])],1)],2)},i=[],r={render:n,staticRenderFns:i};t.a=r},Js0S:function(e,t){},JuKn:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("3cXf"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("bFc7"),p=n(v),C=a("6WeX"),_=n(C),y=a("3NX5"),b=n(y),g=a("zWMP"),w=a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"",contactInfo:{},matterList:[]}},computed:{noTaxAmount:function(){var e=0;return this.matterList.forEach(function(t){e=(0,g.accAdd)(e,t.noTaxAmount)}),e},taxAmount:function(){var e=0;return this.matterList.forEach(function(t){e=(0,g.accAdd)(e,t.taxAmount)}),e}},components:{workFlow:h.default,RAction:f.default,contactPart:p.default,PriceTotal:_.default,MatterList:b.default},mixins:[u.default],methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(e.submitInfo=JSON.parse((0,o.default)(t)),!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.inPut.dataSet,n=!0,i=!1,s=void 0;try{for(var l,d=(0,r.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;u.noTaxAmount=(0,g.accMul)(u.price,u.tdQty),u.taxAmount=(0,g.accMul)(u.noTaxAmount,u.taxRate),u.tdAmount=(0,w.toFixed)((0,g.accAdd)(u.noTaxAmount,u.taxAmount)),e.count=(0,g.accAdd)(e.count,u.tdAmount),u.inventoryPic=u.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+u.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){i=!0,s=e}finally{try{!n&&d.return&&d.return()}finally{if(i)throw s}}e.matterList=a,e.orderInfo=t.formData,e.getcontactInfo("inPut"),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo={creatorName:t.dealerDebitContactPersonName,dealerName:a.dealerName_dealerCodeCredit,dealerMobilePhone:t.dealerCreditContactInformation,dealerContactPersonName:t.dealerCreditContactPersonName,dealerCode:a.dealerCodeCredit,dealerLabelName:a.crDealerLabel,province:a.province_dealerCodeCredit,city:a.city_dealerCodeCredit,county:a.county_dealerCodeCredit,address:a.address_dealerCodeCredit,payment:a.crDealerPaymentTerm,pamentDays:a.daysOfAccount}}},created:function(){}}},JvnV:function(e,t,a){"use strict";function n(e){a("8ta2")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("gR+h");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Q9fr"),o=a.n(s),l=a("/Ti6"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-82387846",null);t.default=c.exports},K0z5:function(e,t,a){"use strict";function n(e){a("YiQO")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("vtaQ");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("m557"),o=a.n(s),l=a("uS5Q"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-9d462032",null);t.default=c.exports},K2RO:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("iR2W"),r=n(i),s=a("kNGm"),o=n(s),l=a("Qg39");t.default={name:"materListItem",props:{item:{type:Object,default:function(){return{}}},noCount:{type:Boolean,default:!1},noPrice:{type:Boolean,default:!1},noQty:{type:Boolean,default:!1},isDealer:{type:Boolean,default:!0},isMoreDealer:{type:Boolean,default:!1}},data:function(){return{}},filters:{dateFormat:o.default,numberComma:r.default,toFixed:l.toFixed},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t}}}},K3un:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,"default-contact":e.contactInfo,"dealer-label-name":"原厂供应商,经销供应商",dealerTitle:"供应商"},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("pop-single-select",{attrs:{title:"结算方式",data:e.transMode,value:e.dealerInfo.paymentTerm,isRequired:""},model:{value:e.dealerInfo.paymentTerm,callback:function(t){e.$set(e.dealerInfo,"paymentTerm",t)},expression:"dealerInfo.paymentTerm"}}),e._v(" "),a("cell",{staticClass:"cell-item",attrs:{title:"账期天数",value:e.dealerInfo.pamentDays}}),e._v(" "),a("cell",{staticClass:"cell-item",attrs:{title:"账期到期日",value:e.dealerInfo.accountExpirationDate}}),e._v(" "),a("div",{staticClass:"materiel_list"},[Object.keys(e.orderList).length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v("订单列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n,i){return a("div",{key:n,staticClass:"each_mater",class:{"vux-1px-b":i<Object.keys(e.orderList).length-1}},[t.length?a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v("采购订单号")]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]):e._e(),e._v(" "),e._l(t,function(i,r){return a("div",{key:r,class:{mater_delete:e.matterModifyClass}},[a("matter-item",{class:{"vux-1px-b":r<t.length-1},attrs:{item:i,"show-delete":e.matterModifyClass},on:{"on-modify":function(t){e.modifyMatter(i,r,n)}},nativeOn:{click:function(t){e.delClick(r,i)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_more"},[a("span",{staticClass:"processing"},[e._v("属性: "+e._s(n.processing))]),e._v(" "),a("span",{staticClass:"unit"},[e._v("单位: "+e._s(n.measureUnit))]),e._v(" "),a("span",{staticClass:"mater_color"},[e._v("颜色: "+e._s(n.inventoryColor||"无"))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.qtyBal,expression:"item.qtyBal"}],staticClass:"qty"},[e._v("待验收: "+e._s(n.qtyBal))])]),e._v(" "),a("div",{staticClass:"mater_more"},[a("span",{directives:[{name:"show",rawName:"v-show",value:n.taxRate,expression:"item.taxRate"}]},[e._v("税率: "+e._s(n.taxRate))]),e._v(" "),a("span",[e._v("订单总数: "+e._s(n.qty))]),e._v(" "),a("span",[e._v("已入库数: "+e._s(n.qtyed))])]),e._v(" "),a("div",{staticClass:"mater_more"},[a("span",{directives:[{name:"show",rawName:"v-show",value:n.assMeasureUnit,expression:"item.assMeasureUnit"}]},[e._v("辅助计量: "+e._s(n.assMeasureUnit))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.assistQty,expression:"item.assistQty"}]},[e._v("辅计数量: "+e._s(n.assistQty))])]),e._v(" "),a("div",{staticClass:"mater_more"},[a("span",{directives:[{name:"show",rawName:"v-show",value:n.productionDate,expression:"item.productionDate"}]},[e._v("生产日期: "+e._s(n.productionDate))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.validUntil,expression:"item.validUntil"}]},[e._v("有效日期: "+e._s(n.validUntil))])]),e._v(" "),n.price&&n.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price)+"\n                      ")]),e._v(" "),a("div",[a("r-number",{attrs:{num:n.tdQty,checkAmt:e.checkAmt,max:n.qtyBal},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",t)},expression:"item.tdQty"}})],1)]):e._e()]}},{key:"editPart",fn:function(t){var i=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:i.price&&(i.tdQty||0===i.tdQty)&&!e.matterModifyClass,expression:"(item.price && (item.tdQty || item.tdQty === 0)) &&!matterModifyClass"}],staticClass:"edit-part vux-1px-l",on:{click:function(t){e.modifyMatter(i,r,n)}}},[a("span",{staticClass:"iconfont icon-bianji1"})])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(t){e.delClick(r,i)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(i),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(i),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)})],2)}))]:[a("div",{on:{click:function(t){e.showOrderPop=!e.showOrderPop}}},[a("div",{staticClass:"title"},[e._v("订单列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择订单")]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多物料")])]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showOrderPop,"default-value":e.matterList,"get-list-method":"getLowPriceConsumableInWarehouse",params:e.matterParams,"filter-list":e.filterList},on:{"sel-matter":e.selMatter},scopedSlots:e._u([{key:"storage",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_material"},[a("span",{staticClass:"spec"},[e._v("订单总数: "+e._s(n.qty))]),e._v(" "),a("span",{staticClass:"spec"},[e._v("已入库数: "+e._s(n.qtyed))])])]}}]),model:{value:e.showOrderPop,callback:function(t){e.showOrderPop=t},expression:"showOrderPop"}})],2),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide},on:{"sel-confirm":e.selConfirm},scopedSlots:e._u([{key:"date",fn:function(t){var n=t.modifyMatter;return[n.moreUnitList&&n.moreUnitList.length?a("cell",{attrs:{title:"辅助计量"},nativeOn:{click:function(t){e.moreUnitClick(n)}}},[a("r-dropdown",{attrs:{show:n.showDrop,list:n.moreUnitList},on:{"on-selected":e.moreUnitSelected}})],1):e._e(),e._v(" "),a("cell",{attrs:{title:"待验收","text-align":"right",placeholder:"请填写",value:n.qtyBal}}),e._v(" "),a("datetime",{attrs:{title:"生产日期",placeholder:"请选择"},model:{value:n.productionDate,callback:function(t){e.$set(n,"productionDate",t)},expression:"modifyMatter.productionDate"}}),e._v(" "),a("datetime",{attrs:{title:"有效日期",placeholder:"请选择"},model:{value:n.validUntil,callback:function(t){e.$set(n,"validUntil",t)},expression:"modifyMatter.validUntil"}})]}}]),model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("pop-cash-list",{attrs:{"default-value":e.cashInfo,request:"3",params:e.cashParams,required:""},on:{"sel-item":e.selCash}},[a("template",{slot:"other"},[a("cell",{attrs:{title:"支付金额",value:e.tdAmountCopy1}})],1)],2),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num"},[a("span",{staticStyle:{fontSize:".14rem"}},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.tdAmount))+"\n      "),a("span",{staticClass:"taxAmount"},[e._v("[含税: ￥"+e._s(e._f("numberComma")(e.taxAmount))+"]")])]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},K798:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("3cXf"),o=n(s),l=a("HXPS"),d=n(l),u=a("7g+Q"),c=n(u),f=a("6q39"),m=n(f),h=a("L6VY"),v=n(h),p=a("+62G"),C=n(p),_=a("7biW"),y=n(_),b=a("yKqG"),g=(n(b),a("jLp1")),w=a("1KNX"),I=n(w);t.default={name:"PopNameList",props:{defaultValue:{type:Object,default:function(){return{}}}},directives:{TransferDom:C.default},components:{Icon:d.default,Popup:c.default,DSearch:y.default,LoadMore:m.default,RScroll:I.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},dealerList:[],bScroll:null,limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},isChoice:!0}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:function(e){this.selItems=JSON.parse((0,o.default)(this.defaultValue))}},filters:{handlerDate:function(e){return e.split(" ")[0]}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},showSelIcon:function(e){return this.selItems.PROJECT_NAME===e.PROJECT_NAME},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.$emit("sel-item",(0,o.default)(this.selItems))},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getDealer:function(){var e=this,t=[],a={limit:this.limit,page:this.page,start:(this.page-1)*this.limit};this.srhInpTx&&(t=[].concat((0,r.default)(t),[{operator:"like",value:this.srhInpTx,property:"PROJECT_NAME"}]),a.filter=(0,o.default)(t)),(0,g.getProjectApproval)(a).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,s=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+s.length,e.dealerList=1===e.page?s:[].concat((0,r.default)(e.dealerList),(0,r.default)(s)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})}).catch(function(e){v.default.show({content:e.message})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.dealerList=[],this.page=1,this.hasNext=!0,this.getDealer()},onPullingUp:function(){this.page++,this.getDealer()},itemClick:function(){this.showPop=!0}},created:function(){this.selItems=JSON.parse((0,o.default)(this.defaultValue)),this.$route.query.relationKey&&(this.isChoice=!1),this.getDealer()}}},K7WK:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"icon",props:{type:String,isMsg:Boolean},computed:{className:function(){return"weui-icon weui_icon_"+this.type+" weui-icon-"+this.type.replace(/_/g,"-")}}}},KDMX:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("MgeX"),o=n(s),l=a("HzJ8"),d=n(l),u=a("ZLEe"),c=n(u),f=a("3cXf"),m=n(f),h=a("KH7x"),v=n(h),p=a("4YfN"),C=n(p),_=a("PzEQ"),y=n(_),b=a("u28h"),g=n(b),w=a("kNGm"),I=n(w),x=a("BGNQ"),D=n(x),P=a("0AQX"),k=a("I3vJ"),S=a("HyXB"),T=a("bKg5"),L=n(T),N=a("y8YJ"),M=n(N),A=a("kZy/"),O=n(A),R=a("Pb67"),j=n(R),$=a("yt3/"),B=n($),E=a("luHD"),F=n(E),U=a("CKaN"),q=n(U),Q=a("VZtf"),H=n(Q),V=a("vl8n"),X=n(V),z=a("+WR7"),Y=n(z),W=a("fCs9"),G=n(W),J=a("zWMP"),K=a("Qg39");t.default={name:"ApplyDZYHPCGYSYZFForm",data:function(){return{listId:"0750729a-1bea-423e-99a0-070beb953787",srhInpTx:"",orderList:{},matterList:[],transMode:["现付","预付","账期","票据"],showDealerPop:!1,dealerInfo:{},contactInfo:{},formData:{biId:"",biComment:""},submitSuccess:!1,taxRate:.16,numMap:{},transCode:"",formViewUniqueId:"fed81800-4c34-44a9-b517-c3fd9f2ab57d",biReferenceId:"",actions:[],taskId:"",showOrderPop:!1,matterParams:{dealerCode:""},tmpItems:{},matter:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,filterList:[{name:"交易号",value:"transCode"},{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"}],cashInfo:{},cashParams:{fundType:"银行存款"}}},computed:{tdAmountCopy1:function(){var e=this,t=0;return this.matterList.forEach(function(a){var n=a.taxRate||e.taxRate,i=(0,J.accMul)(a.price,a.tdQty,n);t=(0,J.accAdd)(t,(0,J.accAdd)((0,J.accMul)(a.price,a.tdQty),i))}),(0,K.toFixed)(t)}},mixins:[L.default],components:{XTextarea:y.default,Datetime:g.default,PopOrderList:j.default,RNumber:H.default,PopDealerList:M.default,PopMatterList:O.default,PopSingleSelect:B.default,PopMatter:F.default,RPicker:X.default,PopBaseinfo:Y.default,Cell:D.default,RDropdown:G.default,PopCashList:q.default},methods:{selItem:function(e){this.formData=(0,C.default)({},this.formData,e),this.matterParams=(0,C.default)({},this.matterParams,{groupId:e.handlerUnit})},getPaymentTerm:function(){var e=this;return(0,S.getDictByType)("paymentTerm").then(function(t){var a=t.tableContent;e.transMode=a})},selDealer:function(e){var t=JSON.parse(e),a=(0,v.default)(t,1),n=a[0],i=n.pamentDays,r=i?(0,I.default)(Date.now()+(0,J.accMul)(i,864e5),"YYYY-MM-DD"):"";this.dealerInfo=(0,C.default)({},n,{accountExpirationDate:r}),console.log(n),this.matterParams=(0,C.default)({},this.matterParams,{dealerCode:n.dealerCode})},selContact:function(e){this.contactInfo=(0,C.default)({},e)},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,m.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selMatter:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){var a=e.transCode+"_"+e.inventoryCode,i=t.numMap[a]||{},r=i.tdQty,s=void 0===r?e.qtyBal:r,o=i.price,l=void 0===o?"":o,d=i.taxRate,u=void 0===d?.16:d,c=i.productionDate,f=void 0===c?"":c,m=i.validUntil,h=void 0===m?"":m;e.tdQty=s,l.length&&(e.price=l),e.taxRate=u,e.productionDate=f,e.validUntil=h,n[e.transCode]||(n[e.transCode]=[]),t.getMoreUnit(e),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.inventoryCode!==e.inventoryCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,c.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});i>=0&&(e.$refs.matter.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,d.default)((0,o.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,l=!1,u=void 0;try{for(var c,f=(0,d.default)(r);!(s=(c=f.next()).done);s=!0){var m=c.value;this.numMap[m.transCode+"_"+m.inventoryCode]=(0,C.default)({},m)}}catch(e){l=!0,u=e}finally{try{!s&&f.return&&f.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="",a=[];if([{key:"dealerInfo",message:"供应商信息"}].every(function(a){return!!e[a.key]||(t="请选择"+a.message,!1)}),t||this.dealerInfo.paymentTerm||(t="请选择结算方式"),t||this.matterList.length||(t="请选择物料"),t||this.matterList.every(function(n){if(!n.price)return t="单价不能为空",!1;if(!n.tdQty&&0!==n.tdQty)return t="数量不能为空",!1;var i=n.taxRate||e.taxRate,r=(0,J.accMul)(n.price,n.tdQty,i),s={transMatchedCode:n.transCode,transObjCode:n.inventoryCode,tdProcessing:n.processing,assMeasureUnit:void 0!==n.assMeasureUnit?n.assMeasureUnit:null,expSubject:n.expSubject,thenTotalQtyBal:n.qty,thenLockQty:n.qtyed,thenQtyBal:n.qtyBal||0,tdQty:n.tdQty,assMeasureScale:null,assistQty:n.assistQty||null,price:n.price,taxRate:i,taxAmount:r,tdAmount:(0,J.accAdd)((0,J.accMul)(n.price,n.tdQty),r),processingStartDate:n.processingStartDate||null,keepingDays_transObjCode:n.keepingDays,productionDate:n.productionDate||"",validUntil:n.validUntil||"",comment:n.comment||""};return e.transCode&&(s.tdId=n.tdId||null),a.push(s),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=S.saveAndStartWf,n={},i=(0,r.default)({},e.processCode,{businessKey:"POPI",createdBy:""});n=(0,C.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",dealerCreditContactPersonName:e.contactInfo.dealerName||"",dealerCreditContactInformation:e.contactInfo.dealerMobilePhone||"",containerInWarehouseManager:null,inPut:{dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName||"供应商",crDealerPaymentTerm:e.dealerInfo.paymentTerm,daysOfAccount:e.dealerInfo.pamentDays,accountExpirationDate:e.dealerInfo.accountExpirationDate,containerCode:"",dataSet:a},outPut:{dataSet:[{fundName_cashOutCode:e.cashInfo.fundName,cashOutCode:e.cashInfo.fundCode,cashType_cashOutCode:e.cashInfo.fundType,thenAmntBalCopy1:e.cashInfo.amntBal,tdAmountCopy1:e.tdAmountCopy1}]}}),e.transCode&&(t=S.saveAndCommitTask,i={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var s={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,m.default)(n),wfPara:(0,m.default)(i)};e.transCode||delete s.biReferenceId,e.processCode.length||(t=S.submitAndCalc,delete s.wfPara,delete s.biReferenceId),e.biReferenceId&&(s.biReferenceId=e.biReferenceId),e.saveData(t,s)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=l;var u=s.inPut,c=(s.dealerDebit,s.outPut),f=u.dataSet,m=void 0===f?[]:f,h={},v=[],p=!0,_=!1,y=void 0;try{for(var b,g=(0,d.default)(m);!(p=(b=g.next()).done);p=!0){var w=b.value;w=(0,C.default)({},w,{transCode:w.transMatchedCode,inventoryPic:w.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+w.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:w.inventoryName_transObjCode,inventoryCode:w.transObjCode,specification:w.specification_transObjCode,processing:w.tdProcessing,keepingDays:w.keepingDays_transObjCode,qtyed:w.thenLockQty,qtyBal:w.thenQtyBal,qty:w.thenTotalQtyBal}),e.getMoreUnit(w),h[w.transCode]||(h[w.transCode]=[]),v.push(w),h[w.transCode].push(w)}}catch(e){_=!0,y=e}finally{try{!p&&g.return&&g.return()}finally{if(_)throw y}}e.dealerInfo=(0,r.default)({creatorName:s.dealerCreditContactPersonName,dealerName:u.dealerName_dealerCodeCredit,dealerMobilePhone:s.dealerCreditContactInformation,dealerCode:u.dealerCode_dealerCodeCredit,dealerLabelName:u.crDealerLabel,province:u.province_dealerCodeCredit,city:u.city_dealerCodeCredit,county:u.county_dealerCodeCredit,address:u.address_dealerCodeCredit,accountExpirationDate:u.accountExpirationDate,paymentTerm:u.crDealerPaymentTerm,pamentDays:u.daysOfAccount},"accountExpirationDate",u.accountExpirationDate||"无");var I=!0,x=!1,D=void 0;try{for(var P,k=(0,d.default)(c.dataSet);!(I=(P=k.next()).done);I=!0){var S=P.value;e.cashInfo={fundName:S.fundName_cashOutCode,fundCode:S.cashOutCode,fundType:S.cashType_cashOutCode,amntBal:S.thenAmntBalCopy1}}}catch(e){x=!0,D=e}finally{try{!I&&k.return&&k.return()}finally{if(x)throw D}}e.contactInfo={dealerName:s.dealerCreditContactPersonName,dealerMobilePhone:s.dealerCreditContactInformation},e.matterParams={dealerCode:e.dealerInfo.dealerCode,groupId:e.formData.handlerUnit},e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,C.default)({},e.formData,e.handlerDefault,{creator:s.creator,biId:s.biId,biComment:s.biComment}),e.biReferenceId=s.biReferenceId,e.matterList=v,e.orderList=h,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,r.default)({},"DZYHPCGYSYZF_DATA",{matter:this.matterList,dealer:this.dealerInfo,formData:this.formData,contactInfo:this.contactInfo,cashInfo:this.cashInfo})},getRelationData:function(){var e=this,t=this.$route.query.uniqueId;return(0,P.getSOList)({formViewUniqueId:t,transCode:this.relationKey}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i;t.attachment;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var o=s.order,l=(s.dealerDebit,o.dataSet),d=void 0===l?[]:l;d=d.map(function(t){return(0,C.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,transCode:e.relationKey,qtyBal:t.tdQty,tdQty:""})}),e.dealerInfo={creatorName:s.dealerDebitContactPersonName,dealerMobilePhone:s.dealerDebitContactInformation,dealerCode:s.order.dealerDebit,dealerSubclass:s.order.drAccountSub,dealerName:s.order.dealerName_dealerDebit,province:s.order.province_dealerDebit,city:s.order.city_dealerDebit,county:s.order.county_dealerDebit,address:s.order.address_dealerDebit},e.matterParams={dealerCode:e.dealerInfo.dealerCode,groupId:e.formData.handlerUnit},e.matterList=d,e.orderList=(0,r.default)({},e.relationKey,d),e.$loading.hide()})},getMoreUnit:function(e){var t=e.inventoryCode;return(0,k.getObjInvMoreUnitByInvCode)(t).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;e.showDrop=!1,n.forEach(function(e){e.name=e.invSubUnitName,e.value=e.invSubUnitName}),e.moreUnitList=n})},moreUnitClick:function(e){e.showDrop=!e.showDrop},moreUnitSelected:function(e){this.matter.assMeasureUnit=e.invSubUnitName,this.matter.assistQty=e.invSubUnitMulti},selCash:function(e){this.cashInfo=e},assembleOrder:function(e){var t=this,a={};e.forEach(function(e){a[e.transCode]||(a[e.transCode]=[]),t.getMoreUnit(e),a[e.transCode].push(e)}),this.orderList=a}},created:function(){var e=sessionStorage.getItem("DZYHPCGYSYZF_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.dealerInfo=t.dealer,this.formData=t.formData,this.contactInfo=t.contactInfo,this.cashInfo=t.cashInfo,this.matterParams={dealerCode:this.dealerInfo.dealerCode,groupId:this.formData.handlerUnit},this.assembleOrder(this.matterList),sessionStorage.removeItem("DZYHPCGYSYZF_DATA")}}}},KEY0:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("lC5x"),o=n(s),l=a("J0Oq"),d=n(l),u=a("KH7x"),c=n(u),f=a("3cXf"),m=n(f),h=a("MgeX"),v=n(h),p=a("HzJ8"),C=n(p),_=a("+62G"),y=n(_),b=a("Nk/b"),g=n(b),w=a("7g+Q"),I=n(w),x=a("z5TY"),D=n(x),P=a("wDjS"),k=n(P),S=a("KFOb"),T=(n(S),a("HXPS")),L=n(T),N=a("HyXB"),M=a("h+4q"),A=a("vl8n"),O=n(A),R=a("PKHo"),j=n(R),$=a("5gKc"),B=n($),E=a("XgMd"),F=n(E),U=a("iBgG");n(U);t.default={data:function(){return{transCode:"",picShow:!1,showPop:!1,imgFileObj:{},biReferenceId:"",MatPic:"",AccountRelType:[],baseinfo:{},warehouse:{warehouseCode:"",warehouseName:"",warehouseType:"",warehousePic:"",staffDealerCode:null,groupCode:null,customerDealerCode:null,processorsDealerCode:"",channelDealerCode:null,warehouseCondtions:"",warehouseProvince:"",warehouseCity:"",warehouseDistrict:"",warehouseAddress:"",warehouseStatus:""},submitSuccess:!1,typeSubMap:{staff:{title:"员工",dealerLabelName:"员工",key:"staffDealerCode",value:"",code:"",list:[]},group:{title:"组织",dealerLabelName:"",key:"groupCode",value:"",code:"",list:[]},customer:{title:"客户",dealerLabelName:"客户",key:"customerDealerCode",value:"",code:"",list:[]},processors:{title:"加工商",dealerLabelName:"加工商",key:"processorsDealerCode",value:"",code:"",list:[]},channel:{title:"渠道商",dealerLabelName:"渠道商",key:"channelDealerCode",value:"",code:"",list:[]},noMatched:{title:"",dealerLabelName:"",key:"",value:"",code:"",list:[]}},typeSub:"group",typeSubValue:"",typeToSubMap:{"配送中心仓":"group","加工商仓":"processors","加工车间仓":"group","客户仓":"customer","渠道商仓":"channel","个人仓":"staff","一般部门仓":"group"},currentGroup:"",statusType:[],warehouseStatus:"使用中"}},directives:{TransferDom:y.default},mixins:[j.default],components:{Picker:g.default,Popup:I.default,Group:D.default,RPicker:O.default,XAddress:k.default,Icon:L.default,UploadImage:B.default,PopWarelabeList:F.default},methods:{onUpload:function(e){this.warehouse.warehousePic=e.src},getwarehouse:function(){var e=this;return(0,N.getDictByType)("warehouseRelType").then(function(t){var a=t.tableContent;a&&a.forEach(function(e){e.originValue=e.value,e.value=e.name}),e.AccountRelType=a,e.$route.query.transCode||(e.warehouse.warehouseType=e.$route.query.warehouseType?e.$route.query.warehouseType:a[0].name),e.$loading.hide()})},getStatus:function(){var e=this;return(0,N.getDictByType)("objStatus").then(function(t){var a=t.tableContent;a&&a.forEach(function(e){e.originValue=e.name,e.value=e.name}),e.statusType=a})},findData:function(){var e=this;return(0,M.getwarehouseInfo)(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=(t.attachment,n.baseinfo),r=void 0===i?{}:i,s=n.warehouse,o=void 0===s?{}:s;switch(o.warehouseStatus){case 1:e.warehouseStatus="使用中";break;case 2:e.warehouseStatus="未使用";break;case 0:e.warehouseStatus="草稿";break;case-1:e.warehouseStatus="停用"}e.baseinfo=r,e.warehouse=o,e.biReferenceId=e.warehouse.referenceId,e.warehouse.warehousePic?(e.picShow=!0,e.MatPic="/H_roleplay-si/ds/download?url="+e.warehouse.warehousePic+"&width=400&height=400"):(e.picShow=!0,e.getDefaultImg());var l=!0,d=!1,u=void 0;try{for(var c,f=(0,C.default)((0,v.default)(e.typeSubMap));!(l=(c=f.next()).done);l=!0){var m=c.value,h=e.warehouse[m.key];if(h){m.code=h;break}}}catch(e){d=!0,u=e}finally{try{!l&&f.return&&f.return()}finally{if(d)throw u}}})},getDefaultImg:function(){this.MatPic=a("CRKs")},changeAddress:function(e,t){this.AccountAddress=t},getAddress:function(){this.AccountAddress.length>0&&(this.warehouse.province=this.AccountAddress[0],this.warehouse.city=this.AccountAddress[1],this.warehouse.county=this.AccountAddress[2])},submit:function(){var e=this;for(var t in this.warehouse)"string"==typeof this.warehouse[t]&&this.warehouse[t].indexOf(" ")>=0&&(this.warehouse[t]=this.warehouse[t].replace(/\s/g,""));this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){switch(e.warehouseStatus){case"使用中":e.warehouse.warehouseStatus=1;break;case"未使用":e.warehouse.warehouseStatus=2;break;case"草稿":e.warehouse.warehouseStatus=0;break;case"停用":e.warehouse.warehouseStatus=-1}e.warehouse.status&&delete e.warehouse.status;var t=M.save,a={listId:"64a41c48-4e8d-4709-bd01-5d60ad6bc625",formData:{baseinfo:e.baseinfo,warehouse:e.warehouse}};e.transCode&&(t=M.update);var n=!0,i=!1,r=void 0;try{for(var s,o=(0,C.default)((0,v.default)(e.typeSubMap));!(n=(s=o.next()).done);n=!0){var l=s.value;if("break"===function(t){if(t.value){var a=t.list.filter(function(e){return t.value===e.value}),n=(0,c.default)(a,1),i=n[0],r=void 0===i?{}:i;return e.warehouse[t.key]=r.code,"break"}}(l))break}}catch(e){i=!0,r=e}finally{try{!n&&o.return&&o.return()}finally{if(i)throw r}}t(a).then(function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a.success,i=void 0!==n&&n,r=a.message,s=void 0===r?"提交失败":r;i&&(s=t===M.update?"修改成功":"提交成功",e.submitSuccess=!0,e.transCode||""+e.$route.query.add!="1"||sessionStorage.setItem("EDIT_WAREHOUSE_TRANSCODE",(0,m.default)({transCode:a.transCode}))),e.$vux.alert.show({content:s,onHide:function(){i&&e.$router.go(-1)}})})}})},save:function(){var e=this,t="";if([{key:"warehouseCode",message:"【仓库编码】"},{key:"warehouseName",message:"【仓库名称】"},{key:"warehouseType",message:"【仓库类型】"}].every(function(a){return""!==e.warehouse[a.key]||(t=a.message+"不能为空",!1)}),t)return void this.$vux.alert.show({content:t});this.submit()},selGroup:function(e){this.typeSubMap[this.typeSub].value=e},warehouseTypeChange:function(e){this.typeSubMap[this.typeSub].value="",this.typeSubMap[this.typeSub].list=[],this.typeSub=this.typeToSubMap[e]||"noMatched","noMatched"!==this.typeSub&&this.getTypeSubList()},getTypeSubList:function(e){var t=this,a=[];e&&(a=[{operator:"like",value:e,property:"GROUP_NAME"}]);var n=this.typeSubMap[this.typeSub];switch(this.typeSub){case"group":return(0,M.getDepartMentWage)({filter:(0,m.default)(a)}).then(function(e){var a=e.tableContent,i=void 0===a?[]:a;i.forEach(function(e){e.name=e.GROUP_NAME,e.value=e.GROUP_NAME,e.code=e.GROUP_CODE,e.code===n.code&&(t.typeSubMap[t.typeSub].value=e.value)}),t.typeSubMap[t.typeSub].list=i,t.typeSubMap[t.typeSub].code=""});case"staff":case"customer":case"processors":case"channel":return e&&(a[0].property="dealerName"),(0,N.getObjDealerByLabelName)({dealerLabelName:n.dealerLabelName,filter:(0,m.default)(a)}).then(function(e){var a=e.tableContent,i=void 0===a?[]:a;i.forEach(function(e){e.name=e.dealerName,e.value=e.dealerName,e.code=e.dealerCode,e.code===n.code&&(t.typeSubMap[t.typeSub].value=e.value)}),t.typeSubMap[t.typeSub].code="",t.typeSubMap[t.typeSub].list=i})}}},beforeRouteLeave:function(e,t,a){var n=e.path;this.submitSuccess&&"/warehouse"===n&&(e.meta.reload=!0),a()},created:function(){var e=this;this.$loading.show();var t=this.$route.query;if(t.transCode)return this.transCode=t.transCode,void(0,d.default)(o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.findData();case 2:return t.next=4,e.getwarehouse();case 4:e.getStatus(),e.hasDefault=!1;case 6:case"end":return t.stop()}},t,e)}))();(0,N.getBaseInfoDataBase)().then(function(t){e.baseinfo=(0,r.default)({},e.baseinfo,t)}),this.getwarehouse(),this.getStatus()},beforeRouteEnter:function(e,t,a){e.meta.title="新增仓库",e.query.transCode&&(e.meta.title="编辑仓库"),a()}}},KFOb:function(e,t){e.exports=[{name:"北京市",value:"110000"},{name:"天津市",value:"120000"},{name:"河北省",value:"130000"},{name:"山西省",value:"140000"},{name:"内蒙古自治区",value:"150000"},{name:"辽宁省",value:"210000"},{name:"吉林省",value:"220000"},{name:"黑龙江省",value:"230000"},{name:"上海市",value:"310000"},{name:"江苏省",value:"320000"},{name:"浙江省",value:"330000"},{name:"安徽省",value:"340000"},{name:"福建省",value:"350000"},{name:"江西省",value:"360000"},{name:"山东省",value:"370000"},{name:"河南省",value:"410000"},{name:"湖北省",value:"420000"},{name:"湖南省",value:"430000"},{name:"广东省",value:"440000"},{name:"广西壮族自治区",value:"450000"},{name:"海南省",value:"460000"},{name:"重庆市",value:"500000"},{name:"四川省",value:"510000"},{name:"贵州省",value:"520000"},{name:"云南省",value:"530000"},{name:"西藏自治区",value:"540000"},{name:"陕西省",value:"610000"},{name:"甘肃省",value:"620000"},{name:"青海省",value:"630000"},{name:"宁夏回族自治区",value:"640000"},{name:"新疆维吾尔自治区",value:"650000"},{name:"市辖区",value:"110100",parent:"110000"},{name:"东城区",value:"110101",parent:"110100"},{name:"西城区",value:"110102",parent:"110100"},{name:"朝阳区",value:"110105",parent:"110100"},{name:"丰台区",value:"110106",parent:"110100"},{name:"石景山区",value:"110107",parent:"110100"},{name:"海淀区",value:"110108",parent:"110100"},{name:"门头沟区",value:"110109",parent:"110100"},{name:"房山区",value:"110111",parent:"110100"},{name:"通州区",value:"110112",parent:"110100"},{name:"顺义区",value:"110113",parent:"110100"},{name:"昌平区",value:"110114",parent:"110100"},{name:"大兴区",value:"110115",parent:"110100"},{name:"怀柔区",value:"110116",parent:"110100"},{name:"平谷区",value:"110117",parent:"110100"},{name:"密云区",value:"110118",parent:"110100"},{name:"延庆区",value:"110119",parent:"110100"},{name:"市辖区",value:"120100",parent:"120000"},{name:"和平区",value:"120101",parent:"120100"},{name:"河东区",value:"120102",parent:"120100"},{name:"河西区",value:"120103",parent:"120100"},{name:"南开区",value:"120104",parent:"120100"},{name:"河北区",value:"120105",parent:"120100"},{name:"红桥区",value:"120106",parent:"120100"},{name:"东丽区",value:"120110",parent:"120100"},{name:"西青区",value:"120111",parent:"120100"},{name:"津南区",value:"120112",parent:"120100"},{name:"北辰区",value:"120113",parent:"120100"},{name:"武清区",value:"120114",parent:"120100"},{name:"宝坻区",value:"120115",parent:"120100"},{name:"滨海新区",value:"120116",parent:"120100"},{name:"宁河区",value:"120117",parent:"120100"},{name:"静海区",value:"120118",parent:"120100"},{name:"蓟州区",value:"120119",parent:"120100"},{name:"石家庄市",value:"130100",parent:"130000"},{name:"唐山市",value:"130200",parent:"130000"},{name:"秦皇岛市",value:"130300",parent:"130000"},{name:"邯郸市",value:"130400",parent:"130000"},{name:"邢台市",value:"130500",parent:"130000"},{name:"保定市",value:"130600",parent:"130000"},{name:"张家口市",value:"130700",parent:"130000"},{name:"承德市",value:"130800",parent:"130000"},{name:"沧州市",value:"130900",parent:"130000"},{name:"廊坊市",value:"131000",parent:"130000"},{name:"衡水市",value:"131100",parent:"130000"},{name:"定州市",value:"139001",parent:"130000"},{name:"辛集市",value:"139002",parent:"130000"},{name:"长安区",value:"130102",parent:"130100"},{name:"桥西区",value:"130104",parent:"130100"},{name:"新华区",value:"130105",parent:"130100"},{name:"井陉矿区",value:"130107",parent:"130100"},{name:"裕华区",value:"130108",parent:"130100"},{name:"藁城区",value:"130109",parent:"130100"},{name:"鹿泉区",value:"130110",parent:"130100"},{name:"栾城区",value:"130111",parent:"130100"},{name:"井陉县",value:"130121",parent:"130100"},{name:"正定县",value:"130123",parent:"130100"},{name:"行唐县",value:"130125",parent:"130100"},{name:"灵寿县",value:"130126",parent:"130100"},{name:"高邑县",value:"130127",parent:"130100"},{name:"深泽县",value:"130128",parent:"130100"},{name:"赞皇县",value:"130129",parent:"130100"},{name:"无极县",value:"130130",parent:"130100"},{name:"平山县",value:"130131",parent:"130100"},{name:"元氏县",value:"130132",parent:"130100"},{name:"赵县",value:"130133",parent:"130100"},{name:"晋州市",value:"130183",parent:"130100"},{name:"新乐市",value:"130184",parent:"130100"},{name:"路南区",value:"130202",parent:"130200"},{name:"路北区",value:"130203",parent:"130200"},{name:"古冶区",value:"130204",parent:"130200"},{name:"开平区",value:"130205",parent:"130200"},{name:"丰南区",value:"130207",parent:"130200"},{name:"丰润区",value:"130208",parent:"130200"},{name:"曹妃甸区",value:"130209",parent:"130200"},{name:"滦县",value:"130223",parent:"130200"},{name:"滦南县",value:"130224",parent:"130200"},{name:"乐亭县",value:"130225",parent:"130200"},{name:"迁西县",value:"130227",parent:"130200"},{name:"玉田县",value:"130229",parent:"130200"},{name:"遵化市",value:"130281",parent:"130200"},{name:"迁安市",value:"130283",parent:"130200"},{name:"海港区",value:"130302",parent:"130300"},{name:"山海关区",value:"130303",parent:"130300"},{name:"北戴河区",value:"130304",parent:"130300"},{name:"抚宁区",value:"130306",parent:"130300"},{name:"青龙满族自治县",value:"130321",parent:"130300"},{name:"昌黎县",value:"130322",parent:"130300"},{name:"卢龙县",value:"130324",parent:"130300"},{name:"邯山区",value:"130402",parent:"130400"},{name:"丛台区",value:"130403",parent:"130400"},{name:"复兴区",value:"130404",parent:"130400"},{name:"峰峰矿区",value:"130406",parent:"130400"},{name:"邯郸县",value:"130421",parent:"130400"},{name:"临漳县",value:"130423",parent:"130400"},{name:"成安县",value:"130424",parent:"130400"},{name:"大名县",value:"130425",parent:"130400"},{name:"涉县",value:"130426",parent:"130400"},{name:"磁县",value:"130427",parent:"130400"},{name:"肥乡县",value:"130428",parent:"130400"},{name:"永年县",value:"130429",parent:"130400"},{name:"邱县",value:"130430",parent:"130400"},{name:"鸡泽县",value:"130431",parent:"130400"},{name:"广平县",value:"130432",parent:"130400"},{name:"馆陶县",value:"130433",parent:"130400"},{name:"魏县",value:"130434",parent:"130400"},{name:"曲周县",value:"130435",parent:"130400"},{name:"武安市",value:"130481",parent:"130400"},{name:"桥东区",value:"130502",parent:"130500"},{name:"桥西区",value:"130503",parent:"130500"},{name:"邢台县",value:"130521",parent:"130500"},{name:"临城县",value:"130522",parent:"130500"},{name:"内丘县",value:"130523",parent:"130500"},{name:"柏乡县",value:"130524",parent:"130500"},{name:"隆尧县",value:"130525",parent:"130500"},{name:"任县",value:"130526",parent:"130500"},{name:"南和县",value:"130527",parent:"130500"},{name:"宁晋县",value:"130528",parent:"130500"},{name:"巨鹿县",value:"130529",parent:"130500"},{name:"新河县",value:"130530",parent:"130500"},{name:"广宗县",value:"130531",parent:"130500"},{name:"平乡县",value:"130532",parent:"130500"},{name:"威县",value:"130533",parent:"130500"},{name:"清河县",value:"130534",parent:"130500"},{name:"临西县",value:"130535",parent:"130500"},{name:"南宫市",value:"130581",parent:"130500"},{name:"沙河市",value:"130582",parent:"130500"},{name:"竞秀区",value:"130602",parent:"130600"},{name:"莲池区",value:"130606",parent:"130600"},{name:"满城区",value:"130607",parent:"130600"},{name:"清苑区",value:"130608",parent:"130600"},{name:"徐水区",value:"130609",parent:"130600"},{name:"涞水县",value:"130623",parent:"130600"},{name:"阜平县",value:"130624",parent:"130600"},{name:"定兴县",value:"130626",parent:"130600"},{name:"唐县",value:"130627",parent:"130600"},{name:"高阳县",value:"130628",parent:"130600"},{name:"容城县",value:"130629",parent:"130600"},{name:"涞源县",value:"130630",parent:"130600"},{name:"望都县",value:"130631",parent:"130600"},{name:"安新县",value:"130632",parent:"130600"},{name:"易县",value:"130633",parent:"130600"},{name:"曲阳县",value:"130634",parent:"130600"},{name:"蠡县",value:"130635",parent:"130600"},{name:"顺平县",value:"130636",parent:"130600"},{name:"博野县",value:"130637",parent:"130600"},{name:"雄县",value:"130638",parent:"130600"},{name:"涿州市",value:"130681",parent:"130600"},{name:"安国市",value:"130683",parent:"130600"},{name:"高碑店市",value:"130684",parent:"130600"},{name:"桥东区",value:"130702",parent:"130700"},{name:"桥西区",value:"130703",parent:"130700"},{name:"宣化区",value:"130705",parent:"130700"},{name:"下花园区",value:"130706",parent:"130700"},{name:"万全区",value:"130708",parent:"130700"},{name:"崇礼区",value:"130709",parent:"130700"},{name:"张北县",value:"130722",parent:"130700"},{name:"康保县",value:"130723",parent:"130700"},{name:"沽源县",value:"130724",parent:"130700"},{name:"尚义县",value:"130725",parent:"130700"},{name:"蔚县",value:"130726",parent:"130700"},{name:"阳原县",value:"130727",parent:"130700"},{name:"怀安县",value:"130728",parent:"130700"},{name:"怀来县",value:"130730",parent:"130700"},{name:"涿鹿县",value:"130731",parent:"130700"},{name:"赤城县",value:"130732",parent:"130700"},{name:"双桥区",value:"130802",parent:"130800"},{name:"双滦区",value:"130803",parent:"130800"},{name:"鹰手营子矿区",value:"130804",parent:"130800"},{name:"承德县",value:"130821",parent:"130800"},{name:"兴隆县",value:"130822",parent:"130800"},{name:"平泉县",value:"130823",parent:"130800"},{name:"滦平县",value:"130824",parent:"130800"},{name:"隆化县",value:"130825",parent:"130800"},{name:"丰宁满族自治县",value:"130826",parent:"130800"},{name:"宽城满族自治县",value:"130827",parent:"130800"},{name:"围场满族蒙古族自治县",value:"130828",parent:"130800"},{name:"新华区",value:"130902",parent:"130900"},{name:"运河区",value:"130903",parent:"130900"},{name:"沧县",value:"130921",parent:"130900"},{name:"青县",value:"130922",parent:"130900"},{name:"东光县",value:"130923",parent:"130900"},{name:"海兴县",value:"130924",parent:"130900"},{name:"盐山县",value:"130925",parent:"130900"},{name:"肃宁县",value:"130926",parent:"130900"},{name:"南皮县",value:"130927",parent:"130900"},{name:"吴桥县",value:"130928",parent:"130900"},{name:"献县",value:"130929",parent:"130900"},{name:"孟村回族自治县",value:"130930",parent:"130900"},{name:"泊头市",value:"130981",parent:"130900"},{name:"任丘市",value:"130982",parent:"130900"},{name:"黄骅市",value:"130983",parent:"130900"},{name:"河间市",value:"130984",parent:"130900"},{name:"安次区",value:"131002",parent:"131000"},{name:"广阳区",value:"131003",parent:"131000"},{name:"固安县",value:"131022",parent:"131000"},{name:"永清县",value:"131023",parent:"131000"},{name:"香河县",value:"131024",parent:"131000"},{name:"大城县",value:"131025",parent:"131000"},{name:"文安县",value:"131026",parent:"131000"},{name:"大厂回族自治县",value:"131028",parent:"131000"},{name:"霸州市",value:"131081",parent:"131000"},{name:"三河市",value:"131082",parent:"131000"},{name:"桃城区",value:"131102",parent:"131100"},{name:"冀州区",value:"131103",parent:"131100"},{name:"枣强县",value:"131121",parent:"131100"},{name:"武邑县",value:"131122",parent:"131100"},{name:"武强县",value:"131123",parent:"131100"},{name:"饶阳县",value:"131124",parent:"131100"},{name:"安平县",value:"131125",parent:"131100"},{name:"故城县",value:"131126",parent:"131100"},{name:"景县",value:"131127",parent:"131100"},{name:"阜城县",value:"131128",parent:"131100"},{name:"深州市",value:"131182",parent:"131100"},{name:"太原市",value:"140100",parent:"140000"},{name:"大同市",value:"140200",parent:"140000"},{name:"阳泉市",value:"140300",parent:"140000"},{name:"长治市",value:"140400",parent:"140000"},{name:"晋城市",value:"140500",parent:"140000"},{name:"朔州市",value:"140600",parent:"140000"},{name:"晋中市",value:"140700",parent:"140000"},{name:"运城市",value:"140800",parent:"140000"},{name:"忻州市",value:"140900",parent:"140000"},{name:"临汾市",value:"141000",parent:"140000"},{name:"吕梁市",value:"141100",parent:"140000"},{name:"小店区",value:"140105",parent:"140100"},{name:"迎泽区",value:"140106",parent:"140100"},{name:"杏花岭区",value:"140107",parent:"140100"},{name:"尖草坪区",value:"140108",parent:"140100"},{name:"万柏林区",value:"140109",parent:"140100"},{name:"晋源区",value:"140110",parent:"140100"},{name:"清徐县",value:"140121",parent:"140100"},{name:"阳曲县",value:"140122",parent:"140100"},{name:"娄烦县",value:"140123",parent:"140100"},{name:"古交市",value:"140181",parent:"140100"},{name:"城区",value:"140202",parent:"140200"},{name:"矿区",value:"140203",parent:"140200"},{name:"南郊区",value:"140211",parent:"140200"},{name:"新荣区",value:"140212",parent:"140200"},{name:"阳高县",value:"140221",parent:"140200"},{name:"天镇县",value:"140222",parent:"140200"},{name:"广灵县",value:"140223",parent:"140200"},{name:"灵丘县",value:"140224",parent:"140200"},{name:"浑源县",value:"140225",parent:"140200"},{name:"左云县",value:"140226",parent:"140200"},{name:"大同县",value:"140227",parent:"140200"},{name:"城区",value:"140302",parent:"140300"},{name:"矿区",value:"140303",parent:"140300"},{name:"郊区",value:"140311",parent:"140300"},{name:"平定县",value:"140321",parent:"140300"},{name:"盂县",value:"140322",parent:"140300"},{name:"城区",value:"140402",parent:"140400"},{name:"郊区",value:"140411",parent:"140400"},{name:"长治县",value:"140421",parent:"140400"},{name:"襄垣县",value:"140423",parent:"140400"},{name:"屯留县",value:"140424",parent:"140400"},{name:"平顺县",value:"140425",parent:"140400"},{name:"黎城县",value:"140426",parent:"140400"},{name:"壶关县",value:"140427",parent:"140400"},{name:"长子县",value:"140428",parent:"140400"},{name:"武乡县",value:"140429",parent:"140400"},{name:"沁县",value:"140430",parent:"140400"},{name:"沁源县",value:"140431",parent:"140400"},{name:"潞城市",value:"140481",parent:"140400"},{name:"城区",value:"140502",parent:"140500"},{name:"沁水县",value:"140521",parent:"140500"},{name:"阳城县",value:"140522",parent:"140500"},{name:"陵川县",value:"140524",parent:"140500"},{name:"泽州县",value:"140525",parent:"140500"},{name:"高平市",value:"140581",parent:"140500"},{name:"朔城区",value:"140602",parent:"140600"},{name:"平鲁区",value:"140603",parent:"140600"},{name:"山阴县",value:"140621",parent:"140600"},{name:"应县",value:"140622",parent:"140600"},{name:"右玉县",value:"140623",parent:"140600"},{name:"怀仁县",value:"140624",parent:"140600"},{name:"榆次区",value:"140702",parent:"140700"},{name:"榆社县",value:"140721",parent:"140700"},{name:"左权县",value:"140722",parent:"140700"},{name:"和顺县",value:"140723",parent:"140700"},{name:"昔阳县",value:"140724",parent:"140700"},{name:"寿阳县",value:"140725",parent:"140700"},{name:"太谷县",value:"140726",parent:"140700"},{name:"祁县",value:"140727",parent:"140700"},{name:"平遥县",value:"140728",parent:"140700"},{name:"灵石县",value:"140729",parent:"140700"},{name:"介休市",value:"140781",parent:"140700"},{name:"盐湖区",value:"140802",parent:"140800"},{name:"临猗县",value:"140821",parent:"140800"},{name:"万荣县",value:"140822",parent:"140800"},{name:"闻喜县",value:"140823",parent:"140800"},{name:"稷山县",value:"140824",parent:"140800"},{name:"新绛县",value:"140825",parent:"140800"},{name:"绛县",value:"140826",parent:"140800"},{name:"垣曲县",value:"140827",parent:"140800"},{name:"夏县",value:"140828",parent:"140800"},{name:"平陆县",value:"140829",parent:"140800"},{name:"芮城县",value:"140830",parent:"140800"},{name:"永济市",value:"140881",parent:"140800"},{name:"河津市",value:"140882",parent:"140800"},{name:"忻府区",value:"140902",parent:"140900"},{name:"定襄县",value:"140921",parent:"140900"},{name:"五台县",value:"140922",parent:"140900"},{name:"代县",value:"140923",parent:"140900"},{name:"繁峙县",value:"140924",parent:"140900"},{name:"宁武县",value:"140925",parent:"140900"},{name:"静乐县",value:"140926",parent:"140900"},{name:"神池县",value:"140927",parent:"140900"},{name:"五寨县",value:"140928",parent:"140900"},{name:"岢岚县",value:"140929",parent:"140900"},{name:"河曲县",value:"140930",parent:"140900"},{name:"保德县",value:"140931",parent:"140900"},{name:"偏关县",value:"140932",parent:"140900"},{name:"原平市",value:"140981",parent:"140900"},{name:"尧都区",value:"141002",parent:"141000"},{name:"曲沃县",value:"141021",parent:"141000"},{name:"翼城县",value:"141022",parent:"141000"},{name:"襄汾县",value:"141023",parent:"141000"},{name:"洪洞县",value:"141024",parent:"141000"},{name:"古县",value:"141025",parent:"141000"},{name:"安泽县",value:"141026",parent:"141000"},{name:"浮山县",value:"141027",parent:"141000"},{name:"吉县",value:"141028",parent:"141000"},{name:"乡宁县",value:"141029",parent:"141000"},{name:"大宁县",value:"141030",parent:"141000"},{name:"隰县",value:"141031",parent:"141000"},{name:"永和县",value:"141032",parent:"141000"},{name:"蒲县",value:"141033",parent:"141000"},{name:"汾西县",value:"141034",parent:"141000"},{name:"侯马市",value:"141081",parent:"141000"},{name:"霍州市",value:"141082",parent:"141000"},{name:"离石区",value:"141102",parent:"141100"},{name:"文水县",value:"141121",parent:"141100"},{name:"交城县",value:"141122",parent:"141100"},{name:"兴县",value:"141123",parent:"141100"},{name:"临县",value:"141124",parent:"141100"},{name:"柳林县",value:"141125",parent:"141100"},{name:"石楼县",value:"141126",parent:"141100"},{name:"岚县",value:"141127",parent:"141100"},{name:"方山县",value:"141128",parent:"141100"},{name:"中阳县",value:"141129",parent:"141100"},{name:"交口县",value:"141130",parent:"141100"},{name:"孝义市",value:"141181",parent:"141100"},{name:"汾阳市",value:"141182",parent:"141100"},{name:"呼和浩特市",value:"150100",parent:"150000"},{name:"包头市",value:"150200",parent:"150000"},{name:"乌海市",value:"150300",parent:"150000"},{name:"赤峰市",value:"150400",parent:"150000"},{name:"通辽市",value:"150500",parent:"150000"},{name:"鄂尔多斯市",value:"150600",parent:"150000"},{name:"呼伦贝尔市",value:"150700",parent:"150000"},{name:"巴彦淖尔市",value:"150800",parent:"150000"},{name:"乌兰察布市",value:"150900",parent:"150000"},{name:"兴安盟",value:"152200",parent:"150000"},{name:"锡林郭勒盟",value:"152500",parent:"150000"},{name:"阿拉善盟",value:"152900",parent:"150000"},{name:"新城区",value:"150102",parent:"150100"},{name:"回民区",value:"150103",parent:"150100"},{name:"玉泉区",value:"150104",parent:"150100"},{name:"赛罕区",value:"150105",parent:"150100"},{name:"土默特左旗",value:"150121",parent:"150100"},{name:"托克托县",value:"150122",parent:"150100"},{name:"和林格尔县",value:"150123",parent:"150100"},{name:"清水河县",value:"150124",parent:"150100"},{name:"武川县",value:"150125",parent:"150100"},{name:"东河区",value:"150202",parent:"150200"},{name:"昆都仑区",value:"150203",parent:"150200"},{name:"青山区",value:"150204",parent:"150200"},{name:"石拐区",value:"150205",parent:"150200"},{name:"白云鄂博矿区",value:"150206",parent:"150200"},{name:"九原区",value:"150207",parent:"150200"},{name:"土默特右旗",value:"150221",parent:"150200"},{name:"固阳县",value:"150222",parent:"150200"},{name:"达尔罕茂明安联合旗",value:"150223",parent:"150200"},{name:"海勃湾区",value:"150302",parent:"150300"},{name:"海南区",value:"150303",parent:"150300"},{name:"乌达区",value:"150304",parent:"150300"},{name:"红山区",value:"150402",parent:"150400"},{name:"元宝山区",value:"150403",parent:"150400"},{name:"松山区",value:"150404",parent:"150400"},{name:"阿鲁科尔沁旗",value:"150421",parent:"150400"},{name:"巴林左旗",value:"150422",parent:"150400"},{name:"巴林右旗",value:"150423",parent:"150400"},{name:"林西县",value:"150424",parent:"150400"},{name:"克什克腾旗",value:"150425",parent:"150400"},{name:"翁牛特旗",value:"150426",parent:"150400"},{name:"喀喇沁旗",value:"150428",parent:"150400"},{name:"宁城县",value:"150429",parent:"150400"},{name:"敖汉旗",value:"150430",parent:"150400"},{name:"科尔沁区",value:"150502",parent:"150500"},{name:"科尔沁左翼中旗",value:"150521",parent:"150500"},{name:"科尔沁左翼后旗",value:"150522",parent:"150500"},{name:"开鲁县",value:"150523",parent:"150500"},{name:"库伦旗",value:"150524",parent:"150500"},{name:"奈曼旗",value:"150525",parent:"150500"},{name:"扎鲁特旗",value:"150526",parent:"150500"},{name:"霍林郭勒市",value:"150581",parent:"150500"},{name:"东胜区",value:"150602",parent:"150600"},{name:"康巴什区",value:"150603",parent:"150600"},{name:"达拉特旗",value:"150621",parent:"150600"},{name:"准格尔旗",value:"150622",parent:"150600"},{name:"鄂托克前旗",value:"150623",parent:"150600"},{name:"鄂托克旗",value:"150624",parent:"150600"},{name:"杭锦旗",value:"150625",parent:"150600"},{name:"乌审旗",value:"150626",parent:"150600"},{name:"伊金霍洛旗",value:"150627",parent:"150600"},{name:"海拉尔区",value:"150702",parent:"150700"},{name:"扎赉诺尔区",value:"150703",parent:"150700"},{name:"阿荣旗",value:"150721",parent:"150700"},{name:"莫力达瓦达斡尔族自治旗",value:"150722",parent:"150700"},{name:"鄂伦春自治旗",value:"150723",parent:"150700"},{name:"鄂温克族自治旗",value:"150724",parent:"150700"},{name:"陈巴尔虎旗",value:"150725",parent:"150700"},{name:"新巴尔虎左旗",value:"150726",parent:"150700"},{name:"新巴尔虎右旗",value:"150727",parent:"150700"},{name:"满洲里市",value:"150781",parent:"150700"},{name:"牙克石市",value:"150782",parent:"150700"},{name:"扎兰屯市",value:"150783",parent:"150700"},{name:"额尔古纳市",value:"150784",parent:"150700"},{name:"根河市",value:"150785",parent:"150700"},{name:"临河区",value:"150802",parent:"150800"},{name:"五原县",value:"150821",parent:"150800"},{name:"磴口县",value:"150822",parent:"150800"},{name:"乌拉特前旗",value:"150823",parent:"150800"},{name:"乌拉特中旗",value:"150824",parent:"150800"},{name:"乌拉特后旗",value:"150825",parent:"150800"},{name:"杭锦后旗",value:"150826",parent:"150800"},{name:"集宁区",value:"150902",parent:"150900"},{name:"卓资县",value:"150921",parent:"150900"},{name:"化德县",value:"150922",parent:"150900"},{name:"商都县",value:"150923",parent:"150900"},{name:"兴和县",value:"150924",parent:"150900"},{name:"凉城县",value:"150925",parent:"150900"},{name:"察哈尔右翼前旗",value:"150926",parent:"150900"},{name:"察哈尔右翼中旗",value:"150927",parent:"150900"},{name:"察哈尔右翼后旗",value:"150928",parent:"150900"},{name:"四子王旗",value:"150929",parent:"150900"},{name:"丰镇市",value:"150981",parent:"150900"},{name:"乌兰浩特市",value:"152201",parent:"152200"},{name:"阿尔山市",value:"152202",parent:"152200"},{name:"科尔沁右翼前旗",value:"152221",parent:"152200"},{name:"科尔沁右翼中旗",value:"152222",parent:"152200"},{name:"扎赉特旗",value:"152223",parent:"152200"},{name:"突泉县",value:"152224",parent:"152200"},{name:"二连浩特市",value:"152501",parent:"152500"},{name:"锡林浩特市",value:"152502",parent:"152500"},{name:"阿巴嘎旗",value:"152522",parent:"152500"},{name:"苏尼特左旗",value:"152523",parent:"152500"},{name:"苏尼特右旗",value:"152524",parent:"152500"},{name:"东乌珠穆沁旗",value:"152525",parent:"152500"},{name:"西乌珠穆沁旗",value:"152526",parent:"152500"},{name:"太仆寺旗",value:"152527",parent:"152500"},{name:"镶黄旗",value:"152528",parent:"152500"},{name:"正镶白旗",value:"152529",parent:"152500"},{name:"正蓝旗",value:"152530",parent:"152500"},{name:"多伦县",value:"152531",parent:"152500"},{name:"阿拉善左旗",value:"152921",parent:"152900"},{name:"阿拉善右旗",value:"152922",parent:"152900"},{name:"额济纳旗",value:"152923",parent:"152900"},{name:"沈阳市",value:"210100",parent:"210000"},{name:"大连市",value:"210200",parent:"210000"},{name:"鞍山市",value:"210300",parent:"210000"},{name:"抚顺市",value:"210400",parent:"210000"},{name:"本溪市",value:"210500",parent:"210000"},{name:"丹东市",value:"210600",parent:"210000"},{name:"锦州市",value:"210700",parent:"210000"},{name:"营口市",value:"210800",parent:"210000"},{name:"阜新市",value:"210900",parent:"210000"},{name:"辽阳市",value:"211000",parent:"210000"},{name:"盘锦市",value:"211100",parent:"210000"},{name:"铁岭市",value:"211200",parent:"210000"},{name:"朝阳市",value:"211300",parent:"210000"},{name:"葫芦岛市",value:"211400",parent:"210000"},{name:"和平区",value:"210102",parent:"210100"},{name:"沈河区",value:"210103",parent:"210100"},{name:"大东区",value:"210104",parent:"210100"},{name:"皇姑区",value:"210105",parent:"210100"},{name:"铁西区",value:"210106",parent:"210100"},{name:"苏家屯区",value:"210111",parent:"210100"},{name:"浑南区",value:"210112",parent:"210100"},{name:"沈北新区",value:"210113",parent:"210100"},{name:"于洪区",value:"210114",parent:"210100"},{name:"辽中区",value:"210115",parent:"210100"},{name:"康平县",value:"210123",parent:"210100"},{name:"法库县",value:"210124",parent:"210100"},{name:"新民市",value:"210181",parent:"210100"},{name:"中山区",value:"210202",parent:"210200"},{name:"西岗区",value:"210203",parent:"210200"},{name:"沙河口区",value:"210204",parent:"210200"},{name:"甘井子区",value:"210211",parent:"210200"},{name:"旅顺口区",value:"210212",parent:"210200"},{name:"金州区",value:"210213",parent:"210200"},{name:"普兰店区",value:"210214",parent:"210200"},{name:"长海县",value:"210224",parent:"210200"},{name:"瓦房店市",value:"210281",parent:"210200"},{name:"庄河市",value:"210283",parent:"210200"},{name:"铁东区",value:"210302",parent:"210300"},{name:"铁西区",value:"210303",parent:"210300"},{name:"立山区",value:"210304",parent:"210300"},{name:"千山区",value:"210311",parent:"210300"},{name:"台安县",value:"210321",parent:"210300"},{name:"岫岩满族自治县",value:"210323",parent:"210300"},{name:"海城市",value:"210381",parent:"210300"},{name:"新抚区",value:"210402",parent:"210400"},{name:"东洲区",value:"210403",parent:"210400"},{name:"望花区",value:"210404",parent:"210400"},{name:"顺城区",value:"210411",parent:"210400"},{name:"抚顺县",value:"210421",parent:"210400"},{name:"新宾满族自治县",value:"210422",parent:"210400"},{name:"清原满族自治县",value:"210423",parent:"210400"},{name:"平山区",value:"210502",parent:"210500"},{name:"溪湖区",value:"210503",parent:"210500"},{name:"明山区",value:"210504",parent:"210500"},{name:"南芬区",value:"210505",parent:"210500"},{name:"本溪满族自治县",value:"210521",parent:"210500"},{name:"桓仁满族自治县",value:"210522",parent:"210500"},{name:"元宝区",value:"210602",parent:"210600"},{name:"振兴区",value:"210603",parent:"210600"},{name:"振安区",value:"210604",parent:"210600"},{name:"宽甸满族自治县",value:"210624",parent:"210600"},{name:"东港市",value:"210681",parent:"210600"},{name:"凤城市",value:"210682",parent:"210600"},{name:"古塔区",value:"210702",parent:"210700"},{name:"凌河区",value:"210703",parent:"210700"},{name:"太和区",value:"210711",parent:"210700"},{name:"黑山县",value:"210726",parent:"210700"},{name:"义县",value:"210727",parent:"210700"},{name:"凌海市",value:"210781",parent:"210700"},{name:"北镇市",value:"210782",parent:"210700"},{name:"站前区",value:"210802",parent:"210800"},{name:"西市区",value:"210803",parent:"210800"},{name:"鲅鱼圈区",value:"210804",parent:"210800"},{name:"老边区",value:"210811",parent:"210800"},{name:"盖州市",value:"210881",parent:"210800"},{name:"大石桥市",value:"210882",parent:"210800"},{name:"海州区",value:"210902",parent:"210900"},{name:"新邱区",value:"210903",parent:"210900"},{name:"太平区",value:"210904",parent:"210900"},{name:"清河门区",value:"210905",parent:"210900"},{name:"细河区",value:"210911",parent:"210900"},{name:"阜新蒙古族自治县",value:"210921",parent:"210900"},{name:"彰武县",value:"210922",parent:"210900"},{name:"白塔区",value:"211002",parent:"211000"},{name:"文圣区",value:"211003",parent:"211000"},{name:"宏伟区",value:"211004",parent:"211000"},{name:"弓长岭区",value:"211005",parent:"211000"},{name:"太子河区",value:"211011",parent:"211000"},{name:"辽阳县",value:"211021",parent:"211000"},{name:"灯塔市",value:"211081",parent:"211000"},{name:"双台子区",value:"211102",parent:"211100"},{name:"兴隆台区",value:"211103",parent:"211100"},{name:"大洼区",value:"211104",parent:"211100"},{name:"盘山县",value:"211122",parent:"211100"},{name:"银州区",value:"211202",parent:"211200"},{name:"清河区",value:"211204",parent:"211200"},{name:"铁岭县",value:"211221",parent:"211200"},{name:"西丰县",value:"211223",parent:"211200"},{name:"昌图县",value:"211224",parent:"211200"},{name:"调兵山市",value:"211281",parent:"211200"},{name:"开原市",value:"211282",parent:"211200"},{name:"双塔区",value:"211302",parent:"211300"},{name:"龙城区",value:"211303",parent:"211300"},{name:"朝阳县",value:"211321",parent:"211300"},{name:"建平县",value:"211322",parent:"211300"},{name:"喀喇沁左翼蒙古族自治县",value:"211324",parent:"211300"},{name:"北票市",value:"211381",parent:"211300"},{name:"凌源市",value:"211382",parent:"211300"},{name:"连山区",value:"211402",parent:"211400"},{name:"龙港区",value:"211403",parent:"211400"},{name:"南票区",value:"211404",parent:"211400"},{name:"绥中县",value:"211421",parent:"211400"},{name:"建昌县",value:"211422",parent:"211400"},{name:"兴城市",value:"211481",parent:"211400"},{name:"长春市",value:"220100",parent:"220000"},{name:"吉林市",value:"220200",parent:"220000"},{name:"四平市",value:"220300",parent:"220000"},{name:"辽源市",value:"220400",parent:"220000"},{name:"通化市",value:"220500",parent:"220000"},{name:"白山市",value:"220600",parent:"220000"},{name:"松原市",value:"220700",parent:"220000"},{name:"白城市",value:"220800",parent:"220000"},{name:"延边朝鲜族自治州",value:"222400",parent:"220000"},{name:"南关区",value:"220102",parent:"220100"},{name:"宽城区",value:"220103",parent:"220100"},{name:"朝阳区",value:"220104",parent:"220100"},{name:"二道区",value:"220105",parent:"220100"},{name:"绿园区",value:"220106",parent:"220100"},{name:"双阳区",value:"220112",parent:"220100"},{name:"九台区",value:"220113",parent:"220100"},{name:"农安县",value:"220122",parent:"220100"},{name:"榆树市",value:"220182",parent:"220100"},{name:"德惠市",value:"220183",parent:"220100"},{name:"昌邑区",value:"220202",parent:"220200"},{name:"龙潭区",value:"220203",parent:"220200"},{name:"船营区",value:"220204",parent:"220200"},{name:"丰满区",value:"220211",parent:"220200"},{name:"永吉县",value:"220221",parent:"220200"},{name:"蛟河市",value:"220281",parent:"220200"},{name:"桦甸市",value:"220282",parent:"220200"},{name:"舒兰市",value:"220283",parent:"220200"},{name:"磐石市",value:"220284",parent:"220200"},{name:"铁西区",value:"220302",parent:"220300"},{name:"铁东区",value:"220303",parent:"220300"},{name:"梨树县",value:"220322",parent:"220300"},{name:"伊通满族自治县",value:"220323",parent:"220300"},{name:"公主岭市",value:"220381",parent:"220300"},{name:"双辽市",value:"220382",parent:"220300"},{name:"龙山区",value:"220402",parent:"220400"},{name:"西安区",value:"220403",parent:"220400"},{name:"东丰县",value:"220421",parent:"220400"},{name:"东辽县",value:"220422",parent:"220400"},{name:"东昌区",value:"220502",parent:"220500"},{name:"二道江区",value:"220503",parent:"220500"},{name:"通化县",value:"220521",parent:"220500"},{name:"辉南县",value:"220523",parent:"220500"},{name:"柳河县",value:"220524",parent:"220500"},{name:"梅河口市",value:"220581",parent:"220500"},{name:"集安市",value:"220582",parent:"220500"},{name:"浑江区",value:"220602",parent:"220600"},{name:"江源区",value:"220605",parent:"220600"},{name:"抚松县",value:"220621",parent:"220600"},{name:"靖宇县",value:"220622",parent:"220600"},{name:"长白朝鲜族自治县",value:"220623",parent:"220600"},{name:"临江市",value:"220681",parent:"220600"},{name:"宁江区",value:"220702",parent:"220700"},{name:"前郭尔罗斯蒙古族自治县",value:"220721",parent:"220700"},{name:"长岭县",value:"220722",parent:"220700"},{name:"乾安县",value:"220723",parent:"220700"},{name:"扶余市",value:"220781",parent:"220700"},{name:"洮北区",value:"220802",parent:"220800"},{name:"镇赉县",value:"220821",parent:"220800"},{name:"通榆县",value:"220822",parent:"220800"},{name:"洮南市",value:"220881",parent:"220800"},{name:"大安市",value:"220882",parent:"220800"},{name:"延吉市",value:"222401",parent:"222400"},{name:"图们市",value:"222402",parent:"222400"},{name:"敦化市",value:"222403",parent:"222400"},{name:"珲春市",value:"222404",parent:"222400"},{name:"龙井市",value:"222405",parent:"222400"},{name:"和龙市",value:"222406",parent:"222400"},{name:"汪清县",value:"222424",parent:"222400"},{name:"安图县",value:"222426",parent:"222400"},{name:"哈尔滨市",value:"230100",parent:"230000"},{name:"齐齐哈尔市",value:"230200",parent:"230000"},{name:"鸡西市",value:"230300",parent:"230000"},{name:"鹤岗市",value:"230400",parent:"230000"},{name:"双鸭山市",value:"230500",parent:"230000"},{name:"大庆市",value:"230600",parent:"230000"},{name:"伊春市",value:"230700",parent:"230000"},{name:"佳木斯市",value:"230800",parent:"230000"},{name:"七台河市",value:"230900",parent:"230000"},{name:"牡丹江市",value:"231000",parent:"230000"},{name:"黑河市",value:"231100",parent:"230000"},{name:"绥化市",value:"231200",parent:"230000"},{name:"大兴安岭地区",value:"232700",parent:"230000"},{name:"道里区",value:"230102",parent:"230100"},{name:"南岗区",value:"230103",parent:"230100"},{name:"道外区",value:"230104",parent:"230100"},{name:"平房区",value:"230108",parent:"230100"},{name:"松北区",value:"230109",parent:"230100"},{name:"香坊区",value:"230110",parent:"230100"},{name:"呼兰区",value:"230111",parent:"230100"},{name:"阿城区",value:"230112",parent:"230100"},{name:"双城区",value:"230113",parent:"230100"},{name:"依兰县",value:"230123",parent:"230100"},{name:"方正县",value:"230124",parent:"230100"},{name:"宾县",value:"230125",parent:"230100"},{name:"巴彦县",value:"230126",parent:"230100"},{name:"木兰县",value:"230127",parent:"230100"},{name:"通河县",value:"230128",parent:"230100"},{name:"延寿县",value:"230129",parent:"230100"},{name:"尚志市",value:"230183",parent:"230100"},{name:"五常市",value:"230184",parent:"230100"},{name:"龙沙区",value:"230202",parent:"230200"},{name:"建华区",value:"230203",parent:"230200"},{name:"铁锋区",value:"230204",parent:"230200"},{name:"昂昂溪区",value:"230205",parent:"230200"},{name:"富拉尔基区",value:"230206",parent:"230200"},{name:"碾子山区",value:"230207",parent:"230200"},{name:"梅里斯达斡尔族区",value:"230208",parent:"230200"},{name:"龙江县",value:"230221",parent:"230200"},{name:"依安县",value:"230223",parent:"230200"},{name:"泰来县",value:"230224",parent:"230200"},{name:"甘南县",value:"230225",parent:"230200"},{name:"富裕县",value:"230227",parent:"230200"},{name:"克山县",value:"230229",parent:"230200"},{name:"克东县",value:"230230",parent:"230200"},{name:"拜泉县",value:"230231",parent:"230200"},{name:"讷河市",value:"230281",parent:"230200"},{name:"鸡冠区",value:"230302",parent:"230300"},{name:"恒山区",value:"230303",parent:"230300"},{name:"滴道区",value:"230304",parent:"230300"},{name:"梨树区",value:"230305",parent:"230300"},{name:"城子河区",value:"230306",parent:"230300"},{name:"麻山区",value:"230307",parent:"230300"},{name:"鸡东县",value:"230321",parent:"230300"},{name:"虎林市",value:"230381",parent:"230300"},{name:"密山市",value:"230382",parent:"230300"},{name:"向阳区",value:"230402",parent:"230400"},{name:"工农区",value:"230403",parent:"230400"},{name:"南山区",value:"230404",parent:"230400"},{name:"兴安区",value:"230405",parent:"230400"},{name:"东山区",value:"230406",parent:"230400"},{name:"兴山区",value:"230407",parent:"230400"},{name:"萝北县",value:"230421",parent:"230400"},{name:"绥滨县",value:"230422",parent:"230400"},{name:"尖山区",value:"230502",parent:"230500"},{name:"岭东区",value:"230503",parent:"230500"},{name:"四方台区",value:"230505",parent:"230500"},{name:"宝山区",value:"230506",parent:"230500"},{name:"集贤县",value:"230521",parent:"230500"},{name:"友谊县",value:"230522",parent:"230500"},{name:"宝清县",value:"230523",parent:"230500"},{name:"饶河县",value:"230524",parent:"230500"},{name:"萨尔图区",value:"230602",parent:"230600"},{name:"龙凤区",value:"230603",parent:"230600"},{name:"让胡路区",value:"230604",parent:"230600"},{name:"红岗区",value:"230605",parent:"230600"},{name:"大同区",value:"230606",parent:"230600"},{name:"肇州县",value:"230621",parent:"230600"},{name:"肇源县",value:"230622",parent:"230600"},{name:"林甸县",value:"230623",parent:"230600"},{name:"杜尔伯特蒙古族自治县",value:"230624",parent:"230600"},{name:"伊春区",value:"230702",parent:"230700"},{name:"南岔区",value:"230703",parent:"230700"},{name:"友好区",value:"230704",parent:"230700"},{name:"西林区",value:"230705",parent:"230700"},{name:"翠峦区",value:"230706",parent:"230700"},{name:"新青区",value:"230707",parent:"230700"},{name:"美溪区",value:"230708",parent:"230700"},{name:"金山屯区",value:"230709",parent:"230700"},{name:"五营区",value:"230710",parent:"230700"},{name:"乌马河区",value:"230711",parent:"230700"},{name:"汤旺河区",value:"230712",parent:"230700"},{name:"带岭区",value:"230713",parent:"230700"},{name:"乌伊岭区",value:"230714",parent:"230700"},{name:"红星区",value:"230715",parent:"230700"},{name:"上甘岭区",value:"230716",parent:"230700"},{name:"嘉荫县",value:"230722",parent:"230700"},{name:"铁力市",value:"230781",parent:"230700"},{name:"向阳区",value:"230803",parent:"230800"},{name:"前进区",value:"230804",parent:"230800"},{name:"东风区",value:"230805",parent:"230800"},{name:"郊区",value:"230811",parent:"230800"},{name:"桦南县",value:"230822",parent:"230800"},{name:"桦川县",value:"230826",parent:"230800"},{name:"汤原县",value:"230828",parent:"230800"},{name:"同江市",value:"230881",parent:"230800"},{name:"富锦市",value:"230882",parent:"230800"},{name:"抚远市",value:"230883",parent:"230800"},{name:"新兴区",value:"230902",parent:"230900"},{name:"桃山区",value:"230903",parent:"230900"},{name:"茄子河区",value:"230904",parent:"230900"},{name:"勃利县",value:"230921",parent:"230900"},{name:"东安区",value:"231002",parent:"231000"},{name:"阳明区",value:"231003",parent:"231000"},{name:"爱民区",value:"231004",parent:"231000"},{name:"西安区",value:"231005",parent:"231000"},{name:"林口县",value:"231025",parent:"231000"},{name:"绥芬河市",value:"231081",parent:"231000"},{name:"海林市",value:"231083",parent:"231000"},{name:"宁安市",value:"231084",parent:"231000"},{name:"穆棱市",value:"231085",parent:"231000"},{name:"东宁市",value:"231086",parent:"231000"},{name:"爱辉区",value:"231102",parent:"231100"},{name:"嫩江县",value:"231121",parent:"231100"},{name:"逊克县",value:"231123",parent:"231100"},{name:"孙吴县",value:"231124",parent:"231100"},{name:"北安市",value:"231181",parent:"231100"},{name:"五大连池市",value:"231182",parent:"231100"},{name:"北林区",value:"231202",parent:"231200"},{name:"望奎县",value:"231221",parent:"231200"},{name:"兰西县",value:"231222",parent:"231200"},{name:"青冈县",value:"231223",parent:"231200"},{name:"庆安县",value:"231224",parent:"231200"},{name:"明水县",value:"231225",parent:"231200"},{name:"绥棱县",value:"231226",parent:"231200"},{name:"安达市",value:"231281",parent:"231200"},{name:"肇东市",value:"231282",parent:"231200"},{name:"海伦市",value:"231283",parent:"231200"},{name:"呼玛县",value:"232721",parent:"232700"},{name:"塔河县",value:"232722",parent:"232700"},{name:"漠河县",value:"232723",parent:"232700"},{name:"市辖区",value:"310100",parent:"310000"},{name:"黄浦区",value:"310101",parent:"310100"},{name:"徐汇区",value:"310104",parent:"310100"},{name:"长宁区",value:"310105",parent:"310100"},{name:"静安区",value:"310106",parent:"310100"},{name:"普陀区",value:"310107",parent:"310100"},{name:"虹口区",value:"310109",parent:"310100"},{name:"杨浦区",value:"310110",parent:"310100"},{name:"闵行区",value:"310112",parent:"310100"},{name:"宝山区",value:"310113",parent:"310100"},{name:"嘉定区",value:"310114",parent:"310100"},{name:"浦东新区",value:"310115",parent:"310100"},{name:"金山区",value:"310116",parent:"310100"},{name:"松江区",value:"310117",parent:"310100"},{name:"青浦区",value:"310118",parent:"310100"},{name:"奉贤区",value:"310120",parent:"310100"},{name:"崇明区",value:"310151",parent:"310100"},{name:"南京市",value:"320100",parent:"320000"},{name:"无锡市",value:"320200",parent:"320000"},{name:"徐州市",value:"320300",parent:"320000"},{name:"常州市",value:"320400",parent:"320000"},{name:"苏州市",value:"320500",parent:"320000"},{name:"南通市",value:"320600",parent:"320000"},{name:"连云港市",value:"320700",parent:"320000"},{name:"淮安市",value:"320800",parent:"320000"},{name:"盐城市",value:"320900",parent:"320000"},{name:"扬州市",value:"321000",parent:"320000"},{name:"镇江市",value:"321100",parent:"320000"},{name:"泰州市",value:"321200",parent:"320000"},{name:"宿迁市",value:"321300",parent:"320000"},{name:"玄武区",value:"320102",parent:"320100"},{name:"秦淮区",value:"320104",parent:"320100"},{name:"建邺区",value:"320105",parent:"320100"},{name:"鼓楼区",value:"320106",parent:"320100"},{name:"浦口区",value:"320111",parent:"320100"},{name:"栖霞区",value:"320113",parent:"320100"},{name:"雨花台区",value:"320114",parent:"320100"},{name:"江宁区",value:"320115",parent:"320100"},{name:"六合区",value:"320116",parent:"320100"},{name:"溧水区",value:"320117",parent:"320100"},{name:"高淳区",value:"320118",parent:"320100"},{name:"锡山区",value:"320205",parent:"320200"},{name:"惠山区",value:"320206",parent:"320200"},{name:"滨湖区",value:"320211",parent:"320200"},{name:"梁溪区",value:"320213",parent:"320200"},{name:"新吴区",value:"320214",parent:"320200"},{name:"江阴市",value:"320281",parent:"320200"},{name:"宜兴市",value:"320282",parent:"320200"},{name:"鼓楼区",value:"320302",parent:"320300"},{name:"云龙区",value:"320303",parent:"320300"},{name:"贾汪区",value:"320305",parent:"320300"},{name:"泉山区",value:"320311",parent:"320300"},{name:"铜山区",value:"320312",parent:"320300"},{name:"丰县",value:"320321",parent:"320300"},{name:"沛县",value:"320322",parent:"320300"},{name:"睢宁县",value:"320324",parent:"320300"},{name:"新沂市",value:"320381",parent:"320300"},{name:"邳州市",value:"320382",parent:"320300"},{name:"天宁区",value:"320402",parent:"320400"},{name:"钟楼区",value:"320404",parent:"320400"},{name:"新北区",value:"320411",parent:"320400"},{name:"武进区",value:"320412",parent:"320400"},{name:"金坛区",value:"320413",parent:"320400"},{name:"溧阳市",value:"320481",parent:"320400"},{name:"虎丘区",value:"320505",parent:"320500"},{name:"吴中区",value:"320506",parent:"320500"},{name:"相城区",value:"320507",parent:"320500"},{name:"姑苏区",value:"320508",parent:"320500"},{name:"吴江区",value:"320509",parent:"320500"},{name:"常熟市",value:"320581",parent:"320500"},{name:"张家港市",value:"320582",parent:"320500"},{name:"昆山市",value:"320583",parent:"320500"},{name:"太仓市",value:"320585",parent:"320500"},{name:"崇川区",value:"320602",parent:"320600"},{name:"港闸区",value:"320611",parent:"320600"},{name:"通州区",value:"320612",parent:"320600"},{name:"海安县",value:"320621",parent:"320600"},{name:"如东县",value:"320623",parent:"320600"},{name:"启东市",value:"320681",parent:"320600"},{name:"如皋市",value:"320682",parent:"320600"},{name:"海门市",value:"320684",parent:"320600"},{name:"连云区",value:"320703",parent:"320700"},{name:"海州区",value:"320706",parent:"320700"},{name:"赣榆区",value:"320707",parent:"320700"},{name:"东海县",value:"320722",parent:"320700"},{name:"灌云县",value:"320723",parent:"320700"},{name:"灌南县",value:"320724",parent:"320700"},{name:"淮安区",value:"320803",parent:"320800"},{name:"淮阴区",value:"320804",parent:"320800"},{name:"清江浦区",value:"320812",parent:"320800"},{name:"洪泽区",value:"320813",parent:"320800"},{name:"涟水县",value:"320826",parent:"320800"},{name:"盱眙县",value:"320830",parent:"320800"},{name:"金湖县",value:"320831",parent:"320800"},{name:"亭湖区",value:"320902",parent:"320900"},{name:"盐都区",value:"320903",parent:"320900"},{name:"大丰区",value:"320904",parent:"320900"},{name:"响水县",value:"320921",parent:"320900"},{name:"滨海县",value:"320922",parent:"320900"},{name:"阜宁县",value:"320923",parent:"320900"},{name:"射阳县",value:"320924",parent:"320900"},{name:"建湖县",value:"320925",parent:"320900"},{name:"东台市",value:"320981",parent:"320900"},{name:"广陵区",value:"321002",parent:"321000"},{name:"邗江区",value:"321003",parent:"321000"},{name:"江都区",value:"321012",parent:"321000"},{name:"宝应县",value:"321023",parent:"321000"},{name:"仪征市",value:"321081",parent:"321000"},{name:"高邮市",value:"321084",parent:"321000"},{name:"京口区",value:"321102",parent:"321100"},{name:"润州区",value:"321111",parent:"321100"},{name:"丹徒区",value:"321112",parent:"321100"},{name:"丹阳市",value:"321181",parent:"321100"},{name:"扬中市",value:"321182",parent:"321100"},{name:"句容市",value:"321183",parent:"321100"},{name:"海陵区",value:"321202",parent:"321200"},{name:"高港区",value:"321203",parent:"321200"},{name:"姜堰区",value:"321204",parent:"321200"},{name:"兴化市",value:"321281",parent:"321200"},{name:"靖江市",value:"321282",parent:"321200"},{name:"泰兴市",value:"321283",parent:"321200"},{name:"宿城区",value:"321302",parent:"321300"},{name:"宿豫区",value:"321311",parent:"321300"},{name:"沭阳县",value:"321322",parent:"321300"},{name:"泗阳县",value:"321323",parent:"321300"},{name:"泗洪县",value:"321324",parent:"321300"},{name:"杭州市",value:"330100",parent:"330000"},{name:"宁波市",value:"330200",parent:"330000"},{name:"温州市",value:"330300",parent:"330000"},{name:"嘉兴市",value:"330400",parent:"330000"},{name:"湖州市",value:"330500",parent:"330000"},{name:"绍兴市",value:"330600",parent:"330000"},{name:"金华市",value:"330700",parent:"330000"},{name:"衢州市",value:"330800",parent:"330000"},{name:"舟山市",value:"330900",parent:"330000"},{name:"台州市",value:"331000",parent:"330000"},{name:"丽水市",value:"331100",parent:"330000"},{name:"上城区",value:"330102",parent:"330100"},{name:"下城区",value:"330103",parent:"330100"},{name:"江干区",value:"330104",parent:"330100"},{name:"拱墅区",value:"330105",parent:"330100"},{name:"西湖区",value:"330106",parent:"330100"},{name:"滨江区",value:"330108",parent:"330100"},{name:"萧山区",value:"330109",parent:"330100"},{name:"余杭区",value:"330110",parent:"330100"},{name:"富阳区",value:"330111",parent:"330100"},{name:"桐庐县",value:"330122",parent:"330100"},{name:"淳安县",value:"330127",parent:"330100"},{name:"建德市",value:"330182",parent:"330100"},{name:"临安市",value:"330185",parent:"330100"},{name:"海曙区",value:"330203",parent:"330200"},{name:"江东区",value:"330204",parent:"330200"},{name:"江北区",value:"330205",parent:"330200"},{name:"北仑区",value:"330206",parent:"330200"},{name:"镇海区",value:"330211",parent:"330200"},{name:"鄞州区",value:"330212",parent:"330200"},{name:"象山县",value:"330225",parent:"330200"},{name:"宁海县",value:"330226",parent:"330200"},{name:"余姚市",value:"330281",parent:"330200"},{name:"慈溪市",value:"330282",parent:"330200"},{name:"奉化市",value:"330283",parent:"330200"},{name:"鹿城区",value:"330302",parent:"330300"},{name:"龙湾区",value:"330303",parent:"330300"},{name:"瓯海区",value:"330304",parent:"330300"},{name:"洞头区",value:"330305",parent:"330300"},{name:"永嘉县",value:"330324",parent:"330300"},{name:"平阳县",value:"330326",parent:"330300"},{name:"苍南县",value:"330327",parent:"330300"},{name:"文成县",value:"330328",parent:"330300"},{name:"泰顺县",value:"330329",parent:"330300"},{name:"瑞安市",value:"330381",parent:"330300"},{name:"乐清市",value:"330382",parent:"330300"},{name:"南湖区",value:"330402",parent:"330400"},{name:"秀洲区",value:"330411",parent:"330400"},{name:"嘉善县",value:"330421",parent:"330400"},{name:"海盐县",value:"330424",parent:"330400"},{name:"海宁市",value:"330481",parent:"330400"},{name:"平湖市",value:"330482",parent:"330400"},{name:"桐乡市",value:"330483",parent:"330400"},{name:"吴兴区",value:"330502",parent:"330500"},{name:"南浔区",value:"330503",parent:"330500"},{name:"德清县",value:"330521",parent:"330500"},{name:"长兴县",value:"330522",parent:"330500"},{name:"安吉县",value:"330523",parent:"330500"},{name:"越城区",value:"330602",parent:"330600"},{name:"柯桥区",value:"330603",parent:"330600"},{name:"上虞区",value:"330604",parent:"330600"},{name:"新昌县",value:"330624",parent:"330600"},{name:"诸暨市",value:"330681",parent:"330600"},{name:"嵊州市",value:"330683",parent:"330600"},{name:"婺城区",value:"330702",parent:"330700"},{name:"金东区",value:"330703",parent:"330700"},{name:"武义县",value:"330723",parent:"330700"},{name:"浦江县",value:"330726",parent:"330700"},{name:"磐安县",value:"330727",parent:"330700"},{name:"兰溪市",value:"330781",parent:"330700"},{name:"义乌市",value:"330782",parent:"330700"},{name:"东阳市",value:"330783",parent:"330700"},{name:"永康市",value:"330784",parent:"330700"},{name:"柯城区",value:"330802",parent:"330800"},{name:"衢江区",value:"330803",parent:"330800"},{name:"常山县",value:"330822",parent:"330800"},{name:"开化县",value:"330824",parent:"330800"},{name:"龙游县",value:"330825",parent:"330800"},{name:"江山市",value:"330881",parent:"330800"},{name:"定海区",value:"330902",parent:"330900"},{name:"普陀区",value:"330903",parent:"330900"},{name:"岱山县",value:"330921",parent:"330900"},{name:"嵊泗县",value:"330922",parent:"330900"},{name:"椒江区",value:"331002",parent:"331000"},{name:"黄岩区",value:"331003",parent:"331000"},{name:"路桥区",value:"331004",parent:"331000"},{name:"玉环县",value:"331021",parent:"331000"},{name:"三门县",value:"331022",parent:"331000"},{name:"天台县",value:"331023",parent:"331000"},{name:"仙居县",value:"331024",parent:"331000"},{name:"温岭市",value:"331081",parent:"331000"},{name:"临海市",value:"331082",parent:"331000"},{name:"莲都区",value:"331102",parent:"331100"},{name:"青田县",value:"331121",parent:"331100"},{name:"缙云县",value:"331122",parent:"331100"},{name:"遂昌县",value:"331123",parent:"331100"},{name:"松阳县",value:"331124",parent:"331100"},{name:"云和县",value:"331125",parent:"331100"},{name:"庆元县",value:"331126",parent:"331100"},{name:"景宁畲族自治县",value:"331127",parent:"331100"},{name:"龙泉市",value:"331181",parent:"331100"},{name:"合肥市",value:"340100",parent:"340000"},{name:"芜湖市",value:"340200",parent:"340000"},{name:"蚌埠市",value:"340300",parent:"340000"},{name:"淮南市",value:"340400",parent:"340000"},{name:"马鞍山市",value:"340500",parent:"340000"},{name:"淮北市",value:"340600",parent:"340000"},{name:"铜陵市",value:"340700",parent:"340000"},{name:"安庆市",value:"340800",parent:"340000"},{name:"黄山市",value:"341000",parent:"340000"},{name:"滁州市",value:"341100",parent:"340000"},{name:"阜阳市",value:"341200",parent:"340000"},{name:"宿州市",value:"341300",parent:"340000"},{name:"六安市",value:"341500",parent:"340000"},{name:"亳州市",value:"341600",parent:"340000"},{name:"池州市",value:"341700",parent:"340000"},{name:"宣城市",value:"341800",parent:"340000"},{name:"瑶海区",value:"340102",parent:"340100"},{name:"庐阳区",value:"340103",parent:"340100"},{name:"蜀山区",value:"340104",parent:"340100"},{name:"包河区",value:"340111",parent:"340100"},{name:"长丰县",value:"340121",parent:"340100"},{name:"肥东县",value:"340122",parent:"340100"},{name:"肥西县",value:"340123",parent:"340100"},{name:"庐江县",value:"340124",parent:"340100"},{name:"巢湖市",value:"340181",parent:"340100"},{name:"镜湖区",value:"340202",parent:"340200"},{name:"弋江区",value:"340203",parent:"340200"},{name:"鸠江区",value:"340207",parent:"340200"},{name:"三山区",value:"340208",parent:"340200"},{name:"芜湖县",value:"340221",parent:"340200"},{name:"繁昌县",value:"340222",parent:"340200"},{name:"南陵县",value:"340223",parent:"340200"},{name:"无为县",value:"340225",parent:"340200"},{name:"龙子湖区",value:"340302",parent:"340300"},{name:"蚌山区",value:"340303",parent:"340300"},{name:"禹会区",value:"340304",parent:"340300"},{name:"淮上区",value:"340311",parent:"340300"},{name:"怀远县",value:"340321",parent:"340300"},{name:"五河县",value:"340322",parent:"340300"},{name:"固镇县",value:"340323",parent:"340300"},{name:"大通区",value:"340402",parent:"340400"},{name:"田家庵区",value:"340403",parent:"340400"},{name:"谢家集区",value:"340404",parent:"340400"},{name:"八公山区",value:"340405",parent:"340400"},{name:"潘集区",value:"340406",parent:"340400"},{name:"凤台县",value:"340421",parent:"340400"},{name:"寿县",value:"340422",parent:"340400"},{name:"花山区",value:"340503",parent:"340500"},{name:"雨山区",value:"340504",parent:"340500"},{name:"博望区",value:"340506",parent:"340500"},{name:"当涂县",value:"340521",parent:"340500"},{name:"含山县",value:"340522",parent:"340500"},{name:"和县",value:"340523",parent:"340500"},{name:"杜集区",value:"340602",parent:"340600"},{name:"相山区",value:"340603",parent:"340600"},{name:"烈山区",value:"340604",parent:"340600"},{name:"濉溪县",value:"340621",parent:"340600"},{name:"铜官区",value:"340705",parent:"340700"},{name:"义安区",value:"340706",parent:"340700"},{name:"郊区",value:"340711",parent:"340700"},{name:"枞阳县",value:"340722",parent:"340700"},{name:"迎江区",value:"340802",parent:"340800"},{name:"大观区",value:"340803",parent:"340800"},{name:"宜秀区",value:"340811",parent:"340800"},{name:"怀宁县",value:"340822",parent:"340800"},{name:"潜山县",value:"340824",parent:"340800"},{name:"太湖县",value:"340825",parent:"340800"},{name:"宿松县",value:"340826",parent:"340800"},{name:"望江县",value:"340827",parent:"340800"},{name:"岳西县",value:"340828",parent:"340800"},{name:"桐城市",value:"340881",parent:"340800"},{name:"屯溪区",value:"341002",parent:"341000"},{name:"黄山区",value:"341003",parent:"341000"},{name:"徽州区",value:"341004",parent:"341000"},{name:"歙县",value:"341021",parent:"341000"},{name:"休宁县",value:"341022",parent:"341000"},{name:"黟县",value:"341023",parent:"341000"},{name:"祁门县",value:"341024",parent:"341000"},{name:"琅琊区",value:"341102",parent:"341100"},{name:"南谯区",value:"341103",parent:"341100"},{name:"来安县",value:"341122",parent:"341100"},{name:"全椒县",value:"341124",parent:"341100"},{name:"定远县",value:"341125",parent:"341100"},{name:"凤阳县",value:"341126",parent:"341100"},{name:"天长市",value:"341181",parent:"341100"},{name:"明光市",value:"341182",parent:"341100"},{name:"颍州区",value:"341202",parent:"341200"},{name:"颍东区",value:"341203",parent:"341200"},{name:"颍泉区",value:"341204",parent:"341200"},{name:"临泉县",value:"341221",parent:"341200"},{name:"太和县",value:"341222",parent:"341200"},{name:"阜南县",value:"341225",parent:"341200"},{name:"颍上县",value:"341226",parent:"341200"},{name:"界首市",value:"341282",parent:"341200"},{name:"埇桥区",value:"341302",parent:"341300"},{name:"砀山县",value:"341321",parent:"341300"},{name:"萧县",value:"341322",parent:"341300"},{name:"灵璧县",value:"341323",parent:"341300"},{name:"泗县",value:"341324",parent:"341300"},{name:"金安区",value:"341502",parent:"341500"},{name:"裕安区",value:"341503",parent:"341500"},{name:"叶集区",value:"341504",parent:"341500"},{name:"霍邱县",value:"341522",parent:"341500"},{name:"舒城县",value:"341523",parent:"341500"},{name:"金寨县",value:"341524",parent:"341500"},{name:"霍山县",value:"341525",parent:"341500"},{name:"谯城区",value:"341602",parent:"341600"},{name:"涡阳县",value:"341621",parent:"341600"},{name:"蒙城县",value:"341622",parent:"341600"},{name:"利辛县",value:"341623",parent:"341600"},{name:"贵池区",value:"341702",parent:"341700"},{name:"东至县",value:"341721",parent:"341700"},{name:"石台县",value:"341722",parent:"341700"},{name:"青阳县",value:"341723",parent:"341700"},{name:"宣州区",value:"341802",parent:"341800"},{name:"郎溪县",value:"341821",parent:"341800"},{name:"广德县",value:"341822",parent:"341800"},{name:"泾县",value:"341823",parent:"341800"},{name:"绩溪县",value:"341824",parent:"341800"},{name:"旌德县",value:"341825",parent:"341800"},{name:"宁国市",value:"341881",parent:"341800"},{name:"福州市",value:"350100",parent:"350000"},{name:"厦门市",value:"350200",parent:"350000"},{name:"莆田市",value:"350300",parent:"350000"},{name:"三明市",value:"350400",parent:"350000"},{name:"泉州市",value:"350500",parent:"350000"},{name:"漳州市",value:"350600",parent:"350000"},{name:"南平市",value:"350700",parent:"350000"},{name:"龙岩市",value:"350800",parent:"350000"},{name:"宁德市",value:"350900",parent:"350000"},{name:"鼓楼区",value:"350102",parent:"350100"},{name:"台江区",value:"350103",parent:"350100"},{name:"仓山区",value:"350104",parent:"350100"},{name:"马尾区",value:"350105",parent:"350100"},{name:"晋安区",value:"350111",parent:"350100"},{name:"闽侯县",value:"350121",parent:"350100"},{name:"连江县",value:"350122",parent:"350100"},{name:"罗源县",value:"350123",parent:"350100"},{name:"闽清县",value:"350124",parent:"350100"},{name:"永泰县",value:"350125",parent:"350100"},{name:"平潭县",value:"350128",parent:"350100"},{name:"福清市",value:"350181",parent:"350100"},{name:"长乐市",value:"350182",parent:"350100"},{name:"思明区",value:"350203",parent:"350200"},{name:"海沧区",value:"350205",parent:"350200"},{name:"湖里区",value:"350206",parent:"350200"},{name:"集美区",value:"350211",parent:"350200"},{name:"同安区",value:"350212",parent:"350200"},{name:"翔安区",value:"350213",parent:"350200"},{name:"城厢区",value:"350302",parent:"350300"},{name:"涵江区",value:"350303",parent:"350300"},{name:"荔城区",value:"350304",parent:"350300"},{name:"秀屿区",value:"350305",parent:"350300"},{name:"仙游县",value:"350322",parent:"350300"},{name:"梅列区",value:"350402",parent:"350400"},{name:"三元区",value:"350403",parent:"350400"},{name:"明溪县",value:"350421",parent:"350400"},{name:"清流县",value:"350423",parent:"350400"},{name:"宁化县",value:"350424",parent:"350400"},{name:"大田县",value:"350425",parent:"350400"},{name:"尤溪县",value:"350426",parent:"350400"},{name:"沙县",value:"350427",parent:"350400"},{name:"将乐县",value:"350428",parent:"350400"},{name:"泰宁县",value:"350429",parent:"350400"},{name:"建宁县",value:"350430",parent:"350400"},{name:"永安市",value:"350481",parent:"350400"},{name:"鲤城区",value:"350502",parent:"350500"},{name:"丰泽区",value:"350503",parent:"350500"},{name:"洛江区",value:"350504",parent:"350500"},{name:"泉港区",value:"350505",parent:"350500"},{name:"惠安县",value:"350521",parent:"350500"},{name:"安溪县",value:"350524",parent:"350500"},{name:"永春县",value:"350525",parent:"350500"},{name:"德化县",value:"350526",parent:"350500"},{name:"金门县",value:"350527",parent:"350500"},{name:"石狮市",value:"350581",parent:"350500"},{name:"晋江市",value:"350582",parent:"350500"},{name:"南安市",value:"350583",parent:"350500"},{name:"芗城区",value:"350602",parent:"350600"},{name:"龙文区",value:"350603",parent:"350600"},{name:"云霄县",value:"350622",parent:"350600"},{name:"漳浦县",value:"350623",parent:"350600"},{name:"诏安县",value:"350624",parent:"350600"},{name:"长泰县",value:"350625",parent:"350600"},{name:"东山县",value:"350626",parent:"350600"},{name:"南靖县",value:"350627",parent:"350600"},{name:"平和县",value:"350628",parent:"350600"},{name:"华安县",value:"350629",parent:"350600"},{name:"龙海市",value:"350681",parent:"350600"},{name:"延平区",value:"350702",parent:"350700"},{name:"建阳区",value:"350703",parent:"350700"},{name:"顺昌县",value:"350721",parent:"350700"},{name:"浦城县",value:"350722",parent:"350700"},{name:"光泽县",value:"350723",parent:"350700"},{name:"松溪县",value:"350724",parent:"350700"},{name:"政和县",value:"350725",parent:"350700"},{name:"邵武市",value:"350781",parent:"350700"},{name:"武夷山市",value:"350782",parent:"350700"},{name:"建瓯市",value:"350783",parent:"350700"},{name:"新罗区",value:"350802",parent:"350800"},{name:"永定区",value:"350803",parent:"350800"},{name:"长汀县",value:"350821",parent:"350800"},{name:"上杭县",value:"350823",parent:"350800"},{name:"武平县",value:"350824",parent:"350800"},{name:"连城县",value:"350825",parent:"350800"},{name:"漳平市",value:"350881",parent:"350800"},{name:"蕉城区",value:"350902",parent:"350900"},{name:"霞浦县",value:"350921",parent:"350900"},{name:"古田县",value:"350922",parent:"350900"},{name:"屏南县",value:"350923",parent:"350900"},{name:"寿宁县",value:"350924",parent:"350900"},{name:"周宁县",value:"350925",parent:"350900"},{name:"柘荣县",value:"350926",parent:"350900"},{name:"福安市",value:"350981",parent:"350900"},{name:"福鼎市",value:"350982",parent:"350900"},{name:"南昌市",value:"360100",parent:"360000"},{name:"景德镇市",value:"360200",parent:"360000"},{name:"萍乡市",value:"360300",parent:"360000"},{name:"九江市",value:"360400",parent:"360000"},{name:"新余市",value:"360500",parent:"360000"},{name:"鹰潭市",value:"360600",parent:"360000"},{name:"赣州市",value:"360700",parent:"360000"},{name:"吉安市",value:"360800",parent:"360000"},{name:"宜春市",value:"360900",parent:"360000"},{name:"抚州市",value:"361000",parent:"360000"},{name:"上饶市",value:"361100",parent:"360000"},{name:"东湖区",value:"360102",parent:"360100"},{name:"西湖区",value:"360103",parent:"360100"},{name:"青云谱区",value:"360104",parent:"360100"},{name:"湾里区",value:"360105",parent:"360100"},{name:"青山湖区",value:"360111",parent:"360100"},{name:"新建区",value:"360112",parent:"360100"},{name:"南昌县",value:"360121",parent:"360100"},{name:"安义县",value:"360123",parent:"360100"},{name:"进贤县",value:"360124",parent:"360100"},{name:"昌江区",value:"360202",parent:"360200"},{name:"珠山区",value:"360203",parent:"360200"},{name:"浮梁县",value:"360222",parent:"360200"},{name:"乐平市",value:"360281",parent:"360200"},{name:"安源区",value:"360302",parent:"360300"},{name:"湘东区",value:"360313",parent:"360300"},{name:"莲花县",value:"360321",parent:"360300"},{name:"上栗县",value:"360322",parent:"360300"},{name:"芦溪县",value:"360323",parent:"360300"},{name:"濂溪区",value:"360402",parent:"360400"},{name:"浔阳区",value:"360403",parent:"360400"},{name:"九江县",value:"360421",parent:"360400"},{name:"武宁县",value:"360423",parent:"360400"},{name:"修水县",value:"360424",parent:"360400"},{name:"永修县",value:"360425",parent:"360400"},{name:"德安县",value:"360426",parent:"360400"},{name:"都昌县",value:"360428",parent:"360400"},{name:"湖口县",value:"360429",parent:"360400"},{name:"彭泽县",value:"360430",parent:"360400"},{name:"瑞昌市",value:"360481",parent:"360400"},{name:"共青城市",value:"360482",parent:"360400"},{name:"庐山市",value:"360483",parent:"360400"},{name:"渝水区",value:"360502",parent:"360500"},{name:"分宜县",value:"360521",parent:"360500"},{name:"月湖区",value:"360602",parent:"360600"},{name:"余江县",value:"360622",parent:"360600"},{name:"贵溪市",value:"360681",parent:"360600"},{name:"章贡区",value:"360702",parent:"360700"},{name:"南康区",value:"360703",parent:"360700"},{name:"赣县",value:"360721",parent:"360700"},{name:"信丰县",value:"360722",parent:"360700"},{name:"大余县",value:"360723",parent:"360700"},{name:"上犹县",value:"360724",parent:"360700"},{name:"崇义县",value:"360725",parent:"360700"},{name:"安远县",value:"360726",parent:"360700"},{name:"龙南县",value:"360727",parent:"360700"},{name:"定南县",value:"360728",parent:"360700"},{name:"全南县",value:"360729",parent:"360700"},{name:"宁都县",value:"360730",parent:"360700"},{name:"于都县",value:"360731",parent:"360700"},{name:"兴国县",value:"360732",parent:"360700"},{name:"会昌县",value:"360733",parent:"360700"},{name:"寻乌县",value:"360734",parent:"360700"},{name:"石城县",value:"360735",parent:"360700"},{name:"瑞金市",value:"360781",parent:"360700"},{name:"吉州区",value:"360802",parent:"360800"},{name:"青原区",value:"360803",parent:"360800"},{name:"吉安县",value:"360821",parent:"360800"},{name:"吉水县",value:"360822",parent:"360800"},{name:"峡江县",value:"360823",parent:"360800"},{name:"新干县",value:"360824",parent:"360800"},{name:"永丰县",value:"360825",parent:"360800"},{name:"泰和县",value:"360826",parent:"360800"},{name:"遂川县",value:"360827",parent:"360800"},{name:"万安县",value:"360828",parent:"360800"},{name:"安福县",value:"360829",parent:"360800"},{name:"永新县",value:"360830",parent:"360800"},{name:"井冈山市",value:"360881",parent:"360800"},{name:"袁州区",value:"360902",parent:"360900"},{name:"奉新县",value:"360921",parent:"360900"},{name:"万载县",value:"360922",parent:"360900"},{name:"上高县",value:"360923",parent:"360900"},{name:"宜丰县",value:"360924",parent:"360900"},{name:"靖安县",value:"360925",parent:"360900"},{name:"铜鼓县",value:"360926",parent:"360900"},{name:"丰城市",value:"360981",parent:"360900"},{name:"樟树市",value:"360982",parent:"360900"},{name:"高安市",value:"360983",parent:"360900"},{name:"临川区",value:"361002",parent:"361000"},{name:"南城县",value:"361021",parent:"361000"},{name:"黎川县",value:"361022",parent:"361000"},{name:"南丰县",value:"361023",parent:"361000"},{name:"崇仁县",value:"361024",parent:"361000"},{name:"乐安县",value:"361025",parent:"361000"},{name:"宜黄县",value:"361026",parent:"361000"},{name:"金溪县",value:"361027",parent:"361000"},{name:"资溪县",value:"361028",parent:"361000"},{name:"东乡县",value:"361029",parent:"361000"},{name:"广昌县",value:"361030",parent:"361000"},{name:"信州区",value:"361102",parent:"361100"},{name:"广丰区",value:"361103",parent:"361100"},{name:"上饶县",value:"361121",parent:"361100"},{name:"玉山县",value:"361123",parent:"361100"},{name:"铅山县",value:"361124",parent:"361100"},{name:"横峰县",value:"361125",parent:"361100"},{name:"弋阳县",value:"361126",parent:"361100"},{name:"余干县",value:"361127",parent:"361100"},{name:"鄱阳县",value:"361128",parent:"361100"},{name:"万年县",value:"361129",parent:"361100"},{name:"婺源县",value:"361130",parent:"361100"},{name:"德兴市",value:"361181",parent:"361100"},{name:"济南市",value:"370100",parent:"370000"},{name:"青岛市",value:"370200",parent:"370000"},{name:"淄博市",value:"370300",parent:"370000"},{name:"枣庄市",value:"370400",parent:"370000"},{name:"东营市",value:"370500",parent:"370000"},{name:"烟台市",value:"370600",parent:"370000"},{name:"潍坊市",value:"370700",parent:"370000"},{name:"济宁市",value:"370800",parent:"370000"},{name:"泰安市",value:"370900",parent:"370000"},{name:"威海市",value:"371000",parent:"370000"},{name:"日照市",value:"371100",parent:"370000"},{name:"莱芜市",value:"371200",parent:"370000"},{name:"临沂市",value:"371300",parent:"370000"},{name:"德州市",value:"371400",parent:"370000"},{name:"聊城市",value:"371500",parent:"370000"},{name:"滨州市",value:"371600",parent:"370000"},{name:"菏泽市",value:"371700",parent:"370000"},{name:"历下区",value:"370102",parent:"370100"},{name:"市中区",value:"370103",parent:"370100"},{name:"槐荫区",value:"370104",parent:"370100"},{name:"天桥区",value:"370105",parent:"370100"},{name:"历城区",value:"370112",parent:"370100"},{name:"长清区",value:"370113",parent:"370100"},{name:"平阴县",value:"370124",parent:"370100"},{name:"济阳县",value:"370125",parent:"370100"},{name:"商河县",value:"370126",parent:"370100"},{name:"章丘市",value:"370181",parent:"370100"},{name:"市南区",value:"370202",parent:"370200"},{name:"市北区",value:"370203",parent:"370200"},{name:"黄岛区",value:"370211",parent:"370200"},{name:"崂山区",value:"370212",parent:"370200"},{name:"李沧区",value:"370213",parent:"370200"},{name:"城阳区",value:"370214",parent:"370200"},{name:"胶州市",value:"370281",parent:"370200"},{name:"即墨市",value:"370282",parent:"370200"},{name:"平度市",value:"370283",parent:"370200"},{name:"莱西市",value:"370285",parent:"370200"},{name:"淄川区",value:"370302",parent:"370300"},{name:"张店区",value:"370303",parent:"370300"},{name:"博山区",value:"370304",parent:"370300"},{name:"临淄区",value:"370305",parent:"370300"},{name:"周村区",value:"370306",parent:"370300"},{name:"桓台县",value:"370321",parent:"370300"},{name:"高青县",value:"370322",parent:"370300"},{name:"沂源县",value:"370323",parent:"370300"},{name:"市中区",value:"370402",parent:"370400"},{name:"薛城区",value:"370403",parent:"370400"},{name:"峄城区",value:"370404",parent:"370400"},{name:"台儿庄区",value:"370405",parent:"370400"},{name:"山亭区",value:"370406",parent:"370400"},{name:"滕州市",value:"370481",parent:"370400"},{name:"东营区",value:"370502",parent:"370500"},{name:"河口区",value:"370503",parent:"370500"},{name:"垦利区",value:"370505",parent:"370500"},{name:"利津县",value:"370522",parent:"370500"},{name:"广饶县",value:"370523",parent:"370500"},{name:"芝罘区",value:"370602",parent:"370600"},{name:"福山区",value:"370611",parent:"370600"},{name:"牟平区",value:"370612",parent:"370600"},{name:"莱山区",value:"370613",parent:"370600"},{name:"长岛县",value:"370634",parent:"370600"},{name:"龙口市",value:"370681",parent:"370600"},{name:"莱阳市",value:"370682",parent:"370600"},{name:"莱州市",value:"370683",parent:"370600"},{name:"蓬莱市",value:"370684",parent:"370600"},{name:"招远市",value:"370685",parent:"370600"},{name:"栖霞市",value:"370686",parent:"370600"},{name:"海阳市",value:"370687",parent:"370600"},{name:"潍城区",value:"370702",parent:"370700"},{name:"寒亭区",value:"370703",parent:"370700"},{name:"坊子区",value:"370704",parent:"370700"},{name:"奎文区",value:"370705",parent:"370700"},{name:"临朐县",value:"370724",parent:"370700"},{name:"昌乐县",value:"370725",parent:"370700"},{name:"青州市",value:"370781",parent:"370700"},{name:"诸城市",value:"370782",parent:"370700"},{name:"寿光市",value:"370783",parent:"370700"},{name:"安丘市",value:"370784",parent:"370700"},{name:"高密市",value:"370785",parent:"370700"},{name:"昌邑市",value:"370786",parent:"370700"},{name:"任城区",value:"370811",parent:"370800"},{name:"兖州区",value:"370812",parent:"370800"},{name:"微山县",value:"370826",parent:"370800"},{name:"鱼台县",value:"370827",parent:"370800"},{name:"金乡县",value:"370828",parent:"370800"},{name:"嘉祥县",value:"370829",parent:"370800"},{name:"汶上县",value:"370830",parent:"370800"},{name:"泗水县",value:"370831",parent:"370800"},{name:"梁山县",value:"370832",parent:"370800"},{name:"曲阜市",value:"370881",parent:"370800"},{name:"邹城市",value:"370883",parent:"370800"},{name:"泰山区",value:"370902",parent:"370900"},{name:"岱岳区",value:"370911",parent:"370900"},{name:"宁阳县",value:"370921",parent:"370900"},{name:"东平县",value:"370923",parent:"370900"},{name:"新泰市",value:"370982",parent:"370900"},{name:"肥城市",value:"370983",parent:"370900"},{name:"环翠区",value:"371002",parent:"371000"},{name:"文登区",value:"371003",parent:"371000"},{name:"荣成市",value:"371082",parent:"371000"},{name:"乳山市",value:"371083",parent:"371000"},{name:"东港区",value:"371102",parent:"371100"},{name:"岚山区",value:"371103",parent:"371100"},{name:"五莲县",value:"371121",parent:"371100"},{name:"莒县",value:"371122",parent:"371100"},{name:"莱城区",value:"371202",parent:"371200"},{name:"钢城区",value:"371203",parent:"371200"},{name:"兰山区",value:"371302",parent:"371300"},{name:"罗庄区",value:"371311",parent:"371300"},{name:"河东区",value:"371312",parent:"371300"},{name:"沂南县",value:"371321",parent:"371300"},{name:"郯城县",value:"371322",parent:"371300"},{name:"沂水县",value:"371323",parent:"371300"},{name:"兰陵县",value:"371324",parent:"371300"},{name:"费县",value:"371325",parent:"371300"},{name:"平邑县",value:"371326",parent:"371300"},{name:"莒南县",value:"371327",parent:"371300"},{name:"蒙阴县",value:"371328",parent:"371300"},{name:"临沭县",value:"371329",parent:"371300"},{name:"德城区",value:"371402",parent:"371400"},{name:"陵城区",value:"371403",parent:"371400"},{name:"宁津县",value:"371422",parent:"371400"},{name:"庆云县",value:"371423",parent:"371400"},{name:"临邑县",value:"371424",parent:"371400"},{name:"齐河县",value:"371425",parent:"371400"},{name:"平原县",value:"371426",parent:"371400"},{name:"夏津县",value:"371427",parent:"371400"},{name:"武城县",value:"371428",parent:"371400"},{name:"乐陵市",value:"371481",parent:"371400"},{name:"禹城市",value:"371482",parent:"371400"},{name:"东昌府区",value:"371502",parent:"371500"},{name:"阳谷县",value:"371521",parent:"371500"},{name:"莘县",value:"371522",parent:"371500"},{name:"茌平县",value:"371523",parent:"371500"},{name:"东阿县",value:"371524",parent:"371500"},{name:"冠县",value:"371525",parent:"371500"},{name:"高唐县",value:"371526",parent:"371500"},{name:"临清市",value:"371581",parent:"371500"},{name:"滨城区",value:"371602",parent:"371600"},{name:"沾化区",value:"371603",parent:"371600"},{name:"惠民县",value:"371621",parent:"371600"},{name:"阳信县",value:"371622",parent:"371600"},{name:"无棣县",value:"371623",parent:"371600"},{name:"博兴县",value:"371625",parent:"371600"},{name:"邹平县",value:"371626",parent:"371600"},{name:"牡丹区",value:"371702",parent:"371700"},{name:"定陶区",value:"371703",parent:"371700"},{name:"曹县",value:"371721",parent:"371700"},{name:"单县",value:"371722",parent:"371700"},{name:"成武县",value:"371723",parent:"371700"},{name:"巨野县",value:"371724",parent:"371700"},{name:"郓城县",value:"371725",parent:"371700"},{name:"鄄城县",value:"371726",parent:"371700"},{name:"东明县",value:"371728",parent:"371700"},{name:"郑州市",value:"410100",parent:"410000"},{name:"开封市",value:"410200",parent:"410000"},{name:"洛阳市",value:"410300",parent:"410000"},{name:"平顶山市",value:"410400",parent:"410000"},{name:"安阳市",value:"410500",parent:"410000"},{name:"鹤壁市",value:"410600",parent:"410000"},{name:"新乡市",value:"410700",parent:"410000"},{name:"焦作市",value:"410800",parent:"410000"},{name:"濮阳市",value:"410900",parent:"410000"},{name:"许昌市",value:"411000",parent:"410000"},{name:"漯河市",value:"411100",parent:"410000"},{name:"三门峡市",value:"411200",parent:"410000"},{name:"南阳市",value:"411300",parent:"410000"},{name:"商丘市",value:"411400",parent:"410000"},{name:"信阳市",value:"411500",parent:"410000"},{name:"周口市",value:"411600",parent:"410000"},{name:"驻马店市",value:"411700",parent:"410000"},{name:"济源市",value:"419001",parent:"410000"},{name:"中原区",value:"410102",parent:"410100"},{name:"二七区",value:"410103",parent:"410100"},{name:"管城回族区",value:"410104",parent:"410100"},{name:"金水区",value:"410105",parent:"410100"},{name:"上街区",value:"410106",parent:"410100"},{name:"惠济区",value:"410108",parent:"410100"},{name:"中牟县",value:"410122",parent:"410100"},{name:"巩义市",value:"410181",parent:"410100"},{name:"荥阳市",value:"410182",parent:"410100"},{name:"新密市",value:"410183",parent:"410100"},{name:"新郑市",value:"410184",parent:"410100"},{name:"登封市",value:"410185",parent:"410100"},{name:"龙亭区",value:"410202",parent:"410200"},{name:"顺河回族区",value:"410203",parent:"410200"},{name:"鼓楼区",value:"410204",parent:"410200"},{name:"禹王台区",value:"410205",parent:"410200"},{name:"金明区",value:"410211",parent:"410200"},{name:"祥符区",value:"410212",parent:"410200"},{name:"杞县",value:"410221",parent:"410200"},{name:"通许县",value:"410222",parent:"410200"},{name:"尉氏县",value:"410223",parent:"410200"},{name:"兰考县",value:"410225",parent:"410200"},{name:"老城区",value:"410302",parent:"410300"},{name:"西工区",value:"410303",parent:"410300"},{name:"瀍河回族区",value:"410304",parent:"410300"},{name:"涧西区",value:"410305",parent:"410300"},{name:"吉利区",value:"410306",parent:"410300"},{name:"洛龙区",value:"410311",parent:"410300"},{name:"孟津县",value:"410322",parent:"410300"},{name:"新安县",value:"410323",parent:"410300"},{name:"栾川县",value:"410324",parent:"410300"},{name:"嵩县",value:"410325",parent:"410300"},{name:"汝阳县",value:"410326",parent:"410300"},{name:"宜阳县",value:"410327",parent:"410300"},{name:"洛宁县",value:"410328",parent:"410300"},{name:"伊川县",value:"410329",parent:"410300"},{name:"偃师市",value:"410381",parent:"410300"},{name:"新华区",value:"410402",parent:"410400"},{name:"卫东区",value:"410403",parent:"410400"},{name:"石龙区",value:"410404",parent:"410400"},{name:"湛河区",value:"410411",parent:"410400"},{name:"宝丰县",value:"410421",parent:"410400"},{name:"叶县",value:"410422",parent:"410400"},{name:"鲁山县",value:"410423",parent:"410400"},{name:"郏县",value:"410425",parent:"410400"},{name:"舞钢市",value:"410481",parent:"410400"},{name:"汝州市",value:"410482",parent:"410400"},{name:"文峰区",value:"410502",parent:"410500"},{name:"北关区",value:"410503",parent:"410500"},{name:"殷都区",value:"410505",parent:"410500"},{name:"龙安区",value:"410506",parent:"410500"},{name:"安阳县",value:"410522",parent:"410500"},{name:"汤阴县",value:"410523",parent:"410500"},{name:"滑县",value:"410526",parent:"410500"},{name:"内黄县",value:"410527",parent:"410500"},{name:"林州市",value:"410581",parent:"410500"},{name:"鹤山区",value:"410602",parent:"410600"},{name:"山城区",value:"410603",parent:"410600"},{name:"淇滨区",value:"410611",parent:"410600"},{name:"浚县",value:"410621",parent:"410600"},{name:"淇县",value:"410622",parent:"410600"},{name:"红旗区",value:"410702",parent:"410700"},{name:"卫滨区",value:"410703",parent:"410700"},{name:"凤泉区",value:"410704",parent:"410700"},{name:"牧野区",value:"410711",parent:"410700"},{name:"新乡县",value:"410721",parent:"410700"},{name:"获嘉县",value:"410724",parent:"410700"},{name:"原阳县",value:"410725",parent:"410700"},{name:"延津县",value:"410726",parent:"410700"},{name:"封丘县",value:"410727",parent:"410700"},{name:"长垣县",value:"410728",parent:"410700"},{name:"卫辉市",value:"410781",parent:"410700"},{name:"辉县市",value:"410782",parent:"410700"},{name:"解放区",value:"410802",parent:"410800"},{name:"中站区",value:"410803",parent:"410800"},{name:"马村区",value:"410804",parent:"410800"},{name:"山阳区",value:"410811",parent:"410800"},{name:"修武县",value:"410821",parent:"410800"},{name:"博爱县",value:"410822",parent:"410800"},{name:"武陟县",value:"410823",parent:"410800"},{name:"温县",value:"410825",parent:"410800"},{name:"沁阳市",value:"410882",parent:"410800"},{name:"孟州市",value:"410883",parent:"410800"},{name:"华龙区",value:"410902",parent:"410900"},{name:"清丰县",value:"410922",parent:"410900"},{name:"南乐县",value:"410923",parent:"410900"},{name:"范县",value:"410926",parent:"410900"},{name:"台前县",value:"410927",parent:"410900"},{name:"濮阳县",value:"410928",parent:"410900"},{name:"魏都区",value:"411002",parent:"411000"},{name:"许昌县",value:"411023",parent:"411000"},{name:"鄢陵县",value:"411024",parent:"411000"},{name:"襄城县",value:"411025",parent:"411000"},{name:"禹州市",value:"411081",parent:"411000"},{name:"长葛市",value:"411082",parent:"411000"},{name:"源汇区",value:"411102",parent:"411100"},{name:"郾城区",value:"411103",parent:"411100"},{name:"召陵区",value:"411104",parent:"411100"},{name:"舞阳县",value:"411121",parent:"411100"},{name:"临颍县",value:"411122",parent:"411100"},{name:"湖滨区",value:"411202",parent:"411200"},{name:"陕州区",value:"411203",parent:"411200"},{name:"渑池县",value:"411221",parent:"411200"},{name:"卢氏县",value:"411224",parent:"411200"},{name:"义马市",value:"411281",parent:"411200"},{name:"灵宝市",value:"411282",parent:"411200"},{name:"宛城区",value:"411302",parent:"411300"},{name:"卧龙区",value:"411303",parent:"411300"},{name:"南召县",value:"411321",parent:"411300"},{name:"方城县",value:"411322",parent:"411300"},{name:"西峡县",value:"411323",parent:"411300"},{name:"镇平县",value:"411324",parent:"411300"},{name:"内乡县",value:"411325",parent:"411300"},{name:"淅川县",value:"411326",parent:"411300"},{name:"社旗县",value:"411327",parent:"411300"},{name:"唐河县",value:"411328",parent:"411300"},{name:"新野县",value:"411329",parent:"411300"},{name:"桐柏县",value:"411330",parent:"411300"},{name:"邓州市",value:"411381",parent:"411300"},{name:"梁园区",value:"411402",parent:"411400"},{name:"睢阳区",value:"411403",parent:"411400"},{name:"民权县",value:"411421",parent:"411400"},{name:"睢县",value:"411422",parent:"411400"},{name:"宁陵县",value:"411423",parent:"411400"},{name:"柘城县",value:"411424",parent:"411400"},{name:"虞城县",value:"411425",parent:"411400"},{name:"夏邑县",value:"411426",parent:"411400"},{name:"永城市",value:"411481",parent:"411400"},{name:"浉河区",value:"411502",parent:"411500"},{name:"平桥区",value:"411503",parent:"411500"},{name:"罗山县",value:"411521",parent:"411500"},{name:"光山县",value:"411522",parent:"411500"},{name:"新县",value:"411523",parent:"411500"},{name:"商城县",value:"411524",parent:"411500"},{name:"固始县",value:"411525",parent:"411500"},{name:"潢川县",value:"411526",parent:"411500"},{name:"淮滨县",value:"411527",parent:"411500"},{name:"息县",value:"411528",parent:"411500"},{name:"川汇区",value:"411602",parent:"411600"},{name:"扶沟县",value:"411621",parent:"411600"},{name:"西华县",value:"411622",parent:"411600"},{name:"商水县",value:"411623",parent:"411600"},{name:"沈丘县",value:"411624",parent:"411600"},{name:"郸城县",value:"411625",parent:"411600"},{name:"淮阳县",value:"411626",parent:"411600"},{name:"太康县",value:"411627",parent:"411600"},{name:"鹿邑县",value:"411628",parent:"411600"},{name:"项城市",value:"411681",parent:"411600"},{name:"驿城区",value:"411702",parent:"411700"},{name:"西平县",value:"411721",parent:"411700"},{name:"上蔡县",value:"411722",parent:"411700"},{name:"平舆县",value:"411723",parent:"411700"},{name:"正阳县",value:"411724",parent:"411700"},{name:"确山县",value:"411725",parent:"411700"},{name:"泌阳县",value:"411726",parent:"411700"},{name:"汝南县",value:"411727",parent:"411700"},{name:"遂平县",value:"411728",parent:"411700"},{name:"新蔡县",value:"411729",parent:"411700"},{name:"武汉市",value:"420100",parent:"420000"},{name:"黄石市",value:"420200",parent:"420000"},{name:"十堰市",value:"420300",parent:"420000"},{name:"宜昌市",value:"420500",parent:"420000"},{name:"襄阳市",value:"420600",parent:"420000"},{name:"鄂州市",value:"420700",parent:"420000"},{name:"荆门市",value:"420800",parent:"420000"},{name:"孝感市",value:"420900",parent:"420000"},{name:"荆州市",value:"421000",parent:"420000"},{name:"黄冈市",value:"421100",parent:"420000"},{name:"咸宁市",value:"421200",parent:"420000"},{name:"随州市",value:"421300",parent:"420000"},{name:"恩施土家族苗族自治州",value:"422800",parent:"420000"},{name:"仙桃市",value:"429004",parent:"420000"},{name:"潜江市",value:"429005",parent:"420000"},{name:"天门市",value:"429006",parent:"420000"},{name:"神农架林区",value:"429021",parent:"420000"},{name:"江岸区",value:"420102",parent:"420100"},{name:"江汉区",value:"420103",parent:"420100"},{name:"硚口区",value:"420104",parent:"420100"},{name:"汉阳区",value:"420105",parent:"420100"},{name:"武昌区",value:"420106",parent:"420100"},{name:"青山区",value:"420107",parent:"420100"},{name:"洪山区",value:"420111",parent:"420100"},{name:"东西湖区",value:"420112",parent:"420100"},{name:"汉南区",value:"420113",parent:"420100"},{name:"蔡甸区",value:"420114",parent:"420100"},{name:"江夏区",value:"420115",parent:"420100"},{name:"黄陂区",value:"420116",parent:"420100"},{name:"新洲区",value:"420117",parent:"420100"},{name:"黄石港区",value:"420202",parent:"420200"},{name:"西塞山区",value:"420203",parent:"420200"},{name:"下陆区",value:"420204",parent:"420200"},{name:"铁山区",value:"420205",parent:"420200"},{name:"阳新县",value:"420222",parent:"420200"},{name:"大冶市",value:"420281",parent:"420200"},{name:"茅箭区",value:"420302",parent:"420300"},{name:"张湾区",value:"420303",parent:"420300"},{name:"郧阳区",value:"420304",parent:"420300"},{name:"郧西县",value:"420322",parent:"420300"},{name:"竹山县",value:"420323",parent:"420300"},{name:"竹溪县",value:"420324",parent:"420300"},{name:"房县",value:"420325",parent:"420300"},{name:"丹江口市",value:"420381",parent:"420300"},{name:"西陵区",value:"420502",parent:"420500"},{name:"伍家岗区",value:"420503",parent:"420500"},{name:"点军区",value:"420504",parent:"420500"},{name:"猇亭区",value:"420505",parent:"420500"},{name:"夷陵区",value:"420506",parent:"420500"},{name:"远安县",value:"420525",parent:"420500"},{name:"兴山县",value:"420526",parent:"420500"},{name:"秭归县",value:"420527",parent:"420500"},{name:"长阳土家族自治县",value:"420528",parent:"420500"},{name:"五峰土家族自治县",value:"420529",parent:"420500"},{name:"宜都市",value:"420581",parent:"420500"},{name:"当阳市",value:"420582",parent:"420500"},{name:"枝江市",value:"420583",parent:"420500"},{name:"襄城区",value:"420602",parent:"420600"},{name:"樊城区",value:"420606",parent:"420600"},{name:"襄州区",value:"420607",parent:"420600"},{name:"南漳县",value:"420624",parent:"420600"},{name:"谷城县",value:"420625",parent:"420600"},{name:"保康县",value:"420626",parent:"420600"},{name:"老河口市",value:"420682",parent:"420600"},{name:"枣阳市",value:"420683",parent:"420600"},{name:"宜城市",value:"420684",parent:"420600"},{name:"梁子湖区",value:"420702",parent:"420700"},{name:"华容区",value:"420703",parent:"420700"},{name:"鄂城区",value:"420704",parent:"420700"},{name:"东宝区",value:"420802",parent:"420800"},{name:"掇刀区",value:"420804",parent:"420800"},{name:"京山县",value:"420821",parent:"420800"},{name:"沙洋县",value:"420822",parent:"420800"},{name:"钟祥市",value:"420881",parent:"420800"},{name:"孝南区",value:"420902",parent:"420900"},{name:"孝昌县",value:"420921",parent:"420900"},{name:"大悟县",value:"420922",parent:"420900"},{name:"云梦县",value:"420923",parent:"420900"},{name:"应城市",value:"420981",parent:"420900"},{name:"安陆市",value:"420982",parent:"420900"},{name:"汉川市",value:"420984",parent:"420900"},{name:"沙市区",value:"421002",parent:"421000"},{name:"荆州区",value:"421003",parent:"421000"},{name:"公安县",value:"421022",parent:"421000"},{name:"监利县",value:"421023",parent:"421000"},{name:"江陵县",value:"421024",parent:"421000"},{name:"石首市",value:"421081",parent:"421000"},{name:"洪湖市",value:"421083",parent:"421000"},{name:"松滋市",value:"421087",parent:"421000"},{name:"黄州区",value:"421102",parent:"421100"},{name:"团风县",value:"421121",parent:"421100"},{name:"红安县",value:"421122",parent:"421100"},{name:"罗田县",value:"421123",parent:"421100"},{name:"英山县",value:"421124",parent:"421100"},{name:"浠水县",value:"421125",parent:"421100"},{name:"蕲春县",value:"421126",parent:"421100"},{name:"黄梅县",value:"421127",parent:"421100"},{name:"麻城市",value:"421181",parent:"421100"},{name:"武穴市",value:"421182",parent:"421100"},{name:"咸安区",value:"421202",parent:"421200"},{name:"嘉鱼县",value:"421221",parent:"421200"},{name:"通城县",value:"421222",parent:"421200"},{name:"崇阳县",value:"421223",parent:"421200"},{name:"通山县",value:"421224",parent:"421200"},{name:"赤壁市",value:"421281",parent:"421200"},{name:"曾都区",value:"421303",parent:"421300"},{name:"随县",value:"421321",parent:"421300"},{name:"广水市",value:"421381",parent:"421300"},{name:"恩施市",value:"422801",parent:"422800"},{name:"利川市",value:"422802",parent:"422800"},{name:"建始县",value:"422822",parent:"422800"},{name:"巴东县",value:"422823",parent:"422800"},{name:"宣恩县",value:"422825",parent:"422800"},{name:"咸丰县",value:"422826",parent:"422800"},{name:"来凤县",value:"422827",parent:"422800"},{name:"鹤峰县",value:"422828",parent:"422800"},{name:"长沙市",value:"430100",parent:"430000"},{name:"株洲市",value:"430200",parent:"430000"},{name:"湘潭市",value:"430300",parent:"430000"},{name:"衡阳市",value:"430400",parent:"430000"},{name:"邵阳市",value:"430500",parent:"430000"},{name:"岳阳市",value:"430600",parent:"430000"},{name:"常德市",value:"430700",parent:"430000"},{name:"张家界市",value:"430800",parent:"430000"},{name:"益阳市",value:"430900",parent:"430000"},{name:"郴州市",value:"431000",parent:"430000"},{name:"永州市",value:"431100",parent:"430000"},{name:"怀化市",value:"431200",parent:"430000"},{name:"娄底市",value:"431300",parent:"430000"},{name:"湘西土家族苗族自治州",value:"433100",parent:"430000"},{name:"芙蓉区",value:"430102",parent:"430100"},{name:"天心区",value:"430103",parent:"430100"},{name:"岳麓区",value:"430104",parent:"430100"},{name:"开福区",value:"430105",parent:"430100"},{name:"雨花区",value:"430111",parent:"430100"},{name:"望城区",value:"430112",parent:"430100"},{name:"长沙县",value:"430121",parent:"430100"},{name:"宁乡县",value:"430124",parent:"430100"},{name:"浏阳市",value:"430181",parent:"430100"},{name:"荷塘区",value:"430202",parent:"430200"},{name:"芦淞区",value:"430203",parent:"430200"},{name:"石峰区",value:"430204",parent:"430200"},{name:"天元区",value:"430211",parent:"430200"},{name:"株洲县",value:"430221",parent:"430200"},{name:"攸县",value:"430223",parent:"430200"},{name:"茶陵县",value:"430224",parent:"430200"},{name:"炎陵县",value:"430225",parent:"430200"},{name:"醴陵市",value:"430281",parent:"430200"},{name:"雨湖区",value:"430302",parent:"430300"},{name:"岳塘区",value:"430304",parent:"430300"},{name:"湘潭县",value:"430321",parent:"430300"},{name:"湘乡市",value:"430381",parent:"430300"},{name:"韶山市",value:"430382",parent:"430300"},{name:"珠晖区",value:"430405",parent:"430400"},{name:"雁峰区",value:"430406",parent:"430400"},{name:"石鼓区",value:"430407",parent:"430400"},{name:"蒸湘区",value:"430408",parent:"430400"},{name:"南岳区",value:"430412",parent:"430400"},{name:"衡阳县",value:"430421",parent:"430400"},{name:"衡南县",value:"430422",parent:"430400"},{name:"衡山县",value:"430423",parent:"430400"},{name:"衡东县",value:"430424",parent:"430400"},{name:"祁东县",value:"430426",parent:"430400"},{name:"耒阳市",value:"430481",parent:"430400"},{name:"常宁市",value:"430482",parent:"430400"},{name:"双清区",value:"430502",parent:"430500"},{name:"大祥区",value:"430503",parent:"430500"},{name:"北塔区",value:"430511",parent:"430500"},{name:"邵东县",value:"430521",parent:"430500"},{name:"新邵县",value:"430522",parent:"430500"},{name:"邵阳县",value:"430523",parent:"430500"},{name:"隆回县",value:"430524",parent:"430500"},{name:"洞口县",value:"430525",parent:"430500"},{name:"绥宁县",value:"430527",parent:"430500"},{name:"新宁县",value:"430528",parent:"430500"},{name:"城步苗族自治县",value:"430529",parent:"430500"},{name:"武冈市",value:"430581",parent:"430500"},{name:"岳阳楼区",value:"430602",parent:"430600"},{name:"云溪区",value:"430603",parent:"430600"},{name:"君山区",value:"430611",parent:"430600"},{name:"岳阳县",value:"430621",parent:"430600"},{name:"华容县",value:"430623",parent:"430600"},{name:"湘阴县",value:"430624",parent:"430600"},{name:"平江县",value:"430626",parent:"430600"},{name:"汨罗市",value:"430681",parent:"430600"},{name:"临湘市",value:"430682",parent:"430600"},{name:"武陵区",value:"430702",parent:"430700"},{name:"鼎城区",value:"430703",parent:"430700"},{name:"安乡县",value:"430721",parent:"430700"},{name:"汉寿县",value:"430722",parent:"430700"},{name:"澧县",value:"430723",parent:"430700"},{name:"临澧县",value:"430724",parent:"430700"},{name:"桃源县",value:"430725",parent:"430700"},{name:"石门县",value:"430726",parent:"430700"},{name:"津市市",value:"430781",parent:"430700"},{name:"永定区",value:"430802",parent:"430800"},{name:"武陵源区",value:"430811",parent:"430800"},{name:"慈利县",value:"430821",parent:"430800"},{name:"桑植县",value:"430822",parent:"430800"},{name:"资阳区",value:"430902",parent:"430900"},{name:"赫山区",value:"430903",parent:"430900"},{name:"南县",value:"430921",parent:"430900"},{name:"桃江县",value:"430922",parent:"430900"},{name:"安化县",value:"430923",parent:"430900"},{name:"沅江市",value:"430981",parent:"430900"},{name:"北湖区",value:"431002",parent:"431000"},{name:"苏仙区",value:"431003",parent:"431000"},{name:"桂阳县",value:"431021",parent:"431000"},{name:"宜章县",value:"431022",parent:"431000"},{name:"永兴县",value:"431023",parent:"431000"},{name:"嘉禾县",value:"431024",parent:"431000"},{name:"临武县",value:"431025",parent:"431000"},{name:"汝城县",value:"431026",parent:"431000"},{name:"桂东县",value:"431027",parent:"431000"},{name:"安仁县",value:"431028",parent:"431000"},{name:"资兴市",value:"431081",parent:"431000"},{name:"零陵区",value:"431102",parent:"431100"},{name:"冷水滩区",value:"431103",parent:"431100"},{name:"祁阳县",value:"431121",parent:"431100"},{name:"东安县",value:"431122",parent:"431100"},{name:"双牌县",value:"431123",parent:"431100"},{name:"道县",value:"431124",parent:"431100"},{name:"江永县",value:"431125",parent:"431100"},{name:"宁远县",value:"431126",parent:"431100"},{name:"蓝山县",value:"431127",parent:"431100"},{name:"新田县",value:"431128",parent:"431100"},{name:"江华瑶族自治县",value:"431129",parent:"431100"},{name:"鹤城区",value:"431202",parent:"431200"},{name:"中方县",value:"431221",parent:"431200"},{name:"沅陵县",value:"431222",parent:"431200"},{name:"辰溪县",value:"431223",parent:"431200"},{name:"溆浦县",value:"431224",parent:"431200"},{name:"会同县",value:"431225",parent:"431200"},{name:"麻阳苗族自治县",value:"431226",parent:"431200"},{name:"新晃侗族自治县",value:"431227",parent:"431200"},{name:"芷江侗族自治县",value:"431228",parent:"431200"},{name:"靖州苗族侗族自治县",value:"431229",parent:"431200"},{name:"通道侗族自治县",value:"431230",parent:"431200"},{name:"洪江市",value:"431281",parent:"431200"},{name:"娄星区",value:"431302",parent:"431300"},{name:"双峰县",value:"431321",parent:"431300"},{name:"新化县",value:"431322",parent:"431300"},{name:"冷水江市",value:"431381",parent:"431300"},{name:"涟源市",value:"431382",parent:"431300"},{name:"吉首市",value:"433101",parent:"433100"},{name:"泸溪县",value:"433122",parent:"433100"},{name:"凤凰县",value:"433123",parent:"433100"},{name:"花垣县",value:"433124",parent:"433100"},{name:"保靖县",value:"433125",parent:"433100"},{name:"古丈县",value:"433126",parent:"433100"},{name:"永顺县",value:"433127",parent:"433100"},{name:"龙山县",value:"433130",parent:"433100"},{name:"广州市",value:"440100",parent:"440000"},{name:"韶关市",value:"440200",parent:"440000"},{name:"深圳市",value:"440300",parent:"440000"},{name:"珠海市",value:"440400",parent:"440000"},{name:"汕头市",value:"440500",parent:"440000"},{name:"佛山市",value:"440600",parent:"440000"},{name:"江门市",value:"440700",parent:"440000"},{name:"湛江市",value:"440800",parent:"440000"},{name:"茂名市",value:"440900",parent:"440000"},{name:"肇庆市",value:"441200",parent:"440000"},{name:"惠州市",value:"441300",parent:"440000"},{name:"梅州市",value:"441400",parent:"440000"},{name:"汕尾市",value:"441500",parent:"440000"},{name:"河源市",value:"441600",parent:"440000"},{name:"阳江市",value:"441700",parent:"440000"},{name:"清远市",value:"441800",parent:"440000"},{name:"东莞市",value:"441900",parent:"440000"},{name:"中山市",value:"442000",parent:"440000"},{name:"潮州市",value:"445100",parent:"440000"},{name:"揭阳市",value:"445200",parent:"440000"},{name:"云浮市",value:"445300",parent:"440000"},{name:"荔湾区",value:"440103",parent:"440100"},{name:"越秀区",value:"440104",parent:"440100"},{name:"海珠区",value:"440105",parent:"440100"},{name:"天河区",value:"440106",parent:"440100"},{name:"白云区",value:"440111",parent:"440100"},{name:"黄埔区",value:"440112",parent:"440100"},{name:"番禺区",value:"440113",parent:"440100"},{name:"花都区",value:"440114",parent:"440100"},{name:"南沙区",value:"440115",parent:"440100"},{name:"从化区",value:"440117",parent:"440100"},{name:"增城区",value:"440118",parent:"440100"},{name:"武江区",value:"440203",parent:"440200"},{name:"浈江区",value:"440204",parent:"440200"},{name:"曲江区",value:"440205",parent:"440200"},{name:"始兴县",value:"440222",parent:"440200"},{name:"仁化县",value:"440224",parent:"440200"},{name:"翁源县",value:"440229",parent:"440200"},{name:"乳源瑶族自治县",value:"440232",parent:"440200"},{name:"新丰县",value:"440233",parent:"440200"},{name:"乐昌市",value:"440281",parent:"440200"},{name:"南雄市",value:"440282",parent:"440200"},{name:"罗湖区",value:"440303",parent:"440300"},{name:"福田区",value:"440304",parent:"440300"},{name:"南山区",value:"440305",parent:"440300"},{name:"宝安区",value:"440306",parent:"440300"},{name:"龙岗区",value:"440307",parent:"440300"},{name:"盐田区",value:"440308",parent:"440300"},{name:"香洲区",value:"440402",parent:"440400"},{name:"斗门区",value:"440403",parent:"440400"},{name:"金湾区",value:"440404",parent:"440400"},{name:"龙湖区",value:"440507",parent:"440500"},{name:"金平区",value:"440511",parent:"440500"},{name:"濠江区",value:"440512",parent:"440500"},{name:"潮阳区",value:"440513",parent:"440500"},{name:"潮南区",value:"440514",parent:"440500"},{name:"澄海区",value:"440515",parent:"440500"},{name:"南澳县",value:"440523",parent:"440500"},{name:"禅城区",value:"440604",parent:"440600"},{name:"南海区",value:"440605",parent:"440600"},{name:"顺德区",value:"440606",parent:"440600"},{name:"三水区",value:"440607",parent:"440600"},{name:"高明区",value:"440608",parent:"440600"},{name:"蓬江区",value:"440703",parent:"440700"},{name:"江海区",value:"440704",parent:"440700"},{name:"新会区",value:"440705",parent:"440700"},{name:"台山市",value:"440781",parent:"440700"},{name:"开平市",value:"440783",parent:"440700"},{name:"鹤山市",value:"440784",parent:"440700"},{name:"恩平市",value:"440785",parent:"440700"},{name:"赤坎区",value:"440802",parent:"440800"},{name:"霞山区",value:"440803",parent:"440800"},{name:"坡头区",value:"440804",parent:"440800"},{name:"麻章区",value:"440811",parent:"440800"},{name:"遂溪县",value:"440823",parent:"440800"},{name:"徐闻县",value:"440825",parent:"440800"},{name:"廉江市",value:"440881",parent:"440800"},{name:"雷州市",value:"440882",parent:"440800"},{name:"吴川市",value:"440883",parent:"440800"},{name:"茂南区",value:"440902",parent:"440900"},{name:"电白区",value:"440904",parent:"440900"},{name:"高州市",value:"440981",parent:"440900"},{name:"化州市",value:"440982",parent:"440900"},{name:"信宜市",value:"440983",parent:"440900"},{name:"端州区",value:"441202",parent:"441200"},{name:"鼎湖区",value:"441203",parent:"441200"},{name:"高要区",value:"441204",parent:"441200"},{name:"广宁县",value:"441223",parent:"441200"},{name:"怀集县",value:"441224",parent:"441200"},{name:"封开县",value:"441225",parent:"441200"},{name:"德庆县",value:"441226",parent:"441200"},{name:"四会市",value:"441284",parent:"441200"},{name:"惠城区",value:"441302",parent:"441300"},{name:"惠阳区",value:"441303",parent:"441300"},{name:"博罗县",value:"441322",parent:"441300"},{name:"惠东县",value:"441323",parent:"441300"},{name:"龙门县",value:"441324",parent:"441300"},{name:"梅江区",value:"441402",parent:"441400"},{name:"梅县区",value:"441403",parent:"441400"},{name:"大埔县",value:"441422",parent:"441400"},{name:"丰顺县",value:"441423",parent:"441400"},{name:"五华县",value:"441424",parent:"441400"},{name:"平远县",value:"441426",parent:"441400"},{name:"蕉岭县",value:"441427",parent:"441400"},{name:"兴宁市",value:"441481",parent:"441400"},{name:"城区",value:"441502",parent:"441500"},{name:"海丰县",value:"441521",parent:"441500"},{name:"陆河县",value:"441523",parent:"441500"},{name:"陆丰市",value:"441581",parent:"441500"},{name:"源城区",value:"441602",parent:"441600"},{name:"紫金县",value:"441621",parent:"441600"},{name:"龙川县",value:"441622",parent:"441600"},{name:"连平县",value:"441623",parent:"441600"},{name:"和平县",value:"441624",parent:"441600"},{name:"东源县",value:"441625",parent:"441600"},{name:"江城区",value:"441702",parent:"441700"},{name:"阳东区",value:"441704",parent:"441700"},{name:"阳西县",value:"441721",parent:"441700"},{name:"阳春市",value:"441781",parent:"441700"},{name:"清城区",value:"441802",parent:"441800"},{name:"清新区",value:"441803",parent:"441800"},{name:"佛冈县",value:"441821",parent:"441800"},{name:"阳山县",value:"441823",parent:"441800"},{name:"连山壮族瑶族自治县",value:"441825",parent:"441800"},{name:"连南瑶族自治县",value:"441826",parent:"441800"},{name:"英德市",value:"441881",parent:"441800"},{name:"连州市",value:"441882",parent:"441800"},{name:"湘桥区",value:"445102",parent:"445100"},{name:"潮安区",value:"445103",parent:"445100"},{name:"饶平县",value:"445122",parent:"445100"},{name:"榕城区",value:"445202",parent:"445200"},{name:"揭东区",value:"445203",parent:"445200"},{name:"揭西县",value:"445222",parent:"445200"},{name:"惠来县",value:"445224",parent:"445200"},{name:"普宁市",value:"445281",parent:"445200"},{name:"云城区",value:"445302",parent:"445300"},{name:"云安区",value:"445303",parent:"445300"},{name:"新兴县",value:"445321",parent:"445300"},{name:"郁南县",value:"445322",parent:"445300"},{name:"罗定市",value:"445381",parent:"445300"},{name:"南宁市",value:"450100",parent:"450000"},{name:"柳州市",value:"450200",parent:"450000"},{name:"桂林市",value:"450300",parent:"450000"},{name:"梧州市",value:"450400",parent:"450000"},{name:"北海市",value:"450500",parent:"450000"},{name:"防城港市",value:"450600",parent:"450000"},{name:"钦州市",value:"450700",parent:"450000"},{name:"贵港市",value:"450800",parent:"450000"},{name:"玉林市",value:"450900",parent:"450000"},{name:"百色市",value:"451000",parent:"450000"},{name:"贺州市",value:"451100",parent:"450000"},{name:"河池市",value:"451200",parent:"450000"},{name:"来宾市",value:"451300",parent:"450000"},{name:"崇左市",value:"451400",parent:"450000"},{name:"兴宁区",value:"450102",parent:"450100"},{name:"青秀区",value:"450103",parent:"450100"},{name:"江南区",value:"450105",parent:"450100"},{name:"西乡塘区",value:"450107",parent:"450100"},{name:"良庆区",value:"450108",parent:"450100"},{name:"邕宁区",value:"450109",parent:"450100"},{name:"武鸣区",value:"450110",parent:"450100"},{name:"隆安县",value:"450123",parent:"450100"},{name:"马山县",value:"450124",parent:"450100"},{name:"上林县",value:"450125",parent:"450100"},{name:"宾阳县",value:"450126",parent:"450100"},{name:"横县",value:"450127",parent:"450100"},{name:"城中区",value:"450202",parent:"450200"},{name:"鱼峰区",value:"450203",parent:"450200"},{name:"柳南区",value:"450204",parent:"450200"},{name:"柳北区",value:"450205",parent:"450200"},{name:"柳江区",value:"450206",parent:"450200"},{name:"柳城县",value:"450222",parent:"450200"},{name:"鹿寨县",value:"450223",parent:"450200"},{name:"融安县",value:"450224",parent:"450200"},{name:"融水苗族自治县",value:"450225",parent:"450200"},{name:"三江侗族自治县",value:"450226",parent:"450200"},{name:"秀峰区",value:"450302",parent:"450300"},{name:"叠彩区",value:"450303",parent:"450300"},{name:"象山区",value:"450304",parent:"450300"},{name:"七星区",value:"450305",parent:"450300"},{name:"雁山区",value:"450311",parent:"450300"},{name:"临桂区",value:"450312",parent:"450300"},{name:"阳朔县",value:"450321",parent:"450300"},{name:"灵川县",value:"450323",parent:"450300"},{name:"全州县",value:"450324",parent:"450300"},{name:"兴安县",value:"450325",parent:"450300"},{name:"永福县",value:"450326",parent:"450300"},{name:"灌阳县",value:"450327",parent:"450300"},{name:"龙胜各族自治县",value:"450328",parent:"450300"},{name:"资源县",value:"450329",parent:"450300"},{name:"平乐县",value:"450330",parent:"450300"},{name:"荔浦县",value:"450331",parent:"450300"},{name:"恭城瑶族自治县",value:"450332",parent:"450300"},{name:"万秀区",value:"450403",parent:"450400"},{name:"长洲区",value:"450405",parent:"450400"},{name:"龙圩区",value:"450406",parent:"450400"},{name:"苍梧县",value:"450421",parent:"450400"},{name:"藤县",value:"450422",parent:"450400"},{name:"蒙山县",value:"450423",parent:"450400"},{name:"岑溪市",value:"450481",parent:"450400"},{name:"海城区",value:"450502",parent:"450500"},{name:"银海区",value:"450503",parent:"450500"},{name:"铁山港区",value:"450512",parent:"450500"},{name:"合浦县",value:"450521",parent:"450500"},{name:"港口区",value:"450602",parent:"450600"},{name:"防城区",value:"450603",parent:"450600"},{name:"上思县",value:"450621",parent:"450600"},{name:"东兴市",value:"450681",parent:"450600"},{name:"钦南区",value:"450702",parent:"450700"},{name:"钦北区",value:"450703",parent:"450700"},{name:"灵山县",value:"450721",parent:"450700"},{name:"浦北县",value:"450722",parent:"450700"},{name:"港北区",value:"450802",parent:"450800"},{name:"港南区",value:"450803",parent:"450800"},{name:"覃塘区",value:"450804",parent:"450800"},{name:"平南县",value:"450821",parent:"450800"},{name:"桂平市",value:"450881",parent:"450800"},{name:"玉州区",value:"450902",parent:"450900"},{name:"福绵区",value:"450903",parent:"450900"},{name:"容县",value:"450921",parent:"450900"},{name:"陆川县",value:"450922",parent:"450900"},{name:"博白县",value:"450923",parent:"450900"},{name:"兴业县",value:"450924",parent:"450900"},{name:"北流市",value:"450981",parent:"450900"},{name:"右江区",value:"451002",parent:"451000"},{name:"田阳县",value:"451021",parent:"451000"},{name:"田东县",value:"451022",parent:"451000"},{name:"平果县",value:"451023",parent:"451000"},{name:"德保县",value:"451024",parent:"451000"},{name:"那坡县",value:"451026",parent:"451000"},{name:"凌云县",value:"451027",parent:"451000"},{name:"乐业县",value:"451028",parent:"451000"},{name:"田林县",value:"451029",parent:"451000"},{name:"西林县",value:"451030",parent:"451000"},{name:"隆林各族自治县",value:"451031",parent:"451000"},{name:"靖西市",value:"451081",parent:"451000"},{name:"八步区",value:"451102",parent:"451100"},{name:"平桂区",value:"451103",parent:"451100"},{name:"昭平县",value:"451121",parent:"451100"},{name:"钟山县",value:"451122",parent:"451100"},{name:"富川瑶族自治县",value:"451123",parent:"451100"},{name:"金城江区",value:"451202",parent:"451200"},{name:"南丹县",value:"451221",parent:"451200"},{name:"天峨县",value:"451222",parent:"451200"},{name:"凤山县",value:"451223",parent:"451200"},{name:"东兰县",value:"451224",parent:"451200"},{name:"罗城仫佬族自治县",value:"451225",parent:"451200"},{name:"环江毛南族自治县",value:"451226",parent:"451200"},{name:"巴马瑶族自治县",value:"451227",parent:"451200"},{name:"都安瑶族自治县",value:"451228",parent:"451200"},{name:"大化瑶族自治县",value:"451229",parent:"451200"},{name:"宜州市",value:"451281",parent:"451200"},{name:"兴宾区",value:"451302",parent:"451300"},{name:"忻城县",value:"451321",parent:"451300"},{name:"象州县",value:"451322",parent:"451300"},{name:"武宣县",value:"451323",parent:"451300"},{name:"金秀瑶族自治县",value:"451324",parent:"451300"},{name:"合山市",value:"451381",parent:"451300"},{name:"江州区",value:"451402",parent:"451400"},{name:"扶绥县",value:"451421",parent:"451400"},{name:"宁明县",value:"451422",parent:"451400"},{name:"龙州县",value:"451423",parent:"451400"},{name:"大新县",value:"451424",parent:"451400"},{name:"天等县",value:"451425",parent:"451400"},{name:"凭祥市",value:"451481",parent:"451400"},{name:"海口市",value:"460100",parent:"460000"},{name:"三亚市",value:"460200",parent:"460000"},{name:"三沙市",value:"460300",parent:"460000"},{name:"儋州市",value:"460400",parent:"460000"},{name:"五指山市",value:"469001",parent:"460000"},{name:"琼海市",value:"469002",parent:"460000"},{name:"文昌市",value:"469005",parent:"460000"},{name:"万宁市",value:"469006",parent:"460000"},{name:"东方市",value:"469007",parent:"460000"},{name:"定安县",value:"469021",parent:"460000"},{name:"屯昌县",value:"469022",parent:"460000"},{name:"澄迈县",value:"469023",parent:"460000"},{name:"临高县",value:"469024",parent:"460000"},{name:"白沙黎族自治县",value:"469025",parent:"460000"},{name:"昌江黎族自治县",value:"469026",parent:"460000"},{name:"乐东黎族自治县",value:"469027",parent:"460000"},{name:"陵水黎族自治县",value:"469028",parent:"460000"},{name:"保亭黎族苗族自治县",value:"469029",parent:"460000"},{name:"琼中黎族苗族自治县",value:"469030",parent:"460000"},{name:"秀英区",value:"460105",parent:"460100"},{name:"龙华区",value:"460106",parent:"460100"},{name:"琼山区",value:"460107",parent:"460100"},{name:"美兰区",value:"460108",parent:"460100"},{name:"海棠区",value:"460202",parent:"460200"},{name:"吉阳区",value:"460203",parent:"460200"},{name:"天涯区",value:"460204",parent:"460200"},{name:"崖州区",value:"460205",parent:"460200"},{name:"市辖区",value:"500100",parent:"500000"},{name:"县",value:"500200",parent:"500000"},{name:"万州区",value:"500101",parent:"500100"},{name:"涪陵区",value:"500102",parent:"500100"},{name:"渝中区",value:"500103",parent:"500100"},{name:"大渡口区",value:"500104",parent:"500100"},{name:"江北区",value:"500105",parent:"500100"},{name:"沙坪坝区",value:"500106",parent:"500100"},{name:"九龙坡区",value:"500107",parent:"500100"},{name:"南岸区",value:"500108",parent:"500100"},{name:"北碚区",value:"500109",parent:"500100"},{name:"綦江区",value:"500110",parent:"500100"},{name:"大足区",value:"500111",parent:"500100"},{name:"渝北区",value:"500112",parent:"500100"},{name:"巴南区",value:"500113",parent:"500100"},{name:"黔江区",value:"500114",parent:"500100"},{name:"长寿区",value:"500115",parent:"500100"},{name:"江津区",value:"500116",parent:"500100"},{name:"合川区",value:"500117",parent:"500100"},{name:"永川区",value:"500118",parent:"500100"},{name:"南川区",value:"500119",parent:"500100"},{name:"璧山区",value:"500120",parent:"500100"},{name:"铜梁区",value:"500151",parent:"500100"},{name:"潼南区",value:"500152",parent:"500100"},{name:"荣昌区",value:"500153",parent:"500100"},{name:"开州区",value:"500154",parent:"500100"},{name:"梁平县",value:"500228",parent:"500200"},{name:"城口县",value:"500229",parent:"500200"},{name:"丰都县",value:"500230",parent:"500200"},{name:"垫江县",value:"500231",parent:"500200"},{name:"武隆县",value:"500232",parent:"500200"},{name:"忠县",value:"500233",parent:"500200"},{name:"云阳县",value:"500235",parent:"500200"},{name:"奉节县",value:"500236",parent:"500200"},{name:"巫山县",value:"500237",parent:"500200"},{name:"巫溪县",value:"500238",parent:"500200"},{name:"石柱土家族自治县",value:"500240",parent:"500200"},{name:"秀山土家族苗族自治县",value:"500241",parent:"500200"},{name:"酉阳土家族苗族自治县",value:"500242",parent:"500200"},{name:"彭水苗族土家族自治县",value:"500243",parent:"500200"},{name:"成都市",value:"510100",parent:"510000"},{name:"自贡市",value:"510300",parent:"510000"},{name:"攀枝花市",value:"510400",parent:"510000"},{name:"泸州市",value:"510500",parent:"510000"},{name:"德阳市",value:"510600",parent:"510000"},{name:"绵阳市",value:"510700",parent:"510000"},{name:"广元市",value:"510800",parent:"510000"},{name:"遂宁市",value:"510900",parent:"510000"},{name:"内江市",value:"511000",parent:"510000"},{name:"乐山市",value:"511100",parent:"510000"},{name:"南充市",value:"511300",parent:"510000"},{name:"眉山市",value:"511400",parent:"510000"},{name:"宜宾市",value:"511500",parent:"510000"},{name:"广安市",value:"511600",parent:"510000"},{name:"达州市",value:"511700",parent:"510000"},{name:"雅安市",value:"511800",parent:"510000"},{name:"巴中市",value:"511900",parent:"510000"},{name:"资阳市",value:"512000",parent:"510000"},{name:"阿坝藏族羌族自治州",value:"513200",parent:"510000"},{name:"甘孜藏族自治州",value:"513300",parent:"510000"},{name:"凉山彝族自治州",value:"513400",parent:"510000"},{name:"锦江区",value:"510104",parent:"510100"},{name:"青羊区",value:"510105",parent:"510100"},{name:"金牛区",value:"510106",parent:"510100"},{name:"武侯区",value:"510107",parent:"510100"},{name:"成华区",value:"510108",parent:"510100"},{name:"龙泉驿区",value:"510112",parent:"510100"},{name:"青白江区",value:"510113",parent:"510100"},{name:"新都区",value:"510114",parent:"510100"},{name:"温江区",value:"510115",parent:"510100"},{name:"双流区",value:"510116",parent:"510100"},{name:"金堂县",value:"510121",parent:"510100"},{name:"郫县",value:"510124",parent:"510100"},{name:"大邑县",value:"510129",parent:"510100"},{name:"蒲江县",value:"510131",parent:"510100"},{name:"新津县",value:"510132",parent:"510100"},{name:"都江堰市",value:"510181",parent:"510100"},{name:"彭州市",value:"510182",parent:"510100"},{name:"邛崃市",value:"510183",parent:"510100"},{name:"崇州市",value:"510184",parent:"510100"},{name:"简阳市",value:"510185",parent:"510100"},{name:"自流井区",value:"510302",parent:"510300"},{name:"贡井区",value:"510303",parent:"510300"},{name:"大安区",value:"510304",parent:"510300"},{name:"沿滩区",value:"510311",parent:"510300"},{name:"荣县",value:"510321",parent:"510300"},{name:"富顺县",value:"510322",parent:"510300"},{name:"东区",value:"510402",parent:"510400"},{name:"西区",value:"510403",parent:"510400"},{name:"仁和区",value:"510411",parent:"510400"},{name:"米易县",value:"510421",parent:"510400"},{name:"盐边县",value:"510422",parent:"510400"},{name:"江阳区",value:"510502",parent:"510500"},{name:"纳溪区",value:"510503",parent:"510500"},{name:"龙马潭区",value:"510504",parent:"510500"},{name:"泸县",value:"510521",parent:"510500"},{name:"合江县",value:"510522",parent:"510500"},{name:"叙永县",value:"510524",parent:"510500"},{name:"古蔺县",value:"510525",parent:"510500"},{name:"旌阳区",value:"510603",parent:"510600"},{name:"中江县",value:"510623",parent:"510600"},{name:"罗江县",value:"510626",parent:"510600"},{name:"广汉市",value:"510681",parent:"510600"},{name:"什邡市",value:"510682",parent:"510600"},{name:"绵竹市",value:"510683",parent:"510600"},{name:"涪城区",value:"510703",parent:"510700"},{name:"游仙区",value:"510704",parent:"510700"},{name:"安州区",value:"510705",parent:"510700"},{name:"三台县",value:"510722",parent:"510700"},{name:"盐亭县",value:"510723",parent:"510700"},{name:"梓潼县",value:"510725",parent:"510700"},{name:"北川羌族自治县",value:"510726",parent:"510700"},{name:"平武县",value:"510727",parent:"510700"},{name:"江油市",value:"510781",parent:"510700"},{name:"利州区",value:"510802",parent:"510800"},{name:"昭化区",value:"510811",parent:"510800"},{name:"朝天区",value:"510812",parent:"510800"},{name:"旺苍县",value:"510821",parent:"510800"},{name:"青川县",value:"510822",parent:"510800"},{name:"剑阁县",value:"510823",parent:"510800"},{name:"苍溪县",value:"510824",parent:"510800"},{name:"船山区",value:"510903",parent:"510900"},{name:"安居区",value:"510904",parent:"510900"},{name:"蓬溪县",value:"510921",parent:"510900"},{name:"射洪县",value:"510922",parent:"510900"},{name:"大英县",value:"510923",parent:"510900"},{name:"市中区",value:"511002",parent:"511000"},{name:"东兴区",value:"511011",parent:"511000"},{name:"威远县",value:"511024",parent:"511000"},{name:"资中县",value:"511025",parent:"511000"},{name:"隆昌县",value:"511028",parent:"511000"},{name:"市中区",value:"511102",parent:"511100"},{name:"沙湾区",value:"511111",parent:"511100"},{name:"五通桥区",value:"511112",parent:"511100"},{name:"金口河区",value:"511113",parent:"511100"},{name:"犍为县",value:"511123",parent:"511100"},{name:"井研县",value:"511124",parent:"511100"},{name:"夹江县",value:"511126",parent:"511100"},{name:"沐川县",value:"511129",parent:"511100"},{name:"峨边彝族自治县",value:"511132",parent:"511100"},{name:"马边彝族自治县",value:"511133",parent:"511100"},{name:"峨眉山市",value:"511181",parent:"511100"},{name:"顺庆区",value:"511302",parent:"511300"},{name:"高坪区",value:"511303",parent:"511300"},{name:"嘉陵区",value:"511304",parent:"511300"},{name:"南部县",value:"511321",parent:"511300"},{name:"营山县",value:"511322",parent:"511300"},{name:"蓬安县",value:"511323",parent:"511300"},{name:"仪陇县",value:"511324",parent:"511300"},{name:"西充县",value:"511325",parent:"511300"},{name:"阆中市",value:"511381",parent:"511300"},{name:"东坡区",value:"511402",parent:"511400"},{name:"彭山区",value:"511403",parent:"511400"},{name:"仁寿县",value:"511421",parent:"511400"},{name:"洪雅县",value:"511423",parent:"511400"},{name:"丹棱县",value:"511424",parent:"511400"},{name:"青神县",value:"511425",parent:"511400"},{name:"翠屏区",value:"511502",parent:"511500"},{name:"南溪区",value:"511503",parent:"511500"},{name:"宜宾县",value:"511521",parent:"511500"},{name:"江安县",value:"511523",parent:"511500"},{name:"长宁县",value:"511524",parent:"511500"},{name:"高县",value:"511525",parent:"511500"},{name:"珙县",value:"511526",parent:"511500"},{name:"筠连县",value:"511527",parent:"511500"},{name:"兴文县",value:"511528",parent:"511500"},{name:"屏山县",value:"511529",parent:"511500"},{name:"广安区",value:"511602",parent:"511600"},{name:"前锋区",value:"511603",parent:"511600"},{name:"岳池县",value:"511621",parent:"511600"},{name:"武胜县",value:"511622",parent:"511600"},{name:"邻水县",value:"511623",parent:"511600"},{name:"华蓥市",value:"511681",parent:"511600"},{name:"通川区",value:"511702",parent:"511700"},{name:"达川区",value:"511703",parent:"511700"},{name:"宣汉县",value:"511722",parent:"511700"},{name:"开江县",value:"511723",parent:"511700"},{name:"大竹县",value:"511724",parent:"511700"},{name:"渠县",value:"511725",parent:"511700"},{name:"万源市",value:"511781",parent:"511700"},{name:"雨城区",value:"511802",parent:"511800"},{name:"名山区",value:"511803",parent:"511800"},{name:"荥经县",value:"511822",parent:"511800"},{name:"汉源县",value:"511823",parent:"511800"},{name:"石棉县",value:"511824",parent:"511800"},{name:"天全县",value:"511825",parent:"511800"},{name:"芦山县",value:"511826",parent:"511800"},{name:"宝兴县",value:"511827",parent:"511800"},{name:"巴州区",value:"511902",parent:"511900"},{name:"恩阳区",value:"511903",parent:"511900"},{name:"通江县",value:"511921",parent:"511900"},{name:"南江县",value:"511922",parent:"511900"},{name:"平昌县",value:"511923",parent:"511900"},{name:"雁江区",value:"512002",parent:"512000"},{name:"安岳县",value:"512021",parent:"512000"},{name:"乐至县",value:"512022",parent:"512000"},{name:"马尔康市",value:"513201",parent:"513200"},{name:"汶川县",value:"513221",parent:"513200"},{name:"理县",value:"513222",parent:"513200"},{name:"茂县",value:"513223",parent:"513200"},{name:"松潘县",value:"513224",parent:"513200"},{name:"九寨沟县",value:"513225",parent:"513200"},{name:"金川县",value:"513226",parent:"513200"},{name:"小金县",value:"513227",parent:"513200"},{name:"黑水县",value:"513228",parent:"513200"},{name:"壤塘县",value:"513230",parent:"513200"},{name:"阿坝县",value:"513231",parent:"513200"},{name:"若尔盖县",value:"513232",parent:"513200"},{name:"红原县",value:"513233",parent:"513200"},{name:"康定市",value:"513301",parent:"513300"},{name:"泸定县",value:"513322",parent:"513300"},{name:"丹巴县",value:"513323",parent:"513300"},{name:"九龙县",value:"513324",parent:"513300"},{name:"雅江县",value:"513325",parent:"513300"},{name:"道孚县",value:"513326",parent:"513300"},{name:"炉霍县",value:"513327",parent:"513300"},{name:"甘孜县",value:"513328",parent:"513300"},{name:"新龙县",value:"513329",parent:"513300"},{name:"德格县",value:"513330",parent:"513300"},{name:"白玉县",value:"513331",parent:"513300"},{name:"石渠县",value:"513332",parent:"513300"},{name:"色达县",value:"513333",parent:"513300"},{name:"理塘县",value:"513334",parent:"513300"},{name:"巴塘县",value:"513335",parent:"513300"},{name:"乡城县",value:"513336",parent:"513300"},{name:"稻城县",value:"513337",parent:"513300"},{name:"得荣县",value:"513338",parent:"513300"},{name:"西昌市",value:"513401",parent:"513400"},{name:"木里藏族自治县",value:"513422",parent:"513400"},{name:"盐源县",value:"513423",parent:"513400"},{name:"德昌县",value:"513424",parent:"513400"},{name:"会理县",value:"513425",parent:"513400"},{name:"会东县",value:"513426",parent:"513400"},{name:"宁南县",value:"513427",parent:"513400"},{name:"普格县",value:"513428",parent:"513400"},{name:"布拖县",value:"513429",parent:"513400"},{name:"金阳县",value:"513430",parent:"513400"},{name:"昭觉县",value:"513431",parent:"513400"},{name:"喜德县",value:"513432",parent:"513400"},{name:"冕宁县",value:"513433",parent:"513400"},{name:"越西县",value:"513434",parent:"513400"},{name:"甘洛县",value:"513435",parent:"513400"},{name:"美姑县",value:"513436",parent:"513400"},{name:"雷波县",value:"513437",parent:"513400"},{name:"贵阳市",value:"520100",parent:"520000"},{name:"六盘水市",value:"520200",parent:"520000"},{name:"遵义市",value:"520300",parent:"520000"},{name:"安顺市",value:"520400",parent:"520000"},{name:"毕节市",value:"520500",parent:"520000"},{name:"铜仁市",value:"520600",parent:"520000"},{name:"黔西南布依族苗族自治州",value:"522300",parent:"520000"},{name:"黔东南苗族侗族自治州",value:"522600",parent:"520000"},{name:"黔南布依族苗族自治州",value:"522700",parent:"520000"},{name:"南明区",value:"520102",parent:"520100"},{name:"云岩区",value:"520103",parent:"520100"},{name:"花溪区",value:"520111",parent:"520100"},{name:"乌当区",value:"520112",parent:"520100"},{name:"白云区",value:"520113",parent:"520100"},{name:"观山湖区",value:"520115",parent:"520100"},{name:"开阳县",value:"520121",parent:"520100"},{name:"息烽县",value:"520122",parent:"520100"},{name:"修文县",value:"520123",parent:"520100"},{name:"清镇市",value:"520181",parent:"520100"},{name:"钟山区",value:"520201",parent:"520200"},{name:"六枝特区",value:"520203",parent:"520200"},{name:"水城县",value:"520221",parent:"520200"},{name:"盘县",value:"520222",parent:"520200"},{name:"红花岗区",value:"520302",parent:"520300"},{name:"汇川区",value:"520303",parent:"520300"},{name:"播州区",value:"520304",parent:"520300"},{name:"桐梓县",value:"520322",parent:"520300"},{name:"绥阳县",value:"520323",parent:"520300"},{name:"正安县",value:"520324",parent:"520300"},{name:"道真仡佬族苗族自治县",value:"520325",parent:"520300"},{name:"务川仡佬族苗族自治县",value:"520326",parent:"520300"},{name:"凤冈县",value:"520327",parent:"520300"},{name:"湄潭县",value:"520328",parent:"520300"},{name:"余庆县",value:"520329",parent:"520300"},{name:"习水县",value:"520330",parent:"520300"},{name:"赤水市",value:"520381",parent:"520300"},{name:"仁怀市",value:"520382",parent:"520300"},{name:"西秀区",value:"520402",parent:"520400"},{name:"平坝区",value:"520403",parent:"520400"},{name:"普定县",value:"520422",parent:"520400"},{name:"镇宁布依族苗族自治县",value:"520423",parent:"520400"},{name:"关岭布依族苗族自治县",value:"520424",parent:"520400"},{name:"紫云苗族布依族自治县",value:"520425",parent:"520400"},{name:"七星关区",value:"520502",parent:"520500"},{name:"大方县",value:"520521",parent:"520500"},{name:"黔西县",value:"520522",parent:"520500"},{name:"金沙县",value:"520523",parent:"520500"},{name:"织金县",value:"520524",parent:"520500"},{name:"纳雍县",value:"520525",parent:"520500"},{name:"威宁彝族回族苗族自治县",value:"520526",parent:"520500"},{name:"赫章县",value:"520527",parent:"520500"},{name:"碧江区",value:"520602",parent:"520600"},{name:"万山区",value:"520603",parent:"520600"},{name:"江口县",value:"520621",parent:"520600"},{name:"玉屏侗族自治县",value:"520622",parent:"520600"},{name:"石阡县",value:"520623",parent:"520600"},{name:"思南县",value:"520624",parent:"520600"},{name:"印江土家族苗族自治县",value:"520625",parent:"520600"},{name:"德江县",value:"520626",parent:"520600"},{name:"沿河土家族自治县",value:"520627",parent:"520600"},{name:"松桃苗族自治县",value:"520628",parent:"520600"},{name:"兴义市",value:"522301",parent:"522300"},{name:"兴仁县",value:"522322",parent:"522300"},{name:"普安县",value:"522323",parent:"522300"},{name:"晴隆县",value:"522324",parent:"522300"},{name:"贞丰县",value:"522325",parent:"522300"},{name:"望谟县",value:"522326",parent:"522300"},{name:"册亨县",value:"522327",parent:"522300"},{name:"安龙县",value:"522328",parent:"522300"},{name:"凯里市",value:"522601",parent:"522600"},{name:"黄平县",value:"522622",parent:"522600"},{name:"施秉县",value:"522623",parent:"522600"},{name:"三穗县",value:"522624",parent:"522600"},{name:"镇远县",value:"522625",parent:"522600"},{name:"岑巩县",value:"522626",parent:"522600"},{name:"天柱县",value:"522627",parent:"522600"},{name:"锦屏县",value:"522628",parent:"522600"},{name:"剑河县",value:"522629",parent:"522600"},{name:"台江县",value:"522630",parent:"522600"},{name:"黎平县",value:"522631",parent:"522600"},{name:"榕江县",value:"522632",parent:"522600"},{name:"从江县",value:"522633",parent:"522600"},{name:"雷山县",value:"522634",parent:"522600"},{name:"麻江县",value:"522635",parent:"522600"},{name:"丹寨县",value:"522636",parent:"522600"},{name:"都匀市",value:"522701",parent:"522700"},{name:"福泉市",value:"522702",parent:"522700"},{name:"荔波县",value:"522722",parent:"522700"},{name:"贵定县",value:"522723",parent:"522700"},{name:"瓮安县",value:"522725",parent:"522700"},{name:"独山县",value:"522726",parent:"522700"},{name:"平塘县",value:"522727",parent:"522700"},{name:"罗甸县",value:"522728",parent:"522700"},{name:"长顺县",value:"522729",parent:"522700"},{name:"龙里县",value:"522730",parent:"522700"},{name:"惠水县",value:"522731",parent:"522700"},{name:"三都水族自治县",value:"522732",parent:"522700"},{name:"昆明市",value:"530100",parent:"530000"},{name:"曲靖市",value:"530300",parent:"530000"},{name:"玉溪市",value:"530400",parent:"530000"},{name:"保山市",value:"530500",parent:"530000"},{name:"昭通市",value:"530600",parent:"530000"},{name:"丽江市",value:"530700",parent:"530000"},{name:"普洱市",value:"530800",parent:"530000"},{name:"临沧市",value:"530900",parent:"530000"},{name:"楚雄彝族自治州",value:"532300",parent:"530000"},{name:"红河哈尼族彝族自治州",value:"532500",parent:"530000"},{name:"文山壮族苗族自治州",value:"532600",parent:"530000"},{name:"西双版纳傣族自治州",value:"532800",parent:"530000"},{name:"大理白族自治州",value:"532900",parent:"530000"},{name:"德宏傣族景颇族自治州",value:"533100",parent:"530000"},{name:"怒江傈僳族自治州",value:"533300",parent:"530000"},{name:"迪庆藏族自治州",value:"533400",parent:"530000"},{name:"五华区",value:"530102",parent:"530100"},{name:"盘龙区",value:"530103",parent:"530100"},{name:"官渡区",value:"530111",parent:"530100"},{name:"西山区",value:"530112",parent:"530100"},{name:"东川区",value:"530113",parent:"530100"},{name:"呈贡区",value:"530114",parent:"530100"},{name:"晋宁县",value:"530122",parent:"530100"},{name:"富民县",value:"530124",parent:"530100"},{name:"宜良县",value:"530125",parent:"530100"},{name:"石林彝族自治县",value:"530126",parent:"530100"},{name:"嵩明县",value:"530127",parent:"530100"},{name:"禄劝彝族苗族自治县",value:"530128",parent:"530100"},{name:"寻甸回族彝族自治县",value:"530129",parent:"530100"},{name:"安宁市",value:"530181",parent:"530100"},{name:"麒麟区",value:"530302",parent:"530300"},{name:"沾益区",value:"530303",parent:"530300"},{name:"马龙县",value:"530321",parent:"530300"},{name:"陆良县",value:"530322",parent:"530300"},{name:"师宗县",value:"530323",parent:"530300"},{name:"罗平县",value:"530324",parent:"530300"},{name:"富源县",value:"530325",parent:"530300"},{name:"会泽县",value:"530326",parent:"530300"},{name:"宣威市",value:"530381",parent:"530300"},{name:"红塔区",value:"530402",parent:"530400"},{name:"江川区",value:"530403",parent:"530400"},{name:"澄江县",value:"530422",parent:"530400"},{name:"通海县",value:"530423",parent:"530400"},{name:"华宁县",value:"530424",parent:"530400"},{name:"易门县",value:"530425",parent:"530400"},{name:"峨山彝族自治县",value:"530426",parent:"530400"},{name:"新平彝族傣族自治县",value:"530427",parent:"530400"},{name:"元江哈尼族彝族傣族自治县",value:"530428",parent:"530400"},{name:"隆阳区",value:"530502",parent:"530500"},{name:"施甸县",value:"530521",parent:"530500"},{name:"龙陵县",value:"530523",parent:"530500"},{name:"昌宁县",value:"530524",parent:"530500"},{name:"腾冲市",value:"530581",parent:"530500"},{name:"昭阳区",value:"530602",parent:"530600"},{name:"鲁甸县",value:"530621",parent:"530600"},{name:"巧家县",value:"530622",parent:"530600"},{name:"盐津县",value:"530623",parent:"530600"},{name:"大关县",value:"530624",parent:"530600"},{name:"永善县",value:"530625",parent:"530600"},{name:"绥江县",value:"530626",parent:"530600"},{name:"镇雄县",value:"530627",parent:"530600"},{name:"彝良县",value:"530628",parent:"530600"},{name:"威信县",value:"530629",parent:"530600"},{name:"水富县",value:"530630",parent:"530600"},{name:"古城区",value:"530702",parent:"530700"},{name:"玉龙纳西族自治县",value:"530721",parent:"530700"},{name:"永胜县",value:"530722",parent:"530700"},{name:"华坪县",value:"530723",parent:"530700"},{name:"宁蒗彝族自治县",value:"530724",parent:"530700"},{name:"思茅区",value:"530802",parent:"530800"},{name:"宁洱哈尼族彝族自治县",value:"530821",parent:"530800"},{name:"墨江哈尼族自治县",value:"530822",parent:"530800"},{name:"景东彝族自治县",value:"530823",parent:"530800"},{name:"景谷傣族彝族自治县",value:"530824",parent:"530800"},{name:"镇沅彝族哈尼族拉祜族自治县",value:"530825",parent:"530800"},{name:"江城哈尼族彝族自治县",value:"530826",parent:"530800"},{name:"孟连傣族拉祜族佤族自治县",value:"530827",parent:"530800"},{name:"澜沧拉祜族自治县",value:"530828",parent:"530800"},{name:"西盟佤族自治县",value:"530829",parent:"530800"},{name:"临翔区",value:"530902",parent:"530900"},{name:"凤庆县",value:"530921",parent:"530900"},{name:"云县",value:"530922",parent:"530900"},{name:"永德县",value:"530923",parent:"530900"},{name:"镇康县",value:"530924",parent:"530900"},{name:"双江拉祜族佤族布朗族傣族自治县",value:"530925",parent:"530900"},{name:"耿马傣族佤族自治县",value:"530926",parent:"530900"},{name:"沧源佤族自治县",value:"530927",parent:"530900"},{name:"楚雄市",value:"532301",parent:"532300"},{name:"双柏县",value:"532322",parent:"532300"},{name:"牟定县",value:"532323",parent:"532300"},{name:"南华县",value:"532324",parent:"532300"},{name:"姚安县",value:"532325",parent:"532300"},{name:"大姚县",value:"532326",parent:"532300"},{name:"永仁县",value:"532327",parent:"532300"},{name:"元谋县",value:"532328",parent:"532300"},{name:"武定县",value:"532329",parent:"532300"},{name:"禄丰县",value:"532331",parent:"532300"},{name:"个旧市",value:"532501",parent:"532500"},{name:"开远市",value:"532502",parent:"532500"},{name:"蒙自市",value:"532503",parent:"532500"},{name:"弥勒市",value:"532504",parent:"532500"},{name:"屏边苗族自治县",value:"532523",parent:"532500"},{name:"建水县",value:"532524",parent:"532500"},{name:"石屏县",value:"532525",parent:"532500"},{name:"泸西县",value:"532527",parent:"532500"},{name:"元阳县",value:"532528",parent:"532500"},{name:"红河县",value:"532529",parent:"532500"},{name:"金平苗族瑶族傣族自治县",value:"532530",parent:"532500"},{name:"绿春县",value:"532531",parent:"532500"},{name:"河口瑶族自治县",value:"532532",parent:"532500"},{name:"文山市",value:"532601",parent:"532600"},{name:"砚山县",value:"532622",parent:"532600"},{name:"西畴县",value:"532623",parent:"532600"},{name:"麻栗坡县",value:"532624",parent:"532600"},{name:"马关县",value:"532625",parent:"532600"},{name:"丘北县",value:"532626",parent:"532600"},{name:"广南县",value:"532627",parent:"532600"},{name:"富宁县",value:"532628",parent:"532600"},{name:"景洪市",value:"532801",parent:"532800"},{name:"勐海县",value:"532822",parent:"532800"},{name:"勐腊县",value:"532823",parent:"532800"},{name:"大理市",value:"532901",parent:"532900"},{name:"漾濞彝族自治县",value:"532922",parent:"532900"},{name:"祥云县",value:"532923",parent:"532900"},{name:"宾川县",value:"532924",parent:"532900"},{name:"弥渡县",value:"532925",parent:"532900"},{name:"南涧彝族自治县",value:"532926",parent:"532900"},{name:"巍山彝族回族自治县",value:"532927",parent:"532900"},{name:"永平县",value:"532928",parent:"532900"},{name:"云龙县",value:"532929",parent:"532900"},{name:"洱源县",value:"532930",parent:"532900"},{name:"剑川县",value:"532931",parent:"532900"},{name:"鹤庆县",value:"532932",parent:"532900"},{name:"瑞丽市",value:"533102",parent:"533100"},{name:"芒市",value:"533103",parent:"533100"},{name:"梁河县",value:"533122",parent:"533100"},{name:"盈江县",value:"533123",parent:"533100"},{name:"陇川县",value:"533124",parent:"533100"},{name:"泸水市",value:"533301",parent:"533300"},{name:"福贡县",value:"533323",parent:"533300"},{name:"贡山独龙族怒族自治县",value:"533324",parent:"533300"},{name:"兰坪白族普米族自治县",value:"533325",parent:"533300"},{name:"香格里拉市",value:"533401",parent:"533400"},{name:"德钦县",value:"533422",parent:"533400"},{name:"维西傈僳族自治县",value:"533423",parent:"533400"},{name:"拉萨市",value:"540100",parent:"540000"},{name:"日喀则市",value:"540200",parent:"540000"},{name:"昌都市",value:"540300",parent:"540000"},{name:"林芝市",value:"540400",parent:"540000"},{name:"山南市",value:"540500",parent:"540000"},{name:"那曲地区",value:"542400",parent:"540000"},{name:"阿里地区",value:"542500",parent:"540000"},{name:"城关区",value:"540102",parent:"540100"},{name:"堆龙德庆区",value:"540103",parent:"540100"},{name:"林周县",value:"540121",parent:"540100"},{name:"当雄县",value:"540122",parent:"540100"},{name:"尼木县",value:"540123",parent:"540100"},{name:"曲水县",value:"540124",parent:"540100"},{name:"达孜县",value:"540126",parent:"540100"},{name:"墨竹工卡县",value:"540127",parent:"540100"},{name:"桑珠孜区",value:"540202",parent:"540200"},{name:"南木林县",value:"540221",parent:"540200"},{name:"江孜县",value:"540222",parent:"540200"},{name:"定日县",value:"540223",parent:"540200"},{name:"萨迦县",value:"540224",parent:"540200"},{name:"拉孜县",value:"540225",parent:"540200"},{name:"昂仁县",value:"540226",parent:"540200"},{name:"谢通门县",value:"540227",parent:"540200"},{name:"白朗县",value:"540228",parent:"540200"},{name:"仁布县",value:"540229",parent:"540200"},{name:"康马县",value:"540230",parent:"540200"},{name:"定结县",value:"540231",parent:"540200"},{name:"仲巴县",value:"540232",parent:"540200"},{name:"亚东县",value:"540233",parent:"540200"},{name:"吉隆县",value:"540234",parent:"540200"},{name:"聂拉木县",value:"540235",parent:"540200"},{name:"萨嘎县",value:"540236",parent:"540200"},{name:"岗巴县",value:"540237",parent:"540200"},{name:"卡若区",value:"540302",parent:"540300"},{name:"江达县",value:"540321",parent:"540300"},{name:"贡觉县",value:"540322",parent:"540300"},{name:"类乌齐县",value:"540323",parent:"540300"},{name:"丁青县",value:"540324",parent:"540300"},{name:"察雅县",value:"540325",parent:"540300"},{name:"八宿县",value:"540326",parent:"540300"},{name:"左贡县",value:"540327",parent:"540300"},{name:"芒康县",value:"540328",parent:"540300"},{name:"洛隆县",value:"540329",parent:"540300"},{name:"边坝县",value:"540330",parent:"540300"},{name:"巴宜区",value:"540402",parent:"540400"},{name:"工布江达县",value:"540421",parent:"540400"},{name:"米林县",value:"540422",parent:"540400"},{name:"墨脱县",value:"540423",parent:"540400"},{name:"波密县",value:"540424",parent:"540400"},{name:"察隅县",value:"540425",parent:"540400"},{name:"朗县",value:"540426",parent:"540400"},{name:"乃东区",value:"540502",parent:"540500"},{name:"扎囊县",value:"540521",parent:"540500"},{name:"贡嘎县",value:"540522",parent:"540500"},{name:"桑日县",value:"540523",parent:"540500"},{name:"琼结县",value:"540524",parent:"540500"},{name:"曲松县",value:"540525",parent:"540500"},{name:"措美县",value:"540526",parent:"540500"},{name:"洛扎县",value:"540527",parent:"540500"},{name:"加查县",value:"540528",parent:"540500"},{name:"隆子县",value:"540529",parent:"540500"},{name:"错那县",value:"540530",parent:"540500"},{name:"浪卡子县",value:"540531",parent:"540500"},{name:"那曲县",value:"542421",parent:"542400"},{name:"嘉黎县",value:"542422",parent:"542400"},{name:"比如县",value:"542423",parent:"542400"},{name:"聂荣县",value:"542424",parent:"542400"},{name:"安多县",value:"542425",parent:"542400"},{name:"申扎县",value:"542426",parent:"542400"},{name:"索县",value:"542427",parent:"542400"},{name:"班戈县",value:"542428",parent:"542400"},{name:"巴青县",value:"542429",parent:"542400"},{name:"尼玛县",value:"542430",parent:"542400"},{name:"双湖县",value:"542431",parent:"542400"},{name:"普兰县",value:"542521",parent:"542500"},{name:"札达县",value:"542522",parent:"542500"},{name:"噶尔县",value:"542523",parent:"542500"},{name:"日土县",value:"542524",parent:"542500"},{name:"革吉县",value:"542525",parent:"542500"},{name:"改则县",value:"542526",parent:"542500"},{name:"措勤县",value:"542527",parent:"542500"},{name:"西安市",value:"610100",parent:"610000"},{name:"铜川市",value:"610200",parent:"610000"},{name:"宝鸡市",value:"610300",parent:"610000"},{name:"咸阳市",value:"610400",parent:"610000"},{name:"渭南市",value:"610500",parent:"610000"},{name:"延安市",value:"610600",parent:"610000"},{name:"汉中市",value:"610700",parent:"610000"},{name:"榆林市",value:"610800",parent:"610000"},{name:"安康市",value:"610900",parent:"610000"},{name:"商洛市",value:"611000",parent:"610000"},{name:"新城区",value:"610102",parent:"610100"},{name:"碑林区",value:"610103",parent:"610100"},{name:"莲湖区",value:"610104",parent:"610100"},{name:"灞桥区",value:"610111",parent:"610100"},{name:"未央区",value:"610112",parent:"610100"},{name:"雁塔区",value:"610113",parent:"610100"},{name:"阎良区",value:"610114",parent:"610100"},{name:"临潼区",value:"610115",parent:"610100"},{name:"长安区",value:"610116",parent:"610100"},{name:"高陵区",value:"610117",parent:"610100"},{name:"蓝田县",value:"610122",parent:"610100"},{name:"周至县",value:"610124",parent:"610100"},{name:"户县",value:"610125",parent:"610100"},{name:"王益区",value:"610202",parent:"610200"},{name:"印台区",value:"610203",parent:"610200"},{name:"耀州区",value:"610204",parent:"610200"},{name:"宜君县",value:"610222",parent:"610200"},{name:"渭滨区",value:"610302",parent:"610300"},{name:"金台区",value:"610303",parent:"610300"},{name:"陈仓区",value:"610304",parent:"610300"},{name:"凤翔县",value:"610322",parent:"610300"},{name:"岐山县",value:"610323",parent:"610300"},{name:"扶风县",value:"610324",parent:"610300"},{name:"眉县",value:"610326",parent:"610300"},{name:"陇县",value:"610327",parent:"610300"},{name:"千阳县",value:"610328",parent:"610300"},{name:"麟游县",value:"610329",parent:"610300"},{name:"凤县",value:"610330",parent:"610300"},{name:"太白县",value:"610331",parent:"610300"},{name:"秦都区",value:"610402",parent:"610400"},{name:"杨陵区",value:"610403",parent:"610400"},{name:"渭城区",value:"610404",parent:"610400"},{name:"三原县",value:"610422",parent:"610400"},{name:"泾阳县",value:"610423",parent:"610400"},{name:"乾县",value:"610424",parent:"610400"},{name:"礼泉县",value:"610425",parent:"610400"},{name:"永寿县",value:"610426",parent:"610400"},{name:"彬县",value:"610427",parent:"610400"},{name:"长武县",value:"610428",parent:"610400"},{name:"旬邑县",value:"610429",parent:"610400"},{name:"淳化县",value:"610430",parent:"610400"},{name:"武功县",value:"610431",parent:"610400"},{name:"兴平市",value:"610481",parent:"610400"},{name:"临渭区",value:"610502",parent:"610500"},{name:"华州区",value:"610503",parent:"610500"},{name:"潼关县",value:"610522",parent:"610500"},{name:"大荔县",value:"610523",parent:"610500"},{name:"合阳县",value:"610524",parent:"610500"},{name:"澄城县",value:"610525",parent:"610500"},{name:"蒲城县",value:"610526",parent:"610500"},{name:"白水县",value:"610527",parent:"610500"},{name:"富平县",value:"610528",parent:"610500"},{name:"韩城市",value:"610581",parent:"610500"},{name:"华阴市",value:"610582",parent:"610500"},{name:"宝塔区",value:"610602",parent:"610600"},{name:"安塞区",value:"610603",parent:"610600"},{name:"延长县",value:"610621",parent:"610600"},{name:"延川县",value:"610622",parent:"610600"},{name:"子长县",value:"610623",parent:"610600"},{name:"志丹县",value:"610625",parent:"610600"},{name:"吴起县",value:"610626",parent:"610600"},{name:"甘泉县",value:"610627",parent:"610600"},{name:"富县",value:"610628",parent:"610600"},{name:"洛川县",value:"610629",parent:"610600"},{name:"宜川县",value:"610630",parent:"610600"},{name:"黄龙县",value:"610631",parent:"610600"},{name:"黄陵县",value:"610632",parent:"610600"},{name:"汉台区",value:"610702",parent:"610700"},{name:"南郑县",value:"610721",parent:"610700"},{name:"城固县",value:"610722",parent:"610700"},{name:"洋县",value:"610723",parent:"610700"},{name:"西乡县",value:"610724",parent:"610700"},{name:"勉县",value:"610725",parent:"610700"},{name:"宁强县",value:"610726",parent:"610700"},{name:"略阳县",value:"610727",parent:"610700"},{name:"镇巴县",value:"610728",parent:"610700"},{name:"留坝县",value:"610729",parent:"610700"},{name:"佛坪县",value:"610730",parent:"610700"},{name:"榆阳区",value:"610802",parent:"610800"},{name:"横山区",value:"610803",parent:"610800"},{name:"神木县",value:"610821",parent:"610800"},{name:"府谷县",value:"610822",parent:"610800"},{name:"靖边县",value:"610824",parent:"610800"},{name:"定边县",value:"610825",parent:"610800"},{name:"绥德县",value:"610826",parent:"610800"},{name:"米脂县",value:"610827",parent:"610800"},{name:"佳县",value:"610828",parent:"610800"},{name:"吴堡县",value:"610829",parent:"610800"},{name:"清涧县",value:"610830",parent:"610800"},{name:"子洲县",value:"610831",parent:"610800"},{name:"汉滨区",value:"610902",parent:"610900"},{name:"汉阴县",value:"610921",parent:"610900"},{name:"石泉县",value:"610922",parent:"610900"},{name:"宁陕县",value:"610923",parent:"610900"},{name:"紫阳县",value:"610924",parent:"610900"},{name:"岚皋县",value:"610925",parent:"610900"},{name:"平利县",value:"610926",parent:"610900"},{name:"镇坪县",value:"610927",parent:"610900"},{name:"旬阳县",value:"610928",parent:"610900"},{name:"白河县",value:"610929",parent:"610900"},{name:"商州区",value:"611002",parent:"611000"},{name:"洛南县",value:"611021",parent:"611000"},{name:"丹凤县",value:"611022",parent:"611000"},{name:"商南县",value:"611023",parent:"611000"},{name:"山阳县",value:"611024",parent:"611000"},{name:"镇安县",value:"611025",parent:"611000"},{name:"柞水县",value:"611026",parent:"611000"},{name:"兰州市",value:"620100",parent:"620000"},{name:"嘉峪关市",value:"620200",parent:"620000"},{name:"金昌市",value:"620300",parent:"620000"},{name:"白银市",value:"620400",parent:"620000"},{name:"天水市",value:"620500",parent:"620000"},{name:"武威市",value:"620600",parent:"620000"},{name:"张掖市",value:"620700",parent:"620000"},{name:"平凉市",value:"620800",parent:"620000"},{name:"酒泉市",value:"620900",parent:"620000"},{name:"庆阳市",value:"621000",parent:"620000"},{name:"定西市",value:"621100",parent:"620000"},{name:"陇南市",value:"621200",parent:"620000"},{name:"临夏回族自治州",value:"622900",parent:"620000"},{name:"甘南藏族自治州",value:"623000",parent:"620000"},{name:"城关区",value:"620102",parent:"620100"},{name:"七里河区",value:"620103",parent:"620100"},{name:"西固区",value:"620104",parent:"620100"},{name:"安宁区",value:"620105",parent:"620100"},{name:"红古区",value:"620111",parent:"620100"},{name:"永登县",value:"620121",parent:"620100"},{name:"皋兰县",value:"620122",parent:"620100"},{name:"榆中县",value:"620123",parent:"620100"},{name:"金川区",value:"620302",parent:"620300"},{name:"永昌县",value:"620321",parent:"620300"},{name:"白银区",value:"620402",parent:"620400"},{name:"平川区",value:"620403",parent:"620400"},{name:"靖远县",value:"620421",parent:"620400"},{name:"会宁县",value:"620422",parent:"620400"},{name:"景泰县",value:"620423",parent:"620400"},{name:"秦州区",value:"620502",parent:"620500"},{name:"麦积区",value:"620503",parent:"620500"},{name:"清水县",value:"620521",parent:"620500"},{name:"秦安县",value:"620522",parent:"620500"},{name:"甘谷县",value:"620523",parent:"620500"},{name:"武山县",value:"620524",parent:"620500"},{name:"张家川回族自治县",value:"620525",parent:"620500"},{name:"凉州区",value:"620602",parent:"620600"},{name:"民勤县",value:"620621",parent:"620600"},{name:"古浪县",value:"620622",parent:"620600"},{name:"天祝藏族自治县",value:"620623",parent:"620600"},{name:"甘州区",value:"620702",parent:"620700"},{name:"肃南裕固族自治县",value:"620721",parent:"620700"},{name:"民乐县",value:"620722",parent:"620700"},{name:"临泽县",value:"620723",parent:"620700"},{name:"高台县",value:"620724",parent:"620700"},{name:"山丹县",value:"620725",parent:"620700"},{name:"崆峒区",value:"620802",parent:"620800"},{name:"泾川县",value:"620821",parent:"620800"},{name:"灵台县",value:"620822",parent:"620800"},{name:"崇信县",value:"620823",parent:"620800"},{name:"华亭县",value:"620824",parent:"620800"},{name:"庄浪县",value:"620825",parent:"620800"},{name:"静宁县",value:"620826",parent:"620800"},{name:"肃州区",value:"620902",parent:"620900"},{name:"金塔县",value:"620921",parent:"620900"},{name:"瓜州县",value:"620922",parent:"620900"},{name:"肃北蒙古族自治县",value:"620923",parent:"620900"},{name:"阿克塞哈萨克族自治县",value:"620924",parent:"620900"},{name:"玉门市",value:"620981",parent:"620900"},{name:"敦煌市",value:"620982",parent:"620900"},{name:"西峰区",value:"621002",parent:"621000"},{name:"庆城县",value:"621021",parent:"621000"},{name:"环县",value:"621022",parent:"621000"},{name:"华池县",value:"621023",parent:"621000"},{name:"合水县",value:"621024",parent:"621000"},{name:"正宁县",value:"621025",parent:"621000"},{name:"宁县",value:"621026",parent:"621000"},{name:"镇原县",value:"621027",parent:"621000"},{name:"安定区",value:"621102",parent:"621100"},{name:"通渭县",value:"621121",parent:"621100"},{name:"陇西县",value:"621122",parent:"621100"},{name:"渭源县",value:"621123",parent:"621100"},{name:"临洮县",value:"621124",parent:"621100"},{name:"漳县",value:"621125",parent:"621100"},{name:"岷县",value:"621126",parent:"621100"},{name:"武都区",value:"621202",parent:"621200"},{name:"成县",value:"621221",parent:"621200"},{name:"文县",value:"621222",parent:"621200"},{name:"宕昌县",value:"621223",parent:"621200"},{name:"康县",value:"621224",parent:"621200"},{name:"西和县",value:"621225",parent:"621200"},{name:"礼县",value:"621226",parent:"621200"},{name:"徽县",value:"621227",parent:"621200"},{name:"两当县",value:"621228",parent:"621200"},{name:"临夏市",value:"622901",parent:"622900"},{name:"临夏县",value:"622921",parent:"622900"},{name:"康乐县",value:"622922",parent:"622900"},{name:"永靖县",value:"622923",parent:"622900"},{name:"广河县",value:"622924",parent:"622900"},{name:"和政县",value:"622925",parent:"622900"},{name:"东乡族自治县",value:"622926",parent:"622900"},{name:"积石山保安族东乡族撒拉族自治县",value:"622927",parent:"622900"},{name:"合作市",value:"623001",parent:"623000"},{name:"临潭县",value:"623021",parent:"623000"},{name:"卓尼县",value:"623022",parent:"623000"},{name:"舟曲县",value:"623023",parent:"623000"},{name:"迭部县",value:"623024",parent:"623000"},{name:"玛曲县",value:"623025",parent:"623000"},{name:"碌曲县",value:"623026",parent:"623000"},{name:"夏河县",value:"623027",parent:"623000"},{name:"西宁市",value:"630100",parent:"630000"},{name:"海东市",value:"630200",parent:"630000"},{name:"海北藏族自治州",value:"632200",parent:"630000"},{name:"黄南藏族自治州",value:"632300",parent:"630000"},{name:"海南藏族自治州",value:"632500",parent:"630000"},{name:"果洛藏族自治州",value:"632600",parent:"630000"},{name:"玉树藏族自治州",value:"632700",parent:"630000"},{name:"海西蒙古族藏族自治州",value:"632800",parent:"630000"},{name:"城东区",value:"630102",parent:"630100"},{name:"城中区",value:"630103",parent:"630100"},{name:"城西区",value:"630104",parent:"630100"},{name:"城北区",value:"630105",parent:"630100"},{name:"大通回族土族自治县",value:"630121",parent:"630100"},{name:"湟中县",value:"630122",parent:"630100"},{name:"湟源县",value:"630123",parent:"630100"},{name:"乐都区",value:"630202",parent:"630200"},{name:"平安区",value:"630203",parent:"630200"},{name:"民和回族土族自治县",value:"630222",parent:"630200"},{name:"互助土族自治县",value:"630223",parent:"630200"},{name:"化隆回族自治县",value:"630224",parent:"630200"},{name:"循化撒拉族自治县",value:"630225",parent:"630200"},{name:"门源回族自治县",value:"632221",parent:"632200"},{name:"祁连县",value:"632222",parent:"632200"},{name:"海晏县",value:"632223",parent:"632200"},{name:"刚察县",value:"632224",parent:"632200"},{name:"同仁县",value:"632321",parent:"632300"},{name:"尖扎县",value:"632322",parent:"632300"},{name:"泽库县",value:"632323",parent:"632300"},{name:"河南蒙古族自治县",value:"632324",parent:"632300"},{name:"共和县",value:"632521",parent:"632500"},{name:"同德县",value:"632522",parent:"632500"},{name:"贵德县",value:"632523",parent:"632500"},{name:"兴海县",value:"632524",parent:"632500"},{name:"贵南县",value:"632525",parent:"632500"},{name:"玛沁县",value:"632621",parent:"632600"},{name:"班玛县",value:"632622",parent:"632600"},{name:"甘德县",value:"632623",parent:"632600"},{name:"达日县",value:"632624",parent:"632600"},{name:"久治县",value:"632625",parent:"632600"},{name:"玛多县",value:"632626",parent:"632600"},{name:"玉树市",value:"632701",parent:"632700"},{name:"杂多县",value:"632722",parent:"632700"},{name:"称多县",value:"632723",parent:"632700"},{name:"治多县",value:"632724",parent:"632700"},{name:"囊谦县",value:"632725",parent:"632700"},{name:"曲麻莱县",value:"632726",parent:"632700"},{name:"格尔木市",value:"632801",parent:"632800"},{name:"德令哈市",value:"632802",parent:"632800"},{name:"乌兰县",value:"632821",parent:"632800"},{name:"都兰县",value:"632822",parent:"632800"},{name:"天峻县",value:"632823",parent:"632800"},{name:"银川市",value:"640100",parent:"640000"},{name:"石嘴山市",value:"640200",parent:"640000"},{name:"吴忠市",value:"640300",parent:"640000"},{name:"固原市",value:"640400",parent:"640000"},{name:"中卫市",value:"640500",parent:"640000"},{name:"兴庆区",value:"640104",parent:"640100"},{name:"西夏区",value:"640105",parent:"640100"},{name:"金凤区",value:"640106",parent:"640100"},{name:"永宁县",value:"640121",parent:"640100"},{name:"贺兰县",value:"640122",parent:"640100"},{name:"灵武市",value:"640181",parent:"640100"},{name:"大武口区",value:"640202",parent:"640200"},{name:"惠农区",value:"640205",parent:"640200"},{name:"平罗县",value:"640221",parent:"640200"},{name:"利通区",value:"640302",parent:"640300"},{name:"红寺堡区",value:"640303",parent:"640300"},{name:"盐池县",value:"640323",parent:"640300"},{name:"同心县",value:"640324",parent:"640300"},{name:"青铜峡市",value:"640381",parent:"640300"},{name:"原州区",value:"640402",parent:"640400"},{name:"西吉县",value:"640422",parent:"640400"},{name:"隆德县",value:"640423",parent:"640400"},{name:"泾源县",value:"640424",parent:"640400"},{name:"彭阳县",value:"640425",parent:"640400"},{name:"沙坡头区",value:"640502",parent:"640500"},{name:"中宁县",value:"640521",parent:"640500"},{name:"海原县",value:"640522",parent:"640500"},{name:"乌鲁木齐市",value:"650100",parent:"650000"},{name:"克拉玛依市",value:"650200",parent:"650000"},{name:"吐鲁番市",value:"650400",parent:"650000"},{name:"哈密市",value:"650500",parent:"650000"},{name:"昌吉回族自治州",value:"652300",parent:"650000"},{name:"博尔塔拉蒙古自治州",value:"652700",parent:"650000"},{name:"巴音郭楞蒙古自治州",value:"652800",parent:"650000"},{name:"阿克苏地区",value:"652900",parent:"650000"},{name:"克孜勒苏柯尔克孜自治州",value:"653000",parent:"650000"},{name:"喀什地区",value:"653100",parent:"650000"},{name:"和田地区",value:"653200",parent:"650000"},{name:"伊犁哈萨克自治州",value:"654000",parent:"650000"},{name:"塔城地区",value:"654200",parent:"650000"},{name:"阿勒泰地区",value:"654300",parent:"650000"},{name:"石河子市",value:"659001",parent:"650000"},{name:"阿拉尔市",value:"659002",parent:"650000"},{name:"图木舒克市",value:"659003",parent:"650000"},{name:"五家渠市",value:"659004",parent:"650000"},{name:"铁门关市",value:"659006",parent:"650000"},{name:"天山区",value:"650102",parent:"650100"},{name:"沙依巴克区",value:"650103",parent:"650100"},{name:"新市区",value:"650104",parent:"650100"},{name:"水磨沟区",value:"650105",parent:"650100"},{name:"头屯河区",value:"650106",parent:"650100"},{name:"达坂城区",value:"650107",parent:"650100"},{name:"米东区",value:"650109",parent:"650100"},{name:"乌鲁木齐县",value:"650121",parent:"650100"},{name:"独山子区",value:"650202",parent:"650200"},{name:"克拉玛依区",value:"650203",parent:"650200"},{name:"白碱滩区",value:"650204",parent:"650200"},{name:"乌尔禾区",value:"650205",parent:"650200"},{name:"高昌区",value:"650402",parent:"650400"},{name:"鄯善县",value:"650421",parent:"650400"},{name:"托克逊县",value:"650422",parent:"650400"},{name:"伊州区",value:"650502",parent:"650500"},{name:"巴里坤哈萨克自治县",value:"650521",parent:"650500"},{name:"伊吾县",value:"650522",parent:"650500"},{name:"昌吉市",value:"652301",parent:"652300"},{name:"阜康市",value:"652302",parent:"652300"},{name:"呼图壁县",value:"652323",parent:"652300"},{name:"玛纳斯县",value:"652324",parent:"652300"},{name:"奇台县",value:"652325",parent:"652300"},{name:"吉木萨尔县",value:"652327",parent:"652300"},{name:"木垒哈萨克自治县",value:"652328",parent:"652300"},{name:"博乐市",value:"652701",parent:"652700"},{name:"阿拉山口市",value:"652702",parent:"652700"},{name:"精河县",value:"652722",parent:"652700"},{name:"温泉县",value:"652723",parent:"652700"},{name:"库尔勒市",value:"652801",parent:"652800"},{name:"轮台县",value:"652822",parent:"652800"},{name:"尉犁县",value:"652823",parent:"652800"},{name:"若羌县",value:"652824",parent:"652800"},{name:"且末县",value:"652825",parent:"652800"},{name:"焉耆回族自治县",value:"652826",parent:"652800"},{name:"和静县",value:"652827",parent:"652800"},{name:"和硕县",value:"652828",parent:"652800"},{name:"博湖县",value:"652829",parent:"652800"},{name:"阿克苏市",value:"652901",parent:"652900"},{name:"温宿县",value:"652922",parent:"652900"},{name:"库车县",value:"652923",parent:"652900"},{name:"沙雅县",value:"652924",parent:"652900"},{name:"新和县",value:"652925",parent:"652900"},{name:"拜城县",value:"652926",parent:"652900"},{name:"乌什县",value:"652927",parent:"652900"},{name:"阿瓦提县",value:"652928",parent:"652900"},{name:"柯坪县",value:"652929",parent:"652900"},{name:"阿图什市",value:"653001",parent:"653000"},{name:"阿克陶县",value:"653022",parent:"653000"},{name:"阿合奇县",value:"653023",parent:"653000"},{name:"乌恰县",value:"653024",parent:"653000"},{name:"喀什市",value:"653101",parent:"653100"},{name:"疏附县",value:"653121",parent:"653100"},{name:"疏勒县",value:"653122",parent:"653100"},{name:"英吉沙县",value:"653123",parent:"653100"},{name:"泽普县",value:"653124",parent:"653100"},{name:"莎车县",value:"653125",parent:"653100"},{name:"叶城县",value:"653126",parent:"653100"},{name:"麦盖提县",value:"653127",parent:"653100"},{name:"岳普湖县",value:"653128",parent:"653100"},{name:"伽师县",value:"653129",parent:"653100"},{name:"巴楚县",value:"653130",parent:"653100"},{name:"塔什库尔干塔吉克自治县",value:"653131",parent:"653100"},{name:"和田市",value:"653201",parent:"653200"},{name:"和田县",value:"653221",parent:"653200"},{name:"墨玉县",value:"653222",parent:"653200"},{name:"皮山县",value:"653223",parent:"653200"},{name:"洛浦县",value:"653224",parent:"653200"},{name:"策勒县",value:"653225",parent:"653200"},{name:"于田县",value:"653226",parent:"653200"},{name:"民丰县",value:"653227",parent:"653200"},{name:"伊宁市",value:"654002",parent:"654000"},{name:"奎屯市",value:"654003",parent:"654000"},{name:"霍尔果斯市",value:"654004",parent:"654000"},{name:"伊宁县",value:"654021",parent:"654000"},{name:"察布查尔锡伯自治县",value:"654022",parent:"654000"},{name:"霍城县",value:"654023",parent:"654000"},{name:"巩留县",value:"654024",parent:"654000"},{name:"新源县",value:"654025",parent:"654000"},{name:"昭苏县",value:"654026",parent:"654000"},{name:"特克斯县",value:"654027",parent:"654000"},{name:"尼勒克县",value:"654028",parent:"654000"},{name:"塔城市",value:"654201",parent:"654200"},{name:"乌苏市",value:"654202",parent:"654200"},{name:"额敏县",value:"654221",parent:"654200"},{name:"沙湾县",value:"654223",parent:"654200"},{name:"托里县",value:"654224",parent:"654200"},{name:"裕民县",value:"654225",parent:"654200"},{name:"和布克赛尔蒙古自治县",value:"654226",parent:"654200"},{name:"阿勒泰市",value:"654301",parent:"654300"},{name:"布尔津县",value:"654321",parent:"654300"},{name:"富蕴县",value:"654322",parent:"654300"},{name:"福海县",value:"654323",parent:"654300"},{name:"哈巴河县",value:"654324",parent:"654300"},{name:"青河县",value:"654325",parent:"654300"},{name:"吉木乃县",value:"654326",parent:"654300"},{name:"中西區",value:"810001",parent:"810000"},{name:"灣仔區",value:"810002",parent:"810000"},{name:"東區",value:"810003",parent:"810000"},{name:"南區",value:"810004",parent:"810000"},{name:"油尖旺區",value:"810005",parent:"810000"},{name:"深水埗區",value:"810006",parent:"810000"},{name:"九龍城區",value:"810007",parent:"810000"},{name:"黃大仙區",value:"810008",parent:"810000"},{name:"觀塘區",value:"810009",parent:"810000"},{name:"荃灣區",value:"810010",parent:"810000"},{name:"屯門區",value:"810011",parent:"810000"},{name:"元朗區",value:"810012",parent:"810000"},{name:"北區",value:"810013",parent:"810000"},{name:"大埔區",value:"810014",parent:"810000"},{name:"西貢區",value:"810015",parent:"810000"},{name:"沙田區",value:"810016",parent:"810000"},{name:"葵青區",value:"810017",parent:"810000"},{name:"離島區",value:"810018",parent:"810000"},{name:"花地瑪堂區",value:"820001",parent:"820000"},{name:"花王堂區",value:"820002",parent:"820000"},{name:"望德堂區",value:"820003",parent:"820000"},{name:"大堂區",value:"820004",parent:"820000"},{name:"風順堂區",value:"820005",parent:"820000"},{name:"嘉模堂區",value:"820006",parent:"820000"},{name:"路氹填海區",value:"820007",parent:"820000"},{name:"聖方濟各堂區",value:"820008",parent:"820000"},{name:"--",value:"--",parent:"139000"},{name:"--",value:"--",parent:"139001"},{name:"--",value:"--",parent:"139002"},{name:"--",value:"--",parent:"419000"},{name:"--",value:"--",parent:"419001"},{name:"--",value:"--",parent:"429000"},{name:"--",value:"--",parent:"429004"},{name:"--",value:"--",parent:"429005"},{name:"--",value:"--",parent:"429006"},{name:"--",value:"--",parent:"429021"},{name:"--",value:"--",parent:"441900"},{name:"--",value:"--",parent:"442000"},{name:"--",value:"--",parent:"460300"},{name:"--",value:"--",parent:"460400"},{name:"--",value:"--",parent:"469000"},{name:"--",value:"--",parent:"469001"},{name:"--",value:"--",parent:"469002"},{name:"--",value:"--",parent:"469005"},{name:"--",value:"--",parent:"469006"},{name:"--",value:"--",parent:"469007"},{name:"--",value:"--",parent:"469021"},{name:"--",value:"--",parent:"469022"},{name:"--",value:"--",parent:"469023"},{name:"--",value:"--",parent:"469024"},{name:"--",value:"--",parent:"469025"},{name:"--",value:"--",parent:"469026"},{name:"--",value:"--",parent:"469027"},{name:"--",value:"--",parent:"469028"},{name:"--",value:"--",parent:"469029"},{name:"--",value:"--",parent:"469030"},{name:"--",value:"--",parent:"620200"},{name:"--",value:"--",parent:"659000"},{name:"--",value:"--",parent:"659001"},{name:"--",value:"--",parent:"659002"},{name:"--",value:"--",parent:"659003"},{name:"--",value:"--",parent:"659004"},{name:"--",value:"--",parent:"659006"}]},KFpY:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages xsbj-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),e._l(e.CostList,function(t,n){return a("div",{key:n,staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"费用明细"+(n+1)}},[a("cell",{attrs:{title:"费用名称","is-link":""},nativeOn:{click:function(a){e.getCost(n,t)}},model:{value:t.exptName,callback:function(a){e.$set(t,"exptName",a)},expression:"item.exptName"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("费用名称\n              ")])])],2),e._v(" "),a("cell",{attrs:{title:"费用科目",value:t.expSubject}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("费用科目")])])],2),e._v(" "),a("popup-picker",{attrs:{title:"发票类型",data:e.invoiceTypeList},model:{value:t.tdInvoiceType,callback:function(a){e.$set(t,"tdInvoiceType",a)},expression:"item.tdInvoiceType"}}),e._v(" "),a("x-input",{attrs:{title:"申请金额","text-align":"right",placeholder:"请填写",type:"number"},on:{"on-focus":function(t){e.getFocus(t)},"on-blur":function(a){e.checkAmt(t)}},model:{value:t.tdAmount,callback:function(a){e.$set(t,"tdAmount",e._n(a))},expression:"item.tdAmount"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("申请金额\n              ")])])],2),e._v(" "),a("cell",{attrs:{title:"不含税金额",value:t.noTaxAmount}}),e._v(" "),a("x-input",{attrs:{title:"税率","text-align":"right",placeholder:"请填写",type:"number"},on:{"on-focus":function(t){e.getFocus(t)},"on-blur":function(a){e.checkAmt(t)}},model:{value:t.taxRate,callback:function(a){e.$set(t,"taxRate",e._n(a))},expression:"item.taxRate"}}),e._v(" "),a("cell",{attrs:{title:"税金",value:t.taxAmount}}),e._v(" "),a("x-input",{attrs:{type:"text",title:"报销事由","text-align":"right",placeholder:"请填写"},model:{value:t.expCause,callback:function(a){e.$set(t,"expCause",a)},expression:"item.expCause"}})],1)],1)}),e._v(" "),a("div",{staticClass:"add_more"},[e._v("\n        您还需要添加新的报销?请点击\n        "),a("span",{staticClass:"add",on:{click:e.addCost}},[e._v("新增")]),e._v(" "),a("em",{directives:[{name:"show",rawName:"v-show",value:e.CostList.length>1,expression:"CostList.length>1"}]},[e._v("或")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.CostList.length>1,expression:"CostList.length>1"}],staticClass:"delete",on:{click:e.deleteCost}},[e._v("删除")])]),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"其他信息"}},[a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-cost-list",{ref:"matter",attrs:{show:e.showCostPop,defaultValue:e.selectedCost,"group-id":e.formData.handlerUnit},on:{"sel-matter":e.selMatter},model:{value:e.showCostPop,callback:function(t){e.showCostPop=t},expression:"showCostPop"}})],2)]),e._v(" "),a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num"},[a("span",{staticStyle:{fontSize:".14rem"}},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.totalAmount,3))+"\n    ")]),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"count_btn stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},KQLG:function(e,t){},KR0i:function(e,t,a){"use strict";function n(e){a("iA9Z")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("J5wU");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("gqL/"),o=a.n(s),l=a("uBOa"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-5e290102",null);t.default=c.exports},KgkH:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"app_top"},[a("r-search",{on:{search:e.searchMat}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("tab",{attrs:{"line-width":2,"default-color":"#757575","active-color":"#2c2727"}},e._l(e.matNature,function(t,n){return a("tab-item",{key:n,attrs:{selected:n===e.activeIndex},on:{"on-item-click":function(a){e.tabClick(t,n)}}},[e._v(e._s(t.name)+"\n          ")])}))],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"app_main",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.matterList.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.matterList,function(t,n){return a("div",{key:n,staticClass:"each_mater",class:{visited:t.visited},on:{click:function(a){e.goDetail(t,n)}}},[a("div",{staticClass:"mater_img"},[a("img",{attrs:{src:t.inventoryPic,alt:"mater_img"},on:{error:function(a){e.getDefaultImg(t)}}})]),e._v(" "),a("div",{staticClass:"mater_main"},[a("div",{staticClass:"mater_name"},[a("span",{staticClass:"whiNum"},[e._v("No."+e._s(n+1))]),e._v("\n            "+e._s(t.inventoryName)+"\n          ")]),e._v(" "),a("div",{staticClass:"mater_info vux-1px-b"},[a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline",staticStyle:{display:"inline-block"}},[a("div",{staticClass:"mater_code"},[a("span",{staticClass:"title"},[e._v("编码")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(t.inventoryCode))])])]),e._v(" "),a("div",{staticClass:"ForInline",staticStyle:{display:"inline-block"}},[a("div",{staticClass:"mater_spec"},[a("span",{staticClass:"title"},[e._v("规格")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(t.specification||"无"))])])])]),e._v(" "),a("div",{staticClass:"withoutColor"},[a("div",{staticClass:"mater_classify"},[a("span",{staticClass:"father"},[e._v("大类: "+e._s(t.inventoryType||"无"))]),e._v(" "),a("span",{staticClass:"child"},[e._v("子类: "+e._s(t.inventorySubclass||"无"))])]),e._v(" "),a("div",{staticClass:"mater_material"},[a("div",[a("span",{staticClass:"type"},[e._v("属性: "+e._s(t.processing))]),e._v(" "),a("span",{staticClass:"unit"},[e._v("单位: "+e._s(t.measureUnit||"无"))])]),e._v(" "),a("div",[a("span",{staticClass:"color"},[e._v("颜色: "+e._s(t.inventoryColor||"无"))]),e._v(" "),a("span",{staticClass:"spec"},[e._v("材质: "+e._s(t.material||"无"))])])])])])])])}))],1),e._v(" "),e.action.add?a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEditAds}},[e._v("新增")])]):e._e(),e._v(" "),a("router-view")],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"Khn/":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages fgysqk-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[e.orderList.length?[a("div",{staticClass:"title"},[e._v("汇票明细")]),e._v(" "),e._l(e.orderList,function(t,n){return a("div",{key:n,staticClass:"order-detail",class:{"vux-1px-t":0!==n}},[a("div",{staticClass:"detail-item top"},[a("span",{staticClass:"info-item"},[e._v(e._s(t.draftNumber))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"info-item"},[e._v("类型: "+e._s(t.draftType))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("承兑人: "+e._s(t.accepter))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("金额: "+e._s(e._f("numberComma")(t.tdAmount)))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"info-item"},[e._v("出票日: "+e._s(t.draftDate))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("到期日: "+e._s(t.draftDueDate))])]),e._v(" "),a("datetime",{model:{value:t.cashingDiscountDate,callback:function(a){e.$set(t,"cashingDiscountDate",a)},expression:"item.cashingDiscountDate"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("兑现贴现日")])])],2),e._v(" "),a("x-input",{attrs:{"text-align":"right",placeholder:"请填写",type:"number"},on:{"on-blur":function(a){e.checkAmt(t,n)},"on-focus":function(t){e.getFocus(t)}},model:{value:t.discount,callback:function(a){e.$set(t,"discount",e._n(a))},expression:"item.discount"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("贴息")])])],2),e._v(" "),a("cell",{attrs:{value:t.thenAmntBal}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("现后余额")])])],2),e._v(" "),a("x-input",{attrs:{title:"说明","text-align":"right",placeholder:"请填写"},model:{value:t.comment,callback:function(a){e.$set(t,"comment",a)},expression:"item.comment"}})],1)})]:a("div",{staticClass:"order-info",on:{click:function(t){e.showOrder=!0}}},[a("div",{staticClass:"title"},[e._v("汇票明细")]),e._v(" "),a("div",{staticClass:"mode required"},[e._v("请选择汇票明细")]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r-arrow"})])],2),e._v(" "),e.orderList.length?a("div",{staticClass:"handle_part vx-1px-t"},[e.orderList.length?a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多")]):e._e()]):e._e(),e._v(" "),a("pop-cash-list",{attrs:{"default-value":e.cashInfo,request:"2",required:!0},on:{"sel-item":e.selCash}},[a("template",{slot:"other"},[a("cell",{attrs:{title:"收款金额",value:e.tdAmount}})],1)],2),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"其他信息"}},[a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-money-order-list",{attrs:{show:e.showOrder,"default-value":e.orderList,request:"1","get-list-method":"getCashDiscount"},on:{"sel-item":e.selOrder},scopedSlots:e._u([{key:"amount",fn:function(t){var n=t.item;return[a("span",[e._v("金额: "+e._s(e._f("numberComma")(n.amntTbMatched)))])]}}]),model:{value:e.showOrder,callback:function(t){e.showOrder=t},expression:"showOrder"}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},KiER:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("a3Yh"),o=n(s),l=a("4YfN"),d=n(l),u=a("IHPB"),c=n(u),f=a("3cXf"),m=n(f),h=a("HXPS"),v=n(h),p=a("SAzG"),C=n(p),_=a("PzEQ"),y=n(_),b=a("kNGm"),g=(n(b),a("jnZd")),w=n(g),I=a("Nk/b"),x=n(I),D=a("0AQX"),P=a("HyXB"),k=a("bKg5"),S=n(k),T=a("vl8n"),L=n(T),N=a("kZy/"),M=n(N),A=a("luHD"),O=n(A),R=a("zlAJ"),j=n(R),$=a("+WR7"),B=n($);t.default={data:function(){return{matterList:[],showMaterielPop:!1,transCode:"",formData:{biComment:"",biId:"",biProcessStatus:""},priceMap:{},showDealerPop:!1,dealerTypeList:[],currentType:"",showPrice:!1,pickerStyle:{zIndex:550}}},components:{Icon:v.default,XInput:C.default,RPicker:L.default,XTextarea:y.default,PopupPicker:w.default,Picker:x.default,PopMatterList:M.default,PopMatter:O.default,UploadFile:j.default,PopBaseinfo:B.default},mixins:[S.default],methods:{onChange:function(e,t){t.drDealerLabel=e[0]},initRequest:function(){var e=this;return(0,P.getDictByType)("dealerRelLabel").then(function(t){var a=t.tableContent,n=[];a.forEach(function(e){n.push(e.name)}),e.dealerTypeList.push(n)})},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=this;this.matterList.forEach(function(t){e.priceMap[t.inventoryCode]={price:t.price,drDealerLabel:t.drDealerLabel,PopDealerLabel:t.PopDealerLabel,qtyOnline:t.qtyOnline,qtyDownline:t.qtyDownline,specialReservePrice:t.specialReservePrice}}),this.showMaterielPop=!this.showMaterielPop},selMatter:function(e){var t=this,a=JSON.parse(e);a.forEach(function(e){var a=t.priceMap[e.inventoryCode]||{};e.price=a.price||"",e.qtyOnline=a.qtyOnline||"",e.qtyDownline=a.qtyDownline||"",e.specialReservePrice=a.specialReservePrice||"",e.PopDealerLabel=a.PopDealerLabel||[],e.drDealerLabel=a.drDealerLabel||""}),this.priceMap={},this.matterList=[].concat((0,c.default)(a))},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},save:function(){var e=this,t="",a=[],n=[{key:"drDealerLabel",message:"请选择客户类型"},{key:"qtyDownline",message:"请填写数量下线"},{key:"qtyOnline",message:"请填写数量上线"},{key:"price",message:"请填写标准价格"},{key:"specialReservePrice",message:"请填写特批低价"}];if(this.matterList.length||(t="请选择物料"),t||this.matterList.every(function(i){n.every(function(e){return i[e.key]||(t=e.message),!t});var r={transObjCode:i.inventoryCode,drDealerLabel:i.drDealerLabel,qtyDownline:i.qtyDownline,qtyOnline:i.qtyOnline,price:i.price,specialReservePrice:i.specialReservePrice,comment:""};return e.transCode&&(r.tdId=i.tdId||""),a.push(r),!t}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=P.saveAndStartWf,n=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,order:{dataSet:a}}),i={listId:e.listId,biComment:"",formData:(0,m.default)(n),wfPara:(0,m.default)((0,o.default)({},e.processCode,{businessKey:"PQ",createdBy:n.creator}))};e.transCode&&(t=P.saveAndCommitTask,i.biReferenceId=e.biReferenceId,i.wfPara=(0,m.default)({businessKey:e.transCode,createdBy:n.creator,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=P.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,D.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var u=[];e.attachment=l;var c=s.order,f=c.dataSet,m=void 0===f?[]:f,h=!0,v=!1,p=void 0;try{for(var C,_=(0,r.default)(m);!(h=(C=_.next()).done);h=!0){var y=C.value;y=(0,d.default)({},y,{inventoryCode:y.transObjCode,inventoryName:y.inventoryName_transObjCode,measureUnit:y.measureUnit_transObjCode,specification:y.specification_transObjCode,PopDealerLabel:[y.drDealerLabel],inventoryPic:y.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+y.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}),u.push(y)}}catch(e){v=!0,p=e}finally{try{!h&&_.return&&_.return()}finally{if(v)throw p}}e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:s.biComment,biId:s.biId,biProcessStatus:s.biProcessStatus,creator:s.creator,modifer:s.modifer}),e.biReferenceId=s.biReferenceId,e.matterList=u,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,o.default)({},"CPJG_DATA",{matter:this.matterList,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("CPJG_DATA");e&&(this.matterList=JSON.parse(e).matter,this.formData=JSON.parse(e).formData,sessionStorage.removeItem("CPJG_DATA"))}}},Kisd:function(e,t){},KnX9:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("KH7x"),r=n(i),s=a("HXPS"),o=n(s),l=a("+62G"),d=n(l),u=a("Nk/b"),c=n(u),f=a("7g+Q"),m=n(f);t.default={name:"RPicker",props:{title:{type:String,default:""},value:{type:String,default:""},data:{type:Array,default:function(){return[]}},required:{type:Boolean,default:!1},pickerStatus:{type:Boolean,default:!0},mode:{type:String,default:"1"},showArrow:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"},hasBorder:{type:Boolean,default:!0},hasBorderTop:{type:Boolean,default:!1}},data:function(){return{show:!1,currentValue:"",showValue:""}},watch:{value:{handler:function(e){this.showValue=e,this.currentValue=e?[e]:[],this.$emit("on-change",e)}}},directives:{TransferDom:d.default},components:{Picker:c.default,Popup:m.default,Icon:o.default},methods:{confirm:function(){var e=(0,r.default)(this.currentValue,1),t=e[0],a=void 0===t?"":t;this.show=!1,this.$emit("input",a)},showStatus:function(){this.pickerStatus&&!this.disabled&&(this.show=!this.show)}},created:function(){this.currentValue=[this.value],this.showValue=this.value}}},Koy8:function(e,t){},Kppu:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2482,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[i.default],methods:{},created:function(){}}},"Kuu/":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("HyXB"),v=a("1KNX"),p=n(v),C=a("7biW"),_=n(C);t.default={name:"PopUserList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:m.default,RScroll:p.default,RSearch:_.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:100,page:1,hasNext:!0,scrollOptions:{pullUpLoad:!0},filterProperty:"",filterList:[{name:"姓名",value:"nickname"},{name:"工号",value:"userCode"}]}},watch:{show:{handler:function(e){this.showPop=e},immediate:!0},defaultValue:{handler:function(e){this.selItems=(0,d.default)({},this.defaultValue)},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){return this.selItems.userCode===e.userCode},selThis:function(e,t){this.selItems=(0,d.default)({},e),this.$emit("sel-item",(0,d.default)({},e)),this.$emit("input",!1)},getDefaultImg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.gender,n=void 0===t?"":t,i=a("男"===n?"cr7Q":"Atv/");return e&&(e.photo=i),i},getUserList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,h.getUserList)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i,s={1:{text:"使用中",class:"inUse"},2:{text:"未使用",class:"unUse"},3:{text:"草稿",class:"offUse"},"-1":{text:"停用",class:"offUse"}};r.forEach(function(t){var a=s[t.status]||{};t.photo=t.photo||e.getDefaultImg(t),t.statusText=a.text,t.statusClass=a.class}),e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,o.default)(e.listData),(0,o.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.resetCondition(),this.getUserList()},onPullingUp:function(){this.page++,this.getUserList()},resetCondition:function(){this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)}},created:function(){this.getUserList()}}},KxAj:function(e,t){},KzA7:function(e,t,a){"use strict";function n(e){a("8L9u")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("YG92");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("MtqW"),o=a.n(s),l=a("0sah"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-198c4612",null);t.default=c.exports},KzBm:function(e,t){},"L+WK":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages xmjh-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,"default-contact":e.contactInfo},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("div",{staticClass:"materiel_list"},[a("div",{staticClass:"title"},[e._v("发票信息")]),e._v(" "),a("group",{staticClass:"SJ_group",on:{"group-title-margin-top":function(e){}}},[a("x-input",{attrs:{title:"票号","text-align":"right",placeholder:"请填写"},on:{"on-focus":function(t){e.getFocus(t)}},model:{value:e.invoiceInfo.ticketNumber,callback:function(t){e.$set(e.invoiceInfo,"ticketNumber",t)},expression:"invoiceInfo.ticketNumber"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("票号")])])],2),e._v(" "),a("popup-picker",{attrs:{title:"发票类型",data:e.invoiceType,"text-align":"right",placeholder:"请选择"},on:{"on-change":function(t){e.typeTask(t)}},model:{value:e.invoiceGetType,callback:function(t){e.invoiceGetType=t},expression:"invoiceGetType"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("发票类型")])])],2),e._v(" "),a("datetime",{attrs:{title:"发票日期","text-align":"right",placeholder:"请选择"},model:{value:e.invoiceInfo.invoiceDate,callback:function(t){e.$set(e.invoiceInfo,"invoiceDate",t)},expression:"invoiceInfo.invoiceDate"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("发票日期")])])],2),e._v(" "),a("x-input",{attrs:{title:"发票内容","text-align":"right",placeholder:"请填写"},on:{"on-focus":function(t){e.getFocus(t)}},model:{value:e.invoiceInfo.invoiceContent,callback:function(t){e.$set(e.invoiceInfo,"invoiceContent",t)},expression:"invoiceInfo.invoiceContent"}})],1)],1),e._v(" "),a("div",{staticClass:"materiel_list"},[Object.keys(e.orderList).length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v("物料列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n,i){return a("div",{key:n,staticClass:"each_mater",class:{"vux-1px-b":i<Object.keys(e.orderList).length-1}},[t.length?a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v("申请单")]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]):e._e(),e._v(" "),e._l(t,function(t,i){return a("div",{key:i,class:{mater_delete:e.matterModifyClass}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass},on:{"on-modify":function(a){e.modifyMatter(t,i,n)}},nativeOn:{click:function(a){e.delClick(i,t,n)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_more"},[a("span",{staticClass:"unit"},[e._v("属性: "+e._s(n.processing))]),e._v(" "),a("span",{staticClass:"mater_color"},[e._v("颜色: "+e._s(n.inventoryColor||"无"))]),e._v(" "),a("span",{staticClass:"unit"},[e._v("单位: "+e._s(n.measureUnit))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.taxRate,expression:"item.taxRate"}]},[e._v("税率: "+e._s(n.taxRate||e.taxRate))])]),e._v(" "),a("div",{staticClass:"mater_more"},[a("span",[e._v("待开票数量: "+e._s(n.qtyBal))])]),e._v(" "),n.price&&n.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price)+"\n                      ")]),e._v(" "),a("div",[a("r-number",{attrs:{num:n.tdQty,max:n.qtyBal,checkAmt:e.checkAmt},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",t)},expression:"item.tdQty"}})],1)]):e._e()]}},{key:"editPart",fn:function(t){var r=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r.price&&r.tdQty&&!e.matterModifyClass,expression:"(item.price && item.tdQty) &&!matterModifyClass"}],staticClass:"edit-part vux-1px-l",on:{click:function(t){e.modifyMatter(r,i,n)}}},[a("span",{staticClass:"iconfont icon-bianji1"})])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(i,t,n)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)})],2)}))]:[a("div",{staticClass:"no-matter",on:{click:e.getMatter}},[a("div",{staticClass:"title"},[e._v("物料列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择物料")]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),e.matterList.length?a("span",{staticClass:"add_more",on:{click:e.addMatter}},[e._v("新增更多物料")]):e._e()]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showMaterielPop,params:e.matterParams,"get-list-method":"getManyVATBilling","default-value":e.matterList},on:{"sel-matter":e.selMatter},scopedSlots:e._u([{key:"titleName",fn:function(t){return[a("span",{staticClass:"order-title"},[e._v("申请单")])]}},{key:"storage",fn:function(t){var n=t.item;return[a("div",[a("span",[e._v("数量余额: "+e._s(n.qtyBal||0))])])]}}]),model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}})],2),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,"show-date-time":!0},on:{"sel-confirm":e.selConfirm},scopedSlots:e._u([{key:"qtyBal",fn:function(t){var n=t.modifyMatter;return[a("div",[a("span",[e._v("待开票数量: "+e._s(n.qtyBal))])])]}},{key:"modify",fn:function(t){var n=t.modifyMatter;return[a("x-input",{attrs:{type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",e._n(t))},expression:"modifyMatter.tdQty"}},[a("span",{staticClass:"required",attrs:{slot:"label"},slot:"label"},[e._v("本次开票数量")])]),e._v(" "),a("x-input",{attrs:{type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.price,callback:function(t){e.$set(n,"price",e._n(t))},expression:"modifyMatter.price"}},[a("span",{staticClass:"required",attrs:{slot:"label"},slot:"label"},[e._v("单价")])]),e._v(" "),a("x-input",{attrs:{type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.taxRate,callback:function(t){e.$set(n,"taxRate",e._n(t))},expression:"modifyMatter.taxRate"}},[a("span",{staticClass:"required",attrs:{slot:"label"},slot:"label"},[e._v("税率")])])]}}]),model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("op-button",{attrs:{"is-modify":e.matterModifyClass,hide:e.btnIsHide,"td-amount":e.tdAmount,"tax-amount":e.taxAmount,"all-check":e.selItems.length===e.matterList.length},on:{"on-submit":e.submitOrder,"on-check-all":e.checkAll,"on-delete":e.deleteCheckd}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"L+mO":function(e,t){},"L/+s":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("BGNQ"),o=n(s),l=a("z5TY"),d=n(l),u=a("kNGm"),c=(n(u),a("0AQX"),a("jLp1")),f=a("+VRO"),m=n(f),h=a("PKHo"),v=n(h),p=a("vl8n"),C=n(p);t.default={data:function(){return{projectTask:{},comment:{}}},mixins:[m.default,v.default],components:{Group:d.default,Cell:o.default,RPicker:C.default},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,c.findProjectTask)(t).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=t.attachment,s=void 0===i?[]:i,o=n.projectTask||{};e.jsonData=n,e.attachment=s,e.comment=n.comment,e.projectTask=(0,r.default)({},o,{deadline:e.changeDate(o.deadline),actualCompleteTime:e.changeDate(o.actualCompleteTime)}),e.orderInfo=(0,r.default)({},n.baseinfo,{biStatus:"已生效"})})}},created:function(){}}},L61s:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("kNGm"),r=(n(i),a("0AQX")),s=a("+VRO"),o=n(s);t.default={data:function(){return{userData:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},uploadStyle:{width:"100%",padding:"0.06rem 0.1rem"}}},mixins:[o.default],methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,r.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=o,e.userData=r,e.workFlowInfoHandler()})},goEdit:function(){var e=this.$route.params,t=e.fileId,a=e.listId,n=this.$route.query.name;this.$router.push({path:"/fillform/"+t+"/"+a,query:{name:n,transCode:this.transCode}})}}}},LBhX:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("KH7x"),o=n(s),l=a("Jwlx"),d=n(l),u=a("kpbF"),c=a("1KNX"),f=n(c),m=a("Qg39"),h=(a("zWMP"),a("iR2W")),v=n(h);t.default={name:"ZCFZForm",data:function(){return{headerSwiper:null,partRightSwiper:null,code:"",headInfo:{},listData:{},listMap:{ZCFZ:{title:"资产负债表",firstName:"期初",LastName:"期末",request:u.getOffBalance},LR:{title:"利润表",firstName:"上期",LastName:"本期",request:u.getProfit}},scrollOptions:{bounce:{top:!1}}}},components:{RScroll:f.default},methods:{getData:function(){var e=this;return this.listMap[this.code].request().then(function(t){var a=t.data,n=void 0===a?[]:a,i={};n.forEach(function(e){var t=i[e.assetType];t?t.items.push((0,d.default)(e)):i[e.assetType]={assetType:e.assetType,items:[(0,d.default)(e)]}}),e.listData=i,e.$nextTick(function(){e.setHeight(e.$refs.partLeftContent,e.$refs.partRightInit,e.$refs.partRightFinal),"ZCFZ"===e.code&&e.setHeight(e.$refs.partLeftTitle,e.$refs.partRightInitTitle,e.$refs.partRightFinalTitle),e.$loading.hide()})})},setHeight:function(e){for(var t=arguments.length,a=Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];var i=(0,o.default)(a,1),r=i[0];e&&e.forEach(function(e,t){var n=r[t];e.clientHeight!==n.clientHeight&&a.forEach(function(a){a[t].style.height=e.clientHeight+"px"})})},initSwiper:function(){var e=this;this.$nextTick(function(){e.partRightSwiper=new e.Swiper(".part-right"),e.headerSwiper=new e.Swiper(".swiper-container-header"),e.partRightSwiper.controller.control=e.headerSwiper,e.headerSwiper.controller.control=e.partRightSwiper})}},filters:{formatNum:function(e){return e?(0,v.default)((0,m.toFixed)(e))+"元":"-"}},created:function(){var e=this.$route.query.code,t=void 0===e?"":e;this.code=t,this.headInfo=(0,r.default)({},this.listMap[t]),this.initSwiper(),this.getData()}}},LEI5:function(e,t){},LETL:function(e,t){},LGX9:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement;return(e._self._c||t)("i",{class:[e.className,e.isMsg?"weui-icon_msg":""]})},i=[],r={render:n,staticRenderFns:i};t.a=r},LIUC:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("+62G"),o=n(s),l=a("7g+Q"),d=n(l),u=a("z5TY"),c=n(u),f=a("HXPS"),m=n(f),h=a("d5Kw"),v=n(h),p=a("kNGm"),C=(n(p),a("1KNX")),_=n(C),y=a("I8ug"),b=a("d3k1"),g=n(b),w=a("Qg39");t.default={data:function(){return{scrollOptions:{click:!0},logShow:!1,pickerStatus:!1,scopeList:[{name:"表单",selected:!1},{name:"科目关系",selected:!1},{name:"报销",selected:!1},{name:"工作流",selected:!1},{name:"权限",selected:!1}],submitData:{scope:"",spendTime:1,content:""},scopeType:[],listId:"",btnIsHide:!1,clientHeight:document.documentElement.clientHeight}},directives:{TransferDom:o.default},components:{Popup:d.default,Group:c.default,Icon:m.default,XButton:v.default,RScroll:_.default},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},EditLogPop:function(){var e=this;if(this.pickerStatus=!0,this.scopeType=[],this.submitData.scope){this.submitData.scope.split(",").forEach(function(t){var a={name:t};e.scopeType.push(a)})}},showSelIcon:function(e){return-1!==this.scopeType.findIndex(function(t){return t.name===e.name})},selectType:function(e){e.selected=!e.selected;var t=this.scopeType,a=t.findIndex(function(t){return t.name===e.name});if(-1!==a)return void t.splice(a,1);t.push(e)},cfmMater:function(){var e=this;this.pickerStatus=!1,this.submitData.scope="",this.scopeType.forEach(function(t){if(e.submitData.scope.length)return void(e.submitData.scope+=","+t.name);e.submitData.scope+=t.name})},checkVal:function(e){var t=e.spendTime;t&&(e.spendTime=Math.abs((0,w.toFixed)(t)))},submitLog:function(){var e=this,t="";if([{key:"scope",message:"【更新范围】"},{key:"spendTime",message:"【耗用时间】"},{key:"content",message:"【更新内容】"}].every(function(a){return""!==e.submitData[a.key]||(t=a.message+"不能为空",!1)}),t)return void this.$vux.alert.show({content:t});(0,y.saveLog)((0,r.default)({},this.submitData,{listId:this.listId})).then(function(t){t.success&&(e.submitSuccess=!0,e.$vux.alert.show({content:"提交成功",onHide:function(){e.$router.go(-1)}}))})},getFocus:function(e){event.currentTarget.select()}},created:function(){var e=this.$route.params.listId;e&&(this.listId=e)},mounted:function(){var e=this;g.default.isAndroid&&(window.onresize=function(){e.clientHeight>document.documentElement.clientHeight?e.btnIsHide=!0:e.btnIsHide=!1})},beforeRouteLeave:function(e,t,a){e.path;this.submitSuccess&&"APPDETAIL"===e.name&&(e.meta.reload=!0),a()}}},LK0i:function(e,t){},LOVB:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("3cXf"),o=n(s),l=a("+62G"),d=n(l),u=a("7g+Q"),c=n(u),f=a("z5TY"),m=n(f),h=a("HXPS"),v=n(h),p=a("d5Kw"),C=n(p),_=a("kNGm"),y=n(_),b=a("1KNX"),g=n(b),w=a("I8ug"),I=a("9r/T");t.default={name:"ChangeLog",props:{handle:{type:Boolean,default:!1}},data:function(){return{page:1,limit:10,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},mySwiper:null,popupShow:!1,adminCommentList:[],listId:"a4897429-f4f2-44a4-ade7-2fe8dc67c3cf",scrollHeight:0,seletedIndex:null}},directives:{TransferDom:d.default},components:{Popup:c.default,Group:m.default,Icon:v.default,XButton:C.default,RScroll:g.default},filters:{handerTime:function(e){return(0,y.default)(e,"YYYY-MM")}},methods:{onShow:function(){var e=this;this.$nextTick(function(){if(e.$refs.bScroll){e.$refs.bScroll.refresh();var t=e.$refs.bScroll.$refs.bScroll.offsetHeight,a=e.$refs.bScroll.$refs.scrollWrapper.offsetHeight,n=a-t;a>t&&(e.scrollHeight>n&&(e.scrollHeight=n),e.$refs.bScroll.scrollTo(0,-e.scrollHeight))}}),(0,I.setTimeout)(function(){e.seletedIndex=null},1e3)},getUserDefault:function(e){var t=a("cr7Q");return e&&(e.photo=t),t},getMoreComment:function(){this.popupShow=!0,this.scrollHeight=0},goPop:function(e){var t=this;this.seletedIndex=e,this.popupShow=!0,this.scrollHeight=0,this.$nextTick(function(){0!==e&&t.$refs.eachComment.forEach(function(a,n){n<e&&(t.scrollHeight+=a.offsetHeight)})})},getAdminComment:function(){var e=this;return(0,w.getAdminCommentList)({listId:this.listId,limit:this.limit,page:this.page,sort:(0,o.default)([{property:"crtTime",direction:"DESC"}])}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,s=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+s.length,s.forEach(function(e){e.achievement.includes("<")&&!e.achievement.includes("img")?(e.modifyAchievement=e.achievement.replace(/<\/?[^>]*>/g,""),e.modifyAchievement=e.modifyAchievement.replace(/\s+/g,"</br>")):e.modifyAchievement=e.achievement,e.chance.includes("<")&&!e.chance.includes("img")?(e.modifyChance=e.chance.replace(/<\/?[^>]*>/g,""),e.modifyChance=e.modifyChance.replace(/\s+/g,"</br>")):e.modifyChance=e.chance}),e.adminCommentList=1===e.page?s:[].concat((0,r.default)(e.adminCommentList),(0,r.default)(s)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},onPullingUp:function(){this.page++,this.getAdminComment()},closePop:function(){this.popupShow=!1},EditAdmin:function(){this.$router.push({path:"/appDetail/"+this.listId+"/addAdminComment"})}},created:function(){var e=this.$route.params.listId;e&&(this.listId=e,this.getAdminComment())},mounted:function(){var e=this.Swiper;this.mySwiper=new e(".admin-comment-container",{slidesPerView:"auto",observer:!0,observeParents:!0,centeredSlides:!0})}}},LOzK:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"r-picker ",class:{"r-picker-2":"2"===e.mode,"r-picker-3":"3"===e.mode,"r-picker-4":"4"===e.mode,"vux-1px-b":e.hasBorder,"vux-1px-t":e.hasBorderTop},on:{click:e.showStatus}},["1"===e.mode||"2"===e.mode?[a("label",{class:{required:e.required}},[e._v(e._s(e.title))]),e._v(" "),a("div",{staticClass:"picker"},[a("span",{staticClass:"horizontal-title",class:{required:e.required}},[e._v(e._s(e.title))]),e._v(" "),a("span",{staticClass:"mater_nature"},[e._v(e._s(e.showValue))]),e._v(" "),e.showArrow?a("span",{staticClass:"iconfont icon-youjiantou r_arrow"}):a("span",{staticClass:"iconfont icon-gengduo",class:e.pickerStatus?"":"iconfont_fff"})])]:"3"===e.mode?[a("div",{staticClass:"title",class:{required:e.required}},[e._v(e._s(e.title))]),e._v(" "),a("div",{staticClass:"mode"},[e._v(e._s(e.showValue||e.placeholder))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!e.disabled,expression:"!disabled"}],staticClass:"iconfont icon-youjiantou r_arrow"})]:"4"===e.mode?[a("div",{staticClass:"title",class:{required:e.required}},[e._v(e._s(e.title))]),e._v(" "),a("div",{staticClass:"mode"},[e._v(e._s(e.showValue))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!e.disabled,expression:"!disabled"}],staticClass:"iconfont icon-youjiantou r_arrow"})]:e._e(),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{attrs:{id:"trade_pop_part"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[a("div",[a("div",{staticClass:"popup_header vux-1px-b"},[a("span",{staticClass:"cancel",on:{click:function(t){e.show=!1}}},[e._v("取消")]),e._v(" "),a("span",{staticClass:"confirm",on:{click:e.confirm}},[e._v("确认")])]),e._v(" "),a("picker",{attrs:{data:e.data,columns:1,value:e.currentValue},model:{value:e.currentValue,callback:function(t){e.currentValue=t},expression:"currentValue"}})],1)])],1)],2)},i=[],r={render:n,staticRenderFns:i};t.a=r},LQmC:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("HXPS"),d=n(l),u=a("7g+Q"),c=n(u),f=a("6q39"),m=n(f),h=a("kNGm"),v=n(h),p=a("fEP3"),C=a("1KNX"),_=n(C),y=a("7biW"),b=n(y);t.default={name:"work-list-pop",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}}},components:{Icon:d.default,Popup:c.default,LoadMore:m.default,RScroll:_.default,MSearch:b.default},filters:{dateFormat:v.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],workList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterList:[{name:"成品名称",value:"inventoryName"},{name:"成品编码",value:"inventoryCode"},{name:"工序名称",value:"procedureName"}],filterProperty:""}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,o.default)(this.selItems)),this.$emit("input",!1)},findIndex:function(e,t){return e.findIndex(function(e){var a=!0;return e.transCode&&(a=e.transCode===t.transCode),a&&e.inventoryCode===t.inventoryCode})},showSelIcon:function(e){return-1!==this.tmpItems.findIndex(function(t){return t.transCode===e.transCode&&t.inventoryCode===e.inventoryCode})},selThis:function(e,t){var a=this.tmpItems,n=a.findIndex(function(t){return t.transCode===e.transCode&&t.inventoryCode===e.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(e)},setDefaultValue:function(){this.tmpItems=[this.defaultValue],this.selItems=[this.defaultValue]},getWorkOrderTask:function(){var e=this,t=[];if(this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),this.$route.query.orderId){var a=this.$route.query.orderId;console.log(a);var n=[{operator:"in",value:"",property:"colId"}];a.forEach(function(e,t){if(t===a.length-1)return void(n[0].value+=e);n[0].value+=e+","}),t=[].concat((0,o.default)(t),n)}return(0,p.getWorkOrderTask)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,s=void 0===i?[]:i;e.$route.query.orderId&&e.$emit("sel-work",(0,r.default)(s)),e.hasNext=n>(e.page-1)*e.limit+s.length,e.workList=1===e.page?s:[].concat((0,o.default)(e.workList),(0,o.default)(s)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},cfmMater:function(){this.showPop=!1,this.tmpItems.sort(function(e,t){return t.effectiveTime-e.effectiveTime}),this.selItems=[].concat((0,o.default)(this.tmpItems)),this.$emit("sel-work",(0,r.default)(this.selItems))},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.workList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getWorkOrderTask()},onPullingUp:function(){this.page++,this.getWorkOrderTask()}},created:function(){this.setDefaultValue(),this.getWorkOrderTask()}}},LVez:function(e,t){},LVgA:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("HzJ8"),o=n(s),l=a("J0Oq"),d=n(l),u=a("3cXf"),c=n(u),f=a("4YfN"),m=n(f),h=a("IzfM"),v=n(h),p=a("Dkzh"),C=a("AQAo"),_=n(C),y=a("FvvE"),b=n(y),g=a("ZTs6"),w=(n(g),a("xbeG")),I=n(w),x=a("vmwj"),D=n(x),P=a("yKqG"),k=n(P);t.default={data:function(){return{BUSobj:{},userInfo:{},BusApps:[],BasicApps:[],homeScroll:null,entityList:[],showDrop:!1,selItem:{}}},components:{busApp:I.default,basicApp:D.default},methods:{goBasic:function(e){this.$router.push({path:""+_.default[e]})},goList:function(e,t,a,n){this.$router.push({path:"/list/"+a+"/"+e,query:{name:t,childId:n}})},goAppDetail:function(e){this.$router.push({path:"/appDetail/"+e})},getDefaultIcon:function(e){var t=a("CYNT");return e&&(e.icon=t),t},getNews:function(){var e=this,t=void 0;return(0,p.getMsgList)().then(function(a){if(a.dataCount>99)return void(t="99+");t=a.dataCount,e.$event.$emit("badgeNum",t)})},getCurrentUser:function(){var e=this;return v.default.currentUser().then(function(t){e.userInfo={photo:t.photo,mobile:t.mobile,userCode:t.userCode,nickname:t.nickname,entityName:t.entityName&&t.entityName.slice(0,4)||""},t.sysGroupList&&t.sysGroupList.forEach(function(a){"C"===a.groupType&&(e.entityList.push(a),a.groupName===t.entityName&&(e.selItem=a))})})},dropItemClick:function(e){this.selItem=(0,m.default)({},e),this.userInfo.entityName=e.groupName.slice(0,4),this.showDrop=!1,this.$loading.show(),v.default.changeEntity({entityId:e.groupCode}).then(function(e){var t=sessionStorage.getItem("ROSE_LOGIN_TOKEN");t&&(t=JSON.parse(t),t.entityId=e.entityId,t.token=e.token,sessionStorage.setItem("ROSE_LOGIN_TOKEN",(0,c.default)(t)),location.reload())})}},watch:{$route:{handler:function(e){"HOME"===e.name&&this.homeScroll.refresh()}}},created:function(){var e=this;this.$loading.show(),(0,d.default)(r.default.mark(function t(){var n,i,s,l,d;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getCurrentUser();case 2:return t.next=4,v.default.getMeau().then(function(t){var a=e.BUSobj,n=!0,i=!1,r=void 0;try{for(var s,l=(0,o.default)(t);!(n=(s=l.next()).done);n=!0){var d=s.value;if(b.default[d.id]){a[d.text]=[];var u=!0,c=!1,f=void 0;try{for(var h,v=(0,o.default)(d.children);!(u=(h=v.next()).done);u=!0){var p=h.value;if(_.default[p.listId]&&(p.icon=p.icon?"/dist/"+p.icon:"",e.BasicApps.push(p)),b.default[d.id][p.listId]&&(p.fileID=d.id,p.icon=p.icon?"/dist/"+p.icon:e.getDefaultIcon(),a[d.text].push(p)),b.default[d.id][p.id]){var C=!0,y=!1,g=void 0;try{for(var w,I=(0,o.default)(p.children);!(C=(w=I.next()).done);C=!0){var x=w.value;b.default[d.id][p.id][x.listId]&&(x.fileID=d.id,x.icon=x.icon?"/dist/"+x.icon:e.getDefaultIcon(),a[d.text][p.text]?a[d.text][p.text].childList.push(x):e.$set(a[d.text],p.text,{childId:p.id,childName:p.text,childList:[x]}))}}catch(e){y=!0,g=e}finally{try{!C&&I.return&&I.return()}finally{if(y)throw g}}}}}catch(e){c=!0,f=e}finally{try{!u&&v.return&&v.return()}finally{if(c)throw f}}e.BusApps.push({id:d.id,name:d.text,appList:(0,m.default)({},a[d.text])}),e.$loading.hide()}}}catch(e){i=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(i)throw r}}});case 4:return n=JSON.parse(sessionStorage.getItem("ROSE_LOGIN_TOKEN")),i=n.name,s=n.avatar,l=n.position,s||(d=e.userInfo.photo,e.userInfo.photo||(d=a("cr7Q")),s=d),e.userInfo=(0,m.default)({},e.userInfo,{name:i,avatar:s,position:l}),t.next=10,e.getNews();case 10:case"end":return t.stop()}},t,e)}))()},mounted:function(){this.homeScroll=new k.default(this.$refs.home,{click:!0})}}},LZ1p:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("bFc7"),p=n(v),C=a("zWMP"),_=a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",contactInfo:{},orderList:{}}},mixins:[u.default],components:{workFlow:h.default,RAction:f.default,contactPart:p.default},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a={},n=0,i=t.formData.order.dataSet,s=!0,l=!1,d=void 0;try{for(var u,c=(0,r.default)(i);!(s=(u=c.next()).done);s=!0){var f=u.value;f.noTaxAmount=(0,C.accMul)(f.price,f.tdQty),f.taxAmount=(0,C.accMul)(f.noTaxAmount,f.taxRate),f.tdAmount=(0,_.toFixed)((0,C.accAdd)(f.noTaxAmount,f.taxAmount)),f.inventoryPic=f.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+f.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),n=(0,C.accAdd)(n,f.tdAmount),a[f.transMatchedCode]||(a[f.transMatchedCode]=[]),e.orderList=a,a[f.transMatchedCode].push(f)}}catch(e){l=!0,d=e}finally{try{!s&&c.return&&c.return()}finally{if(l)throw d}}e.count=n,t.formData.invoiceDate=(0,o.default)(t.formData.invoiceDate,"YYYY-MM-DD"),e.orderInfo=t.formData,e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo={dealerName:a.dealerName_dealerCodeCredit,dealerContactPersonName:t.dealerCreditContactPersonName,dealerMobilePhone:t.dealerCreditContactInformation,dealerCode:a.dealerCodeCredit,province:a.province_dealerCodeCreditt,city:a.city_dealerCodeCreditt,county:a.county_dealerCodeCredit,address:a.address_dealerCodeCredit}}}}},LbKK:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("KH7x"),o=n(s),l=a("IHPB"),d=n(l),u=a("HyXB"),c=a("vvLd"),f=n(c);t.default={name:"UploadFile",props:{id:{type:String,default:"upload-file"},defaultValue:{type:Array,default:function(){return[]}},noUpload:{type:Boolean,default:!1},containStyle:{type:Object,default:function(){return{}}},titleStyle:{type:Object,default:function(){return{}}}},data:function(){return{files:[],file:null,biReferenceId:"",showLoading:!1}},watch:{defaultValue:{handler:function(){this.setDefault()}}},methods:{chooseImage:function(){wx.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],defaultCameraMode:"batch",success:function(e){var t=e.localIds;wx.getLocalImgData({localId:t,success:function(e){alert(e);var t=e.localData,a=[].concat((0,d.default)(t)),n=(0,o.default)(a,1),i=n[0];this.file=i}})}})},uploadFile:function(e){var t=[].concat((0,d.default)(e.target.files));if(t.length){var a=(0,o.default)(t,1),n=a[0];this.file=n,e.target.value="",this.imgPreview()}},imgPreview:function(){var e=this;this.showLoading=!0;var t=this.file,a=void 0;if(f.default.getData(t,function(){a=f.default.getTag(t,"Orientation")}),t&&window.FileReader)if(/^image/.test(this.file.type)){var n=new FileReader;n.readAsDataURL(t),n.onloadend=function(t){var n=t.target.result,i=new Image;i.src=n,n.length<=102400?e.postFile(n):i.onload=function(){e.postFile(e.compress(i,a))}}}else this.postFile()},dataURLtoFile:function(e,t){for(var a=e.split(","),n=window.atob(a[1]),i=n.length,r=new Uint8Array(i),s=a[0].match(/:(.*?);/)[1];i--;)r[i]=n.charCodeAt(i);return new File([r],t,{type:s})},postFile:function(e){var t=this,a=null;a=/^image/.test(this.file.type)?this.dataURLtoFile(e,this.file.name):this.file,(0,u.upload)({file:a,biReferenceId:this.biReferenceId}).then(function(e){var a=(e.success,e.message,e.data),n=(0,o.default)(a,1),i=n[0],r=void 0===i?{}:i;r.iconType=t.judgeFileType(r.attr1),t.files.push(r),t.biReferenceId||(t.biReferenceId=r.biReferenceId,t.$emit("on-upload",{biReferenceId:t.biReferenceId}))}).catch(function(e){t.$vux.alert.show({content:e.message})})},compress:function(e,t){var a=document.createElement("canvas"),n=a.getContext("2d"),i=document.createElement("canvas"),r=i.getContext("2d"),s=e.src.length,o=e.width,l=e.height,d=void 0;(d=o*l/4e6)>1?(console.log("大于400万像素"),d=Math.sqrt(d),o/=d,l/=d):d=1,a.width=o,a.height=l,n.fillStyle="#fff",n.fillRect(0,0,a.width,a.height);var u=void 0;if((u=o*l/1e6)>1){console.log("超过100W像素"),u=~~(Math.sqrt(u)+1);var c=~~(o/u),f=~~(l/u);i.width=c,i.height=f;for(var m=0;m<u;m++)for(var h=0;h<u;h++)r.drawImage(e,m*c*d,h*f*d,c*d,f*d,0,0,c,f),n.drawImage(i,m*c,h*f,c,f)}else n.drawImage(e,0,0,o,l);if(""!==t&&1!==t)switch(t){case 6:this.rotateImg(e,"left",a);break;case 8:this.rotateImg(e,"right",a);break;case 3:this.rotateImg(e,"right",a),this.rotateImg(e,"right",a)}var v=a.toDataURL("image/jpeg/gif",.5);return console.log("压缩前: "+s),console.log("压缩后: "+v.length),console.log("压缩率: "+~~(100*(s-v.length)/s)+"%"),i.width=i.height=a.width=a.height=0,v},rotateImg:function(e,t,a){if(null!=e){var n=e.height,i=e.width,r=2;null==r&&(r=0),"right"===t?++r>3&&(r=0):--r<0&&(r=3);var s=90*r*Math.PI/180,o=a.getContext("2d");switch(r){case 0:a.width=i,a.height=n,o.drawImage(e,0,0);break;case 1:a.width=n,a.height=i,o.rotate(s),o.drawImage(e,0,-n);break;case 2:a.width=i,a.height=n,o.rotate(s),o.drawImage(e,-i,-n);break;case 3:a.width=n,a.height=i,o.rotate(s),o.drawImage(e,-i,0)}}},setDefault:function(){var e=this,t=[],a=(0,o.default)(this.defaultValue,1),n=a[0],i=void 0===n?{}:n;t=this.defaultValue.map(function(t){return(0,r.default)({},t,{iconType:e.judgeFileType(t.attr1)})}),this.files=t,this.biReferenceId=i.referenceId},judgeFileType:function(e){var t="other";return[{reg:/\.(png|jpg|jpeg|gif|bmp|)$/gi,type:"image"},{reg:/\.xlsx$/gi,type:"excel"},{reg:/\.(doc|docx)$/gi,type:"word"},{reg:/\.(ppt|pptx)$/gi,type:"ppt"},{reg:/\.txt$/gi,type:"txt"}].every(function(a){return!a.reg.test(e)||(t=a.type,!1)}),t},preview:function(e){if("image"===e.iconType){var t=location.origin+"/H_roleplay-si/ds/download?url="+e.attacthment+"&width=400&height=400";wx.previewImage({current:t,urls:[t]})}},deleteFile:function(e){var t=this;this.$vux.confirm.show({content:"确定删除？",onConfirm:function(){(0,u.deleteFile)(e.id).then(function(a){var n=a.success,i=void 0===n||n;a.message;if(i){var r=t.files.findIndex(function(t){return t.id===e.id});-1!==r&&t.files.splice(r,1)}})}})}},created:function(){this.setDefault()}}},Lcut:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages sj-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,defaultContact:e.contactInfo},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("div",{staticClass:"materiel_list"},[a("div",{staticClass:"mater_list"},[a("div",{staticClass:"each_mater"},[a("div",{staticClass:"userInp_mode"},[a("div",{staticClass:"title"},[e._v("商机明细")]),e._v(" "),a("group",{staticClass:"SJ_group",on:{"group-title-margin-top":function(e){}}},[a("x-input",{attrs:{title:"商机标题","text-align":"right",placeholder:"请填写"},model:{value:e.formData.opportunityTitle,callback:function(t){e.$set(e.formData,"opportunityTitle",t)},expression:"formData.opportunityTitle"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("商机标题\n                    ")])])],2),e._v(" "),a("x-input",{attrs:{title:"预期销售额",type:"number","text-align":"right",placeholder:"请填写"},on:{"on-blur":e.checkAmt},model:{value:e.formData.tdAmount,callback:function(t){e.$set(e.formData,"tdAmount",e._n(t))},expression:"formData.tdAmount"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("预期销售额\n                    ")])])],2),e._v(" "),a("datetime",{attrs:{placeholder:"请选择日期",title:"有效期至"},model:{value:e.formData.validUntil,callback:function(t){e.$set(e.formData,"validUntil",t)},expression:"formData.validUntil"}}),e._v(" "),a("pop-salesman-list",{attrs:{title:"销售人员","dealer-label-name":"员工",value:e.formData.salesPerson},model:{value:e.formData.salesPerson,callback:function(t){e.$set(e.formData,"salesPerson",t)},expression:"formData.salesPerson"}}),e._v(" "),a("pop-salesman-list",{attrs:{title:"销售渠道","dealer-label-name":"渠道商",value:e.formData.salesChannels},model:{value:e.formData.salesChannels,callback:function(t){e.$set(e.formData,"salesChannels",t)},expression:"formData.salesChannels"}}),e._v(" "),a("popup-picker",{attrs:{title:"分类标签",data:e.currentType,placeholder:"请选择"},model:{value:e.categoryLabels,callback:function(t){e.categoryLabels=t},expression:"categoryLabels"}}),e._v(" "),a("x-textarea",{attrs:{title:"商机内容",max:200},model:{value:e.formData.comment,callback:function(t){e.$set(e.formData,"comment",t)},expression:"formData.comment"}}),e._v(" "),a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1)])])]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},Lf62:function(e,t){},Lhfe:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("div",{staticClass:"title"},[a("r-search",{attrs:{filterList:e.filterList,isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}})],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"order-list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"order-item",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"order-code"},[a("span",{staticClass:"order-title"},[e._v("计划号")]),e._v(" "),a("span",{staticClass:"order-num"},[e._v(e._s(t.transCode))])]),e._v(" "),a("div",{staticClass:"order-top"},[t.orderCode?a("span",{staticClass:"order-top-item"},[e._v("订单号: "+e._s(t.orderCode))]):e._e(),e._v(" "),t.warehouseName?a("span",{staticClass:"order-top-item"},[e._v("仓库: "+e._s(t.warehouseName))]):e._e()]),e._v(" "),a("div",{staticClass:"order-matter"},[a("div",{staticClass:"mater_img"},[a("img",{attrs:{src:t.inventoryPic,alt:"mater_img"},on:{error:function(a){e.getDefaultImg(t)}}})]),e._v(" "),a("div",{staticClass:"mater_main "},[a("div",{staticClass:"mater_name"},[e._v("\n                "+e._s(t.inventoryName)+"\n              ")]),e._v(" "),a("div",{staticClass:"mater_info"},[a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline",staticStyle:{display:"inline-block"}},[a("div",{staticClass:"mater_code"},[a("span",{staticClass:"title"},[e._v("编码")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(t.inventoryCode))])])]),e._v(" "),a("div",{staticClass:"ForInline",staticStyle:{display:"inline-block"}},[a("div",{staticClass:"mater_spec"},[a("span",{staticClass:"title"},[e._v("规格")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(t.specification||"无"))])])])]),e._v(" "),a("div",{staticClass:"withoutColor"},[a("div",{staticClass:"mater_classify"},[a("span",{staticClass:"type"},[e._v("属性: "+e._s(t.processing))]),e._v(" "),a("span",{staticClass:"father"},[e._v("大类: "+e._s(t.inventoryType))]),e._v(" "),a("span",{staticClass:"child"},[e._v("子类: "+e._s(t.inventorySubclass))])]),e._v(" "),a("div",{staticClass:"mater_material"},[a("span",{staticClass:"color"},[e._v("颜色: "+e._s(t.inventoryColor||"无"))]),e._v(" "),a("span",{staticClass:"spec"},[e._v("材质: "+e._s(t.material||"无"))]),e._v(" "),e._t("qtyBal",null,{item:t})],2),e._v(" "),e._t("qtyStock",[a("div",{staticClass:"mater-balance"},[e._v("余额: "+e._s(t.qtyBal)+e._s(t.measureUnit))])],{item:t})],2)])])]),e._v(" "),a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-circle-outline selIcon",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}))],1),e._v(" "),a("div",{staticClass:"count_mode vux-1px-t"},[a("span",{staticClass:"count_num"},[e._v(" "+e._s(e.tmpItems.length?"已选 "+e.tmpItems.length+" 个":"请选择")+" ")]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.selConfirm}},[e._v("确定")])])])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},Lmxl:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("jLp1"),v=a("1KNX"),p=n(v),C=a("7biW"),_=n(C);t.default={name:"PopSODLProjectList",props:{value:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:m.default,RScroll:p.default,MSearch:_.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},tmpItems:[],projectList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},projectName:""}},watch:{value:{handler:function(e){this.selItems=(0,d.default)({},e)}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},showSelIcon:function(e){return this.selItems.projectName===e.projectName},selThis:function(e,t){this.showPop=!1,this.selItems=(0,d.default)({},e),this.$emit("input",this.selItems)},getProjectLsit:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:"projectName"}])),(0,h.getSalesOutStockProject)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.projectList=1===e.page?r:[].concat((0,o.default)(e.projectList),(0,o.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.projectList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getProjectLsit()},onPullingUp:function(){this.page++,this.getProjectLsit()},itemClick:function(){this.showPop=!0}},created:function(){this.selItems=(0,d.default)({},this.value),this.getProjectLsit()}}},LoFD:function(e,t,a){"use strict";function n(e){a("vkp0")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Zt7o");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("RZF6"),o=a.n(s),l=a("8Uno"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-1b58c421",null);t.default=c.exports},Lp2T:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("jLp1"),v=a("1KNX"),p=n(v),C=a("7biW"),_=n(C);t.default={name:"PopSODLProjectList",props:{value:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:m.default,RScroll:p.default,MSearch:_.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},tmpItems:[],projectList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},projectName:""}},watch:{value:{handler:function(e){this.selItems=(0,d.default)({},e)}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},showSelIcon:function(e){return this.selItems.projectName===e.projectName},selThis:function(e,t){this.showPop=!1,this.selItems=(0,d.default)({},e),this.$emit("input",this.selItems)},getProjectLsit:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:"projectName"}])),(0,h.getSalesOutStockProject)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.projectList=1===e.page?r:[].concat((0,o.default)(e.projectList),(0,o.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.projectList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getProjectLsit()},onPullingUp:function(){this.page++,this.getProjectLsit()},itemClick:function(){this.showPop=!0}},created:function(){this.selItems=(0,d.default)({},this.value),this.getProjectLsit()}}},LpND:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"contactPart",props:{hasClass:{type:Boolean,default:!0},contactInfo:{type:Object,default:function(){return{}}},payment:{type:Boolean,default:!0},logistics:{type:Boolean,default:!0},validUntil:{type:Boolean,default:!1}},data:function(){return{}},computed:{noAddress:function(){var e=this.contactInfo,t=e.province,a=void 0===t?"":t,n=e.city,i=void 0===n?"":n,r=e.county,s=void 0===r?"":r,o=e.address,l=void 0===o?"":o;return!(a||i||s||l)}},created:function(){}}},LrLF:function(e,t){},LzG0:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("just-word-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}},scopedSlots:e._u([{key:"list-item",fn:function(t){var n=t.item;return e._l(n.detailItem,function(t,n){return a("div",{key:n,staticClass:"each-slot-item"},[a("div",{staticClass:"main-content"},[a("div",{staticClass:"info_part"},[e._v("\n                申请金额: ￥"+e._s(e._f("numberComma")(t.tdAmountCopy1))+"\n              ")]),e._v(" "),a("div",{staticClass:"info_part different_type"},[e._v("\n                本次支付: ￥"+e._s(e._f("numberComma")(t.tdAmountCopy1))+"\n              ")])])])})}}])})}))],1),e._v(" "),e.action.add?a("div",{staticClass:" vux-1px-t btn "},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},Lzbv:function(e,t){},"M/Db":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2324,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}]}},mixins:[i.default],methods:{},created:function(){}}},M4eV:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("+62G"),v=n(h),p=a("6q39"),C=n(p),_=a("fEP3"),y=a("1KNX"),b=n(y),g=a("7biW"),w=n(g);t.default={name:"PopCompanyList",props:{defaultValue:{type:Object,default:function(){return{}}},show:{type:Boolean,default:!1}},directives:{TransferDom:v.default},components:{Icon:c.default,Popup:m.default,RScroll:b.default,DSearch:w.default,LoadMore:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:function(e){this.setDefaultValue()}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1,this.$emit("input",!1)},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this.getList()},showSelIcon:function(e){return this.selItems.facilityName===e.facilityName},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.$emit("sel-item",this.selItems)},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"facilityName"}])),(0,_.getObjFacility)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,d.default)(e.listData),(0,d.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.selItems=this.defaultValue?(0,r.default)({},this.defaultValue):{}}},created:function(){this.setDefaultValue(),this.getList()}}},M93x:function(e,t,a){"use strict";function n(e){a("Smon")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("eLoA");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("eQNG"),o=a.n(s),l=a("nL/x"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},MF1H:function(e,t,a){"use strict";function n(e){a("3P4b")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("QfO0");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("p9IC"),o=a.n(s),l=a("ZksZ"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},MFjG:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"badge",props:{text:[String,Number]}}},MGsm:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{attrs:{id:"main"}})])}],r={render:n,staticRenderFns:i};t.a=r},"MJ/2":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("HyXB"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2310,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}]}},mixins:[i.default],methods:{},created:function(){}}},MJqf:function(e,t){},ML4I:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MgeX"),r=n(i),s=a("a3Yh"),o=n(s),l=a("3cXf"),d=n(l),u=a("4YfN"),c=n(u),f=a("BGNQ"),m=n(f),h=a("z5TY"),v=n(h),p=a("SAzG"),C=n(p),_=a("kNGm"),y=(n(_),a("PzEQ")),b=n(y),g=a("u28h"),w=n(g),I=a("jnZd"),x=n(I),D=a("HyXB"),P=a("0AQX"),k=a("bKg5"),S=n(k),T=a("y8YJ"),L=n(T),N=a("Ylj6"),M=n(N),A=a("vl8n"),O=n(A),R=a("+WR7"),j=n(R),$=a("Qg39"),B=a("zWMP"),E={transCode:"",inventoryName:"",inventoryCode:"",qtyBal:"",price:"",tdQty:"",taxRate:"",taxAmount:"",tdAmount:"",comment:""};t.default={mixins:[S.default],components:{Cell:m.default,Group:v.default,XInput:C.default,Datetime:w.default,XTextarea:b.default,PopDealerList:L.default,PopupPicker:x.default,PopInvoiceList:M.default,RPicker:O.default,PopBaseinfo:j.default},data:function(){return{listId:"ebd2225c-9354-4df9-bded-8631e3cac4ac",dealerInfo:{},contactInfo:{},invoiceType:[["普通发票","专用发票"]],invoiceGetType:[],invoicePlan:[],dealerParams:{dealerCode:""},taxRate:.16,invoiceList:[(0,c.default)({},E)],showInvoicePop:!1,seletedIndex:0,seletedInvoice:[],formData:{biProcessStatus:"",biComment:""},formDataComment:"",projectName:""}},computed:{totalAmount:function(){var e=0;return this.invoiceList.forEach(function(t){if(!t.tdQty&&0!==t.tdQty)return t.noTaxAmount="",t.taxAmount="",void(t.tdAmount="");t.noTaxAmount=(0,$.toFixed)((0,B.accMul)(t.tdQty,t.price)),t.taxAmount=(0,$.toFixed)((0,B.accMul)(t.noTaxAmount,t.taxRate)),t.tdAmount=(0,$.toFixed)((0,B.accAdd)(t.noTaxAmount,t.taxAmount)),t.tdAmount&&(e=(0,B.accAdd)(e,t.tdAmount))}),e}},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],this.dealerParams.dealerCode=this.dealerInfo.dealerCode,this.invoiceList=[(0,c.default)({},E)]},selContact:function(e){this.contactInfo=(0,c.default)({},e)},getCost:function(e,t){if(!this.dealerInfo.dealerName)return void this.$vux.alert.show({content:"请先选择客户"});var a=this.invoiceList[e];this.showInvoicePop=!0,this.seletedIndex=e,this.seletedInvoice=a?[a]:[]},addInvoice:function(){var e=this.$refs.costList.costList;if(this.invoiceList.length>=e.length)return void this.$vux.alert.show({content:"暂无其他出库单，不可新增"});this.invoiceList.push((0,c.default)({},E))},deleteInvoice:function(){this.invoiceList.pop()},selInvoice:function(e){this.$set(this.invoiceList,this.seletedIndex,(0,c.default)({},this.invoiceList[this.seletedIndex],e,{price:(0,$.toFixed)(e.price),taxRate:this.taxRate}))},checkQty:function(e,t){e.tdQty>e.qtyBal&&(e.tdQty=e.qtyBal),this.$set(this.invoiceList,t,(0,c.default)({},e,{tdQty:Math.abs((0,$.toFixed)(e.tdQty))}))},submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerCode||(t="请选择客户信息"),t||this.invoiceList.every(function(e){return e.transCode?e.tdQty||0===e.tdQty?e.taxRate||0===e.taxRate?(a.push({tdId:e.tdId||"",transMatchedCode:e.transCode,inventoryName_transObjCode:e.inventoryName,transObjCode:e.inventoryCode,thenQtyBal:e.qtyBal,price:e.price,tdQty:e.tdQty,taxRate:e.taxRate,taxAmount:e.taxAmount,tdAmount:e.tdAmount,comment:e.comment}),!0):(t="请填写税率",!1):(t="请填写本次申请数量",!1):(t="请选择出库单",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=D.saveAndStartWf,n=(0,o.default)({},e.processCode,{businessKey:"VATO",createdBy:(0,d.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:"",formData:(0,d.default)((0,c.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{crDealerLabel:"客户",dealerCodeCredit:e.dealerInfo.dealerCode,dataSet:a},dealerCreditContactPersonName:e.contactInfo.dealerName||null,dealerCreditContactInformation:e.contactInfo.dealerMobilePhone||""})),wfPara:(0,d.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=D.saveAndCommitTask),e.processCode.length||(t=D.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.attachment=t.attachment,e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.invoiceList=[];var a=t.formData;e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,c.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),e.dealerInfo=(0,c.default)({},e.dealerInfo,{dealerName:a.order.dealerName_dealerCodeCredit,dealerCode:a.order.dealerCodeCredit,province:a.order.province_dealerCodeCredit,city:a.order.city_dealerCodeCredit,county:a.order.county_dealerCodeCredit,address:a.order.address_dealerCodeCredit,dealerMobilePhone:a.order.dealerMobilePhone_dealerCodeCredit,dealerLabelName:a.order.crDealerLabel}),e.contactInfo={dealerMobilePhone:a.dealerCreditContactInformation,dealerName:a.dealerCreditContactPersonName},a.order.dataSet.forEach(function(t){var a=(0,c.default)({},t,{transCode:t.transMatchedCode,inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,qtyBal:t.thenQtyBal});e.invoiceList.push(a)}),e.invoiceGetType.push(a.invoiceType),e.dealerParams.dealerCode=a.order.dealerCodeCredit,e.$loading.hide()})},hasDraftData:function(){return!!(0,r.default)(this.dealerInfo).length&&(0,o.default)({},"KPSQ_DATA",{handlerDefault:this.handlerDefault,dealer:this.dealerInfo,list:this.invoiceList,contactInfo:this.contactInfo})}},created:function(){var e=sessionStorage.getItem("KPSQ_DATA");if(e){var t=JSON.parse(e);this.handlerDefault=t.handlerDefault,this.dealerInfo=t.dealer,this.invoiceList=t.list,this.contactInfo=t.contactInfo,this.dealerParams.dealerCode=this.dealerInfo.dealerCode,sessionStorage.removeItem("KPSQ_DATA")}}}},MLSZ:function(e,t,a){"use strict";function n(e){a("w5ml")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("ML4I");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("oWIc"),o=a.n(s),l=a("8udT"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-d61a372c",null);t.default=c.exports},MVgC:function(e,t,a){"use strict";function n(e){a("Qgf+")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("eGZN");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("f4G+"),o=a.n(s),l=a("zmA5"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-0ff81ebf",null);t.default=c.exports},MW8P:function(e,t){},MatO:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"childPage",class:{"no-edit":!e.action.update}},[a("div",{staticClass:"main_content"},[a("div",{staticClass:"d_top"},[a("div",{staticClass:"mater_info"},[a("img",{staticClass:"avatar",attrs:{src:e.inventory.inventoryPic,alt:"materImg"},on:{error:e.getDefaultImg}}),e._v(" "),a("span",{staticClass:"mater_name"},[e._v(e._s(e.inventory.inventoryName))]),e._v(" "),a("div",{staticClass:"mater_status_part"},[a("span",{staticClass:"mater_code"},[e._v(e._s(e.inventory.inventoryCode))]),e._v(" "),a("span",{staticClass:"mater_status",class:e.inventory.statusClass},[e._v(e._s(e.inventory.status))])])])]),e._v(" "),a("div",{staticClass:"d_main"},[a("form-cell",{attrs:{cellTitle:"创建者",cellContent:e.baseinfo.creatorName,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"创建时间",cellContent:e._f("dateFormat")(e.baseinfo.crtTime)}}),e._v(" "),e.baseinfo.modiferName?a("form-cell",{attrs:{cellTitle:"修改者",cellContent:e.baseinfo.modiferName}}):e._e(),e._v(" "),e.baseinfo.modTime?a("form-cell",{attrs:{cellTitle:"修改时间",cellContent:e._f("dateFormat")(e.baseinfo.modTime)}}):e._e()],1),e._v(" "),a("div",{staticClass:"d_main"},[a("div",{staticClass:"title vux-1px-b"},[e._v("基本信息")]),e._v(" "),a("div",{staticClass:"content"},[a("form-cell",{attrs:{cellTitle:"物料大类",cellContent:e.inventory.inventoryType,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"物料子类",cellContent:e.inventory.inventorySubclass}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"规格",cellContent:e.inventory.specification}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"加工属性",cellContent:e.inventory.processing}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"材质",cellContent:e.inventory.material}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"颜色",cellContent:e.inventory.inventoryColor}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"单位",cellContent:e.inventory.measureUnit}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"保质期天数",cellContent:e.inventory.keepingDays}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"临保天数",cellContent:e.inventory.nearKeepingDays}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"安全库存",cellContent:e.inventory.safeStock}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"工艺路线名称",cellContent:e.inventory.technicsName}}),e._v(" "),e.leadTimeTitle?a("form-cell",{attrs:{cellTitle:e.leadTimeTitle,cellContent:e.inventory.leadTime}}):e._e(),e._v(" "),a("form-cell",{attrs:{cellTitle:"工序名称",cellContent:e.inventory.procedureName}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"工序编码",cellContent:e.inventory.procedureCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"起订量",cellContent:e.inventory.moq}})],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.invMoreUnit.length,expression:"invMoreUnit.length"}],staticClass:"d_main"},[a("div",{staticClass:"title vux-1px-b"},[e._v("辅计单位")]),e._v(" "),e._l(e.invMoreUnit,function(t,n){return a("div",{key:n,staticClass:"content",class:{show_border:n>0}},[a("form-cell",{attrs:{cellTitle:"辅计单位",cellContent:t.invSubUnitName,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"单位倍数",cellContent:t.invSubUnitMulti}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"辅计说明",cellContent:t.comment}})],1)})],2),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.invNetWeight.length,expression:"invNetWeight.length"}],staticClass:"d_main"},[a("div",{staticClass:"title vux-1px-b"},[e._v("净含量")]),e._v(" "),e._l(e.invNetWeight,function(t,n){return a("div",{key:n,staticClass:"content",class:{hide_border:n<1}},[a("form-cell",{attrs:{cellTitle:"净含量名称",cellContent:t.invCompName,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"单位",cellContent:t.invCompUnit}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"净含量数量",cellContent:t.invCompQty}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"净含量说明说明",cellContent:t.comment}})],1)})],2),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.invDealerRel.length,expression:"invDealerRel.length"}],staticClass:"d_main"},[a("div",{staticClass:"title vux-1px-b"},[e._v("客户")]),e._v(" "),e._l(e.invDealerRel,function(t,n){return a("div",{key:n,staticClass:"content",class:{hide_border:n<1}},[a("form-cell",{attrs:{cellTitle:"客户名称",cellContent:t.productDealerName,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"客户编码",cellContent:t.productDealerCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"客户成品编码",cellContent:t.clientInventoryCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"客户成品名称",cellContent:t.clientInventoryName}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"说明",cellContent:t.productComment}})],1)})],2),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.invCustomerRel.length,expression:"invCustomerRel.length"}],staticClass:"d_main"},[a("div",{staticClass:"title vux-1px-b"},[e._v("供应商")]),e._v(" "),e._l(e.invCustomerRel,function(t,n){return a("div",{key:n,staticClass:"content",class:{hide_border:n<1}},[a("form-cell",{attrs:{cellTitle:"供应商名称",cellContent:t.productDealerName,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"供应商编码",cellContent:t.productDealerCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"说明",cellContent:t.productComment}})],1)})],2)]),e._v(" "),e.action.update?a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("修改")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},MgKn:function(e,t){},"MgX+":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("KH7x"),r=n(i),s=a("IHPB"),o=n(s),l=a("Iu/6"),d=n(l),u=a("HyXB"),c=a("vvLd"),f=n(c);t.default={name:"UploadImage",props:{src:{type:String,default:""}},components:{Spinner:d.default},data:function(){return{imgSrc:"",imgFile:"",showLoading:!1}},watch:{src:{handler:function(e){this.imgSrc=e}}},methods:{dataURLtoFile:function(e,t){for(var a=e.split(","),n=window.atob(a[1]),i=n.length,r=new Uint8Array(i),s=a[0].match(/:(.*?);/)[1];i--;)r[i]=n.charCodeAt(i);return new File([r],t,{type:s})},uploadFile:function(e){var t=[].concat((0,o.default)(e.target.files));t.length&&(this.imgFile=t[0],e.target.value="",this.imgPreview())},imgPreview:function(){var e=this;this.showLoading=!0;var t=this.imgFile,a=void 0;if(f.default.getData(t,function(){a=f.default.getTag(t,"Orientation")}),t&&window.FileReader&&/^image/.test(t.type)){var n=new FileReader;n.readAsDataURL(t),n.onloadend=function(t){var n=t.target.result,i=new Image;i.src=n,n.length<=102400?e.postImg(n):i.onload=function(){e.postImg(e.compress(i,a))}}}},postImg:function(e){var t=this,a=this.dataURLtoFile(e,this.imgFile.name);(0,u.upload)({file:a}).then(function(e){var a=(e.success,e.message,e.data),n=(0,r.default)(a,1),i=n[0],s=void 0===i?{}:i;t.imgSrc="/H_roleplay-si/ds/download?url="+s.attacthment+"&width=400&height=400",t.$emit("on-upload",{src:s.attacthment})}).catch(function(e){t.$vux.alert.show({content:e.message})})},compress:function(e,t){var a=document.createElement("canvas"),n=a.getContext("2d"),i=document.createElement("canvas"),r=i.getContext("2d"),s=e.src.length,o=e.width,l=e.height,d=void 0;(d=o*l/4e6)>1?(console.log("大于400万像素"),d=Math.sqrt(d),o/=d,l/=d):d=1,a.width=o,a.height=l,n.fillStyle="#fff",n.fillRect(0,0,a.width,a.height);var u=void 0;if((u=o*l/1e6)>1){console.log("超过100W像素"),u=~~(Math.sqrt(u)+1);var c=~~(o/u),f=~~(l/u);i.width=c,i.height=f;for(var m=0;m<u;m++)for(var h=0;h<u;h++)r.drawImage(e,m*c*d,h*f*d,c*d,f*d,0,0,c,f),n.drawImage(i,m*c,h*f,c,f)}else n.drawImage(e,0,0,o,l);if(""!==t&&1!==t)switch(t){case 6:this.rotateImg(e,"left",a);break;case 8:this.rotateImg(e,"right",a);break;case 3:this.rotateImg(e,"right",a),this.rotateImg(e,"right",a)}var v=a.toDataURL("image/jpeg/gif",.5);return console.log("压缩前: "+s),console.log("压缩后: "+v.length),console.log("压缩率: "+~~(100*(s-v.length)/s)+"%"),i.width=i.height=a.width=a.height=0,v},rotateImg:function(e,t,a){if(null!=e){var n=e.height,i=e.width,r=2;null==r&&(r=0),"right"===t?++r>3&&(r=0):--r<0&&(r=3);var s=90*r*Math.PI/180,o=a.getContext("2d");switch(r){case 0:a.width=i,a.height=n,o.drawImage(e,0,0);break;case 1:a.width=n,a.height=i,o.rotate(s),o.drawImage(e,0,-n);break;case 2:a.width=i,a.height=n,o.rotate(s),o.drawImage(e,-i,-n);break;case 3:a.width=n,a.height=i,o.rotate(s),o.drawImage(e,-i,0)}}},getDefaultImg:function(e){this.showLoading=!1,this.$emit("on-error",e)},imgLoad:function(){this.showLoading=!1}},created:function(){this.imgSrc=this.src}}},MgnL:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("4YfN"),o=n(s),l=a("KH7x"),d=n(l),u=a("kNGm"),c=(n(u),a("SAzG")),f=n(c),m=a("0AQX"),h=a("+VRO"),v=n(h),p=a("BUFe"),C=n(p),_=a("AupE"),y=n(_),b=a("kKsb"),g=n(b),w=a("CKaN"),I=n(w),x=a("zWMP"),D=a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",dealerInfo:{},listData:[],cashInfo:{}}},computed:{isApproval:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"71c8f876-0617-4ff9-8a39-f9f99b14125d"===t},isCashier:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"00690810-7eaf-4bef-931b-a72eb5093f88"===t},isAccount:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"b00796ff-5986-4cdd-8ae4-fb202ff79af1"===t},cashParams:function(){return{transCode:this.transCode}}},mixins:[v.default],components:{workFlow:y.default,RAction:C.default,ProjectPart:g.default,PopCashList:I.default,XInput:f.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,m.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=t.formData,i=n.inPut,s=void 0===i?{}:i,l=(0,d.default)(s.dataSet,1),u=l[0],c=void 0===u?{}:u;e.attachment=a,e.dealerInfo=(0,o.default)({},c,s);var f=n.order.dataSet,m=!0,h=!1,v=void 0;try{for(var p,C=(0,r.default)(f);!(m=(p=C.next()).done);m=!0){var _=p.value;_.tdAmount&&(e.count=(0,x.accAdd)(e.count,_.tdAmount))}}catch(e){h=!0,v=e}finally{try{!m&&C.return&&C.return()}finally{if(h)throw v}}e.listData=f,e.orderInfo=n,e.cashInfo=t.formData.outPut.dataSet[0],e.workFlowInfoHandler()})},agreeHandler:function(){if(this.isApproval||this.isCashier||this.isAccount){if(this.isCashier&&!this.cashInfo.fundCode)return this.$vux.alert.show({content:"请选择资金账户"}),!0;var e=this.orderInfo,t=this.dealerInfo,a=this.cashInfo,n=this.listData.map(function(e){return{tdIdCopy1:e.tdIdCopy1,transMatchedCode:e.transMatchedCode,thenTotalAmntBal:e.thenTotalAmntBal,differenceAmountCopy1:e.differenceAmountCopy1,thenAlreadyAmnt:e.thenAlreadyAmnt,thenAmntBalCopy2:e.thenAmntBalCopy2,applicationAmount:e.applicationAmount,tdAmountCopy1:e.tdAmountCopy1,dealerDebit:e.dealerDebit}}),i=(0,o.default)({},e,{order:{dataSet:n},outPut:{dataSet:[{fundName_cashOutCode:a.fundName||a.fundName_cashOutCode,cashOutCode:a.fundCode||a.cashOutCode,cashType_cashOutCode:a.fundType||a.cashType_cashOutCode,thenAmntBal:a.thenAmntBal,tdAmount:a.tdAmount,tdId:a.tdId}]}}),r={"本次支付":t.tdAmountCopy1};this.saveData(i,r)}return!0},selCash:function(e){this.cashInfo=(0,o.default)({},this.cashInfo,e)},calcPayment:function(e){var t=(e.thenAmntBalCopy1,e.tdAmountCopy1),a=void 0===t?0:t;a||(a=0),a=(0,D.toFixed)(a),e.tdAmountCopy1=a}}}},MjAd:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("KH7x"),r=n(i),s=a("lC5x"),o=n(s),l=a("J0Oq"),d=n(l),u=a("3cXf"),c=n(u),f=a("ZLEe"),m=n(f),h=a("IHPB"),v=n(h),p=a("rVsN"),C=n(p),_=a("4YfN"),y=n(_),b=a("8VZL"),g=n(b),w=a("HXPS"),I=n(w),x=a("fQz5"),D=n(x),P=a("iR2W"),k=n(P),S=a("kNGm"),T=n(S),L=a("0AQX"),N=a("I8ug"),M=a("vS5q"),A=a("1KNX"),O=n(A),R=a("7biW"),j=n(R),$=a("PDsi"),B=n($),E=a("6aPk"),F=n(E),U=a("IT5e"),q=n(U),Q=a("sWGj"),H=n(Q),V=a("Qg39"),X=a("zWMP"),z=a("FvvE"),Y=(n(z),a("ZTs6")),W=(n(Y),a("Z5v5")),G=a("0o6b");t.default={props:{refreshRequest:{type:Boolean,default:!1}},data:function(){return{page:1,limit:20,hasNext:!0,scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0},listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],activeIndex:0,serachVal:"",listData:[],activeTab:"",count:0,total:null,applyCode:"",clickVisited:!1,filterProperty:"",filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"},{name:"往来名称",value:"dealerName_dealerDebit"}],sort:[],timeFilter:{startDate:"",endDate:""},otherFilter:{},action:{}}},components:{Tab:g.default,Icon:I.default,TabItem:D.default,RSort:B.default,RTab:F.default,RScroll:O.default,searchIcon:j.default,justWordItem:q.default,materListItem:H.default},methods:{goDetail:function(e,t){var a=this;if(!this.clickVisited){var n=e.transCode,i=this.$route.query,r=i.name,s=i.childId,o=this.$route.params,l=o.fileId,d=o.listId;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,y.default)({},e));var u=Date.now();(0,L.isMyflow)({transCode:n}).then(function(e){var t=e.tableContent,i=function(){var e="";if(a.clickVisited=!1,t.length>0){var i=t[0],o=i.isMyTask,u=i.nodeName;e=1===o&&"重新提交"===u?"/fillform/"+l+"/"+d:"/detail/"+l+"/"+d}else e="/detail/"+l+"/"+d;a.$router.push({path:e,query:{name:r,childId:s,transCode:n}})},o=Date.now()-u;o>200?i():setTimeout(function(){i()},200-o)}).catch(function(n){a.clickVisited=!1,e.visited=!1,a.$set(a.listData,t,(0,y.default)({},e))})}},goEdit:function(){var e=this.$route.query,t=e.name,a=e.childId,n=this.$route.params,i=n.fileId,r=n.listId;this.$router.push({path:"/fillform/"+i+"/"+r,query:{name:t,childId:a}})},resetCondition:function(){var e=this;this.listData=[],this.page=1,this.hasNext=!0,this.$nextTick(function(){e.$refs.bScroll.scrollTo(0,0),e.$refs.bScroll.resetPullDown()})},tabClick:function(e,t){this.activeIndex=t,this.activeTab=e.status,this.resetCondition(),this.getList()},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.serachVal=a,this.filterProperty=i,this.otherFilter={},this.timeFilter={},this.$refs.sort&&this.$refs.sort.filterReset(),this.resetCondition(),this.getList()},setStatus:function(e){switch(e.biStatus){case"已生效":e.whichIcon="icon-yishengxiao",e.statusClass="duty_done_c",e.statusName="";break;case"进行中":e.statusClass="duty_doing_c",e.statusName="进行中";break;case"草稿":e.statusClass="duty_fall_c",e.statusName="草稿";break;case"已失效":e.statusClass="duty_fall_c",e.statusName="已失效"}},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},resetScroll:function(){this.$refs.bScroll.finishPullDown(),this.$refs.bScroll.finishPullUp()},onPullingUp:function(){this.page++,this.getList()},onPullingDown:function(){this.page=1,this.getData(!0)},reloadData:function(){this.serachVal="",this.activeTab="",this.activeIndex=0,this.resetCondition(),this.onPullingDown();var e=this.$route.query.name;"工单任务派工"!==e&&"工单任务启动"!==e&&"工单任务验收"!==e||this.$refs.taskWork.getWorkOrderTask()},getSession:function(){var e=this;return new C.default(function(t){e.total=sessionStorage.getItem(e.applyCode),t()})},getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=[];if(this.activeTab&&(a=[{operator:"like",property:"biStatus",value:this.activeTab}]),this.serachVal){var n={operator:"like",property:this.filterProperty,value:this.serachVal};this.activeTab&&(n.attendedOperation="and"),a=[].concat((0,v.default)(a),[n])}if((0,m.default)(this.otherFilter).length){(0,m.default)(this.otherFilter);for(var i in this.otherFilter)!function(t){var n={property:t,operator:"in"};e.otherFilter[t].value.forEach(function(e,t){n["value"+(t+1)]=e}),a.push(n)}(i)}if(this.timeFilter.startDate||this.timeFilter.endDate){var r={property:"crtTime",operator:"date",startDate:this.timeFilter.startDate,endDate:this.timeFilter.endDate};a.push(r)}return(0,M.getSellOrderList)(this.listViewID,{limit:this.limit,page:this.page,filter:(0,c.default)(a),sort:(0,c.default)(this.sort)}).then(function(a){var n=a.total,i=void 0===n?0:n,r=a.instanceList,s=void 0===r?[]:r;e.hasNext=i>(e.page-1)*e.limit+s.length,s.forEach(function(t){e.setStatus(t),t.count=0,t.totalQty=0,t.dealerName=t.dealerName_dealerDebit||t.dealerName_dealerCodeCredit,t.crtTime=(0,T.default)(t.crtTime,"YYYY-MM-DD HH:mm:ss"),t.modTime=(0,T.default)(t.modTime,"YYYY-MM-DD HH:mm:ss"),t.itemCount=t.detailItem.length,t.detailItem=t.detailItem.slice(0,5),t.detailItem.forEach(function(a){null!=a.tdQty&&(t.totalQty=(0,V.toFixed)((0,X.accAdd)(t.totalQty,a.tdQty))),null!=a.tdAmount&&(t.count=(0,V.toFixed)((0,X.accAdd)(t.count,a.tdAmount))),(a.inventoryName_transObjCode||a.inventoryName_outPutMatCode)&&(a.inventoryName=a.inventoryName_transObjCode||a.inventoryName_outPutMatCode,a.inventoryCode=a.inventoryCode_transObjCode||a.inventoryCode_outPutMatCode,a.specification=a.specification_transObjCode||a.measureUnit_outPutMatCode,a.measureUnit=a.measureUnit_transObjCode||a.specification_outPutMatCode,a.inventoryPic=a.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+a.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()),a.facilityCode_facilityObjCode&&(a.inventoryName=a.facilityName_facilityObjCode,a.inventoryCode=a.facilityCode_facilityObjCode,a.specification=a.facilitySpecification_facilityObjCode,a.measureUnit=a.facilityUnit_facilityObjCode,a.inventoryPic=a.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+a.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg())})}),e.listData=1===e.page?s:e.listData.concat(s),t||e.$nextTick(function(){e.resetScroll()});var o="";t&&0===e.activeIndex&&e.total&&(o=i-e.total==0?"暂无新数据":o="新增"+(i-e.total)+"条数据",e.$vux.toast.show({text:o,position:"top",width:"50%",type:"text",time:700})),0==e.activeIndex&&1===e.page&&sessionStorage.setItem(e.applyCode,i)}).catch(function(t){e.resetScroll()})},getData:function(e){var t=this;return(0,d.default)(o.default.mark(function a(){return o.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getSession();case 2:if(!e){a.next=6;break}return a.next=5,t.getList(!0).then(function(){t.$nextTick(function(){t.$refs.bScroll.finishPullDown().then(function(){t.$refs.bScroll.finishPullUp()})}),t.$loading.hide()});case 5:return a.abrupt("return");case 6:return a.next=8,t.getList();case 8:case"end":return a.stop()}},a,t)}))()},changeVisitedStatus:function(){var e=[].concat((0,v.default)(this.listData));setTimeout(function(){e.forEach(function(e){e.visited=!1})},200),this.listData=e},onSortList:function(e){this.sort=e.property?[e]:[],this.resetCondition(),this.getList()},onTabClick:function(e){var t=e.status,a=void 0===t?"":t,n=e.index,i=void 0===n?0:n;this.activeIndex=i,this.activeTab=a,this.resetCondition(),this.getList()},onFilter:function(e){this.serachVal="",this.$refs.search.clearVal(),this.sort.length||(this.sort=[{property:"crtTime",direction:"DESC"}]),this.timeFilter=e.timeFilter,this.otherFilter=e.otherFilter,this.resetCondition(),this.getList()},getAppDetail:function(){var e=this,t=this.$route.params.listId,a=void 0===t?"":t;return(0,N.getAppDetail)(a).then(function(t){var a=(0,r.default)(t,1),n=a[0],i=void 0===n?{}:n,s=i.action;e.action=s})}},filters:{filterTime:function(e){if(e){e=(0,T.default)(e);return e.split(" ")[0]}},numberComma:k.default,dateFormat:T.default,toFixed:V.toFixed},beforeCreate:function(){var e=this;this.$loading.show();var t=this.$route.query,a=t.name,n=t.childId,i=t.transCode,r=this.$route.params,s=r.fileId,o=r.listId;i&&(0,L.isMyflow)({transCode:i}).then(function(t){var r=t.tableContent,l="";if(r.length>0){var d=r[0],u=d.isMyTask,c=d.nodeName;l=1===u&&"重新提交"===c?"/fillform/"+s+"/"+o:"/detail/"+s+"/"+o}else l="/detail/"+s+"/"+o;e.$router.replace({path:l,query:{name:a,childId:n,transCode:i}})})},created:function(){var e=this;(0,W.register)(),this.applyCode=this.$route.params.code;var t=this.$route.query,a=t.name,n=t.transCode;this.getAppDetail(),this.getData(!1).then(function(){n||e.$loading.hide(),wx.ready(function(){var e={title:"点击查看"+a+"列表",desc:"点击查看"+a+"列表，可创建新的订单",imgUrl:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1542276320183&di=ef11baa4ce65f2ba1aed2b214cf4dacd&imgtype=0&src=http://www.qqzhi.com/uploadpic/2014-09-26/101958658.jpg"};(0,G.shareContent)(e)})})}}},MjOu:function(e,t){},MjpR:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("hRKE"),r=n(i),s=a("4YfN"),o=n(s),l=a("BGNQ"),d=n(l),u=a("7g+Q"),c=n(u),f=a("rDF8"),m=n(f),h=a("GM4P"),v=n(h),p=a("803w"),C=n(p),_=a("+62G"),y=n(_),b=a("qZvt"),g=n(b),w=(0,C.default)();delete w.value,t.default={name:"popup-radio",components:{Popup:c.default,Radio:m.default,Cell:d.default},directives:{TransferDom:y.default},props:(0,o.default)({placeholder:String,readonly:Boolean},w,(0,v.default)()),computed:{displayValue:function(){var e=this;if(!this.options.length)return"";if("object"===(0,r.default)(this.options[0])){var t=(0,g.default)(this.options,function(t){return t.key===e.currentValue});if(t)return t.value}return this.currentValue}},methods:{onValueChange:function(e){this.hide()},show:function(){this.readonly||(this.showPopup=!0)},hide:function(){this.showPopup=!1}},watch:{value:function(e){this.currentValue=e},currentValue:function(e){this.$emit("input",e),this.$emit("on-change",e)}},data:function(){return{showPopup:!1,currentValue:this.value}}}},MmnS:function(e,t,a){"use strict";function n(e){a("0QVE")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("fSHU");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("ZtPB"),o=a.n(s),l=a("9mAr"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-31096792",null);t.default=c.exports},Mnwv:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("ZLEe"),r=n(i),s=a("HXPS"),o=n(s),l=a("Lmo3"),d=n(l),u=a("z5TY"),c=n(u),f=a("xZPP"),m=n(f),h=a("j51P"),v=n(h),p=a("kNGm"),C=n(p);t.default={name:"datetime",mixins:[v.default],components:{Group:c.default,InlineDesc:m.default,Icon:o.default},props:{format:{type:String,default:"YYYY-MM-DD",validator:function(e){return!0}},title:String,value:{type:String,default:""},inlineDesc:String,placeholder:String,minYear:Number,maxYear:Number,confirmText:String,cancelText:String,clearText:String,yearRow:{type:String,default:"{value}"},monthRow:{type:String,default:"{value}"},dayRow:{type:String,default:"{value}"},hourRow:{type:String,default:"{value}"},minuteRow:{type:String,default:"{value}"},required:{type:Boolean,default:!1},minHour:{type:Number,default:0},maxHour:{type:Number,default:23},startDate:{type:String,validator:function(e){return!e||10===e.length}},endDate:{type:String,validator:function(e){return!e||10===e.length}},valueTextAlign:String,displayFormat:Function,readonly:Boolean,hourList:Array,minuteList:Array,show:Boolean,defaultSelectedValue:String,computeHoursFunction:Function,computeDaysFunction:Function,orderMap:Object},created:function(){this.isFirstSetValue=!1,this.currentValue=this.value},data:function(){return{currentShow:!1,currentValue:null,valid:!0,errors:{}}},mounted:function(){var e=this,t=this.uuid;this.$el.setAttribute("id","vux-datetime-"+t),this.readonly||this.$nextTick(function(){e.render(),e.show&&e.$nextTick(function(){e.picker&&e.picker.show(e.currentValue)})})},computed:{styles:function(){return this.$parent?{width:this.$parent.labelWidth,textAlign:this.$parent.labelAlign,marginRight:this.$parent.labelMarginRight}:{}},pickerOptions:function(){var e=this,t={trigger:"#vux-datetime-"+this.uuid,format:this.format,value:this.currentValue,output:".vux-datetime-value",confirmText:e.getButtonText("confirm"),cancelText:e.getButtonText("cancel"),clearText:e.clearText,yearRow:this.yearRow,monthRow:this.monthRow,dayRow:this.dayRow,hourRow:this.hourRow,minuteRow:this.minuteRow,minHour:this.minHour,maxHour:this.maxHour,startDate:this.startDate,endDate:this.endDate,hourList:this.hourList,minuteList:this.minuteList,defaultSelectedValue:this.defaultSelectedValue,computeHoursFunction:this.computeHoursFunction,computeDaysFunction:this.computeDaysFunction,orderMap:this.orderMap||{},onSelect:function(t,a,n){e.picker&&e.picker.config.renderInline&&(e.$emit("input",n),e.$emit("on-change",n))},onConfirm:function(t){e.currentValue=t},onClear:function(t){e.$emit("on-clear",t)},onHide:function(t){e.currentShow=!1,e.$emit("update:show",!1),e.validate(),e.$emit("on-hide",t),"cancel"===t&&e.$emit("on-cancel"),"confirm"===t&&setTimeout(function(){e.$nextTick(function(){e.$emit("on-confirm",e.value)})})},onShow:function(){e.currentShow=!0,e.$emit("update:show",!0),e.$emit("on-show")}};return this.minYear&&(t.minYear=this.minYear),this.maxYear&&(t.maxYear=this.maxYear),t},firstError:function(){var e=(0,r.default)(this.errors)[0];return this.errors[e]},labelClass:function(){return this.$parent?{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}:{}}},methods:{getButtonText:function(e){return"cancel"===e&&this.cancelText?this.cancelText:"confirm"===e&&this.confirmText?this.confirmText:this.$el.getAttribute("data-"+e+"-text")},render:function(){var e=this;this.$nextTick(function(){e.picker&&e.picker.destroy(),e.picker=new d.default(e.pickerOptions)})},validate:function(){if(!this.currentValue&&this.required)return this.valid=!1,void(this.errors.required="必填");this.valid=!0,this.errors={}}},watch:{readonly:function(e){e?this.picker&&this.picker.destroy():this.render()},show:function(e){e!==this.currentShow&&(e?this.picker&&this.picker.show(this.currentValue):this.picker&&this.picker.hide(this.currentValue))},currentValue:function(e,t){this.$emit("input",e),this.isFirstSetValue?this.$emit("on-change",e):(this.isFirstSetValue=!0,t&&this.$emit("on-change",e)),this.validate()},startDate:function(){this.render()},endDate:function(){this.render()},format:function(e){this.currentValue&&(this.currentValue=(0,C.default)(this.currentValue,e)),this.render()},value:function(e){if(this.readonly||this.picker&&this.picker.config.renderInline)return void(this.currentValue=e);this.currentValue!==e&&(this.currentValue=e,this.render())}},beforeDestroy:function(){this.picker&&this.picker.destroy()}}},MtqW:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2443,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[i.default],methods:{},created:function(){}}},MuIo:function(e,t){},MwA1:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noPrice:!0,noCount:!0},nativeOn:{click:function(a){e.goDetail(t,n)}}})}))],1),e._v(" "),e.action.add?a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},"N/8H":function(e,t,a){"use strict";function n(e){a("Js0S")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("kRot");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("zPJ7"),o=a.n(s),l=a("AGE1"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-68aa3d01",null);t.default=c.exports},"N/vw":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("+26s"),r=n(i),s=a("Zp+1"),o=n(s);t.default={data:function(){return{uniqueId:1400,showContent:!1,filterArr:[{operator:"like",value:"",property:"warehouseName"}]}},components:{TabItem:o.default},mixins:[r.default]}},N0ej:function(e,t){},N2r1:function(e,t,a){"use strict";function n(e){a("CLlh")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("r2DS");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Ul2w"),o=a.n(s),l=a("yFf3"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-0a4e959d",null);t.default=c.exports},N3Ds:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MjAd"),r=n(i),s=(a("vS5q"),a("4bt0")),o=n(s);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2448,chartShow:!1,hasNext:!0,scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0},sortList:[{name:"交易号",key:"transCode"},{name:"修改时间",key:"modTime"},{name:"客户名称",key:"dealerName"}]}},components:{ApplyChart:o.default},mixins:[r.default],methods:{}}},N8ly:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("ZLEe"),r=n(i),s=a("3cXf"),o=n(s),l=a("IHPB"),d=n(l),u=a("4YfN"),c=n(u),f=a("HXPS"),m=n(f),h=a("7g+Q"),v=n(h),p=a("HyXB"),C=a("1KNX"),_=n(C),y=a("7biW"),b=n(y);t.default={name:"PopEntityList",props:{value:{type:Object,default:function(){return{}}}},components:{Icon:m.default,Popup:v.default,RScroll:_.default,MSearch:b.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},tmpItems:[],listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},watch:{value:{handler:function(e){this.selItems=(0,c.default)({},e)}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},showSelIcon:function(e){return this.selItems.dealerName===e.dealerName},selThis:function(e,t){this.showPop=!1,this.selItems=(0,c.default)({},e),this.$emit("input",this.selItems)},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"dealerName"}])),(0,p.getObjDealerByLabelName)({dealerLabelName:"内部公司",limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,s=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+s.length,e.listData=1===e.page?s:[].concat((0,d.default)(e.listData),(0,d.default)(s)),(0,r.default)(e.selItems).length||(e.selItems=e.listData[0]),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getList()},onPullingUp:function(){this.page++,this.getList()},itemClick:function(){this.showPop=!0}},created:function(){this.getList()}}},N9Kf:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("ZLEe"),r=n(i),s=a("3cXf"),o=n(s),l=a("IHPB"),d=n(l),u=a("4YfN"),c=n(u),f=a("HXPS"),m=n(f),h=a("7g+Q"),v=n(h),p=a("HyXB"),C=a("1KNX"),_=n(C),y=a("7biW"),b=n(y);t.default={name:"PopEntityList",props:{value:{type:Object,default:function(){return{}}}},components:{Icon:m.default,Popup:v.default,RScroll:_.default,MSearch:b.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},tmpItems:[],listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},watch:{value:{handler:function(e){this.selItems=(0,c.default)({},e)}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},showSelIcon:function(e){return this.selItems.dealerName===e.dealerName},selThis:function(e,t){this.showPop=!1,this.selItems=(0,c.default)({},e),this.$emit("input",this.selItems)},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"dealerName"}])),(0,p.getObjDealerByLabelName)({dealerLabelName:"内部公司",limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,s=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+s.length,e.listData=1===e.page?s:[].concat((0,d.default)(e.listData),(0,d.default)(s)),(0,r.default)(e.selItems).length||(e.selItems=e.listData[0]),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getList()},onPullingUp:function(){this.page++,this.getList()},itemClick:function(){this.showPop=!0}},created:function(){this.getList()}}},N9Ou:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("3cXf"),o=n(s),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("u28h"),C=n(p),_=a("PzEQ"),y=n(_),b=a("kNGm"),g=(n(b),a("jnZd")),w=n(g),I=(a("0AQX"),a("Z6x5")),x=a("HyXB"),D=a("bKg5"),P=n(D),k=a("vl8n"),S=n(k),T=a("+WR7"),L=n(T),N=a("iikc"),M=n(N);t.default={data:function(){return{listId:"da7f15cc-d2d7-11e8-b8ca-0279b2c6a380",formData:{biId:"",biComment:"",biProcessStatus:""},biReferenceId:"",MobileWarn:!1,idCardWarn:!1,groupList:[],roleList:[]}},components:{Cell:c.default,Group:m.default,XInput:v.default,Datetime:C.default,XTextarea:y.default,PopupPicker:w.default,RPicker:S.default,PopBaseinfo:L.default,PopSalesmanList:M.default},mixins:[P.default],methods:{getAllGroup:function(){var e=this;(0,I.getAllGroup)().then(function(t){var a=[];t.tableContent.forEach(function(e){a.push(e.groupName)}),e.groupList.push(a)})},getAllRoleInfo:function(){var e=this;(0,I.getAllRoleInfo)().then(function(t){var a=[];t.tableContent.forEach(function(e){a.push(e.roleName)}),e.roleList.push(a)})},submitOrder:function(){var e=this,t="",a=[{key:"turnoverName",message:"员工"}];if(t||a.every(function(a){return!!e.formData[a.key]||(t="请选择"+a.message,!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=x.saveAndStartWf,a=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,turnoverDepartMent:e.formData.turnoverDepartMent&&e.formData.turnoverDepartMent[0],turnoverPost:e.formData.turnoverPost&&e.formData.turnoverPost[0]}),n={listId:e.listId,biComment:"",formData:(0,o.default)(a)};e.isResubmit&&(t=x.saveAndCommitTask,n.biReferenceId=e.biReferenceId,n.wfPara=(0,o.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=x.submitAndCalc,delete n.wfPara,delete n.biReferenceId),e.biReferenceId&&(n.biReferenceId=e.biReferenceId),e.saveData(t,n)}})},hasDraftData:function(){var e=this.formData;if(e.profileName||e.idCard)return(0,r.default)({},"YGLZ_DATA",{formData:e})}},created:function(){this.getAllGroup(),this.getAllRoleInfo();var e=sessionStorage.getItem("YGLZ_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,sessionStorage.removeItem("YGLZ_DATA")}}}},NAfT:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("KH7x"),r=n(i),s=a("4YfN"),o=n(s),l=a("kNGm"),d=n(l),u=a("hFVz"),c=n(u);t.default={filters:{dateFormat:d.default},data:function(){return{transCode:"",MatPic:"",imgFileObj:{},dealer:{},baseinfo:{}}},methods:{findData:function(){var e=this;return c.default.getDealerInfo(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=t.attachment,s=void 0===i?[]:i,l=n.baseinfo,d=void 0===l?{}:l,u=n.dealer,c=void 0===u?{}:u;switch(c.dealerStatus){case"1":c.dealerStatus="使用中";break;case"2":c.dealerStatus="未使用";break;case"0":c.dealerStatus="草稿";break;case"-1":c.dealerStatus="停用"}e.hasDefault=!0,e.baseinfo=(0,o.default)({},e.baseinfo,d),e.dealer=(0,o.default)({},e.dealer,c);for(var f in e.dealer)""==e.dealer[f]&&(e.dealer[f]="无");e.biReferenceId=e.dealer.referenceId,e.dealer.dealerPic?e.MatPic="/H_roleplay-si/ds/download?url="+e.dealer.dealerPic+"&width=400&height=400":e.getDefaultImg();var m=s.filter(function(t){return t.attacthment===e.dealer.dealerPic}),h=(0,r.default)(m,1),v=h[0],p=void 0===v?{}:v;e.imgFileObj=p,e.$loading.hide()}).catch(function(t){e.$loading.hide(),e.$vux.alert.show({content:t.message})})},getDefaultImg:function(){this.MatPic=a("tVsm")}},created:function(){this.$loading.show();var e=this.$route.query;e.transCode&&(this.transCode=e.transCode,this.findData())}}},NCDs:function(e,t){},NDsO:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("4YfN"),o=n(s),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("6q39"),v=n(h),p=a("fEP3"),C=a("1KNX"),_=n(C),y=a("7biW"),b=n(y);a("zWMP");t.default={name:"work-list-pop",props:{show:{type:Boolean,default:!1},params:{type:Object,default:function(){return{calc_rel_code:7051,view_id:"view_94"}}},workType:{type:String,default:"派工"}},components:{Icon:c.default,Popup:m.default,LoadMore:v.default,RScroll:_.default,MSearch:b.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],scrollOptions:{click:!0},btnText:"关闭",filterList:[{name:"成品名称",value:"inventoryName"},{name:"工序名称",value:"procedureName"}],filterProperty:"",taskWorkList:{}}},watch:{show:{handler:function(e){this.showPop=e}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){var t=!1;return this.selItems&&this.selItems.every(function(a){return a.orderCode&&e.matCode===a.matCode&&e.transCode===a.transCode&&e.orderCode===a.orderCode?(t=!0,!1):!(!a.orderCode&&e.matCode===a.matCode&&e.transCode===a.transCode)||(t=!0,!1)}),t&&(this.btnText="发起工单"+this.workType),t},selThis:function(e,t){var a=this.selItems,n=a.findIndex(function(t){return t.transCode===e.transCode&&t.matCode===e.matCode});if(e.orderCode&&(n=a.findIndex(function(t){return t.transCode===e.transCode&&t.matCode===e.matCode&&t.orderCode===e.orderCode})),-1!==n)return a.splice(n,1),void(a.length||(this.btnText="关闭"));this.selItems=[e]},getWorkOrderTask:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getTaskWorkList)((0,o.default)({},this.params,{filter:(0,r.default)(t)})).then(function(t){var a=t.data,n=void 0===a?[]:a;e.taskWorkList=n})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.taskWorkList={},this.$refs.bScroll.scrollTo(0,0),this.getWorkOrderTask()},btnHandle:function(){"关闭"!==this.btnText&&this.$emit("sel-task",this.selItems),this.showPop=!1}},created:function(){this.getWorkOrderTask()}}},NHMs:function(e,t,a){"use strict";function n(e){a("MjOu")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("mV4P");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("gC8S"),o=a.n(s),l=a("zmkY"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-677c6cf2",null);t.default=c.exports},NHnr:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var i=a("++MA"),r=n(i),s=a("M93x"),o=n(s),l=a("YaEn"),d=n(l),u=a("iDdd"),c=n(u),f=a("zO6J"),m=n(f),h=a("xcUm"),v=(n(h),a("DmCN")),p=n(v),C=a("wrnC"),_=n(C),y=a("azgU"),b=n(y),g=a("2J3d"),w=n(g),I=a("+62G"),x=n(I),D=a("r1uy"),P=n(D),k=a("owYz"),S=n(k),T=a("/rmV"),L=n(T);r.default.use(S.default),r.default.use(m.default),r.default.use(L.default),r.default.use(w.default),r.default.use(_.default),r.default.use(b.default),r.default.use(P.default),r.default.directive("transfer-dom",x.default),r.default.prototype.Swiper=p.default,c.default.attach(document.body);r.default.config.debug=!1,r.default.config.devtools=!1,r.default.config.productionTip=!1,r.default.prototype.$event=new r.default,d.default.afterEach(function(e){document.title=e.meta.title||""}),new r.default({router:d.default,render:function(e){return e(o.default)}}).$mount("#app-box")},NINi:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),m=a("bFc7"),h=n(m),v=a("6WeX"),p=n(v),C=a("3NX5"),_=n(C),y=a("sUbJ"),b=n(y),g=a("d7ck"),w=n(g),I=a("zWMP"),x=a("Qg39");t.default={data:function(){return{count:0,comment:"",orderInfo:{},formViewUniqueId:"e76a8c6f-05cc-45ee-ba93-299fe6751856",orderList:{}}},mixins:[l.default],components:{workFlow:f.default,RAction:u.default,PriceTotal:p.default,contactPart:h.default,MatterList:_.default,MatterItem:b.default,FormCell:w.default},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var d={},u=s.order,c=void 0===u?{}:u;e.attachment=l;var f=s.order.dataSet,m=!0,h=!1,v=void 0;try{for(var p,C=(0,r.default)(f);!(m=(p=C.next()).done);m=!0){var _=p.value;_.noTaxAmount=(0,I.accMul)(_.price,_.tdQty),_.taxAmount=(0,I.accMul)(_.noTaxAmount,_.taxRate),_.tdAmount=(0,x.toFixed)((0,I.accAdd)(_.noTaxAmount,_.taxAmount)),e.count=(0,I.accAdd)(e.count,_.tdAmount),_.inventoryPic=_.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),d[_.transMatchedCode]||(d[_.transMatchedCode]=[]),d[_.transMatchedCode].push(_)}}catch(e){h=!0,v=e}finally{try{!m&&C.return&&C.return()}finally{if(h)throw v}}e.orderList=d,e.dealerInfo={dealerName:c.dealerName_dealerDebit,dealerMobilePhone:s.dealerDebitContactInformation,dealerContactPersonName:s.dealerDebitContactPersonName,dealerCode:c.dealerCode_dealerDebit,dealerLabelName:c.drDealerLabel,province:c.province_dealerDebit,city:c.city_dealerDebit,county:c.county_dealerDebit,address:c.address_dealerDebit,payment:c.drDealerPaymentTerm,pamentDays:c.daysOfAccount},e.orderInfo=s,e.workFlowInfoHandler()})}}}},NIYf:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],ref:"emotionContainer",staticClass:"emotion-container vux-1px-t"},[a("div",{staticClass:"emotion-wrapper"},e._l(e.emotionList,function(t,n){return a("emotion",{key:n,staticClass:"emotion-item",nativeOn:{click:function(a){e.emotionClick(t,n)}}},[e._v(e._s(t))])}))])},i=[],r={render:n,staticRenderFns:i};t.a=r},NIrh:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages xmlx-list-container",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("just-word-item",{key:n,attrs:{item:t,conutTitle:"收入"},nativeOn:{click:function(a){e.goDetail(t,n)}}})}))],1),e._v(" "),e.action.add?a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},NLcr:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("J0Oq"),o=n(s),l=a("KH7x"),d=n(l),u=a("L6VY"),c=n(u),f=a("kNGm"),m=n(f),h=a("I3vJ"),v=a("I8ug"),p=a("d7ck"),C=n(p);t.default={name:"materDetail",filters:{dateFormat:m.default},data:function(){return{listId:"78a798f8-0f3a-4646-aa8b-d5bb1fada28c",baseinfo:{},transCode:"",inventory:{},invMoreUnit:[],invNetWeight:[],invDealerRel:[],invCustomerRel:[],action:{}}},computed:{leadTimeTitle:function(){var e=this.inventory.processing,t=["原料","商品"],a=["半成品","成品","模具"];return t.includes(e)?"采购提前期":a.includes(e)?"加工提前期":""}},components:{FormCell:C.default},methods:{goEdit:function(){this.$router.push({path:"/materlist/addMater",query:{transCode:this.transCode}})},findData:function(){var e=this;return(0,h.findData)(this.transCode).then(function(t){var a=t.formData,n=a.inventory,i=void 0===n?{}:n,r=["","使用中","未使用","草稿"],s=["","inUse","unUse"];i.statusClass=s[i.inventoryStatus],i.status=r[i.inventoryStatus]||"停用",e.baseinfo=a.baseinfo,e.inventory=a.inventory,e.invNetWeight=a.invNetWeight,e.invMoreUnit=a.invMoreUnit,e.invDealerRel=a.invDealerRel||[],e.invCustomerRel=a.invCustomerRel||[];var o=e.inventory,l=o.inventoryPic,d=o.inventoryCode,u=o.specification;e.contentLength=d.length+u.length,l?e.inventory.inventoryPic="/H_roleplay-si/ds/download?url="+l+"&width=400&height=400":e.getDefaultImg(),e.$loading.hide()}).catch(function(t){e.$loading.hide(),c.default.show({content:t.message})})},getDefaultImg:function(){this.inventory.inventoryPic=a("Y//y")},getAppDetail:function(){var e=this;return(0,v.getAppDetail)(this.listId).then(function(t){var a=(0,d.default)(t,1),n=a[0],i=void 0===n?{}:n,r=i.action;e.action=r})}},created:function(){var e=this;(0,o.default)(r.default.mark(function t(){var a,n;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.$loading.show(),a=e.$route.query.transCode,n=void 0===a?"":a,e.transCode=n,t.next=5,e.getAppDetail();case 5:e.findData();case 6:case"end":return t.stop()}},t,e)}))()}}},NLlj:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("IHPB"),o=n(s),l=a("3cXf"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("+62G"),v=n(h),p=a("6q39"),C=n(p),_=a("vS5q"),y=a("1KNX"),b=n(y),g=a("7biW"),w=n(g);t.default={name:"PopWarehouseList",props:{title:{type:String,default:"仓库列表"},defaultValue:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1},isRequired:{type:Boolean,default:!1},filterParams:{type:Array,default:function(){return[]}},getListMethod:{type:String,default:"getWarehouse"},warehouseType:{type:String,default:""}},directives:{TransferDom:v.default},components:{Icon:c.default,Popup:m.default,RScroll:b.default,DSearch:w.default,LoadMore:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},showAddWarehouse:!1}},computed:{tip:function(){var e="加载中";return this.hasNext||(e="暂无数据"),e},noAddress:function(){var e=this.selItems,t=e.warehouseProvince,a=void 0===t?"":t,n=e.warehouseCity,i=void 0===n?"":n,r=e.warehouseDistrict,s=void 0===r?"":r,o=e.warehouseAddress,l=void 0===o?"":o;return!(a||i||s||l)}},watch:{defaultValue:function(e){this.setDefaultValue()}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this[this.getListMethod]()},showSelIcon:function(e){return this.selItems.warehouseCode===e.warehouseCode},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.$emit("sel-item",(0,d.default)(this.selItems))},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getWarehouse:function(){var e=this.filterParams;return this.srhInpTx&&(e=[].concat((0,o.default)(e),[{operator:"like",value:this.srhInpTx,property:"warehouseName"}])),(0,_.getWarehouse)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,d.default)(e)}).then(this.dataHandler)},getWareHouseType:function(){var e=this.filterParams;this.srhInpTx&&(e=[].concat((0,o.default)(e),[{operator:"like",value:this.srhInpTx,property:"warehouseName"}]));var t={limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,d.default)(e)};this.warehouseType&&(t.warehouseType=this.warehouseType),(0,_.getWareHouseType)(t).then(this.dataHandler)},dataHandler:function(e){var t=this,a=e.dataCount,n=void 0===a?0:a,i=e.tableContent,r=void 0===i?[]:i;if(this.showAddWarehouse=this.srhInpTx&&0===r.length,this.hasNext=n>(this.page-1)*this.limit+r.length,r.forEach(function(e){e.warehouseCity=e.warehouseCity||e.wareHouseCity}),this.listData=1===this.page?r:[].concat((0,o.default)(this.listData),(0,o.default)(r)),sessionStorage.getItem("EDIT_WAREHOUSE_TRANSCODE"))for(var s=JSON.parse(sessionStorage.getItem("EDIT_WAREHOUSE_TRANSCODE")).transCode,l=0;l<this.listData.length;l++)this.listData[l].transCode==s&&(this.selItems=this.listData[l],this.$emit("sel-item",(0,d.default)(this.listData[l])),sessionStorage.removeItem("EDIT_WAREHOUSE_TRANSCODE"));this.$nextTick(function(){t.$refs.bScroll.finishPullUp()})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this[this.getListMethod]()},onPullingUp:function(){this.page++,this[this.getListMethod]()},setDefaultValue:function(){this.selItems=this.defaultValue?(0,r.default)({},this.defaultValue):{}},warehouseClick:function(){this.disabled||(this.showPop=!this.showPop)},addWarehouse:function(){this.$router.push({path:"/warehouse/edit_warehouse",query:{add:1}})}},created:function(){this.setDefaultValue(),this.disabled||this[this.getListMethod]()}}},NUgK:function(e,t,a){"use strict";function n(e){a("Kisd")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Sksv");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("dB5k"),o=a.n(s),l=a("NZlP"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-159f3891",null);t.default=c.exports},NVqK:function(e,t){},NZlP:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noCount:"",noPrice:"",isDealer:!1},nativeOn:{click:function(a){e.goDetail(t,n)}}})}))],1),e._v(" "),e.action.add?a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e(),e._v(" "),a("pop-task-work-list",{ref:"taskWork",attrs:{show:e.popShow,params:e.requestParams,"work-type":"启动"},on:{"sel-task":e.selTask},model:{value:e.popShow,callback:function(t){e.popShow=t},expression:"popShow"}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},Nbjp:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages sj-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[a("div",{staticClass:"mater_list"},[a("div",{staticClass:"each_mater"},[a("div",{staticClass:"userInp_mode"},[a("div",{staticClass:"title"},[e._v("员工信息")]),e._v(" "),a("group",{staticClass:"SJ_group",on:{"group-title-margin-top":function(e){}}},[a("x-input",{attrs:{title:"员工","text-align":"right",placeholder:"请填写"},model:{value:e.formData.profileName,callback:function(t){e.$set(e.formData,"profileName",t)},expression:"formData.profileName"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("员工\n                    ")])])],2),e._v(" "),a("x-input",{attrs:{title:"身份证号",type:"number","text-align":"right",placeholder:"请填写"},on:{"on-blur":e.checkIdCard},model:{value:e.formData.idCard,callback:function(t){e.$set(e.formData,"idCard",t)},expression:"formData.idCard"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("身份证号\n                    ")])])],2),e._v(" "),a("x-input",{attrs:{title:"紧急联系人","text-align":"right",placeholder:"请填写"},model:{value:e.formData.urgentContact,callback:function(t){e.$set(e.formData,"urgentContact",e._n(t))},expression:"formData.urgentContact"}}),e._v(" "),a("x-input",{attrs:{title:"联系方式",type:"number","text-align":"right",placeholder:"请填写"},on:{"on-blur":e.checkMobile},model:{value:e.formData.profileContact,callback:function(t){e.$set(e.formData,"profileContact",e._n(t))},expression:"formData.profileContact"}}),e._v(" "),a("x-input",{attrs:{title:"地址","text-align":"right",placeholder:"请填写"},model:{value:e.formData.profileAddress,callback:function(t){e.$set(e.formData,"profileAddress",e._n(t))},expression:"formData.profileAddress"}}),e._v(" "),a("x-input",{attrs:{title:"学历","text-align":"right",placeholder:"请填写"},model:{value:e.formData.education,callback:function(t){e.$set(e.formData,"education",e._n(t))},expression:"formData.education"}}),e._v(" "),a("datetime",{attrs:{placeholder:"请选择日期",title:"合同期限"},model:{value:e.formData.contractPeriod,callback:function(t){e.$set(e.formData,"contractPeriod",t)},expression:"formData.contractPeriod"}}),e._v(" "),a("datetime",{attrs:{placeholder:"请选择日期",title:"入职日期"},model:{value:e.formData.entryDate,callback:function(t){e.$set(e.formData,"entryDate",t)},expression:"formData.entryDate"}}),e._v(" "),a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1)])])]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},NbtV:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("4YfN"),o=n(s),l=a("KH7x"),d=n(l),u=a("3cXf"),c=n(u),f=a("0AQX"),m=a("+VRO"),h=n(m),v=a("BUFe"),p=n(v),C=a("AupE"),_=n(C),y=a("bFc7"),b=n(y),g=a("6WeX"),w=n(g),I=a("3NX5"),x=n(I),D=a("zWMP"),P=a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"",contactInfo:{}}},components:{workFlow:_.default,RAction:p.default,contactPart:b.default,PriceTotal:w.default,MatterList:x.default},mixins:[h.default],methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,f.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(e.submitInfo=JSON.parse((0,c.default)(t)),!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData,n=a.order,i=a.inPut,s=n.dataSet,l=i.dataSet,u=void 0===l?[]:l,f=(0,d.default)(u,1),m=f[0],h=void 0===m?{}:m,v=!0,p=!1,C=void 0;try{for(var _,y=(0,r.default)(s);!(v=(_=y.next()).done);v=!0){var b=_.value;b.noTaxAmount=(0,D.accMul)(b.price,b.tdQty),b.taxAmount=(0,D.accMul)(b.noTaxAmount,b.taxRate),b.tdAmount=(0,P.toFixed)((0,D.accAdd)(b.noTaxAmount,b.taxAmount)),e.count=(0,D.accAdd)(e.count,b.tdAmount),b.inventoryPic=b.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+b.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){p=!0,C=e}finally{try{!v&&y.return&&y.return()}finally{if(p)throw C}}e.orderInfo=t.formData,e.contactInfo=(0,o.default)({},e.contactInfo,{logistics:t.formData.drDealerLogisticsTerms,executionDate:h.executionDate,validUntil:h.validUntil,thenTotalAmntBal:h.thenTotalAmntBal,prepaymentDueDate:h.prepaymentDueDate,tdAmountCopy1:h.tdAmountCopy1,daysOfAccount:i.daysOfAccount}),e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo=(0,o.default)({},this.contactInfo,{creatorName:t.dealerDebitContactPersonName,dealerName:a.dealerName_dealerDebit,dealerMobilePhone:t.dealerDebitContactInformation,dealerContactPersonName:t.dealerDebitContactPersonName,dealerCode:a.dealerDebit,dealerLabelName:a.drDealerLabel,province:a.province_dealerDebit,city:a.city_dealerDebit,county:a.county_dealerDebit,address:a.address_dealerDebit,payment:a.drDealerPaymentTerm})}},created:function(){}}},NdBD:function(e,t){},Ndqp:function(e,t,a){"use strict";function n(e){a("5YVY")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lI25");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("qhvE"),o=a.n(s),l=a("bH4i"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-6062e88c",null);t.default=c.exports},NefH:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("4YfN"),o=n(s),l=a("HzJ8"),d=n(l),u=a("3cXf"),c=n(u),f=a("PzEQ"),m=n(f),h=a("u28h"),v=n(h),p=a("kNGm"),C=(n(p),a("BGNQ")),_=n(C),y=a("SAzG"),b=n(y),g=a("0AQX"),w=a("HyXB"),I=a("bKg5"),x=n(I),D=a("I5id"),P=n(D),k=a("luHD"),S=n(k),T=a("VZtf"),L=n(T),N=a("vl8n"),M=n(N),A=a("+WR7"),O=n(A);a("zWMP"),a("Qg39");t.default={name:"ApplySBCGSQForm",data:function(){return{matterList:[],formData:{biId:"",biComment:"",biProcessStatus:""},numMap:{},showFacilityPop:!1,matterParams:{facilityType:"工程物资,固定资产"},showMatterPop:!1,selItems:[]}},mixins:[x.default],components:{XTextarea:m.default,Datetime:v.default,RNumber:L.default,Cell:_.default,XInput:b.default,PopMatter:S.default,RPicker:M.default,PopBaseinfo:O.default,PopFacilityList:P.default},methods:{selMatter:function(e){var t=this,a=JSON.parse(e);a.map(function(e){var a=t.numMap[e.facilityCode]||{},n=a.tdQty,i=void 0===n?"":n,r=a.price,s=void 0===r?"":r;e.tdQty=i,e.price=s}),this.numMap={},this.matterList=a},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.facilityCode===t.facilityCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.facilityCode===e.facilityCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,c.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.facilityCode===t.facilityCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,d.default)(this.matterList);!(e=(n=i.next()).done);e=!0){var r=n.value;this.numMap[r.facilityCode]=(0,o.default)({},r)}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showFacilityPop=!this.showFacilityPop},submitOrder:function(){var e=this,t="",a=[];if(this.matterList.every(function(n){if(!n.price)return t="单价不能为空",!1;if(!n.tdQty&&0!==n.tdQty)return t="数量不能为空",!1;var i={facilityObjCode:n.facilityCode,facilityType:n.facilityType,assMeasureUnit:null,assistQty:n.assistQty||null,tdQty:n.tdQty,price:n.price,tdAmount:n.tdAmount,comment:n.comment||""};return e.transCode&&(i.tdId=n.tdId||null),a.push(i),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=w.saveAndStartWf,n={},i=(0,r.default)({},e.processCode,{businessKey:"EPAP",createdBy:""});n=(0,o.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{dataSet:a}}),e.transCode&&(t=w.saveAndCommitTask,i={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var s={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,c.default)(n),wfPara:(0,c.default)(i)};e.transCode||delete s.biReferenceId,e.processCode.length||(t=w.submitAndCalc,delete s.wfPara,delete s.biReferenceId),e.biReferenceId&&(s.biReferenceId=e.biReferenceId),e.saveData(t,s)}})},getFormData:function(){var e=this;return(0,g.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,l=t.attachment,u=void 0===l?[]:l;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=u;var c=s.order,f=c.dataSet,m=void 0===f?[]:f,h=[],v=!0,p=!1,C=void 0;try{for(var _,y=(0,d.default)(m);!(v=(_=y.next()).done);v=!0){var b,g=_.value;g=(0,o.default)({},g,(b={facilityName:g.facilityName_facilityObjCode,facilityCode:g.facilityCode_facilityObjCode,facilityBigType:g.facilityBigType_facilityObjCode,facilitySubclass:g.facilitySubclass_facilityObjCode,facilityUnit:g.facilityUnit_facilityObjCode},(0,r.default)(b,"facilityName",g.facilityName_facilityObjCode),(0,r.default)(b,"facilityName",g.facilityName_facilityObjCode),(0,r.default)(b,"inventoryPic",g.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+g.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()),b)),h.push(g)}}catch(e){p=!0,C=e}finally{try{!v&&y.return&&y.return()}finally{if(p)throw C}}e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,o.default)({},e.handlerDefault,{creator:s.creator,modifer:s.modifer,biId:s.biId,biComment:s.biComment,biProcessStatus:s.biProcessStatus}),e.biReferenceId=s.biReferenceId,e.matterList=h,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,r.default)({},"SBCGSQ_DATA",{matter:this.matterList,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("SBCGSQ_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.formData=t.formData,sessionStorage.removeItem("SBCGSQ_DATA")}}}},NgDr:function(e,t,a){"use strict";function n(e){a("ebB+")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("+Kn1");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("/9JJ"),o=a.n(s),l=a("gwp1"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-ff0399b8",null);t.default=c.exports},NgoS:function(e,t){},"Nk/b":function(e,t,a){"use strict";function n(e){a("3iOo")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("0u1o");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("F9M6"),o=a.n(s),l=a("O4M8"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},NkPQ:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("div",{staticClass:"title"},[a("m-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}})],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.costList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.costList,function(t,n){return a("div",{key:n,staticClass:"each_mater box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"mater_main "},[a("div",{staticClass:"cost_name"},[e._v("\n              "+e._s(t.fundName)+"\n            ")]),e._v(" "),a("div",{staticClass:"cost_type"},[e._v("\n              "+e._s(t.fundType)+"\n            ")])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}))],1)])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},NpFw:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"change_log vux-1px-b"},[a("div",{staticClass:"title"},[a("span",[e._v("更新日志")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.changeLogList.length,expression:"changeLogList.length"}],staticClass:"history",on:{click:function(t){e.popupShow=!0}}},[e._v("历史记录")])]),e._v(" "),e.changeLogList.length?a("div",{staticClass:"latest_change",on:{click:function(t){e.popupShow=!0}}},[a("div",{staticClass:"change_time"},[a("span",{staticClass:"version"},[e._v("v"+e._s(e.latestLog.VERSION))]),e._v(" "),a("span",[e._v(e._s(e._f("handerTime")(e.latestLog.CRT_TIME)))])]),e._v(" "),a("div",{staticClass:"change_content"},[a("div",{staticClass:"each_change"},[a("span",[e._v(e._s(e.latestLog.CREATOR_NAME))]),e._v(" "),a("span",{staticStyle:{"margin-left":"0.1rem"}},[e._v("耗用时间:"+e._s(e.latestLog.TIME_CONSUMING))])]),e._v(" "),a("div",{staticClass:"each_change"},[a("span",{staticClass:"change_title"},[e._v("更新范围: ")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e.latestLog.CHANGE_RANGE))])]),e._v(" "),a("div",{staticClass:"each_change"},[a("span",{staticClass:"change_title"},[e._v("备注: ")]),e._v(" "),a("span",{staticClass:"content",domProps:{innerHTML:e._s(e.latestLog.CONTENT)}})])])]):a("div",{staticClass:"no_data"},[e._v("暂无数据")]),e._v(" "),e.handle?a("div",{staticClass:"edit_log",on:{click:e.EditLog}},[a("span",{staticClass:"iconfont icon-bianji"}),e._v(" "),a("span",[e._v("撰写日志")])]):e._e(),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{attrs:{position:"bottom",height:"100%"},on:{"on-show":e.onShow},model:{value:e.popupShow,callback:function(t){e.popupShow=t},expression:"popupShow"}},[a("r-scroll",{ref:"bScroll",staticClass:"full-flow-container",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.changeLogList.length},on:{"on-pulling-up":e.onPullingUp}},[a("div",{staticClass:"change_list"},[a("div",{staticClass:"title vux-1px-b"},[e._v("\n            更新日志历史记录\n          ")]),e._v(" "),e._l(e.changeLogList,function(t,n){return a("div",{key:n,staticClass:"latest_change vux-1px-b"},[a("div",{staticClass:"change_time"},[a("span",{staticClass:"version"},[e._v("v"+e._s(t.VERSION))]),e._v(" "),a("span",[e._v(e._s(e._f("handerTime")(t.CRT_TIME)))])]),e._v(" "),a("div",{staticClass:"change_content"},[a("div",[e._v(e._s(t.CREATOR_NAME)+"  耗用时间:"+e._s(t.TIME_CONSUMING))]),e._v(" "),a("div",[e._v("更新范围: "+e._s(t.CHANGE_RANGE))]),e._v(" "),a("div",[e._v("备注: "),a("span",{domProps:{innerHTML:e._s(t.CONTENT)}})])])])})],2)]),e._v(" "),a("div",{staticClass:"btn when_less vux-1px-t"},[a("span",{staticClass:"cfm_btn",on:{click:e.closePop}},[e._v("关闭")])])],1)],1)])},i=[],r={render:n,staticRenderFns:i};t.a=r},Nqa9:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper nbjdgg-detail-container"},[e.orderInfo&&e.orderInfo.inPut?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"warehouse_part"},[a("warehouse-content",{staticClass:"vux-1px-b",attrs:{warehouse:e.warehouseOut}}),e._v(" "),a("warehouse-content",{attrs:{warehouse:e.warehouseIn}})],1),e._v(" "),a("matter-list",{attrs:{"order-list":e.orderList},scopedSlots:e._u([{key:"matterOther",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("单位: "+e._s(n.measureUnit_transObjCode))]),e._v(" "),a("span",[e._v("可用库存: "+e._s(n.thenQtyStock))])]),e._v(" "),a("div",{staticClass:"mater_num"},[a("span",{staticClass:"num"},[e._v("\n                本次完工入库: "+e._s(e._f("toFixed")(n.tdQty))+"\n              ")]),e._v(" "),a("span",{staticClass:"units"},[e._v("\n                [待验收余额: "+e._s(e._f("toFixed")(n.thenQtyBal))+"]\n              ")])])])]}}])}),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},Nu2k:function(e,t,a){"use strict";function n(e){a("qUWG")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("+Yy+");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("GxGw"),o=a.n(s),l=a("d5E5"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-c850bb1a",null);t.default=c.exports},NuNa:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,"default-contact":e.contactInfo,"dealer-label-name":"设施供应商",dealerTitle:"供应商"},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("div",{staticClass:"materiel_list"},[Object.keys(e.orderList).length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v("订单列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n,i){return a("div",{key:n,staticClass:"each_mater",class:{"vux-1px-b":i<Object.keys(e.orderList).length-1}},[t.length?a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v("订单号")]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]):e._e(),e._v(" "),e._l(t,function(i,r){return a("div",{key:r,class:{mater_delete:e.matterModifyClass}},[a("matter-item",{class:{"vux-1px-b":r<t.length-1},attrs:{item:i,"show-delete":e.matterModifyClass},on:{"on-modify":function(t){e.modifyMatter(i,r,n)}},nativeOn:{click:function(t){e.delClick(r,i)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_more"},[a("span",{staticClass:"unit"},[e._v("类型: "+e._s(n.facilityType||"无"))]),e._v(" "),a("span",{staticClass:"unit"},[e._v("大类: "+e._s(n.facilityBigType))]),e._v(" "),a("span",{staticClass:"unit"},[e._v("单位: "+e._s(n.facilityUnit||"无"))])]),e._v(" "),a("div",{staticClass:"mater_more"},[a("span",{directives:[{name:"show",rawName:"v-show",value:n.taxRate,expression:"item.taxRate"}]},[e._v("税率: "+e._s(n.taxRate))]),e._v(" "),a("span",{staticClass:"unit"},[e._v("订单总数: "+e._s(n.qty))]),e._v(" "),a("span",{staticClass:"qty"},[e._v("已验收数: "+e._s(n.purchased))]),e._v(" "),a("span",{staticClass:"qty"},[e._v("待验收数: "+e._s(n.qtyBal))])]),e._v(" "),n.price&&n.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price)+"\n                      ")]),e._v(" "),a("div",[a("r-number",{attrs:{num:n.tdQty,checkAmt:e.checkAmt,max:n.qtyBal},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",t)},expression:"item.tdQty"}})],1)]):e._e()]}},{key:"editPart",fn:function(t){var i=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:i.price&&(i.tdQty||0===i.tdQty)&&!e.matterModifyClass,expression:"(item.price && (item.tdQty || item.tdQty === 0)) &&!matterModifyClass"}],staticClass:"edit-part vux-1px-l",on:{click:function(t){e.modifyMatter(i,r,n)}}},[a("span",{staticClass:"iconfont icon-bianji1"})])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(t){e.delClick(r,i)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(i),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(i),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)})],2)}))]:[a("div",{on:{click:function(t){e.showOrderPop=!e.showOrderPop}}},[a("div",{staticClass:"title"},[e._v("订单列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择订单")]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多物料")])]):e._e(),e._v(" "),a("pop-facility-list",{ref:"matter",attrs:{show:e.showOrderPop,"filter-list":e.filterList,"default-value":e.matterList,request:"2",params:e.facilityParams},on:{"sel-matter":e.selMatter},scopedSlots:e._u([{key:"storage",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_classify"},[a("span",{staticClass:"father"},[e._v("订单总数: "+e._s(n.qty))]),e._v(" "),a("span",{staticClass:"father"},[e._v("已验收数: "+e._s(n.purchased))]),e._v(" "),a("span",[e._v("待验收数: "+e._s(n.qtyBal))])])]}}]),model:{value:e.showOrderPop,callback:function(t){e.showOrderPop=t},expression:"showOrderPop"}})],2),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide},on:{"sel-confirm":e.selConfirm},scopedSlots:e._u([{key:"qtyBal",fn:function(t){var n=t.modifyMatter;return[a("span",[e._v("订单总数: "+e._s(n.qty))]),e._v(" "),a("span",[e._v("已验收数: "+e._s(n.purchased))]),e._v(" "),a("span",[e._v("待验收数: "+e._s(n.qtyBal))])]}},{key:"modify",fn:function(t){var n=t.modifyMatter;return[a("x-input",{attrs:{title:"本次验收",type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",e._n(t))},expression:"modifyMatter.tdQty"}},[a("template",{slot:"label"},[e._t("qtyName",[a("span",{staticClass:"required"},[e._v("本次验收")])])],2)],2),e._v(" "),a("x-input",{attrs:{disabled:"",title:"单价",type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.price,callback:function(t){e.$set(n,"price",e._n(t))},expression:"modifyMatter.price"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("单价\n              ")])])],2),e._v(" "),a("x-input",{attrs:{disabled:"",title:"税率",type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.taxRate,callback:function(t){e.$set(n,"taxRate",e._n(t))},expression:"modifyMatter.taxRate"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("税率\n              ")])])],2)]}}]),model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num"},[a("span",{staticStyle:{fontSize:".14rem"}},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.tdAmount))+"\n      "),a("span",{staticClass:"taxAmount"},[e._v("[含税: ￥"+e._s(e._f("numberComma")(e.taxAmount))+"]")])]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},Numz:function(e,t){},NvkL:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("I3vJ"),v=a("1KNX"),p=n(v),C=a("7biW"),_=n(C);t.default={name:"PopTechnicsList",props:{defaultValue:{type:Object,default:function(){return{}}},required:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"}},components:{Icon:c.default,Popup:m.default,RScroll:p.default,RSearch:_.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:100,page:1,hasNext:!0,scrollOptions:{pullUpLoad:!0},filterProperty:"",filterList:[{name:"名称",value:"technicsName"},{name:"编码",value:"technicsCode"}]}},watch:{defaultValue:{handler:function(e){this.selItems=(0,d.default)({},this.defaultValue)},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},showSelIcon:function(e){return this.selItems.technicsCode===e.technicsCode},selThis:function(e,t){this.selItems=(0,d.default)({},e),this.showPop=!1,this.$emit("sel-item",(0,d.default)({},e))},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,h.getObjTechnics)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,o.default)(e.listData),(0,o.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.resetCondition(),this.getList()},onPullingUp:function(){this.page++,this.getList()},resetCondition:function(){this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)}},created:function(){this.getList()}}},"Ny/B":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MgeX"),r=n(i),s=a("HzJ8"),o=n(s),l=a("4YfN"),d=n(l),u=a("kNGm"),c=n(u),f=a("h+4q"),m=a("HyXB");a("9r/T");t.default={filters:{dateFormat:c.default},data:function(){return{transCode:"",MatPic:"",warehouse:{},baseinfo:{},typeSubMap:{staff:{title:"员工",dealerLabelName:"员工",key:"staffDealerCode",value:"",code:"",list:[]},group:{title:"组织",dealerLabelName:"",key:"groupCode",value:"",code:"",list:[]},customer:{title:"客户",dealerLabelName:"客户",key:"customerDealerCode",value:"",code:"",list:[]},processors:{title:"加工商",dealerLabelName:"加工商",key:"processorsDealerCode",value:"",code:"",list:[]},channel:{title:"渠道商",dealerLabelName:"渠道商",key:"channelDealerCode",value:"",code:"",list:[]},noMatched:{title:"",dealerLabelName:"",key:"",value:"",code:"",list:[]}},typeSub:"group",typeToSubMap:{"配送中心仓":"group","加工商仓":"processors","加工车间仓":"group","客户仓":"customer","渠道商仓":"channel","个人仓":"staff","一般部门仓":"group"}}},methods:{findData:function(){var e=this;return(0,f.getwarehouseInfo)(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=(t.attachment,n.baseinfo),s=void 0===i?{}:i,l=n.warehouse,u=void 0===l?{}:l;switch(u.warehouseStatus){case 1:u.warehouseStatus="使用中";break;case 2:u.warehouseStatus="未使用";break;case 0:u.warehouseStatus="草稿";break;case-1:u.warehouseStatus="停用"}e.hasDefault=!0,e.baseinfo=(0,d.default)({},e.baseinfo,s),e.warehouse=(0,d.default)({},e.warehouse,u),e.warehouse.warehousePic?e.MatPic="/H_roleplay-si/ds/download?url="+e.warehouse.warehousePic+"&width=400&height=400":e.getDefaultImg();for(var c in e.warehouse)""==e.warehouse[c]&&(e.warehouse[c]="无");if(e.typeSub=e.typeToSubMap[e.warehouse.warehouseType]||"noMatched","noMatched"!==e.typeSub){var f=!0,m=!1,h=void 0;try{for(var v,p=(0,o.default)((0,r.default)(e.typeSubMap));!(f=(v=p.next()).done);f=!0){var C=v.value;if(e.warehouse[C.key]){C.code=e.warehouse[C.key],e.getTypeSubList();break}}}catch(e){m=!0,h=e}finally{try{!f&&p.return&&p.return()}finally{if(m)throw h}}e.biReferenceId=e.warehouse.referenceId,e.$loading.hide()}}).catch(function(t){e.$loading.hide(),e.$vux.alert.show({content:t.message})})},getDefaultImg:function(){this.MatPic=a("CRKs")},getTypeSubList:function(){var e=this;switch(this.typeSub){case"group":return(0,f.getDepartMentWage)().then(function(t){var a=t.tableContent,n=void 0===a?[]:a,i=!0,r=!1,s=void 0;try{for(var l,d=(0,o.default)(n);!(i=(l=d.next()).done);i=!0){var u=l.value;if(u.GROUP_CODE===e.typeSubMap[e.typeSub].code){e.typeSubMap[e.typeSub].value=u.GROUP_NAME;break}}}catch(e){r=!0,s=e}finally{try{!i&&d.return&&d.return()}finally{if(r)throw s}}});case"staff":case"customer":case"processors":case"channel":return(0,m.getObjDealerByLabelName)({dealerLabelName:this.typeSubMap[this.typeSub].dealerLabelName}).then(function(t){var a=t.tableContent,n=void 0===a?[]:a,i=!0,r=!1,s=void 0;try{for(var l,d=(0,o.default)(n);!(i=(l=d.next()).done);i=!0){var u=l.value;if(u.dealerCode===e.typeSubMap[e.typeSub].code){e.typeSubMap[e.typeSub].value=u.dealerName;break}}}catch(e){r=!0,s=e}finally{try{!i&&d.return&&d.return()}finally{if(r)throw s}}})}}},created:function(){this.$loading.show();var e=this.$route.query;e.transCode&&(this.transCode=e.transCode,this.findData())}}},NzC7:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("+26s"),i=function(e){return e&&e.__esModule?e:{default:e}}(n),r=a("Qg39");t.default={data:function(){return{uniqueId:1e3,showContent:!1,filterArr:[{operator:"like",value:"",property:"cashCode"}]}},mixins:[i.default],filters:{toFixed:r.toFixed}}},O1ha:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("a3Yh"),o=n(s),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("u28h"),C=n(p),_=a("kNGm"),y=(n(_),a("iR2W")),b=n(y),g=a("PzEQ"),w=n(g),I=a("jLp1"),x=a("bKg5"),D=n(x),P=a("JUuq"),k=n(P),S=a("d7ck"),T=n(S),L=a("vl8n"),N=n(L),M=a("+WR7"),A=n(M);t.default={mixins:[D.default],components:{Cell:c.default,Group:m.default,XInput:v.default,Datetime:C.default,XTextarea:w.default,PopNameList:k.default,FormCell:T.default,RPicker:N.default,PopBaseinfo:A.default},data:function(){return{listId:"b87a513e-99ec-4608-89db-3d6e97ef1432",projectList:[],taskList:[],formData:{biProcessStatus:""},projectApproval:{},jsonData:{baseinfo:{},comment:{biComment:""}},projectConclusion:[],projectTime:{actualStartTime:"",actualCompleteTime:""}}},methods:(0,o.default)({save:function(){var e=this,t="",a=[{key:"actualStartTime",message:"实际开始日期"},{key:"actualCompleteTime",message:"实际完成日期"}];if(this.projectApproval.PROJECT_NAME||(t="请选择项目"),a.every(function(a){return!!e.projectTime[a.key]||(t=a.message+"不能为空",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show(),e.jsonData.baseinfo=(0,d.default)({},e.formData,{creator:e.formData.handler},e.jsonData.baseinfo,{modifer:e.formData.handler});var t=I.saveProjectConclusion,a=e.projectConclusion.map(function(e){return{conclusionName:e.conclusionName,actual:e.actual,budget:e.budget,difference:e.difference}}),n={listId:e.listId,formData:(0,d.default)({handlerEntity:e.entity.dealerName},e.jsonData,{projectApproval:{projectName:e.projectApproval.PROJECT_NAME,projectType:e.projectApproval.PROJECT_TYPE,comment:e.projectApproval.COMMENT,projectManager:e.projectApproval.PROJECT_MANAGER,expectStartDate:e.projectApproval.EXPECT_START_DATE,expectEndDate:e.projectApproval.EXPECT_END_DATE},projectConclusion:a,projectTime:e.projectTime})};e.transCode&&(t=I.updateProjectConclusion),e.saveData(t,n)}})},clickDateSelect:function(){var e=this;this.$vux.datetime.show({confirmText:"确定",cancelText:"取消",value:this.formData.validUntil,onConfirm:function(t){e.formData.validUntil=t}})},selProject:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"{}";this.projectApproval=JSON.parse(t),(0,I.findConclusion)(this.projectApproval.PROJECT_NAME).then(function(t){var a=t.data,n=void 0===a?[]:a;e.projectConclusion=n})},getFormData:function(){return(0,I.findProjectConclusion)(this.transCode).then(function(e){e.formData})},numberComma:function(e){return e||0===e?(0,b.default)(e):"无"},hasDraftData:function(){return!!this.projectApproval.PROJECT_NAME&&(0,o.default)({},"XMJX_DATA",{projectApproval:this.projectApproval,jsonData:this.jsonData,projectConclusion:this.projectConclusion,projectTime:this.projectTime})},getRelationData:function(){var e=this;return(0,I.findProjectApproval)(this.relationKey).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=(t.attachment,JSON.parse((0,r.default)(n.projectApproval)));e.projectApproval={BUDGET_CAPITAL:i.budgetCapital,BUDGET_COST:i.budgetCost,BUDGET_INCOME:i.budgetIncome,BUDGET_PROFIT:i.budgetProfit,BUDGET_PROFIT_MARGIN:i.budgetProfitMargin,COMMENT:i.comment,EXPECT_END_DATE:i.expectEndDate,EXPECT_START_DATE:i.expectStartDate,ID:i.projectApprovalId,PHONE_NUMBER:i.phoneNumber,PROJECT_MANAGER:i.projectManager,PROJECT_NAME:i.projectName,PROJECT_STATUS:i.projectStatus,PROJECT_SUBCLASS:i.projectSubclass,PROJECT_TYPE:i.projectType,REFERENCE_ID:i.referenceId},e.selProject((0,r.default)(e.projectApproval))})}},"getFormData",function(){var e=this;return(0,I.findProjectConclusion)(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=(t.attachment,n.projectApproval);e.projectApproval={BUDGET_CAPITAL:i.budgetCapital,BUDGET_COST:i.budgetCost,BUDGET_INCOME:i.budgetIncome,BUDGET_PROFIT:i.budgetProfit,BUDGET_PROFIT_MARGIN:i.budgetProfitMargin,COMMENT:i.comment,EXPECT_END_DATE:i.expectEndDate,EXPECT_START_DATE:i.expectStartDate,ID:i.projectApprovalId,PHONE_NUMBER:i.phoneNumber,PROJECT_MANAGER:i.projectManager,PROJECT_NAME:i.projectName,PROJECT_STATUS:i.projectStatus,PROJECT_SUBCLASS:i.projectSubclass,PROJECT_TYPE:i.projectType,REFERENCE_ID:i.referenceId},e.jsonData=n,e.projectConclusion=n.projectConclusion,e.projectTime=n.projectTime,e.handlerDefault={handler:n.baseinfo.handler,handlerName:n.baseinfo.handlerName,handlerUnit:n.baseinfo.handlerUnit,handlerUnitName:n.baseinfo.handlerUnitName,handlerRole:n.baseinfo.handlerRole,handlerRoleName:n.baseinfo.handlerRoleName},e.$loading.hide()})}),created:function(){var e=sessionStorage.getItem("XMJX_DATA");if(e){var t=JSON.parse(e);this.projectApproval=t.projectApproval,this.jsonData=t.jsonData,this.projectConclusion=t.projectConclusion,this.projectTime=t.projectTime,sessionStorage.removeItem("XMJX_DATA")}}}},O4M8:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vux-picker"},[a("flexbox",{attrs:{gutter:0}},e._l(e.currentData,function(t,n){return a("flexbox-item",{key:n,staticStyle:{"margin-left":"0"},attrs:{span:e.columnWidth&&e.columnWidth[n]}},[a("div",{staticClass:"vux-picker-item",attrs:{id:"vux-picker-"+e.uuid+"-"+n}})])}))],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},O98M:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.outPut?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"warehouse_part"},[a("warehouse-content",{staticClass:"vux-1px-b",attrs:{warehouse:e.warehouseOut}}),e._v(" "),a("warehouse-content",{attrs:{warehouse:e.warehouseIn}})],1),e._v(" "),a("matter-list",{attrs:{"matter-list":e.orderInfo.outPut.dataSet,"order-remarks":e.orderInfo.biComment},scopedSlots:e._u([{key:"matterOther",fn:function(t){var n=t.item;return a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("单位: "+e._s(n.measureUnit_outPutMatCode))]),e._v(" "),a("span",[e._v("待领料: "+e._s(n.thenQtyBal))])]),e._v(" "),a("div",{staticClass:"mater_num"},[a("span",{staticClass:"num"},[e._v("\n            本次领料: "+e._s(e._f("toFixed")(n.tdQty))+"\n          ")]),e._v(" "),a("span",{staticClass:"units"},[e._v("\n            [库存数量: "+e._s(e._f("toFixed")(n.thenQtyStock))+"]\n          ")])])])}}])}),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},"OAN/":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"app_top"},[a("search-icon",{on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("tab",{attrs:{"line-width":2,"default-color":"#757575","active-color":"#2c2727"}},e._l(e.warehouseClassfiy,function(t,n){return a("tab-item",{key:n,attrs:{selected:n===e.activeIndex},on:{"on-item-click":function(a){e.tabClick(t,n)}}},[e._v(e._s(t.name)+"\n          ")])}))],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"app_main",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.warehouseList.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.warehouseList,function(t,n){return a("div",{key:n,staticClass:"client_ads vux-1px-b",class:{visited:t.visited},on:{click:function(a){e.goDetail(t,n)}}},[a("div",{staticClass:"user_info"},[a("span",{staticClass:"user_name"},[e._v(e._s(t.warehouseCode))]),e._v(" "),a("span",{staticClass:"user_tel"},[e._v(e._s(t.warehouseType))])]),e._v(" "),a("div",{staticClass:"cp_info"},[a("p",{staticClass:"cp_name"},[e._v(e._s(t.warehouseName))])]),e._v(" "),e.action.update?a("span",{staticClass:"iconfont icon-bianji",on:{click:function(a){a.stopPropagation(),e.goEditAds(t,n)}}}):e._e()])}))],1),e._v(" "),e.action.add?a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEditAds}},[e._v("新增")])]):e._e(),e._v(" "),a("router-view")],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"OB+s":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("4YfN"),o=n(s),l=a("HXPS"),d=n(l),u=a("7g+Q"),c=n(u),f=a("+62G"),m=n(f),h=a("6q39"),v=n(h),p=(a("HyXB"),a("XAqG")),C=a("1KNX"),_=n(C),y=a("7biW"),b=n(y);t.default={name:"PopCompanyList",props:{defaultValue:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1},params:{type:Object,default:function(){return{}}}},directives:{TransferDom:m.default},components:{Icon:d.default,Popup:c.default,RScroll:_.default,DSearch:b.default,LoadMore:v.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},watch:{defaultValue:function(e){this.setDefaultValue()}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this.getList()},showSelIcon:function(e){return this.selItems.groupCode===e.groupCode},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.$emit("sel-item",this.selItems)},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getList:function(){var e=this;return(0,p.getCompanyList)((0,o.default)({pageSize:this.limit,currentPage:this.page,search:this.srhInpTx},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,s=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+s.length,e.listData=1===e.page?s:[].concat((0,r.default)(e.listData),(0,r.default)(s)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.selItems=this.defaultValue?(0,o.default)({},this.defaultValue):{}},itemClick:function(){this.disabled||(this.showPop=!this.showPop)}},created:function(){this.setDefaultValue(),this.disabled||this.getList()}}},OBkd:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("kNGm"),o=(n(s),a("SAzG")),l=n(o),d=a("0AQX"),u=a("+VRO"),c=n(u),f=a("BUFe"),m=n(f),h=a("AupE"),v=n(h),p=a("bFc7"),C=n(p),_=a("CKaN"),y=n(_),b=a("zWMP"),g=a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",dealerInfo:{},cashInfo:{},costList:[]}},computed:{isApproval:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"7d18cfc2-475f-44c5-ae12-a723d6234253"===t},isAccounting:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"69c3a187-1816-41cf-a9ec-899e9932940e"===t},isCashier:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"8ea73083-fc91-49f2-97d6-e9923ac9b9e2"===t},cashParams:function(){return{transCode:this.transCode}}},mixins:[c.default],components:{workFlow:v.default,RAction:m.default,contactPart:C.default,XInput:l.default,PopCashList:y.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,d.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=t.formData,i=t.attachment;if(!1===a)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var r=n.order.dataSet,s=void 0===r?[]:r;if(e.attachment=i,e.orderInfo=n,e.dealerInfo=n.inPut.dataSet[0],e.cashInfo=n.outPut.dataSet[0],e.costList=s,e.isAccounting){var o=e.dealerInfo,l=o.thenAmntBal,d=void 0===l?0:l,u=o.thenAlreadyAmnt,c=void 0===u?0:u;e.dealerInfo.thenTotalAmntBal=c,e.dealerInfo.differenceAmount=d}e.workFlowInfoHandler()})},agreeHandler:function(){if(this.isApproval||this.isAccounting||this.isCashier){if(this.isCashier&&!this.cashInfo.fundCode)return this.$vux.alert.show({content:"请选择资金账户"}),!0;var e=this.orderInfo,t=this.costList.map(function(e){return{tdId:e.tdId,expCode:e.expCode,expSubject:e.expSubject,costType_expCode:e.costType_expCode,tdAmount:e.tdAmount,expCause:e.expCause,taxAmount:e.taxAmount,noTaxAmount:e.noTaxAmount}}),a=(0,r.default)({},e,{order:{departmentName:e.order.departmentName,dataSet:t}});if(this.isCashier){var n=this.cashInfo;a.outPut={dataSet:[{fundName_cashInCode:n.fundName,cashInCode:n.fundCode,cashType_cashInCode:n.fundType,thenAmntBalCopy1:n.thenAmntBal,tdAmountCopy1:n.tdAmountCopy1,tdIdCopy1:n.tdIdCopy1}]}}return this.saveData(a),!0}return!1},calcTax:function(e){var t=e.taxAmount,a=void 0===t?0:t,n=e.noTaxAmount,i=void 0===n?0:n;a||(a=0,e.taxAmount=0),e.noTaxAmount=(0,b.accSub)(i,a)},calcPayment:function(e){var t=e.thenAmntBal,a=void 0===t?0:t,n=e.thenAlreadyAmnt,i=void 0===n?0:n,r=e.thenTotalAmntBal,s=void 0===r?0:r;s||(s=0),s=(0,g.toFixed)(s),e.thenTotalAmntBal=s,e.tdAmount=(0,g.toFixed)((0,b.accSub)(i,s)),e.differenceAmount=(0,g.toFixed)((0,b.accAdd)((0,b.accSub)(a,i),s)),this.cashInfo.tdAmountCopy1=s},selCash:function(e){this.cashInfo=(0,r.default)({},this.cashInfo,e)}}}},OC53:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("6q39"),v=n(h),p=a("kNGm"),C=n(p),_=a("fEP3"),y=a("1KNX"),b=n(y),g=a("7biW"),w=n(g);t.default={name:"work-list-pop",props:{show:{type:Boolean,default:!1},defaultValue:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:m.default,LoadMore:v.default,RScroll:b.default,MSearch:w.default},filters:{dateFormat:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},workList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterList:[{name:"成品名称",value:"inventoryName"},{name:"成品编码",value:"inventoryCode"},{name:"工序名称",value:"procedureName"}],filterProperty:"",inventoryCode:"",orderCode:""}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){return this.selItems.colId===e.colId},selThis:function(e,t){this.showPop=!1,this.selItems=(0,d.default)({},e),this.$emit("sel-work",this.selItems)},setDefaultValue:function(){this.selItems=(0,d.default)({},this.defaultValue)},getWorkOrderTask:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),this.inventoryCode&&(t=[].concat((0,o.default)(t),[{operator:"eq",value:this.inventoryCode,property:"matCode"},{operator:"eq",value:this.orderCode,property:"transCode"}])),(0,_.getWorkCheckList)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;if(e.inventoryCode){var s=r.find(function(t){return t.matCode===e.inventoryCode&&t.transCode===e.orderCode});s&&e.selThis(s)}e.hasNext=n>(e.page-1)*e.limit+r.length,e.workList=1===e.page?r:[].concat((0,o.default)(e.workList),(0,o.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.workList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getWorkOrderTask()},onPullingUp:function(){this.page++,this.getWorkOrderTask()}},created:function(){var e=this.$route.query,t=e.inventoryCode,a=void 0===t?"":t,n=e.orderCode,i=void 0===n?"":n;this.inventoryCode=a,this.orderCode=i,this.setDefaultValue(),this.getWorkOrderTask()}}},OFAD:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("+62G"),v=n(h),p=a("6q39"),C=n(p),_=a("vS5q"),y=a("1KNX"),b=n(y),g=a("7biW"),w=n(g);t.default={name:"PopWarehouseList",props:{title:{type:String,default:"仓库列表"},defaultValue:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1},isRequired:{type:Boolean,default:!1}},directives:{TransferDom:v.default},components:{Icon:c.default,Popup:m.default,RScroll:b.default,DSearch:w.default,LoadMore:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},showAddWarehouse:!1}},computed:{tip:function(){var e="加载中";return this.hasNext||(e="暂无数据"),e},noAddress:function(){var e=this.selItems,t=e.warehouseProvince,a=void 0===t?"":t,n=e.warehouseCity,i=void 0===n?"":n,r=e.warehouseDistrict,s=void 0===r?"":r,o=e.warehouseAddress,l=void 0===o?"":o;return!(a||i||s||l)}},watch:{defaultValue:function(e){this.setDefaultValue()}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1,this.$emit("on-hide")},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this.getList()},showSelIcon:function(e){return this.selItems.warehouseCode===e.warehouseCode},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.$emit("sel-item",this.selItems)},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"warehouseName"}])),(0,_.getWarehouse)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.showAddWarehouse=e.srhInpTx&&0===r.length,e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,d.default)(e.listData),(0,d.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.selItems=this.defaultValue?(0,r.default)({},this.defaultValue):{}},warehouseClick:function(){this.disabled||(this.$emit("on-show"),this.showPop=!this.showPop)},addWarehouse:function(){this.$router.push({path:"/warehouse/edit_warehouse",query:{add:1}})}},created:function(){this.setDefaultValue(),this.disabled||this.getList()}}},OG9q:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isModify?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.hide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.allCheck,expression:"!allCheck"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.allCheck,expression:"allCheck"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n    全选\n  ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteItem}},[e._v("删除")])]):a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.hide}},[a("span",{staticClass:"count_num",class:{nine_up:e.tdAmount.length>8,ten_up:e.tdAmount.length>9,ele_up:e.tdAmount.length>10}},[a("span",{staticClass:"total_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.tdAmount))+"\n      ")]),e._v(" "),a("span",{staticClass:"taxAmount"},[e._v("[含税: ￥"+e._s(e._f("numberComma")(e.taxAmount))+"]")])]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submit}},[e._v("提交")])])},i=[],r={render:n,staticRenderFns:i};t.a=r},OIav:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.contactInfo}},[a("template",{slot:"other"},[a("div",{staticClass:"other"},[a("span",{staticClass:"title"},[e._v("账期天数: ")]),e._v(" "),a("span",{staticClass:"mode"},[e._v(e._s(e.contactInfo.daysOfAccount))])]),e._v(" "),a("div",{staticClass:"other"},[a("span",{staticClass:"title"},[e._v("合同总金额: ")]),e._v(" "),a("span",{staticClass:"mode"},[e._v("￥"+e._s(e._f("numberComma")(e._f("toFixed")(e.contactInfo.thenTotalAmntBal),3)))])]),e._v(" "),a("div",{staticClass:"other"},[a("span",{staticClass:"title"},[e._v("合同到期日: ")]),e._v(" "),a("span",{staticClass:"mode"},[e._v(e._s(e.contactInfo.validUntil))])]),e._v(" "),a("div",{staticClass:"other"},[a("span",{staticClass:"title"},[e._v("预收款: ")]),e._v(" "),a("span",{staticClass:"mode"},[e._v("￥"+e._s(e._f("numberComma")(e._f("toFixed")(e.contactInfo.tdAmountCopy1),3)))])]),e._v(" "),a("div",{staticClass:"other"},[a("span",{staticClass:"title"},[e._v("预收到期日: ")]),e._v(" "),a("span",{staticClass:"mode"},[e._v(e._s(e.contactInfo.advancePaymentDueDate))])])])],2),e._v(" "),a("matter-list",{attrs:{"matter-list":e.orderInfo.order.dataSet,noTaxAmount:e.noTaxAmount,taxAmount:e.taxAmount,count:e.count},scopedSlots:e._u([{key:"matterOther",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("交付开始日: "+e._s(n.dateActivation))]),e._v(" "),a("span",[e._v("交付截止日: "+e._s(n.executionDate))])]),e._v(" "),a("div",{staticClass:"mater_attribute"},[a("span",[e._v("单价: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.price),3)))]),e._v(" "),a("span",[e._v("数量: "+e._s(e._f("toFixed")(n.tdQty)))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.taxRate,expression:"item.taxRate"}]},[e._v("税率: "+e._s(n.taxRate))])]),e._v(" "),a("div",{staticClass:"mater_price"},[a("span",[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(n.tdAmount),3)))]),e._v(" "),n.taxRate?a("span",{staticClass:"num",style:{display:n.tdAmount&&n.tdAmount.toString().length>=7?"block":""}},[e._v("\n                [金额: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.noTaxAmount),3))+" + 税金: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.taxAmount),3))+"]\n              ")]):e._e()])])]}}])}),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},OMTN:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("a3Yh"),o=n(s),l=a("4YfN"),d=n(l),u=a("7g+Q"),c=n(u),f=a("+62G"),m=n(f),h=a("z5TY"),v=n(h),p=a("BGNQ"),C=n(p),_=a("iR2W"),y=n(_),b=a("u28h"),g=n(b),w=a("SAzG"),I=n(w),x=a("PzEQ"),D=n(x),P=a("HyXB"),k=a("bKg5"),S=n(k),T=a("7D9F"),L=n(T),N=a("i61Q"),M=n(N),A=a("FGYN"),O=n(A),R=a("F2L3"),j=n(R),$=a("vl8n"),B=n($),E=a("+WR7"),F=n(E);t.default={directives:{TransferDom:m.default},components:{Popup:c.default,Group:v.default,Cell:C.default,Datetime:g.default,XInput:I.default,XTextarea:D.default,PopWorkList:M.default,PopManagerList:L.default,PopProjectList:j.default,PopWorkGdbllList:O.default,RPicker:B.default,PopBaseinfo:F.default},data:function(){return{listId:"6ebcad8b-449c-422a-960f-53ccf98fd4ba",showWorkPop:!1,transMode:[],matterList:[],dealer:{},numMap:{},contact:{},formData:{},dealerInfo:{},workInfo:{},defaultManager:{},showProjectPop:!1,project:{},defaultProject:[]}},mixins:[S.default],filters:{numberComma:y.default},methods:{selWork:function(e){this.workInfo=(0,d.default)({tdQty:""},e)},submitOrder:function(){var e=this,t="",a=[];if(this.workInfo.transCode||(t="请选择工序"),t||this.workInfo.tdQty||(t="请填写补领料数量"),t||this.project.PROJECT_NAME||(t="请选择项目"),t)return void this.$vux.alert.show({content:t});var n={transMatchedCode:this.workInfo.transCode,proPointCode:this.workInfo.proPointCode,tdQty:this.workInfo.tdQty,transObjCode:this.workInfo.matCode,proFlowCode:this.workInfo.proFlowCode,processCode:this.workInfo.processCode,tdProcessing:this.workInfo.processing};a.push(n),this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=(P.saveAndStartWf,(0,o.default)({},e.processCode,{businessKey:"WTSK",createdBy:""}));e.isResubmit&&(t={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var n={listId:e.listId,biComment:e.formData.biComment,formData:(0,r.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,biProcessStatus:e.currentStage,order:{dataSet:a,project:e.project.PROJECT_NAME,departmentName:e.formData.handlerUnitName}})),wfPara:(0,r.default)(t)};e.isResubmit&&(P.saveAndCommitTask,n.biReferenceId=e.biReferenceId),e.processCode.length||(P.submitAndCalc,delete n.wfPara,delete n.biReferenceId),e.biReferenceId&&(n.biReferenceId=e.biReferenceId)}})},selProject:function(e){this.project=(0,d.default)({},e)},hasDraftData:function(){return!!this.workInfo.procedureName&&(0,o.default)({},"GDBLL_DATA",{workInfo:this.workInfo,project:this.project,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("GDBLL_DATA");if(e){var t=JSON.parse(e);this.workInfo=t.workInfo,this.project=t.project,this.formData=t.formData,sessionStorage.removeItem("GDBLL_DATA")}}}},OONX:function(e,t){},OTZ4:function(e,t,a){"use strict";function n(e){a("LrLF")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("NDsO");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("ksvY"),o=a.n(s),l=a("Ql1d"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-db790d84",null);t.default=c.exports},"OV+5":function(e,t){},OX8B:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("HyXB"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2243,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}]}},mixins:[i.default],methods:{},created:function(){}}},OXL9:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=(a("HyXB"),a("MjAd")),o=n(s);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"任务类型",value:"taskType"},{name:"项目名称",value:"projectName_project"}],listViewID:2326}},mixins:[o.default],methods:{goDetail:function(e,t){var a=this;if(!this.clickVisited){var n=e.transCode,i=this.$route.query.name,s=this.$route.params,o=s.fileId,l=s.listId;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,r.default)({},e)),setTimeout(function(){a.clickVisited=!1,a.$router.push({path:"/detail/"+o+"/"+l,query:{name:i,transCode:n}})},200)}}}}},OXqN:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vux-loadmore weui-loadmore",class:{"weui-loadmore_line":!e.showLoading,"weui-loadmore_dot":!e.showLoading&&!e.tip}},[e.showLoading?a("i",{staticClass:"weui-loading"}):e._e(),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.tip||!e.showLoading,expression:"tip || !showLoading"}],staticClass:"weui-loadmore__tips"},[e._v(e._s(e.tip))])])},i=[],r={render:n,staticRenderFns:i};t.a=r},OZZT:function(e,t,a){"use strict";function n(e){a("0EBS")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("qxrx");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("kdhw"),o=a.n(s),l=a("WKer"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},OZg9:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper xmjx-detail-container"},[a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.orderInfo,"order-info":e.orderInfo}}),e._v(" "),a("div",{staticClass:"project_info"},[e._m(0),e._v(" "),a("div",{staticClass:"project_content"},[a("form-cell",{attrs:{cellTitle:"名称",cellContent:e.projectApproval.projectName,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"大类",cellContent:e.projectApproval.projectType}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"子类",cellContent:e.projectApproval.projectSubclass}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"经理",cellContent:e.projectApproval.projectManager}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"经理电话",cellContent:e.projectApproval.phoneNumber}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"说明",cellContent:e.projectApproval.comment||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"预期开始日期",cellContent:e._f("dateFormat")(e.projectApproval.expectStartDate,"YYYY-MM-DD")}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"预期截止日期",cellContent:e._f("dateFormat")(e.projectApproval.expectEndDate,"YYYY-MM-DD")}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"实际开始日期",cellContent:e._f("dateFormat")(e.projectTime.actualStartTime,"YYYY-MM-DD")}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"实际完成日期",cellContent:e._f("dateFormat")(e.projectTime.actualCompleteTime,"YYYY-MM-DD")}})],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.projectConclusion.length,expression:"projectConclusion.length"}],staticClass:"project_info project-amt"},[e._m(1),e._v(" "),e._l(e.projectConclusion,function(t,n){return a("div",{staticClass:"project_content",class:{"vux-1px-b":n!==e.projectConclusion.length-1}},[a("form-cell",{attrs:{cellTitle:"实际"+t.conclusionName,showSymbol:"利润率"!==t.conclusionName,textRight:"",cellContent:e.numberComma(t.actual),showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"预算"+t.conclusionName,showSymbol:"利润率"!==t.conclusionName,textRight:"",cellContent:e.numberComma(t.budget),showTopBorder:!1}}),e._v(" "),a("form-cell",{directives:[{name:"show",rawName:"v-show",value:"利润率"!==t.conclusionName,expression:"item.conclusionName !== '利润率'"}],attrs:{cellTitle:"差额"+t.conclusionName,showSymbol:"利润率"!==t.conclusionName,textRight:"",cellContent:e.numberComma(t.difference),showTopBorder:!1}})],1)})],2),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.comment.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}})],1)])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"info_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-xiangmu"}),e._v("项目信息")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"info_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-yusuan2"}),e._v("资金明细")])}],r={render:n,staticRenderFns:i};t.a=r},OuXJ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Ns/O"),i=function(e){return e&&e.__esModule?e:{default:e}}(n),r=["android","ios","ios-small","bubbles","circles","crescent","dots","lines","ripple","spiral"];t.default={name:"spinner",mounted:function(){var e=this;this.$nextTick(function(){(0,i.default)(e.$el,e.type,e.size)})},props:{type:{type:String,default:"ios"},size:String},computed:{styles:function(){if(void 0!==this.size&&"28px"!==this.size)return{width:this.size,height:this.size}},className:function(){for(var e={},t=0;t<r.length;t++)e["vux-spinner-"+r[t]]=this.type===r[t];return e}}}},OwgJ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2299,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_outPutMatCode"}]}},mixins:[i.default],methods:{},created:function(){}}},OyWz:function(e,t,a){"use strict";function n(e){a("3tDR")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Syq3");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("2F8C"),o=a.n(s),l=a("8Nz4"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-c729bffc",null);t.default=c.exports},Oya0:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noCount:"",noPrice:""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}))],1),e._v(" "),e.action.add?a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},"P/xF":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages xmlx-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,isRequired:!1},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-manager-list",{attrs:{defaultValue:e.defaultManager},on:{"sel-item":e.selManager}}),e._v(" "),a("r-picker",{attrs:{title:"项目大类",data:e.typeList,mode:"3",placeholder:"请选择项目大类","has-border":!1,required:""===e.ProjectApproval.projectType},on:{"on-change":e.projectBigChange},model:{value:e.ProjectApproval.projectType,callback:function(t){e.$set(e.ProjectApproval,"projectType",t)},expression:"ProjectApproval.projectType"}}),e._v(" "),a("r-picker",{attrs:{title:"项目子类",data:e.subclassList,mode:"3",placeholder:"请选择项目子类","has-border":!1},model:{value:e.ProjectApproval.projectSubclass,callback:function(t){e.$set(e.ProjectApproval,"projectSubclass",t)},expression:"ProjectApproval.projectSubclass"}}),e._v(" "),a("div",{staticClass:"materiel_list mg_auto"},[a("div",{staticClass:"title"},[e._v("项目立项明细")]),e._v(" "),a("group",{on:{"group-title-margin-top":function(e){}}},[a("x-input",{attrs:{title:"项目名称","text-align":"right",placeholder:"请填写"},model:{value:e.ProjectApproval.projectName,callback:function(t){e.$set(e.ProjectApproval,"projectName",t)},expression:"ProjectApproval.projectName"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("项目名称")])])],2),e._v(" "),a("x-input",{attrs:{title:"预算收入",type:"number","text-align":"right",placeholder:"请填写"},on:{"on-blur":function(t){e.checkAmt("budgetIncome",t)}},model:{value:e.ProjectApproval.budgetIncome,callback:function(t){e.$set(e.ProjectApproval,"budgetIncome",e._n(t))},expression:"ProjectApproval.budgetIncome"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("预算收入")])])],2),e._v(" "),a("x-input",{attrs:{title:"预算成本",type:"number","text-align":"right",placeholder:"请填写"},on:{"on-blur":function(t){e.checkAmt("budgetCapital",t)}},model:{value:e.ProjectApproval.budgetCapital,callback:function(t){e.$set(e.ProjectApproval,"budgetCapital",e._n(t))},expression:"ProjectApproval.budgetCapital"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("预算成本")])])],2),e._v(" "),a("x-input",{attrs:{title:"预算费用",type:"number","text-align":"right",placeholder:"请填写"},on:{"on-blur":function(t){e.checkAmt("budgetCost",t)}},model:{value:e.ProjectApproval.budgetCost,callback:function(t){e.$set(e.ProjectApproval,"budgetCost",e._n(t))},expression:"ProjectApproval.budgetCost"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("预算费用")])])],2),e._v(" "),a("datetime",{attrs:{title:"预期开始日期"},model:{value:e.ProjectApproval.expectStartDate,callback:function(t){e.$set(e.ProjectApproval,"expectStartDate",t)},expression:"ProjectApproval.expectStartDate"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("预期开始日期")])])],2),e._v(" "),a("datetime",{attrs:{title:"预期截止日期"},model:{value:e.ProjectApproval.expectEndDate,callback:function(t){e.$set(e.ProjectApproval,"expectEndDate",t)},expression:"ProjectApproval.expectEndDate"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("预期截止日期")])])],2),e._v(" "),a("cell",{attrs:{title:"预算利润",value:e.profit}}),e._v(" "),a("cell",{attrs:{title:"预算利润率",value:e.profitMargin}}),e._v(" "),a("x-textarea",{attrs:{title:"项目说明",max:200},model:{value:e.ProjectApproval.comment,callback:function(t){e.$set(e.ProjectApproval,"comment",t)},expression:"ProjectApproval.comment"}})],1)],1),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"其他信息"}},[a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1),e._v(" "),a("upload-file",{on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"cfm_btn",on:{click:e.save}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},P0Xt:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("AupE"),f=n(c),m=a("BUFe"),h=n(m),v=a("bFc7"),p=n(v),C=a("3NX5"),_=n(C),y=a("zlAJ"),b=n(y),g=a("zWMP");t.default={data:function(){return{orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",attachment:[],count:0}},mixins:[u.default],components:{workFlow:f.default,RAction:h.default,contactPart:p.default,MatterList:_.default,UploadFile:b.default},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u=s.order,c=u.dataSet,f=!0,m=!1,h=void 0;try{for(var v,p=(0,r.default)(c);!(f=(v=p.next()).done);f=!0){var C=v.value;e.count=(0,g.accAdd)(e.count,C.tdAmount),C.inventoryPic=C.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+C.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){m=!0,h=e}finally{try{!f&&p.return&&p.return()}finally{if(m)throw h}}e.attachment=d,s.validUntil=(0,o.default)(s.validUntil,"YYYY-MM-DD"),e.orderInfo=s,e.workFlowInfoHandler()})}}}},P2Bj:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("a3Yh"),o=n(s),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("u28h"),C=n(p),_=a("kNGm"),y=(n(_),a("iR2W")),b=n(y),g=a("PzEQ"),w=n(g),I=a("jLp1"),x=a("bKg5"),D=n(x),P=a("JUuq"),k=n(P),S=a("d7ck"),T=n(S),L=a("vl8n"),N=n(L),M=a("+WR7"),A=n(M);t.default={mixins:[D.default],components:{Cell:c.default,Group:m.default,XInput:v.default,Datetime:C.default,XTextarea:w.default,PopNameList:k.default,FormCell:T.default,RPicker:N.default,PopBaseinfo:A.default},data:function(){return{listId:"b87a513e-99ec-4608-89db-3d6e97ef1432",projectList:[],taskList:[],formData:{biProcessStatus:""},projectApproval:{},jsonData:{baseinfo:{},comment:{biComment:""}},projectConclusion:[],projectTime:{actualStartTime:"",actualCompleteTime:""}}},methods:(0,o.default)({save:function(){var e=this,t="",a=[{key:"actualStartTime",message:"实际开始日期"},{key:"actualCompleteTime",message:"实际完成日期"}];if(this.projectApproval.PROJECT_NAME||(t="请选择项目"),a.every(function(a){return!!e.projectTime[a.key]||(t=a.message+"不能为空",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show(),e.jsonData.baseinfo=(0,d.default)({},e.formData,{creator:e.formData.handler},e.jsonData.baseinfo,{modifer:e.formData.handler});var t=I.saveProjectConclusion,a=e.projectConclusion.map(function(e){return{conclusionName:e.conclusionName,actual:e.actual,budget:e.budget,difference:e.difference}}),n={listId:e.listId,formData:(0,d.default)({handlerEntity:e.entity.dealerName},e.jsonData,{projectApproval:{projectName:e.projectApproval.PROJECT_NAME,projectType:e.projectApproval.PROJECT_TYPE,comment:e.projectApproval.COMMENT,projectManager:e.projectApproval.PROJECT_MANAGER,expectStartDate:e.projectApproval.EXPECT_START_DATE,expectEndDate:e.projectApproval.EXPECT_END_DATE},projectConclusion:a,projectTime:e.projectTime})};e.transCode&&(t=I.updateProjectConclusion),e.saveData(t,n)}})},clickDateSelect:function(){var e=this;this.$vux.datetime.show({confirmText:"确定",cancelText:"取消",value:this.formData.validUntil,onConfirm:function(t){e.formData.validUntil=t}})},selProject:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"{}";this.projectApproval=JSON.parse(t),(0,I.findConclusion)(this.projectApproval.PROJECT_NAME).then(function(t){var a=t.data,n=void 0===a?[]:a;e.projectConclusion=n})},getFormData:function(){return(0,I.findProjectConclusion)(this.transCode).then(function(e){e.formData})},numberComma:function(e){return e||0===e?(0,b.default)(e):"无"},hasDraftData:function(){return!!this.projectApproval.PROJECT_NAME&&(0,o.default)({},"XMJX_DATA",{projectApproval:this.projectApproval,jsonData:this.jsonData,projectConclusion:this.projectConclusion,projectTime:this.projectTime})},getRelationData:function(){var e=this;return(0,I.findProjectApproval)(this.relationKey).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=(t.attachment,JSON.parse((0,r.default)(n.projectApproval)));e.projectApproval={BUDGET_CAPITAL:i.budgetCapital,BUDGET_COST:i.budgetCost,BUDGET_INCOME:i.budgetIncome,BUDGET_PROFIT:i.budgetProfit,BUDGET_PROFIT_MARGIN:i.budgetProfitMargin,COMMENT:i.comment,EXPECT_END_DATE:i.expectEndDate,EXPECT_START_DATE:i.expectStartDate,ID:i.projectApprovalId,PHONE_NUMBER:i.phoneNumber,PROJECT_MANAGER:i.projectManager,PROJECT_NAME:i.projectName,PROJECT_STATUS:i.projectStatus,PROJECT_SUBCLASS:i.projectSubclass,PROJECT_TYPE:i.projectType,REFERENCE_ID:i.referenceId},e.selProject((0,r.default)(e.projectApproval))})}},"getFormData",function(){var e=this;return(0,I.findProjectConclusion)(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=(t.attachment,n.projectApproval);e.projectApproval={BUDGET_CAPITAL:i.budgetCapital,BUDGET_COST:i.budgetCost,BUDGET_INCOME:i.budgetIncome,BUDGET_PROFIT:i.budgetProfit,BUDGET_PROFIT_MARGIN:i.budgetProfitMargin,COMMENT:i.comment,EXPECT_END_DATE:i.expectEndDate,EXPECT_START_DATE:i.expectStartDate,ID:i.projectApprovalId,PHONE_NUMBER:i.phoneNumber,PROJECT_MANAGER:i.projectManager,PROJECT_NAME:i.projectName,PROJECT_STATUS:i.projectStatus,PROJECT_SUBCLASS:i.projectSubclass,PROJECT_TYPE:i.projectType,REFERENCE_ID:i.referenceId},e.jsonData=n,e.projectConclusion=n.projectConclusion,e.projectTime=n.projectTime,e.handlerDefault={handler:n.baseinfo.handler,handlerName:n.baseinfo.handlerName,handlerUnit:n.baseinfo.handlerUnit,handlerUnitName:n.baseinfo.handlerUnitName,handlerRole:n.baseinfo.handlerRole,handlerRoleName:n.baseinfo.handlerRoleName},e.$loading.hide()})}),created:function(){var e=sessionStorage.getItem("XMJX_DATA");if(e){var t=JSON.parse(e);this.projectApproval=t.projectApproval,this.jsonData=t.jsonData,this.projectConclusion=t.projectConclusion,this.projectTime=t.projectTime,sessionStorage.removeItem("XMJX_DATA")}}}},P2Js:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"FormCell",props:{cellTitle:[String,Number],cellContent:[String,Number],showTopBorder:{type:Boolean,default:!0},textRight:{type:Boolean,default:!1},showSymbol:{type:Boolean,default:!1}}}},P2hJ:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper xsbj-detail-container"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.contactInfo,validUntil:""}}),e._v(" "),a("matter-list",{attrs:{"matter-list":e.orderInfo.order.dataSet},scopedSlots:e._u([{key:"matterOther",fn:function(t){var n=t.item;return a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("属性: "+e._s(n.processing_transObjCode))]),e._v(" "),a("span",[e._v("单位: "+e._s(n.measureUnit_transObjCode))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.taxRate,expression:"item.taxRate"}]},[e._v("税率: "+e._s(n.taxRate))])]),e._v(" "),a("div",{staticClass:"mater_attribute"},[a("span",[e._v("需求数量: "+e._s(n.tdQty))]),e._v(" "),a("span",[e._v("本次报价: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.price),3)))])]),e._v(" "),a("div",{staticClass:"mater_price"},[a("span",[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(n.tdAmount),3)))]),e._v(" "),n.taxRate?a("span",{staticClass:"num",style:{display:n.tdAmount&&n.tdAmount.toString().length>=7?"block":""}},[e._v("\n                [金额: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.noTaxAmount),3))+" + 税金: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.taxAmount),3))+"]\n              ")]):e._e()])])}}])}),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},P3eF:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("HzJ8"),o=n(s),l=a("I8ug"),d=a("4XVd"),u=a("fQlz"),c=n(u),f=a("Z5v5");t.default={name:"ChangeLog",data:function(){return{commentList:[],listId:"a4897429-f4f2-44a4-ade7-2fe8dc67c3cf"}},filters:{handleCrt:function(e){if(e){var t=Date.now();"string"==typeof e&&(e=e.replace(/-/g,"/").replace(/\..*/g,""));var a=+new Date(e),n=t-a,i=n/1e3,r=i/60,s=r/60,o=s/24;return i<60?"刚刚":r<60?parseInt(r)+"分钟前":s<24?parseInt(s)+"小时前":o<30?parseInt(o)+"天前":e}}},methods:{getUserDefault:function(e){var t=a("cr7Q");return e&&(e.photo=t),t},getCommetList:function(){var e=this;return(0,l.getPCCommentList)({relationKey:this.listId,limit:10,page:1,total:0}).then(function(t){var a=(t.dataCount,t.tableContent),n=void 0===a?[]:a;n.forEach(function(t){if(e.checkImgSuffix(t),t.praises.length)return void(t.isPraise=!1);t.isPraise=!0}),e.commentList=n})},changeImgPath:function(e){var t=e.content.replace(/src="resources/g,'src="/dist/resources');return e.content=t,t},goCommentList:function(){this.$router.push({path:"/commentList",query:{listId:this.listId}})},savePraise:function(e){if(e.isPraise)return(0,d.savePraise)(e.id).then(function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];arguments[1];t&&(e.isPraise=!1,e.praiseNum++)})},checkImgSuffix:function(e){var t=["jpg","jpeg","png","gif","bmp","tif","pcx","tga","exif","fpx","svg","psd","cdr","pcd","dxf","ufo","eps","ai","raw","WMF","webp"],a=!0,n=!1,i=void 0;try{for(var r,s=(0,o.default)(e.commentAttachments);!(a=(r=s.next()).done);a=!0){var l=r.value,d=l.name.lastIndexOf("."),u=l.name.substr(d+1);t.includes(u)&&(l.isImg=!0)}}catch(e){n=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw i}}},handleComment:function(e){var t=[].concat((0,r.default)(c.default)),a=e.content,n=/\[(.+?)\]/g;return a=a.replace(/src="resources/g,'src="/dist/resources'),a=a.replace(n,function(e){var a=t.findIndex(function(t){return t===e.replace(/(\[|\])/g,"")});return-1===a?e:'<span class="img-emotion" style="background-position: -'+24*a+'px 0;"></span>'})},scaleImg:function(e){console.log("img:",e);var t=""+location.origin+e.attachment;wx.previewImage({current:t,urls:[t]})},checkFile:function(e){window.location.href=""+location.origin+e}},created:function(){(0,f.register)();var e=this.$route.params.listId;e&&(this.listId=e,this.getCommetList())}}},P5Nb:function(e,t,a){"use strict";function n(e){a("NdBD")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("WzL9");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("DXZE"),o=a.n(s),l=a("DT/R"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-2b5e77a6",null);t.default=c.exports},P5P7:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2464}},mixins:[i.default],methods:{},created:function(){}}},P63M:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("a3Yh"),o=n(s),l=a("MgeX"),d=n(l),u=a("IHPB"),c=n(u),f=a("KH7x"),m=n(f),h=a("4YfN"),v=n(h),p=a("3cXf"),C=n(p),_=a("HXPS"),y=n(_),b=a("SAzG"),g=n(b),w=a("PzEQ"),I=n(w),x=a("kNGm"),D=n(x),P=a("BGNQ"),k=n(P),S=a("0AQX"),T=a("HyXB"),L=a("I3vJ"),N=a("bKg5"),M=n(N),A=a("vl8n"),O=n(A),R=a("9SNe"),j=n(R),$=a("kZy/"),B=n($),E=a("y8YJ"),F=n(E),U=a("yt3/"),q=n(U),Q=a("luHD"),H=n(Q),V=a("zlAJ"),X=n(V),z=a("+WR7"),Y=n(z),W=a("VZtf"),G=n(W),J=a("Qg39"),K=a("zWMP");t.default={data:function(){return{listId:"58a607ce-fe93-4d26-a42e-a374f4662f1c",matterList:[],showMaterielPop:!1,transCode:"",dealerInfo:{},transMode:[],logisticsTerm:[],formData:{biComment:"",drDealerLogisticsTerms:"",validUntil:""},numMap:{},taxRate:.16,contactInfo:{}}},components:{Icon:y.default,XInput:g.default,RPicker:O.default,XTextarea:I.default,Cell:k.default,PopMatterList:B.default,PopDealerList:F.default,PopSingleSelect:q.default,PopMatter:H.default,UploadFile:X.default,PopBaseinfo:Y.default,RDate:j.default,RNumber:G.default},mixins:[M.default],methods:{getPaymentTerm:function(){var e=this;return(0,T.getDictByType)("paymentTerm").then(function(t){var a=t.tableContent;e.transMode=a})},getLogisticsTerms:function(){var e=this;return(0,T.getDictByType)("dealerLogisticsTerms").then(function(t){var a=t.tableContent;e.logisticsTerm=a})},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,C.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=this;this.matterList.forEach(function(t){e.numMap[t.inventoryCode]=(0,v.default)({},t)}),this.showMaterielPop=!this.showMaterielPop},selDealer:function(e){var t=JSON.parse(e),a=(0,m.default)(t,1),n=a[0];this.dealerInfo=n},selContact:function(e){this.contactInfo=(0,v.default)({},e)},selMatter:function(e){var t=this,a=JSON.parse(e);a.forEach(function(e,a){var n=t.numMap[e.inventoryCode]||{},i=n.price,r=void 0===i?"":i,s=n.taxRate,o=void 0===s?t.taxRate:s,l=n.tdQty,d=void 0===l?"":l;e.tdQty=d,e.price=r,e.taxRate=o,e.assMeasureUnit=e.invSubUnitName||null,e.assMeasureScale=e.invSubUnitMulti||null,e.assMeasureDescription=e.invSubUnitComment||null,t.getPriceRange(e,a)}),this.numMap={},this.matterList=[].concat((0,c.default)(a))},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},save:function(){var e=this,t="",a=[];if([{key:"dealerInfo",message:"客户"},{key:"matterList",message:"物料"}].every(function(a){return!!(0,d.default)(e[a.key]).length||(t="请选择"+a.message,!1)}),this.matterList.every(function(n){var i=n.tdQty,r=n.price;if(!i&&0!==i)return t="请输入需求数量",!1;if(i<n.qtyDownline)return t="需求数量不能小于最小需求数量",!1;if(i>n.qtyOnline)return t="需求数量不能大于最大需求数量",!1;if(!r)return t="请输入本次报价",!1;if(r<n.specialReservePrice)return t="需求数量不能小于特批底价",!1;if(r>n.standardPrice)return t="需求数量不能大于标准价格",!1;var s=n.taxRate||e.taxRate,o=((0,K.accMul)(n.price,n.tdQty,s),{inventoryName_transObjCode:n.inventoryName,transObjCode:n.inventoryCode,tdProcessing:n.processing,assMeasureUnit:n.invSubUnitName||null,assMeasureDescription:n.invSubUnitComment||null,assMeasureScale:n.invSubUnitMulti||null,tdQty:n.tdQty,assistQty:n.assistQty,standardPrice:n.standardPrice,specialReservePrice:n.specialReservePrice,price:n.price,tdAmount:n.tdAmount,taxRate:s,noTaxPrice:n.noTaxPrice,taxAmount:n.taxAmount,comment:n.comment||null});return e.transCode&&(o.tdId=n.tdId||""),a.push(o),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=T.saveAndStartWf,n=(0,m.default)(e.matterList,1),i=(n[0],(0,v.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,dealerDebitContactPersonName:e.contactInfo.dealerName||"",dealerDebitContactInformation:e.contactInfo.dealerMobilePhone||"",drDealerLogisticsTerms:e.dealerInfo.dealerLogisticsTerms,order:{dealerDebit:e.dealerInfo.dealerCode||"",drDealerLabel:e.dealerInfo.dealerLabelName,drDealerPaymentTerm:e.dealerInfo.paymentTerm,validUntil:e.formData.validUntil,dataSet:a}})),r={listId:e.listId,biComment:"",formData:(0,C.default)(i),wfPara:(0,C.default)((0,o.default)({},e.processCode,{businessKey:"QUOT",createdBy:i.creator}))};e.transCode&&(t=T.saveAndCommitTask,r.biReferenceId=e.biReferenceId,r.wfPara=(0,C.default)({businessKey:e.transCode,createdBy:i.creator,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=T.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,S.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var d=[];e.attachment=l;var u=s.order,c=u.dataSet,f=void 0===c?[]:c,m=!0,h=!1,p=void 0;try{for(var C,_=(0,r.default)(f);!(m=(C=_.next()).done);m=!0){var y=C.value;y=(0,v.default)({},y,{inventoryPic:y.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+y.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:y.inventoryName_transObjCode,inventoryCode:y.inventoryCode_transObjCode,specification:y.specification_transObjCode,processing:y.processing_transObjCode,inventoryType:y.inventoryType_transObjCode,inventorySubclass:y.inventorySubclass_transObjCode,measureUnit:y.measureUnit_transObjCode,inventoryColor:y.inventoryColor_transObjCode,material:y.material_transObjCode}),d.push(y)}}catch(e){h=!0,p=e}finally{try{!m&&_.return&&_.return()}finally{if(h)throw p}}e.dealerInfo={creatorName:s.dealerDebitContactPersonName||"",dealerName:u.dealerName_dealerDebit||"",dealerMobilePhone:s.dealerDebitContactInformation||"",dealerCode:u.dealerDebit||"",dealerLabelName:u.drDealerLabel||"客户",province:u.province_dealerDebit||"",city:u.city_dealerDebit||"",county:u.county_dealerDebit||"",address:u.address_dealerDebit||"",paymentTerm:u.drDealerPaymentTerm,dealerLogisticsTerms:s.drDealerLogisticsTerms},e.contactInfo={dealerName:s.dealerDebitContactPersonName,dealerMobilePhone:s.dealerDebitContactInformation},e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,v.default)({},e.formData,e.handlerDefault,{biComment:s.biComment,biId:s.biId,biProcessStatus:s.biProcessStatus,creator:s.creator,modifer:s.modifer,validUntil:(0,D.default)(s.validUntil,"YYYY-MM-DD")}),e.biReferenceId=s.biReferenceId,e.matterList=d,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,o.default)({},"XSBJ_DATA",{matter:this.matterList,dealer:this.dealerInfo,formData:this.formData,contactInfo:this.contactInfo})},getPriceRange:function(e,t){var a=this;return(0,L.getPriceRange)({inventoryCode:e.inventoryCode}).then(function(n){var i=n.tableContent,r=(0,m.default)(i,1),s=r[0],o=void 0===s?{}:s;["qtyDownline","qtyOnline","specialReservePrice","standardPrice"].forEach(function(t){e[t]=o[t]||0}),a.$set(a.matterList,t,(0,v.default)({},e))})},checkQty:function(e){var t=e.qtyDownline,a=void 0===t?0:t,n=e.qtyOnline,i=void 0===n?0:n,r=e.tdQty;r<a&&(r=a),r>i&&(r=i),e.tdQty=Math.abs((0,J.toFixed)(r))},checkAmt:function(e){var t=e.standardPrice,a=void 0===t?0:t,n=e.specialReservePrice,i=void 0===n?0:n,r=e.price;r<i&&(r=i),r>a&&(r=a),e.price=Math.abs((0,J.toFixed)(r))},checkRate:function(e){e.taxRate=Math.abs((0,J.toFixed)(e.taxRate))}},created:function(){var e=sessionStorage.getItem("XSBJ_DATA");e&&(this.matterList=JSON.parse(e).matter,this.dealerInfo=JSON.parse(e).dealer,this.formData=JSON.parse(e).formData,this.contactInfo=JSON.parse(e).contactInfo,sessionStorage.removeItem("XSBJ_DATA"))}}},P6tn:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages hgcw-list-container"},[a("div",{staticClass:"btns"},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"btn-item",on:{click:function(a){e.goDetail(t)}}},[a("span",[e._v(e._s(t.title))]),e._v(" "),a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-arrow-right",attrs:{type:"ios-arrow-right",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M160 115.4L180.7 96 352 256 180.7 416 160 396.7 310.5 256z"}})])])}))])},i=[],r={render:n,staticRenderFns:i};t.a=r},P7KE:function(e,t,a){"use strict";function n(e){a("NVqK")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("jKAT");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("ZtSw"),o=a.n(s),l=a("Ef2G"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-1e19ecb8",null);t.default=c.exports},PDsi:function(e,t,a){"use strict";function n(e){a("f3ai")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("WVZW");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("gBjh"),o=a.n(s),l=a("m7iq"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-216ced69",null);t.default=c.exports},PKHo:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("FIKn"),r=(n(i),a("kNGm")),s=n(r),o=a("d3k1"),l=n(o);t.default={data:function(){return{btnIsHide:!1,clientHeight:document.documentElement.clientHeight}},methods:{changeDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return"";"string"==typeof e&&(e=e.replace(/-/g,"/").replace(/\..*/g,""));var a="YYYY-MM-DD";return t&&(a="YYYY-MM-DD HH:mm:ss"),(0,s.default)(e,a)}},mounted:function(){var e=this;l.default.isAndroid&&(window.onresize=function(){e.clientHeight>document.documentElement.clientHeight?e.btnIsHide=!0:(e.btnIsHide=!1,"INPUT"!==document.activeElement.tagName&&"TEXTAREA"!==document.activeElement.tagName||document.activeElement.blur())})}}},PKjt:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("J0Oq"),o=n(s),l=a("KH7x"),d=n(l),u=a("L6VY"),c=n(u),f=a("kNGm"),m=n(f),h=a("I3vJ"),v=a("I8ug"),p=a("d7ck"),C=n(p);t.default={name:"materDetail",filters:{dateFormat:m.default},data:function(){return{listId:"78a798f8-0f3a-4646-aa8b-d5bb1fada28c",baseinfo:{},transCode:"",inventory:{},invMoreUnit:[],invNetWeight:[],invDealerRel:[],invCustomerRel:[],action:{}}},computed:{leadTimeTitle:function(){var e=this.inventory.processing,t=["原料","商品"],a=["半成品","成品","模具"];return t.includes(e)?"采购提前期":a.includes(e)?"加工提前期":""}},components:{FormCell:C.default},methods:{goEdit:function(){this.$router.push({path:"/materlist/addMater",query:{transCode:this.transCode}})},findData:function(){var e=this;return(0,h.findData)(this.transCode).then(function(t){var a=t.formData,n=a.inventory,i=void 0===n?{}:n,r=["","使用中","未使用","草稿"],s=["","inUse","unUse"];i.statusClass=s[i.inventoryStatus],i.status=r[i.inventoryStatus]||"停用",e.baseinfo=a.baseinfo,e.inventory=a.inventory,e.invNetWeight=a.invNetWeight,e.invMoreUnit=a.invMoreUnit,e.invDealerRel=a.invDealerRel||[],e.invCustomerRel=a.invCustomerRel||[];var o=e.inventory,l=o.inventoryPic,d=o.inventoryCode,u=o.specification;e.contentLength=d.length+u.length,l?e.inventory.inventoryPic="/H_roleplay-si/ds/download?url="+l+"&width=400&height=400":e.getDefaultImg(),e.$loading.hide()}).catch(function(t){e.$loading.hide(),c.default.show({content:t.message})})},getDefaultImg:function(){this.inventory.inventoryPic=a("Y//y")},getAppDetail:function(){var e=this;return(0,v.getAppDetail)(this.listId).then(function(t){var a=(0,d.default)(t,1),n=a[0],i=void 0===n?{}:n,r=i.action;e.action=r})}},created:function(){var e=this;(0,o.default)(r.default.mark(function t(){var a,n;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.$loading.show(),a=e.$route.query.transCode,n=void 0===a?"":a,e.transCode=n,t.next=5,e.getAppDetail();case 5:e.findData();case 6:case"end":return t.stop()}},t,e)}))()}}},PN9S:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MgeX"),r=n(i),s=a("HzJ8"),o=n(s),l=a("3cXf"),d=n(l),u=a("IHPB"),c=n(u),f=a("HXPS"),m=n(f),h=a("7g+Q"),v=n(h),p=a("1KNX"),C=n(p),_=(a("vS5q"),a("I3vJ")),y=a("7biW"),b=n(y);t.default={name:"PopOrderXQTJList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Object,default:function(){return{}}},listMethod:{type:String,default:"getDemandAdjustment"}},components:{Icon:m.default,Popup:v.default,RScroll:C.default,RSearch:b.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],listData:[],limit:100,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterProperty:"",filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"交易号",value:"transCode"}]}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,c.default)(this.selItems)),this.$emit("input",!1)},findIndex:function(e,t){return e.findIndex(function(e){var a=!0,n=!0;return e.orderCode&&(a=e.orderCode===t.orderCode),e.colId&&(n=e.colId===t.colId),a&&n&&e.transCode===t.transCode&&e.inventoryCode===t.inventoryCode})},showSelIcon:function(e){return-1!==this.findIndex(this.tmpItems,e)},selThis:function(e,t){if(["getInProcessingOrder","getInProcessingStorage"].includes(this.listMethod)&&!e.orderCode)return void this.$vux.alert.show({content:"当前订单号不存在，不可选择"});if(e.qtyBal&&e.qtyStock<=0)return void this.$vux.alert.show({content:"当前库存为0，不可选择"});var a=this.tmpItems,n=this.findIndex(a,e);if(-1!==n)return void a.splice(n,1);a.push(e)},selConfirm:function(){this.showPop=!1,this.tmpItems.sort(function(e,t){return t.effectiveTime-e.effectiveTime}),this.selItems=[].concat((0,c.default)(this.tmpItems)),this.$emit("sel-matter",(0,d.default)(this.selItems))},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getList:function(){var e=this,t=[];this.srhInpTx&&(t=[{operator:"like",value:this.srhInpTx,property:this.filterProperty}]);var a=this.$route.query.relationKey,n=void 0===a?"":a;return n&&(t=[{operator:"eq",value:n,property:"transCode"}]),(0,_.getXQTJList)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,d.default)(t)},this.listMethod).then(function(t){var a=t.dataCount,i=void 0===a?0:a,r=t.tableContent,s=void 0===r?[]:r;s.forEach(function(t){t.inventoryPic=t.inventoryPic?"/H_roleplay-si/ds/download?url="+t.inventoryPic+"&width=400&height=400":e.getDefaultImg()}),n&&(e.selItems=[].concat((0,c.default)(s)),e.$emit("sel-matter",(0,d.default)(e.selItems))),e.hasNext=i>(e.page-1)*e.limit+s.length,e.listData=1===e.page?s:[].concat((0,c.default)(e.listData),(0,c.default)(s)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},resetCondition:function(){this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.resetCondition(),this.getList()},clearList:function(){this.srhInpTx="",this.resetCondition(),this.getList()},delSelItem:function(e){var t=this.findIndex(this.selItems,e);-1!==t&&this.selItems.splice(t,1),this.tmpItems=[].concat((0,c.default)(this.selItems))},clearSel:function(){this.selItems=[],this.tmpItems=[]},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var i,s=(0,o.default)((0,r.default)(this.defaultValue));!(t=(i=s.next()).done);t=!0){var l=i.value;e=[].concat((0,c.default)(e),(0,c.default)(l))}}catch(e){a=!0,n=e}finally{try{!t&&s.return&&s.return()}finally{if(a)throw n}}this.tmpItems=[].concat((0,c.default)(e)),this.selItems=[].concat((0,c.default)(e))}},created:function(){this.showPop=this.show,this.setDefaultValue(),this.getList()}}},PPvx:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper wlxqjh-detail-container"},[e.orderInfo&&e.orderInfo.inPut?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"materiel_list"},[e._m(0),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n){return a("div",{key:n,staticClass:"each_mater"},[a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v("加工订单号")]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]),e._v(" "),a("div",{staticClass:"order_matter"},[e._l(t,function(t,n){return[a("matter-item",{class:{"vux-1px-b":t.bom},attrs:{item:t},scopedSlots:e._u([{key:"other",fn:function(t){var n=t.item;return a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_left"},[n.promDeliTime?a("span",{staticClass:"num"},[e._v("承诺交付日期: "+e._s(n.promDeliTime))]):e._e(),e._v(" "),n.shippingTime?a("span",{staticClass:"num"},[e._v("主计划截止验收日: "+e._s(n.shippingTime))]):e._e()]),e._v(" "),a("div",{staticClass:"mater_num"},[a("span",{staticClass:"num"},[e._v("库存计划: "+e._s(e._f("toFixed")(n.lockQty)))])]),e._v(" "),a("div",{staticClass:"mater_num"},[a("span",{staticClass:"num"},[e._v("待计划余额: "+e._s(e._f("toFixed")(n.thenQtyBal)))])]),e._v(" "),a("div",{staticClass:"mater_num"},[a("span",{staticClass:"num"},[e._v("\n                      加工计划: "+e._s(e._f("toFixed")(n.processQty))+"\n                    ")]),e._v(" "),a("span",{staticClass:"get_bom",on:{click:function(t){e.checkBom(n)}}},[e._v("查看原料")])])])}}])})]})],2)])}))]),e._v(" "),a("div",{staticClass:"bom_list"},[a("bom-list",{attrs:{boms:e.UniqueBom}})],1),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("bom-pop",{staticClass:"bom_pop",attrs:{show:e.bomPopShow,bomInfo:e.bom,"is-edit":!1},scopedSlots:e._u([{key:"bom-left",fn:function(t){var n=t.bom;return[n.shippingTime?a("div",{staticClass:"shipping-time"},[e._v("采购交货日期: "+e._s(n.shippingTime))]):e._e()]}},{key:"number",fn:function(t){var n=t.bom;return[a("div",{staticClass:"number-part"},[a("span",{staticClass:"main-number"},[e._v("原料需求: "+e._s(n.tdQty)+e._s(n.measureUnit))]),e._v(" "),a("span",{staticClass:"number-unit"},[e._v("库存余额: "+e._s(n.qtyStock))])]),e._v(" "),a("div",{staticClass:"specific_loss"},[e._v("原料库存计划: "+e._s(n.lockQty))]),e._v(" "),a("div",{staticClass:"specific_loss"},[e._v("单位损耗率: "+e._s(n.bomSpecificLoss))])]}}]),model:{value:e.bomPopShow,callback:function(t){e.bomPopShow=t},expression:"bomPopShow"}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title"},[a("span",{staticClass:"iconfont icon-Shape"}),e._v("物料列表\n      ")])}],r={render:n,staticRenderFns:i};t.a=r},PRcA:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noCount:"",noPrice:"",isDealer:!1},nativeOn:{click:function(a){e.goDetail(t,n)}}})}))],1),e._v(" "),e.action.add?a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e(),e._v(" "),a("pop-task-work-list",{ref:"taskWork",attrs:{show:e.popShow,params:e.requestParams,"work-type":"验收"},on:{"sel-task":e.selTask},model:{value:e.popShow,callback:function(t){e.popShow=t},expression:"popShow"}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},PRcm:function(e,t){},PSYi:function(e,t,a){"use strict";function n(e){a("Eq/F")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("car/");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("ukfH"),o=a.n(s),l=a("i23H"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-1302c1cc",null);t.default=c.exports},PYXE:function(e,t,a){"use strict";function n(e){a("XIVs")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("VhGg");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("T4DS"),o=a.n(s),l=a("XJi8"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-3073d755",null);t.default=c.exports},Pb67:function(e,t,a){"use strict";function n(e){a("9n09")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("SGPQ");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("d5RT"),o=a.n(s),l=a("2PUA"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-4178a5a0",null);t.default=c.exports},PbSJ:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("T1B6"),r=n(i),s=a("uJtz"),o=n(s),l=a("jnZd"),d=n(l);t.default={name:"x-address",components:{PopupPicker:d.default},props:{title:{type:String,required:!0},value:{type:Array,default:function(){return[]}},rawValue:Boolean,list:{type:Array,required:!0},labelWidth:String,inlineDesc:String,placeholder:String,hideDistrict:Boolean,valueTextAlign:String,confirmText:String,cancelText:String,displayFormat:{type:Function,default:function(e,t){return t}},popupStyle:Object,popupTitle:String,show:Boolean,disabled:Boolean},created:function(){if(this.currentValue.length&&this.rawValue){var e=(0,r.default)(this.currentValue,this.list);/__/.test(e)?(console.error("[VUX] Wrong address value",this.currentValue),this.currentValue=[]):this.currentValue=e.split(" ")}this.show&&(this.showValue=!0)},methods:{emitHide:function(e){this.$emit("on-hide",e)},getAddressName:function(){return(0,o.default)(this.value,this.list)},onShadowChange:function(e,t){this.$emit("on-shadow-change",e,t)}},data:function(){return{currentValue:this.value,showValue:!1}},computed:{nameValue:function(){return(0,o.default)(this.currentValue,this.list)},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}}},watch:{currentValue:function(e){this.$emit("input",e)},value:function(e){if(e.length&&!/\d+/.test(e[0])){var t=(0,r.default)(e,this.list).split(" ");if("__"!==t[0]&&"__"!==t[1])return void(this.currentValue=t)}this.currentValue=e},show:function(e){this.showValue=e},showValue:function(e){this.$emit("update:show",e)}}}},"Peu+":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"inline-desc"}},Pibe:function(e,t,a){"use strict";function n(e){a("BDVu")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Cs4O");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("c8eI"),o=a.n(s),l=a("KFpY"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-39c06e8a",null);t.default=c.exports},Pl27:function(e,t){},PoQm:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2508,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[i.default],methods:{},created:function(){}}},Pqvm:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("+62G"),v=n(h),p=a("6q39"),C=n(p),_=a("jnZd"),y=n(_),b=a("HyXB"),g=a("1KNX"),w=n(g),I=a("7biW"),x=n(I);t.default={name:"BaseInfo",props:{defaultValue:{type:Object,default:function(){return{}}},handleOrgList:{type:Array,default:function(){return[]},required:!0},userRoleList:{type:Array,default:function(){return[]},required:!0},isRequired:{type:Boolean,default:!0}},directives:{TransferDom:v.default},components:{Icon:c.default,Popup:m.default,RScroll:w.default,DSearch:x.default,LoadMore:C.default,PopupPicker:y.default},data:function(){return{page:1,limit:50,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},srhInpTx:"",showPop:!1,isSetInitial:!1,selItems:{},currentUser:{},role:[],group:[],listData:[],roleList:[],groupList:[]}},watch:{defaultValue:function(e){this.setDefaultValue()}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},onPullingUp:function(){this.page++,this.getlistUsers()},showSelIcon:function(e){return""+this.selItems.userId==""+e.userId},getDefaultImg:function(e){var t=a("男"===e.gender?"cr7Q":"Atv/");return e&&(e.photo=t),t},changeGroup:function(e){var t=this;this.selItems.handlerUnitName=e[0],this.groupList.forEach(function(a){if(a.name===e[0])return t.selItems.handlerUnit=a.userGroupId,!1});var a={handler:this.selItems.userId,handlerName:this.selItems.nickname,handlerUnit:this.selItems.handlerUnit,handlerUnitName:this.selItems.handlerUnitName,handlerRole:this.selItems.handlerRole,handlerRoleName:this.selItems.handlerRoleName};this.$emit("sel-item",a)},changeRole:function(e){var t=this;this.selItems.handlerRoleName=e[0],this.roleList.forEach(function(a){if(a.name===e[0])return t.selItems.handlerRole=a.userGroupId,!1});var a={handler:this.selItems.userId,handlerName:this.selItems.nickname,handlerUnit:this.selItems.handlerUnit,handlerUnitName:this.selItems.handlerUnitName,handlerRole:this.selItems.handlerRole,handlerRoleName:this.selItems.handlerRoleName};this.$emit("sel-item",a)},selThis:function(e,t){this.isSetInitial=!0,this.showPop=!1,this.selItems=e,this.getNewHandleORG(),this.getNewUserRole()},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getlistUsers()},getlistUsers:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"nickname"}])),(0,b.listUsers)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,d.default)(e.listData),(0,d.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},setDefaultValue:function(){this.selItems=this.defaultValue?(0,r.default)({},this.defaultValue,{userId:this.defaultValue.handler,nickname:this.defaultValue.handlerName}):{},this.group=[this.selItems.handlerUnitName],this.role=[this.selItems.handlerRoleName],this.defaultORG(),this.defaultUserRole()},defaultORG:function(){var e=this;this.groupList=[],this.handleOrgList.forEach(function(t){e.groupList.push((0,r.default)({},t,{name:t.userGroupName,value:t.userGroupName}))})},defaultUserRole:function(){var e=this;this.roleList=[],this.userRoleList.forEach(function(t){e.roleList.push((0,r.default)({},t,{name:t.userGroupName,value:t.userGroupName}))})},getNewHandleORG:function(){var e=this;return(0,b.getGroupByUserId)(this.selItems.userId).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;e.group=[],e.groupList=[],n.forEach(function(t){e.groupList.push((0,r.default)({},t,{name:t.userGroupName,value:t.userGroupName}))}),n.length&&e.isSetInitial&&(e.group=[n[0].userGroupName],e.selItems.handlerUnit=n[0].userGroupId)})},getNewUserRole:function(){var e=this;return(0,b.getRoleByUserId)(this.selItems.userId).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;e.role=[],e.roleList=[],n.forEach(function(t){e.roleList.push((0,r.default)({},t,{name:t.userGroupName,value:t.userGroupName}))}),n.length&&e.isSetInitial&&(e.role=[n[0].userGroupName],e.selItems.handlerRole=n[0].userGroupId)})}},created:function(){this.getlistUsers(),this.setDefaultValue()}}},PsFA:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_content"},[e._m(0),e._v(" "),e._l(e.costList,function(t,n){return a("div",{key:n,staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"费用名称",cellContent:t.costName_expCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"费用科目",cellContent:t.expSubject}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"费用类型",cellContent:t.costType_expCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"申请金额",showSymbol:"",cellContent:e._f("numberComma")(e._f("toFixed")(t.tdAmount),3)}}),e._v(" "),a("form-cell",{attrs:{"cell-title":"报销事由","cell-content":t.expCause}}),e._v(" "),e.isAccounting?a("x-input",{attrs:{type:"number",title:"可抵扣税金",value:t.taxAmount,"text-align":"right"},on:{"on-focus":e.getFocus,"on-blur":function(a){e.calcTax(t)}},model:{value:t.taxAmount,callback:function(a){e.$set(t,"taxAmount",e._n(a))},expression:"item.taxAmount"}}):a("form-cell",{attrs:{cellTitle:"可抵扣税金",showSymbol:"",cellContent:e._f("numberComma")(e._f("toFixed")(t.taxAmount),3)}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"抵扣后金额",showSymbol:"",cellContent:e._f("numberComma")(e._f("toFixed")(t.noTaxAmount),3)}})],1)})],2),e._v(" "),a("div",{staticClass:"form_content",staticStyle:{"margin-top":"0.1rem"}},[e._m(1),e._v(" "),a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"往来名称",cellContent:e.dealerInfo.dealerName_dealerCodeCredit}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来关系标签",cellContent:e.dealerInfo.crDealerLabel}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"信用额度",showSymbol:"",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.tdCreditLine),3)}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来余额",showSymbol:"",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.thenAmntBal),3)}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次贷方增加",showSymbol:"",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.thenAlreadyAmnt),3)}}),e._v(" "),e.isAccounting?a("x-input",{attrs:{type:"number",title:"本次支付",value:e.dealerInfo.thenTotalAmntBal,"text-align":"right"},on:{"on-focus":e.getFocus,"on-blur":function(t){e.calcPayment(e.dealerInfo)}},model:{value:e.dealerInfo.thenTotalAmntBal,callback:function(t){e.$set(e.dealerInfo,"thenTotalAmntBal",e._n(t))},expression:"dealerInfo.thenTotalAmntBal"}}):a("form-cell",{attrs:{cellTitle:"本次支付",showSymbol:"",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.thenTotalAmntBal),3)}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次报销与支付后余额",showSymbol:"",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.differenceAmount),3)}})],1)]),e._v(" "),e.isCashier?a("pop-cash-list",{attrs:{"default-value":e.cashInfo,request:"4",params:e.cashParams,required:""},on:{"sel-item":e.selCash}},[a("template",{slot:"other"},[a("form-cell",{attrs:{cellTitle:"支付金额",showSymbol:"",cellContent:e._f("numberComma")(e._f("toFixed")(e.cashInfo.tdAmountCopy1),3)}})],1)],2):e.isCashier||e.isAccounting||e.isApproval?e._e():a("div",{staticClass:"form_content",staticStyle:{"margin-top":"0.1rem"}},[a("div",{staticClass:"form_title"},[a("span",{staticClass:"iconfont icon-baoxiao"}),e._v(" "),a("span",{staticClass:"title"},[e._v("资金账户信息")])]),e._v(" "),a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"资金账户",cellContent:e.cashInfo.fundName_cashInCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"资金账户类型",cellContent:e.cashInfo.cashType_cashInCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"账户余额",showSymbol:"",cellContent:e._f("numberComma")(e._f("toFixed")(e.cashInfo.thenAmntBalCopy1),3)}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"支付金额",showSymbol:"",cellContent:e._f("numberComma")(e._f("toFixed")(e.cashInfo.tdAmountCopy1),3)}})],1)]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,"agree-handler":e.agreeHandler,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title"},[a("span",{staticClass:"iconfont icon-baoxiao"}),e._v(" "),a("span",{staticClass:"title"},[e._v("费用信息")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title"},[a("span",{staticClass:"iconfont icon-mingxi1"}),e._v(" "),a("span",[e._v("往来信息")])])}],r={render:n,staticRenderFns:i};t.a=r},PsWc:function(e,t){},PwfV:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{staticClass:"list_top"},[a("search",{staticClass:"search",on:{search:e.searchList}})],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"each_task",on:{click:function(a){e.goDetail(t,n)}}},[a("div",{staticClass:"todo_msg",class:{visited:t.visited}},[a("div",{staticClass:"msg_top"},[a("div",{staticClass:"work_info"},[a("span",{staticClass:"work_status doing_work"},[e._v(e._s(t.status))]),e._v(" "),a("span",{staticClass:"work_code doing_code"},[e._v(e._s(t.transCode))])]),e._v(" "),a("div",{staticClass:"time"},[e._v("\n              "+e._s(e._f("handleCrt")(t))+"\n            ")])]),e._v(" "),a("div",{staticClass:"handle_info vux-1px-b"},[a("div",{staticClass:"handle_avatar"},[a("img",{attrs:{src:t.lastNode.photoUrl||e.DefaultImg,alt:"avatar"}})]),e._v(" "),a("div",{staticClass:"info"},[a("div",{staticClass:"handle_part"},[a("span",{staticClass:"name"},[e._v(e._s(t.lastNode.userName))]),e._v(" "),a("span",{staticClass:"handle"},[e._v("进行了操作")]),e._v(" "),a("span",{staticClass:"tips"},[e._v("[上个节点]")])]),e._v(" "),a("div",{staticClass:"handle_result"},[a("span",[e._v("操作动作:")]),e._v(" "),a("span",{staticClass:"result",class:{reject_c:"同意"===t.lastNode.status||"提交"===t.lastNode.status}},[e._v("\n                "+e._s(t.lastNode.status)+"\n                ")])])])]),e._v(" "),a("div",{staticClass:"user_handle"},[a("div",{staticClass:"tips"},[e._v("此单你需要进行:")]),e._v(" "),a("div",{staticClass:"info"},[e._v(e._s(t.nodeName))])])])])})),e._v(" "),a("router-view")],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},Px8X:function(e,t,a){"use strict";function n(e){a("DViF")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("q4Rk");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("ansf"),o=a.n(s),l=a("oojl"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-072af15e",null);t.default=c.exports},PxjL:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}))],1),e._v(" "),e.action.add?a("div",{staticClass:" vux-1px-t btn "},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},PzEQ:function(e,t,a){"use strict";function n(e){a("Ae17")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("8bUL");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Ac7F"),o=a.n(s),l=a("sYiH"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},Q1rT:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2362,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"成品名称",value:"inventoryName_transObjCode"}]}},mixins:[i.default]}},Q6Kg:function(e,t,a){"use strict";function n(e){a("qYYo")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("XquE");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("xwQh"),o=a.n(s),l=a("+BtC"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-1bf74ef4",null);t.default=c.exports},Q9H3:function(e,t){},Q9fr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listViewID:2387}},mixins:[i.default],methods:{},created:function(){}}},QDJI:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("div",{staticClass:"title"},[a("m-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}})],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.projectList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.projectList,function(t,n){return a("div",{key:n,staticClass:"each_mater box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"mater_main "},[a("div",{staticClass:"project_name"},[e._v("\n              "+e._s(t.PROJECT_NAME)+"\n            ")]),e._v(" "),a("div",{staticClass:"project_type"},[e._v("\n              "+e._s(t.PROJECT_TYPE)+"\n            ")])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}))],1)])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},QDfD:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o),d=a("zWMP"),u=a("Qg39"),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("89pA"),p=n(v),C=a("bFc7"),_=n(C),y=a("6WeX"),b=n(y),g=a("hPJo"),w=n(g),I=a("kKsb"),x=n(I),D=a("sUbJ"),P=n(D),k=a("d7ck"),S=n(k);t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",orderList:{},warehouse:{},dealerInfo:{},basicInfo:{}}},computed:{noTaxAmount:function(){var e=0;return this.orderInfo.outPut.dataSet.forEach(function(t){e=(0,d.accAdd)(e,t.noTaxAmount)}),e},taxAmount:function(){var e=0;return this.orderInfo.outPut.dataSet.forEach(function(t){e=(0,d.accAdd)(e,t.taxAmount)}),e}},mixins:[l.default],components:{workFlow:h.default,RAction:f.default,PopWarehouseList:p.default,contactPart:_.default,PriceTotal:b.default,WarehouseContent:w.default,ProjectPart:x.default,MatterItem:P.default,FormCell:S.default},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var c={},f=s.outPut,m=void 0===f?{}:f;e.attachment=l;var h=s.outPut.dataSet,v=!0,p=!1,C=void 0;try{for(var _,y=(0,r.default)(h);!(v=(_=y.next()).done);v=!0){var b=_.value;b.noTaxAmount=(0,d.accMul)(b.price,b.tdQty),b.taxAmount=(0,d.accMul)(b.noTaxAmount,b.taxRate),b.tdAmount=(0,u.toFixed)((0,d.accAdd)(b.noTaxAmount,b.taxAmount)),e.count=(0,d.accAdd)(e.count,b.tdAmount),b.inventoryPic=b.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+b.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),b.inventoryName_transObjCode=b.inventoryName_outPutMatCode,b.transObjCode=b.inventoryCode_outPutMatCode,c[b.transMatchedCode]||(c[b.transMatchedCode]=[]),c[b.transMatchedCode].push(b)}}catch(e){p=!0,C=e}finally{try{!v&&y.return&&y.return()}finally{if(p)throw C}}e.orderList=c,e.dealerInfo={creatorName:s.dealerDebitContactPersonName,dealerName:m.dealerName_dealerDebit,dealerMobilePhone:s.dealerDebitContactInformation,dealerContactPersonName:s.dealerDebitContactPersonName,dealerCode:m.dealerDebit,dealerLabelName:m.drDealerLabel,province:m.province_dealerDebit,city:m.city_dealerDebit,county:m.county_dealerDebit,address:m.address_dealerDebit,payment:m.drDealerPaymentTerm,logistics:s.drDealerLogisticsTerms,pamentDays:m.daysOfAccount,accountExpirationDate:m.accountExpirationDate},e.warehouse={warehouseCode:m.containerCodeOut,warehouseName:m.warehouseName_containerCodeOut,warehouseType:m.warehouseType_containerCodeOut,warehouseProvince:m.warehouseProvince_containerCodeOut,warehouseCity:m.warehouseCity_containerCodeOut,warehouseDistrict:m.warehouseDistrict_containerCodeOut,warehouseAddress:m.warehouseAddress_containerCodeOut},e.orderInfo=s,e.workFlowInfoHandler()})}}}},QHLv:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getComplexExpenseReimbursement=t.getObjFundBalByType=t.getDraftBalance=t.getFundCashDiscount=t.getCashDiscount=t.getInputDraft=t.getPurchaseAgreementDeposit=t.getSupplierToPayDeposit=t.getPaySupplierArrearsDataSet=t.getEmployeeReserveFunds=t.getEmployeeBal=t.getObjFunds=t.getCostByGroupId=t.getProjectCostByGroupId=t.getCost=void 0;var i=a("4YfN"),r=n(i),s=a("GOq4"),o=n(s);t.getCost=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getCostAll",data:e})},t.getProjectCostByGroupId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getProjectCostByGroupId",data:e})},t.getCostByGroupId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getCostByGroupId",data:e})},t.getObjFunds=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getObjFunds",data:e})},t.getEmployeeBal=function(e){return o.default.ajax({url:"/H_roleplay-si/ds/getEmployeeBal",data:{limit:1,filter:e,refresh:!0}})},t.getEmployeeReserveFunds=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getEmployeeReserveFunds",data:(0,r.default)({_dc:Date.now()},e)})},t.getPaySupplierArrearsDataSet=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getPaySupplierArrearsDataSet",data:(0,r.default)({_dc:Date.now()},e)})},t.getSupplierToPayDeposit=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getSupplierToPayDeposit",data:(0,r.default)({_dc:Date.now()},e)})},t.getPurchaseAgreementDeposit=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getPurchaseAgreementDeposit",data:(0,r.default)({_dc:Date.now()},e)})},t.getInputDraft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getInputDraft",data:(0,r.default)({_dc:Date.now()},e)})},t.getCashDiscount=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getCashDiscount",data:(0,r.default)({_dc:Date.now()},e)})},t.getFundCashDiscount=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getFundCashDiscount",data:(0,r.default)({_dc:Date.now()},e)})},t.getDraftBalance=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getDraftBalance",data:(0,r.default)({_dc:Date.now()},e)})},t.getObjFundBalByType=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getObjFundBalByType",data:(0,r.default)({_dc:Date.now(),fundType:"其他资金,银行存款"},e)})},t.getComplexExpenseReimbursement=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getComplexExpenseReimbursement",data:(0,r.default)({_dc:Date.now()},e)})};t.default={}},QLbr:function(e,t){},QMWr:function(e,t,a){"use strict";function n(e){a("pFjg")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("NLcr");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("PKjt"),o=a.n(s),l=a("MatO"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-5039acc0",null);t.default=c.exports},QRhw:function(e,t,a){"use strict";function n(e){a("hBLX")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a+8v");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Kppu"),o=a.n(s),l=a("esNF"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-19e1c18a",null);t.default=c.exports},QaSy:function(e,t){},QfFO:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("r-popup",{attrs:{show:e.showPop,data:e.listData,options:e.scrollOptions,"has-next":e.hasNext,"default-value":e.defaultValue,"judge-keys":["draftNumber"],multipart:""},on:{"on-pulling-up":e.onPullingUp,"on-select":e.selItem,"on-search":e.searchList},scopedSlots:e._u([{key:"pop-item",fn:function(t){var n=t.item;return[a("div",{staticClass:"top"},[a("span",{staticClass:"name"},[e._v(e._s(n.accepter))]),e._v(" "),a("span",{staticClass:"label"},[e._v(e._s(n.draftType))])]),e._v(" "),a("div",{staticClass:"amt"},[a("span",[e._v("汇票号: "+e._s(n.draftNumber))]),e._v(" "),e._t("amount",[a("span",[e._v("金额: "+e._s(e._f("numberComma")(n.tdAmount)))])],{item:n})],2),e._v(" "),a("div",{staticClass:"amt"},[a("span",[e._v("出票日: "+e._s(e._f("dateFormat")(n.draftDate,"YYYY-MM-DD")))]),e._v(" "),a("span",[e._v("到期日: "+e._s(e._f("dateFormat")(n.draftDueDate,"YYYY-MM-DD")))])])]}}]),model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}})},i=[],r={render:n,staticRenderFns:i};t.a=r},QfO0:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"popup-header",props:{leftText:String,rightText:String,title:String,showBottomBorder:{type:Boolean,default:!0}}}},QfTN:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages cpxq-list-container"},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"each_duty",class:{visited:t.visited},on:{click:function(a){e.goDetail(t,n)}}},[a("div",{staticClass:"duty_top"},[a("p",{staticClass:"duty_code"},[e._v("\n            "+e._s(t.transCode)+"\n            "),t.processStatus?a("span",{staticClass:"duty_crt_man"},[e._v(e._s(t.processStatus))]):e._e()]),e._v(" "),a("span",{staticClass:"duty_status",class:t.statusClass},[e._v(e._s(t.statusName))]),e._v(" "),a("i",{staticClass:"iconfont",class:t.whichIcon})]),e._v(" "),a("div",{staticClass:"duty_content"},[a("div",{staticClass:"content_title"},[e._v(e._s(t.turnoverName))]),e._v(" "),a("div",{staticClass:"content_step vux-1px-b"},[a("div",[e._v("部门: "+e._s(t.turnoverDepartMent))]),e._v(" "),a("div",[e._v("岗位: "+e._s(t.turnoverPost))])])]),e._v(" "),a("div",{staticClass:"order_count"},[t.handlerName?a("div",{staticClass:"handle_man"},[e._v("\n            "+e._s(t.handlerName)),a("span",{staticStyle:{fontSize:".1rem"}},[e._v("[经办人]")])]):e._e()])])}))],1),e._v(" "),a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},QfiB:function(e,t){},Qg39:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.toFixed=a("2KqP").default;t.default={toFixed:n}},Qg6Q:function(e,t){},"Qgf+":function(e,t){},QifJ:function(e,t,a){"use strict";function n(e){a("ZwUA")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("hz6K");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("NINi"),o=a.n(s),l=a("5pEJ"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-d3792284",null);t.default=c.exports},Ql1d:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"100%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("div",{staticClass:"title"},[a("m-search",{attrs:{filterList:e.filterList,isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}})],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions}},e._l(e.taskWorkList,function(t,n){return t.qtyBalance>0?a("div",{key:n,staticClass:"each-work box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"work-main"},[a("div",{staticClass:"order-code"},[a("span",{directives:[{name:"show",rawName:"v-show",value:"启动"===e.workType,expression:"workType === '启动'"}],staticClass:"order-title"},[e._v("派工单号")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"验收"===e.workType,expression:"workType === '验收'"}],staticClass:"order-title"},[e._v("启动单号")]),e._v(" "),a("span",{staticClass:"order-num"},[e._v(e._s(t.transCode))])]),e._v(" "),a("div",{staticClass:"work_mid"},[a("div",{staticClass:"product_name"},[e._v("\n                 "+e._s(t.inventoryName)),a("span",{staticClass:"symbol"},[e._v("["+e._s(t.invProcessing)+"]")])])]),e._v(" "),a("div",{staticClass:"work_mid"},[a("div",{staticClass:"product_unit"},[a("span",{staticClass:"each_unit"},[e._v("加工订单号: "+e._s(t.processCode))]),e._v(" "),a("span",{staticClass:"each_unit"},[e._v("工序: "+e._s(t.procedureName))])]),e._v(" "),a("div",{staticClass:"product_unit"},[a("span",{staticClass:"each_unit"},[e._v("总数: "+e._s(t.drQty))]),e._v(" "),a("span",{staticClass:"each_unit"},[e._v("已"+e._s(e.workType)+": "+e._s(t.crQty))]),e._v(" "),a("span",{staticClass:"each_unit"},[e._v("可"+e._s(e.workType)+": "+e._s(t.qtyBalance))])])])]),e._v(" "),a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-circle-outline selIcon",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])]):e._e()})),e._v(" "),a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.btnHandle}},[e._v(e._s(e.btnText))])])],1)])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},QnVE:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pop-sodl-project-list",on:{click:e.itemClick}},[a("div",{staticClass:"title"},[e._v("项目名称")]),e._v(" "),e.selItems.projectName?a("div",{staticClass:"project-info"},[a("span",{staticClass:"project-name"},[e._v(e._s(e.selItems.projectName))]),e._v(" "),a("span",{staticClass:"project-type"},[e._v(e._s(e.selItems.projectType))])]):a("div",[a("div",{staticClass:"mode"},[e._v("请选择项目名称")])]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r-arrow"}),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("div",{staticClass:"title"},[a("m-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}})],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.projectList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.projectList,function(t,n){return a("div",{key:n,staticClass:"each_mater box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"mater_main "},[a("div",{staticClass:"project_name"},[e._v("\n                "+e._s(t.projectName)+"\n              ")]),e._v(" "),a("div",{staticClass:"project_type"},[e._v("\n                "+e._s(t.projectType)+"\n              ")])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}))],1)])],1)])},i=[],r={render:n,staticRenderFns:i};t.a=r},QpJC:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"r-dropdown",on:{click:function(t){return t.stopPropagation(),e.dropClick(t)}}},[a("div",{staticClass:"r-dropdown-value"},[a("span",{staticClass:"value"},[e._v(e._s(e.selItem.name))]),e._v(" "),a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-arrow-down",class:{"arrow-up":e.showDrop},attrs:{type:"ios-arrow-down",size:"14",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M396.6 160l19.4 20.7L256 352 96 180.7l19.3-20.7L256 310.5z"}})])]),e._v(" "),a("ul",{directives:[{name:"show",rawName:"v-show",value:e.showDrop,expression:"showDrop"}],staticClass:"r-dropdown-list"},e._l(e.list,function(t,n){return a("li",{key:n,staticClass:"r-dropdown-item",class:{"vux-1px-b":n!==e.list.length-1},on:{click:function(a){a.stopPropagation(),e.dropItemClick(t)}}},[a("span",[e._v(e._s(t.name))]),e._v(" "),a("icon",{directives:[{name:"show",rawName:"v-show",value:e.selItem.value===t.value,expression:"selItem.value === item.value"}],staticClass:"icon-selected",attrs:{type:"success-no-circle"}})],1)}))])},i=[],r={render:n,staticRenderFns:i};t.a=r},Qv7O:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages bdkcdb-list-conatiner",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noPrice:"",noCount:""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}))],1),e._v(" "),e.action.add?a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},QzS5:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o),d=a("zWMP"),u=a("Qg39"),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("89pA"),p=n(v),C=a("bFc7"),_=n(C),y=a("6WeX"),b=n(y),g=a("hPJo"),w=n(g),I=a("kKsb"),x=n(I),D=a("sUbJ"),P=n(D),k=a("d7ck"),S=n(k);t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",orderList:{},warehouse:{},dealerInfo:{},basicInfo:{}}},computed:{noTaxAmount:function(){var e=0;return this.orderInfo.outPut.dataSet.forEach(function(t){e=(0,d.accAdd)(e,t.noTaxAmount)}),e},taxAmount:function(){var e=0;return this.orderInfo.outPut.dataSet.forEach(function(t){e=(0,d.accAdd)(e,t.taxAmount)}),e}},mixins:[l.default],components:{workFlow:h.default,RAction:f.default,PopWarehouseList:p.default,contactPart:_.default,PriceTotal:b.default,WarehouseContent:w.default,ProjectPart:x.default,MatterItem:P.default,FormCell:S.default},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var c={},f=s.outPut,m=void 0===f?{}:f;e.attachment=l;var h=s.outPut.dataSet,v=!0,p=!1,C=void 0;try{for(var _,y=(0,r.default)(h);!(v=(_=y.next()).done);v=!0){var b=_.value;b.noTaxAmount=(0,d.accMul)(b.price,b.tdQty),b.taxAmount=(0,d.accMul)(b.noTaxAmount,b.taxRate),b.tdAmount=(0,u.toFixed)((0,d.accAdd)(b.noTaxAmount,b.taxAmount)),e.count=(0,d.accAdd)(e.count,b.tdAmount),b.inventoryPic=b.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+b.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),b.inventoryName_transObjCode=b.inventoryName_outPutMatCode,b.transObjCode=b.inventoryCode_outPutMatCode,c[b.transMatchedCode]||(c[b.transMatchedCode]=[]),c[b.transMatchedCode].push(b)}}catch(e){p=!0,C=e}finally{try{!v&&y.return&&y.return()}finally{if(p)throw C}}e.orderList=c,e.dealerInfo={creatorName:s.dealerDebitContactPersonName,dealerName:m.dealerName_dealerDebit,dealerMobilePhone:s.dealerDebitContactInformation,dealerContactPersonName:s.dealerDebitContactPersonName,dealerCode:m.dealerDebit,dealerLabelName:m.drDealerLabel,province:m.province_dealerDebit,city:m.city_dealerDebit,county:m.county_dealerDebit,address:m.address_dealerDebit,payment:m.drDealerPaymentTerm,logistics:s.drDealerLogisticsTerms,pamentDays:m.daysOfAccount,accountExpirationDate:m.accountExpirationDate},e.warehouse={warehouseCode:m.containerCodeOut,warehouseName:m.warehouseName_containerCodeOut,warehouseType:m.warehouseType_containerCodeOut,warehouseProvince:m.warehouseProvince_containerCodeOut,warehouseCity:m.warehouseCity_containerCodeOut,warehouseDistrict:m.warehouseDistrict_containerCodeOut,warehouseAddress:m.warehouseAddress_containerCodeOut},e.orderInfo=s,e.workFlowInfoHandler()})}}}},"R/dh":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,defaultContact:e.contact,"dealer-label-name":"原厂供应商,经销供应商",dealerTitle:"供应商"},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("pop-single-select",{attrs:{title:"结算方式",data:e.transMode,value:e.dealerInfo.paymentTerm,isRequired:""},model:{value:e.dealerInfo.paymentTerm,callback:function(t){e.$set(e.dealerInfo,"paymentTerm",t)},expression:"dealerInfo.paymentTerm"}}),e._v(" "),a("cell",{staticClass:"pament-days",attrs:{title:"账期天数",value:e.dealerInfo.pamentDays}}),e._v(" "),a("div",{staticClass:"materiel_list"},[e.matterList.length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v("物料列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.matterList,function(t,n){return a("div",{key:n,staticClass:"each_mater",class:{mater_delete:e.matterModifyClass,"vux-1px-b":n<e.matterList.length-1}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass},on:{"on-modify":function(a){e.modifyMatter(t,n)}},nativeOn:{click:function(a){e.delClick(t,n)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_more"},[a("div",[a("span",{staticClass:"processing"},[e._v("属性:"+e._s(n.processing))]),e._v(" "),a("span",{staticClass:"unit"},[e._v("单位:"+e._s(n.measureUnit))]),e._v(" "),a("span",{staticClass:"mater_color"},[e._v("颜色:"+e._s(n.inventoryColor||"无"))]),e._v(" "),a("span",[e._v("税率:"+e._s(n.taxRate))])]),e._v(" "),a("div",[a("span",[e._v("待下单: "+e._s(n.qtyBal))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.processingStartDate,expression:"item.processingStartDate"}]},[e._v("计划需求日:"+e._s(n.processingStartDate))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.purchaseDay,expression:"item.purchaseDay"}]},[e._v("采购需求日:"+e._s(n.purchaseDay))])])]),e._v(" "),n.price&&n.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price)+"\n                    ")]),e._v(" "),a("div",[a("r-number",{attrs:{num:n.tdQty,checkAmt:e.checkAmt,max:n.qtyBal},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",t)},expression:"item.tdQty"}})],1)]):e._e()]}},{key:"editPart",fn:function(t){var i=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:i.price&&i.tdQty&&!e.matterModifyClass,expression:"(item.price && item.tdQty) &&!matterModifyClass"}],staticClass:"edit-part vux-1px-l",on:{click:function(t){e.modifyMatter(i,n)}}},[a("span",{staticClass:"iconfont icon-bianji1"})])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(t,n)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)}))]:[a("div",{on:{click:function(t){e.showMaterielPop=!e.showMaterielPop}}},[a("div",{staticClass:"title"},[e._v("物料列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择物料")]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),e.matterList.length?a("span",{staticClass:"add_more",on:{click:e.addMatter}},[e._v("新增更多物料")]):e._e()]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showMaterielPop,"default-value":e.matterList,"get-list-method":"getLowValueConsumPurchaseOrder","filter-list":e.filterList},on:{"sel-matter":e.selMatter},model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}})],2),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,"is-check-stock":!1},on:{"sel-confirm":e.selConfirm},scopedSlots:e._u([{key:"qtyBal",fn:function(t){var n=t.modifyMatter;return[a("span",{directives:[{name:"show",rawName:"v-show",value:n.qtyBal,expression:"modifyMatter.qtyBal"}]},[e._v("待下单: "+e._s(n.qtyBal))])]}}]),model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num"},[a("span",{staticStyle:{fontSize:".14rem"}},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.tdAmount,3))+"\n      "),a("span",{staticClass:"taxAmount"},[e._v("[含税: ￥"+e._s(e._f("numberComma")(e.taxAmount,3))+"]")])]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},R6zg:function(e,t){},"REK/":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,defaultContact:e.contactInfo},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("pop-single-select",{attrs:{title:"结算方式",data:e.transMode,value:e.dealerInfo.paymentTerm},model:{value:e.dealerInfo.paymentTerm,callback:function(t){e.$set(e.dealerInfo,"paymentTerm",t)},expression:"dealerInfo.paymentTerm"}}),e._v(" "),a("pop-single-select",{attrs:{title:"物流条款",data:e.logisticsTerm,value:e.dealerInfo.dealerLogisticsTerms},model:{value:e.dealerInfo.dealerLogisticsTerms,callback:function(t){e.$set(e.dealerInfo,"dealerLogisticsTerms",t)},expression:"dealerInfo.dealerLogisticsTerms"}}),e._v(" "),a("div",{staticClass:"mg_auto no_top"},[a("div",{staticClass:"cell-item"},[a("div",{staticClass:"title"},[e._v("账期天数")]),e._v(" "),a("div",{staticClass:"mode"},[a("span",{staticClass:"mode_content"},[e._v(e._s(e.dealerInfo.pamentDays||"无"))])])]),e._v(" "),a("x-input",{directives:[{name:"show",rawName:"v-show",value:e.hasAdvance,expression:"hasAdvance"}],staticClass:"cell-item",attrs:{type:"number","text-align":"right",placeholder:"请填写"},on:{"on-blur":function(t){e.checkAmt(e.dealerInfo)}},model:{value:e.dealerInfo.tdAmountCopy1,callback:function(t){e.$set(e.dealerInfo,"tdAmountCopy1",e._n(t))},expression:"dealerInfo.tdAmountCopy1"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("预收款")])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.hasAdvance,expression:"hasAdvance"}],staticClass:"cell-item",on:{click:function(t){e.dateSelect("advancePaymentDueDate")}}},[a("div",{staticClass:"title"},[e._v("预收到期日")]),e._v(" "),a("div",{staticClass:"mode"},[a("span",{staticClass:"mode_content"},[e._v(e._s(e.dealerInfo.advancePaymentDueDate||"请选择"))]),e._v(" "),a("span",{staticClass:"iconfont icon-shenglve"})])])],1),e._v(" "),a("div",{staticClass:"materiel_list"},[Object.keys(e.orderList).length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v("物料列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n,i){return a("div",{key:n,staticClass:"each_mater",class:{"vux-1px-b":i<Object.keys(e.orderList).length-1}},[t.length?a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v("所属合同")]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]):e._e(),e._v(" "),e._l(t,function(t,i){return a("div",{key:i,class:{mater_delete:e.matterModifyClass}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass},on:{"on-modify":function(a){e.modifyMatter(t,i,n)}},nativeOn:{click:function(a){e.delClick(i,t,n)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[a("div",{staticClass:"matter-more"},[a("span",{staticClass:"unit"},[e._v("属性: "+e._s(n.processing))]),e._v(" "),a("span",{staticClass:"unit"},[e._v("主计量: "+e._s(n.measureUnit))]),e._v(" "),a("span",{staticClass:"unit"},[e._v("辅助计量: "+e._s(n.assMeasureUnit))]),e._v(" "),n.taxRate?a("span",{staticClass:"mater_color"},[e._v("税率: "+e._s(n.taxRate))]):e._e()]),e._v(" "),a("div",{staticClass:"mater_more"},[a("span",{staticClass:"unit"},[e._v("辅助计量说明: "+e._s(n.assMeasureDescription))]),e._v(" "),a("span",[e._v("合同数量: "+e._s(n.qty))]),e._v(" "),a("span",[e._v("已下单: "+e._s(n.stockQty))]),e._v(" "),a("span",[e._v("待下单: "+e._s(n.qtyBal))])]),e._v(" "),a("div",{staticClass:"mater_more"},[a("span",{directives:[{name:"show",rawName:"v-show",value:n.promDeliTime,expression:"item.promDeliTime"}],staticClass:"unit"},[e._v("预期交货日: "+e._s(n.promDeliTime))])]),e._v(" "),n.price&&n.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price)+"\n                      ")]),e._v(" "),a("div",[a("r-number",{attrs:{num:n.tdQty,max:n.qtyBal,checkAmt:e.checkAmt},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",t)},expression:"item.tdQty"}})],1)]):e._e()]}},{key:"editPart",fn:function(t){var r=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r.price&&r.tdQty&&!e.matterModifyClass,expression:"(item.price && item.tdQty) &&!matterModifyClass"}],staticClass:"edit-part vux-1px-l",on:{click:function(t){e.modifyMatter(r,i,n)}}},[a("span",{staticClass:"iconfont icon-bianji1"})])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(i,t,n)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)})],2)}))]:[a("div",{staticClass:"no-matter",on:{click:e.getMatter}},[a("div",{staticClass:"title"},[e._v("物料列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择物料")]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),e.matterList.length?a("span",{staticClass:"add_more",on:{click:e.addMatter}},[e._v("新增更多物料")]):e._e()]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showMaterielPop,params:e.matterParams,"get-list-method":"getSalesOrderNew","filter-list":e.filterList,"default-value":e.matterList},on:{"sel-matter":e.selMatter},scopedSlots:e._u([{key:"titleName",fn:function(t){return[a("span",{staticClass:"order-title"},[e._v("销售合同号")])]}},{key:"storage",fn:function(t){var n=t.item;return[a("div",[a("span",[e._v("保质期天数: "+e._s(n.keepingDays||0))]),e._v(" "),a("span",[e._v("临保天数: "+e._s(n.nearKeepingDays||0))]),e._v(" "),a("span",[e._v("安全库存: "+e._s(n.safeStock||0))])]),e._v(" "),a("div",[a("span",[e._v("合同价: ￥"+e._s(n.price||0))]),e._v(" "),a("span",[e._v("合同数量: "+e._s(n.qty||0))]),e._v(" "),a("span",[e._v("已下单数量: "+e._s(n.stockQty||0))])])]}}]),model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}})],2),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,"show-date-time":!0},on:{"sel-confirm":e.selConfirm},scopedSlots:e._u([{key:"qtyBal",fn:function(t){var n=t.modifyMatter;return[a("div",[a("span",[e._v("交付开始日: "+e._s(n.dateActivation))]),e._v(" "),a("span",[e._v("交付截止日: "+e._s(n.executionDate))])]),e._v(" "),a("div",[a("span",[e._v("合同数量: "+e._s(n.qty))]),e._v(" "),a("span",[e._v("已下单: "+e._s(n.stockQty))]),e._v(" "),a("span",[e._v("待下单: "+e._s(n.qtyBal))])])]}},{key:"date",fn:function(t){var n=t.modifyMatter;return[a("datetime",{attrs:{title:"预期交货日","start-date":n.dateActivation,"end-date":n.executionDate,placeholder:"请选择"},model:{value:n.promDeliTime,callback:function(t){e.$set(n,"promDeliTime",t)},expression:"modifyMatter.promDeliTime"}},[a("span",{staticClass:"required",attrs:{slot:"title"},slot:"title"},[e._v("预期交货日")])])]}}]),model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}},[a("template",{slot:"qtyName"},[a("span",{staticClass:"required"},[e._v("本次下单")])])],2),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num",class:{nine_up:e.tdAmount.length>8,ten_up:e.tdAmount.length>9,ele_up:e.tdAmount.length>10}},[a("span",{staticClass:"total_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.tdAmount,3))+"\n      ")]),e._v(" "),a("span",{staticClass:"taxAmount"},[e._v("[含税: ￥"+e._s(e._f("numberComma")(e.taxAmount,3))+"]")])]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},REWi:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("rVsN"),r=n(i),s=a("KH7x"),o=n(s),l=a("Q+Ik"),d=n(l),u=a("4YfN"),c=n(u),f=a("Nk/b"),m=n(f),h=a("7g+Q"),v=n(h),p=a("z5TY"),C=n(p),_=a("vl8n"),y=n(_),b=a("PKHo"),g=n(b),w=a("XAqG"),I=a("5gKc"),x=n(I),D=a("WGJW"),P=n(D),k=a("1KNX"),S=n(k);t.default={name:"ApplyUserForm",data:function(){return{genderList:[{name:"男",value:"男",key:1},{name:"女",value:"女",key:0}],userTypeList:[{name:"长期有效",value:"长期有效",key:1},{name:"临时账户",value:"临时账户",key:0}],statusList:[{name:"使用中",value:"使用中",key:1},{name:"草稿",value:"草稿",key:3},{name:"停用",value:"停用",key:-1},{name:"未使用",value:"未使用",key:2}],codeReadOnly:!1,userData:{email:"",entityId:"",entityName:"",gender:"男",mobile:"",nickname:"",officePhone:"",photo:"",status:"使用中",termOfValidity:"",userCode:"",userType:"长期有效"},showDate:!1,PhoneWarn:!1,MobileWarn:!1,EmailWarn:!1,userCodeWarn:!1,colId:"",company:{},companyParams:{target:4}}},mixins:[g.default],components:{Picker:m.default,Popup:v.default,Group:C.default,RPicker:y.default,UploadImage:x.default,PopCompanyList:P.default,RScroll:S.default},methods:{onUpload:function(e){this.userData.photo="/H_roleplay-si/ds/download?width=128&height=128&url="+e.src},userTypeChange:function(e){"临时账户"===e&&(this.showDate=!0)},save:function(){var e=this,t={userCode:"工号",nickname:"姓名",mobile:"手机"};"临时账户"===this.userData.userType&&(t.termOfValidity="账户有效期"),t.entityName="公司";for(var a in this.userData)"string"==typeof this.userData[a]&&this.userData[a].indexOf(" ")>=0&&(this.userData[a]=this.userData[a].replace(/\s/g,""));var n=(0,c.default)({},this.userData),i=this.colId?w.updateUser:w.addUser,r="";if(this.userCodeWarn&&(r="工号已存在"),!r&&(0,d.default)(t).every(function(t){var a=(0,o.default)(t,2),n=a[0],i=a[1];return!!e.userData[n]||(r=i+"不能为空",!1)}),!r&&this.PhoneWarn&&(r="座机格式不正确"),!r&&this.EmailWarn&&(r="邮箱格式不正确"),r)return void this.$vux.alert.show({content:r});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=e.genderList.find(function(e){return e.value===n.gender}),a=e.userTypeList.find(function(e){return e.value===n.userType}),r=e.statusList.find(function(e){return e.value===n.status});n.gender=t.key,n.userType=a.key,n.status=r.key,console.log(n),i(n).then(function(t){e.$HandleLoad.hide();var a=t.success,n=void 0===a||a,r=t.message,s=void 0===r?"提交失败":r;n&&(s=i===w.addUser?"提交成功":"修改成功",e.$emit("change",!0)),e.$vux.alert.show({content:s,onHide:function(){n&&e.$router.go(-1)}})}).catch(function(t){e.$HandleLoad.hide()})}})},getDefaultImg:function(){this.userData.photo=a("Y//y")},selCompany:function(e){this.userData.entityName=e.groupName,this.userData.entityId=e.groupCode},getDate:function(){var e=this;this.$vux.datetime.show({confirmText:"确定",cancelText:"取消",value:this.userData.termOfValidity,onConfirm:function(t){e.userData.termOfValidity=t}})},checkPhone:function(){var e=/^0\d{2,3}-\d{7,8}$/;if(this.userData.officePhone.length>0&&!e.test(this.userData.officePhone))return void(this.PhoneWarn=!0);this.PhoneWarn=!1},checkMobile:function(){var e=/^[1][34578][0-9]{9}$/;if(this.userData.mobile.length>0&&!e.test(this.userData.mobile))return void(this.MobileWarn=!0);this.MobileWarn=!1},checkUserCode:function(){var e=this;(0,w.validateCode)(this.userData.userCode).then(function(t){var a=t.result,n=void 0===a?0:a;e.userCodeWarn=!1,n&&(e.userCodeWarn=!0,e.$vux.alert.show({content:"工号已存在"}))}).catch(function(t){e.userCodeWarn=!0})},checkEmail:function(){var e=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;if(this.userData.email.length>0&&!e.test(this.userData.email))return void(this.EmailWarn=!0);this.EmailWarn=!1},getFormData:function(){var e=this;return(0,w.getUserDetail)(this.colId).then(function(t){var a=t.tableContent,n=void 0===a?[]:a,i=(0,o.default)(n,1),r=i[0],s=void 0===r?{}:r,l=["女","男"],d=["","使用中","未使用","草稿"],u=["临时账户","长期有效"];s.gender=l[s.gender]||"未知",s.status=d[s.status]||"停用",s.userType=u[s.userType],"临时账户"===s.userType&&(e.showDate=!0),e.company={groupCode:s.entityId,groupName:s.entityName},e.userData=(0,c.default)({},e.userData,s),e.$loading.hide()})}},created:function(){var e=this;this.$loading.show();var t=this.$route.query.colId,a=void 0===t?"":t,n=[];a&&(this.colId=a,this.codeReadOnly=!0,n.push(this.getFormData())),r.default.all(n).then(function(){e.$loading.hide()})}}},RFiS:function(e,t){},RGJm:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("3cXf"),o=n(s),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("u28h"),C=n(p),_=a("PzEQ"),y=n(_),b=a("kNGm"),g=(n(b),a("jnZd")),w=n(g),I=(a("0AQX"),a("Z6x5")),x=a("HyXB"),D=a("bKg5"),P=n(D),k=a("vl8n"),S=n(k),T=a("+WR7"),L=n(T),N=a("iikc"),M=n(N);t.default={data:function(){return{listId:"da7f15cc-d2d7-11e8-b8ca-0279b2c6a380",formData:{biId:"",biComment:"",biProcessStatus:""},biReferenceId:"",MobileWarn:!1,idCardWarn:!1,groupList:[],roleList:[]}},components:{Cell:c.default,Group:m.default,XInput:v.default,Datetime:C.default,XTextarea:y.default,PopupPicker:w.default,RPicker:S.default,PopBaseinfo:L.default,PopSalesmanList:M.default},mixins:[P.default],methods:{getAllGroup:function(){var e=this;(0,I.getAllGroup)().then(function(t){var a=[];t.tableContent.forEach(function(e){a.push(e.groupName)}),e.groupList.push(a)})},getAllRoleInfo:function(){var e=this;(0,I.getAllRoleInfo)().then(function(t){var a=[];t.tableContent.forEach(function(e){a.push(e.roleName)}),e.roleList.push(a)})},submitOrder:function(){var e=this,t="",a=[{key:"turnoverName",message:"员工"}];if(t||a.every(function(a){return!!e.formData[a.key]||(t="请选择"+a.message,!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=x.saveAndStartWf,a=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,turnoverDepartMent:e.formData.turnoverDepartMent&&e.formData.turnoverDepartMent[0],turnoverPost:e.formData.turnoverPost&&e.formData.turnoverPost[0]}),n={listId:e.listId,biComment:"",formData:(0,o.default)(a)};e.isResubmit&&(t=x.saveAndCommitTask,n.biReferenceId=e.biReferenceId,n.wfPara=(0,o.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=x.submitAndCalc,delete n.wfPara,delete n.biReferenceId),e.biReferenceId&&(n.biReferenceId=e.biReferenceId),e.saveData(t,n)}})},hasDraftData:function(){var e=this.formData;if(e.profileName||e.idCard)return(0,r.default)({},"YGLZ_DATA",{formData:e})}},created:function(){this.getAllGroup(),this.getAllRoleInfo();var e=sessionStorage.getItem("YGLZ_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,sessionStorage.removeItem("YGLZ_DATA")}}}},RMtk:function(e,t,a){"use strict";function n(e){a("BPjW")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("PN9S");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("TDh+"),o=a.n(s),l=a("Lhfe"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-d4c98b42",null);t.default=c.exports},RPHI:function(e,t){},RPzs:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("KH7x"),r=n(i),s=a("3QQJ"),o=n(s);t.default={name:"TodoItem",props:{item:{type:Object,default:function(){return{}}},name:{type:String,default:""}},components:{Badge:o.default},data:function(){return{}},methods:{getDefaultImg:function(e){var t=a("CYNT");return e&&(e.pic=t),t}},filters:{handleCrt:function(e){if(e){var t=(0,r.default)(e,1),a=t[0],n=void 0===a?{}:a,i=n.duration,s=parseInt(i/3600),o=i-3600*s,l=Math.floor(o/60),d=o-60*l,u=(Math.round(d),void 0);return u=s>0?s+"小时前":0===l?"1分钟前":l+"分钟前",s<24?u:""+n.crtTime.split(" ")[0]}}}}},RROt:function(e,t){},RTBc:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("5YEj");t.default={data:function(){return{toggle:!1,chartList:["饼状","线性","柱状"],option:{},activeIndex:0,chart:null}},methods:{changeTip:function(e){this.activeIndex=e,0===e?this.option={title:{itemGap:20,top:20,x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",bottom:20,left:20,selectedMode:!1,data:["直接访问","邮件营销","联盟广告","视频广告","搜索引擎"]},series:[{name:"访问来源",type:"pie",radius:"50%",center:["40%","50%"],data:[{value:335,name:"直接访问"},{value:310,name:"邮件营销"},{value:234,name:"联盟广告"},{value:135,name:"视频广告"},{value:1548,name:"搜索引擎"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}:1===e?this.option={title:{text:"一天用电量分布",subtext:"纯属虚构",top:5,x:"center"},grid:{height:"10%"},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},xAxis:{type:"category",boundaryGap:!1,data:["00:00","01:15","02:30","03:45","05:00","06:15","07:30","08:45","10:00","11:15","12:30","13:45","15:00","16:15","17:30","18:45","20:00","21:15","22:30","23:45"]},yAxis:{type:"value",splitNumber:10,axisLabel:{margin:2,formatter:"{value} W"},axisPointer:{snap:!0}},visualMap:{show:!1,dimension:0,pieces:[{lte:6,color:"green"},{gt:6,lte:8,color:"red"},{gt:8,lte:14,color:"green"},{gt:14,lte:17,color:"red"},{gt:17,color:"green"}]},series:[{name:"用电量",type:"line",smooth:!0,data:[300,280,250,260,270,300,550,500,400,390,380,390,400,500,600,750,800,700,600,400]}]}:2===e&&(this.option={title:{text:"动态数据",subtext:"纯属虚构"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#283b56"}}},legend:{data:["最新成交价","预购队列"]},dataZoom:{show:!1,start:0,end:100},xAxis:[{type:"category",boundaryGap:!0,data:function(){for(var e=new Date,t=[],a=10;a--;)t.unshift(e.toLocaleTimeString().replace(/^\D*/,"")),e=new Date(e-2e3);return t}()},{type:"category",boundaryGap:!0,data:function(){for(var e=[],t=10;t--;)e.push(10-t-1);return e}()}],yAxis:[{type:"value",scale:!0,name:"价格",max:30,min:0,boundaryGap:[.2,.2]},{type:"value",scale:!0,name:"预购量",max:1200,min:0,boundaryGap:[.2,.2]}],series:[{name:"预购队列",type:"bar",xAxisIndex:1,yAxisIndex:1,data:function(){for(var e=[],t=10;t--;)e.push(Math.round(1e3*Math.random()));return e}()},{name:"最新成交价",type:"line",data:function(){for(var e=[],t=0;t<10;)e.push((10*Math.random()+5).toFixed(1)-0),t++;return e}()}]}),this.showPie()},showPie:function(){this.chart&&this.chart.clear(),this.chart=n.init(document.getElementById("main")),this.chart.setOption(this.option)}},mounted:function(){this.option={title:{},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{left:0,bottom:0,selectedMode:!1,data:["直接访问","邮件营销","联盟广告","视频广告","搜索引擎","其他"]},series:[{name:"访问来源",type:"pie",radius:"60%",labelLine:{},center:["50%","50%"],data:[{value:335,name:"直接访问"},{value:310,name:"邮件营销"},{value:234,name:"联盟广告"},{value:135,name:"视频广告"},{value:1548,name:"搜索引擎"},{value:100,name:"其他"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},this.showPie()}}},RXIz:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("+62G"),o=n(s),l=a("7g+Q"),d=n(l),u=a("z5TY"),c=n(u),f=a("HXPS"),m=n(f),h=a("d5Kw"),v=n(h),p=a("kNGm"),C=n(p),_=a("1KNX"),y=n(_),b=a("I8ug");t.default={name:"ChangeLog",props:{handle:{type:Boolean,default:!1}},data:function(){return{latestLog:{},changeLogList:[],listId:"a4897429-f4f2-44a4-ade7-2fe8dc67c3cf",popupShow:!1,page:1,limit:10,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},directives:{TransferDom:o.default},components:{Popup:d.default,Group:c.default,Icon:m.default,XButton:v.default,RScroll:y.default},filters:{handerTime:function(e){return(0,C.default)(e,"YYYY-MM-DD")}},methods:{getChangeList:function(){var e=this;return(0,b.getChangeLog)({listId:this.listId,limit:this.limit,page:this.page}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,s=void 0===i?[]:i;1===e.page&&(e.latestLog=s[0]),e.hasNext=n>(e.page-1)*e.limit+s.length,e.changeLogList=1===e.page?s:[].concat((0,r.default)(e.changeLogList),(0,r.default)(s)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},onPullingUp:function(){this.page++,this.getChangeList()},closePop:function(){this.popupShow=!1},onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},EditLog:function(){this.$router.push({path:"/appDetail/"+this.listId+"/addLog"})}},created:function(){var e=this.$route.params.listId;e&&(this.listId=e,this.getChangeList())}}},RZF6:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("kNGm"),r=(n(i),a("0AQX")),s=a("+VRO"),o=n(s),l=a("AupE"),d=n(l),u=a("BUFe"),c=n(u),f=a("bFc7"),m=n(f),h=a("3NX5"),v=n(h);t.default={data:function(){return{orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},uploadStyle:{width:"100%",padding:"0.06rem 0.1rem"}}},mixins:[o.default],components:{workFlow:d.default,RAction:c.default,contactPart:m.default,MatterList:v.default},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,r.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=o,e.orderInfo=r,e.workFlowInfoHandler()})},goEdit:function(){var e=this.$route.params,t=e.fileId,a=e.listId,n=this.$route.query.name;this.$router.push({path:"/fillform/"+t+"/"+a,query:{name:n,transCode:this.transCode}})}}}},RbKA:function(e,t,a){"use strict";function n(e){a("GN8k")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("NvkL");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("STJc"),o=a.n(s),l=a("wq9Q"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-1a9e5f5c",null);t.default=c.exports},RbVM:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("a3Yh"),o=n(s),l=a("3cXf"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("7g+Q"),C=n(p),_=a("PzEQ"),y=n(_),b=a("jnZd"),g=n(b),w=a("u28h"),I=n(w),x=a("kNGm"),D=n(x),P=a("0AQX"),k=a("HyXB"),S=(a("jLp1"),a("bKg5")),T=n(S),L=a("55ug"),N=n(L),M=a("wuIh"),A=n(M),O=a("vl8n"),R=n(O),j=a("+WR7"),$=n(j),B=a("zWMP"),E=a("Qg39");t.default={mixins:[T.default],components:{Cell:c.default,Group:m.default,Popup:C.default,XInput:v.default,XTextarea:y.default,PopupPicker:g.default,RPicker:R.default,PopBaseinfo:$.default,PopDealerList:N.default,PopMoneyOrderList:A.default,Datetime:I.default},data:function(){return{listId:"bb9ce973-2f62-4707-a54c-7e8605dc99d6",biReferenceId:"",selectedCost:[],costIndex:0,transCode:"",formData:{biComment:""},dealerInfo:{},showOrder:!1,orderList:[]}},computed:{thenTotalAmntBal:function(){var e=0;return this.orderList.forEach(function(t){t.tdAmount&&(e=(0,B.accAdd)(e,t.tdAmount))}),(0,E.toFixed)(e)}},methods:{submitOrder:function(){var e=this,t="",a=[],n=[{key:"draftNumber",message:"请选择协议号"},{key:"draftType",message:"请选择类型"},{key:"accepter",message:"请选择承兑人"},{key:"tdAmount",message:"请输入金额"},{key:"draftDate",message:"请选择出票日"},{key:"draftDueDate",message:"请选择到期日"},{key:"draftSellDate",message:"请选择出让日期"}];if(this.dealerInfo.dealerCode||(t="请选择往来"),t||this.orderList.length||(t="请选择汇票明细"),t||this.orderList.every(function(e){return n.every(function(a){return e[a.key]||0===e[a.key]||(t=a.message),!t}),a.push({tdId:e.tdId||"",draftNumber:e.draftNumber,draftType:e.draftType,accepter:e.accepter,tdAmount:e.tdAmount,draftDate:e.draftDate,draftDueDate:e.draftDueDate,draftSellDate:e.draftSellDate,comment:e.comment}),!t}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=k.saveAndStartWf,n=(0,o.default)({},e.processCode,{businessKey:"SAPB",createdBy:(0,d.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.formData.biComment,formData:(0,d.default)((0,r.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{dealerName_dealerDebit:e.dealerInfo.nickname,dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,thenAmntBal:e.dealerInfo.amntBal,thenTotalAmntBal:e.thenTotalAmntBal,dataSet:a}})),wfPara:(0,d.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=k.saveAndCommitTask),e.processCode.length||(t=k.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.attachment,n=void 0===a?[]:a,i=t.listId,s=void 0===i?"":i,o=(t.biComment,t.biReferenceId),l=void 0===o?"":o,d=t.formData,u=void 0===d?{}:d;e.attachment=n,e.listId=s,e.biReferenceId=l,e.handlerDefault={handler:u.handler,handlerName:u.handlerName,handlerUnit:u.handlerUnit,handlerUnitName:u.handlerUnitName,handlerRole:u.handlerRole,handlerRoleName:u.handlerRoleName},e.formData=(0,r.default)({},e.formData,e.handlerDefault,{biComment:u.biComment,biId:u.biId,biProcessStatus:u.biProcessStatus,creator:u.creator,modifer:u.modifer});var c=u.order,f=void 0===c?{}:c,m=f.dataSet,h=void 0===m?[]:m;e.dealerInfo={nickname:f.dealerName_dealerDebit,dealerCode:f.dealerDebit,dealerLabelName:f.drDealerLabel,amntBal:f.thenAmntBal},e.orderList=h,e.$loading.hide()})},hasDraftData:function(){return!!this.dealerInfo.dealerCode&&(0,o.default)({},"CRCDHP_DATA",{formData:this.formData,dealerInfo:this.dealerInfo,orderList:this.orderList})},getRelationData:function(){},selDealer:function(e){this.dealerInfo=(0,r.default)({},e)},selOrder:function(e){e.forEach(function(e){e.hasOrigin=!0,e.originAmt=e.tdAmount,e.draftDate=(0,D.default)(e.draftDate,"YYYY-MM-DD"),e.draftDueDate=(0,D.default)(e.draftDueDate,"YYYY-MM-DD")}),this.orderList=e},addOrder:function(){this.showOrder=!0},checkAmt:function(e,t){var a=e.hasOrigin,n=void 0!==a&&a,i=e.originAmt,r=void 0===i?0:i,s=e.tdAmount,o=void 0===s?0:s;n&&o>r&&(o=r),e.tdAmount=Math.abs((0,E.toFixed)(o))}},created:function(){var e=sessionStorage.getItem("CRCDHP_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.orderList=t.orderList,sessionStorage.removeItem("CRCDHP_DATA")}}}},Rc0U:function(e,t){},Rg2x:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("BGNQ"),o=n(s),l=a("z5TY"),d=n(l),u=a("jLp1"),c=a("+VRO"),f=n(c);t.default={data:function(){return{projectPlan:{},comment:{},projectApproval:{}}},filters:{timeSplit:function(e){return e?e.split(" ")[0]:""}},mixins:[f.default],components:{Group:d.default,Cell:o.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u.findProjectPlan)(t).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=t.attachment,s=void 0===i?[]:i;e.projectPlan=n.projectPlan,e.comment=n.comment,e.attachment=s,e.projectApproval=n.projectApproval,e.orderInfo=(0,r.default)({},n.baseinfo,{biStatus:"已生效"})})}},created:function(){}}},Rk6p:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"childPage"},[a("r-scroll",{staticClass:"content"},[a("div",{staticClass:"mater_baseinfo vux-1px-b"},[a("div",{staticClass:"mater_property"},[a("div",{staticClass:"each_property vux-1px-b"},[a("label",{staticClass:"required"},[e._v("工号:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.userData.userCode,expression:"userData.userCode",modifiers:{trim:!0}}],staticClass:"property_val",class:{readonly:e.codeReadOnly},attrs:{type:"text",readonly:e.codeReadOnly},domProps:{value:e.userData.userCode},on:{blur:[e.checkUserCode,function(t){e.$forceUpdate()}],input:function(t){t.target.composing||e.$set(e.userData,"userCode",t.target.value.trim())}}})]),e._v(" "),a("div",{staticClass:"each_property"},[a("label",{staticClass:"required"},[e._v("姓名:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.userData.nickname,expression:"userData.nickname",modifiers:{trim:!0}}],staticClass:"property_val",attrs:{type:"text"},domProps:{value:e.userData.nickname},on:{input:function(t){t.target.composing||e.$set(e.userData,"nickname",t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})])]),e._v(" "),a("upload-image",{attrs:{src:e.userData.photo},on:{"on-upload":e.onUpload,"on-error":e.getDefaultImg}})],1),e._v(" "),a("r-picker",{attrs:{title:"性别:",data:e.genderList,value:e.userData.gender},model:{value:e.userData.gender,callback:function(t){e.$set(e.userData,"gender",t)},expression:"userData.gender"}}),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",{staticClass:"required"},[e._v("手机:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.userData.mobile,expression:"userData.mobile",modifiers:{trim:!0}}],staticClass:"property_val",attrs:{type:"number"},domProps:{value:e.userData.mobile},on:{blur:[e.checkMobile,function(t){e.$forceUpdate()}],input:function(t){t.target.composing||e.$set(e.userData,"mobile",t.target.value.trim())}}})]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("座机:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.userData.officePhone,expression:"userData.officePhone",modifiers:{trim:!0}}],staticClass:"property_val",attrs:{type:"text"},domProps:{value:e.userData.officePhone},on:{blur:[e.checkPhone,function(t){e.$forceUpdate()}],input:function(t){t.target.composing||e.$set(e.userData,"officePhone",t.target.value.trim())}}})]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("邮箱:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.userData.email,expression:"userData.email",modifiers:{trim:!0}}],staticClass:"property_val",attrs:{type:"text"},domProps:{value:e.userData.email},on:{blur:[e.checkEmail,function(t){e.$forceUpdate()}],input:function(t){t.target.composing||e.$set(e.userData,"email",t.target.value.trim())}}})]),e._v(" "),a("r-picker",{attrs:{title:"类型:",data:e.userTypeList,value:e.userData.userType},on:{"on-change":e.userTypeChange},model:{value:e.userData.userType,callback:function(t){e.$set(e.userData,"userType",t)},expression:"userData.userType"}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showDate,expression:"showDate"}],staticClass:"each_property vux-1px-b",on:{click:e.getDate}},[a("label",{staticClass:"required"},[e._v("账户有效期:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.userData.termOfValidity))])]),e._v(" "),a("r-picker",{attrs:{title:"状态:",data:e.statusList,value:e.userData.status},model:{value:e.userData.status,callback:function(t){e.$set(e.userData,"status",t)},expression:"userData.status"}}),e._v(" "),a("pop-company-list",{attrs:{"default-value":e.company,params:e.companyParams},on:{"sel-item":e.selCompany}})],1),e._v(" "),a("div",{staticClass:"btn vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"cfm_btn",on:{click:e.save}},[e._v(e._s(this.colId?"保存":"提交"))])])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},RkIG:function(e,t){},Rozl:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("+62G"),v=n(h),p=a("6q39"),C=n(p),_=a("vS5q"),y=a("1KNX"),b=n(y),g=a("7biW"),w=n(g);t.default={name:"PopWarehouseList",props:{title:{type:String,default:"仓库列表"},defaultValue:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1},isRequired:{type:Boolean,default:!1}},directives:{TransferDom:v.default},components:{Icon:c.default,Popup:m.default,RScroll:b.default,DSearch:w.default,LoadMore:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},showAddWarehouse:!1}},computed:{tip:function(){var e="加载中";return this.hasNext||(e="暂无数据"),e},noAddress:function(){var e=this.selItems,t=e.warehouseProvince,a=void 0===t?"":t,n=e.warehouseCity,i=void 0===n?"":n,r=e.warehouseDistrict,s=void 0===r?"":r,o=e.warehouseAddress,l=void 0===o?"":o;return!(a||i||s||l)}},watch:{defaultValue:function(e){this.setDefaultValue()}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1,this.$emit("on-hide")},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this.getList()},showSelIcon:function(e){return this.selItems.warehouseCode===e.warehouseCode},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.$emit("sel-item",this.selItems)},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"warehouseName"}])),(0,_.getWarehouse)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.showAddWarehouse=e.srhInpTx&&0===r.length,e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,d.default)(e.listData),(0,d.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.selItems=this.defaultValue?(0,r.default)({},this.defaultValue):{}},warehouseClick:function(){this.disabled||(this.$emit("on-show"),this.showPop=!this.showPop)},addWarehouse:function(){this.$router.push({path:"/warehouse/edit_warehouse",query:{add:1}})}},created:function(){this.setDefaultValue(),this.disabled||this.getList()}}},RpJn:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("IHPB"),o=n(s),l=a("3cXf"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("+62G"),v=n(h),p=a("6q39"),C=n(p),_=a("HyXB"),y=a("1KNX"),b=n(y),g=a("7biW"),w=n(g);t.default={name:"PopManagerList",props:{defaultValue:{type:Object,default:function(){return{}}},show:{type:Boolean,default:!1}},directives:{TransferDom:v.default},components:{Icon:c.default,Popup:m.default,RScroll:b.default,DSearch:w.default,LoadMore:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},computed:{tip:function(){var e="加载中";return this.hasNext||(e="暂无数据"),e}},watch:{show:function(e){this.showPop=e},defaultValue:function(e){this.setDefaultValue()}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1,this.$emit("input",!1)},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this.getList()},showSelIcon:function(e){return this.selItems.dealerName===e.dealerName},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.$emit("sel-item",(0,d.default)(this.selItems))},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:"dealerName"}])),(0,_.getObjDealerByLabelName)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,dealerLabelName:"员工",filter:(0,d.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,o.default)(e.listData),(0,o.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.selItems=this.defaultValue?(0,r.default)({},this.defaultValue):{}}},created:function(){this.setDefaultValue(),this.getList()}}},RuXi:function(e,t){},Rvwn:function(e,t){},Rw15:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("bFc7"),p=n(v),C=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",contactInfo:{}}},mixins:[u.default],components:{workFlow:h.default,RAction:f.default,contactPart:p.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=!0,i=!1,s=void 0;try{for(var l,d=(0,r.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;e.count=(0,C.accAdd)(e.count,u.tdAmount)}}catch(e){i=!0,s=e}finally{try{!n&&d.return&&d.return()}finally{if(i)throw s}}t.formData.validUntil=(0,o.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData;var c=e.orderInfo.order;e.contactInfo={creatorName:c.dealerDebitContactPersonName,dealerName:c.dealerName_dealerDebit,dealerMobilePhone:e.orderInfo.dealerDebitContactInformation,dealerContactPersonName:e.orderInfo.dealerDebitContactPersonName,dealerCode:c.dealerDebit,dealerLabelName:c.dealerName_dealerDebit,province:c.province_dealerDebit,city:c.city_dealerDebit,county:c.county_dealerDebit,address:c.address_dealerDebit},e.workFlowInfoHandler()})}}}},Rw3b:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper gdrwqd-detail-container"},[e.orderInfo?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"warehouse_part"},[a("warehouse-content",{attrs:{warehouse:e.warehouse}})],1),e._v(" "),a("div",{staticClass:"form_content"},[e._m(0),e._v(" "),a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"工序名称",cellContent:e.workInfo.procedureName_proPointCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"工序编码",cellContent:e.workInfo.proPointCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"工序待验收",cellContent:""+e.workInfo.thenQtyStock}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"工序待启动",cellContent:""+e.workInfo.thenQtyBal}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"启动数量",cellContent:""+e.workInfo.tdQty}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"工人",cellContent:e.workInfo.dealerName_dealerDebit}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"设施",cellContent:e.workInfo.facilityName_facilityObjCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"物料名称",cellContent:e.workInfo.inventoryName_transObjCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"物料编码",cellContent:e.workInfo.transObjCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.bomList.length,expression:"bomList.length"}],staticClass:"bom_list"},[a("bom-list",{attrs:{boms:e.bomList},scopedSlots:e._u([{key:"specification",fn:function(t){var n=t.bom;return[a("div",{staticClass:"content-unit"},[a("span",[e._v("型号规格: "+e._s(n.specification_outPutMatCode))])])]}},{key:"number",fn:function(t){var n=t.bom;return[a("div",{staticClass:"number-part"},[a("span",{staticClass:"main-number"},[e._v("数量: "+e._s(n.tdQty)+e._s(n.measureUnit_outPutMatCode))]),e._v(" "),a("span",{staticClass:"number-unit"},[e._v("bom数量: "+e._s(n.bomQty))])])]}}])})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title"},[a("span",{staticClass:"iconfont icon-mingxi1"}),e._v(" "),a("span",[e._v("工单信息")])])}],r={render:n,staticRenderFns:i};t.a=r},Rwmr:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[Object.keys(e.orderList).length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v("物料列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n){return a("div",{key:n,staticClass:"each_mater"},[t.length?a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v("物料需求计划号")]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]):e._e(),e._v(" "),e._l(t,function(t,i){return a("div",{key:i,class:{mater_delete:e.matterModifyClass}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass},on:{"on-modify":function(a){e.modifyMatter(t,i,n)}},nativeOn:{click:function(a){e.delClick(i,t)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_more"},[a("div",[a("span",{staticClass:"unit"},[e._v("单位: "+e._s(n.measureUnit))]),e._v(" "),a("span",{staticClass:"qty"},[e._v("全部需求: "+e._s(n.allQty))]),e._v(" "),a("span",{staticClass:"qty"},[e._v("待申请: "+e._s(n.qtyBalance))]),e._v(" "),a("span",{staticClass:"qty"},[e._v("已申请: "+e._s(n.qtyed))])]),e._v(" "),a("div",[a("span",{directives:[{name:"show",rawName:"v-show",value:n.promDeliTime,expression:"item.promDeliTime"}]},[e._v("计划需求日期: "+e._s(n.promDeliTime))])])]),e._v(" "),n.price&&n.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price)+"\n                      ")]),e._v(" "),a("div",[a("r-number",{attrs:{num:n.tdQty,checkAmt:e.checkAmt,max:n.qtyBalance},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",t)},expression:"item.tdQty"}})],1)]):e._e()]}},{key:"editPart",fn:function(t){var r=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r.price&&r.tdQty&&!e.matterModifyClass,expression:"(item.price && item.tdQty) &&!matterModifyClass"}],staticClass:"edit-part vux-1px-l",on:{click:function(t){e.modifyMatter(r,i,n)}}},[a("span",{staticClass:"iconfont icon-bianji1"})])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(i,t)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)})],2)}))]:[a("div",{on:{click:function(t){e.showMaterielPop=!e.showMaterielPop}}},[a("div",{staticClass:"title"},[e._v("物料列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择物料")]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),e.matterList.length?a("span",{staticClass:"add_more",on:{click:e.addMatter}},[e._v("新增更多物料")]):e._e()]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showMaterielPop,"default-value":e.matterList,"get-list-method":"getPurchaseInNeeds","filter-list":e.filterList},on:{"sel-matter":e.selMatter},scopedSlots:e._u([{key:"titleName",fn:function(t){return[a("span",{staticClass:"order-title"},[e._v("物料需求计划号")])]}},{key:"attribute",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_classify"},[a("span",[e._v("单位: "+e._s(n.measureUnit))]),e._v(" "),a("span",[e._v("物料类型: "+e._s(n.invType))])])]}},{key:"storage",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_material"},[a("div",[a("span",[e._v("全部需求: "+e._s(n.allQty))]),e._v(" "),a("span",[e._v("已申请: "+e._s(n.qtyed))]),e._v(" "),a("span",[e._v("待申请: "+e._s(n.qtyBalance))])]),e._v(" "),a("div",[a("span",[e._v("合同价格: ￥"+e._s(n.quotedPrice||0))])])])]}}]),model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}})],2),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,"is-show-amount":!1},on:{"sel-confirm":e.selConfirm},scopedSlots:e._u([{key:"qtyBal",fn:function(t){var n=t.modifyMatter;return[a("div",[a("span",[e._v("全部需求: "+e._s(n.allQty))]),e._v(" "),a("span",[e._v("已申请: "+e._s(n.qtyed))])]),e._v(" "),a("p",[e._v("待申请: "+e._s(n.qtyBalance))])]}},{key:"modify",fn:function(t){var n=t.modifyMatter;return[a("x-input",{attrs:{type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",e._n(t))},expression:"modifyMatter.tdQty"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("本次申请\n              ")])])],2),e._v(" "),a("x-input",{attrs:{title:"估计价格",type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.price,callback:function(t){e.$set(n,"price",e._n(t))},expression:"modifyMatter.price"}}),e._v(" "),a("datetime",{attrs:{title:"计划需求日期",placeholder:"请选择"},model:{value:n.promDeliTime,callback:function(t){e.$set(n,"promDeliTime",t)},expression:"modifyMatter.promDeliTime"}}),e._v(" "),a("cell",{attrs:{title:"估计金额",value:"￥"+n.noTaxAmount}})]}}]),model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-circle-outline 'outline' v-show=selItems.length !== matterList.length",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num"},[a("span",{staticClass:"total_price"},[a("span",{staticStyle:{fontSize:".14rem"}},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.tdAmount,3))+"\n      ")]),e._v(" "),a("span",{staticClass:"total-num"},[e._v("[数量: "+e._s(e.totalNum)+"]")])]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},RxFs:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("kNGm"),r=(n(i),a("0AQX")),s=a("+VRO"),o=n(s);t.default={data:function(){return{userData:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},uploadStyle:{width:"100%",padding:"0.06rem 0.1rem"}}},mixins:[o.default],methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,r.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=o,e.userData=r,e.workFlowInfoHandler()})},goEdit:function(){var e=this.$route.params,t=e.fileId,a=e.listId,n=this.$route.query.name;this.$router.push({path:"/fillform/"+t+"/"+a,query:{name:n,transCode:this.transCode}})}}}},Rxgt:function(e,t){},"Rxk/":function(e,t,a){"use strict";function n(e){a("leBF")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("iMG+");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("SyAi"),o=a.n(s),l=a("vD/e"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-2bfab387",null);t.default=c.exports},RzhK:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("rVsN"),o=n(s),l=a("J0Oq"),d=n(l),u=a("4YfN"),c=n(u),f=a("Q+Ik"),m=n(f),h=a("KH7x"),v=n(h),p=a("+62G"),C=n(p),_=a("7g+Q"),y=n(_),b=a("z5TY"),g=n(b),w=a("SAzG"),I=n(w),x=a("jnZd"),D=n(x),P=a("BGNQ"),k=n(P),S=a("vl8n"),T=n(S),L=a("5gKc"),N=n(L),M=a("1KNX"),A=n(M),O=a("RbKA"),R=n(O),j=a("w5TH"),$=n(j),B=a("y8YJ"),E=n(B),F=a("PKHo"),U=n(F),q=a("I3vJ"),Q=a("HyXB"),H=a("Qg39");t.default={data:function(){return{listId:"78a798f8-0f3a-4646-aa8b-d5bb1fada28c",biReferenceId:"",MatPic:"",matNatureList:[],matBigList:[],matSmlList:[],measureList:[],statusList:[],picShow:!1,baseinfo:{handler:"",handlerName:"",handlerArea:"",handlerAreaName:"",handlerUnit:"",handlerUnitName:"",handlerRole:"",handlerRoleName:"",activeTime:"",comment:""},inventory:{inventoryCode:"",inventoryName:"",processing:"",inventoryType:"",inventorySubclass:"",measureUnit:"",specification:"",material:"",inventoryColor:"",keepingDays:1,safeStock:0,nearKeepingDays:1,inventoryStatus:"",inventoryPic:"",comment:"",technicsCode:"",leadTime:"",procedureName:"",procedureCode:"",moq:""},invMoreUnit:[],invNetWeight:[],transCode:"",hasDefault:!1,imgFileObj:{},imgFile:null,codeReadOnly:!1,submitSuccess:!1,processing:[],inventoryType:[],inventorySubclass:[],measureUnit:[],inventoryStatus:"",inventoryTypeDisabled:!1,inventorySubclassDisabled:!1,scrollOptions:{click:!0},invDealerRel:[],invCustomerRel:[],currentDealerIndex:0,currentCustomerIndex:0}},computed:{nearKeepingDays:function(){var e=this.inventory.keepingDays;return e||0===e?e>=365?45:e>=183?20:e>=90?15:e>=30?10:e>=10?2:1:0},leadTimeTitle:function(){var e=this.inventory.processing,t=["原料","商品"],a=["半成品","成品","模具"];return t.includes(e)?"采购提前期":a.includes(e)?"加工提前期":""}},directives:{TransferDom:C.default},mixins:[U.default],components:{Popup:y.default,Group:g.default,RPicker:T.default,UploadImage:N.default,XInput:I.default,PopupPicker:D.default,RScroll:A.default,Cell:k.default,PopTechnicsList:R.default,PopProcedureList:$.default,PopDealerList:E.default},methods:{onUpload:function(e){console.log(e),this.inventory.inventoryPic=e.src},natureChange:function(e){var t=this;this.hasDefault||this.getBig().then(function(e){var a=(0,v.default)(e,1),n=a[0],i=void 0===n?{}:n;t.inventory.inventoryType=i.name})},bigChange:function(e){var t=this;this.hasDefault||this.getSml(e).then(function(e){var a=(0,v.default)(e,1),n=a[0],i=void 0===n?{}:n;t.inventory.inventorySubclass=i.name})},getStatus:function(){var e=this;return(0,Q.getDictByType)("objStatus").then(function(t){var a=t.tableContent;a&&a.forEach(function(e){e.originValue=e.name,e.value=e.name}),e.statusList=a})},checkAmt:function(e){var t=e.invSubUnitMulti,a=e.invCompQty;t?e.invSubUnitMulti=Math.abs((0,H.toFixed)(t)):a&&(e.invCompQty=Math.abs((0,H.toFixed)(a)))},save:function(){var e=this,t={inventoryCode:"物料编码",inventoryName:"物料名称",processing:"加工属性",measureUnit:"单位",inventoryStatus:"物料状态"},a=this.invDealerRel.length&&"成品"===this.inventory.processing,n=this.invCustomerRel.length&&"原料"===this.inventory.processing;for(var i in this.inventory)"string"==typeof this.inventory[i]&&this.inventory[i].indexOf(" ")>=0&&(this.inventory[i]=this.inventory[i].replace(/\s/g,""));switch(this.inventoryStatus){case"使用中":this.inventory.inventoryStatus=1;break;case"未使用":this.inventory.inventoryStatus=2;break;case"草稿":this.inventory.inventoryStatus=0;break;case"停用":this.inventory.inventoryStatus=-1}this.inventory.status&&delete this.inventory.status;var r=q.save,s="";if((0,m.default)(t).every(function(t){var a=(0,v.default)(t,2),n=a[0],i=a[1];return!!e.inventory[n]||(s=i+"不能为空",!1)}),!s&&this.invMoreUnit.length){var o=[{key:"invSubUnitName",message:"辅计单位"},{key:"invSubUnitMulti",message:"单位倍数"}];s=this.validateData(this.invMoreUnit,o)}if(!s&&this.invNetWeight.length){var l=[{key:"invCompName",message:"净含量名称"},{key:"invCompUnit",message:"净含量单位"},{key:"invCompQty",message:"净含量数量"}];s=this.validateData(this.invNetWeight,l)}if(!s&&a){var d=[{key:"productDealerName",message:"客户名称"},{key:"clientInventoryCode",message:"客户成品编码"}];s=this.validateData(this.invDealerRel,d)}if(!s&&n){var u=[{key:"productDealerName",message:"供应商名称"},{key:"productDealerCode",message:"供应商编码"}];s=this.validateData(this.invCustomerRel,u)}if(s)return void this.$vux.alert.show({content:s});var f={baseinfo:this.baseinfo,inventory:(0,c.default)({},this.inventory,{nearKeepingDays:this.nearKeepingDays,leadTime:this.leadTimeTitle?this.inventory.leadTime:""})};this.invMoreUnit.length&&(f.invMoreUnit=this.invMoreUnit),this.invNetWeight.length&&(f.invNetWeight=this.invNetWeight),a&&(f.invDealerRel=this.invDealerRel),n&&(f.invCustomerRel=this.invCustomerRel);var h={listId:this.listId,formData:f};this.transCode&&(r=q.update),console.log(h),this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$loading.show(),r(h).then(function(t){e.$loading.hide();var a=t.success,n=void 0!==a&&a,i=t.message,s=void 0===i?"提交失败":i;n&&(s=r===q.update?"修改成功":"提交成功",e.submitSuccess=!0),e.$vux.alert.show({content:s,onHide:function(){n&&e.$router.go(-1)}})}).catch(function(t){e.$loading.hide()})}})},findData:function(){var e=this;return(0,q.findData)(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=t.attachment,r=void 0===i?[]:i,s=n.baseinfo,o=void 0===s?{}:s,l=n.inventory,d=void 0===l?{}:l,u=n.invMoreUnit,f=void 0===u?[]:u,m=n.invNetWeight,h=void 0===m?[]:m;switch(e.hasDefault=!0,d.inventoryStatus){case 1:e.inventoryStatus="使用中";break;case 2:e.inventoryStatus="未使用";break;case 0:e.inventoryStatus="草稿";break;case-1:e.inventoryStatus="停用"}var p=n.invDealerRel||[],C=n.invCustomerRel||[];p&&p.forEach(function(e){e.dealerName=e.productDealerName}),C&&C.forEach(function(e){e.dealerName=e.productDealerName}),e.baseinfo=(0,c.default)({},e.baseinfo,o),e.inventory=(0,c.default)({},e.inventory,d),e.invMoreUnit=f,e.invNetWeight=h,e.invDealerRel=p,e.invCustomerRel=C,e.inventory.inventoryPic&&(e.picShow=!0,e.MatPic="/H_roleplay-si/ds/download?url="+e.inventory.inventoryPic+"&width=400&height=400");var _=r.filter(function(t){return t.attacthment===e.inventory.inventoryPic}),y=(0,v.default)(_,1),b=y[0],g=void 0===b?{}:b;e.imgFileObj=g})},getNature:function(){var e=this;return(0,Q.getDictByType)("processing").then(function(t){var a=t.tableContent;return a&&a.forEach(function(e){e.originValue=e.value,e.value=e.name}),e.matNatureList=a,a}).catch(function(t){e.matNatureList=[],e.inventory.processing=""})},getBig:function(){var e=this,t=this.matNatureList.filter(function(t){return t.name===e.inventory.processing}),a=(0,v.default)(t,1),n=a[0],i=void 0===n?{}:n;return(0,Q.getDictByValue)(i.originValue).then(function(t){var a=t.tableContent;return a&&a.forEach(function(e){e.originValue=e.value,e.value=e.name}),e.inventoryTypeDisabled=!a.length,e.matBigList=a,a}).catch(function(t){e.matBigList=[],e.inventory.inventoryType=""})},getSml:function(){var e=this,t=this.matBigList.filter(function(t){return t.name===e.inventory.inventoryType}),a=(0,v.default)(t,1),n=a[0],i=void 0===n?{}:n;return(0,Q.getDictByValue)(i.originValue).then(function(t){var a=t.tableContent;return a&&a.forEach(function(e){e.originValue=e.value,e.value=e.name}),e.inventorySubclassDisabled=!a.length,e.matSmlList=a,a}).catch(function(t){e.matSmlList=[],e.inventory.inventorySubclass=""})},getMeasure:function(){var e=this;return(0,Q.getDictByType)("measureUnit").then(function(t){var a=t.tableContent;return a&&a.forEach(function(e){e.originValue=e.value,e.value=e.name}),e.measureList=a,a}).catch(function(t){e.measureList=[],e.inventory.measureUnit=""})},getBaseInfoData:function(){var e=this;return(0,Q.getBaseInfoDataBase)().then(function(t){e.baseinfo=(0,c.default)({},e.baseinfo,t,{activeTime:e.changeDate(new Date,!0)})})},getDefaultImg:function(){this.MatPic=a("Y//y")},addMoreUnit:function(){this.invMoreUnit.push({invSubUnitName:"",invSubUnitMulti:"",comment:""})},deleteMoreUnit:function(){this.invMoreUnit.pop()},addNetWeight:function(){this.invNetWeight.push({invCompName:"",invCompUnit:"",invCompQty:"",comment:""})},deleteNetWeight:function(){this.invNetWeight.pop()},addDealerRel:function(){this.invDealerRel.push({productDealerName:"",productDealerCode:"",productDealerType:"",clientInventoryCode:"",clientInventoryName:"",productComment:""})},deleteDealerRel:function(){this.invDealerRel.pop()},addCustomerRel:function(){this.invCustomerRel.push({productDealerName:"",productDealerCode:"",productDealerType:"",productComment:""})},deleteCustomerRel:function(){this.invCustomerRel.pop()},validateData:function(e,t){var a="";return e.every(function(e){return t.every(function(t){return!!e[t.key]||(a=t.message+"不能为空",!1)}),!!a}),a},selTechnics:function(e){this.inventory=(0,c.default)({},this.inventory,{technicsName:e.technicsName,technicsCode:e.technicsCode})},selProcedure:function(e){this.inventory=(0,c.default)({},this.inventory,{procedureName:e.procedureName,procedureCode:e.procedureCode})},selDealer:function(e){var t=this.currentDealerIndex;this.$set(this.invDealerRel,t,(0,c.default)({},this.invDealerRel[t],{dealerName:e.dealerName,productDealerName:e.dealerName,productDealerCode:e.dealerCode,productDealerType:e.dealerLabelName}))},selCustomer:function(e){var t=this.currentCustomerIndex;console.log(this.invCustomerRel[t]),this.$set(this.invCustomerRel,t,(0,c.default)({},this.invCustomerRel[t],{dealerName:e.dealerName,productDealerName:e.dealerName,productDealerCode:e.dealerCode,productDealerType:e.dealerLabelName}))},dealerClick:function(e){this.currentDealerIndex=e},customerClick:function(e){this.currentCustomerIndex=e}},beforeRouteLeave:function(e,t,a){var n=e.path;this.submitSuccess&&"/materlist"===n&&(e.meta.reload=!0),a()},created:function(){var e=this;this.$loading.show();var t=this.$route.query.transCode,a=void 0===t?"":t,n=[];if(this.transCode=a,a)return void(0,d.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.findData();case 2:return t.next=4,e.getNature();case 4:return t.next=6,e.getBig();case 6:n.push(e.getSml()),n.push(e.getMeasure()),n.push(e.getStatus()),e.hasDefault=!1,e.codeReadOnly=!0,o.default.all(n).then(function(){e.$loading.hide()});case 12:case"end":return t.stop()}},t,e)}))();n.push(this.getNature().then(function(t){var a=(0,v.default)(t,1),n=a[0],i=void 0===n?{}:n;e.inventory.processing=e.$route.query.matterType?e.$route.query.matterType:i.name})),n.push(this.getMeasure()),n.push(this.getBaseInfoData()),n.push(this.getStatus()),o.default.all(n).then(function(){e.$loading.hide()})},beforeRouteEnter:function(e,t,a){e.meta.title="新增物料",e.query.transCode&&(e.meta.title="编辑物料"),a()}}},"S4+1":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={props:{BasicApps:{type:Array,require:!0},goBasic:{type:Function,require:!0},goAppDetail:{type:Function,require:!0}}}},S4EA:function(e,t){},SAzG:function(e,t,a){"use strict";function n(e){a("XljL")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("l8j0");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Wnp4"),o=a.n(s),l=a("lzEG"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},"SC/c":function(e,t){},SDtT:function(e,t,a){"use strict";function n(e){a("IT6o")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("0V3y");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("u1IZ"),o=a.n(s),l=a("NIrh"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-e49ea218",null);t.default=c.exports},SDx5:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("AupE"),f=n(c),m=a("BUFe"),h=n(m),v=a("bFc7"),p=n(v),C=a("3NX5"),_=n(C),y=a("zlAJ"),b=n(y);t.default={data:function(){return{orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},attachment:[]}},mixins:[u.default],components:{workFlow:f.default,RAction:h.default,contactPart:p.default,MatterList:_.default,UploadFile:b.default},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u=s.order,c=u.dataSet,f=!0,m=!1,h=void 0;try{for(var v,p=(0,r.default)(c);!(f=(v=p.next()).done);f=!0){var C=v.value;C.inventoryPic=C.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+C.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){m=!0,h=e}finally{try{!f&&p.return&&p.return()}finally{if(m)throw h}}e.attachment=d,s.validUntil=(0,o.default)(u.validUntil,"YYYY-MM-DD"),e.orderInfo=s,e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo={creatorName:t.dealerDebitContactPersonName,dealerName:a.dealerName_dealerDebit,dealerMobilePhone:t.dealerDebitContactInformation,dealerContactPersonName:t.dealerDebitContactPersonName,dealerCode:a.dealerDebit,dealerLabelName:a.drDealerLabel,province:a.province_dealerDebit,city:a.city_dealerDebit,county:a.county_dealerDebit,address:a.address_dealerDebit,payment:a.drDealerPaymentTerm,validUntil:t.validUntil,logistics:t.drDealerLogisticsTerms}}}}},SEjj:function(e,t,a){"use strict";function n(e){a("G7gF")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("O1ha");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("P2Bj"),o=a.n(s),l=a("oLBP"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-d57b5c0c",null);t.default=c.exports},SFXC:function(e,t,a){"use strict";function n(e){a("ibDu")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("75mE");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("+7T9"),o=a.n(s),l=a("ktwI"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-9bec0436",null);t.default=c.exports},SGFi:function(e,t){},SGPQ:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MgeX"),r=n(i),s=a("HzJ8"),o=n(s),l=a("4YfN"),d=n(l),u=a("3cXf"),c=n(u),f=a("IHPB"),m=n(f),h=a("HXPS"),v=n(h),p=a("7g+Q"),C=n(p),_=a("1KNX"),y=n(_),b=a("vS5q"),g=a("7biW"),w=n(g);t.default={name:"PopOrderList",props:{show:{type:Boolean,default:!1},params:{type:Object,default:function(){return{dealerCode:"",whCode:""}}},defaultValue:{type:Object,default:function(){return{}}},isMaterOrder:{type:Boolean,default:!1},isMaterProccing:{type:Boolean,default:!1}},components:{Icon:v.default,Popup:C.default,RScroll:y.default,RSearch:w.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],listData:[],limit:100,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterProperty:"",filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"交易号",value:"transCode"}]}},watch:{show:{handler:function(e){this.showPop=e}},params:{handler:function(){this.resetCondition(),this.getList()}},defaultValue:{handler:function(e){this.setDefaultValue()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,m.default)(this.selItems)),this.$emit("input",!1)},showSelIcon:function(e){return-1!==this.tmpItems.findIndex(function(t){return t.transCode===e.transCode&&t.inventoryCode===e.inventoryCode})},selThis:function(e,t){if(!this.isMaterOrder&&(0===e.qtyStockBal||0===e.qtyStock)||this.isMaterOrder&&0===e.qtyStock)return void this.$vux.alert.show({content:"当前订单库存为0，请选择其他订单"});var a=this.tmpItems,n=a.findIndex(function(t){return t.transCode===e.transCode&&t.inventoryCode===e.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(e)},selConfirm:function(){this.showPop=!1,this.tmpItems.sort(function(e,t){return t.effectiveTime-e.effectiveTime}),this.selItems=[].concat((0,m.default)(this.tmpItems)),this.$emit("sel-matter",(0,c.default)(this.selItems))},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getList:function(){var e=this,t=[];this.srhInpTx&&(t=[{operator:"like",value:this.srhInpTx,property:this.filterProperty}]);var a=b.getSalesOrderList,n=(0,d.default)({},this.params);this.isMaterOrder&&(a=b.getMaterOrderList,n={}),this.isMaterProccing&&(a=b.getNBJGLLOrderList);var i=this.$route.query.relationKey,r=void 0===i?"":i;return r&&(t=[{operator:"eq",value:r,property:"transCode"}]),a((0,d.default)({},n,{limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,c.default)(t)})).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,s=void 0===i?[]:i;s.forEach(function(t){t.inventoryPic=t.inventoryPic?"/H_roleplay-si/ds/download?url="+t.inventoryPic+"&width=400&height=400":e.getDefaultImg()}),r&&(e.selItems=[].concat((0,m.default)(s)),e.$emit("sel-matter",(0,c.default)(e.selItems))),e.hasNext=n>(e.page-1)*e.limit+s.length,e.listData=1===e.page?s:[].concat((0,m.default)(e.listData),(0,m.default)(s)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},resetCondition:function(){this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.resetCondition(),this.getList()},clearList:function(){this.srhInpTx="",this.resetCondition(),this.getList()},delSelItem:function(e){var t=this.selItems.findIndex(function(t){return t.transCode===e.transCode&&t.inventoryCode===e.inventoryCode});-1!==t&&this.selItems.splice(t,1),this.tmpItems=[].concat((0,m.default)(this.selItems))},clearSel:function(){this.selItems=[],this.tmpItems=[]},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var i,s=(0,o.default)((0,r.default)(this.defaultValue));!(t=(i=s.next()).done);t=!0){var l=i.value;e=[].concat((0,m.default)(e),(0,m.default)(l))}}catch(e){a=!0,n=e}finally{try{!t&&s.return&&s.return()}finally{if(a)throw n}}this.tmpItems=[].concat((0,m.default)(e)),this.selItems=[].concat((0,m.default)(e))}},created:function(){this.showPop=this.show,this.setDefaultValue(),this.getList()}}},SLsN:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MjAd"),r=n(i),s=a("IsSW"),o=n(s);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2363,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"成品名称",value:"inventoryName_transObjCode"}],popShow:!1}},components:{PopAssignmentTaskWorkList:o.default},mixins:[r.default],methods:{goEdit:function(){this.popShow=!0},selTask:function(e){var t=[];e.forEach(function(e){t.push(e.colId)});var a=this.$route.query,n=a.name,i=a.childId,r=this.$route.params,s=r.fileId,o=r.listId;this.$router.push({path:"/fillform/"+s+"/"+o,query:{name:n,childId:i,orderId:t}})}}}},SMm3:function(e,t){},SQkk:function(e,t){},SQoh:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,"dealer-label-name":"原厂供应商,经销供应商",dealerTitle:"供应商",defaultContact:e.contactInfo},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("pop-warehouse-list",{attrs:{title:"出库仓库","default-value":e.warehouse,"is-required":!0},on:{"sel-item":e.selWarehouse}}),e._v(" "),a("pop-single-select",{attrs:{title:"结算方式",data:e.transMode,value:e.crDealerPaymentTerm,isRequired:""},model:{value:e.crDealerPaymentTerm,callback:function(t){e.crDealerPaymentTerm=t},expression:"crDealerPaymentTerm"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[Object.keys(e.orderList).length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v("订单列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n,i){return a("div",{key:n,staticClass:"each_mater",class:{"vux-1px-b":i<Object.keys(e.orderList).length-1}},[t.length?a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v("订单号")]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]):e._e(),e._v(" "),e._l(t,function(t,i){return a("div",{key:i,class:{mater_delete:e.matterModifyClass}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass},on:{"on-modify":function(a){e.modifyMatter(t,i,n)}},nativeOn:{click:function(a){e.delClick(i,t,n)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[a("div",{staticClass:"matter-more"},[a("span",{staticClass:"unit"},[e._v("属性: "+e._s(n.processing))]),e._v(" "),a("span",{staticClass:"unit"},[e._v("主计量: "+e._s(n.measureUnit))]),e._v(" "),a("span",{staticClass:"unit"},[e._v("辅助计量: "+e._s(n.assMeasureUnit))]),e._v(" "),n.taxRate?a("span",{staticClass:"mater_color"},[e._v("税率: "+e._s(n.taxRate))]):e._e()]),e._v(" "),a("div",{staticClass:"mater_more"},[a("span",{staticClass:"unit"},[e._v("辅助计量说明: "+e._s(n.assMeasureDescription||"无"))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.qtyBal,expression:"item.qtyBal"}],staticClass:"qty"},[e._v("可退货数量: "+e._s(n.qtyBal))])]),e._v(" "),n.price&&n.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price)+"\n                      ")]),e._v(" "),a("div",[a("r-number",{attrs:{num:n.tdQty,checkAmt:e.checkAmt,max:n.qtyStockBal},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",t)},expression:"item.tdQty"}})],1)]):e._e()]}},{key:"editPart",fn:function(t){var r=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r.price&&r.tdQty&&!e.matterModifyClass,expression:"(item.price && item.tdQty) &&!matterModifyClass"}],staticClass:"edit-part vux-1px-l",on:{click:function(t){e.modifyMatter(r,i,n)}}},[a("span",{staticClass:"iconfont icon-bianji1"})])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(i,t,n)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)})],2)}))]:[a("div",{on:{click:function(t){e.showMaterielPop=!e.showMaterielPop}}},[a("div",{staticClass:"title"},[e._v("订单列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择订单")]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多物料")])]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showMaterielPop,filterList:e.filterList,"default-value":e.matterList,"get-list-method":"getCKTHCKList",params:e.matterParams,isShowStock:""},on:{"sel-matter":e.selMatter},scopedSlots:e._u([{key:"titleName",fn:function(t){t.item;return[a("span",{staticClass:"order-title"},[e._v("订单号")])]}},{key:"storage",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_material"},[a("span",{staticClass:"spec"},[e._v("可用库存: "+e._s(n.qtyStockBal))])])]}}]),model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}})],2),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide},on:{"sel-confirm":e.selConfirm},scopedSlots:e._u([{key:"qtyBal",fn:function(t){var n=t.modifyMatter;return[a("p",{directives:[{name:"show",rawName:"v-show",value:n.qtyBal,expression:"modifyMatter.qtyBal"}]},[e._v("可退货数量: "+e._s(n.qtyBal))]),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:n.qtyStockBal,expression:"modifyMatter.qtyStockBal"}]},[e._v("可用库存: "+e._s(n.qtyStockBal))])]}},{key:"modify",fn:function(t){var n=t.modifyMatter;return[a("x-input",{attrs:{type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",e._n(t))},expression:"modifyMatter.tdQty"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("退货数量")])])],2),e._v(" "),a("cell",{attrs:{title:"包装数量",value:n.assistQty}}),e._v(" "),a("x-input",{attrs:{type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.price,callback:function(t){e.$set(n,"price",e._n(t))},expression:"modifyMatter.price"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("退货单价")])])],2),e._v(" "),a("x-input",{attrs:{type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.taxRate,callback:function(t){e.$set(n,"taxRate",e._n(t))},expression:"modifyMatter.taxRate"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("税率")])])],2),e._v(" "),a("cell",{attrs:{title:"不含税单价",value:n.noTaxPrice}})]}}]),model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}},[a("template",{slot:"modifyTitle"},[a("label",[e._v("退货金额")])])],2),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-circle-outline 'outline' v-show=selItems.length !== matterList.length",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num"},[a("span",{staticStyle:{fontSize:".14rem"}},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.tdAmount))+"\n      "),a("span",{staticClass:"taxAmount"},[e._v("[含税: ￥"+e._s(e._f("numberComma")(e.taxAmount))+"]")])]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},SSqj:function(e,t){},SSut:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("MgeX"),o=n(s),l=a("HzJ8"),d=n(l),u=a("ZLEe"),c=n(u),f=a("3cXf"),m=n(f),h=a("KH7x"),v=n(h),p=a("4YfN"),C=n(p),_=a("PzEQ"),y=n(_),b=a("BGNQ"),g=n(b),w=a("0AQX"),I=a("HyXB"),x=a("bKg5"),D=n(x),P=a("y8YJ"),k=n(P),S=a("I5id"),T=n(S),L=a("yt3/"),N=n(L),M=a("luHD"),A=n(M),O=a("VZtf"),R=n(O),j=a("vl8n"),$=n(j),B=a("+WR7"),E=n(B),F=a("zWMP");a("Qg39");t.default={name:"ApplySBCGDDForm",data:function(){return{listId:"fac37727-d2d4-11e8-b8ca-0279b2c6a380",srhInpTx:"",orderList:{},matterList:[],transMode:["现付","预付","账期","票据"],showDealerPop:!1,dealerInfo:{},contactInfo:{},formData:{biId:"",biComment:""},submitSuccess:!1,taxRate:.16,numMap:{},transCode:"",formViewUniqueId:"fed81800-4c34-44a9-b517-c3fd9f2ab57d",biReferenceId:"",actions:[],taskId:"",showOrderPop:!1,tmpItems:{},matter:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,filterList:[{name:"申请号",value:"transCode"},{name:"设施名称",value:"facilityName"},{name:"设施编码",value:"facilityCode"}]}},mixins:[D.default],components:{XTextarea:y.default,RNumber:R.default,PopDealerList:k.default,PopSingleSelect:N.default,PopMatter:A.default,RPicker:$.default,PopBaseinfo:E.default,Cell:g.default,PopFacilityList:T.default},methods:{selItem:function(e){this.formData=(0,C.default)({},this.formData,e)},getPaymentTerm:function(){var e=this;return(0,I.getDictByType)("paymentTerm").then(function(t){var a=t.tableContent;e.transMode=a})},selDealer:function(e){var t=JSON.parse(e),a=(0,v.default)(t,1),n=a[0];this.dealerInfo=(0,C.default)({},n)},selContact:function(e){this.contactInfo=(0,C.default)({},e)},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,m.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selMatter:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){var a=e.transCode+"_"+e.facilityCode,i=t.numMap[a]||{},r=i.tdQty,s=void 0===r?"":r,o=i.price,l=void 0===o?"":o,d=i.taxRate,u=void 0===d?.16:d;e.tdQty=s,l.length&&(e.price=l),e.taxRate=u,n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.facilityCode!==e.facilityCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.facilityCode===t.facilityCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.facilityCode===e.facilityCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,c.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.facilityCode===a.facilityCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.facilityCode===t.facilityCode});i>=0&&(e.$refs.matter.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.facilityCode===a.facilityCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,d.default)((0,o.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,l=!1,u=void 0;try{for(var c,f=(0,d.default)(r);!(s=(c=f.next()).done);s=!0){var m=c.value;this.numMap[m.transCode+"_"+m.facilityCode]=(0,C.default)({},m)}}catch(e){l=!0,u=e}finally{try{!s&&f.return&&f.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerCode||(t="请选择供应商信息"),t||this.dealerInfo.paymentTerm||(t="请选择结算方式"),t||this.matterList.length||(t="请选择设施"),t||this.matterList.every(function(n){if(!n.price)return t="单价不能为空",!1;if(!n.tdQty&&0!==n.tdQty)return t="数量不能为空",!1;var i=n.taxRate||e.taxRate,r=(0,F.accMul)(n.price,n.tdQty,i),s={transMatchedCode:n.transCode,facilityObjCode:n.facilityCode,facilityName_facilityObjCode:n.facilityName,facilityType:n.facilityType,thenQtyBal:n.qtyBal||0,tdQty:n.tdQty,price:n.price,taxRate:i,taxAmount:r,tdAmount:(0,F.accAdd)((0,F.accMul)(n.price,n.tdQty),r),comment:n.comment||""};return e.transCode&&(s.tdId=n.tdId||null),a.push(s),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=I.saveAndStartWf,n={},i=(0,r.default)({},e.processCode,{businessKey:"POPI",createdBy:""});n=(0,C.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",dealerDebitContactPersonName:e.contactInfo.dealerName||"",dealerDebitContactInformation:e.contactInfo.dealerMobilePhone||"",order:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName||"供应商",drDealerPaymentTerm:e.dealerInfo.paymentTerm,daysOfAccount:e.dealerInfo.pamentDays,dataSet:a}}),e.transCode&&(t=I.saveAndCommitTask,i={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var s={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,m.default)(n),wfPara:(0,m.default)(i)};e.transCode||delete s.biReferenceId,e.processCode.length||(t=I.submitAndCalc,delete s.wfPara,delete s.biReferenceId),e.biReferenceId&&(s.biReferenceId=e.biReferenceId),e.saveData(t,s)}})},getFormData:function(){var e=this;return(0,w.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=o;var l=r.order,u=(r.dealerDebit,l.dataSet),c=void 0===u?[]:u,f={},m=[],h=!0,v=!1,p=void 0;try{for(var _,y=(0,d.default)(c);!(h=(_=y.next()).done);h=!0){var b=_.value;b=(0,C.default)({},b,{transCode:b.transMatchedCode,inventoryPic:b.inventoryPic_facilityObjCode?"/H_roleplay-si/ds/download?url="+b.inventoryPic_facilityObjCode+"&width=400&height=400":e.getDefaultImg(),facilityName:b.facilityName_facilityObjCode,facilityCode:b.facilityObjCode,facilityBigType:b.facilityBigType_facilityObjCode,facilitySubclass:b.facilitySubclass_facilityObjCode,facilityUnit:b.facilityUnit_facilityObjCode,specification:b.specification_facilityObjCode,processing:b.tdProcessing}),f[b.transCode]||(f[b.transCode]=[]),m.push(b),f[b.transCode].push(b)}}catch(e){v=!0,p=e}finally{try{!h&&y.return&&y.return()}finally{if(v)throw p}}e.dealerInfo={creatorName:r.dealerCreditContactPersonName,dealerName:l.dealerName_dealerDebit,dealerMobilePhone:r.dealerCreditContactInformation,dealerCode:l.dealerCode_dealerDebit,dealerLabelName:l.drDealerLabel,province:l.province_dealerDebit,city:l.city_dealerDebit,county:l.county_dealerDebit,address:l.address_dealerDebit,paymentTerm:l.drDealerPaymentTerm,pamentDays:l.daysOfAccount},e.contactInfo={dealerName:r.dealerDebitContactPersonName,dealerMobilePhone:r.dealerDebitContactInformation},e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,C.default)({},e.formData,e.handlerDefault,{creator:r.creator,biId:r.biId,biComment:r.biComment}),e.biReferenceId=r.biReferenceId,e.matterList=m,e.orderList=f,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,r.default)({},"SBCGDD_DATA",{matter:this.matterList,dealer:this.dealerInfo,formData:this.formData,contactInfo:this.contactInfo})},getRelationData:function(){var e=this,t=this.$route.query.uniqueId;return(0,w.getSOList)({formViewUniqueId:t,transCode:this.relationKey}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i;t.attachment;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var o=s.order,l=(s.dealerDebit,o.dataSet),d=void 0===l?[]:l;d=d.map(function(t){return(0,C.default)({},t,{inventoryPic:t.inventoryPic_facilityObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_facilityObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_facilityObjCode,facilityCode:t.inventoryCode_facilityObjCode,specification:t.specification_facilityObjCode,measureUnit:t.measureUnit_facilityObjCode,transCode:e.relationKey,qtyBal:t.tdQty,tdQty:""})}),e.dealerInfo={creatorName:s.dealerDebitContactPersonName,dealerMobilePhone:s.dealerDebitContactInformation,dealerCode:s.order.dealerDebit,dealerSubclass:s.order.drAccountSub,dealerName:s.order.dealerName_dealerDebit,province:s.order.province_dealerDebit,city:s.order.city_dealerDebit,county:s.order.county_dealerDebit,address:s.order.address_dealerDebit},e.matterList=d,e.orderList=(0,r.default)({},e.relationKey,d),e.$loading.hide()})},moreUnitClick:function(e){e.showDrop=!e.showDrop},moreUnitSelected:function(e){this.matter.assMeasureUnit=e.invSubUnitName,this.matter.assistQty=e.invSubUnitMulti},assembleOrder:function(e){var t={};e.forEach(function(e){t[e.transCode]||(t[e.transCode]=[]),t[e.transCode].push(e)}),this.orderList=t}},created:function(){var e=sessionStorage.getItem("SBCGDD_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.dealerInfo=t.dealer,this.formData=t.formData,this.contactInfo=t.contactInfo,this.assembleOrder(this.matterList),sessionStorage.removeItem("SBCGDD_DATA")}}}},STJc:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("I3vJ"),v=a("1KNX"),p=n(v),C=a("7biW"),_=n(C);t.default={name:"PopTechnicsList",props:{defaultValue:{type:Object,default:function(){return{}}},required:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"}},components:{Icon:c.default,Popup:m.default,RScroll:p.default,RSearch:_.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:100,page:1,hasNext:!0,scrollOptions:{pullUpLoad:!0},filterProperty:"",filterList:[{name:"名称",value:"technicsName"},{name:"编码",value:"technicsCode"}]}},watch:{defaultValue:{handler:function(e){this.selItems=(0,d.default)({},this.defaultValue)},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},showSelIcon:function(e){return this.selItems.technicsCode===e.technicsCode},selThis:function(e,t){this.selItems=(0,d.default)({},e),this.showPop=!1,this.$emit("sel-item",(0,d.default)({},e))},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,h.getObjTechnics)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,o.default)(e.listData),(0,o.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.resetCondition(),this.getList()},onPullingUp:function(){this.page++,this.getList()},resetCondition:function(){this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)}},created:function(){this.getList()}}},STm3:function(e,t){},SU7p:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("KH7x"),o=n(s),l=a("4YfN"),d=n(l),u=a("a3Yh"),c=n(u),f=a("3cXf"),m=n(f),h=a("BGNQ"),v=n(h),p=a("z5TY"),C=n(p),_=a("SAzG"),y=n(_),b=a("7g+Q"),g=n(b),w=a("PzEQ"),I=n(w),x=a("jnZd"),D=n(x),P=a("0AQX"),k=a("HyXB"),S=(a("jLp1"),a("bKg5")),T=n(S),L=a("55ug"),N=n(L),M=a("CKaN"),A=n(M),O=a("KR0i"),R=n(O),j=a("vl8n"),$=n(j),B=a("+WR7"),E=n(B),F=a("zWMP"),U=a("Qg39");t.default={mixins:[T.default],components:{Cell:v.default,Group:C.default,Popup:g.default,XInput:y.default,XTextarea:I.default,PopupPicker:D.default,RPicker:$.default,PopBaseinfo:E.default,PopDealerList:N.default,PopCashList:A.default,PopEarnestMoneyList:R.default},data:function(){return{listId:"7d172485-8726-4e42-b29d-ec2a716bf062",biReferenceId:"",selectedCost:[],costIndex:0,transCode:"",formData:{biComment:"",biProcessStatus:""},dealerInfo:{},showOrder:!1,dealerParams:{},orderList:[],cashInfo:{fundName_cashOutCode:"",cashOutCode:"",cashType_cashOutCode:"",thenAmntBal:0},numMap:{}}},computed:{applicationAmount:function(){var e=0;return this.orderList.forEach(function(t){t.tdAmount&&(e=(0,F.accAdd)(e,t.tdAmount))}),(0,U.toFixed)(e)},differenceAmount:function(){var e=this.dealerInfo.amntBal||0;return e=(0,F.accAdd)(e,this.applicationAmount),(0,U.toFixed)(e)}},methods:{submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerCode||(t="请选择供应商"),t||this.orderList.length||(t="请选择定金明细"),t)return void this.$vux.alert.show({content:t});this.orderList.forEach(function(t){a.push({tdId:t.tdId||"",transMatchedCode:t.transCode,thenTotalAmntBal:t.thenAmntBal,differenceAmountCopy1:t.amount,thenAlreadyAmnt:t.amnted,thenAmntBalCopy2:t.deposit,applicationAmount:t.tdAmount,tdAmountCopy1:t.tdAmount,dealerDebit:e.dealerInfo.dealerCode})}),this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=k.saveAndStartWf,n=(0,c.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,m.default)(e.formData.handler),"本次支付":e.applicationAmount});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={dealerName_dealerDebit:e.dealerInfo.nickname,dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,applicationAmount:e.applicationAmount,tdAmountCopy1:e.applicationAmount,differenceAmount:e.differenceAmount},r=(0,d.default)({},e.cashInfo,{tdAmount:e.applicationAmount});e.transCode&&(i.tdIdCopy1=e.dealerInfo.tdIdCopy1,r.tdId=e.cashInfo.tdId);var s={listId:e.listId,biComment:e.formData.biComment,formData:(0,m.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",inPut:{dataSet:[i],thenAmntBalCopy1:e.dealerInfo.amntBal},order:{dataSet:a},outPut:{dataSet:[r]}})),wfPara:(0,m.default)(n)};e.isResubmit&&(s.biReferenceId=e.biReferenceId,t=k.saveAndCommitTask),e.processCode.length||(t=k.submitAndCalc,delete s.wfPara,delete s.biReferenceId),e.biReferenceId&&(s.biReferenceId=e.biReferenceId),e.saveData(t,s)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.attachment,n=void 0===a?[]:a,i=t.listId,r=void 0===i?"":i,s=(t.biComment,t.biReferenceId),l=void 0===s?"":s,u=t.formData,c=void 0===u?{}:u;e.attachment=n,e.listId=r,e.biReferenceId=l,e.handlerDefault={handler:c.handler,handlerName:c.handlerName,handlerUnit:c.handlerUnit,handlerUnitName:c.handlerUnitName,handlerRole:c.handlerRole,handlerRoleName:c.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:c.biComment,biId:c.biId,biProcessStatus:c.biProcessStatus,creator:c.creator,modifer:c.modifer});var f=c.order.dataSet,m=void 0===f?[]:f,h=c.inPut.dataSet,v=void 0===h?[]:h,p=c.outPut.dataSet,C=void 0===p?[]:p,_=(0,o.default)(v,1),y=_[0],b=void 0===y?{}:y,g=(0,o.default)(C,1),w=g[0],I=void 0===w?{}:w;m.forEach(function(e){e.transCode=e.transMatchedCode,e.thenAmntBal=e.thenTotalAmntBal,e.amount=e.differenceAmountCopy1,e.amnted=e.thenAlreadyAmnt,e.deposit=e.thenAmntBalCopy2,e.tdAmount=e.applicationAmount}),e.dealerInfo=(0,d.default)({},b,{nickname:b.dealerName_dealerDebit,dealerCode:b.dealerDebit,dealerLabelName:b.drDealerLabel,amntBal:c.inPut.thenAmntBalCopy1}),e.cashInfo=(0,d.default)({},I),e.orderList=m,e.$loading.hide()})},hasDraftData:function(){return!!this.dealerInfo.dealerCode&&(0,c.default)({},"FGYSDJ_DATA",{formData:this.formData,dealerInfo:this.dealerInfo,orderList:this.orderList,cashInfo:this.cashInfo})},getRelationData:function(){},selDealer:function(e){this.dealerInfo=(0,d.default)({},e),this.dealerParams={dealerCode:e.dealerCode}},selOrder:function(e){var t=this,a=JSON.parse(e);a.map(function(e){var a=t.numMap[e.transCode]||{},n=a.tdAmount,i=void 0===n?e.deposit:n;e.tdAmount=i}),this.numMap={},this.orderList=a},selCash:function(e){this.cashInfo=(0,d.default)({},e)},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,r.default)(this.orderList);!(e=(n=i.next()).done);e=!0){var s=n.value;this.numMap[s.transCode]=(0,d.default)({},s)}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showOrder=!0},checkAmt:function(e,t){switch(e){case"tdAmountCopy1":this.dealerInfo.tdAmountCopy1=(0,U.toFixed)(this.dealerInfo.tdAmountCopy1);break;case"tdAmount":this.cashInfo.tdAmount=(0,U.toFixed)(this.cashInfo.tdAmount);break;default:e[t]=(0,U.toFixed)(e[t])}}},created:function(){var e=sessionStorage.getItem("FGYSDJ_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.orderList=t.orderList,this.cashInfo=t.cashInfo,this.dealerParams={dealerCode:this.dealerInfo.dealerCode},sessionStorage.removeItem("FGYSDJ_DATA")}}}},SVCO:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("Jwlx"),c=n(u),f=a("HXPS"),m=n(f),h=a("7g+Q"),v=n(h),p=a("6q39"),C=(n(p),a("L6VY")),_=n(C),y=a("iR2W"),b=n(y),g=a("7biW"),w=n(g),I=a("hFVz"),x=a("1KNX"),D=n(x);t.default={name:"PopDealerList",props:{dealerLabelName:{type:String,default:"供应商"},defaultValue:{type:Object,default:function(){return{}}},required:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"},request:{type:String,default:"0"},params:{type:Object,default:function(){return{}}}},components:{Icon:m.default,Popup:v.default,DSearch:w.default,RScroll:D.default},data:function(){return{page:1,limit:10,hasNext:!0,showDealerPop:!1,srhInpTx:"",selInfo:{},selItems:[],listData:[],scrollOptions:{pullUpLoad:!0},requestMethods:null}},watch:{defaultValue:{handler:function(){var e=this.defaultValue;this.selInfo=(0,c.default)((0,d.default)({},e)),this.selItems=[(0,d.default)({},e)]},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showDealerPop=!1},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.dealerCode===e.dealerCode})},selItem:function(e,t){this.showDealerPop=!1,this.selItems=[e],this.selInfo=(0,c.default)((0,d.default)({},e)),this.$emit("sel-item",(0,d.default)({},this.selInfo))},getDealer:function(){var e=this,t=[];if(this.srhInpTx){var a="nickname";["3"].includes(this.request)&&(a="dealerName"),t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:a}])}return this.requestMethods((0,d.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,o.default)(e.listData),(0,o.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})}).catch(function(e){_.default.show({content:e.message})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getDealer()},itemClick:function(){this.showDealerPop=!0},onPullingUp:function(){this.page++,this.getDealer()}},filters:{numberComma:b.default},created:function(){var e=[I.getPaySupplierArrears,I.getDepositToPaySuppliers,I.getSaleAcceptanceBill,I.getObjDealerBalByLabelName];this.requestMethods=e[this.request],this.getDealer()}}},SXU0:function(e,t){},SdOm:function(e,t){},SfL5:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("J0Oq"),o=n(s),l=a("a3Yh"),d=n(l),u=a("HzJ8"),c=n(u),f=a("3cXf"),m=n(f),h=a("4YfN"),v=n(h),p=a("PzEQ"),C=n(p),_=a("kNGm"),y=n(_),b=a("u28h"),g=n(b),w=a("SAzG"),I=n(w),x=a("0AQX"),D=a("HyXB"),P=a("bKg5"),k=n(P),S=a("kZy/"),T=n(S),L=a("y8YJ"),N=n(L),M=a("yt3/"),A=n(M),O=a("luHD"),R=n(O),j=a("VZtf"),$=n(j),B=a("vl8n"),E=n(B),F=a("+WR7"),U=n(F),q=a("9SNe"),Q=n(q),H=a("zWMP");t.default={components:{XTextarea:C.default,RNumber:$.default,Datetime:g.default,PopMatterList:T.default,PopDealerList:N.default,PopSingleSelect:A.default,PopMatter:R.default,RPicker:E.default,PopBaseinfo:U.default,RDate:Q.default,XInput:I.default},data:function(){return{listId:"67ff01b1-52bc-4e01-9650-214dc6e5e8f9",taxRate:.16,numMap:{},dealer:{drDealerLogisticsTerms:""},order:{},inPut:{tdAmountCopy1:"",executionDate:"",validUntil:"",thenTotalAmntBal:"",prepaymentDueDate:""},formData:{creator:"",modifer:"",biId:"",biComment:""},logisticsTerm:[],dealerInfo:{},transMode:[],matterList:[],showTransPop:!1,showMaterielPop:!1,showDealerPop:!1,contact:{},matterParams:{processing:"原料"}}},mixins:[k.default],methods:{getPaymentTerm:function(){var e=this;return(0,D.getDictByType)("paymentTerm").then(function(t){var a=t.tableContent;e.transMode=a})},selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],this.dealer.drDealerPaymentTerm=this.dealerInfo.paymentTerm},selContact:function(e){this.contact=(0,v.default)({},e),this.dealer.dealerDebitContactPersonName=e.dealerName,this.dealer.dealerDebitContactInformation=e.dealerMobilePhone},selMatter:function(e){var t=this,a=JSON.parse(e);a.map(function(e){var a=e.processingStartDate?(0,y.default)(e.processingStartDate,"YYYY-MM-DD"):"",n=t.numMap[e.inventoryCode]||{},i=n.tdQty,r=void 0===i?"":i,s=n.price,o=void 0===s?"":s,l=n.taxRate,d=void 0===l?.16:l,u=n.processingStartDate,c=void 0===u?a:u;e.tdQty=r,e.price=o,e.taxRate=d,e.processingStartDate=c,e.assMeasureUnit=e.invSubUnitName||null,e.assMeasureScale=e.invSubUnitMulti||null,e.assMeasureDescription=e.invSubUnitComment||null}),this.numMap={},this.matterList=a},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(t){return t.inventoryCode===e.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(e)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,c.default)(this.matterList);!(e=(n=i.next()).done);e=!0){var r=n.value;this.numMap[r.inventoryCode]=(0,v.default)({},r)}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerCode?0===this.matterList.length?t="请选择物料":this.inPut.executionDate?this.inPut.validUntil||(t="请选择协议到期日"):t="请选择协议开始日":t="请选择供应商信息",t||this.matterList.every(function(e){if(!e.price)return t="单价不能为空",!1;if(!e.tdQty)return t="数量不能为空",!1;var n=e.taxRate,i=(0,H.accMul)(e.price,e.tdQty,n);return a.push({tdId:e.tdId||"",transObjCode:e.inventoryCode,tdProcessing:e.processing,assMeasureUnit:e.assMeasureUnit,assMeasureDescription:e.assMeasureDescription,assMeasureScale:e.assMeasureScale,tdQty:e.tdQty,assistQty:e.assistQty,price:e.price,tdAmount:e.tdAmount,taxRate:n,noTaxPrice:e.noTaxPrice,taxAmount:i,comment:e.comment||""}),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=D.saveAndStartWf,n=(0,d.default)({},e.processCode,{businessKey:"CGHT",createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.biComment,formData:(0,m.default)((0,v.default)({},e.formData,e.dealer,{drDealerLogisticsTerms:e.dealerInfo.dealerLogisticsTerms,handlerEntity:e.entity.dealerName,inPut:{dealerDebit:e.dealerInfo.dealerCode,dataSet:[(0,v.default)({},e.inPut,{thenTotalAmntBal:e.tdAmount})]},order:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName||"",drDealerPaymentTerm:e.dealer.drDealerPaymentTerm,dataSet:a}})),wfPara:(0,m.default)(n)};e.isResubmit&&(t=D.saveAndCommitTask,i.biReferenceId=e.biReferenceId),e.processCode.length||(t=D.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,o.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,x.getSOList)({formViewUniqueId:e.uniqueId,transCode:e.transCode}).then(function(t){e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId;var a=t.formData;e.attachment=t.attachment,a.order.dataSet.map(function(t){t=(0,v.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode}),e.matterList.push(t)}),e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,v.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),e.dealerInfo={creatorName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation,dealerCode:a.order.dealerDebit,dealerName:a.order.dealerName_dealerDebit,province:a.order.province_dealerDebit,city:a.order.city_dealerDebit,county:a.order.county_dealerDebit,address:a.order.address_dealerDebit,dealerLogisticsTerms:a.drDealerLogisticsTerms,pamentDays:a.inPut.daysOfAccount},e.contact={dealerName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation},e.dealer={dealerDebitContactPersonName:a.dealerDebitContactPersonName,dealerDebitContactInformation:a.dealerDebitContactInformation,drDealerPaymentTerm:a.order.drDealerPaymentTerm||""},e.inPut={tdAmountCopy1:a.inPut.dataSet[0].tdAmountCopy1,executionDate:a.inPut.dataSet[0].executionDate,validUntil:a.inPut.dataSet[0].validUntil,thenTotalAmntBal:a.inPut.dataSet[0].thenTotalAmntBal,prepaymentDueDate:a.inPut.dataSet[0].prepaymentDueDate},e.$loading.hide()});case 2:case"end":return t.stop()}},t,e)}))()},hasDraftData:function(){return!!this.matterList.length&&(0,d.default)({},"CGXY_DATA",{matter:this.matterList,dealerInfo:this.dealerInfo,formData:this.formData,dealer:this.dealer,contact:this.contact,inPut:this.inPut})},getRelationData:function(){},getLogisticsTerms:function(){var e=this;return(0,D.getDictByType)("dealerLogisticsTerms").then(function(t){var a=t.tableContent;e.logisticsTerm=a})}},created:function(){var e=sessionStorage.getItem("CGXY_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.dealerInfo=t.dealerInfo,this.dealer=t.dealer,this.formData=t.formData,this.contact=t.contact,this.inPut=t.inPut,sessionStorage.removeItem("CGXY_DATA")}}}},Sgei:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("iR2W"),d=n(l),u=a("kNGm"),c=n(u),f=a("QHLv"),m=a("0Nk0"),h=n(m);t.default={name:"PopMoneyOrderList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},required:{type:Boolean,default:!1},request:{type:String,default:"0"}},components:{RPopup:h.default},data:function(){return{page:1,limit:10,hasNext:!0,showPop:!1,srhInpTx:"",listData:[],scrollOptions:{pullUpLoad:!0},requestMethods:null}},watch:{show:{handler:function(e){this.showPop=e}},showPop:{handler:function(e){this.$emit("input",e)}}},methods:{selItem:function(e){this.$emit("sel-item",e)},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:"accepter"}])),this.requestMethods({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,o.default)(e.listData),(0,o.default)(r))})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()}},filters:{numberComma:d.default,dateFormat:c.default},created:function(){var e=[f.getInputDraft,f.getCashDiscount,f.getDraftBalance];this.requestMethods=e[this.request],this.getList()}}},ShHt:function(e,t,a){"use strict";function n(e){a("GglY")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("N9Ou");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("RGJm"),o=a.n(s),l=a("3A09"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-c40c4a96",null);t.default=c.exports},SiYZ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("4YfN"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"RTab",props:{data:{type:Array,default:function(){return[{name:"全部",status:""},{name:"进行中",status:"进行中"},{name:"已生效",status:"已生效"},{name:"草稿",status:"草稿"}]}},activeIndex:{type:Number,default:0},mode:{type:String,default:"1"}},data:function(){return{activeTabIndex:0}},watch:{activeIndex:{handler:function(e){this.activeTabIndex=e},immediate:!0}},methods:{switchTab:function(e,t){this.activeTabIndex!==t&&(this.activeTabIndex=t,this.$emit("on-click",(0,i.default)({},e,{index:t})))}}}},Sksv:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MjAd"),r=n(i),s=a("OTZ4"),o=n(s);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2395,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"成品名称",value:"inventoryName_transObjCode"}],popShow:!1,requestParams:{calc_rel_code:8851,view_id:"view_113"}}},components:{PopTaskWorkList:o.default},mixins:[r.default],methods:{goEdit:function(){this.popShow=!0},selTask:function(e){var t=this.$route.query,a=t.name,n=t.childId,i=this.$route.params,r=i.fileId,s=i.listId;this.$router.push({path:"/fillform/"+r+"/"+s,query:{name:a,childId:n,inventoryCode:e[0].matCode,proPointCode:e[0].proPointCode}})}}}},Smon:function(e,t){},SpJC:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("YP5q"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"alert",components:{XDialog:i.default},created:function(){void 0!==this.value&&(this.showValue=this.value)},props:{value:Boolean,title:String,content:String,buttonText:String,hideOnBlur:{type:Boolean,default:!1},maskTransition:{type:String,default:"vux-mask"},dialogTransition:{type:String,default:"vux-dialog"},maskZIndex:[Number,String]},data:function(){return{showValue:!1}},methods:{_onHide:function(){this.showValue=!1}},watch:{value:function(e){this.showValue=e},showValue:function(e){this.$emit("input",e)}}}},Sr3R:function(e,t){},Srds:function(e,t,a){"use strict";function n(e){a("cywD")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("82Uv");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("riHU"),o=a.n(s),l=a("ZICU"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-46850027",null);t.default=c.exports},Ss8W:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("BGNQ"),r=n(i),s=a("z5TY"),o=n(s),l=a("kNGm"),d=n(l),u=a("0AQX"),c=a("+VRO"),f=n(c),m=(a("Qg39"),a("BUFe")),h=n(m),v=a("AupE"),p=n(v),C=a("bFc7"),_=n(C);t.default={data:function(){return{workInfo:{},orderInfo:{},formViewUniqueId:"c5acfe84-3478-431b-bb18-93809e19cb62"}},mixins:[f.default],components:{Cell:r.default,Group:o.default,RAction:h.default,workFlow:p.default,contactPart:_.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment,t.formData.validUntil=(0,d.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workInfo=t.formData.order.dataSet[0],e.workFlowInfoHandler()})}}}},SyAi:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2433,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[i.default],methods:{},created:function(){}}},Syq3:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("IHPB"),d=n(l),u=a("MjAd"),c=n(u),f=a("1WsH");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"管理类",status:"M"},{name:"营销类",status:"Y"},{name:"技术类",status:"J"},{name:"专业类",status:"Z"},{name:"操作类",status:"C"}],biStatus:"",filterList:[{name:"职位名称",value:"name"}],activeName:""}},mixins:[c.default],methods:{getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=[];return this.activeTab.length&&(a=[{operator:"in",value:this.activeTab,property:"type"}]),this.serachVal&&(a=[].concat((0,d.default)(a),[{operator:"like",value:this.serachVal,property:"name"}]),this.activeTab.length&&(a[0].attendedOperation="and")),(0,f.getJobList)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(a),sort:(0,o.default)([{property:"crtTime",direction:"DESC"}])}).then(function(a){var n=a.dataCount,i=void 0===n?0:n,r=a.tableContent,s=void 0===r?[]:r;e.hasNext=i>(e.page-1)*e.limit+s.length,s.forEach(function(t){switch(e.setStatus(t),t.type){case"Y":t.changeType="营销类";break;case"Z":t.changeType="专业类";break;case"J":t.changeType="技术类";break;case"C":t.changeType="操作类";break;case"M":t.changeType="管理类"}switch(t.status){case 1:t.changeStatus="使用中",t.borderClass="using";break;case 2:t.changeStatus="未使用",t.borderClass="no_use";break;case 3:t.changeStatus="草稿",t.borderClass="draft";break;case-1:t.changeStatus="停用",t.borderClass="stop_use"}}),e.listData=1===e.page?s:e.listData.concat(s),t||e.$nextTick(function(){e.resetScroll()});var o="";t&&0===e.activeIndex&&e.total&&(o=i-e.total==0?"暂无新数据":o="新增"+(i-e.total)+"条数据",e.$vux.toast.show({text:o,position:"top",width:"50%",type:"text",time:700})),0===e.activeIndex&&1===e.page&&sessionStorage.setItem(e.applyCode,i),e.$loading.hide()}).catch(function(t){e.resetScroll()})},goNextPage:function(e,t,a){var n=this;if(!this.clickVisited){var i=this.$route.query.name,s=this.$route.params,o=s.fileId,l=s.listId;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,r.default)({},e));var d=a+"/"+o+"/"+l;setTimeout(function(){n.clickVisited=!1,n.$router.push({path:d,query:{name:i,id:e.id}})},200)}},goDetail:function(e,t){this.goNextPage(e,t,"/detail")},goEditJob:function(e,t){this.goNextPage(e,t,"/fillform")},tabClick:function(e,t){this.activeIndex=t,this.activeTab=e.status,this.activeName="全部"===e.name?"":e.name,this.resetCondition(),this.getList()},goEdit:function(){var e=this.$route.query,t=e.name,a=e.childId,n=this.$route.params,i=n.fileId,r=n.listId;this.$router.push({path:"/fillform/"+i+"/"+r,query:{name:t,childId:a,jobType:this.activeName}})}}}},T4DS:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("3cXf"),o=n(s),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("7g+Q"),C=n(p),_=a("PzEQ"),y=n(_),b=a("jnZd"),g=n(b),w=a("0AQX"),I=a("HyXB"),x=(a("jLp1"),a("bKg5")),D=n(x),P=a("aumL"),k=n(P),S=a("vl8n"),T=n(S),L=a("+WR7"),N=n(L),M=a("y8YJ"),A=n(M),O=a("zWMP");a("Qg39");t.default={mixins:[D.default],components:{Cell:c.default,Group:m.default,Popup:C.default,XInput:v.default,XTextarea:y.default,PopFundList:k.default,PopupPicker:g.default,RPicker:T.default,PopBaseinfo:N.default,PopDealerList:A.default},data:function(){return{listId:"b6b97d33-5d8e-4942-b978-09103d06f188",biComment:"",biReferenceId:"",showCostPop:!1,CostList:[{cashName:"",cashInCode:"",cashType_cashInCode:"",tdAmount:""}],selectedCost:[],costIndex:0,transCode:"",dealerInfo:{},contact:{},formData:{biComment:"",biProcessStatus:""}}},computed:{totalAmount:function(){var e=0;return this.CostList.forEach(function(t){t.tdAmount&&(e=(0,O.accAdd)(e,t.tdAmount))}),e}},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0]},selContact:function(e){this.contact=(0,d.default)({},e)},getCost:function(e,t){this.showCostPop=!0,this.costIndex=e,this.selectedCost=[t]},addCost:function(){this.expSubjectList=[],this.CostList.push({cashName:"",cashInCode:"",cashType_cashInCode:"",tdAmount:""})},deleteCost:function(){this.CostList.pop()},selMatter:function(e){var t=e;this.CostList[this.costIndex].cashName=t.fundName,this.CostList[this.costIndex].cashInCode=t.fundCode,this.CostList[this.costIndex].cashType_cashInCode=t.fundType},submitOrder:function(){var e=this,t="",a=[];if(this.CostList.every(function(e){return e.cashName?e.tdAmount?(a.push({tdId:e.tdId||"",cashInCode:e.cashInCode,cashType_cashInCode:e.cashType_cashInCode,tdAmount:e.tdAmount}),!0):(t="请填写支付金额",!1):(t="请选择资金账户",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=I.saveAndStartWf,n=(0,r.default)({},e.processCode,{businessKey:"REIM2",createdBy:(0,o.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:"",formData:(0,o.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName,dataSet:a},dealerCreditContactPersonName:e.contact.dealerName||null,dealerCreditContactInformation:e.contact.dealerMobilePhone||null})),wfPara:(0,o.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=I.saveAndCommitTask),e.processCode.length||(t=I.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,w.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.attachment=t.attachment,e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.CostList=[];var a=t.formData;e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),a.order.dataSet.forEach(function(t){var a={cashName:t.fundName_cashInCode,cashInCode:t.cashInCode,cashType_cashInCode:t.cashType_cashInCode,tdAmount:t.tdAmount,tdId:t.tdId};e.CostList.push(a)}),e.dealerInfo={creatorName:a.dealerCreditContactPersonName,dealerMobilePhone:a.dealerCreditContactInformation,dealerCode:a.order.dealerCodeCredit,dealerLabelName:a.order.crDealerLabel,dealerName:a.order.dealerName_dealerCodeCredit,province:a.order.province_dealerDebit,city:a.order.city_dealerDebit,county:a.order.county_dealerDebit,address:a.order.address_dealerCodeCredit},e.contact={dealerName:a.dealerCreditContactPersonName,dealerMobilePhone:a.dealerCreditContactInformation},e.$loading.hide()})},hasDraftData:function(){var e=!1;return this.CostList.forEach(function(t){if(t.cashName)return e=!0,!1}),!!e&&(0,r.default)({},"SK_DATA",{cost:this.CostList,formData:this.formData,dealerInfo:this.dealerInfo,contact:this.contact})}},created:function(){var e=sessionStorage.getItem("SK_DATA");if(e){var t=JSON.parse(e);this.CostList=t.cost,this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.contact=t.contact,sessionStorage.removeItem("SK_DATA")}}}},T4Nq:function(e,t){},"TDh+":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MgeX"),r=n(i),s=a("HzJ8"),o=n(s),l=a("3cXf"),d=n(l),u=a("IHPB"),c=n(u),f=a("HXPS"),m=n(f),h=a("7g+Q"),v=n(h),p=a("1KNX"),C=n(p),_=(a("vS5q"),a("I3vJ")),y=a("7biW"),b=n(y);t.default={name:"PopOrderXQTJList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Object,default:function(){return{}}},listMethod:{type:String,default:"getDemandAdjustment"}},components:{Icon:m.default,Popup:v.default,RScroll:C.default,RSearch:b.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],listData:[],limit:100,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterProperty:"",filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"交易号",value:"transCode"}]}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,c.default)(this.selItems)),this.$emit("input",!1)},findIndex:function(e,t){return e.findIndex(function(e){var a=!0,n=!0;return e.orderCode&&(a=e.orderCode===t.orderCode),e.colId&&(n=e.colId===t.colId),a&&n&&e.transCode===t.transCode&&e.inventoryCode===t.inventoryCode})},showSelIcon:function(e){return-1!==this.findIndex(this.tmpItems,e)},selThis:function(e,t){if(["getInProcessingOrder","getInProcessingStorage"].includes(this.listMethod)&&!e.orderCode)return void this.$vux.alert.show({content:"当前订单号不存在，不可选择"});if(e.qtyBal&&e.qtyStock<=0)return void this.$vux.alert.show({content:"当前库存为0，不可选择"});var a=this.tmpItems,n=this.findIndex(a,e);if(-1!==n)return void a.splice(n,1);a.push(e)},selConfirm:function(){this.showPop=!1,this.tmpItems.sort(function(e,t){return t.effectiveTime-e.effectiveTime}),this.selItems=[].concat((0,c.default)(this.tmpItems)),this.$emit("sel-matter",(0,d.default)(this.selItems))},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getList:function(){var e=this,t=[];this.srhInpTx&&(t=[{operator:"like",value:this.srhInpTx,property:this.filterProperty}]);var a=this.$route.query.relationKey,n=void 0===a?"":a;return n&&(t=[{operator:"eq",value:n,property:"transCode"}]),(0,_.getXQTJList)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,d.default)(t)},this.listMethod).then(function(t){var a=t.dataCount,i=void 0===a?0:a,r=t.tableContent,s=void 0===r?[]:r;s.forEach(function(t){t.inventoryPic=t.inventoryPic?"/H_roleplay-si/ds/download?url="+t.inventoryPic+"&width=400&height=400":e.getDefaultImg()}),n&&(e.selItems=[].concat((0,c.default)(s)),e.$emit("sel-matter",(0,d.default)(e.selItems))),e.hasNext=i>(e.page-1)*e.limit+s.length,e.listData=1===e.page?s:[].concat((0,c.default)(e.listData),(0,c.default)(s)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},resetCondition:function(){this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.resetCondition(),this.getList()},clearList:function(){this.srhInpTx="",this.resetCondition(),this.getList()},delSelItem:function(e){var t=this.findIndex(this.selItems,e);-1!==t&&this.selItems.splice(t,1),this.tmpItems=[].concat((0,c.default)(this.selItems))},clearSel:function(){this.selItems=[],this.tmpItems=[]},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var i,s=(0,o.default)((0,r.default)(this.defaultValue));!(t=(i=s.next()).done);t=!0){var l=i.value;e=[].concat((0,c.default)(e),(0,c.default)(l))}}catch(e){a=!0,n=e}finally{try{!t&&s.return&&s.return()}finally{if(a)throw n}}this.tmpItems=[].concat((0,c.default)(e)),this.selItems=[].concat((0,c.default)(e))}},created:function(){this.showPop=this.show,this.setDefaultValue(),this.getList()}}},TIeJ:function(e,t,a){"use strict";function n(e){a("jxi0")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("eQeJ");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Fjox"),o=a.n(s),l=a("tHDD"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-17ee804e",null);t.default=c.exports},TJZS:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("3cXf"),o=n(s),l=a("KH7x"),d=n(l),u=a("Q+Ik"),c=n(u),f=a("4YfN"),m=n(f),h=a("z5TY"),v=n(h),p=a("7g+Q"),C=(n(p),a("SAzG")),_=n(C),y=a("PzEQ"),b=n(y),g=a("vl8n"),w=n(g),I=a("+WR7"),x=n(I),D=a("y8YJ"),P=n(D),k=a("HyXB"),S=a("0AQX"),T=a("bKg5"),L=n(T);t.default={name:"ApplyCPXQForm",data:function(){return{listId:"b30f4d3e-b23d-11e8-96a5-005056a136d0",formViewUniqueId:"b018ef18-f0d1-41a8-985e-29de19e6b705",formData:{biId:"",demandTitle:"",demandDescribe:"",biComment:""},biReferenceId:"",dealerInfo:{},contactInfo:{},uploadStyle:{}}},mixins:[L.default],components:{Group:v.default,XInput:_.default,XTextarea:b.default,RPicker:w.default,PopBaseinfo:x.default,PopDealerList:P.default},methods:{selContact:function(e){this.contactInfo=(0,m.default)({},e)},selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],this.formData.launchDealerCode=this.dealerInfo.dealerCode},save:function(){var e=this,t={demandTitle:"标题",demandDescribe:"描述"};for(var a in this.formData)"string"==typeof this.formData[a]&&this.formData[a].indexOf(" ")>=0&&(this.formData[a]=this.formData[a].replace(/\s/g,""));var n="";if(!n&&(0,c.default)(t).every(function(t){var a=(0,d.default)(t,2),i=a[0],r=a[1];return!!e.formData[i]||(n=r+"不能为空",!1)}),n)return void this.$vux.alert.show({content:n});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=e.formData,a={productDealerCode:e.dealerInfo.dealerCode,address_productDealerCode:e.dealerInfo.address,demandDealerLabel:e.dealerInfo.dealerLabelName,dealerName_productDealerCode:e.dealerInfo.dealerName},n={dealerDebitContactPersonName:e.contactInfo.dealerName,dealerDebitContactInformation:e.contactInfo.dealerMobilePhone},i=e.processCode.length?k.saveAndStartWf:k.submitAndCalc,r={listId:e.listId,biComment:"",formData:(0,o.default)((0,m.default)({handlerEntity:e.entity.dealerName},t,a,n))};e.transCode&&(i=k.updateData,console.log("bId:",e.biReferenceId),r.biReferenceId=e.biReferenceId),e.saveData(i,r)}})},getFormData:function(){var e=this;return(0,S.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.biReferenceId,o=void 0===s?"":s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=t.attachment,e.biReferenceId=o,e.formData=(0,m.default)({},e.formData,r),e.$loading.hide()})},hasDraftData:function(){var e=this.formData;if(e.demandTitle||e.demandDescribe||e.demandType||e.processStatus||e.timeConfidenceIndex)return(0,r.default)({},"CPXQ_DATA",{formData:this.formData})}},created:function(){var e=sessionStorage.getItem("CPXQ_DATA");e&&(this.formData=JSON.parse(e).formData,sessionStorage.removeItem("CPXQ_DATA"))}}},TKOP:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"other_comment vux-1px-t"},[a("div",{staticClass:"title"},[a("span",[e._v("评论")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.commentList.length,expression:"commentList.length"}],staticClass:"more",on:{click:e.goCommentList}},[e._v("查看更多")])]),e._v(" "),e.commentList.length?a("div",{staticClass:"comment_list"},e._l(e.commentList,function(t,n){return n<5?a("div",{key:n,staticClass:"each_comment",on:{click:e.goCommentList}},[a("div",{staticClass:"user_photo"},[a("img",{attrs:{src:t.photo},on:{error:function(a){e.getUserDefault(t)}}})]),e._v(" "),a("div",{staticClass:"comment_content vux-1px-b"},[a("div",{staticClass:"user_info"},[a("div",[a("span",{staticClass:"user_name"},[e._v(e._s(t.creatorName))]),e._v(" "),a("span",{staticClass:"comment_time"},[e._v(e._s(e._f("handleCrt")(t.crtTime)))])]),e._v(" "),a("div",{staticClass:"handler",on:{click:function(a){a.stopPropagation(),e.savePraise(t)}}},[t.praiseNum?a("span",{staticClass:"praise-num"},[e._v(e._s(t.praiseNum))]):e._e(),e._v(" "),a("span",{staticClass:"iconfont icon-L2",class:{praise:!t.isPraise}})])]),e._v(" "),a("div",{staticClass:"comment-container"},[a("div",{staticClass:"comment",domProps:{innerHTML:e._s(e.handleComment(t))}}),e._v(" "),t.commentAttachments.length?a("div",{staticClass:"comment-image"},[e._l(t.commentAttachments,function(t,n){return t.isImg?a("img",{key:n,staticClass:"comment-image-item",attrs:{src:t.attachment},on:{click:function(a){a.stopPropagation(),e.scaleImg(t)}}}):e._e()}),e._v(" "),e._l(t.commentAttachments,function(t,n){return t.isImg?e._e():a("div",{key:n,staticClass:"each_file",on:{click:function(a){a.stopPropagation(),e.checkFile(t.attachment)}}},[e._v("附件"+e._s(n+1)+": "+e._s(t.name))])})],2):e._e()])])]):e._e()})):a("div",{staticClass:"no_data"},[e._v("暂无评论")])])},i=[],r={render:n,staticRenderFns:i};t.a=r},TTvH:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("BGNQ"),o=n(s),l=a("z5TY"),d=n(l),u=a("iR2W"),c=n(u),f=a("jLp1"),m=a("+VRO"),h=n(m),v=a("zWMP");t.default={data:function(){return{approval:{},comment:{}}},filters:{timeSplit:function(e){return e?e.split(" ")[0]:""}},mixins:[h.default],components:{Group:d.default,Cell:o.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,f.findProjectApproval)(t).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=t.attachment,s=void 0===i?[]:i;e.approval=n.projectApproval,e.attachment=s,e.comment=n.comment,e.orderInfo=(0,r.default)({},n.baseinfo,{biStatus:"已生效"})})},numberComma:function(e){return e||0===e?(0,c.default)(e):"无"},percent:function(e){return e||0===e?(0,v.accMul)(e,100)+"%":"无"}},created:function(){}}},TUz9:function(e,t,a){"use strict";function n(e){a("76tj")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("oA6L");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("MgnL"),o=a.n(s),l=a("v3Wb"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-326f58e3",null);t.default=c.exports},TXh4:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("a3Yh"),d=n(l),u=a("7g+Q"),c=n(u),f=a("+62G"),m=n(f),h=a("z5TY"),v=n(h),p=a("BGNQ"),C=n(p),_=a("iR2W"),y=n(_),b=a("u28h"),g=n(b),w=a("SAzG"),I=n(w),x=a("PzEQ"),D=n(x),P=a("HyXB"),k=a("fEP3"),S=a("0AQX"),T=a("bKg5"),L=n(T),N=a("7D9F"),M=n(N),A=a("89pA"),O=n(A),R=a("oxLw"),j=n(R),$=a("vl8n"),B=n($),E=a("FlCz"),F=n(E),U=a("+WR7"),q=n(U),Q=a("0o6b"),H=a("Qg39"),V=a("zWMP");t.default={directives:{TransferDom:m.default},components:{Popup:c.default,PopWorkCheckList:j.default,Group:v.default,Cell:C.default,Datetime:g.default,XInput:I.default,XTextarea:D.default,PopManagerList:M.default,RPicker:B.default,PopWarehouseList:O.default,BomList:F.default,PopBaseinfo:q.default},data:function(){return{listId:"f9f1e0cb-7edf-43aa-b2f2-527e2525b96e",showWorkPop:!1,dealer:{},formData:{biComment:""},workInfo:{},defaultManager:{},biProcessStatus:"",scanResult:"",warehouse:{},filterParams:[{property:"warehouseType",operator:"eq",value:"加工车间仓"}],bomList:[]}},mixins:[L.default],filters:{numberComma:y.default},methods:{selWork:function(e){var t=this;e.tdQty=e.qtyBal,this.workInfo=e,(0,k.getBomWorkCheck)({transCode:e.transCode,inventoryCode:e.matCode}).then(function(e){var a=e.tableContent,n=void 0===a?[]:a;t.bomList=n,t.setBomQty()})},selManager:function(e){this.defaultManager=JSON.parse(e),this.workInfo.dealerDebit=this.defaultManager.dealerCode},checkAmt:function(e){var t=e.tdQty,a=e.qtyBal;t&&(t>a&&(e.tdQty=a),this.setBomQty())},submitOrder:function(){var e=this,t="",a=[],n=[];this.workInfo.transCode||(t="请选择工序");var i=[{key:"tdQty",msg:"请填写验收数量"},{key:"dealerDebit",msg:"请选择验收者"}];if(t||i.every(function(a){return!!e.workInfo[a.key]||(t=a.msg,!1)}),t)return void this.$vux.alert.show({content:t});var s=this.workInfo;a.push({transMatchedCode:s.transCode,orderCode:s.orderCode,processCode:s.processCode,proPointCode:s.proPointCode,thenQtyBal:s.qtyBal,tdQty:s.tdQty,rearProPointCode:s.rearProPointCode||"",dealerDebit:s.dealerDebit,proFlowCode:s.proFlowCode||"",transObjCode:s.matCode,tdProcessing:s.processing,skinFee:s.skinFee,wages:s.wages}),this.bomList.forEach(function(e){n.push({inventoryName_outPutMatCode:e.inventoryName,outPutMatCode:e.inventoryCode,proPointCode:s.proPointCode,transMatchedCode:s.transCode,orderCode:s.orderCode,processCode:s.processCode,parentInventoryCode:s.matCode,processProCode:s.matCode,tdProcessing:e.processing,specification_outPutMatCode:e.specification,measureUnit_outPutMatCode:e.measureUnit,containerCodeOut:e.whCode,bomType:e.bomType,bomQty:e.qty,tdQty:e.tdQty})}),this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=P.saveAndStartWf,i=(0,d.default)({},e.processCode,{businessKey:"WTAC",createdBy:""});e.isResubmit&&(i={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var s={listId:e.listId,biComment:e.formData.biComment,formData:(0,o.default)((0,r.default)({},e.formData,{handlerEntity:e.entity.dealerName,biProcessStatus:e.biProcessStatus||null,containerInWarehouseManager:e.warehouse.containerInWarehouseManager||null,order:{containerCode:e.warehouse.warehouseCode,dataSet:a},outPut:{containerCode:e.warehouse.warehouseCode,dataSet:n}})),wfPara:(0,o.default)(i)};e.isResubmit&&(t=P.saveAndCommitTask,s.biReferenceId=e.biReferenceId),e.processCode.length||(t=P.submitAndCalc,delete s.wfPara,delete s.biReferenceId),e.biReferenceId&&(s.biReferenceId=e.biReferenceId),e.saveData(t,s)}})},getFormData:function(){var e=this;return(0,S.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=t.attachment;var o=s.order,l=s.outPut,d=o.dataSet,u=void 0===d?[]:d,c=l.dataSet;e.workInfo=(0,r.default)({},u[0],{matCode:u[0].transObjCode,inventoryName:u[0].inventoryName_transObjCode,procedureName:u[0].procedureName_proPointCode,technicsName:u[0].technicsName_proFlowCode,qtyBal:u[0].thenQtyBal,transCode:u[0].transMatchedCode,processing:u[0].tdProcessing||null,wareName:o.warehouseName_containerCode,whInCode:o.containerCode,wareAddress:o.warehouseAddress_containerCode,dealerName:u[0].dealerName_dealerDebit,dealerCode:u[0].dealerDebit,dealerLabel:u[0].drDealerLabel}),e.defaultManager={dealerName:u[0].dealerName_dealerDebit,dealerCode:u[0].dealerDebit,dealerLabel:u[0].drDealerLabel},e.facility={facilityName:u[0].facilityName_facilityObjCode,facilityCode:u[0].facilityObjCode,facilityType:u[0].facilityTypebase_facilityObjCode},c.forEach(function(e){e.inventoryCode=e.outPutMatCode,e.inventoryName=e.inventoryName_outPutMatCode,e.measureUnit=e.measureUnit_outPutMatCode,e.parentInvCode=e.processProCode,e.processing=e.tdProcessing,e.qty=e.bomQty,e.whCode=e.containerCodeOut,e.specification=e.specification_outPutMatCode||"无"}),e.bomList=c,e.warehouse={warehouseCode:o.containerCode,warehouseName:o.warehouseName_containerCode,warehouseType:o.warehouseType_containerCode,warehouseProvince:o.warehouseProvince_containerCode,warehouseCity:o.warehouseCity_containerCode,warehouseDistrict:o.warehouseDistrict_containerCode,warehouseAddress:o.warehouseAddress_containerCode},e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,r.default)({},e.handlerDefault,{biComment:s.biComment,biId:s.biId,biProcessStatus:s.biProcessStatus,creator:s.creator,modifer:s.modifer}),e.biProcessStatus=s.biProcessStatus,e.biReferenceId=s.biReferenceId,e.$loading.hide()})},scanQRCode:function(){var e=this;(0,Q.scanQRCode)().then(function(t){var a=t.result,n=void 0===a?"":a;e.scanResult=n})},selWarehouse:function(e){this.warehouse=JSON.parse(e)},setBomQty:function(){var e=this.workInfo.tdQty;this.bomList=this.bomList.map(function(t){return(0,r.default)({},t,{tdQty:(0,H.toFixed)((0,V.accMul)(t.qty,e),3)})})}},created:function(){}}},TZQl:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("BGNQ"),o=n(s),l=a("z5TY"),d=n(l),u=a("kNGm"),c=n(u),f=a("iR2W"),m=n(f),h=a("jLp1"),v=a("+VRO"),p=n(v);t.default={data:function(){return{comment:{},projectApproval:{},projectTime:{},projectConclusion:{}}},filters:{dateFormat:c.default},mixins:[p.default],components:{Group:d.default,Cell:o.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,h.findProjectConclusion)(t).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=t.attachment,s=void 0===i?[]:i;e.comment=n.comment,e.attachment=s,e.projectApproval=n.projectApproval,e.projectTime=n.projectTime,e.projectConclusion=n.projectConclusion,e.orderInfo=(0,r.default)({},n.baseinfo,{biStatus:"已生效"})})},numberComma:function(e){return e||0===e?(0,m.default)(e):"无"}},created:function(){}}},TZXR:function(e,t,a){"use strict";function n(e){a("cSeH")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("P3eF");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("ILd/"),o=a.n(s),l=a("TKOP"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-c9513060",null);t.default=c.exports},TgCX:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("MgeX"),o=n(s),l=a("HzJ8"),d=n(l),u=a("ZLEe"),c=n(u),f=a("3cXf"),m=n(f),h=a("4YfN"),v=n(h),p=a("BGNQ"),C=n(p),_=a("z5TY"),y=n(_),b=a("SAzG"),g=n(b),w=a("kNGm"),I=n(w),x=a("PzEQ"),D=n(x),P=a("u28h"),k=n(P),S=a("jnZd"),T=n(S),L=a("HyXB"),N=a("0AQX"),M=a("bKg5"),A=n(M),O=a("y8YJ"),R=n(O),j=a("vl8n"),$=n(j),B=a("+WR7"),E=n(B),F=a("VZtf"),U=n(F),q=a("kZy/"),Q=n(q),H=a("luHD"),V=n(H),X=a("lsbD"),z=n(X),Y=(a("Qg39"),a("zWMP"));t.default={mixins:[A.default],components:{Cell:C.default,Group:y.default,XInput:g.default,Datetime:k.default,XTextarea:D.default,PopDealerList:R.default,PopupPicker:T.default,RPicker:$.default,PopBaseinfo:E.default,RNumber:U.default,PopMatterList:Q.default,PopMatter:V.default,OpButton:z.default},data:function(){return{listId:"0cf1a234-04a5-4021-926b-137914878082",dealerInfo:{},contactInfo:{},invoiceType:[["普通发票","专用发票"]],invoiceGetType:[],invoiceInfo:{ticketNumber:"",invoiceType:"",invoiceAmount:"",invoiceDate:"",invoiceContent:""},invoicePlan:[],dealerParams:{dealerCode:""},taxRate:.16,showInvoicePop:!1,seletedIndex:0,seletedInvoice:[],formData:{biProcessStatus:"",biComment:""},formDataComment:"",projectName:"",matterList:[],orderList:{},showMaterielPop:!1,matterParams:{},numMap:{}}},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],this.matterParams={dealerCode:this.dealerInfo.dealerCode},this.matterList=[],this.orderList={}},selContact:function(e){this.contactInfo=(0,v.default)({},e)},typeTask:function(e){this.invoiceInfo.invoiceType=e[0]},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,m.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.inventoryCode!==e.inventoryCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getMatter:function(){if(!this.dealerInfo.dealerCode)return void this.$vux.alert.show({content:"请选择客户"});this.showMaterielPop=!this.showMaterielPop},selMatter:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){var a=(e.transCode,e.inventoryCode,t.numMap[e.inventoryCode]||{}),i=a.tdQty,r=void 0===i?e.qtyBal:i,s=a.price,o=void 0===s?e.price:s,l=a.taxRate,d=void 0===l?t.taxRate:l;e.tdQty=r,e.price=o,e.taxRate=d,e.purchaseDay=(0,I.default)(e.calcTime,"YYYY-MM-DD"),n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},delClick:function(e,t,a){var n=this.selItems,i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode&&e.transCode===t.transCode});if(-1!==i)return void n.splice(i,1);n.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,c.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});i>=0&&(e.$refs.matter.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,d.default)((0,o.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,l=!1,u=void 0;try{for(var c,f=(0,d.default)(r);!(s=(c=f.next()).done);s=!0){var m=c.value;this.numMap[m.transCode+"_"+m.inventoryCode]=(0,v.default)({},m)}}catch(e){l=!0,u=e}finally{try{!s&&f.return&&f.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this,t="",a=[];this.dealerInfo.dealerCode||(t="请选择客户信息");var n=[{tip:"ticketNumber",msg:"请输入票号"},{tip:"invoiceType",msg:"请选择发票类型"},{tip:"invoiceDate",msg:"请选择发票日期"}];if(t||n.every(function(a){return!!e.invoiceInfo[a.tip]||(t=a.msg,!1)}),t||this.matterList.length||(t="请选择物料"),t||this.matterList.every(function(n){if(!n.transCode)return t="请选择申请单",!1;if(!n.tdQty&&0!==n.tdQty)return t="请填写本次开票数量",!1;if(!n.taxRate&&0!==n.taxRate)return t="请填写税率",!1;var i=n.taxRate||e.taxRate,r=(0,Y.accMul)(n.price,n.tdQty),s=(0,Y.accMul)(r,i);return a.push({tdId:n.tdId||"",transMatchedCode:n.transCode,inventoryName_transObjCode:n.inventoryName,transObjCode:n.inventoryCode,thenQtyBal:n.qtyBal,price:n.price,tdQty:n.tdQty,taxRate:i,taxAmount:s,tdAmount:(0,Y.accAdd)(r,s),comment:n.comment}),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=L.saveAndStartWf,n=(0,r.default)({},e.processCode,{businessKey:"VATO",createdBy:(0,m.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:"",formData:(0,m.default)((0,v.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{crDealerLabel:"客户",dealerCodeCredit:e.dealerInfo.dealerCode,dataSet:a},dealerCreditContactPersonName:e.contactInfo.dealerName||null,dealerCreditContactInformation:e.contactInfo.dealerMobilePhone||"",invoiceDate:e.invoiceInfo.invoiceDate,ticketNumber:e.invoiceInfo.ticketNumber,invoiceType:e.invoiceInfo.invoiceType,invoiceContent:e.invoiceInfo.invoiceContent})),wfPara:(0,m.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=L.saveAndCommitTask),e.processCode.length||(t=L.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,N.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.attachment=t.attachment,e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId;var a=t.formData;e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,v.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),e.dealerInfo=(0,v.default)({},e.dealerInfo,{dealerName:a.order.dealerName_dealerCodeCredit,dealerCode:a.order.dealerCodeCredit,province:a.order.province_dealerCodeCredit,city:a.order.city_dealerCodeCredit,county:a.order.county_dealerCodeCredit,address:a.order.address_dealerCodeCredit,dealerMobilePhone:a.dealerMobilePhone_dealerCodeCredit}),e.contactInfo={dealerName:a.dealerCreditContactPersonName,dealerMobilePhone:a.dealerCreditContactInformation};var n={};a.order.dataSet.forEach(function(t){t.transCode=t.transMatchedCode,t.inventoryName=t.inventoryName_transObjCode,t.inventoryCode=t.inventoryCode_transObjCode,t.inventoryPic=t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),t.qtyBal=t.thenQtyBal,e.matterList.push(t),n[t.transCode]||(n[t.transCode]=[]),n[t.transCode].push(t)}),e.orderList=n,e.invoiceInfo=(0,v.default)({},e.invoiceInfo,{ticketNumber:a.ticketNumber,invoiceType:a.invoiceType,invoiceAmount:a.invoiceAmount,invoiceDate:(0,I.default)(a.invoiceDate,"YYYY-MM-DD"),invoiceContent:a.invoiceContent}),e.invoiceGetType.push(a.invoiceType),e.dealerParams.dealerCode=a.order.dealerCodeCredit,e.$loading.hide()})},hasDraftData:function(){return!!(0,o.default)(this.dealerInfo).length&&(0,r.default)({},"ZZSKP_DATA",{invoice:{dealer:this.dealerInfo,invoiceInfo:this.invoiceInfo,contactInfo:this.contactInfo,matterList:this.matterList,orderList:this.orderList}})}},created:function(){var e=sessionStorage.getItem("ZZSKP_DATA");if(e){var t=JSON.parse(e);this.dealerInfo=t.invoice.dealer,this.contactInfo=t.invoice.contactInfo,this.invoiceInfo=t.invoice.invoiceInfo,this.matterList=t.invoice.matterList,this.orderList=t.invoice.orderList,this.dealerParams.dealerCode=this.dealerInfo.dealerCode,this.invoiceGetType.push(this.invoiceInfo.invoiceType),sessionStorage.removeItem("ZZSKP_DATA")}}}},Thu3:function(e,t){},TnC3:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("3cXf"),o=n(s),l=a("a3Yh"),d=n(l),u=a("4YfN"),c=n(u),f=a("7g+Q"),m=n(f),h=a("+62G"),v=n(h),p=a("z5TY"),C=n(p),_=a("BGNQ"),y=n(_),b=a("iR2W"),g=n(b),w=a("u28h"),I=n(w),x=a("SAzG"),D=n(x),P=a("PzEQ"),k=n(P),S=a("0AQX"),T=a("HyXB"),L=a("I3vJ"),N=a("bKg5"),M=n(N),A=a("wRUd"),O=n(A),R=a("i61Q"),j=n(R),$=a("hByD"),B=n($),E=a("89pA"),F=n(E),U=a("vl8n"),q=n(U),Q=a("+WR7"),H=n(Q),V=a("0o6b"),X=a("zWMP"),z=a("Qg39");t.default={directives:{TransferDom:v.default},components:{Popup:m.default,PopWorkList:j.default,Group:C.default,Cell:y.default,Datetime:I.default,XInput:D.default,XTextarea:k.default,PopManagerList:O.default,RPicker:q.default,PopWorkFacilityList:B.default,PopWarehouseList:F.default,PopBaseinfo:H.default},data:function(){return{listId:"2372f734-93c1-11e8-85db-005056a136d0",showWorkPop:!1,showManagerPop:!1,showFacilityPop:!1,formData:{biComment:"",biProcessStatus:""},workInfo:[],defaultManager:{},defaultFacility:{},scanResult:"",warehouse:{},filter:[{operator:"in",property:"whCode",value:""},{operator:"in",property:"parentInvCode",value:""}],filterParams:[{property:"warehouseType",operator:"eq",value:"加工车间仓"}],managerIndex:null,facilityIndex:null}},mixins:[M.default],filters:{numberComma:g.default},methods:{selWork:function(e){this.workInfo=JSON.parse(e),this.workInfo.forEach(function(e,t){e.tdQty=e.thenQtyBal})},showManager:function(e){this.managerIndex=e,this.showManagerPop=!this.showManagerPop},selManager:function(e){this.defaultManager=JSON.parse(e),this.workInfo[this.managerIndex].dealerName_dealerDebit=this.defaultManager.dealerName,this.workInfo[this.managerIndex].dealerDebit=this.defaultManager.dealerCode,this.workInfo[this.managerIndex].drDealerLabel=this.defaultManager.dealerLabelName},showFacility:function(e){this.facilityIndex=e,this.showFacilityPop=!this.showFacilityPop},selFacility:function(e){this.defaultFacility=e,this.workInfo[this.facilityIndex].facilityName_facilityObjCode=this.defaultFacility.facilityName,this.workInfo[this.facilityIndex].facilityObjCode=this.defaultFacility.facilityCode,this.workInfo[this.facilityIndex].facilityTypebase_facilityObjCode=this.defaultFacility.facilityType},checkAmt:function(e,t){var a=e.tdQty,n=e.thenQtyBal,i=e.numberWorkers;a&&(a>n&&(e.tdQty=n),e.tdQty=Math.abs((0,z.toFixed)(a)),e.boms&&e.boms.forEach(function(t){var a=(0,X.accMul)(e.tdQty,t.qty);t.tdQty=Math.abs((0,z.toFixed)(a))})),i&&(e.numberWorkers=Math.round(i))},selWarehouse:function(e){var t=this;this.warehouse=JSON.parse(e),this.filter[0].value=this.warehouse.warehouseCode,this.workInfo.forEach(function(e,a){t.filter[1].value=e.inventoryCode,t.getTaskBom(a).then(function(n){e.boms=n,t.$set(t.workInfo,a,(0,c.default)({},e))})})},submitOrder:function(){var e=this,t="",a=[],n=[{key:"tdQty",message:"请填写派工数量"},{key:"dealerName_dealerDebit",message:"请选择组长"},{key:"promDeliTime",message:"请选择要求完工日期"}];if(this.workInfo.length||(t="请选择工序"),t||this.warehouse.warehouseCode||(t="请选择在制仓库"),t||this.workInfo.every(function(e){n.every(function(a){return!(!e[a.key]&&0!==e[a.key])||(t=a.message,!1)});var i=[];return e.boms.forEach(function(t){i.push({tdQty:t.tdQty,proPointCode:e.proPointCode,processCode:e.transCode,processProCode:e.inventoryCode,outPutMatCode:t.inventoryCode,thenQtyStock:t.qtyBal,specification_outPutMatCode:t.specification,tdProcessing:t.processing,inventoryName_outPutMatCode:t.inventoryName,measureUnit_outPutMatCode:t.measureUnit,bomType:t.bomType,bomQty:t.qty,thenLockQty:t.tdQty,thenQtyBal:0})}),a.push({transMatchedCode:e.transCode,processProQty:e.processProQty||null,transObjCode:e.inventoryCode,inventoryName_transObjCode:e.inventoryName,proPointCode:e.proPointCode,procedureName_proPointCode:e.procedureName,tdId:e.tdId||null,productDemandQty:e.productDemandQty,thenLockQty:e.thenLockQty,thenQtyBal:e.thenQtyBal,tdQty:e.tdQty,dealerName_dealerDebit:e.dealerName_dealerDebit,dealerDebit:e.dealerDebit,drDealerLabel:e.drDealerLabel,numberWorkers:e.numberWorkers,facilityName_facilityObjCode:e.facilityName_facilityObjCode,proFlowCode:e.proFlowCode||"",technicsName_proFlowCode:e.technicsName,promDeliTime:e.promDeliTime,facilityObjCode:e.facilityObjCode||"",facilityTypebase_facilityObjCode:e.facilityTypebase_facilityObjCode||"",boms:i}),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=T.saveAndStartWf,n=(0,d.default)({},e.processCode,{businessKey:"WTSK",createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.formData.biComment,formData:(0,o.default)((0,c.default)({},e.formData,{handlerEntity:e.entity.dealerName,order:{containerCode:e.warehouse.warehouseCode,dataSet:a}})),wfPara:(0,o.default)(n)};e.isResubmit&&(t=T.saveAndCommitTask,i.biReferenceId=e.biReferenceId),e.processCode.length||(t=T.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),console.log(i),e.saveData(t,i)}})},scanQRCode:function(){var e=this;(0,V.scanQRCode)().then(function(t){var a=t.result,n=void 0===a?"":a;e.scanResult=n})},onHistoryBack:function(){return!this.showWorkPop||(this.showWorkPop=!1,!1)},getFormData:function(){var e=this;return(0,S.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=t.attachment;var o=[],l=s.order,d=l.dataSet,u=void 0===d?[]:d,f=!0,m=!1,h=void 0;try{for(var v,p=(0,r.default)(u);!(f=(v=p.next()).done);f=!0){var C=v.value;C=(0,c.default)({},C,{inventoryCode:C.transObjCode,inventoryName:C.inventoryName_outPutMatCode,procedureName:C.procedureName_proPointCode,technicsName:C.technicsName_proFlowCode,transCode:C.transMatchedCode,processing:C.tdProcessing||null}),C.boms.forEach(function(e){e.inventoryCode=e.outPutMatCode,e.nventoryName=e.inventoryName_outPutMatCode,e.measureUnit=e.measureUnit_outPutMatCode,e.parentInvCode=e.processProCode,e.processing=e.tdProcessing,e.qty=e.bomQty,e.qtyBal=e.thenQtyStock,e.specification=e.specification_outPutMatCode}),o.push(C)}}catch(e){m=!0,h=e}finally{try{!f&&p.return&&p.return()}finally{if(m)throw h}}e.workInfo=o,e.warehouse={warehouseCode:l.containerCode,warehouseName:l.warehouseName_containerCode,warehouseType:l.warehouseType_containerCode,warehouseProvince:l.warehouseProvince_containerCode,warehouseCity:l.warehouseCity_containerCode,warehouseDistrict:l.warehouseDistrict_containerCode,warehouseAddress:l.warehouseAddress_containerCode},e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,c.default)({},e.handlerDefault,{biComment:s.biComment,biId:s.biId,biProcessStatus:s.biProcessStatus,creator:s.creator,modifer:s.modifer}),e.biReferenceId=s.biReferenceId,e.$loading.hide()})},getTaskBom:function(e){var t=this;return this.filter[0].value=this.warehouse.warehouseCode,(0,L.getTaskBom)({filter:(0,o.default)(this.filter)}).then(function(a){var n=a.tableContent,i=void 0===n?[]:n;return i.forEach(function(a){var n=t.workInfo[e].tdQty,i=(0,X.accMul)(n,a.qty);a.tdQty=(0,z.toFixed)(i)}),i})}},created:function(){}}},"Tra/":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2217,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"},{name:"往来名称",value:"dealerName_dealerCodeCredit"}]}},mixins:[i.default],methods:{},created:function(){}}},TruQ:function(e,t,a){"use strict";function n(e){a("xBH9")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("+s0Z");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("TTvH"),o=a.n(s),l=a("d329"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-4db4197e",null);t.default=c.exports},Tsmg:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper wlxqtj-detail-container"},[e.orderInfo&&e.orderInfo.outPut?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"order-list":e.orderList},scopedSlots:e._u([{key:"matterOther",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("物料大类: "+e._s(n.inventoryType_outPutMatCode||"无"))]),e._v(" "),a("span",[e._v("单位: "+e._s(n.measureUnit_outPutMatCode))])]),e._v(" "),a("div",{staticClass:"mater_num"},[a("span",{staticClass:"num"},[e._v("\n                减少数量: "+e._s(n.tdQty)+"\n              ")]),e._v(" "),a("span",{staticClass:"units"},[e._v("\n                [余额: "+e._s(n.thenQtyBal)+"]\n              ")])])])]}}])},[a("template",{slot:"orderTitle"},[a("span",{staticClass:"order_title"},[e._v("计划号")])])],2),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},UAsZ:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("6q39"),v=n(h),p=a("kNGm"),C=n(p),_=a("fEP3"),y=a("1KNX"),b=n(y),g=a("7biW"),w=n(g);t.default={name:"PopWorkStartList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:m.default,LoadMore:v.default,RScroll:b.default,MSearch:w.default},filters:{dateFormat:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},workList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"工序名称",value:"procedureName"}],filterProperty:""}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){return this.selItems.colId===e.colId},selThis:function(e,t){this.showPop=!1,this.selItems=(0,d.default)({},e),this.$emit("sel-work",this.selItems)},setDefaultValue:function(){this.selItems=(0,d.default)({},this.defaultValue)},getWorkOrderTask:function(){var e=this,t=[];if(this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),this.$route.query.inventoryCode){var a=this.$route.query,n=a.inventoryCode,i=a.proPointCode;t=[].concat((0,o.default)(t),[{operator:"eq",value:n,property:"inventoryCode",separator:"and"},{operator:"eq",value:i,property:"proPointCode"}])}return(0,_.getWorkStartList)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.$route.query.inventoryCode&&e.$emit("sel-work",r[0]),e.hasNext=n>(e.page-1)*e.limit+r.length,e.workList=1===e.page?r:[].concat((0,o.default)(e.workList),(0,o.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.workList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getWorkOrderTask()},onPullingUp:function(){this.page++,this.getWorkOrderTask()}},created:function(){this.setDefaultValue(),this.getWorkOrderTask()}}},UBaU:function(e,t,a){"use strict";function n(e){a("QaSy")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("UmsA");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("UJAU"),o=a.n(s),l=a("sQTm"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-187eaff2",null);t.default=c.exports},UD9u:function(e,t,a){"use strict";function n(e){a("2qOs")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("2/p2");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("4CTk"),o=a.n(s),l=a("8CsO"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-039a4f88",null);t.default=c.exports},UFIK:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("a3Yh"),o=n(s),l=a("3cXf"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("7g+Q"),C=n(p),_=a("PzEQ"),y=n(_),b=a("jnZd"),g=n(b),w=a("u28h"),I=n(w),x=a("kNGm"),D=n(x),P=a("iR2W"),k=n(P),S=a("0AQX"),T=a("HyXB"),L=(a("jLp1"),a("bKg5")),N=n(L),M=a("wuIh"),A=n(M),O=a("CKaN"),R=n(O),j=a("vl8n"),$=n(j),B=a("+WR7"),E=n(B),F=a("zWMP"),U=a("Qg39");t.default={mixins:[N.default],components:{Cell:c.default,Group:m.default,Popup:C.default,XInput:v.default,XTextarea:y.default,PopupPicker:g.default,RPicker:$.default,PopBaseinfo:E.default,PopMoneyOrderList:A.default,Datetime:I.default,PopCashList:R.default},data:function(){return{listId:"bb9ce973-2f62-4707-a54c-7e8605dc99d6",biReferenceId:"",selectedCost:[],costIndex:0,transCode:"",formData:{biComment:"",biProcessStatus:""},showOrder:!1,orderList:[],cashInfo:{}}},computed:{tdAmount:function(){var e=0;return this.orderList.forEach(function(t){t.thenAmntBal&&(e=(0,F.accAdd)(e,t.thenAmntBal))}),(0,U.toFixed)(e)}},filters:{numberComma:k.default,dateFormat:D.default},methods:{submitOrder:function(){var e=this,t="",a=[],n=[{key:"cashingDiscountDate",message:"请选择兑现贴现日"}];if(t||this.orderList.length||(t="请选择汇票明细"),t||this.orderList.every(function(e){return n.every(function(a){return e[a.key]||0===e[a.key]||(t=a.message),!t}),a.push({tdId:e.tdId||null,draftNumber:e.draftNumber,draftType:e.draftType,accepter:e.accepter,tdAmount:e.tdAmount,draftDate:e.draftDate,draftDueDate:e.draftDueDate,cashingDiscountDate:e.cashingDiscountDate,discount:e.discount,thenAmntBal:e.thenAmntBal,comment:e.comment||""}),!t}),t||this.cashInfo.fundName||(t="请选择资金账户"),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=T.saveAndStartWf,n=(0,o.default)({},e.processCode,{businessKey:"CDTB",createdBy:(0,d.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.formData.biComment,formData:(0,d.default)((0,r.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",inPut:{dataSet:[{fundName_cashInCode:e.cashInfo.fundName,cashInCode:e.cashInfo.fundCode,cashType_cashInCode:e.cashInfo.fundType,thenAmntBal:e.cashInfo.amntBal,tdAmount:e.tdAmount}]},order:{dataSet:a},deposit:null})),wfPara:(0,d.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=T.saveAndCommitTask),e.processCode.length||(t=T.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,S.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.attachment,n=void 0===a?[]:a,i=t.listId,s=void 0===i?"":i,o=(t.biComment,t.biReferenceId),l=void 0===o?"":o,d=t.formData,u=void 0===d?{}:d;e.attachment=n,e.listId=s,e.biReferenceId=l,e.handlerDefault={handler:u.handler,handlerName:u.handlerName,handlerUnit:u.handlerUnit,handlerUnitName:u.handlerUnitName,handlerRole:u.handlerRole,handlerRoleName:u.handlerRoleName},e.formData=(0,r.default)({},e.formData,e.handlerDefault,{biComment:u.biComment,biId:u.biId,biProcessStatus:u.biProcessStatus,creator:u.creator,modifer:u.modifer});var c=u.order,f=void 0===c?{}:c,m=u.inPut,h=void 0===m?{}:m,v=f.dataSet,p=void 0===v?[]:v;e.cashInfo={fundName:h.dataSet[0].fundName_cashInCode,fundCode:h.dataSet[0].cashInCode,fundType:h.dataSet[0].cashType_cashInCode,tdAmount:h.dataSet[0].tdAmount,amntBal:h.dataSet[0].thenAmntBal},e.orderList=p,e.$loading.hide()})},hasDraftData:function(){return!!this.orderList.dealerCode&&(0,o.default)({},"DXTXCDHP_DATA",{formData:this.formData,cashInfo:this.cashInfo,orderList:this.orderList})},getRelationData:function(){},selOrder:function(e){e.forEach(function(e){e.draftDate=(0,D.default)(e.draftDate,"YYYY-MM-DD"),e.draftDueDate=(0,D.default)(e.draftDueDate,"YYYY-MM-DD"),e.tdAmount=e.amntTbMatched}),this.orderList=e,this.orderList.forEach(function(e){e.discount||(e.discount=0),e.thenAmntBal=Number((0,F.accSub)(e.tdAmount,e.discount))})},addOrder:function(){this.showOrder=!0},selCash:function(e){this.cashInfo=(0,r.default)({},e)},checkAmt:function(e,t){var a=e.discount,n=void 0===a?0:a;e.discount=Math.abs((0,U.toFixed)(n)),e.thenAmntBal=Number((0,F.accSub)(e.amntTbMatched,e.discount)),this.$set(this.orderList,t,(0,r.default)({},e))}},created:function(){var e=sessionStorage.getItem("DXTXCDHP_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.cashInfo=t.cashInfo,this.orderList=t.orderList,sessionStorage.removeItem("DXTXCDHP_DATA")}}}},UI89:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("kNGm"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o);t.default={data:function(){return{userData:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},uploadStyle:{width:"100%",padding:"0.06rem 0.1rem"}}},mixins:[l.default],filters:{date:function(e){return(0,r.default)(e,"YYYY-MM-DD")}},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=o,e.userData=r,e.workFlowInfoHandler()})},goEdit:function(){var e=this.$route.params,t=e.fileId,a=e.listId,n=this.$route.query.name;this.$router.push({path:"/fillform/"+t+"/"+a,query:{name:n,transCode:this.transCode}})}}}},UJAU:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("4YfN"),o=n(s),l=a("MgeX"),d=n(l),u=a("HzJ8"),c=n(u),f=a("ZLEe"),m=n(f),h=a("3cXf"),v=n(h),p=a("HXPS"),C=n(p),_=a("BGNQ"),y=n(_),b=a("z5TY"),g=n(b),w=a("SAzG"),I=n(w),x=a("u28h"),D=n(x),P=a("PzEQ"),k=n(P),S=a("0AQX"),T=(a("I3vJ"),a("HyXB")),L=a("bKg5"),N=n(L),M=a("luHD"),A=n(M),O=a("RMtk"),R=n(O),j=a("jEax"),$=n(j),B=a("d7ck"),E=n(B),F=a("FlCz"),U=n(F),q=a("MVgC"),Q=n(q),H=a("vl8n"),V=n(H),X=a("+WR7"),z=n(X),Y=a("89pA"),W=n(Y),G=(a("zWMP"),a("Qg39"));t.default={name:"ApplyWLXQTJForm",mixins:[N.default],components:{Icon:C.default,Cell:y.default,Group:g.default,XInput:I.default,XTextarea:k.default,PopMatter:A.default,PopOrderXqtjList:R.default,Datetime:D.default,FormCell:E.default,PopWarehouseNbjgrkList:$.default,BomList:U.default,BomPop:Q.default,RPicker:V.default,PopBaseinfo:z.default,PopWarehouseList:W.default},data:function(){return{listId:"5e8d89f1-49a5-4089-9c1a-44dc2ce0ae4b",orderList:{},showOrderPop:!1,formData:{biProcessStatus:null,biComment:""},submitSuccess:!1,warehouse:null,numMap:{},transCode:"",formViewUniqueId:"82784823-ded5-4a58-a746-d32514f7d26f",biReferenceId:"",actions:[],taskId:"",matterList:[],entity:{},tmpItems:{},matter:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,warehouseOut:null,warehouseIn:null}},methods:{selWarehouseOut:function(e){this.warehouseOut=JSON.parse(e)},selWarehouseIn:function(e){this.warehouseIn=JSON.parse(e)},checkAmt:function(e){var t=e.tdQty,a=e.qtyStock;t&&(e.tdQty=Math.abs((0,G.toFixed)(t)),e.tdQty=t>a?a:e.tdQty)},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,v.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t)},selOrder:function(e){var t=this,a=JSON.parse(e),n={};this.DuplicateBoms=[],a.forEach(function(e){var a=e.transCode+"_"+e.orderCode+"_"+e.inventoryCode,i=t.numMap[a]||{},r=i.tdQty,s=void 0===r?"":r,o=i.warehouseName,l=void 0===o?e.warehouseName:o,d=i.warehouseCode,u=void 0===d?e.warehouseCode:d;e.tdQty=s,e.warehouseName=l,e.warehouseCode=u,n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},findIndex:function(e,t){return e.findIndex(function(e){return e.orderCode===t.orderCode&&e.transCode===t.transCode&&e.inventoryCode===t.inventoryCode})},delClick:function(e,t,a){var n=this.selItems,i=this.findIndex(n,t);if(-1!==i)return void n.splice(i,1);n.push(t)},showSelIcon:function(e){return-1!==this.findIndex(this.selItems,e)},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,v.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,m.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.orderCode===a.orderCode&&t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=e.findIndex(n,t);i>=0&&(e.$refs.order.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,c.default)((0,d.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,l=!1,u=void 0;try{for(var f,m=(0,c.default)(r);!(s=(f=m.next()).done);s=!0){var h=f.value;this.numMap[h.transCode+"_"+h.orderCode+"_"+h.inventoryCode]=(0,o.default)({},h)}}catch(e){l=!0,u=e}finally{try{!s&&m.return&&m.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="";if([{key:"warehouseOut",message:"出库仓库"},{key:"warehouseIn",message:"入库仓库"}].every(function(a){return!!e[a.key]||(t="请选择"+a.message,!1)}),t||(0,m.default)(this.orderList).length||(t="请选择物料"),!t){var a=!0,n=!1,i=void 0;try{for(var s,l=(0,c.default)((0,d.default)(this.orderList));!(a=(s=l.next()).done);a=!0){var u=s.value,f=!0,h=!1,p=void 0;try{for(var C,_=(0,c.default)(u);!(f=(C=_.next()).done);f=!0)if(!C.value.tdQty){t="请填写本次入库数量";break}}catch(e){h=!0,p=e}finally{try{!f&&_.return&&_.return()}finally{if(h)throw p}}if(t)break}}catch(e){n=!0,i=e}finally{try{!a&&l.return&&l.return()}finally{if(n)throw i}}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=[],a=T.saveAndStartWf,n={},i=(0,r.default)({},e.processCode,{businessKey:"IPPI",createdBy:""}),s=!0,l=!1,u=void 0;try{for(var f,m=(0,c.default)((0,d.default)(e.orderList));!(s=(f=m.next()).done);s=!0){var h=f.value,p=!0,C=!1,_=void 0;try{for(var y,b=(0,c.default)(h);!(p=(y=b.next()).done);p=!0){var g=y.value,w={tdId:g.tdId||null,transMatchedCode:g.transCode,orderCode:g.orderCode,transObjCode:g.inventoryCode,inventoryName_transObjCode:g.inventoryName,tdProcessing:g.processing,measureUnit_transObjCode:g.measureUnit,thenQtyStock:g.qtyStock,thenQtyBal:g.qtyBal,tdQty:g.tdQty,comment:g.comment||""};t.push(w)}}catch(e){C=!0,_=e}finally{try{!p&&b.return&&b.return()}finally{if(C)throw _}}}}catch(e){l=!0,u=e}finally{try{!s&&m.return&&m.return()}finally{if(l)throw u}}n=(0,o.default)({},e.formData,{modifer:e.transCode?e.formData.handler:"",handlerEntity:e.entity.dealerName,inPut:{containerCodeOut:e.warehouseOut.warehouseCode,containerCode:e.warehouseIn.warehouseCode,dataSet:t},containerOutWarehouseManager:e.warehouseOut.manager||null,containerInWarehouseManager:e.warehouseIn.manager||null}),e.transCode&&(a=T.saveAndCommitTask,i={businessKey:e.transCode,createdBy:n.creator||n.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var I={listId:e.listId,biComment:"",formData:(0,v.default)(n),wfPara:(0,v.default)(i)};e.processCode.length||(a=T.submitAndCalc,delete I.wfPara),e.transCode&&(I.biReferenceId=e.biReferenceId),e.saveData(a,I)}})},getFormData:function(){var e=this;return(0,S.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,l=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=l;var d={},u=r.inPut,f=u.dataSet,m=void 0===f?[]:f,h=!0,v=!1,p=void 0;try{for(var C,_=(0,c.default)(m);!(h=(C=_.next()).done);h=!0){var y=C.value;y=(0,o.default)({},y,{transCode:y.transMatchedCode,qtyBal:y.thenQtyBal,qtyStock:y.thenQtyStock,inventoryPic:y.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+y.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:y.inventoryName_transObjCode,inventoryCode:y.transObjCode,specification:y.specification_transObjCode,processing:y.tdProcessing}),d[y.transCode]||(d[y.transCode]=[]),d[y.transCode].push(y)}}catch(e){v=!0,p=e}finally{try{!h&&_.return&&_.return()}finally{if(v)throw p}}e.warehouseOut={warehouseName:u.warehouseName_containerCodeOut,warehouseType:u.warehouseType_containerCodeOut,warehouseCode:u.containerCodeOut,manager:r.containerOutWarehouseManager},e.warehouseIn={warehouseName:u.warehouseName_containerCode,warehouseType:u.warehouseType_containerCode,warehouseCode:u.containerCode,manager:r.containerInWarehouseManager},e.matterList=m,e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,o.default)({},e.formData,e.handlerDefault,{biComment:r.biComment,biId:r.biId,biProcessStatus:r.biProcessStatus,creator:r.creator,modifer:r.modifer}),e.biReferenceId=r.biReferenceId,e.orderList=d,e.$loading.hide()})},hasDraftData:function(){return!!(0,d.default)(this.orderList).length&&(0,r.default)({},"NBJGRK_DATA",{orderList:this.orderList,formData:this.formData,warehouseIn:this.warehouseIn,warehouseOut:this.warehouseOut})}},created:function(){var e=sessionStorage.getItem("NBJGRK_DATA");if(e){var t=JSON.parse(e);this.orderList=t.orderList,this.formData=t.formData,this.warehouseOut=t.warehouseOut,this.warehouseIn=t.warehouseIn,sessionStorage.removeItem("NBJGRK_DATA")}}}},UV90:function(e,t){},UWkS:function(e,t){},UXCm:function(e,t,a){"use strict";function n(e){a("lX6R")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Hp0t");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("jO70"),o=a.n(s),l=a("/nCc"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-69ab8fb6",null);t.default=c.exports},UZQG:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"each_cell",class:{"vux-1px-t":e.showTopBorder,"when-is-right":e.textRight}},[a("span",{staticClass:"cell_name"},[e._v(e._s(e.cellTitle)+": ")]),e._v(" "),a("span",{staticClass:"cell_content"},[e.showSymbol?a("span",{staticClass:"symbol"},[e._v("￥")]):e._e(),e._v(e._s(e.cellContent||"无")+"\n  ")])])},i=[],r={render:n,staticRenderFns:i};t.a=r},UZRl:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=(a("XAqG"),a("HyXB"),a("MjAd")),o=n(s),l=a("ak47");n(l);t.default={name:"CPXQ_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"经办人",value:"handlerName"},{name:"交易号",value:"transCode"},{name:"员工",value:"profileName"}],listViewID:2374}},mixins:[o.default],methods:{pathChange:function(e,t,a){var n=this;if(!this.clickVisited){var i=e.transCode,s=this.$route.query.name,o=this.$route.params,l=o.fileId,d=o.listId;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,r.default)({},e));var u=a+"/"+l+"/"+d;setTimeout(function(){n.clickVisited=!1,n.$router.push({path:u,query:{name:s,transCode:i}})},200)}},goDetail:function(e,t){this.pathChange(e,t,"/detail")},goUserEdit:function(e,t){this.pathChange(e,t,"/fillform")}}}},UZlK:function(e,t){},UbXN:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"load-more",props:{showLoading:{type:Boolean,default:!0},tip:String}}},Ujdd:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper xsbj-detail-container"},[e.orderInfo?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_content"},[e._m(0),e._v(" "),a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"工序名称",cellContent:e.workInfo.procedureName_proPointCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"工序编码",cellContent:e.workInfo.proPointCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"工序待验收",cellContent:e.workInfo.thenQtyStock}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"工序可派工",cellContent:e.workInfo.thenQtyBal}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"派工数量",cellContent:e.workInfo.tdQty}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"工人",cellContent:e.workInfo.dealerName_dealerDebit}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"设施",cellContent:e.workInfo.facilityName_facilityObjCode||"无"}})],1)]),e._v(" "),a("div",{staticClass:"form_content",staticStyle:{marginTop:".1rem"}},[e._m(1),e._v(" "),a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"加工订单号",cellContent:e.workInfo.processCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"成品名称",cellContent:e.workInfo.inventoryName_transObjCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"订单加工数",cellContent:e.workInfo.processProQty}})],1)]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title"},[a("span",{staticClass:"iconfont icon-mingxi1"}),e._v(" "),a("span",[e._v("工单信息")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title"},[a("span",{staticClass:"iconfont icon-mingxi1"}),e._v(" "),a("span",[e._v("加工订单信息")])])}],r={render:n,staticRenderFns:i};t.a=r},Ul2w:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("HXPS"),d=n(l),u=a("7g+Q"),c=n(u),f=a("6q39"),m=n(f),h=a("QHLv"),v=a("1KNX"),p=n(v),C=a("7biW"),_=n(C);t.default={name:"MatterList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},groupId:{type:Number,default:990713},getListMethod:{type:String,default:"getCostByGroupId"}},components:{Icon:d.default,Popup:c.default,LoadMore:m.default,RScroll:p.default,MSearch:_.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],costList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}},groupId:{handler:function(){this[this.getListMethod]()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,o.default)(this.selItems)),this.$emit("input",!1)},showSelIcon:function(e){var t=!1;return this.selItems&&this.selItems.every(function(a){return e.costCode!==a.costCode||(t=!0,!1)}),t},selThis:function(e,t){this.showPop=!1,this.selItems=[e],this.$emit("sel-matter",this.selItems[0])},setDefaultValue:function(){this.tmpItems=[].concat((0,o.default)(this.defaultValue)),this.selItems=[].concat((0,o.default)(this.defaultValue))},getCostByGroupId:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,o.default)(e),[{operator:"like",value:this.srhInpTx,property:"costName"}])),(0,h.getCostByGroupId)({groupId:this.groupId,limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(e)}).then(this.dataHandler)},getProjectCostByGroupId:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,o.default)(e),[{operator:"like",value:this.srhInpTx,property:"costName"}])),(0,h.getProjectCostByGroupId)({groupId:this.groupId,limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(e)}).then(this.dataHandler)},dataHandler:function(e){var t=this,a=e.dataCount,n=void 0===a?0:a,i=e.tableContent,r=void 0===i?[]:i;this.hasNext=n>(this.page-1)*this.limit+r.length,this.costList=1===this.page?r:[].concat((0,o.default)(this.costList),(0,o.default)(r)),this.$nextTick(function(){t.$refs.bScroll.finishPullUp()})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.costList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this[this.getListMethod]()},onPullingUp:function(){this.page++,this[this.getListMethod]()}},created:function(){this.setDefaultValue(),this[this.getListMethod]()}}},UmsA:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("4YfN"),o=n(s),l=a("MgeX"),d=n(l),u=a("HzJ8"),c=n(u),f=a("ZLEe"),m=n(f),h=a("3cXf"),v=n(h),p=a("HXPS"),C=n(p),_=a("BGNQ"),y=n(_),b=a("z5TY"),g=n(b),w=a("SAzG"),I=n(w),x=a("u28h"),D=n(x),P=a("PzEQ"),k=n(P),S=a("0AQX"),T=(a("I3vJ"),a("HyXB")),L=a("bKg5"),N=n(L),M=a("luHD"),A=n(M),O=a("RMtk"),R=n(O),j=a("jEax"),$=n(j),B=a("d7ck"),E=n(B),F=a("FlCz"),U=n(F),q=a("MVgC"),Q=n(q),H=a("vl8n"),V=n(H),X=a("+WR7"),z=n(X),Y=a("89pA"),W=n(Y),G=(a("zWMP"),a("Qg39"));t.default={name:"ApplyWLXQTJForm",mixins:[N.default],components:{Icon:C.default,Cell:y.default,Group:g.default,XInput:I.default,XTextarea:k.default,PopMatter:A.default,PopOrderXqtjList:R.default,Datetime:D.default,FormCell:E.default,PopWarehouseNbjgrkList:$.default,BomList:U.default,BomPop:Q.default,RPicker:V.default,PopBaseinfo:z.default,PopWarehouseList:W.default},data:function(){return{listId:"5e8d89f1-49a5-4089-9c1a-44dc2ce0ae4b",orderList:{},showOrderPop:!1,formData:{biProcessStatus:null,biComment:""},submitSuccess:!1,warehouse:null,numMap:{},transCode:"",formViewUniqueId:"82784823-ded5-4a58-a746-d32514f7d26f",biReferenceId:"",actions:[],taskId:"",matterList:[],entity:{},tmpItems:{},matter:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,warehouseOut:null,warehouseIn:null}},methods:{selWarehouseOut:function(e){this.warehouseOut=JSON.parse(e)},selWarehouseIn:function(e){this.warehouseIn=JSON.parse(e)},checkAmt:function(e){var t=e.tdQty,a=e.qtyStock;t&&(e.tdQty=Math.abs((0,G.toFixed)(t)),e.tdQty=t>a?a:e.tdQty)},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,v.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t)},selOrder:function(e){var t=this,a=JSON.parse(e),n={};this.DuplicateBoms=[],a.forEach(function(e){var a=e.transCode+"_"+e.orderCode+"_"+e.inventoryCode,i=t.numMap[a]||{},r=i.tdQty,s=void 0===r?"":r,o=i.warehouseName,l=void 0===o?e.warehouseName:o,d=i.warehouseCode,u=void 0===d?e.warehouseCode:d;e.tdQty=s,e.warehouseName=l,e.warehouseCode=u,n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},findIndex:function(e,t){return e.findIndex(function(e){return e.orderCode===t.orderCode&&e.transCode===t.transCode&&e.inventoryCode===t.inventoryCode})},delClick:function(e,t,a){var n=this.selItems,i=this.findIndex(n,t);if(-1!==i)return void n.splice(i,1);n.push(t)},showSelIcon:function(e){return-1!==this.findIndex(this.selItems,e)},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,v.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,m.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.orderCode===a.orderCode&&t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=e.findIndex(n,t);i>=0&&(e.$refs.order.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,c.default)((0,d.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,l=!1,u=void 0;try{for(var f,m=(0,c.default)(r);!(s=(f=m.next()).done);s=!0){var h=f.value;this.numMap[h.transCode+"_"+h.orderCode+"_"+h.inventoryCode]=(0,o.default)({},h)}}catch(e){l=!0,u=e}finally{try{!s&&m.return&&m.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="";if([{key:"warehouseOut",message:"出库仓库"},{key:"warehouseIn",message:"入库仓库"}].every(function(a){return!!e[a.key]||(t="请选择"+a.message,!1)}),t||(0,m.default)(this.orderList).length||(t="请选择物料"),!t){var a=!0,n=!1,i=void 0;try{for(var s,l=(0,c.default)((0,d.default)(this.orderList));!(a=(s=l.next()).done);a=!0){var u=s.value,f=!0,h=!1,p=void 0;try{for(var C,_=(0,c.default)(u);!(f=(C=_.next()).done);f=!0)if(!C.value.tdQty){t="请填写本次入库数量";break}}catch(e){h=!0,p=e}finally{try{!f&&_.return&&_.return()}finally{if(h)throw p}}if(t)break}}catch(e){n=!0,i=e}finally{try{!a&&l.return&&l.return()}finally{if(n)throw i}}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=[],a=T.saveAndStartWf,n={},i=(0,r.default)({},e.processCode,{businessKey:"IPPI",createdBy:""}),s=!0,l=!1,u=void 0;try{for(var f,m=(0,c.default)((0,d.default)(e.orderList));!(s=(f=m.next()).done);s=!0){var h=f.value,p=!0,C=!1,_=void 0;try{for(var y,b=(0,c.default)(h);!(p=(y=b.next()).done);p=!0){var g=y.value,w={tdId:g.tdId||null,transMatchedCode:g.transCode,orderCode:g.orderCode,transObjCode:g.inventoryCode,inventoryName_transObjCode:g.inventoryName,tdProcessing:g.processing,measureUnit_transObjCode:g.measureUnit,thenQtyStock:g.qtyStock,thenQtyBal:g.qtyBal,tdQty:g.tdQty,comment:g.comment||""};t.push(w)}}catch(e){C=!0,_=e}finally{try{!p&&b.return&&b.return()}finally{if(C)throw _}}}}catch(e){l=!0,u=e}finally{try{!s&&m.return&&m.return()}finally{if(l)throw u}}n=(0,o.default)({},e.formData,{modifer:e.transCode?e.formData.handler:"",handlerEntity:e.entity.dealerName,inPut:{containerCodeOut:e.warehouseOut.warehouseCode,containerCode:e.warehouseIn.warehouseCode,dataSet:t},containerOutWarehouseManager:e.warehouseOut.manager||null,containerInWarehouseManager:e.warehouseIn.manager||null}),e.transCode&&(a=T.saveAndCommitTask,i={businessKey:e.transCode,createdBy:n.creator||n.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var I={listId:e.listId,biComment:"",formData:(0,v.default)(n),wfPara:(0,v.default)(i)};e.processCode.length||(a=T.submitAndCalc,delete I.wfPara),e.transCode&&(I.biReferenceId=e.biReferenceId),e.saveData(a,I)}})},getFormData:function(){var e=this;return(0,S.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,l=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=l;var d={},u=r.inPut,f=u.dataSet,m=void 0===f?[]:f,h=!0,v=!1,p=void 0;try{for(var C,_=(0,c.default)(m);!(h=(C=_.next()).done);h=!0){var y=C.value;y=(0,o.default)({},y,{transCode:y.transMatchedCode,qtyBal:y.thenQtyBal,qtyStock:y.thenQtyStock,inventoryPic:y.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+y.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:y.inventoryName_transObjCode,inventoryCode:y.transObjCode,specification:y.specification_transObjCode,processing:y.tdProcessing}),d[y.transCode]||(d[y.transCode]=[]),d[y.transCode].push(y)}}catch(e){v=!0,p=e}finally{try{!h&&_.return&&_.return()}finally{if(v)throw p}}e.warehouseOut={warehouseName:u.warehouseName_containerCodeOut,warehouseType:u.warehouseType_containerCodeOut,warehouseCode:u.containerCodeOut,manager:r.containerOutWarehouseManager},e.warehouseIn={warehouseName:u.warehouseName_containerCode,warehouseType:u.warehouseType_containerCode,warehouseCode:u.containerCode,manager:r.containerInWarehouseManager},e.matterList=m,e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,o.default)({},e.formData,e.handlerDefault,{biComment:r.biComment,biId:r.biId,biProcessStatus:r.biProcessStatus,creator:r.creator,modifer:r.modifer}),e.biReferenceId=r.biReferenceId,e.orderList=d,e.$loading.hide()})},hasDraftData:function(){return!!(0,d.default)(this.orderList).length&&(0,r.default)({},"NBJGRK_DATA",{orderList:this.orderList,formData:this.formData,warehouseIn:this.warehouseIn,warehouseOut:this.warehouseOut})}},created:function(){var e=sessionStorage.getItem("NBJGRK_DATA");if(e){var t=JSON.parse(e);this.orderList=t.orderList,this.formData=t.formData,this.warehouseOut=t.warehouseOut,this.warehouseIn=t.warehouseIn,sessionStorage.removeItem("NBJGRK_DATA")}}}},UrVB:function(e,t,a){"use strict";function n(e){a("1mZp")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("N9Kf");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("N8ly"),o=a.n(s),l=a("ABM4"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-0ba75ef4",null);t.default=c.exports},Usb9:function(e,t){},Uvie:function(e,t,a){"use strict";function n(e){a("Usb9")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("24L6");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("bLVl"),o=a.n(s),l=a("Ijt+"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-2451162a",null);t.default=c.exports},UvnP:function(e,t){},UwQd:function(e,t,a){"use strict";function n(e){a("4Gt7")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("5YqO");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("57wr"),o=a.n(s),l=a("4YLJ"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},Uwbf:function(e,t){},Uy15:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.simpleWL.length?a("div",{staticClass:"work_flow",class:{hidden:e.simpleWL.length<=0},on:{click:function(t){e.popupShow=!0}}},[e._m(0),e._v(" "),a("div",{staticClass:"flow_list"},[a("div",{staticClass:"left_tabBar"},[a("span",{staticClass:"iconfont icon-gongzuoliuyiqueren"}),e._v(" "),a("div",{staticClass:"side_bar vux-1px-r"}),e._v(" "),a("span",{staticClass:"iconfont",class:[{"icon-gongzuoliushenpizhong":"进行中"===e.workFlowInfo.biStatus},{"icon-gongzuoliuyiqueren":"已生效"===e.workFlowInfo.biStatus},{"icon-zhongzhi":"已失效"===e.workFlowInfo.biStatus}]})]),e._v(" "),e._l(e.simpleWL,function(t,n){return a("div",{key:n,staticClass:"each_msg",class:{"vux-1px-b":0===n}},[a("div",{staticClass:"main_content"},[a("div",{staticClass:"user_avatar"},[a("img",{attrs:{src:t.photoUrl||e.defaulImg,alt:"avatar"},on:{error:function(a){e.getDefaultIcon(t)}}})]),e._v(" "),a("div",{staticClass:"handle_info"},[a("div",{staticClass:"handle_name"},[a("span",[e._v(e._s(t.nodeName))]),e._v(" "),t.status?t.status?a("span",{staticClass:"status",class:t.dyClass},[e._v(e._s(t.status))]):e._e():a("span",{staticClass:"status"},[e._v(e._s(e.workFlowInfo.biStatus))])]),e._v(" "),a("div",{staticClass:"user_name"},[e._v("\n            "+e._s(t.userName)+"\n          ")]),e._v(" "),a("div",{staticClass:"remark"},[e._v("备注: "+e._s(t.message||"无"))])])]),e._v(" "),n===e.simpleWL.length-1?a("div",{staticClass:"tips_content"},[e._v("\n        最新节点状态\n      ")]):e._e()])})],2),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{attrs:{position:"bottom",height:"100%"},model:{value:e.popupShow,callback:function(t){e.popupShow=t},expression:"popupShow"}},[a("r-scroll",{ref:"bScroll",staticClass:"full-flow-container"},[a("div",{staticClass:"flow"},[a("div",{staticClass:"flow_top"},[a("span",{staticClass:"title"},[e._v("工作流详情")]),e._v(" "),e.fullWorkFlow.length>=5?a("span",{staticClass:"close",on:{click:e.closePop}},[e._v("关闭")]):e._e()]),e._v(" "),a("div",{staticClass:"flow_list"},e._l(e.fullWorkFlow,function(t,n){return a("div",{key:n,staticClass:"each_msg",class:e.isMyTask&&n===e.fullWorkFlow.length-1||e.userName===t.userName?"whenisMine":""},[a("div",{staticClass:"recive_time"},[a("span",{staticClass:"num"},[e._v(e._s(t.startTime||e.crtTime))])]),e._v(" "),a("div",{staticClass:"info_part"},[a("div",{staticClass:"user_info"},[a("div",{staticClass:"user_avatar"},[a("img",{attrs:{src:t.photoUrl||e.defaulImg,alt:"avatar"},on:{error:function(a){e.getDefaultIcon(t)}}}),e._v(" "),a("div",{staticClass:"name"},[e._v(e._s(t.userName))])])]),e._v(" "),a("div",{staticClass:"handle_info"},[a("div",{staticClass:"triangle"}),e._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"handle_name"},[a("span",[e._v(e._s(t.nodeName))]),e._v(" "),n>0?a("span",{staticClass:"status",class:t.dyClass},[e._v("\n                    "+e._s("撤回"===t.status?"提交者主动撤回":t.status||e.noStatus)+"\n                  ")]):e._e()]),e._v(" "),n===e.fullWorkFlow.length-1&&"进行中"===e.noStatus?a("div",{staticClass:"remark"},[e._v("备注: 待操作人填写")]):a("div",{staticClass:"remark"},[e._v("备注: "+e._s(t.message||"无"))]),e._v(" "),t.endTime?a("div",{staticClass:"handle"},[e._v("处理时间: "+e._s(t.endTime||"暂无"))]):e._e()])]),e._v(" "),a("div",{staticClass:"del_f"})])])}))]),e._v(" "),e.fullWorkFlow.length>=5?a("div",{staticClass:"btn"},[a("span",{staticClass:"cfm_btn",on:{click:e.closePop}},[e._v("关闭")])]):e._e()]),e._v(" "),e.fullWorkFlow.length<5?a("div",{staticClass:"btn when_less"},[a("span",{staticClass:"cfm_btn",on:{click:e.closePop}},[e._v("关闭")])]):e._e()],1)],1)]):e._e()},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"work_title"},[a("div",[a("span",{staticClass:"iconfont icon-chakangongzuoliu"}),e._v(" "),a("span",{staticClass:"content"},[e._v("工作流")])]),e._v(" "),a("div",{staticClass:"tips"},[e._v("查看更多")])])}],r={render:n,staticRenderFns:i};t.a=r},UyNo:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("BGNQ"),o=n(s),l=a("z5TY"),d=n(l),u=a("kNGm"),c=n(u),f=a("iR2W"),m=n(f),h=a("jLp1"),v=a("+VRO"),p=n(v);t.default={data:function(){return{comment:{},projectApproval:{},projectTime:{},projectConclusion:{}}},filters:{dateFormat:c.default},mixins:[p.default],components:{Group:d.default,Cell:o.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,h.findProjectConclusion)(t).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=t.attachment,s=void 0===i?[]:i;e.comment=n.comment,e.attachment=s,e.projectApproval=n.projectApproval,e.projectTime=n.projectTime,e.projectConclusion=n.projectConclusion,e.orderInfo=(0,r.default)({},n.baseinfo,{biStatus:"已生效"})})},numberComma:function(e){return e||0===e?(0,m.default)(e):"无"}},created:function(){}}},V2cg:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("rVsN"),o=n(s),l=a("4YfN"),d=n(l),u=a("KH7x"),c=n(u),f=a("BGNQ"),m=n(f),h=a("z5TY"),v=n(h),p=a("SAzG"),C=n(p),_=a("PzEQ"),y=n(_),b=a("u28h"),g=n(b),w=a("kNGm"),I=n(w),x=a("jLp1"),D=a("HyXB"),P=a("bKg5"),k=n(P),S=a("PKHo"),T=n(S),L=a("vl8n"),N=n(L),M=a("+WR7"),A=n(M),O=a("7D9F"),R=n(O),j=a("zWMP"),$=a("Qg39");t.default={mixins:[k.default,T.default],components:{Cell:m.default,Group:v.default,XInput:C.default,RPicker:N.default,PopBaseinfo:A.default,Datetime:g.default,XTextarea:y.default,PopManagerList:R.default},data:function(){return{listId:"630a9b96-f257-48b6-b0bc-fd64c455d92b",typeList:[],subclassList:[],ProjectApproval:{projectName:"",projectType:"",projectManager:"",phoneNumber:"",expectStartDate:(0,I.default)(new Date,"YYYY-MM-DD"),expectEndDate:(0,I.default)(new Date,"YYYY-MM-DD"),budgetIncome:"",budgetCapital:"",budgetCost:"",budgetProfit:"",budgetProfitMargin:"",comment:"",projectSubclass:""},formData:{biComment:"",biProcessStatus:""},defaultManager:{},hasDefault:!1}},computed:{profit:function(){var e=this.ProjectApproval,t=e.budgetIncome,a=void 0===t?0:t,n=e.budgetCapital,i=void 0===n?0:n,r=e.budgetCost,s=void 0===r?0:r,o=(0,j.accSub)(a,i),l=(0,$.toFixed)((0,j.accSub)(o,s));return this.ProjectApproval.budgetProfit=l,l},profitMargin:function(){var e=this.ProjectApproval,t=e.budgetIncome,a=void 0===t?0:t,n=e.budgetProfit,i=void 0===n?1:n,r=(0,$.toFixed)(Math.floor(Number(i)/(Number(a)||1)*1e4)/1e4);return this.ProjectApproval.budgetProfitMargin=r,1e4*r/100+"%"}},methods:{save:function(){var e=this,t=[{tip:"projectManager",msg:"项目经理"},{tip:"projectType",msg:"项目大类"},{tip:"projectName",msg:"项目名称"},{tip:"budgetIncome",msg:"预算收入"},{tip:"budgetCapital",msg:"预算成本"},{tip:"budgetCost",msg:"预算费用"},{tip:"expectStartDate",msg:"预期开始日期"},{tip:"expectEndDate",msg:"预期截止日期"}],a=["projectManager","projectType"],n="";if(t.every(function(t){return!!e.ProjectApproval[t.tip]||(n=a.includes(t.tip)?"请选择"+t.msg:"请填写"+t.msg,!1)}),n)return void this.$vux.alert.show({content:n});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=x.saveProjectApproval,a={listId:e.listId,formData:{handlerEntity:e.entity.dealerName,comment:{biComment:e.formData.biComment},baseinfo:{creator:e.formData.handler,handler:e.formData.handler,handlerName:e.formData.handlerName,handlerRole:e.formData.handlerRole,handlerRoleName:e.formData.handlerRoleName,handlerUnit:e.formData.handlerUnit,handlerUnitName:e.formData.handlerUnitName,id:"",modifer:e.formData.handler},projectApproval:e.ProjectApproval},wfParam:null};e.saveData(t,a)}})},selManager:function(e){var t=JSON.parse(e);this.ProjectApproval.projectManager=t.dealerName,this.ProjectApproval.phoneNumber=t.dealerMobilePhone},checkAmt:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];t&&(this.ProjectApproval[e]=(0,$.toFixed)(t))},getBigType:function(){var e=this;return(0,D.getDictByType)("projectType").then(function(t){var a=t.tableContent,n=void 0===a?[]:a;n&&n.forEach(function(e){e.originValue=e.value,e.value=e.name}),e.typeList=n})},getType:function(){var e=this,t=this.typeList.find(function(t){return t.name===e.ProjectApproval.projectType})||{};return(0,D.getDictByValue)(t.originValue).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;return n&&n.forEach(function(e){e.originValue=e.value,e.value=e.name}),e.subclassList=n,n})},projectBigChange:function(e){var t=this;this.getType().then(function(e){if(!t.hasDefault){var a=(0,c.default)(e,1),n=a[0],i=void 0===n?{}:n;t.ProjectApproval.projectSubclass=i.name}})},getFormData:function(){var e=this;return(0,x.findProjectApproval)(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a;e.hasDefault=!0,e.defaultManager={dealerName:n.projectApproval.projectManager,dealerMobilePhone:n.projectApproval.phoneNumber},n.projectApproval.expectStartDate=e.changeDate(n.projectApproval.expectStartDate),n.projectApproval.expectEndDate=e.changeDate(n.projectApproval.expectEndDate),e.ProjectApproval=n.projectApproval,e.$nextTick(function(){e.hasDefault=!1}),e.handlerDefault={handler:n.baseinfo.handler,handlerName:n.baseinfo.handlerName,handlerUnit:n.baseinfo.handlerUnit,handlerUnitName:n.baseinfo.handlerUnitName,handlerRole:n.baseinfo.handlerRole,handlerRoleName:n.baseinfo.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:n.baseinfo.biComment,biId:n.baseinfo.biId,biProcessStatus:n.baseinfo.biProcessStatus,creator:n.baseinfo.creator,modifer:n.baseinfo.modifer}),e.biReferenceId=n.biReferenceId,e.$loading.hide()})},initRequest:function(){var e=this,t=sessionStorage.getItem("XMLX_DATA"),a=[];if(t){var n=JSON.parse(t);return this.ProjectApproval=n.ProjectApproval,this.defaultManager={dealerName:this.ProjectApproval.projectManager,dealerMobilePhone:this.ProjectApproval.phoneNumber},this.getBigType().then(function(){e.getType()}),void sessionStorage.removeItem("XMLX_DATA")}return a.push(this.getBigType()),o.default.all(a)},hasDraftData:function(){return!!this.ProjectApproval.projectManager&&(0,r.default)({},"XMLX_DATA",{ProjectApproval:this.ProjectApproval})}},created:function(){}}},V6ln:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.contactInfo,logistics:!1,payment:!1}}),e._v(" "),e.orderInfo.ticketNumber?a("div",{staticClass:"form_part"},[e._m(0),e._v(" "),a("div",{staticClass:"form_content",staticStyle:{"margin-bottom":"0.1rem"}},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"票号",cellContent:e.orderInfo.ticketNumber,textRight:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"发票类型",cellContent:e.orderInfo.invoiceType,textRight:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"发票日期",cellContent:e.orderInfo.invoiceDate,textRight:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"发票内容",cellContent:e.orderInfo.invoiceContent,textRight:""}})],1)])]):e._e(),e._v(" "),a("matter-list",{attrs:{"order-list":e.orderList,noTaxAmount:e.noTaxAmount,taxAmount:e.taxAmount,count:e.count},scopedSlots:e._u([{key:"matterOther",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("待开票数量: "+e._s(n.thenQtyBal))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.taxRate,expression:"item.taxRate"}]},[e._v("税率: "+e._s(n.taxRate))])]),e._v(" "),a("div",{staticClass:"mater_attribute"},[a("span",[e._v("单价: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.price),3)))]),e._v(" "),a("span",[e._v("本次开票数量: "+e._s(e._f("toFixed")(n.tdQty)))])]),e._v(" "),a("div",{staticClass:"mater_price"},[a("span",[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(n.tdAmount),3)))]),e._v(" "),n.taxRate?a("span",{staticClass:"num",style:{display:n.tdAmount&&n.tdAmount.toString().length>=7?"block":""}},[e._v("\n                [金额: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.noTaxAmount),3))+" + 税金: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.taxAmount),3))+"]\n              ")]):e._e()])])]}}])}),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-xiangmu"}),a("span",{staticClass:"title"},[e._v("发票信息")])])}],r={render:n,staticRenderFns:i};t.a=r},VEhc:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("HzJ8"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("PKHo"),f=n(c),m=a("zWMP"),h=a("BUFe"),v=n(h),p=a("AupE"),C=n(p),_=a("sUbJ"),y=n(_),b=a("FlCz"),g=n(b),w=a("d7ck"),I=n(w),x=a("MVgC"),D=n(x),P=a("hPJo"),k=n(P);t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",orderList:{},basicInfo:{},DuplicateBoms:[],UniqueBom:[],bomPopShow:!1,bom:{},warehouseIn:{},warehouseOut:{}}},mixins:[u.default,f.default],components:{workFlow:C.default,RAction:v.default,MatterItem:y.default,BomList:g.default,FormCell:I.default,BomPop:D.default,WarehouseContent:k.default},watch:{DuplicateBoms:{handler:function(e){var t=function(e,t){return e.inventoryCode===t.inventoryCode};this.UniqueBom=function(e){return e.reduce(function(e,a){return e.some(function(e){var n=t(e,a);return n&&(e.tdQty=(0,m.accAdd)(e.tdQty,a.tdQty)),n})||e.push(a),e},[])}(this.DuplicateBoms)}}},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},checkBom:function(e){this.bom=e,this.bomPopShow=!0},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u={};s.order;e.attachment=d;var c=s.inPut,f=void 0===c?{}:c,h=f.dataSet,v=!0,p=!1,C=void 0;try{for(var _,y=(0,o.default)(h);!(v=(_=y.next()).done);v=!0){var b=_.value;if(b.inventoryPic=b.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+b.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),b.boms){var g=!0,w=!1,I=void 0;try{for(var x,D=(0,o.default)(b.boms);!(g=(x=D.next()).done);g=!0){var P=x.value;P.inventoryCode=P.transObjCode,P.warehouseName=P.warehouseName_containerCodeOut,P.warehouseCode=P.containerCodeOut,P.qtyStock=P.thenQtyStock,P.tdQty=(0,m.accMul)(P.bomQty,b.tdQty,1+P.bomSpecificLoss)}}catch(e){w=!0,I=e}finally{try{!g&&D.return&&D.return()}finally{if(w)throw I}}e.DuplicateBoms=e.DuplicateBoms.concat(JSON.parse((0,r.default)(b.boms)))}u[b.transMatchedCode]||(u[b.transMatchedCode]=[]),u[b.transMatchedCode].push(b)}}catch(e){p=!0,C=e}finally{try{!v&&y.return&&y.return()}finally{if(p)throw C}}e.warehouseIn={warehouseCode:f.containerCode,warehouseName:f.warehouseName_containerCode,warehouseAction:"入库",warehouseIcon:"icon-ruku",warehouseType:f.warehouseType_containerCode,warehouseProvince:f.warehouseProvince_containerCode,warehouseCity:f.warehouseCity_containerCode,warehouseDistrict:f.warehouseDistrict_containerCode,warehouseAddress:f.warehouseAddress_containerCode},e.warehouseOut={warehouseCode:f.containerCodeOut,warehouseName:""+f.warehouseName_containerCodeOut,warehouseAction:"出库",warehouseIcon:"icon-chuku",warehouseType:f.warehouseType_containerCodeOut,warehouseProvince:f.warehouseProvince_containerCodeOut,warehouseCity:f.warehouseCity_containerCodeOut,warehouseDistrict:f.warehouseDistrict_containerCodeOut,warehouseAddress:f.warehouseAddress_containerCodeOut},e.orderList=u,e.orderInfo=s,e.workFlowInfoHandler()})}}}},VFFv:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("4YfN"),o=n(s),l=a("MgeX"),d=n(l),u=a("HzJ8"),c=n(u),f=a("ZLEe"),m=n(f),h=a("rVsN"),v=n(h),p=a("IHPB"),C=n(p),_=a("3cXf"),y=n(_),b=a("HXPS"),g=n(b),w=a("BGNQ"),I=n(w),x=a("z5TY"),D=n(x),P=a("SAzG"),k=n(P),S=a("u28h"),T=n(S),L=a("PzEQ"),N=n(L),M=a("0AQX"),A=a("I3vJ"),O=a("HyXB"),R=a("bKg5"),j=n(R),$=a("luHD"),B=n($),E=a("RMtk"),F=n(E),U=a("d7ck"),q=n(U),Q=a("FlCz"),H=n(Q),V=a("MVgC"),X=n(V),z=a("vl8n"),Y=n(z),W=a("+WR7"),G=n(W),J=a("zWMP"),K=a("Qg39");t.default={name:"ApplyWLXQTJForm",mixins:[j.default],components:{Icon:g.default,Cell:I.default,Group:D.default,XInput:k.default,XTextarea:N.default,PopMatter:B.default,PopOrderXqtjList:F.default,Datetime:T.default,FormCell:q.default,BomList:H.default,BomPop:X.default,RPicker:Y.default,PopBaseinfo:G.default},data:function(){return{listId:"65ceb5a6-a120-11e8-862a-005056a136d0",orderList:{},showOrderPop:!1,DuplicateBoms:[],UniqueBom:[],formData:{biComment:""},submitSuccess:!1,numMap:{},transCode:"",formViewUniqueId:"346ede09-ac6a-489a-9242-f385932a4443",biReferenceId:"",actions:[],taskId:"",matterList:[],entity:{},selItems:[],matter:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,bomPopShow:!1,bom:{},modifyBomTdqty:[]}},watch:{matter:{handler:function(e){e.boms&&e.boms.forEach(function(t){var a=(0,J.accMul)(e.tdQty,t.qty,1+t.specificLoss);t.tdQty=Math.abs((0,K.toFixed)(a))})},deep:!0}},methods:{checkBom:function(e,t,a){this.bom=e,this.modifyIndex=t,this.modifyKey=a,this.bomPopShow=!0,this.modifyBomTdqty=JSON.parse((0,y.default)(e.boms))},bomConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t),this.reBuildArr(t)},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,y.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a,this.modifyBomTdqty=[].concat((0,C.default)(e.boms))},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t),this.reBuildArr(t)},reBuildArr:function(e){var t=this,a=e.boms;this.modifyBomTdqty.forEach(function(e){a.forEach(function(a){if(a.inventoryCode===e.inventoryCode)return a.newTdqty=(0,J.accSub)(a.tdQty,e.tdQty),t.UniqueBom.forEach(function(e){if(a.inventoryCode===e.inventoryCode)return e.tdQty=(0,J.accAdd)(e.tdQty,a.newTdqty),!1}),!0})})},selOrder:function(e){var t=this,a=JSON.parse(e),n={},i=[];this.DuplicateBoms=[],a.forEach(function(e){var a=e.transCode+"_"+e.orderCode+"_"+e.inventoryCode,r=t.numMap[a]||{},s=r.tdQty,o=void 0===s?"":s,l=r.shippingTime,d=void 0===l?"":l,u=r.boms,c=void 0===u?[]:u;e.tdQty=o,e.shippingTime=d,n[e.transCode]||(n[e.transCode]=[]),i.push((0,A.getJGDDBom)({parentInvCode:e.inventoryCode}).then(function(a){var n=a.tableContent,i=void 0===n?[]:n;i.forEach(function(t){var a=c.find(function(e){return t.inventoryCode===e.inventoryCode})||{},n=a.specificLoss,i=void 0===n?t.specificLoss:n,r=(0,J.accMul)(e.tdQty,t.qty,1+i);t.specificLoss=i,t.tdQty=Math.abs((0,K.toFixed)(r))}),t.$set(e,"boms",i);var r=JSON.parse((0,y.default)(i));t.DuplicateBoms=[].concat((0,C.default)(t.DuplicateBoms),(0,C.default)(r))})),n[e.transCode].push(e)}),v.default.all(i).then(function(e){t.mergeBomList()}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},findIndex:function(e,t){return e.findIndex(function(e){return e.orderCode===t.orderCode&&e.transCode===t.transCode&&e.inventoryCode===t.inventoryCode})},delClick:function(e,t,a){var n=this.selItems,i=this.findIndex(n,t);if(-1!==i)return void n.splice(i,1);n.push(t)},showSelIcon:function(e){return-1!==this.findIndex(this.selItems,e)},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,y.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,m.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.orderCode===a.orderCode&&t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=e.findIndex(n,t);i>=0&&(e.$refs.order.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}})}),e.selItems.forEach(function(t){t.boms.forEach(function(t){return e.UniqueBom.forEach(function(a,n){if(t.inventoryCode===a.inventoryCode){var i=(0,J.accSub)(a.tdQty,t.tdQty);return a.tdQty=(0,K.toFixed)(i),a.tdQty<=0&&e.UniqueBom.splice(n,1),!1}}),!0})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,c.default)((0,d.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,l=!1,u=void 0;try{for(var f,m=(0,c.default)(r);!(s=(f=m.next()).done);s=!0){var h=f.value;this.numMap[h.transCode+"_"+h.orderCode+"_"+h.inventoryCode]=(0,o.default)({},h)}}catch(e){l=!0,u=e}finally{try{!s&&m.return&&m.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="",a=[];t||(0,m.default)(this.orderList).length||(t="请选择物料");var n=!0,i=!1,s=void 0;try{for(var l,u=(0,c.default)((0,d.default)(this.orderList));!(n=(l=u.next()).done);n=!0){var f=l.value,h=!0,v=!1,p=void 0;try{for(var C,_=(0,c.default)(f);!(h=(C=_.next()).done);h=!0){var b=C.value;if(!b.tdQty){t="请填写减少数量";break}var g=[],w=!0,I=!1,x=void 0;try{for(var D,P=(0,c.default)(b.boms);!(w=(D=P.next()).done);w=!0){var k=D.value,S={tdId:k.tdId||null,transMatchedCode:b.transCode,tdQty:k.tdQty,orderCode:b.orderCode,bomSpecificLoss:k.specificLoss||k.bomSpecificLoss,tdProcessing:k.processing||k.tdProcessing,inventoryName:k.inventoryName,transObjCode:k.inventoryCode||k.transObjCode,measureUnit:k.measureUnit,bomType:k.bomType,bomQty:k.qty||k.bomQty,specification:k.specification,parentId:k.parentId||null};this.transCode&&delete S.orderCode,g.push(S)}}catch(e){I=!0,x=e}finally{try{!w&&P.return&&P.return()}finally{if(I)throw x}}var T={tdId:b.tdId||null,transMatchedCode:b.transCode,orderCode:b.orderCode,transObjCode:b.inventoryCode,inventoryName_transObjCode:b.inventoryName,tdProcessing:b.processing,measureUnit_transObjCode:b.measureUnit,thenQtyBal:b.qtyBal,shippingTime:b.shippingTime,tdQty:b.tdQty,comment:b.comment||"",boms:g};a.push(T)}}catch(e){v=!0,p=e}finally{try{!h&&_.return&&_.return()}finally{if(v)throw p}}}}catch(e){i=!0,s=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw s}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=O.saveAndStartWf,n={},i=(0,r.default)({},e.processCode,{businessKey:"IPPO",createdBy:""});n=(0,o.default)({},e.formData,{modifer:e.transCode?e.formData.handler:"",handlerEntity:e.entity.dealerName,order:{dataSet:a}}),e.transCode&&(t=O.saveAndCommitTask,i={businessKey:e.transCode,createdBy:n.creator||n.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var s={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,y.default)(n),wfPara:(0,y.default)(i)};e.transCode||delete s.biReferenceId,e.processCode.length||(t=O.submitAndCalc,delete s.wfPara,delete s.biReferenceId),e.biReferenceId&&(s.biReferenceId=e.biReferenceId),e.saveData(t,s)}})},getFormData:function(){var e=this;return(0,M.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,l=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=l;var d={},u=r.order,f=u.dataSet,m=void 0===f?[]:f,h=!0,v=!1,p=void 0;try{for(var C,_=(0,c.default)(m);!(h=(C=_.next()).done);h=!0){var b=C.value;b.boms.forEach(function(e){e.inventoryCode=e.transObjCode,e.specificLoss=e.bomSpecificLoss}),b.boms&&(e.DuplicateBoms=e.DuplicateBoms.concat(JSON.parse((0,y.default)(b.boms)))),b=(0,o.default)({},b,{transCode:b.transMatchedCode,qtyBal:b.thenQtyBal,inventoryPic:b.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+b.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:b.inventoryName_transObjCode,inventoryCode:b.transObjCode,specification:b.specification_transObjCode,processing:b.tdProcessing}),d[b.transCode]||(d[b.transCode]=[]),d[b.transCode].push(b)}}catch(e){v=!0,p=e}finally{try{!h&&_.return&&_.return()}finally{if(v)throw p}}e.matterList=m,e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,o.default)({},e.formData,e.handlerDefault,{biComment:r.biComment,biId:r.biId,biProcessStatus:r.biProcessStatus,creator:r.creator,modifer:r.modifer,drDealerLogisticsTerms:r.drDealerLogisticsTerms}),e.mergeBomList(),e.biReferenceId=r.biReferenceId,e.orderList=d,e.$loading.hide()})},mergeBomList:function(){var e=function(e,t){return e.inventoryCode===t.inventoryCode};this.UniqueBom=function(t){return t.reduce(function(t,a){return t.some(function(t){var n=e(t,a);return n&&(t.tdQty=(0,J.accAdd)(t.tdQty,a.tdQty)),n})||t.push(a),t},[])}(this.DuplicateBoms)},hasDraftData:function(){return!!(0,d.default)(this.orderList).length&&(0,r.default)({},"NBJGDD_DATA",{orderList:this.orderList,formData:this.formData,DuplicateBoms:this.DuplicateBoms})},getRelationData:function(){}},created:function(){var e=sessionStorage.getItem("NBJGDD_DATA");if(e){var t=JSON.parse(e);this.orderList=t.orderList,this.formData=t.formData,this.DuplicateBoms=t.DuplicateBoms,this.mergeBomList(),sessionStorage.removeItem("NBJGDD_DATA")}}}},VIWb:function(e,t){},VKyI:function(e,t){},VNth:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2429,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[i.default],methods:{},created:function(){}}},VOK4:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("6q39"),v=n(h),p=a("jLp1"),C=a("1KNX"),_=n(C),y=a("7biW"),b=n(y);t.default={name:"PopProjectList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:m.default,LoadMore:v.default,RScroll:_.default,MSearch:b.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},projectList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:function(){this.selItems=(0,d.default)({},this.defaultValue)}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){return e.PROJECT_NAME===this.selItems.PROJECT_NAME},selThis:function(e,t){this.showPop=!1,this.selItems=(0,d.default)({},e),this.$emit("sel-project",this.selItems)},getProjectLsit:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:"PROJECT_NAME"}])),(0,p.getProjectList)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.projectList=1===e.page?r:[].concat((0,o.default)(e.projectList),(0,o.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.projectList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getProjectLsit()},onPullingUp:function(){this.page++,this.getProjectLsit()}},created:function(){this.selItems=(0,d.default)({},this.defaultValue),this.getProjectLsit()}}},VSbR:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages xsbj-list-conatiner",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("just-word-item",{key:n,attrs:{item:t,noCount:""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}))],1),e._v(" "),e.action.add?a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},VYFY:function(e,t){},VZtf:function(e,t,a){"use strict";function n(e){a("w62I")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("5XmH");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("FRNG"),o=a.n(s),l=a("Eo7N"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-9744f676",null);t.default=c.exports},VaQO:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"loading-container"},[a("div",{staticClass:"loading-wrapper"},[a("spinner",{staticClass:"loading-animation",attrs:{type:"circles",size:"34"}})],1)])},i=[],r={render:n,staticRenderFns:i};t.a=r},Vfwi:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("MgeX"),o=n(s),l=a("HzJ8"),d=n(l),u=a("ZLEe"),c=n(u),f=a("3cXf"),m=n(f),h=a("KH7x"),v=n(h),p=a("4YfN"),C=n(p),_=a("PzEQ"),y=n(_),b=a("BGNQ"),g=n(b),w=a("0AQX"),I=a("HyXB"),x=a("bKg5"),D=n(x),P=a("y8YJ"),k=n(P),S=a("I5id"),T=n(S),L=a("yt3/"),N=n(L),M=a("luHD"),A=n(M),O=a("VZtf"),R=n(O),j=a("vl8n"),$=n(j),B=a("+WR7"),E=n(B),F=a("zWMP");a("Qg39");t.default={name:"ApplySBCGDDForm",data:function(){return{listId:"fac37727-d2d4-11e8-b8ca-0279b2c6a380",srhInpTx:"",orderList:{},matterList:[],transMode:["现付","预付","账期","票据"],showDealerPop:!1,dealerInfo:{},contactInfo:{},formData:{biId:"",biComment:""},submitSuccess:!1,taxRate:.16,numMap:{},transCode:"",formViewUniqueId:"fed81800-4c34-44a9-b517-c3fd9f2ab57d",biReferenceId:"",actions:[],taskId:"",showOrderPop:!1,tmpItems:{},matter:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,filterList:[{name:"申请号",value:"transCode"},{name:"设施名称",value:"facilityName"},{name:"设施编码",value:"facilityCode"}]}},mixins:[D.default],components:{XTextarea:y.default,RNumber:R.default,PopDealerList:k.default,PopSingleSelect:N.default,PopMatter:A.default,RPicker:$.default,PopBaseinfo:E.default,Cell:g.default,PopFacilityList:T.default},methods:{selItem:function(e){this.formData=(0,C.default)({},this.formData,e)},getPaymentTerm:function(){var e=this;return(0,I.getDictByType)("paymentTerm").then(function(t){var a=t.tableContent;e.transMode=a})},selDealer:function(e){var t=JSON.parse(e),a=(0,v.default)(t,1),n=a[0];this.dealerInfo=(0,C.default)({},n)},selContact:function(e){this.contactInfo=(0,C.default)({},e)},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,m.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selMatter:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){var a=e.transCode+"_"+e.facilityCode,i=t.numMap[a]||{},r=i.tdQty,s=void 0===r?"":r,o=i.price,l=void 0===o?"":o,d=i.taxRate,u=void 0===d?.16:d;e.tdQty=s,l.length&&(e.price=l),e.taxRate=u,n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.facilityCode!==e.facilityCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.facilityCode===t.facilityCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.facilityCode===e.facilityCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,c.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.facilityCode===a.facilityCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.facilityCode===t.facilityCode});i>=0&&(e.$refs.matter.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.facilityCode===a.facilityCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,d.default)((0,o.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,l=!1,u=void 0;try{for(var c,f=(0,d.default)(r);!(s=(c=f.next()).done);s=!0){var m=c.value;this.numMap[m.transCode+"_"+m.facilityCode]=(0,C.default)({},m)}}catch(e){l=!0,u=e}finally{try{!s&&f.return&&f.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerCode||(t="请选择供应商信息"),t||this.dealerInfo.paymentTerm||(t="请选择结算方式"),t||this.matterList.length||(t="请选择设施"),t||this.matterList.every(function(n){if(!n.price)return t="单价不能为空",!1;if(!n.tdQty&&0!==n.tdQty)return t="数量不能为空",!1;var i=n.taxRate||e.taxRate,r=(0,F.accMul)(n.price,n.tdQty,i),s={transMatchedCode:n.transCode,facilityObjCode:n.facilityCode,facilityName_facilityObjCode:n.facilityName,facilityType:n.facilityType,thenQtyBal:n.qtyBal||0,tdQty:n.tdQty,price:n.price,taxRate:i,taxAmount:r,tdAmount:(0,F.accAdd)((0,F.accMul)(n.price,n.tdQty),r),comment:n.comment||""};return e.transCode&&(s.tdId=n.tdId||null),a.push(s),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=I.saveAndStartWf,n={},i=(0,r.default)({},e.processCode,{businessKey:"POPI",createdBy:""});n=(0,C.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",dealerDebitContactPersonName:e.contactInfo.dealerName||"",dealerDebitContactInformation:e.contactInfo.dealerMobilePhone||"",order:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName||"供应商",drDealerPaymentTerm:e.dealerInfo.paymentTerm,daysOfAccount:e.dealerInfo.pamentDays,dataSet:a}}),e.transCode&&(t=I.saveAndCommitTask,i={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var s={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,m.default)(n),wfPara:(0,m.default)(i)};e.transCode||delete s.biReferenceId,e.processCode.length||(t=I.submitAndCalc,delete s.wfPara,delete s.biReferenceId),e.biReferenceId&&(s.biReferenceId=e.biReferenceId),e.saveData(t,s)}})},getFormData:function(){var e=this;return(0,w.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=o;var l=r.order,u=(r.dealerDebit,l.dataSet),c=void 0===u?[]:u,f={},m=[],h=!0,v=!1,p=void 0;try{for(var _,y=(0,d.default)(c);!(h=(_=y.next()).done);h=!0){var b=_.value;b=(0,C.default)({},b,{transCode:b.transMatchedCode,inventoryPic:b.inventoryPic_facilityObjCode?"/H_roleplay-si/ds/download?url="+b.inventoryPic_facilityObjCode+"&width=400&height=400":e.getDefaultImg(),facilityName:b.facilityName_facilityObjCode,facilityCode:b.facilityObjCode,facilityBigType:b.facilityBigType_facilityObjCode,facilitySubclass:b.facilitySubclass_facilityObjCode,facilityUnit:b.facilityUnit_facilityObjCode,specification:b.specification_facilityObjCode,processing:b.tdProcessing}),f[b.transCode]||(f[b.transCode]=[]),m.push(b),f[b.transCode].push(b)}}catch(e){v=!0,p=e}finally{try{!h&&y.return&&y.return()}finally{if(v)throw p}}e.dealerInfo={creatorName:r.dealerCreditContactPersonName,dealerName:l.dealerName_dealerDebit,dealerMobilePhone:r.dealerCreditContactInformation,dealerCode:l.dealerCode_dealerDebit,dealerLabelName:l.drDealerLabel,province:l.province_dealerDebit,city:l.city_dealerDebit,county:l.county_dealerDebit,address:l.address_dealerDebit,paymentTerm:l.drDealerPaymentTerm,pamentDays:l.daysOfAccount},e.contactInfo={dealerName:r.dealerDebitContactPersonName,dealerMobilePhone:r.dealerDebitContactInformation},e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,C.default)({},e.formData,e.handlerDefault,{creator:r.creator,biId:r.biId,biComment:r.biComment}),e.biReferenceId=r.biReferenceId,e.matterList=m,e.orderList=f,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,r.default)({},"SBCGDD_DATA",{matter:this.matterList,dealer:this.dealerInfo,formData:this.formData,contactInfo:this.contactInfo})},getRelationData:function(){var e=this,t=this.$route.query.uniqueId;return(0,w.getSOList)({formViewUniqueId:t,transCode:this.relationKey}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i;t.attachment;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var o=s.order,l=(s.dealerDebit,o.dataSet),d=void 0===l?[]:l;d=d.map(function(t){return(0,C.default)({},t,{inventoryPic:t.inventoryPic_facilityObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_facilityObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_facilityObjCode,facilityCode:t.inventoryCode_facilityObjCode,specification:t.specification_facilityObjCode,measureUnit:t.measureUnit_facilityObjCode,transCode:e.relationKey,qtyBal:t.tdQty,tdQty:""})}),e.dealerInfo={creatorName:s.dealerDebitContactPersonName,dealerMobilePhone:s.dealerDebitContactInformation,dealerCode:s.order.dealerDebit,dealerSubclass:s.order.drAccountSub,dealerName:s.order.dealerName_dealerDebit,province:s.order.province_dealerDebit,city:s.order.city_dealerDebit,county:s.order.county_dealerDebit,address:s.order.address_dealerDebit},e.matterList=d,e.orderList=(0,r.default)({},e.relationKey,d),e.$loading.hide()})},moreUnitClick:function(e){e.showDrop=!e.showDrop},moreUnitSelected:function(e){this.matter.assMeasureUnit=e.invSubUnitName,this.matter.assistQty=e.invSubUnitMulti},assembleOrder:function(e){var t={};e.forEach(function(e){t[e.transCode]||(t[e.transCode]=[]),t[e.transCode].push(e)}),this.orderList=t}},created:function(){var e=sessionStorage.getItem("SBCGDD_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.dealerInfo=t.dealer,this.formData=t.formData,this.contactInfo=t.contactInfo,this.assembleOrder(this.matterList),sessionStorage.removeItem("SBCGDD_DATA")}}}},VhGg:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("3cXf"),o=n(s),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("7g+Q"),C=n(p),_=a("PzEQ"),y=n(_),b=a("jnZd"),g=n(b),w=a("0AQX"),I=a("HyXB"),x=(a("jLp1"),a("bKg5")),D=n(x),P=a("aumL"),k=n(P),S=a("vl8n"),T=n(S),L=a("+WR7"),N=n(L),M=a("y8YJ"),A=n(M),O=a("zWMP");a("Qg39");t.default={mixins:[D.default],components:{Cell:c.default,Group:m.default,Popup:C.default,XInput:v.default,XTextarea:y.default,PopFundList:k.default,PopupPicker:g.default,RPicker:T.default,PopBaseinfo:N.default,PopDealerList:A.default},data:function(){return{listId:"b6b97d33-5d8e-4942-b978-09103d06f188",biComment:"",biReferenceId:"",showCostPop:!1,CostList:[{cashName:"",cashInCode:"",cashType_cashInCode:"",tdAmount:""}],selectedCost:[],costIndex:0,transCode:"",dealerInfo:{},contact:{},formData:{biComment:"",biProcessStatus:""}}},computed:{totalAmount:function(){var e=0;return this.CostList.forEach(function(t){t.tdAmount&&(e=(0,O.accAdd)(e,t.tdAmount))}),e}},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0]},selContact:function(e){this.contact=(0,d.default)({},e)},getCost:function(e,t){this.showCostPop=!0,this.costIndex=e,this.selectedCost=[t]},addCost:function(){this.expSubjectList=[],this.CostList.push({cashName:"",cashInCode:"",cashType_cashInCode:"",tdAmount:""})},deleteCost:function(){this.CostList.pop()},selMatter:function(e){var t=e;this.CostList[this.costIndex].cashName=t.fundName,this.CostList[this.costIndex].cashInCode=t.fundCode,this.CostList[this.costIndex].cashType_cashInCode=t.fundType},submitOrder:function(){var e=this,t="",a=[];if(this.CostList.every(function(e){return e.cashName?e.tdAmount?(a.push({tdId:e.tdId||"",cashInCode:e.cashInCode,cashType_cashInCode:e.cashType_cashInCode,tdAmount:e.tdAmount}),!0):(t="请填写支付金额",!1):(t="请选择资金账户",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=I.saveAndStartWf,n=(0,r.default)({},e.processCode,{businessKey:"REIM2",createdBy:(0,o.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:"",formData:(0,o.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName,dataSet:a},dealerCreditContactPersonName:e.contact.dealerName||null,dealerCreditContactInformation:e.contact.dealerMobilePhone||null})),wfPara:(0,o.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=I.saveAndCommitTask),e.processCode.length||(t=I.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,w.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.attachment=t.attachment,e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.CostList=[];var a=t.formData;e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),a.order.dataSet.forEach(function(t){var a={cashName:t.fundName_cashInCode,cashInCode:t.cashInCode,cashType_cashInCode:t.cashType_cashInCode,tdAmount:t.tdAmount,tdId:t.tdId};e.CostList.push(a)}),e.dealerInfo={creatorName:a.dealerCreditContactPersonName,dealerMobilePhone:a.dealerCreditContactInformation,dealerCode:a.order.dealerCodeCredit,dealerLabelName:a.order.crDealerLabel,dealerName:a.order.dealerName_dealerCodeCredit,province:a.order.province_dealerDebit,city:a.order.city_dealerDebit,county:a.order.county_dealerDebit,address:a.order.address_dealerCodeCredit},e.contact={dealerName:a.dealerCreditContactPersonName,dealerMobilePhone:a.dealerCreditContactInformation},e.$loading.hide()})},hasDraftData:function(){var e=!1;return this.CostList.forEach(function(t){if(t.cashName)return e=!0,!1}),!!e&&(0,r.default)({},"SK_DATA",{cost:this.CostList,formData:this.formData,dealerInfo:this.dealerInfo,contact:this.contact})}},created:function(){var e=sessionStorage.getItem("SK_DATA");if(e){var t=JSON.parse(e);this.CostList=t.cost,this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.contact=t.contact,sessionStorage.removeItem("SK_DATA")}}}},VjCu:function(e,t){},VnXt:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2239,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_outPutMatCode"},{name:"往来名称",value:"dealerName_dealerDebit"}]}},mixins:[i.default],methods:{},created:function(){}}},VqIS:function(e,t){},VsvK:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("xZPP"),r=n(i),s=a("St0H"),o=a("803w"),l=n(o),d=a("gTYh"),u=n(d),c=a("FGI+"),f=n(c);t.default={name:"cell",components:{InlineDesc:r.default},props:(0,l.default)(),created:function(){},beforeMount:function(){this.hasTitleSlot=!!this.$slots.title,this.$slots.value},computed:{labelStyles:function(){return(0,u.default)({width:(0,f.default)(this,"labelWidth"),textAlign:(0,f.default)(this,"labelAlign"),marginRight:(0,f.default)(this,"labelMarginRight")})},valueClass:function(){return{"vux-cell-primary":"content"===this.primary||"left"===this.valueAlign,"vux-cell-align-left":"left"===this.valueAlign,"vux-cell-arrow-transition":!!this.arrowDirection,"vux-cell-arrow-up":"up"===this.arrowDirection,"vux-cell-arrow-down":"down"===this.arrowDirection}},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}},style:function(){if(this.alignItems)return{alignItems:this.alignItems}}},methods:{onClick:function(){!this.disabled&&(0,s.go)(this.link,this.$router)}},data:function(){return{hasTitleSlot:!0,hasMounted:!1}}}},VtS1:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("iR2W"),r=n(i),s=a("kNGm"),o=n(s),l=a("Qg39"),d=a("zWMP");t.default={name:"justWordItem",props:{item:{type:Object,default:function(){return{}}},noCount:{type:Boolean,default:!1},conutTitle:{type:String,default:"合计"}},data:function(){return{}},computed:{total:function(){var e=this.item,t=e.count,a=e.totalAmount,n=e.budgetIncome_project;return n||(null!=t?t:a||0===a?a:void 0)}},filters:{percent:function(e){return e||0===e?(0,d.accMul)(e,100)+"%":"无"},toFixed:l.toFixed,dateFormat:o.default,numberComma:r.default},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t}}}},VuUd:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"BomList",props:{boms:{type:Array,default:function(){return[]}}}}},VvlX:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2256,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}]}},mixins:[i.default],methods:{},created:function(){}}},VxZ1:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={props:{BusApps:{type:Array,default:[]},goList:{type:Function,require:!0},getDefaultIcon:{type:Function,require:!0},goAppDetail:{type:Function,require:!0}}}},W09m:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("+62G"),o=n(s),l=a("7g+Q"),d=n(l),u=a("z5TY"),c=n(u),f=a("HXPS"),m=n(f),h=a("d5Kw"),v=n(h),p=a("1KNX"),C=n(p);t.default={props:{noStatus:{type:String,require:!0},crtTime:{type:String,require:!0},fullWorkFlow:{type:Array,default:function(){return[]}},userName:{type:String,default:""},isMyTask:{type:Boolean,default:!1},workFlowInfo:{type:Object,default:function(){return{}}}},data:function(){return{defaulImg:a("cr7Q"),simpleWL:[],popupShow:!1}},watch:{fullWorkFlow:{handler:function(){this.workFlowHandler()}},popupShow:{handler:function(e){var t=this;e&&this.$nextTick(function(){t.$refs.bScroll&&t.$refs.bScroll.refresh()})}}},directives:{TransferDom:o.default},components:{Popup:d.default,Group:c.default,Icon:m.default,XButton:v.default,RScroll:C.default},methods:{closePop:function(){this.popupShow=!1},workFlowHandler:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,r.default)(this.fullWorkFlow);!(e=(n=i.next()).done);e=!0){var s=n.value;switch(s.userName=s.userName.replace(/\s*/g,""),s.status){case"同意":s.dyClass="agree_c";break;case"不同意":s.dyClass="reject_c";break;case"终止":s.dyClass="over_c"}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.simpleWL=this.fullWorkFlow.slice(-2)},getDefaultIcon:function(e){var t=this.defaulImg;return e&&(e.icon=t),t}},created:function(){this.workFlowHandler()}}},W0BY:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages"},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("tab",{attrs:{"line-width":2,"default-color":"#757575","active-color":"#2c2727"}},e._l(e.listView,function(t,n){return a("tab-item",{key:n,attrs:{selected:n===e.activeIndex},on:{"on-item-click":function(a){e.tabClick(t,n)}}},[e._v(e._s(t.view_name)+"\n          ")])}))],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},[e.activeTab.includes("现金流分类")?e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"each_duty",on:{click:function(a){e.getFlow(t)}}},[a("div",{staticClass:"duty_top"},[a("div",{staticClass:"basic_info"},[a("img",{attrs:{src:t.AppIcon}}),e._v(" "),a("div",{staticClass:"app_info_container"},[a("span",[e._v(e._s(t.appTitle))]),e._v(" "),a("span",{staticClass:"other_info_with"},[e._v("实例编码: "+e._s(t.transCode))]),e._v(" "),a("span",{staticClass:"other_info_with"},[e._v("往来名称: "+e._s(t.dealerName))])])]),e._v(" "),a("div",{staticClass:"cash_flow_status",class:t.flowWordClass},[a("span",[e._v(e._s(t.cashInOrOut))]),e._v(" "),a("span",{class:t.flowIconClass})])]),e._v(" "),a("div",{staticClass:"common_info_part"}),e._v(" "),a("div",{staticClass:"main_content"},[a("div",{staticClass:"fund_part"},[a("div",{staticClass:"matter_name"},[e._v(e._s(t.fundName))]),e._v(" "),a("p",{staticClass:"matter_type"},[e._v("账户编码: "+e._s(t.cashCode))]),e._v(" "),a("p",{staticClass:"matter_type"},[e._v("资金账户大类: "+e._s(t.accountSub))])]),e._v(" "),a("div",{staticClass:"other_part"},[a("p",{staticClass:"matter_type"},[e._v("现金流类型: "+e._s(t.cashType))]),e._v(" "),a("p",{staticClass:"matter_type"},[e._v("现金流项目: "+e._s(t.cashFlow))])])]),e._v(" "),a("div",{staticClass:"duty_btm vux-1px-t"},[a("div",{staticClass:"ware_type"},[a("p",[e._v(e._s(t.bank||"暂无银行信息")),t.bank?a("span",{staticClass:"symbol"},[e._v("[开户银行]")]):e._e()]),e._v(" "),t.bank?a("p",{staticClass:"symbol type_with_num"},[e._v("账号: "+e._s(t.account))]):e._e()]),e._v(" "),a("div",{staticClass:"pay_num_part"},[t.crAmnt?a("p",[a("span",{staticClass:"symbol"},[e._v("付款金额: ￥")]),e._v(" "),a("span",[e._v(e._s(e._f("numberComma")(t.crAmnt)))])]):e._e(),e._v(" "),t.drAmnt?a("p",[a("span",{staticClass:"symbol"},[e._v("收款金额: ￥")]),e._v(" "),a("span",[e._v(e._s(e._f("numberComma")(t.drAmnt)))])]):e._e(),e._v(" "),a("span",{staticClass:"symbol other_pay_status"},[e._v("币种: 人民币")])])])])}):e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"each_duty",on:{click:function(a){e.getFlow(t)}}},[a("div",{staticClass:"duty_top"},[a("div",{staticClass:"basic_info"},[a("span",{staticClass:"warehouse warehouse_name"},[e._v("\n                  账户编码\n                ")]),e._v(" "),a("span",{staticClass:"warehouse warehouse_code"},[e._v(e._s(t.cashCode))])])]),e._v(" "),a("div",{staticClass:"matter"},[a("div",{staticClass:"matter_name"},[e._v(e._s(t.fundName))])]),e._v(" "),a("div",{staticClass:"duty_btm vux-1px-t"},[a("div",{staticClass:"ware_type"},[e._v("\n              "+e._s(t.bank||"暂无银行信息")+"\n            ")]),e._v(" "),""!==t.amountBalance?a("div",{staticClass:"balance"},[a("span",{staticClass:"symbol"},[e._v("余额: ￥")]),e._v(e._s(e._f("numberComma")(t.amountBalance))+"\n            ")]):e._e()])])})],2),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{attrs:{position:"bottom",height:"80%"},model:{value:e.flowShow,callback:function(t){e.flowShow=t},expression:"flowShow"}},[a("r-scroll",{ref:"flowListWrapper",staticClass:"flow_list_wrapper",attrs:{options:e.FlowScrollOptions,"has-next":e.FlowHasNext,"no-data":!e.FlowHasNext&&!e.flowData.length},on:{"on-pulling-up":e.onPullingUpFlow}},[a("div",{staticClass:"flow"},[a("div",{staticClass:"flow_top"},[a("div",{staticClass:"title"},[e._v("流水详情")])]),e._v(" "),a("div",{staticClass:"flow_list"},[e._l(e.flowData,function(t,n){return a("div",{key:n,staticClass:"each_flow",on:{click:function(e){e.stopPropagation(),t.showList=!t.showList}}},[a("div",{staticClass:"duty_top"},[a("div",{staticClass:"transCode"},[a("span",{staticClass:"order_title"},[e._v("编码")]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(t.transCode))])]),e._v(" "),a("div",{staticClass:"time"},[e._v("\n                    "+e._s(e._f("dateFormat")(t.calcTime))+"\n                  ")])]),e._v(" "),a("div",{staticClass:"show_list"},[a("div",{staticClass:"app_name"},[e._v("\n                    "+e._s(t.appTitle)),a("span",{staticClass:"symbol"},[e._v("[应用]")])]),e._v(" "),a("div",{staticClass:"num_info"},[a("div",{staticClass:"amount_money"},[t.drAmnt>0?a("div",{staticClass:"num_part"},[a("span",{staticClass:"symbol"},[e._v("借方金额: ")]),e._v(" "),a("span",{staticClass:"number_incre"},[e._v("+ "+e._s(e._f("toFixed")(t.drAmnt)))])]):t.drAmnt<0?a("div",{staticClass:"num_part"},[a("span",{staticClass:"symbol"},[e._v("借方金额: ")]),e._v(" "),a("span",{staticClass:"number_redu"},[e._v("- "+e._s(e._f("toFixed")(t.drAmnt)))])]):a("div",{staticClass:"num_part"},[a("span",{staticClass:"symbol"},[e._v("借方金额: ")]),e._v(" "),a("span",[e._v("0")])])]),e._v(" "),a("div",{staticClass:"amount_money"},[t.crAmnt>0?a("div",{staticClass:"num_part"},[a("span",{staticClass:"symbol"},[e._v("贷方金额: ")]),e._v(" "),a("span",{staticClass:"number_incre"},[e._v("+ "+e._s(e._f("toFixed")(t.crAmnt)))])]):t.crAmnt<0?a("div",{staticClass:"num_part"},[a("span",{staticClass:"symbol"},[e._v("贷方金额: ")]),e._v(" "),a("span",{staticClass:"number_redu"},[e._v("- "+e._s(e._f("toFixed")(t.crAmnt)))])]):a("div",{staticClass:"num_part"},[a("span",{staticClass:"symbol"},[e._v("贷方金额: ")]),e._v(" "),a("span",[e._v("0")])])])])]),e._v(" "),a("div",{staticClass:"summary_part vux-1px-t"},[a("div",{staticClass:"number"}),e._v(" "),a("div",{staticClass:"price HBZJ_total"},[a("span",{staticClass:"symbol"},[e._v("当前余额:")]),e._v(" "),a("span",{class:{increase:t.amountBalance>0,reduce:t.amountBalance<0}},[e._v("\n                      ￥"+e._s(e._f("numberComma")(e._f("toFixed")(t.amountBalance)))+"\n                    ")])])])])}),e._v(" "),a("div")],2)])]),e._v(" "),a("div",{staticClass:"btn when_less"},[a("span",{staticClass:"cfm_btn",on:{click:function(t){e.flowShow=!1}}},[e._v("关闭")])])],1)],1)],1)])},i=[],r={render:n,staticRenderFns:i};t.a=r},W23b:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2496}},mixins:[i.default],methods:{},created:function(){}}},W3IX:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("6q39"),v=n(h),p=a("kNGm"),C=n(p),_=a("fEP3"),y=a("1KNX"),b=n(y),g=a("7biW"),w=n(g);t.default={name:"PopWorkGDBLLList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:m.default,LoadMore:v.default,RScroll:b.default,MSearch:w.default},filters:{dateFormat:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},workList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterList:[{name:"成品名称",value:"inventoryName"},{name:"成品编码",value:"matCode"},{name:"工序名称",value:"procedureName"}],filterProperty:""}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){return e.transCode===this.selItems.transCode},selThis:function(e,t){this.showPop=!1,this.selItems=(0,d.default)({},e),this.$emit("sel-work",this.selItems)},setDefaultValue:function(){this.selItems=(0,d.default)({},this.defaultValue)},getWorkOrderTask:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,_.getWorkGDBLLList)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.workList=1===e.page?r:[].concat((0,o.default)(e.workList),(0,o.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.workList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getWorkOrderTask()},onPullingUp:function(){this.page++,this.getWorkOrderTask()}},created:function(){this.setDefaultValue(),this.getWorkOrderTask()}}},W4RV:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages user-list-container",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("tab",{attrs:{"line-width":2,"default-color":"#757575","active-color":"#2c2727"}},e._l(e.listStatus,function(t,n){return a("tab-item",{key:n,attrs:{selected:n===e.activeIndex},on:{"on-item-click":function(a){e.tabClick(t,n)}}},[e._v(e._s(t.name)+"\n          ")])}))],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"each_duty",class:{visited:t.visited},on:{click:function(a){e.goDetail(t,n)}}},[a("div",{staticClass:"duty-item"},[a("img",{staticClass:"avatar",attrs:{src:t.photo,alt:"头像"},on:{error:function(a){e.getDefaultImg(t)}}}),e._v(" "),a("div",{staticClass:"user-info"},[a("div",{staticClass:"user-name"},[e._v(e._s(t.nickname))]),e._v(" "),a("div",{staticClass:"user-tel"},[e._v("手机: "+e._s(t.mobile))])])]),e._v(" "),a("div",{staticClass:"duty-item-bottom vux-1px-t"},[a("div",{staticClass:"user-code"},[e._v("工号: "+e._s(t.userCode))]),e._v(" "),a("div",{staticClass:"user-status-part"},[a("span",{staticClass:"user-status",class:t.statusClass},[e._v(e._s(t.status))])])])])}))],1),e._v(" "),e.action.add?a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},W4lg:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"100%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("div",{staticClass:"title"},[a("m-search",{attrs:{filterList:e.filterList,isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}})],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions}},e._l(e.taskWorkList,function(t,n){return a("div",{key:n,staticClass:"each-work box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"work-main"},[a("div",{staticClass:"work_mid"},[a("div",{staticClass:"product_name"},[e._v("\n                "+e._s(t.inventoryName)+"\n                ")])]),e._v(" "),a("div",{staticClass:"work_mid"},[a("div",{staticClass:"product_unit"},[a("span",{staticClass:"each_unit"},[e._v("加工订单号: "+e._s(t.transCode))]),e._v(" "),a("span",{staticClass:"each_unit"},[e._v("工序: "+e._s(t.procedureName))])]),e._v(" "),a("div",{staticClass:"product_unit"},[a("span",{staticClass:"each_unit"},[e._v("总数: "+e._s(t.productDemandQty))]),e._v(" "),a("span",{staticClass:"each_unit"},[e._v("已"+e._s(e.workType)+": "+e._s(t.thenLockQty))]),e._v(" "),a("span",{staticClass:"each_unit"},[e._v("可"+e._s(e.workType)+": "+e._s(t.thenQtyBal))])])])]),e._v(" "),a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-circle-outline selIcon",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])})),e._v(" "),a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.btnHandle}},[e._v(e._s(e.btnText))])])],1)])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},WAdr:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("KH7x"),o=n(s),l=a("4YfN"),d=n(l),u=a("+62G"),c=n(u),f=a("Nk/b"),m=n(f),h=a("7g+Q"),v=n(h),p=a("z5TY"),C=n(p),_=a("wDjS"),y=n(_),b=a("KFOb"),g=n(b),w=a("HXPS"),I=n(w),x=a("HyXB"),D=a("hFVz"),P=n(D),k=a("vl8n"),S=n(k),T=a("PKHo"),L=n(T),N=a("1KNX"),M=n(N),A=a("5gKc"),O=n(A);t.default={data:function(){return{addressData:g.default,transCode:"",picShow:!1,imgFileObj:{},MatPic:"",AccountRelType:[],AccountAddress:[],pickerStatus:!1,showAddress:!1,dealerType:[],PhoneWarn:!1,MobileWarn:!1,EmailWarn:!1,baseinfo:{handler:"",handlerName:"",handlerArea:"",handlerAreaName:"",handlerUnit:"",handlerUnitName:"",handlerRole:"",handlerRoleName:"",activeTime:"",comment:""},dealer:{dealerCode:"",dealerName:"",dealerLabelName:"",province:"",city:"",county:"",address:"",dealerPhone:"",dealerMobilePhone:"",dealerMail:"",paymentTerm:"",dealerLogisticsTerms:"",pamentDays:"",dealerStatus:"",comment:"",dealerPic:""},statusList:[],dealerStatus:"使用中",submitSuccess:!1,scrollOptions:{click:!0}}},computed:{disabledSubmit:function(){return this.PhoneWarn||this.MobileWarn||this.EmailWarn}},directives:{TransferDom:c.default},mixins:[L.default],components:{Picker:m.default,Popup:v.default,Group:C.default,RPicker:S.default,XAddress:y.default,Icon:I.default,RScroll:M.default,UploadImage:O.default},methods:{onUpload:function(e){this.dealer.dealerPic=e.src},getDealer:function(){var e=this;return P.default.getDictByType().then(function(t){var a=t.tableContent;return a&&a.forEach(function(e){e.selected=!1}),e.AccountRelType=a,e.$nextTick(function(){e.$refs.bScroll.refresh()}),a}).catch(function(t){e.$vux.alert.show({content:t.message})})},DealerPop:function(){var e=this;this.pickerStatus=!0,this.dealerType=[],this.dealer.dealerLabelName.split(",").forEach(function(t){var a={name:t};e.dealerType.push(a)})},getStatus:function(){var e=this;return(0,x.getDictByType)("objStatus").then(function(t){var a=t.tableContent;a&&a.forEach(function(e){e.originValue=e.name,e.value=e.name}),e.statusList=a})},onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},showSelIcon:function(e){return-1!==this.dealerType.findIndex(function(t){return t.name===e.name})},selectType:function(e){e.selected=!e.selected;var t=this.dealerType,a=t.findIndex(function(t){return t.name===e.name});if(-1!==a)return void t.splice(a,1);t.push(e)},cfmMater:function(){var e=this;this.pickerStatus=!1,this.dealer.dealerLabelName="",this.dealerType.forEach(function(t){if(e.dealer.dealerLabelName.length)return void(e.dealer.dealerLabelName+=","+t.name);e.dealer.dealerLabelName+=t.name})},checkPhone:function(){var e=/^0\d{2,3}-\d{7,8}$/;if(this.dealer.dealerPhone.length>0&&!e.test(this.dealer.dealerPhone))return void(this.PhoneWarn=!0);this.PhoneWarn=!1},checkMobile:function(){var e=/^[1][3,4,5,7,8][0-9]{9}$/;if(this.dealer.dealerMobilePhone.length>0&&!e.test(this.dealer.dealerMobilePhone))return void(this.MobileWarn=!0);this.MobileWarn=!1},checkEmail:function(){var e=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;if(this.dealer.dealerMail.length>0&&!e.test(this.dealer.dealerMail))return void(this.EmailWarn=!0);this.EmailWarn=!1},findData:function(){var e=this;return P.default.getDealerInfo(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=t.attachment,r=void 0===i?[]:i,s=n.baseinfo,l=void 0===s?{}:s,u=n.dealer,c=void 0===u?{}:u;switch(c.dealerStatus){case"1":e.dealerStatus="使用中";break;case"2":e.dealerStatus="未使用";break;case"0":e.dealerStatus="草稿";break;case"-1":e.dealerStatus="停用"}e.baseinfo=(0,d.default)({},e.baseinfo,l),e.dealer=(0,d.default)({},e.dealer,c),e.dealer.dealerPic.length>0?(e.picShow=!0,e.MatPic="/H_roleplay-si/ds/download?url="+e.dealer.dealerPic+"&width=400&height=400"):(e.picShow=!0,e.getDefaultImg());var f=r.filter(function(t){return t.attacthment===e.dealer.dealerPic}),m=(0,o.default)(f,1),h=m[0],v=void 0===h?{}:h;e.AccountAddress=[e.dealer.province,e.dealer.city,e.dealer.county],e.imgFileObj=v})},getDefaultImg:function(){this.MatPic=a("tVsm")},changeAddress:function(e,t){this.AccountAddress=t},getAddress:function(){if(this.AccountAddress.length>0){if(this.dealer.province=this.AccountAddress[0],this.dealer.county=this.AccountAddress[2],"市辖区"===this.AccountAddress[1])return void(this.dealer.city="");this.dealer.city=this.AccountAddress[1]}},submit:function(){var e=this;for(var t in this.dealer)"string"==typeof this.dealer[t]&&this.dealer[t].indexOf(" ")>=0&&(this.dealer[t]=this.dealer[t].replace(/\s/g,""));this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){switch(e.dealerStatus){case"使用中":e.dealer.dealerStatus="1";break;case"未使用":e.dealer.dealerStatus="2";break;case"草稿":e.dealer.dealerStatus="0";break;case"停用":e.dealer.dealerStatus="-1"}e.dealer.status&&delete e.dealer.status;var t={listId:"c0375170-d537-4f23-8ed0-a79cf75f5b04",formData:{baseinfo:e.baseinfo,dealer:e.dealer}};e.transCode?P.default.update(t).then(function(t){t.success?(e.submitSuccess=!0,e.$vux.alert.show({content:"修改成功",onHide:function(){e.$router.go(-1)}})):e.$vux.alert.show({content:t.message})}):P.default.save(t).then(function(t){t.success?(e.submitSuccess=!0,e.$vux.alert.show({content:"提交成功",onHide:function(){if(1===e.$route.query.add){var t=[e.dealer];sessionStorage.setItem("DEALERLIST_SELITEMS",(0,r.default)(t))}e.$router.go(-1)}})):e.$vux.alert.show({content:t.message})})}})},save:function(){var e=this;if(!this.disabledSubmit){var t="";if([{key:"dealerCode",message:"【往来编码】"},{key:"dealerName",message:"【往来名称】"},{key:"dealerLabelName",message:"【往来类型】"}].every(function(a){return""!==e.dealer[a.key]||(t=a.message+"不能为空",!1)}),!t&&this.PhoneWarn&&(t="电话号码格式不正确"),!t&&this.MobileWarn&&(t="手机号码格式不正确"),!t&&this.EmailWarn&&(t="邮件格式不正确"),t)return void this.$vux.alert.show({content:t});this.submit()}}},created:function(){var e=this;this.$loading.show();var t=this.$route.query;t.transCode?(this.transCode=t.transCode,this.findData(),this.getStatus(),this.getDealer().then(function(){e.$loading.hide()})):(this.getDealer().then(function(t){e.$loading.hide();var a=(0,o.default)(t,1),n=a[0],i=void 0===n?{}:n;e.$route.query.pickVal?(e.dealer.dealerLabelName=e.$route.query.pickVal,e.pickerStatus=!1):e.dealer.dealerLabelName=e.$route.query.dealerType?e.$route.query.dealerType:i.name}),(0,x.getBaseInfoDataBase)().then(function(t){e.baseinfo=(0,d.default)({},e.baseinfo,t,{activeTime:e.changeDate(new Date,!0)})}),this.getStatus())},beforeRouteEnter:function(e,t,a){e.meta.title="新增往来",e.query.transCode&&(e.meta.title="编辑往来"),a()},beforeRouteLeave:function(e,t,a){var n=e.path;this.submitSuccess&&"/adress"===n&&(e.meta.reload=!0),a()}}},WAeg:function(e,t){},WEbs:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper xmrw-detail-container"},[a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.orderInfo,"order-info":e.orderInfo}}),e._v(" "),a("div",{staticClass:"project_info"},[e._m(0),e._v(" "),a("div",{staticClass:"project_content"},[a("form-cell",{attrs:{cellTitle:"名称",cellContent:e.projectApproval.projectName,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"经理",cellContent:e.projectApproval.projectManager}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"大类",cellContent:e.projectApproval.projectType}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"子类",cellContent:e.projectApproval.projectSubclass}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"说明",cellContent:e.projectApproval.comment||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"预期开始日期",cellContent:e._f("timeSplit")(e.projectApproval.expectStartDate)}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"预期截止日期",cellContent:e._f("timeSplit")(e.projectApproval.expectEndDate)}})],1)]),e._v(" "),a("div",{staticClass:"form_part"},[e._m(1),e._v(" "),e._l(e.projectPlan,function(t,n){return a("div",{key:n,staticClass:"form_content",class:{show_border:n!==e.projectPlan.length-1}},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"任务名称",cellContent:t.taskName,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"任务类型",cellContent:t.taskType}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"周期天数",cellContent:t.cycleDays}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"标准工时",cellContent:t.planTime}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"作业费率",cellContent:t.jobRate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"预算作业成本",cellContent:t.budgetHomeworkCost}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"计划截止日期",cellContent:e._f("timeSplit")(t.deadline)}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"任务说明",cellContent:t.comment}})],1)])})],2),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.comment.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}})],1)])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"info_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-xiangmu"}),e._v("项目信息")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-renwu"}),a("span",{staticClass:"title"},[e._v("任务列表")])])}],r={render:n,staticRenderFns:i};t.a=r},WGJW:function(e,t,a){"use strict";function n(e){a("i+2D")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("OB+s");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("mSSm"),o=a.n(s),l=a("IlYu"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-3a4bdf30",null);t.default=c.exports},"WHn+":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("kNGm"),r=(n(i),a("0AQX")),s=a("+VRO"),o=n(s),l=a("AupE"),d=n(l),u=a("BUFe"),c=n(u),f=a("bFc7"),m=n(f),h=a("3NX5"),v=n(h);t.default={data:function(){return{orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},uploadStyle:{width:"100%",padding:"0.06rem 0.1rem"}}},mixins:[o.default],components:{workFlow:d.default,RAction:c.default,contactPart:m.default,MatterList:v.default},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,r.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=o,e.orderInfo=r,e.workFlowInfoHandler()})},goEdit:function(){var e=this.$route.params,t=e.fileId,a=e.listId,n=this.$route.query.name;this.$router.push({path:"/fillform/"+t+"/"+a,query:{name:n,transCode:this.transCode}})}}}},WJwd:function(e,t,a){"use strict";function n(e){a("nuMk")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("RPzs");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Xc3I"),o=a.n(s),l=a("nADA"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-581567a7",null);t.default=c.exports},WKer:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"inPage"},[a(e.currentComponent,{ref:"list",tag:"component",attrs:{"refresh-request":e.isrefresh}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},WNoS:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("3cXf"),o=n(s),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("7g+Q"),C=n(p),_=a("PzEQ"),y=n(_),b=a("jnZd"),g=n(b),w=a("0AQX"),I=a("HyXB"),x=(a("jLp1"),a("bKg5")),D=n(x),P=a("aumL"),k=n(P),S=a("vl8n"),T=n(S),L=a("+WR7"),N=n(L),M=a("y8YJ"),A=n(M),O=a("zWMP");a("Qg39");t.default={mixins:[D.default],components:{Cell:c.default,Group:m.default,Popup:C.default,XInput:v.default,XTextarea:y.default,PopFundList:k.default,PopupPicker:g.default,RPicker:T.default,PopBaseinfo:N.default,PopDealerList:A.default},data:function(){return{listId:"1972f3a4-b29a-4a0e-90a8-85090c0e2d28",biComment:"",biReferenceId:"",showCostPop:!1,CostList:[{cashName:"",cashOutCode:"",cashType_cashOutCode:"",tdAmount:""}],selectedCost:[],costIndex:0,transCode:"",dealerInfo:{},contact:{},formData:{biComment:"",biProcessStatus:""}}},computed:{totalAmount:function(){var e=0;return this.CostList.forEach(function(t){t.tdAmount&&(e=(0,O.accAdd)(e,t.tdAmount))}),e}},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0]},selContact:function(e){this.contact=(0,d.default)({},e)},getCost:function(e,t){this.showCostPop=!0,this.costIndex=e,this.selectedCost=[t]},addCost:function(){this.expSubjectList=[],this.CostList.push({cashName:"",cashOutCode:"",cashType_cashOutCode:"",tdAmount:""})},deleteCost:function(){this.CostList.pop()},selMatter:function(e){var t=e;this.CostList[this.costIndex].cashName=t.fundName,this.CostList[this.costIndex].cashOutCode=t.fundCode,this.CostList[this.costIndex].cashType_cashOutCode=t.fundType},submitOrder:function(){var e=this,t="",a=[];if(this.CostList.every(function(e){return e.cashName?e.tdAmount?(a.push({tdId:e.tdId||"",cashOutCode:e.cashOutCode,cashType_cashOutCode:e.cashType_cashOutCode,tdAmount:e.tdAmount}),!0):(t="请填写支付金额",!1):(t="请选择资金账户",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=I.saveAndStartWf,n=(0,r.default)({},e.processCode,{businessKey:"REIM2",createdBy:(0,o.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:"",formData:(0,o.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,dataSet:a},dealerDebitContactPersonName:e.contact.dealerName||null,dealerDebitContactInformation:e.contact.dealerMobilePhone||null})),wfPara:(0,o.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=I.saveAndCommitTask),e.processCode.length||(t=I.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,w.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.attachment=t.attachment,e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.CostList=[];var a=t.formData;e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),a.order.dataSet.forEach(function(t){var a={cashName:t.fundName_cashOutCode,cashOutCode:t.cashOutCode,cashType_cashOutCode:t.cashType_cashOutCode,tdAmount:t.tdAmount,tdId:t.tdId};e.CostList.push(a)}),e.dealerInfo={creatorName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation,dealerCode:a.order.dealerDebit,dealerLabelName:a.order.drDealerLabel,dealerName:a.order.dealerName_dealerDebit,province:a.order.province_dealerDebit,city:a.order.city_dealerDebit,county:a.order.county_dealerDebit,address:a.order.address_dealerDebit},e.contact={dealerName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation},e.$loading.hide()})},hasDraftData:function(){var e=!1;return this.CostList.forEach(function(t){if(t.cashName)return e=!0,!1}),!!e&&(0,r.default)({},"FYBX_DATA",{cost:this.CostList,formData:this.formData,dealerInfo:this.dealerInfo,contact:this.contact})}},created:function(){var e=sessionStorage.getItem("FYBX_DATA");if(e){var t=JSON.parse(e);this.CostList=t.cost,this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.contact=t.contact,sessionStorage.removeItem("FYBX_DATA")}}}},WOWH:function(e,t){},WQIx:function(e,t){},WRWB:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("HzJ8"),o=n(s),l=a("fQlz"),d=n(l),u=a("kNGm"),c=n(u),f=a("++MA");n(f),a("2Gpe");t.default={name:"CommentItem",props:{item:{type:Object,default:function(){return{}}}},methods:{getDefaultIcon:function(e){var t=a("CYNT");return e&&(e.pic=t),t},getDefaultImg:function(e){e.target.src=a("Fuf7")},scaleImg:function(e){var t=""+location.origin+e.attachment;wx.previewImage({current:t,urls:[t]})},checkImgSuffix:function(){var e=["jpg","jpeg","png","gif","bmp","tif","pcx","tga","exif","fpx","svg","psd","cdr","pcd","dxf","ufo","eps","ai","raw","WMF","webp"];if(this.item.attachment){var t=!0,a=!1,n=void 0;try{for(var i,r=(0,o.default)(this.item.attachment);!(t=(i=r.next()).done);t=!0){var s=i.value,l=s.name.lastIndexOf("."),d=s.name.substr(l+1);e.includes(d)&&(s.isImg=!0)}}catch(e){a=!0,n=e}finally{try{!t&&r.return&&r.return()}finally{if(a)throw n}}}},checkFile:function(e){window.location.href=""+location.origin+e},handleComment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"comment",t=this.item,a=(t.type,t.reply),n=void 0===a?{}:a,i=(t.content,t.noticeSource,[].concat((0,r.default)(d.default))),s="",o=/\[(.+?)\]/g;return s="reply"===e?n.comment:this.item.comment,s=s.replace(/src="resources/g,'src="/dist/resources'),s=s.replace(o,function(e){var t=i.findIndex(function(t){return t===e.replace(/(\[|\])/g,"")});return-1===t?e:'<span class="img-emotion" style="background-position: -'+24*t+'px 0;"></span>'})}},filters:{filterTime:function(e){if(e){var t=Date.now();"string"==typeof e&&(e=e.replace(/-/g,"/").replace(/\..*/g,""));var a=+new Date(e),n=t-a,i=n/1e3,r=i/60,s=r/60,o=s/24;return i<60?"刚刚":r<60?parseInt(r)+"分钟前":s<24?parseInt(s)+"小时前":o<30?parseInt(o)+"天前":(0,c.default)(e,"YYYY-MM-DD")}}},created:function(){this.checkImgSuffix()}}},WVZW:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("7g+Q"),d=n(l),u=a("+62G"),c=(n(u),a("kNGm")),f=n(c),m=a("1KNX"),h=n(m),v=(a("HyXB"),a("vS5q"));t.default={name:"RSort",components:{Popup:d.default,RScroll:h.default},props:{data:{type:Array,default:function(){return[{name:"综合",key:""},{name:"交易号",key:"transCode"},{name:"修改时间",key:"modTime"}]}},viewId:{type:Number,default:2190}},data:function(){return{sort:"",toDay:"",preDate:"",property:"",fieldVlaue:{},showFilter:!1,timeFilter:{startDate:"",endDate:""},lastFilter:{},scrollOptions:{click:!0},filtersList:{}}},methods:{sortClick:function(e,t){this.property===e.key?this.sort="ASC"===this.sort?"DESC":"ASC":this.sort="ASC",this.property=e.key,this.$emit("on-sort",{property:e.key,direction:this.sort})},onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()}),this.lastFilter={timeFilter:JSON.parse((0,o.default)(this.timeFilter)),otherFilter:JSON.parse((0,o.default)(this.fieldVlaue))}},onHide:function(){var e=!1;this.timeFilter.startDate===this.lastFilter.timeFilter.startDate&&this.timeFilter.endDate===this.lastFilter.timeFilter.endDate||(e=!0),(0,o.default)(this.fieldVlaue)!==(0,o.default)(this.lastFilter.otherFilter)&&(e=!0),e&&this.$emit("on-filter",{timeFilter:this.timeFilter,otherFilter:this.fieldVlaue})},showSelIcon:function(e,t){if(this.fieldVlaue[t])return-1!==this.fieldVlaue[t].value.findIndex(function(t){return t===e})},selProcee:function(e,t){if(this.fieldVlaue[t]){var a=this.fieldVlaue[t].value,n=a.findIndex(function(t){return t===e});if(-1!==n)return a.splice(n,1),void(a.length||delete this.fieldVlaue[t]);a.push(e)}else{var i={alias:this.filtersList[t].alias,value:[e]};this.$set(this.fieldVlaue,t,(0,r.default)({},i))}},getStart:function(){var e=this;this.$vux.datetime.show({cancelText:"取消",confirmText:"确定",value:this.timeFilter.startDate,endDate:this.preDate,onConfirm:function(t){e.timeFilter.startDate=t}})},getEnd:function(){var e=this;this.$vux.datetime.show({cancelText:"取消",confirmText:"确定",value:this.timeFilter.endDate,endDate:this.toDay,onConfirm:function(t){e.timeFilter.endDate=t}})},filterConfirm:function(){this.showFilter=!1},filterReset:function(){this.timeFilter={startDate:"",endDate:""},this.fieldVlaue={}},getFilterFields:function(){var e=this;(0,v.filterFields)(this.viewId).then(function(t){for(var a in t)t[a].showValue=t[a].value.slice(0,9),t[a].showAll=!1;e.filtersList=(0,r.default)({},t)})}},created:function(){this.$route.params.listId;this.toDay=(0,f.default)(new Date,"YYYY-MM-DD"),this.preDate=(0,f.default)(new Date((new Date).getTime()-864e5),"YYYY-MM-DD"),this.getFilterFields()}}},WVmE:function(e,t,a){"use strict";function n(e){a("fi79")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("RzhK");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("0T3k"),o=a.n(s),l=a("54KT"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-042b7d0e",null);t.default=c.exports},WdYE:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("div",{staticClass:"title"},[a("m-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}})],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.costList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.costList,function(t,n){return a("div",{key:n,staticClass:"each_mater box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"mater_main "},[a("div",{staticClass:"mater_name"},[e._v(e._s(t.transCode))]),e._v(" "),a("div",{staticClass:"no_invoiced"},[e._v(e._s(t.inventoryName))]),e._v(" "),a("div",{staticClass:"no_invoiced"},[e._v("金额: ￥"+e._s(t.amntBal))])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}))],1)])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},Wdg4:function(e,t){},Wdr0:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2244,biStatus:"",filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"客户名称",value:"dealerName_dealerDebit"}]}},mixins:[i.default],methods:{}}},Wdtp:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("KH7x"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("bFc7"),p=n(v),C=a("6WeX"),_=n(C),y=a("3NX5"),b=n(y),g=a("sUbJ"),w=n(g),I=a("d7ck"),x=n(I),D=a("zWMP"),P=a("Qg39");t.default={data:function(){return{count:0,comment:"",orderInfo:{},formViewUniqueId:"e76a8c6f-05cc-45ee-ba93-299fe6751856",orderList:{},cashInfo:{}}},computed:{noTaxAmount:function(){var e=0;return this.orderInfo.inPut.dataSet.forEach(function(t){e=(0,D.accAdd)(e,t.noTaxAmount)}),e},taxAmount:function(){var e=0;return this.orderInfo.inPut.dataSet.forEach(function(t){e=(0,D.accAdd)(e,t.taxAmount)}),e}},mixins:[u.default],components:{workFlow:h.default,RAction:f.default,PriceTotal:_.default,contactPart:p.default,MatterList:b.default,MatterItem:w.default,FormCell:x.default},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u={},c=s.inPut,f=void 0===c?{}:c,m=s.outPut,h=void 0===m?{}:m;e.attachment=d;var v=f.dataSet,p=h.dataSet,C=void 0===p?[]:p,_=(0,o.default)(C,1),y=_[0],b=void 0===y?{}:y,g=!0,w=!1,I=void 0;try{for(var x,k=(0,r.default)(v);!(g=(x=k.next()).done);g=!0){var S=x.value;S.noTaxAmount=(0,D.accMul)(S.price,S.tdQty),S.taxAmount=(0,D.accMul)(S.noTaxAmount,S.taxRate),S.tdAmount=(0,P.toFixed)((0,D.accAdd)(S.noTaxAmount,S.taxAmount)),e.count=(0,D.accAdd)(e.count,S.tdAmount),S.inventoryPic=S.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+S.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),u[S.transMatchedCode]||(u[S.transMatchedCode]=[]),u[S.transMatchedCode].push(S)}}catch(e){w=!0,I=e}finally{try{!g&&k.return&&k.return()}finally{if(w)throw I}}e.orderList=u,e.dealerInfo={creatorName:s.dealerCreditContactPersonName,dealerName:f.dealerName_dealerCodeCredit,dealerMobilePhone:s.dealerCreditContactInformation,dealerContactPersonName:s.dealerCreditContactPersonName,dealerCode:f.dealerCode_dealerCodeCredit,dealerLabelName:f.crDealerLabel,province:f.province_dealerCodeCredit,city:f.city_dealerCodeCredit,county:f.county_dealerCodeCredit,address:f.address_dealerCodeCredit,payment:f.crDealerPaymentTerm,pamentDays:f.daysOfAccount,accountExpirationDate:f.accountExpirationDate},e.cashInfo=b,e.orderInfo=s,e.workFlowInfoHandler()})}}}},Wkhp:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=(n(s),a("0AQX")),l=a("+VRO"),d=n(l),u=a("BUFe"),c=n(u),f=a("AupE"),m=n(f),h=a("zWMP");t.default={data:function(){return{count:0,cashInfo:{}}},mixins:[d.default],components:{workFlow:m.default,RAction:c.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,o.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=t.formData,i=n.order,s=void 0===i?{}:i,o=n.inPut,l=void 0===o?{}:o;e.attachment=a,e.cashInfo=l.dataSet[0];var d=s.dataSet,u=!0,c=!1,f=void 0;try{for(var m,v=(0,r.default)(d);!(u=(m=v.next()).done);u=!0){var p=m.value;e.count=(0,h.accAdd)(e.count,p.tdAmount)}}catch(e){c=!0,f=e}finally{try{!u&&v.return&&v.return()}finally{if(c)throw f}}e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},Wkue:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("3cXf"),o=n(s),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("7g+Q"),C=n(p),_=a("PzEQ"),y=n(_),b=a("jnZd"),g=n(b),w=a("u28h"),I=n(w),x=a("kNGm"),D=(n(x),a("0AQX")),P=a("HyXB"),k=(a("jLp1"),a("bKg5")),S=n(k),T=a("55ug"),L=n(T),N=a("vl8n"),M=n(N),A=a("+WR7"),O=n(A),R=a("zWMP"),j=a("Qg39"),$={draftNumber:"",draftType:"",accepter:"",tdAmount:"",deposit:"",draftDate:"",draftDueDate:"",comment:""};t.default={mixins:[S.default],components:{Cell:c.default,Group:m.default,Popup:C.default,XInput:v.default,XTextarea:y.default,PopupPicker:g.default,RPicker:M.default,PopBaseinfo:O.default,PopDealerList:L.default,Datetime:I.default},data:function(){return{listId:"1745ffdd-1b6a-4fe5-9c5b-6e5394bd4faf",biReferenceId:"",selectedCost:[],costIndex:0,transCode:"",formData:{biComment:"",biProcessStatus:""},dealerInfo:{},orderList:[(0,d.default)({},$)],dealerParams:{dealerLabelName:"供应商,经销供应商"},draftTypeList:["银行承兑","商业承兑"]}},computed:{thenTotalAmntBal:function(){var e=0;return this.orderList.forEach(function(t){t.tdAmount&&(e=(0,R.accAdd)(e,t.tdAmount))}),(0,j.toFixed)(e)},tdAmount:function(){var e=0;return this.orderList.forEach(function(t){t.deposit&&(e=(0,R.accAdd)(e,t.deposit))}),(0,j.toFixed)(e)}},methods:{submitOrder:function(){var e=this,t="",a=[],n=[{key:"draftNumber",message:"请输入汇票号"},{key:"draftType",message:"请选择类型"},{key:"accepter",message:"请输入承兑人"},{key:"tdAmount",message:"请输入金额"},{key:"deposit",message:"请输入保证金"},{key:"draftDate",message:"请选择出票日"},{key:"draftDueDate",message:"请选择到期日"}];if(this.dealerInfo.dealerCode||(t="请选择往来"),t||this.orderList.every(function(e){return n.every(function(a){return e[a.key]||0===e[a.key]||(t=a.message),!t}),a.push({tdId:e.tdId||"",draftNumber:e.draftNumber,draftType:e.draftType,accepter:e.accepter,tdAmount:e.tdAmount,deposit:e.deposit,draftDate:e.draftDate,draftDueDate:e.draftDueDate,comment:e.comment}),!t}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=P.saveAndStartWf,n=(0,r.default)({},e.processCode,{businessKey:"IAAB",createdBy:(0,o.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.formData.biComment,formData:(0,o.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.formData.handler,modifer:e.formData.handler,order:{dealerName_dealerDebit:e.dealerInfo.dealerName,dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,thenAmntBalCopy2:e.dealerInfo.amntBal,thenAlreadyAmnt:e.thenTotalAmntBal,dataSet:a},outPut:{dataSet:[{fundName_cashOutCode:null,cashOutCode:"",cashType_cashOutCode:"",thenAmntBalCopy1:0,tdAmountCopy1:e.tdAmount}]},inPut:{dataSet:[{fundName_cashInCode:null,cashInCode:"",cashType_cashInCode:"",thenAmntBal:0,tdAmount:e.tdAmount,tdId:""}]}})),wfPara:(0,o.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=P.saveAndCommitTask),e.processCode.length||(t=P.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,D.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.attachment,n=void 0===a?[]:a,i=t.listId,r=void 0===i?"":i,s=(t.biComment,t.biReferenceId),o=void 0===s?"":s,l=t.formData,u=void 0===l?{}:l;e.attachment=n,e.listId=r,e.biReferenceId=o,e.handlerDefault={handler:u.handler,handlerName:u.handlerName,handlerUnit:u.handlerUnit,handlerUnitName:u.handlerUnitName,handlerRole:u.handlerRole,handlerRoleName:u.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:u.biComment,biId:u.biId,biProcessStatus:u.biProcessStatus,creator:u.creator,modifer:u.modifer});var c=u.order,f=void 0===c?{}:c,m=f.dataSet,h=void 0===m?[]:m;e.dealerInfo={dealerName:f.dealerName_dealerDebit,dealerCode:f.dealerDebit,dealerLabelName:f.drDealerLabel,amntBal:f.thenAmntBalCopy2,thenTotalAmntBal:f.thenAlreadyAmnt},e.orderList=h,e.$loading.hide()})},hasDraftData:function(){return!!this.dealerInfo.dealerCode&&(0,r.default)({},"SDCDHP_DATA",{formData:this.formData,dealerInfo:this.dealerInfo,orderList:this.orderList})},getRelationData:function(){},selDealer:function(e){this.dealerInfo=(0,d.default)({},e)},addOrder:function(){this.orderList.push((0,d.default)({},$))},deleteOrder:function(){this.orderList.pop()},checkAmt:function(e,t){switch(e){case"tdAmountCopy1":this.dealerInfo.tdAmountCopy1=(0,j.toFixed)(this.dealerInfo.tdAmountCopy1);break;default:e[t]=(0,j.toFixed)(e[t])}}},created:function(){var e=sessionStorage.getItem("SDCDHP_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.orderList=t.orderList,sessionStorage.removeItem("SDCDHP_DATA")}}}},WmNM:function(e,t){},WnoM:function(e,t,a){"use strict";function n(e){a("0/Yf")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("P0Xt");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("00yO"),o=a.n(s),l=a("22rg"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-2ca42df8",null);t.default=c.exports},Wnp4:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("ZLEe"),r=n(i),s=a("DEQU"),o=n(s),l=a("HXPS"),d=n(l),u=a("UwQd"),c=n(u),f=a("xZPP"),m=n(f),h=a("Bv05"),v=n(h),p=a("BzUK"),C=n(p),_=a("cEbJ"),y=n(_),b=a("IFIB"),g=n(b),w={email:{fn:v.default,msg:"邮箱格式"},"china-mobile":{fn:function(e){return(0,C.default)(e,"zh-CN")},msg:"手机号码"},"china-name":{fn:function(e){return e.length>=2&&e.length<=6},msg:"中文姓名"}};t.default={name:"x-input",created:function(){var e=this;this.currentValue=void 0===this.value||null===this.value?"":this.mask?this.maskValue(this.value):this.value,!this.required||void 0!==this.currentValue&&""!==this.currentValue||(this.valid=!1),this.handleChangeEvent=!0,this.debounce&&(this._debounce=(0,y.default)(function(){e.$emit("on-change",e.currentValue)},this.debounce))},beforeMount:function(){this.$slots&&this.$slots["restricted-label"]&&(this.hasRestrictedLabel=!0),this.$slots&&this.$slots["right-full-height"]&&(this.hasRightFullHeightSlot=!0)},beforeDestroy:function(){this._debounce&&this._debounce.cancel(),window.removeEventListener("resize",this.scrollIntoView)},mixins:[o.default],components:{Icon:d.default,InlineDesc:m.default,Toast:c.default},props:{title:{type:String,default:""},type:{type:String,default:"text"},placeholder:String,value:[String,Number],name:String,readonly:Boolean,disabled:Boolean,keyboard:String,inlineDesc:String,isType:[String,Function],min:Number,max:Number,showClear:{type:Boolean,default:!0},equalWith:String,textAlign:String,autocomplete:{type:String,default:"off"},autocapitalize:{type:String,default:"off"},autocorrect:{type:String,default:"off"},spellcheck:{type:String,default:"false"},novalidate:{type:Boolean,default:!1},iconType:String,debounce:Number,placeholderAlign:String,labelWidth:String,mask:String,shouldToastError:{type:Boolean,default:!0}},computed:{labelStyles:function(){return{width:this.labelWidthComputed||this.$parent.labelWidth||this.labelWidthComputed,textAlign:this.$parent.labelAlign,marginRight:this.$parent.labelMarginRight}},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}},pattern:function(){if("number"===this.keyboard||"china-mobile"===this.isType)return"[0-9]*"},labelWidthComputed:function(){var e=this.title.replace(/[^x00-xff]/g,"00").length/2+1;if(e<10)return e+"em"},hasErrors:function(){return(0,r.default)(this.errors).length>0},inputStyle:function(){if(this.textAlign)return{textAlign:this.textAlign}},showWarn:function(){return!this.novalidate&&!this.equalWith&&!this.valid&&this.firstError&&(this.touched||this.forceShowError)}},mounted:function(){window.addEventListener("resize",this.scrollIntoView)},methods:{scrollIntoView:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;setTimeout(function(){"INPUT"!==document.activeElement.tagName&&"TEXTAREA"!==document.activeElement.tagName||setTimeout(function(){document.activeElement.scrollIntoViewIfNeeded()},e)})},onClickErrorIcon:function(){this.shouldToastError&&this.firstError&&(this.showErrorToast=!0),this.$emit("on-click-error-icon",this.firstError)},maskValue:function(e){return this.mask?g.default.toPattern(e,this.mask):e},reset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.dirty=!1,this.currentValue=e,this.firstError="",this.valid=!0},clear:function(){this.currentValue="",this.focus(),this.$emit("on-click-clear-icon")},focus:function(){this.$refs.input.focus()},blur:function(){this.$refs.input.blur()},focusHandler:function(e){this.$emit("on-focus",this.currentValue,e),this.isFocus=!0,this.scrollIntoView(500)},onBlur:function(e){this.setTouched(),this.validate(),this.isFocus=!1,this.$emit("on-blur",this.currentValue,e)},onKeyUp:function(e){"Enter"===e.key&&(e.target.blur(),this.$emit("on-enter",this.currentValue,e))},getError:function(){var e=(0,r.default)(this.errors)[0];this.firstError=this.errors[e]},validate:function(){if(void 0!==this.equalWith)return void this.validateEqual();if(this.errors={},!this.currentValue&&!this.required)return void(this.valid=!0);if(!this.currentValue&&this.required)return this.valid=!1,this.errors.required="必填哦",void this.getError();if("string"==typeof this.isType){var e=w[this.isType];if(e){var t=this.currentValue;if("china-mobile"===this.isType&&"999 9999 9999"===this.mask&&(t=this.currentValue.replace(/\s+/g,"")),this.valid=e.fn(t),!this.valid)return this.forceShowError=!0,this.errors.format=e.msg+"格式不对哦~",void this.getError();delete this.errors.format}}if("function"==typeof this.isType){var a=this.isType(this.currentValue);if(this.valid=a.valid,!this.valid)return this.errors.format=a.msg,this.forceShowError=!0,void this.getError();delete this.errors.format}if(this.min){if(this.currentValue.length<this.min)return this.errors.min="最少应该输入"+this.min+"个字符哦",this.valid=!1,void this.getError();delete this.errors.min}if(this.max){if(this.currentValue.length>this.max)return this.errors.max="最多可以输入"+this.max+"个字符哦",this.valid=!1,void(this.forceShowError=!0);this.forceShowError=!1,delete this.errors.max}this.valid=!0},validateEqual:function(){return!this.equalWith&&this.currentValue?(this.valid=!1,void(this.errors.equal="输入不一致")):(this.dirty||this.currentValue.length>=this.equalWith.length)&&this.currentValue!==this.equalWith?(this.valid=!1,void(this.errors.equal="输入不一致")):void(!this.currentValue&&this.required?this.valid=!1:(this.valid=!0,delete this.errors.equal))}},data:function(){return{hasRightFullHeightSlot:!1,hasRestrictedLabel:!1,firstError:"",forceShowError:!1,hasLengthEqual:!1,valid:!0,currentValue:"",showErrorToast:!1,isFocus:!1}},watch:{mask:function(e){e&&this.currentValue&&(this.currentValue=this.maskValue(this.currentValue))},valid:function(){this.getError()},value:function(e){this.currentValue=e},equalWith:function(e){e&&this.equalWith?(e.length===this.equalWith.length&&(this.hasLengthEqual=!0),this.validateEqual()):this.validate()},currentValue:function(e){!this.equalWith&&e&&this.validateEqual(),e&&this.equalWith?(e.length===this.equalWith.length&&(this.hasLengthEqual=!0),this.validateEqual()):this.validate(),this.$emit("input",this.maskValue(e)),this._debounce?this._debounce():this.$emit("on-change",e)}}}},Wq2S:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"app_top"},[a("searchIcon",{on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("tab",{attrs:{"line-width":2,"default-color":"#757575","active-color":"#2c2727"}},e._l(e.dealerClassfiy,function(t,n){return a("tab-item",{key:n,attrs:{selected:n===e.activeIndex},on:{"on-item-click":function(a){e.tabClick(t,n)}}},[e._v(e._s(t.title)+"\n          ")])}))],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"app_main",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.dealerList.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.dealerList,function(t,n){return a("div",{key:n,staticClass:"client_ads vux-1px-b",class:{visited:t.visited},on:{click:function(a){e.goDetail(t,n)}}},[a("div",{staticClass:"cp_info user_info"},[a("p",{staticClass:"cp_name"},[e._v(e._s(t.dealerName))]),e._v(" "),t.dealerMobilePhone?a("span",{staticClass:"user_phone"},[e._v(e._s(t.dealerMobilePhone))]):e._e(),e._v(" "),t.dealerPhone?a("span",{staticClass:"user_tel"},[e._v(e._s(t.dealerPhone))]):e._e(),e._v(" "),a("p",{staticClass:"cp_ads"},[e._v(e._s(t.province)+e._s(t.city)+e._s(t.county)+e._s(t.address))])]),e._v(" "),e.action.update?a("span",{staticClass:"iconfont icon-bianji",on:{click:function(a){a.stopPropagation(),e.goEditAds(t,n)}}}):e._e()])}))],1),e._v(" "),e.action.add?a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEditAds}},[e._v("新增")])]):e._e(),e._v(" "),a("router-view")],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},WsHV:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("MgeX"),o=n(s),l=a("HzJ8"),d=n(l),u=a("ZLEe"),c=n(u),f=a("3cXf"),m=n(f),h=a("4YfN"),v=n(h),p=a("KH7x"),C=n(p),_=a("PzEQ"),y=n(_),b=a("SAzG"),g=n(b),w=a("BGNQ"),I=n(w),x=a("0AQX"),D=a("HyXB"),P=a("bKg5"),k=n(P),S=a("y8YJ"),T=n(S),L=a("kZy/"),N=n(L),M=a("89pA"),A=n(M),O=a("yt3/"),R=n(O),j=a("luHD"),$=n(j),B=a("VZtf"),E=n(B),F=a("vl8n"),U=n(F),q=a("+WR7"),Q=n(q),H=a("zWMP");a("Qg39");t.default={data:function(){return{listId:"482b7468-06eb-40c7-842a-f7ea6edb1c37",srhInpTx:"",orderList:{},matterList:[],transMode:["现付","预付","账期","票据"],showDealerPop:!1,dealerInfo:null,crDealerPaymentTerm:"现付",formData:{biId:"",biComment:""},submitSuccess:!1,showWarehousePop:!1,warehouse:null,numMap:{},transCode:"",biReferenceId:"",actions:[],taskId:"",showMaterielPop:!1,showMatterPop:!1,modifyIndex:null,modifyKey:null,selItems:[],matterParams:{whCode:""},contactInfo:{},filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"订单号",value:"transCode"}]}},components:{XTextarea:y.default,XInput:g.default,RNumber:E.default,Cell:I.default,PopDealerList:T.default,PopWarehouseList:A.default,PopMatterList:N.default,PopSingleSelect:R.default,PopMatter:$.default,RPicker:U.default,PopBaseinfo:Q.default},mixins:[k.default],methods:{getPaymentTerm:function(){var e=this;return(0,D.getDictByType)("paymentTerm").then(function(t){var a=t.tableContent;e.transMode=a})},selDealer:function(e){var t=JSON.parse(e),a=(0,C.default)(t,1),n=a[0];this.dealerInfo=n,this.crDealerPaymentTerm=this.dealerInfo.paymentTerm,this.matterParams=(0,v.default)({},this.matterParams,{dealerCode:this.dealerInfo.dealerCode})},selContact:function(e){this.dealerInfo.dealerDebitContactPersonName=e.dealerName,this.dealerInfo.dealerMobilePhone=e.dealerMobilePhone},selWarehouse:function(e){this.warehouse=JSON.parse(e),this.matterParams=(0,v.default)({},this.matterParams,{whCode:this.warehouse.warehouseCode}),this.matterList=[]},selMatter:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){var a=e.transCode+"_"+e.inventoryCode,i=t.numMap[a]||{},r=i.tdQty,s=void 0===r?e.currQty||"":r,o=i.price,l=void 0===o?e.price:o,d=i.taxRate,u=void 0===d?.16:d;e.tdQty=s,l.length&&(e.price=l),e.taxRate=u,e.assMeasureUnit=e.invSubUnitName||null,e.assMeasureScale=e.invSubUnitMulti||null,e.assMeasureDescription=e.invSubUnitComment||null,n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,m.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.inventoryCode!==e.inventoryCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode&&e.transCode===t.transCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,c.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});i>=0&&n.splice(i,1),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,d.default)((0,o.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,l=!1,u=void 0;try{for(var c,f=(0,d.default)(r);!(s=(c=f.next()).done);s=!0){var m=c.value;this.numMap[m.transCode+"_"+m.inventoryCode]={tdQty:m.tdQty,price:m.price,taxRate:m.taxRate}}}catch(e){l=!0,u=e}finally{try{!s&&f.return&&f.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this,t="",a=[];[{key:"dealerInfo",message:"供应商信息"},{key:"warehouse",message:"仓库"}].every(function(a){return!!e[a.key]||(t="请选择"+a.message,!1)}),t||this.crDealerPaymentTerm||(t="请选择结算方式"),t||(0,c.default)(this.orderList).length||(t="请选择物料");var n=!0,i=!1,s=void 0;try{for(var l,u=(0,d.default)((0,o.default)(this.orderList));!(n=(l=u.next()).done);n=!0){var f=l.value,h=!0,p=!1,C=void 0;try{for(var _,y=(0,d.default)(f);!(h=(_=y.next()).done);h=!0){var b=_.value;if(!b.tdQty){t="请填写数量";break}if(!b.price){t="请填写单价";break}var g=b.taxRate||this.taxRate,w=((0,H.accMul)(b.price,b.tdQty,g),{tdId:b.tdId||null,orderCode:b.transCode,outPutMatCode:b.inventoryCode,tdProcessing:b.processing,assMeasureUnit:void 0!==b.assMeasureUnit?b.assMeasureUnit:null,assMeasureScale:void 0!==b.assMeasureScale?b.assMeasureScale:null,assMeasureDescription:b.assMeasureDescription||"",thenQtyBal:b.qtyBal,thenQtyStock:b.qtyStockBal,tdQty:b.tdQty,assistQty:b.assistQty||0,price:b.price,tdAmount:b.tdAmount,taxRate:g,noTaxPrice:b.noTaxPrice,taxAmount:b.taxAmount,comment:b.comment||""});this.transCode&&(w.tdId=b.tdId||""),a.push(w)}}catch(e){p=!0,C=e}finally{try{!h&&y.return&&y.return()}finally{if(p)throw C}}}}catch(e){i=!0,s=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw s}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=D.saveAndStartWf,n={},i=(0,r.default)({},e.processCode,{businessKey:"PORT",createdBy:e.formData.handler});n=(0,v.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",dealerDebitContactPersonName:e.dealerInfo.dealerDebitContactPersonName||"",dealerDebitContactInformation:e.dealerInfo.dealerMobilePhone||"",containerOutWarehouseManager:e.warehouse.containerInWarehouseManager||null,outPut:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName||"供应商",containerCodeOut:e.warehouse.warehouseCode,drDealerPaymentTerm:e.crDealerPaymentTerm,dataSet:a}}),e.transCode&&(t=D.saveAndCommitTask,i={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var s={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,m.default)(n),wfPara:(0,m.default)(i)};e.transCode||delete s.biReferenceId,e.processCode.length||(t=D.submitAndCalc,delete s.wfPara,delete s.biReferenceId),e.biReferenceId&&(s.biReferenceId=e.biReferenceId),e.saveData(t,s)}})},getFormData:function(){var e=this;return(0,x.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=o;var l={},u=r.outPut,c=(r.dealerDebit,u.dataSet),f=void 0===c?[]:c,m=!0,h=!1,p=void 0;try{for(var C,_=(0,d.default)(f);!(m=(C=_.next()).done);m=!0){var y=C.value;y=(0,v.default)({},y,{inventoryPic:y.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+y.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:y.inventoryName_outPutMatCode,inventoryCode:y.outPutMatCode,specification:y.specification_outPutMatCode,processing:y.tdProcessing,qtyStockBal:y.thenQtyStock,qtyBal:y.thenQtyBal,transCode:y.orderCode}),l[y.orderCode]||(l[y.orderCode]=[]),l[y.orderCode].push(y)}}catch(e){h=!0,p=e}finally{try{!m&&_.return&&_.return()}finally{if(h)throw p}}e.matterList=f,e.dealerInfo={creatorName:r.dealerName_dealerDebit,dealerName:u.dealerName_dealerDebit,dealerMobilePhone:r.dealerDebitContactInformation,dealerDebitContactPersonName:r.dealerDebitContactPersonName,dealerCode:u.dealerDebit,dealerLabelName:u.drDealerLabel,province:u.province_dealerCodeCredit,city:u.city_dealerCodeCredit,county:u.county_dealerCodeCredit,address:u.address_dealerCodeCredit},e.contactInfo={dealerName:r.dealerDebitContactPersonName,dealerMobilePhone:r.dealerDebitContactInformation},e.warehouse={warehouseCode:u.containerCodeOut,warehouseName:u.warehouseName_containerCodeOut,warehouseType:u.warehouseType_containerCodeOut,warehouseProvince:u.warehouseProvince_containerCodeOut,warehouseCity:u.warehouseCity_containerCodeOut,warehouseDistrict:u.warehouseDistrict_containerCodeOut,warehouseAddress:u.warehouseAddress_containerCodeOut,containerInWarehouseManager:u.containerInWarehouseManagerOut},e.matterParams={dealerCode:e.dealerInfo.dealerCode},e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,v.default)({},e.formData,e.handlerDefault,{biComment:r.biComment,biId:r.biId,biProcessStatus:r.biProcessStatus,creator:r.creator,modifer:r.modifer}),e.crDealerPaymentTerm=u.drDealerPaymentTerm,console.log(u.drDealerPaymentTerm),e.biReferenceId=r.biReferenceId,e.orderList=l,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,r.default)({},"CGTHCK_DATA",{dealer:this.dealerInfo,warehouse:this.warehouse,formData:this.formData,orderList:this.orderList,crDealerPaymentTerm:this.crDealerPaymentTerm})},getRelationData:function(){var e=this,t=this.$route.query.uniqueId;return(0,x.getSOList)({formViewUniqueId:t,transCode:this.relationKey}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i;t.attachment;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var o=s.inPut,l=o.dataSet,d=void 0===l?[]:l;d=d.map(function(t){return(0,v.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,transCode:e.relationKey,qtyBal:t.tdQty,tdQty:""})}),e.dealerInfo={creatorName:s.dealerCreditContactPersonName,dealerName:outPut.dealerName_dealerCodeCredit,dealerMobilePhone:s.dealerCreditContactInformation,dealerCode:outPut.dealerCode_dealerCodeCredit,dealerLabelName:outPut.crDealerLabel,province:outPut.province_dealerCodeCredit,city:outPut.city_dealerCodeCredit,county:outPut.county_dealerCodeCredit,address:outPut.address_dealerCodeCredit},e.matterParams={dealerCode:e.dealerInfo.dealerCode},e.matterList=d,e.orderList=(0,r.default)({},e.relationKey,d),e.DealerPaymentTerm=s.drDealerPaymentTerm||"现付",e.$loading.hide()})}},created:function(){var e=sessionStorage.getItem("CGTHCK_DATA");if(e){this.orderList=JSON.parse(e).orderList;var t=!0,a=!1,n=void 0;try{for(var i,r=(0,d.default)((0,o.default)(this.orderList));!(t=(i=r.next()).done);t=!0){var s=i.value,l=!0,u=!1,c=void 0;try{for(var f,m=(0,d.default)(s);!(l=(f=m.next()).done);l=!0){var h=f.value;this.matterList.push(h)}}catch(e){u=!0,c=e}finally{try{!l&&m.return&&m.return()}finally{if(u)throw c}}}}catch(e){a=!0,n=e}finally{try{!t&&r.return&&r.return()}finally{if(a)throw n}}this.dealerInfo=JSON.parse(e).dealer,this.warehouse=JSON.parse(e).warehouse,this.formData=JSON.parse(e).formData,this.crDealerPaymentTerm=this.crDealerPaymentTerm,sessionStorage.removeItem("CGTHCK_DATA")}}}},WsVA:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper user-detail-container"},[a("div",{ref:"detail",staticClass:"basicPart"},[a("div",{staticClass:"user-info-container"},[a("div",{staticClass:"user-info"},[a("img",{staticClass:"avatar",attrs:{src:e.userData.photo,alt:"头像"},on:{error:e.getDefaultImg}}),e._v(" "),a("span",{staticClass:"user-name"},[e._v(e._s(e.userData.nickname))]),e._v(" "),a("div",{staticClass:"user-status-part"},[a("span",{staticClass:"user-status",class:e.userData.statusClass},[e._v(e._s(e.userData.status))]),e._v(" "),a("span",{staticClass:"user-type",class:e.userData.typeClass},[e._v(e._s(e.userData.userType))])])])]),e._v(" "),a("div",{staticClass:"user-info-part"},[a("div",{staticClass:"user-info-list"},[a("form-cell",{attrs:{cellTitle:"公司",cellContent:e.userData.entityName,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"工号",cellContent:e.userData.userCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"手机",cellContent:e.userData.mobile}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"座机",cellContent:e.userData.officePhone}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"邮箱",cellContent:e.userData.email}})],1),e._v(" "),a("div",{staticClass:"user-info-list"},[a("form-cell",{attrs:{cellTitle:"创建者",cellContent:e.userData.creatorName,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"创建时间",cellContent:e.userData.crtTime}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"修改者",cellContent:e.userData.modifierName}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"修改时间",cellContent:e.userData.modTime}})],1)]),e._v(" "),e.action.update?a("div",{staticClass:"edit-btn",on:{click:function(t){return t.stopPropagation(),e.goEdit(t)}}},[e._v("编辑")]):e._e()])])},i=[],r={render:n,staticRenderFns:i};t.a=r},Wtqk:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2362,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"成品名称",value:"inventoryName_transObjCode"}]}},mixins:[i.default]}},WzL9:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2469}},mixins:[i.default],methods:{},created:function(){}}},Wzqb:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pop-warehouse-container",on:{click:e.warehouseClick}},[e.selItems.warehouseName?a("div",[a("div",{staticClass:"title"},[e._v(e._s(e.title))]),e._v(" "),a("div",{staticClass:"user_info"},[a("span",{staticClass:"user_name"},[e._v(e._s(e.selItems.warehouseName))]),e._v(" "),a("span",{staticClass:"user_tel"},[e._v(e._s(e.selItems.warehouseType))])]),e._v(" "),e.noAddress?e._e():a("div",{staticClass:"cp_info"},[a("i",{staticClass:"iconfont icon-icon-test"}),e._v(" "),a("span",{staticClass:"cp_ads"},[e._v("\n        "+e._s(e.selItems.warehouseProvince)+e._s(e.selItems.warehouseCity)+e._s(e.selItems.warehouseDistrict)+e._s(e.selItems.warehouseAddress)+"\n      ")])])]):a("div",[a("div",{staticClass:"title"},[e._v(e._s(e.title))]),e._v(" "),a("div",{staticClass:"mode",class:{required:e.isRequired}},[e._v("请选择仓库")])]),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:!e.disabled,expression:"!disabled"}],staticClass:"iconfont icon-youjiantou r-arrow"}),e._v(" "),e.disabled?e._e():a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("div",{staticClass:"title"},[a("d-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}})],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"pop-list-container",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},[e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"pop-mater-list-item box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"pop-list-main "},[a("div",{staticClass:"pop-list-info"},[a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline name",staticStyle:{display:"inline-block"}},[a("span",[e._v(e._s(t.warehouseName))])]),e._v(" "),a("div",{staticClass:"ForInline name",staticStyle:{display:"inline-block"}},[a("span")])]),e._v(" "),a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline ",staticStyle:{display:"inline-block"}},[a("span",{staticClass:"creator"},[e._v(e._s(t.warehouseType))])])]),e._v(" "),a("div",{staticClass:"withoutColor"},[a("span",[e._v(e._s(t.warehouseProvince)+e._s(t.warehouseCity)+e._s(t.warehouseDistrict)+e._s(t.warehouseAddress))])])])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),e._v(" "),a("load-more",{directives:[{name:"show",rawName:"v-show",value:!e.showAddWarehouse&&(e.hasNext||!e.listData.length),expression:"!showAddWarehouse && (hasNext || !listData.length)"}],attrs:{slot:"loadmore","show-loading":e.hasNext,tip:e.tip},slot:"loadmore"}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showAddWarehouse,expression:"showAddWarehouse"}],staticClass:"when_null_conteiner",attrs:{slot:"loadmore"},slot:"loadmore"},[a("div",{staticClass:"when_null"},[a("div",{staticClass:"title"},[e._v("抱歉，没有找到您搜索的内容")]),e._v(" "),a("ul",{staticClass:"tips"},[a("li",[e._v("\n                  不用担心，您马上可以进行 "),a("span",{staticClass:"addNew",on:{click:e.addWarehouse}},[e._v("新增仓库")])]),e._v(" "),a("li",[e._v("\n                  或者检查“输入内容”是否正确\n                ")])])])])],2)],1)])],1)])},i=[],r={render:n,staticRenderFns:i};t.a=r},X0tG:function(e,t,a){"use strict";function n(e){a("41Q9")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("W23b");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("8dBe"),o=a.n(s),l=a("cEB7"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-19a60471",null);t.default=c.exports},X128:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"RDate",props:{title:{type:String,default:""},value:{type:String,default:""},required:{type:Boolean,default:!1},placeholder:{type:String,default:""},startDate:{type:String,default:""},endDate:{type:String,default:""}},data:function(){return{time:""}},watch:{value:{handler:function(e){this.time=e},immediate:!0}},methods:{clickDateSelect:function(){var e=this;this.$vux.datetime.show({confirmText:"确定",cancelText:"取消",value:this.time,startDate:this.startDate,endDate:this.endDate,onConfirm:function(t){e.time=t,e.$emit("input",t)}})}}}},"X4/C":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("a3Yh"),o=n(s),l=a("IHPB"),d=n(l),u=a("4YfN"),c=n(u),f=a("3cXf"),m=n(f),h=a("HXPS"),v=n(h),p=a("BGNQ"),C=n(p),_=a("z5TY"),y=n(_),b=a("SAzG"),g=n(b),w=a("PzEQ"),I=n(w),x=a("0AQX"),D=a("HyXB"),P=a("bKg5"),k=n(P),S=a("kZy/"),T=n(S),L=a("89pA"),N=n(L),M=a("luHD"),A=n(M),O=a("vl8n"),R=n(O),j=a("+WR7"),$=n(j),B=a("zWMP"),E=a("Qg39");t.default={mixins:[k.default],components:{Icon:v.default,Cell:C.default,Group:y.default,XInput:g.default,XTextarea:I.default,PopMatterList:T.default,PopWarehouseList:N.default,PopMatter:A.default,RPicker:R.default,PopBaseinfo:$.default},data:function(){return{listId:"edf7b34b-8916-410f-801f-2db7e97efbde",matterList:[],showMaterielPop:!1,transCode:"",formData:{biComment:""},numMap:{},warehouseIn:null,warehouseParams:{whCode:""},matter:{},showMatterPop:!1,modifyIndex:null}},watch:{matter:{handler:function(e){e.differenceNum=(0,B.accSub)(e.tdQty,e.qtyBal)},deep:!0}},methods:{delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=this;this.matterList.forEach(function(t){e.numMap[t.inventoryCode]=t.tdQty}),this.showMaterielPop=!this.showMaterielPop},selWarehouseIn:function(e){this.warehouseIn=JSON.parse(e),this.warehouseParams=(0,c.default)({},this.warehouseParams,{whCode:this.warehouseIn.warehouseCode}),this.matterList=[]},modifyMatter:function(e,t){this.matter=JSON.parse((0,m.default)(e)),this.showMatterPop=!0,this.modifyIndex=t},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.matterList,this.modifyIndex,t)},selMatter:function(e){var t=this,a=JSON.parse(e);a.forEach(function(e){e.tdQty=t.numMap[e.inventoryCode]||0,e.differenceNum=(0,B.accSub)(e.tdQty,e.qtyBal),e.thenQtyStock=(0,E.toFixed)((0,B.accSub)(e.qtyBal,e.qtyLock))}),this.numMap={},this.matterList=[].concat((0,d.default)(a))},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},save:function(){var e=this,t="",a=[];if([{key:"warehouseIn",message:"入库仓库"}].every(function(a){return!!e[a.key]||(t="请选择"+a.message,!1)}),t||this.matterList.length||(t="请选择物料"),this.matterList.every(function(n){if(!n.tdQty)return t="请填写盘点数量",!1;var i={transObjCode:n.inventoryCode,thenQtyStock:n.thenQtyStock,tdQty:n.tdQty,differenceNum:n.differenceNum||0,tdProcessing:n.processing,assistQty:n.assistQty||0,assMeasureScale:n.assMeasureScale||null,assMeasureUnit:n.assMeasureUnit||null,thenLockQtyStock:n.qtyLock,thenTotalQtyStock:n.qtyBal,comment:n.comment||null};return e.transCode&&(i.tdId=n.tdId||""),a.push(i),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=D.saveAndStartWf,n=(0,c.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,containerInWarehouseManager:e.warehouseIn.containerInWarehouseManager||null,inPut:{containerCode:e.warehouseIn.warehouseCode,dataSet:a}}),i={listId:e.listId,biComment:"",formData:(0,m.default)(n),wfPara:(0,m.default)((0,o.default)({},e.processCode,{businessKey:"STCK",createdBy:n.creator}))};e.transCode&&(t=D.saveAndCommitTask,i.biReferenceId=e.biReferenceId,i.wfPara=(0,m.default)({businessKey:e.transCode,createdBy:n.creator,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=D.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,x.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var d=[];e.attachment=l;var u=s.inPut,f=u.dataSet,m=void 0===f?[]:f,h=!0,v=!1,p=void 0;try{for(var C,_=(0,r.default)(m);!(h=(C=_.next()).done);h=!0){var y=C.value;y=(0,c.default)({},y,{qtyBal:y.thenTotalQtyStock,qtyLock:y.thenLockQtyStock,inventoryPic:y.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+y.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:y.inventoryName_transObjCode,inventoryCode:y.transObjCode,specification:y.specification_transObjCode,measureUnit:y.measureUnit_transObjCode,processing:y.tdProcessing}),d.push(y)}}catch(e){v=!0,p=e}finally{try{!h&&_.return&&_.return()}finally{if(v)throw p}}e.warehouseIn={warehouseCode:u.containerCode,warehouseName:u.warehouseName_containerCode,warehouseType:u.warehouseType_containerCode,warehouseProvince:u.warehouseProvince_containerCode,warehouseCity:u.warehouseCity_containerCode,warehouseDistrict:u.warehouseDistrict_containerCode,warehouseAddress:u.warehouseAddress_containerCode},e.warehouseParams={whCode:e.warehouseIn.warehouseCode},e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,c.default)({},e.formData,e.handlerDefault,{biComment:s.biComment,biId:s.biId,biProcessStatus:s.biProcessStatus,creator:s.creator,modifer:s.modifer}),e.biReferenceId=s.biReferenceId,e.matterList=d,e.$loading.hide()})},checkAmt:function(e){var t=e.tdQty,a=void 0===t?0:t;"number"!=typeof a&&(a=0),e.tdQty=Math.abs((0,E.toFixed)(a))},hasDraftData:function(){return!!this.matterList.length&&(0,o.default)({},"KCPD_DATA",{matter:this.matterList,warehouseIn:this.warehouseIn,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("KCPD_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.warehouseIn=t.warehouseIn,this.formData=t.formData,this.warehouseParams={whCode:this.warehouseIn.warehouseCode},sessionStorage.removeItem("KCPD_DATA")}}}},X9Vn:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Zp+1"),r=n(i),s=a("+26s"),o=n(s),l=a("Qg39");t.default={data:function(){return{uniqueId:9e3,showContent:!1,handleLoadding:!1,filterArr:[{operator:"like",value:"",property:"dealerCode"}]}},components:{TabItem:r.default},mixins:[o.default],filters:{toFixed:l.toFixed}}},XAqG:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.updateUser=t.addUser=t.validateCode=t.getCompanyList=t.getUserDetail=t.getAllUsers=void 0;var i=a("3cXf"),r=n(i),s=a("4YfN"),o=n(s),l=a("GOq4"),d=n(l);t.getAllUsers=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/ds/getAllUsers",data:(0,o.default)({_dc:Date.now(),sort:(0,r.default)([{property:"crtTime",direction:"DESC"}]),page:1,start:0,limit:50},e)})},t.getUserDetail=function(e){return d.default.ajax({url:"/H_roleplay-si/ds/getUserInfoById",data:{userId:e}})},t.getCompanyList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/sysGroup/getCompanyList",data:e})},t.validateCode=function(e){return d.default.ajax({url:"/H_roleplay-si/trans/validate",data:{tableName:"sys_user",filter:(0,r.default)([{filedName:"userCode",symbol:"=",value:e}])}})},t.addUser=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.post({url:"/H_roleplay-si/userInfo/addUser",data:e})},t.updateUser=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.post({url:"/H_roleplay-si/userInfo/updateUser",data:e})};t.default={}},XCFZ:function(e,t,a){"use strict";function n(e){a("8Q7p")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("nT2q");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("d3zw"),o=a.n(s),l=a("yYlT"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-5ee25258",null);t.default=c.exports},XF8b:function(e,t){},XHmy:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages xsbj-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"or_ads mg_auto",on:{click:function(t){e.showProjectPop=!e.showProjectPop}}},[a("div",{staticClass:"title"},[e._v("项目名称")]),e._v(" "),e.projectName?a("div",[a("div",{staticClass:"cp_info"},[a("p",{staticClass:"cp_name"},[e._v(e._s(e.projectName))])])]):a("div",[a("div",{staticClass:"mode required"},[e._v("请选择项目名称")])]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})]),e._v(" "),e._l(e.CostList,function(t,n){return a("div",{key:n,staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"费用明细"+(n+1)}},[a("cell",{attrs:{title:"费用名称","is-link":""},nativeOn:{click:function(a){e.getCost(n,t)}},model:{value:t.costName,callback:function(a){e.$set(t,"costName",a)},expression:"item.costName"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("费用名称\n              ")])])],2),e._v(" "),a("cell",{attrs:{title:"费用编码",value:t.costCode}}),e._v(" "),a("cell",{attrs:{title:"费用科目",value:t.costSubject}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("费用科目")])])],2),e._v(" "),a("x-input",{attrs:{title:"金额","text-align":"right",placeholder:"请填写",type:"number"},on:{"on-blur":function(a){e.checkAmt(t)}},model:{value:t.price,callback:function(a){e.$set(t,"price",e._n(a))},expression:"item.price"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("金额\n              ")])])],2),e._v(" "),a("x-input",{attrs:{type:"text",title:"报销事由","text-align":"right",placeholder:"请填写"},model:{value:t.reson,callback:function(a){e.$set(t,"reson",a)},expression:"item.reson"}})],1)],1)}),e._v(" "),a("div",{staticClass:"add_more"},[e._v("\n        您还需要添加新的报销?请点击\n        "),a("span",{staticClass:"add",on:{click:e.addCost}},[e._v("新增")]),e._v(" "),a("em",{directives:[{name:"show",rawName:"v-show",value:e.CostList.length>1,expression:"CostList.length>1"}]},[e._v("或")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.CostList.length>1,expression:"CostList.length>1"}],staticClass:"delete",on:{click:e.deleteCost}},[e._v("删除")])]),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"其他信息"}},[a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-cost-list",{ref:"matter",attrs:{show:e.showCostPop,defaultValue:e.selectedCost,getListMethod:"getProjectCostByGroupId","group-id":e.formData.handlerUnit},on:{"sel-matter":e.selMatter},model:{value:e.showCostPop,callback:function(t){e.showCostPop=t},expression:"showCostPop"}}),e._v(" "),a("pop-project-list",{attrs:{show:e.showProjectPop,"default-value":e.defaultProject},on:{"sel-project":e.selProject},model:{value:e.showProjectPop,callback:function(t){e.showProjectPop=t},expression:"showProjectPop"}})],2)]),e._v(" "),a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num"},[a("span",{staticStyle:{fontSize:".14rem"}},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.totalAmount,3))+"\n    ")]),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"count_btn stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},XIVs:function(e,t){},XJi8:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages xsbj-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{"dealer-label-name":"客户,原厂供应商,经销供应商,设施供应商,投资者,银行,其他",dealerTitle:"往来",defaultValue:e.dealerInfo,defaultContact:e.contact},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),e._l(e.CostList,function(t,n){return a("div",{key:n,staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"资金账户"+(n+1)}},[a("cell",{attrs:{title:"资金账户名称","is-link":""},nativeOn:{click:function(a){e.getCost(n,t)}},model:{value:t.cashName,callback:function(a){e.$set(t,"cashName",a)},expression:"item.cashName"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("资金账户名称\n              ")])])],2),e._v(" "),a("cell",{attrs:{title:"资金账户大类",value:t.cashType_cashInCode}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("资金账户大类")])])],2),e._v(" "),a("x-input",{attrs:{title:"收款金额","text-align":"right",placeholder:"请填写",type:"number"},on:{"on-focus":function(t){e.getFocus(t)},"on-blur":function(a){e.checkAmt(t)}},model:{value:t.tdAmount,callback:function(a){e.$set(t,"tdAmount",e._n(a))},expression:"item.tdAmount"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("收款金额\n              ")])])],2)],1)],1)}),e._v(" "),a("div",{staticClass:"add_more"},[e._v("\n        您还需要添加新的报销?请点击\n        "),a("span",{staticClass:"add",on:{click:e.addCost}},[e._v("新增")]),e._v(" "),a("em",{directives:[{name:"show",rawName:"v-show",value:e.CostList.length>1,expression:"CostList.length>1"}]},[e._v("或")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.CostList.length>1,expression:"CostList.length>1"}],staticClass:"delete",on:{click:e.deleteCost}},[e._v("删除")])]),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"其他信息"}},[a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-fund-list",{ref:"matter",attrs:{show:e.showCostPop,defaultValue:e.selectedCost},on:{"sel-matter":e.selMatter},model:{value:e.showCostPop,callback:function(t){e.showCostPop=t},expression:"showCostPop"}})],2)]),e._v(" "),a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num"},[a("span",{staticStyle:{fontSize:".14rem"}},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.totalAmount,3))+"\n    ")]),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"count_btn stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},XNwX:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("3cXf"),o=n(s),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("u28h"),C=n(p),_=a("PzEQ"),y=n(_),b=a("kNGm"),g=(n(b),a("jnZd")),w=n(g),I=(a("0AQX"),a("Z6x5")),x=a("HyXB"),D=a("bKg5"),P=n(D),k=a("vl8n"),S=n(k),T=a("+WR7"),L=n(T);t.default={data:function(){return{formData:{biId:"",biComment:"",biProcessStatus:""},biReferenceId:"",MobileWarn:!1,idCardWarn:!1,groupList:[],roleList:[]}},components:{Cell:c.default,Group:m.default,XInput:v.default,Datetime:C.default,XTextarea:y.default,PopupPicker:w.default,RPicker:S.default,PopBaseinfo:L.default},mixins:[P.default],methods:{getDepartMentWage:function(){var e=this;(0,I.getDepartMentWage)().then(function(t){var a=[];t.tableContent.forEach(function(e){a.push(e.GROUP_NAME)}),e.groupList.push(a)})},getAllRoleInfo:function(){var e=this;(0,I.getAllRoleInfo)().then(function(t){var a=[];t.tableContent.forEach(function(e){a.push(e.roleName)}),e.roleList.push(a)})},submitOrder:function(){var e=this,t="",a=[{key:"applicationDepartment",message:"请选择申请部门"},{key:"applicationPost",message:"请选择申请岗位"},{key:"recruitmentPeople",message:"请填写招聘人数"}];if(t||a.every(function(a){return!!e.formData[a.key]||(t=a.message,!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=x.saveAndStartWf,a=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,applicationDepartment:e.formData.applicationDepartment[0],applicationPost:e.formData.applicationPost[0]}),n={listId:e.listId,biComment:"",formData:(0,o.default)(a)};e.isResubmit&&(t=x.saveAndCommitTask,n.biReferenceId=e.biReferenceId,n.wfPara=(0,o.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=x.submitAndCalc,delete n.wfPara,delete n.biReferenceId),e.biReferenceId&&(n.biReferenceId=e.biReferenceId),e.saveData(t,n)}})},hasDraftData:function(){var e=this.formData;if(e.applicationDepartment||e.applicationPost)return(0,r.default)({},"ZHJH_DATA",{formData:e})},checkAmt:function(e){this.formData.recruitmentPeople=Math.round(e)}},created:function(){this.getDepartMentWage(),this.getAllRoleInfo();var e=sessionStorage.getItem("ZHJH_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,sessionStorage.removeItem("ZHJH_DATA")}}}},XQGE:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("4XVd"),o=a("1KNX"),l=n(o),d=a("xCct"),u=n(d),c=a("z7Zk"),f=n(c);t.default={name:"comment",components:{RScroll:l.default,CommentItem:u.default,REmotion:f.default},data:function(){return{scrollOptions:{pullUpLoad:!0},transCode:"",commentList:[],hasNext:!0,page:1,limit:10,total:0,comment:"",parentId:-1,focusInput:!1,placeholder:"添加评论...",listId:"",showEmotion:!1}},methods:{onPullingUp:function(){this.page++,this.getCommentList()},getCommentList:function(){var e=this,t={transCode:this.transCode,page:this.page,limit:this.limit};return this.listId&&(t.transCode=this.listId),(0,s.getCommentList)(t).then(function(t){var a=t.allCommentNum,n=void 0===a?0:a,i=t.comment,s=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+s.length,s.forEach(function(e){e.allReply&&e.allReply.forEach(function(t,a,n){var i=e.allReply.find(function(e){return e.ID===t.PARENT_ID});i&&(t.CONTENT="@"+i.creatorName+": "+t.CONTENT)})}),e.commentList=1===e.page?s:[].concat((0,r.default)(e.commentList),(0,r.default)(s)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},onReply:function(e){this.parentId=e.ID,this.placeholder="回复"+e.creatorName+":",this.$refs.commentValue.focus()},onPraiseSuccess:function(e){e.isPraise=!1,e.praiseNum++},tagFilter:function(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")},saveComment:function(){var e=this;if(!this.comment)return void this.$vux.toast.show({text:"评论不能为空",position:"top",width:"50%",type:"text",time:700});var t={content:this.tagFilter(this.comment),parentId:this.parentId,relationKey:this.transCode,type:"instance"};return this.listId&&(t={content:this.tagFilter(this.comment),parentId:this.parentId,relationKey:this.listId,type:"list"}),(0,s.saveComment)(t).then(function(t){var a=t.success,n=void 0===a||a;t.message;n&&(e.comment="",e.parentId=-1,e.placeholder="添加评论...",e.page=1,e.$refs.bScroll.scrollTo(0,0),e.getCommentList().then(function(){e.$loading.hide()}))})},commentFocusIn:function(e){this.$nextTick(function(){e.target.scrollIntoView()}),this.focusInput=!0,this.showEmotion=!1},commentFocusOut:function(){this.focusInput=!1},emotionSelected:function(e){this.comment+=e},emotionClickOutside:function(e){this.$refs.emotion.$el.contains(e.target)||this.$refs.emotionIcon.contains(e.target)||(this.showEmotion=!1)}},created:function(){var e=this,t=this.$route.query,a=t.transCode,n=t.listId;this.transCode=a,this.listId=n,this.$loading.show(),this.getCommentList().then(function(){e.$loading.hide()}),this.$nextTick(function(){document.addEventListener("click",e.emotionClickOutside)})},beforeDestroy:function(){document.removeEventListener("click",this.emotionClickOutside)}}},XS99:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("ZLEe"),r=n(i),s=a("PiEG"),o=n(s),l=a("UOZN"),d=n(l);t.default={name:"popup",props:{value:Boolean,height:{type:String,default:"auto"},width:{type:String,default:"auto"},showMask:{type:Boolean,default:!0},isTransparent:Boolean,hideOnBlur:{type:Boolean,default:!0},position:{type:String,default:"bottom"},maxHeight:String,popupStyle:Object,hideOnDeactivated:{type:Boolean,default:!0},shouldRerenderOnShow:{type:Boolean,default:!1},shouldScrollTopOnShow:{type:Boolean,default:!1}},created:function(){this.$vux&&this.$vux.config&&"VIEW_BOX"===this.$vux.config.$layout&&(this.layout="VIEW_BOX")},mounted:function(){var e=this;this.$overflowScrollingList=document.querySelectorAll(".vux-fix-safari-overflow-scrolling"),this.$nextTick(function(){var t=e;e.popup=new o.default({showMask:t.showMask,container:t.$el,hideOnBlur:t.hideOnBlur,onOpen:function(){t.fixSafariOverflowScrolling("auto"),t.show=!0},onClose:function(){t.show=!1,window.__$vuxPopups&&(0,r.default)(window.__$vuxPopups).length>1||document.querySelector(".vux-popup-dialog.vux-popup-mask-disabled")||setTimeout(function(){t.fixSafariOverflowScrolling("touch")},300)}}),e.value&&e.popup.show(),e.initialShow=!1})},deactivated:function(){this.hideOnDeactivated&&(this.show=!1),this.removeModalClassName()},methods:{fixSafariOverflowScrolling:function(e){if(this.$overflowScrollingList.length)for(var t=0;t<this.$overflowScrollingList.length;t++)this.$overflowScrollingList[t].style.webkitOverflowScrolling=e},removeModalClassName:function(){"VIEW_BOX"===this.layout&&d.default.removeClass(document.body,"vux-modal-open")},doShow:function(){this.popup&&this.popup.show(),this.$emit("on-show"),this.fixSafariOverflowScrolling("auto"),"VIEW_BOX"===this.layout&&d.default.addClass(document.body,"vux-modal-open"),this.hasFirstShow||(this.$emit("on-first-show"),this.hasFirstShow=!0)},scrollTop:function(){var e=this;this.$nextTick(function(){e.$el.scrollTop=0;var t=e.$el.querySelectorAll(".vux-scrollable");if(t.length)for(var a=0;a<t.length;a++)t[a].scrollTop=0})}},data:function(){return{layout:"",initialShow:!0,hasFirstShow:!1,shouldRenderBody:!0,show:this.value}},computed:{styles:function(){var e={};if(this.position&&"bottom"!==this.position&&"top"!==this.position?e.width=this.width:e.height=this.height,this.maxHeight&&(e["max-height"]=this.maxHeight),this.isTransparent&&(e.background="transparent"),this.popupStyle)for(var t in this.popupStyle)e[t]=this.popupStyle[t];return e}},watch:{value:function(e){this.show=e},show:function(e){var t=this;this.$emit("input",e),e?this.shouldRerenderOnShow?(this.shouldRenderBody=!1,this.$nextTick(function(){t.scrollTop(),t.shouldRenderBody=!0,t.doShow()})):(this.shouldScrollTopOnShow&&this.scrollTop(),this.doShow()):(this.$emit("on-hide"),this.show=!1,this.popup.hide(!1),setTimeout(function(){document.querySelector(".vux-popup-dialog.vux-popup-show")||t.fixSafariOverflowScrolling("touch"),t.removeModalClassName()},200))}},beforeDestroy:function(){this.popup&&this.popup.destroy(),this.fixSafariOverflowScrolling("touch"),this.removeModalClassName()}}},XUWL:function(e,t){},Xc3I:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("KH7x"),r=n(i),s=a("3QQJ"),o=n(s);t.default={name:"TodoItem",props:{item:{type:Object,default:function(){return{}}},name:{type:String,default:""}},components:{Badge:o.default},data:function(){return{}},methods:{getDefaultImg:function(e){var t=a("CYNT");return e&&(e.pic=t),t}},filters:{handleCrt:function(e){if(e){var t=(0,r.default)(e,1),a=t[0],n=void 0===a?{}:a,i=n.duration,s=parseInt(i/3600),o=i-3600*s,l=Math.floor(o/60),d=o-60*l,u=(Math.round(d),void 0);return u=s>0?s+"小时前":0===l?"1分钟前":l+"分钟前",s<24?u:""+n.crtTime.split(" ")[0]}}}}},XgMd:function(e,t,a){"use strict";function n(e){a("WAeg")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Dqn+");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("cBID"),o=a.n(s),l=a("c7IX"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-66e261f6",null);t.default=c.exports},XlK6:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2313,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[i.default],methods:{},created:function(){}}},XljL:function(e,t){},XqBV:function(e,t){},XquE:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2487,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[i.default],methods:{},created:function(){}}},Xzj3:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("3cXf"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("bFc7"),p=n(v),C=a("6WeX"),_=n(C),y=a("3NX5"),b=n(y),g=a("zWMP"),w=a("Qg39");t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"",contactInfo:{},orderList:{}}},components:{workFlow:h.default,RAction:f.default,contactPart:p.default,PriceTotal:_.default,MatterList:b.default},mixins:[u.default],methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(e.submitInfo=JSON.parse((0,o.default)(t)),!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a={},n=t.formData.order.dataSet,i=!0,s=!1,l=void 0;try{for(var d,u=(0,r.default)(n);!(i=(d=u.next()).done);i=!0){var c=d.value;c.noTaxAmount=(0,g.accMul)(c.price,c.tdQty),c.taxAmount=(0,g.accMul)(c.noTaxAmount,c.taxRate),c.tdAmount=(0,w.toFixed)((0,g.accAdd)(c.noTaxAmount,c.taxAmount)),e.count=(0,g.accAdd)(e.count,c.tdAmount),c.inventoryPic=c.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+c.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),a[c.transMatchedCode]||(a[c.transMatchedCode]=[]),a[c.transMatchedCode].push(c)}}catch(e){s=!0,l=e}finally{try{!i&&u.return&&u.return()}finally{if(s)throw l}}e.orderList=a,e.attachment=t.attachment,e.orderInfo=t.formData,e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo={creatorName:a.dealerDebitContactPersonName,dealerName:a.dealerName_dealerDebit,dealerMobilePhone:t.dealerDebitContactInformation,dealerContactPersonName:t.dealerDebitContactPersonName,dealerCode:a.dealerDebit,dealerLabelName:a.drDealerLabel,province:a.province_dealerDebit,city:a.city_dealerDebit,county:a.county_dealerDebit,address:a.address_dealerDebit,payment:a.drDealerPaymentTerm,logistics:t.drDealerLogisticsTerms,pamentDays:a.daysOfAccount}}}}},"Y+9d":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("a3Yh"),o=n(s),l=a("3cXf"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("7g+Q"),C=n(p),_=a("PzEQ"),y=n(_),b=a("jnZd"),g=n(b),w=a("0AQX"),I=a("HyXB"),x=a("jLp1"),D=a("bKg5"),P=n(D),k=a("N2r1"),S=n(k),T=a("F2L3"),L=n(T),N=a("vl8n"),M=n(N),A=a("+WR7"),O=n(A),R=a("zWMP");a("Qg39");t.default={mixins:[P.default],components:{Cell:c.default,Group:m.default,Popup:C.default,XInput:v.default,XTextarea:y.default,PopCostList:S.default,PopupPicker:g.default,PopProjectList:L.default,RPicker:M.default,PopBaseinfo:O.default},data:function(){return{listId:"b61ef324-f261-48d6-9c79-d1b475c24943",biComment:"",biReferenceId:"",showCostPop:!1,showProjectPop:!1,CostList:[{costName:"",costCode:"",expSubject:[],costType:"",price:"",reson:"",comment:""}],expSubjectList:[],selectedCost:[],costIndex:0,transCode:"",formData:{biComment:""},projectName:"",showPop:!1,tmp:"",taxRate:0,defaultProject:{}}},computed:{totalAmount:function(){var e=0;return this.CostList.forEach(function(t){t.price&&(e=(0,R.accAdd)(e,t.price))}),e}},methods:{getCost:function(e,t){this.showCostPop=!0,this.costIndex=e,this.selectedCost=[t]},addCost:function(){this.expSubjectList=[],this.CostList.push({costName:"",costCode:"",expSubject:[],price:"",reson:"",comment:""})},deleteCost:function(){this.CostList.pop()},selMatter:function(e){var t=e;this.CostList[this.costIndex].costName=t.costName,this.CostList[this.costIndex].costCode=t.costCode,this.CostList[this.costIndex].costSubject=t.costSubject,this.CostList[this.costIndex].expSubject=[],this.CostList[this.costIndex].costType=t.costType},selProject:function(e){this.projectName=e.PROJECT_NAME},submitOrder:function(){var e=this,t="",a=[];if(this.CostList.every(function(e){return e.costName?e.price?(a.push({tdId:e.tdId||"",expCode:e.costCode,expSubject:e.costSubject,tdAmount:e.price,expCause:e.reson}),!0):(t="请输入报销金额",!1):(t="请选择费用名称",!1)}),this.projectName||(t="请选择项目"),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=I.saveAndStartWf,n=(0,o.default)({},e.processCode,{businessKey:"REIM1",createdBy:(0,d.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:"",formData:(0,d.default)((0,r.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{crDealerLabel:"员工",project:e.projectName,dealerCodeCredit:e.formData.userCode,departmentName:e.formData.handlerUnitName,dataSet:a}})),wfPara:(0,d.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=I.saveAndCommitTask),e.processCode.length||(t=I.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,w.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.attachment=t.attachment,e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.CostList=[];var a=t.formData;e.projectName=a.order.project,e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,r.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),a.order.dataSet.forEach(function(t){var a={costName:t.costName_expCode,costCode:t.expCode,costType:t.costType_expCode,expSubject:t.expSubject,price:t.tdAmount,reson:t.expCause,comment:t.comment,tdId:t.tdId};e.CostList.push(a)}),e.$loading.hide()})},hasDraftData:function(){return!!this.projectName&&(0,o.default)({},"FYBX_DATA",{cost:this.CostList,formData:this.formData,projectName:this.projectName})},getRelationData:function(){var e=this;return(0,x.findProjectApproval)(this.relationKey).then(function(t){var a=t.formData,n=void 0===a?{}:a;t.attachment;e.projectName=n.approval.projectName,e.defaultProject={PROJECT_NAME:e.projectName}})}},created:function(){var e=sessionStorage.getItem("FYBX_DATA");if(e){var t=JSON.parse(e);this.CostList=t.cost,this.formData=t.formData,this.projectName=t.projectName,this.defaultProject={PROJECT_NAME:this.projectName},sessionStorage.removeItem("FYBX_DATA")}}}},"Y//y":function(e,t){e.exports="data:image/png;base64,/9j/4AAQSkZJRgABAQEBLAEsAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/wAALCAEEAQQBAREA/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/9oACAEBAAA/APsSCDpxWhDB04q9DD04q7FDVuOH2qzHD7VZSL2qdIqmSL2qZYvapFj9qkEdOEdOEdOEdGyjyzRspPLpDHTDHTGj9qjaL2qJovaoniqB4vaq8kPtVaSH2qrLD14qnLD14qjNB14qhPB14qk8HzGtWCHpxV+GHpxV6KHpVuKLpxVuOL2qzHF04qwkfFTpHUqx1KsdSCOniOniOnCP2pQlL5dGyk8ukKUhjphjppjqNo6jaOoXjqF4utQPF7VWkiqtJF14qpLF7VSmh68VRnh68VSeD5ulacMPTir8MXtVyKLpVyKKrMcXPSrKR9OKnSOpljqVY6lVKeEp4SnhKUJS7KNlGyjZQUppSmlKaUpjJUbR1E0dQvHULx1Xkj61WkiqpLF14qnLFVGaHrVN4fmPFaUMXTirsUXTirsUVWo46sxx1YSOp0SplSpFSpAlPCU8JTgtKEpdlLto20m2jZ7U0rSFKYUppSo2So2SonSoHjqB46ryR1VliqpLFVKaLrVNovmNaEMfTirsUfSrcUfSrUcdWUSp0SplSpVSpFSpAtPC04LTgv4Uu2l2e1G32pdp+tJs9qTbx0xRtpu32ppX8aaVqNlqNkqNkqF0qF0qvJHVWSPrVWWPrVOaPrxVNo/mq9DH0q7FH04q3HH7VZjSrCJU6JUqrUqrUgWnhaeB604L+FLgUoHpS7TRto20baTBoIpu2mlfwppWmlajZajZahZaidKrulVpEqrLH7VUlj61UaP5quxJ0q5ElWo0qyiVOi1Mq1Kq1KFp4WnhacBinAetLjFLg0u00baNtG2kwaSjAppHrTSPSmlajZaYy1Ey1C61C6VXkSqsidaqSpVVo+atxJ0q5GlWY1qyi1Mi1Mq1Kop6rUgH5U4DNOAxSgZpcAUtFFFFFFIR6U2kI9KaRmmEfnTCKjZaiZagdagkWqsi1VlTrVZk5qzEvSrca1ZjWrCLUyLUyipFFSAflTgPyp3sKcBilopdtLgUYFGKMCk20YIpKKaRikIzTCPzphH51GwqNlqF1qu61XkXrVWRarMvNWYl6VajWrKLU6CplFSqKkA7U8DNO9hTgMUtKBmnV8k/t7fG3xf8JrDwna+FNUbR21GS4e4uIo1aQhAgVQWBAGXJOBk4FfPOl+P/ANqrXNNttQ09/Fd5Y3UYlguIbBGSRCMhgQnII5BrL8XfGj9pLwDaQXPiTVvEWh287+XFJfWscYdgMkDKcnHpUPg/45/tGfEEXLeGtZ8Ra6LYqJmsbRJBGTnAYhMAnB4rpf8AhK/2tf8Anl4w/wDBcv8A8RXCa5+1D8cfDWq3Omap4w1Ww1C2bZNbTxRK8bYzgjZwfauy0/x3+1bqtjBe2n/CXXFrPGJYpU09cOpGQR+76Ec1FrfxH/al8N6Xc6nqtx4o07TrZd811c2Uccca+pJTArl/Df7Svx58Y6tFpeheKNa1fUZQxS2s7eOSQgDLHAToB3rc8V/F79pjwNpi6j4h1HxLotgZFhFxe2aRxlyCQMlOpwePavuH9kn4i638Uvgdo+u+ILgXerNLPby3AQKZAjkAkAAZxjOAM4r2QjNMIqNhUbConFQOtVpFqtIvWqzLzViNelWoxVhBU6CplFSqKeBingYpwGKWlAp1FfB//BT773w//wC3z/2lXuXh74x+H/gl+y14J1/X5+BotqltZxkeddS+SuEQfzPQDk18X6Po/j/9uz4vSXd3I1ppNuQJZgCbbTLcnIRAeDIR26k8nAHH6Q/DT4Z6D8JvCVn4d8PWa2tjbjLMcGSZz1kkP8THufwGAAK+cf2wv2wY/hvBdeDfBt0k3iqVSl5fxkFdOUjlQehlI/756nnAHAfsffsfTeILi2+IXxCtnkhkYXOn6XdglrhiciecHkgnkKevU8YB+5fEPiDTfCOh3eq6rdw6dpllEZZ7iZgqIoH+QAOScAV+a3xy+OPiz9r34g2fg3wbaXI8P+fts7BeDcEdbic9AoGSAeFHqTX2v+zb+zbov7P/AIXEaCO/8SXaA6hqhXlj18uPPIjB6DqTyewHlP8AwUf8VaTb/CjTPDz30X9s3WpRXUVkDlzEiuGcgdBkgAnqenQ1137Af/Jt2kf9ft3/AOjTX0URimkd6YwqNhULCoXFV5BVaRarsvNTxirMYqwgqdBUqipVFPA704DNOpQM06vj79rz9rvxV8EvH9h4a8NWGnMrWK3c9xfRtIWZ2YBQAygABc55JJ9q8S/4eE/F3/oF6N/4Lpf/AIuvLPjf8e/Gnx+OkHxLYW0X9meZ5H2G0kjzv25zknP3Rjp3rjfFvizxP43TSo9Xe6uYNKs4rCyg8thHBEgAAUYwCcZJ6k9a9d+G/wC1749+E/hW18P+G/Dui2VhAMknTpS8rnrJI2/LMe5+gGAAK29Z/b1+L+r6Vd2SW2n6e08ZjF1aWEiyxZGMoSxAI7HBxXgfhjWtR8N+KrbX5dIj1q6t5jceVqsEk0UsmchpBkFjnnBOCeua+iB/wUH+LqgAaTowAGMDTpcD/wAiV5x8Zv2k/iL8c9OtNO18C20y3bzPsWn2zxRyv2ZwSSxHbJwMnjPNVvg1+0P4k/Z/iuv7B0PSTdXjAzXuo2jtO6DpGG3DC98AdTk54r7z+I/7YOj/AA++C/h7xRPbxyeKPEGnRXdjoqyZwzqCXc9RGCTz1OMDnJH54+MrTxv8StJ1f4peITNd2Mt8lm2oTnCvKwJEcQ/uqARgcDgdTX6GfsB/8m2aR/1+3f8A6NNfRRGabTCM0xhULConFQOKqyCq561NGKtRirCCplFSqKkHSnjpTgMClp9Ffmj/AMFCf+Ti9L/7Bdr/AOjZK/SGzs4PskH7mP7i/wAA9BU32K3/AOeEf/fAo+xW/wDzwj/74FH2K3/54R/98Cj7Fb/88I/++BR9it/+eEf/AHwKPsVv/wA8I/8AvgUfYrf/AJ4R/wDfAr4X/wCCnEMcUXw/2IqZa9+6AM8RV47+zP8As169+0Zr8Gq6/Pdw+D9OCW8t5Ix3zqgAW3hJ6AAAEjgD3NfTP7e3h7TvCf7M2l6RpFlFp+m2eq2sNvbQLtVFCS4AH6knknJNdV+wH/ybZpH/AF+3f/o019F009aa3Wo271EwqJxUDiq0gquw56VLGKtRjpU6Cpk6CpV6VIB2p4606lXrXyV8b/29rb4TfEfVfCln4Tk1dtNZY57qS9EIaQqGIUbG4AYDJPJzxXCf8PPpP+ifr/4ND/8AGq+a/wBoL46/8L2+Itr4pOkDRzBaxW32UXHm52OzZzgdd2MY7V9Iw/8ABTmSKJE/4QBTtULn+1OuBj/nnT/+Hn0n/RP1/wDBof8A41R/w8+k/wCifr/4ND/8ao/4efSf9E/X/wAGh/8AjVH/AA8+k/6J+v8A4ND/APGqP+Hn0n/RP1/8Gh/+NVb0b/gppBdaraQX3gV4LSSVUllg1ESOgJAJCmMBiM5xkZ9a+44pBLGki8qwDA+xGa+GP+Cnv+r+H3+9e/yir6d/ZriitvgD4CCKkSf2PbuQowMlAST7kkkn1NfHH7dX7Tek/EIJ4A8OeXfadp92s95qgO5ZJkDAJHjggZOW6E8DgZP0P+wF/wAm26T/ANft3/6NNfRdI3SmnpUbVG3eoXFQuKrSCq5AzUsYqylTpU69akTtUi9acvWnU4dK/MTx/pdnrf7fz6fqFtFe2Nz4jtop7edQ0cilIwQQeCD6V98/8M8/DH/oQvD3/gui/wAKP+Gefhj/ANCF4e/8F0X+FH/DPPwx/wChC8Pf+C6L/Cj/AIZ5+GP/AEIXh7/wXRf4Uf8ADPPwx/6ELw9/4Lov8KP+Gefhj/0IXh7/AMF0X+FH/DPPwx/6ELw9/wCC6L/Cj/hnn4Y/9CF4e/8ABdF/hXwD+3T4P0PwT8ctIsdA0mz0aybTLeVreyhESFzNICxAAGSABn2Ffpxp3/Hhbf8AXJf5Cvh3/gp7/q/h9/vXv8oq8x+IP7WN9d/Bnwf8MvBDXEbrpVvaapfQqRLLIUANvEBzjPBI5PQcZJx/iL+yrc/CH9neHxh4lLReKNQ1G3hjsFPy2cDK5IfHWQ4GR0GMdc19ifsBf8m3aR/1+3f/AKNNfRZ60h6Uw9KY3So271C9QuOtVpKrt1qWPrVmOpkqdakXtUi09aWnDpX5neK/+UiEX/YzWv8A6DHX6K+NNU1HRvCGtaho9l/aeq2tnLNa2fP76VUJVOOeSAOOa/O2b9s39oJZpAdOERDEFP7Ab5eenIzx719Wfsf/ABZ8f/FjwtrN3460n7E9tcrHaXf2Rrb7QpBLDYf7pA5HHzY6ivoOivO/j34u8SeBfhRr2t+EtM/tbXbWNWgt/LMmAWAZ9g5baCTgelfCP/DZ/wC0F/z4/wDlBP8AhX2z+zJ498XfEj4UWWteNdL/ALL1h5pIwPIaDz4gRtk8s8rnJHocZHBr4v8A+CiX/JwWi/8AYJt//R0tfpBp3/Hhbf8AXJf5Cvh3/gp7/q/h9/vXv8oq6P8AYh/ZY03w5oOlfEbxAItR1q/hFzpkOMx2UTDIk56yEd+wPHOTXQ/8FGpFX4B2qllDHWbfAPU4SXOK2v2Av+TbtI/6/bv/ANGmvotutJTKYelRt1qJ+lQvVaTvVc4zUkfWrKVMlTrUq9aetPWlpw6V+Z3iv/lIhF/2M1r/AOgx1+mVFFeO/Ff9qv4e/BrxFHoXiLUbkaoYlma3tLZpjGp+6WI4BOMgZzjmsHwp+3D8KfGHiKw0Wz1S9t7y+mWCB7qyeOMyMcKC3IGSQATxk19AUUV+a3/BRL/k4LRf+wTb/wDo6Wv0g07/AI8Lb/rkv8hXw7/wU9/1fw+/3r3+UVe7/Dv4l6D8Jv2V/BniHxFeLaWNvotsFUYMk7mMbUjX+Jj2H4nABNfnd8evjl4m/aB8R3Gt38csGhWLCO0sY8mG0Vicbj0MjYOSeTjA4GK++P2Av+TbtI/6/bv/ANGmvotutJTKYelMaoX6VC9VpOlQHrTkqzHU6VMtSp2qRaetLTh0r8zvFf8AykQi/wCxmtf/AEGOv0yoorxf4t/smfD740+Jk17X7W9TVREsLzWVyYvNVfu7hggkA4BGOPpXPeE/2E/hZ4O8Sadrdra6ndXVhMtxDHeXpePepypIAGcEA4JxxzX0TRRX5rf8FEv+TgtF/wCwTb/+jpa/SDTv+PC2/wCuS/yFfDv/AAU9/wBX8Pv969/lFXzx4O0f4gftXa/4Z8IWshOlaFZR2qNgi1sIFABlf1dsfUnAGAOPpL9rX4OeH/gl+yhp+g6BBgDWbZ7m8kA866l8uQF3P8h0A4Fep/sBf8m3aR/1+3f/AKNNfRZ60lMph6VG1RP/AEqB6ryd6rsTmnR1ZQ1YQ1MnapV7U8daeOtOpVr8z/Ff/KRCL/sZrX/0GOv0V8a2Gqar4Q1qy0S8Gn6xcWc0VndH/llKUIRvwJBz2r87Zv2UP2kmlkLaheSEsSXHiM/Mc9eXzzX1Z+yB8NPiP8NPC2tWvxB1R7yS4uVeytZLw3TQKAd5LknAYkcAnG3PGa+g6K88+PXhjxT4x+FOvaR4M1H+y/ENzGot5xKYiQGBZA45UsoIz2z2618I/wDDJ/7SP/P7e/8AhR//AGyvtj9mTwX4z8B/Ciy0nx3qTalriTyOC05naGIkbYzIfvEcnOTjdjPFfF//AAUS/wCTgtF/7BNv/wCjpa/SDTv+PC2/65L/ACFfDv8AwU9/1fw+/wB69/lFXhXwj/ay8YfBjwqmieGfDmhxW5bzJrqWzlea5c/xSOJBk44AAAA6CovjL+1b47+OPhFPDuvaZp8Fityl1usrWRJNyggDJYjHzHtX3D+wppV5pP7OOhJe2stq8txczosylWZGlYq2D2I5B7ivoGkPSmnpTG6VE/eonqBzVeQ1XbrToz0qzGanQ1MpqZakB4FOp9KDg1+Z/iv/AJSIRf8AYzWv/oMdfplRRXyn+0n+2vc/Ar4hf8ItZeFU1V0to7iS6urloVO/JAQBTkADk565HauK+Hn/AAUZvvFvjjQ9DvfBMMNvqN5FaGWzvGkkQuwUEKUAOCQSMjjNfcNFFfmt/wAFEv8Ak4LRf+wTb/8Ao6Wv0g07/jwtv+uS/wAhXw7/AMFPf9X8Pv8Aevf5RV9N/s42NtJ8BvALNbxMTo1sSSgJPyD2r0f+zrX/AJ9of+/Y/wAKnACrgDAHGB2pKRqY1MbrUTGonNQOarSGq7HniljNWYzVhDU6GpV7VItSDpTge1LX5oeK/wDlIhF/2M1r/wCgx1+lk00dtC8srrFFGpZncgBQOSSewA7150/7Sfwsjdkbx9oAYEgj7ch5H411vhPxtoHjzT3v/Dus2WtWaOY2msZhIqsP4Tg8HB6Gl17wR4d8VSxy6zoWm6vLECqPfWkczKDzgFgcD2qrpfw08I6FfRXuneF9GsLyM5Se2sIo5EPqCFBH4Vs6vrFjoGm3GoaneQ2FhboZJrm4cJHGo6lmJwBXBf8ADS3wq/6KBoH/AIGp/jXb+H/Eml+K9Jg1PRtQttU0+YEx3NrKJI3wcHBBxwa/Ob/goxJ5Px80qTGdmjW7Y9cTSmu9t/8AgpvHBBHH/wAK/Y7FC5/tQc4GP+edeG/tQftQL+0anh5R4ebQv7JMxJN0JvN8wJ/sjGNnv1r9Gv2cUaP4DeAVZSrDRrbIPB/1Yr0imk5pKbTCe9RsajbvULmq7mq8hquzc0Rt0q1GasIamQ1MpqRTUgPenU+vzQ8Wcf8ABRCL/sZrT/0GOv0Z8XeGrbxl4V1fQbx5I7XU7WS0leI7XVXUqSD6gGvjJ/8AgmHZ722fECcLngNpik47Z/eV79+zX+zbY/s6aNq9pb6zca3c6nMks08kQiRQgIUKgJx1OTnnjpivaKK4f4x/C+z+Mvw71XwnfXc1hBfBcXMABaN0YOpweCMqMg9RXyh/w7Dtv+igTf8AgrH/AMcr6f8AgJ8GLL4EfD6HwxZahPqgE8lzLdTqELyPjO1QSFUAAAZPc55r4c/4KKKH/aA0dSAQ2kW4IPcedJX25Y/s4/C57K3ZvAOgFmjUkmxTk4HtU6fs4/C6Nwy+AfD4YEEH7BGefyr0KGGO2hSKJFiijUKqIAFUDgADsAO1SE9qSkJ7U0nFRk9qjY1GxqFzVeQ1Wkaq7E5pIm6VajarKNU6GplNSKakB7U8HtTgcV+XPxe8V2Xgb9uPUfEOorI1hpmu291OIFDOUVIydoJGT7Zr6k/4eM/CwH/j21//AMAk/wDjlO/4eNfCv/n28Qf+AKf/AByj/h418K/+fbxB/wCAKf8Axyj/AIeNfCv/AJ9vEH/gCn/xyj/h418K/wDn28Qf+AKf/HKP+HjXwr/59vEH/gCn/wAco/4eNfCv/n28Qf8AgCn/AMco/wCHjXwr/wCfbxB/4Ap/8cr4/wD2rfjLoHxx+LOma94dS7SxisobVvtsQjfeJHJwATxhhzmv1c07/jwtv+uS/wAhVmmk+lJSE4ptNJ71GxqNjUTGoHNV5GqtI1V2bnrTYm6VbjarMbVOjVMrVMpqRTTwc08HNeN/EX9kj4afFHxPceIdd0ec6rchRNNa3ckIlIAALAHBOABnvgVzX/DAnwd/6BGo/wDgxl/xpf8AhgP4Pf8AQH1D/wAGUv8AjR/wwH8Hf+gRqH/gyl/xpf8AhgL4On/mEah/4MZf8aX/AIYC+D3/AECNQ/8ABlL/AI0f8MBfB7/oEah/4Mpf8aP+GAvg9/0CNQ/8GUv+NH/DAXwe/wCgRqH/AIMpf8asaV+wp8INJ1K1vI9Cup3gkEqx3F/K6Eg5G5c4IyOh4r6CACqAAABxgdKCc0lITim00nNNJ/Ko2NRMaidqgdqrSNVaRutVWbmkierUbVajarCNUyNUytUitxUgP508H86eDmlBxSg5paKXJo3UbqMmkoopCfSm00nNNJ/Ko2ao2NRs1Qu1V3aq8jdaqSv1qsX5pkT1bif3q1G9WUep0aplapVanhh604SD15pfPUdTSG6A6mmm9UdxTTqSjvTG1ZO5ph1eMfxD86Q6xH6j86T+2U9RS/2xH/eH504atH/eBp/9qIehp4v1PfNPF4p75pftAPWjzQe9IXB70wtUTNUTtUDtVeR6ryPVSV+vNVWfmo4X6VcifpVuN6sRvVhHqZXxTvN96DcYzUL3ZGearyXxAPNU5tUK55qhPrZXPNZtx4kZM81mXPi4x5+b9azZ/HQTq/61Rk+IyIeZQPxqNfiUhOBKD+NWofiAHxiTP41oW/jTzCMP+talv4pL4wf1rSt9fL45rRg1gtjBq9FqJOOc1ajvCe/NTrck96d52RQZKjd6ru9V5HqrK/FVJZKqNJ83Wo4ZKuRSdKuRye9WY3qyj8VMG6UtIVJFQvGTVWWAmqE9o5zxWbcae7Z61lXOkSNnANY934dlkzwaxbvwdLLnhqyLn4dvMTndVeP4ZlG4Dfma0rXwLLDjGa2rTwtLHjhq2rTQ5Uxwa17XTJFxwa04LJxjg1oQ2zDHGKuRxEVYRD3qSkJxTGfFQSP1qrI9VZZOvNU5ZOtVWk+aoYZelXYpOBzVyKSrUclWY5KnR6mVwalGDTggNBgB7Uw2gPamNpyt2qJtJVv4QaibREI+7UbaAhP3QaafDqZ+4KT/AIRyP+6KUeHkH8IqRdCQY+UVIujID92pV0xR2qRbFV7Cni2A7U7ygKQgCmMwAqF3qF5KrySVVkk61UlkqlNL1qo0vzHmoIZenNXoZeKuRS9OatxS1Zjk96sJJVhJKmWSpFepVenh6cGpwYe1O3CjI9qXj2oyPSkyPSjIpCwpCwppeoy9MZ6iZ6heSoXkqu8lV5JPeqsstU5ZapTS9aptL8x5qtBN05q/DN05q7FLVyKWrUctWI5elWEk96mWSplk96kWSpA9SB6cHpwelD+9Lvo30m+kL0hemF6aZKjaSo2kqNpKheSq7y1Xkl61WklqpLL1qnLL15qjNN15qk8w3HmqsE/TmtCGfpzV2Gb3q7FN71bjm6c1Zjl96sJLU6S1MslSrJ71IslPElPElOElL5lL5nvR5oo8z3pDJTTJTTJTGkqNpKjaSoXl96heWoJJfeqsk3vVWWbrzVSWb3qlNN15qhPP15qk8/zHmvQk+DhT/mMZ/wC3X/7OrCfCcp/zFs/9u/8A9nVhPhiU/wCYnn/t3/8AsqmT4clf+Yjn/th/9lUy+ASv/MQz/wBsf/sqlXwQV/5fv/IX/wBlUi+DSv8Ay+Z/7Zf/AF6ePCRH/L3/AOQ//r1IPC5H/L1/5D/+vTh4aI/5ef8AyH/9enDw6R/y8/8Ajn/16cNAI/5eP/HP/r04aER/y3/8c/8Ar0v9hn/nv/45/wDXpf7F/wCm/wD47/8AXo/sX/pv/wCO/wD16P7F/wCm/wD47/8AXo/sX/pv/wCO/wD16T+wz/z3/wDHP/r0h0In/lv/AOOf/XpDoJP/AC8f+Of/AF6Q+H8/8vH/AI5/9emHw4T/AMvP/kP/AOvTT4ZJ/wCXr/yH/wDXph8Kk/8AL3/5D/8Ar0xvCBb/AJfP/IX/ANeo28Flv+X3/wAhf/XqJvAm7/l+x/2x/wDsqif4elv+Yhj/ALYf/ZVC/wANS3/MSx/2w/8Asqgf4WF/+Yrj/t3/APsqgf4RF/8AmL4/7dv/ALOoD8GST/yGf/JX/wCzr//Z"},YG92:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2443,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[i.default],methods:{},created:function(){}}},YOAB:function(e,t,a){"use strict";function n(e){a("4ahp")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("9FuR");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("87MO"),o=a.n(s),l=a("a0dp"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-26d80ece",null);t.default=c.exports},YP5q:function(e,t,a){"use strict";function n(e){a("SMm3")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("9M4O");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("8NYW"),o=a.n(s),l=a("upxC"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},YQHZ:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("just-word-item",{key:n,attrs:{item:t,"no-count":""},nativeOn:{click:function(a){e.goDetail(t,n)}},scopedSlots:e._u([{key:"list-item",fn:function(t){var n=t.item;return e._l(n.detailItem,function(t,i){return a("div",{key:i,staticClass:"each-slot-item"},[a("div",{staticClass:"top-content"},[e._v("汇票号: "+e._s(t.draftNumber))]),e._v(" "),a("div",{staticClass:"main-content"},[a("div",{staticClass:"info_part"},[e._v("\n                承汇类型: "+e._s(n.draftType)+"\n              ")]),e._v(" "),a("div",{staticClass:"info_part"},[e._v("\n                承汇人: "+e._s(n.accepter)+"\n              ")])])])})}}])})}))],1),e._v(" "),e.action.add?a("div",{staticClass:" vux-1px-t btn "},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},YYRM:function(e,t){},YaA6:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("a3Yh"),o=n(s),l=a("3cXf"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("7g+Q"),C=n(p),_=a("PzEQ"),y=n(_),b=a("jnZd"),g=n(b),w=a("0AQX"),I=a("HyXB"),x=a("jLp1"),D=a("bKg5"),P=n(D),k=a("N2r1"),S=n(k),T=a("F2L3"),L=n(T),N=a("vl8n"),M=n(N),A=a("+WR7"),O=n(A),R=a("zWMP");a("Qg39");t.default={mixins:[P.default],components:{Cell:c.default,Group:m.default,Popup:C.default,XInput:v.default,XTextarea:y.default,PopCostList:S.default,PopupPicker:g.default,PopProjectList:L.default,RPicker:M.default,PopBaseinfo:O.default},data:function(){return{listId:"b61ef324-f261-48d6-9c79-d1b475c24943",biComment:"",biReferenceId:"",showCostPop:!1,showProjectPop:!1,CostList:[{costName:"",costCode:"",expSubject:[],costType:"",price:"",reson:"",comment:""}],expSubjectList:[],selectedCost:[],costIndex:0,transCode:"",formData:{biComment:""},projectName:"",showPop:!1,tmp:"",taxRate:0,defaultProject:{}}},computed:{totalAmount:function(){var e=0;return this.CostList.forEach(function(t){t.price&&(e=(0,R.accAdd)(e,t.price))}),e}},methods:{getCost:function(e,t){this.showCostPop=!0,this.costIndex=e,this.selectedCost=[t]},addCost:function(){this.expSubjectList=[],this.CostList.push({costName:"",costCode:"",expSubject:[],price:"",reson:"",comment:""})},deleteCost:function(){this.CostList.pop()},selMatter:function(e){var t=e;this.CostList[this.costIndex].costName=t.costName,this.CostList[this.costIndex].costCode=t.costCode,this.CostList[this.costIndex].costSubject=t.costSubject,this.CostList[this.costIndex].expSubject=[],this.CostList[this.costIndex].costType=t.costType},selProject:function(e){this.projectName=e.PROJECT_NAME},submitOrder:function(){var e=this,t="",a=[];if(this.CostList.every(function(e){return e.costName?e.price?(a.push({tdId:e.tdId||"",expCode:e.costCode,expSubject:e.costSubject,tdAmount:e.price,expCause:e.reson}),!0):(t="请输入报销金额",!1):(t="请选择费用名称",!1)}),this.projectName||(t="请选择项目"),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=I.saveAndStartWf,n=(0,o.default)({},e.processCode,{businessKey:"REIM1",createdBy:(0,d.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:"",formData:(0,d.default)((0,r.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{crDealerLabel:"员工",project:e.projectName,dealerCodeCredit:e.formData.userCode,departmentName:e.formData.handlerUnitName,dataSet:a}})),wfPara:(0,d.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=I.saveAndCommitTask),e.processCode.length||(t=I.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,w.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.attachment=t.attachment,e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.CostList=[];var a=t.formData;e.projectName=a.order.project,e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,r.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),a.order.dataSet.forEach(function(t){var a={costName:t.costName_expCode,costCode:t.expCode,costType:t.costType_expCode,expSubject:t.expSubject,price:t.tdAmount,reson:t.expCause,comment:t.comment,tdId:t.tdId};e.CostList.push(a)}),e.$loading.hide()})},hasDraftData:function(){return!!this.projectName&&(0,o.default)({},"FYBX_DATA",{cost:this.CostList,formData:this.formData,projectName:this.projectName})},getRelationData:function(){var e=this;return(0,x.findProjectApproval)(this.relationKey).then(function(t){var a=t.formData,n=void 0===a?{}:a;t.attachment;e.projectName=n.approval.projectName,e.defaultProject={PROJECT_NAME:e.projectName}})}},created:function(){var e=sessionStorage.getItem("FYBX_DATA");if(e){var t=JSON.parse(e);this.CostList=t.cost,this.formData=t.formData,this.projectName=t.projectName,this.defaultProject={PROJECT_NAME:this.projectName},sessionStorage.removeItem("FYBX_DATA")}}}},YaEn:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("++MA"),o=n(s),l=a("zO6J"),d=n(l),u=a("bjWb"),c=n(u),f=a("864G"),m=n(f);o.default.use(d.default);var h=new d.default({mode:"history",base:"/Hermes",routes:[].concat((0,r.default)(c.default),(0,r.default)(m.default))});t.default=h},YfxJ:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper xsbj-detail-container"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"matter-list":e.orderInfo.order.dataSet},scopedSlots:e._u([{key:"matterOther",fn:function(t){var n=t.item;return a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("客户类型: "+e._s(n.drDealerLabel))]),e._v(" "),a("span",[e._v("数量上线: "+e._s(n.qtyOnline))]),e._v(" "),a("span",[e._v("数量下线: "+e._s(n.qtyDownline))]),e._v(" "),a("span",[e._v("特批底价: ￥"+e._s(e._f("toFixed")(n.specialReservePrice)))])]),e._v(" "),a("div",{staticClass:"mater_price"},[a("span",{staticClass:"diff_num"},[e._v("\n            ￥"+e._s(e._f("toFixed")(n.price))+"\n          ")]),e._v(" "),a("span",{staticClass:"num"},[e._v("\n            [标准价格]\n          ")])])])}}])}),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},YiQO:function(e,t){},YjUH:function(e,t,a){"use strict";function n(e){a("njrG")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("J8tP");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Wdtp"),o=a.n(s),l=a("nbb6"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-49f90d2c",null);t.default=c.exports},YkGp:function(e,t,a){"use strict";function n(e){a("7yk4")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("ceHg");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("WAdr"),o=a.n(s),l=a("4UGw"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-d0092982",null);t.default=c.exports},Ylj6:function(e,t,a){"use strict";function n(e){a("Sr3R")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("/QQc");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("c6ZO"),o=a.n(s),l=a("WdYE"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-04d28ffe",null);t.default=c.exports},YmAS:function(e,t,a){"use strict";function n(e){a("aumi")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Rw15");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("xyHp"),o=a.n(s),l=a("uFvD"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-46ff3196",null);t.default=c.exports},Yn3E:function(e,t){},"Z/nY":function(e,t,a){"use strict";function n(e){a("7bk/")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("GlWL");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("XlK6"),o=a.n(s),l=a("pnI5"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-143655e3",null);t.default=c.exports},Z3gt:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=(a("XAqG"),a("HyXB"),a("MjAd")),o=n(s),l=a("ak47");n(l);t.default={name:"CPXQ_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"经办人",value:"handlerName"},{name:"交易号",value:"transCode"}],listViewID:2335}},mixins:[o.default],methods:{pathChange:function(e,t,a){var n=this;if(!this.clickVisited){var i=e.transCode,s=this.$route.query.name,o=this.$route.params,l=o.fileId,d=o.listId;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,r.default)({},e));var u=a+"/"+l+"/"+d;setTimeout(function(){n.clickVisited=!1,n.$router.push({path:u,query:{name:s,transCode:i}})},200)}},goDetail:function(e,t){this.pathChange(e,t,"/detail")},goUserEdit:function(e,t){this.pathChange(e,t,"/fillform")}}}},Z51k:function(e,t){},Z5v5:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.register=a("/Pqc").default;t.default={register:n}},Z6x5:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDepartMentWage=t.getAllRoleInfo=t.getAllGroup=void 0;var n=a("GOq4"),i=function(e){return e&&e.__esModule?e:{default:e}}(n),r=t.getAllGroup=function(){return i.default.ajax({url:"/H_roleplay-si/ds/getAllGroup",data:{page:1,start:0,limit:1e3}})},s=t.getAllRoleInfo=function(){return i.default.ajax({url:"/H_roleplay-si/ds/getAllRoleInfo",data:{page:1,start:0,limit:1e3}})};t.getDepartMentWage=function(){return i.default.ajax({url:"/H_roleplay-si/ds/getDepartMentWage",data:{page:1,start:0,limit:1e3}})};t.default={getAllGroup:r,getAllRoleInfo:s}},Z77n:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("rVsN"),r=n(i),s=a("lC5x"),o=n(s),l=a("IHPB"),d=n(l),u=a("3cXf"),c=n(u),f=a("J0Oq"),m=n(f),h=a("4YfN"),v=n(h),p=a("kNGm"),C=n(p),_=a("0AQX"),y=a("HyXB"),b=a("ak47"),g=n(b),w=a("GvUu"),I=n(w);t.default={data:function(){return{listId:"",transCode:"",RelatedAppList:[],swiper:null,taskType:""}},methods:{getAppExampleDetails:function(){var e=this;return(0,_.getAppExampleDetails)({transCode:this.transCode,listId:this.listId}).then(function(t){t.relevantItems.forEach(function(t){if(g.default[t.listId]){t.isrelated=!1,I.default[e.taskType]&&I.default[e.taskType][t.listId]&&(t.isrelated=!0);var a=t.content.map(function(e){return e.transCode}).join(",");e.RelatedAppList.push((0,v.default)({},t,{page:1,limit:10,defaultFilter:a,icon:t.icon?"/dist/"+t.icon:""}))}})})},getViewId:function(e){return(0,_.getListView)({listId:e}).then(function(e){return e[0].id})},getRelatedList:function(e){var t=this;return(0,m.default)(o.default.mark(function a(){var n,i,r,s,l,u,f,m,h,v;return o.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.listId,i=void 0===n?"":n,r=e.defaultFilter,s=void 0===r?"":r,l=e.page,u=void 0===l?1:l,f=e.limit,m=void 0===f?10:f,a.next=3,t.getViewId(i);case 3:return h=a.sent,v=[{property:"transCode",operator:"in",value:s}],a.abrupt("return",(0,y.getList)(h,{limit:m,page:u,start:(u-1)*m,filter:(0,c.default)(v)}).then(function(a){var n=a.dataCount,i=void 0===n?0:n,r=a.tableContent,s=void 0===r?[]:r;e.hasNext=i>(u-1)*m+s.length;var o=1===u?s:[].concat((0,d.default)(e.relatedList),(0,d.default)(s));t.$set(e,"relatedList",o)}));case 6:case"end":return a.stop()}},a,t)}))()},goDetail:function(e,t){var a=e.parentNav,n=e.listId;this.$router.push({path:"/detail/"+a+"/"+n,query:{name:t.transTypeName,transCode:t.transCode,fromRalted:!0}})},goRelation:function(e){var t=this.$route.query.uniqueId,a=e.parentNav,n=e.listId,i=e.transName;this.$router.push({path:"/fillform/"+a+"/"+n,query:{name:i,uniqueId:t,relationKey:this.transCode}})}},filters:{dateFormat:C.default},created:function(){var e=this;this.$loading.show(),this.listId=this.$route.params.listId,this.transCode=this.$route.query.transCode,this.transCode&&(this.taskType=this.transCode.split("_")[0]),(0,m.default)(o.default.mark(function t(){var a;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getAppExampleDetails();case 2:a=[],e.RelatedAppList.forEach(function(t){a.push(e.getRelatedList(t))}),r.default.all(a).then(function(){e.$nextTick(function(){e.swiper=new e.Swiper(".swiper_related",{slidesPerView:"auto",centeredSlides:!0,observer:!0,observeParents:!0})}),e.$loading.hide()});case 5:case"end":return t.stop()}},t,e)}))()}}},ZCI5:function(e,t,a){"use strict";function n(e){a("9HrF")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("SpJC");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("o2EC"),o=a.n(s),l=a("zlTd"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},ZICU:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"inPage"},[a("tab",{attrs:{"active-color":"#5077aa","line-width":2}},e._l(e.tabList,function(t,n){return a("tab-item",{key:n,attrs:{selected:n===e.activeIndex},on:{"on-item-click":e.onTabClick}},[e._v(e._s(t.name))])})),e._v(" "),e.listData?[a("r-scroll",{ref:"bScroll",staticClass:"wrapper",class:{"other-wrapper":0!=e.activeIndex},attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!1},on:{"on-pulling-up":e.onPullingUp}},[e.isNull?a("div",{staticClass:"when_null"},[e._v(e._s(e.noDataText))]):a("div",{staticClass:"msg_list"},[0===e.activeIndex?e._l(e.listData,function(t,n){return a("todo-item",{key:n,attrs:{name:n,item:t},nativeOn:{click:function(a){e.goMsglist(t,n)}}})}):1===e.activeIndex||2===e.activeIndex?e._l(e.commentList,function(t,n){return a("comment-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}):e._e()],2)])]:e._e()],2)},i=[],r={render:n,staticRenderFns:i};t.a=r},ZIQC:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("a3Yh"),o=n(s),l=a("4YfN"),d=n(l),u=a("MgeX"),c=n(u),f=a("IHPB"),m=n(f),h=a("3cXf"),v=n(h),p=a("HXPS"),C=n(p),_=a("SAzG"),y=n(_),b=a("PzEQ"),g=n(b),w=a("BGNQ"),I=n(w),x=a("0AQX"),D=a("HyXB"),P=a("bKg5"),k=n(P),S=a("vl8n"),T=n(S),L=a("kZy/"),N=n(L),M=a("y8YJ"),A=(n(M),a("yt3/")),O=(n(A),a("luHD")),R=n(O),j=a("zlAJ"),$=n(j),B=a("+WR7"),E=n(B),F=a("VZtf"),U=n(F),q=a("Qg39"),Q=a("zWMP");t.default={data:function(){return{listId:"4472a646-f2c8-4a07-bad6-4c01f0b9292f",matterList:[],showMaterielPop:!1,transCode:"",formData:{biComment:""},priceMap:{},matterParams:{processing:"低值易耗品"}}},components:{Icon:C.default,XInput:y.default,RPicker:T.default,XTextarea:g.default,PopMatterList:N.default,PopMatter:R.default,UploadFile:$.default,PopBaseinfo:E.default,Cell:I.default,RNumber:U.default},mixins:[k.default],methods:{delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,v.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=this;this.matterList.forEach(function(t){e.priceMap[t.inventoryCode]={price:t.price,priceType:t.priceType}}),this.showMaterielPop=!this.showMaterielPop},selMatter:function(e){var t=this,a=JSON.parse(e);a.forEach(function(e){var a=t.priceMap[e.inventoryCode]||{};e.price=a.price||"",e.priceType=a.priceType||"渠道价"}),this.priceMap={},this.matterList=[].concat((0,m.default)(a))},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},save:function(){var e=this,t="",a=[];if([{key:"matterList",message:"物料"}].every(function(a){return!!(0,c.default)(e[a.key]).length||(t="请选择"+a.message,!1)}),this.matterList.every(function(n){if(!n.tdQty)return t="请输入本次申请",!1;var i={transObjCode:n.inventoryCode,inventoryName_transObjCode:n.inventoryName,tdProcessing:n.processing,specification_transObjCode:n.specification,measureUnit_transObjCode:n.measureUnit,assMeasureUnit:n.assMeasureUnit||null,assMeasureScale:n.assMeasureScale||null,assistQty:n.assistQty||0,tdQty:n.tdQty,price:n.price,tdAmount:n.tdAmount,comment:n.comment||null};return e.transCode&&(i.tdId=n.tdId||""),a.push(i),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=D.saveAndStartWf,n=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,order:{dataSet:a}}),i={listId:e.listId,biComment:"",formData:(0,v.default)(n),wfPara:(0,v.default)((0,o.default)({},e.processCode,{businessKey:"PAPO",createdBy:n.creator}))};e.transCode&&(t=D.saveAndCommitTask,i.biReferenceId=e.biReferenceId,i.wfPara=(0,v.default)({businessKey:e.transCode,createdBy:n.creator,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=D.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,x.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var u=[];e.attachment=l;var c=s.order,f=c.dataSet,m=void 0===f?[]:f,h=!0,v=!1,p=void 0;try{for(var C,_=(0,r.default)(m);!(h=(C=_.next()).done);h=!0){var y=C.value;y=(0,d.default)({},y,{inventoryPic:y.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+y.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:y.inventoryName_transObjCode,inventoryCode:y.inventoryCode_transObjCode,specification:y.specification_transObjCode,processing:y.tdProcessing,measureUnit:y.measureUnit_transObjCode,inventoryColor:y.inventoryColor_transObjCode}),u.push(y)}}catch(e){v=!0,p=e}finally{try{!h&&_.return&&_.return()}finally{if(v)throw p}}e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:s.biComment,biId:s.biId,biProcessStatus:s.biProcessStatus,creator:s.creator,modifer:s.modifer}),e.biReferenceId=s.biReferenceId,e.matterList=u,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,o.default)({},"DZYHPCGSQ_DATA",{matter:this.matterList,formData:this.formData})},checkAmt:function(e){var t=e.tdQty,a=e.price;t=Math.abs((0,q.toFixed)(t)),a=Math.abs((0,q.toFixed)(a)),t&&(e.tdQty=t,e.tdAmount=(0,q.toFixed)((0,Q.accMul)(t,a))),a&&(e.price=a,e.tdAmount=(0,q.toFixed)((0,Q.accMul)(t,a)))}},created:function(){var e=sessionStorage.getItem("DZYHPCGSQ_DATA");e&&(this.matterList=JSON.parse(e).matter,this.formData=JSON.parse(e).formData,sessionStorage.removeItem("DZYHPCGSQ_DATA"))}}},ZKwe:function(e,t,a){"use strict";function n(e){a("9Cko")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("JVZc");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Iw/D"),o=a.n(s),l=a("PRcA"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-e8e9a5e6",null);t.default=c.exports},ZOHQ:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("project-part",{attrs:{"project-info":e.orderInfo.order}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_part"},[e._m(0),e._v(" "),e._l(e.orderInfo.order.dataSet,function(t,n){return a("div",{key:n,staticClass:"form_content",class:{show_border:n!==e.orderInfo.order.dataSet.length-1}},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"名称",cellContent:t.costName_expCode,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"编码",cellContent:t.expCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"科目",cellContent:t.expSubject}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"申请金额",showSymbol:"",cellContent:e._f("numberComma")(e._f("toFixed")(t.tdAmount),3)}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"报销事由",cellContent:t.expCause}})],1)])})],2),e._v(" "),a("div",{staticClass:"price_cell vux-1px-t"},[a("div",{staticClass:"price_title"},[a("span",[e._v("报销人: ")]),e._v(" "),a("span",{staticClass:"people_name"},[e._v(e._s(e.orderInfo.creatorName))])]),e._v(" "),a("div",[a("span",{staticClass:"title"},[e._v("合计:")]),e._v(" "),a("span",{staticClass:"num"},[a("span",{staticStyle:{fontSize:".12rem"}},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(e.count),3)))])])]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("费用列表")])])}],r={render:n,staticRenderFns:i};t.a=r},ZTs6:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"6b6a6f40-ea86-4e72-a451-69a9a3b2e28c":"contacts","7dab9bd1-f51d-4b09-afc0-3d5c732ca219":"plan","fb200d08-4289-44dc-81e1-1fddec997c5e":"production","a32759e8-a3ad-47a6-a030-f33daea8b433":"product","43b07f14-4ae5-4804-a80e-ef06ce26fb0b":"sale","406f7db3-af5a-45ae-8641-576fa33b0471":"delivery","a0a66a68-b351-4c19-b837-e168cbf48019":"purchase","9e5a7193-f2eb-4b99-9849-8fe6c6ae3713":"stock","7218d31d-88f4-45bc-82c2-6d4a1c766821":"finance","27d28ff5-2e04-4881-a159-2b38f10ce7e4":"consumable","4a1e1cce-186a-46b6-acb7-fbd5febf578b":"equipment","f3d819ee-8f77-47d0-81f1-e986841e51eb":"finance","26d75e08-2c82-4e1a-ad51-b788b026428a":"project","752bfc20-9cbf-4552-b2a4-77b2c46eb2d1":"invoice","c09c6397-c685-4fb8-ac9e-bd554ab6bc52":"hr"}},ZVeX:function(e,t,a){"use strict";function n(e){a("BjhZ")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Zv+r");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("CoE1"),o=a.n(s),l=a("R/dh"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-7ebb6834",null);t.default=c.exports},ZXlx:function(e,t){},Zbco:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("a3Yh"),o=n(s),l=a("MgeX"),d=n(l),u=a("IHPB"),c=n(u),f=a("KH7x"),m=n(f),h=a("4YfN"),v=n(h),p=a("3cXf"),C=n(p),_=a("HXPS"),y=n(_),b=a("SAzG"),g=n(b),w=a("PzEQ"),I=n(w),x=a("kNGm"),D=n(x),P=a("BGNQ"),k=n(P),S=a("0AQX"),T=a("HyXB"),L=a("I3vJ"),N=a("bKg5"),M=n(N),A=a("vl8n"),O=n(A),R=a("9SNe"),j=n(R),$=a("kZy/"),B=n($),E=a("y8YJ"),F=n(E),U=a("yt3/"),q=n(U),Q=a("luHD"),H=n(Q),V=a("zlAJ"),X=n(V),z=a("+WR7"),Y=n(z),W=a("VZtf"),G=n(W),J=a("Qg39"),K=a("zWMP");t.default={data:function(){return{listId:"58a607ce-fe93-4d26-a42e-a374f4662f1c",matterList:[],showMaterielPop:!1,transCode:"",dealerInfo:{},transMode:[],logisticsTerm:[],formData:{biComment:"",drDealerLogisticsTerms:"",validUntil:""},numMap:{},taxRate:.16,contactInfo:{}}},components:{Icon:y.default,XInput:g.default,RPicker:O.default,XTextarea:I.default,Cell:k.default,PopMatterList:B.default,PopDealerList:F.default,PopSingleSelect:q.default,PopMatter:H.default,UploadFile:X.default,PopBaseinfo:Y.default,RDate:j.default,RNumber:G.default},mixins:[M.default],methods:{getPaymentTerm:function(){var e=this;return(0,T.getDictByType)("paymentTerm").then(function(t){var a=t.tableContent;e.transMode=a})},getLogisticsTerms:function(){var e=this;return(0,T.getDictByType)("dealerLogisticsTerms").then(function(t){var a=t.tableContent;e.logisticsTerm=a})},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,C.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=this;this.matterList.forEach(function(t){e.numMap[t.inventoryCode]=(0,v.default)({},t)}),this.showMaterielPop=!this.showMaterielPop},selDealer:function(e){var t=JSON.parse(e),a=(0,m.default)(t,1),n=a[0];this.dealerInfo=n},selContact:function(e){this.contactInfo=(0,v.default)({},e)},selMatter:function(e){var t=this,a=JSON.parse(e);a.forEach(function(e,a){var n=t.numMap[e.inventoryCode]||{},i=n.price,r=void 0===i?"":i,s=n.taxRate,o=void 0===s?t.taxRate:s,l=n.tdQty,d=void 0===l?"":l;e.tdQty=d,e.price=r,e.taxRate=o,e.assMeasureUnit=e.invSubUnitName||null,e.assMeasureScale=e.invSubUnitMulti||null,e.assMeasureDescription=e.invSubUnitComment||null,t.getPriceRange(e,a)}),this.numMap={},this.matterList=[].concat((0,c.default)(a))},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},save:function(){var e=this,t="",a=[];if([{key:"dealerInfo",message:"客户"},{key:"matterList",message:"物料"}].every(function(a){return!!(0,d.default)(e[a.key]).length||(t="请选择"+a.message,!1)}),this.matterList.every(function(n){var i=n.tdQty,r=n.price;if(!i&&0!==i)return t="请输入需求数量",!1;if(i<n.qtyDownline)return t="需求数量不能小于最小需求数量",!1;if(i>n.qtyOnline)return t="需求数量不能大于最大需求数量",!1;if(!r)return t="请输入本次报价",!1;if(r<n.specialReservePrice)return t="需求数量不能小于特批底价",!1;if(r>n.standardPrice)return t="需求数量不能大于标准价格",!1;var s=n.taxRate||e.taxRate,o=((0,K.accMul)(n.price,n.tdQty,s),{inventoryName_transObjCode:n.inventoryName,transObjCode:n.inventoryCode,tdProcessing:n.processing,assMeasureUnit:n.invSubUnitName||null,assMeasureDescription:n.invSubUnitComment||null,assMeasureScale:n.invSubUnitMulti||null,tdQty:n.tdQty,assistQty:n.assistQty,standardPrice:n.standardPrice,specialReservePrice:n.specialReservePrice,price:n.price,tdAmount:n.tdAmount,taxRate:s,noTaxPrice:n.noTaxPrice,taxAmount:n.taxAmount,comment:n.comment||null});return e.transCode&&(o.tdId=n.tdId||""),a.push(o),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=T.saveAndStartWf,n=(0,m.default)(e.matterList,1),i=(n[0],(0,v.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,dealerDebitContactPersonName:e.contactInfo.dealerName||"",dealerDebitContactInformation:e.contactInfo.dealerMobilePhone||"",drDealerLogisticsTerms:e.dealerInfo.dealerLogisticsTerms,order:{dealerDebit:e.dealerInfo.dealerCode||"",drDealerLabel:e.dealerInfo.dealerLabelName,drDealerPaymentTerm:e.dealerInfo.paymentTerm,validUntil:e.formData.validUntil,dataSet:a}})),r={listId:e.listId,biComment:"",formData:(0,C.default)(i),wfPara:(0,C.default)((0,o.default)({},e.processCode,{businessKey:"QUOT",createdBy:i.creator}))};e.transCode&&(t=T.saveAndCommitTask,r.biReferenceId=e.biReferenceId,r.wfPara=(0,C.default)({businessKey:e.transCode,createdBy:i.creator,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=T.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,S.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var d=[];e.attachment=l;var u=s.order,c=u.dataSet,f=void 0===c?[]:c,m=!0,h=!1,p=void 0;try{for(var C,_=(0,r.default)(f);!(m=(C=_.next()).done);m=!0){var y=C.value;y=(0,v.default)({},y,{inventoryPic:y.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+y.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:y.inventoryName_transObjCode,inventoryCode:y.inventoryCode_transObjCode,specification:y.specification_transObjCode,processing:y.processing_transObjCode,inventoryType:y.inventoryType_transObjCode,inventorySubclass:y.inventorySubclass_transObjCode,measureUnit:y.measureUnit_transObjCode,inventoryColor:y.inventoryColor_transObjCode,material:y.material_transObjCode}),d.push(y)}}catch(e){h=!0,p=e}finally{try{!m&&_.return&&_.return()}finally{if(h)throw p}}e.dealerInfo={creatorName:s.dealerDebitContactPersonName||"",dealerName:u.dealerName_dealerDebit||"",dealerMobilePhone:s.dealerDebitContactInformation||"",dealerCode:u.dealerDebit||"",dealerLabelName:u.drDealerLabel||"客户",province:u.province_dealerDebit||"",city:u.city_dealerDebit||"",county:u.county_dealerDebit||"",address:u.address_dealerDebit||"",paymentTerm:u.drDealerPaymentTerm,dealerLogisticsTerms:s.drDealerLogisticsTerms},e.contactInfo={dealerName:s.dealerDebitContactPersonName,dealerMobilePhone:s.dealerDebitContactInformation},e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,v.default)({},e.formData,e.handlerDefault,{biComment:s.biComment,biId:s.biId,biProcessStatus:s.biProcessStatus,creator:s.creator,modifer:s.modifer,validUntil:(0,D.default)(s.validUntil,"YYYY-MM-DD")}),e.biReferenceId=s.biReferenceId,e.matterList=d,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,o.default)({},"XSBJ_DATA",{matter:this.matterList,dealer:this.dealerInfo,formData:this.formData,contactInfo:this.contactInfo})},getPriceRange:function(e,t){var a=this;return(0,L.getPriceRange)({inventoryCode:e.inventoryCode}).then(function(n){var i=n.tableContent,r=(0,m.default)(i,1),s=r[0],o=void 0===s?{}:s;["qtyDownline","qtyOnline","specialReservePrice","standardPrice"].forEach(function(t){e[t]=o[t]||0}),a.$set(a.matterList,t,(0,v.default)({},e))})},checkQty:function(e){var t=e.qtyDownline,a=void 0===t?0:t,n=e.qtyOnline,i=void 0===n?0:n,r=e.tdQty;r<a&&(r=a),r>i&&(r=i),e.tdQty=Math.abs((0,J.toFixed)(r))},checkAmt:function(e){var t=e.standardPrice,a=void 0===t?0:t,n=e.specialReservePrice,i=void 0===n?0:n,r=e.price;r<i&&(r=i),r>a&&(r=a),e.price=Math.abs((0,J.toFixed)(r))},checkRate:function(e){e.taxRate=Math.abs((0,J.toFixed)(e.taxRate))}},created:function(){var e=sessionStorage.getItem("XSBJ_DATA");e&&(this.matterList=JSON.parse(e).matter,this.dealerInfo=JSON.parse(e).dealer,this.formData=JSON.parse(e).formData,this.contactInfo=JSON.parse(e).contactInfo,sessionStorage.removeItem("XSBJ_DATA"))}}},Zdcs:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("kNGm"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"BasicInfo",props:{workFlowInfo:{type:Object,default:function(){return{}}},orderInfo:{type:Object,default:function(){return{}}}},filters:{dateFormat:i.default}}},ZerR:function(e,t){},ZhmJ:function(e,t,a){"use strict";function n(e){a("QfiB")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("foOz");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("VFFv"),o=a.n(s),l=a("qMKk"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-2317a964",null);t.default=c.exports},ZksZ:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vux-popup-header",class:e.showBottomBorder?"vux-1px-b":""},[a("div",{staticClass:"vux-popup-header-left",on:{click:function(t){e.$emit("on-click-left")}}},[e._t("left-text",[e._v(e._s(e.leftText))])],2),e._v(" "),a("div",{staticClass:"vux-popup-header-title"},[e._t("title",[e._v(e._s(e.title))])],2),e._v(" "),a("div",{staticClass:"vux-popup-header-right",on:{click:function(t){e.$emit("on-click-right")}}},[e._t("right-text",[e._v(e._s(e.rightText))])],2)])},i=[],r={render:n,staticRenderFns:i};t.a=r},Zm5O:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("FvvE"),r=n(i),s=a("ZTs6"),o=n(s),l=a("yKqG"),d=n(l),u=a("4XVd");t.default={data:function(){return{transCode:"",currentComponent:"",submitSuccess:!1,detailScroll:null,commentCount:0,hasComment:!0,isConcern:0,concernCount:0}},methods:{modifyRoute:function(e){this.submitSuccess=e},refresh:function(){this.detailScroll.refresh()},back:function(){this.$router.go(-1)},goDiscuss:function(){this.$router.push({path:"/commentList",query:{transCode:this.transCode}})},getCommentList:function(){var e=this;return getPCCommentList({relationKey:this.transCode}).then(function(t){var a=t.dataCount,n=void 0===a?0:a;e.commentCount=n})},isSubscribe:function(e){this.isConcern=e},goConcern:function(){var e=this,t=u.subscribeApp,a={type:"instance",relationKey:this.transCode};1===this.isConcern&&(t=u.unsubscribeApp,delete a.type),t(a).then(function(t){var a=t.success,n=void 0===a||a,i=t.message,r=void 0===i?"":i;if(n){e.isConcern="订阅成功！"===r?1:0;var s="订阅成功！"===r?"关注成功":"取消关注成功";e.$vux.toast.show({type:"text",time:1e3,position:"top",text:s})}})}},beforeRouteEnter:function(e,t,a){var n=e.query.name,i=void 0===n?"":n;i.includes("表")&&(e.meta.title=i,a()),e.meta.title=i+"详情",a()},created:function(){var e=this;this.$loading.show();var t=this.$route.query,n=t.childId,i=t.transCode,s=this.$route.params,l=s.fileId,u=s.listId;this.hasComment=!!i,this.transCode=i;try{this.currentComponent=n?a("9kVI")("./"+o.default[l]+"/"+r.default[l][n][u]+"Form.vue").default:a("9kVI")("./"+o.default[l]+"/"+r.default[l][u]+"Form.vue").default,this.$event.$on("commentCount",function(t){e.commentCount=t})}catch(t){console.log(t),this.$vux.alert.show({content:"抱歉，无法支持该应用的查看",onHide:function(){e.$router.go(-1)}})}this.$nextTick(function(){e.detailScroll=new d.default(e.$refs.detail,{click:!0})})},beforeRouteLeave:function(e,t,a){e.path;this.$HandleLoad.hide(),!this.submitSuccess||"LIST"!==e.name&&"MSGLIST"!==e.name||(e.meta.reload=!0),a()},beforeDestroy:function(){this.$event.$off("commentCount")}}},ZnFL:function(e,t){},"Zp+1":function(e,t,a){"use strict";function n(e){a("p4QX")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("DfJM");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("zsZJ"),o=a.n(s),l=a("BljH"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-d0e611d0",null);t.default=c.exports},Zs2f:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"weui-cell",class:{"vux-tap-active":e.isLink||!!e.link,"weui-cell_access":e.isLink||!!e.link,"vux-cell-no-border-intent":!e.borderIntent,"vux-cell-disabled":e.disabled},style:e.style,on:{click:e.onClick}},[a("div",{staticClass:"weui-cell__hd"},[e._t("icon")],2),e._v(" "),a("div",{staticClass:"vux-cell-bd",class:{"vux-cell-primary":"title"===e.primary&&"left"!==e.valueAlign}},[a("p",[e.title||e.hasTitleSlot?a("label",{staticClass:"vux-label",class:e.labelClass,style:e.labelStyles},[e._t("title",[e._v(e._s(e.title))])],2):e._e(),e._v(" "),e._t("after-title")],2),e._v(" "),a("inline-desc",[e._t("inline-desc",[e._v(e._s(e.inlineDesc))])],2)],1),e._v(" "),a("div",{staticClass:"weui-cell__ft",class:e.valueClass},[e._t("value"),e._v(" "),e._t("default",[e._v(e._s(e.value))]),e._v(" "),e.isLoading?a("i",{staticClass:"weui-loading"}):e._e()],2),e._v(" "),e._t("child")],2)},i=[],r={render:n,staticRenderFns:i};t.a=r},ZsTC:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("J0Oq"),o=n(s),l=a("a3Yh"),d=n(l),u=a("4YfN"),c=n(u),f=a("HzJ8"),m=n(f),h=a("3cXf"),v=n(h),p=a("PzEQ"),C=n(p),_=a("kNGm"),y=n(_),b=a("u28h"),g=n(b),w=a("0AQX"),I=a("HyXB"),x=a("bKg5"),D=n(x),P=a("kZy/"),k=n(P),S=a("y8YJ"),T=n(S),L=a("yt3/"),N=n(L),M=a("luHD"),A=n(M),O=a("VZtf"),R=n(O),j=a("vl8n"),$=n(j),B=a("+WR7"),E=n(B),F=a("zWMP");t.default={components:{XTextarea:C.default,RNumber:R.default,Datetime:g.default,PopMatterList:k.default,PopDealerList:T.default,PopSingleSelect:N.default,PopMatter:A.default,RPicker:$.default,PopBaseinfo:E.default},data:function(){return{listId:"dd4d228d-fc01-4038-bf17-df54d8d06eb9",taxRate:.16,numMap:{},dealer:{},formData:{creator:"",modifer:"",biId:"",biComment:""},dealerInfo:{},contact:{},transMode:[],matterList:[],showTransPop:!1,showMaterielPop:!1,showDealerPop:!1}},mixins:[D.default],methods:{getPaymentTerm:function(){var e=this;return(0,I.getDictByType)("paymentTerm").then(function(t){var a=t.tableContent;e.transMode=a})},selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],this.dealer.drDealerPaymentTerm=this.dealerInfo.paymentTerm},selContact:function(e){this.dealer.dealerDebitContactPersonName=e.dealerName,this.dealer.dealerDebitContactInformation=e.dealerMobilePhone},selMatter:function(e){var t=this,a=JSON.parse(e);a.map(function(e){var a=e.processingStartDate?(0,y.default)(e.processingStartDate,"YYYY-MM-DD"):"",n=e.qtyBal<e.qty?e.qty:e.qtyBal,i=t.numMap[e.inventoryCode]||{},r=i.tdQty,s=void 0===r?n:r,o=i.price,l=void 0===o?e.price:o,d=i.taxRate,u=void 0===d?.16:d,c=i.processingStartDate,f=void 0===c?a:c;e.tdQty=s,e.price=l,e.taxRate=u,e.processingStartDate=f}),this.numMap={},this.matterList=a},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(t){return t.inventoryCode===e.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(e)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,v.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,m.default)(this.matterList);!(e=(n=i.next()).done);e=!0){var r=n.value;this.numMap[r.inventoryCode]=(0,c.default)({},r)}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerCode?0===this.matterList.length&&(t="请选择物料"):t="请选择供应商信息",t||this.matterList.every(function(e){if(!e.price)return t="单价不能为空",!1;if(!e.tdQty)return t="数量不能为空",!1;var n=e.taxRate,i=(0,F.accMul)(e.price,e.tdQty,n);return a.push({tdId:e.tdId||"",transObjCode:e.inventoryCode,tdProcessing:e.processing,assMeasureUnit:e.assMeasureUnit||"个",assMeasureScale:e.assMeasureScale||null,assistQty:e.assistQty||0,thenQtyBal:e.qtyBal||0,tdQty:e.tdQty,price:e.price,taxRate:n,taxAmount:i,tdAmount:(0,F.accAdd)((0,F.accMul)(e.price,e.tdQty),i),purchaseDay:e.purchaseDay,processingStartDate:e.processingStartDate,comment:""}),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=I.saveAndStartWf,n=(0,d.default)({},e.processCode,{businessKey:"PO",createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.biComment,formData:(0,v.default)((0,c.default)({},e.formData,e.dealer,{handlerEntity:e.entity.dealerName,order:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName||"",drDealerPaymentTerm:e.dealer.drDealerPaymentTerm,dataSet:a}})),wfPara:(0,v.default)(n)};e.isResubmit&&(t=I.saveAndCommitTask,i.biReferenceId=e.biReferenceId),e.processCode.length||(t=I.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,o.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,w.getSOList)({formViewUniqueId:e.uniqueId,transCode:e.transCode}).then(function(t){e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId;var a=t.formData;e.attachment=t.attachment,a.order.dataSet.map(function(t){t=(0,c.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,safeStock:t.safeStock_transObjCode,qtyBal:t.thenQtyBal,moq:t.moq_transObjCode}),e.matterList.push(t)}),e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,c.default)({},e.handlerDefault,{creator:a.creator,modifer:a.modifer,biComment:a.biComment,biProcessStatus:a.biProcessStatus,biId:a.biId}),e.dealerInfo={dealerMobilePhone:a.dealerDebitContactInformation,dealerCode:a.inPut.dataSet[0].dealerDebit,dealerSubclass:a.inPut.dataSet[0].drAccountSub,dealerName:a.inPut.dataSet[0].dealerName_dealerDebit,province:a.inPut.dataSet[0].province_dealerDebit,city:a.inPut.dataSet[0].city_dealerDebit,county:a.inPut.dataSet[0].county_dealerDebit,address:a.inPut.dataSet[0].address_dealerDebit,pamentDays:a.order.daysOfAccount},e.contact={dealerName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation},e.dealer={dealerDebitContactPersonName:a.dealerDebitContactPersonName,dealerDebitContactInformation:a.dealerDebitContactInformation,drDealerPaymentTerm:a.order.drDealerPaymentTerm||""},e.$loading.hide()});case 2:case"end":return t.stop()}},t,e)}))()},hasDraftData:function(){return!!this.matterList.length&&(0,d.default)({},"CGDD_DATA",{matter:this.matterList,dealerInfo:this.dealerInfo,formData:this.formData,dealer:this.dealer})},getRelationData:function(){}},created:function(){var e=sessionStorage.getItem("CGDD_DATA");e&&(this.matterList=JSON.parse(e).matter,this.dealerInfo=JSON.parse(e).dealerInfo,this.dealer=JSON.parse(e).dealer,this.formData=JSON.parse(e).formData,sessionStorage.removeItem("CGDD_DATA"))}}},Zt7o:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("kNGm"),r=(n(i),a("0AQX")),s=a("+VRO"),o=n(s),l=a("AupE"),d=n(l),u=a("BUFe"),c=n(u),f=a("bFc7"),m=n(f),h=a("3NX5"),v=n(h);t.default={data:function(){return{orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},uploadStyle:{width:"100%",padding:"0.06rem 0.1rem"}}},mixins:[o.default],components:{workFlow:d.default,RAction:c.default,contactPart:m.default,MatterList:v.default},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,r.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=o,e.orderInfo=r,e.workFlowInfoHandler()})},goEdit:function(){var e=this.$route.params,t=e.fileId,a=e.listId,n=this.$route.query.name;this.$router.push({path:"/fillform/"+t+"/"+a,query:{name:n,transCode:this.transCode}})}}}},ZtPB:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("kNGm"),o=(n(s),a("SAzG")),l=n(o),d=a("0AQX"),u=a("+VRO"),c=n(u),f=a("BUFe"),m=n(f),h=a("AupE"),v=n(h),p=a("bFc7"),C=n(p),_=a("CKaN"),y=n(_),b=a("zWMP"),g=a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",contactInfo:{},dealerInfo:{},cashInfo:{}}},computed:{isInCharge:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"d7ef0729-4a55-46fe-a750-e5298042c5bc"===t},isApproval:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"65afdac2-db7d-42d1-a059-7fdb98892134"===t},isCashier:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"14128204-e4ee-4688-98c7-9d3c03e7a3ad"===t},isAccount:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"b8490da9-513f-408b-8974-83998188bf6a"===t},cashParams:function(){return{transCode:this.transCode}}},mixins:[c.default],components:{workFlow:v.default,RAction:m.default,contactPart:C.default,PopCashList:y.default,XInput:l.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,d.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment,e.orderInfo=t.formData,e.dealerInfo=t.formData.order.dataSet[0],e.cashInfo=t.formData.outPut.dataSet[0],e.workFlowInfoHandler()})},agreeHandler:function(){if(this.isApproval||this.isCashier||this.isAccount){if(this.isCashier&&!this.cashInfo.fundCode)return this.$vux.alert.show({content:"请选择资金账户"}),!0;var e=this.orderInfo,t=this.dealerInfo,a=this.cashInfo,n=(0,r.default)({},e,{order:{dataSet:[{tdIdCopy1:t.tdIdCopy1,dealerCodeCredit:t.dealerCodeCredit,crDealerLabel:t.crDealerLabel,applicationType:t.applicationType,tdCreditLine:t.tdCreditLine,thenAmntBalCopy1:t.thenAmntBalCopy1,thenTotalAmntBal:t.thenTotalAmntBal,tdAmountCopy1:t.tdAmountCopy1,differenceAmount:t.differenceAmount,expCause:t.expCause}]},outPut:{dataSet:[{cashInCode:a.fundCode||a.cashInCode,cashType_cashInCode:a.fundType||a.cashType_cashInCode,thenAmntBal:a.thenAmntBal,tdAmount:a.tdAmount,tdId:a.tdId}]}});return this.saveData(n),!0}return!1},selCash:function(e){this.cashInfo=(0,r.default)({},this.cashInfo,e)},calcPayment:function(e){var t=e.thenAmntBalCopy1,a=void 0===t?0:t,n=e.tdAmountCopy1,i=void 0===n?0:n;i||(i=0),i=(0,g.toFixed)(i),e.tdAmountCopy1=i,e.differenceAmount=(0,g.toFixed)((0,b.accAdd)(a,i))}}}},ZtSw:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("HzJ8"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("PKHo"),f=n(c),m=a("zWMP"),h=a("BUFe"),v=n(h),p=a("AupE"),C=n(p),_=a("sUbJ"),y=n(_),b=a("FlCz"),g=n(b),w=a("d7ck"),I=n(w),x=a("MVgC"),D=n(x);t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",orderList:{},basicInfo:{},DuplicateBoms:[],UniqueBom:[],bomPopShow:!1,bom:{}}},mixins:[u.default,f.default],components:{workFlow:C.default,RAction:v.default,MatterItem:y.default,BomList:g.default,FormCell:I.default,BomPop:D.default},methods:{checkBom:function(e){this.bom=e,this.bomPopShow=!0},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u={};s.order;e.attachment=d;var c=s.order.dataSet,f=!0,m=!1,h=void 0;try{for(var v,p=(0,o.default)(c);!(f=(v=p.next()).done);f=!0){var C=v.value;if(C.inventoryPic=C.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+C.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),C.shippingTime=e.changeDate(C.shippingTime),C.boms){var _=!0,y=!1,b=void 0;try{for(var g,w=(0,o.default)(C.boms);!(_=(g=w.next()).done);_=!0){var I=g.value;I.inventoryCode=I.transObjCode}}catch(e){y=!0,b=e}finally{try{!_&&w.return&&w.return()}finally{if(y)throw b}}}C.boms&&(e.DuplicateBoms=e.DuplicateBoms.concat(JSON.parse((0,r.default)(C.boms)))),u[C.transMatchedCode]||(u[C.transMatchedCode]=[]),u[C.transMatchedCode].push(C)}}catch(e){m=!0,h=e}finally{try{!f&&p.return&&p.return()}finally{if(m)throw h}}e.mergeBomList(),e.orderList=u,e.orderInfo=s,e.workFlowInfoHandler()})},mergeBomList:function(){var e=function(e,t){return e.inventoryCode===t.inventoryCode};this.UniqueBom=function(t){return t.reduce(function(t,a){return t.some(function(t){var n=e(t,a);return n&&(t.tdQty=(0,m.accAdd)(t.tdQty,a.tdQty)),n})||t.push(a),t},[])}(this.DuplicateBoms)}}}},"Zv+r":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("4YfN"),o=n(s),l=a("HzJ8"),d=n(l),u=a("3cXf"),c=n(u),f=a("PzEQ"),m=n(f),h=a("kNGm"),v=n(h),p=a("u28h"),C=n(p),_=a("BGNQ"),y=n(_),b=a("0AQX"),g=a("HyXB"),w=a("bKg5"),I=n(w),x=a("kZy/"),D=n(x),P=a("y8YJ"),k=n(P),S=a("yt3/"),T=n(S),L=a("luHD"),N=n(L),M=a("VZtf"),A=n(M),O=a("vl8n"),R=n(O),j=a("+WR7"),$=n(j),B=a("zWMP");t.default={components:{XTextarea:m.default,RNumber:A.default,Datetime:C.default,PopMatterList:D.default,PopDealerList:k.default,PopSingleSelect:T.default,PopMatter:N.default,RPicker:R.default,PopBaseinfo:$.default,Cell:y.default},data:function(){return{listId:"1d52d5ce-d05e-4987-a023-3f4dba68cad9",taxRate:.16,numMap:{},dealer:{},formData:{creator:"",modifer:"",biId:"",biComment:""},dealerInfo:{},contact:{},transMode:[],matterList:[],showTransPop:!1,showMaterielPop:!1,showDealerPop:!1,filterList:[{name:"交易号",value:"transCode"},{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"}]}},mixins:[I.default],methods:{getPaymentTerm:function(){var e=this;return(0,g.getDictByType)("paymentTerm").then(function(t){var a=t.tableContent;e.transMode=a})},selDealer:function(e){this.dealerInfo=JSON.parse(e)[0]},selContact:function(e){this.formData.dealerCreditContactPersonName=e.dealerName,this.formData.dealerCreditContactInformation=e.dealerMobilePhone,this.contact=e},selMatter:function(e){var t=this,a=JSON.parse(e);a.map(function(e){var a=e.processingStartDate?(0,v.default)(e.processingStartDate,"YYYY-MM-DD"):"",n=e.transCode+"_"+e.inventoryCode,i=t.numMap[n]||{},r=i.tdQty,s=void 0===r?e.qtyBal:r,o=i.price,l=void 0===o?e.price:o,d=i.taxRate,u=void 0===d?.16:d,c=i.processingStartDate,f=void 0===c?a:c;e.tdQty=s,e.price=l,e.taxRate=u,e.processingStartDate=f}),this.numMap={},this.matterList=a},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(t){return t.inventoryCode===e.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(e)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,c.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,d.default)(this.matterList);!(e=(n=i.next()).done);e=!0){var r=n.value,s=r.transCode+"_"+r.inventoryCode;this.numMap[s]=(0,o.default)({},r)}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerCode?0===this.matterList.length&&(t="请选择物料"):t="请选择供应商信息",t||this.matterList.every(function(e){if(!e.price)return t="单价不能为空",!1;if(!e.tdQty)return t="数量不能为空",!1;var n=e.taxRate,i=(0,B.accMul)(e.price,e.tdQty,n);return a.push({tdId:e.tdId||"",transMatchedCode:e.transCode,transObjCode:e.inventoryCode,tdProcessing:e.processing,thenQtyBal:e.qtyBal||0,tdQty:e.tdQty,price:e.price,taxRate:n,taxAmount:i,tdAmount:(0,B.accAdd)((0,B.accMul)(e.price,e.tdQty),i),comment:""}),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=g.saveAndStartWf,n=(0,r.default)({},e.processCode,{businessKey:"PO",createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.biComment,formData:(0,c.default)((0,o.default)({},e.formData,e.dealer,{handlerEntity:e.entity.dealerName,inPut:{dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName||"",crDealerPaymentTerm:e.dealerInfo.paymentTerm,daysOfAccount:e.dealerInfo.pamentDays,dataSet:a}})),wfPara:(0,c.default)(n)};e.isResubmit&&(t=g.saveAndCommitTask,i.biReferenceId=e.biReferenceId),e.processCode.length||(t=g.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,b.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId;var a=t.formData;e.attachment=t.attachment,a.inPut.dataSet.map(function(t){t=(0,o.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,qtyBal:t.thenQtyBal}),e.matterList.push(t)}),e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,o.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),e.dealerInfo={dealerMobilePhone:a.dealerCreditContactInformation,dealerCode:a.inPut.dealerCodeCredit,dealerSubclass:a.inPut.drAccountSub,dealerName:a.inPut.dealerName_dealerCodeCredit,dealerLabelName:a.inPut.crDealerLabel,province:a.inPut.province_dealerCodeCredit,city:a.inPut.city_dealerCodeCredit,county:a.inPut.county_dealerCodeCredit,address:a.inPut.address_dealerCodeCredit,dealerCreditContactPersonName:a.dealerCreditContactPersonName,dealerCreditContactInformation:a.dealerCreditContactInformation,paymentTerm:a.inPut.crDealerPaymentTerm,pamentDays:a.inPut.daysOfAccount},e.contact={dealerMobilePhone:a.dealerCreditContactInformation,dealerName:a.dealerCreditContactPersonName},e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,r.default)({},"DZYHPCGDD_DATA",{matter:this.matterList,dealerInfo:this.dealerInfo,formData:this.formData,dealer:this.dealer})},getRelationData:function(){}},created:function(){var e=sessionStorage.getItem("DZYHPCGDD_DATA");e&&(this.matterList=JSON.parse(e).matter,this.dealerInfo=JSON.parse(e).dealerInfo,this.dealer=JSON.parse(e).dealer,this.formData=JSON.parse(e).formData,sessionStorage.removeItem("DZYHPCGDD_DATA"))}}},ZwUA:function(e,t){},ZyBF:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("4YfN"),o=n(s),l=a("HzJ8"),d=n(l),u=a("3cXf"),c=n(u),f=a("PzEQ"),m=n(f),h=a("u28h"),v=n(h),p=a("kNGm"),C=(n(p),a("BGNQ")),_=n(C),y=a("SAzG"),b=n(y),g=a("0AQX"),w=a("HyXB"),I=a("bKg5"),x=n(I),D=a("I5id"),P=n(D),k=a("luHD"),S=n(k),T=a("VZtf"),L=n(T),N=a("vl8n"),M=n(N),A=a("+WR7"),O=n(A);a("zWMP"),a("Qg39");t.default={name:"ApplySBCGSQForm",data:function(){return{matterList:[],formData:{biId:"",biComment:"",biProcessStatus:""},numMap:{},showFacilityPop:!1,matterParams:{facilityType:"工程物资,固定资产"},showMatterPop:!1,selItems:[]}},mixins:[x.default],components:{XTextarea:m.default,Datetime:v.default,RNumber:L.default,Cell:_.default,XInput:b.default,PopMatter:S.default,RPicker:M.default,PopBaseinfo:O.default,PopFacilityList:P.default},methods:{selMatter:function(e){var t=this,a=JSON.parse(e);a.map(function(e){var a=t.numMap[e.facilityCode]||{},n=a.tdQty,i=void 0===n?"":n,r=a.price,s=void 0===r?"":r;e.tdQty=i,e.price=s}),this.numMap={},this.matterList=a},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.facilityCode===t.facilityCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.facilityCode===e.facilityCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,c.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.facilityCode===t.facilityCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,d.default)(this.matterList);!(e=(n=i.next()).done);e=!0){var r=n.value;this.numMap[r.facilityCode]=(0,o.default)({},r)}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showFacilityPop=!this.showFacilityPop},submitOrder:function(){var e=this,t="",a=[];if(this.matterList.every(function(n){if(!n.price)return t="单价不能为空",!1;if(!n.tdQty&&0!==n.tdQty)return t="数量不能为空",!1;var i={facilityObjCode:n.facilityCode,facilityType:n.facilityType,assMeasureUnit:null,assistQty:n.assistQty||null,tdQty:n.tdQty,price:n.price,tdAmount:n.tdAmount,comment:n.comment||""};return e.transCode&&(i.tdId=n.tdId||null),a.push(i),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=w.saveAndStartWf,n={},i=(0,r.default)({},e.processCode,{businessKey:"EPAP",createdBy:""});n=(0,o.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{dataSet:a}}),e.transCode&&(t=w.saveAndCommitTask,i={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var s={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,c.default)(n),wfPara:(0,c.default)(i)};e.transCode||delete s.biReferenceId,e.processCode.length||(t=w.submitAndCalc,delete s.wfPara,delete s.biReferenceId),e.biReferenceId&&(s.biReferenceId=e.biReferenceId),e.saveData(t,s)}})},getFormData:function(){var e=this;return(0,g.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,l=t.attachment,u=void 0===l?[]:l;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=u;var c=s.order,f=c.dataSet,m=void 0===f?[]:f,h=[],v=!0,p=!1,C=void 0;try{for(var _,y=(0,d.default)(m);!(v=(_=y.next()).done);v=!0){var b,g=_.value;g=(0,o.default)({},g,(b={facilityName:g.facilityName_facilityObjCode,facilityCode:g.facilityCode_facilityObjCode,facilityBigType:g.facilityBigType_facilityObjCode,facilitySubclass:g.facilitySubclass_facilityObjCode,facilityUnit:g.facilityUnit_facilityObjCode},(0,r.default)(b,"facilityName",g.facilityName_facilityObjCode),(0,r.default)(b,"facilityName",g.facilityName_facilityObjCode),(0,r.default)(b,"inventoryPic",g.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+g.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()),b)),h.push(g)}}catch(e){p=!0,C=e}finally{try{!v&&y.return&&y.return()}finally{if(p)throw C}}e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,o.default)({},e.handlerDefault,{creator:s.creator,modifer:s.modifer,biId:s.biId,biComment:s.biComment,biProcessStatus:s.biProcessStatus}),e.biReferenceId=s.biReferenceId,e.matterList=h,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,r.default)({},"SBCGSQ_DATA",{matter:this.matterList,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("SBCGSQ_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.formData=t.formData,sessionStorage.removeItem("SBCGSQ_DATA")}}}},"a+8v":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2482,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[i.default],methods:{},created:function(){}}},a0Gq:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("HXPS"),d=n(l),u=a("7g+Q"),c=n(u),f=a("6q39"),m=n(f),h=a("QHLv"),v=a("1KNX"),p=n(v),C=a("7biW"),_=n(C);t.default={name:"MatterList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},getListMethod:{type:String,default:"getObjFunds"}},components:{Icon:d.default,Popup:c.default,LoadMore:m.default,RScroll:p.default,MSearch:_.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],costList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,o.default)(this.selItems)),this.$emit("input",!1)},showSelIcon:function(e){var t=!1;return this.selItems&&this.selItems.every(function(a){return e.fundCode!==a.fundCode||(t=!0,!1)}),t},selThis:function(e,t){this.showPop=!1,this.selItems=[e],this.$emit("sel-matter",this.selItems[0])},setDefaultValue:function(){this.tmpItems=[].concat((0,o.default)(this.defaultValue)),this.selItems=[].concat((0,o.default)(this.defaultValue))},getObjFunds:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,o.default)(e),[{operator:"like",value:this.srhInpTx,property:"fundName"}])),(0,h.getObjFunds)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(e)}).then(this.dataHandler)},getEmployeeReserveFunds:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,o.default)(e),[{operator:"like",value:this.srhInpTx,property:"fundName"}])),(0,h.getEmployeeReserveFunds)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(e)}).then(this.dataHandler)},dataHandler:function(e){var t=this,a=e.dataCount,n=void 0===a?0:a,i=e.tableContent,r=void 0===i?[]:i;this.hasNext=n>(this.page-1)*this.limit+r.length,this.costList=1===this.page?r:[].concat((0,o.default)(this.costList),(0,o.default)(r)),this.$nextTick(function(){t.$refs.bScroll.finishPullUp()})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.costList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this[this.getListMethod]()},onPullingUp:function(){this.page++,this[this.getListMethod]()}},created:function(){this.setDefaultValue(),this[this.getListMethod]()}}},a0dp:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages nbjgdd-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[Object.keys(e.orderList).length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v("订单列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n,i){return a("div",{key:n,staticClass:"each_mater"},[t.length?a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v("加工订单号")]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]):e._e(),e._v(" "),e._l(t,function(i,r){return a("div",{key:r,class:{mater_delete:e.matterModifyClass}},[a("matter-item",{class:{"vux-1px-b":r<t.length-1},attrs:{item:i,"show-delete":e.matterModifyClass},on:{"on-modify":function(t){e.modifyMatter(i,r,n)}},nativeOn:{click:function(t){e.delClick(r,i,n)}},scopedSlots:e._u([{key:"info",fn:function(t){var i=t.item;return[a("div",{staticClass:"mater_more"},[i.promDeliTime?a("span",[e._v("承诺交付日期: "+e._s(e._f("dateFormat")(i.promDeliTime,"YYYY-MM-DD")))]):e._e(),e._v(" "),a("span",[e._v("库存: "+e._s(i.qtyStock))])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:i.tdQty&&i.shippingTime,expression:"item.tdQty && item.shippingTime"}],staticClass:"mater_more"},[a("span",[e._v("主计划截止验收日:"+e._s(i.shippingTime))])]),e._v(" "),i.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"matter-remain"},[a("div",[e._v("待计划余额: "+e._s(i.qtyBal))]),e._v(" "),a("div",[e._v("库存计划: "+e._s(i.lockQty))]),e._v(" "),a("div",[e._v("加工计划: "+e._s(i.processQty))])]),e._v(" "),a("span",{staticClass:"check_bom",on:{click:function(t){e.checkBom(i,r,n)}}},[e._v("查看原料")])]):e._e()]}},{key:"edit",fn:function(t){var i=t.item;return[i.tdQty||e.matterModifyClass?e._e():a("div",{staticClass:"mater_other"},[a("div",{staticClass:"edit-tips",on:{click:function(t){e.modifyMatter(i,r,n)}}},[e._v("点击进行填写")]),e._v(" "),a("span",{staticClass:"check_bom",on:{click:function(t){e.checkBom(i,r,n)}}},[e._v("查看原料")])])]}}])}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.matterModifyClass,expression:"matterModifyClass"}],staticClass:"delete_icon",on:{click:function(t){e.delClick(r,i,n)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(i),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(i),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])])],1)})],2)}))]:[a("div",{on:{click:function(t){e.showOrderPop=!e.showOrderPop}}},[a("div",{staticClass:"title"},[e._v("订单列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择订单")]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),Object.keys(e.orderList).length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多物料")])]):e._e(),e._v(" "),a("pop-order-list",{ref:"order",attrs:{show:e.showOrderPop,"default-value":e.orderList,"is-mater-order":""},on:{"sel-matter":e.selOrder},scopedSlots:e._u([{key:"materInfo",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_material"},[a("span",{staticClass:"matter-info-item"},[e._v("库存:"+e._s(n.qtyStock))]),e._v(" "),a("span",{staticClass:"matter-info-item"},[e._v("余额:"+e._s(n.qtyBal))])])]}}]),model:{value:e.showOrderPop,callback:function(t){e.showOrderPop=t},expression:"showOrderPop"}})],2),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.UniqueBom.length,expression:"UniqueBom.length"}],staticClass:"materiel_list"},[a("bom-list",{attrs:{boms:e.UniqueBom},scopedSlots:e._u([{key:"number",fn:function(t){var n=t.bom;return[a("div",{staticClass:"number-part"},[a("span",{staticClass:"main-number"},[e._v("原料需求: "+e._s(n.tdQty)+e._s(n.measureUnit))]),e._v(" "),a("span",{staticClass:"number-unit"},[e._v("库存余额: "+e._s(n.qtyStock||n.thenQtyStock))])])]}}])})],1),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,"is-show-amount":!1},on:{"sel-confirm":e.selConfirm},scopedSlots:e._u([{key:"modify",fn:function(t){var n=t.modifyMatter;return[a("x-input",{attrs:{title:"待计划余额",type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkQtyBal(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.qtyBal,callback:function(t){e.$set(n,"qtyBal",e._n(t))},expression:"modifyMatter.qtyBal"}}),e._v(" "),a("x-input",{attrs:{title:"库存计划",type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checklockQty(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.lockQty,callback:function(t){e.$set(n,"lockQty",e._n(t))},expression:"modifyMatter.lockQty"}}),e._v(" "),a("x-input",{attrs:{title:"加工计划",type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkprocessQty(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.processQty,callback:function(t){e.$set(n,"processQty",e._n(t))},expression:"modifyMatter.processQty"}}),e._v(" "),a("datetime",{attrs:{title:"主计划截止验收日",placeholder:"请选择"},model:{value:n.shippingTime,callback:function(t){e.$set(n,"shippingTime",t)},expression:"modifyMatter.shippingTime"}}),e._v(" "),a("cell",{attrs:{title:"库存","text-align":"right",value:n.qtyStock}})]}}]),model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("bom-pop",{ref:"bomPop",attrs:{show:e.bomPopShow,bomInfo:e.bom,"btn-is-hide":e.btnIsHide,"no-specific-loss":!0},on:{"bom-confirm":e.bomConfirm},scopedSlots:e._u([{key:"bom-left",fn:function(t){var n=t.bom;return[a("div",{staticClass:"shipping-time",on:{click:function(t){e.modifyBomDate(n)}}},[e._v("\n            采购交货日期: "+e._s(n.shippingTime)),a("span",{staticClass:"iconfont icon-bianji1"})])]}},{key:"number",fn:function(t){var n=t.bom;return[a("div",{staticClass:"number-part"},[a("span",{staticClass:"main-number"},[e._v("原料需求: "+e._s(n.tdQty)+e._s(n.measureUnit))]),e._v(" "),a("span",{staticClass:"number-unit"},[e._v("库存余额: "+e._s(n.qtyStock))])]),e._v(" "),a("div",{staticClass:"specific_loss",on:{click:function(t){e.modifyBomLockQty(n)}}},[e._v("\n            原料库存计划: "+e._s(n.lockQty)),a("span",{staticClass:"iconfont icon-bianji1"})]),e._v(" "),a("div",{staticClass:"specific_loss"},[e._v("\n            单位损耗率: "+e._s(n.specificLoss))])]}}]),model:{value:e.bomPopShow,callback:function(t){e.bomPopShow=t},expression:"bomPopShow"}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode"},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},a6VN:function(e,t,a){"use strict";function n(e){a("Cm6D")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("fej/");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("9fGn"),o=a.n(s),l=a("jozx"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-cf424630",null);t.default=c.exports},aA6S:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("St0H");t.default={name:"cell-box",props:{isLink:Boolean,link:[String,Object],borderIntent:{type:Boolean,default:!0},noFlex:Boolean,alignItems:String},computed:{style:function(){if(this.alignItems)return{"align-items":this.alignItems}},className:function(){return{"vux-tap-active":this.isLink||!!this.link,"weui-cell_access":this.isLink||!!this.link,"vux-cell-no-border-intent":!this.borderIntent}}},methods:{onClick:function(){this.link&&(0,n.go)(this.link,this.$router)}}}},aAII:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2233,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}]}},mixins:[i.default],methods:{},created:function(){}}},aASr:function(e,t,a){"use strict";function n(e){a("aIp8")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("H+kM");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("e0Na"),o=a.n(s),l=a("HV0e"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-06fa2688",null);t.default=c.exports},aCXj:function(e,t){},aCu3:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"or_ads mg_auto",on:{click:e.warehouseClick}},[e.selItems.dealerName?a("div",[a("div",{staticClass:"title"},[e._v(e._s(e.title))]),e._v(" "),a("div",{staticClass:"user_info"},[a("span",{staticClass:"user_name"},[e._v(e._s(e.selItems.dealerName))]),e._v(" "),a("span",{staticClass:"user_tel"},[e._v(e._s(e.selItems.dealerMobilePhone))])])]):a("div",[a("div",{staticClass:"title"},[e._v(e._s(e.title)+"信息")]),e._v(" "),a("div",{staticClass:"mode required"},[e._v("请选择"+e._s(e.title))])]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r_arrow"}),e._v(" "),e.disabled?e._e():a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("div",{staticClass:"title"},[a("d-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}})],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"pop-list-container",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"pop-mater-list-item box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"pop-list-main "},[a("div",{staticClass:"pop-list-info"},[a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline name",staticStyle:{display:"inline-block"}},[a("span",[e._v(e._s(t.dealerName))])]),e._v(" "),a("div",{staticClass:"ForInline name",staticStyle:{display:"inline-block"}},[a("span")])]),e._v(" "),t.dealerMobilePhone?a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline ",staticStyle:{display:"inline-block"}},[a("span",{staticClass:"creator"},[e._v(e._s(t.dealerMobilePhone))])])]):e._e(),e._v(" "),a("div",{staticClass:"withoutColor"},[a("span",[e._v(e._s(t.province)+e._s(t.city)+e._s(t.county)+e._s(t.address))])])])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}))],1)])],1)])},i=[],r={render:n,staticRenderFns:i};t.a=r},aHRR:function(e,t,a){"use strict";function n(e){a("paU9")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("uBQ9");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("hIeW"),o=a.n(s),l=a("8dzu"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-2294f3c9",null);t.default=c.exports},aIp8:function(e,t){},aKfH:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{staticClass:"vux-datetime weui-cell",class:{"weui-cell_access":!e.readonly},attrs:{"data-cancel-text":"取消","data-confirm-text":"确定",href:"javascript:"}},[e._t("default",[a("div",[e._t("title",[a("p",{class:e.labelClass,style:e.styles,domProps:{innerHTML:e._s(e.title)}})]),e._v(" "),e.inlineDesc?a("inline-desc",[e._v(e._s(e.inlineDesc))]):e._e()],2),e._v(" "),a("div",{staticClass:"weui-cell__ft vux-cell-primary vux-datetime-value",style:{textAlign:e.valueTextAlign}},[!e.currentValue&&e.placeholder?a("span",{staticClass:"vux-cell-placeholder"},[e._v(e._s(e.placeholder))]):e._e(),e._v(" "),e.currentValue?a("span",{staticClass:"vux-cell-value"},[e._v(e._s(e.displayFormat?e.displayFormat(e.currentValue):e.currentValue))]):e._e(),e._v(" "),a("icon",{directives:[{name:"show",rawName:"v-show",value:!e.valid,expression:"!valid"}],staticClass:"vux-input-icon",attrs:{type:"warn",title:e.firstError}})],1)])],2)},i=[],r={render:n,staticRenderFns:i};t.a=r},aNl5:function(e,t){},"aP/0":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("3cXf"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("bFc7"),p=n(v),C=a("6WeX"),_=n(C),y=a("3NX5"),b=n(y),g=a("zWMP"),w=a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"",contactInfo:{}}},components:{workFlow:h.default,RAction:f.default,contactPart:p.default,PriceTotal:_.default,MatterList:b.default},mixins:[u.default],methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(e.submitInfo=JSON.parse((0,o.default)(t)),!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=!0,i=!1,s=void 0;try{for(var l,d=(0,r.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;u.noTaxAmount=(0,g.accMul)(u.price,u.tdQty),u.taxAmount=(0,g.accMul)(u.noTaxAmount,u.taxRate),u.tdAmount=(0,w.toFixed)((0,g.accAdd)(u.noTaxAmount,u.taxAmount)),e.count=(0,g.accAdd)(e.count,u.tdAmount),u.inventoryPic=u.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+u.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){i=!0,s=e}finally{try{!n&&d.return&&d.return()}finally{if(i)throw s}}e.orderInfo=t.formData,e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo={creatorName:t.dealerDebitContactPersonName,dealerName:a.dealerName_dealerDebit,dealerMobilePhone:t.dealerDebitContactInformation,dealerContactPersonName:t.dealerDebitContactPersonName,dealerCode:a.dealerDebit,dealerLabelName:a.drDealerLabel,province:a.province_dealerDebit,city:a.city_dealerDebit,county:a.county_dealerDebit,address:a.address_dealerDebit,payment:a.drDealerPaymentTerm}}},created:function(){}}},aVvt:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2208,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}],noTaxRate:!0}},mixins:[i.default],methods:{},created:function(){}}},aZSx:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70"}},mixins:[u.default],components:{workFlow:h.default,RAction:f.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=!0,i=!1,s=void 0;try{for(var l,d=(0,r.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;e.count=(0,v.accAdd)(e.count,u.tdAmount)}}catch(e){i=!0,s=e}finally{try{!n&&d.return&&d.return()}finally{if(i)throw s}}t.formData.validUntil=(0,o.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},agzl:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[a("div",{staticClass:"edit_matter"},[a("div",{staticClass:"matter_info mg_auto"},[a("img",{staticClass:"mater_img",attrs:{src:e.modifyMatter.inventoryPic,alt:"mater_img"},on:{error:function(t){e.getDefaultImg(e.item)}}}),e._v(" "),a("div",{staticClass:"mater_main"},[a("div",{staticClass:"mater_name"},[e._v("\n            "+e._s(e.modifyMatter.inventoryName||e.modifyMatter.facilityName||e.modifyMatter.inventoryName_outPutMatCode)+"\n          ")]),e._v(" "),a("div",{staticClass:"mater_info",staticStyle:{width:"2.6rem"}},[a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline",staticStyle:{display:"inline-block"}},[a("div",{staticClass:"mater_code"},[a("span",{staticClass:"title"},[e._v("编码")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(e.modifyMatter.inventoryCode||e.modifyMatter.facilityCode||e.modifyMatter.outPutMatCode))])])]),e._v(" "),a("div",{staticClass:"ForInline",staticStyle:{display:"inline-block"}},[a("div",{staticClass:"mater_spec"},[a("span",{staticClass:"title"},[e._v("规格")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(e.modifyMatter.specification||e.modifyMatter.facilitySpecification||e.modifyMatter.specification_outPutMatCode||"无"))])])])])]),e._v(" "),e._t("materUnit"),e._v(" "),e.modifyMatter.facilityName?[a("div",{staticClass:"mater_more"},[a("span",{staticClass:"processing"},[e._v("类型: "+e._s(e.modifyMatter.facilityType))]),e._v(" "),a("span",[e._v("大类: "+e._s(e.modifyMatter.facilityBigType||"无"))]),e._v(" "),a("span",[e._v("子类: "+e._s(e.modifyMatter.facilitySubclass||"无"))]),e._v(" "),a("span",{staticClass:"unit"},[e._v("单位: "+e._s(e.modifyMatter.facilityUnit))])]),e._v(" "),a("div",{staticClass:"mater_more"},[e._t("qtyBal",null,{modifyMatter:e.modifyMatter})],2)]:[a("div",{staticClass:"mater_more"},[e._t("qtyBal",[a("div",[a("span",{staticClass:"processing"},[e._v("属性: "+e._s(e.modifyMatter.processing||"无"))]),e._v(" "),a("span",{staticClass:"unit"},[e._v("单位: "+e._s(e.modifyMatter.measureUnit))]),e._v(" "),a("span",{staticClass:"mater_color"},[e._v("颜色: "+e._s(e.modifyMatter.inventoryColor||"无"))])]),e._v(" "),a("div",[a("span",[e._v("大类: "+e._s(e.modifyMatter.inventoryTypen||"无"))]),e._v(" "),a("span",[e._v("子类: "+e._s(e.modifyMatter.inventorySubclass||"无"))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.modifyMatter.qtyBal,expression:"modifyMatter.qtyBal"}]},[e._v("余额: "+e._s(e.modifyMatter.qtyBal))])])],{modifyMatter:e.modifyMatter})],2)]],2)]),e._v(" "),a("group",{staticClass:"mg_auto"},[e._t("modify",[a("x-input",{attrs:{title:"数量",type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(e.modifyMatter)},"on-focus":function(t){e.getFocus(t)}},model:{value:e.modifyMatter.tdQty,callback:function(t){e.$set(e.modifyMatter,"tdQty",e._n(t))},expression:"modifyMatter.tdQty"}},[a("template",{slot:"label"},[e._t("qtyName",[a("span",{staticClass:"required"},[e._v("数量")])])],2)],2),e._v(" "),a("cell",{attrs:{title:"包装数量",value:e.modifyMatter.assistQty}}),e._v(" "),a("x-input",{attrs:{type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(e.modifyMatter)},"on-focus":function(t){e.getFocus(t)}},model:{value:e.modifyMatter.price,callback:function(t){e.$set(e.modifyMatter,"price",e._n(t))},expression:"modifyMatter.price"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("含税单价\n              ")])])],2),e._v(" "),a("x-input",{attrs:{title:"税率",type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(e.modifyMatter)},"on-focus":function(t){e.getFocus(t)}},model:{value:e.modifyMatter.taxRate,callback:function(t){e.$set(e.modifyMatter,"taxRate",e._n(t))},expression:"modifyMatter.taxRate"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("税率\n              ")])])],2),e._v(" "),a("cell",{attrs:{title:"不含税单价",value:e.modifyMatter.noTaxPrice}}),e._v(" "),e._t("date",null,{modifyMatter:e.modifyMatter})],{modifyMatter:e.modifyMatter})],2),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowAmount,expression:"isShowAmount"}],staticClass:"mg_auto"},[a("div",{staticClass:"each_info vux-1px-b"},[a("label",[e._v("税金")]),e._v(" "),a("div",{staticClass:"matter_val"},[e._v("￥"+e._s(e.modifyMatter.taxAmount))])]),e._v(" "),a("div",{staticClass:"each_info vux-1px-b"},[e._t("modifyTitle",[a("label",[e._v("不含税金额")])]),e._v(" "),a("div",{staticClass:"matter_val"},[e._v("￥"+e._s(e.modifyMatter.noTaxAmount))])],2),e._v(" "),a("div",{staticClass:"each_info"},[a("label",[e._v("价税小计")]),e._v(" "),a("div",{staticClass:"matter_val"},[e._v("￥"+e._s(e.modifyMatter.tdAmount))])])])],1),e._v(" "),a("div",{staticClass:"confirm_btn",class:{btn_hide:e.btnIsHide},on:{click:e.confirm}},[a("div",{staticClass:"confirm"},[e._v("确认")])])])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},ajv5:function(e,t){},ak47:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"000004":"COMPANY","000001":"USER","000003":"JOB","b30f4d3e-b23d-11e8-96a5-005056a136d0":"CPXQ","4099b5aa-1468-4b81-85a5-75079e291977":"BHDD","867e0b4f-548f-4e08-873a-1b8e54333630":"WLXQJH","7532f8ea-caf3-4fc4-97f6-b5aad7bcf6a0":"WLXQTJ","65ceb5a6-a120-11e8-862a-005056a136d0":"NBJGDD","762b8df4-2555-4325-884a-355f34355832":"NBJGLL","5e8d89f1-49a5-4089-9c1a-44dc2ce0ae4b":"NBJGRK","a4897429-f4f2-44a4-ade7-2fe8dc67c3cf":"XSDD","58a607ce-fe93-4d26-a42e-a374f4662f1c":"XSBJ","32a2c333-02a3-416f-a133-95c7a32da678":"SJ","a1e8592f-63c2-4a31-ba22-9d654484db1d":"XSCK","43ccbc27-bbb5-4cfb-997b-6d3823f1c03e":"CGSQ","dd4d228d-fc01-4038-bf17-df54d8d06eb9":"CGDD","1c5896d8-1500-4569-b0c5-6b596d03fb9b":"CGRK","482b7468-06eb-40c7-842a-f7ea6edb1c37":"CGTHCK",1400:"CH","edf7b34b-8916-410f-801f-2db7e97efbde":"KCPD","4d9a7f8f-9a88-47b6-a1f4-3faed6423615":"BDKCDB","b61ef324-f261-48d6-9c79-d1b475c24943":"FYBX",9000:"WLYE",1000:"HBZJ","000100":"HGCW","630a9b96-f257-48b6-b0bc-fd64c455d92b":"XMLX","0281f8eb-f1d2-415c-b566-756fc749ccb3":"XMJH","ee4ff0a1-c612-419d-afd7-471913d57a2a":"XMRW","b87a513e-99ec-4608-89db-3d6e97ef1432":"XMJX","1aba0d26-a479-47f7-b755-03f5036dee98":"ZZSKP","72b6a187-b61a-4532-9945-21957b24fd09":"ZZSSP","2372f734-93c1-11e8-85db-005056a136d0":"GDRW","f9f1e0cb-7edf-43aa-b2f2-527e2525b96e":"GDYS","6ebcad8b-449c-422a-960f-53ccf98fd4ba":"GDBLL"}},ansf:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("BGNQ"),r=n(i),s=a("z5TY"),o=n(s),l=a("kNGm"),d=(n(l),a("0AQX")),u=a("+VRO"),c=n(u),f=(a("Qg39"),a("BUFe")),m=n(f),h=a("AupE"),v=n(h),p=a("bFc7"),C=n(p),_=a("FlCz"),y=n(_),b=a("hPJo"),g=n(b);t.default={data:function(){return{workInfo:{},orderInfo:{},warehouse:{},bomList:[]}},mixins:[c.default],components:{Cell:r.default,Group:o.default,RAction:m.default,workFlow:v.default,contactPart:C.default,BomList:y.default,WarehouseContent:g.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,d.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.attachment,r=void 0===i?[]:i,s=t.formData,o=void 0===s?{}:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var l=o.order,d=void 0===l?{}:l,u=o.outPut,c=void 0===u?{}:u,f=c.dataSet,m=void 0===f?[]:f;e.warehouse={warehouseName:d.warehouseName_containerCode,warehouseType:d.warehouseType_containerCode,warehouseAddress:d.warehouseAddress_containerCode},m.forEach(function(e){e.inventoryName=e.inventoryName_outPutMatCode,e.inventoryCode=e.outPutMatCode}),e.bomList=m,e.attachment=r,e.orderInfo=o,e.workInfo=o.order.dataSet[0],e.workFlowInfoHandler()})}}}},aofM:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){for(var a=e.length;a--;)if(e[a]===t)return!0;return!1}Object.defineProperty(t,"__esModule",{value:!0});var r=a("DEQU"),s=n(r),o=a("MPfS"),l=a("GM4P"),d=n(l);t.default={name:"radio",mixins:[s.default],filters:{getValue:o.getValue,getKey:o.getKey},props:(0,d.default)(),created:function(){this.handleChangeEvent=!0},methods:{getValue:o.getValue,getKey:o.getKey,onFocus:function(){this.currentValue=this.fillValue||"",this.isFocus=!0}},watch:{value:function(e){this.currentValue=e},currentValue:function(e){var t=i(this.options,e);""!==e&&t&&(this.fillValue=""),this.$emit("on-change",e,(0,o.getLabel)(this.options,e)),this.$emit("input",e)},fillValue:function(e){this.fillMode&&this.isFocus&&(this.currentValue=e)}},data:function(){return{fillValue:"",isFocus:!1,currentValue:this.value}}}},aumL:function(e,t,a){"use strict";function n(e){a("uhEK")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a0Gq");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("8rBc"),o=a.n(s),l=a("NkPQ"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-c5d2209e",null);t.default=c.exports},aumi:function(e,t){},avU7:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2324,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}]}},mixins:[i.default],methods:{},created:function(){}}},awDs:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}))],1),e._v(" "),e.action.add?a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},az0b:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("HzJ8"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("PKHo"),f=n(c),m=a("zWMP"),h=a("BUFe"),v=n(h),p=a("AupE"),C=n(p),_=a("sUbJ"),y=n(_),b=a("FlCz"),g=n(b),w=a("d7ck"),I=n(w),x=a("MVgC"),D=n(x);t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",orderList:{},basicInfo:{},DuplicateBoms:[],UniqueBom:[],bomPopShow:!1,bom:{}}},mixins:[u.default,f.default],components:{workFlow:C.default,RAction:v.default,MatterItem:y.default,BomList:g.default,FormCell:I.default,BomPop:D.default},watch:{DuplicateBoms:{handler:function(e){var t=function(e,t){return e.inventoryCode===t.inventoryCode};this.UniqueBom=function(e){return e.reduce(function(e,a){return e.some(function(e){var n=t(e,a);return n&&(e.tdQty=(0,m.accAdd)(e.tdQty,a.tdQty)),n})||e.push(a),e},[])}(this.DuplicateBoms)}}},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},checkBom:function(e){this.bom=e,this.bomPopShow=!0},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u={};s.order;e.attachment=d;var c=s.inPut.dataSet,f=!0,h=!1,v=void 0;try{for(var p,C=(0,o.default)(c);!(f=(p=C.next()).done);f=!0){var _=p.value;if(_.inventoryPic=_.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),_.boms){var y=!0,b=!1,g=void 0;try{for(var w,I=(0,o.default)(_.boms);!(y=(w=I.next()).done);y=!0){var x=w.value;x.inventoryCode=x.transObjCode,x.warehouseName=x.warehouseName_containerCodeOut,x.warehouseCode=x.containerCodeOut,x.qtyStock=x.thenQtyStock,x.tdQty=(0,m.accSub)((0,m.accMul)(_.processQty,x.bomQty,1+x.bomSpecificLoss),x.lockQty)}}catch(e){b=!0,g=e}finally{try{!y&&I.return&&I.return()}finally{if(b)throw g}}}e.DuplicateBoms=e.DuplicateBoms.concat(JSON.parse((0,r.default)(_.boms))),u[_.transMatchedCode]||(u[_.transMatchedCode]=[]),u[_.transMatchedCode].push(_)}}catch(e){h=!0,v=e}finally{try{!f&&C.return&&C.return()}finally{if(h)throw v}}e.orderList=u,e.orderInfo=s,e.workFlowInfoHandler()})}}}},b3pO:function(e,t){},b4Rw:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("rVsN"),r=n(i),s=a("lC5x"),o=n(s),l=a("IHPB"),d=n(l),u=a("3cXf"),c=n(u),f=a("J0Oq"),m=n(f),h=a("4YfN"),v=n(h),p=a("kNGm"),C=n(p),_=a("0AQX"),y=a("HyXB"),b=a("ak47"),g=n(b),w=a("GvUu"),I=n(w);t.default={data:function(){return{listId:"",transCode:"",RelatedAppList:[],swiper:null,taskType:""}},methods:{getAppExampleDetails:function(){var e=this;return(0,_.getAppExampleDetails)({transCode:this.transCode,listId:this.listId}).then(function(t){t.relevantItems.forEach(function(t){if(g.default[t.listId]){t.isrelated=!1,I.default[e.taskType]&&I.default[e.taskType][t.listId]&&(t.isrelated=!0);var a=t.content.map(function(e){return e.transCode}).join(",");e.RelatedAppList.push((0,v.default)({},t,{page:1,limit:10,defaultFilter:a,icon:t.icon?"/dist/"+t.icon:""}))}})})},getViewId:function(e){return(0,_.getListView)({listId:e}).then(function(e){return e[0].id})},getRelatedList:function(e){var t=this;return(0,m.default)(o.default.mark(function a(){var n,i,r,s,l,u,f,m,h,v;return o.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.listId,i=void 0===n?"":n,r=e.defaultFilter,s=void 0===r?"":r,l=e.page,u=void 0===l?1:l,f=e.limit,m=void 0===f?10:f,a.next=3,t.getViewId(i);case 3:return h=a.sent,v=[{property:"transCode",operator:"in",value:s}],a.abrupt("return",(0,y.getList)(h,{limit:m,page:u,start:(u-1)*m,filter:(0,c.default)(v)}).then(function(a){var n=a.dataCount,i=void 0===n?0:n,r=a.tableContent,s=void 0===r?[]:r;e.hasNext=i>(u-1)*m+s.length;var o=1===u?s:[].concat((0,d.default)(e.relatedList),(0,d.default)(s));t.$set(e,"relatedList",o)}));case 6:case"end":return a.stop()}},a,t)}))()},goDetail:function(e,t){var a=e.parentNav,n=e.listId;this.$router.push({path:"/detail/"+a+"/"+n,query:{name:t.transTypeName,transCode:t.transCode,fromRalted:!0}})},goRelation:function(e){var t=this.$route.query.uniqueId,a=e.parentNav,n=e.listId,i=e.transName;this.$router.push({path:"/fillform/"+a+"/"+n,query:{name:i,uniqueId:t,relationKey:this.transCode}})}},filters:{dateFormat:C.default},created:function(){var e=this;this.$loading.show(),this.listId=this.$route.params.listId,this.transCode=this.$route.query.transCode,this.transCode&&(this.taskType=this.transCode.split("_")[0]),(0,m.default)(o.default.mark(function t(){var a;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getAppExampleDetails();case 2:a=[],e.RelatedAppList.forEach(function(t){a.push(e.getRelatedList(t))}),r.default.all(a).then(function(){e.$nextTick(function(){e.swiper=new e.Swiper(".swiper_related",{slidesPerView:"auto",centeredSlides:!0,observer:!0,observeParents:!0})}),e.$loading.hide()});case 5:case"end":return t.stop()}},t,e)}))()}}},b7iB:function(e,t){},bBLw:function(e,t,a){"use strict";function n(e){a("I/ph")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("hX7J");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("WRWB"),o=a.n(s),l=a("l4QM"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-db98b580",null);t.default=c.exports},bCrF:function(e,t){},bFc7:function(e,t,a){"use strict";function n(e){a("rB41")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("383K");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("LpND"),o=a.n(s),l=a("vrew"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-3c2bb848",null);t.default=c.exports},bH4i:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"childPage"},[a("div",{staticClass:"content"},[a("div",{staticClass:"each_property vux-1px-b "},[a("label",{staticClass:"required"},[e._v("职位名称:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.jobInfo.name,expression:"jobInfo.name"}],staticClass:"property_val",attrs:{type:"text"},domProps:{value:e.jobInfo.name},on:{input:function(t){t.target.composing||e.$set(e.jobInfo,"name",t.target.value)}}})]),e._v(" "),a("r-picker",{attrs:{title:"职位类型:",data:e.jobType,value:e.jobInfo.type,required:!0},model:{value:e.jobInfo.type,callback:function(t){e.$set(e.jobInfo,"type",t)},expression:"jobInfo.type"}}),e._v(" "),a("r-picker",{attrs:{title:"使用状态:",data:e.jobStatus,value:e.jobInfo.status},model:{value:e.jobInfo.status,callback:function(t){e.$set(e.jobInfo,"status",t)},expression:"jobInfo.status"}})],1),e._v(" "),a("div",{staticClass:"vux-1px-t btn",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"cfm_btn",domProps:{innerHTML:e._s(this.$route.query.id?"保存":"提交")},on:{click:e.save}})])])},i=[],r={render:n,staticRenderFns:i};t.a=r},bHLN:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("4YfN"),o=n(s),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("1KNX"),v=n(h),p=a("7biW"),C=n(p);t.default={name:"RPopup",props:{data:{type:Array,default:function(){return[]}},show:{type:Boolean,default:!1},defaultValue:{type:[Array,Object],default:function(){return{}}},filterList:{type:Array,default:function(){return[]}},multipart:{type:Boolean,default:!1},isFill:{type:Boolean,default:!0},options:{type:Object,default:function(){return{pullUpLoad:!0}}},hasNext:{type:Boolean,default:!0},judgeKeys:{type:Array,default:function(){return[]}}},components:{Icon:c.default,Popup:m.default,RScroll:v.default,RSearch:C.default},data:function(){return{showPop:!1,selItems:[],tmpItems:[]}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.multipart?(this.tmpItems=[].concat((0,d.default)(this.defaultValue)),this.selItems=[].concat((0,d.default)(this.defaultValue))):(this.tmpItems=[(0,o.default)({},this.defaultValue)],this.selItems=[(0,o.default)({},this.defaultValue)])},immediate:!0},data:{handler:function(e){this.finishPullUp()},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,d.default)(this.selItems)),this.$emit("input",!1)},findIndex:function(e,t){var a=this;return e.findIndex(function(e){var n=!1;return a.judgeKeys.every(function(a){return e[a]&&(n=e[a]===t[a]),n}),n})},showSelIcon:function(e){return-1!==this.findIndex(this.tmpItems,e)},selThis:function(e,t){if(!this.multipart)return this.showPop=!1,this.selItems=[(0,o.default)({},e)],this.tmpItems=[(0,o.default)({},e)],void this.$emit("on-select",(0,o.default)({},e));var a=this.tmpItems,n=this.findIndex(a,e);if(-1!==n)return void a.splice(n,1);a.push(e)},cfmMater:function(){this.showPop=!1,this.selItems=[].concat((0,d.default)(this.tmpItems)),this.$emit("on-select",JSON.parse((0,r.default)(this.selItems)))},searchList:function(e){this.$refs.bScroll.scrollTo(0,0),this.$emit("on-search",e)},delSelItem:function(e){var t=this.findIndex(this.selItems,e);-1!==t&&this.selItems.splice(t,1),this.tmpItems=[].concat((0,d.default)(this.selItems))},onPullingUp:function(){this.$emit("on-pulling-up")},finishPullUp:function(){var e=this;this.$refs.bScroll&&this.$nextTick(function(){e.$refs.bScroll.finishPullUp()})}},created:function(){}}},bI5q:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=(a("HyXB"),a("MjAd")),o=n(s);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}],listViewID:2331}},mixins:[o.default],methods:{goDetail:function(e,t){var a=this;if(!this.clickVisited){var n=e.transCode,i=this.$route.query.name,s=this.$route.params,o=s.fileId,l=s.listId;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,r.default)({},e)),setTimeout(function(){a.clickVisited=!1,a.$router.push({path:"/detail/"+o+"/"+l,query:{name:i,transCode:n}})},200)}}}}},bJgI:function(e,t){},bKg5:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("J0Oq"),o=n(s),l=a("HzJ8"),d=n(l),u=a("A9zj"),c=n(u),f=a("KH7x"),m=n(f),h=a("rVsN"),v=n(h),p=a("3cXf"),C=n(p),_=a("4YfN"),y=n(_),b=a("HyXB"),g=a("0AQX"),w=a("I8ug"),I=a("iR2W"),x=n(I),D=a("yKqG"),P=n(D),k=a("zWMP"),S=a("Qg39"),T=a("d3k1"),L=n(T),N=a("SFXC"),M=n(N),A=a("zlAJ"),O=n(A),R=a("Z5v5"),j=a("0o6b");t.default={data:function(){return{taskId:"",comment:"",uniqueId:"",biComment:"",transCode:"",processCode:"",biReferenceId:"",formViewUniqueId:"",matter:{},entity:{},btnInfo:{},actions:[],selItems:[],handleORG:[],userRoleList:[],currentStage:[],modifyIndex:null,fillBscroll:null,btnIsHide:!1,isResubmit:!1,showMatterPop:!1,matterModifyClass:!1,clientHeight:document.documentElement.clientHeight,attachment:[],relationKey:"",handlerDefault:{},listId:"",taxRate:.16,businessKey:""}},components:{MatterItem:M.default,UploadFile:O.default},computed:{taxAmount:function(){var e=0;return this.matterList.forEach(function(t){var a=t.noTaxPrice||0,n=t.assistQty||0,i=t.taxRate||0;e=(0,k.accAdd)(e,(0,k.accMul)(n,i,a))}),(0,S.toFixed)(e)},tdAmount:function(){var e=0;return this.matterList.forEach(function(t){var a=t.price||0,n=t.assistQty||0;e=(0,k.accAdd)(e,(0,k.accMul)(a,n))}),(0,S.toFixed)(e)}},watch:{matter:{handler:function(e){var t=e.price||0,a=e.tdQty||0,n=e.taxRate||0;e.assistQty=(0,S.toFixed)((0,k.accDiv)(a,e.assMeasureScale)),e.noTaxPrice=(0,S.toFixed)((0,k.accDiv)(t,(0,k.accAdd)(1,n))),e.tdAmount=(0,S.toFixed)((0,k.accMul)(t,e.assistQty)),e.taxAmount=(0,S.toFixed)((0,k.accMul)(e.assistQty,n,e.noTaxPrice)),e.noTaxAmount=(0,k.accSub)(e.tdAmount,e.taxAmount)},deep:!0}},filters:{numberComma:x.default},methods:{selItem:function(e){this.formData=(0,y.default)({},this.formData,e)},showDelete:function(){this.matterModifyClass=!this.matterModifyClass,this.selItems=[]},modifyMatter:function(e,t){this.matter=JSON.parse((0,C.default)(e)),this.showMatterPop=!0,this.modifyIndex=t},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.matterList,this.modifyIndex,t)},getListId:function(e){var t=this;return new v.default(function(a){(0,g.getListId)(e).then(function(e){t.uniqueId=e[0].uniqueId,a()})})},getUniqueId:function(e){var t=this;return new v.default(function(a){(0,g.isMyflow)({transCode:e}).then(function(e){var n=e.dataCount,i=e.tableContent,r=void 0===i?[]:i;if(n>0){var s=(0,m.default)(r,1),o=s[0],l=void 0===o?{}:o;t.taskId=l.taskId,1===l.isMyTask&&(t.uniqueId=l.viewId,t.formViewUniqueId=l.viewId,t.btnInfo=l,t.actions=l.actions&&l.actions.split(","))}var d=(0,m.default)(r,1),u=d[0],c=void 0===u?{}:u,f=(c.actions,c.isMyTask,c.taskId);t.taskId=f,a()})})},saveData:function(e,t){var a=this;e(t).then(function(e){a.$HandleLoad.hide();var t=e.success,n=void 0!==t&&t,i=e.message,r=void 0===i?"提交失败":i;n&&(r="提交成功",a.$emit("change",!0)),a.$vux.alert.show({content:r,onHide:function(){n&&a.judgePage()}})}).catch(function(e){a.$HandleLoad.hide()})},stopOrder:function(){var e=this;this.$vux.confirm.prompt("",{title:"审批意见",onConfirm:function(t){e.$HandleLoad.show(),t&&(e.comment=t);var a={taskId:e.taskId,taskData:(0,C.default)({result:-1,transCode:e.transCode,comment:e.comment})};(0,b.commitTask)(a).then(function(t){e.$HandleLoad.hide();var a=t.success,n=void 0!==a&&a,i=t.message,r=void 0===i?"提交失败":i;n&&(r="终止成功",e.$emit("change",!0)),e.$vux.alert.show({content:r,onHide:function(){n&&e.judgePage()}})}).catch(function(t){e.$HandleLoad.hide()})}})},getBaseInfoData:function(){var e=this;(0,b.getBaseInfoData)().then(function(t){var a=t.handleORG,n=t.userRoleList,i=(0,c.default)(t,["handleORG","userRoleList"]);e.handleORG=a,e.userRoleList=n;var r=(0,m.default)(a,1),s=r[0],o=void 0===s?{}:s,l=(0,m.default)(n,1),d=l[0],u=void 0===d?{}:d,f={handler:i.userId,handlerName:i.nickname,handlerUnit:o.groupId,handlerUnitName:o.groupName,handlerRole:u.roleId||"",handlerRoleName:u.roleName||"",userCode:i.userCode};e.formData=(0,y.default)({},e.formData,f,{creator:f.handler,modifer:f.handler}),e.handlerDefault=f,e.$loading.hide()})},getMatPrice:function(){var e=this;this.matterList.forEach(function(t,a){t.price||(0,g.getSaleQuotePrice)({drDealerCode:e.dealerInfo.dealerCode,matCode:t.inventoryCode,noCount:1}).then(function(e){var a=e.tableContent,n=void 0===a?[]:a,i=(0,m.default)(n,1),r=i[0],s=void 0===r?{}:r;t.price=s.price})})},getProcess:function(){var e=this;return(0,b.getProcess)(this.listId).then(function(t){var a=(0,m.default)(t,1),n=a[0],i=void 0===n?{}:n;e.processCode=i.processCode||""})},getProcessStatus:function(){var e=this;return(0,b.getProcessStatus)(this.listId).then(function(t){var a=t.tableContent,n=!0,i=!1,r=void 0;try{for(var s,o=(0,d.default)(a);!(n=(s=o.next()).done);n=!0){var l=s.value;l.value=l.fieldVlaue,l.name=l.fieldVlaue}}catch(e){i=!0,r=e}finally{try{!n&&o.return&&o.return()}finally{if(i)throw r}}e.currentStage=a})},checkAmt:function(e){var t=e.price,a=e.tdQty,n=e.qtyBal,i=e.qtyStockBal,r=e.thenQtyBal,s=e.qtyStock,o=e.taxRate;t&&(e.price=Math.abs((0,S.toFixed)(t))),a&&(e.tdQty=Math.abs((0,S.toFixed)(a)),!i&&!s&&n&&a>n?e.tdQty=n:i&&a>i?e.tdQty=i:s&&a>s?e.tdQty=s:n&&a>n?e.tdQty=n:r&&a>r&&(e.tdQty=r)),o&&(e.taxRate=Math.abs((0,S.toFixed)(o)))},getFocus:function(e){event.currentTarget.select()},onUploadFile:function(e){e.biReferenceId},listenBack:function(){var e=this;wx.ready(function(){wx.onHistoryBack&&wx.onHistoryBack(function(){return!e.onHistoryBack||e.onHistoryBack()})})},listenShare:function(){},judgePage:function(){if(1!==window.history.length)this.$router.go(-1);else{var e=this.$route.query.name,t=this.$route.params,a=t.fileId,n=t.listId;this.$router.replace({path:"/detail/"+a+"/"+n,query:{name:e,transCode:this.transCode}})}},getAppDetail:function(){var e=this;return(0,w.getAppDetail)(this.listId).then(function(t){var a=(0,m.default)(t,1),n=a[0],i=void 0===n?{}:n,r=(i.action,i.prefix);e.businessKey=r})}},created:function(){var e=this;(0,R.register)();var t=this.$route.query,a=t.name,n=t.transCode,i=t.relationKey,s=this.$route.params.listId;this.listId=s;var l=sessionStorage.getItem("ROSE_LOGIN_TOKEN");l&&(this.entity.dealerName=JSON.parse(l).entityId),(0,o.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.getProcess(),n||e.getBaseInfoData(),e.getProcessStatus(),e.getAppDetail(),e.initRequest&&e.initRequest(),e.getPaymentTerm&&e.getPaymentTerm(),e.getLogisticsTerms&&e.getLogisticsTerms(),!n){t.next=18;break}return e.isResubmit=!0,e.transCode=n,t.next=12,e.getListId(n);case 12:return t.next=14,e.getUniqueId(n);case 14:if(t.t0=e.getFormData,!t.t0){t.next=18;break}return t.next=18,e.getFormData();case 18:i&&(e.relationKey=i,e.getRelationData()),wx.ready(function(){var e={title:"创建新的"+a,desc:"点击创建新的"+a+"订单",imgUrl:"https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=2952407151,1992384149&fm=26&gp=0.jpg"};(0,j.shareContent)(e)});case 20:case"end":return t.stop()}},t,e)}))()},mounted:function(){var e=this;this.$nextTick(function(){e.fillBscroll=new P.default(e.$refs.fill,{click:!0})}),L.default.isAndroid&&(window.onresize=function(){e.clientHeight>document.documentElement.clientHeight?e.btnIsHide=!0:(e.btnIsHide=!1,"INPUT"!==document.activeElement.tagName&&"TEXTAREA"!==document.activeElement.tagName||document.activeElement.blur())})}}},bLVl:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("kKsb"),p=n(v),C=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",dealerInfo:{}}},mixins:[u.default],components:{workFlow:h.default,RAction:f.default,ProjectPart:p.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=t.formData,i=n.order,s=void 0===i?{}:i;e.attachment=a,e.dealerInfo={dealerName:s.dealerName_dealerCodeCredit,dealerCode:s.dealerCodeCredit,dealerLabelName:s.crDealerLabel,amntBal:s.thenAmntBalCopy2,thenTotalAmntBal:s.thenAlreadyAmnt};var l=n.order.dataSet,d=!0,u=!1,c=void 0;try{for(var f,m=(0,r.default)(l);!(d=(f=m.next()).done);d=!0){var h=f.value;e.count=(0,C.accAdd)(e.count,h.tdAmount)}}catch(e){u=!0,c=e}finally{try{!d&&m.return&&m.return()}finally{if(u)throw c}}t.formData.validUntil=(0,o.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},bOiH:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("3cXf"),o=n(s),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("7g+Q"),m=n(f),h=a("+62G"),v=n(h),p=a("z5TY"),C=n(p),_=a("SAzG"),y=n(_),b=a("7qeq"),g=(n(b),a("u28h")),w=n(g),I=a("PzEQ"),x=n(I),D=a("iR2W"),P=n(D),k=a("kNGm"),S=n(k),T=a("dyuG"),L=n(T),N=a("L6VY"),M=(n(N),a("jnZd")),A=n(M),O=a("0AQX"),R=a("HyXB"),j=a("bKg5"),$=n(j),B=a("vl8n"),E=n(B),F=a("y8YJ"),U=n(F),q=a("iikc"),Q=n(q),H=a("+WR7"),V=n(H),X=a("Qg39");t.default={data:function(){return{listId:"32a2c333-02a3-416f-a133-95c7a32da678",showDealerPop:!1,dealerInfo:{},formData:{modifer:"",biId:"",dealerDebit:"",drDealerLabel:"",dealerDebitContactPersonName:"",dealerDebitContactInformation:"",opportunityTitle:"",comment:"",tdAmount:"",biProcessStatus:"",validUntil:"",salesPerson:"",salesChannels:"",categoryLabels:[],biComment:""},biReferenceId:"",categoryLabels:[],currentType:[],contactInfo:{}}},directives:{TransferDom:v.default},components:{Cell:c.default,Popup:m.default,Group:C.default,XInput:y.default,PopupPicker:A.default,Datetime:w.default,XTextarea:x.default,PopupRadio:L.default,RPicker:E.default,PopDealerList:U.default,PopSalesmanList:Q.default,PopBaseinfo:V.default},mixins:[$.default],filters:{numberComma:P.default},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],this.formData.dealerDebitContactPersonName=this.dealerInfo.creatorName||"",this.formData.dealerDebitContactInformation=this.dealerInfo.dealerMobilePhone,this.formData.drDealerLabel=this.dealerInfo.dealerLabelName,this.formData.dealerDebit=this.dealerInfo.dealerCode},selContact:function(e){var t=(0,d.default)({},e);this.contactInfo=t,this.formData.dealerDebitContactPersonName=t.dealerName||"",this.formData.dealerDebitContactInformation=t.dealerMobilePhone||""},submitOrder:function(){var e=this,t="",a=[{key:"opportunityTitle",message:"请填写商机标题"},{key:"tdAmount",message:"请填写预期销售额"}];if("{}"==(0,o.default)(this.dealerInfo)&&(t="请选择客户"),t||a.every(function(a){return e.formData[a.key]?!(e.formData[a.key]<0)||(t="抱歉，销售额不允许为负数",!1):(t=a.message,!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=R.saveAndStartWf;e.formData.categoryLabels=e.categoryLabels[0];var a=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName}),n={listId:e.listId,biComment:"",formData:(0,o.default)(a),wfPara:(0,o.default)((0,r.default)({},e.processCode,{businessKey:"OPPT",createdBy:a.creator}))};e.isResubmit&&(t=R.saveAndCommitTask,n.biReferenceId=e.biReferenceId,n.wfPara=(0,o.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=R.submitAndCalc,delete n.wfPara,delete n.biReferenceId),e.biReferenceId&&(n.biReferenceId=e.biReferenceId),e.saveData(t,n)}})},getFormData:function(){var e=this;return(0,O.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=o;r.order;e.dealerInfo={creatorName:r.dealerDebitContactPersonName||"",dealerName:r.dealerName_dealerDebit||"",dealerMobilePhone:r.dealerDebitContactInformation||"",dealerCode:r.dealerDebit||"",dealerLabelName:r.drDealerLabel||"客户",province:r.province_dealerDebit||"",city:r.city_dealerDebit||"",county:r.county_dealerDebit||"",address:r.address_dealerDebit||""},e.contactInfo={dealerName:r.dealerDebitContactPersonName||"",dealerMobilePhone:r.dealerDebitContactInformation||""},e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,d.default)({},e.formData,r,e.handlerDefault,{biComment:r.biComment,biId:r.biId,biProcessStatus:r.biProcessStatus,creator:r.creator,modifer:r.modifer,validUntil:(0,S.default)(r.validUntil,"YYYY-MM-DD")}),e.categoryLabels=[r.categoryLabels],e.biReferenceId=r.biReferenceId,e.$loading.hide()})},checkAmt:function(e){e&&(this.formData.tdAmount=Math.abs((0,X.toFixed)(e)))},getTypeLabel:function(){var e=this;(0,R.getDictByType)("categoryLabels").then(function(t){var a=t.tableContent,n=void 0===a?[]:a,i=[];n.forEach(function(e){i.push(e.name)}),e.currentType.push(i)})},hasDraftData:function(){var e=this.formData;if(e.dealerDebit||e.opportunityTitle||e.tdAmount||e.biProcessStatus)return(0,r.default)({},"SJ_DATA",{formData:e,dealerInfo:this.dealerInfo,contactInfo:this.contactInfo,categoryLabels:this.categoryLabels})}},created:function(){var e=sessionStorage.getItem("SJ_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.contactInfo=t.contactInfo,this.categoryLabels=t.categoryLabels,sessionStorage.removeItem("SJ_DATA")}this.getTypeLabel()}}},bOvy:function(e,t){},bRMi:function(e,t,a){"use strict";function n(e){a("IF3Z")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("OX8B");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("4hfg"),o=a.n(s),l=a("Qv7O"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-f75a3cb4",null);t.default=c.exports},bVic:function(e,t,a){"use strict";function n(e){a("8G1U")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("gS95");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("6a8u"),o=a.n(s),l=a("O98M"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-f00a863c",null);t.default=c.exports},bYoS:function(e,t,a){"use strict";function n(e){a("S4EA")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("g27m");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("w9YQ"),o=a.n(s),l=a("z/Aa"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-6154145a",null);t.default=c.exports},bZiz:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"vux-flexbox",class:{"vux-flex-col":"vertical"===e.orient,"vux-flex-row":"horizontal"===e.orient},style:e.styles},[e._t("default")],2)},i=[],r={render:n,staticRenderFns:i};t.a=r},bi1e:function(e,t){},bjWb:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("5VC7"),r=n(i),s=a("5Puw"),o=n(s),l=a("YkGp"),d=n(l),u=a("rHhR"),c=n(u),f=a("nVpM"),m=n(f),h=a("WVmE"),v=n(h),p=a("QMWr"),C=n(p),_=a("erBg"),y=n(_),b=a("fsDx"),g=n(b),w=a("iBgG"),I=n(w),x=a("OZZT"),D=n(x),P=a("qMm6"),k=n(P),S=a("GwOs"),T=n(S),L=a("wNbs"),N=n(L),M=a("5cYO"),A=n(M),O=a("16Wp"),R=n(O),j=a("qwja"),$=n(j),B=a("0UVS"),E=n(B),F=a("bYoS"),U=n(F);t.default=[{path:"/home",name:"HOME",component:r.default,meta:{title:"首页",keepAlive:!0}},{path:"/commentList",name:"COMMENTLIST",component:R.default,meta:{title:"评论"}},{path:"/dashboard",name:"DASHBOARD",component:A.default,meta:{title:"仪表视图"}},{path:"/related/:listId",name:"RELATED",component:N.default,meta:{title:"相关实例"}},{path:"/list/:fileId/:listId",name:"LIST",component:D.default,meta:{title:"列表",keepAlive:!0}},{path:"/fillform/:fileId/:listId",name:"FILLFORM",component:k.default,meta:{title:"填写新内容"}},{path:"/detail/:fileId/:listId",name:"DETAIL",component:T.default,meta:{title:"订单详情"}},{path:"/appDetail/:listId",name:"APPDETAIL",component:$.default,meta:{title:"应用详情"},children:[{path:"addLog",name:"ADDLOG",component:E.default,meta:{title:"新增日志"}},{path:"addAdminComment",name:"ADDADMINCOMMENT",component:U.default,meta:{title:"新增管理员评论"}}]},{path:"/adress",name:"ADRESS",component:o.default,meta:{title:"往来列表"},children:[{path:"edit_ads",name:"EDIT_ADS",component:d.default,meta:{title:"编辑往来"}},{path:"adressDetail",name:"ADRESSDETAL",component:c.default,meta:{title:"往来详情"}}]},{path:"/materlist",name:"MATERLIST",component:m.default,meta:{title:"物料列表"},children:[{path:"addMater",name:"ADDMATER",component:v.default,meta:{title:"新增物料"}},{path:"materDetail",name:"MATERDETAIL",component:C.default,meta:{title:"物料详情"}}]},{path:"/warehouse",name:"WAREHOUSE",component:y.default,meta:{title:"仓库列表"},children:[{path:"edit_warehouse",name:"EDIT_WAREHOUSE",component:g.default,meta:{title:"编辑仓库"}},{path:"warehouseDetail",name:"WAREHOUSEDETAIL",component:I.default,meta:{title:"仓库详情"}}]},{path:"/",redirect:"/home"},{path:"*",redirect:"/home"}]},bl0S:function(e,t){},bnXU:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("KH7x"),r=n(i),s=a("4YfN"),o=n(s),l=a("kNGm"),d=n(l),u=a("hFVz"),c=n(u);t.default={filters:{dateFormat:d.default},data:function(){return{transCode:"",MatPic:"",imgFileObj:{},dealer:{},baseinfo:{}}},methods:{findData:function(){var e=this;return c.default.getDealerInfo(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=t.attachment,s=void 0===i?[]:i,l=n.baseinfo,d=void 0===l?{}:l,u=n.dealer,c=void 0===u?{}:u;switch(c.dealerStatus){case"1":c.dealerStatus="使用中";break;case"2":c.dealerStatus="未使用";break;case"0":c.dealerStatus="草稿";break;case"-1":c.dealerStatus="停用"}e.hasDefault=!0,e.baseinfo=(0,o.default)({},e.baseinfo,d),e.dealer=(0,o.default)({},e.dealer,c);for(var f in e.dealer)""==e.dealer[f]&&(e.dealer[f]="无");e.biReferenceId=e.dealer.referenceId,e.dealer.dealerPic?e.MatPic="/H_roleplay-si/ds/download?url="+e.dealer.dealerPic+"&width=400&height=400":e.getDefaultImg();var m=s.filter(function(t){return t.attacthment===e.dealer.dealerPic}),h=(0,r.default)(m,1),v=h[0],p=void 0===v?{}:v;e.imgFileObj=p,e.$loading.hide()}).catch(function(t){e.$loading.hide(),e.$vux.alert.show({content:t.message})})},getDefaultImg:function(){this.MatPic=a("tVsm")}},created:function(){this.$loading.show();var e=this.$route.query;e.transCode&&(this.transCode=e.transCode,this.findData())}}},bsms:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages cpxq-list-container"},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"each_duty",class:{visited:t.visited},on:{click:function(a){e.goDetail(t,n)}}},[a("div",{staticClass:"duty_top"},[a("p",{staticClass:"duty_code"},[e._v("\n            "+e._s(t.transCode)+"\n            "),t.processStatus?a("span",{staticClass:"duty_crt_man"},[e._v(e._s(t.processStatus))]):e._e()]),e._v(" "),a("span",{staticClass:"duty_status",class:t.statusClass},[e._v(e._s(t.statusName))]),e._v(" "),a("i",{staticClass:"iconfont",class:t.whichIcon})]),e._v(" "),a("div",{staticClass:"duty_content"},[a("div",{staticClass:"content_title"},[e._v(e._s(t.hiresName))]),e._v(" "),a("div",{staticClass:"content_step vux-1px-b"},[a("div",[e._v("部门: "+e._s(t.hiresDepartMent))]),e._v(" "),a("div",[e._v("岗位: "+e._s(t.hiresPost))])])]),e._v(" "),a("div",{staticClass:"order_count"},[t.handlerName?a("div",{staticClass:"handle_man"},[e._v("\n            "+e._s(t.handlerName)),a("span",{staticStyle:{fontSize:".1rem"}},[e._v("[经办人]")])]):e._e()])])}))],1),e._v(" "),a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},bvWr:function(e,t){},bx48:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mater-list-item",class:{visited:e.item.visited}},[a("div",{staticClass:"duty_top"},[a("p",{staticClass:"duty_code"},[e._v("\n      "+e._s(e.item.transCode)+"\n      "),e.item.processStatus?a("span",{staticClass:"duty_crt_man"},[e._v(e._s(e.item.processStatus))]):e._e()]),e._v(" "),a("span",{staticClass:"duty_status",class:e.item.statusClass},[e._v(e._s(e.item.statusName))]),e._v(" "),a("i",{staticClass:"iconfont",class:e.item.whichIcon})]),e._v(" "),!e.isMoreDealer&&e.item.dealerName?a("div",{staticClass:"dealer_part"},[a("div",{staticClass:"dealer_name"},[e.isDealer?a("div",[a("span",{staticClass:"iconfont icon-kehu1"}),e._v(e._s(e.item.dealerName)+"\n      ")]):a("div",[a("span",{staticClass:"iconfont icon-gongren2"}),e._v(e._s(e.item.dealerName)+"\n      ")])])]):e._e(),e._v(" "),e.item.warehouseName_containerCode||e.item.warehouseName_containerCodeOut?a("div",{staticClass:"dealer_part warehouse"},[a("div",{class:{"vux-1px-t dealer_name":!e.item.dealerName}},[e.item.warehouseName_containerCodeOut?[a("i",{staticClass:"iconfont icon--"}),a("span",[e._v("出库 - "+e._s(e.item.warehouseName_containerCodeOut))])]:e._e(),e._v(" "),e.item.warehouseName_containerCode&&e.item.warehouseName_containerCodeOut?a("span",{staticClass:"division-line"},[e._v("|")]):e._e(),e._v(" "),e.item.warehouseName_containerCode?[a("i",{staticClass:"iconfont icon--"}),a("span",[e._v(e._s(e.item.transCode.includes("STCK")?"":"入库 - ")+e._s(e.item.warehouseName_containerCode))])]:e._e()],2)]):e._e(),e._v(" "),a("ul",{staticClass:"duty_matter"},e._l(e.item.detailItem,function(t,n){return n<3?a("li",{key:n,staticClass:"duty_matter_item",class:{"is-matched-mat":t.matchedMat}},[a("div",{staticClass:"matter_img"},[a("img",{attrs:{src:t.inventoryPic},on:{error:function(a){e.getDefaultImg(t)}}})]),e._v(" "),a("div",{staticClass:"matter_main"},[a("div",{staticClass:"main_top"},[a("div",{staticClass:"matter_info"},[a("div",{staticClass:"matter_name"},[e._v(e._s(t.inventoryName))]),e._v(" "),a("div",{staticClass:"matter_units"},[a("span",[e._v("编码: "+e._s(t.inventoryCode))]),e._v(" "),a("span",[e._v("规格: "+e._s(t.specification_outPutMatCode||t.specification||"无"))])]),e._v(" "),a("div",{staticClass:"matter_units"},[e._v("单位: "+e._s(t.measureUnit_outPutMatCode||t.measureUnit))])]),e._v(" "),a("div",{staticClass:"matter_price_part"},[e.noPrice?e._e():a("p",{staticClass:"price_num"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("toFixed")(t.price))+"\n            ")]),e._v(" "),e.noQty?e._e():a("p",{staticClass:"mater_count"},[a("span",{staticClass:"symbol"},[e._v("x")]),e._v(e._s(e._f("toFixed")(t.tdQty))+"\n            ")])])])])]):e._e()})),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.item.itemCount>3,expression:"item.itemCount > 3"}],staticClass:"tips_part"},[a("span",{staticClass:"iconfont icon-shenglvehao"}),e._v(" "),a("div",{staticClass:"more"},[a("span",[e._v("共 "+e._s(e.item.itemCount)+" 条物料，查看更多")]),e._v(" "),a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-arrow-right",attrs:{type:"ios-arrow-right",size:"12",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M160 115.4L180.7 96 352 256 180.7 416 160 396.7 310.5 256z"}})])])]),e._v(" "),a("div",{staticClass:"order_count"},[e.noCount?e._e():a("div",{staticClass:"money_part"},[a("span",{staticClass:"num"},[e._v("共"+e._s(e.item.totalQty)+"件")]),e._v(" "),a("span",{staticClass:"num"},[e._v("合计:")]),e._v(" "),a("span",{staticClass:"money"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(e.item.count),3))+"\n      ")])])]),e._v(" "),a("div",{staticClass:"other_part"},[a("p",{staticClass:"duty_time"},[e._v(e._s(e.item.modTime)),a("span",{staticStyle:{fontSize:".1rem"}},[e._v("[修改时间]")])]),e._v(" "),a("div",{staticClass:"handle_man"},[e._v("\n      "+e._s(e.item.handlerName)),a("span",{staticStyle:{fontSize:".1rem"}},[e._v("[经办人]")])])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},bxyf:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("3cXf"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("bFc7"),p=n(v),C=a("6WeX"),_=n(C),y=a("3NX5"),b=n(y),g=a("zWMP"),w=a("Qg39");t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"",contactInfo:{},orderList:{}}},components:{workFlow:h.default,RAction:f.default,contactPart:p.default,PriceTotal:_.default,MatterList:b.default},mixins:[u.default],methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(e.submitInfo=JSON.parse((0,o.default)(t)),!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a={},n=t.formData.order.dataSet,i=!0,s=!1,l=void 0;try{for(var d,u=(0,r.default)(n);!(i=(d=u.next()).done);i=!0){var c=d.value;c.noTaxAmount=(0,g.accMul)(c.price,c.tdQty),c.taxAmount=(0,g.accMul)(c.noTaxAmount,c.taxRate),c.tdAmount=(0,w.toFixed)((0,g.accAdd)(c.noTaxAmount,c.taxAmount)),e.count=(0,g.accAdd)(e.count,c.tdAmount),c.inventoryPic=c.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+c.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),a[c.transMatchedCode]||(a[c.transMatchedCode]=[]),a[c.transMatchedCode].push(c)}}catch(e){s=!0,l=e}finally{try{!i&&u.return&&u.return()}finally{if(s)throw l}}e.orderList=a,e.attachment=t.attachment,e.orderInfo=t.formData,e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo={creatorName:a.dealerDebitContactPersonName,dealerName:a.dealerName_dealerDebit,dealerMobilePhone:t.dealerDebitContactInformation,dealerContactPersonName:t.dealerDebitContactPersonName,dealerCode:a.dealerDebit,dealerLabelName:a.drDealerLabel,province:a.province_dealerDebit,city:a.city_dealerDebit,county:a.county_dealerDebit,address:a.address_dealerDebit,payment:a.drDealerPaymentTerm,logistics:t.drDealerLogisticsTerms,pamentDays:a.daysOfAccount}}}}},c0Xs:function(e,t){},c2fw:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"search"},[a("form",{staticClass:"search_part",class:{"has-filter":e.filterList.length},attrs:{action:""},on:{submit:function(t){t.preventDefault(),e.searchMat(e.srhInpTx)}}},[a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-search serach_icon",attrs:{type:"ios-search",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M448.3 424.7L335 311.3c20.8-26 33.3-59.1 33.3-95.1 0-84.1-68.1-152.2-152-152.2-84 0-152 68.2-152 152.2s68.1 152.2 152 152.2c36.2 0 69.4-12.7 95.5-33.8L425 448l23.3-23.3zM120.1 312.6c-25.7-25.7-39.8-59.9-39.8-96.3s14.2-70.6 39.8-96.3 59.9-40 96.2-40c36.3 0 70.5 14.2 96.2 39.9s39.8 59.9 39.8 96.3-14.2 70.6-39.8 96.3c-25.7 25.7-59.9 39.9-96.2 39.9-36.3.1-70.5-14.1-96.2-39.8z"}})]),e._v(" "),e.filterList.length?a("r-dropdown",{attrs:{list:e.filterList},on:{"on-selected":e.popSelected}}):e._e(),e._v(" "),a("input",{staticClass:"srh_inp",attrs:{type:"search",autocomplete:"off"},domProps:{value:e.srhInpTx},on:{input:function(t){e.getValue(t)}}}),e._v(" "),e.isFill?a("div",{staticClass:"pop_cfm",class:{pop_cancel:!e.srhInpTx.length},on:{click:function(t){e.searchMat(e.srhInpTx)}}},[e._v(e._s(e.srhInpTx.length>0?"搜索":"返回")+"\n    ")]):a("div",{staticClass:"pop_cfm",on:{click:function(t){e.searchMat(e.srhInpTx)}}},[e._v("搜索")]),e._v(" "),e.srhInpTx?a("icon",{staticClass:"clear_icon",attrs:{type:"clear"},nativeOn:{click:function(t){return e.clear(t)}}}):e._e()],1)])},i=[],r={render:n,staticRenderFns:i};t.a=r},c3Wr:function(e,t,a){"use strict";function n(e){a("+qoX")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("nYup");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("gPpb"),o=a.n(s),l=a("9arH"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-cda55914",null);t.default=c.exports},c5qY:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"price_detail",class:{"only-count":e.onlyCount}},[e.taxAmt>0?a("div",{staticClass:"price_list"},[a("div",{staticClass:"title"},[e._v("税金")]),e._v(" "),a("div",{staticClass:"num"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(e.taxAmt),3)))])]):e._e(),e._v(" "),e.amt>0?a("div",{staticClass:"price_list"},[a("div",{staticClass:"title"},[e._v("金额")]),e._v(" "),a("div",{staticClass:"num"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(e.amt),3)))])]):e._e(),e._v(" "),e.noCount?e._e():a("div",{staticClass:"price_count vux-1px-t"},[a("span",{staticClass:"title"},[e._v("合计:")]),e._v(" "),a("span",{staticClass:"num"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(e.count),3)))])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},c6WW:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("I3vJ"),v=a("1KNX"),p=n(v),C=a("7biW"),_=n(C);t.default={name:"PopProcedureList",props:{defaultValue:{type:Object,default:function(){return{}}},required:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"}},components:{Icon:c.default,Popup:m.default,RScroll:p.default,RSearch:_.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:100,page:1,hasNext:!0,scrollOptions:{pullUpLoad:!0},filterProperty:"",filterList:[{name:"名称",value:"procedureName"},{name:"编码",value:"procedureCode"}]}},watch:{defaultValue:{handler:function(e){this.selItems=(0,d.default)({},this.defaultValue)},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},showSelIcon:function(e){return this.selItems.procedureCode===e.procedureCode},selThis:function(e,t){this.selItems=(0,d.default)({},e),this.showPop=!1,this.$emit("sel-item",(0,d.default)({},e))},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,h.getUsingProcedure)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,o.default)(e.listData),(0,o.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.resetCondition(),this.getList()},onPullingUp:function(){this.page++,this.getList()},resetCondition:function(){this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)}},created:function(){this.getList()}}},c6ZO:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("4YfN"),o=n(s),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("6q39"),v=n(h),p=a("qE8w"),C=a("1KNX"),_=n(C),y=a("7biW"),b=n(y);t.default={name:"PopInvoiceList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},params:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:m.default,LoadMore:v.default,RScroll:_.default,MSearch:b.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],costList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},dataCount:0}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}},params:{handler:function(){this.getCostList()},deep:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){var t=!1;return this.selItems&&this.selItems.every(function(a){return e.transCode!==a.transCode||(t=!0,!1)}),t},selThis:function(e,t){var a="";if(this.selItems.every(function(t){return e.transCode!==t.transCode||(a="该出库单已选择，请选择其他",!1)}),a)return void this.$vux.alert.show({content:a});this.selItems.push(e),this.showPop=!1,this.$emit("sel-matter",e)},setDefaultValue:function(){var e=this;this.selItems=[],this.defaultValue.forEach(function(t){t.transCode&&e.selItems.push(t)})},getCostList:function(){var e=this,t=[],a=p.getBillingApplication;return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"transCode"}])),a((0,o.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.dataCount=n,e.hasNext=n>(e.page-1)*e.limit+r.length,e.costList=1===e.page?r:[].concat((0,d.default)(e.costList),(0,d.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.costList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getCostList()},onPullingUp:function(){this.page++,this.getCostList()}},created:function(){this.setDefaultValue(),this.getCostList()}}},c6mz:function(e,t){},c7IX:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("div",{staticClass:"title"},[a("m-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}})],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"no-data":!e.data.length}},e._l(e.data,function(t,n){return a("div",{key:n,staticClass:"each_mater box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"mater_main "},[a("div",{staticClass:"mater_name"},[e._v(e._s(t.name))])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}))],1)])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},c7LW:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70"}},mixins:[u.default],components:{workFlow:h.default,RAction:f.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=!0,i=!1,s=void 0;try{for(var l,d=(0,r.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;e.count=(0,v.accAdd)(e.count,u.tdAmount)}}catch(e){i=!0,s=e}finally{try{!n&&d.return&&d.return()}finally{if(i)throw s}}t.formData.validUntil=(0,o.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},c8eI:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("a3Yh"),o=n(s),l=a("3cXf"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("7g+Q"),C=n(p),_=a("PzEQ"),y=n(_),b=a("jnZd"),g=n(b),w=a("0AQX"),I=a("HyXB"),x=(a("jLp1"),a("bKg5")),D=n(x),P=a("N2r1"),k=n(P),S=a("vl8n"),T=n(S),L=a("+WR7"),N=n(L),M=a("zWMP"),A=a("Qg39");t.default={mixins:[D.default],components:{Cell:c.default,Group:m.default,Popup:C.default,XInput:v.default,XTextarea:y.default,PopCostList:k.default,PopupPicker:g.default,RPicker:T.default,PopBaseinfo:N.default},data:function(){return{listId:"18800986-a50f-11e8-96a5-005056a136d0",biComment:"",biReferenceId:"",showCostPop:!1,CostList:[{exptName:"",expCode:"",expSubject:"",costType_expCode:"",tdInvoiceType:["普票"],tdAmount:"",noTaxAmount:"",taxRate:.16,taxAmount:"",expCause:""}],invoiceTypeList:[["普票","专票"]],selectedCost:[],costIndex:0,transCode:"",formData:{biComment:"",biProcessStatus:""}}},computed:{totalAmount:function(){var e=0;return this.CostList.forEach(function(t){t.tdAmount&&(e=(0,M.accAdd)(e,t.tdAmount))}),e}},methods:{checkAmt:function(e){var t=e.tdAmount,a=e.taxRate;a&&(e.taxRate=Math.abs((0,A.toFixed)(a))),t&&(e.tdAmount=Math.abs((0,A.toFixed)(t)),e.noTaxAmount=Math.abs((0,A.toFixed)((0,M.accDiv)(e.tdAmount,1+e.taxRate))),e.taxAmount=(0,A.toFixed)((0,M.accSub)(e.tdAmount,e.noTaxAmount)))},getCost:function(e,t){this.showCostPop=!0,this.costIndex=e,this.selectedCost=[t]},addCost:function(){this.expSubjectList=[],this.CostList.push({exptName:"",expCode:"",expSubject:"",costType_expCode:"",tdInvoiceType:["普票"],tdAmount:"",noTaxAmount:"",taxRate:.16,taxAmount:"",expCause:""})},deleteCost:function(){this.CostList.pop()},selMatter:function(e){var t=e;this.CostList[this.costIndex].exptName=t.costName,this.CostList[this.costIndex].expCode=t.costCode,this.CostList[this.costIndex].expSubject=t.costSubject,this.CostList[this.costIndex].costType_expCode=t.costType},submitOrder:function(){var e=this,t="",a=[];if(this.CostList.every(function(e){return e.exptName?e.tdAmount?(a.push({tdId:e.tdId||"",expCode:e.expCode,expSubject:e.expSubject,costType_expCode:e.costType_expCode||"",tdInvoiceType:e.tdInvoiceType[0],tdAmount:e.tdAmount,noTaxAmount:e.noTaxAmount,taxRate:e.taxRate,taxAmount:e.taxAmount,expCause:e.expCause}),!0):(t="请填写申请金额",!1):(t="请选择费用名称",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=I.saveAndStartWf,n=(0,o.default)({},e.processCode,{businessKey:"REIM2",createdBy:(0,d.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:"",formData:(0,d.default)((0,r.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{crDealerLabel:"员工",dealerCodeCredit:e.formData.userCode,departmentName:e.formData.handlerUnitName,dataSet:a}})),wfPara:(0,d.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=I.saveAndCommitTask),e.processCode.length||(t=I.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,w.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.attachment=t.attachment,e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.CostList=[];var a=t.formData;e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,r.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),a.order.dataSet.forEach(function(t){var a={exptName:t.costName_expCode,expCode:t.expCode,costType_expCode:t.costType_expCode,expSubject:t.expSubject,tdAmount:t.tdAmount,noTaxAmount:t.noTaxAmount,taxRate:t.taxRate,taxAmount:t.taxAmount,expCause:t.expCause,tdId:t.tdId};e.CostList.push(a)}),e.$loading.hide()})},hasDraftData:function(){var e=!1;return this.CostList.forEach(function(t){if(t.exptName)return e=!0,!1}),!!e&&(0,o.default)({},"FYBX_DATA",{cost:this.CostList,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("FYBX_DATA");if(e){var t=JSON.parse(e);this.CostList=t.cost,this.formData=t.formData,sessionStorage.removeItem("FYBX_DATA")}}}},cBID:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HXPS"),r=n(i),s=a("7g+Q"),o=n(s),l=a("6q39"),d=n(l),u=a("1KNX"),c=n(u),f=a("7biW"),m=n(f);t.default={name:"GroupList",props:{show:{type:Boolean,default:!1},defaultValue:{type:String,default:""},data:{type:Array,default:function(){return[]}}},components:{Icon:r.default,Popup:o.default,LoadMore:d.default,RScroll:c.default,MSearch:m.default},data:function(){return{showPop:!1,scrollOptions:{click:!0}}},watch:{show:{handler:function(e){this.showPop=e}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){var t=!1;return e.name===this.defaultValue&&(t=!0),t},selThis:function(e,t){this.showPop=!1,this.$emit("sel-group",e.name)},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.$emit("list-search",a)}},created:function(){}}},cD0w:function(e,t){},cEB7:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages xsbj-list-conatiner",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noQty:"",noCount:""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}))],1),e._v(" "),e.action.add?a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},cEa5:function(e,t,a){"use strict";function n(e){a("mc4V")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("fkNu");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("rAju"),o=a.n(s),l=a("Fuh6"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-91c5457a",null);t.default=c.exports},cG8U:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=(a("XAqG"),a("HyXB"),a("MjAd")),o=n(s),l=a("ak47");n(l);t.default={name:"CPXQ_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"经办人",value:"handlerName"},{name:"交易号",value:"transCode"},{name:"员工",value:"profileName"}],listViewID:2375}},mixins:[o.default],methods:{pathChange:function(e,t,a){var n=this;if(!this.clickVisited){var i=e.transCode,s=this.$route.query.name,o=this.$route.params,l=o.fileId,d=o.listId;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,r.default)({},e));var u=a+"/"+l+"/"+d;setTimeout(function(){n.clickVisited=!1,n.$router.push({path:u,query:{name:s,transCode:i}})},200)}},goDetail:function(e,t){this.pathChange(e,t,"/detail")},goUserEdit:function(e,t){this.pathChange(e,t,"/fillform")}}}},cIwV:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"vux-cell-box weui-cell",class:e.className,style:e.style,on:{click:e.onClick}},[e._t("default")],2)},i=[],r={render:n,staticRenderFns:i};t.a=r},cNmV:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"upload-image-container vux-1px-l"},[a("input",{staticStyle:{display:"none"},attrs:{type:"file",name:"file",id:"upload-image",accept:"image/*"},on:{change:e.uploadFile}}),e._v(" "),a("label",{staticClass:"label",attrs:{for:"upload-image"}}),e._v(" "),e.imgSrc?a("img",{staticClass:"upload",attrs:{src:e.imgSrc},on:{load:e.imgLoad,error:function(t){e.getDefaultImg()}}}):a("div",{staticClass:"upload"},[a("span",{staticClass:"iconfont icon-icon"}),e._v(" "),a("span",{staticClass:"add_text"},[e._v("增加图片")])]),e._v(" "),a("spinner",{directives:[{name:"show",rawName:"v-show",value:e.showLoading,expression:"showLoading"}],staticClass:"loading vux-1px-l",attrs:{type:"circles"}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},cQ92:function(e,t,a){"use strict";function n(e){a("MW8P")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Bd2n");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("7Fqm"),o=a.n(s),l=a("VSbR"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-19ff0296",null);t.default=c.exports},cSeH:function(e,t){},cSgu:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages kcpd-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-warehouse-list",{attrs:{title:"仓库名称","default-value":e.warehouseIn,isRequired:""},on:{"sel-item":e.selWarehouseIn}}),e._v(" "),a("div",{staticClass:"materiel_list"},[e.matterList.length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v("物料列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.matterList,function(t,n){return a("div",{key:n,staticClass:"each_mater",class:{mater_delete:e.matterModifyClass,"vux-1px-b":n<e.matterList.length-1}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass},on:{"on-modify":function(a){e.modifyMatter(t,n)}},nativeOn:{click:function(a){e.delClick(n,t)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_more"},[a("span",{staticClass:"processing"},[e._v("属性: "+e._s(n.processing))]),e._v(" "),a("span",{staticClass:"unit"},[e._v("单位: "+e._s(n.measureUnit))])]),e._v(" "),a("div",{staticClass:"mater_more"},[a("span",{staticClass:"symbol"},[e._v("库存余额: "+e._s(n.qtyBal))]),e._v(" "),a("span",{staticClass:"symbol"},[e._v("计划占用: "+e._s(n.qtyLock))]),e._v(" "),a("span",{staticClass:"symbol"},[e._v("可用库存: "+e._s(n.thenQtyStock))])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:n.tdQty,expression:"item.tdQty"}],staticClass:"mater_num"},[e._v("\n                    盘点数量: "),a("span",{staticClass:"num"},[e._v(e._s(n.tdQty))]),e._v("\n                    差异数量: "),a("span",{staticClass:"diff_num"},[e._v(e._s(n.differenceNum))])])]}},{key:"edit",fn:function(t){var i=t.item;return[i.tdQty||e.matterModifyClass?e._e():a("div",{staticClass:"mater_other",on:{click:function(t){e.modifyMatter(i,n)}}},[a("div",{staticClass:"edit-tips"},[e._v("点击进行填写")])])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(n,t)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)}))]:[a("div",{on:{click:function(t){e.showMaterielPop=!e.showMaterielPop}}},[a("div",{staticClass:"title"},[e._v("物料列表")]),e._v(" "),a("div",{staticClass:"tips"},[e._v("请选择物料")]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),e.matterList.length?a("span",{staticClass:"add_more",on:{click:e.addMatter}},[e._v("新增更多物料")]):e._e()]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showMaterielPop,"default-value":e.matterList,"get-list-method":"getKCPDList",params:e.warehouseParams},on:{"sel-matter":e.selMatter},model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}})],2),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,"is-show-amount":!1},on:{"sel-confirm":e.selConfirm},scopedSlots:e._u([{key:"modify",fn:function(t){var n=t.modifyMatter;return[a("x-input",{attrs:{title:"盘点数量",type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",e._n(t))},expression:"modifyMatter.tdQty"}}),e._v(" "),a("cell",{class:{high_light:0!==n.differenceNum},attrs:{title:"差异数量","text-align":"right",placeholder:"请填写",value:n.differenceNum}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("差异数量\n              ")])])],2)]}}]),model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode"},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-circle-outline 'outline' v-show=selItems.length !== matterList.length",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"btn-item",on:{click:e.save}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},cW3i:function(e,t){},cXOI:function(e,t){},caTQ:function(e,t,a){"use strict";function n(e){a("Koy8")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("5KgG");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("FFsY"),o=a.n(s),l=a("OIav"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-c482a458",null);t.default=c.exports},"car/":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MjAd"),r=n(i),s=(a("vS5q"),a("4bt0")),o=n(s);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2382,chartShow:!1,hasNext:!0,scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0}}},components:{ApplyChart:o.default},mixins:[r.default],methods:{}}},ccXV:function(e,t){},ccoT:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2504,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[i.default],methods:{},created:function(){}}},ceHg:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("KH7x"),o=n(s),l=a("4YfN"),d=n(l),u=a("+62G"),c=n(u),f=a("Nk/b"),m=n(f),h=a("7g+Q"),v=n(h),p=a("z5TY"),C=n(p),_=a("wDjS"),y=n(_),b=a("KFOb"),g=n(b),w=a("HXPS"),I=n(w),x=a("HyXB"),D=a("hFVz"),P=n(D),k=a("vl8n"),S=n(k),T=a("PKHo"),L=n(T),N=a("1KNX"),M=n(N),A=a("5gKc"),O=n(A);t.default={data:function(){return{addressData:g.default,transCode:"",picShow:!1,imgFileObj:{},MatPic:"",AccountRelType:[],AccountAddress:[],pickerStatus:!1,showAddress:!1,dealerType:[],PhoneWarn:!1,MobileWarn:!1,EmailWarn:!1,baseinfo:{handler:"",handlerName:"",handlerArea:"",handlerAreaName:"",handlerUnit:"",handlerUnitName:"",handlerRole:"",handlerRoleName:"",activeTime:"",comment:""},dealer:{dealerCode:"",dealerName:"",dealerLabelName:"",province:"",city:"",county:"",address:"",dealerPhone:"",dealerMobilePhone:"",dealerMail:"",paymentTerm:"",dealerLogisticsTerms:"",pamentDays:"",dealerStatus:"",comment:"",dealerPic:""},statusList:[],dealerStatus:"使用中",submitSuccess:!1,scrollOptions:{click:!0}}},computed:{disabledSubmit:function(){return this.PhoneWarn||this.MobileWarn||this.EmailWarn}},directives:{TransferDom:c.default},mixins:[L.default],components:{Picker:m.default,Popup:v.default,Group:C.default,RPicker:S.default,XAddress:y.default,Icon:I.default,RScroll:M.default,UploadImage:O.default},methods:{onUpload:function(e){this.dealer.dealerPic=e.src},getDealer:function(){var e=this;return P.default.getDictByType().then(function(t){var a=t.tableContent;return a&&a.forEach(function(e){e.selected=!1}),e.AccountRelType=a,e.$nextTick(function(){e.$refs.bScroll.refresh()}),a}).catch(function(t){e.$vux.alert.show({content:t.message})})},DealerPop:function(){var e=this;this.pickerStatus=!0,this.dealerType=[],this.dealer.dealerLabelName.split(",").forEach(function(t){var a={name:t};e.dealerType.push(a)})},getStatus:function(){var e=this;return(0,x.getDictByType)("objStatus").then(function(t){var a=t.tableContent;a&&a.forEach(function(e){e.originValue=e.name,e.value=e.name}),e.statusList=a})},onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},showSelIcon:function(e){return-1!==this.dealerType.findIndex(function(t){return t.name===e.name})},selectType:function(e){e.selected=!e.selected;var t=this.dealerType,a=t.findIndex(function(t){return t.name===e.name});if(-1!==a)return void t.splice(a,1);t.push(e)},cfmMater:function(){var e=this;this.pickerStatus=!1,this.dealer.dealerLabelName="",this.dealerType.forEach(function(t){if(e.dealer.dealerLabelName.length)return void(e.dealer.dealerLabelName+=","+t.name);e.dealer.dealerLabelName+=t.name})},checkPhone:function(){var e=/^0\d{2,3}-\d{7,8}$/;if(this.dealer.dealerPhone.length>0&&!e.test(this.dealer.dealerPhone))return void(this.PhoneWarn=!0);this.PhoneWarn=!1},checkMobile:function(){var e=/^[1][3,4,5,7,8][0-9]{9}$/;if(this.dealer.dealerMobilePhone.length>0&&!e.test(this.dealer.dealerMobilePhone))return void(this.MobileWarn=!0);this.MobileWarn=!1},checkEmail:function(){var e=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;if(this.dealer.dealerMail.length>0&&!e.test(this.dealer.dealerMail))return void(this.EmailWarn=!0);this.EmailWarn=!1},findData:function(){var e=this;return P.default.getDealerInfo(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=t.attachment,r=void 0===i?[]:i,s=n.baseinfo,l=void 0===s?{}:s,u=n.dealer,c=void 0===u?{}:u;switch(c.dealerStatus){case"1":e.dealerStatus="使用中";break;case"2":e.dealerStatus="未使用";break;case"0":e.dealerStatus="草稿";break;case"-1":e.dealerStatus="停用"}e.baseinfo=(0,d.default)({},e.baseinfo,l),e.dealer=(0,d.default)({},e.dealer,c),e.dealer.dealerPic.length>0?(e.picShow=!0,e.MatPic="/H_roleplay-si/ds/download?url="+e.dealer.dealerPic+"&width=400&height=400"):(e.picShow=!0,e.getDefaultImg());var f=r.filter(function(t){return t.attacthment===e.dealer.dealerPic}),m=(0,o.default)(f,1),h=m[0],v=void 0===h?{}:h;e.AccountAddress=[e.dealer.province,e.dealer.city,e.dealer.county],e.imgFileObj=v})},getDefaultImg:function(){this.MatPic=a("tVsm")},changeAddress:function(e,t){this.AccountAddress=t},getAddress:function(){if(this.AccountAddress.length>0){if(this.dealer.province=this.AccountAddress[0],this.dealer.county=this.AccountAddress[2],"市辖区"===this.AccountAddress[1])return void(this.dealer.city="");this.dealer.city=this.AccountAddress[1]}},submit:function(){var e=this;for(var t in this.dealer)"string"==typeof this.dealer[t]&&this.dealer[t].indexOf(" ")>=0&&(this.dealer[t]=this.dealer[t].replace(/\s/g,""));this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){switch(e.dealerStatus){case"使用中":e.dealer.dealerStatus="1";break;case"未使用":e.dealer.dealerStatus="2";break;case"草稿":e.dealer.dealerStatus="0";break;case"停用":e.dealer.dealerStatus="-1"}e.dealer.status&&delete e.dealer.status;var t={listId:"c0375170-d537-4f23-8ed0-a79cf75f5b04",formData:{baseinfo:e.baseinfo,dealer:e.dealer}};e.transCode?P.default.update(t).then(function(t){t.success?(e.submitSuccess=!0,e.$vux.alert.show({content:"修改成功",onHide:function(){e.$router.go(-1)}})):e.$vux.alert.show({content:t.message})}):P.default.save(t).then(function(t){t.success?(e.submitSuccess=!0,e.$vux.alert.show({content:"提交成功",onHide:function(){if(1===e.$route.query.add){var t=[e.dealer];sessionStorage.setItem("DEALERLIST_SELITEMS",(0,r.default)(t))}e.$router.go(-1)}})):e.$vux.alert.show({content:t.message})})}})},save:function(){var e=this;if(!this.disabledSubmit){var t="";if([{key:"dealerCode",message:"【往来编码】"},{key:"dealerName",message:"【往来名称】"},{key:"dealerLabelName",message:"【往来类型】"}].every(function(a){return""!==e.dealer[a.key]||(t=a.message+"不能为空",!1)}),!t&&this.PhoneWarn&&(t="电话号码格式不正确"),!t&&this.MobileWarn&&(t="手机号码格式不正确"),!t&&this.EmailWarn&&(t="邮件格式不正确"),t)return void this.$vux.alert.show({content:t});this.submit()}}},created:function(){var e=this;this.$loading.show();var t=this.$route.query;t.transCode?(this.transCode=t.transCode,this.findData(),this.getStatus(),this.getDealer().then(function(){e.$loading.hide()})):(this.getDealer().then(function(t){e.$loading.hide();var a=(0,o.default)(t,1),n=a[0],i=void 0===n?{}:n;e.$route.query.pickVal?(e.dealer.dealerLabelName=e.$route.query.pickVal,e.pickerStatus=!1):e.dealer.dealerLabelName=e.$route.query.dealerType?e.$route.query.dealerType:i.name}),(0,x.getBaseInfoDataBase)().then(function(t){e.baseinfo=(0,d.default)({},e.baseinfo,t,{activeTime:e.changeDate(new Date,!0)})}),this.getStatus())},beforeRouteEnter:function(e,t,a){e.meta.title="新增往来",e.query.transCode&&(e.meta.title="编辑往来"),a()},beforeRouteLeave:function(e,t,a){var n=e.path;this.submitSuccess&&"/adress"===n&&(e.meta.reload=!0),a()}}},cfSF:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"order-list":e.orderList,count:e.count},scopedSlots:e._u([{key:"matterOther",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("全部需求: "+e._s(n.productDemandQty))]),e._v(" "),a("span",[e._v("已申请: "+e._s(n.thenLockQty))])]),e._v(" "),a("div",{staticClass:"mater_num"},[a("span",{staticClass:"num"},[e._v("本次申请: "+e._s(n.tdQty))]),e._v(" "),a("span",{staticClass:"num"},[e._v("估计价格: ￥"+e._s(n.price))])]),e._v(" "),a("div",{staticClass:"mater_price"},[e._v("\n            ￥"+e._s(n.tdAmount)),a("span",{staticClass:"num"},[e._v(" [估计金额]")])])])]}}])},[a("template",{slot:"orderTitle"},[a("span",{staticClass:"order_title"},[e._v("物料需求计划号")])])],2),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},cjK0:function(e,t){},cr7Q:function(e,t,a){e.exports=a.p+"static/img/ava03.685cf6b.png"},crdR:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("XAqG"),c=a("MjAd"),f=n(c);t.default={name:"USER_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"使用中",status:1},{name:"未使用",status:2},{name:"停用",status:-1}],filterList:[{name:"工号",value:"userCode"},{name:"姓名",value:"nickname"}]}},mixins:[f.default],methods:{getDefaultImg:function(e,t){var n=a(1===t?"cr7Q":"Atv/");return e&&(e.photo=n),n},pathChange:function(e,t,a){var n=this;if(!this.clickVisited){var i=e.colId,r=this.$route.query.name,s=this.$route.params,o=s.fileId,l=s.listId,u=a+"/"+o+"/"+l;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,d.default)({},e)),setTimeout(function(){n.clickVisited=!1,n.$router.push({path:u,query:{name:r,colId:i}})},200)}},goDetail:function(e,t){this.pathChange(e,t,"/detail")},goUserEdit:function(e,t){this.pathChange(e,t,"/fillform")},getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=[];return this.activeTab&&a.push({operator:"in",value:this.activeTab,property:"status"}),this.serachVal&&(a=[].concat((0,o.default)(a),[{operator:"like",value:this.serachVal,property:this.filterProperty}])),(0,u.getAllUsers)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(a)}).then(function(a){var n=a.dataCount,i=void 0===n?0:n,r=a.tableContent,s=void 0===r?[]:r;e.hasNext=i>(e.page-1)*e.limit+s.length,s.forEach(function(t){if(t.photo||(t.photo=e.getDefaultImg("",t.gender)),t.status)switch(t.status){case 1:t.status="使用中",t.statusClass="inUse";break;case 2:t.status="未使用",t.statusClass="unUse";break;case 3:t.status="草稿",t.statusClass="offUse";break;case-1:t.status="停用",t.statusClass="offUse"}}),e.listData=1===e.page?s:e.listData.concat(s),t||e.$nextTick(function(){e.resetScroll()});var o="";t&&0===e.activeIndex&&e.total&&(o=i-e.total==0?"暂无新数据":o="新增"+(i-e.total)+"条数据",e.$vux.toast.show({text:o,position:"top",width:"50%",type:"text",time:700})),0===e.activeIndex&&1===e.page&&sessionStorage.setItem(e.applyCode,i),e.$loading.hide()}).catch(function(t){e.resetScroll()})}}}},cywD:function(e,t){},cz0L:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"materiel_ct_list"},[a("div",{staticClass:"title"},[a("span",{staticClass:"iconfont icon-Shape"}),e._v(e._s(e.listTitle)+"\n  ")]),e._v(" "),e.matterList.length?a("div",{staticClass:"mater_list"},e._l(e.matterList,function(t,n){return a("matter-item",{key:n,attrs:{item:t},scopedSlots:e._u([{key:"other",fn:function(t){var a=t.item;return[e._t("matterOther",null,{item:a})]}}])})})):e._e(),e._v(" "),Object.keys(e.orderList).length?a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n){return a("div",{key:n,staticClass:"each_mater"},[a("div",{staticClass:"order_code"},[e._t("orderTitle",[a("span",{staticClass:"order_title"},[e._v("所属订单")])]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n||"未查询到相关订单，请检查数据是否正确"))])],2),e._v(" "),a("div",{staticClass:"order_matter"},e._l(t,function(t,n){return a("matter-item",{key:n,attrs:{item:t},scopedSlots:e._u([{key:"other",fn:function(t){var a=t.item;return e.$scopedSlots.matterOther?[e._t("matterOther",null,{item:a})]:void 0}}])})}))])})):e._e(),e._v(" "),e.count?a("price-total",{attrs:{amt:e.noTaxAmount,"tax-amt":e.taxAmount,count:e.count}}):e._e()],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},d0ol:function(e,t){},d329:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper xmlw-detail-container"},[a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.orderInfo,"order-info":e.orderInfo}}),e._v(" "),a("div",{staticClass:"project_info"},[e._m(0),e._v(" "),a("div",{staticClass:"project_content"},[a("form-cell",{attrs:{cellTitle:"名称",cellContent:e.approval.projectName,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"大类",cellContent:e.approval.projectType}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"子类",cellContent:e.approval.projectSubclass}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"经理",cellContent:e.approval.projectManager}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"经理电话",cellContent:e.approval.phoneNumber}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"说明",cellContent:e.approval.comment||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"预期开始日期",cellContent:e._f("timeSplit")(e.approval.expectStartDate)}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"预期截止日期",cellContent:e._f("timeSplit")(e.approval.expectEndDate)}})],1)]),e._v(" "),a("div",{staticClass:"project_info"},[e._m(1),e._v(" "),a("div",{staticClass:"project_content"},[a("form-cell",{attrs:{cellTitle:"收入",showSymbol:"",textRight:"",cellContent:e.numberComma(e.approval.budgetIncome),showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"成本",showSymbol:"",textRight:"",cellContent:e.numberComma(e.approval.budgetCapital)}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"费用",showSymbol:"",textRight:"",cellContent:e.numberComma(e.approval.budgetCost)}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"利润",showSymbol:"",textRight:"",cellContent:e.numberComma(e.approval.budgetProfit)}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"利润率",textRight:"",cellContent:e.percent(e.approval.budgetProfitMargin)}})],1)]),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.comment.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}})],1)])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"info_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-xiangmu"}),e._v("项目信息")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"info_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-yusuan2"}),e._v("预算明细")])}],r={render:n,staticRenderFns:i};t.a=r},d3k1:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=navigator.userAgent.toLowerCase(),i=!!n.match(/\(i[^;]+;( u;)? cpu.+mac os x/),r=n.indexOf("iphone")>0,s=n.indexOf("ipad")>0,o=n.indexOf("android")>0,l=!(i||o),d=null!==n.match(/wxwork/);t.default={isIOS:i,isIPhone:r,isIPad:s,isAndroid:o,isPC:l,isQYWX:d}},d3zw:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MjAd"),r=n(i),s=(a("vS5q"),a("4bt0")),o=n(s);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2386,chartShow:!1,hasNext:!0,scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0},sortList:[{name:"交易号",key:"transCode"},{name:"修改时间",key:"modTime"},{name:"客户名称",key:"dealerName"}]}},components:{ApplyChart:o.default},mixins:[r.default],methods:{}}},d5E5:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{staticClass:"detail_content"},[a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("职位名称:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.jobInfo.name))])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("职位类型:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v("\n         "+e._s(e.jobInfo.type)+"\n      ")])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("创建者:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.jobInfo.creator))])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("创建时间:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.jobInfo.crtTime))])]),e._v(" "),e.jobInfo.modifier?a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("修改者:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.jobInfo.modifier))])]):e._e(),e._v(" "),e.jobInfo.modTime?a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("修改时间:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.jobInfo.modTime))])]):e._e(),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("职位状态:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.jobInfo.status))])])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},d5Kw:function(e,t,a){"use strict";function n(e){a("ET1x")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HU/K");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("rxOo"),o=a.n(s),l=a("yB79"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},d5RT:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MgeX"),r=n(i),s=a("HzJ8"),o=n(s),l=a("4YfN"),d=n(l),u=a("3cXf"),c=n(u),f=a("IHPB"),m=n(f),h=a("HXPS"),v=n(h),p=a("7g+Q"),C=n(p),_=a("1KNX"),y=n(_),b=a("vS5q"),g=a("7biW"),w=n(g);t.default={name:"PopOrderList",props:{show:{type:Boolean,default:!1},params:{type:Object,default:function(){return{dealerCode:"",whCode:""}}},defaultValue:{type:Object,default:function(){return{}}},isMaterOrder:{type:Boolean,default:!1},isMaterProccing:{type:Boolean,default:!1}},components:{Icon:v.default,Popup:C.default,RScroll:y.default,RSearch:w.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],listData:[],limit:100,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterProperty:"",filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"交易号",value:"transCode"}]}},watch:{show:{handler:function(e){this.showPop=e}},params:{handler:function(){this.resetCondition(),this.getList()}},defaultValue:{handler:function(e){this.setDefaultValue()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,m.default)(this.selItems)),this.$emit("input",!1)},showSelIcon:function(e){return-1!==this.tmpItems.findIndex(function(t){return t.transCode===e.transCode&&t.inventoryCode===e.inventoryCode})},selThis:function(e,t){if(!this.isMaterOrder&&(0===e.qtyStockBal||0===e.qtyStock)||this.isMaterOrder&&0===e.qtyStock)return void this.$vux.alert.show({content:"当前订单库存为0，请选择其他订单"});var a=this.tmpItems,n=a.findIndex(function(t){return t.transCode===e.transCode&&t.inventoryCode===e.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(e)},selConfirm:function(){this.showPop=!1,this.tmpItems.sort(function(e,t){return t.effectiveTime-e.effectiveTime}),this.selItems=[].concat((0,m.default)(this.tmpItems)),this.$emit("sel-matter",(0,c.default)(this.selItems))},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getList:function(){var e=this,t=[];this.srhInpTx&&(t=[{operator:"like",value:this.srhInpTx,property:this.filterProperty}]);var a=b.getSalesOrderList,n=(0,d.default)({},this.params);this.isMaterOrder&&(a=b.getMaterOrderList,n={}),this.isMaterProccing&&(a=b.getNBJGLLOrderList);var i=this.$route.query.relationKey,r=void 0===i?"":i;return r&&(t=[{operator:"eq",value:r,property:"transCode"}]),a((0,d.default)({},n,{limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,c.default)(t)})).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,s=void 0===i?[]:i;s.forEach(function(t){t.inventoryPic=t.inventoryPic?"/H_roleplay-si/ds/download?url="+t.inventoryPic+"&width=400&height=400":e.getDefaultImg()}),r&&(e.selItems=[].concat((0,m.default)(s)),e.$emit("sel-matter",(0,c.default)(e.selItems))),e.hasNext=n>(e.page-1)*e.limit+s.length,e.listData=1===e.page?s:[].concat((0,m.default)(e.listData),(0,m.default)(s)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},resetCondition:function(){this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.resetCondition(),this.getList()},clearList:function(){this.srhInpTx="",this.resetCondition(),this.getList()},delSelItem:function(e){var t=this.selItems.findIndex(function(t){return t.transCode===e.transCode&&t.inventoryCode===e.inventoryCode});-1!==t&&this.selItems.splice(t,1),this.tmpItems=[].concat((0,m.default)(this.selItems))},clearSel:function(){this.selItems=[],this.tmpItems=[]},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var i,s=(0,o.default)((0,r.default)(this.defaultValue));!(t=(i=s.next()).done);t=!0){var l=i.value;e=[].concat((0,m.default)(e),(0,m.default)(l))}}catch(e){a=!0,n=e}finally{try{!t&&s.return&&s.return()}finally{if(a)throw n}}this.tmpItems=[].concat((0,m.default)(e)),this.selItems=[].concat((0,m.default)(e))}},created:function(){this.showPop=this.show,this.setDefaultValue(),this.getList()}}},d7ck:function(e,t,a){"use strict";function n(e){a("dy4N")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("P2Js");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Ak0d"),o=a.n(s),l=a("UZQG"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-fb173d94",null);t.default=c.exports},d8ys:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2294,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName"}]}},mixins:[i.default],methods:{},created:function(){}}},dB5k:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MjAd"),r=n(i),s=a("OTZ4"),o=n(s);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2395,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"成品名称",value:"inventoryName_transObjCode"}],popShow:!1,requestParams:{calc_rel_code:8851,view_id:"view_113"}}},components:{PopTaskWorkList:o.default},mixins:[r.default],methods:{goEdit:function(){this.popShow=!0},selTask:function(e){var t=this.$route.query,a=t.name,n=t.childId,i=this.$route.params,r=i.fileId,s=i.listId;this.$router.push({path:"/fillform/"+r+"/"+s,query:{name:a,childId:n,inventoryCode:e[0].matCode,proPointCode:e[0].proPointCode}})}}}},dHSX:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("div",{staticClass:"title"},[a("d-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}})],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"pop-list-container",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"pop-mater-list-item box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"pop-list-main "},[a("div",{staticClass:"pop-list-info"},[a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline name",staticStyle:{display:"inline-block"}},[a("span",[e._v(e._s(t.facilityName))])])]),e._v(" "),t.facilityType?a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline ",staticStyle:{display:"inline-block"}},[a("span",{staticClass:"creator"},[e._v(e._s(t.facilityType))])])]):e._e()])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}))],1)])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},dHch:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=(n(s),a("0AQX")),l=a("+VRO"),d=n(l),u=a("BUFe"),c=n(u),f=a("AupE"),m=n(f),h=a("zWMP");t.default={data:function(){return{count:0,cashInfo:{}}},mixins:[d.default],components:{workFlow:m.default,RAction:c.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,o.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=t.formData,i=n.order,s=void 0===i?{}:i,o=n.outPut,l=void 0===o?{}:o;e.attachment=a,e.cashInfo=l.dataSet[0];var d=s.dataSet,u=!0,c=!1,f=void 0;try{for(var m,v=(0,r.default)(d);!(u=(m=v.next()).done);u=!0){var p=m.value;e.count=(0,h.accAdd)(e.count,p.tdAmount)}}catch(e){c=!0,f=e}finally{try{!u&&v.return&&v.return()}finally{if(c)throw f}}e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},dOws:function(e,t,a){"use strict";function n(e){a("ISAi")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IAdv");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("wol0"),o=a.n(s),l=a("AAe0"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-311e516b",null);t.default=c.exports},dQpD:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("HyXB"),d=a("2y58"),u=n(d),c=a("fyaN"),f=n(c);t.default={name:"RAction",props:{code:{type:String,default:""},taskId:{type:String,default:""},actions:{type:Array,default:function(){return[]}},name:{type:String,default:""},agreeHandler:{type:Function,default:null}},components:{Confirm:u.default,PopUserList:f.default},data:function(){return{showUserList:!1,selectedUser:{},showConfirm:!1,transferInfo:{taskTime:.1,comment:""},showTaskWarn:!1,showCommentWarn:!1}},methods:{reject:function(){var e=this;this.$vux.confirm.prompt("",{title:"审批意见",onConfirm:function(t){e.commitTask({result:0,successMsg:"拒绝成功",value:t})}})},agree:function(){var e=this;this.agreeHandler&&this.agreeHandler()||this.$vux.confirm.prompt("",{title:"审批意见",onConfirm:function(t){e.commitTask({result:1,successMsg:"同意成功",value:t})}})},revoke:function(){var e=this;this.$vux.confirm.prompt("",{title:"撤回原因",onConfirm:function(t){e.commitTask({result:2,successMsg:"撤回成功",value:t,callback:function(){var t=e.$route.query.childId,a=e.$route.params,n=a.fileId,i=a.listId;e.$router.replace({path:"/fillform/"+n+"/"+i,query:{childId:t,name:e.name,transCode:e.code}})}})}})},commitTask:function(e){var t=this,a=e.result,n=e.value,i=e.successMsg,r=e.callback;this.$HandleLoad.show();var s={taskId:this.taskId,taskData:(0,o.default)({result:a,transCode:this.code,comment:n})};return(0,l.commitTask)(s).then(function(e){t.$HandleLoad.hide();var n=e.success,s=void 0!==n&&n,l=e.message,d=void 0===l?"提交失败":l,u={0:"reject",1:"agree",2:"revoke"};s&&(d=i,t.$emit("on-submit-success",(0,o.default)({type:u[a]}))),t.$vux.alert.show({content:d,onHide:function(){s&&(r?r():t.$router.go(0))}})}).catch(function(e){t.$HandleLoad.hide()})},transfer:function(){this.selectedUser={},this.showUserList=!0},selUser:function(e){this.selectedUser=(0,r.default)({},e),this.showConfirm=!0},onConfirm:function(){var e=this,t=(0,r.default)({userId:this.selectedUser.userId,taskId:this.taskId},this.transferInfo);this.showTaskWarn=!this.transferInfo.taskTime,this.showCommentWarn=!this.transferInfo.comment,this.showTaskWarn||this.showCommentWarn||(this.showConfirm=!1,this.$HandleLoad.show(),(0,l.transferTask)(t).then(function(t){e.$HandleLoad.hide();var a=t.success,n=void 0!==a&&a,i=t.message,r=void 0===i?"提交失败":i;n&&(r="转办成功",e.$emit("on-submit-success",(0,o.default)({type:"transfer"}))),e.$vux.alert.show({content:r,onHide:function(){e.$router.go(0)}})}).catch(function(t){e.$HandleLoad.hide()}))}}}},dRU1:function(e,t){},"dRd+":function(e,t,a){"use strict";function n(e){a("J8yl")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("69MN");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("NbtV"),o=a.n(s),l=a("o298"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-beb55964",null);t.default=c.exports},da6f:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"chart"},[a("div",{staticClass:"filter_time vux-1px-b"},[a("div",{staticClass:"current_time vux-1px-r"},[e._v(e._s(e.defaultTips))]),e._v(" "),a("div",{staticClass:"time_pop",on:{click:function(t){e.dateShow=!e.dateShow}}},[a("span",{staticClass:"tips"},[e._v("日期筛选")]),e._v(" "),a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-arrow-down",class:{"arrow-up":e.dateShow},attrs:{type:"ios-arrow-down",size:"14",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M396.6 160l19.4 20.7L256 352 96 180.7l19.3-20.7L256 310.5z"}})])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.dateShow,expression:"dateShow"}],staticClass:"date vux-1px-b"},[a("div",{staticClass:"choose_date"},[a("div",{staticClass:"start_date"},[a("span",{staticClass:"date_title"},[e._v("起始日期")]),e._v(" "),a("span",{staticClass:"date_value vux-1px",on:{click:e.getStart}},[e._v("\n            "+e._s(e.timeFilter.startDate)+"\n            ")])]),e._v(" "),a("div",{staticClass:"end_date"},[a("span",{staticClass:"date_title"},[e._v("截止日期")]),e._v(" "),a("span",{staticClass:"date_value vux-1px-t",on:{click:e.getEnd}},[e._v("\n            "+e._s(e.timeFilter.EndDate)+"\n          ")])])]),e._v(" "),a("div",{staticClass:"time_sel_btn"},[a("span",{staticClass:"reset",on:{click:e.resetData}},[e._v("重置")]),e._v(" "),a("span",{staticClass:"confirm",on:{click:e.confirm}},[e._v("确认")])])])]),e._v(" "),a("div",{staticClass:"business_amount vux-1px-b"},[a("p",[e._v("销售额")]),e._v(" "),a("p",{staticClass:"amount"},[e._v("\n      ￥"),a("countup",{attrs:{"end-val":e.businessAmount,duration:1,decimals:2}})],1)]),e._v(" "),e._m(0),e._v(" "),a("div",{staticClass:"list_rank vux-1px-t"},[a("div",{staticClass:"list_title"},[e._v("业务员业绩排行榜（前三）")]),e._v(" "),e._l(e.staffRank,function(t,n){return a("div",{key:n,staticClass:"each_staff vux-1px-b"},[a("div",{staticClass:"staff_name"},[a("span",{staticClass:"rank_num"},[e._v("No."+e._s(n+1))]),e._v(" "),a("span",[e._v(e._s(t.handlerName)+" "+e._s(t.handlerRoleName)+" "+e._s(t.handlerUnitName))])]),e._v(" "),a("div",[e._v("￥"+e._s(e._f("numberComma")(e._f("toFixed")(t.total))))])])})],2)])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"customer_rank"},[a("div",{attrs:{id:"pie"}})])}],r={render:n,staticRenderFns:i};t.a=r},dagQ:function(e,t){},dbpI:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("MgeX"),o=n(s),l=a("HzJ8"),d=n(l),u=a("ZLEe"),c=n(u),f=a("3cXf"),m=n(f),h=a("4YfN"),v=n(h),p=a("BGNQ"),C=n(p),_=a("z5TY"),y=n(_),b=a("SAzG"),g=n(b),w=a("kNGm"),I=n(w),x=a("PzEQ"),D=n(x),P=a("u28h"),k=n(P),S=a("jnZd"),T=n(S),L=a("HyXB"),N=a("0AQX"),M=a("bKg5"),A=n(M),O=a("y8YJ"),R=n(O),j=a("vl8n"),$=n(j),B=a("+WR7"),E=n(B),F=a("VZtf"),U=n(F),q=a("kZy/"),Q=n(q),H=a("luHD"),V=n(H),X=a("lsbD"),z=n(X),Y=(a("Qg39"),a("zWMP"));t.default={mixins:[A.default],components:{Cell:C.default,Group:y.default,XInput:g.default,Datetime:k.default,XTextarea:D.default,PopDealerList:R.default,PopupPicker:T.default,RPicker:$.default,PopBaseinfo:E.default,RNumber:U.default,PopMatterList:Q.default,PopMatter:V.default,OpButton:z.default},data:function(){return{listId:"0cf1a234-04a5-4021-926b-137914878082",dealerInfo:{},contactInfo:{},invoiceType:[["普通发票","专用发票"]],invoiceGetType:[],invoiceInfo:{ticketNumber:"",invoiceType:"",invoiceAmount:"",invoiceDate:"",invoiceContent:""},invoicePlan:[],dealerParams:{dealerCode:""},taxRate:.16,showInvoicePop:!1,seletedIndex:0,seletedInvoice:[],formData:{biProcessStatus:"",biComment:""},formDataComment:"",projectName:"",matterList:[],orderList:{},showMaterielPop:!1,matterParams:{},numMap:{}}},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],this.matterParams={dealerCode:this.dealerInfo.dealerCode},this.matterList=[],this.orderList={}},selContact:function(e){this.contactInfo=(0,v.default)({},e)},typeTask:function(e){this.invoiceInfo.invoiceType=e[0]},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,m.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.inventoryCode!==e.inventoryCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getMatter:function(){if(!this.dealerInfo.dealerCode)return void this.$vux.alert.show({content:"请选择客户"});this.showMaterielPop=!this.showMaterielPop},selMatter:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){var a=(e.transCode,e.inventoryCode,t.numMap[e.inventoryCode]||{}),i=a.tdQty,r=void 0===i?e.qtyBal:i,s=a.price,o=void 0===s?e.price:s,l=a.taxRate,d=void 0===l?t.taxRate:l;e.tdQty=r,e.price=o,e.taxRate=d,e.purchaseDay=(0,I.default)(e.calcTime,"YYYY-MM-DD"),n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},delClick:function(e,t,a){var n=this.selItems,i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode&&e.transCode===t.transCode});if(-1!==i)return void n.splice(i,1);n.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,c.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});i>=0&&(e.$refs.matter.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,d.default)((0,o.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,l=!1,u=void 0;try{for(var c,f=(0,d.default)(r);!(s=(c=f.next()).done);s=!0){var m=c.value;this.numMap[m.transCode+"_"+m.inventoryCode]=(0,v.default)({},m)}}catch(e){l=!0,u=e}finally{try{!s&&f.return&&f.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this,t="",a=[];this.dealerInfo.dealerCode||(t="请选择客户信息");var n=[{tip:"ticketNumber",msg:"请输入票号"},{tip:"invoiceType",msg:"请选择发票类型"},{tip:"invoiceDate",msg:"请选择发票日期"}];if(t||n.every(function(a){return!!e.invoiceInfo[a.tip]||(t=a.msg,!1)}),t||this.matterList.length||(t="请选择物料"),t||this.matterList.every(function(n){if(!n.transCode)return t="请选择申请单",!1;if(!n.tdQty&&0!==n.tdQty)return t="请填写本次开票数量",!1;if(!n.taxRate&&0!==n.taxRate)return t="请填写税率",!1;var i=n.taxRate||e.taxRate,r=(0,Y.accMul)(n.price,n.tdQty),s=(0,Y.accMul)(r,i);return a.push({tdId:n.tdId||"",transMatchedCode:n.transCode,inventoryName_transObjCode:n.inventoryName,transObjCode:n.inventoryCode,thenQtyBal:n.qtyBal,price:n.price,tdQty:n.tdQty,taxRate:i,taxAmount:s,tdAmount:(0,Y.accAdd)(r,s),comment:n.comment}),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=L.saveAndStartWf,n=(0,r.default)({},e.processCode,{businessKey:"VATO",createdBy:(0,m.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:"",formData:(0,m.default)((0,v.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{crDealerLabel:"客户",dealerCodeCredit:e.dealerInfo.dealerCode,dataSet:a},dealerCreditContactPersonName:e.contactInfo.dealerName||null,dealerCreditContactInformation:e.contactInfo.dealerMobilePhone||"",invoiceDate:e.invoiceInfo.invoiceDate,ticketNumber:e.invoiceInfo.ticketNumber,invoiceType:e.invoiceInfo.invoiceType,invoiceContent:e.invoiceInfo.invoiceContent})),wfPara:(0,m.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=L.saveAndCommitTask),e.processCode.length||(t=L.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,N.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.attachment=t.attachment,e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId;var a=t.formData;e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,v.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),e.dealerInfo=(0,v.default)({},e.dealerInfo,{dealerName:a.order.dealerName_dealerCodeCredit,dealerCode:a.order.dealerCodeCredit,province:a.order.province_dealerCodeCredit,city:a.order.city_dealerCodeCredit,county:a.order.county_dealerCodeCredit,address:a.order.address_dealerCodeCredit,dealerMobilePhone:a.dealerMobilePhone_dealerCodeCredit}),e.contactInfo={dealerName:a.dealerCreditContactPersonName,dealerMobilePhone:a.dealerCreditContactInformation};var n={};a.order.dataSet.forEach(function(t){t.transCode=t.transMatchedCode,t.inventoryName=t.inventoryName_transObjCode,t.inventoryCode=t.inventoryCode_transObjCode,t.inventoryPic=t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),t.qtyBal=t.thenQtyBal,e.matterList.push(t),n[t.transCode]||(n[t.transCode]=[]),n[t.transCode].push(t)}),e.orderList=n,e.invoiceInfo=(0,v.default)({},e.invoiceInfo,{ticketNumber:a.ticketNumber,invoiceType:a.invoiceType,invoiceAmount:a.invoiceAmount,invoiceDate:(0,I.default)(a.invoiceDate,"YYYY-MM-DD"),invoiceContent:a.invoiceContent}),e.invoiceGetType.push(a.invoiceType),e.dealerParams.dealerCode=a.order.dealerCodeCredit,e.$loading.hide()})},hasDraftData:function(){return!!(0,o.default)(this.dealerInfo).length&&(0,r.default)({},"ZZSKP_DATA",{invoice:{dealer:this.dealerInfo,invoiceInfo:this.invoiceInfo,contactInfo:this.contactInfo,matterList:this.matterList,orderList:this.orderList}})}},created:function(){var e=sessionStorage.getItem("ZZSKP_DATA");if(e){var t=JSON.parse(e);this.dealerInfo=t.invoice.dealer,this.contactInfo=t.invoice.contactInfo,this.invoiceInfo=t.invoice.invoiceInfo,this.matterList=t.invoice.matterList,this.orderList=t.invoice.orderList,this.dealerParams.dealerCode=this.dealerInfo.dealerCode,this.invoiceGetType.push(this.invoiceInfo.invoiceType),sessionStorage.removeItem("ZZSKP_DATA")}}}},dcVo:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=(a("XAqG"),a("HyXB"),a("MjAd")),o=n(s),l=a("ak47");n(l);t.default={name:"CPXQ_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"经办人",value:"handlerName"},{name:"交易号",value:"transCode"},{name:"员工",value:"profileName"}],listViewID:2375}},mixins:[o.default],methods:{pathChange:function(e,t,a){var n=this;if(!this.clickVisited){var i=e.transCode,s=this.$route.query.name,o=this.$route.params,l=o.fileId,d=o.listId;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,r.default)({},e));var u=a+"/"+l+"/"+d;setTimeout(function(){n.clickVisited=!1,n.$router.push({path:u,query:{name:s,transCode:i}})},200)}},goDetail:function(e,t){this.pathChange(e,t,"/detail")},goUserEdit:function(e,t){this.pathChange(e,t,"/fillform")}}}},dj3y:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("kNGm"),r=(n(i),a("0AQX")),s=a("+VRO"),o=n(s),l=a("AupE"),d=n(l),u=a("BUFe"),c=n(u),f=a("bFc7"),m=n(f),h=a("3NX5"),v=n(h);t.default={data:function(){return{orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},uploadStyle:{width:"100%",padding:"0.06rem 0.1rem"}}},mixins:[o.default],components:{workFlow:d.default,RAction:c.default,contactPart:m.default,MatterList:v.default},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,r.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=o,e.orderInfo=r,e.workFlowInfoHandler()})},goEdit:function(){var e=this.$route.params,t=e.fileId,a=e.listId,n=this.$route.query.name;this.$router.push({path:"/fillform/"+t+"/"+a,query:{name:n,transCode:this.transCode}})}}}},doYu:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("a3Yh"),d=n(l),u=a("7g+Q"),c=n(u),f=a("+62G"),m=n(f),h=a("z5TY"),v=n(h),p=a("BGNQ"),C=n(p),_=a("iR2W"),y=n(_),b=a("u28h"),g=n(b),w=a("SAzG"),I=n(w),x=a("PzEQ"),D=n(x),P=a("HyXB"),k=a("fEP3"),S=a("0AQX"),T=a("bKg5"),L=n(T),N=a("7D9F"),M=n(N),A=a("j4rH"),O=n(A),R=a("JQMB"),j=n(R),$=a("vl8n"),B=n($),E=a("FlCz"),F=n(E),U=a("+WR7"),q=n(U),Q=a("0o6b"),H=a("Qg39"),V=a("zWMP");t.default={directives:{TransferDom:m.default},components:{Popup:c.default,PopWorkStartList:O.default,Group:v.default,Cell:C.default,Datetime:g.default,XInput:I.default,XTextarea:D.default,PopManagerList:M.default,RPicker:B.default,PopFacilityList:j.default,BomList:F.default,PopBaseinfo:q.default},data:function(){return{listId:"c54b3325-a5c1-4d75-a3c4-c6cf0e988aae",showWorkPop:!1,dealer:{},formData:{biComment:""},workInfo:{},defaultManager:{},biProcessStatus:"",scanResult:"",bomList:[],facility:{}}},mixins:[L.default],filters:{numberComma:y.default},methods:{selWork:function(e){var t=this;e.tdQty=e.thenQtyBal,this.workInfo=e,(0,k.getBomWorkStart)(this.workInfo.inventoryCode).then(function(a){var n=a.tableContent,i=void 0===n?[]:n;i.forEach(function(t){t.tdQty=(0,H.toFixed)((0,V.accMul)(t.qty,e.tdQty),3)}),t.bomList=i})},selManager:function(e){this.defaultManager=JSON.parse(e),this.workInfo.dealerDebit=this.defaultManager.dealerCode},submitOrder:function(){var e=this,t="",a=[],n=[];this.workInfo.procedureName||(t="请选择工序");var i=[{key:"dealerName",msg:"请填写工人"},{key:"tdQty",msg:"请填写验收数量"},{key:"wareName",msg:"请填写仓库"}];if(t||i.every(function(a){return!!e.workInfo[a.key]||(t=a.msg,!1)}),t)return void this.$vux.alert.show({content:t});var s=this.workInfo;a.push({proPointCode:s.proPointCode,thenQtyBal:s.thenQtyBal,tdQty:s.tdQty,dealerDebit:s.dealerCode,drDealerLabel:s.dealerLabel,proFlowCode:s.proFlowCode||"",facilityObjCode:this.facility.facilityCode||"",facilityTypebase_facilityObjCode:this.facility.facilityType||"",transObjCode:this.workInfo.inventoryCode}),this.bomList.forEach(function(e){n.push({inventoryName_outPutMatCode:e.inventoryName,outPutMatCode:e.inventoryCode,tdProcessing:e.processing,specification_outPutMatCode:e.specification,measureUnit_outPutMatCode:e.measureUnit,bomType:e.bomType,bomQty:e.qty,tdQty:e.tdQty})}),this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=P.saveAndStartWf,i=(0,d.default)({},e.processCode,{businessKey:"PGRW",createdBy:""});e.isResubmit&&(i={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var l={listId:e.listId,biComment:e.formData.biComment,formData:(0,o.default)((0,r.default)({},e.formData,{handlerEntity:e.entity.dealerName,biProcessStatus:e.biProcessStatus||null,order:{containerCode:s.whInCode,dataSet:a},outPut:{containerCode:s.whInCode,dataSet:n}})),wfPara:(0,o.default)(i)};e.isResubmit&&(t=P.saveAndCommitTask,l.biReferenceId=e.biReferenceId),e.processCode.length||(t=P.submitAndCalc,delete l.wfPara,delete l.biReferenceId),e.biReferenceId&&(l.biReferenceId=e.biReferenceId),e.saveData(t,l)}})},getFormData:function(){var e=this;return(0,S.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=t.attachment;var o=s.order,l=s.outPut,d=o.dataSet,u=void 0===d?[]:d,c=l.dataSet;e.workInfo=(0,r.default)({},u[0],{inventoryCode:u[0].transObjCode,inventoryName:u[0].inventoryName_transObjCode,procedureName:u[0].procedureName_proPointCode,technicsName:u[0].technicsName_proFlowCode,transCode:u[0].transMatchedCode,processing:u[0].tdProcessing||null,wareName:o.warehouseName_containerCode,whInCode:o.containerCode,wareAddress:o.warehouseAddress_containerCode,dealerName:u[0].dealerName_dealerDebit,dealerCode:u[0].dealerDebit,dealerLabel:u[0].drDealerLabel}),e.facility={facilityName:u[0].facilityName_facilityObjCode,facilityCode:u[0].facilityObjCode,facilityType:u[0].facilityTypebase_facilityObjCode},c.forEach(function(e){e.inventoryCode=e.outPutMatCode,e.inventoryName=e.inventoryName_outPutMatCode,e.measureUnit=e.measureUnit_outPutMatCode,e.parentInvCode=e.processProCode,e.processing=e.tdProcessing,e.qty=e.bomQty,e.qtyBal=e.thenQtyStock,e.specification=e.specification_outPutMatCode||"无"}),e.bomList=c,e.warehouse={warehouseCode:o.containerCode,warehouseName:o.warehouseName_containerCode,warehouseType:o.warehouseType_containerCode,warehouseProvince:o.warehouseProvince_containerCode,warehouseCity:o.warehouseCity_containerCode,warehouseDistrict:o.warehouseDistrict_containerCode,warehouseAddress:o.warehouseAddress_containerCode},e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,r.default)({},e.handlerDefault,{biComment:s.biComment,biId:s.biId,biProcessStatus:s.biProcessStatus,creator:s.creator,modifer:s.modifer}),e.biReferenceId=s.biReferenceId,e.$loading.hide()})},scanQRCode:function(){var e=this;(0,Q.scanQRCode)().then(function(t){var a=t.result,n=void 0===a?"":a;e.scanResult=n})},selFacility:function(e){this.facility=e}},created:function(){}}},"drc+":function(e,t,a){"use strict";function n(e){a("bCrF")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("iBRT");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("8Mec"),o=a.n(s),l=a("YQHZ"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-94a9e0fc",null);t.default=c.exports},dwzl:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("HyXB"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2310,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}]}},mixins:[i.default],methods:{},created:function(){}}},dy4N:function(e,t){},dyuG:function(e,t,a){"use strict";function n(e){a("HTRD")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("vW/T");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("MjpR"),o=a.n(s),l=a("271e"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},"e+7k":function(e,t,a){"use strict";function n(e){a("EQ3w")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("hk2Q");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Ss8W"),o=a.n(s),l=a("Ujdd"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-240c39c6",null);t.default=c.exports},e0Na:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("kKsb"),p=n(v),C=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70"}},mixins:[u.default],components:{workFlow:h.default,RAction:f.default,ProjectPart:p.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=!0,i=!1,s=void 0;try{for(var l,d=(0,r.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;e.count=(0,C.accAdd)(e.count,u.tdAmount)}}catch(e){i=!0,s=e}finally{try{!n&&d.return&&d.return()}finally{if(i)throw s}}t.formData.validUntil=(0,o.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},e3Hn:function(e,t){},e4FE:function(e,t){},eGZN:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("7g+Q"),o=n(s),l=a("+62G"),d=(n(l),a("z5TY")),u=n(d),c=a("BGNQ"),f=n(c),m=a("SAzG"),h=n(m),v=a("1KNX"),p=n(v),C=a("Qg39"),_=a("zWMP");t.default={name:"Bom",props:{show:{type:Boolean,default:!1},bomInfo:{type:Object,default:function(){return{}}},btnIsHide:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!0},specificLossText:{type:String,default:"损耗率"},noSpecificLoss:{type:Boolean,default:!1}},data:function(){return{scrollOptions:{click:!0},showPop:!1,btnNext:"返回"}},components:{Popup:o.default,Group:u.default,Cell:f.default,XInput:h.default,RScroll:p.default},watch:{show:{handler:function(e){this.showPop=e}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()}),this.btnNext="返回"},onHide:function(){this.$emit("input",!1)},confirm:function(){"确认"===this.btnNext&&this.$emit("bom-confirm",(0,r.default)(this.bomInfo)),this.showPop=!1},modifyBom:function(e){var t=this;this.$vux.confirm.prompt(e.specificLoss,{title:this.specificLossText,onConfirm:function(a){if(a){e.specificLoss=Math.abs((0,C.toFixed)(a));var n=(0,_.accMul)(t.bomInfo.tdQty,e.qty,1+e.specificLoss);e.tdQty=Math.abs((0,C.toFixed)(n)),t.btnNext="确认"}}})},getFocus:function(e){event.currentTarget.select()},closePop:function(){this.showPop=!1},changeToConfirm:function(){this.btnNext="确认"}}}},eHxv:function(e,t){},eLoA:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("d3k1"),r=n(i),s=(a("Dkzh"),a("3QQJ")),o=n(s);a("5Ys/"),t.default={name:"app",data:function(){return{tablist:[{title:"应用",path:"/home",icon:"icon-1"},{title:"消息",path:"/notice",icon:"icon-message"}],newsNumber:0}},components:{Badge:o.default},created:function(){var e=this;this.$event.$on("badgeNum",function(t){e.newsNumber=t})},updated:function(){r.default.isAndroid&&window.addEventListener("resize",function(){"INPUT"!==document.activeElement.tagName&&"TEXTAREA"!==document.activeElement.tagName||setTimeout(function(){document.activeElement.scrollIntoViewIfNeeded()},0)})}}},eNNU:function(e,t,a){"use strict";function n(e){a("gEh4")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("dHch");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("qeco"),o=a.n(s),l=a("AKWE"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-a8c53be8",null);t.default=c.exports},eQNG:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("d3k1"),r=n(i),s=(a("Dkzh"),a("3QQJ")),o=n(s);a("5Ys/"),t.default={name:"app",data:function(){return{tablist:[{title:"应用",path:"/home",icon:"icon-1"},{title:"消息",path:"/notice",icon:"icon-message"}],newsNumber:0}},components:{Badge:o.default},created:function(){var e=this;this.$event.$on("badgeNum",function(t){e.newsNumber=t})},updated:function(){r.default.isAndroid&&window.addEventListener("resize",function(){"INPUT"!==document.activeElement.tagName&&"TEXTAREA"!==document.activeElement.tagName||setTimeout(function(){document.activeElement.scrollIntoViewIfNeeded()},0)})}}},eQXQ:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pop_dealer_list",class:{"dealer-list-2":"2"===e.mode}},[a("div",{staticClass:"dealer-info",on:{click:function(t){e.showDealerPop=!e.showDealerPop}}},["2"===e.mode?[a("div",{staticClass:"title",class:{required:e.required}},[e._v(e._s(e.dealerLabel)+"名称")]),e._v(" "),a("div",{staticClass:"mode"},[e._v(e._s(e.dealerInfo.dealerName||e.placeholder))]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r-arrow"})]:[e.dealerInfo.dealerCode?a("div",{staticClass:"user-content"},[a("div",{staticClass:"user-info"},[a("div",{staticClass:"user-name"},[e.dealerInfo.dealerLabelName?a("span",{staticClass:"user-tips"},[e._v(e._s(e.dealerInfo.dealerLabelName))]):e._e(),e._v(" "),a("span",[e._v(e._s(e.dealerInfo.dealerName))])])]),e._v(" "),a("div",{staticClass:"cp-info"},[a("span",{staticClass:"iconfont icon-icon-test"}),e._v(" "),e.noAddress?a("span",{staticClass:"cp-ads"},[e._v("暂无")]):a("span",{staticClass:"cp-ads"},[e._v("\n          "+e._s(e.dealerInfo.province)+e._s(e.dealerInfo.city)+e._s(e.dealerInfo.county)+e._s(e.dealerInfo.address)+"\n        ")])])]):a("div",{staticClass:"user-content"},[a("div",{staticClass:"title"},[e._v(e._s(e.dealerTitle)+"列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择"+e._s(e.dealerTitle))])]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r-arrow"})]],2),e._v(" "),e.noContact?e._e():a("pop-contact-list",{attrs:{"dealer-info":e.dealerInfo,"default-value":e.contactInfo},on:{"sel-contact":e.selContact}}),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showDealerPop,callback:function(t){e.showDealerPop=t},expression:"showDealerPop"}},[a("div",{staticClass:"trade_pop"},[a("div",{staticClass:"title"},[a("d-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}})],1),e._v(" "),a("div",{ref:"dealer",staticClass:"mater_list"},[a("div",{staticClass:"mater_list_wrapper"},[e._l(e.dealerList,function(t,n){return a("div",{key:n,staticClass:"each_mater box_sd",on:{click:function(a){a.stopPropagation(),e.selDealer(t,n)}}},[a("div",{staticClass:"mater_main "},[a("div",{staticClass:"mater_info"},[a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline ",staticStyle:{display:"inline-block"}},[a("span",{staticClass:"dealer"},[e._v(e._s(t.dealerName))])])]),e._v(" "),t.dealerMobilePhone||t.dealerPhone?a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline name",staticStyle:{display:"inline-block"}},[t.dealerMobilePhone?a("span",{staticStyle:{marginRight:".04rem"}},[e._v(e._s(t.dealerMobilePhone))]):e._e(),e._v(" "),t.dealerPhone?a("span",[e._v(e._s(t.dealerPhone))]):e._e()])]):e._e(),e._v(" "),a("div",{staticClass:"withoutColor"},[a("span",[e._v(e._s(t.province)+e._s(t.city)+e._s(t.county)+e._s(t.address))])])])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),e._v(" "),a("load-more",{directives:[{name:"show",rawName:"v-show",value:e.hasNext,expression:"hasNext"}],attrs:{slot:"loadmore",tip:"加载中"},slot:"loadmore"}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.dealerList.length&&!e.hasNext,expression:"!dealerList.length && !hasNext"}],staticClass:"when-null",attrs:{slot:"loadmore"},slot:"loadmore"},[a("div",{staticClass:"title"},[e._v("抱歉，没有找到您搜索的内容")]),e._v(" "),a("ul",{staticClass:"tips"},[a("li",[e._v("\n                  不用担心，您马上可以进行 "),a("span",{staticClass:"addNew",on:{click:e.add}},[e._v("新增往来")])]),e._v(" "),a("li",[e._v("\n                  或者检查“输入内容”是否正确\n                ")])])])],2)])])])],1)],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},eQeJ:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("HzJ8"),o=n(s),l=a("3cXf"),d=n(l),u=a("4YfN"),c=n(u),f=a("7g+Q"),m=n(f),h=a("+62G"),v=n(h),p=a("z5TY"),C=n(p),_=a("BGNQ"),y=n(_),b=a("iR2W"),g=n(b),w=a("u28h"),I=n(w),x=a("SAzG"),D=n(x),P=a("PzEQ"),k=n(P),S=a("0AQX"),T=a("HyXB"),L=a("bKg5"),N=n(L),M=a("VZtf"),A=n(M),O=a("kZy/"),R=n(O),j=a("y8YJ"),$=n(j),B=a("yt3/"),E=n(B),F=a("luHD"),U=n(F),q=a("vl8n"),Q=n(q),H=a("+WR7"),V=n(H),X=a("zWMP");t.default={data:function(){return{listId:"a8281547-d2d3-11e8-b8ca-0279b2c6a380",showMatterPop:!1,showMaterielPop:!1,transMode:[],matterList:[],logisticsTerm:[],dealer:{},numMap:{},contact:{},formData:{},dealerInfo:{},matterParams:{processing:"成品,商品"}}},directives:{TransferDom:v.default},components:{XInput:D.default,XTextarea:k.default,Group:C.default,Cell:y.default,Popup:m.default,PopMatter:U.default,RNumber:A.default,PopMatterList:R.default,PopDealerList:$.default,PopSingleSelect:E.default,Datetime:I.default,RPicker:Q.default,PopBaseinfo:V.default},mixins:[N.default],filters:{numberComma:g.default},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],this.formData.drDealerLogisticsTerms=this.dealerInfo.dealerLogisticsTerms,this.matterList=[]},selContact:function(e){this.contact=(0,c.default)({},e),this.formData.dealerDebitContactPersonName=this.contact.dealerName||"",this.formData.dealerDebitContactInformation=this.contact.dealerMobilePhone},getPaymentTerm:function(){var e=this;return(0,T.getDictByType)("paymentTerm").then(function(t){var a=t.tableContent;e.transMode=a})},getLogisticsTerms:function(){var e=this;return(0,T.getDictByType)("dealerLogisticsTerms").then(function(t){var a=t.tableContent;e.logisticsTerm=a})},getMatter:function(){this.showMaterielPop=!this.showMaterielPop},selMatter:function(e){var t=this,a=JSON.parse(e);a.map(function(e){var a=t.numMap[e.inventoryCode]||{},n=a.tdQty,i=void 0===n?"":n,r=a.price,s=void 0===r?"":r,o=a.taxRate,l=void 0===o?.16:o,d=a.promDeliTime,u=void 0===d?"":d;e.tdQty=i,e.price=s,e.taxRate=l,e.promDeliTime=u,e.assMeasureUnit=e.invSubUnitName||null,e.assMeasureScale=e.invSubUnitMulti||null,e.assMeasureDescription=e.invSubUnitComment||null}),this.numMap={},this.matterList=a},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(t){return t.inventoryCode===e.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(e)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,d.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,o.default)(this.matterList);!(e=(n=i.next()).done);e=!0){var r=n.value;this.numMap[r.inventoryCode]=(0,c.default)({},r)}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this;if(this.dealerInfo.dealerName)if(this.matterList.length){var t="",a=[];if(this.matterList.every(function(n){if(!n.tdQty)return t="请填写数量",!1;if(!n.price)return t="请输入单价",!1;var i=n.taxRate||e.taxRate,r=((0,X.accMul)(n.price,n.tdQty,i),{tdId:n.tdId||"",inventoryName_transObjCode:n.inventoryName,transObjCode:n.inventoryCode,tdProcessing:n.processing,assMeasureUnit:n.invSubUnitName||null,assMeasureScale:n.invSubUnitMulti||null,assMeasureDescription:n.invSubUnitComment||null,assistQty:n.assistQty||0,tdQty:n.tdQty,price:n.price,noTaxPrice:n.noTaxPrice,taxRate:i,taxAmount:n.taxAmount,tdAmount:n.tdAmount,promDeliTime:n.promDeliTime||"",comment:n.comment||""});return a.push(r),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=T.saveAndStartWf,n=(0,r.default)({},e.processCode,{businessKey:"SO",createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.formData.biComment,formData:(0,d.default)((0,c.default)({},e.formData,e.dealer,{handlerEntity:e.entity.dealerName,order:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,drDealerPaymentTerm:e.dealerInfo.paymentTerm,dataSet:a}})),wfPara:(0,d.default)(n)};e.isResubmit&&(t=T.saveAndCommitTask,i.biReferenceId=e.biReferenceId),e.processCode.length||(t=T.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})}else this.$vux.alert.show({content:"请选择物料"});else this.$vux.alert.show({content:"请选择客户"})},getFormData:function(){var e=this;return(0,S.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.attachment=t.attachment;var a=t.formData;a.order.dataSet.map(function(t){t=(0,c.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode}),e.matterList.push(t)}),e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,c.default)({},e.handlerDefault,{creator:a.creator,modifer:a.modifer,dealerDebitContactPersonName:a.dealerDebitContactPersonName,dealerDebitContactInformation:a.dealerDebitContactInformation,drDealerLogisticsTerms:a.drDealerLogisticsTerms,duringDate:a.duringDate,biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus}),e.dealerInfo={creatorName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation,dealerCode:a.order.dealerDebit,dealerSubclass:a.order.drAccountSub,dealerLabelName:a.order.drDealerLabel,dealerName:a.order.dealerName_dealerDebit,province:a.order.province_dealerDebit,city:a.order.city_dealerDebit,county:a.order.county_dealerDebit,address:a.order.address_dealerDebit,paymentTerm:a.order.drDealerPaymentTerm||"现付"},e.contact={dealerName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation},e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,r.default)({},"XSDDYC_DATA",{matter:this.matterList,dealerInfo:this.dealerInfo,dealer:this.dealer,formData:this.formData,contact:this.contact})}},created:function(){var e=sessionStorage.getItem("XSDDYC_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.dealerInfo=t.dealerInfo,this.dealer=t.dealer,this.formData=t.formData,this.contact=t.contact,sessionStorage.removeItem("XSDDYC_DATA")}}}},eQoa:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("7g+Q"),r=n(i),s=a("HXPS"),o=n(s);t.default={name:"PopSingleSelect",props:{title:{type:String,default:""},value:{type:String,default:""},data:{type:Array,default:function(){return[]}},isRequired:{type:Boolean,default:!1}},components:{Popup:r.default,Icon:o.default},data:function(){return{showPop:!1,tmp:"",selected:""}},watch:{value:{handler:function(e){this.tmp=e,this.selected=e}}},methods:{selItem:function(e){this.tmp=e},confirm:function(){this.selected=this.tmp,this.showPop=!1,this.$emit("input",this.selected)}},created:function(){this.tmp=this.value,this.selected=this.value}}},eRTo:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("6q39"),v=n(h),p=a("jLp1"),C=a("1KNX"),_=n(C),y=a("7biW"),b=n(y);t.default={name:"PopProjectList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:m.default,LoadMore:v.default,RScroll:_.default,MSearch:b.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},projectList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:function(){this.selItems=(0,d.default)({},this.defaultValue)}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){return e.PROJECT_NAME===this.selItems.PROJECT_NAME},selThis:function(e,t){this.showPop=!1,this.selItems=(0,d.default)({},e),this.$emit("sel-project",this.selItems)},getProjectLsit:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:"PROJECT_NAME"}])),(0,p.getProjectList)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.projectList=1===e.page?r:[].concat((0,o.default)(e.projectList),(0,o.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.projectList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getProjectLsit()},onPullingUp:function(){this.page++,this.getProjectLsit()}},created:function(){this.selItems=(0,d.default)({},this.defaultValue),this.getProjectLsit()}}},eUJz:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pop_dealer_list"},[a("div",{staticClass:"dealer-info",on:{click:function(t){e.showDealerPop=!e.showDealerPop}}},[e.selInfo.dealerCode?a("div",{staticClass:"user-content"},[a("div",{staticClass:"user-info"},[a("div",{staticClass:"user-name"},[a("span",{staticClass:"user-tips"},[e._v(e._s(e.selInfo.dealerLabelName))]),e._v(" "),a("span",[e._v(e._s(e.selInfo.dealerName||e.selInfo.nickname))])])]),e._v(" "),a("div",{staticClass:"cp-info"},[a("span",[e._v("编码: "+e._s(e.selInfo.dealerCode))]),e._v(" "),a("span",[e._v("余额: "+e._s(e._f("numberComma")(e.selInfo.amntBal)))])])]):a("div",{staticClass:"user-content"},[a("div",{staticClass:"title"},[e._v(e._s(e.dealerLabelName)+"信息")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择"+e._s(e.dealerLabelName))])]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r-arrow"})]),e._v(" "),e.selInfo.dealerCode?e._t("other"):e._e(),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showDealerPop,callback:function(t){e.showDealerPop=t},expression:"showDealerPop"}},[a("div",{staticClass:"trade_pop"},[a("div",{staticClass:"title"},[a("d-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}})],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"pop-list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"pop-item",on:{click:function(a){a.stopPropagation(),e.selItem(t,n)}}},[a("div",{staticClass:"top"},[a("span",{staticClass:"name"},[e._v(e._s(t.dealerName||t.nickname))]),e._v(" "),a("span",{staticClass:"label"},[e._v(e._s(t.dealerLabelName))])]),e._v(" "),a("div",{staticClass:"amt"},[a("span",[e._v("编码: "+e._s(t.dealerCode))]),e._v(" "),a("span",[e._v("往来余额: "+e._s(e._f("numberComma")(t.amntBal)))])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}))],1)])],1)],2)},i=[],r={render:n,staticRenderFns:i};t.a=r},"ebB+":function(e,t){},ebgK:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=(n(s),a("0AQX")),l=a("+VRO"),d=n(l),u=a("BUFe"),c=n(u),f=a("AupE"),m=n(f),h=a("zWMP");t.default={data:function(){return{count:0,cashInfo:{}}},mixins:[d.default],components:{workFlow:m.default,RAction:c.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,o.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=t.formData,i=n.order,s=void 0===i?{}:i,o=n.inPut,l=void 0===o?{}:o;e.attachment=a,e.cashInfo=l.dataSet[0];var d=s.dataSet,u=!0,c=!1,f=void 0;try{for(var m,v=(0,r.default)(d);!(u=(m=v.next()).done);u=!0){var p=m.value;e.count=(0,h.accAdd)(e.count,p.tdAmount)}}catch(e){c=!0,f=e}finally{try{!u&&v.return&&v.return()}finally{if(c)throw f}}e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},ecQd:function(e,t){},eeRS:function(e,t,a){"use strict";function n(e){a("5VPq")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("KiER");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("iZJL"),o=a.n(s),l=a("7w4Q"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-62a0f318",null);t.default=c.exports},eg0j:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("3cXf"),o=n(s),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("7g+Q"),m=n(f),h=a("+62G"),v=n(h),p=a("z5TY"),C=n(p),_=a("SAzG"),y=n(_),b=a("7qeq"),g=(n(b),a("u28h")),w=n(g),I=a("PzEQ"),x=n(I),D=a("iR2W"),P=n(D),k=a("kNGm"),S=n(k),T=a("dyuG"),L=n(T),N=a("L6VY"),M=(n(N),a("jnZd")),A=n(M),O=a("0AQX"),R=a("HyXB"),j=a("bKg5"),$=n(j),B=a("vl8n"),E=n(B),F=a("y8YJ"),U=n(F),q=a("iikc"),Q=n(q),H=a("+WR7"),V=n(H),X=a("Qg39");t.default={data:function(){return{listId:"32a2c333-02a3-416f-a133-95c7a32da678",showDealerPop:!1,dealerInfo:{},formData:{modifer:"",biId:"",dealerDebit:"",drDealerLabel:"",dealerDebitContactPersonName:"",dealerDebitContactInformation:"",opportunityTitle:"",comment:"",tdAmount:"",biProcessStatus:"",validUntil:"",salesPerson:"",salesChannels:"",categoryLabels:[],biComment:""},biReferenceId:"",categoryLabels:[],currentType:[],contactInfo:{}}},directives:{TransferDom:v.default},components:{Cell:c.default,Popup:m.default,Group:C.default,XInput:y.default,PopupPicker:A.default,Datetime:w.default,XTextarea:x.default,PopupRadio:L.default,RPicker:E.default,PopDealerList:U.default,PopSalesmanList:Q.default,PopBaseinfo:V.default},mixins:[$.default],filters:{numberComma:P.default},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],this.formData.dealerDebitContactPersonName=this.dealerInfo.creatorName||"",this.formData.dealerDebitContactInformation=this.dealerInfo.dealerMobilePhone,this.formData.drDealerLabel=this.dealerInfo.dealerLabelName,this.formData.dealerDebit=this.dealerInfo.dealerCode},selContact:function(e){var t=(0,d.default)({},e);this.contactInfo=t,this.formData.dealerDebitContactPersonName=t.dealerName||"",this.formData.dealerDebitContactInformation=t.dealerMobilePhone||""},submitOrder:function(){var e=this,t="",a=[{key:"opportunityTitle",message:"请填写商机标题"},{key:"tdAmount",message:"请填写预期销售额"}];if("{}"==(0,o.default)(this.dealerInfo)&&(t="请选择客户"),t||a.every(function(a){return e.formData[a.key]?!(e.formData[a.key]<0)||(t="抱歉，销售额不允许为负数",!1):(t=a.message,!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=R.saveAndStartWf;e.formData.categoryLabels=e.categoryLabels[0];var a=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName}),n={listId:e.listId,biComment:"",formData:(0,o.default)(a),wfPara:(0,o.default)((0,r.default)({},e.processCode,{businessKey:"OPPT",createdBy:a.creator}))};e.isResubmit&&(t=R.saveAndCommitTask,n.biReferenceId=e.biReferenceId,n.wfPara=(0,o.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=R.submitAndCalc,delete n.wfPara,delete n.biReferenceId),e.biReferenceId&&(n.biReferenceId=e.biReferenceId),e.saveData(t,n)}})},getFormData:function(){var e=this;return(0,O.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=o;r.order;e.dealerInfo={creatorName:r.dealerDebitContactPersonName||"",dealerName:r.dealerName_dealerDebit||"",dealerMobilePhone:r.dealerDebitContactInformation||"",dealerCode:r.dealerDebit||"",dealerLabelName:r.drDealerLabel||"客户",province:r.province_dealerDebit||"",city:r.city_dealerDebit||"",county:r.county_dealerDebit||"",address:r.address_dealerDebit||""},e.contactInfo={dealerName:r.dealerDebitContactPersonName||"",dealerMobilePhone:r.dealerDebitContactInformation||""},e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,d.default)({},e.formData,r,e.handlerDefault,{biComment:r.biComment,biId:r.biId,biProcessStatus:r.biProcessStatus,creator:r.creator,modifer:r.modifer,validUntil:(0,S.default)(r.validUntil,"YYYY-MM-DD")}),e.categoryLabels=[r.categoryLabels],e.biReferenceId=r.biReferenceId,e.$loading.hide()})},checkAmt:function(e){e&&(this.formData.tdAmount=Math.abs((0,X.toFixed)(e)))},getTypeLabel:function(){var e=this;(0,R.getDictByType)("categoryLabels").then(function(t){var a=t.tableContent,n=void 0===a?[]:a,i=[];n.forEach(function(e){i.push(e.name)}),e.currentType.push(i)})},hasDraftData:function(){var e=this.formData;if(e.dealerDebit||e.opportunityTitle||e.tdAmount||e.biProcessStatus)return(0,r.default)({},"SJ_DATA",{formData:e,dealerInfo:this.dealerInfo,contactInfo:this.contactInfo,categoryLabels:this.categoryLabels})}},created:function(){var e=sessionStorage.getItem("SJ_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.contactInfo=t.contactInfo,this.categoryLabels=t.categoryLabels,sessionStorage.removeItem("SJ_DATA")}this.getTypeLabel()}}},eg1s:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("fQlz"),o=n(s),l=a("+AeB"),d=n(l);t.default={name:"REmotion",props:{show:{type:Boolean,default:!0}},components:{Emotion:d.default},data:function(){return{emotionList:[].concat((0,r.default)(o.default))}},methods:{emotionClick:function(e,t){this.$emit("on-select","["+e+"]")}},created:function(){}}},eoI8:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("MjAd"),o=n(s),l=(a("vS5q"),a("Qg39")),d=a("zWMP");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2435,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"协议号",value:"transMatchedCode"}]}},mixins:[o.default],watch:{listData:{handler:function(e){var t=!0,a=!1,n=void 0;try{for(var i,s=(0,r.default)(e);!(t=(i=s.next()).done);t=!0){var o=i.value;o.count=0;var u=!0,c=!1,f=void 0;try{for(var m,h=(0,r.default)(o.detailItem);!(u=(m=h.next()).done);u=!0){var v=m.value;o.count=(0,l.toFixed)((0,d.accAdd)(o.count,v.tdAmountCopy1))}}catch(e){c=!0,f=e}finally{try{!u&&h.return&&h.return()}finally{if(c)throw f}}}}catch(e){a=!0,n=e}finally{try{!t&&s.return&&s.return()}finally{if(a)throw n}}}}}}},eq7N:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("Jwlx"),c=n(u),f=a("HXPS"),m=n(f),h=a("7g+Q"),v=n(h),p=a("6q39"),C=(n(p),a("L6VY")),_=n(C),y=a("iR2W"),b=n(y),g=a("7biW"),w=n(g),I=a("hFVz"),x=a("1KNX"),D=n(x);t.default={name:"PopDealerList",props:{dealerLabelName:{type:String,default:"供应商"},defaultValue:{type:Object,default:function(){return{}}},required:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"},request:{type:String,default:"0"},params:{type:Object,default:function(){return{}}}},components:{Icon:m.default,Popup:v.default,DSearch:w.default,RScroll:D.default},data:function(){return{page:1,limit:10,hasNext:!0,showDealerPop:!1,srhInpTx:"",selInfo:{},selItems:[],listData:[],scrollOptions:{pullUpLoad:!0},requestMethods:null}},watch:{defaultValue:{handler:function(){var e=this.defaultValue;this.selInfo=(0,c.default)((0,d.default)({},e)),this.selItems=[(0,d.default)({},e)]},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showDealerPop=!1},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.dealerCode===e.dealerCode})},selItem:function(e,t){this.showDealerPop=!1,this.selItems=[e],this.selInfo=(0,c.default)((0,d.default)({},e)),this.$emit("sel-item",(0,d.default)({},this.selInfo))},getDealer:function(){var e=this,t=[];if(this.srhInpTx){var a="nickname";["3"].includes(this.request)&&(a="dealerName"),t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:a}])}return this.requestMethods((0,d.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,o.default)(e.listData),(0,o.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})}).catch(function(e){_.default.show({content:e.message})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getDealer()},itemClick:function(){this.showDealerPop=!0},onPullingUp:function(){this.page++,this.getDealer()}},filters:{numberComma:b.default},created:function(){var e=[I.getPaySupplierArrears,I.getDepositToPaySuppliers,I.getSaleAcceptanceBill,I.getObjDealerBalByLabelName];this.requestMethods=e[this.request],this.getDealer()}}},erBg:function(e,t,a){"use strict";function n(e){a("nald")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("5eL4");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("5+pH"),o=a.n(s),l=a("OAN/"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-19aba039",null);t.default=c.exports},esH7:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("Jwlx"),c=n(u),f=a("L6VY"),m=n(f),h=a("iR2W"),v=n(h),p=a("QHLv"),C=a("0Nk0"),_=n(C);t.default={name:"PopCashList",props:{defaultValue:{type:Object,default:function(){return{}}},required:{type:Boolean,default:!1},request:{type:String,default:"0"},params:{type:Object,default:function(){return{}}}},components:{RPopup:_.default},data:function(){return{page:1,limit:10,hasNext:!0,showDealerPop:!1,srhInpTx:"",selInfo:{},selItems:[],listData:[],scrollOptions:{pullUpLoad:!0},requestMethods:null}},watch:{defaultValue:{handler:function(){this.selInfo=(0,c.default)((0,d.default)({},this.defaultValue))},immediate:!0}},methods:{selItem:function(e){this.selInfo=(0,d.default)({},e),this.$emit("sel-item",(0,d.default)({},e))},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:"fundName"}])),this.requestMethods((0,d.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,o.default)(e.listData),(0,o.default)(r))}).catch(function(e){m.default.show({content:e.message})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()}},filters:{numberComma:v.default},created:function(){var e=[p.getEmployeeReserveFunds,p.getSupplierToPayDeposit,p.getFundCashDiscount,p.getObjFundBalByType,p.getComplexExpenseReimbursement];this.requestMethods=e[this.request],this.getList()}}},esNF:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("just-word-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}},scopedSlots:e._u([{key:"list-item",fn:function(t){var n=t.item;return e._l(n.detailItem,function(t,n){return a("div",{key:n,staticClass:"each-slot-item"},[a("div",{staticClass:"top-content"},[e._v("费用名称: "+e._s(t.costName_expCode))]),e._v(" "),a("div",{staticClass:"main-content"},[a("div",{staticClass:"info_part"},[e._v("\n                费用科目: "+e._s(t.expSubject)+"\n              ")]),e._v(" "),a("div",{staticClass:"info_part"},[e._v("\n                费用类型: "+e._s(t.costType_expCode)+"\n              ")]),e._v(" "),a("div",{staticClass:"info_part"},[e._v("\n                申请金额: ￥"+e._s(e._f("numberComma")(t.tdAmount))+"\n              ")]),e._v(" "),a("div",{staticClass:"info_part"},[e._v("\n                可抵扣税金: ￥"+e._s(e._f("numberComma")(t.taxAmount))+"\n              ")]),e._v(" "),a("div",{staticClass:"info_part different_type"},[e._v("\n                抵扣后金额: ￥"+e._s(e._f("numberComma")(t.noTaxAmount))+"\n              ")])])])})}}])})}))],1),e._v(" "),e.action.add?a("div",{staticClass:" vux-1px-t btn "},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},esl5:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("3cXf"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("bFc7"),p=n(v),C=a("6WeX"),_=n(C),y=a("3NX5"),b=n(y),g=a("zWMP");t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"",contactInfo:{}}},components:{workFlow:h.default,RAction:f.default,contactPart:p.default,PriceTotal:_.default,MatterList:b.default},mixins:[u.default],methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(e.submitInfo=JSON.parse((0,o.default)(t)),!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=!0,i=!1,s=void 0;try{for(var l,d=(0,r.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;u.noTaxAmount=(0,g.accMul)(u.price,u.tdQty),u.taxAmount=(0,g.accMul)(u.noTaxAmount,u.taxRate),u.tdAmount=(0,g.accAdd)(u.noTaxAmount,u.taxAmount),e.count=(0,g.accAdd)(e.count,u.tdAmount),u.inventoryPic=u.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+u.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){i=!0,s=e}finally{try{!n&&d.return&&d.return()}finally{if(i)throw s}}e.orderInfo=t.formData,e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo={creatorName:a.dealerDebitContactPersonName,dealerName:a.dealerName_dealerDebit,dealerMobilePhone:t.dealerDebitContactInformation,dealerCode:a.dealerDebit,dealerLabelName:a.drDealerLabel,province:a.province_dealerDebit,city:a.city_dealerDebit,county:a.county_dealerDebit,address:a.address_dealerDebit,payment:a.drDealerPaymentTerm,logistics:t.drDealerLogisticsTerms}}}}},ewRl:function(e,t,a){"use strict";function n(e){a("r2c2")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("bOiH");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("eg0j"),o=a.n(s),l=a("Lcut"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-0de14205",null);t.default=c.exports},ezSw:function(e,t,a){"use strict";function n(e){a("XqBV")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("y2/q");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("hrbZ"),o=a.n(s),l=a("8dAA"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-fd680916",null);t.default=c.exports},f06H:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MgeX"),r=n(i),s=a("HzJ8"),o=n(s),l=a("4YfN"),d=n(l),u=a("kNGm"),c=n(u),f=a("h+4q"),m=a("HyXB");a("9r/T");t.default={filters:{dateFormat:c.default},data:function(){return{transCode:"",MatPic:"",warehouse:{},baseinfo:{},typeSubMap:{staff:{title:"员工",dealerLabelName:"员工",key:"staffDealerCode",value:"",code:"",list:[]},group:{title:"组织",dealerLabelName:"",key:"groupCode",value:"",code:"",list:[]},customer:{title:"客户",dealerLabelName:"客户",key:"customerDealerCode",value:"",code:"",list:[]},processors:{title:"加工商",dealerLabelName:"加工商",key:"processorsDealerCode",value:"",code:"",list:[]},channel:{title:"渠道商",dealerLabelName:"渠道商",key:"channelDealerCode",value:"",code:"",list:[]},noMatched:{title:"",dealerLabelName:"",key:"",value:"",code:"",list:[]}},typeSub:"group",typeToSubMap:{"配送中心仓":"group","加工商仓":"processors","加工车间仓":"group","客户仓":"customer","渠道商仓":"channel","个人仓":"staff","一般部门仓":"group"}}},methods:{findData:function(){var e=this;return(0,f.getwarehouseInfo)(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=(t.attachment,n.baseinfo),s=void 0===i?{}:i,l=n.warehouse,u=void 0===l?{}:l;switch(u.warehouseStatus){case 1:u.warehouseStatus="使用中";break;case 2:u.warehouseStatus="未使用";break;case 0:u.warehouseStatus="草稿";break;case-1:u.warehouseStatus="停用"}e.hasDefault=!0,e.baseinfo=(0,d.default)({},e.baseinfo,s),e.warehouse=(0,d.default)({},e.warehouse,u),e.warehouse.warehousePic?e.MatPic="/H_roleplay-si/ds/download?url="+e.warehouse.warehousePic+"&width=400&height=400":e.getDefaultImg();for(var c in e.warehouse)""==e.warehouse[c]&&(e.warehouse[c]="无");if(e.typeSub=e.typeToSubMap[e.warehouse.warehouseType]||"noMatched","noMatched"!==e.typeSub){var f=!0,m=!1,h=void 0;try{for(var v,p=(0,o.default)((0,r.default)(e.typeSubMap));!(f=(v=p.next()).done);f=!0){var C=v.value;if(e.warehouse[C.key]){C.code=e.warehouse[C.key],e.getTypeSubList();break}}}catch(e){m=!0,h=e}finally{try{!f&&p.return&&p.return()}finally{if(m)throw h}}e.biReferenceId=e.warehouse.referenceId,e.$loading.hide()}}).catch(function(t){e.$loading.hide(),e.$vux.alert.show({content:t.message})})},getDefaultImg:function(){this.MatPic=a("CRKs")},getTypeSubList:function(){var e=this;switch(this.typeSub){case"group":return(0,f.getDepartMentWage)().then(function(t){var a=t.tableContent,n=void 0===a?[]:a,i=!0,r=!1,s=void 0;try{for(var l,d=(0,o.default)(n);!(i=(l=d.next()).done);i=!0){var u=l.value;if(u.GROUP_CODE===e.typeSubMap[e.typeSub].code){e.typeSubMap[e.typeSub].value=u.GROUP_NAME;break}}}catch(e){r=!0,s=e}finally{try{!i&&d.return&&d.return()}finally{if(r)throw s}}});case"staff":case"customer":case"processors":case"channel":return(0,m.getObjDealerByLabelName)({dealerLabelName:this.typeSubMap[this.typeSub].dealerLabelName}).then(function(t){var a=t.tableContent,n=void 0===a?[]:a,i=!0,r=!1,s=void 0;try{for(var l,d=(0,o.default)(n);!(i=(l=d.next()).done);i=!0){var u=l.value;if(u.dealerCode===e.typeSubMap[e.typeSub].code){e.typeSubMap[e.typeSub].value=u.dealerName;break}}}catch(e){r=!0,s=e}finally{try{!i&&d.return&&d.return()}finally{if(r)throw s}}})}}},created:function(){this.$loading.show();var e=this.$route.query;e.transCode&&(this.transCode=e.transCode,this.findData())}}},f3ai:function(e,t){},"f4G+":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("7g+Q"),o=n(s),l=a("+62G"),d=(n(l),a("z5TY")),u=n(d),c=a("BGNQ"),f=n(c),m=a("SAzG"),h=n(m),v=a("1KNX"),p=n(v),C=a("Qg39"),_=a("zWMP");t.default={name:"Bom",props:{show:{type:Boolean,default:!1},bomInfo:{type:Object,default:function(){return{}}},btnIsHide:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!0},specificLossText:{type:String,default:"损耗率"},noSpecificLoss:{type:Boolean,default:!1}},data:function(){return{scrollOptions:{click:!0},showPop:!1,btnNext:"返回"}},components:{Popup:o.default,Group:u.default,Cell:f.default,XInput:h.default,RScroll:p.default},watch:{show:{handler:function(e){this.showPop=e}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()}),this.btnNext="返回"},onHide:function(){this.$emit("input",!1)},confirm:function(){"确认"===this.btnNext&&this.$emit("bom-confirm",(0,r.default)(this.bomInfo)),this.showPop=!1},modifyBom:function(e){var t=this;this.$vux.confirm.prompt(e.specificLoss,{title:this.specificLossText,onConfirm:function(a){if(a){e.specificLoss=Math.abs((0,C.toFixed)(a));var n=(0,_.accMul)(t.bomInfo.tdQty,e.qty,1+e.specificLoss);e.tdQty=Math.abs((0,C.toFixed)(n)),t.btnNext="确认"}}})},getFocus:function(e){event.currentTarget.select()},closePop:function(){this.showPop=!1},changeToConfirm:function(){this.btnNext="确认"}}}},f6zL:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("BGNQ"),r=n(i),s=a("z5TY"),o=n(s),l=a("kNGm"),d=n(l),u=a("0AQX"),c=a("+VRO"),f=n(c),m=a("Qg39"),h=a("BUFe"),v=n(h),p=a("AupE"),C=n(p),_=a("bFc7"),y=n(_);t.default={data:function(){return{count:0,orderInfo:{},contactInfo:{},formViewUniqueId:"5446fc51-1d16-489a-ab2b-6b2292bb7be5"}},mixins:[f.default],components:{Cell:r.default,Group:o.default,RAction:v.default,workFlow:C.default,contactPart:y.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment,e.count=e.count/100,t.formData.validUntil=(0,d.default)(t.formData.validUntil,"YYYY-MM-DD"),t.formData.tdAmount=(0,m.toFixed)(t.formData.tdAmount),e.orderInfo=t.formData,e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.orderInfo);this.contactInfo={creatorName:e.dealerDebitContactPersonName,dealerName:e.dealerName_dealerDebit,dealerMobilePhone:e.dealerDebitContactInformation,dealerContactPersonName:e.dealerCreditContactPersonName,dealerCode:e.dealerDebit,dealerLabelName:e.drDealerLabel,province:e.province_dealerDebit,city:e.city_dealerDebit,county:e.county_dealerDebit,address:e.address_dealerDebit,payment:e.drDealerPaymentTerm,validUntil:e.validUntil,logistics:e.drDealerLogisticsTerms}}}}},fCs9:function(e,t,a){"use strict";function n(e){a("dRU1")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("rZl4");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("BM9o"),o=a.n(s),l=a("QpJC"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-c751d6c0",null);t.default=c.exports},fDbc:function(e,t){},fEP3:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getTaskWorkList=t.getBomWorkCheck=t.getBomWorkStart=t.getWorkStartList=t.getWorkGDBLLList=t.getWorkCheckList=t.getObjFacility=t.getWorkOrderTask=void 0;var i=a("3cXf"),r=n(i),s=a("4YfN"),o=n(s),l=a("GOq4"),d=n(l),u=t.getWorkOrderTask=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/ds/getWorkOrderTask",data:e})},c=t.getObjFacility=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/ds/getObjFacility",data:e})},f=(t.getWorkCheckList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/ds/getWorkCheck",data:e})},t.getWorkGDBLLList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/ds/getWorkReplenishment",data:(0,o.default)({_dc:Date.now(),refresh:!0},e)})}),m=t.getWorkStartList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/ds/getWorkOrderStart",data:(0,o.default)({_dc:Date.now()},e)})},h=t.getBomWorkStart=function(e){return d.default.ajax({url:"/H_roleplay-si/ds/getBomWorkOrderStart",data:{_dc:Date.now(),filter:(0,r.default)([{operator:"in",property:"parentInvCode",value:e}])}})};t.getBomWorkCheck=function(e){var t=e.transCode,a=void 0===t?"":t,n=e.inventoryCode,i=void 0===n?"":n;return d.default.ajax({url:"/H_roleplay-si/ds/getBomWorkOrderCheck",data:{_dc:Date.now(),filter:(0,r.default)([{operator:"in",property:"startCode",value:a},{operator:"in",property:"parentInvCode",value:i}])}})},t.getTaskWorkList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/account-api/account/getView",data:(0,o.default)({},e,{user_code:1,view_scope:"data",page:1,start:0,limit:100})})};t.default={getObjFacility:c,getWorkOrderTask:u,getWorkGDBLLList:f,getWorkStartList:m,getBomWorkStart:h}},fFaL:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("a3Yh"),o=n(s),l=a("IHPB"),d=n(l),u=a("4YfN"),c=n(u),f=a("3cXf"),m=n(f),h=a("HXPS"),v=n(h),p=a("BGNQ"),C=n(p),_=a("z5TY"),y=n(_),b=a("SAzG"),g=n(b),w=a("PzEQ"),I=n(w),x=a("0AQX"),D=a("HyXB"),P=a("bKg5"),k=n(P),S=a("VZtf"),T=n(S),L=a("kZy/"),N=n(L),M=a("89pA"),A=n(M),O=a("luHD"),R=n(O),j=a("vl8n"),$=n(j),B=a("+WR7"),E=n(B);t.default={mixins:[k.default],components:{Icon:v.default,Cell:C.default,Group:y.default,XInput:g.default,XTextarea:I.default,RNumber:T.default,PopMatterList:N.default,PopWarehouseList:A.default,PopMatter:R.default,RPicker:$.default,PopBaseinfo:E.default},data:function(){return{listId:"4d9a7f8f-9a88-47b6-a1f4-3faed6423615",matterList:[],showMaterielPop:!1,transCode:"",formData:{biComment:""},numMap:{},warehouseOut:null,warehouseIn:null,warehouseParams:{whCode:""},matter:{},showMatterPop:!1,modifyIndex:null}},methods:{delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=this;this.matterList.forEach(function(t){e.numMap[t.inventoryCode]=t.tdQty}),this.showMaterielPop=!this.showMaterielPop},selWarehouseOut:function(e){this.warehouseOut=JSON.parse(e),this.warehouseParams=(0,c.default)({},this.warehouseParams,{whCode:this.warehouseOut.warehouseCode}),this.matterList=[]},selWarehouseIn:function(e){this.warehouseIn=JSON.parse(e)},modifyMatter:function(e,t){this.matter=JSON.parse((0,m.default)(e)),this.showMatterPop=!0,this.modifyIndex=t},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.matterList,this.modifyIndex,t)},selMatter:function(e){var t=this,a=JSON.parse(e);a.forEach(function(e){e.tdQty=t.numMap[e.inventoryCode]||""}),this.numMap={},this.matterList=[].concat((0,d.default)(a))},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},save:function(){var e=this,t="",a=[];if([{key:"warehouseOut",message:"出库仓库"},{key:"warehouseIn",message:"入库仓库"}].every(function(a){return!!e[a.key]||(t="请选择"+a.message,!1)}),t||this.matterList.length||(t="请选择物料"),this.matterList.every(function(n){if(!n.tdQty)return t="请填写调拨数量",!1;var i={transObjCode:n.inventoryCode,tdProcessing:n.processing,thenQtyStock:n.qtyBal,tdQty:n.tdQty,assistQty:n.assistQty||0,assMeasureScale:n.assMeasureScale||null,assMeasureUnit:n.assMeasureUnit||null,comment:n.comment||null};return e.transCode&&(i.tdId=n.tdId||""),a.push(i),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=D.saveAndStartWf,n=(0,c.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,containerOutWarehouseManager:e.warehouseOut.containerOutWarehouseManager||null,containerInWarehouseManager:e.warehouseIn.containerInWarehouseManager||null,inPut:{containerCodeOut:e.warehouseOut.warehouseCode,containerCode:e.warehouseIn.warehouseCode,dataSet:a}}),i={listId:e.listId,biComment:"",formData:(0,m.default)(n),wfPara:(0,m.default)((0,o.default)({},e.processCode,{businessKey:"TRAN",createdBy:n.creator}))};e.transCode&&(t=D.saveAndCommitTask,i.biReferenceId=e.biReferenceId,i.wfPara=(0,m.default)({businessKey:e.transCode,createdBy:n.creator,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=D.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,x.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=t.attachment;var o=[],l=s.inPut,d=l.dataSet,u=void 0===d?[]:d,f=!0,m=!1,h=void 0;try{for(var v,p=(0,r.default)(u);!(f=(v=p.next()).done);f=!0){var C=v.value;C=(0,c.default)({},C,{qtyBal:C.thenQtyStock,inventoryPic:C.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+C.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:C.inventoryName_transObjCode,inventoryCode:C.inventoryCode_transObjCode,specification:C.specification_transObjCode,measureUnit:C.measureUnit_transObjCode,processing:C.tdProcessing}),o.push(C)}}catch(e){m=!0,h=e}finally{try{!f&&p.return&&p.return()}finally{if(m)throw h}}e.warehouseIn={warehouseCode:l.containerCode,warehouseName:l.warehouseName_containerCode,warehouseType:l.warehouseType_containerCode,warehouseProvince:l.warehouseProvince_containerCode,warehouseCity:l.warehouseCity_containerCode,warehouseDistrict:l.warehouseDistrict_containerCode,warehouseAddress:l.warehouseAddress_containerCode},e.warehouseOut={warehouseCode:l.containerCodeOut,warehouseName:l.warehouseName_containerCodeOut,warehouseType:l.warehouseType_containerCodeOut,warehouseProvince:l.warehouseProvince_containerCodeOut,warehouseCity:l.warehouseCity_containerCodeOut,warehouseDistrict:l.warehouseDistrict_containerCodeOut,warehouseAddress:l.warehouseAddress_containerCodeOut},e.warehouseParams={whCode:e.warehouseOut.warehouseCode},e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,c.default)({},e.handlerDefault,{biComment:s.biComment,biId:s.biId,biProcessStatus:s.biProcessStatus,creator:s.creator,modifer:s.modifer}),e.biReferenceId=s.biReferenceId,e.matterList=o,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,o.default)({},"BDKCDB_DATA",{matter:this.matterList,warehouseOut:this.warehouseOut,warehouseIn:this.warehouseIn,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("BDKCDB_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.warehouseOut=t.warehouseOut,this.warehouseIn=t.warehouseIn,this.formData=t.formData,this.warehouseParams={whCode:this.warehouseOut.warehouseCode},sessionStorage.removeItem("BDKCDB_DATA")}}}},fJ2I:function(e,t,a){"use strict";function n(e){a("OV+5")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("JeEO");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("o+wH"),o=a.n(s),l=a("bZiz"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},fKU2:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("3pyw"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"countup",mounted:function(){var e=this;this.$nextTick(function(){e._countup=new i.default(e.$el,e.startVal,e.endVal,e.decimals,e.duration,e.options),e.start&&e._countup.start()})},props:{tag:{type:String,default:"span"},start:{type:Boolean,default:!0},startVal:{type:Number,default:0},endVal:{type:Number,required:!0},decimals:{type:Number,default:0},duration:{type:Number,default:2},options:{type:Object,default:function(){return{}}}},render:function(e){return e(this.tag,{},[this.startVal])},watch:{start:function(e){e&&this._countup.start()},endVal:function(e){this._countup.update(e)}}}},fMId:function(e,t,a){"use strict";function n(e){a("9IhM")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("274J");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("1/RG"),o=a.n(s),l=a("FVHH"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-35d1234e",null);t.default=c.exports},fPYh:function(e,t,a){"use strict";function n(e){a("WQIx")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("fd/A");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("V2cg"),o=a.n(s),l=a("P/xF"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-656dc48d",null);t.default=c.exports},fQJn:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("a3Yh"),o=n(s),l=a("MgeX"),d=n(l),u=a("HzJ8"),c=n(u),f=a("ZLEe"),m=n(f),h=a("3cXf"),v=n(h),p=a("HXPS"),C=n(p),_=a("BGNQ"),y=n(_),b=a("z5TY"),g=n(b),w=a("SAzG"),I=n(w),x=a("PzEQ"),D=n(x),P=a("0AQX"),k=a("HyXB"),S=a("bKg5"),T=n(S),L=a("VZtf"),N=n(L),M=a("89pA"),A=n(M),O=a("luHD"),R=n(O),j=a("Pb67"),$=n(j),B=a("RMtk"),E=n(B),F=a("vl8n"),U=n(F),q=a("+WR7"),Q=n(q),H=a("Qg39");t.default={mixins:[T.default],components:{Icon:C.default,Cell:y.default,Group:g.default,XInput:I.default,XTextarea:D.default,RNumber:N.default,PopOrderList:$.default,PopWarehouseList:A.default,PopMatter:R.default,RPicker:U.default,PopBaseinfo:Q.default,PopOrderXqtjList:E.default},data:function(){return{listId:"762b8df4-2555-4325-884a-355f34355832",orderList:{},matterList:[],showOrderPop:!1,transCode:"",formData:{biComment:""},numMap:{},warehouseIn:null,matter:{},showMatterPop:!1,modifyIndex:null}},methods:{checkAmt:function(e){var t=e.tdQty,a=e.qtyBal;t&&(e.tdQty=Math.abs((0,H.toFixed)(t)),t>a&&(e.tdQty=a))},delClick:function(e,t,a){var n=this.selItems,i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode&&e.transCode===t.transCode});if(-1!==i)return void n.splice(i,1);n.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,v.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,m.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});i>=0&&(e.$refs.order.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,c.default)((0,d.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,o=!1,l=void 0;try{for(var u,f=(0,c.default)(r);!(s=(u=f.next()).done);s=!0){var m=u.value;this.numMap[m.transCode+"_"+m.inventoryCode]={tdQty:m.tdQty,shippingTime:m.shippingTime}}}catch(e){o=!0,l=e}finally{try{!s&&f.return&&f.return()}finally{if(o)throw l}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},selWarehouseIn:function(e){this.warehouseIn=JSON.parse(e)},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,v.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t)},selOrder:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){var a=e.transCode+"_"+e.inventoryCode,i=t.numMap[a]||{},r=i.tdQty,s=void 0===r?"":r,o=i.shippingTime,l=void 0===o?"":o;e.tdQty=s,e.shippingTime=l,n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},submitOrder:function(){var e=this,t="",a=[];[{key:"warehouseIn",message:"入库仓库"}].every(function(a){return!!e[a.key]||(t="请选择"+a.message,!1)}),t||(0,m.default)(this.orderList).length||(t="请选择物料");var n=!0,i=!1,s=void 0;try{for(var l,u=(0,c.default)((0,d.default)(this.orderList));!(n=(l=u.next()).done);n=!0){var f=l.value,h=!0,p=!1,C=void 0;try{for(var _,y=(0,c.default)(f);!(h=(_=y.next()).done);h=!0){var b=_.value;if(!b.tdQty){t="请填写数量";break}var g={transMatchedCode:b.transCode,outPutMatCode:b.inventoryCode,containerCodeOut:this.warehouseIn.warehouseCode,warehouseType_containerCodeOut:this.warehouseIn.warehouseType,tdProcessing:b.processing,thenQtyBal:b.qtyBal,thenQtyStock:b.qtyStock,tdQty:b.tdQty,comment:b.comment||""};this.transCode&&(g.tdId=b.tdId||""),a.push(g)}}catch(e){p=!0,C=e}finally{try{!h&&y.return&&y.return()}finally{if(p)throw C}}}}catch(e){i=!0,s=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw s}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=k.saveAndStartWf,n={},i=(0,o.default)({},e.processCode,{businessKey:"PREQ",createdBy:""});n=(0,r.default)({},e.formData,{modifer:e.transCode?e.formData.handler:"",handlerEntity:e.entity.dealerName,outPut:{containerCode:e.warehouseIn.warehouseCode,dataSet:a},containerInWarehouseManager:e.warehouseIn.containerInWarehouseManager||null}),e.transCode&&(t=k.saveAndCommitTask,i={businessKey:e.transCode,createdBy:n.creator||n.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var s={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,v.default)(n),wfPara:(0,v.default)(i)};e.transCode||delete s.biReferenceId,e.processCode.length||(t=k.submitAndCalc,delete s.wfPara,delete s.biReferenceId),e.biReferenceId&&(s.biReferenceId=e.biReferenceId),e.saveData(t,s)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=l;var d=[],u={},f=s.outPut,m=f.dataSet,h=void 0===m?[]:m,v=!0,p=!1,C=void 0;try{for(var _,y=(0,c.default)(h);!(v=(_=y.next()).done);v=!0){var b=_.value;b=(0,r.default)({},b,{transCode:b.transMatchedCode,qtyBal:b.thenQtyBal,qtyStock:b.thenQtyStock,inventoryPic:b.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+b.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:b.inventoryName_outPutMatCode,inventoryCode:b.outPutMatCode,specification:b.specification_outPutMatCode,processing:b.tdProcessing}),u[b.transCode]||(u[b.transCode]=[]),d.push(b),u[b.transCode].push(b)}}catch(e){p=!0,C=e}finally{try{!v&&y.return&&y.return()}finally{if(p)throw C}}e.warehouseIn={warehouseCode:f.containerCode,warehouseName:f.warehouseName_containerCode,warehouseType:f.warehouseType_containerCode,warehouseProvince:f.warehouseProvince_containerCode,warehouseCity:f.warehouseCity_containerCode,warehouseDistrict:f.warehouseDistrict_containerCode,warehouseAddress:f.warehouseAddress_containerCode},e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,r.default)({},e.formData,e.handlerDefault,{biComment:s.biComment,biId:s.biId,biProcessStatus:s.biProcessStatus,creator:s.creator,modifer:s.modifer}),e.biReferenceId=s.biReferenceId,e.matterList=d,e.orderList=u,e.$loading.hide()})},assembMatterList:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,c.default)((0,d.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,o=!1,l=void 0;try{for(var u,f=(0,c.default)(r);!(s=(u=f.next()).done);s=!0){var m=u.value;this.matterList.push(m)}}catch(e){o=!0,l=e}finally{try{!s&&f.return&&f.return()}finally{if(o)throw l}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}},hasDraftData:function(){return!!(0,d.default)(this.orderList).length&&(0,o.default)({},"NBJGLL_DATA",{orderList:this.orderList,warehouseIn:this.warehouseIn,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("NBJGLL_DATA");if(e){var t=JSON.parse(e);this.orderList=t.orderList,this.assembMatterList(),this.formData=t.formData,this.warehouseIn=t.warehouseIn,sessionStorage.removeItem("NBJGLL_DATA")}}}},fQlz:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["微笑","撇嘴","色","发呆","得意","流泪","害羞","闭嘴","睡","大哭","尴尬","发怒","调皮","呲牙","惊讶","难过","酷","冷汗","抓狂","吐","偷笑","可爱","白眼","傲慢","饥饿","困","惊恐","流汗","憨笑","大兵","奋斗","咒骂","疑问","嘘","晕","折磨","衰","骷髅","敲打","再见","擦汗","抠鼻","鼓掌","糗大了","坏笑","左哼哼","右哼哼","哈欠","鄙视","委屈","快哭了","阴险","亲亲","吓","可怜","菜刀","西瓜","啤酒","篮球","乒乓","咖啡","饭","猪头","玫瑰","凋谢","示爱","爱心","心碎","蛋糕","闪电","炸弹","刀","足球","瓢虫","便便","月亮","太阳","礼物","拥抱","强","弱","握手","胜利","抱拳","勾引","拳头","差劲","爱你","NO","OK","爱情","飞吻","跳跳","发抖","怄火","转圈","磕头","回头","跳绳","挥手","激动","街舞","献吻","左太极","右太极"]},fQz5:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("BJMS");a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,function(){return n[e]})}(i);var r=a("73SI"),s=a.n(r),o=a("0GX7"),l=a("C7Lr"),d=l(s.a,o.a,!1,null,null,null);t.default=d.exports},fSHU:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("kNGm"),o=(n(s),a("SAzG")),l=n(o),d=a("0AQX"),u=a("+VRO"),c=n(u),f=a("BUFe"),m=n(f),h=a("AupE"),v=n(h),p=a("bFc7"),C=n(p),_=a("CKaN"),y=n(_),b=a("zWMP"),g=a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",contactInfo:{},dealerInfo:{},cashInfo:{}}},computed:{isInCharge:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"d7ef0729-4a55-46fe-a750-e5298042c5bc"===t},isApproval:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"65afdac2-db7d-42d1-a059-7fdb98892134"===t},isCashier:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"14128204-e4ee-4688-98c7-9d3c03e7a3ad"===t},isAccount:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"b8490da9-513f-408b-8974-83998188bf6a"===t},cashParams:function(){return{transCode:this.transCode}}},mixins:[c.default],components:{workFlow:v.default,RAction:m.default,contactPart:C.default,PopCashList:y.default,XInput:l.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,d.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment,e.orderInfo=t.formData,e.dealerInfo=t.formData.order.dataSet[0],e.cashInfo=t.formData.outPut.dataSet[0],e.workFlowInfoHandler()})},agreeHandler:function(){if(this.isApproval||this.isCashier||this.isAccount){if(this.isCashier&&!this.cashInfo.fundCode)return this.$vux.alert.show({content:"请选择资金账户"}),!0;var e=this.orderInfo,t=this.dealerInfo,a=this.cashInfo,n=(0,r.default)({},e,{order:{dataSet:[{tdIdCopy1:t.tdIdCopy1,dealerCodeCredit:t.dealerCodeCredit,crDealerLabel:t.crDealerLabel,applicationType:t.applicationType,tdCreditLine:t.tdCreditLine,thenAmntBalCopy1:t.thenAmntBalCopy1,thenTotalAmntBal:t.thenTotalAmntBal,tdAmountCopy1:t.tdAmountCopy1,differenceAmount:t.differenceAmount,expCause:t.expCause}]},outPut:{dataSet:[{cashInCode:a.fundCode||a.cashInCode,cashType_cashInCode:a.fundType||a.cashType_cashInCode,thenAmntBal:a.thenAmntBal,tdAmount:a.tdAmount,tdId:a.tdId}]}});return this.saveData(n),!0}return!1},selCash:function(e){this.cashInfo=(0,r.default)({},this.cashInfo,e)},calcPayment:function(e){var t=e.thenAmntBalCopy1,a=void 0===t?0:t,n=e.tdAmountCopy1,i=void 0===n?0:n;i||(i=0),i=(0,g.toFixed)(i),e.tdAmountCopy1=i,e.differenceAmount=(0,g.toFixed)((0,b.accAdd)(a,i))}}}},fc3g:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("J0Oq"),o=n(s),l=a("KH7x"),d=n(l),u=a("XAqG"),c=a("I8ug"),f=a("d7ck"),m=n(f);t.default={name:"USERForm",components:{FormCell:m.default},data:function(){return{colId:"",userData:{},action:{}}},methods:{getDefaultImg:function(e){this.userData.photo=a("男"===e?"cr7Q":"Atv/")},loadPage:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.$loading.show(),(0,u.getUserDetail)(this.colId).then(function(t){var a=t.tableContent,n=void 0===a?[]:a,i=(0,d.default)(n,1),r=i[0],s=void 0===r?{}:r,o=["女","男"],l=["临时账户","长期有效"],u=["shortTerm","longTerm"],c=["","使用中","未使用","草稿"],f=["","inUse","unUse"];s.gender=o[s.gender]||"未知",s.statusClass=f[s.status],s.status=c[s.status]||"停用",s.typeClass=u[s.userType],s.userType=l[s.userType],e.userData=s,s.photo||e.getDefaultImg(s.gender),e.$loading.hide()})},goEdit:function(){var e=this.$route.query.name,t=this.$route.params,a=t.fileId,n=t.listId;this.$router.push({path:"/fillForm/"+a+"/"+n,query:{name:e,colId:this.colId}})},getAppDetail:function(){var e=this,t=this.$route.params.listId,a=void 0===t?"":t;return(0,c.getAppDetail)(a).then(function(t){var a=(0,d.default)(t,1),n=a[0],i=void 0===n?{}:n,r=i.action;e.action=r})}},created:function(){var e=this;(0,o.default)(r.default.mark(function t(){var a,n;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.$route.query.colId,n=void 0===a?"":a,e.colId=n,t.next=4,e.getAppDetail();case 4:e.loadPage();case 5:case"end":return t.stop()}},t,e)}))()}}},"fd/A":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("rVsN"),o=n(s),l=a("4YfN"),d=n(l),u=a("KH7x"),c=n(u),f=a("BGNQ"),m=n(f),h=a("z5TY"),v=n(h),p=a("SAzG"),C=n(p),_=a("PzEQ"),y=n(_),b=a("u28h"),g=n(b),w=a("kNGm"),I=n(w),x=a("jLp1"),D=a("HyXB"),P=a("bKg5"),k=n(P),S=a("PKHo"),T=n(S),L=a("vl8n"),N=n(L),M=a("+WR7"),A=n(M),O=a("7D9F"),R=n(O),j=a("zWMP"),$=a("Qg39");t.default={mixins:[k.default,T.default],components:{Cell:m.default,Group:v.default,XInput:C.default,RPicker:N.default,PopBaseinfo:A.default,Datetime:g.default,XTextarea:y.default,PopManagerList:R.default},data:function(){return{listId:"630a9b96-f257-48b6-b0bc-fd64c455d92b",typeList:[],subclassList:[],ProjectApproval:{projectName:"",projectType:"",projectManager:"",phoneNumber:"",expectStartDate:(0,I.default)(new Date,"YYYY-MM-DD"),expectEndDate:(0,I.default)(new Date,"YYYY-MM-DD"),budgetIncome:"",budgetCapital:"",budgetCost:"",budgetProfit:"",budgetProfitMargin:"",comment:"",projectSubclass:""},formData:{biComment:"",biProcessStatus:""},defaultManager:{},hasDefault:!1}},computed:{profit:function(){var e=this.ProjectApproval,t=e.budgetIncome,a=void 0===t?0:t,n=e.budgetCapital,i=void 0===n?0:n,r=e.budgetCost,s=void 0===r?0:r,o=(0,j.accSub)(a,i),l=(0,$.toFixed)((0,j.accSub)(o,s));return this.ProjectApproval.budgetProfit=l,l},profitMargin:function(){var e=this.ProjectApproval,t=e.budgetIncome,a=void 0===t?0:t,n=e.budgetProfit,i=void 0===n?1:n,r=(0,$.toFixed)(Math.floor(Number(i)/(Number(a)||1)*1e4)/1e4);return this.ProjectApproval.budgetProfitMargin=r,1e4*r/100+"%"}},methods:{save:function(){var e=this,t=[{tip:"projectManager",msg:"项目经理"},{tip:"projectType",msg:"项目大类"},{tip:"projectName",msg:"项目名称"},{tip:"budgetIncome",msg:"预算收入"},{tip:"budgetCapital",msg:"预算成本"},{tip:"budgetCost",msg:"预算费用"},{tip:"expectStartDate",msg:"预期开始日期"},{tip:"expectEndDate",msg:"预期截止日期"}],a=["projectManager","projectType"],n="";if(t.every(function(t){return!!e.ProjectApproval[t.tip]||(n=a.includes(t.tip)?"请选择"+t.msg:"请填写"+t.msg,!1)}),n)return void this.$vux.alert.show({content:n});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=x.saveProjectApproval,a={listId:e.listId,formData:{handlerEntity:e.entity.dealerName,comment:{biComment:e.formData.biComment},baseinfo:{creator:e.formData.handler,handler:e.formData.handler,handlerName:e.formData.handlerName,handlerRole:e.formData.handlerRole,handlerRoleName:e.formData.handlerRoleName,handlerUnit:e.formData.handlerUnit,handlerUnitName:e.formData.handlerUnitName,id:"",modifer:e.formData.handler},projectApproval:e.ProjectApproval},wfParam:null};e.saveData(t,a)}})},selManager:function(e){var t=JSON.parse(e);this.ProjectApproval.projectManager=t.dealerName,this.ProjectApproval.phoneNumber=t.dealerMobilePhone},checkAmt:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];t&&(this.ProjectApproval[e]=(0,$.toFixed)(t))},getBigType:function(){var e=this;return(0,D.getDictByType)("projectType").then(function(t){var a=t.tableContent,n=void 0===a?[]:a;n&&n.forEach(function(e){e.originValue=e.value,e.value=e.name}),e.typeList=n})},getType:function(){var e=this,t=this.typeList.find(function(t){return t.name===e.ProjectApproval.projectType})||{};return(0,D.getDictByValue)(t.originValue).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;return n&&n.forEach(function(e){e.originValue=e.value,e.value=e.name}),e.subclassList=n,n})},projectBigChange:function(e){var t=this;this.getType().then(function(e){if(!t.hasDefault){var a=(0,c.default)(e,1),n=a[0],i=void 0===n?{}:n;t.ProjectApproval.projectSubclass=i.name}})},getFormData:function(){var e=this;return(0,x.findProjectApproval)(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a;e.hasDefault=!0,e.defaultManager={dealerName:n.projectApproval.projectManager,dealerMobilePhone:n.projectApproval.phoneNumber},n.projectApproval.expectStartDate=e.changeDate(n.projectApproval.expectStartDate),n.projectApproval.expectEndDate=e.changeDate(n.projectApproval.expectEndDate),e.ProjectApproval=n.projectApproval,e.$nextTick(function(){e.hasDefault=!1}),e.handlerDefault={handler:n.baseinfo.handler,handlerName:n.baseinfo.handlerName,handlerUnit:n.baseinfo.handlerUnit,handlerUnitName:n.baseinfo.handlerUnitName,handlerRole:n.baseinfo.handlerRole,handlerRoleName:n.baseinfo.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:n.baseinfo.biComment,biId:n.baseinfo.biId,biProcessStatus:n.baseinfo.biProcessStatus,creator:n.baseinfo.creator,modifer:n.baseinfo.modifer}),e.biReferenceId=n.biReferenceId,e.$loading.hide()})},initRequest:function(){var e=this,t=sessionStorage.getItem("XMLX_DATA"),a=[];if(t){var n=JSON.parse(t);return this.ProjectApproval=n.ProjectApproval,this.defaultManager={dealerName:this.ProjectApproval.projectManager,dealerMobilePhone:this.ProjectApproval.phoneNumber},this.getBigType().then(function(){e.getType()}),void sessionStorage.removeItem("XMLX_DATA")}return a.push(this.getBigType()),o.default.all(a)},hasDraftData:function(){return!!this.ProjectApproval.projectManager&&(0,r.default)({},"XMLX_DATA",{ProjectApproval:this.ProjectApproval})}},created:function(){}}},"fej/":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),m=a("89pA"),h=n(m),v=a("bFc7"),p=n(v),C=a("6WeX"),_=n(C),y=a("hPJo"),b=n(y),g=a("3NX5"),w=n(g),I=a("sUbJ"),x=n(I),D=a("d7ck"),P=n(D),k=a("zWMP"),S=a("Qg39");t.default={data:function(){return{count:0,comment:"",orderInfo:{},warehouse:{},formViewUniqueId:"e76a8c6f-05cc-45ee-ba93-299fe6751856",orderList:{}}},computed:{noTaxAmount:function(){var e=0;return this.orderInfo.inPut.dataSet.forEach(function(t){e=(0,k.accAdd)(e,t.noTaxAmount)}),e},taxAmount:function(){var e=0;return this.orderInfo.inPut.dataSet.forEach(function(t){e=(0,k.accAdd)(e,t.taxAmount)}),e}},mixins:[l.default],components:{workFlow:f.default,RAction:u.default,PopWarehouseList:h.default,PriceTotal:_.default,contactPart:p.default,WarehouseContent:b.default,MatterList:w.default,MatterItem:x.default,FormCell:P.default},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var d={},u=s.inPut,c=void 0===u?{}:u;e.attachment=l;var f=s.inPut.dataSet,m=!0,h=!1,v=void 0;try{for(var p,C=(0,r.default)(f);!(m=(p=C.next()).done);m=!0){var _=p.value;_.noTaxAmount=(0,k.accMul)(_.price,_.tdQty),_.taxAmount=(0,k.accMul)(_.noTaxAmount,_.taxRate),_.tdAmount=(0,S.toFixed)((0,k.accAdd)(_.noTaxAmount,_.taxAmount)),e.count=(0,k.accAdd)(e.count,_.tdAmount),_.inventoryPic=_.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),d[_.transMatchedCode]||(d[_.transMatchedCode]=[]),d[_.transMatchedCode].push(_)}}catch(e){h=!0,v=e}finally{try{!m&&C.return&&C.return()}finally{if(h)throw v}}e.orderList=d,e.dealerInfo={creatorName:s.dealerCreditContactPersonName,dealerName:c.dealerName_dealerCodeCredit,dealerMobilePhone:s.dealerCreditContactInformation,dealerContactPersonName:s.dealerCreditContactPersonName,dealerCode:c.dealerCode_dealerCodeCredit,dealerLabelName:c.crDealerLabel,province:c.province_dealerCodeCredit,city:c.city_dealerCodeCredit,county:c.county_dealerCodeCredit,address:c.address_dealerCodeCredit,payment:c.crDealerPaymentTerm},e.warehouse={warehouseCode:c.containerCode,warehouseName:c.warehouseName_containerCode,warehouseType:c.warehouseType_containerCode,warehouseProvince:c.warehouseProvince_containerCode,warehouseCity:c.warehouseCity_containerCode,warehouseDistrict:c.warehouseDistrict_containerCode,warehouseAddress:c.warehouseAddress_containerCode,containerInWarehouseManager:c.containerInWarehouseManager},e.orderInfo=s,e.workFlowInfoHandler()})}}}},fg8O:function(e,t,a){"use strict";function n(e){a("800f")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3lqy");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("GqrD"),o=a.n(s),l=a("DAXD"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-4298a564",null);t.default=c.exports},fi79:function(e,t){},fkNu:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=(a("XAqG"),a("HyXB"),a("MjAd")),o=n(s),l=a("ak47");n(l);t.default={name:"CPXQ_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"经办人",value:"handlerName"},{name:"交易号",value:"transCode"},{name:"员工",value:"profileName"}],listViewID:2376}},mixins:[o.default],methods:{pathChange:function(e,t,a){var n=this;if(!this.clickVisited){var i=e.transCode,s=this.$route.query.name,o=this.$route.params,l=o.fileId,d=o.listId;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,r.default)({},e));var u=a+"/"+l+"/"+d;setTimeout(function(){n.clickVisited=!1,n.$router.push({path:u,query:{name:s,transCode:i}})},200)}},goDetail:function(e,t){this.pathChange(e,t,"/detail")},goUserEdit:function(e,t){this.pathChange(e,t,"/fillform")}}}},foOz:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("4YfN"),o=n(s),l=a("MgeX"),d=n(l),u=a("HzJ8"),c=n(u),f=a("ZLEe"),m=n(f),h=a("rVsN"),v=n(h),p=a("IHPB"),C=n(p),_=a("3cXf"),y=n(_),b=a("HXPS"),g=n(b),w=a("BGNQ"),I=n(w),x=a("z5TY"),D=n(x),P=a("SAzG"),k=n(P),S=a("u28h"),T=n(S),L=a("PzEQ"),N=n(L),M=a("0AQX"),A=a("I3vJ"),O=a("HyXB"),R=a("bKg5"),j=n(R),$=a("luHD"),B=n($),E=a("RMtk"),F=n(E),U=a("d7ck"),q=n(U),Q=a("FlCz"),H=n(Q),V=a("MVgC"),X=n(V),z=a("vl8n"),Y=n(z),W=a("+WR7"),G=n(W),J=a("zWMP"),K=a("Qg39");t.default={name:"ApplyWLXQTJForm",mixins:[j.default],components:{Icon:g.default,Cell:I.default,Group:D.default,XInput:k.default,XTextarea:N.default,PopMatter:B.default,PopOrderXqtjList:F.default,Datetime:T.default,FormCell:q.default,BomList:H.default,BomPop:X.default,RPicker:Y.default,PopBaseinfo:G.default},data:function(){return{listId:"65ceb5a6-a120-11e8-862a-005056a136d0",orderList:{},showOrderPop:!1,DuplicateBoms:[],UniqueBom:[],formData:{biComment:""},submitSuccess:!1,numMap:{},transCode:"",formViewUniqueId:"346ede09-ac6a-489a-9242-f385932a4443",biReferenceId:"",actions:[],taskId:"",matterList:[],entity:{},selItems:[],matter:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,bomPopShow:!1,bom:{},modifyBomTdqty:[]}},watch:{matter:{handler:function(e){e.boms&&e.boms.forEach(function(t){var a=(0,J.accMul)(e.tdQty,t.qty,1+t.specificLoss);t.tdQty=Math.abs((0,K.toFixed)(a))})},deep:!0}},methods:{checkBom:function(e,t,a){this.bom=e,this.modifyIndex=t,this.modifyKey=a,this.bomPopShow=!0,this.modifyBomTdqty=JSON.parse((0,y.default)(e.boms))},bomConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t),this.reBuildArr(t)},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,y.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a,this.modifyBomTdqty=[].concat((0,C.default)(e.boms))},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t),this.reBuildArr(t)},reBuildArr:function(e){var t=this,a=e.boms;this.modifyBomTdqty.forEach(function(e){a.forEach(function(a){if(a.inventoryCode===e.inventoryCode)return a.newTdqty=(0,J.accSub)(a.tdQty,e.tdQty),t.UniqueBom.forEach(function(e){if(a.inventoryCode===e.inventoryCode)return e.tdQty=(0,J.accAdd)(e.tdQty,a.newTdqty),!1}),!0})})},selOrder:function(e){var t=this,a=JSON.parse(e),n={},i=[];this.DuplicateBoms=[],a.forEach(function(e){var a=e.transCode+"_"+e.orderCode+"_"+e.inventoryCode,r=t.numMap[a]||{},s=r.tdQty,o=void 0===s?"":s,l=r.shippingTime,d=void 0===l?"":l,u=r.boms,c=void 0===u?[]:u;e.tdQty=o,e.shippingTime=d,n[e.transCode]||(n[e.transCode]=[]),i.push((0,A.getJGDDBom)({parentInvCode:e.inventoryCode}).then(function(a){var n=a.tableContent,i=void 0===n?[]:n;i.forEach(function(t){var a=c.find(function(e){return t.inventoryCode===e.inventoryCode})||{},n=a.specificLoss,i=void 0===n?t.specificLoss:n,r=(0,J.accMul)(e.tdQty,t.qty,1+i);t.specificLoss=i,t.tdQty=Math.abs((0,K.toFixed)(r))}),t.$set(e,"boms",i);var r=JSON.parse((0,y.default)(i));t.DuplicateBoms=[].concat((0,C.default)(t.DuplicateBoms),(0,C.default)(r))})),n[e.transCode].push(e)}),v.default.all(i).then(function(e){t.mergeBomList()}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},findIndex:function(e,t){return e.findIndex(function(e){return e.orderCode===t.orderCode&&e.transCode===t.transCode&&e.inventoryCode===t.inventoryCode})},delClick:function(e,t,a){var n=this.selItems,i=this.findIndex(n,t);if(-1!==i)return void n.splice(i,1);n.push(t)},showSelIcon:function(e){return-1!==this.findIndex(this.selItems,e)},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,y.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,m.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.orderCode===a.orderCode&&t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=e.findIndex(n,t);i>=0&&(e.$refs.order.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}})}),e.selItems.forEach(function(t){t.boms.forEach(function(t){return e.UniqueBom.forEach(function(a,n){if(t.inventoryCode===a.inventoryCode){var i=(0,J.accSub)(a.tdQty,t.tdQty);return a.tdQty=(0,K.toFixed)(i),a.tdQty<=0&&e.UniqueBom.splice(n,1),!1}}),!0})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,c.default)((0,d.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,l=!1,u=void 0;try{for(var f,m=(0,c.default)(r);!(s=(f=m.next()).done);s=!0){var h=f.value;this.numMap[h.transCode+"_"+h.orderCode+"_"+h.inventoryCode]=(0,o.default)({},h)}}catch(e){l=!0,u=e}finally{try{!s&&m.return&&m.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="",a=[];t||(0,m.default)(this.orderList).length||(t="请选择物料");var n=!0,i=!1,s=void 0;try{for(var l,u=(0,c.default)((0,d.default)(this.orderList));!(n=(l=u.next()).done);n=!0){var f=l.value,h=!0,v=!1,p=void 0;try{for(var C,_=(0,c.default)(f);!(h=(C=_.next()).done);h=!0){var b=C.value;if(!b.tdQty){t="请填写减少数量";break}var g=[],w=!0,I=!1,x=void 0;try{for(var D,P=(0,c.default)(b.boms);!(w=(D=P.next()).done);w=!0){var k=D.value,S={tdId:k.tdId||null,transMatchedCode:b.transCode,tdQty:k.tdQty,orderCode:b.orderCode,bomSpecificLoss:k.specificLoss||k.bomSpecificLoss,tdProcessing:k.processing||k.tdProcessing,inventoryName:k.inventoryName,transObjCode:k.inventoryCode||k.transObjCode,measureUnit:k.measureUnit,bomType:k.bomType,bomQty:k.qty||k.bomQty,specification:k.specification,parentId:k.parentId||null};this.transCode&&delete S.orderCode,g.push(S)}}catch(e){I=!0,x=e}finally{try{!w&&P.return&&P.return()}finally{if(I)throw x}}var T={tdId:b.tdId||null,transMatchedCode:b.transCode,orderCode:b.orderCode,transObjCode:b.inventoryCode,inventoryName_transObjCode:b.inventoryName,tdProcessing:b.processing,measureUnit_transObjCode:b.measureUnit,thenQtyBal:b.qtyBal,shippingTime:b.shippingTime,tdQty:b.tdQty,comment:b.comment||"",boms:g};a.push(T)}}catch(e){v=!0,p=e}finally{try{!h&&_.return&&_.return()}finally{if(v)throw p}}}}catch(e){i=!0,s=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw s}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=O.saveAndStartWf,n={},i=(0,r.default)({},e.processCode,{businessKey:"IPPO",createdBy:""});n=(0,o.default)({},e.formData,{modifer:e.transCode?e.formData.handler:"",handlerEntity:e.entity.dealerName,order:{dataSet:a}}),e.transCode&&(t=O.saveAndCommitTask,i={businessKey:e.transCode,createdBy:n.creator||n.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var s={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,y.default)(n),wfPara:(0,y.default)(i)};e.transCode||delete s.biReferenceId,e.processCode.length||(t=O.submitAndCalc,delete s.wfPara,delete s.biReferenceId),e.biReferenceId&&(s.biReferenceId=e.biReferenceId),e.saveData(t,s)}})},getFormData:function(){var e=this;return(0,M.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,l=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=l;var d={},u=r.order,f=u.dataSet,m=void 0===f?[]:f,h=!0,v=!1,p=void 0;try{for(var C,_=(0,c.default)(m);!(h=(C=_.next()).done);h=!0){var b=C.value;b.boms.forEach(function(e){e.inventoryCode=e.transObjCode,e.specificLoss=e.bomSpecificLoss}),b.boms&&(e.DuplicateBoms=e.DuplicateBoms.concat(JSON.parse((0,y.default)(b.boms)))),b=(0,o.default)({},b,{transCode:b.transMatchedCode,qtyBal:b.thenQtyBal,inventoryPic:b.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+b.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:b.inventoryName_transObjCode,inventoryCode:b.transObjCode,specification:b.specification_transObjCode,processing:b.tdProcessing}),d[b.transCode]||(d[b.transCode]=[]),d[b.transCode].push(b)}}catch(e){v=!0,p=e}finally{try{!h&&_.return&&_.return()}finally{if(v)throw p}}e.matterList=m,e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,o.default)({},e.formData,e.handlerDefault,{biComment:r.biComment,biId:r.biId,biProcessStatus:r.biProcessStatus,creator:r.creator,modifer:r.modifer,drDealerLogisticsTerms:r.drDealerLogisticsTerms}),e.mergeBomList(),e.biReferenceId=r.biReferenceId,e.orderList=d,e.$loading.hide()})},mergeBomList:function(){var e=function(e,t){return e.inventoryCode===t.inventoryCode};this.UniqueBom=function(t){return t.reduce(function(t,a){return t.some(function(t){var n=e(t,a);return n&&(t.tdQty=(0,J.accAdd)(t.tdQty,a.tdQty)),n})||t.push(a),t},[])}(this.DuplicateBoms)},hasDraftData:function(){return!!(0,d.default)(this.orderList).length&&(0,r.default)({},"NBJGDD_DATA",{orderList:this.orderList,formData:this.formData,DuplicateBoms:this.DuplicateBoms})},getRelationData:function(){}},created:function(){var e=sessionStorage.getItem("NBJGDD_DATA");if(e){var t=JSON.parse(e);this.orderList=t.orderList,this.formData=t.formData,this.DuplicateBoms=t.DuplicateBoms,this.mergeBomList(),sessionStorage.removeItem("NBJGDD_DATA")}}}},fqKN:function(e,t){},fqO9:function(e,t,a){"use strict";function n(e){a("YYRM")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("z3XC");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("qSzm"),o=a.n(s),l=a("Rwmr"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-5e5c00e7",null);t.default=c.exports},fsDx:function(e,t,a){"use strict";function n(e){a("MuIo")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("hE3F");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("KEY0"),o=a.n(s),l=a("6aCO"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-1291a962",null);t.default=c.exports},"fu+O":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("3cXf"),o=n(s),l=a("4YfN"),d=n(l),u=a("0AQX"),c=a("Dkzh"),f=a("7biW"),m=n(f),h=a("1KNX"),v=n(h);t.default={data:function(){return{serachVal:"",title:"",listData:[],page:1,limit:10,hasNext:!0,DefaultImg:a("cr7Q"),scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0}}},components:{search:m.default,RScroll:v.default},methods:{goDetail:function(e,t){var a=this,n=(e.listId,e.title);e.visited=!0,this.$set(this.listData,t,(0,d.default)({},e));var i=Date.now(),r="",s="";e.typeID?(r=e.typeID,s=e.parentId):r=e.parentId,(0,u.isMyflow)({transCode:e.businessKey}).then(function(t){var o=t.tableContent,l=function(){var t="";if(o.length>0){var i=o[0],l=i.isMyTask,d=i.nodeName;t=1===l&&"重新提交"===d?"/fillform/"+r+"/"+e.listId:"/detail/"+r+"/"+e.listId}else t="/detail/"+r+"/"+e.listId;var u={name:n,transCode:e.businessKey};e.typeID&&(u.childId=s),a.$router.push({path:t,query:u})},d=Date.now()-i;d>200?l():setTimeout(function(){l()},200-d)}).catch(function(n){e.visited=!1,a.$set(a.listData,t,(0,d.default)({},e))})},resetCondition:function(){this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.$refs.bScroll.resetPullDown()},searchList:function(e){var t=e.val,a=void 0===t?"":t;e.property;this.serachVal=a,this.resetCondition(),this.getList()},getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a={title:this.title,businessKey:this.serachVal,crtName:this.serachVal};return(0,c.getAllMsgList)({limit:this.limit,page:this.page,filter:(0,o.default)(a)}).then(function(a){var n=a.total,i=void 0===n?0:n,s=a.tasks,o=void 0===s?[]:s;a.success;o.forEach(function(e){e.status="待处理",e.transCode=e.businessKey}),e.hasNext=i>(e.page-1)*e.limit+o.length,e.listData=1===e.page?o:[].concat((0,r.default)(e.listData),(0,r.default)(o)),t||e.$nextTick(function(){e.resetScroll()})}).catch(function(t){e.resetScroll()})},getDefaultImg:function(e){var t=a("HfaK");return e&&(e.inventoryPic=t),t},resetScroll:function(){this.$refs.bScroll.finishPullDown(),this.$refs.bScroll.finishPullUp()},onPullingUp:function(){this.page++,this.getList()},onPullingDown:function(){var e=this;this.page=1,this.getList(!0).then(function(){e.$nextTick(function(){e.$refs.bScroll.finishPullDown().then(function(){e.$refs.bScroll.finishPullUp()})})})},reloadData:function(){var e=this;this.serachVal="",this.resetCondition(),this.getList().then(function(){e.$loading.hide()})}},filters:{handleCrt:function(e){var t=e.duration,a=parseInt(t/3600),n=t-3600*a,i=Math.floor(n/60),r=void 0;return r=a>0?a+"小时前":0===i?"1分钟前":i+"分钟前",a<24?r:""+e.crtTime.split(" ")[0]}},created:function(){var e=this;this.$loading.show(),this.title=this.$route.query.name,this.getList().then(function(){e.$loading.hide()})},activated:function(){var e=this,t=this.$route.meta.reload;this.title=this.$route.query.name,setTimeout(function(){var t=[].concat((0,r.default)(e.listData));t.forEach(function(e){e.visited=!1}),e.listData=t},200),t&&(this.$loading.show(),this.reloadData(),this.$route.meta.reload=!1)},beforeRouteEnter:function(e,t,a){e.meta.title=e.query.name,a()},beforeRouteLeave:function(e,t,a){"MSGHOME"===e.name&&(t.meta.reload=!0),a()}}},fuxa:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages xsbj-list-conatiner",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("just-word-item",{key:n,attrs:{item:t,noCount:""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}))],1),e._v(" "),e.action.add?a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},fv0H:function(e,t){},fyaN:function(e,t,a){"use strict";function n(e){a("fqKN")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Kuu/");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("v8BB"),o=a.n(s),l=a("1jhs"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-463a4c3e",null);t.default=c.exports},"g+qi":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("4YfN"),o=n(s),l=a("vl8n"),d=n(l),u=a("5gKc"),c=n(u),f=a("PKHo"),m=n(f),h=a("0w+U");t.default={components:{RPicker:d.default,UploadImage:c.default},data:function(){return{MatPic:"",groupId:"",isNameExist:!1,isShortNameExist:!1,CompanyType:["有限责任公司","股份有限公司","集团公司","有限合伙","普通合伙","个人独资","子公司","其他"],CompanyStatus:["草稿","未使用","使用中","停用"],newCompanyInfo:{companyType:"有限责任公司",groupName:"",groupPic:"",groupShortName:"",groupType:"C",parentId:"1",status:"使用中"}}},mixins:[m.default],methods:{onUpload:function(e){this.newCompanyInfo.groupPic="/H_roleplay-si/ds/download?width=128&height=128&specify=true&url="+e.src},getDefaultImg:function(){this.newCompanyInfo.groupPic=a("tVsm")},checkGroupName:function(){var e=this;this.newCompanyInfo.groupName&&(0,h.checkValue)("groupName",this.newCompanyInfo.groupName).then(function(t){var a=t.result;e.isNameExist=!1,a&&(e.isNameExist=!0,e.$vux.alert.show({content:"【公司名称】已存在，请替换别的名称"}))})},checkShortName:function(){var e=this;this.newCompanyInfo.groupShortName&&(0,h.checkValue)("groupShortName",this.newCompanyInfo.groupShortName).then(function(t){var a=t.result;e.isShortNameExist=!1,a&&(e.isShortNameExist=!0,e.$vux.alert.show({content:"【公司简称】已存在，请替换别的简称"}))})},submit:function(){var e=this,t=this.groupId?h.update:h.save,a=[];a=t===h.save?[(0,o.default)({},this.newCompanyInfo)]:[{status:this.newCompanyInfo.status,groupId:this.newCompanyInfo.groupId,groupPic:this.newCompanyInfo.groupPic,groupName:this.newCompanyInfo.groupName,companyType:this.newCompanyInfo.companyType,groupShortName:this.newCompanyInfo.groupShortName}],this.$vux.confirm.show({content:"确定提交？",onConfirm:function(){switch(a[0].status){case"停用":a[0].status=-1;break;case"使用中":a[0].status=1;break;case"未使用":a[0].status=2;break;case"草稿":a[0].status=3}t(a).then(function(t){t[0]&&t[0].groupId||t.success?(e.$emit("change",!0),e.$vux.alert.show({content:t.success?"修改成功":"提交成功",onHide:function(){e.$router.go(-1)}})):e.$vux.alert.show({content:t.message})})}})},save:function(){var e=this,t="",a=[{key:"groupName",message:"【公司名称】"},{key:"groupShortName",message:"【公司简称】"},{key:"companyType",message:"【公司类型】"}];if(this.isNameExist?t="【公司名称】已存在，请替换别的名称":this.isShortNameExist&&(t="【公司简称】已存在，请替换别的简称"),!t&&a.every(function(a){return!!e.newCompanyInfo[a.key]||(t=a.message+"不能为空",!1)}),t)return void this.$vux.alert.show({content:t});this.submit()},CompanyInfo:function(){var e=this;return(0,h.CompanyInfo)(this.groupId).then(function(t){var a=!0,n=!1,i=void 0;try{for(var s,o=(0,r.default)(t);!(a=(s=o.next()).done);a=!0){var l=s.value;switch(l.status){case 1:l.status="使用中";break;case 2:l.status="未使用";break;case 3:l.status="草稿";break;case-1:l.status="停用"}e.newCompanyInfo=l}}catch(e){n=!0,i=e}finally{try{!a&&o.return&&o.return()}finally{if(n)throw i}}})}},created:function(){this.$loading.show();var e=this.$route.query.groupId,t=void 0===e?"":e;this.groupId=t,t&&this.CompanyInfo(),this.$loading.hide()}}},"g0+/":function(e,t,a){"use strict";function n(e){a("m4Nf")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("8MNr");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("BLSw"),o=a.n(s),l=a("awDs"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-75596ca2",null);t.default=c.exports},g09T:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),m=a("89pA"),h=n(m),v=a("hPJo"),p=n(v),C=a("3NX5"),_=n(C);t.default={data:function(){return{orderInfo:{},warehouseIn:{},warehouseOut:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513"}},mixins:[l.default],components:{workFlow:f.default,PopWarehouseList:h.default,RAction:u.default,WarehouseContent:p.default,MatterList:_.default},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.inPut,n=void 0===a?{}:a,i=n.dataSet,s=!0,o=!1,l=void 0;try{for(var d,u=(0,r.default)(i);!(s=(d=u.next()).done);s=!0){var c=d.value;c.inventoryPic=c.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+c.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){o=!0,l=e}finally{try{!s&&u.return&&u.return()}finally{if(o)throw l}}e.warehouseIn={warehouseCode:n.containerCode,warehouseName:""+n.warehouseName_containerCode,warehouseAction:"入库",warehouseIcon:"icon-ruku",warehouseType:n.warehouseType_containerCode,warehouseProvince:n.warehouseProvince_containerCode,warehouseCity:n.warehouseCity_containerCode,warehouseDistrict:n.warehouseDistrict_containerCode,warehouseAddress:n.warehouseAddress_containerCode},e.warehouseOut={warehouseCode:n.containerCodeOut,warehouseName:""+n.warehouseName_containerCodeOut,warehouseAction:"出库",warehouseIcon:"icon-chuku",warehouseType:n.warehouseType_containerCodeOut,warehouseProvince:n.warehouseProvince_containerCodeOut,warehouseCity:n.warehouseCity_containerCodeOut,warehouseDistrict:n.warehouseDistrict_containerCodeOut,warehouseAddress:n.warehouseAddress_containerCodeOut},e.orderInfo=t.formData,e.workFlowInfoHandler()})}},created:function(){}}},g27m:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("7g+Q"),r=n(i),s=a("z5TY"),o=n(s),l=a("kNGm"),d=(n(l),a("I8ug")),u=a("d3k1"),c=n(u);t.default={data:function(){return{submitData:{achievement:"",chance:"",date:""},listId:"",btnIsHide:!1,clientHeight:document.documentElement.clientHeight}},components:{Popup:r.default,Group:o.default},methods:{getDate:function(){var e=this;this.$vux.datetime.show({cancelText:"取消",confirmText:"确定",format:"YYYY-MM",onConfirm:function(t){console.log(t),e.submitData.date=t}})},submit:function(){var e=this,t="";if([{key:"date",message:"【期间（月份）】"},{key:"achievement",message:"【效率与成本改进成果】"},{key:"chance",message:"【效率与成本改进机会】"}].every(function(a){return""!==e.submitData[a.key]||(t=a.message+"不能为空",!1)}),t)return void this.$vux.alert.show({content:t});var a={achievement:this.submitData.achievement,chance:this.submitData.chance,date:this.submitData.date+"-1",listId:this.listId};(0,d.saveAssessment)(a).then(function(t){t.success&&(e.submitSuccess=!0,e.$vux.alert.show({content:"提交成功",onHide:function(){e.$router.go(-1)}}))})}},created:function(){var e=this.$route.params.listId;e&&(this.listId=e)},mounted:function(){var e=this;c.default.isAndroid&&(window.onresize=function(){e.clientHeight>document.documentElement.clientHeight?e.btnIsHide=!0:e.btnIsHide=!1})},beforeRouteLeave:function(e,t,a){e.path;this.submitSuccess&&"APPDETAIL"===e.name&&(e.meta.reload=!0),a()}}},g2cw:function(e,t,a){"use strict";function n(e){a("n5sc")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("J1O+");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("tZbj"),o=a.n(s),l=a("rdNp"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-5ce9a285",null);t.default=c.exports},g2zt:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("+62G"),v=n(h),p=a("6q39"),C=n(p),_=a("fEP3"),y=a("1KNX"),b=n(y),g=a("7biW"),w=n(g);t.default={name:"PopCompanyList",props:{defaultValue:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1}},directives:{TransferDom:v.default},components:{Icon:c.default,Popup:m.default,RScroll:b.default,DSearch:w.default,LoadMore:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},watch:{defaultValue:function(e){this.setDefaultValue()}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this.getList()},showSelIcon:function(e){return this.selItems.facilityName===e.facilityName},selThis:function(e,t){this.showPop=!1,this.selItems=e,console.log(this.selItems),this.$emit("sel-item",this.selItems)},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"facilityName"}])),(0,_.getObjFacility)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,d.default)(e.listData),(0,d.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.selItems=this.defaultValue?(0,r.default)({},this.defaultValue):{}},itemClick:function(){this.disabled||(this.showPop=!this.showPop)}},created:function(){this.setDefaultValue(),this.disabled||this.getList()}}},g8L4:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{on:{"on-sort":e.onSortList}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noCount:"",noPrice:""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}))],1),e._v(" "),e.action.add?a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},gBBO:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("HXPS"),d=n(l),u=a("7g+Q"),c=n(u),f=a("6q39"),m=n(f),h=a("fEP3"),v=a("1KNX"),p=n(v),C=a("7biW"),_=n(C);a("zWMP");t.default={name:"work-list-pop",props:{show:{type:Boolean,default:!1},params:{type:Object,default:function(){return{calc_rel_code:7051,view_id:"view_94"}}},workType:{type:String,default:"派工"}},components:{Icon:d.default,Popup:c.default,LoadMore:m.default,RScroll:p.default,MSearch:_.default},data:function(){return{showPop:!1,srhInpTx:"",scrollOptions:{click:!0},btnText:"关闭",filterList:[{name:"成品名称",value:"inventoryName"},{name:"工序名称",value:"procedureName"}],filterProperty:"",taskWorkList:[],tmpItems:[]}},watch:{show:{handler:function(e){this.showPop=e}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1),this.tmpItems=[]},findIndex:function(e,t){return e.findIndex(function(e){var a=!0;return e.transCode&&(a=e.transCode===t.transCode),a&&e.inventoryName===t.inventoryName&&e.procedureName===t.procedureName})},showSelIcon:function(e){return-1!==this.findIndex(this.tmpItems,e)},selThis:function(e,t){var a=this.tmpItems,n=this.findIndex(a,e);if(-1!==n)return a.splice(n,1),void(a.length||(this.btnText="关闭"));a.push(e),this.btnText=this.tmpItems?"发起工单"+this.workType:"关闭"},getWorkOrderTask:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,h.getWorkOrderTask)({filter:(0,r.default)(t)}).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;n.forEach(function(e){e.isStartTask=!1}),e.taskWorkList=n})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.taskWorkList={},this.$refs.bScroll.scrollTo(0,0),this.getWorkOrderTask()},btnHandle:function(){"关闭"!==this.btnText&&this.$emit("sel-task",this.tmpItems),this.showPop=!1}},created:function(){this.getWorkOrderTask()}}},gBjh:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("7g+Q"),d=n(l),u=a("+62G"),c=(n(u),a("kNGm")),f=n(c),m=a("1KNX"),h=n(m),v=(a("HyXB"),a("vS5q"));t.default={name:"RSort",components:{Popup:d.default,RScroll:h.default},props:{data:{type:Array,default:function(){return[{name:"综合",key:""},{name:"交易号",key:"transCode"},{name:"修改时间",key:"modTime"}]}},viewId:{type:Number,default:2190}},data:function(){return{sort:"",toDay:"",preDate:"",property:"",fieldVlaue:{},showFilter:!1,timeFilter:{startDate:"",endDate:""},lastFilter:{},scrollOptions:{click:!0},filtersList:{}}},methods:{sortClick:function(e,t){this.property===e.key?this.sort="ASC"===this.sort?"DESC":"ASC":this.sort="ASC",this.property=e.key,this.$emit("on-sort",{property:e.key,direction:this.sort})},onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()}),this.lastFilter={timeFilter:JSON.parse((0,o.default)(this.timeFilter)),otherFilter:JSON.parse((0,o.default)(this.fieldVlaue))}},onHide:function(){var e=!1;this.timeFilter.startDate===this.lastFilter.timeFilter.startDate&&this.timeFilter.endDate===this.lastFilter.timeFilter.endDate||(e=!0),(0,o.default)(this.fieldVlaue)!==(0,o.default)(this.lastFilter.otherFilter)&&(e=!0),e&&this.$emit("on-filter",{timeFilter:this.timeFilter,otherFilter:this.fieldVlaue})},showSelIcon:function(e,t){if(this.fieldVlaue[t])return-1!==this.fieldVlaue[t].value.findIndex(function(t){return t===e})},selProcee:function(e,t){if(this.fieldVlaue[t]){var a=this.fieldVlaue[t].value,n=a.findIndex(function(t){return t===e});if(-1!==n)return a.splice(n,1),void(a.length||delete this.fieldVlaue[t]);a.push(e)}else{var i={alias:this.filtersList[t].alias,value:[e]};this.$set(this.fieldVlaue,t,(0,r.default)({},i))}},getStart:function(){var e=this;this.$vux.datetime.show({cancelText:"取消",confirmText:"确定",value:this.timeFilter.startDate,endDate:this.preDate,onConfirm:function(t){e.timeFilter.startDate=t}})},getEnd:function(){var e=this;this.$vux.datetime.show({cancelText:"取消",confirmText:"确定",value:this.timeFilter.endDate,endDate:this.toDay,onConfirm:function(t){e.timeFilter.endDate=t}})},filterConfirm:function(){this.showFilter=!1},filterReset:function(){this.timeFilter={startDate:"",endDate:""},this.fieldVlaue={}},getFilterFields:function(){var e=this;(0,v.filterFields)(this.viewId).then(function(t){for(var a in t)t[a].showValue=t[a].value.slice(0,9),t[a].showAll=!1;e.filtersList=(0,r.default)({},t)})}},created:function(){this.$route.params.listId;this.toDay=(0,f.default)(new Date,"YYYY-MM-DD"),this.preDate=(0,f.default)(new Date((new Date).getTime()-864e5),"YYYY-MM-DD"),this.getFilterFields()}}},gC8S:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("kKsb"),p=n(v),C=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",dealerInfo:{}}},mixins:[u.default],components:{workFlow:h.default,RAction:f.default,ProjectPart:p.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=t.formData,i=n.order,s=void 0===i?{}:i;e.attachment=a,e.dealerInfo={dealerName:s.dealerName_dealerDebit,dealerCode:s.dealerDebit,dealerLabelName:s.drDealerLabel,amntBal:s.thenAmntBal,thenTotalAmntBal:s.thenTotalAmntBal};var l=n.order.dataSet,d=!0,u=!1,c=void 0;try{for(var f,m=(0,r.default)(l);!(d=(f=m.next()).done);d=!0){var h=f.value;e.count=(0,C.accAdd)(e.count,h.tdAmount)}}catch(e){u=!0,c=e}finally{try{!d&&m.return&&m.return()}finally{if(u)throw c}}t.formData.validUntil=(0,o.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},gEUq:function(e,t){},gEh4:function(e,t){},gGhs:function(e,t){},gPpb:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2230}},mixins:[i.default],methods:{},created:function(){}}},"gR+h":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listViewID:2387}},mixins:[i.default],methods:{},created:function(){}}},gS95:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),m=a("89pA"),h=n(m),v=a("hPJo"),p=n(v),C=a("3NX5"),_=n(C);t.default={data:function(){return{warehouseIn:{},warehouseOut:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513"}},mixins:[l.default],components:{workFlow:f.default,PopWarehouseList:h.default,RAction:u.default,WarehouseContent:p.default,MatterList:_.default},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.formData.outPut,n=void 0===a?{}:a,i=n.dataSet;e.attachment=t.attachment;var s=!0,o=!1,l=void 0;try{for(var d,u=(0,r.default)(i);!(s=(d=u.next()).done);s=!0){var c=d.value;c.inventoryName_transObjCode=c.inventoryName_outPutMatCode,c.transObjCode=c.outPutMatCode,c.specification=c.specification_outPutMatCode,c.inventoryPic=c.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+c.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){o=!0,l=e}finally{try{!s&&u.return&&u.return()}finally{if(o)throw l}}e.warehouseIn={warehouseCode:n.containerCode,warehouseName:""+n.warehouseName_containerCode,warehouseAction:"入库",warehouseIcon:"icon-ruku",warehouseType:n.warehouseType_containerCode,warehouseProvince:n.warehouseProvince_containerCode,warehouseCity:n.warehouseCity_containerCode,warehouseDistrict:n.warehouseDistrict_containerCode,warehouseAddress:n.warehouseAddress_containerCode},e.warehouseOut={warehouseCode:n.containerCodeOut,warehouseName:""+n.warehouseName_containerCodeOut,warehouseAction:"出库",warehouseIcon:"icon-chuku",warehouseType:n.warehouseType_containerCodeOut,warehouseProvince:n.warehouseProvince_containerCodeOut,warehouseCity:n.warehouseCity_containerCodeOut,warehouseDistrict:n.warehouseDistrict_containerCodeOut,warehouseAddress:n.warehouseAddress_containerCodeOut},e.orderInfo=t.formData,e.workFlowInfoHandler()})}},created:function(){}}},gVjc:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper cpxq-detail-container"},[a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.userData,"order-info":e.userData}}),e._v(" "),a("div",{staticClass:"product"},[e._m(0),e._v(" "),a("form-cell",{attrs:{cellTitle:"员工",cellContent:e.userData.hiresName}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"部门",cellContent:e.userData.hiresDepartMent||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"岗位",cellContent:e.userData.hiresPost||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"体检日期",cellContent:e.userData.examinationDate||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"备注",cellContent:e.userData.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}})],1)])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title"},[a("div",[a("span",{staticClass:"iconfont icon-mingxi1"}),e._v(" "),a("span",[e._v("员工信息")])])])}],r={render:n,staticRenderFns:i};t.a=r},gWbr:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}))],1),e._v(" "),e.action.add?a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},ghja:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("IHPB"),o=n(s),l=a("4XVd"),d=a("fQlz"),u=n(d),c=a("+AeB"),f=n(c),m=a("++MA"),h=(n(m),a("Z5v5"));t.default={name:"CommentItem",props:{item:{type:Object,default:function(){return{}}}},components:{Emotion:f.default},data:function(){return{showScaleImg:!1,scaleImgSrc:""}},methods:{getDefaultImg:function(e){e.target.src=a("Fuf7")},reply:function(){this.$emit("on-reply",this.item)},savePraise:function(){var e=this;if(this.item.isPraise)return(0,l.savePraise)(this.item.ID).then(function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];arguments[1];t&&e.$emit("on-praise-success",e.item)})},scaleImg:function(e){var t=""+location.origin+e.ATTACHMENT;wx.previewImage({current:t,urls:[t]})},hideScaleImage:function(){this.scaleImgSrc="",this.showScaleImg=!1},handleComment:function(){var e=[].concat((0,o.default)(u.default)),t=this.item.CONTENT,a=/\[(.+?)\]/g;return t=t.replace(/src="resources/g,'src="/dist/resources'),t=t.replace(a,function(t){var a=e.findIndex(function(e){return e===t.replace(/(\[|\])/g,"")});return-1===a?t:'<span class="img-emotion" style="background-position: -'+24*a+'px 0;"></span>'})},checkImgSuffix:function(){var e=["jpg","jpeg","png","gif","bmp","tif","pcx","tga","exif","fpx","svg","psd","cdr","pcd","dxf","ufo","eps","ai","raw","WMF","webp"];if(this.item.commentAttachments){var t=!0,a=!1,n=void 0;try{for(var i,s=(0,r.default)(this.item.commentAttachments);!(t=(i=s.next()).done);t=!0){var o=i.value,l=o.name.lastIndexOf("."),d=o.name.substr(l+1);e.includes(d)&&(o.isImg=!0)}}catch(e){a=!0,n=e}finally{try{!t&&s.return&&s.return()}finally{if(a)throw n}}}},checkFile:function(e){window.location.href=""+location.origin+e}},filters:{filterTime:function(e){if(e){var t=Date.now();"string"==typeof e&&(e=e.replace(/-/g,"/").replace(/\..*/g,""));var a=+new Date(e),n=t-a,i=n/1e3,r=i/60,s=r/60,o=s/24;return i<60?"刚刚":r<60?parseInt(r)+"分钟前":s<24?parseInt(s)+"小时前":o<30?parseInt(o)+"天前":e}}},created:function(){(0,h.register)(),this.checkImgSuffix()}}},gihj:function(e,t,a){"use strict";function n(e){a("qifw")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("n6ZL");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("hQWF"),o=a.n(s),l=a("FO0W"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-0058993c",null);t.default=c.exports},gk4f:function(e,t,a){"use strict";function n(e){a("SSqj")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("hAY0");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Bvj9"),o=a.n(s),l=a("s6Hz"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-7b08b7a4",null);t.default=c.exports},"gqL/":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("QHLv"),v=a("1KNX"),p=n(v),C=a("7biW"),_=n(C);t.default={name:"PopEarnestMoneyList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},params:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:m.default,RScroll:p.default,MSearch:_.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],matterList:[],limit:100,page:1,hasNext:!0,scrollOptions:{pullUpLoad:!0},filterProperty:"",filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"}]}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}},params:{handler:function(){this.resetCondition(),this.getList()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,d.default)(this.selItems)),this.$emit("input",!1)},findIndex:function(e,t){return e.findIndex(function(e){return e.transCode===t.transCode})},showSelIcon:function(e){return-1!==this.findIndex(this.tmpItems,e)},selThis:function(e,t){var a=this.tmpItems,n=this.findIndex(a,e);if(-1!==n)return void a.splice(n,1);a.push(e)},cfmMater:function(){this.showPop=!1,this.tmpItems.sort(function(e,t){return t.effectiveTime-e.effectiveTime}),this.selItems=[].concat((0,d.default)(this.tmpItems)),this.$emit("sel-item",(0,o.default)(this.selItems))},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.resetCondition(),this.getList()},delSelItem:function(e){var t=this.findIndex(this.selItems,e);-1!==t&&this.selItems.splice(t,1),this.tmpItems=[].concat((0,d.default)(this.selItems))},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.tmpItems=[].concat((0,d.default)(this.defaultValue)),this.selItems=[].concat((0,d.default)(this.defaultValue))},resetCondition:function(){this.matterList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"transCode"}])),(0,h.getPurchaseAgreementDeposit)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(t)},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.matterList=1===e.page?r:[].concat((0,d.default)(e.matterList),(0,d.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})}},created:function(){this.setDefaultValue(),this.getList()}}},gufi:function(e,t,a){"use strict";function n(e){a("bvWr")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("P5P7");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("8gEi"),o=a.n(s),l=a("xqgC"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-5d22aad6",null);t.default=c.exports},gwp1:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages xmjh-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,"default-contact":e.contactInfo,dealerTitle:"供应商",params:e.dealerParams},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("cell",{staticClass:"cell-item",attrs:{title:"结算方式",value:e.dealerInfo.paymentTerm}}),e._v(" "),a("div",{staticClass:"materiel_list"},[a("div",{staticClass:"title"},[e._v("发票信息")]),e._v(" "),a("group",{staticClass:"SJ_group",on:{"group-title-margin-top":function(e){}}},[a("x-input",{attrs:{title:"票号","text-align":"right",placeholder:"请填写"},on:{"on-focus":function(t){e.getFocus(t)}},model:{value:e.invoiceInfo.ticketNumber,callback:function(t){e.$set(e.invoiceInfo,"ticketNumber",t)},expression:"invoiceInfo.ticketNumber"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("票号")])])],2),e._v(" "),a("popup-picker",{attrs:{title:"发票类型",data:e.invoiceType,placeholder:"请选择","text-align":"right"},on:{"on-change":function(t){e.typeTask(t)}},model:{value:e.invoiceGetType,callback:function(t){e.invoiceGetType=t},expression:"invoiceGetType"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("发票类型")])])],2),e._v(" "),a("datetime",{attrs:{title:"发票日期","text-align":"right",placeholder:"请选择"},model:{value:e.invoiceInfo.invoiceDate,callback:function(t){e.$set(e.invoiceInfo,"invoiceDate",t)},expression:"invoiceInfo.invoiceDate"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("发票日期")])])],2),e._v(" "),a("x-input",{attrs:{title:"发票内容","text-align":"right",placeholder:"请填写"},on:{"on-focus":function(t){e.getFocus(t)}},model:{value:e.invoiceInfo.invoiceContent,callback:function(t){e.$set(e.invoiceInfo,"invoiceContent",t)},expression:"invoiceInfo.invoiceContent"}})],1)],1),e._v(" "),a("div",{staticClass:"materiel_list"},[Object.keys(e.orderList).length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v("物料列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n,i){return a("div",{key:n,staticClass:"each_mater",class:{"vux-1px-b":i<Object.keys(e.orderList).length-1}},[t.length?a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v("入库单号")]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]):e._e(),e._v(" "),e._l(t,function(t,i){return a("div",{key:i,class:{mater_delete:e.matterModifyClass}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass},on:{"on-modify":function(a){e.modifyMatter(t,i,n)}},nativeOn:{click:function(a){e.delClick(i,t,n)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_more"},[a("span",{staticClass:"unit"},[e._v("属性: "+e._s(n.processing))]),e._v(" "),a("span",{staticClass:"mater_color"},[e._v("颜色: "+e._s(n.inventoryColor||"无"))]),e._v(" "),a("span",{staticClass:"unit"},[e._v("单位: "+e._s(n.measureUnit))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.taxRate,expression:"item.taxRate"}]},[e._v("税率: "+e._s(n.taxRate||e.taxRate))])]),e._v(" "),a("div",{staticClass:"mater_more"},[a("span",[e._v("入库数量: "+e._s(n.qty))]),e._v(" "),a("span",[e._v("已收票数量: "+e._s(n.stockQty))]),e._v(" "),a("span",[e._v("待收票数量: "+e._s(n.qtyBal))])]),e._v(" "),a("div",{staticClass:"mater_more"},[a("span",{staticClass:"unit"},[e._v("入库日期: "+e._s(n.purchaseDay))])]),e._v(" "),n.price&&n.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price)+"\n                      ")]),e._v(" "),a("div",[a("r-number",{attrs:{num:n.tdQty,max:n.qtyBal,checkAmt:e.checkAmt},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",t)},expression:"item.tdQty"}})],1)]):e._e()]}},{key:"editPart",fn:function(t){var r=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r.price&&r.tdQty&&!e.matterModifyClass,expression:"(item.price && item.tdQty) &&!matterModifyClass"}],staticClass:"edit-part vux-1px-l",on:{click:function(t){e.modifyMatter(r,i,n)}}},[a("span",{staticClass:"iconfont icon-bianji1"})])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(i,t,n)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)})],2)}))]:[a("div",{staticClass:"no-matter",on:{click:e.getMatter}},[a("div",{staticClass:"title"},[e._v("物料列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择物料")]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),e.matterList.length?a("span",{staticClass:"add_more",on:{click:e.addMatter}},[e._v("新增更多物料")]):e._e()]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showMaterielPop,params:e.matterParams,"get-list-method":"getManyVATReceipt","default-value":e.matterList},on:{"sel-matter":e.selMatter},scopedSlots:e._u([{key:"titleName",fn:function(t){return[a("span",{staticClass:"order-title"},[e._v("采购订单")])]}},{key:"storage",fn:function(t){var n=t.item;return[a("div",[a("span",[e._v("入库日期: "+e._s(n.calcTime||0))]),e._v(" "),a("span",[e._v("待收票金额: "+e._s(n.amntBal||0))])]),e._v(" "),a("div",[a("span",[e._v("入库数量: "+e._s(n.qty||0))]),e._v(" "),a("span",[e._v("已收票数量: "+e._s(n.stockQty||0))])])]}}]),model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}})],2),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,"show-date-time":!0},on:{"sel-confirm":e.selConfirm},scopedSlots:e._u([{key:"qtyBal",fn:function(t){var n=t.modifyMatter;return[a("div",[a("span",[e._v("入库数量: "+e._s(n.qty))]),e._v(" "),a("span",[e._v("已收票数量: "+e._s(n.stockQty))]),e._v(" "),a("span",[e._v("待收票数量: "+e._s(n.qtyBal))])]),e._v(" "),a("div",[a("span",{staticClass:"unit"},[e._v("入库日期: "+e._s(n.purchaseDay))])])]}},{key:"modify",fn:function(t){var n=t.modifyMatter;return[a("x-input",{attrs:{type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",e._n(t))},expression:"modifyMatter.tdQty"}},[a("span",{staticClass:"required",attrs:{slot:"label"},slot:"label"},[e._v("本次收票数量")])]),e._v(" "),a("x-input",{attrs:{type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.price,callback:function(t){e.$set(n,"price",e._n(t))},expression:"modifyMatter.price"}},[a("span",{staticClass:"required",attrs:{slot:"label"},slot:"label"},[e._v("单价")])]),e._v(" "),a("x-input",{attrs:{type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.taxRate,callback:function(t){e.$set(n,"taxRate",e._n(t))},expression:"modifyMatter.taxRate"}},[a("span",{staticClass:"required",attrs:{slot:"label"},slot:"label"},[e._v("税率")])])]}}]),model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("op-button",{attrs:{"is-modify":e.matterModifyClass,hide:e.btnIsHide,"td-amount":e.tdAmount,"tax-amount":e.taxAmount,"all-check":e.selItems.length===e.matterList.length},on:{"on-submit":e.submitOrder,"on-check-all":e.checkAll,"on-delete":e.deleteCheckd}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"h+4q":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getDepartMentWage=t.getwarehouseInfo=t.update=t.save=t.getId=void 0;var i=a("4YfN"),r=n(i),s=a("GOq4"),o=n(s),l=t.getId=function(e){return o.default.ajax({url:"/H_roleplay-si/ds/list/getListViewById?uniqueId="+e})},d=t.save=function(e){return o.default.post({url:"/H_roleplay-si/warehouse/save",data:e})},u=t.update=function(e){return o.default.post({url:"/H_roleplay-si/warehouse/update",data:e})},c=t.getwarehouseInfo=function(e){return o.default.ajax({url:"/H_roleplay-si/warehouse/findData?transCode="+e})},f=t.getDepartMentWage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getDepartMentWage",data:(0,r.default)({_dc:Date.now(),page:1,start:0,limit:1e4},e)})};t.default={getId:l,save:d,update:u,getwarehouseInfo:c,getDepartMentWage:f}},"h+xo":function(e,t){},h0Lv:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,"default-contact":e.contactInfo,"dealer-label-name":"原厂供应商,经销供应商"},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("pop-single-select",{attrs:{title:"结算方式",data:e.transMode,value:e.crDealerPaymentTerm,isRequired:""},model:{value:e.crDealerPaymentTerm,callback:function(t){e.crDealerPaymentTerm=t},expression:"crDealerPaymentTerm"}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.dealerInfo.pamentDays,expression:"dealerInfo.pamentDays"}],staticClass:"other_info"},[a("div",{staticClass:"title"},[e._v("账期天数")]),e._v(" "),a("div",{staticClass:"mode"},[e._v(e._s(e.dealerInfo.pamentDays))])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.dealerInfo.accountExpirationDate,expression:"dealerInfo.accountExpirationDate"}],staticClass:"other_info"},[a("div",{staticClass:"title"},[e._v("账期到期日")]),e._v(" "),a("div",{staticClass:"mode"},[e._v(e._s(e.dealerInfo.accountExpirationDate))])]),e._v(" "),a("pop-warehouse-list",{attrs:{isRequired:"",title:"入库仓库","default-value":e.warehouse},on:{"sel-item":e.selWarehouse}}),e._v(" "),a("div",{staticClass:"materiel_list"},[Object.keys(e.orderList).length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v("订单列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n,i){return a("div",{key:n,staticClass:"each_mater",class:{"vux-1px-b":i<Object.keys(e.orderList).length-1}},[t.length?a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v("采购订单号")]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]):e._e(),e._v(" "),e._l(t,function(i,r){return a("div",{key:r,class:{mater_delete:e.matterModifyClass}},[a("matter-item",{class:{"vux-1px-b":r<t.length-1},attrs:{item:i,"show-delete":e.matterModifyClass},on:{"on-modify":function(t){e.modifyMatter(i,r,n)}},nativeOn:{click:function(t){e.delClick(r,i)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_more"},[a("span",[e._v("单位: "+e._s(n.measureUnit))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.taxRate,expression:"item.taxRate"}]},[e._v("税率: "+e._s(n.taxRate))]),e._v(" "),a("span",[e._v("订单总数: "+e._s(n.qty||0))]),e._v(" "),a("span",[e._v("已入库数: "+e._s(n.qtyed||0))]),e._v(" "),a("span",[e._v("待入库数: "+e._s(n.qtyBal||0))])]),e._v(" "),a("div",{staticClass:"mater_more"},[a("span",{directives:[{name:"show",rawName:"v-show",value:n.productionDate,expression:"item.productionDate"}]},[e._v("生产日期: "+e._s(n.productionDate))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.validUntil,expression:"item.validUntil"}]},[e._v("有效日期: "+e._s(n.validUntil))])]),e._v(" "),n.price&&n.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price)+"\n                      ")]),e._v(" "),a("div",[a("r-number",{attrs:{num:n.tdQty,checkAmt:e.checkAmt,max:n.qtyBal},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",t)},expression:"item.tdQty"}})],1)]):e._e()]}},{key:"editPart",fn:function(t){var i=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:i.price&&i.tdQty&&!e.matterModifyClass,expression:"(item.price && item.tdQty) &&!matterModifyClass"}],staticClass:"edit-part vux-1px-l",on:{click:function(t){e.modifyMatter(i,r,n)}}},[a("span",{staticClass:"iconfont icon-bianji1"})])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(t){e.delClick(r,i)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(i),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(i),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)})],2)}))]:[a("div",{on:{click:function(t){e.showOrderPop=!e.showOrderPop}}},[a("div",{staticClass:"title"},[e._v("订单列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择订单")]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多物料")])]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showOrderPop,"default-value":e.matterList,"get-list-method":"getInventory7502",params:e.matterParams,"filter-list":e.filterList},on:{"sel-matter":e.selMatter},scopedSlots:e._u([{key:"titleName",fn:function(t){return[a("span",{staticClass:"order-title"},[e._v("采购订单号")])]}},{key:"attribute",fn:function(t){var n=t.item;return[a("span",{staticClass:"mater_classify"},[a("span",[e._v("属性: "+e._s(n.processing))]),e._v(" "),a("span",[e._v("物料大类: "+e._s(n.inventoryType))]),e._v(" "),a("span",[e._v("单位: "+e._s(n.measureUnit))]),e._v(" "),n.keepingDays?a("span",[e._v("保质期天数: "+e._s(n.keepingDays))]):e._e(),e._v(" "),n.nearKeepingDays?a("span",[e._v("临保天数: "+e._s(n.nearKeepingDays))]):e._e(),e._v(" "),n.safeStock?a("span",[e._v("安全库存: "+e._s(n.safeStock))]):e._e()])]}},{key:"storage",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_material"},[a("span",[e._v("待入库数: "+e._s(n.qtyBal))]),e._v(" "),a("span",[e._v("订单总数: "+e._s(n.qty))]),e._v(" "),a("span",[e._v("已入库数: "+e._s(n.qtyed))])])]}}]),model:{value:e.showOrderPop,callback:function(t){e.showOrderPop=t},expression:"showOrderPop"}})],2),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide},on:{"sel-confirm":e.selConfirm},scopedSlots:e._u([{key:"qtyBal",fn:function(t){var n=t.modifyMatter;return[a("div",[a("span",[e._v("订单总数: "+e._s(n.qty||0))]),e._v(" "),a("span",[e._v("待入库数: "+e._s(n.qtyBal||0))])]),e._v(" "),a("div",[a("span",[e._v("已入库数: "+e._s(n.qtyed))])])]}},{key:"modify",fn:function(t){var n=t.modifyMatter;return[a("x-input",{attrs:{title:"数量",type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",e._n(t))},expression:"modifyMatter.tdQty"}},[a("template",{slot:"label"},[e._t("qtyName",[a("span",{staticClass:"required"},[e._v("本次入库数")])])],2)],2),e._v(" "),a("x-input",{attrs:{title:"单价",type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.price,callback:function(t){e.$set(n,"price",e._n(t))},expression:"modifyMatter.price"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("单价\n              ")])])],2),e._v(" "),a("x-input",{attrs:{title:"税率",type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.taxRate,callback:function(t){e.$set(n,"taxRate",e._n(t))},expression:"modifyMatter.taxRate"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("税率\n              ")])])],2)]}},{key:"date",fn:function(t){var n=t.modifyMatter;return[a("datetime",{attrs:{title:"生产日期",placeholder:"请选择"},model:{value:n.productionDate,callback:function(t){e.$set(n,"productionDate",t)},expression:"modifyMatter.productionDate"}}),e._v(" "),a("datetime",{attrs:{title:"有效日期",placeholder:"请选择"},model:{value:n.validUntil,callback:function(t){e.$set(n,"validUntil",t)},expression:"modifyMatter.validUntil"}})]}}]),model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num"},[a("span",{staticStyle:{fontSize:".14rem"}},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.tdAmount))+"\n      "),a("span",{staticClass:"taxAmount"},[e._v("[含税: ￥"+e._s(e._f("numberComma")(e.taxAmount))+"]")])]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},h1k8:function(e,t){},h6yY:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"childPage"},[a("div",{staticClass:"detail_content"},[a("div",{staticClass:"mater_baseinfo vux-1px-b"},[a("div",{staticClass:"mater_property"},[a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("往来编码:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.dealer.dealerCode))])]),e._v(" "),a("div",{staticClass:"each_property"},[a("label",[e._v("往来名称:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.dealer.dealerName))])])]),e._v(" "),a("div",{staticClass:"mater_pic vux-1px-l"},[a("div",{staticClass:"add_icon"},[a("label",{attrs:{for:"file"}}),e._v(" "),a("img",{staticClass:"upload",attrs:{src:e.MatPic},on:{error:e.getDefaultImg}})])])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("往来关系标签:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.dealer.dealerLabelName))])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("省市区:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v("\n         "+e._s(e.dealer.province)+e._s(e.dealer.city)+e._s(e.dealer.county)+"\n      ")])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("详细地址:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.dealer.address))])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("固定电话:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.dealer.dealerPhone))])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("手机:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.dealer.dealerMobilePhone))])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("电子邮件:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.dealer.dealerMail))])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("往来状态:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.dealer.dealerStatus))])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("创建者:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.baseinfo.creatorName))])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("创建时间:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e._f("dateFormat")(e.baseinfo.crtTime)))])]),e._v(" "),e.baseinfo.modiferName?a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("修改者:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.baseinfo.modiferName))])]):e._e(),e._v(" "),e.baseinfo.modTime?a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("修改时间:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e._f("dateFormat")(e.baseinfo.modTime)))])]):e._e()])])},i=[],r={render:n,staticRenderFns:i};t.a=r},h8g4:function(e,t,a){"use strict";function n(e){a("963L")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("kkCB");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("5+0a"),o=a.n(s),l=a("j5Dw"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-5c06a1fe",null);t.default=c.exports},h8ox:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=(a("XAqG"),a("HyXB"),a("MjAd")),o=n(s),l=a("ak47");n(l);t.default={name:"CPXQ_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"经办人",value:"handlerName"},{name:"交易号",value:"transCode"},{name:"标题",value:"launchTitle"}],listViewID:2339}},mixins:[o.default],methods:{pathChange:function(e,t,a){var n=this;if(!this.clickVisited){var i=e.transCode,s=this.$route.query.name,o=this.$route.params,l=o.fileId,d=o.listId;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,r.default)({},e));var u=a+"/"+l+"/"+d;setTimeout(function(){n.clickVisited=!1,n.$router.push({path:u,query:{name:s,transCode:i}})},200)}},goDetail:function(e,t){this.pathChange(e,t,"/detail")},goUserEdit:function(e,t){this.pathChange(e,t,"/fillform")}}}},hAY0:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("QHLv"),v=a("1KNX"),p=n(v),C=a("7biW"),_=n(C);t.default={name:"PopOrderList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},params:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:m.default,RScroll:p.default,MSearch:_.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],matterList:[],limit:100,page:1,hasNext:!0,scrollOptions:{pullUpLoad:!0},filterProperty:"",filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"}]}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}},params:{handler:function(){this.resetCondition(),this.getList()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,d.default)(this.selItems)),this.$emit("input",!1)},findIndex:function(e,t){return e.findIndex(function(e){return e.popiCode===t.popiCode})},showSelIcon:function(e){return-1!==this.findIndex(this.tmpItems,e)},selThis:function(e,t){var a=this.tmpItems,n=this.findIndex(a,e);if(-1!==n)return void a.splice(n,1);a.push(e)},cfmMater:function(){this.showPop=!1,this.tmpItems.sort(function(e,t){return t.effectiveTime-e.effectiveTime}),this.selItems=[].concat((0,d.default)(this.tmpItems)),this.$emit("sel-item",(0,o.default)(this.selItems))},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.resetCondition(),this.getList()},delSelItem:function(e){var t=this.findIndex(this.selItems,e);-1!==t&&this.selItems.splice(t,1),this.tmpItems=[].concat((0,d.default)(this.selItems))},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.tmpItems=[].concat((0,d.default)(this.defaultValue)),this.selItems=[].concat((0,d.default)(this.defaultValue))},resetCondition:function(){this.matterList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"popiCode"}])),(0,h.getPaySupplierArrearsDataSet)((0,r.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(t)},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.matterList=1===e.page?r:[].concat((0,d.default)(e.matterList),(0,d.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})}},created:function(){this.setDefaultValue(),this.getList()}}},hBLX:function(e,t){},hBwb:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("ZLEe"),r=n(i),s=a("PiEG"),o=n(s),l=a("UOZN"),d=n(l);t.default={name:"popup",props:{value:Boolean,height:{type:String,default:"auto"},width:{type:String,default:"auto"},showMask:{type:Boolean,default:!0},isTransparent:Boolean,hideOnBlur:{type:Boolean,default:!0},position:{type:String,default:"bottom"},maxHeight:String,popupStyle:Object,hideOnDeactivated:{type:Boolean,default:!0},shouldRerenderOnShow:{type:Boolean,default:!1},shouldScrollTopOnShow:{type:Boolean,default:!1}},created:function(){this.$vux&&this.$vux.config&&"VIEW_BOX"===this.$vux.config.$layout&&(this.layout="VIEW_BOX")},mounted:function(){var e=this;this.$overflowScrollingList=document.querySelectorAll(".vux-fix-safari-overflow-scrolling"),this.$nextTick(function(){var t=e;e.popup=new o.default({showMask:t.showMask,container:t.$el,hideOnBlur:t.hideOnBlur,onOpen:function(){t.fixSafariOverflowScrolling("auto"),t.show=!0},onClose:function(){t.show=!1,window.__$vuxPopups&&(0,r.default)(window.__$vuxPopups).length>1||document.querySelector(".vux-popup-dialog.vux-popup-mask-disabled")||setTimeout(function(){t.fixSafariOverflowScrolling("touch")},300)}}),e.value&&e.popup.show(),e.initialShow=!1})},deactivated:function(){this.hideOnDeactivated&&(this.show=!1),this.removeModalClassName()},methods:{fixSafariOverflowScrolling:function(e){if(this.$overflowScrollingList.length)for(var t=0;t<this.$overflowScrollingList.length;t++)this.$overflowScrollingList[t].style.webkitOverflowScrolling=e},removeModalClassName:function(){"VIEW_BOX"===this.layout&&d.default.removeClass(document.body,"vux-modal-open")},doShow:function(){this.popup&&this.popup.show(),this.$emit("on-show"),this.fixSafariOverflowScrolling("auto"),"VIEW_BOX"===this.layout&&d.default.addClass(document.body,"vux-modal-open"),this.hasFirstShow||(this.$emit("on-first-show"),this.hasFirstShow=!0)},scrollTop:function(){var e=this;this.$nextTick(function(){e.$el.scrollTop=0;var t=e.$el.querySelectorAll(".vux-scrollable");if(t.length)for(var a=0;a<t.length;a++)t[a].scrollTop=0})}},data:function(){return{layout:"",initialShow:!0,hasFirstShow:!1,shouldRenderBody:!0,show:this.value}},computed:{styles:function(){var e={};if(this.position&&"bottom"!==this.position&&"top"!==this.position?e.width=this.width:e.height=this.height,this.maxHeight&&(e["max-height"]=this.maxHeight),this.isTransparent&&(e.background="transparent"),this.popupStyle)for(var t in this.popupStyle)e[t]=this.popupStyle[t];return e}},watch:{value:function(e){this.show=e},show:function(e){var t=this;this.$emit("input",e),e?this.shouldRerenderOnShow?(this.shouldRenderBody=!1,this.$nextTick(function(){t.scrollTop(),t.shouldRenderBody=!0,t.doShow()})):(this.shouldScrollTopOnShow&&this.scrollTop(),this.doShow()):(this.$emit("on-hide"),this.show=!1,this.popup.hide(!1),setTimeout(function(){document.querySelector(".vux-popup-dialog.vux-popup-show")||t.fixSafariOverflowScrolling("touch"),t.removeModalClassName()},200))}},beforeDestroy:function(){this.popup&&this.popup.destroy(),this.fixSafariOverflowScrolling("touch"),this.removeModalClassName()}}},hByD:function(e,t,a){"use strict";function n(e){a("1X8H")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("2jGX");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("M4eV"),o=a.n(s),l=a("dHSX"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-dd9d5d04",null);t.default=c.exports},hE3F:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("lC5x"),o=n(s),l=a("J0Oq"),d=n(l),u=a("KH7x"),c=n(u),f=a("3cXf"),m=n(f),h=a("MgeX"),v=n(h),p=a("HzJ8"),C=n(p),_=a("+62G"),y=n(_),b=a("Nk/b"),g=n(b),w=a("7g+Q"),I=n(w),x=a("z5TY"),D=n(x),P=a("wDjS"),k=n(P),S=a("KFOb"),T=(n(S),a("HXPS")),L=n(T),N=a("HyXB"),M=a("h+4q"),A=a("vl8n"),O=n(A),R=a("PKHo"),j=n(R),$=a("5gKc"),B=n($),E=a("XgMd"),F=n(E),U=a("iBgG");n(U);t.default={data:function(){return{transCode:"",picShow:!1,showPop:!1,imgFileObj:{},biReferenceId:"",MatPic:"",AccountRelType:[],baseinfo:{},warehouse:{warehouseCode:"",warehouseName:"",warehouseType:"",warehousePic:"",staffDealerCode:null,groupCode:null,customerDealerCode:null,processorsDealerCode:"",channelDealerCode:null,warehouseCondtions:"",warehouseProvince:"",warehouseCity:"",warehouseDistrict:"",warehouseAddress:"",warehouseStatus:""},submitSuccess:!1,typeSubMap:{staff:{title:"员工",dealerLabelName:"员工",key:"staffDealerCode",value:"",code:"",list:[]},group:{title:"组织",dealerLabelName:"",key:"groupCode",value:"",code:"",list:[]},customer:{title:"客户",dealerLabelName:"客户",key:"customerDealerCode",value:"",code:"",list:[]},processors:{title:"加工商",dealerLabelName:"加工商",key:"processorsDealerCode",value:"",code:"",list:[]},channel:{title:"渠道商",dealerLabelName:"渠道商",key:"channelDealerCode",value:"",code:"",list:[]},noMatched:{title:"",dealerLabelName:"",key:"",value:"",code:"",list:[]}},typeSub:"group",typeSubValue:"",typeToSubMap:{"配送中心仓":"group","加工商仓":"processors","加工车间仓":"group","客户仓":"customer","渠道商仓":"channel","个人仓":"staff","一般部门仓":"group"},currentGroup:"",statusType:[],warehouseStatus:"使用中"}},directives:{TransferDom:y.default},mixins:[j.default],components:{Picker:g.default,Popup:I.default,Group:D.default,RPicker:O.default,XAddress:k.default,Icon:L.default,UploadImage:B.default,PopWarelabeList:F.default},methods:{onUpload:function(e){this.warehouse.warehousePic=e.src},getwarehouse:function(){var e=this;return(0,N.getDictByType)("warehouseRelType").then(function(t){var a=t.tableContent;a&&a.forEach(function(e){e.originValue=e.value,e.value=e.name}),e.AccountRelType=a,e.$route.query.transCode||(e.warehouse.warehouseType=e.$route.query.warehouseType?e.$route.query.warehouseType:a[0].name),e.$loading.hide()})},getStatus:function(){var e=this;return(0,N.getDictByType)("objStatus").then(function(t){var a=t.tableContent;a&&a.forEach(function(e){e.originValue=e.name,e.value=e.name}),e.statusType=a})},findData:function(){var e=this;return(0,M.getwarehouseInfo)(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=(t.attachment,n.baseinfo),r=void 0===i?{}:i,s=n.warehouse,o=void 0===s?{}:s;switch(o.warehouseStatus){case 1:e.warehouseStatus="使用中";break;case 2:e.warehouseStatus="未使用";break;case 0:e.warehouseStatus="草稿";break;case-1:e.warehouseStatus="停用"}e.baseinfo=r,e.warehouse=o,e.biReferenceId=e.warehouse.referenceId,e.warehouse.warehousePic?(e.picShow=!0,e.MatPic="/H_roleplay-si/ds/download?url="+e.warehouse.warehousePic+"&width=400&height=400"):(e.picShow=!0,e.getDefaultImg());var l=!0,d=!1,u=void 0;try{for(var c,f=(0,C.default)((0,v.default)(e.typeSubMap));!(l=(c=f.next()).done);l=!0){var m=c.value,h=e.warehouse[m.key];if(h){m.code=h;break}}}catch(e){d=!0,u=e}finally{try{!l&&f.return&&f.return()}finally{if(d)throw u}}})},getDefaultImg:function(){this.MatPic=a("CRKs")},changeAddress:function(e,t){this.AccountAddress=t},getAddress:function(){this.AccountAddress.length>0&&(this.warehouse.province=this.AccountAddress[0],this.warehouse.city=this.AccountAddress[1],this.warehouse.county=this.AccountAddress[2])},submit:function(){var e=this;for(var t in this.warehouse)"string"==typeof this.warehouse[t]&&this.warehouse[t].indexOf(" ")>=0&&(this.warehouse[t]=this.warehouse[t].replace(/\s/g,""));this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){switch(e.warehouseStatus){case"使用中":e.warehouse.warehouseStatus=1;break;case"未使用":e.warehouse.warehouseStatus=2;break;case"草稿":e.warehouse.warehouseStatus=0;break;case"停用":e.warehouse.warehouseStatus=-1}e.warehouse.status&&delete e.warehouse.status;var t=M.save,a={listId:"64a41c48-4e8d-4709-bd01-5d60ad6bc625",formData:{baseinfo:e.baseinfo,warehouse:e.warehouse}};e.transCode&&(t=M.update);var n=!0,i=!1,r=void 0;try{for(var s,o=(0,C.default)((0,v.default)(e.typeSubMap));!(n=(s=o.next()).done);n=!0){var l=s.value;if("break"===function(t){if(t.value){var a=t.list.filter(function(e){return t.value===e.value}),n=(0,c.default)(a,1),i=n[0],r=void 0===i?{}:i;return e.warehouse[t.key]=r.code,"break"}}(l))break}}catch(e){i=!0,r=e}finally{try{!n&&o.return&&o.return()}finally{if(i)throw r}}t(a).then(function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a.success,i=void 0!==n&&n,r=a.message,s=void 0===r?"提交失败":r;i&&(s=t===M.update?"修改成功":"提交成功",e.submitSuccess=!0,e.transCode||""+e.$route.query.add!="1"||sessionStorage.setItem("EDIT_WAREHOUSE_TRANSCODE",(0,m.default)({transCode:a.transCode}))),e.$vux.alert.show({content:s,onHide:function(){i&&e.$router.go(-1)}})})}})},save:function(){var e=this,t="";if([{key:"warehouseCode",message:"【仓库编码】"},{key:"warehouseName",message:"【仓库名称】"},{key:"warehouseType",message:"【仓库类型】"}].every(function(a){return""!==e.warehouse[a.key]||(t=a.message+"不能为空",!1)}),t)return void this.$vux.alert.show({content:t});this.submit()},selGroup:function(e){this.typeSubMap[this.typeSub].value=e},warehouseTypeChange:function(e){this.typeSubMap[this.typeSub].value="",this.typeSubMap[this.typeSub].list=[],this.typeSub=this.typeToSubMap[e]||"noMatched","noMatched"!==this.typeSub&&this.getTypeSubList()},getTypeSubList:function(e){var t=this,a=[];e&&(a=[{operator:"like",value:e,property:"GROUP_NAME"}]);var n=this.typeSubMap[this.typeSub];switch(this.typeSub){case"group":return(0,M.getDepartMentWage)({filter:(0,m.default)(a)}).then(function(e){var a=e.tableContent,i=void 0===a?[]:a;i.forEach(function(e){e.name=e.GROUP_NAME,e.value=e.GROUP_NAME,e.code=e.GROUP_CODE,e.code===n.code&&(t.typeSubMap[t.typeSub].value=e.value)}),t.typeSubMap[t.typeSub].list=i,t.typeSubMap[t.typeSub].code=""});case"staff":case"customer":case"processors":case"channel":return e&&(a[0].property="dealerName"),(0,N.getObjDealerByLabelName)({dealerLabelName:n.dealerLabelName,filter:(0,m.default)(a)}).then(function(e){var a=e.tableContent,i=void 0===a?[]:a;i.forEach(function(e){e.name=e.dealerName,e.value=e.dealerName,e.code=e.dealerCode,e.code===n.code&&(t.typeSubMap[t.typeSub].value=e.value)}),t.typeSubMap[t.typeSub].code="",t.typeSubMap[t.typeSub].list=i})}}},beforeRouteLeave:function(e,t,a){var n=e.path;this.submitSuccess&&"/warehouse"===n&&(e.meta.reload=!0),a()},created:function(){var e=this;this.$loading.show();var t=this.$route.query;if(t.transCode)return this.transCode=t.transCode,void(0,d.default)(o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.findData();case 2:return t.next=4,e.getwarehouse();case 4:e.getStatus(),e.hasDefault=!1;case 6:case"end":return t.stop()}},t,e)}))();(0,N.getBaseInfoDataBase)().then(function(t){e.baseinfo=(0,r.default)({},e.baseinfo,t)}),this.getwarehouse(),this.getStatus()},beforeRouteEnter:function(e,t,a){e.meta.title="新增仓库",e.query.transCode&&(e.meta.title="编辑仓库"),a()}}},hFVz:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getObjDealerBalByLabelName=t.getSaleAcceptanceBill=t.getDepositToPaySuppliers=t.getPaySupplierArrears=void 0;var i=a("4YfN"),r=n(i),s=a("GOq4"),o=n(s),l={getId:function(e){return o.default.ajax({url:"/H_roleplay-si/ds/list/getListViewById?uniqueId="+e})},getDealerList:function(e,t){return o.default.ajax({url:"/H_roleplay-si/seconds/getReportInfoByListViewId/"+e,data:t})},getOrderDealerList:function(e){return o.default.ajax({url:"/H_roleplay-si/ds/getObjDealerByLabelName",data:e})},getDealerClassfiy:function(){return o.default.ajax({url:"/H_roleplay-si/ds/list/getListViews?listId=c0375170-d537-4f23-8ed0-a79cf75f5b04"})},getDictByType:function(){return o.default.ajax({url:"/H_roleplay-si/ds/getDictByType",data:{type:"dealerRelLabel",page:1,start:0,limit:25}})},getDictByValue:function(e){return o.default.ajax({url:"/H_roleplay-si/ds/getDictByValue",data:{value:e,page:1,start:0,limit:1e4}})},save:function(e){return o.default.post({url:"/H_roleplay-si/dealer/save",data:e})},update:function(e){return o.default.post({url:"/H_roleplay-si/dealer/update",data:e})},getDealerInfo:function(e){return o.default.ajax({url:"/H_roleplay-si/dealer/findData?transCode="+e})},getAppdealer:function(e){return o.default.ajax({url:"/H_roleplay-si/ds/getObjDealerByLabelName",data:e})},getContactList:function(e){return o.default.ajax({url:"/H_roleplay-si/ds/getObjDealerContact",data:e})},getPaySupplierArrears:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getPaySupplierArrears",data:(0,r.default)({_dc:Date.now()},e)})},getDepositToPaySuppliers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getDepositToPaySuppliers",data:(0,r.default)({_dc:Date.now()},e)})},getSaleAcceptanceBill:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getSaleAcceptanceBill",data:(0,r.default)({_dc:Date.now()},e)})},getObjDealerBalByLabelName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getObjDealerBalByLabelName",data:(0,r.default)({_dc:Date.now()},e)})}};t.getPaySupplierArrears=l.getPaySupplierArrears,t.getDepositToPaySuppliers=l.getDepositToPaySuppliers,t.getSaleAcceptanceBill=l.getSaleAcceptanceBill,t.getObjDealerBalByLabelName=l.getObjDealerBalByLabelName;t.default=l},hHGC:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2466,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"},{name:"往来名称",value:"dealerName_dealerCodeCredit"}]}},mixins:[i.default],methods:{},created:function(){}}},hIeW:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("4YfN"),o=n(s),l=a("Jwlx"),d=n(l),u=a("7g+Q"),c=n(u),f=a("+62G"),m=n(f),h=a("7biW"),v=n(h),p=a("1KNX"),C=n(p),_=a("hFVz"),y=n(_);t.default={name:"PopContactList",props:{dealerInfo:{type:Object,default:function(){return{}}},defaultValue:{type:Object,default:function(){return{}}}},directives:{TransferDom:m.default},components:{Popup:c.default,DSearch:v.default,RScroll:C.default},data:function(){return{page:1,limit:10,hasNext:!0,showDealerPop:!1,showPop:!1,srhInpTx:"",bScroll:null,contactInfo:{},dealerList:[],contactList:[],scrollOptions:{pullUpLoad:!0}}},watch:{dealerInfo:{handler:function(){this.resetCondition(),this.getContact()},immediate:!0},defaultValue:{handler:function(){this.contactInfo=(0,d.default)((0,o.default)({},this.defaultValue))},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},showSelIcon:function(e){return this.contactInfo.dealerName===e.dealerName},selContact:function(e,t){this.showPop=!1,this.contactInfo=(0,d.default)((0,o.default)({},e)),this.$emit("sel-contact",this.contactInfo)},getContact:function(){var e=this;return y.default.getContactList({dealerCode:this.dealerInfo.dealerCode,limit:this.limit,page:this.page,start:(this.page-1)*this.limit}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,s=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+s.length,e.contactList=1===e.page?s:[].concat((0,r.default)(e.contactList),(0,r.default)(s)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.contactList=[],this.page=1,this.hasNext=!0,this.getContact()},onPullingUp:function(){this.page++,this.getContact()},resetCondition:function(){this.page=1,this.hasNext=!0,this.contactList=[]}},created:function(){}}},hNmM:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("IHPB"),o=n(s),l=a("4XVd"),d=a("fQlz"),u=n(d),c=a("+AeB"),f=n(c),m=a("++MA"),h=(n(m),a("Z5v5"));t.default={name:"CommentItem",props:{item:{type:Object,default:function(){return{}}}},components:{Emotion:f.default},data:function(){return{showScaleImg:!1,scaleImgSrc:""}},methods:{getDefaultImg:function(e){e.target.src=a("Fuf7")},reply:function(){this.$emit("on-reply",this.item)},savePraise:function(){var e=this;if(this.item.isPraise)return(0,l.savePraise)(this.item.ID).then(function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];arguments[1];t&&e.$emit("on-praise-success",e.item)})},scaleImg:function(e){var t=""+location.origin+e.ATTACHMENT;wx.previewImage({current:t,urls:[t]})},hideScaleImage:function(){this.scaleImgSrc="",this.showScaleImg=!1},handleComment:function(){var e=[].concat((0,o.default)(u.default)),t=this.item.CONTENT,a=/\[(.+?)\]/g;return t=t.replace(/src="resources/g,'src="/dist/resources'),t=t.replace(a,function(t){var a=e.findIndex(function(e){return e===t.replace(/(\[|\])/g,"")});return-1===a?t:'<span class="img-emotion" style="background-position: -'+24*a+'px 0;"></span>'})},checkImgSuffix:function(){var e=["jpg","jpeg","png","gif","bmp","tif","pcx","tga","exif","fpx","svg","psd","cdr","pcd","dxf","ufo","eps","ai","raw","WMF","webp"];if(this.item.commentAttachments){var t=!0,a=!1,n=void 0;try{for(var i,s=(0,r.default)(this.item.commentAttachments);!(t=(i=s.next()).done);t=!0){var o=i.value,l=o.name.lastIndexOf("."),d=o.name.substr(l+1);e.includes(d)&&(o.isImg=!0)}}catch(e){a=!0,n=e}finally{try{!t&&s.return&&s.return()}finally{if(a)throw n}}}},checkFile:function(e){window.location.href=""+location.origin+e}},filters:{filterTime:function(e){if(e){var t=Date.now();"string"==typeof e&&(e=e.replace(/-/g,"/").replace(/\..*/g,""));var a=+new Date(e),n=t-a,i=n/1e3,r=i/60,s=r/60,o=s/24;return i<60?"刚刚":r<60?parseInt(r)+"分钟前":s<24?parseInt(s)+"小时前":o<30?parseInt(o)+"天前":e}}},created:function(){(0,h.register)(),this.checkImgSuffix()}}},hPJo:function(e,t,a){"use strict";function n(e){a("STm3")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("mpfK");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("F+mj"),o=a.n(s),l=a("FvOl"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-1dbdba16",null);t.default=c.exports},hQWF:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("KH7x"),r=n(i),s=a("0w+U"),o=a("+VRO"),l=n(o);t.default={data:function(){return{MatPic:"",CompanyInfo:{}}},mixins:[l.default],methods:{getDefaultImg:function(){this.CompanyInfo.groupPic=a("tVsm")},loadPage:function(){var e=this,t=this.$route.query.groupId,a=void 0===t?"":t;return a?(this.$loading.show(),(0,s.CompanyInfo)(a).then(function(t){var a=(0,r.default)(t,1),n=a[0],i=void 0===n?{}:n,s=["","使用中","未使用","草稿"];i.status=s[i.status]||"停用",e.CompanyInfo=i,e.$loading.hide()})):void this.$vux.alert.show({content:"抱歉，有误，请尝试刷新之后再次进入"})}}}},hX7J:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("HzJ8"),o=n(s),l=a("fQlz"),d=n(l),u=a("kNGm"),c=n(u),f=a("++MA");n(f),a("2Gpe");t.default={name:"CommentItem",props:{item:{type:Object,default:function(){return{}}}},methods:{getDefaultIcon:function(e){var t=a("CYNT");return e&&(e.pic=t),t},getDefaultImg:function(e){e.target.src=a("Fuf7")},scaleImg:function(e){var t=""+location.origin+e.attachment;wx.previewImage({current:t,urls:[t]})},checkImgSuffix:function(){var e=["jpg","jpeg","png","gif","bmp","tif","pcx","tga","exif","fpx","svg","psd","cdr","pcd","dxf","ufo","eps","ai","raw","WMF","webp"];if(this.item.attachment){var t=!0,a=!1,n=void 0;try{for(var i,r=(0,o.default)(this.item.attachment);!(t=(i=r.next()).done);t=!0){var s=i.value,l=s.name.lastIndexOf("."),d=s.name.substr(l+1);e.includes(d)&&(s.isImg=!0)}}catch(e){a=!0,n=e}finally{try{!t&&r.return&&r.return()}finally{if(a)throw n}}}},checkFile:function(e){window.location.href=""+location.origin+e},handleComment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"comment",t=this.item,a=(t.type,t.reply),n=void 0===a?{}:a,i=(t.content,t.noticeSource,[].concat((0,r.default)(d.default))),s="",o=/\[(.+?)\]/g;return s="reply"===e?n.comment:this.item.comment,s=s.replace(/src="resources/g,'src="/dist/resources'),s=s.replace(o,function(e){var t=i.findIndex(function(t){return t===e.replace(/(\[|\])/g,"")});return-1===t?e:'<span class="img-emotion" style="background-position: -'+24*t+'px 0;"></span>'})}},filters:{filterTime:function(e){if(e){var t=Date.now();"string"==typeof e&&(e=e.replace(/-/g,"/").replace(/\..*/g,""));var a=+new Date(e),n=t-a,i=n/1e3,r=i/60,s=r/60,o=s/24;return i<60?"刚刚":r<60?parseInt(r)+"分钟前":s<24?parseInt(s)+"小时前":o<30?parseInt(o)+"天前":(0,c.default)(e,"YYYY-MM-DD")}}},created:function(){this.checkImgSuffix()}}},hezm:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noCount:"",noPrice:"",isMoreDealer:""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}))],1),e._v(" "),e.action.add?a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e(),e._v(" "),a("pop-assignment-task-work-list",{ref:"taskWork",attrs:{show:e.popShow},on:{"sel-task":e.selTask},model:{value:e.popShow,callback:function(t){e.popShow=t},expression:"popShow"}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},hk2Q:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("BGNQ"),r=n(i),s=a("z5TY"),o=n(s),l=a("kNGm"),d=n(l),u=a("0AQX"),c=a("+VRO"),f=n(c),m=(a("Qg39"),a("BUFe")),h=n(m),v=a("AupE"),p=n(v),C=a("bFc7"),_=n(C);t.default={data:function(){return{workInfo:{},orderInfo:{},formViewUniqueId:"c5acfe84-3478-431b-bb18-93809e19cb62"}},mixins:[f.default],components:{Cell:r.default,Group:o.default,RAction:h.default,workFlow:p.default,contactPart:_.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment,t.formData.validUntil=(0,d.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workInfo=t.formData.order.dataSet[0],e.workFlowInfoHandler()})}}}},hnN4:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"bScroll",staticClass:"scroll-container"},[a("div",{ref:"scrollWrapper",staticClass:"scroll-wrapper",class:{hasRefresh:e.hasRefresh}},[e._t("default"),e._v(" "),e._t("loadmore",[a("load-more",{directives:[{name:"show",rawName:"v-show",value:e.hasNext||e.noData,expression:"hasNext || noData"}],attrs:{"show-loading":e.hasNext,tip:e.tip}})])],2),e._v(" "),e.options.pullDownRefresh?e._t("refresh",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.hasRefresh,expression:"hasRefresh"}],staticClass:"refresh-container",style:{top:e.pullDownTop+"px"}},[a("spinner",{directives:[{name:"show",rawName:"v-show",value:!e.refreshDone,expression:"!refreshDone"}],staticClass:"icon",attrs:{type:"crescent"}}),e._v(" "),a("div",{staticClass:"tips"},[e._v(e._s(-e.pullDownTop>30?"下拉刷新":"释放刷新"))])],1)]):e._e()],2)},i=[],r={render:n,staticRenderFns:i};t.a=r},hpCO:function(e,t,a){"use strict";function n(e){a("s+vp")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("+3hg");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("fQJn"),o=a.n(s),l=a("JXIy"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-fe74cf34",null);t.default=c.exports},hrbZ:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("KH7x"),o=n(s),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("BGNQ"),m=n(f),h=a("z5TY"),v=n(h),p=a("SAzG"),C=n(p),_=a("u28h"),y=n(_),b=a("kNGm"),g=n(b),w=a("PzEQ"),I=n(w),x=a("jLp1"),D=a("bKg5"),P=n(D),k=a("vl8n"),S=n(k),T=a("+WR7"),L=n(T),N=a("Qg39"),M=a("zWMP");t.default={mixins:[P.default],components:{Icon:c.default,Cell:m.default,Group:v.default,XInput:C.default,RPicker:S.default,PopBaseinfo:L.default,Datetime:y.default,XTextarea:I.default},data:function(){return{projectList:[],taskList:[],formData:{biProcessStatus:""},jsonData:{baseinfo:{},comment:{biComment:""}},projectTask:{projectName:"",taskName:"",taskType:"",comment:"",deadline:"",planTime:"",cycleNumber:"",actualCompleteTime:"",actualTime:"",actualtHomeworkCost:0,budgetHomeworkCost:"",operatingRate:""}}},methods:{save:function(){var e=this,t="";if([{key:"projectName",message:"项目"},{key:"taskName",message:"任务"},{key:"actualCompleteTime",message:"实际完成日期"}].every(function(a){return!!e.projectTask[a.key]||(t=a.message+"不能为空",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show(),e.jsonData.baseinfo=(0,d.default)({},e.formData,{creator:e.formData.handler},e.jsonData.baseinfo,{modifer:e.formData.handler});var t=x.saveProjectTask,a={listId:"ee4ff0a1-c612-419d-afd7-471913d57a2a",formData:(0,d.default)({handlerEntity:e.entity.dealerName},e.jsonData,{projectTask:e.projectTask})};e.transCode&&(t=x.updateProjectTask),e.saveData(t,a)}})},clickDateSelect:function(){var e=this;this.$vux.datetime.show({confirmText:"确定",cancelText:"取消",value:this.formData.validUntil,onConfirm:function(t){e.formData.validUntil=t}})},getProjectList:function(){var e=this;return(0,x.getProjectPlanProjectName)().then(function(t){var a=t.tableContent,n=void 0===a?[]:a,i=[];n.forEach(function(e){e.projectName&&i.push((0,d.default)({},e,{name:e.projectName,value:e.projectName}))}),e.projectList=i})},taskChange:function(e){if(this.relationKey||this.transCode)return!1;var t=this.taskList.filter(function(t){return t.value===e}),a=(0,o.default)(t,1),n=a[0],i=void 0===n?{}:n;this.projectTask=(0,d.default)({},this.projectTask,{taskName:i.TASK_NAME,taskType:i.TASK_TYPE,comment:i.COMMENT,deadline:(0,g.default)(i.DEADLINE,"YYYY-MM-DD"),planTime:i.PLAN_TIME,budgetHomeworkCost:i.BUDGET_HOMEWORK_COST,operatingRate:i.JOB_RATE,cycleNumber:i.CYCLE_DAYS})},projectChange:function(e){if(this.relationKey||this.transCode)return!1;var t=this.projectList.find(function(t){return t.projectName===e});this.projectTask=(0,d.default)({},this.projectTask,{projectType:t.projectType||"",projectSubclass:t.projectSubclass||"",taskName:"",taskType:"",comment:"",deadline:"",planTime:"",budgetHomeworkCost:"",operatingRate:"",cycleNumber:""}),this.getTaskList()},getFormData:function(){var e=this;return(0,x.findProjectTask)(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=n.projectTask;e.jsonData=n,e.projectTask=(0,d.default)({},i,{actualCompleteTime:(0,g.default)(i.actualCompleteTime,"YYYY-MM-DD")}),e.handlerDefault={handler:n.baseinfo.handler,handlerName:n.baseinfo.handlerName,handlerUnit:n.baseinfo.handlerUnit,handlerUnitName:n.baseinfo.handlerUnitName,handlerRole:n.baseinfo.handlerRole,handlerRoleName:n.baseinfo.handlerRoleName},e.getTaskList(),e.$loading.hide()})},getTaskList:function(){var e=this;return(0,x.getProjectTodoTask)({projectName:this.projectTask.projectName}).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;e.taskList=n.map(function(e){return e=(0,d.default)({},e,{name:e.TASK_NAME,value:e.TASK_NAME})})})},checkTime:function(){var e=this.projectTask.actualTime;e&&(this.projectTask.actualTime=Math.abs((0,N.toFixed)(e,1))),this.projectTask.operatingRate&&this.projectTask.actualTime&&(this.projectTask.actualtHomeworkCost=(0,M.accMul)(this.projectTask.operatingRate,this.projectTask.actualTime))},hasDraftData:function(){return!!this.projectTask.projectName&&(0,r.default)({},"XMRW_DATA",{projectTask:this.projectTask})},getRelationData:function(){var e=this;return(0,x.findProjectPlan)(this.relationKey).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=(t.attachment,n.projectPlan[0]);e.projectTask=(0,d.default)({},e.projectTask,{projectName:n.projectApproval.projectName,taskName:i.taskName,taskType:i.taskType,comment:i.comment,deadline:(0,g.default)(i.deadline,"YYYY-MM-DD"),planTime:i.planTime})})}},created:function(){var e=sessionStorage.getItem("XMRW_DATA");if(e){var t=JSON.parse(e);this.projectTask=t.projectTask,this.getTaskList(),sessionStorage.removeItem("XMRW_DATA")}this.getProjectList()}}},hrtE:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"detail",staticClass:"detail-container",class:{"has-comment":e.hasComment}},[a(e.currentComponent,{ref:"detailComponent",tag:"component",on:{change:e.modifyRoute,"refresh-scroll":e.refresh,"is-subscribe":e.isSubscribe}})],1),e._v(" "),e.hasComment?a("div",{staticClass:"detail-comment-container vux-1px-t"},[a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-arrow-left left-arrow",attrs:{type:"ios-arrow-left",size:"24",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 512 512"},on:{click:function(t){return t.stopPropagation(),e.back(t)}}},[a("path",{attrs:{d:"M352 115.4L331.3 96 160 256l171.3 160 20.7-19.3L201.5 256z"}})]),e._v(" "),a("div",{staticClass:"operations"},[a("div",{staticClass:"concern",on:{click:e.goConcern}},[0===e.isConcern?a("span",{staticClass:"iconfont icon-xihuan1"}):a("span",{staticClass:"iconfont icon-xihuan"})]),e._v(" "),a("div",{staticClass:"operation",on:{click:e.goDiscuss}},[a("span",{staticClass:"iconfont icon-pinglun"}),e._v(" "),a("span",{staticClass:"count comment-count"},[e._v(e._s(e.commentCount||""))])])])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},hsBr:function(e,t,a){"use strict";function n(e){a("e3Hn")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("yCU9");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("fFaL"),o=a.n(s),l=a("APV6"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-51294505",null);t.default=c.exports},hvYt:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}))],1),e._v(" "),e.action.add?a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},hxQ3:function(e,t){},hz6K:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),m=a("bFc7"),h=n(m),v=a("6WeX"),p=n(v),C=a("3NX5"),_=n(C),y=a("sUbJ"),b=n(y),g=a("d7ck"),w=n(g),I=a("zWMP"),x=a("Qg39");t.default={data:function(){return{count:0,comment:"",orderInfo:{},formViewUniqueId:"e76a8c6f-05cc-45ee-ba93-299fe6751856",orderList:{}}},mixins:[l.default],components:{workFlow:f.default,RAction:u.default,PriceTotal:p.default,contactPart:h.default,MatterList:_.default,MatterItem:b.default,FormCell:w.default},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var d={},u=s.order,c=void 0===u?{}:u;e.attachment=l;var f=s.order.dataSet,m=!0,h=!1,v=void 0;try{for(var p,C=(0,r.default)(f);!(m=(p=C.next()).done);m=!0){var _=p.value;_.noTaxAmount=(0,I.accMul)(_.price,_.tdQty),_.taxAmount=(0,I.accMul)(_.noTaxAmount,_.taxRate),_.tdAmount=(0,x.toFixed)((0,I.accAdd)(_.noTaxAmount,_.taxAmount)),e.count=(0,I.accAdd)(e.count,_.tdAmount),_.inventoryPic=_.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),d[_.transMatchedCode]||(d[_.transMatchedCode]=[]),d[_.transMatchedCode].push(_)}}catch(e){h=!0,v=e}finally{try{!m&&C.return&&C.return()}finally{if(h)throw v}}e.orderList=d,e.dealerInfo={dealerName:c.dealerName_dealerDebit,dealerMobilePhone:s.dealerDebitContactInformation,dealerContactPersonName:s.dealerDebitContactPersonName,dealerCode:c.dealerCode_dealerDebit,dealerLabelName:c.drDealerLabel,province:c.province_dealerDebit,city:c.city_dealerDebit,county:c.county_dealerDebit,address:c.address_dealerDebit,payment:c.drDealerPaymentTerm,pamentDays:c.daysOfAccount},e.orderInfo=s,e.workFlowInfoHandler()})}}}},"i+2D":function(e,t){},i23H:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",class:{dashboard:e.chartShow},attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},[e.chartShow?a("apply-chart"):a("div",{staticClass:"list"},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}))],1)],1),e._v(" "),!e.chartShow&&e.action.add?a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},i2BW:function(e,t,a){"use strict";function n(e){a("KzBm")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("aVvt");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("kCg8"),o=a.n(s),l=a("gWbr"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-6d0955d8",null);t.default=c.exports},i5Ni:function(e,t){},i61Q:function(e,t,a){"use strict";function n(e){a("lDXK")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("LQmC");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("9S56"),o=a.n(s),l=a("9FKS"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-0ed44b32",null);t.default=c.exports},i9f0:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"baseinfo_wrapper"},[a("div",{staticClass:"baseinfo_content"},[a("div",{staticClass:"each_info",on:{click:function(t){e.showPop=!0}}},[a("div",{staticClass:"title"},[e._v("经办人")]),e._v(" "),a("div",{staticClass:"mode"},[a("span",{staticClass:"mode_content"},[e._v(e._s(e.selItems.nickname))]),e._v(" "),a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-arrow-forward r_arrow",attrs:{type:"ios-arrow-forward",size:"18",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M160 128.4L192.3 96 352 256 192.3 416 160 383.6 287.3 256z"}})])])]),e._v(" "),a("popup-picker",{ref:"groupPicker",attrs:{title:"经办组织",data:e.groupList,columns:1},on:{"on-change":e.changeGroup},model:{value:e.group,callback:function(t){e.group=t},expression:"group"}},[a("template",{slot:"title"},[a("span",{staticClass:"title",class:{required:e.isRequired}},[e._v("经办组织\n        ")])])],2),e._v(" "),a("popup-picker",{ref:"rolePicker",attrs:{title:"经办职位",data:e.roleList,columns:1},on:{"on-change":e.changeRole},model:{value:e.role,callback:function(t){e.role=t},expression:"role"}})],1),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("div",{staticClass:"title"},[a("d-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}})],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"pop-list-container",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"pop-mater-list-item box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"pop-list-main "},[a("div",{staticClass:"user-photo"},[a("img",{attrs:{src:t.photo,alt:"mater_img"},on:{error:function(a){e.getDefaultImg(t)}}})]),e._v(" "),a("div",{staticClass:"pop-list-info"},[a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline name",staticStyle:{display:"inline-block"}},[a("span",[e._v(e._s(t.nickname))])])]),e._v(" "),t.userCode?a("div",{staticClass:"withColor",staticStyle:{"margin-top":"0"}},[a("div",{staticClass:"ForInline ",staticStyle:{display:"inline-block"}},[a("span",[e._v(e._s(t.userCode))])])]):e._e()])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}))],1)])],1)])},i=[],r={render:n,staticRenderFns:i};t.a=r},iA9Z:function(e,t){},iAQa:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("iR2W"),i=function(e){return e&&e.__esModule?e:{default:e}}(n),r=a("Qg39");t.default={name:"PriceTotal",props:{noAmt:{type:Boolean,default:!1},noTaxAmt:{type:Boolean,default:!1},noCount:{type:Boolean,default:!1},amt:{type:Number,default:0},taxAmt:{type:Number,default:0},count:{type:Number,default:0}},computed:{onlyCount:function(){return 0===this.amt&&0===this.taxAmt}},filters:{numberComma:i.default,toFixed:r.toFixed}}},iBRT:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2503,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[i.default],methods:{},created:function(){}}},iBgG:function(e,t,a){"use strict";function n(e){a("h+xo")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("f06H");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Ny/B"),o=a.n(s),l=a("+2If"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-5c8f48c7",null);t.default=c.exports},iC32:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("3cXf"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("bFc7"),p=n(v),C=a("6WeX"),_=n(C),y=a("3NX5"),b=n(y),g=a("zWMP");a("Qg39");t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"",contactInfo:{}}},components:{workFlow:h.default,RAction:f.default,contactPart:p.default,PriceTotal:_.default,MatterList:b.default},mixins:[u.default],methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(e.submitInfo=JSON.parse((0,o.default)(t)),!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.formData.order.dataSet,n=!0,i=!1,s=void 0;try{for(var l,d=(0,r.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;e.count=(0,g.accAdd)(e.count,u.tdAmount),u.inventoryPic=u.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+u.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){i=!0,s=e}finally{try{!n&&d.return&&d.return()}finally{if(i)throw s}}e.attachment=t.attachment,e.orderInfo=t.formData,e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo={creatorName:a.dealerDebitContactPersonName,dealerName:a.dealerName_dealerDebit,dealerMobilePhone:t.dealerDebitContactInformation,dealerContactPersonName:t.dealerDebitContactPersonName,dealerCode:a.dealerDebit,dealerLabelName:a.drDealerLabel,province:a.province_dealerDebit,city:a.city_dealerDebit,county:a.county_dealerDebit,address:a.address_dealerDebit,payment:a.drDealerPaymentTerm,logistics:t.drDealerLogisticsTerms}}}}},"iMG+":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2433,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[i.default],methods:{},created:function(){}}},iNvo:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("3cXf"),o=n(s),l=a("HXPS"),d=n(l),u=a("7g+Q"),c=n(u),f=a("L6VY"),m=n(f),h=a("+62G"),v=n(h),p=a("HyXB"),C=a("1KNX"),_=n(C),y=a("7biW"),b=n(y);t.default={name:"PopSalesmanList",props:{title:{type:String,default:""},dealerLabelName:{type:String,default:"员工"},disabled:{type:Boolean,default:!1},value:{type:String,default:""},required:{type:Boolean,default:!1}},directives:{TransferDom:v.default},components:{Icon:d.default,Popup:c.default,RScroll:_.default,RSearch:b.default},data:function(){return{showPop:!1,srhInpTx:"",dealerList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},currentValue:""}},watch:{value:{handler:function(e){this.currentValue=this.value}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},showSelIcon:function(e){return e.dealerName===this.currentValue},selThis:function(e,t){var a=e.dealerName;this.showPop=!1,this.currentValue=a,this.$emit("input",a)},getDealer:function(){var e=this,t=[];return this.srhInpTx&&(t=[{operator:"like",value:this.srhInpTx,property:"dealerName"}]),(0,p.getObjDealerByLabelName)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,dealerLabelName:this.dealerLabelName,filter:(0,o.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,s=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+s.length,e.dealerList=1===e.page?s:[].concat((0,r.default)(e.dealerList),(0,r.default)(s)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})}).catch(function(e){m.default.show({content:e.message})})},onPullingUp:function(){this.page++,this.getDealer()},itemClick:function(){this.showPop=!0},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.dealerList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getDealer()}},created:function(){this.getDealer(),this.currentValue=this.value}}},iSAE:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2323,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName"}]}},mixins:[i.default],methods:{},created:function(){}}},iZJL:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("a3Yh"),o=n(s),l=a("4YfN"),d=n(l),u=a("IHPB"),c=n(u),f=a("3cXf"),m=n(f),h=a("HXPS"),v=n(h),p=a("SAzG"),C=n(p),_=a("PzEQ"),y=n(_),b=a("kNGm"),g=(n(b),a("jnZd")),w=n(g),I=a("Nk/b"),x=n(I),D=a("0AQX"),P=a("HyXB"),k=a("bKg5"),S=n(k),T=a("vl8n"),L=n(T),N=a("kZy/"),M=n(N),A=a("luHD"),O=n(A),R=a("zlAJ"),j=n(R),$=a("+WR7"),B=n($);t.default={data:function(){return{matterList:[],showMaterielPop:!1,transCode:"",formData:{biComment:"",biId:"",biProcessStatus:""},priceMap:{},showDealerPop:!1,dealerTypeList:[],currentType:"",showPrice:!1,pickerStyle:{zIndex:550}}},components:{Icon:v.default,XInput:C.default,RPicker:L.default,XTextarea:y.default,PopupPicker:w.default,Picker:x.default,PopMatterList:M.default,PopMatter:O.default,UploadFile:j.default,PopBaseinfo:B.default},mixins:[S.default],methods:{onChange:function(e,t){t.drDealerLabel=e[0]},initRequest:function(){var e=this;return(0,P.getDictByType)("dealerRelLabel").then(function(t){var a=t.tableContent,n=[];a.forEach(function(e){n.push(e.name)}),e.dealerTypeList.push(n)})},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=this;this.matterList.forEach(function(t){e.priceMap[t.inventoryCode]={price:t.price,drDealerLabel:t.drDealerLabel,PopDealerLabel:t.PopDealerLabel,qtyOnline:t.qtyOnline,qtyDownline:t.qtyDownline,specialReservePrice:t.specialReservePrice}}),this.showMaterielPop=!this.showMaterielPop},selMatter:function(e){var t=this,a=JSON.parse(e);a.forEach(function(e){var a=t.priceMap[e.inventoryCode]||{};e.price=a.price||"",e.qtyOnline=a.qtyOnline||"",e.qtyDownline=a.qtyDownline||"",e.specialReservePrice=a.specialReservePrice||"",e.PopDealerLabel=a.PopDealerLabel||[],e.drDealerLabel=a.drDealerLabel||""}),this.priceMap={},this.matterList=[].concat((0,c.default)(a))},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},save:function(){var e=this,t="",a=[],n=[{key:"drDealerLabel",message:"请选择客户类型"},{key:"qtyDownline",message:"请填写数量下线"},{key:"qtyOnline",message:"请填写数量上线"},{key:"price",message:"请填写标准价格"},{key:"specialReservePrice",message:"请填写特批低价"}];if(this.matterList.length||(t="请选择物料"),t||this.matterList.every(function(i){n.every(function(e){return i[e.key]||(t=e.message),!t});var r={transObjCode:i.inventoryCode,drDealerLabel:i.drDealerLabel,qtyDownline:i.qtyDownline,qtyOnline:i.qtyOnline,price:i.price,specialReservePrice:i.specialReservePrice,comment:""};return e.transCode&&(r.tdId=i.tdId||""),a.push(r),!t}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=P.saveAndStartWf,n=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,order:{dataSet:a}}),i={listId:e.listId,biComment:"",formData:(0,m.default)(n),wfPara:(0,m.default)((0,o.default)({},e.processCode,{businessKey:"PQ",createdBy:n.creator}))};e.transCode&&(t=P.saveAndCommitTask,i.biReferenceId=e.biReferenceId,i.wfPara=(0,m.default)({businessKey:e.transCode,createdBy:n.creator,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=P.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,D.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var u=[];e.attachment=l;var c=s.order,f=c.dataSet,m=void 0===f?[]:f,h=!0,v=!1,p=void 0;try{for(var C,_=(0,r.default)(m);!(h=(C=_.next()).done);h=!0){var y=C.value;y=(0,d.default)({},y,{inventoryCode:y.transObjCode,inventoryName:y.inventoryName_transObjCode,measureUnit:y.measureUnit_transObjCode,specification:y.specification_transObjCode,PopDealerLabel:[y.drDealerLabel],inventoryPic:y.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+y.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}),u.push(y)}}catch(e){v=!0,p=e}finally{try{!h&&_.return&&_.return()}finally{if(v)throw p}}e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:s.biComment,biId:s.biId,biProcessStatus:s.biProcessStatus,creator:s.creator,modifer:s.modifer}),e.biReferenceId=s.biReferenceId,e.matterList=u,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,o.default)({},"CPJG_DATA",{matter:this.matterList,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("CPJG_DATA");e&&(this.matterList=JSON.parse(e).matter,this.formData=JSON.parse(e).formData,sessionStorage.removeItem("CPJG_DATA"))}}},ibDu:function(e,t){},ic8P:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("BGNQ"),o=n(s),l=a("z5TY"),d=n(l),u=a("jLp1"),c=a("+VRO"),f=n(c);t.default={data:function(){return{projectPlan:{},comment:{},projectApproval:{}}},filters:{timeSplit:function(e){return e?e.split(" ")[0]:""}},mixins:[f.default],components:{Group:d.default,Cell:o.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u.findProjectPlan)(t).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=t.attachment,s=void 0===i?[]:i;e.projectPlan=n.projectPlan,e.comment=n.comment,e.attachment=s,e.projectApproval=n.projectApproval,e.orderInfo=(0,r.default)({},n.baseinfo,{biStatus:"已生效"})})}},created:function(){}}},idOg:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"cell-form-preview",props:{list:Array,borderIntent:{type:Boolean,default:!0}}}},iikc:function(e,t,a){"use strict";function n(e){a("VYFY")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("uX8d");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("iNvo"),o=a.n(s),l=a("BRCM"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-42ad7a48",null);t.default=c.exports},iiu9:function(e,t){},ij6Q:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={props:{BasicApps:{type:Array,require:!0},goBasic:{type:Function,require:!0},goAppDetail:{type:Function,require:!0}}}},ijPy:function(e,t){},irUB:function(e,t){},isSJ:function(e,t,a){"use strict";function n(e){a("lITt")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("X4/C");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("q0Qv"),o=a.n(s),l=a("cSgu"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-ab43f8f0",null);t.default=c.exports},itSm:function(e,t){},iwwm:function(e,t){},"j/kX":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("div",{staticClass:"title"},[a("d-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}})],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"pop-list-container",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"pop-mater-list-item box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"pop-list-main "},[a("div",{staticClass:"pop-list-info"},[a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline name",staticStyle:{display:"inline-block"}},[a("span",[e._v(e._s(t.dealerName))])]),e._v(" "),a("div",{staticClass:"ForInline name",staticStyle:{display:"inline-block"}},[a("span")])]),e._v(" "),t.dealerMobilePhone?a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline ",staticStyle:{display:"inline-block"}},[a("span",{staticClass:"creator"},[e._v(e._s(t.dealerMobilePhone))])])]):e._e(),e._v(" "),a("div",{staticClass:"withoutColor"},[a("span",[e._v(e._s(t.province)+e._s(t.city)+e._s(t.county)+e._s(t.address))])])])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}))],1)])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},j4rH:function(e,t,a){"use strict";function n(e){a("Da7/")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("UAsZ");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("wEtw"),o=a.n(s),l=a("3vO0"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-457dbd34",null);t.default=c.exports},j5Dw:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.contactInfo,payment:!1,logistics:!1}}),e._v(" "),a("div",{staticClass:"form_part"},[e._m(0),e._v(" "),e._l(e.orderInfo.order.dataSet,function(t,n){return a("div",{key:n,staticClass:"form_content",class:{show_border:n!==e.orderInfo.order.dataSet.length-1}},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"资金账户名称",cellContent:t.fundName_cashInCode,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"资金账户大类",cellContent:t.cashType_cashInCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"收款金额",showSymbol:"",cellContent:e._f("numberComma")(e._f("toFixed")(t.tdAmount),3)}})],1)])})],2),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("账户列表")])])}],r={render:n,staticRenderFns:i};t.a=r},j9lB:function(e,t){},jAUN:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("4YfN"),o=n(s),l=a("KH7x"),d=n(l),u=a("3cXf"),c=n(u),f=a("BGNQ"),m=n(f),h=a("7g+Q"),v=n(h),p=a("+62G"),C=n(p),_=a("z5TY"),y=n(_),b=a("SAzG"),g=n(b),w=a("7qeq"),I=(n(w),a("u28h")),x=n(I),D=a("PzEQ"),P=n(D),k=a("iR2W"),S=n(k),T=a("kNGm"),L=(n(T),a("dyuG")),N=(n(L),a("L6VY")),M=(n(N),a("jnZd")),A=n(M),O=a("0AQX"),R=a("HyXB"),j=a("QHLv"),$=a("bKg5"),B=n($),E=a("vl8n"),F=n(E),U=a("aumL"),q=n(U),Q=a("+WR7"),H=n(Q),V=a("Qg39"),X=a("zWMP");t.default={data:function(){return{listId:"418bd0e9-1dce-4e01-aa5a-3d4cd80e87d4",showCostPop:!1,dealerInfo:{dealerName:"",dealerCodeCredit:"",crDealerLabel:"",applicationType:[],tdCreditLine:"",thenAmntBalCopy1:"",thenTotalAmntBal:"",tdAmountCopy1:"",differenceAmount:"",expCause:""},formData:{biId:"",biComment:"",biProcessStatus:""},cashInfo:{cashName:"",cashInCode:"",cashType_cashInCode:"",thenAmntBal:"",tdAmount:""},biReferenceId:"",currentType:[["借款","备用金"]],selectedCost:[]}},computed:{creatorName:function(){return this.formData.userCode}},watch:{creatorName:function(e){this.getEmployeeBal()}},directives:{TransferDom:C.default},components:{Cell:m.default,Popup:v.default,Group:y.default,XInput:g.default,PopupPicker:A.default,Datetime:x.default,XTextarea:P.default,RPicker:F.default,PopFundList:q.default,PopBaseinfo:H.default},mixins:[B.default],filters:{numberComma:S.default},methods:{getEmployeeBal:function(){var e=this,t=[{operator:"eq",value:this.formData.userCode,property:"dealerCode"}];(0,j.getEmployeeBal)((0,c.default)(t)).then(function(t){var a=t.tableContent,n=void 0===a?[]:a,i=(0,d.default)(n,1),r=i[0],s=void 0===r?{}:r;e.dealerInfo=(0,o.default)({},e.dealerInfo,{dealerName:s.nickname,dealerCodeCredit:s.dealerCode,crDealerLabel:s.dealerLabelName,tdCreditLine:s.tdCreditLine,thenAmntBalCopy1:s.amntBal})})},submitOrder:function(){var e=this,t="",a=this.dealerInfo;if(a.applicationType.length||(t="请选择类型"),t||a.thenTotalAmntBal||0===a.thenTotalAmntBal||(t="请输入申请金额"),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=R.saveAndStartWf,n=(0,o.default)({},e.formData,{handlerEntity:e.entity.dealerName,order:{dataSet:[{tdIdCopy1:a.tdIdCopy1||"",dealerCodeCredit:a.dealerCodeCredit,crDealerLabel:a.crDealerLabel,applicationType:a.applicationType[0],tdCreditLine:a.tdCreditLine,thenAmntBalCopy1:a.thenAmntBalCopy1,thenTotalAmntBal:a.thenTotalAmntBal,tdAmountCopy1:a.tdAmountCopy1,differenceAmount:a.differenceAmount,expCause:a.expCause}]},outPut:{dataSet:[{tdId:e.cashInfo.tdId||"",cashInCode:e.cashInfo.cashInCode,cashType_cashInCode:e.cashInfo.cashType_cashInCode,thenAmntBal:e.cashInfo.thenAmntBal,tdAmount:e.cashInfo.tdAmount,dealerCodeCredit:a.dealerCodeCredit,crDealerLabel:a.crDealerLabel}]}}),i={listId:e.listId,biComment:n.biComment,formData:(0,c.default)(n),wfPara:(0,c.default)((0,r.default)({},e.processCode,{businessKey:e.businessKey,createdBy:n.creator}))};e.isResubmit&&(t=R.saveAndCommitTask,i.biReferenceId=e.biReferenceId,i.wfPara=(0,c.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=R.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,O.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,l=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=l;var u=r.order,c=r.outPut,f=(0,d.default)(u.dataSet,1),m=f[0],h=void 0===m?{}:m,v=(0,d.default)(c.dataSet,1),p=v[0],C=void 0===p?{}:p;e.dealerInfo={tdIdCopy1:h.tdIdCopy1,dealerName:h.dealerName_dealerCodeCredit,dealerCodeCredit:h.dealerCodeCredit,crDealerLabel:h.crDealerLabel,applicationType:[h.applicationType],tdCreditLine:h.tdCreditLine,thenAmntBalCopy1:h.thenAmntBalCopy1,thenTotalAmntBal:h.thenTotalAmntBal,tdAmountCopy1:h.tdAmountCopy1,differenceAmount:h.differenceAmount,expCause:h.expCause},e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,o.default)({},e.formData,e.handlerDefault,{biComment:r.biComment,biId:r.biId,biProcessStatus:r.biProcessStatus,creator:r.creator,modifer:r.modifer}),e.cashInfo={tdId:C.tdId,cashName:C.fundName_cashInCode,cashInCode:C.cashInCode,cashType_cashInCode:C.cashType_cashInCode,thenAmntBal:C.thenAmntBal,tdAmount:C.tdAmount},e.biReferenceId=r.biReferenceId,e.$loading.hide()})},checkAmt:function(){var e=this.dealerInfo,t=e.thenAmntBalCopy1,a=void 0===t?0:t,n=e.thenTotalAmntBal,i=void 0===n?0:n;this.cashInfo.tdAmount;i||(i=0),this.dealerInfo.thenAmntBalCopy1=(0,V.toFixed)(a),this.dealerInfo.thenTotalAmntBal=(0,V.toFixed)(i),this.dealerInfo.tdAmountCopy1=(0,V.toFixed)(i),this.dealerInfo.differenceAmount=(0,V.toFixed)((0,X.accAdd)(a,i)),this.cashInfo.tdAmount=(0,V.toFixed)(i)},hasDraftData:function(){return(0,r.default)({},"JKYBYJ_DATA",{dealerInfo:this.dealerInfo,cashInfo:this.contactInfo,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("JKYBYJ_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.cashInfo=t.cashInfo,sessionStorage.removeItem("JKYBYJ_DATA")}}}},jBKy:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2239,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_outPutMatCode"},{name:"往来名称",value:"dealerName_dealerDebit"}]}},mixins:[i.default],methods:{},created:function(){}}},jEax:function(e,t,a){"use strict";function n(e){a("+qeg")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("OFAD");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Rozl"),o=a.n(s),l=a("6VB5"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-12584cc8",null);t.default=c.exports},jICf:function(e,t){},jIlA:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MjAd"),r=n(i),s=(a("vS5q"),a("4bt0")),o=n(s);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2448,chartShow:!1,hasNext:!0,scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0},sortList:[{name:"交易号",key:"transCode"},{name:"修改时间",key:"modTime"},{name:"客户名称",key:"dealerName"}]}},components:{ApplyChart:o.default},mixins:[r.default],methods:{}}},jKAT:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("HzJ8"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("PKHo"),f=n(c),m=a("zWMP"),h=a("BUFe"),v=n(h),p=a("AupE"),C=n(p),_=a("sUbJ"),y=n(_),b=a("FlCz"),g=n(b),w=a("d7ck"),I=n(w),x=a("MVgC"),D=n(x);t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",orderList:{},basicInfo:{},DuplicateBoms:[],UniqueBom:[],bomPopShow:!1,bom:{}}},mixins:[u.default,f.default],components:{workFlow:C.default,RAction:v.default,MatterItem:y.default,BomList:g.default,FormCell:I.default,BomPop:D.default},methods:{checkBom:function(e){this.bom=e,this.bomPopShow=!0},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u={};s.order;e.attachment=d;var c=s.order.dataSet,f=!0,m=!1,h=void 0;try{for(var v,p=(0,o.default)(c);!(f=(v=p.next()).done);f=!0){var C=v.value;if(C.inventoryPic=C.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+C.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),C.shippingTime=e.changeDate(C.shippingTime),C.boms){var _=!0,y=!1,b=void 0;try{for(var g,w=(0,o.default)(C.boms);!(_=(g=w.next()).done);_=!0){var I=g.value;I.inventoryCode=I.transObjCode}}catch(e){y=!0,b=e}finally{try{!_&&w.return&&w.return()}finally{if(y)throw b}}}C.boms&&(e.DuplicateBoms=e.DuplicateBoms.concat(JSON.parse((0,r.default)(C.boms)))),u[C.transMatchedCode]||(u[C.transMatchedCode]=[]),u[C.transMatchedCode].push(C)}}catch(e){m=!0,h=e}finally{try{!f&&p.return&&p.return()}finally{if(m)throw h}}e.mergeBomList(),e.orderList=u,e.orderInfo=s,e.workFlowInfoHandler()})},mergeBomList:function(){var e=function(e,t){return e.inventoryCode===t.inventoryCode};this.UniqueBom=function(t){return t.reduce(function(t,a){return t.some(function(t){var n=e(t,a);return n&&(t.tdQty=(0,m.accAdd)(t.tdQty,a.tdQty)),n})||t.push(a),t},[])}(this.DuplicateBoms)}}}},jLp1:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getProjectBotTask=t.findConclusion=t.getSalesOutStockProject=t.getProjectPlanList=t.getProjectList=t.getProjectTodoTask=t.getProjectApproval=t.getProjectPlanProjectName=t.findProjectConclusion=t.updateProjectConclusion=t.saveProjectConclusion=t.findProjectTask=t.updateProjectTask=t.saveProjectTask=t.findProjectPlan=t.updateProjectPlan=t.saveProjectPlan=t.findProjectApproval=t.updateProjectApproval=t.saveProjectApproval=void 0;var i=a("4YfN"),r=n(i),s=a("GOq4"),o=n(s);t.saveProjectApproval=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.post({url:"/H_roleplay-si/projectApproval/save",data:e})},t.updateProjectApproval=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.post({url:"/H_roleplay-si/projectApproval/save",data:e})},t.findProjectApproval=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return o.default.ajax({url:"/H_roleplay-si/projectApproval/findData",data:{transCode:e}})},t.saveProjectPlan=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.post({url:"/H_roleplay-si/projectPlan/save",data:e})},t.updateProjectPlan=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.post({url:"/H_roleplay-si/projectPlan/update",data:e})},t.findProjectPlan=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return o.default.ajax({url:"/H_roleplay-si/projectPlan/findData",data:{transCode:e}})},t.saveProjectTask=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.post({url:"/H_roleplay-si/projectTask/save",data:e})},t.updateProjectTask=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.post({url:"/H_roleplay-si/projectTask/update",data:e})},t.findProjectTask=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return o.default.ajax({url:"/H_roleplay-si/projectTask/findData",data:{transCode:e}})},t.saveProjectConclusion=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.post({url:"/H_roleplay-si/projectConclusion/save",data:e})},t.updateProjectConclusion=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.post({url:"/H_roleplay-si/projectConclusion/update",data:e})},t.findProjectConclusion=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return o.default.ajax({url:"/H_roleplay-si/projectConclusion/findData",data:{transCode:e}})},t.getProjectPlanProjectName=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getProjectPlanProjectName",data:(0,r.default)({_dc:Date.now(),page:1,start:0,limit:1e4},e)})},t.getProjectApproval=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getProjectApprovalAll",data:(0,r.default)({_dc:Date.now()},e)})},t.getProjectTodoTask=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getProjectTodoTask",data:(0,r.default)({_dc:Date.now(),page:1,start:0,limit:100},e)})},t.getProjectList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getProjectApproval",data:e})},t.getProjectPlanList=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.ajax({url:"/H_roleplay-si/mobile/getProjectPlan/"+e,data:(0,r.default)({_dc:Date.now()},t)})},t.getSalesOutStockProject=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getSalesOutStockProject",data:(0,r.default)({_dc:Date.now()},e)})},t.findConclusion=function(e){return o.default.ajax({url:"/H_roleplay-si/projectConclusion/findConclusion",data:{_dc:Date.now(),projectName:e}})},t.getProjectBotTask=function(e){return o.default.ajax({url:"/H_roleplay-si/ds/getProjectBotTask",data:(0,r.default)({_dc:Date.now()},e)})};t.default={}},jNp1:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages gdrw-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.biProcessStatus,callback:function(t){e.biProcessStatus=t},expression:"biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[a("div",{staticClass:"title"},[e._v("工序信息")]),e._v(" "),a("group",{staticClass:"costGroup",attrs:{"group-title-margin-top":"0"}},[a("cell",{attrs:{isLink:"",title:"工单启动号"},nativeOn:{click:function(t){e.showWorkPop=!e.showWorkPop}},model:{value:e.workInfo.transCode||"请选择",callback:function(t){e.$set(e.workInfo,"transCode || '请选择'",t)},expression:"workInfo.transCode || '请选择'"}}),e._v(" "),a("cell",{attrs:{title:"工单派工号",disabled:!e.workInfo.orderCode},model:{value:e.workInfo.orderCode,callback:function(t){e.$set(e.workInfo,"orderCode",t)},expression:"workInfo.orderCode"}}),e._v(" "),a("cell",{attrs:{title:"工序名称",disabled:!e.workInfo.procedureName},model:{value:e.workInfo.procedureName,callback:function(t){e.$set(e.workInfo,"procedureName",t)},expression:"workInfo.procedureName"}}),e._v(" "),a("cell",{attrs:{title:"可验收余额",disabled:!e.workInfo.qtyBal},model:{value:e.workInfo.qtyBal,callback:function(t){e.$set(e.workInfo,"qtyBal",t)},expression:"workInfo.qtyBal"}}),e._v(" "),a("x-input",{attrs:{title:"本次验收",type:"number",disabled:!e.workInfo.qtyBal,"text-align":"right",placeholder:e.workInfo.qtyBal?"请填写":""},on:{"on-focus":function(t){e.getFocus(t)},"on-blur":function(t){e.checkAmt(e.workInfo)}},model:{value:e.workInfo.tdQty,callback:function(t){e.$set(e.workInfo,"tdQty",e._n(t))},expression:"workInfo.tdQty"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("本次验收\n              ")])])],2),e._v(" "),a("cell",{attrs:{title:"后置工序",disabled:!e.workInfo.rearProcedureName},model:{value:e.workInfo.rearProcedureName,callback:function(t){e.$set(e.workInfo,"rearProcedureName",t)},expression:"workInfo.rearProcedureName"}}),e._v(" "),a("cell",{attrs:{title:"工艺路线编码",disabled:!e.workInfo.rearProcedureName},model:{value:e.workInfo.proFlowCode,callback:function(t){e.$set(e.workInfo,"proFlowCode",t)},expression:"workInfo.proFlowCode"}}),e._v(" "),a("cell",{attrs:{title:"工艺路线名称",disabled:!e.workInfo.rearProcedureName},model:{value:e.workInfo.technicsName,callback:function(t){e.$set(e.workInfo,"technicsName",t)},expression:"workInfo.technicsName"}}),e._v(" "),a("cell",{attrs:{title:"物料名称",disabled:!e.workInfo.inventoryName},model:{value:e.workInfo.inventoryName,callback:function(t){e.$set(e.workInfo,"inventoryName",t)},expression:"workInfo.inventoryName"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("物料名称\n              ")])])],2),e._v(" "),a("cell",{attrs:{title:"物料编码",disabled:!e.workInfo.matCode},model:{value:e.workInfo.matCode,callback:function(t){e.$set(e.workInfo,"matCode",t)},expression:"workInfo.matCode"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("物料编码\n              ")])])],2),e._v(" "),a("cell",{attrs:{title:"制造费用",disabled:!e.workInfo.skinFee},model:{value:e.workInfo.skinFee,callback:function(t){e.$set(e.workInfo,"skinFee",t)},expression:"workInfo.skinFee"}}),e._v(" "),a("cell",{attrs:{title:"工价",disabled:!e.workInfo.wages},model:{value:e.workInfo.wages,callback:function(t){e.$set(e.workInfo,"wages",t)},expression:"workInfo.wages"}})],1),e._v(" "),a("pop-work-check-list",{ref:"matter",attrs:{show:e.showWorkPop,defaultValue:e.workInfo},on:{"sel-work":e.selWork},model:{value:e.showWorkPop,callback:function(t){e.showWorkPop=t},expression:"showWorkPop"}})],1),e._v(" "),a("pop-manager-list",{attrs:{title:"验收者",defaultValue:e.defaultManager},on:{"sel-item":e.selManager}}),e._v(" "),a("pop-warehouse-list",{attrs:{title:"入库仓库","filter-params":e.filterParams,"default-value":e.warehouse,isRequired:""},on:{"sel-item":e.selWarehouse}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.bomList.length,expression:"bomList.length"}],staticClass:"materiel_list"},[a("bom-list",{attrs:{boms:e.bomList},scopedSlots:e._u([{key:"specification",fn:function(t){var n=t.bom;return[a("div",{staticClass:"content-unit"},[a("span",[e._v("型号规格: "+e._s(n.specification||"无"))])])]}},{key:"number",fn:function(t){var n=t.bom;return[a("div",{staticClass:"number-part"},[a("span",{staticClass:"main-number"},[e._v("数量: "+e._s(n.tdQty)+e._s(n.measureUnit))]),e._v(" "),a("span",{staticClass:"number-unit"},[e._v("bom数量: "+e._s(n.qty))])])]}}])})],1),e._v(" "),a("div",{staticClass:"comment vux-1px-t"},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},jO70:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("J0Oq"),o=n(s),l=a("4YfN"),d=n(l),u=a("a3Yh"),c=n(u),f=a("HzJ8"),m=n(f),h=a("3cXf"),v=n(h),p=a("z5TY"),C=n(p),_=a("SAzG"),y=n(_),b=a("PzEQ"),g=n(b),w=a("u28h"),I=n(w),x=a("0AQX"),D=a("HyXB"),P=a("bKg5"),k=n(P),S=a("kZy/"),T=n(S),L=a("luHD"),N=n(L),M=a("vl8n"),A=n(M),O=a("+WR7"),R=n(O),j=a("zWMP");a("Qg39");t.default={components:{PopMatterList:T.default,XTextarea:g.default,Group:C.default,XInput:y.default,PopMatter:N.default,RPicker:A.default,Datetime:I.default,PopBaseinfo:R.default},data:function(){return{listId:"4099b5aa-1468-4b81-85a5-75079e291977",matterList:[],showMaterielPop:!1,count:0,formData:{creator:"",modifer:"",biId:"",biComment:""},applyComment:"",numMap:{},taxRate:0,matterParams:{processing:"半成品"}}},mixins:[k.default],computed:{totalNum:function(){var e=0;return this.matterList.forEach(function(t){e=(0,j.accAdd)(e,t.tdQty)}),Number(e)}},methods:{selMatter:function(e){var t=this,a=JSON.parse(e);a.map(function(e){t.numMap[e.inventoryCode]?e.tdQty=t.numMap[e.inventoryCode].tdQty:e.tdQty=""}),this.numMap={},this.matterList=a},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,v.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,m.default)(this.matterList);!(e=(n=i.next()).done);e=!0){var r=n.value;this.numMap[r.inventoryCode]={tdQty:r.tdQty,price:r.price}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this,t="",a=[];if(0===this.matterList.length&&(t="请选择物料"),t||this.matterList.every(function(e){return e.tdQty?(a.push({tdId:e.tdId||"",inventoryName_transObjCode:e.inventoryName,transObjCode:e.inventoryCode,tdProcessing:e.processing,assMeasureUnit:e.assMeasureUnit||null,assMeasureScale:e.assMeasureScale||null,assistQty:e.assistQty||0,tdQty:e.tdQty,comment:e.comment||"",promDeliTime:e.promDeliTime}),!0):(t="数量不能为空",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=D.saveAndStartWf,n=(0,c.default)({},e.processCode,{businessKey:"BKSO",createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.biComment,formData:(0,v.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,order:{dataSet:a}})),wfPara:(0,v.default)(n)};e.isResubmit&&(t=D.saveAndCommitTask,i.biReferenceId=e.biReferenceId),e.processCode.length||(t=D.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,o.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,x.getSOList)({formViewUniqueId:e.uniqueId,transCode:e.transCode}).then(function(t){e.listId=t.listId,e.applyComment=t.biComment,e.biReferenceId=t.biReferenceId,e.biComment=t.biComment;var a=t.formData;a.order.dataSet.map(function(t){t=(0,d.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,inventoryType:t.inventoryType_transObjCode,inventorySubclass:t.inventorySubclass_transObjCode}),e.matterList.push(t)}),e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),e.attachment=t.attachment,e.$loading.hide()});case 2:case"end":return t.stop()}},t,e)}))()},hasDraftData:function(){return!!this.matterList.length&&(0,c.default)({},"BHDD_DATA",{matter:this.matterList,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("BHDD_DATA");e&&(this.matterList=JSON.parse(e).matter,this.formData=JSON.parse(e).formData,sessionStorage.removeItem("BHDD_DATA"))}}},jOdo:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"r-date-container",on:{click:e.clickDateSelect}},[a("div",{staticClass:"title"},[e._v(e._s(e.title))]),e._v(" "),a("div",{staticClass:"mode"},[a("span",{staticClass:"mode_content"},[e._v(e._s(e.time||e.placeholder||"请选择"+e.title))]),e._v(" "),a("span",{staticClass:"iconfont icon-shenglve"})])])},i=[],r={render:n,staticRenderFns:i};t.a=r},jWeF:function(e,t){},jcsO:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("just-word-item",{key:n,attrs:{item:t,"conut-title":"预期销售额"},nativeOn:{click:function(a){e.goDetail(t,n)}}})}))],1),e._v(" "),e.action.add?a("div",{staticClass:" vux-1px-t btn"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},jnZd:function(e,t,a){"use strict";function n(e){a("yS+Q")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("JOdt");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("HpO8"),o=a.n(s),l=a("GRe5"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},jozx:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.inPut?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"contacts_part"},[a("contact-part",{attrs:{"contact-info":e.dealerInfo,hasClass:!1,logistics:!1}}),e._v(" "),a("warehouse-content",{staticClass:"vux-1px-t",attrs:{warehouse:e.warehouse}})],1),e._v(" "),a("matter-list",{attrs:{"order-list":e.orderList,noTaxAmount:e.noTaxAmount,taxAmount:e.taxAmount,count:e.count},scopedSlots:e._u([{key:"matterOther",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[n.productionDate?a("span",[e._v("生产日期: "+e._s(n.productionDate))]):e._e(),e._v(" "),n.validUntil?a("span",[e._v("有效日期: "+e._s(n.validUntil))]):e._e()]),e._v(" "),a("div",{staticClass:"mater_attribute"},[a("span",[e._v("单价: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.price),3)))]),e._v(" "),a("span",[e._v("数量: "+e._s(e._f("toFixed")(n.tdQty)))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.taxRate,expression:"item.taxRate"}]},[e._v("税率: "+e._s(n.taxRate))])]),e._v(" "),a("div",{staticClass:"mater_price"},[a("span",[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(n.tdAmount),3)))]),e._v(" "),n.taxRate?a("span",{staticClass:"num",style:{display:n.tdAmount&&n.tdAmount.toString().length>=7?"block":""}},[e._v("\n                [金额: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.noTaxAmount),3))+" + 税金: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.taxAmount),3))+"]\n              ")]):e._e()])])]}}])}),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},jrYp:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("gTYh"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"group",methods:{cleanStyle:i.default},props:{title:String,titleColor:String,labelWidth:String,labelAlign:String,labelMarginRight:String,gutter:[String,Number],footerTitle:String,footerTitleColor:String}}},juMk:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("IhpF"),o=n(s),l=a("kNGm"),d=n(l),u=a("iR2W"),c=n(u),f=a("vS5q"),m=a("Qg39"),h=a("/MtV");a("B6iy"),a("cfw3"),a("vfE7"),a("qYjU"),a("B6j4");var v=function(e,t,a){var n="",i=e.length,r=a,s=Math.ceil(i/r);if(i>r)for(var o=0;o<s;o++){var l="",d=o*r,u=d+r;l=o==s-1?e.substring(d,i):e.substring(d,u)+t,n+=l}else n=e;return n};t.default={data:function(){return{pieOption:{title:{text:"客户交易往来分析",x:"center",top:5},legend:{orient:"vertical",left:"6%",top:"65%",itemGap:10,data:[]},tooltip:{confine:!0,textStyle:{fontSize:12},formatter:function(e){return e.data.name+"<br/>销售额: ￥"+(0,c.default)(e.value)+" ("+e.percent+"%)"}},color:["#07689f","#a2d5f2","#ff7e67","#abedd8","#283c63","#bad7df"],series:[{name:"公司名称",type:"pie",radius:"40%",center:["50%","38%"],data:[],label:{fontSize:12,formatter:function(e){return v(e.data.name,"\n",6)}},labelLine:{}}]},timeFilter:{startDate:"请选择",EndDate:"请选择"},staffRank:[],defaultTips:"",isReset:!1,dateShow:!1,businessAmount:0}},filters:{toFixed:m.toFixed,numberComma:c.default},components:{Countup:o.default},methods:{getStart:function(){var e=this;this.$vux.datetime.show({cancelText:"取消",confirmText:"确定",value:this.timeFilter.startDate,endDate:this.preDate,onConfirm:function(t){e.timeFilter.startDate=t}})},getEnd:function(){var e=this;this.$vux.datetime.show({cancelText:"取消",confirmText:"确定",value:this.timeFilter.EndDate,endDate:this.toDay,onConfirm:function(t){e.timeFilter.EndDate=t}})},resetData:function(){this.timeFilter={startDate:"请选择",EndDate:"请选择"}},confirm:function(){"请选择"!==this.timeFilter.startDate&&"请选择"!==this.timeFilter.EndDate?this.defaultTips=this.timeFilter.startDate+" ~ "+this.timeFilter.EndDate:"请选择"!==this.timeFilter.EndDate?this.defaultTips="截止至 "+this.timeFilter.EndDate:"请选择"!==this.timeFilter.startDate?this.defaultTips=this.timeFilter.startDate+" ~ "+this.toDay+" [今日]":this.defaultTips="截止至 "+this.toDay,this.dateShow=!1;var e={startData:"请选择"===this.timeFilter.startDate?"":this.timeFilter.startDate,endData:"请选择"===this.timeFilter.EndDate?"":this.timeFilter.EndDate};this.dashboardData(e)},dashboardData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,f.getDashboard)(t).then(function(t){var a=t.total,n=void 0===a?0:a,i=t.dealerPie,s=(t.productSalesRanking,t.salesmanRanking),o=h.init(document.getElementById("pie")),l=[];e.staffRank=s;var d=!0,u=!1,c=void 0;try{for(var f,v=(0,r.default)(i);!(d=(f=v.next()).done);d=!0){var p=f.value,C={value:p.total,name:p.dealerName};l.push(C)}}catch(e){u=!0,c=e}finally{try{!d&&v.return&&v.return()}finally{if(u)throw c}}e.businessAmount=(0,m.toFixed)(n),e.$set(e.pieOption.series[0],"data",l),e.$set(e.pieOption.legend,"data",l),o.setOption(e.pieOption)})}},created:function(){this.toDay=(0,d.default)(new Date,"YYYY-MM-DD"),this.preDate=(0,d.default)(new Date((new Date).getTime()-864e5),"YYYY-MM-DD"),this.defaultTips="截止至 "+this.toDay,this.dashboardData()}}},jxi0:function(e,t){},jzM3:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("xZPP"),r=n(i),s=a("St0H"),o=a("803w"),l=n(o),d=a("gTYh"),u=n(d),c=a("FGI+"),f=n(c);t.default={name:"cell",components:{InlineDesc:r.default},props:(0,l.default)(),created:function(){},beforeMount:function(){this.hasTitleSlot=!!this.$slots.title,this.$slots.value},computed:{labelStyles:function(){return(0,u.default)({width:(0,f.default)(this,"labelWidth"),textAlign:(0,f.default)(this,"labelAlign"),marginRight:(0,f.default)(this,"labelMarginRight")})},valueClass:function(){return{"vux-cell-primary":"content"===this.primary||"left"===this.valueAlign,"vux-cell-align-left":"left"===this.valueAlign,"vux-cell-arrow-transition":!!this.arrowDirection,"vux-cell-arrow-up":"up"===this.arrowDirection,"vux-cell-arrow-down":"down"===this.arrowDirection}},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}},style:function(){if(this.alignItems)return{alignItems:this.alignItems}}},methods:{onClick:function(){!this.disabled&&(0,s.go)(this.link,this.$router)}},data:function(){return{hasTitleSlot:!0,hasMounted:!1}}}},"k/5C":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("z5TY"),r=n(i),s=a("BGNQ"),o=n(s);t.default={name:"HGCW_List",data:function(){return{listData:[{title:"利润表",code:"LR"},{title:"资产负债表",code:"ZCFZ"}]}},components:{Cell:o.default,Group:r.default},methods:{goDetail:function(e){var t=this.$route.params,a=t.fileId,n=t.listId;this.$router.push({path:"/detail/"+a+"/"+n,query:{code:e.code,name:e.title}})}},created:function(){this.$loading.hide()}}},"k/UG":function(e,t,a){"use strict";function n(e){a("I/Vg")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("fc3g");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("JFKB"),o=a.n(s),l=a("WsVA"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-6ed0b8aa",null);t.default=c.exports},k0FM:function(e,t){},k4WU:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("7g+Q"),o=n(s),l=a("+62G"),d=(n(l),a("z5TY")),u=n(d),c=a("BGNQ"),f=n(c),m=a("u28h"),h=n(m),v=a("SAzG"),p=n(v),C=a("jnZd"),_=(n(C),a("Qg39"));t.default={name:"MatterPop",props:{modifyMatter:{type:Object,default:function(){return{}}},showDateTime:{type:Boolean,default:!1},showPop:{type:Boolean,default:!1},btnIsHide:{type:Boolean,default:!1},isCheckStock:{type:Boolean,default:!0},isShowAmount:{type:Boolean,default:!0},dateText:{type:String,default:"预期交货日"}},components:{Popup:o.default,Group:u.default,Cell:f.default,Datetime:h.default,XInput:p.default},data:function(){return{show:!1}},watch:{showPop:{handler:function(e){this.show=e}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&(e.$refs.bScroll.refresh(),e.$refs.bScroll.scrollTo(0,0)),e.clientHeight=document.documentElement.clientHeight})},onHide:function(){this.$emit("input",!1),this.showPrice=!1,this.currentType="渠道价"},confirm:function(){this.$emit("sel-confirm",(0,r.default)(this.modifyMatter)),this.show=!1},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},checkAmt:function(e){var t=e.price,a=e.tdQty,n=e.taxRate,i=e.qtyBal,r=e.qtyStockBal,s=e.qtyStock;t&&(e.price=Math.abs((0,_.toFixed)(t))),a&&this.isCheckStock&&(e.tdQty=Math.abs((0,_.toFixed)(a)),!r&&!s&&i&&a>i?e.tdQty=i:r&&a>r?e.tdQty=r:s&&a>s&&(console.log(s),e.tdQty=s)),n&&(e.taxRate=Math.abs((0,_.toFixed)(n)))},getFocus:function(e){event.currentTarget.select()}}}},kA5c:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2294,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName"}]}},mixins:[i.default],methods:{},created:function(){}}},kCcb:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("BGNQ"),r=n(i),s=a("z5TY"),o=n(s),l=a("kNGm"),d=(n(l),a("0AQX")),u=a("+VRO"),c=n(u),f=(a("Qg39"),a("BUFe")),m=n(f),h=a("AupE"),v=n(h),p=a("bFc7"),C=n(p),_=a("FlCz"),y=n(_),b=a("hPJo"),g=n(b);t.default={data:function(){return{workInfo:{},orderInfo:{},bomList:[],warehouse:{}}},mixins:[c.default],components:{Cell:r.default,Group:o.default,RAction:m.default,workFlow:v.default,contactPart:C.default,BomList:y.default,WarehouseContent:g.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,d.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.attachment,r=void 0===i?[]:i,s=t.formData,o=void 0===s?{}:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var l=o.outPut,d=void 0===l?{}:l,u=d.dataSet,c=void 0===u?[]:u;e.warehouse={warehouseName:d.warehouseName_containerCode,warehouseType:d.warehouseType_containerCode,warehouseAddress:d.warehouseAddress_containerCode},c.forEach(function(e){e.inventoryName=e.inventoryName_outPutMatCode,e.inventoryCode=e.outPutMatCode}),e.bomList=c,e.attachment=r,e.orderInfo=o,e.workInfo=o.order.dataSet[0],e.workFlowInfoHandler()})}}}},kCg8:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2208,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}],noTaxRate:!0}},mixins:[i.default],methods:{},created:function(){}}},kKsb:function(e,t,a){"use strict";function n(e){a("pM28")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lqQX");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("2RZr"),o=a.n(s),l=a("EOEs"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-1e368680",null);t.default=c.exports},kRot:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o),d=a("zWMP"),u=a("Qg39"),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("89pA"),p=n(v),C=a("bFc7"),_=n(C),y=a("6WeX"),b=n(y),g=a("hPJo"),w=n(g),I=a("kKsb"),x=n(I),D=a("sUbJ"),P=n(D),k=a("d7ck"),S=n(k);t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"",orderList:{},warehouse:{},dealerInfo:{},basicInfo:{}}},computed:{noTaxAmount:function(){var e=0;return this.orderInfo.outPut.dataSet.forEach(function(t){e=(0,d.accAdd)(e,t.noTaxAmount)}),e},taxAmount:function(){var e=0;return this.orderInfo.outPut.dataSet.forEach(function(t){e=(0,d.accAdd)(e,t.taxAmount)}),e}},mixins:[l.default],components:{workFlow:h.default,RAction:f.default,PopWarehouseList:p.default,contactPart:_.default,PriceTotal:b.default,WarehouseContent:w.default,ProjectPart:x.default,MatterItem:P.default,FormCell:S.default},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var c={},f=s.outPut,m=void 0===f?{}:f;e.attachment=l;var h=s.outPut.dataSet,v=!0,p=!1,C=void 0;try{for(var _,y=(0,r.default)(h);!(v=(_=y.next()).done);v=!0){var b=_.value;b.noTaxAmount=(0,d.accMul)(b.price,b.tdQty),b.taxAmount=(0,d.accMul)(b.noTaxAmount,b.taxRate),b.tdAmount=(0,u.toFixed)((0,d.accAdd)(b.noTaxAmount,b.taxAmount)),e.count=(0,d.accAdd)(e.count,b.tdAmount),b.inventoryPic=b.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+b.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),b.inventoryName_transObjCode=b.inventoryName_outPutMatCode,b.transObjCode=b.outPutMatCode,c[b.orderCode]||(c[b.orderCode]=[]),c[b.orderCode].push(b)}}catch(e){p=!0,C=e}finally{try{!v&&y.return&&y.return()}finally{if(p)throw C}}e.orderList=c,e.dealerInfo={creatorName:s.dealerDebitContactPersonName,dealerName:m.dealerName_dealerDebit,dealerMobilePhone:s.dealerDebitContactInformation,dealerContactPersonName:s.dealerDebitContactPersonName,dealerCode:m.dealerDebit,dealerLabelName:m.drDealerLabel,province:m.province_dealerDebit,city:m.city_dealerDebit,county:m.county_dealerDebit,address:m.address_dealerDebit,payment:m.drDealerPaymentTerm,logistics:s.drDealerLogisticsTerms},e.warehouse={warehouseCode:m.containerCodeOut,warehouseName:m.warehouseName_containerCodeOut,warehouseType:m.warehouseType_containerCodeOut,warehouseProvince:m.warehouseProvince_containerCodeOut,warehouseCity:m.warehouseCity_containerCodeOut,warehouseDistrict:m.warehouseDistrict_containerCodeOut,warehouseAddress:m.warehouseAddress_containerCodeOut},e.orderInfo=s,e.workFlowInfoHandler()})}}}},kSDc:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2390,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"客户名称",value:"dealerName_dealerCodeCredit"}]}},mixins:[i.default],methods:{},created:function(){}}},kSI7:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){e&&e.includes("database")&&(e="抱歉，数据似乎出了点问题，请稍后重试"),l.default.show({content:e,onHide:function(){s.default.prototype.$loading.hide(),s.default.prototype.$HandleLoad.hide()}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=a("++MA"),s=n(r),o=a("L6VY"),l=n(o)},kSdW:function(e,t){},"kY/w":function(e,t,a){"use strict";function n(e){a("nBWv")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("SU7p");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("u5b7"),o=a.n(s),l=a("/xwX"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-a24fbdd0",null);t.default=c.exports},"kZy/":function(e,t,a){"use strict";function n(e){a("gEUq")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("G0OA");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Ci8m"),o=a.n(s),l=a("7D9y"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-4de5a0b6",null);t.default=c.exports},kdhw:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("FvvE"),r=n(i),s=a("ZTs6"),o=n(s);t.default={data:function(){return{fileId:"",currentComponent:"",isrefresh:!1}},created:function(){var e=this.$route.params,t=e.fileId,n=e.listId,i=this.$route.query.childId;this.fileId=t,t&&(this.currentComponent=i?a("88rY")("./"+o.default[t]+"/"+r.default[t][i][n]+"_List.vue").default:a("88rY")("./"+o.default[t]+"/"+r.default[t][n]+"_List.vue").default)},beforeRouteEnter:function(e,t,a){var n=e.query,i=n.name,r=n.transCode;i.includes("合规")&&(e.meta.title=i,a()),e.meta.title=r?"加载中...":i+"列表",a()},activated:function(){var e=this,t=this.$route.meta.reload;if(setTimeout(function(){e.$refs.list.changeVisitedStatus&&e.$refs.list.changeVisitedStatus()}),this.$nextTick(function(){e.$refs.list&&e.$refs.list.$refs.bScroll&&e.$refs.list.$refs.bScroll.refresh()}),t){var n=this.$route.params,i=n.fileId,s=n.listId,l=this.$route.query.childId;this.$loading.show(),i&&(this.fileId===i&&this.currentComponent&&this.$refs.list.reloadData(),this.fileId=i,this.currentComponent=l?a("88rY")("./"+o.default[i]+"/"+r.default[i][l][s]+"_List.vue").default:a("88rY")("./"+o.default[i]+"/"+r.default[i][s]+"_List.vue").default),this.$route.meta.reload=!1}},beforeRouteLeave:function(e,t,a){"/home"===e.path&&(this.$loading.hide(),this.currentComponent=null,t.meta.reload=!0),a()}}},keYS:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("+62G"),v=n(h),p=a("6q39"),C=n(p),_=a("fEP3"),y=a("1KNX"),b=n(y),g=a("7biW"),w=n(g);t.default={name:"PopCompanyList",props:{defaultValue:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1}},directives:{TransferDom:v.default},components:{Icon:c.default,Popup:m.default,RScroll:b.default,DSearch:w.default,LoadMore:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},watch:{defaultValue:function(e){this.setDefaultValue()}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this.getList()},showSelIcon:function(e){return this.selItems.facilityName===e.facilityName},selThis:function(e,t){this.showPop=!1,this.selItems=e,console.log(this.selItems),this.$emit("sel-item",this.selItems)},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"facilityName"}])),(0,_.getObjFacility)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,d.default)(e.listData),(0,d.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.selItems=this.defaultValue?(0,r.default)({},this.defaultValue):{}},itemClick:function(){this.disabled||(this.showPop=!this.showPop)}},created:function(){this.setDefaultValue(),this.disabled||this.getList()}}},kgls:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("YP5q"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"confirm",components:{XDialog:i.default},props:{value:{type:Boolean,default:!1},showInput:{type:Boolean,default:!1},placeholder:{type:String,default:""},theme:{type:String,default:"ios"},hideOnBlur:{type:Boolean,default:!1},title:String,confirmText:String,cancelText:String,maskTransition:{type:String,default:"vux-fade"},maskZIndex:[Number,String],dialogTransition:{type:String,default:"vux-dialog"},content:String,closeOnConfirm:{type:Boolean,default:!0},inputAttrs:Object,showContent:{type:Boolean,default:!0},confirmType:{type:String,default:"primary"}},created:function(){this.showValue=this.show,this.value&&(this.showValue=this.value)},watch:{value:function(e){this.showValue=e},showValue:function(e){var t=this;this.$emit("input",e),e&&(this.showInput&&(this.msg="",setTimeout(function(){t.$refs.input&&t.setInputFocus()},300)),this.$emit("on-show"))}},data:function(){return{msg:"",showValue:!1}},methods:{getInputAttrs:function(){return this.inputAttrs||{type:"text"}},setInputValue:function(e){this.msg=e},setInputFocus:function(e){e&&e.preventDefault(),this.$refs.input.focus()},_onConfirm:function(){this.showValue&&(this.closeOnConfirm&&(this.showValue=!1),this.$emit("on-confirm",this.msg))},_onCancel:function(){this.showValue&&(this.showValue=!1,this.$emit("on-cancel"))}}}},kkCB:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("bFc7"),p=n(v),C=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",contactInfo:{}}},mixins:[u.default],components:{workFlow:h.default,RAction:f.default,contactPart:p.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=!0,i=!1,s=void 0;try{for(var l,d=(0,r.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;e.count=(0,C.accAdd)(e.count,u.tdAmount)}}catch(e){i=!0,s=e}finally{try{!n&&d.return&&d.return()}finally{if(i)throw s}}t.formData.validUntil=(0,o.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData;var c=e.orderInfo.order;e.contactInfo={creatorName:c.dealerDebitContactPersonName,dealerName:c.dealerName_dealerCodeCredit,dealerMobilePhone:t.formData.dealerCreditContactInformation,dealerContactPersonName:t.formData.dealerCreditContactPersonName,dealerCode:c.dealerCodeCredit,dealerLabelName:c.crDealerLabel,province:c.province_dealerCodeCredit,city:c.city_dealerCodeCredit,county:c.county_dealerCodeCredit,address:c.address_dealerCodeCredit},e.workFlowInfoHandler()})}}}},kmPo:function(e,t){},kpbF:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getProfit=t.getOffBalance=t.getViewList=t.getView=t.getListClassfiy=void 0;var i=a("GOq4"),r=n(i),s=a("kSI7"),o=n(s);t.getListClassfiy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.ajax({url:"/H_roleplay-si/ps/account/getEntryView",data:e}).catch(function(e){return(0,o.default)(e)})},t.getView=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.ajax({url:"/account-api/account/getView",data:e}).catch(function(e){return(0,o.default)(e)})},t.getViewList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.ajax({url:"/account-api/account/getView",data:e}).catch(function(e){return(0,o.default)(e)})},t.getOffBalance=function(){return r.default.ajax({url:"/account-api/account/getOffBalanceForMobile"}).catch(function(e){return(0,o.default)(e)})},t.getProfit=function(){return r.default.ajax({url:"/account-api/account/getProfitForMobile"}).catch(function(e){return(0,o.default)(e)})};t.default={}},kriB:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["-moz-box-","-webkit-box-",""];t.default={name:"flexbox-item",props:{span:[Number,String],order:[Number,String]},beforeMount:function(){this.bodyWidth=document.documentElement.offsetWidth},methods:{buildWidth:function(e){return"number"==typeof e?e<1?e:e/12:"string"==typeof e?e.replace("px","")/this.bodyWidth:void 0}},computed:{style:function(){var e={},t="horizontal"===this.$parent.orient?"marginLeft":"marginTop";if(1*this.$parent.gutter!=0&&(e[t]=this.$parent.gutter+"px"),this.span)for(var a=0;a<n.length;a++)e[n[a]+"flex"]="0 0 "+100*this.buildWidth(this.span)+"%";return void 0!==this.order&&(e.order=this.order),e}},data:function(){return{bodyWidth:0}}}},ksvY:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("4YfN"),o=n(s),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("6q39"),v=n(h),p=a("fEP3"),C=a("1KNX"),_=n(C),y=a("7biW"),b=n(y);a("zWMP");t.default={name:"work-list-pop",props:{show:{type:Boolean,default:!1},params:{type:Object,default:function(){return{calc_rel_code:7051,view_id:"view_94"}}},workType:{type:String,default:"派工"}},components:{Icon:c.default,Popup:m.default,LoadMore:v.default,RScroll:_.default,MSearch:b.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],scrollOptions:{click:!0},btnText:"关闭",filterList:[{name:"成品名称",value:"inventoryName"},{name:"工序名称",value:"procedureName"}],filterProperty:"",taskWorkList:{}}},watch:{show:{handler:function(e){this.showPop=e}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){var t=!1;return this.selItems&&this.selItems.every(function(a){return a.orderCode&&e.matCode===a.matCode&&e.transCode===a.transCode&&e.orderCode===a.orderCode?(t=!0,!1):!(!a.orderCode&&e.matCode===a.matCode&&e.transCode===a.transCode)||(t=!0,!1)}),t&&(this.btnText="发起工单"+this.workType),t},selThis:function(e,t){var a=this.selItems,n=a.findIndex(function(t){return t.transCode===e.transCode&&t.matCode===e.matCode});if(e.orderCode&&(n=a.findIndex(function(t){return t.transCode===e.transCode&&t.matCode===e.matCode&&t.orderCode===e.orderCode})),-1!==n)return a.splice(n,1),void(a.length||(this.btnText="关闭"));this.selItems=[e]},getWorkOrderTask:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getTaskWorkList)((0,o.default)({},this.params,{filter:(0,r.default)(t)})).then(function(t){var a=t.data,n=void 0===a?[]:a;e.taskWorkList=n})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.taskWorkList={},this.$refs.bScroll.scrollTo(0,0),this.getWorkOrderTask()},btnHandle:function(){"关闭"!==this.btnText&&this.$emit("sel-task",this.selItems),this.showPop=!1}},created:function(){this.getWorkOrderTask()}}},"kt+f":function(e,t){},ktwI:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"matter-item"},[a("div",{staticClass:"mater_img"},[a("img",{attrs:{src:e.item.inventoryPic,alt:"mater_img"},on:{error:function(t){e.getDefaultImg(e.item)}}})]),e._v(" "),a("div",{staticClass:"mater_main",class:[{"show-delete":e.showDelete},{"no-edit":e.hideEdit}]},[a("div",{staticClass:"mater_name"},[e._v("\n      "+e._s(e.item.inventoryName||e.item.facilityName)+"\n    ")]),e._v(" "),a("div",{staticClass:"matter-info"},[a("div",{staticClass:"matter-info-item"},[a("span",{staticClass:"title"},[e._v("编码")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(e.item.inventoryCode||e.item.facilityCode||e.item.outPutMatCode))])]),e._v(" "),a("div",{staticClass:"matter-info-item matter-spec"},[a("span",{staticClass:"title"},[e._v("规格")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(e.item.specification||e.item.facilityUnit||e.item.specification_outPutMatCode||"无"))])])]),e._v(" "),e._t("info",[a("div",{staticClass:"matter-more"},[a("span",{staticClass:"unit"},[e._v("属性: "+e._s(e.item.processing))]),e._v(" "),a("span",{staticClass:"unit"},[e._v("主计量: "+e._s(e.item.measureUnit))]),e._v(" "),a("span",{staticClass:"unit"},[e._v("辅助计量: "+e._s(e.item.invSubUnitName))]),e._v(" "),e.item.taxRate?a("span",{staticClass:"mater_color"},[e._v("税率: "+e._s(e.item.taxRate))]):e._e()]),e._v(" "),a("div",{staticClass:"mater_more"},[a("span",{staticClass:"unit"},[e._v("辅助计量说明: "+e._s(e.item.invSubUnitComment))])])],{item:e.item}),e._v(" "),e._t("edit",[e.hideEdit&&!e.showDelete?a("div",{staticClass:"mater_other",on:{click:e.modifyMatter}},[a("div",{staticClass:"edit-tips"},[e._v("点击进行填写")])]):e._e()],{item:e.item}),e._v(" "),e._t("editPart",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.showEdit&&!e.showDelete,expression:"showEdit && !showDelete"}],staticClass:"edit-part vux-1px-l",on:{click:e.modifyMatter}},[a("span",{staticClass:"iconfont icon-bianji1"})])],{item:e.item})],2)])},i=[],r={render:n,staticRenderFns:i};t.a=r},ku52:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["微笑","撇嘴","色","发呆","得意","流泪","害羞","闭嘴","睡","大哭","尴尬","发怒","调皮","呲牙","惊讶","难过","酷","冷汗","抓狂","吐","偷笑","可爱","白眼","傲慢","饥饿","困","惊恐","流汗","憨笑","大兵","奋斗","咒骂","疑问","嘘","晕","折磨","衰","骷髅","敲打","再见","擦汗","抠鼻","鼓掌","糗大了","坏笑","左哼哼","右哼哼","哈欠","鄙视","委屈","快哭了","阴险","亲亲","吓","可怜","菜刀","西瓜","啤酒","篮球","乒乓","咖啡","饭","猪头","玫瑰","凋谢","示爱","爱心","心碎","蛋糕","闪电","炸弹","刀","足球","瓢虫","便便","月亮","太阳","礼物","拥抱","强","弱","握手","胜利","抱拳","勾引","拳头","差劲","爱你","NO","OK","爱情","飞吻","跳跳","发抖","怄火","转圈","磕头","回头","跳绳","挥手","激动","街舞","献吻","左太极","右太极"];t.default={name:"wechat-emotion",mounted:function(){var e=this,t=this.$el.innerHTML;this.index=n.indexOf(t),this.backgroundPositionX=24*-this.index;var a="";a=this.isGif?'<img src="https://res.wx.qq.com/mpres/htmledition/images/icon/emotion/'+this.index+'.gif">':'<span class="vux-static-emotion" style="background:url(https://res.wx.qq.com/mpres/htmledition/images/icon/emotion/default218877.gif) '+this.backgroundPositionX+'px 0;"></span>',this.$nextTick(function(){e.$el.innerHTML=a})},props:{isGif:Boolean},data:function(){return{src:"",backgroundPositionX:0}}}},kwkP:function(e,t){},"l+cX":function(e,t){},"l/ek":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages cpxq-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart when-is-form"},[a("div",{staticClass:"wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,defaultContact:e.contactInfo},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("div",{staticClass:"materiel_list"},[a("div",{staticClass:"mater_list"},[a("div",{staticClass:"each_mater"},[a("div",{staticClass:"userInp_mode"},[a("div",{staticClass:"title"},[e._v("需求信息")]),e._v(" "),a("group",{staticClass:"XQ_group",on:{"group-title-margin-top":function(e){}}},[a("x-input",{attrs:{title:"标题","text-align":"right",placeholder:"请填写"},model:{value:e.formData.demandTitle,callback:function(t){e.$set(e.formData,"demandTitle",t)},expression:"formData.demandTitle"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("标题\n                    ")])])],2),e._v(" "),a("x-textarea",{attrs:{title:"描述",max:200},model:{value:e.formData.demandDescribe,callback:function(t){e.$set(e.formData,"demandDescribe",t)},expression:"formData.demandDescribe"}},[a("template",{slot:"label"},[a("label",{staticClass:"required",staticStyle:{width:"3em",display:"block"}},[e._v("描述")])])],2),e._v(" "),a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1)])])]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"contain-style":e.uploadStyle},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"cfm_btn",on:{click:e.save}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},l4QM:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"comment-item",class:{visited:e.item.visited}},[n("div",{staticClass:"top-info-part"},[n("div",{staticClass:"header-part"},[n("div",{staticClass:"avatar-part"},[n("img",{staticClass:"avatar",attrs:{src:e.item.photo||a("Fuf7")},on:{error:e.getDefaultImg}})]),e._v(" "),n("div",{staticClass:"main-container"},[n("span",{staticClass:"creator_name"},[e._v(e._s(e.item.creatorName))]),e._v(" "),n("span",{staticClass:"time"},[e._v(e._s(e.item.crtTime))])])]),e._v(" "),n("div",{staticClass:"comment-container"},[n("div",{staticClass:"comment",domProps:{innerHTML:e._s(e.handleComment())}}),e._v(" "),e.item.attachment?n("div",{staticClass:"comment-image"},[e._l(e.item.attachment,function(t,a){return t.isImg?n("img",{key:a,staticClass:"comment-image-item",attrs:{src:t.attachment},on:{click:function(a){a.stopPropagation(),e.scaleImg(t)}}}):e._e()}),e._v(" "),e._l(e.item.attachment,function(t,a){return t.isImg?e._e():n("div",{key:a,staticClass:"each_file",on:{click:function(a){a.stopPropagation(),e.checkFile(t.attachment)}}},[e._v("附件"+e._s(a+1)+": "+e._s(t.name))])})],2):e._e()])]),e._v(" "),n("div",{staticClass:"belong-container",class:{"has-reply":e.item.reply}},[e.item.reply?n("div",{staticClass:"reply-part",domProps:{innerHTML:e._s(e.handleComment("reply"))}}):e._e(),e._v(" "),n("div",{staticClass:"belong-part"},[n("div",{staticClass:"app_img"},[n("img",{staticClass:"app_img",attrs:{src:e.item.pic,alt:"appImg"},on:{error:function(t){e.getDefaultIcon(e.item)}}})]),e._v(" "),n("div",{staticClass:"other_info"},[n("p",{staticClass:"app_name"},[e._v(e._s(e.item.listName))]),e._v(" "),n("p",{staticClass:"app_status_info"},[e._v(e._s(e.item.other))])])])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},l5aY:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("IhpF"),o=n(s),l=a("kNGm"),d=n(l),u=a("iR2W"),c=n(u),f=a("vS5q"),m=a("Qg39"),h=a("/MtV");a("B6iy"),a("cfw3"),a("vfE7"),a("qYjU"),a("B6j4");var v=function(e,t,a){var n="",i=e.length,r=a,s=Math.ceil(i/r);if(i>r)for(var o=0;o<s;o++){var l="",d=o*r,u=d+r;l=o==s-1?e.substring(d,i):e.substring(d,u)+t,n+=l}else n=e;return n};t.default={data:function(){return{pieOption:{title:{text:"客户交易往来分析",x:"center",top:5},legend:{orient:"vertical",left:"6%",top:"65%",itemGap:10,data:[]},tooltip:{confine:!0,textStyle:{fontSize:12},formatter:function(e){return e.data.name+"<br/>销售额: ￥"+(0,c.default)(e.value)+" ("+e.percent+"%)"}},color:["#07689f","#a2d5f2","#ff7e67","#abedd8","#283c63","#bad7df"],series:[{name:"公司名称",type:"pie",radius:"40%",center:["50%","38%"],data:[],label:{fontSize:12,formatter:function(e){return v(e.data.name,"\n",6)}},labelLine:{}}]},timeFilter:{startDate:"请选择",EndDate:"请选择"},staffRank:[],defaultTips:"",isReset:!1,dateShow:!1,businessAmount:0}},filters:{toFixed:m.toFixed,numberComma:c.default},components:{Countup:o.default},methods:{getStart:function(){var e=this;this.$vux.datetime.show({cancelText:"取消",confirmText:"确定",value:this.timeFilter.startDate,endDate:this.preDate,onConfirm:function(t){e.timeFilter.startDate=t}})},getEnd:function(){var e=this;this.$vux.datetime.show({cancelText:"取消",confirmText:"确定",value:this.timeFilter.EndDate,endDate:this.toDay,onConfirm:function(t){e.timeFilter.EndDate=t}})},resetData:function(){this.timeFilter={startDate:"请选择",EndDate:"请选择"}},confirm:function(){"请选择"!==this.timeFilter.startDate&&"请选择"!==this.timeFilter.EndDate?this.defaultTips=this.timeFilter.startDate+" ~ "+this.timeFilter.EndDate:"请选择"!==this.timeFilter.EndDate?this.defaultTips="截止至 "+this.timeFilter.EndDate:"请选择"!==this.timeFilter.startDate?this.defaultTips=this.timeFilter.startDate+" ~ "+this.toDay+" [今日]":this.defaultTips="截止至 "+this.toDay,this.dateShow=!1;var e={startData:"请选择"===this.timeFilter.startDate?"":this.timeFilter.startDate,endData:"请选择"===this.timeFilter.EndDate?"":this.timeFilter.EndDate};this.dashboardData(e)},dashboardData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,f.getDashboard)(t).then(function(t){var a=t.total,n=void 0===a?0:a,i=t.dealerPie,s=(t.productSalesRanking,t.salesmanRanking),o=h.init(document.getElementById("pie")),l=[];e.staffRank=s;var d=!0,u=!1,c=void 0;try{for(var f,v=(0,r.default)(i);!(d=(f=v.next()).done);d=!0){var p=f.value,C={value:p.total,name:p.dealerName};l.push(C)}}catch(e){u=!0,c=e}finally{try{!d&&v.return&&v.return()}finally{if(u)throw c}}e.businessAmount=(0,m.toFixed)(n),e.$set(e.pieOption.series[0],"data",l),e.$set(e.pieOption.legend,"data",l),o.setOption(e.pieOption)})}},created:function(){this.toDay=(0,d.default)(new Date,"YYYY-MM-DD"),this.preDate=(0,d.default)(new Date((new Date).getTime()-864e5),"YYYY-MM-DD"),this.defaultTips="截止至 "+this.toDay,this.dashboardData()}}},l8j0:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("ZLEe"),r=n(i),s=a("DEQU"),o=n(s),l=a("HXPS"),d=n(l),u=a("UwQd"),c=n(u),f=a("xZPP"),m=n(f),h=a("Bv05"),v=n(h),p=a("BzUK"),C=n(p),_=a("cEbJ"),y=n(_),b=a("IFIB"),g=n(b),w={email:{fn:v.default,msg:"邮箱格式"},"china-mobile":{fn:function(e){return(0,C.default)(e,"zh-CN")},msg:"手机号码"},"china-name":{fn:function(e){return e.length>=2&&e.length<=6},msg:"中文姓名"}};t.default={name:"x-input",created:function(){var e=this;this.currentValue=void 0===this.value||null===this.value?"":this.mask?this.maskValue(this.value):this.value,!this.required||void 0!==this.currentValue&&""!==this.currentValue||(this.valid=!1),this.handleChangeEvent=!0,this.debounce&&(this._debounce=(0,y.default)(function(){e.$emit("on-change",e.currentValue)},this.debounce))},beforeMount:function(){this.$slots&&this.$slots["restricted-label"]&&(this.hasRestrictedLabel=!0),this.$slots&&this.$slots["right-full-height"]&&(this.hasRightFullHeightSlot=!0)},beforeDestroy:function(){this._debounce&&this._debounce.cancel(),window.removeEventListener("resize",this.scrollIntoView)},mixins:[o.default],components:{Icon:d.default,InlineDesc:m.default,Toast:c.default},props:{title:{type:String,default:""},type:{type:String,default:"text"},placeholder:String,value:[String,Number],name:String,readonly:Boolean,disabled:Boolean,keyboard:String,inlineDesc:String,isType:[String,Function],min:Number,max:Number,showClear:{type:Boolean,default:!0},equalWith:String,textAlign:String,autocomplete:{type:String,default:"off"},autocapitalize:{type:String,default:"off"},autocorrect:{type:String,default:"off"},spellcheck:{type:String,default:"false"},novalidate:{type:Boolean,default:!1},iconType:String,debounce:Number,placeholderAlign:String,labelWidth:String,mask:String,shouldToastError:{type:Boolean,default:!0}},computed:{labelStyles:function(){return{width:this.labelWidthComputed||this.$parent.labelWidth||this.labelWidthComputed,textAlign:this.$parent.labelAlign,marginRight:this.$parent.labelMarginRight}},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}},pattern:function(){if("number"===this.keyboard||"china-mobile"===this.isType)return"[0-9]*"},labelWidthComputed:function(){var e=this.title.replace(/[^x00-xff]/g,"00").length/2+1;if(e<10)return e+"em"},hasErrors:function(){return(0,r.default)(this.errors).length>0},inputStyle:function(){if(this.textAlign)return{textAlign:this.textAlign}},showWarn:function(){return!this.novalidate&&!this.equalWith&&!this.valid&&this.firstError&&(this.touched||this.forceShowError)}},mounted:function(){window.addEventListener("resize",this.scrollIntoView)},methods:{scrollIntoView:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;setTimeout(function(){"INPUT"!==document.activeElement.tagName&&"TEXTAREA"!==document.activeElement.tagName||setTimeout(function(){document.activeElement.scrollIntoViewIfNeeded()},e)})},onClickErrorIcon:function(){this.shouldToastError&&this.firstError&&(this.showErrorToast=!0),this.$emit("on-click-error-icon",this.firstError)},maskValue:function(e){return this.mask?g.default.toPattern(e,this.mask):e},reset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.dirty=!1,this.currentValue=e,this.firstError="",this.valid=!0},clear:function(){this.currentValue="",this.focus(),this.$emit("on-click-clear-icon")},focus:function(){this.$refs.input.focus()},blur:function(){this.$refs.input.blur()},focusHandler:function(e){this.$emit("on-focus",this.currentValue,e),this.isFocus=!0,this.scrollIntoView(500)},onBlur:function(e){this.setTouched(),this.validate(),this.isFocus=!1,this.$emit("on-blur",this.currentValue,e)},onKeyUp:function(e){"Enter"===e.key&&(e.target.blur(),this.$emit("on-enter",this.currentValue,e))},getError:function(){var e=(0,r.default)(this.errors)[0];this.firstError=this.errors[e]},validate:function(){if(void 0!==this.equalWith)return void this.validateEqual();if(this.errors={},!this.currentValue&&!this.required)return void(this.valid=!0);if(!this.currentValue&&this.required)return this.valid=!1,this.errors.required="必填哦",void this.getError();if("string"==typeof this.isType){var e=w[this.isType];if(e){var t=this.currentValue;if("china-mobile"===this.isType&&"999 9999 9999"===this.mask&&(t=this.currentValue.replace(/\s+/g,"")),this.valid=e.fn(t),!this.valid)return this.forceShowError=!0,this.errors.format=e.msg+"格式不对哦~",void this.getError();delete this.errors.format}}if("function"==typeof this.isType){var a=this.isType(this.currentValue);if(this.valid=a.valid,!this.valid)return this.errors.format=a.msg,this.forceShowError=!0,void this.getError();delete this.errors.format}if(this.min){if(this.currentValue.length<this.min)return this.errors.min="最少应该输入"+this.min+"个字符哦",this.valid=!1,void this.getError();delete this.errors.min}if(this.max){if(this.currentValue.length>this.max)return this.errors.max="最多可以输入"+this.max+"个字符哦",this.valid=!1,void(this.forceShowError=!0);this.forceShowError=!1,delete this.errors.max}this.valid=!0},validateEqual:function(){return!this.equalWith&&this.currentValue?(this.valid=!1,void(this.errors.equal="输入不一致")):(this.dirty||this.currentValue.length>=this.equalWith.length)&&this.currentValue!==this.equalWith?(this.valid=!1,void(this.errors.equal="输入不一致")):void(!this.currentValue&&this.required?this.valid=!1:(this.valid=!0,delete this.errors.equal))}},data:function(){return{hasRightFullHeightSlot:!1,hasRestrictedLabel:!1,firstError:"",forceShowError:!1,hasLengthEqual:!1,valid:!0,currentValue:"",showErrorToast:!1,isFocus:!1}},watch:{mask:function(e){e&&this.currentValue&&(this.currentValue=this.maskValue(this.currentValue))},valid:function(){this.getError()},value:function(e){this.currentValue=e},equalWith:function(e){e&&this.equalWith?(e.length===this.equalWith.length&&(this.hasLengthEqual=!0),this.validateEqual()):this.validate()},currentValue:function(e){!this.equalWith&&e&&this.validateEqual(),e&&this.equalWith?(e.length===this.equalWith.length&&(this.hasLengthEqual=!0),this.validateEqual()):this.validate(),this.$emit("input",this.maskValue(e)),this._debounce?this._debounce():this.$emit("on-change",e)}}}},lBnf:function(e,t){},lDXK:function(e,t){},lDwb:function(e,t){},"lH9/":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{on:{"on-sort":e.onSortList}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noCount:"",noPrice:""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}))],1),e._v(" "),e.action.add?a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},lI25:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("1WsH"),o=a("vl8n"),l=n(o),d=a("PKHo"),u=n(d);t.default={data:function(){return{jobInfo:{name:"",status:"使用中",type:""},jobType:[{name:"管理类",value:"管理类"},{name:"营销类",value:"营销类"},{name:"技术类",value:"技术类"},{name:"专业类",value:"专业类"},{name:"操作类",value:"操作类",status:"C"}],jobStatus:[{name:"停用",value:"停用"},{name:"未使用",value:"未使用"},{name:"使用中",value:"使用中"},{name:"草稿",value:"草稿"}],jobId:null}},components:{RPicker:l.default},mixins:[u.default],methods:{submit:function(){var e=this;for(var t in this.jobInfo)"string"==typeof this.jobInfo[t]&&this.jobInfo[t].indexOf(" ")>=0&&(this.jobInfo[t]=this.jobInfo[t].replace(/\s/g,""));this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){switch(e.jobInfo.type){case"营销类":e.jobInfo.changeType="Y";break;case"专业类":e.jobInfo.changeType="Z";break;case"技术类":e.jobInfo.changeType="J";break;case"操作类":e.jobInfo.changeType="C";break;case"管理类":e.jobInfo.changeType="M"}switch(e.jobInfo.status){case"使用中":e.jobInfo.changeStatus=1;break;case"未使用":e.jobInfo.changeStatus=2;break;case"草稿":e.jobInfo.changeStatus=3;break;case"停用":e.jobInfo.changeStatus=-1}var t={describe:"",name:e.jobInfo.name,type:e.jobInfo.changeType,status:e.jobInfo.changeStatus};e.jobId?(t.id=e.jobId,(0,s.update)(t).then(function(t){t.success?(e.$emit("change",!0),e.$vux.alert.show({content:"修改成功",onHide:function(){e.$router.go(-1)}})):e.$vux.alert.show({content:t.message})})):(0,s.save)(t).then(function(t){t.id?(e.$emit("change",!0),e.$vux.alert.show({content:"提交成功",onHide:function(){e.$router.go(-1)}})):e.$vux.alert.show({content:t.message})})}})},save:function(){var e=this,t="";if([{key:"name",message:"【职位名称】"},{key:"type",message:"【职位类型】"}].every(function(a){return""!==e.jobInfo[a.key]||(t=a.message+"不能为空",!1)}),t)return void this.$vux.alert.show({content:t});this.submit()},findData:function(){var e=this;return(0,s.getJobList)({filter:(0,r.default)([{operator:"eq",value:this.jobId,property:"id"}])}).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;n.forEach(function(e){switch(e.type){case"Y":e.type="营销类";break;case"Z":e.type="专业类";break;case"J":e.type="技术类";break;case"C":e.type="操作类";break;case"M":e.type="管理类"}switch(e.status){case 1:e.status="使用中";break;case 2:e.status="未使用";break;case 3:e.status="草稿";break;case-1:e.status="停用"}}),e.jobInfo=n[0],e.$loading.hide()}).catch(function(t){e.$loading.hide()})}},created:function(){var e=this;this.$loading.show();var t=this.$route.query;if(t.id)return this.jobId=t.id,void this.findData().then(function(){e.$loading.hide()});t.jobType&&(this.jobInfo.type=t.jobType),this.$loading.hide()}}},lITt:function(e,t){},lK9Z:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("3cXf"),o=n(s),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("7g+Q"),C=n(p),_=a("PzEQ"),y=n(_),b=a("jnZd"),g=n(b),w=a("u28h"),I=n(w),x=a("kNGm"),D=(n(x),a("0AQX")),P=a("HyXB"),k=(a("jLp1"),a("bKg5")),S=n(k),T=a("55ug"),L=n(T),N=a("vl8n"),M=n(N),A=a("+WR7"),O=n(A),R=a("zWMP"),j=a("Qg39"),$={draftNumber:"",draftType:"",accepter:"",tdAmount:"",deposit:"",draftDate:"",draftDueDate:"",comment:""};t.default={mixins:[S.default],components:{Cell:c.default,Group:m.default,Popup:C.default,XInput:v.default,XTextarea:y.default,PopupPicker:g.default,RPicker:M.default,PopBaseinfo:O.default,PopDealerList:L.default,Datetime:I.default},data:function(){return{listId:"1745ffdd-1b6a-4fe5-9c5b-6e5394bd4faf",biReferenceId:"",selectedCost:[],costIndex:0,transCode:"",formData:{biComment:"",biProcessStatus:""},dealerInfo:{},orderList:[(0,d.default)({},$)],dealerParams:{dealerLabelName:"供应商,经销供应商"},draftTypeList:["银行承兑","商业承兑"]}},computed:{thenTotalAmntBal:function(){var e=0;return this.orderList.forEach(function(t){t.tdAmount&&(e=(0,R.accAdd)(e,t.tdAmount))}),(0,j.toFixed)(e)},tdAmount:function(){var e=0;return this.orderList.forEach(function(t){t.deposit&&(e=(0,R.accAdd)(e,t.deposit))}),(0,j.toFixed)(e)}},methods:{submitOrder:function(){var e=this,t="",a=[],n=[{key:"draftNumber",message:"请输入汇票号"},{key:"draftType",message:"请选择类型"},{key:"accepter",message:"请输入承兑人"},{key:"tdAmount",message:"请输入金额"},{key:"deposit",message:"请输入保证金"},{key:"draftDate",message:"请选择出票日"},{key:"draftDueDate",message:"请选择到期日"}];if(this.dealerInfo.dealerCode||(t="请选择往来"),t||this.orderList.every(function(e){return n.every(function(a){return e[a.key]||0===e[a.key]||(t=a.message),!t}),a.push({tdId:e.tdId||"",draftNumber:e.draftNumber,draftType:e.draftType,accepter:e.accepter,tdAmount:e.tdAmount,deposit:e.deposit,draftDate:e.draftDate,draftDueDate:e.draftDueDate,comment:e.comment}),!t}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=P.saveAndStartWf,n=(0,r.default)({},e.processCode,{businessKey:"IAAB",createdBy:(0,o.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.formData.biComment,formData:(0,o.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.formData.handler,modifer:e.formData.handler,order:{dealerName_dealerDebit:e.dealerInfo.dealerName,dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,thenAmntBalCopy2:e.dealerInfo.amntBal,thenAlreadyAmnt:e.thenTotalAmntBal,dataSet:a},outPut:{dataSet:[{fundName_cashOutCode:null,cashOutCode:"",cashType_cashOutCode:"",thenAmntBalCopy1:0,tdAmountCopy1:e.tdAmount}]},inPut:{dataSet:[{fundName_cashInCode:null,cashInCode:"",cashType_cashInCode:"",thenAmntBal:0,tdAmount:e.tdAmount,tdId:""}]}})),wfPara:(0,o.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=P.saveAndCommitTask),e.processCode.length||(t=P.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,D.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.attachment,n=void 0===a?[]:a,i=t.listId,r=void 0===i?"":i,s=(t.biComment,t.biReferenceId),o=void 0===s?"":s,l=t.formData,u=void 0===l?{}:l;e.attachment=n,e.listId=r,e.biReferenceId=o,e.handlerDefault={handler:u.handler,handlerName:u.handlerName,handlerUnit:u.handlerUnit,handlerUnitName:u.handlerUnitName,handlerRole:u.handlerRole,handlerRoleName:u.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:u.biComment,biId:u.biId,biProcessStatus:u.biProcessStatus,creator:u.creator,modifer:u.modifer});var c=u.order,f=void 0===c?{}:c,m=f.dataSet,h=void 0===m?[]:m;e.dealerInfo={dealerName:f.dealerName_dealerDebit,dealerCode:f.dealerDebit,dealerLabelName:f.drDealerLabel,amntBal:f.thenAmntBalCopy2,thenTotalAmntBal:f.thenAlreadyAmnt},e.orderList=h,e.$loading.hide()})},hasDraftData:function(){return!!this.dealerInfo.dealerCode&&(0,r.default)({},"SDCDHP_DATA",{formData:this.formData,dealerInfo:this.dealerInfo,orderList:this.orderList})},getRelationData:function(){},selDealer:function(e){this.dealerInfo=(0,d.default)({},e)},addOrder:function(){this.orderList.push((0,d.default)({},$))},deleteOrder:function(){this.orderList.pop()},checkAmt:function(e,t){switch(e){case"tdAmountCopy1":this.dealerInfo.tdAmountCopy1=(0,j.toFixed)(this.dealerInfo.tdAmountCopy1);break;default:e[t]=(0,j.toFixed)(e[t])}}},created:function(){var e=sessionStorage.getItem("SDCDHP_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.orderList=t.orderList,sessionStorage.removeItem("SDCDHP_DATA")}}}},lOVW:function(e,t,a){"use strict";function n(e){a("zTEm")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("CxQM");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("p/zx"),o=a.n(s),l=a("Dzss"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-01c3a81a",null);t.default=c.exports},lOZF:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("iR2W"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"OpButton",props:{isModify:{type:Boolean,default:!1},hide:{type:Boolean,default:!1},tdAmount:{type:[String,Number],default:0},taxAmount:{type:[String,Number],default:0},allCheck:{type:Boolean,default:!1}},methods:{checkAll:function(){this.$emit("on-check-all")},submit:function(){this.$emit("on-submit")},deleteItem:function(){this.$emit("on-delete")}},filters:{numberComma:i.default}}},lW8f:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("3cXf"),o=n(s),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("+62G"),v=n(h),p=a("6q39"),C=n(p),_=a("jnZd"),y=n(_),b=a("HyXB"),g=a("1KNX"),w=n(g),I=a("7biW"),x=n(I);t.default={name:"BaseInfo",props:{defaultValue:{type:Object,default:function(){return{}}},handleOrgList:{type:Array,default:function(){return[]},required:!0},userRoleList:{type:Array,default:function(){return[]},required:!0},isRequired:{type:Boolean,default:!0}},directives:{TransferDom:v.default},components:{Icon:c.default,Popup:m.default,RScroll:w.default,DSearch:x.default,LoadMore:C.default,PopupPicker:y.default},data:function(){return{page:1,limit:50,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},srhInpTx:"",showPop:!1,isSetInitial:!1,selItems:{},currentUser:{},role:[],group:[],listData:[],roleList:[],groupList:[]}},watch:{defaultValue:function(e){this.setDefaultValue()}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},onPullingUp:function(){this.page++,this.getlistUsers()},showSelIcon:function(e){return""+this.selItems.userId==""+e.userId},getDefaultImg:function(e){var t=a("男"===e.gender?"cr7Q":"Atv/");return e&&(e.photo=t),t},changeGroup:function(e){var t=this;this.selItems.handlerUnitName=e[0],this.groupList.forEach(function(a){if(a.name===e[0])return t.selItems.handlerUnit=a.userGroupId,!1});var a={handler:this.selItems.userId,handlerName:this.selItems.nickname,handlerUnit:this.selItems.handlerUnit,handlerUnitName:this.selItems.handlerUnitName,handlerRole:this.selItems.handlerRole,handlerRoleName:this.selItems.handlerRoleName};this.$emit("sel-item",a)},changeRole:function(e){var t=this;this.selItems.handlerRoleName=e[0],this.roleList.forEach(function(a){if(a.name===e[0])return t.selItems.handlerRole=a.userGroupId,!1});var a={handler:this.selItems.userId,handlerName:this.selItems.nickname,handlerUnit:this.selItems.handlerUnit,handlerUnitName:this.selItems.handlerUnitName,handlerRole:this.selItems.handlerRole,handlerRoleName:this.selItems.handlerRoleName};this.$emit("sel-item",a)},selThis:function(e,t){this.isSetInitial=!0,this.showPop=!1,this.selItems=e,this.getNewHandleORG(),this.getNewUserRole()},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getlistUsers()},getlistUsers:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"nickname"}])),(0,b.listUsers)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,o.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,d.default)(e.listData),(0,d.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},setDefaultValue:function(){this.selItems=this.defaultValue?(0,r.default)({},this.defaultValue,{userId:this.defaultValue.handler,nickname:this.defaultValue.handlerName}):{},this.group=[this.selItems.handlerUnitName],this.role=[this.selItems.handlerRoleName],this.defaultORG(),this.defaultUserRole()},defaultORG:function(){var e=this;this.groupList=[],this.handleOrgList.forEach(function(t){e.groupList.push((0,r.default)({},t,{name:t.userGroupName,value:t.userGroupName}))})},defaultUserRole:function(){var e=this;this.roleList=[],this.userRoleList.forEach(function(t){e.roleList.push((0,r.default)({},t,{name:t.userGroupName,value:t.userGroupName}))})},getNewHandleORG:function(){var e=this;return(0,b.getGroupByUserId)(this.selItems.userId).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;e.group=[],e.groupList=[],n.forEach(function(t){e.groupList.push((0,r.default)({},t,{name:t.userGroupName,value:t.userGroupName}))}),n.length&&e.isSetInitial&&(e.group=[n[0].userGroupName],e.selItems.handlerUnit=n[0].userGroupId)})},getNewUserRole:function(){var e=this;return(0,b.getRoleByUserId)(this.selItems.userId).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;e.role=[],e.roleList=[],n.forEach(function(t){e.roleList.push((0,r.default)({},t,{name:t.userGroupName,value:t.userGroupName}))}),n.length&&e.isSetInitial&&(e.role=[n[0].userGroupName],e.selItems.handlerRole=n[0].userGroupId)})}},created:function(){this.getlistUsers(),this.setDefaultValue()}}},lX6R:function(e,t){},leBF:function(e,t){},lf2c:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("KH7x"),o=n(s),l=a("3cXf"),d=n(l),u=a("4YfN"),c=n(u),f=a("BGNQ"),m=n(f),h=a("z5TY"),v=n(h),p=a("SAzG"),C=n(p),_=a("PzEQ"),y=n(_),b=a("0AQX"),g=a("HyXB"),w=a("QHLv"),I=a("bKg5"),x=n(I),D=a("vl8n"),P=n(D),k=a("aumL"),S=n(k),T=a("+WR7"),L=n(T),N=a("N2r1"),M=n(N),A=a("Qg39"),O=a("zWMP"),R={exptName:"",expCode:"",expSubject:"",costType:"",tdAmount:0,taxAmount:0,noTaxAmount:0};t.default={data:function(){return{listId:"080147c6-05ea-4ae7-9390-49e8e0379a11",dealerInfo:{dealerName_dealerCodeCredit:"",dealerCodeCredit:"",crDealerLabel:"",tdCreditLine:"",thenAmntBal:"",thenAlreadyAmnt:0,thenTotalAmntBal:0,differenceAmount:0},formData:{biId:"",biComment:"",biProcessStatus:""},cashInfo:{fundName_cashInCode:"",cashInCode:"",cashType_cashInCode:"",thenAmntBalCopy1:"",tdAmountCopy1:""},CostList:[(0,c.default)({},R)],biReferenceId:"",showCostPop:!1,costIndex:0,selectedCost:[],showFundPop:!1,selectedFund:[]}},components:{Cell:m.default,Group:v.default,XInput:C.default,XTextarea:y.default,RPicker:P.default,PopFundList:S.default,PopBaseinfo:L.default,PopCostList:M.default},mixins:[x.default],computed:{creatorName:function(){return this.formData.userCode},differenceAmount:function(){var e=0,t=(0,O.accSub)(this.dealerInfo.thenAmntBal,this.dealerInfo.thenAlreadyAmnt);return e=(0,O.accAdd)(t,this.dealerInfo.thenTotalAmntBal),(0,A.toFixed)(e)},tdAmount:function(){var e=this.dealerInfo,t=e.thenAlreadyAmnt,a=void 0===t?0:t,n=e.thenTotalAmntBal,i=void 0===n?0:n,r=(0,O.accSub)(a,i);return(0,A.toFixed)(r)}},watch:{creatorName:function(e){this.getEmployeeBal()},CostList:{handler:function(e){var t=0;e.forEach(function(e){e.noTaxAmount=(0,A.toFixed)((0,O.accSub)(e.tdAmount,e.taxAmount)),t=(0,O.accAdd)(t,e.tdAmount)}),this.dealerInfo.thenAlreadyAmnt=(0,A.toFixed)(t)},deep:!0},dealerInfo:{handler:function(e){this.cashInfo.tdAmountCopy1=e.thenTotalAmntBal},deep:!0},cashInfo:{handler:function(e){e.thenAmntBalCopy1&&e.tdAmountCopy1>e.thenAmntBalCopy1&&(e.tdAmountCopy1=e.thenAmntBalCopy1)},deep:!0}},methods:{getEmployeeBal:function(){var e=this,t=[{operator:"eq",value:this.formData.userCode,property:"dealerCode"}];(0,w.getEmployeeBal)((0,d.default)(t)).then(function(t){var a=t.tableContent,n=void 0===a?[]:a,i=(0,o.default)(n,1),r=i[0],s=void 0===r?{}:r;e.dealerInfo=(0,c.default)({},e.dealerInfo,{dealerName_dealerCodeCredit:s.nickname,dealerCodeCredit:s.dealerCode,crDealerLabel:s.dealerLabelName,tdCreditLine:s.tdCreditLine,thenAmntBal:s.amntBal})})},getCost:function(e,t){this.showCostPop=!0,this.costIndex=e,this.selectedCost=[t]},addCost:function(){this.CostList.push((0,c.default)({},R))},deleteCost:function(){this.CostList.pop()},selMatter:function(e){var t=e;this.CostList[this.costIndex].exptName=t.costName,this.CostList[this.costIndex].expCode=t.costCode,this.CostList[this.costIndex].expSubject=t.costSubject,this.CostList[this.costIndex].costType=t.costType,this.CostList[this.costIndex].expCause=""},submitOrder:function(){var e=this,t="",a=[];if(this.CostList.every(function(e){return e.exptName?e.tdAmount?(a.push({tdId:e.tdId||"",expCode:e.expCode,expSubject:e.expSubject,tdAmount:e.tdAmount,taxAmount:e.taxAmount,noTaxAmount:e.noTaxAmount,expCause:e.expCause}),!0):(t="请填写申请金额",!1):(t="请选择费用名称",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=g.saveAndStartWf,n=(0,c.default)({},e.formData,{handlerEntity:e.entity.dealerName,inPut:{dataSet:[(0,c.default)({},e.dealerInfo,{differenceAmount:e.differenceAmount,tdAmount:e.tdAmount,tdId:e.dealerInfo.tdId||""})]},order:{departmentName:e.formData.handlerUnitName,dataSet:a},outPut:{dataSet:[(0,c.default)({},e.cashInfo,{tdIdCopy1:e.cashInfo.tdIdCopy1||""})]}}),i={listId:e.listId,biComment:"",formData:(0,d.default)(n),wfPara:(0,d.default)((0,r.default)({},e.processCode,{businessKey:"FZFY",createdBy:n.creator}))};e.isResubmit&&(t=g.saveAndCommitTask,i.biReferenceId=e.biReferenceId,i.wfPara=(0,d.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=g.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,b.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=o;var l=r.order,d=r.outPut,u=r.inPut,f=u.dataSet[0],m=d.dataSet[0];e.dealerInfo={dealerName_dealerCodeCredit:f.dealerName_dealerCodeCredit,dealerCodeCredit:f.dealerCodeCredit,crDealerLabel:f.crDealerLabel,tdCreditLine:f.tdCreditLine,thenAmntBal:f.thenAmntBal,thenAlreadyAmnt:f.thenAlreadyAmnt,thenTotalAmntBal:f.thenTotalAmntBal,differenceAmount:f.differenceAmount,tdAmount:f.tdAmount,tdId:f.tdId},e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,c.default)({},e.handlerDefault,{biComment:r.biComment,biId:r.biId,biProcessStatus:r.biProcessStatus,creator:r.creator,modifer:r.modifer}),e.cashInfo={fundName_cashInCode:m.fundName_cashInCode,cashInCode:m.cashInCode,cashType_cashInCode:m.cashType_cashInCode,thenAmntBalCopy1:m.thenAmntBalCopy1,tdAmountCopy1:m.tdAmountCopy1,tdIdCopy1:m.tdIdCopy1},e.CostList=[],l.dataSet.forEach(function(t){e.CostList.push({tdId:t.tdId,exptName:t.costName_expCode,expCode:t.expCode,expSubject:t.expSubject,costType:t.costType_expCode,tdAmount:t.tdAmount,taxAmount:t.taxAmount,noTaxAmount:t.noTaxAmount})}),e.biReferenceId=r.biReferenceId,e.$loading.hide()})},checkAmt:function(e){var t=e.tdAmount,a=e.taxAmount,n=this.dealerInfo,i=n.tdCreditLine,r=n.thenTotalAmntBal,s=this.cashInfo.tdAmountCopy1;t&&(e.tdAmount=Math.abs((0,A.toFixed)(t))),a&&(e.taxAmount=Math.abs((0,A.toFixed)(a))),i&&(this.dealerInfo.tdCreditLine=Math.abs((0,A.toFixed)(i))),r&&(this.dealerInfo.thenTotalAmntBal=Math.abs((0,A.toFixed)(r))),s&&(this.cashInfo.tdAmountCopy1=Math.abs((0,A.toFixed)(s)))},hasDraftData:function(){return(0,r.default)({},"BXYZF_DATA",{dealerInfo:this.dealerInfo,cashInfo:this.contactInfo,costList:this.costList,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("BXYZF_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.cashInfo=t.cashInfo,this.costList=t.costList,sessionStorage.removeItem("BXYZF_DATA")}}}},lk3s:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper cpxq-detail-container"},[a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.userData,"order-info":e.userData}}),e._v(" "),a("div",{staticClass:"product"},[e._m(0),e._v(" "),a("form-cell",{attrs:{cellTitle:"申请部门",cellContent:e.userData.applicationDepartment||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"申请岗位",cellContent:e.userData.applicationPost||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"招聘人数",cellContent:e.userData.recruitmentPeople||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"任职要求",cellContent:e.userData.jobRequirements||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"岗位描述",cellContent:e.userData.postDescription||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"招聘原因",cellContent:e.userData.recruitmentReson||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"备注",cellContent:e.userData.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}})],1)])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title"},[a("div",[a("span",{staticClass:"iconfont icon-mingxi1"}),e._v(" "),a("span",[e._v("招聘信息")])])])}],r={render:n,staticRenderFns:i};t.a=r},lkiY:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}))],1),e._v(" "),e.action.add?a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},lkpG:function(e,t,a){"use strict";function n(e){a("092/")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("7fRA");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("xns3"),o=a.n(s),l=a("YfxJ"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-7ea3c6f4",null);t.default=c.exports},lnNG:function(e,t,a){"use strict";function n(e){a("QLbr")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("tSLf");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("SLsN"),o=a.n(s),l=a("hezm"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-66858c6c",null);t.default=c.exports},lpBF:function(e,t,a){"use strict";function n(e){a("DAb+")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("+yyE");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("TXh4"),o=a.n(s),l=a("jNp1"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-f853569e",null);t.default=c.exports},lqQX:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"Project",props:{projectInfo:{type:Object,default:function(){return{}}}},data:function(){return{}}}},lsbD:function(e,t,a){"use strict";function n(e){a("WOWH")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lOZF");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("tHsJ"),o=a.n(s),l=a("OG9q"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-3551fadc",null);t.default=c.exports},luHD:function(e,t,a){"use strict";function n(e){a("LK0i")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("AwSw");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("k4WU"),o=a.n(s),l=a("agzl"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-22770c44",null);t.default=c.exports},lwni:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("IHPB"),o=n(s),l=a("3cXf"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("+62G"),v=n(h),p=a("6q39"),C=n(p),_=a("vS5q"),y=a("1KNX"),b=n(y),g=a("7biW"),w=n(g);t.default={name:"PopWarehouseList",props:{title:{type:String,default:"仓库列表"},defaultValue:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1},isRequired:{type:Boolean,default:!1},filterParams:{type:Array,default:function(){return[]}},getListMethod:{type:String,default:"getWarehouse"},warehouseType:{type:String,default:""}},directives:{TransferDom:v.default},components:{Icon:c.default,Popup:m.default,RScroll:b.default,DSearch:w.default,LoadMore:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},showAddWarehouse:!1}},computed:{tip:function(){var e="加载中";return this.hasNext||(e="暂无数据"),e},noAddress:function(){var e=this.selItems,t=e.warehouseProvince,a=void 0===t?"":t,n=e.warehouseCity,i=void 0===n?"":n,r=e.warehouseDistrict,s=void 0===r?"":r,o=e.warehouseAddress,l=void 0===o?"":o;return!(a||i||s||l)}},watch:{defaultValue:function(e){this.setDefaultValue()}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this[this.getListMethod]()},showSelIcon:function(e){return this.selItems.warehouseCode===e.warehouseCode},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.$emit("sel-item",(0,d.default)(this.selItems))},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getWarehouse:function(){var e=this.filterParams;return this.srhInpTx&&(e=[].concat((0,o.default)(e),[{operator:"like",value:this.srhInpTx,property:"warehouseName"}])),(0,_.getWarehouse)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,d.default)(e)}).then(this.dataHandler)},getWareHouseType:function(){var e=this.filterParams;this.srhInpTx&&(e=[].concat((0,o.default)(e),[{operator:"like",value:this.srhInpTx,property:"warehouseName"}]));var t={limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,d.default)(e)};this.warehouseType&&(t.warehouseType=this.warehouseType),(0,_.getWareHouseType)(t).then(this.dataHandler)},dataHandler:function(e){var t=this,a=e.dataCount,n=void 0===a?0:a,i=e.tableContent,r=void 0===i?[]:i;if(this.showAddWarehouse=this.srhInpTx&&0===r.length,this.hasNext=n>(this.page-1)*this.limit+r.length,r.forEach(function(e){e.warehouseCity=e.warehouseCity||e.wareHouseCity}),this.listData=1===this.page?r:[].concat((0,o.default)(this.listData),(0,o.default)(r)),sessionStorage.getItem("EDIT_WAREHOUSE_TRANSCODE"))for(var s=JSON.parse(sessionStorage.getItem("EDIT_WAREHOUSE_TRANSCODE")).transCode,l=0;l<this.listData.length;l++)this.listData[l].transCode==s&&(this.selItems=this.listData[l],this.$emit("sel-item",(0,d.default)(this.listData[l])),sessionStorage.removeItem("EDIT_WAREHOUSE_TRANSCODE"));this.$nextTick(function(){t.$refs.bScroll.finishPullUp()})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this[this.getListMethod]()},onPullingUp:function(){this.page++,this[this.getListMethod]()},setDefaultValue:function(){this.selItems=this.defaultValue?(0,r.default)({},this.defaultValue):{}},warehouseClick:function(){this.disabled||(this.showPop=!this.showPop)},addWarehouse:function(){this.$router.push({path:"/warehouse/edit_warehouse",query:{add:1}})}},created:function(){this.setDefaultValue(),this.disabled||this[this.getListMethod]()}}},lzEG:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vux-x-input weui-cell",class:{"weui-cell_warn":e.showWarn,disabled:e.disabled,"vux-x-input-has-right-full":e.hasRightFullHeightSlot}},[a("div",{staticClass:"weui-cell__hd"},[e.hasRestrictedLabel?a("div",{style:e.labelStyles},[e._t("restricted-label")],2):e._e(),e._v(" "),e._t("label",[e.title?a("label",{staticClass:"weui-label",class:e.labelClass,style:{width:e.labelWidth||e.$parent.labelWidth||e.labelWidthComputed,textAlign:e.$parent.labelAlign,marginRight:e.$parent.labelMarginRight},attrs:{for:"vux-x-input-"+e.uuid},domProps:{innerHTML:e._s(e.title)}}):e._e(),e._v(" "),e.inlineDesc?a("inline-desc",[e._v(e._s(e.inlineDesc))]):e._e()])],2),e._v(" "),a("div",{staticClass:"weui-cell__bd weui-cell__primary",class:e.placeholderAlign?"vux-x-input-placeholder-"+e.placeholderAlign:""},[e.type&&"text"!==e.type?e._e():a("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],ref:"input",staticClass:"weui-input",style:e.inputStyle,attrs:{id:"vux-x-input-"+e.uuid,maxlength:e.max,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,spellcheck:e.spellcheck,type:"text",name:e.name,pattern:e.pattern,placeholder:e.placeholder,readonly:e.readonly,disabled:e.disabled},domProps:{value:e.currentValue},on:{focus:e.focusHandler,blur:e.onBlur,keyup:e.onKeyUp,input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}),e._v(" "),"number"===e.type?a("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],ref:"input",staticClass:"weui-input",style:e.inputStyle,attrs:{id:"vux-x-input-"+e.uuid,maxlength:e.max,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,spellcheck:e.spellcheck,type:"number",name:e.name,pattern:e.pattern,placeholder:e.placeholder,readonly:e.readonly,disabled:e.disabled},domProps:{value:e.currentValue},on:{focus:e.focusHandler,blur:e.onBlur,keyup:e.onKeyUp,input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}):e._e(),e._v(" "),"email"===e.type?a("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],ref:"input",staticClass:"weui-input",style:e.inputStyle,attrs:{id:"vux-x-input-"+e.uuid,maxlength:e.max,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,spellcheck:e.spellcheck,type:"email",name:e.name,pattern:e.pattern,placeholder:e.placeholder,readonly:e.readonly,disabled:e.disabled},domProps:{value:e.currentValue},on:{focus:e.focusHandler,blur:e.onBlur,keyup:e.onKeyUp,input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}):e._e(),e._v(" "),"password"===e.type?a("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],ref:"input",staticClass:"weui-input",style:e.inputStyle,attrs:{id:"vux-x-input-"+e.uuid,maxlength:e.max,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,spellcheck:e.spellcheck,type:"password",name:e.name,pattern:e.pattern,placeholder:e.placeholder,readonly:e.readonly,disabled:e.disabled},domProps:{value:e.currentValue},on:{focus:e.focusHandler,blur:e.onBlur,keyup:e.onKeyUp,input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}):e._e(),e._v(" "),"tel"===e.type?a("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],ref:"input",staticClass:"weui-input",style:e.inputStyle,attrs:{id:"vux-x-input-"+e.uuid,maxlength:e.max,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,spellcheck:e.spellcheck,type:"tel",name:e.name,pattern:e.pattern,placeholder:e.placeholder,readonly:e.readonly,disabled:e.disabled},domProps:{value:e.currentValue},on:{focus:e.focusHandler,blur:e.onBlur,keyup:e.onKeyUp,input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}):e._e()]),e._v(" "),a("div",{staticClass:"weui-cell__ft"},[a("icon",{directives:[{name:"show",rawName:"v-show",value:!e.hasRightFullHeightSlot&&!e.equalWith&&e.showClear&&""!==e.currentValue&&!e.readonly&&!e.disabled&&e.isFocus,expression:"!hasRightFullHeightSlot && !equalWith && showClear && currentValue !== '' && !readonly && !disabled && isFocus"}],attrs:{type:"clear"},nativeOn:{click:function(t){return e.clear(t)}}}),e._v(" "),a("icon",{directives:[{name:"show",rawName:"v-show",value:e.showWarn,expression:"showWarn"}],staticClass:"vux-input-icon",attrs:{type:"warn",title:e.valid?"":e.firstError},nativeOn:{click:function(t){return e.onClickErrorIcon(t)}}}),e._v(" "),!e.novalidate&&e.hasLengthEqual&&e.dirty&&e.equalWith&&!e.valid?a("icon",{staticClass:"vux-input-icon",attrs:{type:"warn"},nativeOn:{click:function(t){return e.onClickErrorIcon(t)}}}):e._e(),e._v(" "),a("icon",{directives:[{name:"show",rawName:"v-show",value:!e.novalidate&&e.equalWith&&e.equalWith===e.currentValue&&e.valid,expression:"!novalidate && equalWith && equalWith === currentValue && valid"}],attrs:{type:"success"}}),e._v(" "),a("icon",{directives:[{name:"show",rawName:"v-show",value:e.novalidate&&"success"===e.iconType,expression:"novalidate && iconType === 'success'"}],staticClass:"vux-input-icon",attrs:{type:"success"}}),e._v(" "),a("icon",{directives:[{name:"show",rawName:"v-show",value:e.novalidate&&"error"===e.iconType,expression:"novalidate && iconType === 'error'"}],staticClass:"vux-input-icon",attrs:{type:"warn"}}),e._v(" "),e._t("right"),e._v(" "),e.hasRightFullHeightSlot?a("div",{staticClass:"vux-x-input-right-full"},[e._t("right-full-height")],2):e._e()],2),e._v(" "),a("toast",{attrs:{type:"text",width:"auto",time:600},model:{value:e.showErrorToast,callback:function(t){e.showErrorToast=t},expression:"showErrorToast"}},[e._v(e._s(e.firstError))])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},"m/NV":function(e,t,a){"use strict";function n(e){a("Rc0U")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("mtD9");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("6IKZ"),o=a.n(s),l=a("04qB"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-2becb78c",null);t.default=c.exports},"m/V4":function(e,t){},m0ev:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_part"},[e._m(0),e._v(" "),e._l(e.orderInfo.order.dataSet,function(t,n){return a("div",{key:n,staticClass:"form_content",class:{show_border:n!==e.orderInfo.order.dataSet.length-1}},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"汇票号",cellContent:t.draftNumber,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"类型",cellContent:t.draftType}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"承兑人",cellContent:t.accepter}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"金额",cellContent:e._f("numberComma")(e._f("toFixed")(t.tdAmount),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"出票日",cellContent:t.draftDate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"到期日",cellContent:t.draftDueDate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"兑现贴现日",cellContent:t.cashingDiscountDate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"贴息",cellContent:t.discount}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"现后金额",cellContent:e._f("numberComma")(e._f("toFixed")(t.thenAmntBal),3)}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"说明",cellContent:t.comment}})],1)])})],2),e._v(" "),a("div",{staticClass:"form_part"},[e._m(1),e._v(" "),a("div",{staticClass:"form_content"},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"资金账户",cellContent:e.cashInfo.fundName_cashInCode,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"资金编码",cellContent:e.cashInfo.cashInCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"资金账户类型",cellContent:e.cashInfo.cashType_cashInCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"账户余额",cellContent:e._f("numberComma")(e._f("toFixed")(e.cashInfo.thenAmntBal),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"收款金额",cellContent:e._f("numberComma")(e._f("toFixed")(e.cashInfo.tdAmount),3),showSymbol:""}})],1)])]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("汇票列表")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("资金账户明细")])])}],r={render:n,staticRenderFns:i};t.a=r},m15U:function(e,t){},m4Nf:function(e,t){},m557:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),m=a("3NX5"),h=n(m),v=a("d7ck"),p=n(v),C=a("zWMP");a("Qg39");t.default={data:function(){return{count:0,comment:"",orderList:[]}},mixins:[l.default],components:{workFlow:f.default,RAction:u.default,MatterList:h.default,FormCell:p.default},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var d=[];s.order;e.attachment=l;var u=s.order.dataSet,c=!0,f=!1,m=void 0;try{for(var h,v=(0,r.default)(u);!(c=(h=v.next()).done);c=!0){var p=h.value;e.count=(0,C.accAdd)(e.count,p.tdAmount),p.inventoryPic=p.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+p.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),d.push(p)}}catch(e){f=!0,m=e}finally{try{!c&&v.return&&v.return()}finally{if(f)throw m}}e.orderList=d,e.orderInfo=s,e.workFlowInfoHandler()})}}}},m5kN:function(e,t){},m5sH:function(e,t){},m7iq:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sort-part vux-1px-b"},[e._l(e.data,function(t,n){return a("div",{key:n,staticClass:"each-sort",class:{active:e.property===t.key},on:{click:function(a){e.sortClick(t,n)}}},[a("span",{staticClass:"sort_name"},[e._v(e._s(t.name))]),e._v(" "),t.key?a("span",{staticClass:"arrow"},[a("i",{staticClass:"iconfont arrow_up",class:[e.property===t.key&&"ASC"===e.sort?"active icon-shangsanjiao-copy":"icon-shangsanjiao"]}),e._v(" "),a("i",{staticClass:"iconfont arrow_down",class:[e.property===t.key&&"DESC"===e.sort?"active icon-sort-up-copy-copy":"icon-xiasanjiao1"]})]):e._e()])}),e._v(" "),a("div",{staticClass:"filter-part",class:{active:this.timeFilter.startDate||this.timeFilter.endDate||Object.keys(this.fieldVlaue).length},on:{click:function(t){e.showFilter=!0}}},[a("span",{staticClass:"filter_name"},[e._v("筛选")]),e._v(" "),a("span",{staticClass:"iconfont icon-shaixuan"})]),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{attrs:{position:"right"},on:{"on-hide":e.onHide,"on-show":e.onShow},model:{value:e.showFilter,callback:function(t){e.showFilter=t},expression:"showFilter"}},[a("div",{staticClass:"filter-container-part"},[a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions}},[e.filtersList.biProcessStatus&&e.filtersList.biProcessStatus.value.length?a("div",{staticClass:"process-status-container basic-mod"},[a("div",{staticClass:"filter_title vux-1px-b"},[e._v(e._s(e.filtersList.biProcessStatus.alias))]),e._v(" "),a("div",{staticClass:"process_status"},e._l(e.filtersList.biProcessStatus.value,function(t,n){return a("div",{key:n,staticClass:"each_status",class:{"active vux-1px":e.showSelIcon(t,"biProcessStatus")},on:{click:function(a){e.selProcee(t,"biProcessStatus",n)}}},[a("div",{staticClass:"status_content"},[e._v(e._s(t))])])}))]):e._e(),e._v(" "),a("div",{staticClass:"time-filter-container basic-mod"},[a("div",{staticClass:"filter_title vux-1px-b"},[e._v("时间段")]),e._v(" "),a("div",{staticClass:"time_filter"},[a("div",{staticClass:"each_time",class:{active:e.timeFilter.startDate},on:{click:e.getStart}},[e._v("\n                "+e._s(e.timeFilter.startDate||"开始日期")+"\n              ")]),e._v(" "),a("div",{staticClass:"placeholder-part vux-1px-t"}),e._v(" "),a("div",{staticClass:"each_time",class:{active:e.timeFilter.endDate},on:{click:e.getEnd}},[e._v("\n                "+e._s(e.timeFilter.endDate||"结束日期")+"\n              ")])])]),e._v(" "),e._l(e.filtersList,function(t,n,i){return"流程状态"!==t.alias&&t.value.length?a("div",{key:i,staticClass:"process-status-container basic-mod"},[a("div",[a("div",{staticClass:"filter_title vux-1px-b",on:{click:function(e){t.showAll=!t.showAll}}},[a("div",[e._v(e._s(t.alias))]),e._v(" "),a("div",{staticClass:"arrow"},[a("span",[e._v("全部")]),e._v(" "),a("span",{staticClass:"iconfont icon-xia",class:{"arrow-up":t.showAll}})])]),e._v(" "),a("div",{staticClass:"process_status"},e._l(t.value,function(i,r){return a("div",{directives:[{name:"show",rawName:"v-show",value:r<3||t.showAll,expression:"index < 3 || val.showAll"}],key:r,staticClass:"each_status",class:{"active vux-1px":e.showSelIcon(i,n)},on:{click:function(t){e.selProcee(i,n)}}},[a("div",{staticClass:"status_content"},[e._v(e._s(i))])])}))])]):e._e()})],2),e._v(" "),a("div",{staticClass:"handle-part"},[a("span",{staticClass:"reset_btn",on:{click:e.filterReset}},[e._v("重置")]),e._v(" "),a("span",{staticClass:"confirm_btn",on:{click:e.filterConfirm}},[e._v("确定")])])],1)])],1)],2)},i=[],r={render:n,staticRenderFns:i};t.a=r},mCIn:function(e,t){},mDKT:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("KH7x"),r=n(i),s=a("IHPB"),o=n(s),l=a("3cXf"),d=n(l),u=a("4YfN"),c=n(u),f=a("Jwlx"),m=n(f),h=a("HXPS"),v=n(h),p=a("7g+Q"),C=n(p),_=a("6q39"),y=n(_),b=a("L6VY"),g=n(b),w=a("+62G"),I=n(w),x=a("7biW"),D=n(x),P=a("hFVz"),k=n(P),S=a("yKqG"),T=n(S),L=a("aHRR"),N=n(L);t.default={name:"PopDealerList",props:{dealerLabelName:{type:String,default:"客户"},dealerTitle:{type:String,default:"客户"},defaultValue:{type:Object,default:function(){return{}}},defaultContact:{type:Object,default:function(){return{}}},mode:{type:String,default:"1"},required:{type:Boolean,default:!1},noContact:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"},noRecord:{type:Boolean,default:!1},params:{type:Object,default:function(){return{}}}},computed:{noAddress:function(){var e=this.defaultValue,t=e.province,a=void 0===t?"":t,n=e.city,i=void 0===n?"":n,r=e.county,s=void 0===r?"":r,o=e.address,l=void 0===o?"":o;return!(a||i||s||l)}},directives:{TransferDom:I.default},components:{Icon:v.default,Popup:C.default,DSearch:D.default,LoadMore:y.default,PopContactList:N.default},data:function(){return{page:1,limit:10,hasNext:!0,showDealerPop:!1,srhInpTx:"",bScroll:null,dealerInfo:{},contactInfo:{},selItems:[],dealerList:[]}},watch:{defaultValue:{handler:function(){var e=this.defaultValue;this.dealerInfo=(0,m.default)((0,c.default)({},e)),this.selItems=[(0,c.default)({},e)]},immediate:!0},defaultContact:{handler:function(){this.contactInfo=(0,m.default)((0,c.default)({},this.defaultContact))},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.bScroll&&e.bScroll.refresh()})},onHide:function(){this.showDealerPop=!1},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.dealerCode===e.dealerCode})},selDealer:function(e,t){if(this.showDealerPop=!1,this.selItems=[e],this.dealerInfo=(0,m.default)((0,c.default)({},e)),this.contactInfo={},this.noRecord||sessionStorage.setItem("DEALERLIST_SELITEMS",(0,d.default)(this.selItems)),"2"===this.mode)return void this.$emit("sel-dealer",(0,c.default)({},this.dealerInfo));this.$emit("sel-dealer",(0,d.default)(this.selItems))},selContact:function(e){this.$emit("sel-contact",e)},getDealer:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:"dealerName"}])),k.default.getAppdealer((0,c.default)({dealerLabelName:this.dealerLabelName,limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,d.default)(t)},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,s=void 0===i?[]:i,l=JSON.parse(sessionStorage.getItem("DEALERLIST_SELITEMS"))||"";if(e.hasNext=n>(e.page-1)*e.limit+s.length,e.dealerList=1===e.page?s:[].concat((0,o.default)(e.dealerList),(0,o.default)(s)),l){e.selItems=[].concat((0,o.default)(l));var u=(0,r.default)(e.selItems,1),c=u[0];e.dealerInfo=void 0===c?{}:c,e.$emit("sel-dealer",(0,d.default)(e.selItems)),sessionStorage.removeItem("DEALERLIST_SELITEMS")}e.$nextTick(function(){e.bScroll.refresh(),e.hasNext&&e.bScroll.finishPullUp()})}).catch(function(e){g.default.show({content:e.message})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.dealerList=[],this.page=1,this.hasNext=!0,this.getDealer()},initScroll:function(){var e=this;this.$nextTick(function(){e.bScroll=new T.default(e.$refs.dealer,{click:!0,pullUpLoad:{threshold:20}}),e.bScroll.on("pullingUp",function(){e.hasNext&&(e.page++,e.getDealer())})})},add:function(){var e=this.dealerLabelName;this.$router.push({path:"/adress/edit_ads",query:{add:1,pickVal:e}})},itemClick:function(){this.showDealerPop=!0}},created:function(){this.initScroll(),this.getDealer()}}},mKXa:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("iR2W"),i=function(e){return e&&e.__esModule?e:{default:e}}(n),r=a("Qg39");t.default={name:"PriceTotal",props:{noAmt:{type:Boolean,default:!1},noTaxAmt:{type:Boolean,default:!1},noCount:{type:Boolean,default:!1},amt:{type:Number,default:0},taxAmt:{type:Number,default:0},count:{type:Number,default:0}},computed:{onlyCount:function(){return 0===this.amt&&0===this.taxAmt}},filters:{numberComma:i.default,toFixed:r.toFixed}}},mOwv:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HXPS"),r=n(i),s=a("9r/T"),o=a("fCs9"),l=n(o);t.default={name:"RSearch",props:{isFill:{type:Boolean,default:!1},filterList:{type:Array,default:function(){return[]}}},data:function(){return{srhInpTx:"",timer:null,property:""}},components:{Icon:r.default,RDropdown:l.default},methods:{getValue:function(e){var t=this;(0,s.setTimeout)(function(){t.srhInpTx=e.target.value,t.isFill&&!t.srhInpTx&&t.$emit("search",{val:t.srhInpTx,property:t.property})},0)},searchMat:function(e){if(this.isFill&&!e)return void this.$emit("turn-off",!1);this.$emit("search",{val:this.srhInpTx,property:this.property}),document.activeElement.blur()},clear:function(){this.srhInpTx="",this.$emit("search",{val:this.srhInpTx,property:this.property})},popSelected:function(e){this.property=e.value},clearVal:function(){this.srhInpTx=""}},created:function(){}}},mSSm:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("4YfN"),o=n(s),l=a("HXPS"),d=n(l),u=a("7g+Q"),c=n(u),f=a("+62G"),m=n(f),h=a("6q39"),v=n(h),p=(a("HyXB"),a("XAqG")),C=a("1KNX"),_=n(C),y=a("7biW"),b=n(y);t.default={name:"PopCompanyList",props:{defaultValue:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1},params:{type:Object,default:function(){return{}}}},directives:{TransferDom:m.default},components:{Icon:d.default,Popup:c.default,RScroll:_.default,DSearch:b.default,LoadMore:v.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},watch:{defaultValue:function(e){this.setDefaultValue()}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this.getList()},showSelIcon:function(e){return this.selItems.groupCode===e.groupCode},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.$emit("sel-item",this.selItems)},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getList:function(){var e=this;return(0,p.getCompanyList)((0,o.default)({pageSize:this.limit,currentPage:this.page,search:this.srhInpTx},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,s=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+s.length,e.listData=1===e.page?s:[].concat((0,r.default)(e.listData),(0,r.default)(s)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.selItems=this.defaultValue?(0,o.default)({},this.defaultValue):{}},itemClick:function(){this.disabled||(this.showPop=!this.showPop)}},created:function(){this.setDefaultValue(),this.disabled||this.getList()}}},mU0o:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("popup-picker",{attrs:{"fixed-columns":e.hideDistrict?2:0,columns:3,data:e.list,title:e.title,"show-name":"","inline-desc":e.inlineDesc,placeholder:e.placeholder,"value-text-align":e.valueTextAlign,"confirm-text":e.confirmText,"cancel-text":e.cancelText,"display-format":e.displayFormat,"popup-style":e.popupStyle,"popup-title":e.popupTitle,show:e.showValue,disabled:e.disabled},on:{"update:show":function(t){e.showValue=t},"on-shadow-change":e.onShadowChange,"on-hide":e.emitHide,"on-show":function(t){e.$emit("on-show")}},scopedSlots:e._u([{key:"title",fn:function(t){return[e._t("title",[t.labelTitle?a("label",{class:[t.labelClass,e.labelClass],style:t.labelStyle,domProps:{innerHTML:e._s(t.labelTitle)}}):e._e()],{labelClass:t.labelClass,labelStyle:t.labelStyles,labelTitle:t.title})]}}]),model:{value:e.currentValue,callback:function(t){e.currentValue=t},expression:"currentValue"}})},i=[],r={render:n,staticRenderFns:i};t.a=r},mV4P:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("kKsb"),p=n(v),C=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",dealerInfo:{}}},mixins:[u.default],components:{workFlow:h.default,RAction:f.default,ProjectPart:p.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=t.formData,i=n.order,s=void 0===i?{}:i;e.attachment=a,e.dealerInfo={dealerName:s.dealerName_dealerDebit,dealerCode:s.dealerDebit,dealerLabelName:s.drDealerLabel,amntBal:s.thenAmntBal,thenTotalAmntBal:s.thenTotalAmntBal};var l=n.order.dataSet,d=!0,u=!1,c=void 0;try{for(var f,m=(0,r.default)(l);!(d=(f=m.next()).done);d=!0){var h=f.value;e.count=(0,C.accAdd)(e.count,h.tdAmount)}}catch(e){u=!0,c=e}finally{try{!d&&m.return&&m.return()}finally{if(u)throw c}}t.formData.validUntil=(0,o.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},mYde:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("div",{staticClass:"title"},[a("m-search",{attrs:{filterList:e.filterList,isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}})],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.workList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.workList,function(t,n){return a("div",{key:n,staticClass:"each-work box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"work-main"},[a("div",{staticClass:"work_top"},[a("span",{staticClass:"code_name"},[e._v("工单任务号")]),e._v(" "),a("span",{staticClass:"work_code"},[e._v(e._s(t.transCode))])]),e._v(" "),a("div",{staticClass:"work_mid vux-1px-b"},[a("div",{staticClass:"product_name"},[e._v("\n                "+e._s(t.inventoryName)),a("span",{staticClass:"symbol"},[e._v("["+e._s(t.processing)+"]")])]),e._v(" "),a("div",{staticClass:"product_unit"},[a("span",{staticClass:"each_unit"},[e._v("成品编码: "+e._s(t.matCode))])])]),e._v(" "),a("div",{staticClass:"work_btm"},[a("div",{staticClass:"procedure_name"},[a("span",[e._v(e._s(t.procedureName))]),e._v(" "),a("span",{staticClass:"symbol"},[e._v("[工序编码: "+e._s(t.proPointCode)+"]")])]),e._v(" "),a("div",{staticClass:"procedure_unit"},[a("span",{staticClass:"each_unit"},[e._v("可验收余额: "+e._s(t.qtyBal))]),e._v(" "),a("span",{staticClass:"each_unit"},[e._v("后置工序: "+e._s(t.rearProcedureName))])])])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}))],1)])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},mc4V:function(e,t){},mhfF:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper cpxq-detail-container"},[a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.userData,"order-info":e.userData}}),e._v(" "),a("div",{staticClass:"product"},[e._m(0),e._v(" "),a("form-cell",{attrs:{cellTitle:"员工",cellContent:e.userData.turnoverName||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"部门",cellContent:e.userData.turnoverDepartMent||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"岗位",cellContent:e.userData.turnoverPost||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"离职日期",cellContent:e.userData.turnoverDate||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"备注",cellContent:e.userData.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}})],1)])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title"},[a("div",[a("span",{staticClass:"iconfont icon-mingxi1"}),e._v(" "),a("span",[e._v("员工信息")])])])}],r={render:n,staticRenderFns:i};t.a=r},mmca:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("kriB");a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,function(){return n[e]})}(i);var r=a("4Apf"),s=a.n(r),o=a("vGnC"),l=a("C7Lr"),d=l(s.a,o.a,!1,null,null,null);t.default=d.exports},moVi:function(e,t,a){"use strict";function n(e){a("Numz")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("WNoS");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("p6ff"),o=a.n(s),l=a("tSQX"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-6a8fdb74",null);t.default=c.exports},moZA:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("kKsb"),p=n(v),C=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70"}},mixins:[u.default],components:{workFlow:h.default,RAction:f.default,ProjectPart:p.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=!0,i=!1,s=void 0;try{for(var l,d=(0,r.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;e.count=(0,C.accAdd)(e.count,u.tdAmount)}}catch(e){i=!0,s=e}finally{try{!n&&d.return&&d.return()}finally{if(i)throw s}}t.formData.validUntil=(0,o.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},mpfK:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"WarehouseContent",props:{warehouse:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:{noAddress:function(){var e=this.warehouse,t=e.warehouseProvince,a=void 0===t?"":t,n=e.warehouseCity,i=void 0===n?"":n,r=e.warehouseDistrict,s=void 0===r?"":r,o=e.warehouseAddress,l=void 0===o?"":o;return!(a||i||s||l)}}}},mtD9:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2237,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"项目名称",value:"projectName_project"}]}},mixins:[i.default],methods:{},created:function(){}}},"n+GY":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=(a("HyXB"),a("MjAd")),o=n(s);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"任务类型",value:"taskType"},{name:"项目名称",value:"projectName_project"}],listViewID:2326}},mixins:[o.default],methods:{goDetail:function(e,t){var a=this;if(!this.clickVisited){var n=e.transCode,i=this.$route.query.name,s=this.$route.params,o=s.fileId,l=s.listId;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,r.default)({},e)),setTimeout(function(){a.clickVisited=!1,a.$router.push({path:"/detail/"+o+"/"+l,query:{name:i,transCode:n}})},200)}}}}},n0D0:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getObjFacilityByDealerCode=t.getEquipmentPurchaseOrder=t.getObjFacilityByType=void 0;var i=a("4YfN"),r=n(i),s=a("GOq4"),o=n(s);t.getObjFacilityByType=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getObjFacilityByType",data:(0,r.default)({_dc:Date.now()},e)})},t.getEquipmentPurchaseOrder=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getEquipmentPurchaseOrder",data:(0,r.default)({_dc:Date.now()},e)})},t.getObjFacilityByDealerCode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getObjFacilityByDealerCode",data:(0,r.default)({_dc:Date.now()},e)})};t.default={}},n5sc:function(e,t){},n6ZL:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("KH7x"),r=n(i),s=a("0w+U"),o=a("+VRO"),l=n(o);t.default={data:function(){return{MatPic:"",CompanyInfo:{}}},mixins:[l.default],methods:{getDefaultImg:function(){this.CompanyInfo.groupPic=a("tVsm")},loadPage:function(){var e=this,t=this.$route.query.groupId,a=void 0===t?"":t;return a?(this.$loading.show(),(0,s.CompanyInfo)(a).then(function(t){var a=(0,r.default)(t,1),n=a[0],i=void 0===n?{}:n,s=["","使用中","未使用","草稿"];i.status=s[i.status]||"停用",e.CompanyInfo=i,e.$loading.hide()})):void this.$vux.alert.show({content:"抱歉，有误，请尝试刷新之后再次进入"})}}}},"n6c+":function(e,t,a){"use strict";function n(e){a("DkQ+")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("uqrF");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("LBhX"),o=a.n(s),l=a("qRBd"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-508983cb",null);t.default=c.exports},n8ws:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("KH7x"),r=n(i),s=a("IHPB"),o=n(s),l=a("rVsN"),d=n(l),u=a("lC5x"),c=n(u),f=a("J0Oq"),m=n(f),h=a("3cXf"),v=n(h),p=a("4YfN"),C=n(p),_=a("8VZL"),y=n(_),b=a("HXPS"),g=n(b),w=a("fQz5"),I=n(w),x=a("Iu/6"),D=n(x),P=a("6q39"),k=n(P),S=a("hFVz"),T=n(S),L=a("I8ug"),N=a("7biW"),M=n(N),A=a("1KNX"),O=n(A);t.default={data:function(){return{listId:"c0375170-d537-4f23-8ed0-a79cf75f5b04",dealerList:[],srhInpTx:"",activeIndex:0,tabItem:"全部",dealerClassfiy:[],uniqueId:"7f01c808-d338-4711-8c99-319337078cc1",page:1,limit:20,id:"",hasNext:!0,scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0},total:null,clickVisited:!1,action:{}}},components:{Tab:y.default,Icon:g.default,TabItem:I.default,Spinner:D.default,LoadMore:k.default,RScroll:O.default,searchIcon:M.default},methods:{resetCondition:function(){this.dealerList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.resetPullDown()},tabClick:function(e,t){this.tabItem=e.title,this.activeIndex=t,this.uniqueId=e.uniqueId,this.resetCondition(),this.$refs.bScroll.scrollTo(0,0),this.getDealer()},searchList:function(e){var t=e.val,a=void 0===t?"":t;e.property;this.srhInpTx=a,this.resetCondition(),this.getDealer()},goNextPage:function(e,t,a){var n=this;this.clickVisited||(this.clickVisited=!0,e.visited=!0,this.$set(this.dealerList,t,(0,C.default)({},e)),setTimeout(function(){n.clickVisited=!1;var t={transCode:e.transCode};e.transCode||"/adress/edit_ads"!==a||"全部"===n.tabItem||(t.dealerType=n.tabItem),n.$router.push({path:a,query:t})},200))},goEditAds:function(e,t){this.goNextPage(e,t,"/adress/edit_ads")},goDetail:function(e,t){this.goNextPage(e,t,"/adress/adressDetail")},getDealer:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=void 0;""!==this.srhInpTx&&(a=[{operator:"like",value:this.srhInpTx,property:"creatorName",attendedOperation:"or"},{operator:"like",value:this.srhInpTx,property:"dealerName"}]);var n={limit:this.limit,page:this.page,start:(this.page-1)*this.limit};return a&&(n.filter=(0,v.default)(a)),(0,m.default)(c.default.mark(function a(){return c.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,T.default.getId(e.uniqueId).then(function(t){t.length>0&&(e.id=t[0].id)}).catch(function(t){e.$vux.alert.show({content:t.message})});case 2:return a.next=4,T.default.getDealerList(e.id,n).then(function(a){var n=a.dataCount,i=void 0===n?0:n,r=a.tableContent,s=void 0===r?[]:r,o="";t&&0===e.activeIndex&&e.total&&(o=i-e.total==0?"暂无新数据":"新增"+(i-e.total)+"条数据",e.$vux.toast.show({text:o,position:"top",width:"50%",type:"text",time:700})),0===e.activeIndex&&1===e.page&&sessionStorage.setItem("DL",i),e.dealerList=1===e.page?s:e.dealerList.concat(s),e.hasNext=i>(e.page-1)*e.limit+s.length,t||e.$nextTick(function(){e.resetScroll()})}).catch(function(t){e.resetScroll()});case 4:case"end":return a.stop()}},a,e)}))()},getClassfiy:function(){var e=this;T.default.getDealerClassfiy(this.page).then(function(t){t.map(function(e){"往来对象"===e.title&&(e.title="全部")}),e.dealerClassfiy=t}).catch(function(t){e.$vux.alert.show({content:t.message})})},resetScroll:function(){this.$refs.bScroll.finishPullDown(),this.$refs.bScroll.finishPullUp()},onPullingUp:function(){this.page++,this.getDealer()},onPullingDown:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.page=1,e)return void this.getData(!0);this.getData()},getSession:function(){var e=this;return new d.default(function(t){e.total=sessionStorage.getItem("DL"),t()})},getData:function(e){var t=this;return(0,m.default)(c.default.mark(function a(){return c.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getSession();case 2:if(!e){a.next=6;break}return a.next=5,t.getDealer(!0).then(function(){t.$nextTick(function(){t.$refs.bScroll.finishPullDown().then(function(){t.$refs.bScroll.finishPullUp()})})});case 5:return a.abrupt("return");case 6:return a.next=8,t.getDealer();case 8:case"end":return a.stop()}},a,t)}))()},changeVisitedStatus:function(){var e=this;setTimeout(function(){var t=[].concat((0,o.default)(e.dealerList));t.forEach(function(e){e.visited=!1}),e.dealerList=t},200)},getAppDetail:function(){var e=this;return(0,L.getAppDetail)(this.listId).then(function(t){var a=(0,r.default)(t,1),n=a[0],i=void 0===n?{}:n,s=i.action;e.action=s})}},watch:{$route:{handler:function(e,t){var a=e.path,n=void 0===a?"":a,i=e.meta,r=void 0===i?{}:i;if("/adress"===n&&(this.changeVisitedStatus(),r.reload)){if(e.meta.reload=!1,this.uniqueId="7f01c808-d338-4711-8c99-319337078cc1",this.srhInpTx="",this.activeIndex=0,this.resetCondition(),t.query.transCode)return void this.onPullingDown(!1);this.onPullingDown()}}}},created:function(){this.getAppDetail(),this.getClassfiy(),this.getData(!1)}}},nADA:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"each-msg",class:{visited:e.item.visited}},[a("div",{staticClass:"app-img-part"},[a("img",{attrs:{src:e.item.list&&e.item.list[0].pic,alt:"appImg"},on:{error:function(t){e.getDefaultImg(e.item[0]||"")}}})]),e._v(" "),a("div",{staticClass:"msg-container-part"},[a("div",{staticClass:"top_part"},[a("span",{staticClass:"app_name"},[e._v(e._s(e.name))]),e._v(" "),a("span",{staticClass:"msg_time"},[e._v(e._s(e._f("handleCrt")(e.item.list)))])]),e._v(" "),a("div",{staticClass:"main_part vux-1px-b"},[a("span",[e._v("\n        您收到"+e._s(e.item.list&&e.item.list.length>1?"多":"一")+"条新的消息\n      ")]),e._v(" "),a("badge",{attrs:{text:e.item.list&&e.item.list.length}})],1)])])},i=[],r={render:n,staticRenderFns:i};t.a=r},nBWv:function(e,t){},nHTe:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("+62G"),o=n(s),l=a("7g+Q"),d=n(l),u=a("z5TY"),c=n(u),f=a("HXPS"),m=n(f),h=a("d5Kw"),v=n(h),p=a("1KNX"),C=n(p);t.default={props:{noStatus:{type:String,require:!0},crtTime:{type:String,require:!0},fullWorkFlow:{type:Array,default:function(){return[]}},userName:{type:String,default:""},isMyTask:{type:Boolean,default:!1},workFlowInfo:{type:Object,default:function(){return{}}}},data:function(){return{defaulImg:a("cr7Q"),simpleWL:[],popupShow:!1}},watch:{fullWorkFlow:{handler:function(){this.workFlowHandler()}},popupShow:{handler:function(e){var t=this;e&&this.$nextTick(function(){t.$refs.bScroll&&t.$refs.bScroll.refresh()})}}},directives:{TransferDom:o.default},components:{Popup:d.default,Group:c.default,Icon:m.default,XButton:v.default,RScroll:C.default},methods:{closePop:function(){this.popupShow=!1},workFlowHandler:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,r.default)(this.fullWorkFlow);!(e=(n=i.next()).done);e=!0){var s=n.value;switch(s.userName=s.userName.replace(/\s*/g,""),s.status){case"同意":s.dyClass="agree_c";break;case"不同意":s.dyClass="reject_c";break;case"终止":s.dyClass="over_c"}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.simpleWL=this.fullWorkFlow.slice(-2)},getDefaultIcon:function(e){var t=this.defaulImg;return e&&(e.icon=t),t}},created:function(){this.workFlowHandler()}}},"nL/x":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("keep-alive",[e.$route.meta.keepAlive?a("router-view"):e._e()],1),e._v(" "),e.$route.meta.keepAlive?e._e():a("router-view"),e._v(" "),a("nav",{staticClass:"tabs vux-1px-t"},e._l(e.tablist,function(t,n){return a("router-link",{key:n,staticClass:"tab",attrs:{to:t.path}},[a("span",{staticClass:"tabicon iconfont",class:t.icon}),e._v(" "),a("span",{staticClass:"title"},[e._v(e._s(t.title))]),e._v(" "),"消息"===t.title&&0!=e.newsNumber?a("badge"):e._e()],1)}))],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},nT2q:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MjAd"),r=n(i),s=(a("vS5q"),a("4bt0")),o=n(s);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2386,chartShow:!1,hasNext:!0,scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0},sortList:[{name:"交易号",key:"transCode"},{name:"修改时间",key:"modTime"},{name:"客户名称",key:"dealerName"}]}},components:{ApplyChart:o.default},mixins:[r.default],methods:{}}},nUHg:function(e,t,a){"use strict";function n(e){a("e4FE")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("zzue");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("k/5C"),o=a.n(s),l=a("P6tn"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-37b7f33b",null);t.default=c.exports},nVpM:function(e,t,a){"use strict";function n(e){a("qnxf")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("ESmm");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("7sn7"),o=a.n(s),l=a("KgkH"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-87c2eef0",null);t.default=c.exports},nY9r:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("KH7x"),r=n(i),s=a("IHPB"),o=n(s),l=a("3cXf"),d=n(l),u=a("4YfN"),c=n(u),f=a("Jwlx"),m=n(f),h=a("HXPS"),v=n(h),p=a("7g+Q"),C=n(p),_=a("6q39"),y=n(_),b=a("L6VY"),g=n(b),w=a("+62G"),I=n(w),x=a("7biW"),D=n(x),P=a("hFVz"),k=n(P),S=a("yKqG"),T=n(S),L=a("aHRR"),N=n(L);t.default={name:"PopDealerList",props:{dealerLabelName:{type:String,default:"客户"},dealerTitle:{type:String,default:"客户"},defaultValue:{type:Object,default:function(){return{}}},defaultContact:{type:Object,default:function(){return{}}},mode:{type:String,default:"1"},required:{type:Boolean,default:!1},noContact:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"},noRecord:{type:Boolean,default:!1},params:{type:Object,default:function(){return{}}}},computed:{noAddress:function(){var e=this.defaultValue,t=e.province,a=void 0===t?"":t,n=e.city,i=void 0===n?"":n,r=e.county,s=void 0===r?"":r,o=e.address,l=void 0===o?"":o;return!(a||i||s||l)}},directives:{TransferDom:I.default},components:{Icon:v.default,Popup:C.default,DSearch:D.default,LoadMore:y.default,PopContactList:N.default},data:function(){return{page:1,limit:10,hasNext:!0,showDealerPop:!1,srhInpTx:"",bScroll:null,dealerInfo:{},contactInfo:{},selItems:[],dealerList:[]}},watch:{defaultValue:{handler:function(){var e=this.defaultValue;this.dealerInfo=(0,m.default)((0,c.default)({},e)),this.selItems=[(0,c.default)({},e)]},immediate:!0},defaultContact:{handler:function(){this.contactInfo=(0,m.default)((0,c.default)({},this.defaultContact))},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.bScroll&&e.bScroll.refresh()})},onHide:function(){this.showDealerPop=!1},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.dealerCode===e.dealerCode})},selDealer:function(e,t){if(this.showDealerPop=!1,this.selItems=[e],this.dealerInfo=(0,m.default)((0,c.default)({},e)),this.contactInfo={},this.noRecord||sessionStorage.setItem("DEALERLIST_SELITEMS",(0,d.default)(this.selItems)),"2"===this.mode)return void this.$emit("sel-dealer",(0,c.default)({},this.dealerInfo));this.$emit("sel-dealer",(0,d.default)(this.selItems))},selContact:function(e){this.$emit("sel-contact",e)},getDealer:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:"dealerName"}])),k.default.getAppdealer((0,c.default)({dealerLabelName:this.dealerLabelName,limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,d.default)(t)},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,s=void 0===i?[]:i,l=JSON.parse(sessionStorage.getItem("DEALERLIST_SELITEMS"))||"";if(e.hasNext=n>(e.page-1)*e.limit+s.length,e.dealerList=1===e.page?s:[].concat((0,o.default)(e.dealerList),(0,o.default)(s)),l){e.selItems=[].concat((0,o.default)(l));var u=(0,r.default)(e.selItems,1),c=u[0];e.dealerInfo=void 0===c?{}:c,e.$emit("sel-dealer",(0,d.default)(e.selItems)),sessionStorage.removeItem("DEALERLIST_SELITEMS")}e.$nextTick(function(){e.bScroll.refresh(),e.hasNext&&e.bScroll.finishPullUp()})}).catch(function(e){g.default.show({content:e.message})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.dealerList=[],this.page=1,this.hasNext=!0,this.getDealer()},initScroll:function(){var e=this;this.$nextTick(function(){e.bScroll=new T.default(e.$refs.dealer,{click:!0,pullUpLoad:{threshold:20}}),e.bScroll.on("pullingUp",function(){e.hasNext&&(e.page++,e.getDealer())})})},add:function(){var e=this.dealerLabelName;this.$router.push({path:"/adress/edit_ads",query:{add:1,pickVal:e}})},itemClick:function(){this.showDealerPop=!0}},created:function(){this.initScroll(),this.getDealer()}}},nYup:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2230}},mixins:[i.default],methods:{},created:function(){}}},nald:function(e,t){},nbb6:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper dzyhpcgysyzf-detail-container"},[e.orderInfo&&e.orderInfo.inPut?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("contact-part",{staticClass:"contacts_part",attrs:{"contact-info":e.dealerInfo,hasClass:!1,logistics:!1}},[a("template",{slot:"other"},[a("div",{staticClass:"other"},[a("span",{staticClass:"title"},[e._v("账期天数: ")]),e._v(" "),a("span",{staticClass:"mode"},[e._v(e._s(e.dealerInfo.pamentDays||"暂无"))])]),e._v(" "),a("div",{staticClass:"other"},[a("span",{staticClass:"title"},[e._v("账期到期日: ")]),e._v(" "),a("span",{staticClass:"mode"},[e._v(e._s(e.dealerInfo.accountExpirationDate||"暂无"))])])])],2),e._v(" "),a("matter-list",{attrs:{"order-list":e.orderList,noTaxAmount:e.noTaxAmount,taxAmount:e.taxAmount,count:e.count},scopedSlots:e._u([{key:"matterOther",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[n.productionDate?a("span",[e._v("生产日期: "+e._s(n.productionDate))]):e._e(),e._v(" "),n.validUntil?a("span",[e._v("有效日期: "+e._s(n.validUntil))]):e._e()]),e._v(" "),a("div",{staticClass:"mater_attribute"},[a("span",[e._v("单价: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.price),3)))]),e._v(" "),a("span",[e._v("数量: "+e._s(e._f("toFixed")(n.tdQty)))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.taxRate,expression:"item.taxRate"}]},[e._v("税率: "+e._s(n.taxRate))])]),e._v(" "),a("div",{staticClass:"mater_price"},[a("span",[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(n.tdAmount),3)))]),e._v(" "),n.taxRate?a("span",{staticClass:"num",style:{display:n.tdAmount&&n.tdAmount.toString().length>=7?"block":""}},[e._v("\n                [金额: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.noTaxAmount),3))+" + 税金: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.taxAmount),3))+"]\n              ")]):e._e()])])]}}])}),e._v(" "),a("div",{staticClass:"form_part"},[e._m(0),e._v(" "),a("div",{staticClass:"form_content"},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"资金账户",cellContent:e.cashInfo.fundName_cashOutCode,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"资金编码",cellContent:e.cashInfo.cashOutCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"资金账户类型",cellContent:e.cashInfo.cashType_cashOutCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"账户余额",cellContent:e._f("numberComma")(e._f("toFixed")(e.cashInfo.thenAmntBalCopy1),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"支付金额",cellContent:e._f("numberComma")(e._f("toFixed")(e.cashInfo.tdAmountCopy1),3),showSymbol:""}})],1)])]),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("资金账户详情")])])}],r={render:n,staticRenderFns:i};t.a=r},ncND:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2504,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[i.default],methods:{},created:function(){}}},nexV:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("3cXf"),o=n(s),l=a("KH7x"),d=n(l),u=a("Q+Ik"),c=n(u),f=a("4YfN"),m=n(f),h=a("z5TY"),v=n(h),p=a("7g+Q"),C=(n(p),a("SAzG")),_=n(C),y=a("PzEQ"),b=n(y),g=a("vl8n"),w=n(g),I=a("+WR7"),x=n(I),D=a("y8YJ"),P=n(D),k=a("HyXB"),S=a("0AQX"),T=a("bKg5"),L=n(T);t.default={name:"ApplyCPXQForm",data:function(){return{listId:"b30f4d3e-b23d-11e8-96a5-005056a136d0",formViewUniqueId:"b018ef18-f0d1-41a8-985e-29de19e6b705",formData:{biId:"",demandTitle:"",demandDescribe:"",biComment:""},biReferenceId:"",dealerInfo:{},contactInfo:{},uploadStyle:{}}},mixins:[L.default],components:{Group:v.default,XInput:_.default,XTextarea:b.default,RPicker:w.default,PopBaseinfo:x.default,PopDealerList:P.default},methods:{selContact:function(e){this.contactInfo=(0,m.default)({},e)},selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],this.formData.launchDealerCode=this.dealerInfo.dealerCode},save:function(){var e=this,t={demandTitle:"标题",demandDescribe:"描述"};for(var a in this.formData)"string"==typeof this.formData[a]&&this.formData[a].indexOf(" ")>=0&&(this.formData[a]=this.formData[a].replace(/\s/g,""));var n="";if(!n&&(0,c.default)(t).every(function(t){var a=(0,d.default)(t,2),i=a[0],r=a[1];return!!e.formData[i]||(n=r+"不能为空",!1)}),n)return void this.$vux.alert.show({content:n});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=e.formData,a={productDealerCode:e.dealerInfo.dealerCode,address_productDealerCode:e.dealerInfo.address,demandDealerLabel:e.dealerInfo.dealerLabelName,dealerName_productDealerCode:e.dealerInfo.dealerName},n={dealerDebitContactPersonName:e.contactInfo.dealerName,dealerDebitContactInformation:e.contactInfo.dealerMobilePhone},i=e.processCode.length?k.saveAndStartWf:k.submitAndCalc,r={listId:e.listId,biComment:"",formData:(0,o.default)((0,m.default)({handlerEntity:e.entity.dealerName},t,a,n))};e.transCode&&(i=k.updateData,console.log("bId:",e.biReferenceId),r.biReferenceId=e.biReferenceId),e.saveData(i,r)}})},getFormData:function(){var e=this;return(0,S.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.biReferenceId,o=void 0===s?"":s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=t.attachment,e.biReferenceId=o,e.formData=(0,m.default)({},e.formData,r),e.$loading.hide()})},hasDraftData:function(){var e=this.formData;if(e.demandTitle||e.demandDescribe||e.demandType||e.processStatus||e.timeConfidenceIndex)return(0,r.default)({},"CPXQ_DATA",{formData:this.formData})}},created:function(){var e=sessionStorage.getItem("CPXQ_DATA");e&&(this.formData=JSON.parse(e).formData,sessionStorage.removeItem("CPXQ_DATA"))}}},njrG:function(e,t){},nmkt:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("BGNQ"),r=n(i),s=a("z5TY"),o=n(s),l=a("kNGm"),d=n(l),u=a("0AQX"),c=a("+VRO"),f=n(c),m=a("Qg39"),h=a("BUFe"),v=n(h),p=a("AupE"),C=n(p),_=a("bFc7"),y=n(_);t.default={data:function(){return{count:0,orderInfo:{},contactInfo:{},formViewUniqueId:"5446fc51-1d16-489a-ab2b-6b2292bb7be5"}},mixins:[f.default],components:{Cell:r.default,Group:o.default,RAction:v.default,workFlow:C.default,contactPart:y.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment,e.count=e.count/100,t.formData.validUntil=(0,d.default)(t.formData.validUntil,"YYYY-MM-DD"),t.formData.tdAmount=(0,m.toFixed)(t.formData.tdAmount),e.orderInfo=t.formData,e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.orderInfo);this.contactInfo={creatorName:e.dealerDebitContactPersonName,dealerName:e.dealerName_dealerDebit,dealerMobilePhone:e.dealerDebitContactInformation,dealerContactPersonName:e.dealerCreditContactPersonName,dealerCode:e.dealerDebit,dealerLabelName:e.drDealerLabel,province:e.province_dealerDebit,city:e.city_dealerDebit,county:e.county_dealerDebit,address:e.address_dealerDebit,payment:e.drDealerPaymentTerm,validUntil:e.validUntil,logistics:e.drDealerLogisticsTerms}}}}},nnKQ:function(e,t){},npWU:function(e,t){},nrSX:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}))],1),e._v(" "),e.action.add?a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},ntXv:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("kNGm"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"BasicInfo",props:{workFlowInfo:{type:Object,default:function(){return{}}},orderInfo:{type:Object,default:function(){return{}}}},filters:{dateFormat:i.default}}},nuMk:function(e,t){},"o+wH":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"flexbox",props:{gutter:{type:Number,default:8},orient:{type:String,default:"horizontal"},justify:String,align:String,wrap:String,direction:String},computed:{styles:function(){return{"justify-content":this.justify,"-webkit-justify-content":this.justify,"align-items":this.align,"-webkit-align-items":this.align,"flex-wrap":this.wrap,"-webkit-flex-wrap":this.wrap,"flex-direction":this.direction,"-webkit-flex-direction":this.direction}}}}},"o/Mw":function(e,t){},o298:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.contactInfo}},[a("template",{slot:"other"},[a("div",{staticClass:"other"},[a("span",{staticClass:"title"},[e._v("账期天数: ")]),e._v(" "),a("span",{staticClass:"mode"},[e._v(e._s(e.contactInfo.daysOfAccount))])]),e._v(" "),a("div",{staticClass:"other_content vux-1px-t"},[this.contactInfo.thenTotalAmntBal||0===this.contactInfo.thenTotalAmntBal?a("div",{staticClass:"trade_info s_size_name"},[a("span",{staticClass:"title"},[e._v("协议总金额: ")]),e._v(" "),a("span",{staticClass:"mode"},[e._v(e._s("￥"+this.contactInfo.thenTotalAmntBal))])]):e._e(),e._v(" "),this.contactInfo.executionDate?a("div",{staticClass:"trade_info s_size_name"},[a("span",{staticClass:"title"},[e._v("协议开始日: ")]),e._v(" "),a("span",{staticClass:"mode"},[e._v(e._s(this.contactInfo.executionDate))])]):e._e(),e._v(" "),this.contactInfo.validUntil?a("div",{staticClass:"trade_info s_size_name"},[a("span",{staticClass:"title"},[e._v("协议到期日: ")]),e._v(" "),a("span",{staticClass:"mode"},[e._v(e._s(this.contactInfo.validUntil))])]):e._e(),e._v(" "),this.contactInfo.tdAmountCopy1||0===this.contactInfo.tdAmountCopy1?a("div",{staticClass:"trade_info s_size_name"},[a("span",{staticClass:"title"},[e._v("预付款: ")]),e._v(" "),a("span",{staticClass:"mode"},[e._v(e._s("￥"+this.contactInfo.tdAmountCopy1))])]):e._e(),e._v(" "),this.contactInfo.prepaymentDueDate?a("div",{staticClass:"trade_info s_size_name"},[a("span",{staticClass:"title"},[e._v("预付到期日: ")]),e._v(" "),a("span",{staticClass:"mode"},[e._v(e._s(this.contactInfo.prepaymentDueDate))])]):e._e()])])],2),e._v(" "),a("matter-list",{attrs:{"matter-list":e.orderInfo.order.dataSet,noTaxAmount:e.noTaxAmount,taxAmount:e.taxAmount,count:e.count},scopedSlots:e._u([{key:"matterOther",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("单价: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.price),3)))]),e._v(" "),a("span",[e._v("数量: "+e._s(e._f("toFixed")(n.tdQty)))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.taxRate,expression:"item.taxRate"}]},[e._v("税率: "+e._s(n.taxRate))])]),e._v(" "),n.purchaseDay?a("div",{staticClass:"mater_attribute"},[a("span",[e._v("采购需求日期: "+e._s(n.purchaseDay))])]):e._e(),e._v(" "),a("div",{staticClass:"mater_price"},[a("span",[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(n.tdAmount),3)))]),e._v(" "),n.taxRate?a("span",{staticClass:"num",style:{display:n.tdAmount&&n.tdAmount.toString().length>=7?"block":""}},[e._v("\n                [金额: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.noTaxAmount),3))+" + 税金: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.taxAmount),3))+"]\n              ")]):e._e()])])]}}])}),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},o2EC:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("YP5q"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"alert",components:{XDialog:i.default},created:function(){void 0!==this.value&&(this.showValue=this.value)},props:{value:Boolean,title:String,content:String,buttonText:String,hideOnBlur:{type:Boolean,default:!1},maskTransition:{type:String,default:"vux-mask"},dialogTransition:{type:String,default:"vux-dialog"},maskZIndex:[Number,String]},data:function(){return{showValue:!1}},methods:{_onHide:function(){this.showValue=!1}},watch:{value:function(e){this.showValue=e},showValue:function(e){this.$emit("input",e)}}}},o99i:function(e,t,a){"use strict";function n(e){a("VKyI")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IlP4");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Gkvy"),o=a.n(s),l=a("Tsmg"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-0c42f3f5",null);t.default=c.exports},oA6L:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("4YfN"),o=n(s),l=a("KH7x"),d=n(l),u=a("kNGm"),c=(n(u),a("SAzG")),f=n(c),m=a("0AQX"),h=a("+VRO"),v=n(h),p=a("BUFe"),C=n(p),_=a("AupE"),y=n(_),b=a("kKsb"),g=n(b),w=a("CKaN"),I=n(w),x=a("zWMP"),D=a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",dealerInfo:{},listData:[],cashInfo:{}}},computed:{isApproval:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"71c8f876-0617-4ff9-8a39-f9f99b14125d"===t},isCashier:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"00690810-7eaf-4bef-931b-a72eb5093f88"===t},isAccount:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"b00796ff-5986-4cdd-8ae4-fb202ff79af1"===t},cashParams:function(){return{transCode:this.transCode}}},mixins:[v.default],components:{workFlow:y.default,RAction:C.default,ProjectPart:g.default,PopCashList:I.default,XInput:f.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,m.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=t.formData,i=n.inPut,s=void 0===i?{}:i,l=(0,d.default)(s.dataSet,1),u=l[0],c=void 0===u?{}:u;e.attachment=a,e.dealerInfo=(0,o.default)({},c,s);var f=n.order.dataSet,m=!0,h=!1,v=void 0;try{for(var p,C=(0,r.default)(f);!(m=(p=C.next()).done);m=!0){var _=p.value;_.tdAmount&&(e.count=(0,x.accAdd)(e.count,_.tdAmount))}}catch(e){h=!0,v=e}finally{try{!m&&C.return&&C.return()}finally{if(h)throw v}}e.listData=f,e.orderInfo=n,e.cashInfo=t.formData.outPut.dataSet[0],e.workFlowInfoHandler()})},agreeHandler:function(){if(this.isApproval||this.isCashier||this.isAccount){if(this.isCashier&&!this.cashInfo.fundCode)return this.$vux.alert.show({content:"请选择资金账户"}),!0;var e=this.orderInfo,t=this.dealerInfo,a=this.cashInfo,n=this.listData.map(function(e){return{tdIdCopy1:e.tdIdCopy1,transMatchedCode:e.transMatchedCode,thenTotalAmntBal:e.thenTotalAmntBal,differenceAmountCopy1:e.differenceAmountCopy1,thenAlreadyAmnt:e.thenAlreadyAmnt,thenAmntBalCopy2:e.thenAmntBalCopy2,applicationAmount:e.applicationAmount,tdAmountCopy1:e.tdAmountCopy1,dealerDebit:e.dealerDebit}}),i=(0,o.default)({},e,{order:{dataSet:n},outPut:{dataSet:[{fundName_cashOutCode:a.fundName||a.fundName_cashOutCode,cashOutCode:a.fundCode||a.cashOutCode,cashType_cashOutCode:a.fundType||a.cashType_cashOutCode,thenAmntBal:a.thenAmntBal,tdAmount:a.tdAmount,tdId:a.tdId}]}}),r={"本次支付":t.tdAmountCopy1};this.saveData(i,r)}return!0},selCash:function(e){this.cashInfo=(0,o.default)({},this.cashInfo,e)},calcPayment:function(e){var t=(e.thenAmntBalCopy1,e.tdAmountCopy1),a=void 0===t?0:t;a||(a=0),a=(0,D.toFixed)(a),e.tdAmountCopy1=a}}}},oBv0:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a(e.currentComponent,{ref:"fillPage",tag:"component",on:{"sel-data":e.selData,change:e.modifyRoute}})],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},oLBP:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages xmjx-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,isRequired:!1},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-name-list",{attrs:{"default-value":e.projectApproval},on:{"sel-item":e.selProject}}),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",[a("datetime",{attrs:{title:"实际开始日期"},model:{value:e.projectTime.actualStartTime,callback:function(t){e.$set(e.projectTime,"actualStartTime",t)},expression:"projectTime.actualStartTime"}},[a("span",{staticClass:"required",attrs:{slot:"title"},slot:"title"},[e._v("实际开始日期")])]),e._v(" "),a("datetime",{attrs:{title:"实际完成日期"},model:{value:e.projectTime.actualCompleteTime,callback:function(t){e.$set(e.projectTime,"actualCompleteTime",t)},expression:"projectTime.actualCompleteTime"}},[a("span",{staticClass:"required",attrs:{slot:"title"},slot:"title"},[e._v("实际完成日期")])])],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.projectConclusion.length,expression:"projectConclusion.length"}],staticClass:"materiel_list project-amt"},[a("p",{staticClass:"title"},[e._v("资金明细")]),e._v(" "),e._l(e.projectConclusion,function(t,n){return a("div",{staticClass:"project_content",class:{"vux-1px-b":n!==e.projectConclusion.length-1}},[a("form-cell",{attrs:{cellTitle:"实际"+t.conclusionName,showSymbol:"利润率"!==t.conclusionName,textRight:"",cellContent:e.numberComma(t.actual),showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"预算"+t.conclusionName,showSymbol:"利润率"!==t.conclusionName,textRight:"",cellContent:e.numberComma(t.budget),showTopBorder:!1}}),e._v(" "),a("form-cell",{directives:[{name:"show",rawName:"v-show",value:"利润率"!==t.conclusionName,expression:"item.conclusionName !== '利润率'"}],attrs:{cellTitle:"差额"+t.conclusionName,showSymbol:"利润率"!==t.conclusionName,textRight:"",cellContent:e.numberComma(t.difference),showTopBorder:!1}})],1)})],2),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"其他信息"}},[a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.jsonData.comment.biComment,callback:function(t){e.$set(e.jsonData.comment,"biComment",t)},expression:"jsonData.comment.biComment"}})],1)],1),e._v(" "),a("upload-file",{on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"cfm_btn",on:{click:e.save}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},oMHV:function(e,t){},oR7t:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noCount:"",noPrice:""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}))],1),e._v(" "),e.action.add?a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},oRkL:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("iR2W"),r=n(i),s=a("kNGm"),o=n(s),l=a("Qg39"),d=a("zWMP");t.default={name:"justWordItem",props:{item:{type:Object,default:function(){return{}}},noCount:{type:Boolean,default:!1},conutTitle:{type:String,default:"合计"}},data:function(){return{}},computed:{total:function(){var e=this.item,t=e.count,a=e.totalAmount,n=e.budgetIncome_project;return n||(null!=t?t:a||0===a?a:void 0)}},filters:{percent:function(e){return e||0===e?(0,d.accMul)(e,100)+"%":"无"},toFixed:l.toFixed,dateFormat:o.default,numberComma:r.default},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t}}}},oRoT:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}))],1),e._v(" "),e.action.add?a("div",{staticClass:" vux-1px-t btn "},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},oWIc:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MgeX"),r=n(i),s=a("a3Yh"),o=n(s),l=a("3cXf"),d=n(l),u=a("4YfN"),c=n(u),f=a("BGNQ"),m=n(f),h=a("z5TY"),v=n(h),p=a("SAzG"),C=n(p),_=a("kNGm"),y=(n(_),a("PzEQ")),b=n(y),g=a("u28h"),w=n(g),I=a("jnZd"),x=n(I),D=a("HyXB"),P=a("0AQX"),k=a("bKg5"),S=n(k),T=a("y8YJ"),L=n(T),N=a("Ylj6"),M=n(N),A=a("vl8n"),O=n(A),R=a("+WR7"),j=n(R),$=a("Qg39"),B=a("zWMP"),E={transCode:"",inventoryName:"",inventoryCode:"",qtyBal:"",price:"",tdQty:"",taxRate:"",taxAmount:"",tdAmount:"",comment:""};t.default={mixins:[S.default],components:{Cell:m.default,Group:v.default,XInput:C.default,Datetime:w.default,XTextarea:b.default,PopDealerList:L.default,PopupPicker:x.default,PopInvoiceList:M.default,RPicker:O.default,PopBaseinfo:j.default},data:function(){return{listId:"ebd2225c-9354-4df9-bded-8631e3cac4ac",dealerInfo:{},contactInfo:{},invoiceType:[["普通发票","专用发票"]],invoiceGetType:[],invoicePlan:[],dealerParams:{dealerCode:""},taxRate:.16,invoiceList:[(0,c.default)({},E)],showInvoicePop:!1,seletedIndex:0,seletedInvoice:[],formData:{biProcessStatus:"",biComment:""},formDataComment:"",projectName:""}},computed:{totalAmount:function(){var e=0;return this.invoiceList.forEach(function(t){if(!t.tdQty&&0!==t.tdQty)return t.noTaxAmount="",t.taxAmount="",void(t.tdAmount="");t.noTaxAmount=(0,$.toFixed)((0,B.accMul)(t.tdQty,t.price)),t.taxAmount=(0,$.toFixed)((0,B.accMul)(t.noTaxAmount,t.taxRate)),t.tdAmount=(0,$.toFixed)((0,B.accAdd)(t.noTaxAmount,t.taxAmount)),t.tdAmount&&(e=(0,B.accAdd)(e,t.tdAmount))}),e}},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],this.dealerParams.dealerCode=this.dealerInfo.dealerCode,this.invoiceList=[(0,c.default)({},E)]},selContact:function(e){this.contactInfo=(0,c.default)({},e)},getCost:function(e,t){if(!this.dealerInfo.dealerName)return void this.$vux.alert.show({content:"请先选择客户"});var a=this.invoiceList[e];this.showInvoicePop=!0,this.seletedIndex=e,this.seletedInvoice=a?[a]:[]},addInvoice:function(){var e=this.$refs.costList.costList;if(this.invoiceList.length>=e.length)return void this.$vux.alert.show({content:"暂无其他出库单，不可新增"});this.invoiceList.push((0,c.default)({},E))},deleteInvoice:function(){this.invoiceList.pop()},selInvoice:function(e){this.$set(this.invoiceList,this.seletedIndex,(0,c.default)({},this.invoiceList[this.seletedIndex],e,{price:(0,$.toFixed)(e.price),taxRate:this.taxRate}))},checkQty:function(e,t){e.tdQty>e.qtyBal&&(e.tdQty=e.qtyBal),this.$set(this.invoiceList,t,(0,c.default)({},e,{tdQty:Math.abs((0,$.toFixed)(e.tdQty))}))},submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerCode||(t="请选择客户信息"),t||this.invoiceList.every(function(e){return e.transCode?e.tdQty||0===e.tdQty?e.taxRate||0===e.taxRate?(a.push({tdId:e.tdId||"",transMatchedCode:e.transCode,inventoryName_transObjCode:e.inventoryName,transObjCode:e.inventoryCode,thenQtyBal:e.qtyBal,price:e.price,tdQty:e.tdQty,taxRate:e.taxRate,taxAmount:e.taxAmount,tdAmount:e.tdAmount,comment:e.comment}),!0):(t="请填写税率",!1):(t="请填写本次申请数量",!1):(t="请选择出库单",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=D.saveAndStartWf,n=(0,o.default)({},e.processCode,{businessKey:"VATO",createdBy:(0,d.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:"",formData:(0,d.default)((0,c.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{crDealerLabel:"客户",dealerCodeCredit:e.dealerInfo.dealerCode,dataSet:a},dealerCreditContactPersonName:e.contactInfo.dealerName||null,dealerCreditContactInformation:e.contactInfo.dealerMobilePhone||""})),wfPara:(0,d.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=D.saveAndCommitTask),e.processCode.length||(t=D.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.attachment=t.attachment,e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.invoiceList=[];var a=t.formData;e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,c.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),e.dealerInfo=(0,c.default)({},e.dealerInfo,{dealerName:a.order.dealerName_dealerCodeCredit,dealerCode:a.order.dealerCodeCredit,province:a.order.province_dealerCodeCredit,city:a.order.city_dealerCodeCredit,county:a.order.county_dealerCodeCredit,address:a.order.address_dealerCodeCredit,dealerMobilePhone:a.order.dealerMobilePhone_dealerCodeCredit,dealerLabelName:a.order.crDealerLabel}),e.contactInfo={dealerMobilePhone:a.dealerCreditContactInformation,dealerName:a.dealerCreditContactPersonName},a.order.dataSet.forEach(function(t){var a=(0,c.default)({},t,{transCode:t.transMatchedCode,inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,qtyBal:t.thenQtyBal});e.invoiceList.push(a)}),e.invoiceGetType.push(a.invoiceType),e.dealerParams.dealerCode=a.order.dealerCodeCredit,e.$loading.hide()})},hasDraftData:function(){return!!(0,r.default)(this.dealerInfo).length&&(0,o.default)({},"KPSQ_DATA",{handlerDefault:this.handlerDefault,dealer:this.dealerInfo,list:this.invoiceList,contactInfo:this.contactInfo})}},created:function(){var e=sessionStorage.getItem("KPSQ_DATA");if(e){var t=JSON.parse(e);this.handlerDefault=t.handlerDefault,this.dealerInfo=t.dealer,this.invoiceList=t.list,this.contactInfo=t.contactInfo,this.dealerParams.dealerCode=this.dealerInfo.dealerCode,sessionStorage.removeItem("KPSQ_DATA")}}}},of1D:function(e,t,a){"use strict";function n(e){a("vzn5")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("wxaE");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("q3qU"),o=a.n(s),l=a("B1Yr"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-5da5fd84",null);t.default=c.exports},oojl:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper xsbj-detail-container"},[e.orderInfo?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"warehouse_part"},[a("warehouse-content",{attrs:{warehouse:e.warehouse}})],1),e._v(" "),a("div",{staticClass:"form_content"},[e._m(0),e._v(" "),a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"工单启动号",cellContent:e.workInfo.transMatchedCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"工单派工号",cellContent:e.workInfo.orderCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"工序名称",cellContent:e.workInfo.procedureName_proPointCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"工序编码",cellContent:e.workInfo.proPointCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"可验收余额",cellContent:e.workInfo.thenQtyBal}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次验收",cellContent:e.workInfo.tdQty}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"后置工序",cellContent:e.workInfo.procedureName_rearProPointCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"验收者",cellContent:e.workInfo.dealerName_dealerDebit}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"工艺路线编码",cellContent:e.workInfo.proFlowCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"工艺路线名称",cellContent:e.workInfo.technicsName_proFlowCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"物料名称",cellContent:e.workInfo.inventoryName_transObjCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"物料编码",cellContent:e.workInfo.transObjCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"加工属性",cellContent:e.workInfo.tdProcessing}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"备注",cellContent:e.orderInfo.biComment}})],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.bomList.length,expression:"bomList.length"}],staticClass:"bom_list"},[a("bom-list",{attrs:{boms:e.bomList},scopedSlots:e._u([{key:"specification",fn:function(t){var n=t.bom;return[a("div",{directives:[{name:"show",rawName:"v-show",value:n.specification_outPutMatCode,expression:"bom.specification_outPutMatCode"}],staticClass:"content-unit"},[a("span",[e._v("型号规格: "+e._s(n.specification_outPutMatCode))])])]}},{key:"number",fn:function(t){var n=t.bom;return[a("div",{staticClass:"number-part"},[a("span",{staticClass:"main-number"},[e._v("数量: "+e._s(n.tdQty)+e._s(n.measureUnit_outPutMatCode))]),e._v(" "),a("span",{staticClass:"number-unit"},[e._v("bom数量: "+e._s(n.bomQty))])])]}}])})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title"},[a("span",{staticClass:"iconfont icon-mingxi1"}),e._v(" "),a("span",[e._v("工单信息")])])}],r={render:n,staticRenderFns:i};t.a=r},"oro+":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2317,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[i.default],methods:{},created:function(){}}},"ow/D":function(e,t,a){"use strict";function n(e){a("kt+f")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("doYu");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("5q3q"),o=a.n(s),l=a("DWy+"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-7fcc8db2",null);t.default=c.exports},owYz:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("yp1W"),i=function(e){return e&&e.__esModule?e:{default:e}}(n),r=null,s={};s.install=function(e){if(!r){var t=e.extend(i.default);r=(new t).$mount(),document.body.appendChild(r.$el)}e.prototype.$loading={show:function(){r.show=!0},hide:function(){r.show=!1}}},t.default=s},oxLw:function(e,t,a){"use strict";function n(e){a("lBnf")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("OC53");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("yosr"),o=a.n(s),l=a("mYde"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-58331d64",null);t.default=c.exports},"oxg+":function(e,t,a){"use strict";function n(e){a("mCIn")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("DBVi");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("rSJi"),o=a.n(s),l=a("hvYt"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-7bfc0e24",null);t.default=c.exports},oylf:function(e,t,a){"use strict";function n(e){a("BtSW")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("8ODN");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Tra/"),o=a.n(s),l=a("lkiY"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-8420cac8",null);t.default=c.exports},"p+VX":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages xsbj-list-conatiner",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noPrice:"",noCount:""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}))],1),e._v(" "),e.action.add?a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},"p/zx":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("3cXf"),o=n(s),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("7g+Q"),C=n(p),_=a("PzEQ"),y=n(_),b=a("jnZd"),g=n(b),w=a("u28h"),I=n(w),x=a("kNGm"),D=n(x),P=a("0AQX"),k=a("HyXB"),S=(a("jLp1"),a("bKg5")),T=n(S),L=a("55ug"),N=n(L),M=a("wuIh"),A=n(M),O=a("vl8n"),R=n(O),j=a("+WR7"),$=n(j),B=a("zWMP"),E=a("Qg39"),F={draftNumber:"",draftType:"",accepter:"",tdAmount:"",draftDate:"",draftDueDate:"",comment:""};t.default={mixins:[T.default],components:{Cell:c.default,Group:m.default,Popup:C.default,XInput:v.default,XTextarea:y.default,PopupPicker:g.default,RPicker:R.default,PopBaseinfo:$.default,PopDealerList:N.default,PopMoneyOrderList:A.default,Datetime:I.default},data:function(){return{listId:"1745ffdd-1b6a-4fe5-9c5b-6e5394bd4faf",biReferenceId:"",selectedCost:[],costIndex:0,transCode:"",formData:{biComment:""},dealerInfo:{},showOrder:!1,orderList:[(0,d.default)({},F)],dealerParams:{dealerLabelName:"客户"},draftTypeList:["银行承兑","商业承兑"]}},computed:{thenTotalAmntBal:function(){var e=0;return this.orderList.forEach(function(t){t.tdAmount&&(e=(0,B.accAdd)(e,t.tdAmount))}),(0,E.toFixed)(e)}},methods:{submitOrder:function(){var e=this,t="",a=[],n=[{key:"draftNumber",message:"请输入汇票号"},{key:"draftType",message:"请选择类型"},{key:"accepter",message:"请输入承兑人"},{key:"tdAmount",message:"请输入金额"},{key:"draftDate",message:"请选择出票日"},{key:"draftDueDate",message:"请选择到期日"}];if(this.dealerInfo.dealerCode||(t="请选择往来"),t||this.orderList.every(function(e){return n.every(function(a){return e[a.key]||0===e[a.key]||(t=a.message),!t}),a.push({tdId:e.tdId||"",draftNumber:e.draftNumber,draftType:e.draftType,accepter:e.accepter,tdAmount:e.tdAmount,draftDate:e.draftDate,draftDueDate:e.draftDueDate,comment:e.comment}),!t}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=k.saveAndStartWf,n=(0,r.default)({},e.processCode,{businessKey:"RAAB",createdBy:(0,o.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.formData.biComment,formData:(0,o.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{dealerName_dealerCodeCredit:e.dealerInfo.dealerName,dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName,thenAmntBalCopy2:e.dealerInfo.amntBal,thenAlreadyAmnt:e.thenTotalAmntBal,dataSet:a}})),wfPara:(0,o.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=k.saveAndCommitTask),e.processCode.length||(t=k.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.attachment,n=void 0===a?[]:a,i=t.listId,r=void 0===i?"":i,s=(t.biComment,t.biReferenceId),o=void 0===s?"":s,l=t.formData,u=void 0===l?{}:l;e.attachment=n,e.listId=r,e.biReferenceId=o,e.handlerDefault={handler:u.handler,handlerName:u.handlerName,handlerUnit:u.handlerUnit,handlerUnitName:u.handlerUnitName,handlerRole:u.handlerRole,handlerRoleName:u.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:u.biComment,biId:u.biId,biProcessStatus:u.biProcessStatus,creator:u.creator,modifer:u.modifer});var c=u.order,f=void 0===c?{}:c,m=f.dataSet,h=void 0===m?[]:m;e.dealerInfo={dealerName:f.dealerName_dealerCodeCredit,dealerCode:f.dealerCodeCredit,dealerLabelName:f.crDealerLabel,amntBal:f.thenAmntBalCopy2,thenTotalAmntBal:f.thenAlreadyAmnt},e.orderList=h,e.$loading.hide()})},hasDraftData:function(){return!!this.dealerInfo.dealerCode&&(0,r.default)({},"SDCDHP_DATA",{formData:this.formData,dealerInfo:this.dealerInfo,orderList:this.orderList})},getRelationData:function(){},selDealer:function(e){this.dealerInfo=(0,d.default)({},e)},selOrder:function(e){e.forEach(function(e){e.draftDate=(0,D.default)(e.draftDate,"YYYY-MM-DD"),e.draftDueDate=(0,D.default)(e.draftDueDate,"YYYY-MM-DD")}),this.orderList=e},addOrder:function(){this.orderList.push((0,d.default)({},F))},deleteOrder:function(){this.orderList.pop()},checkAmt:function(e,t){switch(e){case"tdAmountCopy1":this.dealerInfo.tdAmountCopy1=(0,E.toFixed)(this.dealerInfo.tdAmountCopy1);break;default:e[t]=(0,E.toFixed)(e[t])}}},created:function(){var e=sessionStorage.getItem("SDCDHP_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.orderList=t.orderList,sessionStorage.removeItem("SDCDHP_DATA")}}}},p0dk:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages xsbj-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,"default-contact":e.contactInfo},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("pop-single-select",{attrs:{title:"结算方式",data:e.transMode,value:e.dealerInfo.paymentTerm},model:{value:e.dealerInfo.paymentTerm,callback:function(t){e.$set(e.dealerInfo,"paymentTerm",t)},expression:"dealerInfo.paymentTerm"}}),e._v(" "),a("pop-single-select",{attrs:{title:"物流条款",data:e.logisticsTerm,value:e.dealerInfo.dealerLogisticsTerms},model:{value:e.dealerInfo.dealerLogisticsTerms,callback:function(t){e.$set(e.dealerInfo,"dealerLogisticsTerms",t)},expression:"dealerInfo.dealerLogisticsTerms"}}),e._v(" "),a("r-date",{attrs:{title:"有效期至",placeholder:"请选择","start-date":""+new Date,value:e.formData.validUntil},model:{value:e.formData.validUntil,callback:function(t){e.$set(e.formData,"validUntil",t)},expression:"formData.validUntil"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[e.matterList.length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v("物料列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.matterList,function(t,n){return a("div",{key:n,staticClass:"each_mater",class:{mater_delete:e.matterModifyClass,"vux-1px-b":n<e.matterList.length-1}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass},on:{"on-modify":function(a){e.modifyMatter(t,n)}},nativeOn:{click:function(a){e.delClick(n,t)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_more"},[a("span",{staticClass:"processing"},[e._v("属性: "+e._s(n.processing))]),e._v(" "),a("span",{staticClass:"unit"},[e._v("主计量: "+e._s(n.measureUnit))]),e._v(" "),a("span",{staticClass:"unit"},[e._v("辅助计量: "+e._s(n.assMeasureUnit))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.taxRate,expression:"item.taxRate"}]},[e._v("税率: "+e._s(n.taxRate))])]),e._v(" "),a("div",{staticClass:"mater_more"},[a("span",{staticClass:"unit"},[e._v("辅助计量说明: "+e._s(n.assMeasureDescription))])]),e._v(" "),n.price&&n.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price)+"\n                    ")]),e._v(" "),a("r-number",{attrs:{num:n.tdQty,min:Number(n.qtyDownline),max:Number(n.qtyOnline),checkAmt:e.checkQty},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",t)},expression:"item.tdQty"}})],1):e._e()]}},{key:"editPart",fn:function(t){var i=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:i.price&&i.tdQty&&!e.matterModifyClass,expression:"(item.price && item.tdQty) &&!matterModifyClass"}],staticClass:"edit-part vux-1px-l",on:{click:function(t){e.modifyMatter(i,n)}}},[a("span",{staticClass:"iconfont icon-bianji1"})])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(n,t)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)}))]:[a("div",{on:{click:function(t){e.showMaterielPop=!e.showMaterielPop}}},[a("div",{staticClass:"title"},[e._v("物料列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择物料")]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part vx-1px-t"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),e.matterList.length?a("span",{staticClass:"add_more",on:{click:e.addMatter}},[e._v("新增更多物料")]):e._e()]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showMaterielPop,"default-value":e.matterList},on:{"sel-matter":e.selMatter},model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}})],2),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide},on:{"sel-confirm":e.selConfirm},scopedSlots:e._u([{key:"qtyBal",fn:function(t){var n=t.modifyMatter;return[a("div",[a("span",[e._v("标准价格: "+e._s(n.standardPrice))]),e._v(" "),a("span",[e._v("特批底价: "+e._s(n.specialReservePrice))])]),e._v(" "),a("div",[a("span",[e._v("最大需求数量: "+e._s(n.qtyOnline))]),e._v(" "),a("span",[e._v("最小需求数量: "+e._s(n.qtyDownline))])])]}},{key:"modify",fn:function(t){var n=t.modifyMatter;return[a("x-input",{attrs:{type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkQty(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",e._n(t))},expression:"modifyMatter.tdQty"}},[a("span",{staticClass:"required",attrs:{slot:"label"},slot:"label"},[e._v("需求数量")])]),e._v(" "),a("cell",{attrs:{title:"包装数量",value:n.assistQty}}),e._v(" "),a("x-input",{attrs:{type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.price,callback:function(t){e.$set(n,"price",e._n(t))},expression:"modifyMatter.price"}},[a("span",{staticClass:"required",attrs:{slot:"label"},slot:"label"},[e._v("本次报价")])]),e._v(" "),a("x-input",{attrs:{type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkRate(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.taxRate,callback:function(t){e.$set(n,"taxRate",e._n(t))},expression:"modifyMatter.taxRate"}},[a("span",{staticClass:"required",attrs:{slot:"label"},slot:"label"},[e._v("税率")])]),e._v(" "),a("cell",{attrs:{title:"不含税单价",value:n.noTaxPrice}})]}}]),model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num",class:{nine_up:e.tdAmount.length>8,ten_up:e.tdAmount.length>9,ele_up:e.tdAmount.length>10}},[a("span",{staticClass:"total_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.tdAmount,3))+"\n      ")]),e._v(" "),a("span",{staticClass:"taxAmount"},[e._v("[含税: ￥"+e._s(e._f("numberComma")(e.taxAmount,3))+"]")])]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.save}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},p4QX:function(e,t){},p6YX:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){for(var a=e.length;a--;)if(e[a]===t)return!0;return!1}Object.defineProperty(t,"__esModule",{value:!0});var r=a("DEQU"),s=n(r),o=a("MPfS"),l=a("GM4P"),d=n(l);t.default={name:"radio",mixins:[s.default],filters:{getValue:o.getValue,getKey:o.getKey},props:(0,d.default)(),created:function(){this.handleChangeEvent=!0},methods:{getValue:o.getValue,getKey:o.getKey,onFocus:function(){this.currentValue=this.fillValue||"",this.isFocus=!0}},watch:{value:function(e){this.currentValue=e},currentValue:function(e){var t=i(this.options,e);""!==e&&t&&(this.fillValue=""),this.$emit("on-change",e,(0,o.getLabel)(this.options,e)),this.$emit("input",e)},fillValue:function(e){this.fillMode&&this.isFocus&&(this.currentValue=e)}},data:function(){return{fillValue:"",isFocus:!1,currentValue:this.value}}}},p6ff:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("3cXf"),o=n(s),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("7g+Q"),C=n(p),_=a("PzEQ"),y=n(_),b=a("jnZd"),g=n(b),w=a("0AQX"),I=a("HyXB"),x=(a("jLp1"),a("bKg5")),D=n(x),P=a("aumL"),k=n(P),S=a("vl8n"),T=n(S),L=a("+WR7"),N=n(L),M=a("y8YJ"),A=n(M),O=a("zWMP");a("Qg39");t.default={mixins:[D.default],components:{Cell:c.default,Group:m.default,Popup:C.default,XInput:v.default,XTextarea:y.default,PopFundList:k.default,PopupPicker:g.default,RPicker:T.default,PopBaseinfo:N.default,PopDealerList:A.default},data:function(){return{listId:"1972f3a4-b29a-4a0e-90a8-85090c0e2d28",biComment:"",biReferenceId:"",showCostPop:!1,CostList:[{cashName:"",cashOutCode:"",cashType_cashOutCode:"",tdAmount:""}],selectedCost:[],costIndex:0,transCode:"",dealerInfo:{},contact:{},formData:{biComment:"",biProcessStatus:""}}},computed:{totalAmount:function(){var e=0;return this.CostList.forEach(function(t){t.tdAmount&&(e=(0,O.accAdd)(e,t.tdAmount))}),e}},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0]},selContact:function(e){this.contact=(0,d.default)({},e)},getCost:function(e,t){this.showCostPop=!0,this.costIndex=e,this.selectedCost=[t]},addCost:function(){this.expSubjectList=[],this.CostList.push({cashName:"",cashOutCode:"",cashType_cashOutCode:"",tdAmount:""})},deleteCost:function(){this.CostList.pop()},selMatter:function(e){var t=e;this.CostList[this.costIndex].cashName=t.fundName,this.CostList[this.costIndex].cashOutCode=t.fundCode,this.CostList[this.costIndex].cashType_cashOutCode=t.fundType},submitOrder:function(){var e=this,t="",a=[];if(this.CostList.every(function(e){return e.cashName?e.tdAmount?(a.push({tdId:e.tdId||"",cashOutCode:e.cashOutCode,cashType_cashOutCode:e.cashType_cashOutCode,tdAmount:e.tdAmount}),!0):(t="请填写支付金额",!1):(t="请选择资金账户",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=I.saveAndStartWf,n=(0,r.default)({},e.processCode,{businessKey:"REIM2",createdBy:(0,o.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:"",formData:(0,o.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,dataSet:a},dealerDebitContactPersonName:e.contact.dealerName||null,dealerDebitContactInformation:e.contact.dealerMobilePhone||null})),wfPara:(0,o.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=I.saveAndCommitTask),e.processCode.length||(t=I.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,w.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.attachment=t.attachment,e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.CostList=[];var a=t.formData;e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),a.order.dataSet.forEach(function(t){var a={cashName:t.fundName_cashOutCode,cashOutCode:t.cashOutCode,cashType_cashOutCode:t.cashType_cashOutCode,tdAmount:t.tdAmount,tdId:t.tdId};e.CostList.push(a)}),e.dealerInfo={creatorName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation,dealerCode:a.order.dealerDebit,dealerLabelName:a.order.drDealerLabel,dealerName:a.order.dealerName_dealerDebit,province:a.order.province_dealerDebit,city:a.order.city_dealerDebit,county:a.order.county_dealerDebit,address:a.order.address_dealerDebit},e.contact={dealerName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation},e.$loading.hide()})},hasDraftData:function(){var e=!1;return this.CostList.forEach(function(t){if(t.cashName)return e=!0,!1}),!!e&&(0,r.default)({},"FYBX_DATA",{cost:this.CostList,formData:this.formData,dealerInfo:this.dealerInfo,contact:this.contact})}},created:function(){var e=sessionStorage.getItem("FYBX_DATA");if(e){var t=JSON.parse(e);this.CostList=t.cost,this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.contact=t.contact,sessionStorage.removeItem("FYBX_DATA")}}}},p9IC:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"popup-header",props:{leftText:String,rightText:String,title:String,showBottomBorder:{type:Boolean,default:!0}}}},pAHg:function(e,t,a){"use strict";function n(e){a("MJqf")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("kA5c");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("d8ys"),o=a.n(s),l=a("vBVm"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-d34c4dfc",null);t.default=c.exports},pD7w:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("a3Yh"),o=n(s),l=a("KH7x"),d=n(l),u=a("Q+Ik"),c=n(u),f=a("3cXf"),m=n(f),h=a("BGNQ"),v=n(h),p=a("z5TY"),C=n(p),_=a("SAzG"),y=n(_),b=a("PzEQ"),g=n(b),w=a("u28h"),I=n(w),x=a("jnZd"),D=n(x),P=a("jLp1"),k=a("bKg5"),S=n(k),T=a("JUuq"),L=n(T),N=a("vl8n"),M=n(N),A=a("+WR7"),O=n(A),R=a("Qg39"),j=a("zWMP");t.default={mixins:[S.default],components:{Cell:v.default,Group:C.default,XInput:y.default,Datetime:I.default,XTextarea:g.default,PopNameList:L.default,PopupPicker:D.default,RPicker:M.default,PopBaseinfo:O.default},data:function(){return{listId:"0281f8eb-f1d2-415c-b566-756fc749ccb3",projectTypes:[["设计类","协调类","执行类"]],planModel:{taskName:"",taskType:"",taskTypes:[],comment:"",deadline:"",cycleDays:"",planTime:"",jobRate:"",budgetHomeworkCost:""},projectPlan:[],formData:{biProcessStatus:"",biComment:""},formDataComment:"",project:{}}},methods:{addPlan:function(){var e=(0,m.default)(this.planModel);this.projectPlan.push(JSON.parse(e))},delatePlan:function(){this.projectPlan.pop()},typeTask:function(e,t){t.taskType=e[0]},selProject:function(e){var t=JSON.parse(e);this.project=t;var a={projectType:this.project.PROJECT_TYPE,filters:(0,m.default)([{operator:"in",property:"projectType",value:this.project.PROJECT_TYPE}])};this.getProjectBotTask(a)},getProjectBotTask:function(e){var t=this;(0,P.getProjectBotTask)(e).then(function(e){var a=e.tableContent,n=void 0===a?[]:a;n.forEach(function(e){e.taskTypes=[e.taskType]}),t.projectPlan=n})},save:function(){var e=this,t="",a=[];this.project.PROJECT_NAME||(t="请选择项目");var n={taskName:"任务名称",deadline:"截止日期"};if(t||this.projectPlan.every(function(e){return(0,c.default)(n).every(function(a){var n=(0,d.default)(a,2),i=n[0],r=n[1];return!!e[i]||(t=r+"不能为空",!1)}),a.push({budgetHomeworkCost:e.budgetHomeworkCost,comment:e.comment,cycleDays:e.cycleDays,deadline:e.deadline,jobRate:e.jobRate,planTime:e.planTime,projectType:e.projectType,taskName:e.taskName,taskType:e.taskType}),!t}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=P.saveProjectPlan,n={listId:e.listId,formData:{baseinfo:{biProcessStatus:e.formData.biProcessStatus,handlerEntity:e.entity.dealerName,creator:e.formData.handler,handler:e.formData.handler,handlerName:e.formData.handlerName,handlerRole:e.formData.handlerRole,handlerRoleName:e.formData.handlerRoleName,handlerUnit:e.formData.handlerUnit,handlerUnitName:e.formData.handlerUnitName,id:"",modifer:e.formData.handler},comment:{biComment:e.formData.biComment},projectApproval:{projectName:e.project.PROJECT_NAME,comment:e.project.COMMENT,projectManager:e.project.PROJECT_MANAGER,expectStartDate:e.project.EXPECT_START_DATE,expectEndDate:e.project.EXPECT_END_DATE},projectPlan:a}};e.saveData(t,n)}})},checkTime:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=e.planTime,i=e.jobRate;e[t]&&(e[t]=Math.abs((0,R.toFixed)(e[t],a))),"planTime"!==t&&"jobRate"!==t||(e.budgetHomeworkCost=(0,j.accMul)(Number(n),Number(i)))},hasDraftData:function(){return!!this.project.PROJECT_NAME&&(0,o.default)({},"XMJH_DATA",{project:this.project,projectPlan:this.projectPlan})},getRelationData:function(){var e=this;return(0,P.findProjectPlan)(this.relationKey).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=(t.attachment,JSON.parse((0,m.default)(n.projectApproval)));e.project={BUDGET_CAPITAL:i.budgetCapital,BUDGET_COST:i.budgetCost,BUDGET_INCOME:i.budgetIncome,BUDGET_PROFIT:i.budgetProfit,BUDGET_PROFIT_MARGIN:i.budgetProfitMargin,COMMENT:i.comment,EXPECT_END_DATE:i.expectEndDate,EXPECT_START_DATE:i.expectStartDate,ID:i.projectApprovalId,PHONE_NUMBER:i.phoneNumber,PROJECT_MANAGER:i.projectManager,PROJECT_NAME:i.projectName,PROJECT_STATUS:i.projectStatus,PROJECT_SUBCLASS:i.projectSubclass,PROJECT_TYPE:i.projectType,REFERENCE_ID:i.referenceId},e.projectPlan=n.projectPlan,e.formData=n.baseinfo,e.selProject((0,m.default)(e.project)),e.$loading.hide()})},getFormData:function(){var e=this;return(0,P.findProjectPlan)(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=(t.attachment,JSON.parse((0,m.default)(n.projectApproval)));e.project={BUDGET_CAPITAL:i.budgetCapital,BUDGET_COST:i.budgetCost,BUDGET_INCOME:i.budgetIncome,BUDGET_PROFIT:i.budgetProfit,BUDGET_PROFIT_MARGIN:i.budgetProfitMargin,COMMENT:i.comment,EXPECT_END_DATE:i.expectEndDate,EXPECT_START_DATE:i.expectStartDate,ID:i.projectApprovalId,PHONE_NUMBER:i.phoneNumber,PROJECT_MANAGER:i.projectManager,PROJECT_NAME:i.projectName,PROJECT_STATUS:i.projectStatus,PROJECT_SUBCLASS:i.projectSubclass,PROJECT_TYPE:i.projectType,REFERENCE_ID:i.referenceId},n.projectPlan.forEach(function(e){e.taskTypes=[e.taskType]}),e.projectPlan=n.projectPlan,e.handlerDefault={handler:n.baseinfo.handler,handlerName:n.baseinfo.handlerName,handlerUnit:n.baseinfo.handlerUnit,handlerUnitName:n.baseinfo.handlerUnitName,handlerRole:n.baseinfo.handlerRole,handlerRoleName:n.baseinfo.handlerRoleName},e.formData=(0,r.default)({},e.formData,e.handlerDefault,{biComment:n.baseinfo.biComment,biId:n.baseinfo.biId,biProcessStatus:n.baseinfo.biProcessStatus,creator:n.baseinfo.creator,modifer:n.baseinfo.modifer}),e.biReferenceId=n.biReferenceId,e.$loading.hide()})}},created:function(){var e=(0,m.default)(this.planModel),t=sessionStorage.getItem("XMJH_DATA");if(t){var a=JSON.parse(t);return this.project=a.project,this.projectPlan=a.projectPlan,void sessionStorage.removeItem("XMJH_DATA")}this.transCode||this.relationKey||this.projectPlan.push(JSON.parse(e))}}},pFjg:function(e,t){},pLZ0:function(e,t,a){"use strict";function n(e){a("L+mO")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Wkue");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("lK9Z"),o=a.n(s),l=a("qCGQ"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-33022236",null);t.default=c.exports},pM28:function(e,t){},pVMx:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("kNGm"),r=(n(i),a("0AQX")),s=a("+VRO"),o=n(s);t.default={data:function(){return{userData:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},uploadStyle:{width:"100%",padding:"0.06rem 0.1rem"}}},mixins:[o.default],methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,r.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=o,e.userData=r,e.workFlowInfoHandler()})},goEdit:function(){var e=this.$route.params,t=e.fileId,a=e.listId,n=this.$route.query.name;this.$router.push({path:"/fillform/"+t+"/"+a,query:{name:n,transCode:this.transCode}})}}}},pVbi:function(e,t){},paU9:function(e,t){},patH:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("4YfN"),o=n(s),l=a("vl8n"),d=n(l),u=a("5gKc"),c=n(u),f=a("PKHo"),m=n(f),h=a("0w+U");t.default={components:{RPicker:d.default,UploadImage:c.default},data:function(){return{MatPic:"",groupId:"",isNameExist:!1,isShortNameExist:!1,CompanyType:["有限责任公司","股份有限公司","集团公司","有限合伙","普通合伙","个人独资","子公司","其他"],CompanyStatus:["草稿","未使用","使用中","停用"],newCompanyInfo:{companyType:"有限责任公司",groupName:"",groupPic:"",groupShortName:"",groupType:"C",parentId:"1",status:"使用中"}}},mixins:[m.default],methods:{onUpload:function(e){this.newCompanyInfo.groupPic="/H_roleplay-si/ds/download?width=128&height=128&specify=true&url="+e.src},getDefaultImg:function(){this.newCompanyInfo.groupPic=a("tVsm")},checkGroupName:function(){var e=this;this.newCompanyInfo.groupName&&(0,h.checkValue)("groupName",this.newCompanyInfo.groupName).then(function(t){var a=t.result;e.isNameExist=!1,a&&(e.isNameExist=!0,e.$vux.alert.show({content:"【公司名称】已存在，请替换别的名称"}))})},checkShortName:function(){var e=this;this.newCompanyInfo.groupShortName&&(0,h.checkValue)("groupShortName",this.newCompanyInfo.groupShortName).then(function(t){var a=t.result;e.isShortNameExist=!1,a&&(e.isShortNameExist=!0,e.$vux.alert.show({content:"【公司简称】已存在，请替换别的简称"}))})},submit:function(){var e=this,t=this.groupId?h.update:h.save,a=[];a=t===h.save?[(0,o.default)({},this.newCompanyInfo)]:[{status:this.newCompanyInfo.status,groupId:this.newCompanyInfo.groupId,groupPic:this.newCompanyInfo.groupPic,groupName:this.newCompanyInfo.groupName,companyType:this.newCompanyInfo.companyType,groupShortName:this.newCompanyInfo.groupShortName}],this.$vux.confirm.show({content:"确定提交？",onConfirm:function(){switch(a[0].status){case"停用":a[0].status=-1;break;case"使用中":a[0].status=1;break;case"未使用":a[0].status=2;break;case"草稿":a[0].status=3}t(a).then(function(t){t[0]&&t[0].groupId||t.success?(e.$emit("change",!0),e.$vux.alert.show({content:t.success?"修改成功":"提交成功",onHide:function(){e.$router.go(-1)}})):e.$vux.alert.show({content:t.message})})}})},save:function(){var e=this,t="",a=[{key:"groupName",message:"【公司名称】"},{key:"groupShortName",message:"【公司简称】"},{key:"companyType",message:"【公司类型】"}];if(this.isNameExist?t="【公司名称】已存在，请替换别的名称":this.isShortNameExist&&(t="【公司简称】已存在，请替换别的简称"),!t&&a.every(function(a){return!!e.newCompanyInfo[a.key]||(t=a.message+"不能为空",!1)}),t)return void this.$vux.alert.show({content:t});this.submit()},CompanyInfo:function(){var e=this;return(0,h.CompanyInfo)(this.groupId).then(function(t){var a=!0,n=!1,i=void 0;try{for(var s,o=(0,r.default)(t);!(a=(s=o.next()).done);a=!0){var l=s.value;switch(l.status){case 1:l.status="使用中";break;case 2:l.status="未使用";break;case 3:l.status="草稿";break;case-1:l.status="停用"}e.newCompanyInfo=l}}catch(e){n=!0,i=e}finally{try{!a&&o.return&&o.return()}finally{if(n)throw i}}})}},created:function(){this.$loading.show();var e=this.$route.query.groupId,t=void 0===e?"":e;this.groupId=t,t&&this.CompanyInfo(),this.$loading.hide()}}},ph0E:function(e,t){},pifm:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("rVsN"),r=n(i),s=a("4YfN"),o=n(s),l=a("yKqG"),d=n(l),u=a("Iu/6"),c=n(u),f=a("6q39"),m=n(f);t.default={name:"RScroll",components:{Spinner:c.default,LoadMore:m.default},props:{hasNext:{type:Boolean,default:!1},noData:{type:Boolean,default:!1},options:{type:Object,default:function(){return{}}}},data:function(){return{bScroll:null,hasRefresh:!1,refreshDone:!1,pullDownTop:-70}},computed:{tip:function(){var e="加载中";return this.hasNext||(e="暂无数据"),e}},methods:{_initScroll:function(){var e=this,t=(0,o.default)({click:!0,probeType:1},this.options);this.options.pullDownRefresh&&(this.hasRefresh=!0,t.pullDownRefresh={threshold:40,stop:70}),this.options.pullUpLoad&&(t.pullUpLoad={threshold:20}),this.$nextTick(function(){e.bScroll=new d.default(e.$refs.bScroll,t),e.bScroll.on("pullingUp",function(){e.hasNext&&e.$emit("on-pulling-up")}),e.bScroll.on("pullingDown",function(){e.disable(),e.refreshDone=!1,e.$emit("on-pulling-down")}),e.bScroll.on("scroll",function(t){var a=(t.x,t.y);a>0?e.pullDownTop=a>70?0:a-70:e.resetPullDown()})})},refresh:function(){this.bScroll&&this.bScroll.refresh()},enable:function(){this.bScroll&&this.bScroll.enable()},disable:function(){this.bScroll&&this.bScroll.disable()},finishPullDown:function(){var e=this;return new r.default(function(t){e.resetPullDown(),e.bScroll.finishPullDown(),e.enable(),e.refresh(),t()})},finishPullUp:function(){var e=this;return new r.default(function(t){e.bScroll.finishPullUp(),e.refresh(),t()})},scrollTo:function(e,t){this.bScroll&&this.bScroll.scrollTo(e,t,400)},resetPullDown:function(){-70!==this.pullDownTop&&(this.pullDownTop=-70)}},created:function(){this._initScroll()}}},pnI5:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("just-word-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}},scopedSlots:e._u([{key:"list-item",fn:function(t){var n=t.item;return e._l(n.detailItem,function(t,n){return a("div",{key:n,staticClass:"each-slot-item"},[a("div",{staticClass:"top-content"},[e._v("资金账户: "+e._s(t.fundName_cashInCode))]),e._v(" "),a("div",{staticClass:"main-content"},[a("div",{staticClass:"info_part"},[e._v("\n                收款金额: ￥"+e._s(e._f("numberComma")(t.tdAmount))+"\n              ")])])])})}}])})}))],1),e._v(" "),e.action.add?a("div",{staticClass:" vux-1px-t btn "},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},ppDe:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages app_detail"},[a("div",{staticClass:"content"},[a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions}},[a("div",{staticClass:"app_top vux-1px-b"},[a("div",{staticClass:"app_icon"},[a("img",{attrs:{src:e.appInfo.icon},on:{error:function(t){e.getDefaultIcon(e.appInfo)}}})]),e._v(" "),a("div",{staticClass:"app_info"},[a("div",{staticClass:"app_name"},[e._v(e._s(e.appInfo.title))]),e._v(" "),a("div",{staticClass:"base_style app_type"},[e._v(e._s(e.appInfo.TRANS_NAME))]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.appInfo.administrator,expression:"appInfo.administrator"}],staticClass:"base_style app_admin"},[e._v("应用管理员: "+e._s(e.appInfo.administrator))]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.appInfo.crtTime,expression:"appInfo.crtTime"}],staticClass:"base_style crt_time"},[e._v("创建时间: "+e._s(e.appInfo.crtTime))])])]),e._v(" "),a("change-log",{ref:"changeLog",attrs:{handle:e.isAppAdmin}}),e._v(" "),a("div",{staticClass:"interaction"},[a("admin-comment",{ref:"adminComment",attrs:{handle:e.isAppAdmin}}),e._v(" "),a("other-comment",{ref:"comment"})],1)],1)],1),e._v(" "),a("router-view")],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},ptUZ:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("iR2W"),r=n(i),s=a("Qg39"),o=a("d7ck"),l=n(o),d=a("sUbJ"),u=n(d),c=a("6WeX"),f=n(c);t.default={name:"MatterList",props:{matterList:{type:Array,default:function(){return[]}},orderList:{type:Object,default:function(){return{}}},noTaxAmount:{type:Number,default:0},taxAmount:{type:Number,default:0},count:{type:Number,default:0},listTitle:{type:String,default:"物料列表"}},components:{FormCell:l.default,PriceTotal:f.default,MatterItem:u.default},filters:{toFixed:s.toFixed,numberComma:r.default}}},pzJd:function(e,t){},"q+9q":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("I3vJ"),v=a("1KNX"),p=n(v),C=a("7biW"),_=n(C);t.default={name:"PopProcedureList",props:{defaultValue:{type:Object,default:function(){return{}}},required:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"}},components:{Icon:c.default,Popup:m.default,RScroll:p.default,RSearch:_.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:100,page:1,hasNext:!0,scrollOptions:{pullUpLoad:!0},filterProperty:"",filterList:[{name:"名称",value:"procedureName"},{name:"编码",value:"procedureCode"}]}},watch:{defaultValue:{handler:function(e){this.selItems=(0,d.default)({},this.defaultValue)},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},showSelIcon:function(e){return this.selItems.procedureCode===e.procedureCode},selThis:function(e,t){this.selItems=(0,d.default)({},e),this.showPop=!1,this.$emit("sel-item",(0,d.default)({},e))},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,h.getUsingProcedure)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,o.default)(e.listData),(0,o.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.resetCondition(),this.getList()},onPullingUp:function(){this.page++,this.getList()},resetCondition:function(){this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)}},created:function(){this.getList()}}},q0Qv:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("a3Yh"),o=n(s),l=a("IHPB"),d=n(l),u=a("4YfN"),c=n(u),f=a("3cXf"),m=n(f),h=a("HXPS"),v=n(h),p=a("BGNQ"),C=n(p),_=a("z5TY"),y=n(_),b=a("SAzG"),g=n(b),w=a("PzEQ"),I=n(w),x=a("0AQX"),D=a("HyXB"),P=a("bKg5"),k=n(P),S=a("kZy/"),T=n(S),L=a("89pA"),N=n(L),M=a("luHD"),A=n(M),O=a("vl8n"),R=n(O),j=a("+WR7"),$=n(j),B=a("zWMP"),E=a("Qg39");t.default={mixins:[k.default],components:{Icon:v.default,Cell:C.default,Group:y.default,XInput:g.default,XTextarea:I.default,PopMatterList:T.default,PopWarehouseList:N.default,PopMatter:A.default,RPicker:R.default,PopBaseinfo:$.default},data:function(){return{listId:"edf7b34b-8916-410f-801f-2db7e97efbde",matterList:[],showMaterielPop:!1,transCode:"",formData:{biComment:""},numMap:{},warehouseIn:null,warehouseParams:{whCode:""},matter:{},showMatterPop:!1,modifyIndex:null}},watch:{matter:{handler:function(e){e.differenceNum=(0,B.accSub)(e.tdQty,e.qtyBal)},deep:!0}},methods:{delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=this;this.matterList.forEach(function(t){e.numMap[t.inventoryCode]=t.tdQty}),this.showMaterielPop=!this.showMaterielPop},selWarehouseIn:function(e){this.warehouseIn=JSON.parse(e),this.warehouseParams=(0,c.default)({},this.warehouseParams,{whCode:this.warehouseIn.warehouseCode}),this.matterList=[]},modifyMatter:function(e,t){this.matter=JSON.parse((0,m.default)(e)),this.showMatterPop=!0,this.modifyIndex=t},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.matterList,this.modifyIndex,t)},selMatter:function(e){var t=this,a=JSON.parse(e);a.forEach(function(e){e.tdQty=t.numMap[e.inventoryCode]||0,e.differenceNum=(0,B.accSub)(e.tdQty,e.qtyBal),e.thenQtyStock=(0,E.toFixed)((0,B.accSub)(e.qtyBal,e.qtyLock))}),this.numMap={},this.matterList=[].concat((0,d.default)(a))},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},save:function(){var e=this,t="",a=[];if([{key:"warehouseIn",message:"入库仓库"}].every(function(a){return!!e[a.key]||(t="请选择"+a.message,!1)}),t||this.matterList.length||(t="请选择物料"),this.matterList.every(function(n){if(!n.tdQty)return t="请填写盘点数量",!1;var i={transObjCode:n.inventoryCode,thenQtyStock:n.thenQtyStock,tdQty:n.tdQty,differenceNum:n.differenceNum||0,tdProcessing:n.processing,assistQty:n.assistQty||0,assMeasureScale:n.assMeasureScale||null,assMeasureUnit:n.assMeasureUnit||null,thenLockQtyStock:n.qtyLock,thenTotalQtyStock:n.qtyBal,comment:n.comment||null};return e.transCode&&(i.tdId=n.tdId||""),a.push(i),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=D.saveAndStartWf,n=(0,c.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,containerInWarehouseManager:e.warehouseIn.containerInWarehouseManager||null,inPut:{containerCode:e.warehouseIn.warehouseCode,dataSet:a}}),i={listId:e.listId,biComment:"",formData:(0,m.default)(n),wfPara:(0,m.default)((0,o.default)({},e.processCode,{businessKey:"STCK",createdBy:n.creator}))};e.transCode&&(t=D.saveAndCommitTask,i.biReferenceId=e.biReferenceId,i.wfPara=(0,m.default)({businessKey:e.transCode,createdBy:n.creator,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=D.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,x.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var d=[];e.attachment=l;var u=s.inPut,f=u.dataSet,m=void 0===f?[]:f,h=!0,v=!1,p=void 0;try{for(var C,_=(0,r.default)(m);!(h=(C=_.next()).done);h=!0){var y=C.value;y=(0,c.default)({},y,{qtyBal:y.thenTotalQtyStock,qtyLock:y.thenLockQtyStock,inventoryPic:y.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+y.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:y.inventoryName_transObjCode,inventoryCode:y.transObjCode,specification:y.specification_transObjCode,measureUnit:y.measureUnit_transObjCode,processing:y.tdProcessing}),d.push(y)}}catch(e){v=!0,p=e}finally{try{!h&&_.return&&_.return()}finally{if(v)throw p}}e.warehouseIn={warehouseCode:u.containerCode,warehouseName:u.warehouseName_containerCode,warehouseType:u.warehouseType_containerCode,warehouseProvince:u.warehouseProvince_containerCode,warehouseCity:u.warehouseCity_containerCode,warehouseDistrict:u.warehouseDistrict_containerCode,warehouseAddress:u.warehouseAddress_containerCode},e.warehouseParams={whCode:e.warehouseIn.warehouseCode},e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,c.default)({},e.formData,e.handlerDefault,{biComment:s.biComment,biId:s.biId,biProcessStatus:s.biProcessStatus,creator:s.creator,modifer:s.modifer}),e.biReferenceId=s.biReferenceId,e.matterList=d,e.$loading.hide()})},checkAmt:function(e){var t=e.tdQty,a=void 0===t?0:t;"number"!=typeof a&&(a=0),e.tdQty=Math.abs((0,E.toFixed)(a))},hasDraftData:function(){return!!this.matterList.length&&(0,o.default)({},"KCPD_DATA",{matter:this.matterList,warehouseIn:this.warehouseIn,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("KCPD_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.warehouseIn=t.warehouseIn,this.formData=t.formData,this.warehouseParams={whCode:this.warehouseIn.warehouseCode},sessionStorage.removeItem("KCPD_DATA")}}}},q3qU:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",dealerInfo:{}}},mixins:[u.default],components:{workFlow:h.default,RAction:f.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=t.formData,i=n.order,s=void 0===i?{}:i;e.attachment=a,e.dealerInfo={dealerName:s.dealerName_dealerDebit,dealerCode:s.dealerDebit,dealerLabelName:s.drDealerLabel,amntBal:s.thenAmntBalCopy2,thenTotalAmntBal:s.thenAlreadyAmnt};var l=n.order.dataSet,d=!0,u=!1,c=void 0;try{for(var f,m=(0,r.default)(l);!(d=(f=m.next()).done);d=!0){var h=f.value;e.count=(0,v.accAdd)(e.count,h.tdAmount)}}catch(e){u=!0,c=e}finally{try{!d&&m.return&&m.return()}finally{if(u)throw c}}t.formData.validUntil=(0,o.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},q4Rk:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("BGNQ"),r=n(i),s=a("z5TY"),o=n(s),l=a("kNGm"),d=(n(l),a("0AQX")),u=a("+VRO"),c=n(u),f=(a("Qg39"),a("BUFe")),m=n(f),h=a("AupE"),v=n(h),p=a("bFc7"),C=n(p),_=a("FlCz"),y=n(_),b=a("hPJo"),g=n(b);t.default={data:function(){return{workInfo:{},orderInfo:{},warehouse:{},bomList:[]}},mixins:[c.default],components:{Cell:r.default,Group:o.default,RAction:m.default,workFlow:v.default,contactPart:C.default,BomList:y.default,WarehouseContent:g.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,d.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.attachment,r=void 0===i?[]:i,s=t.formData,o=void 0===s?{}:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var l=o.order,d=void 0===l?{}:l,u=o.outPut,c=void 0===u?{}:u,f=c.dataSet,m=void 0===f?[]:f;e.warehouse={warehouseName:d.warehouseName_containerCode,warehouseType:d.warehouseType_containerCode,warehouseAddress:d.warehouseAddress_containerCode},m.forEach(function(e){e.inventoryName=e.inventoryName_outPutMatCode,e.inventoryCode=e.outPutMatCode}),e.bomList=m,e.attachment=r,e.orderInfo=o,e.workInfo=o.order.dataSet[0],e.workFlowInfoHandler()})}}}},q8mY:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listViewID:2476,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"设备名称",value:"facilityName_facilityObjCode"}]}},mixins:[i.default],methods:{},created:function(){}}},qCGQ:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages fgysqk-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{"dealer-label-name":"往来",request:"3","default-value":e.dealerInfo,params:e.dealerParams},on:{"sel-item":e.selDealer}},[a("template",{slot:"other"},[a("div",{staticClass:"amt-dealer"},[a("span",{staticClass:"amt-dealer-item"},[e._v("本次开出汇票: "+e._s(e.thenTotalAmntBal))])])])],2),e._v(" "),a("div",{staticClass:"materiel_list"},[a("div",{staticClass:"title"},[e._v("汇票明细")]),e._v(" "),e._l(e.orderList,function(t,n){return a("div",{key:n,staticClass:"order-detail",class:{"vux-1px-t":0!==n}},[a("x-input",{attrs:{"text-align":"right",placeholder:"请填写"},model:{value:t.draftNumber,callback:function(a){e.$set(t,"draftNumber",a)},expression:"item.draftNumber"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("汇票号")])])],2),e._v(" "),a("r-picker",{staticClass:"vux-1px-t",attrs:{title:"类型",data:e.draftTypeList,mode:"4",placeholder:"请选择类型",hasBorder:!1,required:""},model:{value:t.draftType,callback:function(a){e.$set(t,"draftType",a)},expression:"item.draftType"}}),e._v(" "),a("x-input",{attrs:{"text-align":"right",placeholder:"请填写"},model:{value:t.accepter,callback:function(a){e.$set(t,"accepter",a)},expression:"item.accepter"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("承兑人")])])],2),e._v(" "),a("x-input",{attrs:{"text-align":"right",placeholder:"请填写",type:"number"},on:{"on-blur":function(a){e.checkAmt(t,"tdAmount")},"on-focus":function(t){e.getFocus(t)}},model:{value:t.tdAmount,callback:function(a){e.$set(t,"tdAmount",e._n(a))},expression:"item.tdAmount"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("金额")])])],2),e._v(" "),a("x-input",{attrs:{"text-align":"right",placeholder:"请填写",type:"number"},on:{"on-blur":function(a){e.checkAmt(t,"deposit")},"on-focus":function(t){e.getFocus(t)}},model:{value:t.deposit,callback:function(a){e.$set(t,"deposit",e._n(a))},expression:"item.deposit"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("保证金")])])],2),e._v(" "),a("datetime",{attrs:{placeholder:"请选择出票日"},model:{value:t.draftDate,callback:function(a){e.$set(t,"draftDate",a)},expression:"item.draftDate"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("出票日")])])],2),e._v(" "),a("datetime",{attrs:{placeholder:"请选择到期日"},model:{value:t.draftDueDate,callback:function(a){e.$set(t,"draftDueDate",a)},expression:"item.draftDueDate"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("到期日")])])],2),e._v(" "),a("x-input",{attrs:{title:"说明","text-align":"right",placeholder:"请填写"},model:{value:t.comment,callback:function(a){e.$set(t,"comment",a)},expression:"item.comment"}})],1)})],2),e._v(" "),a("div",{staticClass:"add_more"},[e._v("\n        您还需要添加新的汇票?请点击\n        "),a("span",{staticClass:"add",on:{click:e.addOrder}},[e._v("新增")]),e._v(" "),a("em",{directives:[{name:"show",rawName:"v-show",value:e.orderList.length>1,expression:"orderList.length>1"}]},[e._v("或")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.orderList.length>1,expression:"orderList.length>1"}],staticClass:"delete",on:{click:e.deleteOrder}},[e._v("删除")])]),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"其他信息"}},[a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},qE8w:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getBillingApplication=t.getManyVATReceipt=t.getVATReceipt=t.getManyVATBilling=t.getVATBilling=void 0;var i=a("4YfN"),r=n(i),s=a("GOq4"),o=n(s),l=a("kSI7"),d=n(l),u=t.getVATBilling=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getVATBilling",data:e}).catch(function(e){return(0,d.default)(e)})},c=(t.getManyVATBilling=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getManyVATBilling",data:e}).catch(function(e){return(0,d.default)(e)})},t.getVATReceipt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getVATReceipt",data:e}).catch(function(e){return(0,d.default)(e)})},t.getManyVATReceipt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getManyVATReceipt",data:e}).catch(function(e){return(0,d.default)(e)})},t.getBillingApplication=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getBillingApplication",data:(0,r.default)({_dc:Date.now()},e)}).catch(function(e){return(0,d.default)(e)})});t.default={getVATBilling:u,getBillingApplication:c}},qEHM:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("J0Oq"),o=n(s),l=a("a3Yh"),d=n(l),u=a("HzJ8"),c=n(u),f=a("3cXf"),m=n(f),h=a("4YfN"),v=n(h),p=a("PzEQ"),C=n(p),_=a("kNGm"),y=n(_),b=a("u28h"),g=n(b),w=a("SAzG"),I=n(w),x=a("0AQX"),D=a("HyXB"),P=a("bKg5"),k=n(P),S=a("kZy/"),T=n(S),L=a("y8YJ"),N=n(L),M=a("yt3/"),A=n(M),O=a("luHD"),R=n(O),j=a("VZtf"),$=n(j),B=a("vl8n"),E=n(B),F=a("+WR7"),U=n(F),q=a("9SNe"),Q=n(q),H=a("zWMP");t.default={components:{XTextarea:C.default,RNumber:$.default,Datetime:g.default,PopMatterList:T.default,PopDealerList:N.default,PopSingleSelect:A.default,PopMatter:R.default,RPicker:E.default,PopBaseinfo:U.default,RDate:Q.default,XInput:I.default},data:function(){return{listId:"67ff01b1-52bc-4e01-9650-214dc6e5e8f9",taxRate:.16,numMap:{},dealer:{drDealerLogisticsTerms:""},order:{},inPut:{tdAmountCopy1:"",executionDate:"",validUntil:"",thenTotalAmntBal:"",prepaymentDueDate:""},formData:{creator:"",modifer:"",biId:"",biComment:""},logisticsTerm:[],dealerInfo:{},transMode:[],matterList:[],showTransPop:!1,showMaterielPop:!1,showDealerPop:!1,contact:{},matterParams:{processing:"原料"}}},mixins:[k.default],methods:{getPaymentTerm:function(){var e=this;return(0,D.getDictByType)("paymentTerm").then(function(t){var a=t.tableContent;e.transMode=a})},selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],this.dealer.drDealerPaymentTerm=this.dealerInfo.paymentTerm},selContact:function(e){this.contact=(0,v.default)({},e),this.dealer.dealerDebitContactPersonName=e.dealerName,this.dealer.dealerDebitContactInformation=e.dealerMobilePhone},selMatter:function(e){var t=this,a=JSON.parse(e);a.map(function(e){var a=e.processingStartDate?(0,y.default)(e.processingStartDate,"YYYY-MM-DD"):"",n=t.numMap[e.inventoryCode]||{},i=n.tdQty,r=void 0===i?"":i,s=n.price,o=void 0===s?"":s,l=n.taxRate,d=void 0===l?.16:l,u=n.processingStartDate,c=void 0===u?a:u;e.tdQty=r,e.price=o,e.taxRate=d,e.processingStartDate=c,e.assMeasureUnit=e.invSubUnitName||null,e.assMeasureScale=e.invSubUnitMulti||null,e.assMeasureDescription=e.invSubUnitComment||null}),this.numMap={},this.matterList=a},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(t){return t.inventoryCode===e.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(e)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,c.default)(this.matterList);!(e=(n=i.next()).done);e=!0){var r=n.value;this.numMap[r.inventoryCode]=(0,v.default)({},r)}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerCode?0===this.matterList.length?t="请选择物料":this.inPut.executionDate?this.inPut.validUntil||(t="请选择协议到期日"):t="请选择协议开始日":t="请选择供应商信息",t||this.matterList.every(function(e){if(!e.price)return t="单价不能为空",!1;if(!e.tdQty)return t="数量不能为空",!1;var n=e.taxRate,i=(0,H.accMul)(e.price,e.tdQty,n);return a.push({tdId:e.tdId||"",transObjCode:e.inventoryCode,tdProcessing:e.processing,assMeasureUnit:e.assMeasureUnit,assMeasureDescription:e.assMeasureDescription,assMeasureScale:e.assMeasureScale,tdQty:e.tdQty,assistQty:e.assistQty,price:e.price,tdAmount:e.tdAmount,taxRate:n,noTaxPrice:e.noTaxPrice,taxAmount:i,comment:e.comment||""}),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=D.saveAndStartWf,n=(0,d.default)({},e.processCode,{businessKey:"CGHT",createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.biComment,formData:(0,m.default)((0,v.default)({},e.formData,e.dealer,{drDealerLogisticsTerms:e.dealerInfo.dealerLogisticsTerms,handlerEntity:e.entity.dealerName,inPut:{dealerDebit:e.dealerInfo.dealerCode,dataSet:[(0,v.default)({},e.inPut,{thenTotalAmntBal:e.tdAmount})]},order:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName||"",drDealerPaymentTerm:e.dealer.drDealerPaymentTerm,dataSet:a}})),wfPara:(0,m.default)(n)};e.isResubmit&&(t=D.saveAndCommitTask,i.biReferenceId=e.biReferenceId),e.processCode.length||(t=D.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,o.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,x.getSOList)({formViewUniqueId:e.uniqueId,transCode:e.transCode}).then(function(t){e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId;var a=t.formData;e.attachment=t.attachment,a.order.dataSet.map(function(t){t=(0,v.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode}),e.matterList.push(t)}),e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,v.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),e.dealerInfo={creatorName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation,dealerCode:a.order.dealerDebit,dealerName:a.order.dealerName_dealerDebit,province:a.order.province_dealerDebit,city:a.order.city_dealerDebit,county:a.order.county_dealerDebit,address:a.order.address_dealerDebit,dealerLogisticsTerms:a.drDealerLogisticsTerms,pamentDays:a.inPut.daysOfAccount},e.contact={dealerName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation},e.dealer={dealerDebitContactPersonName:a.dealerDebitContactPersonName,dealerDebitContactInformation:a.dealerDebitContactInformation,drDealerPaymentTerm:a.order.drDealerPaymentTerm||""},e.inPut={tdAmountCopy1:a.inPut.dataSet[0].tdAmountCopy1,executionDate:a.inPut.dataSet[0].executionDate,validUntil:a.inPut.dataSet[0].validUntil,thenTotalAmntBal:a.inPut.dataSet[0].thenTotalAmntBal,prepaymentDueDate:a.inPut.dataSet[0].prepaymentDueDate},e.$loading.hide()});case 2:case"end":return t.stop()}},t,e)}))()},hasDraftData:function(){return!!this.matterList.length&&(0,d.default)({},"CGXY_DATA",{matter:this.matterList,dealerInfo:this.dealerInfo,formData:this.formData,dealer:this.dealer,contact:this.contact,inPut:this.inPut})},getRelationData:function(){},getLogisticsTerms:function(){var e=this;return(0,D.getDictByType)("dealerLogisticsTerms").then(function(t){var a=t.tableContent;e.logisticsTerm=a})}},created:function(){var e=sessionStorage.getItem("CGXY_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.dealerInfo=t.dealerInfo,this.dealer=t.dealer,this.formData=t.formData,this.contact=t.contact,this.inPut=t.inPut,sessionStorage.removeItem("CGXY_DATA")}}}},qEV3:function(e,t,a){"use strict";function n(e){a("HLvd")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("aAII");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("7d38"),o=a.n(s),l=a("MwA1"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-2de40abe",null);t.default=c.exports},qL4K:function(e,t,a){"use strict";function n(e){a("ZerR")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("dj3y");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("WHn+"),o=a.n(s),l=a("D67O"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-71dfaad4",null);t.default=c.exports},qLvx:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2317,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[i.default],methods:{},created:function(){}}},qMKk:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages nbjgdd-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[Object.keys(e.orderList).length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v("订单列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n,i){return a("div",{key:n,staticClass:"each_mater"},[t.length?a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v("计划号")]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]):e._e(),e._v(" "),e._l(t,function(i,r){return a("div",{key:r,class:{mater_delete:e.matterModifyClass}},[a("matter-item",{class:{"vux-1px-b":r<t.length-1},attrs:{item:i,"show-delete":e.matterModifyClass},on:{"on-modify":function(t){e.modifyMatter(i,r,n)}},nativeOn:{click:function(t){e.delClick(r,i,n)}},scopedSlots:e._u([{key:"info",fn:function(t){var i=t.item;return[a("div",{staticClass:"mater_more"},[a("span",[e._v("单位: "+e._s(i.measureUnit))]),e._v(" "),a("span",[e._v("待下单余额: "+e._s(i.qtyBal))])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:i.shippingTime,expression:"item.shippingTime"}],staticClass:"mater_more"},[a("span",[e._v("成品计划验收日期:"+e._s(i.shippingTime))])]),e._v(" "),i.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"matter-remain"},[e._v("\n                        本次下单: "+e._s(i.tdQty)+"\n                      ")]),e._v(" "),a("span",{staticClass:"check_bom",on:{click:function(t){e.checkBom(i,r,n)}}},[e._v("查看原料")])]):e._e()]}},{key:"edit",fn:function(t){var i=t.item;return[i.tdQty||e.matterModifyClass?e._e():a("div",{staticClass:"mater_other"},[a("div",{staticClass:"edit-tips",on:{click:function(t){e.modifyMatter(i,r,n)}}},[e._v("点击进行填写")]),e._v(" "),a("span",{staticClass:"check_bom",on:{click:function(t){e.checkBom(i,r,n)}}},[e._v("查看原料")])])]}}])}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.matterModifyClass,expression:"matterModifyClass"}],staticClass:"delete_icon",on:{click:function(t){e.delClick(r,i,n)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(i),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(i),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])])],1)})],2)}))]:[a("div",{on:{click:function(t){e.showOrderPop=!e.showOrderPop}}},[a("div",{staticClass:"title"},[e._v("订单列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择订单")]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),Object.keys(e.orderList).length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多物料")])]):e._e(),e._v(" "),a("pop-order-xqtj-list",{ref:"order",attrs:{show:e.showOrderPop,"default-value":e.orderList,"list-method":"getInProcessingOrder"},on:{"sel-matter":e.selOrder},model:{value:e.showOrderPop,callback:function(t){e.showOrderPop=t},expression:"showOrderPop"}})],2),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.UniqueBom.length,expression:"UniqueBom.length"}],staticClass:"materiel_list"},[a("bom-list",{attrs:{boms:e.UniqueBom},scopedSlots:e._u([{key:"number",fn:function(t){var n=t.bom;return[a("div",{staticClass:"number-part"},[a("span",{staticClass:"main-number"},[e._v("领料需求: "+e._s(n.tdQty)+e._s(n.measureUnit))])])]}}])})],1),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,"is-show-amount":!1},on:{"sel-confirm":e.selConfirm},scopedSlots:e._u([{key:"modify",fn:function(t){var n=t.modifyMatter;return[a("x-input",{attrs:{title:"本次下单",type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",e._n(t))},expression:"modifyMatter.tdQty"}}),e._v(" "),a("datetime",{attrs:{title:"主计划完工入库日",placeholder:"请选择"},model:{value:n.shippingTime,callback:function(t){e.$set(n,"shippingTime",t)},expression:"modifyMatter.shippingTime"}}),e._v(" "),a("cell",{attrs:{title:"待下单余额","text-align":"right",placeholder:"请填写",value:n.qtyBal}})]}}]),model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("bom-pop",{staticClass:"bom_pop",attrs:{show:e.bomPopShow,bomInfo:e.bom,"btn-is-hide":e.btnIsHide},on:{"bom-confirm":e.bomConfirm},scopedSlots:e._u([{key:"number",fn:function(t){var n=t.bom;return[a("div",{staticClass:"number-part"},[a("span",{staticClass:"main-number"},[e._v("领料需求: "+e._s(n.tdQty)+e._s(n.measureUnit))])])]}}]),model:{value:e.bomPopShow,callback:function(t){e.bomPopShow=t},expression:"bomPopShow"}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode"},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},qMm6:function(e,t,a){"use strict";function n(e){a("cXOI")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("xupB");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("wQkG"),o=a.n(s),l=a("oBv0"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},qP7K:function(e,t,a){"use strict";function n(e){a("Wdg4")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("9enk");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("REWi"),o=a.n(s),l=a("Rk6p"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-6e302b20",null);t.default=c.exports},qRBd:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[a("div",{staticClass:"header"},[a("div",{staticClass:"title"},[e._v(e._s(e.headInfo.title))]),e._v(" "),a("div",{staticClass:"swiper-container swiper-container-header"},[a("div",{staticClass:"swiper-wrapper"},[a("div",{staticClass:"swiper-slide"},[e._v(e._s(e.headInfo.firstName))]),e._v(" "),a("div",{staticClass:"swiper-slide"},[e._v(e._s(e.headInfo.LastName))])])])]),e._v(" "),a("r-scroll",{ref:"bScroll",attrs:{options:e.scrollOptions}},[a("div",{staticClass:"part-left"},e._l(e.listData,function(t,n){return a("div",{key:n},[t.assetType?a("div",{ref:"partLeftTitle",refInFor:!0,staticClass:"title border-1px-t border-1px-b"},[e._v(e._s(t.assetType)+"\n        ")]):e._e(),e._v(" "),e._l(t.items,function(t,n){return a("div",{key:n,ref:"partLeftContent",refInFor:!0,staticClass:"content-item",class:{"final-total":t.isTotal,"border-1px-t":t.isTotal,"is-first":t.bigSubject,indent:void 0!==t.bigSubject&&!t.bigSubject&&!t.subjectName.includes(": ")}},[e._v("\n          "+e._s(t.subjectName)+"\n        ")])})],2)})),e._v(" "),a("div",{staticClass:"swiper-container part-right"},[a("div",{staticClass:"swiper-wrapper"},[a("div",{staticClass:"swiper-slide"},e._l(e.listData,function(t,n){return a("div",{key:n},[t.assetType?a("div",{ref:"partRightInitTitle",refInFor:!0,staticClass:"title"}):e._e(),e._v(" "),e._l(t.items,function(t,n){return a("div",{key:n,ref:"partRightInit",refInFor:!0,staticClass:"content-item",class:{"final-total":t.isTotal,"is-first":t.bigSubject}},[e._v("\n              "+e._s(e._f("formatNum")(t.initialBalance))+"\n            ")])})],2)})),e._v(" "),a("div",{staticClass:"swiper-slide"},e._l(e.listData,function(t,n){return a("div",{key:n},[t.assetType?a("div",{ref:"partRightFinalTitle",refInFor:!0,staticClass:"title"}):e._e(),e._v(" "),e._l(t.items,function(t,n){return a("div",{key:n,ref:"partRightFinal",refInFor:!0,staticClass:"content-item",class:{"final-total":t.isTotal,"is-first":t.bigSubject}},[e._v("\n              "+e._s(e._f("formatNum")(t.finalBalance))+"\n            ")])})],2)}))])])])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},qSzm:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MgeX"),r=n(i),s=a("lC5x"),o=n(s),l=a("J0Oq"),d=n(l),u=a("a3Yh"),c=n(u),f=a("4YfN"),m=n(f),h=a("HzJ8"),v=n(h),p=a("ZLEe"),C=n(p),_=a("3cXf"),y=n(_),b=a("z5TY"),g=n(b),w=a("SAzG"),I=n(w),x=a("PzEQ"),D=n(x),P=a("u28h"),k=n(P),S=a("BGNQ"),T=n(S),L=a("0AQX"),N=a("HyXB"),M=a("bKg5"),A=n(M),O=a("kZy/"),R=n(O),j=a("luHD"),$=n(j),B=a("VZtf"),E=n(B),F=a("vl8n"),U=n(F),q=a("+WR7"),Q=n(q),H=a("zWMP"),V=a("Qg39");t.default={data:function(){return{listId:"43ccbc27-bbb5-4cfb-997b-6d3823f1c03e",orderList:{},matterList:[],showMaterielPop:!1,formData:{biId:"",biComment:""},applyComment:"",numMap:{},matterParams:{processing:"成品,商品,服务,原料,半成品"},modifyKey:"",filterList:[{name:"物料名称",value:"invName"},{name:"物料编码",value:"matCode"},{name:"交易号",value:"transCode"}]}},components:{XTextarea:D.default,Group:g.default,XInput:I.default,Datetime:k.default,Cell:T.default,RNumber:E.default,PopMatter:$.default,PopMatterList:R.default,RPicker:U.default,PopBaseinfo:Q.default},computed:{totalNum:function(){var e=0;return this.matterList.forEach(function(t){e=(0,H.accAdd)(e,t.tdQty)}),Number(e)},tdAmount:function(){var e=0;return this.matterList.forEach(function(t){e=(0,H.accAdd)(e,(0,H.accMul)(t.tdQty,t.price))}),parseFloat(e.toFixed(2))}},mixins:[A.default],methods:{selMatter:function(e){var t=this,a=JSON.parse(e),n={};a.map(function(e){var a=e.transCode+"_"+e.inventoryCode,i=e.processingStartDate?e.processingStartDate.split(" ")[0]:"",r=t.numMap[a]||{},s=r.tdQty,o=void 0===s?e.qtyBalance:s,l=r.price,d=void 0===l?"":l,u=r.promDeliTime,c=void 0===u?i:u;e.tdQty=o,e.price=d,e.promDeliTime=c,n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,y.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.inventoryCode!==e.inventoryCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode&&e.transCode===t.transCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,y.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,C.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});i>=0&&n.splice(i,1),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,v.default)(this.matterList);!(e=(n=i.next()).done);e=!0){var r=n.value;this.numMap[r.transCode+"_"+r.inventoryCode]=(0,m.default)({},r)}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showMaterielPop=!this.showMaterielPop},checkAmt:function(e){var t=e.price,a=e.tdQty,n=e.qtyBalance;t&&(e.price=Math.abs((0,V.toFixed)(t))),a&&(e.tdQty=Math.abs((0,V.toFixed)(a)),a>n&&(e.tdQty=n))},submitOrder:function(){var e=this,t="",a=[];if(0===this.matterList.length&&(t="请选择物料"),t||this.matterList.every(function(e){return e.price?e.tdQty?(a.push({tdId:e.tdId||"",transMatchedCode:e.transCode,transObjCode:e.inventoryCode,tdProcessing:e.processing,assMeasureUnit:e.assMeasureUnit||"个",assMeasureScale:e.assMeasureScale||null,assistQty:e.assistQty||0,productDemandQty:e.allQty,thenLockQty:e.qtyed,thenQtyBal:e.qtyBalance,tdQty:e.tdQty,price:e.price,tdAmount:(0,H.accMul)(e.price,e.tdQty),promDeliTime:e.promDeliTime,comment:""}),!0):(t="数量不能为空",!1):(t="单价不能为空",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=N.saveAndStartWf,n=(0,c.default)({},e.processCode,{businessKey:"PAPP",createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.biComment,formData:(0,y.default)((0,m.default)({},e.formData,{handlerEntity:e.entity.dealerName,order:{dataSet:a}})),wfPara:(0,y.default)(n)};e.isResubmit&&(t=N.saveAndCommitTask,i.biReferenceId=e.biReferenceId),e.processCode.length||(t=N.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,d.default)(o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,L.getSOList)({formViewUniqueId:e.uniqueId,transCode:e.transCode}).then(function(t){e.listId=t.listId,e.applyComment=t.biComment,e.biReferenceId=t.biReferenceId,e.attachment=t.attachment;var a=t.formData,n={},i=[];i=a.order.dataSet.map(function(t){return t=(0,m.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,inventoryType:t.inventoryType_transObjCode,inventorySubclass:t.inventorySubclass_transObjCode,allQty:t.productDemandQty,qtyed:t.thenLockQty,qtyBalance:t.thenQtyBal,transCode:t.transMatchedCode}),n[t.transCode]||(n[t.transCode]=[]),n[t.transCode].push(t),t}),e.orderList=n,e.matterList=i,e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,m.default)({},e.handlerDefault,{creator:a.creator,modifer:a.modifer,biId:a.biId,biComment:a.biComment,biProcessStatus:a.biProcessStatus}),e.$loading.hide()});case 2:case"end":return t.stop()}},t,e)}))()},hasDraftData:function(){return!!(0,r.default)(this.orderList).length&&(0,c.default)({},"CGSQ_DATA",{orderList:this.orderList,formData:this.formData})}},created:function(){var e=this,t=sessionStorage.getItem("CGSQ_DATA");if(t){this.orderList=JSON.parse(t).orderList,this.formData=JSON.parse(t).formData;for(var a in this.orderList)this.orderList[a].forEach(function(t){e.matterList.push(t)});sessionStorage.removeItem("CGSQ_DATA")}}}},qUWG:function(e,t){},qYYo:function(e,t){},qdsK:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("3cXf"),o=n(s),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("u28h"),C=n(p),_=a("PzEQ"),y=n(_),b=a("kNGm"),g=(n(b),a("jnZd")),w=n(g),I=(a("0AQX"),a("Z6x5")),x=a("HyXB"),D=a("bKg5"),P=n(D),k=a("vl8n"),S=n(k),T=a("+WR7"),L=n(T);t.default={data:function(){return{formData:{biId:"",biComment:"",biProcessStatus:""},biReferenceId:"",MobileWarn:!1,idCardWarn:!1,groupList:[],roleList:[]}},components:{Cell:c.default,Group:m.default,XInput:v.default,Datetime:C.default,XTextarea:y.default,PopupPicker:w.default,RPicker:S.default,PopBaseinfo:L.default},mixins:[P.default],methods:{getDepartMentWage:function(){var e=this;(0,I.getDepartMentWage)().then(function(t){var a=[];t.tableContent.forEach(function(e){a.push(e.GROUP_NAME)}),e.groupList.push(a)})},getAllRoleInfo:function(){var e=this;(0,I.getAllRoleInfo)().then(function(t){var a=[];t.tableContent.forEach(function(e){a.push(e.roleName)}),e.roleList.push(a)})},submitOrder:function(){var e=this,t="",a=[{key:"applicationDepartment",message:"请选择申请部门"},{key:"applicationPost",message:"请选择申请岗位"},{key:"recruitmentPeople",message:"请填写招聘人数"}];if(t||a.every(function(a){return!!e.formData[a.key]||(t=a.message,!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=x.saveAndStartWf,a=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,applicationDepartment:e.formData.applicationDepartment[0],applicationPost:e.formData.applicationPost[0]}),n={listId:e.listId,biComment:"",formData:(0,o.default)(a)};e.isResubmit&&(t=x.saveAndCommitTask,n.biReferenceId=e.biReferenceId,n.wfPara=(0,o.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=x.submitAndCalc,delete n.wfPara,delete n.biReferenceId),e.biReferenceId&&(n.biReferenceId=e.biReferenceId),e.saveData(t,n)}})},hasDraftData:function(){var e=this.formData;if(e.applicationDepartment||e.applicationPost)return(0,r.default)({},"ZHJH_DATA",{formData:e})},checkAmt:function(e){this.formData.recruitmentPeople=Math.round(e)}},created:function(){this.getDepartMentWage(),this.getAllRoleInfo();var e=sessionStorage.getItem("ZHJH_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,sessionStorage.removeItem("ZHJH_DATA")}}}},qeco:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=(n(s),a("0AQX")),l=a("+VRO"),d=n(l),u=a("BUFe"),c=n(u),f=a("AupE"),m=n(f),h=a("zWMP");t.default={data:function(){return{count:0,cashInfo:{}}},mixins:[d.default],components:{workFlow:m.default,RAction:c.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,o.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=t.formData,i=n.order,s=void 0===i?{}:i,o=n.outPut,l=void 0===o?{}:o;e.attachment=a,e.cashInfo=l.dataSet[0];var d=s.dataSet,u=!0,c=!1,f=void 0;try{for(var m,v=(0,r.default)(d);!(u=(m=v.next()).done);u=!0){var p=m.value;e.count=(0,h.accAdd)(e.count,p.tdAmount)}}catch(e){c=!0,f=e}finally{try{!u&&v.return&&v.return()}finally{if(c)throw f}}e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},qfeE:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement;return(e._self._c||t)("span",{staticClass:"vux-spinner",class:e.className,style:e.styles})},i=[],r={render:n,staticRenderFns:i};t.a=r},qgxz:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("FvvE"),r=n(i),s=a("ZTs6"),o=n(s),l=a("yKqG"),d=n(l),u=a("4XVd");t.default={data:function(){return{transCode:"",currentComponent:"",submitSuccess:!1,detailScroll:null,commentCount:0,hasComment:!0,isConcern:0,concernCount:0}},methods:{modifyRoute:function(e){this.submitSuccess=e},refresh:function(){this.detailScroll.refresh()},back:function(){this.$router.go(-1)},goDiscuss:function(){this.$router.push({path:"/commentList",query:{transCode:this.transCode}})},getCommentList:function(){var e=this;return getPCCommentList({relationKey:this.transCode}).then(function(t){var a=t.dataCount,n=void 0===a?0:a;e.commentCount=n})},isSubscribe:function(e){this.isConcern=e},goConcern:function(){var e=this,t=u.subscribeApp,a={type:"instance",relationKey:this.transCode};1===this.isConcern&&(t=u.unsubscribeApp,delete a.type),t(a).then(function(t){var a=t.success,n=void 0===a||a,i=t.message,r=void 0===i?"":i;if(n){e.isConcern="订阅成功！"===r?1:0;var s="订阅成功！"===r?"关注成功":"取消关注成功";e.$vux.toast.show({type:"text",time:1e3,position:"top",text:s})}})}},beforeRouteEnter:function(e,t,a){var n=e.query.name,i=void 0===n?"":n;i.includes("表")&&(e.meta.title=i,a()),e.meta.title=i+"详情",a()},created:function(){var e=this;this.$loading.show();var t=this.$route.query,n=t.childId,i=t.transCode,s=this.$route.params,l=s.fileId,u=s.listId;this.hasComment=!!i,this.transCode=i;try{this.currentComponent=n?a("9kVI")("./"+o.default[l]+"/"+r.default[l][n][u]+"Form.vue").default:a("9kVI")("./"+o.default[l]+"/"+r.default[l][u]+"Form.vue").default,this.$event.$on("commentCount",function(t){e.commentCount=t})}catch(t){console.log(t),this.$vux.alert.show({content:"抱歉，无法支持该应用的查看",onHide:function(){e.$router.go(-1)}})}this.$nextTick(function(){e.detailScroll=new d.default(e.$refs.detail,{click:!0})})},beforeRouteLeave:function(e,t,a){e.path;this.$HandleLoad.hide(),!this.submitSuccess||"LIST"!==e.name&&"MSGLIST"!==e.name||(e.meta.reload=!0),a()},beforeDestroy:function(){this.$event.$off("commentCount")}}},qhvE:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("1WsH"),o=a("vl8n"),l=n(o),d=a("PKHo"),u=n(d);t.default={data:function(){return{jobInfo:{name:"",status:"使用中",type:""},jobType:[{name:"管理类",value:"管理类"},{name:"营销类",value:"营销类"},{name:"技术类",value:"技术类"},{name:"专业类",value:"专业类"},{name:"操作类",value:"操作类",status:"C"}],jobStatus:[{name:"停用",value:"停用"},{name:"未使用",value:"未使用"},{name:"使用中",value:"使用中"},{name:"草稿",value:"草稿"}],jobId:null}},components:{RPicker:l.default},mixins:[u.default],methods:{submit:function(){var e=this;for(var t in this.jobInfo)"string"==typeof this.jobInfo[t]&&this.jobInfo[t].indexOf(" ")>=0&&(this.jobInfo[t]=this.jobInfo[t].replace(/\s/g,""));this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){switch(e.jobInfo.type){case"营销类":e.jobInfo.changeType="Y";break;case"专业类":e.jobInfo.changeType="Z";break;case"技术类":e.jobInfo.changeType="J";break;case"操作类":e.jobInfo.changeType="C";break;case"管理类":e.jobInfo.changeType="M"}switch(e.jobInfo.status){case"使用中":e.jobInfo.changeStatus=1;break;case"未使用":e.jobInfo.changeStatus=2;break;case"草稿":e.jobInfo.changeStatus=3;break;case"停用":e.jobInfo.changeStatus=-1}var t={describe:"",name:e.jobInfo.name,type:e.jobInfo.changeType,status:e.jobInfo.changeStatus};e.jobId?(t.id=e.jobId,(0,s.update)(t).then(function(t){t.success?(e.$emit("change",!0),e.$vux.alert.show({content:"修改成功",onHide:function(){e.$router.go(-1)}})):e.$vux.alert.show({content:t.message})})):(0,s.save)(t).then(function(t){t.id?(e.$emit("change",!0),e.$vux.alert.show({content:"提交成功",onHide:function(){e.$router.go(-1)}})):e.$vux.alert.show({content:t.message})})}})},save:function(){var e=this,t="";if([{key:"name",message:"【职位名称】"},{key:"type",message:"【职位类型】"}].every(function(a){return""!==e.jobInfo[a.key]||(t=a.message+"不能为空",!1)}),t)return void this.$vux.alert.show({content:t});this.submit()},findData:function(){var e=this;return(0,s.getJobList)({filter:(0,r.default)([{operator:"eq",value:this.jobId,property:"id"}])}).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;n.forEach(function(e){switch(e.type){case"Y":e.type="营销类";break;case"Z":e.type="专业类";break;case"J":e.type="技术类";break;case"C":e.type="操作类";break;case"M":e.type="管理类"}switch(e.status){case 1:e.status="使用中";break;case 2:e.status="未使用";break;case 3:e.status="草稿";break;case-1:e.status="停用"}}),e.jobInfo=n[0],e.$loading.hide()}).catch(function(t){e.$loading.hide()})}},created:function(){var e=this;this.$loading.show();var t=this.$route.query;if(t.id)return this.jobId=t.id,void this.findData().then(function(){e.$loading.hide()});t.jobType&&(this.jobInfo.type=t.jobType),this.$loading.hide()}}},qifw:function(e,t){},"qni/":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("MjAd"),o=n(s),l=(a("vS5q"),a("Qg39")),d=a("zWMP");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2435,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"协议号",value:"transMatchedCode"}]}},mixins:[o.default],watch:{listData:{handler:function(e){var t=!0,a=!1,n=void 0;try{for(var i,s=(0,r.default)(e);!(t=(i=s.next()).done);t=!0){var o=i.value;o.count=0;var u=!0,c=!1,f=void 0;try{for(var m,h=(0,r.default)(o.detailItem);!(u=(m=h.next()).done);u=!0){var v=m.value;o.count=(0,l.toFixed)((0,d.accAdd)(o.count,v.tdAmountCopy1))}}catch(e){c=!0,f=e}finally{try{!u&&h.return&&h.return()}finally{if(c)throw f}}}}catch(e){a=!0,n=e}finally{try{!t&&s.return&&s.return()}finally{if(a)throw n}}}}}}},qnxf:function(e,t){},qobV:function(e,t){},qokj:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vux-tab-wrap",class:"top"===e.barPosition?"vux-tab-bar-top":""},[a("div",{staticClass:"vux-tab-container"},[a("div",{ref:"nav",staticClass:"vux-tab",class:[{"vux-tab-no-animate":!e.animate},{scrollable:e.scrollable}]},[e._t("default"),e._v(" "),e.animate?a("div",{staticClass:"vux-tab-ink-bar",class:e.barClass,style:e.barStyle},[e.customBarWidth?a("span",{staticClass:"vux-tab-bar-inner",style:e.innerBarStyle}):e._e()]):e._e()],2)])])},i=[],r={render:n,staticRenderFns:i};t.a=r},qq0S:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("iR2W"),r=n(i),s=a("Qg39"),o=a("d7ck"),l=n(o),d=a("sUbJ"),u=n(d),c=a("6WeX"),f=n(c);t.default={name:"MatterList",props:{matterList:{type:Array,default:function(){return[]}},orderList:{type:Object,default:function(){return{}}},noTaxAmount:{type:Number,default:0},taxAmount:{type:Number,default:0},count:{type:Number,default:0},listTitle:{type:String,default:"物料列表"}},components:{FormCell:l.default,PriceTotal:f.default,MatterItem:u.default},filters:{toFixed:s.toFixed,numberComma:r.default}}},qweG:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}))],1),e._v(" "),e.action.add?a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},qwja:function(e,t,a){"use strict";function n(e){a("2/ZY")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("41vv");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("6Nvu"),o=a.n(s),l=a("ppDe"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-682db870",null);t.default=c.exports},qwnS:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("kNGm"),o=(n(s),a("SAzG")),l=n(o),d=a("0AQX"),u=a("+VRO"),c=n(u),f=a("BUFe"),m=n(f),h=a("AupE"),v=n(h),p=a("bFc7"),C=n(p),_=a("CKaN"),y=n(_),b=a("zWMP"),g=a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",dealerInfo:{},cashInfo:{},costList:[]}},computed:{isApproval:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"7d18cfc2-475f-44c5-ae12-a723d6234253"===t},isAccounting:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"69c3a187-1816-41cf-a9ec-899e9932940e"===t},isCashier:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"8ea73083-fc91-49f2-97d6-e9923ac9b9e2"===t},cashParams:function(){return{transCode:this.transCode}}},mixins:[c.default],components:{workFlow:v.default,RAction:m.default,contactPart:C.default,XInput:l.default,PopCashList:y.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,d.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=t.formData,i=t.attachment;if(!1===a)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var r=n.order.dataSet,s=void 0===r?[]:r;if(e.attachment=i,e.orderInfo=n,e.dealerInfo=n.inPut.dataSet[0],e.cashInfo=n.outPut.dataSet[0],e.costList=s,e.isAccounting){var o=e.dealerInfo,l=o.thenAmntBal,d=void 0===l?0:l,u=o.thenAlreadyAmnt,c=void 0===u?0:u;e.dealerInfo.thenTotalAmntBal=c,e.dealerInfo.differenceAmount=d}e.workFlowInfoHandler()})},agreeHandler:function(){if(this.isApproval||this.isAccounting||this.isCashier){if(this.isCashier&&!this.cashInfo.fundCode)return this.$vux.alert.show({content:"请选择资金账户"}),!0;var e=this.orderInfo,t=this.costList.map(function(e){return{tdId:e.tdId,expCode:e.expCode,expSubject:e.expSubject,costType_expCode:e.costType_expCode,tdAmount:e.tdAmount,expCause:e.expCause,taxAmount:e.taxAmount,noTaxAmount:e.noTaxAmount}}),a=(0,r.default)({},e,{order:{departmentName:e.order.departmentName,dataSet:t}});if(this.isCashier){var n=this.cashInfo;a.outPut={dataSet:[{fundName_cashInCode:n.fundName,cashInCode:n.fundCode,cashType_cashInCode:n.fundType,thenAmntBalCopy1:n.thenAmntBal,tdAmountCopy1:n.tdAmountCopy1,tdIdCopy1:n.tdIdCopy1}]}}return this.saveData(a),!0}return!1},calcTax:function(e){var t=e.taxAmount,a=void 0===t?0:t,n=e.noTaxAmount,i=void 0===n?0:n;a||(a=0,e.taxAmount=0),e.noTaxAmount=(0,b.accSub)(i,a)},calcPayment:function(e){var t=e.thenAmntBal,a=void 0===t?0:t,n=e.thenAlreadyAmnt,i=void 0===n?0:n,r=e.thenTotalAmntBal,s=void 0===r?0:r;s||(s=0),s=(0,g.toFixed)(s),e.thenTotalAmntBal=s,e.tdAmount=(0,g.toFixed)((0,b.accSub)(i,s)),e.differenceAmount=(0,g.toFixed)((0,b.accAdd)((0,b.accSub)(a,i),s)),this.cashInfo.tdAmountCopy1=s},selCash:function(e){this.cashInfo=(0,r.default)({},this.cashInfo,e)}}}},qxrx:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("FvvE"),r=n(i),s=a("ZTs6"),o=n(s);t.default={data:function(){return{fileId:"",currentComponent:"",isrefresh:!1}},created:function(){var e=this.$route.params,t=e.fileId,n=e.listId,i=this.$route.query.childId;this.fileId=t,t&&(this.currentComponent=i?a("88rY")("./"+o.default[t]+"/"+r.default[t][i][n]+"_List.vue").default:a("88rY")("./"+o.default[t]+"/"+r.default[t][n]+"_List.vue").default)},beforeRouteEnter:function(e,t,a){var n=e.query,i=n.name,r=n.transCode;i.includes("合规")&&(e.meta.title=i,a()),e.meta.title=r?"加载中...":i+"列表",a()},activated:function(){var e=this,t=this.$route.meta.reload;if(setTimeout(function(){e.$refs.list.changeVisitedStatus&&e.$refs.list.changeVisitedStatus()}),this.$nextTick(function(){e.$refs.list&&e.$refs.list.$refs.bScroll&&e.$refs.list.$refs.bScroll.refresh()}),t){var n=this.$route.params,i=n.fileId,s=n.listId,l=this.$route.query.childId;this.$loading.show(),i&&(this.fileId===i&&this.currentComponent&&this.$refs.list.reloadData(),this.fileId=i,this.currentComponent=l?a("88rY")("./"+o.default[i]+"/"+r.default[i][l][s]+"_List.vue").default:a("88rY")("./"+o.default[i]+"/"+r.default[i][s]+"_List.vue").default),this.$route.meta.reload=!1}},beforeRouteLeave:function(e,t,a){"/home"===e.path&&(this.$loading.hide(),this.currentComponent=null,t.meta.reload=!0),a()}}},qy1N:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("AupE"),f=n(c),m=a("BUFe"),h=n(m),v=a("bFc7"),p=n(v),C=a("3NX5"),_=n(C),y=a("zlAJ"),b=n(y);t.default={data:function(){return{orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},attachment:[]}},mixins:[u.default],components:{workFlow:f.default,RAction:h.default,contactPart:p.default,MatterList:_.default,UploadFile:b.default},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u=s.order,c=u.dataSet,f=!0,m=!1,h=void 0;try{for(var v,p=(0,r.default)(c);!(f=(v=p.next()).done);f=!0){var C=v.value;C.inventoryPic=C.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+C.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){m=!0,h=e}finally{try{!f&&p.return&&p.return()}finally{if(m)throw h}}e.attachment=d,s.validUntil=(0,o.default)(u.validUntil,"YYYY-MM-DD"),e.orderInfo=s,e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo={creatorName:t.dealerDebitContactPersonName,dealerName:a.dealerName_dealerDebit,dealerMobilePhone:t.dealerDebitContactInformation,dealerContactPersonName:t.dealerDebitContactPersonName,dealerCode:a.dealerDebit,dealerLabelName:a.drDealerLabel,province:a.province_dealerDebit,city:a.city_dealerDebit,county:a.county_dealerDebit,address:a.address_dealerDebit,payment:a.drDealerPaymentTerm,validUntil:t.validUntil,logistics:t.drDealerLogisticsTerms}}}}},qzCh:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("4YfN"),o=n(s),l=a("KH7x"),d=n(l),u=a("3cXf"),c=n(u),f=a("BGNQ"),m=n(f),h=a("7g+Q"),v=n(h),p=a("+62G"),C=n(p),_=a("z5TY"),y=n(_),b=a("SAzG"),g=n(b),w=a("7qeq"),I=(n(w),a("u28h")),x=n(I),D=a("PzEQ"),P=n(D),k=a("iR2W"),S=n(k),T=a("kNGm"),L=(n(T),a("dyuG")),N=(n(L),a("L6VY")),M=(n(N),a("jnZd")),A=n(M),O=a("0AQX"),R=a("HyXB"),j=a("QHLv"),$=a("bKg5"),B=n($),E=a("vl8n"),F=n(E),U=a("aumL"),q=n(U),Q=a("+WR7"),H=n(Q),V=a("Qg39"),X=a("zWMP");t.default={data:function(){return{listId:"418bd0e9-1dce-4e01-aa5a-3d4cd80e87d4",showCostPop:!1,dealerInfo:{dealerName:"",dealerCodeCredit:"",crDealerLabel:"",applicationType:[],tdCreditLine:"",thenAmntBalCopy1:"",thenTotalAmntBal:"",tdAmountCopy1:"",differenceAmount:"",expCause:""},formData:{biId:"",biComment:"",biProcessStatus:""},cashInfo:{cashName:"",cashInCode:"",cashType_cashInCode:"",thenAmntBal:"",tdAmount:""},biReferenceId:"",currentType:[["借款","备用金"]],selectedCost:[]}},computed:{creatorName:function(){return this.formData.userCode}},watch:{creatorName:function(e){this.getEmployeeBal()}},directives:{TransferDom:C.default},components:{Cell:m.default,Popup:v.default,Group:y.default,XInput:g.default,PopupPicker:A.default,Datetime:x.default,XTextarea:P.default,RPicker:F.default,PopFundList:q.default,PopBaseinfo:H.default},mixins:[B.default],filters:{numberComma:S.default},methods:{getEmployeeBal:function(){var e=this,t=[{operator:"eq",value:this.formData.userCode,property:"dealerCode"}];(0,j.getEmployeeBal)((0,c.default)(t)).then(function(t){var a=t.tableContent,n=void 0===a?[]:a,i=(0,d.default)(n,1),r=i[0],s=void 0===r?{}:r;e.dealerInfo=(0,o.default)({},e.dealerInfo,{dealerName:s.nickname,dealerCodeCredit:s.dealerCode,crDealerLabel:s.dealerLabelName,tdCreditLine:s.tdCreditLine,thenAmntBalCopy1:s.amntBal})})},submitOrder:function(){var e=this,t="",a=this.dealerInfo;if(a.applicationType.length||(t="请选择类型"),t||a.thenTotalAmntBal||0===a.thenTotalAmntBal||(t="请输入申请金额"),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=R.saveAndStartWf,n=(0,o.default)({},e.formData,{handlerEntity:e.entity.dealerName,order:{dataSet:[{tdIdCopy1:a.tdIdCopy1||"",dealerCodeCredit:a.dealerCodeCredit,crDealerLabel:a.crDealerLabel,applicationType:a.applicationType[0],tdCreditLine:a.tdCreditLine,thenAmntBalCopy1:a.thenAmntBalCopy1,thenTotalAmntBal:a.thenTotalAmntBal,tdAmountCopy1:a.tdAmountCopy1,differenceAmount:a.differenceAmount,expCause:a.expCause}]},outPut:{dataSet:[{tdId:e.cashInfo.tdId||"",cashInCode:e.cashInfo.cashInCode,cashType_cashInCode:e.cashInfo.cashType_cashInCode,thenAmntBal:e.cashInfo.thenAmntBal,tdAmount:e.cashInfo.tdAmount,dealerCodeCredit:a.dealerCodeCredit,crDealerLabel:a.crDealerLabel}]}}),i={listId:e.listId,biComment:n.biComment,formData:(0,c.default)(n),wfPara:(0,c.default)((0,r.default)({},e.processCode,{businessKey:e.businessKey,createdBy:n.creator}))};e.isResubmit&&(t=R.saveAndCommitTask,i.biReferenceId=e.biReferenceId,i.wfPara=(0,c.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=R.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,O.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,l=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=l;var u=r.order,c=r.outPut,f=(0,d.default)(u.dataSet,1),m=f[0],h=void 0===m?{}:m,v=(0,d.default)(c.dataSet,1),p=v[0],C=void 0===p?{}:p;e.dealerInfo={tdIdCopy1:h.tdIdCopy1,dealerName:h.dealerName_dealerCodeCredit,dealerCodeCredit:h.dealerCodeCredit,crDealerLabel:h.crDealerLabel,applicationType:[h.applicationType],tdCreditLine:h.tdCreditLine,thenAmntBalCopy1:h.thenAmntBalCopy1,thenTotalAmntBal:h.thenTotalAmntBal,tdAmountCopy1:h.tdAmountCopy1,differenceAmount:h.differenceAmount,expCause:h.expCause},e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,o.default)({},e.formData,e.handlerDefault,{biComment:r.biComment,biId:r.biId,biProcessStatus:r.biProcessStatus,creator:r.creator,modifer:r.modifer}),e.cashInfo={tdId:C.tdId,cashName:C.fundName_cashInCode,cashInCode:C.cashInCode,cashType_cashInCode:C.cashType_cashInCode,thenAmntBal:C.thenAmntBal,tdAmount:C.tdAmount},e.biReferenceId=r.biReferenceId,e.$loading.hide()})},checkAmt:function(){var e=this.dealerInfo,t=e.thenAmntBalCopy1,a=void 0===t?0:t,n=e.thenTotalAmntBal,i=void 0===n?0:n;this.cashInfo.tdAmount;i||(i=0),this.dealerInfo.thenAmntBalCopy1=(0,V.toFixed)(a),this.dealerInfo.thenTotalAmntBal=(0,V.toFixed)(i),this.dealerInfo.tdAmountCopy1=(0,V.toFixed)(i),this.dealerInfo.differenceAmount=(0,V.toFixed)((0,X.accAdd)(a,i)),this.cashInfo.tdAmount=(0,V.toFixed)(i)},hasDraftData:function(){return(0,r.default)({},"JKYBYJ_DATA",{dealerInfo:this.dealerInfo,cashInfo:this.contactInfo,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("JKYBYJ_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.cashInfo=t.cashInfo,sessionStorage.removeItem("JKYBYJ_DATA")}}}},r2DS:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("HXPS"),d=n(l),u=a("7g+Q"),c=n(u),f=a("6q39"),m=n(f),h=a("QHLv"),v=a("1KNX"),p=n(v),C=a("7biW"),_=n(C);t.default={name:"MatterList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},groupId:{type:Number,default:990713},getListMethod:{type:String,default:"getCostByGroupId"}},components:{Icon:d.default,Popup:c.default,LoadMore:m.default,RScroll:p.default,MSearch:_.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],costList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}},groupId:{handler:function(){this[this.getListMethod]()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,o.default)(this.selItems)),this.$emit("input",!1)},showSelIcon:function(e){var t=!1;return this.selItems&&this.selItems.every(function(a){return e.costCode!==a.costCode||(t=!0,!1)}),t},selThis:function(e,t){this.showPop=!1,this.selItems=[e],this.$emit("sel-matter",this.selItems[0])},setDefaultValue:function(){this.tmpItems=[].concat((0,o.default)(this.defaultValue)),this.selItems=[].concat((0,o.default)(this.defaultValue))},getCostByGroupId:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,o.default)(e),[{operator:"like",value:this.srhInpTx,property:"costName"}])),(0,h.getCostByGroupId)({groupId:this.groupId,limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(e)}).then(this.dataHandler)},getProjectCostByGroupId:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,o.default)(e),[{operator:"like",value:this.srhInpTx,property:"costName"}])),(0,h.getProjectCostByGroupId)({groupId:this.groupId,limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(e)}).then(this.dataHandler)},dataHandler:function(e){var t=this,a=e.dataCount,n=void 0===a?0:a,i=e.tableContent,r=void 0===i?[]:i;this.hasNext=n>(this.page-1)*this.limit+r.length,this.costList=1===this.page?r:[].concat((0,o.default)(this.costList),(0,o.default)(r)),this.$nextTick(function(){t.$refs.bScroll.finishPullUp()})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.costList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this[this.getListMethod]()},onPullingUp:function(){this.page++,this[this.getListMethod]()}},created:function(){this.setDefaultValue(),this[this.getListMethod]()}}},r2c2:function(e,t){},rAju:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=(a("XAqG"),a("HyXB"),a("MjAd")),o=n(s),l=a("ak47");n(l);t.default={name:"CPXQ_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"经办人",value:"handlerName"},{name:"交易号",value:"transCode"},{name:"员工",value:"profileName"}],listViewID:2376}},mixins:[o.default],methods:{pathChange:function(e,t,a){var n=this;if(!this.clickVisited){var i=e.transCode,s=this.$route.query.name,o=this.$route.params,l=o.fileId,d=o.listId;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,r.default)({},e));var u=a+"/"+l+"/"+d;setTimeout(function(){n.clickVisited=!1,n.$router.push({path:u,query:{name:s,transCode:i}})},200)}},goDetail:function(e,t){this.pathChange(e,t,"/detail")},goUserEdit:function(e,t){this.pathChange(e,t,"/fillform")}}}},rB41:function(e,t){},rCAw:function(e,t){},rDF8:function(e,t,a){"use strict";function n(e){a("b3pO")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("aofM");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("p6YX"),o=a.n(s),l=a("CSTP"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},rHhR:function(e,t,a){"use strict";function n(e){a("eHxv")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("bnXU");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("NAfT"),o=a.n(s),l=a("h6yY"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-5aed2fd4",null);t.default=c.exports},rKqJ:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("just-word-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}},scopedSlots:e._u([{key:"list-item",fn:function(t){var n=t.item;return e._l(n.detailItem,function(t,n){return a("div",{key:n,staticClass:"each-slot-item"},[a("div",{staticClass:"top-content"},[e._v("资金账户: "+e._s(t.fundName_cashInCode))]),e._v(" "),a("div",{staticClass:"main-content"},[a("div",{staticClass:"info_part"},[e._v("\n                资金账户大类: "+e._s(t.fundType_cashInCode)+"\n              ")]),e._v(" "),a("div",{staticClass:"info_part different_type"},[e._v("\n                收款金额: ￥"+e._s(e._f("numberComma")(t.tdAmount))+"\n              ")])])])})}}])})}))],1),e._v(" "),e.action.add?a("div",{staticClass:" vux-1px-t btn "},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},rLJd:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("3cXf"),o=n(s),l=a("4YfN"),d=n(l),u=a("0AQX"),c=a("Dkzh"),f=a("7biW"),m=n(f),h=a("1KNX"),v=n(h);t.default={data:function(){return{serachVal:"",title:"",listData:[],page:1,limit:10,hasNext:!0,DefaultImg:a("cr7Q"),scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0}}},components:{search:m.default,RScroll:v.default},methods:{goDetail:function(e,t){var a=this,n=(e.listId,e.title);e.visited=!0,this.$set(this.listData,t,(0,d.default)({},e));var i=Date.now(),r="",s="";e.typeID?(r=e.typeID,s=e.parentId):r=e.parentId,(0,u.isMyflow)({transCode:e.businessKey}).then(function(t){var o=t.tableContent,l=function(){var t="";if(o.length>0){var i=o[0],l=i.isMyTask,d=i.nodeName;t=1===l&&"重新提交"===d?"/fillform/"+r+"/"+e.listId:"/detail/"+r+"/"+e.listId}else t="/detail/"+r+"/"+e.listId;var u={name:n,transCode:e.businessKey};e.typeID&&(u.childId=s),a.$router.push({path:t,query:u})},d=Date.now()-i;d>200?l():setTimeout(function(){l()},200-d)}).catch(function(n){e.visited=!1,a.$set(a.listData,t,(0,d.default)({},e))})},resetCondition:function(){this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.$refs.bScroll.resetPullDown()},searchList:function(e){var t=e.val,a=void 0===t?"":t;e.property;this.serachVal=a,this.resetCondition(),this.getList()},getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a={title:this.title,businessKey:this.serachVal,crtName:this.serachVal};return(0,c.getAllMsgList)({limit:this.limit,page:this.page,filter:(0,o.default)(a)}).then(function(a){var n=a.total,i=void 0===n?0:n,s=a.tasks,o=void 0===s?[]:s;a.success;o.forEach(function(e){e.status="待处理",e.transCode=e.businessKey}),e.hasNext=i>(e.page-1)*e.limit+o.length,e.listData=1===e.page?o:[].concat((0,r.default)(e.listData),(0,r.default)(o)),t||e.$nextTick(function(){e.resetScroll()})}).catch(function(t){e.resetScroll()})},getDefaultImg:function(e){var t=a("HfaK");return e&&(e.inventoryPic=t),t},resetScroll:function(){this.$refs.bScroll.finishPullDown(),this.$refs.bScroll.finishPullUp()},onPullingUp:function(){this.page++,this.getList()},onPullingDown:function(){var e=this;this.page=1,this.getList(!0).then(function(){e.$nextTick(function(){e.$refs.bScroll.finishPullDown().then(function(){e.$refs.bScroll.finishPullUp()})})})},reloadData:function(){var e=this;this.serachVal="",this.resetCondition(),this.getList().then(function(){e.$loading.hide()})}},filters:{handleCrt:function(e){var t=e.duration,a=parseInt(t/3600),n=t-3600*a,i=Math.floor(n/60),r=void 0;return r=a>0?a+"小时前":0===i?"1分钟前":i+"分钟前",a<24?r:""+e.crtTime.split(" ")[0]}},created:function(){var e=this;this.$loading.show(),this.title=this.$route.query.name,this.getList().then(function(){e.$loading.hide()})},activated:function(){var e=this,t=this.$route.meta.reload;this.title=this.$route.query.name,setTimeout(function(){var t=[].concat((0,r.default)(e.listData));t.forEach(function(e){e.visited=!1}),e.listData=t},200),t&&(this.$loading.show(),this.reloadData(),this.$route.meta.reload=!1)},beforeRouteEnter:function(e,t,a){e.meta.title=e.query.name,a()},beforeRouteLeave:function(e,t,a){"MSGHOME"===e.name&&(t.meta.reload=!0),a()}}},rLLt:function(e,t){},rNne:function(e,t,a){"use strict";function n(e){a("GVQp")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("0LX9");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("uJmp"),o=a.n(s),l=a("vFlB"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-06caa7c6",null);t.default=c.exports},rOS6:function(e,t,a){"use strict";function n(e){a("l+cX")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("qni/");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("eoI8"),o=a.n(s),l=a("ts1B"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-6dfbd100",null);t.default=c.exports},rQbX:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("a3Yh"),o=n(s),l=a("3cXf"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("7g+Q"),C=n(p),_=a("PzEQ"),y=n(_),b=a("jnZd"),g=n(b),w=a("u28h"),I=n(w),x=a("kNGm"),D=n(x),P=a("iR2W"),k=n(P),S=a("0AQX"),T=a("HyXB"),L=(a("jLp1"),a("bKg5")),N=n(L),M=a("wuIh"),A=n(M),O=a("CKaN"),R=n(O),j=a("vl8n"),$=n(j),B=a("+WR7"),E=n(B),F=a("zWMP"),U=a("Qg39");t.default={mixins:[N.default],components:{Cell:c.default,Group:m.default,Popup:C.default,XInput:v.default,XTextarea:y.default,PopupPicker:g.default,RPicker:$.default,PopBaseinfo:E.default,PopMoneyOrderList:A.default,Datetime:I.default,PopCashList:R.default},data:function(){return{listId:"bb9ce973-2f62-4707-a54c-7e8605dc99d6",biReferenceId:"",selectedCost:[],costIndex:0,transCode:"",formData:{biComment:"",biProcessStatus:""},showOrder:!1,orderList:[],cashInfo:{}}},computed:{tdAmount:function(){var e=0;return this.orderList.forEach(function(t){t.thenAmntBal&&(e=(0,F.accAdd)(e,t.thenAmntBal))}),(0,U.toFixed)(e)}},filters:{numberComma:k.default,dateFormat:D.default},methods:{submitOrder:function(){var e=this,t="",a=[],n=[{key:"cashingDiscountDate",message:"请选择兑现贴现日"}];if(t||this.orderList.length||(t="请选择汇票明细"),t||this.orderList.every(function(e){return n.every(function(a){return e[a.key]||0===e[a.key]||(t=a.message),!t}),a.push({tdId:e.tdId||null,draftNumber:e.draftNumber,draftType:e.draftType,accepter:e.accepter,tdAmount:e.tdAmount,draftDate:e.draftDate,draftDueDate:e.draftDueDate,cashingDiscountDate:e.cashingDiscountDate,discount:e.discount,thenAmntBal:e.thenAmntBal,comment:e.comment||""}),!t}),t||this.cashInfo.fundName||(t="请选择资金账户"),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=T.saveAndStartWf,n=(0,o.default)({},e.processCode,{businessKey:"CDTB",createdBy:(0,d.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.formData.biComment,formData:(0,d.default)((0,r.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",inPut:{dataSet:[{fundName_cashInCode:e.cashInfo.fundName,cashInCode:e.cashInfo.fundCode,cashType_cashInCode:e.cashInfo.fundType,thenAmntBal:e.cashInfo.amntBal,tdAmount:e.tdAmount}]},order:{dataSet:a},deposit:null})),wfPara:(0,d.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=T.saveAndCommitTask),e.processCode.length||(t=T.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,S.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.attachment,n=void 0===a?[]:a,i=t.listId,s=void 0===i?"":i,o=(t.biComment,t.biReferenceId),l=void 0===o?"":o,d=t.formData,u=void 0===d?{}:d;e.attachment=n,e.listId=s,e.biReferenceId=l,e.handlerDefault={handler:u.handler,handlerName:u.handlerName,handlerUnit:u.handlerUnit,handlerUnitName:u.handlerUnitName,handlerRole:u.handlerRole,handlerRoleName:u.handlerRoleName},e.formData=(0,r.default)({},e.formData,e.handlerDefault,{biComment:u.biComment,biId:u.biId,biProcessStatus:u.biProcessStatus,creator:u.creator,modifer:u.modifer});var c=u.order,f=void 0===c?{}:c,m=u.inPut,h=void 0===m?{}:m,v=f.dataSet,p=void 0===v?[]:v;e.cashInfo={fundName:h.dataSet[0].fundName_cashInCode,fundCode:h.dataSet[0].cashInCode,fundType:h.dataSet[0].cashType_cashInCode,tdAmount:h.dataSet[0].tdAmount,amntBal:h.dataSet[0].thenAmntBal},e.orderList=p,e.$loading.hide()})},hasDraftData:function(){return!!this.orderList.dealerCode&&(0,o.default)({},"DXTXCDHP_DATA",{formData:this.formData,cashInfo:this.cashInfo,orderList:this.orderList})},getRelationData:function(){},selOrder:function(e){e.forEach(function(e){e.draftDate=(0,D.default)(e.draftDate,"YYYY-MM-DD"),e.draftDueDate=(0,D.default)(e.draftDueDate,"YYYY-MM-DD"),e.tdAmount=e.amntTbMatched}),this.orderList=e,this.orderList.forEach(function(e){e.discount||(e.discount=0),e.thenAmntBal=Number((0,F.accSub)(e.tdAmount,e.discount))})},addOrder:function(){this.showOrder=!0},selCash:function(e){this.cashInfo=(0,r.default)({},e)},checkAmt:function(e,t){var a=e.discount,n=void 0===a?0:a;e.discount=Math.abs((0,U.toFixed)(n)),e.thenAmntBal=Number((0,F.accSub)(e.amntTbMatched,e.discount)),this.$set(this.orderList,t,(0,r.default)({},e))}},created:function(){var e=sessionStorage.getItem("DXTXCDHP_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.cashInfo=t.cashInfo,this.orderList=t.orderList,sessionStorage.removeItem("DXTXCDHP_DATA")}}}},rSJi:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listViewID:2366}},mixins:[i.default],methods:{},created:function(){}}},rVlw:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("a3Yh"),o=n(s),l=a("4YfN"),d=n(l),u=a("7g+Q"),c=n(u),f=a("+62G"),m=n(f),h=a("z5TY"),v=n(h),p=a("BGNQ"),C=n(p),_=a("iR2W"),y=n(_),b=a("u28h"),g=n(b),w=a("SAzG"),I=n(w),x=a("PzEQ"),D=n(x),P=a("HyXB"),k=a("bKg5"),S=n(k),T=a("7D9F"),L=n(T),N=a("i61Q"),M=n(N),A=a("FGYN"),O=n(A),R=a("F2L3"),j=n(R),$=a("vl8n"),B=n($),E=a("+WR7"),F=n(E);t.default={directives:{TransferDom:m.default},components:{Popup:c.default,Group:v.default,Cell:C.default,Datetime:g.default,XInput:I.default,XTextarea:D.default,PopWorkList:M.default,PopManagerList:L.default,PopProjectList:j.default,PopWorkGdbllList:O.default,RPicker:B.default,PopBaseinfo:F.default},data:function(){return{listId:"6ebcad8b-449c-422a-960f-53ccf98fd4ba",showWorkPop:!1,transMode:[],matterList:[],dealer:{},numMap:{},contact:{},formData:{},dealerInfo:{},workInfo:{},defaultManager:{},showProjectPop:!1,project:{},defaultProject:[]}},mixins:[S.default],filters:{numberComma:y.default},methods:{selWork:function(e){this.workInfo=(0,d.default)({tdQty:""},e)},submitOrder:function(){var e=this,t="",a=[];if(this.workInfo.transCode||(t="请选择工序"),t||this.workInfo.tdQty||(t="请填写补领料数量"),t||this.project.PROJECT_NAME||(t="请选择项目"),t)return void this.$vux.alert.show({content:t});var n={transMatchedCode:this.workInfo.transCode,proPointCode:this.workInfo.proPointCode,tdQty:this.workInfo.tdQty,transObjCode:this.workInfo.matCode,proFlowCode:this.workInfo.proFlowCode,processCode:this.workInfo.processCode,tdProcessing:this.workInfo.processing};a.push(n),this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=(P.saveAndStartWf,(0,o.default)({},e.processCode,{businessKey:"WTSK",createdBy:""}));e.isResubmit&&(t={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var n={listId:e.listId,biComment:e.formData.biComment,formData:(0,r.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,biProcessStatus:e.currentStage,order:{dataSet:a,project:e.project.PROJECT_NAME,departmentName:e.formData.handlerUnitName}})),wfPara:(0,r.default)(t)};e.isResubmit&&(P.saveAndCommitTask,n.biReferenceId=e.biReferenceId),e.processCode.length||(P.submitAndCalc,delete n.wfPara,delete n.biReferenceId),e.biReferenceId&&(n.biReferenceId=e.biReferenceId)}})},selProject:function(e){this.project=(0,d.default)({},e)},hasDraftData:function(){return!!this.workInfo.procedureName&&(0,o.default)({},"GDBLL_DATA",{workInfo:this.workInfo,project:this.project,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("GDBLL_DATA");if(e){var t=JSON.parse(e);this.workInfo=t.workInfo,this.project=t.project,this.formData=t.formData,sessionStorage.removeItem("GDBLL_DATA")}}}},rYgZ:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("div",{staticClass:"title"},[a("m-search",{attrs:{filterList:e.filterList,isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}})],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.workList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.workList,function(t,n){return a("div",{key:n,staticClass:"each-work box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"work-main"},[a("div",{staticClass:"work_top"},[a("span",{staticClass:"code_name"},[e._v("工单任务号")]),e._v(" "),a("span",{staticClass:"work_code"},[e._v(e._s(t.transCode))])]),e._v(" "),a("div",{staticClass:"work_mid vux-1px-b"},[a("div",{staticClass:"product_name"},[e._v("\n                "+e._s(t.inventoryName)),a("span",{staticClass:"symbol"},[e._v("[成品]")])]),e._v(" "),a("div",{staticClass:"product_unit"},[a("span",{staticClass:"each_unit"},[e._v("成品编码: "+e._s(t.matCode))])])]),e._v(" "),a("div",{staticClass:"work_btm"},[a("div",{staticClass:"procedure_name"},[a("span",[e._v(e._s(t.procedureName))]),e._v(" "),a("span",{staticClass:"symbol"},[e._v("[工序编码: "+e._s(t.proPointCode)+"]")])]),e._v(" "),a("div",{staticClass:"procedure_name"},[a("span",[e._v(e._s(t.technicsName))]),e._v(" "),a("span",{staticClass:"symbol"},[e._v("[工艺路线编码: "+e._s(t.proFlowCode)+"]")])]),e._v(" "),a("div",{staticClass:"procedure_unit"},[a("span",{staticClass:"each_unit"},[e._v("加工订单号: "+e._s(t.processCode))])])])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}))],1)])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},rYhG:function(e,t,a){"use strict";function n(e){a("SC/c")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("9+xF");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("3v/h"),o=a.n(s),l=a("REK/"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-544768ec",null);t.default=c.exports},rZl4:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("HXPS"),o=n(s);t.default={name:"RDropdown",props:{list:{type:Array,default:function(){return[]}},show:{type:Boolean,default:!1}},components:{Icon:o.default},data:function(){return{showDrop:!1,selItem:{}}},watch:{show:{handler:function(e){this.showDrop=e},immediate:!0},list:{handler:function(){this.selItem=this.list[0],this.$emit("on-selected",this.selItem)},immediate:!0}},methods:{dropClick:function(){this.showDrop=!this.showDrop},dropItemClick:function(e){this.selItem=(0,r.default)({},e),this.showDrop=!1,this.$emit("on-selected",this.selItem)}},created:function(){}}},rdCe:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"handle_wrapper vux-1px-t"},[e.actions.length?a("div",{staticClass:"handle_btn"},[e.actions.includes("revoke")?a("span",{staticClass:"reject",on:{click:e.revoke}},[e._v("撤回")]):e._e(),e._v(" "),e.actions.includes("disagree")?a("span",{staticClass:"reject",on:{click:e.reject}},[e._v("拒绝")]):e._e(),e._v(" "),e.actions.includes("agreement")?a("span",{staticClass:"agree",on:{click:e.agree}},[e._v("同意")]):e._e(),e._v(" "),e.actions.includes("transfer")?a("span",{staticClass:"transfer",on:{click:e.transfer}},[e._v("转办")]):e._e()]):e._e(),e._v(" "),e.actions.includes("transfer")?a("pop-user-list",{attrs:{show:e.showUserList,"default-value":e.selectedUser},on:{"sel-item":e.selUser},model:{value:e.showUserList,callback:function(t){e.showUserList=t},expression:"showUserList"}}):e._e(),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("confirm",{staticClass:"action-confirm",attrs:{title:"转办","close-on-confirm":!1},on:{"on-confirm":e.onConfirm},model:{value:e.showConfirm,callback:function(t){e.showConfirm=t},expression:"showConfirm"}},[a("div",{staticClass:"confirm-item"},[a("span",{staticClass:"title required"},[e._v("转办给: ")]),e._v(" "),a("span",[e._v(e._s(e.selectedUser.nickname))])]),e._v(" "),a("div",{staticClass:"confirm-item"},[a("span",{staticClass:"title required"},[e._v("工时: ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.transferInfo.taskTime,expression:"transferInfo.taskTime",modifiers:{number:!0}}],staticClass:"value",attrs:{type:"number"},domProps:{value:e.transferInfo.taskTime},on:{input:function(t){t.target.composing||e.$set(e.transferInfo,"taskTime",e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showTaskWarn,expression:"showTaskWarn"}],staticClass:"warn"},[e._v("请输入工时")]),e._v(" "),a("div",{staticClass:"confirm-item"},[a("span",{staticClass:"title required"},[e._v("备注: ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.transferInfo.comment,expression:"transferInfo.comment"}],staticClass:"value",attrs:{type:"text"},domProps:{value:e.transferInfo.comment},on:{input:function(t){t.target.composing||e.$set(e.transferInfo,"comment",t.target.value)}}})]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showCommentWarn,expression:"showCommentWarn"}],staticClass:"warn"},[e._v("请输入备注")])])],1)],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},rdNp:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.contactInfo,logistics:!1,payment:!1}}),e._v(" "),e.orderInfo.ticketNumber?a("div",{staticClass:"form_part"},[e._m(0),e._v(" "),a("div",{staticClass:"form_content",staticStyle:{"margin-bottom":"0.1rem"}},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"票号",cellContent:e.orderInfo.ticketNumber,textRight:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"发票类型",cellContent:e.orderInfo.invoiceType,textRight:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"发票日期",cellContent:e.orderInfo.invoiceDate,textRight:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"发票内容",cellContent:e.orderInfo.invoiceContent,textRight:""}})],1)])]):e._e(),e._v(" "),a("div",{staticClass:"form_part"},[e._m(1),e._v(" "),e._l(e.orderInfo.order.dataSet,function(t,n){return a("div",{key:n,staticClass:"form_content",class:{show_border:n!==e.orderInfo.order.dataSet.length-1}},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"出库单",cellContent:t.transMatchedCode,showTopBorder:!1,textRight:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"物料名称",cellContent:t.inventoryName_transObjCode,textRight:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"物料编码",cellContent:t.inventoryCode_transObjCode,textRight:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"待申请数量",cellContent:t.thenQtyBal,textRight:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"单价",cellContent:e._f("numberComma")(e._f("toFixed")(t.price)),textRight:"",showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次申请数量",cellContent:t.tdQty,textRight:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"金额",cellContent:e._f("numberComma")(e._f("toFixed")(t.noTaxAmount)),textRight:"",showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"税率",cellContent:t.taxRate,textRight:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"税金",cellContent:e._f("numberComma")(e._f("toFixed")(t.taxAmount)),textRight:"",showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"税价小计",cellContent:e._f("numberComma")(e._f("toFixed")(t.tdAmount)),textRight:"",showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"说明",cellContent:t.comment,textRight:""}})],1)])})],2),e._v(" "),a("div",{staticClass:"price_cell vux-1px-t"},[a("span",{staticClass:"title"},[e._v("合计:")]),e._v(" "),a("span",{staticClass:"num"},[a("span",{staticStyle:{fontSize:".12rem"}},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(e.count),3)))])]),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-xiangmu"}),a("span",{staticClass:"title"},[e._v("发票信息")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("开票列表")])])}],r={render:n,staticRenderFns:i};t.a=r},rdTW:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("iR2W"),i=function(e){return e&&e.__esModule?e:{default:e}}(n),r=a("Qg39");t.default={name:"MatterItem",props:{item:{type:Object,default:function(){return{}}},isReturnMatter:{type:Boolean,default:!1}},data:function(){return{}},filters:{numberComma:i.default,toFixed:r.toFixed},methods:{getMatterDefault:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t}}}},rewM:function(e,t,a){"use strict";function n(e){a("VjCu")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HVhx");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("L/+s"),o=a.n(s),l=a("1+gc"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-5367199e",null);t.default=c.exports},rgGk:function(e,t,a){"use strict";function n(e){a("j9lB")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3RO+");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("WsHV"),o=a.n(s),l=a("SQoh"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-7cd9292c",null);t.default=c.exports},riHU:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MgeX"),r=n(i),s=a("HzJ8"),o=n(s),l=a("IHPB"),d=n(l),u=a("3cXf"),c=n(u),f=a("4YfN"),m=n(f),h=a("3QQJ"),v=n(h),p=a("8VZL"),C=n(p),_=a("fQz5"),y=n(_),b=a("ak47"),g=n(b),w=a("Dkzh"),I=a("1KNX"),x=n(I),D=a("WJwd"),P=n(D),k=a("bBLw"),S=n(k),T=a("Z5v5");t.default={data:function(){return{listData:{},isNull:!1,tabList:[{name:"待办",status:"todo"},{name:"评论",status:"comment"},{name:"点赞",status:"praise"}],activeIndex:0,commentList:[],scrollOptions:{pullUpLoad:!0},page:1,limit:10,hasNext:!0,isClickDetail:!1}},computed:{noDataText:function(){return["暂无待办消息","暂无评论消息","暂无点赞消息"][this.activeIndex]}},components:{Badge:v.default,RScroll:x.default,TodoItem:P.default,CommentItem:S.default,Tab:C.default,TabItem:y.default},methods:{onTabClick:function(e){var t=[this.getList,this.getComment,this.getPraise];this.activeIndex=e,this.$refs.bScroll.scrollTo(0,0),this.resetCondition(),t[this.activeIndex]()},getDefaultIcon:function(e){var t=a("CYNT");return e&&(e.icon=t),t},resetCondition:function(){this.page=1,this.commentList=[],this.listData={},this.hasNext=!0},getList:function(){var e=this;return(0,w.getMsgList)().then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;if(e.$event.$emit("badgeNum",n),e.hasNext=!1,!r.length)return void(e.isNull=!0);r.forEach(function(t){e.isNull=!1,t.pic=t.icon?"/dist/"+t.icon:e.getDefaultIcon(),g.default[t.listId]&&(e.listData[t.title]?e.listData[t.title].list.push(t):e.$set(e.listData,t.title,{list:[t]}))}),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},goMsglist:function(e,t){var a=this;e.visited=!0,this.isClickDetail=!0,this.$set(this.listData,t,(0,m.default)({},e)),setTimeout(function(){a.$router.push({path:"/msglist",query:{name:t}})},200)},getNotice:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"comment",a=[{property:"type",operator:"eq",value:t}];return(0,w.getNotice)({page:this.page,limit:this.limit,filter:(0,c.default)(a)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.isNull=!r.length,e.hasNext=n>(e.page-1)*e.limit+r.length;var s=!0,l=!1,u=void 0;try{for(var c,f=(0,o.default)(r);!(s=(c=f.next()).done);s=!0){var m=c.value,h=JSON.parse(m.content);m.comment=h.content,m.commentType=h.type,m.attachment=h.attachment,m.RELATION_KEY=h.relationKey,m.pic=m.icon?"/dist/"+m.icon:e.getDefaultIcon(),m.other="list"===h.type?"@应用详情":"@实例编码: "+h.relationKey,-1!==h.parentId&&(m.comment="回复@"+h.objCreator+": "+h.content,m.reply={createrName:h.objCreator,comment:"@"+h.objCreator+" 评论: "+h.objContent}),"praise"===m.type&&(m.comment="赞了这条评论",m.reply={createrName:h.creator,comment:"@"+h.creator+": "+h.content,attachment:h.attachment})}}catch(e){l=!0,u=e}finally{try{!s&&f.return&&f.return()}finally{if(l)throw u}}return e.commentList=1===e.page?r:[].concat((0,d.default)(e.commentList),(0,d.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()}),t})},getComment:function(){return this.getNotice()},getPraise:function(){return this.getNotice("praise")},goDetail:function(e,t){var a=this,n=e.commentType,i=void 0===n?"":n,r=e.listId,s=void 0===r?"":r,o=e.listName,l=void 0===o?"":o,d=e.RELATION_KEY,u=void 0===d?"":d,c={name:l,transCode:u},f="",h="";e.listTypeID?(f=e.listTypeID,h=e.parentId,c.childId=h):f=e.parentId;var v="/detail/"+f+"/"+s;"list"===i&&(v="/appDetail/"+s,c={}),e.visited=!0,this.isClickDetail=!0,this.$set(this.commentList,t,(0,m.default)({},e)),setTimeout(function(){a.$router.push({path:v,query:c})},200)},onPullingUp:function(){this.page++,1===this.activeIndex?this.getNotice():2===this.activeIndex&&this.getPraise()},changeVisitedStatus:function(){var e=this;if(0===this.activeIndex){var t=(0,m.default)({},this.listData);(0,r.default)(t).forEach(function(e){e.visited=!1}),setTimeout(function(){e.listData=t},200)}else{var a=[].concat((0,d.default)(this.commentList));a.forEach(function(e){e.visited=!1}),setTimeout(function(){e.commentList=a},200)}this.isClickDetail=!1}},beforeRouteLeave:function(e,t,a){"/home"===e.path&&(t.meta.reload=!0),a()},created:function(){var e=this;this.$loading.show(),this.getList().then(function(){e.$loading.hide()})},activated:function(){var e=this,t=this.$route.meta.reload;(0,T.register)(),t?(this.listData={},this.activeIndex=0,this.$loading.show(),this.getList().then(function(){e.$loading.hide()}),this.$route.meta.reload=!1):this.isClickDetail&&this.changeVisitedStatus()}}},rlKI:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("HzJ8"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("PKHo"),f=n(c),m=a("zWMP"),h=a("BUFe"),v=n(h),p=a("AupE"),C=n(p),_=a("sUbJ"),y=n(_),b=a("FlCz"),g=n(b),w=a("d7ck"),I=n(w),x=a("MVgC"),D=n(x),P=a("hPJo"),k=n(P);t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",orderList:{},basicInfo:{},DuplicateBoms:[],UniqueBom:[],bomPopShow:!1,bom:{},warehouseIn:{},warehouseOut:{}}},mixins:[u.default,f.default],components:{workFlow:C.default,RAction:v.default,MatterItem:y.default,BomList:g.default,FormCell:I.default,BomPop:D.default,WarehouseContent:k.default},watch:{DuplicateBoms:{handler:function(e){var t=function(e,t){return e.inventoryCode===t.inventoryCode};this.UniqueBom=function(e){return e.reduce(function(e,a){return e.some(function(e){var n=t(e,a);return n&&(e.tdQty=(0,m.accAdd)(e.tdQty,a.tdQty)),n})||e.push(a),e},[])}(this.DuplicateBoms)}}},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},checkBom:function(e){this.bom=e,this.bomPopShow=!0},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u={};s.order;e.attachment=d;var c=s.inPut,f=void 0===c?{}:c,h=f.dataSet,v=!0,p=!1,C=void 0;try{for(var _,y=(0,o.default)(h);!(v=(_=y.next()).done);v=!0){var b=_.value;if(b.inventoryPic=b.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+b.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),b.boms){var g=!0,w=!1,I=void 0;try{for(var x,D=(0,o.default)(b.boms);!(g=(x=D.next()).done);g=!0){var P=x.value;P.inventoryCode=P.transObjCode,P.warehouseName=P.warehouseName_containerCodeOut,P.warehouseCode=P.containerCodeOut,P.qtyStock=P.thenQtyStock,P.tdQty=(0,m.accMul)(P.bomQty,b.tdQty,1+P.bomSpecificLoss)}}catch(e){w=!0,I=e}finally{try{!g&&D.return&&D.return()}finally{if(w)throw I}}e.DuplicateBoms=e.DuplicateBoms.concat(JSON.parse((0,r.default)(b.boms)))}u[b.transMatchedCode]||(u[b.transMatchedCode]=[]),u[b.transMatchedCode].push(b)}}catch(e){p=!0,C=e}finally{try{!v&&y.return&&y.return()}finally{if(p)throw C}}e.warehouseIn={warehouseCode:f.containerCode,warehouseName:f.warehouseName_containerCode,warehouseAction:"入库",warehouseIcon:"icon-ruku",warehouseType:f.warehouseType_containerCode,warehouseProvince:f.warehouseProvince_containerCode,warehouseCity:f.warehouseCity_containerCode,warehouseDistrict:f.warehouseDistrict_containerCode,warehouseAddress:f.warehouseAddress_containerCode},e.warehouseOut={warehouseCode:f.containerCodeOut,warehouseName:""+f.warehouseName_containerCodeOut,warehouseAction:"出库",warehouseIcon:"icon-chuku",warehouseType:f.warehouseType_containerCodeOut,warehouseProvince:f.warehouseProvince_containerCodeOut,warehouseCity:f.warehouseCity_containerCodeOut,warehouseDistrict:f.warehouseDistrict_containerCodeOut,warehouseAddress:f.warehouseAddress_containerCodeOut},e.orderList=u,e.orderInfo=s,e.workFlowInfoHandler()})}}}},rnuS:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"matter_item"},[a("div",{staticClass:"mater_img"},[a("img",{attrs:{src:e.item.inventoryPic,alt:"mater_img"},on:{error:function(t){e.getMatterDefault(e.item)}}})]),e._v(" "),a("div",{staticClass:"mater_main"},[a("div",{staticClass:"mater_name"},[e._v("\n      "+e._s(e.item.inventoryName_transObjCode||e.item.facilityName_facilityObjCode||"该物料未获取到名称，请检查物料信息。")+"\n    ")]),e._v(" "),a("div",{staticClass:"mater_info"},[a("span",{staticClass:"info-item"},[e._v("\n        编码: "+e._s(e.item.transObjCode||e.item.facilityObjCode||"无")+"\n      ")]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("\n        规格: "+e._s(e.item.specification_transObjCode||e.item.specification_outPutMatCode||e.item.facilitySpecification_facilityObjCode||"无")+"\n      ")])]),e._v(" "),e._t("other",[a("div",{staticClass:"mater_other"},[e.item.tdQty?a("div",{staticClass:"mater_num"},[e.isReturnMatter?a("span",[a("span",{staticClass:"num"},[e._v("退货单价: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(e.item.price),3)))]),e._v(" "),a("span",{staticClass:"num"},[e._v("退货数量: "+e._s(e._f("toFixed")(e.item.tdQty)))])]):a("span",[a("span",{staticClass:"num"},[e._v("单价: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(e.item.price),3)))]),e._v(" "),a("span",{staticClass:"num"},[e._v("数量: "+e._s(e._f("toFixed")(e.item.tdQty)))])]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.item.taxRate,expression:"item.taxRate"}]},[e._v("税率: "+e._s(e.item.taxRate))])]):e._e(),e._v(" "),e.item.priceType||""===e.item.priceType?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(e.item.price),3))+"\n            "),a("span",{staticClass:"num"},[e._v("[类型: "+e._s(e.item.priceType||"无")+"]")])])]):a("div",{staticClass:"mater_price"},[a("span",[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(e.item.tdAmount),3)))]),e._v(" "),e.item.taxRate?a("span",{staticClass:"num",style:{display:e.item.tdAmount&&e.item.tdAmount.toString().length>=7?"block":""}},[e._v("\n            [金额: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(e.item.noTaxAmount),3))+" + 税金: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(e.item.taxAmount),3))+"]\n          ")]):e._e()])])],{item:e.item})],2)])},i=[],r={render:n,staticRenderFns:i};t.a=r},rw1S:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",class:{dashboard:e.chartShow},attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},[e.chartShow?a("apply-chart"):a("div",{staticClass:"list"},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}))],1)],1),e._v(" "),!e.chartShow&&e.action.add?a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},rxOo:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("St0H");t.default={name:"x-button",props:{type:{default:"default"},disabled:Boolean,mini:Boolean,plain:Boolean,text:String,actionType:String,showLoading:Boolean,link:[String,Object],gradients:{type:Array,validator:function(e){return 2===e.length}}},methods:{onClick:function(){!this.disabled&&(0,n.go)(this.link,this.$router)}},computed:{noBorder:function(){return Array.isArray(this.gradients)},buttonStyle:function(){if(this.gradients)return{background:"linear-gradient(90deg, "+this.gradients[0]+", "+this.gradients[1]+")",color:"#FFFFFF"}},classes:function(){return[{"weui-btn_disabled":!this.plain&&this.disabled,"weui-btn_plain-disabled":this.plain&&this.disabled,"weui-btn_mini":this.mini,"vux-x-button-no-border":this.noBorder},this.plain?"":"weui-btn_"+this.type,this.plain?"weui-btn_plain-"+this.type:"",this.showLoading?"weui-btn_loading":""]}}}},"s+NT":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"BomList",props:{boms:{type:Array,default:function(){return[]}}}}},"s+vp":function(e,t){},s5eW:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("5YEj");t.default={data:function(){return{toggle:!1,chartList:["饼状","线性","柱状"],option:{},activeIndex:0,chart:null}},methods:{changeTip:function(e){this.activeIndex=e,0===e?this.option={title:{itemGap:20,top:20,x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",bottom:20,left:20,selectedMode:!1,data:["直接访问","邮件营销","联盟广告","视频广告","搜索引擎"]},series:[{name:"访问来源",type:"pie",radius:"50%",center:["40%","50%"],data:[{value:335,name:"直接访问"},{value:310,name:"邮件营销"},{value:234,name:"联盟广告"},{value:135,name:"视频广告"},{value:1548,name:"搜索引擎"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}:1===e?this.option={title:{text:"一天用电量分布",subtext:"纯属虚构",top:5,x:"center"},grid:{height:"10%"},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},xAxis:{type:"category",boundaryGap:!1,data:["00:00","01:15","02:30","03:45","05:00","06:15","07:30","08:45","10:00","11:15","12:30","13:45","15:00","16:15","17:30","18:45","20:00","21:15","22:30","23:45"]},yAxis:{type:"value",splitNumber:10,axisLabel:{margin:2,formatter:"{value} W"},axisPointer:{snap:!0}},visualMap:{show:!1,dimension:0,pieces:[{lte:6,color:"green"},{gt:6,lte:8,color:"red"},{gt:8,lte:14,color:"green"},{gt:14,lte:17,color:"red"},{gt:17,color:"green"}]},series:[{name:"用电量",type:"line",smooth:!0,data:[300,280,250,260,270,300,550,500,400,390,380,390,400,500,600,750,800,700,600,400]}]}:2===e&&(this.option={title:{text:"动态数据",subtext:"纯属虚构"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#283b56"}}},legend:{data:["最新成交价","预购队列"]},dataZoom:{show:!1,start:0,end:100},xAxis:[{type:"category",boundaryGap:!0,data:function(){for(var e=new Date,t=[],a=10;a--;)t.unshift(e.toLocaleTimeString().replace(/^\D*/,"")),e=new Date(e-2e3);return t}()},{type:"category",boundaryGap:!0,data:function(){for(var e=[],t=10;t--;)e.push(10-t-1);return e}()}],yAxis:[{type:"value",scale:!0,name:"价格",max:30,min:0,boundaryGap:[.2,.2]},{type:"value",scale:!0,name:"预购量",max:1200,min:0,boundaryGap:[.2,.2]}],series:[{name:"预购队列",type:"bar",xAxisIndex:1,yAxisIndex:1,data:function(){for(var e=[],t=10;t--;)e.push(Math.round(1e3*Math.random()));return e}()},{name:"最新成交价",type:"line",data:function(){for(var e=[],t=0;t<10;)e.push((10*Math.random()+5).toFixed(1)-0),t++;return e}()}]}),this.showPie()},showPie:function(){this.chart&&this.chart.clear(),this.chart=n.init(document.getElementById("main")),this.chart.setOption(this.option)}},mounted:function(){this.option={title:{},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{left:0,bottom:0,selectedMode:!1,data:["直接访问","邮件营销","联盟广告","视频广告","搜索引擎","其他"]},series:[{name:"访问来源",type:"pie",radius:"60%",labelLine:{},center:["50%","50%"],data:[{value:335,name:"直接访问"},{value:310,name:"邮件营销"},{value:234,name:"联盟广告"},{value:135,name:"视频广告"},{value:1548,name:"搜索引擎"},{value:100,name:"其他"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},this.showPie()}}},s6Hz:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("div",{staticClass:"title"},[a("m-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}})],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.matterList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.matterList,function(t,n){return a("div",{key:n,staticClass:"each_mater box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"pop-info top"},[a("span",{staticClass:"info-item"},[e._v(e._s(t.popiCode))])]),e._v(" "),a("div",{staticClass:"pop-info"},[a("span",{staticClass:"info-item"},[e._v("采购订单号: "+e._s(t.poCode))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("价税合计: "+e._s(t.thenTotalAmntBal))])]),e._v(" "),a("div",{staticClass:"pop-info"},[a("span",{staticClass:"info-item"},[e._v("已核销: "+e._s(t.thenAlreadyAmnt))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("待核销: "+e._s(t.thenAmntBal))])]),e._v(" "),a("div",{staticClass:"pop-info"},[t.accountExpirationDate||0===t.accountExpirationDate?a("span",{staticClass:"info-item"},[e._v("账期到期日: "+e._s(t.accountExpirationDate))]):e._e(),e._v(" "),t.daysOfAccount||0===t.daysOfAccount?a("span",{staticClass:"info-item"},[e._v("账期天数: "+e._s(t.daysOfAccount))]):e._e(),e._v(" "),t.ageOfAging||0===t.ageOfAging?a("span",{staticClass:"info-item"},[e._v("账龄天数: "+e._s(t.ageOfAging))]):e._e()]),e._v(" "),a("div",{staticClass:"pop-info"},[t.accountRemaingDays||0===t.accountRemaingDays?a("span",{staticClass:"info-item"},[e._v("账期剩余天数: "+e._s(t.accountRemaingDays))]):e._e(),e._v(" "),a("span",{staticClass:"info-item"},[e._v("已收票: "+e._s(t.invoicing))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("待收票: "+e._s(t.invoiced))])]),e._v(" "),a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-circle-outline selIcon",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}))],1),e._v(" "),a("div",{staticClass:"count_mode vux-1px-t"},[a("span",{staticClass:"count_num"},[e._v(" "+e._s(e.tmpItems.length?"已选 "+e.tmpItems.length+" 个":"请选择")+" ")]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.cfmMater}},[e._v("确定")])])])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},sEzR:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("4YfN"),o=n(s),l=a("IHPB"),d=n(l),u=a("n0D0"),c=a("0Nk0"),f=n(c);t.default={name:"PopFacilityList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},defaultTitle:{type:String,default:"订单号"},request:{type:String,default:"0"},params:{type:Object,default:function(){return{}}},filterList:{type:Array,default:function(){return[{name:"设施名称",value:"facilityName"},{name:"设施编码",value:"facilityCode"}]}},judgeKeys:{type:Array,default:function(){return["transCode","facilityCode"]}}},components:{RPopup:f.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],listData:[],limit:100,page:1,hasNext:!0,scrollOptions:{pullUpLoad:!0},filterProperty:"",requestMethods:null}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.selItems=[].concat((0,d.default)(this.defaultValue))},immediate:!0},params:{handler:function(){this.resetCondition(),this.getList()}}},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),this.requestMethods((0,o.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,s=void 0===i?[]:i;s.forEach(function(t){t.inventoryPic=t.inventoryPic?"/H_roleplay-si/ds/download?url="+t.inventoryPic+"&width=400&height=400":e.getDefaultImg()});var o=e.$route.query.relationKey;(void 0===o?"":o)&&(e.selItems=[].concat((0,d.default)(s)),e.$emit("sel-matter",(0,r.default)(e.selItems))),e.hasNext=n>(e.page-1)*e.limit+s.length,e.listData=1===e.page?s:[].concat((0,d.default)(e.listData),(0,d.default)(s))})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.resetCondition(),this.getList()},delSelItem:function(e){this.$refs.RPopup.delSelItem(e)},onPullingUp:function(){this.page++,this.getList()},resetCondition:function(){this.listData=[],this.page=1,this.hasNext=!0},selItem:function(e){this.$emit("sel-matter",(0,r.default)(e))}},created:function(){var e=[u.getObjFacilityByType,u.getEquipmentPurchaseOrder,u.getObjFacilityByDealerCode];this.requestMethods=e[this.request],this.getList()}}},sG75:function(e,t){},sIfZ:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.title?a("div",{staticClass:"weui-cells__title",style:e.cleanStyle({color:e.titleColor}),domProps:{innerHTML:e._s(e.title)}}):e._e(),e._v(" "),e._t("title"),e._v(" "),a("div",{staticClass:"weui-cells",class:{"vux-no-group-title":!e.title},style:e.cleanStyle({marginTop:"number"==typeof e.gutter?e.gutter+"px":e.gutter})},[e._t("after-title"),e._v(" "),e._t("default")],2),e._v(" "),e.footerTitle?a("div",{staticClass:"weui-cells__title vux-group-footer-title",style:e.cleanStyle({color:e.footerTitleColor}),domProps:{innerHTML:e._s(e.footerTitle)}}):e._e()],2)},i=[],r={render:n,staticRenderFns:i};t.a=r},sMPv:function(e,t,a){"use strict";function n(e){a("sG75")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("BUVi");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("IUN9"),o=a.n(s),l=a("GkZz"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-2c964502",null);t.default=c.exports},"sPO+":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("Jwlx"),c=n(u),f=a("L6VY"),m=n(f),h=a("iR2W"),v=n(h),p=a("QHLv"),C=a("0Nk0"),_=n(C);t.default={name:"PopCashList",props:{defaultValue:{type:Object,default:function(){return{}}},required:{type:Boolean,default:!1},request:{type:String,default:"0"},params:{type:Object,default:function(){return{}}}},components:{RPopup:_.default},data:function(){return{page:1,limit:10,hasNext:!0,showDealerPop:!1,srhInpTx:"",selInfo:{},selItems:[],listData:[],scrollOptions:{pullUpLoad:!0},requestMethods:null}},watch:{defaultValue:{handler:function(){this.selInfo=(0,c.default)((0,d.default)({},this.defaultValue))},immediate:!0}},methods:{selItem:function(e){this.selInfo=(0,d.default)({},e),this.$emit("sel-item",(0,d.default)({},e))},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:"fundName"}])),this.requestMethods((0,d.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,o.default)(e.listData),(0,o.default)(r))}).catch(function(e){m.default.show({content:e.message})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()}},filters:{numberComma:v.default},created:function(){var e=[p.getEmployeeReserveFunds,p.getSupplierToPayDeposit,p.getFundCashDiscount,p.getObjFundBalByType,p.getComplexExpenseReimbursement];this.requestMethods=e[this.request],this.getList()}}},sQTm:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages nbjgdd-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-warehouse-list",{attrs:{title:"在制仓库","default-value":e.warehouseOut,isRequired:"","get-list-method":"getWareHouseType","warehouse-type":"加工车间仓"},on:{"sel-item":e.selWarehouseOut}}),e._v(" "),a("pop-warehouse-list",{attrs:{title:"入库仓库","default-value":e.warehouseIn,isRequired:"","get-list-method":"getWareHouseType","warehouse-type":"一般部门仓,个人仓,加工车间仓"},on:{"sel-item":e.selWarehouseIn}}),e._v(" "),a("div",{staticClass:"materiel_list"},[Object.keys(e.orderList).length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v("订单列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n,i){return a("div",{key:n,staticClass:"each_mater"},[t.length?a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v("加工订单号")]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]):e._e(),e._v(" "),e._l(t,function(i,r){return a("div",{key:r,class:{mater_delete:e.matterModifyClass}},[a("matter-item",{class:{"vux-1px-b":r<t.length-1},attrs:{item:i,"show-delete":e.matterModifyClass},on:{"on-modify":function(t){e.modifyMatter(i,r,n)}},nativeOn:{click:function(t){e.delClick(r,i,n)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_more"},[a("span",[e._v("可用库存: "+e._s(n.qtyStock))]),e._v(" "),a("span",[e._v("待验收余额: "+e._s(n.qtyBal))])]),e._v(" "),n.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"matter-remain"},[a("span",[e._v("本次完工入库: "+e._s(n.tdQty)+e._s(n.measureUnit))])])]):e._e()]}},{key:"edit",fn:function(t){var i=t.item;return[i.tdQty||e.matterModifyClass?e._e():a("div",{staticClass:"mater_other"},[a("div",{staticClass:"edit-tips",on:{click:function(t){e.modifyMatter(i,r,n)}}},[e._v("点击进行填写")])])]}}])}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.matterModifyClass,expression:"matterModifyClass"}],staticClass:"delete_icon",on:{click:function(t){e.delClick(r,i,n)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(i),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(i),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])])],1)})],2)}))]:[a("div",{on:{click:function(t){e.showOrderPop=!e.showOrderPop}}},[a("div",{staticClass:"title"},[e._v("订单列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择订单")]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),Object.keys(e.orderList).length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多物料")])]):e._e(),e._v(" "),a("pop-order-xqtj-list",{ref:"order",attrs:{show:e.showOrderPop,"default-value":e.orderList,"list-method":"getInProcessingStorage"},on:{"sel-matter":e.selOrder},scopedSlots:e._u([{key:"qtyBal",fn:function(t){var n=t.item;return[a("span",[e._v("待验收余额: "+e._s(n.qtyBal))])]}},{key:"qtyStock",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater-balance"},[e._v("可用余额: "+e._s(n.qtyStock)+e._s(n.measureUnit))])]}}]),model:{value:e.showOrderPop,callback:function(t){e.showOrderPop=t},expression:"showOrderPop"}})],2),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,"is-show-amount":!1},on:{"sel-confirm":e.selConfirm},scopedSlots:e._u([{key:"modify",fn:function(t){var n=t.modifyMatter;return[a("cell",{attrs:{title:"可用库存","text-align":"right",placeholder:"请填写",value:n.qtyStock}}),e._v(" "),a("cell",{attrs:{title:"待验收余额","text-align":"right",placeholder:"请填写",value:n.qtyBal}}),e._v(" "),a("x-input",{attrs:{title:"本次完工入库",type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",e._n(t))},expression:"modifyMatter.tdQty"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("本次完工入库")])])],2)]}}]),model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode"},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},sUbJ:function(e,t,a){"use strict";function n(e){a("kwkP")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("rdTW");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("47sn"),o=a.n(s),l=a("rnuS"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-238bd14e",null);t.default=c.exports},sWGj:function(e,t,a){"use strict";function n(e){a("XUWL")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("B7rM");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("K2RO"),o=a.n(s),l=a("bx48"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-4d9255c4",null);t.default=c.exports},sX8C:function(e,t,a){"use strict";function n(e){a("LVez")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("qLvx");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("oro+"),o=a.n(s),l=a("urHh"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-6f0dbd32",null);t.default=c.exports},sYiH:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"weui-cell vux-x-textarea"},[a("div",{staticClass:"weui-cell__hd"},[e.hasRestrictedLabel?a("div",{style:e.labelStyles},[e._t("restricted-label")],2):e._e(),e._v(" "),e._t("label",[e.title?a("label",{staticClass:"weui-label",class:e.labelClass,style:{width:e.$parent.labelWidth||e.labelWidth+"em",textAlign:e.$parent.labelAlign,marginRight:e.$parent.labelMarginRight},domProps:{innerHTML:e._s(e.title)}}):e._e(),e._v(" "),e.inlineDesc?a("inline-desc",[e._v(e._s(e.inlineDesc))]):e._e()])],2),e._v(" "),a("div",{staticClass:"weui-cell__bd"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],ref:"textarea",staticClass:"weui-textarea",style:e.textareaStyle,attrs:{autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,spellcheck:e.spellcheck,placeholder:e.placeholder,readonly:e.readonly,disabled:e.disabled,name:e.name,rows:e.rows,cols:e.cols,maxlength:e.max},domProps:{value:e.currentValue},on:{focus:function(t){e.$emit("on-focus")},blur:function(t){e.$emit("on-blur")},input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showCounter&&e.max,expression:"showCounter && max"}],staticClass:"weui-textarea-counter",on:{click:e.focus}},[a("span",[e._v(e._s(e.count))]),e._v("/"+e._s(e.max)+"\n    ")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},sZ9E:function(e,t,a){"use strict";function n(e){a("NCDs")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("SDx5");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("qy1N"),o=a.n(s),l=a("P2hJ"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-c07733e0",null);t.default=c.exports},sb2V:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2312,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[i.default],methods:{},created:function(){}}},sc5v:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages xsbj-list-conatiner",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("just-word-item",{key:n,attrs:{item:t,noCount:""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}))],1),e._v(" "),e.action.add?a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},sfuF:function(e,t){},sk0R:function(e,t,a){"use strict";function n(e){a("BniI")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("zRbv");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Z3gt"),o=a.n(s),l=a("Caio"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-758e9782",null);t.default=c.exports},sy2r:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("0w+U"),c=a("MjAd"),f=n(c);t.default={mixins:[f.default],data:function(){return{listStatus:[{name:"全部",status:""},{name:"使用中",status:"1"},{name:"未使用",status:"2"},{name:"停用",status:"-1"}],filterList:[{name:"公司名称",value:"groupName"},{name:"公司简称",value:"groupShortName"}]}},methods:{tabClick:function(e,t){this.activeIndex=t,this.activeTab=e.status,this.resetCondition(),this.getList()},RouterChange:function(e,t,a){var n=this;if(!this.clickVisited){var i=e.groupId,r=this.$route.query.name;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,d.default)({},e)),setTimeout(function(){n.clickVisited=!1,n.$router.push({path:a,query:{name:r,groupId:i}})},200)}},EditCompany:function(e,t){var a=this.$route.params,n=a.fileId,i=a.listId;this.RouterChange(e,t,"/fillForm/"+n+"/"+i)},goDetail:function(e,t){var a=this.$route.params,n=a.fileId,i=a.listId;this.RouterChange(e,t,"/detail/"+n+"/"+i)},getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=[],n=[{property:"crtTime",direction:"DESC"}];return this.activeTab&&(a=[{operator:"in",property:"status",value:this.activeTab}]),this.serachVal&&(a=[].concat((0,o.default)(a),[{operator:"like",value:this.serachVal,property:this.filterProperty}])),(0,u.getCompany)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,sort:(0,r.default)(n),filter:(0,r.default)(a)}).then(function(a){var n=a.dataCount,i=void 0===n?0:n,r=a.tableContent,s=void 0===r?[]:r;e.$emit("input",!1),s.forEach(function(t){e.setStatus(t)}),e.hasNext=i>(e.page-1)*e.limit+s.length,e.listData=1===e.page?s:e.listData.concat(s),t||e.$nextTick(function(){e.resetScroll()}),e.$loading.hide()}).catch(function(t){e.resetScroll()})}}}},"t+5K":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages fgysqk-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{"default-value":e.dealerInfo},on:{"sel-item":e.selDealer}},[a("template",{slot:"other"},[a("div",{staticClass:"amt-dealer"},[a("span",{staticClass:"amt-dealer-item"},[e._v("申请金额: "+e._s(e.applicationAmount))]),e._v(" "),a("span",{staticClass:"amt-dealer-item"},[e._v("本次支付: "+e._s(e.tdAmountCopy1))]),e._v(" "),a("span",{staticClass:"amt-dealer-item"},[e._v("本次支付后余额: "+e._s(e.differenceAmount))])])])],2),e._v(" "),a("div",{staticClass:"materiel_list"},[e.orderList.length?[a("div",{staticClass:"title"},[e._v("欠款明细")]),e._v(" "),e._l(e.orderList,function(t,n){return a("div",{key:n,staticClass:"order-detail",class:{"vux-1px-t":0!==n}},[a("div",{staticClass:"detail-item top"},[a("span",{staticClass:"info-item"},[e._v(e._s(t.popiCode))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"info-item"},[e._v("采购订单号: "+e._s(t.poCode))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("价税合计: "+e._s(t.thenTotalAmntBal))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"info-item"},[e._v("已核销: "+e._s(t.thenAlreadyAmnt))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("待核销: "+e._s(t.thenAmntBal))])]),e._v(" "),a("div",{staticClass:"detail-item"},[t.accountExpirationDate||0===t.accountExpirationDate?a("span",{staticClass:"info-item"},[e._v("账期到期日: "+e._s(t.accountExpirationDate))]):e._e(),e._v(" "),t.daysOfAccount||0===t.daysOfAccount?a("span",{staticClass:"info-item"},[e._v("账期天数: "+e._s(t.daysOfAccount))]):e._e(),e._v(" "),t.ageOfAging||0===t.ageOfAging?a("span",{staticClass:"info-item"},[e._v("账龄天数: "+e._s(t.ageOfAging))]):e._e()]),e._v(" "),a("div",{staticClass:"detail-item"},[t.accountRemaingDays||0===t.accountRemaingDays?a("span",{staticClass:"info-item"},[e._v("账期剩余天数: "+e._s(t.accountRemaingDays))]):e._e(),e._v(" "),a("span",{staticClass:"info-item"},[e._v("已收票: "+e._s(t.invoicing))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("待收票: "+e._s(t.pendingTicket||t.invoiced))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"info-item"},[e._v("本次支付后余额: "+e._s(t.differenceAmount))])]),e._v(" "),a("x-input",{attrs:{title:"本次申请支付","text-align":"right",placeholder:"请填写",type:"number"},on:{"on-blur":function(a){e.checkAmt(t,"applicationAmount")},"on-focus":function(t){e.getFocus(t)}},model:{value:t.applicationAmount,callback:function(a){e.$set(t,"applicationAmount",e._n(a))},expression:"item.applicationAmount"}}),e._v(" "),a("x-input",{attrs:{title:"本次支付","text-align":"right",placeholder:"请填写",type:"number"},on:{"on-blur":function(a){e.checkAmt(t,"tdAmount")},"on-focus":function(t){e.getFocus(t)}},model:{value:t.tdAmount,callback:function(a){e.$set(t,"tdAmount",e._n(a))},expression:"item.tdAmount"}})],1)})]:a("div",{staticClass:"order-info",on:{click:function(t){e.showOrder=!0}}},[a("div",{staticClass:"title"},[e._v("欠款明细")]),e._v(" "),a("div",{staticClass:"mode"},[e._v("请选择欠款明细")]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r-arrow"})])],2),e._v(" "),e.orderList.length?a("div",{staticClass:"handle_part vx-1px-t"},[e.orderList.length?a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多")]):e._e()]):e._e(),e._v(" "),a("pop-cash-list",{attrs:{"default-value":e.cashInfo},on:{"sel-item":e.selCash}},[a("template",{slot:"other"},[a("x-input",{staticClass:"amt-cash",attrs:{title:"本次支付","text-align":"right",placeholder:"请填写",type:"number"},on:{"on-blur":function(t){e.checkAmt("tdAmount")},"on-focus":function(t){e.getFocus(t)}},model:{value:e.cashInfo.tdAmount,callback:function(t){e.$set(e.cashInfo,"tdAmount",e._n(t))},expression:"cashInfo.tdAmount"}})],1)],2),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"其他信息"}},[a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-order-list",{attrs:{show:e.showOrder,params:e.dealerParams,"default-value":e.orderList},on:{"sel-item":e.selOrder},model:{value:e.showOrder,callback:function(t){e.showOrder=t},expression:"showOrder"}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},t2f1:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("4XVd"),o=a("1KNX"),l=n(o),d=a("xCct"),u=n(d),c=a("z7Zk"),f=n(c);t.default={name:"comment",components:{RScroll:l.default,CommentItem:u.default,REmotion:f.default},data:function(){return{scrollOptions:{pullUpLoad:!0},transCode:"",commentList:[],hasNext:!0,page:1,limit:10,total:0,comment:"",parentId:-1,focusInput:!1,placeholder:"添加评论...",listId:"",showEmotion:!1}},methods:{onPullingUp:function(){this.page++,this.getCommentList()},getCommentList:function(){var e=this,t={transCode:this.transCode,page:this.page,limit:this.limit};return this.listId&&(t.transCode=this.listId),(0,s.getCommentList)(t).then(function(t){var a=t.allCommentNum,n=void 0===a?0:a,i=t.comment,s=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+s.length,s.forEach(function(e){e.allReply&&e.allReply.forEach(function(t,a,n){var i=e.allReply.find(function(e){return e.ID===t.PARENT_ID});i&&(t.CONTENT="@"+i.creatorName+": "+t.CONTENT)})}),e.commentList=1===e.page?s:[].concat((0,r.default)(e.commentList),(0,r.default)(s)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},onReply:function(e){this.parentId=e.ID,this.placeholder="回复"+e.creatorName+":",this.$refs.commentValue.focus()},onPraiseSuccess:function(e){e.isPraise=!1,e.praiseNum++},tagFilter:function(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")},saveComment:function(){var e=this;if(!this.comment)return void this.$vux.toast.show({text:"评论不能为空",position:"top",width:"50%",type:"text",time:700});var t={content:this.tagFilter(this.comment),parentId:this.parentId,relationKey:this.transCode,type:"instance"};return this.listId&&(t={content:this.tagFilter(this.comment),parentId:this.parentId,relationKey:this.listId,type:"list"}),(0,s.saveComment)(t).then(function(t){var a=t.success,n=void 0===a||a;t.message;n&&(e.comment="",e.parentId=-1,e.placeholder="添加评论...",e.page=1,e.$refs.bScroll.scrollTo(0,0),e.getCommentList().then(function(){e.$loading.hide()}))})},commentFocusIn:function(e){this.$nextTick(function(){e.target.scrollIntoView()}),this.focusInput=!0,this.showEmotion=!1},commentFocusOut:function(){this.focusInput=!1},emotionSelected:function(e){this.comment+=e},emotionClickOutside:function(e){this.$refs.emotion.$el.contains(e.target)||this.$refs.emotionIcon.contains(e.target)||(this.showEmotion=!1)}},created:function(){var e=this,t=this.$route.query,a=t.transCode,n=t.listId;this.transCode=a,this.listId=n,this.$loading.show(),this.getCommentList().then(function(){e.$loading.hide()}),this.$nextTick(function(){document.addEventListener("click",e.emotionClickOutside)})},beforeDestroy:function(){document.removeEventListener("click",this.emotionClickOutside)}}},t4UV:function(e,t,a){"use strict";function n(e){a("bi1e")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("nmkt");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("f6zL"),o=a.n(s),l=a("Bvjk"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-01ceea70",null);t.default=c.exports},tAQq:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"vux-emotion"},[e._t("default")],2)},i=[],r={render:n,staticRenderFns:i};t.a=r},tHDD:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,defaultContact:e.contact},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("pop-single-select",{attrs:{title:"结算方式",data:e.transMode,value:e.dealerInfo.paymentTerm},model:{value:e.dealerInfo.paymentTerm,callback:function(t){e.$set(e.dealerInfo,"paymentTerm",t)},expression:"dealerInfo.paymentTerm"}}),e._v(" "),a("pop-single-select",{attrs:{title:"物流条款",data:e.logisticsTerm,value:e.formData.drDealerLogisticsTerms},model:{value:e.formData.drDealerLogisticsTerms,callback:function(t){e.$set(e.formData,"drDealerLogisticsTerms",t)},expression:"formData.drDealerLogisticsTerms"}}),e._v(" "),a("x-input",{staticClass:"during-date",attrs:{title:"日期期间","text-align":"right",placeholder:"请输入"},on:{"on-focus":function(t){e.getFocus(t)}},model:{value:e.formData.duringDate,callback:function(t){e.$set(e.formData,"duringDate",t)},expression:"formData.duringDate"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[e.matterList.length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v("物料列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.matterList,function(t,n){return a("div",{key:n,staticClass:"each_mater",class:{mater_delete:e.matterModifyClass,"vux-1px-b":n<e.matterList.length-1}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass},on:{"on-modify":function(a){e.modifyMatter(t,n)}},nativeOn:{click:function(a){e.delClick(t,n)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[a("div",{staticClass:"matter-more"},[a("span",{staticClass:"unit"},[e._v("属性: "+e._s(n.processing))]),e._v(" "),a("span",{staticClass:"unit"},[e._v("主计量: "+e._s(n.measureUnit))]),e._v(" "),a("span",{staticClass:"unit"},[e._v("辅助计量: "+e._s(n.assMeasureUnit))]),e._v(" "),n.taxRate?a("span",{staticClass:"mater_color"},[e._v("税率: "+e._s(n.taxRate))]):e._e()]),e._v(" "),a("div",{staticClass:"mater_more"},[a("span",{staticClass:"unit"},[e._v("辅助计量说明: "+e._s(n.assMeasureDescription))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.promDeliTime,expression:"item.promDeliTime"}]},[e._v("预期交货日: "+e._s(n.promDeliTime))])]),e._v(" "),n.price&&n.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price)+"\n                    ")]),e._v(" "),a("div",[a("r-number",{attrs:{num:n.tdQty,checkAmt:e.checkAmt},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",t)},expression:"item.tdQty"}})],1)]):e._e()]}},{key:"editPart",fn:function(t){var i=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:i.price&&i.tdQty&&!e.matterModifyClass,expression:"(item.price && item.tdQty) &&!matterModifyClass"}],staticClass:"edit-part vux-1px-l",on:{click:function(t){e.modifyMatter(i,n)}}},[a("span",{staticClass:"iconfont icon-bianji1"})])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(t,n)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)}))]:[a("div",{staticClass:"no-matter",on:{click:e.getMatter}},[a("div",{staticClass:"title"},[e._v("物料列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择物料")]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),e.matterList.length?a("span",{staticClass:"add_more",on:{click:e.addMatter}},[e._v("新增更多物料")]):e._e()]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showMaterielPop,"get-list-method":"getInventoryToProcessing","default-value":e.matterList,params:e.matterParams},on:{"sel-matter":e.selMatter},model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}})],2),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,"show-date-time":!0},on:{"sel-confirm":e.selConfirm},scopedSlots:e._u([{key:"date",fn:function(t){var n=t.modifyMatter;return[a("datetime",{attrs:{title:"预期交货日",placeholder:"请选择"},model:{value:n.promDeliTime,callback:function(t){e.$set(n,"promDeliTime",t)},expression:"modifyMatter.promDeliTime"}})]}}]),model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num",class:{nine_up:e.tdAmount.length>8,ten_up:e.tdAmount.length>9,ele_up:e.tdAmount.length>10}},[a("span",{staticClass:"total_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.tdAmount,3))+"\n      ")]),e._v(" "),a("span",{staticClass:"taxAmount"},[e._v("[含税: ￥"+e._s(e._f("numberComma")(e.taxAmount,3))+"]")])]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},tHsJ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("iR2W"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"OpButton",props:{isModify:{type:Boolean,default:!1},hide:{type:Boolean,default:!1},tdAmount:{type:[String,Number],default:0},taxAmount:{type:[String,Number],default:0},allCheck:{type:Boolean,default:!1}},methods:{checkAll:function(){this.$emit("on-check-all")},submit:function(){this.$emit("on-submit")},deleteItem:function(){this.$emit("on-delete")}},filters:{numberComma:i.default}}},tLuY:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages cpxq-list-container"},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("just-word-item",{key:n,attrs:{item:t,noCount:""},nativeOn:{click:function(a){e.goDetail(t,n)}},scopedSlots:e._u([{key:"list-item",fn:function(t){var n=t.item;return[a("div",{staticClass:"content_part"},[e._v("招聘信息")]),e._v(" "),a("div",{staticClass:"other_info_part"},[a("p",{staticClass:"info_with_comment"},[e._v("申请部门: "+e._s(n.applicationDepartment))]),e._v(" "),a("p",{staticClass:"info_with_comment"},[e._v("申请岗位: "+e._s(n.applicationPost))])])]}}])})}))],1),e._v(" "),a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},tNTb:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Iu/6"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"Loading",data:function(){return{show:!1}},components:{Spinner:i.default}}},tSLf:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MjAd"),r=n(i),s=a("IsSW"),o=n(s);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2363,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"成品名称",value:"inventoryName_transObjCode"}],popShow:!1}},components:{PopAssignmentTaskWorkList:o.default},mixins:[r.default],methods:{goEdit:function(){this.popShow=!0},selTask:function(e){var t=[];e.forEach(function(e){t.push(e.colId)});var a=this.$route.query,n=a.name,i=a.childId,r=this.$route.params,s=r.fileId,o=r.listId;this.$router.push({path:"/fillform/"+s+"/"+o,query:{name:n,childId:i,orderId:t}})}}}},tSQX:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages xsbj-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{"dealer-label-name":"客户,原厂供应商,经销供应商,设施供应商,员工",dealerTitle:"往来",defaultValue:e.dealerInfo,defaultContact:e.contact},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),e._l(e.CostList,function(t,n){return a("div",{key:n,staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"资金账户"+(n+1)}},[a("cell",{attrs:{title:"资金账户名称","is-link":""},nativeOn:{click:function(a){e.getCost(n,t)}},model:{value:t.cashName,callback:function(a){e.$set(t,"cashName",a)},expression:"item.cashName"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("资金账户名称\n              ")])])],2),e._v(" "),a("cell",{attrs:{title:"资金账户大类",value:t.cashType_cashOutCode}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("资金账户大类")])])],2),e._v(" "),a("x-input",{attrs:{title:"支付金额","text-align":"right",placeholder:"请填写",type:"number"},on:{"on-focus":function(t){e.getFocus(t)},"on-blur":function(a){e.checkAmt(t)}},model:{value:t.tdAmount,callback:function(a){e.$set(t,"tdAmount",e._n(a))},expression:"item.tdAmount"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("支付金额\n              ")])])],2)],1)],1)}),e._v(" "),a("div",{staticClass:"add_more"},[e._v("\n        您还需要添加新的报销?请点击\n        "),a("span",{staticClass:"add",on:{click:e.addCost}},[e._v("新增")]),e._v(" "),a("em",{directives:[{name:"show",rawName:"v-show",value:e.CostList.length>1,expression:"CostList.length>1"}]},[e._v("或")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.CostList.length>1,expression:"CostList.length>1"}],staticClass:"delete",on:{click:e.deleteCost}},[e._v("删除")])]),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"其他信息"}},[a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-fund-list",{ref:"matter",attrs:{show:e.showCostPop,defaultValue:e.selectedCost},on:{"sel-matter":e.selMatter},model:{value:e.showCostPop,callback:function(t){e.showCostPop=t},expression:"showCostPop"}})],2)]),e._v(" "),a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num"},[a("span",{staticStyle:{fontSize:".14rem"}},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.totalAmount,3))+"\n    ")]),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"count_btn stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},tVsm:function(e,t,a){e.exports=a.p+"static/img/contact_default02.995b130.png"},tYFW:function(e,t){},tZbj:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("bFc7"),p=n(v),C=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",contactInfo:{}}},mixins:[u.default],components:{workFlow:h.default,RAction:f.default,contactPart:p.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=!0,i=!1,s=void 0;try{for(var l,d=(0,r.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;e.count=(0,C.accAdd)(e.count,u.tdAmount)}}catch(e){i=!0,s=e}finally{try{!n&&d.return&&d.return()}finally{if(i)throw s}}t.formData.invoiceDate=(0,o.default)(t.formData.invoiceDate,"YYYY-MM-DD"),e.orderInfo=t.formData,e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo={dealerName:a.dealerName_dealerCodeCredit,dealerContactPersonName:t.dealerCreditContactPersonName,dealerMobilePhone:t.dealerCreditContactInformation,dealerCode:a.dealerCodeCredit,province:a.province_dealerCodeCreditt,city:a.city_dealerCodeCreditt,county:a.county_dealerCodeCredit,address:a.address_dealerCodeCredit}}}}},thiw:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("a3Yh"),o=n(s),l=a("KH7x"),d=n(l),u=a("Q+Ik"),c=n(u),f=a("3cXf"),m=n(f),h=a("BGNQ"),v=n(h),p=a("z5TY"),C=n(p),_=a("SAzG"),y=n(_),b=a("PzEQ"),g=n(b),w=a("u28h"),I=n(w),x=a("jnZd"),D=n(x),P=a("jLp1"),k=a("bKg5"),S=n(k),T=a("JUuq"),L=n(T),N=a("vl8n"),M=n(N),A=a("+WR7"),O=n(A),R=a("Qg39"),j=a("zWMP");t.default={mixins:[S.default],components:{Cell:v.default,Group:C.default,XInput:y.default,Datetime:I.default,XTextarea:g.default,PopNameList:L.default,PopupPicker:D.default,RPicker:M.default,PopBaseinfo:O.default},data:function(){return{listId:"0281f8eb-f1d2-415c-b566-756fc749ccb3",projectTypes:[["设计类","协调类","执行类"]],planModel:{taskName:"",taskType:"",taskTypes:[],comment:"",deadline:"",cycleDays:"",planTime:"",jobRate:"",budgetHomeworkCost:""},projectPlan:[],formData:{biProcessStatus:"",biComment:""},formDataComment:"",project:{}}},methods:{addPlan:function(){var e=(0,m.default)(this.planModel);this.projectPlan.push(JSON.parse(e))},delatePlan:function(){this.projectPlan.pop()},typeTask:function(e,t){t.taskType=e[0]},selProject:function(e){var t=JSON.parse(e);this.project=t;var a={projectType:this.project.PROJECT_TYPE,filters:(0,m.default)([{operator:"in",property:"projectType",value:this.project.PROJECT_TYPE}])};this.getProjectBotTask(a)},getProjectBotTask:function(e){var t=this;(0,P.getProjectBotTask)(e).then(function(e){var a=e.tableContent,n=void 0===a?[]:a;n.forEach(function(e){e.taskTypes=[e.taskType]}),t.projectPlan=n})},save:function(){var e=this,t="",a=[];this.project.PROJECT_NAME||(t="请选择项目");var n={taskName:"任务名称",deadline:"截止日期"};if(t||this.projectPlan.every(function(e){return(0,c.default)(n).every(function(a){var n=(0,d.default)(a,2),i=n[0],r=n[1];return!!e[i]||(t=r+"不能为空",!1)}),a.push({budgetHomeworkCost:e.budgetHomeworkCost,comment:e.comment,cycleDays:e.cycleDays,deadline:e.deadline,jobRate:e.jobRate,planTime:e.planTime,projectType:e.projectType,taskName:e.taskName,taskType:e.taskType}),!t}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=P.saveProjectPlan,n={listId:e.listId,formData:{baseinfo:{biProcessStatus:e.formData.biProcessStatus,handlerEntity:e.entity.dealerName,creator:e.formData.handler,handler:e.formData.handler,handlerName:e.formData.handlerName,handlerRole:e.formData.handlerRole,handlerRoleName:e.formData.handlerRoleName,handlerUnit:e.formData.handlerUnit,handlerUnitName:e.formData.handlerUnitName,id:"",modifer:e.formData.handler},comment:{biComment:e.formData.biComment},projectApproval:{projectName:e.project.PROJECT_NAME,comment:e.project.COMMENT,projectManager:e.project.PROJECT_MANAGER,expectStartDate:e.project.EXPECT_START_DATE,expectEndDate:e.project.EXPECT_END_DATE},projectPlan:a}};e.saveData(t,n)}})},checkTime:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=e.planTime,i=e.jobRate;e[t]&&(e[t]=Math.abs((0,R.toFixed)(e[t],a))),"planTime"!==t&&"jobRate"!==t||(e.budgetHomeworkCost=(0,j.accMul)(Number(n),Number(i)))},hasDraftData:function(){return!!this.project.PROJECT_NAME&&(0,o.default)({},"XMJH_DATA",{project:this.project,projectPlan:this.projectPlan})},getRelationData:function(){var e=this;return(0,P.findProjectPlan)(this.relationKey).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=(t.attachment,JSON.parse((0,m.default)(n.projectApproval)));e.project={BUDGET_CAPITAL:i.budgetCapital,BUDGET_COST:i.budgetCost,BUDGET_INCOME:i.budgetIncome,BUDGET_PROFIT:i.budgetProfit,BUDGET_PROFIT_MARGIN:i.budgetProfitMargin,COMMENT:i.comment,EXPECT_END_DATE:i.expectEndDate,EXPECT_START_DATE:i.expectStartDate,ID:i.projectApprovalId,PHONE_NUMBER:i.phoneNumber,PROJECT_MANAGER:i.projectManager,PROJECT_NAME:i.projectName,PROJECT_STATUS:i.projectStatus,PROJECT_SUBCLASS:i.projectSubclass,PROJECT_TYPE:i.projectType,REFERENCE_ID:i.referenceId},e.projectPlan=n.projectPlan,e.formData=n.baseinfo,e.selProject((0,m.default)(e.project)),e.$loading.hide()})},getFormData:function(){var e=this;return(0,P.findProjectPlan)(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=(t.attachment,JSON.parse((0,m.default)(n.projectApproval)));e.project={BUDGET_CAPITAL:i.budgetCapital,BUDGET_COST:i.budgetCost,BUDGET_INCOME:i.budgetIncome,BUDGET_PROFIT:i.budgetProfit,BUDGET_PROFIT_MARGIN:i.budgetProfitMargin,COMMENT:i.comment,EXPECT_END_DATE:i.expectEndDate,EXPECT_START_DATE:i.expectStartDate,ID:i.projectApprovalId,PHONE_NUMBER:i.phoneNumber,PROJECT_MANAGER:i.projectManager,PROJECT_NAME:i.projectName,PROJECT_STATUS:i.projectStatus,PROJECT_SUBCLASS:i.projectSubclass,PROJECT_TYPE:i.projectType,REFERENCE_ID:i.referenceId},n.projectPlan.forEach(function(e){e.taskTypes=[e.taskType]}),e.projectPlan=n.projectPlan,e.handlerDefault={handler:n.baseinfo.handler,handlerName:n.baseinfo.handlerName,handlerUnit:n.baseinfo.handlerUnit,handlerUnitName:n.baseinfo.handlerUnitName,handlerRole:n.baseinfo.handlerRole,handlerRoleName:n.baseinfo.handlerRoleName},e.formData=(0,r.default)({},e.formData,e.handlerDefault,{biComment:n.baseinfo.biComment,biId:n.baseinfo.biId,biProcessStatus:n.baseinfo.biProcessStatus,creator:n.baseinfo.creator,modifer:n.baseinfo.modifer}),e.biReferenceId=n.biReferenceId,e.$loading.hide()})}},created:function(){var e=(0,m.default)(this.planModel),t=sessionStorage.getItem("XMJH_DATA");if(t){var a=JSON.parse(t);return this.project=a.project,this.projectPlan=a.projectPlan,void sessionStorage.removeItem("XMJH_DATA")}this.transCode||this.relationKey||this.projectPlan.push(JSON.parse(e))}}},tpzc:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getJsApiSignature=void 0;var n=a("GOq4"),i=function(e){return e&&e.__esModule?e:{default:e}}(n),r=t.getJsApiSignature=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return i.default.ajax({url:"/H_roleplay-si/getJsApiSignature",data:{url:e}})};t.default={getJsApiSignature:r}},trKI:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2391,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"客户名称",value:"dealerName_dealerCodeCredit"}]}},mixins:[i.default],methods:{},created:function(){}}},ts1B:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("just-word-item",{key:n,attrs:{item:t,conutTitle:"支付合计"},nativeOn:{click:function(a){e.goDetail(t,n)}},scopedSlots:e._u([{key:"list-item",fn:function(t){var n=t.item;return e._l(n.detailItem,function(t,n){return a("div",{key:n,staticClass:"each-slot-item"},[a("div",{staticClass:"top-content"},[e._v("协议号: "+e._s(t.transMatchedCode))]),e._v(" "),a("div",{staticClass:"main-content"},[a("div",{staticClass:"info_part"},[e._v("\n                总金额: ￥"+e._s(e._f("numberComma")(t.thenTotalAmntBal))+"\n              ")]),e._v(" "),a("div",{staticClass:"info_part"},[e._v("\n                采购定金: ￥"+e._s(e._f("numberComma")(t.differenceAmountCopy1))+"\n              ")]),e._v(" "),a("div",{staticClass:"info_part different_type"},[e._v("\n                本次申请: ￥"+e._s(e._f("numberComma")(t.applicationAmount))+"\n              ")])])])})}}])})}))],1),e._v(" "),e.action.add?a("div",{staticClass:" vux-1px-t btn "},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},"u+pL":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("KH7x"),r=n(i),s=a("HXPS"),o=n(s),l=a("+62G"),d=n(l),u=a("Nk/b"),c=n(u),f=a("7g+Q"),m=n(f);t.default={name:"RPicker",props:{title:{type:String,default:""},value:{type:String,default:""},data:{type:Array,default:function(){return[]}},required:{type:Boolean,default:!1},pickerStatus:{type:Boolean,default:!0},mode:{type:String,default:"1"},showArrow:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"},hasBorder:{type:Boolean,default:!0},hasBorderTop:{type:Boolean,default:!1}},data:function(){return{show:!1,currentValue:"",showValue:""}},watch:{value:{handler:function(e){this.showValue=e,this.currentValue=e?[e]:[],this.$emit("on-change",e)}}},directives:{TransferDom:d.default},components:{Picker:c.default,Popup:m.default,Icon:o.default},methods:{confirm:function(){var e=(0,r.default)(this.currentValue,1),t=e[0],a=void 0===t?"":t;this.show=!1,this.$emit("input",a)},showStatus:function(){this.pickerStatus&&!this.disabled&&(this.show=!this.show)}},created:function(){this.currentValue=[this.value],this.showValue=this.value}}},u1IZ:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=(a("HyXB"),a("MjAd")),o=n(s),l=a("zWMP");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"项目名称",value:"projectName_project"}],listViewID:2301}},mixins:[o.default],filters:{percent:function(e){return e||0===e?(0,l.accMul)(e,100)+"%":"无"}},methods:{goDetail:function(e,t){var a=this;if(!this.clickVisited){var n=e.transCode,i=this.$route.query.name,s=this.$route.params,o=s.fileId,l=s.listId;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,r.default)({},e)),setTimeout(function(){a.clickVisited=!1,a.$router.push({path:"/detail/"+o+"/"+l,query:{name:i,transCode:n}})},200)}}}}},u28h:function(e,t,a){"use strict";function n(e){a("RROt")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Mnwv");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("ucqF"),o=a.n(s),l=a("aKfH"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},u5b7:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("KH7x"),o=n(s),l=a("4YfN"),d=n(l),u=a("a3Yh"),c=n(u),f=a("3cXf"),m=n(f),h=a("BGNQ"),v=n(h),p=a("z5TY"),C=n(p),_=a("SAzG"),y=n(_),b=a("7g+Q"),g=n(b),w=a("PzEQ"),I=n(w),x=a("jnZd"),D=n(x),P=a("0AQX"),k=a("HyXB"),S=(a("jLp1"),a("bKg5")),T=n(S),L=a("55ug"),N=n(L),M=a("CKaN"),A=n(M),O=a("KR0i"),R=n(O),j=a("vl8n"),$=n(j),B=a("+WR7"),E=n(B),F=a("zWMP"),U=a("Qg39");t.default={mixins:[T.default],components:{Cell:v.default,Group:C.default,Popup:g.default,XInput:y.default,XTextarea:I.default,PopupPicker:D.default,RPicker:$.default,PopBaseinfo:E.default,PopDealerList:N.default,PopCashList:A.default,PopEarnestMoneyList:R.default},data:function(){return{listId:"7d172485-8726-4e42-b29d-ec2a716bf062",biReferenceId:"",selectedCost:[],costIndex:0,transCode:"",formData:{biComment:"",biProcessStatus:""},dealerInfo:{},showOrder:!1,dealerParams:{},orderList:[],cashInfo:{fundName_cashOutCode:"",cashOutCode:"",cashType_cashOutCode:"",thenAmntBal:0},numMap:{}}},computed:{applicationAmount:function(){var e=0;return this.orderList.forEach(function(t){t.tdAmount&&(e=(0,F.accAdd)(e,t.tdAmount))}),(0,U.toFixed)(e)},differenceAmount:function(){var e=this.dealerInfo.amntBal||0;return e=(0,F.accAdd)(e,this.applicationAmount),(0,U.toFixed)(e)}},methods:{submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerCode||(t="请选择供应商"),t||this.orderList.length||(t="请选择定金明细"),t)return void this.$vux.alert.show({content:t});this.orderList.forEach(function(t){a.push({tdId:t.tdId||"",transMatchedCode:t.transCode,thenTotalAmntBal:t.thenAmntBal,differenceAmountCopy1:t.amount,thenAlreadyAmnt:t.amnted,thenAmntBalCopy2:t.deposit,applicationAmount:t.tdAmount,tdAmountCopy1:t.tdAmount,dealerDebit:e.dealerInfo.dealerCode})}),this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=k.saveAndStartWf,n=(0,c.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,m.default)(e.formData.handler),"本次支付":e.applicationAmount});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={dealerName_dealerDebit:e.dealerInfo.nickname,dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,applicationAmount:e.applicationAmount,tdAmountCopy1:e.applicationAmount,differenceAmount:e.differenceAmount},r=(0,d.default)({},e.cashInfo,{tdAmount:e.applicationAmount});e.transCode&&(i.tdIdCopy1=e.dealerInfo.tdIdCopy1,r.tdId=e.cashInfo.tdId);var s={listId:e.listId,biComment:e.formData.biComment,formData:(0,m.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",inPut:{dataSet:[i],thenAmntBalCopy1:e.dealerInfo.amntBal},order:{dataSet:a},outPut:{dataSet:[r]}})),wfPara:(0,m.default)(n)};e.isResubmit&&(s.biReferenceId=e.biReferenceId,t=k.saveAndCommitTask),e.processCode.length||(t=k.submitAndCalc,delete s.wfPara,delete s.biReferenceId),e.biReferenceId&&(s.biReferenceId=e.biReferenceId),e.saveData(t,s)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.attachment,n=void 0===a?[]:a,i=t.listId,r=void 0===i?"":i,s=(t.biComment,t.biReferenceId),l=void 0===s?"":s,u=t.formData,c=void 0===u?{}:u;e.attachment=n,e.listId=r,e.biReferenceId=l,e.handlerDefault={handler:c.handler,handlerName:c.handlerName,handlerUnit:c.handlerUnit,handlerUnitName:c.handlerUnitName,handlerRole:c.handlerRole,handlerRoleName:c.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:c.biComment,biId:c.biId,biProcessStatus:c.biProcessStatus,creator:c.creator,modifer:c.modifer});var f=c.order.dataSet,m=void 0===f?[]:f,h=c.inPut.dataSet,v=void 0===h?[]:h,p=c.outPut.dataSet,C=void 0===p?[]:p,_=(0,o.default)(v,1),y=_[0],b=void 0===y?{}:y,g=(0,o.default)(C,1),w=g[0],I=void 0===w?{}:w;m.forEach(function(e){e.transCode=e.transMatchedCode,e.thenAmntBal=e.thenTotalAmntBal,e.amount=e.differenceAmountCopy1,e.amnted=e.thenAlreadyAmnt,e.deposit=e.thenAmntBalCopy2,e.tdAmount=e.applicationAmount}),e.dealerInfo=(0,d.default)({},b,{nickname:b.dealerName_dealerDebit,dealerCode:b.dealerDebit,dealerLabelName:b.drDealerLabel,amntBal:c.inPut.thenAmntBalCopy1}),e.cashInfo=(0,d.default)({},I),e.orderList=m,e.$loading.hide()})},hasDraftData:function(){return!!this.dealerInfo.dealerCode&&(0,c.default)({},"FGYSDJ_DATA",{formData:this.formData,dealerInfo:this.dealerInfo,orderList:this.orderList,cashInfo:this.cashInfo})},getRelationData:function(){},selDealer:function(e){this.dealerInfo=(0,d.default)({},e),this.dealerParams={dealerCode:e.dealerCode}},selOrder:function(e){var t=this,a=JSON.parse(e);a.map(function(e){var a=t.numMap[e.transCode]||{},n=a.tdAmount,i=void 0===n?e.deposit:n;e.tdAmount=i}),this.numMap={},this.orderList=a},selCash:function(e){this.cashInfo=(0,d.default)({},e)},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,r.default)(this.orderList);!(e=(n=i.next()).done);e=!0){var s=n.value;this.numMap[s.transCode]=(0,d.default)({},s)}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showOrder=!0},checkAmt:function(e,t){switch(e){case"tdAmountCopy1":this.dealerInfo.tdAmountCopy1=(0,U.toFixed)(this.dealerInfo.tdAmountCopy1);break;case"tdAmount":this.cashInfo.tdAmount=(0,U.toFixed)(this.cashInfo.tdAmount);break;default:e[t]=(0,U.toFixed)(e[t])}}},created:function(){var e=sessionStorage.getItem("FGYSDJ_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.orderList=t.orderList,this.cashInfo=t.cashInfo,this.dealerParams={dealerCode:this.dealerInfo.dealerCode},sessionStorage.removeItem("FGYSDJ_DATA")}}}},u5pD:function(e,t,a){"use strict";function n(e){a("irUB")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("/MNM");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("DOKq"),o=a.n(s),l=a("qweG"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-9fb9003c",null);t.default=c.exports},u9re:function(e,t){},uBOa:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("div",{staticClass:"title"},[a("m-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}})],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.matterList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.matterList,function(t,n){return a("div",{key:n,staticClass:"each_mater box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"pop-info top"},[a("span",{staticClass:"info-item"},[e._v(e._s(t.transCode))])]),e._v(" "),a("div",{staticClass:"pop-info"},[a("span",{staticClass:"info-item"},[e._v("采购定金: "+e._s(t.amount))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("总金额: "+e._s(t.thenAmntBal))])]),e._v(" "),a("div",{staticClass:"pop-info"},[a("span",{staticClass:"info-item"},[e._v("已付定金: "+e._s(t.amnted))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("待付定金: "+e._s(t.deposit))])]),e._v(" "),a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-circle-outline selIcon",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}))],1),e._v(" "),a("div",{staticClass:"count_mode vux-1px-t"},[a("span",{staticClass:"count_num"},[e._v(" "+e._s(e.tmpItems.length?"已选 "+e.tmpItems.length+" 个":"请选择")+" ")]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.cfmMater}},[e._v("确定")])])])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},uBQ9:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("4YfN"),o=n(s),l=a("Jwlx"),d=n(l),u=a("7g+Q"),c=n(u),f=a("+62G"),m=n(f),h=a("7biW"),v=n(h),p=a("1KNX"),C=n(p),_=a("hFVz"),y=n(_);t.default={name:"PopContactList",props:{dealerInfo:{type:Object,default:function(){return{}}},defaultValue:{type:Object,default:function(){return{}}}},directives:{TransferDom:m.default},components:{Popup:c.default,DSearch:v.default,RScroll:C.default},data:function(){return{page:1,limit:10,hasNext:!0,showDealerPop:!1,showPop:!1,srhInpTx:"",bScroll:null,contactInfo:{},dealerList:[],contactList:[],scrollOptions:{pullUpLoad:!0}}},watch:{dealerInfo:{handler:function(){this.resetCondition(),this.getContact()},immediate:!0},defaultValue:{handler:function(){this.contactInfo=(0,d.default)((0,o.default)({},this.defaultValue))},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},showSelIcon:function(e){return this.contactInfo.dealerName===e.dealerName},selContact:function(e,t){this.showPop=!1,this.contactInfo=(0,d.default)((0,o.default)({},e)),this.$emit("sel-contact",this.contactInfo)},getContact:function(){var e=this;return y.default.getContactList({dealerCode:this.dealerInfo.dealerCode,limit:this.limit,page:this.page,start:(this.page-1)*this.limit}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,s=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+s.length,e.contactList=1===e.page?s:[].concat((0,r.default)(e.contactList),(0,r.default)(s)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.contactList=[],this.page=1,this.hasNext=!0,this.getContact()},onPullingUp:function(){this.page++,this.getContact()},resetCondition:function(){this.page=1,this.hasNext=!0,this.contactList=[]}},created:function(){}}},uFvD:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.contactInfo,payment:!1,logistics:!1}}),e._v(" "),a("div",{staticClass:"form_part"},[e._m(0),e._v(" "),e._l(e.orderInfo.order.dataSet,function(t,n){return a("div",{key:n,staticClass:"form_content",class:{show_border:n!==e.orderInfo.order.dataSet.length-1}},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"资金账户名称",cellContent:t.fundName_cashOutCode,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"资金账户大类",cellContent:t.cashType_cashOutCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"支付金额",showSymbol:"",cellContent:e._f("numberComma")(e._f("toFixed")(t.tdAmount),3)}})],1)])})],2),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("账户列表")])])}],r={render:n,staticRenderFns:i};t.a=r},uHvQ:function(e,t){},uIEf:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages gdrw-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[a("div",{staticClass:"title"},[e._v("工序信息")]),e._v(" "),a("group",{staticClass:"costGroup",attrs:{"group-title-margin-top":"0"}},[a("cell",{attrs:{isLink:"",title:"工序名称"},nativeOn:{click:function(t){e.showWorkPop=!e.showWorkPop}},model:{value:e.workInfo.procedureName||"请选择",callback:function(t){e.$set(e.workInfo,"procedureName || '请选择'",t)},expression:"workInfo.procedureName || '请选择'"}}),e._v(" "),a("cell",{attrs:{title:"工单任务号",disabled:!e.workInfo.transCode},model:{value:e.workInfo.transCode,callback:function(t){e.$set(e.workInfo,"transCode",t)},expression:"workInfo.transCode"}}),e._v(" "),a("cell",{attrs:{title:"工艺路线名称",disabled:!e.workInfo.technicsName},model:{value:e.workInfo.technicsName,callback:function(t){e.$set(e.workInfo,"technicsName",t)},expression:"workInfo.technicsName"}}),e._v(" "),a("cell",{attrs:{title:"工艺路线编码",disabled:!e.workInfo.proFlowCode},model:{value:e.workInfo.proFlowCode,callback:function(t){e.$set(e.workInfo,"proFlowCode",t)},expression:"workInfo.proFlowCode"}})],1),e._v(" "),a("pop-work-gdbll-list",{attrs:{show:e.showWorkPop,defaultValue:e.workInfo},on:{"sel-work":e.selWork},model:{value:e.showWorkPop,callback:function(t){e.showWorkPop=t},expression:"showWorkPop"}})],1),e._v(" "),a("div",{staticClass:"materiel_list"},[a("div",{staticClass:"title"},[e._v("加工订单信息")]),e._v(" "),a("group",{staticClass:"costGroup",attrs:{"group-title-margin-top":"0"}},[a("cell",{attrs:{title:"加工订单号",disabled:!e.workInfo.processCode},model:{value:e.workInfo.processCode,callback:function(t){e.$set(e.workInfo,"processCode",t)},expression:"workInfo.processCode"}}),e._v(" "),a("cell",{attrs:{title:"成品名称",disabled:!e.workInfo.inventoryName},model:{value:e.workInfo.inventoryName,callback:function(t){e.$set(e.workInfo,"inventoryName",t)},expression:"workInfo.inventoryName"}}),e._v(" "),a("cell",{attrs:{title:"成品编码",disabled:!e.workInfo.matCode},model:{value:e.workInfo.matCode,callback:function(t){e.$set(e.workInfo,"matCode",t)},expression:"workInfo.matCode"}}),e._v(" "),a("x-input",{attrs:{title:"补领料数量",disabled:!e.workInfo.inventoryName,"text-align":"right",placeholder:e.workInfo.inventoryName?"请填写":""},on:{"on-focus":function(t){e.getFocus(t)}},model:{value:e.workInfo.tdQty,callback:function(t){e.$set(e.workInfo,"tdQty",t)},expression:"workInfo.tdQty"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("补领料数量")])])],2)],1)],1),e._v(" "),a("div",{staticClass:"or_ads mg_auto",on:{click:function(t){e.showProjectPop=!e.showProjectPop}}},[a("div",{staticClass:"title"},[e._v("项目名称")]),e._v(" "),e.project.PROJECT_NAME?a("div",[a("div",{staticClass:"cp_info"},[a("p",{staticClass:"cp_name"},[e._v(e._s(e.project.PROJECT_NAME))])])]):a("div",[a("div",{staticClass:"mode required"},[e._v("请选择项目名称")])]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})]),e._v(" "),a("pop-project-list",{attrs:{show:e.showProjectPop,defaultValue:e.project},on:{"sel-project":e.selProject},model:{value:e.showProjectPop,callback:function(t){e.showProjectPop=t},expression:"showProjectPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},uJmp:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("a3Yh"),o=n(s),l=a("3cXf"),d=n(l),u=a("KH7x"),c=n(u),f=a("Q+Ik"),m=n(f),h=a("4YfN"),v=n(h),p=a("z5TY"),C=n(p),_=a("SAzG"),y=n(_),b=a("PzEQ"),g=n(b),w=a("jnZd"),I=n(w),x=a("vl8n"),D=n(x),P=a("+WR7"),k=n(P),S=a("y8YJ"),T=n(S),L=a("HyXB"),N=a("0AQX"),M=a("bKg5"),A=n(M);t.default={name:"ApplyCPFBForm",data:function(){return{listId:"eb8a01a3-7a74-439b-bc44-8d58cbfa6166",formViewUniqueId:"b018ef18-f0d1-41a8-985e-29de19e6b705",formData:{biId:"",biComment:"",launchType:"",launchTitle:"",launchDescribe:"",biProcessStatus:""},biReferenceId:"",typeList:[],selectedType:[],launchTypeList:[],dealerInfo:{},contactInfo:{},uploadStyle:{}}},mixins:[A.default],components:{Group:C.default,XInput:y.default,XTextarea:g.default,PopupPicker:I.default,RPicker:D.default,PopBaseinfo:k.default,PopDealerList:T.default},methods:{selContact:function(e){this.contactInfo=(0,v.default)({},e)},selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],this.formData.launchDealerCode=this.dealerInfo.dealerCode},isSelectType:function(e){this.formData.launchType=e[0]},save:function(){var e=this,t={launchDealerCode:"客户",launchTitle:"标题",launchType:"类型",launchDescribe:"描述"};for(var a in this.formData)"string"==typeof this.formData[a]&&this.formData[a].indexOf(" ")>=0&&(this.formData[a]=this.formData[a].replace(/\s/g,""));var n="";if(!n&&(0,m.default)(t).every(function(t){var a=(0,c.default)(t,2),i=a[0],r=a[1];return!!e.formData[i]||(n=r+"不能为空",!1)}),n)return void this.$vux.alert.show({content:n});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=e.formData,a={launchDealerCode:e.dealerInfo.dealerCode,address_launchDealerCode:e.dealerInfo.address,launchDealerLabel:e.dealerInfo.dealerLabelName,dealerName_launchDealerCode:e.dealerInfo.dealerName},n={dealerDebitContactPersonName:e.contactInfo.dealerName,dealerDebitContactInformation:e.contactInfo.dealerMobilePhone},i=e.processCode.length?L.saveAndStartWf:L.submitAndCalc,r={listId:e.listId,biComment:"",formData:(0,d.default)((0,v.default)({handlerEntity:e.entity.dealerName},t,a,n)),wfPara:(0,d.default)((0,o.default)({},e.processCode,{businessKey:"RELS",createdBy:t.creator}))};e.transCode&&(i=e.processCode.length?L.saveAndCommitTask:L.updateData,r.biReferenceId=e.biReferenceId,r.wfPara=(0,d.default)({businessKey:e.transCode,createdBy:t.creator,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(i,r)}})},getFormData:function(){var e=this;return(0,N.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.biReferenceId,o=void 0===s?"":s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=t.attachment,e.biReferenceId=o,e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,v.default)({},e.formData,r,e.handlerDefault),e.$loading.hide()})},getProductType:function(){var e=this;return(0,L.getDictByType)("productRelease").then(function(t){var a=t.tableContent,n=void 0===a?[]:a,i=[],s=!0,o=!1,l=void 0;try{for(var d,u=(0,r.default)(n);!(s=(d=u.next()).done);s=!0){var c=d.value;i.push(c.name)}}catch(e){o=!0,l=e}finally{try{!s&&u.return&&u.return()}finally{if(o)throw l}}e.launchTypeList.push(i)})},hasDraftData:function(){var e=["biProcessStatus","launchTitle","launchDescribe","launchType"],t=this.formData,a=!1;if(e.every(function(e){return!t[e]||(a=!0,!1)},!0),a)return(0,o.default)({},"CPFB_DATA",{formData:this.formData,dealerInfo:this.dealerInfo,contactInfo:this.contactInfo,selectedType:this.selectedType})}},created:function(){var e=sessionStorage.getItem("CPFB_DATA");e&&(this.formData=JSON.parse(e).formData,this.dealerInfo=JSON.parse(e).dealerInfo,this.contactInfo=JSON.parse(e).contactInfo,this.selectedType=JSON.parse(e).selectedType,sessionStorage.removeItem("CPFB_DATA")),this.getProductType()}}},uKpr:function(e,t,a){"use strict";function n(e){a("ucp8")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("vrxI");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("CrUP"),o=a.n(s),l=a("CRKv"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-7e10cdac",null);t.default=c.exports},uS5Q:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"matter-list":e.orderList,listTitle:"设施列表",count:e.count},scopedSlots:e._u([{key:"matterOther",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("类型: "+e._s(n.facilityType))]),e._v(" "),a("span",[e._v("单位: "+e._s(n.facilityUnit_facilityObjCode||"无"))]),e._v(" "),a("span",[e._v("大类: "+e._s(n.facilityBigType_facilityObjCode))]),e._v(" "),a("span",[e._v("子类: "+e._s(n.facilitySubclass_facilityObjCode||"无"))])]),e._v(" "),a("div",{staticClass:"mater_num"},[a("span",{staticClass:"num"},[e._v("估计价格: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.price),3)))]),e._v(" "),a("span",{staticClass:"num"},[e._v("本次申请: "+e._s(e._f("toFixed")(n.tdQty)))])]),e._v(" "),a("div",{staticClass:"mater_price"},[a("span",[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(n.tdAmount),3))+"\n            ")])])])]}}])}),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},uX8d:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("3cXf"),o=n(s),l=a("HXPS"),d=n(l),u=a("7g+Q"),c=n(u),f=a("L6VY"),m=n(f),h=a("+62G"),v=n(h),p=a("HyXB"),C=a("1KNX"),_=n(C),y=a("7biW"),b=n(y);t.default={name:"PopSalesmanList",props:{title:{type:String,default:""},dealerLabelName:{type:String,default:"员工"},disabled:{type:Boolean,default:!1},value:{type:String,default:""},required:{type:Boolean,default:!1}},directives:{TransferDom:v.default},components:{Icon:d.default,Popup:c.default,RScroll:_.default,RSearch:b.default},data:function(){return{showPop:!1,srhInpTx:"",dealerList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},currentValue:""}},watch:{value:{handler:function(e){this.currentValue=this.value}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},showSelIcon:function(e){return e.dealerName===this.currentValue},selThis:function(e,t){var a=e.dealerName;this.showPop=!1,this.currentValue=a,this.$emit("input",a)},getDealer:function(){var e=this,t=[];return this.srhInpTx&&(t=[{operator:"like",value:this.srhInpTx,property:"dealerName"}]),(0,p.getObjDealerByLabelName)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,dealerLabelName:this.dealerLabelName,filter:(0,o.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,s=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+s.length,e.dealerList=1===e.page?s:[].concat((0,r.default)(e.dealerList),(0,r.default)(s)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})}).catch(function(e){m.default.show({content:e.message})})},onPullingUp:function(){this.page++,this.getDealer()},itemClick:function(){this.showPop=!0},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.dealerList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getDealer()}},created:function(){this.getDealer(),this.currentValue=this.value}}},ucp8:function(e,t){},ucqF:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("ZLEe"),r=n(i),s=a("HXPS"),o=n(s),l=a("Lmo3"),d=n(l),u=a("z5TY"),c=n(u),f=a("xZPP"),m=n(f),h=a("j51P"),v=n(h),p=a("kNGm"),C=n(p);t.default={name:"datetime",mixins:[v.default],components:{Group:c.default,InlineDesc:m.default,Icon:o.default},props:{format:{type:String,default:"YYYY-MM-DD",validator:function(e){return!0}},title:String,value:{type:String,default:""},inlineDesc:String,placeholder:String,minYear:Number,maxYear:Number,confirmText:String,cancelText:String,clearText:String,yearRow:{type:String,default:"{value}"},monthRow:{type:String,default:"{value}"},dayRow:{type:String,default:"{value}"},hourRow:{type:String,default:"{value}"},minuteRow:{type:String,default:"{value}"},required:{type:Boolean,default:!1},minHour:{type:Number,default:0},maxHour:{type:Number,default:23},startDate:{type:String,validator:function(e){return!e||10===e.length}},endDate:{type:String,validator:function(e){return!e||10===e.length}},valueTextAlign:String,displayFormat:Function,readonly:Boolean,hourList:Array,minuteList:Array,show:Boolean,defaultSelectedValue:String,computeHoursFunction:Function,computeDaysFunction:Function,orderMap:Object},created:function(){this.isFirstSetValue=!1,this.currentValue=this.value},data:function(){return{currentShow:!1,currentValue:null,valid:!0,errors:{}}},mounted:function(){var e=this,t=this.uuid;this.$el.setAttribute("id","vux-datetime-"+t),this.readonly||this.$nextTick(function(){e.render(),e.show&&e.$nextTick(function(){e.picker&&e.picker.show(e.currentValue)})})},computed:{styles:function(){return this.$parent?{width:this.$parent.labelWidth,textAlign:this.$parent.labelAlign,marginRight:this.$parent.labelMarginRight}:{}},pickerOptions:function(){var e=this,t={trigger:"#vux-datetime-"+this.uuid,format:this.format,value:this.currentValue,output:".vux-datetime-value",confirmText:e.getButtonText("confirm"),cancelText:e.getButtonText("cancel"),clearText:e.clearText,yearRow:this.yearRow,monthRow:this.monthRow,dayRow:this.dayRow,hourRow:this.hourRow,minuteRow:this.minuteRow,minHour:this.minHour,maxHour:this.maxHour,startDate:this.startDate,endDate:this.endDate,hourList:this.hourList,minuteList:this.minuteList,defaultSelectedValue:this.defaultSelectedValue,computeHoursFunction:this.computeHoursFunction,computeDaysFunction:this.computeDaysFunction,orderMap:this.orderMap||{},onSelect:function(t,a,n){e.picker&&e.picker.config.renderInline&&(e.$emit("input",n),e.$emit("on-change",n))},onConfirm:function(t){e.currentValue=t},onClear:function(t){e.$emit("on-clear",t)},onHide:function(t){e.currentShow=!1,e.$emit("update:show",!1),e.validate(),e.$emit("on-hide",t),"cancel"===t&&e.$emit("on-cancel"),"confirm"===t&&setTimeout(function(){e.$nextTick(function(){e.$emit("on-confirm",e.value)})})},onShow:function(){e.currentShow=!0,e.$emit("update:show",!0),e.$emit("on-show")}};return this.minYear&&(t.minYear=this.minYear),this.maxYear&&(t.maxYear=this.maxYear),t},firstError:function(){var e=(0,r.default)(this.errors)[0];return this.errors[e]},labelClass:function(){return this.$parent?{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}:{}}},methods:{getButtonText:function(e){return"cancel"===e&&this.cancelText?this.cancelText:"confirm"===e&&this.confirmText?this.confirmText:this.$el.getAttribute("data-"+e+"-text")},render:function(){var e=this;this.$nextTick(function(){e.picker&&e.picker.destroy(),e.picker=new d.default(e.pickerOptions)})},validate:function(){if(!this.currentValue&&this.required)return this.valid=!1,void(this.errors.required="必填");this.valid=!0,this.errors={}}},watch:{readonly:function(e){e?this.picker&&this.picker.destroy():this.render()},show:function(e){e!==this.currentShow&&(e?this.picker&&this.picker.show(this.currentValue):this.picker&&this.picker.hide(this.currentValue))},currentValue:function(e,t){this.$emit("input",e),this.isFirstSetValue?this.$emit("on-change",e):(this.isFirstSetValue=!0,t&&this.$emit("on-change",e)),this.validate()},startDate:function(){this.render()},endDate:function(){this.render()},format:function(e){this.currentValue&&(this.currentValue=(0,C.default)(this.currentValue,e)),this.render()},value:function(e){if(this.readonly||this.picker&&this.picker.config.renderInline)return void(this.currentValue=e);this.currentValue!==e&&(this.currentValue=e,this.render())}},beforeDestroy:function(){this.picker&&this.picker.destroy()}}},uhEK:function(e,t){},ukfH:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MjAd"),r=n(i),s=(a("vS5q"),a("4bt0")),o=n(s);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2382,chartShow:!1,hasNext:!0,scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0}}},components:{ApplyChart:o.default},mixins:[r.default],methods:{}}},ulZr:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages sj-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[a("div",{staticClass:"mater_list"},[a("div",{staticClass:"each_mater"},[a("div",{staticClass:"userInp_mode"},[a("div",{staticClass:"title"},[e._v("招聘信息")]),e._v(" "),a("group",{staticClass:"SJ_group",on:{"group-title-margin-top":function(e){}}},[a("popup-picker",{attrs:{data:e.groupList,placeholder:"请选择"},model:{value:e.formData.applicationDepartment,callback:function(t){e.$set(e.formData,"applicationDepartment",t)},expression:"formData.applicationDepartment"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("申请部门")])])],2),e._v(" "),a("popup-picker",{attrs:{data:e.roleList,placeholder:"请选择"},model:{value:e.formData.applicationPost,callback:function(t){e.$set(e.formData,"applicationPost",t)},expression:"formData.applicationPost"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("申请岗位")])])],2),e._v(" "),a("x-input",{attrs:{"text-align":"right",placeholder:"请填写",type:"number"},on:{"on-blur":function(t){e.checkAmt(e.formData.recruitmentPeople)},"on-focus":function(t){e.getFocus(t)}},model:{value:e.formData.recruitmentPeople,callback:function(t){e.$set(e.formData,"recruitmentPeople",e._n(t))},expression:"formData.recruitmentPeople"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("招聘人数")])])],2),e._v(" "),a("x-textarea",{attrs:{title:"任职要求",max:100},model:{value:e.formData.jobRequirements,callback:function(t){e.$set(e.formData,"jobRequirements",t)},expression:"formData.jobRequirements"}}),e._v(" "),a("x-textarea",{attrs:{title:"岗位描述",max:100},model:{value:e.formData.postDescription,callback:function(t){e.$set(e.formData,"postDescription",t)},expression:"formData.postDescription"}}),e._v(" "),a("x-textarea",{attrs:{title:"招聘原因",max:100},model:{value:e.formData.recruitmentReson,callback:function(t){e.$set(e.formData,"recruitmentReson",t)},expression:"formData.recruitmentReson"}}),e._v(" "),a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1)])])]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},umED:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("KH7x"),r=n(i),s=a("4YfN"),o=n(s),l=a("a3Yh"),d=n(l),u=a("3cXf"),c=n(u),f=a("BGNQ"),m=n(f),h=a("z5TY"),v=n(h),p=a("SAzG"),C=n(p),_=a("7g+Q"),y=n(_),b=a("PzEQ"),g=n(b),w=a("jnZd"),I=n(w),x=a("0AQX"),D=a("HyXB"),P=(a("jLp1"),a("bKg5")),k=n(P),S=a("55ug"),T=n(S),L=a("CKaN"),N=n(L),M=a("gk4f"),A=n(M),O=a("vl8n"),R=n(O),j=a("+WR7"),$=n(j),B=a("zWMP"),E=a("Qg39");t.default={mixins:[k.default],components:{Cell:m.default,Group:v.default,Popup:y.default,XInput:C.default,XTextarea:g.default,PopupPicker:I.default,RPicker:R.default,PopBaseinfo:$.default,PopDealerList:T.default,PopCashList:N.default,PopOrderList:A.default},data:function(){return{listId:"c930267f-66fd-4927-983b-0216ef9449b3",biReferenceId:"",selectedCost:[],costIndex:0,transCode:"",formData:{biComment:""},dealerInfo:{},showOrder:!1,dealerParams:{},orderList:[],cashInfo:{}}},computed:{applicationAmount:function(){var e=0;return this.orderList.forEach(function(t){t.applicationAmount&&(e=(0,B.accAdd)(e,t.applicationAmount))}),(0,E.toFixed)(e)},tdAmountCopy1:function(){var e=0;return this.orderList.forEach(function(t){t.tdAmount&&(t.differenceAmount=(0,B.accAdd)(t.thenAmntBal,t.tdAmount),e=(0,B.accAdd)(e,t.tdAmount))}),(0,E.toFixed)(e)},differenceAmount:function(){var e=0;return this.dealerInfo.amntBal&&(e=(0,B.accAdd)(this.tdAmountCopy1,this.dealerInfo.amntBal)),(0,E.toFixed)(e)}},methods:{submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerCode||(t="请选择供应商"),t||this.orderList.length||(t="请选择欠款明细"),t||this.orderList.every(function(e){return e.popiCode?(a.push({tdId:e.tdId||"",transMatchedCode:e.popiCode,orderCode:e.poCode,thenTotalAmntBal:e.thenTotalAmntBal,thenAlreadyAmnt:e.thenAlreadyAmnt,thenAmntBal:e.thenAmntBal,accountExpirationDate:e.accountExpirationDate,daysOfAccount:e.daysOfAccount,ageOfAging:e.ageOfAging,accountRemaingDays:e.accountRemaingDays,invoiced:e.invoicing,pendingTicket:e.invoiced,applicationAmount:e.applicationAmount,tdAmount:e.tdAmount,differenceAmount:e.differenceAmount}),!0):(t="请选择采购入库号",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=D.saveAndStartWf,n=(0,d.default)({},e.processCode,{businessKey:"FGQK",createdBy:(0,c.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={dealerName_dealerDebit:e.dealerInfo.nickname,dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,thenAmntBalCopy1:e.dealerInfo.amntBal,applicationAmount:e.applicationAmount,tdAmountCopy1:e.tdAmountCopy1,differenceAmount:e.differenceAmount},r={fundName_cashOutCode:e.cashInfo.fundName,cashOutCode:e.cashInfo.fundCode,cashType_cashOutCode:e.cashInfo.fundType,thenAmntBal:e.cashInfo.thenAmntBal,tdAmount:e.cashInfo.tdAmount};e.transCode&&(i.tdIdCopy1=e.dealerInfo.tdIdCopy1,r.tdId=e.cashInfo.tdId);var s={listId:e.listId,biComment:e.formData.biComment,formData:(0,c.default)((0,o.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",inPut:{dataSet:[i]},order:{dataSet:a},outPut:{dataSet:[r]}})),wfPara:(0,c.default)(n)};e.isResubmit&&(s.biReferenceId=e.biReferenceId,t=D.saveAndCommitTask),e.processCode.length||(t=D.submitAndCalc,delete s.wfPara,delete s.biReferenceId),e.biReferenceId&&(s.biReferenceId=e.biReferenceId),e.saveData(t,s)}})},getFormData:function(){var e=this;return(0,x.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.attachment,n=void 0===a?[]:a,i=t.listId,s=void 0===i?"":i,l=(t.biComment,t.biReferenceId),d=void 0===l?"":l,u=t.formData,c=void 0===u?{}:u;e.attachment=n,e.listId=s,e.biReferenceId=d,e.handlerDefault={handler:c.handler,handlerName:c.handlerName,handlerUnit:c.handlerUnit,handlerUnitName:c.handlerUnitName,handlerRole:c.handlerRole,handlerRoleName:c.handlerRoleName},e.formData=(0,o.default)({},e.formData,e.handlerDefault,{biComment:c.biComment,biId:c.biId,biProcessStatus:c.biProcessStatus,creator:c.creator,modifer:c.modifer});var f=c.order.dataSet,m=void 0===f?[]:f,h=c.inPut.dataSet,v=void 0===h?[]:h,p=c.outPut.dataSet,C=void 0===p?[]:p,_=(0,r.default)(v,1),y=_[0],b=void 0===y?{}:y,g=(0,r.default)(C,1),w=g[0],I=void 0===w?{}:w;m.forEach(function(e){e.popiCode=e.transMatchedCode,e.poCode=e.orderCode,e.invoicing=e.invoiced}),e.dealerInfo=(0,o.default)({},b,{nickname:b.dealerName_dealerDebit,dealerCode:b.dealerDebit,dealerLabelName:b.drDealerLabel,amntBal:b.thenAmntBalCopy1}),e.cashInfo=(0,o.default)({},I,{fundName:I.fundName_cashOutCode,fundCode:I.cashOutCode,fundType:I.cashType_cashOutCode}),e.orderList=m,e.$loading.hide()})},hasDraftData:function(){return!!this.dealerInfo.dealerCode&&(0,d.default)({},"FGYSQK_DATA",{formData:this.formData,dealerInfo:this.dealerInfo,orderList:this.orderList,cashInfo:this.cashInfo})},getRelationData:function(){},selDealer:function(e){this.dealerInfo=(0,o.default)({},e),this.dealerParams={dealerCode:e.dealerCode}},selOrder:function(e){this.orderList=JSON.parse(e),this.orderList},selCash:function(e){this.cashInfo=(0,o.default)({},e)},addOrder:function(){this.showOrder=!0},checkAmt:function(e,t){switch(e){case"tdAmount":this.cashInfo.tdAmount=(0,E.toFixed)(this.cashInfo.tdAmount);break;default:e[t]=(0,E.toFixed)(e[t])}}},created:function(){var e=sessionStorage.getItem("FGYSQK_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.orderList=t.orderList,this.cashInfo=t.cashInfo,this.dealerParams={dealerCode:this.dealerInfo.dealerCode},sessionStorage.removeItem("FGYSQK_DATA")}}}},upxC:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vux-x-dialog",class:{"vux-x-dialog-absolute":"VIEW_BOX"===e.layout}},[a("transition",{attrs:{name:e.maskTransition}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"weui-mask",style:e.maskStyle,on:{click:e.hide}})]),e._v(" "),a("transition",{attrs:{name:e.dialogTransition}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],class:e.dialogClass,style:e.dialogStyle},[e._t("default")],2)])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},uqrF:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("KH7x"),o=n(s),l=a("Jwlx"),d=n(l),u=a("kpbF"),c=a("1KNX"),f=n(c),m=a("Qg39"),h=(a("zWMP"),a("iR2W")),v=n(h);t.default={name:"ZCFZForm",data:function(){return{headerSwiper:null,partRightSwiper:null,code:"",headInfo:{},listData:{},listMap:{ZCFZ:{title:"资产负债表",firstName:"期初",LastName:"期末",request:u.getOffBalance},LR:{title:"利润表",firstName:"上期",LastName:"本期",request:u.getProfit}},scrollOptions:{bounce:{top:!1}}}},components:{RScroll:f.default},methods:{getData:function(){var e=this;return this.listMap[this.code].request().then(function(t){var a=t.data,n=void 0===a?[]:a,i={};n.forEach(function(e){var t=i[e.assetType];t?t.items.push((0,d.default)(e)):i[e.assetType]={assetType:e.assetType,items:[(0,d.default)(e)]}}),e.listData=i,e.$nextTick(function(){e.setHeight(e.$refs.partLeftContent,e.$refs.partRightInit,e.$refs.partRightFinal),"ZCFZ"===e.code&&e.setHeight(e.$refs.partLeftTitle,e.$refs.partRightInitTitle,e.$refs.partRightFinalTitle),e.$loading.hide()})})},setHeight:function(e){for(var t=arguments.length,a=Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];var i=(0,o.default)(a,1),r=i[0];e&&e.forEach(function(e,t){var n=r[t];e.clientHeight!==n.clientHeight&&a.forEach(function(a){a[t].style.height=e.clientHeight+"px"})})},initSwiper:function(){var e=this;this.$nextTick(function(){e.partRightSwiper=new e.Swiper(".part-right"),e.headerSwiper=new e.Swiper(".swiper-container-header"),e.partRightSwiper.controller.control=e.headerSwiper,e.headerSwiper.controller.control=e.partRightSwiper})}},filters:{formatNum:function(e){return e?(0,v.default)((0,m.toFixed)(e))+"元":"-"}},created:function(){var e=this.$route.query.code,t=void 0===e?"":e;this.code=t,this.headInfo=(0,r.default)({},this.listMap[t]),this.initSwiper(),this.getData()}}},urHh:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("just-word-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}},scopedSlots:e._u([{key:"list-item",fn:function(t){var n=t.item;return e._l(n.detailItem,function(t,n){return a("div",[a("div",{staticClass:"content_part"},[e._v(e._s(t.costName_expCode))]),e._v(" "),a("div",{staticClass:"other_info_part"},[a("p",{staticClass:"info_with_comment"},[e._v("费用类型: "+e._s(t.costType_expCode||"暂无"))])])])})}}])})}))],1),e._v(" "),e.action.add?a("div",{staticClass:" vux-1px-t btn "},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},uvT0:function(e,t,a){"use strict";function n(e){a("2hEc")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("9dj2");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("/TT8"),o=a.n(s),l=a("tLuY"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-11bf10e8",null);t.default=c.exports},uzoC:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HXPS"),r=n(i),s=a("9r/T"),o=a("fCs9"),l=n(o);t.default={name:"RSearch",props:{isFill:{type:Boolean,default:!1},filterList:{type:Array,default:function(){return[]}}},data:function(){return{srhInpTx:"",timer:null,property:""}},components:{Icon:r.default,RDropdown:l.default},methods:{getValue:function(e){var t=this;(0,s.setTimeout)(function(){t.srhInpTx=e.target.value,t.isFill&&!t.srhInpTx&&t.$emit("search",{val:t.srhInpTx,property:t.property})},0)},searchMat:function(e){if(this.isFill&&!e)return void this.$emit("turn-off",!1);this.$emit("search",{val:this.srhInpTx,property:this.property}),document.activeElement.blur()},clear:function(){this.srhInpTx="",this.$emit("search",{val:this.srhInpTx,property:this.property})},popSelected:function(e){this.property=e.value},clearVal:function(){this.srhInpTx=""}},created:function(){}}},"v/5J":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Iu/6"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"loading",data:function(){return{show:!1}},components:{Spinner:i.default}}},v3Wb:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("project-part",{attrs:{"project-info":e.orderInfo.order}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_part"},[e._m(0),e._v(" "),a("div",{staticClass:"form_content"},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"供应商名称",cellContent:e.dealerInfo.dealerName_dealerDebit,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"供应商编码",cellContent:e.dealerInfo.dealerDebit}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来关系标签",cellContent:e.dealerInfo.drDealerLabel}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来余额",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.thenAmntBalCopy1),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次申请",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.applicationAmount),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次支付",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.tdAmountCopy1),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次支付后余额",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.differenceAmount),3),showSymbol:""}})],1)])]),e._v(" "),a("div",{staticClass:"form_part"},[e._m(1),e._v(" "),e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"form_content",class:{show_border:n!==e.listData.length-1}},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"协议号",cellContent:t.transMatchedCode,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"总金额",cellContent:e._f("numberComma")(e._f("toFixed")(t.thenTotalAmntBal),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"采购定金",cellContent:e._f("numberComma")(e._f("toFixed")(t.differenceAmountCopy1),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"已付定金",cellContent:e._f("numberComma")(e._f("toFixed")(t.thenAlreadyAmnt),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"待付定金",cellContent:e._f("numberComma")(e._f("toFixed")(t.thenAmntBalCopy2),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次申请",cellContent:e._f("numberComma")(e._f("toFixed")(t.applicationAmount),3),showSymbol:""}}),e._v(" "),e.isAccount?a("x-input",{attrs:{type:"number",title:"本次支付",value:e.dealerInfo.tdAmountCopy1,"text-align":"right"},on:{"on-focus":e.getFocus,"on-blur":function(t){e.calcPayment(e.dealerInfo)}},model:{value:e.dealerInfo.tdAmountCopy1,callback:function(t){e.$set(e.dealerInfo,"tdAmountCopy1",e._n(t))},expression:"dealerInfo.tdAmountCopy1"}}):a("form-cell",{attrs:{cellTitle:"本次支付",cellContent:e._f("numberComma")(e._f("toFixed")(t.tdAmountCopy1),3),showSymbol:""}})],1)])})],2),e._v(" "),e.isCashier?a("pop-cash-list",{attrs:{"default-value":e.cashInfo,request:"1",params:e.cashParams,required:""},on:{"sel-item":e.selCash}},[a("template",{slot:"other"},[a("form-cell",{attrs:{cellTitle:"本次支付",cellContent:e._f("numberComma")(e._f("toFixed")(e.cashInfo.tdAmount),3),showSymbol:""}})],1)],2):e.isApproval||e.isAccount?e._e():a("div",{staticClass:"form_part"},[a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("供资金详情")])]),e._v(" "),a("div",{staticClass:"form_content"},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"资金账户",cellContent:e.cashInfo.fundName_cashOutCode,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"资金编码",cellContent:e.cashInfo.cashOutCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"资金账户类型",cellContent:e.cashInfo.cashType_cashOutCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"账户余额",cellContent:e._f("numberComma")(e._f("toFixed")(e.cashInfo.thenAmntBal),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"支付金额",cellContent:e._f("numberComma")(e._f("toFixed")(e.cashInfo.tdAmount),3),showSymbol:""}})],1)])]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,"agree-handler":e.agreeHandler,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("供应商详情")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("定金列表")])])}],r={render:n,staticRenderFns:i};t.a=r},v4O2:function(e,t,a){"use strict";function n(e){a("T4Nq")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("6B8Z");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("iC32"),o=a.n(s),l=a("En9Q"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-0c90d51b",null);t.default=c.exports},v85k:function(e,t){},v8BB:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("HyXB"),v=a("1KNX"),p=n(v),C=a("7biW"),_=n(C);t.default={name:"PopUserList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:m.default,RScroll:p.default,RSearch:_.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:100,page:1,hasNext:!0,scrollOptions:{pullUpLoad:!0},filterProperty:"",filterList:[{name:"姓名",value:"nickname"},{name:"工号",value:"userCode"}]}},watch:{show:{handler:function(e){this.showPop=e},immediate:!0},defaultValue:{handler:function(e){this.selItems=(0,d.default)({},this.defaultValue)},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){return this.selItems.userCode===e.userCode},selThis:function(e,t){this.selItems=(0,d.default)({},e),this.$emit("sel-item",(0,d.default)({},e)),this.$emit("input",!1)},getDefaultImg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.gender,n=void 0===t?"":t,i=a("男"===n?"cr7Q":"Atv/");return e&&(e.photo=i),i},getUserList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,h.getUserList)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i,s={1:{text:"使用中",class:"inUse"},2:{text:"未使用",class:"unUse"},3:{text:"草稿",class:"offUse"},"-1":{text:"停用",class:"offUse"}};r.forEach(function(t){var a=s[t.status]||{};t.photo=t.photo||e.getDefaultImg(t),t.statusText=a.text,t.statusClass=a.class}),e.hasNext=n>(e.page-1)*e.limit+r.length,e.listData=1===e.page?r:[].concat((0,o.default)(e.listData),(0,o.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.resetCondition(),this.getUserList()},onPullingUp:function(){this.page++,this.getUserList()},resetCondition:function(){this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)}},created:function(){this.getUserList()}}},vBVm:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noPrice:!0,noCount:!0},nativeOn:{click:function(a){e.goDetail(t,n)}}})}))],1),e._v(" "),e.action.add?a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},"vD/e":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("just-word-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}},scopedSlots:e._u([{key:"list-item",fn:function(t){var n=t.item;return e._l(n.detailItem,function(t,n){return a("div",{key:n,staticClass:"each-slot-item"},[a("div",{staticClass:"top-content"},[e._v("入库单号: "+e._s(t.transMatchedCode))]),e._v(" "),a("div",{staticClass:"main-content"},[a("div",{staticClass:"info_part"},[e._v("\n                本次申请: ￥"+e._s(e._f("numberComma")(t.applicationAmount))+"\n              ")]),e._v(" "),a("div",{staticClass:"info_part different_type"},[e._v("\n                本次支付: ￥"+e._s(e._f("numberComma")(t.tdAmount))+"\n              ")])])])})}}])})}))],1),e._v(" "),e.action.add?a("div",{staticClass:" vux-1px-t btn "},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},vFlB:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages cpfb-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart when-is-form"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,defaultContact:e.contactInfo},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("div",{staticClass:"materiel_list"},[a("div",{staticClass:"mater_list"},[a("div",{staticClass:"each_mater"},[a("div",{staticClass:"userInp_mode"},[a("div",{staticClass:"title"},[e._v("发布信息")]),e._v(" "),a("group",{staticClass:"CP_group",on:{"group-title-margin-top":function(e){}}},[a("x-input",{attrs:{title:"标题","text-align":"right",placeholder:"请填写"},model:{value:e.formData.launchTitle,callback:function(t){e.$set(e.formData,"launchTitle",t)},expression:"formData.launchTitle"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("标题\n                    ")])])],2),e._v(" "),a("popup-picker",{attrs:{title:"类型",data:e.launchTypeList,placeholder:"请选择"},on:{"on-change":e.isSelectType},model:{value:e.selectedType,callback:function(t){e.selectedType=t},expression:"selectedType"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("类型")])])],2),e._v(" "),a("x-textarea",{attrs:{title:"描述",max:200},model:{value:e.formData.launchDescribe,callback:function(t){e.$set(e.formData,"launchDescribe",t)},expression:"formData.launchDescribe"}}),e._v(" "),a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1)])])]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"contain-style":e.uploadStyle},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"cfm_btn",on:{click:e.save}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},vGnC:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"vux-flexbox-item",style:e.style},[e._t("default")],2)},i=[],r={render:n,staticRenderFns:i};t.a=r},vJe9:function(e,t,a){"use strict";function n(e){a("GF9j")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("aP/0");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("DQPj"),o=a.n(s),l=a("3C0u"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-31e022cb",null);t.default=c.exports},vKIB:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,"dealer-label-name":"原厂供应商,经销供应商",dealerTitle:"供应商","default-contact":e.contact},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("pop-single-select",{attrs:{title:"结算方式",data:e.transMode,value:e.dealer.drDealerPaymentTerm},model:{value:e.dealer.drDealerPaymentTerm,callback:function(t){e.$set(e.dealer,"drDealerPaymentTerm",t)},expression:"dealer.drDealerPaymentTerm"}}),e._v(" "),a("div",{staticClass:"other_info"},[a("div",{staticClass:"title"},[e._v("账期天数")]),e._v(" "),a("div",{staticClass:"mode"},[e._v(e._s(e.dealerInfo.pamentDays))])]),e._v(" "),a("pop-single-select",{attrs:{title:"物流条款",data:e.logisticsTerm,value:e.dealerInfo.dealerLogisticsTerms},model:{value:e.dealerInfo.dealerLogisticsTerms,callback:function(t){e.$set(e.dealerInfo,"dealerLogisticsTerms",t)},expression:"dealerInfo.dealerLogisticsTerms"}}),e._v(" "),a("div",{staticClass:"other_info"},[a("div",{staticClass:"title"},[e._v("协议总金额")]),e._v(" "),a("div",{staticClass:"mode"},[e._v(e._s(e._f("numberComma")(e.tdAmount)))])]),e._v(" "),a("r-date",{attrs:{title:"协议开始日",value:e.inPut.executionDate},model:{value:e.inPut.executionDate,callback:function(t){e.$set(e.inPut,"executionDate",t)},expression:"inPut.executionDate"}}),e._v(" "),a("r-date",{attrs:{title:"协议到期日",value:e.inPut.validUntil},model:{value:e.inPut.validUntil,callback:function(t){e.$set(e.inPut,"validUntil",t)},expression:"inPut.validUntil"}}),e._v(" "),a("x-input",{staticClass:"tdAmount",attrs:{type:"number",title:"预付款",value:e.inPut.tdAmountCopy1,"text-align":"right",placeholder:"请填写预付款"},model:{value:e.inPut.tdAmountCopy1,callback:function(t){e.$set(e.inPut,"tdAmountCopy1",t)},expression:"inPut.tdAmountCopy1"}}),e._v(" "),a("r-date",{attrs:{title:"预付到期日",value:e.inPut.prepaymentDueDate},model:{value:e.inPut.prepaymentDueDate,callback:function(t){e.$set(e.inPut,"prepaymentDueDate",t)},expression:"inPut.prepaymentDueDate"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[e.matterList.length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v("物料列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.matterList,function(t,n){return a("div",{key:n,staticClass:"each_mater",class:{mater_delete:e.matterModifyClass,"vux-1px-b":n<e.matterList.length-1}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass},on:{"on-modify":function(a){e.modifyMatter(t,n)}},nativeOn:{click:function(a){e.delClick(t,n)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[a("div",{staticClass:"matter-more"},[a("span",{staticClass:"unit"},[e._v("属性: "+e._s(n.processing))]),e._v(" "),a("span",{staticClass:"unit"},[e._v("主计量: "+e._s(n.measureUnit))]),e._v(" "),a("span",{staticClass:"unit"},[e._v("辅助计量: "+e._s(n.assMeasureUnit))]),e._v(" "),n.taxRate?a("span",{staticClass:"mater_color"},[e._v("税率: "+e._s(n.taxRate))]):e._e()]),e._v(" "),a("div",{staticClass:"mater_more"},[a("span",{staticClass:"unit"},[e._v("辅助计量说明: "+e._s(n.assMeasureDescription||"无"))])]),e._v(" "),n.price&&n.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price)+"\n                    ")]),e._v(" "),a("div",[a("r-number",{attrs:{num:n.tdQty,checkAmt:e.checkAmt},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",t)},expression:"item.tdQty"}})],1)]):e._e()]}},{key:"editPart",fn:function(t){var i=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:i.price&&i.tdQty&&!e.matterModifyClass,expression:"(item.price && item.tdQty) && !matterModifyClass"}],staticClass:"edit-part vux-1px-l",on:{click:function(t){e.modifyMatter(i,n)}}},[a("span",{staticClass:"iconfont icon-bianji1"})])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(t,n)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)}))]:[a("div",{on:{click:function(t){e.showMaterielPop=!e.showMaterielPop}}},[a("div",{staticClass:"title"},[e._v("物料列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择物料")]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),e.matterList.length?a("span",{staticClass:"add_more",on:{click:e.addMatter}},[e._v("新增更多物料")]):e._e()]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showMaterielPop,"default-value":e.matterList,params:e.matterParams,"get-list-method":"getInventoryToProcessing",isShowCode:!1},on:{"sel-matter":e.selMatter},model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}})],2),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,"is-check-stock":!1},on:{"sel-confirm":e.selConfirm},model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num"},[a("span",{staticStyle:{fontSize:".14rem"}},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.tdAmount,3))+"\n      "),a("span",{staticClass:"taxAmount"},[e._v("[含税: ￥"+e._s(e._f("numberComma")(e.taxAmount,3))+"]")])]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},vS5q:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.filterFields=t.getWareHouseType=t.getWarehouse=t.getAuthorizedList=t.getDashboard=t.getNBJGLLOrderList=t.getBusinessList=t.getMaterOrderList=t.getSalesOrderList=t.getSellOrderList=t.getList=void 0;var i=a("4YfN"),r=n(i),s=a("GOq4"),o=n(s),l=t.getList=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.ajax({url:"/H_roleplay-si/seconds/getReportInfoByListViewId/"+e,data:t})},d=t.getSellOrderList=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.default.ajax({url:"/H_roleplay-si/seconds/mergeDetailItemList/"+e,data:t})},u=(t.getSalesOrderList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getSalesOutStock",data:(0,r.default)({_dc:Date.now()},e)})},t.getMaterOrderList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getInvRequirePlan",data:(0,r.default)({_dc:Date.now()},e)})},t.getBusinessList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getFilterBusiness",data:e})}),c=(t.getNBJGLLOrderList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getProcessingPicking",data:e})},t.getDashboard=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getSellOrderStatement",data:e})});t.getAuthorizedList=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.default.ajax({url:"/H_roleplay-si/ds/getAllGroup",data:{_dc:Date.now(),page:1,start:0,limit:1e4}})},t.getWarehouse=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getObjWarehouse",data:(0,r.default)({_dc:Date.now()},e)})},t.getWareHouseType=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.default.ajax({url:"/H_roleplay-si/ds/getWareHouseType",data:(0,r.default)({_dc:Date.now()},e)})},t.filterFields=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return o.default.ajax({url:"/H_roleplay-si/seconds/getInstanceDistinct/"+e})};t.default={getList:l,getSellOrderList:d,getBusinessList:u,getDashboard:c}},"vT2+":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("kKsb"),p=n(v),C=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70"}},mixins:[u.default],components:{workFlow:h.default,RAction:f.default,ProjectPart:p.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=!0,i=!1,s=void 0;try{for(var l,d=(0,r.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;e.count=(0,C.accAdd)(e.count,u.tdAmount)}}catch(e){i=!0,s=e}finally{try{!n&&d.return&&d.return()}finally{if(i)throw s}}t.formData.validUntil=(0,o.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},"vW/T":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("hRKE"),r=n(i),s=a("4YfN"),o=n(s),l=a("BGNQ"),d=n(l),u=a("7g+Q"),c=n(u),f=a("rDF8"),m=n(f),h=a("GM4P"),v=n(h),p=a("803w"),C=n(p),_=a("+62G"),y=n(_),b=a("qZvt"),g=n(b),w=(0,C.default)();delete w.value,t.default={name:"popup-radio",components:{Popup:c.default,Radio:m.default,Cell:d.default},directives:{TransferDom:y.default},props:(0,o.default)({placeholder:String,readonly:Boolean},w,(0,v.default)()),computed:{displayValue:function(){var e=this;if(!this.options.length)return"";if("object"===(0,r.default)(this.options[0])){var t=(0,g.default)(this.options,function(t){return t.key===e.currentValue});if(t)return t.value}return this.currentValue}},methods:{onValueChange:function(e){this.hide()},show:function(){this.readonly||(this.showPopup=!0)},hide:function(){this.showPopup=!1}},watch:{value:function(e){this.currentValue=e},currentValue:function(e){this.$emit("input",e),this.$emit("on-change",e)}},data:function(){return{showPopup:!1,currentValue:this.value}}}},"vW5/":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("3cXf"),o=n(s),l=a("+62G"),d=n(l),u=a("7g+Q"),c=n(u),f=a("z5TY"),m=n(f),h=a("HXPS"),v=n(h),p=a("d5Kw"),C=n(p),_=a("kNGm"),y=n(_),b=a("1KNX"),g=n(b),w=a("I8ug"),I=a("9r/T");t.default={name:"ChangeLog",props:{handle:{type:Boolean,default:!1}},data:function(){return{page:1,limit:10,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},mySwiper:null,popupShow:!1,adminCommentList:[],listId:"a4897429-f4f2-44a4-ade7-2fe8dc67c3cf",scrollHeight:0,seletedIndex:null}},directives:{TransferDom:d.default},components:{Popup:c.default,Group:m.default,Icon:v.default,XButton:C.default,RScroll:g.default},filters:{handerTime:function(e){return(0,y.default)(e,"YYYY-MM")}},methods:{onShow:function(){var e=this;this.$nextTick(function(){if(e.$refs.bScroll){e.$refs.bScroll.refresh();var t=e.$refs.bScroll.$refs.bScroll.offsetHeight,a=e.$refs.bScroll.$refs.scrollWrapper.offsetHeight,n=a-t;a>t&&(e.scrollHeight>n&&(e.scrollHeight=n),e.$refs.bScroll.scrollTo(0,-e.scrollHeight))}}),(0,I.setTimeout)(function(){e.seletedIndex=null},1e3)},getUserDefault:function(e){var t=a("cr7Q");return e&&(e.photo=t),t},getMoreComment:function(){this.popupShow=!0,this.scrollHeight=0},goPop:function(e){var t=this;this.seletedIndex=e,this.popupShow=!0,this.scrollHeight=0,this.$nextTick(function(){0!==e&&t.$refs.eachComment.forEach(function(a,n){n<e&&(t.scrollHeight+=a.offsetHeight)})})},getAdminComment:function(){var e=this;return(0,w.getAdminCommentList)({listId:this.listId,limit:this.limit,page:this.page,sort:(0,o.default)([{property:"crtTime",direction:"DESC"}])}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,s=void 0===i?[]:i;e.hasNext=n>(e.page-1)*e.limit+s.length,s.forEach(function(e){e.achievement.includes("<")&&!e.achievement.includes("img")?(e.modifyAchievement=e.achievement.replace(/<\/?[^>]*>/g,""),e.modifyAchievement=e.modifyAchievement.replace(/\s+/g,"</br>")):e.modifyAchievement=e.achievement,e.chance.includes("<")&&!e.chance.includes("img")?(e.modifyChance=e.chance.replace(/<\/?[^>]*>/g,""),e.modifyChance=e.modifyChance.replace(/\s+/g,"</br>")):e.modifyChance=e.chance}),e.adminCommentList=1===e.page?s:[].concat((0,r.default)(e.adminCommentList),(0,r.default)(s)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},onPullingUp:function(){this.page++,this.getAdminComment()},closePop:function(){this.popupShow=!1},EditAdmin:function(){this.$router.push({path:"/appDetail/"+this.listId+"/addAdminComment"})}},created:function(){var e=this.$route.params.listId;e&&(this.listId=e,this.getAdminComment())},mounted:function(){var e=this.Swiper;this.mySwiper=new e(".admin-comment-container",{slidesPerView:"auto",observer:!0,observeParents:!0,centeredSlides:!0})}}},vWgl:function(e,t,a){"use strict";function n(e){a("LEI5")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("rLJd");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("fu+O"),o=a.n(s),l=a("PwfV"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-26de2a18",null);t.default=c.exports},vj7a:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("3cXf"),o=n(s),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("u28h"),C=n(p),_=a("PzEQ"),y=n(_),b=a("kNGm"),g=(n(b),a("0AQX"),a("HyXB")),w=a("bKg5"),I=n(w),x=a("vl8n"),D=n(x),P=a("+WR7"),k=n(P);t.default={data:function(){return{listId:"223f9387-d2d7-11e8-b8ca-0279b2c6a380",formData:{biId:"",biComment:"",biProcessStatus:""},biReferenceId:"",MobileWarn:!1,idCardWarn:!1}},components:{Cell:c.default,Group:m.default,XInput:v.default,Datetime:C.default,XTextarea:y.default,RPicker:D.default,PopBaseinfo:k.default},mixins:[I.default],methods:{checkMobile:function(){var e=/^[1][3,4,5,7,8][0-9]{9}$/;if(this.formData.profileContact&&!e.test(this.formData.profileContact))return void(this.MobileWarn=!0);this.MobileWarn=!1},checkIdCard:function(){var e=/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/;if(this.formData.idCard&&!e.test(this.formData.idCard))return void(this.idCardWarn=!0);this.idCardWarn=!1},submitOrder:function(){var e=this,t="",a=[{key:"profileName",message:"员工"},{key:"idCard",message:"身份证号"}];if(t||a.every(function(a){return!!e.formData[a.key]||(t="请填写"+a.message,!1)}),!t&&this.MobileWarn&&(t="联系方式格式不正确"),!t&&this.idCardWarn&&(t="身份证号格式不正确"),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=g.saveAndStartWf,a=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName}),n={listId:e.listId,biComment:"",formData:(0,o.default)(a)};e.isResubmit&&(t=g.saveAndCommitTask,n.biReferenceId=e.biReferenceId,n.wfPara=(0,o.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=g.submitAndCalc,delete n.wfPara,delete n.biReferenceId),e.biReferenceId&&(n.biReferenceId=e.biReferenceId),e.saveData(t,n)}})},hasDraftData:function(){var e=this.formData;if(e.profileName||e.idCard)return(0,r.default)({},"YGDA_DATA",{formData:e})}},created:function(){var e=sessionStorage.getItem("YGDA_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,sessionStorage.removeItem("YGDA_DATA")}}}},vkp0:function(e,t){},vl8n:function(e,t,a){"use strict";function n(e){a("IMPq")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("KnX9");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("u+pL"),o=a.n(s),l=a("LOzK"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-77f250b1",null);t.default=c.exports},vmwj:function(e,t,a){"use strict";function n(e){a("7Y5m")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("S4+1");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("ij6Q"),o=a.n(s),l=a("vqdV"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-9d1ae304",null);t.default=c.exports},vqdV:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-part"},[a("div",{staticClass:"app-container"},[e._m(0),e._v(" "),a("div",{staticClass:"app-list"},e._l(e.BasicApps,function(t,n){return a("div",{key:n,staticClass:"indval_app",on:{click:function(a){e.goBasic(t.listId)}}},[a("div",{staticClass:"app_img"},[a("img",{attrs:{src:t.icon},on:{error:function(a){e.getDefaultIcon(t)}}})]),e._v(" "),a("div",{staticClass:"app_info vux-1px-b"},[a("div",{staticClass:"app_name"},[e._v(e._s(t.text))]),e._v(" "),a("div",{staticClass:"app_detail_btn",on:{click:function(a){a.stopPropagation(),e.goAppDetail(t.listId)}}},[e._v("应用详情")])])])}))])])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app_classify_name"},[a("p",[e._v("基础对象")])])}],r={render:n,staticRenderFns:i};t.a=r},vrew:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:{contacts_part:e.hasClass}},[a("div",{staticClass:"main_content",class:{"vux-1px-b":e.payment||e.logistics}},[a("span",{staticClass:"iconfont icon-kehu1"}),e._v(" "),a("div",{staticClass:"cp_name m_size_name"},[e._v(e._s(e.contactInfo.dealerName))]),e._v(" "),a("div",{staticClass:"other_info s_size_name"},[a("span",{staticClass:"title"},[e._v("联系人: ")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e.contactInfo.dealerContactPersonName||"暂无"))])]),e._v(" "),a("div",{staticClass:"other_info s_size_name"},[a("span",{staticClass:"title"},[e._v("手机: ")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e.contactInfo.dealerMobilePhone||"暂无"))])]),e._v(" "),a("div",{staticClass:"other_info s_size_name"},[a("span",{staticClass:"title"},[e._v("地址: ")]),e._v(" "),e.noAddress?a("span",{staticClass:"content"},[e._v("暂无")]):a("span",{staticClass:"content"},[e._v(e._s(e.contactInfo.province)+e._s(e.contactInfo.city)+e._s(e.contactInfo.county)+e._s(e.contactInfo.address))])])]),e._v(" "),e.payment||e.logistics?a("div",{staticClass:"other_content",class:{"no-bottom":e.$slots.other&&!e.validUntil}},[e.payment?a("div",{staticClass:"trade_info s_size_name"},[a("span",{staticClass:"title"},[e._v("结算方式: ")]),e._v(" "),a("span",{staticClass:"mode"},[e._v(e._s(e.contactInfo.payment||"暂无"))])]):e._e(),e._v(" "),e.logistics?a("div",{staticClass:"trade_info s_size_name"},[a("span",{staticClass:"title"},[e._v("物流条款: ")]),e._v(" "),a("span",{staticClass:"mode"},[e._v(e._s(e.contactInfo.logistics||"暂无"))])]):e._e()]):e._e(),e._v(" "),e.validUntil?a("div",{staticClass:"valid vux-1px-t"},[a("span",{staticClass:"title"},[e._v("有效期至: ")]),e._v(" "),a("span",{staticClass:"mode"},[e._v(e._s(e.contactInfo.validUntil||"暂无"))])]):e._e(),e._v(" "),e._t("other")],2)},i=[],r={render:n,staticRenderFns:i};t.a=r},vrxI:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=a("a3Yh"),o=n(s),l=a("3cXf"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),m=n(f),h=a("SAzG"),v=n(h),p=a("7g+Q"),C=n(p),_=a("PzEQ"),y=n(_),b=a("jnZd"),g=n(b),w=a("u28h"),I=n(w),x=a("kNGm"),D=n(x),P=a("iR2W"),k=n(P),S=a("0AQX"),T=a("HyXB"),L=(a("jLp1"),a("bKg5")),N=n(L),M=a("wuIh"),A=n(M),O=a("CKaN"),R=n(O),j=a("vl8n"),$=n(j),B=a("+WR7"),E=n(B),F=(a("zWMP"),a("Qg39"));t.default={mixins:[N.default],components:{Cell:c.default,Group:m.default,Popup:C.default,XInput:v.default,XTextarea:y.default,PopupPicker:g.default,RPicker:$.default,PopBaseinfo:E.default,PopMoneyOrderList:A.default,Datetime:I.default,PopCashList:R.default},data:function(){return{listId:"bb9ce973-2f62-4707-a54c-7e8605dc99d6",biReferenceId:"",selectedCost:[],costIndex:0,transCode:"",formData:{biComment:"",biProcessStatus:""},showOrder:!1,orderList:[],cashInfo:{}}},filters:{numberComma:k.default,dateFormat:D.default},methods:{submitOrder:function(){var e=this,t="",a=[];if(t||this.orderList.length||(t="请选择汇票明细"),t||this.cashInfo.fundName||(t="请选择资金账户"),t||this.cashInfo.tdAmount||(t="请填写支付金额"),t)return void this.$vux.alert.show({content:t});this.orderList.every(function(e){a.push({tdId:e.tdId||null,draftNumber:e.draftNumber,draftType:e.draftType,accepter:e.accepter,tdAmount:e.tdAmount,deposit:e.deposit,draftDate:e.draftDate,draftDueDate:e.draftDueDate,comment:e.comment||""})}),this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=T.saveAndStartWf,n=(0,o.default)({},e.processCode,{businessKey:"HATB",createdBy:(0,d.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.formData.biComment,formData:(0,d.default)((0,r.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",outPut:{dataSet:[{fundName_cashOutCode:e.cashInfo.fundName,cashOutCode:e.cashInfo.fundCode,cashType_cashOutCode:e.cashInfo.fundType,thenAmntBal:e.cashInfo.thenAmntBal,tdAmount:e.cashInfo.tdAmount}]},order:{dataSet:a}})),wfPara:(0,d.default)(n)};e.isResubmit&&(i.biReferenceId=e.biReferenceId,t=T.saveAndCommitTask),e.processCode.length||(t=T.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,S.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.attachment,n=void 0===a?[]:a,i=t.listId,s=void 0===i?"":i,o=(t.biComment,t.biReferenceId),l=void 0===o?"":o,d=t.formData,u=void 0===d?{}:d;e.attachment=n,e.listId=s,e.biReferenceId=l,e.handlerDefault={handler:u.handler,handlerName:u.handlerName,handlerUnit:u.handlerUnit,handlerUnitName:u.handlerUnitName,handlerRole:u.handlerRole,handlerRoleName:u.handlerRoleName},e.formData=(0,r.default)({},e.formData,e.handlerDefault,{biComment:u.biComment,biId:u.biId,biProcessStatus:u.biProcessStatus,creator:u.creator,modifer:u.modifer});var c=u.order,f=void 0===c?{}:c,m=u.outPut,h=void 0===m?{}:m,v=f.dataSet,p=void 0===v?[]:v;e.cashInfo={fundName:h.dataSet[0].fundName_cashOutCode,fundCode:h.dataSet[0].cashOutCode,fundType:h.dataSet[0].cashType_cashOutCode,thenAmntBal:h.dataSet[0].thenAmntBal,amntBal:h.dataSet[0].thenAmntBal,tdAmount:h.dataSet[0].tdAmount},e.orderList=p,e.$loading.hide()})},hasDraftData:function(){return!!this.orderList.dealerCode&&(0,o.default)({},"DFCDHP_DATA",{formData:this.formData,cashInfo:this.cashInfo,orderList:this.orderList})},getRelationData:function(){},selOrder:function(e){e.forEach(function(e){e.draftDate=(0,D.default)(e.draftDate,"YYYY-MM-DD"),e.draftDueDate=(0,D.default)(e.draftDueDate,"YYYY-MM-DD"),e.tdAmount=e.amntTbMatched}),this.orderList=e},addOrder:function(){this.showOrder=!0},selCash:function(e){this.cashInfo=(0,r.default)({},e,{thenAmntBal:e.amntBal})},checkAmt:function(e){var t=e.tdAmount,a=e.thenAmntBal;t&&(t>a&&(t=a),e.tdAmount=Math.abs((0,F.toFixed)(t)))}},created:function(){var e=sessionStorage.getItem("DFCDHP_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.cashInfo=t.cashInfo,this.orderList=t.orderList,sessionStorage.removeItem("DFCDHP_DATA")}}}},vtaQ:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),m=a("3NX5"),h=n(m),v=a("d7ck"),p=n(v),C=a("zWMP");a("Qg39");t.default={data:function(){return{count:0,comment:"",orderList:[]}},mixins:[l.default],components:{workFlow:f.default,RAction:u.default,MatterList:h.default,FormCell:p.default},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var d=[];s.order;e.attachment=l;var u=s.order.dataSet,c=!0,f=!1,m=void 0;try{for(var h,v=(0,r.default)(u);!(c=(h=v.next()).done);c=!0){var p=h.value;e.count=(0,C.accAdd)(e.count,p.tdAmount),p.inventoryPic=p.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+p.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),d.push(p)}}catch(e){f=!0,m=e}finally{try{!c&&v.return&&v.return()}finally{if(f)throw m}}e.orderList=d,e.orderInfo=s,e.workFlowInfoHandler()})}}}},vvIr:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("MgeX"),o=n(s),l=a("HzJ8"),d=n(l),u=a("ZLEe"),c=n(u),f=a("3cXf"),m=n(f),h=a("KH7x"),v=n(h),p=a("4YfN"),C=n(p),_=a("SAzG"),y=n(_),b=a("u28h"),g=(n(b),a("PzEQ")),w=n(g),I=a("kNGm"),x=(n(I),a("0AQX")),D=a("HyXB"),P=a("bKg5"),k=n(P),S=a("y8YJ"),T=n(S),L=a("I5id"),N=n(L),M=a("luHD"),A=n(M),O=a("VZtf"),R=n(O),j=a("vl8n"),$=n(j),B=a("+WR7"),E=n(B),F=a("zWMP");a("Qg39");t.default={name:"ApplySBCGYSForm",data:function(){return{listId:"64c5afbc-c075-11e8-85e2-b06ebfc41432",srhInpTx:"",orderList:{},matterList:[],transMode:["现付","预付","账期","票据"],showDealerPop:!1,dealerInfo:{},contactInfo:{},formData:{biId:"",biComment:""},submitSuccess:!1,taxRate:.16,numMap:{},transCode:"",formViewUniqueId:"fed81800-4c34-44a9-b517-c3fd9f2ab57d",biReferenceId:"",actions:[],taskId:"",showOrderPop:!1,tmpItems:{},matter:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,filterList:[{name:"交易号",value:"transCode"},{name:"设施名称",value:"facilityName"},{name:"设施编码",value:"facilityCode"}],facilityParams:{}}},mixins:[k.default],components:{XInput:y.default,RNumber:R.default,XTextarea:w.default,PopMatter:A.default,RPicker:$.default,PopDealerList:T.default,PopBaseinfo:E.default,PopFacilityList:N.default},methods:{selItem:function(e){this.formData=(0,C.default)({},this.formData,e)},getPaymentTerm:function(){var e=this;return(0,D.getDictByType)("paymentTerm").then(function(t){var a=t.tableContent;e.transMode=a})},selDealer:function(e){var t=JSON.parse(e),a=(0,v.default)(t,1),n=a[0];this.dealerInfo=(0,C.default)({},n),this.matterList=[],this.orderList={},this.facilityParams={dealerCode:n.dealerCode}},selContact:function(e){this.contactInfo=(0,C.default)({},e)},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,m.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selMatter:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){var a=e.transCode+"_"+e.facilityCode,i=t.numMap[a]||{},r=i.price,s=void 0===r?"":r,o=i.taxRate,l=void 0===o?.16:o;e.tdQty=e.qtyBal,e.taxRate=l,s.length&&(e.price=s),n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.facilityCode!==e.facilityCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.facilityCode===t.facilityCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.facilityCode===e.facilityCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,c.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.facilityCode===a.facilityCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.facilityCode===t.facilityCode});i>=0&&(e.$refs.matter.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.facilityCode===a.facilityCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,d.default)((0,o.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,l=!1,u=void 0;try{for(var c,f=(0,d.default)(r);!(s=(c=f.next()).done);s=!0){var m=c.value;this.numMap[m.transCode+"_"+m.facilityCode]=(0,C.default)({},m)}}catch(e){l=!0,u=e}finally{try{!s&&f.return&&f.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerCode||(t="请选择供应商信息"),t||this.matterList.length||(t="请选择设施"),t||this.matterList.every(function(n){if(!n.price)return t="单价不能为空",!1;if(!n.tdQty&&0!==n.tdQty)return t="数量不能为空",!1;var i=n.taxRate||e.taxRate,r=(0,F.accMul)(n.price,n.tdQty,i),s={transMatchedCode:n.transCode,facilityObjCode:n.facilityCode,facilityType:n.facilityType,thenTotalQtyBal:n.qty,thenLockQty:n.purchased,thenQtyBal:n.qtyBal||0,tdQty:n.tdQty,price:n.price,taxRate:i,taxAmount:r,tdAmount:(0,F.accAdd)((0,F.accMul)(n.price,n.tdQty),r),comment:n.comment||""};return e.transCode&&(s.tdId=n.tdId||null),a.push(s),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=D.saveAndStartWf,n={},i=(0,r.default)({},e.processCode,{businessKey:"POPI",createdBy:""});n=(0,C.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",dealerCreditContactPersonName:e.contactInfo.dealerName||"",dealerCreditContactInformation:e.contactInfo.dealerMobilePhone||"",order:{dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName||"供应商",dataSet:a}}),e.transCode&&(t=D.saveAndCommitTask,i={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var s={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,m.default)(n),wfPara:(0,m.default)(i)};e.transCode||delete s.biReferenceId,e.processCode.length||(t=D.submitAndCalc,delete s.wfPara,delete s.biReferenceId),e.biReferenceId&&(s.biReferenceId=e.biReferenceId),e.saveData(t,s)}})},getFormData:function(){var e=this;return(0,x.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=o;var l=r.order,u=(r.dealerDebit,l.dataSet),c=void 0===u?[]:u,f={},m=[],h=!0,v=!1,p=void 0;try{for(var _,y=(0,d.default)(c);!(h=(_=y.next()).done);h=!0){var b=_.value;b=(0,C.default)({},b,{transCode:b.transMatchedCode,inventoryPic:b.inventoryPic_facilityObjCode?"/H_roleplay-si/ds/download?url="+b.inventoryPic_facilityObjCode+"&width=400&height=400":e.getDefaultImg(),facilityName:b.facilityName_facilityObjCode,facilityCode:b.facilityCode_facilityObjCode,facilityBigType:b.facilityBigType_facilityObjCode,facilitySubclass:b.facilitySubclass_facilityObjCode,facilityUnit:b.facilityUnit_facilityObjCode,qty:b.thenTotalQtyBal,purchased:b.thenLockQty,qtyBal:b.thenQtyBal}),f[b.transCode]||(f[b.transCode]=[]),m.push(b),f[b.transCode].push(b)}}catch(e){v=!0,p=e}finally{try{!h&&y.return&&y.return()}finally{if(v)throw p}}e.dealerInfo={dealerName:l.dealerName_dealerCodeCredit,dealerMobilePhone:r.dealerCreditContactInformation,dealerCode:l.dealerCodeCredit,dealerLabelName:l.crDealerLabel,province:l.province_dealerCodeCredit,city:l.city_dealerCodeCredit,county:l.county_dealerCodeCredit,address:l.address_dealerCodeCredit},e.contactInfo={dealerName:r.dealerCreditContactPersonName,dealerMobilePhone:r.dealerCreditContactInformation},e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,C.default)({},e.formData,e.handlerDefault,{creator:r.creator,biId:r.biId,biComment:r.biComment}),e.biReferenceId=r.biReferenceId,e.matterList=m,e.orderList=f,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,r.default)({},"SBCGYS_DATA",{matter:this.matterList,dealer:this.dealerInfo,formData:this.formData,contactInfo:this.contactInfo})},getRelationData:function(){var e=this,t=this.$route.query.uniqueId;return(0,x.getSOList)({formViewUniqueId:t,transCode:this.relationKey}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i;t.attachment;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var o=s.order,l=(s.dealerDebit,o.dataSet),d=void 0===l?[]:l;d=d.map(function(t){return(0,C.default)({},t,{inventoryPic:t.inventoryPic_facilityObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_facilityObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_facilityObjCode,facilityCode:t.inventoryCode_facilityObjCode,specification:t.specification_facilityObjCode,measureUnit:t.measureUnit_facilityObjCode,transCode:e.relationKey,qtyBal:t.tdQty,tdQty:""})}),e.dealerInfo={creatorName:s.dealerDebitContactPersonName,dealerMobilePhone:s.dealerDebitContactInformation,dealerCode:s.order.dealerDebit,dealerSubclass:s.order.drAccountSub,dealerName:s.order.dealerName_dealerDebit,province:s.order.province_dealerDebit,city:s.order.city_dealerDebit,county:s.order.county_dealerDebit,address:s.order.address_dealerDebit},e.matterList=d,e.orderList=(0,r.default)({},e.relationKey,d),e.$loading.hide()})},moreUnitClick:function(e){e.showDrop=!e.showDrop},moreUnitSelected:function(e){this.matter.assMeasureUnit=e.invSubUnitName,this.matter.assistQty=e.invSubUnitMulti},assembleOrder:function(e){var t={};e.forEach(function(e){t[e.transCode]||(t[e.transCode]=[]),t[e.transCode].push(e)}),this.orderList=t}},created:function(){var e=sessionStorage.getItem("SBCGYS_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.dealerInfo=t.dealer,this.formData=t.formData,this.contactInfo=t.contactInfo,this.assembleOrder(this.matterList),sessionStorage.removeItem("SBCGYS_DATA")}}}},vz8g:function(e,t,a){"use strict";function n(e){a("fDbc")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("L61s");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("4HCx"),o=a.n(s),l=a("mhfF"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-47b86ffb",null);t.default=c.exports},vzn5:function(e,t){},w1nj:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vux-confirm"},[a("x-dialog",{attrs:{"dialog-class":"android"===e.theme?"weui-dialog weui-skin_android":"weui-dialog","mask-transition":e.maskTransition,"dialog-transition":"android"===e.theme?"vux-fade":e.dialogTransition,"hide-on-blur":e.hideOnBlur,"mask-z-index":e.maskZIndex},on:{"on-hide":function(t){e.$emit("on-hide")}},model:{value:e.showValue,callback:function(t){e.showValue=t},expression:"showValue"}},[e.title?a("div",{staticClass:"weui-dialog__hd",class:{"with-no-content":!e.showContent}},[a("strong",{staticClass:"weui-dialog__title"},[e._v(e._s(e.title))])]):e._e(),e._v(" "),e.showContent?[e.showInput?a("div",{staticClass:"vux-prompt"},["checkbox"===e.getInputAttrs().type?a("input",e._b({directives:[{name:"model",rawName:"v-model",value:e.msg,expression:"msg"}],ref:"input",staticClass:"vux-prompt-msgbox",attrs:{placeholder:e.placeholder,type:"checkbox"},domProps:{checked:Array.isArray(e.msg)?e._i(e.msg,null)>-1:e.msg},on:{touchend:e.setInputFocus,change:function(t){var a=e.msg,n=t.target,i=!!n.checked;if(Array.isArray(a)){var r=e._i(a,null);n.checked?r<0&&(e.msg=a.concat([null])):r>-1&&(e.msg=a.slice(0,r).concat(a.slice(r+1)))}else e.msg=i}}},"input",e.getInputAttrs(),!1)):"radio"===e.getInputAttrs().type?a("input",e._b({directives:[{name:"model",rawName:"v-model",value:e.msg,expression:"msg"}],ref:"input",staticClass:"vux-prompt-msgbox",attrs:{placeholder:e.placeholder,type:"radio"},domProps:{checked:e._q(e.msg,null)},on:{touchend:e.setInputFocus,change:function(t){e.msg=null}}},"input",e.getInputAttrs(),!1)):a("input",e._b({directives:[{name:"model",rawName:"v-model",value:e.msg,expression:"msg"}],ref:"input",staticClass:"vux-prompt-msgbox",attrs:{placeholder:e.placeholder,type:e.getInputAttrs().type},domProps:{value:e.msg},on:{touchend:e.setInputFocus,input:function(t){t.target.composing||(e.msg=t.target.value)}}},"input",e.getInputAttrs(),!1))]):a("div",{staticClass:"weui-dialog__bd"},[e._t("default",[a("div",{domProps:{innerHTML:e._s(e.content)}})])],2)]:e._e(),e._v(" "),a("div",{staticClass:"weui-dialog__ft"},[a("a",{staticClass:"weui-dialog__btn weui-dialog__btn_default",attrs:{href:"javascript:;"},on:{click:e._onCancel}},[e._v(e._s(e.cancelText||"取消"))]),e._v(" "),a("a",{staticClass:"weui-dialog__btn",class:"weui-dialog__btn_"+e.confirmType,attrs:{href:"javascript:;"},on:{click:e._onConfirm}},[e._v(e._s(e.confirmText||"确定"))])])],2)],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},w5TH:function(e,t,a){"use strict";function n(e){a("6GQR")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("c6WW");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("q+9q"),o=a.n(s),l=a("xZDT"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-58a5dddb",null);t.default=c.exports},w5ml:function(e,t){},w62I:function(e,t){},w6tR:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2429,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[i.default],methods:{},created:function(){}}},w9YQ:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("7g+Q"),r=n(i),s=a("z5TY"),o=n(s),l=a("kNGm"),d=(n(l),a("I8ug")),u=a("d3k1"),c=n(u);t.default={data:function(){return{submitData:{achievement:"",chance:"",date:""},listId:"",btnIsHide:!1,clientHeight:document.documentElement.clientHeight}},components:{Popup:r.default,Group:o.default},methods:{getDate:function(){var e=this;this.$vux.datetime.show({cancelText:"取消",confirmText:"确定",format:"YYYY-MM",onConfirm:function(t){console.log(t),e.submitData.date=t}})},submit:function(){var e=this,t="";if([{key:"date",message:"【期间（月份）】"},{key:"achievement",message:"【效率与成本改进成果】"},{key:"chance",message:"【效率与成本改进机会】"}].every(function(a){return""!==e.submitData[a.key]||(t=a.message+"不能为空",!1)}),t)return void this.$vux.alert.show({content:t});var a={achievement:this.submitData.achievement,chance:this.submitData.chance,date:this.submitData.date+"-1",listId:this.listId};(0,d.saveAssessment)(a).then(function(t){t.success&&(e.submitSuccess=!0,e.$vux.alert.show({content:"提交成功",onHide:function(){e.$router.go(-1)}}))})}},created:function(){var e=this.$route.params.listId;e&&(this.listId=e)},mounted:function(){var e=this;c.default.isAndroid&&(window.onresize=function(){e.clientHeight>document.documentElement.clientHeight?e.btnIsHide=!0:e.btnIsHide=!1})},beforeRouteLeave:function(e,t,a){e.path;this.submitSuccess&&"APPDETAIL"===e.name&&(e.meta.reload=!0),a()}}},wB6c:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("vS5q"),a("MjAd")),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2466,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"},{name:"往来名称",value:"dealerName_dealerCodeCredit"}]}},mixins:[i.default],methods:{},created:function(){}}},wDjS:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("PbSJ");a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,function(){return n[e]})}(i);var r=a("HcHI"),s=a.n(r),o=a("mU0o"),l=a("C7Lr"),d=l(s.a,o.a,!1,null,null,null);t.default=d.exports},wEtw:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("6q39"),v=n(h),p=a("kNGm"),C=n(p),_=a("fEP3"),y=a("1KNX"),b=n(y),g=a("7biW"),w=n(g);t.default={name:"PopWorkStartList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:m.default,LoadMore:v.default,RScroll:b.default,MSearch:w.default},filters:{dateFormat:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},workList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"工序名称",value:"procedureName"}],filterProperty:""}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){return this.selItems.colId===e.colId},selThis:function(e,t){this.showPop=!1,this.selItems=(0,d.default)({},e),this.$emit("sel-work",this.selItems)},setDefaultValue:function(){this.selItems=(0,d.default)({},this.defaultValue)},getWorkOrderTask:function(){var e=this,t=[];if(this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),this.$route.query.inventoryCode){var a=this.$route.query,n=a.inventoryCode,i=a.proPointCode;t=[].concat((0,o.default)(t),[{operator:"eq",value:n,property:"inventoryCode",separator:"and"},{operator:"eq",value:i,property:"proPointCode"}])}return(0,_.getWorkStartList)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;e.$route.query.inventoryCode&&e.$emit("sel-work",r[0]),e.hasNext=n>(e.page-1)*e.limit+r.length,e.workList=1===e.page?r:[].concat((0,o.default)(e.workList),(0,o.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.workList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getWorkOrderTask()},onPullingUp:function(){this.page++,this.getWorkOrderTask()}},created:function(){this.setDefaultValue(),this.getWorkOrderTask()}}},wGHW:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("MgeX"),o=n(s),l=a("HzJ8"),d=n(l),u=a("ZLEe"),c=n(u),f=a("3cXf"),m=n(f),h=a("4YfN"),v=n(h),p=a("KH7x"),C=n(p),_=a("BGNQ"),y=n(_),b=a("SAzG"),g=n(b),w=a("u28h"),I=n(w),x=a("PzEQ"),D=n(x),P=a("kNGm"),k=n(P),S=a("0AQX"),T=a("I3vJ"),L=a("HyXB"),N=a("bKg5"),M=n(N),A=a("y8YJ"),O=n(A),R=a("kZy/"),j=n(R),$=a("Pb67"),B=n($),E=a("89pA"),F=n(E),U=a("yt3/"),q=n(U),Q=a("luHD"),H=n(Q),V=a("VZtf"),X=n(V),z=a("vl8n"),Y=n(z),W=a("+WR7"),G=n(W),J=a("fCs9"),K=n(J),Z=a("zWMP");a("Qg39");t.default={name:"ApplyCGRKForm",data:function(){return{listId:"1c5896d8-1500-4569-b0c5-6b596d03fb9b",srhInpTx:"",orderList:{},matterList:[],DealerPaymentTerm:"现付",transMode:["现付","预付","账期","票据"],showDealerPop:!1,dealerInfo:{},contactInfo:{},crDealerPaymentTerm:"现付",formData:{biId:"",biComment:""},submitSuccess:!1,showWarehousePop:!1,warehouse:null,taxRate:.16,numMap:{},transCode:"",formViewUniqueId:"fed81800-4c34-44a9-b517-c3fd9f2ab57d",biReferenceId:"",actions:[],taskId:"",showOrderPop:!1,matterParams:{dealerCode:""},tmpItems:{},matter:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,filterList:[{name:"交易号",value:"transCode"},{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"}]}},mixins:[M.default],components:{Cell:y.default,RDropdown:K.default,XInput:g.default,XTextarea:D.default,Datetime:I.default,PopOrderList:B.default,RNumber:X.default,PopDealerList:O.default,PopWarehouseList:F.default,PopMatterList:j.default,PopSingleSelect:q.default,PopMatter:H.default,RPicker:Y.default,PopBaseinfo:G.default},methods:{getPaymentTerm:function(){var e=this;return(0,L.getDictByType)("paymentTerm").then(function(t){var a=t.tableContent;e.transMode=a})},selDealer:function(e){var t=JSON.parse(e),a=(0,C.default)(t,1),n=a[0],i=n.pamentDays,r=i?(0,k.default)(Date.now()+(0,Z.accMul)(i,864e5),"YYYY-MM-DD"):"";this.dealerInfo=(0,v.default)({},n,{accountExpirationDate:r}),this.matterParams=(0,v.default)({},this.matterParams,{dealerCode:n.dealerCode}),this.crDealerPaymentTerm=this.dealerInfo.paymentTerm},selContact:function(e){this.contactInfo=(0,v.default)({},e)},selWarehouse:function(e){this.warehouse=JSON.parse(e)},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,m.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selMatter:function(e){var t=this,a=JSON.parse(e);console.log(a);var n={};a.forEach(function(e){var a=e.transCode+"_"+e.inventoryCode,i=t.numMap[a]||{},r=i.tdQty,s=void 0===r?e.qtyBal:r,o=i.price,l=void 0===o?e.price:o,d=i.taxRate,u=void 0===d?.16:d,c=i.productionDate,f=void 0===c?"":c,m=i.validUntil,h=void 0===m?"":m;e.tdQty=s,l.length&&(e.price=l),e.taxRate=u,e.productionDate=f,e.validUntil=h,n[e.transCode]||(n[e.transCode]=[]),t.getMoreUnit(e),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.inventoryCode!==e.inventoryCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,c.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});i>=0&&(e.$refs.matter.delSelItem(n[i]),n.splice(i,1)),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,d.default)((0,o.default)(this.orderList));!(e=(n=i.next()).done);e=!0){var r=n.value,s=!0,l=!1,u=void 0;try{for(var c,f=(0,d.default)(r);!(s=(c=f.next()).done);s=!0){var m=c.value;this.numMap[m.transCode+"_"+m.inventoryCode]=(0,v.default)({},m)}}catch(e){l=!0,u=e}finally{try{!s&&f.return&&f.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="",a=[];if([{key:"dealerInfo",message:"供应商信息"},{key:"crDealerPaymentTerm",message:"结算方式"},{key:"warehouse",message:"仓库"}].every(function(a){return!!e[a.key]||(t="请选择"+a.message,!1)}),t||this.matterList.length||(t="请选择物料"),t||this.matterList.every(function(n){if(!n.price)return t="单价不能为空",!1;if(!n.tdQty)return t="数量不能为空",!1;var i=n.taxRate||e.taxRate,r=(0,Z.accMul)(n.price,n.tdQty,i),s={transMatchedCode:n.transCode,transObjCode:n.inventoryCode,tdProcessing:n.processing,assMeasureUnit:void 0!==n.assMeasureUnit?n.assMeasureUnit:null,thenTotalQtyBal:n.qty,thenLockQty:n.qtyed,thenQtyBal:n.qtyBal||0,tdQty:n.tdQty,assMeasureScale:null,assistQty:n.assistQty||0,price:n.price,taxRate:i,taxAmount:r,tdAmount:(0,Z.accAdd)((0,Z.accMul)(n.price,n.tdQty),r),processingStartDate:n.processingStartDate||null,keepingDays_transObjCode:n.keepingDays,productionDate:n.productionDate,validUntil:n.validUntil,comment:n.comment||""};return e.transCode&&(s.tdId=n.tdId||null),a.push(s),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=L.saveAndStartWf,n={},i=(0,r.default)({},e.processCode,{businessKey:"POPI",createdBy:""});n=(0,v.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",dealerCreditContactPersonName:e.contactInfo.dealerName||"",dealerCreditContactInformation:e.contactInfo.dealerMobilePhone||"",containerInWarehouseManager:e.warehouse.containerInWarehouseManager||null,inPut:{dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName||"供应商",crDealerPaymentTerm:e.crDealerPaymentTerm,daysOfAccount:e.dealerInfo.pamentDays,accountExpirationDate:e.dealerInfo.accountExpirationDate,containerCode:e.warehouse.warehouseCode,dataSet:a}}),e.transCode&&(t=L.saveAndCommitTask,i={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var s={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,m.default)(n),wfPara:(0,m.default)(i)};e.transCode||delete s.biReferenceId,e.processCode.length||(t=L.submitAndCalc,delete s.wfPara,delete s.biReferenceId),e.biReferenceId&&(s.biReferenceId=e.biReferenceId),e.saveData(t,s)}})},getFormData:function(){var e=this;return(0,S.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,r=void 0===i?{}:i,s=t.attachment,o=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=o;var l=r.inPut,u=(r.dealerDebit,l.dataSet),c=void 0===u?[]:u,f={},m=[],h=!0,p=!1,C=void 0;try{for(var _,y=(0,d.default)(c);!(h=(_=y.next()).done);h=!0){var b=_.value;b=(0,v.default)({},b,{transCode:b.transMatchedCode,inventoryPic:b.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+b.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:b.inventoryName_transObjCode,inventoryCode:b.transObjCode,specification:b.specification_transObjCode,processing:b.tdProcessing,keepingDays:b.keepingDays_transObjCode,qtyed:b.thenLockQty,qtyBal:b.thenQtyBal,qty:b.thenTotalQtyBal}),e.getMoreUnit(b),f[b.transCode]||(f[b.transCode]=[]),m.push(b),f[b.transCode].push(b)}}catch(e){p=!0,C=e}finally{try{!h&&y.return&&y.return()}finally{if(p)throw C}}e.dealerInfo={creatorName:r.dealerCreditContactPersonName,dealerName:l.dealerName_dealerCodeCredit,dealerMobilePhone:r.dealerCreditContactInformation,dealerCode:l.dealerCode_dealerCodeCredit,dealerLabelName:l.crDealerLabel,province:l.province_dealerCodeCredit,city:l.city_dealerCodeCredit,county:l.county_dealerCodeCredit,address:l.address_dealerCodeCredit,accountExpirationDate:l.accountExpirationDate},e.contactInfo={dealerName:r.dealerCreditContactPersonName,dealerMobilePhone:r.dealerCreditContactInformation},e.warehouse={warehouseCode:l.containerCode,warehouseName:l.warehouseName_containerCode,warehouseType:l.warehouseType_containerCode,warehouseProvince:l.warehouseProvince_containerCode,warehouseCity:l.warehouseCity_containerCode,warehouseDistrict:l.warehouseDistrict_containerCode,warehouseAddress:l.warehouseAddress_containerCode,containerInWarehouseManager:l.containerInWarehouseManager},e.matterParams={dealerCode:e.dealerInfo.dealerCode},e.handlerDefault={handler:r.handler,handlerName:r.handlerName,handlerUnit:r.handlerUnit,handlerUnitName:r.handlerUnitName,handlerRole:r.handlerRole,handlerRoleName:r.handlerRoleName},e.formData=(0,v.default)({},e.formData,e.handlerDefault,{biComment:r.biComment,biId:r.biId,biProcessStatus:r.biProcessStatus,creator:r.creator,modifer:r.modifer}),e.crDealerPaymentTerm=l.crDealerPaymentTerm,e.DealerPaymentTerm=r.crDealerPaymentTerm||"现付",e.biReferenceId=r.biReferenceId,e.matterList=m,e.orderList=f,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,r.default)({},"CGRK_DATA",{matter:this.matterList,dealer:this.dealerInfo,warehouse:this.warehouse,formData:this.formData,contactInfo:this.contactInfo})},getRelationData:function(){var e=this,t=this.$route.query.uniqueId;return(0,S.getSOList)({formViewUniqueId:t,transCode:this.relationKey}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i;t.attachment;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var o=s.order,l=(s.dealerDebit,o.dataSet),d=void 0===l?[]:l;d=d.map(function(t){return(0,v.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,transCode:e.relationKey,qtyBal:t.tdQty,tdQty:""})}),e.dealerInfo={creatorName:s.dealerDebitContactPersonName,dealerMobilePhone:s.dealerDebitContactInformation,dealerCode:s.order.dealerDebit,dealerSubclass:s.order.drAccountSub,dealerName:s.order.dealerName_dealerDebit,province:s.order.province_dealerDebit,city:s.order.city_dealerDebit,county:s.order.county_dealerDebit,address:s.order.address_dealerDebit},e.matterParams={dealerCode:e.dealerInfo.dealerCode},e.matterList=d,e.orderList=(0,r.default)({},e.relationKey,d),e.crDealerPaymentTerm=o.drDealerPaymentTerm,e.DealerPaymentTerm=s.drDealerPaymentTerm||"现付",e.$loading.hide()})},getMoreUnit:function(e){var t=e.inventoryCode;return(0,T.getObjInvMoreUnitByInvCode)(t).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;e.showDrop=!1,n.forEach(function(e){e.name=e.invSubUnitName,e.value=e.invSubUnitName}),e.moreUnitList=n})},moreUnitClick:function(e){e.showDrop=!e.showDrop},moreUnitSelected:function(e){this.matter.assMeasureUnit=e.invSubUnitName,this.matter.assistQty=e.invSubUnitMulti}},created:function(){var e=sessionStorage.getItem("CGRK_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.dealerInfo=t.dealer,this.warehouse=t.warehouse,this.formData=t.formData,this.contactInfo=t.contactInfo,this.crDealerPaymentTerm=this.dealerInfo.paymentTerm,sessionStorage.removeItem("CGRK_DATA")}}}},wGZY:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.inPut?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.contactInfo,logistics:!1}},[a("div",{staticClass:"other",attrs:{slot:"other"},slot:"other"},[a("span",{staticClass:"title"},[e._v("账期天数: ")]),e._v(" "),a("span",{staticClass:"mode"},[e._v(e._s(e.contactInfo.pamentDays))])])]),e._v(" "),a("matter-list",{attrs:{"matter-list":e.matterList,noTaxAmount:e.noTaxAmount,taxAmount:e.taxAmount,count:e.count},scopedSlots:e._u([{key:"matterOther",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_attribute"},[a("span",[e._v("单价: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.price),3)))]),e._v(" "),a("span",[e._v("数量: "+e._s(e._f("toFixed")(n.tdQty)))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.taxRate,expression:"item.taxRate"}]},[e._v("税率: "+e._s(n.taxRate))])]),e._v(" "),a("div",{staticClass:"mater_price"},[a("span",[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(n.tdAmount),3)))]),e._v(" "),n.taxRate?a("span",{staticClass:"num",style:{display:n.tdAmount&&n.tdAmount.toString().length>=7?"block":""}},[e._v("\n                [金额: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.noTaxAmount),3))+" + 税金: ￥"+e._s(e._f("numberComma")(e._f("toFixed")(n.taxAmount),3))+"]\n              ")]):e._e()])])]}}])}),e._v(" "),a("div",{staticClass:"comment-part"},[a("form-cell",{attrs:{showTopBorder:!1,cellTitle:"备注",cellContent:e.orderInfo.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},wKA3:function(e,t){},wNbs:function(e,t,a){"use strict";function n(e){a("m5sH")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("b4Rw");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("Z77n"),o=a.n(s),l=a("+8bS"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-17e1818c",null);t.default=c.exports},wQkG:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("ZLEe"),o=n(s),l=a("a3Yh"),d=n(l),u=a("d3k1"),c=(n(u),a("FvvE")),f=n(c),m=a("ZTs6"),h=n(m);t.default={data:function(){var e;return e={currentComponent:"",showLoadding:!0,transCode:"",submitSuccess:!1,submitLoadding:!1},(0,d.default)(e,"transCode",null),(0,d.default)(e,"saveData",{}),e},methods:{modifyRoute:function(e){this.submitSuccess=e},selData:function(e){this.saveData=e}},beforeRouteEnter:function(e,t,a){var n=e.query.name;e.meta.title="新增"+n,(e.query.id||e.query.groupId||e.query.colId||e.query.transCode)&&(e.meta.title="编辑"+n),a()},created:function(){this.$loading.show();var e=this.$route.params,t=e.fileId,n=e.listId,i=this.$route.query,r=i.childId,s=i.transCode;s&&(this.transCode=s),this.currentComponent=r?a("2PKd")("./"+h.default[t]+"/"+f.default[t][r][n]+"Form.vue").default:a("2PKd")("./"+h.default[t]+"/"+f.default[t][n]+"Form.vue").default},beforeRouteLeave:function(e,t,a){var n=this;this.$refs.fillPage.hasDraftData&&(this.saveData=this.$refs.fillPage.hasDraftData()||{});var i=(e.path,(0,o.default)(this.saveData)[0]);if(!this.submitSuccess||"LIST"!==e.name&&"MSGLIST"!==e.name||(e.meta.reload=!0,i&&sessionStorage.removeItem(i)),"LIST"===e.name&&sessionStorage.removeItem("DEALERLIST_SELITEMS"),"LIST"===e.name&&i&&!this.transCode&&!this.submitSuccess)return void this.$vux.confirm.show({content:"即将离开，是否保存数据？",onConfirm:function(){sessionStorage.setItem(i,(0,r.default)(n.saveData[i])),a()},onCancel:function(){sessionStorage.removeItem(i),a()}});a()}}},wRUd:function(e,t,a){"use strict";function n(e){a("EQWA")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("8xC5");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("RpJn"),o=a.n(s),l=a("j/kX"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-29ecb889",null);t.default=c.exports},wT6g:function(e,t,a){"use strict";function n(e){a("Lf62")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("crdR");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("+Lff"),o=a.n(s),l=a("W4RV"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-77e0f8f4",null);t.default=c.exports},wn1Q:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("bFc7"),p=n(v),C=a("zWMP"),_=a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",contactInfo:{},orderList:{}}},mixins:[u.default],components:{workFlow:h.default,RAction:f.default,contactPart:p.default},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a={},n=0,i=t.formData.order.dataSet,s=!0,l=!1,d=void 0;try{for(var u,c=(0,r.default)(i);!(s=(u=c.next()).done);s=!0){var f=u.value;f.noTaxAmount=(0,C.accMul)(f.price,f.tdQty),f.taxAmount=(0,C.accMul)(f.noTaxAmount,f.taxRate),f.tdAmount=(0,_.toFixed)((0,C.accAdd)(f.noTaxAmount,f.taxAmount)),f.inventoryPic=f.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+f.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),n=(0,C.accAdd)(n,f.tdAmount),a[f.transMatchedCode]||(a[f.transMatchedCode]=[]),e.orderList=a,a[f.transMatchedCode].push(f)}}catch(e){l=!0,d=e}finally{try{!s&&c.return&&c.return()}finally{if(l)throw d}}e.count=n,t.formData.invoiceDate=(0,o.default)(t.formData.invoiceDate,"YYYY-MM-DD"),e.orderInfo=t.formData,e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo={dealerName:a.dealerName_dealerCodeCredit,dealerContactPersonName:t.dealerCreditContactPersonName,dealerMobilePhone:t.dealerCreditContactInformation,dealerCode:a.dealerCodeCredit,province:a.province_dealerCodeCreditt,city:a.city_dealerCodeCreditt,county:a.county_dealerCodeCredit,address:a.address_dealerCodeCredit}}}}},wol0:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),m=a("bFc7"),h=n(m),v=a("6WeX"),p=n(v),C=a("3NX5"),_=n(C),y=a("sUbJ"),b=n(y),g=a("d7ck"),w=n(g),I=a("zWMP"),x=a("Qg39");t.default={data:function(){return{count:0,comment:"",orderInfo:{},formViewUniqueId:"e76a8c6f-05cc-45ee-ba93-299fe6751856",orderList:{}}},mixins:[l.default],components:{workFlow:f.default,RAction:u.default,PriceTotal:p.default,contactPart:h.default,MatterList:_.default,MatterItem:b.default,FormCell:w.default},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var d={},u=s.order,c=void 0===u?{}:u;e.attachment=l;var f=s.order.dataSet,m=!0,h=!1,v=void 0;try{for(var p,C=(0,r.default)(f);!(m=(p=C.next()).done);m=!0){var _=p.value;_.noTaxAmount=(0,I.accMul)(_.price,_.tdQty),_.taxAmount=(0,I.accMul)(_.noTaxAmount,_.taxRate),_.tdAmount=(0,x.toFixed)((0,I.accAdd)(_.noTaxAmount,_.taxAmount)),e.count=(0,I.accAdd)(e.count,_.tdAmount),_.inventoryPic=_.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),d[_.transMatchedCode]||(d[_.transMatchedCode]=[]),d[_.transMatchedCode].push(_)}}catch(e){h=!0,v=e}finally{try{!m&&C.return&&C.return()}finally{if(h)throw v}}e.orderList=d,e.dealerInfo={dealerName:c.dealerName_dealerCodeCredit,dealerMobilePhone:s.dealerCreditContactInformation,dealerContactPersonName:s.dealerCreditContactPersonName,dealerCode:c.dealerCodeCredit,dealerLabelName:c.crDealerLabel,province:c.province_dealerCodeCredit,city:c.city_dealerCodeCredit,county:c.county_dealerCodeCredit,address:c.address_dealerCodeCredit},e.orderInfo=s,e.workFlowInfoHandler()})}}}},wq9Q:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"techics-list-container",on:{click:function(t){e.showPop=!e.showPop}}},[a("div",{staticClass:"title",class:{required:e.required}},[e._v("工艺路线名称")]),e._v(" "),a("div",{staticClass:"mode"},[e._v(e._s(e.selItems.technicsName||e.placeholder))]),e._v(" "),a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-arrow-right r_arrow",attrs:{type:"ios-arrow-right",size:"16",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M160 115.4L180.7 96 352 256 180.7 416 160 396.7 310.5 256z"}})]),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"popup-technics-list-container",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"title"},[a("r-search",{attrs:{filterList:e.filterList,isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}})],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list-container",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"mater-list-item",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"info-item"},[a("div",{staticClass:"name"},[e._v(e._s(t.technicsName))])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}))],1)],1)])},i=[],r={render:n,staticRenderFns:i};t.a=r},wtWR:function(e,t){},wuIh:function(e,t,a){"use strict";function n(e){a("ecQd")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Sgei");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("4CDp"),o=a.n(s),l=a("QfFO"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-3136606a",null);t.default=c.exports},wxaE:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",dealerInfo:{}}},mixins:[u.default],components:{workFlow:h.default,RAction:f.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=t.formData,i=n.order,s=void 0===i?{}:i;e.attachment=a,e.dealerInfo={dealerName:s.dealerName_dealerDebit,dealerCode:s.dealerDebit,dealerLabelName:s.drDealerLabel,amntBal:s.thenAmntBalCopy2,thenTotalAmntBal:s.thenAlreadyAmnt};var l=n.order.dataSet,d=!0,u=!1,c=void 0;try{for(var f,m=(0,r.default)(l);!(d=(f=m.next()).done);d=!0){var h=f.value;e.count=(0,v.accAdd)(e.count,h.tdAmount)}}catch(e){u=!0,c=e}finally{try{!d&&m.return&&m.return()}finally{if(u)throw c}}t.formData.validUntil=(0,o.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},x2nN:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages fgysqk-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{"dealer-label-name":"往来",request:"2","default-value":e.dealerInfo},on:{"sel-item":e.selDealer}},[a("template",{slot:"other"},[a("div",{staticClass:"amt-dealer"},[a("span",{staticClass:"amt-dealer-item"},[e._v("本次收汇票: "+e._s(e.thenTotalAmntBal))])])])],2),e._v(" "),a("div",{staticClass:"materiel_list"},[e.orderList.length?[a("div",{staticClass:"title"},[e._v("汇票明细")]),e._v(" "),e._l(e.orderList,function(t,n){return a("div",{key:n,staticClass:"order-detail",class:{"vux-1px-t":0!==n}},[a("div",{staticClass:"detail-item top"},[a("span",{staticClass:"info-item"},[e._v(e._s(t.draftNumber))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"info-item"},[e._v("类型: "+e._s(t.draftType))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("承兑人: "+e._s(t.accepter))])]),e._v(" "),a("x-input",{attrs:{"text-align":"right",placeholder:"请填写",type:"number"},on:{"on-blur":function(a){e.checkAmt(t,"tdAmount")},"on-focus":function(t){e.getFocus(t)}},model:{value:t.tdAmount,callback:function(a){e.$set(t,"tdAmount",e._n(a))},expression:"item.tdAmount"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("金额")])])],2),e._v(" "),a("datetime",{model:{value:t.draftDate,callback:function(a){e.$set(t,"draftDate",a)},expression:"item.draftDate"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("出票日")])])],2),e._v(" "),a("datetime",{model:{value:t.draftDueDate,callback:function(a){e.$set(t,"draftDueDate",a)},expression:"item.draftDueDate"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("到期日")])])],2),e._v(" "),a("datetime",{model:{value:t.draftSellDate,callback:function(a){e.$set(t,"draftSellDate",a)},expression:"item.draftSellDate"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("出让日期")])])],2),e._v(" "),a("x-input",{attrs:{title:"说明","text-align":"right",placeholder:"请填写"},model:{value:t.comment,callback:function(a){e.$set(t,"comment",a)},expression:"item.comment"}})],1)})]:a("div",{staticClass:"order-info",on:{click:function(t){e.showOrder=!0}}},[a("div",{staticClass:"title"},[e._v("汇票明细")]),e._v(" "),a("div",{staticClass:"mode"},[e._v("请选择汇票明细")]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r-arrow"})])],2),e._v(" "),e.orderList.length?a("div",{staticClass:"handle_part vx-1px-t"},[e.orderList.length?a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多")]):e._e()]):e._e(),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"其他信息"}},[a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-money-order-list",{attrs:{show:e.showOrder,"default-value":e.orderList},on:{"sel-item":e.selOrder},model:{value:e.showOrder,callback:function(t){e.showOrder=t},expression:"showOrder"}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},x7T3:function(e,t,a){"use strict";function n(e){a("k0FM")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("UI89");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("IpWp"),o=a.n(s),l=a("IsFu"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-143c7d3a",null);t.default=c.exports},xBH9:function(e,t){},xCct:function(e,t,a){"use strict";function n(e){a("kSdW")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("hNmM");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("ghja"),o=a.n(s),l=a("BiK4"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-3f9d01c1",null);t.default=c.exports},xJ3M:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("J0Oq"),o=n(s),l=a("a3Yh"),d=n(l),u=a("4YfN"),c=n(u),f=a("HzJ8"),m=n(f),h=a("3cXf"),v=n(h),p=a("PzEQ"),C=n(p),_=a("kNGm"),y=n(_),b=a("u28h"),g=n(b),w=a("0AQX"),I=a("HyXB"),x=a("bKg5"),D=n(x),P=a("kZy/"),k=n(P),S=a("y8YJ"),T=n(S),L=a("yt3/"),N=n(L),M=a("luHD"),A=n(M),O=a("VZtf"),R=n(O),j=a("vl8n"),$=n(j),B=a("+WR7"),E=n(B),F=a("zWMP");t.default={components:{XTextarea:C.default,RNumber:R.default,Datetime:g.default,PopMatterList:k.default,PopDealerList:T.default,PopSingleSelect:N.default,PopMatter:A.default,RPicker:$.default,PopBaseinfo:E.default},data:function(){return{listId:"dd4d228d-fc01-4038-bf17-df54d8d06eb9",taxRate:.16,numMap:{},dealer:{},formData:{creator:"",modifer:"",biId:"",biComment:""},dealerInfo:{},contact:{},transMode:[],matterList:[],showTransPop:!1,showMaterielPop:!1,showDealerPop:!1}},mixins:[D.default],methods:{getPaymentTerm:function(){var e=this;return(0,I.getDictByType)("paymentTerm").then(function(t){var a=t.tableContent;e.transMode=a})},selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],this.dealer.drDealerPaymentTerm=this.dealerInfo.paymentTerm},selContact:function(e){this.dealer.dealerDebitContactPersonName=e.dealerName,this.dealer.dealerDebitContactInformation=e.dealerMobilePhone},selMatter:function(e){var t=this,a=JSON.parse(e);a.map(function(e){var a=e.processingStartDate?(0,y.default)(e.processingStartDate,"YYYY-MM-DD"):"",n=e.qtyBal<e.qty?e.qty:e.qtyBal,i=t.numMap[e.inventoryCode]||{},r=i.tdQty,s=void 0===r?n:r,o=i.price,l=void 0===o?e.price:o,d=i.taxRate,u=void 0===d?.16:d,c=i.processingStartDate,f=void 0===c?a:c;e.tdQty=s,e.price=l,e.taxRate=u,e.processingStartDate=f}),this.numMap={},this.matterList=a},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(t){return t.inventoryCode===e.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(e)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,v.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,m.default)(this.matterList);!(e=(n=i.next()).done);e=!0){var r=n.value;this.numMap[r.inventoryCode]=(0,c.default)({},r)}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerCode?0===this.matterList.length&&(t="请选择物料"):t="请选择供应商信息",t||this.matterList.every(function(e){if(!e.price)return t="单价不能为空",!1;if(!e.tdQty)return t="数量不能为空",!1;var n=e.taxRate,i=(0,F.accMul)(e.price,e.tdQty,n);return a.push({tdId:e.tdId||"",transObjCode:e.inventoryCode,tdProcessing:e.processing,assMeasureUnit:e.assMeasureUnit||"个",assMeasureScale:e.assMeasureScale||null,assistQty:e.assistQty||0,thenQtyBal:e.qtyBal||0,tdQty:e.tdQty,price:e.price,taxRate:n,taxAmount:i,tdAmount:(0,F.accAdd)((0,F.accMul)(e.price,e.tdQty),i),purchaseDay:e.purchaseDay,processingStartDate:e.processingStartDate,comment:""}),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=I.saveAndStartWf,n=(0,d.default)({},e.processCode,{businessKey:"PO",createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.biComment,formData:(0,v.default)((0,c.default)({},e.formData,e.dealer,{handlerEntity:e.entity.dealerName,order:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName||"",drDealerPaymentTerm:e.dealer.drDealerPaymentTerm,dataSet:a}})),wfPara:(0,v.default)(n)};e.isResubmit&&(t=I.saveAndCommitTask,i.biReferenceId=e.biReferenceId),e.processCode.length||(t=I.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,o.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,w.getSOList)({formViewUniqueId:e.uniqueId,transCode:e.transCode}).then(function(t){e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId;var a=t.formData;e.attachment=t.attachment,a.order.dataSet.map(function(t){t=(0,c.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,safeStock:t.safeStock_transObjCode,qtyBal:t.thenQtyBal,moq:t.moq_transObjCode}),e.matterList.push(t)}),e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,c.default)({},e.handlerDefault,{creator:a.creator,modifer:a.modifer,biComment:a.biComment,biProcessStatus:a.biProcessStatus,biId:a.biId}),e.dealerInfo={dealerMobilePhone:a.dealerDebitContactInformation,dealerCode:a.inPut.dataSet[0].dealerDebit,dealerSubclass:a.inPut.dataSet[0].drAccountSub,dealerName:a.inPut.dataSet[0].dealerName_dealerDebit,province:a.inPut.dataSet[0].province_dealerDebit,city:a.inPut.dataSet[0].city_dealerDebit,county:a.inPut.dataSet[0].county_dealerDebit,address:a.inPut.dataSet[0].address_dealerDebit,pamentDays:a.order.daysOfAccount},e.contact={dealerName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation},e.dealer={dealerDebitContactPersonName:a.dealerDebitContactPersonName,dealerDebitContactInformation:a.dealerDebitContactInformation,drDealerPaymentTerm:a.order.drDealerPaymentTerm||""},e.$loading.hide()});case 2:case"end":return t.stop()}},t,e)}))()},hasDraftData:function(){return!!this.matterList.length&&(0,d.default)({},"CGDD_DATA",{matter:this.matterList,dealerInfo:this.dealerInfo,formData:this.formData,dealer:this.dealer})},getRelationData:function(){}},created:function(){var e=sessionStorage.getItem("CGDD_DATA");e&&(this.matterList=JSON.parse(e).matter,this.dealerInfo=JSON.parse(e).dealerInfo,this.dealer=JSON.parse(e).dealer,this.formData=JSON.parse(e).formData,sessionStorage.removeItem("CGDD_DATA"))}}},xRGd:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"r-popup-container",class:{multipart:e.multipart},attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"r-popup-top"},[a("div",{staticClass:"title"},[a("r-search",{attrs:{filterList:e.filterList,"is-fill":e.isFill},on:{search:e.searchList,"turn-off":e.onHide}})],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"r-popup-list",attrs:{options:e.options,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.data.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.data,function(t,n){return a("div",{key:n,staticClass:"r-popup-item box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[e._t("pop-item",null,{item:t,index:n}),e._v(" "),e.multipart?a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-circle-outline selIcon",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]):e._e(),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])],2)}))],1),e._v(" "),e.multipart?a("div",{staticClass:"count_mode vux-1px-t"},[a("span",{staticClass:"count_num"},[e._v(" "+e._s(e.tmpItems.length?"已选 "+e.tmpItems.length+" 个":"请选择")+" ")]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.cfmMater}},[e._v("确定")])]):e._e()])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},xZDR:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=(a("XAqG"),a("HyXB"),a("MjAd")),o=n(s),l=a("ak47");n(l);t.default={name:"CPXQ_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"经办人",value:"handlerName"},{name:"交易号",value:"transCode"},{name:"员工",value:"profileName"}],listViewID:2374}},mixins:[o.default],methods:{pathChange:function(e,t,a){var n=this;if(!this.clickVisited){var i=e.transCode,s=this.$route.query.name,o=this.$route.params,l=o.fileId,d=o.listId;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,r.default)({},e));var u=a+"/"+l+"/"+d;setTimeout(function(){n.clickVisited=!1,n.$router.push({path:u,query:{name:s,transCode:i}})},200)}},goDetail:function(e,t){this.pathChange(e,t,"/detail")},goUserEdit:function(e,t){this.pathChange(e,t,"/fillform")}}}},xZDT:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"techics-list-container",on:{click:function(t){e.showPop=!e.showPop}}},[a("div",{staticClass:"title",class:{required:e.required}},[e._v("工序名称")]),e._v(" "),a("div",{staticClass:"mode"},[e._v(e._s(e.selItems.procedureName||e.placeholder))]),e._v(" "),a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-arrow-right r_arrow",attrs:{type:"ios-arrow-right",size:"16",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M160 115.4L180.7 96 352 256 180.7 416 160 396.7 310.5 256z"}})]),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"popup-technics-list-container",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"title"},[a("r-search",{attrs:{filterList:e.filterList,isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}})],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list-container",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"mater-list-item",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"info-item"},[a("div",{staticClass:"name"},[e._v(e._s(t.procedureName))])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}))],1)],1)])},i=[],r={render:n,staticRenderFns:i};t.a=r},xZPP:function(e,t,a){"use strict";function n(e){a("84pt")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Peu+");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("86eb"),o=a.n(s),l=a("xohE"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},xaLY:function(e,t,a){"use strict";function n(e){a("wtWR")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("/asA");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("4NWw"),o=a.n(s),l=a("JeVE"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-35329c43",null);t.default=c.exports},xbeG:function(e,t,a){"use strict";function n(e){a("d0ol")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("VxZ1");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("JYGM"),o=a.n(s),l=a("46bc"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-11028a6a",null);t.default=c.exports},xcUm:function(e,t,a){"use strict";!function e(){var t=document.documentElement.clientWidth;if(t>=375)document.documentElement.style.fontSize="100px";else{var a=t/375*100+"px";document.documentElement.style.fontSize=a}window.addEventListener("resize",e),window.addEventListener("orientationchange",e)}()},xdVj:function(e,t){},xns3:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("AupE"),f=n(c),m=a("BUFe"),h=n(m),v=a("bFc7"),p=n(v),C=a("3NX5"),_=n(C),y=a("zlAJ"),b=n(y);t.default={data:function(){return{orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},attachment:[]}},mixins:[u.default],components:{workFlow:f.default,RAction:h.default,contactPart:p.default,MatterList:_.default,UploadFile:b.default},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u=s.order,c=u.dataSet,f=!0,m=!1,h=void 0;try{for(var v,p=(0,r.default)(c);!(f=(v=p.next()).done);f=!0){var C=v.value;C.inventoryPic=C.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+C.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){m=!0,h=e}finally{try{!f&&p.return&&p.return()}finally{if(m)throw h}}e.attachment=d,s.validUntil=(0,o.default)(u.validUntil,"YYYY-MM-DD"),e.orderInfo=s,e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo={creatorName:t.dealerDebitContactPersonName,dealerName:a.dealerName_dealerDebit,dealerMobilePhone:t.dealerDebitContactInformation,dealerContactPersonName:t.dealerDebitContactPersonName,dealerCode:a.dealerDebit,dealerLabelName:a.drDealerLabel,province:a.province_dealerDebit,city:a.city_dealerDebit,county:a.county_dealerDebit,address:a.address_dealerDebit,payment:a.drDealerPaymentTerm,validUntil:t.validUntil,logistics:t.drDealerLogisticsTerms}}}}},xohE:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement;return(e._self._c||t)("span",{staticClass:"vux-label-desc"},[e._t("default")],2)},i=[],r={render:n,staticRenderFns:i};t.a=r},xqgC:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages xsbj-list-conatiner",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}))],1),e._v(" "),e.action.add?a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},xupB:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("ZLEe"),o=n(s),l=a("a3Yh"),d=n(l),u=a("d3k1"),c=(n(u),a("FvvE")),f=n(c),m=a("ZTs6"),h=n(m);t.default={data:function(){var e;return e={currentComponent:"",showLoadding:!0,transCode:"",submitSuccess:!1,submitLoadding:!1},(0,d.default)(e,"transCode",null),(0,d.default)(e,"saveData",{}),e},methods:{modifyRoute:function(e){this.submitSuccess=e},selData:function(e){this.saveData=e}},beforeRouteEnter:function(e,t,a){var n=e.query.name;e.meta.title="新增"+n,(e.query.id||e.query.groupId||e.query.colId||e.query.transCode)&&(e.meta.title="编辑"+n),a()},created:function(){this.$loading.show();var e=this.$route.params,t=e.fileId,n=e.listId,i=this.$route.query,r=i.childId,s=i.transCode;s&&(this.transCode=s),this.currentComponent=r?a("2PKd")("./"+h.default[t]+"/"+f.default[t][r][n]+"Form.vue").default:a("2PKd")("./"+h.default[t]+"/"+f.default[t][n]+"Form.vue").default},beforeRouteLeave:function(e,t,a){var n=this;this.$refs.fillPage.hasDraftData&&(this.saveData=this.$refs.fillPage.hasDraftData()||{});var i=(e.path,(0,o.default)(this.saveData)[0]);if(!this.submitSuccess||"LIST"!==e.name&&"MSGLIST"!==e.name||(e.meta.reload=!0,i&&sessionStorage.removeItem(i)),"LIST"===e.name&&sessionStorage.removeItem("DEALERLIST_SELITEMS"),"LIST"===e.name&&i&&!this.transCode&&!this.submitSuccess)return void this.$vux.confirm.show({content:"即将离开，是否保存数据？",onConfirm:function(){sessionStorage.setItem(i,(0,r.default)(n.saveData[i])),a()},onCancel:function(){sessionStorage.removeItem(i),a()}});a()}}},xwQh:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2487,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[i.default],methods:{},created:function(){}}},xyHp:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("kNGm"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("bFc7"),p=n(v),C=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",contactInfo:{}}},mixins:[u.default],components:{workFlow:h.default,RAction:f.default,contactPart:p.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=!0,i=!1,s=void 0;try{for(var l,d=(0,r.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;e.count=(0,C.accAdd)(e.count,u.tdAmount)}}catch(e){i=!0,s=e}finally{try{!n&&d.return&&d.return()}finally{if(i)throw s}}t.formData.validUntil=(0,o.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData;var c=e.orderInfo.order;e.contactInfo={creatorName:c.dealerDebitContactPersonName,dealerName:c.dealerName_dealerDebit,dealerMobilePhone:e.orderInfo.dealerDebitContactInformation,dealerContactPersonName:e.orderInfo.dealerDebitContactPersonName,dealerCode:c.dealerDebit,dealerLabelName:c.dealerName_dealerDebit,province:c.province_dealerDebit,city:c.city_dealerDebit,county:c.county_dealerDebit,address:c.address_dealerDebit},e.workFlowInfoHandler()})}}}},"y2/q":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=n(i),s=a("KH7x"),o=n(s),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("BGNQ"),m=n(f),h=a("z5TY"),v=n(h),p=a("SAzG"),C=n(p),_=a("u28h"),y=n(_),b=a("kNGm"),g=n(b),w=a("PzEQ"),I=n(w),x=a("jLp1"),D=a("bKg5"),P=n(D),k=a("vl8n"),S=n(k),T=a("+WR7"),L=n(T),N=a("Qg39"),M=a("zWMP");t.default={mixins:[P.default],components:{Icon:c.default,Cell:m.default,Group:v.default,XInput:C.default,RPicker:S.default,PopBaseinfo:L.default,Datetime:y.default,XTextarea:I.default},data:function(){return{projectList:[],taskList:[],formData:{biProcessStatus:""},jsonData:{baseinfo:{},comment:{biComment:""}},projectTask:{projectName:"",taskName:"",taskType:"",comment:"",deadline:"",planTime:"",cycleNumber:"",actualCompleteTime:"",actualTime:"",actualtHomeworkCost:0,budgetHomeworkCost:"",operatingRate:""}}},methods:{save:function(){var e=this,t="";if([{key:"projectName",message:"项目"},{key:"taskName",message:"任务"},{key:"actualCompleteTime",message:"实际完成日期"}].every(function(a){return!!e.projectTask[a.key]||(t=a.message+"不能为空",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show(),e.jsonData.baseinfo=(0,d.default)({},e.formData,{creator:e.formData.handler},e.jsonData.baseinfo,{modifer:e.formData.handler});var t=x.saveProjectTask,a={listId:"ee4ff0a1-c612-419d-afd7-471913d57a2a",formData:(0,d.default)({handlerEntity:e.entity.dealerName},e.jsonData,{projectTask:e.projectTask})};e.transCode&&(t=x.updateProjectTask),e.saveData(t,a)}})},clickDateSelect:function(){var e=this;this.$vux.datetime.show({confirmText:"确定",cancelText:"取消",value:this.formData.validUntil,onConfirm:function(t){e.formData.validUntil=t}})},getProjectList:function(){var e=this;return(0,x.getProjectPlanProjectName)().then(function(t){var a=t.tableContent,n=void 0===a?[]:a,i=[];n.forEach(function(e){e.projectName&&i.push((0,d.default)({},e,{name:e.projectName,value:e.projectName}))}),e.projectList=i})},taskChange:function(e){if(this.relationKey||this.transCode)return!1;var t=this.taskList.filter(function(t){return t.value===e}),a=(0,o.default)(t,1),n=a[0],i=void 0===n?{}:n;this.projectTask=(0,d.default)({},this.projectTask,{taskName:i.TASK_NAME,taskType:i.TASK_TYPE,comment:i.COMMENT,deadline:(0,g.default)(i.DEADLINE,"YYYY-MM-DD"),planTime:i.PLAN_TIME,budgetHomeworkCost:i.BUDGET_HOMEWORK_COST,operatingRate:i.JOB_RATE,cycleNumber:i.CYCLE_DAYS})},projectChange:function(e){if(this.relationKey||this.transCode)return!1;var t=this.projectList.find(function(t){return t.projectName===e});this.projectTask=(0,d.default)({},this.projectTask,{projectType:t.projectType||"",projectSubclass:t.projectSubclass||"",taskName:"",taskType:"",comment:"",deadline:"",planTime:"",budgetHomeworkCost:"",operatingRate:"",cycleNumber:""}),this.getTaskList()},getFormData:function(){var e=this;return(0,x.findProjectTask)(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=n.projectTask;e.jsonData=n,e.projectTask=(0,d.default)({},i,{actualCompleteTime:(0,g.default)(i.actualCompleteTime,"YYYY-MM-DD")}),e.handlerDefault={handler:n.baseinfo.handler,handlerName:n.baseinfo.handlerName,handlerUnit:n.baseinfo.handlerUnit,handlerUnitName:n.baseinfo.handlerUnitName,handlerRole:n.baseinfo.handlerRole,handlerRoleName:n.baseinfo.handlerRoleName},e.getTaskList(),e.$loading.hide()})},getTaskList:function(){var e=this;return(0,x.getProjectTodoTask)({projectName:this.projectTask.projectName}).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;e.taskList=n.map(function(e){return e=(0,d.default)({},e,{name:e.TASK_NAME,value:e.TASK_NAME})})})},checkTime:function(){var e=this.projectTask.actualTime;e&&(this.projectTask.actualTime=Math.abs((0,N.toFixed)(e,1))),this.projectTask.operatingRate&&this.projectTask.actualTime&&(this.projectTask.actualtHomeworkCost=(0,M.accMul)(this.projectTask.operatingRate,this.projectTask.actualTime))},hasDraftData:function(){return!!this.projectTask.projectName&&(0,r.default)({},"XMRW_DATA",{projectTask:this.projectTask})},getRelationData:function(){var e=this;return(0,x.findProjectPlan)(this.relationKey).then(function(t){var a=t.formData,n=void 0===a?{}:a,i=(t.attachment,n.projectPlan[0]);e.projectTask=(0,d.default)({},e.projectTask,{projectName:n.projectApproval.projectName,taskName:i.taskName,taskType:i.taskType,comment:i.comment,deadline:(0,g.default)(i.deadline,"YYYY-MM-DD"),planTime:i.planTime})})}},created:function(){var e=sessionStorage.getItem("XMRW_DATA");if(e){var t=JSON.parse(e);this.projectTask=t.projectTask,this.getTaskList(),sessionStorage.removeItem("XMRW_DATA")}this.getProjectList()}}},y8YJ:function(e,t,a){"use strict";function n(e){a("Z51k")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("mDKT");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("nY9r"),o=a.n(s),l=a("eQXQ"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-4cdc200f",null);t.default=c.exports},yB79:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"weui-btn",class:e.classes,style:e.buttonStyle,attrs:{disabled:e.disabled,type:e.actionType},on:{click:e.onClick}},[e.showLoading?a("i",{staticClass:"weui-loading"}):e._e(),e._v(" "),e._t("default",[e._v(e._s(e.text))])],2)},i=[],r={render:n,staticRenderFns:i};t.a=r},yCU9:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("a3Yh"),o=n(s),l=a("IHPB"),d=n(l),u=a("4YfN"),c=n(u),f=a("3cXf"),m=n(f),h=a("HXPS"),v=n(h),p=a("BGNQ"),C=n(p),_=a("z5TY"),y=n(_),b=a("SAzG"),g=n(b),w=a("PzEQ"),I=n(w),x=a("0AQX"),D=a("HyXB"),P=a("bKg5"),k=n(P),S=a("VZtf"),T=n(S),L=a("kZy/"),N=n(L),M=a("89pA"),A=n(M),O=a("luHD"),R=n(O),j=a("vl8n"),$=n(j),B=a("+WR7"),E=n(B);t.default={mixins:[k.default],components:{Icon:v.default,Cell:C.default,Group:y.default,XInput:g.default,XTextarea:I.default,RNumber:T.default,PopMatterList:N.default,PopWarehouseList:A.default,PopMatter:R.default,RPicker:$.default,PopBaseinfo:E.default},data:function(){return{listId:"4d9a7f8f-9a88-47b6-a1f4-3faed6423615",matterList:[],showMaterielPop:!1,transCode:"",formData:{biComment:""},numMap:{},warehouseOut:null,warehouseIn:null,warehouseParams:{whCode:""},matter:{},showMatterPop:!1,modifyIndex:null}},methods:{delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,m.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=this;this.matterList.forEach(function(t){e.numMap[t.inventoryCode]=t.tdQty}),this.showMaterielPop=!this.showMaterielPop},selWarehouseOut:function(e){this.warehouseOut=JSON.parse(e),this.warehouseParams=(0,c.default)({},this.warehouseParams,{whCode:this.warehouseOut.warehouseCode}),this.matterList=[]},selWarehouseIn:function(e){this.warehouseIn=JSON.parse(e)},modifyMatter:function(e,t){this.matter=JSON.parse((0,m.default)(e)),this.showMatterPop=!0,this.modifyIndex=t},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.matterList,this.modifyIndex,t)},selMatter:function(e){var t=this,a=JSON.parse(e);a.forEach(function(e){e.tdQty=t.numMap[e.inventoryCode]||""}),this.numMap={},this.matterList=[].concat((0,d.default)(a))},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},save:function(){var e=this,t="",a=[];if([{key:"warehouseOut",message:"出库仓库"},{key:"warehouseIn",message:"入库仓库"}].every(function(a){return!!e[a.key]||(t="请选择"+a.message,!1)}),t||this.matterList.length||(t="请选择物料"),this.matterList.every(function(n){if(!n.tdQty)return t="请填写调拨数量",!1;var i={transObjCode:n.inventoryCode,tdProcessing:n.processing,thenQtyStock:n.qtyBal,tdQty:n.tdQty,assistQty:n.assistQty||0,assMeasureScale:n.assMeasureScale||null,assMeasureUnit:n.assMeasureUnit||null,comment:n.comment||null};return e.transCode&&(i.tdId=n.tdId||""),a.push(i),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=D.saveAndStartWf,n=(0,c.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,containerOutWarehouseManager:e.warehouseOut.containerOutWarehouseManager||null,containerInWarehouseManager:e.warehouseIn.containerInWarehouseManager||null,inPut:{containerCodeOut:e.warehouseOut.warehouseCode,containerCode:e.warehouseIn.warehouseCode,dataSet:a}}),i={listId:e.listId,biComment:"",formData:(0,m.default)(n),wfPara:(0,m.default)((0,o.default)({},e.processCode,{businessKey:"TRAN",createdBy:n.creator}))};e.transCode&&(t=D.saveAndCommitTask,i.biReferenceId=e.biReferenceId,i.wfPara=(0,m.default)({businessKey:e.transCode,createdBy:n.creator,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=D.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,x.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=t.attachment;var o=[],l=s.inPut,d=l.dataSet,u=void 0===d?[]:d,f=!0,m=!1,h=void 0;try{for(var v,p=(0,r.default)(u);!(f=(v=p.next()).done);f=!0){var C=v.value;C=(0,c.default)({},C,{qtyBal:C.thenQtyStock,inventoryPic:C.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+C.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:C.inventoryName_transObjCode,inventoryCode:C.inventoryCode_transObjCode,specification:C.specification_transObjCode,measureUnit:C.measureUnit_transObjCode,processing:C.tdProcessing}),o.push(C)}}catch(e){m=!0,h=e}finally{try{!f&&p.return&&p.return()}finally{if(m)throw h}}e.warehouseIn={warehouseCode:l.containerCode,warehouseName:l.warehouseName_containerCode,warehouseType:l.warehouseType_containerCode,warehouseProvince:l.warehouseProvince_containerCode,warehouseCity:l.warehouseCity_containerCode,warehouseDistrict:l.warehouseDistrict_containerCode,warehouseAddress:l.warehouseAddress_containerCode},e.warehouseOut={warehouseCode:l.containerCodeOut,warehouseName:l.warehouseName_containerCodeOut,warehouseType:l.warehouseType_containerCodeOut,warehouseProvince:l.warehouseProvince_containerCodeOut,warehouseCity:l.warehouseCity_containerCodeOut,warehouseDistrict:l.warehouseDistrict_containerCodeOut,warehouseAddress:l.warehouseAddress_containerCodeOut},e.warehouseParams={whCode:e.warehouseOut.warehouseCode},e.handlerDefault={handler:s.handler,handlerName:s.handlerName,handlerUnit:s.handlerUnit,handlerUnitName:s.handlerUnitName,handlerRole:s.handlerRole,handlerRoleName:s.handlerRoleName},e.formData=(0,c.default)({},e.handlerDefault,{biComment:s.biComment,biId:s.biId,biProcessStatus:s.biProcessStatus,creator:s.creator,modifer:s.modifer}),e.biReferenceId=s.biReferenceId,e.matterList=o,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,o.default)({},"BDKCDB_DATA",{matter:this.matterList,warehouseOut:this.warehouseOut,warehouseIn:this.warehouseIn,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("BDKCDB_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.warehouseOut=t.warehouseOut,this.warehouseIn=t.warehouseIn,this.formData=t.formData,this.warehouseParams={whCode:this.warehouseOut.warehouseCode},sessionStorage.removeItem("BDKCDB_DATA")}}}},yFf3:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("div",{staticClass:"title"},[a("m-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}})],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.costList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.costList,function(t,n){return a("div",{key:n,staticClass:"each_mater box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"mater_main "},[a("div",{staticClass:"cost_name"},[e._v("\n              "+e._s(t.costName)+"\n            ")]),e._v(" "),a("div",{staticClass:"cost_type"},[e._v("\n              "+e._s(t.costType)+"\n            ")])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}))],1)])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},yM1i:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("7g+Q"),r=n(i),s=a("HXPS"),o=n(s);t.default={name:"PopSingleSelect",props:{title:{type:String,default:""},value:{type:String,default:""},data:{type:Array,default:function(){return[]}},isRequired:{type:Boolean,default:!1}},components:{Popup:r.default,Icon:o.default},data:function(){return{showPop:!1,tmp:"",selected:""}},watch:{value:{handler:function(e){this.tmp=e,this.selected=e}}},methods:{selItem:function(e){this.tmp=e},confirm:function(){this.selected=this.tmp,this.showPop=!1,this.$emit("input",this.selected)}},created:function(){this.tmp=this.value,this.selected=this.value}}},yPF3:function(e,t,a){"use strict";function n(e){a("N0ej")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("qEHM");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("SfL5"),o=a.n(s),l=a("vKIB"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-76754856",null);t.default=c.exports},yPVV:function(e,t,a){"use strict";function n(e){a("3JsN")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("rVlw");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("OMTN"),o=a.n(s),l=a("uIEf"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-4262d4be",null);t.default=c.exports},yQzi:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2418,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"客户名称",value:"dealerName_dealerCodeCredit"}]}},mixins:[i.default],methods:{},created:function(){}}},"yS+Q":function(e,t){},yYGT:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"childPage"},[a("div",{staticClass:"content"},[a("div",{staticClass:"mater_baseinfo vux-1px-b"},[a("div",{staticClass:"mater_property"},[a("div",{staticClass:"each_property vux-1px-b"},[a("label",{staticClass:"required"},[e._v("公司名称:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newCompanyInfo.groupName,expression:"newCompanyInfo.groupName"}],staticClass:"property_val",attrs:{type:"text"},domProps:{value:e.newCompanyInfo.groupName},on:{blur:e.checkGroupName,input:function(t){t.target.composing||e.$set(e.newCompanyInfo,"groupName",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"each_property required"},[a("label",{staticClass:"required"},[e._v("公司简称:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newCompanyInfo.groupShortName,expression:"newCompanyInfo.groupShortName"}],staticClass:"property_val",attrs:{type:"text"},domProps:{value:e.newCompanyInfo.groupShortName},on:{blur:e.checkShortName,input:function(t){t.target.composing||e.$set(e.newCompanyInfo,"groupShortName",t.target.value)}}})])]),e._v(" "),a("upload-image",{attrs:{src:e.newCompanyInfo.groupPic},on:{"on-upload":e.onUpload,"on-error":e.getDefaultImg}})],1),e._v(" "),a("r-picker",{attrs:{title:"公司类型:",data:e.CompanyType,value:e.newCompanyInfo.companyType,required:!0},model:{value:e.newCompanyInfo.companyType,callback:function(t){e.$set(e.newCompanyInfo,"companyType",t)},expression:"newCompanyInfo.companyType"}}),e._v(" "),a("r-picker",{attrs:{title:"公司状态",data:e.CompanyStatus,value:e.newCompanyInfo.status},model:{value:e.newCompanyInfo.status,callback:function(t){e.$set(e.newCompanyInfo,"status",t)},expression:"newCompanyInfo.status"}})],1),e._v(" "),a("div",{staticClass:"vux-1px-t btn",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"cfm_btn",on:{click:e.save}},[e._v(e._s(e.groupId?"保存":"提交"))])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},yYlT:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",class:{dashboard:e.chartShow},attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},[e.chartShow?a("apply-chart"):a("div",{staticClass:"list"},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}))],1)],1),e._v(" "),!e.chartShow&&e.action.add?a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},ybHX:function(e,t){},yiMf:function(e,t,a){"use strict";function n(e){a("GZnU")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("0g5o");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("wGHW"),o=a.n(s),l=a("h0Lv"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-5d316f36",null);t.default=c.exports},yjOG:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("lC5x"),r=n(i),s=a("HzJ8"),o=n(s),l=a("J0Oq"),d=n(l),u=a("3cXf"),c=n(u),f=a("4YfN"),m=n(f),h=a("IzfM"),v=n(h),p=a("Dkzh"),C=a("AQAo"),_=n(C),y=a("FvvE"),b=n(y),g=a("ZTs6"),w=(n(g),a("xbeG")),I=n(w),x=a("vmwj"),D=n(x),P=a("yKqG"),k=n(P);t.default={data:function(){return{BUSobj:{},userInfo:{},BusApps:[],BasicApps:[],homeScroll:null,entityList:[],showDrop:!1,selItem:{}}},components:{busApp:I.default,basicApp:D.default},methods:{goBasic:function(e){this.$router.push({path:""+_.default[e]})},goList:function(e,t,a,n){this.$router.push({path:"/list/"+a+"/"+e,query:{name:t,childId:n}})},goAppDetail:function(e){this.$router.push({path:"/appDetail/"+e})},getDefaultIcon:function(e){var t=a("CYNT");return e&&(e.icon=t),t},getNews:function(){var e=this,t=void 0;return(0,p.getMsgList)().then(function(a){if(a.dataCount>99)return void(t="99+");t=a.dataCount,e.$event.$emit("badgeNum",t)})},getCurrentUser:function(){var e=this;return v.default.currentUser().then(function(t){e.userInfo={photo:t.photo,mobile:t.mobile,userCode:t.userCode,nickname:t.nickname,entityName:t.entityName&&t.entityName.slice(0,4)||""},t.sysGroupList&&t.sysGroupList.forEach(function(a){"C"===a.groupType&&(e.entityList.push(a),a.groupName===t.entityName&&(e.selItem=a))})})},dropItemClick:function(e){this.selItem=(0,m.default)({},e),this.userInfo.entityName=e.groupName.slice(0,4),this.showDrop=!1,this.$loading.show(),v.default.changeEntity({entityId:e.groupCode}).then(function(e){var t=sessionStorage.getItem("ROSE_LOGIN_TOKEN");t&&(t=JSON.parse(t),t.entityId=e.entityId,t.token=e.token,sessionStorage.setItem("ROSE_LOGIN_TOKEN",(0,c.default)(t)),location.reload())})}},watch:{$route:{handler:function(e){"HOME"===e.name&&this.homeScroll.refresh()}}},created:function(){var e=this;this.$loading.show(),(0,d.default)(r.default.mark(function t(){var n,i,s,l,d;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getCurrentUser();case 2:return t.next=4,v.default.getMeau().then(function(t){var a=e.BUSobj,n=!0,i=!1,r=void 0;try{for(var s,l=(0,o.default)(t);!(n=(s=l.next()).done);n=!0){var d=s.value;if(b.default[d.id]){a[d.text]=[];var u=!0,c=!1,f=void 0;try{for(var h,v=(0,o.default)(d.children);!(u=(h=v.next()).done);u=!0){var p=h.value;if(_.default[p.listId]&&(p.icon=p.icon?"/dist/"+p.icon:"",e.BasicApps.push(p)),b.default[d.id][p.listId]&&(p.fileID=d.id,p.icon=p.icon?"/dist/"+p.icon:e.getDefaultIcon(),a[d.text].push(p)),b.default[d.id][p.id]){var C=!0,y=!1,g=void 0;try{for(var w,I=(0,o.default)(p.children);!(C=(w=I.next()).done);C=!0){var x=w.value;b.default[d.id][p.id][x.listId]&&(x.fileID=d.id,x.icon=x.icon?"/dist/"+x.icon:e.getDefaultIcon(),a[d.text][p.text]?a[d.text][p.text].childList.push(x):e.$set(a[d.text],p.text,{childId:p.id,childName:p.text,childList:[x]}))}}catch(e){y=!0,g=e}finally{try{!C&&I.return&&I.return()}finally{if(y)throw g}}}}}catch(e){c=!0,f=e}finally{try{!u&&v.return&&v.return()}finally{if(c)throw f}}e.BusApps.push({id:d.id,name:d.text,appList:(0,m.default)({},a[d.text])}),e.$loading.hide()}}}catch(e){i=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(i)throw r}}});case 4:return n=JSON.parse(sessionStorage.getItem("ROSE_LOGIN_TOKEN")),i=n.name,s=n.avatar,l=n.position,s||(d=e.userInfo.photo,e.userInfo.photo||(d=a("cr7Q")),s=d),e.userInfo=(0,m.default)({},e.userInfo,{name:i,avatar:s,position:l}),t.next=10,e.getNews();case 10:case"end":return t.stop()}},t,e)}))()},mounted:function(){this.homeScroll=new k.default(this.$refs.home,{click:!0})}}},yosr:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("6q39"),v=n(h),p=a("kNGm"),C=n(p),_=a("fEP3"),y=a("1KNX"),b=n(y),g=a("7biW"),w=n(g);t.default={name:"work-list-pop",props:{show:{type:Boolean,default:!1},defaultValue:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:m.default,LoadMore:v.default,RScroll:b.default,MSearch:w.default},filters:{dateFormat:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},workList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterList:[{name:"成品名称",value:"inventoryName"},{name:"成品编码",value:"inventoryCode"},{name:"工序名称",value:"procedureName"}],filterProperty:"",inventoryCode:"",orderCode:""}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){return this.selItems.colId===e.colId},selThis:function(e,t){this.showPop=!1,this.selItems=(0,d.default)({},e),this.$emit("sel-work",this.selItems)},setDefaultValue:function(){this.selItems=(0,d.default)({},this.defaultValue)},getWorkOrderTask:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),this.inventoryCode&&(t=[].concat((0,o.default)(t),[{operator:"eq",value:this.inventoryCode,property:"matCode"},{operator:"eq",value:this.orderCode,property:"transCode"}])),(0,_.getWorkCheckList)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,r.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,r=void 0===i?[]:i;if(e.inventoryCode){var s=r.find(function(t){return t.matCode===e.inventoryCode&&t.transCode===e.orderCode});s&&e.selThis(s)}e.hasNext=n>(e.page-1)*e.limit+r.length,e.workList=1===e.page?r:[].concat((0,o.default)(e.workList),(0,o.default)(r)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.workList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getWorkOrderTask()},onPullingUp:function(){this.page++,this.getWorkOrderTask()}},created:function(){var e=this.$route.query,t=e.inventoryCode,a=void 0===t?"":t,n=e.orderCode,i=void 0===n?"":n;this.inventoryCode=a,this.orderCode=i,this.setDefaultValue(),this.getWorkOrderTask()}}},yp1W:function(e,t,a){"use strict";function n(e){a("cW3i")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("E0uh");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("tNTb"),o=a.n(s),l=a("2hEA"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-86c8fdde",null);t.default=c.exports},yqeo:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("IHPB"),o=n(s),l=a("HXPS"),d=n(l),u=a("7g+Q"),c=n(u),f=a("6q39"),m=n(f),h=a("fEP3"),v=a("1KNX"),p=n(v),C=a("7biW"),_=n(C);a("zWMP");t.default={name:"work-list-pop",props:{show:{type:Boolean,default:!1},params:{type:Object,default:function(){return{calc_rel_code:7051,view_id:"view_94"}}},workType:{type:String,default:"派工"}},components:{Icon:d.default,Popup:c.default,LoadMore:m.default,RScroll:p.default,MSearch:_.default},data:function(){return{showPop:!1,srhInpTx:"",scrollOptions:{click:!0},btnText:"关闭",filterList:[{name:"成品名称",value:"inventoryName"},{name:"工序名称",value:"procedureName"}],filterProperty:"",taskWorkList:[],tmpItems:[]}},watch:{show:{handler:function(e){this.showPop=e}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1),this.tmpItems=[]},findIndex:function(e,t){return e.findIndex(function(e){var a=!0;return e.transCode&&(a=e.transCode===t.transCode),a&&e.inventoryName===t.inventoryName&&e.procedureName===t.procedureName})},showSelIcon:function(e){return-1!==this.findIndex(this.tmpItems,e)},selThis:function(e,t){var a=this.tmpItems,n=this.findIndex(a,e);if(-1!==n)return a.splice(n,1),void(a.length||(this.btnText="关闭"));a.push(e),this.btnText=this.tmpItems?"发起工单"+this.workType:"关闭"},getWorkOrderTask:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,o.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,h.getWorkOrderTask)({filter:(0,r.default)(t)}).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;n.forEach(function(e){e.isStartTask=!1}),e.taskWorkList=n})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,i=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=i,this.taskWorkList={},this.$refs.bScroll.scrollTo(0,0),this.getWorkOrderTask()},btnHandle:function(){"关闭"!==this.btnText&&this.$emit("sel-task",this.tmpItems),this.showPop=!1}},created:function(){this.getWorkOrderTask()}}},"yt3/":function(e,t,a){"use strict";function n(e){a("RuXi")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("eQoa");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("yM1i"),o=a.n(s),l=a("zQWA"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-4217c02c",null);t.default=c.exports},yv4D:function(e,t,a){"use strict";function n(e){a("KQLG")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("xJ3M");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("ZsTC"),o=a.n(s),l=a("3MKb"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-1af29fae",null);t.default=c.exports},"z/Aa":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"childPage"},[a("div",{staticClass:"content"},[a("div",{staticClass:"each_property vux-1px-b",on:{click:e.getDate}},[a("label",[e._v("期间(月份):")]),e._v(" "),a("div",{staticClass:"property_val",class:{tip:""===e.submitData.date}},[e._v(e._s(e.submitData.date||"请选择"))])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("效率与成本改进成果:")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.submitData.achievement,expression:"submitData.achievement"}],staticClass:"property_val",attrs:{placeholder:"请输入"},domProps:{value:e.submitData.achievement},on:{input:function(t){t.target.composing||e.$set(e.submitData,"achievement",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("效率与成本改进机会:")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.submitData.chance,expression:"submitData.chance"}],staticClass:"property_val",attrs:{placeholder:"请输入"},domProps:{value:e.submitData.chance},on:{input:function(t){t.target.composing||e.$set(e.submitData,"chance",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"btn vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"cfm_btn",on:{click:e.submit}},[e._v("提交")])])])},i=[],r={render:n,staticRenderFns:i};t.a=r},z10A:function(e,t,a){"use strict";function n(e){a("oMHV")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("Ij+m");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("bI5q"),o=a.n(s),l=a("sc5v"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-2cb5bc68",null);t.default=c.exports},z3XC:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("MgeX"),r=n(i),s=a("lC5x"),o=n(s),l=a("J0Oq"),d=n(l),u=a("a3Yh"),c=n(u),f=a("4YfN"),m=n(f),h=a("HzJ8"),v=n(h),p=a("ZLEe"),C=n(p),_=a("3cXf"),y=n(_),b=a("z5TY"),g=n(b),w=a("SAzG"),I=n(w),x=a("PzEQ"),D=n(x),P=a("u28h"),k=n(P),S=a("BGNQ"),T=n(S),L=a("0AQX"),N=a("HyXB"),M=a("bKg5"),A=n(M),O=a("kZy/"),R=n(O),j=a("luHD"),$=n(j),B=a("VZtf"),E=n(B),F=a("vl8n"),U=n(F),q=a("+WR7"),Q=n(q),H=a("zWMP"),V=a("Qg39");t.default={data:function(){return{listId:"43ccbc27-bbb5-4cfb-997b-6d3823f1c03e",orderList:{},matterList:[],showMaterielPop:!1,formData:{biId:"",biComment:""},applyComment:"",numMap:{},matterParams:{processing:"成品,商品,服务,原料,半成品"},modifyKey:"",filterList:[{name:"物料名称",value:"invName"},{name:"物料编码",value:"matCode"},{name:"交易号",value:"transCode"}]}},components:{XTextarea:D.default,Group:g.default,XInput:I.default,Datetime:k.default,Cell:T.default,RNumber:E.default,PopMatter:$.default,PopMatterList:R.default,RPicker:U.default,PopBaseinfo:Q.default},computed:{totalNum:function(){var e=0;return this.matterList.forEach(function(t){e=(0,H.accAdd)(e,t.tdQty)}),Number(e)},tdAmount:function(){var e=0;return this.matterList.forEach(function(t){e=(0,H.accAdd)(e,(0,H.accMul)(t.tdQty,t.price))}),parseFloat(e.toFixed(2))}},mixins:[A.default],methods:{selMatter:function(e){var t=this,a=JSON.parse(e),n={};a.map(function(e){var a=e.transCode+"_"+e.inventoryCode,i=e.processingStartDate?e.processingStartDate.split(" ")[0]:"",r=t.numMap[a]||{},s=r.tdQty,o=void 0===s?e.qtyBalance:s,l=r.price,d=void 0===l?"":l,u=r.promDeliTime,c=void 0===u?i:u;e.tdQty=o,e.price=d,e.promDeliTime=c,n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,y.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.inventoryCode!==e.inventoryCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode&&e.transCode===t.transCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,y.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,C.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],i=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});i>=0&&n.splice(i,1),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=!0,t=!1,a=void 0;try{for(var n,i=(0,v.default)(this.matterList);!(e=(n=i.next()).done);e=!0){var r=n.value;this.numMap[r.transCode+"_"+r.inventoryCode]=(0,m.default)({},r)}}catch(e){t=!0,a=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw a}}this.showMaterielPop=!this.showMaterielPop},checkAmt:function(e){var t=e.price,a=e.tdQty,n=e.qtyBalance;t&&(e.price=Math.abs((0,V.toFixed)(t))),a&&(e.tdQty=Math.abs((0,V.toFixed)(a)),a>n&&(e.tdQty=n))},submitOrder:function(){var e=this,t="",a=[];if(0===this.matterList.length&&(t="请选择物料"),t||this.matterList.every(function(e){return e.price?e.tdQty?(a.push({tdId:e.tdId||"",transMatchedCode:e.transCode,transObjCode:e.inventoryCode,tdProcessing:e.processing,assMeasureUnit:e.assMeasureUnit||"个",assMeasureScale:e.assMeasureScale||null,assistQty:e.assistQty||0,productDemandQty:e.allQty,thenLockQty:e.qtyed,thenQtyBal:e.qtyBalance,tdQty:e.tdQty,price:e.price,tdAmount:(0,H.accMul)(e.price,e.tdQty),promDeliTime:e.promDeliTime,comment:""}),!0):(t="数量不能为空",!1):(t="单价不能为空",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=N.saveAndStartWf,n=(0,c.default)({},e.processCode,{businessKey:"PAPP",createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:e.biComment,formData:(0,y.default)((0,m.default)({},e.formData,{handlerEntity:e.entity.dealerName,order:{dataSet:a}})),wfPara:(0,y.default)(n)};e.isResubmit&&(t=N.saveAndCommitTask,i.biReferenceId=e.biReferenceId),e.processCode.length||(t=N.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,d.default)(o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,L.getSOList)({formViewUniqueId:e.uniqueId,transCode:e.transCode}).then(function(t){e.listId=t.listId,e.applyComment=t.biComment,e.biReferenceId=t.biReferenceId,e.attachment=t.attachment;var a=t.formData,n={},i=[];i=a.order.dataSet.map(function(t){return t=(0,m.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,inventoryType:t.inventoryType_transObjCode,inventorySubclass:t.inventorySubclass_transObjCode,allQty:t.productDemandQty,qtyed:t.thenLockQty,qtyBalance:t.thenQtyBal,transCode:t.transMatchedCode}),n[t.transCode]||(n[t.transCode]=[]),n[t.transCode].push(t),t}),e.orderList=n,e.matterList=i,e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,m.default)({},e.handlerDefault,{creator:a.creator,modifer:a.modifer,biId:a.biId,biComment:a.biComment,biProcessStatus:a.biProcessStatus}),e.$loading.hide()});case 2:case"end":return t.stop()}},t,e)}))()},hasDraftData:function(){return!!(0,r.default)(this.orderList).length&&(0,c.default)({},"CGSQ_DATA",{orderList:this.orderList,formData:this.formData})}},created:function(){var e=this,t=sessionStorage.getItem("CGSQ_DATA");if(t){this.orderList=JSON.parse(t).orderList,this.formData=JSON.parse(t).formData;for(var a in this.orderList)this.orderList[a].forEach(function(t){e.matterList.push(t)});sessionStorage.removeItem("CGSQ_DATA")}}}},z5TY:function(e,t,a){"use strict";function n(e){a("jICf")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("G/uS");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("jrYp"),o=a.n(s),l=a("sIfZ"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,null,null);t.default=c.exports},z7Bm:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}))],1),e._v(" "),e.action.add?a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},z7Zk:function(e,t,a){"use strict";function n(e){a("bOvy")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("CGvj");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("eg1s"),o=a.n(s),l=a("NIYf"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-07eb5861",null);t.default=c.exports},zF26:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);a("vS5q");t.default={data:function(){return{listViewID:2476,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"设备名称",value:"facilityName_facilityObjCode"}]}},mixins:[i.default],methods:{},created:function(){}}},zHRR:function(e,t,a){"use strict";function n(e){a("Qg6Q")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("ccoT");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("ncND"),o=a.n(s),l=a("9tFN"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-2248df04",null);t.default=c.exports},zOFp:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("HzJ8"),o=n(s),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("PKHo"),f=n(c),m=a("zWMP"),h=a("BUFe"),v=n(h),p=a("AupE"),C=n(p),_=a("sUbJ"),y=n(_),b=a("FlCz"),g=n(b),w=a("d7ck"),I=n(w),x=a("MVgC"),D=n(x);t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",orderList:{},basicInfo:{},DuplicateBoms:[],UniqueBom:[],bomPopShow:!1,bom:{}}},mixins:[u.default,f.default],components:{workFlow:C.default,RAction:v.default,MatterItem:y.default,BomList:g.default,FormCell:I.default,BomPop:D.default},watch:{DuplicateBoms:{handler:function(e){var t=function(e,t){return e.inventoryCode===t.inventoryCode};this.UniqueBom=function(e){return e.reduce(function(e,a){return e.some(function(e){var n=t(e,a);return n&&(e.tdQty=(0,m.accAdd)(e.tdQty,a.tdQty)),n})||e.push(a),e},[])}(this.DuplicateBoms)}}},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},checkBom:function(e){this.bom=e,this.bomPopShow=!0},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u={};s.order;e.attachment=d;var c=s.inPut.dataSet,f=!0,h=!1,v=void 0;try{for(var p,C=(0,o.default)(c);!(f=(p=C.next()).done);f=!0){var _=p.value;if(_.inventoryPic=_.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),_.boms){var y=!0,b=!1,g=void 0;try{for(var w,I=(0,o.default)(_.boms);!(y=(w=I.next()).done);y=!0){var x=w.value;x.inventoryCode=x.transObjCode,x.warehouseName=x.warehouseName_containerCodeOut,x.warehouseCode=x.containerCodeOut,x.qtyStock=x.thenQtyStock,x.tdQty=(0,m.accSub)((0,m.accMul)(_.processQty,x.bomQty,1+x.bomSpecificLoss),x.lockQty)}}catch(e){b=!0,g=e}finally{try{!y&&I.return&&I.return()}finally{if(b)throw g}}}e.DuplicateBoms=e.DuplicateBoms.concat(JSON.parse((0,r.default)(_.boms))),u[_.transMatchedCode]||(u[_.transMatchedCode]=[]),u[_.transMatchedCode].push(_)}}catch(e){h=!0,v=e}finally{try{!f&&C.return&&C.return()}finally{if(h)throw v}}e.orderList=u,e.orderInfo=s,e.workFlowInfoHandler()})}}}},zPJ7:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("HzJ8"),r=n(i),s=a("0AQX"),o=a("+VRO"),l=n(o),d=a("zWMP"),u=a("Qg39"),c=a("BUFe"),f=n(c),m=a("AupE"),h=n(m),v=a("89pA"),p=n(v),C=a("bFc7"),_=n(C),y=a("6WeX"),b=n(y),g=a("hPJo"),w=n(g),I=a("kKsb"),x=n(I),D=a("sUbJ"),P=n(D),k=a("d7ck"),S=n(k);t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"",orderList:{},warehouse:{},dealerInfo:{},basicInfo:{}}},computed:{noTaxAmount:function(){var e=0;return this.orderInfo.outPut.dataSet.forEach(function(t){e=(0,d.accAdd)(e,t.noTaxAmount)}),e},taxAmount:function(){var e=0;return this.orderInfo.outPut.dataSet.forEach(function(t){e=(0,d.accAdd)(e,t.taxAmount)}),e}},mixins:[l.default],components:{workFlow:h.default,RAction:f.default,PopWarehouseList:p.default,contactPart:_.default,PriceTotal:b.default,WarehouseContent:w.default,ProjectPart:x.default,MatterItem:P.default,FormCell:S.default},methods:{getDefaultImg:function(e){var t=a("Y//y");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,i=t.formData,s=void 0===i?{}:i,o=t.attachment,l=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var c={},f=s.outPut,m=void 0===f?{}:f;e.attachment=l;var h=s.outPut.dataSet,v=!0,p=!1,C=void 0;try{for(var _,y=(0,r.default)(h);!(v=(_=y.next()).done);v=!0){var b=_.value;b.noTaxAmount=(0,d.accMul)(b.price,b.tdQty),b.taxAmount=(0,d.accMul)(b.noTaxAmount,b.taxRate),b.tdAmount=(0,u.toFixed)((0,d.accAdd)(b.noTaxAmount,b.taxAmount)),e.count=(0,d.accAdd)(e.count,b.tdAmount),b.inventoryPic=b.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+b.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),b.inventoryName_transObjCode=b.inventoryName_outPutMatCode,b.transObjCode=b.outPutMatCode,c[b.orderCode]||(c[b.orderCode]=[]),c[b.orderCode].push(b)}}catch(e){p=!0,C=e}finally{try{!v&&y.return&&y.return()}finally{if(p)throw C}}e.orderList=c,e.dealerInfo={creatorName:s.dealerDebitContactPersonName,dealerName:m.dealerName_dealerDebit,dealerMobilePhone:s.dealerDebitContactInformation,dealerContactPersonName:s.dealerDebitContactPersonName,dealerCode:m.dealerDebit,dealerLabelName:m.drDealerLabel,province:m.province_dealerDebit,city:m.city_dealerDebit,county:m.county_dealerDebit,address:m.address_dealerDebit,payment:m.drDealerPaymentTerm,logistics:s.drDealerLogisticsTerms},e.warehouse={warehouseCode:m.containerCodeOut,warehouseName:m.warehouseName_containerCodeOut,warehouseType:m.warehouseType_containerCodeOut,warehouseProvince:m.warehouseProvince_containerCodeOut,warehouseCity:m.warehouseCity_containerCodeOut,warehouseDistrict:m.warehouseDistrict_containerCodeOut,warehouseAddress:m.warehouseAddress_containerCodeOut},e.orderInfo=s,e.workFlowInfoHandler()})}}}},zQWA:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pop-single-container",on:{click:function(t){e.showPop=!e.showPop}}},[a("div",{staticClass:"pop_info"},[a("div",{staticClass:"title",class:{required:e.isRequired}},[e._v(e._s(e.title))]),e._v(" "),a("div",{staticClass:"mode"},[a("span",{staticClass:"mode-content"},[e._v(e._s(e.selected||"请选择"))]),e._v(" "),a("span",{staticClass:"iconfont icon-shenglve"})])]),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"70%"},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("div",{staticClass:"title"},[e._v(e._s(e.title)+"\n          "),a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-close-empty close_icon",attrs:{type:"ios-close-empty",size:"30",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 512 512"},on:{click:function(t){e.showPop=!e.showPop}}},[a("path",{staticClass:"st0",attrs:{d:"M340.2 160l-84.4 84.3-84-83.9-11.8 11.8 84 83.8-84 83.9 11.8 11.7 84-83.8 84.4 84.2 11.8-11.7-84.4-84.3 84.4-84.2z"}})])]),e._v(" "),e._l(e.data,function(t,n){return a("span",{key:n,staticClass:"each_mode",class:{choiced:t.name===e.tmp},on:{click:function(a){e.selItem(t.name,n)}}},[e._v(e._s(t.name))])})],2),e._v(" "),a("div",{staticClass:"cfm_btn",on:{click:e.confirm}},[e._v("确定")])])],1)])},i=[],r={render:n,staticRenderFns:i};t.a=r},zRbv:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),r=n(i),s=(a("XAqG"),a("HyXB"),a("MjAd")),o=n(s),l=a("ak47");n(l);t.default={name:"CPXQ_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"经办人",value:"handlerName"},{name:"交易号",value:"transCode"}],listViewID:2335}},mixins:[o.default],methods:{pathChange:function(e,t,a){var n=this;if(!this.clickVisited){var i=e.transCode,s=this.$route.query.name,o=this.$route.params,l=o.fileId,d=o.listId;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,r.default)({},e));var u=a+"/"+l+"/"+d;setTimeout(function(){n.clickVisited=!1,n.$router.push({path:u,query:{name:s,transCode:i}})},200)}},goDetail:function(e,t){this.pathChange(e,t,"/detail")},goUserEdit:function(e,t){this.pathChange(e,t,"/fillform")}}}},zTEm:function(e,t){},zWMP:function(e,t,a){"use strict";function n(e,t){var a,n,i,r;try{a=e.toString().split(".")[1].length}catch(e){a=0}try{n=t.toString().split(".")[1].length}catch(e){n=0}if(r=Math.abs(a-n),i=Math.pow(10,Math.max(a,n)),r>0){var s=Math.pow(10,r);a>n?(e=Number(e.toString().replace(".","")),t=Number(t.toString().replace(".",""))*s):(e=Number(e.toString().replace(".",""))*s,t=Number(t.toString().replace(".","")))}else e=Number(e.toString().replace(".","")),t=Number(t.toString().replace(".",""));return(e+t)/i}function i(){var e=0,t=1;try{for(var a=arguments.length,n=Array(a),i=0;i<a;i++)n[i]=arguments[i];var r=!0,s=!1,o=void 0;try{for(var d,u=(0,l.default)(n);!(r=(d=u.next()).done);r=!0){var c=d.value;if(void 0!==c&&!isNaN(c)){c=""+Number(c);c.split(".").length>1&&(e+=c.split(".")[1].length),t*=Number(c.replace(".",""))}}}catch(e){s=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(s)throw o}}}catch(e){}return t/Math.pow(10,e)}function r(e,t){var a,n,i;try{a=e.toString().split(".")[1].length}catch(e){a=0}try{n=t.toString().split(".")[1].length}catch(e){n=0}return i=Math.pow(10,Math.max(a,n)),a>=n?a:n,((e*i-t*i)/i).toFixed(2)}function s(e,t){isNaN(e)&&(e=0),isNaN(t)&&(t=0),e=Number(e),t=Number(t);var a,n,i=0,r=0;try{i=e.toString().split(".")[1].length}catch(e){}try{r=t.toString().split(".")[1].length}catch(e){}return a=Number(e.toString().replace(".","")),n=Number(t.toString().replace(".","")),a/n*Math.pow(10,r-i)}Object.defineProperty(t,"__esModule",{value:!0});var o=a("HzJ8"),l=function(e){return e&&e.__esModule?e:{default:e}}(o);t.accAdd=n,t.accMul=i,t.accSub=r,t.accDiv=s},zgOi:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["微笑","撇嘴","色","发呆","得意","流泪","害羞","闭嘴","睡","大哭","尴尬","发怒","调皮","呲牙","惊讶","难过","酷","冷汗","抓狂","吐","偷笑","可爱","白眼","傲慢","饥饿","困","惊恐","流汗","憨笑","大兵","奋斗","咒骂","疑问","嘘","晕","折磨","衰","骷髅","敲打","再见","擦汗","抠鼻","鼓掌","糗大了","坏笑","左哼哼","右哼哼","哈欠","鄙视","委屈","快哭了","阴险","亲亲","吓","可怜","菜刀","西瓜","啤酒","篮球","乒乓","咖啡","饭","猪头","玫瑰","凋谢","示爱","爱心","心碎","蛋糕","闪电","炸弹","刀","足球","瓢虫","便便","月亮","太阳","礼物","拥抱","强","弱","握手","胜利","抱拳","勾引","拳头","差劲","爱你","NO","OK","爱情","飞吻","跳跳","发抖","怄火","转圈","磕头","回头","跳绳","挥手","激动","街舞","献吻","左太极","右太极"];t.default={name:"wechat-emotion",mounted:function(){var e=this,t=this.$el.innerHTML;this.index=n.indexOf(t),this.backgroundPositionX=24*-this.index;var a="";a=this.isGif?'<img src="https://res.wx.qq.com/mpres/htmledition/images/icon/emotion/'+this.index+'.gif">':'<span class="vux-static-emotion" style="background:url(https://res.wx.qq.com/mpres/htmledition/images/icon/emotion/default218877.gif) '+this.backgroundPositionX+'px 0;"></span>',this.$nextTick(function(){e.$el.innerHTML=a})},props:{isGif:Boolean},data:function(){return{src:"",backgroundPositionX:0}}}},zlAJ:function(e,t,a){"use strict";function n(e){a("Rvwn")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("LbKK");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("/zZU"),o=a.n(s),l=a("/GCn"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-03452edd",null);t.default=c.exports},zlTd:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vux-alert"},[a("x-dialog",{attrs:{"mask-transition":e.maskTransition,"dialog-transition":e.dialogTransition,"hide-on-blur":e.hideOnBlur,"mask-z-index":e.maskZIndex},on:{"on-hide":function(t){e.$emit("on-hide")},"on-show":function(t){e.$emit("on-show")}},model:{value:e.showValue,callback:function(t){e.showValue=t},expression:"showValue"}},[a("div",{staticClass:"weui-dialog__hd"},[a("strong",{staticClass:"weui-dialog__title"},[e._v(e._s(e.title))])]),e._v(" "),a("div",{staticClass:"weui-dialog__bd"},[e._t("default",[a("div",{domProps:{innerHTML:e._s(e.content)}})])],2),e._v(" "),a("div",{staticClass:"weui-dialog__ft"},[a("a",{staticClass:"weui-dialog__btn weui-dialog__btn_primary",attrs:{href:"javascript:;"},on:{click:e._onHide}},[e._v(e._s(e.buttonText||"确定"))])])])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},zmA5:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions}},[e.bomInfo.boms&&e.bomInfo.boms.length?a("div",{staticClass:"bom-container"},[a("div",{staticClass:"title vux-1px-b"},[e._v("原料")]),e._v(" "),e._l(e.bomInfo.boms,function(t,n){return a("div",{key:n,staticClass:"each-bom-part vux-1px-b"},[a("div",{staticClass:"main-info-part"},[t.warehouseName||t.warehouseCode?a("div",{staticClass:"main-top"},[t.warehouseName?a("span",{staticClass:"content-title"},[e._v(e._s(t.warehouseName))]):e._e(),e._v(" "),t.warehouseName?a("span",{staticClass:"side-bar vux-1px-r"}):e._e(),e._v(" "),t.warehouseCode?a("span",{staticClass:"content-info"},[e._v(e._s(t.warehouseCode))]):e._e()]):e._e(),e._v(" "),a("div",{staticClass:"main-content"},[a("div",{staticClass:"content-unit"},[a("span",{staticClass:"iconfont icon-bianma"}),e._v(" "),a("span",[e._v("原料编码: "+e._s(t.inventoryCode))])]),e._v(" "),a("div",{staticClass:"content-name"},[e._v("\n                  "+e._s(t.inventoryName)+"\n                ")])]),e._v(" "),e._t("bom-left",null,{bom:t})],2),e._v(" "),a("div",{staticClass:"edit_info"},[e._t("number",[a("div",{staticClass:"number-part"},[a("span",{staticClass:"main-number"},[e._v("本次扣料: "+e._s(t.tdQty)+e._s(t.measureUnit))]),e._v(" "),a("span",{staticClass:"number-unit"},[e._v("可用余额: "+e._s(t.qtyStock))])])],{bom:t}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isEdit&&!e.noSpecificLoss,expression:"isEdit && !noSpecificLoss"}],staticClass:"specific_loss",on:{click:function(a){e.modifyBom(t)}}},[e._v(e._s(e.specificLossText)+": "+e._s(t.specificLoss)),a("span",{staticClass:"iconfont icon-bianji1"})])],2)])})],2):e._e()])],1),e._v(" "),e.isEdit?a("div",{staticClass:"confirm_btn",on:{click:e.confirm}},[a("div",{staticClass:"confirm"},[e._v(e._s(e.btnNext))])]):a("div",{staticClass:"confirm_btn",on:{click:e.closePop}},[a("div",{staticClass:"confirm"},[e._v("关闭")])])])],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},zmkY:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("project-part",{attrs:{"project-info":e.orderInfo.order}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_part"},[e._m(0),e._v(" "),a("div",{staticClass:"form_content"},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"往来名称",cellContent:e.dealerInfo.dealerName,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来编码",cellContent:e.dealerInfo.dealerCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来关系标签",cellContent:e.dealerInfo.dealerLabelName}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来余额",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.amntBal),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次出让汇票",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.thenTotalAmntBal),3),showSymbol:""}})],1)])]),e._v(" "),a("div",{staticClass:"form_part"},[e._m(1),e._v(" "),e._l(e.orderInfo.order.dataSet,function(t,n){return a("div",{key:n,staticClass:"form_content",class:{show_border:n!==e.orderInfo.order.dataSet.length-1}},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"汇票号",cellContent:t.draftNumber,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"类型",cellContent:t.draftType}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"承兑人",cellContent:t.accepter}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"金额",cellContent:e._f("numberComma")(e._f("toFixed")(t.tdAmount),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"出票日",cellContent:t.draftDate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"到期日",cellContent:t.draftDueDate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"出让日期",cellContent:t.draftSellDate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"说明",cellContent:t.comment}})],1)])})],2),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("往来详情")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("汇票列表")])])}],r={render:n,staticRenderFns:i};t.a=r},zqN1:function(e,t,a){"use strict";function n(e){a("/nyt")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("XNwX");a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);var s=a("qdsK"),o=a.n(s),l=a("ulZr"),d=a("C7Lr"),u=n,c=d(o.a,l.a,!1,u,"data-v-7530f0e5",null);t.default=c.exports},zqmM:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("IHPB"),r=n(i),s=a("+62G"),o=n(s),l=a("7g+Q"),d=n(l),u=a("z5TY"),c=n(u),f=a("HXPS"),m=n(f),h=a("d5Kw"),v=n(h),p=a("kNGm"),C=n(p),_=a("1KNX"),y=n(_),b=a("I8ug");t.default={name:"ChangeLog",props:{handle:{type:Boolean,default:!1}},data:function(){return{latestLog:{},changeLogList:[],listId:"a4897429-f4f2-44a4-ade7-2fe8dc67c3cf",popupShow:!1,page:1,limit:10,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},directives:{TransferDom:o.default},components:{Popup:d.default,Group:c.default,Icon:m.default,XButton:v.default,RScroll:y.default},filters:{handerTime:function(e){return(0,C.default)(e,"YYYY-MM-DD")}},methods:{getChangeList:function(){var e=this;return(0,b.getChangeLog)({listId:this.listId,limit:this.limit,page:this.page}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,i=t.tableContent,s=void 0===i?[]:i;1===e.page&&(e.latestLog=s[0]),e.hasNext=n>(e.page-1)*e.limit+s.length,e.changeLogList=1===e.page?s:[].concat((0,r.default)(e.changeLogList),(0,r.default)(s)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},onPullingUp:function(){this.page++,this.getChangeList()},closePop:function(){this.popupShow=!1},onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},EditLog:function(){this.$router.push({path:"/appDetail/"+this.listId+"/addLog"})}},created:function(){var e=this.$route.params.listId;e&&(this.listId=e,this.getChangeList())}}},zsBr:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("3cXf"),r=n(i),s=a("4YfN"),o=n(s),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),m=n(f),h=a("1KNX"),v=n(h),p=a("7biW"),C=n(p);t.default={name:"RPopup",props:{data:{type:Array,default:function(){return[]}},show:{type:Boolean,default:!1},defaultValue:{type:[Array,Object],default:function(){return{}}},filterList:{type:Array,default:function(){return[]}},multipart:{type:Boolean,default:!1},isFill:{type:Boolean,default:!0},options:{type:Object,default:function(){return{pullUpLoad:!0}}},hasNext:{type:Boolean,default:!0},judgeKeys:{type:Array,default:function(){return[]}}},components:{Icon:c.default,Popup:m.default,RScroll:v.default,RSearch:C.default},data:function(){return{showPop:!1,selItems:[],tmpItems:[]}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.multipart?(this.tmpItems=[].concat((0,d.default)(this.defaultValue)),this.selItems=[].concat((0,d.default)(this.defaultValue))):(this.tmpItems=[(0,o.default)({},this.defaultValue)],this.selItems=[(0,o.default)({},this.defaultValue)])},immediate:!0},data:{handler:function(e){this.finishPullUp()},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,d.default)(this.selItems)),this.$emit("input",!1)},findIndex:function(e,t){var a=this;return e.findIndex(function(e){var n=!1;return a.judgeKeys.every(function(a){return e[a]&&(n=e[a]===t[a]),n}),n})},showSelIcon:function(e){return-1!==this.findIndex(this.tmpItems,e)},selThis:function(e,t){if(!this.multipart)return this.showPop=!1,this.selItems=[(0,o.default)({},e)],this.tmpItems=[(0,o.default)({},e)],void this.$emit("on-select",(0,o.default)({},e));var a=this.tmpItems,n=this.findIndex(a,e);if(-1!==n)return void a.splice(n,1);a.push(e)},cfmMater:function(){this.showPop=!1,this.selItems=[].concat((0,d.default)(this.tmpItems)),this.$emit("on-select",JSON.parse((0,r.default)(this.selItems)))},searchList:function(e){this.$refs.bScroll.scrollTo(0,0),this.$emit("on-search",e)},delSelItem:function(e){var t=this.findIndex(this.selItems,e);-1!==t&&this.selItems.splice(t,1),this.tmpItems=[].concat((0,d.default)(this.selItems))},onPullingUp:function(){this.$emit("on-pulling-up")},finishPullUp:function(){var e=this;this.$refs.bScroll&&this.$nextTick(function(){e.$refs.bScroll.finishPullUp()})}},created:function(){}}},zsZJ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("yKqG"),i=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{tabShow:!1,choicedTab:"",activeTabIndex:0,tabScroll:null,startY:0}},props:{tabVal:{type:Array,default:[]}},methods:{switchTab:function(e,t){this.choicedTab=e.view_name,this.activeTabIndex=t,this.tabShow=!1,this.$emit("tab-click",e,t)}},watch:{tabVal:{handler:function(e){e.length&&(this.choicedTab=e[0].view_name)}},tabShow:{handler:function(e){var t=this;e?(this.tabScroll.scrollTo(0,this.startY),this.$nextTick(function(){t.tabScroll.refresh()})):this.startY=this.tabScroll.y}}},created:function(){var e=this;this.tabVal.length&&(this.choicedTab=this.tabVal[0].view_name),this.$nextTick(function(){e.tabScroll=new i.default(e.$refs.tabItem,{click:!0})})}}},zwEV:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages bdkcdb-list-conatiner",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"view-id":e.listViewID},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}}),e._v(" "),a("r-tab",{on:{"on-click":e.onTabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noPrice:"",noCount:""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}))],1),e._v(" "),e.action.add?a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])]):e._e()])},i=[],r={render:n,staticRenderFns:i};t.a=r},zzue:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a("z5TY"),r=n(i),s=a("BGNQ"),o=n(s);t.default={name:"HGCW_List",data:function(){return{listData:[{title:"利润表",code:"LR"},{title:"资产负债表",code:"ZCFZ"}]}},components:{Cell:o.default,Group:r.default},methods:{goDetail:function(e){var t=this.$route.params,a=t.fileId,n=t.listId;this.$router.push({path:"/detail/"+a+"/"+n,query:{code:e.code,name:e.title}})}},created:function(){this.$loading.hide()}}}},["NHnr"]);