webpackJsonp([1],{"0BDf":function(t,e){},"3pXz":function(t,e){},"8TPU":function(t,e){},"94XX":function(t,e){},"F+FH":function(t,e,s){"use strict";var i=s("sAbS"),a=s.n(i),n=s("cqrZ");var l=function(t){s("MCbR")},r=s("X4nt")(a.a,n.a,!1,l,null,null);e.default=r.exports},FQQS:function(t,e){},MCbR:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("VCXJ"),a={data:()=>({tablist:[{title:"我的待办",path:"/to_do",icon:"icon-daiban"},{title:"我的已办",path:"/finish",icon:"icon-yiban"}],num:"0"}),created(){this.$event.$on("num",t=>{this.num=t})}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("keep-alive",[s("router-view",{directives:[{name:"wechat-title",rawName:"v-wechat-title",value:t.$route.meta.title,expression:"$route.meta.title"}]})],1),t._v(" "),s("nav",{staticClass:"navbar"},t._l(t.tablist,function(e,i){return s("router-link",{key:i,attrs:{to:e.path}},[s("span",{staticClass:"iconfont",class:e.icon}),t._v(" "),s("p",[t._v(t._s(e.title))]),t._v(" "),s("span",{staticClass:"weui-badge",staticStyle:{position:"absolute",top:"0",right:"40%"}},[t._v(t._s(t.num))])])}))],1)},staticRenderFns:[]};var l=s("X4nt")(a,n,!1,function(t){s("hUMk")},null,null).exports,r=s("zO6J"),o=s("2sCs"),c=s.n(o);function u(t,e){return new Promise((s,i)=>{c.a.get("/H_roleplay-si/ds/listTaskLogByTransCode",{headers:{authorization:e},params:{transCode:t}}).then(t=>{const e=t.data.tableContent;s(e)})})}var _=s("Nvo/"),d=s.n(_),v={name:"group",methods:{cleanStyle:d.a},props:{title:String,titleColor:String,labelWidth:String,labelAlign:String,labelMarginRight:String,gutter:[String,Number]}},h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.title?s("div",{staticClass:"weui-cells__title",style:t.cleanStyle({color:t.titleColor}),domProps:{innerHTML:t._s(t.title)}}):t._e(),t._v(" "),t._t("title"),t._v(" "),s("div",{staticClass:"weui-cells",class:{"vux-no-group-title":!t.title},style:t.cleanStyle({marginTop:"number"==typeof t.gutter?t.gutter+"px":t.gutter})},[t._t("after-title"),t._v(" "),t._t("default")],2)],2)},staticRenderFns:[]};var p=s("X4nt")(v,h,!1,function(t){s("3pXz")},null,null).exports,f={render:function(){var t=this.$createElement;return(this._self._c||t)("span",{staticClass:"vux-label-desc"},[this._t("default")],2)},staticRenderFns:[]};var m=s("X4nt")({name:"inline-desc"},f,!1,function(t){s("e8Kb")},null,null).exports,g=s("QCuC"),w=s("m/qX"),C=s("uikv"),b={name:"cell",components:{InlineDesc:m},props:Object(w.a)(),created(){0},beforeMount(){this.hasTitleSlot=!!this.$slots.title,this.$slots.value},computed:{labelStyles(){return d()({width:Object(C.a)(this,"labelWidth"),textAlign:Object(C.a)(this,"labelAlign"),marginRight:Object(C.a)(this,"labelMarginRight")})},valueClass(){return{"vux-cell-primary":"content"===this.primary||"left"===this.valueAlign,"vux-cell-align-left":"left"===this.valueAlign,"vux-cell-arrow-transition":!!this.arrowDirection,"vux-cell-arrow-up":"up"===this.arrowDirection,"vux-cell-arrow-down":"down"===this.arrowDirection}},labelClass(){return{"vux-cell-justify":"justify"===Object(C.a)(this,"justify")}},style(){if(this.alignItems)return{alignItems:this.alignItems}}},methods:{onClick(){!this.disabled&&Object(g.a)(this.link,this.$router)}},data:()=>({hasTitleSlot:!0,hasMounted:!1})},y={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"weui-cell",class:{"vux-tap-active":t.isLink||!!t.link,"weui-cell_access":t.isLink||!!t.link,"vux-cell-no-border-intent":!t.borderIntent,"vux-cell-disabled":t.disabled},style:t.style,on:{click:t.onClick}},[s("div",{staticClass:"weui-cell__hd"},[t._t("icon")],2),t._v(" "),s("div",{staticClass:"vux-cell-bd",class:{"vux-cell-primary":"title"===t.primary&&"left"!==t.valueAlign}},[s("p",[t.title||t.hasTitleSlot?s("label",{staticClass:"vux-label",class:t.labelClass,style:t.labelStyles},[t._t("title",[t._v(t._s(t.title))])],2):t._e(),t._v(" "),t._t("after-title")],2),t._v(" "),s("inline-desc",[t._t("inline-desc",[t._v(t._s(t.inlineDesc))])],2)],1),t._v(" "),s("div",{staticClass:"weui-cell__ft",class:t.valueClass},[t._t("value"),t._v(" "),t._t("default",[t._v(t._s(t.value))]),t._v(" "),t.isLoading?s("i",{staticClass:"weui-loading"}):t._e()],2),t._v(" "),t._t("child")],2)},staticRenderFns:[]};var I=s("X4nt")(b,y,!1,function(t){s("c7fu")},null,null).exports,x={data:()=>({show:!1,listArr:[],list:[]}),components:{Group:p,Cell:I},methods:{goDetail(t){this.$router.push({path:"/to_do/do_detail",query:{info:t}})}},mounted(){this.mescroll=new MeScroll("td",{up:{isBounce:!1,use:!1},down:{use:!1}})},created(){(function(t){return new Promise((e,s)=>{c.a.get("/H_roleplay-si/ds/getMyToDoTask",{headers:{authorization:t}}).then(t=>{console.log(t),e(t)}).catch(t=>{e(t)})})})(localStorage.getItem("token")).then(t=>{console.log(t),this.listArr=t.data.tableContent,this.$event.$emit("num",t.data.tableContent.length)})}},k={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"page mescroll",attrs:{id:"td"}},[s("div",{staticClass:"wrapper"},[t._m(0),t._v(" "),s("ul",{staticClass:"list"},t._l(t.listArr,function(e,i){return s("li",{key:i,on:{click:function(s){t.goDetail(e)}}},[s("p",[s("span",{staticClass:"task_name"},[t._v(t._s(e.requireName))]),t._v(" "),s("i",{staticClass:"date"},[t._v(t._s(e.startTime.substring(0,10)))])]),t._v(" "),s("p",[s("span",{staticClass:"do_user"},[t._v("操作名称："+t._s(e.nodeName))]),t._v(" "),s("em",{staticClass:"status"},[t._v(t._s(e.status))])]),t._v(" "),s("p",[s("span",{staticClass:"do_user"},[t._v("发起人："+t._s(e.crtName))])]),t._v(" "),s("p",[s("em",{staticClass:"code"},[t._v(t._s(e.businessKey))])])])}))])]),t._v(" "),s("router-view")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-search-bar",attrs:{id:"searchBar"}},[e("form",{staticClass:"weui-search-bar__form"},[e("div",{staticClass:"weui-search-bar__box"},[e("i",{staticClass:"weui-icon-search"}),this._v(" "),e("input",{staticClass:"weui-search-bar__input",attrs:{type:"search",id:"searchInput",placeholder:"搜索",required:""}}),this._v(" "),e("a",{staticClass:"weui-icon-clear",attrs:{href:"javascript:",id:"searchClear"}})]),this._v(" "),e("label",{staticClass:"weui-search-bar__label",attrs:{id:"searchText"}},[e("i",{staticClass:"weui-icon-search"}),this._v(" "),e("span",[this._v("搜索")])])]),this._v(" "),e("a",{staticClass:"weui-search-bar__cancel-btn",attrs:{href:"javascript:",id:"searchCancel"}},[this._v("取消")])])}]};var S=s("X4nt")(x,k,!1,function(t){s("R1/5")},null,null).exports,$={data:()=>({doneList:[],mescroll:null,show:!0,list:[]}),methods:{goDetail(t){this.$router.push({path:"/finish/done_detail",query:{info:t}})}},created(){(function(t){return new Promise((e,s)=>{c.a.get("/H_roleplay-si/ds/getMyDoneTask",{headers:{authorization:t}}).then(t=>{const s=t.data;e(s)})})})(localStorage.getItem("token")).then(t=>{this.doneList=t.tableContent})},mounted(){this.mescroll=new MeScroll("finish",{up:{isBounce:!1,use:!1},down:{use:!1}})}},N={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{height:"100%"}},[s("div",{staticClass:"page mescroll",attrs:{id:"finish"}},[s("div",{staticClass:"wrapper"},[t._m(0),t._v(" "),s("ul",{staticClass:"list",attrs:{id:"finishTask"}},t._l(t.doneList,function(e){return s("li",{on:{click:function(s){t.goDetail(e)}}},[s("p",[s("span",{staticClass:"task_name"},[t._v(t._s(e.requireName))]),t._v(" "),s("i",{staticClass:"date"},[t._v(t._s(e.startTime.substring(0,10)))])]),t._v(" "),s("p",[s("span",{staticClass:"do_user"},[t._v("操作名称："+t._s(e.nodeName))]),t._v(" "),s("em",{staticClass:"status"},[t._v(t._s(e.status))])]),t._v(" "),s("p",[s("span",{staticClass:"do_user"},[t._v("发起人："+t._s(e.crtName))])]),t._v(" "),s("p",[s("em",{staticClass:"code"},[t._v("交易号："+t._s(e.businessKey))])]),t._v(" "),s("p",[s("em",{staticClass:"code"},[t._v("完成时间："+t._s(e.endTime))])])])}))])]),t._v(" "),s("router-view")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-search-bar",attrs:{id:"searchBar"}},[e("form",{staticClass:"weui-search-bar__form"},[e("div",{staticClass:"weui-search-bar__box"},[e("i",{staticClass:"weui-icon-search"}),this._v(" "),e("input",{staticClass:"weui-search-bar__input",attrs:{type:"search",id:"searchInput",placeholder:"搜索",required:""}}),this._v(" "),e("a",{staticClass:"weui-icon-clear",attrs:{href:"javascript:",id:"searchClear"}})]),this._v(" "),e("label",{staticClass:"weui-search-bar__label",attrs:{id:"searchText"}},[e("i",{staticClass:"weui-icon-search"}),this._v(" "),e("span",[this._v("搜索")])])]),this._v(" "),e("a",{staticClass:"weui-search-bar__cancel-btn",attrs:{href:"javascript:",id:"searchCancel"}},[this._v("取消")])])}]};var T=s("X4nt")($,N,!1,function(t){s("94XX")},null,null).exports,X={data:()=>({infoList:[],detailInfo:{},showDialog:!1,dialogInfo:"确定同意该请求吗？"}),methods:{agree(){this.showDialog=!0,this.dialogInfo="确定同意该请求吗？"},reject(){this.dialogInfo="确定拒绝该请求吗?",this.showDialog=!0},close(){this.showDialog=!1}},created(){this.detailInfo=this.$route.query.info;let t=localStorage.getItem("token");console.log(t),u(this.detailInfo.businessKey,t).then(t=>{this.infoList=t})},mounted(){this.mescroll=new MeScroll("dProcess",{up:{isBounce:!1,use:!1},down:{use:!1}})}},D={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{"enter-active-class":"slideInRight","leave-active-class":"slideOutRight"}},[s("div",{attrs:{id:"td_detail"}},[s("div",{staticClass:"detail"},[s("p",{staticClass:"name"},[t._v(t._s(t.detailInfo.requireName))]),t._v(" "),s("p",{staticClass:"status1"},[t._v(t._s(t.detailInfo.status))])]),t._v(" "),s("ul",[t.detailInfo.requireName?s("li",[s("span",[t._v("需求名称:")]),t._v(" "),s("i",[t._v(t._s(t.detailInfo.requireName))])]):t._e(),t._v(" "),s("li",[s("span",[t._v("发 起 人:")]),t._v(" "),s("i",[t._v(t._s(t.detailInfo.crtName))])]),t._v(" "),s("li",[s("span",[t._v("发起时间:")]),t._v(" "),s("i",[t._v(t._s(t.detailInfo.crtTime))])]),t._v(" "),t.detailInfo.level?s("li",[s("span",[t._v("优 先 级:")]),t._v(" "),s("i",[t._v(t._s(t.detailInfo.level))])]):t._e(),t._v(" "),s("li",[s("span",[t._v("预计交付日：")]),t._v(" "),s("input",{attrs:{type:"date"}})])]),t._v(" "),s("div",{staticClass:"process limit mescroll",attrs:{id:"dProcess"}},[s("div",{staticClass:"wrapper"},[s("div",{staticClass:"agree_status"},t._l(t.infoList,function(e){return s("div",{staticClass:"allInfo"},[s("div",{staticClass:"info"},[s("i",{staticClass:"iconfont icon-shenfenzheng"}),t._v(" "),s("p",[s("span",[t._v(t._s(e.userName))]),t._v(" "),s("span",[t._v(t._s(e.nodeName))]),t._v(" "),s("span",[t._v(t._s(e.endTime))])]),t._v(" "),e.status?s("i",{staticClass:" weui-icon weui-icon-success"}):t._e(),t._v(" "),e.status?t._e():s("i",{staticClass:" weui-icon weui-icon-waiting",staticStyle:{top:"15px"}}),t._v(" "),s("em",{staticClass:"taskStatus"},[t._v(t._s(e.status))])]),t._v(" "),s("div",{staticClass:"iconfont icon-xia arrow"})])}))])]),t._v(" "),s("div",{staticClass:"btn"},[s("span",{on:{click:function(e){t.agree()}}},[t._v("同意")]),t._v(" "),s("span",{on:{click:function(e){t.reject()}}},[t._v("拒绝")])]),t._v(" "),t.showDialog?s("div",{staticClass:"js_dialog",staticStyle:{opacity:"1"},attrs:{id:"iosDialog1"}},[s("div",{staticClass:"weui-mask"}),t._v(" "),s("div",{staticClass:"weui-dialog"},[s("div",{staticClass:"weui-dialog__bd"},[t._v(t._s(t.dialogInfo))]),t._v(" "),s("div",{staticClass:"weui-dialog__ft"},[s("a",{staticClass:"weui-dialog__btn weui-dialog__btn_default",attrs:{href:"javascript:;"},on:{click:function(e){t.close()}}},[t._v("确认")]),t._v(" "),s("a",{staticClass:"weui-dialog__btn weui-dialog__btn_primary",attrs:{href:"javascript:;"},on:{click:function(e){t.close()}}},[t._v("取消")])])])]):t._e()])])},staticRenderFns:[]};var R=s("X4nt")(X,D,!1,function(t){s("FQQS")},null,null).exports,j={mixins:[s("69ss").a],name:"x-dialog",model:{prop:"show",event:"change"},props:{show:{type:Boolean,default:!1},maskTransition:{type:String,default:"vux-mask"},maskZIndex:[String,Number],dialogTransition:{type:String,default:"vux-dialog"},dialogClass:{type:String,default:"weui-dialog"},hideOnBlur:Boolean,dialogStyle:Object,scroll:{type:Boolean,default:!0,validator:t=>!0}},computed:{maskStyle(){if(void 0!==this.maskZIndex)return{zIndex:this.maskZIndex}}},mounted(){"undefined"!=typeof window&&window.VUX_CONFIG&&"VIEW_BOX"===window.VUX_CONFIG.$layout&&(this.layout="VIEW_BOX")},watch:{show(t){this.$emit("update:show",t),this.$emit(t?"on-show":"on-hide"),t?this.addModalClassName():this.removeModalClassName()}},methods:{shouldPreventScroll(){const t=/iPad|iPhone|iPod/i.test(window.navigator.userAgent),e=this.$el.querySelector("input")||this.$el.querySelector("textarea");if(t&&e)return!0},hide(){this.hideOnBlur&&(this.$emit("update:show",!1),this.$emit("change",!1),this.$emit("on-click-mask"))}},data:()=>({layout:""})},q={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vux-x-dialog",class:{"vux-x-dialog-absolute":"VIEW_BOX"===t.layout}},[s("transition",{attrs:{name:t.maskTransition}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"weui-mask",style:t.maskStyle,on:{click:t.hide}})]),t._v(" "),s("transition",{attrs:{name:t.dialogTransition}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],class:t.dialogClass,style:t.dialogStyle},[t._t("default")],2)])],1)},staticRenderFns:[]};var M=s("X4nt")(j,q,!1,function(t){s("8TPU")},null,null).exports,F={name:"icon",props:{type:String,isMsg:Boolean},computed:{className(){return`weui-icon weui_icon_${this.type} weui-icon-${this.type.replace(/_/g,"-")}`}}},B={render:function(){var t=this.$createElement;return(this._self._c||t)("i",{class:[this.className,this.isMsg?"weui-icon_msg":""]})},staticRenderFns:[]};var O={data:()=>({infoList:[],detailInfo:{}}),components:{Group:p,Cell:I,XDialog:M,Icon:s("X4nt")(F,B,!1,function(t){s("gIhY")},null,null).exports},created(){this.detailInfo=this.$route.query.info;let t=localStorage.getItem("token");console.log(t),u(this.detailInfo.businessKey,t).then(t=>{this.infoList=t})},mounted(){this.mescroll=new MeScroll("taskDetail",{up:{isBounce:!1,use:!1},down:{use:!1}})}},E={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{"enter-active-class":"slideInRight","leave-active-class":"slideOutRight"}},[s("div",{attrs:{id:"finish_detail"}},[s("div",{staticClass:"mescroll",attrs:{id:"taskDetail"}},[s("div",{staticClass:"wrapper"},[s("div",{staticClass:"detail"},[s("p",{staticClass:"name"},[t._v(t._s(t.detailInfo.requireName))]),t._v(" "),s("p",{staticClass:"status1 done_status"},[t._v(t._s(t.detailInfo.status))])]),t._v(" "),s("ul",[t.detailInfo.requireName?s("li",[s("span",[t._v("需求名称:")]),t._v(" "),s("i",[t._v(t._s(t.detailInfo.requireName))])]):t._e(),t._v(" "),s("li",[s("span",[t._v("发 起 人:")]),t._v(" "),s("i",[t._v(t._s(t.detailInfo.crtName))])]),t._v(" "),s("li",[s("span",[t._v("发起时间:")]),t._v(" "),s("i",[t._v(t._s(t.detailInfo.crtTime))])]),t._v(" "),t.detailInfo.level?s("li",[s("span",[t._v("优 先 级:")]),t._v(" "),s("i",[t._v(t._s(t.detailInfo.level))])]):t._e()]),t._v(" "),t.detailInfo.transCode?s("group",{attrs:{"label-width":"4.5em","label-margin-right":"2em","label-align":"left"}},[s("cell",{attrs:{title:"需求编码",value:t.detailInfo.requireName,"value-align":"left"}})],1):t._e(),t._v(" "),s("div",{staticClass:"process"},[s("div",{staticClass:"agree_status"},[t._l(t.infoList,function(e){return s("div",{staticClass:"allInfo"},[s("div",{staticClass:"info"},[s("i",{staticClass:"iconfont icon-shenfenzheng"}),t._v(" "),s("p",[s("span",[t._v(t._s(e.userName))]),t._v(" "),s("span",[t._v(t._s(e.nodeName))]),t._v(" "),s("span",[t._v(t._s(e.endTime))])]),t._v(" "),e.status?s("i",{staticClass:" weui-icon weui-icon-success"}):t._e(),t._v(" "),e.status?t._e():s("i",{staticClass:" weui-icon weui-icon-waiting",staticStyle:{top:"15px"}}),t._v(" "),s("em",{staticClass:"taskStatus"},[t._v(t._s(e.status))])]),t._v(" "),s("div",{staticClass:"iconfont icon-xia arrow"})])}),t._v(" "),"进行中"!=t.detailInfo.status?s("div",{staticClass:"process_over"},[t._v("流程结束")]):t._e()],2)])],1)])])])},staticRenderFns:[]};var L=s("X4nt")(O,E,!1,function(t){s("0BDf")},null,null).exports,A=s("HLLT"),P=s.n(A),z=s("F+FH");i.a.use(P.a),i.a.use(r.a);var H=new r.a({routes:[{path:"/to_do",component:S,meta:{title:"我的待办"},children:[{path:"do_detail",component:R}]},{path:"/finish",component:T,meta:{title:"我的已办"},children:[{path:"done_detail",component:L}]},{path:"/welcome",component:z.default},{path:"/",redirect:"welcome"}]});i.a.config.productionTip=!1,i.a.prototype.$http=c.a,i.a.prototype.$event=new i.a,new i.a({el:"#app",router:H,template:"<App/>",components:{App:l}})},"R1/5":function(t,e){},c7fu:function(t,e){},cqrZ:function(t,e,s){"use strict";var i={render:function(){var t=this.$createElement;return(this._self._c||t)("router-view")},staticRenderFns:[]};e.a=i},e8Kb:function(t,e){},gIhY:function(t,e){},hUMk:function(t,e){},sAbS:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.f9dca4247e52ee049513.js.map