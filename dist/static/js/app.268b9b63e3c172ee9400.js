webpackJsonp([1],{"8DZ4":function(t,s){},"F+FH":function(t,s,a){"use strict";var e=a("Rppg"),i=a.n(e),n=a("ZQ9Z");var r=function(t){a("O9YP")},o=a("X4nt")(i.a,n.a,!1,r,null,null);s.default=o.exports},NHnr:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=a("VCXJ"),i={data:()=>({tablist:[{title:"我的待办",path:"/to_do",icon:"icon-daiban"},{title:"我的已办",path:"/finish",icon:"icon-yiban"}],num:"0"}),created(){this.$event.$on("num",t=>{this.num=t})}},n={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{attrs:{id:"app"}},[a("keep-alive",[a("router-view",{directives:[{name:"wechat-title",rawName:"v-wechat-title",value:t.$route.meta.title,expression:"$route.meta.title"}]})],1),t._v(" "),a("nav",{staticClass:"navbar"},t._l(t.tablist,function(s){return a("router-link",{attrs:{to:s.path}},[a("span",{staticClass:"iconfont",class:s.icon}),t._v(" "),a("p",[t._v(t._s(s.title))]),t._v(" "),a("span",{staticClass:"weui-badge",staticStyle:{position:"absolute",top:"0",right:"40%"}},[t._v(t._s(t.num))])])}))],1)},staticRenderFns:[]};var r=a("X4nt")(i,n,!1,function(t){a("n9Vy")},null,null).exports,o=a("zO6J"),l=a("2sCs"),c=a.n(l);function _(t,s){return new Promise((a,e)=>{c.a.get("/H_roleplay-si/ds/listTaskLogByTransCode",{headers:{authorization:s},params:{transCode:t}}).then(t=>{const s=t.data.tableContent;a(s)})})}let v;var u={data:()=>({isLoadMore:!1,listArr:[],more:"加载中",arr:[]}),methods:{goDetail(t){this.$router.push({path:"/to_do/do_detail",query:{info:t}})}},mounted(){(v=new IScroll("#td",{probeType:2,click:!0})).on("scrollStart",()=>{v.refresh()}),v.on("scrollEnd",()=>{let t=v.maxScrollY+40;v.y>v.maxScrollY&&v.y<t&&v.scrollTo(0,v.maxScrollY,200),v.y<=v.maxScrollY&&(this.isLoadMore=!0,this.more="没有数据了")})},created(){var t,s=localStorage.getItem("token");(t=s,new Promise((s,a)=>{c.a.get("/H_roleplay-si/ds/getMyToDoTask",{headers:{authorization:t}}).then(t=>{console.log(t),s(t)}).catch(t=>{s(t)})})).then(t=>{console.log(t),this.listArr=t.data.tableContent,this.$event.$emit("num",t.data.tableContent.length)}),window.scrollTo(0,0)}},d={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("div",{staticClass:"page",attrs:{id:"td"}},[a("div",{staticClass:"wrapper"},[t._m(0),t._v(" "),a("ul",{staticClass:"list"},t._l(t.listArr,function(s){return a("li",{on:{click:function(a){t.goDetail(s)}}},[a("p",[a("span",{staticClass:"task_name"},[t._v(t._s(s.requireName))]),t._v(" "),a("i",{staticClass:"date"},[t._v(t._s(s.startTime.substring(0,10)))])]),t._v(" "),a("p",[a("span",{staticClass:"do_user"},[t._v("操作名称："+t._s(s.nodeName))]),t._v(" "),a("em",{staticClass:"status"},[t._v(t._s(s.status))])]),t._v(" "),a("p",[a("span",{staticClass:"do_user"},[t._v("发起人："+t._s(s.crtName))])]),t._v(" "),a("p",[a("em",{staticClass:"code"},[t._v(t._s(s.businessKey))])])])})),t._v(" "),t.isLoadMore?a("div",{staticClass:"bottom"},[a("span",[t._v(t._s(t.more))])]):t._e()])]),t._v(" "),a("router-view")],1)},staticRenderFns:[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"weui-search-bar",attrs:{id:"searchBar"}},[a("form",{staticClass:"weui-search-bar__form"},[a("div",{staticClass:"weui-search-bar__box"},[a("i",{staticClass:"weui-icon-search"}),t._v(" "),a("input",{staticClass:"weui-search-bar__input",attrs:{type:"search",id:"searchInput",placeholder:"搜索",required:""}}),t._v(" "),a("a",{staticClass:"weui-icon-clear",attrs:{href:"javascript:",id:"searchClear"}})]),t._v(" "),a("label",{staticClass:"weui-search-bar__label",attrs:{id:"searchText"}},[a("i",{staticClass:"weui-icon-search"}),t._v(" "),a("span",[t._v("搜索")])])]),t._v(" "),a("a",{staticClass:"weui-search-bar__cancel-btn",attrs:{href:"javascript:",id:"searchCancel"}},[t._v("取消")])])}]};var p=a("X4nt")(u,d,!1,function(t){a("W4/f")},null,null).exports;let h;var f={data:()=>({isLoadMore:!1,doneList:[],more:"加载中"}),methods:{goDetail(t){this.$router.push({path:"/finish/done_detail",query:{info:t}})}},mounted(){(h=new IScroll("#finish",{probeType:2,click:!0})).on("scrollStart",()=>{h.maxScrollY<0&&(this.isLoadMore=!0),h.refresh()}),h.on("scroll",()=>{h.y<=h.maxScrollY-30&&(this.more="没有数据了")})},created(){window.scrollTo(0,0);var t,s=localStorage.getItem("token");(t=s,new Promise((s,a)=>{c.a.get("/H_roleplay-si/ds/getMyDoneTask",{headers:{authorization:t}}).then(t=>{const a=t.data;s(a)})})).then(t=>{this.doneList=t.tableContent})}},m={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("div",{staticClass:"page",attrs:{id:"finish"}},[a("div",{staticClass:"wrapper"},[t._m(0),t._v(" "),a("ul",{staticClass:"list"},t._l(t.doneList,function(s){return a("li",{on:{click:function(a){t.goDetail(s)}}},[a("p",[a("span",{staticClass:"task_name"},[t._v(t._s(s.requireName))]),t._v(" "),a("i",{staticClass:"date"},[t._v(t._s(s.startTime.substring(0,10)))])]),t._v(" "),a("p",[a("span",{staticClass:"do_user"},[t._v("操作名称："+t._s(s.nodeName))]),t._v(" "),a("em",{staticClass:"status"},[t._v(t._s(s.status))])]),t._v(" "),a("p",[a("span",{staticClass:"do_user"},[t._v("发起人："+t._s(s.crtName))])]),t._v(" "),a("p",[a("em",{staticClass:"code"},[t._v("交易号："+t._s(s.businessKey))])]),t._v(" "),a("p",[a("em",{staticClass:"code"},[t._v("完成时间："+t._s(s.endTime))])])])})),t._v(" "),t.isLoadMore?a("div",{staticClass:"bottom"},[a("span",[t._v(t._s(t.more))])]):t._e()])]),t._v(" "),a("router-view")],1)},staticRenderFns:[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"weui-search-bar",attrs:{id:"searchBar"}},[a("form",{staticClass:"weui-search-bar__form"},[a("div",{staticClass:"weui-search-bar__box"},[a("i",{staticClass:"weui-icon-search"}),t._v(" "),a("input",{staticClass:"weui-search-bar__input",attrs:{type:"search",id:"searchInput",placeholder:"搜索",required:""}}),t._v(" "),a("a",{staticClass:"weui-icon-clear",attrs:{href:"javascript:",id:"searchClear"}})]),t._v(" "),a("label",{staticClass:"weui-search-bar__label",attrs:{id:"searchText"}},[a("i",{staticClass:"weui-icon-search"}),t._v(" "),a("span",[t._v("搜索")])])]),t._v(" "),a("a",{staticClass:"weui-search-bar__cancel-btn",attrs:{href:"javascript:",id:"searchCancel"}},[t._v("取消")])])}]};var C=a("X4nt")(f,m,!1,function(t){a("XFM5")},null,null).exports;let w;var g={data:()=>({infoList:[],detailInfo:{},showDialog:!1,dialogInfo:"确定同意该请求吗？"}),methods:{agree(){this.showDialog=!0,this.dialogInfo="确定同意该请求吗？"},reject(){this.dialogInfo="确定拒绝该请求吗?",this.showDialog=!0},close(){this.showDialog=!1}},created(){this.detailInfo=this.$route.query.info;let t=localStorage.getItem("token");console.log(t),_(this.detailInfo.businessKey,t).then(t=>{this.infoList=t})},mounted(){(w=new IScroll(".process",{probeType:2,click:!0})).on("scrollStart",()=>{w.refresh()})}},b={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{attrs:{id:"td_detail"}},[a("div",{staticClass:"detail"},[a("p",{staticClass:"name"},[t._v(t._s(t.detailInfo.requireName))]),t._v(" "),a("p",{staticClass:"status1"},[t._v(t._s(t.detailInfo.status))])]),t._v(" "),a("ul",[t.detailInfo.requireName?a("li",[a("span",[t._v("需求名称:")]),t._v(" "),a("i",[t._v(t._s(t.detailInfo.requireName))])]):t._e(),t._v(" "),a("li",[a("span",[t._v("发 起 人:")]),t._v(" "),a("i",[t._v(t._s(t.detailInfo.crtName))])]),t._v(" "),a("li",[a("span",[t._v("发起时间:")]),t._v(" "),a("i",[t._v(t._s(t.detailInfo.crtTime))])]),t._v(" "),t.detailInfo.level?a("li",[a("span",[t._v("优 先 级:")]),t._v(" "),a("i",[t._v(t._s(t.detailInfo.level))])]):t._e(),t._v(" "),t._m(0)]),t._v(" "),a("div",{staticClass:"process limit"},[a("div",{staticClass:"wrapper"},[a("div",{staticClass:"agree_status"},t._l(t.infoList,function(s){return a("div",{staticClass:"allInfo"},[a("div",{staticClass:"info"},[a("i",{staticClass:"iconfont icon-shenfenzheng"}),t._v(" "),a("p",[a("span",[t._v(t._s(s.userName))]),t._v(" "),a("span",[t._v(t._s(s.nodeName))]),t._v(" "),a("span",[t._v(t._s(s.endTime))])]),t._v(" "),s.status?a("i",{staticClass:" weui-icon weui-icon-success"}):t._e(),t._v(" "),s.status?t._e():a("i",{staticClass:" weui-icon weui-icon-waiting",staticStyle:{top:"15px"}}),t._v(" "),a("em",{staticClass:"taskStatus"},[t._v(t._s(s.status))])]),t._v(" "),a("div",{staticClass:"iconfont icon-xia arrow"})])}))])]),t._v(" "),a("div",{staticClass:"btn"},[a("span",{on:{click:function(s){t.agree()}}},[t._v("同意")]),t._v(" "),a("span",{on:{click:function(s){t.reject()}}},[t._v("拒绝")])]),t._v(" "),t.showDialog?a("div",{staticClass:"js_dialog",staticStyle:{opacity:"1"},attrs:{id:"iosDialog1"}},[a("div",{staticClass:"weui-mask"}),t._v(" "),a("div",{staticClass:"weui-dialog"},[a("div",{staticClass:"weui-dialog__bd"},[t._v(t._s(t.dialogInfo))]),t._v(" "),a("div",{staticClass:"weui-dialog__ft"},[a("a",{staticClass:"weui-dialog__btn weui-dialog__btn_default",attrs:{href:"javascript:;"},on:{click:function(s){t.close()}}},[t._v("确认")]),t._v(" "),a("a",{staticClass:"weui-dialog__btn weui-dialog__btn_primary",attrs:{href:"javascript:;"},on:{click:function(s){t.close()}}},[t._v("取消")])])])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("li",[s("span",[this._v("预计交付日：")]),this._v(" "),s("input",{attrs:{type:"date"}})])}]};var I=a("X4nt")(g,b,!1,function(t){a("8DZ4")},null,null).exports;let y;var k={data:()=>({infoList:[],detailInfo:{}}),created(){this.detailInfo=this.$route.query.info;let t=localStorage.getItem("token");console.log(t),_(this.detailInfo.businessKey,t).then(t=>{this.infoList=t})},mounted(){(y=new IScroll(".taskDetail",{probeType:2,click:!0})).on("scrollStart",()=>{y.refresh()})}},S={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{attrs:{id:"finish_detail"}},[a("div",{staticClass:"taskDetail"},[a("div",{staticClass:"wrapper"},[a("div",{staticClass:"detail"},[a("p",{staticClass:"name"},[t._v(t._s(t.detailInfo.requireName))]),t._v(" "),a("p",{staticClass:"status1 done_status"},[t._v(t._s(t.detailInfo.status))])]),t._v(" "),a("ul",[t.detailInfo.requireName?a("li",[a("span",[t._v("需求名称:")]),t._v(" "),a("i",[t._v(t._s(t.detailInfo.requireName))])]):t._e(),t._v(" "),a("li",[a("span",[t._v("发 起 人:")]),t._v(" "),a("i",[t._v(t._s(t.detailInfo.crtName))])]),t._v(" "),a("li",[a("span",[t._v("发起时间:")]),t._v(" "),a("i",[t._v(t._s(t.detailInfo.crtTime))])]),t._v(" "),t.detailInfo.level?a("li",[a("span",[t._v("优 先 级:")]),t._v(" "),a("i",[t._v(t._s(t.detailInfo.level))])]):t._e()]),t._v(" "),a("div",{staticClass:"process"},[a("div",{staticClass:"agree_status"},[t._l(t.infoList,function(s){return a("div",{staticClass:"allInfo"},[a("div",{staticClass:"info"},[a("i",{staticClass:"iconfont icon-shenfenzheng"}),t._v(" "),a("p",[a("span",[t._v(t._s(s.userName))]),t._v(" "),a("span",[t._v(t._s(s.nodeName))]),t._v(" "),a("span",[t._v(t._s(s.endTime))])]),t._v(" "),s.status?a("i",{staticClass:" weui-icon weui-icon-success"}):t._e(),t._v(" "),s.status?t._e():a("i",{staticClass:" weui-icon weui-icon-waiting",staticStyle:{top:"15px"}}),t._v(" "),a("em",{staticClass:"taskStatus"},[t._v(t._s(s.status))])]),t._v(" "),a("div",{staticClass:"iconfont icon-xia arrow"})])}),t._v(" "),"进行中"!=t.detailInfo.status?a("div",{staticClass:"process_over"},[t._v("流程结束")]):t._e()],2)])])])])},staticRenderFns:[]};var T=a("X4nt")(k,S,!1,function(t){a("jSYf")},null,null).exports,x=a("HLLT"),N=a.n(x),$=a("F+FH");e.a.use(N.a),e.a.use(o.a);var L=new o.a({routes:[{path:"/to_do",component:p,meta:{title:"我的待办"},children:[{path:"do_detail",component:I}]},{path:"/finish",component:C,meta:{title:"我的已办"},children:[{path:"done_detail",component:T}]},{path:"/welcome",component:$.default},{path:"/",redirect:"/welcome"}]});e.a.config.productionTip=!1,e.a.prototype.$http=c.a,e.a.prototype.$event=new e.a,new e.a({el:"#app",router:L,template:"<App/>",components:{App:r}})},O9YP:function(t,s){},Rppg:function(t,s){},"W4/f":function(t,s){},XFM5:function(t,s){},ZQ9Z:function(t,s,a){"use strict";var e={render:function(){var t=this.$createElement;return(this._self._c||t)("router-view")},staticRenderFns:[]};s.a=e},jSYf:function(t,s){},n9Vy:function(t,s){}},["NHnr"]);
//# sourceMappingURL=app.268b9b63e3c172ee9400.js.map