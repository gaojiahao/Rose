webpackJsonp([0],{"+26s":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("rVsN"),i=n(r),o=a("lC5x"),s=n(o),l=a("4YfN"),d=n(l),u=a("3cXf"),c=n(u),f=a("J0Oq"),h=n(f),m=a("KH7x"),v=n(m),p=a("GWbZ"),C=n(p),y=a("z5TY"),_=n(y),g=a("BGNQ"),b=n(g),w=a("8VZL"),I=n(w),D=a("HXPS"),x=n(D),P=a("fQz5"),S=n(P),k=a("+62G"),L=n(k),N=a("7g+Q"),M=n(N),T=a("kNGm"),A=n(T),O=a("iR2W"),R=n(O),j=a("kpbF"),B=a("7biW"),E=n(B),F=a("1KNX"),U=n(F);t.default={data:function(){return{page:1,limit:20,hasNext:!0,scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0},flowPage:1,flowLimit:20,FlowHasNext:!0,FlowScrollOptions:{click:!0,pullUpLoad:!0},total:null,flowShow:!1,activeIndex:0,view_id:"",serachVal:"",activeTab:"",applyCode:"",calc_rel_code:"",flowData:[],listData:[],listView:[],listField:[],flowField:[],flowTitle:{},requestData:{}}},directives:{TransferDom:L.default},components:{Tab:I.default,Icon:x.default,Cell:b.default,Group:_.default,Popup:M.default,RScroll:U.default,TabItem:S.default,searchIcon:E.default,CellFormPreview:C.default},filters:{dateFormat:A.default,numberComma:R.default},methods:{resetCondition:function(){this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.$refs.bScroll.resetPullDown()},tabClick:function(e,t){this.activeIndex=t,this.activeTab=e.view_name,this.calc_rel_code=e.calc_rel_code,this.view_id=e.view_id,this.resetCondition(),this.getList()},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.serachVal=a,this.resetCondition(),this.getListData()},getDefaultImg:function(e){e.inventoryPic=a("CcG0")},getClassfiy:function(){var e=this;return(0,j.getListClassfiy)({account_code:this.uniqueId,device_type:"phone"}).then(function(t){var a=t.data,n=void 0===a?[]:a,r=(0,v.default)(n,1),i=r[0],o=void 0===i?{}:i;e.listView=n,e.activeTab=o.view_name,e.calc_rel_code=o.calc_rel_code,e.view_id=o.view_id})},getFlow:function(e){var t=this;return(0,h.default)(s.default.mark(function a(){var n;return s.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!t.activeTab.includes("现金流分类")){a.next=2;break}return a.abrupt("return");case 2:if(t.flowData=[],t.flowPage=1,!(e.qtyLocked>=0)){a.next=6;break}return a.abrupt("return");case 6:return t.flowTitle=e,t.$HandleLoad.show(),n={},t.listField.forEach(function(t){n[t.field]=e[t.field]}),t.requestData={view_id:"obj_water_1",active_type:"water",row:(0,c.default)(n)},a.next=13,(0,j.getView)((0,d.default)({},t.requestData,{view_scope:"model"})).then(function(e){t.flowField=e.model}).catch(function(e){t.$HandleLoad.hide()});case 13:return a.next=15,t.getFlowData();case 15:t.$HandleLoad.hide(),t.flowShow=!0,t.$nextTick(function(){t.$refs.flowListWrapper.scrollTo(0,0),t.$refs.flowListWrapper.refresh()});case 18:case"end":return a.stop()}},a,t)}))()},getFlowData:function(){var e=this;return(0,j.getView)((0,d.default)({},this.requestData,{view_scope:"data",page:this.flowPage,limit:this.flowLimit,start:(this.flowPage-1)*this.flowLimit})).then(function(t){var a=t.data,n=void 0===a?[]:a,r=t.total,i=void 0===r?0:r;e.FlowHasNext=i>(e.flowPage-1)*e.flowLimit+n.length,n.forEach(function(e){e.showList=!1}),e.flowData=1===e.FlowHasNext?n:e.flowData.concat(n),e.$nextTick(function(){e.$refs.flowListWrapper.finishPullUp()})})},getView:function(){var e=this;return(0,j.getView)({user_code:1,view_scope:"model",view_id:this.view_id,calc_rel_code:this.calc_rel_code}).then(function(t){e.listField=t.model})},getListData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,j.getViewList)({user_code:1,page:this.page,limit:this.limit,view_scope:"data",device_type:"phone",view_id:this.view_id,filter:this.serachVal,calc_rel_code:this.calc_rel_code,start:(this.page-1)*this.limit}).then(function(n){var r=n.data,i=void 0===r?[]:r,o=n.total,s=void 0===o?0:o,l={"交通银行":a("4TvN"),"建设银行":a("ptJ7"),"中国银行":a("ihcZ"),"招商银行":a("E3CK")},d=["核销余额表","现金流计划表"];e.hasNext=s>(e.page-1)*e.limit+i.length,i.forEach(function(t){if(t.status=!1,t.cashInOrOut)switch(t.cashInOrOut){case"流入":t.flowIconClass="iconfont icon-shangjiantou",t.flowWordClass="cashIn";break;case"流出":t.flowIconClass="iconfont icon-xiajiantou-copy",t.flowWordClass="cashOut"}e.activeTab.includes("资金账户余额")?t.icon=l[t.bank]:d.includes(e.activeTab)&&(t.appIcon="/dist/"+t.appIcon),t.inventoryPic?t.inventoryPic="/H_roleplay-si/ds/download?url="+t.inventoryPic+"&width=400&height=400":e.getDefaultImg(t)}),e.listData=1===e.page?i:e.listData.concat(i),t||e.$nextTick(function(){e.resetScroll()});var u="";t&&0===e.activeIndex&&e.total&&(u=s-e.total==0?"暂无新数据":u="新增"+(s-e.total)+"条数据",e.$vux.toast.show({text:u,position:"top",width:"50%",type:"text",time:700})),0===e.activeIndex&&1===e.page&&sessionStorage.setItem(e.applyCode,s),e.$loading.hide()}).catch(function(t){console.log(t),e.resetScroll()})},getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,h.default)(s.default.mark(function a(){return s.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.getView();case 2:return a.next=4,e.getListData(t);case 4:case"end":return a.stop()}},a,e)}))()},resetScroll:function(){this.$refs.bScroll.finishPullDown(),this.$refs.bScroll.finishPullUp()},onPullingUp:function(){this.page++,this.getListData()},onPullingDown:function(){this.page=1,this.getData(!0)},onPullingUpFlow:function(){this.flowPage++,this.getFlowData()},getSession:function(){var e=this;return new i.default(function(t){e.total=sessionStorage.getItem(e.applyCode),t()})},getData:function(e){var t=this;return(0,h.default)(s.default.mark(function a(){return s.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getSession();case 2:if(!e){a.next=6;break}return a.next=5,t.getList(!0).then(function(){t.$nextTick(function(){t.$refs.bScroll.finishPullDown().then(function(){t.$refs.bScroll.finishPullUp()})})});case 5:return a.abrupt("return");case 6:return a.next=8,t.getList();case 8:case"end":return a.stop()}},a,t)}))()}},created:function(){var e=this;this.applyCode=this.$route.params.code,(0,h.default)(s.default.mark(function t(){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getClassfiy();case 2:return t.next=4,e.getView();case 4:return t.next=6,e.getListData();case 6:case"end":return t.stop()}},t,e)}))()}}},"+29+":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"inPage"},[n("r-tab",{attrs:{data:e.tabList,"active-index":e.activeIndex,mode:"3"},on:{"on-click":e.onTabClick}}),e._v(" "),n("div",{staticClass:"swiper-container notice-container"},[n("div",{staticClass:"swiper-wrapper"},e._l(e.noticeData,function(t,r,i){return n("div",{key:r,staticClass:"swiper-slide"},[n("r-scroll",{ref:"bScroll",refInFor:!0,staticClass:"wrapper",attrs:{options:e.scrollOptions,"has-next":t.hasNext,"no-data":!1},on:{"on-pulling-up":e.onPullingUp}},[t.isNull?n("div",{staticClass:"when_null"},[n("img",{staticClass:"no_data",class:["no_data_"+r],attrs:{src:a("ynid")("./"+r+".png"),alt:"no-data"}}),e._v(" "),n("div",{staticClass:"text"},[e._v(e._s(e.noDataText))])]):n("div",{staticClass:"msg_list"},[0===i?e._l(t.listData,function(t,a){return n("todo-item",{key:a,attrs:{name:a,item:t,"no-border":t.noBorder},nativeOn:{click:function(n){e.goMsglist(t,a)}}})}):1===i||2===i?e._l(t.listData,function(a,r){return n("comment-item",{key:r,ref:"commentItem",refInFor:!0,attrs:{item:a,"no-border":r===t.listData.length-1},on:{"on-popover-click":e.onPopoverClick},nativeOn:{click:function(t){e.goDetail(a,r)}}})}):e._e()],2)])],1)}),0)])],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},"+2MJ":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList,"status-data":e.currentStage},on:{"sel-item":e.selItem},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,"dealer-params":e.dealerParams,defaultContact:e.contactInfo},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("dealer-other-part",{attrs:{"dealer-config":e.dealerConfig,"dealer-info":e.dealerInfo},model:{value:e.dealerInfo,callback:function(t){e.dealerInfo=t},expression:"dealerInfo"}}),e._v(" "),a("apply-matter-part",{attrs:{"show-materiel-pop":e.showMaterielPop,"show-matter-pop":e.showMatterPop,"filter-list":e.filterList,actions:e.actions,btnInfo:e.btnInfo,"matter-list":e.orderList,"default-value":[],"matter-pop-config":e.matterPopConfig,"matter-edit-config":e.matterEditConfig,"order-list-title":e.orderListTitle,"matter-params":e.matterParams,"add-matter-fn":e.addMatter,"sel-matter-fn":e.selMatter,"sel-items":e.selItems,"matter-modify-class":e.matterModifyClass,"stop-order-fn":e.stopOrder,"get-matter-modify-fn":e.getMatterModify,"show-delete-fn":e.showDelete,"show-sel-icon-fn":e.showSelIcon,"del-click-fn":e.delClick,"chosen-matter":e.matter,"check-amt-fn":e.checkAmt,"sel-confirm-fn":e.selConfirm,"btn-is-hide":e.btnIsHide},on:{"show-down-modify-pop":e.shutDownModify},model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("op-button",{attrs:{"is-modify":e.matterModifyClass,hide:e.btnIsHide,"td-amount":e.tdAmount,"tax-amount":e.taxAmount,"all-check":e.selItems.length===e.matterList.length},on:{"on-submit":e.submitOrder,"on-check-all":e.checkAll,"on-delete":e.deleteCheckd}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},"+3jY":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},"+3kF":function(e,t){},"+7T9":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("4YfN"),r=function(e){return e&&e.__esModule?e:{default:e}}(n),i=a("zWMP");t.default={name:"MatterItem",filters:{percent:function(e){return e||0===e?(0,i.accMul)(e,100)+"%":"无"}},props:{showDelete:{type:Boolean,default:!1},item:{type:Object,default:function(){return{}}},config:{type:Array,default:function(){return[]}}},watch:{item:{handler:function(e){this.matter=(0,r.default)({},this.item)},deep:!0,immediate:!0}},computed:{showEdit:function(){if(this.matter.price||this.matter.tdQty)return this.matter.price||this.matter.tdQty},hideEdit:function(){if(""===this.matter.price||""===this.matter.tdQty||0===this.matter.price||0===this.matter.tdQty)return!this.matter.price||!this.matter.tdQty}},data:function(){return{matter:{}}},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},modifyMatter:function(){this.$emit("on-modify",this.item)}}}},"+ARd":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages xmrw-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("r-picker",{attrs:{title:"项目名称",data:e.projectList,mode:"3",placeholder:"请选择项目名称",required:"","has-border":!1},on:{"on-change":e.projectChange},model:{value:e.projectTask.projectName,callback:function(t){e.$set(e.projectTask,"projectName",t)},expression:"projectTask.projectName"}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.projectTask.projectName,expression:"projectTask.projectName"}],staticClass:"materiel_list mg_auto"},[a("p",{staticClass:"title"},[e._v("项目详情")]),e._v(" "),a("group",[a("cell",{attrs:{title:"项目大类",value:e.projectTask.projectType}}),e._v(" "),a("cell",{attrs:{title:"项目子类",value:e.projectTask.projectSubclass}})],1)],1),e._v(" "),a("r-picker",{attrs:{title:"任务名称",data:e.taskList,mode:"3",placeholder:"请选择任务名称",required:"","has-border":!1},on:{"on-change":e.taskChange},model:{value:e.projectTask.taskName,callback:function(t){e.$set(e.projectTask,"taskName",t)},expression:"projectTask.taskName"}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.projectTask.taskName,expression:"projectTask.taskName"}],staticClass:"materiel_list mg_auto "},[a("p",{staticClass:"title"},[e._v("任务详情")]),e._v(" "),a("group",[a("cell",{attrs:{title:"任务类型",value:e.projectTask.taskType}}),e._v(" "),a("cell",{attrs:{title:"任务说明",value:e.projectTask.comment,primary:"content"}}),e._v(" "),a("cell",{attrs:{title:"截止日期",value:e.projectTask.deadline}}),e._v(" "),a("cell",{directives:[{name:"show",rawName:"v-show",value:e.projectTask.cycleNumber,expression:"projectTask.cycleNumber"}],attrs:{title:"周期天数",value:e.projectTask.cycleNumber}}),e._v(" "),a("cell",{directives:[{name:"show",rawName:"v-show",value:e.projectTask.planTime,expression:"projectTask.planTime"}],attrs:{title:"标准工时",value:e.projectTask.planTime}}),e._v(" "),a("cell",{directives:[{name:"show",rawName:"v-show",value:e.projectTask.operatingRate,expression:"projectTask.operatingRate"}],attrs:{title:"作业费率",value:e.projectTask.operatingRate}}),e._v(" "),a("cell",{directives:[{name:"show",rawName:"v-show",value:e.projectTask.budgetHomeworkCost,expression:"projectTask.budgetHomeworkCost"}],attrs:{title:"预算作业成本",value:e.projectTask.budgetHomeworkCost}})],1)],1),e._v(" "),a("div",{staticClass:"materiel_list mg_auto"},[a("p",{staticClass:"title"},[e._v("实际情况")]),e._v(" "),a("group",[a("datetime",{attrs:{title:"实际完成日期"},model:{value:e.projectTask.actualCompleteTime,callback:function(t){e.$set(e.projectTask,"actualCompleteTime",t)},expression:"projectTask.actualCompleteTime"}},[a("span",{staticClass:"required",attrs:{slot:"title"},slot:"title"},[e._v("实际完成日期")])]),e._v(" "),a("x-input",{attrs:{type:"number",title:"实际工时","text-align":"right",placeholder:"请填写"},on:{"on-blur":e.checkTime},model:{value:e.projectTask.actualTime,callback:function(t){e.$set(e.projectTask,"actualTime",e._n(t))},expression:"projectTask.actualTime"}},[a("span",{staticClass:"required",attrs:{slot:"label"},slot:"label"},[e._v("实际工时")])]),e._v(" "),a("cell",{attrs:{title:"实际作业成本",value:e.projectTask.actualtHomeworkCost}},[a("span",{staticClass:"required",attrs:{slot:"title"},slot:"title"},[e._v("实际作业成本")])])],1)],1),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"其他信息"}},[a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.jsonData.comment.biComment,callback:function(t){e.$set(e.jsonData.comment,"biComment",t)},expression:"jsonData.comment.biComment"}})],1)],1),e._v(" "),a("upload-file",{on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"cfm_btn",on:{click:e.save}},[e._v("提交")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},"+AWf":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("4YfN"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"RTab",props:{data:{type:Array,default:function(){return[{name:"全部",status:""},{name:"进行中",status:"进行中"},{name:"已生效",status:"已生效"},{name:"草稿",status:"草稿"}]}},activeIndex:{type:Number,default:0},mode:{type:String,default:"1"}},data:function(){return{activeTabIndex:0}},watch:{activeIndex:{handler:function(e){this.activeTabIndex=e},immediate:!0}},methods:{switchTab:function(e,t){this.activeTabIndex!==t&&(this.activeTabIndex=t,this.$emit("on-click",(0,r.default)({},e,{index:t})))}}}},"+AeB":function(e,t,a){"use strict";function n(e){a("Lzbv")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("zgOi");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("ku52"),s=a.n(o),l=a("tAQq"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,null,null);t.default=c.exports},"+AuF":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper wlxqtj-detail-container"},[e.orderInfo&&e.orderInfo.outPut?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"order-list":e.orderList,"order-title":e.orderTitle},on:{"on-show-more":e.onShowMore}}),e._v(" "),a("other-part",{attrs:{"other-info":e.orderInfo,attachment:e.attachment}}),e._v(" "),a("pop-matter-detail",{attrs:{show:e.showMatterDetail,item:e.matterDetail},model:{value:e.showMatterDetail,callback:function(t){e.showMatterDetail=t},expression:"showMatterDetail"}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[],i={render:n,staticRenderFns:r};t.a=i},"+FWj":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("kNGm"),i=(n(r),a("0AQX")),o=a("+VRO"),s=n(o);t.default={data:function(){return{userData:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},uploadStyle:{width:"100%",padding:"0.06rem 0.1rem"}}},mixins:[s.default],methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,i.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,s=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=s,e.userData=i,e.workFlowInfoHandler()})},goEdit:function(){var e=this.$route.params,t=e.folder,a=e.fileName,n=this.$route.query.name;this.$router.push({path:"/fillform/"+t+"/"+a,query:{name:n,transCode:this.transCode}})}}}},"+GKa":function(e,t){},"+H+V":function(e,t){},"+KBO":function(e,t,a){"use strict";function n(e){a("2dUZ")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("2q+T");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("R49o"),s=a.n(o),l=a("VfJ/"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-869c60ba",null);t.default=c.exports},"+Kn1":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("ZLEe"),s=n(o),l=a("3cXf"),d=n(l),u=a("4YfN"),c=n(u),f=a("KH7x"),h=n(f),m=a("MgeX"),v=n(m),p=a("HzJ8"),C=n(p),y=a("PzEQ"),_=n(y),g=a("kNGm"),b=n(g),w=a("0AQX"),I=a("HyXB"),D=a("bKg5"),x=n(D),P=a("lsbD"),S=n(P),k=a("y8YJ"),L=n(k),N=a("+WR7"),M=n(N),T=a("Q67R"),A=n(T),O=a("dBs1"),R=n(O),j=a("hLfv"),B=n(j);a("Qg39"),a("zWMP");t.default={mixins:[x.default],components:{XTextarea:_.default,OpButton:S.default,PopBaseinfo:M.default,PopDealerList:L.default,ApplyMatterPart:A.default,OtherConfigPart:R.default,DealerOtherPart:B.default},data:function(){return{numMap:{},formData:{},orderList:{},otherInfo:{},dealerInfo:{},contactInfo:{},filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"申请单",value:"transCode"}]}},computed:{matterList:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var r,i=(0,C.default)((0,v.default)(this.orderList));!(t=(r=i.next()).done);t=!0){var o=r.value,s=!0,l=!1,d=void 0;try{for(var u,c=(0,C.default)(o);!(s=(u=c.next()).done);s=!0){var f=u.value;e.push(f)}}catch(e){l=!0,d=e}finally{try{!s&&c.return&&c.return()}finally{if(l)throw d}}}}catch(e){a=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(a)throw n}}return e}},methods:{selDealer:function(e){var t=(this.dealerConfig,JSON.parse(e)),a=(0,h.default)(t,1),n=a[0],r=void 0===n?{}:n;this.matterParams.data&&null!==this.matterParams.data.dealerCode&&(this.orderList={},this.matterParams.data.dealerCode=r.dealerCode),this.dealerInfo=(0,c.default)({crDealerPaymentTerm:r.paymentTerm,pamentDays_dealerCodeCredit:r.pamentDays,dealerName_dealerCodeCredit:r.dealerName},r)},selContact:function(e){this.contactInfo=(0,c.default)({},e)},getMatterModify:function(e,t,a){this.matter=JSON.parse((0,d.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t)},selMatter:function(e){var t=JSON.parse(e),a=JSON.parse((0,d.default)(this.orderList));t.forEach(function(e){e.tdQty=e.tdQty||e.qtyBal,e.taxRate=e.taxRate||.16,e.purchaseDay=(0,b.default)(e.calcTime,"YYYY-MM-DD")||e.purchaseDay,e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null,a[e.transCode]||(a[e.transCode]=[]),a[e.transCode].push(e)}),this.numMap={},this.orderList=a},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t,a){var n=this.selItems,r=n.findIndex(function(e){return e===t});if(-1!==r)return void n.splice(r,1);n.push(t)},showSelIcon:function(e,t){return this.selItems.includes(t)},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=this.matterList.map(function(e,t){return t})},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t={},a=e.selItems;e.matterList.filter(function(e,t){return!a.includes(t)}).forEach(function(e){var a=e.transCode;t[a]||(t[a]=[]),t[a].push(e)}),e.selItems=[],e.orderList=t,e.matterModifyClass=!1}})},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this,t="",a=[],n=this.otherInfo,r=this.dealerInfo,o=this.otherConfig,l=this.dealerConfig;if(t=this.verifyData(l,r),t||(t=this.verifyData(o,n)),!t){var u=(0,h.default)(this.submitMatterField,1),f=u[0],m=void 0===f?{}:f;(0,s.default)(this.orderList).length||(t="请选择"+m.text);var p=!0,y=!1,_=void 0;try{for(var g,b=(0,C.default)((0,v.default)(this.orderList));!(p=(g=b.next()).done);p=!0){var w=g.value,D=!0,x=!1,P=void 0;try{for(var S,k=(0,C.default)(w);!(D=(S=k.next()).done);D=!0){var L=S.value,N={},M=!0,T=!1,A=void 0;try{for(var O,R=(0,C.default)(this.submitMatterField);!(M=(O=R.next()).done);M=!0){var j=O.value,B=L[j.fieldCode]||L[j.displayField]||L[j.showFieldCode];if(!j.hidden&&!j.allowBlank&&!B&&void 0!==B){t=j.text+"不为空";break}N[j.fieldCode]=null!==B?B:null}}catch(e){T=!0,A=e}finally{try{!M&&R.return&&R.return()}finally{if(T)throw A}}a.push(N)}}catch(e){x=!0,P=e}finally{try{!D&&k.return&&k.return()}finally{if(x)throw P}}}}catch(e){y=!0,_=e}finally{try{!p&&b.return&&b.return()}finally{if(y)throw _}}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=I.saveAndStartWf,n=(0,i.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,d.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:"",formData:(0,d.default)((0,c.default)({},e.formData,e.otherInfo,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",dealerCreditContactPersonName:e.contactInfo.dealerName||null,dealerCreditContactInformation:e.contactInfo.dealerMobilePhone||"",order:{dataSet:a,dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName,expectedPaymentDate:e.dealerInfo.expectedPaymentDate,crDealerPaymentTerm:e.dealerInfo.crDealerPaymentTerm,pamentDays_dealerCodeCredit:e.dealerInfo.pamentDays_dealerCodeCredit}})),wfPara:(0,d.default)(n)};e.isResubmit&&(t=I.saveAndCommitTask,r.biReferenceId=e.biReferenceId),e.processCode.length||(t=I.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,w.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.formData,n=e.otherConfig,r={};e.listId=t.listId,e.biComment=t.biComment,e.attachment=t.attachment,e.biReferenceId=t.biReferenceId,e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,c.default)({},e.formData,e.handlerDefault,{biId:a.biId,creator:a.creator,modifer:a.modifer,biComment:a.biComment,biProcessStatus:a.biProcessStatus}),e.dealerInfo=(0,c.default)({},e.dealerInfo,{city:a.order.city_dealerCodeCredit,dealerCode:a.order.dealerCodeCredit,dealerLabelName:a.order.crDealerLabel,county:a.order.county_dealerCodeCredit,address:a.order.address_dealerCodeCredit,province:a.order.province_dealerCodeCredit,dealerName:a.order.dealerName_dealerCodeCredit,expectedPaymentDate:a.order.expectedPaymentDate,crDealerPaymentTerm:a.order.crDealerPaymentTerm,dealerMobilePhone:a.dealerMobilePhone_dealerCodeCredit,pamentDays_dealerCodeCredit:a.order.pamentDays_dealerCodeCredit,dealerName_dealerCodeCredit:a.order.dealerName_dealerCodeCredit}),e.contactInfo={dealerName:a.dealerCreditContactPersonName,dealerMobilePhone:a.dealerCreditContactInformation},a.order.dataSet.forEach(function(t){t.transCode=t.transMatchedCode,t.inventoryName=t.inventoryName_transObjCode,t.inventoryCode=t.transObjCode,t.inventoryPic=t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),t.qtyBal=t.thenQtyBal,t.processing=t.tdProcessing,t.measureUnit=t.measureUnit_transObjCode,r[t.transCode]||(r[t.transCode]=[]),r[t.transCode].push(t)}),e.orderList=r;var i=!0,o=!1,s=void 0;try{for(var l,d=(0,C.default)(n);!(i=(l=d.next()).done);i=!0){var u=l.value;for(var f in a)u.fieldCode===f&&e.$set(e.otherInfo,f,a[f])}}catch(e){o=!0,s=e}finally{try{!i&&d.return&&d.return()}finally{if(o)throw s}}e.dealerParams.dealerCode=a.order.dealerCodeCredit,e.matterParams.data.dealerCode=a.order.dealerCodeCredit,e.$loading.hide()})},hasDraftData:function(){if((0,v.default)(this.dealerInfo).length)return(0,i.default)({},"ZZSSP_DATA",{invoice:{dealer:this.dealerInfo,otherInfo:this.otherInfo,contactInfo:this.contactInfo,orderList:this.orderList}})}},updated:function(){if(!this.transCode){var e=JSON.parse(sessionStorage.getItem("ZZSSP_DATA"));e&&this.matterParams.data&&(this.dealerInfo=e.invoice.dealer,this.otherInfo=e.invoice.otherInfo,this.orderList=e.invoice.orderList,this.contactInfo=e.invoice.contactInfo,this.matterParams.data.dealerCode=e.invoice.dealer.dealerCode,sessionStorage.removeItem("ZZSSP_DATA"))}}}},"+Lff":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("IHPB"),s=n(o),l=a("4YfN"),d=n(l),u=a("XAqG"),c=a("MjAd"),f=n(c);t.default={name:"USER_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"使用中",status:1},{name:"未使用",status:2},{name:"停用",status:-1}],filterList:[{name:"工号",value:"userCode"},{name:"姓名",value:"nickname"}]}},mixins:[f.default],methods:{getDefaultImg:function(e,t){var n=a(1===t?"Fuf7":"0gu7");return e&&(e.photo=n),n},pathChange:function(e,t,a){var n=this;if(!this.clickVisited){var r=e.colId,i=this.$route.query,o=i.name,s=i.listId,l=this.$route.params,u=l.folder,c=l.fileName,f=a+"/"+u+"/"+c;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,d.default)({},e)),setTimeout(function(){n.clickVisited=!1,n.$router.push({path:f,query:{name:o,colId:r,listId:s}})},200)}},goDetail:function(e,t){this.pathChange(e,t,"/detail")},getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=[];return this.activeTab&&a.push({operator:"in",value:this.activeTab,property:"status"}),this.serachVal&&(a=[].concat((0,s.default)(a),[{operator:"like",value:this.serachVal,property:this.filterProperty}])),(0,u.getAllUsers)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,i.default)(a)}).then(function(a){var n=a.dataCount,r=void 0===n?0:n,i=a.tableContent,o=void 0===i?[]:i;e.hasNext=r>(e.page-1)*e.limit+o.length,o.forEach(function(t){var a=["女","男"],n=["","使用中","未使用","草稿"],r=["临时账户","长期有效"];t.genderText=a[t.gender]||"未知",t.status=n[t.status]||"停用",t.userTypeText=r[t.userType],e.setStatus(t),t.photo||(t.photo=e.getDefaultImg("",t.gender))}),e.listData=1===e.page?o:e.listData.concat(o),t||e.$nextTick(function(){e.resetScroll()});var s="";t&&0===e.activeIndex&&e.total&&(s=r-e.total==0?"暂无新数据":s="新增"+(r-e.total)+"条数据",e.$vux.toast.show({text:s,position:"top",width:"50%",type:"text",time:700})),0===e.activeIndex&&1===e.page&&sessionStorage.setItem(e.applyCode,r),e.$loading.hide()}).catch(function(t){e.resetScroll()})},setStatus:function(e){switch(e.status){case"使用中":e.statusClass="duty_done_c";break;default:e.statusClass="duty_fall_c"}}}}},"+NW/":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noCount:"",noPrice:"",isMoreDealer:""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}}),e._v(" "),a("pop-assignment-task-work-list",{ref:"taskWork",attrs:{show:e.popShow},on:{"sel-task":e.selTask},model:{value:e.popShow,callback:function(t){e.popShow=t},expression:"popShow"}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},"+Q1c":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper xsck-detail-container"},[e.orderInfo&&e.orderInfo.inPut?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.contactInfo,configs:e.dealerConfig}}),e._v(" "),a("warehouse-content",{attrs:{"warehouse-config":e.warehouseConfig}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"order-list":e.orderList,"order-title":e.orderTitle},on:{"on-show-more":e.onShowMore}}),e._v(" "),a("other-part",{attrs:{"other-info":e.orderInfo,amt:e.noTaxAmount,"tax-amt":e.taxAmount,count:e.count,attachment:e.attachment}}),e._v(" "),a("pop-matter-detail",{attrs:{show:e.showMatterDetail,item:e.matterDetail},model:{value:e.showMatterDetail,callback:function(t){e.showMatterDetail=t},expression:"showMatterDetail"}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[],i={render:n,staticRenderFns:r};t.a=i},"+RZR":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("6WeX"),i=n(r),o=a("zlAJ"),s=n(o);t.default={name:"OtherPart",props:{amt:{type:Number,default:0},taxAmt:{type:Number,default:0},count:{type:Number,default:0},otherInfo:{type:Object,default:function(){return{}}},attachment:{type:Array,default:function(){return[]}}},components:{PriceTotal:i.default,UploadFile:s.default},data:function(){return{}}}},"+Rbl":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper xmjx-detail-container"},[a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.orderInfo,"order-info":e.orderInfo}}),e._v(" "),a("div",{staticClass:"project_info"},[e._m(0),e._v(" "),a("div",{staticClass:"project_content"},[a("form-cell",{attrs:{cellTitle:"名称",cellContent:e.projectApproval.projectName,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"大类",cellContent:e.projectApproval.projectType}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"子类",cellContent:e.projectApproval.projectSubclass}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"经理",cellContent:e.projectApproval.projectManager}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"经理电话",cellContent:e.projectApproval.phoneNumber}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"说明",cellContent:e.projectApproval.comment||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"预期开始日期",cellContent:e._f("dateFormat")(e.projectApproval.expectStartDate,"YYYY-MM-DD")}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"预期截止日期",cellContent:e._f("dateFormat")(e.projectApproval.expectEndDate,"YYYY-MM-DD")}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"实际开始日期",cellContent:e._f("dateFormat")(e.projectTime.actualStartTime,"YYYY-MM-DD")}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"实际完成日期",cellContent:e._f("dateFormat")(e.projectTime.actualCompleteTime,"YYYY-MM-DD")}})],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.projectConclusion.length,expression:"projectConclusion.length"}],staticClass:"project_info project-amt"},[e._m(1),e._v(" "),e._l(e.projectConclusion,function(t,n){return a("div",{key:n,staticClass:"project_content",class:{"vux-1px-b":n!==e.projectConclusion.length-1}},[a("form-cell",{attrs:{cellTitle:"实际"+t.conclusionName,showSymbol:"利润率"!==t.conclusionName,textRight:"",cellContent:e.numberComma(t.actual),showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"预算"+t.conclusionName,showSymbol:"利润率"!==t.conclusionName,textRight:"",cellContent:e.numberComma(t.budget),showTopBorder:!1}}),e._v(" "),a("form-cell",{directives:[{name:"show",rawName:"v-show",value:"利润率"!==t.conclusionName,expression:"item.conclusionName !== '利润率'"}],attrs:{cellTitle:"差额"+t.conclusionName,showSymbol:"利润率"!==t.conclusionName,textRight:"",cellContent:e.numberComma(t.difference),showTopBorder:!1}})],1)})],2),e._v(" "),a("other-part",{attrs:{"other-info":e.orderInfo,attachment:e.attachment}})],1)])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"info_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-xiangmu"}),e._v("项目信息")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"info_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-yusuan2"}),e._v("资金明细")])}],i={render:n,staticRenderFns:r};t.a=i},"+VRO":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("MgeX"),s=n(o),l=a("ZLEe"),d=n(l),u=a("IHPB"),c=n(u),f=a("3cXf"),h=n(f),m=a("lC5x"),v=n(m),p=a("J0Oq"),C=n(p),y=a("KH7x"),_=n(y),g=a("rVsN"),b=n(g),w=a("4YfN"),I=n(w),D=a("0AQX"),x=a("4XVd"),P=a("I8ug"),S=a("HyXB"),k=a("iR2W"),L=n(k),N=a("7xzZ"),M=n(N),T=a("d7ck"),A=n(T),O=a("zlAJ"),R=n(O),j=a("3NX5"),B=n(j),E=a("3atK"),F=n(E),U=a("6WeX"),$=n(U),H=a("5xvP"),V=n(H),q=a("zWMP"),Q=a("Qg39"),Y=a("d3k1"),X=n(Y),G=a("Z5v5"),W=a("0o6b");t.default={components:{FormCell:A.default,BasicInfo:M.default,UploadFile:R.default,MatterList:B.default,PopMatterDetail:F.default,PriceTotal:$.default,OtherPart:V.default},data:function(){return{clientHeight:document.documentElement.clientHeight,orderTitle:"所属订单",uploadStyle:{width:"100%",padding:"0.06rem 0.08rem"},uploadTitleStyle:{fontSize:"0.16rem",fontWeight:"bold",color:"#111"},taskId:"",listId:"",userId:"",comment:"",userName:"",transCode:"",orderList:"",formViewUniqueId:"",isMine:!1,isMyTask:!1,noOperation:!0,cancelStatus:!1,HasValRealted:!1,cancelStatus1:!1,showMatterDetail:!1,action:{},hasUpdate:{},orderInfo:{},currentWL:{},matterDetail:{},matterDetailIndex:0,matterDetailKey:"",workFlowInfo:{},fullWL:[],actions:[],attachment:[],matterList:[],dealerConfig:[],matterConfig:[],otherConfig:[],baseinfoExtConfig:[],fundConfig:[],btnIsHide:!1,submitMatterField:[],hasReviseView:!1,currenrForm:"",formStatus:""}},computed:{noTaxAmount:function(){var e=0;return this.orderInfo.order.dataSet.forEach(function(t){null!=t.noTaxAmount&&(e=(0,q.accAdd)(e,t.noTaxAmount))}),e},taxAmount:function(){var e=0;return this.orderInfo.order.dataSet.forEach(function(t){null!=t.taxAmount&&(e=(0,q.accAdd)(e,t.taxAmount))}),e}},filters:{numberComma:L.default,toFixed:Q.toFixed},methods:{getSwiper:function(){this.$router.push({path:"/related/"+this.listId,query:{transCode:this.transCode,uniqueId:this.formViewUniqueId}})},randomID:function(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return e()+e()+e()},getCurrentUser:function(){var e=this;return(0,D.currentUser)().then(function(t){var a=t.userId,n=t.nickname,r=t.userCode;e.userId=""+a,e.userName=n+"-"+r})},getListId:function(){var e=this;return(0,D.getListId)(this.transCode).then(function(t){e.formViewUniqueId=t[0].uniqueId,e.listId=t[0].listId})},getAction:function(){var e=this;return(0,D.getListById)({uniqueId:this.listId}).then(function(t){var a=t[0];"已生效"===e.formStatus&&"revise"!==e.currenrForm&&e.hasReviseView&&a.action.update&&e.actions.push("update")})},getFormViews:function(){var e=this;return(0,S.getFormViews)(this.listId).then(function(t){t.forEach(function(t){if("revise"===t.viewType)return e.hasReviseView=!0,!1})})},getFromStatus:function(){var e=this;return(0,D.getFromStatus)({transCode:this.transCode}).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;e.formStatus=n[0].status})},isMyflow:function(){return(0,D.isMyflow)({_dc:this.randomID(),transCode:this.transCode})},getWorkFlow:function(){return(0,D.getWorkFlow)({_dc:this.randomID(),transCode:this.transCode})},workFlowInfoHandler:function(){var e=(0,I.default)({},this.orderInfo);switch(this.workFlowInfo={biStatus:e.biStatus,transCode:e.transCode},e.biStatus){case"进行中":var t="dyClass";this.workFlowInfo[t]="doing_work",this.workFlowInfo.coClass="doing_code";break;case"草稿":case"已失效":t="dyClass",this.workFlowInfo[t]="invalid_work"}},getFlowAndActions:function(){var e=this;return b.default.all([this.isMyflow(),this.getWorkFlow()]).then(function(t){var a=(0,_.default)(t,2),n=a[0],r=void 0===n?{}:n,i=a[1],o=void 0===i?{}:i,s=r.tableContent||[],l=o.tableContent||[],d=(0,_.default)(s,1),u=d[0],c=void 0===u?{}:u,f=c.isMyTask,h=void 0===f?0:f,m=(c.actions,c.taskId),v=c.viewId,p=(0,_.default)(l,1),C=p[0],y=void 0===C?{}:C,g=l[l.length-1]||{},b=["同意","不同意"];if(e.fullWL=l,e.currentWL=c,"终止"!==g.status){if(l.filter(function(e){return 1===e.isFirstNode}).every(function(t){return!b.includes(t.status)||(e.noOperation=!1,!1)}),e.actions=["agreement","disagree","transfer"],0===y.isFirstNode&&y.startUserId===e.userId&&(e.isMine=!0,e.noOperation&&e.actions.splice(e.actions.findIndex(function(e){return"disagree"===e}),1,"revoke")),e.taskId=m,e.isMyTask=1===h,!e.isMyTask)return void(e.actions=e.isMine&&e.noOperation?["revoke"]:[]);e.formViewUniqueId=v}})},submitSuccessCallback:function(e){"revoke"!==JSON.parse(e).type&&this.$emit("change",!0)},getAppExampleDetails:function(){var e=this;return(0,D.getAppExampleDetails)({transCode:this.transCode,listId:this.listId}).then(function(t){t.relevantItems.forEach(function(t){var a=e.$route.params;a.folder,a.fileName&&(e.HasValRealted=!0)})})},getCommentList:function(){var e=this;return(0,x.getPCCommentList)({relationKey:this.transCode}).then(function(t){var a=t.dataCount,n=void 0===a?0:a;e.$event.$emit("commentCount",n)})},isSubscribeByRelationKey:function(){var e=this;(0,x.isSubscribeByRelationKey)(this.transCode).then(function(t){e.$emit("is-subscribe",t)})},loadPage:function(){var e=this;return(0,C.default)(v.default.mark(function t(){var a,n,r;return v.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.$route.query,n=a.transCode,r=a.name,n){t.next=4;break}return e.$vux.alert.show({content:"抱歉，交易号有误，请尝试刷新之后再次进入"}),t.abrupt("return");case 4:return e.transCode=n,e.$loading.show(),t.next=8,e.getCurrentUser();case 8:return t.next=10,e.getListId();case 10:return t.next=12,e.getFlowAndActions();case 12:return t.next=14,e.getOrderList(n);case 14:return t.next=16,e.getFromStatus();case 16:return t.next=18,e.getFormConfig();case 18:return t.next=20,e.getFormViews();case 20:return t.next=22,e.getAction();case 22:return t.next=24,e.getCommentList();case 24:return t.next=26,e.isSubscribeByRelationKey();case 26:e.$loading.hide(),e.$emit("refresh-scroll"),wx.ready(function(){var e={title:"点击查看"+r+"详情",desc:"点击查看"+r+"详情，哈哈哈哈",imgUrl:"https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=888178039,2627708353&fm=26&gp=0.jpg"};(0,W.shareContent)(e)});case 29:case"end":return t.stop()}},t,e)}))()},getAppDetail:function(){var e=this,t=this.$route.params.listId,a=void 0===t?"":t;return(0,P.getAppDetail)(a).then(function(t){var a=(0,_.default)(t,1),n=a[0],r=void 0===n?{}:n,i=r.action;e.action=i})},getFocus:function(e){event.currentTarget.select()},saveData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.$vux.confirm.prompt("",{title:"审批意见",onConfirm:function(n){var r=e.orderInfo,i={listId:e.listId,biComment:r.biComment,biReferenceId:r.biReferenceId,formData:(0,h.default)(t),wfPara:(0,h.default)((0,I.default)({businessKey:e.transCode,createdBy:r.creator,transCode:e.transCode,result:1,taskId:e.taskId,comment:n},a))};e.$HandleLoad.show(),(0,S.saveAndCommitTask)(i).then(function(t){e.$HandleLoad.hide();var a=t.success,n=void 0!==a&&a,r=t.message,i=void 0===r?"提交失败":r;n&&(i="提交成功",e.$emit("change",!0)),e.$vux.alert.show({content:i,onHide:function(){n&&e.$router.go(0)}})})}})},getFormConfig:function(){var e=this;return(0,S.getFormConfig)(this.formViewUniqueId).then(function(t){e.currenrForm=t.viewType;var a=t.config,n=void 0===a?[]:a,r=t.dataSource,i=void 0===r?"[]":r,o=t.reconfig,l=void 0===o?{}:o;console.log("config:",n);var u=[],f=[],h=[],m=[],v=[],p=[],C=[],y=["dealerName_dealerDebit","drDealerLabel","address_dealerDebit","dealerDebitContactPersonName","dealerDebitContactInformation","project","projectType_project","dealerName_dealerCodeCredit","dealerCodeCredit","crDealerLabel","address_dealerCodeCredit","dealerCreditContactPersonName","dealerCreditContactInformation"],g=["inventoryName_transObjCode","transObjCode","tdProcessing","specification_transObjCode","inventoryName_outPutMatCode","outPutMatCode","specification_outPutMatCode"],b=e.orderInfo,w=JSON.parse(i),D=(0,_.default)(w,1),x=D[0],P=void 0===x?{}:x,S=P.dataSource&&JSON.parse(P.dataSource.source)||{},k=S.cols||[],L={},N=!1,M=!1,T=[],A=[];n.forEach(function(t){if(t.formViewPartId){var a=l["_"+t.formViewPartId]||{};t.items=t.items&&t.items.map(function(e){var t=a[e.fieldCode]||{};return(0,I.default)({},e,t)})}t.hiddenInRun||t.isMultiple?!t.hiddenInRun&&t.isMultiple&&("order"!==t.name&&"outPut"!==t.name&&"inPut"!==t.name||(t.r2GridXtype&&t.items.forEach(function(e){e.r2GridXtype=t.r2GridXtype}),m=t.items,L=t.dataIndexMap||{},N=!!(0,d.default)(L).length)):("kh"!==t.name&&"inPut"!==t.name&&"baseinfoExt"!==t.name&&"gys"!==t.name||(h=[].concat((0,c.default)(h),(0,c.default)(t.items))),"ck"===t.name&&(u=t.items,e.setWarehouseConfg(u,"出库")),"rk"===t.name&&(f=t.items,e.setWarehouseConfg(f,"入库")),"pb"!==t.name&&"outPut"!==t.name&&"projectApproval"!==t.name&&"jobLog"!==t.name&&"projectPlanTask"!==t.name||(v=t.items),"baseinfoExt"===t.name&&(p=t.items),"order"===t.name&&(C=t.items))}),e.judgeDealerConfig&&e.judgeDealerConfig(h),h=h.reduce(function(e,t){return t.hiddenInRun||y.includes(t.fieldCode)||(t.fieldValue=b[t.fieldCode],e.push(t)),e},[]),e.dealerConfig=h,m=m.reduce(function(t,a,n){var r=L[a.fieldCode],i=k.find(function(e){return e.k===r}),o=!r||!!i&&!i.h;return a.submitValue&&A.push(a),"transMatchedCode"===a.fieldCode&&(e.orderTitle=a.text,M=N&&!(r&&i&&!i.h)),k.length?a.hidden||g.includes(a.fieldCode)||!o||t.push(a):a.hidden||g.includes(a.fieldCode)||t.push(a),t},[]),e.matterConfig=m,e.submitMatterField=A,(0,s.default)(e.orderList).length?(T=(0,s.default)(e.orderList).reduce(function(e,t){return[].concat((0,c.default)(e),(0,c.default)(t))},[]),M&&(e.orderList={undefined:T})):e.matterList.length&&(T=e.matterList),e.setMatterConfig(T),v=v.reduce(function(e,t,a){return t.hiddenInRun||e.push(t),e},[]),e.otherConfig=v,p=p.reduce(function(e,t,a){return t.hiddenInRun||e.push(t),e},[]),e.baseinfoExtConfig=p,C=C.reduce(function(e,t,a){return t.hiddenInRun||e.push(t),e},[]),e.fundConfig=C})},setWarehouseConfg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=this.warehouseConfig;if(this.warehouseConfig){var n={warehouseAction:t,config:[]},r=!0,o=!1,s=void 0;try{for(var l,d=(0,i.default)(e);!(r=(l=d.next()).done);r=!0){var u=l.value;u.hiddenInRun||(u.fieldValue=this.warehouse[u.fieldCode],n.config.push(u))}}catch(e){o=!0,s=e}finally{try{!r&&d.return&&d.return()}finally{if(o)throw s}}a.push(n)}},setMatterConfig:function(e){var t=["r2Numberfield","r2Percentfield","r2Permilfield"],a=this.matterConfig;e.forEach(function(e){var n=[],r=[],i={};a.forEach(function(a){a=(0,I.default)({},a),a.value=t.includes(a.editorType)?(0,L.default)(e[a.fieldCode])||"0":e[a.fieldCode]||"无","r2Datefield"===a.editorType?r.push(a):"comment"===a.fieldCode?i=a:n.push(a)}),e.others=n,e.dates=r,e.matterComment=i})},onShowMore:function(e,t,a){a&&(this.matterDetailKey=a),console.log("item:",e),this.matterDetail=JSON.parse((0,h.default)(e)),this.matterDetailIndex=t,this.showMatterDetail=!0}},created:function(){(0,G.register)(),this.loadPage()},mounted:function(){var e=this;X.default.isAndroid&&(window.onresize=function(){e.btnIsHide=e.clientHeight>document.documentElement.clientHeight})}}},"+WR7":function(e,t,a){"use strict";function n(e){a("tIqq")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("Pqvm");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("lW8f"),s=a.n(o),l=a("Xs70"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-14439486",null);t.default=c.exports},"+X2N":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages related_apply"},[e._m(0),e._v(" "),a("div",{staticClass:"swiper-container swiper_related"},[a("div",{staticClass:"swiper-wrapper"},e._l(e.RelatedAppList,function(t,n){return a("div",{key:n,staticClass:"swiper-slide"},[a("div",{staticClass:"header vux-1px-b"},[a("div",{staticClass:"related_info"},[a("img",{staticClass:"icon",attrs:{src:t.icon}}),e._v(" "),a("div",[a("div",{staticClass:"related_name"},[e._v(e._s(t.listName))]),e._v(" "),a("div",{staticClass:"related_num"},[e._v("实例数量: "),a("span",[e._v(e._s(t.itemCount))])])])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isrelated,expression:"item.isrelated"}],staticClass:"create_order",on:{click:function(a){e.goRelation(t)}}},[e._v("创建并关联")])]),e._v(" "),a("div",{staticClass:"related_list"},e._l(t.relatedList,function(n,r){return a("div",{key:r,staticClass:"related_item vux-1px-b",on:{click:function(a){e.goDetail(t,n)}}},[a("div",[e._v(e._s(n.transCode))]),e._v(" "),a("div",{staticClass:"creator_name"},[e._v(e._s(n.creatorName)+"\n              "),a("span",[e._v("[创建人]")]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou"})])])}),0)])}),0)])])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"big_title"},[a("p",{},[e._v("相关实例")])])}],i={render:n,staticRenderFns:r};t.a=i},"+X4v":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("0AQX"),s=(a("HyXB"),a("+VRO")),l=n(s),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),h=a("6WeX"),m=n(h),v=a("3NX5"),p=n(v),C=a("sUbJ"),y=n(C),_=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:""}},components:{workFlow:f.default,RAction:u.default,PriceTotal:m.default,MatterList:p.default,MatterItem:y.default},mixins:[l.default],methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,o.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,s=t.attachment,l=void 0===s?[]:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var d={};o.order;e.attachment=l;var u=o.order.dataSet,c=!0,f=!1,h=void 0;try{for(var m,v=(0,i.default)(u);!(c=(m=v.next()).done);c=!0){var p=m.value;e.count=(0,_.accAdd)(e.count,p.tdAmount),p.inventoryPic=p.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+p.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),p.transObjCode=p.inventoryCode_transObjCode,d[p.transMatchedCode]||(d[p.transMatchedCode]=[]),d[p.transMatchedCode].push(p)}}catch(e){f=!0,h=e}finally{try{!c&&v.return&&v.return()}finally{if(f)throw h}}e.orderList=d,e.orderInfo=o,e.workFlowInfoHandler()})}}}},"+YRA":function(e,t,a){"use strict";function n(e){a("AEil")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("yQzi");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("D90O"),s=a.n(o),l=a("/vXQ"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-570fb65e",null);t.default=c.exports},"+Yy+":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("3cXf"),r=function(e){return e&&e.__esModule?e:{default:e}}(n),i=a("1WsH");t.default={data:function(){return{jobInfo:{},jobId:""}},methods:{findData:function(){var e=this;return(0,i.getJobList)({filter:(0,r.default)([{operator:"eq",value:this.jobId,property:"id"}])}).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;n.forEach(function(e){switch(e.type){case"Y":e.type="营销类";break;case"Z":e.type="专业类";break;case"J":e.type="技术类";break;case"C":e.type="操作类";break;case"M":e.type="管理类"}switch(e.status){case 1:e.status="使用中";break;case 2:e.status="未使用";break;case 3:e.status="草稿";break;case-1:e.status="停用"}}),e.jobInfo=n[0],e.$loading.hide()}).catch(function(t){e.$loading.hide(),e.$vux.alert.show({content:t.message})})}},created:function(){this.$loading.show();var e=this.$route.query;e.id&&(this.jobId=e.id,this.findData())}}},"+eg0":function(e,t){},"+h34":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("ZLEe"),i=n(r),o=a("VZtf"),s=n(o),l=a("luHD"),d=n(l),u=a("9cRV"),c=n(u),f=a("SFXC"),h=n(f);t.default={name:"apply-matter-part",props:{checkAmtFn:{type:Function},actions:{type:Array,default:function(){return[]}},btnInfo:{type:Object,default:function(){return{}}},defaultValue:{type:Array,default:function(){return[]}},matterPopConfig:{type:Array,default:function(){return[]}},matterEditConfig:{type:Object,default:function(){return{}}},matterParams:{type:Object,default:function(){return{}}},chosenMatter:{type:Object,default:function(){return{}}},selConfirmFn:{type:Function,required:!0},filterList:{type:Array,default:function(){return[]}},addMatterFn:{type:Function,required:!0},stopOrderFn:{type:Function},selMatterFn:{type:Function,required:!0},showSelIconFn:{type:Function,required:!0},getMatterModifyFn:{type:Function,required:!0},delClickFn:{type:Function,required:!0},showDeleteFn:{type:Function,required:!0},matterList:{type:[Array,Object]},selItems:{type:Array,default:function(){return[]}},orderListTitle:{type:String,default:""},showMaterielPop:{type:Boolean,default:!1},showMatterPop:{type:Boolean,default:!1},matterModifyClass:{type:Boolean,default:!1},btnIsHide:{type:Boolean,default:!1},maxField:{type:String,default:"qtyBal"}},components:{RNumber:s.default,PopMatter:d.default,MatterItem:h.default,PopMatterList:c.default},computed:{listIsObj:function(){var e=this.matterList;return"[object Object]"===Object.prototype.toString.call(e)},isSubmitAgain:function(){return 1===this.btnInfo.isMyTask&&this.btnInfo.actions.includes("stop")}},watch:{showMaterielPop:function(e){this.showPop=e},showMatterPop:function(e){this.showModifyPop=e},matterList:{handler:function(e){"[object Object]"===Object.prototype.toString.call(e)?this.DataLength=(0,i.default)(e).length:this.DataLength=e.length},deep:!0,immediate:!0}},methods:{closePop:function(){this.$emit("input",!1)},closeModify:function(){this.$emit("show-down-modify-pop",!1)}},data:function(){return{DataLength:0,showPop:!1,showModifyPop:!1}}}},"+hQ9":function(e,t,a){"use strict";function n(e){a("HXci")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("xJK3");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("nf4D"),s=a.n(o),l=a("3MgU"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-043a9675",null);t.default=c.exports},"+pOj":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.inPut?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("warehouse-content",{attrs:{"warehouse-config":e.warehouseConfig}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"matter-list":e.matterList},on:{"on-show-more":e.onShowMore}}),e._v(" "),a("other-part",{attrs:{"other-info":e.orderInfo,attachment:e.attachment}}),e._v(" "),a("pop-matter-detail",{attrs:{show:e.showMatterDetail,item:e.matterDetail},model:{value:e.showMatterDetail,callback:function(t){e.showMatterDetail=t},expression:"showMatterDetail"}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[],i={render:n,staticRenderFns:r};t.a=i},"+raq":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADVCAYAAAA4oE50AAAAAXNSR0IArs4c6QAAJYRJREFUeAHtXQd0XNWZvk+jaqtYliwbbCx3MG640MG4qIyUhBBaAmQLkN1syCFLkk07ZBc24SSkJ5slJ4TsLhA2QBJCCUiy3MJSEnC3MTa2ccXYVnGRJUsaTdnvf5r79KSZkaa8OvPfc+bc9+5775bvvW9u/z8h2DECjIDlCCiWp8gJMgIjIBAKhZTm5uZRHo+nUPH5CoM5OaMCgUB3Xl5eJx7tXLZsWZeiKKERonH0ZSaeo19PemcuTLA5Sih0DY5no7QzRCg0UyjKFJznDFP6AD7cQyFF2Yt79uH+3Z5g8I2qurptIGRwmOccc4mJ55hXkRkZWbVqVYUIBm9GdVWDj+9aEGysUSUH6c4grjcQ5+qcvLzfr1y58qhRcRsdDxPPaEQ5vggEQLbRIMOtSjB4Gwi3Ajd4Im7SBYBAAs3M/l92tvBkZYGrQeH3+wWanOoP8emeiHoYRDyv4feM4vE8XV1dTaR0jGPiOeZVpF9GwrXbvSjZPbFqNvTbROnYsaKkpESMGj1ajBo1Sv1lgWyxXAgkPNfdLc51dYlz586JM2fOiFMnT4qenp7ojyhKR1Yo9Bjarj9dXl//QfSbrA1l4lmLd0aktn79+vLenp4H8XHdDcLl6wtNtRkRbcKECaKsvFwlmf56KsfdIOPJ9nZx/Phx0d7Whu7i4FoRafehP/mUyM7+Zk1NzYeppJXqs0y8VBHk5zUEQLhsX08P1W4PIrBUu4CD0ajNLpg8WUw47zxBtZzZzufziRMg4OHDh0Xn2bODkgMBaVT0O1ODwR/NrK/vHXTRohMmnkVAp3syaFYuRhPwSVQzF+vLOmbMGDFl2jQxfvx4fbClx22treLAgQNqbahPGB//fvzuqqmvf1UfbsUxE88KlNM4DdRuyupVq74C/yH8tCkAquEumj1blI8b55jSUz9w965doqOjQ5+noJKV9d3cvLwHly9f7tdfMPOYiWcmumketzp4Egg8HR6pVEubjVHI6TNnisrKSkyvOfPz+uDIEbF3zx5BzVHpkNO3snJybsXo52EZZqbvTGTMLDHHbQgCa9asmRXw+RpBumkywjGlpWL+ggWioKBABjnW9/X2ih3bt4s2DMJoTlGOeUKhj1TX12/Rwkw6YOKZBGw6R4vlXFeHAoEX0bQso3JSzTZ9xgz157ZyHzx4UOx97z11njBclk6siLnF6/U2mVkWJp6Z6KZh3Kubmj4SDIX+ANKp0wTUtFxwySWO6sslCvupU6fElk2bRF9fn/oo/kj8IMadNXV1TyUaV7z3M/HiRYrvE6sbG2/EQshn5CAKTQssWrJEFBcXux6dLkzGb9q4UXRjQj7saOXLP9bW1f2XDDDSZ+IZiWYax7WqoeEOtCkfB+myqZi0yuTSSy8V+S7oz8X7WmiwZeOGDeJseNQTxEOrU7m3xut9JN444r2PiRcvUhl8X1NT053oBP0aEKjruEYXFopLL7vMkolwq2Gn5uYmkI+WoUkHknyltr7+h/LcCD/2gjgjYuc4XI8AarrPYZkVNbfUb6WoqEhcdvnlaUk6elk5OTliCf5USjFCKx1Gbn/Q3NT0r/LcCJ9rPCNQTNM4QLp/oY9OFq8YC5mXoHlJH2e6O9oFsRkDLrT2U+ce8NbXf0t3nvQhEy9p6NL7QfzDfxVbcb4nS0lzdIsxkEKjmJniaCvSls2bBS05kw67Ju5Dn+9n8jxZn4mXLHJp/NyqpqaHsO7yflnEsWVlYtHixer+OBmWKT5tQSLytYbJRwMuGHG5G/N8/5MKBky8VNBLw2ebGxp+iCmDL8uilWPrzkKQbrj9cfLedPWp5qPRTlrrGXYBbK6tqa2tXScDEvWZeIkilqb3Y5pAQU33c+wu+Lws4riKCrFw4UKBRcQyKGP9AHa/b3j7bW20EzVfC8i3MNl9fYxoxn5KAwUH6bLQp3tMT7rx2Ki6cNEiJl0YJg/6trRYIC+/f18vMKsI+f2/oz2IA0jGf8TEix+rtLwTH5AHpHsS/t2ygOdPnKguA8O/ugxiHwjk5uaquMhmN0Z8r+7r7U1qmoGRzeBPauPGjTntra2/BeluljBMuuACMWfuXHnKfhQEDmJT7Xu7d8srvlxFmb+iru49GRCPzzVePCil4T17GxryQLrn9KSbjD10TLqRX/aUqVP1E+y52NX3y5GfGnwHE28wHhlx9uabbxa8rygvg3QfkwWeCvMMsy8eZLVBXmI/CgIXo1Ugm5zoGy9rbmy8LcptMYOYeDGhSc8LGAwoPHvmTCM+lipZQtpLN+vCC+Up+3EgUIj1qpVTpmh3YgrmAfyRxc2nuG/UUuAD1yKwevXqEpjda8YHcp0sxMxZs8QMmGpglzgC06dPH1g+FwpdiEGqW+ONhYkXL1Iuvw+mGsqCfv9a1HRXyqKQMaJp+HjYJYcATTHoaz1gez/+1OIasGTiJYe5q54io0T+vr51+CgWU8ZpmuDiOXMGfzSuKpFzMkvEyw4vGsf0wtw1TU1aa2K4XDLxhkMnDa7BPsr52Ev3Kv6N51NxiHQ0cknGZdmljgAtGp94/vlaRPhz+1vtZJgDJt4w4Lj9Evp0k2GU6FV8DBdRWYh08+bPFxMnTXJ70RyV//N1eGKQ5WbMj44aKYNMvJEQcul19OmmoU/3Okg3g4pAQ9+XYN3lebp/Z5cWzXHZJpszhdggHHZFmB+9Xp7E8pl4sZBxcfi6xsYL0acj0l1AxciC5BWtu6yw0Yy6i+GMK+vnQRNCc4pSrR3HOGDixQDGrcEYSJnbFwpRn079EkhnjvbSOcmUuluxHS7fZdizKB3+8FbI41g+Ey8WMi4MX9vUtAgDKX/G6JqqEEIdf9o1rv8oXFgsV2SZzGJou/NDoSnU1B8u40y84dBx0bXVDQ1X+EMhmjJQ/3pVoz2wj0JadOzMR4AGrvRYQ732iuFSZeINh45LrqF5uTQgBK1IKaEs0/YVspRVAoksdtYhQBbYNBcMqiPJ2vmQg6Q28Q2Jg09tRAATtlV+6BggC+oQNll3JtLRWkJ21iJA9kY1pyjDLn5l4mlIue+AdAzQvHwOOVclVvOxO5pIR9p07KxHQI871o0x8ax/BeanCJuXN0M85LcYvVSNXJI01qUwNOsGiSzz0bEnhSHY6+YXIvPDNV4kJo4PgUn120G4J9CnU9+fqmOAmo5qPHb2IaCNalIWQiFdhy8yTzy4EomJo0PCOga/kaSjvhyZVGfS2f/aaHUQjW6Sw5ROAd6RJ1aumHixkHFg+KrGxnuG6hhQ85IGVNg5AwF9rYe5PN1oy+D8cVNzMB6OPYNpgS+hT/cjmcFM0jGQZXaDj1pOyyYM4fq1kyEHTLwhgDjxFDXd10G678q8ZaKOgSy7030SOwm7IIzdaiqXMlD6TDyJhEN9kO7b+Bf9pszeWKxEIcOqtAaTnbMQIGvTWo2nKJ3o7w1Uf0OyysQbAoiTTkG6H+NFflHmiRY60y4DzbqVvMC+IxDoA/F0rkN3HHHIxIuAxP4AkE3VMYCv6RhUQMeA9tOxjoH97ydWDs5BR13nDuqOIw6ZeBGQ2BsAspGOwa/QZtFMqk+AjsH8Sy7RhqrtzSGnHguBLh3xMKnwXqz7KJyJNxw6Fl8jAQyQ7nGQ7w6Z9PnYMT5vwQJ5yr6DEejq7NTnblji8TyeHiobj0nHADYvn9WTjnQMmHQ2vpQEkz595oz2BGq8ndpJlAMmXhRQrA5SdQxaWv6I5uWNMm3WMZBIuMPH/jvRMUC8gJKd/cZwOWfiDYeOBddIx2C/oryEceePyuRIFIN1DCQa7vBJLRatFTWzmEbYVF1dPVD9RSkC9/GigGJVkKpjcPr0K3hdS2WapGPAJtUlGu7xpUZ6OMfrRso5E28khEy6TjoGvp6eJpBOMxFAOgZsUt0kwE2MNgSN9OPHjmkpoBn5inYS44CJFwMYM4Oxw2AsbF6SqQbVpDqlRToGg+zwm5kBjttQBFpaWkRfX58aJwZV9lfX1b0+UgJMvJEQMvg6VqyPD/h8q1HTzaOoaRsJ9efYpLrBQFsY3dGjRwdSU5QnB05iHzHxYmNj+BXSMQj09a0F6TST6nPnzROkOc7OnQh0nj0r2lpb1cyrazOzsph4TnqVpGOARbTrMPSl6mJRTUdzdIMsEDspw5yXuBB4//33tdFMPPBcbW3tgXge5BovHpRSvGdtQ8N09AHWIppKiooWOS/AEjA2qZ4isDY/TitVThw/ruaCaruQojwUb5aYePEileR9sHl5kT8YJEFIVcuJdAxosfM47DRg524Edr37rlbbofvwktfr3RZviZh48SKVxH1oXs7D6OUajF5W0OO0h24hdAzYpHoSYDrskWMffija29vVXKG282dlZ/9rIllk4iWCVgL3oqZbDNKtAulUk+pki4M2sJaWliYQC9/qRARo6mD37t36rP0EK1V26ANGOmbijYRQEtdJxwD2NppAOtWkOukYkHgIm1RPAkwHPrJj+3bh6+2VOTtUNm7cg/IkXp+JFy9Scd7X3NBwXVBRXgbpVAtTqo4BxEOKIF7Izv0I7McoZismzMmFB1T+acmSJTFtq8QqMS+SjoVMEuFoXlZDirdBko7M7pH5PSZdEmA68JH2tjaxb+9efc4exoBKkz4g3uN+65vx3s33xUSAdAwCpGMQCqlGLlnHICZUrrxwBlt+Nr79tqDtP+RQ262v8Xqr4WtmxRIpGDc1E0Erxr1Ye3kTzO89DdIN6BjApHrBqBE16GPEyMFOQqAT83WbNmwYIJ0Qhz05ObclSzoqGxMvxTcM8ZA7sDr9CczjqPb2WMcgRUAd9jhNklNNpy2CVpQWkK66qqrqRCpZZeKlgB5IdxcI9xiiUPvKpGNAMllsUj0FUB306FmswyTS+Xw+NVfol53G6pQakG5Pqtlk4iWJIIwSfR6DKD9H81LtJ9MAyhKMXtIoJjv3I0B9OmpeypoOnboONGnqqxJYnTIcCjy4Mhw6Ma4N1TEogfD8YpCO5uvYuR+B06dPi00bNwp/eI8dSnQqW1Fqq+rqNhhVOq7xEkQS1p2/gYGU78jHWMdAIpEe/knYTtmyaZM2kIKarhW/aqNqOokS13gSiTj8VU1ND2Eg5X5569iyMrEIay9Zx0Ai4m6/DfN0WzdvFjrhkeOomVZW1de/a3TJmHhxIooVKT/E5PiX5e3l5eXqgmfWMZCIuNun1Shbt2wRWOrXXxBF+QA7SVZA8WfQjLlRpVSHwI2KLB3jwQCKctUVVzyC0ct/luUjHQMWD5FouN+nPXXbtm7VSIf5uQNYBbEMzcv9ZpWO+3jDIAvSZTWvWvUY/LvkbaxjIJFID/9DbO95B4ue8Y5lgfbkhkIrl9fXfyADzPC5qRkDVbwID6YMnoB/h7yFbKPMmz9fnrLvcgQ+OHJEvLtz5wDpFGVnXn5+1fLly/u3lZtYPiZeFHBJx6C9peVp/AfeJC+TjsGcuXPlKfsuR+DwoUOCdpBLByJszS0oqAbp2mSYmT4Tbwi6pGOAhv0fQDrNpDrpGLBJ9SFAufj0wP79Ys97A2I+6NO9Paqw0HvttdeesqpYvC1IhzRqulEg3Z/0pJvKOgY6hNx/+P6+fYNIhzm610tCoWorSUcoco0X/pZIxwAm1WkD63Xy8yJz6mRWnV16ILB3zx5BG1mlw8e/DpOw18Mk3yApV3ndTJ+JB3RJxwA2LxvRy75Sgs06BhKJ9PB379olDh08qBUGH34j+nQ3ok/XowVaeJDxxCMdA1hEZB0DCz86q5Oikcsjhw9ryeKjf2FSZeUn58yZ07/tQLti3UFGz+PBVEMF1getQZ+OdQys++YsTYnm6PTaBiDds6jpPg3S9W8ltzQ3A4llLPHWrl07sc/nI+vOFxIcGNkSc6BjMJF1DAa+Dhcf0YT49m3bBsln4R0/AXMNd8NPylyDkXBkZFMTpKtUSRfWMaD1lnMxMc46BkZ+WvbFRaSjdZctJwY2iYNsj4J0n4OPBo79LuOIRzoGaGOsA/qTCX7WMbD/IzQyB7TIeQt2GEgFH4obZPtJbV3dl4xMJ9W4Mop4pGOAlbBr8Y+o6RgshI5BOesYpPodOeJ52s5De+mkaXXKFP5Yv4ea7uuOyKAuExnTx2MdA91bT8NDTAepu8ZPnRq0+OTbIN2/ObG4GVHjkY4BajrWMXDiF2hAnsjW5UbYRzkDkw3Soab7Gkj3fXnuND/tazzWMXDaJ2dsfsgYEVkC6+joUCMOD57cB9L9h7EpGRtbWtd4pGMAc2ysY2DsN+OY2Mjs3gaQjuSQyRHp8L4/C7PqZHLR0S5tiUc6BqFA4AWgr5pzJluXZPOSbF+ycz8CvT09Kum6urRllgGMpNwF0j3phtKlZVMTpPsojBL9AS+AdQzc8BUmmMfu7m61eXnuXL9ID2o6f5ai3FHt9f4uwahsuz3tiEc6BhhIYR0D2z4pcxMmslHzsgfkCzsfSHcrSPeiDHCDn1bEA+luB+mexOQ46xi44etLMI+kY0Ck6w2LQqKf1B3KyroRpEtKKivB5A29PW36eKxjYOh34bjIInQMFKULAykfQ59uveMyG0eG0qLGg3Xne1DW/9R0DIqK1IEU1jGI4wtwwS0dpE03RMdA8Xjqa2tq3nBB9qNm0fXEYx2DqO81bQKj6hgIUVtVU2OYjoEdYLmaeGhe3g8dg4ckcKxjIJFID98qHQM70HJtH491DOz4XKxL00odA+tKNZCSK4nX1Nj4I/TntG0etLuATaoPvFS3Hw3VMcA83RH06VaapWNgB16u0k7Adh5VxwCk+4IEi3UMJBLp4R+HjsH2IToGkPo0VcfADuRc08cD6SJ1DM47T8xfsEA122AHeJymsQjYpWNgbCnii80VTU2QzoPRS5oYv10Wi3UMJBLp4dupY2AHgo4nHusY2PFZWJum3ToG1pa2PzVHE491DOz4JKxN0wk6BtaWuD81x2onsI6BHZ+DtWmSOXW9eAg666+PLiqqslrHwNpS96fmyBpP1THo7n4FfbqlEpTpM2aIGTNnylP2XY4AEY5qO+nwIdqmYyDzYKXvOOKRjkHQ72/CgMoVEohZF14opk6bJk/ZdzkCTtMxsANORxFvzZo1Zf6+vmbM0y2SYFw0e7aonDJFnrLvcgScqGNgB6SOmcfDrvGKgM+3BiCwjoEdX4IFaTpVx8CCokck4QjiNTc3nw/7KGvRp7uIcoglQqxjEPGq3BuAboOjdQzsQNb2pmY0HYN50DGYgFUp7NyPAJHO6ToGdqBsK/FYx8COV25dmqRjsBU6Bq2trfpEf+atr79PH5CJx7YRD3061jFI4y8umo4BuhAPQzzkG2lc7LiLZgvxQLq5YfGQCsqpx+MRixYvFmPLyuLOON/oXASi6RiAdA+CdP/u3FxbmzPLiUc1HQZSXkMxy6mo2dnZYtGSJaK0tNTaknNqpiCg6hjAEtgZ2EmRDqT7Kkj3A3nOPgYQrQThrw0NxacVZTPm6aZTujk5OWIxSFcyZoyV2eC0TEIAYp9iA4wSndXpGIB090LH4BGTknRttJZOJ5yBKqckHdV0iy+9VJSUlLgWPM74AAKqjsFbb4lO2L4MuyBI91mQ7tcygP0BBCwjnmr3MhT6lEx6LvTGmXQSDXf70XQMIJN1J0j3G3eXzLzcW0I8LAWb5vf5fi6LccHkyWL8hAnylH0XI0A6BmTduVunY4D+y+0g3e9dXCzTs24J8bD+8icoiaraUwhjs7T+kp37EYimYwDS3VJTV/eS+0tnbglMJx70DLyYOrieioE2v6BVKWiGmFsqjt10BKLpGEA85BPVdXWrTE88DRIwlQFktgGk+5nEadKkSaK4uFiesu9SBEjH4G0MpGjiIaRjkJX1ESZd/C/U1BrvZFsbaRrMouzQ1MHMWeph/LnjOx2HAM3PbRqiY4AmTJ23tvZNx2XWwRkyrcbDLvJ8mFf/miw77SDPyYWFRHauReD0qVODxEPQdTiJf+6qWiZdwu/UtBrP1939D8iNusUgv6BATK6sTDhz/IBzEIimYwCZrOoqr3ebc3LpnpyYUuORdTBAoNV202C2gQZW2LkTAdIx2Lxxo6DlYKpTlGPZodAyaNMx6ZJ8pabUeAeysj4DDfKJlKe8/HwxEYMq7NyJQEtLi9i2ZQvGyIJqAfAHquoYQCZrrztL5IxcG17jYeNjFvp2X5TFmzp1Kk8fSDBc5pOOwRDSHUAvfWk6iYfY9UoMr/FgxqFersckRVZapcLOfQh8ePSoeGfHDrxKGOTod3uyc3NXLF+58qgMYD95BAwnnggENCUfamLyZHnyL8euJzNNx8AOnA1tasIm5mz8P1ZTQWgwhUcy7XilqaVJOgY733lnoKZTlC3opy9bvnz58dRi5qf1CBha4wUDgXtl5BXjx4t8DKywcw8C0XQMcvPza0G60+4phTtyahjxsLN8NHaWf1oWm2s7iYQ7/Pf37RP79uoGKvt1DOqvueaas+4ogbtyaRjxlGDwFjQzi6j4tANh7Nix7kIig3M7VMcA/YQ1SlbWDSBdVwbDYmrRDSMeRr/ulDmdOFGdwpOn7DsYgag6Bvn5N6J52ePgbLs+a4YQj+xj9oWVfWgUk9Ra2TkfgXcxiHLkyBEto1hb9MKkyspPzpkzx6cF8oEpCBgyqunHNn+Zu/Jx4wTN37FzNgI7tm8fTDpFeSa3oOAWJp017y1l4tFKFfz+TmaXl4dJJJzp04T4tq1bBU2QS4epnydgquEONC/DizHlFfbNQiBl4mE08zpM+qiLMXPz8sQ41HjsnIkAkY50DI4fO6ZlEKR7FKS7E37/YkztCh+YiUDKfTwFlsPkoqLzIDSCF2hmfjnuJBGIpWMAQ7MZr2OQJKQpPZZSjYfNrkTcm2QOWOFHIuEsn3QMaFuPXjwEf5APs3iIfe8ppRoPRkyr0XxRBQ8KsNl1DFuEtu9NxkiZdQxiAGNzcErEw4JozUAt13Y2v8koyas6BrCPcub0wIov1HSsYxAFK6uDkm5q0i5zbP2/QWaYiSeRcIav6hjAEpgkHQgXQu/7Cywe4oz3k3SNdzAri+xlqrb6Ro8ezWb7nPE+1Vz4entV8ZBOmOELu34dg7q6X8sA9u1FIGniYZf5J2TW2Ry7RMJ+v6enR2yESfWuLm2ZZQCGZv8eUwZP2Z87zoFEIKmmJgZUPIjgozISJp5Ewl6fdAzI0KwkHZqXfSDdbTCpzqSz99VEpJ5UjYdJ86WYNFdHM8l0H1uHjsDV8oAIHQNF6UWf7lbWMbD8VcSVYFLEw6T5DXLSvKJCVVOOKzG+yRwEouoYCME6BubAbUisSREPTc2Py9THY6c5O/sQIB0D6tORMCQ5NC+7MNr8sWqvd719ueKUR0IgYeKtbmhYGBCikiImPYRS3vA6EsamXWcdA9OgNT3ihIkHVZgbMI2gZmwcmpn4hzU9k5xAJAKkY7BJb91ZiFNZHg9MXtZsjLybQ5yGQOLECwbrZSG4fyeRsNY/2d4utmzerDep3op/wGqQjk2qW/sqkk4tIeJBUnl8oK9vMUY0VXuZ5eXlSSfMDyaHAOkYbAXpaOGz6qBj4MnOXlldXb0ruRj5KTsQSIh4IJ0XAytq23JMaanAC7cjzxmbZjQdAwykrADp9mUsKC4teELMwRSC1szkDa/WvnHSMdixbZtePIR0DFYs93oPWpsTTs0IBOImHu29g+ZdjZy/Y+IZAX98cbCOQXw4uemuuIkX6O29EqQbQ4WjvXejCwvdVE7X5jWajkF2Ts5KuBOuLRRnXMRPvFBIa2aSJTF25iNAOga73n13IKF+HYMaGCVqGwjkIzciEDfxMJLplQXkZqZEwjw/QsdAiLegY+BlHQPzMLcy5rh2J6B/V455ogWUMTJYO7ZMXR9tZT4zKi3SMSCz6ppTlNdGFxdXM+k0RFx/EFeN5+/tXSGnEUpgV8XjoV1B7MxAIIqOwVo07a9fsmTJOTPS4zjtQSAu4sE0XJXMXhnXdhIKw/0IHQNFaUDz8iaQjnUMDEfb3gjjIh6yuFJmk4knkTDWj9AxUJTnJ02e/CmjTapTt6Gvr28K/kyL0G4ZBT+u7oaxpc2g2Dwess7d5QkGTweyst6vra1VTQOMuMIZm16nQvduP0GVjZUqK6qqeGG0wd8N6RgMMan+DGq6vzHKpDqUekuCfv/3ke0b0GXgDZQGv794oyODU7j3PbyDx0es8XCT1sykLUC8GyFemEe+D9iK7ViNojepDoAfh32Uu4GzYSbV8Yep+Px+6phz53zk12LaHXjfeK1KNgYoPSMSD9MIGvG4mWncOyHSkY5By4lB8+C/rPV678HLkQuEDEkwPBr6GUT2GTQ1J2DTbKUnFCpCIqORD25qGoJy9EiArx9b6TqpqVlQXLxPKuwO29Qkhq5qbGxBlOo2hKuvvVYU8oqV6AgnEEo6BrStp621VXsKCqw/Bem+qAXwQVojMOy/HfoGNHenki4PSkBMutS/BaljMIh00DFg0qWOrZtiGLapGfL7uZlp4NuMpmOA6B+AdedvGZgMR+UCBIYlHjr6K2nTKzlerZLa22Qdg9TwS7enYzY10b9D/zt0tSxwGe82l1Ak7JMFsA1DdAyw9u5e1jFIGMq0eSBmjYf+3UKUsohKStuA8vPz06bQVhaEDM2SNp207oy0VR0D9OlYx8DKF+GwtGISD5Pm18q8sgk/iURiPk2K07YeamaGHesYSCQy3I9JPOAyQDzYV2EXPwJENFoCdmyw1ngPmpe31dTWvhB/THxnuiIQk3jo3w0Qj43Wxv3+j6KW24stPb2QypIOk6W7sGbhNm9tLZvfk6BkuB+VeOjfzYZFMXX+Ljc3V5D+HbvhESCrzrvRrDytU1+lJ7AK5VdFJSX3XXXVVd3Dx8BXMwmBqMTD/N1SCQL37yQS0f3Ozk5BG1dPwAoYWgn6mw5BIusLrNajh4SPJQLRicf9O4lPTJ8UevZFIRxquB78vl9YXPww13Ix4cv4C1GJh79u7t/F+DSoKXnowAFxAoub9TVceGHzcxhA+SoGUA7EeJyDGQEVgQjirV27trKvt3cyXaX9dyw6KVSCEdGIcEP7cIQTBk9ewODJg16vlwdPCBB2IyIQQbyAz6fVdmSmPZNdH1ac0CglmdkjmeOhDrXcn7JCoQeq6+u3DL3G54zAcAhEEA/DAxrxSjOUeCdPnhQfHD6sNidpC4/eUR8O5/+L9XQ/rqqr0xm91N/Fx4zA8AhEEA/tqqvkI5lEPFpPSStNyHKzbnmXhILmBVrRpPwF+nC/gN0M2qPIjhFIGoFBxCPbHJi/u5hiI/uZZMovnR3VZq0tLWpzsh3yV0NrN7XsivIXEO5R2EB5Fju52dpXOn8QFpZtEPFCfX2XI211x0JRUZFKPgvzYllSpKZKfTeae4PFrYh0QbTT+D0V8ngeRe32TsQNHMAIpIjAYOIpypVoaqpRptvAytmODnXtJMlddWPHwFBH0wEo+ev41/nvwpKSZ3kObihCfG4kAoOIh4ivkJGnQzOTVpWQBS/6Re23obAg3D78nsR0wFNYS8nzb/IDYN9UBDTiYTKYDBtRU1N1Y1zavzt79qxquYvIRsSL5kC0kyjv77JBOIxM/iXaPRzGCJiJgEa89U1Ns5CQOnFHho1o86tbHE1qt6AJSZPctPE0qlOUDoS/6FGUZ0vLy5thFj2ycxf1QQ5kBIxHQCOeT1Eul/07pzczaalWe3u7WrORXUr9Fhw9RKjZOtFv+xORDTbLm2bW1w/s1dHfyMeMgMUIaMQD6S6TaZeUlMhDx/g0z0ZD/62wRUlD/7pd3YPyCLKdQVlegRHRPxYVFzfwIMkgePjEIQgMEE8IxxGvA3vciGhEuA6MSuoXJQ/B7zgI9yJGJJ8vHTduHTcjh6DDp45DQCXezp07c48cOqQKT1IO7WpqkrHXNtRmbeGaLVYTkvKIeba9+L2EldzPV1dX/wXEG7y2i25ixwg4FAGVeJhMno/85VIeabc57UqwytH8GvXXyLLyKUxsR109gsyAWH2o8l6D/0pWTs7LVVVVe6zKI6fDCBiNgMowWBSbIyMuNrl/R7UY9dHo1wbC+XS2SWQepA+StWBwpAFT26+UhELNV9TX08ikYxxNwaxparoaVW0tMnUR8joReS3Ev0QBjlEhs2MEhB8fAg3y0WqofcBjc0Eo9LxKPASU4YLqjLafSTUYrfZXiQaydWKeLZYD0Wj1yBYaHMF6tZexoXQDhcW63+7w5ubmj4N8z+vzoWY2vPpHH87HmYuA/IDhqwKv52ASpL9NqSjn8LGryNDoYaqODP+cRG1GZBuu+UjpUK0GbzX9ChSleanXe4zC3eCwjvOFNWvWTMcexloU5CJgOBErYArx91EAn2s8N7xEk/OIj8CP76IL38dp/EnvVTyezdMCgdXqx9HU1HQZOldvUR5ycnLE0mXLEurn0WoRIhrVbPTzR1l4LMuH77EHFH8dCTcjE6sxMLLNybWazDf7jICRCKjEo75Kc2PjdhBiLkU+rqJCLLjkEuHxRBcQJaKdIpKBbFSjjVRLIpEdKtEUZfXokpL/47k1I18hx+VGBFTiUcZBvOtBvBeIhHROfb3KKVNUmysIE2qtBrLRlppoW2noGelQgx1BXGth3m5dTl7eauxjOy6vsc8IMAJDRt6wSPqbINm3kwCGJrD/jOfWo2+zDkZ/aPSGHSPACMRAQKvx5HX097xKMPgIaqxpMizCV5RjePBVkO1VEO3PGGTYHXEPBzACjEBMBCKIR3e++eabBVii9WkQkIY/J+F3DqMyB0Cyv+L4Na7RgAI7RoARYAQYAUaAEWAEGIEREPh/Zxc3POdBaJAAAAAASUVORK5CYII="},"+s0Z":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("BGNQ"),s=n(o),l=a("z5TY"),d=n(l),u=a("iR2W"),c=n(u),f=a("jLp1"),h=a("+VRO"),m=n(h),v=a("zWMP"),p=a("BUFe"),C=n(p);t.default={data:function(){return{approval:{},comment:{}}},filters:{timeSplit:function(e){return e?e.split(" ")[0]:""}},mixins:[m.default],components:{Group:d.default,Cell:s.default,RAction:C.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,f.findProjectApproval)(t).then(function(t){var a=t.formData,n=void 0===a?{}:a,r=t.attachment,o=void 0===r?[]:r;e.approval=n.projectApproval,e.attachment=o,e.comment=n.comment,e.orderInfo=(0,i.default)({},n.baseinfo,n.comment,{biStatus:"已生效"})})},numberComma:function(e){return e||0===e?(0,c.default)(e):"无"},percent:function(e){return e||0===e?(0,v.accMul)(e,100)+"%":"无"}},created:function(){}}},"+sgT":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList,showStatus:!1},on:{"sel-item":e.selItem}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,"default-contact":e.contactInfo,"dealer-params":e.dealerParams,dealerTitle:"供应商"},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("dealer-other-part",{attrs:{"dealer-config":e.dealerConfig,"dealer-info":e.dealerInfo},model:{value:e.dealerInfo,callback:function(t){e.dealerInfo=t},expression:"dealerInfo"}}),e._v(" "),a("apply-matter-part",{attrs:{"show-materiel-pop":e.showMaterielPop,"show-matter-pop":e.showMatterPop,"filter-list":e.filterList,actions:e.actions,btnInfo:e.btnInfo,"matter-list":e.orderList,"default-value":[],"matter-pop-config":e.matterPopConfig,"matter-edit-config":e.matterEditConfig,"order-list-title":e.orderListTitle,"matter-params":e.matterParams,"add-matter-fn":e.addMatter,"sel-matter-fn":e.selMatter,"matter-modify-class":e.matterModifyClass,"stop-order-fn":e.stopOrder,"get-matter-modify-fn":e.getMatterModify,"show-delete-fn":e.showDelete,"show-sel-icon-fn":e.showSelIcon,"del-click-fn":e.delClick,"chosen-matter":e.consumables,"check-amt-fn":e.checkAmt,"sel-confirm-fn":e.selConfirm,"btn-is-hide":e.btnIsHide},on:{"show-down-modify-pop":e.shutDownModify},model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.consumableList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("op-button",{attrs:{"is-modify":e.matterModifyClass,hide:e.btnIsHide,"td-amount":e.tdAmount,"tax-amount":e.taxAmount,"all-check":e.checkList.length===e.consumableList.length},on:{"on-submit":e.submitOrder,"on-check-all":e.checkAll,"on-delete":e.deleteCheckd}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},"+wTM":function(e,t,a){"use strict";function n(e){a("Jcf1")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("+FWj");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("pVMx"),s=a.n(o),l=a("QpJ3"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-d4615cc8",null);t.default=c.exports},"+yyE":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("a3Yh"),s=n(o),l=a("4YfN"),d=n(l),u=a("7g+Q"),c=n(u),f=a("+62G"),h=n(f),m=a("z5TY"),v=n(m),p=a("BGNQ"),C=n(p),y=a("iR2W"),_=n(y),g=a("u28h"),b=n(g),w=a("SAzG"),I=n(w),D=a("PzEQ"),x=n(D),P=a("HyXB"),S=a("fEP3"),k=a("0AQX"),L=a("bKg5"),N=n(L),M=a("wRUd"),T=n(M),A=a("89pA"),O=n(A),R=a("oxLw"),j=n(R),B=a("vl8n"),E=n(B),F=a("FlCz"),U=n(F),$=a("+WR7"),H=n($),V=a("0o6b"),q=a("Qg39"),Q=a("zWMP");t.default={directives:{TransferDom:h.default},components:{Popup:c.default,PopWorkCheckList:j.default,Group:v.default,Cell:C.default,Datetime:b.default,XInput:I.default,XTextarea:x.default,PopManagerList:T.default,RPicker:E.default,PopWarehouseList:O.default,BomList:U.default,PopBaseinfo:H.default},data:function(){return{listId:"f9f1e0cb-7edf-43aa-b2f2-527e2525b96e",showWorkPop:!1,dealer:{},formData:{biComment:""},workInfo:{},defaultManager:{},biProcessStatus:"",scanResult:"",warehouse:{},filterParams:[{property:"warehouseType",operator:"eq",value:"加工车间仓"}],bomList:[],showManagerPop:!1,warehouseStoreInfo:{}}},mixins:[N.default],filters:{numberComma:_.default},methods:{selWork:function(e){var t=this;e.tdQty=e.qtyBal,this.workInfo=e,(0,S.getBomWorkCheck)({transCode:e.transCode,inventoryCode:e.matCode}).then(function(e){var a=e.tableContent,n=void 0===a?[]:a;t.bomList=n,t.setBomQty()})},showManager:function(){this.showManagerPop=!this.showManagerPop},selManager:function(e){this.defaultManager=JSON.parse(e),this.workInfo.dealerName_dealerDebit=this.defaultManager.dealerName,this.workInfo.dealerDebit=this.defaultManager.dealerCode},checkAmt:function(e){var t=e.tdQty,a=e.qtyBal;e.tdQty=Math.abs((0,q.toFixed)(t)),t&&(t>a&&(e.tdQty=a),this.setBomQty())},getStore:function(e){this.warehouseStoreInfo=(0,d.default)({},e)},submitOrder:function(){var e=this,t="",a=[],n=[];if(this.workInfo.transCode||(t="请选择工序"),this.defaultManager.dealerCode||(t="验收者不能为空"),t||this.warehouse.warehouseCode||(t="请选择入库仓库"),t||this.warehouseStoreInfo.warehouseCode||(t="请选择库位"),t)return void this.$vux.alert.show({content:t});var r=this.workInfo;a.push({transMatchedCode:r.transCode,orderCode:r.orderCode,processCode:r.processCode,proPointCode:r.proPointCode,thenQtyBal:r.qtyBal,tdQty:r.tdQty,rearProPointCode:r.rearProPointCode||"",dealerDebit:this.defaultManager.dealerCode,proFlowCode:r.proFlowCode||"",transObjCode:r.matCode,tdProcessing:r.processing,skinFee:r.skinFee,wages:r.wages}),this.bomList.forEach(function(t){n.push({inventoryName_outPutMatCode:t.inventoryName,outPutMatCode:t.inventoryCode,proPointCode:r.proPointCode,transMatchedCode:r.transCode,orderCode:r.orderCode,processCode:r.processCode,parentInventoryCode:r.matCode,processProCode:r.matCode,tdProcessing:t.processing,specification_outPutMatCode:t.specification,measureUnit_outPutMatCode:t.measureUnit,containerCodeOut:t.whCode,warehouseName_storehouseOutCode:t.warehouseName,storehouseOutCode:e.warehouseStoreInfo.warehouseCode,bomType:t.bomType,bomQty:t.qty,bomSpecificLoss:t.specificLoss,tdQty:t.tdQty})}),this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=P.saveAndStartWf,o=(0,s.default)({},e.processCode,{businessKey:e.businessKey,createdBy:"",acceptor:r.dealerDebit,inWarehouseName:e.warehouse.warehouseName});e.isResubmit&&"进行中"===e.formStatus&&(o={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:e.formData.biComment});var l={listId:e.listId,biComment:e.formData.biComment,formData:(0,i.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,biProcessStatus:e.biProcessStatus||null,containerInWarehouseManager:e.warehouse.containerInWarehouseManager||null,order:{containerCode:e.warehouse.warehouseCode,warehouseName_containerCode:e.warehouse.warehouseName,storehouseInCode:e.warehouseStoreInfo.warehouseCode,warehouseInType:e.warehouseStoreInfo.warehouseType,dataSet:a},outPut:{containerCode:e.warehouse.warehouseCode,dataSet:n}})),wfPara:(0,i.default)(o)};e.isResubmit&&"进行中"===e.formStatus?(t=P.saveAndCommitTask,l.biReferenceId=e.biReferenceId):e.isResubmit&&"已生效"===e.formStatus&&(t=P.updateData),e.processCode.length||(t=P.submitAndCalc,delete l.wfPara,delete l.biReferenceId),e.biReferenceId&&(l.biReferenceId=e.biReferenceId),e.saveData(t,l)}})},getFormData:function(){var e=this;return(0,k.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=t.attachment;var o=i.order,s=i.outPut,l=o.dataSet,u=void 0===l?[]:l,c=s.dataSet;e.workInfo=(0,d.default)({},u[0],{matCode:u[0].transObjCode,inventoryName:u[0].inventoryName_transObjCode,procedureName:u[0].procedureName_proPointCode,technicsName:u[0].technicsName_proFlowCode,qtyBal:u[0].thenQtyBal,transCode:u[0].transMatchedCode,processing:u[0].tdProcessing||null,wareName:o.warehouseName_containerCode,whInCode:o.containerCode,wareAddress:o.warehouseAddress_containerCode,dealerName:u[0].dealerName_dealerDebit,dealerCode:u[0].dealerDebit,dealerLabel:u[0].drDealerLabel}),e.defaultManager={dealerName:u[0].dealerName_dealerDebit,dealerCode:u[0].dealerDebit,dealerLabel:u[0].drDealerLabel},e.facility={facilityName:u[0].facilityName_facilityObjCode,facilityCode:u[0].facilityObjCode,facilityType:u[0].facilityTypebase_facilityObjCode},c.forEach(function(e){e.inventoryCode=e.outPutMatCode,e.inventoryName=e.inventoryName_outPutMatCode,e.measureUnit=e.measureUnit_outPutMatCode,e.parentInvCode=e.processProCode,e.processing=e.tdProcessing,e.qty=e.bomQty,e.whCode=e.containerCodeOut,e.specification=e.specification_outPutMatCode||"无",e.specificLoss=e.bomSpecificLoss||0}),e.bomList=c,e.warehouse={warehouseCode:o.containerCode,warehouseName:o.warehouseName_containerCode,warehouseType:o.warehouseType_containerCode,warehouseProvince:o.warehouseProvince_containerCode,warehouseCity:o.warehouseCity_containerCode,warehouseDistrict:o.warehouseDistrict_containerCode,warehouseAddress:o.warehouseAddress_containerCode},e.handlerDefault={handler:i.handler,handlerName:i.handlerName,handlerUnit:i.handlerUnit,handlerUnitName:i.handlerUnitName,handlerRole:i.handlerRole,handlerRoleName:i.handlerRoleName},e.formData=(0,d.default)({},e.handlerDefault,{biComment:i.biComment,biId:i.biId,biProcessStatus:i.biProcessStatus,creator:i.creator,modifer:i.modifer}),e.biProcessStatus=i.biProcessStatus,e.biReferenceId=i.biReferenceId,e.$loading.hide()})},scanQRCode:function(){var e=this;(0,V.scanQRCode)().then(function(t){var a=t.result,n=void 0===a?"":a;e.scanResult=n})},selWarehouse:function(e){this.warehouse=JSON.parse(e)},setBomQty:function(){var e=this.workInfo.tdQty;this.bomList=this.bomList.map(function(t){return(0,d.default)({},t,{tdQty:(0,q.toFixed)((0,Q.accMul)(t.qty,e,1+t.specificLoss),2)})})}},created:function(){}}},"/3js":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"popover",staticClass:"r-popover-container",on:{click:e.showPopover}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"r-popover"},[e._t("content")],2),e._v(" "),e._t("default")],2)},r=[],i={render:n,staticRenderFns:r};t.a=i},"/5jK":function(e,t){},"/8Dd":function(e,t,a){"use strict";function n(e){a("+3kF")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("Y+9d");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("YaA6"),s=a.n(o),l=a("6YVT"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-50bfdb7c",null);t.default=c.exports},"/8IN":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("0AQX"),s=(a("HyXB"),a("+VRO")),l=n(s),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),h=a("6WeX"),m=n(h),v=a("3NX5"),p=n(v),C=a("sUbJ"),y=n(C),_=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:""}},components:{workFlow:f.default,RAction:u.default,PriceTotal:m.default,MatterList:p.default,MatterItem:y.default},mixins:[l.default],methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,o.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,s=t.attachment,l=void 0===s?[]:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var d={};o.order;e.attachment=l;var u=o.order.dataSet,c=!0,f=!1,h=void 0;try{for(var m,v=(0,i.default)(u);!(c=(m=v.next()).done);c=!0){var p=m.value;e.count=(0,_.accAdd)(e.count,p.tdAmount),p.inventoryPic=p.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+p.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),p.transObjCode=p.inventoryCode_transObjCode,d[p.transMatchedCode]||(d[p.transMatchedCode]=[]),d[p.transMatchedCode].push(p)}}catch(e){f=!0,h=e}finally{try{!c&&v.return&&v.return()}finally{if(f)throw h}}e.orderList=d,e.orderInfo=o,e.workFlowInfoHandler()})}}}},"/97J":function(e,t,a){"use strict";function n(e){a("pwCE")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("az0b");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("zOFp"),s=a.n(o),l=a("PL8x"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-bee614b4",null);t.default=c.exports},"/9JJ":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("ZLEe"),s=n(o),l=a("3cXf"),d=n(l),u=a("4YfN"),c=n(u),f=a("KH7x"),h=n(f),m=a("MgeX"),v=n(m),p=a("HzJ8"),C=n(p),y=a("PzEQ"),_=n(y),g=a("kNGm"),b=n(g),w=a("0AQX"),I=a("HyXB"),D=a("bKg5"),x=n(D),P=a("lsbD"),S=n(P),k=a("y8YJ"),L=n(k),N=a("+WR7"),M=n(N),T=a("Q67R"),A=n(T),O=a("dBs1"),R=n(O),j=a("hLfv"),B=n(j);a("Qg39"),a("zWMP");t.default={mixins:[x.default],components:{XTextarea:_.default,OpButton:S.default,PopBaseinfo:M.default,PopDealerList:L.default,ApplyMatterPart:A.default,OtherConfigPart:R.default,DealerOtherPart:B.default},data:function(){return{numMap:{},formData:{},orderList:{},otherInfo:{},dealerInfo:{},contactInfo:{},filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"申请单",value:"transCode"}]}},computed:{matterList:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var r,i=(0,C.default)((0,v.default)(this.orderList));!(t=(r=i.next()).done);t=!0){var o=r.value,s=!0,l=!1,d=void 0;try{for(var u,c=(0,C.default)(o);!(s=(u=c.next()).done);s=!0){var f=u.value;e.push(f)}}catch(e){l=!0,d=e}finally{try{!s&&c.return&&c.return()}finally{if(l)throw d}}}}catch(e){a=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(a)throw n}}return e}},methods:{selDealer:function(e){var t=(this.dealerConfig,JSON.parse(e)),a=(0,h.default)(t,1),n=a[0],r=void 0===n?{}:n;this.matterParams.data&&null!==this.matterParams.data.dealerCode&&(this.orderList={},this.matterParams.data.dealerCode=r.dealerCode),this.dealerInfo=(0,c.default)({crDealerPaymentTerm:r.paymentTerm,pamentDays_dealerCodeCredit:r.pamentDays,dealerName_dealerCodeCredit:r.dealerName},r)},selContact:function(e){this.contactInfo=(0,c.default)({},e)},getMatterModify:function(e,t,a){this.matter=JSON.parse((0,d.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t)},selMatter:function(e){var t=JSON.parse(e),a=JSON.parse((0,d.default)(this.orderList));t.forEach(function(e){e.tdQty=e.tdQty||e.qtyBal,e.taxRate=e.taxRate||.16,e.purchaseDay=(0,b.default)(e.calcTime,"YYYY-MM-DD")||e.purchaseDay,e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null,a[e.transCode]||(a[e.transCode]=[]),a[e.transCode].push(e)}),this.numMap={},this.orderList=a},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t,a){var n=this.selItems,r=n.findIndex(function(e){return e===t});if(-1!==r)return void n.splice(r,1);n.push(t)},showSelIcon:function(e,t){return this.selItems.includes(t)},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=this.matterList.map(function(e,t){return t})},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t={},a=e.selItems;e.matterList.filter(function(e,t){return!a.includes(t)}).forEach(function(e){var a=e.transCode;t[a]||(t[a]=[]),t[a].push(e)}),e.selItems=[],e.orderList=t,e.matterModifyClass=!1}})},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this,t="",a=[],n=this.otherInfo,r=this.dealerInfo,o=this.otherConfig,l=this.dealerConfig;if(t=this.verifyData(l,r),t||(t=this.verifyData(o,n)),!t){var u=(0,h.default)(this.submitMatterField,1),f=u[0],m=void 0===f?{}:f;(0,s.default)(this.orderList).length||(t="请选择"+m.text);var p=!0,y=!1,_=void 0;try{for(var g,b=(0,C.default)((0,v.default)(this.orderList));!(p=(g=b.next()).done);p=!0){var w=g.value,D=!0,x=!1,P=void 0;try{for(var S,k=(0,C.default)(w);!(D=(S=k.next()).done);D=!0){var L=S.value,N={},M=!0,T=!1,A=void 0;try{for(var O,R=(0,C.default)(this.submitMatterField);!(M=(O=R.next()).done);M=!0){var j=O.value,B=L[j.fieldCode]||L[j.displayField]||L[j.showFieldCode];if(!j.hidden&&!j.allowBlank&&!B&&void 0!==B){t=j.text+"不为空";break}N[j.fieldCode]=null!==B?B:null}}catch(e){T=!0,A=e}finally{try{!M&&R.return&&R.return()}finally{if(T)throw A}}a.push(N)}}catch(e){x=!0,P=e}finally{try{!D&&k.return&&k.return()}finally{if(x)throw P}}}}catch(e){y=!0,_=e}finally{try{!p&&b.return&&b.return()}finally{if(y)throw _}}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=I.saveAndStartWf,n=(0,i.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,d.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:"",formData:(0,d.default)((0,c.default)({},e.formData,e.otherInfo,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",dealerCreditContactPersonName:e.contactInfo.dealerName||null,dealerCreditContactInformation:e.contactInfo.dealerMobilePhone||"",order:{dataSet:a,dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName,expectedPaymentDate:e.dealerInfo.expectedPaymentDate,crDealerPaymentTerm:e.dealerInfo.crDealerPaymentTerm,pamentDays_dealerCodeCredit:e.dealerInfo.pamentDays_dealerCodeCredit}})),wfPara:(0,d.default)(n)};e.isResubmit&&(t=I.saveAndCommitTask,r.biReferenceId=e.biReferenceId),e.processCode.length||(t=I.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,w.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.formData,n=e.otherConfig,r={};e.listId=t.listId,e.biComment=t.biComment,e.attachment=t.attachment,e.biReferenceId=t.biReferenceId,e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,c.default)({},e.formData,e.handlerDefault,{biId:a.biId,creator:a.creator,modifer:a.modifer,biComment:a.biComment,biProcessStatus:a.biProcessStatus}),e.dealerInfo=(0,c.default)({},e.dealerInfo,{city:a.order.city_dealerCodeCredit,dealerCode:a.order.dealerCodeCredit,dealerLabelName:a.order.crDealerLabel,county:a.order.county_dealerCodeCredit,address:a.order.address_dealerCodeCredit,province:a.order.province_dealerCodeCredit,dealerName:a.order.dealerName_dealerCodeCredit,expectedPaymentDate:a.order.expectedPaymentDate,crDealerPaymentTerm:a.order.crDealerPaymentTerm,dealerMobilePhone:a.dealerMobilePhone_dealerCodeCredit,pamentDays_dealerCodeCredit:a.order.pamentDays_dealerCodeCredit,dealerName_dealerCodeCredit:a.order.dealerName_dealerCodeCredit}),e.contactInfo={dealerName:a.dealerCreditContactPersonName,dealerMobilePhone:a.dealerCreditContactInformation},a.order.dataSet.forEach(function(t){t.transCode=t.transMatchedCode,t.inventoryName=t.inventoryName_transObjCode,t.inventoryCode=t.transObjCode,t.inventoryPic=t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),t.qtyBal=t.thenQtyBal,t.processing=t.tdProcessing,t.measureUnit=t.measureUnit_transObjCode,r[t.transCode]||(r[t.transCode]=[]),r[t.transCode].push(t)}),e.orderList=r;var i=!0,o=!1,s=void 0;try{for(var l,d=(0,C.default)(n);!(i=(l=d.next()).done);i=!0){var u=l.value;for(var f in a)u.fieldCode===f&&e.$set(e.otherInfo,f,a[f])}}catch(e){o=!0,s=e}finally{try{!i&&d.return&&d.return()}finally{if(o)throw s}}e.dealerParams.dealerCode=a.order.dealerCodeCredit,e.matterParams.data.dealerCode=a.order.dealerCodeCredit,e.$loading.hide()})},hasDraftData:function(){if((0,v.default)(this.dealerInfo).length)return(0,i.default)({},"ZZSSP_DATA",{invoice:{dealer:this.dealerInfo,otherInfo:this.otherInfo,contactInfo:this.contactInfo,orderList:this.orderList}})}},updated:function(){if(!this.transCode){var e=JSON.parse(sessionStorage.getItem("ZZSSP_DATA"));e&&this.matterParams.data&&(this.dealerInfo=e.invoice.dealer,this.otherInfo=e.invoice.otherInfo,this.orderList=e.invoice.orderList,this.contactInfo=e.invoice.contactInfo,this.matterParams.data.dealerCode=e.invoice.dealer.dealerCode,sessionStorage.removeItem("ZZSSP_DATA"))}}}},"/EOL":function(e,t){},"/Fg5":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("4YfN"),s=n(o),l=a("KH7x"),d=n(l),u=a("3cXf"),c=n(u),f=a("HzJ8"),h=n(f),m=a("BGNQ"),v=n(m),p=a("z5TY"),C=n(p),y=a("SAzG"),_=n(y),g=a("PzEQ"),b=n(g),w=a("0AQX"),I=a("HyXB"),D=a("QHLv"),x=a("bKg5"),P=n(x),S=a("Pkp+"),k=n(S),L=a("aumL"),N=n(L),M=a("+WR7"),T=n(M),A=a("N2r1"),O=n(A),R=a("lsbD"),j=n(R),B=a("Qg39"),E=a("zWMP");t.default={data:function(){return{listId:"080147c6-05ea-4ae7-9390-49e8e0379a11",dealerInfo:{dealerName_dealerCodeCredit:"",dealerCodeCredit:"",crDealerLabel:"",tdCreditLine:"",thenAmntBal:"",thenAlreadyAmnt:0,thenTotalAmntBal:0,differenceAmount:0,tdAmount:0},formData:{biId:"",biComment:"",biProcessStatus:""},cashInfo:{fundName_cashInCode:"",cashInCode:"",cashType_cashInCode:"",thenAmntBalCopy1:"",tdAmountCopy1:""},costList:[{}],biReferenceId:"",showCostPop:!1,selectedCost:[],costIndex:null,showFundPop:!1,selectedFund:[],project:{}}},components:{Cell:v.default,Group:C.default,XInput:_.default,XTextarea:b.default,RPicker:k.default,PopFundList:N.default,PopBaseinfo:T.default,PopCostList:O.default,OpButton:j.default},mixins:[P.default],computed:{departId:function(){return this.formData.handlerUnit},creatorName:function(){return this.formData.handlerName},differenceAmount:function(){var e=0,t=(0,E.accSub)(this.dealerInfo.thenAmntBal,this.dealerInfo.thenAlreadyAmnt);return e=(0,E.accAdd)(t,this.dealerInfo.thenTotalAmntBal),(0,B.toFixed)(e)}},watch:{creatorName:function(e,t){t&&(this.costList=[{}]),this.getEmployeeBal()},costList:{handler:function(e){var t=0;e.forEach(function(e){e.tdAmount&&(e.taxAmount=0,e.noTaxAmount=(0,B.toFixed)((0,E.accSub)(e.tdAmount,e.taxAmount)),t=(0,E.accAdd)(t,e.tdAmount))}),this.tdAmount=(0,B.toFixed)(t),this.dealerInfo.thenAlreadyAmnt=(0,B.toFixed)(t),this.dealerInfo.thenTotalAmntBal=(0,B.toFixed)(t)},deep:!0},dealerInfo:{handler:function(e){this.cashInfo.tdAmountCopy1=e.thenTotalAmntBal},deep:!0},cashInfo:{handler:function(e){e.thenAmntBalCopy1&&e.tdAmountCopy1>e.thenAmntBalCopy1&&(e.tdAmountCopy1=e.thenAmntBalCopy1)},deep:!0},departId:{handler:function(e,t){this.matterParams.data&&null!=this.matterParams.data.groupId&&(this.matterParams.data.groupId=e),t&&(this.costList=[{}])}},project:{handler:function(e){if(e.project){var t=!0,a=!1,n=void 0;try{for(var r,i=(0,h.default)(this.baseinfoExtConfig);!(t=(r=i.next()).done);t=!0){var o=r.value;if("project"===o.fieldCode){var s=!0,l=!1,d=void 0;try{for(var u,c=(0,h.default)(o.remoteData);!(s=(u=c.next()).done);s=!0){var f=u.value;if(f.name===e.project){this.project.projectType_project=f.PROJECT_TYPE;break}}}catch(e){l=!0,d=e}finally{try{!s&&c.return&&c.return()}finally{if(l)throw d}}break}}}catch(e){a=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(a)throw n}}}},deep:!0}},methods:{getEmployeeBal:function(){var e=this,t=[{operator:"eq",value:this.formData.handlerName,property:"nickname"}];(0,D.getEmployeeBal)((0,c.default)(t)).then(function(t){var a=t.tableContent,n=void 0===a?[]:a,r=(0,d.default)(n,1),i=r[0],o=void 0===i?{}:i;e.dealerInfo=(0,s.default)({},e.dealerInfo,{dealerName_dealerCodeCredit:o.nickname,dealerCodeCredit:o.dealerCode,crDealerLabel:o.dealerLabelName,tdCreditLine:o.tdCreditLine,thenAmntBal:o.amntBal})})},addCost:function(){this.costList.push({})},deleteCost:function(e){this.costList.splice(e,1)},getCost:function(e,t){if(this.showCostPop=!0,this.costIndex=t,!e.costName_expCode)return void(this.selectedCost=[]);this.selectedCost=[e]},selMatter:function(e){this.selectedCost.push(e);var t=(0,s.default)({},this.costList[this.costIndex],e,{costName_expCode:e.costName,expCode:e.costCode,costType_expCode:e.costType,expSubject:e.costSubject});this.$set(this.costList,this.costIndex,(0,s.default)({},t))},checkAmt:function(e,t,a){e[t]=Math.abs((0,B.toFixed)(a))},submitOrder:function(){var e=this,t="",a=[],n=!0,r=!1,o=void 0;try{for(var l,d=(0,h.default)(this.costList);!(n=(l=d.next()).done);n=!0){var u=l.value,f={},m=!0,v=!1,p=void 0;try{for(var C,y=(0,h.default)(this.submitMatterField);!(m=(C=y.next()).done);m=!0){var _=C.value;if(!_.hidden&&!_.allowBlank&&!u[_.fieldCode]){t=_.text+"不为空";break}f[_.fieldCode]=null!=u[_.fieldCode]?u[_.fieldCode]:null}}catch(e){v=!0,p=e}finally{try{!m&&y.return&&y.return()}finally{if(v)throw p}}a.push(f)}}catch(e){r=!0,o=e}finally{try{!n&&d.return&&d.return()}finally{if(r)throw o}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=I.saveAndStartWf,n=(0,s.default)({},e.formData,{handlerEntity:e.entity.dealerName,inPut:{dataSet:[(0,s.default)({},e.dealerInfo,{differenceAmount:e.differenceAmount,tdId:e.dealerInfo.tdId||""})]},order:{project:e.project.project,departmentName:e.formData.handlerUnitName,dataSet:a},outPut:{dataSet:[(0,s.default)({},e.cashInfo,{tdIdCopy1:e.cashInfo.tdIdCopy1||""})]}}),r={listId:e.listId,biComment:"",formData:(0,c.default)(n),wfPara:(0,c.default)((0,i.default)({},e.processCode,{businessKey:e.businessKey,createdBy:n.creator}))};e.isResubmit&&(t=I.saveAndCommitTask,r.biReferenceId=e.biReferenceId,r.wfPara=(0,c.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=I.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,w.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,l=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=l;var d=i.order,u=i.outPut,c=i.inPut,f=c.dataSet[0],h=u.dataSet[0];e.dealerInfo={dealerName_dealerCodeCredit:f.dealerName_dealerCodeCredit,dealerCodeCredit:f.dealerCodeCredit,crDealerLabel:f.crDealerLabel,tdCreditLine:f.tdCreditLine,thenAmntBal:f.thenAmntBal,thenAlreadyAmnt:f.thenAlreadyAmnt,thenTotalAmntBal:f.thenTotalAmntBal,differenceAmount:f.differenceAmount,tdAmount:f.tdAmount,tdId:f.tdId},e.handlerDefault={handler:i.handler,handlerName:i.handlerName,handlerUnit:i.handlerUnit,handlerUnitName:i.handlerUnitName,handlerRole:i.handlerRole,handlerRoleName:i.handlerRoleName},e.formData=(0,s.default)({},e.handlerDefault,{biComment:i.biComment,biId:i.biId,biProcessStatus:i.biProcessStatus,creator:i.creator,modifer:i.modifer}),e.cashInfo={fundName_cashInCode:h.fundName_cashInCode,cashInCode:h.cashInCode,cashType_cashInCode:h.cashType_cashInCode,thenAmntBalCopy1:h.thenAmntBalCopy1,tdAmountCopy1:h.tdAmountCopy1,tdIdCopy1:h.tdIdCopy1},e.costList=[],d.dataSet.forEach(function(t){e.costList.push((0,s.default)({},t,{tdId:t.tdId,costName:t.costName_expCode,costCode:t.expCode,costSubject:t.expSubject,costType:t.costType_expCode}))}),e.matterParams.data&&null!=e.matterParams.data.groupId&&(e.matterParams.data.groupId=e.formData.handlerUnit),e.project={project:d.project,projectType_project:d.projectType_project},e.biReferenceId=i.biReferenceId,e.$loading.hide()})},hasDraftData:function(){return(0,i.default)({},"BXYZF_DATA",{dealerInfo:this.dealerInfo,cashInfo:this.cashInfo,costList:this.costList,formData:this.formData,project:this.project})},getDate:function(e,t){var a=this;this.$vux.datetime.show({value:"",confirmText:"确认",cancelText:"取消",onConfirm:function(n){if(null==e[t.fieldCode])return void a.$set(e,t.fieldCode,n);e[t.fieldCode]=n}})},splitConfig:function(e,t){t.editPart=e}},created:function(){var e=sessionStorage.getItem("BXYZF_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.cashInfo=t.cashInfo,this.costList=t.costList,this.project=t.project,sessionStorage.removeItem("BXYZF_DATA")}}}},"/MNM":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2538}},mixins:[r.default]}},"/Pa9":function(e,t,a){"use strict";function n(e){a("risP")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("sb2V");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("8Dfk"),s=a.n(o),l=a("/gin"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-377aa58a",null);t.default=c.exports},"/Pqc":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("4YfN"),r=function(e){return e&&e.__esModule?e:{default:e}}(n),i=a("53nK"),o=a("tpzc");t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="localhost"!==location.hostname?encodeURIComponent(location.href.split("#")[0]):i.redirect_uri;return(0,o.getJsApiSignature)(t).then(function(t){var a=t.signature,n=void 0===a?"":a,o=t.nonceStr,s=void 0===o?"":o,l=t.timestamp,d=void 0===l?"":l;wx.config((0,r.default)({beta:!0,debug:!1,appId:i.corpid,timestamp:d,nonceStr:s,signature:n,jsApiList:["scanQRCode","previewFile","chooseImage","previewImage","onHistoryBack","getLocalImgData","onMenuShareAppMessage","uploadImage"]},e))})}},"/QQc":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("4YfN"),s=n(o),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),h=n(f),m=a("6q39"),v=n(m),p=a("qE8w"),C=a("1KNX"),y=n(C),_=a("7biW"),g=n(_);t.default={name:"PopInvoiceList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},params:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:h.default,LoadMore:v.default,RScroll:y.default,MSearch:g.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],costList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},dataCount:0}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}},params:{handler:function(){this.getCostList()},deep:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){var t=!1;return this.selItems&&this.selItems.every(function(a){return e.transCode!==a.transCode||(t=!0,!1)}),t},selThis:function(e,t){var a="";if(this.selItems.every(function(t){return e.transCode!==t.transCode||(a="该出库单已选择，请选择其他",!1)}),a)return void this.$vux.alert.show({content:a});this.selItems.push(e),this.showPop=!1,this.$emit("sel-matter",e)},setDefaultValue:function(){var e=this;this.selItems=[],this.defaultValue.forEach(function(t){t.transCode&&e.selItems.push(t)})},getCostList:function(){var e=this,t=[],a=p.getBillingApplication;return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"transCode"}])),a((0,s.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,i.default)(t)},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r;e.dataCount=n,e.hasNext=n>(e.page-1)*e.limit+i.length,e.costList=1===e.page?i:[].concat((0,d.default)(e.costList),(0,d.default)(i)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.costList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getCostList()},onPullingUp:function(){this.page++,this.getCostList()}},created:function(){this.setDefaultValue(),this.getCostList()}}},"/Ski":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("a3Yh"),s=n(o),l=a("4YfN"),d=n(l),u=a("7g+Q"),c=n(u),f=a("+62G"),h=n(f),m=a("z5TY"),v=n(m),p=a("BGNQ"),C=n(p),y=a("iR2W"),_=n(y),g=a("u28h"),b=n(g),w=a("SAzG"),I=n(w),D=a("PzEQ"),x=n(D),P=a("HyXB"),S=a("bKg5"),k=n(S),L=a("7D9F"),N=n(L),M=a("i61Q"),T=n(M),A=a("FGYN"),O=n(A),R=a("F2L3"),j=n(R),B=a("vl8n"),E=n(B),F=a("+WR7"),U=n(F);t.default={directives:{TransferDom:h.default},components:{Popup:c.default,Group:v.default,Cell:C.default,Datetime:b.default,XInput:I.default,XTextarea:x.default,PopWorkList:T.default,PopManagerList:N.default,PopProjectList:j.default,PopWorkGdbllList:O.default,RPicker:E.default,PopBaseinfo:U.default},data:function(){return{listId:"6ebcad8b-449c-422a-960f-53ccf98fd4ba",showWorkPop:!1,transMode:[],matterList:[],dealer:{},numMap:{},contact:{},formData:{},dealerInfo:{},workInfo:{},defaultManager:{},project:{},defaultProject:[]}},mixins:[k.default],filters:{numberComma:_.default},methods:{selWork:function(e){this.workInfo=(0,d.default)({tdQty:""},e)},submitOrder:function(){var e=this,t="",a=[];if(this.workInfo.transCode||(t="请选择工序"),t||this.workInfo.tdQty||(t="请填写补领料数量"),t||this.project.PROJECT_NAME||(t="请选择项目"),t)return void this.$vux.alert.show({content:t});var n={transMatchedCode:this.workInfo.transCode,proPointCode:this.workInfo.proPointCode,tdQty:this.workInfo.tdQty,transObjCode:this.workInfo.matCode,proFlowCode:this.workInfo.proFlowCode,processCode:this.workInfo.processCode,tdProcessing:this.workInfo.processing};a.push(n),this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=(P.saveAndStartWf,(0,s.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""}));e.isResubmit&&(t={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var n={listId:e.listId,biComment:e.formData.biComment,formData:(0,i.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,biProcessStatus:e.currentStage,order:{dataSet:a,project:e.project.PROJECT_NAME,departmentName:e.formData.handlerUnitName}})),wfPara:(0,i.default)(t)};e.isResubmit&&(P.saveAndCommitTask,n.biReferenceId=e.biReferenceId),e.processCode.length||(P.submitAndCalc,delete n.wfPara,delete n.biReferenceId),e.biReferenceId&&(n.biReferenceId=e.biReferenceId)}})},selProject:function(e){this.project=(0,d.default)({},e)},hasDraftData:function(){return!!this.workInfo.procedureName&&(0,s.default)({},"GDBLL_DATA",{workInfo:this.workInfo,project:this.project,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("GDBLL_DATA");if(e){var t=JSON.parse(e);this.workInfo=t.workInfo,this.project=t.project,this.formData=t.formData,sessionStorage.removeItem("GDBLL_DATA")}}}},"/TT8":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=(a("XAqG"),a("HyXB"),a("MjAd")),s=n(o),l=a("ak47");n(l);t.default={name:"ZPJH_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"经办人",value:"handlerName"},{name:"交易号",value:"transCode"}],listViewID:2400}},mixins:[s.default],methods:{pathChange:function(e,t,a){var n=this;if(!this.clickVisited){var r=e.transCode,o=this.$route.query.name,s=this.$route.params,l=s.folder,d=s.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,i.default)({},e));var u=a+"/"+l+"/"+d;setTimeout(function(){n.clickVisited=!1,n.$router.push({path:u,query:{name:o,transCode:r}})},200)}},goDetail:function(e,t){this.pathChange(e,t,"/detail")},goUserEdit:function(e,t){this.pathChange(e,t,"/fillform")}}}},"/WRi":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("0AQX"),s=a("+VRO"),l=n(s),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),h=a("hPJo"),m=n(h),v=a("3NX5"),p=n(v);t.default={data:function(){return{orderInfo:{},warehouse:{},warehouseConfig:[],formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513"}},mixins:[l.default],components:{workFlow:f.default,RAction:u.default,WarehouseContent:m.default,MatterList:p.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,o.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=void 0===a?[]:a,r=t.formData,o=void 0===r?{}:r,s=o.inPut,l=void 0===s?{}:s,d=l.dataSet,u=!0,c=!1,f=void 0;try{for(var h,m=(0,i.default)(d);!(u=(h=m.next()).done);u=!0){var v=h.value;v.inventoryPic=v.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+v.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){c=!0,f=e}finally{try{!u&&m.return&&m.return()}finally{if(c)throw f}}e.setWarehouseInfo(o),e.setWarehouseInfo(l),e.attachment=n,e.matterList=l.dataSet,e.orderInfo=o,e.workFlowInfoHandler()})},setWarehouseInfo:function(e){for(var t in e)(t.includes("warehouse")||t.includes("storehouse"))&&(this.warehouse[t]=e[t])}}}},"/WcG":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"childPage"},[a("r-scroll",{staticClass:"content"},[a("div",{staticClass:"mater_baseinfo vux-1px-b"},[a("div",{staticClass:"mater_property"},[a("div",{staticClass:"each_property vux-1px-b"},[a("label",{staticClass:"required"},[e._v("工号:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.userData.userCode,expression:"userData.userCode",modifiers:{trim:!0}}],staticClass:"property_val",class:{readonly:e.codeReadOnly},attrs:{type:"text",readonly:e.codeReadOnly},domProps:{value:e.userData.userCode},on:{blur:[e.checkUserCode,function(t){e.$forceUpdate()}],input:function(t){t.target.composing||e.$set(e.userData,"userCode",t.target.value.trim())}}})]),e._v(" "),a("div",{staticClass:"each_property"},[a("label",{staticClass:"required"},[e._v("姓名:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.userData.nickname,expression:"userData.nickname",modifiers:{trim:!0}}],staticClass:"property_val",attrs:{type:"text"},domProps:{value:e.userData.nickname},on:{input:function(t){t.target.composing||e.$set(e.userData,"nickname",t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})])]),e._v(" "),a("upload-image",{attrs:{src:e.userData.photo},on:{"on-upload":e.onUpload,"on-error":e.getDefaultImg}})],1),e._v(" "),a("r-picker",{attrs:{title:"性别:",data:e.genderList,value:e.userData.gender},model:{value:e.userData.gender,callback:function(t){e.$set(e.userData,"gender",t)},expression:"userData.gender"}}),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",{staticClass:"required"},[e._v("手机:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.userData.mobile,expression:"userData.mobile",modifiers:{trim:!0}}],staticClass:"property_val",attrs:{type:"number"},domProps:{value:e.userData.mobile},on:{blur:[e.checkMobile,function(t){e.$forceUpdate()}],input:function(t){t.target.composing||e.$set(e.userData,"mobile",t.target.value.trim())}}})]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("座机:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.userData.officePhone,expression:"userData.officePhone",modifiers:{trim:!0}}],staticClass:"property_val",attrs:{type:"text"},domProps:{value:e.userData.officePhone},on:{blur:[e.checkPhone,function(t){e.$forceUpdate()}],input:function(t){t.target.composing||e.$set(e.userData,"officePhone",t.target.value.trim())}}})]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("邮箱:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.userData.email,expression:"userData.email",modifiers:{trim:!0}}],staticClass:"property_val",attrs:{type:"text"},domProps:{value:e.userData.email},on:{blur:[e.checkEmail,function(t){e.$forceUpdate()}],input:function(t){t.target.composing||e.$set(e.userData,"email",t.target.value.trim())}}})]),e._v(" "),a("r-picker",{attrs:{title:"类型:",data:e.userTypeList,value:e.userData.userType},on:{"on-change":e.userTypeChange},model:{value:e.userData.userType,callback:function(t){e.$set(e.userData,"userType",t)},expression:"userData.userType"}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showDate,expression:"showDate"}],staticClass:"each_property vux-1px-b",on:{click:e.getDate}},[a("label",{staticClass:"required"},[e._v("账户有效期:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.userData.termOfValidity))])]),e._v(" "),a("r-picker",{attrs:{title:"状态:",data:e.statusList,value:e.userData.status},model:{value:e.userData.status,callback:function(t){e.$set(e.userData,"status",t)},expression:"userData.status"}}),e._v(" "),a("pop-company-list",{attrs:{"default-value":e.company,params:e.companyParams},on:{"sel-item":e.selCompany}})],1),e._v(" "),a("div",{staticClass:"btn vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"cfm_btn",on:{click:e.save}},[e._v(e._s(this.colId?"保存":"提交"))])])],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},"/Z4J":function(e,t,a){"use strict";function n(e){a("SkkF")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("wn1Q");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("LZ1p"),s=a.n(o),l=a("13Hw"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-302d80bf",null);t.default=c.exports},"/Z5K":function(e,t,a){"use strict";function n(e){a("tSvU")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4ixO");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("vvIr"),s=a.n(o),l=a("0MvG"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-18cf7287",null);t.default=c.exports},"/ZBz":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages fgysqk-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[e.orderList.length?[a("div",{staticClass:"title"},[e._v("汇票明细")]),e._v(" "),e._l(e.orderList,function(t,n){return a("div",{key:n,staticClass:"order-detail",class:{"vux-1px-t":0!==n}},[a("div",{staticClass:"detail-item top"},[a("span",{staticClass:"info-item"},[e._v(e._s(t.draftNumber))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"info-item"},[e._v("类型: "+e._s(t.draftType))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("承兑人: "+e._s(t.accepter))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("金额: "+e._s(e._f("numberComma")(t.tdAmount)))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"info-item"},[e._v("出票日: "+e._s(t.draftDate))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("到期日: "+e._s(t.draftDueDate))])]),e._v(" "),a("datetime",{model:{value:t.cashingDiscountDate,callback:function(a){e.$set(t,"cashingDiscountDate",a)},expression:"item.cashingDiscountDate"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("兑现贴现日")])])],2),e._v(" "),a("x-input",{attrs:{"text-align":"right",placeholder:"请填写",type:"number"},on:{"on-blur":function(a){e.checkAmt(t,n)},"on-focus":function(t){e.getFocus(t)}},model:{value:t.discount,callback:function(a){e.$set(t,"discount",e._n(a))},expression:"item.discount"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("贴息")])])],2),e._v(" "),a("cell",{attrs:{value:t.thenAmntBal}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("现后余额")])])],2),e._v(" "),a("x-input",{attrs:{title:"说明","text-align":"right",placeholder:"请填写"},model:{value:t.comment,callback:function(a){e.$set(t,"comment",a)},expression:"item.comment"}})],1)})]:a("div",{staticClass:"order-info",on:{click:function(t){e.showOrder=!0}}},[a("div",{staticClass:"title"},[e._v("汇票明细")]),e._v(" "),a("div",{staticClass:"mode required"},[e._v("请选择汇票明细")]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r-arrow"})])],2),e._v(" "),e.orderList.length?a("div",{staticClass:"handle_part vx-1px-t"},[e.orderList.length?a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多")]):e._e()]):e._e(),e._v(" "),a("pop-cash-list",{attrs:{"default-value":e.cashInfo,request:"2",required:!0},on:{"sel-item":e.selCash}},[a("template",{slot:"other"},[a("cell",{attrs:{title:"收款金额",value:e.tdAmount}})],1)],2),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"其他信息"}},[a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-money-order-list",{attrs:{show:e.showOrder,"default-value":e.orderList,request:"1","get-list-method":"getCashDiscount"},on:{"sel-item":e.selOrder},scopedSlots:e._u([{key:"amount",fn:function(t){var n=t.item;return[a("span",[e._v("金额: "+e._s(e._f("numberComma")(n.amntTbMatched)))])]}}]),model:{value:e.showOrder,callback:function(t){e.showOrder=t},expression:"showOrder"}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},"/ePQ":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("m-search",{attrs:{filterList:e.filterList,isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.workList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.workList,function(t,n){return a("div",{key:n,staticClass:"each-work box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"work-main"},[a("div",{staticClass:"work_top"},[a("span",{staticClass:"code_name"},[e._v("工单任务号")]),e._v(" "),a("span",{staticClass:"work_code"},[e._v(e._s(t.transCode))])]),e._v(" "),a("div",{staticClass:"work_mid vux-1px-b"},[a("div",{staticClass:"product_name"},[e._v("\n                "+e._s(t.inventoryName)),a("span",{staticClass:"symbol"},[e._v("[成品]")])]),e._v(" "),a("div",{staticClass:"product_unit"},[a("span",{staticClass:"each_unit"},[e._v("成品编码: "+e._s(t.matCode))])])]),e._v(" "),a("div",{staticClass:"work_btm"},[a("div",{staticClass:"procedure_name"},[a("span",[e._v(e._s(t.procedureName))]),e._v(" "),a("span",{staticClass:"symbol"},[e._v("[工序编码: "+e._s(t.proPointCode)+"]")])]),e._v(" "),a("div",{staticClass:"procedure_name"},[a("span",[e._v(e._s(t.technicsName))]),e._v(" "),a("span",{staticClass:"symbol"},[e._v("[工艺路线编码: "+e._s(t.proFlowCode)+"]")])]),e._v(" "),a("div",{staticClass:"procedure_unit"},[a("span",{staticClass:"each_unit"},[e._v("加工订单号: "+e._s(t.processCode))])])])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1)])],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},"/gin":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("just-word-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}},scopedSlots:e._u([{key:"list-item",fn:function(t){var n=t.item;return e._l(n.detailItem,function(t,n){return a("div",{key:n,staticClass:"each-slot-item"},[a("div",{staticClass:"top-content"},[e._v("资金账户: "+e._s(t.fundName_cashInCode))]),e._v(" "),a("div",{staticClass:"main-content"},[a("div",{staticClass:"info_part"},[e._v("\n                资金账户大类: "+e._s(t.fundType_cashInCode)+"\n              ")]),e._v(" "),a("div",{staticClass:"info_part different_type"},[e._v("\n                收款金额: ￥"+e._s(e._f("numberComma")(t.tdAmount))+"\n              ")])])])})}}])})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},"/rmV":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("49IH"),r=function(e){return e&&e.__esModule?e:{default:e}}(n),i=null,o={};o.install=function(e){if(!i){var t=e.extend(r.default);i=(new t).$mount(),document.body.appendChild(i.$el)}e.prototype.$HandleLoad={show:function(){i.show=!0},hide:function(){i.show=!1}}},t.default=o},"/vO3":function(e,t){},"/vXQ":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},"/wEV":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages bdkcdb-list-conatiner",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noPrice:"",noCount:""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},"/xIL":function(e,t){},"/xv9":function(e,t,a){"use strict";function n(e){a("Uv/p")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("C/X/");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("oL6y"),s=a.n(o),l=a("JqZS"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-f6aa73ec",null);t.default=c.exports},"/zZU":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("KH7x"),s=n(o),l=a("lC5x"),d=n(l),u=a("HzJ8"),c=n(u),f=a("J0Oq"),h=n(f),m=a("HyXB"),v=a("0o6b");t.default={name:"UploadFile",props:{id:{type:String,default:"upload-file"},defaultValue:{type:Array,default:function(){return[]}},noUpload:{type:Boolean,default:!1},containStyle:{type:Object,default:function(){return{}}},titleStyle:{type:Object,default:function(){return{}}},biReferenceId:{type:String,default:""}},data:function(){return{files:[],file:null,showLoading:!1}},watch:{defaultValue:{handler:function(){this.setDefault()},immediate:!0}},methods:{chooseImage:function(){var e=this,t={count:5,defaultCameraMode:"batch"};(0,v.chooseImage)({options:t}).then(function(){var t=(0,h.default)(d.default.mark(function t(a){var n,r,i,o,s,l;return d.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=!0,r=!1,i=void 0,t.prev=3,o=(0,c.default)(a);case 5:if(n=(s=o.next()).done){t.next=12;break}return l=s.value,t.next=9,e.upload(l);case 9:n=!0,t.next=5;break;case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),r=!0,i=t.t0;case 18:t.prev=18,t.prev=19,!n&&o.return&&o.return();case 21:if(t.prev=21,!r){t.next=24;break}throw i;case 24:return t.finish(21);case 25:return t.finish(18);case 26:case"end":return t.stop()}},t,e,[[3,14,18,26],[19,,21,25]])}));return function(e){return t.apply(this,arguments)}}())},setDefault:function(){var e=this,t=[],a=(0,s.default)(this.defaultValue,1);a[0];t=this.defaultValue.map(function(t){return(0,i.default)({},t,{iconType:e.judgeFileType(t.attr1)})}),this.files=t},judgeFileType:function(e){var t="other";return[{reg:/\.(png|jpg|jpeg|gif|bmp|)$/gi,type:"image"},{reg:/\.xlsx$/gi,type:"excel"},{reg:/\.(doc|docx)$/gi,type:"word"},{reg:/\.(ppt|pptx)$/gi,type:"ppt"},{reg:/\.txt$/gi,type:"txt"}].every(function(a){return!a.reg.test(e)||(t=a.type,!1)}),t},getImgUrl:function(e){return location.origin+"/H_roleplay-si/ds/download?url="+e.attacthment},preview:function(e){var t=this;if("image"===e.iconType){var a=this.files.reduce(function(e,a){return"image"===a.iconType&&e.push(t.getImgUrl(a)),e},[]),n=this.getImgUrl(e);wx.previewImage({current:n,urls:a})}},deleteFile:function(e){var t=this;this.$vux.confirm.show({content:"确定删除？",onConfirm:function(){(0,m.deleteFile)(e.id).then(function(a){var n=a.success,r=void 0===n||n;a.message;if(r){var i=t.files.findIndex(function(t){return t.id===e.id});-1!==i&&t.files.splice(i,1)}})}})},upload:function(e){var t=this;return(0,v.uploadImage)({localId:e,biReferenceId:this.biReferenceId}).then(function(e){var a=(0,s.default)(e,1),n=a[0],r=void 0===n?{}:n;r.iconType=t.judgeFileType(r.attr1),t.files.push(r),t.$emit("on-upload",{biReferenceId:r.biReferenceId})})}},created:function(){}}},"0+Vg":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("+62G"),s=n(o),l=a("7g+Q"),d=n(l),u=a("z5TY"),c=n(u),f=a("HXPS"),h=n(f),m=a("d5Kw"),v=n(m),p=a("kNGm"),C=(n(p),a("1KNX")),y=n(C),_=a("I8ug"),g=a("d3k1"),b=n(g),w=a("Qg39");t.default={data:function(){return{scrollOptions:{click:!0},logShow:!1,pickerStatus:!1,scopeList:[{name:"表单",selected:!1},{name:"科目关系",selected:!1},{name:"报表",selected:!1},{name:"工作流",selected:!1},{name:"权限",selected:!1}],submitData:{scope:"",spendTime:1,content:""},scopeType:[],listId:"",btnIsHide:!1,clientHeight:document.documentElement.clientHeight}},directives:{TransferDom:s.default},components:{Popup:d.default,Group:c.default,Icon:h.default,XButton:v.default,RScroll:y.default},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},EditLogPop:function(){var e=this;if(this.pickerStatus=!0,this.scopeType=[],this.submitData.scope){this.submitData.scope.split(",").forEach(function(t){var a={name:t};e.scopeType.push(a)})}},showSelIcon:function(e){return-1!==this.scopeType.findIndex(function(t){return t.name===e.name})},selectType:function(e){e.selected=!e.selected;var t=this.scopeType,a=t.findIndex(function(t){return t.name===e.name});if(-1!==a)return void t.splice(a,1);t.push(e)},cfmMater:function(){var e=this;this.pickerStatus=!1,this.submitData.scope="",this.scopeType.forEach(function(t){if(e.submitData.scope.length)return void(e.submitData.scope+=","+t.name);e.submitData.scope+=t.name})},checkVal:function(e){var t=e.spendTime;t&&(e.spendTime=Math.abs((0,w.toFixed)(t)))},submitLog:function(){var e=this,t="";if([{key:"scope",message:"【更新范围】"},{key:"spendTime",message:"【耗用时间】"},{key:"content",message:"【更新内容】"}].every(function(a){return""!==e.submitData[a.key]||(t=a.message+"不能为空",!1)}),t)return void this.$vux.alert.show({content:t});(0,_.saveLog)((0,i.default)({},this.submitData,{listId:this.listId})).then(function(t){t.success&&(e.submitSuccess=!0,e.$vux.alert.show({content:"提交成功",onHide:function(){e.$router.go(-1)}}))})},getFocus:function(e){event.currentTarget.select()}},created:function(){var e=this.$route.params.listId;e&&(this.listId=e)},mounted:function(){var e=this;b.default.isAndroid&&(window.onresize=function(){e.clientHeight>document.documentElement.clientHeight?e.btnIsHide=!0:e.btnIsHide=!1})},beforeRouteLeave:function(e,t,a){e.path;this.submitSuccess&&"APPDETAIL"===e.name&&(e.meta.reload=!0),a()}}},"00yO":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("4YfN"),s=n(o),l=a("kNGm"),d=n(l),u=a("0AQX"),c=a("+VRO"),f=n(c),h=a("AupE"),m=n(h),v=a("BUFe"),p=n(v),C=a("bFc7"),y=n(C),_=a("3NX5"),g=n(_),b=a("zlAJ"),w=n(b),I=a("zWMP");t.default={data:function(){return{orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",attachment:[],count:0}},mixins:[f.default],components:{workFlow:m.default,RAction:p.default,contactPart:y.default,MatterList:g.default,UploadFile:w.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,l=t.attachment,u=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var c=o.order,f=c.dataSet,h=!0,m=!1,v=void 0;try{for(var p,C=(0,i.default)(f);!(h=(p=C.next()).done);h=!0){var y=p.value;e.count=(0,I.accAdd)(e.count,y.tdAmount),y.inventoryPic=y.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+y.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){m=!0,v=e}finally{try{!h&&C.return&&C.return()}finally{if(m)throw v}}e.attachment=u,e.matterList=f,o.validUntil=(0,d.default)(o.validUntil,"YYYY-MM-DD"),e.orderInfo=(0,s.default)({},o,c),e.workFlowInfoHandler()})}}}},"04rN":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper xsbj-detail-container"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.contactInfo,configs:e.dealerConfig}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"matter-list":e.matterList},on:{"on-show-more":e.onShowMore}}),e._v(" "),a("other-part",{attrs:{"other-info":e.orderInfo,amt:e.noTaxAmount,"tax-amt":e.taxAmount,count:e.count,attachment:e.attachment}}),e._v(" "),a("pop-matter-detail",{attrs:{show:e.showMatterDetail,item:e.matterDetail},model:{value:e.showMatterDetail,callback:function(t){e.showMatterDetail=t},expression:"showMatterDetail"}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[],i={render:n,staticRenderFns:r};t.a=i},"0AQX":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getFromStatus=t.getListById=t.getListView=t.getAppExampleDetails=t.getSaleQuotePrice=t.currentUser=t.getSOList=t.getListId=t.isMyflow=t.getWorkFlow=void 0;var r=a("4YfN"),i=n(r),o=a("GOq4"),s=n(o),l=t.getWorkFlow=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/listTaskLogByTransCode",data:(0,i.default)({_dc:Date.now()},e)})},d=t.isMyflow=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getWorkFlowInfoByTransCode",data:e})},u=(t.getListId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return s.default.ajax({url:"/H_roleplay-si/ds/list/getFormByTransCode?transCode="+e})},t.getSOList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/formAPI/findData",data:e})}),c=t.currentUser=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return s.default.ajax({url:"/H_roleplay-si/userInfo/currentUser",_dc:e})};t.getSaleQuotePrice=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({type:"POST",contentType:"application/x-www-form-urlencoded",url:"/H_roleplay-si/ds/getSaleQuotePrice",data:e})},t.getAppExampleDetails=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/trans/getAppExampleDetails",data:e})},t.getListView=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/list/getListViews",data:e})},t.getListById=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/list/getListById",data:e})},t.getFromStatus=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getFromStatusByTransCode",data:e})};t.default={isMyflow:d,getSOList:u,currentUser:c,getWorkFlow:l}},"0FYg":function(e,t){},"0GCp":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages"},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("tab-item",{attrs:{tabVal:e.listView},on:{"tab-click":e.tabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},[e.activeTab.includes("库位库存")?e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"classification-item-wrapper",on:{click:function(a){e.getFlow(t)}}},[a("div",{staticClass:"classification-header-wrapper"},[a("img",{staticClass:"classification_img",attrs:{src:t.inventoryPic,alt:"icon"}}),e._v(" "),a("div",{staticClass:"classification_app"},[a("div",{staticClass:"app_top"},[a("div",{staticClass:"app_name"},[e._v(e._s(t.inventoryName))]),e._v(" "),a("div",{staticClass:"app_flow"},[e._v(e._s(t.invProcessing))])]),e._v(" "),a("div",{staticClass:"classification_detail_item"},[a("span",{staticClass:"classification_detail_title"},[e._v("物料编码: ")]),e._v(e._s(t.matCode)+"\n              ")]),e._v(" "),a("div",{staticClass:"classification_detail_item"},[a("span",{staticClass:"classification_detail_title"},[e._v("产品规格: ")]),e._v(e._s(t.specification||"无")+"\n                "),a("span",{staticClass:"classification_detail_title"},[e._v("主计量单位: ")]),e._v(e._s(t.measureUnit||"无")+"\n              ")])])]),e._v(" "),a("div",{staticClass:"classification-split"}),e._v(" "),a("div",{staticClass:"mater-info"},[a("div",{staticClass:"mater_detail"},[a("div",{staticClass:"mater"},[a("span",{staticClass:"title"},[e._v("仓库名称: ")]),e._v(e._s(t.warehouseName||"暂无")+"\n              ")]),e._v(" "),a("div",{staticClass:"mater"},[a("span",{staticClass:"title"},[e._v("仓库编码: ")]),e._v(e._s(t.whCode||"无")+"\n              ")]),e._v(" "),a("div",{staticClass:"mater"},[a("span",{staticClass:"title"},[e._v("仓库关系类型: ")]),e._v(e._s(t.warehouseType||"无")+"\n              ")]),e._v(" "),void 0,e._v(" "),a("div",{staticClass:"mater"},[a("span",{staticClass:"title"},[e._v("库位名称: ")]),e._v(e._s(t.storehouseName||"无")+"\n              ")]),e._v(" "),a("div",{staticClass:"mater"},[a("span",{staticClass:"title"},[e._v("库位编码: ")]),e._v(e._s(t.storehouseCode||"无")+"\n              ")])],2),e._v(" "),a("div",{staticClass:"mater_amt_wrapper"},[a("div",{staticClass:"mater_amt"},[e._v(e._s(e._f("numberComma")(t.qtyBalance))+"\n              ")]),e._v(" "),a("div",{staticClass:"text"},[e._v("数量余额")])])]),e._v(" "),a("div",{staticClass:"classification-split"}),e._v(" "),a("div",{staticClass:"classification-bottom"},[a("div",{staticClass:"classification_bottom_item days"},[a("div",{staticClass:"classification_bottom_value"},[e._v(e._s(e._f("numberComma")(t.drQty||0)))]),e._v(" "),a("div",{staticClass:"classification_bottom_title"},[e._v("增加数量")])]),e._v(" "),a("div",{staticClass:"classification_bottom_item"},[a("div",{staticClass:"classification_bottom_value"},[e._v(e._s(e._f("numberComma")(t.crQty||0)))]),e._v(" "),a("div",{staticClass:"classification_bottom_title"},[e._v("减少数量")])]),e._v(" "),a("div",{staticClass:"classification_bottom_item amt noticed"},[a("div",{staticClass:"classification_bottom_value"},[e._v("\n                "+e._s(e._f("numberComma")(t.qtyLocked))+"\n              ")]),e._v(" "),a("div",{staticClass:"classification_bottom_title"},[e._v("工作流占用")])])])])}):e.activeTab.includes("库存")?e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"classification-item-wrapper"},[a("div",{staticClass:"classification-header-wrapper"},[a("img",{staticClass:"classification_img",attrs:{src:t.inventoryPic,alt:"icon"}}),e._v(" "),a("div",{staticClass:"classification_app"},[a("div",{staticClass:"app_top"},[a("div",{staticClass:"app_name"},[e._v(e._s(t.inventoryName))]),e._v(" "),a("div",{staticClass:"app_flow"},[e._v(e._s(t.invProcessing))])]),e._v(" "),a("div",{staticClass:"classification_detail_item"},[a("span",{staticClass:"classification_detail_title"},[e._v("物料编码: ")]),e._v(e._s(t.matCode)+"\n              ")]),e._v(" "),a("div",{staticClass:"classification_detail_item"},[a("span",{staticClass:"classification_detail_title"},[e._v("产品规格: ")]),e._v(e._s(t.specification||"无")+"\n                "),a("span",{staticClass:"classification_detail_title"},[e._v("主计量单位: ")]),e._v(e._s(t.measureUnit||"无")+"\n              ")]),e._v(" "),a("div",{staticClass:"classification_detail_item"},[a("span",{staticClass:"classification_detail_title"},[e._v("仓库名称: ")]),e._v(e._s(t.warehouseName||"无")+"\n              ")]),e._v(" "),a("div",{staticClass:"classification_detail_item"},[a("span",{staticClass:"classification_detail_title"},[e._v("仓库编码: ")]),e._v(e._s(t.whCode||"无")+"\n              ")]),e._v(" "),a("div",{staticClass:"classification_detail_item"},[a("span",{staticClass:"classification_detail_title"},[e._v("仓库关系类型: ")]),e._v(e._s(t.warehouseType||"无")+"\n              ")])])]),e._v(" "),a("div",{staticClass:"classification-split"}),e._v(" "),a("div",{staticClass:"classification-bottom"},[a("div",{staticClass:"classification_bottom_item days"},[a("div",{staticClass:"classification_bottom_value"},[e._v(e._s(e._f("numberComma")(t.drQty||0)))]),e._v(" "),a("div",{staticClass:"classification_bottom_title"},[e._v("入库数量")])]),e._v(" "),a("div",{staticClass:"classification_bottom_item"},[a("div",{staticClass:"classification_bottom_value"},[e._v(e._s(e._f("numberComma")(t.crQty||0)))]),e._v(" "),a("div",{staticClass:"classification_bottom_title"},[e._v("出库数")])]),e._v(" "),a("div",{staticClass:"classification_bottom_item amt noticed"},[a("div",{staticClass:"classification_bottom_value"},[e._v("\n                "+e._s(e._f("numberComma")(t.qtyBalance))+"\n              ")]),e._v(" "),a("div",{staticClass:"classification_bottom_title"},[e._v("在库库存")])])]),e._v(" "),a("div",{staticClass:"classification-bottom"},[a("div",{staticClass:"classification_bottom_item days noticed"},[a("div",{staticClass:"classification_bottom_value"},[e._v(e._s(e._f("numberComma")(t.orderQtyLocked||0)))]),e._v(" "),a("div",{staticClass:"classification_bottom_title"},[e._v("计划占用")])]),e._v(" "),a("div",{staticClass:"classification_bottom_item noticed"},[a("div",{staticClass:"classification_bottom_value"},[e._v(e._s(e._f("numberComma")(t.qtyLocked||0)))]),e._v(" "),a("div",{staticClass:"classification_bottom_title"},[e._v("工作流占用")])]),e._v(" "),a("div",{staticClass:"classification_bottom_item amt noticed"},[a("div",{staticClass:"classification_bottom_value"},[e._v("\n                "+e._s(e._f("numberComma")(t.useAbleQtyBalance))+"\n              ")]),e._v(" "),a("div",{staticClass:"classification_bottom_title"},[e._v("可用库存")])])])])}):e.activeTab.includes("核销余额")?e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"classification-item-wrapper"},[a("div",{staticClass:"classification-header-wrapper"},[a("img",{staticClass:"classification_img",attrs:{src:t.inventoryPic,alt:"icon"}}),e._v(" "),a("div",{staticClass:"classification_app"},[a("div",{staticClass:"app_top"},[a("div",{staticClass:"app_name"},[e._v(e._s(t.inventoryName))]),e._v(" "),a("div",{staticClass:"app_flow"},[e._v(e._s(t.invProcessing))])]),e._v(" "),a("div",{staticClass:"classification_detail_part"},[a("div",{staticClass:"classification_detail_item"},[a("span",{staticClass:"classification_detail_title"},[e._v("实例编码: ")]),e._v(e._s(t.baseTransCode)+"\n                ")]),e._v(" "),a("div",{staticClass:"classification_detail_item"},[a("span",{staticClass:"classification_detail_title"},[e._v("应用名称: ")]),e._v(e._s(t.appTitle)+"\n                ")]),e._v(" "),a("div",{staticClass:"classification_detail_item"},[a("span",{staticClass:"classification_detail_title"},[e._v("应用类型: ")]),e._v(e._s(t.transName)+"\n                ")]),e._v(" "),a("div",{staticClass:"classification_detail_item"},[a("span",{staticClass:"classification_detail_title"},[e._v("记账日期: ")]),e._v(e._s(e._f("dateFormat")(t.effectiveTime,"YYYY-MM-DD"))+"\n                ")])]),e._v(" "),a("div",{staticClass:"classification_detail_part"},[a("div",{staticClass:"classification_detail_item"},[a("span",{staticClass:"classification_detail_title"},[e._v("物料编码: ")]),e._v(e._s(t.matCode)+"\n                ")]),e._v(" "),a("div",{staticClass:"classification_detail_item"},[a("span",{staticClass:"classification_detail_title"},[e._v("产品规格: ")]),e._v(e._s(t.specification||"无")+"\n                  "),a("span",{staticClass:"classification_detail_title"},[e._v("主计量单位: ")]),e._v(e._s(t.measureUnit||"无")+"\n                ")]),e._v(" "),a("div",{staticClass:"classification_detail_item"},[a("span",{staticClass:"classification_detail_title"},[e._v("保质期天数: ")]),e._v(e._s(t.keepingDays)+"\n                  "),a("span",{staticClass:"classification_detail_title"},[e._v("质龄: ")]),e._v(e._s(t.qualityAge)+"\n                  "),a("span",{staticClass:"classification_detail_title"},[e._v("临保: ")]),e._v(e._s(t.nearKeepingDays)+"\n                ")]),e._v(" "),a("div",{staticClass:"classification_detail_item"},[a("span",{staticClass:"classification_detail_title"},[e._v("生产日期: ")]),e._v(e._s(e._f("dateFormat")(t.productionDate,"YYYY-MM-DD"))+"\n                  "),a("span",{staticClass:"classification_detail_title"},[e._v("到期日期: ")]),e._v(e._s(e._f("dateFormat")(t.validUntil,"YYYY-MM-DD"))+"\n                ")])]),e._v(" "),a("div",{staticClass:"classification_detail_part"},[a("div",{staticClass:"classification_detail_item"},[a("span",{staticClass:"classification_detail_title"},[e._v("入库数: ")]),e._v(e._s(e._f("numberComma")(t.drQty||0))+"\n                  "),a("span",{staticClass:"classification_detail_title"},[e._v("出库数: ")]),e._v(e._s(e._f("numberComma")(t.crQty||0))+"\n                  "),a("span",{staticClass:"classification_detail_title"},[e._v("工作流占用: ")]),e._v(e._s(e._f("numberComma")(t.qtyLocked||0))+"\n                  "),a("span",{staticClass:"classification_detail_title"},[e._v("计划占用: ")]),e._v(e._s(e._f("numberComma")(t.orderQtyLocked||0))+"\n                ")]),e._v(" "),a("div",{staticClass:"classification_detail_item"},[a("span",{staticClass:"classification_detail_title"},[e._v("可用库存: ")]),e._v(e._s(e._f("numberComma")(t.qtyBalance||0))+"\n                  "),a("span",{staticClass:"classification_detail_title"},[e._v("账龄天数: ")]),e._v(e._s(e._f("numberComma")(t.accountAge||0))+"\n                  "),a("span",{staticClass:"classification_detail_title"},[e._v("生产日期: ")]),e._v(e._s(e._f("numberComma")(t.libraryAge||0))+"\n                ")])])])]),e._v(" "),a("div",{staticClass:"classification-split"}),e._v(" "),a("div",{staticClass:"mater-info"},[a("div",{staticClass:"mater_detail"},[a("div",{staticClass:"mater"},[a("span",{staticClass:"title"},[e._v("仓库名称: ")]),e._v(e._s(t.warehouseName||"暂无")+"\n              ")]),e._v(" "),a("div",{staticClass:"mater"},[a("span",{staticClass:"title"},[e._v("仓库编码: ")]),e._v(e._s(t.whCode||"无")+"\n              ")]),e._v(" "),a("div",{staticClass:"mater"},[a("span",{staticClass:"title"},[e._v("仓库关系类型: ")]),e._v(e._s(t.warehouseType||"无")+"\n              ")])]),e._v(" "),a("div",{staticClass:"mater_amt_wrapper"},[a("div",{staticClass:"mater_amt"},[e._v(e._s(t.isNearKeeping)+"\n              ")]),e._v(" "),a("div",{staticClass:"text"},[e._v("是否临保")])])])])}):e.activeTab.includes("加工在制")?e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"classification-item-wrapper"},[a("div",{staticClass:"classification-header-wrapper"},[a("img",{staticClass:"classification_img",attrs:{src:t.inventoryPic,alt:"icon"}}),e._v(" "),a("div",{staticClass:"classification_app"},[a("div",{staticClass:"app_top"},[a("div",{staticClass:"app_name"},[e._v(e._s(t.inventoryName))]),e._v(" "),a("div",{staticClass:"app_flow"},[e._v(e._s(t.invProcessing))])]),e._v(" "),a("div",{staticClass:"classification_detail_item"},[a("span",{staticClass:"classification_detail_title"},[e._v("物料编码: ")]),e._v(e._s(t.matCode)+"\n              ")]),e._v(" "),a("div",{staticClass:"classification_detail_item"},[a("span",{staticClass:"classification_detail_title"},[e._v("产品规格: ")]),e._v(e._s(t.specification||"无")+"\n                "),a("span",{staticClass:"classification_detail_title"},[e._v("主计量单位: ")]),e._v(e._s(t.measureUnit||"无")+"\n              ")]),e._v(" "),a("div",{staticClass:"classification_detail_item"},[a("span",{staticClass:"classification_detail_title"},[e._v("仓库名称: ")]),e._v(e._s(t.warehouseName||"无")+"\n              ")]),e._v(" "),a("div",{staticClass:"classification_detail_item"},[a("span",{staticClass:"classification_detail_title"},[e._v("仓库编码: ")]),e._v(e._s(t.whCode||"无")+"\n              ")]),e._v(" "),a("div",{staticClass:"classification_detail_item"},[a("span",{staticClass:"classification_detail_title"},[e._v("仓库关系类型: ")]),e._v(e._s(t.warehouseType||"无")+"\n              ")])])]),e._v(" "),a("div",{staticClass:"classification-split"}),e._v(" "),a("div",{staticClass:"classification-bottom"},[a("div",{staticClass:"classification_bottom_item days"},[a("div",{staticClass:"classification_bottom_value"},[e._v(e._s(e._f("numberComma")(t.drQty||0)))]),e._v(" "),a("div",{staticClass:"classification_bottom_title"},[e._v("入库数量")])]),e._v(" "),a("div",{staticClass:"classification_bottom_item"},[a("div",{staticClass:"classification_bottom_value"},[e._v(e._s(e._f("numberComma")(t.crQty||0)))]),e._v(" "),a("div",{staticClass:"classification_bottom_title"},[e._v("出库数")])]),e._v(" "),a("div",{staticClass:"classification_bottom_item amt"},[a("div",{staticClass:"classification_bottom_value"},[e._v("\n                "+e._s(e._f("numberComma")(t.orderQtyLocked||0))+"\n              ")]),e._v(" "),a("div",{staticClass:"classification_bottom_title"},[e._v("计划占用")])])]),e._v(" "),a("div",{staticClass:"classification-bottom"},[a("div",{staticClass:"classification_bottom_item days noticed"},[a("div",{staticClass:"classification_bottom_value"},[e._v(e._s(e._f("numberComma")(t.qtyBalance||0)))]),e._v(" "),a("div",{staticClass:"classification_bottom_title"},[e._v("可用库存")])]),e._v(" "),a("div",{staticClass:"classification_bottom_item noticed"},[a("div",{staticClass:"classification_bottom_value"},[e._v(e._s(e._f("numberComma")(t.qtyLocked||0)))]),e._v(" "),a("div",{staticClass:"classification_bottom_title"},[e._v("工作流占用")])]),e._v(" "),a("div",{staticClass:"classification_bottom_item amt"},[a("div",{staticClass:"classification_bottom_value"},[e._v("\n                "+e._s(e._f("numberComma")(t.amountBalance))+"\n              ")]),e._v(" "),a("div",{staticClass:"classification_bottom_title"},[e._v("金额余额")])])])])}):e._e()],2),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{attrs:{position:"bottom",height:"80%"},model:{value:e.flowShow,callback:function(t){e.flowShow=t},expression:"flowShow"}},[a("r-scroll",{ref:"flowListWrapper",staticClass:"flow_list_wrapper",attrs:{options:e.FlowScrollOptions,"has-next":e.FlowHasNext,"no-data":!e.FlowHasNext&&!e.flowData.length},on:{"on-pulling-up":e.onPullingUpFlow}},[a("div",{staticClass:"flow"},[a("div",{staticClass:"flow_top"},[a("div",{staticClass:"title"},[e._v("流水详情")]),e._v(" "),a("div",{staticClass:"name"},[e._v("\n                "+e._s(e.flowTitle.inventoryName)),a("span",{staticClass:"symbol"},[e._v("["+e._s(e.flowTitle.invProcessing)+"]")])])]),e._v(" "),a("div",{staticClass:"flow_list"},[e._l(e.flowData,function(t,n){return a("div",{key:n,staticClass:"each_flow",on:{click:function(e){e.stopPropagation(),t.showList=!t.showList}}},[a("div",{staticClass:"duty_top"},[a("div",{staticClass:"transCode"},[a("span",{staticClass:"order_title"},[e._v("编码")]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(t.transCode))])]),e._v(" "),a("div",{staticClass:"time"},[e._v("\n                    "+e._s(e._f("dateFormat")(t.calcTime))+"\n                  ")])]),e._v(" "),a("div",{staticClass:"show_list"},[a("div",{staticClass:"app_name"},[e._v("\n                    "+e._s(t.appTitle)),a("span",{staticClass:"symbol"},[e._v("[应用]")])]),e._v(" "),a("div",{staticClass:"num_info"},[a("div",{staticClass:"count"},[t.drQty>0?a("div",{staticClass:"num_part"},[a("span",{staticClass:"symbol"},[e._v("本次数量: ")]),e._v(" "),a("span",{staticClass:"number_incre"},[e._v("+ "+e._s(t.drQty))])]):t.crQty>0?a("div",{staticClass:"num_part"},[a("span",{staticClass:"symbol"},[e._v("本次数量: ")]),e._v(" "),a("span",{staticClass:"number_redu"},[e._v("- "+e._s(t.crQty))])]):a("div",{staticClass:"num_part"},[a("span",{staticClass:"symbol"},[e._v("本次数量: ")]),e._v(" "),a("span",[e._v("不变")])])]),e._v(" "),a("div",{staticClass:"amount_money"},[t.drAmnt>0?a("div",{staticClass:"num_part"},[a("span",{staticClass:"symbol"},[e._v("本次金额: ")]),e._v(" "),a("span",{staticClass:"number_incre"},[e._v("+ "+e._s(t.drAmnt))])]):t.crAmnt>0?a("div",{staticClass:"num_part"},[a("span",{staticClass:"symbol"},[e._v("本次金额: ")]),e._v(" "),a("span",{staticClass:"number_redu"},[e._v("- "+e._s(t.crAmnt))])]):a("div",{staticClass:"num_part"},[a("span",{staticClass:"symbol"},[e._v("本次金额: ")]),e._v(" "),a("span",[e._v("不变")])])])])]),e._v(" "),a("div",{staticClass:"summary_part vux-1px-t"},[a("div",{staticClass:"number"},[a("span",{staticClass:"symbol"},[e._v("当前数量: ")]),e._v(e._s(t.qtyBalance)+"\n                  ")]),e._v(" "),a("div",{staticClass:"price"},[a("span",{staticClass:"symbol"},[e._v("当前余额: ￥")]),e._v(e._s(t.amountBalance)+"\n                  ")])])])}),e._v(" "),a("div")],2)])]),e._v(" "),a("div",{staticClass:"btn when_less"},[a("span",{staticClass:"cfm_btn",on:{click:function(t){e.flowShow=!1}}},[e._v("关闭")])])],1)],1)],1)])},r=[],i={render:n,staticRenderFns:r};t.a=i},"0GX7":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vux-tab-item",class:[e.currentSelected?e.activeClass:"",{"vux-tab-selected":e.currentSelected,"vux-tab-disabled":e.disabled}],style:e.style,on:{click:e.onItemClick}},[e._t("default"),e._v(" "),void 0!==e.badgeLabel&&""!==e.badgeLabel?a("span",{staticClass:"vux-tab-item-badge",style:{background:e.badgeBackground,color:e.badgeColor}},[e._v("\n  "+e._s(e.badgeLabel))]):e._e()],2)},r=[],i={render:n,staticRenderFns:r};t.a=i},"0LX9":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("3cXf"),s=n(o),l=a("4YfN"),d=n(l),u=a("z5TY"),c=n(u),f=a("SAzG"),h=n(f),m=a("PzEQ"),v=n(m),p=a("jnZd"),C=n(p),y=a("vl8n"),_=n(y),g=a("+WR7"),b=n(g),w=a("y8YJ"),I=n(w),D=a("HyXB"),x=a("0AQX"),P=a("bKg5"),S=n(P);t.default={name:"ApplyCPFBForm",data:function(){return{listId:"eb8a01a3-7a74-439b-bc44-8d58cbfa6166",formViewUniqueId:"b018ef18-f0d1-41a8-985e-29de19e6b705",formData:{biId:"",biComment:"",launchType:[],launchTitle:"",launchDescribe:"",biProcessStatus:""},biReferenceId:"",dealerInfo:{},contactInfo:{},uploadStyle:{}}},mixins:[S.default],components:{Group:c.default,XInput:h.default,XTextarea:v.default,PopupPicker:C.default,RPicker:_.default,PopBaseinfo:b.default,PopDealerList:I.default},methods:{selContact:function(e){this.contactInfo=(0,d.default)({},e)},selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],this.formData.launchDealerCode=this.dealerInfo.dealerCode},save:function(){var e=this;for(var t in this.formData)"string"==typeof this.formData[t]&&this.formData[t].indexOf(" ")>=0&&(this.formData[t]=this.formData[t].replace(/\s/g,""));var a="";if(this.dealerInfo.dealerCode||(a="请选择客户"),!a&&this.otherConfig.every(function(t){return!!(t.allowBlank||e.formData[t.fieldCode]&&e.formData[t.fieldCode].length)||(a=t.fieldLabel+"不能为空",!1)}),a)return void this.$vux.alert.show({content:a});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=e.formData,a={launchDealerCode:e.dealerInfo.dealerCode,address_launchDealerCode:e.dealerInfo.address,launchDealerLabel:e.dealerInfo.dealerLabelName,dealerName_launchDealerCode:e.dealerInfo.dealerName},n={dealerDebitContactPersonName:e.contactInfo.dealerName,dealerDebitContactInformation:e.contactInfo.dealerMobilePhone},r=e.processCode.length?D.saveAndStartWf:D.submitAndCalc,o={listId:e.listId,biComment:"",formData:(0,s.default)((0,d.default)({handlerEntity:e.entity.dealerName},t,a,n,{launchType:t.launchType[0]})),wfPara:(0,s.default)((0,i.default)({},e.processCode,{businessKey:e.businessKey,createdBy:t.creator}))};e.transCode&&(r=e.processCode.length?D.saveAndCommitTask:D.updateData,o.biReferenceId=e.biReferenceId,o.wfPara=(0,s.default)({businessKey:e.transCode,createdBy:t.creator,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(delete o.wfPara,delete o.biReferenceId),e.biReferenceId&&(o.biReferenceId=e.biReferenceId),e.saveData(r,o)}})},getFormData:function(){var e=this;return(0,x.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.biReferenceId,s=void 0===o?"":o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=t.attachment,e.biReferenceId=s,e.handlerDefault={handler:i.handler,handlerName:i.handlerName,handlerUnit:i.handlerUnit,handlerUnitName:i.handlerUnitName,handlerRole:i.handlerRole,handlerRoleName:i.handlerRoleName},e.formData=(0,d.default)({},e.formData,i,e.handlerDefault),e.$loading.hide()})},hasDraftData:function(){var e=["biProcessStatus","launchTitle","launchDescribe","launchType"],t=this.formData,a=!1;if(e.every(function(e){return!t[e]||(a=!0,!1)},!0),a)return(0,i.default)({},"CPFB_DATA",{formData:this.formData,dealerInfo:this.dealerInfo,contactInfo:this.contactInfo})}},created:function(){var e=sessionStorage.getItem("CPFB_DATA");e&&(this.formData=JSON.parse(e).formData,this.dealerInfo=JSON.parse(e).dealerInfo,this.contactInfo=JSON.parse(e).contactInfo,sessionStorage.removeItem("CPFB_DATA"))}}},"0MvG":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,"default-contact":e.contactInfo,"dealer-params":e.dealerParams,dealerTitle:"供应商"},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("div",{staticClass:"materiel_list"},[Object.keys(e.orderList).length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n,r){return a("div",{key:n,staticClass:"each_mater",class:{"vux-1px-b":r<Object.keys(e.orderList).length-1}},[t.length?a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v(e._s(e.orderListTitle))]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]):e._e(),e._v(" "),e._l(t,function(t,r){return a("div",{key:r,class:{mater_delete:e.matterModifyClass}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass,config:e.matterEditConfig.property},on:{"on-modify":function(a){e.getMatterModify(t,r,n)}},nativeOn:{click:function(a){e.delClick(r,t)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[n.price&&n.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price)+"\n                      ")]),e._v(" "),a("div",[a("r-number",{attrs:{num:n.tdQty,checkAmt:e.checkAmt,max:n.qtyBal},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",t)},expression:"item.tdQty"}})],1)]):e._e()]}},{key:"editPart",fn:function(t){var i=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:i.price&&(i.tdQty||0===i.tdQty)&&!e.matterModifyClass,expression:"(item.price && (item.tdQty || item.tdQty === 0)) &&!matterModifyClass"}],staticClass:"edit-part vux-1px-l",on:{click:function(t){e.getMatterModify(i,r,n)}}},[a("span",{staticClass:"iconfont icon-bianji1"})])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(r,t)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)})],2)}),0)]:[a("div",{on:{click:function(t){e.showOrderPop=!e.showOrderPop}}},[a("div",{staticClass:"title"},[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择"+e._s(e.orderListTitle))]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多物料")])]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showOrderPop,config:e.matterPopConfig,"filter-list":e.filterList,"matter-params":e.matterParams,"default-value":e.matterList,orderTitle:e.matterPopOrderTitle},on:{"sel-matter":e.selMatter},model:{value:e.showOrderPop,callback:function(t){e.showOrderPop=t},expression:"showOrderPop"}})],2),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.facility,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,config:e.matterEditConfig},on:{"sel-confirm":e.selConfirm},model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num"},[a("span",{staticStyle:{fontSize:".14rem"}},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.tdAmount))+"\n      "),a("span",{staticClass:"taxAmount"},[e._v("[含税: ￥"+e._s(e._f("numberComma")(e.taxAmount))+"]")])]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},"0Nk0":function(e,t,a){"use strict";function n(e){a("4NcJ")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("zsBr");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("bHLN"),s=a.n(o),l=a("fmK2"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-4c8a265a",null);t.default=c.exports},"0O+m":function(e,t){},"0T3k":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("lC5x"),i=n(r),o=a("3cXf"),s=n(o),l=a("J0Oq"),d=n(l),u=a("KH7x"),c=n(u),f=a("Q+Ik"),h=n(f),m=a("4YfN"),v=n(m),p=a("ZLEe"),C=n(p),y=a("HzJ8"),_=n(y),g=a("Pkp+"),b=n(g),w=a("5gKc"),I=n(w),D=a("1KNX"),x=n(D),P=a("RbKA"),S=n(P),k=a("w5TH"),L=n(k),N=a("y8YJ"),M=n(N),T=a("BwHg"),A=n(T),O=a("PKHo"),R=n(O),j=a("I3vJ"),B=a("HyXB"),E=a("Qg39");t.default={data:function(){return{listId:"78a798f8-0f3a-4646-aa8b-d5bb1fada28c",biReferenceId:"",MatPic:"",picShow:!1,baseinfo:{handler:"",handlerName:"",handlerArea:"",handlerAreaName:"",handlerUnit:"",handlerUnitName:"",handlerRole:"",handlerRoleName:"",activeTime:"",comment:""},inventory:{inventoryCode:"",inventoryName:"",processing:"",inventoryType:"",inventorySubclass:"",measureUnit:"",specification:"",material:"",inventoryColor:"",keepingDays:1,safeStock:0,nearKeepingDays:1,inventoryStatus:"",inventoryPic:"",comment:"",technicsCode:"",leadTime:"",procedureName:"",procedureCode:"",moq:""},transCode:"",hasDefault:!1,imgFileObj:{},imgFile:null,codeReadOnly:!1,submitSuccess:!1,inventoryStatus:"使用中",scrollOptions:{click:!0},matterConfig:[],matterDuplicateConfig:[],matterDuplicateData:{},uniqueId:""}},mixins:[R.default],components:{RPicker:b.default,UploadImage:I.default,RScroll:x.default,PopTechnicsList:S.default,PopProcedureList:L.default,PopDealerList:M.default,duplicateComponent:A.default},computed:{nearKeepingDays:function(){var e=this.inventory.keepingDays;return e||0===e?e>=365?45:e>=183?20:e>=90?15:e>=30?10:e>=10?2:1:0},leadTimeTitle:function(){var e=this.inventory.processing,t=["原料","商品"],a=["半成品","成品","模具"];return t.includes(e)?"采购提前期":a.includes(e)?"加工提前期":""},inventoryProcessing:function(){return this.inventory.processing},inventoryType:function(){return this.inventory.inventoryType},MoreUnit:function(){return this.matterDuplicateData.invMoreUnit}},watch:{inventoryProcessing:function(e){var t=this;if(!this.hasDefault){var a="",n="",r=!0,i=!1,o=void 0;try{for(var s,l=(0,_.default)(this.matterConfig);!(r=(s=l.next()).done);r=!0){var d=s.value;if("break"===function(r){if("processing"===r.fieldCode){var i=!0,o=!1,s=void 0;try{for(var l,d=(0,_.default)(r.remoteData);!(i=(l=d.next()).done);i=!0){var u=l.value;if(u.name===e){a=u.id,n=u.type;break}}}catch(e){o=!0,s=e}finally{try{!i&&d.return&&d.return()}finally{if(o)throw s}}}if("multipleAccess"===r.fieldCode&&(r.requestParams.data.sType=t.inventory.processing,(0,B.requestData)(r.requestParams).then(function(e){var a=e.tableContent,n=void 0===a?[]:a;n.length?(n.forEach(function(e){e.name=e.sName,e.value=e.sName}),t.$set(t.inventory,"multipleAccess",n[0].name)):t.inventory.multipleAccess="",r.remoteData=n})),"inventoryType"===r.fieldCode)return(0,C.default)(r.requestParams.data).forEach(function(e){"parentId"===e?r.requestParams.data[e]=a:"value"===e&&(r.requestParams.data[e]=n)}),(0,B.requestData)(r.requestParams).then(function(e){null!=e.tableContent?(e.tableContent.length?(e.tableContent.forEach(function(e){e.originValue=e.value,e.value=e.name}),t.inventory.inventoryType=e.tableContent[0].name):t.inventory.inventoryType="",r.remoteData=e.tableContent):(e.length?(e.forEach(function(e){e.originValue=e.value,e.value=e.name}),t.inventory.inventoryType=e[0].name):t.inventory.inventoryType="",r.remoteData=e)}),"break"}(d))break}}catch(e){i=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw o}}}},inventoryType:function(e){var t=this;if(!this.hasDefault){var a="",n="",r=!0,i=!1,o=void 0;try{for(var s,l=(0,_.default)(this.matterConfig);!(r=(s=l.next()).done);r=!0){var d=s.value;if("break"===function(r){if("inventoryType"===r.fieldCode){var i=!0,o=!1,s=void 0;try{for(var l,d=(0,_.default)(r.remoteData);!(i=(l=d.next()).done);i=!0){var u=l.value;if(u.name===e){a=u.id,n=u.type;break}}}catch(e){o=!0,s=e}finally{try{!i&&d.return&&d.return()}finally{if(o)throw s}}}if("inventorySubclass"===r.fieldCode)return(0,C.default)(r.requestParams.data).forEach(function(e){"parentId"===e?r.requestParams.data[e]=a:"value"===e&&(r.requestParams.data[e]=n)}),(0,B.requestData)(r.requestParams).then(function(e){null!=e.tableContent?(e.tableContent.length?(e.tableContent.forEach(function(e){e.originValue=e.value,e.value=e.name}),t.inventory.inventorySubclass=e.tableContent[0].name):t.inventory.inventorySubclass="",r.remoteData=e.tableContent):(e.length?(e.forEach(function(e){e.originValue=e.value,e.value=e.name}),t.inventory.inventorySubclass=e[0].name):t.inventory.inventorySubclass="",r.remoteData=e)}),"break"}(d))break}}catch(e){i=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw o}}}},MoreUnit:{handler:function(e){var t=this;e&&e.length&&e.forEach(function(e){if(t.inventory.measureUnit&&e.invSubUnitName&&e.invSubUnitMulti)return void(e.comment=""+e.invSubUnitMulti+t.inventory.measureUnit+"/"+e.invSubUnitName)})},deep:!0}},methods:{onUpload:function(e){console.log(e),this.inventory.inventoryPic=e.src},checkAmt:function(e){var t=e.invSubUnitMulti,a=e.invCompQty;t?e.invSubUnitMulti=Math.abs((0,E.toFixed)(t)):a&&(e.invCompQty=Math.abs((0,E.toFixed)(a)))},selTechnics:function(e){this.inventory=(0,v.default)({},this.inventory,{technicsName:e.technicsName,technicsCode:e.technicsCode})},save:function(){var e=this,t={inventoryCode:"物料编码",inventoryName:"物料名称",processing:"物料属性",measureUnit:"主计量单位"};for(var a in this.inventory)"string"==typeof this.inventory[a]&&this.inventory[a].indexOf(" ")>=0&&(this.inventory[a]=this.inventory[a].replace(/\s/g,""));switch(this.inventoryStatus){case"使用中":this.inventory.inventoryStatus=1;break;case"未使用":this.inventory.inventoryStatus=2;break;case"草稿":this.inventory.inventoryStatus=0;break;case"停用":this.inventory.inventoryStatus=-1}this.inventory.status&&delete this.inventory.status;var n=j.save,r="";if((0,h.default)(t).every(function(t){var a=(0,c.default)(t,2),n=a[0],i=a[1];return!!e.inventory[n]||(r=i+"不能为空",!1)}),!r&&(0,C.default)(this.matterDuplicateData).length&&(0,C.default)(this.matterDuplicateData).forEach(function(t){if(e.matterDuplicateData[t].length<=0)return!1;e.matterDuplicateConfig.forEach(function(a){a.name===t&&a.items.forEach(function(a){a.hidden||e.matterDuplicateData[t].forEach(function(e){if(!a.allowBlank&&!e[a.fieldCode])return r=a.text+"不能为空",!1})})})}),r)return void this.$vux.alert.show({content:r});var i={baseinfo:this.baseinfo,inventory:(0,v.default)({},this.inventory,{nearKeepingDays:this.nearKeepingDays,leadTime:this.leadTimeTitle?this.inventory.leadTime:""})};this.matterDuplicateConfig.forEach(function(t){e.matterDuplicateData[t.name].length&&(i[t.name]=e.matterDuplicateData[t.name])});var o={listId:this.listId,formData:i};this.transCode&&(n=j.update),console.log(o),this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$loading.show(),n(o).then(function(t){e.$loading.hide();var a=t.success,r=void 0!==a&&a,i=t.message,o=void 0===i?"提交失败":i;r&&(o=n===j.update?"修改成功":"提交成功",e.submitSuccess=!0),e.$vux.alert.show({content:o,onHide:function(){r&&e.$router.go(-1)}})}).catch(function(t){e.$loading.hide()})}})},findData:function(){var e=this;return(0,j.findData)(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a,r=t.attachment,i=void 0===r?[]:r;e.matterDuplicateConfig.forEach(function(t){n[t.name].length&&(e.matterDuplicateData[t.name]=n[t.name])});var o=n.baseinfo,s=void 0===o?{}:o,l=n.inventory,d=void 0===l?{}:l;switch(e.hasDefault=!0,d.inventoryStatus){case 1:e.inventoryStatus="使用中";break;case 2:e.inventoryStatus="未使用";break;case 0:e.inventoryStatus="草稿";break;case-1:e.inventoryStatus="停用"}console.log(d),e.baseinfo=(0,v.default)({},e.baseinfo,s),e.inventory=(0,v.default)({},e.inventory,d);e.inventory.inventoryPic&&(e.picShow=!0,e.MatPic="/H_roleplay-si/ds/download?url="+e.inventory.inventoryPic+"&width=400&height=400");var u=i.filter(function(t){return t.attacthment===e.inventory.inventoryPic}),f=(0,c.default)(u,1),h=f[0],m=void 0===h?{}:h;e.imgFileObj=m})},getBaseInfoData:function(){var e=this;return(0,B.getBaseInfoDataBase)().then(function(t){e.baseinfo=(0,v.default)({},e.baseinfo,t,{activeTime:e.changeDate(new Date,!0)})})},getDefaultImg:function(){this.MatPic=a("CcG0")},validateData:function(e,t){var a="";return e.every(function(e){return t.every(function(t){return!!e[t.key]||(a=t.message+"不能为空",!1)}),!!a}),a},selProcedure:function(e){this.inventory=(0,v.default)({},this.inventory,{procedureName:e.procedureName,procedureCode:e.procedureCode})},handlerParams:function(e){var t=this,a=e.dataSource.data.url,n=e.dataSource.data.params,r=(0,C.default)(n),i={url:a};if(r.length){var o={};r.forEach(function(e){o[e]="text"===n[e].type?n[e].value:""}),i.data=o}e.requestParams=i,(0,B.requestData)(i).then(function(a){a.tableContent?(a.tableContent.forEach(function(t){t.value=t[e.displayField],t.name=t[e.displayField]}),"processing"===e.fieldCode&&(t.$route.query.transCode||(t.inventory.processing=t.$route.query.matterType?t.$route.query.matterType:"")),t.$set(e,"remoteData",a.tableContent)):(a.forEach(function(t){t.value=t[e.displayField],t.name=t[e.displayField]}),t.$set(e,"remoteData",a))})},getFormViewsInfo:function(){var e=this;return(0,d.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,B.getFormViews)(e.listId).then(function(t){var a=!0,n=!1,r=void 0;try{for(var i,o=(0,_.default)(t);!(a=(i=o.next()).done);a=!0){var s=i.value;e.transCode&&"revise"===s.viewType?e.uniqueId=s.uniqueId:e.transCode||"submit"!==s.viewType||(e.uniqueId=s.uniqueId)}}catch(e){n=!0,r=e}finally{try{!a&&o.return&&o.return()}finally{if(n)throw r}}});case 2:return t.next=4,(0,B.getFormConfig)(e.uniqueId).then(function(t){var a=t.config,n=void 0===a?[]:a,r=[],i=[];n.forEach(function(e){e.isMultiple?e.hiddenInRun||"r2Fileupload"===e.xtype||"invMoreUnit"!==e.name||i.push(JSON.parse((0,s.default)(e))):r=JSON.parse((0,s.default)(e.items))}),r.forEach(function(t){t.hiddenInRun||("r2Combo"!==t.xtype&&"r2MultiSelector"!==t.xtype||!t.dataSource||"remoteData"!==t.dataSource.type?"r2Combo"===t.xtype&&t.dataSource&&"staticData"===t.dataSource.type&&e.$set(t,"remoteData",t.dataSource.data):e.handlerParams(t),"inventoryPic"!==t.fieldCode&&e.matterConfig.push(t))}),i.forEach(function(t){switch(t.name){case"invMoreUnit":t.title="辅助计量";break;case"invNetWeight":t.title="净含量";break;case"invDealerRel":t.title="客户";break;case"invCustomerRel":t.title="供应商"}var a=[];t.items.forEach(function(t,n){t.hidden||("r2Combo"===t.editorType&&t.dataSource&&"remoteData"===t.dataSource.type&&e.handlerParams(t),a.push(t))}),t.items=a,e.$set(e.matterDuplicateData,t.name,[])}),e.matterDuplicateConfig=i,e.transCode||e.$loading.hide()});case 4:case"end":return t.stop()}},t,e)}))()}},beforeRouteLeave:function(e,t,a){var n=e.path;this.submitSuccess&&"/materlist"===n&&(e.meta.reload=!0),a()},created:function(){var e=this;this.$loading.show();var t=this.$route.query.transCode,a=void 0===t?"":t;if(this.transCode=a,a)return void(0,d.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getFormViewsInfo();case 2:return t.next=4,e.findData().then(function(){e.$loading.hide()});case 4:e.hasDefault=!1,e.codeReadOnly=!0;case 6:case"end":return t.stop()}},t,e)}))();this.getFormViewsInfo(),this.getBaseInfoData()},beforeRouteEnter:function(e,t,a){e.meta.title="新增物料",e.query.transCode&&(e.meta.title="编辑物料"),a()}}},"0UVS":function(e,t,a){"use strict";function n(e){a("H/Sh")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("LIUC");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("0+Vg"),s=a.n(o),l=a("jEvZ"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-6bfc33b9",null);t.default=c.exports},"0V3y":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=(a("HyXB"),a("MjAd")),s=n(o),l=a("zWMP");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"项目名称",value:"projectName_projectApprovalId"}],listViewID:2301}},mixins:[s.default],filters:{percent:function(e){return e||0===e?(0,l.accMul)(e,100)+"%":"无"}},methods:{goDetail:function(e,t){var a=this;if(!this.clickVisited){var n=e.transCode,r=this.$route.query,o=r.name,s=r.listId,l=this.$route.params,d=l.folder,u=l.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,i.default)({},e)),setTimeout(function(){a.clickVisited=!1,a.$router.push({path:"/detail/"+d+"/"+u,query:{name:o,transCode:n,listId:s}})},200)}}}}},"0W8i":function(e,t){},"0WWG":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("HXPS"),s=n(o);t.default={name:"RDropdown",props:{list:{type:Array,default:function(){return[]}}},components:{Icon:s.default},data:function(){return{selItem:{}}},watch:{list:{handler:function(){this.selItem=this.list[0],this.$emit("on-selected",this.selItem)},immediate:!0}},methods:{dropItemClick:function(e){this.selItem=(0,i.default)({},e),this.$emit("on-selected",this.selItem)}},created:function(){}}},"0aRt":function(e,t){},"0b8K":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2299,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_outPutMatCode"}]}},mixins:[r.default],methods:{},created:function(){}}},"0dhE":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("HzJ8"),s=n(o),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("PKHo"),f=n(c),h=a("zWMP"),m=a("BUFe"),v=n(m),p=a("AupE"),C=n(p),y=a("sUbJ"),_=n(y),g=a("FlCz"),b=n(g),w=a("d7ck"),I=n(w),D=a("MVgC"),x=n(D),P=a("hPJo"),S=n(P);t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",orderList:{},basicInfo:{},DuplicateBoms:[],UniqueBom:[],bomPopShow:!1,bom:{},warehouseIn:{},warehouseOut:{},bomList:[]}},mixins:[u.default,f.default],components:{workFlow:C.default,RAction:v.default,MatterItem:_.default,BomList:b.default,FormCell:I.default,BomPop:x.default,WarehouseContent:S.default},watch:{DuplicateBoms:{handler:function(e){var t=function(e,t){return e.inventoryCode===t.inventoryCode};this.UniqueBom=function(e){return e.reduce(function(e,a){return e.some(function(e){var n=t(e,a);return n&&(e.tdQty=(0,h.accAdd)(e.tdQty,a.tdQty)),n})||e.push(a),e},[])}(this.DuplicateBoms)}}},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},checkBom:function(e){this.bom=e,this.bomPopShow=!0},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u={},c=o.order,f=void 0===c?{}:c,m=o.outPut,v=void 0===m?{}:m,p=v.dataSet||[];e.attachment=d;var C=f.dataSet,y=void 0===C?[]:C,_=!0,g=!1,b=void 0;try{for(var w,I=(0,s.default)(y);!(_=(w=I.next()).done);_=!0){var D=w.value;if(D.inventoryPic=D.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+D.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),D.boms){var x=!0,P=!1,S=void 0;try{for(var k,L=(0,s.default)(D.boms);!(x=(k=L.next()).done);x=!0){var N=k.value;N.inventoryCode=N.transObjCode,N.warehouseName=N.warehouseName_containerCodeOut,N.warehouseCode=N.containerCodeOut,N.qtyStock=N.thenQtyStock,N.tdQty=(0,h.accMul)(N.bomQty,D.tdQty,1+N.bomSpecificLoss)}}catch(e){P=!0,S=e}finally{try{!x&&L.return&&L.return()}finally{if(P)throw S}}e.DuplicateBoms=e.DuplicateBoms.concat(JSON.parse((0,i.default)(D.boms)))}u[D.transMatchedCode]||(u[D.transMatchedCode]=[]),u[D.transMatchedCode].push(D)}}catch(e){g=!0,b=e}finally{try{!_&&I.return&&I.return()}finally{if(g)throw b}}p.forEach(function(e){e.inventoryCode=e.outPutMatCode,e.inventoryName=e.inventoryName_outPutMatCode,e.measureUnit=e.measureUnit_outPutMatCode}),e.warehouseIn={warehouseCode:f.containerCode,warehouseName:f.warehouseName_containerCode,warehouseAction:"入库",warehouseIcon:"icon-ruku",warehouseType:f.warehouseType_containerCode,warehouseProvince:f.warehouseProvince_containerCode,warehouseCity:f.warehouseCity_containerCode,warehouseDistrict:f.warehouseDistrict_containerCode,warehouseAddress:f.warehouseAddress_containerCode},e.warehouseOut={warehouseCode:f.containerCodeOut,warehouseName:""+f.warehouseName_containerCodeOut,warehouseAction:"在制仓库",warehouseIcon:"icon-chuku",warehouseType:f.warehouseType_containerCodeOut,warehouseProvince:f.warehouseProvince_containerCodeOut,warehouseCity:f.warehouseCity_containerCodeOut,warehouseDistrict:f.warehouseDistrict_containerCodeOut,warehouseAddress:f.warehouseAddress_containerCodeOut},e.orderList=u,e.bomList=p,e.orderInfo=o,e.workFlowInfoHandler()})}}}},"0gu7":function(e,t,a){e.exports=a.p+"static/img/ava02.767972d.png"},"0j52":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("4YfN"),s=n(o),l=a("u28h"),d=n(l),u=a("PzEQ"),c=n(u),f=(a("Qg39"),a("yt3/")),h=n(f);t.default={name:"otherConfigPart",components:{Datetime:d.default,XTextarea:c.default,PopSingleSelect:h.default},props:{otherConfig:{type:Array,default:function(){return[]}},otherInfo:{type:Object,default:function(){return{}}}},data:function(){return{other:{}}},watch:{otherInfo:{handler:function(e){return this.other=(0,s.default)({},this.otherInfo)},immediate:!0},other:{handler:function(e){(0,i.default)(e)!==(0,i.default)(this.otherInfo)&&this.$emit("input",e)},deep:!0}},methods:{getDate:function(e){var t=this;this.$vux.datetime.show({value:"",confirmText:"确认",cancelText:"取消",onConfirm:function(a){t.$set(t.other,e.fieldCode,a)}})},test:function(){}}}},"0jTj":function(e,t,a){"use strict";function n(e){a("0m87")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("1m4k");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("kSDc"),s=a.n(o),l=a("iAVJ"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-4c5f1d8a",null);t.default=c.exports},"0l1r":function(e,t){},"0m87":function(e,t){},"0o6b":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.uploadImage=t.chooseImage=t.shareContent=t.scanQRCode=void 0;var r=a("4YfN"),i=n(r),o=a("rVsN"),s=n(o),l=a("HyXB");t.scanQRCode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new s.default(function(t,a){wx.scanQRCode((0,i.default)({desc:"scanQRCode desc",needResult:1,scanType:["qrCode","barCode"],success:function(e){var n=e.err_Info,r=void 0===n?"false":n,i=e.resultStr,o=void 0===i?"":i,s="扫描结果异常";"success"===r?(s="扫描成功",t({message:s,result:o})):(this.$vux.alert.show({content:s}),a({message:s}))},error:function(e){var t="扫描异常";e.errMsg.indexOf("function_not_exist")>0&&(t="版本过低请升级"),this.$vux.alert.show({content:t}),a({message:t})}},e))})},t.shareContent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.log(e),wx.onMenuShareAppMessage({title:e.title,desc:e.desc,imgUrl:e.imgUrl,success:function(){alert("分享成功！")},cancel:function(){alert("分享失败！")}})},t.chooseImage=function(e){var t=e.options,a=void 0===t?{}:t;return new s.default(function(e,t){wx.chooseImage((0,i.default)({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],defaultCameraMode:"normal",success:function(t){var a=t.localIds;e(void 0===a?[]:a)},fail:function(){t({success:!1,message:"选择失败"})}},a))})},t.uploadImage=function(e){var t=e.options,a=void 0===t?{}:t,n=e.localId,r=void 0===n?"":n,o=e.biReferenceId,d=void 0===o?"":o;return new s.default(function(e,t){wx.uploadImage((0,i.default)({localId:r,isShowProgressTips:0,success:function(a){var n=a.serverId,r=void 0===n?"":n,i={mediaId:r};d&&(i.biReferenceId=d),(0,l.mediaUpload)(i).then(function(t){var a=(t.success,t.message,t.data);e(a)}).catch(function(e){t()})},fail:function(){t({success:!1,message:"上传失败"})}},a))})};t.default={}},"0u1o":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("hRKE"),s=n(o),l=a("fBTP"),d=n(l),u=a("nKjL"),c=a("aiMs"),f=n(c),h=a("uJtz"),m=n(h),v=a("71iV");n(v);t.default={name:"picker",components:{Flexbox:u.Flexbox,FlexboxItem:u.FlexboxItem},created:function(){if(0!==this.columns){var e=this.columns;this.store=new f.default(this.data,e,this.fixedColumns||this.columns),this.currentData=this.store.getColumns(this.value)}},mounted:function(){var e=this;this.uuid=Math.random().toString(36).substring(3,8),this.$nextTick(function(){e.render(e.currentData,e.currentValue)})},props:{data:Array,columns:{type:Number,default:0},fixedColumns:{type:Number,default:0},value:Array,itemClass:{type:String,default:"scroller-item"},columnWidth:Array},methods:{getNameValues:function(){return(0,m.default)(this.currentValue,this.data)},getId:function(e){return"#vux-picker-"+this.uuid+"-"+e},render:function(e,t){this.count=this.currentData.length;var a=this;if(e&&e.length){var n=this.currentData.length;if(t.length<n)for(var r=0;r<n;r++)this.$set(a.currentValue,r,e[r][0].value||e[r][0]);for(var i=0;i<e.length;i++){var o=function(n){if(!document.querySelector(a.getId(n)))return{v:void 0};a.scroller[n]&&a.scroller[n].destroy(),a.scroller[n]=new d.default(a.getId(n),{data:e[n],defaultValue:t[n]||e[n][0].value,itemClass:a.itemClass,onSelect:function(e){a.$set(a.currentValue,n,e),(!this.columns||this.columns&&a.getValue().length===a.store.count)&&a.$nextTick(function(){a.$emit("on-change",a.getValue())}),0!==a.columns&&a.renderChain(n+1)}}),a.currentValue&&a.scroller[n].select(t[n])}(i);if("object"===(void 0===o?"undefined":(0,s.default)(o)))return o.v}}},renderChain:function(e){if(this.columns&&!(e>this.count-1)){var t=this,a=this.getId(e);this.scroller[e].destroy();var n=this.store.getChildren(t.getValue()[e-1]);this.scroller[e]=new d.default(a,{data:n,itemClass:t.item_class,onSelect:function(a){t.$set(t.currentValue,e,a),t.$nextTick(function(){t.$emit("on-change",t.getValue())}),t.renderChain(e+1)}}),n.length?(this.$set(this.currentValue,e,n[0].value),this.renderChain(e+1)):this.$set(this.currentValue,e,null)}},getValue:function(){for(var e=[],t=0;t<this.currentData.length;t++){if(!this.scroller[t])return[];e.push(this.scroller[t].value)}return e},emitValueChange:function(e){(!this.columns||this.columns&&e.length===this.store.count)&&this.$emit("on-change",e)}},data:function(){return{scroller:[],count:0,uuid:"",currentData:this.data,currentValue:this.value}},watch:{value:function(e){(0,i.default)(e)!==(0,i.default)(this.currentValue)&&(this.currentValue=e)},currentValue:function(e,t){if(this.$emit("input",e),0!==this.columns)e.length>0&&(0,i.default)(e)!==(0,i.default)(t)&&(this.currentData=this.store.getColumns(e),this.$nextTick(function(){this.render(this.currentData,e)}));else if(e.length)for(var a=0;a<e.length;a++)this.scroller[a]&&this.scroller[a].value!==e[a]&&this.scroller[a].select(e[a]);else this.render(this.currentData,[])},data:function(e){(0,i.default)(e)!==(0,i.default)(this.currentData)&&(this.currentData=e)},currentData:function(e){var t=this;if("[object Array]"===Object.prototype.toString.call(e[0]))this.$nextTick(function(){t.render(e,t.currentValue),t.$nextTick(function(){t.emitValueChange(t.getValue()),(0,i.default)(t.getValue())!==(0,i.default)(t.currentValue)&&(!t.columns||t.columns&&t.getValue().length===t.store.count)&&(t.currentValue=t.getValue())})});else if(0!==this.columns){if(!e.length)return;var a=this.columns;this.store=new f.default(e,a,this.fixedColumns||this.columns),this.currentData=this.store.getColumns(this.currentValue)}}},beforeDestroy:function(){for(var e=0;e<this.count;e++)this.scroller[e]&&this.scroller[e].destroy(),this.scroller[e]=null}}},"0w+U":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.checkValue=t.update=t.save=t.CompanyInfo=t.getCompany=void 0;var r=a("3cXf"),i=n(r),o=a("GOq4"),s=n(o),l=t.getCompany=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getCompanyList",data:e})},d=t.CompanyInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return s.default.ajax({url:"/H_roleplay-si/sysGroup/getCompanyList",data:{groupId:e}})},u=t.save=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.post({url:"/H_roleplay-si/sysGroup/saveBatch",data:e})},c=t.update=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.post({url:"/H_roleplay-si/sysGroup/updateBatch",data:e})},f=t.checkValue=function(e,t){return s.default.ajax({url:"/H_roleplay-si/trans/validate",data:{tableName:"sys_group",filter:(0,i.default)([{filedName:e,symbol:"=",value:t}])}})};t.default={save:u,update:c,getCompany:l,checkValue:f,CompanyInfo:d}},"0yYA":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("m-search",{attrs:{filterList:e.filterList,isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.workList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.workList,function(t,n){return a("div",{key:n,staticClass:"each-work box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"work-main"},[a("div",{staticClass:"work_top"},[a("span",{staticClass:"code_name"},[e._v("工单任务号")]),e._v(" "),a("span",{staticClass:"work_code"},[e._v(e._s(t.transCode))])]),e._v(" "),a("div",{staticClass:"work_mid vux-1px-b"},[a("div",{staticClass:"product_name"},[e._v("\n                "+e._s(t.inventoryName)),a("span",{staticClass:"symbol"},[e._v("["+e._s(t.processing)+"]")])]),e._v(" "),a("div",{staticClass:"product_unit"},[a("span",{staticClass:"each_unit"},[e._v("成品编码: "+e._s(t.matCode))])])]),e._v(" "),a("div",{staticClass:"work_btm"},[a("div",{staticClass:"procedure_name"},[a("span",[e._v(e._s(t.procedureName))]),e._v(" "),a("span",{staticClass:"symbol"},[e._v("[工序编码: "+e._s(t.proPointCode)+"]")])]),e._v(" "),a("div",{staticClass:"procedure_unit"},[a("span",{staticClass:"each_unit"},[e._v("可验收余额: "+e._s(t.qtyBal))]),e._v(" "),a("span",{staticClass:"each_unit"},[e._v("后置工序: "+e._s(t.rearProcedureName))])])])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1)])],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},"1/RG":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("4YfN"),s=n(o),l=a("kNGm"),d=n(l),u=a("0AQX"),c=a("+VRO"),f=n(c),h=a("BUFe"),m=n(h),v=a("AupE"),p=n(v),C=a("Eyzt"),y=n(C),_=a("bFc7"),g=n(_),b=a("zWMP");a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",contactInfo:{},orderList:{}}},mixins:[f.default],components:{onlyWord:y.default,workFlow:p.default,RAction:m.default,contactPart:g.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=void 0===a?[]:a,r=t.formData,o=void 0===r?{}:r,l=o.order,u=void 0===l?{}:l,c=o.order.dataSet,f=0,h={},m=!0,v=!1,p=void 0;try{for(var C,y=(0,i.default)(c);!(m=(C=y.next()).done);m=!0){var _=C.value;_.inventoryPic=_.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),f=(0,b.accAdd)(f,_.tdAmount),h[_.transMatchedCode]||(h[_.transMatchedCode]=[]),e.orderList=h,h[_.transMatchedCode].push(_)}}catch(e){v=!0,p=e}finally{try{!m&&y.return&&y.return()}finally{if(v)throw p}}e.contactInfo={dealerName:u.dealerName_dealerCodeCredit,dealerMobilePhone:o.dealerCreditContactInformation,dealerContactPersonName:o.dealerCreditContactPersonName,dealerCode:u.dealerCodeCredit,province:u.province_dealerCodeCreditt,city:u.city_dealerCodeCreditt,county:u.county_dealerCodeCredit,address:u.address_dealerCodeCredit},e.attachment=n,e.count=f,o.invoiceDate=(0,d.default)(o.invoiceDate,"YYYY-MM-DD"),e.orderInfo=(0,s.default)({},o,u),e.workFlowInfoHandler()})},judgeDealerConfig:function(e){var t=this.orderInfo.crDealerPaymentTerm.includes("账期"),a=["pamentDays_dealerCodeCredit"];e.forEach(function(e){a.includes(e.fieldCode)&&(e.hiddenInRun=!t)})}}}},"10t/":function(e,t,a){"use strict";function n(e){a("/xIL")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("Wdr0");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("HkPF"),s=a.n(o),l=a("cYSv"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-1c0bf855",null);t.default=c.exports},"12Rn":function(e,t){},"13HE":function(e,t,a){"use strict";function n(e){a("k95n")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("VNth");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("w6tR"),s=a.n(o),l=a("ZLmS"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-62ea0fef",null);t.default=c.exports},"13Hw":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.contactInfo,configs:e.dealerConfig}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("only-word",{attrs:{config:e.otherConfig,info:e.orderInfo}}),e._v(" "),a("matter-list",{attrs:{"order-list":e.orderList,"order-title":e.orderTitle},on:{"on-show-more":e.onShowMore}}),e._v(" "),a("other-part",{attrs:{"other-info":e.orderInfo,amt:e.noTaxAmount,"tax-amt":e.taxAmount,count:e.count,attachment:e.attachment}}),e._v(" "),a("pop-matter-detail",{attrs:{show:e.showMatterDetail,item:e.matterDetail},model:{value:e.showMatterDetail,callback:function(t){e.showMatterDetail=t},expression:"showMatterDetail"}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[],i={render:n,staticRenderFns:r};t.a=i},"16Vu":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("a3Yh"),s=n(o),l=a("MgeX"),d=n(l),u=a("HzJ8"),c=n(u),f=a("ZLEe"),h=n(f),m=a("3cXf"),v=n(m),p=a("HXPS"),C=n(p),y=a("BGNQ"),_=n(y),g=a("z5TY"),b=n(g),w=a("SAzG"),I=n(w),D=a("PzEQ"),x=n(D),P=a("0AQX"),S=a("HyXB"),k=a("bKg5"),L=n(k),N=a("vl8n"),M=n(N),T=a("+WR7"),A=n(T),O=a("luHD"),R=n(O),j=a("RMtk"),B=n(j),E=a("9cRV"),F=n(E);t.default={name:"ApplyWLXQTJForm",mixins:[L.default],components:{Icon:C.default,Cell:_.default,Group:b.default,XTextarea:x.default,XInput:I.default,PopMatter:R.default,PopOrderXqtjList:B.default,RPicker:M.default,PopBaseinfo:A.default,PopMatterList:F.default},data:function(){return{orderList:{},showOrderPop:!1,formData:{biComment:""},submitSuccess:!1,warehouse:null,taxRate:.16,numMap:{},orderParams:{dealerCode:"",whCode:""},transCode:"",formViewUniqueId:"346ede09-ac6a-489a-9242-f385932a4443",biReferenceId:"",actions:[],taskId:"",matterList:[],project:{},entity:{},tmpItems:{},matter:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,checkFieldList:[{key:"tdQty",message:"请填写减少数量"}]}},methods:{getMatterModify:function(e,t,a){this.matter=JSON.parse((0,v.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t)},selOrder:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){var a=e.transCode+"_"+e.colId+"_"+e.inventoryCode,r=t.numMap[a]||{},i=r.tdQty,o=void 0===i?"":i;e.tdQty=o,n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},findIndex:function(e,t){return e.findIndex(function(e){var a=!0;return e.colId&&(a=e.colId===t.colId),a&&e.transCode===t.transCode&&e.inventoryCode===t.inventoryCode})},delClick:function(e,t,a){var n=this.selItems,r=this.findIndex(n,t);if(-1!==r)return void n.splice(r,1);n.push(t)},showSelIcon:function(e){return-1!==this.findIndex(this.selItems,e)},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,v.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,h.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){var n=!0;if(a.colId&&(n=t.colId===a.colId),n&&a.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var r=e.orderList[t.transCode],i=e.findIndex(r,t);i>=0&&(e.$refs.matter.delSelItem(r[i]),r.splice(i,1)),r.length||delete e.orderList[t.transCode]}})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,r=(0,c.default)((0,d.default)(this.orderList));!(e=(n=r.next()).done);e=!0){var i=n.value,o=!0,s=!1,l=void 0;try{for(var u,f=(0,c.default)(i);!(o=(u=f.next()).done);o=!0){var h=u.value;this.numMap[h.transCode+"_"+h.colId+"_"+h.inventoryCode]={tdQty:h.tdQty}}}catch(e){s=!0,l=e}finally{try{!o&&f.return&&f.return()}finally{if(s)throw l}}}}catch(e){t=!0,a=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="",a=[];t||(0,h.default)(this.orderList).length||(t="请选择物料");var n=!0,r=!1,o=void 0;try{for(var l,u=(0,c.default)((0,d.default)(this.orderList));!(n=(l=u.next()).done);n=!0){var f=l.value,m=!0,p=!1,C=void 0;try{for(var y,_=(0,c.default)(f);!(m=(y=_.next()).done);m=!0){var g=y.value;if(!g.tdQty){t="请填写减少数量";break}var b={transMatchedCode:g.transCode,outPutMatCode:g.inventoryCode,inventoryType_outPutMatCode:g.inventoryType,thenQtyBal:g.qtyBal,tdQty:g.tdQty,subjectCode:g.calcRelCode,comment:g.comment||""};this.transCode&&(b.tdId=g.tdId||""),a.push(b)}}catch(e){p=!0,C=e}finally{try{!m&&_.return&&_.return()}finally{if(p)throw C}}}}catch(e){r=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw o}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=S.saveAndStartWf,n={},r=(0,s.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});n=(0,i.default)({},e.formData,{modifer:e.transCode?e.formData.handler:"",handlerEntity:e.entity.dealerName,outPut:{dataSet:a}}),e.transCode&&(t=S.saveAndCommitTask,r={businessKey:e.transCode,createdBy:n.creator||n.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var o={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,v.default)(n),wfPara:(0,v.default)(r)};e.transCode||delete o.biReferenceId,e.processCode.length||(t=S.submitAndCalc,delete o.wfPara,delete o.biReferenceId),e.biReferenceId&&(o.biReferenceId=e.biReferenceId),e.saveData(t,o)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,s=t.attachment,l=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var d={};e.attachment=l;var u=o.outPut,f=u.dataSet,h=void 0===f?[]:f,m=!0,v=!1,p=void 0;try{for(var C,y=(0,c.default)(h);!(m=(C=y.next()).done);m=!0){var _=C.value;_=(0,i.default)({},_,{transCode:_.transMatchedCode,qtyBal:_.thenQtyBal,inventoryPic:_.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:_.inventoryName_outPutMatCode,inventoryCode:_.outPutMatCode,inventoryType:_.inventoryType_outPutMatCode,specification:_.specification_outPutMatCode,measureUnit:_.measureUnit_outPutMatCode,processing:_.tdProcessing,calcRelCode:_.subjectCode,inventoryTypen:_.inventoryType_outPutMatCode}),d[_.transCode]||(d[_.transCode]=[]),d[_.transCode].push(_)}}catch(e){v=!0,p=e}finally{try{!m&&y.return&&y.return()}finally{if(v)throw p}}e.matterList=h,e.handlerDefault={handler:o.handler,handlerName:o.handlerName,handlerUnit:o.handlerUnit,handlerUnitName:o.handlerUnitName,handlerRole:o.handlerRole,handlerRoleName:o.handlerRoleName},e.formData=(0,i.default)({},e.formData,e.handlerDefault,{biComment:o.biComment,biId:o.biId,biProcessStatus:o.biProcessStatus,creator:o.creator,modifer:o.modifer,drDealerLogisticsTerms:o.drDealerLogisticsTerms}),e.biReferenceId=o.biReferenceId,e.orderList=d,e.$loading.hide()})},hasDraftData:function(){return!!(0,d.default)(this.orderList).length&&(0,s.default)({},"XQTJ_DATA",{orderList:this.orderList,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("XQTJ_DATA");e&&(this.orderList=JSON.parse(e).orderList,this.formData=JSON.parse(e).formData,sessionStorage.removeItem("XQTJ_DATA"))}}},"16Wp":function(e,t,a){"use strict";function n(e){a("0l1r")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("XQGE");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("t2f1"),s=a.n(o),l=a("KADJ"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-5f2b9c94",null);t.default=c.exports},"17R/":function(e,t){},"1Dc2":function(e,t,a){"use strict";function n(e){a("EfA8")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("DxXp");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("PF5i"),s=a.n(o),l=a("PzqF"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-0cb22826",null);t.default=c.exports},"1E3z":function(e,t){},"1JcB":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"RPopover",data:function(){return{show:!1}},methods:{showPopover:function(){this.show||this.$emit("on-click"),this.show=!this.show},hidePopover:function(){this.show=!1},clickOutside:function(e){this.$refs.popover.contains(e.target)||(this.show=!1)}},created:function(){var e=this;this.$nextTick(function(){document.addEventListener("click",e.clickOutside)})},beforeDestroy:function(){document.removeEventListener("click",this.clickOutside)}}},"1JuA":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.contactInfo,configs:e.dealerConfig}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("only-word",{attrs:{config:e.otherConfig,info:e.orderInfo}}),e._v(" "),a("matter-list",{attrs:{"order-list":e.orderList,"order-title":e.orderTitle},on:{"on-show-more":e.onShowMore}}),e._v(" "),a("other-part",{attrs:{"other-info":e.orderInfo,amt:e.noTaxAmount,"tax-amt":e.taxAmount,count:e.count,attachment:e.attachment}}),e._v(" "),a("pop-matter-detail",{attrs:{show:e.showMatterDetail,item:e.matterDetail},model:{value:e.showMatterDetail,callback:function(t){e.showMatterDetail=t},expression:"showMatterDetail"}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[],i={render:n,staticRenderFns:r};t.a=i},"1KNX":function(e,t,a){"use strict";function n(e){a("nHhV")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("pifm");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("DHup"),s=a.n(o),l=a("i4Pg"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-b99e799e",null);t.default=c.exports},"1RQV":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Ns/O"),r=function(e){return e&&e.__esModule?e:{default:e}}(n),i=["android","ios","ios-small","bubbles","circles","crescent","dots","lines","ripple","spiral"];t.default={name:"spinner",mounted:function(){var e=this;this.$nextTick(function(){(0,r.default)(e.$el,e.type,e.size)})},props:{type:{type:String,default:"ios"},size:String},computed:{styles:function(){if(void 0!==this.size&&"28px"!==this.size)return{width:this.size,height:this.size}},className:function(){for(var e={},t=0;t<i.length;t++)e["vux-spinner-"+i[t]]=this.type===i[t];return e}}}},"1UHc":function(e,t){},"1Unt":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"cell-form-preview",props:{list:Array,borderIntent:{type:Boolean,default:!0}}}},"1WEq":function(e,t){},"1WsH":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.update=t.save=t.getJobList=void 0;var n=a("GOq4"),r=function(e){return e&&e.__esModule?e:{default:e}}(n),i=t.getJobList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.ajax({url:"/H_roleplay-si/ds/getAllRole",data:e})},o=t.save=function(e){return r.default.post({url:"/H_roleplay-si/sysRole/save",data:e})},s=t.update=function(e){return r.default.post({url:"/H_roleplay-si/sysRole/update",data:e})};t.default={save:o,update:s,getJobList:i}},"1Zeg":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("finance-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},"1Zr/":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("contact-part",{directives:[{name:"show",rawName:"v-show",value:e.dealerConfig.length,expression:"dealerConfig.length"}],attrs:{"contact-info":e.dealerInfo,configs:e.dealerConfig,showAddress:!1}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_content"},e._l(e.costList,function(t,n){return a("div",{key:n,staticClass:"main_content"},e._l(e.matterConfig,function(n,r){return a("div",{key:r,class:{"vux-1px-t":r>0}},["tdAmount"===n.fieldCode?[a("div",{staticClass:"each_info"},[a("label",[e._v(e._s(n.text))]),e._v(" "),a("span",{staticClass:"field_value"},[e._v("￥"+e._s(e._f("numberComma")(t[n.fieldCode])))])])]:"r2Numberfield"===n.editorType?[a("div",{staticClass:"each_info"},[a("label",[e._v(e._s(n.text))]),e._v(" "),a("span",{staticClass:"field_value"},[e._v(e._s(e._f("numberComma")(t[n.fieldCode])))])])]:[a("div",{staticClass:"each_info"},[a("label",[e._v(e._s(n.text))]),e._v(" "),a("span",{staticClass:"field_value"},[e._v(e._s(t[n.fieldCode]||"无"))])])]],2)}),0)}),0),e._v(" "),a("pop-cash-list",{directives:[{name:"show",rawName:"v-show",value:e.otherConfig.length&&!e.isEditAdmout,expression:"otherConfig.length &&  !isEditAdmout"}],attrs:{"default-value":e.cashInfo,request:"4",params:e.cashParams,required:""},on:{"sel-item":e.selCash}},[a("template",{slot:"other"},[a("div",{staticClass:"each_property vux-1px-t"},[a("label",[e._v("支付金额")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.cashInfo.tdAmountCopy1,expression:"cashInfo.tdAmountCopy1",modifiers:{number:!0}}],staticClass:"property_val",attrs:{type:"number",placeholder:"请输入"},domProps:{value:e.cashInfo.tdAmountCopy1},on:{blur:[function(t){e.checkAmt(e.cashInfo,"tdAmountCopy1",e.cashInfo.tdAmountCopy1)},function(t){e.$forceUpdate()}],input:function(t){t.target.composing||e.$set(e.cashInfo,"tdAmountCopy1",e._n(t.target.value))}}})])])],2),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.otherConfig.length&&e.isEditAdmout,expression:"otherConfig.length &&  isEditAdmout"}],staticClass:"form_content"},[a("div",{staticClass:"main_content"},e._l(e.otherConfig,function(t,n){return a("div",{key:n,class:{"vux-1px-t":n>0}},["r2Permilfield"===t.xtype?[a("div",{staticClass:"each_info"},[a("label",[e._v(e._s(t.fieldLabel))]),e._v(" "),a("span",{staticClass:"field_value"},[e._v("￥"+e._s(e._f("numberComma")(e.cashInfo[t.fieldCode])))])])]:[a("div",{staticClass:"each_info"},[a("label",[e._v(e._s(t.fieldLabel))]),e._v(" "),a("span",{staticClass:"field_value"},[e._v(e._s(e.cashInfo[t.fieldCode]||"无"))])])]],2)}),0)]),e._v(" "),a("div",{staticClass:"form_content"},[a("div",{staticClass:"main_content"},e._l(e.baseinfoExtConfig,function(t,n){return a("div",{key:n,class:{"vux-1px-t":n>0}},[a("div",{staticClass:"each_info"},[a("label",[e._v(e._s(t.fieldLabel))]),e._v(" "),a("span",{staticClass:"field_value"},[e._v(e._s(e.orderInfo.order[t.fieldCode]||"无"))])])])}),0)]),e._v(" "),a("div",{staticClass:"comment"},[a("form-cell",{attrs:{cellTitle:"备注",cellContent:e.orderInfo.biComment}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,"agree-handler":e.agreeHandler,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[],i={render:n,staticRenderFns:r};t.a=i},"1d9+":function(e,t,a){"use strict";function n(e){a("aCXj")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("patH");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("g+qi"),s=a.n(o),l=a("yYGT"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-c25eed0e",null);t.default=c.exports},"1hzx":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2508,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[r.default],methods:{},created:function(){}}},"1ih/":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"load-more",props:{showLoading:{type:Boolean,default:!0},tip:String}}},"1k/p":function(e,t){},"1m4k":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2559,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"客户名称",value:"dealerName_dealerCodeCredit"}]}},mixins:[r.default],methods:{},created:function(){}}},"1qJ4":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("m-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"no-data":!e.data.length}},e._l(e.data,function(t,n){return a("div",{key:n,staticClass:"each_mater box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"mater_main "},[a("div",{staticClass:"mater_name"},[e._v(e._s(t.name))])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1)])],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},"1qrs":function(e,t){},"1rrF":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages cpxq-list-container"},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"each_duty",class:{visited:t.visited},on:{click:function(a){e.goDetail(t,n)}}},[a("div",{staticClass:"duty_top"},[a("p",{staticClass:"duty_code"},[e._v("\n            "+e._s(t.transCode)+"\n            "),t.biProcessStatus?a("span",{staticClass:"duty_crt_man"},[e._v(e._s(t.biProcessStatus))]):e._e()]),e._v(" "),a("span",{staticClass:"duty_status",class:t.statusClass},[e._v(e._s(t.statusName))]),e._v(" "),a("i",{staticClass:"iconfont",class:t.whichIcon})]),e._v(" "),a("div",{staticClass:"duty_content"},[a("div",{staticClass:"content_title"},[e._v(e._s(t.hiresName))]),e._v(" "),a("div",{staticClass:"content_step vux-1px-b"},[a("div",[e._v("部门: "+e._s(t.hiresDepartMent))]),e._v(" "),a("div",[e._v("岗位: "+e._s(t.hiresPost))])])]),e._v(" "),a("div",{staticClass:"order_count"},[t.handlerName?a("div",{staticClass:"handle_man"},[e._v("\n            "+e._s(t.handlerName)),a("span",{staticStyle:{fontSize:".1rem"}},[e._v("[经办人]")])]):e._e()])])}),0)],1),e._v(" "),a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},"1xht":function(e,t){},"2+oN":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"comment-item",on:{click:function(t){return t.stopPropagation(),e.reply(t)}}},[n("div",{staticClass:"comment-left"},[n("img",{staticClass:"avatar",attrs:{src:e.item.photo||a("Fuf7")},on:{error:e.getDefaultImg}})]),e._v(" "),n("div",{staticClass:"comment-right",class:{"vux-1px-b":!e.noBorder}},[n("div",{staticClass:"comment-header"},[n("div",{staticClass:"header_left"},[n("div",{staticClass:"creator-name"},[e._v(e._s(e.item.creatorName))]),e._v(" "),n("div",{staticClass:"time"},[e._v(e._s(e._f("filterTime")(e.item.CRT_TIME)))])]),e._v(" "),n("div",{staticClass:"header_right",on:{click:function(t){return t.stopPropagation(),e.savePraise(t)}}},[e.item.praiseNum?n("span",{staticClass:"praise_num"},[e._v(e._s(e.item.praiseNum))]):e._e(),e._v(" "),n("i",{staticClass:"icon",class:[e.item.isPraise?"icon-praise":"icon-praise-fill"]})])]),e._v(" "),n("div",{staticClass:"comment",domProps:{innerHTML:e._s(e.handleComment())}}),e._v(" "),e.item.commentAttachments&&e.item.commentAttachments.length?n("div",{staticClass:"comment-attachments"},[e._l(e.item.commentAttachments,function(t,a){return t.isImg?n("img",{key:a,staticClass:"comment_image_item",attrs:{src:t.ATTACHMENT},on:{click:function(a){a.stopPropagation(),e.scaleImg(t)}}}):e._e()}),e._v(" "),e._l(e.item.commentAttachments,function(t,a){return t.isImg?e._e():n("div",{key:a,staticClass:"each_file",on:{click:function(a){a.stopPropagation(),e.checkFile(t.ATTACHMENT)}}},[e._v("附件"+e._s(a+1)+": "+e._s(t.name)+"\n      ")])})],2):e._e(),e._v(" "),this.$slots.reply?n("div",{staticClass:"comment-reply"},[e._t("reply")],2):e._e()])])},r=[],i={render:n,staticRenderFns:r};t.a=i},"2/ZN":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("4YfN"),s=n(o),l=a("MgeX"),d=n(l),u=a("HzJ8"),c=n(u),f=a("ZLEe"),h=n(f),m=a("3cXf"),v=n(m),p=a("HXPS"),C=n(p),y=a("BGNQ"),_=n(y),g=a("z5TY"),b=n(g),w=a("SAzG"),I=n(w),D=a("u28h"),x=n(D),P=a("PzEQ"),S=n(P),k=a("0AQX"),L=(a("I3vJ"),a("HyXB")),N=a("bKg5"),M=n(N),T=a("luHD"),A=n(T),O=a("RMtk"),R=n(O),j=a("jEax"),B=n(j),E=a("d7ck"),F=n(E),U=a("FlCz"),$=n(U),H=a("MVgC"),V=n(H),q=a("vl8n"),Q=n(q),Y=a("+WR7"),X=n(Y),G=a("89pA"),W=n(G),z=(a("zWMP"),a("Qg39"));t.default={name:"ApplyWLXQTJForm",mixins:[M.default],components:{Icon:C.default,Cell:_.default,Group:b.default,XInput:I.default,XTextarea:S.default,PopMatter:A.default,PopOrderXqtjList:R.default,Datetime:x.default,FormCell:F.default,PopWarehouseNbjgrkList:B.default,BomList:$.default,BomPop:V.default,RPicker:Q.default,PopBaseinfo:X.default,PopWarehouseList:W.default},data:function(){return{listId:"5e8d89f1-49a5-4089-9c1a-44dc2ce0ae4b",orderList:{},showOrderPop:!1,formData:{biProcessStatus:null,biComment:""},submitSuccess:!1,warehouse:null,numMap:{},transCode:"",formViewUniqueId:"82784823-ded5-4a58-a746-d32514f7d26f",biReferenceId:"",actions:[],taskId:"",matterList:[],entity:{},tmpItems:{},matter:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,warehouseOut:null,warehouseIn:null,warehouseOutParams:{warehouseType:"加工车间仓"},warehouseInParams:{warehouseType:"一般部门仓,个人仓,加工车间仓"}}},methods:{selWarehouseOut:function(e){this.warehouseOut=JSON.parse(e)},selWarehouseIn:function(e){this.warehouseIn=JSON.parse(e)},checkAmt:function(e){var t=e.tdQty,a=e.qtyStock;t&&(e.tdQty=Math.abs((0,z.toFixed)(t)),e.tdQty=t>a?a:e.tdQty)},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,v.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t)},selOrder:function(e){var t=this,a=JSON.parse(e),n={};this.DuplicateBoms=[],a.forEach(function(e){var a=e.transCode+"_"+e.orderCode+"_"+e.inventoryCode,r=t.numMap[a]||{},i=r.tdQty,o=void 0===i?"":i,s=r.warehouseName,l=void 0===s?e.warehouseName:s,d=r.warehouseCode,u=void 0===d?e.warehouseCode:d;e.tdQty=o,e.warehouseName=l,e.warehouseCode=u,n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},findIndex:function(e,t){return e.findIndex(function(e){return e.orderCode===t.orderCode&&e.transCode===t.transCode&&e.inventoryCode===t.inventoryCode})},delClick:function(e,t,a){var n=this.selItems,r=this.findIndex(n,t);if(-1!==r)return void n.splice(r,1);n.push(t)},showSelIcon:function(e){return-1!==this.findIndex(this.selItems,e)},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,v.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,h.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.orderCode===a.orderCode&&t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],r=e.findIndex(n,t);r>=0&&(e.$refs.order.delSelItem(n[r]),n.splice(r,1)),n.length||delete e.orderList[t.transCode]}})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,r=(0,c.default)((0,d.default)(this.orderList));!(e=(n=r.next()).done);e=!0){var i=n.value,o=!0,l=!1,u=void 0;try{for(var f,h=(0,c.default)(i);!(o=(f=h.next()).done);o=!0){var m=f.value;this.numMap[m.transCode+"_"+m.orderCode+"_"+m.inventoryCode]=(0,s.default)({},m)}}catch(e){l=!0,u=e}finally{try{!o&&h.return&&h.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="";if([{key:"warehouseOut",message:"出库仓库"},{key:"warehouseIn",message:"入库仓库"}].every(function(a){return!!e[a.key]||(t="请选择"+a.message,!1)}),t||(0,h.default)(this.orderList).length||(t="请选择物料"),!t){var a=!0,n=!1,r=void 0;try{for(var o,l=(0,c.default)((0,d.default)(this.orderList));!(a=(o=l.next()).done);a=!0){var u=o.value,f=!0,m=!1,p=void 0;try{for(var C,y=(0,c.default)(u);!(f=(C=y.next()).done);f=!0)if(!C.value.tdQty){t="请填写本次入库数量";break}}catch(e){m=!0,p=e}finally{try{!f&&y.return&&y.return()}finally{if(m)throw p}}if(t)break}}catch(e){n=!0,r=e}finally{try{!a&&l.return&&l.return()}finally{if(n)throw r}}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=[],a=L.saveAndStartWf,n={},r=(0,i.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""}),o=!0,l=!1,u=void 0;try{for(var f,h=(0,c.default)((0,d.default)(e.orderList));!(o=(f=h.next()).done);o=!0){var m=f.value,p=!0,C=!1,y=void 0;try{for(var _,g=(0,c.default)(m);!(p=(_=g.next()).done);p=!0){var b=_.value,w={tdId:b.tdId||null,transMatchedCode:b.transCode,orderCode:b.orderCode,transObjCode:b.inventoryCode,inventoryName_transObjCode:b.inventoryName,tdProcessing:b.processing,measureUnit_transObjCode:b.measureUnit,thenQtyStock:b.qtyStock,thenQtyBal:b.qtyBal,tdQty:b.tdQty,comment:b.comment||""};t.push(w)}}catch(e){C=!0,y=e}finally{try{!p&&g.return&&g.return()}finally{if(C)throw y}}}}catch(e){l=!0,u=e}finally{try{!o&&h.return&&h.return()}finally{if(l)throw u}}n=(0,s.default)({},e.formData,{modifer:e.transCode?e.formData.handler:"",handlerEntity:e.entity.dealerName,inPut:{containerCodeOut:e.warehouseOut.warehouseCode,containerCode:e.warehouseIn.warehouseCode,dataSet:t},containerOutWarehouseManager:e.warehouseOut.manager||null,containerInWarehouseManager:e.warehouseIn.manager||null}),e.transCode&&(a=L.saveAndCommitTask,r={businessKey:e.transCode,createdBy:n.creator||n.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var I={listId:e.listId,biComment:"",formData:(0,v.default)(n),wfPara:(0,v.default)(r)};e.processCode.length||(a=L.submitAndCalc,delete I.wfPara),e.transCode&&(I.biReferenceId=e.biReferenceId),e.saveData(a,I)}})},getFormData:function(){var e=this;return(0,k.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,l=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=l;var d={},u=i.inPut,f=u.dataSet,h=void 0===f?[]:f,m=!0,v=!1,p=void 0;try{for(var C,y=(0,c.default)(h);!(m=(C=y.next()).done);m=!0){var _=C.value;_=(0,s.default)({},_,{transCode:_.transMatchedCode,qtyBal:_.thenQtyBal,qtyStock:_.thenQtyStock,inventoryPic:_.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:_.inventoryName_transObjCode,inventoryCode:_.transObjCode,specification:_.specification_transObjCode,processing:_.tdProcessing}),d[_.transCode]||(d[_.transCode]=[]),d[_.transCode].push(_)}}catch(e){v=!0,p=e}finally{try{!m&&y.return&&y.return()}finally{if(v)throw p}}e.warehouseOut={warehouseName:u.warehouseName_containerCodeOut,warehouseType:u.warehouseType_containerCodeOut,warehouseCode:u.containerCodeOut,manager:i.containerOutWarehouseManager},e.warehouseIn={warehouseName:u.warehouseName_containerCode,warehouseType:u.warehouseType_containerCode,warehouseCode:u.containerCode,manager:i.containerInWarehouseManager},e.matterList=h,e.handlerDefault={handler:i.handler,handlerName:i.handlerName,handlerUnit:i.handlerUnit,handlerUnitName:i.handlerUnitName,handlerRole:i.handlerRole,handlerRoleName:i.handlerRoleName},e.formData=(0,s.default)({},e.formData,e.handlerDefault,{biComment:i.biComment,biId:i.biId,biProcessStatus:i.biProcessStatus,creator:i.creator,modifer:i.modifer}),e.biReferenceId=i.biReferenceId,e.orderList=d,e.$loading.hide()})},hasDraftData:function(){return!!(0,d.default)(this.orderList).length&&(0,i.default)({},"NBJGRK_DATA",{orderList:this.orderList,formData:this.formData,warehouseIn:this.warehouseIn,warehouseOut:this.warehouseOut})}},created:function(){var e=sessionStorage.getItem("NBJGRK_DATA");if(e){var t=JSON.parse(e);this.orderList=t.orderList,this.formData=t.formData,this.warehouseOut=t.warehouseOut,this.warehouseIn=t.warehouseIn,sessionStorage.removeItem("NBJGRK_DATA")}}}},"230w":function(e,t){},"24L6":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("kNGm"),s=n(o),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),h=a("AupE"),m=n(h),v=a("kKsb"),p=n(v),C=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",dealerInfo:{}}},mixins:[u.default],components:{workFlow:m.default,RAction:f.default,ProjectPart:p.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=t.formData,r=n.order,o=void 0===r?{}:r;e.attachment=a,e.dealerInfo={dealerName:o.dealerName_dealerCodeCredit,dealerCode:o.dealerCodeCredit,dealerLabelName:o.crDealerLabel,amntBal:o.thenAmntBalCopy2,thenTotalAmntBal:o.thenAlreadyAmnt};var l=n.order.dataSet,d=!0,u=!1,c=void 0;try{for(var f,h=(0,i.default)(l);!(d=(f=h.next()).done);d=!0){var m=f.value;e.count=(0,C.accAdd)(e.count,m.tdAmount)}}catch(e){u=!0,c=e}finally{try{!d&&h.return&&h.return()}finally{if(u)throw c}}t.formData.validUntil=(0,s.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},"24zO":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"each-cell",class:{"vux-1px-b":e.showBottomBorder,"when-is-right":e.textRight}},[a("span",{staticClass:"cell-name"},[e._v(e._s(e.cellTitle)+": ")]),e._v(" "),a("span",{staticClass:"cell-content"},[e.showSymbol?a("span",{staticClass:"symbol"},[e._v("￥")]):e._e(),e._v(e._s(e.cellContent||"无")+"\n  ")])])},r=[],i={render:n,staticRenderFns:r};t.a=i},"271e":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("cell",{attrs:{title:e.title,value:e.currentValue,"is-link":!e.readonly,"value-align":e.valueAlign,"border-intent":e.borderIntent},nativeOn:{click:function(t){return e.show(t)}}},[!e.displayValue&&e.placeholder?a("span",{staticClass:"vux-cell-placeholder"},[e._v(e._s(e.placeholder))]):e._e(),e._v(" "),e.displayValue?a("span",{staticClass:"vux-cell-value"},[e._v(e._s(e.displayValue))]):e._e(),e._v(" "),a("span",{attrs:{slot:"icon"},slot:"icon"},[e._t("icon")],2),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticStyle:{"background-color":"#fff"},on:{"on-hide":function(t){e.$emit("on-hide")},"on-show":function(t){e.$emit("on-show")}},model:{value:e.showPopup,callback:function(t){e.showPopup=t},expression:"showPopup"}},[e._t("popup-header",null,{options:e.options,value:e.currentValue}),e._v(" "),a("radio",{attrs:{options:e.options,"fill-mode":!1},on:{"on-change":e.onValueChange},scopedSlots:e._u([{key:"each-item",fn:function(t){return[e._t("each-item",[a("p",[a("img",{directives:[{name:"show",rawName:"v-show",value:t.icon,expression:"props.icon"}],staticClass:"vux-radio-icon",attrs:{src:t.icon}}),e._v(" "),a("span",{staticClass:"vux-radio-label"},[e._v(e._s(t.label))])])],{icon:t.icon,label:t.label,index:t.index})]}}]),model:{value:e.currentValue,callback:function(t){e.currentValue=t},expression:"currentValue"}})],2)],1)])},r=[],i={render:n,staticRenderFns:r};t.a=i},"274J":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("4YfN"),s=n(o),l=a("kNGm"),d=n(l),u=a("0AQX"),c=a("+VRO"),f=n(c),h=a("BUFe"),m=n(h),v=a("AupE"),p=n(v),C=a("Eyzt"),y=n(C),_=a("bFc7"),g=n(_),b=a("zWMP");a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",contactInfo:{},orderList:{}}},mixins:[f.default],components:{onlyWord:y.default,workFlow:p.default,RAction:m.default,contactPart:g.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=void 0===a?[]:a,r=t.formData,o=void 0===r?{}:r,l=o.order,u=void 0===l?{}:l,c=o.order.dataSet,f=0,h={},m=!0,v=!1,p=void 0;try{for(var C,y=(0,i.default)(c);!(m=(C=y.next()).done);m=!0){var _=C.value;_.inventoryPic=_.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),f=(0,b.accAdd)(f,_.tdAmount),h[_.transMatchedCode]||(h[_.transMatchedCode]=[]),e.orderList=h,h[_.transMatchedCode].push(_)}}catch(e){v=!0,p=e}finally{try{!m&&y.return&&y.return()}finally{if(v)throw p}}e.contactInfo={dealerName:u.dealerName_dealerCodeCredit,dealerMobilePhone:o.dealerCreditContactInformation,dealerContactPersonName:o.dealerCreditContactPersonName,dealerCode:u.dealerCodeCredit,province:u.province_dealerCodeCreditt,city:u.city_dealerCodeCreditt,county:u.county_dealerCodeCredit,address:u.address_dealerCodeCredit},e.attachment=n,e.count=f,o.invoiceDate=(0,d.default)(o.invoiceDate,"YYYY-MM-DD"),e.orderInfo=(0,s.default)({},o,u),e.workFlowInfoHandler()})},judgeDealerConfig:function(e){var t=this.orderInfo.crDealerPaymentTerm.includes("账期"),a=["pamentDays_dealerCodeCredit"];e.forEach(function(e){a.includes(e.fieldCode)&&(e.hiddenInRun=!t)})}}}},"27Fo":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("YP5q"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"confirm",components:{XDialog:r.default},props:{value:{type:Boolean,default:!1},showInput:{type:Boolean,default:!1},placeholder:{type:String,default:""},theme:{type:String,default:"ios"},hideOnBlur:{type:Boolean,default:!1},title:String,confirmText:String,cancelText:String,maskTransition:{type:String,default:"vux-fade"},maskZIndex:[Number,String],dialogTransition:{type:String,default:"vux-dialog"},content:String,closeOnConfirm:{type:Boolean,default:!0},inputAttrs:Object,showContent:{type:Boolean,default:!0},confirmType:{type:String,default:"primary"}},created:function(){this.showValue=this.show,this.value&&(this.showValue=this.value)},watch:{value:function(e){this.showValue=e},showValue:function(e){var t=this;this.$emit("input",e),e&&(this.showInput&&(this.msg="",setTimeout(function(){t.$refs.input&&t.setInputFocus()},300)),this.$emit("on-show"))}},data:function(){return{msg:"",showValue:!1}},methods:{getInputAttrs:function(){return this.inputAttrs||{type:"text"}},setInputValue:function(e){this.msg=e},setInputFocus:function(e){e&&e.preventDefault(),this.$refs.input.focus()},_onConfirm:function(){this.showValue&&(this.closeOnConfirm&&(this.showValue=!1),this.$emit("on-confirm",this.msg))},_onCancel:function(){this.showValue&&(this.showValue=!1,this.$emit("on-cancel"))}}}},"28/3":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages fgysqk-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{request:"1","default-value":e.dealerInfo},on:{"sel-item":e.selDealer}},[a("template",{slot:"other"},[a("div",{staticClass:"amt-dealer"},[a("span",{staticClass:"amt-dealer-item"},[e._v("本次申请: "+e._s(e._f("numberComma")(e.applicationAmount,3)))])])])],2),e._v(" "),a("div",{staticClass:"materiel_list"},[e.orderList.length?[a("div",{staticClass:"title"},[e._v("定金明细")]),e._v(" "),e._l(e.orderList,function(t,n){return a("div",{key:n,staticClass:"order-detail",class:{"vux-1px-t":0!==n}},[a("div",{staticClass:"detail-item top"},[a("span",{staticClass:"info-item"},[e._v(e._s(t.transCode))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"info-item"},[e._v("总金额: "+e._s(e._f("numberComma")(t.thenAmntBal,3)))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("采购定金: "+e._s(e._f("numberComma")(t.amount,3)))])]),e._v(" "),a("cell",{attrs:{title:"已付定金","text-align":"right",value:e._f("numberComma")(t.amnted,3)}}),e._v(" "),a("cell",{attrs:{"text-align":"right",value:e._f("numberComma")(t.deposit,3)}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("待付定金")])])],2),e._v(" "),a("x-input",{attrs:{"text-align":"right",placeholder:"请填写",type:"number"},on:{"on-blur":function(a){e.checkAmt(t,"tdAmount")},"on-focus":function(t){e.getFocus(t)}},model:{value:t.tdAmount,callback:function(a){e.$set(t,"tdAmount",e._n(a))},expression:"item.tdAmount"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("本次申请")])])],2)],1)})]:a("div",{staticClass:"order-info",on:{click:function(t){e.showOrder=!0}}},[a("div",{staticClass:"title"},[e._v("定金明细")]),e._v(" "),a("div",{staticClass:"mode"},[e._v("请选择定金明细")]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r-arrow"})])],2),e._v(" "),e.orderList.length?a("div",{staticClass:"handle_part vx-1px-t"},[e.orderList.length?a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多")]):e._e()]):e._e(),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"其他信息"}},[a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-earnest-money-list",{attrs:{show:e.showOrder,params:e.dealerParams,"default-value":e.orderList},on:{"sel-item":e.selOrder},model:{value:e.showOrder,callback:function(t){e.showOrder=t},expression:"showOrder"}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},"29i7":function(e,t){},"2C8I":function(e,t,a){"use strict";function n(e){a("OsAX")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("jPz7");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("gGdS"),s=a.n(o),l=a("pHOl"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-6761126a",null);t.default=c.exports},"2CKT":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noCount:"",noPrice:""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},"2D7A":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper nbjdgg-detail-container"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"materiel_list"},[e._m(0),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n){return a("div",{key:n,staticClass:"each_mater"},[a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v("计划号")]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]),e._v(" "),a("div",{staticClass:"order_matter"},[e._l(t,function(n,r){return[a("matter-item",{class:{"vux-1px-b":r<t.length-1},attrs:{item:n},scopedSlots:e._u([{key:"other",fn:function(t){var n=t.item;return a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_num"},[a("span",{staticClass:"num"},[e._v("\n                      本次下单: "+e._s(e._f("toFixed")(n.tdQty))+"\n                    ")]),e._v(" "),a("span",{staticClass:"units"},[e._v("\n                      [待下单余额: "+e._s(e._f("toFixed")(n.thenQtyBal))+"]\n                    ")]),e._v(" "),a("span",{staticClass:"get_bom",on:{click:function(t){e.checkBom(n)}}},[e._v("查看原料")])]),e._v(" "),a("div",{staticClass:"mater_num"},[n.shippingTime?a("span",{staticClass:"num"},[e._v("\n                      主计划完工入库日: "+e._s(n.shippingTime)+"\n                    ")]):e._e()])])}}])})]})],2)])}),0)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.UniqueBom.length,expression:"UniqueBom.length"}],staticClass:"bom_list"},[a("bom-list",{attrs:{boms:e.UniqueBom},scopedSlots:e._u([{key:"number",fn:function(t){var n=t.bom;return[a("div",{staticClass:"number-part"},[a("span",{staticClass:"main-number"},[e._v("领料需求: "+e._s(n.tdQty)+e._s(n.measureUnit))])])]}}])})],1),e._v(" "),a("bom-pop",{staticClass:"bom_pop",attrs:{show:e.bomPopShow,bomInfo:e.bom,"is-edit":!1},scopedSlots:e._u([{key:"number",fn:function(t){var n=t.bom;return[a("div",{staticClass:"number-part"},[a("span",{staticClass:"main-number"},[e._v("领料需求: "+e._s(n.tdQty)+e._s(n.measureUnit))])])]}}]),model:{value:e.bomPopShow,callback:function(t){e.bomPopShow=t},expression:"bomPopShow"}}),e._v(" "),a("other-part",{attrs:{"other-info":e.orderInfo,attachment:e.attachment}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title"},[a("span",{staticClass:"iconfont icon-Shape"}),e._v("物料列表\n      ")])}],i={render:n,staticRenderFns:r};t.a=i},"2F8C":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("3cXf"),s=n(o),l=a("IHPB"),d=n(l),u=a("MjAd"),c=n(u),f=a("1WsH");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"管理类",status:"M"},{name:"营销类",status:"Y"},{name:"技术类",status:"J"},{name:"专业类",status:"Z"},{name:"操作类",status:"C"}],biStatus:"",filterList:[{name:"职位名称",value:"name"}],activeName:""}},mixins:[c.default],methods:{getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=[];return this.activeTab.length&&(a=[{operator:"in",value:this.activeTab,property:"type"}]),this.serachVal&&(a=[].concat((0,d.default)(a),[{operator:"like",value:this.serachVal,property:"name"}]),this.activeTab.length&&(a[0].attendedOperation="and")),(0,f.getJobList)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(a),sort:(0,s.default)([{property:"crtTime",direction:"DESC"}])}).then(function(a){var n=a.dataCount,r=void 0===n?0:n,i=a.tableContent,o=void 0===i?[]:i;e.hasNext=r>(e.page-1)*e.limit+o.length,o.forEach(function(t){var a=["","使用中","未使用","草稿"];switch(t.status=a[t.status]||"停用",e.setStatus(t),t.type){case"Y":t.changeType="营销类";break;case"Z":t.changeType="专业类";break;case"J":t.changeType="技术类";break;case"C":t.changeType="操作类";break;case"M":t.changeType="管理类"}}),e.listData=1===e.page?o:e.listData.concat(o),t||e.$nextTick(function(){e.resetScroll()});var s="";t&&0===e.activeIndex&&e.total&&(s=r-e.total==0?"暂无新数据":s="新增"+(r-e.total)+"条数据",e.$vux.toast.show({text:s,position:"top",width:"50%",type:"text",time:700})),0===e.activeIndex&&1===e.page&&sessionStorage.setItem(e.applyCode,r),e.$loading.hide()}).catch(function(t){e.resetScroll()})},goNextPage:function(e,t,a){var n=this;if(!this.clickVisited){var r=this.$route.query.name,o=this.$route.params,s=o.folder,l=o.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,i.default)({},e));var d=a+"/"+s+"/"+l;setTimeout(function(){n.clickVisited=!1,n.$router.push({path:d,query:{name:r,id:e.id}})},200)}},goDetail:function(e,t){this.goNextPage(e,t,"/detail")},tabClick:function(e,t){this.activeIndex=t,this.activeTab=e.status,this.activeName="全部"===e.name?"":e.name,this.resetCondition(),this.getList()},goEdit:function(){var e=this.$route.query.name,t=this.$route.params,a=t.folder,n=t.fileName;this.$router.push({path:"/fillform/"+a+"/"+n,query:{name:e,jobType:this.activeName}})},setStatus:function(e){switch(e.status){case"使用中":e.statusClass="duty_done_c";break;default:e.statusClass="duty_fall_c"}}}}},"2KqP":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("KH7x"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(void 0===e||!/^-?\d*\.?\d*$/.test(e))return console.error("the value can not change to number"),"";var a=(""+e).split("."),n=(0,r.default)(a,2),i=n[0],o=void 0===i?"":i,s=n[1],l=void 0===s?"":s;return l.length<t&&(l=""+l+"0".repeat(t-l.length)),l.length!==t&&(l=l.substr(0,t)+"."+l.substr(t),l=""+Math.round(l),l.length<t&&(l=""+"0".repeat(t-l.length)+l)),parseFloat(o+"."+l)}},"2PKd":function(e,t,a){function n(e){return a(r(e))}function r(e){var t=i[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var i={"./consumable/DZYHPCGDDForm.vue":"ZVeX","./consumable/DZYHPCGSQForm.vue":"J0vH","./consumable/DZYHPCGYSYZFForm.vue":"9B9Q","./contacts/COMPANYForm.vue":"1d9+","./contacts/JOBForm.vue":"Ndqp","./contacts/USERForm.vue":"qP7K","./equipment/SBCGDDForm.vue":"F0gW","./equipment/SBCGSQForm.vue":"4B3i","./equipment/SBCGYSForm.vue":"/Z5K","./finance/BXYZFForm.vue":"HE6I","./finance/CRCDHPForm.vue":"JSOx","./finance/DFCDHPForm.vue":"uKpr","./finance/DXTXCDHPForm.vue":"FKOt","./finance/FGYSDJForm.vue":"kY/w","./finance/FGYSQKForm.vue":"8Ofw","./finance/FKForm.vue":"moVi","./finance/FYBXForm.vue":"MOhR","./finance/JKYBYJForm.vue":"4qY7","./finance/KCCDHPForm.vue":"pLZ0","./finance/SDCDHPForm.vue":"lOVW","./finance/SKForm.vue":"PYXE","./finance/XMFYBXForm.vue":"/8Dd","./finance/YBFYBXForm.vue":"Pibe","./finance/ZZSKPForm.vue":"G70E","./finance/ZZSSPForm.vue":"NgDr","./hr/YGDAForm.vue":"IIvl","./hr/YGLZForm.vue":"ShHt","./hr/YGRZForm.vue":"5O+N","./hr/ZPJHForm.vue":"zqN1","./leave/QJForm.vue":"2C8I","./plan/BHDDForm.vue":"UXCm","./plan/CGSQForm.vue":"T5Lg","./plan/WLXQJHForm.vue":"YOAB","./plan/WLXQTJForm.vue":"4cUA","./plan/XSDDYCForm.vue":"TIeJ","./product/CPBUGForm.vue":"fjBS","./product/CPFBForm.vue":"rNne","./product/CPXQForm.vue":"4tO6","./production/BDKCDBForm.vue":"aOGo","./production/CGRKForm.vue":"rt7l","./production/CGTHCKForm.vue":"pGm1","./production/GDBLLForm.vue":"Uge5","./production/GDRWForm.vue":"D9b3","./production/GDRWQDForm.vue":"ow/D","./production/GDYSForm.vue":"lpBF","./production/KCPDForm.vue":"6PGQ","./production/NBJGDDForm.vue":"ZhmJ","./production/NBJGLLForm.vue":"gG5v","./production/NBJGRKForm.vue":"2zpj","./production/WGYRKForm.vue":"W8W0","./production/WGZJRKForm.vue":"U0ny","./production/XSCKForm.vue":"+KBO","./production/XSTHForm.vue":"Ay9B","./project/RWRZForm.vue":"b/Lx","./project/XMJHForm.vue":"HcOF","./project/XMJXForm.vue":"SEjj","./project/XMLXForm.vue":"fPYh","./project/XMRWForm.vue":"ezSw","./purchase/CGDDForm.vue":"yv4D","./purchase/CGXYForm.vue":"yPF3","./sale/CPJGForm.vue":"eeRS","./sale/KPSQForm.vue":"MLSZ","./sale/SJForm.vue":"ewRl","./sale/XSBJForm.vue":"DTDx","./sale/XSDDForm.vue":"rYhG","./sale/XSHTForm.vue":"fg8O"};n.keys=function(){return Object.keys(i)},n.resolve=r,e.exports=n,n.id="2PKd"},"2RZr":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"Project",props:{projectInfo:{type:Object,default:function(){return{}}}},data:function(){return{}}}},"2TA+":function(e,t,a){"use strict";function n(e){a("17R/")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("Wkhp");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("ebgK"),s=a.n(o),l=a("m0ev"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-6877fe6e",null);t.default=c.exports},"2UA4":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages xmlx-list-container",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId,hasFormStatus:!1},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"instance-item-wrapper",class:{visited:t.visited},on:{click:function(a){e.goDetail(t,n)}}},[a("div",{staticClass:"instance-main"},[a("div",{staticClass:"instance-header"},[a("span",{staticClass:"instance_code vux-1px-l"},[e._v(e._s(t.transCode))]),e._v(" "),a("span",{staticClass:"instance_status",class:t.statusClass},[e._v(e._s(t.biStatus))])]),e._v(" "),a("div",{staticClass:"instance-project-type"},[a("span",{staticClass:"text"},[e._v(e._s(t.projectType_projectApprovalId))]),e._v(" "),a("span",{staticClass:"instance_process_status"},[e._v(e._s(t.biProcessStatus||"暂无流程"))])]),e._v(" "),a("div",{staticClass:"instance-project-container"},[a("i",{staticClass:"icon-project"}),e._v(" "),a("div",{staticClass:"instance_project_detail"},[a("div",{staticClass:"project_detail_top"},[a("div",{staticClass:"project_name"},[e._v(e._s(t.projectName_projectApprovalId))])]),e._v(" "),a("div",{staticClass:"project_detail_bottom"},[a("div",[a("div",{staticClass:"project_detail_item"},[a("span",{staticClass:"project_detail_title"},[e._v("项目经理：")]),e._v(" "),a("span",{staticClass:"project_detail_value"},[e._v(e._s(t.dealerName_dealerDebit))])]),e._v(" "),a("div",{staticClass:"project_detail_item"},[a("span",{staticClass:"project_detail_title"},[e._v("经理电话：")]),e._v(" "),a("span",{staticClass:"project_detail_value"},[e._v(e._s(t.dealerMobilePhone_dealerDebit||"无"))])])])])])])]),e._v(" "),a("div",{staticClass:"instance-bottom vux-1px-t"},[a("div",{staticClass:"instance-bottom-wrapper"},[a("div",{staticClass:"instance_bottom_item instance_handler",class:{"when-is-more":t.handlerName.length>3}},[a("i",{staticClass:"icon icon-handler"}),e._v(" "),a("span",[e._v("经办人："+e._s(t.handlerName))])]),e._v(" "),a("div",{staticClass:"instance_bottom_item instance_mod_time"},[a("i",{staticClass:"icon icon-mod-time"}),e._v(" "),a("span",[e._v("修改时间："+e._s(e._f("dateFormat")(t.modTime,"YYYY-MM-DD HH:mm")))])])])])])}),0)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},"2VjE":function(e,t){},"2dIu":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.contactInfo.dealerName||e.contactList.length,expression:"contactInfo.dealerName || contactList.length"}],staticClass:"pop-contact-list"},[n("div",{staticClass:"contact-content vux-1px-t",on:{click:function(t){e.showPop=!e.showPop}}},[n("div",{staticClass:"contact-info"},[e.contactInfo.dealerName?[n("div",[n("span",{staticClass:"dealer-name"},[e._v(e._s(e.contactInfo.dealerName))]),e._v(" "),n("span",[e._v(e._s(e.contactInfo.dealerMobilePhone))])])]:[n("span",[e._v("请选择联系人")])],e._v(" "),n("span",{staticClass:"icon-right"})],2)]),e._v(" "),n("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[n("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[n("div",{staticClass:"trade_pop"},[n("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.contactList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.contactList,function(t,r){return n("div",{key:r,staticClass:"each-people box_sd",class:{selected:e.showSelIcon(t)},on:{click:function(a){a.stopPropagation(),e.selContact(t,r)}}},[n("div",{staticClass:"mater_main "},[n("div",{staticClass:"mater_info"},[n("div",{staticClass:"user_photo"},[n("img",{attrs:{src:a("Fuf7"),alt:"mater_img"}})]),e._v(" "),n("div",{staticClass:"pop-list-info"},[n("div",{staticClass:"user_name"},[e._v(e._s(t.dealerName))]),e._v(" "),n("div",{staticClass:"user_code"},[t.dealerMobilePhone?n("span",[e._v(e._s(t.dealerMobilePhone))]):e._e(),e._v(" "),t.dealerPhone?n("span",[e._v(e._s(t.dealerPhone))]):e._e()])])])])])}),0)],1)])],1)])},r=[],i={render:n,staticRenderFns:r};t.a=i},"2dUZ":function(e,t){},"2g1V":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,dealerTitle:"供应商","default-contact":e.contactInfo,"dealer-params":e.dealerParams},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("dealer-other-part",{attrs:{"dealer-config":e.dealerConfig,"dealer-info":e.dealerInfo},model:{value:e.dealerInfo,callback:function(t){e.dealerInfo=t},expression:"dealerInfo"}}),e._v(" "),a("pop-warehouse-list",{attrs:{isRequired:"","default-value":e.warehouse,"default-store":e.warehouseStoreInfo,"is-show-store":""},on:{"sel-item":e.selWarehouse,"get-store":e.getStore}}),e._v(" "),a("apply-matter-part",{attrs:{"show-materiel-pop":e.showMaterielPop,"show-matter-pop":e.showMatterPop,"filter-list":e.filterList,actions:e.actions,btnInfo:e.btnInfo,"matter-list":e.orderList,"default-value":e.matterList,"matter-pop-config":e.matterPopConfig,"matter-edit-config":e.matterEditConfig,"order-list-title":e.orderListTitle,"matter-params":e.matterParams,"add-matter-fn":e.addMatter,"sel-matter-fn":e.selMatter,"sel-items":e.selItems,"matter-modify-class":e.matterModifyClass,"stop-order-fn":e.stopOrder,"get-matter-modify-fn":e.getMatterModify,"show-delete-fn":e.showDelete,"show-sel-icon-fn":e.showSelIcon,"del-click-fn":e.delClick,"chosen-matter":e.matter,"check-amt-fn":e.checkAmt,"sel-confirm-fn":e.selConfirm,"btn-is-hide":e.btnIsHide},on:{"show-down-modify-pop":e.shutDownModify},scopedSlots:e._u([{key:"rNumber",fn:function(t){var n=t.item;return[a("r-number",{attrs:{num:n.qualityQty,max:Number(n.qtyBal)},model:{value:n.qualityQty,callback:function(t){e.$set(n,"qualityQty",t)},expression:"item.qualityQty"}})]}}]),model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("op-button",{attrs:{"is-modify":e.matterModifyClass,hide:e.btnIsHide,"td-amount":e.tdAmount,"tax-amount":e.taxAmount,"all-check":e.selItems.length===e.matterList.length},on:{"on-submit":e.submitOrder,"on-check-all":e.checkAll,"on-delete":e.deleteCheckd}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},"2hEA":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"loadding"},[a("spinner",{attrs:{type:"ripple",size:"50px"}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},"2jGX":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("3cXf"),s=n(o),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),h=n(f),m=a("+62G"),v=n(m),p=a("6q39"),C=n(p),y=a("fEP3"),_=a("1KNX"),g=n(_),b=a("7biW"),w=n(b);t.default={name:"PopCompanyList",props:{defaultValue:{type:Object,default:function(){return{}}},show:{type:Boolean,default:!1}},directives:{TransferDom:v.default},components:{Icon:c.default,Popup:h.default,RScroll:g.default,DSearch:w.default,LoadMore:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:function(e){this.setDefaultValue()}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1,this.$emit("input",!1)},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this.getList()},showSelIcon:function(e){return this.selItems.facilityName===e.facilityName},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.$emit("sel-item",this.selItems)},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"facilityName"}])),(0,y.getObjFacility)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+i.length,e.listData=1===e.page?i:[].concat((0,d.default)(e.listData),(0,d.default)(i)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.selItems=this.defaultValue?(0,i.default)({},this.defaultValue):{}}},created:function(){this.setDefaultValue(),this.getList()}}},"2q+T":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("MgeX"),i=n(r),o=a("a3Yh"),s=n(o),l=a("ZLEe"),d=n(l),u=a("HzJ8"),c=n(u),f=a("3cXf"),h=n(f),m=a("4YfN"),v=n(m),p=a("KH7x"),C=n(p),y=a("PzEQ"),_=n(y),g=a("kNGm"),b=n(g),w=a("0AQX"),I=a("HyXB"),D=a("bKg5"),x=n(D),P=a("y8YJ"),S=n(P),k=a("lsbD"),L=n(k),N=a("89pA"),M=n(N),T=a("+WR7"),A=n(T),O=a("7cdy"),R=n(O),j=a("hLfv"),B=n(j),E=a("Q67R"),F=n(E),U=a("zWMP"),$=a("Qg39");t.default={name:"ApplyXSCKForm",mixins:[x.default],components:{XTextarea:_.default,OpButton:L.default,PopBaseinfo:A.default,PopDealerList:S.default,PopWarehouseList:M.default,ApplyMatterPart:F.default,PopSodlProjectList:R.default,DealerOtherPart:B.default},data:function(){return{taxRate:.16,formViewUniqueId:"346ede09-ac6a-489a-9242-f385932a4443",modifyKey:null,modifyIndex:null,showMatterPop:!1,submitSuccess:!1,warehouse:{warehouseType:"一般部门仓",warehouseName:"成品仓",warehouseCode:"FG0001"},taskId:"",transCode:"",biReferenceId:"",actions:[],matterList:[],numMap:{},matter:{},project:{},orderList:{},dealerInfo:{},contactInfo:{},warehouseStoreInfo:{},formData:{drDealerLogisticsTerms:"",biComment:""}}},watch:{orderListTitle:function(e){e.includes("订单")?this.filterList=[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"订单编码",value:"transCode"}]:this.filterList=[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"}]}},methods:{selDealer:function(e){var t=JSON.parse(e),a=(0,C.default)(t,1),n=a[0],r=n.pamentDays,i=r?(0,b.default)(Date.now()+(0,U.accMul)(r,864e5),"YYYY-MM-DD"):"";this.dealerInfo=(0,v.default)({},n,{accountExpirationDate:i,daysOfAccount:n.pamentDays,drDealerPaymentTerm:n.paymentTerm,drDealerLogisticsTerms:n.dealerLogisticsTerms}),this.matterParams.data&&null!=this.matterParams.data.dealerCode&&(this.matterParams.data.dealerCode=this.dealerInfo.dealerCode,this.matterList=[],this.orderList={})},selContact:function(e){this.contactInfo=(0,v.default)({},e)},selWarehouse:function(e){this.warehouse=JSON.parse(e),this.matterParams.data&&null!=this.matterParams.data.whCode&&(this.matterParams.data.whCode=this.warehouse.warehouseCode,this.matterList=[],this.orderList={})},getStore:function(e){console.log(e),this.warehouseStoreInfo=(0,v.default)({},e),this.matterParams.data&&null!=this.matterParams.data.storehouseCode&&(this.matterParams.data.storehouseCode=this.warehouseStoreInfo.warehouseCode,this.matterList=[],this.orderList={})},getMatterModify:function(e,t,a){this.matter=JSON.parse((0,h.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.inventoryCode!==e.inventoryCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getMatter:function(){if(!this.dealerInfo.dealerCode)return void this.$vux.alert.show({content:"请选择客户"});this.showMaterielPop=!this.showMaterielPop},selMatter:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){var a=!0,r=!1,i=void 0;try{for(var o,s=(0,c.default)(t.matterEditConfig.editPart);!(a=(o=s.next()).done);a=!0){var l=o.value;if("break"===function(t){if("assMeasureUnit"===t.fieldCode){var a={url:t.dataSource.data.url,data:{inventoryCode:e.inventoryCode}};return(0,I.requestData)(a).then(function(e){var a=e.tableContent,n=void 0===a?[]:a;n.forEach(function(e){e.name=e.invSubUnitName,e.value=e.invSubUnitName}),t.remoteData=n}),"break"}}(l))break}}catch(e){r=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(r)throw i}}for(var d in t.dataIndexMap)e[d]="promDeliTime"===d?(0,b.default)(e[t.dataIndexMap[d]],"YYYY-MM-DD")||"":e[d]||e[t.dataIndexMap[d]];e.transCode?(n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e),console.log(n)):(n.noCode||(n.noCode=[]),n.noCode.push(e))}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t,a){var n=this.selItems,r=null;if(-1!==(r=e.transCode?n.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode}):n.findIndex(function(t){return t.inventoryCode===e.inventoryCode})))return void n.splice(r,1);n.push(e)},showSelIcon:function(e){return e.transCode?-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode}):-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,h.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,d.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(a.transCode){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],r=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});r>=0&&n.splice(r,1),n.length||delete e.orderList[t.transCode]}}else if(t.inventoryCode===a.inventoryCode){var i=e.orderList.noCode,o=i.findIndex(function(e){return e.inventoryCode===t.inventoryCode});o>=0&&i.splice(o,1),i.length||delete e.orderList.noCode}}),e.matterList.forEach(function(t,n){t.transCode?t.transCode===a.transCode&&t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--):t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},submitOrder:function(){var e=this,t="",a=[],n=[{key:"dealerInfo",childKey:"dealerCode",message:"客户信息"},{key:"dealerInfo",childKey:"paymentTerm",message:"结算方式"},{key:"warehouse",childKey:"warehouseCode",message:"仓库"},{key:"warehouseStoreInfo",childKey:"warehouseCode",message:"库位"}];t||n.every(function(a){return a.childKey&&!e[a.key][a.childKey]?(t="请选择"+a.message,!1):!!e[a.key]||(t="请选择"+a.message,!1)}),t||(0,d.default)(this.orderList).length||(t="请选择物料");var r=!0,o=!1,l=void 0;try{for(var u,f=(0,c.default)((0,i.default)(this.orderList));!(r=(u=f.next()).done);r=!0){var m=u.value,p=!0,C=!1,y=void 0;try{for(var _,g=(0,c.default)(m);!(p=(_=g.next()).done);p=!0){var b=_.value,w={},D=!0,x=!1,P=void 0;try{for(var S,k=(0,c.default)(this.submitMatterField);!(D=(S=k.next()).done);D=!0){var L=S.value;if(!L.hidden&&!L.allowBlank&&!b[L.fieldCode]){t=L.text+"不为空";break}w[L.fieldCode]=null!=b[L.fieldCode]?b[L.fieldCode]:null}}catch(e){x=!0,P=e}finally{try{!D&&k.return&&k.return()}finally{if(x)throw P}}a.push(w)}}catch(e){C=!0,y=e}finally{try{!p&&g.return&&g.return()}finally{if(C)throw y}}}}catch(e){o=!0,l=e}finally{try{!r&&f.return&&f.return()}finally{if(o)throw l}}if(t)return void this.$vux.alert.show({content:t});console.log(a),this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=I.saveAndStartWf,n={},r=(0,s.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});n=(0,v.default)({},e.formData,{modifer:e.transCode?e.formData.handler:"",dealerDebitContactPersonName:e.contactInfo.dealerName||"",dealerDebitContactInformation:e.contactInfo.dealerMobilePhone||"",containerOutWarehouseManager:e.warehouse.containerOutWarehouseManager||null,handlerEntity:e.entity.dealerName,drDealerLogisticsTerms:e.dealerInfo.dealerLogisticsTerms,outPut:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName||"客户",drDealerPaymentTerm:e.dealerInfo.paymentTerm,daysOfAccount:e.dealerInfo.pamentDays,accountExpirationDate:e.dealerInfo.accountExpirationDate,containerCodeOut:e.warehouse.warehouseCode,project:e.project.projectName||null,departmentName:e.formData.handlerUnitName,storehouseOutCode:e.warehouseStoreInfo.warehouseCode,dataSet:a}}),e.transCode&&(t=I.saveAndCommitTask,r={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,h.default)(n),wfPara:(0,h.default)(r)};e.transCode||delete i.biReferenceId,e.processCode.length||(t=I.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,w.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,s=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=s;var l={},d=i.outPut,u=d.dataSet,f=void 0===u?[]:u,h=!0,m=!1,p=void 0;try{for(var C,y=(0,c.default)(f);!(h=(C=y.next()).done);h=!0){var _=C.value;_.transCode=_.transMatchedCode,_.qtyBal=_.thenQtyBal,_.qtyStockBal=_.thenQtyStock,_.inventoryPic=_.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),_.inventoryName=_.inventoryName_outPutMatCode,_.inventoryCode=_.outPutMatCode,_.specification=_.specification_outPutMatCode,_.processing=_.tdProcessing,_.qty=_.thenTotalQtyBal,_.stockQty=_.thenLockQty,_.clientInventoryName=_.dealerInventoryName,_.clientInventoryCode=_.dealerInventoryCode,l[_.transCode]||(l[_.transCode]=[]),l[_.transCode].push(_)}}catch(e){m=!0,p=e}finally{try{!h&&y.return&&y.return()}finally{if(m)throw p}}e.matterList=f,e.dealerInfo={creatorName:i.dealerDebitContactPersonName,dealerName:d.dealerName_dealerDebit,dealerMobilePhone:i.dealerDebitContactInformation,dealerCode:d.dealerDebit,dealerLabelName:d.drDealerLabel,province:d.province_dealerDebit,city:d.city_dealerDebit,county:d.county_dealerDebit,address:d.address_dealerDebit,paymentTerm:d.drDealerPaymentTerm,drDealerPaymentTerm:d.drDealerPaymentTerm,dealerLogisticsTerms:i.drDealerLogisticsTerms,drDealerLogisticsTerms:i.drDealerLogisticsTerms,pamentDays:d.daysOfAccount,daysOfAccount:d.daysOfAccount,accountExpirationDate:d.accountExpirationDate},e.contactInfo={dealerName:i.dealerDebitContactPersonName,dealerMobilePhone:i.dealerDebitContactInformation},e.warehouse={warehouseCode:d.containerCodeOut,warehouseName:d.warehouseName_containerCodeOut,warehouseType:d.warehouseType_containerCodeOut,warehouseProvince:d.warehouseProvince_containerCodeOut,warehouseCity:d.warehouseCity_containerCodeOut,warehouseDistrict:d.warehouseDistrict_containerCodeOut,warehouseAddress:d.warehouseAddress_containerCodeOut,containerOutWarehouseManager:i.containerOutWarehouseManager},e.warehouseStoreInfo={warehouseCode:d.storehouseOutCode,warehouseName:d.warehouseName_storehouseOutCode,warehouseType:d.warehouseType_storehouseOutCode,warehouseProvince:d.warehouseProvince_storehouseOutCode,warehouseCity:d.warehouseCity_storehouseOutCode,warehouseDistrict:d.warehouseDistrict_storehouseOutCode,warehouseAddress:d.warehouseAddress_storehouseOutCode},e.matterParams.data&&(null!=e.matterParams.data.dealerCode&&(e.matterParams.data.dealerCode=e.dealerInfo.dealerCode),null!=e.matterParams.data.storehouseCode&&(e.matterParams.data.storehouseCode=e.warehouseStoreInfo.warehouseCode)),e.handlerDefault={handler:i.handler,handlerName:i.handlerName,handlerUnit:i.handlerUnit,handlerUnitName:i.handlerUnitName,handlerRole:i.handlerRole,handlerRoleName:i.handlerRoleName},e.formData=(0,v.default)({},e.formData,e.handlerDefault,{biComment:i.biComment,biId:i.biId,biProcessStatus:i.biProcessStatus,creator:i.creator,modifer:i.modifer,drDealerLogisticsTerms:i.drDealerLogisticsTerms}),e.project={projectName:d.project},e.biReferenceId=i.biReferenceId,e.orderList=l,e.$loading.hide()})},hasDraftData:function(){return!!(0,i.default)(this.orderList).length&&(0,s.default)({},"XSCK_DATA",{orderList:this.orderList,warehouse:this.warehouse,dealerInfo:this.dealerInfo,contactInfo:this.contactInfo,formData:this.formData,project:this.project,warehouseStoreInfo:this.warehouseStoreInfo,matterParams:this.matterParams})},checkAmt:function(e,t,a){console.log("item:",e);e.thenQtyStock;e[t]=Math.abs((0,$.toFixed)(a))}},created:function(){var e=sessionStorage.getItem("XSCK_DATA");if(e){var t=JSON.parse(e);this.orderList=t.orderList;var a=!0,n=!1,r=void 0;try{for(var o,s=(0,c.default)((0,i.default)(this.orderList));!(a=(o=s.next()).done);a=!0){var l=o.value,d=!0,u=!1,f=void 0;try{for(var h,m=(0,c.default)(l);!(d=(h=m.next()).done);d=!0){var v=h.value;this.matterList.push(v)}}catch(e){u=!0,f=e}finally{try{!d&&m.return&&m.return()}finally{if(u)throw f}}}}catch(e){n=!0,r=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw r}}this.warehouse=t.warehouse,this.dealerInfo=t.dealerInfo,this.contactInfo=t.contactInfo,this.formData=t.formData,this.warehouseStoreInfo=t.warehouseStoreInfo,this.project=t.project,this.matterParams=t.matterParams,sessionStorage.removeItem("XSCK_DATA")}}}},"2rRD":function(e,t){},"2vTR":function(e,t){},"2y58":function(e,t,a){"use strict";function n(e){a("UvnP")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("27Fo");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("kgls"),s=a.n(o),l=a("w1nj"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,null,null);t.default=c.exports},"2zpj":function(e,t,a){"use strict";function n(e){a("Rct8")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("2/ZN");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("FlD1"),s=a.n(o),l=a("9xkf"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-a47ed86a",null);t.default=c.exports},"34GS":function(e,t){},"383K":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("kNGm"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"contactPart",props:{contactInfo:{type:Object,default:function(){return{}}},configs:{type:Array,default:function(){return[]}},showAddress:{type:Boolean,default:!0}},filters:{dateFormat:r.default}}},"3Ex/":function(e,t,a){"use strict";function n(e){a("jOKW")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("VvlX");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("5fEC"),s=a.n(o),l=a("2CKT"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-2963a911",null);t.default=c.exports},"3Gm0":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("m-search",{attrs:{filterList:e.filterList,isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.workList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.workList,function(t,n){return a("div",{key:n,staticClass:"each-work box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"work-main"},[a("div",{staticClass:"work_top"},[a("span",{staticClass:"code_name"},[e._v("物料编码")]),e._v(" "),a("span",{staticClass:"work_code"},[e._v(e._s(t.inventoryCode))])]),e._v(" "),a("div",{staticClass:"work_mid vux-1px-b"},[a("div",{staticClass:"product_name"},[e._v("\n                "+e._s(t.inventoryName)+"\n              ")])]),e._v(" "),a("div",{staticClass:"work_btm vux-1px-b"},[a("div",{staticClass:"procedure_name"},[a("span",[e._v(e._s(t.procedureName))]),e._v(" "),a("span",{staticClass:"symbol"},[e._v("[工序编码: "+e._s(t.proPointCode)+"]")])]),e._v(" "),a("div",{staticClass:"procedure_unit"},[a("span",{staticClass:"each_unit"},[e._v("工序待启动: "+e._s(t.thenQtyBal))]),e._v(" "),a("span",{staticClass:"each_unit"},[e._v("被派人: "+e._s(t.dealerName))]),e._v(" "),a("span",{staticClass:"each_unit"},[e._v("往来标签: "+e._s(t.dealerLabel))])])]),e._v(" "),a("div",{staticClass:"work_btm"},[a("div",{staticClass:"procedure_name"},[a("span",[e._v(e._s(t.wareName))]),e._v(" "),a("span",{staticClass:"symbol"},[e._v("[仓库编码: "+e._s(t.whInCode)+"]")])]),e._v(" "),a("div",{staticClass:"procedure_unit"},[a("span",{staticClass:"each_unit"},[e._v("仓库类型: "+e._s(t.wareType))]),e._v(" "),t.wareAddress?a("span",{staticClass:"each_unit"},[e._v("仓库地址: "+e._s(t.wareAddress))]):e._e()])])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1)])],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},"3MgU":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper cpxq-detail-container"},[a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),e.contactInfo.dealerName?a("contact-part",{attrs:{"contact-info":e.contactInfo}}):e._e(),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_content"},[a("div",{staticClass:"main_content"},[e._l(e.otherConfig,function(t,n){return a("div",{key:n,staticClass:"vux-1px-b"},[a("div",{staticClass:"each_info"},[a("label",[e._v(e._s(t.fieldLabel))]),e._v(" "),a("span",{staticClass:"field_value"},[e._v(e._s(e.orderInfo[t.fieldCode]))])])])}),e._v(" "),a("div",{staticClass:"each_info"},[a("label",[e._v("备注")]),e._v(" "),a("span",{staticClass:"field_value"},[e._v(e._s(e.orderInfo.biComment||"无"))])])],2)]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1)])},r=[],i={render:n,staticRenderFns:r};t.a=i},"3NX5":function(e,t,a){"use strict";function n(e){a("mPA3")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("ptUZ");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("qq0S"),s=a.n(o),l=a("RsOv"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-6b69a3b6",null);t.default=c.exports},"3P4b":function(e,t){},"3QQJ":function(e,t,a){"use strict";function n(e){a("fv0H")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("MFjG");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("7rAE"),s=a.n(o),l=a("5iSH"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,null,null);t.default=c.exports},"3UMr":function(e,t){},"3atK":function(e,t,a){"use strict";function n(e){a("1UHc")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("T+OD");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("vfg+"),s=a.n(o),l=a("7Qr1"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-561fe794",null);t.default=c.exports},"3dl/":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pop-dealer-list"},[n("div",{staticClass:"dealer-info",on:{click:function(t){e.showDealerPop=!e.showDealerPop}}},[e.dealerInfo.dealerCode?n("div",{staticClass:"user-content"},[n("div",{staticClass:"user-info"},[n("div",{staticClass:"user-name"},[n("span",[e._v(e._s(e.dealerInfo.dealerName))])]),e._v(" "),n("div",{staticClass:"cp-info"},[n("span",{staticClass:"icon-dealer-address"}),e._v(" "),e.noAddress?n("span",{staticClass:"cp-ads"},[e._v("暂无联系地址")]):n("span",{staticClass:"cp-ads"},[e._v("\n            "+e._s(e.dealerInfo.address)+"\n          ")])])]),e._v(" "),n("span",{staticClass:"icon-right"})]):n("div",{staticClass:"no-content"},[n("span",{staticClass:"title required"},[e._v(e._s(e.dealerTitle)+"列表")]),e._v(" "),e._m(0)])]),e._v(" "),e.noContact?e._e():n("pop-contact-list",{attrs:{"dealer-info":e.dealerInfo,"default-value":e.contactInfo},on:{"sel-contact":e.selContact}}),e._v(" "),n("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[n("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showDealerPop,callback:function(t){e.showDealerPop=t},expression:"showDealerPop"}},[n("div",{staticClass:"popup-top"},[n("i",{staticClass:"icon-close",on:{click:e.onHide}})]),e._v(" "),n("div",{staticClass:"trade_pop"},[n("d-search",{on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),n("div",{ref:"dealer",staticClass:"mater_list"},[n("div",{staticClass:"dealer-list-wrapper"},[e._l(e.dealerList,function(t,r){return n("div",{key:r,staticClass:"each_dealer",class:{selected:e.showSelIcon(t)},on:{click:function(a){a.stopPropagation(),e.selDealer(t,r)}}},[n("img",{staticClass:"dealer_img",attrs:{src:a("rJzR"),alt:"dealer_img"}}),e._v(" "),n("div",{staticClass:"dealer_main"},[n("div",{staticClass:"dealer_name"},[e._v(e._s(t.dealerName))]),e._v(" "),n("div",{staticClass:"dealer_address"},[e._v(e._s(t.dealerAddress))]),e._v(" "),n("div",{staticClass:"dealer_detail"},[n("div",{staticClass:"dealer_phone_wrapper"},[n("i",{staticClass:"icon icon-mobile"}),e._v(" "),n("span",{class:{mobile:t.dealerMobilePhone}},[e._v(e._s(t.dealerMobilePhone||"暂无"))])]),e._v(" "),n("div",{staticClass:"dealer_phone_wrapper"},[n("i",{staticClass:"icon icon-phone"}),e._v(" "),n("span",{staticClass:"phone"},[e._v(e._s(t.dealerPhone||"暂无"))])])])])])}),e._v(" "),n("load-more",{directives:[{name:"show",rawName:"v-show",value:e.hasNext,expression:"hasNext"}],attrs:{slot:"loadmore",tip:"加载中"},slot:"loadmore"}),e._v(" "),!e.srhInpTx||e.dealerList.length||e.hasNext?e._e():n("div",{staticClass:"when-null",attrs:{slot:"loadmore"},slot:"loadmore"},[n("div",{staticClass:"title"},[e._v("抱歉，没有找到您搜索的内容")]),e._v(" "),n("ul",{staticClass:"tips"},[n("li",[e._v("\n                  不用担心，您马上可以进行 "),n("span",{staticClass:"addNew",on:{click:e.add}},[e._v("新增往来")])]),e._v(" "),n("li",[e._v("\n                  或者检查“输入内容”是否正确\n                ")])])])],2)])],1)])],1)],1)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"picker"},[a("span",[e._v("请选择")]),e._v(" "),a("span",{staticClass:"icon-right"})])}],i={render:n,staticRenderFns:r};t.a=i},"3eQG":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("zsLt"),i=n(r),o=a("3cXf"),s=n(o),l=a("ZLEe"),d=n(l),u=a("IHPB"),c=n(u),f=(a("XAqG"),a("HyXB"),a("vS5q")),h=a("MjAd"),m=n(h),v=a("kNGm"),p=n(v),C=a("zWMP"),y=a("ak47");n(y);t.default={name:"QJ_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"经办人",value:"creatorName"},{name:"交易号",value:"transCode"}],listViewID:2600,daysCount:null}},mixins:[m.default],methods:{getDefaultImg:function(e,t){var n=a(1===t?"Fuf7":"0gu7");return e.photo&&(e.photo=n),n},getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=[];if(this.activeTab&&(a=[{operator:"like",property:"biStatus",value:this.activeTab}]),this.serachVal){var n={operator:"like",property:this.filterProperty,value:this.serachVal};this.activeTab&&(n.attendedOperation="and"),a=[].concat((0,c.default)(a),[n])}if((0,d.default)(this.otherFilter).length){(0,d.default)(this.otherFilter);for(var r in this.otherFilter)!function(t){var n={property:t,operator:"in"};e.otherFilter[t].value.forEach(function(e,t){n["value"+(t+1)]=e}),a.push(n)}(r)}if(this.timeFilter.startDate||this.timeFilter.endDate){var o={property:"modTime",operator:"date",startDate:this.timeFilter.startDate,endDate:this.timeFilter.endDate};a.push(o)}return(0,f.getLeaveDetailItem)({limit:this.limit,page:this.page,filter:(0,s.default)(a),sort:(0,s.default)(this.sort)}).then(function(a){var n=a.total,r=void 0===n?0:n,o=a.instanceList,s=void 0===o?[]:o;e.hasNext=r>(e.page-1)*e.limit+s.length,s.forEach(function(t){e.setStatus(t),t.daysCount=0,t.leaveTypes=[],t.crtTime=(0,p.default)(t.crtTime,"YYYY-MM-DD HH:mm:ss"),t.modTime=(0,p.default)(t.modTime,"YYYY-MM-DD HH:mm:ss"),t.itemCount=t.detailItem.length,t.detailItem=t.detailItem.slice(0,3),t.photo||(t.photo=e.getDefaultImg("",t.gender)),t.detailItem.forEach(function(e){t.leaveTypes.push(e.leaveType),t.daysCount=(0,C.accAdd)(t.daysCount,e.leaveDays)}),t.leaveTypes=[].concat((0,c.default)(new i.default(t.leaveTypes)))}),e.listData=1===e.page?s:[].concat((0,c.default)(e.listData),(0,c.default)(s)),t||e.$nextTick(function(){e.resetScroll()});var l="";t&&0===e.activeIndex&&e.total&&(l=r-e.total==0?"暂无新数据":l="新增"+(r-e.total)+"条数据",e.$vux.toast.show({text:l,position:"top",width:"50%",type:"text",time:700})),0==e.activeIndex&&1===e.page&&sessionStorage.setItem(e.applyCode,r)}).catch(function(t){e.resetScroll()})}}}},"3iOo":function(e,t){},"3lqy":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("HzJ8"),s=n(o),l=a("3cXf"),d=n(l),u=a("4YfN"),c=n(u),f=a("7g+Q"),h=n(f),m=a("z5TY"),v=n(m),p=a("BGNQ"),C=n(p),y=a("iR2W"),_=n(y),g=a("u28h"),b=n(g),w=a("SAzG"),I=n(w),D=a("PzEQ"),x=n(D),P=a("0AQX"),S=a("HyXB"),k=a("bKg5"),L=n(k),N=a("VZtf"),M=n(N),T=a("9cRV"),A=n(T),O=a("y8YJ"),R=n(O),j=a("yt3/"),B=n(j),E=a("luHD"),F=n(E),U=a("hLfv"),$=n(U),H=a("vl8n"),V=n(H),q=a("+WR7"),Q=n(q),Y=a("Q67R"),X=n(Y),G=a("lsbD"),W=n(G),z=a("zWMP"),K=a("Qg39");t.default={data:function(){return{listId:"525bee48-d2d4-11e8-b8ca-0279b2c6a380",showMatterPop:!1,showMaterielPop:!1,transMode:[],matterList:[],logisticsTerm:[],numMap:{},contact:{},formData:{},dealerInfo:{validUntil:"",advancePaymentDueDate:""},filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"}]}},computed:{thenTotalAmntBal:function(){var e=0;return this.matterList.forEach(function(t){var a=t.assistQty,n=t.price,r=(0,z.accMul)(a,n);e=(0,z.accAdd)(e,r)}),(0,K.toFixed)(e)}},components:{XInput:I.default,XTextarea:x.default,Group:v.default,Cell:C.default,Popup:h.default,OpButton:W.default,PopMatter:F.default,RNumber:M.default,PopMatterList:A.default,PopDealerList:R.default,PopSingleSelect:B.default,Datetime:b.default,RPicker:V.default,PopBaseinfo:Q.default,DealerOtherPart:$.default,ApplyMatterPart:X.default},mixins:[L.default],filters:{numberComma:_.default},methods:{selDealer:function(e){var t=JSON.parse(e)[0];this.dealerInfo=(0,c.default)({},this.dealerInfo,t),this.dealerInfo.drDealerPaymentTerm=this.dealerInfo.paymentTerm,this.dealerInfo.daysOfAccount=this.dealerInfo.pamentDays,this.dealerInfo.drDealerLogisticsTerms=this.dealerInfo.dealerLogisticsTerms,this.matterParams.data&&this.matterParams.data.drDealerCode&&(this.matterParams.data.drDealerCode=this.dealerInfo.dealerCode,this.matterList=[])},selContact:function(e){this.contact=(0,c.default)({},e)},selMatter:function(e){var t=this,a=JSON.parse(e);a.map(function(e){t.submitMatterField.forEach(function(t){"price"!==t.fieldCode&&t.showFieldCode&&(e[t.fieldCode]=e[t.fieldCode]||e[t.showFieldCode])}),e.price=e.price||"",e.taxRate=e.taxRate||.16,e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null}),this.matterList=a},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(t){return t.inventoryCode===e.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(e)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,d.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},checkAmt:function(e,t,a){e[t]=Math.abs((0,K.toFixed)(a))},submitOrder:function(){var e=this,t="",a=[],n=[{key:"dealerInfo",childKey:"dealerName",message:"请选择客户"},{key:"matterList",childKey:"length",message:"请选择物料"}];if(t||(n.every(function(a){return a.childKey&&!e[a.key][a.childKey]?(t=a.message,!1):!!e[a.key]||(t=a.message,!1)}),this.matterList.forEach(function(n){var r={},i=!0,o=!1,l=void 0;try{for(var d,u=(0,s.default)(e.submitMatterField);!(i=(d=u.next()).done);i=!0){var c=d.value;if(!c.hidden&&!c.allowBlank&&!n[c.fieldCode]){t=c.text+"不为空";break}r[c.fieldCode]=null!=n[c.fieldCode]?n[c.fieldCode]:null}}catch(e){o=!0,l=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw l}}a.push(r)})),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=S.saveAndStartWf,n=(0,i.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName},o={listId:e.listId,biComment:e.formData.biComment,formData:(0,d.default)((0,c.default)({},e.formData,{handlerEntity:e.entity.dealerName,dealerDebitContactPersonName:e.contact.dealerName,dealerDebitContactInformation:e.contact.dealerMobilePhone,drDealerLogisticsTerms:e.dealerInfo.dealerLogisticsTerms,order:(0,c.default)({},r,{dataSet:a})})),wfPara:(0,d.default)(n)};e.isResubmit&&(t=S.saveAndCommitTask,o.biReferenceId=e.biReferenceId),e.processCode.length||(t=S.submitAndCalc,delete o.wfPara,delete o.biReferenceId),e.biReferenceId&&(o.biReferenceId=e.biReferenceId),e.saveData(t,o)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.attachment=t.attachment;var a=t.formData;a.order.dataSet.map(function(t){t=(0,c.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode}),e.matterList.push(t)}),e.handlerDefault={handler:a.handler||a.creator,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,c.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),e.dealerInfo={creatorName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation,dealerCode:a.order.dealerDebit,dealerSubclass:a.order.drAccountSub,dealerLabelName:a.order.drDealerLabel,dealerName:a.order.dealerName_dealerDebit,province:a.order.province_dealerDebit,city:a.order.city_dealerDebit,county:a.order.county_dealerDebit,address:a.order.address_dealerDebit},e.contact={dealerName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation},e.matterParams.data&&null!=e.matterParams.data.dealerCode&&(e.matterParams=(0,c.default)({},e.matterParams,{drDealerCode:e.dealerInfo.dealerCode})),e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,i.default)({},"XSHT_DATA",{matter:this.matterList,dealerInfo:this.dealerInfo,formData:this.formData,contact:this.contact,matterParams:this.matterParams})}},created:function(){var e=sessionStorage.getItem("XSHT_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.dealerInfo=t.dealerInfo,this.formData=t.formData,this.contact=t.contact,this.matterParams=t.matterParams,sessionStorage.removeItem("XSHT_DATA")}}}},"3p7d":function(e,t,a){"use strict";function n(e){a("zGoM")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("ARDs");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("iSAE"),s=a.n(o),l=a("f6AZ"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-e848dde0",null);t.default=c.exports},"3rGe":function(e,t){},"3v/h":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("ZLEe"),s=n(o),l=a("3cXf"),d=n(l),u=a("4YfN"),c=n(u),f=a("KH7x"),h=n(f),m=a("MgeX"),v=n(m),p=a("HzJ8"),C=n(p),y=a("kNGm"),_=n(y),g=a("iR2W"),b=n(g),w=a("PzEQ"),I=n(w),D=a("0AQX"),x=a("HyXB"),P=a("bKg5"),S=n(P),k=a("VZtf"),L=n(k),N=a("y8YJ"),M=n(N),T=a("lsbD"),A=n(T),O=a("+WR7"),R=n(O),j=a("hLfv"),B=n(j),E=a("Q67R"),F=n(E);a("zWMP"),a("Qg39");t.default={data:function(){return{filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"}],customPrice:"",showMatterPop:!1,showMaterielPop:!1,numMap:{},formData:{},orderList:{},dealerInfo:{},modifyKey:null,contactInfo:{}}},computed:{matterList:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var r,i=(0,C.default)((0,v.default)(this.orderList));!(t=(r=i.next()).done);t=!0){var o=r.value,s=!0,l=!1,d=void 0;try{for(var u,c=(0,C.default)(o);!(s=(u=c.next()).done);s=!0){var f=u.value;e.push(f)}}catch(e){l=!0,d=e}finally{try{!s&&c.return&&c.return()}finally{if(l)throw d}}}}catch(e){a=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(a)throw n}}return e}},watch:{orderList:{handler:function(e){var t=!0,a=!1,n=void 0;try{for(var r,i=(0,C.default)((0,v.default)(e));!(t=(r=i.next()).done);t=!0){var o=r.value,s=!0,l=!1,d=void 0;try{for(var u,c=(0,C.default)(o);!(s=(u=c.next()).done);s=!0){var f=u.value,h=f.tdQty,m=f.otherField,p=f.qtyOnline,y=f.qtyDownline,_=f.dealerInventoryCode,g=f.dealerInventoryName;m&&(0,v.default)(m).length&&(h>p||h<y?g||_?(this.tdAmount=0,f.dealerInventoryCode=f.dealerInventoryName="",this.customPrice?f.price=this.customPrice:f.price="请重新输入单价"):isNaN(f.price)||(this.customPrice=f.price):(f.price=m.price,f.dealerInventoryCode=m.dealerInventoryCode,f.dealerInventoryName=m.dealerInventoryName))}}catch(e){l=!0,d=e}finally{try{!s&&c.return&&c.return()}finally{if(l)throw d}}}}catch(e){a=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(a)throw n}}},deep:!0}},components:{RNumber:L.default,XTextarea:I.default,OpButton:A.default,PopBaseinfo:R.default,PopDealerList:M.default,DealerOtherPart:B.default,ApplyMatterPart:F.default},mixins:[S.default],filters:{numberComma:b.default},methods:{selDealer:function(e){var t=JSON.parse(e),a=(0,h.default)(t,1),n=a[0],r=void 0===n?{}:n;if(r.dealerCode!==this.dealerInfo.dealerCode&&(r.daysOfAccount=r.pamentDays,r.drDealerPaymentTerm=r.paymentTerm,r.dealerName_dealerDebit=r.dealerName,r.drDealerLogisticsTerms=r.dealerLogisticsTerms,this.dealerInfo=r,this.matterParams.data&&null!=this.matterParams.data.dealerCode&&(this.matterParams.data.dealerCode=this.dealerInfo.dealerCode,this.orderList={}),(0,v.default)(this.orderList).length))for(var i in this.orderList){var o=!0,s=!1,l=void 0;try{for(var d,u=(0,C.default)(this.orderList[i]);!(o=(d=u.next()).done);o=!0){var c=d.value;this.getQtyRange(c),delete c.qtyDownline,delete c.qtyDownline,delete c.otherField,c.price="",c.tdQty="",c.taxRate=.16,c.dealerInventoryName="",c.dealerInventoryCode=""}}catch(e){s=!0,l=e}finally{try{!o&&u.return&&u.return()}finally{if(s)throw l}}}},selContact:function(e){this.contactInfo=(0,c.default)({},e)},getMatterModify:function(e,t,a){this.matter=JSON.parse((0,d.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t)},getMatter:function(){if(!this.dealerInfo.dealerCode)return void this.$vux.alert.show({content:"请选择客户"});this.showMaterielPop=!this.showMaterielPop},getQtyRange:function(e){return(0,x.getPriceFromSalesContractAndPrice)({matCodes:e.inventoryCode,dealerCode:this.dealerInfo.dealerCode}).then(function(t){var a=t.data,n=void 0===a?[]:a,r=(0,h.default)(n,1),i=r[0],o=void 0===i?{}:i,s=["qtyOnline","qtyDownline"];for(var l in o)s.includes(l)&&(e[l]=o[l],delete o[l]);e.otherField=(0,c.default)({},o)})},selMatter:function(e){var t=this,a=JSON.parse(e),n=JSON.parse((0,d.default)(this.orderList));a.forEach(function(e){var a=e.transCode?e.transCode:"noCode";e.taxRate=t.taxRate,e.tdQty=e.qtyBal||"",e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null,e.promDeliTime="",e.dateActivation=(0,_.default)(e.dateActivation,"YYYY-MM-DD"),e.executionDate=(0,_.default)(e.executionDate,"YYYY-MM-DD"),t.dealerInfo.dealerCode&&t.getQtyRange(e),e.transCode?(n[a]||(n[a]=[]),n[a].push(e)):(n.noCode||(n.noCode=[]),n.noCode.push(e))}),this.orderList=n},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t,a){var n=this.selItems,r=n.findIndex(function(e){return e===t});if(-1!==r)return void n.splice(r,1);n.push(t)},showSelIcon:function(e,t){return this.selItems.includes(t)},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=this.matterList.map(function(e,t){return t})},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t={},a=e.selItems;e.matterList.filter(function(e,t){return!a.includes(t)}).forEach(function(e){var a=e.transCode?e.transCode:"noCode";t[a]||(t[a]=[]),t[a].push(e)}),e.orderList=t,e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},dateSelect:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.$vux.datetime.show({confirmText:"确定",cancelText:"取消",value:this.dealerInfo[t],onConfirm:function(a){e.$set(e.dealerInfo,t,a)}})},submitOrder:function(){var e=this,t="",a=[],n=(this.isSubmitOk,this.dealerInfo),r=this.dealerConfig;if(!(t=this.verifyData(r,n))){var o=(0,h.default)(this.submitMatterField,1),l=o[0],u=void 0===l?{}:l;(0,s.default)(this.orderList).length||(t="请选择"+u.text);var f=!0,m=!1,p=void 0;try{for(var y,_=(0,C.default)((0,v.default)(this.orderList));!(f=(y=_.next()).done);f=!0){var g=y.value,b=!0,w=!1,I=void 0;try{for(var D,P=(0,C.default)(g);!(b=(D=P.next()).done);b=!0){var S=D.value,k={},L=!0,N=!1,M=void 0;try{for(var T,A=(0,C.default)(this.submitMatterField);!(L=(T=A.next()).done);L=!0){var O=T.value,R=S[O.fieldCode]||S[O.displayField]||S[O.showFieldCode];if(!O.hidden&&!O.allowBlank&&!R){t=O.text+"不为空";break}k[O.fieldCode]=null!==R?R:null}}catch(e){N=!0,M=e}finally{try{!L&&A.return&&A.return()}finally{if(N)throw M}}a.push(k)}}catch(e){w=!0,I=e}finally{try{!b&&P.return&&P.return()}finally{if(w)throw I}}}}catch(e){m=!0,p=e}finally{try{!f&&_.return&&_.return()}finally{if(m)throw p}}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=x.saveAndStartWf,n=(0,i.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:e.formData.biComment,formData:(0,d.default)((0,c.default)({},e.formData,{handlerEntity:e.entity.dealerName,dealerDebitContactPersonName:e.contactInfo.dealerName||"",dealerDebitContactInformation:e.contactInfo.dealerMobilePhone||"",drDealerLogisticsTerms:e.dealerInfo.drDealerLogisticsTerms,order:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,drDealerPaymentTerm:e.dealerInfo.drDealerPaymentTerm,daysOfAccount:e.dealerInfo.pamentDays,dataSet:a},inPut:{dataSet:[{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,tdAmountCopy1:e.dealerInfo.tdAmountCopy1,advancePaymentDueDate:e.dealerInfo.advancePaymentDueDate,customerOrderNumber:e.dealerInfo.customerOrderNumber,orderDate:e.dealerInfo.orderDate}]}})),wfPara:(0,d.default)(n)};e.isResubmit&&(t=x.saveAndCommitTask,r.biReferenceId=e.biReferenceId),e.processCode.length||(t=x.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,D.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.attachment=t.attachment;var a={},n=t.formData,r=n.order,i=void 0===r?{}:r,o=n.inPut.dataSet[0];e.dealerInfo=(0,c.default)({},o,{dealerCode:o.dealerDebit,dealerLabelName:o.drDealerLabel,dealerName:o.dealerName_dealerDebit,province:o.province_dealerDebit,city:o.city_dealerDebit,county:o.county_dealerDebit,address:o.address_dealerDebit,drDealerPaymentTerm:n.order.drDealerPaymentTerm,drDealerLogisticsTerms:n.drDealerLogisticsTerms,daysOfAccount:n.order.daysOfAccount}),i.dataSet.map(function(t){var n=t.transCode?t.transCode:"noCode";t=(0,c.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,clientInventoryName:t.dealerInventoryName,clientInventoryCode:t.dealerInventoryCode,qty:t.thenTotalQtyBal,stockQty:t.thenLockQty,qtyBal:t.thenQtyBal,transCode:t.transMatchedCode,invSubUnitMulti:t.assMeasureScale}),e.getQtyRange(t),a[n]||(a[n]=[]),a[n].push(t)}),e.handlerDefault={handler:n.handler,handlerName:n.handlerName,handlerUnit:n.handlerUnit,handlerUnitName:n.handlerUnitName,handlerRole:n.handlerRole,handlerRoleName:n.handlerRoleName},e.orderList=a,e.formData=(0,c.default)({},e.formData,e.handlerDefault,{biComment:n.biComment,biId:n.biId,biProcessStatus:n.biProcessStatus,creator:n.creator,modifer:n.modifer}),e.contactInfo={dealerName:n.dealerDebitContactPersonName,dealerMobilePhone:n.dealerDebitContactInformation},e.matterParams.data&&e.matterParams.data.dealerCode&&(e.matterParams.data.dealerCode=e.dealerInfo.dealerCode),e.$loading.hide()})},hasDraftData:function(){return!!(0,v.default)(this.orderList).length&&(0,i.default)({},"XSDD_DATA",{dealerInfo:this.dealerInfo,formData:this.formData,contactInfo:this.contactInfo,orderList:this.orderList})}},created:function(){var e=sessionStorage.getItem("XSDD_DATA");if(e){var t=JSON.parse(e);this.dealerInfo=t.dealerInfo,this.formData=t.formData,this.contactInfo=t.contactInfo,this.orderList=t.orderList,this.matterParams.data&&this.matterParams.data.dealerCode&&(this.matterParams.data.dealerCode=this.dealerInfo.dealerCode),sessionStorage.removeItem("XSDD_DATA")}}}},"3wMV":function(e,t){},"4+Bu":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2625,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"},{name:"往来名称",value:"dealerName_dealerCodeCredit"}]}},mixins:[r.default],methods:{},created:function(){}}},"41vv":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("lC5x"),i=n(r),o=a("3cXf"),s=n(o),l=a("J0Oq"),d=n(l),u=a("kNGm"),c=n(u),f=a("I8ug"),h=a("IzfM"),m=n(h),v=a("1KNX"),p=n(v),C=a("7hoq"),y=n(C),_=a("8dL1"),g=n(_),b=a("TZXR"),w=n(b);t.default={data:function(){return{scrollOptions:{click:!0},appInfo:{},commentList:[],LatestchangeLog:{},adminCommentList:[],isAppAdmin:!1,currentUserId:"",listId:"a4897429-f4f2-44a4-ade7-2fe8dc67c3cf"}},components:{RScroll:p.default,ChangeLog:y.default,AdminComment:g.default,OtherComment:w.default},watch:{$route:{handler:function(e,t){var a=e.meta,n=void 0===a?{}:a;"APPDETAIL"===e.name&&n.reload&&(this.$loading.show(),e.meta.reload=!1,this.getAppInfo(),this.$refs.changeLog.getChangeList(),this.$refs.adminComment.getAdminComment(),this.$refs.comment.getCommetList(),this.$loading.hide())}}},methods:{getDefaultIcon:function(e){var t=a("CYNT");return e&&(e.icon=t),t},getAppInfo:function(){var e=this;return(0,f.getAppDetail)(this.listId).then(function(t){e.appInfo=t[0],e.appInfo.icon=e.appInfo.icon?"/dist/"+e.appInfo.icon:"",e.appInfo.crtTime=(0,c.default)(e.appInfo.crtTime),e.appInfo.modTime=(0,c.default)(e.appInfo.modTime)})},getCurrentUser:function(){var e=this;return m.default.currentUser().then(function(t){e.currentUserId=t.userId})}},created:function(){var e=this,t=this.$route.params.listId;t&&(this.$loading.show(),this.listId=t,(0,d.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getCurrentUser();case 2:return t.next=4,e.getAppInfo().then(function(t){var a=(0,s.default)(e.currentUserId);e.appInfo.administratorId.length&&a===e.appInfo.administratorId&&(e.isAppAdmin=!0)});case 4:case"end":return t.stop()}},t,e)}))(),setTimeout(function(){e.$loading.hide()},500))}}},"43aq":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_part"},[e._m(0),e._v(" "),e._l(e.orderInfo.order.dataSet,function(t,n){return a("div",{key:n,staticClass:"form_content",class:{show_border:n!==e.orderInfo.order.dataSet.length-1}},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"名称",cellContent:t.costName_expCode,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"科目",cellContent:t.expSubject}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"费用类型",cellContent:t.costType_expCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"发票类型",cellContent:t.tdInvoiceType}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"申请金额",showSymbol:"",cellContent:e._f("numberComma")(e._f("toFixed")(t.tdAmount),3)}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"不含税金额",showSymbol:"",cellContent:e._f("numberComma")(e._f("toFixed")(t.noTaxAmount),3)}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"税率",cellContent:e._f("toFixed")(t.taxRate)}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"税金",showSymbol:"",cellContent:e._f("numberComma")(e._f("toFixed")(t.taxAmount),3)}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"报销事由",cellContent:t.expCause}})],1)])})],2),e._v(" "),a("div",{staticClass:"price_cell vux-1px-t"},[a("div",{staticClass:"price_title"},[a("span",[e._v("报销人: ")]),e._v(" "),a("span",{staticClass:"people_name"},[e._v(e._s(e.orderInfo.creatorName))])]),e._v(" "),a("div",[a("span",{staticClass:"title"},[e._v("合计:")]),e._v(" "),a("span",{staticClass:"num"},[a("span",{staticStyle:{fontSize:".12rem"}},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(e.count),3)))])])]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("费用列表")])])}],i={render:n,staticRenderFns:r};t.a=i},"47sn":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("iR2W"),i=n(r),o=a("Qg39"),s=a("3atK"),l=n(s);t.default={name:"MatterItem",props:{item:{type:Object,default:function(){return{}}}},components:{PopMatterDetail:l.default},data:function(){return{showPop:!0}},methods:{getMatterDefault:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},clickMore:function(){this.$emit("on-show-more",this.item)},hasData:function(e){var t=this.item[e];return!!t||0===t}},filters:{numberComma:i.default,toFixed:o.toFixed}}},"498P":function(e,t){},"49IH":function(e,t,a){"use strict";function n(e){a("0aRt")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("v/5J");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("IJcc"),s=a.n(o),l=a("VaQO"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-7cde84ac",null);t.default=c.exports},"4Apf":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["-moz-box-","-webkit-box-",""];t.default={name:"flexbox-item",props:{span:[Number,String],order:[Number,String]},beforeMount:function(){this.bodyWidth=document.documentElement.offsetWidth},methods:{buildWidth:function(e){return"number"==typeof e?e<1?e:e/12:"string"==typeof e?e.replace("px","")/this.bodyWidth:void 0}},computed:{style:function(){var e={},t="horizontal"===this.$parent.orient?"marginLeft":"marginTop";if(1*this.$parent.gutter!=0&&(e[t]=this.$parent.gutter+"px"),this.span)for(var a=0;a<n.length;a++)e[n[a]+"flex"]="0 0 "+100*this.buildWidth(this.span)+"%";return void 0!==this.order&&(e.order=this.order),e}},data:function(){return{bodyWidth:0}}}},"4B3i":function(e,t,a){"use strict";function n(e){a("WY+5")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("NefH");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("ZyBF"),s=a.n(o),l=a("aLb8"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-f7e8ef70",null);t.default=c.exports},"4CDp":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("IHPB"),s=n(o),l=a("iR2W"),d=n(l),u=a("kNGm"),c=n(u),f=a("QHLv"),h=a("0Nk0"),m=n(h);t.default={name:"PopMoneyOrderList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},required:{type:Boolean,default:!1},request:{type:String,default:"0"}},components:{RPopup:m.default},data:function(){return{page:1,limit:10,hasNext:!0,showPop:!1,srhInpTx:"",listData:[],scrollOptions:{pullUpLoad:!0},requestMethods:null}},watch:{show:{handler:function(e){this.showPop=e}},showPop:{handler:function(e){this.$emit("input",e)}}},methods:{selItem:function(e){this.$emit("sel-item",e)},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,s.default)(t),[{operator:"like",value:this.srhInpTx,property:"accepter"}])),this.requestMethods({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,i.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+i.length,e.listData=1===e.page?i:[].concat((0,s.default)(e.listData),(0,s.default)(i))})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()}},filters:{numberComma:d.default,dateFormat:c.default},created:function(){var e=[f.getInputDraft,f.getCashDiscount,f.getDraftBalance];this.requestMethods=e[this.request],this.getList()}}},"4D87":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"RDate",props:{title:{type:String,default:""},value:{type:String,default:""},required:{type:Boolean,default:!1},placeholder:{type:String,default:""},startDate:{type:String,default:""},endDate:{type:String,default:""}},data:function(){return{time:""}},watch:{value:{handler:function(e){this.time=e},immediate:!0}},methods:{clickDateSelect:function(){var e=this;this.$vux.datetime.show({confirmText:"确定",cancelText:"取消",value:this.time,startDate:this.startDate,endDate:this.endDate,onConfirm:function(t){e.time=t,e.$emit("input",t)}})}}}},"4DOw":function(e,t){},"4Gt7":function(e,t){},"4HCx":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("kNGm"),i=(n(r),a("0AQX")),o=a("+VRO"),s=n(o);t.default={data:function(){return{userData:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},uploadStyle:{width:"100%",padding:"0.06rem 0.1rem"}}},mixins:[s.default],methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,i.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,s=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=s,e.userData=i,e.workFlowInfoHandler()})},goEdit:function(){var e=this.$route.params,t=e.folder,a=e.fileName,n=this.$route.query.name;this.$router.push({path:"/fillform/"+t+"/"+a,query:{name:n,transCode:this.transCode}})}}}},"4Hq9":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=(a("XAqG"),a("HyXB"),a("MjAd")),s=n(o),l=a("ak47");n(l);t.default={name:"CPBUG_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"经办人",value:"handlerName"},{name:"交易号",value:"transCode"}],listViewID:2336}},mixins:[s.default],methods:{pathChange:function(e,t,a){var n=this;if(!this.clickVisited){var r=e.transCode,o=this.$route.query.name,s=this.$route.params,l=s.folder,d=s.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,i.default)({},e));var u=a+"/"+l+"/"+d;setTimeout(function(){n.clickVisited=!1,n.$router.push({path:u,query:{name:o,transCode:r}})},200)}},goDetail:function(e,t){this.pathChange(e,t,"/detail")},goUserEdit:function(e,t){this.pathChange(e,t,"/fillform")}}}},"4LeJ":function(e,t){},"4NcJ":function(e,t){},"4Ns1":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper cpxq-detail-container"},[a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),e.contactInfo.dealerName?a("contact-part",{attrs:{"contact-info":e.contactInfo}}):e._e(),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_content"},[a("div",{staticClass:"main_content"},[e._l(e.otherConfig,function(t,n){return a("div",{key:n,staticClass:"vux-1px-b"},[a("div",{staticClass:"each_info"},[a("label",[e._v(e._s(t.fieldLabel))]),e._v(" "),a("span",{staticClass:"field_value"},[e._v(e._s(e.orderInfo[t.fieldCode]))])])])}),e._v(" "),a("div",{staticClass:"each_info"},[a("label",[e._v("备注")]),e._v(" "),a("span",{staticClass:"field_value"},[e._v(e._s(e.orderInfo.biComment||"无"))])])],2)]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1)])},r=[],i={render:n,staticRenderFns:r};t.a=i},"4Qs9":function(e,t){},"4TvN":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABICAYAAABCzyOOAAAAAXNSR0IArs4c6QAAB0pJREFUeAHlm3lsFUUcx1vksogELB6gUAUDbYICSky8EhSh/mFU8IqCiX+ZoNHEeMSqUUmUiMHwj8YowSgQUYwYDWiEaCRABAQvVGJttBxSKLSA3CL1823fa/bt22t2Z1/fo9/k29md+c3verO7M7PbsjKLaGtr6wVfhpstqi0tVQRfowRAobW0vLfgLUGXw0fhUZhFowXVpaOCqIfCldnoHeVvpRNFQk8Jehrc5wjeefhDQvXF351o+8H5zqg9jtcXfyS5HvbMPQ0+I+AJSCyGlwZLlv0X0l50zT2ieEQCesA6ZNfBsCRIZbn+lBJCRwQJGEZAC+H1pRSYqa+BI4Ik3IPCH0/3JChpniOCBPSn7XU4Q0LdAXmJIAnXELguhYu7QwKyMXZeGiSgfZ1Aw2oLSejUmzVU7GX7iCAJNTi6CI6z5HBvS3oKpqYnSXgYa6/CvhatJkoEPunxey6sgpXwVIbHKRvh9vLy8pOU1qAF03a0XWhNY4eiBhwdGVUnPvRB9iZ4I5wIR8GgH0ZJqIdfw5VwBfZOUMYHTuyAtrEtikcYHQJfgc0JHWii/yw4JIpdTxk6p5GIJk9jmUps9obPwkPQJk6gbCE0Twiddtr0JKOrxS8RtI+Em1Kw6VR5kBPtkZzh54e7Xo853Zhs40wvhTimOcp3cLxXu8U6TQjnwY3YHBFFb1rP+744kJNgzifj0JdwQBTHLMloOrAe29eF6UtrRMhu56jAkds5/wxWqKHAOAd7q/Dh/iC7aSainwzjwFSKD2GiuYV0JYBsv4Mv0/x0pHVpyJ52sm6hXALz1jQSKDAU6yJ8utrLbpoj4k4MfgR7eRnuojpN0j4lGdpjyYFmlnuoGZxTe/qffMFM9GZnmGleGk47zuOjnGzLcC/lEWdjgY5rGQDTnbY0Ipqp0MImDWjOsA5ugJugFkuHKXOADwOpqIaj4bWwFl4A04R+hBH4c7DdCE7shTbxM8qeglVJoqD/WDgP7odp4fFOH7FgKxEb0KWnhFWgU0+fh+BuaBtaZ3XczDnwe1sV1ejfCN5qNXoPZdg4G86Bx6FN3NduDo0tCbQupa9mbgUD9ibAP6EtLGt3Hm2tMTU+XbDoXYbwdyBcEdNvdzdtBfTRFDhOIh5z+VbwU/zWZvPH0AYmx5lZvsAj57WCR+4yiA//UnU37BjarnbD06s0Ig4YpFTfQnTFJMw3LvypgFsMYvASXWQSlKbi0/kltKNcNMAfzUzvgIcSODXK5NJ4EaO7ExhLrSt+bUX5MwkMDNOl8Y/XWHHV1XNeTKvIvJjlH/zd5XfU0xbtE+RsqeVZ6KiYRdZ1c4oNPNLOst5djMmwP+W+DLdQLsVGI2UsyD9s1NF5aQwFPTUiwrbUdTPt3HYzNUJfrRneg9pqD8IpGtdC7WPEAn31QUuc1xOHlIjDMAhvxfEKhVrZPg8VoCmW0GFQTLuzTY0h3xAlEXoNZwQUa6G0LIZDzi5aw1xmZBhh+ujDV1N8pY5HAnrpuquI4cyCAJ0mTbpJ615iBPo0mxhBdkHY43MzNyGjHSSU3obXDxh57i+sF8lP+jf7tmz0bfFu+CksEUYKSYLear/pbSt2rV7dmd6sjfzGs5VhM0vTx5lGw3mxQ/buqEtDb8lMsNNAeBej/pewEbHDQKFENU9IA5MMlR4wkF8u2bBE7DJQKNHLDeWjipvq3R9VMXJvSFYzyyCYLrAqg5QlaBvHfeIl+utekaVe1ngdq24AjII1XBbfS1CJCJpiB7V5GdK2fBo4C6WaPttG575K2KURNmLcjrW6K4r4fBWjYVnWv7CnxvlZwYjlHxHlulpMX+fNdDoRNiLyXpY6O3sc661WKUCr6Xqno2H3iCqncITjd5F5DpreW8JUz0dgLdR702M+pbPtXmTehl74gMrZeQ3cjYNWh3p3aQT0vQ9tQst3o6cR8ot9HPiWej1t8uHTIVt9kgOjRQ/yg+GerAILpUaZEbDZ5GFX31L5f/5Ao5a7QZhi5AXCKNPbqDjvS9x+7KLCaF8C+TFuJZx/AgNX0bpZLgwJdGpIe14zNyItem6ASZ4iTfSvRZfvN5t5hjsqJjnq9b9lc+BU9ASvosnUaI8MOqv0y2pVaQz6aYNmLgzbBUMkB3qdV2VskA70W57RpP9KvtJIBx30XVEQ7jJS6BJGcSXUNxNroO47XtDeqPY2NZJigb7DYQN8BEb+6lbG2h9zdBrO8a/Q7zrSfPwKhlcbZSJgSzYugRdBXZqa3DTAv5LqR3cNehrRk/dVDvXRgJInYBBi7y5H86BIpMiAtsL1vYMfttIQ615RJCFGd4NA+0Jdx36YG11biUuSgUFQMzAvaBZqvL1fsikhWI0Mv6myZo3VJRucqeMEqzdVddDr462d1OvO331AwNVwNXSjkYrx3ScTRErAGh0zoD4mdeIYJw92q2RkgyXwKVDTWCUhi885GJuVKcUy9gYKgWuGOBFqdToaDoXfMKubSVly+B+TUWebmmKE3AAAAABJRU5ErkJggg=="},"4XVd":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getUserList=t.unsubscribeApp=t.subscribeApp=t.isSubscribeByRelationKey=t.savePraise=t.saveComment=t.getReply=t.getCommentList=t.getPCCommentList=void 0;var r=a("3cXf"),i=n(r),o=a("4YfN"),s=n(o),l=a("GOq4"),d=n(l),u=t.getPCCommentList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/comment/getCommentByRelationKey",data:(0,s.default)({sort:(0,i.default)([{property:"crtTime",direction:"DESC"}]),page:1,limit:10,total:0},e)})},c=(t.getCommentList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/ds/getMobileCommentByTransCode",data:(0,s.default)({page:1,limit:10},e)})},t.getReply=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/comment/getCommentByParentId",data:(0,s.default)({sort:(0,i.default)([{property:"crtTime",direction:"ASC"}]),parentId:145657,page:1,limit:10},e)})},t.saveComment=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.post({url:"/H_roleplay-si/comment/saveComment",data:(0,s.default)({commentAndReply:!1,commentAttachments:[]},e)})}),f=t.savePraise=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return d.default.post({url:"/H_roleplay-si/comment/savePraise",data:{commentId:e}})};t.isSubscribeByRelationKey=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return d.default.ajax({url:"/H_roleplay-si/comment/isSubscribeByRelationKey",data:{relationKey:e,type:"instance"}})},t.subscribeApp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({type:"POST",contentType:"application/x-www-form-urlencoded",url:"/H_roleplay-si/comment/subscribeApp",data:e})},t.unsubscribeApp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({type:"POST",contentType:"application/x-www-form-urlencoded",url:"/H_roleplay-si/comment/unsubscribeAppByRelationKey",data:(0,s.default)({},e,{type:"instance"})})},t.getUserList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/comment/getUserByRelationKey",data:e})};t.default={getCommentList:u,saveComment:c,savePraise:f}},"4YLJ":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vux-toast"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowMask&&e.show,expression:"isShowMask && show"}],staticClass:"weui-mask_transparent"}),e._v(" "),a("transition",{attrs:{name:e.currentTransition}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"weui-toast",class:e.toastClass,style:{width:e.width}},[a("i",{directives:[{name:"show",rawName:"v-show",value:"text"!==e.type,expression:"type !== 'text'"}],staticClass:"weui-icon-success-no-circle weui-icon_toast"}),e._v(" "),e.text?a("p",{staticClass:"weui-toast__content",style:e.style,domProps:{innerHTML:e._s(e.text)}}):a("p",{staticClass:"weui-toast__content",style:e.style},[e._t("default")],2)])])],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},"4ZUV":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.contactInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"order-list":e.orderList,"order-title":e.orderTitle},on:{"on-show-more":e.onShowMore}}),e._v(" "),a("other-part",{attrs:{"other-info":e.orderInfo,amt:e.noTaxAmount,"tax-amt":e.taxAmount,count:e.count,attachment:e.attachment}}),e._v(" "),a("pop-matter-detail",{attrs:{show:e.showMatterDetail,item:e.matterDetail},model:{value:e.showMatterDetail,callback:function(t){e.showMatterDetail=t},expression:"showMatterDetail"}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[],i={render:n,staticRenderFns:r};t.a=i},"4bt0":function(e,t,a){"use strict";function n(e){a("KxAj")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("l5aY");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("juMk"),s=a.n(o),l=a("da6f"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-05419057",null);t.default=c.exports},"4cUA":function(e,t,a){"use strict";function n(e){a("Z1BX")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("16Vu");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("FOog"),s=a.n(o),l=a("o2MO"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-b1853514",null);t.default=c.exports},"4eDc":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("KH7x"),i=n(r),o=a("IHPB"),s=n(o),l=a("rVsN"),d=n(l),u=a("lC5x"),c=n(u),f=a("J0Oq"),h=n(f),m=a("3cXf"),v=n(m),p=a("4YfN"),C=n(p),y=a("8VZL"),_=n(y),g=a("HXPS"),b=n(g),w=a("fQz5"),I=n(w),D=a("kNGm"),x=n(D),P=a("hFVz"),S=n(P),k=a("I8ug"),L=a("7biW"),N=n(L),M=a("1KNX"),T=n(M),A=a("Ab2S"),O=n(A);t.default={data:function(){return{page:1,limit:20,tabItem:"全部",activeIndex:0,placeHolder:"名称/编码",listId:"c0375170-d537-4f23-8ed0-a79cf75f5b04",uniqueId:"7f01c808-d338-4711-8c99-319337078cc1",total:null,hasNext:!0,clickVisited:!1,scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0},id:"",action:{},srhInpTx:"",dealerList:[],dealerClassfiy:[]}},components:{Tab:_.default,Icon:b.default,TabItem:I.default,RScroll:T.default,searchIcon:N.default,addBtn:O.default},methods:{resetCondition:function(){this.dealerList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.resetPullDown()},tabClick:function(e,t){this.tabItem=e.title,this.activeIndex=t,this.uniqueId=e.uniqueId,this.resetCondition(),this.$refs.bScroll.scrollTo(0,0),this.getDealer()},searchList:function(e){var t=e.val,a=void 0===t?"":t;e.property;this.srhInpTx=a,this.resetCondition(),this.getDealer()},goNextPage:function(e,t,a){var n=this;this.clickVisited||(this.clickVisited=!0,e.visited=!0,this.$set(this.dealerList,t,(0,C.default)({},e)),setTimeout(function(){n.clickVisited=!1;var t={transCode:e.transCode};e.transCode||"/adress/edit_ads"!==a||"全部"===n.tabItem||(t.dealerType=n.tabItem),n.$router.push({path:a,query:t})},200))},goEditAds:function(e,t){this.goNextPage(e,t,"/adress/edit_ads")},goDetail:function(e,t){this.goNextPage(e,t,"/adress/adressDetail")},getDealer:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=void 0;""!==this.srhInpTx&&(a=[{operator:"like",value:this.srhInpTx,property:"creatorName",attendedOperation:"or"},{operator:"like",value:this.srhInpTx,property:"dealerCode",attendedOperation:"or"},{operator:"like",value:this.srhInpTx,property:"dealerName"}]);var n={limit:this.limit,page:this.page,start:(this.page-1)*this.limit};return a&&(n.filter=(0,v.default)(a)),(0,h.default)(c.default.mark(function a(){return c.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,S.default.getId(e.uniqueId).then(function(t){t.length>0&&(e.id=t[0].id)}).catch(function(t){e.$vux.alert.show({content:t.message})});case 2:return a.next=4,S.default.getDealerList(e.id,n).then(function(a){var n=a.dataCount,r=void 0===n?0:n,i=a.tableContent,o=void 0===i?[]:i,s="";t&&0===e.activeIndex&&e.total&&(s=r-e.total==0?"暂无新数据":"新增"+(r-e.total)+"条数据",e.$vux.toast.show({text:s,position:"top",width:"50%",type:"text",time:700})),o.forEach(function(t){var a=t.province,n=void 0===a?"":a,r=t.city,i=void 0===r?"":r,o=t.county,s=void 0===o?"":o,l=t.address,d=void 0===l?"":l;e.setStatus(t),t.dealerPic=t.dealerPic?"/H_roleplay-si/ds/download?url="+t.dealerPic+"&width=400&height=400":e.getDefaultImg(),t.detailAddress=n||i||s||d?""+n+i+s+d:"暂无"}),0===e.activeIndex&&1===e.page&&sessionStorage.setItem("DL",r),e.dealerList=1===e.page?o:e.dealerList.concat(o),e.hasNext=r>(e.page-1)*e.limit+o.length,t||e.$nextTick(function(){e.resetScroll()})}).catch(function(t){e.resetScroll()});case 4:case"end":return a.stop()}},a,e)}))()},getClassfiy:function(){var e=this;S.default.getDealerClassfiy(this.page).then(function(t){t.map(function(e){"往来对象"===e.title&&(e.title="全部")}),e.dealerClassfiy=t}).catch(function(t){e.$vux.alert.show({content:t.message})})},resetScroll:function(){this.$refs.bScroll.finishPullDown(),this.$refs.bScroll.finishPullUp()},onPullingUp:function(){this.page++,this.getDealer()},onPullingDown:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.page=1,e)return void this.getData(!0);this.getData()},getSession:function(){var e=this;return new d.default(function(t){e.total=sessionStorage.getItem("DL"),t()})},getData:function(e){var t=this;return(0,h.default)(c.default.mark(function a(){return c.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getSession();case 2:if(!e){a.next=6;break}return a.next=5,t.getDealer(!0).then(function(){t.$nextTick(function(){t.$refs.bScroll.finishPullDown().then(function(){t.$refs.bScroll.finishPullUp()})})});case 5:return a.abrupt("return");case 6:return a.next=8,t.getDealer();case 8:case"end":return a.stop()}},a,t)}))()},changeVisitedStatus:function(){var e=this;setTimeout(function(){var t=[].concat((0,s.default)(e.dealerList));t.forEach(function(e){e.visited=!1}),e.dealerList=t},200)},getAppDetail:function(){var e=this;return(0,k.getAppDetail)(this.listId).then(function(t){var a=(0,i.default)(t,1),n=a[0],r=void 0===n?{}:n,o=r.action;e.action=o})},setStatus:function(e){switch(e.dealerStatus){case"使用中":e.statusClass="duty_done_c";break;default:e.statusClass="duty_fall_c"}},getDefaultImg:function(e){var t=a("sUQx");return e&&(e.dealerPic=t),t}},filters:{dateFormat:x.default},watch:{$route:{handler:function(e,t){var a=e.path,n=void 0===a?"":a,r=e.meta,i=void 0===r?{}:r;if("/adress"===n&&(this.changeVisitedStatus(),i.reload)){if(e.meta.reload=!1,this.uniqueId="7f01c808-d338-4711-8c99-319337078cc1",this.srhInpTx="",this.activeIndex=0,this.resetCondition(),t.query.transCode)return void this.onPullingDown(!1);this.onPullingDown()}}}},created:function(){this.getAppDetail(),this.getClassfiy(),this.getData(!1)}}},"4evt":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2362,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"成品名称",value:"inventoryName_transObjCode"}]}},mixins:[r.default]}},"4ime":function(e,t){},"4ixO":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("a3Yh"),s=n(o),l=a("ZLEe"),d=n(l),u=a("3cXf"),c=n(u),f=a("KH7x"),h=n(f),m=a("4YfN"),v=n(m),p=a("SAzG"),C=n(p),y=a("u28h"),_=(n(y),a("PzEQ")),g=n(_),b=a("kNGm"),w=(n(b),a("z5TY")),I=n(w),D=a("BGNQ"),x=n(D),P=a("0AQX"),S=a("HyXB"),k=a("bKg5"),L=n(k),N=a("y8YJ"),M=n(N),T=a("I5id"),A=n(T),O=a("luHD"),R=n(O),j=a("9cRV"),B=n(j),E=a("hLfv"),F=n(E),U=a("VZtf"),$=n(U),H=a("vl8n"),V=n(H),q=a("+WR7"),Q=n(q),Y=a("zWMP"),X=a("Qg39");t.default={name:"ApplySBCGYSForm",data:function(){return{listId:"64c5afbc-c075-11e8-85e2-b06ebfc41432",srhInpTx:"",orderList:{},matterList:[],transMode:["现付","预付","账期","票据"],showDealerPop:!1,dealerInfo:{},contactInfo:{},formData:{biId:"",biComment:""},submitSuccess:!1,taxRate:.16,numMap:{},transCode:"",formViewUniqueId:"fed81800-4c34-44a9-b517-c3fd9f2ab57d",biReferenceId:"",actions:[],taskId:"",showOrderPop:!1,tmpItems:{},facility:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,filterList:[{name:"设施名称",value:"facilityName"},{name:"设施编码",value:"facilityCode"},{name:"订单号",value:"transCode"}],facilityParams:{},checkFieldList:[{key:"tdQty",message:"请填写本次验收数量"}]}},mixins:[L.default],components:{XInput:C.default,RNumber:$.default,XTextarea:g.default,Group:I.default,Cell:x.default,PopMatter:R.default,RPicker:V.default,PopDealerList:M.default,PopBaseinfo:Q.default,PopFacilityList:A.default,PopMatterList:B.default,DealerOtherPart:F.default},computed:{totalAmount:function(){var e=this,t=0;return this.matterList.forEach(function(a){e.simpleCalcMatter(a),t=(0,Y.accAdd)(t,a.noTaxAmount)}),Number(t)},taxAmount:function(){var e=0;return this.matterList.forEach(function(t){e=(0,X.toFixed)((0,Y.accAdd)(e,t.taxAmount))}),e},tdAmount:function(){return parseFloat((0,Y.accAdd)(this.totalAmount,Number(this.taxAmount)).toFixed(2))}},watch:{facility:{handler:function(e){this.simpleCalcMatter(e)},deep:!0}},methods:{selItem:function(e){this.formData=(0,v.default)({},this.formData,e)},selDealer:function(e){var t=JSON.parse(e),a=(0,h.default)(t,1),n=a[0];this.dealerInfo=(0,v.default)({},n),null!=this.matterParams.data.dealerCode&&(this.matterParams.data.dealerCode=this.dealerInfo.dealerCode,this.matterList=[],this.orderList={})},selContact:function(e){this.contactInfo=(0,v.default)({},e)},getMatterModify:function(e,t,a){this.facility=JSON.parse((0,c.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selMatter:function(e){var t=JSON.parse(e),a={};t.forEach(function(e){e.tdQty=e.tdQty||e.qtyBal,e.taxRate=.16,a[e.transCode]||(a[e.transCode]=[]),a[e.transCode].push(e)}),this.matterList=t,this.orderList=a},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.facilityCode!==e.facilityCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.facilityCode===t.facilityCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.facilityCode===e.facilityCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,c.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,d.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.facilityCode===a.facilityCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],r=n.findIndex(function(e){return e.facilityCode===t.facilityCode});r>=0&&(e.$refs.matter.delSelItem(n[r]),n.splice(r,1)),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.facilityCode===a.facilityCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerCode||(t="请选择供应商信息"),t||this.matterList.length||(t="请选择设施"),t||this.matterList.every(function(n){if(!n.price)return t="单价不能为空",!1;if(!n.tdQty&&0!==n.tdQty)return t="数量不能为空",!1;var r=n.taxRate||e.taxRate,i=(0,Y.accMul)(n.price,n.tdQty,r),o={transMatchedCode:n.transCode,facilityObjCode:n.facilityCode,facilityType:n.facilityType,thenTotalQtyBal:n.qty,thenLockQty:n.purchased,thenQtyBal:n.qtyBal||0,tdQty:n.tdQty,price:n.price,taxRate:r,taxAmount:i,tdAmount:(0,Y.accAdd)((0,Y.accMul)(n.price,n.tdQty),i),comment:n.comment||""};return e.transCode&&(o.tdId=n.tdId||null),a.push(o),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=S.saveAndStartWf,n={},r=(0,s.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});n=(0,v.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.formData.handler,modifer:e.formData.handler,dealerCreditContactPersonName:e.contactInfo.dealerName||"",dealerCreditContactInformation:e.contactInfo.dealerMobilePhone||"",order:{dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName||"供应商",dataSet:a}}),e.transCode&&(t=S.saveAndCommitTask,r={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,c.default)(n),wfPara:(0,c.default)(r)};e.transCode||delete i.biReferenceId,e.processCode.length||(t=S.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,s=t.attachment,l=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=l;var d=o.order,u=(o.dealerDebit,d.dataSet),c=void 0===u?[]:u,f={},h=[],m=!0,p=!1,C=void 0;try{for(var y,_=(0,i.default)(c);!(m=(y=_.next()).done);m=!0){var g=y.value;g=(0,v.default)({},g,{transCode:g.transMatchedCode,inventoryPic:g.inventoryPic_facilityObjCode?"/H_roleplay-si/ds/download?url="+g.inventoryPic_facilityObjCode+"&width=400&height=400":e.getDefaultImg(),facilityName:g.facilityName_facilityObjCode,facilityCode:g.facilityObjCode,facilityBigType:g.facilityBigType_facilityObjCode,facilitySubclass:g.facilitySubclass_facilityObjCode,facilityUnit:g.facilityUnit_facilityObjCode,qty:g.thenTotalQtyBal,purchased:g.thenLockQty,qtyBal:g.thenQtyBal}),f[g.transCode]||(f[g.transCode]=[]),h.push(g),f[g.transCode].push(g)}}catch(e){p=!0,C=e}finally{try{!m&&_.return&&_.return()}finally{if(p)throw C}}e.dealerInfo={dealerName:d.dealerName_dealerCodeCredit,dealerMobilePhone:o.dealerCreditContactInformation,dealerCode:d.dealerCodeCredit,dealerLabelName:d.crDealerLabel,province:d.province_dealerCodeCredit,city:d.city_dealerCodeCredit,county:d.county_dealerCodeCredit,address:d.address_dealerCodeCredit},e.facilityParams={dealerCode:d.dealerCodeCredit},e.contactInfo={dealerName:o.dealerCreditContactPersonName,dealerMobilePhone:o.dealerCreditContactInformation},e.handlerDefault={handler:o.handler,handlerName:o.handlerName,handlerUnit:o.handlerUnit,handlerUnitName:o.handlerUnitName,handlerRole:o.handlerRole,handlerRoleName:o.handlerRoleName},e.formData=(0,v.default)({},e.formData,e.handlerDefault,{creator:o.creator,biId:o.biId,biComment:o.biComment}),e.biReferenceId=o.biReferenceId,e.matterList=h,e.orderList=f,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,s.default)({},"SBCGYS_DATA",{matter:this.matterList,dealer:this.dealerInfo,formData:this.formData,contactInfo:this.contactInfo})},getRelationData:function(){var e=this,t=this.$route.query.uniqueId;return(0,P.getSOList)({formViewUniqueId:t,transCode:this.relationKey}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r;t.attachment;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var o=i.order,l=(i.dealerDebit,o.dataSet),d=void 0===l?[]:l;d=d.map(function(t){return(0,v.default)({},t,{inventoryPic:t.inventoryPic_facilityObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_facilityObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_facilityObjCode,facilityCode:t.inventoryCode_facilityObjCode,specification:t.specification_facilityObjCode,measureUnit:t.measureUnit_facilityObjCode,transCode:e.relationKey,qtyBal:t.tdQty,tdQty:""})}),e.dealerInfo={creatorName:i.dealerDebitContactPersonName,dealerMobilePhone:i.dealerDebitContactInformation,dealerCode:i.order.dealerDebit,dealerSubclass:i.order.drAccountSub,dealerName:i.order.dealerName_dealerDebit,province:i.order.province_dealerDebit,city:i.order.city_dealerDebit,county:i.order.county_dealerDebit,address:i.order.address_dealerDebit},e.matterList=d,e.orderList=(0,s.default)({},e.relationKey,d),e.$loading.hide()})},moreUnitClick:function(e){e.showDrop=!e.showDrop},moreUnitSelected:function(e){this.facility.assMeasureUnit=e.invSubUnitName,this.facility.assistQty=e.invSubUnitMulti},assembleOrder:function(e){var t={};e.forEach(function(e){t[e.transCode]||(t[e.transCode]=[]),t[e.transCode].push(e)}),this.orderList=t}},created:function(){var e=sessionStorage.getItem("SBCGYS_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.dealerInfo=t.dealer,this.formData=t.formData,this.contactInfo=t.contactInfo,this.assembleOrder(this.matterList),sessionStorage.removeItem("SBCGYS_DATA")}}}},"4keB":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},"4q16":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId,hasFormStatus:!1},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noCount:"",noPrice:"",isDealer:!1},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}}),e._v(" "),a("pop-task-work-list",{ref:"taskWork",attrs:{show:e.popShow,params:e.requestParams,getListMethod:"getWorkCheckList","work-type":"验收"},on:{"sel-task":e.selTask},model:{value:e.popShow,callback:function(t){e.popShow=t},expression:"popShow"}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},"4qY7":function(e,t,a){"use strict";function n(e){a("th7J")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("jAUN");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("qzCh"),s=a.n(o),l=a("U/Pi"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-260cbb4e",null);t.default=c.exports},"4tO6":function(e,t,a){"use strict";function n(e){a("NwpZ")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("nexV");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("TJZS"),s=a.n(o),l=a("fe4i"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-3c22f605",null);t.default=c.exports},"4y7N":function(e,t){},"5+0a":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("kNGm"),s=n(o),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),h=a("AupE"),m=n(h),v=a("bFc7"),p=n(v),C=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",contactInfo:{}}},mixins:[u.default],components:{workFlow:m.default,RAction:f.default,contactPart:p.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=!0,r=!1,o=void 0;try{for(var l,d=(0,i.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;e.count=(0,C.accAdd)(e.count,u.tdAmount)}}catch(e){r=!0,o=e}finally{try{!n&&d.return&&d.return()}finally{if(r)throw o}}t.formData.validUntil=(0,s.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData;var c=e.orderInfo.order;e.contactInfo={creatorName:c.dealerDebitContactPersonName,dealerName:c.dealerName_dealerCodeCredit,dealerMobilePhone:t.formData.dealerCreditContactInformation,dealerContactPersonName:t.formData.dealerCreditContactPersonName,dealerCode:c.dealerCodeCredit,dealerLabelName:c.crDealerLabel,province:c.province_dealerCodeCredit,city:c.city_dealerCodeCredit,county:c.county_dealerCodeCredit,address:c.address_dealerCodeCredit},e.workFlowInfoHandler()})}}}},"5+pH":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("KH7x"),i=n(r),o=a("lC5x"),s=n(o),l=a("J0Oq"),d=n(l),u=a("rVsN"),c=n(u),f=a("3cXf"),h=n(f),m=a("IHPB"),v=n(m),p=a("4YfN"),C=n(p),y=a("8VZL"),_=n(y),g=a("fQz5"),b=n(g),w=a("kNGm"),I=n(w),D=a("HyXB"),x=a("I8ug"),P=a("7biW"),S=n(P),k=a("1KNX"),L=n(k),N=a("Ab2S"),M=n(N);t.default={data:function(){return{listId:"64a41c48-4e8d-4709-bd01-5d60ad6bc625",warehouseList:[],srhInpTx:"",tabSelect:"全部",activeIndex:0,warehouseClassfiy:[{name:"全部"},{name:"个人仓"},{name:"加工车间仓"},{name:"一般部门仓"},{name:"客户仓"},{name:"加工商仓"}],placeHolder:"名称/编码",page:1,limit:20,id:2129,hasNext:!0,scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0},total:null,clickVisited:!1,action:{}}},components:{Tab:_.default,TabItem:b.default,searchIcon:S.default,RScroll:L.default,addBtn:M.default},methods:{resetCondition:function(){this.warehouseList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.resetPullDown()},tabClick:function(e,t){this.activeIndex=t,this.resetCondition(),this.tabSelect="",this.tabSelect=e.name,this.$refs.bScroll.scrollTo(0,0),this.getwarehouse()},searchList:function(e){var t=e.val,a=void 0===t?"":t;e.property;this.srhInpTx=a,this.resetCondition(),this.getwarehouse()},goNextPage:function(e,t,a){var n=this;this.clickVisited||(this.clickVisited=!0,e.visited=!0,this.$set(this.warehouseList,t,(0,C.default)({},e)),setTimeout(function(){n.clickVisited=!1;var t={transCode:e.transCode};e.transCode||"/warehouse/edit_warehouse"!==a||"全部"===n.tabSelect||(t.warehouseType=n.tabSelect),n.$router.push({path:a,query:t})},200))},goEditAds:function(e,t){this.goNextPage(e,t,"/warehouse/edit_warehouse")},goDetail:function(e,t){this.goNextPage(e,t,"/warehouse/warehouseDetail")},getwarehouseType:function(){var e=this;return(0,D.getDictByType)("warehouseRelType").then(function(t){e.warehouseClassfiy=[],e.warehouseClassfiy.push({name:"全部"}),e.warehouseClassfiy=e.warehouseClassfiy.concat(t.tableContent)})},getwarehouse:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=[];"全部"!==this.tabSelect?(a=[{operator:"eq",value:this.tabSelect,property:"warehouseType"}],this.srhInpTx&&(a[0].attendedOperation="and (",a=[].concat((0,v.default)(a),[{operator:"like",value:this.srhInpTx,property:"warehouseName",attendedOperation:"or"},{operator:"like",value:this.srhInpTx,property:"warehouseCode",attendedOperation:")"}]))):a=[].concat((0,v.default)(a),[{operator:"like",value:this.srhInpTx,property:"warehouseName",attendedOperation:"or"},{operator:"like",value:this.srhInpTx,property:"warehouseCode"}]);var n={limit:this.limit,page:this.page,start:(this.page-1)*this.limit};return a&&(n.filter=(0,h.default)(a)),(0,D.getList)(this.id,n).then(function(a){var n=a.dataCount,r=void 0===n?0:n,i=a.tableContent,o=void 0===i?[]:i,s="";t&&0===e.activeIndex&&e.total&&(s=r-e.total==0?"暂无新数据":"新增"+(r-e.total)+"条数据",e.$vux.toast.show({text:s,position:"top",width:"50%",type:"text",time:700})),o.forEach(function(t){var a=t.warehouseProvince,n=void 0===a?"":a,r=t.warehouseCity,i=void 0===r?"":r,o=t.warehouseDistrict,s=void 0===o?"":o,l=t.warehouseAddress,d=void 0===l?"":l;e.setStatus(t),t.warehousePic=t.warehousePic?"/H_roleplay-si/ds/download?url="+t.warehousePic+"&width=400&height=400":e.getDefaultImg(),t.detailAddress=n||i||s||d?""+n+i+s+d:""}),0===e.activeIndex&&1===e.page&&sessionStorage.setItem("CK",r),e.warehouseList=1===e.page?o:e.warehouseList.concat(o),e.$loading.hide(),e.hasNext=r>(e.page-1)*e.limit+o.length,t||e.$nextTick(function(){e.resetScroll()})}).catch(function(t){e.resetScroll()})},resetScroll:function(){this.$refs.bScroll.finishPullDown(),this.$refs.bScroll.finishPullUp()},onPullingUp:function(){this.page++,this.getwarehouse()},onPullingDown:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.page=1,e)return void this.getData(!0);this.getData()},getSession:function(){var e=this;return new c.default(function(t){e.total=sessionStorage.getItem("CK"),t()})},getData:function(e){var t=this;return(0,d.default)(s.default.mark(function a(){return s.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getSession();case 2:if(!e){a.next=6;break}return a.next=5,t.getwarehouse(!0).then(function(){t.$nextTick(function(){t.$refs.bScroll.finishPullDown().then(function(){t.$refs.bScroll.finishPullUp()})})});case 5:return a.abrupt("return");case 6:return a.next=8,t.getwarehouse();case 8:case"end":return a.stop()}},a,t)}))()},changeVisitedStatus:function(){var e=this;setTimeout(function(){var t=[].concat((0,v.default)(e.warehouseList));t.forEach(function(e){e.visited=!1}),e.warehouseList=t},200)},getAppDetail:function(){var e=this;return(0,x.getAppDetail)(this.listId).then(function(t){var a=(0,i.default)(t,1),n=a[0],r=void 0===n?{}:n,o=r.action;e.action=o})},setStatus:function(e){switch(e.warehouseStatus){case"使用中":e.statusClass="duty_done_c";break;default:e.statusClass="duty_fall_c"}},getDefaultImg:function(e){var t=a("t732");return e&&(e.warehousePic=t),t}},filters:{dateFormat:I.default},watch:{$route:{handler:function(e,t){var a=e.path,n=void 0===a?"":a,r=e.meta,i=void 0===r?{}:r;if("/warehouse"===n&&(this.changeVisitedStatus(),i.reload)){if(e.meta.reload=!1,this.srhInpTx="",this.activeIndex=0,this.resetCondition(),t.query.transCode)return void this.onPullingDown(!1);this.onPullingDown()}}}},created:function(){this.$loading.show(),this.getAppDetail(),this.getwarehouseType(),this.getData(!1)}}},"50DD":function(e,t){},"52EG":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("just-word-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}},scopedSlots:e._u([{key:"list-item",fn:function(t){var n=t.item;return e._l(n.detailItem,function(t,r){return a("div",{key:r,staticClass:"each-slot-item"},[a("div",{staticClass:"top-content"},[e._v("汇票号: "+e._s(t.draftNumber))]),e._v(" "),a("div",{staticClass:"main-content"},[a("div",{staticClass:"info_part"},[e._v("\n                承汇类型: "+e._s(n.draftType)+"\n              ")]),e._v(" "),a("div",{staticClass:"info_part"},[e._v("\n                承汇人: "+e._s(n.accepter)+"\n              ")])])])})}}])})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},"53nK":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.corpid="ww3c1aa17c16e380b7",r=t.secret="_MTqTVltBKS_HVBPbM00zHAdC0NpLNtcGvpTD0BQjC4",i=t.agentid="1000039",o=t.redirect_uri="http%3A%2F%2Fcpacn2012.3322.org%3A1175%2FHermes%2Fhome";t.default={corpid:n,secret:r,agentid:i,redirect_uri:o}},"53yf":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("MgeX"),i=n(r),o=a("lC5x"),s=n(o),l=a("J0Oq"),d=n(l),u=a("4YfN"),c=n(u),f=a("a3Yh"),h=n(f),m=a("ZLEe"),v=n(m),p=a("3cXf"),C=n(p),y=a("HzJ8"),_=n(y),g=a("z5TY"),b=n(g),w=a("SAzG"),I=n(w),D=a("PzEQ"),x=n(D),P=a("u28h"),S=n(P),k=a("BGNQ"),L=n(k),N=a("kNGm"),M=n(N),T=a("0AQX"),A=a("HyXB"),O=a("bKg5"),R=n(O),j=a("9cRV"),B=n(j),E=a("luHD"),F=n(E),U=a("VZtf"),$=n(U),H=a("vl8n"),V=n(H),q=a("+WR7"),Q=n(q),Y=a("Q67R"),X=n(Y),G=a("lsbD"),W=n(G),z=a("zWMP"),K=a("Qg39"),J=a("pyij"),Z=n(J);t.default={data:function(){return{orderList:{},matterList:[],showMaterielPop:!1,formData:{biId:"",biComment:""},modifyKey:"",filterList:[{name:"物料名称",value:"invName"},{name:"物料编码",value:"matCode"},{name:"交易号",value:"transCode"}],checkFieldList:[{key:"tdQty",message:"请填写本次申请数量"}]}},components:{XTextarea:x.default,Group:b.default,XInput:I.default,Datetime:S.default,Cell:L.default,RNumber:$.default,PopMatter:F.default,PopMatterList:B.default,RPicker:V.default,PopBaseinfo:Q.default,ApplyMatterPart:X.default,OpButton:W.default},filters:{dateFormat:M.default},computed:{totalNum:function(){var e=0;return this.matterList.forEach(function(t){e=(0,z.accAdd)(e,t.tdQty)}),Number(e)}},watch:{matterList:{handler:function(e){var t=!0,a=!1,n=void 0;try{for(var r,i=(0,_.default)(e);!(t=(r=i.next()).done);t=!0){var o=r.value;if(o.tdLeadTime)if(o.promDeliTime){var s=new Date(Date.parse(o.promDeliTime.replace(/-/g,"/"))),l=new Date(s.getTime()-24*o.tdLeadTime*60*60*1e3);o.shippingTime=(0,M.default)((0,Z.default)(l,s),"YYYY-MM-DD")}else o.shippingTime="";else o.shippingTime=o.promDeliTime;(0,C.default)(o.assistQty).includes(".")&&(o.assistQty=Math.ceil(o.assistQty),o.tdQty=(0,z.accMul)(o.assistQty,o.assMeasureScale))}}catch(e){a=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(a)throw n}}}}},mixins:[R.default],methods:{selMatter:function(e){var t=this,a=JSON.parse(e),n={};a.map(function(e){for(var a in t.dataIndexMap)e[a]="promDeliTime"===a||"shippingTime"===a?(0,M.default)(e[t.dataIndexMap[a]],"YYYY-MM-DD")||"":e[a]||e[t.dataIndexMap[a]];e.tdQty=e.tdQty||Math.max(e.qtyBalance,e.moq),n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.matterList=a,this.orderList=n},getMatterModify:function(e,t,a){this.matter=JSON.parse((0,C.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},checkAmt:function(e,t,a){e[t]=Math.abs((0,K.toFixed)(a));var n=Math.max(e.thenQtyBal,e.moq);"tdQty"===t&&(a<n?e[t]=n:(e.assistQty=Math.ceil(e.assistQty),e.tdQty=(0,z.accMul)(e.assistQty,e.assMeasureScale)))},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.inventoryCode!==e.inventoryCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode});if(-1!==n)return void a.splice(n,1);a.push(e)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,C.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,v.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],r=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});r>=0&&n.splice(r,1),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},getMatter:function(){this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this,t="",a=[];if(this.matterList.length||(t="请选择物料"),!t){var n=!0,r=!1,i=void 0;try{for(var o,s=(0,_.default)(this.matterList);!(n=(o=s.next()).done);n=!0){var l=o.value,d={},u=!0,f=!1,m=void 0;try{for(var v,p=(0,_.default)(this.submitMatterField);!(u=(v=p.next()).done);u=!0){var y=v.value;if(!y.hidden&&!y.allowBlank&&!l[y.fieldCode]){t=y.text+"不为空";break}d[y.fieldCode]=null!=l[y.fieldCode]?l[y.fieldCode]:null}}catch(e){f=!0,m=e}finally{try{!u&&p.return&&p.return()}finally{if(f)throw m}}a.push(d)}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=A.saveAndStartWf,n=(0,h.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:e.biComment,formData:(0,C.default)((0,c.default)({},e.formData,{handlerEntity:e.entity.dealerName,order:{dataSet:a}})),wfPara:(0,C.default)(n)};e.isResubmit&&(t=A.saveAndCommitTask,r.biReferenceId=e.biReferenceId),e.processCode.length||(t=A.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,d.default)(s.default.mark(function t(){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,T.getSOList)({formViewUniqueId:e.uniqueId,transCode:e.transCode}).then(function(t){e.listId=t.listId,e.biReferenceId=t.biReferenceId,e.attachment=t.attachment;var a=t.formData,n={},r=[];r=a.order.dataSet.map(function(t){return t=(0,c.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,inventoryType:t.inventoryType_transObjCode,inventorySubclass:t.inventorySubclass_transObjCode,allQty:t.productDemandQty,qtyed:t.thenLockQty,qtyBalance:t.thenQtyBal,transCode:t.transMatchedCode}),n[t.transCode]||(n[t.transCode]=[]),n[t.transCode].push(t),t}),e.orderList=n,e.matterList=r,e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,c.default)({},e.handlerDefault,{creator:a.creator,modifer:a.modifer,biId:a.biId,biComment:a.biComment,biProcessStatus:a.biProcessStatus}),e.$loading.hide()});case 2:case"end":return t.stop()}},t,e)}))()},hasDraftData:function(){return!!(0,i.default)(this.orderList).length&&(0,h.default)({},"CGSQ_DATA",{orderList:this.orderList,formData:this.formData})}},created:function(){var e=this,t=sessionStorage.getItem("CGSQ_DATA");if(t){this.orderList=JSON.parse(t).orderList,this.formData=JSON.parse(t).formData;for(var a in this.orderList)this.orderList[a].forEach(function(t){e.matterList.push(t)});sessionStorage.removeItem("CGSQ_DATA")}}}},"54l9":function(e,t){},"55hk":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper xsck-detail-container"},[e.orderInfo&&e.orderInfo.outPut?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.dealerInfo,configs:e.dealerConfig}}),e._v(" "),a("warehouse-content",{attrs:{"warehouse-config":e.warehouseConfig}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"order-list":e.orderList,"order-title":e.orderTitle},on:{"on-show-more":e.onShowMore}}),e._v(" "),a("other-part",{attrs:{"other-info":e.orderInfo,amt:e.noTaxAmount,"tax-amt":e.taxAmount,count:e.count,attachment:e.attachment}}),e._v(" "),a("pop-matter-detail",{attrs:{show:e.showMatterDetail,item:e.matterDetail},model:{value:e.showMatterDetail,callback:function(t){e.showMatterDetail=t},expression:"showMatterDetail"}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[],i={render:n,staticRenderFns:r};t.a=i},"55ug":function(e,t,a){"use strict";function n(e){a("hZK2")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("eq7N");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("SVCO"),s=a.n(o),l=a("AjN8"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-96e940e2",null);t.default=c.exports},"57wr":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("DYun"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"toast",mixins:[r.default],props:{value:Boolean,time:{type:Number,default:2e3},type:{type:String,default:"success"},transition:String,width:{type:String,default:"7.6em"},isShowMask:{type:Boolean,default:!1},text:String,position:String},data:function(){return{show:!1}},created:function(){this.value&&(this.show=!0)},computed:{currentTransition:function(){return this.transition?this.transition:"top"===this.position?"vux-slide-from-top":"bottom"===this.position?"vux-slide-from-bottom":"vux-fade"},toastClass:function(){return{"weui-toast_forbidden":"warn"===this.type,"weui-toast_cancel":"cancel"===this.type,"weui-toast_success":"success"===this.type,"weui-toast_text":"text"===this.type,"vux-toast-top":"top"===this.position,"vux-toast-bottom":"bottom"===this.position,"vux-toast-middle":"middle"===this.position}},style:function(){if("text"===this.type&&"auto"===this.width)return{padding:"10px"}}},watch:{show:function(e){var t=this;e&&(this.$emit("input",!0),this.$emit("on-show"),this.fixSafariOverflowScrolling("auto"),clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.show=!1,t.$emit("input",!1),t.$emit("on-hide"),t.fixSafariOverflowScrolling("touch")},this.time))},value:function(e){this.show=e}}}},"59Rw":function(e,t,a){"use strict";function n(e){a("XXVb")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("OBkd");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("qwnS"),s=a.n(o),l=a("1Zr/"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-32e5a1aa",null);t.default=c.exports},"5KgG":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("4YfN"),s=n(o),l=a("3cXf"),d=n(l),u=a("0AQX"),c=a("+VRO"),f=n(c),h=a("BUFe"),m=n(h),v=a("AupE"),p=n(v),C=a("bFc7"),y=n(C),_=a("6WeX"),g=n(_),b=a("3NX5"),w=n(b);a("zWMP"),a("Qg39");t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"",contactInfo:{}}},components:{workFlow:p.default,RAction:m.default,contactPart:y.default,PriceTotal:g.default,MatterList:w.default},mixins:[f.default],methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(e.submitInfo=JSON.parse((0,d.default)(t)),!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.formData,n=void 0===a?{}:a,r=n.order,o=r.dataSet,l=!0,u=!1,c=void 0;try{for(var f,h=(0,i.default)(o);!(l=(f=h.next()).done);l=!0){var m=f.value;m.inventoryPic=m.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+m.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){u=!0,c=e}finally{try{!l&&h.return&&h.return()}finally{if(u)throw c}}e.attachment=t.attachment,e.matterList=o,e.orderInfo=(0,s.default)({},n,r),e.contactInfo={creatorName:r.dealerDebitContactPersonName,dealerName:r.dealerName_dealerDebit,dealerMobilePhone:n.dealerDebitContactInformation,dealerContactPersonName:n.dealerDebitContactPersonName,dealerCode:r.dealerDebit,dealerLabelName:r.drDealerLabel,province:r.province_dealerDebit,city:r.city_dealerDebit,county:r.county_dealerDebit,address:r.address_dealerDebit},e.workFlowInfoHandler()})}}}},"5LZy":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList,"status-data":e.currentStage,showStatus:!1},on:{"sel-item":e.selItem},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,"dealer-params":e.dealerParams,dealerTitle:"供应商","default-contact":e.contactInfo},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("apply-matter-part",{attrs:{"show-materiel-pop":e.showMaterielPop,"show-matter-pop":e.showMatterPop,"filter-list":e.filterList,actions:e.actions,btnInfo:e.btnInfo,"matter-list":e.matterList,"default-value":e.matterList,"matter-pop-config":e.matterPopConfig,"matter-edit-config":e.matterEditConfig,"order-list-title":e.orderListTitle,"matter-params":e.matterParams,"add-matter-fn":e.addMatter,"sel-matter-fn":e.selMatter,"sel-items":e.selItems,"matter-modify-class":e.matterModifyClass,"stop-order-fn":e.stopOrder,"get-matter-modify-fn":e.getMatterModify,"show-delete-fn":e.showDelete,"show-sel-icon-fn":e.showSelIcon,"del-click-fn":e.delClick,"chosen-matter":e.matter,"check-amt-fn":e.checkAmt,"sel-confirm-fn":e.selConfirm,"btn-is-hide":e.btnIsHide},on:{"show-down-modify-pop":e.shutDownModify},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[n.price?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price)+"\n            ")])]):e._e()]}}]),model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("op-button",{attrs:{"is-modify":e.matterModifyClass,hide:e.btnIsHide,"td-amount":e.tdAmount,"tax-amount":e.taxAmount,"all-check":e.selItems.length===e.matterList.length},on:{"on-submit":e.submitOrder,"on-check-all":e.checkAll,"on-delete":e.deleteCheckd}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},"5NAd":function(e,t,a){"use strict";function n(e){a("1qrs")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("jIlA");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("N3Ds"),s=a.n(o),l=a("w68Y"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-413a8812",null);t.default=c.exports},"5O+N":function(e,t,a){"use strict";function n(e){a("YJS0")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("8cWJ");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("FKiD"),s=a.n(o),l=a("A/Vq"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-fc3df2f4",null);t.default=c.exports},"5Puw":function(e,t,a){"use strict";function n(e){a("9izW")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("n8ws");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("4eDc"),s=a.n(o),l=a("y/7I"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-e3a91778",null);t.default=c.exports},"5SxB":function(e,t,a){"use strict";function n(e){a("MEML")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("JuKn");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("5cym"),s=a.n(o),l=a("vUB/"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-62830141",null);t.default=c.exports},"5UG7":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.actions.length?a("div",{staticClass:"handle_wrapper"},[a("div",{staticClass:"handle_btn"},[e.actions.includes("revoke")?a("span",{staticClass:"btn_item reject",on:{click:e.revoke}},[e._v("撤回")]):e._e(),e._v(" "),e.actions.includes("disagree")?a("span",{staticClass:"btn_item reject",on:{click:e.reject}},[e._v("拒绝")]):e._e(),e._v(" "),e.actions.includes("agreement")?a("span",{staticClass:"btn_item agree",on:{click:e.agree}},[e._v("同意")]):e._e(),e._v(" "),e.actions.includes("transfer")?a("span",{staticClass:"btn_item transfer",on:{click:e.transfer}},[e._v("转办")]):e._e(),e._v(" "),e.actions.includes("update")?a("span",{staticClass:"btn_item update",on:{click:e.update}},[e._v("修改")]):e._e()]),e._v(" "),e.actions.includes("transfer")?a("pop-user-list",{attrs:{show:e.showUserList,"default-value":e.selectedUser},on:{"sel-item":e.selUser},model:{value:e.showUserList,callback:function(t){e.showUserList=t},expression:"showUserList"}}):e._e(),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("confirm",{staticClass:"action-confirm",attrs:{title:"转办","close-on-confirm":!1},on:{"on-confirm":e.onConfirm},model:{value:e.showConfirm,callback:function(t){e.showConfirm=t},expression:"showConfirm"}},[a("div",{staticClass:"confirm-item"},[a("span",{staticClass:"title required"},[e._v("转办给: ")]),e._v(" "),a("span",[e._v(e._s(e.selectedUser.nickname))])]),e._v(" "),a("div",{staticClass:"confirm-item"},[a("span",{staticClass:"title required"},[e._v("工时: ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.transferInfo.taskTime,expression:"transferInfo.taskTime",modifiers:{number:!0}}],staticClass:"value",attrs:{type:"number"},domProps:{value:e.transferInfo.taskTime},on:{input:function(t){t.target.composing||e.$set(e.transferInfo,"taskTime",e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showTaskWarn,expression:"showTaskWarn"}],staticClass:"warn"},[e._v("请输入工时")]),e._v(" "),a("div",{staticClass:"confirm-item"},[a("span",{staticClass:"title required"},[e._v("备注: ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.transferInfo.comment,expression:"transferInfo.comment"}],staticClass:"value",attrs:{type:"text"},domProps:{value:e.transferInfo.comment},on:{input:function(t){t.target.composing||e.$set(e.transferInfo,"comment",t.target.value)}}})]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showCommentWarn,expression:"showCommentWarn"}],staticClass:"warn"},[e._v("请输入备注")])])],1)],1):e._e()},r=[],i={render:n,staticRenderFns:r};t.a=i},"5VC7":function(e,t,a){"use strict";function n(e){a("29i7")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("yjOG");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("LVgA"),s=a.n(o),l=a("f+88"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-fca7cf3a",null);t.default=c.exports},"5XmH":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Qg39"),r=a("zWMP");t.default={name:"RNumber",props:{num:{type:Number,default:0},max:{type:Number,default:0},min:{type:Number,default:1},checkNum:{type:Function,default:function(e){return 0===e&&(e=1),Math.abs((0,n.toFixed)(e,2))}}},data:function(){return{currentNum:0}},watch:{num:{handler:function(e){this.currentNum=e}}},methods:{subNum:function(){this.currentNum<=this.min||(this.currentNum=parseFloat((0,r.accSub)(this.currentNum,1)),this.$emit("input",this.currentNum))},plusNum:function(){this.max&&this.max===this.num||(this.currentNum=parseFloat((0,r.accAdd)(this.currentNum,1)),this.$emit("input",this.currentNum))},getNum:function(e){var t=Number(e.target.value);this.max&&t>this.max&&(t=this.max),this.min&&t<this.min&&(t=this.min),this.currentNum=this.checkNum(t),e.target.value=this.currentNum,this.$emit("input",this.currentNum)}},created:function(){this.currentNum=this.num}}},"5YVY":function(e,t){},"5YqO":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("DYun"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"toast",mixins:[r.default],props:{value:Boolean,time:{type:Number,default:2e3},type:{type:String,default:"success"},transition:String,width:{type:String,default:"7.6em"},isShowMask:{type:Boolean,default:!1},text:String,position:String},data:function(){return{show:!1}},created:function(){this.value&&(this.show=!0)},computed:{currentTransition:function(){return this.transition?this.transition:"top"===this.position?"vux-slide-from-top":"bottom"===this.position?"vux-slide-from-bottom":"vux-fade"},toastClass:function(){return{"weui-toast_forbidden":"warn"===this.type,"weui-toast_cancel":"cancel"===this.type,"weui-toast_success":"success"===this.type,"weui-toast_text":"text"===this.type,"vux-toast-top":"top"===this.position,"vux-toast-bottom":"bottom"===this.position,"vux-toast-middle":"middle"===this.position}},style:function(){if("text"===this.type&&"auto"===this.width)return{padding:"10px"}}},watch:{show:function(e){var t=this;e&&(this.$emit("input",!0),this.$emit("on-show"),this.fixSafariOverflowScrolling("auto"),clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.show=!1,t.$emit("input",!1),t.$emit("on-hide"),t.fixSafariOverflowScrolling("touch")},this.time))},value:function(e){this.show=e}}}},"5Ys/":function(e,t){},"5cYO":function(e,t,a){"use strict";function n(e){a("pzJd")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("s5eW");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("RTBc"),s=a.n(o),l=a("MGsm"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-64dc92df",null);t.default=c.exports},"5cym":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("4YfN"),s=n(o),l=a("3cXf"),d=n(l),u=a("0AQX"),c=a("+VRO"),f=n(c),h=a("BUFe"),m=n(h),v=a("AupE"),p=n(v),C=a("bFc7"),y=n(C),_=a("6WeX"),g=n(_),b=a("3NX5"),w=n(b),I=a("zWMP");a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"",contactInfo:{},orderList:{},matterList:[]}},computed:{noTaxAmount:function(){var e=0;return this.matterList.forEach(function(t){e=(0,I.accAdd)(e,t.noTaxAmount)}),e},taxAmount:function(){var e=0;return this.matterList.forEach(function(t){e=(0,I.accAdd)(e,t.taxAmount)}),e}},components:{workFlow:p.default,RAction:m.default,contactPart:y.default,PriceTotal:g.default,MatterList:w.default},mixins:[f.default],methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(e.submitInfo=JSON.parse((0,d.default)(t)),!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=void 0===a?[]:a,r=t.formData,o=void 0===r?{}:r,l=o.inPut,u=void 0===l?{}:l,c={},f=u.dataSet,h=!0,m=!1,v=void 0;try{for(var p,C=(0,i.default)(f);!(h=(p=C.next()).done);h=!0){var y=p.value;e.count=(0,I.accAdd)(e.count,y.tdAmount),y.inventoryPic=y.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+y.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),c[y.transMatchedCode]||(c[y.transMatchedCode]=[]),c[y.transMatchedCode].push(y)}}catch(e){m=!0,v=e}finally{try{!h&&C.return&&C.return()}finally{if(m)throw v}}e.contactInfo={creatorName:o.dealerDebitContactPersonName,dealerName:u.dealerName_dealerCodeCredit,dealerMobilePhone:o.dealerCreditContactInformation,dealerContactPersonName:o.dealerCreditContactPersonName,dealerCode:u.dealerCodeCredit,dealerLabelName:u.crDealerLabel,province:u.province_dealerCodeCredit,city:u.city_dealerCodeCredit,county:u.county_dealerCodeCredit,address:u.address_dealerCodeCredit},e.attachment=n,e.matterList=f,e.orderList=c,e.orderInfo=(0,s.default)({},o,u),e.workFlowInfoHandler()})}},created:function(){}}},"5eL4":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("KH7x"),i=n(r),o=a("lC5x"),s=n(o),l=a("J0Oq"),d=n(l),u=a("rVsN"),c=n(u),f=a("3cXf"),h=n(f),m=a("IHPB"),v=n(m),p=a("4YfN"),C=n(p),y=a("8VZL"),_=n(y),g=a("fQz5"),b=n(g),w=a("kNGm"),I=n(w),D=a("HyXB"),x=a("I8ug"),P=a("7biW"),S=n(P),k=a("1KNX"),L=n(k),N=a("Ab2S"),M=n(N);t.default={data:function(){return{listId:"64a41c48-4e8d-4709-bd01-5d60ad6bc625",warehouseList:[],srhInpTx:"",tabSelect:"全部",activeIndex:0,warehouseClassfiy:[{name:"全部"},{name:"个人仓"},{name:"加工车间仓"},{name:"一般部门仓"},{name:"客户仓"},{name:"加工商仓"}],placeHolder:"名称/编码",page:1,limit:20,id:2129,hasNext:!0,scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0},total:null,clickVisited:!1,action:{}}},components:{Tab:_.default,TabItem:b.default,searchIcon:S.default,RScroll:L.default,addBtn:M.default},methods:{resetCondition:function(){this.warehouseList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.resetPullDown()},tabClick:function(e,t){this.activeIndex=t,this.resetCondition(),this.tabSelect="",this.tabSelect=e.name,this.$refs.bScroll.scrollTo(0,0),this.getwarehouse()},searchList:function(e){var t=e.val,a=void 0===t?"":t;e.property;this.srhInpTx=a,this.resetCondition(),this.getwarehouse()},goNextPage:function(e,t,a){var n=this;this.clickVisited||(this.clickVisited=!0,e.visited=!0,this.$set(this.warehouseList,t,(0,C.default)({},e)),setTimeout(function(){n.clickVisited=!1;var t={transCode:e.transCode};e.transCode||"/warehouse/edit_warehouse"!==a||"全部"===n.tabSelect||(t.warehouseType=n.tabSelect),n.$router.push({path:a,query:t})},200))},goEditAds:function(e,t){this.goNextPage(e,t,"/warehouse/edit_warehouse")},goDetail:function(e,t){this.goNextPage(e,t,"/warehouse/warehouseDetail")},getwarehouseType:function(){var e=this;return(0,D.getDictByType)("warehouseRelType").then(function(t){e.warehouseClassfiy=[],e.warehouseClassfiy.push({name:"全部"}),e.warehouseClassfiy=e.warehouseClassfiy.concat(t.tableContent)})},getwarehouse:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=[];"全部"!==this.tabSelect?(a=[{operator:"eq",value:this.tabSelect,property:"warehouseType"}],this.srhInpTx&&(a[0].attendedOperation="and (",a=[].concat((0,v.default)(a),[{operator:"like",value:this.srhInpTx,property:"warehouseName",attendedOperation:"or"},{operator:"like",value:this.srhInpTx,property:"warehouseCode",attendedOperation:")"}]))):a=[].concat((0,v.default)(a),[{operator:"like",value:this.srhInpTx,property:"warehouseName",attendedOperation:"or"},{operator:"like",value:this.srhInpTx,property:"warehouseCode"}]);var n={limit:this.limit,page:this.page,start:(this.page-1)*this.limit};return a&&(n.filter=(0,h.default)(a)),(0,D.getList)(this.id,n).then(function(a){var n=a.dataCount,r=void 0===n?0:n,i=a.tableContent,o=void 0===i?[]:i,s="";t&&0===e.activeIndex&&e.total&&(s=r-e.total==0?"暂无新数据":"新增"+(r-e.total)+"条数据",e.$vux.toast.show({text:s,position:"top",width:"50%",type:"text",time:700})),o.forEach(function(t){var a=t.warehouseProvince,n=void 0===a?"":a,r=t.warehouseCity,i=void 0===r?"":r,o=t.warehouseDistrict,s=void 0===o?"":o,l=t.warehouseAddress,d=void 0===l?"":l;e.setStatus(t),t.warehousePic=t.warehousePic?"/H_roleplay-si/ds/download?url="+t.warehousePic+"&width=400&height=400":e.getDefaultImg(),t.detailAddress=n||i||s||d?""+n+i+s+d:""}),0===e.activeIndex&&1===e.page&&sessionStorage.setItem("CK",r),e.warehouseList=1===e.page?o:e.warehouseList.concat(o),e.$loading.hide(),e.hasNext=r>(e.page-1)*e.limit+o.length,t||e.$nextTick(function(){e.resetScroll()})}).catch(function(t){e.resetScroll()})},resetScroll:function(){this.$refs.bScroll.finishPullDown(),this.$refs.bScroll.finishPullUp()},onPullingUp:function(){this.page++,this.getwarehouse()},onPullingDown:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.page=1,e)return void this.getData(!0);this.getData()},getSession:function(){var e=this;return new c.default(function(t){e.total=sessionStorage.getItem("CK"),t()})},getData:function(e){var t=this;return(0,d.default)(s.default.mark(function a(){return s.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getSession();case 2:if(!e){a.next=6;break}return a.next=5,t.getwarehouse(!0).then(function(){t.$nextTick(function(){t.$refs.bScroll.finishPullDown().then(function(){t.$refs.bScroll.finishPullUp()})})});case 5:return a.abrupt("return");case 6:return a.next=8,t.getwarehouse();case 8:case"end":return a.stop()}},a,t)}))()},changeVisitedStatus:function(){var e=this;setTimeout(function(){var t=[].concat((0,v.default)(e.warehouseList));t.forEach(function(e){e.visited=!1}),e.warehouseList=t},200)},getAppDetail:function(){var e=this;return(0,x.getAppDetail)(this.listId).then(function(t){var a=(0,i.default)(t,1),n=a[0],r=void 0===n?{}:n,o=r.action;e.action=o})},setStatus:function(e){switch(e.warehouseStatus){case"使用中":e.statusClass="duty_done_c";break;default:e.statusClass="duty_fall_c"}},getDefaultImg:function(e){var t=a("t732");return e&&(e.warehousePic=t),t}},filters:{dateFormat:I.default},watch:{$route:{handler:function(e,t){var a=e.path,n=void 0===a?"":a,r=e.meta,i=void 0===r?{}:r;if("/warehouse"===n&&(this.changeVisitedStatus(),i.reload)){if(e.meta.reload=!1,this.srhInpTx="",this.activeIndex=0,this.resetCondition(),t.query.transCode)return void this.onPullingDown(!1);this.onPullingDown()}}}},created:function(){this.$loading.show(),this.getAppDetail(),this.getwarehouseType(),this.getData(!1)}}},"5ed5":function(e,t){},"5fEC":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2256,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}]}},mixins:[r.default],methods:{},created:function(){}}},"5gKc":function(e,t,a){"use strict";function n(e){a("jd/k")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("MgX+");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("HJsR"),s=a.n(o),l=a("a/GI"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-1efca452",null);t.default=c.exports},"5gc7":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper xsbj-detail-container"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"matter-list":e.matterList},on:{"on-show-more":e.onShowMore}}),e._v(" "),a("pop-matter-detail",{attrs:{show:e.showMatterDetail,item:e.matterDetail},model:{value:e.showMatterDetail,callback:function(t){e.showMatterDetail=t},expression:"showMatterDetail"}}),e._v(" "),a("other-part",{attrs:{"other-info":e.orderInfo,attachment:e.attachment}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[],i={render:n,staticRenderFns:r};t.a=i},"5i6Q":function(e,t,a){"use strict";function n(e){a("Ky1g")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("OcnB");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("hskX"),s=a.n(o),l=a("j13D"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-23f943fe",null);t.default=c.exports},"5i8W":function(e,t){},"5iSH":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement;return(e._self._c||t)("span",{class:["vux-badge",{"vux-badge-dot":void 0===e.text,"vux-badge-single":void 0!==e.text&&1===e.text.toString().length}],domProps:{textContent:e._s(e.text)}})},r=[],i={render:n,staticRenderFns:r};t.a=i},"5ixT":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"vux-popup-animate-"+e.position}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.show&&!e.initialShow,expression:"show && !initialShow"}],staticClass:"vux-popup-dialog",class:["vux-popup-"+e.position,e.show?"vux-popup-show":""],style:e.styles},[e.shouldRenderBody?e._t("default"):e._e()],2)])},r=[],i={render:n,staticRenderFns:r};t.a=i},"5jdD":function(e,t){},"5lA0":function(e,t){},"5pt1":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("IHPB"),s=n(o),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),h=n(f),m=a("6q39"),v=n(m),p=a("kNGm"),C=n(p),y=a("fEP3"),_=a("1KNX"),g=n(_),b=a("7biW"),w=n(b);t.default={name:"PopWorkGDBLLList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:h.default,LoadMore:v.default,RScroll:g.default,MSearch:w.default},filters:{dateFormat:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},workList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterList:[{name:"成品名称",value:"inventoryName"},{name:"成品编码",value:"matCode"},{name:"工序名称",value:"procedureName"}],filterProperty:""}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){return e.transCode===this.selItems.transCode},selThis:function(e,t){this.showPop=!1,this.selItems=(0,d.default)({},e),this.$emit("sel-work",this.selItems)},setDefaultValue:function(){this.selItems=(0,d.default)({},this.defaultValue)},getWorkOrderTask:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,s.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,y.getWorkGDBLLList)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,i.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+i.length,e.workList=1===e.page?i:[].concat((0,s.default)(e.workList),(0,s.default)(i)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,r=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=r,this.workList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getWorkOrderTask()},onPullingUp:function(){this.page++,this.getWorkOrderTask()}},created:function(){this.setDefaultValue(),this.getWorkOrderTask()}}},"5q3q":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("3cXf"),s=n(o),l=a("a3Yh"),d=n(l),u=a("7g+Q"),c=n(u),f=a("+62G"),h=n(f),m=a("z5TY"),v=n(m),p=a("BGNQ"),C=n(p),y=a("iR2W"),_=n(y),g=a("u28h"),b=n(g),w=a("SAzG"),I=n(w),D=a("PzEQ"),x=n(D),P=a("HyXB"),S=a("fEP3"),k=a("0AQX"),L=a("bKg5"),N=n(L),M=a("7D9F"),T=n(M),A=a("j4rH"),O=n(A),R=a("JQMB"),j=n(R),B=a("vl8n"),E=n(B),F=a("FlCz"),U=n(F),$=a("+WR7"),H=n($),V=a("0o6b"),q=a("Qg39"),Q=a("zWMP");t.default={directives:{TransferDom:h.default},components:{Popup:c.default,PopWorkStartList:O.default,Group:v.default,Cell:C.default,Datetime:b.default,XInput:I.default,XTextarea:x.default,PopManagerList:T.default,RPicker:E.default,PopFacilityList:j.default,BomList:U.default,PopBaseinfo:H.default},data:function(){return{listId:"c54b3325-a5c1-4d75-a3c4-c6cf0e988aae",showWorkPop:!0,dealer:{},formData:{biComment:""},workInfo:{},defaultManager:{},biProcessStatus:"",scanResult:"",bomList:[],facility:{}}},mixins:[N.default],filters:{numberComma:_.default},methods:{selWork:function(e){var t=this;e.tdQty=e.thenQtyBal,this.workInfo=e,(0,S.getBomWorkStart)(this.workInfo.inventoryCode).then(function(a){var n=a.tableContent,r=void 0===n?[]:n;r.forEach(function(t){t.tdQty=(0,q.toFixed)((0,Q.accMul)(t.qty,e.tdQty,1+t.specificLoss),2)}),t.bomList=r})},selManager:function(e){this.defaultManager=JSON.parse(e),this.workInfo.dealerDebit=this.defaultManager.dealerCode},submitOrder:function(){var e=this,t="",a=[],n=[];this.workInfo.procedureName||(t="请选择工序");var r=[{key:"dealerName",msg:"请填写工人"},{key:"tdQty",msg:"请填写验收数量"},{key:"wareName",msg:"请填写仓库"}];if(t||r.every(function(a){return!!e.workInfo[a.key]||(t=a.msg,!1)}),t)return void this.$vux.alert.show({content:t});var o=this.workInfo;a.push({proPointCode:o.proPointCode,thenQtyBal:o.thenQtyBal,tdQty:o.tdQty,dealerDebit:o.dealerCode,drDealerLabel:o.dealerLabel,proFlowCode:o.proFlowCode||"",facilityObjCode:this.facility.facilityCode||"",facilityTypebase_facilityObjCode:this.facility.facilityType||"",transObjCode:this.workInfo.inventoryCode}),this.bomList.forEach(function(e){n.push({outPutMatCode:e.inventoryCode,inventoryName_outPutMatCode:e.inventoryName,processProCode:e.parentInvCode,tdProcessing:e.processing,specification_outPutMatCode:e.specification,measureUnit_outPutMatCode:e.measureUnit,bomType:e.bomType,bomQty:e.qty,bomSpecificLoss:e.specificLoss,tdQty:e.tdQty})}),this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=P.saveAndStartWf,r=(0,d.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});e.isResubmit&&"进行中"===e.formStatus&&(r={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var l={listId:e.listId,biComment:e.formData.biComment,formData:(0,s.default)((0,i.default)({},e.formData,{handlerEntity:e.entity.dealerName,biProcessStatus:e.biProcessStatus||null,order:{containerCode:o.whInCode,dataSet:a},outPut:{containerCode:o.whInCode,dataSet:n}})),wfPara:(0,s.default)(r)};e.isResubmit&&"进行中"===e.formStatus?(t=P.saveAndCommitTask,l.biReferenceId=e.biReferenceId):e.isResubmit&&"已生效"===e.formStatus&&(t=P.updateData),e.processCode.length||(t=P.submitAndCalc,delete l.wfPara,delete l.biReferenceId),e.biReferenceId&&(l.biReferenceId=e.biReferenceId),e.saveData(t,l)}})},getFormData:function(){var e=this;return(0,k.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=t.attachment;var s=o.order,l=o.outPut,d=s.dataSet,u=void 0===d?[]:d,c=l.dataSet;e.workInfo=(0,i.default)({},u[0],{inventoryCode:u[0].transObjCode,inventoryName:u[0].inventoryName_transObjCode,procedureName:u[0].procedureName_proPointCode,technicsName:u[0].technicsName_proFlowCode,transCode:u[0].transMatchedCode,processing:u[0].tdProcessing||null,wareName:s.warehouseName_containerCode,whInCode:s.containerCode,wareAddress:s.warehouseAddress_containerCode,dealerName:u[0].dealerName_dealerDebit,dealerCode:u[0].dealerDebit,dealerLabel:u[0].drDealerLabel}),e.facility={facilityName:u[0].facilityName_facilityObjCode,facilityCode:u[0].facilityObjCode,facilityType:u[0].facilityTypebase_facilityObjCode},c.forEach(function(e){e.inventoryCode=e.outPutMatCode,e.inventoryName=e.inventoryName_outPutMatCode,e.measureUnit=e.measureUnit_outPutMatCode,e.parentInvCode=e.processProCode,e.processing=e.tdProcessing,e.qty=e.bomQty,e.qtyBal=e.thenQtyStock,e.specification=e.specification_outPutMatCode||"无",e.specificLoss=e.bomSpecificLoss||0}),e.bomList=c,e.warehouse={warehouseCode:s.containerCode,warehouseName:s.warehouseName_containerCode,warehouseType:s.warehouseType_containerCode,warehouseProvince:s.warehouseProvince_containerCode,warehouseCity:s.warehouseCity_containerCode,warehouseDistrict:s.warehouseDistrict_containerCode,warehouseAddress:s.warehouseAddress_containerCode},e.handlerDefault={handler:o.handler,handlerName:o.handlerName,handlerUnit:o.handlerUnit,handlerUnitName:o.handlerUnitName,handlerRole:o.handlerRole,handlerRoleName:o.handlerRoleName},e.formData=(0,i.default)({},e.handlerDefault,{biComment:o.biComment,biId:o.biId,biProcessStatus:o.biProcessStatus,creator:o.creator,modifer:o.modifer}),e.biReferenceId=o.biReferenceId,e.$loading.hide()})},scanQRCode:function(){var e=this;(0,V.scanQRCode)().then(function(t){var a=t.result,n=void 0===a?"":a;e.scanResult=n})},selFacility:function(e){this.facility=e}},created:function(){}}},"5xvP":function(e,t,a){"use strict";function n(e){a("cmho")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("+RZR");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("UAiX"),s=a.n(o),l=a("XsI4"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-162012ab",null);t.default=c.exports},"6/Tc":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pop-name-list-container",on:{click:e.itemClick}},[e.selItems.PROJECT_NAME?[a("div",{staticClass:"user_info"},[a("div",{staticClass:"user_name"},[e._v("\n        "+e._s(e.selItems.PROJECT_NAME)),a("span",{staticClass:"symbol"},[e._v(" [项目名称]")])])]),e._v(" "),a("div",{staticClass:"cp_info"},[a("div",{staticClass:"cp_manager"},[e._v("\n        "+e._s(e.selItems.PROJECT_MANAGER)),a("span",{staticClass:"symbol"},[e._v(" [项目经理]")])]),e._v(" "),a("div",{staticClass:"cp_name"},[e.selItems.PROJECT_TYPE?[e._v("\n          "+e._s(e.selItems.PROJECT_TYPE)),a("span",{staticClass:"symbol"},[e._v(" [项目大类]")])]:e._e(),e._v(" "),e.selItems.PROJECT_SUBCLASS?[e._v("\n          "+e._s(e.selItems.PROJECT_SUBCLASS)),a("span",{staticClass:"symbol"},[e._v(" [项目子类]")])]:e._e()],2),e._v(" "),e.selItems.COMMENT?a("p",{staticClass:"cp_name"},[e._v("\n        "+e._s(e.selItems.COMMENT)),a("span",{staticClass:"symbol"},[e._v(" [项目说明]")])]):e._e(),e._v(" "),a("p",{staticClass:"cp_ads"},[e._v("预期开始日期: "+e._s(e._f("handlerDate")(e.selItems.EXPECT_START_DATE)))]),e._v(" "),a("p",{staticClass:"cp_ads"},[e._v("预期截止日期: "+e._s(e._f("handlerDate")(e.selItems.EXPECT_END_DATE)))])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.isChoice,expression:"isChoice"}],staticClass:"vux-x-icon vux-x-icon-ios-arrow-right r_arrow",attrs:{type:"ios-arrow-right",size:"30",xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M160 115.4L180.7 96 352 256 180.7 416 160 396.7 310.5 256z"}})])]:[a("div",{staticClass:"title required"},[e._v("项目名称")]),e._v(" "),a("div",{staticClass:"mode"},[e._v("请选择项目")]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})],e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("d-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.dealerList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.dealerList,function(t,n){return a("div",{key:n,staticClass:"each_mater box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"mater_main "},[a("div",{staticClass:"mater_info"},[a("div",{staticClass:"mater_name"},[e._v("\n                  "+e._s(t.PROJECT_NAME)),a("span",{staticClass:"symbol"},[e._v(" [项目名称]")])]),e._v(" "),a("div",{staticClass:"mater_detail"},[a("div",{staticClass:"mater_manager"},[e._v("\n                    "+e._s(t.PROJECT_MANAGER)),a("span",{staticClass:"symbol"},[e._v(" [项目经理]")])]),e._v(" "),t.COMMENT?a("div",{staticClass:"mater_comment"},[e._v("\n                    "+e._s(t.COMMENT)),a("span",{staticClass:"symbol"},[e._v(" [项目说明]")])]):e._e(),e._v(" "),a("div",{staticClass:"mater_time"},[a("div",[e._v("预期开始日期: "+e._s(e._f("handlerDate")(t.EXPECT_START_DATE)))]),e._v(" "),a("div",[e._v("预期截止日期: "+e._s(e._f("handlerDate")(t.EXPECT_END_DATE)))])])])])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1)])],1)],2)},r=[],i={render:n,staticRenderFns:r};t.a=i},"6/io":function(e,t,a){"use strict";function n(e){a("gfSB")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("Cnf0");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("esl5"),s=a.n(o),l=a("ySMP"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-2a7e2c56",null);t.default=c.exports},"69MN":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("4YfN"),s=n(o),l=a("3cXf"),d=n(l),u=a("0AQX"),c=a("+VRO"),f=n(c),h=a("BUFe"),m=n(h),v=a("AupE"),p=n(v),C=a("bFc7"),y=n(C),_=a("6WeX"),g=n(_),b=a("3NX5"),w=n(b);a("zWMP"),a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"",contactInfo:{}}},components:{workFlow:p.default,RAction:m.default,contactPart:y.default,PriceTotal:g.default,MatterList:w.default},mixins:[f.default],methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(e.submitInfo=JSON.parse((0,d.default)(t)),!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=void 0===a?[]:a,r=t.formData,o=void 0===r?{}:r;e.attachment=n;var l=o.order,u=l.dataSet,c=!0,f=!1,h=void 0;try{for(var m,v=(0,i.default)(u);!(c=(m=v.next()).done);c=!0){var p=m.value;p.inventoryPic=p.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+p.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){f=!0,h=e}finally{try{!c&&v.return&&v.return()}finally{if(f)throw h}}e.contactInfo={creatorName:o.dealerDebitContactPersonName,dealerName:l.dealerName_dealerDebit,dealerMobilePhone:o.dealerDebitContactInformation,dealerContactPersonName:o.dealerDebitContactPersonName,dealerCode:l.dealerDebit,dealerLabelName:l.drDealerLabel,province:l.province_dealerDebit,city:l.city_dealerDebit,county:l.county_dealerDebit,address:l.address_dealerDebit},e.matterList=u,e.orderInfo=(0,s.default)({},o,l),e.workFlowInfoHandler()})}},created:function(){}}},"6B8Z":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("4YfN"),s=n(o),l=a("3cXf"),d=n(l),u=a("0AQX"),c=a("+VRO"),f=n(c),h=a("BUFe"),m=n(h),v=a("AupE"),p=n(v),C=a("bFc7"),y=n(C),_=a("6WeX"),g=n(_),b=a("3NX5"),w=n(b),I=a("zWMP");a("Qg39");t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"",contactInfo:{}}},components:{workFlow:p.default,RAction:m.default,contactPart:y.default,PriceTotal:g.default,MatterList:w.default},mixins:[f.default],methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(e.submitInfo=JSON.parse((0,d.default)(t)),!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.formData,n=void 0===a?{}:a,r=t.attachment,o=void 0===r?[]:r,l=n.order,u=l.dataSet,c=!0,f=!1,h=void 0;try{for(var m,v=(0,i.default)(u);!(c=(m=v.next()).done);c=!0){var p=m.value;e.count=(0,I.accAdd)(e.count,p.tdAmount),p.inventoryPic=p.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+p.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){f=!0,h=e}finally{try{!c&&v.return&&v.return()}finally{if(f)throw h}}e.contactInfo={creatorName:l.dealerDebitContactPersonName,dealerName:l.dealerName_dealerDebit,dealerMobilePhone:n.dealerDebitContactInformation,dealerContactPersonName:n.dealerDebitContactPersonName,dealerCode:l.dealerDebit,dealerLabelName:l.drDealerLabel,province:l.province_dealerDebit,city:l.city_dealerDebit,county:l.county_dealerDebit,address:l.address_dealerDebit,payment:l.drDealerPaymentTerm,logistics:n.drDealerLogisticsTerms},e.matterList=l.dataSet,e.attachment=o,e.orderInfo=(0,s.default)({},n,l),e.workFlowInfoHandler()})}}}},"6IKZ":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2237,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"项目名称",value:"projectName_project"}]}},mixins:[r.default],methods:{},created:function(){}}},"6Nvu":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("lC5x"),i=n(r),o=a("3cXf"),s=n(o),l=a("J0Oq"),d=n(l),u=a("kNGm"),c=n(u),f=a("I8ug"),h=a("IzfM"),m=n(h),v=a("1KNX"),p=n(v),C=a("7hoq"),y=n(C),_=a("8dL1"),g=n(_),b=a("TZXR"),w=n(b);t.default={data:function(){return{scrollOptions:{click:!0},appInfo:{},commentList:[],LatestchangeLog:{},adminCommentList:[],isAppAdmin:!1,currentUserId:"",listId:"a4897429-f4f2-44a4-ade7-2fe8dc67c3cf"}},components:{RScroll:p.default,ChangeLog:y.default,AdminComment:g.default,OtherComment:w.default},watch:{$route:{handler:function(e,t){var a=e.meta,n=void 0===a?{}:a;"APPDETAIL"===e.name&&n.reload&&(this.$loading.show(),e.meta.reload=!1,this.getAppInfo(),this.$refs.changeLog.getChangeList(),this.$refs.adminComment.getAdminComment(),this.$refs.comment.getCommetList(),this.$loading.hide())}}},methods:{getDefaultIcon:function(e){var t=a("CYNT");return e&&(e.icon=t),t},getAppInfo:function(){var e=this;return(0,f.getAppDetail)(this.listId).then(function(t){e.appInfo=t[0],e.appInfo.icon=e.appInfo.icon?"/dist/"+e.appInfo.icon:"",e.appInfo.crtTime=(0,c.default)(e.appInfo.crtTime),e.appInfo.modTime=(0,c.default)(e.appInfo.modTime)})},getCurrentUser:function(){var e=this;return m.default.currentUser().then(function(t){e.currentUserId=t.userId})}},created:function(){var e=this,t=this.$route.params.listId;t&&(this.$loading.show(),this.listId=t,(0,d.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getCurrentUser();case 2:return t.next=4,e.getAppInfo().then(function(t){var a=(0,s.default)(e.currentUserId);e.appInfo.administratorId.length&&a===e.appInfo.administratorId&&(e.isAppAdmin=!0)});case 4:case"end":return t.stop()}},t,e)}))(),setTimeout(function(){e.$loading.hide()},500))}}},"6PGQ":function(e,t,a){"use strict";function n(e){a("vd51")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("GgbD");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("rVzw"),s=a.n(o),l=a("m8Ly"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-e377168e",null);t.default=c.exports},"6TM+":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("BGNQ"),i=n(r),o=a("z5TY"),s=n(o),l=a("kNGm"),d=(n(l),a("0AQX")),u=a("+VRO"),c=n(u),f=(a("Qg39"),a("BUFe")),h=n(f),m=a("AupE"),v=n(m),p=a("bFc7"),C=n(p),y=a("FlCz"),_=n(y),g=a("hPJo"),b=n(g);t.default={data:function(){return{workInfo:{},orderInfo:{},bomList:[],warehouse:{},warehouseConfig:[]}},mixins:[c.default],components:{Cell:i.default,Group:s.default,RAction:h.default,workFlow:v.default,contactPart:C.default,BomList:_.default,WarehouseContent:b.default},filters:{timeSplit:function(e){return e?e.split(" ")[0]:""}},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,d.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.attachment,i=void 0===r?[]:r,o=t.formData,s=void 0===o?{}:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var l=s.outPut,d=void 0===l?{}:l,u=d.dataSet,c=void 0===u?[]:u;e.warehouse={warehouseName_containerCode:d.warehouseName_containerCode,warehouseType_containerCode:d.warehouseType_containerCode,warehouseAddress_containerCode:d.warehouseAddress_containerCode,containerCode:d.containerCode},c.forEach(function(e){e.inventoryName=e.inventoryName_outPutMatCode,e.inventoryCode=e.outPutMatCode}),e.bomList=c,e.attachment=i,e.orderInfo=s,e.workInfo=s.order.dataSet[0],e.workFlowInfoHandler()})}}}},"6WUt":function(e,t){},"6WeX":function(e,t,a){"use strict";function n(e){a("50DD")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("iAQa");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("mKXa"),s=a.n(o),l=a("iEiQ"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-c98d79a6",null);t.default=c.exports},"6XrU":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("St0H");t.default={name:"cell-box",props:{isLink:Boolean,link:[String,Object],borderIntent:{type:Boolean,default:!0},noFlex:Boolean,alignItems:String},computed:{style:function(){if(this.alignItems)return{"align-items":this.alignItems}},className:function(){return{"vux-tap-active":this.isLink||!!this.link,"weui-cell_access":this.isLink||!!this.link,"vux-cell-no-border-intent":!this.borderIntent}}},methods:{onClick:function(){this.link&&(0,n.go)(this.link,this.$router)}}}},"6YVT":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages xsbj-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"or_ads mg_auto",on:{click:function(t){e.showProjectPop=!e.showProjectPop}}},[a("div",{staticClass:"title"},[e._v("项目名称")]),e._v(" "),e.projectName?a("div",[a("div",{staticClass:"cp_info"},[a("p",{staticClass:"cp_name"},[e._v(e._s(e.projectName))])])]):a("div",[a("div",{staticClass:"mode required"},[e._v("请选择项目名称")])]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})]),e._v(" "),e._l(e.CostList,function(t,n){return a("div",{key:n,staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"费用明细"+(n+1)}},[a("cell",{attrs:{title:"费用名称","is-link":""},nativeOn:{click:function(a){e.getCost(n,t)}},model:{value:t.costName,callback:function(a){e.$set(t,"costName",a)},expression:"item.costName"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("费用名称\n              ")])])],2),e._v(" "),a("cell",{attrs:{title:"费用编码",value:t.costCode}}),e._v(" "),a("cell",{attrs:{title:"费用科目",value:t.costSubject}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("费用科目")])])],2),e._v(" "),a("x-input",{attrs:{title:"金额","text-align":"right",placeholder:"请填写",type:"number"},on:{"on-blur":function(a){e.checkAmt(t)}},model:{value:t.price,callback:function(a){e.$set(t,"price",e._n(a))},expression:"item.price"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("金额\n              ")])])],2),e._v(" "),a("x-input",{attrs:{type:"text",title:"报销事由","text-align":"right",placeholder:"请填写"},model:{value:t.reson,callback:function(a){e.$set(t,"reson",a)},expression:"item.reson"}})],1)],1)}),e._v(" "),a("div",{staticClass:"add_more"},[e._v("\n        您还需要添加新的报销?请点击\n        "),a("span",{staticClass:"add",on:{click:e.addCost}},[e._v("新增")]),e._v(" "),a("em",{directives:[{name:"show",rawName:"v-show",value:e.CostList.length>1,expression:"CostList.length>1"}]},[e._v("或")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.CostList.length>1,expression:"CostList.length>1"}],staticClass:"delete",on:{click:e.deleteCost}},[e._v("删除")])]),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"其他信息"}},[a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-cost-list",{ref:"matter",attrs:{show:e.showCostPop,defaultValue:e.selectedCost,getListMethod:"getProjectCostByGroupId","group-id":e.formData.handlerUnit},on:{"sel-matter":e.selMatter},model:{value:e.showCostPop,callback:function(t){e.showCostPop=t},expression:"showCostPop"}}),e._v(" "),a("pop-project-list",{attrs:{show:e.showProjectPop,"default-value":e.defaultProject},on:{"sel-project":e.selProject},model:{value:e.showProjectPop,callback:function(t){e.showProjectPop=t},expression:"showProjectPop"}})],2)]),e._v(" "),a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num"},[a("span",{staticStyle:{fontSize:".14rem"}},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.totalAmount,3))+"\n    ")]),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"count_btn stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},"6aPk":function(e,t,a){"use strict";function n(e){a("AlX/")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("SiYZ");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("+AWf"),s=a.n(o),l=a("qeoT"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-864262ca",null);t.default=c.exports},"6arZ":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("B8DQ");t.default={name:"tab",mixins:[n.parentMixin],mounted:function(){var e=this;this.$nextTick(function(){setTimeout(function(){e.hasReady=!0},0)})},props:{lineWidth:{type:Number,default:3},activeColor:String,barActiveColor:String,defaultColor:String,disabledColor:String,animate:{type:Boolean,default:!0},customBarWidth:[Function,String],preventDefault:Boolean,scrollThreshold:{type:Number,default:4},barPosition:{type:String,default:"bottom",validator:function(e){return-1!==["bottom","top"].indexOf(e)}}},computed:{barLeft:function(){if(this.hasReady){var e=this.scrollable?window.innerWidth/this.$children[this.currentIndex||0].$el.getBoundingClientRect().width:this.number;return this.currentIndex*(100/e)+"%"}},barRight:function(){if(this.hasReady){var e=this.scrollable?window.innerWidth/this.$children[this.currentIndex||0].$el.getBoundingClientRect().width:this.number;return(e-this.currentIndex-1)*(100/e)+"%"}},innerBarStyle:function(){return{width:"function"==typeof this.customBarWidth?this.customBarWidth(this.currentIndex):this.customBarWidth,backgroundColor:this.barActiveColor||this.activeColor}},barStyle:function(){var e={left:this.barLeft,right:this.barRight,display:"block",height:this.lineWidth+"px",transition:this.hasReady?null:"none"};return this.customBarWidth?e.backgroundColor="transparent":e.backgroundColor=this.barActiveColor||this.activeColor,e},barClass:function(){return{"vux-tab-ink-bar-transition-forward":"forward"===this.direction,"vux-tab-ink-bar-transition-backward":"backward"===this.direction}},scrollable:function(){return this.number>this.scrollThreshold}},watch:{currentIndex:function(e,t){this.direction=e>t?"forward":"backward",this.$emit("on-index-change",e,t),this.hasReady&&this.scrollToActiveTab()}},data:function(){return{direction:"forward",right:"100%",hasReady:!1}},methods:{scrollToActiveTab:function(){var e=this;if(this.scrollable&&this.$children&&this.$children.length){var t=this.$children[this.currentIndex].$el,a=0,n=function n(){var r=e.$refs.nav;r.scrollLeft+=(t.offsetLeft-(r.offsetWidth-t.offsetWidth)/2-r.scrollLeft)/15,++a<15&&window.requestAnimationFrame(n)};window.requestAnimationFrame(n)}}}}},"6q0y":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper xsbj-detail-container"},[e.orderInfo?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_content"},[e._m(0),e._v(" "),a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"工序名称",cellContent:e.workInfo.procedureName_proPointCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"工序编码",cellContent:e.workInfo.proPointCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"工序待验收",cellContent:e.workInfo.thenQtyStock}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"工序可派工",cellContent:e.workInfo.thenQtyBal}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"派工数量",cellContent:e.workInfo.tdQty}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"工人",cellContent:e.workInfo.dealerName_dealerDebit}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"设施",cellContent:e.workInfo.facilityName_facilityObjCode||"无"}})],1)]),e._v(" "),a("div",{staticClass:"form_content",staticStyle:{marginTop:".1rem"}},[e._m(1),e._v(" "),a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"加工订单号",cellContent:e.workInfo.processCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"成品名称",cellContent:e.workInfo.inventoryName_transObjCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"订单加工数",cellContent:e.workInfo.processProQty}})],1)]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title"},[a("span",{staticClass:"iconfont icon-mingxi1"}),e._v(" "),a("span",[e._v("工单信息")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title"},[a("span",{staticClass:"iconfont icon-mingxi1"}),e._v(" "),a("span",[e._v("加工订单信息")])])}],i={render:n,staticRenderFns:r};t.a=i},"6q39":function(e,t,a){"use strict";function n(e){a("Thu3")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("UbXN");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("1ih/"),s=a.n(o),l=a("OXqN"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,null,null);t.default=c.exports},"6qf8":function(e,t){},"6ule":function(e,t){},"72Df":function(e,t){},"73SI":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("B8DQ");t.default={name:"tab-item",mixins:[n.childMixin],props:{activeClass:String,disabled:Boolean,badgeBackground:{type:String,default:"#f74c31"},badgeColor:{type:String,default:"#fff"},badgeLabel:String},computed:{style:function(){return{borderWidth:this.$parent.lineWidth+"px",borderColor:this.$parent.activeColor,color:this.currentSelected?this.$parent.activeColor:this.disabled?this.$parent.disabledColor:this.$parent.defaultColor,border:this.$parent.animate?"none":"auto"}}}}},"74vp":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("a3Yh"),s=n(o),l=a("PzEQ"),d=n(l),u=a("kNGm"),c=(n(u),a("jLp1")),f=a("HyXB"),h=a("bKg5"),m=n(h),v=a("PKHo"),p=n(v),C=a("Pkp+"),y=n(C),_=a("+WR7"),g=n(_),b=a("A/PN"),w=n(b),I=a("lsbD"),D=n(I),x=(a("zWMP"),a("Qg39"));t.default={mixins:[m.default,p.default],components:{RPicker:y.default,PopBaseinfo:g.default,XTextarea:d.default,PopJobList:w.default,OpButton:D.default},data:function(){return{listId:"630a9b96-f257-48b6-b0bc-fd64c455d92b",jobLog:{},formData:(0,s.default)({biComment:"",biProcessStatus:""},"biProcessStatus",""),defaultJob:{},hasDefault:!1}},computed:{projectType:function(){return this.jobLog.projectType}},methods:{checkAmt:function(e,t,a){this.jobLog[t]=(0,x.toFixed)(a,1)},save:function(){var e=this,t="";if(t=this.verifyData(this.otherConfig,this.jobLog))return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=c.saveJobLog;e.$route.query.transCode&&(t=f.update);var a={listId:e.listId,formData:{comment:{biComment:e.formData.biComment},baseinfo:(0,i.default)({id:"",handlerEntity:e.entity.dealerName},e.formData),jobLog:(0,i.default)({groupName:e.formData.groupName,roleName:e.formData.roleName,hourlyCost:"",jobLogId:"",logGroupCode:"",logRoleCode:"",missionCost:""},e.jobLog)},wfParam:null};e.saveData(t,a)}})},selJob:function(e){var t=JSON.parse(e);this.jobLog=(0,i.default)({},this.jobLog,{projectName:t.projectName,dealerName:t.dealerName,executor:t.executor,projectTaskName:t.taskName,projectTaskId:t.taskId})},getFormData:function(){var e=this;return(0,c.jobLog)(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a;e.hasDefault=!0,e.defaultJob={dealerName:n.jobLog.projectManager,dealerMobilePhone:n.jobLog.phoneNumber},n.jobLog.expectStartDate=e.changeDate(n.jobLog.expectStartDate),n.jobLog.expectEndDate=e.changeDate(n.jobLog.expectEndDate),e.jobLog=n.jobLog,e.$nextTick(function(){e.hasDefault=!1}),e.handlerDefault={handler:n.baseinfo.handler,handlerName:n.baseinfo.handlerName,handlerUnit:n.baseinfo.handlerUnit,handlerUnitName:n.baseinfo.handlerUnitName,handlerRole:n.baseinfo.handlerRole,handlerRoleName:n.baseinfo.handlerRoleName},e.formData=(0,i.default)({},e.formData,e.handlerDefault,{biComment:n.comment.biComment,id:n.baseinfo.id,biProcessStatus:n.baseinfo.biProcessStatus,creator:n.baseinfo.creator,modifer:n.baseinfo.modifer,handlerEntity:n.baseinfo.handlerEntity}),e.biReferenceId=n.biReferenceId,e.$loading.hide()})},hasDraftData:function(){return!!(this.jobLog.projectName||this.jobLog.projectType||this.jobLog.projectManagerName)&&(0,s.default)({},"XMLX_DATA",{jobLog:this.jobLog,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("XMLX_DATA");if(e){var t=JSON.parse(e);this.jobLog=t.jobLog,this.formData=t.formData,this.defaultJob={dealerName:this.jobLog.projectManager,dealerMobilePhone:this.jobLog.phoneNumber},sessionStorage.removeItem("XMLX_DATA")}}}},"75mE":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("4YfN"),r=function(e){return e&&e.__esModule?e:{default:e}}(n),i=a("zWMP");t.default={name:"MatterItem",filters:{percent:function(e){return e||0===e?(0,i.accMul)(e,100)+"%":"无"}},props:{showDelete:{type:Boolean,default:!1},item:{type:Object,default:function(){return{}}},config:{type:Array,default:function(){return[]}}},watch:{item:{handler:function(e){this.matter=(0,r.default)({},this.item)},deep:!0,immediate:!0}},computed:{showEdit:function(){if(this.matter.price||this.matter.tdQty)return this.matter.price||this.matter.tdQty},hideEdit:function(){if(""===this.matter.price||""===this.matter.tdQty||0===this.matter.price||0===this.matter.tdQty)return!this.matter.price||!this.matter.tdQty}},data:function(){return{matter:{}}},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},modifyMatter:function(){this.$emit("on-modify",this.item)}}}},"76tj":function(e,t){},"7ChK":function(e,t){},"7D89":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"order-list":e.orderList,"order-title":e.orderTitle},on:{"on-show-more":e.onShowMore}}),e._v(" "),a("other-part",{attrs:{"other-info":e.orderInfo,attachment:e.attachment}}),e._v(" "),a("pop-matter-detail",{attrs:{show:e.showMatterDetail,item:e.matterDetail},model:{value:e.showMatterDetail,callback:function(t){e.showMatterDetail=t},expression:"showMatterDetail"}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[],i={render:n,staticRenderFns:r};t.a=i},"7D9F":function(e,t,a){"use strict";function n(e){a("ZQuG")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("7oTb");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("CpKl"),s=a.n(o),l=a("7sHf"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-4457e678",null);t.default=c.exports},"7Fqm":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=(a("jLp1"),a("MjAd")),s=n(o);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2325,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"项目名称",value:"projectName"}]}},mixins:[s.default],methods:{goDetail:function(e,t){var a=this;if(!this.clickVisited){var n=e.transCode,r=this.$route.query.name,o=this.$route.params,s=o.folder,l=o.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,i.default)({},e)),setTimeout(function(){a.clickVisited=!1,a.$router.push({path:"/detail/"+s+"/"+l,query:{name:r,transCode:n}})},200)}},getTaskIcon:function(e){return["icon-task","icon-task2","icon-task3"][e%3]}}}},"7LsP":function(e,t){},"7NvN":function(e,t,a){"use strict";function n(e){a("yPYD")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("PoQm");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("1hzx"),s=a.n(o),l=a("Khl4"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-3521f9ab",null);t.default=c.exports},"7OD1":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper xmlw-detail-container"},[a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.orderInfo,"order-info":e.orderInfo}}),e._v(" "),a("div",{staticClass:"form_content"},[a("div",{staticClass:"main_content"},e._l(e.otherConfig,function(t,n){return a("div",{key:n,staticClass:"vux-1px-b"},[t.id.includes("Datefield")?[a("div",{staticClass:"each_info"},[a("label",[e._v(e._s(t.fieldLabel))]),e._v(" "),a("span",{staticClass:"field_value"},[e._v(e._s(e._f("timeSplit")(e.jobLog[t.fieldCode])))])])]:[a("div",{staticClass:"each_info"},[a("label",[e._v(e._s(t.fieldLabel))]),e._v(" "),a("span",{staticClass:"field_value"},[e._v(e._s(e.jobLog[t.fieldCode]||"无"))])])]],2)}),0)]),e._v(" "),a("other-part",{attrs:{"other-info":e.orderInfo,attachment:e.attachment}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1)])},r=[],i={render:n,staticRenderFns:r};t.a=i},"7PqM":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2577,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"客户名称",value:"dealerName_dealerCodeCredit"}]}},mixins:[r.default],methods:{},created:function(){}}},"7Qr1":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"popup-matter-container",class:{"has-edit":e.hasEditPart,"is-focus":e.btnIsHide},attrs:{height:"80%"},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"popup-top"},[a("i",{staticClass:"icon-close",on:{click:e.hidePop}})]),e._v(" "),a("header",{staticClass:"popup-header"},[e._v("其他信息")]),e._v(" "),a("r-scroll",{ref:"bScroll"},[a("div",{staticClass:"matter-main"},[a("img",{staticClass:"matter_img",attrs:{src:e.item.inventoryPic,alt:"mater_img"},on:{error:function(t){e.getMatterDefault(e.item)}}}),e._v(" "),a("div",{staticClass:"matter_info"},[a("div",{staticClass:"matter_name"},[e._v("\n            "+e._s(e.item.inventoryName_transObjCode||e.item.facilityName_facilityObjCode||"该物料未获取到名称，请检查物料信息。")+"\n          ")]),e._v(" "),a("div",{staticClass:"matter_info_item flex-start"},[a("div",{staticClass:"matter_detail"},[a("span",{staticClass:"matter_item_title"},[e._v("属性：")]),e._v(" "),a("span",{staticClass:"matter_item_value"},[e._v(e._s(e.item.tdProcessing))])]),e._v(" "),a("div",{staticClass:"matter_detail"},[a("span",{staticClass:"matter_item_title"},[e._v("规格：")]),e._v(" "),a("span",{staticClass:"matter_item_value"},[e._v(e._s(e.item.specification_transObjCode||e.item.specification_outPutMatCode||e.item.facilitySpecification_facilityObjCode||"无"))])])]),e._v(" "),a("div",{staticClass:"matter_info_item"},[a("div",{staticClass:"matter_detail"},[a("span",{staticClass:"matter_item_title"},[e._v("编码：")]),e._v(" "),a("span",{staticClass:"matter_item_value"},[e._v(e._s(e.item.transObjCode||e.item.facilityObjCode||"无"))])])])])]),e._v(" "),e.hasEditPart?a("div",{staticClass:"matter-edit-part"},e._l(e.editParts,function(t,n){return a("div",{key:n},["r2Numberfield"===t.editorType||"r2Percentfield"===t.editorType||"r2Permilfield"===t.editorType?a("x-input",{staticClass:"vux-1px-b",attrs:{type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(a){e.checkAmt(e.item,t.fieldCode,e.item[t.fieldCode])},"on-focus":function(t){e.getFocus(t)}},model:{value:e.item[t.fieldCode],callback:function(a){e.$set(e.item,t.fieldCode,e._n(a))},expression:"item[eItem.fieldCode]"}},[a("template",{slot:"label"},[a("span",{class:{required:!t.allowBlank}},[e._v(e._s(t.text))])])],2):e._e()],1)}),0):e._e(),e._v(" "),a("div",{staticClass:"matter-other"},e._l(e.readOnlyParts,function(t,n){return a("div",{key:n,staticClass:"matter_other_item"},[a("span",{staticClass:"matter_other_title"},[e._v(e._s(t.text))]),e._v(" "),a("span",[e._v(e._s(t.value))])])}),0),e._v(" "),e.hasDate?a("div",{staticClass:"matter-date vux-1px-t"},e._l(e.item.dates,function(t,n){return a("div",{key:n,staticClass:"matter_date_item"},[a("span",{staticClass:"matter_date_title"},[e._v(e._s(t.text)+"：")]),e._v(" "),a("span",[e._v(e._s(t.value))])])}),0):e._e(),e._v(" "),e.item.matterComment&&e.item.matterComment.text?a("div",{staticClass:"matter-comment",class:{"vux-1px-t":!e.hasDate}},[a("div",{staticClass:"matter_comment_title"},[e._v(e._s(e.item.matterComment.text))]),e._v(" "),a("div",{staticClass:"matter_comment_value"},[e._v(e._s(e.item.matterComment.value))])]):e._e()]),e._v(" "),e.hasEditPart?a("div",{staticClass:"confirm_btn",on:{click:e.confirm}},[a("div",{staticClass:"confirm"},[e._v("确认")])]):e._e()],1)],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},"7W0M":function(e,t){},"7biW":function(e,t,a){"use strict";function n(e){a("djx7")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("uzoC");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("mOwv"),s=a.n(o),l=a("hTZw"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-ecb26ae0",null);t.default=c.exports},"7cdy":function(e,t,a){"use strict";function n(e){a("zcWx")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("Lp2T");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("Lmxl"),s=a.n(o),l=a("qw7n"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-21d75f8c",null);t.default=c.exports},"7d38":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2233,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}]}},mixins:[r.default],methods:{},created:function(){}}},"7dY3":function(e,t){},"7fRA":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("kNGm"),s=n(o),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("AupE"),f=n(c),h=a("BUFe"),m=n(h),v=a("bFc7"),p=n(v),C=a("3NX5"),y=n(C),_=a("zlAJ"),g=n(_);t.default={data:function(){return{orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},attachment:[]}},mixins:[u.default],components:{workFlow:f.default,RAction:m.default,contactPart:p.default,MatterList:y.default,UploadFile:g.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u=o.order,c=u.dataSet,f=!0,h=!1,m=void 0;try{for(var v,p=(0,i.default)(c);!(f=(v=p.next()).done);f=!0){var C=v.value;C.inventoryPic=C.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+C.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){h=!0,m=e}finally{try{!f&&p.return&&p.return()}finally{if(h)throw m}}e.attachment=d,o.validUntil=(0,s.default)(u.validUntil,"YYYY-MM-DD"),e.matterList=u.dataSet,e.orderInfo=o,e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo={creatorName:t.dealerDebitContactPersonName,dealerName:a.dealerName_dealerDebit,dealerMobilePhone:t.dealerDebitContactInformation,dealerContactPersonName:t.dealerDebitContactPersonName,dealerCode:a.dealerDebit,dealerLabelName:a.drDealerLabel,province:a.province_dealerDebit,city:a.city_dealerDebit,county:a.county_dealerDebit,address:a.address_dealerDebit,payment:a.drDealerPaymentTerm,validUntil:t.validUntil,logistics:t.drDealerLogisticsTerms}}}}},"7g+Q":function(e,t,a){"use strict";function n(e){a("Uwbf")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("XS99");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("hBwb"),s=a.n(o),l=a("5ixT"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,null,null);t.default=c.exports},"7hg6":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2625,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"},{name:"往来名称",value:"dealerName_dealerCodeCredit"}]}},mixins:[r.default],methods:{},created:function(){}}},"7hoq":function(e,t,a){"use strict";function n(e){a("4DOw")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("zqmM");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("RXIz"),s=a.n(o),l=a("JZw5"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-64dcd256",null);t.default=c.exports},"7lYt":function(e,t){},"7oTb":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("IHPB"),s=n(o),l=a("3cXf"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),h=n(f),m=a("+62G"),v=n(m),p=a("6q39"),C=n(p),y=a("HyXB"),_=a("1KNX"),g=n(_),b=a("7biW"),w=n(b);t.default={name:"PopManagerList",props:{title:{type:String,default:"项目经理"},defaultValue:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1}},directives:{TransferDom:v.default},components:{Icon:c.default,Popup:h.default,RScroll:g.default,DSearch:w.default,LoadMore:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},computed:{tip:function(){var e="加载中";return this.hasNext||(e="暂无数据"),e}},watch:{defaultValue:function(e){this.setDefaultValue()}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this.getList()},showSelIcon:function(e){return this.selItems.dealerName===e.dealerName},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.$emit("sel-item",(0,d.default)(this.selItems))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,s.default)(t),[{operator:"like",value:this.srhInpTx,property:"dealerName"}])),(0,y.getObjDealerByLabelName)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,dealerLabelName:"员工",filter:(0,d.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+i.length,e.listData=1===e.page?i:[].concat((0,s.default)(e.listData),(0,s.default)(i)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.selItems=this.defaultValue?(0,i.default)({},this.defaultValue):{}},warehouseClick:function(){this.disabled||(this.showPop=!this.showPop)},addWarehouse:function(){this.$router.push({path:"/warehouse/edit_warehouse",query:{add:1}})}},created:function(){this.setDefaultValue(),this.disabled||this.getList()}}},"7qeq":function(e,t,a){"use strict";function n(e){a("ijPy")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("aA6S");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("6XrU"),s=a.n(o),l=a("cIwV"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,null,null);t.default=c.exports},"7rAE":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"badge",props:{text:[String,Number]}}},"7sHf":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"or_ads",on:{click:e.warehouseClick}},[a("div",[a("div",{staticClass:"each_property"},[a("label",{staticClass:"required"},[e._v(e._s(e.title))]),e._v(" "),a("div",{staticClass:"picker"},[a("span",{staticClass:"mater_nature"},[e._v(e._s(e.selItems.dealerName||"请选择"))]),e._v(" "),a("span",{staticClass:"icon-right"})])])]),e._v(" "),e.disabled?e._e():a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("d-search",{on:{search:e.searchList}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"pop-list-container",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"pop-mater-list-item box_sd",class:{selected:e.showSelIcon(t)},on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"pop-list-main "},[a("div",{staticClass:"pop-list-info"},[a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline name",staticStyle:{display:"inline-block"}},[a("span",[e._v(e._s(t.dealerName))])]),e._v(" "),a("div",{staticClass:"ForInline name",staticStyle:{display:"inline-block"}},[a("span")])]),e._v(" "),t.dealerMobilePhone?a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline ",staticStyle:{display:"inline-block"}},[a("span",{staticClass:"creator"},[e._v(e._s(t.dealerMobilePhone))])])]):e._e(),e._v(" "),a("div",{staticClass:"withoutColor"},[a("span",[e._v(e._s(t.province)+e._s(t.city)+e._s(t.county)+e._s(t.address))])])])])])}),0)],1)])],1)])},r=[],i={render:n,staticRenderFns:r};t.a=i},"7sWR":function(e,t,a){"use strict";function n(e){a("OGXG")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("ic8P");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("Rg2x"),s=a.n(o),l=a("mZjk"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-867bb950",null);t.default=c.exports},"7sn7":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("lC5x"),i=n(r),o=a("J0Oq"),s=n(o),l=a("rVsN"),d=n(l),u=a("3cXf"),c=n(u),f=a("IHPB"),h=n(f),m=a("KH7x"),v=n(m),p=a("4YfN"),C=n(p),y=a("8VZL"),_=n(y),g=a("HXPS"),b=n(g),w=a("fQz5"),I=n(w),D=a("HyXB"),x=a("I3vJ"),P=a("I8ug"),S=a("1KNX"),k=n(S),L=a("7biW"),N=n(L),M=a("Ab2S"),T=n(M);t.default={components:{Tab:_.default,Icon:b.default,TabItem:I.default,RScroll:k.default,RSearch:N.default,addBtn:T.default},data:function(){return{listId:"78a798f8-0f3a-4646-aa8b-d5bb1fada28c",srhInpTx:"",matNature:[{name:"全部"},{name:"成品"},{name:"半成品"},{name:"商品"},{name:"原件"},{name:"虚拟件"},{name:"商品库存"},{name:"客供原料"},{name:"服务"}],placeHolder:"名称/编码",activeTab:"",activeIndex:0,matterList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0},total:null,clickVisited:!1,action:{},listFields:[]}},methods:{goEditAds:function(){var e={path:"/materlist/addMater"};this.activeTab.length&&(e.query={matterType:this.activeTab}),this.$router.push(e)},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},goDetail:function(e,t){var a=this;this.clickVisited||(this.clickVisited=!0,e.visited=!0,this.$set(this.matterList,t,(0,C.default)({},e)),setTimeout(function(){a.clickVisited=!1,a.$router.push({path:"/materlist/materDetail",query:{transCode:e.transCode}})},200))},resetCondition:function(){this.matterList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.$refs.bScroll.resetPullDown()},tabClick:function(e,t){this.activeTab=t?e.name:"",this.activeIndex=t,this.resetCondition(),this.getMatList()},getDictByType:function(){var e=this;return(0,D.getDictByType)("processing").then(function(t){var a=t.tableContent,n=(0,v.default)(a,1);n[0];e.activeTab="",a.unshift({name:"全部"}),e.matNature=[].concat((0,h.default)(a))})},getMatList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=[{operator:"eq",value:this.activeTab,property:"processing"}];return this.activeIndex||(a[0].operator="like"),this.srhInpTx&&(a=[].concat((0,h.default)(a),[{link:"or",property_1:"inventoryCode",operator_1:"like",value_1:this.srhInpTx,property_2:"inventoryName",operator_2:"like",value_2:this.srhInpTx}])),(0,x.getMatList)({limit:this.limit,page:this.page,filter:(0,c.default)(a),listViewID:2132,sort:(0,c.default)([{property:"effectiveTime",direction:"desc"},{property:"inventoryName",direction:"desc"}])}).then(function(a){var n=a.dataCount,r=void 0===n?0:n,i=a.tableContent,o=void 0===i?[]:i,s="",l=e.listFields;t&&0===e.activeIndex&&e.total&&(s=r-e.total==0?"暂无新数据":"新增"+(r-e.total)+"条数据",e.$vux.toast.show({text:s,position:"top",width:"50%",type:"text",time:700})),0===e.activeIndex&&1===e.page&&sessionStorage.setItem("WL",r),o.forEach(function(t){t.inventoryPic=t.inventoryPic?"/H_roleplay-si/ds/download?url="+t.inventoryPic+"&width=400&height=400":e.getDefaultImg(),t.fields=l.map(function(e){return(0,C.default)({},e,{fieldValue:t[e.fieldCode]})})}),e.hasNext=r>(e.page-1)*e.limit+o.length,e.matterList=1===e.page?o:[].concat((0,h.default)(e.matterList),(0,h.default)(o)),t||e.$nextTick(function(){e.resetScroll()})}).catch(function(t){e.resetScroll()})},resetScroll:function(){this.$refs.bScroll.finishPullDown(),this.$refs.bScroll.finishPullUp()},searchMat:function(e){var t=e.val,a=void 0===t?"":t;e.property;this.srhInpTx=a,this.resetCondition(),this.getMatList()},onPullingUp:function(){this.page++,this.getMatList()},onPullingDown:function(){this.page=1,this.getData(!0)},getSession:function(){var e=this;return new d.default(function(t){e.total=sessionStorage.getItem("WL"),t()})},getData:function(e){var t=this;return(0,s.default)(i.default.mark(function a(){return i.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getSession();case 2:if(!e){a.next=6;break}return a.next=5,t.getMatList(!0).then(function(){t.$nextTick(function(){t.$refs.bScroll.finishPullDown().then(function(){t.$refs.bScroll.finishPullUp()})})});case 5:return a.abrupt("return");case 6:return a.next=8,t.getMatList();case 8:case"end":return a.stop()}},a,t)}))()},changeVisitedStatus:function(){var e=this;setTimeout(function(){var t=[].concat((0,h.default)(e.matterList));t.forEach(function(e){e.visited=!1}),e.matterList=t},200)},getAppDetail:function(){var e=this;return(0,P.getAppDetail)(this.listId).then(function(t){var a=(0,v.default)(t,1),n=a[0],r=void 0===n?{}:n,i=r.action;e.action=i})},getListViewById:function(){var e=this;return(0,D.getListViewById)("eae9040e-bcb3-4ab9-bef6-639041b1d21b").then(function(t){var a=(0,v.default)(t,1),n=a[0],r=void 0===n?{}:n,i=JSON.parse(r.content||"{}"),o=i.fields,s=void 0===o?[]:o,l=["inventoryType","inventorySubclass","measureUnit","processing"];e.listFields=s.filter(function(e){return!e.isHidden&&l.includes(e.fieldCode)})})}},watch:{$route:{handler:function(e,t){var a=e.path,n=void 0===a?"":a,r=e.meta,i=void 0===r?{}:r;"/materlist"===n&&(this.changeVisitedStatus(),i.reload&&(e.meta.reload=!1,this.srhInpTx="",this.activeTab="",this.activeIndex=0,this.resetCondition(),this.getData(!1)))}}},created:function(){var e=this;(0,s.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getAppDetail();case 2:return t.next=4,e.getSession();case 4:return t.next=6,e.getListViewById();case 6:return t.next=8,e.getDictByType().then(function(){e.getMatList()});case 8:case"end":return t.stop()}},t,e)}))()}}},"7xzZ":function(e,t,a){"use strict";function n(e){a("FbNx")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("ntXv");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("Zdcs"),s=a.n(o),l=a("kotN"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-039b5bae",null);t.default=c.exports},"817f":function(e,t){},"81q/":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isModify?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.hide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.allCheck,expression:"!allCheck"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.allCheck,expression:"allCheck"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n    全选\n  ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteItem}},[e._v("删除")])]):a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.hide}},[e.tdAmount?a("span",{staticClass:"count_num",class:{nine_up:e.tdAmount.length>8,ten_up:e.tdAmount.length>9,ele_up:e.tdAmount.length>10}},[a("span",{staticClass:"total_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.tdAmount))+"\n      ")]),e._v(" "),e.taxAmount?a("span",{staticClass:"taxAmount"},[e._v("[含税: ￥"+e._s(e._f("numberComma")(e.taxAmount))+"]")]):e._e()]):e._e(),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submit}},[e._v("提交")])])},r=[],i={render:n,staticRenderFns:r};t.a=i},"82Uv":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("ZLEe"),i=n(r),o=a("HzJ8"),s=n(o),l=a("IHPB"),d=n(l),u=a("3cXf"),c=n(u),f=a("MgeX"),h=n(f),m=a("p00s"),v=n(m),p=a("4YfN"),C=n(p),y=a("3QQJ"),_=n(y),g=a("Dkzh"),b=a("1KNX"),w=n(b),I=a("6aPk"),D=n(I),x=a("WJwd"),P=n(x),S=a("bBLw"),k=n(S),L=a("Z5v5"),N={page:1,limit:10,hasNext:!0,isNull:!1,listData:[]};t.default={data:function(){return{tabList:[{name:"待办",status:"todo"},{name:"评论",status:"comment"},{name:"点赞",status:"praise"}],activeIndex:0,scrollOptions:{bounce:{top:!1},pullUpLoad:!0},isClickDetail:!1,pageSwiper:null,noticeData:{todo:(0,C.default)({},N,{listData:{}}),comment:(0,C.default)({},N),praise:(0,C.default)({},N)},isMovingSwiper:!1}},computed:{noDataText:function(){return["暂无待办消息","暂无评论消息","暂无点赞消息"][this.activeIndex]},currentItem:function(){var e=this.tabList[this.activeIndex].status;return this.noticeData[e]},currentScroll:function(){return this.$refs.bScroll[this.activeIndex]}},components:{Badge:_.default,RScroll:w.default,TodoItem:P.default,CommentItem:k.default,RTab:D.default},methods:{onTabClick:function(e){var t=e.index;this.activeIndex=t,this.currentScroll.scrollTo(0,0),this.resetCondition(),this.pageSwiper.slideTo(t)},getDefaultIcon:function(e){var t=a("CYNT");return e&&(e.icon=t),t},resetCondition:function(){var e=this.tabList[this.activeIndex].status,t=(0,C.default)({},N);this.activeIndex||(t.listData={}),this.noticeData[e]=t},getList:function(){var e=this;return(0,g.getMsgList)().then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r,o={};if(e.$event.$emit("badgeNum",n),e.currentItem.hasNext=!1,i.forEach(function(t){t.pic=t.icon?"/dist/"+t.icon:e.getDefaultIcon(),t.packagePath&&(o[t.title]?o[t.title].list.push(t):o[t.title]={list:[t],noBorder:!1})}),!(0,v.default)(o).length)return void(e.currentItem.isNull=!0);var s=(0,h.default)(o);s.length&&(s[s.length-1].noBorder=!0),e.currentItem.listData=o,e.$nextTick(function(){e.currentScroll.finishPullUp()})})},goMsglist:function(e,t){var a=this,n=this.tabList[this.activeIndex].status;this.isMovingSwiper||(e.visited=!0,this.isClickDetail=!0,this.$set(this.noticeData[n].listData,t,(0,C.default)({},e)),setTimeout(function(){a.$router.push({path:"/msglist",query:{name:t}})},200))},setReply:function(e){return'<span style="color: #2994FD;">'+e+"</span>"},getNotice:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"comment",a=this.currentItem,n=a.page,r=a.limit,i=[{property:"type",operator:"eq",value:t}];return(0,g.getNotice)({page:n,limit:r,filter:(0,c.default)(i)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r,o=e.currentItem,l=o.page,u=o.limit;e.currentItem.isNull=!i.length,e.currentItem.hasNext=n>(l-1)*u+i.length;var c=!0,f=!1,h=void 0;try{for(var m,v=(0,s.default)(i);!(c=(m=v.next()).done);c=!0){var p=m.value,C=JSON.parse(p.content);p.comment=C.content,p.commentType=C.type,p.attachment=C.attachment,p.RELATION_KEY=C.relationKey,p.pic=p.icon?"/dist/"+p.icon:e.getDefaultIcon(),p.other="list"===C.type?"@应用详情":"@实例编码："+C.relationKey,-1!==C.parentId&&(p.comment="回复@"+e.setReply(C.objCreator)+"："+C.content,p.reply={createrName:C.objCreator,comment:"@"+e.setReply(C.objCreator)+" 评论："+C.objContent})}}catch(e){f=!0,h=e}finally{try{!c&&v.return&&v.return()}finally{if(f)throw h}}return e.currentItem.listData=1===e.page?i:[].concat((0,d.default)(e.currentItem.listData),(0,d.default)(i)),e.$nextTick(function(){e.currentScroll.finishPullUp()}),t})},getNoticeByPraise:function(){var e=this,t=this.currentItem,a=t.page,n=t.limit;return(0,g.getNoticeByPraise)({page:a,limit:n}).then(function(t){var a=t.total,n=void 0===a?0:a,r=t.praiseNoticeList,i=void 0===r?[]:r,o=e.currentItem,l=o.page,u=o.limit;e.currentItem.isNull=!i.length,e.currentItem.hasNext=n>(l-1)*u+i.length;var c=!0,f=!1,h=void 0;try{for(var m,v=(0,s.default)(i);!(c=(m=v.next()).done);c=!0){var p=m.value,C=JSON.parse(p.content);p.comment="赞了这条评论",p.reply={createrName:C.creator,comment:"@"+e.setReply(C.creator)+": "+C.content,attachment:C.attachment},p.commentType=C.type,p.attachment=C.attachment,p.RELATION_KEY=C.relationKey,p.pic=p.icon?"/dist/"+p.icon:e.getDefaultIcon(),p.other="list"===C.type?"@应用详情":"@实例编码："+C.relationKey}}catch(e){f=!0,h=e}finally{try{!c&&v.return&&v.return()}finally{if(f)throw h}}return e.currentItem.listData=1===e.page?i:[].concat((0,d.default)(e.currentItem.listData),(0,d.default)(i)),e.$nextTick(function(){e.currentScroll.finishPullUp()}),t})},getComment:function(){return this.getNotice()},getPraise:function(){return this.getNoticeByPraise()},goDetail:function(e,t){var a=this,n=e.listId,r=e.folder,i=e.packagePath,o=e.listName,s=e.RELATION_KEY,l=e.commentType,d={name:o,transCode:s},u="/detail/"+r+"/"+i,c=this.tabList[this.activeIndex].status;this.isMovingSwiper||("list"===l&&(u="/appDetail/"+n,d={}),e.visited=!0,this.isClickDetail=!0,this.$set(this.noticeData[c].listData,t,(0,C.default)({},e)),setTimeout(function(){a.$router.push({path:u,query:d})},200))},onPullingUp:function(){this.currentItem.page++,1===this.activeIndex?this.getNotice():2===this.activeIndex&&this.getPraise()},changeVisitedStatus:function(){var e=this,t=[];0===this.activeIndex?(t=(0,C.default)({},this.currentItem.listData),(0,h.default)(t).forEach(function(e){e.visited=!1})):(t=[].concat((0,d.default)(this.currentItem.listData)),t.forEach(function(e){e.visited=!1})),setTimeout(function(){e.currentItem.listData=t},200),this.isClickDetail=!1},onPopoverClick:function(){(this.$refs.commentItem||[]).forEach(function(e){e.hidePopover()})},initSwiper:function(){var e=this;this.$nextTick(function(){e.pageSwiper=new e.Swiper(".notice-container",{touchAngle:30,on:{slideChangeTransitionStart:function(){var t=e.pageSwiper.activeIndex,a=[e.getList,e.getComment,e.getPraise];e.tabList[t].status;e.activeIndex=t,e.isMovingSwiper=!0,(0,i.default)(e.currentItem.listData).length||(e.resetCondition(),a[e.activeIndex]())},slideChangeTransitionEnd:function(){e.isMovingSwiper=!1}}})})}},beforeRouteLeave:function(e,t,a){"/home"===e.path&&(this.activeIndex=0,this.noticeData={todo:(0,C.default)({},N,{listData:{}}),comment:(0,C.default)({},N),praise:(0,C.default)({},N)},this.pageSwiper.slideTo(0),t.meta.reload=!0),a()},created:function(){var e=this;this.$loading.show(),this.initSwiper(),this.getList().then(function(){e.$loading.hide()})},activated:function(){var e=this,t=this.$route.meta.reload;(0,L.register)(),t?(this.$loading.show(),this.getList().then(function(){e.$loading.hide()}),this.$route.meta.reload=!1):this.isClickDetail&&this.changeVisitedStatus()}}},"84pt":function(e,t){},"864G":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("Srds"),i=n(r),o=a("vWgl"),s=n(o);t.default=[{path:"/notice",name:"MSGHOME",component:i.default,meta:{title:"消息列表",keepAlive:!0}},{path:"/msglist",name:"MSGLIST",component:s.default,meta:{title:"应用消息列表",keepAlive:!0}}]},"86eb":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"inline-desc"}},"87MO":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("4YfN"),s=n(o),l=a("MgeX"),d=n(l),u=a("HzJ8"),c=n(u),f=a("ZLEe"),h=n(f),m=a("rVsN"),v=n(m),p=a("IHPB"),C=n(p),y=a("3cXf"),_=n(y),g=a("HXPS"),b=n(g),w=a("BGNQ"),I=n(w),D=a("z5TY"),x=n(D),P=a("SAzG"),S=n(P),k=a("u28h"),L=n(k),N=a("PzEQ"),M=n(N),T=a("kNGm"),A=n(T),O=a("0AQX"),R=a("I3vJ"),j=a("HyXB"),B=a("bKg5"),E=n(B),F=a("luHD"),U=n(F),$=a("Pb67"),H=n($),V=a("d7ck"),q=n(V),Q=a("FlCz"),Y=n(Q),X=a("MVgC"),G=n(X),W=a("vl8n"),z=n(W),K=a("+WR7"),J=n(K),Z=a("zWMP"),ee=a("Qg39");t.default={name:"ApplyWLXQJHForm",mixins:[E.default],components:{Icon:b.default,Cell:I.default,Group:x.default,XInput:S.default,XTextarea:M.default,PopMatter:U.default,PopOrderList:H.default,Datetime:L.default,FormCell:q.default,BomList:Y.default,BomPop:G.default,RPicker:z.default,PopBaseinfo:J.default},data:function(){return{listId:"867e0b4f-548f-4e08-873a-1b8e54333630",orderList:{},showOrderPop:!1,formData:{biComment:""},submitSuccess:!1,numMap:{},transCode:"",formViewUniqueId:"82784823-ded5-4a58-a746-d32514f7d26f",biReferenceId:"",actions:[],taskId:"",matterList:[],entity:{},tmpItems:{},matter:{},showMatterPop:!1,DuplicateBoms:[],UniqueBom:[],modifyIndex:null,modifyKey:null,bomPopShow:!1,bom:{},modifyBomTdqty:[]}},watch:{matter:{handler:function(e){var t=this;e.boms&&e.boms.forEach(function(a){var n=t.calcBom(e.processQty,a);a.tdQty=Math.abs((0,ee.toFixed)(n))})},deep:!0}},methods:{checkBom:function(e,t,a){this.bom=e,this.modifyIndex=t,this.modifyKey=a,this.bomPopShow=!0,this.modifyBomTdqty=JSON.parse((0,_.default)(e.boms))},bomConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t),this.reBuildArr(t)},getMatterModify:function(e,t,a){this.matter=JSON.parse((0,_.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a,this.modifyBomTdqty=[].concat((0,C.default)(e.boms))},selConfirm:function(e){var t=JSON.parse(e);t.processQty?t.tdQty=(0,Z.accAdd)(t.lockQty,t.processQty):t.tdQty="",this.$set(this.orderList[this.modifyKey],this.modifyIndex,t),this.reBuildArr(t)},reBuildArr:function(e){var t=this,a=e.boms;this.modifyBomTdqty.forEach(function(e){a.forEach(function(a){if(a.inventoryCode===e.inventoryCode)return a.newTdqty=(0,Z.accSub)(a.tdQty,e.tdQty),t.UniqueBom.forEach(function(e){if(a.inventoryCode===e.inventoryCode)return e.tdQty=(0,Z.accAdd)(e.tdQty,a.newTdqty),!1}),!0})})},selOrder:function(e){var t=this,a=JSON.parse(e),n={},r=[];this.DuplicateBoms=[],a.forEach(function(e){var a=e.transCode+"_"+e.inventoryCode,i=e.promDeliTime?(0,A.default)(new Date(e.promDeliTime)-2592e5,"YYYY-MM-DD"):"",o=t.numMap[a]||{},s=o.tdQty,l=void 0===s?"":s,d=o.processQty,u=void 0===d?"":d,c=o.lockQty,f=void 0===c?e.qtyBal:c,h=o.shippingTime,m=void 0===h?i:h,v=o.boms,p=void 0===v?[]:v;e.tdQty=l,e.processQty=u,e.lockQty=f,e.shippingTime=m,n[e.transCode]||(n[e.transCode]=[]),r.push((0,R.getJGRKBom)({parentInvCode:e.inventoryCode}).then(function(a){var n=a.tableContent,r=void 0===n?[]:n;r.forEach(function(a){var n=p.find(function(e){return a.inventoryCode===e.inventoryCode})||{},r=n.specificLoss,o=void 0===r?a.specificLoss:r,s=n.lockQty,l=void 0===s?0:s,d=n.shippingTime,u=void 0===d?i:d;a.specificLoss=parseFloat(o),a.lockQty=l,a.shippingTime=u;var c=t.calcBom(e.processQty,a);a.tdQty=Math.abs((0,ee.toFixed)(c))}),t.$set(e,"boms",r);var o=JSON.parse((0,_.default)(r));t.DuplicateBoms=[].concat((0,C.default)(t.DuplicateBoms),(0,C.default)(o))})),n[e.transCode].push(e)}),v.default.all(r).then(function(e){t.mergeBomList()}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},findIndex:function(e,t){return e.findIndex(function(e){return e.orderCode===t.orderCode&&e.transCode===t.transCode&&e.inventoryCode===t.inventoryCode})},delClick:function(e,t,a){var n=this.selItems,r=this.findIndex(n,t);if(-1!==r)return void n.splice(r,1);n.push(t)},showSelIcon:function(e){return-1!==this.findIndex(this.selItems,e)},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,_.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,h.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.orderCode===a.orderCode&&t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],r=e.findIndex(n,t);r>=0&&(e.$refs.order.delSelItem(n[r]),n.splice(r,1)),n.length||delete e.orderList[t.transCode]}})}),e.selItems.forEach(function(t){t.boms.forEach(function(t){return e.UniqueBom.forEach(function(a,n){if(t.inventoryCode===a.inventoryCode){var r=(0,Z.accSub)(a.tdQty,t.tdQty);return a.tdQty=(0,ee.toFixed)(r),a.tdQty<=0&&e.UniqueBom.splice(n,1),!1}}),!0})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,r=(0,c.default)((0,d.default)(this.orderList));!(e=(n=r.next()).done);e=!0){var i=n.value,o=!0,l=!1,u=void 0;try{for(var f,h=(0,c.default)(i);!(o=(f=h.next()).done);o=!0){var m=f.value;this.numMap[m.transCode+"_"+m.inventoryCode]=(0,s.default)({},m)}}catch(e){l=!0,u=e}finally{try{!o&&h.return&&h.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="";if(t||(0,h.default)(this.orderList).length||(t="请选择物料"),!t){var a=!0,n=!1,r=void 0;try{for(var o,l=(0,c.default)((0,d.default)(this.orderList));!(a=(o=l.next()).done);a=!0){var u=o.value,f=!0,m=!1,v=void 0;try{for(var p,C=(0,c.default)(u);!(f=(p=C.next()).done);f=!0){var y=p.value;if(!y.tdQty){t="请填写本次入库数量";break}var g=!0,b=!1,w=void 0;try{for(var I,D=(0,c.default)(y.boms);!(g=(I=D.next()).done);g=!0){var x=I.value;if(x.qtyStock<x.tdQty){t="可用余额不能少于本次扣料，请重新输入入库数量";break}}}catch(e){b=!0,w=e}finally{try{!g&&D.return&&D.return()}finally{if(b)throw w}}if(t)break}}catch(e){m=!0,v=e}finally{try{!f&&C.return&&C.return()}finally{if(m)throw v}}if(t)break}}catch(e){n=!0,r=e}finally{try{!a&&l.return&&l.return()}finally{if(n)throw r}}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=[],a=j.saveAndStartWf,n={},r=(0,i.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""}),o=!0,l=!1,u=void 0;try{for(var f,h=(0,c.default)((0,d.default)(e.orderList));!(o=(f=h.next()).done);o=!0){var m=f.value,v=!0,p=!1,C=void 0;try{for(var y,g=(0,c.default)(m);!(v=(y=g.next()).done);v=!0){var b=y.value,w=[],I=!0,D=!1,x=void 0;try{for(var P,S=(0,c.default)(b.boms);!(I=(P=S.next()).done);I=!0){var k=P.value;w.push({transMatchedCode:b.transCode,tdQty:k.tdQty,lockQty:k.lockQty,demandQty:k.qty,thenQtyStock:k.qtyStock,bomSpecificLoss:k.specificLoss,inventoryType:k.inventoryType,tdProcessing:k.processing||k.tdProcessing,containerCodeOut:k.warehouseCode,material:k.material,inventoryName:k.inventoryName,specification:k.specification,transObjCode:k.inventoryCode,measureUnit:k.measureUnit,bomType:k.bomType,bomQty:k.qty||k.bomQty,shippingTime:k.shippingTime})}}catch(e){D=!0,x=e}finally{try{!I&&S.return&&S.return()}finally{if(D)throw x}}var L={tdId:b.tdId||null,transMatchedCode:b.transCode,transObjCode:b.inventoryCode,inventoryName_transObjCode:b.inventoryName,tdProcessing:b.processing,containerCodeOut:b.warehouseCode,measureUnit_transObjCode:b.measureUnit,thenQtyBal:b.qtyBal,promDeliTime:b.promDeliTime,thenQtyStock:b.qtyStock,lockQty:b.lockQty,processQty:b.processQty,tdQty:b.tdQty,leadTime:b.comment||null,shippingTime:b.shippingTime||null,comment:b.comment||null,boms:w};t.push(L)}}catch(e){p=!0,C=e}finally{try{!v&&g.return&&g.return()}finally{if(p)throw C}}}}catch(e){l=!0,u=e}finally{try{!o&&h.return&&h.return()}finally{if(l)throw u}}n=(0,s.default)({},e.formData,{modifer:e.transCode?e.formData.handler:"",handlerEntity:e.entity.dealerName,biProcessStatus:e.currentStage,inPut:{dataSet:t}}),e.transCode&&(a=j.saveAndCommitTask,r={businessKey:e.transCode,createdBy:n.creator||n.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var N={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,_.default)(n),wfPara:(0,_.default)(r)};e.transCode||delete N.biReferenceId,e.processCode.length||(a=j.submitAndCalc,delete N.wfPara,delete N.biReferenceId),e.biReferenceId&&(N.biReferenceId=e.biReferenceId),console.log(N),e.saveData(a,N)}})},getFormData:function(){var e=this;return(0,O.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,l=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var d={};e.attachment=l;var u=i.inPut,f=u.dataSet,h=void 0===f?[]:f,m=!0,v=!1,p=void 0;try{for(var C,y=(0,c.default)(h);!(m=(C=y.next()).done);m=!0){var g=C.value;g.boms.forEach(function(e){e.inventoryCode=e.transObjCode,e.specificLoss=e.bomSpecificLoss,e.qty=e.bomQty}),e.DuplicateBoms=e.DuplicateBoms.concat(JSON.parse((0,_.default)(g.boms))),g=(0,s.default)({},g,{transCode:g.transMatchedCode,qtyBal:g.thenQtyBal,inventoryPic:g.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+g.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:g.inventoryName_transObjCode,inventoryCode:g.transObjCode,specification:g.specification_transObjCode,processing:g.tdProcessing}),d[g.transCode]||(d[g.transCode]=[]),d[g.transCode].push(g)}}catch(e){v=!0,p=e}finally{try{!m&&y.return&&y.return()}finally{if(v)throw p}}e.matterList=h,e.handlerDefault={handler:i.handler,handlerName:i.handlerName,handlerUnit:i.handlerUnit,handlerUnitName:i.handlerUnitName,handlerRole:i.handlerRole,handlerRoleName:i.handlerRoleName},e.formData=(0,s.default)({},e.formData,e.handlerDefault,{biComment:i.biComment,biId:i.biId,biProcessStatus:i.biProcessStatus,creator:i.creator,modifer:i.modifer,drDealerLogisticsTerms:i.drDealerLogisticsTerms}),e.mergeBomList(),e.biReferenceId=i.biReferenceId,e.orderList=d,e.$loading.hide()})},mergeBomList:function(){var e=function(e,t){return e.inventoryCode===t.inventoryCode};this.UniqueBom=function(t){return t.reduce(function(t,a){return t.some(function(t){var n=e(t,a);return n&&(t.tdQty=(0,Z.accAdd)(t.tdQty,a.tdQty)),n})||t.push(a),t},[])}(this.DuplicateBoms)},hasDraftData:function(){return!!(0,d.default)(this.orderList).length&&(0,i.default)({},"WLXQJH_DATA",{orderList:this.orderList,formData:this.formData,DuplicateBoms:this.DuplicateBoms})},checkQtyBal:function(e){var t=e.qtyBal,a=e.qtyStock;t=Math.abs((0,ee.toFixed)(t)),t>a&&(t=a),e.qtyBal=t},checklockQty:function(e){var t=e.qtyBal,a=e.lockQty,n=e.processQty;a=Math.abs((0,ee.toFixed)(a)),(0,Z.accAdd)(a,n)>t&&(a=(0,Z.accSub)(t,n)),e.lockQty=a},checkprocessQty:function(e){var t=e.qtyBal,a=e.lockQty,n=e.processQty;n=Math.abs((0,ee.toFixed)(n)),(0,Z.accAdd)(a,n)>t&&(n=(0,Z.accSub)(t,a)),e.processQty=n},modifyBomLockQty:function(e){var t=this;this.$vux.confirm.prompt(e.lockQty,{title:"原料库存计划",onConfirm:function(a){if(a){t.$refs.bomPop.changeToConfirm(),e.lockQty=Math.abs((0,ee.toFixed)(a));var n=t.calcBom(t.bom.processQty,e);e.tdQty=Math.abs((0,ee.toFixed)(n))}}})},modifyBomSpecificLoss:function(e){var t=this;this.$vux.confirm.prompt(item.specificLoss,{title:"单位损耗率",onConfirm:function(a){if(a){t.$refs.bomPop.changeToConfirm(),e.specificLoss=Math.abs((0,ee.toFixed)(a));var n=t.calcBom(t.bom.processQty,e);e.tdQty=Math.abs((0,ee.toFixed)(n))}}})},modifyBomDate:function(e){var t=this;this.$vux.datetime.show({cancelText:"取消",confirmText:"确定",value:e.shippingTime,onConfirm:function(a){t.$refs.bomPop.changeToConfirm(),e.shippingTime=a}})},calcBom:function(e,t){return(0,Z.accSub)((0,Z.accMul)(e,t.qty,1+t.specificLoss),t.lockQty)}},filters:{dateFormat:A.default},created:function(){var e=sessionStorage.getItem("WLXQJH_DATA");if(e){var t=JSON.parse(e);this.orderList=t.orderList,this.formData=t.formData,this.DuplicateBoms=t.DuplicateBoms,this.mergeBomList(),sessionStorage.removeItem("WLXQJH_DATA")}}}},"87dP":function(e,t,a){"use strict";function n(e){a("lrFk")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("FkUS");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("0WWG"),s=a.n(o),l=a("FtdM"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-0253c232",null);t.default=c.exports},"88rY":function(e,t,a){function n(e){return a(r(e))}function r(e){var t=i[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var i={"./consumable/DZYHPCGDD_List.vue":"g0+/","./consumable/DZYHPCGSQ_List.vue":"gufi","./consumable/DZYHPCGYSYZF_List.vue":"ACTo","./contacts/COMPANY_List.vue":"8hwe","./contacts/JOB_List.vue":"OyWz","./contacts/USER_List.vue":"wT6g","./equipment/SBCGDD_List.vue":"JvnV","./equipment/SBCGSQ_List.vue":"98vG","./equipment/SBCGYS_List.vue":"oxg+","./finance/BXYZF_List.vue":"QRhw","./finance/CRCDHP_List.vue":"drc+","./finance/DFCDHP_List.vue":"Q6Kg","./finance/DXTXCDHP_List.vue":"7NvN","./finance/FGYSDJ_List.vue":"rOS6","./finance/FGYSQK_List.vue":"Rxk/","./finance/FK_List.vue":"Z/nY","./finance/FYBX_List.vue":"Ndfv","./finance/HBZJ_List.vue":"EfN/","./finance/HGCW_List.vue":"nUHg","./finance/JKYBYJ_List.vue":"13HE","./finance/KCCDHP_List.vue":"KzA7","./finance/SDCDHP_List.vue":"zHRR","./finance/SK_List.vue":"/Pa9","./finance/WLYE_List.vue":"DcGI","./finance/XMFYBX_List.vue":"m/NV","./finance/YBFYBX_List.vue":"sX8C","./finance/ZZSKP_List.vue":"0jTj","./finance/ZZSSP_List.vue":"Fu6s","./hr/YGDA_List.vue":"cEa5","./hr/YGLZ_List.vue":"FBTb","./hr/YGRZ_List.vue":"HPEG","./hr/ZPJH_List.vue":"uvT0","./leave/QJ_List.vue":"BpVL","./plan/BHDD_List.vue":"qEV3","./plan/CGSQ_List.vue":"As1F","./plan/WLXQJH_List.vue":"pAHg","./plan/WLXQTJ_List.vue":"3Ex/","./plan/XSDDYC_List.vue":"XCFZ","./product/CPBUG_List.vue":"y4ZN","./product/CPFB_List.vue":"FIt+","./product/CPXQ_List.vue":"sk0R","./production/BDKCDB_List.vue":"Duem","./production/CGRK_List.vue":"EQmV","./production/CGTHCK_List.vue":"C1m2","./production/CH_List.vue":"Fx3v","./production/GDBLL_List.vue":"EVlf","./production/GDRWQD_List.vue":"NUgK","./production/GDRW_List.vue":"lnNG","./production/GDYS_List.vue":"ZKwe","./production/KCPD_List.vue":"cNhq","./production/NBJGDD_List.vue":"3p7d","./production/NBJGLL_List.vue":"QGXA","./production/NBJGRK_List.vue":"grrm","./production/WGYRK_List.vue":"l7FO","./production/WGZJRK_List.vue":"Vi6A","./production/XSCK_List.vue":"jDK6","./production/XSTH_List.vue":"ax7U","./project/RWRZ_List.vue":"/xv9","./project/XMJH_List.vue":"cQ92","./project/XMJX_List.vue":"z10A","./project/XMLX_List.vue":"SDtT","./project/XMRW_List.vue":"ImmF","./purchase/CGDD_List.vue":"u5pD","./purchase/CGXY_List.vue":"P5Nb","./sale/CPJG_List.vue":"X0tG","./sale/KPSQ_List.vue":"+YRA","./sale/SJ_List.vue":"10t/","./sale/XSBJ_List.vue":"c3Wr","./sale/XSDD_List.vue":"5NAd","./sale/XSHT_List.vue":"PSYi","./stock/GDBLL_List.vue":"FT4d"};n.keys=function(){return Object.keys(i)},n.resolve=r,e.exports=n,n.id="88rY"},"89pA":function(e,t,a){"use strict";function n(e){a("ZDxv")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("NLlj");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("lwni"),s=a.n(o),l=a("lAuk"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-6948a6f2",null);t.default=c.exports},"8Dfk":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2580,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[r.default],methods:{},created:function(){}}},"8G0P":function(e,t){},"8LiC":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("d7ck"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"only-word",components:{FormCell:r.default},props:{title:String,config:{type:Array,required:!0},info:{type:Object,required:!0}}}},"8MNr":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2478,filterList:[{name:"物料名称",value:"inventoryName_transObjCode"},{name:"物料编码",value:"inventoryCode_transObjCode"},{name:"申请号",value:"transCode"},{name:"往来名称",value:"dealerName_dealerCodeCredit"}]}},mixins:[r.default],methods:{},created:function(){}}},"8Mec":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2503,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[r.default],methods:{},created:function(){}}},"8NYW":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("DGcX"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={mixins:[r.default],name:"x-dialog",model:{prop:"show",event:"change"},props:{show:{type:Boolean,default:!1},maskTransition:{type:String,default:"vux-mask"},maskZIndex:[String,Number],dialogTransition:{type:String,default:"vux-dialog"},dialogClass:{type:String,default:"weui-dialog"},hideOnBlur:Boolean,dialogStyle:Object,scroll:{type:Boolean,default:!0,validator:function(e){return!0}}},computed:{maskStyle:function(){if(void 0!==this.maskZIndex)return{zIndex:this.maskZIndex}}},mounted:function(){"undefined"!=typeof window&&window.VUX_CONFIG&&"VIEW_BOX"===window.VUX_CONFIG.$layout&&(this.layout="VIEW_BOX")},watch:{show:function(e){this.$emit("update:show",e),this.$emit(e?"on-show":"on-hide"),e?this.addModalClassName():this.removeModalClassName()}},methods:{shouldPreventScroll:function(){var e=/iPad|iPhone|iPod/i.test(window.navigator.userAgent),t=this.$el.querySelector("input")||this.$el.querySelector("textarea");if(e&&t)return!0},hide:function(){this.hideOnBlur&&(this.$emit("update:show",!1),this.$emit("change",!1),this.$emit("on-click-mask"))}},data:function(){return{layout:""}}}},"8Ofw":function(e,t,a){"use strict";function n(e){a("PeEf")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("umED");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("JKgd"),s=a.n(o),l=a("S/pI"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-6efe1f41",null);t.default=c.exports},"8V/s":function(e,t){},"8VZL":function(e,t,a){"use strict";function n(e){a("RPHI")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("6arZ");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("BmNp"),s=a.n(o),l=a("qokj"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,null,null);t.default=c.exports},"8XtF":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper cpxq-detail-container"},[a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.contactInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"product"},[e._m(0),e._v(" "),a("form-cell",{attrs:{cellTitle:"标题",cellContent:e.orderInfo.launchTitle}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"描述",cellContent:e.orderInfo.launchDescribe}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"类型",cellContent:e.orderInfo.launchType}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"备注",cellContent:e.orderInfo.biComment}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1)])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title"},[a("div",[a("span",{staticClass:"iconfont icon-mingxi1"}),e._v(" "),a("span",[e._v("产品信息")])])])}],i={render:n,staticRenderFns:r};t.a=i},"8aM1":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("HzJ8"),s=n(o),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("PKHo"),f=n(c),h=a("zWMP"),m=a("BUFe"),v=n(m),p=a("AupE"),C=n(p),y=a("sUbJ"),_=n(y),g=a("FlCz"),b=n(g),w=a("d7ck"),I=n(w),D=a("MVgC"),x=n(D),P=a("hPJo"),S=n(P);t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",orderList:{},basicInfo:{},DuplicateBoms:[],UniqueBom:[],bomPopShow:!1,bom:{},warehouseIn:{},warehouseOut:{},bomList:[]}},mixins:[u.default,f.default],components:{workFlow:C.default,RAction:v.default,MatterItem:_.default,BomList:b.default,FormCell:I.default,BomPop:x.default,WarehouseContent:S.default},watch:{DuplicateBoms:{handler:function(e){var t=function(e,t){return e.inventoryCode===t.inventoryCode};this.UniqueBom=function(e){return e.reduce(function(e,a){return e.some(function(e){var n=t(e,a);return n&&(e.tdQty=(0,h.accAdd)(e.tdQty,a.tdQty)),n})||e.push(a),e},[])}(this.DuplicateBoms)}}},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},checkBom:function(e){this.bom=e,this.bomPopShow=!0},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u={},c=o.order,f=void 0===c?{}:c,m=o.outPut,v=void 0===m?{}:m,p=v.dataSet||[];e.attachment=d;var C=f.dataSet,y=void 0===C?[]:C,_=!0,g=!1,b=void 0;try{for(var w,I=(0,s.default)(y);!(_=(w=I.next()).done);_=!0){var D=w.value;if(D.inventoryPic=D.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+D.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),D.boms){var x=!0,P=!1,S=void 0;try{for(var k,L=(0,s.default)(D.boms);!(x=(k=L.next()).done);x=!0){var N=k.value;N.inventoryCode=N.transObjCode,N.warehouseName=N.warehouseName_containerCodeOut,N.warehouseCode=N.containerCodeOut,N.qtyStock=N.thenQtyStock,N.tdQty=(0,h.accMul)(N.bomQty,D.tdQty,1+N.bomSpecificLoss)}}catch(e){P=!0,S=e}finally{try{!x&&L.return&&L.return()}finally{if(P)throw S}}e.DuplicateBoms=e.DuplicateBoms.concat(JSON.parse((0,i.default)(D.boms)))}u[D.transMatchedCode]||(u[D.transMatchedCode]=[]),u[D.transMatchedCode].push(D)}}catch(e){g=!0,b=e}finally{try{!_&&I.return&&I.return()}finally{if(g)throw b}}p.forEach(function(e){e.inventoryCode=e.outPutMatCode,e.inventoryName=e.inventoryName_outPutMatCode,e.measureUnit=e.measureUnit_outPutMatCode}),e.warehouseIn={warehouseCode:f.containerCode,warehouseName:f.warehouseName_containerCode,warehouseAction:"入库",warehouseIcon:"icon-ruku",warehouseType:f.warehouseType_containerCode,warehouseProvince:f.warehouseProvince_containerCode,warehouseCity:f.warehouseCity_containerCode,warehouseDistrict:f.warehouseDistrict_containerCode,warehouseAddress:f.warehouseAddress_containerCode},e.warehouseOut={warehouseCode:f.containerCodeOut,warehouseName:""+f.warehouseName_containerCodeOut,warehouseAction:"在制仓库",warehouseIcon:"icon-chuku",warehouseType:f.warehouseType_containerCodeOut,warehouseProvince:f.warehouseProvince_containerCodeOut,warehouseCity:f.warehouseCity_containerCodeOut,warehouseDistrict:f.warehouseDistrict_containerCodeOut,warehouseAddress:f.warehouseAddress_containerCodeOut},e.orderList=u,e.bomList=p,e.orderInfo=o,e.workFlowInfoHandler()})}}}},"8bUL":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("DEQU"),i=n(r),o=a("xZPP"),s=n(o),l=a("K2BN"),d=n(l);t.default={name:"x-textarea",minxins:[i.default],mounted:function(){var e=this;this.$slots&&this.$slots["restricted-label"]&&(this.hasRestrictedLabel=!0),this.$nextTick(function(){e.autosize&&e.bindAutosize()})},components:{InlineDesc:s.default},props:{title:String,inlineDesc:String,showCounter:{type:Boolean,default:!0},max:Number,value:String,name:String,placeholder:String,readonly:Boolean,disabled:Boolean,rows:{type:Number,default:3},cols:{type:Number,default:30},height:Number,autocomplete:{type:String,default:"off"},autocapitalize:{type:String,default:"off"},autocorrect:{type:String,default:"off"},spellcheck:{type:String,default:"false"},autosize:Boolean},created:function(){this.currentValue=this.value},watch:{autosize:function(e){this.unbindAutosize(),e&&this.bindAutosize()},value:function(e){this.currentValue=e},currentValue:function(e){this.max&&e&&e.length>this.max&&(this.currentValue=e.slice(0,this.max)),this.$emit("input",this.currentValue),this.$emit("on-change",this.currentValue)}},data:function(){return{hasRestrictedLabel:!1,currentValue:""}},computed:{count:function(){var e=0;return this.currentValue&&(e=this.currentValue.replace(/\n/g,"aa").length),e>this.max?this.max:e},textareaStyle:function(){if(this.height)return{height:this.height+"px"}},labelStyles:function(){return{width:this.$parent.labelWidth||this.labelWidth+"em",textAlign:this.$parent.labelAlign,marginRight:this.$parent.labelMarginRight}},labelWidth:function(){return this.title.replace(/[^x00-xff]/g,"00").length/2+1},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}}},methods:{updateAutosize:function(){d.default.update(this.$refs.textarea)},bindAutosize:function(){(0,d.default)(this.$refs.textarea)},unbindAutosize:function(){d.default.destroy(this.$refs.textarea)},focus:function(){this.$refs.textarea.focus()}},beforeDestroy:function(){this.unbindAutosize()}}},"8cWJ":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("3cXf"),s=n(o),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),h=n(f),m=a("SAzG"),v=n(m),p=a("u28h"),C=n(p),y=a("PzEQ"),_=n(y),g=a("kNGm"),b=(n(g),a("jnZd")),w=n(b),I=(a("0AQX"),a("Z6x5")),D=a("HyXB"),x=a("bKg5"),P=n(x),S=a("vl8n"),k=n(S),L=a("+WR7"),N=n(L),M=a("iikc"),T=n(M);t.default={data:function(){return{listId:"98519ac0-d2d7-11e8-b8ca-0279b2c6a380",formData:{biId:"",biComment:"",biProcessStatus:""},biReferenceId:"",MobileWarn:!1,idCardWarn:!1,groupList:[],roleList:[]}},components:{Cell:c.default,Group:h.default,XInput:v.default,Datetime:C.default,XTextarea:_.default,PopupPicker:w.default,RPicker:k.default,PopBaseinfo:N.default,PopSalesmanList:T.default},mixins:[P.default],methods:{getAllGroup:function(){var e=this;(0,I.getAllGroup)().then(function(t){var a=[];t.tableContent.forEach(function(e){a.push(e.groupName)}),e.groupList.push(a)})},getAllRoleInfo:function(){var e=this;(0,I.getAllRoleInfo)().then(function(t){var a=[];t.tableContent.forEach(function(e){a.push(e.roleName)}),e.roleList.push(a)})},submitOrder:function(){var e=this,t="",a=[{key:"hiresName",message:"员工"}];if(t||a.every(function(a){return!!e.formData[a.key]||(t="请选择"+a.message,!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=D.saveAndStartWf,a=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,hiresDepartMent:e.formData.hiresDepartMent&&e.formData.hiresDepartMent[0],hiresPost:e.formData.hiresPost&&e.formData.hiresPost[0]}),n={listId:e.listId,biComment:"",formData:(0,s.default)(a)};e.isResubmit&&(t=D.saveAndCommitTask,n.biReferenceId=e.biReferenceId,n.wfPara=(0,s.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=D.submitAndCalc,delete n.wfPara,delete n.biReferenceId),e.biReferenceId&&(n.biReferenceId=e.biReferenceId),e.saveData(t,n)}})},hasDraftData:function(){var e=this.formData;if(e.profileName||e.idCard)return(0,i.default)({},"YGRZ_DATA",{formData:e})}},created:function(){this.getAllGroup(),this.getAllRoleInfo();var e=sessionStorage.getItem("YGRZ_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,sessionStorage.removeItem("YGRZ_DATA")}}}},"8dBe":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}]}},mixins:[r.default]}},"8dL1":function(e,t,a){"use strict";function n(e){a("a68W")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("vW5/");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("LOVB"),s=a.n(o),l=a("JhlL"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-acb4b368",null);t.default=c.exports},"8dZ0":function(e,t,a){"use strict";function n(e){a("NkIc")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("UyNo");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("TZQl"),s=a.n(o),l=a("+Rbl"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-03910bd0",null);t.default=c.exports},"8eij":function(e,t){},"8gEi":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2464,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}]}},mixins:[r.default],methods:{},created:function(){}}},"8hWX":function(e,t){},"8hwe":function(e,t,a){"use strict";function n(e){a("R/Ib")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("sy2r");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("JHNY"),s=a.n(o),l=a("L0HX"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-3dadc15e",null);t.default=c.exports},"8jC1":function(e,t){},"8q5q":function(e,t){},"8qlz":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("KH7x"),i=n(r),o=a("a3Yh"),s=n(o),l=a("MgeX"),d=n(l),u=a("HzJ8"),c=n(u),f=a("ZLEe"),h=n(f),m=a("rVsN"),v=n(m),p=a("IHPB"),C=n(p),y=a("3cXf"),_=n(y),g=a("4YfN"),b=n(g),w=a("HXPS"),I=n(w),D=a("BGNQ"),x=n(D),P=a("z5TY"),S=n(P),k=a("SAzG"),L=n(k),N=a("u28h"),M=n(N),T=a("PzEQ"),A=n(T),O=a("kNGm"),R=n(O),j=a("0AQX"),B=a("I3vJ"),E=a("HyXB"),F=a("bKg5"),U=n(F),$=a("luHD"),H=n($),V=a("RMtk"),q=n(V),Q=a("jEax"),Y=n(Q),X=a("d7ck"),G=n(X),W=a("FlCz"),z=n(W),K=a("MVgC"),J=n(K),Z=a("vl8n"),ee=n(Z),te=a("+WR7"),ae=n(te),ne=a("89pA"),re=n(ne),ie=a("zWMP"),oe=a("Qg39");t.default={name:"ApplyWLXQTJForm",mixins:[U.default],components:{Icon:I.default,Cell:x.default,Group:S.default,XInput:L.default,XTextarea:A.default,PopMatter:H.default,PopOrderXqtjList:q.default,Datetime:M.default,FormCell:G.default,PopWarehouseNbjgrkList:Y.default,BomList:z.default,BomPop:J.default,RPicker:ee.default,PopBaseinfo:ae.default,PopWarehouseList:re.default},data:function(){return{listId:"5e8d89f1-49a5-4089-9c1a-44dc2ce0ae4b",orderList:{},showOrderPop:!1,formData:{biProcessStatus:null,biComment:""},submitSuccess:!1,warehouse:null,numMap:{},transCode:"",formViewUniqueId:"82784823-ded5-4a58-a746-d32514f7d26f",biReferenceId:"",actions:[],taskId:"",matterList:[],entity:{},tmpItems:{},matter:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,warehouseOut:{warehouseName:"待检仓",warehouseCode:"QC0001",warehouseType:"一般部门仓"},warehouseIn:null,warehouseOutParams:{warehouseType:"一般部门仓"},warehouseInParams:{warehouseType:"一般部门仓,个人仓,加工车间仓"},orderParams:{whCode:"FG0001"},DuplicateBoms:[],UniqueBom:[],bom:{},bomPopShow:!1,modifyBomTdqty:[]}},methods:{selWarehouseOut:function(e){this.warehouseOut=JSON.parse(e),this.orderParams=(0,b.default)({},this.orderParams,{whCode:this.warehouseOut.warehouseCode}),this.orderList={}},selWarehouseIn:function(e){this.warehouseIn=JSON.parse(e)},checkAmt:function(e){var t=e.qualityQty,a=void 0===t?0:t,n=e.tdQty,r=void 0===n?0:n,i=e.qtyStock,o=void 0===i?0:i,s=e.qtyBal,l=void 0===s?0:s,d=Math.min(o,l);a&&(a=Math.min(d,a),e.qualityQty=Math.abs((0,oe.toFixed)(a)),this.$set(e,"differenceNum",(0,ie.accSub)(a,r))),r&&(r=Math.min(d,r),e.tdQty=Math.abs((0,oe.toFixed)(r)),this.$set(e,"differenceNum",(0,ie.accSub)(a,r)))},checkBom:function(e,t,a){this.bom=e,this.modifyIndex=t,this.modifyKey=a,this.bomPopShow=!0,this.modifyBomTdqty=JSON.parse((0,_.default)(e.boms))},getMatterModify:function(e,t,a){this.matter=JSON.parse((0,_.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a,this.modifyBomTdqty=[].concat((0,C.default)(e.boms))},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t),this.reBuildUniqueBom(t)},selOrder:function(e){var t=this,a=JSON.parse(e),n={},r=[],i=[];a.forEach(function(e){var a=e.transCode+"_"+e.orderCode+"_"+e.inventoryCode,o=Math.min(e.qtyStock||0,e.qtyBal||0),s=t.numMap[a]||{},l=s.tdQty,d=void 0===l?o:l,u=s.boms,c=s.qualityQty,f=void 0===c?o:c,h=s.shippingTime,m=void 0===h?(0,R.default)(e.shippingTime,"YYYY-MM-DD"):h;e.tdQty=d,e.shippingTime=m,e.qualityQty=f,e.differenceNum=(0,ie.accSub)(f,d),r.push((0,B.getJGRKBom)({parentInvCode:e.inventoryCode}).then(function(a){var n=a.tableContent,r=void 0===n?[]:n;r.forEach(function(a){var n=t.calcBom(e.differenceNum,a);a.qualityQty=n,a.demandQty=n});var o=t.mergeSingleBom(r),s=t.oneToMul(e,r);t.$set(e,"boms",o),t.$set(e,"assembleBoms",s),i=[].concat((0,C.default)(i),(0,C.default)(r))})),n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n,v.default.all(r).then(function(e){t.DuplicateBoms=i,t.mergeBomList()})},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},findIndex:function(e,t){return e.findIndex(function(e){return e.orderCode===t.orderCode&&e.transCode===t.transCode&&e.inventoryCode===t.inventoryCode})},delClick:function(e,t,a){var n=this.selItems,r=this.findIndex(n,t);if(-1!==r)return void n.splice(r,1);n.push(t)},showSelIcon:function(e){return-1!==this.findIndex(this.selItems,e)},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,_.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,h.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.orderCode===a.orderCode&&t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],r=e.findIndex(n,t);r>=0&&(e.$refs.order.delSelItem(n[r]),n.splice(r,1)),n.length||delete e.orderList[t.transCode]}})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,r=(0,c.default)((0,d.default)(this.orderList));!(e=(n=r.next()).done);e=!0){var i=n.value,o=!0,s=!1,l=void 0;try{for(var u,f=(0,c.default)(i);!(o=(u=f.next()).done);o=!0){var h=u.value;this.numMap[h.transCode+"_"+h.orderCode+"_"+h.inventoryCode]=(0,b.default)({},h)}}catch(e){s=!0,l=e}finally{try{!o&&f.return&&f.return()}finally{if(s)throw l}}}}catch(e){t=!0,a=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="";if([{key:"warehouseIn",message:"入库仓库"}].every(function(a){return!!e[a.key]||(t="请选择"+a.message,!1)}),t||(0,h.default)(this.orderList).length||(t="请选择物料"),!t){var a=!0,n=!1,r=void 0;try{for(var i,o=(0,c.default)((0,d.default)(this.orderList));!(a=(i=o.next()).done);a=!0){var l=i.value,u=!0,f=!1,m=void 0;try{for(var v,p=(0,c.default)(l);!(u=(v=p.next()).done);u=!0)if(!v.value.qualityQty){t="请填写本次入库数量";break}}catch(e){f=!0,m=e}finally{try{!u&&p.return&&p.return()}finally{if(f)throw m}}if(t)break}}catch(e){n=!0,r=e}finally{try{!a&&o.return&&o.return()}finally{if(n)throw r}}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=[],a=E.saveAndStartWf,n={},r=(0,s.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""}),i=!0,o=!1,l=void 0;try{for(var u,f=(0,c.default)((0,d.default)(e.orderList));!(i=(u=f.next()).done);i=!0){var h=u.value,m=!0,v=!1,p=void 0;try{for(var C,y=(0,c.default)(h);!(m=(C=y.next()).done);m=!0){var g=C.value;!function(e){var a=e.boms.reduce(function(t,a){return t.push({tdId:a.tdId||null,transMatchedCode:e.transCode,qualityQty:a.qualityQty,bomSpecificLoss:a.specificLoss,tdProcessing:a.processing,inventoryName:a.inventoryName,demandQty:a.demandQty,transObjCode:a.inventoryCode,measureUnit:a.measureUnit,bomType:a.bomType,bomQty:a.qty,parentInventoryCode:a.parentInventoryCode}),t},[]),n={tdId:e.tdId||null,transMatchedCode:e.transCode,orderCode:e.orderCode,inventoryName_transObjCode:e.inventoryName,transObjCode:e.inventoryCode,tdProcessing:e.processing,measureUnit_transObjCode:e.measureUnit,thenTotalQtyBal:e.productDemandQty,thenQtyStock:e.qtyStock,thenLockQty:e.stockQty,thenQtyBal:e.qtyBal,qualityQty:e.qualityQty,tdQty:e.tdQty,differenceNum:e.differenceNum,shippingTime:e.shippingTime,skinFee:e.skinFee,wages:e.wages,comment:e.comment||"",boms:a};t.push(n)}(g)}}catch(e){v=!0,p=e}finally{try{!m&&y.return&&y.return()}finally{if(v)throw p}}}}catch(e){o=!0,l=e}finally{try{!i&&f.return&&f.return()}finally{if(o)throw l}}n=(0,b.default)({},e.formData,{modifer:e.transCode?e.formData.handler:"",handlerEntity:e.entity.dealerName,order:{containerCodeOut:e.warehouseOut.warehouseCode,containerCode:e.warehouseIn.warehouseCode,dataSet:t},outPut:{dataSet:outPutDataSet},containerOutWarehouseManager:e.warehouseOut.manager||null,containerInWarehouseManager:e.warehouseIn.manager||null}),e.transCode&&(a=E.saveAndCommitTask,r={businessKey:e.transCode,createdBy:n.creator||n.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var w={listId:e.listId,biComment:"",formData:(0,_.default)(n),wfPara:(0,_.default)(r)};e.processCode.length||(a=E.submitAndCalc,delete w.wfPara),e.transCode&&(w.biReferenceId=e.biReferenceId),e.saveData(a,w)}})},getFormData:function(){var e=this;return(0,j.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,s=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=s;var l={},d=i.order,u=i.outPut,f=d.dataSet,h=void 0===f?[]:f,m=u.dataSet,v=void 0===m?[]:m,p=!0,C=!1,y=void 0;try{for(var _,g=(0,c.default)(h);!(p=(_=g.next()).done);p=!0){var w=_.value;w=(0,b.default)({},w,{transCode:w.transMatchedCode,measureUnit:w.measureUnit_transObjCode,qtyBal:w.thenQtyBal,qtyStock:w.thenQtyStock,inventoryPic:w.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+w.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:w.inventoryName_transObjCode,inventoryCode:w.transObjCode,specification:w.specification_transObjCode,processing:w.tdProcessing}),l[w.transCode]||(l[w.transCode]=[]),l[w.transCode].push(w)}}catch(e){C=!0,y=e}finally{try{!p&&g.return&&g.return()}finally{if(C)throw y}}v.forEach(function(e){e.inventoryName=e.inventoryName_outPutMatCode,e.inventoryCode=e.outPutMatCode,e.measureUnit=e.measureUnit_outPutMatCode,e.processing=e.tdProcessing}),e.warehouseOut={warehouseName:d.warehouseName_containerCodeOut,warehouseType:d.warehouseType_containerCodeOut,warehouseCode:d.containerCodeOut,manager:i.containerOutWarehouseManager},e.warehouseIn={warehouseName:d.warehouseName_containerCode,warehouseType:d.warehouseType_containerCode,warehouseCode:d.containerCode,manager:i.containerInWarehouseManager},e.matterList=h,e.handlerDefault={handler:i.handler,handlerName:i.handlerName,handlerUnit:i.handlerUnit,handlerUnitName:i.handlerUnitName,handlerRole:i.handlerRole,handlerRoleName:i.handlerRoleName},e.formData=(0,b.default)({},e.formData,e.handlerDefault,{biComment:i.biComment,biId:i.biId,biProcessStatus:i.biProcessStatus,creator:i.creator,modifer:i.modifer}),e.biReferenceId=i.biReferenceId,e.orderList=l,e.orderParams=(0,b.default)({},e.orderParams,{whCode:e.warehouseOut.warehouseCode}),e.$loading.hide()})},hasDraftData:function(){return!!(0,d.default)(this.orderList).length&&(0,s.default)({},"NBJGRK_DATA",{orderList:this.orderList,formData:this.formData,warehouseIn:this.warehouseIn,warehouseOut:this.warehouseOut})},mergeSingleBom:function(e){return e.reduce(function(e,t){var a=e.find(function(e){return e.inventoryCode===t.inventoryCode});return a?(a.demandQty=(0,ie.accAdd)(a.demandQty,t.demandQty),a.qualityQty=(0,ie.accAdd)(a.qualityQty,t.qualityQty)):e.push(t),e},[])},oneToMul:function(e,t){var a=this,n=e.inventoryCode,r=JSON.parse((0,_.default)(t)),i=r.filter(function(e){return e.parentInventoryCode===n});return i&&i.length&&i.forEach(function(e){e.child=a.oneToMul(e,t)}),i||[]},mulToOne:function(e){var t=this,a=e;return e.reduce(function(e,n){return n.child&&(a=[].concat((0,C.default)(a),(0,C.default)(t.mulToOne(n.child)))),e},[]),a},getStock:function(e){var t=this,a=this.UniqueBom.find(function(t){return t.inventoryCode===e.inventoryCode}),n=(0,ie.accSub)(a.thenTotalQtyStock,a.thenQtyBalCopy1),r=(0,d.default)(this.orderList).reduce(function(e,t){return[].concat((0,C.default)(e),(0,C.default)(t))},[]),i=r.reduce(function(e,a){var n=t.mulToOne(a.assembleBoms);return a.boms=n,[].concat((0,C.default)(e),(0,C.default)(n))},[]),o=i.reduce(function(e,t){var n=0;return t.inventoryCode===a.inventoryCode&&(n=t.qualityQty),(0,ie.accAdd)(e,n)},0);return n<0?0:(0,ie.accSub)(n,o)},reBuildUniqueBom:function(e){var t=this,a=0,n=function e(n,r){n.map(function(n,i){var o=0,s=0;parseFloat(r)?(o=t.calcBom(r,n),n.demandQty=o,"原料"===n.processing?n.qualityQty=o:(s=t.getStock(n,o),n.qualityQty=s?o>s?s:o:0,a=(0,ie.accSub)(o,n.qualityQty))):(n.demandQty=0,n.qualityQty=0,a=0),n.child&&n.child.length&&e(n.child,a)})},r=(0,d.default)(this.orderList).reduce(function(e,t){return[].concat((0,C.default)(e),(0,C.default)(t))},[]),i=r.reduce(function(e,a){n(a.assembleBoms,a.differenceNum);var r=t.mulToOne(a.assembleBoms);return a.boms=t.mergeSingleBom(r),[].concat((0,C.default)(e),(0,C.default)(r))},[]);console.log(i),i=this.mergeSingleBom(i),this.UniqueBom.forEach(function(e){var t=i.find(function(t){return t.inventoryCode===e.inventoryCode});e.demandQty=t.demandQty,e.tdQty=t.qualityQty})},mergeBomList:function(){var e=this,t=[],a=JSON.parse((0,_.default)(this.DuplicateBoms)),n=a.reduce(function(e,a){var n=e.find(function(e){return e.inventoryCode===a.inventoryCode});return n?n.tdQty=(0,ie.accAdd)(n.tdQty,a.qualityQty):(!a.thenTotalQtyStock&&0!==a.thenTotalQtyStock&&t.push((0,B.getInProcessingStorageSumSource)({inventoryCode:a.inventoryCode}).then(function(e){var t=e.tableContent,n=void 0===t?[]:t,r=(0,i.default)(n,1),o=r[0],s=void 0===o?{}:o;a.thenQtyBalCopy1=s.qtyBal||0,a.thenTotalQtyStock=s.thenTotalQtyStock||0})),a.tdQty=a.qualityQty,e.push(a)),e},[]);v.default.all(t).then(function(){e.UniqueBom=n})},calcBom:function(e,t){return(0,ie.accMul)(e,t.qty,1+t.specificLoss)}},created:function(){var e=sessionStorage.getItem("NBJGRK_DATA");if(e){var t=JSON.parse(e);this.orderList=t.orderList,this.formData=t.formData,this.warehouseOut=t.warehouseOut,this.warehouseIn=t.warehouseIn,this.orderParams=(0,b.default)({},this.orderParams,{whCode:this.warehouseOut.warehouseCode}),sessionStorage.removeItem("NBJGRK_DATA")}}}},"8rBc":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("IHPB"),s=n(o),l=a("HXPS"),d=n(l),u=a("7g+Q"),c=n(u),f=a("6q39"),h=n(f),m=a("QHLv"),v=a("1KNX"),p=n(v),C=a("7biW"),y=n(C);t.default={name:"MatterList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},getListMethod:{type:String,default:"getObjFunds"}},components:{Icon:d.default,Popup:c.default,LoadMore:h.default,RScroll:p.default,MSearch:y.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],costList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,s.default)(this.selItems)),this.$emit("input",!1),this.$event.$emit("shut-down-filter",!1)},showSelIcon:function(e){var t=!1;return this.selItems&&this.selItems.every(function(a){return e.fundCode!==a.fundCode||(t=!0,!1)}),t},selThis:function(e,t){this.showPop=!1,this.selItems=[e],this.$emit("sel-matter",this.selItems[0])},setDefaultValue:function(){this.tmpItems=[].concat((0,s.default)(this.defaultValue)),this.selItems=[].concat((0,s.default)(this.defaultValue))},getObjFunds:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,s.default)(e),[{operator:"like",value:this.srhInpTx,property:"fundName"}])),(0,m.getObjFunds)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,i.default)(e)}).then(this.dataHandler)},getEmployeeReserveFunds:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,s.default)(e),[{operator:"like",value:this.srhInpTx,property:"fundName"}])),(0,m.getEmployeeReserveFunds)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,i.default)(e)}).then(this.dataHandler)},dataHandler:function(e){var t=this,a=e.dataCount,n=void 0===a?0:a,r=e.tableContent,i=void 0===r?[]:r;this.hasNext=n>(this.page-1)*this.limit+i.length,this.costList=1===this.page?i:[].concat((0,s.default)(this.costList),(0,s.default)(i)),this.$nextTick(function(){t.$refs.bScroll.finishPullUp()})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.costList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this[this.getListMethod]()},onPullingUp:function(){this.page++,this[this.getListMethod]()}},created:function(){this.setDefaultValue(),this[this.getListMethod]()}}},"8rv9":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("4YfN"),s=n(o),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),h=a("AupE"),m=n(h),v=a("89pA"),p=n(v),C=a("hPJo"),y=n(C),_=a("3NX5"),g=n(_);t.default={data:function(){return{warehouseIn:{},warehouseOut:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513"}},mixins:[u.default],components:{workFlow:m.default,PopWarehouseList:p.default,RAction:f.default,WarehouseContent:y.default,MatterList:g.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=void 0===a?[]:a,r=t.formData,o=void 0===r?{}:r,l=o.outPut,d=void 0===l?{}:l,u=d.dataSet;e.attachment=n;var c=!0,f=!1,h=void 0;try{for(var m,v=(0,i.default)(u);!(c=(m=v.next()).done);c=!0){var p=m.value;p.inventoryName_transObjCode=p.inventoryName_outPutMatCode,p.transObjCode=p.outPutMatCode,p.specification=p.specification_outPutMatCode,p.inventoryPic=p.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+p.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){f=!0,h=e}finally{try{!c&&v.return&&v.return()}finally{if(f)throw h}}e.warehouseIn={warehouseCode:d.containerCode,warehouseName:""+d.warehouseName_containerCode,warehouseAction:"入库",warehouseIcon:"icon-ruku",warehouseType:d.warehouseType_containerCode,warehouseProvince:d.warehouseProvince_containerCode,warehouseCity:d.warehouseCity_containerCode,warehouseDistrict:d.warehouseDistrict_containerCode,warehouseAddress:d.warehouseAddress_containerCode},e.warehouseOut={warehouseCode:d.containerCodeOut,warehouseName:""+d.warehouseName_containerCodeOut,warehouseAction:"出库",warehouseIcon:"icon-chuku",warehouseType:d.warehouseType_containerCodeOut,warehouseProvince:d.warehouseProvince_containerCodeOut,warehouseCity:d.warehouseCity_containerCodeOut,warehouseDistrict:d.warehouseDistrict_containerCodeOut,warehouseAddress:d.warehouseAddress_containerCodeOut},e.matterList=u,e.orderInfo=(0,s.default)({},o),e.workFlowInfoHandler()})}},created:function(){}}},"8xC5":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("IHPB"),s=n(o),l=a("3cXf"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),h=n(f),m=a("+62G"),v=n(m),p=a("6q39"),C=n(p),y=a("HyXB"),_=a("1KNX"),g=n(_),b=a("7biW"),w=n(b);t.default={name:"PopManagerList",props:{defaultValue:{type:Object,default:function(){return{}}},show:{type:Boolean,default:!1}},directives:{TransferDom:v.default},components:{Icon:c.default,Popup:h.default,RScroll:g.default,DSearch:w.default,LoadMore:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},computed:{tip:function(){var e="加载中";return this.hasNext||(e="暂无数据"),e}},watch:{show:function(e){this.showPop=e},defaultValue:function(e){this.setDefaultValue()}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1,this.$emit("input",!1)},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this.getList()},showSelIcon:function(e){return this.selItems.dealerName===e.dealerName},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.$emit("sel-item",(0,d.default)(this.selItems))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,s.default)(t),[{operator:"like",value:this.srhInpTx,property:"dealerName"}])),(0,y.getObjDealerByLabelName)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,dealerLabelName:"员工",filter:(0,d.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+i.length,e.listData=1===e.page?i:[].concat((0,s.default)(e.listData),(0,s.default)(i)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.selItems=this.defaultValue?(0,i.default)({},this.defaultValue):{}}},created:function(){this.setDefaultValue(),this.getList()}}},"8zGr":function(e,t,a){"use strict";function n(e){a("EcJc")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("aofP");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("iJuB"),s=a.n(o),l=a("QrXF"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-0eb01f50",null);t.default=c.exports},"9+xF":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("ZLEe"),s=n(o),l=a("3cXf"),d=n(l),u=a("4YfN"),c=n(u),f=a("KH7x"),h=n(f),m=a("MgeX"),v=n(m),p=a("HzJ8"),C=n(p),y=a("kNGm"),_=n(y),g=a("iR2W"),b=n(g),w=a("PzEQ"),I=n(w),D=a("0AQX"),x=a("HyXB"),P=a("bKg5"),S=n(P),k=a("VZtf"),L=n(k),N=a("y8YJ"),M=n(N),T=a("lsbD"),A=n(T),O=a("+WR7"),R=n(O),j=a("hLfv"),B=n(j),E=a("Q67R"),F=n(E);a("zWMP"),a("Qg39");t.default={data:function(){return{filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"}],customPrice:"",showMatterPop:!1,showMaterielPop:!1,numMap:{},formData:{},orderList:{},dealerInfo:{},modifyKey:null,contactInfo:{}}},computed:{matterList:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var r,i=(0,C.default)((0,v.default)(this.orderList));!(t=(r=i.next()).done);t=!0){var o=r.value,s=!0,l=!1,d=void 0;try{for(var u,c=(0,C.default)(o);!(s=(u=c.next()).done);s=!0){var f=u.value;e.push(f)}}catch(e){l=!0,d=e}finally{try{!s&&c.return&&c.return()}finally{if(l)throw d}}}}catch(e){a=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(a)throw n}}return e}},watch:{orderList:{handler:function(e){var t=!0,a=!1,n=void 0;try{for(var r,i=(0,C.default)((0,v.default)(e));!(t=(r=i.next()).done);t=!0){var o=r.value,s=!0,l=!1,d=void 0;try{for(var u,c=(0,C.default)(o);!(s=(u=c.next()).done);s=!0){var f=u.value,h=f.tdQty,m=f.otherField,p=f.qtyOnline,y=f.qtyDownline,_=f.dealerInventoryCode,g=f.dealerInventoryName;m&&(0,v.default)(m).length&&(h>p||h<y?g||_?(this.tdAmount=0,f.dealerInventoryCode=f.dealerInventoryName="",this.customPrice?f.price=this.customPrice:f.price="请重新输入单价"):isNaN(f.price)||(this.customPrice=f.price):(f.price=m.price,f.dealerInventoryCode=m.dealerInventoryCode,f.dealerInventoryName=m.dealerInventoryName))}}catch(e){l=!0,d=e}finally{try{!s&&c.return&&c.return()}finally{if(l)throw d}}}}catch(e){a=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(a)throw n}}},deep:!0}},components:{RNumber:L.default,XTextarea:I.default,OpButton:A.default,PopBaseinfo:R.default,PopDealerList:M.default,DealerOtherPart:B.default,ApplyMatterPart:F.default},mixins:[S.default],filters:{numberComma:b.default},methods:{selDealer:function(e){var t=JSON.parse(e),a=(0,h.default)(t,1),n=a[0],r=void 0===n?{}:n;if(r.dealerCode!==this.dealerInfo.dealerCode&&(r.daysOfAccount=r.pamentDays,r.drDealerPaymentTerm=r.paymentTerm,r.dealerName_dealerDebit=r.dealerName,r.drDealerLogisticsTerms=r.dealerLogisticsTerms,this.dealerInfo=r,this.matterParams.data&&null!=this.matterParams.data.dealerCode&&(this.matterParams.data.dealerCode=this.dealerInfo.dealerCode,this.orderList={}),(0,v.default)(this.orderList).length))for(var i in this.orderList){var o=!0,s=!1,l=void 0;try{for(var d,u=(0,C.default)(this.orderList[i]);!(o=(d=u.next()).done);o=!0){var c=d.value;this.getQtyRange(c),delete c.qtyDownline,delete c.qtyDownline,delete c.otherField,c.price="",c.tdQty="",c.taxRate=.16,c.dealerInventoryName="",c.dealerInventoryCode=""}}catch(e){s=!0,l=e}finally{try{!o&&u.return&&u.return()}finally{if(s)throw l}}}},selContact:function(e){this.contactInfo=(0,c.default)({},e)},getMatterModify:function(e,t,a){this.matter=JSON.parse((0,d.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t)},getMatter:function(){if(!this.dealerInfo.dealerCode)return void this.$vux.alert.show({content:"请选择客户"});this.showMaterielPop=!this.showMaterielPop},getQtyRange:function(e){return(0,x.getPriceFromSalesContractAndPrice)({matCodes:e.inventoryCode,dealerCode:this.dealerInfo.dealerCode}).then(function(t){var a=t.data,n=void 0===a?[]:a,r=(0,h.default)(n,1),i=r[0],o=void 0===i?{}:i,s=["qtyOnline","qtyDownline"];for(var l in o)s.includes(l)&&(e[l]=o[l],delete o[l]);e.otherField=(0,c.default)({},o)})},selMatter:function(e){var t=this,a=JSON.parse(e),n=JSON.parse((0,d.default)(this.orderList));a.forEach(function(e){var a=e.transCode?e.transCode:"noCode";e.taxRate=t.taxRate,e.tdQty=e.qtyBal||"",e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null,e.promDeliTime="",e.dateActivation=(0,_.default)(e.dateActivation,"YYYY-MM-DD"),e.executionDate=(0,_.default)(e.executionDate,"YYYY-MM-DD"),t.dealerInfo.dealerCode&&t.getQtyRange(e),e.transCode?(n[a]||(n[a]=[]),n[a].push(e)):(n.noCode||(n.noCode=[]),n.noCode.push(e))}),this.orderList=n},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t,a){var n=this.selItems,r=n.findIndex(function(e){return e===t});if(-1!==r)return void n.splice(r,1);n.push(t)},showSelIcon:function(e,t){return this.selItems.includes(t)},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=this.matterList.map(function(e,t){return t})},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t={},a=e.selItems;e.matterList.filter(function(e,t){return!a.includes(t)}).forEach(function(e){var a=e.transCode?e.transCode:"noCode";t[a]||(t[a]=[]),t[a].push(e)}),e.orderList=t,e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},dateSelect:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.$vux.datetime.show({confirmText:"确定",cancelText:"取消",value:this.dealerInfo[t],onConfirm:function(a){e.$set(e.dealerInfo,t,a)}})},submitOrder:function(){var e=this,t="",a=[],n=(this.isSubmitOk,this.dealerInfo),r=this.dealerConfig;if(!(t=this.verifyData(r,n))){var o=(0,h.default)(this.submitMatterField,1),l=o[0],u=void 0===l?{}:l;(0,s.default)(this.orderList).length||(t="请选择"+u.text);var f=!0,m=!1,p=void 0;try{for(var y,_=(0,C.default)((0,v.default)(this.orderList));!(f=(y=_.next()).done);f=!0){var g=y.value,b=!0,w=!1,I=void 0;try{for(var D,P=(0,C.default)(g);!(b=(D=P.next()).done);b=!0){var S=D.value,k={},L=!0,N=!1,M=void 0;try{for(var T,A=(0,C.default)(this.submitMatterField);!(L=(T=A.next()).done);L=!0){var O=T.value,R=S[O.fieldCode]||S[O.displayField]||S[O.showFieldCode];if(!O.hidden&&!O.allowBlank&&!R){t=O.text+"不为空";break}k[O.fieldCode]=null!==R?R:null}}catch(e){N=!0,M=e}finally{try{!L&&A.return&&A.return()}finally{if(N)throw M}}a.push(k)}}catch(e){w=!0,I=e}finally{try{!b&&P.return&&P.return()}finally{if(w)throw I}}}}catch(e){m=!0,p=e}finally{try{!f&&_.return&&_.return()}finally{if(m)throw p}}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=x.saveAndStartWf,n=(0,i.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:e.formData.biComment,formData:(0,d.default)((0,c.default)({},e.formData,{handlerEntity:e.entity.dealerName,dealerDebitContactPersonName:e.contactInfo.dealerName||"",dealerDebitContactInformation:e.contactInfo.dealerMobilePhone||"",drDealerLogisticsTerms:e.dealerInfo.drDealerLogisticsTerms,order:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,drDealerPaymentTerm:e.dealerInfo.drDealerPaymentTerm,daysOfAccount:e.dealerInfo.pamentDays,dataSet:a},inPut:{dataSet:[{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,tdAmountCopy1:e.dealerInfo.tdAmountCopy1,advancePaymentDueDate:e.dealerInfo.advancePaymentDueDate,customerOrderNumber:e.dealerInfo.customerOrderNumber,orderDate:e.dealerInfo.orderDate}]}})),wfPara:(0,d.default)(n)};e.isResubmit&&(t=x.saveAndCommitTask,r.biReferenceId=e.biReferenceId),e.processCode.length||(t=x.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,D.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.attachment=t.attachment;var a={},n=t.formData,r=n.order,i=void 0===r?{}:r,o=n.inPut.dataSet[0];e.dealerInfo=(0,c.default)({},o,{dealerCode:o.dealerDebit,dealerLabelName:o.drDealerLabel,dealerName:o.dealerName_dealerDebit,province:o.province_dealerDebit,city:o.city_dealerDebit,county:o.county_dealerDebit,address:o.address_dealerDebit,drDealerPaymentTerm:n.order.drDealerPaymentTerm,drDealerLogisticsTerms:n.drDealerLogisticsTerms,daysOfAccount:n.order.daysOfAccount}),i.dataSet.map(function(t){var n=t.transCode?t.transCode:"noCode";t=(0,c.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,clientInventoryName:t.dealerInventoryName,clientInventoryCode:t.dealerInventoryCode,qty:t.thenTotalQtyBal,stockQty:t.thenLockQty,qtyBal:t.thenQtyBal,transCode:t.transMatchedCode,invSubUnitMulti:t.assMeasureScale}),e.getQtyRange(t),a[n]||(a[n]=[]),a[n].push(t)}),e.handlerDefault={handler:n.handler,handlerName:n.handlerName,handlerUnit:n.handlerUnit,handlerUnitName:n.handlerUnitName,handlerRole:n.handlerRole,handlerRoleName:n.handlerRoleName},e.orderList=a,e.formData=(0,c.default)({},e.formData,e.handlerDefault,{biComment:n.biComment,biId:n.biId,biProcessStatus:n.biProcessStatus,creator:n.creator,modifer:n.modifer}),e.contactInfo={dealerName:n.dealerDebitContactPersonName,dealerMobilePhone:n.dealerDebitContactInformation},e.matterParams.data&&e.matterParams.data.dealerCode&&(e.matterParams.data.dealerCode=e.dealerInfo.dealerCode),e.$loading.hide()})},hasDraftData:function(){return!!(0,v.default)(this.orderList).length&&(0,i.default)({},"XSDD_DATA",{dealerInfo:this.dealerInfo,formData:this.formData,contactInfo:this.contactInfo,orderList:this.orderList})}},created:function(){var e=sessionStorage.getItem("XSDD_DATA");if(e){var t=JSON.parse(e);this.dealerInfo=t.dealerInfo,this.formData=t.formData,this.contactInfo=t.contactInfo,this.orderList=t.orderList,this.matterParams.data&&this.matterParams.data.dealerCode&&(this.matterParams.data.dealerCode=this.dealerInfo.dealerCode),sessionStorage.removeItem("XSDD_DATA")}}}},"90tv":function(e,t){},"98vG":function(e,t,a){"use strict";function n(e){a("5lA0")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("q8mY");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("zF26"),s=a.n(o),l=a("+3jY"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-293d3913",null);t.default=c.exports},"9B9Q":function(e,t,a){"use strict";function n(e){a("WITS")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("Cgoy");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("KDMX"),s=a.n(o),l=a("+sgT"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-01d7f9e4",null);t.default=c.exports},"9FuR":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("4YfN"),s=n(o),l=a("MgeX"),d=n(l),u=a("HzJ8"),c=n(u),f=a("ZLEe"),h=n(f),m=a("rVsN"),v=n(m),p=a("IHPB"),C=n(p),y=a("3cXf"),_=n(y),g=a("HXPS"),b=n(g),w=a("BGNQ"),I=n(w),D=a("z5TY"),x=n(D),P=a("SAzG"),S=n(P),k=a("u28h"),L=n(k),N=a("PzEQ"),M=n(N),T=a("kNGm"),A=n(T),O=a("0AQX"),R=a("I3vJ"),j=a("HyXB"),B=a("bKg5"),E=n(B),F=a("luHD"),U=n(F),$=a("Pb67"),H=n($),V=a("d7ck"),q=n(V),Q=a("FlCz"),Y=n(Q),X=a("MVgC"),G=n(X),W=a("vl8n"),z=n(W),K=a("+WR7"),J=n(K),Z=a("zWMP"),ee=a("Qg39");t.default={name:"ApplyWLXQJHForm",mixins:[E.default],components:{Icon:b.default,Cell:I.default,Group:x.default,XInput:S.default,XTextarea:M.default,PopMatter:U.default,PopOrderList:H.default,Datetime:L.default,FormCell:q.default,BomList:Y.default,BomPop:G.default,RPicker:z.default,PopBaseinfo:J.default},data:function(){return{listId:"867e0b4f-548f-4e08-873a-1b8e54333630",orderList:{},showOrderPop:!1,formData:{biComment:""},submitSuccess:!1,numMap:{},transCode:"",formViewUniqueId:"82784823-ded5-4a58-a746-d32514f7d26f",biReferenceId:"",actions:[],taskId:"",matterList:[],entity:{},tmpItems:{},matter:{},showMatterPop:!1,DuplicateBoms:[],UniqueBom:[],modifyIndex:null,modifyKey:null,bomPopShow:!1,bom:{},modifyBomTdqty:[]}},watch:{matter:{handler:function(e){var t=this;e.boms&&e.boms.forEach(function(a){var n=t.calcBom(e.processQty,a);a.tdQty=Math.abs((0,ee.toFixed)(n))})},deep:!0}},methods:{checkBom:function(e,t,a){this.bom=e,this.modifyIndex=t,this.modifyKey=a,this.bomPopShow=!0,this.modifyBomTdqty=JSON.parse((0,_.default)(e.boms))},bomConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t),this.reBuildArr(t)},getMatterModify:function(e,t,a){this.matter=JSON.parse((0,_.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a,this.modifyBomTdqty=[].concat((0,C.default)(e.boms))},selConfirm:function(e){var t=JSON.parse(e);t.processQty?t.tdQty=(0,Z.accAdd)(t.lockQty,t.processQty):t.tdQty="",this.$set(this.orderList[this.modifyKey],this.modifyIndex,t),this.reBuildArr(t)},reBuildArr:function(e){var t=this,a=e.boms;this.modifyBomTdqty.forEach(function(e){a.forEach(function(a){if(a.inventoryCode===e.inventoryCode)return a.newTdqty=(0,Z.accSub)(a.tdQty,e.tdQty),t.UniqueBom.forEach(function(e){if(a.inventoryCode===e.inventoryCode)return e.tdQty=(0,Z.accAdd)(e.tdQty,a.newTdqty),!1}),!0})})},selOrder:function(e){var t=this,a=JSON.parse(e),n={},r=[];this.DuplicateBoms=[],a.forEach(function(e){var a=e.transCode+"_"+e.inventoryCode,i=e.promDeliTime?(0,A.default)(new Date(e.promDeliTime)-2592e5,"YYYY-MM-DD"):"",o=t.numMap[a]||{},s=o.tdQty,l=void 0===s?"":s,d=o.processQty,u=void 0===d?"":d,c=o.lockQty,f=void 0===c?e.qtyBal:c,h=o.shippingTime,m=void 0===h?i:h,v=o.boms,p=void 0===v?[]:v;e.tdQty=l,e.processQty=u,e.lockQty=f,e.shippingTime=m,n[e.transCode]||(n[e.transCode]=[]),r.push((0,R.getJGRKBom)({parentInvCode:e.inventoryCode}).then(function(a){var n=a.tableContent,r=void 0===n?[]:n;r.forEach(function(a){var n=p.find(function(e){return a.inventoryCode===e.inventoryCode})||{},r=n.specificLoss,o=void 0===r?a.specificLoss:r,s=n.lockQty,l=void 0===s?0:s,d=n.shippingTime,u=void 0===d?i:d;a.specificLoss=parseFloat(o),a.lockQty=l,a.shippingTime=u;var c=t.calcBom(e.processQty,a);a.tdQty=Math.abs((0,ee.toFixed)(c))}),t.$set(e,"boms",r);var o=JSON.parse((0,_.default)(r));t.DuplicateBoms=[].concat((0,C.default)(t.DuplicateBoms),(0,C.default)(o))})),n[e.transCode].push(e)}),v.default.all(r).then(function(e){t.mergeBomList()}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},findIndex:function(e,t){return e.findIndex(function(e){return e.orderCode===t.orderCode&&e.transCode===t.transCode&&e.inventoryCode===t.inventoryCode})},delClick:function(e,t,a){var n=this.selItems,r=this.findIndex(n,t);if(-1!==r)return void n.splice(r,1);n.push(t)},showSelIcon:function(e){return-1!==this.findIndex(this.selItems,e)},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,_.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,h.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.orderCode===a.orderCode&&t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],r=e.findIndex(n,t);r>=0&&(e.$refs.order.delSelItem(n[r]),n.splice(r,1)),n.length||delete e.orderList[t.transCode]}})}),e.selItems.forEach(function(t){t.boms.forEach(function(t){return e.UniqueBom.forEach(function(a,n){if(t.inventoryCode===a.inventoryCode){var r=(0,Z.accSub)(a.tdQty,t.tdQty);return a.tdQty=(0,ee.toFixed)(r),a.tdQty<=0&&e.UniqueBom.splice(n,1),!1}}),!0})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,r=(0,c.default)((0,d.default)(this.orderList));!(e=(n=r.next()).done);e=!0){var i=n.value,o=!0,l=!1,u=void 0;try{for(var f,h=(0,c.default)(i);!(o=(f=h.next()).done);o=!0){var m=f.value;this.numMap[m.transCode+"_"+m.inventoryCode]=(0,s.default)({},m)}}catch(e){l=!0,u=e}finally{try{!o&&h.return&&h.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="";if(t||(0,h.default)(this.orderList).length||(t="请选择物料"),!t){var a=!0,n=!1,r=void 0;try{for(var o,l=(0,c.default)((0,d.default)(this.orderList));!(a=(o=l.next()).done);a=!0){var u=o.value,f=!0,m=!1,v=void 0;try{for(var p,C=(0,c.default)(u);!(f=(p=C.next()).done);f=!0){var y=p.value;if(!y.tdQty){t="请填写本次入库数量";break}var g=!0,b=!1,w=void 0;try{for(var I,D=(0,c.default)(y.boms);!(g=(I=D.next()).done);g=!0){var x=I.value;if(x.qtyStock<x.tdQty){t="可用余额不能少于本次扣料，请重新输入入库数量";break}}}catch(e){b=!0,w=e}finally{try{!g&&D.return&&D.return()}finally{if(b)throw w}}if(t)break}}catch(e){m=!0,v=e}finally{try{!f&&C.return&&C.return()}finally{if(m)throw v}}if(t)break}}catch(e){n=!0,r=e}finally{try{!a&&l.return&&l.return()}finally{if(n)throw r}}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=[],a=j.saveAndStartWf,n={},r=(0,i.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""}),o=!0,l=!1,u=void 0;try{for(var f,h=(0,c.default)((0,d.default)(e.orderList));!(o=(f=h.next()).done);o=!0){var m=f.value,v=!0,p=!1,C=void 0;try{for(var y,g=(0,c.default)(m);!(v=(y=g.next()).done);v=!0){var b=y.value,w=[],I=!0,D=!1,x=void 0;try{for(var P,S=(0,c.default)(b.boms);!(I=(P=S.next()).done);I=!0){var k=P.value;w.push({transMatchedCode:b.transCode,tdQty:k.tdQty,lockQty:k.lockQty,demandQty:k.qty,thenQtyStock:k.qtyStock,bomSpecificLoss:k.specificLoss,inventoryType:k.inventoryType,tdProcessing:k.processing||k.tdProcessing,containerCodeOut:k.warehouseCode,material:k.material,inventoryName:k.inventoryName,specification:k.specification,transObjCode:k.inventoryCode,measureUnit:k.measureUnit,bomType:k.bomType,bomQty:k.qty||k.bomQty,shippingTime:k.shippingTime})}}catch(e){D=!0,x=e}finally{try{!I&&S.return&&S.return()}finally{if(D)throw x}}var L={tdId:b.tdId||null,transMatchedCode:b.transCode,transObjCode:b.inventoryCode,inventoryName_transObjCode:b.inventoryName,tdProcessing:b.processing,containerCodeOut:b.warehouseCode,measureUnit_transObjCode:b.measureUnit,thenQtyBal:b.qtyBal,promDeliTime:b.promDeliTime,thenQtyStock:b.qtyStock,lockQty:b.lockQty,processQty:b.processQty,tdQty:b.tdQty,leadTime:b.comment||null,shippingTime:b.shippingTime||null,comment:b.comment||null,boms:w};t.push(L)}}catch(e){p=!0,C=e}finally{try{!v&&g.return&&g.return()}finally{if(p)throw C}}}}catch(e){l=!0,u=e}finally{try{!o&&h.return&&h.return()}finally{if(l)throw u}}n=(0,s.default)({},e.formData,{modifer:e.transCode?e.formData.handler:"",handlerEntity:e.entity.dealerName,biProcessStatus:e.currentStage,inPut:{dataSet:t}}),e.transCode&&(a=j.saveAndCommitTask,r={businessKey:e.transCode,createdBy:n.creator||n.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var N={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,_.default)(n),wfPara:(0,_.default)(r)};e.transCode||delete N.biReferenceId,e.processCode.length||(a=j.submitAndCalc,delete N.wfPara,delete N.biReferenceId),e.biReferenceId&&(N.biReferenceId=e.biReferenceId),console.log(N),e.saveData(a,N)}})},getFormData:function(){var e=this;return(0,O.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,l=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var d={};e.attachment=l;var u=i.inPut,f=u.dataSet,h=void 0===f?[]:f,m=!0,v=!1,p=void 0;try{for(var C,y=(0,c.default)(h);!(m=(C=y.next()).done);m=!0){var g=C.value;g.boms.forEach(function(e){e.inventoryCode=e.transObjCode,e.specificLoss=e.bomSpecificLoss,e.qty=e.bomQty}),e.DuplicateBoms=e.DuplicateBoms.concat(JSON.parse((0,_.default)(g.boms))),g=(0,s.default)({},g,{transCode:g.transMatchedCode,qtyBal:g.thenQtyBal,inventoryPic:g.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+g.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:g.inventoryName_transObjCode,inventoryCode:g.transObjCode,specification:g.specification_transObjCode,processing:g.tdProcessing}),d[g.transCode]||(d[g.transCode]=[]),d[g.transCode].push(g)}}catch(e){v=!0,p=e}finally{try{!m&&y.return&&y.return()}finally{if(v)throw p}}e.matterList=h,e.handlerDefault={handler:i.handler,handlerName:i.handlerName,handlerUnit:i.handlerUnit,handlerUnitName:i.handlerUnitName,handlerRole:i.handlerRole,handlerRoleName:i.handlerRoleName},e.formData=(0,s.default)({},e.formData,e.handlerDefault,{biComment:i.biComment,biId:i.biId,biProcessStatus:i.biProcessStatus,creator:i.creator,modifer:i.modifer,drDealerLogisticsTerms:i.drDealerLogisticsTerms}),e.mergeBomList(),e.biReferenceId=i.biReferenceId,e.orderList=d,e.$loading.hide()})},mergeBomList:function(){var e=function(e,t){return e.inventoryCode===t.inventoryCode};this.UniqueBom=function(t){return t.reduce(function(t,a){return t.some(function(t){var n=e(t,a);return n&&(t.tdQty=(0,Z.accAdd)(t.tdQty,a.tdQty)),n})||t.push(a),t},[])}(this.DuplicateBoms)},hasDraftData:function(){return!!(0,d.default)(this.orderList).length&&(0,i.default)({},"WLXQJH_DATA",{orderList:this.orderList,formData:this.formData,DuplicateBoms:this.DuplicateBoms})},checkQtyBal:function(e){var t=e.qtyBal,a=e.qtyStock;t=Math.abs((0,ee.toFixed)(t)),t>a&&(t=a),e.qtyBal=t},checklockQty:function(e){var t=e.qtyBal,a=e.lockQty,n=e.processQty;a=Math.abs((0,ee.toFixed)(a)),(0,Z.accAdd)(a,n)>t&&(a=(0,Z.accSub)(t,n)),e.lockQty=a},checkprocessQty:function(e){var t=e.qtyBal,a=e.lockQty,n=e.processQty;n=Math.abs((0,ee.toFixed)(n)),(0,Z.accAdd)(a,n)>t&&(n=(0,Z.accSub)(t,a)),e.processQty=n},modifyBomLockQty:function(e){var t=this;this.$vux.confirm.prompt(e.lockQty,{title:"原料库存计划",onConfirm:function(a){if(a){t.$refs.bomPop.changeToConfirm(),e.lockQty=Math.abs((0,ee.toFixed)(a));var n=t.calcBom(t.bom.processQty,e);e.tdQty=Math.abs((0,ee.toFixed)(n))}}})},modifyBomSpecificLoss:function(e){var t=this;this.$vux.confirm.prompt(item.specificLoss,{title:"单位损耗率",onConfirm:function(a){if(a){t.$refs.bomPop.changeToConfirm(),e.specificLoss=Math.abs((0,ee.toFixed)(a));var n=t.calcBom(t.bom.processQty,e);e.tdQty=Math.abs((0,ee.toFixed)(n))}}})},modifyBomDate:function(e){var t=this;this.$vux.datetime.show({cancelText:"取消",confirmText:"确定",value:e.shippingTime,onConfirm:function(a){t.$refs.bomPop.changeToConfirm(),e.shippingTime=a}})},calcBom:function(e,t){return(0,Z.accSub)((0,Z.accMul)(e,t.qty,1+t.specificLoss),t.lockQty)}},filters:{dateFormat:A.default},created:function(){var e=sessionStorage.getItem("WLXQJH_DATA");if(e){var t=JSON.parse(e);this.orderList=t.orderList,this.formData=t.formData,this.DuplicateBoms=t.DuplicateBoms,this.mergeBomList(),sessionStorage.removeItem("WLXQJH_DATA")}}}},"9HrF":function(e,t){},"9M4O":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("DGcX"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={mixins:[r.default],name:"x-dialog",model:{prop:"show",event:"change"},props:{show:{type:Boolean,default:!1},maskTransition:{type:String,default:"vux-mask"},maskZIndex:[String,Number],dialogTransition:{type:String,default:"vux-dialog"},dialogClass:{type:String,default:"weui-dialog"},hideOnBlur:Boolean,dialogStyle:Object,scroll:{type:Boolean,default:!0,validator:function(e){return!0}}},computed:{maskStyle:function(){if(void 0!==this.maskZIndex)return{zIndex:this.maskZIndex}}},mounted:function(){"undefined"!=typeof window&&window.VUX_CONFIG&&"VIEW_BOX"===window.VUX_CONFIG.$layout&&(this.layout="VIEW_BOX")},watch:{show:function(e){this.$emit("update:show",e),this.$emit(e?"on-show":"on-hide"),e?this.addModalClassName():this.removeModalClassName()}},methods:{shouldPreventScroll:function(){var e=/iPad|iPhone|iPod/i.test(window.navigator.userAgent),t=this.$el.querySelector("input")||this.$el.querySelector("textarea");if(e&&t)return!0},hide:function(){this.hideOnBlur&&(this.$emit("update:show",!1),this.$emit("change",!1),this.$emit("on-click-mask"))}},data:function(){return{layout:""}}}},"9QsH":function(e,t){},"9S56":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("IHPB"),s=n(o),l=a("HXPS"),d=n(l),u=a("7g+Q"),c=n(u),f=a("6q39"),h=n(f),m=a("kNGm"),v=n(m),p=a("fEP3"),C=a("1KNX"),y=n(C),_=a("7biW"),g=n(_);t.default={name:"work-list-pop",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}}},components:{Icon:d.default,Popup:c.default,LoadMore:h.default,RScroll:y.default,MSearch:g.default},filters:{dateFormat:v.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],workList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterList:[{name:"成品名称",value:"inventoryName"},{name:"成品编码",value:"inventoryCode"},{name:"工序名称",value:"procedureName"}],filterProperty:""}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,s.default)(this.selItems)),this.$emit("input",!1),this.$event.$emit("shut-down-filter",!1)},findIndex:function(e,t){return e.findIndex(function(e){var a=!0;return e.transCode&&(a=e.transCode===t.transCode),a&&e.inventoryCode===t.inventoryCode})},showSelIcon:function(e){return-1!==this.tmpItems.findIndex(function(t){return t.transCode===e.transCode&&t.inventoryCode===e.inventoryCode})},selThis:function(e,t){var a=this.tmpItems,n=a.findIndex(function(t){return t.transCode===e.transCode&&t.inventoryCode===e.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(e)},setDefaultValue:function(){this.tmpItems=[this.defaultValue],this.selItems=[this.defaultValue]},getWorkOrderTask:function(){var e=this,t=[],a=this.$route.query.orderId,n=void 0===a?"[]":a,r=JSON.parse(n);if(this.srhInpTx&&(t=[].concat((0,s.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),r.length){var o=[{operator:"in",value:"",property:"colId"}];r.forEach(function(e,t){if(t===r.length-1)return void(o[0].value+=e);o[0].value+=e+","}),console.log(o),t=[].concat((0,s.default)(t),o)}return(0,p.getWorkOrderTask)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,i.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,o=t.tableContent,l=void 0===o?[]:o;r.length&&e.$emit("sel-work",(0,i.default)(l)),e.hasNext=n>(e.page-1)*e.limit+l.length,e.workList=1===e.page?l:[].concat((0,s.default)(e.workList),(0,s.default)(l)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},cfmMater:function(){this.showPop=!1,this.tmpItems.sort(function(e,t){return t.effectiveTime-e.effectiveTime}),this.selItems=[].concat((0,s.default)(this.tmpItems)),this.$emit("sel-work",(0,i.default)(this.selItems))},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,r=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=r,this.workList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getWorkOrderTask()},onPullingUp:function(){this.page++,this.getWorkOrderTask()}},created:function(){this.setDefaultValue(),this.getWorkOrderTask()}}},"9SNe":function(e,t,a){"use strict";function n(e){a("0O+m")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4D87");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("X128"),s=a.n(o),l=a("fm4O"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-519fddd6",null);t.default=c.exports},"9cRV":function(e,t,a){"use strict";function n(e){a("kMZd")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("tiX6");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("beoG"),s=a.n(o),l=a("CVjw"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-b534d060",null);t.default=c.exports},"9dj2":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=(a("XAqG"),a("HyXB"),a("MjAd")),s=n(o),l=a("ak47");n(l);t.default={name:"ZPJH_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"经办人",value:"handlerName"},{name:"交易号",value:"transCode"}],listViewID:2400}},mixins:[s.default],methods:{pathChange:function(e,t,a){var n=this;if(!this.clickVisited){var r=e.transCode,o=this.$route.query.name,s=this.$route.params,l=s.folder,d=s.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,i.default)({},e));var u=a+"/"+l+"/"+d;setTimeout(function(){n.clickVisited=!1,n.$router.push({path:u,query:{name:o,transCode:r}})},200)}},goDetail:function(e,t){this.pathChange(e,t,"/detail")},goUserEdit:function(e,t){this.pathChange(e,t,"/fillform")}}}},"9dkl":function(e,t){},"9enk":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("rVsN"),i=n(r),o=a("KH7x"),s=n(o),l=a("Q+Ik"),d=n(l),u=a("4YfN"),c=n(u),f=a("Nk/b"),h=n(f),m=a("7g+Q"),v=n(m),p=a("z5TY"),C=n(p),y=a("vl8n"),_=n(y),g=a("PKHo"),b=n(g),w=a("XAqG"),I=a("5gKc"),D=n(I),x=a("WGJW"),P=n(x),S=a("1KNX"),k=n(S);t.default={name:"ApplyUserForm",data:function(){return{genderList:[{name:"男",value:"男",key:1},{name:"女",value:"女",key:0}],userTypeList:[{name:"长期有效",value:"长期有效",key:1},{name:"临时账户",value:"临时账户",key:0}],statusList:[{name:"使用中",value:"使用中",key:1},{name:"草稿",value:"草稿",key:3},{name:"停用",value:"停用",key:-1},{name:"未使用",value:"未使用",key:2}],codeReadOnly:!1,userData:{email:"",entityId:"",entityName:"",gender:"男",mobile:"",nickname:"",officePhone:"",photo:"",status:"使用中",termOfValidity:"",userCode:"",userType:"长期有效"},showDate:!1,PhoneWarn:!1,MobileWarn:!1,EmailWarn:!1,userCodeWarn:!1,colId:"",company:{},companyParams:{target:4}}},mixins:[b.default],components:{Picker:h.default,Popup:v.default,Group:C.default,RPicker:_.default,UploadImage:D.default,PopCompanyList:P.default,RScroll:k.default},methods:{onUpload:function(e){this.userData.photo="/H_roleplay-si/ds/download?width=128&height=128&url="+e.src},userTypeChange:function(e){"临时账户"===e&&(this.showDate=!0)},save:function(){var e=this,t={userCode:"工号",nickname:"姓名",mobile:"手机"};"临时账户"===this.userData.userType&&(t.termOfValidity="账户有效期"),t.entityName="公司";for(var a in this.userData)"string"==typeof this.userData[a]&&this.userData[a].indexOf(" ")>=0&&(this.userData[a]=this.userData[a].replace(/\s/g,""));var n=(0,c.default)({},this.userData),r=this.colId?w.updateUser:w.addUser,i="";if(this.userCodeWarn&&(i="工号已存在"),!i&&(0,d.default)(t).every(function(t){var a=(0,s.default)(t,2),n=a[0],r=a[1];return!!e.userData[n]||(i=r+"不能为空",!1)}),!i&&this.PhoneWarn&&(i="座机格式不正确"),!i&&this.EmailWarn&&(i="邮箱格式不正确"),i)return void this.$vux.alert.show({content:i});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=e.genderList.find(function(e){return e.value===n.gender}),a=e.userTypeList.find(function(e){return e.value===n.userType}),i=e.statusList.find(function(e){return e.value===n.status});n.gender=t.key,n.userType=a.key,n.status=i.key,console.log(n),r(n).then(function(t){e.$HandleLoad.hide();var a=t.success,n=void 0===a||a,i=t.message,o=void 0===i?"提交失败":i;n&&(o=r===w.addUser?"提交成功":"修改成功",e.$emit("change",!0)),e.$vux.alert.show({content:o,onHide:function(){n&&e.$router.go(-1)}})}).catch(function(t){e.$HandleLoad.hide()})}})},getDefaultImg:function(){this.userData.photo=a("CcG0")},selCompany:function(e){this.userData.entityName=e.groupName,this.userData.entityId=e.groupCode},getDate:function(){var e=this;this.$vux.datetime.show({confirmText:"确定",cancelText:"取消",value:this.userData.termOfValidity,onConfirm:function(t){e.userData.termOfValidity=t}})},checkPhone:function(){var e=/^0\d{2,3}-\d{7,8}$/;if(this.userData.officePhone.length>0&&!e.test(this.userData.officePhone))return void(this.PhoneWarn=!0);this.PhoneWarn=!1},checkMobile:function(){var e=/^[1][34578][0-9]{9}$/;if(this.userData.mobile.length>0&&!e.test(this.userData.mobile))return void(this.MobileWarn=!0);this.MobileWarn=!1},checkUserCode:function(){var e=this;(0,w.validateCode)(this.userData.userCode).then(function(t){var a=t.result,n=void 0===a?0:a;e.userCodeWarn=!1,n&&(e.userCodeWarn=!0,e.$vux.alert.show({content:"工号已存在"}))}).catch(function(t){e.userCodeWarn=!0})},checkEmail:function(){var e=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;if(this.userData.email.length>0&&!e.test(this.userData.email))return void(this.EmailWarn=!0);this.EmailWarn=!1},getFormData:function(){var e=this;return(0,w.getUserDetail)(this.colId).then(function(t){var a=t.tableContent,n=void 0===a?[]:a,r=(0,s.default)(n,1),i=r[0],o=void 0===i?{}:i,l=["女","男"],d=["","使用中","未使用","草稿"],u=["临时账户","长期有效"];o.gender=l[o.gender]||"未知",o.status=d[o.status]||"停用",o.userType=u[o.userType],"临时账户"===o.userType&&(e.showDate=!0),e.company={groupCode:o.entityId,groupName:o.entityName},e.userData=(0,c.default)({},e.userData,o),e.$loading.hide()})}},created:function(){var e=this;this.$loading.show();var t=this.$route.query.colId,a=void 0===t?"":t,n=[];a&&(this.colId=a,this.codeReadOnly=!0,n.push(this.getFormData())),i.default.all(n).then(function(){e.$loading.hide()})}}},"9izW":function(e,t){},"9kVI":function(e,t,a){function n(e){return a(r(e))}function r(e){var t=i[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var i={"./consumable/DZYHPCGDDForm.vue":"5SxB","./consumable/DZYHPCGSQForm.vue":"WnoM","./consumable/DZYHPCGYSYZFForm.vue":"YjUH","./contacts/COMPANYForm.vue":"gihj","./contacts/JOBForm.vue":"Nu2k","./contacts/USERForm.vue":"k/UG","./equipment/SBCGDDForm.vue":"QifJ","./equipment/SBCGSQForm.vue":"K0z5","./equipment/SBCGYSForm.vue":"dOws","./finance/BXYZFForm.vue":"59Rw","./finance/CRCDHPForm.vue":"NHMs","./finance/DFCDHPForm.vue":"eNNU","./finance/DXTXCDHPForm.vue":"2TA+","./finance/FGYSDJForm.vue":"TUz9","./finance/FGYSQKForm.vue":"aASr","./finance/FKForm.vue":"YmAS","./finance/FYBXForm.vue":"hGFl","./finance/HGCWForm.vue":"n6c+","./finance/JKYBYJForm.vue":"MmnS","./finance/KCCDHPForm.vue":"of1D","./finance/SDCDHPForm.vue":"Uvie","./finance/SKForm.vue":"h8g4","./finance/XMFYBXForm.vue":"IBVj","./finance/YBFYBXForm.vue":"DTET","./finance/ZZSKPForm.vue":"/Z4J","./finance/ZZSSPForm.vue":"fMId","./hr/YGDAForm.vue":"x7T3","./hr/YGLZForm.vue":"vz8g","./hr/YGRZForm.vue":"+wTM","./hr/ZPJHForm.vue":"C6jN","./leave/QJForm.vue":"1Dc2","./plan/BHDDForm.vue":"6/io","./plan/CGSQForm.vue":"djgs","./plan/WLXQJHForm.vue":"/97J","./plan/WLXQTJForm.vue":"o99i","./plan/XSDDYCForm.vue":"v4O2","./product/CPBUGForm.vue":"+hQ9","./product/CPFBForm.vue":"LoFD","./product/CPXQForm.vue":"qL4K","./production/BDKCDBForm.vue":"YiZ3","./production/CGRKForm.vue":"5i6Q","./production/CGTHCKForm.vue":"DwMW","./production/GDBLLForm.vue":"jRXt","./production/GDRWForm.vue":"sMPv","./production/GDRWQDForm.vue":"C/iA","./production/GDYSForm.vue":"Px8X","./production/KCPDForm.vue":"8zGr","./production/NBJGDDForm.vue":"P7KE","./production/NBJGLLForm.vue":"bReN","./production/NBJGRKForm.vue":"xImq","./production/WGYRKForm.vue":"DfE5","./production/WGZJRKForm.vue":"FZVR","./production/XSCKForm.vue":"YaCa","./production/XSTHForm.vue":"HXbB","./project/RWRZForm.vue":"FqoY","./project/XMJHForm.vue":"7sWR","./project/XMJXForm.vue":"8dZ0","./project/XMLXForm.vue":"TruQ","./project/XMRWForm.vue":"rewM","./purchase/CGDDForm.vue":"vJe9","./purchase/CGXYForm.vue":"dRd+","./sale/CPJGForm.vue":"lkpG","./sale/KPSQForm.vue":"g2cw","./sale/SJForm.vue":"t4UV","./sale/XSBJForm.vue":"sZ9E","./sale/XSDDForm.vue":"Ca4P","./sale/XSHTForm.vue":"caTQ"};n.keys=function(){return Object.keys(i)},n.resolve=r,e.exports=n,n.id="9kVI"},"9pPf":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pop-salesman-list-container"},[a("div",{staticClass:"SJForm_cell",on:{click:e.itemClick}},[a("div",{class:{required:e.required}},[e._v(e._s(e.title))]),e._v(" "),a("div",{staticClass:"value"},[e._v(e._s(e.currentValue||"请选择"))])]),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("r-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"salesman-list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.dealerList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.dealerList,function(t,n){return a("div",{key:n,staticClass:"mater-list-item",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"mater-list-item-content"},[a("div",{staticClass:"name"},[e._v(e._s(t.dealerName))]),e._v(" "),a("div",[e._v(e._s(t.province)+e._s(t.city)+e._s(t.county)+e._s(t.address))])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1)])],1)])},r=[],i={render:n,staticRenderFns:r};t.a=i},"9pbS":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages cpxq-list-container",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId,hasFormStatus:!1},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"instance-item-wrapper",class:{visited:t.visited},on:{click:function(a){e.goDetail(t,n)}}},[a("div",{staticClass:"instance-header"},[a("span",{staticClass:"instance_code vux-1px-l"},[e._v(e._s(t.transCode))]),e._v(" "),a("span",{staticClass:"instance_status",class:t.statusClass},[e._v(e._s(t.biStatus))])]),e._v(" "),a("div",{staticClass:"instance-main"},[a("i",{staticClass:"icon icon-light"}),e._v(" "),a("div",{staticClass:"instance_info_wrapper"},[a("div",{staticClass:"instance_header_wrapper"},[a("span",{staticClass:"instance_header"},[e._v(e._s(t.demandTitle))]),e._v(" "),a("span",{staticClass:"instance_process_status"},[e._v(e._s(t.biProcessStatus||"暂无流程"))])]),e._v(" "),a("div",{staticClass:"instance_detail"},[a("div",{staticClass:"instance_detail_item"},[a("i",{staticClass:"icon icon-handler"}),e._v(" "),a("span",[e._v("经办人："+e._s(t.handlerName))])]),e._v(" "),a("div",{staticClass:"instance_detail_item"},[a("i",{staticClass:"icon icon-mod-time"}),e._v(" "),a("span",[e._v("修改时间："+e._s(e._f("dateFormat")(t.modTime,"YYYY-MM-DD HH:mm")))])])])])])])}),0)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},"9tFv":function(e,t){},"9vk1":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("HzJ8"),s=n(o),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("PKHo"),f=n(c),h=a("zWMP"),m=a("BUFe"),v=n(m),p=a("AupE"),C=n(p),y=a("sUbJ"),_=n(y),g=a("FlCz"),b=n(g),w=a("d7ck"),I=n(w),D=a("MVgC"),x=n(D),P=a("hPJo"),S=n(P);t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",orderList:{},basicInfo:{},DuplicateBoms:[],UniqueBom:[],bomPopShow:!1,bom:{},warehouseIn:{},warehouseOut:{}}},mixins:[u.default,f.default],components:{workFlow:C.default,RAction:v.default,MatterItem:_.default,BomList:b.default,FormCell:I.default,BomPop:x.default,WarehouseContent:S.default},watch:{DuplicateBoms:{handler:function(e){var t=function(e,t){return e.inventoryCode===t.inventoryCode};this.UniqueBom=function(e){return e.reduce(function(e,a){return e.some(function(e){var n=t(e,a);return n&&(e.tdQty=(0,h.accAdd)(e.tdQty,a.tdQty)),n})||e.push(a),e},[])}(this.DuplicateBoms)}}},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},checkBom:function(e){this.bom=e,this.bomPopShow=!0},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u={};o.order;e.attachment=d;var c=o.inPut,f=void 0===c?{}:c,m=f.dataSet,v=!0,p=!1,C=void 0;try{for(var y,_=(0,s.default)(m);!(v=(y=_.next()).done);v=!0){var g=y.value;if(g.inventoryPic=g.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+g.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),g.boms){var b=!0,w=!1,I=void 0;try{for(var D,x=(0,s.default)(g.boms);!(b=(D=x.next()).done);b=!0){var P=D.value;P.inventoryCode=P.transObjCode,P.warehouseName=P.warehouseName_containerCodeOut,P.warehouseCode=P.containerCodeOut,P.qtyStock=P.thenQtyStock,P.tdQty=(0,h.accMul)(P.bomQty,g.tdQty,1+P.bomSpecificLoss)}}catch(e){w=!0,I=e}finally{try{!b&&x.return&&x.return()}finally{if(w)throw I}}e.DuplicateBoms=e.DuplicateBoms.concat(JSON.parse((0,i.default)(g.boms)))}u[g.transMatchedCode]||(u[g.transMatchedCode]=[]),u[g.transMatchedCode].push(g)}}catch(e){p=!0,C=e}finally{try{!v&&_.return&&_.return()}finally{if(p)throw C}}e.warehouseIn={warehouseCode:f.containerCode,warehouseName:f.warehouseName_containerCode,warehouseAction:"入库",warehouseIcon:"icon-ruku",warehouseType:f.warehouseType_containerCode,warehouseProvince:f.warehouseProvince_containerCode,warehouseCity:f.warehouseCity_containerCode,warehouseDistrict:f.warehouseDistrict_containerCode,warehouseAddress:f.warehouseAddress_containerCode},e.warehouseOut={warehouseCode:f.containerCodeOut,warehouseName:""+f.warehouseName_containerCodeOut,warehouseAction:"出库",warehouseIcon:"icon-chuku",warehouseType:f.warehouseType_containerCodeOut,warehouseProvince:f.warehouseProvince_containerCodeOut,warehouseCity:f.warehouseCity_containerCodeOut,warehouseDistrict:f.warehouseDistrict_containerCodeOut,warehouseAddress:f.warehouseAddress_containerCodeOut},e.orderList=u,e.orderInfo=o,e.workFlowInfoHandler()})}}}},"9wX+":function(e,t,a){"use strict";function n(e){a("Ou9q")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("IQc9");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("1JcB"),s=a.n(o),l=a("/3js"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-6e079886",null);t.default=c.exports},"9xkf":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages nbjgdd-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-warehouse-list",{attrs:{title:"在制仓库","default-value":e.warehouseOut,isRequired:"","get-list-method":"getWareHouseType",params:e.warehouseOutParams},on:{"sel-item":e.selWarehouseOut}}),e._v(" "),a("pop-warehouse-list",{attrs:{title:"入库仓库","default-value":e.warehouseIn,isRequired:"","get-list-method":"getWareHouseType",params:e.warehouseInParams},on:{"sel-item":e.selWarehouseIn}}),e._v(" "),a("div",{staticClass:"materiel_list"},[Object.keys(e.orderList).length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v("订单列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n,r){return a("div",{key:n,staticClass:"each_mater"},[t.length?a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v("加工订单号")]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]):e._e(),e._v(" "),e._l(t,function(r,i){return a("div",{key:i,class:{mater_delete:e.matterModifyClass}},[a("matter-item",{class:{"vux-1px-b":i<t.length-1},attrs:{item:r,"show-delete":e.matterModifyClass},on:{"on-modify":function(t){e.getMatterModify(r,i,n)}},nativeOn:{click:function(t){e.delClick(i,r,n)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_more"},[a("span",[e._v("可用库存: "+e._s(n.qtyStock))]),e._v(" "),a("span",[e._v("待验收余额: "+e._s(n.qtyBal))])]),e._v(" "),n.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"matter-remain"},[a("span",[e._v("本次完工入库: "+e._s(n.tdQty)+e._s(n.measureUnit))])])]):e._e()]}},{key:"edit",fn:function(t){var r=t.item;return[r.tdQty||e.matterModifyClass?e._e():a("div",{staticClass:"mater_other"},[a("div",{staticClass:"edit-tips",on:{click:function(t){e.getMatterModify(r,i,n)}}},[e._v("点击进行填写")])])]}}])}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.matterModifyClass,expression:"matterModifyClass"}],staticClass:"delete_icon",on:{click:function(t){e.delClick(i,r,n)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(r),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(r),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])])],1)})],2)}),0)]:[a("div",{on:{click:function(t){e.showOrderPop=!e.showOrderPop}}},[a("div",{staticClass:"title"},[e._v("订单列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择订单")]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),Object.keys(e.orderList).length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多物料")])]):e._e(),e._v(" "),a("pop-order-xqtj-list",{ref:"order",attrs:{show:e.showOrderPop,"default-value":e.orderList,"list-method":"getInProcessingStorage"},on:{"sel-matter":e.selOrder},scopedSlots:e._u([{key:"qtyBal",fn:function(t){var n=t.item;return[a("span",[e._v("待验收余额: "+e._s(n.qtyBal))])]}},{key:"qtyStock",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater-balance"},[e._v("可用余额: "+e._s(n.qtyStock)+e._s(n.measureUnit))])]}}]),model:{value:e.showOrderPop,callback:function(t){e.showOrderPop=t},expression:"showOrderPop"}})],2),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,"is-show-amount":!1},on:{"sel-confirm":e.selConfirm},scopedSlots:e._u([{key:"modify",fn:function(t){var n=t.modifyMatter;return[a("group",{staticClass:"mg_auto"},[a("cell",{attrs:{title:"可用库存","text-align":"right",placeholder:"请填写",value:n.qtyStock}}),e._v(" "),a("cell",{attrs:{title:"待验收余额","text-align":"right",placeholder:"请填写",value:n.qtyBal}}),e._v(" "),a("x-input",{attrs:{title:"本次完工入库",type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",e._n(t))},expression:"modifyMatter.tdQty"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("本次完工入库")])])],2)],1)]}}]),model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode"},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},"9zS/":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.fullWorkFlow.length?a("div",{staticClass:"work-flow-container",on:{click:e.goWorkFlowFull}},[e._m(0),e._v(" "),a("div",{staticClass:"work-flow-status-wrapper"},[a("i",{staticClass:"icon-flow-time"}),e._v(" "),a("span",{staticClass:"work-flow-text"},[e._v("\n      工作流已到"+e._s(e.currentStatus.nodeName)+"，当前状态："),a("span",{class:[e.statusClass]},[e._v(e._s(e.workFlowInfo.biStatus))])])]),e._v(" "),a("div",{staticClass:"work-flow-time"},[e._v(e._s(e.currentStatus.startTime))])]):e._e()},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"work-flow-header"},[a("span",{staticClass:"work_flow_title vux-1px-l"},[e._v("工作流")]),e._v(" "),a("span",{staticClass:"check_more"},[e._v("\n      更多"),a("i",{staticClass:"icon-right"})])])}],i={render:n,staticRenderFns:r};t.a=i},"A/PN":function(e,t,a){"use strict";function n(e){a("oJgW")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("PwMs");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("LOxi"),s=a.n(o),l=a("TUCG"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-72f3afc7",null);t.default=c.exports},"A/Vq":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages sj-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[a("div",{staticClass:"mater_list"},[a("div",{staticClass:"each_mater"},[a("div",{staticClass:"userInp_mode"},[a("div",{staticClass:"title"},[e._v("员工信息")]),e._v(" "),a("group",{staticClass:"SJ_group",on:{"group-title-margin-top":function(e){}}},[a("pop-salesman-list",{attrs:{title:"员工","dealer-label-name":"员工",value:e.formData.salesPerson,required:""},model:{value:e.formData.hiresName,callback:function(t){e.$set(e.formData,"hiresName",t)},expression:"formData.hiresName"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("员工\n                    ")])])],2),e._v(" "),a("popup-picker",{attrs:{title:"部门",data:e.groupList,placeholder:"请选择"},model:{value:e.formData.hiresDepartMent,callback:function(t){e.$set(e.formData,"hiresDepartMent",t)},expression:"formData.hiresDepartMent"}}),e._v(" "),a("popup-picker",{attrs:{title:"岗位",data:e.roleList,placeholder:"请选择"},model:{value:e.formData.hiresPost,callback:function(t){e.$set(e.formData,"hiresPost",t)},expression:"formData.hiresPost"}}),e._v(" "),a("datetime",{attrs:{placeholder:"请选择日期",title:"体检日期"},model:{value:e.formData.examinationDate,callback:function(t){e.$set(e.formData,"examinationDate",t)},expression:"formData.examinationDate"}}),e._v(" "),a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1)])])]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},A1uh:function(e,t){},ACLF:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("3cXf"),s=n(o),l=a("Pkp+"),d=n(l),u=a("HyXB");t.default={name:"duplicateComponent",props:{config:{type:Array,default:function(){return[]}},defaultValue:{type:Object,default:function(){return{}}}},computed:{duplicateConfig:function(){return this.config}},data:function(){return{duplicateData:{}}},components:{RPicker:d.default},watch:{defaultValue:{handler:function(e){this.duplicateData=JSON.parse((0,s.default)(this.defaultValue))},deep:!0},duplicateData:{handler:function(e){var t=(0,s.default)(this.defaultValue);(0,s.default)(e)!==t&&this.$emit("input",e)},deep:!0}},methods:{addMoreUnit:function(e){var t={};e.items.forEach(function(e){e.hidden||(t[e.fieldCode]="")}),this.duplicateData[e.name].push(t)},deleteMoreUnit:function(e){this.duplicateData[e.name].pop()},getDate:function(e,t){this.$vux.datetime.show({value:"",confirmText:"确认",cancelText:"取消",onConfirm:function(a){e[t.fieldCode]=a}})},onChange:function(e,t,a,n){if("deliveryProvince"===a.fieldCode){var r="",o="",s=!0,l=!1,d=void 0;try{for(var c,f=(0,i.default)(this.duplicateConfig[t].items);!(s=(c=f.next()).done);s=!0){var h=c.value;if("break"===function(t){if("deliveryProvince"===t.fieldCode){var a=!0,s=!1,l=void 0;try{for(var d,c=(0,i.default)(t.remoteData);!(a=(d=c.next()).done);a=!0){var f=d.value;if(f.name===e){r=f.id;break}}}catch(e){s=!0,l=e}finally{try{!a&&c.return&&c.return()}finally{if(s)throw l}}}if("deliveryCity"===t.fieldCode)return t.requestParams.data.parentId=r,(0,u.requestData)(t.requestParams).then(function(e){e.tableContent&&(e.tableContent.length?(e.tableContent.forEach(function(e){e.originValue=e.value,e.value=e.name}),n.deliveryCity=e.tableContent[0].name,o=e.tableContent[0].originValue):n.deliveryCity="",t.remoteData=e.tableContent)}),"break"}(h))break}}catch(e){l=!0,d=e}finally{try{!s&&f.return&&f.return()}finally{if(l)throw d}}}else if("deliveryCity"===a.fieldCode){var m="",v=!0,p=!1,C=void 0;try{for(var y,_=(0,i.default)(this.duplicateConfig[t].items);!(v=(y=_.next()).done);v=!0){var g=y.value,b=function(t){if("deliveryCity"===t.fieldCode){var a=!0,r=!1,o=void 0;try{for(var s,l=(0,i.default)(t.remoteData);!(a=(s=l.next()).done);a=!0){var d=s.value;if(d.name===e){m=d.originValue;break}}}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}}if("deliveryCounty"===t.fieldCode)return t.requestParams.data.parentId=m,(0,u.requestData)(t.requestParams).then(function(e){e.tableContent&&(e.tableContent.length?(e.tableContent.forEach(function(e){e.originValue=e.value,e.value=e.name}),n.deliveryCounty=e.tableContent[0].name):n.deliveryCounty="",t.remoteData=e.tableContent)}),"break"}(g);if("break"===b)break}}catch(e){p=!0,C=e}finally{try{!v&&_.return&&_.return()}finally{if(p)throw C}}}},getFocus:function(e){event.currentTarget.select()}}}},ACTo:function(e,t,a){"use strict";function n(e){a("Cf7i")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("hHGC");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("wB6c"),s=a.n(o),l=a("AM0q"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-f8046d00",null);t.default=c.exports},AEil:function(e,t){},AFJY:function(e,t){},AKWE:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_part"},[e._m(0),e._v(" "),a("div",{staticClass:"form_content"},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"资金账户",cellContent:e.cashInfo.fundName_cashOutCode,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"资金编码",cellContent:e.cashInfo.cashOutCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"资金账户类型",cellContent:e.cashInfo.cashType_cashOutCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"账户余额",cellContent:e._f("numberComma")(e._f("toFixed")(e.cashInfo.thenAmntBal),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"支付金额",cellContent:e._f("numberComma")(e._f("toFixed")(e.cashInfo.tdAmount),3),showSymbol:""}})],1)])]),e._v(" "),a("div",{staticClass:"form_part"},[e._m(1),e._v(" "),e._l(e.orderInfo.order.dataSet,function(t,n){return a("div",{key:n,staticClass:"form_content",class:{show_border:n!==e.orderInfo.order.dataSet.length-1}},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"汇票号",cellContent:t.draftNumber,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"类型",cellContent:t.draftType}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"承兑人",cellContent:t.accepter}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"金额",cellContent:e._f("numberComma")(e._f("toFixed")(t.tdAmount),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"保证金",cellContent:e._f("numberComma")(e._f("toFixed")(t.deposit),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"出票日",cellContent:t.draftDate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"到期日",cellContent:t.draftDueDate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"说明",cellContent:t.comment}})],1)])})],2),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("资金账户详情")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("汇票列表")])])}],i={render:n,staticRenderFns:r};t.a=i},AM0q:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},AOGL:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2208,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}],noTaxRate:!0}},mixins:[r.default],methods:{},created:function(){}}},AQAo:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"78a798f8-0f3a-4646-aa8b-d5bb1fada28c":"/materlist","64a41c48-4e8d-4709-bd01-5d60ad6bc625":"/warehouse","c0375170-d537-4f23-8ed0-a79cf75f5b04":"/adress"}},ARDs:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2323,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName"}]}},mixins:[r.default],methods:{},created:function(){}}},AU3i:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("Zp+1"),i=n(r),o=a("+26s"),s=n(o),l=a("Qg39");t.default={data:function(){return{uniqueId:9e3,showContent:!1,handleLoadding:!1,filterArr:[{operator:"like",value:"",property:"dealerCode"}]}},components:{TabItem:i.default},mixins:[s.default],filters:{toFixed:l.toFixed}}},AVDU:function(e,t){},AarU:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("BGNQ"),i=n(r),o=a("z5TY"),s=n(o),l=a("kNGm"),d=n(l),u=a("0AQX"),c=a("+VRO"),f=n(c),h=(a("Qg39"),a("BUFe")),m=n(h),v=a("AupE"),p=n(v),C=a("bFc7"),y=n(C);t.default={data:function(){return{workInfo:{},orderInfo:{},formViewUniqueId:"c5acfe84-3478-431b-bb18-93809e19cb62"}},mixins:[f.default],components:{Cell:i.default,Group:s.default,RAction:m.default,workFlow:p.default,contactPart:y.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment,t.formData.validUntil=(0,d.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workInfo=t.formData.order.dataSet[0],e.workFlowInfoHandler()})}}}},Ab2S:function(e,t,a){"use strict";function n(e){a("PVMT")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("CpUn");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("Xheq"),s=a.n(o),l=a("aoPF"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-478f9742",null);t.default=c.exports},Ab3R:function(e,t){},Ac7F:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("DEQU"),i=n(r),o=a("xZPP"),s=n(o),l=a("K2BN"),d=n(l);t.default={name:"x-textarea",minxins:[i.default],mounted:function(){var e=this;this.$slots&&this.$slots["restricted-label"]&&(this.hasRestrictedLabel=!0),this.$nextTick(function(){e.autosize&&e.bindAutosize()})},components:{InlineDesc:s.default},props:{title:String,inlineDesc:String,showCounter:{type:Boolean,default:!0},max:Number,value:String,name:String,placeholder:String,readonly:Boolean,disabled:Boolean,rows:{type:Number,default:3},cols:{type:Number,default:30},height:Number,autocomplete:{type:String,default:"off"},autocapitalize:{type:String,default:"off"},autocorrect:{type:String,default:"off"},spellcheck:{type:String,default:"false"},autosize:Boolean},created:function(){this.currentValue=this.value},watch:{autosize:function(e){this.unbindAutosize(),e&&this.bindAutosize()},value:function(e){this.currentValue=e},currentValue:function(e){this.max&&e&&e.length>this.max&&(this.currentValue=e.slice(0,this.max)),this.$emit("input",this.currentValue),this.$emit("on-change",this.currentValue)}},data:function(){return{hasRestrictedLabel:!1,currentValue:""}},computed:{count:function(){var e=0;return this.currentValue&&(e=this.currentValue.replace(/\n/g,"aa").length),e>this.max?this.max:e},textareaStyle:function(){if(this.height)return{height:this.height+"px"}},labelStyles:function(){return{width:this.$parent.labelWidth||this.labelWidth+"em",textAlign:this.$parent.labelAlign,marginRight:this.$parent.labelMarginRight}},labelWidth:function(){return this.title.replace(/[^x00-xff]/g,"00").length/2+1},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}}},methods:{updateAutosize:function(){d.default.update(this.$refs.textarea)},bindAutosize:function(){(0,d.default)(this.$refs.textarea)},unbindAutosize:function(){d.default.destroy(this.$refs.textarea)},focus:function(){this.$refs.textarea.focus()}},beforeDestroy:function(){this.unbindAutosize()}}},"Ad+/":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("div",{staticClass:"title"},[a("d-search",{on:{search:e.searchList,"turn-off":e.onHide}})],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"pop-list-container",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"pop-mater-list-item box_sd",class:{selected:e.showSelIcon(t)},on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"pop-list-main "},[a("div",{staticClass:"pop-list-info"},[a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline name",staticStyle:{display:"inline-block"}},[a("span",[e._v(e._s(t.facilityName))])])]),e._v(" "),t.facilityType?a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline ",staticStyle:{display:"inline-block"}},[a("span",{staticClass:"creator"},[e._v(e._s(t.facilityType))])])]):e._e()])])])}),0)],1)])],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},Ae17:function(e,t){},AjN8:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pop_dealer_list"},[a("div",{staticClass:"dealer-info",on:{click:function(t){e.showDealerPop=!e.showDealerPop}}},[e.selInfo.dealerCode?a("div",{staticClass:"user-content"},[a("div",{staticClass:"user-info"},[a("div",{staticClass:"user-name"},[a("span",{staticClass:"user-tips"},[e._v(e._s(e.selInfo.dealerLabelName))]),e._v(" "),a("span",[e._v(e._s(e.selInfo.dealerName||e.selInfo.nickname))])])]),e._v(" "),a("div",{staticClass:"cp-info"},[a("span",[e._v("编码: "+e._s(e.selInfo.dealerCode))]),e._v(" "),a("span",[e._v("余额: "+e._s(e._f("numberComma")(e.selInfo.amntBal)))])])]):a("div",{staticClass:"user-content"},[a("div",{staticClass:"title"},[e._v(e._s(e.dealerLabelName)+"信息")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择"+e._s(e.dealerLabelName))])]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r-arrow"})]),e._v(" "),e.selInfo.dealerCode?e._t("other"):e._e(),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showDealerPop,callback:function(t){e.showDealerPop=t},expression:"showDealerPop"}},[a("div",{staticClass:"trade_pop"},[a("d-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"pop-list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"pop-item",on:{click:function(a){a.stopPropagation(),e.selItem(t,n)}}},[a("div",{staticClass:"top"},[a("span",{staticClass:"name"},[e._v(e._s(t.dealerName||t.nickname))]),e._v(" "),a("span",{staticClass:"label"},[e._v(e._s(t.dealerLabelName))])]),e._v(" "),a("div",{staticClass:"amt"},[a("span",[e._v("编码: "+e._s(t.dealerCode))]),e._v(" "),a("span",[e._v("往来余额: "+e._s(e._f("numberComma")(t.amntBal)))])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1)])],1)],2)},r=[],i={render:n,staticRenderFns:r};t.a=i},Ak0d:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"FormCell",props:{cellTitle:[String,Number],cellContent:[String,Number],showBottomBorder:{type:Boolean,default:!0},textRight:{type:Boolean,default:!1},showSymbol:{type:Boolean,default:!1}}}},"AlX/":function(e,t){},An2j:function(e,t,a){"use strict";function n(e){a("c3IV")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("hQFQ");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("ojrp"),s=a.n(o),l=a("gV92"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-63547237",null);t.default=c.exports},As1F:function(e,t,a){"use strict";function n(e){a("D4C5")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("AOGL");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("GEfv"),s=a.n(o),l=a("Q1+2"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-1edac806",null);t.default=c.exports},AtUU:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{attrs:{"place-holder":e.tipsWord},on:{search:e.searchList}}),e._v(" "),a("div",{ref:"tabContainer",staticClass:"tab-container"},e._l(e.listView,function(t,n){return a("div",{ref:"tabs",refInFor:!0,staticClass:"tab-item",class:{active:n===e.activeIndex},on:{click:function(a){e.tabClick(t,n)}}},[e._v("\n          "+e._s(t.view_name)+"\n        ")])}),0)],1),e._v(" "),a("div",{staticClass:"swiper-container list-container"},[a("div",{staticClass:"swiper-wrapper"},e._l(e.listMap,function(t,n){return a("div",{key:n,staticClass:"swiper-slide"},[a("r-scroll",{ref:"bScroll",refInFor:!0,staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":t.hasNext,"no-data":!t.hasNext&&!t.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},["view_49"===n?e._l(t.listData,function(t,n){return a("div",{key:n,staticClass:"classification-item-wrapper"},[a("div",{staticClass:"classification-header-wrapper"},[a("img",{staticClass:"classification_img",attrs:{src:t.AppIcon,alt:"icon"}}),e._v(" "),a("div",{staticClass:"classification_app"},[a("div",{staticClass:"app_top"},[a("div",{staticClass:"app_name"},[e._v(e._s(t.appTitle))]),e._v(" "),a("div",{staticClass:"app_flow",class:t.flowWordClass},[e._v("\n                        "+e._s(t.cashInOrOut)),a("i",{class:t.flowIconClass})])]),e._v(" "),a("div",{staticClass:"classification_detail_item"},[a("span",{staticClass:"classification_detail_title"},[e._v("实例编码：")]),e._v(e._s(t.transCode)+"\n                    ")]),e._v(" "),a("div",{staticClass:"classification_detail_item"},[a("span",{staticClass:"classification_detail_title"},[e._v("往来名称：")]),e._v(e._s(t.dealerName||"无")+"\n                    ")])])]),e._v(" "),a("div",{staticClass:"classification-split"}),e._v(" "),a("div",{staticClass:"bank-info"},[a("div",{staticClass:"bank_detail"},[a("div",{staticClass:"bank"},[a("span",{staticClass:"title"},[e._v("开户银行: ")]),e._v(e._s(t.bank||"暂无银行信息")+"\n                    ")]),e._v(" "),a("div",{staticClass:"bank_account"},[a("span",{staticClass:"title"},[e._v("银行账号: ")]),e._v(e._s(t.account||"无")+"\n                    ")])]),e._v(" "),a("div",{staticClass:"bank_amt_wrapper"},[a("div",{staticClass:"bank_amt"},[e._v(e._s(e._f("numberComma")(t.crAmnt||t.drAmnt))+"\n                    ")]),e._v(" "),a("div",{staticClass:"text"},[e._v("总"+e._s(t.transName)+"("+e._s(t.fundCurrency)+")")])])]),e._v(" "),a("div",{staticClass:"bank-name"},[e._v(e._s(t.fundName))]),e._v(" "),a("div",{staticClass:"flow-info"},[a("div",{staticClass:"flow_info_item"},[a("div",{staticClass:"flow_account_item"},[a("span",{staticClass:"title"},[e._v("账户编码：")]),e._v(e._s(t.cashCode)+"\n                    ")]),e._v(" "),a("div",{staticClass:"flow_account_item flow_account_sub"},[a("span",{staticClass:"title"},[e._v("账户大类：")]),e._v(e._s(t.accountSub)+"\n                    ")])]),e._v(" "),a("div",{staticClass:"flow_info_item"},[a("span",{staticClass:"title"},[e._v("现金流类型：")]),e._v(e._s(t.cashType)+"\n                  ")]),e._v(" "),a("div",{staticClass:"flow_info_item"},[a("span",{staticClass:"title"},[e._v("现金流项目：")]),e._v(e._s(t.cashFlow)+"\n                  ")])])])}):"view_48"===n?e._l(t.listData,function(t,n){return a("div",{key:n,staticClass:"bank-item-wrapper",class:{bg2:n%3==2,bg3:n%3==0},on:{click:function(a){e.getFlow(t)}}},[a("div",{staticClass:"bank-header-wrapper"},[a("img",{staticClass:"bank_icon",attrs:{src:t.icon}}),e._v(" "),a("div",{staticClass:"bank_info"},[a("div",{staticClass:"bank"},[e._v(e._s(t.bank))]),e._v(" "),a("div",{staticClass:"bank_name"},[e._v(e._s(t.fundName))])]),e._v(" "),a("div",{staticClass:"bank_code"},[e._v(e._s(t.cashCode))])]),e._v(" "),a("div",{staticClass:"bank-balance-wrapper"},[a("div",{staticClass:"bank-balance"},[e._v(e._s(e._f("numberComma")(t.amountBalance)))]),e._v(" "),a("div",{staticClass:"text"},[e._v("余额"),a("span",[e._v("（"+e._s(t.fundCurrency)+"）")])])])])}):"view_140"===n?e._l(t.listData,function(t,n){return a("div",{key:n,staticClass:"schedule-item-wrapper"},[a("div",{staticClass:"schedule-main"},[a("img",{staticClass:"schedule_img",attrs:{src:t.appIcon}}),e._v(" "),a("div",{staticClass:"schedule_info"},[a("div",{staticClass:"app_name"},[e._v(e._s(t.appTitle))]),e._v(" "),a("div",{staticClass:"schedule_info_item"},[a("span",{staticClass:"schedule_info_title"},[e._v("实例编码：")]),e._v(e._s(t.transCode)+"\n                    ")]),e._v(" "),a("div",{staticClass:"schedule_info_item"},[a("span",{staticClass:"schedule_info_title"},[e._v("往来编码：")]),e._v(e._s(t.dealerCode)+"\n                    ")]),e._v(" "),a("div",{staticClass:"schedule_info_item"},[a("span",{staticClass:"schedule_info_title"},[e._v("关系标签：")]),e._v(e._s(t.accountSub)+"\n                    ")]),e._v(" "),a("div",{staticClass:"schedule_info_item"},[a("span",{staticClass:"schedule_info_title"},[e._v("往来名称：")]),e._v(e._s(t.dealerName)+"\n                    ")]),e._v(" "),a("div",{staticClass:"schedule_info_item"},[a("span",{staticClass:"schedule_info_title"},[e._v("到账截止日期：")]),e._v(e._s(e._f("dateFormat")(t.draftDueDate,"YYYY-MM-DD")||"无")+"\n                    ")])])]),e._v(" "),a("div",{staticClass:"schedule-split"}),e._v(" "),a("div",{staticClass:"schedule-bottom"},[a("div",{staticClass:"schedule_bottom_item days"},[a("div",{staticClass:"schedule_bottom_value"},[e._v(e._s(t.paymentSurplusDays||0))]),e._v(" "),a("div",{staticClass:"schedule_bottom_title"},[e._v("剩余天数")])]),e._v(" "),a("div",{staticClass:"schedule_bottom_item"},[a("div",{staticClass:"schedule_bottom_value"},[e._v(e._s(t.transName))]),e._v(" "),a("div",{staticClass:"schedule_bottom_title"},[e._v("计划类型")])]),e._v(" "),a("div",{staticClass:"schedule_bottom_item amt"},[a("div",{staticClass:"schedule_bottom_value"},[e._v("\n                      "+e._s(e._f("numberComma")(t.amntBalance))+"\n                    ")]),e._v(" "),a("div",{staticClass:"schedule_bottom_title"},[e._v("金额")])])])])}):e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"each_duty",on:{click:function(a){e.getFlow(t)}}},[a("div",{staticClass:"duty_top"},[a("div",{staticClass:"basic_info"},[a("span",{staticClass:"warehouse warehouse_name"},[e._v("\n                  账户编码\n                ")]),e._v(" "),a("span",{staticClass:"warehouse warehouse_code"},[e._v(e._s(t.cashCode))])])]),e._v(" "),a("div",{staticClass:"matter"},[a("div",{staticClass:"matter_name"},[e._v(e._s(t.fundName))])]),e._v(" "),a("div",{staticClass:"duty_btm vux-1px-t"},[a("div",{staticClass:"ware_type"},[e._v("\n                    "+e._s(t.bank||"暂无银行信息")+"\n                  ")]),e._v(" "),""!==t.amountBalance?a("div",{staticClass:"balance"},[e._v("\n                    "+e._s(e._f("numberComma")(t.amountBalance))+"\n                  ")]):e._e()])])})],2)],1)}),0)]),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{attrs:{position:"bottom",height:"80%"},model:{value:e.flowShow,callback:function(t){e.flowShow=t},expression:"flowShow"}},[a("r-scroll",{ref:"flowListWrapper",staticClass:"flow_list_wrapper",attrs:{options:e.FlowScrollOptions,"has-next":e.FlowHasNext,"no-data":!e.FlowHasNext&&!e.flowData.length},on:{"on-pulling-up":e.onPullingUpFlow}},[a("div",{staticClass:"flow"},[a("div",{staticClass:"flow_top"},[a("div",{staticClass:"title"},[e._v("流水详情")])]),e._v(" "),a("div",{staticClass:"flow_list"},[e._l(e.flowData,function(t,n){return a("div",{key:n,staticClass:"each_flow",on:{click:function(e){e.stopPropagation(),t.showList=!t.showList}}},[a("div",{staticClass:"duty_top"},[a("div",{staticClass:"transCode"},[a("span",{staticClass:"order_title"},[e._v("编码")]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(t.transCode))])]),e._v(" "),a("div",{staticClass:"time"},[e._v("\n                    "+e._s(e._f("dateFormat")(t.calcTime))+"\n                  ")])]),e._v(" "),a("div",{staticClass:"show_list"},[a("div",{staticClass:"app_name"},[e._v("\n                    "+e._s(t.appTitle)),a("span",{staticClass:"symbol"},[e._v("[应用]")])]),e._v(" "),a("div",{staticClass:"num_info"},[a("div",{staticClass:"amount_money"},[t.drAmnt>0?a("div",{staticClass:"num_part"},[a("span",{staticClass:"symbol"},[e._v("借方金额: ")]),e._v(" "),a("span",{staticClass:"number_incre"},[e._v(e._s(e._f("toFixed")(t.drAmnt)))])]):t.drAmnt<0?a("div",{staticClass:"num_part"},[a("span",{staticClass:"symbol"},[e._v("借方金额: ")]),e._v(" "),a("span",{staticClass:"number_redu"},[e._v(e._s(e._f("toFixed")(t.drAmnt)))])]):a("div",{staticClass:"num_part"},[a("span",{staticClass:"symbol"},[e._v("借方金额: ")]),e._v(" "),a("span",[e._v("0")])])]),e._v(" "),a("div",{staticClass:"amount_money"},[t.crAmnt>0?a("div",{staticClass:"num_part"},[a("span",{staticClass:"symbol"},[e._v("贷方金额: ")]),e._v(" "),a("span",{staticClass:"number_incre"},[e._v(e._s(e._f("toFixed")(t.crAmnt)))])]):t.crAmnt<0?a("div",{staticClass:"num_part"},[a("span",{staticClass:"symbol"},[e._v("贷方金额: ")]),e._v(" "),a("span",{staticClass:"number_redu"},[e._v(e._s(e._f("toFixed")(t.crAmnt)))])]):a("div",{staticClass:"num_part"},[a("span",{staticClass:"symbol"},[e._v("贷方金额: ")]),e._v(" "),a("span",[e._v(" 0")])])]),e._v(" "),a("div",{staticClass:"amount_time"},[a("span",{staticClass:"title"},[e._v("记账日期与时间: ")]),e._v(" "),a("span",[e._v(e._s(t.effectiveTime))])])])]),e._v(" "),a("div",{staticClass:"summary_part vux-1px-t"},[a("div",{staticClass:"number"}),e._v(" "),a("div",{staticClass:"price HBZJ_total"},[a("span",{staticClass:"symbol"},[e._v("当前余额:")]),e._v(" "),a("span",{class:{increase:t.amountBalance>0,reduce:t.amountBalance<0}},[e._v("\n                      "+e._s(e._f("numberComma")(e._f("toFixed")(t.amountBalance)))+"\n                    ")])])])])}),e._v(" "),a("div")],2)])]),e._v(" "),a("div",{staticClass:"btn when_less"},[a("span",{staticClass:"cfm_btn",on:{click:function(t){e.flowShow=!1}}},[e._v("关闭")])])],1)],1)])])},r=[],i={render:n,staticRenderFns:r};t.a=i},AupE:function(e,t,a){"use strict";function n(e){a("RZuk")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("nHTe");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("W09m"),s=a.n(o),l=a("9zS/"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-51fd52be",null);t.default=c.exports},AwSw:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("BGNQ"),s=n(o),l=a("z5TY"),d=n(l),u=a("7g+Q"),c=n(u),f=a("YP5q"),h=n(f),m=a("SAzG"),v=n(m),p=a("u28h"),C=n(p),y=a("jnZd"),_=n(y),g=a("iR2W"),b=n(g),w=a("kNGm"),I=n(w),D=a("1KNX"),x=n(D),P=a("Pkp+"),S=n(P),k=(a("Qg39"),a("zWMP"));t.default={name:"MatterPop",filters:{numberComma:b.default,checkNumber:function(e){return e?(0,b.default)(e,3):e}},props:{checkAmt:{type:Function},chosenMatter:{type:Object,default:function(){return{}}},showDateTime:{type:Boolean,default:!1},showPop:{type:Boolean,default:!1},btnIsHide:{type:Boolean,default:!1},isCheckStock:{type:Boolean,default:!0},isShowAmount:{type:Boolean,default:!0},dateText:{type:String,default:"预期交货日"},validateMap:{type:Array,default:function(){return[]}},config:{type:Object,default:function(){return{}}}},components:{Cell:s.default,Group:d.default,Popup:c.default,XDialog:h.default,XInput:v.default,Datetime:C.default,RScroll:x.default,PopupPicker:_.default,RPicker:S.default},watch:{showPop:{handler:function(e){this.show=e}},chosenMatter:{handler:function(e){if(e.productionDate&&e.keepingDays){var t=new Date(e.productionDate).getTime();e.validUntil=t?(0,I.default)(t+(0,k.accMul)(e.keepingDays,864e5),"YYYY-MM-DD"):""}},deep:!0}},data:function(){return{show:!1,showDialog:!1,scrollOptions:{click:!0},pickerStyle:{zIndex:550}}},methods:{numberComma:function(e){return e||0===e?(0,b.default)(e):"无"},onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&(e.$refs.bScroll.refresh(),e.$refs.bScroll.scrollTo(0,0)),e.clientHeight=document.documentElement.clientHeight})},onHide:function(){this.showPrice=!1,this.currentType="渠道价",this.$emit("input",!1),this.$emit("show-down-modify",!1)},confirm:function(){var e=this,t="";if(this.config.editPart.every(function(a){return!(!a.allowBlank&&(Array.isArray(e.chosenMatter[a.fieldCode])&&!e.chosenMatter[a.fieldCode].length||!e.chosenMatter[a.fieldCode]))||(t=a.text+"不能为空",!1)}),t)return void this.$vux.alert.show({content:t});this.$emit("sel-confirm",(0,i.default)(this.chosenMatter)),this.show=!1},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},defineObjVal:function(e,t,a){for(var n in t)this.$set(e,n,a[n])},cleanAmt:function(e){this.defineObjVal(e,e.otherField,"")},getFocus:function(e){event.currentTarget.select()}}}},Ay9B:function(e,t,a){"use strict";function n(e){a("3rGe")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("im7o");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("bKgY"),s=a.n(o),l=a("EbQr"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-16ee93c3",null);t.default=c.exports},"B/eA":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("3cXf"),s=n(o),l=a("HyXB"),d=a("0AQX"),u=a("2y58"),c=n(u),f=a("fyaN"),h=n(f);t.default={name:"RAction",props:{code:{type:String,default:""},taskId:{type:String,default:""},actions:{type:Array,default:function(){return[]}},name:{type:String,default:""},agreeHandler:{type:Function,default:null}},components:{Confirm:c.default,PopUserList:h.default},data:function(){return{showUserList:!1,selectedUser:{},showConfirm:!1,transferInfo:{taskTime:.1,comment:""},showTaskWarn:!1,showCommentWarn:!1}},methods:{reject:function(){var e=this;this.$vux.confirm.prompt("",{title:"审批意见",onConfirm:function(t){e.commitTask({result:0,successMsg:"拒绝成功",callback:function(){var t=e.$route.params,a=t.folder,n=t.fileName,r=e.$route.query,i=r.name,o=r.listId,s=r.transCode;(0,d.isMyflow)({transCode:e.code}).then(function(t){var r=t.tableContent,l="";if(r.length>0){var d=r[0],u=d.isMyTask,c=d.nodeName;1===u&&"重新提交"===c?l="/fillform/"+a+"/"+n:e.$router.go(0)}else e.$router.go(0);e.$router.replace({path:l,query:{name:i,listId:o,transCode:s}})})}})}})},agree:function(){var e=this;this.agreeHandler&&this.agreeHandler()||this.$vux.confirm.prompt("",{title:"审批意见",onConfirm:function(t){e.commitTask({result:1,successMsg:"同意成功",value:t})}})},revoke:function(){var e=this;this.$vux.confirm.prompt("",{title:"撤回原因",onConfirm:function(t){e.commitTask({result:2,successMsg:"撤回成功",value:t,callback:function(){var t=e.$route.query.listId,a=e.$route.params,n=a.folder,r=a.fileName;e.$router.replace({path:"/fillform/"+n+"/"+r,query:{listId:t,name:e.name,transCode:e.code}})}})}})},commitTask:function(e){var t=this,a=e.result,n=e.value,r=e.successMsg,i=e.callback;this.$HandleLoad.show();var o={taskId:this.taskId,taskData:(0,s.default)({result:a,transCode:this.code,comment:n})};return(0,l.commitTask)(o).then(function(e){t.$HandleLoad.hide();var n=e.success,o=void 0!==n&&n,l=e.message,d=void 0===l?"提交失败":l,u={0:"reject",1:"agree",2:"revoke"};o&&(d=r,t.$emit("on-submit-success",(0,s.default)({type:u[a]}))),t.$vux.alert.show({content:d,onHide:function(){o&&(i?i():t.$router.go(0))}})}).catch(function(e){t.$HandleLoad.hide()})},update:function(){var e=this,t=this.$route.query.listId,a=this.$route.params,n=a.folder,r=a.fileName;this.$vux.confirm.show({title:"温馨提示",content:"即将进入修改页面，确认吗？",onConfirm:function(){e.$router.replace({path:"/fillform/"+n+"/"+r,query:{listId:t,name:e.name,transCode:e.code,isModify:!0}})}})},transfer:function(){this.selectedUser={},this.showUserList=!0},selUser:function(e){this.selectedUser=(0,i.default)({},e),this.showConfirm=!0},onConfirm:function(){var e=this,t=(0,i.default)({userId:this.selectedUser.userId,taskId:this.taskId},this.transferInfo);this.showTaskWarn=!this.transferInfo.taskTime,this.showCommentWarn=!this.transferInfo.comment,this.showTaskWarn||this.showCommentWarn||(this.showConfirm=!1,this.$HandleLoad.show(),(0,l.transferTask)(t).then(function(t){e.$HandleLoad.hide();var a=t.success,n=void 0!==a&&a,r=t.message,i=void 0===r?"提交失败":r;n&&(i="转办成功",e.$emit("on-submit-success",(0,s.default)({type:"transfer"}))),e.$vux.alert.show({content:i,onHide:function(){e.$router.go(0)}})}).catch(function(t){e.$HandleLoad.hide()}))}}}},B1Yr:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_part"},[e._m(0),e._v(" "),a("div",{staticClass:"form_content"},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"往来名称",cellContent:e.dealerInfo.dealerName,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来编码",cellContent:e.dealerInfo.dealerCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来关系标签",cellContent:e.dealerInfo.dealerLabelName}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来余额",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.amntBal),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次开出汇票",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.thenTotalAmntBal),3),showSymbol:""}})],1)])]),e._v(" "),a("div",{staticClass:"form_part"},[e._m(1),e._v(" "),e._l(e.orderInfo.order.dataSet,function(t,n){return a("div",{key:n,staticClass:"form_content",class:{show_border:n!==e.orderInfo.order.dataSet.length-1}},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"汇票号",cellContent:t.draftNumber,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"类型",cellContent:t.draftType}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"承兑人",cellContent:t.accepter}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"金额",cellContent:e._f("numberComma")(e._f("toFixed")(t.tdAmount),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"保证金",cellContent:e._f("numberComma")(e._f("toFixed")(t.deposit),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"出票日",cellContent:t.draftDate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"到期日",cellContent:t.draftDueDate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"出让日期",cellContent:t.draftSellDate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"说明",cellContent:t.comment}})],1)])})],2),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("往来详情")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("汇票列表")])])}],i={render:n,staticRenderFns:r};t.a=i},B7rM:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("iR2W"),i=n(r),o=a("kNGm"),s=n(o),l=a("Qg39");t.default={name:"materListItem",props:{item:{type:Object,default:function(){return{}}},noCount:{type:Boolean,default:!1},noPrice:{type:Boolean,default:!1},noQty:{type:Boolean,default:!1},isDealer:{type:Boolean,default:!0},isMoreDealer:{type:Boolean,default:!1}},filters:{toFixed:l.toFixed,dateFormat:s.default,numberComma:i.default},computed:{istransCodeBottom:function(){return this.item.dealerName&&(this.item.warehouseName_containerCode||this.item.warehouseName_containerCodeOut)},isWarehouse:function(){return this.item.warehouseName_containerCode||this.item.warehouseName_containerCodeOut},isDealerWarehouse:function(){return!this.item.dealerName&&!(this.item.warehouseName_containerCode||this.item.warehouseName_containerCodeOut)}},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t}}}},B8Y4:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("4YfN"),s=n(o),l=a("IHPB"),d=n(l),u=a("n0D0"),c=a("0Nk0"),f=n(c);t.default={name:"PopFacilityList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},defaultTitle:{type:String,default:"订单号"},request:{type:String,default:"0"},params:{type:Object,default:function(){return{}}},filterList:{type:Array,default:function(){return[{name:"设施名称",value:"facilityName"},{name:"设施编码",value:"facilityCode"}]}},judgeKeys:{type:Array,default:function(){return["transCode","facilityCode"]}}},components:{RPopup:f.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],listData:[],limit:100,page:1,hasNext:!0,scrollOptions:{pullUpLoad:!0},filterProperty:"",requestMethods:null}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.selItems=[].concat((0,d.default)(this.defaultValue))},immediate:!0},params:{handler:function(){this.resetCondition(),this.getList()}}},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),this.requestMethods((0,s.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,i.default)(t)},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,o=void 0===r?[]:r;o.forEach(function(t){t.inventoryPic=t.inventoryPic?"/H_roleplay-si/ds/download?url="+t.inventoryPic+"&width=400&height=400":e.getDefaultImg()});var s=e.$route.query.relationKey;(void 0===s?"":s)&&(e.selItems=[].concat((0,d.default)(o)),e.$emit("sel-matter",(0,i.default)(e.selItems))),e.hasNext=n>(e.page-1)*e.limit+o.length,e.listData=1===e.page?o:[].concat((0,d.default)(e.listData),(0,d.default)(o))})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,r=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=r,this.resetCondition(),this.getList()},delSelItem:function(e){this.$refs.RPopup.delSelItem(e)},onPullingUp:function(){this.page++,this.getList()},resetCondition:function(){this.listData=[],this.page=1,this.hasNext=!0},selItem:function(e){this.$emit("sel-matter",(0,i.default)(e)),this.$emit("input",!1)}},created:function(){var e=[u.getObjFacilityByType,u.getEquipmentPurchaseOrder,u.getObjFacilityByDealerCode];this.requestMethods=e[this.request],this.getList()}}},BElR:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages xmjh-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,"default-contact":e.contactInfo,"dealer-params":e.dealerParams},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("apply-matter-part",{attrs:{"show-materiel-pop":e.showMaterielPop,"filter-list":e.filterList,actions:e.actions,btnInfo:e.btnInfo,"matter-list":e.orderList,"default-value":e.matterList,"matter-pop-config":e.matterPopConfig,"matter-edit-config":e.matterEditConfig,"order-list-title":e.orderListTitle,"matter-params":e.matterParams,addMatter:e.addMatter,"sel-matter":e.selMatter,"sel-items":e.selItems,"matter-modify-class":e.matterModifyClass,"modify-matter":e.modifyMatter,"show-delete":e.showDelete,"show-sel-icon":e.showSelIcon,"del-click":e.delClick},model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}}),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,"show-date-time":!0,config:e.matterEditConfig},on:{"sel-confirm":e.selConfirm},model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num",class:{nine_up:e.tdAmount.length>8,ten_up:e.tdAmount.length>9,ele_up:e.tdAmount.length>10}},[a("span",{staticClass:"total_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.tdAmount,3))+"\n      ")]),e._v(" "),a("span",{staticClass:"taxAmount"},[e._v("[含税: ￥"+e._s(e._f("numberComma")(e.taxAmount,3))+"]")])]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},BGNQ:function(e,t,a){"use strict";function n(e){a("PRcm")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("VsvK");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("jzM3"),s=a.n(o),l=a("Zs2f"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,null,null);t.default=c.exports},BH03:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages fgysqk-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{"dealer-label-name":"往来",request:"3","default-value":e.dealerInfo,params:e.dealerParams},on:{"sel-item":e.selDealer}},[a("template",{slot:"other"},[a("div",{staticClass:"amt-dealer"},[a("span",{staticClass:"amt-dealer-item"},[e._v("本次收汇票: "+e._s(e._f("numberComma")(e.thenTotalAmntBal,3)))])])])],2),e._v(" "),a("div",{staticClass:"materiel_list"},[a("div",{staticClass:"title"},[e._v("汇票明细")]),e._v(" "),e._l(e.orderList,function(t,n){return a("div",{key:n,staticClass:"order-detail",class:{"vux-1px-t":0!==n}},[a("x-input",{attrs:{"text-align":"right",placeholder:"请填写"},model:{value:t.draftNumber,callback:function(a){e.$set(t,"draftNumber",a)},expression:"item.draftNumber"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("汇票号")])])],2),e._v(" "),a("r-picker",{staticClass:"vux-1px-t",attrs:{title:"类型",data:e.draftTypeList,mode:"4",placeholder:"请选择类型",hasBorder:!1,required:""},model:{value:t.draftType,callback:function(a){e.$set(t,"draftType",a)},expression:"item.draftType"}}),e._v(" "),a("x-input",{attrs:{"text-align":"right",placeholder:"请填写"},model:{value:t.accepter,callback:function(a){e.$set(t,"accepter",a)},expression:"item.accepter"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("承兑人")])])],2),e._v(" "),a("x-input",{attrs:{"text-align":"right",placeholder:"请填写",type:"number"},on:{"on-blur":function(a){e.checkAmt(t,"tdAmount")},"on-focus":function(t){e.getFocus(t)}},model:{value:t.tdAmount,callback:function(a){e.$set(t,"tdAmount",e._n(a))},expression:"item.tdAmount"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("金额")])])],2),e._v(" "),a("datetime",{attrs:{placeholder:"请选择出票日"},model:{value:t.draftDate,callback:function(a){e.$set(t,"draftDate",a)},expression:"item.draftDate"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("出票日")])])],2),e._v(" "),a("datetime",{attrs:{placeholder:"请选择到期日"},model:{value:t.draftDueDate,callback:function(a){e.$set(t,"draftDueDate",a)},expression:"item.draftDueDate"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("到期日")])])],2),e._v(" "),a("x-input",{attrs:{title:"说明","text-align":"right",placeholder:"请填写"},model:{value:t.comment,callback:function(a){e.$set(t,"comment",a)},expression:"item.comment"}})],1)})],2),e._v(" "),a("div",{staticClass:"add_more"},[e._v("\n        您还需要添加新的汇票?请点击\n        "),a("span",{staticClass:"add",on:{click:e.addOrder}},[e._v("新增")]),e._v(" "),a("em",{directives:[{name:"show",rawName:"v-show",value:e.orderList.length>1,expression:"orderList.length>1"}]},[e._v("或")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.orderList.length>1,expression:"orderList.length>1"}],staticClass:"delete",on:{click:e.deleteOrder}},[e._v("删除")])]),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"其他信息"}},[a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-money-order-list",{attrs:{show:e.showOrder,"default-value":e.orderList},on:{"sel-item":e.selOrder},model:{value:e.showOrder,callback:function(t){e.showOrder=t},expression:"showOrder"}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},BJMS:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("B8DQ");t.default={name:"tab-item",mixins:[n.childMixin],props:{activeClass:String,disabled:Boolean,badgeBackground:{type:String,default:"#f74c31"},badgeColor:{type:String,default:"#fff"},badgeLabel:String},computed:{style:function(){return{borderWidth:this.$parent.lineWidth+"px",borderColor:this.$parent.activeColor,color:this.currentSelected?this.$parent.activeColor:this.disabled?this.$parent.disabledColor:this.$parent.defaultColor,border:this.$parent.animate?"none":"auto"}}}}},BLSw:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2478,filterList:[{name:"物料名称",value:"inventoryName_transObjCode"},{name:"物料编码",value:"inventoryCode_transObjCode"},{name:"申请号",value:"transCode"},{name:"往来名称",value:"dealerName_dealerCodeCredit"}]}},mixins:[r.default],methods:{},created:function(){}}},BM9o:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("HXPS"),s=n(o);t.default={name:"RDropdown",props:{list:{type:Array,default:function(){return[]}},show:{type:Boolean,default:!1}},components:{Icon:s.default},data:function(){return{showDrop:!1,selItem:{}}},watch:{show:{handler:function(e){this.showDrop=e},immediate:!0},list:{handler:function(){this.selItem=this.list[0],this.$emit("on-selected",this.selItem)},immediate:!0}},methods:{dropClick:function(){this.showDrop=!this.showDrop},dropItemClick:function(e){this.selItem=(0,i.default)({},e),this.showDrop=!1,this.$emit("on-selected",this.selItem)}},created:function(){}}},BUFe:function(e,t,a){"use strict";function n(e){a("/5jK")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("B/eA");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("dQpD"),s=a.n(o),l=a("5UG7"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-51efe867",null);t.default=c.exports},BUVi:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("BGNQ"),s=n(o),l=a("z5TY"),d=n(l),u=a("kNGm"),c=n(u),f=a("0AQX"),h=a("+VRO"),m=n(h),v=(a("Qg39"),a("BUFe")),p=n(v),C=a("AupE"),y=n(C),_=a("bFc7"),g=n(_),b=a("hPJo"),w=n(b),I=a("FlCz"),D=n(I);t.default={data:function(){return{workInfo:[],orderInfo:{},warehouse:{},bomList:[],warehouseConfig:[]}},mixins:[m.default],components:{Cell:s.default,Group:d.default,RAction:p.default,workFlow:y.default,contactPart:g.default,WarehouseContent:w.default,BomList:D.default},filters:{timeSplit:function(e){return e?e.split(" ")[0]:""}},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,f.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order,n=void 0===a?{}:a;t.formData.validUntil=(0,c.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workInfo=n.dataSet,e.warehouse=(0,i.default)({},e.warehouse,{containerCode:n.containerCode,storehouseInCode:n.storehouseInCode,warehouseAddress_containerCode:n.warehouseAddress_containerCode,warehouseAddress_storehouseInCode:n.warehouseAddress_storehouseInCode,warehouseName_containerCode:n.warehouseName_containerCode,warehouseName_storehouseInCode:n.warehouseName_storehouseInCode,warehouseType_containerCode:n.warehouseType_containerCode,warehouseType_storehouseInCode:n.warehouseType_storehouseInCode}),e.workFlowInfoHandler()})}}}},BUzz:function(e,t){},Bd2n:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=(a("jLp1"),a("MjAd")),s=n(o);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2325,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"项目名称",value:"projectName"}]}},mixins:[s.default],methods:{goDetail:function(e,t){var a=this;if(!this.clickVisited){var n=e.transCode,r=this.$route.query.name,o=this.$route.params,s=o.folder,l=o.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,i.default)({},e)),setTimeout(function(){a.clickVisited=!1,a.$router.push({path:"/detail/"+s+"/"+l,query:{name:r,transCode:n}})},200)}},getTaskIcon:function(e){return["icon-task","icon-task2","icon-task3"][e%3]}}}},"BhN+":function(e,t){},BmNp:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("B8DQ");t.default={name:"tab",mixins:[n.parentMixin],mounted:function(){var e=this;this.$nextTick(function(){setTimeout(function(){e.hasReady=!0},0)})},props:{lineWidth:{type:Number,default:3},activeColor:String,barActiveColor:String,defaultColor:String,disabledColor:String,animate:{type:Boolean,default:!0},customBarWidth:[Function,String],preventDefault:Boolean,scrollThreshold:{type:Number,default:4},barPosition:{type:String,default:"bottom",validator:function(e){return-1!==["bottom","top"].indexOf(e)}}},computed:{barLeft:function(){if(this.hasReady){var e=this.scrollable?window.innerWidth/this.$children[this.currentIndex||0].$el.getBoundingClientRect().width:this.number;return this.currentIndex*(100/e)+"%"}},barRight:function(){if(this.hasReady){var e=this.scrollable?window.innerWidth/this.$children[this.currentIndex||0].$el.getBoundingClientRect().width:this.number;return(e-this.currentIndex-1)*(100/e)+"%"}},innerBarStyle:function(){return{width:"function"==typeof this.customBarWidth?this.customBarWidth(this.currentIndex):this.customBarWidth,backgroundColor:this.barActiveColor||this.activeColor}},barStyle:function(){var e={left:this.barLeft,right:this.barRight,display:"block",height:this.lineWidth+"px",transition:this.hasReady?null:"none"};return this.customBarWidth?e.backgroundColor="transparent":e.backgroundColor=this.barActiveColor||this.activeColor,e},barClass:function(){return{"vux-tab-ink-bar-transition-forward":"forward"===this.direction,"vux-tab-ink-bar-transition-backward":"backward"===this.direction}},scrollable:function(){return this.number>this.scrollThreshold}},watch:{currentIndex:function(e,t){this.direction=e>t?"forward":"backward",this.$emit("on-index-change",e,t),this.hasReady&&this.scrollToActiveTab()}},data:function(){return{direction:"forward",right:"100%",hasReady:!1}},methods:{scrollToActiveTab:function(){var e=this;if(this.scrollable&&this.$children&&this.$children.length){var t=this.$children[this.currentIndex].$el,a=0,n=function n(){var r=e.$refs.nav;r.scrollLeft+=(t.offsetLeft-(r.offsetWidth-t.offsetWidth)/2-r.scrollLeft)/15,++a<15&&window.requestAnimationFrame(n)};window.requestAnimationFrame(n)}}}}},BpVL:function(e,t,a){"use strict";function n(e){a("7lYt")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3eQG");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("C+Zt"),s=a.n(o),l=a("qZl7"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-22b0f846",null);t.default=c.exports},BqiB:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("3pyw"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"countup",mounted:function(){var e=this;this.$nextTick(function(){e._countup=new r.default(e.$el,e.startVal,e.endVal,e.decimals,e.duration,e.options),e.start&&e._countup.start()})},props:{tag:{type:String,default:"span"},start:{type:Boolean,default:!0},startVal:{type:Number,default:0},endVal:{type:Number,required:!0},decimals:{type:Number,default:0},duration:{type:Number,default:2},options:{type:Object,default:function(){return{}}}},render:function(e){return e(this.tag,{},[this.startVal])},watch:{start:function(e){e&&this._countup.start()},endVal:function(e){this._countup.update(e)}}}},Bvj9:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("3cXf"),s=n(o),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),h=n(f),m=a("QHLv"),v=a("1KNX"),p=n(v),C=a("7biW"),y=n(C);t.default={name:"PopOrderList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},params:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:h.default,RScroll:p.default,MSearch:y.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],matterList:[],limit:100,page:1,hasNext:!0,scrollOptions:{pullUpLoad:!0},filterProperty:"",filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"}]}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}},params:{handler:function(){this.resetCondition(),this.getList()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,d.default)(this.selItems)),this.$emit("input",!1),this.$event.$emit("shut-down-filter",!1)},findIndex:function(e,t){return e.findIndex(function(e){return e.popiCode===t.popiCode})},showSelIcon:function(e){return-1!==this.findIndex(this.tmpItems,e)},selThis:function(e,t){var a=this.tmpItems,n=this.findIndex(a,e);if(-1!==n)return void a.splice(n,1);a.push(e)},cfmMater:function(){this.showPop=!1,this.tmpItems.sort(function(e,t){return t.effectiveTime-e.effectiveTime}),this.selItems=[].concat((0,d.default)(this.tmpItems)),this.$emit("sel-item",(0,s.default)(this.selItems))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,r=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=r,this.resetCondition(),this.getList()},delSelItem:function(e){var t=this.findIndex(this.selItems,e);-1!==t&&this.selItems.splice(t,1),this.tmpItems=[].concat((0,d.default)(this.selItems))},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.tmpItems=[].concat((0,d.default)(this.defaultValue)),this.selItems=[].concat((0,d.default)(this.defaultValue))},resetCondition:function(){this.matterList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"popiCode"}])),(0,m.getPaySupplierArrearsDataSet)((0,i.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(t)},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+i.length,e.matterList=1===e.page?i:[].concat((0,d.default)(e.matterList),(0,d.default)(i)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})}},created:function(){this.setDefaultValue(),this.getList()}}},Bw8g:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages hgcw-list-container"},[a("div",{staticClass:"btns"},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"btn-item",on:{click:function(a){e.goDetail(t)}}},[a("span",[e._v(e._s(t.title))]),e._v(" "),a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-arrow-right",attrs:{type:"ios-arrow-right",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M160 115.4L180.7 96 352 256 180.7 416 160 396.7 310.5 256z"}})])])}),0)])},r=[],i={render:n,staticRenderFns:r};t.a=i},BwHg:function(e,t,a){"use strict";function n(e){a("XX66")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("Zozf");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("ACLF"),s=a.n(o),l=a("GKw5"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-1e864373",null);t.default=c.exports},"C+Mu":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("rVsN"),i=n(r),o=a("3cXf"),s=n(o),l=a("5odV"),d=n(l),u=a("53nK"),c=a("Tj2J"),f=n(c),h=new f.default,m={clean:function(){window.sessionStorage.removeItem("ROSE_LOGIN_TOKEN"),window.localStorage.removeItem("roleplay-token")},setToken:function(e){window.sessionStorage.setItem("ROSE_LOGIN_TOKEN",(0,s.default)({entityId:e.entityId,token:e.token,name:e.name,department:e.department,avatar:e.avatar,position:e.position,timestamp:+new Date})),window.localStorage.setItem("roleplay-token",(0,s.default)({key1:e.key1,active:e.active,entityId:e.entityId,token:e.token}))},checkLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"token",t=JSON.parse(window.sessionStorage.getItem("ROSE_LOGIN_TOKEN"))||{},a=null!==navigator.userAgent.toLowerCase().match(/wxwork/);if(!t[e])return"";var n=t.timestamp,r=new Date-n;return a&&r>72e5?"":r>432e5?"":t[e]},login:function(e){if(this.clean(),null!==navigator.userAgent.toLowerCase().match(/wxwork/))return this.QYWXLogin(e);window.location.replace("https://open.weixin.qq.com/connect/oauth2/authorize?appid="+u.corpid+"&redirect_uri="+u.redirect_uri+"&response_type=code&scope=SCOPE&agentid="+u.agentid+"&state=1#wechat_redirect")},pcLogin:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"token";return console.log("进入pc了"),new i.default(function(a,n){var r={method:"post",baseURL:"/H_roleplay-si",url:"/login",headers:{"Content-Type":"application/json"},data:{loginModel:1,password:"123456",userCode:"15399909500"}};h.request(r,r.data).then(function(n){var r=n.data;e.setToken({key1:r.key1||"",active:r.active||"",token:r.token||"",entityId:r.entityId||"",name:r.name||"",department:r.department||"",avatar:r.avatar||""}),a(r[t])}).catch(function(e){var t=e.response,a=t&&t.data||{};n({success:!1,message:a.message||"请求异常"})})})},QYWXLogin:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"token";return console.log("进入企业微信了"),new i.default(function(a,n){var r=d.default.parse(location.search.slice(1)),i=r.code||"";h.get("/H_roleplay-si/wxLogin?code="+i+"&state=1&corpsecret="+u.secret).then(function(n){var r=n.data;e.setToken({key1:r.key1||"",active:r.active||"",token:r.token||"",entityId:r.entityId||"",name:r.name||"",department:r.department||"",avatar:r.avatar||"",position:r.position||""}),a(r[t])}).catch(function(e){var t=e.response,a=t&&t.data||{};n({success:!1,message:a.message||"请求异常"})})})}};t.default=m},"C+Zt":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("zsLt"),i=n(r),o=a("3cXf"),s=n(o),l=a("ZLEe"),d=n(l),u=a("IHPB"),c=n(u),f=(a("XAqG"),a("HyXB"),a("vS5q")),h=a("MjAd"),m=n(h),v=a("kNGm"),p=n(v),C=a("zWMP"),y=a("ak47");n(y);t.default={name:"QJ_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"经办人",value:"creatorName"},{name:"交易号",value:"transCode"}],listViewID:2600,daysCount:null}},mixins:[m.default],methods:{getDefaultImg:function(e,t){var n=a(1===t?"Fuf7":"0gu7");return e.photo&&(e.photo=n),n},getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=[];if(this.activeTab&&(a=[{operator:"like",property:"biStatus",value:this.activeTab}]),this.serachVal){var n={operator:"like",property:this.filterProperty,value:this.serachVal};this.activeTab&&(n.attendedOperation="and"),a=[].concat((0,c.default)(a),[n])}if((0,d.default)(this.otherFilter).length){(0,d.default)(this.otherFilter);for(var r in this.otherFilter)!function(t){var n={property:t,operator:"in"};e.otherFilter[t].value.forEach(function(e,t){n["value"+(t+1)]=e}),a.push(n)}(r)}if(this.timeFilter.startDate||this.timeFilter.endDate){var o={property:"modTime",operator:"date",startDate:this.timeFilter.startDate,endDate:this.timeFilter.endDate};a.push(o)}return(0,f.getLeaveDetailItem)({limit:this.limit,page:this.page,filter:(0,s.default)(a),sort:(0,s.default)(this.sort)}).then(function(a){var n=a.total,r=void 0===n?0:n,o=a.instanceList,s=void 0===o?[]:o;e.hasNext=r>(e.page-1)*e.limit+s.length,s.forEach(function(t){e.setStatus(t),t.daysCount=0,t.leaveTypes=[],t.crtTime=(0,p.default)(t.crtTime,"YYYY-MM-DD HH:mm:ss"),t.modTime=(0,p.default)(t.modTime,"YYYY-MM-DD HH:mm:ss"),t.itemCount=t.detailItem.length,t.detailItem=t.detailItem.slice(0,3),t.photo||(t.photo=e.getDefaultImg("",t.gender)),t.detailItem.forEach(function(e){t.leaveTypes.push(e.leaveType),t.daysCount=(0,C.accAdd)(t.daysCount,e.leaveDays)}),t.leaveTypes=[].concat((0,c.default)(new i.default(t.leaveTypes)))}),e.listData=1===e.page?s:[].concat((0,c.default)(e.listData),(0,c.default)(s)),t||e.$nextTick(function(){e.resetScroll()});var l="";t&&0===e.activeIndex&&e.total&&(l=r-e.total==0?"暂无新数据":l="新增"+(r-e.total)+"条数据",e.$vux.toast.show({text:l,position:"top",width:"50%",type:"text",time:700})),0==e.activeIndex&&1===e.page&&sessionStorage.setItem(e.applyCode,r)}).catch(function(t){e.resetScroll()})}}}},"C/X/":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=(a("HyXB"),a("MjAd")),s=n(o);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"任务类型",value:"taskType"},{name:"项目名称",value:"projectName_project"}],listViewID:2326}},mixins:[s.default],methods:{goDetail:function(e,t){var a=this;if(!this.clickVisited){var n=e.transCode,r=this.$route.query,o=r.name,s=r.listId,l=this.$route.params,d=l.folder,u=l.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,i.default)({},e)),setTimeout(function(){a.clickVisited=!1,a.$router.push({path:"/detail/"+d+"/"+u,query:{name:o,transCode:n,listId:s}})},200)}},getTaskIcon:function(e){return["icon-task","icon-task2","icon-task3"][e%3]}}}},"C/iA":function(e,t,a){"use strict";function n(e){a("VbHE")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("6TM+");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("kCcb"),s=a.n(o),l=a("bPMh"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-80fe00b8",null);t.default=c.exports},C1m2:function(e,t,a){"use strict";function n(e){a("U1iN")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("Ndo7");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("g0cX"),s=a.n(o),l=a("zUFN"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-0745ffec",null);t.default=c.exports},C32i:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages xsbj-list-conatiner",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId,hasFormStatus:!1},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"instance-item-wrapper",class:{visited:t.visited},on:{click:function(a){e.goDetail(t,n)}}},[a("div",{staticClass:"instance-main"},[a("div",{staticClass:"instance-header"},[a("span",{staticClass:"instance_code vux-1px-l"},[e._v(e._s(t.transCode))]),e._v(" "),a("span",{staticClass:"instance_status",class:t.statusClass},[e._v(e._s(t.biStatus))])]),e._v(" "),a("div",{staticClass:"instance-project-container"},[a("div",{staticClass:"project_name",class:{"time-to-wrap":t.projectName_projectApprovalId.length>12}},[e._v("项目名称: "+e._s(t.projectName_projectApprovalId))]),e._v(" "),a("div",{staticClass:"project_manager"},[a("span",{staticClass:"project_manager_title"},[e._v("项目经理: ")]),e._v(" "),a("span",{staticClass:"project_manager_value"},[e._v(e._s(t.dealerName_dealerDebit))])])]),e._v(" "),a("div",{staticClass:"instance-task-container"},e._l(t.detailItem,function(t,n){return a("div",{key:n,staticClass:"instance_task_item"},[a("i",{staticClass:"icon",class:[e.getTaskIcon(n)]}),e._v(" "),a("div",{staticClass:"task-detail vux-1px-b"},[a("div",{staticClass:"task_name"},[e._v(e._s(t.taskName_projectPlanTask))]),e._v(" "),a("div",{staticClass:"task_info"},[a("div",{staticClass:"task_info_item"},[a("span",{staticClass:"task_info_title"},[e._v("执行者: ")]),e._v(" "),a("span",{staticClass:"task_info_amt"},[e._v(e._s(t.dealerName_dealerCodeCredit||"暂无"))])]),e._v(" "),a("div",{staticClass:"task_info_item"},[a("span",{staticClass:"task_info_title"},[e._v("计划开始日期: ")]),e._v(" "),a("span",{staticClass:"task_info_day"},[e._v(e._s(e._f("dateFormat")(t.startDate_projectPlanTask,"YYYY-MM-DD")||"无"))])])]),e._v(" "),a("div",{staticClass:"task_info",class:{"when-is-fill":t.deadline_projectPlanTask&&t.completeTime_projectPlanTask}},[a("div",{staticClass:"task_info_item"},[a("span",{staticClass:"task_info_title"},[e._v("计划截止日期: ")]),e._v(" "),a("span",{staticClass:"task_info_day"},[e._v(e._s(e._f("dateFormat")(t.deadline_projectPlanTask,"YYYY-MM-DD")||"无"))])]),e._v(" "),a("div",{staticClass:"task_info_item"},[a("span",{staticClass:"task_info_title"},[e._v("实际完成日期: ")]),e._v(" "),a("span",{staticClass:"task_info_day"},[e._v(e._s(e._f("dateFormat")(t.completeTime_projectPlanTask,"YYYY-MM-DD")||"无"))])])])])])}),0)]),e._v(" "),a("div",{staticClass:"instance-bottom vux-1px-t"},[a("div",{staticClass:"instance-bottom-wrapper"},[a("div",{staticClass:"instance_bottom_item instance_handler"},[a("i",{staticClass:"icon icon-handler"}),e._v(" "),a("span",[e._v("经办人: "+e._s(t.handlerName))])]),e._v(" "),a("div",{staticClass:"instance_bottom_item instance_mod_time"},[a("i",{staticClass:"icon icon-mod-time"}),e._v(" "),a("span",[e._v("修改时间: "+e._s(e._f("dateFormat")(t.modTime,"YYYY-MM-DD HH:mm")))])])])])])}),0)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},C6jN:function(e,t,a){"use strict";function n(e){a("GFh5")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("RxFs");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("DT0P"),s=a.n(o),l=a("X1uf"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-c7c99480",null);t.default=c.exports},CGvj:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("IHPB"),i=n(r),o=a("fQlz"),s=n(o),l=a("+AeB"),d=n(l);t.default={name:"REmotion",props:{show:{type:Boolean,default:!0}},components:{Emotion:d.default},data:function(){return{emotionList:[].concat((0,i.default)(s.default))}},methods:{emotionClick:function(e,t){this.$emit("on-select","["+e+"]")}},created:function(){}}},CK9K:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList,showStatus:!1},on:{"sel-item":e.selItem}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,defaultContact:e.contact,"dealer-params":e.dealerParams,dealerTitle:"供应商"},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("dealer-other-part",{attrs:{"dealer-config":e.dealerConfig,"dealer-info":e.dealerInfo},model:{value:e.dealerInfo,callback:function(t){e.dealerInfo=t},expression:"dealerInfo"}}),e._v(" "),a("apply-matter-part",{attrs:{"show-materiel-pop":e.showMaterielPop,"show-matter-pop":e.showMatterPop,"filter-list":e.filterList,actions:e.actions,btnInfo:e.btnInfo,"matter-list":e.orderList,"default-value":[],"matter-pop-config":e.matterPopConfig,"matter-edit-config":e.matterEditConfig,"order-list-title":e.orderListTitle,"matter-params":e.matterParams,"add-matter-fn":e.addMatter,"sel-matter-fn":e.selMatter,"matter-modify-class":e.matterModifyClass,"stop-order-fn":e.stopOrder,"get-matter-modify-fn":e.getMatterModify,"show-delete-fn":e.showDelete,"show-sel-icon-fn":e.showSelIcon,"del-click-fn":e.delClick,"chosen-matter":e.consumables,"check-amt-fn":e.checkAmt,"sel-confirm-fn":e.selConfirm,"btn-is-hide":e.btnIsHide},on:{"show-down-modify-pop":e.shutDownModify},model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.consumableList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("op-button",{attrs:{"is-modify":e.matterModifyClass,hide:e.btnIsHide,"td-amount":e.tdAmount,"tax-amount":e.taxAmount,"all-check":e.checkList.length===e.consumableList.length},on:{"on-submit":e.submitOrder,"on-check-all":e.checkAll,"on-delete":e.deleteCheckd}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},CKaN:function(e,t,a){"use strict";function n(e){a("VIWb")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("sPO+");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("esH7"),s=a.n(o),l=a("GdVh"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-954d0a90",null);t.default=c.exports},CRKs:function(e,t,a){e.exports=a.p+"static/img/ck_default.c23c125.png"},CSTP:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"weui-cells_radio",class:e.disabled?"vux-radio-disabled":""},[e._l(e.options,function(t,n){return a("label",{staticClass:"weui-cell weui-cell_radio weui-check__label",attrs:{for:"radio_"+e.uuid+"_"+n}},[a("div",{staticClass:"weui-cell__bd"},[e._t("each-item",[a("p",[a("img",{directives:[{name:"show",rawName:"v-show",value:t&&t.icon,expression:"one && one.icon"}],staticClass:"vux-radio-icon",attrs:{src:t.icon}}),e._v(" "),a("span",{staticClass:"vux-radio-label",style:e.currentValue===e.getKey(t)?e.selectedLabelStyle||"":""},[e._v(e._s(e._f("getValue")(t)))])])],{icon:t.icon,label:e.getValue(t),index:n,selected:e.currentValue===e.getKey(t)})],2),e._v(" "),a("div",{staticClass:"weui-cell__ft"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"weui-check",attrs:{type:"radio",id:e.disabled?"":"radio_"+e.uuid+"_"+n},domProps:{value:e.getKey(t),checked:e._q(e.currentValue,e.getKey(t))},on:{change:function(a){e.currentValue=e.getKey(t)}}}),e._v(" "),a("span",{staticClass:"weui-icon-checked"})])])}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.fillMode,expression:"fillMode"}],staticClass:"weui-cell"},[a("div",{staticClass:"weui-cell__hd"},[a("label",{staticClass:"weui-label",attrs:{for:""}},[e._v(e._s(e.fillLabel))])]),e._v(" "),a("div",{staticClass:"weui-cell__bd"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.fillValue,expression:"fillValue"}],staticClass:"weui-input needsclick",attrs:{type:"text",placeholder:e.fillPlaceholder},domProps:{value:e.fillValue},on:{blur:function(t){e.isFocus=!1},focus:function(t){e.onFocus()},input:function(t){t.target.composing||(e.fillValue=t.target.value)}}})]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:""===e.value&&!e.isFocus,expression:"value==='' && !isFocus"}],staticClass:"weui-cell__ft"},[a("i",{staticClass:"weui-icon-warn"})])])],2)},r=[],i={render:n,staticRenderFns:r};t.a=i},CVjw:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"popup-matter-container",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"popup-top"},[a("i",{staticClass:"icon-close",on:{click:e.onHide}})]),e._v(" "),a("div",{staticClass:"matter-list-container"},[a("m-search",{attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"matter-list-wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.matterList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.matterList,function(t,n){return a("div",{key:n,staticClass:"each-matter",class:{"vux-1px-b":n!==e.matterList.length-1},on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[t.transCode&&!t.transCode.includes(",")?a("div",{staticClass:"order-code"},[a("span",{staticClass:"order_title"},[e._v(e._s(e.orderTitle)+"：")]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(t.transCode))])]):e._e(),e._v(" "),a("div",{staticClass:"order-matter"},[a("i",{staticClass:"icon",class:[e.showSelIcon(t)?"icon-selected":"icon-no-select"]}),e._v(" "),a("div",{staticClass:"mater_img"},[a("img",{attrs:{src:t.inventoryPic,alt:"mater_img"},on:{error:function(a){e.getDefaultImg(t)}}})]),e._v(" "),a("div",{staticClass:"mater_main "},[a("div",{staticClass:"mater_name"},[e._v("\n                "+e._s(t.inventoryName||t.invName||t.facilityName)+"\n              ")]),e._v(" "),a("div",{staticClass:"matter_info"},e._l(e.config,function(n,r){return a("div",{key:r,staticClass:"matter_info_item"},[a("span",{staticClass:"matter_info_title"},[e._v(e._s(n.v)+":")]),e._v(" "),a("span",{staticClass:"matter_info_value"},[e._v(e._s(null!=t[n.k]&&""!==t[n.k]?t[n.k]:"无"))])])}),0)])])])}),0)],1),e._v(" "),a("div",{staticClass:"count_mode vux-1px-t"},[a("span",{staticClass:"count_num"},[e._v(" "+e._s(e.tmpItems.length?"已选"+e.tmpItems.length+"件":"请选择")+" ")]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.confirmMater}},[e._v("确定")])])])],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},CX41:function(e,t){},CYNT:function(e,t,a){e.exports=a.p+"static/img/defaultApp.895b567.png"},CZPG:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"weui-cell vux-cell-form-preview",class:{"vux-cell-no-border-intent":!e.borderIntent}},[a("div",{staticClass:"weui-form-preview__bd"},e._l(e.list,function(t){return a("div",{staticClass:"weui-form-preview__item"},[a("label",{staticClass:"weui-form-preview__label",domProps:{innerHTML:e._s(t.label)}}),e._v(" "),a("span",{staticClass:"weui-form-preview__value",domProps:{innerHTML:e._s(t.value)}})])}),0)])},r=[],i={render:n,staticRenderFns:r};t.a=i},Ca4P:function(e,t,a){"use strict";function n(e){a("WjOO")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("bxyf");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("Xzj3"),s=a.n(o),l=a("xAjG"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-9939093e",null);t.default=c.exports},CcG0:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQ4AAAEOCAYAAAB4sfmlAAAAAXNSR0IArs4c6QAAJcZJREFUeAHtnelvHEd6xofk8BAlkbpIrRMsAnttCLuLBfzBwC5sI4ETOBsskK8L5I/IvxcgCQxfwN6br7FkWT7kyJYP2dZBcnjmeVr9UsWanqN6urqre54Cmn1Md3XVU9U/vlVvdfVCb07CH//4x6v7+/v/fnx8fGdpaekOsn3n4ODgqzfeeONwTiRQNqVAZQosVBZT4hG98847bz733HP/denSpd7Ozk5vd3eXy/GTJ09uHh4efozk3z45ObkNqNxeXl6+hfPu/vznP99PPFtKnhRoRIF+I3dt4KZHR0cvEhrb29vu3Rex81NYIT81mNgaUDl5//33b8MqyaCC824vLi7exrm3FhYWPoWlsudGpG0pME8KzA048LC/eO7cuTNl+/XXX/f6/X62wNLobWxs9C5fvtzjNs6nNfYSrJCXAJN/poXiQKX3u9/97uPBYHAHv3+E8zKoYPtDbgsqZ2TWTgcVmBtwoOzOgAPNkx6sh2zZ29vL1m75wro4BQrhcuHChR4tlhwqPPV5LoDJP+XNnlOwACr3AZUPDCpYEywfoo/lw1//+tdP3PtoWwq0UYG5AQf6LV4gACyg6ZJtbm5uZoDgDmHC47bmNh72HsGCh98u7blQIUjOnz/fYzwOVK7j5OsAyj/4UPn973//LaDyv+ykxTlZvwqhgnt++Oabb/5wehNtSIGEFZiLzlE89At/+ctfnrzyyiunbRU2Ox49epT1eTxtlYwvJRcmLlxotfhQIUAIKa5t4b57H8LIhwr2v8fygQsVWivr6+s3X3311QfjU6hfpUB9CswFON56662//dGPfvT5z372s1NlCQ0+vFtbW6fHym64IOG27ftQITgMKLY2sNCKsQCLZAgqAN0jLDcBklNLhVBBvw2h8jXifmYSWURaS4FICjyz3SPdIJFob+C/9pmk0ILgw1tFsIe/KC4DicHE1oSDa6m4UGF8q6urWROI2zlULiL+V+DleYXWEq0VW//5z3/ehbv5pmup4LrbyN/N11577UvEfVyUNh2TAmUVqObJKXv3mq7Dg/eS71HhA7yyshI9BdNCxYBCoBVBhfGYlcJ0Mz90LedQYRPsZVz7ssHE1n/961/333333ZuI/8xYFUIFELqnAXDRq0AnbzAX4EDJvehbHGxG8GH0Ax6mzMNCC8AWPpy27Z8/y/44qDB9BhOubRkFFYsLncC9tbW13rVr1yx/pOMvcP0vDCbO+ui99967BeCcgQrOvYXO3s/QJ3QwS/50bXcVmAtw4CE844rlQ8hmQlFThcdtKSp2A4i7NrAUnV/2GOPkQhD4gemjZcJ82JrbBj07n2k0oNiaLuWrV68aVEjOUQPgjjEA7iPEmUEF52kAnAmrdW8uwOG7YvmwMfBh8gMfynEhFCp8eAmAKgPjJFAmQYUwMbj4UGF6DCbWBPIGwDHRowbAnWCsyifoXD4DFWjz4cWLF+/AUtmpMr+KKz0FOu9VQWWmK/YhKvMFk5+m+ihXLD0tMYJroRRtx7inHyehZyAxqNg+m0ZuMKhwbWCxY0w/A+Mzl7LbWYvtu9DxdFQtztMAOFfcDmx3Hhxowz8H0/zeNK5YPgjsQ6g7FIHEPVZXeqzZY2uDC6FCbSzQgvJhYvsGFZ5bBBVA+2tA5Rbiy4bqG1RwTw2AM4FbsO58UwUguFHkUWFF94P7cPi/xdznfUfd2wVI0XaV6aImXOgK9oMPE+5zVG0RVFwrhZ3SaL5k8eZQ4cCZLcDjNQOLddb+4Q9/eIBjhMqZsSoaAOeXRvP7w09P82mqNAV4EM50jDJyVvoiV6xvrleakJKRjYMKo+TDSAugLqgUZcOaO2ahcF0EFaaRYDKwEOh8B4j7eT/QFcT/K8D+Vz5UMJ/KQ0IFZXQGKohDA+CKCiXysc6DAw/eS9O6Ykf9149cBjNFzzTzQS0KBpMisBSdX/aY9X0UXe/CxKwWrovcygYVxlcwAG4D8b8CIL3iQwUD4HYwAG4IKnBLawBcUaFUcKzz4IBGZywOVmQ+bKycfmgjOPw8uPvMD5ciS8qgwrUPFjeOWbenhQrLhUAZBRXGY2ApGADHYcGFA+DQMb6HAXAfIv7MAwQ9ssmaENfNe/fu/d9vf/vbYurOmvGOX995cOCheMF1W7KCMrAS+qFr4PDz5+4bVHjMNLHfXaj4YLFzqliPgwphZzDh2hZrAtn9mT6Lh2uWtTcAbg3nFg6Aw3mH6Dznm8lnoIJ4OCvcZxpVayoPr4efnuFzWn0EzZSfuBngfzQGVjI/zBM4/Ly7+y5U3OPc9qHigsU/d5Z9WkFcXOhbfAYVHyz+WBUfKixzbwAc63/hADh02B5hABznpT0zVgX3voWO3U9+85vf1O9+MwESWHfaHYte+uvofPsSc4eeSj3qrVg+LE24Yk8T1oGNIqgYWOrKHsuR/xzMQnHh4jbZLF2EiTWBuG37ll5e4/epYP8Ey9AAOEIFVswdvK28a9d3dd1piwMTEd/w5hjNKhQrhx9kbfiKhO+HWiouaMLvVnwF46SVUmSpMH0uSAwusCCG+oEMIgYSupSdGeD4D/d5xPc8APKPPlgwWdNdHDu1VHBeNgAO13BaycfFKW/X0U6DA5XoTMcoi4b/jYpcsaxUCvEUoL6jNHYBUrRdVaoYN62LUf1bBhLXYmGfCsHipp1NKNdKKZgB7sc4/8e47u99qMAK/gLHhkbV4p6tGgDXaXCgwg2Bg6ZnkcXhmrFVVVTFM50CqUEl8gC456DKc4DK0AA4jFX5Gn0rQ1BBem6lNgNcp8GBCnlmDAf/o7CSFoGDxxXSU2ASVJhiWgAxLRXeY5Slwt+Kmj/m/XHrFdNpTSDGVzAALhtVi762X/qWyp/+9KfvARV+nmNoABwma/qK6agzdBocKJxCV6zAUWcVi3cveyj54BYFg0kRWIrOL3vMYFB0vTV/XLiwKVRiANwlxF84AA5Q4bSSH/lQyQfAfQEdKv+v2GlwQLhCVyxp7werhP5x7bdXAbNWipqhBhWufbBUmeNpoWJgGQUVxsN6y3XBADhOK/kyXMcv+5YKRtR+jt9+XGWeGNfwE1T1HRqK7+23376GMRyb7u1ZOFZJ3OOChqvGfGwbVJhb1gs3uFDxweKeN+v2OKgQdgYTrm0pslQsHq79AXD46NjdWdNZdH1nwYGKMTRBMcWnuH4QOHxF5nvfhYqvhA8VFyz+ubPs8x8clyK3skHFB4s/AI73v3Hjxi/u37//n7C+/w3TQVb2iY3OggMFWjhBsZops1RnXRsKFQNLlcqNgwrT57qT4b25AMC8gdndKv3YV2fBASoPTVBMQoO8Q2VY1AYeOkkHpMAEBcpAxSyYCVFP/TPjcwfA5RD5BMfPtsemjrH4xM6CA0KdGcNBaLBg1VQprgg6GleBpqCCen+Ee9+sOnen4EA76D8Q+em8nFXfqO740Lv8Moac97gwmFXBffY8u8F+c49pu/sKcMRnCiEEKvzHR6ti2sB/mDj/w2nPn/a8U3DggtfRdrpY9B952shSOs/vVGK7sGioOdPM3xTmRwH+o6AJ34bgQ4XQmPYZZT6xLOGa21Xn1QVH1v7nVG4KUqDLCmCwVDbLfRvzGPJPjtZGHioHh/7VmrRaS4EWKBDaTMmzJHC0oGyVRCkQRYEQaDABef/GIaaW+KzqBMniqFpRxScFIikQCo68H+dTXFd5h47AEamQFa0UqFqBUHDA4jiO4YplvgSOqktX8UmBSAqUAAffiq28f4PZEzgiFbKilQJVKxACDrpx6YqFF6byMRzMl8BRdekqPikQSYEQcDjjVGRxRCoPRSsFWqFAKmM4KJYsjlZUGSVy3hUIsTaoVe6KPdra2vo0hnYCRwxVFacUqFiBUHDkTZXPcN1BxUnJohM4YqiqOKVAxQqEgoOuWCSh8rdiLVtn3lWxg7HXx3ASHWIcPbzM2avui4t4cYezHS2JY7G1V/ztVKAEOOBYOYnSMUoFawXHzuCgt7t/2NsHDOku8sMi3vxbXV7qra8sZ2v/d+1LgXlVIAQc5oqFVu0Gx97BUe/h7gBWBq2n0QHD3DKwEC4EyOa51V5fVshowfTL3CgQAg5zxcYaw0HRo7cNHu7u9x483p0IDb8GDACbbx7t9vYODv2ftC8F5k6BEHDQo8KAa6JZHFHB8f3OoPd4b790IdMCefB4L7NCSkeiC6VAyxUgNELBgfOPr1279kmsrEcDx2P0Z7BPo4pAALFfREEKzKMCIdCgPrQ40M/xOa4r/197gtBRwHEIb8kjNFGqCuzs+f7JXlXRKR4p0CoFQsGBPo5jXPNBzExGAccjdIQWeU1myQg7Vp9UZMHMkg5dKwXqViAUHPkYjmj9G8x/5eDg2Ax6RWIEgSOGqoozdQVCwJG7YvtYtwscMb0gtDomuXRTrwRKnxQIVSAEHOZRwUzo7QIH3agxw+Awbvwx0664pUAZBULAYWM4cE2UeTgs/VGaKhZ5jDWbQgpSYF4UIDRCwEGLA+cfX7169eOYGlUPjpO4btMjfGRGQQrMiwIh0KAmeVPlHq4bxNSocnCAjzHTG0TfqAlR5FKgBgVKgIP/WaO9FWtZrhwcS3jTNWbA9+xiRq+4pUBSCoSC4+DggG35qP0bFKhycPQjf4d1SS+9JVWxlZi4CoSAg65YLEtIUVSPCnNcOThWV5juOIEiruGtWQUpMC8KhIDDXLGxx3BQ+8rBsdbvR+uHWIG1wTk7FKTAvChQBhzLy8vtszj4XF9YW45SrhfPrUSJV5FKgRQVIDRCwMExHDj/5MqVK3di56dyi4MJvrC6kk0FWGXi15b7vZW+milVaqq40lYgBBrMSd5U+QLX7cbOWRRw0Oq4fH4tiJbjMspZwC4hPgUpME8KhIIDFge6N06iu2JZBlHAwYhX+njY11dnhgfdu1cAjcheXiZZQQokpUAoOGBxHOGa6P0bFCnqZMXnVvposiz0HmAujeMSQ8WX0TQhNGKPDUmqtigxUiBXIAQcsDT4rdg+rok+hoPJiwoO3oD9Etsb69nEPjt43Z4ZnBT4uYQLayvoK4nTyTrp/vpdCqSgQAg4zBWLdLff4jDx6ULdRLOFMOBcHXz1/gCvyLsQISwIGXaCnsPCfhIFKTDPCpQBB56p7oDDCp9NDrpqzV1L44MTEqspYgppLQWeKkBohIDDXqe/fv16dFcsUxi9qTKuItCq0Lsn4xTSb/OqQAg0qBGbKrjmSyxP6tAsmleljsTrHlKgqwqUAAdaKfW4Yqm5wNHVmqd8tVqBEuDg1Hi19G9QWIGj1dWrfOL3DzUhUnn14l9ZAhx4MX1R4IhfNPN7B3ZIP5rhC3vzq1x9OQ8Bh3WMoqlSyxgOqiCLo766kMyd+BHwfUz6PMWQmmTSPG8JCQFH3WM4WBYCx7zVSOSX42jw30kf9E607AmNMuDANR/VlSWBoy6lE7qPfcIi5jdwEspu55OSv07/9fb29uO6Mitw1KV0IvchNGhtMBhAEkmakpErgE7OIC3QVGGB1vJWrCUsLIV2ldatVcC1MthJqg9cpVeUIc0Uph7gOKqzY5T3FDiowhwFdoy6wQWJe1zbzSkQCg68FVvLBMWuIgKHq0bHt/liof9Bq739syDpuAStyF4IONi/AWtjoc4xHBRR4GhFVaomkUXWBUFCoCiko0AIOBxXbG1jOKiUwJFOfYmeEr+ZYjcsAor9pnW9ChAaZcCBr9PX5oqlIo2+HVtvkcz33dgReoBBX0WBQLmYyJSu9PhwQbs9Syq3Gex4tjPhz+rq6oQzuvNzbnF8i49MP6wzVwJHnWo3eC/2ZfA/2SomS+LESrv5IDAmiUA5wtSOdc6LYnBw1waJBmVq/Nahrlj0cZygXG/VnXCBo27FG7pfH5NHX99c7+0MDrP3VPyHlM2V8xGnaqQFYZCw7YakSPq2Ic0UZoSuWKwEjqRLtcWJW8YnJr7HpNGcurEosLlSNTgICNZrgaJI8eJjoeCAtksAcm1vxVqqZXGYEh1esxny4PHuWO+JvfSGVsxMwUAhWJSTMQQc1BrQWEDHqMBRTm5dNU4BvkI/yeXKZsQAYwI4WXRo4LUcTyBYhCo3fH4IOKh5HgQOU0Lr6hQYoP/CD5xVnpDg925sYBg7UEPAwf94ZmH48Wu/nAIh4KD2DP1+X+AoJ7euGqXAUyg8dWm65xAYfMltAx/yvoIPZ9FdyybNNIH/6XIzeZrTdc6UCoRAg1GyDHDNd5cvX/5+yltUdlq4XVrZrRVRHQrsjegM5b05avQ7dJju7Pezz3WyA3VcEDDGqTP7byXAQdLX7lFhTgWO2cs76RhGjRZ1E82mzFcPj7Lv3VzER7P8IGD4isTZLzGGg22VWoeaW84FDlOig2s2PQ7ydvCk7LGD89Hufo/9HFsb57LTaQoTGvxNIb4CoRYHXbFIlcARv2jm6w5l3kEhaDiS9OT46fiL+VKs2dyGgCPvY6LzvPaOUao0vlHbrI66+4wKjGqm9NGXMa6SPoH7lq5VhXoVGFcmfkoIDoYmPCrZfbO760/nFGDjgoO6GNjpyQ96ry4v4X2Uxd7DnUHv8GQ0GPbxmv0azleoV4EQcLAJybC8vNyIxaE+jnrrRm13o7v18vnVDBh8qY2BL7Z9+2g3c72OS8ghrqV71q4bd65+q0aBEGjwjrkr9ofNzc0H1aQgLBaBI0yv1pzNN12XFp8WL62PH2Bl7AwOpk4/ZxhcVe2YWq9ZTywBDvRZnzTiimVeVTVmLfHEr+cAMI7VOAyc5YvNFb6Cr1CPAmVcsYBNIx4VKiJw1FMvGrkL31F5vHdQyp16gOYKLZUZ33lrJN9tvGmoxZG7Yhvp36C+Akcba9mENHP8Bq0M6xydcPrIn2mtrEwYTTryYv0QpEAIOMwV26TFIXdsUPG24+Rv8Qr9rNBgTg9GO17aIUSLUhkKDmYNfRyNWRwCR4sq1zRJpbUR2p8xKl72cyjUo0AIOMwVu76+3hg4gpoqTDAHBjGTXNihE9qpU08xzO9dyowWNbX68MQsLy1krljwp0e3LBceV4inQAg0mIrcFftoY2Pjm3ipGh9zEDgYlT+i0IeIQDJe8Ni/zgKOp+M3er315QX1bcQuKCf+MuDA5Y15VJj0YHA4+c02+QIUFwOKCxJMaTZ2aLMfl/ZnU4Dvou0fzta84MCvx/snveXFk975Fc6IPluadPVkBUqA47DJMRzM0czg8GVxQcKmDS0QAoSLQlwFaG1Q/yoC3bHf7x32zi0v9s5hhnSFeAqEWuloquDNgcXG+jeoROXg8OWlJcLFhUioUH6c2i9WYNRLbcVnT3d0l64VsIgAUYijQIjF4bhiGwVHbbWB/wmZ6f39/Wyxpk2copjPWIvmFq1CCVofCvEUCAUHU4LnqdE+jtrA4cpOaAggriKzb3PcBvsn/MD322b1ithLb37c2q9GgTLgaNIVy1xHb6qMk9YAwv4PzCugjtRxYk34zZop7MwkKDLXKtY0FnZm7DDlrdliWVU31YRSCP85BBqMnU1+XPPk4sWLX4XfrborGgWHZYNNGC4CiCkSvl5ER8TmGjqh81foGcMugJH1UYRHN3QFvTWr6uAe0mXWA6Hg4HOC0Gj/BhOQBDiYEAaKQiuE1oe8ME81meYv/wv1F9hMeeo7pZXxGHOHsolRVdBLb1UpeTaeUHCgrI/Qv3HzbCz17zXSxzEum+xEPTg4yJZx5+m3pwoQtPl/oezA/tFJ7we4UauEhml9gLgVqlUg1MOI8l5o2hVLBZIDhxULH4bBYHA6sMyOa/1MAYMs1+wXfbx/nFkasR5veVeeaV/VVojFwWcCZc1ntvGmSrLgYMHYg0FTXGFYAVpmmUa0MgZwdUd+KS12/MM57P6RUHDkiggck6oGHwyCg+5bhWcKEBqZVwrQeIT+jCJX7LOzq9miVaPmSjVaWiwlwdHoGA6mPWmLw8TlOntIBI9MEoLU+jXqtgLUXHFr5WzbIdDgnfIy393e3v5ytjvPfnVrwMGsCh5PNXCbbjEtAPpoVvGaPd9V4bgQ7tcNKpZ7V0MoOFjuuKbxZgrLIyl37DQVhPBgp+nKysrcDRizPh/TyVyktl/1mp2sAzSFVgCPCyuYewVjRCr08Fad3NbFFwoOWBwcxNHYzOauwK2yOCzhfIDY58H1PAU/z3X99+d9ftg76u1hEBhHpipUo0AJcCygzjfev8HctxIcTPi8wcOHBjXIP9TGzeiBiN7BuPOH8N7EGCMSPQMJ3iBkDActbdR5XNLs6/QmY2vBwQwYPCwzXV2bB8XNH+cWxRBC91At24QG4VGHF6eWDDV4kxCLw/q1UunjaDU4WOZdhwebtXlv+pkqzhGiDGw6sAPzPCfcqXHODM2AfqY4Su2EgMPqQCrgaF3naFEJ0Yzjf2V8gLfo59YeY2Wx/zR+JjipML+0Zh2WT/DNxpgeFv/+eunNVyRsPwQajDkHx97Vq1fvhd0pztmdAIcJy8LgC3JdCIQhoUGLqijYHBv0rDzBUPO6mw7m0VFfaVHpTD5WBhy45g6W4gox+ZaVntH6poqrBh80M+nc423bNgtqFDQsP+ysfNRgf0OdFo7luSvrUHCgbtMV2/hbsaZ/N/49W26wJjxYKCE91s7ljW8SFvYOyqjEsFP08QBvxY6wRkZdV/VxWh0c46EQrkAoOPAPkUInMfiLue2UxcEMTfPg8bwUAy2NIrern9aHGFPRNDSYJn5bVqGcAiH/2FgvUK8XsSQxhoM57hw4mCnCgw9gm8K0zRM2D5Jo5EJcGBy1dsi2qTwnpTXE4rDmNya3Ssbi6FxTxQrM4MGh6akHVoxxHaFu+usaLere091mp+xqn1bzAgaCWaesmiuuRtNsh4CDdYMhlcFfTEtnwcHM2X/xlN20rBRWMZjmSaHp8RMcAHaEL72tYczI+WXNXjypvIp+D4EGr88tjsGVK1c+L4qviWOdBocjepJjPNicItymDXxo63a7FqWNTSVOgrx/eILvzC5mH6ouOk/HihUoCY6PcV0qrdRu9nH4xUVi01ORSiAsykyLSC9GSoEdtJxEiG/QKkyvQCg4YJEe4ZpkXLHMaSc7R4uKkPBIocOUAJvGc1KUBxtmXvRbk8cGFXy3pcn0133vUHCg7ibliqVecwMOZrbsf3peO2sguGhlcF0msInCF9tSDKk0oVLUpihNIeBgnaUrFvEk41Fhnjrfx+EXHL0t/K9vH3/yf696n6Bg5yfvO0vAqyhJB3ba6ktv0xVRyBgO+0eD+pPMGA7mcu7AwUzzIebDzEKhxyWkIHn9NKEqYNi9mnbDWjpGrZk+feltlDpnj4dYHOZxW11dlcVxVsbm9ggQ9jcQHLRAuA4pVD/lNCsJjNy89H8uvU9bJbWOUT8zem/FV6R4P7R+sT7hmoNLly7dLY6xmaNzaXH4UvNB58JC5UKI2DbXRYHQ4WLX2n7RubMea8tDyXTydX+F0QqMqk+jriA4ED7BddP77UdFVuFxgcMR0x5+wsBCUUHzvDpD6s0U02KA5sqyPkxtchSui+pT4Yn5QYADXu+TD8ad08RvAscE1euGRFFy6LVoQ5BXdnIplQAHrd+k+jeYS4Fjclk3fsaltWqKibOEDTDa0w8bcIfYxED+b9qvVoEQcOTN4KUUwTFX4ziqrQKKTQqEKxDiwcv7N3iT5CwOgSO87HWFFCitQIjFYeCAKzapMRzMvMBRugroQikQpkAINBgzx3DgmsPNzc3Pwu4U/2yBI77GuoMUyBQIBUducXyK65IbNyxwqFJLgZoUCAUHLA68onSS1FuxJpXAYUpoLQUiKxAKDnhV+M3H5Po3KJPAEbmyKHopYAqEgMNcsbg2OY8K8yNwWKlqLQUiKxACDvOoIEkCR+RyUfRSIGkFujKGgyLL4ki6qilxXVEgxNpgnmlx4JrDra2tT1LUQOBIsVSUps4pEAqOfB6Ou4RHimIIHCmWitLUOQVCwQGLg69oJ+mKZeEIHJ2rospQigqUAAeGcJwk2TFKfQWOFGuZ0tQ5BULAwakc4I5dSnUMBwtH4OhcFVWGUlQgBBw2zyjyIYsjxcJUmqRAXQqUccUCNgJHXQWk+0iB1BQIsTaY9twVe3Tt2rWPU8uLpUdNFVNCaykQSYEy4EBSPsd16Xy31NNG4PAE0a4UqFqBUHDwrVikIVlXLPUROKquJYpPCngKhIIDTRVODJts/wazV80suJ5Q2pUCUuCZAiHgMFcsrk4aHLI4npWvtqRAFAVCwMGOUQZ8FCzJeThMIIHDlNBaCkRSIAQcNoYD18jiiFQeilYKJK8AoRECjtwVe3z16tVkXbEUXRZH8lVPCWyzAiHQYD7zpso9XDdIOd8CR8qlo7S1XoES4KArNrlvxfoFIXD4imhfClSoQCg40MeRvCuW8ggcFVYSRSUFfAVCwNEWVyzzKHD4Ja19KVChAiHgMFdsyvNwmDQChymhtRSIoEAZcCwvLyc9hoMyCRwRKouilAJUgNAIAQfHcOD8kytXrtxJXUENOU+9hJS+aAr0+/0e+xXcpcqbhUCD982bKl/gur0q0xEjLoEjhqqKsxUKEBx+4BfUXJC42/65k/ZLgCPZb8X6eR1Wzj9D+1JgjhQYN1MXITIKLEUShYKDr9PjmuT7N5hXgaOoxHVMChQoQBDg5bOCX3qnVooLlhBw5FDq45qk31GxzAscpoTWUmAGBQgJLuMslnHRmysW5wgc44TSb/UrgH9nsDGxeGGRxxUaVcDAActD4Gi0JHTzIQVW+4u91aGjOpCCAuaK3d7e/iiF9ExKg8ZxTFJIv0uBGhTILY77aO7s1HC7mW8hcMwsoSKQArMrwJfbEJKeoNjNpcDhqqFtKdCQAvDGcM7AVvRvUKIgrwp7jUe5oxrSW7eVAq1XgK5YNFX6KX8r1hc5CByEhsDhS6h9KTCbAm3zqDC3aqrMVua6WgrMrICBAxG1pqkicMxc7IpACsymgIEDXQGtcMUytwLHbGWuq6XAzArkYzi+whiOxzNHVlMEAkdNQus2UmCUArA4OM/orVG/p3hc4EixVJSmuVIA4DiCZ6UVb8VawQgcpoTWUqAhBTCGg6/ctqZjlDIJHA1VFt1WClAB9m/A2lho0xgOplvgoAoKUqAhBcyjgtvL4mioDHRbKdA6BQwccMUKHK0rPSVYCjSkQA6Ob7e2th41lIRSt1VTpZRsukgKVKMA34qFtdGat2It1wKHKaG1FGhAAVgcfCu2Va5YyiRwNFBZdEspYArQFQuvSqv6N5h2gcNKUGspULMCNDboisUb5wJHzdrrdlKgtQpwDEce1FQxJbSWAlJgvAK5R4Vz3MjiGC+VfpUCUsAUIDjgUfkOH5n+wY61Za0+jraUlNLZOQUAjta9FWuFIHCYElpLgZoVQB8HXbGtep3eJBI4TAmtpUDNCrTxrViTKGiyYrtIaykgBWZTwFyxiKV1HaPMuSyO2cpfV0uBUgqYR6Xf7wscpRTURVJgDhWwMRzLy8sCxxyWv7IsBUopkLtif9jc3HxQKoKGL1JTpeEC0O3nUwG6YhFa6VFhiZ12jmL02iLaW729vb35LEnlem4UwDR9Pdb1JgNdsRj81bqh5qaZLA5TQmspUKMCuStW4KhRc91KCrRagba7Yim+LI5WV0Elvo0KmCu2jfNwmN4ChymhtRSoSQFzxa6vr7fSFUuZBI6aKotuIwVMgdwV+3BjY+MbO9a2tcDRthJTeluvQN5Uaa21wQIQOFpfDZWBtikAcBy2eQwH9RY42lbrlN7WKwBwLGEsSastjmZHwbS+CigDUiBMATZTYG0s4KrWjuFgjmVxhJW7zpYCMymQ928wjlZbHALHTNVAF0uBMAUMHG12xTLHAkdYuetsKTCTAhzDgXdUnly8ePGrmSJq+GKBo+EC0O3nS4Hc4mh1/wZLTOCYr3qr3DasAMDRelcsJRQ4Gq5Iuv18KQBwwBPbblcsS0zu2Pmqt8qto8B3332XzcuBuWj4NbXTBX0QzlnVbbKZAlfsIuJvtUeFiggc1dULxdRCBQaDQS/vdzhNvQsRbnPSHzs2C1Sc+7S+j0PgOK0u2pg3BS5fvpxlGVZABg8+2Fzo+eB6f3+/hwl3aCWcSmOzhxlIXLBMgooDDlkcp4pqQwq0VAE+8LQqRk0n6MKE2+OgYkBxrRQeI3B4He61s729/WVLpTpNtiyOUym0IQWKFTAYFP1qIDErhfvcZhPItVQIJyw0XT4qiqdtxwSOtpWY0puUAgaVlZWVoXQZVLj+5ptvaNG8j+V/hk5s4QGBo4WFpiRXo8Cnn37aO3fuXA/Dv7M1IVBlMKgwzgcPHvR2dnb+5dVXX92t8h5NxSVwNKW87tu4Anfv3v1XNCv+Dh2gLyIxL8JqeH5tbe0n58+fXyNQXKiM6v+YNhOAxuddgQbzLHBMW/I6r3MKvP766/+NfoeBmzGOs3jnnXf+Busb+C0DCsGCTzW+AKi8CKisG1QMLPjNjWJom30d6PP4eOiHFh8QOFpceEp69QoAFseI9fN8ecu9AwCwAKhc96ECaySDCpo8G9bsMaiw74MfOcM1rXfBuloIHK4a2pYCYxTIvSJ0pXJ51z/17bffvuZDBf0cL8AioeXS+kFfbn5Px9bev3//PQjzdESMe4a2pUA3FTjc2tr6Jer8fh3Zo7WSg6eO2+keUkAKSAEpIAWkgBSQAlJACkgBKSAFpIAUkAJSQApIASkgBaSAFJACUkAKSAEpIAWkgBSQAlJACkgBKSAFpIAUkAJSQApIASkgBaSAFJACUkAKSAEpIAWkgBSQAlJACkgBKSAFpIAUkAJSQApIASkgBaSAFJACUkAKSAEpIAWkgBSQAlJACkgBKSAFpIAUkAJSQApIASkgBaSAFJACUkAKSAEpIAWkgBSQAlJACkgBKVC5Av8Pbqg+XeH87h4AAAAASUVORK5CYII="},Cf7i:function(e,t){},Cgoy:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,i=a("a3Yh"),o=n(i),s=a("ZLEe"),l=n(s),d=a("3cXf"),u=n(d),c=a("KH7x"),f=n(c),h=a("4YfN"),m=n(h),v=a("MgeX"),p=n(v),C=a("HzJ8"),y=n(C),_=a("PzEQ"),g=n(_),b=a("u28h"),w=n(b),I=a("kNGm"),D=n(I),x=a("BGNQ"),P=n(x),S=a("SAzG"),k=n(S),L=a("z5TY"),N=n(L),M=a("0AQX"),T=a("I3vJ"),A=a("HyXB"),O=a("bKg5"),R=n(O),j=a("y8YJ"),B=n(j),E=a("9cRV"),F=n(E),U=a("Pb67"),$=n(U),H=a("yt3/"),V=n(H),q=a("luHD"),Q=n(q),Y=a("CKaN"),X=n(Y),G=a("hLfv"),W=n(G),z=a("VZtf"),K=n(z),J=a("vl8n"),Z=n(J),ee=a("+WR7"),te=n(ee),ae=a("fCs9"),ne=n(ae),re=a("lsbD"),ie=n(re),oe=a("Q67R"),se=n(oe),le=a("zWMP"),de=a("Qg39");t.default={name:"ApplyDZYHPCGYSYZFForm",data:function(){return{orderList:{},showDealerPop:!1,dealerInfo:{},contactInfo:{},formData:{biId:"",biComment:""},submitSuccess:!1,taxRate:.16,numMap:{},transCode:"",formViewUniqueId:"fed81800-4c34-44a9-b517-c3fd9f2ab57d",biReferenceId:"",actions:[],taskId:"",showMaterielPop:!1,tmpItems:{},matter:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,filterList:[{name:"物料名称",value:"inventoryName"},{name:"采购订单号",value:"transCode"}],cashInfo:{},cashParams:{fundType:"银行存款"},consumables:{},checkFieldList:[{key:"tdQty",message:"请填写数量"}],selItems:{}}},computed:{consumableList:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var r,i=(0,y.default)((0,p.default)(this.orderList));!(t=(r=i.next()).done);t=!0){var o=r.value,s=!0,l=!1,d=void 0;try{for(var u,c=(0,y.default)(o);!(s=(u=c.next()).done);s=!0){var f=u.value;e.push(f)}}catch(e){l=!0,d=e}finally{try{!s&&c.return&&c.return()}finally{if(l)throw d}}}}catch(e){a=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(a)throw n}}return e},checkList:function(){return[].concat.apply([],(0,p.default)(this.selItems))}},watch:{consumables:{handler:function(e){this.simpleCalcMatter(e)},deep:!0},consumableList:{handler:function(e){var t=0,a=0,n=!0,r=!1,i=void 0;try{for(var o,s=(0,y.default)(e);!(n=(o=s.next()).done);n=!0){var l=o.value;this.simpleCalcMatter(l),t=(0,de.toFixed)((0,le.accAdd)(t,l.tdAmount)),a=(0,de.toFixed)((0,le.accAdd)(a,l.taxAmount))}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}this.tdAmount=t,this.taxAmount=a},deep:!0}},mixins:[R.default],components:{XTextarea:g.default,Datetime:w.default,PopOrderList:$.default,RNumber:K.default,XInput:k.default,Group:N.default,PopDealerList:B.default,PopMatterList:F.default,PopSingleSelect:V.default,PopMatter:Q.default,RPicker:Z.default,PopBaseinfo:te.default,Cell:P.default,RDropdown:ne.default,PopCashList:X.default,DealerOtherPart:W.default,OpButton:ie.default,ApplyMatterPart:se.default},methods:(r={selItem:function(e){this.formData=(0,m.default)({},this.formData,e),null!=this.matterParams.data.groupId&&(this.matterParams.data.groupId=e.handlerUnit)},selDealer:function(e){var t=JSON.parse(e),a=(0,f.default)(t,1),n=a[0],r=n.pamentDays,i=r?(0,D.default)(Date.now()+(0,le.accMul)(r,864e5),"YYYY-MM-DD"):"";this.dealerInfo=(0,m.default)({},n,{dealerName_dealerCodeCredit:n.dealerName,accountExpirationDate:i,crDealerPaymentTerm:n.paymentTerm,daysOfAccount:n.pamentDays}),this.matterParams.data&&null!=this.matterParams.data.dealerCode&&(console.log("触发了"),this.matterParams.data.dealerCode=this.dealerInfo.dealerCode,this.orderList={})},selContact:function(e){this.contactInfo=(0,m.default)({},e)},getMatterModify:function(e,t,a){this.consumables=JSON.parse((0,u.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selMatter:function(e){var t=this,a=JSON.parse(e),n=JSON.parse((0,u.default)(this.orderList));a.forEach(function(e){var a=e.transCode?e.transCode:"noCode";e.tdQty=e.qtyBal||"",e.taxRate=t.taxRate,e.transCode?(n[a]||(n[a]=[]),n[a].push(e)):(n.noCode||(n.noCode=[]),n.noCode.push(e))}),this.orderList=n},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t)},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t}},(0,o.default)(r,"getMatterModify",function(e,t,a){this.consumables=JSON.parse((0,u.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a}),(0,o.default)(r,"showDelete",function(){this.matterModifyClass=!this.matterModifyClass,this.selItems={}}),(0,o.default)(r,"delClick",function(e,t,a){if(this.selItems[a]){var n=this.selItems[a],r=n.findIndex(function(e){return e===t});if(-1!==r)return n.splice(r,1),void(n.length||delete this.selItems[a]);n.push(t)}else this.$set(this.selItems,a,[t])}),(0,o.default)(r,"showSelIcon",function(e,t){return this.selItems[e.transCode]&&this.selItems[e.transCode].length&&-1!==this.selItems[e.transCode].findIndex(function(e){return e===t})}),(0,o.default)(r,"checkAll",function(){if(this.checkList.length===this.consumableList.length)return void(this.selItems={});var e={};for(var t in this.orderList)this.orderList[t].foeEach(function(t,a){e[t.transCode]||(e[t.transCode]=[]),e[t.transCode].push(a)});this.selItems=e}),(0,o.default)(r,"deleteCheckd",function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){for(var t in e.selItems){var a;!function(t){a=e.selItems[t].map(function(e,t){return e-t}),a.forEach(function(a,n){e.orderList[t].splice(a,1),e.orderList[t].length||delete e.orderList[t]})}(t)}e.selItems={},e.matterModifyClass=!1}})}),(0,o.default)(r,"addMatter",function(){this.showMaterielPop=!this.showMaterielPop}),(0,o.default)(r,"submitOrder",function(){var e=this,t="",a=[],n=(this.isSubmitOk,this.dealerInfo),r=this.dealerConfig;if(!(t=this.verifyData(r,n))){var i=(0,f.default)(this.submitMatterField,1),s=i[0],d=void 0===s?{}:s;(0,l.default)(this.orderList).length||(t="请选择"+d.text);var c=!0,h=!1,v=void 0;try{for(var C,_=(0,y.default)((0,p.default)(this.orderList));!(c=(C=_.next()).done);c=!0){var g=C.value,b=!0,w=!1,I=void 0;try{for(var D,x=(0,y.default)(g);!(b=(D=x.next()).done);b=!0){var P=D.value,S={},k=!0,L=!1,N=void 0;try{for(var M,T=(0,y.default)(this.submitMatterField);!(k=(M=T.next()).done);k=!0){var O=M.value,R=P[O.fieldCode]||P[O.displayField]||P[O.showFieldCode];if(O.text){if(!O.hidden&&!O.allowBlank&&!R&&void 0!==R){t=O.text+"不为空";break}S[O.fieldCode]=void 0!==R?R:""}}}catch(e){L=!0,N=e}finally{try{!k&&T.return&&T.return()}finally{if(L)throw N}}a.push(S)}}catch(e){w=!0,I=e}finally{try{!b&&x.return&&x.return()}finally{if(w)throw I}}}}catch(e){h=!0,v=e}finally{try{!c&&_.return&&_.return()}finally{if(h)throw v}}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=A.saveAndStartWf,n={},r=(0,o.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});n=(0,m.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",dealerCreditContactPersonName:e.contactInfo.dealerName||"",dealerCreditContactInformation:e.contactInfo.dealerMobilePhone||"",containerInWarehouseManager:null,inPut:{dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName||"供应商",crDealerPaymentTerm:e.dealerInfo.paymentTerm,daysOfAccount:e.dealerInfo.pamentDays,accountExpirationDate:e.dealerInfo.accountExpirationDate,containerCode:"",dataSet:a},outPut:{crDealerLabel:e.dealerInfo.dealerLabelName||"供应商",dataSet:[{fundName_cashOutCode:e.cashInfo.fundName||"",cashOutCode:e.cashInfo.fundCode||"",cashType_cashOutCode:e.cashInfo.fundType||"",thenAmntBalCopy1:e.cashInfo.amntBal||0,tdAmountCopy1:e.tdAmount}]}}),e.transCode&&(t=A.saveAndCommitTask,r={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,u.default)(n),wfPara:(0,u.default)(r)};e.transCode||delete i.biReferenceId,e.processCode.length||(t=A.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})}),(0,o.default)(r,"getFormData",function(){var e=this;return(0,M.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,s=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=s;var l=i.inPut,d=(i.dealerDebit,i.outPut),u=l.dataSet,c=void 0===u?[]:u,f={},h=!0,v=!1,p=void 0;try{for(var C,_=(0,y.default)(c);!(h=(C=_.next()).done);h=!0){var g=C.value;g=(0,m.default)({},g,{transCode:g.transMatchedCode,inventoryPic:g.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+g.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:g.inventoryName_transObjCode,inventoryCode:g.transObjCode,specification:g.specification_transObjCode,processing:g.tdProcessing,keepingDays:g.keepingDays_transObjCode,qtyed:g.thenLockQty,qtyBal:g.thenQtyBal,qty:g.thenTotalQtyBal}),e.getMoreUnit(g),f[g.transCode]||(f[g.transCode]=[]),f[g.transCode].push(g)}}catch(e){v=!0,p=e}finally{try{!h&&_.return&&_.return()}finally{if(v)throw p}}e.dealerInfo=(0,m.default)({},l,{creatorName:i.dealerCreditContactPersonName,dealerName:l.dealerName_dealerCodeCredit,dealerMobilePhone:i.dealerCreditContactInformation,dealerCode:l.dealerCodeCredit,dealerLabelName:l.crDealerLabel,province:l.province_dealerCodeCredit,city:l.city_dealerCodeCredit,county:l.county_dealerCodeCredit,address:l.address_dealerCodeCredit,paymentTerm:l.crDealerPaymentTerm,pamentDays:l.daysOfAccount,accountExpirationDate:l.accountExpirationDate||""});var b=!0,w=!1,I=void 0;try{for(var D,x=(0,y.default)(d.dataSet);!(b=(D=x.next()).done);b=!0){var P=D.value;e.cashInfo={fundName:P.fundName_cashOutCode,fundCode:P.cashOutCode,fundType:P.cashType_cashOutCode,amntBal:P.thenAmntBalCopy1}}}catch(e){w=!0,I=e}finally{try{!b&&x.return&&x.return()}finally{if(w)throw I}}e.contactInfo={dealerName:i.dealerCreditContactPersonName,dealerMobilePhone:i.dealerCreditContactInformation},e.handlerDefault={handler:i.handler,handlerName:i.handlerName,handlerUnit:i.handlerUnit,handlerUnitName:i.handlerUnitName,handlerRole:i.handlerRole,handlerRoleName:i.handlerRoleName},e.formData=(0,m.default)({},e.formData,e.handlerDefault,{creator:i.creator,biId:i.biId,biComment:i.biComment}),e.matterParams.data&&null!=e.matterParams.data.dealerCode&&(e.matterParams.data.dealerCode=e.dealerInfo.dealerCode),e.matterParams.data&&null!=e.matterParams.data.groupId&&(e.matterParams.data.groupId=e.formData.handlerUnit),e.biReferenceId=i.biReferenceId,e.orderList=f,e.$loading.hide()})}),(0,o.default)(r,"hasDraftData",function(){return!!this.consumableList.length&&(0,o.default)({},"DZYHPCGYSYZF_DATA",{matter:this.orderList,dealer:this.dealerInfo,formData:this.formData,contactInfo:this.contactInfo,cashInfo:this.cashInfo})}),(0,o.default)(r,"getRelationData",function(){var e=this,t=this.$route.query.uniqueId;return(0,M.getSOList)({formViewUniqueId:t,transCode:this.relationKey}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r;t.attachment;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var s=i.order,l=(i.dealerDebit,s.dataSet),d=void 0===l?[]:l;d=d.map(function(t){return(0,m.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,transCode:e.relationKey,qtyBal:t.tdQty,tdQty:""})}),e.dealerInfo={creatorName:i.dealerDebitContactPersonName,dealerMobilePhone:i.dealerDebitContactInformation,dealerCode:i.order.dealerDebit,dealerSubclass:i.order.drAccountSub,dealerName:i.order.dealerName_dealerDebit,province:i.order.province_dealerDebit,city:i.order.city_dealerDebit,county:i.order.county_dealerDebit,address:i.order.address_dealerDebit},e.orderList=(0,o.default)({},e.relationKey,d),e.$loading.hide()})}),(0,o.default)(r,"getMoreUnit",function(e){var t=e.inventoryCode;return(0,T.getObjInvMoreUnitByInvCode)(t).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;e.showDrop=!1,n.forEach(function(e){e.name=e.invSubUnitName,e.value=e.invSubUnitName}),e.moreUnitList=n})}),(0,o.default)(r,"moreUnitClick",function(e){e.showDrop=!e.showDrop}),(0,o.default)(r,"moreUnitSelected",function(e){this.consumables.assMeasureUnit=e.invSubUnitName,this.consumables.assistQty=e.invSubUnitMulti}),(0,o.default)(r,"selCash",function(e){this.cashInfo=e}),(0,o.default)(r,"assembleOrder",function(e){var t=this,a={};e.forEach(function(e){a[e.transCode]||(a[e.transCode]=[]),t.getMoreUnit(e),a[e.transCode].push(e)}),this.orderList=a}),r),created:function(){var e=sessionStorage.getItem("DZYHPCGYSYZF_DATA");if(e){var t=JSON.parse(e);this.orderList=t.matter,this.dealerInfo=t.dealer,this.formData=t.formData,this.contactInfo=t.contactInfo,this.cashInfo=t.cashInfo,this.matterParams.data&&null!=this.matterParams.data.dealerCode&&(this.matterParams.data.dealerCode=this.dealerInfo.dealerCode),this.matterParams.data&&null!=this.matterParams.data.groupId&&(this.matterParams.data.groupId=this.formData.handlerUnit),sessionStorage.removeItem("DZYHPCGYSYZF_DATA")}}}},Ci8m:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("3cXf"),s=n(o),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),h=n(f),m=a("kNGm"),v=(n(m),a("qE8w")),p=a("I3vJ"),C=a("1KNX"),y=n(C),_=a("7biW"),g=n(_);t.default={name:"PopMatterList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},getListMethod:{type:String,default:"getMatList"},params:{type:Object,default:function(){return{}}},processing:{type:String,default:"成品,商品,服务"},isShowCode:{type:Boolean,default:!0},isShowStock:{type:Boolean,default:!1},filterList:{type:Array,default:function(){return[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"}]}}},components:{Icon:c.default,Popup:h.default,RScroll:y.default,MSearch:g.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],matterList:[],limit:100,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterProperty:"",requestMethods:null}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}},params:{handler:function(){this.resetCondition(),this.requestMethods()},deep:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,d.default)(this.selItems)),this.$emit("input",!1),this.$event.$emit("shut-down-filter",!1)},findIndex:function(e,t){return e.findIndex(function(e){return e.orderCode?e.orderCode===t.orderCode&&e.inventoryCode===t.inventoryCode:e.transCode===t.transCode&&e.inventoryCode===t.inventoryCode})},showSelIcon:function(e){return-1!==this.findIndex(this.tmpItems,e)},selThis:function(e,t){if(this.isShowStock&&0===e.qtyStockBal)return void this.$vux.alert.show({content:"当前订单库存为0，请选择其他订单"});var a=this.tmpItems,n=this.findIndex(a,e);if(-1!==n)return void a.splice(n,1);a.push(e)},cfmMater:function(){this.showPop=!1,this.tmpItems.sort(function(e,t){return t.effectiveTime-e.effectiveTime}),this.selItems=[].concat((0,d.default)(this.tmpItems)),this.$emit("sel-matter",(0,s.default)(this.selItems))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getMatList:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getObjInventoryByProcessing)((0,i.default)({processing:this.processing,limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(e)},this.params)).then(this.dataHandler)},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,r=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=r,this.resetCondition(),this[this.getListMethod]()},delSelItem:function(e){var t=this.findIndex(this.selItems,e);-1!==t&&this.selItems.splice(t,1),this.tmpItems=[].concat((0,d.default)(this.selItems))},onPullingUp:function(){this.page++,this.requestMethods()},setDefaultValue:function(){this.tmpItems=[].concat((0,d.default)(this.defaultValue)),this.selItems=[].concat((0,d.default)(this.defaultValue))},getObjInventory:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getObjInventory)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(e)}).then(this.dataHandler)},getSumInvBalance:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getSumInvBalance)((0,i.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,calcRelCode:1406},this.params,{filter:(0,s.default)(e)})).then(this.dataHandler)},getInventory7501:function(){var e=[];this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}]));var t=this.$route.query.relationKey,a=void 0===t?"":t;return a&&(e=[{operator:"eq",value:a,property:"transCode"}]),(0,p.getInventory7501)((0,i.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit},this.params,{filter:(0,s.default)(e)})).then(this.dataHandler)},getInventory7502:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getInventory7502)((0,i.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit},this.params,{filter:(0,s.default)(e)})).then(this.dataHandler)},getCKTHCKList:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getCKTHCKList)((0,i.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit},this.params,{filter:(0,s.default)(e)})).then(this.dataHandler)},getPurchaseInNeeds:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getPurchaseInNeeds)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r;i.forEach(function(t){t.inventoryPic=t.inventoryPic?"/H_roleplay-si/ds/download?url="+t.inventoryPic+"&width=400&height=400":e.getDefaultImg(),t.inventoryCode=t.matCode,t.inventoryName=t.invName});var o=e.$route.query.relationKey;(void 0===o?"":o)&&(e.selItems=[].concat((0,d.default)(i)),e.$emit("sel-matter",(0,s.default)(e.selItems))),e.hasNext=n>(e.page-1)*e.limit+i.length,e.matterList=1===e.page?i:[].concat((0,d.default)(e.matterList),(0,d.default)(i)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},getKCPDList:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getKCPDList)((0,i.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit},this.params,{filter:(0,s.default)(e)})).then(this.dataHandler)},getLowValueConsumPurchaseOrder:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getLowValueConsumPurchaseOrder)((0,i.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit},this.params,{filter:(0,s.default)(e)})).then(this.dataHandler)},getLowPriceConsumableInWarehouse:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getLowPriceConsumableInWarehouse)((0,i.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit},this.params,{filter:(0,s.default)(e)})).then(this.dataHandler)},getProductPriceAllInventory:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getProductPriceAllInventory)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(e)}).then(this.dataHandler)},getSalesContract:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getSalesContract)((0,i.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(e)},this.params)).then(this.dataHandler)},getInventoryToProcessing:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getInventoryToProcessing)((0,i.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(e)},this.params)).then(this.dataHandler)},getSalesOrderNew:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getSalesOrderNew)((0,i.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(e)},this.params)).then(this.dataHandler)},getManyVATBilling:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,v.getManyVATBilling)((0,i.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(e)},this.params)).then(this.dataHandler)},getManyVATReceipt:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,v.getManyVATReceipt)((0,i.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(e)},this.params)).then(this.dataHandler)},getEtcPutInStorage:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getEtcPutInStorage)((0,i.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(e)},this.params)).then(this.dataHandler)},getBillingApplication:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,v.getBillingApplication)((0,i.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(e)},this.params)).then(this.dataHandler)},dataHandler:function(e){var t=this,a=e.dataCount,n=void 0===a?0:a,r=e.tableContent,i=void 0===r?[]:r;i.forEach(function(e){e.inventoryPic=e.inventoryPic?"/H_roleplay-si/ds/download?url="+e.inventoryPic+"&width=400&height=400":t.getDefaultImg()});var o=this.$route.query.relationKey;(void 0===o?"":o)&&(this.selItems=[].concat((0,d.default)(i)),this.$emit("sel-matter",(0,s.default)(this.selItems))),this.hasNext=n>(this.page-1)*this.limit+i.length,this.matterList=1===this.page?i:[].concat((0,d.default)(this.matterList),(0,d.default)(i)),this.$nextTick(function(){t.$refs.bScroll.finishPullUp()})},resetCondition:function(){this.matterList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)}},created:function(){this.setDefaultValue(),this.requestMethods=this[this.getListMethod],this.requestMethods()}}},Cnf0:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("3cXf"),s=n(o),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),h=a("AupE"),m=n(h),v=a("bFc7"),p=n(v),C=a("6WeX"),y=n(C),_=a("3NX5"),g=n(_);a("zWMP");t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"",contactInfo:{}}},components:{workFlow:m.default,RAction:f.default,contactPart:p.default,PriceTotal:y.default,MatterList:g.default},mixins:[u.default],methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(e.submitInfo=JSON.parse((0,s.default)(t)),!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=!0,r=!1,o=void 0;try{for(var l,d=(0,i.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;u.inventoryPic=u.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+u.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){r=!0,o=e}finally{try{!n&&d.return&&d.return()}finally{if(r)throw o}}e.matterList=t.formData.order.dataSet,e.orderInfo=t.formData,e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo={creatorName:a.dealerDebitContactPersonName,dealerName:a.dealerName_dealerDebit,dealerMobilePhone:t.dealerDebitContactInformation,dealerCode:a.dealerDebit,dealerLabelName:a.drDealerLabel,province:a.province_dealerDebit,city:a.city_dealerDebit,county:a.county_dealerDebit,address:a.address_dealerDebit,payment:a.drDealerPaymentTerm,logistics:t.drDealerLogisticsTerms}}}}},CoE1:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("ZLEe"),s=n(o),l=a("KH7x"),d=n(l),u=a("3cXf"),c=n(u),f=a("4YfN"),h=n(f),m=a("MgeX"),v=n(m),p=a("HzJ8"),C=n(p),y=a("PzEQ"),_=n(y),g=a("kNGm"),b=(n(g),a("0AQX")),w=a("HyXB"),I=a("bKg5"),D=n(I),x=a("VZtf"),P=n(x),S=a("y8YJ"),k=n(S),L=a("lsbD"),N=n(L),M=a("+WR7"),T=n(M),A=a("hLfv"),O=n(A),R=a("Q67R"),j=n(R),B=a("zWMP"),E=a("Qg39");t.default={components:{RNumber:P.default,XTextarea:_.default,OpButton:N.default,PopBaseinfo:T.default,PopDealerList:k.default,DealerOtherPart:O.default,ApplyMatterPart:j.default},data:function(){return{listId:"1d52d5ce-d05e-4987-a023-3f4dba68cad9",taxRate:.16,numMap:{},dealer:{},formData:{creator:"",modifer:"",biId:"",biComment:""},dealerInfo:{},contact:{},orderList:{},showMaterielPop:!1,showDealerPop:!1,filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"申请号",value:"transCode"}],consumables:{},modifyKey:null,modifyIndex:null,selItems:{}}},mixins:[D.default],computed:{consumableList:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var r,i=(0,C.default)((0,v.default)(this.orderList));!(t=(r=i.next()).done);t=!0){var o=r.value,s=!0,l=!1,d=void 0;try{for(var u,c=(0,C.default)(o);!(s=(u=c.next()).done);s=!0){var f=u.value;e.push(f)}}catch(e){l=!0,d=e}finally{try{!s&&c.return&&c.return()}finally{if(l)throw d}}}}catch(e){a=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(a)throw n}}return e},checkList:function(){return[].concat.apply([],(0,v.default)(this.selItems))}},watch:{consumables:{handler:function(e){this.simpleCalcMatter(e)},deep:!0},consumableList:{handler:function(e){var t=0,a=0,n=!0,r=!1,i=void 0;try{for(var o,s=(0,C.default)(e);!(n=(o=s.next()).done);n=!0){var l=o.value;this.simpleCalcMatter(l),t=(0,E.toFixed)((0,B.accAdd)(t,l.tdAmount)),a=(0,E.toFixed)((0,B.accAdd)(a,l.taxAmount))}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}this.tdAmount=t,this.taxAmount=a},deep:!0}},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],this.dealerInfo=(0,h.default)({},this.dealerInfo,{dealerName_dealerCodeCredit:this.dealerInfo.dealerName,daysOfAccount:this.dealerInfo.pamentDays,crDealerPaymentTerm:this.dealerInfo.paymentTerm})},selContact:function(e){this.formData.dealerCreditContactPersonName=e.dealerName,this.formData.dealerCreditContactInformation=e.dealerMobilePhone,this.contact=e},selMatter:function(e){var t=JSON.parse(e),a=JSON.parse((0,c.default)(this.orderList));t.forEach(function(e){var t=e.transCode?e.transCode:"noCode";e.tdQty=e.qtyBal||"",e.taxRate=.16,e.transCode?(a[t]||(a[t]=[]),a[t].push(e)):(a.noCode||(a.noCode=[]),a.noCode.push(e))}),this.orderList=a},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t)},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getMatterModify:function(e,t,a){this.consumables=JSON.parse((0,c.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},showDelete:function(){this.matterModifyClass=!this.matterModifyClass,this.selItems={}},delClick:function(e,t,a){if(this.selItems[a]){var n=this.selItems[a],r=n.findIndex(function(e){return e===t});if(-1!==r)return n.splice(r,1),void(n.length||delete this.selItems[a]);n.push(t)}else this.$set(this.selItems,a,[t])},showSelIcon:function(e,t){return this.selItems[e.transCode]&&this.selItems[e.transCode].length&&-1!==this.selItems[e.transCode].findIndex(function(e){return e===t})},checkAll:function(){if(this.checkList.length===this.consumableList.length)return void(this.selItems={});var e={};for(var t in this.orderList)this.orderList[t].foeEach(function(t,a){e[t.transCode]||(e[t.transCode]=[]),e[t.transCode].push(a)});this.selItems=e},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){for(var t in e.selItems){var a;!function(t){a=e.selItems[t].map(function(e,t){return e-t}),a.forEach(function(a,n){e.orderList[t].splice(a,1),e.orderList[t].length||delete e.orderList[t]})}(t)}e.selItems={},e.matterModifyClass=!1}})},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this,t="",a=[],n=(this.isSubmitOk,this.dealerInfo),r=this.dealerConfig;if(!(t=this.verifyData(r,n))){var o=(0,d.default)(this.submitMatterField,1),l=o[0],u=void 0===l?{}:l;(0,s.default)(this.orderList).length||(t="请选择"+u.text);var f=!0,m=!1,p=void 0;try{for(var y,_=(0,C.default)((0,v.default)(this.orderList));!(f=(y=_.next()).done);f=!0){var g=y.value,b=!0,I=!1,D=void 0;try{for(var x,P=(0,C.default)(g);!(b=(x=P.next()).done);b=!0){var S=x.value,k={},L=!0,N=!1,M=void 0;try{for(var T,A=(0,C.default)(this.submitMatterField);!(L=(T=A.next()).done);L=!0){var O=T.value,R=S[O.fieldCode]||S[O.displayField]||S[O.showFieldCode];if(!O.hidden&&!O.allowBlank&&!R&&void 0!==R){t=O.text+"不为空";break}k[O.fieldCode]=void 0!==R?R:""}}catch(e){N=!0,M=e}finally{try{!L&&A.return&&A.return()}finally{if(N)throw M}}a.push(k)}}catch(e){I=!0,D=e}finally{try{!b&&P.return&&P.return()}finally{if(I)throw D}}}}catch(e){m=!0,p=e}finally{try{!f&&_.return&&_.return()}finally{if(m)throw p}}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=w.saveAndStartWf,n=(0,i.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:e.biComment,formData:(0,c.default)((0,h.default)({},e.formData,e.dealer,{handlerEntity:e.entity.dealerName,inPut:{dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName||"",crDealerPaymentTerm:e.dealerInfo.crDealerPaymentTerm,daysOfAccount:e.dealerInfo.daysOfAccount,dataSet:a}})),wfPara:(0,c.default)(n)};e.isResubmit&&(t=w.saveAndCommitTask,r.biReferenceId=e.biReferenceId),e.processCode.length||(t=w.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,b.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId;var a=t.formData;e.attachment=t.attachment;var n={};a.inPut.dataSet.map(function(t){t=(0,h.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,qtyBal:t.thenQtyBal,transCode:t.transMatchedCode}),n[t.transCode]||(n[t.transCode]=[]),n[t.transCode].push(t),e.consumableList.push(t)}),e.orderList=n,e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,h.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),e.dealerInfo={dealerMobilePhone:a.dealerCreditContactInformation,dealerCode:a.inPut.dealerCodeCredit,dealerSubclass:a.inPut.drAccountSub,dealerName:a.inPut.dealerName_dealerCodeCredit,dealerLabelName:a.inPut.crDealerLabel,province:a.inPut.province_dealerCodeCredit,city:a.inPut.city_dealerCodeCredit,county:a.inPut.county_dealerCodeCredit,address:a.inPut.address_dealerCodeCredit,dealerCreditContactPersonName:a.dealerCreditContactPersonName,dealerCreditContactInformation:a.dealerCreditContactInformation,crDealerPaymentTerm:a.inPut.crDealerPaymentTerm,daysOfAccount:a.inPut.daysOfAccount,dealerName_dealerCodeCredit:a.inPut.dealerName_dealerCodeCredit},e.contact={dealerMobilePhone:a.dealerCreditContactInformation,dealerName:a.dealerCreditContactPersonName},e.$loading.hide()})},hasDraftData:function(){return!!this.consumableList.length&&(0,i.default)({},"DZYHPCGDD_DATA",{orderList:this.orderList,dealerInfo:this.dealerInfo,formData:this.formData,dealer:this.dealer,contact:this.contact})},getRelationData:function(){}},created:function(){var e=sessionStorage.getItem("DZYHPCGDD_DATA"),t=JSON.parse(e);if(e){this.orderList=t.orderList;var a=!0,n=!1,r=void 0;try{for(var i,o=(0,C.default)((0,v.default)(this.orderList));!(a=(i=o.next()).done);a=!0){var s=i.value,l=!0,d=!1,u=void 0;try{for(var c,f=(0,C.default)(s);!(l=(c=f.next()).done);l=!0){var h=c.value;this.consumableList.push(h)}}catch(e){d=!0,u=e}finally{try{!l&&f.return&&f.return()}finally{if(d)throw u}}}}catch(e){n=!0,r=e}finally{try{!a&&o.return&&o.return()}finally{if(n)throw r}}this.dealerInfo=t.dealerInfo,this.dealer=t.dealer,this.formData=t.formData,this.contact=t.contact,sessionStorage.removeItem("DZYHPCGDD_DATA")}}}},CpKl:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("IHPB"),s=n(o),l=a("3cXf"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),h=n(f),m=a("+62G"),v=n(m),p=a("6q39"),C=n(p),y=a("HyXB"),_=a("1KNX"),g=n(_),b=a("7biW"),w=n(b);t.default={name:"PopManagerList",props:{title:{type:String,default:"项目经理"},defaultValue:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1}},directives:{TransferDom:v.default},components:{Icon:c.default,Popup:h.default,RScroll:g.default,DSearch:w.default,LoadMore:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},computed:{tip:function(){var e="加载中";return this.hasNext||(e="暂无数据"),e}},watch:{defaultValue:function(e){this.setDefaultValue()}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this.getList()},showSelIcon:function(e){return this.selItems.dealerName===e.dealerName},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.$emit("sel-item",(0,d.default)(this.selItems))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,s.default)(t),[{operator:"like",value:this.srhInpTx,property:"dealerName"}])),(0,y.getObjDealerByLabelName)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,dealerLabelName:"员工",filter:(0,d.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+i.length,e.listData=1===e.page?i:[].concat((0,s.default)(e.listData),(0,s.default)(i)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.selItems=this.defaultValue?(0,i.default)({},this.defaultValue):{}},warehouseClick:function(){this.disabled||(this.showPop=!this.showPop)},addWarehouse:function(){this.$router.push({path:"/warehouse/edit_warehouse",query:{add:1}})}},created:function(){this.setDefaultValue(),this.disabled||this.getList()}}},CpUn:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{action:{type:Object,default:{}},goEdit:{type:Function,required:!0}}}},CrUP:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("a3Yh"),s=n(o),l=a("3cXf"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),h=n(f),m=a("SAzG"),v=n(m),p=a("7g+Q"),C=n(p),y=a("PzEQ"),_=n(y),g=a("jnZd"),b=n(g),w=a("u28h"),I=n(w),D=a("kNGm"),x=n(D),P=a("iR2W"),S=n(P),k=a("0AQX"),L=a("HyXB"),N=(a("jLp1"),a("bKg5")),M=n(N),T=a("wuIh"),A=n(T),O=a("CKaN"),R=n(O),j=a("vl8n"),B=n(j),E=a("+WR7"),F=n(E),U=(a("zWMP"),a("Qg39"));t.default={mixins:[M.default],components:{Cell:c.default,Group:h.default,Popup:C.default,XInput:v.default,XTextarea:_.default,PopupPicker:b.default,RPicker:B.default,PopBaseinfo:F.default,PopMoneyOrderList:A.default,Datetime:I.default,PopCashList:R.default},data:function(){return{listId:"bb9ce973-2f62-4707-a54c-7e8605dc99d6",biReferenceId:"",selectedCost:[],costIndex:0,transCode:"",formData:{biComment:"",biProcessStatus:""},showOrder:!1,orderList:[],cashInfo:{}}},filters:{numberComma:S.default,dateFormat:x.default},methods:{submitOrder:function(){var e=this,t="",a=[];if(t||this.orderList.length||(t="请选择汇票明细"),t||this.cashInfo.fundName||(t="请选择资金账户"),t||this.cashInfo.tdAmount||(t="请填写支付金额"),t)return void this.$vux.alert.show({content:t});this.orderList.every(function(e){a.push({tdId:e.tdId||null,draftNumber:e.draftNumber,draftType:e.draftType,accepter:e.accepter,tdAmount:e.tdAmount,deposit:e.deposit,draftDate:e.draftDate,draftDueDate:e.draftDueDate,comment:e.comment||""})}),this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=L.saveAndStartWf,n=(0,s.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,d.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:e.formData.biComment,formData:(0,d.default)((0,i.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",outPut:{dataSet:[{fundName_cashOutCode:e.cashInfo.fundName,cashOutCode:e.cashInfo.fundCode,cashType_cashOutCode:e.cashInfo.fundType,thenAmntBal:e.cashInfo.thenAmntBal,tdAmount:e.cashInfo.tdAmount}]},order:{dataSet:a}})),wfPara:(0,d.default)(n)};e.isResubmit&&(r.biReferenceId=e.biReferenceId,t=L.saveAndCommitTask),e.processCode.length||(t=L.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,k.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.attachment,n=void 0===a?[]:a,r=t.listId,o=void 0===r?"":r,s=(t.biComment,t.biReferenceId),l=void 0===s?"":s,d=t.formData,u=void 0===d?{}:d;e.attachment=n,e.listId=o,e.biReferenceId=l,e.handlerDefault={handler:u.handler,handlerName:u.handlerName,handlerUnit:u.handlerUnit,handlerUnitName:u.handlerUnitName,handlerRole:u.handlerRole,handlerRoleName:u.handlerRoleName},e.formData=(0,i.default)({},e.formData,e.handlerDefault,{biComment:u.biComment,biId:u.biId,biProcessStatus:u.biProcessStatus,creator:u.creator,modifer:u.modifer});var c=u.order,f=void 0===c?{}:c,h=u.outPut,m=void 0===h?{}:h,v=f.dataSet,p=void 0===v?[]:v;e.cashInfo={fundName:m.dataSet[0].fundName_cashOutCode,fundCode:m.dataSet[0].cashOutCode,fundType:m.dataSet[0].cashType_cashOutCode,thenAmntBal:m.dataSet[0].thenAmntBal,amntBal:m.dataSet[0].thenAmntBal,tdAmount:m.dataSet[0].tdAmount},e.orderList=p,e.$loading.hide()})},hasDraftData:function(){return!!this.orderList.dealerCode&&(0,s.default)({},"DFCDHP_DATA",{formData:this.formData,cashInfo:this.cashInfo,orderList:this.orderList})},getRelationData:function(){},selOrder:function(e){e.forEach(function(e){e.draftDate=(0,x.default)(e.draftDate,"YYYY-MM-DD"),e.draftDueDate=(0,x.default)(e.draftDueDate,"YYYY-MM-DD"),e.tdAmount=e.amntTbMatched}),this.orderList=e},addOrder:function(){this.showOrder=!0},selCash:function(e){this.cashInfo=(0,i.default)({},e,{thenAmntBal:e.amntBal})},checkAmt:function(e){var t=e.tdAmount,a=e.thenAmntBal;t&&(t>a&&(t=a),e.tdAmount=Math.abs((0,U.toFixed)(t)))}},created:function(){var e=sessionStorage.getItem("DFCDHP_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.cashInfo=t.cashInfo,this.orderList=t.orderList,sessionStorage.removeItem("DFCDHP_DATA")}}}},Cs4O:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("a3Yh"),s=n(o),l=a("3cXf"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),h=n(f),m=a("SAzG"),v=n(m),p=a("7g+Q"),C=n(p),y=a("PzEQ"),_=n(y),g=a("jnZd"),b=n(g),w=a("0AQX"),I=a("HyXB"),D=(a("jLp1"),a("bKg5")),x=n(D),P=a("N2r1"),S=n(P),k=a("vl8n"),L=n(k),N=a("+WR7"),M=n(N),T=a("zWMP"),A=a("Qg39");t.default={mixins:[x.default],components:{Cell:c.default,Group:h.default,Popup:C.default,XInput:v.default,XTextarea:_.default,PopCostList:S.default,PopupPicker:b.default,RPicker:L.default,PopBaseinfo:M.default},data:function(){return{listId:"18800986-a50f-11e8-96a5-005056a136d0",biComment:"",biReferenceId:"",showCostPop:!1,CostList:[{exptName:"",expCode:"",expSubject:"",costType_expCode:"",tdInvoiceType:["普票"],tdAmount:"",noTaxAmount:"",taxRate:.16,taxAmount:"",expCause:""}],invoiceTypeList:[["普票","专票"]],selectedCost:[],costIndex:0,transCode:"",formData:{biComment:"",biProcessStatus:""}}},computed:{totalAmount:function(){var e=0;return this.CostList.forEach(function(t){t.tdAmount&&(e=(0,T.accAdd)(e,t.tdAmount))}),e}},methods:{checkAmt:function(e){var t=e.tdAmount,a=e.taxRate;a&&(e.taxRate=Math.abs((0,A.toFixed)(a))),t&&(e.tdAmount=Math.abs((0,A.toFixed)(t)),e.noTaxAmount=Math.abs((0,A.toFixed)((0,T.accDiv)(e.tdAmount,1+e.taxRate))),e.taxAmount=(0,A.toFixed)((0,T.accSub)(e.tdAmount,e.noTaxAmount)))},getCost:function(e,t){this.showCostPop=!0,this.costIndex=e,this.selectedCost=[t]},addCost:function(){this.expSubjectList=[],this.CostList.push({exptName:"",expCode:"",expSubject:"",costType_expCode:"",tdInvoiceType:["普票"],tdAmount:"",noTaxAmount:"",taxRate:.16,taxAmount:"",expCause:""})},deleteCost:function(){this.CostList.pop()},selMatter:function(e){var t=e;this.CostList[this.costIndex].exptName=t.costName,this.CostList[this.costIndex].expCode=t.costCode,this.CostList[this.costIndex].expSubject=t.costSubject,this.CostList[this.costIndex].costType_expCode=t.costType},submitOrder:function(){var e=this,t="",a=[];if(this.CostList.every(function(e){return e.exptName?e.tdAmount?(a.push({tdId:e.tdId||"",expCode:e.expCode,expSubject:e.expSubject,costType_expCode:e.costType_expCode||"",tdInvoiceType:e.tdInvoiceType[0],tdAmount:e.tdAmount,noTaxAmount:e.noTaxAmount,taxRate:e.taxRate,taxAmount:e.taxAmount,expCause:e.expCause}),!0):(t="请填写申请金额",!1):(t="请选择费用名称",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=I.saveAndStartWf,n=(0,s.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,d.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:"",formData:(0,d.default)((0,i.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{crDealerLabel:"员工",dealerCodeCredit:e.formData.userCode,departmentName:e.formData.handlerUnitName,dataSet:a}})),wfPara:(0,d.default)(n)};e.isResubmit&&(r.biReferenceId=e.biReferenceId,t=I.saveAndCommitTask),e.processCode.length||(t=I.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,w.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.attachment=t.attachment,e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.CostList=[];var a=t.formData;e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,i.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),a.order.dataSet.forEach(function(t){var a={exptName:t.costName_expCode,expCode:t.expCode,costType_expCode:t.costType_expCode,expSubject:t.expSubject,tdAmount:t.tdAmount,noTaxAmount:t.noTaxAmount,taxRate:t.taxRate,taxAmount:t.taxAmount,expCause:t.expCause,tdId:t.tdId};e.CostList.push(a)}),e.$loading.hide()})},hasDraftData:function(){var e=!1;return this.CostList.forEach(function(t){if(t.exptName)return e=!0,!1}),!!e&&(0,s.default)({},"FYBX_DATA",{cost:this.CostList,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("FYBX_DATA");if(e){var t=JSON.parse(e);this.CostList=t.cost,this.formData=t.formData,sessionStorage.removeItem("FYBX_DATA")}}}},CxQM:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("3cXf"),s=n(o),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),h=n(f),m=a("SAzG"),v=n(m),p=a("7g+Q"),C=n(p),y=a("PzEQ"),_=n(y),g=a("jnZd"),b=n(g),w=a("u28h"),I=n(w),D=a("kNGm"),x=n(D),P=a("0AQX"),S=a("HyXB"),k=(a("jLp1"),a("bKg5")),L=n(k),N=a("55ug"),M=n(N),T=a("wuIh"),A=n(T),O=a("vl8n"),R=n(O),j=a("+WR7"),B=n(j),E=a("zWMP"),F=a("Qg39"),U={draftNumber:"",draftType:"",accepter:"",tdAmount:"",draftDate:"",draftDueDate:"",comment:""};t.default={mixins:[L.default],components:{Cell:c.default,Group:h.default,Popup:C.default,XInput:v.default,XTextarea:_.default,PopupPicker:b.default,RPicker:R.default,PopBaseinfo:B.default,PopDealerList:M.default,PopMoneyOrderList:A.default,Datetime:I.default},data:function(){return{listId:"1745ffdd-1b6a-4fe5-9c5b-6e5394bd4faf",biReferenceId:"",selectedCost:[],costIndex:0,transCode:"",formData:{biComment:""},dealerInfo:{},showOrder:!1,orderList:[(0,d.default)({},U)],dealerParams:{dealerLabelName:"客户"},draftTypeList:["银行承兑","商业承兑"]}},computed:{thenTotalAmntBal:function(){var e=0;return this.orderList.forEach(function(t){t.tdAmount&&(e=(0,E.accAdd)(e,t.tdAmount))}),(0,F.toFixed)(e)}},methods:{submitOrder:function(){var e=this,t="",a=[],n=[{key:"draftNumber",message:"请输入汇票号"},{key:"draftType",message:"请选择类型"},{key:"accepter",message:"请输入承兑人"},{key:"tdAmount",message:"请输入金额"},{key:"draftDate",message:"请选择出票日"},{key:"draftDueDate",message:"请选择到期日"}];if(this.dealerInfo.dealerCode||(t="请选择往来"),t||this.orderList.every(function(e){return n.every(function(a){return e[a.key]||0===e[a.key]||(t=a.message),!t}),a.push({tdId:e.tdId||"",draftNumber:e.draftNumber,draftType:e.draftType,accepter:e.accepter,tdAmount:e.tdAmount,draftDate:e.draftDate,draftDueDate:e.draftDueDate,comment:e.comment}),!t}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=S.saveAndStartWf,n=(0,i.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,s.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:e.formData.biComment,formData:(0,s.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{dealerName_dealerCodeCredit:e.dealerInfo.dealerName,dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName,thenAmntBalCopy2:e.dealerInfo.amntBal,thenAlreadyAmnt:e.thenTotalAmntBal,dataSet:a}})),wfPara:(0,s.default)(n)};e.isResubmit&&(r.biReferenceId=e.biReferenceId,t=S.saveAndCommitTask),e.processCode.length||(t=S.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.attachment,n=void 0===a?[]:a,r=t.listId,i=void 0===r?"":r,o=(t.biComment,t.biReferenceId),s=void 0===o?"":o,l=t.formData,u=void 0===l?{}:l;e.attachment=n,e.listId=i,e.biReferenceId=s,e.handlerDefault={handler:u.handler,handlerName:u.handlerName,handlerUnit:u.handlerUnit,handlerUnitName:u.handlerUnitName,handlerRole:u.handlerRole,handlerRoleName:u.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:u.biComment,biId:u.biId,biProcessStatus:u.biProcessStatus,creator:u.creator,modifer:u.modifer});var c=u.order,f=void 0===c?{}:c,h=f.dataSet,m=void 0===h?[]:h;e.dealerInfo={dealerName:f.dealerName_dealerCodeCredit,dealerCode:f.dealerCodeCredit,dealerLabelName:f.crDealerLabel,amntBal:f.thenAmntBalCopy2,thenTotalAmntBal:f.thenAlreadyAmnt},e.orderList=m,e.$loading.hide()})},hasDraftData:function(){return!!this.dealerInfo.dealerCode&&(0,i.default)({},"SDCDHP_DATA",{formData:this.formData,dealerInfo:this.dealerInfo,orderList:this.orderList})},getRelationData:function(){},selDealer:function(e){this.dealerInfo=(0,d.default)({},e)},selOrder:function(e){e.forEach(function(e){e.draftDate=(0,x.default)(e.draftDate,"YYYY-MM-DD"),e.draftDueDate=(0,x.default)(e.draftDueDate,"YYYY-MM-DD")}),this.orderList=e},addOrder:function(){this.orderList.push((0,d.default)({},U))},deleteOrder:function(){this.orderList.pop()},checkAmt:function(e,t){switch(e){case"tdAmountCopy1":this.dealerInfo.tdAmountCopy1=(0,F.toFixed)(this.dealerInfo.tdAmountCopy1);break;default:e[t]=(0,F.toFixed)(e[t])}}},created:function(){var e=sessionStorage.getItem("SDCDHP_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.orderList=t.orderList,sessionStorage.removeItem("SDCDHP_DATA")}}}},"D+/a":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("ZLEe"),i=n(r),o=a("VZtf"),s=n(o),l=a("luHD"),d=n(l),u=a("9cRV"),c=n(u),f=a("SFXC"),h=n(f);t.default={name:"apply-matter-part",props:{checkAmtFn:{type:Function},actions:{type:Array,default:function(){return[]}},btnInfo:{type:Object,default:function(){return{}}},defaultValue:{type:Array,default:function(){return[]}},matterPopConfig:{type:Array,default:function(){return[]}},matterEditConfig:{type:Object,default:function(){return{}}},matterParams:{type:Object,default:function(){return{}}},chosenMatter:{type:Object,default:function(){return{}}},selConfirmFn:{type:Function,required:!0},filterList:{type:Array,default:function(){return[]}},addMatterFn:{type:Function,required:!0},stopOrderFn:{type:Function},selMatterFn:{type:Function,required:!0},showSelIconFn:{type:Function,required:!0},getMatterModifyFn:{type:Function,required:!0},delClickFn:{type:Function,required:!0},showDeleteFn:{type:Function,required:!0},matterList:{type:[Array,Object]},selItems:{type:Array,default:function(){return[]}},orderListTitle:{type:String,default:""},showMaterielPop:{type:Boolean,default:!1},showMatterPop:{type:Boolean,default:!1},matterModifyClass:{type:Boolean,default:!1},btnIsHide:{type:Boolean,default:!1},maxField:{type:String,default:"qtyBal"}},components:{RNumber:s.default,PopMatter:d.default,MatterItem:h.default,PopMatterList:c.default},computed:{listIsObj:function(){var e=this.matterList;return"[object Object]"===Object.prototype.toString.call(e)},isSubmitAgain:function(){return 1===this.btnInfo.isMyTask&&this.btnInfo.actions.includes("stop")}},watch:{showMaterielPop:function(e){this.showPop=e},showMatterPop:function(e){this.showModifyPop=e},matterList:{handler:function(e){"[object Object]"===Object.prototype.toString.call(e)?this.DataLength=(0,i.default)(e).length:this.DataLength=e.length},deep:!0,immediate:!0}},methods:{closePop:function(){this.$emit("input",!1)},closeModify:function(){this.$emit("show-down-modify-pop",!1)}},data:function(){return{DataLength:0,showPop:!1,showModifyPop:!1}}}},D4C5:function(e,t){},D8fo:function(e,t){},D90O:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2558,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"客户名称",value:"dealerName_dealerCodeCredit"}]}},mixins:[r.default],methods:{},created:function(){}}},D9b3:function(e,t,a){"use strict";function n(e){a("VQMr")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("TnC3");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("EzjB"),s=a.n(o),l=a("URNG"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-7b63efca",null);t.default=c.exports},DBVi:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listViewID:2366,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"往来名称",value:"dealerName_dealerDebit"},{name:"设备名称",value:"facilityName_facilityObjCode"}]}},mixins:[r.default],methods:{},created:function(){}}},DCfM:function(e,t){},DHup:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("rVsN"),i=n(r),o=a("4YfN"),s=n(o),l=a("vHT0"),d=n(l),u=a("Iu/6"),c=n(u),f=a("6q39"),h=n(f);t.default={name:"RScroll",components:{Spinner:c.default,LoadMore:h.default},props:{hasNext:{type:Boolean,default:!1},noData:{type:Boolean,default:!1},options:{type:Object,default:function(){return{}}}},data:function(){return{bScroll:null,hasRefresh:!1,refreshDone:!1,pullDownTop:-70}},computed:{tip:function(){var e="加载中";return this.hasNext||(e="暂无数据"),e}},methods:{_initScroll:function(){var e=this,t=(0,s.default)({click:!0,probeType:1},this.options);this.options.pullDownRefresh&&(this.hasRefresh=!0,t.pullDownRefresh={threshold:40,stop:70}),this.options.pullUpLoad&&(t.pullUpLoad={threshold:20}),this.$nextTick(function(){e.bScroll=new d.default(e.$refs.bScroll,t),e.bScroll.on("pullingUp",function(){e.hasNext&&e.$emit("on-pulling-up")}),e.bScroll.on("pullingDown",function(){e.disable(),e.refreshDone=!1,e.$emit("on-pulling-down")}),e.bScroll.on("scroll",function(t){var a=(t.x,t.y);a>0?e.pullDownTop=a>70?0:a-70:e.resetPullDown()})})},refresh:function(){this.bScroll&&this.bScroll.refresh()},enable:function(){this.bScroll&&this.bScroll.enable()},disable:function(){this.bScroll&&this.bScroll.disable()},finishPullDown:function(){var e=this;return new i.default(function(t){e.resetPullDown(),e.bScroll.finishPullDown(),e.enable(),e.refresh(),t()})},finishPullUp:function(){var e=this;return new i.default(function(t){e.bScroll.finishPullUp(),e.refresh(),t()})},scrollTo:function(e,t){this.bScroll&&this.bScroll.scrollTo(e,t,400)},resetPullDown:function(){-70!==this.pullDownTop&&(this.pullDownTop=-70)},destroy:function(){this.bScroll.destroy(),this.bScroll=null}},created:function(){this._initScroll()},beforeDestroy:function(){this.bScroll&&this.destroy()}}},DKKt:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages wgzjrk-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-warehouse-list",{attrs:{title:"在制仓库","default-value":e.warehouseOut,isRequired:"","get-list-method":"getWareHouseType",params:e.warehouseOutParams},on:{"sel-item":e.selWarehouseOut}}),e._v(" "),a("pop-warehouse-list",{attrs:{title:"入库仓库","default-value":e.warehouseIn,isRequired:"","get-list-method":"getWareHouseType",params:e.warehouseInParams},on:{"sel-item":e.selWarehouseIn}}),e._v(" "),a("div",{staticClass:"materiel_list"},[Object.keys(e.orderList).length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v("订单列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n,r){return a("div",{key:n,staticClass:"each_mater"},[t.length?a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v("加工订单号")]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]):e._e(),e._v(" "),e._l(t,function(r,i){return a("div",{key:i,class:{mater_delete:e.matterModifyClass}},[a("matter-item",{class:{"vux-1px-b":i<t.length-1},attrs:{item:r,"show-delete":e.matterModifyClass},on:{"on-modify":function(t){e.getMatterModify(r,i,n)}},nativeOn:{click:function(t){e.delClick(i,r,n)}},scopedSlots:e._u([{key:"info",fn:function(t){var r=t.item;return[a("div",{staticClass:"mater_more"},[a("span",[e._v("车间仓库存: "+e._s(r.qtyStock))]),e._v(" "),a("span",[e._v("待入库数量: "+e._s(r.qtyBal))])]),e._v(" "),a("div",{staticClass:"mater_more"},[a("span",[e._v("计划完工日期: "+e._s(r.shippingTime))])]),e._v(" "),a("div",{staticClass:"mater_more"},[a("span",[e._v("合格数: "+e._s(r.tdQty))]),e._v(" "),a("span",[e._v("不合格数: "+e._s(r.differenceNum))])]),e._v(" "),r.qualityQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"matter-remain"},[a("span",[e._v("本次质检: "+e._s(r.qualityQty))])]),e._v(" "),a("span",{staticClass:"check_bom",on:{click:function(t){e.checkBom(r,i,n)}}},[e._v("查看原料")])]):e._e()]}},{key:"edit",fn:function(t){var r=t.item;return[r.qualityQty||e.matterModifyClass?e._e():a("div",{staticClass:"mater_other"},[a("div",{staticClass:"edit-tips",on:{click:function(t){e.getMatterModify(r,i,n)}}},[e._v("点击进行填写")]),e._v(" "),a("span",{staticClass:"check_bom",on:{click:function(t){e.checkBom(r,i,n)}}},[e._v("查看原料")])])]}},{key:"editPart",fn:function(t){var r=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r.qualityQty&&!e.matterModifyClass,expression:"item.qualityQty && !matterModifyClass"}],staticClass:"edit-part vux-1px-l",on:{click:function(t){e.getMatterModify(r,i,n)}}},[a("span",{staticClass:"iconfont icon-bianji1"})])]}}])}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.matterModifyClass,expression:"matterModifyClass"}],staticClass:"delete_icon",on:{click:function(t){e.delClick(i,r,n)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(r),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(r),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])])],1)})],2)}),0)]:[a("div",{on:{click:function(t){e.showOrderPop=!e.showOrderPop}}},[a("div",{staticClass:"title"},[e._v("订单列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择订单")]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),Object.keys(e.orderList).length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多物料")])]):e._e(),e._v(" "),a("pop-order-xqtj-list",{ref:"order",attrs:{show:e.showOrderPop,params:e.orderParams,"default-value":e.orderList,"list-method":"getInProcessingStorage"},on:{"sel-matter":e.selOrder},scopedSlots:e._u([{key:"qtyBal",fn:function(t){var n=t.item;return[a("span",[e._v("待入库数量: "+e._s(n.qtyBal))])]}},{key:"qtyStock",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater-balance"},[e._v("车间仓库存: "+e._s(n.qtyStock))])]}}]),model:{value:e.showOrderPop,callback:function(t){e.showOrderPop=t},expression:"showOrderPop"}})],2),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.UniqueBom.length,expression:"UniqueBom.length"}],staticClass:"materiel_list"},[a("bom-list",{attrs:{boms:e.UniqueBom},scopedSlots:e._u([{key:"number",fn:function(t){var n=t.bom;return[a("div",{staticClass:"number-part"},[a("span",{staticClass:"main-number"},[e._v("领料需求: "+e._s(n.tdQty)+e._s(n.measureUnit))]),e._v(" "),a("span",{staticClass:"number-unit"},[e._v("Bom需求: "+e._s(n.demandQty))]),e._v(" "),a("span",{staticClass:"number-unit"},[e._v("待领料: "+e._s(n.thenQtyBalCopy1))]),e._v(" "),a("span",{staticClass:"number-unit"},[e._v("在库余额: "+e._s(n.thenTotalQtyStock))])])]}}])})],1),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,"is-show-amount":!1},on:{"sel-confirm":e.selConfirm},scopedSlots:e._u([{key:"qtyBal",fn:function(t){var n=t.modifyMatter;return[a("div",[a("span",[e._v("订单数量: "+e._s(n.productDemandQty))]),e._v(" "),a("span",[e._v("待检仓库存: "+e._s(n.qtyStock))]),e._v(" "),a("span",[e._v("待入库数量: "+e._s(n.qtyBal))])]),e._v(" "),a("div",[a("span",[e._v("制造费用: ￥"+e._s(e._f("numberComma")(n.skinFee)))]),e._v(" "),a("span",[e._v("工价: ￥"+e._s(e._f("numberComma")(n.wages)))])])]}},{key:"modify",fn:function(t){var n=t.modifyMatter;return[a("x-input",{attrs:{type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.qualityQty,callback:function(t){e.$set(n,"qualityQty",e._n(t))},expression:"modifyMatter.qualityQty"}},[a("span",{staticClass:"required",attrs:{slot:"label"},slot:"label"},[e._v("本次质检")])]),e._v(" "),a("x-input",{attrs:{title:"合格数",type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",e._n(t))},expression:"modifyMatter.tdQty"}}),e._v(" "),a("cell",{attrs:{title:"不合格数",value:n.differenceNum}}),e._v(" "),a("datetime",{attrs:{title:"计划完工日期",placeholder:"请选择"},model:{value:n.shippingTime,callback:function(t){e.$set(n,"shippingTime",t)},expression:"modifyMatter.shippingTime"}})]}}]),model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("bom-pop",{ref:"bomPop",attrs:{show:e.bomPopShow,bomInfo:e.bom,"btn-is-hide":e.btnIsHide,"no-specific-loss":!0},scopedSlots:e._u([{key:"number",fn:function(t){var n=t.bom;return[a("div",{staticClass:"number-part"},[a("span",{staticClass:"main-number"},[e._v("领料需求: "+e._s(n.qualityQty)+e._s(n.measureUnit))])]),e._v(" "),a("div",{staticClass:"specific_loss"},[e._v("单位损耗率: "+e._s(n.specificLoss))])]}}]),model:{value:e.bomPopShow,callback:function(t){e.bomPopShow=t},expression:"bomPopShow"}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode"},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},DMIN:function(e,t){},DOKq:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2538}},mixins:[r.default]}},DQPj:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("4YfN"),s=n(o),l=a("KH7x"),d=n(l),u=a("3cXf"),c=n(u),f=a("0AQX"),h=a("+VRO"),m=n(h),v=a("BUFe"),p=n(v),C=a("AupE"),y=n(C),_=a("bFc7"),g=n(_),b=a("6WeX"),w=n(b),I=a("3NX5"),D=n(I),x=a("zWMP");a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"",contactInfo:{}}},components:{workFlow:y.default,RAction:p.default,contactPart:g.default,PriceTotal:w.default,MatterList:D.default},mixins:[m.default],methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,f.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(e.submitInfo=JSON.parse((0,c.default)(t)),!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.formData,n=void 0===a?{}:a,r=t.attachment,o=void 0===r?[]:r,l=n.order,u=void 0===l?{}:l,f=n.inPut,h=void 0===f?{}:f,m=u.dataSet,v=void 0===m?[]:m,p=h.dataSet,C=void 0===p?[]:p,y=(0,d.default)(C,1),_=y[0],g=void 0===_?{}:_,b=!0,w=!1,I=void 0;try{for(var D,P=(0,i.default)(v);!(b=(D=P.next()).done);b=!0){var S=D.value;e.count=(0,x.accAdd)(e.count,S.tdAmount),S.inventoryPic=S.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+S.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){w=!0,I=e}finally{try{!b&&P.return&&P.return()}finally{if(w)throw I}}e.contactInfo={creatorName:n.dealerDebitContactPersonName,dealerName:g.dealerName_dealerDebit,dealerMobilePhone:n.dealerDebitContactInformation,dealerContactPersonName:n.dealerDebitContactPersonName,dealerCode:g.dealerDebit,dealerLabelName:g.drDealerLabel,province:g.province_dealerDebit,city:g.city_dealerDebit,county:g.county_dealerDebit,address:g.address_dealerDebit},e.matterList=v,e.attachment=o,e.orderInfo=(0,s.default)({},n,u,g),e.workFlowInfoHandler()})},judgeDealerConfig:function(e){var t=this.orderInfo.drDealerPaymentTerm.includes("预收"),a=["prepaymentDueDate","tdAmountCopy1"];e.forEach(function(e){a.includes(e.fieldCode)&&(e.hiddenInRun=!t)})}},created:function(){}}},DRTX:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("0AQX"),s=a("+VRO"),l=n(s),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),h=a("89pA"),m=n(h),v=a("hPJo"),p=n(v),C=a("3NX5"),y=n(C);t.default={data:function(){return{orderInfo:{},warehouseIn:{},warehouseOut:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513"}},mixins:[l.default],components:{workFlow:f.default,PopWarehouseList:m.default,RAction:u.default,WarehouseContent:p.default,MatterList:y.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,o.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.formData,n=void 0===a?{}:a,r=t.attachment,o=void 0===r?[]:r,s=n.inPut,l=void 0===s?{}:s,d=l.dataSet,u=!0,c=!1,f=void 0;try{for(var h,m=(0,i.default)(d);!(u=(h=m.next()).done);u=!0){var v=h.value;v.inventoryPic=v.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+v.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){c=!0,f=e}finally{try{!u&&m.return&&m.return()}finally{if(c)throw f}}e.warehouseIn={warehouseCode:l.containerCode,warehouseName:""+l.warehouseName_containerCode,warehouseAction:"入库",warehouseIcon:"icon-ruku",warehouseType:l.warehouseType_containerCode,warehouseProvince:l.warehouseProvince_containerCode,warehouseCity:l.warehouseCity_containerCode,warehouseDistrict:l.warehouseDistrict_containerCode,warehouseAddress:l.warehouseAddress_containerCode},e.warehouseOut={warehouseCode:l.containerCodeOut,warehouseName:""+l.warehouseName_containerCodeOut,warehouseAction:"出库",warehouseIcon:"icon-chuku",warehouseType:l.warehouseType_containerCodeOut,warehouseProvince:l.warehouseProvince_containerCodeOut,warehouseCity:l.warehouseCity_containerCodeOut,warehouseDistrict:l.warehouseDistrict_containerCodeOut,warehouseAddress:l.warehouseAddress_containerCodeOut},e.attachment=o,e.matterList=l.dataSet,e.orderInfo=n,e.workFlowInfoHandler()})}},created:function(){}}},DSiR:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("lC5x"),i=n(r),o=a("J0Oq"),s=n(o),l=a("IHPB"),d=n(l),u=a("KH7x"),c=n(u),f=a("4YfN"),h=n(f),m=a("+26s"),v=n(m),p=a("kpbF"),C=a("Qg39"),y={page:1,limit:20,hasNext:!0,listData:[]};t.default={data:function(){return{uniqueId:1e3,showContent:!1,filterArr:[{operator:"like",value:"",property:"cashCode"}],listMap:{}}},computed:{currentItem:function(){var e=this.listView[this.activeIndex].view_id;return this.listMap[e]},currentScroll:function(){return this.$refs.bScroll[this.activeIndex]},tipsWord:function(){var e=this.view_id,t={view_48:"账户名称/编码/银行/余额",view_49:"应用名称/实例编码/往来名称/银行/",view_140:"应用名称/实例编码/往来编码/往来名称"};if(t.hasOwnProperty(e))return t[e]}},mixins:[v.default],methods:{resetCondition:function(){var e=this.listView[this.activeIndex].view_id;this.listMap[e]=(0,h.default)({},y),this.currentScroll.scrollTo(0,0),this.currentScroll.resetPullDown()},tabClick:function(e,t){if(t===this.activeIndex)return void this.currentScroll.scrollTo(0,0);this.activeIndex=t,this.activeTab=e.view_name,this.calc_rel_code=e.calc_rel_code,this.view_id=e.view_id,this.currentScroll.scrollTo(0,0),this.resetCondition(),this.listSwiper.slideTo(t)},getClassfiy:function(){var e=this;return(0,p.getListClassfiy)({account_code:this.uniqueId,device_type:"phone"}).then(function(t){var a=t.data,n=void 0===a?[]:a,r=(0,c.default)(n,1),i=r[0],o=void 0===i?{}:i,s={};n.forEach(function(e){s[e.view_id]=(0,h.default)({},y)}),e.listMap=s,e.listView=n,e.activeTab=o.view_name,e.calc_rel_code=o.calc_rel_code,e.view_id=o.view_id,e.$nextTick(function(){e.listSwiper.update()})})},getListData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.currentItem,r=n.page,i=n.limit;return(0,p.getViewList)({user_code:1,page:r,limit:i,view_scope:"data",device_type:"phone",view_id:this.view_id,filter:this.serachVal,calc_rel_code:this.calc_rel_code,start:(r-1)*i}).then(function(n){var o=n.data,s=void 0===o?[]:o,l=n.total,u=void 0===l?0:l,c={"交通银行":a("4TvN"),"建设银行":a("ptJ7"),"中国银行":a("ihcZ"),"招商银行":a("E3CK")};e.currentItem.hasNext=u>(r-1)*i+s.length,s.forEach(function(t){if(t.status=!1,t.cashInOrOut)switch(t.cashInOrOut){case"流入":t.flowIconClass="iconfont icon-shangjiantou",t.flowWordClass="cashIn";break;case"流出":t.flowIconClass="iconfont icon-xiajiantou-copy",t.flowWordClass="cashOut"}e.activeTab.includes("资金账户余额")?t.icon=c[t.bank]:e.activeTab.includes("现金流计划表")&&(t.appIcon="/dist/"+t.appIcon)}),e.listData=1===r?s:e.listData.concat(s),e.currentItem.listData=1===r?s:[].concat((0,d.default)(e.currentItem.listData),(0,d.default)(s)),t||e.$nextTick(function(){e.resetScroll()});var f="";t&&0===e.activeIndex&&e.total&&(f=u-e.total==0?"暂无新数据":f="新增"+(u-e.total)+"条数据",e.$vux.toast.show({text:f,position:"top",width:"50%",type:"text",time:700})),0===e.activeIndex&&1===r&&sessionStorage.setItem(e.applyCode,u),e.$loading.hide()}).catch(function(t){e.resetScroll()})},getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,s.default)(i.default.mark(function a(){return i.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.getView();case 2:return a.next=4,e.getListData(t);case 4:case"end":return a.stop()}},a,e)}))()},resetScroll:function(){this.currentScroll.finishPullDown(),this.currentScroll.finishPullUp()},onPullingUp:function(){this.currentItem.page++,this.getListData()},onPullingDown:function(){this.currentItem.page=1,this.getData(!0)},getData:function(e){var t=this;return(0,s.default)(i.default.mark(function a(){return i.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getSession();case 2:if(!e){a.next=6;break}return a.next=5,t.getList(!0).then(function(){t.$nextTick(function(){t.currentScroll.finishPullDown().then(function(){t.currentScroll.finishPullUp()})})});case 5:return a.abrupt("return");case 6:return a.next=8,t.getList();case 8:case"end":return a.stop()}},a,t)}))()},initSwiper:function(){var e=this;this.$nextTick(function(){e.listSwiper=new e.Swiper(".list-container",{touchAngle:30,on:{slideChangeTransitionStart:function(){var t=e.listSwiper.activeIndex,a=e.listView[t];e.activeIndex=t,e.activeTab=a.view_name,e.calc_rel_code=a.calc_rel_code,e.view_id=a.view_id,e.scrollToShow(t),e.currentItem.listData.length||(e.resetCondition(),e.getListData())}}})})},scrollToShow:function(e){var t=this.$refs.tabContainer,a=parseFloat(getComputedStyle(t).paddingLeft),n=this.$refs.tabs[e];t.scrollLeft=n.offsetLeft-a}},filters:{toFixed:C.toFixed},created:function(){this.initSwiper()}}},DT0P:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("kNGm"),i=(n(r),a("0AQX")),o=a("+VRO"),s=n(o);t.default={data:function(){return{userData:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},uploadStyle:{width:"100%",padding:"0.06rem 0.1rem"}}},mixins:[s.default],methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,i.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,s=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=s,e.userData=i,e.workFlowInfoHandler()})},goEdit:function(){var e=this.$route.params,t=e.folder,a=e.fileName,n=this.$route.query.name;this.$router.push({path:"/fillform/"+t+"/"+a,query:{name:n,transCode:this.transCode}})}}}},DTDx:function(e,t,a){"use strict";function n(e){a("5jdD")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("Zbco");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("P63M"),s=a.n(o),l=a("ihpu"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-e30b1f98",null);t.default=c.exports},DTET:function(e,t,a){"use strict";function n(e){a("G4pH")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("c7LW");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("aZSx"),s=a.n(o),l=a("43aq"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-a496ee82",null);t.default=c.exports},DXZE:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2586}},mixins:[r.default],methods:{},created:function(){}}},DZ7B:function(e,t){},DcGI:function(e,t,a){"use strict";function n(e){a("/EOL")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("AU3i");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("X9Vn"),s=a.n(o),l=a("T4oK"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-6d7bc246",null);t.default=c.exports},DfE5:function(e,t,a){"use strict";function n(e){a("5i8W")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("DRTX");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("zcWi"),s=a.n(o),l=a("x/Kz"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-c50ee0d2",null);t.default=c.exports},DfJM:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("vHT0"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{tabShow:!1,choicedTab:"",activeTabIndex:0,tabScroll:null,startY:0}},props:{tabVal:{type:Array,default:[]}},methods:{switchTab:function(e,t){this.choicedTab=e.view_name,this.activeTabIndex=t,this.tabShow=!1,this.$emit("tab-click",e,t)}},watch:{tabVal:{handler:function(e){e.length&&(this.choicedTab=e[0].view_name)}},tabShow:{handler:function(e){var t=this;e?(this.tabScroll.scrollTo(0,this.startY),this.$nextTick(function(){t.tabScroll.refresh()})):this.startY=this.tabScroll.y}}},created:function(){var e=this;this.tabVal.length&&(this.choicedTab=this.tabVal[0].view_name),this.$nextTick(function(){e.tabScroll=new r.default(e.$refs.tabItem,{click:!0})})}}},"DkQ+":function(e,t){},DkVH:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.BasicApps.length?a("div",{staticClass:"app-part"},[a("div",{staticClass:"app-container"},[e._m(0),e._v(" "),a("div",{staticClass:"app-list"},e._l(e.BasicApps,function(t,n){return a("div",{key:n,staticClass:"indval_app",on:{click:function(a){e.goBasic(t.listId)}}},[a("div",{staticClass:"app_img"},[a("img",{attrs:{src:t.icon},on:{error:function(a){e.getDefaultIcon(t)}}})]),e._v(" "),a("div",{staticClass:"app_info vux-1px-b"},[a("div",{staticClass:"app_name"},[e._v(e._s(t.text))]),e._v(" "),a("div",{staticClass:"app_detail_btn",on:{click:function(a){a.stopPropagation(),e.goAppDetail(t.listId)}}},[e._v("应用详情")])])])}),0)])]):e._e()},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app_classify_name"},[a("p",[e._v("基础对象")])])}],i={render:n,staticRenderFns:r};t.a=i},Dkzh:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNoticeByPraise=t.getNotice=t.getAllMsgList=t.getMsgList=void 0;var n=a("GOq4"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.getMsgList=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return r.default.ajax({url:"/H_roleplay-si/ds/getTasksListData"})},t.getAllMsgList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.ajax({url:"/H_roleplay-si/ds/getMyTasksAndLastNode",data:e})},t.getNotice=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.ajax({url:"/H_roleplay-si/ds/getNotice",data:e})},t.getNoticeByPraise=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.ajax({url:"/H_roleplay-si/mobile/getNoticeByPraise",data:e})}},DmCN:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r,i,o=a("IYkF"),s=n(o),l=a("8zml"),d=n(l),u=a("1Mrq"),c=n(u),f=a("ZLEe"),h=n(f),m=a("hRKE"),v=n(m);!function(n,o){"object"==(0,v.default)(t)&&void 0!==e?e.exports=o():(r=o,void 0!==(i="function"==typeof r?r.call(t,a,t,e):r)&&(e.exports=i))}(0,function(){function e(e,t){var a=[],o=0;if(e&&!t&&e instanceof i)return e;if(e)if("string"==typeof e){var s,l,d=e.trim();if(d.indexOf("<")>=0&&d.indexOf(">")>=0){var u="div";for(0===d.indexOf("<li")&&(u="ul"),0===d.indexOf("<tr")&&(u="tbody"),0!==d.indexOf("<td")&&0!==d.indexOf("<th")||(u="tr"),0===d.indexOf("<tbody")&&(u="table"),0===d.indexOf("<option")&&(u="select"),(l=n.createElement(u)).innerHTML=d,o=0;o<l.childNodes.length;o+=1)a.push(l.childNodes[o])}else for(s=t||"#"!==e[0]||e.match(/[ .<>:~]/)?(t||n).querySelectorAll(e.trim()):[n.getElementById(e.trim().split("#")[1])],o=0;o<s.length;o+=1)s[o]&&a.push(s[o])}else if(e.nodeType||e===r||e===n)a.push(e);else if(e.length>0&&e[0].nodeType)for(o=0;o<e.length;o+=1)a.push(e[o]);return new i(a)}function t(e){for(var t=[],a=0;a<e.length;a+=1)-1===t.indexOf(e[a])&&t.push(e[a]);return t}function a(){var e=this.params,t=this.el;if(!t||0!==t.offsetWidth){e.breakpoints&&this.setBreakpoint();var a=this.allowSlideNext,n=this.allowSlidePrev,r=this.snapGrid;if(this.allowSlideNext=!0,this.allowSlidePrev=!0,this.updateSize(),this.updateSlides(),e.freeMode){var i=Math.min(Math.max(this.translate,this.maxTranslate()),this.minTranslate());this.setTranslate(i),this.updateActiveIndex(),this.updateSlidesClasses(),e.autoHeight&&this.updateAutoHeight()}else this.updateSlidesClasses(),("auto"===e.slidesPerView||e.slidesPerView>1)&&this.isEnd&&!this.params.centeredSlides?this.slideTo(this.slides.length-1,0,!1,!0):this.slideTo(this.activeIndex,0,!1,!0);this.allowSlidePrev=n,this.allowSlideNext=a,this.params.watchOverflow&&r!==this.snapGrid&&this.checkOverflow()}}var n="undefined"==typeof document?{body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},location:{hash:""}}:document,r="undefined"==typeof window?{document:n,navigator:{userAgent:""},location:{},history:{},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){}}:window,i=function(e){for(var t=0;t<e.length;t+=1)this[t]=e[t];return this.length=e.length,this};e.fn=i.prototype,e.Class=i,e.Dom7=i;var o={addClass:function(e){if(void 0===e)return this;for(var t=e.split(" "),a=0;a<t.length;a+=1)for(var n=0;n<this.length;n+=1)void 0!==this[n].classList&&this[n].classList.add(t[a]);return this},removeClass:function(e){for(var t=e.split(" "),a=0;a<t.length;a+=1)for(var n=0;n<this.length;n+=1)void 0!==this[n].classList&&this[n].classList.remove(t[a]);return this},hasClass:function(e){return!!this[0]&&this[0].classList.contains(e)},toggleClass:function(e){for(var t=e.split(" "),a=0;a<t.length;a+=1)for(var n=0;n<this.length;n+=1)void 0!==this[n].classList&&this[n].classList.toggle(t[a]);return this},attr:function(e,t){var a=arguments;if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var n=0;n<this.length;n+=1)if(2===a.length)this[n].setAttribute(e,t);else for(var r in e)this[n][r]=e[r],this[n].setAttribute(r,e[r]);return this},removeAttr:function(e){for(var t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this},data:function(e,t){var a;if(void 0!==t){for(var n=0;n<this.length;n+=1)(a=this[n]).dom7ElementDataStorage||(a.dom7ElementDataStorage={}),a.dom7ElementDataStorage[e]=t;return this}if(a=this[0]){if(a.dom7ElementDataStorage&&e in a.dom7ElementDataStorage)return a.dom7ElementDataStorage[e];return a.getAttribute("data-"+e)||void 0}},transform:function(e){for(var t=0;t<this.length;t+=1){var a=this[t].style;a.webkitTransform=e,a.transform=e}return this},transition:function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t+=1){var a=this[t].style;a.webkitTransitionDuration=e,a.transitionDuration=e}return this},on:function(){function t(t){var a=t.target;if(a){var n=t.target.dom7EventData||[];if(n.unshift(t),e(a).is(s))l.apply(a,n);else for(var r=e(a).parents(),i=0;i<r.length;i+=1)e(r[i]).is(s)&&l.apply(r[i],n)}}function a(e){var t=e&&e.target?e.target.dom7EventData||[]:[];t.unshift(e),l.apply(this,t)}for(var n,r=[],i=arguments.length;i--;)r[i]=arguments[i];var o=r[0],s=r[1],l=r[2],d=r[3];"function"==typeof r[1]&&(o=(n=r)[0],l=n[1],d=n[2],s=void 0),d||(d=!1);for(var u,c=o.split(" "),f=0;f<this.length;f+=1){var h=this[f];if(s)for(u=0;u<c.length;u+=1)h.dom7LiveListeners||(h.dom7LiveListeners=[]),h.dom7LiveListeners.push({type:o,listener:l,proxyListener:t}),h.addEventListener(c[u],t,d);else for(u=0;u<c.length;u+=1)h.dom7Listeners||(h.dom7Listeners=[]),h.dom7Listeners.push({type:o,listener:l,proxyListener:a}),h.addEventListener(c[u],a,d)}return this},off:function(){for(var e,t=[],a=arguments.length;a--;)t[a]=arguments[a];var n=t[0],r=t[1],i=t[2],o=t[3];"function"==typeof t[1]&&(n=(e=t)[0],i=e[1],o=e[2],r=void 0),o||(o=!1);for(var s=n.split(" "),l=0;l<s.length;l+=1)for(var d=0;d<this.length;d+=1){var u=this[d];if(r){if(u.dom7LiveListeners)for(var c=0;c<u.dom7LiveListeners.length;c+=1)i?u.dom7LiveListeners[c].listener===i&&u.removeEventListener(s[l],u.dom7LiveListeners[c].proxyListener,o):u.dom7LiveListeners[c].type===s[l]&&u.removeEventListener(s[l],u.dom7LiveListeners[c].proxyListener,o)}else if(u.dom7Listeners)for(var f=0;f<u.dom7Listeners.length;f+=1)i?u.dom7Listeners[f].listener===i&&u.removeEventListener(s[l],u.dom7Listeners[f].proxyListener,o):u.dom7Listeners[f].type===s[l]&&u.removeEventListener(s[l],u.dom7Listeners[f].proxyListener,o)}return this},trigger:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var a=e[0].split(" "),i=e[1],o=0;o<a.length;o+=1)for(var s=0;s<this.length;s+=1){var l=void 0;try{l=new r.CustomEvent(a[o],{detail:i,bubbles:!0,cancelable:!0})}catch(e){(l=n.createEvent("Event")).initEvent(a[o],!0,!0),l.detail=i}this[s].dom7EventData=e.filter(function(e,t){return t>0}),this[s].dispatchEvent(l),this[s].dom7EventData=[],delete this[s].dom7EventData}return this},transitionEnd:function(e){function t(i){if(i.target===this)for(e.call(this,i),a=0;a<n.length;a+=1)r.off(n[a],t)}var a,n=["webkitTransitionEnd","transitionend"],r=this;if(e)for(a=0;a<n.length;a+=1)r.on(n[a],t);return this},outerWidth:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue("margin-right"))+parseFloat(t.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetHeight+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},offset:function(){if(this.length>0){var e=this[0],t=e.getBoundingClientRect(),a=n.body,i=e.clientTop||a.clientTop||0,o=e.clientLeft||a.clientLeft||0,s=e===r?r.scrollY:e.scrollTop,l=e===r?r.scrollX:e.scrollLeft;return{top:t.top+s-i,left:t.left+l-o}}return null},css:function(e,t){var a;if(1===arguments.length){if("string"!=typeof e){for(a=0;a<this.length;a+=1)for(var n in e)this[a].style[n]=e[n];return this}if(this[0])return r.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(a=0;a<this.length;a+=1)this[a].style[e]=t;return this}return this},each:function(e){if(!e)return this;for(var t=0;t<this.length;t+=1)if(!1===e.call(this[t],t,this[t]))return this;return this},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:void 0;for(var t=0;t<this.length;t+=1)this[t].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t+=1)this[t].textContent=e;return this},is:function(t){var a,o,s=this[0];if(!s||void 0===t)return!1;if("string"==typeof t){if(s.matches)return s.matches(t);if(s.webkitMatchesSelector)return s.webkitMatchesSelector(t);if(s.msMatchesSelector)return s.msMatchesSelector(t);for(a=e(t),o=0;o<a.length;o+=1)if(a[o]===s)return!0;return!1}if(t===n)return s===n;if(t===r)return s===r;if(t.nodeType||t instanceof i){for(a=t.nodeType?[t]:t,o=0;o<a.length;o+=1)if(a[o]===s)return!0;return!1}return!1},index:function(){var e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}},eq:function(e){if(void 0===e)return this;var t,a=this.length;return new i(e>a-1?[]:e<0?(t=a+e)<0?[]:[this[t]]:[this[e]])},append:function(){for(var e,t=[],a=arguments.length;a--;)t[a]=arguments[a];for(var r=0;r<t.length;r+=1){e=t[r];for(var o=0;o<this.length;o+=1)if("string"==typeof e){var s=n.createElement("div");for(s.innerHTML=e;s.firstChild;)this[o].appendChild(s.firstChild)}else if(e instanceof i)for(var l=0;l<e.length;l+=1)this[o].appendChild(e[l]);else this[o].appendChild(e)}return this},prepend:function(e){var t,a;for(t=0;t<this.length;t+=1)if("string"==typeof e){var r=n.createElement("div");for(r.innerHTML=e,a=r.childNodes.length-1;a>=0;a-=1)this[t].insertBefore(r.childNodes[a],this[t].childNodes[0])}else if(e instanceof i)for(a=0;a<e.length;a+=1)this[t].insertBefore(e[a],this[t].childNodes[0]);else this[t].insertBefore(e,this[t].childNodes[0]);return this},next:function(t){return new i(this.length>0?t?this[0].nextElementSibling&&e(this[0].nextElementSibling).is(t)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(t){var a=[],n=this[0];if(!n)return new i([]);for(;n.nextElementSibling;){var r=n.nextElementSibling;t?e(r).is(t)&&a.push(r):a.push(r),n=r}return new i(a)},prev:function(t){if(this.length>0){var a=this[0];return new i(t?a.previousElementSibling&&e(a.previousElementSibling).is(t)?[a.previousElementSibling]:[]:a.previousElementSibling?[a.previousElementSibling]:[])}return new i([])},prevAll:function(t){var a=[],n=this[0];if(!n)return new i([]);for(;n.previousElementSibling;){var r=n.previousElementSibling;t?e(r).is(t)&&a.push(r):a.push(r),n=r}return new i(a)},parent:function(a){for(var n=[],r=0;r<this.length;r+=1)null!==this[r].parentNode&&(a?e(this[r].parentNode).is(a)&&n.push(this[r].parentNode):n.push(this[r].parentNode));return e(t(n))},parents:function(a){for(var n=[],r=0;r<this.length;r+=1)for(var i=this[r].parentNode;i;)a?e(i).is(a)&&n.push(i):n.push(i),i=i.parentNode;return e(t(n))},closest:function(e){var t=this;return void 0===e?new i([]):(t.is(e)||(t=t.parents(e).eq(0)),t)},find:function(e){for(var t=[],a=0;a<this.length;a+=1)for(var n=this[a].querySelectorAll(e),r=0;r<n.length;r+=1)t.push(n[r]);return new i(t)},children:function(a){for(var n=[],r=0;r<this.length;r+=1)for(var o=this[r].childNodes,s=0;s<o.length;s+=1)a?1===o[s].nodeType&&e(o[s]).is(a)&&n.push(o[s]):1===o[s].nodeType&&n.push(o[s]);return new i(t(n))},remove:function(){for(var e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},add:function(){for(var t=[],a=arguments.length;a--;)t[a]=arguments[a];var n,r;for(n=0;n<t.length;n+=1){var i=e(t[n]);for(r=0;r<i.length;r+=1)this[this.length]=i[r],this.length+=1}return this},styles:function(){return this[0]?r.getComputedStyle(this[0],null):{}}};(0,h.default)(o).forEach(function(t){e.fn[t]=o[t]});var l,u,f,m={deleteProps:function(e){var t=e;(0,h.default)(t).forEach(function(e){try{t[e]=null}catch(e){}try{delete t[e]}catch(e){}})},nextTick:function(e,t){return void 0===t&&(t=0),setTimeout(e,t)},now:function(){return Date.now()},getTranslate:function(e,t){var a,n,i;void 0===t&&(t="x");var o=r.getComputedStyle(e,null);return r.WebKitCSSMatrix?((n=o.transform||o.webkitTransform).split(",").length>6&&(n=n.split(", ").map(function(e){return e.replace(",",".")}).join(", ")),i=new r.WebKitCSSMatrix("none"===n?"":n)):a=(i=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===t&&(n=r.WebKitCSSMatrix?i.m41:16===a.length?parseFloat(a[12]):parseFloat(a[4])),"y"===t&&(n=r.WebKitCSSMatrix?i.m42:16===a.length?parseFloat(a[13]):parseFloat(a[5])),n||0},parseUrlQuery:function(e){var t,a,n,i,o={},s=e||r.location.href;if("string"==typeof s&&s.length)for(i=(a=(s=s.indexOf("?")>-1?s.replace(/\S*\?/,""):"").split("&").filter(function(e){return""!==e})).length,t=0;t<i;t+=1)n=a[t].replace(/#\S+/g,"").split("="),o[decodeURIComponent(n[0])]=void 0===n[1]?void 0:decodeURIComponent(n[1])||"";return o},isObject:function(e){return"object"==(void 0===e?"undefined":(0,v.default)(e))&&null!==e&&e.constructor&&e.constructor===Object},extend:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var a=Object(e[0]),n=1;n<e.length;n+=1){var r=e[n];if(void 0!==r&&null!==r)for(var i=(0,h.default)(Object(r)),o=0,s=i.length;o<s;o+=1){var l=i[o],d=(0,c.default)(r,l);void 0!==d&&d.enumerable&&(m.isObject(a[l])&&m.isObject(r[l])?m.extend(a[l],r[l]):!m.isObject(a[l])&&m.isObject(r[l])?(a[l]={},m.extend(a[l],r[l])):a[l]=r[l])}}return a}},p=(f=n.createElement("div"),{touch:r.Modernizr&&!0===r.Modernizr.touch||!!("ontouchstart"in r||r.DocumentTouch&&n instanceof r.DocumentTouch),pointerEvents:!(!r.navigator.pointerEnabled&&!r.PointerEvent),prefixedPointerEvents:!!r.navigator.msPointerEnabled,transition:"transition"in(u=f.style)||"webkitTransition"in u||"MozTransition"in u,transforms3d:r.Modernizr&&!0===r.Modernizr.csstransforms3d||"webkitPerspective"in(l=f.style)||"MozPerspective"in l||"OPerspective"in l||"MsPerspective"in l||"perspective"in l,flexbox:function(){for(var e=f.style,t="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),a=0;a<t.length;a+=1)if(t[a]in e)return!0;return!1}(),observer:"MutationObserver"in r||"WebkitMutationObserver"in r,passiveListener:function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});r.addEventListener("testPassiveListener",null,t)}catch(e){}return e}(),gestures:"ongesturestart"in r}),C=function(e){void 0===e&&(e={});var t=this;t.params=e,t.eventsListeners={},t.params&&t.params.on&&(0,h.default)(t.params.on).forEach(function(e){t.on(e,t.params.on[e])})},y={components:{configurable:!0}};C.prototype.on=function(e,t,a){var n=this;if("function"!=typeof t)return n;var r=a?"unshift":"push";return e.split(" ").forEach(function(e){n.eventsListeners[e]||(n.eventsListeners[e]=[]),n.eventsListeners[e][r](t)}),n},C.prototype.once=function(e,t,a){var n=this;return"function"!=typeof t?n:n.on(e,function a(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];t.apply(n,r),n.off(e,a)},a)},C.prototype.off=function(e,t){var a=this;return a.eventsListeners?(e.split(" ").forEach(function(e){void 0===t?a.eventsListeners[e]=[]:a.eventsListeners[e].forEach(function(n,r){n===t&&a.eventsListeners[e].splice(r,1)})}),a):a},C.prototype.emit=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a,n,r,i=this;return i.eventsListeners?("string"==typeof e[0]||Array.isArray(e[0])?(a=e[0],n=e.slice(1,e.length),r=i):(a=e[0].events,n=e[0].data,r=e[0].context||i),(Array.isArray(a)?a:a.split(" ")).forEach(function(e){if(i.eventsListeners&&i.eventsListeners[e]){var t=[];i.eventsListeners[e].forEach(function(e){t.push(e)}),t.forEach(function(e){e.apply(r,n)})}}),i):i},C.prototype.useModulesParams=function(e){var t=this;t.modules&&(0,h.default)(t.modules).forEach(function(a){var n=t.modules[a];n.params&&m.extend(e,n.params)})},C.prototype.useModules=function(e){void 0===e&&(e={});var t=this;t.modules&&(0,h.default)(t.modules).forEach(function(a){var n=t.modules[a],r=e[a]||{};n.instance&&(0,h.default)(n.instance).forEach(function(e){var a=n.instance[e];t[e]="function"==typeof a?a.bind(t):a}),n.on&&t.on&&(0,h.default)(n.on).forEach(function(e){t.on(e,n.on[e])}),n.create&&n.create.bind(t)(r)})},y.components.set=function(e){this.use&&this.use(e)},C.installModule=function(e){for(var t=[],a=arguments.length-1;a-- >0;)t[a]=arguments[a+1];var n=this;n.prototype.modules||(n.prototype.modules={});var r=e.name||(0,h.default)(n.prototype.modules).length+"_"+m.now();return n.prototype.modules[r]=e,e.proto&&(0,h.default)(e.proto).forEach(function(t){n.prototype[t]=e.proto[t]}),e.static&&(0,h.default)(e.static).forEach(function(t){n[t]=e.static[t]}),e.install&&e.install.apply(n,t),n},C.use=function(e){for(var t=[],a=arguments.length-1;a-- >0;)t[a]=arguments[a+1];var n=this;return Array.isArray(e)?(e.forEach(function(e){return n.installModule(e)}),n):n.installModule.apply(n,[e].concat(t))},(0,d.default)(C,y);var _={updateSize:function(){var e,t,a=this.$el;e=void 0!==this.params.width?this.params.width:a[0].clientWidth,t=void 0!==this.params.height?this.params.height:a[0].clientHeight,0===e&&this.isHorizontal()||0===t&&this.isVertical()||(e=e-parseInt(a.css("padding-left"),10)-parseInt(a.css("padding-right"),10),t=t-parseInt(a.css("padding-top"),10)-parseInt(a.css("padding-bottom"),10),m.extend(this,{width:e,height:t,size:this.isHorizontal()?e:t}))},updateSlides:function(){var e=this.params,t=this.$wrapperEl,a=this.size,n=this.rtlTranslate,i=this.wrongRTL,o=t.children("."+this.params.slideClass),s=this.virtual&&e.virtual.enabled?this.virtual.slides.length:o.length,l=[],d=[],u=[],c=e.slidesOffsetBefore;"function"==typeof c&&(c=e.slidesOffsetBefore.call(this));var f=e.slidesOffsetAfter;"function"==typeof f&&(f=e.slidesOffsetAfter.call(this));var h=s,v=this.snapGrid.length,C=this.snapGrid.length,y=e.spaceBetween,_=-c,g=0,b=0;if(void 0!==a){var w,I;"string"==typeof y&&y.indexOf("%")>=0&&(y=parseFloat(y.replace("%",""))/100*a),this.virtualSize=-y,n?o.css({marginLeft:"",marginTop:""}):o.css({marginRight:"",marginBottom:""}),e.slidesPerColumn>1&&(w=Math.floor(s/e.slidesPerColumn)===s/this.params.slidesPerColumn?s:Math.ceil(s/e.slidesPerColumn)*e.slidesPerColumn,"auto"!==e.slidesPerView&&"row"===e.slidesPerColumnFill&&(w=Math.max(w,e.slidesPerView*e.slidesPerColumn)));for(var D,x=e.slidesPerColumn,P=w/x,S=P-(e.slidesPerColumn*P-s),k=0;k<s;k+=1){I=0;var L=o.eq(k);if(e.slidesPerColumn>1){var N=void 0,M=void 0,T=void 0;"column"===e.slidesPerColumnFill?(T=k-(M=Math.floor(k/x))*x,(M>S||M===S&&T===x-1)&&(T+=1)>=x&&(T=0,M+=1),N=M+T*w/x,L.css({"-webkit-box-ordinal-group":N,"-moz-box-ordinal-group":N,"-ms-flex-order":N,"-webkit-order":N,order:N})):M=k-(T=Math.floor(k/P))*P,L.css("margin-"+(this.isHorizontal()?"top":"left"),0!==T&&e.spaceBetween&&e.spaceBetween+"px").attr("data-swiper-column",M).attr("data-swiper-row",T)}if("none"!==L.css("display")){if("auto"===e.slidesPerView){var A=r.getComputedStyle(L[0],null);I=this.isHorizontal()?L[0].getBoundingClientRect().width+parseFloat(A.getPropertyValue("margin-left"))+parseFloat(A.getPropertyValue("margin-right")):L[0].getBoundingClientRect().height+parseFloat(A.getPropertyValue("margin-top"))+parseFloat(A.getPropertyValue("margin-bottom")),e.roundLengths&&(I=Math.floor(I))}else I=(a-(e.slidesPerView-1)*y)/e.slidesPerView,e.roundLengths&&(I=Math.floor(I)),o[k]&&(this.isHorizontal()?o[k].style.width=I+"px":o[k].style.height=I+"px");o[k]&&(o[k].swiperSlideSize=I),u.push(I),e.centeredSlides?(_=_+I/2+g/2+y,0===g&&0!==k&&(_=_-a/2-y),0===k&&(_=_-a/2-y),Math.abs(_)<.001&&(_=0),b%e.slidesPerGroup==0&&l.push(_),d.push(_)):(b%e.slidesPerGroup==0&&l.push(_),d.push(_),_=_+I+y),this.virtualSize+=I+y,g=I,b+=1}}if(this.virtualSize=Math.max(this.virtualSize,a)+f,n&&i&&("slide"===e.effect||"coverflow"===e.effect)&&t.css({width:this.virtualSize+e.spaceBetween+"px"}),p.flexbox&&!e.setWrapperSize||(this.isHorizontal()?t.css({width:this.virtualSize+e.spaceBetween+"px"}):t.css({height:this.virtualSize+e.spaceBetween+"px"})),e.slidesPerColumn>1&&(this.virtualSize=(I+e.spaceBetween)*w,this.virtualSize=Math.ceil(this.virtualSize/e.slidesPerColumn)-e.spaceBetween,this.isHorizontal()?t.css({width:this.virtualSize+e.spaceBetween+"px"}):t.css({height:this.virtualSize+e.spaceBetween+"px"}),e.centeredSlides)){D=[];for(var O=0;O<l.length;O+=1)l[O]<this.virtualSize+l[0]&&D.push(l[O]);l=D}if(!e.centeredSlides){D=[];for(var R=0;R<l.length;R+=1)l[R]<=this.virtualSize-a&&D.push(l[R]);l=D,Math.floor(this.virtualSize-a)-Math.floor(l[l.length-1])>1&&l.push(this.virtualSize-a)}0===l.length&&(l=[0]),0!==e.spaceBetween&&(this.isHorizontal()?n?o.css({marginLeft:y+"px"}):o.css({marginRight:y+"px"}):o.css({marginBottom:y+"px"})),m.extend(this,{slides:o,snapGrid:l,slidesGrid:d,slidesSizesGrid:u}),s!==h&&this.emit("slidesLengthChange"),l.length!==v&&(this.params.watchOverflow&&this.checkOverflow(),this.emit("snapGridLengthChange")),d.length!==C&&this.emit("slidesGridLengthChange"),(e.watchSlidesProgress||e.watchSlidesVisibility)&&this.updateSlidesOffset()}},updateAutoHeight:function(e){var t,a=[],n=0;if("number"==typeof e?this.setTransition(e):!0===e&&this.setTransition(this.params.speed),"auto"!==this.params.slidesPerView&&this.params.slidesPerView>1)for(t=0;t<Math.ceil(this.params.slidesPerView);t+=1){var r=this.activeIndex+t;if(r>this.slides.length)break;a.push(this.slides.eq(r)[0])}else a.push(this.slides.eq(this.activeIndex)[0]);for(t=0;t<a.length;t+=1)if(void 0!==a[t]){var i=a[t].offsetHeight;n=i>n?i:n}n&&this.$wrapperEl.css("height",n+"px")},updateSlidesOffset:function(){for(var e=this.slides,t=0;t<e.length;t+=1)e[t].swiperSlideOffset=this.isHorizontal()?e[t].offsetLeft:e[t].offsetTop},updateSlidesProgress:function(e){void 0===e&&(e=this.translate||0);var t=this.params,a=this.slides,n=this.rtlTranslate;if(0!==a.length){void 0===a[0].swiperSlideOffset&&this.updateSlidesOffset();var r=-e;n&&(r=e),a.removeClass(t.slideVisibleClass);for(var i=0;i<a.length;i+=1){var o=a[i],s=(r+(t.centeredSlides?this.minTranslate():0)-o.swiperSlideOffset)/(o.swiperSlideSize+t.spaceBetween);if(t.watchSlidesVisibility){var l=-(r-o.swiperSlideOffset),d=l+this.slidesSizesGrid[i];(l>=0&&l<this.size||d>0&&d<=this.size||l<=0&&d>=this.size)&&a.eq(i).addClass(t.slideVisibleClass)}o.progress=n?-s:s}}},updateProgress:function(e){void 0===e&&(e=this.translate||0);var t=this.params,a=this.maxTranslate()-this.minTranslate(),n=this.progress,r=this.isBeginning,i=this.isEnd,o=r,s=i;0===a?(n=0,r=!0,i=!0):(r=(n=(e-this.minTranslate())/a)<=0,i=n>=1),m.extend(this,{progress:n,isBeginning:r,isEnd:i}),(t.watchSlidesProgress||t.watchSlidesVisibility)&&this.updateSlidesProgress(e),r&&!o&&this.emit("reachBeginning toEdge"),i&&!s&&this.emit("reachEnd toEdge"),(o&&!r||s&&!i)&&this.emit("fromEdge"),this.emit("progress",n)},updateSlidesClasses:function(){var e,t=this.slides,a=this.params,n=this.$wrapperEl,r=this.activeIndex,i=this.realIndex,o=this.virtual&&a.virtual.enabled;t.removeClass(a.slideActiveClass+" "+a.slideNextClass+" "+a.slidePrevClass+" "+a.slideDuplicateActiveClass+" "+a.slideDuplicateNextClass+" "+a.slideDuplicatePrevClass),(e=o?this.$wrapperEl.find("."+a.slideClass+'[data-swiper-slide-index="'+r+'"]'):t.eq(r)).addClass(a.slideActiveClass),a.loop&&(e.hasClass(a.slideDuplicateClass)?n.children("."+a.slideClass+":not(."+a.slideDuplicateClass+')[data-swiper-slide-index="'+i+'"]').addClass(a.slideDuplicateActiveClass):n.children("."+a.slideClass+"."+a.slideDuplicateClass+'[data-swiper-slide-index="'+i+'"]').addClass(a.slideDuplicateActiveClass));var s=e.nextAll("."+a.slideClass).eq(0).addClass(a.slideNextClass);a.loop&&0===s.length&&(s=t.eq(0)).addClass(a.slideNextClass);var l=e.prevAll("."+a.slideClass).eq(0).addClass(a.slidePrevClass);a.loop&&0===l.length&&(l=t.eq(-1)).addClass(a.slidePrevClass),a.loop&&(s.hasClass(a.slideDuplicateClass)?n.children("."+a.slideClass+":not(."+a.slideDuplicateClass+')[data-swiper-slide-index="'+s.attr("data-swiper-slide-index")+'"]').addClass(a.slideDuplicateNextClass):n.children("."+a.slideClass+"."+a.slideDuplicateClass+'[data-swiper-slide-index="'+s.attr("data-swiper-slide-index")+'"]').addClass(a.slideDuplicateNextClass),l.hasClass(a.slideDuplicateClass)?n.children("."+a.slideClass+":not(."+a.slideDuplicateClass+')[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(a.slideDuplicatePrevClass):n.children("."+a.slideClass+"."+a.slideDuplicateClass+'[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(a.slideDuplicatePrevClass))},updateActiveIndex:function(e){var t,a=this.rtlTranslate?this.translate:-this.translate,n=this.slidesGrid,r=this.snapGrid,i=this.params,o=this.activeIndex,s=this.realIndex,l=this.snapIndex,d=e;if(void 0===d){for(var u=0;u<n.length;u+=1)void 0!==n[u+1]?a>=n[u]&&a<n[u+1]-(n[u+1]-n[u])/2?d=u:a>=n[u]&&a<n[u+1]&&(d=u+1):a>=n[u]&&(d=u);i.normalizeSlideIndex&&(d<0||void 0===d)&&(d=0)}if((t=r.indexOf(a)>=0?r.indexOf(a):Math.floor(d/i.slidesPerGroup))>=r.length&&(t=r.length-1),d!==o){var c=parseInt(this.slides.eq(d).attr("data-swiper-slide-index")||d,10);m.extend(this,{snapIndex:t,realIndex:c,previousIndex:o,activeIndex:d}),this.emit("activeIndexChange"),this.emit("snapIndexChange"),s!==c&&this.emit("realIndexChange"),this.emit("slideChange")}else t!==l&&(this.snapIndex=t,this.emit("snapIndexChange"))},updateClickedSlide:function(t){var a=this.params,n=e(t.target).closest("."+a.slideClass)[0],r=!1;if(n)for(var i=0;i<this.slides.length;i+=1)this.slides[i]===n&&(r=!0);if(!n||!r)return this.clickedSlide=void 0,void(this.clickedIndex=void 0);this.clickedSlide=n,this.virtual&&this.params.virtual.enabled?this.clickedIndex=parseInt(e(n).attr("data-swiper-slide-index"),10):this.clickedIndex=e(n).index(),a.slideToClickedSlide&&void 0!==this.clickedIndex&&this.clickedIndex!==this.activeIndex&&this.slideToClickedSlide()}},g={getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");var t=this.params,a=this.rtlTranslate,n=this.translate,r=this.$wrapperEl;if(t.virtualTranslate)return a?-n:n;var i=m.getTranslate(r[0],e);return a&&(i=-i),i||0},setTranslate:function(e,t){var a=this.rtlTranslate,n=this.params,r=this.$wrapperEl,i=this.progress,o=0,s=0;this.isHorizontal()?o=a?-e:e:s=e,n.roundLengths&&(o=Math.floor(o),s=Math.floor(s)),n.virtualTranslate||(p.transforms3d?r.transform("translate3d("+o+"px, "+s+"px, 0px)"):r.transform("translate("+o+"px, "+s+"px)")),this.translate=this.isHorizontal()?o:s;var l=this.maxTranslate()-this.minTranslate();(0===l?0:(e-this.minTranslate())/l)!==i&&this.updateProgress(e),this.emit("setTranslate",this.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]}},b={setTransition:function(e,t){this.$wrapperEl.transition(e),this.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);var a=this.activeIndex,n=this.params,r=this.previousIndex;n.autoHeight&&this.updateAutoHeight();var i=t;if(i||(i=a>r?"next":a<r?"prev":"reset"),this.emit("transitionStart"),e&&a!==r){if("reset"===i)return void this.emit("slideResetTransitionStart");this.emit("slideChangeTransitionStart"),"next"===i?this.emit("slideNextTransitionStart"):this.emit("slidePrevTransitionStart")}},transitionEnd:function(e,t){void 0===e&&(e=!0);var a=this.activeIndex,n=this.previousIndex;this.animating=!1,this.setTransition(0);var r=t;if(r||(r=a>n?"next":a<n?"prev":"reset"),this.emit("transitionEnd"),e&&a!==n){if("reset"===r)return void this.emit("slideResetTransitionEnd");this.emit("slideChangeTransitionEnd"),"next"===r?this.emit("slideNextTransitionEnd"):this.emit("slidePrevTransitionEnd")}}},w={slideTo:function(e,t,a,n){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===a&&(a=!0);var r=this,i=e;i<0&&(i=0);var o=r.params,s=r.snapGrid,l=r.slidesGrid,d=r.previousIndex,u=r.activeIndex,c=r.rtlTranslate,f=r.$wrapperEl;if(r.animating&&o.preventIntercationOnTransition)return!1;var h=Math.floor(i/o.slidesPerGroup);h>=s.length&&(h=s.length-1),(u||o.initialSlide||0)===(d||0)&&a&&r.emit("beforeSlideChangeStart");var m,v=-s[h];if(r.updateProgress(v),o.normalizeSlideIndex)for(var C=0;C<l.length;C+=1)-Math.floor(100*v)>=Math.floor(100*l[C])&&(i=C);if(r.initialized&&i!==u){if(!r.allowSlideNext&&v<r.translate&&v<r.minTranslate())return!1;if(!r.allowSlidePrev&&v>r.translate&&v>r.maxTranslate()&&(u||0)!==i)return!1}return m=i>u?"next":i<u?"prev":"reset",c&&-v===r.translate||!c&&v===r.translate?(r.updateActiveIndex(i),o.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),"slide"!==o.effect&&r.setTranslate(v),"reset"!==m&&(r.transitionStart(a,m),r.transitionEnd(a,m)),!1):(0!==t&&p.transition?(r.setTransition(t),r.setTranslate(v),r.updateActiveIndex(i),r.updateSlidesClasses(),r.emit("beforeTransitionStart",t,n),r.transitionStart(a,m),r.animating||(r.animating=!0,f.transitionEnd(function(){r&&!r.destroyed&&r.transitionEnd(a,m)}))):(r.setTransition(0),r.setTranslate(v),r.updateActiveIndex(i),r.updateSlidesClasses(),r.emit("beforeTransitionStart",t,n),r.transitionStart(a,m),r.transitionEnd(a,m)),!0)},slideToLoop:function(e,t,a,n){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===a&&(a=!0);var r=e;return this.params.loop&&(r+=this.loopedSlides),this.slideTo(r,t,a,n)},slideNext:function(e,t,a){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var n=this.params,r=this.animating;return n.loop?!r&&(this.loopFix(),this._clientLeft=this.$wrapperEl[0].clientLeft,this.slideTo(this.activeIndex+n.slidesPerGroup,e,t,a)):this.slideTo(this.activeIndex+n.slidesPerGroup,e,t,a)},slidePrev:function(e,t,a){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var n=this.params,r=this.animating,i=this.snapGrid,o=this.slidesGrid,s=this.rtlTranslate;if(n.loop){if(r)return!1;this.loopFix(),this._clientLeft=this.$wrapperEl[0].clientLeft}var l,d=s?this.translate:-this.translate,u=(i[i.indexOf(d)],i[i.indexOf(d)-1]);return u&&(l=o.indexOf(u))<0&&(l=this.activeIndex-1),this.slideTo(l,e,t,a)},slideReset:function(e,t,a){return void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),this.slideTo(this.activeIndex,e,t,a)},slideToClosest:function(e,t,a){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var n=this.activeIndex,r=Math.floor(n/this.params.slidesPerGroup);if(r<this.snapGrid.length-1){var i=this.rtlTranslate?this.translate:-this.translate,o=this.snapGrid[r];i-o>(this.snapGrid[r+1]-o)/2&&(n=this.params.slidesPerGroup)}return this.slideTo(n,e,t,a)},slideToClickedSlide:function(){var t,a=this,n=a.params,r=a.$wrapperEl,i="auto"===n.slidesPerView?a.slidesPerViewDynamic():n.slidesPerView,o=a.clickedIndex;if(n.loop){if(a.animating)return;t=parseInt(e(a.clickedSlide).attr("data-swiper-slide-index"),10),n.centeredSlides?o<a.loopedSlides-i/2||o>a.slides.length-a.loopedSlides+i/2?(a.loopFix(),o=r.children("."+n.slideClass+'[data-swiper-slide-index="'+t+'"]:not(.'+n.slideDuplicateClass+")").eq(0).index(),m.nextTick(function(){a.slideTo(o)})):a.slideTo(o):o>a.slides.length-i?(a.loopFix(),o=r.children("."+n.slideClass+'[data-swiper-slide-index="'+t+'"]:not(.'+n.slideDuplicateClass+")").eq(0).index(),m.nextTick(function(){a.slideTo(o)})):a.slideTo(o)}else a.slideTo(o)}},I={loopCreate:function(){var t=this,a=t.params,r=t.$wrapperEl;r.children("."+a.slideClass+"."+a.slideDuplicateClass).remove();var i=r.children("."+a.slideClass);if(a.loopFillGroupWithBlank){var o=a.slidesPerGroup-i.length%a.slidesPerGroup;if(o!==a.slidesPerGroup){for(var s=0;s<o;s+=1){var l=e(n.createElement("div")).addClass(a.slideClass+" "+a.slideBlankClass);r.append(l)}i=r.children("."+a.slideClass)}}"auto"!==a.slidesPerView||a.loopedSlides||(a.loopedSlides=i.length),t.loopedSlides=parseInt(a.loopedSlides||a.slidesPerView,10),t.loopedSlides+=a.loopAdditionalSlides,t.loopedSlides>i.length&&(t.loopedSlides=i.length);var d=[],u=[];i.each(function(a,n){var r=e(n);a<t.loopedSlides&&u.push(n),a<i.length&&a>=i.length-t.loopedSlides&&d.push(n),r.attr("data-swiper-slide-index",a)});for(var c=0;c<u.length;c+=1)r.append(e(u[c].cloneNode(!0)).addClass(a.slideDuplicateClass));for(var f=d.length-1;f>=0;f-=1)r.prepend(e(d[f].cloneNode(!0)).addClass(a.slideDuplicateClass))},loopFix:function(){var e,t=this.params,a=this.activeIndex,n=this.slides,r=this.loopedSlides,i=this.allowSlidePrev,o=this.allowSlideNext,s=this.snapGrid,l=this.rtlTranslate;this.allowSlidePrev=!0,this.allowSlideNext=!0;var d=-s[a]-this.getTranslate();a<r?(e=n.length-3*r+a,e+=r,this.slideTo(e,0,!1,!0)&&0!==d&&this.setTranslate((l?-this.translate:this.translate)-d)):("auto"===t.slidesPerView&&a>=2*r||a>n.length-2*t.slidesPerView)&&(e=-n.length+a+r,e+=r,this.slideTo(e,0,!1,!0)&&0!==d&&this.setTranslate((l?-this.translate:this.translate)-d)),this.allowSlidePrev=i,this.allowSlideNext=o},loopDestroy:function(){var e=this.$wrapperEl,t=this.params,a=this.slides;e.children("."+t.slideClass+"."+t.slideDuplicateClass).remove(),a.removeAttr("data-swiper-slide-index")}},D={setGrabCursor:function(e){if(!p.touch&&this.params.simulateTouch){var t=this.el;t.style.cursor="move",t.style.cursor=e?"-webkit-grabbing":"-webkit-grab",t.style.cursor=e?"-moz-grabbin":"-moz-grab",t.style.cursor=e?"grabbing":"grab"}},unsetGrabCursor:function(){p.touch||(this.el.style.cursor="")}},x={appendSlide:function(e){var t=this.$wrapperEl,a=this.params;if(a.loop&&this.loopDestroy(),"object"==(void 0===e?"undefined":(0,v.default)(e))&&"length"in e)for(var n=0;n<e.length;n+=1)e[n]&&t.append(e[n]);else t.append(e);a.loop&&this.loopCreate(),a.observer&&p.observer||this.update()},prependSlide:function(e){var t=this.params,a=this.$wrapperEl,n=this.activeIndex;t.loop&&this.loopDestroy();var r=n+1;if("object"==(void 0===e?"undefined":(0,v.default)(e))&&"length"in e){for(var i=0;i<e.length;i+=1)e[i]&&a.prepend(e[i]);r=n+e.length}else a.prepend(e);t.loop&&this.loopCreate(),t.observer&&p.observer||this.update(),this.slideTo(r,0,!1)},removeSlide:function(e){var t=this.params,a=this.$wrapperEl,n=this.activeIndex;t.loop&&(this.loopDestroy(),this.slides=a.children("."+t.slideClass));var r,i=n;if("object"==(void 0===e?"undefined":(0,v.default)(e))&&"length"in e){for(var o=0;o<e.length;o+=1)r=e[o],this.slides[r]&&this.slides.eq(r).remove(),r<i&&(i-=1);i=Math.max(i,0)}else r=e,this.slides[r]&&this.slides.eq(r).remove(),r<i&&(i-=1),i=Math.max(i,0);t.loop&&this.loopCreate(),t.observer&&p.observer||this.update(),t.loop?this.slideTo(i+this.loopedSlides,0,!1):this.slideTo(i,0,!1)},removeAllSlides:function(){for(var e=[],t=0;t<this.slides.length;t+=1)e.push(t);this.removeSlide(e)}},P=function(){var e=r.navigator.userAgent,t={ios:!1,android:!1,androidChrome:!1,desktop:!1,windows:!1,iphone:!1,ipod:!1,ipad:!1,cordova:r.cordova||r.phonegap,phonegap:r.cordova||r.phonegap},a=e.match(/(Windows Phone);?[\s\/]+([\d.]+)?/),i=e.match(/(Android);?[\s\/]+([\d.]+)?/),o=e.match(/(iPad).*OS\s([\d_]+)/),s=e.match(/(iPod)(.*OS\s([\d_]+))?/),l=!o&&e.match(/(iPhone\sOS|iOS)\s([\d_]+)/);if(a&&(t.os="windows",t.osVersion=a[2],t.windows=!0),i&&!a&&(t.os="android",t.osVersion=i[2],t.android=!0,t.androidChrome=e.toLowerCase().indexOf("chrome")>=0),(o||l||s)&&(t.os="ios",t.ios=!0),l&&!s&&(t.osVersion=l[2].replace(/_/g,"."),t.iphone=!0),o&&(t.osVersion=o[2].replace(/_/g,"."),t.ipad=!0),s&&(t.osVersion=s[3]?s[3].replace(/_/g,"."):null,t.iphone=!0),t.ios&&t.osVersion&&e.indexOf("Version/")>=0&&"10"===t.osVersion.split(".")[0]&&(t.osVersion=e.toLowerCase().split("version/")[1].split(" ")[0]),t.desktop=!(t.os||t.android||t.webView),t.webView=(l||o||s)&&e.match(/.*AppleWebKit(?!.*Safari)/i),t.os&&"ios"===t.os){var d=t.osVersion.split("."),u=n.querySelector('meta[name="viewport"]');t.minimalUi=!t.webView&&(s||l)&&(1*d[0]==7?1*d[1]>=1:1*d[0]>7)&&u&&u.getAttribute("content").indexOf("minimal-ui")>=0}return t.pixelRatio=r.devicePixelRatio||1,t}(),S={attachEvents:function(){var t=this.params,i=this.touchEvents,o=this.el,s=this.wrapperEl;this.onTouchStart=function(t){var a=this.touchEventsData,i=this.params,o=this.touches;if(!this.animating||!i.preventIntercationOnTransition){var s=t;if(s.originalEvent&&(s=s.originalEvent),a.isTouchEvent="touchstart"===s.type,(a.isTouchEvent||!("which"in s)||3!==s.which)&&(!a.isTouched||!a.isMoved))if(i.noSwiping&&e(s.target).closest(i.noSwipingSelector?i.noSwipingSelector:"."+i.noSwipingClass)[0])this.allowClick=!0;else if(!i.swipeHandler||e(s).closest(i.swipeHandler)[0]){o.currentX="touchstart"===s.type?s.targetTouches[0].pageX:s.pageX,o.currentY="touchstart"===s.type?s.targetTouches[0].pageY:s.pageY;var l=o.currentX,d=o.currentY;if(!(P.ios&&!P.cordova&&i.iOSEdgeSwipeDetection&&l<=i.iOSEdgeSwipeThreshold&&l>=r.screen.width-i.iOSEdgeSwipeThreshold)){if(m.extend(a,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=l,o.startY=d,a.touchStartTime=m.now(),this.allowClick=!0,this.updateSize(),this.swipeDirection=void 0,i.threshold>0&&(a.allowThresholdMove=!1),"touchstart"!==s.type){var u=!0;e(s.target).is(a.formElements)&&(u=!1),n.activeElement&&e(n.activeElement).is(a.formElements)&&n.activeElement!==s.target&&n.activeElement.blur(),u&&this.allowTouchMove&&s.preventDefault()}this.emit("touchStart",s)}}}}.bind(this),this.onTouchMove=function(t){var a=this.touchEventsData,r=this.params,i=this.touches,o=this.rtlTranslate,s=t;if(s.originalEvent&&(s=s.originalEvent),a.isTouched){if(!a.isTouchEvent||"mousemove"!==s.type){var l="touchmove"===s.type?s.targetTouches[0].pageX:s.pageX,d="touchmove"===s.type?s.targetTouches[0].pageY:s.pageY;if(s.preventedByNestedSwiper)return i.startX=l,void(i.startY=d);if(!this.allowTouchMove)return this.allowClick=!1,void(a.isTouched&&(m.extend(i,{startX:l,startY:d,currentX:l,currentY:d}),a.touchStartTime=m.now()));if(a.isTouchEvent&&r.touchReleaseOnEdges&&!r.loop)if(this.isVertical()){if(d<i.startY&&this.translate<=this.maxTranslate()||d>i.startY&&this.translate>=this.minTranslate())return a.isTouched=!1,void(a.isMoved=!1)}else if(l<i.startX&&this.translate<=this.maxTranslate()||l>i.startX&&this.translate>=this.minTranslate())return;if(a.isTouchEvent&&n.activeElement&&s.target===n.activeElement&&e(s.target).is(a.formElements))return a.isMoved=!0,void(this.allowClick=!1);if(a.allowTouchCallbacks&&this.emit("touchMove",s),!(s.targetTouches&&s.targetTouches.length>1)){i.currentX=l,i.currentY=d;var u,c=i.currentX-i.startX,f=i.currentY-i.startY;if(void 0===a.isScrolling&&(this.isHorizontal()&&i.currentY===i.startY||this.isVertical()&&i.currentX===i.startX?a.isScrolling=!1:c*c+f*f>=25&&(u=180*Math.atan2(Math.abs(f),Math.abs(c))/Math.PI,a.isScrolling=this.isHorizontal()?u>r.touchAngle:90-u>r.touchAngle)),a.isScrolling&&this.emit("touchMoveOpposite",s),"undefined"==typeof startMoving&&(i.currentX===i.startX&&i.currentY===i.startY||(a.startMoving=!0)),a.isScrolling)a.isTouched=!1;else if(a.startMoving){this.allowClick=!1,s.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&s.stopPropagation(),a.isMoved||(r.loop&&this.loopFix(),a.startTranslate=this.getTranslate(),this.setTransition(0),this.animating&&this.$wrapperEl.trigger("webkitTransitionEnd transitionend"),a.allowMomentumBounce=!1,!r.grabCursor||!0!==this.allowSlideNext&&!0!==this.allowSlidePrev||this.setGrabCursor(!0),this.emit("sliderFirstMove",s)),this.emit("sliderMove",s),a.isMoved=!0;var h=this.isHorizontal()?c:f;i.diff=h,h*=r.touchRatio,o&&(h=-h),this.swipeDirection=h>0?"prev":"next",a.currentTranslate=h+a.startTranslate;var v=!0,p=r.resistanceRatio;if(r.touchReleaseOnEdges&&(p=0),h>0&&a.currentTranslate>this.minTranslate()?(v=!1,r.resistance&&(a.currentTranslate=this.minTranslate()-1+Math.pow(-this.minTranslate()+a.startTranslate+h,p))):h<0&&a.currentTranslate<this.maxTranslate()&&(v=!1,r.resistance&&(a.currentTranslate=this.maxTranslate()+1-Math.pow(this.maxTranslate()-a.startTranslate-h,p))),v&&(s.preventedByNestedSwiper=!0),!this.allowSlideNext&&"next"===this.swipeDirection&&a.currentTranslate<a.startTranslate&&(a.currentTranslate=a.startTranslate),!this.allowSlidePrev&&"prev"===this.swipeDirection&&a.currentTranslate>a.startTranslate&&(a.currentTranslate=a.startTranslate),r.threshold>0){if(!(Math.abs(h)>r.threshold||a.allowThresholdMove))return void(a.currentTranslate=a.startTranslate);if(!a.allowThresholdMove)return a.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,a.currentTranslate=a.startTranslate,void(i.diff=this.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY)}r.followFinger&&((r.freeMode||r.watchSlidesProgress||r.watchSlidesVisibility)&&(this.updateActiveIndex(),this.updateSlidesClasses()),r.freeMode&&(0===a.velocities.length&&a.velocities.push({position:i[this.isHorizontal()?"startX":"startY"],time:a.touchStartTime}),a.velocities.push({position:i[this.isHorizontal()?"currentX":"currentY"],time:m.now()})),this.updateProgress(a.currentTranslate),this.setTranslate(a.currentTranslate))}}}}else a.startMoving&&a.isScrolling&&this.emit("touchMoveOpposite",s)}.bind(this),this.onTouchEnd=function(e){var t=this,a=t.touchEventsData,n=t.params,r=t.touches,i=t.rtlTranslate,o=t.$wrapperEl,s=t.slidesGrid,l=t.snapGrid,d=e;if(d.originalEvent&&(d=d.originalEvent),a.allowTouchCallbacks&&t.emit("touchEnd",d),a.allowTouchCallbacks=!1,!a.isTouched)return a.isMoved&&n.grabCursor&&t.setGrabCursor(!1),a.isMoved=!1,void(a.startMoving=!1);n.grabCursor&&a.isMoved&&a.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);var u,c=m.now(),f=c-a.touchStartTime;if(t.allowClick&&(t.updateClickedSlide(d),t.emit("tap",d),f<300&&c-a.lastClickTime>300&&(a.clickTimeout&&clearTimeout(a.clickTimeout),a.clickTimeout=m.nextTick(function(){t&&!t.destroyed&&t.emit("click",d)},300)),f<300&&c-a.lastClickTime<300&&(a.clickTimeout&&clearTimeout(a.clickTimeout),t.emit("doubleTap",d))),a.lastClickTime=m.now(),m.nextTick(function(){t.destroyed||(t.allowClick=!0)}),!a.isTouched||!a.isMoved||!t.swipeDirection||0===r.diff||a.currentTranslate===a.startTranslate)return a.isTouched=!1,a.isMoved=!1,void(a.startMoving=!1);if(a.isTouched=!1,a.isMoved=!1,a.startMoving=!1,u=n.followFinger?i?t.translate:-t.translate:-a.currentTranslate,n.freeMode){if(u<-t.minTranslate())return void t.slideTo(t.activeIndex);if(u>-t.maxTranslate())return void(t.slides.length<l.length?t.slideTo(l.length-1):t.slideTo(t.slides.length-1));if(n.freeModeMomentum){if(a.velocities.length>1){var h=a.velocities.pop(),v=a.velocities.pop(),p=h.position-v.position,C=h.time-v.time;t.velocity=p/C,t.velocity/=2,Math.abs(t.velocity)<n.freeModeMinimumVelocity&&(t.velocity=0),(C>150||m.now()-h.time>300)&&(t.velocity=0)}else t.velocity=0;t.velocity*=n.freeModeMomentumVelocityRatio,a.velocities.length=0;var y=1e3*n.freeModeMomentumRatio,_=t.velocity*y,g=t.translate+_;i&&(g=-g);var b,w,I=!1,D=20*Math.abs(t.velocity)*n.freeModeMomentumBounceRatio;if(g<t.maxTranslate())n.freeModeMomentumBounce?(g+t.maxTranslate()<-D&&(g=t.maxTranslate()-D),b=t.maxTranslate(),I=!0,a.allowMomentumBounce=!0):g=t.maxTranslate(),n.loop&&n.centeredSlides&&(w=!0);else if(g>t.minTranslate())n.freeModeMomentumBounce?(g-t.minTranslate()>D&&(g=t.minTranslate()+D),b=t.minTranslate(),I=!0,a.allowMomentumBounce=!0):g=t.minTranslate(),n.loop&&n.centeredSlides&&(w=!0);else if(n.freeModeSticky){for(var x,P=0;P<l.length;P+=1)if(l[P]>-g){x=P;break}g=-(g=Math.abs(l[x]-g)<Math.abs(l[x-1]-g)||"next"===t.swipeDirection?l[x]:l[x-1])}if(w&&t.once("transitionEnd",function(){t.loopFix()}),0!==t.velocity)y=i?Math.abs((-g-t.translate)/t.velocity):Math.abs((g-t.translate)/t.velocity);else if(n.freeModeSticky)return void t.slideToClosest();n.freeModeMomentumBounce&&I?(t.updateProgress(b),t.setTransition(y),t.setTranslate(g),t.transitionStart(!0,t.swipeDirection),t.animating=!0,o.transitionEnd(function(){t&&!t.destroyed&&a.allowMomentumBounce&&(t.emit("momentumBounce"),t.setTransition(n.speed),t.setTranslate(b),o.transitionEnd(function(){t&&!t.destroyed&&t.transitionEnd()}))})):t.velocity?(t.updateProgress(g),t.setTransition(y),t.setTranslate(g),t.transitionStart(!0,t.swipeDirection),t.animating||(t.animating=!0,o.transitionEnd(function(){t&&!t.destroyed&&t.transitionEnd()}))):t.updateProgress(g),t.updateActiveIndex(),t.updateSlidesClasses()}else if(n.freeModeSticky)return void t.slideToClosest();(!n.freeModeMomentum||f>=n.longSwipesMs)&&(t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses())}else{for(var S=0,k=t.slidesSizesGrid[0],L=0;L<s.length;L+=n.slidesPerGroup)void 0!==s[L+n.slidesPerGroup]?u>=s[L]&&u<s[L+n.slidesPerGroup]&&(S=L,k=s[L+n.slidesPerGroup]-s[L]):u>=s[L]&&(S=L,k=s[s.length-1]-s[s.length-2]);var N=(u-s[S])/k;if(f>n.longSwipesMs){if(!n.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(N>=n.longSwipesRatio?t.slideTo(S+n.slidesPerGroup):t.slideTo(S)),"prev"===t.swipeDirection&&(N>1-n.longSwipesRatio?t.slideTo(S+n.slidesPerGroup):t.slideTo(S))}else{if(!n.shortSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&t.slideTo(S+n.slidesPerGroup),"prev"===t.swipeDirection&&t.slideTo(S)}}}.bind(this),this.onClick=function(e){this.allowClick||(this.params.preventClicks&&e.preventDefault(),this.params.preventClicksPropagation&&this.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))}.bind(this);var l="container"===t.touchEventsTarget?o:s,d=!!t.nested;if(p.touch||!p.pointerEvents&&!p.prefixedPointerEvents){if(p.touch){var u=!("touchstart"!==i.start||!p.passiveListener||!t.passiveListeners)&&{passive:!0,capture:!1};l.addEventListener(i.start,this.onTouchStart,u),l.addEventListener(i.move,this.onTouchMove,p.passiveListener?{passive:!1,capture:d}:d),l.addEventListener(i.end,this.onTouchEnd,u)}(t.simulateTouch&&!P.ios&&!P.android||t.simulateTouch&&!p.touch&&P.ios)&&(l.addEventListener("mousedown",this.onTouchStart,!1),n.addEventListener("mousemove",this.onTouchMove,d),n.addEventListener("mouseup",this.onTouchEnd,!1))}else l.addEventListener(i.start,this.onTouchStart,!1),n.addEventListener(i.move,this.onTouchMove,d),n.addEventListener(i.end,this.onTouchEnd,!1);(t.preventClicks||t.preventClicksPropagation)&&l.addEventListener("click",this.onClick,!0),this.on("resize observerUpdate",a,!0)},detachEvents:function(){var e=this.params,t=this.touchEvents,r=this.el,i=this.wrapperEl,o="container"===e.touchEventsTarget?r:i,s=!!e.nested;if(p.touch||!p.pointerEvents&&!p.prefixedPointerEvents){if(p.touch){var l=!("onTouchStart"!==t.start||!p.passiveListener||!e.passiveListeners)&&{passive:!0,capture:!1};o.removeEventListener(t.start,this.onTouchStart,l),o.removeEventListener(t.move,this.onTouchMove,s),o.removeEventListener(t.end,this.onTouchEnd,l)}(e.simulateTouch&&!P.ios&&!P.android||e.simulateTouch&&!p.touch&&P.ios)&&(o.removeEventListener("mousedown",this.onTouchStart,!1),n.removeEventListener("mousemove",this.onTouchMove,s),n.removeEventListener("mouseup",this.onTouchEnd,!1))}else o.removeEventListener(t.start,this.onTouchStart,!1),n.removeEventListener(t.move,this.onTouchMove,s),n.removeEventListener(t.end,this.onTouchEnd,!1);(e.preventClicks||e.preventClicksPropagation)&&o.removeEventListener("click",this.onClick,!0),this.off("resize observerUpdate",a)}},k={setBreakpoint:function(){var e=this.activeIndex,t=this.loopedSlides;void 0===t&&(t=0);var a=this.params,n=a.breakpoints;if(n&&(!n||0!==(0,h.default)(n).length)){var r=this.getBreakpoint(n);if(r&&this.currentBreakpoint!==r){var i=r in n?n[r]:this.originalParams,o=a.loop&&i.slidesPerView!==a.slidesPerView;m.extend(this.params,i),m.extend(this,{allowTouchMove:this.params.allowTouchMove,allowSlideNext:this.params.allowSlideNext,allowSlidePrev:this.params.allowSlidePrev}),this.currentBreakpoint=r,o&&(this.loopDestroy(),this.loopCreate(),this.updateSlides(),this.slideTo(e-t+this.loopedSlides,0,!1)),this.emit("breakpoint",i)}}},getBreakpoint:function(e){if(e){var t=!1,a=[];(0,h.default)(e).forEach(function(e){a.push(e)}),a.sort(function(e,t){return parseInt(e,10)-parseInt(t,10)});for(var n=0;n<a.length;n+=1){var i=a[n];i>=r.innerWidth&&!t&&(t=i)}return t||"max"}}},L=function(){return{isIE:!!r.navigator.userAgent.match(/Trident/g)||!!r.navigator.userAgent.match(/MSIE/g),isSafari:(e=r.navigator.userAgent.toLowerCase(),e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(r.navigator.userAgent)};var e}(),N={init:!0,direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,preventIntercationOnTransition:!1,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,watchOverflow:!1,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!0,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0},M={update:_,translate:g,transition:b,slide:w,loop:I,grabCursor:D,manipulation:x,events:S,breakpoints:k,checkOverflow:{checkOverflow:function(){var e=this.isLocked;this.isLocked=1===this.snapGrid.length,this.allowSlideNext=!this.isLocked,this.allowSlidePrev=!this.isLocked,e!==this.isLocked&&this.emit(this.isLocked?"lock":"unlock"),e&&e!==this.isLocked&&(this.isEnd=!1,this.navigation.update())}},classes:{addClasses:function(){var e=this.classNames,t=this.params,a=this.rtl,n=this.$el,r=[];r.push(t.direction),t.freeMode&&r.push("free-mode"),p.flexbox||r.push("no-flexbox"),t.autoHeight&&r.push("autoheight"),a&&r.push("rtl"),t.slidesPerColumn>1&&r.push("multirow"),P.android&&r.push("android"),P.ios&&r.push("ios"),L.isIE&&(p.pointerEvents||p.prefixedPointerEvents)&&r.push("wp8-"+t.direction),r.forEach(function(a){e.push(t.containerModifierClass+a)}),n.addClass(e.join(" "))},removeClasses:function(){var e=this.$el,t=this.classNames;e.removeClass(t.join(" "))}},images:{loadImage:function(e,t,a,n,i,o){function s(){o&&o()}var l;e.complete&&i?s():t?((l=new r.Image).onload=s,l.onerror=s,n&&(l.sizes=n),a&&(l.srcset=a),t&&(l.src=t)):s()},preloadImages:function(){function e(){void 0!==t&&null!==t&&t&&!t.destroyed&&(void 0!==t.imagesLoaded&&(t.imagesLoaded+=1),t.imagesLoaded===t.imagesToLoad.length&&(t.params.updateOnImagesReady&&t.update(),t.emit("imagesReady")))}var t=this;t.imagesToLoad=t.$el.find("img");for(var a=0;a<t.imagesToLoad.length;a+=1){var n=t.imagesToLoad[a];t.loadImage(n,n.currentSrc||n.getAttribute("src"),n.srcset||n.getAttribute("srcset"),n.sizes||n.getAttribute("sizes"),!0,e)}}}},T={},A=function(t){function a(){for(var n,r,i,o=[],s=arguments.length;s--;)o[s]=arguments[s];1===o.length&&o[0].constructor&&o[0].constructor===Object?i=o[0]:(r=(n=o)[0],i=n[1]),i||(i={}),i=m.extend({},i),r&&!i.el&&(i.el=r),t.call(this,i),(0,h.default)(M).forEach(function(e){(0,h.default)(M[e]).forEach(function(t){a.prototype[t]||(a.prototype[t]=M[e][t])})});var l=this;void 0===l.modules&&(l.modules={}),(0,h.default)(l.modules).forEach(function(e){var t=l.modules[e];if(t.params){var a=(0,h.default)(t.params)[0],n=t.params[a];if("object"!=(void 0===n?"undefined":(0,v.default)(n)))return;if(!(a in i&&"enabled"in n))return;!0===i[a]&&(i[a]={enabled:!0}),"object"!=(0,v.default)(i[a])||"enabled"in i[a]||(i[a].enabled=!0),i[a]||(i[a]={enabled:!1})}});var d=m.extend({},N);l.useModulesParams(d),l.params=m.extend({},d,T,i),l.originalParams=m.extend({},l.params),l.passedParams=m.extend({},i),l.$=e;var u=e(l.params.el);if(r=u[0]){if(u.length>1){var c=[];return u.each(function(e,t){var n=m.extend({},i,{el:t});c.push(new a(n))}),c}r.swiper=l,u.data("swiper",l);var f,C,y=u.children("."+l.params.wrapperClass);return m.extend(l,{$el:u,el:r,$wrapperEl:y,wrapperEl:y[0],classNames:[],slides:e(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===l.params.direction},isVertical:function(){return"vertical"===l.params.direction},rtl:"rtl"===r.dir.toLowerCase()||"rtl"===u.css("direction"),rtlTranslate:"horizontal"===l.params.direction&&("rtl"===r.dir.toLowerCase()||"rtl"===u.css("direction")),wrongRTL:"-webkit-box"===y.css("display"),activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,progress:0,velocity:0,animating:!1,allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEvents:(f=["touchstart","touchmove","touchend"],C=["mousedown","mousemove","mouseup"],p.pointerEvents?C=["pointerdown","pointermove","pointerup"]:p.prefixedPointerEvents&&(C=["MSPointerDown","MSPointerMove","MSPointerUp"]),l.touchEventsTouch={start:f[0],move:f[1],end:f[2]},l.touchEventsDesktop={start:C[0],move:C[1],end:C[2]},p.touch||!l.params.simulateTouch?l.touchEventsTouch:l.touchEventsDesktop),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,formElements:"input, select, option, textarea, button, video",lastClickTime:m.now(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.useModules(),l.params.init&&l.init(),l}}t&&(a.__proto__=t),a.prototype=(0,s.default)(t&&t.prototype),a.prototype.constructor=a;var n={extendedDefaults:{configurable:!0},defaults:{configurable:!0},Class:{configurable:!0},$:{configurable:!0}};return a.prototype.slidesPerViewDynamic=function(){var e=this.params,t=this.slides,a=this.slidesGrid,n=this.size,r=this.activeIndex,i=1;if(e.centeredSlides){for(var o,s=t[r].swiperSlideSize,l=r+1;l<t.length;l+=1)t[l]&&!o&&(i+=1,(s+=t[l].swiperSlideSize)>n&&(o=!0));for(var d=r-1;d>=0;d-=1)t[d]&&!o&&(i+=1,(s+=t[d].swiperSlideSize)>n&&(o=!0))}else for(var u=r+1;u<t.length;u+=1)a[u]-a[r]<n&&(i+=1);return i},a.prototype.update=function(){function e(){var e=t.rtlTranslate?-1*t.translate:t.translate,a=Math.min(Math.max(e,t.maxTranslate()),t.minTranslate());t.setTranslate(a),t.updateActiveIndex(),t.updateSlidesClasses()}var t=this;if(t&&!t.destroyed){var a=t.snapGrid,n=t.params;n.breakpoints&&t.setBreakpoint(),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.params.freeMode?(e(),t.params.autoHeight&&t.updateAutoHeight()):(("auto"===t.params.slidesPerView||t.params.slidesPerView>1)&&t.isEnd&&!t.params.centeredSlides?t.slideTo(t.slides.length-1,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0))||e(),n.watchOverflow&&a!==t.snapGrid&&t.checkOverflow(),t.emit("update")}},a.prototype.init=function(){this.initialized||(this.emit("beforeInit"),this.params.breakpoints&&this.setBreakpoint(),this.addClasses(),this.params.loop&&this.loopCreate(),this.updateSize(),this.updateSlides(),this.params.watchOverflow&&this.checkOverflow(),this.params.grabCursor&&this.setGrabCursor(),this.params.preloadImages&&this.preloadImages(),this.params.loop?this.slideTo(this.params.initialSlide+this.loopedSlides,0,this.params.runCallbacksOnInit):this.slideTo(this.params.initialSlide,0,this.params.runCallbacksOnInit),this.attachEvents(),this.initialized=!0,this.emit("init"))},a.prototype.destroy=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);var a=this,n=a.params,r=a.$el,i=a.$wrapperEl,o=a.slides;a.emit("beforeDestroy"),a.initialized=!1,a.detachEvents(),n.loop&&a.loopDestroy(),t&&(a.removeClasses(),r.removeAttr("style"),i.removeAttr("style"),o&&o.length&&o.removeClass([n.slideVisibleClass,n.slideActiveClass,n.slideNextClass,n.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index").removeAttr("data-swiper-column").removeAttr("data-swiper-row")),a.emit("destroy"),(0,h.default)(a.eventsListeners).forEach(function(e){a.off(e)}),!1!==e&&(a.$el[0].swiper=null,a.$el.data("swiper",null),m.deleteProps(a)),a.destroyed=!0},a.extendDefaults=function(e){m.extend(T,e)},n.extendedDefaults.get=function(){return T},n.defaults.get=function(){return N},n.Class.get=function(){return t},n.$.get=function(){return e},(0,d.default)(a,n),a}(C),O={name:"device",proto:{device:P},static:{device:P}},R={name:"support",proto:{support:p},static:{support:p}},j={name:"browser",proto:{browser:L},static:{browser:L}},B={name:"resize",create:function(){var e=this;m.extend(e,{resize:{resizeHandler:function(){e&&!e.destroyed&&e.initialized&&(e.emit("beforeResize"),e.emit("resize"))},orientationChangeHandler:function(){e&&!e.destroyed&&e.initialized&&e.emit("orientationchange")}}})},on:{init:function(){r.addEventListener("resize",this.resize.resizeHandler),r.addEventListener("orientationchange",this.resize.orientationChangeHandler)},destroy:function(){r.removeEventListener("resize",this.resize.resizeHandler),r.removeEventListener("orientationchange",this.resize.orientationChangeHandler)}}},E={func:r.MutationObserver||r.WebkitMutationObserver,attach:function(e,t){void 0===t&&(t={});var a=this,n=new(0,E.func)(function(e){e.forEach(function(e){a.emit("observerUpdate",e)})});n.observe(e,{attributes:void 0===t.attributes||t.attributes,childList:void 0===t.childList||t.childList,characterData:void 0===t.characterData||t.characterData}),a.observer.observers.push(n)},init:function(){if(p.observer&&this.params.observer){if(this.params.observeParents)for(var e=this.$el.parents(),t=0;t<e.length;t+=1)this.observer.attach(e[t]);this.observer.attach(this.$el[0],{childList:!1}),this.observer.attach(this.$wrapperEl[0],{attributes:!1})}},destroy:function(){this.observer.observers.forEach(function(e){e.disconnect()}),this.observer.observers=[]}},F={name:"observer",params:{observer:!1,observeParents:!1},create:function(){m.extend(this,{observer:{init:E.init.bind(this),attach:E.attach.bind(this),destroy:E.destroy.bind(this),observers:[]}})},on:{init:function(){this.observer.init()},destroy:function(){this.observer.destroy()}}},U={update:function(e){function t(){a.updateSlides(),a.updateProgress(),a.updateSlidesClasses(),a.lazy&&a.params.lazy.enabled&&a.lazy.load()}var a=this,n=a.params,r=n.slidesPerView,i=n.slidesPerGroup,o=n.centeredSlides,s=a.virtual,l=s.from,d=s.to,u=s.slides,c=s.slidesGrid,f=s.renderSlide,h=s.offset;a.updateActiveIndex();var v,p,C,y=a.activeIndex||0;v=a.rtlTranslate?"right":a.isHorizontal()?"left":"top",o?(p=Math.floor(r/2)+i,C=Math.floor(r/2)+i):(p=r+(i-1),C=i);var _=Math.max((y||0)-C,0),g=Math.min((y||0)+p,u.length-1),b=(a.slidesGrid[_]||0)-(a.slidesGrid[0]||0);if(m.extend(a.virtual,{from:_,to:g,offset:b,slidesGrid:a.slidesGrid}),l===_&&d===g&&!e)return a.slidesGrid!==c&&b!==h&&a.slides.css(v,b+"px"),void a.updateProgress();if(a.params.virtual.renderExternal)return a.params.virtual.renderExternal.call(a,{offset:b,from:_,to:g,slides:function(){for(var e=[],t=_;t<=g;t+=1)e.push(u[t]);return e}()}),void t();var w=[],I=[];if(e)a.$wrapperEl.find("."+a.params.slideClass).remove();else for(var D=l;D<=d;D+=1)(D<_||D>g)&&a.$wrapperEl.find("."+a.params.slideClass+'[data-swiper-slide-index="'+D+'"]').remove();for(var x=0;x<u.length;x+=1)x>=_&&x<=g&&(void 0===d||e?I.push(x):(x>d&&I.push(x),x<l&&w.push(x)));I.forEach(function(e){a.$wrapperEl.append(f(u[e],e))}),w.sort(function(e,t){return e<t}).forEach(function(e){a.$wrapperEl.prepend(f(u[e],e))}),a.$wrapperEl.children(".swiper-slide").css(v,b+"px"),t()},renderSlide:function(t,a){var n=this.params.virtual;if(n.cache&&this.virtual.cache[a])return this.virtual.cache[a];var r=e(n.renderSlide?n.renderSlide.call(this,t,a):'<div class="'+this.params.slideClass+'" data-swiper-slide-index="'+a+'">'+t+"</div>");return r.attr("data-swiper-slide-index")||r.attr("data-swiper-slide-index",a),n.cache&&(this.virtual.cache[a]=r),r},appendSlide:function(e){this.virtual.slides.push(e),this.virtual.update(!0)},prependSlide:function(e){if(this.virtual.slides.unshift(e),this.params.virtual.cache){var t=this.virtual.cache,a={};(0,h.default)(t).forEach(function(e){a[e+1]=t[e]}),this.virtual.cache=a}this.virtual.update(!0),this.slideNext(0)}},$={name:"virtual",params:{virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null}},create:function(){m.extend(this,{virtual:{update:U.update.bind(this),appendSlide:U.appendSlide.bind(this),prependSlide:U.prependSlide.bind(this),renderSlide:U.renderSlide.bind(this),slides:this.params.virtual.slides,cache:{}}})},on:{beforeInit:function(){if(this.params.virtual.enabled){this.classNames.push(this.params.containerModifierClass+"virtual");var e={watchSlidesProgress:!0};m.extend(this.params,e),m.extend(this.originalParams,e),this.virtual.update()}},setTranslate:function(){this.params.virtual.enabled&&this.virtual.update()}}},H={handle:function(e){var t=this.rtlTranslate,a=e;a.originalEvent&&(a=a.originalEvent);var i=a.keyCode||a.charCode;if(!this.allowSlideNext&&(this.isHorizontal()&&39===i||this.isVertical()&&40===i))return!1;if(!this.allowSlidePrev&&(this.isHorizontal()&&37===i||this.isVertical()&&38===i))return!1;if(!(a.shiftKey||a.altKey||a.ctrlKey||a.metaKey||n.activeElement&&n.activeElement.nodeName&&("input"===n.activeElement.nodeName.toLowerCase()||"textarea"===n.activeElement.nodeName.toLowerCase()))){if(this.params.keyboard.onlyInViewport&&(37===i||39===i||38===i||40===i)){var o=!1;if(this.$el.parents("."+this.params.slideClass).length>0&&0===this.$el.parents("."+this.params.slideActiveClass).length)return;var s=r.innerWidth,l=r.innerHeight,d=this.$el.offset();t&&(d.left-=this.$el[0].scrollLeft);for(var u=[[d.left,d.top],[d.left+this.width,d.top],[d.left,d.top+this.height],[d.left+this.width,d.top+this.height]],c=0;c<u.length;c+=1){var f=u[c];f[0]>=0&&f[0]<=s&&f[1]>=0&&f[1]<=l&&(o=!0)}if(!o)return}this.isHorizontal()?(37!==i&&39!==i||(a.preventDefault?a.preventDefault():a.returnValue=!1),(39===i&&!t||37===i&&t)&&this.slideNext(),(37===i&&!t||39===i&&t)&&this.slidePrev()):(38!==i&&40!==i||(a.preventDefault?a.preventDefault():a.returnValue=!1),40===i&&this.slideNext(),38===i&&this.slidePrev()),this.emit("keyPress",i)}},enable:function(){this.keyboard.enabled||(e(n).on("keydown",this.keyboard.handle),this.keyboard.enabled=!0)},disable:function(){this.keyboard.enabled&&(e(n).off("keydown",this.keyboard.handle),this.keyboard.enabled=!1)}},V={name:"keyboard",params:{keyboard:{enabled:!1,onlyInViewport:!0}},create:function(){m.extend(this,{keyboard:{enabled:!1,enable:H.enable.bind(this),disable:H.disable.bind(this),handle:H.handle.bind(this)}})},on:{init:function(){this.params.keyboard.enabled&&this.keyboard.enable()},destroy:function(){this.keyboard.enabled&&this.keyboard.disable()}}},q={lastScrollTime:m.now(),event:r.navigator.userAgent.indexOf("firefox")>-1?"DOMMouseScroll":function(){var e="onwheel"in n;if(!e){var t=n.createElement("div");t.setAttribute("onwheel","return;"),e="function"==typeof t.onwheel}return!e&&n.implementation&&n.implementation.hasFeature&&!0!==n.implementation.hasFeature("","")&&(e=n.implementation.hasFeature("Events.wheel","3.0")),e}()?"wheel":"mousewheel",normalize:function(e){var t=0,a=0,n=0,r=0;return"detail"in e&&(a=e.detail),"wheelDelta"in e&&(a=-e.wheelDelta/120),"wheelDeltaY"in e&&(a=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=a,a=0),n=10*t,r=10*a,"deltaY"in e&&(r=e.deltaY),"deltaX"in e&&(n=e.deltaX),(n||r)&&e.deltaMode&&(1===e.deltaMode?(n*=40,r*=40):(n*=800,r*=800)),n&&!t&&(t=n<1?-1:1),r&&!a&&(a=r<1?-1:1),{spinX:t,spinY:a,pixelX:n,pixelY:r}},handleMouseEnter:function(){this.mouseEntered=!0},handleMouseLeave:function(){this.mouseEntered=!1},handle:function(e){var t=e,a=this,n=a.params.mousewheel;if(!a.mouseEntered&&!n.releaseOnEdges)return!0;t.originalEvent&&(t=t.originalEvent);var i=0,o=a.rtlTranslate?-1:1,s=q.normalize(t);if(n.forceToAxis)if(a.isHorizontal()){if(!(Math.abs(s.pixelX)>Math.abs(s.pixelY)))return!0;i=s.pixelX*o}else{if(!(Math.abs(s.pixelY)>Math.abs(s.pixelX)))return!0;i=s.pixelY}else i=Math.abs(s.pixelX)>Math.abs(s.pixelY)?-s.pixelX*o:-s.pixelY;if(0===i)return!0;if(n.invert&&(i=-i),a.params.freeMode){a.params.loop&&a.loopFix();var l=a.getTranslate()+i*n.sensitivity,d=a.isBeginning,u=a.isEnd;if(l>=a.minTranslate()&&(l=a.minTranslate()),l<=a.maxTranslate()&&(l=a.maxTranslate()),a.setTransition(0),a.setTranslate(l),a.updateProgress(),a.updateActiveIndex(),a.updateSlidesClasses(),(!d&&a.isBeginning||!u&&a.isEnd)&&a.updateSlidesClasses(),a.params.freeModeSticky&&(clearTimeout(a.mousewheel.timeout),a.mousewheel.timeout=m.nextTick(function(){a.slideToClosest()},300)),a.emit("scroll",t),a.params.autoplay&&a.params.autoplayDisableOnInteraction&&a.stopAutoplay(),l===a.minTranslate()||l===a.maxTranslate())return!0}else{if(m.now()-a.mousewheel.lastScrollTime>60)if(i<0)if(a.isEnd&&!a.params.loop||a.animating){if(n.releaseOnEdges)return!0}else a.slideNext(),a.emit("scroll",t);else if(a.isBeginning&&!a.params.loop||a.animating){if(n.releaseOnEdges)return!0}else a.slidePrev(),a.emit("scroll",t);a.mousewheel.lastScrollTime=(new r.Date).getTime()}return t.preventDefault?t.preventDefault():t.returnValue=!1,!1},enable:function(){if(!q.event)return!1;if(this.mousewheel.enabled)return!1;var t=this.$el;return"container"!==this.params.mousewheel.eventsTarged&&(t=e(this.params.mousewheel.eventsTarged)),t.on("mouseenter",this.mousewheel.handleMouseEnter),t.on("mouseleave",this.mousewheel.handleMouseLeave),t.on(q.event,this.mousewheel.handle),this.mousewheel.enabled=!0,!0},disable:function(){if(!q.event)return!1;if(!this.mousewheel.enabled)return!1;var t=this.$el;return"container"!==this.params.mousewheel.eventsTarged&&(t=e(this.params.mousewheel.eventsTarged)),t.off(q.event,this.mousewheel.handle),this.mousewheel.enabled=!1,!0}},Q={update:function(){var e=this.params.navigation;if(!this.params.loop){var t=this.navigation,a=t.$nextEl,n=t.$prevEl;n&&n.length>0&&(this.isBeginning?n.addClass(e.disabledClass):n.removeClass(e.disabledClass),n[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](e.lockClass)),a&&a.length>0&&(this.isEnd?a.addClass(e.disabledClass):a.removeClass(e.disabledClass),a[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](e.lockClass))}},init:function(){var t,a,n=this,r=n.params.navigation;(r.nextEl||r.prevEl)&&(r.nextEl&&(t=e(r.nextEl),n.params.uniqueNavElements&&"string"==typeof r.nextEl&&t.length>1&&1===n.$el.find(r.nextEl).length&&(t=n.$el.find(r.nextEl))),r.prevEl&&(a=e(r.prevEl),n.params.uniqueNavElements&&"string"==typeof r.prevEl&&a.length>1&&1===n.$el.find(r.prevEl).length&&(a=n.$el.find(r.prevEl))),t&&t.length>0&&t.on("click",function(e){e.preventDefault(),n.isEnd&&!n.params.loop||n.slideNext()}),a&&a.length>0&&a.on("click",function(e){e.preventDefault(),n.isBeginning&&!n.params.loop||n.slidePrev()}),m.extend(n.navigation,{$nextEl:t,nextEl:t&&t[0],$prevEl:a,prevEl:a&&a[0]}))},destroy:function(){var e=this.navigation,t=e.$nextEl,a=e.$prevEl;t&&t.length&&(t.off("click"),t.removeClass(this.params.navigation.disabledClass)),a&&a.length&&(a.off("click"),a.removeClass(this.params.navigation.disabledClass))}},Y={update:function(){var t=this.rtl,a=this.params.pagination;if(a.el&&this.pagination.el&&this.pagination.$el&&0!==this.pagination.$el.length){var n,r=this.virtual&&this.params.virtual.enabled?this.virtual.slides.length:this.slides.length,i=this.pagination.$el,o=this.params.loop?Math.ceil((r-2*this.loopedSlides)/this.params.slidesPerGroup):this.snapGrid.length;if(this.params.loop?((n=Math.ceil((this.activeIndex-this.loopedSlides)/this.params.slidesPerGroup))>r-1-2*this.loopedSlides&&(n-=r-2*this.loopedSlides),n>o-1&&(n-=o),n<0&&"bullets"!==this.params.paginationType&&(n=o+n)):n=void 0!==this.snapIndex?this.snapIndex:this.activeIndex||0,"bullets"===a.type&&this.pagination.bullets&&this.pagination.bullets.length>0){var s,l,d,u=this.pagination.bullets;if(a.dynamicBullets&&(this.pagination.bulletSize=u.eq(0)[this.isHorizontal()?"outerWidth":"outerHeight"](!0),i.css(this.isHorizontal()?"width":"height",this.pagination.bulletSize*(a.dynamicMainBullets+4)+"px"),a.dynamicMainBullets>1&&void 0!==this.previousIndex&&(this.pagination.dynamicBulletIndex+=n-this.previousIndex,this.pagination.dynamicBulletIndex>a.dynamicMainBullets-1?this.pagination.dynamicBulletIndex=a.dynamicMainBullets-1:this.pagination.dynamicBulletIndex<0&&(this.pagination.dynamicBulletIndex=0)),s=n-this.pagination.dynamicBulletIndex,d=((l=s+(Math.min(u.length,a.dynamicMainBullets)-1))+s)/2),u.removeClass(a.bulletActiveClass+" "+a.bulletActiveClass+"-next "+a.bulletActiveClass+"-next-next "+a.bulletActiveClass+"-prev "+a.bulletActiveClass+"-prev-prev "+a.bulletActiveClass+"-main"),i.length>1)u.each(function(t,r){var i=e(r),o=i.index();o===n&&i.addClass(a.bulletActiveClass),a.dynamicBullets&&(o>=s&&o<=l&&i.addClass(a.bulletActiveClass+"-main"),o===s&&i.prev().addClass(a.bulletActiveClass+"-prev").prev().addClass(a.bulletActiveClass+"-prev-prev"),o===l&&i.next().addClass(a.bulletActiveClass+"-next").next().addClass(a.bulletActiveClass+"-next-next"))});else if(u.eq(n).addClass(a.bulletActiveClass),a.dynamicBullets){for(var c=u.eq(s),f=u.eq(l),h=s;h<=l;h+=1)u.eq(h).addClass(a.bulletActiveClass+"-main");c.prev().addClass(a.bulletActiveClass+"-prev").prev().addClass(a.bulletActiveClass+"-prev-prev"),f.next().addClass(a.bulletActiveClass+"-next").next().addClass(a.bulletActiveClass+"-next-next")}if(a.dynamicBullets){var m=Math.min(u.length,a.dynamicMainBullets+4),v=(this.pagination.bulletSize*m-this.pagination.bulletSize)/2-d*this.pagination.bulletSize,p=t?"right":"left";u.css(this.isHorizontal()?p:"top",v+"px")}}if("fraction"===a.type&&(i.find("."+a.currentClass).text(n+1),i.find("."+a.totalClass).text(o)),"progressbar"===a.type){var C;C=a.progressbarOpposite?this.isHorizontal()?"vertical":"horizontal":this.isHorizontal()?"horizontal":"vertical";var y=(n+1)/o,_=1,g=1;"horizontal"===C?_=y:g=y,i.find("."+a.progressbarFillClass).transform("translate3d(0,0,0) scaleX("+_+") scaleY("+g+")").transition(this.params.speed)}"custom"===a.type&&a.renderCustom?(i.html(a.renderCustom(this,n+1,o)),this.emit("paginationRender",this,i[0])):this.emit("paginationUpdate",this,i[0]),i[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](a.lockClass)}},render:function(){var e=this.params.pagination;if(e.el&&this.pagination.el&&this.pagination.$el&&0!==this.pagination.$el.length){var t=this.virtual&&this.params.virtual.enabled?this.virtual.slides.length:this.slides.length,a=this.pagination.$el,n="";if("bullets"===e.type){for(var r=this.params.loop?Math.ceil((t-2*this.loopedSlides)/this.params.slidesPerGroup):this.snapGrid.length,i=0;i<r;i+=1)e.renderBullet?n+=e.renderBullet.call(this,i,e.bulletClass):n+="<"+e.bulletElement+' class="'+e.bulletClass+'"></'+e.bulletElement+">";a.html(n),this.pagination.bullets=a.find("."+e.bulletClass)}"fraction"===e.type&&(n=e.renderFraction?e.renderFraction.call(this,e.currentClass,e.totalClass):'<span class="'+e.currentClass+'"></span> / <span class="'+e.totalClass+'"></span>',a.html(n)),"progressbar"===e.type&&(n=e.renderProgressbar?e.renderProgressbar.call(this,e.progressbarFillClass):'<span class="'+e.progressbarFillClass+'"></span>',a.html(n)),"custom"!==e.type&&this.emit("paginationRender",this.pagination.$el[0])}},init:function(){var t=this,a=t.params.pagination;if(a.el){var n=e(a.el);0!==n.length&&(t.params.uniqueNavElements&&"string"==typeof a.el&&n.length>1&&1===t.$el.find(a.el).length&&(n=t.$el.find(a.el)),"bullets"===a.type&&a.clickable&&n.addClass(a.clickableClass),n.addClass(a.modifierClass+a.type),"bullets"===a.type&&a.dynamicBullets&&(n.addClass(""+a.modifierClass+a.type+"-dynamic"),t.pagination.dynamicBulletIndex=0,a.dynamicMainBullets<1&&(a.dynamicMainBullets=1)),"progressbar"===a.type&&a.progressbarOpposite&&n.addClass(a.progressbarOppositeClass),a.clickable&&n.on("click","."+a.bulletClass,function(a){a.preventDefault();var n=e(this).index()*t.params.slidesPerGroup;t.params.loop&&(n+=t.loopedSlides),t.slideTo(n)}),m.extend(t.pagination,{$el:n,el:n[0]}))}},destroy:function(){var e=this.params.pagination;if(e.el&&this.pagination.el&&this.pagination.$el&&0!==this.pagination.$el.length){var t=this.pagination.$el;t.removeClass(e.hiddenClass),t.removeClass(e.modifierClass+e.type),this.pagination.bullets&&this.pagination.bullets.removeClass(e.bulletActiveClass),e.clickable&&t.off("click","."+e.bulletClass)}}},X={setTranslate:function(){if(this.params.scrollbar.el&&this.scrollbar.el){var e=this.scrollbar,t=this.rtlTranslate,a=this.progress,n=e.dragSize,r=e.trackSize,i=e.$dragEl,o=e.$el,s=this.params.scrollbar,l=n,d=(r-n)*a;t?(d=-d)>0?(l=n-d,d=0):-d+n>r&&(l=r+d):d<0?(l=n+d,d=0):d+n>r&&(l=r-d),this.isHorizontal()?(p.transforms3d?i.transform("translate3d("+d+"px, 0, 0)"):i.transform("translateX("+d+"px)"),i[0].style.width=l+"px"):(p.transforms3d?i.transform("translate3d(0px, "+d+"px, 0)"):i.transform("translateY("+d+"px)"),i[0].style.height=l+"px"),s.hide&&(clearTimeout(this.scrollbar.timeout),o[0].style.opacity=1,this.scrollbar.timeout=setTimeout(function(){o[0].style.opacity=0,o.transition(400)},1e3))}},setTransition:function(e){this.params.scrollbar.el&&this.scrollbar.el&&this.scrollbar.$dragEl.transition(e)},updateSize:function(){if(this.params.scrollbar.el&&this.scrollbar.el){var e=this.scrollbar,t=e.$dragEl,a=e.$el;t[0].style.width="",t[0].style.height="";var n,r=this.isHorizontal()?a[0].offsetWidth:a[0].offsetHeight,i=this.size/this.virtualSize,o=i*(r/this.size);n="auto"===this.params.scrollbar.dragSize?r*i:parseInt(this.params.scrollbar.dragSize,10),this.isHorizontal()?t[0].style.width=n+"px":t[0].style.height=n+"px",a[0].style.display=i>=1?"none":"",this.params.scrollbarHide&&(a[0].style.opacity=0),m.extend(e,{trackSize:r,divider:i,moveDivider:o,dragSize:n}),e.$el[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](this.params.scrollbar.lockClass)}},setDragPosition:function(e){var t,a=this.scrollbar,n=this.rtlTranslate,r=a.$el,i=a.dragSize,o=a.trackSize;t=((this.isHorizontal()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageX:e.pageX||e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageY:e.pageY||e.clientY)-r.offset()[this.isHorizontal()?"left":"top"]-i/2)/(o-i),t=Math.max(Math.min(t,1),0),n&&(t=1-t);var s=this.minTranslate()+(this.maxTranslate()-this.minTranslate())*t;this.updateProgress(s),this.setTranslate(s),this.updateActiveIndex(),this.updateSlidesClasses()},onDragStart:function(e){var t=this.params.scrollbar,a=this.scrollbar,n=this.$wrapperEl,r=a.$el,i=a.$dragEl;this.scrollbar.isTouched=!0,e.preventDefault(),e.stopPropagation(),n.transition(100),i.transition(100),a.setDragPosition(e),clearTimeout(this.scrollbar.dragTimeout),r.transition(0),t.hide&&r.css("opacity",1),this.emit("scrollbarDragStart",e)},onDragMove:function(e){var t=this.scrollbar,a=this.$wrapperEl,n=t.$el,r=t.$dragEl;this.scrollbar.isTouched&&(e.preventDefault?e.preventDefault():e.returnValue=!1,t.setDragPosition(e),a.transition(0),n.transition(0),r.transition(0),this.emit("scrollbarDragMove",e))},onDragEnd:function(e){var t=this.params.scrollbar,a=this.scrollbar.$el;this.scrollbar.isTouched&&(this.scrollbar.isTouched=!1,t.hide&&(clearTimeout(this.scrollbar.dragTimeout),this.scrollbar.dragTimeout=m.nextTick(function(){a.css("opacity",0),a.transition(400)},1e3)),this.emit("scrollbarDragEnd",e),t.snapOnRelease&&this.slideToClosest())},enableDraggable:function(){if(this.params.scrollbar.el){var e=this.scrollbar,t=this.touchEvents,a=this.touchEventsDesktop,r=this.params,i=e.$el[0],o=!(!p.passiveListener||!r.passiveListener)&&{passive:!1,capture:!1},s=!(!p.passiveListener||!r.passiveListener)&&{passive:!0,capture:!1};p.touch||!p.pointerEvents&&!p.prefixedPointerEvents?(p.touch&&(i.addEventListener(t.start,this.scrollbar.onDragStart,o),i.addEventListener(t.move,this.scrollbar.onDragMove,o),i.addEventListener(t.end,this.scrollbar.onDragEnd,s)),(r.simulateTouch&&!P.ios&&!P.android||r.simulateTouch&&!p.touch&&P.ios)&&(i.addEventListener("mousedown",this.scrollbar.onDragStart,o),n.addEventListener("mousemove",this.scrollbar.onDragMove,o),n.addEventListener("mouseup",this.scrollbar.onDragEnd,s))):(i.addEventListener(a.start,this.scrollbar.onDragStart,o),n.addEventListener(a.move,this.scrollbar.onDragMove,o),n.addEventListener(a.end,this.scrollbar.onDragEnd,s))}},disableDraggable:function(){if(this.params.scrollbar.el){var e=this.scrollbar,t=this.touchEvents,a=this.touchEventsDesktop,r=this.params,i=e.$el[0],o=!(!p.passiveListener||!r.passiveListener)&&{passive:!1,capture:!1},s=!(!p.passiveListener||!r.passiveListener)&&{passive:!0,capture:!1};p.touch||!p.pointerEvents&&!p.prefixedPointerEvents?(p.touch&&(i.removeEventListener(t.start,this.scrollbar.onDragStart,o),i.removeEventListener(t.move,this.scrollbar.onDragMove,o),i.removeEventListener(t.end,this.scrollbar.onDragEnd,s)),(r.simulateTouch&&!P.ios&&!P.android||r.simulateTouch&&!p.touch&&P.ios)&&(i.removeEventListener("mousedown",this.scrollbar.onDragStart,o),n.removeEventListener("mousemove",this.scrollbar.onDragMove,o),n.removeEventListener("mouseup",this.scrollbar.onDragEnd,s))):(i.removeEventListener(a.start,this.scrollbar.onDragStart,o),n.removeEventListener(a.move,this.scrollbar.onDragMove,o),n.removeEventListener(a.end,this.scrollbar.onDragEnd,s))}},init:function(){if(this.params.scrollbar.el){var t=this.scrollbar,a=this.$el,n=this.params.scrollbar,r=e(n.el);this.params.uniqueNavElements&&"string"==typeof n.el&&r.length>1&&1===a.find(n.el).length&&(r=a.find(n.el));var i=r.find("."+this.params.scrollbar.dragClass);0===i.length&&(i=e('<div class="'+this.params.scrollbar.dragClass+'"></div>'),r.append(i)),m.extend(t,{$el:r,el:r[0],$dragEl:i,dragEl:i[0]}),n.draggable&&t.enableDraggable()}},destroy:function(){this.scrollbar.disableDraggable()}},G={setTransform:function(t,a){var n=this.rtl,r=e(t),i=n?-1:1,o=r.attr("data-swiper-parallax")||"0",s=r.attr("data-swiper-parallax-x"),l=r.attr("data-swiper-parallax-y"),d=r.attr("data-swiper-parallax-scale"),u=r.attr("data-swiper-parallax-opacity");if(s||l?(s=s||"0",l=l||"0"):this.isHorizontal()?(s=o,l="0"):(l=o,s="0"),s=s.indexOf("%")>=0?parseInt(s,10)*a*i+"%":s*a*i+"px",l=l.indexOf("%")>=0?parseInt(l,10)*a+"%":l*a+"px",void 0!==u&&null!==u){var c=u-(u-1)*(1-Math.abs(a));r[0].style.opacity=c}if(void 0===d||null===d)r.transform("translate3d("+s+", "+l+", 0px)");else{var f=d-(d-1)*(1-Math.abs(a));r.transform("translate3d("+s+", "+l+", 0px) scale("+f+")")}},setTranslate:function(){var t=this,a=t.$el,n=t.slides,r=t.progress,i=t.snapGrid;a.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(e,a){t.parallax.setTransform(a,r)}),n.each(function(a,n){var o=n.progress;t.params.slidesPerGroup>1&&"auto"!==t.params.slidesPerView&&(o+=Math.ceil(a/2)-r*(i.length-1)),o=Math.min(Math.max(o,-1),1),e(n).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(e,a){t.parallax.setTransform(a,o)})})},setTransition:function(t){void 0===t&&(t=this.params.speed),this.$el.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(a,n){var r=e(n),i=parseInt(r.attr("data-swiper-parallax-duration"),10)||t;0===t&&(i=0),r.transition(i)})}},W={getDistanceBetweenTouches:function(e){if(e.targetTouches.length<2)return 1;var t=e.targetTouches[0].pageX,a=e.targetTouches[0].pageY,n=e.targetTouches[1].pageX,r=e.targetTouches[1].pageY;return Math.sqrt(Math.pow(n-t,2)+Math.pow(r-a,2))},onGestureStart:function(t){var a=this.params.zoom,n=this.zoom,r=n.gesture;if(n.fakeGestureTouched=!1,n.fakeGestureMoved=!1,!p.gestures){if("touchstart"!==t.type||"touchstart"===t.type&&t.targetTouches.length<2)return;n.fakeGestureTouched=!0,r.scaleStart=W.getDistanceBetweenTouches(t)}r.$slideEl&&r.$slideEl.length||(r.$slideEl=e(t.target).closest(".swiper-slide"),0===r.$slideEl.length&&(r.$slideEl=this.slides.eq(this.activeIndex)),r.$imageEl=r.$slideEl.find("img, svg, canvas"),r.$imageWrapEl=r.$imageEl.parent("."+a.containerClass),r.maxRatio=r.$imageWrapEl.attr("data-swiper-zoom")||a.maxRatio,0!==r.$imageWrapEl.length)?(r.$imageEl.transition(0),this.zoom.isScaling=!0):r.$imageEl=void 0},onGestureChange:function(e){var t=this.params.zoom,a=this.zoom,n=a.gesture;if(!p.gestures){if("touchmove"!==e.type||"touchmove"===e.type&&e.targetTouches.length<2)return;a.fakeGestureMoved=!0,n.scaleMove=W.getDistanceBetweenTouches(e)}n.$imageEl&&0!==n.$imageEl.length&&(p.gestures?this.zoom.scale=e.scale*a.currentScale:a.scale=n.scaleMove/n.scaleStart*a.currentScale,a.scale>n.maxRatio&&(a.scale=n.maxRatio-1+Math.pow(a.scale-n.maxRatio+1,.5)),a.scale<t.minRatio&&(a.scale=t.minRatio+1-Math.pow(t.minRatio-a.scale+1,.5)),n.$imageEl.transform("translate3d(0,0,0) scale("+a.scale+")"))},onGestureEnd:function(e){var t=this.params.zoom,a=this.zoom,n=a.gesture;if(!p.gestures){if(!a.fakeGestureTouched||!a.fakeGestureMoved)return;if("touchend"!==e.type||"touchend"===e.type&&e.changedTouches.length<2&&!P.android)return;a.fakeGestureTouched=!1,a.fakeGestureMoved=!1}n.$imageEl&&0!==n.$imageEl.length&&(a.scale=Math.max(Math.min(a.scale,n.maxRatio),t.minRatio),n.$imageEl.transition(this.params.speed).transform("translate3d(0,0,0) scale("+a.scale+")"),a.currentScale=a.scale,a.isScaling=!1,1===a.scale&&(n.$slideEl=void 0))},onTouchStart:function(e){var t=this.zoom,a=t.gesture,n=t.image;a.$imageEl&&0!==a.$imageEl.length&&(n.isTouched||(P.android&&e.preventDefault(),n.isTouched=!0,n.touchesStart.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,n.touchesStart.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY))},onTouchMove:function(e){var t=this.zoom,a=t.gesture,n=t.image,r=t.velocity;if(a.$imageEl&&0!==a.$imageEl.length&&(this.allowClick=!1,n.isTouched&&a.$slideEl)){n.isMoved||(n.width=a.$imageEl[0].offsetWidth,n.height=a.$imageEl[0].offsetHeight,n.startX=m.getTranslate(a.$imageWrapEl[0],"x")||0,n.startY=m.getTranslate(a.$imageWrapEl[0],"y")||0,a.slideWidth=a.$slideEl[0].offsetWidth,a.slideHeight=a.$slideEl[0].offsetHeight,a.$imageWrapEl.transition(0),this.rtl&&(n.startX=-n.startX,n.startY=-n.startY));var i=n.width*t.scale,o=n.height*t.scale;if(!(i<a.slideWidth&&o<a.slideHeight)){if(n.minX=Math.min(a.slideWidth/2-i/2,0),n.maxX=-n.minX,n.minY=Math.min(a.slideHeight/2-o/2,0),n.maxY=-n.minY,n.touchesCurrent.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,n.touchesCurrent.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,!n.isMoved&&!t.isScaling){if(this.isHorizontal()&&(Math.floor(n.minX)===Math.floor(n.startX)&&n.touchesCurrent.x<n.touchesStart.x||Math.floor(n.maxX)===Math.floor(n.startX)&&n.touchesCurrent.x>n.touchesStart.x))return void(n.isTouched=!1);if(!this.isHorizontal()&&(Math.floor(n.minY)===Math.floor(n.startY)&&n.touchesCurrent.y<n.touchesStart.y||Math.floor(n.maxY)===Math.floor(n.startY)&&n.touchesCurrent.y>n.touchesStart.y))return void(n.isTouched=!1)}e.preventDefault(),e.stopPropagation(),n.isMoved=!0,n.currentX=n.touchesCurrent.x-n.touchesStart.x+n.startX,n.currentY=n.touchesCurrent.y-n.touchesStart.y+n.startY,n.currentX<n.minX&&(n.currentX=n.minX+1-Math.pow(n.minX-n.currentX+1,.8)),n.currentX>n.maxX&&(n.currentX=n.maxX-1+Math.pow(n.currentX-n.maxX+1,.8)),n.currentY<n.minY&&(n.currentY=n.minY+1-Math.pow(n.minY-n.currentY+1,.8)),n.currentY>n.maxY&&(n.currentY=n.maxY-1+Math.pow(n.currentY-n.maxY+1,.8)),r.prevPositionX||(r.prevPositionX=n.touchesCurrent.x),r.prevPositionY||(r.prevPositionY=n.touchesCurrent.y),r.prevTime||(r.prevTime=Date.now()),r.x=(n.touchesCurrent.x-r.prevPositionX)/(Date.now()-r.prevTime)/2,r.y=(n.touchesCurrent.y-r.prevPositionY)/(Date.now()-r.prevTime)/2,Math.abs(n.touchesCurrent.x-r.prevPositionX)<2&&(r.x=0),Math.abs(n.touchesCurrent.y-r.prevPositionY)<2&&(r.y=0),r.prevPositionX=n.touchesCurrent.x,r.prevPositionY=n.touchesCurrent.y,r.prevTime=Date.now(),a.$imageWrapEl.transform("translate3d("+n.currentX+"px, "+n.currentY+"px,0)")}}},onTouchEnd:function(){var e=this.zoom,t=e.gesture,a=e.image,n=e.velocity;if(t.$imageEl&&0!==t.$imageEl.length){if(!a.isTouched||!a.isMoved)return a.isTouched=!1,void(a.isMoved=!1);a.isTouched=!1,a.isMoved=!1;var r=300,i=300,o=n.x*r,s=a.currentX+o,l=n.y*i,d=a.currentY+l;0!==n.x&&(r=Math.abs((s-a.currentX)/n.x)),0!==n.y&&(i=Math.abs((d-a.currentY)/n.y));var u=Math.max(r,i);a.currentX=s,a.currentY=d;var c=a.width*e.scale,f=a.height*e.scale;a.minX=Math.min(t.slideWidth/2-c/2,0),a.maxX=-a.minX,a.minY=Math.min(t.slideHeight/2-f/2,0),a.maxY=-a.minY,a.currentX=Math.max(Math.min(a.currentX,a.maxX),a.minX),a.currentY=Math.max(Math.min(a.currentY,a.maxY),a.minY),t.$imageWrapEl.transition(u).transform("translate3d("+a.currentX+"px, "+a.currentY+"px,0)")}},onTransitionEnd:function(){var e=this.zoom,t=e.gesture;t.$slideEl&&this.previousIndex!==this.activeIndex&&(t.$imageEl.transform("translate3d(0,0,0) scale(1)"),t.$imageWrapEl.transform("translate3d(0,0,0)"),t.$slideEl=void 0,t.$imageEl=void 0,t.$imageWrapEl=void 0,e.scale=1,e.currentScale=1)},toggle:function(e){var t=this.zoom;t.scale&&1!==t.scale?t.out():t.in(e)},in:function(t){var a,n,r,i,o,s,l,d,u,c,f,h,m,v,p,C,y=this.zoom,_=this.params.zoom,g=y.gesture,b=y.image;g.$slideEl||(g.$slideEl=this.clickedSlide?e(this.clickedSlide):this.slides.eq(this.activeIndex),g.$imageEl=g.$slideEl.find("img, svg, canvas"),g.$imageWrapEl=g.$imageEl.parent("."+_.containerClass)),g.$imageEl&&0!==g.$imageEl.length&&(g.$slideEl.addClass(""+_.zoomedSlideClass),void 0===b.touchesStart.x&&t?(a="touchend"===t.type?t.changedTouches[0].pageX:t.pageX,n="touchend"===t.type?t.changedTouches[0].pageY:t.pageY):(a=b.touchesStart.x,n=b.touchesStart.y),y.scale=g.$imageWrapEl.attr("data-swiper-zoom")||_.maxRatio,y.currentScale=g.$imageWrapEl.attr("data-swiper-zoom")||_.maxRatio,t?(p=g.$slideEl[0].offsetWidth,C=g.$slideEl[0].offsetHeight,r=g.$slideEl.offset().left+p/2-a,i=g.$slideEl.offset().top+C/2-n,l=g.$imageEl[0].offsetWidth,d=g.$imageEl[0].offsetHeight,u=l*y.scale,c=d*y.scale,m=-(f=Math.min(p/2-u/2,0)),v=-(h=Math.min(C/2-c/2,0)),o=r*y.scale,s=i*y.scale,o<f&&(o=f),o>m&&(o=m),s<h&&(s=h),s>v&&(s=v)):(o=0,s=0),g.$imageWrapEl.transition(300).transform("translate3d("+o+"px, "+s+"px,0)"),g.$imageEl.transition(300).transform("translate3d(0,0,0) scale("+y.scale+")"))},out:function(){var t=this.zoom,a=this.params.zoom,n=t.gesture;n.$slideEl||(n.$slideEl=this.clickedSlide?e(this.clickedSlide):this.slides.eq(this.activeIndex),n.$imageEl=n.$slideEl.find("img, svg, canvas"),n.$imageWrapEl=n.$imageEl.parent("."+a.containerClass)),n.$imageEl&&0!==n.$imageEl.length&&(t.scale=1,t.currentScale=1,n.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),n.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),n.$slideEl.removeClass(""+a.zoomedSlideClass),n.$slideEl=void 0)},enable:function(){var e=this.zoom;if(!e.enabled){e.enabled=!0;var t=!("touchstart"!==this.touchEvents.start||!p.passiveListener||!this.params.passiveListeners)&&{passive:!0,capture:!1};p.gestures?(this.$wrapperEl.on("gesturestart",".swiper-slide",e.onGestureStart,t),this.$wrapperEl.on("gesturechange",".swiper-slide",e.onGestureChange,t),this.$wrapperEl.on("gestureend",".swiper-slide",e.onGestureEnd,t)):"touchstart"===this.touchEvents.start&&(this.$wrapperEl.on(this.touchEvents.start,".swiper-slide",e.onGestureStart,t),this.$wrapperEl.on(this.touchEvents.move,".swiper-slide",e.onGestureChange,t),this.$wrapperEl.on(this.touchEvents.end,".swiper-slide",e.onGestureEnd,t)),this.$wrapperEl.on(this.touchEvents.move,"."+this.params.zoom.containerClass,e.onTouchMove)}},disable:function(){var e=this.zoom;if(e.enabled){this.zoom.enabled=!1;var t=!("touchstart"!==this.touchEvents.start||!p.passiveListener||!this.params.passiveListeners)&&{passive:!0,capture:!1};p.gestures?(this.$wrapperEl.off("gesturestart",".swiper-slide",e.onGestureStart,t),this.$wrapperEl.off("gesturechange",".swiper-slide",e.onGestureChange,t),this.$wrapperEl.off("gestureend",".swiper-slide",e.onGestureEnd,t)):"touchstart"===this.touchEvents.start&&(this.$wrapperEl.off(this.touchEvents.start,".swiper-slide",e.onGestureStart,t),this.$wrapperEl.off(this.touchEvents.move,".swiper-slide",e.onGestureChange,t),this.$wrapperEl.off(this.touchEvents.end,".swiper-slide",e.onGestureEnd,t)),this.$wrapperEl.off(this.touchEvents.move,"."+this.params.zoom.containerClass,e.onTouchMove)}}},z={loadInSlide:function(t,a){void 0===a&&(a=!0);var n=this,r=n.params.lazy;if(void 0!==t&&0!==n.slides.length){var i=n.virtual&&n.params.virtual.enabled?n.$wrapperEl.children("."+n.params.slideClass+'[data-swiper-slide-index="'+t+'"]'):n.slides.eq(t),o=i.find("."+r.elementClass+":not(."+r.loadedClass+"):not(."+r.loadingClass+")");!i.hasClass(r.elementClass)||i.hasClass(r.loadedClass)||i.hasClass(r.loadingClass)||(o=o.add(i[0])),0!==o.length&&o.each(function(t,o){var s=e(o);s.addClass(r.loadingClass);var l=s.attr("data-background"),d=s.attr("data-src"),u=s.attr("data-srcset"),c=s.attr("data-sizes");n.loadImage(s[0],d||l,u,c,!1,function(){if(void 0!==n&&null!==n&&n&&(!n||n.params)&&!n.destroyed){if(l?(s.css("background-image",'url("'+l+'")'),s.removeAttr("data-background")):(u&&(s.attr("srcset",u),s.removeAttr("data-srcset")),c&&(s.attr("sizes",c),s.removeAttr("data-sizes")),d&&(s.attr("src",d),s.removeAttr("data-src"))),s.addClass(r.loadedClass).removeClass(r.loadingClass),i.find("."+r.preloaderClass).remove(),n.params.loop&&a){var e=i.attr("data-swiper-slide-index");if(i.hasClass(n.params.slideDuplicateClass)){var t=n.$wrapperEl.children('[data-swiper-slide-index="'+e+'"]:not(.'+n.params.slideDuplicateClass+")");n.lazy.loadInSlide(t.index(),!1)}else{var o=n.$wrapperEl.children("."+n.params.slideDuplicateClass+'[data-swiper-slide-index="'+e+'"]');n.lazy.loadInSlide(o.index(),!1)}}n.emit("lazyImageReady",i[0],s[0])}}),n.emit("lazyImageLoad",i[0],s[0])})}},load:function(){function t(e){if(l){if(r.children("."+i.slideClass+'[data-swiper-slide-index="'+e+'"]').length)return!0}else if(o[e])return!0;return!1}function a(t){return l?e(t).attr("data-swiper-slide-index"):e(t).index()}var n=this,r=n.$wrapperEl,i=n.params,o=n.slides,s=n.activeIndex,l=n.virtual&&i.virtual.enabled,d=i.lazy,u=i.slidesPerView;if("auto"===u&&(u=0),n.lazy.initialImageLoaded||(n.lazy.initialImageLoaded=!0),n.params.watchSlidesVisibility)r.children("."+i.slideVisibleClass).each(function(t,a){var r=l?e(a).attr("data-swiper-slide-index"):e(a).index();n.lazy.loadInSlide(r)});else if(u>1)for(var c=s;c<s+u;c+=1)t(c)&&n.lazy.loadInSlide(c);else n.lazy.loadInSlide(s);if(d.loadPrevNext)if(u>1||d.loadPrevNextAmount&&d.loadPrevNextAmount>1){for(var f=d.loadPrevNextAmount,h=u,m=Math.min(s+h+Math.max(f,h),o.length),v=Math.max(s-Math.max(h,f),0),p=s+u;p<m;p+=1)t(p)&&n.lazy.loadInSlide(p);for(var C=v;C<s;C+=1)t(C)&&n.lazy.loadInSlide(C)}else{var y=r.children("."+i.slideNextClass);y.length>0&&n.lazy.loadInSlide(a(y));var _=r.children("."+i.slidePrevClass);_.length>0&&n.lazy.loadInSlide(a(_))}}},K={LinearSpline:function(e,t){var a,n,r,i,o,s=function(e,t){for(n=-1,a=e.length;a-n>1;)e[r=a+n>>1]<=t?n=r:a=r;return a};return this.x=e,this.y=t,this.lastIndex=e.length-1,this.interpolate=function(e){return e?(o=s(this.x,e),i=o-1,(e-this.x[i])*(this.y[o]-this.y[i])/(this.x[o]-this.x[i])+this.y[i]):0},this},getInterpolateFunction:function(e){this.controller.spline||(this.controller.spline=this.params.loop?new K.LinearSpline(this.slidesGrid,e.slidesGrid):new K.LinearSpline(this.snapGrid,e.snapGrid))},setTranslate:function(e,t){function a(e){var t=i.rtlTranslate?-i.translate:i.translate;"slide"===i.params.controller.by&&(i.controller.getInterpolateFunction(e),r=-i.controller.spline.interpolate(-t)),r&&"container"!==i.params.controller.by||(n=(e.maxTranslate()-e.minTranslate())/(i.maxTranslate()-i.minTranslate()),r=(t-i.minTranslate())*n+e.minTranslate()),i.params.controller.inverse&&(r=e.maxTranslate()-r),e.updateProgress(r),e.setTranslate(r,i),e.updateActiveIndex(),e.updateSlidesClasses()}var n,r,i=this,o=i.controller.control;if(Array.isArray(o))for(var s=0;s<o.length;s+=1)o[s]!==t&&o[s]instanceof A&&a(o[s]);else o instanceof A&&t!==o&&a(o)},setTransition:function(e,t){function a(t){t.setTransition(e,r),0!==e&&(t.transitionStart(),t.$wrapperEl.transitionEnd(function(){i&&(t.params.loop&&"slide"===r.params.controller.by&&t.loopFix(),t.transitionEnd())}))}var n,r=this,i=r.controller.control;if(Array.isArray(i))for(n=0;n<i.length;n+=1)i[n]!==t&&i[n]instanceof A&&a(i[n]);else i instanceof A&&t!==i&&a(i)}},J={makeElFocusable:function(e){return e.attr("tabIndex","0"),e},addElRole:function(e,t){return e.attr("role",t),e},addElLabel:function(e,t){return e.attr("aria-label",t),e},disableEl:function(e){return e.attr("aria-disabled",!0),e},enableEl:function(e){return e.attr("aria-disabled",!1),e},onEnterKey:function(t){var a=this.params.a11y;if(13===t.keyCode){var n=e(t.target);this.navigation&&this.navigation.$nextEl&&n.is(this.navigation.$nextEl)&&(this.isEnd&&!this.params.loop||this.slideNext(),this.isEnd?this.a11y.notify(a.lastSlideMessage):this.a11y.notify(a.nextSlideMessage)),this.navigation&&this.navigation.$prevEl&&n.is(this.navigation.$prevEl)&&(this.isBeginning&&!this.params.loop||this.slidePrev(),this.isBeginning?this.a11y.notify(a.firstSlideMessage):this.a11y.notify(a.prevSlideMessage)),this.pagination&&n.is("."+this.params.pagination.bulletClass)&&n[0].click()}},notify:function(e){var t=this.a11y.liveRegion;0!==t.length&&(t.html(""),t.html(e))},updateNavigation:function(){if(!this.params.loop){var e=this.navigation,t=e.$nextEl,a=e.$prevEl;a&&a.length>0&&(this.isBeginning?this.a11y.disableEl(a):this.a11y.enableEl(a)),t&&t.length>0&&(this.isEnd?this.a11y.disableEl(t):this.a11y.enableEl(t))}},updatePagination:function(){var t=this,a=t.params.a11y;t.pagination&&t.params.pagination.clickable&&t.pagination.bullets&&t.pagination.bullets.length&&t.pagination.bullets.each(function(n,r){var i=e(r);t.a11y.makeElFocusable(i),t.a11y.addElRole(i,"button"),t.a11y.addElLabel(i,a.paginationBulletMessage.replace(/{{index}}/,i.index()+1))})},init:function(){this.$el.append(this.a11y.liveRegion);var e,t,a=this.params.a11y;this.navigation&&this.navigation.$nextEl&&(e=this.navigation.$nextEl),this.navigation&&this.navigation.$prevEl&&(t=this.navigation.$prevEl),e&&(this.a11y.makeElFocusable(e),this.a11y.addElRole(e,"button"),this.a11y.addElLabel(e,a.nextSlideMessage),e.on("keydown",this.a11y.onEnterKey)),t&&(this.a11y.makeElFocusable(t),this.a11y.addElRole(t,"button"),this.a11y.addElLabel(t,a.prevSlideMessage),t.on("keydown",this.a11y.onEnterKey)),this.pagination&&this.params.pagination.clickable&&this.pagination.bullets&&this.pagination.bullets.length&&this.pagination.$el.on("keydown","."+this.params.pagination.bulletClass,this.a11y.onEnterKey)},destroy:function(){var e,t;this.a11y.liveRegion&&this.a11y.liveRegion.length>0&&this.a11y.liveRegion.remove(),this.navigation&&this.navigation.$nextEl&&(e=this.navigation.$nextEl),this.navigation&&this.navigation.$prevEl&&(t=this.navigation.$prevEl),e&&e.off("keydown",this.a11y.onEnterKey),t&&t.off("keydown",this.a11y.onEnterKey),this.pagination&&this.params.pagination.clickable&&this.pagination.bullets&&this.pagination.bullets.length&&this.pagination.$el.off("keydown","."+this.params.pagination.bulletClass,this.a11y.onEnterKey)}},Z={init:function(){if(this.params.history){if(!r.history||!r.history.pushState)return this.params.history.enabled=!1,void(this.params.hashNavigation.enabled=!0);var e=this.history;e.initialized=!0,e.paths=Z.getPathValues(),(e.paths.key||e.paths.value)&&(e.scrollToSlide(0,e.paths.value,this.params.runCallbacksOnInit),this.params.history.replaceState||r.addEventListener("popstate",this.history.setHistoryPopState))}},destroy:function(){this.params.history.replaceState||r.removeEventListener("popstate",this.history.setHistoryPopState)},setHistoryPopState:function(){this.history.paths=Z.getPathValues(),this.history.scrollToSlide(this.params.speed,this.history.paths.value,!1)},getPathValues:function(){var e=r.location.pathname.slice(1).split("/").filter(function(e){return""!==e}),t=e.length;return{key:e[t-2],value:e[t-1]}},setHistory:function(e,t){if(this.history.initialized&&this.params.history.enabled){var a=this.slides.eq(t),n=Z.slugify(a.attr("data-history"));r.location.pathname.includes(e)||(n=e+"/"+n);var i=r.history.state;i&&i.value===n||(this.params.history.replaceState?r.history.replaceState({value:n},null,n):r.history.pushState({value:n},null,n))}},slugify:function(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},scrollToSlide:function(e,t,a){if(t)for(var n=0,r=this.slides.length;n<r;n+=1){var i=this.slides.eq(n);if(Z.slugify(i.attr("data-history"))===t&&!i.hasClass(this.params.slideDuplicateClass)){var o=i.index();this.slideTo(o,e,a)}}else this.slideTo(0,e,a)}},ee={onHashCange:function(){var e=n.location.hash.replace("#","");e!==this.slides.eq(this.activeIndex).attr("data-hash")&&this.slideTo(this.$wrapperEl.children("."+this.params.slideClass+'[data-hash="'+e+'"]').index())},setHash:function(){if(this.hashNavigation.initialized&&this.params.hashNavigation.enabled)if(this.params.hashNavigation.replaceState&&r.history&&r.history.replaceState)r.history.replaceState(null,null,"#"+this.slides.eq(this.activeIndex).attr("data-hash")||"");else{var e=this.slides.eq(this.activeIndex),t=e.attr("data-hash")||e.attr("data-history");n.location.hash=t||""}},init:function(){if(!(!this.params.hashNavigation.enabled||this.params.history&&this.params.history.enabled)){this.hashNavigation.initialized=!0;var t=n.location.hash.replace("#","");if(t)for(var a=0,i=this.slides.length;a<i;a+=1){var o=this.slides.eq(a);if((o.attr("data-hash")||o.attr("data-history"))===t&&!o.hasClass(this.params.slideDuplicateClass)){var s=o.index();this.slideTo(s,0,this.params.runCallbacksOnInit,!0)}}this.params.hashNavigation.watchState&&e(r).on("hashchange",this.hashNavigation.onHashCange)}},destroy:function(){this.params.hashNavigation.watchState&&e(r).off("hashchange",this.hashNavigation.onHashCange)}},te={run:function(){var e=this,t=e.slides.eq(e.activeIndex),a=e.params.autoplay.delay;t.attr("data-swiper-autoplay")&&(a=t.attr("data-swiper-autoplay")||e.params.autoplay.delay),e.autoplay.timeout=m.nextTick(function(){e.params.autoplay.reverseDirection?e.params.loop?(e.loopFix(),e.slidePrev(e.params.speed,!0,!0),e.emit("autoplay")):e.isBeginning?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(e.slideTo(e.slides.length-1,e.params.speed,!0,!0),e.emit("autoplay")):(e.slidePrev(e.params.speed,!0,!0),e.emit("autoplay")):e.params.loop?(e.loopFix(),e.slideNext(e.params.speed,!0,!0),e.emit("autoplay")):e.isEnd?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(e.slideTo(0,e.params.speed,!0,!0),e.emit("autoplay")):(e.slideNext(e.params.speed,!0,!0),e.emit("autoplay"))},a)},start:function(){return void 0===this.autoplay.timeout&&!this.autoplay.running&&(this.autoplay.running=!0,this.emit("autoplayStart"),this.autoplay.run(),!0)},stop:function(){return!!this.autoplay.running&&void 0!==this.autoplay.timeout&&(this.autoplay.timeout&&(clearTimeout(this.autoplay.timeout),this.autoplay.timeout=void 0),this.autoplay.running=!1,this.emit("autoplayStop"),!0)},pause:function(e){var t=this;t.autoplay.running&&(t.autoplay.paused||(t.autoplay.timeout&&clearTimeout(t.autoplay.timeout),t.autoplay.paused=!0,0!==e&&t.params.autoplay.waitForTransition?t.$wrapperEl.transitionEnd(function(){t&&!t.destroyed&&(t.autoplay.paused=!1,t.autoplay.running?t.autoplay.run():t.autoplay.stop())}):(t.autoplay.paused=!1,t.autoplay.run())))}},ae={setTranslate:function(){for(var e=this.slides,t=0;t<e.length;t+=1){var a=this.slides.eq(t),n=-a[0].swiperSlideOffset;this.params.virtualTranslate||(n-=this.translate);var r=0;this.isHorizontal()||(r=n,n=0);var i=this.params.fadeEffect.crossFade?Math.max(1-Math.abs(a[0].progress),0):1+Math.min(Math.max(a[0].progress,-1),0);a.css({opacity:i}).transform("translate3d("+n+"px, "+r+"px, 0px)")}},setTransition:function(e){var t=this,a=t.slides,n=t.$wrapperEl;if(a.transition(e),t.params.virtualTranslate&&0!==e){var r=!1;a.transitionEnd(function(){if(!r&&t&&!t.destroyed){r=!0,t.animating=!1;for(var e=["webkitTransitionEnd","transitionend"],a=0;a<e.length;a+=1)n.trigger(e[a])}})}}},ne={setTranslate:function(){var t,a=this.$el,n=this.$wrapperEl,r=this.slides,i=this.width,o=this.height,s=this.rtlTranslate,l=this.size,d=this.params.cubeEffect,u=this.isHorizontal(),c=this.virtual&&this.params.virtual.enabled,f=0;d.shadow&&(u?(0===(t=n.find(".swiper-cube-shadow")).length&&(t=e('<div class="swiper-cube-shadow"></div>'),n.append(t)),t.css({height:i+"px"})):0===(t=a.find(".swiper-cube-shadow")).length&&(t=e('<div class="swiper-cube-shadow"></div>'),a.append(t)));for(var h=0;h<r.length;h+=1){var m=r.eq(h),v=h;c&&(v=parseInt(m.attr("data-swiper-slide-index"),10));var p=90*v,C=Math.floor(p/360);s&&(p=-p,C=Math.floor(-p/360));var y=Math.max(Math.min(m[0].progress,1),-1),_=0,g=0,b=0;v%4==0?(_=4*-C*l,b=0):(v-1)%4==0?(_=0,b=4*-C*l):(v-2)%4==0?(_=l+4*C*l,b=l):(v-3)%4==0&&(_=-l,b=3*l+4*l*C),s&&(_=-_),u||(g=_,_=0);var w="rotateX("+(u?0:-p)+"deg) rotateY("+(u?p:0)+"deg) translate3d("+_+"px, "+g+"px, "+b+"px)";if(y<=1&&y>-1&&(f=90*v+90*y,s&&(f=90*-v-90*y)),m.transform(w),d.slideShadows){var I=u?m.find(".swiper-slide-shadow-left"):m.find(".swiper-slide-shadow-top"),D=u?m.find(".swiper-slide-shadow-right"):m.find(".swiper-slide-shadow-bottom");0===I.length&&(I=e('<div class="swiper-slide-shadow-'+(u?"left":"top")+'"></div>'),m.append(I)),0===D.length&&(D=e('<div class="swiper-slide-shadow-'+(u?"right":"bottom")+'"></div>'),m.append(D)),I.length&&(I[0].style.opacity=Math.max(-y,0)),D.length&&(D[0].style.opacity=Math.max(y,0))}}if(n.css({"-webkit-transform-origin":"50% 50% -"+l/2+"px","-moz-transform-origin":"50% 50% -"+l/2+"px","-ms-transform-origin":"50% 50% -"+l/2+"px","transform-origin":"50% 50% -"+l/2+"px"}),d.shadow)if(u)t.transform("translate3d(0px, "+(i/2+d.shadowOffset)+"px, "+-i/2+"px) rotateX(90deg) rotateZ(0deg) scale("+d.shadowScale+")");else{var x=Math.abs(f)-90*Math.floor(Math.abs(f)/90),P=1.5-(Math.sin(2*x*Math.PI/360)/2+Math.cos(2*x*Math.PI/360)/2),S=d.shadowScale,k=d.shadowScale/P,N=d.shadowOffset;t.transform("scale3d("+S+", 1, "+k+") translate3d(0px, "+(o/2+N)+"px, "+-o/2/k+"px) rotateX(-90deg)")}var M=L.isSafari||L.isUiWebView?-l/2:0;n.transform("translate3d(0px,0,"+M+"px) rotateX("+(this.isHorizontal()?0:f)+"deg) rotateY("+(this.isHorizontal()?-f:0)+"deg)")},setTransition:function(e){var t=this.$el;this.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),this.params.cubeEffect.shadow&&!this.isHorizontal()&&t.find(".swiper-cube-shadow").transition(e)}},re={setTranslate:function(){for(var t=this.slides,a=this.rtlTranslate,n=0;n<t.length;n+=1){var r=t.eq(n),i=r[0].progress;this.params.flipEffect.limitRotation&&(i=Math.max(Math.min(r[0].progress,1),-1));var o=-180*i,s=0,l=-r[0].swiperSlideOffset,d=0;if(this.isHorizontal()?a&&(o=-o):(d=l,l=0,s=-o,o=0),r[0].style.zIndex=-Math.abs(Math.round(i))+t.length,this.params.flipEffect.slideShadows){var u=this.isHorizontal()?r.find(".swiper-slide-shadow-left"):r.find(".swiper-slide-shadow-top"),c=this.isHorizontal()?r.find(".swiper-slide-shadow-right"):r.find(".swiper-slide-shadow-bottom");0===u.length&&(u=e('<div class="swiper-slide-shadow-'+(this.isHorizontal()?"left":"top")+'"></div>'),r.append(u)),0===c.length&&(c=e('<div class="swiper-slide-shadow-'+(this.isHorizontal()?"right":"bottom")+'"></div>'),r.append(c)),u.length&&(u[0].style.opacity=Math.max(-i,0)),c.length&&(c[0].style.opacity=Math.max(i,0))}r.transform("translate3d("+l+"px, "+d+"px, 0px) rotateX("+s+"deg) rotateY("+o+"deg)")}},setTransition:function(e){var t=this,a=t.slides,n=t.activeIndex,r=t.$wrapperEl;if(a.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),t.params.virtualTranslate&&0!==e){var i=!1;a.eq(n).transitionEnd(function(){if(!i&&t&&!t.destroyed){i=!0,t.animating=!1;for(var e=["webkitTransitionEnd","transitionend"],a=0;a<e.length;a+=1)r.trigger(e[a])}})}}},ie={setTranslate:function(){for(var t=this.width,a=this.height,n=this.slides,r=this.$wrapperEl,i=this.slidesSizesGrid,o=this.params.coverflowEffect,s=this.isHorizontal(),l=this.translate,d=s?t/2-l:a/2-l,u=s?o.rotate:-o.rotate,c=o.depth,f=0,h=n.length;f<h;f+=1){var m=n.eq(f),v=i[f],C=(d-m[0].swiperSlideOffset-v/2)/v*o.modifier,y=s?u*C:0,_=s?0:u*C,g=-c*Math.abs(C),b=s?0:o.stretch*C,w=s?o.stretch*C:0;Math.abs(w)<.001&&(w=0),Math.abs(b)<.001&&(b=0),Math.abs(g)<.001&&(g=0),Math.abs(y)<.001&&(y=0),Math.abs(_)<.001&&(_=0);var I="translate3d("+w+"px,"+b+"px,"+g+"px)  rotateX("+_+"deg) rotateY("+y+"deg)";if(m.transform(I),m[0].style.zIndex=1-Math.abs(Math.round(C)),o.slideShadows){var D=s?m.find(".swiper-slide-shadow-left"):m.find(".swiper-slide-shadow-top"),x=s?m.find(".swiper-slide-shadow-right"):m.find(".swiper-slide-shadow-bottom");0===D.length&&(D=e('<div class="swiper-slide-shadow-'+(s?"left":"top")+'"></div>'),m.append(D)),0===x.length&&(x=e('<div class="swiper-slide-shadow-'+(s?"right":"bottom")+'"></div>'),m.append(x)),D.length&&(D[0].style.opacity=C>0?C:0),x.length&&(x[0].style.opacity=-C>0?-C:0)}}(p.pointerEvents||p.prefixedPointerEvents)&&(r[0].style.perspectiveOrigin=d+"px 50%")},setTransition:function(e){this.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}},oe=[O,R,j,B,F,$,V,{name:"mousewheel",params:{mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarged:"container"}},create:function(){m.extend(this,{mousewheel:{enabled:!1,enable:q.enable.bind(this),disable:q.disable.bind(this),handle:q.handle.bind(this),handleMouseEnter:q.handleMouseEnter.bind(this),handleMouseLeave:q.handleMouseLeave.bind(this),lastScrollTime:m.now()}})},on:{init:function(){this.params.mousewheel.enabled&&this.mousewheel.enable()},destroy:function(){this.mousewheel.enabled&&this.mousewheel.disable()}}},{name:"navigation",params:{navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}},create:function(){m.extend(this,{navigation:{init:Q.init.bind(this),update:Q.update.bind(this),destroy:Q.destroy.bind(this)}})},on:{init:function(){this.navigation.init(),this.navigation.update()},toEdge:function(){this.navigation.update()},fromEdge:function(){this.navigation.update()},destroy:function(){this.navigation.destroy()},click:function(t){var a=this.navigation,n=a.$nextEl,r=a.$prevEl;!this.params.navigation.hideOnClick||e(t.target).is(r)||e(t.target).is(n)||(n&&n.toggleClass(this.params.navigation.hiddenClass),r&&r.toggleClass(this.params.navigation.hiddenClass))}}},{name:"pagination",params:{pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",modifierClass:"swiper-pagination-",currentClass:"swiper-pagination-current",totalClass:"swiper-pagination-total",hiddenClass:"swiper-pagination-hidden",progressbarFillClass:"swiper-pagination-progressbar-fill",progressbarOppositeClass:"swiper-pagination-progressbar-opposite",clickableClass:"swiper-pagination-clickable",lockClass:"swiper-pagination-lock"}},create:function(){m.extend(this,{pagination:{init:Y.init.bind(this),render:Y.render.bind(this),update:Y.update.bind(this),destroy:Y.destroy.bind(this),dynamicBulletIndex:0}})},on:{init:function(){this.pagination.init(),this.pagination.render(),this.pagination.update()},activeIndexChange:function(){this.params.loop?this.pagination.update():void 0===this.snapIndex&&this.pagination.update()},snapIndexChange:function(){this.params.loop||this.pagination.update()},slidesLengthChange:function(){this.params.loop&&(this.pagination.render(),this.pagination.update())},snapGridLengthChange:function(){this.params.loop||(this.pagination.render(),this.pagination.update())},destroy:function(){this.pagination.destroy()},click:function(t){this.params.pagination.el&&this.params.pagination.hideOnClick&&this.pagination.$el.length>0&&!e(t.target).hasClass(this.params.pagination.bulletClass)&&this.pagination.$el.toggleClass(this.params.pagination.hiddenClass)}}},{name:"scrollbar",params:{scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag"}},create:function(){m.extend(this,{scrollbar:{init:X.init.bind(this),destroy:X.destroy.bind(this),updateSize:X.updateSize.bind(this),setTranslate:X.setTranslate.bind(this),setTransition:X.setTransition.bind(this),enableDraggable:X.enableDraggable.bind(this),disableDraggable:X.disableDraggable.bind(this),setDragPosition:X.setDragPosition.bind(this),onDragStart:X.onDragStart.bind(this),onDragMove:X.onDragMove.bind(this),onDragEnd:X.onDragEnd.bind(this),isTouched:!1,timeout:null,dragTimeout:null}})},on:{init:function(){this.scrollbar.init(),this.scrollbar.updateSize(),this.scrollbar.setTranslate()},update:function(){this.scrollbar.updateSize()},resize:function(){this.scrollbar.updateSize()},observerUpdate:function(){this.scrollbar.updateSize()},setTranslate:function(){this.scrollbar.setTranslate()},setTransition:function(e){this.scrollbar.setTransition(e)},destroy:function(){this.scrollbar.destroy()}}},{name:"parallax",params:{parallax:{enabled:!1}},create:function(){m.extend(this,{parallax:{setTransform:G.setTransform.bind(this),setTranslate:G.setTranslate.bind(this),setTransition:G.setTransition.bind(this)}})},on:{beforeInit:function(){this.params.parallax.enabled&&(this.params.watchSlidesProgress=!0)},init:function(){this.params.parallax&&this.parallax.setTranslate()},setTranslate:function(){this.params.parallax&&this.parallax.setTranslate()},setTransition:function(e){this.params.parallax&&this.parallax.setTransition(e)}}},{name:"zoom",params:{zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}},create:function(){var e=this,t={enabled:!1,scale:1,currentScale:1,isScaling:!1,gesture:{$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0}};"onGestureStart onGestureChange onGestureEnd onTouchStart onTouchMove onTouchEnd onTransitionEnd toggle enable disable in out".split(" ").forEach(function(a){t[a]=W[a].bind(e)}),m.extend(e,{zoom:t})},on:{init:function(){this.params.zoom.enabled&&this.zoom.enable()},destroy:function(){this.zoom.disable()},touchStart:function(e){this.zoom.enabled&&this.zoom.onTouchStart(e)},touchEnd:function(e){this.zoom.enabled&&this.zoom.onTouchEnd(e)},doubleTap:function(e){this.params.zoom.enabled&&this.zoom.enabled&&this.params.zoom.toggle&&this.zoom.toggle(e)},transitionEnd:function(){this.zoom.enabled&&this.params.zoom.enabled&&this.zoom.onTransitionEnd()}}},{name:"lazy",params:{lazy:{enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"}},create:function(){m.extend(this,{lazy:{initialImageLoaded:!1,load:z.load.bind(this),loadInSlide:z.loadInSlide.bind(this)}})},on:{beforeInit:function(){this.params.lazy.enabled&&this.params.preloadImages&&(this.params.preloadImages=!1)},init:function(){this.params.lazy.enabled&&!this.params.loop&&0===this.params.initialSlide&&this.lazy.load()},scroll:function(){this.params.freeMode&&!this.params.freeModeSticky&&this.lazy.load()},resize:function(){this.params.lazy.enabled&&this.lazy.load()},scrollbarDragMove:function(){this.params.lazy.enabled&&this.lazy.load()},transitionStart:function(){this.params.lazy.enabled&&(this.params.lazy.loadOnTransitionStart||!this.params.lazy.loadOnTransitionStart&&!this.lazy.initialImageLoaded)&&this.lazy.load()},transitionEnd:function(){this.params.lazy.enabled&&!this.params.lazy.loadOnTransitionStart&&this.lazy.load()}}},{name:"controller",params:{controller:{control:void 0,inverse:!1,by:"slide"}},create:function(){m.extend(this,{controller:{control:this.params.controller.control,getInterpolateFunction:K.getInterpolateFunction.bind(this),setTranslate:K.setTranslate.bind(this),setTransition:K.setTransition.bind(this)}})},on:{update:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},resize:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},observerUpdate:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},setTranslate:function(e,t){this.controller.control&&this.controller.setTranslate(e,t)},setTransition:function(e,t){this.controller.control&&this.controller.setTransition(e,t)}}},{name:"a11y",params:{a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}"}},create:function(){var t=this;m.extend(t,{a11y:{liveRegion:e('<span class="'+t.params.a11y.notificationClass+'" aria-live="assertive" aria-atomic="true"></span>')}}),(0,h.default)(J).forEach(function(e){t.a11y[e]=J[e].bind(t)})},on:{init:function(){this.params.a11y.enabled&&(this.a11y.init(),this.a11y.updateNavigation())},toEdge:function(){this.params.a11y.enabled&&this.a11y.updateNavigation()},fromEdge:function(){this.params.a11y.enabled&&this.a11y.updateNavigation()},paginationUpdate:function(){this.params.a11y.enabled&&this.a11y.updatePagination()},destroy:function(){this.params.a11y.enabled&&this.a11y.destroy()}}},{name:"history",params:{history:{enabled:!1,replaceState:!1,key:"slides"}},create:function(){m.extend(this,{history:{init:Z.init.bind(this),setHistory:Z.setHistory.bind(this),setHistoryPopState:Z.setHistoryPopState.bind(this),scrollToSlide:Z.scrollToSlide.bind(this),destroy:Z.destroy.bind(this)}})},on:{init:function(){this.params.history.enabled&&this.history.init()},destroy:function(){this.params.history.enabled&&this.history.destroy()},transitionEnd:function(){this.history.initialized&&this.history.setHistory(this.params.history.key,this.activeIndex)}}},{name:"hash-navigation",params:{hashNavigation:{enabled:!1,replaceState:!1,watchState:!1}},create:function(){m.extend(this,{hashNavigation:{initialized:!1,init:ee.init.bind(this),destroy:ee.destroy.bind(this),setHash:ee.setHash.bind(this),onHashCange:ee.onHashCange.bind(this)}})},on:{init:function(){this.params.hashNavigation.enabled&&this.hashNavigation.init()},destroy:function(){this.params.hashNavigation.enabled&&this.hashNavigation.destroy()},transitionEnd:function(){this.hashNavigation.initialized&&this.hashNavigation.setHash()}}},{name:"autoplay",params:{autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1}},create:function(){m.extend(this,{autoplay:{running:!1,paused:!1,run:te.run.bind(this),start:te.start.bind(this),stop:te.stop.bind(this),pause:te.pause.bind(this)}})},on:{init:function(){this.params.autoplay.enabled&&this.autoplay.start()},beforeTransitionStart:function(e,t){this.autoplay.running&&(t||!this.params.autoplay.disableOnInteraction?this.autoplay.pause(e):this.autoplay.stop())},sliderFirstMove:function(){this.autoplay.running&&(this.params.autoplay.disableOnInteraction?this.autoplay.stop():this.autoplay.pause())},destroy:function(){this.autoplay.running&&this.autoplay.stop()}}},{name:"effect-fade",params:{fadeEffect:{crossFade:!1}},create:function(){m.extend(this,{fadeEffect:{setTranslate:ae.setTranslate.bind(this),setTransition:ae.setTransition.bind(this)}})},on:{beforeInit:function(){if("fade"===this.params.effect){this.classNames.push(this.params.containerModifierClass+"fade");var e={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};m.extend(this.params,e),m.extend(this.originalParams,e)}},setTranslate:function(){"fade"===this.params.effect&&this.fadeEffect.setTranslate()},setTransition:function(e){"fade"===this.params.effect&&this.fadeEffect.setTransition(e)}}},{name:"effect-cube",params:{cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}},create:function(){m.extend(this,{cubeEffect:{setTranslate:ne.setTranslate.bind(this),setTransition:ne.setTransition.bind(this)}})},on:{beforeInit:function(){if("cube"===this.params.effect){this.classNames.push(this.params.containerModifierClass+"cube"),this.classNames.push(this.params.containerModifierClass+"3d");var e={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0};m.extend(this.params,e),m.extend(this.originalParams,e)}},setTranslate:function(){"cube"===this.params.effect&&this.cubeEffect.setTranslate()},setTransition:function(e){"cube"===this.params.effect&&this.cubeEffect.setTransition(e)}}},{name:"effect-flip",params:{flipEffect:{slideShadows:!0,limitRotation:!0}},create:function(){m.extend(this,{flipEffect:{setTranslate:re.setTranslate.bind(this),setTransition:re.setTransition.bind(this)}})},on:{beforeInit:function(){if("flip"===this.params.effect){this.classNames.push(this.params.containerModifierClass+"flip"),this.classNames.push(this.params.containerModifierClass+"3d");var e={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};m.extend(this.params,e),m.extend(this.originalParams,e)}},setTranslate:function(){"flip"===this.params.effect&&this.flipEffect.setTranslate()},setTransition:function(e){"flip"===this.params.effect&&this.flipEffect.setTransition(e)}}},{name:"effect-coverflow",params:{coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0}},create:function(){m.extend(this,{coverflowEffect:{setTranslate:ie.setTranslate.bind(this),setTransition:ie.setTransition.bind(this)}})},on:{beforeInit:function(){"coverflow"===this.params.effect&&(this.classNames.push(this.params.containerModifierClass+"coverflow"),this.classNames.push(this.params.containerModifierClass+"3d"),this.params.watchSlidesProgress=!0,this.originalParams.watchSlidesProgress=!0)},setTranslate:function(){"coverflow"===this.params.effect&&this.coverflowEffect.setTranslate()},setTransition:function(e){"coverflow"===this.params.effect&&this.coverflowEffect.setTransition(e)}}}];return void 0===A.use&&(A.use=A.Class.use,A.installModule=A.Class.installModule),A.use(oe),A})},"Dqn+":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HXPS"),i=n(r),o=a("7g+Q"),s=n(o),l=a("6q39"),d=n(l),u=a("1KNX"),c=n(u),f=a("7biW"),h=n(f);t.default={name:"GroupList",props:{show:{type:Boolean,default:!1},defaultValue:{type:String,default:""},data:{type:Array,default:function(){return[]}}},components:{Icon:i.default,Popup:s.default,LoadMore:d.default,RScroll:c.default,MSearch:h.default},data:function(){return{showPop:!1,scrollOptions:{click:!0}}},watch:{show:{handler:function(e){this.showPop=e}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){var t=!1;return e.name===this.defaultValue&&(t=!0),t},selThis:function(e,t){this.showPop=!1,this.$emit("sel-group",e.name)},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.$emit("list-search",a)}},created:function(){}}},DrpM:function(e,t){},Duem:function(e,t,a){"use strict";function n(e){a("Gt3T")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("c6/O");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("N0wR"),s=a.n(o),l=a("pfLn"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-6fe8f261",null);t.default=c.exports},DwMW:function(e,t,a){"use strict";function n(e){a("0W8i")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("GaoY");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("IOni"),s=a.n(o),l=a("55hk"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-262eff3b",null);t.default=c.exports},DxXp:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("kNGm"),i=(n(r),a("SAzG")),o=n(i),s=a("0AQX"),l=a("+VRO"),d=n(l),u=a("BUFe"),c=n(u),f=a("AupE"),h=n(f),m=a("bFc7"),v=n(m);a("zWMP"),a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",costList:[]}},mixins:[d.default],components:{workFlow:h.default,RAction:c.default,contactPart:v.default,XInput:o.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=t.formData,r=t.attachment;if(!1===a)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var i=n.order.dataSet,o=void 0===i?[]:i;e.attachment=r,e.orderInfo=n,e.costList=o,e.workFlowInfoHandler()})}}}},E0uh:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Iu/6"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"Loading",data:function(){return{show:!1}},components:{Spinner:r.default}}},E2w4:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper xsbj-detail-container"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"matter-list":e.matterList},on:{"on-show-more":e.onShowMore}}),e._v(" "),a("other-part",{attrs:{"other-info":e.orderInfo,attachment:e.attachment}}),e._v(" "),a("pop-matter-detail",{attrs:{show:e.showMatterDetail,item:e.matterDetail},model:{value:e.showMatterDetail,callback:function(t){e.showMatterDetail=t},expression:"showMatterDetail"}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[],i={render:n,staticRenderFns:r};t.a=i},E3CK:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAAAXNSR0IArs4c6QAACVxJREFUeAHVmwuMVcUZx3dBsFrFWogUXVABIVSJxohohYqaTWsVazXGGt8RnzHGR0ubaNL4bBujRlsftVWioi1GSwjRKKmvYCpRgkRAfKDC6rYWQbE+UWD9/e/eWefMnTkzc+/eXfiS/87MN9/3n+/MmTNnZs7d1pY+kK6urnE0MwlMAD8Ee4MhVQwjlXwNOsFHYC1YAV4F/25tbV1J2lRpbQY7Fz4I3ingWHAC2As0Ih04zwfzwNN0zOZGyJruSweMBreAdaBZ8gHEN4K2pl9QbgMEpQ6YDTYBIxvJvGgKDab/wP9jh+MryrPA2Nx4e92eIHYEfwS6aFfmoPiFq6yzPAm/WwO+X6P/Cxje6xeYQkjDU8BKEJJ2KgaCjpBBon6p4sF2H7ClxGcDdSenxN4rNjTWCn4FdCdCspqKAdULuDJklKi/yASO/eMJPn/F5jvGpykpDQwFCxKC+Z0JANvhwPfoJNB0fYbRLhbXT1OcsFkCRhm/Xk0hbgOvgZhsxqAQBOUHY06B+ln2RWCj0fhGwNZVv49if9u/4TyEI8Eqt6VA+Qm3Qex+FLCNqQ/1cF0Sc7LqPyJ/kMtRVxmiUSBnwjvJ1xAcL4McWRbgGQLJ/zOIGu8MGhsBUkeCYtNiZ3DgAmbIIEMu8fFIB8efMnhkuh6MCfGV6nEcBBaBHLk5RAqJ1hy6OynyBUa7lnCNp77sVeprYylK700KtVPR43STjy2i27eMFN+bI/6m+oEyHtVh+IQxzkhvi/EW6iGuZ0X4QoHEU4A3tigy1zTV415QYXiMMc5MjysQhQqQ7gQ6M8llPiPEaeuxezLCnbTlhmMAeDPC5at+F+XOdkzePEbaO+TKpzjEyWkRu+Mi5Jd7A/Mo4bk0whWqDs5llWbw0i6ynlXgPZ44vSr4dSe1BPfJlyiHeh09Smx3AZ/4iCI67VxH25SV/YCluIZ8/sza0pLcERyqbKGNu6w27exc6tfbirI8th9Tf3+ZTaBOB0dXeOvUQ2BTpCd91UnPtN0oJMOA7r4rR9h2KXkIJrgkiWWN/JGmDXtEXIhyoKnISJNHg+HkTq4j/7ApV9NVpM86umgRLt2If0UNaw008osTPD2j57aeN4Wetd1q24hr8JsMbJkZ9/JbQDLdJsrIv1lgxPGoDGfb9NECUWYBosVVsro7VE3CoRv5VpUrNzlYHNvpD+LdKHVXlf6teSyIYjDD9atSr28rbyd7L5iHj47wC5LKha+W2xfgPLlAkFbQxNktkKwBufIeDjVzCrq7DW8sxXYHoA1Ru2uLThu+q119s8rb0dh4yAsHKYmNzeJObLZt4ZpI+VzS+6l73q7z5bHR5uoq6nyT3dnoL6D+euySRhi22rGe6Gsrojtdj8a0iJGvugulhrQr51UVOmeMdoRsucg7qz49CRfUSmEG0ESsC/s7SJGnMDogxdCxGaaJ5s8gV2ruIAQa5mabrXd0XW8TBYhvOzCy0Am6KUWNCD0auVIzSUKgCfd7VSK9o88Bv6+Wc5NzLYcp9MhERs4ySxfMYjuWyouDBv6KFToM1btUzqmij7S7E9iXtgM8unNTLN0a8qOx05I6WeDRSHoPfDubt7TcCU/PsX4ZGf66CU+D75bZOXXLNQzXghypOdzAObTMne40GC3C9WtPMNpY7Rx1bsBAj8YOmf6+x8Ieyjad7uJ8W5GQ93HthN/p4I4E/4oJHXcymfRrw6Hsi5V7cxa7gWCwPQh9/dZCZ4zrEypjOw2EZHnIz6eH5IEQkU+vRyNHtHorCM6nRAhuLDiUFOB5KML14xL3hqo0WX4KQ8rE8gV2I5i0dAbQI/g/Q2Faj6I2sx5Vmzu5umbwDEXXCbZ366zyHHh+aZVLs3COxOD7pUbdlV0aEVoqp0jNAQhO+4CUY/UzY8HAc1lCENqcDY9xmXpstcpNkbWaLHXH9jDOJWloktQqMCY667gvYuSbJF2XQShkd51bESjr5r0UqLPVGzUi5iZ0WXHfDgU+g8D/EnyNyYF2y3YeAy2aUqUDw4G2f2/kB0CyIoHINxp+jl/OMrpsQZQyGkyYeu6PNYVYSqeNATqC1CMcwh80WZ4K2ewSwk3UjWKS+q9tg98Cyu22LpL/nPo94Nlg28GjZfl/QPo7v6VlATw/sXnK8rRxPPXBT4jULdIQHwfKZJ7bCMZ7g5RJ0uW91MN1sWuUUFbbY12uhsuQrilpvOYTGbbXl9iXVb1OZWFypfxKmUNJ3U05Fw7PfWCJB4+LpxIUlToy8z3D76MfyTDU41ERbPWm6QAjujXZf9vhq2zj4ZqM96Jshm4Hbf70qGl9ExXaOgSjqR7DVXDMregxmgZ8UrONxuh4n2GG7p8mGHzuyfDzmZ5tuBpNzYjQ22MNaHMIx9FbhVcn0WgoHe3Y5RQ3Y7wn+ARokkxZ1WLmlcXEN8lb41ESu950p1lVH+J/vlWurAuudbr8uYIBBepHAf1YrFG5GgKdR/aGJP9Gisb2AvYkrymhInrejej0+bfA6B4yFVaqld1ZVrne7Doc9To9o14Cy2+jlY9lD8ag8hSQamT6v4rTW/bWdRnlRoZtLKg+reda9HlAnw6MPBgMAAsNffvj7MNB422sgut6zPQAqVaa40svAYPbLAdlf1PqsA1Ucg3nOdfUMzcEw8dBPxm2h5Amx+TlbJC4nyqIXT93sH9M8iFlnX3EBcNTgS1yHh333LosiFkfhxfaF0L+lKwocbjdIdBSeJuaPIl3pnMN92Z1gowhUG/Od4jmZBP1kwNxTwT64mZE+5whdYWDo36stdwwVdOZdZH1oRNxDgb6pa2RDWQmNBQCBG1glWEk1asn5xyiofbrcSa+G6x49dNH32arQG1WWQWlW4BIe5BngflGoZ2fyluj6JqmAx3n6YT+Z+wnFpKWSlJHiIHO+AGJts/7qrwNiI4QjqETlqTEql1nkkAo4sNBtHeTCJtrtAz6Q1M7QaEkd4SMIdbR/5HAv1mRUf/LbEI4hFhX90koPCpHg3fA1iL6/qqD6L4XGtavZK4B+gLVX6ItwN/AsL7vAadFgtB6XivRz0FfiTrgEbCfE07/FwlKv7G+ErwNmiWrIb4OmFd5/194KAKCbAVTgf6fW3sU+3iMYrZ04nE3OBIkv/JD8fn0TSF1GyJ4fZo/DOh8UesQ7WS1SNNzbWLYQv4z8C7oBB1gKXiKN8BK0qbKN88n7GQmGyFcAAAAAElFTkSuQmCC"},E6hn:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("4YfN"),s=n(o),l=a("u28h"),d=n(l),u=a("SAzG"),c=n(u),f=a("Qg39"),h=a("yt3/"),m=n(h);t.default={name:"dealerOtherPart",props:{dealerConfig:{type:Array,default:function(){return[]},required:!0},dealerInfo:{type:Object,default:function(){return{}},required:!0}},computed:{config:function(){return this.dealerConfig}},data:function(){return{dealer:{}}},components:{PopSingleSelect:m.default,Datetime:d.default,XInput:c.default},watch:{dealerInfo:{handler:function(e){this.dealer=(0,s.default)({},this.dealerInfo)},immediate:!0},dealer:{handler:function(e){var t=(0,i.default)(e),a=(0,i.default)(this.dealerInfo);this.verifyPayments(e),t!==a&&this.$emit("input",e)},deep:!0,immediate:!0}},methods:{checkAmt:function(e){var t=e.tdAmountCopy1;t&&(e.tdAmountCopy1=Math.abs((0,f.toFixed)(t)))},getDate:function(e){var t=this;this.$vux.datetime.show({value:"",confirmText:"确认",cancelText:"取消",onConfirm:function(a){t.$set(t.dealer,e.fieldCode,a)}})},verifyPayments:function(e){var t=e.drDealerPaymentTerm,a=e.crDealerPaymentTerm;this.config.forEach(function(e){if("tdAmountCopy1"===e.fieldCode||e.fieldCode.includes("paymentDueDate")){if(t&&t.includes("预收"))return void(e.hiddenInRun=!1);e.hiddenInRun=!0}if(e.fieldCode.includes("pamentDays")){if(a&&a.includes("账期"))return void(e.hiddenInRun=!1);e.hiddenInRun=!0}})}},updated:function(){this.verifyPayments(this.dealer)}}},E7Wa:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("a3Yh"),s=n(o),l=a("3cXf"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),h=n(f),m=a("SAzG"),v=n(m),p=a("7g+Q"),C=n(p),y=a("PzEQ"),_=n(y),g=a("jnZd"),b=n(g),w=a("u28h"),I=n(w),D=a("kNGm"),x=n(D),P=a("0AQX"),S=a("HyXB"),k=(a("jLp1"),a("bKg5")),L=n(k),N=a("55ug"),M=n(N),T=a("wuIh"),A=n(T),O=a("vl8n"),R=n(O),j=a("+WR7"),B=n(j),E=a("zWMP"),F=a("Qg39");t.default={mixins:[L.default],components:{Cell:c.default,Group:h.default,Popup:C.default,XInput:v.default,XTextarea:_.default,PopupPicker:b.default,RPicker:R.default,PopBaseinfo:B.default,PopDealerList:M.default,PopMoneyOrderList:A.default,Datetime:I.default},data:function(){return{listId:"bb9ce973-2f62-4707-a54c-7e8605dc99d6",biReferenceId:"",selectedCost:[],costIndex:0,transCode:"",formData:{biComment:""},dealerInfo:{},showOrder:!1,orderList:[]}},computed:{thenTotalAmntBal:function(){var e=0;return this.orderList.forEach(function(t){t.tdAmount&&(e=(0,E.accAdd)(e,t.tdAmount))}),(0,F.toFixed)(e)}},methods:{submitOrder:function(){var e=this,t="",a=[],n=[{key:"draftNumber",message:"请选择协议号"},{key:"draftType",message:"请选择类型"},{key:"accepter",message:"请选择承兑人"},{key:"tdAmount",message:"请输入金额"},{key:"draftDate",message:"请选择出票日"},{key:"draftDueDate",message:"请选择到期日"},{key:"draftSellDate",message:"请选择出让日期"}];if(this.dealerInfo.dealerCode||(t="请选择往来"),t||this.orderList.length||(t="请选择汇票明细"),t||this.orderList.every(function(e){return n.every(function(a){return e[a.key]||0===e[a.key]||(t=a.message),!t}),a.push({tdId:e.tdId||"",draftNumber:e.draftNumber,draftType:e.draftType,accepter:e.accepter,tdAmount:e.tdAmount,draftDate:e.draftDate,draftDueDate:e.draftDueDate,draftSellDate:e.draftSellDate,comment:e.comment}),!t}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=S.saveAndStartWf,n=(0,s.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,d.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:e.formData.biComment,formData:(0,d.default)((0,i.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{dealerName_dealerDebit:e.dealerInfo.nickname,dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,thenAmntBal:e.dealerInfo.amntBal,thenTotalAmntBal:e.thenTotalAmntBal,dataSet:a}})),wfPara:(0,d.default)(n)};e.isResubmit&&(r.biReferenceId=e.biReferenceId,t=S.saveAndCommitTask),e.processCode.length||(t=S.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.attachment,n=void 0===a?[]:a,r=t.listId,o=void 0===r?"":r,s=(t.biComment,t.biReferenceId),l=void 0===s?"":s,d=t.formData,u=void 0===d?{}:d;e.attachment=n,e.listId=o,e.biReferenceId=l,e.handlerDefault={handler:u.handler,handlerName:u.handlerName,handlerUnit:u.handlerUnit,handlerUnitName:u.handlerUnitName,handlerRole:u.handlerRole,handlerRoleName:u.handlerRoleName},e.formData=(0,i.default)({},e.formData,e.handlerDefault,{biComment:u.biComment,biId:u.biId,biProcessStatus:u.biProcessStatus,creator:u.creator,modifer:u.modifer});var c=u.order,f=void 0===c?{}:c,h=f.dataSet,m=void 0===h?[]:h;e.dealerInfo={nickname:f.dealerName_dealerDebit,dealerCode:f.dealerDebit,dealerLabelName:f.drDealerLabel,amntBal:f.thenAmntBal},e.orderList=m,e.$loading.hide()})},hasDraftData:function(){return!!this.dealerInfo.dealerCode&&(0,s.default)({},"CRCDHP_DATA",{formData:this.formData,dealerInfo:this.dealerInfo,orderList:this.orderList})},getRelationData:function(){},selDealer:function(e){this.dealerInfo=(0,i.default)({},e)},selOrder:function(e){e.forEach(function(e){e.hasOrigin=!0,e.originAmt=e.tdAmount,e.draftDate=(0,x.default)(e.draftDate,"YYYY-MM-DD"),e.draftDueDate=(0,x.default)(e.draftDueDate,"YYYY-MM-DD")}),this.orderList=e},addOrder:function(){this.showOrder=!0},checkAmt:function(e,t){var a=e.hasOrigin,n=void 0!==a&&a,r=e.originAmt,i=void 0===r?0:r,o=e.tdAmount,s=void 0===o?0:o;n&&s>i&&(s=i),e.tdAmount=Math.abs((0,F.toFixed)(s))}},created:function(){var e=sessionStorage.getItem("CRCDHP_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.orderList=t.orderList,sessionStorage.removeItem("CRCDHP_DATA")}}}},ELRb:function(e,t){},EOEs:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.projectInfo.project?a("div",{staticClass:"project_ct_info"},[e._m(0),e._v(" "),a("div",{staticClass:"info_content"},[a("div",{staticClass:"each_info"},[a("span",{staticClass:"title"},[e._v("项目名称: ")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e.projectInfo.project||"无"))])]),e._v(" "),a("div",{staticClass:"each_info"},[a("span",{staticClass:"title"},[e._v("项目类型: ")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e.projectInfo.projectType_project||"无"))])])])]):e._e()},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"info_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-xiangmu"}),e._v("项目信息")])}],i={render:n,staticRenderFns:r};t.a=i},EPhH:function(e,t){},EQmV:function(e,t,a){"use strict";function n(e){a("Wjre")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("7hg6");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("4+Bu"),s=a.n(o),l=a("OLg4"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-098e2e06",null);t.default=c.exports},ESmm:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("lC5x"),i=n(r),o=a("J0Oq"),s=n(o),l=a("rVsN"),d=n(l),u=a("3cXf"),c=n(u),f=a("IHPB"),h=n(f),m=a("KH7x"),v=n(m),p=a("4YfN"),C=n(p),y=a("8VZL"),_=n(y),g=a("HXPS"),b=n(g),w=a("fQz5"),I=n(w),D=a("HyXB"),x=a("I3vJ"),P=a("I8ug"),S=a("1KNX"),k=n(S),L=a("7biW"),N=n(L),M=a("Ab2S"),T=n(M);t.default={components:{Tab:_.default,Icon:b.default,TabItem:I.default,RScroll:k.default,RSearch:N.default,addBtn:T.default},data:function(){return{listId:"78a798f8-0f3a-4646-aa8b-d5bb1fada28c",srhInpTx:"",matNature:[{name:"全部"},{name:"成品"},{name:"半成品"},{name:"商品"},{name:"原件"},{name:"虚拟件"},{name:"商品库存"},{name:"客供原料"},{name:"服务"}],placeHolder:"名称/编码",activeTab:"",activeIndex:0,matterList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0},total:null,clickVisited:!1,action:{},listFields:[]}},methods:{goEditAds:function(){var e={path:"/materlist/addMater"};this.activeTab.length&&(e.query={matterType:this.activeTab}),this.$router.push(e)},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},goDetail:function(e,t){var a=this;this.clickVisited||(this.clickVisited=!0,e.visited=!0,this.$set(this.matterList,t,(0,C.default)({},e)),setTimeout(function(){a.clickVisited=!1,a.$router.push({path:"/materlist/materDetail",query:{transCode:e.transCode}})},200))},resetCondition:function(){this.matterList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.$refs.bScroll.resetPullDown()},tabClick:function(e,t){this.activeTab=t?e.name:"",this.activeIndex=t,this.resetCondition(),this.getMatList()},getDictByType:function(){var e=this;return(0,D.getDictByType)("processing").then(function(t){var a=t.tableContent,n=(0,v.default)(a,1);n[0];e.activeTab="",a.unshift({name:"全部"}),e.matNature=[].concat((0,h.default)(a))})},getMatList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=[{operator:"eq",value:this.activeTab,property:"processing"}];return this.activeIndex||(a[0].operator="like"),this.srhInpTx&&(a=[].concat((0,h.default)(a),[{link:"or",property_1:"inventoryCode",operator_1:"like",value_1:this.srhInpTx,property_2:"inventoryName",operator_2:"like",value_2:this.srhInpTx}])),(0,x.getMatList)({limit:this.limit,page:this.page,filter:(0,c.default)(a),listViewID:2132,sort:(0,c.default)([{property:"effectiveTime",direction:"desc"},{property:"inventoryName",direction:"desc"}])}).then(function(a){var n=a.dataCount,r=void 0===n?0:n,i=a.tableContent,o=void 0===i?[]:i,s="",l=e.listFields;t&&0===e.activeIndex&&e.total&&(s=r-e.total==0?"暂无新数据":"新增"+(r-e.total)+"条数据",e.$vux.toast.show({text:s,position:"top",width:"50%",type:"text",time:700})),0===e.activeIndex&&1===e.page&&sessionStorage.setItem("WL",r),o.forEach(function(t){t.inventoryPic=t.inventoryPic?"/H_roleplay-si/ds/download?url="+t.inventoryPic+"&width=400&height=400":e.getDefaultImg(),t.fields=l.map(function(e){return(0,C.default)({},e,{fieldValue:t[e.fieldCode]})})}),e.hasNext=r>(e.page-1)*e.limit+o.length,e.matterList=1===e.page?o:[].concat((0,h.default)(e.matterList),(0,h.default)(o)),t||e.$nextTick(function(){e.resetScroll()})}).catch(function(t){e.resetScroll()})},resetScroll:function(){this.$refs.bScroll.finishPullDown(),this.$refs.bScroll.finishPullUp()},searchMat:function(e){var t=e.val,a=void 0===t?"":t;e.property;this.srhInpTx=a,this.resetCondition(),this.getMatList()},onPullingUp:function(){this.page++,this.getMatList()},onPullingDown:function(){this.page=1,this.getData(!0)},getSession:function(){var e=this;return new d.default(function(t){e.total=sessionStorage.getItem("WL"),t()})},getData:function(e){var t=this;return(0,s.default)(i.default.mark(function a(){return i.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getSession();case 2:if(!e){a.next=6;break}return a.next=5,t.getMatList(!0).then(function(){t.$nextTick(function(){t.$refs.bScroll.finishPullDown().then(function(){t.$refs.bScroll.finishPullUp()})})});case 5:return a.abrupt("return");case 6:return a.next=8,t.getMatList();case 8:case"end":return a.stop()}},a,t)}))()},changeVisitedStatus:function(){var e=this;setTimeout(function(){var t=[].concat((0,h.default)(e.matterList));t.forEach(function(e){e.visited=!1}),e.matterList=t},200)},getAppDetail:function(){var e=this;return(0,P.getAppDetail)(this.listId).then(function(t){var a=(0,v.default)(t,1),n=a[0],r=void 0===n?{}:n,i=r.action;e.action=i})},getListViewById:function(){var e=this;return(0,D.getListViewById)("eae9040e-bcb3-4ab9-bef6-639041b1d21b").then(function(t){var a=(0,v.default)(t,1),n=a[0],r=void 0===n?{}:n,i=JSON.parse(r.content||"{}"),o=i.fields,s=void 0===o?[]:o,l=["inventoryType","inventorySubclass","measureUnit","processing"];e.listFields=s.filter(function(e){return!e.isHidden&&l.includes(e.fieldCode)})})}},watch:{$route:{handler:function(e,t){var a=e.path,n=void 0===a?"":a,r=e.meta,i=void 0===r?{}:r;"/materlist"===n&&(this.changeVisitedStatus(),i.reload&&(e.meta.reload=!1,this.srhInpTx="",this.activeTab="",this.activeIndex=0,this.resetCondition(),this.getData(!1)))}}},created:function(){var e=this;(0,s.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getAppDetail();case 2:return t.next=4,e.getSession();case 4:return t.next=6,e.getListViewById();case 6:return t.next=8,e.getDictByType().then(function(){e.getMatList()});case 8:case"end":return t.stop()}},t,e)}))()}}},ET1x:function(e,t){},EVlf:function(e,t,a){"use strict";function n(e){a("2rRD")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("FnN8");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("Q1rT"),s=a.n(o),l=a("zSNY"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-4cb9f110",null);t.default=c.exports},EXzQ:function(e,t){},"EZe+":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("4YfN"),s=n(o),l=a("IHPB"),d=n(l),u=a("3cXf"),c=n(u),f=a("HzJ8"),h=n(f),m=a("PzEQ"),v=n(m),p=a("0AQX"),C=a("HyXB"),y=a("bKg5"),_=n(y),g=a("zlAJ"),b=n(g),w=a("+WR7"),I=n(w),D=a("VZtf"),x=n(D),P=a("Q67R"),S=n(P),k=a("lsbD"),L=n(k),N=a("zWMP"),M=a("Qg39");t.default={data:function(){return{listId:"4472a646-f2c8-4a07-bad6-4c01f0b9292f",consumableList:[],showMaterielPop:!1,transCode:"",formData:{biComment:""},consumables:{},filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"}]}},components:{XTextarea:v.default,UploadFile:b.default,PopBaseinfo:I.default,RNumber:x.default,ApplyMatterPart:S.default,OpButton:L.default},mixins:[_.default],watch:{consumables:{handler:function(e){this.simpleCalcMatter(e)},deep:!0},consumableList:{handler:function(e){var t=0,a=0,n=!0,r=!1,i=void 0;try{for(var o,s=(0,h.default)(e);!(n=(o=s.next()).done);n=!0){var l=o.value;this.simpleCalcMatter(l),t=(0,M.toFixed)((0,N.accAdd)(t,l.tdAmount)),a=(0,M.toFixed)((0,N.accAdd)(a,l.taxAmount))}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}this.tdAmount=t,this.taxAmount=a},deep:!0}},methods:{getMatterModify:function(e,t,a){this.consumables=JSON.parse((0,c.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e===t});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e,t){return this.selItems.includes(t)},checkAll:function(){if(this.selItems.length===this.consumableList.length)return void(this.selItems=[]);this.selItems=this.consumableList.map(function(e,t){return t})},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=e.selItems,a=e.consumableList.filter(function(e,a){return!t.includes(a)});e.consumableList=a,e.selItems=[],e.matterModifyClass=!1}})},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.consumableList,this.modifyIndex,t)},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},selMatter:function(e){var t=JSON.parse(e);t.forEach(function(e){e.price="",e.tdQty=""}),this.consumableList=[].concat((0,d.default)(this.consumableList),(0,d.default)(t))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},save:function(){var e=this,t="",a=[];this.consumableList.length||(t="请选择物料");var n=!0,r=!1,o=void 0;try{for(var l,d=(0,h.default)(this.consumableList);!(n=(l=d.next()).done);n=!0){var u=l.value,f={},m=!0,v=!1,p=void 0;try{for(var y,_=(0,h.default)(this.submitMatterField);!(m=(y=_.next()).done);m=!0){var g=y.value,b=u[g.fieldCode]||u[g.displayField]||u[g.showFieldCode];if(!g.hidden&&!g.allowBlank&&!b&&void 0!==b){t=g.text+"不为空";break}f[g.fieldCode]=null!==b?b:null}}catch(e){v=!0,p=e}finally{try{!m&&_.return&&_.return()}finally{if(v)throw p}}a.push(f)}}catch(e){r=!0,o=e}finally{try{!n&&d.return&&d.return()}finally{if(r)throw o}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=C.saveAndStartWf,n=(0,s.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,order:{dataSet:a}}),r={listId:e.listId,biComment:"",formData:(0,c.default)(n),wfPara:(0,c.default)((0,i.default)({},e.processCode,{businessKey:e.businessKey,createdBy:n.creator}))};e.transCode&&(t=C.saveAndCommitTask,r.biReferenceId=e.biReferenceId,r.wfPara=(0,c.default)({businessKey:e.transCode,createdBy:n.creator,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=C.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,p.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,l=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var d=[];e.attachment=l;var u=i.order,c=u.dataSet,f=void 0===c?[]:c,m=!0,v=!1,p=void 0;try{for(var C,y=(0,h.default)(f);!(m=(C=y.next()).done);m=!0){var _=C.value;_=(0,s.default)({},_,{inventoryPic:_.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:_.inventoryName_transObjCode,inventoryCode:_.inventoryCode_transObjCode,specification:_.specification_transObjCode,processing:_.tdProcessing,measureUnit:_.measureUnit_transObjCode,inventoryColor:_.inventoryColor_transObjCode}),d.push(_)}}catch(e){v=!0,p=e}finally{try{!m&&y.return&&y.return()}finally{if(v)throw p}}e.handlerDefault={handler:i.handler,handlerName:i.handlerName,handlerUnit:i.handlerUnit,handlerUnitName:i.handlerUnitName,handlerRole:i.handlerRole,handlerRoleName:i.handlerRoleName},e.formData=(0,s.default)({},e.formData,e.handlerDefault,{biComment:i.biComment,biId:i.biId,biProcessStatus:i.biProcessStatus,creator:i.creator,modifer:i.modifer}),e.biReferenceId=i.biReferenceId,e.consumableList=d,e.$loading.hide()})},hasDraftData:function(){return!!this.consumableList.length&&(0,i.default)({},"DZYHPCGSQ_DATA",{matter:this.consumableList,formData:this.formData})},checkAmt:function(e){var t=e.tdQty,a=e.price;t=Math.abs((0,M.toFixed)(t)),a=Math.abs((0,M.toFixed)(a)),t&&(e.tdQty=t,e.tdAmount=(0,M.toFixed)((0,N.accMul)(t,a))),a&&(e.price=a,e.tdAmount=(0,M.toFixed)((0,N.accMul)(t,a)))}},created:function(){var e=sessionStorage.getItem("DZYHPCGSQ_DATA");e&&(this.consumableList=JSON.parse(e).matter,this.formData=JSON.parse(e).formData,sessionStorage.removeItem("DZYHPCGSQ_DATA"))}}},EbQr:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList,"status-data":e.currentStage},on:{"sel-item":e.selItem},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,"default-contact":e.contactInfo,"dealer-params":e.dealerParams},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("pop-warehouse-list",{attrs:{isRequired:"","default-value":e.warehouse,"default-store":e.warehouseStoreInfo,"is-show-store":""},on:{"sel-item":e.selWarehouse,"get-store":e.getStore}}),e._v(" "),a("apply-matter-part",{attrs:{"show-materiel-pop":e.showMaterielPop,"show-matter-pop":e.showMatterPop,"filter-list":e.filterList,actions:e.actions,btnInfo:e.btnInfo,"matter-list":e.orderList,"default-value":e.matterList,"matter-pop-config":e.matterPopConfig,"matter-edit-config":e.matterEditConfig,"order-list-title":e.orderListTitle,"matter-params":e.matterParams,"add-matter-fn":e.addMatter,"sel-matter-fn":e.selMatter,"sel-items":e.selItems,"matter-modify-class":e.matterModifyClass,"stop-order-fn":e.stopOrder,"get-matter-modify-fn":e.getMatterModify,"show-delete-fn":e.showDelete,"show-sel-icon-fn":e.showSelIcon,"del-click-fn":e.delClick,"chosen-matter":e.matter,"check-amt-fn":e.checkAmt,"sel-confirm-fn":e.selConfirm,"btn-is-hide":e.btnIsHide},on:{"show-down-modify-pop":e.shutDownModify},scopedSlots:e._u([{key:"rNumber",fn:function(t){var n=t.item;return[a("r-number",{attrs:{num:n.tdQty,max:Number(n.thenQtyBal)},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",t)},expression:"item.tdQty"}})]}}]),model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}}),e._v(" "),a("pop-project-list",{attrs:{defaultValue:e.project},on:{"sel-project":e.selProject}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("op-button",{attrs:{"is-modify":e.matterModifyClass,hide:e.btnIsHide,"td-amount":e.tdAmount,"tax-amount":e.taxAmount,"all-check":e.selItems.length===e.matterList.length},on:{"on-submit":e.submitOrder,"on-check-all":e.checkAll,"on-delete":e.deleteCheckd}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},EcJc:function(e,t){},EfA8:function(e,t){},"EfN/":function(e,t,a){"use strict";function n(e){a("8hWX")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("NzC7");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("DSiR"),s=a.n(o),l=a("AtUU"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-111c25f4",null);t.default=c.exports},ElNg:function(e,t){},EnXN:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages sj-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[a("div",{staticClass:"mater_list"},[a("div",{staticClass:"each_mater"},[a("div",{staticClass:"userInp_mode"},[a("div",{staticClass:"title"},[e._v("招聘信息")]),e._v(" "),a("group",{staticClass:"SJ_group",on:{"group-title-margin-top":function(e){}}},[a("popup-picker",{attrs:{data:e.groupList,placeholder:"请选择"},model:{value:e.formData.applicationDepartment,callback:function(t){e.$set(e.formData,"applicationDepartment",t)},expression:"formData.applicationDepartment"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("申请部门")])])],2),e._v(" "),a("popup-picker",{attrs:{data:e.roleList,placeholder:"请选择"},model:{value:e.formData.applicationPost,callback:function(t){e.$set(e.formData,"applicationPost",t)},expression:"formData.applicationPost"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("申请岗位")])])],2),e._v(" "),a("x-input",{attrs:{"text-align":"right",placeholder:"请填写",type:"number"},on:{"on-blur":function(t){e.checkAmt(e.formData.recruitmentPeople)},"on-focus":function(t){e.getFocus(t)}},model:{value:e.formData.recruitmentPeople,callback:function(t){e.$set(e.formData,"recruitmentPeople",e._n(t))},expression:"formData.recruitmentPeople"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("招聘人数")])])],2),e._v(" "),a("x-textarea",{attrs:{title:"任职要求",max:100},model:{value:e.formData.jobRequirements,callback:function(t){e.$set(e.formData,"jobRequirements",t)},expression:"formData.jobRequirements"}}),e._v(" "),a("x-textarea",{attrs:{title:"岗位描述",max:100},model:{value:e.formData.postDescription,callback:function(t){e.$set(e.formData,"postDescription",t)},expression:"formData.postDescription"}}),e._v(" "),a("x-textarea",{attrs:{title:"招聘原因",max:100},model:{value:e.formData.recruitmentReson,callback:function(t){e.$set(e.formData,"recruitmentReson",t)},expression:"formData.recruitmentReson"}}),e._v(" "),a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1)])])]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},Eyzt:function(e,t,a){"use strict";function n(e){a("yjGH")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("8LiC");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("NYH5"),s=a.n(o),l=a("JkLB"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,null,null);t.default=c.exports},EzdZ:function(e,t){},EzjB:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("a3Yh"),s=n(o),l=a("HzJ8"),d=n(l),u=a("4YfN"),c=n(u),f=a("7g+Q"),h=n(f),m=a("+62G"),v=n(m),p=a("z5TY"),C=n(p),y=a("BGNQ"),_=n(y),g=a("iR2W"),b=n(g),w=a("u28h"),I=n(w),D=a("SAzG"),x=n(D),P=a("PzEQ"),S=n(P),k=a("0AQX"),L=a("HyXB"),N=a("I3vJ"),M=a("bKg5"),T=n(M),A=a("wRUd"),O=n(A),R=a("i61Q"),j=n(R),B=a("hByD"),E=n(B),F=a("89pA"),U=n(F),$=a("vl8n"),H=n($),V=a("+WR7"),q=n(V),Q=a("0o6b"),Y=a("zWMP"),X=a("Qg39");t.default={directives:{TransferDom:v.default},components:{Popup:h.default,PopWorkList:j.default,Group:C.default,Cell:_.default,Datetime:I.default,XInput:x.default,XTextarea:S.default,PopManagerList:O.default,RPicker:H.default,PopWorkFacilityList:E.default,PopWarehouseList:U.default,PopBaseinfo:q.default},data:function(){return{listId:"2372f734-93c1-11e8-85db-005056a136d0",showWorkPop:!1,showManagerPop:!1,showFacilityPop:!1,formData:{biComment:"",biProcessStatus:""},workInfo:[],defaultManager:[],defaultFacility:[],scanResult:"",warehouse:{},warehouseStoreInfo:{},filter:[{operator:"in",property:"whCode",value:""},{operator:"in",property:"parentInvCode",value:""}],filterParams:[{property:"warehouseType",operator:"eq",value:"加工车间仓"}],managerIndex:null,facilityIndex:null}},mixins:[T.default],filters:{numberComma:b.default},methods:{selWork:function(e){this.workInfo=JSON.parse(e),this.workInfo.forEach(function(e,t){e.tdQty=e.thenQtyBal})},getSeletor:function(e,t){"dealerName_dealerDebit"===e?this.showManager(t):"facilityName_facilityObjCode"===e&&this.showFacility(t)},showManager:function(e){this.managerIndex=e,this.showManagerPop=!this.showManagerPop},selManager:function(e){var t=JSON.parse(e);this.defaultManager[this.managerIndex]=t,this.workInfo[this.managerIndex].dealerName_dealerDebit=t.dealerName,this.workInfo[this.managerIndex].dealerDebit=t.dealerCode,this.workInfo[this.managerIndex].drDealerLabel=t.dealerLabelName},showFacility:function(e){this.facilityIndex=e,this.showFacilityPop=!this.showFacilityPop},selFacility:function(e){this.defaultFacility[this.facilityIndex]=e,this.workInfo[this.facilityIndex].facilityName_facilityObjCode=e.facilityName,this.workInfo[this.facilityIndex].facilityObjCode=e.facilityCode,this.workInfo[this.facilityIndex].facilityTypebase_facilityObjCode=e.facilityType},getStore:function(e){this.warehouseStoreInfo=(0,c.default)({},e)},checkAmt:function(e,t){var a=e.tdQty,n=e.thenQtyBal,r=e.numberWorkers;e.tdQty=Math.abs((0,X.toFixed)(a)),a&&(a>n&&(e.tdQty=n),e.boms&&e.boms.forEach(function(t){var a=(0,Y.accMul)(e.tdQty,t.qty);t.tdQty=Math.abs((0,X.toFixed)(a))})),r&&(e.numberWorkers=Math.round(r))},selWarehouse:function(e){var t=this;this.warehouse=JSON.parse(e),this.filter[0].value=this.warehouse.warehouseCode,this.workInfo.forEach(function(e,a){t.filter[1].value=e.inventoryCode,t.getTaskBom(a).then(function(n){e.boms=n,t.$set(t.workInfo,a,(0,c.default)({},e))})})},submitOrder:function(){var e=this,t="",a=[];if(this.workInfo.length||(t="请选择工序"),t||this.warehouse.warehouseCode||(t="请选择在制仓库"),t||this.warehouseStoreInfo.warehouseCode||(t="请选择库位"),!t){var n=!0,r=!1,o=void 0;try{for(var l,u=(0,d.default)(this.workInfo);!(n=(l=u.next()).done);n=!0){var f=l.value;!function(n){var r={},i=!0,o=!1,s=void 0;try{for(var l,u=(0,d.default)(e.submitMatterField);!(i=(l=u.next()).done);i=!0){var f=l.value,h=n[f.fieldCode]||n[f.displayField]||n[f.showFieldCode];if(!f.hidden&&!f.allowBlank&&!h){t=f.text+"不为空";break}r[f.fieldCode]=void 0!==h?h:null}}catch(e){o=!0,s=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw s}}var m=[];n.boms.forEach(function(t){m.push({tdQty:t.tdQty,storehouseInCode:e.warehouseStoreInfo.warehouseCode,proPointCode:n.proPointCode,processCode:n.transCode,processProCode:n.inventoryCode,outPutMatCode:t.inventoryCode,bomSpecificLoss:t.specificLoss,thenQtyStock:t.qtyBal,specification_outPutMatCode:t.specification,tdProcessing:t.processing,inventoryName_outPutMatCode:t.inventoryName,measureUnit_outPutMatCode:t.measureUnit,bomType:t.bomType,bomQty:t.qty,thenLockQty:t.tdQty,thenQtyBal:0})}),a.push((0,c.default)({processProQty:null,tdId:null},r,{boms:m}))}(f)}}catch(e){r=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw o}}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=L.saveAndStartWf,n=(0,s.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});e.isResubmit&&"进行中"===e.formStatus&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:e.formData.biComment});var r={listId:e.listId,biComment:e.formData.biComment,formData:(0,i.default)((0,c.default)({},e.formData,{handlerEntity:e.entity.dealerName,order:{containerCode:e.warehouse.warehouseCode,storehouseInCode:e.warehouseStoreInfo.warehouseCode,dataSet:a}})),wfPara:(0,i.default)(n)};e.isResubmit&&"进行中"===e.formStatus?(t=L.saveAndCommitTask,r.biReferenceId=e.biReferenceId):e.isResubmit&&"已生效"===e.formStatus&&(t=L.updateData),e.processCode.length||(t=L.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},scanQRCode:function(){var e=this;(0,Q.scanQRCode)().then(function(t){var a=t.result,n=void 0===a?"":a;e.scanResult=n})},onHistoryBack:function(){return!this.showWorkPop||(this.showWorkPop=!1,!1)},getFormData:function(){var e=this;return(0,k.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=t.attachment;var o=[],s=i.order,l=s.dataSet,u=void 0===l?[]:l,f=!0,h=!1,m=void 0;try{for(var v,p=(0,d.default)(u);!(f=(v=p.next()).done);f=!0){var C=v.value;C=(0,c.default)({},C,{inventoryCode:C.transObjCode,inventoryName:C.inventoryName_outPutMatCode,procedureName:C.procedureName_proPointCode,technicsName:C.technicsName_proFlowCode,transCode:C.transMatchedCode,processing:C.tdProcessing||null}),C.boms.forEach(function(e){e.inventoryCode=e.outPutMatCode,e.nventoryName=e.inventoryName_outPutMatCode,e.measureUnit=e.measureUnit_outPutMatCode,e.parentInvCode=e.processProCode,e.processing=e.tdProcessing,e.qty=e.bomQty,e.qtyBal=e.thenQtyStock,e.specification=e.specification_outPutMatCode,e.specificLoss=e.bomSpecificLoss}),o.push(C)}}catch(e){h=!0,m=e}finally{try{!f&&p.return&&p.return()}finally{if(h)throw m}}e.workInfo=o,e.warehouse={warehouseCode:s.containerCode,warehouseName:s.warehouseName_containerCode,warehouseType:s.warehouseType_containerCode,warehouseProvince:s.warehouseProvince_containerCode,warehouseCity:s.warehouseCity_containerCode,warehouseDistrict:s.warehouseDistrict_containerCode,warehouseAddress:s.warehouseAddress_containerCode},e.warehouseStoreInfo={warehouseName:s.warehouseName_storehouseInCode,warehouseCode:s.storehouseInCode,warehouseAddress:s.warehouseAddress_storehouseInCode},e.handlerDefault={handler:i.handler,handlerName:i.handlerName,handlerUnit:i.handlerUnit,handlerUnitName:i.handlerUnitName,handlerRole:i.handlerRole,handlerRoleName:i.handlerRoleName},e.formData=(0,c.default)({},e.handlerDefault,{biComment:i.biComment,biId:i.biId,biProcessStatus:i.biProcessStatus,creator:i.creator,modifer:i.modifer}),e.biReferenceId=i.biReferenceId,e.$loading.hide()})},getTaskBom:function(e){var t=this;return this.filter[0].value=this.warehouse.warehouseCode,(0,N.getTaskBom)({filter:(0,i.default)(this.filter)}).then(function(a){var n=a.tableContent,r=void 0===n?[]:n;return r.forEach(function(a){var n=t.workInfo[e].tdQty,r=(0,Y.accMul)(n,a.qty,1+a.specificLoss);a.tdQty=(0,X.toFixed)(r)}),r})}},created:function(){}}},"F+mj":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"WarehouseContent",props:{warehouseConfig:{type:Array,required:!0}},data:function(){return{activeIndex:0,PicList:[{warehousePic:a("p/0M")},{warehousePic:a("fzi5")}]}},methods:{warehouseChange:function(e,t){this.activeIndex=t}}}},F0gW:function(e,t,a){"use strict";function n(e){a("v1GD")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("SSut");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("Vfwi"),s=a.n(o),l=a("QJnw"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-206caf5a",null);t.default=c.exports},F2L3:function(e,t,a){"use strict";function n(e){a("4y7N")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("eRTo");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("VOK4"),s=a.n(o),l=a("dSaX"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-77660af8",null);t.default=c.exports},F2bg:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[a("div",{staticClass:"popup-top"},[a("i",{staticClass:"icon-close",on:{click:e.onHide}})]),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"matter-list-container",attrs:{options:e.scrollOptions}},[a("div",{staticClass:"matter-info"},[a("img",{staticClass:"matter_img",attrs:{src:e.chosenMatter.inventoryPic,alt:"matter_img"},on:{error:function(t){e.getDefaultImg(e.item)}}}),e._v(" "),a("div",{staticClass:"mater_main"},[a("div",{staticClass:"mater_name"},[e._v("\n            "+e._s(e.chosenMatter.inventoryName||e.chosenMatter.invName||e.chosenMatter.facilityName||e.chosenMatter.inventoryName_outPutMatCode)+"\n          ")]),e._v(" "),a("div",{staticClass:"matter_info"},e._l(e.config.property,function(t,n){return a("div",{key:n,staticClass:"matter_info_item"},[a("span",{staticClass:"matter_info_title"},[e._v(e._s(t.text)+": ")]),e._v(" "),t.showFieldCode?a("span",{staticClass:"matter_info_value"},[e._v("\n                "+e._s(null!=e.chosenMatter[t.showFieldCode]&&""!==e.chosenMatter[t.showFieldCode]?e.chosenMatter[t.showFieldCode]:"无")+"\n              ")]):a("span",{staticClass:"matter_info_value"},[e._v("\n                "+e._s(null!=e.chosenMatter[t.fieldCode]&&""!==e.chosenMatter[t.fieldCode]?e.chosenMatter[t.fieldCode]:"无")+"\n              ")])])}),0)])]),e._v(" "),a("group",{staticClass:"matter-edit-part",attrs:{gutter:"0"}},e._l(e.config.editPart,function(t,n){return a("div",{key:n},[t.readOnly?["r2Numberfield"===t.editorType?a("cell",{staticClass:"vux-1px-b",attrs:{disabled:"",title:t.text,value:e._f("checkNumber")(e.chosenMatter[t.fieldCode]||e.chosenMatter[t.showFieldCode])}}):a("cell",{staticClass:"vux-1px-b",attrs:{disabled:"",title:t.text,value:e.chosenMatter[t.fieldCode]||e.chosenMatter[t.showFieldCode]}})]:["r2Numberfield"!==t.editorType&&"r2Percentfield"!==t.editorType&&"r2Permilfield"!==t.editorType||"tdQty"===t.fieldCode?e._e():a("x-input",{staticClass:"vux-1px-b",attrs:{type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(a){e.checkAmt(e.chosenMatter,t.fieldCode,e.chosenMatter[t.fieldCode])},"on-focus":function(t){e.getFocus(t)}},model:{value:e.chosenMatter[t.fieldCode],callback:function(a){e.$set(e.chosenMatter,t.fieldCode,e._n(a))},expression:"chosenMatter[eItem.fieldCode]"}},[a("template",{slot:"label"},[a("span",{class:{required:!t.allowBlank}},[e._v(e._s(t.text))])])],2),e._v(" "),"r2Textfield"===t.editorType?a("x-input",{staticClass:"vux-1px-b",attrs:{"text-align":"right",placeholder:"请输入"},model:{value:e.chosenMatter[t.fieldCode],callback:function(a){e.$set(e.chosenMatter,t.fieldCode,a)},expression:"chosenMatter[eItem.fieldCode]"}},[a("template",{slot:"label"},[a("span",{class:{required:!t.allowBlank}},[e._v(e._s(t.text))])])],2):e._e(),e._v(" "),"tdQty"===t.fieldCode?a("x-input",{staticClass:"vux-1px-b",attrs:{type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(a){e.checkAmt(e.chosenMatter,t.fieldCode,e.chosenMatter[t.fieldCode])},"on-focus":function(t){e.getFocus(t)},"on-click-clear-icon":function(t){e.cleanAmt(e.chosenMatter)}},model:{value:e.chosenMatter[t.fieldCode],callback:function(a){e.$set(e.chosenMatter,t.fieldCode,e._n(a))},expression:"chosenMatter[eItem.fieldCode]"}},[a("template",{slot:"label"},[a("span",{class:{required:!t.allowBlank}},[e._v(e._s(t.text))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.chosenMatter.otherField&&Object.keys(e.chosenMatter.otherField).length,expression:"chosenMatter.otherField && Object.keys(chosenMatter.otherField).length"}],staticClass:"iconfont icon-tishi",on:{click:function(t){e.showDialog=!e.showDialog}}})])],2):e._e(),e._v(" "),"r2Datefield"===t.editorType?a("datetime",{staticClass:"vux-1px-b",attrs:{placeholder:"请选择"},model:{value:e.chosenMatter[t.fieldCode],callback:function(a){e.$set(e.chosenMatter,t.fieldCode,a)},expression:"chosenMatter[eItem.fieldCode]"}},[a("template",{slot:"title"},[a("span",{class:{required:!t.allowBlank}},[e._v(e._s(t.text))])])],2):e._e(),e._v(" "),"r2Combo"===t.editorType?a("r-picker",{staticClass:"picker vux-1px-b",attrs:{title:t.text,data:t.remoteData,required:!t.allowBlank,placeholder:"请选择"},model:{value:e.chosenMatter[t.fieldCode],callback:function(a){e.$set(e.chosenMatter,t.fieldCode,a)},expression:"chosenMatter[eItem.fieldCode]"}}):e._e()]],2)}),0)],1),e._v(" "),a("div",{staticClass:"confirm_btn",class:{btn_hide:e.btnIsHide},on:{click:e.confirm}},[a("div",{staticClass:"confirm"},[e._v("确认")])])],1),e._v(" "),e.chosenMatter.otherField?a("x-dialog",{staticClass:"dialog-view",attrs:{"hide-on-blur":""},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}},[a("div",{staticClass:"tip-top"},[a("p",{staticClass:"header_content"},[e._v("温馨提示")]),e._v(" "),a("p",{staticClass:"header_btn_tips"},[e._v("订单折合包装比: "+e._s(e.chosenMatter.assMeasureScale))])]),e._v(" "),a("div",{staticClass:"tip-main"},[a("div",{staticClass:"each_info_part"},[a("span",{staticClass:"package_num"},[e._v("订单数量上限: "+e._s(e.chosenMatter.qtyOnline*e.chosenMatter.assMeasureScale))]),e._v(" "),a("span",{staticClass:"order_num"},[e._v("[折合包装数量: "+e._s(e.chosenMatter.qtyOnline)+"]")])]),e._v(" "),a("div",{staticClass:"each_info_part"},[a("span",{staticClass:"package_num"},[e._v("订单数量下限: "+e._s(e.chosenMatter.qtyDownline*e.chosenMatter.assMeasureScale))]),e._v(" "),a("span",{staticClass:"order_num"},[e._v("[折合包装数量: "+e._s(e.chosenMatter.qtyDownline)+"]")])]),e._v(" "),e.chosenMatter.otherField.transCode?a("div",{staticClass:"other_info_part"},[a("p",{staticClass:"other_tips"},[e._v("tips: 当您输入的订单数量在上述区间内，系统将会自动匹配"),a("span",{staticClass:"inside_tips"},[e._v("销售协议"+e._s(e.chosenMatter.otherField.transCode))]),e._v("当中的价格，并自动计算其他属性。\n        ")])]):a("div",{staticClass:"other_info_part"},[a("p",{staticClass:"other_tips"},[e._v("tips: 当您输入的数量在上述区间内，系统将会自动显示其他信息，并自动计算。\n        ")])]),e._v(" "),a("div",{staticClass:"btn_part",on:{click:function(t){e.showDialog=!e.showDialog}}},[e._v("我已阅读")])])]):e._e()],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},F9M6:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("hRKE"),s=n(o),l=a("fBTP"),d=n(l),u=a("nKjL"),c=a("aiMs"),f=n(c),h=a("uJtz"),m=n(h),v=a("71iV");n(v);t.default={name:"picker",components:{Flexbox:u.Flexbox,FlexboxItem:u.FlexboxItem},created:function(){if(0!==this.columns){var e=this.columns;this.store=new f.default(this.data,e,this.fixedColumns||this.columns),this.currentData=this.store.getColumns(this.value)}},mounted:function(){var e=this;this.uuid=Math.random().toString(36).substring(3,8),this.$nextTick(function(){e.render(e.currentData,e.currentValue)})},props:{data:Array,columns:{type:Number,default:0},fixedColumns:{type:Number,default:0},value:Array,itemClass:{type:String,default:"scroller-item"},columnWidth:Array},methods:{getNameValues:function(){return(0,m.default)(this.currentValue,this.data)},getId:function(e){return"#vux-picker-"+this.uuid+"-"+e},render:function(e,t){this.count=this.currentData.length;var a=this;if(e&&e.length){var n=this.currentData.length;if(t.length<n)for(var r=0;r<n;r++)this.$set(a.currentValue,r,e[r][0].value||e[r][0]);for(var i=0;i<e.length;i++){var o=function(n){if(!document.querySelector(a.getId(n)))return{v:void 0};a.scroller[n]&&a.scroller[n].destroy(),a.scroller[n]=new d.default(a.getId(n),{data:e[n],defaultValue:t[n]||e[n][0].value,itemClass:a.itemClass,onSelect:function(e){a.$set(a.currentValue,n,e),(!this.columns||this.columns&&a.getValue().length===a.store.count)&&a.$nextTick(function(){a.$emit("on-change",a.getValue())}),0!==a.columns&&a.renderChain(n+1)}}),a.currentValue&&a.scroller[n].select(t[n])}(i);if("object"===(void 0===o?"undefined":(0,s.default)(o)))return o.v}}},renderChain:function(e){if(this.columns&&!(e>this.count-1)){var t=this,a=this.getId(e);this.scroller[e].destroy();var n=this.store.getChildren(t.getValue()[e-1]);this.scroller[e]=new d.default(a,{data:n,itemClass:t.item_class,onSelect:function(a){t.$set(t.currentValue,e,a),t.$nextTick(function(){t.$emit("on-change",t.getValue())}),t.renderChain(e+1)}}),n.length?(this.$set(this.currentValue,e,n[0].value),this.renderChain(e+1)):this.$set(this.currentValue,e,null)}},getValue:function(){for(var e=[],t=0;t<this.currentData.length;t++){if(!this.scroller[t])return[];e.push(this.scroller[t].value)}return e},emitValueChange:function(e){(!this.columns||this.columns&&e.length===this.store.count)&&this.$emit("on-change",e)}},data:function(){return{scroller:[],count:0,uuid:"",currentData:this.data,currentValue:this.value}},watch:{value:function(e){(0,i.default)(e)!==(0,i.default)(this.currentValue)&&(this.currentValue=e)},currentValue:function(e,t){if(this.$emit("input",e),0!==this.columns)e.length>0&&(0,i.default)(e)!==(0,i.default)(t)&&(this.currentData=this.store.getColumns(e),this.$nextTick(function(){this.render(this.currentData,e)}));else if(e.length)for(var a=0;a<e.length;a++)this.scroller[a]&&this.scroller[a].value!==e[a]&&this.scroller[a].select(e[a]);else this.render(this.currentData,[])},data:function(e){(0,i.default)(e)!==(0,i.default)(this.currentData)&&(this.currentData=e)},currentData:function(e){var t=this;if("[object Array]"===Object.prototype.toString.call(e[0]))this.$nextTick(function(){t.render(e,t.currentValue),t.$nextTick(function(){t.emitValueChange(t.getValue()),(0,i.default)(t.getValue())!==(0,i.default)(t.currentValue)&&(!t.columns||t.columns&&t.getValue().length===t.store.count)&&(t.currentValue=t.getValue())})});else if(0!==this.columns){if(!e.length)return;var a=this.columns;this.store=new f.default(e,a,this.fixedColumns||this.columns),this.currentData=this.store.getColumns(this.currentValue)}}},beforeDestroy:function(){for(var e=0;e<this.count;e++)this.scroller[e]&&this.scroller[e].destroy(),this.scroller[e]=null}}},FA8z:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"icon",props:{type:String,isMsg:Boolean},computed:{className:function(){return"weui-icon weui_icon_"+this.type+" weui-icon-"+this.type.replace(/_/g,"-")}}}},FBQx:function(e,t){},FBTb:function(e,t,a){"use strict";function n(e){a("AFJY")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("xZDR");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("UZRl"),s=a.n(o),l=a("KIFm"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-0af94f3e",null);t.default=c.exports},FFsY:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("4YfN"),s=n(o),l=a("3cXf"),d=n(l),u=a("0AQX"),c=a("+VRO"),f=n(c),h=a("BUFe"),m=n(h),v=a("AupE"),p=n(v),C=a("bFc7"),y=n(C),_=a("6WeX"),g=n(_),b=a("3NX5"),w=n(b);a("zWMP"),a("Qg39");t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"",contactInfo:{}}},components:{workFlow:p.default,RAction:m.default,contactPart:y.default,PriceTotal:g.default,MatterList:w.default},mixins:[f.default],methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(e.submitInfo=JSON.parse((0,d.default)(t)),!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.formData,n=void 0===a?{}:a,r=n.order,o=r.dataSet,l=!0,u=!1,c=void 0;try{for(var f,h=(0,i.default)(o);!(l=(f=h.next()).done);l=!0){var m=f.value;m.inventoryPic=m.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+m.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){u=!0,c=e}finally{try{!l&&h.return&&h.return()}finally{if(u)throw c}}e.attachment=t.attachment,e.matterList=o,e.orderInfo=(0,s.default)({},n,r),e.contactInfo={creatorName:r.dealerDebitContactPersonName,dealerName:r.dealerName_dealerDebit,dealerMobilePhone:n.dealerDebitContactInformation,dealerContactPersonName:n.dealerDebitContactPersonName,dealerCode:r.dealerDebit,dealerLabelName:r.drDealerLabel,province:r.province_dealerDebit,city:r.city_dealerDebit,county:r.county_dealerDebit,address:r.address_dealerDebit},e.workFlowInfoHandler()})}}}},FGYN:function(e,t,a){"use strict";function n(e){a("12Rn")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("W3IX");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("5pt1"),s=a.n(o),l=a("/ePQ"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-6b5ec819",null);t.default=c.exports},"FIt+":function(e,t,a){"use strict";function n(e){a("nXep")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("h8ox");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("FTWd"),s=a.n(o),l=a("v6k2"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-0f62ffca",null);t.default=c.exports},FKOt:function(e,t,a){"use strict";function n(e){a("wGz/")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("UFIK");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("rQbX"),s=a.n(o),l=a("/ZBz"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-68251586",null);t.default=c.exports},FKiD:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("3cXf"),s=n(o),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),h=n(f),m=a("SAzG"),v=n(m),p=a("u28h"),C=n(p),y=a("PzEQ"),_=n(y),g=a("kNGm"),b=(n(g),a("jnZd")),w=n(b),I=(a("0AQX"),a("Z6x5")),D=a("HyXB"),x=a("bKg5"),P=n(x),S=a("vl8n"),k=n(S),L=a("+WR7"),N=n(L),M=a("iikc"),T=n(M);t.default={data:function(){return{listId:"98519ac0-d2d7-11e8-b8ca-0279b2c6a380",formData:{biId:"",biComment:"",biProcessStatus:""},biReferenceId:"",MobileWarn:!1,idCardWarn:!1,groupList:[],roleList:[]}},components:{Cell:c.default,Group:h.default,XInput:v.default,Datetime:C.default,XTextarea:_.default,PopupPicker:w.default,RPicker:k.default,PopBaseinfo:N.default,PopSalesmanList:T.default},mixins:[P.default],methods:{getAllGroup:function(){var e=this;(0,I.getAllGroup)().then(function(t){var a=[];t.tableContent.forEach(function(e){a.push(e.groupName)}),e.groupList.push(a)})},getAllRoleInfo:function(){var e=this;(0,I.getAllRoleInfo)().then(function(t){var a=[];t.tableContent.forEach(function(e){a.push(e.roleName)}),e.roleList.push(a)})},submitOrder:function(){var e=this,t="",a=[{key:"hiresName",message:"员工"}];if(t||a.every(function(a){return!!e.formData[a.key]||(t="请选择"+a.message,!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=D.saveAndStartWf,a=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,hiresDepartMent:e.formData.hiresDepartMent&&e.formData.hiresDepartMent[0],hiresPost:e.formData.hiresPost&&e.formData.hiresPost[0]}),n={listId:e.listId,biComment:"",formData:(0,s.default)(a)};e.isResubmit&&(t=D.saveAndCommitTask,n.biReferenceId=e.biReferenceId,n.wfPara=(0,s.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=D.submitAndCalc,delete n.wfPara,delete n.biReferenceId),e.biReferenceId&&(n.biReferenceId=e.biReferenceId),e.saveData(t,n)}})},hasDraftData:function(){var e=this.formData;if(e.profileName||e.idCard)return(0,i.default)({},"YGRZ_DATA",{formData:e})}},created:function(){this.getAllGroup(),this.getAllRoleInfo();var e=sessionStorage.getItem("YGRZ_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,sessionStorage.removeItem("YGRZ_DATA")}}}},FLut:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("IHPB"),i=n(r),o=a("3cXf"),s=n(o),l=a("HXPS"),d=n(l),u=a("7g+Q"),c=n(u),f=a("6q39"),h=n(f),m=a("L6VY"),v=n(m),p=a("+62G"),C=n(p),y=a("7biW"),_=n(y),g=a("vHT0"),b=(n(g),a("jLp1")),w=a("1KNX"),I=n(w);t.default={name:"PopNameList",props:{defaultValue:{type:Object,default:function(){return{}}}},directives:{TransferDom:C.default},components:{Icon:d.default,Popup:c.default,DSearch:_.default,LoadMore:h.default,RScroll:I.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},dealerList:[],bScroll:null,limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},isChoice:!0}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:function(e){this.selItems=JSON.parse((0,s.default)(this.defaultValue))}},filters:{handlerDate:function(e){return e.split(" ")[0]}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},showSelIcon:function(e){return this.selItems.PROJECT_NAME===e.PROJECT_NAME},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.$emit("sel-item",(0,s.default)(this.selItems))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getDealer:function(){var e=this,t=[],a={limit:this.limit,page:this.page,start:(this.page-1)*this.limit};this.srhInpTx&&(t=[].concat((0,i.default)(t),[{operator:"like",value:this.srhInpTx,property:"PROJECT_NAME"}]),a.filter=(0,s.default)(t)),(0,b.getProjectApproval)(a).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,o=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+o.length,e.dealerList=1===e.page?o:[].concat((0,i.default)(e.dealerList),(0,i.default)(o)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})}).catch(function(e){v.default.show({content:e.message})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.dealerList=[],this.page=1,this.hasNext=!0,this.getDealer()},onPullingUp:function(){this.page++,this.getDealer()},itemClick:function(){this.showPop=!0}},created:function(){this.selItems=JSON.parse((0,s.default)(this.defaultValue)),this.$route.query.relationKey&&(this.isChoice=!1),this.getDealer()}}},FOog:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("a3Yh"),s=n(o),l=a("MgeX"),d=n(l),u=a("HzJ8"),c=n(u),f=a("ZLEe"),h=n(f),m=a("3cXf"),v=n(m),p=a("HXPS"),C=n(p),y=a("BGNQ"),_=n(y),g=a("z5TY"),b=n(g),w=a("SAzG"),I=n(w),D=a("PzEQ"),x=n(D),P=a("0AQX"),S=a("HyXB"),k=a("bKg5"),L=n(k),N=a("vl8n"),M=n(N),T=a("+WR7"),A=n(T),O=a("luHD"),R=n(O),j=a("RMtk"),B=n(j),E=a("9cRV"),F=n(E);t.default={name:"ApplyWLXQTJForm",mixins:[L.default],components:{Icon:C.default,Cell:_.default,Group:b.default,XTextarea:x.default,XInput:I.default,PopMatter:R.default,PopOrderXqtjList:B.default,RPicker:M.default,PopBaseinfo:A.default,PopMatterList:F.default},data:function(){return{orderList:{},showOrderPop:!1,formData:{biComment:""},submitSuccess:!1,warehouse:null,taxRate:.16,numMap:{},orderParams:{dealerCode:"",whCode:""},transCode:"",formViewUniqueId:"346ede09-ac6a-489a-9242-f385932a4443",biReferenceId:"",actions:[],taskId:"",matterList:[],project:{},entity:{},tmpItems:{},matter:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,checkFieldList:[{key:"tdQty",message:"请填写减少数量"}]}},methods:{getMatterModify:function(e,t,a){this.matter=JSON.parse((0,v.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t)},selOrder:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){var a=e.transCode+"_"+e.colId+"_"+e.inventoryCode,r=t.numMap[a]||{},i=r.tdQty,o=void 0===i?"":i;e.tdQty=o,n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},findIndex:function(e,t){return e.findIndex(function(e){var a=!0;return e.colId&&(a=e.colId===t.colId),a&&e.transCode===t.transCode&&e.inventoryCode===t.inventoryCode})},delClick:function(e,t,a){var n=this.selItems,r=this.findIndex(n,t);if(-1!==r)return void n.splice(r,1);n.push(t)},showSelIcon:function(e){return-1!==this.findIndex(this.selItems,e)},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,v.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,h.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){var n=!0;if(a.colId&&(n=t.colId===a.colId),n&&a.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var r=e.orderList[t.transCode],i=e.findIndex(r,t);i>=0&&(e.$refs.matter.delSelItem(r[i]),r.splice(i,1)),r.length||delete e.orderList[t.transCode]}})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,r=(0,c.default)((0,d.default)(this.orderList));!(e=(n=r.next()).done);e=!0){var i=n.value,o=!0,s=!1,l=void 0;try{for(var u,f=(0,c.default)(i);!(o=(u=f.next()).done);o=!0){var h=u.value;this.numMap[h.transCode+"_"+h.colId+"_"+h.inventoryCode]={tdQty:h.tdQty}}}catch(e){s=!0,l=e}finally{try{!o&&f.return&&f.return()}finally{if(s)throw l}}}}catch(e){t=!0,a=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="",a=[];t||(0,h.default)(this.orderList).length||(t="请选择物料");var n=!0,r=!1,o=void 0;try{for(var l,u=(0,c.default)((0,d.default)(this.orderList));!(n=(l=u.next()).done);n=!0){var f=l.value,m=!0,p=!1,C=void 0;try{for(var y,_=(0,c.default)(f);!(m=(y=_.next()).done);m=!0){var g=y.value;if(!g.tdQty){t="请填写减少数量";break}var b={transMatchedCode:g.transCode,outPutMatCode:g.inventoryCode,inventoryType_outPutMatCode:g.inventoryType,thenQtyBal:g.qtyBal,tdQty:g.tdQty,subjectCode:g.calcRelCode,comment:g.comment||""};this.transCode&&(b.tdId=g.tdId||""),a.push(b)}}catch(e){p=!0,C=e}finally{try{!m&&_.return&&_.return()}finally{if(p)throw C}}}}catch(e){r=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw o}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=S.saveAndStartWf,n={},r=(0,s.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});n=(0,i.default)({},e.formData,{modifer:e.transCode?e.formData.handler:"",handlerEntity:e.entity.dealerName,outPut:{dataSet:a}}),e.transCode&&(t=S.saveAndCommitTask,r={businessKey:e.transCode,createdBy:n.creator||n.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var o={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,v.default)(n),wfPara:(0,v.default)(r)};e.transCode||delete o.biReferenceId,e.processCode.length||(t=S.submitAndCalc,delete o.wfPara,delete o.biReferenceId),e.biReferenceId&&(o.biReferenceId=e.biReferenceId),e.saveData(t,o)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,s=t.attachment,l=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var d={};e.attachment=l;var u=o.outPut,f=u.dataSet,h=void 0===f?[]:f,m=!0,v=!1,p=void 0;try{for(var C,y=(0,c.default)(h);!(m=(C=y.next()).done);m=!0){var _=C.value;_=(0,i.default)({},_,{transCode:_.transMatchedCode,qtyBal:_.thenQtyBal,inventoryPic:_.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:_.inventoryName_outPutMatCode,inventoryCode:_.outPutMatCode,inventoryType:_.inventoryType_outPutMatCode,specification:_.specification_outPutMatCode,measureUnit:_.measureUnit_outPutMatCode,processing:_.tdProcessing,calcRelCode:_.subjectCode,inventoryTypen:_.inventoryType_outPutMatCode}),d[_.transCode]||(d[_.transCode]=[]),d[_.transCode].push(_)}}catch(e){v=!0,p=e}finally{try{!m&&y.return&&y.return()}finally{if(v)throw p}}e.matterList=h,e.handlerDefault={handler:o.handler,handlerName:o.handlerName,handlerUnit:o.handlerUnit,handlerUnitName:o.handlerUnitName,handlerRole:o.handlerRole,handlerRoleName:o.handlerRoleName},e.formData=(0,i.default)({},e.formData,e.handlerDefault,{biComment:o.biComment,biId:o.biId,biProcessStatus:o.biProcessStatus,creator:o.creator,modifer:o.modifer,drDealerLogisticsTerms:o.drDealerLogisticsTerms}),e.biReferenceId=o.biReferenceId,e.orderList=d,e.$loading.hide()})},hasDraftData:function(){return!!(0,d.default)(this.orderList).length&&(0,s.default)({},"XQTJ_DATA",{orderList:this.orderList,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("XQTJ_DATA");e&&(this.orderList=JSON.parse(e).orderList,this.formData=JSON.parse(e).formData,sessionStorage.removeItem("XQTJ_DATA"))}}},FPb0:function(e,t,a){"use strict";function n(e){a("ZgKJ")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("VyQ5");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("yCVl"),s=a.n(o),l=a("YY2E"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-2b81ca80",null);t.default=c.exports},FRNG:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Qg39"),r=a("zWMP");t.default={name:"RNumber",props:{num:{type:Number,default:0},max:{type:Number,default:0},min:{type:Number,default:1},checkNum:{type:Function,default:function(e){return 0===e&&(e=1),Math.abs((0,n.toFixed)(e,2))}}},data:function(){return{currentNum:0}},watch:{num:{handler:function(e){this.currentNum=e}}},methods:{subNum:function(){this.currentNum<=this.min||(this.currentNum=parseFloat((0,r.accSub)(this.currentNum,1)),this.$emit("input",this.currentNum))},plusNum:function(){this.max&&this.max===this.num||(this.currentNum=parseFloat((0,r.accAdd)(this.currentNum,1)),this.$emit("input",this.currentNum))},getNum:function(e){var t=Number(e.target.value);this.max&&t>this.max&&(t=this.max),this.min&&t<this.min&&(t=this.min),this.currentNum=this.checkNum(t),e.target.value=this.currentNum,this.$emit("input",this.currentNum)}},created:function(){this.currentNum=this.num}}},FT4d:function(e,t,a){"use strict";function n(e){a("bOud")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("Wtqk");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("4evt"),s=a.n(o),l=a("aMlE"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-5f229639",null);t.default=c.exports},FTWd:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=(a("XAqG"),a("HyXB"),a("MjAd")),s=n(o),l=a("ak47");n(l);t.default={name:"CPXQ_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"经办人",value:"handlerName"},{name:"交易号",value:"transCode"},{name:"标题",value:"launchTitle"}],listViewID:2339}},mixins:[s.default],methods:{pathChange:function(e,t,a){var n=this;if(!this.clickVisited){var r=e.transCode,o=this.$route.query.name,s=this.$route.params,l=s.folder,d=s.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,i.default)({},e));var u=a+"/"+l+"/"+d;setTimeout(function(){n.clickVisited=!1,n.$router.push({path:u,query:{name:o,transCode:r}})},200)}},goDetail:function(e,t){this.pathChange(e,t,"/detail")},goUserEdit:function(e,t){this.pathChange(e,t,"/fillform")}}}},FZVR:function(e,t,a){"use strict";function n(e){a("RXtI")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("0dhE");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("8aM1"),s=a.n(o),l=a("iMUx"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-77de0958",null);t.default=c.exports},FbNx:function(e,t){},Fjox:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("3cXf"),s=n(o),l=a("4YfN"),d=n(l),u=a("7g+Q"),c=n(u),f=a("+62G"),h=n(f),m=a("z5TY"),v=n(m),p=a("BGNQ"),C=n(p),y=a("iR2W"),_=n(y),g=a("u28h"),b=n(g),w=a("SAzG"),I=n(w),D=a("PzEQ"),x=n(D),P=a("0AQX"),S=a("HyXB"),k=a("bKg5"),L=n(k),N=a("VZtf"),M=n(N),T=a("9cRV"),A=n(T),O=a("y8YJ"),R=n(O),j=a("yt3/"),B=n(j),E=a("hLfv"),F=n(E),U=a("luHD"),$=n(U),H=a("vl8n"),V=n(H),q=a("+WR7"),Q=n(q),Y=a("zWMP");t.default={data:function(){return{showMatterPop:!1,showMaterielPop:!1,matterList:[],dealer:{},contact:{},formData:{},dealerInfo:{},checkFieldList:[{key:"tdQty",message:"请填写数量"},{key:"price",message:"请填写含税单价"},{key:"taxRate",message:"请填写税率"}]}},directives:{TransferDom:h.default},components:{XInput:I.default,XTextarea:x.default,Group:v.default,Cell:C.default,Popup:c.default,PopMatter:$.default,RNumber:M.default,PopMatterList:A.default,PopDealerList:R.default,PopSingleSelect:B.default,Datetime:b.default,RPicker:V.default,PopBaseinfo:Q.default,DealerOtherPart:F.default},mixins:[L.default],filters:{numberComma:_.default},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],this.formData.drDealerLogisticsTerms=this.dealerInfo.dealerLogisticsTerms,this.dealerInfo.drDealerPaymentTerm=this.dealerInfo.paymentTerm,this.dealerInfo.drDealerLogisticsTerms=this.dealerInfo.dealerLogisticsTerms},selContact:function(e){this.contact=(0,d.default)({},e),this.formData.dealerDebitContactPersonName=this.contact.dealerName||"",this.formData.dealerDebitContactInformation=this.contact.dealerMobilePhone},getMatter:function(){this.showMaterielPop=!this.showMaterielPop},selMatter:function(e){var t=JSON.parse(e);t.map(function(e){e.tdQty=e.tdQty||"",e.price=e.price||"",e.taxRate=e.taxRate||.16,e.promDeliTime=e.promDeliTime||"",e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null}),this.matterList=t},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(t){return t.inventoryCode===e.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(e)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,s.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this;if(this.dealerInfo.dealerName)if(this.matterList.length){var t="",a=[];if(this.matterList.every(function(n){if(!n.tdQty)return t="请填写数量",!1;if(!n.price)return t="请输入含税单价",!1;var r=n.taxRate||e.taxRate,i=((0,Y.accMul)(n.price,n.tdQty,r),{tdId:n.tdId||"",inventoryName_transObjCode:n.inventoryName,transObjCode:n.inventoryCode,tdProcessing:n.processing,assMeasureUnit:n.invSubUnitName||null,assMeasureScale:n.invSubUnitMulti||null,assMeasureDescription:n.invSubUnitComment||null,assistQty:n.assistQty||0,tdQty:n.tdQty,price:n.price,noTaxPrice:n.noTaxPrice,taxRate:r,taxAmount:n.taxAmount,tdAmount:n.tdAmount,promDeliTime:n.promDeliTime||"",comment:n.comment||""});return a.push(i),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=S.saveAndStartWf,n=(0,i.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:e.formData.biComment,formData:(0,s.default)((0,d.default)({},e.formData,e.dealer,{handlerEntity:e.entity.dealerName,order:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,drDealerPaymentTerm:e.dealerInfo.paymentTerm,dataSet:a}})),wfPara:(0,s.default)(n)};e.isResubmit&&(t=S.saveAndCommitTask,r.biReferenceId=e.biReferenceId),e.processCode.length||(t=S.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})}else this.$vux.alert.show({content:"请选择物料"});else this.$vux.alert.show({content:"请选择客户"})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.attachment=t.attachment;var a=t.formData;a.order.dataSet.map(function(t){t=(0,d.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode}),e.matterList.push(t)}),e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,d.default)({},e.handlerDefault,{creator:a.creator,modifer:a.modifer,dealerDebitContactPersonName:a.dealerDebitContactPersonName,dealerDebitContactInformation:a.dealerDebitContactInformation,drDealerLogisticsTerms:a.drDealerLogisticsTerms,duringDate:a.duringDate,biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus}),e.dealerInfo={creatorName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation,dealerCode:a.order.dealerDebit,dealerSubclass:a.order.drAccountSub,dealerLabelName:a.order.drDealerLabel,dealerName:a.order.dealerName_dealerDebit,province:a.order.province_dealerDebit,city:a.order.city_dealerDebit,county:a.order.county_dealerDebit,address:a.order.address_dealerDebit,paymentTerm:a.order.drDealerPaymentTerm||"现付"},e.contact={dealerName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation},e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,i.default)({},"XSDDYC_DATA",{matter:this.matterList,dealerInfo:this.dealerInfo,dealer:this.dealer,formData:this.formData,contact:this.contact})}},created:function(){var e=sessionStorage.getItem("XSDDYC_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.dealerInfo=t.dealerInfo,this.dealer=t.dealer,this.formData=t.formData,this.contact=t.contact,sessionStorage.removeItem("XSDDYC_DATA")}}}},FkUS:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("HXPS"),s=n(o);t.default={name:"RDropdown",props:{list:{type:Array,default:function(){return[]}}},components:{Icon:s.default},data:function(){return{selItem:{}}},watch:{list:{handler:function(){this.selItem=this.list[0],this.$emit("on-selected",this.selItem)},immediate:!0}},methods:{dropItemClick:function(e){this.selItem=(0,i.default)({},e),this.$emit("on-selected",this.selItem)}},created:function(){}}},FlCz:function(e,t,a){"use strict";function n(e){a("gl8L")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("s+NT");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("VuUd"),s=a.n(o),l=a("iiZC"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-83bbcc94",null);t.default=c.exports},FlD1:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("4YfN"),s=n(o),l=a("MgeX"),d=n(l),u=a("HzJ8"),c=n(u),f=a("ZLEe"),h=n(f),m=a("3cXf"),v=n(m),p=a("HXPS"),C=n(p),y=a("BGNQ"),_=n(y),g=a("z5TY"),b=n(g),w=a("SAzG"),I=n(w),D=a("u28h"),x=n(D),P=a("PzEQ"),S=n(P),k=a("0AQX"),L=(a("I3vJ"),a("HyXB")),N=a("bKg5"),M=n(N),T=a("luHD"),A=n(T),O=a("RMtk"),R=n(O),j=a("jEax"),B=n(j),E=a("d7ck"),F=n(E),U=a("FlCz"),$=n(U),H=a("MVgC"),V=n(H),q=a("vl8n"),Q=n(q),Y=a("+WR7"),X=n(Y),G=a("89pA"),W=n(G),z=(a("zWMP"),a("Qg39"));t.default={name:"ApplyWLXQTJForm",mixins:[M.default],components:{Icon:C.default,Cell:_.default,Group:b.default,XInput:I.default,XTextarea:S.default,PopMatter:A.default,PopOrderXqtjList:R.default,Datetime:x.default,FormCell:F.default,PopWarehouseNbjgrkList:B.default,BomList:$.default,BomPop:V.default,RPicker:Q.default,PopBaseinfo:X.default,PopWarehouseList:W.default},data:function(){return{listId:"5e8d89f1-49a5-4089-9c1a-44dc2ce0ae4b",orderList:{},showOrderPop:!1,formData:{biProcessStatus:null,biComment:""},submitSuccess:!1,warehouse:null,numMap:{},transCode:"",formViewUniqueId:"82784823-ded5-4a58-a746-d32514f7d26f",biReferenceId:"",actions:[],taskId:"",matterList:[],entity:{},tmpItems:{},matter:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,warehouseOut:null,warehouseIn:null,warehouseOutParams:{warehouseType:"加工车间仓"},warehouseInParams:{warehouseType:"一般部门仓,个人仓,加工车间仓"}}},methods:{selWarehouseOut:function(e){this.warehouseOut=JSON.parse(e)},selWarehouseIn:function(e){this.warehouseIn=JSON.parse(e)},checkAmt:function(e){var t=e.tdQty,a=e.qtyStock;t&&(e.tdQty=Math.abs((0,z.toFixed)(t)),e.tdQty=t>a?a:e.tdQty)},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,v.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t)},selOrder:function(e){var t=this,a=JSON.parse(e),n={};this.DuplicateBoms=[],a.forEach(function(e){var a=e.transCode+"_"+e.orderCode+"_"+e.inventoryCode,r=t.numMap[a]||{},i=r.tdQty,o=void 0===i?"":i,s=r.warehouseName,l=void 0===s?e.warehouseName:s,d=r.warehouseCode,u=void 0===d?e.warehouseCode:d;e.tdQty=o,e.warehouseName=l,e.warehouseCode=u,n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},findIndex:function(e,t){return e.findIndex(function(e){return e.orderCode===t.orderCode&&e.transCode===t.transCode&&e.inventoryCode===t.inventoryCode})},delClick:function(e,t,a){var n=this.selItems,r=this.findIndex(n,t);if(-1!==r)return void n.splice(r,1);n.push(t)},showSelIcon:function(e){return-1!==this.findIndex(this.selItems,e)},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,v.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,h.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.orderCode===a.orderCode&&t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],r=e.findIndex(n,t);r>=0&&(e.$refs.order.delSelItem(n[r]),n.splice(r,1)),n.length||delete e.orderList[t.transCode]}})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,r=(0,c.default)((0,d.default)(this.orderList));!(e=(n=r.next()).done);e=!0){var i=n.value,o=!0,l=!1,u=void 0;try{for(var f,h=(0,c.default)(i);!(o=(f=h.next()).done);o=!0){var m=f.value;this.numMap[m.transCode+"_"+m.orderCode+"_"+m.inventoryCode]=(0,s.default)({},m)}}catch(e){l=!0,u=e}finally{try{!o&&h.return&&h.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="";if([{key:"warehouseOut",message:"出库仓库"},{key:"warehouseIn",message:"入库仓库"}].every(function(a){return!!e[a.key]||(t="请选择"+a.message,!1)}),t||(0,h.default)(this.orderList).length||(t="请选择物料"),!t){var a=!0,n=!1,r=void 0;try{for(var o,l=(0,c.default)((0,d.default)(this.orderList));!(a=(o=l.next()).done);a=!0){var u=o.value,f=!0,m=!1,p=void 0;try{for(var C,y=(0,c.default)(u);!(f=(C=y.next()).done);f=!0)if(!C.value.tdQty){t="请填写本次入库数量";break}}catch(e){m=!0,p=e}finally{try{!f&&y.return&&y.return()}finally{if(m)throw p}}if(t)break}}catch(e){n=!0,r=e}finally{try{!a&&l.return&&l.return()}finally{if(n)throw r}}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=[],a=L.saveAndStartWf,n={},r=(0,i.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""}),o=!0,l=!1,u=void 0;try{for(var f,h=(0,c.default)((0,d.default)(e.orderList));!(o=(f=h.next()).done);o=!0){var m=f.value,p=!0,C=!1,y=void 0;try{for(var _,g=(0,c.default)(m);!(p=(_=g.next()).done);p=!0){var b=_.value,w={tdId:b.tdId||null,transMatchedCode:b.transCode,orderCode:b.orderCode,transObjCode:b.inventoryCode,inventoryName_transObjCode:b.inventoryName,tdProcessing:b.processing,measureUnit_transObjCode:b.measureUnit,thenQtyStock:b.qtyStock,thenQtyBal:b.qtyBal,tdQty:b.tdQty,comment:b.comment||""};t.push(w)}}catch(e){C=!0,y=e}finally{try{!p&&g.return&&g.return()}finally{if(C)throw y}}}}catch(e){l=!0,u=e}finally{try{!o&&h.return&&h.return()}finally{if(l)throw u}}n=(0,s.default)({},e.formData,{modifer:e.transCode?e.formData.handler:"",handlerEntity:e.entity.dealerName,inPut:{containerCodeOut:e.warehouseOut.warehouseCode,containerCode:e.warehouseIn.warehouseCode,dataSet:t},containerOutWarehouseManager:e.warehouseOut.manager||null,containerInWarehouseManager:e.warehouseIn.manager||null}),e.transCode&&(a=L.saveAndCommitTask,r={businessKey:e.transCode,createdBy:n.creator||n.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var I={listId:e.listId,biComment:"",formData:(0,v.default)(n),wfPara:(0,v.default)(r)};e.processCode.length||(a=L.submitAndCalc,delete I.wfPara),e.transCode&&(I.biReferenceId=e.biReferenceId),e.saveData(a,I)}})},getFormData:function(){var e=this;return(0,k.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,l=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=l;var d={},u=i.inPut,f=u.dataSet,h=void 0===f?[]:f,m=!0,v=!1,p=void 0;try{for(var C,y=(0,c.default)(h);!(m=(C=y.next()).done);m=!0){var _=C.value;_=(0,s.default)({},_,{transCode:_.transMatchedCode,qtyBal:_.thenQtyBal,qtyStock:_.thenQtyStock,inventoryPic:_.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:_.inventoryName_transObjCode,inventoryCode:_.transObjCode,specification:_.specification_transObjCode,processing:_.tdProcessing}),d[_.transCode]||(d[_.transCode]=[]),d[_.transCode].push(_)}}catch(e){v=!0,p=e}finally{try{!m&&y.return&&y.return()}finally{if(v)throw p}}e.warehouseOut={warehouseName:u.warehouseName_containerCodeOut,warehouseType:u.warehouseType_containerCodeOut,warehouseCode:u.containerCodeOut,manager:i.containerOutWarehouseManager},e.warehouseIn={warehouseName:u.warehouseName_containerCode,warehouseType:u.warehouseType_containerCode,warehouseCode:u.containerCode,manager:i.containerInWarehouseManager},e.matterList=h,e.handlerDefault={handler:i.handler,handlerName:i.handlerName,handlerUnit:i.handlerUnit,handlerUnitName:i.handlerUnitName,handlerRole:i.handlerRole,handlerRoleName:i.handlerRoleName},e.formData=(0,s.default)({},e.formData,e.handlerDefault,{biComment:i.biComment,biId:i.biId,biProcessStatus:i.biProcessStatus,creator:i.creator,modifer:i.modifer}),e.biReferenceId=i.biReferenceId,e.orderList=d,e.$loading.hide()})},hasDraftData:function(){return!!(0,d.default)(this.orderList).length&&(0,i.default)({},"NBJGRK_DATA",{orderList:this.orderList,formData:this.formData,warehouseIn:this.warehouseIn,warehouseOut:this.warehouseOut})}},created:function(){var e=sessionStorage.getItem("NBJGRK_DATA");if(e){var t=JSON.parse(e);this.orderList=t.orderList,this.formData=t.formData,this.warehouseOut=t.warehouseOut,this.warehouseIn=t.warehouseIn,sessionStorage.removeItem("NBJGRK_DATA")}}}},FnN8:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2362,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"成品名称",value:"inventoryName_transObjCode"}]}},mixins:[r.default]}},FooO:function(e,t){},FqoY:function(e,t,a){"use strict";function n(e){a("t+MW")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("g+r+");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("v2Jc"),s=a.n(o),l=a("7OD1"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-30f366aa",null);t.default=c.exports},FtdM:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"r-dropdown"},[a("ul",{staticClass:"r-dropdown-list"},e._l(e.list,function(t,n){return a("li",{key:n,staticClass:"r-dropdown-item",class:{selected:e.selItem.value===t.value},on:{click:function(a){a.stopPropagation(),e.dropItemClick(t)}}},[a("span",[e._v(e._s(t.name))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.selItem.value===t.value,expression:"selItem.value === item.value"}],staticClass:"icon-check icon-selected"})])}),0)])},r=[],i={render:n,staticRenderFns:r};t.a=i},Fu6s:function(e,t,a){"use strict";function n(e){a("lKql")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("trKI");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("7PqM"),s=a.n(o),l=a("WBLH"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-83325484",null);t.default=c.exports},Fuf7:function(e,t,a){e.exports=a.p+"static/img/ava01.8275b7f.png"},FvvE:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"6b6a6f40-ea86-4e72-a451-69a9a3b2e28c":{"000004":"COMPANY","000001":"USER","000003":"JOB"},"a7f59e02-86fc-4c85-ae78-0f567b8078ad":{},"7dab9bd1-f51d-4b09-afc0-3d5c732ca219":{"4099b5aa-1468-4b81-85a5-75079e291977":"BHDD","7532f8ea-caf3-4fc4-97f6-b5aad7bcf6a0":"WLXQTJ","2e8e23c6-2fa4-4067-9cef-b5c92463d4c9":"XSDDYC","43ccbc27-bbb5-4cfb-997b-6d3823f1c03e":"CGSQ"},"fb200d08-4289-44dc-81e1-1fddec997c5e":{"f6e7047d-29df-46bd-a9ef-c342e0bfda31":{"2372f734-93c1-11e8-85db-005056a136d0":"GDRW","f9f1e0cb-7edf-43aa-b2f2-527e2525b96e":"GDYS","c54b3325-a5c1-4d75-a3c4-c6cf0e988aae":"GDRWQD","3e8d0dc2-45a0-463a-a7b5-21c63955eb8f":"WGYRK"}},"a32759e8-a3ad-47a6-a030-f33daea8b433":{"b30f4d3e-b23d-11e8-96a5-005056a136d0":"CPXQ","eb8a01a3-7a74-439b-bc44-8d58cbfa6166":"CPFB"},"43b07f14-4ae5-4804-a80e-ef06ce26fb0b":{"548b7e35-16c6-4748-af06-eac1d2dac5d1":"CPJG","78949976-4689-41da-b090-fe891186ee8b":"XSDD","58a607ce-fe93-4d26-a42e-a374f4662f1c":"XSBJ","32a2c333-02a3-416f-a133-95c7a32da678":"SJ","0b2360df-499c-47b0-8d97-7c5d81c35353":"XSHT","4f2debbe-fce5-44f8-8440-a3959e62f721":"KPSQ"},"406f7db3-af5a-45ae-8641-576fa33b0471":{},"a0a66a68-b351-4c19-b837-e168cbf48019":{"a4474c03-1139-4e8c-bc4e-2beb4565be33":"CGDD","9e8de557-2e56-4ce5-8792-54829eef7c5b":"CGXY"},"9e5a7193-f2eb-4b99-9849-8fe6c6ae3713":{"edf7b34b-8916-410f-801f-2db7e97efbde":"KCPD","4d9a7f8f-9a88-47b6-a1f4-3faed6423615":"BDKCDB","6ebcad8b-449c-422a-960f-53ccf98fd4ba":"GDBLL","00bf03eb-2794-4222-a97e-9029683734b3":"CGRK","bde3edef-ee04-4a18-b063-73ae7682e23a":"XSCK","482b7468-06eb-40c7-842a-f7ea6edb1c37":"CGTHCK"},"7218d31d-88f4-45bc-82c2-6d4a1c766821":{"b81c5e6c-4f6d-4c1c-8a6d-636750127410":{"f97f603e-7570-4b72-84f3-ee90d03e7636":"SK","1972f3a4-b29a-4a0e-90a8-85090c0e2d28":"FK","c930267f-66fd-4927-983b-0216ef9449b3":"FGYSQK","7d172485-8726-4e42-b29d-ec2a716bf062":"FGYSDJ"},"752bfc20-9cbf-4552-b2a4-77b2c46eb2d1":{"8c68eaa6-46dd-4b3b-b885-1218600b519c":"ZZSKP","6df81f47-9d31-46f3-b852-614a8891cd01":"ZZSSP"},"9a50685e-88d5-48ac-9c49-977e23f14b98":{"bb9ce973-2f62-4707-a54c-7e8605dc99d6":"CRCDHP","1745ffdd-1b6a-4fe5-9c5b-6e5394bd4faf":"SDCDHP","ef8bbbc5-04c4-40eb-8d8c-338784a847e9":"DXTXCDHP","7666662a-a52a-4ca8-8f28-d3035322875e":"DFCDHP"},"dac8201d-7b8f-4889-8c9d-eb34192e99ad":{"418bd0e9-1dce-4e01-aa5a-3d4cd80e87d4":"JKYBYJ","080147c6-05ea-4ae7-9390-49e8e0379a11":"BXYZF"}},"27d28ff5-2e04-4881-a159-2b38f10ce7e4":{"4472a646-f2c8-4a07-bad6-4c01f0b9292f":"DZYHPCGSQ","1d52d5ce-d05e-4987-a023-3f4dba68cad9":"DZYHPCGDD","0750729a-1bea-423e-99a0-070beb953787":"DZYHPCGYSYZF"},"4a1e1cce-186a-46b6-acb7-fbd5febf578b":{"4f358097-ccb3-4e3f-ac18-e7c677f83896":{"f928725f-5e23-4321-922c-6db0efa85f17":"SBCGSQ","fac37727-d2d4-11e8-b8ca-0279b2c6a380":"SBCGDD","64c5afbc-c075-11e8-85e2-b06ebfc41432":"SBCGYS"}},"f3d819ee-8f77-47d0-81f1-e986841e51eb":{1000:"HBZJ",1400:"CH",9000:"WLYE","000100":"HGCW"},"26d75e08-2c82-4e1a-ad51-b788b026428a":{"630a9b96-f257-48b6-b0bc-fd64c455d92b":"XMLX","0281f8eb-f1d2-415c-b566-756fc749ccb3":"XMJH","ee4ff0a1-c612-419d-afd7-471913d57a2a":"XMRW","b87a513e-99ec-4608-89db-3d6e97ef1432":"XMJX"},"c09c6397-c685-4fb8-ac9e-bd554ab6bc52":{"223f9387-d2d7-11e8-b8ca-0279b2c6a380":"YGDA","98519ac0-d2d7-11e8-b8ca-0279b2c6a380":"YGRZ","da7f15cc-d2d7-11e8-b8ca-0279b2c6a380":"YGLZ","3dda676a-4ce0-4c4a-a56f-8bda50a8ef1f":"ZPJH"}}},Fx3v:function(e,t,a){"use strict";function n(e){a("lyNH")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("PHE/");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("iEGu"),s=a.n(o),l=a("0GCp"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-3992e9f5",null);t.default=c.exports},"G/uS":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("gTYh"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"group",methods:{cleanStyle:r.default},props:{title:String,titleColor:String,labelWidth:String,labelAlign:String,labelMarginRight:String,gutter:[String,Number],footerTitle:String,footerTitleColor:String}}},G0OA:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("3cXf"),s=n(o),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),h=n(f),m=a("kNGm"),v=(n(m),a("qE8w")),p=a("I3vJ"),C=a("1KNX"),y=n(C),_=a("7biW"),g=n(_);t.default={name:"PopMatterList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},getListMethod:{type:String,default:"getMatList"},params:{type:Object,default:function(){return{}}},processing:{type:String,default:"成品,商品,服务"},isShowCode:{type:Boolean,default:!0},isShowStock:{type:Boolean,default:!1},filterList:{type:Array,default:function(){return[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"}]}}},components:{Icon:c.default,Popup:h.default,RScroll:y.default,MSearch:g.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],matterList:[],limit:100,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterProperty:"",requestMethods:null}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}},params:{handler:function(){this.resetCondition(),this.requestMethods()},deep:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,d.default)(this.selItems)),this.$emit("input",!1),this.$event.$emit("shut-down-filter",!1)},findIndex:function(e,t){return e.findIndex(function(e){return e.orderCode?e.orderCode===t.orderCode&&e.inventoryCode===t.inventoryCode:e.transCode===t.transCode&&e.inventoryCode===t.inventoryCode})},showSelIcon:function(e){return-1!==this.findIndex(this.tmpItems,e)},selThis:function(e,t){if(this.isShowStock&&0===e.qtyStockBal)return void this.$vux.alert.show({content:"当前订单库存为0，请选择其他订单"});var a=this.tmpItems,n=this.findIndex(a,e);if(-1!==n)return void a.splice(n,1);a.push(e)},cfmMater:function(){this.showPop=!1,this.tmpItems.sort(function(e,t){return t.effectiveTime-e.effectiveTime}),this.selItems=[].concat((0,d.default)(this.tmpItems)),this.$emit("sel-matter",(0,s.default)(this.selItems))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getMatList:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getObjInventoryByProcessing)((0,i.default)({processing:this.processing,limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(e)},this.params)).then(this.dataHandler)},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,r=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=r,this.resetCondition(),this[this.getListMethod]()},delSelItem:function(e){var t=this.findIndex(this.selItems,e);-1!==t&&this.selItems.splice(t,1),this.tmpItems=[].concat((0,d.default)(this.selItems))},onPullingUp:function(){this.page++,this.requestMethods()},setDefaultValue:function(){this.tmpItems=[].concat((0,d.default)(this.defaultValue)),this.selItems=[].concat((0,d.default)(this.defaultValue))},getObjInventory:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getObjInventory)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(e)}).then(this.dataHandler)},getSumInvBalance:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getSumInvBalance)((0,i.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,calcRelCode:1406},this.params,{filter:(0,s.default)(e)})).then(this.dataHandler)},getInventory7501:function(){var e=[];this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}]));var t=this.$route.query.relationKey,a=void 0===t?"":t;return a&&(e=[{operator:"eq",value:a,property:"transCode"}]),(0,p.getInventory7501)((0,i.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit},this.params,{filter:(0,s.default)(e)})).then(this.dataHandler)},getInventory7502:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getInventory7502)((0,i.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit},this.params,{filter:(0,s.default)(e)})).then(this.dataHandler)},getCKTHCKList:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getCKTHCKList)((0,i.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit},this.params,{filter:(0,s.default)(e)})).then(this.dataHandler)},getPurchaseInNeeds:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getPurchaseInNeeds)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r;i.forEach(function(t){t.inventoryPic=t.inventoryPic?"/H_roleplay-si/ds/download?url="+t.inventoryPic+"&width=400&height=400":e.getDefaultImg(),t.inventoryCode=t.matCode,t.inventoryName=t.invName});var o=e.$route.query.relationKey;(void 0===o?"":o)&&(e.selItems=[].concat((0,d.default)(i)),e.$emit("sel-matter",(0,s.default)(e.selItems))),e.hasNext=n>(e.page-1)*e.limit+i.length,e.matterList=1===e.page?i:[].concat((0,d.default)(e.matterList),(0,d.default)(i)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},getKCPDList:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getKCPDList)((0,i.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit},this.params,{filter:(0,s.default)(e)})).then(this.dataHandler)},getLowValueConsumPurchaseOrder:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getLowValueConsumPurchaseOrder)((0,i.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit},this.params,{filter:(0,s.default)(e)})).then(this.dataHandler)},getLowPriceConsumableInWarehouse:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getLowPriceConsumableInWarehouse)((0,i.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit},this.params,{filter:(0,s.default)(e)})).then(this.dataHandler)},getProductPriceAllInventory:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getProductPriceAllInventory)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(e)}).then(this.dataHandler)},getSalesContract:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getSalesContract)((0,i.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(e)},this.params)).then(this.dataHandler)},getInventoryToProcessing:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getInventoryToProcessing)((0,i.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(e)},this.params)).then(this.dataHandler)},getSalesOrderNew:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getSalesOrderNew)((0,i.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(e)},this.params)).then(this.dataHandler)},getManyVATBilling:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,v.getManyVATBilling)((0,i.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(e)},this.params)).then(this.dataHandler)},getManyVATReceipt:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,v.getManyVATReceipt)((0,i.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(e)},this.params)).then(this.dataHandler)},getEtcPutInStorage:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getEtcPutInStorage)((0,i.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(e)},this.params)).then(this.dataHandler)},getBillingApplication:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,v.getBillingApplication)((0,i.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(e)},this.params)).then(this.dataHandler)},dataHandler:function(e){var t=this,a=e.dataCount,n=void 0===a?0:a,r=e.tableContent,i=void 0===r?[]:r;i.forEach(function(e){e.inventoryPic=e.inventoryPic?"/H_roleplay-si/ds/download?url="+e.inventoryPic+"&width=400&height=400":t.getDefaultImg()});var o=this.$route.query.relationKey;(void 0===o?"":o)&&(this.selItems=[].concat((0,d.default)(i)),this.$emit("sel-matter",(0,s.default)(this.selItems))),this.hasNext=n>(this.page-1)*this.limit+i.length,this.matterList=1===this.page?i:[].concat((0,d.default)(this.matterList),(0,d.default)(i)),this.$nextTick(function(){t.$refs.bScroll.finishPullUp()})},resetCondition:function(){this.matterList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)}},created:function(){this.setDefaultValue(),this.requestMethods=this[this.getListMethod],this.requestMethods()}}},G4pH:function(e,t){},G70E:function(e,t,a){"use strict";function n(e){a("JcwB")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("TgCX");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("dbpI"),s=a.n(o),l=a("NHt9"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-fb8b33a8",null);t.default=c.exports},GBuK:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("r-popup",{ref:"RPopup",staticClass:"pop-facility-list",attrs:{show:e.showPop,data:e.listData,options:e.scrollOptions,"has-next":e.hasNext,"default-value":e.selItems,"judge-keys":e.judgeKeys,"filter-list":e.filterList,multipart:""},on:{"on-pulling-up":e.onPullingUp,"on-select":e.selItem,"on-search":e.searchList},scopedSlots:e._u([{key:"pop-item",fn:function(t){var n=t.item;t.index;return[n.transCode?a("div",{staticClass:"order-code"},[a("span",{staticClass:"order-title"},[e._v(e._s(e.defaultTitle))]),e._v(" "),a("span",{staticClass:"order-num"},[e._v(e._s(n.transCode))])]):e._e(),e._v(" "),a("div",{staticClass:"order-matter"},[a("div",{staticClass:"mater_img"},[a("img",{attrs:{src:n.inventoryPic,alt:"mater_img"},on:{error:function(t){e.getDefaultImg(n)}}})]),e._v(" "),a("div",{staticClass:"mater_main "},[a("div",{staticClass:"mater_name"},[e._v("\n          "+e._s(n.facilityName)+"\n        ")]),e._v(" "),a("div",{staticClass:"mater_info"},[a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline",staticStyle:{display:"inline-block"}},[a("div",{staticClass:"mater_code"},[a("span",{staticClass:"title"},[e._v("编码")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(n.facilityCode))])])]),e._v(" "),a("div",{staticClass:"ForInline",staticStyle:{display:"inline-block"}},[a("div",{staticClass:"mater_spec"},[a("span",{staticClass:"title"},[e._v("规格")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(n.facilitySpecification||"无"))])])])]),e._v(" "),a("div",{staticClass:"withoutColor"},[a("div",{staticClass:"mater_classify"},[a("span",{staticClass:"father"},[e._v("大类: "+e._s(n.facilityBigType||"无"))]),e._v(" "),a("span",{staticClass:"father"},[e._v("子类: "+e._s(n.facilitySubclass||"无"))]),e._v(" "),a("span",{staticClass:"father"},[e._v("类型: "+e._s(n.facilityType||"无"))]),e._v(" "),a("span",[e._v("单位: "+e._s(n.facilityUnit))])]),e._v(" "),a("div",{staticClass:"mater_classify"},[a("span",{staticClass:"father"},[e._v("折旧摊销月数: "+e._s(n.facilityDepreciation||0))]),e._v(" "),a("span",[e._v("预留残值比例: "+e._s(n.facilityResidualRatio||"无"))])]),e._v(" "),e._t("storage",null,{item:n})],2)])])])]}}]),model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}})},r=[],i={render:n,staticRenderFns:r};t.a=i},GEfv:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2208,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}],noTaxRate:!0}},mixins:[r.default],methods:{},created:function(){}}},GFh5:function(e,t){},GKw5:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",e._l(e.duplicateConfig,function(t,n){return a("div",{key:t.name+"+"+n,staticClass:"duplicate-wrapper"},[t.hiddenInRun?e._e():[e.duplicateData[t.name]&&!e.duplicateData[t.name].length?a("div",{staticClass:"title"},[a("div",{staticClass:"each_property"},[a("label",[e._v(e._s(t.title))]),e._v(" "),a("span",{staticClass:"add",on:{click:function(a){e.addMoreUnit(t)}}},[e._v("新增")])])]):e.duplicateData[t.name]&&e.duplicateData[t.name].length?e._l(e.duplicateData[t.name],function(r,i){return a("div",{key:i,staticClass:"duplicate-item",class:{has_border:i>0}},e._l(t.items,function(i,o){return a("div",{key:o,class:{"vux-1px-b":o<t.items.length-1}},[i.readOnly?[a("div",{staticClass:"each_property readOnly"},[a("label",{class:{required:!i.allowBlank}},[e._v(e._s(i.text))]),e._v(" "),a("span",{staticClass:"property_val"},[e._v(e._s(r[i.fieldCode]))])])]:["r2Combo"===i.editorType||"r2Selector"===i.editorType?a("r-picker",{attrs:{title:i.text,data:i.remoteData,value:r[i.fieldCode],required:!i.allowBlank},on:{"on-change":function(t){e.onChange(t,n,i,r)}},model:{value:r[i.fieldCode],callback:function(t){e.$set(r,i.fieldCode,t)},expression:"sItem[dItem.fieldCode]"}}):e._e(),e._v(" "),"r2Numberfield"===i.editorType?a("div",{staticClass:"each_property "},[a("label",{class:{required:!i.allowBlank}},[e._v(e._s(i.text))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.number",value:r[i.fieldCode],expression:"sItem[dItem.fieldCode]",modifiers:{number:!0}}],staticClass:"property_val",attrs:{type:"number",placeholder:"请输入"},domProps:{value:r[i.fieldCode]},on:{focus:function(t){e.getFocus(t)},input:function(t){t.target.composing||e.$set(r,i.fieldCode,e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}})]):e._e(),e._v(" "),"r2Textfield"===i.editorType?a("div",{staticClass:"each_property"},[a("label",{class:{required:!i.allowBlank}},[e._v(e._s(i.text))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:r[i.fieldCode],expression:"sItem[dItem.fieldCode]"}],staticClass:"property_val",attrs:{type:"text",placeholder:"请输入"},domProps:{value:r[i.fieldCode]},on:{focus:function(t){e.getFocus(t)},input:function(t){t.target.composing||e.$set(r,i.fieldCode,t.target.value)}}})]):e._e(),e._v(" "),"r2Datefield"===i.editorType?a("div",{staticClass:"each_property",on:{click:function(t){e.getDate(r,i)}}},[a("label",{class:{required:!i.allowBlank}},[e._v(e._s(i.text))]),e._v(" "),a("div",{staticClass:"picker"},[a("span",{staticClass:"mater_nature"},[e._v(e._s(r[i.fieldCode]||"请选择"))]),e._v(" "),a("span",{staticClass:"icon-right"})])]):e._e()]],2)}),0)}):e._e(),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.duplicateData[t.name].length,expression:"duplicateData[item.name].length"}],staticClass:"add_more"},[e._v("\n      您还需要添加新的"+e._s(t.title)+"?请点击\n      "),a("span",{staticClass:"add",on:{click:function(a){e.addMoreUnit(t)}}},[e._v("新增")]),e._v(" "),a("em",{directives:[{name:"show",rawName:"v-show",value:e.duplicateData[t.name].length>1,expression:"duplicateData[item.name].length > 1"}]},[e._v("或")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.duplicateData[t.name].length>1,expression:"duplicateData[item.name].length > 1"}],staticClass:"delete",on:{click:function(a){e.deleteMoreUnit(t)}}},[e._v("删除")])])]],2)}),0)},r=[],i={render:n,staticRenderFns:r};t.a=i},GOq4:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("53nK"),i=n(r),o=a("IXh9"),s=n(o);t.default={ajax:s.default.ajax,post:s.default.post,upload:s.default.upload,conf:i.default}},GRe5:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vux-cell-box"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.showCell,expression:"showCell"}],staticClass:"weui-cell vux-tap-active",class:{"weui-cell_access":!e.disabled},on:{click:e.onClick}},[a("div",{staticClass:"weui-cell__hd"},[e._t("title",[e.title?a("label",{staticClass:"weui-label",class:e.labelClass,style:e.labelStyles,domProps:{innerHTML:e._s(e.title)}}):e._e()],{labelClass:"weui-label",labelStyle:e.labelStyles,labelTitle:e.title}),e._v(" "),e.inlineDesc?a("inline-desc",[e._v(e._s(e.inlineDesc))]):e._e()],2),e._v(" "),a("div",{staticClass:"vux-cell-primary vux-popup-picker-select-box"},[a("div",{staticClass:"vux-popup-picker-select",style:{textAlign:e.valueTextAlign}},[e.displayFormat||e.showName||!e.value.length?e._e():a("span",{staticClass:"vux-popup-picker-value vux-cell-value"},[e._v(e._s(e._f("array2string")(e.value)))]),e._v(" "),!e.displayFormat&&e.showName&&e.value.length?a("span",{staticClass:"vux-popup-picker-value vux-cell-value"},[e._v(e._s(e._f("value2name")(e.value,e.data)))]):e._e(),e._v(" "),e.displayFormat&&e.value.length?a("span",{staticClass:"vux-popup-picker-value vux-cell-value"},[e._v(e._s(e.displayFormat(e.value,e.value2name(e.value,e.data))))]):e._e(),e._v(" "),!e.value.length&&e.placeholder?a("span",{staticClass:"vux-popup-picker-placeholder vux-cell-placeholder",domProps:{textContent:e._s(e.placeholder)}}):e._e()])]),e._v(" "),a("div",{staticClass:"weui-cell__ft"})]),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom",value:e.isTransferDom,expression:"isTransferDom"}]},[a("popup",{staticClass:"vux-popup-picker",attrs:{id:"vux-popup-picker-"+e.uuid,"popup-style":e.popupStyle},on:{"on-hide":e.onPopupHide,"on-show":e.onPopupShow},model:{value:e.showValue,callback:function(t){e.showValue=t},expression:"showValue"}},[a("div",{staticClass:"vux-popup-picker-container"},[a("popup-header",{attrs:{"left-text":e.cancelText||"取消","right-text":e.confirmText||"完成",title:e.popupTitle},on:{"on-click-left":function(t){e.onHide(!1)},"on-click-right":function(t){e.onHide(!0)}}}),e._v(" "),a("picker",{attrs:{data:e.data,columns:e.columns,"fixed-columns":e.fixedColumns,container:"#vux-popup-picker-"+e.uuid,"column-width":e.columnWidth},on:{"on-change":e.onPickerChange},model:{value:e.tempValue,callback:function(t){e.tempValue=t},expression:"tempValue"}})],1)])],1)])},r=[],i={render:n,staticRenderFns:r};t.a=i},GWbZ:function(e,t,a){"use strict";function n(e){a("4LeJ")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("1Unt");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("idOg"),s=a.n(o),l=a("CZPG"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,null,null);t.default=c.exports},GaU3:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"detail",staticClass:"detail-container",class:{"has-comment":e.hasComment}},[a(e.currentComponent,{ref:"detailComponent",tag:"component",on:{change:e.modifyRoute,"refresh-scroll":e.refresh,"is-subscribe":e.isSubscribe}})],1),e._v(" "),e.hasComment?a("div",{staticClass:"detail-comment-container vux-1px-t"},[a("div",{staticClass:"concern",on:{click:e.goConcern}},[0===e.isConcern?a("span",{staticClass:"icon icon-heart"}):a("span",{staticClass:"icon icon-heart-fill"})]),e._v(" "),a("div",{staticClass:"operation",on:{click:e.goDiscuss}},[a("span",{staticClass:"icon icon-dialog"}),e._v(" "),a("span",{staticClass:"count"},[e._v(e._s(e.commentCount||""))])])]):e._e()])},r=[],i={render:n,staticRenderFns:r};t.a=i},GaoY:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("4YfN"),s=n(o),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("zWMP"),f=(a("Qg39"),a("BUFe")),h=n(f),m=a("AupE"),v=n(m),p=a("89pA"),C=n(p),y=a("bFc7"),_=n(y),g=a("6WeX"),b=n(g),w=a("hPJo"),I=n(w),D=a("kKsb"),x=n(D),P=a("sUbJ"),S=n(P),k=a("d7ck"),L=n(k);t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"",orderList:{},warehouse:{},dealerInfo:{},basicInfo:{},warehouseConfig:[]}},computed:{noTaxAmount:function(){var e=0;return this.orderInfo.outPut.dataSet.forEach(function(t){e=(0,c.accAdd)(e,t.noTaxAmount)}),e},taxAmount:function(){var e=0;return this.orderInfo.outPut.dataSet.forEach(function(t){e=(0,c.accAdd)(e,t.taxAmount)}),e}},mixins:[u.default],components:{workFlow:v.default,RAction:h.default,PopWarehouseList:C.default,contactPart:_.default,PriceTotal:b.default,WarehouseContent:I.default,ProjectPart:x.default,MatterItem:S.default,FormCell:L.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u={},f=o.outPut,h=void 0===f?{}:f;e.attachment=d;var m=o.outPut.dataSet,v=!0,p=!1,C=void 0;try{for(var y,_=(0,i.default)(m);!(v=(y=_.next()).done);v=!0){var g=y.value;e.count=(0,c.accAdd)(e.count,g.tdAmount),g.inventoryPic=g.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+g.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),g.inventoryName_transObjCode=g.inventoryName_outPutMatCode,g.transObjCode=g.outPutMatCode,u[g.orderCode]||(u[g.orderCode]=[]),u[g.orderCode].push(g)}}catch(e){p=!0,C=e}finally{try{!v&&_.return&&_.return()}finally{if(p)throw C}}e.orderList=u,e.dealerInfo={creatorName:o.dealerDebitContactPersonName,dealerName:h.dealerName_dealerDebit,dealerMobilePhone:o.dealerDebitContactInformation,dealerContactPersonName:o.dealerDebitContactPersonName,dealerCode:h.dealerDebit,dealerLabelName:h.drDealerLabel,province:h.province_dealerDebit,city:h.city_dealerDebit,county:h.county_dealerDebit,address:h.address_dealerDebit};for(var b in h)(b.includes("warehouse")||b.includes("storehouse"))&&(e.warehouse[b]=h[b]);e.orderInfo=(0,s.default)({},o,h),e.workFlowInfoHandler()})}}}},GdIh:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADVCAYAAAChWJfBAAAAAXNSR0IArs4c6QAAGsVJREFUeAHtnXlsHcd9x2cf+XiJlKiLos5Isg7Lsi3LkRMXVlTLoUiKaXMgKZwmRdHmaFEkbtO0iZs0KBCg/aNBixzoH03TwKlhJGnQoC2MSNThKHFs2Wpkx3FC2ZZsRbcsUSIp6+Dx+N72+1txlvOe3iN3l7vv2u8A5MzuzvmZ/b6ZnZmdVYqGBEigpASskqbOxD0TOHjwYOPIW2+tTlnWKiuTabGVakLgWfgTux5/b9mWddmyrIGaTObyuGX1d3V1HcdxBtdoypgARVhmlWPbdmLv3r13WLZ9P9z3QWzrkMU1qKilOPZVXxDgNYT/BQIdhkAP19bWPt/R0XG8zIoc++z4qtTY04oQwL59++7KjI8/CqH1IJm5USUlgkTcj9c1Nn5v+/btl6JKh/F6J0ARemcViU/pZr515cq3UREfnqqlSyQSqrGxUTU1NanaZFLV1NS4f3ItlUpl/Y0MD6uRkZGCeUYrmUIrudtKJB7r7Oz8XxzjkKYUBCjCUlCfSHPPnj2zVCbzJMS33cxGfUODam1tdf5aWloc4TVAgBCK6W1a99jYmLpy5YqCyB174PJllU6nbw1nWc9BjI/gGfKFWy/yTNQE/NVq1LmJWfx7du/+JgT4J7rYS5YuVatWrVLNEF4UZnx8XF1480117uxZNTg4qJC2mUwGN8O3G5X62209Pf3mBbqjJUARRsu3YOy9vb1rMPjyCoRQK57u2LhRLV+xoqD/sC9Id/X06dPq5IkTWa0jboghtLh/2blz53fCTpPx5SeQyH+aZ6MmAAF+TAuwbdGiogpQyibd27Xr1qkH3vUutQjpa4O2sTVj24/t6e39KvJXo8/Tjo4ARRgd2+livlN7WLZsmXYW3ZbBnnvuvVdtecc7VHNzs5u+ncl8BkL8EUZt57gn6YiEAEUYCdbpI0WLI/N/jpk1S+bcS2vmz5+vfuuBB1T74sWTGbHtrvT4+I+feeaZaB5SJ1OKtYsiLF31yyoXx8gUQzkYyceme+5Ra9aunRyJte17r129+t99fX115ZDHasxDedR+NZKt4DLdtmaN2nin21tWGEZ995mTJx/HMyIH8iKoV4owAqjVEOVSPKeuW7/eLQq6zw9jSuXz7gk6QiNAEYaGsvoiWrV6tXrbypWTBbOsL/+4t3fj5Am6wiBAEYZBsYrjuH3DBtU6d2Ipq23Xj9n24wcOHHDmNqu42EUtGkVYVNyVmdhdd93lrFN1co+BmrGRkb+uzJKUZ64pwvKsl7LKVROmUNZgYt8wn+O0hUFjhk6KcIYA4xJ8JZ4NZ01M5mOUdN6Na9ceiUvZoy4nRRg14SqKf/Vtt7mlgRA/i2fDySU27hU6/BKgCP0Si7H/JUuWKOmaioEI5+PZ8GMxxhFa0SnC0FDGIyJ51co1tv0R101HYAIUYWB08Qwoa0sTeKtfDCbw37l///7V8SQRXqkpwvBYxiImbBalFixY4JY1nUqxNXRpBHNQhMG4xTrUYvNNC6U+FGsYIRSeIgwBYtyiWNjWpow3P+7GKGlr3BiEWV6KMEyaMYlLdnqbPXu2U1p5s2J0dPT+mBQ9kmJShJFgrf5I3fWkKCq26nig+kscXQkpwujYVnXMsiWjYShCA4ZfJ0Xolxj9OwRyRHg3sQQnQBEGZxfrkLJBsTwbipHVM1zCFvx2oAiDs4t9SNmpTRtsLGwspdFnaXshQBF6oUQ/eQmYIsykUivzeuLJaQlQhNMioodCBGQDYdfgu4mumw5fBChCX7jo2STQgOdCbfBcOLmWTZ+k7YkARegJEz3lI6AHZuQabiT5YjBNAAIUYQBoDHKTgClCO5GgCAPeGBRhQHAMhtZvYorCYWHbFGHAm4IiDAiOwZSqyd6+v/Qf1KjQSqEIK7TiyiHbxpsUkh332xrlkLdKygNFWEm1xbxWJQGKsCqrlYWqJAIUYSXVFvNalQQowqqsVhaqkghQhJVUW8xrVRKgCKuyWlmoSiJAEVZSbTGvVUmAIixVtZqfnrasUuWC6ZYBAYqwRJVgWVaLTtpcg6nP0Y4PAYqwBHUt2wTib44kDTGqZDJZglwwyXIhQBGWoCYO7d4traCzQUsNtpWniTcBirAE9X+9vn7iI/BKJSnCEtRAeSVJEZagPuxUaoVOtq6uTjtpx5QARViCis/Y9n062ZaJ7eT1Me34EaAIS1Dn+K6fK8I5c5zxmRLkgkmWCwGKsDQ1sUUnO5si1Chia1OERa76p3t7F2N6Yo0kKy/FtrS404VFzgmTKxcCFGGRa2LYtj+sk5w7b54zT6iPaceTAEVY/Hr/qE4y54u3+jTtmBGgCItY4Xv27LkdXdG3S5KyU9mi9vYips6kypUARVjEmrEzmU/q5NoWLlS1nKjXOGJtU4RFqn4ZkMGC0T/TyS1Ztkw7acecAEVYpBsAAzJfwvyg8wUVmRtciJaQhgSEAEVYhPvgwO7dK/Es+Amd1Np167STNglQhMW4B8aU+gbScRaJyrTE/AX8gFExuFdKGmwJI66p3t7eT6IV/F1JRt4dXMdWMGLilRc9RRhhnT21a9dtGIz5qk7ibStXqta57ltM+jTtmBOgCCO6AY7t2lU/bllPoBV0PpTSjOVpfBaMCHaFR0sRRlCBEJ51XKn/gH2/RC9rRO+++27HjiA5RlnhBLi3QgQVuLe3958xHfGwjnrd+vUqBu8NJp/ftWu2LnMl2POVGl3b0zNa6rxyr72QawADMX+lMpl/0tHKc+DtGzbow6qy+y9eVC++8EJFlwmDZdfRY7mEUbPLeH6/jMKcgPtZG3/d3d2vF6NwFGGIlNECfjGTyfyDjrJ98WK16Z579GHV2dUgwqkqBeK4IGLEM9uT8xYu/MGWLVtuTOU/6DWKMCg5Ixx+SRMQ4NdgP6JPy3zgfffdp6zsr9nqy1VhX7p0Sf3ypZcqtiz4wVSZdNpT/iGUIfw9YdfUfLOrq+vXngJ59EQRegRVyFtfX1/dmZMnHzefARdgSdo9mzcrbupbiFr5nE9DhKlUSqXGxtQY/q5evaoGBwfVEP7kOJ+BaJ61amsf7ezsfDbfdb/nKEK/xAz/eDVplUqnfwAButtVLF6yRN2FkVCZmKepbALXr19Xl/r71ZnTp9W1a9duKQzq+IlGy/r8tu7u87dc9HGCd4oPWKZXDMB8EA/y30YX1N2pqZoHYcyyx9E9ODCgTkOMFy5cyO3CXsXc05fr6+u/vn379vEgbChCn9QOHjzYeG1o6CsZpT6tg8o84HqMgK5Y4W4nqi/RrjICo6Oj6rVXX1Xnz53LKhmE9DRekfnQtp6e/qwLHg4oQg+QtJe9u3e/F+L7urLtlfpc06xZzgjobO4fqpHEwpaW8ZUjR5xnSKPAJ9Eqvg9TG780zk3rpAinRaTU/v37V4+nUt+A+N5jepcpiDvvvFPxexImlXi5f3P8uDp29ChuDYwMwMi8I4T4BxhB/R+vJAKJUNZFnqqvb0fC9V4TitofRiIH0Ce/FGY6Bw4caBgbGXkUcf4Nytqg466rr1frsQpmydKl+hTtGBOQqZqXMVUjo6xiIMRxCOt9nTt37vKCxZMIcTO2p0ZH3489Ut6LFN6JG3Kel8iL7Ud+hfB7dBLpvoB8PoZfo5/g3M2fKB+ZEfGhvH+E7eofNbueiEstx3OfLMTm/jA+gMbA6w2MpMrqIRlRnTA3rJqaHbgHD+oThewpRYhu2PzM2NgXsGrgU2ZLUCiycjuPwh2HGP+xa+fOf/OSN1n7OKSU7APzGfxlbYXW2tqqNmzcqPjs54VkPP3IvOKh559XIsgJM1iXSLzroe7uPn0in11QhBiEeDeakP+E+LDONdvIJLR8TUhGBcvFSFeg0OQqhPij2mTy4x0dHRfy5RfzfW12Ov0XaOnkx8adchC/0vVcu3atWrZ8eb6gPEcCWQSGh4fVoeeeUzKK6hjLegOrpjahRXSVmRUAB3lFiCVYn8KSnq/juvMhSwkkL6MuxTOQrAZpaHAfj+RS2RhZ/SC/QjJ8fA5/LgjkEAK7mKitfXDHjh2vSIbR5ayFaLvRxf5jdDl/B6ec7SfkmpjGxka1ctUqR3zl9GNzM3f8X84EZNXNzw8dcp8Rkdd/7e7pkR5WXnOLCNEC/t5EC+hck5tRumGVtjsYWjT1+rFjSkavxO0YyzqRsO0/zVhWF05+BOeyupzip7m5Wa1avVrJyhd5BqQhgSAE3jx/PmtdbY1lde/YuXNPvriy7jKsAtlkZTLP4ZbFvCNaPzwH3bVpk9P1zBe4FOekK+xHHLIGUB6Y9chVoTzPRUsvLV/bokWFvPA8CfgiIIvbRYxiILSzeM654/6enrdyI8l+qde2v68FKB6HhobUz37609wwJT2WrqEMjsiLsvKmwnRGutGymPqFw4fxmh+m2g0j3WqZZpButky605BAmATuQA9SJvXlsQi6WnrFsv4c8f99bhpuS4jnwO/iJv39XA/leiyt4eZ771UL29o8ZfH0qVPqSF+fM9DShjDt+A4Etx70hI6eZkBAxide/qW7gGawVamVua2hI0LZFQzTjEeRljPcKV2+ch2MkMEX3aJh0ax68KGHPCOSLmkymfTsnx5JIAwCzzz9tDt/CMF9qaunx33xW+J3uqNjltWBNwIcAcqz0dvxMqoIsRyNTEM8+8wzagxNvDTz8oqJDKZ4MRSgF0r0EzaB29asmWwNLeuzhw8f/qr5lr4jPKjT2RVMEpcuWrkKUPIn85OtxiemZV6GhgTKmYCMtM+aGHPASP28gf7+rDXIWoRZE9TlXCDmjQQqkYC5zhhCfNgsgyNCjNy0mCfpJgESCJeAvHFjmB4sFnGfoRwR4l/2VIXhm04SIIGZE2hqanLXHcs0IMY23C6pI8KZJ8EYSIAEpiNgfh7dSqe3av8UoSZBmwQiJiAfh9UGreFm7aYINQnaJBAxgaxPIVjWJgzQOPP0FGHE4Bk9CWgCMr2m30CCAJufeuqptXKNItSEaJNAEQjIJ/K0weqv28RNEWoitEmgCASStZMTEXitzlEkRVgE8EyCBDQBc2c+7GFEEWowtEmgWATMDcLwXEgRFgs80yEBTcB8OwnuJjnP7qimQ5sEikDA3OEB+xsNSpIUYRHAMwkS0ATkFTxt8GL6m+KmCDUR2iRQBAKjxjcP7UTC2YKTIiwCeCZBApqAuQ1nbTpNEWowtEmgGARkW5aRyZfQ0/iQ3hlJly1hMegzDRIAAflOBaYlHBZYNHp8bU+P84BIEfL2IIEiEbhufHIb33dxdoKXpCnCIlUAkyEB44tNKkER8oYggeITkJ0BtUG3lC2hhkGbBIpFgN3RYpFmOiRQgMD1GzfcK62ZzKv6gM+EmgRtEoiQwA0IMIPd48VgZPSsuRU+RRgheEZNAppAoa6oXKcINSXaJBAhAXNQBi2hOygjSVKEEYJn1CSgCZjTE5ixpwg1GNokUCwCZnfUnCOU9NkSFqsWmE6sCVzDkjVtrGSSLaGGQZsEikFA3pwYx7cxJ8xgR0eH8/aEPsGWUJOgTQIRETC7oniRN6sVlCQpwojAM1oS0ATMkVGcowg1GNokUCwC5sio+faETp8toSZBmwQiImC2hNjwly1hRJwZLQkUJGA+E2JfGYqwICleIIEICIyPjyu9rwxWygx3dnaezE2G3dFcIjwmgRAJmF1RRPsaRkczudFThLlEeEwCIRLI6ormmZ6QpCjCEIEzKhLIJWCKMHe5mvZLEWoStEkgAgLmcjVse3/LoIwkSRFGAJ5RkoAmYLaEyTwjo+KPItS0aJNAyARks99hY7PfRcuXH8uXBEWYjwrPkUAIBMzNfhHdGxs3bhzLFy1FmI8Kz5FACATMrqgqMDIqyVCEIcBmFCSQj4A5R5i7pYXpnyI0adBNAiESmG7htk6KItQkaJNAyATMlrA2z8JtnRxFqEnQJoGQCdwwtrRoaGlxN/vNTYYizCXCYxIIgYCz2S+mKBxjWWe2bt16tVC0FGEhMjxPAjMgYI6MWlN0RSUJinAGoBmUBAoRMJ8Hp5qekPAUYSGKPE8CMyCQ1RJOMUcoSVCEMwDNoCRQiIC5cFsVWLitw1KEmgRtEgiRgNkS2jU1ed+e0MlRhJoEbRIIicDoyIiSbS3E4E36ga6urotTRU0RTkWH10ggAIGsrug0I6MSPUUYADKDkMBUBLK6otMMykg8FOFUNHmNBAIQMKcnILApnwcleoowAGQGIYGpCGQt3C7wNr0ZniI0adBNAiEQMLujddNMT0hyFGEI0BkFCWgCKXwCTW/2i3M3HuzuvmWzX+1X2xShJkGbBEIgYHZFMT8hm/3a00VLEU5HiNdJwAcBsys63cJtHS1FqEnQJoEQCJgjo9Mt3NbJUYSaBG0SCIGA2RLm+xZhviQownxUeI4EAhIwV8vUehgZlWRqA6bFYCRAAjkEZLPfkYnNfjEgM966cGHezX5zgnGKIhcIj0kgKAHpitr2zcFQ/H9jy5YtKS9xsTvqhRL9kIAHAmZX1OvIqERLEXqASy8k4IWAOSjjdWRU4qUIvdClHxLwQMAUIZ4Jp124raOkCDUJ2iQwQwJmd1R5WLitk6MINQnaJDADAjIgY272m0wmC272m5sMRZhLhMckEIDA8I0b2M/p5ma/6Iqe3r59+zWv0VCEXknRHwlMQSCrK+rhRV4zKorQpEE3CQQkYA7KoGvqeVBGkqMIA0JnMBIwCZgLtxM+RkYlDorQJEk3CQQkkNUS+hgZleQowoDQGYwETALmy7yN6bSv7igXcJsk6SaBAARGsjf7vbxt585+P9GwJfRDi35JIA+BrK6oz5FRiY4izAOVp0jADwGzK+pn4bZOgyLUJGiTQEAC5sion4XbOjmKUJOgTQIBCWR1R31OT0iSFGFA8AxGApqAuVoGa0Z9jYxKHBShJkmbBAIQkM1+x0ZHnZBYM3r9oYceOuU3GorQLzH6JwGDQFZXVClPm/0awR0nRZhLhMck4IOA2RW1AkxPSFIUoQ/g9EoCuQTMlhC7PPl+HpT4KMJcqjwmAR8EzOkJvwu3dTIUoSZBmwQCEDBFWKNUX4Ao2BIGgcYwJCAExsfH3c1+MUk/ur27+/UgZNgSBqHGMCQAAteuXnU5yHI1TFGk3RM+HBShD1j0SgImgYGBgclDy3ph8sCfiyL0x4u+ScAlMHD5suvGF5h+7B74dFCEPoHROwkIgXQ6rYaGhlwYTUodcA98OihCn8DonQSEwPnz5x0hOjQsq29bd/f5oGQowqDkGC7WBE6fOuWWHytlvu8eBHBQhAGgMUi8Cbx15YqSP21qksnvancQmyIMQo1hYk3g9OnTbvkxLXGwo6PjuHsigIMiDACNQeJLQCboz5875wJAV/Rr7kFAB0UYEByDxZPAyRMn3AEZCPDYju7uH86UhCNCfNp3bKYRMTwJVDsBWSFz/I033GJaicRX0B29+RUY96x/x82W0LYn19/4j4MhSKDqCcinz371q1+5X17CWtGXd3R1PRZGwW+KMJGYHOoJI1bGQQJVRuA3x49njYjWWtang64VzUWjW0J39bfsmVHuJoWHY21qEjeLoI9pk0DYBOTF3TdedyWi0Ap+p6O7+2dhpXNzG/xE4iU8bTpxnjt7VtXX16tkXV1YaYQaj3wNdWhw0I2zuaXFddNBAmETGMUmTr948cXJbqhSR+sbGh4JMx1HhHV1dQfGRkZOoN+7UlrCo6+9FmYakcXV3t6ukPfI4mfE8SYgAvz5oUPK3WEb7wwmamoe9vMVXi8Enb4cIh3BKvD3o5m97iVQOfiZO3euumPjRk9ZuXzpknop+9fMUzh6ii+BUXzk5f9MAWIGocayHu7s7HwpbCqY6pg0+3ftumPcsp7HhjVOH6+2tlYtWLBAYUPTSU8ldtUiL3NaW9WiRYs85eTsmTPqSF+f051ohXA3b96s6tDdpiGBQgTkK0vSAt7Ad+gnzBiE8qGunp4n9Ykw7SwRSsT7du/emrbtp+B0+nkixDVr16oVK1YozIuEmXakcQnIY0ePKnnGNQ36844QRcg0JJBLoP/iRedHW+4fx6ALihbwg5iU/1Gu37CObxGhRLyvt/c9EOJ30SLO1gk14OZtX7xYLWxrU01NTc7gDYZo9eWS2/J+l/ThZWHtRYC8cOGCykwMNuVmLoEfE+nKLl22LPcSj2NKYGxsTL165IjzipKLAAJEw/OBrq6u3e65CBwFVbRv374NmVTqh1hNs6FQuuUiQplIncqgkI8D5v6MbX8LPyxuX3Q5Wvf1t9+uamqwTxZNbAnIWtBXX3lFiRC1wT1zFjfGH0KAgd+Y13FNZxcUoQQ8cOBAbWpk5OO4xf8ON/qS6SIrt+so3NMA+QWAPCh527t37wN2Ov09lGW5zqu08OsgxMVo5WniRUC6nrIW9LKxTYUQwH3zrUQy+bkdO3YUZRHLlCLUVXL48OHkQH//NojxvWhJ3olRVBFkO27mshmxQat8DXk7j1HeU7D3Ye7lyY6eniO6DNru7e2dh52x/h15/4A+J/acOXPUqtWr1SJMe9BULwF5ZDmDV5HOYMBuZHg4q6C4h36jEolPFKP1MxP2JEIzgOnGjTyj8GZcM3UD4NR90pwE9uza9VH8mHwFZchq4ZtmzVLL8Kwoz7+NjY05oXhYiQRkkOUK9oM5h26ntH6o89xiyEqVf1nQ1vbFLVu2uEOiuZ6iOi4bEUVVwKniRXe7OTU6+qVMJiMrILBXT7ZpxQjqvPnz1bx585S4azBSTFPeBGSATgbnruBPNmIS8bkjnTlZx80/jB/ix/Bm/D/P9MXcnKh9HcZahJoUxLgAYnwEv5Cfwt98fT7XlumNWRgZbkALKVM3MqDDQZ1cStEfS0smI9/pTMaZ/5UBFZlcH0FXU74VmKely84U3oDAjf9Eo21/Z1tPT3/2xeIfUYQG84MHDzZevXLlfTj1EVRkF2yuiTP4VKoTjyrjUOYhtHr78cz3X3jm+3U5lYUiLFAbaB1b8Qv7ICrvtyHIbfC2EW53eqNAMJ4uPYE0xPY6buyXkRVp8V5samn52datW8v2nVmK0ONNAyEmftLbuyJl2+syiUQ7Rlib8QvbjPMyekOOHjmG4s22U3YiMYI6GMYP4wieCQZQD+ewvPIsPlf9Jurl5itBoSTGSEiABKqewP8D0AnBOqipPQcAAAAASUVORK5CYII="},GdOl:function(e,t){},GdV7:function(e,t){},GdVh:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pop_dealer_list"},[a("div",{staticClass:"dealer-info",on:{click:function(t){e.showDealerPop=!e.showDealerPop}}},[e.selInfo.fundCode?a("div",{staticClass:"user-content"},[a("div",{staticClass:"user-info"},[a("div",{staticClass:"user-name"},[a("span",{staticClass:"user-tips"},[e._v(e._s(e.selInfo.fundType))]),e._v(" "),a("span",[e._v(e._s(e.selInfo.fundName||"暂无银行名称"))])])]),e._v(" "),a("div",{staticClass:"cp-info"},[a("span",[e._v("编码: "+e._s(e.selInfo.fundCode))]),e._v(" "),a("span",[e._v("余额: "+e._s(e._f("numberComma")(e.selInfo.thenAmntBal||e.selInfo.amntBal)))])])]):a("div",{staticClass:"user-content"},[a("div",{staticClass:"title"},[e._v("资金信息")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择资金")])]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r-arrow"})]),e._v(" "),e.selInfo.fundCode?e._t("other"):e._e(),e._v(" "),a("r-popup",{attrs:{show:e.showDealerPop,data:e.listData,options:e.scrollOptions,"has-next":e.hasNext,"default-value":e.defaultValue,"judge-keys":["fundCode"]},on:{"on-pulling-up":e.onPullingUp,"on-select":e.selItem,"on-search":e.searchList},scopedSlots:e._u([{key:"pop-item",fn:function(t){var n=t.item;return[a("div",{staticClass:"top"},[a("span",{staticClass:"name"},[e._v(e._s(n.fundName||"暂无银行名称"))]),e._v(" "),a("span",{staticClass:"label"},[e._v(e._s(n.fundType))])]),e._v(" "),a("div",{staticClass:"amt"},[a("span",[e._v("编码: "+e._s(n.fundCode))]),e._v(" "),a("span",[e._v("账户余额: "+e._s(e._f("numberComma")(n.thenAmntBal||n.amntBal)))])])]}}]),model:{value:e.showDealerPop,callback:function(t){e.showDealerPop=t},expression:"showDealerPop"}})],2)},r=[],i={render:n,staticRenderFns:r};t.a=i},Gfu4:function(e,t){},Ggb2:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages sj-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[a("div",{staticClass:"mater_list"},[a("div",{staticClass:"each_mater"},[a("div",{staticClass:"userInp_mode"},[a("div",{staticClass:"title"},[e._v("员工信息")]),e._v(" "),a("group",{staticClass:"SJ_group",on:{"group-title-margin-top":function(e){}}},[a("pop-salesman-list",{attrs:{title:"员工","dealer-label-name":"员工",value:e.formData.salesPerson,required:""},model:{value:e.formData.turnoverName,callback:function(t){e.$set(e.formData,"turnoverName",t)},expression:"formData.turnoverName"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("员工\n                    ")])])],2),e._v(" "),a("popup-picker",{attrs:{title:"部门",data:e.groupList,placeholder:"请选择"},model:{value:e.formData.turnoverDepartMent,callback:function(t){e.$set(e.formData,"turnoverDepartMent",t)},expression:"formData.turnoverDepartMent"}}),e._v(" "),a("popup-picker",{attrs:{title:"岗位",data:e.roleList,placeholder:"请选择"},model:{value:e.formData.turnoverPost,callback:function(t){e.$set(e.formData,"turnoverPost",t)},expression:"formData.turnoverPost"}}),e._v(" "),a("datetime",{attrs:{placeholder:"请选择日期",title:"离职日期"},model:{value:e.formData.turnoverDate,callback:function(t){e.$set(e.formData,"turnoverDate",t)},expression:"formData.turnoverDate"}}),e._v(" "),a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1)])])]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},GgbD:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("a3Yh"),s=n(o),l=a("4YfN"),d=n(l),u=a("IHPB"),c=n(u),f=a("3cXf"),h=n(f),m=a("HXPS"),v=n(m),p=a("BGNQ"),C=n(p),y=a("z5TY"),_=n(y),g=a("SAzG"),b=n(g),w=a("PzEQ"),I=n(w),D=a("0AQX"),x=a("HyXB"),P=a("bKg5"),S=n(P),k=a("9cRV"),L=n(k),N=a("89pA"),M=n(N),T=a("luHD"),A=n(T),O=a("vl8n"),R=n(O),j=a("+WR7"),B=n(j),E=a("zWMP"),F=a("Qg39");t.default={mixins:[S.default],components:{Icon:v.default,Cell:C.default,Group:_.default,XInput:b.default,XTextarea:I.default,PopMatterList:L.default,PopWarehouseList:M.default,PopMatter:A.default,RPicker:R.default,PopBaseinfo:B.default},data:function(){return{listId:"edf7b34b-8916-410f-801f-2db7e97efbde",matterList:[],showMaterielPop:!1,transCode:"",formData:{biComment:""},numMap:{},warehouse:{},matter:{},showMatterPop:!1,modifyIndex:null,checkFieldList:[{key:"tdQty",message:"请填写盘点数量"}]}},watch:{matter:{handler:function(e){e.differenceNum=(0,E.accSub)(e.tdQty,e.qtyBal)},deep:!0}},methods:{delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,h.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},selWarehouseIn:function(e){this.warehouse=JSON.parse(e),null!=this.matterParams.data.whCode&&(this.matterParams.data.whCode=this.warehouse.warehouseCode,this.matterList=[])},modifyMatter:function(e,t){this.matter=JSON.parse((0,h.default)(e)),this.showMatterPop=!0,this.modifyIndex=t},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.matterList,this.modifyIndex,t)},selMatter:function(e){var t=JSON.parse(e);t.forEach(function(e){e.tdQty=e.tdQty||0,e.differenceNum=(0,E.accSub)(e.tdQty,e.qtyBal),e.thenQtyStock=(0,F.toFixed)((0,E.accSub)(e.qtyBal,e.qtyLock))}),this.numMap={},this.matterList=[].concat((0,c.default)(t))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},save:function(){var e=this,t="",a=[];if([{key:"warehouse",message:"入库仓库"}].every(function(a){return!!e[a.key]||(t="请选择"+a.message,!1)}),t||this.matterList.length||(t="请选择物料"),this.matterList.every(function(n){if(!n.tdQty)return t="请填写盘点数量",!1;var r={transObjCode:n.inventoryCode,thenQtyStock:n.thenQtyStock,tdQty:n.tdQty,differenceNum:n.differenceNum||0,tdProcessing:n.processing,assistQty:n.assistQty||0,assMeasureScale:n.assMeasureScale||null,assMeasureUnit:n.assMeasureUnit||null,thenLockQtyStock:n.qtyLock,thenTotalQtyStock:n.qtyBal,comment:n.comment||null};return e.transCode&&(r.tdId=n.tdId||""),a.push(r),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=x.saveAndStartWf,n=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,containerInWarehouseManager:e.warehouse.containerInWarehouseManager||null,inPut:{containerCode:e.warehouse.warehouseCode,dataSet:a}}),r={listId:e.listId,biComment:"",formData:(0,h.default)(n),wfPara:(0,h.default)((0,s.default)({},e.processCode,{businessKey:e.businessKey,createdBy:n.creator}))};e.transCode&&(t=x.saveAndCommitTask,r.biReferenceId=e.biReferenceId,r.wfPara=(0,h.default)({businessKey:e.transCode,createdBy:n.creator,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=x.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,D.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,s=t.attachment,l=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var u=[];e.attachment=l;var c=o.inPut,f=c.dataSet,h=void 0===f?[]:f,m=!0,v=!1,p=void 0;try{for(var C,y=(0,i.default)(h);!(m=(C=y.next()).done);m=!0){var _=C.value;_=(0,d.default)({},_,{qtyBal:_.thenTotalQtyStock,qtyLock:_.thenLockQtyStock,inventoryPic:_.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:_.inventoryName_transObjCode,inventoryCode:_.transObjCode,specification:_.specification_transObjCode,measureUnit:_.measureUnit_transObjCode,processing:_.tdProcessing}),u.push(_)}}catch(e){v=!0,p=e}finally{try{!m&&y.return&&y.return()}finally{if(v)throw p}}e.warehouse={warehouseCode:c.containerCode,warehouseName:c.warehouseName_containerCode,warehouseType:c.warehouseType_containerCode,warehouseProvince:c.warehouseProvince_containerCode,warehouseCity:c.warehouseCity_containerCode,warehouseDistrict:c.warehouseDistrict_containerCode,warehouseAddress:c.warehouseAddress_containerCode},e.warehouseParams={whCode:e.warehouse.warehouseCode},e.handlerDefault={handler:o.handler,handlerName:o.handlerName,handlerUnit:o.handlerUnit,handlerUnitName:o.handlerUnitName,handlerRole:o.handlerRole,handlerRoleName:o.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:o.biComment,biId:o.biId,biProcessStatus:o.biProcessStatus,creator:o.creator,modifer:o.modifer}),e.biReferenceId=o.biReferenceId,e.matterList=u,e.$loading.hide()})},checkAmt:function(e){var t=e.tdQty,a=void 0===t?0:t;"number"!=typeof a&&(a=0),e.tdQty=Math.abs((0,F.toFixed)(a))},hasDraftData:function(){return!!this.matterList.length&&(0,s.default)({},"KCPD_DATA",{matter:this.matterList,warehouse:this.warehouse,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("KCPD_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.warehouse=t.warehouse,this.formData=t.formData,this.warehouseParams={whCode:this.warehouse.warehouseCode},sessionStorage.removeItem("KCPD_DATA")}}}},Gkvy:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("0AQX"),s=a("+VRO"),l=n(s),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),h=a("sUbJ"),m=n(h),v=a("d7ck"),p=n(v);t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",orderList:{},basicInfo:{}}},mixins:[l.default],components:{workFlow:f.default,RAction:u.default,MatterItem:m.default,FormCell:p.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,o.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,s=t.attachment,l=void 0===s?[]:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var d={};o.outPut;e.attachment=l;var u=o.outPut.dataSet,c=!0,f=!1,h=void 0;try{for(var m,v=(0,i.default)(u);!(c=(m=v.next()).done);c=!0){var p=m.value;p.inventoryPic=p.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+p.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),p.inventoryName_transObjCode=p.inventoryName_outPutMatCode,p.transObjCode=p.outPutMatCode,d[p.transMatchedCode]||(d[p.transMatchedCode]=[]),d[p.transMatchedCode].push(p)}}catch(e){f=!0,h=e}finally{try{!c&&v.return&&v.return()}finally{if(f)throw h}}e.orderList=d,e.orderInfo=o,e.workFlowInfoHandler()})}}}},GlWL:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2313,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[r.default],methods:{},created:function(){}}},GmAZ:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[n("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[n("div",{staticClass:"popup-top"},[n("i",{staticClass:"icon-close",on:{click:e.onHide}})]),e._v(" "),n("div",{staticClass:"trade_pop"},[n("d-search",{on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),n("r-scroll",{ref:"bScroll",staticClass:"pop-list-container",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.listData,function(t,r){return n("div",{key:r,staticClass:"pop-mater-list-item",class:{selected:e.showSelIcon(t)},on:{click:function(a){a.stopPropagation(),e.selThis(t,r)}}},[n("div",{staticClass:"pop-list-main "},[n("div",{staticClass:"user-photo"},[n("img",{attrs:{src:a("Fuf7"),alt:"mater_img"}})]),e._v(" "),n("div",{staticClass:"pop-list-info"},[n("div",{staticClass:"user_name"},[e._v(e._s(t.nickname))]),e._v(" "),t.userId?n("div",{staticClass:"user_code"},[e._v(e._s(t.userId))]):e._e()])])])}),0)],1)])],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},GqrD:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("HzJ8"),s=n(o),l=a("3cXf"),d=n(l),u=a("4YfN"),c=n(u),f=a("7g+Q"),h=n(f),m=a("z5TY"),v=n(m),p=a("BGNQ"),C=n(p),y=a("iR2W"),_=n(y),g=a("u28h"),b=n(g),w=a("SAzG"),I=n(w),D=a("PzEQ"),x=n(D),P=a("0AQX"),S=a("HyXB"),k=a("bKg5"),L=n(k),N=a("VZtf"),M=n(N),T=a("9cRV"),A=n(T),O=a("y8YJ"),R=n(O),j=a("yt3/"),B=n(j),E=a("luHD"),F=n(E),U=a("hLfv"),$=n(U),H=a("vl8n"),V=n(H),q=a("+WR7"),Q=n(q),Y=a("Q67R"),X=n(Y),G=a("lsbD"),W=n(G),z=a("zWMP"),K=a("Qg39");t.default={data:function(){return{listId:"525bee48-d2d4-11e8-b8ca-0279b2c6a380",showMatterPop:!1,showMaterielPop:!1,transMode:[],matterList:[],logisticsTerm:[],numMap:{},contact:{},formData:{},dealerInfo:{validUntil:"",advancePaymentDueDate:""},filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"}]}},computed:{thenTotalAmntBal:function(){var e=0;return this.matterList.forEach(function(t){var a=t.assistQty,n=t.price,r=(0,z.accMul)(a,n);e=(0,z.accAdd)(e,r)}),(0,K.toFixed)(e)}},components:{XInput:I.default,XTextarea:x.default,Group:v.default,Cell:C.default,Popup:h.default,OpButton:W.default,PopMatter:F.default,RNumber:M.default,PopMatterList:A.default,PopDealerList:R.default,PopSingleSelect:B.default,Datetime:b.default,RPicker:V.default,PopBaseinfo:Q.default,DealerOtherPart:$.default,ApplyMatterPart:X.default},mixins:[L.default],filters:{numberComma:_.default},methods:{selDealer:function(e){var t=JSON.parse(e)[0];this.dealerInfo=(0,c.default)({},this.dealerInfo,t),this.dealerInfo.drDealerPaymentTerm=this.dealerInfo.paymentTerm,this.dealerInfo.daysOfAccount=this.dealerInfo.pamentDays,this.dealerInfo.drDealerLogisticsTerms=this.dealerInfo.dealerLogisticsTerms,this.matterParams.data&&this.matterParams.data.drDealerCode&&(this.matterParams.data.drDealerCode=this.dealerInfo.dealerCode,this.matterList=[])},selContact:function(e){this.contact=(0,c.default)({},e)},selMatter:function(e){var t=this,a=JSON.parse(e);a.map(function(e){t.submitMatterField.forEach(function(t){"price"!==t.fieldCode&&t.showFieldCode&&(e[t.fieldCode]=e[t.fieldCode]||e[t.showFieldCode])}),e.price=e.price||"",e.taxRate=e.taxRate||.16,e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null}),this.matterList=a},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(t){return t.inventoryCode===e.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(e)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,d.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},checkAmt:function(e,t,a){e[t]=Math.abs((0,K.toFixed)(a))},submitOrder:function(){var e=this,t="",a=[],n=[{key:"dealerInfo",childKey:"dealerName",message:"请选择客户"},{key:"matterList",childKey:"length",message:"请选择物料"}];if(t||(n.every(function(a){return a.childKey&&!e[a.key][a.childKey]?(t=a.message,!1):!!e[a.key]||(t=a.message,!1)}),this.matterList.forEach(function(n){var r={},i=!0,o=!1,l=void 0;try{for(var d,u=(0,s.default)(e.submitMatterField);!(i=(d=u.next()).done);i=!0){var c=d.value;if(!c.hidden&&!c.allowBlank&&!n[c.fieldCode]){t=c.text+"不为空";break}r[c.fieldCode]=null!=n[c.fieldCode]?n[c.fieldCode]:null}}catch(e){o=!0,l=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw l}}a.push(r)})),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=S.saveAndStartWf,n=(0,i.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName},o={listId:e.listId,biComment:e.formData.biComment,formData:(0,d.default)((0,c.default)({},e.formData,{handlerEntity:e.entity.dealerName,dealerDebitContactPersonName:e.contact.dealerName,dealerDebitContactInformation:e.contact.dealerMobilePhone,drDealerLogisticsTerms:e.dealerInfo.dealerLogisticsTerms,order:(0,c.default)({},r,{dataSet:a})})),wfPara:(0,d.default)(n)};e.isResubmit&&(t=S.saveAndCommitTask,o.biReferenceId=e.biReferenceId),e.processCode.length||(t=S.submitAndCalc,delete o.wfPara,delete o.biReferenceId),e.biReferenceId&&(o.biReferenceId=e.biReferenceId),e.saveData(t,o)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.attachment=t.attachment;var a=t.formData;a.order.dataSet.map(function(t){t=(0,c.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode}),e.matterList.push(t)}),e.handlerDefault={handler:a.handler||a.creator,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,c.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),e.dealerInfo={creatorName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation,dealerCode:a.order.dealerDebit,dealerSubclass:a.order.drAccountSub,dealerLabelName:a.order.drDealerLabel,dealerName:a.order.dealerName_dealerDebit,province:a.order.province_dealerDebit,city:a.order.city_dealerDebit,county:a.order.county_dealerDebit,address:a.order.address_dealerDebit},e.contact={dealerName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation},e.matterParams.data&&null!=e.matterParams.data.dealerCode&&(e.matterParams=(0,c.default)({},e.matterParams,{drDealerCode:e.dealerInfo.dealerCode})),e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,i.default)({},"XSHT_DATA",{matter:this.matterList,dealerInfo:this.dealerInfo,formData:this.formData,contact:this.contact,matterParams:this.matterParams})}},created:function(){var e=sessionStorage.getItem("XSHT_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.dealerInfo=t.dealerInfo,this.formData=t.formData,this.contact=t.contact,this.matterParams=t.matterParams,sessionStorage.removeItem("XSHT_DATA")}}}},Gt3T:function(e,t){},GtZX:function(e,t){},GvUu:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={PINI:{"b61ef324-f261-48d6-9c79-d1b475c24943":"FYBX","0281f8eb-f1d2-415c-b566-756fc749ccb3":"XMJH","b87a513e-99ec-4608-89db-3d6e97ef1432":"XMJX"},PPLN:{"ee4ff0a1-c612-419d-afd7-471913d57a2a":"XMRW"},PO:{"1c5896d8-1500-4569-b0c5-6b596d03fb9b":"CGRK"},PAPP:{"dd4d228d-fc01-4038-bf17-df54d8d06eb9":"CGDD"},POPI:{"482b7468-06eb-40c7-842a-f7ea6edb1c37":"CGTHCK"},PLAN:{"65ceb5a6-a120-11e8-862a-005056a136d0":"NBJGDD","7532f8ea-caf3-4fc4-97f6-b5aad7bcf6a0":"WLXQTJ"},SO1:{"a1e8592f-63c2-4a31-ba22-9d654484db1d":"XSCK"}}},GwOs:function(e,t,a){"use strict";function n(e){a("YDC/")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("qgxz");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("Zm5O"),s=a.n(o),l=a("GaU3"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-526f72a6",null);t.default=c.exports},GxGw:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("3cXf"),r=function(e){return e&&e.__esModule?e:{default:e}}(n),i=a("1WsH");t.default={data:function(){return{jobInfo:{},jobId:""}},methods:{findData:function(){var e=this;return(0,i.getJobList)({filter:(0,r.default)([{operator:"eq",value:this.jobId,property:"id"}])}).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;n.forEach(function(e){switch(e.type){case"Y":e.type="营销类";break;case"Z":e.type="专业类";break;case"J":e.type="技术类";break;case"C":e.type="操作类";break;case"M":e.type="管理类"}switch(e.status){case 1:e.status="使用中";break;case 2:e.status="未使用";break;case 3:e.status="草稿";break;case-1:e.status="停用"}}),e.jobInfo=n[0],e.$loading.hide()}).catch(function(t){e.$loading.hide(),e.$vux.alert.show({content:t.message})})}},created:function(){this.$loading.show();var e=this.$route.query;e.id&&(this.jobId=e.id,this.findData())}}},"H+kM":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("kNGm"),s=n(o),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),h=a("AupE"),m=n(h),v=a("kKsb"),p=n(v),C=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70"}},mixins:[u.default],components:{workFlow:m.default,RAction:f.default,ProjectPart:p.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=!0,r=!1,o=void 0;try{for(var l,d=(0,i.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;e.count=(0,C.accAdd)(e.count,u.tdAmount)}}catch(e){r=!0,o=e}finally{try{!n&&d.return&&d.return()}finally{if(r)throw o}}t.formData.validUntil=(0,s.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},"H/Sh":function(e,t){},H2lT:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"app_top"},[a("r-search",{attrs:{placeHolder:e.placeHolder},on:{search:e.searchMat}}),e._v(" "),a("tab",{attrs:{"line-width":2,"default-color":"#333","active-color":"#3296FA"}},e._l(e.matNature,function(t,n){return a("tab-item",{key:n,attrs:{selected:n===e.activeIndex},on:{"on-item-click":function(a){e.tabClick(t,n)}}},[e._v(e._s(t.name)+"\n        ")])}),1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"app_main",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.matterList.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.matterList,function(t,n){return a("div",{key:n,staticClass:"matter-item-wrapper",class:{visited:t.visited,"vux-1px-b":n!==e.matterList.length-1},on:{click:function(a){e.goDetail(t,n)}}},[a("img",{staticClass:"matter-img",attrs:{src:t.inventoryPic,alt:"matter-img"},on:{error:function(a){e.getDefaultImg(t)}}}),e._v(" "),a("div",{staticClass:"matter-info-wrapper"},[a("div",{staticClass:"matter_name"},[e._v(e._s(t.inventoryName))]),e._v(" "),a("div",{staticClass:"matter_info_main"},[a("span",{staticClass:"matter_main_item"},[e._v("编码："+e._s(t.inventoryCode))]),e._v(" "),a("span",{staticClass:"matter_main_item specification"},[e._v("规格："+e._s(t.specification||"无"))])]),e._v(" "),a("div",{staticClass:"matter_detail"},e._l(t.fields,function(t){return a("div",{staticClass:"matter_info_item"},[a("span",{staticClass:"matter_info_title"},[e._v(e._s(t.alias)+":")]),e._v(" "),a("span",[e._v(e._s(t.fieldValue||"无"))])])}),0)])])}),0)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEditAds}}),e._v(" "),a("router-view")],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},HCsH:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("BGNQ"),i=n(r),o=a("z5TY"),s=n(o),l=a("kNGm"),d=n(l),u=a("0AQX"),c=a("+VRO"),f=n(c),h=(a("Qg39"),a("BUFe")),m=n(h),v=a("AupE"),p=n(v),C=a("bFc7"),y=n(C);t.default={data:function(){return{workInfo:{},orderInfo:{},formViewUniqueId:"c5acfe84-3478-431b-bb18-93809e19cb62"}},mixins:[f.default],components:{Cell:i.default,Group:s.default,RAction:m.default,workFlow:p.default,contactPart:y.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment,t.formData.validUntil=(0,d.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workInfo=t.formData.order.dataSet[0],e.workFlowInfoHandler()})}}}},HE6I:function(e,t,a){"use strict";function n(e){a("v6z6")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("lf2c");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("/Fg5"),s=a.n(o),l=a("j8Z4"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-50d23908",null);t.default=c.exports},HGYk:function(e,t){},HJsR:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("KH7x"),i=n(r),o=a("IHPB"),s=n(o),l=a("Iu/6"),d=n(l),u=a("HyXB"),c=a("vvLd"),f=n(c);t.default={name:"UploadImage",props:{src:{type:String,default:""}},components:{Spinner:d.default},data:function(){return{imgSrc:"",imgFile:"",showLoading:!1}},watch:{src:{handler:function(e){this.imgSrc=e}}},methods:{dataURLtoFile:function(e,t){for(var a=e.split(","),n=window.atob(a[1]),r=n.length,i=new Uint8Array(r),o=a[0].match(/:(.*?);/)[1];r--;)i[r]=n.charCodeAt(r);return new File([i],t,{type:o})},uploadFile:function(e){var t=[].concat((0,s.default)(e.target.files));t.length&&(this.imgFile=t[0],e.target.value="",this.imgPreview())},imgPreview:function(){var e=this;this.showLoading=!0;var t=this.imgFile,a=void 0;if(f.default.getData(t,function(){a=f.default.getTag(t,"Orientation")}),t&&window.FileReader&&/^image/.test(t.type)){var n=new FileReader;n.readAsDataURL(t),n.onloadend=function(t){var n=t.target.result,r=new Image;r.src=n,n.length<=102400?e.postImg(n):r.onload=function(){e.postImg(e.compress(r,a))}}}},postImg:function(e){var t=this,a=this.dataURLtoFile(e,this.imgFile.name);(0,u.upload)({file:a}).then(function(e){var a=(e.success,e.message,e.data),n=(0,i.default)(a,1),r=n[0],o=void 0===r?{}:r;t.imgSrc="/H_roleplay-si/ds/download?url="+o.attacthment+"&width=400&height=400",t.$emit("on-upload",{src:o.attacthment})}).catch(function(e){t.$vux.alert.show({content:e.message})})},compress:function(e,t){var a=document.createElement("canvas"),n=a.getContext("2d"),r=document.createElement("canvas"),i=r.getContext("2d"),o=e.src.length,s=e.width,l=e.height,d=void 0;(d=s*l/4e6)>1?(console.log("大于400万像素"),d=Math.sqrt(d),s/=d,l/=d):d=1,a.width=s,a.height=l,n.fillStyle="#fff",n.fillRect(0,0,a.width,a.height);var u=void 0;if((u=s*l/1e6)>1){console.log("超过100W像素"),u=~~(Math.sqrt(u)+1);var c=~~(s/u),f=~~(l/u);r.width=c,r.height=f;for(var h=0;h<u;h++)for(var m=0;m<u;m++)i.drawImage(e,h*c*d,m*f*d,c*d,f*d,0,0,c,f),n.drawImage(r,h*c,m*f,c,f)}else n.drawImage(e,0,0,s,l);if(""!==t&&1!==t)switch(t){case 6:this.rotateImg(e,"left",a);break;case 8:this.rotateImg(e,"right",a);break;case 3:this.rotateImg(e,"right",a),this.rotateImg(e,"right",a)}var v=a.toDataURL("image/jpeg/gif",.5);return console.log("压缩前: "+o),console.log("压缩后: "+v.length),console.log("压缩率: "+~~(100*(o-v.length)/o)+"%"),r.width=r.height=a.width=a.height=0,v},rotateImg:function(e,t,a){if(null!=e){var n=e.height,r=e.width,i=2;null==i&&(i=0),"right"===t?++i>3&&(i=0):--i<0&&(i=3);var o=90*i*Math.PI/180,s=a.getContext("2d");switch(i){case 0:a.width=r,a.height=n,s.drawImage(e,0,0);break;case 1:a.width=n,a.height=r,s.rotate(o),s.drawImage(e,0,-n);break;case 2:a.width=r,a.height=n,s.rotate(o),s.drawImage(e,-r,-n);break;case 3:a.width=n,a.height=r,s.rotate(o),s.drawImage(e,-r,0)}}},getDefaultImg:function(e){this.showLoading=!1,this.$emit("on-error",e)},imgLoad:function(){this.showLoading=!1}},created:function(){this.imgSrc=this.src}}},HPEG:function(e,t,a){"use strict";function n(e){a("k9I9")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("dcVo");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("cG8U"),s=a.n(o),l=a("1rrF"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-7f5f33c2",null);t.default=c.exports},HTM3:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages sj-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList,showStatus:!1},on:{"sel-item":e.selItem}}),e._v(" "),a("div",{staticClass:"cost_list"},[e._l(e.costList,function(t,n){return a("div",{key:n,staticClass:"cost_item",class:{has_border:n>0}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.costList.length>1,expression:"costList.length > 1"}],staticClass:"cost_title vux-1px-b"},[a("label",[e._v("费用"+e._s(n+1))]),e._v(" "),a("span",{staticClass:"iconfont icon-shanchu1",on:{click:function(t){e.deleteCost(n)}}})]),e._v(" "),e._l(e.matterEditConfig.editPart,function(r,i){return a("div",{key:i,class:{"vux-1px-b":i<e.matterEditConfig.editPart.length-1}},[r.readOnly?[a("div",{staticClass:"each_property readOnly"},[a("label",{class:{required:!r.allowBlank}},[e._v(e._s(r.text))]),e._v(" "),a("span",{staticClass:"property_val"},[e._v(e._s(t[r.fieldCode]))])])]:["r2Selector"===r.editorType?a("div",{staticClass:"each_property",on:{click:function(a){e.getCost(t,n)}}},[a("label",{class:{required:!r.allowBlank}},[e._v(e._s(r.text))]),e._v(" "),a("div",{staticClass:"picker"},[a("span",{staticClass:"mater_nature"},[e._v(e._s(t[r.fieldCode]||"请选择"))]),e._v(" "),a("span",{staticClass:"icon-right"})])]):e._e(),e._v(" "),"r2Numberfield"===r.editorType?a("div",{staticClass:"each_property "},[a("label",{class:{required:!r.allowBlank}},[e._v(e._s(r.text))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t[r.fieldCode],expression:"sItem[dItem.fieldCode]",modifiers:{number:!0}}],staticClass:"property_val",attrs:{type:"number",placeholder:"请输入"},domProps:{value:t[r.fieldCode]},on:{focus:function(t){e.getFocus(t)},blur:[function(a){e.checkAmt(t,r.fieldCode,t[r.fieldCode])},function(t){e.$forceUpdate()}],input:function(a){a.target.composing||e.$set(t,r.fieldCode,e._n(a.target.value))}}})]):e._e(),e._v(" "),"r2Textfield"===r.editorType?a("div",{staticClass:"each_property"},[a("label",{class:{required:!r.allowBlank}},[e._v(e._s(r.text))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t[r.fieldCode],expression:"sItem[dItem.fieldCode]"}],staticClass:"property_val",attrs:{type:"text",placeholder:"请输入"},domProps:{value:t[r.fieldCode]},on:{focus:function(t){e.getFocus(t)},input:function(a){a.target.composing||e.$set(t,r.fieldCode,a.target.value)}}})]):e._e(),e._v(" "),"r2Datefield"===r.editorType?a("div",{staticClass:"each_property",on:{click:function(a){e.getDate(t,r)}}},[a("label",{class:{required:!r.allowBlank}},[e._v(e._s(r.text))]),e._v(" "),a("div",{staticClass:"picker"},[a("span",{staticClass:"mater_nature"},[e._v(e._s(t[r.fieldCode]||"请选择"))]),e._v(" "),a("span",{staticClass:"icon-right"})])]):e._e()]],2)})],2)}),e._v(" "),a("div",{staticClass:"vux-1px-t",class:[this.actions.includes("stop")?"resubmit-part":"sumbit-part"]},[a("div",{staticClass:"add_more",on:{click:e.addCost}},[a("span",{staticClass:"icon-add"}),e._v(" "),a("span",{staticClass:"add_text"},[e._v("新增报销")])]),e._v(" "),this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e()])],2),e._v(" "),a("pop-cost-list",{ref:"matter",attrs:{show:e.showCostPop,defaultValue:e.selectedCost,"cost-params":e.matterParams},on:{"sel-matter":e.selMatter},model:{value:e.showCostPop,callback:function(t){e.showCostPop=t},expression:"showCostPop"}}),e._v(" "),a("div",{staticClass:"comment"},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("op-button",{attrs:{"is-modify":e.matterModifyClass,hide:e.btnIsHide,"td-amount":e.tdAmount},on:{"on-submit":e.submitOrder}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},HTRD:function(e,t){},"HU/K":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("St0H");t.default={name:"x-button",props:{type:{default:"default"},disabled:Boolean,mini:Boolean,plain:Boolean,text:String,actionType:String,showLoading:Boolean,link:[String,Object],gradients:{type:Array,validator:function(e){return 2===e.length}}},methods:{onClick:function(){!this.disabled&&(0,n.go)(this.link,this.$router)}},computed:{noBorder:function(){return Array.isArray(this.gradients)},buttonStyle:function(){if(this.gradients)return{background:"linear-gradient(90deg, "+this.gradients[0]+", "+this.gradients[1]+")",color:"#FFFFFF"}},classes:function(){return[{"weui-btn_disabled":!this.plain&&this.disabled,"weui-btn_plain-disabled":this.plain&&this.disabled,"weui-btn_mini":this.mini,"vux-x-button-no-border":this.noBorder},this.plain?"":"weui-btn_"+this.type,this.plain?"weui-btn_plain-"+this.type:"",this.showLoading?"weui-btn_loading":""]}}}},HV0e:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("project-part",{attrs:{"project-info":e.orderInfo.order}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_part"},[e._m(0),e._v(" "),e._l(e.orderInfo.inPut.dataSet,function(t,n){return a("div",{key:n,staticClass:"form_content"},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"供应商名称",cellContent:t.dealerName_dealerDebit,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"供应商编码",cellContent:t.dealerCode_dealerDebit}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来关系标签",cellContent:t.drDealerLabel}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来余额",cellContent:e._f("numberComma")(e._f("toFixed")(t.thenAmntBalCopy1),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"申请金额",cellContent:e._f("numberComma")(e._f("toFixed")(t.applicationAmount),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次支付",cellContent:e._f("numberComma")(e._f("toFixed")(t.tdAmountCopy1),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次支付后余额",cellContent:e._f("numberComma")(e._f("toFixed")(t.differenceAmount),3),showSymbol:""}})],1)])})],2),e._v(" "),a("div",{staticClass:"form_part"},[e._m(1),e._v(" "),e._l(e.orderInfo.order.dataSet,function(t,n){return a("div",{key:n,staticClass:"form_content",class:{show_border:n!==e.orderInfo.order.dataSet.length-1}},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"采购入库号",cellContent:t.transMatchedCode,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"采购订单号",cellContent:t.orderCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"价税合计",cellContent:e._f("numberComma")(e._f("toFixed")(t.thenTotalAmntBal),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"已核销",cellContent:e._f("numberComma")(e._f("toFixed")(t.thenAlreadyAmnt),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"待核销",cellContent:e._f("numberComma")(e._f("toFixed")(t.thenAmntBal),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"账期到期日",cellContent:t.accountExpirationDate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"账期天数",cellContent:""+t.daysOfAccount}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"帐龄天数",cellContent:""+t.ageOfAging}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"账期剩余天数",cellContent:""+t.accountRemaingDays}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"已收票",cellContent:e._f("numberComma")(e._f("toFixed")(t.invoiced),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"待收票",cellContent:e._f("numberComma")(e._f("toFixed")(t.pendingTicket),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次申请支付",cellContent:e._f("numberComma")(e._f("toFixed")(t.applicationAmount),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次支付",cellContent:e._f("numberComma")(e._f("toFixed")(t.tdAmount),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次支付后余额",cellContent:e._f("numberComma")(e._f("toFixed")(t.differenceAmount),3),showSymbol:""}})],1)])})],2),e._v(" "),a("div",{staticClass:"form_part"},[e._m(2),e._v(" "),e._l(e.orderInfo.outPut.dataSet,function(t,n){return a("div",{key:n,staticClass:"form_content"},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"资金账户",cellContent:t.fundName_cashOutCode,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"资金编码",cellContent:t.cashOutCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"资金账户类型",cellContent:t.cashType_cashOutCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"账户余额",cellContent:e._f("numberComma")(e._f("toFixed")(t.thenAmntBal),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次支付",cellContent:e._f("numberComma")(e._f("toFixed")(t.tdAmount),3),showSymbol:""}})],1)])})],2),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("供应商详情")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("采购费用列表")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("供资金详情")])])}],i={render:n,staticRenderFns:r};t.a=i},HVhx:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("A9zj"),i=n(r),o=a("4YfN"),s=n(o),l=a("BGNQ"),d=n(l),u=a("z5TY"),c=n(u),f=a("kNGm"),h=n(f),m=a("PzEQ"),v=n(m),p=(a("0AQX"),a("jLp1")),C=a("HyXB"),y=a("+VRO"),_=n(y),g=a("PKHo"),b=n(g),w=a("vl8n"),I=n(w),D=a("BUFe"),x=n(D);t.default={data:function(){return{projectTask:{},comment:{},taskLog:{logTitle:"",logDeclarationHours:1,taskDate:(0,h.default)((new Date).getTime(),"YYYY-MM-DD"),biComment:""},defaultUserInfo:{}}},mixins:[_.default,b.default],components:{Group:c.default,Cell:d.default,RPicker:I.default,XTextarea:v.default,RAction:x.default},filters:{timeSplit:function(e){return e?e.split(" ")[0]:""}},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,p.findProjectTask)(t).then(function(t){var a=t.formData,n=void 0===a?{}:a,r=t.attachment,i=void 0===r?[]:r;e.jsonData=n,e.attachment=i,e.comment=n.comment,e.projectTask=(0,s.default)({},n.projectPlanTask,n.projectApproval),e.orderInfo=(0,s.default)({},n.baseinfo,{biStatus:"已生效"})})},getDate:function(e,t){var a=this;this.$vux.datetime.show({confirmText:"确认",cancelText:"取消",onConfirm:function(e){a.taskLog.taskDate=e}})},save:function(){var e=this,t="";if(this.taskLog.logTitle||(t="请输入标题"),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t={listId:e.listId,formData:{comment:{biComment:e.taskLog.biComment},baseinfo:(0,s.default)({},e.defaultUserInfo,{id:"",biProcessStatus:e.orderInfo.biProcessStatus,handlerEntity:e.orderInfo.handlerEntity,creator:e.defaultUserInfo.handler,modifer:e.defaultUserInfo.handler}),jobLog:(0,s.default)({},e.taskLog,{projectTaskId:e.projectTask.projectPlanTaskId})},wfParam:null};(0,p.saveJobLog)(t).then(function(t){e.$HandleLoad.hide();var a=t.success,n=void 0!==a&&a,r=t.message,i=void 0===r?"提交失败":r;n&&(i="提交成功"),e.$vux.alert.show({content:i,onHide:function(){e.taskLog={logTitle:"",logDeclarationHours:1,taskDate:(0,h.default)((new Date).getTime(),"YYYY-MM-DD"),biComment:""}}})}).catch(function(t){e.$HandleLoad.hide()})}})},getBaseInfoData:function(){var e=this;(0,C.getBaseInfoData)().then(function(t){var a=t.handleORG,n=t.userRoleList,r=(0,i.default)(t,["handleORG","userRoleList"]);e.defaultUserInfo={handler:r.userId,handlerName:r.nickname,handlerUnit:a[0].groupId,handlerUnitName:a[0].groupName,handlerRole:n[0].roleId||"",handlerRoleName:n[0].roleName||"",userCode:r.userCode}})}},created:function(){this.getBaseInfoData()}}},HXPS:function(e,t,a){"use strict";function n(e){a("iiu9")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("K7WK");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("FA8z"),s=a.n(o),l=a("LGX9"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,null,null);t.default=c.exports},HXbB:function(e,t,a){"use strict";function n(e){a("bXy0")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("dWqa");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("waxO"),s=a.n(o),l=a("+Q1c"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-36633d14",null);t.default=c.exports},HXci:function(e,t){},HcHI:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("T1B6"),i=n(r),o=a("uJtz"),s=n(o),l=a("jnZd"),d=n(l);t.default={name:"x-address",components:{PopupPicker:d.default},props:{title:{type:String,required:!0},value:{type:Array,default:function(){return[]}},rawValue:Boolean,list:{type:Array,required:!0},labelWidth:String,inlineDesc:String,placeholder:String,hideDistrict:Boolean,valueTextAlign:String,confirmText:String,cancelText:String,displayFormat:{type:Function,default:function(e,t){return t}},popupStyle:Object,popupTitle:String,show:Boolean,disabled:Boolean},created:function(){if(this.currentValue.length&&this.rawValue){var e=(0,i.default)(this.currentValue,this.list);/__/.test(e)?(console.error("[VUX] Wrong address value",this.currentValue),this.currentValue=[]):this.currentValue=e.split(" ")}this.show&&(this.showValue=!0)},methods:{emitHide:function(e){this.$emit("on-hide",e)},getAddressName:function(){return(0,s.default)(this.value,this.list)},onShadowChange:function(e,t){this.$emit("on-shadow-change",e,t)}},data:function(){return{currentValue:this.value,showValue:!1}},computed:{nameValue:function(){return(0,s.default)(this.currentValue,this.list)},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}}},watch:{currentValue:function(e){this.$emit("input",e)},value:function(e){if(e.length&&!/\d+/.test(e[0])){var t=(0,i.default)(e,this.list).split(" ");if("__"!==t[0]&&"__"!==t[1])return void(this.currentValue=t)}this.currentValue=e},show:function(e){this.showValue=e},showValue:function(e){this.$emit("update:show",e)}}}},HcOF:function(e,t,a){"use strict";function n(e){a("mU6y")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("pD7w");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("thiw"),s=a.n(o),l=a("f7hs"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-4f134a93",null);t.default=c.exports},HfaK:function(e,t,a){e.exports=a.p+"static/img/avatar.07a1d37.png"},HgwI:function(e,t){},Hitz:function(e,t){},HkPF:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2244,biStatus:"",filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"客户名称",value:"dealerName_dealerDebit"}]}},mixins:[r.default],methods:{}}},Hm44:function(e,t){},Hp0t:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("lC5x"),i=n(r),o=a("J0Oq"),s=n(o),l=a("4YfN"),d=n(l),u=a("a3Yh"),c=n(u),f=a("3cXf"),h=n(f),m=a("z5TY"),v=n(m),p=a("SAzG"),C=n(p),y=a("PzEQ"),_=n(y),g=a("u28h"),b=n(g),w=a("0AQX"),I=a("HyXB"),D=a("bKg5"),x=n(D),P=a("9cRV"),S=n(P),k=a("luHD"),L=n(k),N=a("vl8n"),M=n(N),T=a("+WR7"),A=n(T),O=a("zWMP");a("Qg39");t.default={components:{PopMatterList:S.default,XTextarea:_.default,Group:v.default,XInput:C.default,PopMatter:L.default,RPicker:M.default,Datetime:b.default,PopBaseinfo:A.default},data:function(){return{matterList:[],showMaterielPop:!1,formData:{creator:"",modifer:"",biId:"",biComment:""},applyComment:"",numMap:{},taxRate:0,checkFieldList:[{key:"tdQty",message:"请填写数量"}]}},mixins:[x.default],computed:{totalNum:function(){var e=0;return this.matterList.forEach(function(t){e=(0,O.accAdd)(e,t.tdQty)}),Number(e)}},methods:{selMatter:function(e){var t=JSON.parse(e);t.map(function(e){e.tdQty=e.tdQty||""}),this.matterList=t},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,h.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this,t="",a=[];if(0===this.matterList.length&&(t="请选择物料"),t||this.matterList.every(function(e){return e.tdQty?(a.push({tdId:e.tdId||"",inventoryName_transObjCode:e.inventoryName,transObjCode:e.inventoryCode,tdProcessing:e.processing,assMeasureUnit:e.assMeasureUnit||null,assMeasureScale:e.assMeasureScale||null,assistQty:e.assistQty||0,tdQty:e.tdQty,comment:e.comment||"",promDeliTime:e.promDeliTime}),!0):(t="请填写数量",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=I.saveAndStartWf,n=(0,c.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:e.biComment,formData:(0,h.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,order:{dataSet:a}})),wfPara:(0,h.default)(n)};e.isResubmit&&(t=I.saveAndCommitTask,r.biReferenceId=e.biReferenceId),e.processCode.length||(t=I.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,s.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,w.getSOList)({formViewUniqueId:e.uniqueId,transCode:e.transCode}).then(function(t){e.listId=t.listId,e.applyComment=t.biComment,e.biReferenceId=t.biReferenceId,e.biComment=t.biComment;var a=t.formData;a.order.dataSet.map(function(t){t=(0,d.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,inventoryType:t.inventoryType_transObjCode,inventorySubclass:t.inventorySubclass_transObjCode}),e.matterList.push(t)}),e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),e.attachment=t.attachment,e.$loading.hide()});case 2:case"end":return t.stop()}},t,e)}))()},hasDraftData:function(){return!!this.matterList.length&&(0,c.default)({},"BHDD_DATA",{matter:this.matterList,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("BHDD_DATA");e&&(this.matterList=JSON.parse(e).matter,this.formData=JSON.parse(e).formData,sessionStorage.removeItem("BHDD_DATA"))}}},HpO8:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("Nk/b"),s=n(o),l=a("BGNQ"),d=n(l),u=a("7g+Q"),c=n(u),f=a("MF1H"),h=n(f),m=a("xZPP"),v=n(m),p=a("nKjL"),C=a("KH5r"),y=n(C),_=a("uJtz"),g=n(_),b=a("3BYQ"),w=n(b),I=a("+62G"),D=n(I),x=function(e){return JSON.parse((0,i.default)(e))};t.default={name:"popup-picker",directives:{TransferDom:D.default},created:function(){void 0!==this.show&&(this.showValue=this.show)},mixins:[w.default],components:{Picker:s.default,Cell:d.default,Popup:c.default,PopupHeader:h.default,Flexbox:p.Flexbox,FlexboxItem:p.FlexboxItem,InlineDesc:v.default},filters:{array2string:y.default,value2name:g.default},props:{valueTextAlign:{type:String,default:"right"},title:String,cancelText:String,confirmText:String,data:{type:Array,default:function(){return[]}},placeholder:String,columns:{type:Number,default:0},fixedColumns:{type:Number,default:0},value:{type:Array,default:function(){return[]}},showName:Boolean,inlineDesc:[String,Number,Array,Object,Boolean],showCell:{type:Boolean,default:!0},show:Boolean,displayFormat:Function,isTransferDom:{type:Boolean,default:!0},columnWidth:Array,popupStyle:Object,popupTitle:String,disabled:Boolean},computed:{labelStyles:function(){return{display:"block",width:this.$parent.labelWidth||this.$parent.$parent.labelWidth||"auto",textAlign:this.$parent.labelAlign||this.$parent.$parent.labelAlign,marginRight:this.$parent.labelMarginRight||this.$parent.$parent.labelMarginRight}},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}}},methods:{value2name:g.default,getNameValues:function(){return(0,g.default)(this.currentValue,this.data)},onClick:function(){this.disabled||(this.showValue=!0)},onHide:function(e){this.showValue=!1,e&&(this.closeType=!0,this.currentValue=x(this.tempValue)),e||(this.closeType=!1,this.value.length>0&&(this.tempValue=x(this.currentValue)))},onPopupShow:function(){this.closeType=!1,this.$emit("on-show")},onPopupHide:function(e){this.value.length>0&&(this.tempValue=x(this.currentValue)),this.$emit("on-hide",this.closeType)},onPickerChange:function(e){if((0,i.default)(this.currentValue)!==(0,i.default)(e)&&this.value.length){var t=(0,i.default)(this.data);t!==this.currentData&&"[]"!==this.currentData&&(this.tempValue=x(e)),this.currentData=t}var a=x(e);this.$emit("on-shadow-change",a,(0,g.default)(a,this.data).split(" "))}},watch:{value:function(e){(0,i.default)(e)!==(0,i.default)(this.tempValue)&&(this.tempValue=x(e),this.currentValue=x(e))},currentValue:function(e){this.$emit("input",x(e)),this.$emit("on-change",x(e))},show:function(e){this.showValue=e},showValue:function(e){this.$emit("update:show",e)}},data:function(){return{onShowProcess:!1,tempValue:x(this.value),closeType:!1,currentData:(0,i.default)(this.data),showValue:!1,currentValue:this.value}}}},HyXB:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getListViewById=t.requestData=t.getModelConfigByListId=t.getFromStatus=t.getFormViews=t.getFormConfig=t.getPriceFromProcurementContract=t.getPriceFromSalesContractAndPrice=t.transferTask=t.getUserList=t.getRoleByUserId=t.getGroupByUserId=t.listUsers=t.getObjDealerByLabelName=t.getProcess=t.getDictByValue=t.getProcessStatus=t.getDictByType=t.deleteFile=t.mediaUpload=t.upload=t.getList=t.getBaseInfoData=t.getBaseInfoDataBase=t.commitTask=t.update=t.updateData=t.submitAndCalc=t.saveAndCommitTask=t.saveAndStartWf=void 0;var r=a("3cXf"),i=n(r),o=a("4YfN"),s=n(o),l=a("lC5x"),d=n(l),u=a("KH7x"),c=n(u),f=a("J0Oq"),h=n(f),m=a("rVsN"),v=n(m),p=a("GOq4"),C=n(p),y=t.saveAndStartWf=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return C.default.ajax({type:"POST",contentType:"application/x-www-form-urlencoded",url:"/H_roleplay-si/formAPI/saveAndStartWf",data:e})},_=t.saveAndCommitTask=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return C.default.ajax({type:"POST",contentType:"application/x-www-form-urlencoded",url:"/H_roleplay-si/formAPI/saveAndCommitTask",data:e})},g=t.submitAndCalc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return C.default.ajax({type:"POST",contentType:"application/x-www-form-urlencoded",url:"/H_roleplay-si/formAPI/submitAndCalc",data:e})},b=(t.updateData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return C.default.ajax({type:"POST",contentType:"application/x-www-form-urlencoded",url:"/H_roleplay-si/formAPI/updateData",data:e})},t.update=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return C.default.post({url:"/H_roleplay-si/projectApproval/update",data:e})},t.commitTask=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return C.default.ajax({type:"POST",contentType:"application/x-www-form-urlencoded",url:"/H_roleplay-si/flow/commitTask",data:e})},t.getBaseInfoDataBase=function(){return new v.default(function(){var e=(0,h.default)(d.default.mark(function e(t,a){var n,r,i,o,s,l,u,f;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.default.ajax({url:"/H_roleplay-si/userInfo/currentUser"}).then(function(e){return e});case 2:return n=e.sent,r=n.nickname,i=n.userId,e.next=7,C.default.ajax({url:"/H_roleplay-si/ds/getUnitsByUserId",data:{userId:i,page:1,start:0,limit:1e4}}).then(function(e){var t=e.tableContent,a=void 0===t?[]:t,n=(0,c.default)(a,1),r=n[0];return void 0===r?{}:r});case 7:o=e.sent,s=o.userGroupId,l=void 0===s?"":s,u=o.userGroupName,f=void 0===u?"":u,C.default.ajax({url:"/H_roleplay-si/ds/getRolesByUserId",data:{userId:i,parentId:l,page:1,start:0,limit:1e4}}).then(function(e){var a=e.tableContent,n=void 0===a?[]:a,o=(0,c.default)(n,1),s=o[0],d=void 0===s?{}:s;t({handler:i,handlerName:r,handlerUnit:l,handlerUnitName:f,handlerRole:d.userGroupId||"",handlerRoleName:d.userGroupName||""})});case 13:case"end":return e.stop()}},e,void 0)}));return function(t,a){return e.apply(this,arguments)}}())},t.getBaseInfoData=function(){return new v.default(function(){var e=(0,h.default)(d.default.mark(function e(t,a){var n,r,i,o,s,l,u,c;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.default.ajax({url:"/H_roleplay-si/userInfo/currentUser"}).then(function(e){return e});case 2:return n=e.sent,r=n.nickname,i=n.userId,o=n.userCode,e.next=8,C.default.ajax({url:"/H_roleplay-si/ds/getGroupByUserId",data:{userId:i,page:1,start:0,limit:1e4}}).then(function(e){var t=e.tableContent;return{tableContent:void 0===t?[]:t}});case 8:return s=e.sent,l=s.tableContent,e.next=12,C.default.ajax({url:"/H_roleplay-si/ds/getRoleByUserId",data:{userId:i,page:1,start:0,limit:1e4}}).then(function(e){var t=e.tableContent;return{tableContent:void 0===t?[]:t}});case 12:u=e.sent,c=u.tableContent,t({handleORG:l,userRoleList:c,userId:i,nickname:r,userCode:o});case 15:case"end":return e.stop()}},e,void 0)}));return function(t,a){return e.apply(this,arguments)}}())}),w=t.getList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return C.default.ajax({url:"/H_roleplay-si/seconds/getReportInfoByListViewId/"+e,data:t})},I=t.upload=function(e){var t=e.file,a=void 0===t?{}:t,n=e.biReferenceId,r=void 0===n?"":n;return C.default.upload({file:a,biReferenceId:r})},D=t.mediaUpload=function(e){var t=e.mediaId,a=void 0===t?"":t,n=e.biReferenceId,r=void 0===n?"":n,i=new FormData;return i.append("mediaId",a),r&&i.append("biReferenceId",r),C.default.post({headers:{"Content-Type":"multipart/form-data"},url:"/H_roleplay-si/ds/mediaUpload",data:i})},x=(t.deleteFile=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return C.default.ajax({url:"/H_roleplay-si/ds/delete",data:{_dc:Date.now(),id:e,list:"attachments"}})},t.getDictByType=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return C.default.ajax({url:"/H_roleplay-si/ds/getDictByType",data:(0,s.default)({_dc:Date.now(),page:1,start:0,limit:1e4,type:e},t)})}),P=t.getProcessStatus=function(e){return C.default.ajax({url:"/H_roleplay-si/ds/getProcessStatus",data:{listId:e,page:1,start:0,limit:1e4}})},S=t.getDictByValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return C.default.ajax({url:"/H_roleplay-si/ds/getDictByValue",data:(0,s.default)({_dc:Date.now(),page:1,start:0,limit:1e4,value:e},t)})},k=t.getProcess=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return C.default.ajax({url:"/H_roleplay-si/ds/list/getProcessByListId",data:{_dc:Date.now(),listId:e}})},L=t.getObjDealerByLabelName=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return C.default.ajax({url:"/H_roleplay-si/ds/getObjDealerByLabelName",data:(0,s.default)({_dc:Date.now(),page:1,start:0,limit:1e4},e)})},N=(t.listUsers=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return C.default.ajax({url:"/H_roleplay-si/ds/listUsers",data:e})},t.getGroupByUserId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return C.default.ajax({url:"/H_roleplay-si/ds/getGroupByUserId",data:{page:1,start:0,limit:1e4,userId:e}})},t.getRoleByUserId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return C.default.ajax({url:"/H_roleplay-si/ds/getRoleByUserId",data:{page:1,start:0,limit:1e4,userId:e}})},t.getUserList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return C.default.ajax({url:"/H_roleplay-si/ds/listUsers",data:(0,s.default)({_dc:Date.now(),sort:(0,i.default)([{property:"crtTime",direction:"DESC"}])},e)})}),M=t.transferTask=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return C.default.ajax({url:"/H_roleplay-si/flow/setAssignee",data:(0,s.default)({_dc:Date.now()},e)})},T=(t.getPriceFromSalesContractAndPrice=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return C.default.ajax({url:"/H_roleplay-si/formAPI/getPriceFromSalesContractAndPrice",data:(0,s.default)({_dc:Date.now()},e)})},t.getPriceFromProcurementContract=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return C.default.ajax({type:"POST",contentType:"application/json",url:"/H_roleplay-si/formAPI/getPriceFromProcurementContract",data:(0,i.default)(e)})},t.getFormConfig=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return C.default.ajax({url:"/H_roleplay-si/mobile/formView/"+e})});t.getFormViews=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return C.default.ajax({url:"/H_roleplay-si/ds/list/getFormViews",data:{listId:e}})},t.getFromStatus=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return C.default.ajax({url:"/H_roleplay-si/ds/getFromStatusByTransCode",data:e})},t.getModelConfigByListId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return C.default.ajax({url:"/H_roleplay-si/ds/getModelConfigByListId",data:{listId:e}})},t.requestData=function(e){var t=e.url,a=void 0===t?"":t,n=e.data,r=void 0===n?{}:n;return C.default.ajax({url:a,data:r})},t.getListViewById=function(e){return C.default.ajax({url:"/H_roleplay-si/ds/list/getListViewById",data:{_dc:Date.now(),uniqueId:e}})};t.default={getList:w,upload:I,mediaUpload:D,getProcess:k,getDictByType:x,submitAndCalc:g,getDictByValue:S,saveAndStartWf:y,getBaseInfoData:b,saveAndCommitTask:_,getProcessStatus:P,getObjDealerByLabelName:L,getUserList:N,transferTask:M,getFormConfig:T}},I3vJ:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getInProcessingStorageSumSource=t.getEtcPutInStorage=t.getPriceRange=t.getSalesOrderNew=t.getInventoryToProcessing=t.getSalesContract=t.getProductPriceAllInventory=t.getLowPriceConsumableInWarehouse=t.getLowValueConsumPurchaseOrder=t.getObjInvMoreUnitByInvCode=t.getUsingProcedure=t.getObjTechnics=t.getTaskBom=t.getJGRKBom=t.getJGDDBom=t.getPurchaseInNeeds=t.getXQTJList=t.getCKTHCKList=t.getKCPDList=t.getMatList=t.getInventory7502=t.getInventory7501=t.getObjInventory=t.getObjInventoryByProcessing=t.getCostById=t.getCost=t.getSumInvBalance=t.delImg=t.upload=t.findData=t.update=t.save=void 0;var r=a("4YfN"),i=n(r),o=a("GOq4"),s=n(o),l=t.save=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.post({url:"/H_roleplay-si/inventory/save",data:e})},d=t.update=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.post({url:"/H_roleplay-si/inventory/update",data:e})},u=t.findData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return s.default.ajax({url:"/H_roleplay-si/inventory/findData",data:{transCode:e}})},c=t.upload=function(e){var t=e.file,a=void 0===t?{}:t,n=e.biReferenceId,r=void 0===n?"":n;return s.default.upload({file:a,biReferenceId:r})},f=t.delImg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return s.default.ajax({url:"/H_roleplay-si/ds/delete",data:{id:e,list:"attachments"}})};t.getSumInvBalance=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getSumInvBalance",data:e})},t.getCost=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getCostAll",data:e})},t.getCostById=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getProjectCostByGroupId",data:e})},t.getObjInventoryByProcessing=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getObjInventoryByProcessing",data:(0,i.default)({_dc:Date.now()},e)})},t.getObjInventory=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getObjInventory",data:(0,i.default)({_dc:Date.now()},e)})},t.getInventory7501=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getPurchaseOrder",data:(0,i.default)({_dc:Date.now()},e)})},t.getInventory7502=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getPurchaseWarehousing",data:(0,i.default)({_dc:Date.now()},e)})},t.getMatList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getMaterialList",data:e})},t.getKCPDList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getSumInvBalance_KCPD",data:(0,i.default)({_dc:Date.now()},e)})},t.getCKTHCKList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getPurchaseReturn",data:e})},t.getXQTJList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"getDemandAdjustment";return s.default.ajax({url:"/H_roleplay-si/ds/"+t,data:(0,i.default)({_dc:Date.now()},e)})},t.getPurchaseInNeeds=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getPurchaseInNeeds",data:e})},t.getJGDDBom=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getInProcessingOrderBom",data:(0,i.default)({_dc:Date.now()},e)})},t.getJGRKBom=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getBomByPInvCode",data:(0,i.default)({_dc:Date.now()},e)})},t.getTaskBom=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getBomWorkOrderTask",data:(0,i.default)({_dc:Date.now()},e)})},t.getObjTechnics=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getObjTechnics",data:(0,i.default)({_dc:Date.now()},e)})},t.getUsingProcedure=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getUsingProcedure",data:(0,i.default)({_dc:Date.now()},e)})},t.getObjInvMoreUnitByInvCode=function(e){return s.default.ajax({url:"/H_roleplay-si/ds/getObjInvMoreUnitByInvCode",data:{_dc:Date.now(),inventoryCode:e,page:1,start:0,limit:1e4}})},t.getLowValueConsumPurchaseOrder=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getLowValueConsumPurchaseOrder",data:(0,i.default)({_dc:Date.now(),page:1,start:0,limit:1e4},e)})},t.getLowPriceConsumableInWarehouse=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getLowPriceConsumableInWarehouse",data:(0,i.default)({_dc:Date.now(),page:1,start:0,limit:1e4},e)})},t.getProductPriceAllInventory=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getProductPriceAllInventory",data:(0,i.default)({_dc:Date.now()},e)})},t.getSalesContract=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getSalesContract",data:(0,i.default)({_dc:Date.now()},e)})},t.getInventoryToProcessing=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getInventoryToProcessing",data:(0,i.default)({_dc:Date.now()},e)})},t.getSalesOrderNew=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getSalesOrderNew",data:(0,i.default)({_dc:Date.now()},e)})},t.getPriceRange=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getPriceRange",data:(0,i.default)({_dc:Date.now(),drDealerLabel:"客户"},e)})},t.getEtcPutInStorage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getEtcPutInStorage",data:(0,i.default)({_dc:Date.now()},e)})},t.getInProcessingStorageSumSource=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getInProcessingStorageSumSource",data:(0,i.default)({_dc:Date.now()},e)})};t.default={save:l,update:d,findData:u,upload:c,delImg:f}},I5id:function(e,t,a){"use strict";function n(e){a("RPsT")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("sEzR");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("B8Y4"),s=a.n(o),l=a("GBuK"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-48ef1196",null);t.default=c.exports},I8ug:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.saveAssessment=t.saveLog=t.getAdminCommentList=t.getChangeLog=t.getAppDetail=t.savePraise=t.saveComment=t.getReply=t.getCommentList=t.getPCCommentList=void 0;var r=a("3cXf"),i=n(r),o=a("4YfN"),s=n(o),l=a("GOq4"),d=n(l),u=t.getPCCommentList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/comment/getCommentByRelationKey",data:(0,s.default)({sort:(0,i.default)([{property:"crtTime",direction:"DESC"}]),page:1,limit:10,total:0},e)})},c=(t.getCommentList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/ds/getMobileCommentByTransCode",data:(0,s.default)({page:1,limit:10},e)})},t.getReply=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/comment/getCommentByParentId",data:(0,s.default)({sort:(0,i.default)([{property:"crtTime",direction:"ASC"}]),parentId:145657,page:1,limit:10},e)})},t.saveComment=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.post({url:"/H_roleplay-si/comment/saveComment",data:(0,s.default)({commentAndReply:!1,commentAttachments:[],type:"instance"},e)})},t.savePraise=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return d.default.post({url:"/H_roleplay-si/comment/savePraise",data:{commentId:e}})},t.getAppDetail=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return d.default.ajax({url:"/H_roleplay-si/ds/list/getListById",data:{uniqueId:e}})}),f=t.getChangeLog=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/ds/getChangeLog",data:e})},h=t.getAdminCommentList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/ds/getAssessmentByListId",data:e})},m=t.saveLog=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({type:"POST",contentType:"application/x-www-form-urlencoded",url:"/H_roleplay-si/app/saveLog",data:e})};t.saveAssessment=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.post({url:"/H_roleplay-si/app/saveAssessment",data:e})};t.default={getAppDetail:c,getChangeLog:f,getAdminCommentList:h,getPCCommentList:u,saveLog:m}},IAdv:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("0AQX"),s=a("+VRO"),l=n(s),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),h=a("bFc7"),m=n(h),v=a("6WeX"),p=n(v),C=a("3NX5"),y=n(C),_=a("sUbJ"),g=n(_),b=a("d7ck"),w=n(b),I=a("zWMP"),D=a("Qg39");t.default={data:function(){return{count:0,comment:"",orderInfo:{},formViewUniqueId:"e76a8c6f-05cc-45ee-ba93-299fe6751856",orderList:{}}},mixins:[l.default],components:{workFlow:f.default,RAction:u.default,PriceTotal:p.default,contactPart:m.default,MatterList:y.default,MatterItem:g.default,FormCell:w.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,o.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,s=t.attachment,l=void 0===s?[]:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var d={},u=o.order,c=void 0===u?{}:u;e.attachment=l;var f=o.order.dataSet,h=!0,m=!1,v=void 0;try{for(var p,C=(0,i.default)(f);!(h=(p=C.next()).done);h=!0){var y=p.value;y.noTaxAmount=(0,I.accMul)(y.price,y.tdQty),y.taxAmount=(0,I.accMul)(y.noTaxAmount,y.taxRate),y.tdAmount=(0,D.toFixed)((0,I.accAdd)(y.noTaxAmount,y.taxAmount)),e.count=(0,I.accAdd)(e.count,y.tdAmount),y.inventoryPic=y.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+y.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),d[y.transMatchedCode]||(d[y.transMatchedCode]=[]),d[y.transMatchedCode].push(y)}}catch(e){m=!0,v=e}finally{try{!h&&C.return&&C.return()}finally{if(m)throw v}}e.orderList=d,e.dealerInfo={dealerName:c.dealerName_dealerCodeCredit,dealerMobilePhone:o.dealerCreditContactInformation,dealerContactPersonName:o.dealerCreditContactPersonName,dealerCode:c.dealerCodeCredit,dealerLabelName:c.crDealerLabel,province:c.province_dealerCodeCredit,city:c.city_dealerCodeCredit,county:c.county_dealerCodeCredit,address:c.address_dealerCodeCredit},e.orderInfo=o,e.workFlowInfoHandler()})}}}},IBVj:function(e,t,a){"use strict";function n(e){a("RkIG")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("vT2+");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("moZA"),s=a.n(o),l=a("ZOHQ"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-7340d5e8",null);t.default=c.exports},IIvl:function(e,t,a){"use strict";function n(e){a("T2+C")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("Iw1N");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("vj7a"),s=a.n(o),l=a("Y+r7"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-9760d890",null);t.default=c.exports},IJcc:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Iu/6"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"loading",data:function(){return{show:!1}},components:{Spinner:r.default}}},IJth:function(e,t){},"ILd/":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("IHPB"),i=n(r),o=a("HzJ8"),s=n(o),l=a("I8ug"),d=a("4XVd"),u=a("fQlz"),c=n(u),f=a("Z5v5");t.default={name:"ChangeLog",data:function(){return{commentList:[],listId:"a4897429-f4f2-44a4-ade7-2fe8dc67c3cf"}},filters:{handleCrt:function(e){if(e){var t=Date.now();"string"==typeof e&&(e=e.replace(/-/g,"/").replace(/\..*/g,""));var a=+new Date(e),n=t-a,r=n/1e3,i=r/60,o=i/60,s=o/24;return r<60?"刚刚":i<60?parseInt(i)+"分钟前":o<24?parseInt(o)+"小时前":s<30?parseInt(s)+"天前":e}}},methods:{getUserDefault:function(e){var t=a("Fuf7");return e&&(e.photo=t),t},getCommetList:function(){var e=this;return(0,l.getPCCommentList)({relationKey:this.listId,limit:10,page:1,total:0}).then(function(t){var a=(t.dataCount,t.tableContent),n=void 0===a?[]:a;n.forEach(function(t){if(e.checkImgSuffix(t),t.praises.length)return void(t.isPraise=!1);t.isPraise=!0}),e.commentList=n})},changeImgPath:function(e){var t=e.content.replace(/src="resources/g,'src="/dist/resources');return e.content=t,t},goCommentList:function(){this.$router.push({path:"/commentList",query:{listId:this.listId}})},savePraise:function(e){if(e.isPraise)return(0,d.savePraise)(e.id).then(function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];arguments[1];t&&(e.isPraise=!1,e.praiseNum++)})},checkImgSuffix:function(e){var t=["jpg","jpeg","png","gif","bmp","tif","pcx","tga","exif","fpx","svg","psd","cdr","pcd","dxf","ufo","eps","ai","raw","WMF","webp"],a=!0,n=!1,r=void 0;try{for(var i,o=(0,s.default)(e.commentAttachments);!(a=(i=o.next()).done);a=!0){var l=i.value,d=l.name.lastIndexOf("."),u=l.name.substr(d+1);t.includes(u)&&(l.isImg=!0)}}catch(e){n=!0,r=e}finally{try{!a&&o.return&&o.return()}finally{if(n)throw r}}},handleComment:function(e){var t=[].concat((0,i.default)(c.default)),a=e.content,n=/\[(.+?)\]/g;return a=a.replace(/src="resources/g,'src="/dist/resources'),a=a.replace(n,function(e){var a=t.findIndex(function(t){return t===e.replace(/(\[|\])/g,"")});return-1===a?e:'<span class="img-emotion" style="background-position: -'+24*a+'px 0;"></span>'})},scaleImg:function(e){console.log("img:",e);var t=""+location.origin+e.attachment;wx.previewImage({current:t,urls:[t]})},checkFile:function(e){window.location.href=""+location.origin+e}},created:function(){(0,f.register)();var e=this.$route.params.listId;e&&(this.listId=e,this.getCommetList())}}},IMPq:function(e,t){},IOni:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("4YfN"),s=n(o),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("zWMP"),f=(a("Qg39"),a("BUFe")),h=n(f),m=a("AupE"),v=n(m),p=a("89pA"),C=n(p),y=a("bFc7"),_=n(y),g=a("6WeX"),b=n(g),w=a("hPJo"),I=n(w),D=a("kKsb"),x=n(D),P=a("sUbJ"),S=n(P),k=a("d7ck"),L=n(k);t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"",orderList:{},warehouse:{},dealerInfo:{},basicInfo:{},warehouseConfig:[]}},computed:{noTaxAmount:function(){var e=0;return this.orderInfo.outPut.dataSet.forEach(function(t){e=(0,c.accAdd)(e,t.noTaxAmount)}),e},taxAmount:function(){var e=0;return this.orderInfo.outPut.dataSet.forEach(function(t){e=(0,c.accAdd)(e,t.taxAmount)}),e}},mixins:[u.default],components:{workFlow:v.default,RAction:h.default,PopWarehouseList:C.default,contactPart:_.default,PriceTotal:b.default,WarehouseContent:I.default,ProjectPart:x.default,MatterItem:S.default,FormCell:L.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u={},f=o.outPut,h=void 0===f?{}:f;e.attachment=d;var m=o.outPut.dataSet,v=!0,p=!1,C=void 0;try{for(var y,_=(0,i.default)(m);!(v=(y=_.next()).done);v=!0){var g=y.value;e.count=(0,c.accAdd)(e.count,g.tdAmount),g.inventoryPic=g.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+g.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),g.inventoryName_transObjCode=g.inventoryName_outPutMatCode,g.transObjCode=g.outPutMatCode,u[g.orderCode]||(u[g.orderCode]=[]),u[g.orderCode].push(g)}}catch(e){p=!0,C=e}finally{try{!v&&_.return&&_.return()}finally{if(p)throw C}}e.orderList=u,e.dealerInfo={creatorName:o.dealerDebitContactPersonName,dealerName:h.dealerName_dealerDebit,dealerMobilePhone:o.dealerDebitContactInformation,dealerContactPersonName:o.dealerDebitContactPersonName,dealerCode:h.dealerDebit,dealerLabelName:h.drDealerLabel,province:h.province_dealerDebit,city:h.city_dealerDebit,county:h.county_dealerDebit,address:h.address_dealerDebit};for(var b in h)(b.includes("warehouse")||b.includes("storehouse"))&&(e.warehouse[b]=h[b]);e.orderInfo=(0,s.default)({},o,h),e.workFlowInfoHandler()})}}}},IQc9:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"RPopover",data:function(){return{show:!1}},methods:{showPopover:function(){this.show||this.$emit("on-click"),this.show=!this.show},hidePopover:function(){this.show=!1},clickOutside:function(e){this.$refs.popover.contains(e.target)||(this.show=!1)}},created:function(){var e=this;this.$nextTick(function(){document.addEventListener("click",e.clickOutside)})},beforeDestroy:function(){document.removeEventListener("click",this.clickOutside)}}},IT5e:function(e,t,a){"use strict";function n(e){a("K9WW")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("VtS1");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("oRkL"),s=a.n(o),l=a("kN5m"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-33ff97cd",null);t.default=c.exports},IUN9:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("BGNQ"),s=n(o),l=a("z5TY"),d=n(l),u=a("kNGm"),c=n(u),f=a("0AQX"),h=a("+VRO"),m=n(h),v=(a("Qg39"),a("BUFe")),p=n(v),C=a("AupE"),y=n(C),_=a("bFc7"),g=n(_),b=a("hPJo"),w=n(b),I=a("FlCz"),D=n(I);t.default={data:function(){return{workInfo:[],orderInfo:{},warehouse:{},bomList:[],warehouseConfig:[]}},mixins:[m.default],components:{Cell:s.default,Group:d.default,RAction:p.default,workFlow:y.default,contactPart:g.default,WarehouseContent:w.default,BomList:D.default},filters:{timeSplit:function(e){return e?e.split(" ")[0]:""}},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,f.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order,n=void 0===a?{}:a;t.formData.validUntil=(0,c.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workInfo=n.dataSet,e.warehouse=(0,i.default)({},e.warehouse,{containerCode:n.containerCode,storehouseInCode:n.storehouseInCode,warehouseAddress_containerCode:n.warehouseAddress_containerCode,warehouseAddress_storehouseInCode:n.warehouseAddress_storehouseInCode,warehouseName_containerCode:n.warehouseName_containerCode,warehouseName_storehouseInCode:n.warehouseName_storehouseInCode,warehouseType_containerCode:n.warehouseType_containerCode,warehouseType_storehouseInCode:n.warehouseType_storehouseInCode}),e.workFlowInfoHandler()})}}}},IXh9:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("Q+Ik"),i=n(r),o=a("HzJ8"),s=n(o),l=a("KH7x"),d=n(l),u=a("hRKE"),c=n(u),f=a("rVsN"),h=n(f),m=a("Tj2J"),v=n(m),p=a("C+Mu"),C=n(p),y=a("L6VY"),_=n(y),g=a("kSI7"),b=n(g),w=new v.default,I=a("Umb+"),D=function(e,t){return(0,b.default)(t),h.default.reject({success:!1,message:t})};w.interceptors.request.use(function(e){var t=C.default.checkLogin();if(!t)return w.lock(),C.default.login().then(function(t){return e.headers.Authorization=t,e}).finally(function(){w.unlock()}).catch(function(e){console.log("req-err:",e),D(0,e.message)});e.headers.Authorization=t}),w.interceptors.response.use(function(e){var t=e.data,a=t.success,n=void 0===a||a,r=t.message,i=void 0===r?"请求异常":r;return n?e:D(0,i)},function(e){if(console.log("error:",e),401===e.status)return this.lock(),C.default.login().then(function(e){console.log("token已更新"),_.default.show({title:"温馨提示",content:"您的登录状态似乎有点问题，不用担心，页面刷新之后就好",onHide:function(){location.reload()}})});1===e.status&&e.message.includes("timeout")&&D(0,"不好意思，网络似乎出了点问题，请稍后再试"),D(0,e.response.data.message)});var x={ajax:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new h.default(function(t,a){var n={method:e.type||e.method||"GET",url:e.url,headers:{"Content-Type":e.contentType||"*/*"},timeout:e.time||3e4,responseType:e.dataType||"json"};if("POST"===n.method.toUpperCase())n.data=I.stringify(e.data||e.body)||{},"application/json"===e.contentType&&(n.data=e.data);else if("object"===(0,c.default)(e.data)){var r=[],o=!0,l=!1,u=void 0;try{for(var f,h=(0,s.default)((0,i.default)(e.data));!(o=(f=h.next()).done);o=!0){var m=f.value,v=(0,d.default)(m,2),p=v[0],C=v[1];r.push(p+"="+C)}}catch(e){l=!0,u=e}finally{try{!o&&h.return&&h.return()}finally{if(l)throw u}}-1===n.url.indexOf("?")?n.url=encodeURI(n.url+"?"+r.join("&")):n.url=encodeURI(n.url+"&"+r.join("&"))}w.request(n,n.data).then(function(e){return t(e.data)}).catch(function(e){console.log("err:",e)})})},post:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new h.default(function(t,a){w.post(e.url,e.data).then(function(e){return t(e.data)})})},upload:function(e){var t=e.file,a=void 0===t?{}:t,n=e.biReferenceId,r=void 0===n?"":n,i=new FormData;return i.append("file",a),r&&i.append("biReferenceId",r),this.post({url:"/H_roleplay-si/ds/upload",headers:{"Content-Type":"multipart/form-data"},data:i})}};t.default=x},IhpF:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("fKU2");a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,function(){return n[e]})}(r);var i=a("BqiB"),o=a.n(i),s=a("C7Lr"),l=s(o.a,null,!1,null,null,null);t.default=l.exports},Ii3Q:function(e,t){},"Ij+m":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=(a("HyXB"),a("MjAd")),s=n(o);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}],listViewID:2331}},mixins:[s.default],methods:{goDetail:function(e,t){var a=this;if(!this.clickVisited){var n=e.transCode,r=this.$route.query.name,o=this.$route.params,s=o.folder,l=o.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,i.default)({},e)),setTimeout(function(){a.clickVisited=!1,a.$router.push({path:"/detail/"+s+"/"+l,query:{name:r,transCode:n}})},200)}}}}},"Ijt+":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("project-part",{attrs:{"project-info":e.orderInfo.order}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_part"},[e._m(0),e._v(" "),a("div",{staticClass:"form_content"},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"往来名称",cellContent:e.dealerInfo.dealerName,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来编码",cellContent:e.dealerInfo.dealerCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来关系标签",cellContent:e.dealerInfo.dealerLabelName}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来余额",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.amntBal),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次收汇票",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.thenTotalAmntBal),3),showSymbol:""}})],1)])]),e._v(" "),a("div",{staticClass:"form_part"},[e._m(1),e._v(" "),e._l(e.orderInfo.order.dataSet,function(t,n){return a("div",{key:n,staticClass:"form_content",class:{show_border:n!==e.orderInfo.order.dataSet.length-1}},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"汇票号",cellContent:t.draftNumber,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"类型",cellContent:t.draftType}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"承兑人",cellContent:t.accepter}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"金额",cellContent:e._f("numberComma")(e._f("toFixed")(t.tdAmount),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"出票日",cellContent:t.draftDate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"到期日",cellContent:t.draftDueDate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"说明",cellContent:t.comment}})],1)])})],2),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("往来详情")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("汇票列表")])])}],i={render:n,staticRenderFns:r};t.a=i},IlP4:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("0AQX"),s=a("+VRO"),l=n(s),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),h=a("sUbJ"),m=n(h),v=a("d7ck"),p=n(v);t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",orderList:{},basicInfo:{}}},mixins:[l.default],components:{workFlow:f.default,RAction:u.default,MatterItem:m.default,FormCell:p.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,o.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,s=t.attachment,l=void 0===s?[]:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var d={};o.outPut;e.attachment=l;var u=o.outPut.dataSet,c=!0,f=!1,h=void 0;try{for(var m,v=(0,i.default)(u);!(c=(m=v.next()).done);c=!0){var p=m.value;p.inventoryPic=p.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+p.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),p.inventoryName_transObjCode=p.inventoryName_outPutMatCode,p.transObjCode=p.outPutMatCode,d[p.transMatchedCode]||(d[p.transMatchedCode]=[]),d[p.transMatchedCode].push(p)}}catch(e){f=!0,h=e}finally{try{!c&&v.return&&v.return()}finally{if(f)throw h}}e.orderList=d,e.orderInfo=o,e.workFlowInfoHandler()})}}}},ImmF:function(e,t,a){"use strict";function n(e){a("urr1")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("n+GY");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("OXL9"),s=a.n(o),l=a("C32i"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-f4c01f04",null);t.default=c.exports},IpWp:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("kNGm"),i=n(r),o=a("0AQX"),s=a("+VRO"),l=n(s);t.default={data:function(){return{userData:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},uploadStyle:{width:"100%",padding:"0.06rem 0.1rem"}}},mixins:[l.default],filters:{date:function(e){return(0,i.default)(e,"YYYY-MM-DD")}},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,o.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,s=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=s,e.userData=i,e.workFlowInfoHandler()})},goEdit:function(){var e=this.$route.params,t=e.folder,a=e.fileName,n=this.$route.query.name;this.$router.push({path:"/fillform/"+t+"/"+a,query:{name:n,transCode:this.transCode}})}}}},Irm3:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages bdkcdb-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-warehouse-list",{attrs:{title:"出库仓库","default-value":e.warehouse,isRequired:""},on:{"sel-item":e.selWarehouseOut}}),e._v(" "),a("pop-warehouse-list",{attrs:{title:"入库仓库","default-value":e.warehouseIn,isRequired:""},on:{"sel-item":e.selWarehouseIn}}),e._v(" "),a("div",{staticClass:"materiel_list"},[e.matterList.length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.matterList,function(t,n){return a("div",{key:n,staticClass:"each_mater",class:{mater_delete:e.matterModifyClass,"vux-1px-b":n<e.matterList.length-1}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass,config:e.matterEditConfig.property},on:{"on-modify":function(a){e.getMatterModify(t,n)}},nativeOn:{click:function(a){e.delClick(n,t)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:n.tdQty,expression:"item.tdQty"}],staticClass:"mater_other"},[a("span",{staticClass:"matter-remain"},[a("span",{staticClass:"symbol"},[e._v("调拨数量: ")]),e._v(e._s(n.tdQty)+"\n                    ")])])]}},{key:"edit",fn:function(t){var r=t.item;return[r.tdQty||e.matterModifyClass?e._e():a("div",{staticClass:"mater_other",on:{click:function(t){e.getMatterModify(r,n)}}},[a("div",{staticClass:"edit-tips"},[e._v("点击进行填写")])])]}}])}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.matterModifyClass,expression:"matterModifyClass"}],staticClass:"delete_icon ",on:{click:function(a){e.delClick(n,t)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])])],1)}),0)]:[a("div",{on:{click:function(t){e.showMaterielPop=!e.showMaterielPop}}},[a("div",{staticClass:"title"},[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),a("div",{staticClass:"tips"},[e._v("请选择"+e._s(e.orderListTitle))]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),this.actions.includes("stop")?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),e.matterList.length?a("span",{staticClass:"add_more",on:{click:e.addMatter}},[e._v("新增更多物料")]):e._e()]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showMaterielPop,"default-value":e.matterList,config:e.matterPopConfig,"matter-params":e.matterParams},on:{"sel-matter":e.selMatter},model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}})],2),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,config:e.matterEditConfig},on:{"sel-confirm":e.selConfirm},model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode"},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-circle-outline 'outline' v-show=selItems.length !== matterList.length",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"btn-item",on:{click:e.save}},[e._v("提交")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},IsSW:function(e,t,a){"use strict";function n(e){a("6qf8")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("yqeo");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("gBBO"),s=a.n(o),l=a("fW10"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-5d16aa99",null);t.default=c.exports},"Iu/6":function(e,t,a){"use strict";function n(e){a("ZXlx")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("OuXJ");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("1RQV"),s=a.n(o),l=a("qfeE"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,null,null);t.default=c.exports},"Iw/D":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("MjAd"),i=n(r),o=a("IsSW"),s=n(o);t.default={components:{PopTaskWorkList:s.default},data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2361,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_outPutMatCode"}],popShow:!1,requestParams:{calc_rel_code:8051,view_id:"view_96"}}},mixins:[i.default],methods:{goEdit:function(){this.popShow=!0},selTask:function(e){var t=this.$route.query,a=t.name,n=t.listId,r=this.$route.params,i=r.folder,o=r.fileName;this.$router.push({path:"/fillform/"+i+"/"+o,query:{name:a,listId:n,orderId:e[0].colId}})}}}},Iw1N:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("3cXf"),s=n(o),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),h=n(f),m=a("SAzG"),v=n(m),p=a("u28h"),C=n(p),y=a("PzEQ"),_=n(y),g=a("kNGm"),b=(n(g),a("0AQX"),a("HyXB")),w=a("bKg5"),I=n(w),D=a("vl8n"),x=n(D),P=a("+WR7"),S=n(P);t.default={data:function(){return{listId:"223f9387-d2d7-11e8-b8ca-0279b2c6a380",formData:{biId:"",biComment:"",biProcessStatus:""},biReferenceId:"",MobileWarn:!1,idCardWarn:!1}},components:{Cell:c.default,Group:h.default,XInput:v.default,Datetime:C.default,XTextarea:_.default,RPicker:x.default,PopBaseinfo:S.default},mixins:[I.default],methods:{checkMobile:function(){var e=/^[1][3,4,5,7,8][0-9]{9}$/;if(this.formData.profileContact&&!e.test(this.formData.profileContact))return void(this.MobileWarn=!0);this.MobileWarn=!1},checkIdCard:function(){var e=/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/;if(this.formData.idCard&&!e.test(this.formData.idCard))return void(this.idCardWarn=!0);this.idCardWarn=!1},submitOrder:function(){var e=this,t="",a=[{key:"profileName",message:"员工"},{key:"idCard",message:"身份证号"}];if(t||a.every(function(a){return!!e.formData[a.key]||(t="请填写"+a.message,!1)}),!t&&this.MobileWarn&&(t="联系方式格式不正确"),!t&&this.idCardWarn&&(t="身份证号格式不正确"),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=b.saveAndStartWf,a=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName}),n={listId:e.listId,biComment:"",formData:(0,s.default)(a)};e.isResubmit&&(t=b.saveAndCommitTask,n.biReferenceId=e.biReferenceId,n.wfPara=(0,s.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=b.submitAndCalc,delete n.wfPara,delete n.biReferenceId),e.biReferenceId&&(n.biReferenceId=e.biReferenceId),e.saveData(t,n)}})},hasDraftData:function(){var e=this.formData;if(e.profileName||e.idCard)return(0,i.default)({},"YGDA_DATA",{formData:e})}},created:function(){var e=sessionStorage.getItem("YGDA_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,sessionStorage.removeItem("YGDA_DATA")}}}},Ixmg:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("keep-alive",[e.$route.meta.keepAlive?a("router-view"):e._e()],1),e._v(" "),e.$route.meta.keepAlive?e._e():a("router-view"),e._v(" "),a("nav",{staticClass:"tabs vux-1px-t"},e._l(e.tablist,function(t,n){return a("router-link",{key:n,staticClass:"tab",attrs:{to:t.path}},[a("span",{staticClass:"tabicon iconfont",class:t.icon}),e._v(" "),a("span",{staticClass:"title"},[e._v(e._s(t.title))]),e._v(" "),"消息"===t.title&&0!=e.newsNumber?a("badge"):e._e()],1)}),1)],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},Ixza:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_content"},[a("div",{staticClass:"main_content"},e._l(e.fundConfig,function(t,n){return a("div",{key:n,class:{"vux-1px-t":n>0}},["tdAmount"===t.fieldCode?[a("div",{staticClass:"each_info"},[a("label",[e._v(e._s(t.fieldLabel))]),e._v(" "),a("span",{staticClass:"field_value"},[e._v("￥"+e._s(e._f("numberComma")(e.dealerInfo[t.fieldCode])))])])]:"r2Numberfield"===t.xtype||"r2Permilfield"===t.xtype?[a("div",{staticClass:"each_info"},[a("label",[e._v(e._s(t.fieldLabel))]),e._v(" "),a("span",{staticClass:"field_value"},[e._v(e._s(e._f("numberComma")(e.dealerInfo[t.fieldCode])))])])]:[a("div",{staticClass:"each_info"},[a("label",[e._v(e._s(t.fieldLabel))]),e._v(" "),a("span",{staticClass:"field_value"},[e._v(e._s(e.dealerInfo[t.fieldCode]||"无"))])])]],2)}),0)]),e._v(" "),a("pop-cash-list",{directives:[{name:"show",rawName:"v-show",value:e.otherConfig.length&&!e.isEditAdmout,expression:"otherConfig.length &&  !isEditAdmout"}],attrs:{"default-value":e.cashInfo,request:"0",params:e.cashParams,required:""},on:{"sel-item":e.selCash}},[a("template",{slot:"other"},[a("div",{staticClass:"each_property vux-1px-t"},[a("label",[e._v("本次支付")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.cashInfo.tdAmount,expression:"cashInfo.tdAmount",modifiers:{number:!0}}],staticClass:"property_val",attrs:{type:"number",placeholder:"请输入"},domProps:{value:e.cashInfo.tdAmount},on:{blur:[e.checkAmt,function(t){e.$forceUpdate()}],input:function(t){t.target.composing||e.$set(e.cashInfo,"tdAmount",e._n(t.target.value))}}})])])],2),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.otherConfig.length&&e.isEditAdmout,expression:"otherConfig.length &&  isEditAdmout"}],staticClass:"form_content"},[a("div",{staticClass:"main_content"},e._l(e.otherConfig,function(t,n){return a("div",{key:n,class:{"vux-1px-t":n>0}},["r2Permilfield"===t.xtype?[a("div",{staticClass:"each_info"},[a("label",[e._v(e._s(t.fieldLabel))]),e._v(" "),a("span",{staticClass:"field_value"},[e._v("￥"+e._s(e._f("numberComma")(e.cashInfo[t.fieldCode])))])])]:[a("div",{staticClass:"each_info"},[a("label",[e._v(e._s(t.fieldLabel))]),e._v(" "),a("span",{staticClass:"field_value"},[e._v(e._s(e.cashInfo[t.fieldCode]||"无"))])])]],2)}),0)]),e._v(" "),a("div",{staticClass:"comment"},[a("form-cell",{attrs:{cellTitle:"备注",cellContent:e.orderInfo.biComment}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,"agree-handler":e.agreeHandler,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[],i={render:n,staticRenderFns:r};t.a=i},IzfM:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("GOq4"),r=function(e){return e&&e.__esModule?e:{default:e}}(n),i={getMeau:function(){return r.default.ajax({url:"/H_roleplay-si/ds/getMenu"})},getMyTask:function(){return r.default.ajax({url:"/H_roleplay-si/ds/getMyTaskCountAll"})},currentUser:function(){return r.default.ajax({url:"/H_roleplay-si/userInfo/currentUser"})},changeEntity:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.ajax({type:"POST",contentType:"application/x-www-form-urlencoded",url:"/H_roleplay-si/changeEntity",data:e})}};t.default=i},J0vH:function(e,t,a){"use strict";function n(e){a("DrpM")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("ZIQC");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("EZe+"),s=a.n(o),l=a("qYWR"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-42cf6b4f",null);t.default=c.exports},"J1O+":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("4YfN"),s=n(o),l=a("kNGm"),d=(n(l),a("0AQX")),u=a("+VRO"),c=n(u),f=a("BUFe"),h=n(f),m=a("AupE"),v=n(m),p=a("bFc7"),C=n(p),y=a("3NX5"),_=n(y),g=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",contactInfo:{},orderList:{},orderInfo:{}}},mixins:[c.default],components:{workFlow:v.default,RAction:h.default,contactPart:C.default,MatterList:_.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,d.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u={},c=o.order,f=void 0===c?{}:c,h=f.dataSet,m=!0,v=!1,p=void 0;try{for(var C,y=(0,i.default)(h);!(m=(C=y.next()).done);m=!0){var _=C.value;e.count=(0,g.accAdd)(e.count,_.tdAmount),_.inventoryPic=_.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),u[_.transMatchedCode]||(u[_.transMatchedCode]=[]),u[_.transMatchedCode].push(_)}}catch(e){v=!0,p=e}finally{try{!m&&y.return&&y.return()}finally{if(v)throw p}}e.contactInfo={creatorName:f.dealerDebitContactPersonName,dealerName:f.dealerName_dealerCodeCredit,dealerMobilePhone:o.dealerCreditContactInformation,dealerContactPersonName:o.dealerCreditContactPersonName,dealerCode:f.dealerCodeCredit,dealerLabelName:f.crDealerLabel,province:f.province_dealerCodeCredit,city:f.city_dealerCodeCredit,county:f.county_dealerCodeCredit,address:f.address_dealerCodeCredit},e.orderList=u,e.attachment=d,e.orderInfo=(0,s.default)({},o,f),e.workFlowInfoHandler()})}}}},J5wU:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("3cXf"),s=n(o),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),h=n(f),m=a("QHLv"),v=a("1KNX"),p=n(v),C=a("7biW"),y=n(C);t.default={name:"PopEarnestMoneyList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},params:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:h.default,RScroll:p.default,MSearch:y.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],matterList:[],limit:100,page:1,hasNext:!0,scrollOptions:{pullUpLoad:!0},filterProperty:"",filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"}]}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}},params:{handler:function(){this.resetCondition(),this.getList()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,d.default)(this.selItems)),this.$emit("input",!1),this.$event.$emit("shut-down-filter",!1)},findIndex:function(e,t){return e.findIndex(function(e){return e.transCode===t.transCode})},showSelIcon:function(e){return-1!==this.findIndex(this.tmpItems,e)},selThis:function(e,t){var a=this.tmpItems,n=this.findIndex(a,e);if(-1!==n)return void a.splice(n,1);a.push(e)},cfmMater:function(){this.showPop=!1,this.tmpItems.sort(function(e,t){return t.effectiveTime-e.effectiveTime}),this.selItems=[].concat((0,d.default)(this.tmpItems)),this.$emit("sel-item",(0,s.default)(this.selItems))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,r=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=r,this.resetCondition(),this.getList()},delSelItem:function(e){var t=this.findIndex(this.selItems,e);-1!==t&&this.selItems.splice(t,1),this.tmpItems=[].concat((0,d.default)(this.selItems))},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.tmpItems=[].concat((0,d.default)(this.defaultValue)),this.selItems=[].concat((0,d.default)(this.defaultValue))},resetCondition:function(){this.matterList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"transCode"}])),(0,m.getPurchaseAgreementDeposit)((0,i.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(t)},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+i.length,e.matterList=1===e.page?i:[].concat((0,d.default)(e.matterList),(0,d.default)(i)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})}},created:function(){this.setDefaultValue(),this.getList()}}},J6YN:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"100%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("m-search",{attrs:{filterList:e.filterList,isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions}},e._l(e.taskWorkList,function(t,n){return t.qtyBalance>0?a("div",{key:n,staticClass:"each-work box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"work-main"},[a("div",{staticClass:"order-code"},[a("span",{directives:[{name:"show",rawName:"v-show",value:"启动"===e.workType,expression:"workType === '启动'"}],staticClass:"order-title"},[e._v("派工单号")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"验收"===e.workType,expression:"workType === '验收'"}],staticClass:"order-title"},[e._v("启动单号")]),e._v(" "),a("span",{staticClass:"order-num"},[e._v(e._s(t.transCode))])]),e._v(" "),a("div",{staticClass:"work_mid"},[a("div",{staticClass:"product_name"},[e._v("\n                 "+e._s(t.inventoryName)),a("span",{staticClass:"symbol"},[e._v("["+e._s(t.invProcessing)+"]")])])]),e._v(" "),a("div",{staticClass:"work_mid"},[a("div",{staticClass:"product_unit"},[a("span",{staticClass:"each_unit"},[e._v("加工订单号: "+e._s(t.processCode))]),e._v(" "),a("span",{staticClass:"each_unit"},[e._v("工序: "+e._s(t.procedureName))])]),e._v(" "),a("div",{staticClass:"product_unit"},[a("span",{staticClass:"each_unit"},[e._v("总数: "+e._s(t.drQty))]),e._v(" "),a("span",{staticClass:"each_unit"},[e._v("已"+e._s(e.workType)+": "+e._s(t.crQty))]),e._v(" "),a("span",{staticClass:"each_unit"},[e._v("可"+e._s(e.workType)+": "+e._s(t.qtyBalance))])])])]),e._v(" "),a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-circle-outline selIcon",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])]):e._e()}),0),e._v(" "),a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.btnHandle}},[e._v(e._s(e.btnText))])])],1)])],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},J8tP:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("MgeX"),i=n(r),o=a("HzJ8"),s=n(o),l=a("KH7x"),d=n(l),u=a("4YfN"),c=n(u),f=a("0AQX"),h=a("+VRO"),m=n(h),v=a("BUFe"),p=n(v),C=a("AupE"),y=n(C),_=a("bFc7"),g=n(_),b=a("3NX5"),w=n(b),I=a("sUbJ"),D=n(I),x=a("d7ck"),P=n(x),S=a("CKaN"),k=n(S),L=a("zWMP"),N=a("Qg39");t.default={data:function(){return{count:0,comment:"",orderInfo:{},formViewUniqueId:"e76a8c6f-05cc-45ee-ba93-299fe6751856",orderList:{},cashInfo:{},costList:[]}},computed:{noTaxAmount:function(){var e=0;return this.orderInfo.inPut.dataSet.forEach(function(t){e=(0,L.accAdd)(e,t.noTaxAmount)}),e},taxAmount:function(){var e=0;return this.orderInfo.inPut.dataSet.forEach(function(t){e=(0,L.accAdd)(e,t.taxAmount)}),e},isCashier:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"e185e706-5b21-4467-bbe9-cff1856873a7"===t},cashParams:function(){return{transCode:this.transCode,fundType:"银行存款"}},isEditAdmout:function(){var e=!1;return this.otherConfig.forEach(function(t){"fundName_cashOutCode"===t.fieldCode&&(e=t.readOnly)}),e||(this.cashInfo=(0,c.default)({},this.cashInfo,{fundCode:this.cashInfo.fundCode||this.cashInfo.cashInCode,fundType:this.cashInfo.fundType||this.cashInfo.cashType_cashInCode,fundName:this.cashInfo.fundName||this.cashInfo.fundName_cashInCode,thenAmntBal:this.cashInfo.thenAmntBal||this.cashInfo.thenAmntBalCopy1})),e}},mixins:[m.default],components:{workFlow:y.default,RAction:p.default,contactPart:g.default,MatterList:w.default,MatterItem:D.default,FormCell:P.default,PopCashList:k.default},methods:{checkAmt:function(e,t,a){e[t]=Math.abs((0,N.toFixed)(a))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,f.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,l=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u={},f=i.inPut,h=void 0===f?{}:f,m=i.outPut,v=void 0===m?{}:m;e.attachment=l;var p=h.dataSet,C=v.dataSet,y=void 0===C?[]:C,_=(0,d.default)(y,1),g=_[0],b=void 0===g?{}:g,w=!0,I=!1,D=void 0;try{for(var x,P=(0,s.default)(p);!(w=(x=P.next()).done);w=!0){var S=x.value;S.noTaxAmount=(0,L.accMul)(S.price,S.tdQty),S.taxAmount=(0,L.accMul)(S.noTaxAmount,S.taxRate),S.tdAmount=(0,N.toFixed)((0,L.accAdd)(S.noTaxAmount,S.taxAmount)),e.count=(0,L.accAdd)(e.count,S.tdAmount),S.inventoryPic=S.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+S.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),u[S.transMatchedCode]||(u[S.transMatchedCode]=[]),u[S.transMatchedCode].push(S)}}catch(e){I=!0,D=e}finally{try{!w&&P.return&&P.return()}finally{if(I)throw D}}e.orderList=u,e.dealerInfo={creatorName:i.dealerCreditContactPersonName,dealerName:h.dealerName_dealerCodeCredit,dealerMobilePhone:i.dealerCreditContactInformation,dealerContactPersonName:i.dealerCreditContactPersonName,dealerCode:h.dealerCode_dealerCodeCredit,dealerLabelName:h.crDealerLabel,province:h.province_dealerCodeCredit,city:h.city_dealerCodeCredit,county:h.county_dealerCodeCredit,address:h.address_dealerCodeCredit,payment:h.crDealerPaymentTerm,pamentDays:h.daysOfAccount,accountExpirationDate:h.accountExpirationDate},e.cashInfo=b,e.orderInfo=(0,c.default)({},i,h),e.workFlowInfoHandler()})},agreeHandler:function(){if(this.isCashier){if(this.isCashier&&!this.cashInfo.fundCode)return this.$vux.alert.show({content:"请选择资金账户"}),!0;var e=this.orderInfo,t=[],a=!0,n=!1,r=void 0;try{for(var o,l=(0,s.default)((0,i.default)(this.orderList));!(a=(o=l.next()).done);a=!0){var d=o.value,u=!0,f=!1,h=void 0;try{for(var m,v=(0,s.default)(d);!(u=(m=v.next()).done);u=!0){var p=m.value;t.push({tdId:p.tdId,transMatchedCode:p.transMatchedCode,transObjCode:p.transObjCode,tdProcessing:p.tdProcessing,assMeasureUnit:p.assMeasureUnit,expSubject:p.expSubject,thenTotalQtyBal:p.thenTotalQtyBal,thenLockQty:p.thenLockQty,thenQtyBal:p.thenQtyBal,tdQty:p.tdQty,assMeasureScale:p.assMeasureScale,assistQty:p.assistQty,price:p.price,taxRate:p.taxRate,taxAmount:p.taxAmount,tdAmount:p.tdAmount,processingStartDate:p.processingStartDate,keepingDays_transObjCode:p.keepingDays_transObjCode,productionDate:p.productionDate,validUntil:p.validUntil,comment:p.comment})}}catch(e){f=!0,h=e}finally{try{!u&&v.return&&v.return()}finally{if(f)throw h}}}}catch(e){n=!0,r=e}finally{try{!a&&l.return&&l.return()}finally{if(n)throw r}}var C=(0,c.default)({},e,{inPut:{dealerCodeCredit:this.orderInfo.inPut.dealerCodeCredit,crDealerLabel:this.orderInfo.inPut.crDealerLabel,crDealerPaymentTerm:this.orderInfo.inPut.crDealerPaymentTerm,daysOfAccount:this.orderInfo.inPut.daysOfAccount,accountExpirationDate:this.orderInfo.inPut.accountExpirationDate,containerCode:this.orderInfo.inPut.containerCode,dataSet:t}});if(this.isCashier){var y=this.cashInfo;C.outPut.dataSet=[{fundName_cashInCode:y.fundName,cashOutCode:y.fundCode,cashType_cashOutCode:y.fundType,thenAmntBalCopy1:y.amntBal,tdAmountCopy1:y.tdAmountCopy1,tdIdCopy1:y.tdIdCopy1}]}return console.log(C),this.saveData(C),!0}return!1},selCash:function(e){this.cashInfo=(0,c.default)({},this.cashInfo,e)}}}},JFKB:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("lC5x"),i=n(r),o=a("J0Oq"),s=n(o),l=a("KH7x"),d=n(l),u=a("XAqG"),c=a("I8ug"),f=a("d7ck"),h=n(f);t.default={name:"USERForm",components:{FormCell:h.default},data:function(){return{colId:"",userData:{},action:{}}},methods:{getDefaultImg:function(e){this.userData.photo=a("男"===e?"Fuf7":"0gu7")},loadPage:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.$loading.show(),(0,u.getUserDetail)(this.colId).then(function(t){var a=t.tableContent,n=void 0===a?[]:a,r=(0,d.default)(n,1),i=r[0],o=void 0===i?{}:i,s=["女","男"],l=["临时账户","长期有效"],u=["shortTerm","longTerm"],c=["","使用中","未使用","草稿"],f=["","inUse","unUse"];o.gender=s[o.gender]||"未知",o.statusClass=f[o.status],o.status=c[o.status]||"停用",o.typeClass=u[o.userType],o.userType=l[o.userType],e.userData=o,o.photo||e.getDefaultImg(o.gender),e.$loading.hide()})},goEdit:function(){var e=this.$route.query.name,t=this.$route.params,a=t.folder,n=t.fileName;this.$router.push({path:"/fillForm/"+a+"/"+n,query:{name:e,colId:this.colId}})},getAppDetail:function(){var e=this,t=this.$route.query.listId,a=void 0===t?"":t;return(0,c.getAppDetail)(a).then(function(t){var a=(0,d.default)(t,1),n=a[0],r=void 0===n?{}:n,i=r.action;e.action=i})}},created:function(){var e=this;(0,s.default)(i.default.mark(function t(){var a,n;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.$route.query.colId,n=void 0===a?"":a,e.colId=n,t.next=4,e.getAppDetail();case 4:e.loadPage();case 5:case"end":return t.stop()}},t,e)}))()}}},JHNY:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("IHPB"),s=n(o),l=a("4YfN"),d=n(l),u=a("0w+U"),c=a("MjAd"),f=n(c);t.default={mixins:[f.default],data:function(){return{listStatus:[{name:"全部",status:""},{name:"使用中",status:"1"},{name:"未使用",status:"2"},{name:"停用",status:"-1"}],filterList:[{name:"公司名称",value:"groupName"},{name:"公司简称",value:"groupShortName"}]}},methods:{tabClick:function(e,t){this.activeIndex=t,this.activeTab=e.status,this.resetCondition(),this.getList()},RouterChange:function(e,t,a){var n=this;if(!this.clickVisited){var r=e.groupId,i=this.$route.query.name;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,d.default)({},e)),setTimeout(function(){n.clickVisited=!1,n.$router.push({path:a,query:{name:i,groupId:r}})},200)}},goDetail:function(e,t){var a=this.$route.params,n=a.folder,r=a.fileName;this.RouterChange(e,t,"/detail/"+n+"/"+r)},getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=[],n=[{property:"crtTime",direction:"DESC"}];return this.activeTab&&(a=[{operator:"in",property:"status",value:this.activeTab}]),this.serachVal&&(a=[].concat((0,s.default)(a),[{operator:"like",value:this.serachVal,property:this.filterProperty}])),(0,u.getCompany)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,sort:(0,i.default)(n),filter:(0,i.default)(a)}).then(function(a){var n=a.dataCount,r=void 0===n?0:n,i=a.tableContent,o=void 0===i?[]:i;e.$emit("input",!1),o.forEach(function(t){var a=["","使用中","未使用","草稿"];t.status=a[t.status]||"停用",e.setStatus(t),t.groupPic=t.groupPic?t.groupPic:e.getDefaultImg()}),e.hasNext=r>(e.page-1)*e.limit+o.length,e.listData=1===e.page?o:e.listData.concat(o),t||e.$nextTick(function(){e.resetScroll()}),e.$loading.hide()}).catch(function(t){e.resetScroll()})},setStatus:function(e){switch(e.status){case"使用中":e.statusClass="duty_done_c";break;default:e.statusClass="duty_fall_c"}},getDefaultImg:function(e){var t=a("L+HE");return e&&(e.groupPic=t),t}}}},"JKa/":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.outPut?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("warehouse-content",{attrs:{warehouse:e.warehouseIn,"warehouse-out":e.warehouseOut}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"matter-list":e.matterList},on:{"on-show-more":e.onShowMore}}),e._v(" "),a("other-part",{attrs:{"other-info":e.orderInfo,amt:e.noTaxAmount,"tax-amt":e.taxAmount,count:e.count,attachment:e.attachment}}),e._v(" "),a("pop-matter-detail",{attrs:{show:e.showMatterDetail,item:e.matterDetail},model:{value:e.showMatterDetail,callback:function(t){e.showMatterDetail=t},expression:"showMatterDetail"}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[],i={render:n,staticRenderFns:r};t.a=i},JKgd:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("KH7x"),i=n(r),o=a("4YfN"),s=n(o),l=a("a3Yh"),d=n(l),u=a("3cXf"),c=n(u),f=a("BGNQ"),h=n(f),m=a("z5TY"),v=n(m),p=a("SAzG"),C=n(p),y=a("7g+Q"),_=n(y),g=a("PzEQ"),b=n(g),w=a("jnZd"),I=n(w),D=a("0AQX"),x=a("HyXB"),P=(a("jLp1"),a("bKg5")),S=n(P),k=a("55ug"),L=n(k),N=a("CKaN"),M=n(N),T=a("gk4f"),A=n(T),O=a("vl8n"),R=n(O),j=a("+WR7"),B=n(j),E=a("zWMP"),F=a("Qg39");t.default={mixins:[S.default],components:{Cell:h.default,Group:v.default,Popup:_.default,XInput:C.default,XTextarea:b.default,PopupPicker:I.default,RPicker:R.default,PopBaseinfo:B.default,PopDealerList:L.default,PopCashList:M.default,PopOrderList:A.default},data:function(){return{listId:"c930267f-66fd-4927-983b-0216ef9449b3",biReferenceId:"",selectedCost:[],costIndex:0,transCode:"",formData:{biComment:""},dealerInfo:{},showOrder:!1,dealerParams:{},orderList:[],cashInfo:{}}},computed:{applicationAmount:function(){var e=0;return this.orderList.forEach(function(t){t.applicationAmount&&(e=(0,E.accAdd)(e,t.applicationAmount))}),(0,F.toFixed)(e)},tdAmountCopy1:function(){var e=0;return this.orderList.forEach(function(t){t.tdAmount&&(t.differenceAmount=(0,E.accAdd)(t.thenAmntBal,t.tdAmount),e=(0,E.accAdd)(e,t.tdAmount))}),(0,F.toFixed)(e)},differenceAmount:function(){var e=0;return this.dealerInfo.amntBal&&(e=(0,E.accAdd)(this.tdAmountCopy1,this.dealerInfo.amntBal)),(0,F.toFixed)(e)}},methods:{submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerCode||(t="请选择供应商"),t||this.orderList.length||(t="请选择欠款明细"),t||this.orderList.every(function(e){return e.popiCode?(a.push({tdId:e.tdId||"",transMatchedCode:e.popiCode,orderCode:e.poCode,thenTotalAmntBal:e.thenTotalAmntBal,thenAlreadyAmnt:e.thenAlreadyAmnt,thenAmntBal:e.thenAmntBal,accountExpirationDate:e.accountExpirationDate,daysOfAccount:e.daysOfAccount,ageOfAging:e.ageOfAging,accountRemaingDays:e.accountRemaingDays,invoiced:e.invoicing,pendingTicket:e.invoiced,applicationAmount:e.applicationAmount,tdAmount:e.tdAmount,differenceAmount:e.differenceAmount}),!0):(t="请选择采购入库号",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=x.saveAndStartWf,n=(0,d.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,c.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={dealerName_dealerDebit:e.dealerInfo.nickname,dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,thenAmntBalCopy1:e.dealerInfo.amntBal,applicationAmount:e.applicationAmount,tdAmountCopy1:e.tdAmountCopy1,differenceAmount:e.differenceAmount},i={fundName_cashOutCode:e.cashInfo.fundName,cashOutCode:e.cashInfo.fundCode,cashType_cashOutCode:e.cashInfo.fundType,thenAmntBal:e.cashInfo.thenAmntBal,tdAmount:e.cashInfo.tdAmount};e.transCode&&(r.tdIdCopy1=e.dealerInfo.tdIdCopy1,i.tdId=e.cashInfo.tdId);var o={listId:e.listId,biComment:e.formData.biComment,formData:(0,c.default)((0,s.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",inPut:{dataSet:[r]},order:{dataSet:a},outPut:{dataSet:[i]}})),wfPara:(0,c.default)(n)};e.isResubmit&&(o.biReferenceId=e.biReferenceId,t=x.saveAndCommitTask),e.processCode.length||(t=x.submitAndCalc,delete o.wfPara,delete o.biReferenceId),e.biReferenceId&&(o.biReferenceId=e.biReferenceId),e.saveData(t,o)}})},getFormData:function(){var e=this;return(0,D.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.attachment,n=void 0===a?[]:a,r=t.listId,o=void 0===r?"":r,l=(t.biComment,t.biReferenceId),d=void 0===l?"":l,u=t.formData,c=void 0===u?{}:u;e.attachment=n,e.listId=o,e.biReferenceId=d,e.handlerDefault={handler:c.handler,handlerName:c.handlerName,handlerUnit:c.handlerUnit,handlerUnitName:c.handlerUnitName,handlerRole:c.handlerRole,handlerRoleName:c.handlerRoleName},e.formData=(0,s.default)({},e.formData,e.handlerDefault,{biComment:c.biComment,biId:c.biId,biProcessStatus:c.biProcessStatus,creator:c.creator,modifer:c.modifer});var f=c.order.dataSet,h=void 0===f?[]:f,m=c.inPut.dataSet,v=void 0===m?[]:m,p=c.outPut.dataSet,C=void 0===p?[]:p,y=(0,i.default)(v,1),_=y[0],g=void 0===_?{}:_,b=(0,i.default)(C,1),w=b[0],I=void 0===w?{}:w;h.forEach(function(e){e.popiCode=e.transMatchedCode,e.poCode=e.orderCode,e.invoicing=e.invoiced}),e.dealerInfo=(0,s.default)({},g,{nickname:g.dealerName_dealerDebit,dealerCode:g.dealerDebit,dealerLabelName:g.drDealerLabel,amntBal:g.thenAmntBalCopy1}),e.cashInfo=(0,s.default)({},I,{fundName:I.fundName_cashOutCode,fundCode:I.cashOutCode,fundType:I.cashType_cashOutCode}),e.orderList=h,e.$loading.hide()})},hasDraftData:function(){return!!this.dealerInfo.dealerCode&&(0,d.default)({},"FGYSQK_DATA",{formData:this.formData,dealerInfo:this.dealerInfo,orderList:this.orderList,cashInfo:this.cashInfo})},getRelationData:function(){},selDealer:function(e){this.dealerInfo=(0,s.default)({},e),this.dealerParams={dealerCode:e.dealerCode}},selOrder:function(e){this.orderList=JSON.parse(e),this.orderList},selCash:function(e){this.cashInfo=(0,s.default)({},e)},addOrder:function(){this.showOrder=!0},checkAmt:function(e,t){switch(e){case"tdAmount":this.cashInfo.tdAmount=(0,F.toFixed)(this.cashInfo.tdAmount);break;default:e[t]=(0,F.toFixed)(e[t])}}},created:function(){var e=sessionStorage.getItem("FGYSQK_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.orderList=t.orderList,this.cashInfo=t.cashInfo,this.dealerParams={dealerCode:this.dealerInfo.dealerCode},sessionStorage.removeItem("FGYSQK_DATA")}}}},JMwS:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},JOdt:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("Nk/b"),s=n(o),l=a("BGNQ"),d=n(l),u=a("7g+Q"),c=n(u),f=a("MF1H"),h=n(f),m=a("xZPP"),v=n(m),p=a("nKjL"),C=a("KH5r"),y=n(C),_=a("uJtz"),g=n(_),b=a("3BYQ"),w=n(b),I=a("+62G"),D=n(I),x=function(e){return JSON.parse((0,i.default)(e))};t.default={name:"popup-picker",directives:{TransferDom:D.default},created:function(){void 0!==this.show&&(this.showValue=this.show)},mixins:[w.default],components:{Picker:s.default,Cell:d.default,Popup:c.default,PopupHeader:h.default,Flexbox:p.Flexbox,FlexboxItem:p.FlexboxItem,InlineDesc:v.default},filters:{array2string:y.default,value2name:g.default},props:{valueTextAlign:{type:String,default:"right"},title:String,cancelText:String,confirmText:String,data:{type:Array,default:function(){return[]}},placeholder:String,columns:{type:Number,default:0},fixedColumns:{type:Number,default:0},value:{type:Array,default:function(){return[]}},showName:Boolean,inlineDesc:[String,Number,Array,Object,Boolean],showCell:{type:Boolean,default:!0},show:Boolean,displayFormat:Function,isTransferDom:{type:Boolean,default:!0},columnWidth:Array,popupStyle:Object,popupTitle:String,disabled:Boolean},computed:{labelStyles:function(){return{display:"block",width:this.$parent.labelWidth||this.$parent.$parent.labelWidth||"auto",textAlign:this.$parent.labelAlign||this.$parent.$parent.labelAlign,marginRight:this.$parent.labelMarginRight||this.$parent.$parent.labelMarginRight}},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}}},methods:{value2name:g.default,getNameValues:function(){return(0,g.default)(this.currentValue,this.data)},onClick:function(){this.disabled||(this.showValue=!0)},onHide:function(e){this.showValue=!1,e&&(this.closeType=!0,this.currentValue=x(this.tempValue)),e||(this.closeType=!1,this.value.length>0&&(this.tempValue=x(this.currentValue)))},onPopupShow:function(){this.closeType=!1,this.$emit("on-show")},onPopupHide:function(e){this.value.length>0&&(this.tempValue=x(this.currentValue)),this.$emit("on-hide",this.closeType)},onPickerChange:function(e){if((0,i.default)(this.currentValue)!==(0,i.default)(e)&&this.value.length){var t=(0,i.default)(this.data);t!==this.currentData&&"[]"!==this.currentData&&(this.tempValue=x(e)),this.currentData=t}var a=x(e);this.$emit("on-shadow-change",a,(0,g.default)(a,this.data).split(" "))}},watch:{value:function(e){(0,i.default)(e)!==(0,i.default)(this.tempValue)&&(this.tempValue=x(e),this.currentValue=x(e))},currentValue:function(e){this.$emit("input",x(e)),this.$emit("on-change",x(e))},show:function(e){this.showValue=e},showValue:function(e){this.$emit("update:show",e)}},data:function(){return{onShowProcess:!1,tempValue:x(this.value),closeType:!1,currentData:(0,i.default)(this.data),showValue:!1,currentValue:this.value}}}},JQMB:function(e,t,a){"use strict";function n(e){a("vVHi")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("g2zt");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("keYS"),s=a.n(o),l=a("x2l6"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-61d573b4",null);t.default=c.exports},JQuy:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"contact-container"},[a("div",{staticClass:"contact-main"},[a("header",{staticClass:"contact_header vux-1px-l"},[e._v("往来信息")]),e._v(" "),e.contactInfo.dealerContactPersonName||e.contactInfo.dealerMobilePhone?a("div",{staticClass:"contact_top"},[a("div",{staticClass:"contact_top_item"},[a("span",{staticClass:"contact_top_title"},[e._v("联系人: ")]),e._v(e._s(e.contactInfo.dealerContactPersonName||"暂无")+"\n      ")]),e._v(" "),a("div",{staticClass:"contact_top_item"},[a("span",{staticClass:"contact_top_title"},[e._v("手机号: ")]),e._v(e._s(e.contactInfo.dealerMobilePhone||"暂无")+"\n      ")])]):e.contactInfo.dealerCode_dealerCodeCredit?a("div",{staticClass:"contact_top"},[a("div",{staticClass:"contact_top_item"},[a("span",{staticClass:"contact_top_title"},[e._v("往来编码: ")]),e._v(e._s(e.contactInfo.dealerCode_dealerCodeCredit||"暂无")+"\n      ")]),e._v(" "),a("div",{staticClass:"contact_top_item"},[a("span",{staticClass:"contact_top_title"},[e._v("往来标签: ")]),e._v(e._s(e.contactInfo.crDealerLabel||"暂无")+"\n      ")])]):e._e(),e._v(" "),a("div",{staticClass:"contact_dealer"},[a("div",{staticClass:"contact_dealer_item"},[a("i",{staticClass:"icon icon-dealer2"}),e._v(" "),a("span",{staticClass:"contact_dealer_title"},[e._v("往来名称：")]),e._v(" "),a("span",{staticClass:"contact_dealer_value"},[e._v(e._s(e.contactInfo.dealerName||e.contactInfo.dealerName_dealerCodeCredit))])]),e._v(" "),e.showAddress?a("div",{staticClass:"contact_dealer_item"},[a("i",{staticClass:"icon icon-address"}),e._v(" "),a("span",{staticClass:"contact_dealer_title"},[e._v("往来地址：")]),e._v(" "),a("span",{staticClass:"contact_dealer_value"},[e._v(e._s(e.contactInfo.address||"暂无"))])]):e._e()])]),e._v(" "),e.configs.length?a("div",{staticClass:"contact-other vux-1px-t"},e._l(e.configs,function(t,n){return a("div",{key:n,staticClass:"contact_other_wrapper"},[a("div",{staticClass:"contact_other_item"},[a("span",{staticClass:"contact_other_title"},[e._v(e._s(t.fieldLabel)+"：")]),e._v(" "),"r2Permilfield"===t.xtype?a("span",{staticClass:"contact_other_value"},[e._v(e._s(t.fieldValue||e.contactInfo[t.fieldCode]))]):a("span",{staticClass:"contact_other_value"},[e._v(e._s(t.fieldValue||e.contactInfo[t.fieldCode]||"暂无"))])])])}),0):e._e()])},r=[],i={render:n,staticRenderFns:r};t.a=i},JRYK:function(e,t){},JSOx:function(e,t,a){"use strict";function n(e){a("pzWy")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("RbVM");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("E7Wa"),s=a.n(o),l=a("Ylii"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-0aada149",null);t.default=c.exports},JUrh:function(e,t){},JUuq:function(e,t,a){"use strict";function n(e){a("hdat")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("FLut");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("K798"),s=a.n(o),l=a("6/Tc"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-fd0c290e",null);t.default=c.exports},JVZc:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("MjAd"),i=n(r),o=a("IsSW"),s=n(o);t.default={components:{PopTaskWorkList:s.default},data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2361,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_outPutMatCode"}],popShow:!1,requestParams:{calc_rel_code:8051,view_id:"view_96"}}},mixins:[i.default],methods:{goEdit:function(){this.popShow=!0},selTask:function(e){var t=this.$route.query,a=t.name,n=t.listId,r=this.$route.params,i=r.folder,o=r.fileName;this.$router.push({path:"/fillform/"+i+"/"+o,query:{name:a,listId:n,orderId:e[0].colId}})}}}},JYGM:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={props:{BusApps:{type:Array,default:[]},goList:{type:Function,require:!0},getDefaultIcon:{type:Function,require:!0},goAppDetail:{type:Function,require:!0}}}},JZw5:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"change_log vux-1px-b"},[a("div",{staticClass:"title"},[a("span",[e._v("更新日志")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.changeLogList.length,expression:"changeLogList.length"}],staticClass:"history",on:{click:function(t){e.popupShow=!0}}},[e._v("历史记录")])]),e._v(" "),e.changeLogList.length?a("div",{staticClass:"latest_change",on:{click:function(t){e.popupShow=!0}}},[a("div",{staticClass:"change_time"},[a("span",{staticClass:"version"},[e._v("v"+e._s(e.latestLog.VERSION))]),e._v(" "),a("span",[e._v(e._s(e.latestLog.CRT_TIME))])]),e._v(" "),a("div",{staticClass:"change_content"},[a("div",{staticClass:"each_change"},[a("span",[e._v(e._s(e.latestLog.CREATOR_NAME))]),e._v(" "),a("span",{staticStyle:{"margin-left":"0.1rem"}},[e._v("耗用时间:"+e._s(e.latestLog.TIME_CONSUMING))])]),e._v(" "),a("div",{staticClass:"each_change"},[a("span",{staticClass:"change_title"},[e._v("更新范围: ")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e.latestLog.CHANGE_RANGE))])]),e._v(" "),a("div",{staticClass:"each_change"},[a("span",{staticClass:"change_title"},[e._v("备注: ")]),e._v(" "),a("span",{staticClass:"content",domProps:{innerHTML:e._s(e.latestLog.CONTENT)}})])])]):a("div",{staticClass:"no_data"},[e._v("暂无数据")]),e._v(" "),e.handle?a("div",{staticClass:"edit_log",on:{click:e.EditLog}},[a("span",{staticClass:"iconfont icon-bianji"}),e._v(" "),a("span",[e._v("撰写日志")])]):e._e(),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{attrs:{position:"bottom",height:"100%"},on:{"on-show":e.onShow},model:{value:e.popupShow,callback:function(t){e.popupShow=t},expression:"popupShow"}},[a("r-scroll",{ref:"bScroll",staticClass:"full-flow-container",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.changeLogList.length},on:{"on-pulling-up":e.onPullingUp}},[a("div",{staticClass:"change_list"},[a("div",{staticClass:"title vux-1px-b"},[e._v("\n            更新日志历史记录\n          ")]),e._v(" "),e._l(e.changeLogList,function(t,n){return a("div",{key:n,staticClass:"latest_change vux-1px-b"},[a("div",{staticClass:"change_time"},[a("span",{staticClass:"version"},[e._v("v"+e._s(t.VERSION))]),e._v(" "),a("span",[e._v(e._s(t.CRT_TIME))])]),e._v(" "),a("div",{staticClass:"change_content"},[a("div",[e._v(e._s(t.CREATOR_NAME)+"  耗用时间:"+e._s(t.TIME_CONSUMING))]),e._v(" "),a("div",[e._v("更新范围: "+e._s(t.CHANGE_RANGE))]),e._v(" "),a("div",[e._v("备注: "),a("span",{domProps:{innerHTML:e._s(t.CONTENT)}})])])])})],2)]),e._v(" "),a("div",{staticClass:"btn when_less vux-1px-t"},[a("span",{staticClass:"cfm_btn",on:{click:e.closePop}},[e._v("关闭")])])],1)],1)])},r=[],i={render:n,staticRenderFns:r};t.a=i},JajO:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages xsbj-list-conatiner",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("just-word-item",{key:n,attrs:{item:t,noCount:""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},Jcf1:function(e,t){},JcwB:function(e,t){},JeEO:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"flexbox",props:{gutter:{type:Number,default:8},orient:{type:String,default:"horizontal"},justify:String,align:String,wrap:String,direction:String},computed:{styles:function(){return{"justify-content":this.justify,"-webkit-justify-content":this.justify,"align-items":this.align,"-webkit-align-items":this.align,"flex-wrap":this.wrap,"-webkit-flex-wrap":this.wrap,"flex-direction":this.direction,"-webkit-flex-direction":this.direction}}}}},JhlL:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"admin_comment"},[a("div",{staticClass:"title"},[a("span",[e._v("管理员自评")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.adminCommentList.length,expression:"adminCommentList.length"}],staticClass:"more",on:{click:e.getMoreComment}},[e._v("查看更多")])]),e._v(" "),e.adminCommentList.length?e._e():a("div",{staticClass:"no_data"},[e._v("暂无评论")]),e._v(" "),a("div",{staticClass:"admin-comment-container swiper-container",class:{no_swiper:!e.adminCommentList.length}},[a("div",{staticClass:"swiper-wrapper"},e._l(e.adminCommentList,function(t,n){return n<5?a("div",{key:n,staticClass:"swiper-slide"},[a("div",{staticClass:"each_comment",on:{click:function(t){e.goPop(n)}}},[a("div",{staticClass:"user_photo"},[a("img",{attrs:{src:t.photo},on:{error:function(a){e.getUserDefault(t)}}})]),e._v(" "),a("div",{staticClass:"comment_content"},[a("div",{staticClass:"user_info"},[a("span",{staticClass:"user_name"},[e._v(e._s(t.creator))]),e._v(" "),a("span",{staticClass:"comment_time"},[e._v(e._s(t.crtTime))])]),e._v(" "),a("div",{staticClass:"comment"},[a("div",[a("div",[e._v("改进结果:")]),e._v(" "),a("div",{staticClass:"achievement",domProps:{innerHTML:e._s(t.modifyAchievement)}})]),e._v(" "),a("div",[a("div",[e._v("改进机会:")]),e._v(" "),a("div",{staticClass:"chance",domProps:{innerHTML:e._s(t.modifyChance)}})])])])])]):e._e()}),0)]),e._v(" "),e.handle?a("div",{staticClass:"edit_comment",on:{click:e.EditAdmin}},[a("span",{staticClass:"iconfont icon-bianji"}),e._v(" "),a("span",[e._v("撰写评论")])]):e._e(),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{attrs:{position:"bottom",height:"100%"},on:{"on-show":e.onShow},model:{value:e.popupShow,callback:function(t){e.popupShow=t},expression:"popupShow"}},[a("r-scroll",{ref:"bScroll",staticClass:"full-flow-container",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.adminCommentList.length},on:{"on-pulling-up":e.onPullingUp}},[a("div",{staticClass:"change_list"},[a("div",{staticClass:"title vux-1px-b"},[e._v("\n            管理员自评\n          ")]),e._v(" "),e._l(e.adminCommentList,function(t,n){return a("div",{key:n,ref:"eachComment",refInFor:!0,staticClass:"each_comment vux-1px-b",class:{visited:n===e.seletedIndex}},[a("div",{staticClass:"user_photo"},[a("img",{attrs:{src:t.photo},on:{error:function(a){e.getUserDefault(t)}}})]),e._v(" "),a("div",{staticClass:"comment_content"},[a("div",{staticClass:"user_info"},[a("span",{staticClass:"user_name"},[e._v(e._s(t.creator))]),e._v(" "),a("span",{staticClass:"comment_time"},[e._v(e._s(t.crtTime))])]),e._v(" "),a("div",{staticClass:"comment"},[a("div",[a("span",[e._v("改进结果:")]),e._v(" "),a("span",{staticClass:"achievement",domProps:{innerHTML:e._s(t.achievement)}})]),e._v(" "),a("div",[a("span",[e._v("改进机会:")]),e._v(" "),a("span",{staticClass:"chance",domProps:{innerHTML:e._s(t.chance)}})])])])])})],2)]),e._v(" "),a("div",{staticClass:"btn when_less vux-1px-t"},[a("span",{staticClass:"cfm_btn",on:{click:e.closePop}},[e._v("关闭")])])],1)],1)])},r=[],i={render:n,staticRenderFns:r};t.a=i},Jixu:function(e,t){},JkLB:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"only-word"},[a("div",{staticClass:"word-main"},e._l(e.config,function(t,n){return a("form-cell",{directives:[{name:"show",rawName:"v-show",value:!t.hiddenInRun,expression:"!item.hiddenInRun"}],key:n,attrs:{textRight:"",cellTitle:t.fieldLabel,cellContent:e.info[t.fieldCode]}})}),1)])},r=[],i={render:n,staticRenderFns:r};t.a=i},JqZS:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages xsbj-list-conatiner",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"instance-item-wrapper",class:{visited:t.visited},on:{click:function(a){e.goDetail(t,n)}}},[a("div",{staticClass:"instance-main"},[a("div",{staticClass:"instance-header"},[a("span",{staticClass:"instance_code vux-1px-l"},[e._v(e._s(t.transCode))]),e._v(" "),a("span",{staticClass:"instance_status",class:t.statusClass},[e._v(e._s(t.biStatus))])]),e._v(" "),a("div",{staticClass:"instance-project-container"},[a("div",{staticClass:"project_name",class:{"time-to-wrap":t.logTitle.length>15}},[e._v("标题："+e._s(t.logTitle))]),e._v(" "),a("div",{staticClass:"project_manager"},[a("span",{staticClass:"project_manager_title"},[e._v("标准工时：")]),e._v(" "),a("span",{staticClass:"project_manager_value"},[e._v(e._s(t.logDeclarationHours||0))])])]),e._v(" "),a("div",{staticClass:"instance-task-container"},e._l(t.detailItem,function(t,n){return a("div",{key:n,staticClass:"instance_task_item"},[a("i",{staticClass:"icon",class:[e.getTaskIcon(n)]}),e._v(" "),a("div",{staticClass:"task-detail"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.taskName,expression:"task.taskName"}],staticClass:"task_name"},[e._v(e._s(t.taskName))]),e._v(" "),a("div",{staticClass:"task_info"},[a("div",{staticClass:"task_info_item"},[a("span",{staticClass:"task_info_title"},[e._v("预算成本：")]),e._v(" "),a("span",{staticClass:"task_info_amt"},[e._v("￥"+e._s(e._f("numberComma")(t.budgetCapital_project||0)))])]),e._v(" "),a("div",{staticClass:"task_info_item"},[a("span",{staticClass:"task_info_title"},[e._v("周期天数：")]),e._v(" "),a("span",{staticClass:"task_info_day"},[e._v(e._s(t.planCycleDays||0)+"天")])])]),e._v(" "),a("div",{staticClass:"task_info"},[a("div",{staticClass:"task_info_item"},[a("span",{staticClass:"task_info_title"},[e._v("日期")]),e._v(" "),a("span",{staticClass:"task_info_day"},[e._v(e._s(e._f("dateFormat")(t.expectEndDate_project,"YYYY-MM-DD")||"无"))])])])])])}),0)]),e._v(" "),a("div",{staticClass:"instance-bottom"},[a("div",{staticClass:"instance-bottom-wrapper"},[a("div",{staticClass:"instance_bottom_item instance_handler"},[a("i",{staticClass:"icon icon-handler"}),e._v(" "),a("span",[e._v("经办人："+e._s(t.handlerName))])]),e._v(" "),a("div",{staticClass:"instance_bottom_item instance_mod_time"},[a("i",{staticClass:"icon icon-mod-time"}),e._v(" "),a("span",[e._v("修改时间："+e._s(e._f("dateFormat")(t.modTime,"YYYY-MM-DD HH:mm")))])])])])])}),0)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},JuKn:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("4YfN"),s=n(o),l=a("3cXf"),d=n(l),u=a("0AQX"),c=a("+VRO"),f=n(c),h=a("BUFe"),m=n(h),v=a("AupE"),p=n(v),C=a("bFc7"),y=n(C),_=a("6WeX"),g=n(_),b=a("3NX5"),w=n(b),I=a("zWMP");a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"",contactInfo:{},orderList:{},matterList:[]}},computed:{noTaxAmount:function(){var e=0;return this.matterList.forEach(function(t){e=(0,I.accAdd)(e,t.noTaxAmount)}),e},taxAmount:function(){var e=0;return this.matterList.forEach(function(t){e=(0,I.accAdd)(e,t.taxAmount)}),e}},components:{workFlow:p.default,RAction:m.default,contactPart:y.default,PriceTotal:g.default,MatterList:w.default},mixins:[f.default],methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(e.submitInfo=JSON.parse((0,d.default)(t)),!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=void 0===a?[]:a,r=t.formData,o=void 0===r?{}:r,l=o.inPut,u=void 0===l?{}:l,c={},f=u.dataSet,h=!0,m=!1,v=void 0;try{for(var p,C=(0,i.default)(f);!(h=(p=C.next()).done);h=!0){var y=p.value;e.count=(0,I.accAdd)(e.count,y.tdAmount),y.inventoryPic=y.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+y.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),c[y.transMatchedCode]||(c[y.transMatchedCode]=[]),c[y.transMatchedCode].push(y)}}catch(e){m=!0,v=e}finally{try{!h&&C.return&&C.return()}finally{if(m)throw v}}e.contactInfo={creatorName:o.dealerDebitContactPersonName,dealerName:u.dealerName_dealerCodeCredit,dealerMobilePhone:o.dealerCreditContactInformation,dealerContactPersonName:o.dealerCreditContactPersonName,dealerCode:u.dealerCodeCredit,dealerLabelName:u.crDealerLabel,province:u.province_dealerCodeCredit,city:u.city_dealerCodeCredit,county:u.county_dealerCodeCredit,address:u.address_dealerCodeCredit},e.attachment=n,e.matterList=f,e.orderList=c,e.orderInfo=(0,s.default)({},o,u),e.workFlowInfoHandler()})}},created:function(){}}},JvnV:function(e,t,a){"use strict";function n(e){a("8eij")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("gR+h");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("Q9fr"),s=a.n(o),l=a("4keB"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-23fab424",null);t.default=c.exports},Jw4h:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("just-word-item",{key:n,attrs:{item:t,"no-count":""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},JyCx:function(e,t){},JyyE:function(e,t){},Jz7U:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("KH7x"),i=n(r),o=a("a3Yh"),s=n(o),l=a("MgeX"),d=n(l),u=a("HzJ8"),c=n(u),f=a("ZLEe"),h=n(f),m=a("rVsN"),v=n(m),p=a("IHPB"),C=n(p),y=a("3cXf"),_=n(y),g=a("4YfN"),b=n(g),w=a("HXPS"),I=n(w),D=a("BGNQ"),x=n(D),P=a("z5TY"),S=n(P),k=a("SAzG"),L=n(k),N=a("u28h"),M=n(N),T=a("PzEQ"),A=n(T),O=a("kNGm"),R=n(O),j=a("0AQX"),B=a("I3vJ"),E=a("HyXB"),F=a("bKg5"),U=n(F),$=a("luHD"),H=n($),V=a("RMtk"),q=n(V),Q=a("jEax"),Y=n(Q),X=a("d7ck"),G=n(X),W=a("FlCz"),z=n(W),K=a("MVgC"),J=n(K),Z=a("vl8n"),ee=n(Z),te=a("+WR7"),ae=n(te),ne=a("89pA"),re=n(ne),ie=a("zWMP"),oe=a("Qg39");t.default={name:"ApplyWLXQTJForm",mixins:[U.default],components:{Icon:I.default,Cell:x.default,Group:S.default,XInput:L.default,XTextarea:A.default,PopMatter:H.default,PopOrderXqtjList:q.default,Datetime:M.default,FormCell:G.default,PopWarehouseNbjgrkList:Y.default,BomList:z.default,BomPop:J.default,RPicker:ee.default,PopBaseinfo:ae.default,PopWarehouseList:re.default},data:function(){return{listId:"5e8d89f1-49a5-4089-9c1a-44dc2ce0ae4b",orderList:{},showOrderPop:!1,formData:{biProcessStatus:null,biComment:""},submitSuccess:!1,warehouse:null,numMap:{},transCode:"",formViewUniqueId:"82784823-ded5-4a58-a746-d32514f7d26f",biReferenceId:"",actions:[],taskId:"",matterList:[],entity:{},tmpItems:{},matter:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,warehouseOut:{warehouseName:"待检仓",warehouseCode:"QC0001",warehouseType:"一般部门仓"},warehouseIn:null,warehouseOutParams:{warehouseType:"一般部门仓"},warehouseInParams:{warehouseType:"一般部门仓,个人仓,加工车间仓"},orderParams:{whCode:"FG0001"},DuplicateBoms:[],UniqueBom:[],bom:{},bomPopShow:!1,modifyBomTdqty:[]}},methods:{selWarehouseOut:function(e){this.warehouseOut=JSON.parse(e),this.orderParams=(0,b.default)({},this.orderParams,{whCode:this.warehouseOut.warehouseCode}),this.orderList={}},selWarehouseIn:function(e){this.warehouseIn=JSON.parse(e)},checkAmt:function(e){var t=e.qualityQty,a=void 0===t?0:t,n=e.tdQty,r=void 0===n?0:n,i=e.qtyStock,o=void 0===i?0:i,s=e.qtyBal,l=void 0===s?0:s,d=Math.min(o,l);a&&(a=Math.min(d,a),e.qualityQty=Math.abs((0,oe.toFixed)(a)),this.$set(e,"differenceNum",(0,ie.accSub)(a,r))),r&&(r=Math.min(d,r),e.tdQty=Math.abs((0,oe.toFixed)(r)),this.$set(e,"differenceNum",(0,ie.accSub)(a,r)))},checkBom:function(e,t,a){this.bom=e,this.modifyIndex=t,this.modifyKey=a,this.bomPopShow=!0,this.modifyBomTdqty=JSON.parse((0,_.default)(e.boms))},getMatterModify:function(e,t,a){this.matter=JSON.parse((0,_.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a,this.modifyBomTdqty=[].concat((0,C.default)(e.boms))},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t),this.reBuildUniqueBom(t)},selOrder:function(e){var t=this,a=JSON.parse(e),n={},r=[],i=[];a.forEach(function(e){var a=e.transCode+"_"+e.orderCode+"_"+e.inventoryCode,o=Math.min(e.qtyStock||0,e.qtyBal||0),s=t.numMap[a]||{},l=s.tdQty,d=void 0===l?o:l,u=s.boms,c=s.qualityQty,f=void 0===c?o:c,h=s.shippingTime,m=void 0===h?(0,R.default)(e.shippingTime,"YYYY-MM-DD"):h;e.tdQty=d,e.shippingTime=m,e.qualityQty=f,e.differenceNum=(0,ie.accSub)(f,d),r.push((0,B.getJGRKBom)({parentInvCode:e.inventoryCode}).then(function(a){var n=a.tableContent,r=void 0===n?[]:n;r.forEach(function(a){var n=t.calcBom(e.differenceNum,a);a.qualityQty=n,a.demandQty=n});var o=t.mergeSingleBom(r),s=t.oneToMul(e,r);t.$set(e,"boms",o),t.$set(e,"assembleBoms",s),i=[].concat((0,C.default)(i),(0,C.default)(r))})),n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n,v.default.all(r).then(function(e){t.DuplicateBoms=i,t.mergeBomList()})},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},findIndex:function(e,t){return e.findIndex(function(e){return e.orderCode===t.orderCode&&e.transCode===t.transCode&&e.inventoryCode===t.inventoryCode})},delClick:function(e,t,a){var n=this.selItems,r=this.findIndex(n,t);if(-1!==r)return void n.splice(r,1);n.push(t)},showSelIcon:function(e){return-1!==this.findIndex(this.selItems,e)},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,_.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,h.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.orderCode===a.orderCode&&t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],r=e.findIndex(n,t);r>=0&&(e.$refs.order.delSelItem(n[r]),n.splice(r,1)),n.length||delete e.orderList[t.transCode]}})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,r=(0,c.default)((0,d.default)(this.orderList));!(e=(n=r.next()).done);e=!0){var i=n.value,o=!0,s=!1,l=void 0;try{for(var u,f=(0,c.default)(i);!(o=(u=f.next()).done);o=!0){var h=u.value;this.numMap[h.transCode+"_"+h.orderCode+"_"+h.inventoryCode]=(0,b.default)({},h)}}catch(e){s=!0,l=e}finally{try{!o&&f.return&&f.return()}finally{if(s)throw l}}}}catch(e){t=!0,a=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="";if([{key:"warehouseIn",message:"入库仓库"}].every(function(a){return!!e[a.key]||(t="请选择"+a.message,!1)}),t||(0,h.default)(this.orderList).length||(t="请选择物料"),!t){var a=!0,n=!1,r=void 0;try{for(var i,o=(0,c.default)((0,d.default)(this.orderList));!(a=(i=o.next()).done);a=!0){var l=i.value,u=!0,f=!1,m=void 0;try{for(var v,p=(0,c.default)(l);!(u=(v=p.next()).done);u=!0)if(!v.value.qualityQty){t="请填写本次入库数量";break}}catch(e){f=!0,m=e}finally{try{!u&&p.return&&p.return()}finally{if(f)throw m}}if(t)break}}catch(e){n=!0,r=e}finally{try{!a&&o.return&&o.return()}finally{if(n)throw r}}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=[],a=E.saveAndStartWf,n={},r=(0,s.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""}),i=!0,o=!1,l=void 0;try{for(var u,f=(0,c.default)((0,d.default)(e.orderList));!(i=(u=f.next()).done);i=!0){var h=u.value,m=!0,v=!1,p=void 0;try{for(var C,y=(0,c.default)(h);!(m=(C=y.next()).done);m=!0){var g=C.value;!function(e){var a=e.boms.reduce(function(t,a){return t.push({tdId:a.tdId||null,transMatchedCode:e.transCode,qualityQty:a.qualityQty,bomSpecificLoss:a.specificLoss,tdProcessing:a.processing,inventoryName:a.inventoryName,demandQty:a.demandQty,transObjCode:a.inventoryCode,measureUnit:a.measureUnit,bomType:a.bomType,bomQty:a.qty,parentInventoryCode:a.parentInventoryCode}),t},[]),n={tdId:e.tdId||null,transMatchedCode:e.transCode,orderCode:e.orderCode,inventoryName_transObjCode:e.inventoryName,transObjCode:e.inventoryCode,tdProcessing:e.processing,measureUnit_transObjCode:e.measureUnit,thenTotalQtyBal:e.productDemandQty,thenQtyStock:e.qtyStock,thenLockQty:e.stockQty,thenQtyBal:e.qtyBal,qualityQty:e.qualityQty,tdQty:e.tdQty,differenceNum:e.differenceNum,shippingTime:e.shippingTime,skinFee:e.skinFee,wages:e.wages,comment:e.comment||"",boms:a};t.push(n)}(g)}}catch(e){v=!0,p=e}finally{try{!m&&y.return&&y.return()}finally{if(v)throw p}}}}catch(e){o=!0,l=e}finally{try{!i&&f.return&&f.return()}finally{if(o)throw l}}n=(0,b.default)({},e.formData,{modifer:e.transCode?e.formData.handler:"",handlerEntity:e.entity.dealerName,order:{containerCodeOut:e.warehouseOut.warehouseCode,containerCode:e.warehouseIn.warehouseCode,dataSet:t},outPut:{dataSet:outPutDataSet},containerOutWarehouseManager:e.warehouseOut.manager||null,containerInWarehouseManager:e.warehouseIn.manager||null}),e.transCode&&(a=E.saveAndCommitTask,r={businessKey:e.transCode,createdBy:n.creator||n.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var w={listId:e.listId,biComment:"",formData:(0,_.default)(n),wfPara:(0,_.default)(r)};e.processCode.length||(a=E.submitAndCalc,delete w.wfPara),e.transCode&&(w.biReferenceId=e.biReferenceId),e.saveData(a,w)}})},getFormData:function(){var e=this;return(0,j.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,s=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=s;var l={},d=i.order,u=i.outPut,f=d.dataSet,h=void 0===f?[]:f,m=u.dataSet,v=void 0===m?[]:m,p=!0,C=!1,y=void 0;try{for(var _,g=(0,c.default)(h);!(p=(_=g.next()).done);p=!0){var w=_.value;w=(0,b.default)({},w,{transCode:w.transMatchedCode,measureUnit:w.measureUnit_transObjCode,qtyBal:w.thenQtyBal,qtyStock:w.thenQtyStock,inventoryPic:w.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+w.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:w.inventoryName_transObjCode,inventoryCode:w.transObjCode,specification:w.specification_transObjCode,processing:w.tdProcessing}),l[w.transCode]||(l[w.transCode]=[]),l[w.transCode].push(w)}}catch(e){C=!0,y=e}finally{try{!p&&g.return&&g.return()}finally{if(C)throw y}}v.forEach(function(e){e.inventoryName=e.inventoryName_outPutMatCode,e.inventoryCode=e.outPutMatCode,e.measureUnit=e.measureUnit_outPutMatCode,e.processing=e.tdProcessing}),e.warehouseOut={warehouseName:d.warehouseName_containerCodeOut,warehouseType:d.warehouseType_containerCodeOut,warehouseCode:d.containerCodeOut,manager:i.containerOutWarehouseManager},e.warehouseIn={warehouseName:d.warehouseName_containerCode,warehouseType:d.warehouseType_containerCode,warehouseCode:d.containerCode,manager:i.containerInWarehouseManager},e.matterList=h,e.handlerDefault={handler:i.handler,handlerName:i.handlerName,handlerUnit:i.handlerUnit,handlerUnitName:i.handlerUnitName,handlerRole:i.handlerRole,handlerRoleName:i.handlerRoleName},e.formData=(0,b.default)({},e.formData,e.handlerDefault,{biComment:i.biComment,biId:i.biId,biProcessStatus:i.biProcessStatus,creator:i.creator,modifer:i.modifer}),e.biReferenceId=i.biReferenceId,e.orderList=l,e.orderParams=(0,b.default)({},e.orderParams,{whCode:e.warehouseOut.warehouseCode}),e.$loading.hide()})},hasDraftData:function(){return!!(0,d.default)(this.orderList).length&&(0,s.default)({},"NBJGRK_DATA",{orderList:this.orderList,formData:this.formData,warehouseIn:this.warehouseIn,warehouseOut:this.warehouseOut})},mergeSingleBom:function(e){return e.reduce(function(e,t){var a=e.find(function(e){return e.inventoryCode===t.inventoryCode});return a?(a.demandQty=(0,ie.accAdd)(a.demandQty,t.demandQty),a.qualityQty=(0,ie.accAdd)(a.qualityQty,t.qualityQty)):e.push(t),e},[])},oneToMul:function(e,t){var a=this,n=e.inventoryCode,r=JSON.parse((0,_.default)(t)),i=r.filter(function(e){return e.parentInventoryCode===n});return i&&i.length&&i.forEach(function(e){e.child=a.oneToMul(e,t)}),i||[]},mulToOne:function(e){var t=this,a=e;return e.reduce(function(e,n){return n.child&&(a=[].concat((0,C.default)(a),(0,C.default)(t.mulToOne(n.child)))),e},[]),a},getStock:function(e){var t=this,a=this.UniqueBom.find(function(t){return t.inventoryCode===e.inventoryCode}),n=(0,ie.accSub)(a.thenTotalQtyStock,a.thenQtyBalCopy1),r=(0,d.default)(this.orderList).reduce(function(e,t){return[].concat((0,C.default)(e),(0,C.default)(t))},[]),i=r.reduce(function(e,a){var n=t.mulToOne(a.assembleBoms);return a.boms=n,[].concat((0,C.default)(e),(0,C.default)(n))},[]),o=i.reduce(function(e,t){var n=0;return t.inventoryCode===a.inventoryCode&&(n=t.qualityQty),(0,ie.accAdd)(e,n)},0);return n<0?0:(0,ie.accSub)(n,o)},reBuildUniqueBom:function(e){var t=this,a=0,n=function e(n,r){n.map(function(n,i){var o=0,s=0;parseFloat(r)?(o=t.calcBom(r,n),n.demandQty=o,"原料"===n.processing?n.qualityQty=o:(s=t.getStock(n,o),n.qualityQty=s?o>s?s:o:0,a=(0,ie.accSub)(o,n.qualityQty))):(n.demandQty=0,n.qualityQty=0,a=0),n.child&&n.child.length&&e(n.child,a)})},r=(0,d.default)(this.orderList).reduce(function(e,t){return[].concat((0,C.default)(e),(0,C.default)(t))},[]),i=r.reduce(function(e,a){n(a.assembleBoms,a.differenceNum);var r=t.mulToOne(a.assembleBoms);return a.boms=t.mergeSingleBom(r),[].concat((0,C.default)(e),(0,C.default)(r))},[]);console.log(i),i=this.mergeSingleBom(i),this.UniqueBom.forEach(function(e){var t=i.find(function(t){return t.inventoryCode===e.inventoryCode});e.demandQty=t.demandQty,e.tdQty=t.qualityQty})},mergeBomList:function(){var e=this,t=[],a=JSON.parse((0,_.default)(this.DuplicateBoms)),n=a.reduce(function(e,a){var n=e.find(function(e){return e.inventoryCode===a.inventoryCode});return n?n.tdQty=(0,ie.accAdd)(n.tdQty,a.qualityQty):(!a.thenTotalQtyStock&&0!==a.thenTotalQtyStock&&t.push((0,B.getInProcessingStorageSumSource)({inventoryCode:a.inventoryCode}).then(function(e){var t=e.tableContent,n=void 0===t?[]:t,r=(0,i.default)(n,1),o=r[0],s=void 0===o?{}:o;a.thenQtyBalCopy1=s.qtyBal||0,a.thenTotalQtyStock=s.thenTotalQtyStock||0})),a.tdQty=a.qualityQty,e.push(a)),e},[]);v.default.all(t).then(function(){e.UniqueBom=n})},calcBom:function(e,t){return(0,ie.accMul)(e,t.qty,1+t.specificLoss)}},created:function(){var e=sessionStorage.getItem("NBJGRK_DATA");if(e){var t=JSON.parse(e);this.orderList=t.orderList,this.formData=t.formData,this.warehouseOut=t.warehouseOut,this.warehouseIn=t.warehouseIn,this.orderParams=(0,b.default)({},this.orderParams,{whCode:this.warehouseOut.warehouseCode}),sessionStorage.removeItem("NBJGRK_DATA")}}}},K0B3:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages xmlx-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList,"status-data":e.currentStage,requiredField:"nickname",processStatus:e.formData.biProcessStatus},on:{"sel-item":e.selItem},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},e._l(e.otherConfig,function(t,n){return a("div",{key:n,class:{"vux-1px-t":n>0}},[t.readOnly?[a("div",{staticClass:"each_property"},[a("label",{class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))]),e._v(" "),a("span",{staticClass:"property_val"},[e._v(e._s(e.jobLog[t.fieldCode]))])])]:["projectTaskName"===t.fieldCode?[a("pop-job-list",{staticClass:"vux-1px-t",attrs:{requestParams:t.requestParams,defaultValue:e.defaultJob},on:{"sel-item":e.selJob}})]:["r2Combo"===t.xtype?a("r-picker",{attrs:{title:t.fieldLabel,data:t.remoteData,value:e.jobLog[t.fieldCode],required:!t.allowBlank},model:{value:e.jobLog[t.fieldCode],callback:function(a){e.$set(e.jobLog,t.fieldCode,a)},expression:"jobLog[item.fieldCode]"}}):e._e(),e._v(" "),"r2Textfield"===t.xtype?a("div",{staticClass:"each_property"},[a("label",{class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.jobLog[t.fieldCode],expression:"jobLog[item.fieldCode]"}],staticClass:"property_val",attrs:{type:"text",placeholder:"请输入"},domProps:{value:e.jobLog[t.fieldCode]},on:{focus:function(t){e.getFocus(t)},input:function(a){a.target.composing||e.$set(e.jobLog,t.fieldCode,a.target.value)}}})]):e._e(),e._v(" "),"r2Numberfield"===t.xtype?a("div",{staticClass:"each_property"},[a("label",{class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.jobLog[t.fieldCode],expression:"jobLog[item.fieldCode]",modifiers:{number:!0}}],staticClass:"property_val",attrs:{type:"number",placeholder:"请输入"},domProps:{value:e.jobLog[t.fieldCode]},on:{focus:function(t){e.getFocus(t)},blur:[function(a){e.checkAmt(e.jobLog,t.fieldCode,e.jobLog[t.fieldCode])},function(t){e.$forceUpdate()}],input:function(a){a.target.composing||e.$set(e.jobLog,t.fieldCode,e._n(a.target.value))}}})]):e._e(),e._v(" "),"r2Datefield"===t.xtype?a("div",{staticClass:"each_property",on:{click:function(a){e.getDate(e.jobLog,t)}}},[a("label",{class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))]),e._v(" "),a("div",{staticClass:"picker"},[a("span",{staticClass:"mater_nature"},[e._v(e._s(e.jobLog[t.fieldCode]||"请选择"))]),e._v(" "),a("span",{staticClass:"icon-right"})])]):e._e(),e._v(" "),"r2TextArea"===t.xtype?a("x-textarea",{attrs:{placeholder:"请输入"},model:{value:e.jobLog[t.fieldCode],callback:function(a){e.$set(e.jobLog,t.fieldCode,a)},expression:"jobLog[item.fieldCode]"}},[a("template",{slot:"label"},[a("span",{class:{required:!t.allowBlank},staticStyle:{display:"block",width:"4em"}},[e._v(e._s(t.fieldLabel))])])],2):e._e()]]],2)}),0),e._v(" "),a("div",{staticClass:"comment"},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("op-button",{attrs:{hide:e.btnIsHide},on:{"on-submit":e.save}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},K0z5:function(e,t,a){"use strict";function n(e){a("JyCx")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("vtaQ");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("m557"),s=a.n(o),l=a("k/ET"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-0f7349b1",null);t.default=c.exports},K2RO:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("iR2W"),i=n(r),o=a("kNGm"),s=n(o),l=a("Qg39");t.default={name:"materListItem",props:{item:{type:Object,default:function(){return{}}},noCount:{type:Boolean,default:!1},noPrice:{type:Boolean,default:!1},noQty:{type:Boolean,default:!1},isDealer:{type:Boolean,default:!0},isMoreDealer:{type:Boolean,default:!1}},filters:{toFixed:l.toFixed,dateFormat:s.default,numberComma:i.default},computed:{istransCodeBottom:function(){return this.item.dealerName&&(this.item.warehouseName_containerCode||this.item.warehouseName_containerCodeOut)},isWarehouse:function(){return this.item.warehouseName_containerCode||this.item.warehouseName_containerCodeOut},isDealerWarehouse:function(){return!this.item.dealerName&&!(this.item.warehouseName_containerCode||this.item.warehouseName_containerCodeOut)}},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t}}}},K798:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("IHPB"),i=n(r),o=a("3cXf"),s=n(o),l=a("HXPS"),d=n(l),u=a("7g+Q"),c=n(u),f=a("6q39"),h=n(f),m=a("L6VY"),v=n(m),p=a("+62G"),C=n(p),y=a("7biW"),_=n(y),g=a("vHT0"),b=(n(g),a("jLp1")),w=a("1KNX"),I=n(w);t.default={name:"PopNameList",props:{defaultValue:{type:Object,default:function(){return{}}}},directives:{TransferDom:C.default},components:{Icon:d.default,Popup:c.default,DSearch:_.default,LoadMore:h.default,RScroll:I.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},dealerList:[],bScroll:null,limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},isChoice:!0}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:function(e){this.selItems=JSON.parse((0,s.default)(this.defaultValue))}},filters:{handlerDate:function(e){return e.split(" ")[0]}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},showSelIcon:function(e){return this.selItems.PROJECT_NAME===e.PROJECT_NAME},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.$emit("sel-item",(0,s.default)(this.selItems))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getDealer:function(){var e=this,t=[],a={limit:this.limit,page:this.page,start:(this.page-1)*this.limit};this.srhInpTx&&(t=[].concat((0,i.default)(t),[{operator:"like",value:this.srhInpTx,property:"PROJECT_NAME"}]),a.filter=(0,s.default)(t)),(0,b.getProjectApproval)(a).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,o=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+o.length,e.dealerList=1===e.page?o:[].concat((0,i.default)(e.dealerList),(0,i.default)(o)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})}).catch(function(e){v.default.show({content:e.message})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.dealerList=[],this.page=1,this.hasNext=!0,this.getDealer()},onPullingUp:function(){this.page++,this.getDealer()},itemClick:function(){this.showPop=!0}},created:function(){this.selItems=JSON.parse((0,s.default)(this.defaultValue)),this.$route.query.relationKey&&(this.isChoice=!1),this.getDealer()}}},K7WK:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"icon",props:{type:String,isMsg:Boolean},computed:{className:function(){return"weui-icon weui_icon_"+this.type+" weui-icon-"+this.type.replace(/_/g,"-")}}}},K9WW:function(e,t){},KADJ:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages comment-list-container",class:{"has-emotion":e.showEmotion}},[a("r-scroll",{ref:"bScroll",staticClass:"comment-list-wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.commentList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.commentList,function(t,n){return a("comment-item",{key:n,attrs:{item:t,"no-border":n===e.commentList.length-1},on:{"on-reply":e.onReply,"on-praise-success":e.onPraiseSuccess}},e._l(t.allReply,function(t,n){return a("comment-item",{key:n,attrs:{slot:"reply",item:t,"no-border":""},on:{"on-reply":e.onReply,"on-praise-success":e.onPraiseSuccess},slot:"reply"})}),1)}),1),e._v(" "),a("div",{staticClass:"send-container",class:{focus:e.focusInput}},[a("i",{ref:"emotionIcon",staticClass:"icon-emotion",on:{click:function(t){e.showEmotion=!e.showEmotion}}}),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.comment,expression:"comment"}],ref:"commentValue",staticClass:"comment-value",attrs:{type:"text",placeholder:e.placeholder},domProps:{value:e.comment},on:{focusin:e.commentFocusIn,focusout:e.commentFocusOut,input:function(t){t.target.composing||(e.comment=t.target.value)}}}),e._v(" "),a("span",{staticClass:"btn-send",on:{click:function(t){return t.stopPropagation(),e.saveComment(t)}}},[e._v("发送")])]),e._v(" "),a("r-emotion",{ref:"emotion",attrs:{show:e.showEmotion},on:{"on-select":e.emotionSelected}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},KAaN:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"other_comment vux-1px-t"},[a("div",{staticClass:"title"},[a("span",[e._v("评论")]),e._v(" "),a("span",{staticClass:"more",on:{click:e.goCommentList}},[e._v("发表评论")])]),e._v(" "),e.commentList.length?a("div",{staticClass:"comment_list"},e._l(e.commentList,function(t,n){return n<5?a("div",{key:n,staticClass:"each_comment",on:{click:e.goCommentList}},[a("div",{staticClass:"user_photo"},[a("img",{attrs:{src:t.photo},on:{error:function(a){e.getUserDefault(t)}}})]),e._v(" "),a("div",{staticClass:"comment_content vux-1px-b"},[a("div",{staticClass:"user_info"},[a("div",[a("span",{staticClass:"user_name"},[e._v(e._s(t.creatorName))]),e._v(" "),a("span",{staticClass:"comment_time"},[e._v(e._s(e._f("handleCrt")(t.crtTime)))])]),e._v(" "),a("div",{staticClass:"handler",on:{click:function(a){a.stopPropagation(),e.savePraise(t)}}},[t.praiseNum?a("span",{staticClass:"praise-num"},[e._v(e._s(t.praiseNum))]):e._e(),e._v(" "),a("span",{staticClass:"iconfont icon-L2",class:{praise:!t.isPraise}})])]),e._v(" "),a("div",{staticClass:"comment-container"},[a("div",{staticClass:"comment",domProps:{innerHTML:e._s(e.handleComment(t))}}),e._v(" "),t.commentAttachments.length?a("div",{staticClass:"comment-image"},[e._l(t.commentAttachments,function(t,n){return t.isImg?a("img",{key:n,staticClass:"comment-image-item",attrs:{src:t.attachment},on:{click:function(a){a.stopPropagation(),e.scaleImg(t)}}}):e._e()}),e._v(" "),e._l(t.commentAttachments,function(t,n){return t.isImg?e._e():a("div",{key:n,staticClass:"each_file",on:{click:function(a){a.stopPropagation(),e.checkFile(t.attachment)}}},[e._v("附件"+e._s(n+1)+": "+e._s(t.name))])})],2):e._e()])])]):e._e()}),0):a("div",{staticClass:"no_data"},[e._v("暂无评论")])])},r=[],i={render:n,staticRenderFns:r};t.a=i},KBQR:function(e,t){},KDMX:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,i=a("a3Yh"),o=n(i),s=a("ZLEe"),l=n(s),d=a("3cXf"),u=n(d),c=a("KH7x"),f=n(c),h=a("4YfN"),m=n(h),v=a("MgeX"),p=n(v),C=a("HzJ8"),y=n(C),_=a("PzEQ"),g=n(_),b=a("u28h"),w=n(b),I=a("kNGm"),D=n(I),x=a("BGNQ"),P=n(x),S=a("SAzG"),k=n(S),L=a("z5TY"),N=n(L),M=a("0AQX"),T=a("I3vJ"),A=a("HyXB"),O=a("bKg5"),R=n(O),j=a("y8YJ"),B=n(j),E=a("9cRV"),F=n(E),U=a("Pb67"),$=n(U),H=a("yt3/"),V=n(H),q=a("luHD"),Q=n(q),Y=a("CKaN"),X=n(Y),G=a("hLfv"),W=n(G),z=a("VZtf"),K=n(z),J=a("vl8n"),Z=n(J),ee=a("+WR7"),te=n(ee),ae=a("fCs9"),ne=n(ae),re=a("lsbD"),ie=n(re),oe=a("Q67R"),se=n(oe),le=a("zWMP"),de=a("Qg39");t.default={name:"ApplyDZYHPCGYSYZFForm",data:function(){return{orderList:{},showDealerPop:!1,dealerInfo:{},contactInfo:{},formData:{biId:"",biComment:""},submitSuccess:!1,taxRate:.16,numMap:{},transCode:"",formViewUniqueId:"fed81800-4c34-44a9-b517-c3fd9f2ab57d",biReferenceId:"",actions:[],taskId:"",showMaterielPop:!1,tmpItems:{},matter:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,filterList:[{name:"物料名称",value:"inventoryName"},{name:"采购订单号",value:"transCode"}],cashInfo:{},cashParams:{fundType:"银行存款"},consumables:{},checkFieldList:[{key:"tdQty",message:"请填写数量"}],selItems:{}}},computed:{consumableList:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var r,i=(0,y.default)((0,p.default)(this.orderList));!(t=(r=i.next()).done);t=!0){var o=r.value,s=!0,l=!1,d=void 0;try{for(var u,c=(0,y.default)(o);!(s=(u=c.next()).done);s=!0){var f=u.value;e.push(f)}}catch(e){l=!0,d=e}finally{try{!s&&c.return&&c.return()}finally{if(l)throw d}}}}catch(e){a=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(a)throw n}}return e},checkList:function(){return[].concat.apply([],(0,p.default)(this.selItems))}},watch:{consumables:{handler:function(e){this.simpleCalcMatter(e)},deep:!0},consumableList:{handler:function(e){var t=0,a=0,n=!0,r=!1,i=void 0;try{for(var o,s=(0,y.default)(e);!(n=(o=s.next()).done);n=!0){var l=o.value;this.simpleCalcMatter(l),t=(0,de.toFixed)((0,le.accAdd)(t,l.tdAmount)),a=(0,de.toFixed)((0,le.accAdd)(a,l.taxAmount))}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}this.tdAmount=t,this.taxAmount=a},deep:!0}},mixins:[R.default],components:{XTextarea:g.default,Datetime:w.default,PopOrderList:$.default,RNumber:K.default,XInput:k.default,Group:N.default,PopDealerList:B.default,PopMatterList:F.default,PopSingleSelect:V.default,PopMatter:Q.default,RPicker:Z.default,PopBaseinfo:te.default,Cell:P.default,RDropdown:ne.default,PopCashList:X.default,DealerOtherPart:W.default,OpButton:ie.default,ApplyMatterPart:se.default},methods:(r={selItem:function(e){this.formData=(0,m.default)({},this.formData,e),null!=this.matterParams.data.groupId&&(this.matterParams.data.groupId=e.handlerUnit)},selDealer:function(e){var t=JSON.parse(e),a=(0,f.default)(t,1),n=a[0],r=n.pamentDays,i=r?(0,D.default)(Date.now()+(0,le.accMul)(r,864e5),"YYYY-MM-DD"):"";this.dealerInfo=(0,m.default)({},n,{dealerName_dealerCodeCredit:n.dealerName,accountExpirationDate:i,crDealerPaymentTerm:n.paymentTerm,daysOfAccount:n.pamentDays}),this.matterParams.data&&null!=this.matterParams.data.dealerCode&&(console.log("触发了"),this.matterParams.data.dealerCode=this.dealerInfo.dealerCode,this.orderList={})},selContact:function(e){this.contactInfo=(0,m.default)({},e)},getMatterModify:function(e,t,a){this.consumables=JSON.parse((0,u.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selMatter:function(e){var t=this,a=JSON.parse(e),n=JSON.parse((0,u.default)(this.orderList));a.forEach(function(e){var a=e.transCode?e.transCode:"noCode";e.tdQty=e.qtyBal||"",e.taxRate=t.taxRate,e.transCode?(n[a]||(n[a]=[]),n[a].push(e)):(n.noCode||(n.noCode=[]),n.noCode.push(e))}),this.orderList=n},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t)},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t}},(0,o.default)(r,"getMatterModify",function(e,t,a){this.consumables=JSON.parse((0,u.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a}),(0,o.default)(r,"showDelete",function(){this.matterModifyClass=!this.matterModifyClass,this.selItems={}}),(0,o.default)(r,"delClick",function(e,t,a){if(this.selItems[a]){var n=this.selItems[a],r=n.findIndex(function(e){return e===t});if(-1!==r)return n.splice(r,1),void(n.length||delete this.selItems[a]);n.push(t)}else this.$set(this.selItems,a,[t])}),(0,o.default)(r,"showSelIcon",function(e,t){return this.selItems[e.transCode]&&this.selItems[e.transCode].length&&-1!==this.selItems[e.transCode].findIndex(function(e){return e===t})}),(0,o.default)(r,"checkAll",function(){if(this.checkList.length===this.consumableList.length)return void(this.selItems={});var e={};for(var t in this.orderList)this.orderList[t].foeEach(function(t,a){e[t.transCode]||(e[t.transCode]=[]),e[t.transCode].push(a)});this.selItems=e}),(0,o.default)(r,"deleteCheckd",function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){for(var t in e.selItems){var a;!function(t){a=e.selItems[t].map(function(e,t){return e-t}),a.forEach(function(a,n){e.orderList[t].splice(a,1),e.orderList[t].length||delete e.orderList[t]})}(t)}e.selItems={},e.matterModifyClass=!1}})}),(0,o.default)(r,"addMatter",function(){this.showMaterielPop=!this.showMaterielPop}),(0,o.default)(r,"submitOrder",function(){var e=this,t="",a=[],n=(this.isSubmitOk,this.dealerInfo),r=this.dealerConfig;if(!(t=this.verifyData(r,n))){var i=(0,f.default)(this.submitMatterField,1),s=i[0],d=void 0===s?{}:s;(0,l.default)(this.orderList).length||(t="请选择"+d.text);var c=!0,h=!1,v=void 0;try{for(var C,_=(0,y.default)((0,p.default)(this.orderList));!(c=(C=_.next()).done);c=!0){var g=C.value,b=!0,w=!1,I=void 0;try{for(var D,x=(0,y.default)(g);!(b=(D=x.next()).done);b=!0){var P=D.value,S={},k=!0,L=!1,N=void 0;try{for(var M,T=(0,y.default)(this.submitMatterField);!(k=(M=T.next()).done);k=!0){var O=M.value,R=P[O.fieldCode]||P[O.displayField]||P[O.showFieldCode];if(O.text){if(!O.hidden&&!O.allowBlank&&!R&&void 0!==R){t=O.text+"不为空";break}S[O.fieldCode]=void 0!==R?R:""}}}catch(e){L=!0,N=e}finally{try{!k&&T.return&&T.return()}finally{if(L)throw N}}a.push(S)}}catch(e){w=!0,I=e}finally{try{!b&&x.return&&x.return()}finally{if(w)throw I}}}}catch(e){h=!0,v=e}finally{try{!c&&_.return&&_.return()}finally{if(h)throw v}}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=A.saveAndStartWf,n={},r=(0,o.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});n=(0,m.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",dealerCreditContactPersonName:e.contactInfo.dealerName||"",dealerCreditContactInformation:e.contactInfo.dealerMobilePhone||"",containerInWarehouseManager:null,inPut:{dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName||"供应商",crDealerPaymentTerm:e.dealerInfo.paymentTerm,daysOfAccount:e.dealerInfo.pamentDays,accountExpirationDate:e.dealerInfo.accountExpirationDate,containerCode:"",dataSet:a},outPut:{crDealerLabel:e.dealerInfo.dealerLabelName||"供应商",dataSet:[{fundName_cashOutCode:e.cashInfo.fundName||"",cashOutCode:e.cashInfo.fundCode||"",cashType_cashOutCode:e.cashInfo.fundType||"",thenAmntBalCopy1:e.cashInfo.amntBal||0,tdAmountCopy1:e.tdAmount}]}}),e.transCode&&(t=A.saveAndCommitTask,r={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,u.default)(n),wfPara:(0,u.default)(r)};e.transCode||delete i.biReferenceId,e.processCode.length||(t=A.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})}),(0,o.default)(r,"getFormData",function(){var e=this;return(0,M.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,s=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=s;var l=i.inPut,d=(i.dealerDebit,i.outPut),u=l.dataSet,c=void 0===u?[]:u,f={},h=!0,v=!1,p=void 0;try{for(var C,_=(0,y.default)(c);!(h=(C=_.next()).done);h=!0){var g=C.value;g=(0,m.default)({},g,{transCode:g.transMatchedCode,inventoryPic:g.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+g.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:g.inventoryName_transObjCode,inventoryCode:g.transObjCode,specification:g.specification_transObjCode,processing:g.tdProcessing,keepingDays:g.keepingDays_transObjCode,qtyed:g.thenLockQty,qtyBal:g.thenQtyBal,qty:g.thenTotalQtyBal}),e.getMoreUnit(g),f[g.transCode]||(f[g.transCode]=[]),f[g.transCode].push(g)}}catch(e){v=!0,p=e}finally{try{!h&&_.return&&_.return()}finally{if(v)throw p}}e.dealerInfo=(0,m.default)({},l,{creatorName:i.dealerCreditContactPersonName,dealerName:l.dealerName_dealerCodeCredit,dealerMobilePhone:i.dealerCreditContactInformation,dealerCode:l.dealerCodeCredit,dealerLabelName:l.crDealerLabel,province:l.province_dealerCodeCredit,city:l.city_dealerCodeCredit,county:l.county_dealerCodeCredit,address:l.address_dealerCodeCredit,paymentTerm:l.crDealerPaymentTerm,pamentDays:l.daysOfAccount,accountExpirationDate:l.accountExpirationDate||""});var b=!0,w=!1,I=void 0;try{for(var D,x=(0,y.default)(d.dataSet);!(b=(D=x.next()).done);b=!0){var P=D.value;e.cashInfo={fundName:P.fundName_cashOutCode,fundCode:P.cashOutCode,fundType:P.cashType_cashOutCode,amntBal:P.thenAmntBalCopy1}}}catch(e){w=!0,I=e}finally{try{!b&&x.return&&x.return()}finally{if(w)throw I}}e.contactInfo={dealerName:i.dealerCreditContactPersonName,dealerMobilePhone:i.dealerCreditContactInformation},e.handlerDefault={handler:i.handler,handlerName:i.handlerName,handlerUnit:i.handlerUnit,handlerUnitName:i.handlerUnitName,handlerRole:i.handlerRole,handlerRoleName:i.handlerRoleName},e.formData=(0,m.default)({},e.formData,e.handlerDefault,{creator:i.creator,biId:i.biId,biComment:i.biComment}),e.matterParams.data&&null!=e.matterParams.data.dealerCode&&(e.matterParams.data.dealerCode=e.dealerInfo.dealerCode),e.matterParams.data&&null!=e.matterParams.data.groupId&&(e.matterParams.data.groupId=e.formData.handlerUnit),e.biReferenceId=i.biReferenceId,e.orderList=f,e.$loading.hide()})}),(0,o.default)(r,"hasDraftData",function(){return!!this.consumableList.length&&(0,o.default)({},"DZYHPCGYSYZF_DATA",{matter:this.orderList,dealer:this.dealerInfo,formData:this.formData,contactInfo:this.contactInfo,cashInfo:this.cashInfo})}),(0,o.default)(r,"getRelationData",function(){var e=this,t=this.$route.query.uniqueId;return(0,M.getSOList)({formViewUniqueId:t,transCode:this.relationKey}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r;t.attachment;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var s=i.order,l=(i.dealerDebit,s.dataSet),d=void 0===l?[]:l;d=d.map(function(t){return(0,m.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,transCode:e.relationKey,qtyBal:t.tdQty,tdQty:""})}),e.dealerInfo={creatorName:i.dealerDebitContactPersonName,dealerMobilePhone:i.dealerDebitContactInformation,dealerCode:i.order.dealerDebit,dealerSubclass:i.order.drAccountSub,dealerName:i.order.dealerName_dealerDebit,province:i.order.province_dealerDebit,city:i.order.city_dealerDebit,county:i.order.county_dealerDebit,address:i.order.address_dealerDebit},e.orderList=(0,o.default)({},e.relationKey,d),e.$loading.hide()})}),(0,o.default)(r,"getMoreUnit",function(e){var t=e.inventoryCode;return(0,T.getObjInvMoreUnitByInvCode)(t).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;e.showDrop=!1,n.forEach(function(e){e.name=e.invSubUnitName,e.value=e.invSubUnitName}),e.moreUnitList=n})}),(0,o.default)(r,"moreUnitClick",function(e){e.showDrop=!e.showDrop}),(0,o.default)(r,"moreUnitSelected",function(e){this.consumables.assMeasureUnit=e.invSubUnitName,this.consumables.assistQty=e.invSubUnitMulti}),(0,o.default)(r,"selCash",function(e){this.cashInfo=e}),(0,o.default)(r,"assembleOrder",function(e){var t=this,a={};e.forEach(function(e){a[e.transCode]||(a[e.transCode]=[]),t.getMoreUnit(e),a[e.transCode].push(e)}),this.orderList=a}),r),created:function(){var e=sessionStorage.getItem("DZYHPCGYSYZF_DATA");if(e){var t=JSON.parse(e);this.orderList=t.matter,this.dealerInfo=t.dealer,this.formData=t.formData,this.contactInfo=t.contactInfo,this.cashInfo=t.cashInfo,this.matterParams.data&&null!=this.matterParams.data.dealerCode&&(this.matterParams.data.dealerCode=this.dealerInfo.dealerCode),this.matterParams.data&&null!=this.matterParams.data.groupId&&(this.matterParams.data.groupId=this.formData.handlerUnit),sessionStorage.removeItem("DZYHPCGYSYZF_DATA")}}}},KEY0:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("lC5x"),s=n(o),l=a("J0Oq"),d=n(l),u=a("ZLEe"),c=n(u),f=a("3cXf"),h=n(f),m=a("HzJ8"),v=n(m),p=a("+62G"),C=n(p),y=a("Nk/b"),_=n(y),g=a("7g+Q"),b=n(g),w=a("z5TY"),I=n(w),D=a("wDjS"),x=n(D),P=a("KFOb"),S=n(P),k=a("HXPS"),L=n(k),N=a("BGNQ"),M=n(N),T=a("u28h"),A=n(T),O=a("HyXB"),R=a("h+4q"),j=a("Pkp+"),B=n(j),E=a("1KNX"),F=n(E),U=a("PKHo"),$=n(U),H=a("5gKc"),V=n(H),q=a("XgMd"),Q=n(q),Y=a("BwHg"),X=n(Y);t.default={data:function(){return{listId:"64a41c48-4e8d-4709-bd01-5d60ad6bc625",addressData:S.default,transCode:"",picShow:!1,showPop:!1,imgFileObj:{},biReferenceId:"",MatPic:"",AccountAddress:[],baseinfo:{},warehouse:{warehouseCode:"",warehouseName:"",warehouseType:"",warehousePic:"",staffDealerCode:null,groupCode:null,customerDealerCode:null,processorsDealerCode:"",channelDealerCode:null,warehouseCondtions:"",warehouseProvince:"",warehouseCity:"",warehouseDistrict:"",warehouseAddress:"",warehouseStatus:""},submitSuccess:!1,typeSub:"groupCode",typeSubValue:"",typeToSubMap:{"配送中心仓":"groupCode","加工商仓":"processorsDealerCode","加工车间仓":"groupCode","客户仓":"customerDealerCode","渠道商仓":"channelDealerCode","个人仓":"staffDealerCode","一般部门仓":"groupCode"},warehouseConfig:[],warehouseDuplicateConfig:[],warehouseDuplicateData:{},currentGroup:"",statusType:[],warehouseStatus:"使用中",showAddress:!1,scrollOptions:{click:!0},uniqueId:"",hasDefault:!1}},computed:{warehouseType:function(){return this.warehouse.warehouseType},warehouseRel:function(){return this.warehouseDuplicateData.warehouseRel},warehouseCondtions:function(){return this.warehouse.warehouseCondtions}},directives:{TransferDom:C.default},mixins:[$.default],components:{Picker:_.default,Popup:b.default,Group:I.default,RPicker:B.default,XAddress:x.default,Icon:L.default,UploadImage:V.default,PopWarelabeList:Q.default,RScroll:F.default,Cell:M.default,Datetime:A.default,duplicateComponent:X.default},watch:{warehouseType:{handler:function(e){this.typeSub=this.typeToSubMap[e]||"noMatched";var t=!0,a=!1,n=void 0;try{for(var r,i=(0,v.default)(this.warehouseConfig);!(t=(r=i.next()).done);t=!0){var o=r.value;o.fieldCode===this.typeSub?o.hiddenInRun=!1:"staffDealerCode"!==o.fieldCode&&"groupCode"!==o.fieldCode&&"customerDealerCode"!==o.fieldCode&&"customerDealerCode"!==o.fieldCode&&"processorsDealerCode"!==o.fieldCode&&"channelDealerCode"!==o.fieldCode||(o.hiddenInRun=!0)}}catch(e){a=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(a)throw n}}"库位"===this.warehouseType?delete this.warehouseDuplicateData.warehouseRel:"库位"===this.warehouseType||this.warehouseDuplicateData.warehouseRel||this.$set(this.warehouseDuplicateData,"warehouseRel",[]);var s=!0,l=!1,d=void 0;try{for(var u,c=(0,v.default)(this.warehouseDuplicateConfig);!(s=(u=c.next()).done);s=!0){var f=u.value;if(console.log(f),"库位"===f.title){f.hiddenInRun="库位"===this.warehouseType;break}}}catch(e){l=!0,d=e}finally{try{!s&&c.return&&c.return()}finally{if(l)throw d}}},immediate:!0},warehouseRel:{handler:function(e){var t=this;this.hasDefault||e&&e.length&&e.forEach(function(e){if(e.childWarehouseName){var a=!0,n=!1,r=void 0;try{for(var i,o=(0,v.default)(t.warehouseDuplicateConfig);!(a=(i=o.next()).done);a=!0){var s=i.value;if("warehouseRel"===s.name){var l=!0,d=!1,u=void 0;try{for(var c,f=(0,v.default)(s.items);!(l=(c=f.next()).done);l=!0){var h=c.value;if("childWarehouseName"===h.fieldCode){var m=!0,p=!1,C=void 0;try{for(var y,_=(0,v.default)(h.remoteData);!(m=(y=_.next()).done);m=!0){var g=y.value;if(g.warehosueName===e.childWarehouseName){e.childWarehouseCode=g.warehouseCode;break}}}catch(e){p=!0,C=e}finally{try{!m&&_.return&&_.return()}finally{if(p)throw C}}break}}}catch(e){d=!0,u=e}finally{try{!l&&f.return&&f.return()}finally{if(d)throw u}}break}break}}catch(e){n=!0,r=e}finally{try{!a&&o.return&&o.return()}finally{if(n)throw r}}}})},deep:!0},warehouseCondtions:function(e){var t=this;if(e){var a="",n=!0,r=!1,i=void 0;try{for(var o,s=(0,v.default)(this.warehouseConfig);!(n=(o=s.next()).done);n=!0){var l=o.value;if("break"===function(n){if("warehouseCondtions"===n.fieldCode){var r=!0,i=!1,o=void 0;try{for(var s,l=(0,v.default)(n.remoteData);!(r=(s=l.next()).done);r=!0){var d=s.value;if(d.name===e){a=d.id;break}}}catch(e){i=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw o}}}else if("warehouseTemperatureRange"===n.fieldCode)return void 0!==n.requestParams.data.parentId&&(n.requestParams.data.parentId=a),(0,O.requestData)(n.requestParams).then(function(e){var a=e.tableContent,r=void 0===a?[]:a;r.length&&r.forEach(function(e){e.name=e[n.displayField],e.value=e[n.displayField]}),n.remoteData=r,t.warehouse.warehouseTemperatureRange=r.length?r[0].name:""}),"break"}(l))break}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}}}},methods:{onUpload:function(e){this.warehouse.warehousePic=e.src},findData:function(){var e=this;return(0,R.getwarehouseInfo)(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a;t.attachment;e.warehouseDuplicateConfig.forEach(function(t){n[t.name].length&&(e.warehouseDuplicateData[t.name]=n[t.name])});var r=n.baseinfo,i=void 0===r?{}:r,o=n.warehouse,s=void 0===o?{}:o;switch(e.hasDefault=!0,s.warehouseStatus){case 1:e.warehouseStatus="使用中";break;case 2:e.warehouseStatus="未使用";break;case 0:e.warehouseStatus="草稿";break;case-1:e.warehouseStatus="停用"}e.baseinfo=i,e.warehouse=s,e.biReferenceId=e.warehouse.referenceId,e.warehouse.warehousePic?(e.picShow=!0,e.MatPic="/H_roleplay-si/ds/download?url="+e.warehouse.warehousePic+"&width=400&height=400"):(e.picShow=!0,e.getDefaultImg()),e.AccountAddress=[e.warehouse.warehouseProvince,e.warehouse.warehouseCity,e.warehouse.warehouseDistrict]})},getDefaultImg:function(){this.MatPic=a("CRKs")},changeAddress:function(e,t){this.AccountAddress=t},getAddress:function(){if(this.AccountAddress.length>0){if(this.warehouse.warehouseProvince=this.AccountAddress[0],this.warehouse.warehouseDistrict=this.AccountAddress[2],"市辖区"===this.AccountAddress[1])return void(this.warehouse.warehouseCity="");this.warehouse.warehouseCity=this.AccountAddress[1]}},submit:function(){var e=this;for(var t in this.warehouse)"string"==typeof this.warehouse[t]&&this.warehouse[t].indexOf(" ")>=0&&(this.warehouse[t]=this.warehouse[t].replace(/\s/g,""));this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){switch(e.warehouseStatus){case"使用中":e.warehouse.warehouseStatus=1;break;case"未使用":e.warehouse.warehouseStatus=2;break;case"草稿":e.warehouse.warehouseStatus=0;break;case"停用":e.warehouse.warehouseStatus=-1}e.warehouse.status&&delete e.warehouse.status;var t=R.save,a={listId:e.listId,formData:{baseinfo:e.baseinfo,warehouse:e.warehouse}};e.transCode&&(t=R.update),e.warehouseDuplicateConfig.length&&e.warehouseDuplicateConfig.forEach(function(t){e.warehouseDuplicateData[t.name]&&e.warehouseDuplicateData[t.name].length&&(a.formData[t.name]=e.warehouseDuplicateData[t.name])}),t(a).then(function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a.success,r=void 0!==n&&n,i=a.message,o=void 0===i?"提交失败":i;r&&(o=t===R.update?"修改成功":"提交成功",e.submitSuccess=!0,e.transCode||""+e.$route.query.add!="1"||sessionStorage.setItem("EDIT_WAREHOUSE_TRANSCODE",(0,h.default)({transCode:a.transCode}))),e.$vux.alert.show({content:o,onHide:function(){r&&e.$router.go(-1)}})})}})},save:function(){var e=this,t="";if([{key:"warehouseCode",message:"【仓库编码】"},{key:"warehouseName",message:"【仓库名称】"},{key:"warehouseType",message:"【仓库类型】"}].every(function(a){return""!==e.warehouse[a.key]||(t=a.message+"不能为空",!1)}),!t&&(0,c.default)(this.warehouseDuplicateData).length&&(0,c.default)(this.warehouseDuplicateData).forEach(function(a){if(e.warehouseDuplicateData[a].length<=0)return!1;e.warehouseDuplicateConfig.forEach(function(n){n.name===a&&n.items.forEach(function(n){e.warehouseDuplicateData[a].forEach(function(e){if(!n.allowBlank&&!e[n.fieldCode])return t=n.text+"不能为空",!1})})})}),t)return void this.$vux.alert.show({content:t});this.submit()},selGroup:function(e){this.warehouse[this.typeSub]=e,this.typeSubMap[this.typeSub].value=e},handlerParams:function(e){var t=this,a=e.dataSource.data.url,n=e.dataSource.data.params,r=(0,c.default)(n),i={url:a};if(r.length){var o={};r.forEach(function(e){o[e]="text"===n[e].type?n[e].value:""}),i.data=o}e.requestParams=i,(0,O.requestData)(i).then(function(a){a.tableContent?(a.tableContent.forEach(function(t){t.name=t[e.displayField],t.value=t[e.displayField]}),"warehouseType"===e.fieldCode&&(t.$route.query.transCode||(t.warehouse.warehouseType=t.$route.query.warehouseType?t.$route.query.warehouseType:"")),t.$set(e,"remoteData",a.tableContent)):(a.forEach(function(t){t.name=t[e.displayField],t.value=t[e.displayField]}),t.$set(e,"remoteData",a))})},getFormViewsInfo:function(){var e=this;return(0,d.default)(s.default.mark(function t(){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,O.getFormViews)(e.listId).then(function(t){var a=!0,n=!1,r=void 0;try{for(var i,o=(0,v.default)(t);!(a=(i=o.next()).done);a=!0){var s=i.value;e.transCode&&"revise"===s.viewType?e.uniqueId=s.uniqueId:e.transCode||"submit"!==s.viewType||(e.uniqueId=s.uniqueId)}}catch(e){n=!0,r=e}finally{try{!a&&o.return&&o.return()}finally{if(n)throw r}}});case 2:return t.next=4,(0,O.getFormConfig)(e.uniqueId).then(function(t){var a=t.config,n=void 0===a?[]:a;console.log(n);var r=[],i=[];n.forEach(function(e){e.isMultiple?e.hiddenInRun||"r2Fileupload"===e.xtype||i.push(JSON.parse((0,h.default)(e))):r=JSON.parse((0,h.default)(e.items))}),r.forEach(function(t){"warehouseProvince"!==t.fieldCode&&"warehouseCity"!==t.fieldCode&&"warehouseDistrict"!==t.fieldCode&&("r2Combo"===t.xtype&&t.dataSource&&"remoteData"===t.dataSource.type?e.handlerParams(t):"r2Combo"===t.xtype&&t.dataSource&&"staticData"===t.dataSource.type&&e.$set(t,"remoteData",t.dataSource.data)),"warehousePic"!==t.fieldCode&&"warehouseCity"!==t.fieldCode&&"warehouseDistrict"!==t.fieldCode&&e.warehouseConfig.push(t),"groupCode"===t.fieldCode||"customerDealerCode"===t.fieldCode||"customerDealerCode"===t.fieldCode||"processorsDealerCode"===t.fieldCode||"channelDealerCode"===t.fieldCode?t.hiddenInRun=!0:"staffDealerCode"===t.fieldCode&&(t.hiddenInRun=!1)}),i.forEach(function(t){switch(t.name){case"warehouseRel":t.title="库位"}var a=[];t.items.forEach(function(t,n){t.hidden||("r2Combo"!==t.editorType&&"r2Selector"!==t.editorType||!t.dataSource||"remoteData"!==t.dataSource.type||e.handlerParams(t),a.push(t))}),t.items=a,e.$set(e.warehouseDuplicateData,t.name,[]),"库位"===e.warehouseType&&"库位"===t.title&&(t.hiddenInRun=!0)}),e.warehouseDuplicateConfig=i,e.transCode||e.$loading.hide()});case 4:case"end":return t.stop()}},t,e)}))()}},beforeRouteLeave:function(e,t,a){var n=e.path;this.submitSuccess&&"/warehouse"===n&&(e.meta.reload=!0),a()},created:function(){var e=this;this.$loading.show();var t=this.$route.query;if(t.transCode)return this.transCode=t.transCode,this.isClearData=!1,void(0,d.default)(s.default.mark(function t(){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getFormViewsInfo();case 2:return t.next=4,e.findData().then(function(){e.$loading.hide()});case 4:e.hasDefault=!1;case 5:case"end":return t.stop()}},t,e)}))();this.getFormViewsInfo(),(0,O.getBaseInfoDataBase)().then(function(t){e.baseinfo=(0,i.default)({},e.baseinfo,t)}),this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},beforeRouteEnter:function(e,t,a){e.meta.title="新增仓库",e.query.transCode&&(e.meta.title="编辑仓库"),a()}}},KFOb:function(e,t){e.exports=[{name:"北京市",value:"110000"},{name:"天津市",value:"120000"},{name:"河北省",value:"130000"},{name:"山西省",value:"140000"},{name:"内蒙古自治区",value:"150000"},{name:"辽宁省",value:"210000"},{name:"吉林省",value:"220000"},{name:"黑龙江省",value:"230000"},{name:"上海市",value:"310000"},{name:"江苏省",value:"320000"},{name:"浙江省",value:"330000"},{name:"安徽省",value:"340000"},{name:"福建省",value:"350000"},{name:"江西省",value:"360000"},{name:"山东省",value:"370000"},{name:"河南省",value:"410000"},{name:"湖北省",value:"420000"},{name:"湖南省",value:"430000"},{name:"广东省",value:"440000"},{name:"广西壮族自治区",value:"450000"},{name:"海南省",value:"460000"},{name:"重庆市",value:"500000"},{name:"四川省",value:"510000"},{name:"贵州省",value:"520000"},{name:"云南省",value:"530000"},{name:"西藏自治区",value:"540000"},{name:"陕西省",value:"610000"},{name:"甘肃省",value:"620000"},{name:"青海省",value:"630000"},{name:"宁夏回族自治区",value:"640000"},{name:"新疆维吾尔自治区",value:"650000"},{name:"市辖区",value:"110100",parent:"110000"},{name:"东城区",value:"110101",parent:"110100"},{name:"西城区",value:"110102",parent:"110100"},{name:"朝阳区",value:"110105",parent:"110100"},{name:"丰台区",value:"110106",parent:"110100"},{name:"石景山区",value:"110107",parent:"110100"},{name:"海淀区",value:"110108",parent:"110100"},{name:"门头沟区",value:"110109",parent:"110100"},{name:"房山区",value:"110111",parent:"110100"},{name:"通州区",value:"110112",parent:"110100"},{name:"顺义区",value:"110113",parent:"110100"},{name:"昌平区",value:"110114",parent:"110100"},{name:"大兴区",value:"110115",parent:"110100"},{name:"怀柔区",value:"110116",parent:"110100"},{name:"平谷区",value:"110117",parent:"110100"},{name:"密云区",value:"110118",parent:"110100"},{name:"延庆区",value:"110119",parent:"110100"},{name:"市辖区",value:"120100",parent:"120000"},{name:"和平区",value:"120101",parent:"120100"},{name:"河东区",value:"120102",parent:"120100"},{name:"河西区",value:"120103",parent:"120100"},{name:"南开区",value:"120104",parent:"120100"},{name:"河北区",value:"120105",parent:"120100"},{name:"红桥区",value:"120106",parent:"120100"},{name:"东丽区",value:"120110",parent:"120100"},{name:"西青区",value:"120111",parent:"120100"},{name:"津南区",value:"120112",parent:"120100"},{name:"北辰区",value:"120113",parent:"120100"},{name:"武清区",value:"120114",parent:"120100"},{name:"宝坻区",value:"120115",parent:"120100"},{name:"滨海新区",value:"120116",parent:"120100"},{name:"宁河区",value:"120117",parent:"120100"},{name:"静海区",value:"120118",parent:"120100"},{name:"蓟州区",value:"120119",parent:"120100"},{name:"石家庄市",value:"130100",parent:"130000"},{name:"唐山市",value:"130200",parent:"130000"},{name:"秦皇岛市",value:"130300",parent:"130000"},{name:"邯郸市",value:"130400",parent:"130000"},{name:"邢台市",value:"130500",parent:"130000"},{name:"保定市",value:"130600",parent:"130000"},{name:"张家口市",value:"130700",parent:"130000"},{name:"承德市",value:"130800",parent:"130000"},{name:"沧州市",value:"130900",parent:"130000"},{name:"廊坊市",value:"131000",parent:"130000"},{name:"衡水市",value:"131100",parent:"130000"},{name:"定州市",value:"139001",parent:"130000"},{name:"辛集市",value:"139002",parent:"130000"},{name:"长安区",value:"130102",parent:"130100"},{name:"桥西区",value:"130104",parent:"130100"},{name:"新华区",value:"130105",parent:"130100"},{name:"井陉矿区",value:"130107",parent:"130100"},{name:"裕华区",value:"130108",parent:"130100"},{name:"藁城区",value:"130109",parent:"130100"},{name:"鹿泉区",value:"130110",parent:"130100"},{name:"栾城区",value:"130111",parent:"130100"},{name:"井陉县",value:"130121",parent:"130100"},{name:"正定县",value:"130123",parent:"130100"},{name:"行唐县",value:"130125",parent:"130100"},{name:"灵寿县",value:"130126",parent:"130100"},{name:"高邑县",value:"130127",parent:"130100"},{name:"深泽县",value:"130128",parent:"130100"},{name:"赞皇县",value:"130129",parent:"130100"},{name:"无极县",value:"130130",parent:"130100"},{name:"平山县",value:"130131",parent:"130100"},{name:"元氏县",value:"130132",parent:"130100"},{name:"赵县",value:"130133",parent:"130100"},{name:"晋州市",value:"130183",parent:"130100"},{name:"新乐市",value:"130184",parent:"130100"},{name:"路南区",value:"130202",parent:"130200"},{name:"路北区",value:"130203",parent:"130200"},{name:"古冶区",value:"130204",parent:"130200"},{name:"开平区",value:"130205",parent:"130200"},{name:"丰南区",value:"130207",parent:"130200"},{name:"丰润区",value:"130208",parent:"130200"},{name:"曹妃甸区",value:"130209",parent:"130200"},{name:"滦县",value:"130223",parent:"130200"},{name:"滦南县",value:"130224",parent:"130200"},{name:"乐亭县",value:"130225",parent:"130200"},{name:"迁西县",value:"130227",parent:"130200"},{name:"玉田县",value:"130229",parent:"130200"},{name:"遵化市",value:"130281",parent:"130200"},{name:"迁安市",value:"130283",parent:"130200"},{name:"海港区",value:"130302",parent:"130300"},{name:"山海关区",value:"130303",parent:"130300"},{name:"北戴河区",value:"130304",parent:"130300"},{name:"抚宁区",value:"130306",parent:"130300"},{name:"青龙满族自治县",value:"130321",parent:"130300"},{name:"昌黎县",value:"130322",parent:"130300"},{name:"卢龙县",value:"130324",parent:"130300"},{name:"邯山区",value:"130402",parent:"130400"},{name:"丛台区",value:"130403",parent:"130400"},{name:"复兴区",value:"130404",parent:"130400"},{name:"峰峰矿区",value:"130406",parent:"130400"},{name:"邯郸县",value:"130421",parent:"130400"},{name:"临漳县",value:"130423",parent:"130400"},{name:"成安县",value:"130424",parent:"130400"},{name:"大名县",value:"130425",parent:"130400"},{name:"涉县",value:"130426",parent:"130400"},{name:"磁县",value:"130427",parent:"130400"},{name:"肥乡县",value:"130428",parent:"130400"},{name:"永年县",value:"130429",parent:"130400"},{name:"邱县",value:"130430",parent:"130400"},{name:"鸡泽县",value:"130431",parent:"130400"},{name:"广平县",value:"130432",parent:"130400"},{name:"馆陶县",value:"130433",parent:"130400"},{name:"魏县",value:"130434",parent:"130400"},{name:"曲周县",value:"130435",parent:"130400"},{name:"武安市",value:"130481",parent:"130400"},{name:"桥东区",value:"130502",parent:"130500"},{name:"桥西区",value:"130503",parent:"130500"},{name:"邢台县",value:"130521",parent:"130500"},{name:"临城县",value:"130522",parent:"130500"},{name:"内丘县",value:"130523",parent:"130500"},{name:"柏乡县",value:"130524",parent:"130500"},{name:"隆尧县",value:"130525",parent:"130500"},{name:"任县",value:"130526",parent:"130500"},{name:"南和县",value:"130527",parent:"130500"},{name:"宁晋县",value:"130528",parent:"130500"},{name:"巨鹿县",value:"130529",parent:"130500"},{name:"新河县",value:"130530",parent:"130500"},{name:"广宗县",value:"130531",parent:"130500"},{name:"平乡县",value:"130532",parent:"130500"},{name:"威县",value:"130533",parent:"130500"},{name:"清河县",value:"130534",parent:"130500"},{name:"临西县",value:"130535",parent:"130500"},{name:"南宫市",value:"130581",parent:"130500"},{name:"沙河市",value:"130582",parent:"130500"},{name:"竞秀区",value:"130602",parent:"130600"},{name:"莲池区",value:"130606",parent:"130600"},{name:"满城区",value:"130607",parent:"130600"},{name:"清苑区",value:"130608",parent:"130600"},{name:"徐水区",value:"130609",parent:"130600"},{name:"涞水县",value:"130623",parent:"130600"},{name:"阜平县",value:"130624",parent:"130600"},{name:"定兴县",value:"130626",parent:"130600"},{name:"唐县",value:"130627",parent:"130600"},{name:"高阳县",value:"130628",parent:"130600"},{name:"容城县",value:"130629",parent:"130600"},{name:"涞源县",value:"130630",parent:"130600"},{name:"望都县",value:"130631",parent:"130600"},{name:"安新县",value:"130632",parent:"130600"},{name:"易县",value:"130633",parent:"130600"},{name:"曲阳县",value:"130634",parent:"130600"},{name:"蠡县",value:"130635",parent:"130600"},{name:"顺平县",value:"130636",parent:"130600"},{name:"博野县",value:"130637",parent:"130600"},{name:"雄县",value:"130638",parent:"130600"},{name:"涿州市",value:"130681",parent:"130600"},{name:"安国市",value:"130683",parent:"130600"},{name:"高碑店市",value:"130684",parent:"130600"},{name:"桥东区",value:"130702",parent:"130700"},{name:"桥西区",value:"130703",parent:"130700"},{name:"宣化区",value:"130705",parent:"130700"},{name:"下花园区",value:"130706",parent:"130700"},{name:"万全区",value:"130708",parent:"130700"},{name:"崇礼区",value:"130709",parent:"130700"},{name:"张北县",value:"130722",parent:"130700"},{name:"康保县",value:"130723",parent:"130700"},{name:"沽源县",value:"130724",parent:"130700"},{name:"尚义县",value:"130725",parent:"130700"},{name:"蔚县",value:"130726",parent:"130700"},{name:"阳原县",value:"130727",parent:"130700"},{name:"怀安县",value:"130728",parent:"130700"},{name:"怀来县",value:"130730",parent:"130700"},{name:"涿鹿县",value:"130731",parent:"130700"},{name:"赤城县",value:"130732",parent:"130700"},{name:"双桥区",value:"130802",parent:"130800"},{name:"双滦区",value:"130803",parent:"130800"},{name:"鹰手营子矿区",value:"130804",parent:"130800"},{name:"承德县",value:"130821",parent:"130800"},{name:"兴隆县",value:"130822",parent:"130800"},{name:"平泉县",value:"130823",parent:"130800"},{name:"滦平县",value:"130824",parent:"130800"},{name:"隆化县",value:"130825",parent:"130800"},{name:"丰宁满族自治县",value:"130826",parent:"130800"},{name:"宽城满族自治县",value:"130827",parent:"130800"},{name:"围场满族蒙古族自治县",value:"130828",parent:"130800"},{name:"新华区",value:"130902",parent:"130900"},{name:"运河区",value:"130903",parent:"130900"},{name:"沧县",value:"130921",parent:"130900"},{name:"青县",value:"130922",parent:"130900"},{name:"东光县",value:"130923",parent:"130900"},{name:"海兴县",value:"130924",parent:"130900"},{name:"盐山县",value:"130925",parent:"130900"},{name:"肃宁县",value:"130926",parent:"130900"},{name:"南皮县",value:"130927",parent:"130900"},{name:"吴桥县",value:"130928",parent:"130900"},{name:"献县",value:"130929",parent:"130900"},{name:"孟村回族自治县",value:"130930",parent:"130900"},{name:"泊头市",value:"130981",parent:"130900"},{name:"任丘市",value:"130982",parent:"130900"},{name:"黄骅市",value:"130983",parent:"130900"},{name:"河间市",value:"130984",parent:"130900"},{name:"安次区",value:"131002",parent:"131000"},{name:"广阳区",value:"131003",parent:"131000"},{name:"固安县",value:"131022",parent:"131000"},{name:"永清县",value:"131023",parent:"131000"},{name:"香河县",value:"131024",parent:"131000"},{name:"大城县",value:"131025",parent:"131000"},{name:"文安县",value:"131026",parent:"131000"},{name:"大厂回族自治县",value:"131028",parent:"131000"},{name:"霸州市",value:"131081",parent:"131000"},{name:"三河市",value:"131082",parent:"131000"},{name:"桃城区",value:"131102",parent:"131100"},{name:"冀州区",value:"131103",parent:"131100"},{name:"枣强县",value:"131121",parent:"131100"},{name:"武邑县",value:"131122",parent:"131100"},{name:"武强县",value:"131123",parent:"131100"},{name:"饶阳县",value:"131124",parent:"131100"},{name:"安平县",value:"131125",parent:"131100"},{name:"故城县",value:"131126",parent:"131100"},{name:"景县",value:"131127",parent:"131100"},{name:"阜城县",value:"131128",parent:"131100"},{name:"深州市",value:"131182",parent:"131100"},{name:"太原市",value:"140100",parent:"140000"},{name:"大同市",value:"140200",parent:"140000"},{name:"阳泉市",value:"140300",parent:"140000"},{name:"长治市",value:"140400",parent:"140000"},{name:"晋城市",value:"140500",parent:"140000"},{name:"朔州市",value:"140600",parent:"140000"},{name:"晋中市",value:"140700",parent:"140000"},{name:"运城市",value:"140800",parent:"140000"},{name:"忻州市",value:"140900",parent:"140000"},{name:"临汾市",value:"141000",parent:"140000"},{name:"吕梁市",value:"141100",parent:"140000"},{name:"小店区",value:"140105",parent:"140100"},{name:"迎泽区",value:"140106",parent:"140100"},{name:"杏花岭区",value:"140107",parent:"140100"},{name:"尖草坪区",value:"140108",parent:"140100"},{name:"万柏林区",value:"140109",parent:"140100"},{name:"晋源区",value:"140110",parent:"140100"},{name:"清徐县",value:"140121",parent:"140100"},{name:"阳曲县",value:"140122",parent:"140100"},{name:"娄烦县",value:"140123",parent:"140100"},{name:"古交市",value:"140181",parent:"140100"},{name:"城区",value:"140202",parent:"140200"},{name:"矿区",value:"140203",parent:"140200"},{name:"南郊区",value:"140211",parent:"140200"},{name:"新荣区",value:"140212",parent:"140200"},{name:"阳高县",value:"140221",parent:"140200"},{name:"天镇县",value:"140222",parent:"140200"},{name:"广灵县",value:"140223",parent:"140200"},{name:"灵丘县",value:"140224",parent:"140200"},{name:"浑源县",value:"140225",parent:"140200"},{name:"左云县",value:"140226",parent:"140200"},{name:"大同县",value:"140227",parent:"140200"},{name:"城区",value:"140302",parent:"140300"},{name:"矿区",value:"140303",parent:"140300"},{name:"郊区",value:"140311",parent:"140300"},{name:"平定县",value:"140321",parent:"140300"},{name:"盂县",value:"140322",parent:"140300"},{name:"城区",value:"140402",parent:"140400"},{name:"郊区",value:"140411",parent:"140400"},{name:"长治县",value:"140421",parent:"140400"},{name:"襄垣县",value:"140423",parent:"140400"},{name:"屯留县",value:"140424",parent:"140400"},{name:"平顺县",value:"140425",parent:"140400"},{name:"黎城县",value:"140426",parent:"140400"},{name:"壶关县",value:"140427",parent:"140400"},{name:"长子县",value:"140428",parent:"140400"},{name:"武乡县",value:"140429",parent:"140400"},{name:"沁县",value:"140430",parent:"140400"},{name:"沁源县",value:"140431",parent:"140400"},{name:"潞城市",value:"140481",parent:"140400"},{name:"城区",value:"140502",parent:"140500"},{name:"沁水县",value:"140521",parent:"140500"},{name:"阳城县",value:"140522",parent:"140500"},{name:"陵川县",value:"140524",parent:"140500"},{name:"泽州县",value:"140525",parent:"140500"},{name:"高平市",value:"140581",parent:"140500"},{name:"朔城区",value:"140602",parent:"140600"},{name:"平鲁区",value:"140603",parent:"140600"},{name:"山阴县",value:"140621",parent:"140600"},{name:"应县",value:"140622",parent:"140600"},{name:"右玉县",value:"140623",parent:"140600"},{name:"怀仁县",value:"140624",parent:"140600"},{name:"榆次区",value:"140702",parent:"140700"},{name:"榆社县",value:"140721",parent:"140700"},{name:"左权县",value:"140722",parent:"140700"},{name:"和顺县",value:"140723",parent:"140700"},{name:"昔阳县",value:"140724",parent:"140700"},{name:"寿阳县",value:"140725",parent:"140700"},{name:"太谷县",value:"140726",parent:"140700"},{name:"祁县",value:"140727",parent:"140700"},{name:"平遥县",value:"140728",parent:"140700"},{name:"灵石县",value:"140729",parent:"140700"},{name:"介休市",value:"140781",parent:"140700"},{name:"盐湖区",value:"140802",parent:"140800"},{name:"临猗县",value:"140821",parent:"140800"},{name:"万荣县",value:"140822",parent:"140800"},{name:"闻喜县",value:"140823",parent:"140800"},{name:"稷山县",value:"140824",parent:"140800"},{name:"新绛县",value:"140825",parent:"140800"},{name:"绛县",value:"140826",parent:"140800"},{name:"垣曲县",value:"140827",parent:"140800"},{name:"夏县",value:"140828",parent:"140800"},{name:"平陆县",value:"140829",parent:"140800"},{name:"芮城县",value:"140830",parent:"140800"},{name:"永济市",value:"140881",parent:"140800"},{name:"河津市",value:"140882",parent:"140800"},{name:"忻府区",value:"140902",parent:"140900"},{name:"定襄县",value:"140921",parent:"140900"},{name:"五台县",value:"140922",parent:"140900"},{name:"代县",value:"140923",parent:"140900"},{name:"繁峙县",value:"140924",parent:"140900"},{name:"宁武县",value:"140925",parent:"140900"},{name:"静乐县",value:"140926",parent:"140900"},{name:"神池县",value:"140927",parent:"140900"},{name:"五寨县",value:"140928",parent:"140900"},{name:"岢岚县",value:"140929",parent:"140900"},{name:"河曲县",value:"140930",parent:"140900"},{name:"保德县",value:"140931",parent:"140900"},{name:"偏关县",value:"140932",parent:"140900"},{name:"原平市",value:"140981",parent:"140900"},{name:"尧都区",value:"141002",parent:"141000"},{name:"曲沃县",value:"141021",parent:"141000"},{name:"翼城县",value:"141022",parent:"141000"},{name:"襄汾县",value:"141023",parent:"141000"},{name:"洪洞县",value:"141024",parent:"141000"},{name:"古县",value:"141025",parent:"141000"},{name:"安泽县",value:"141026",parent:"141000"},{name:"浮山县",value:"141027",parent:"141000"},{name:"吉县",value:"141028",parent:"141000"},{name:"乡宁县",value:"141029",parent:"141000"},{name:"大宁县",value:"141030",parent:"141000"},{name:"隰县",value:"141031",parent:"141000"},{name:"永和县",value:"141032",parent:"141000"},{name:"蒲县",value:"141033",parent:"141000"},{name:"汾西县",value:"141034",parent:"141000"},{name:"侯马市",value:"141081",parent:"141000"},{name:"霍州市",value:"141082",parent:"141000"},{name:"离石区",value:"141102",parent:"141100"},{name:"文水县",value:"141121",parent:"141100"},{name:"交城县",value:"141122",parent:"141100"},{name:"兴县",value:"141123",parent:"141100"},{name:"临县",value:"141124",parent:"141100"},{name:"柳林县",value:"141125",parent:"141100"},{name:"石楼县",value:"141126",parent:"141100"},{name:"岚县",value:"141127",parent:"141100"},{name:"方山县",value:"141128",parent:"141100"},{name:"中阳县",value:"141129",parent:"141100"},{name:"交口县",value:"141130",parent:"141100"},{name:"孝义市",value:"141181",parent:"141100"},{name:"汾阳市",value:"141182",parent:"141100"},{name:"呼和浩特市",value:"150100",parent:"150000"},{name:"包头市",value:"150200",parent:"150000"},{name:"乌海市",value:"150300",parent:"150000"},{name:"赤峰市",value:"150400",parent:"150000"},{name:"通辽市",value:"150500",parent:"150000"},{name:"鄂尔多斯市",value:"150600",parent:"150000"},{name:"呼伦贝尔市",value:"150700",parent:"150000"},{name:"巴彦淖尔市",value:"150800",parent:"150000"},{name:"乌兰察布市",value:"150900",parent:"150000"},{name:"兴安盟",value:"152200",parent:"150000"},{name:"锡林郭勒盟",value:"152500",parent:"150000"},{name:"阿拉善盟",value:"152900",parent:"150000"},{name:"新城区",value:"150102",parent:"150100"},{name:"回民区",value:"150103",parent:"150100"},{name:"玉泉区",value:"150104",parent:"150100"},{name:"赛罕区",value:"150105",parent:"150100"},{name:"土默特左旗",value:"150121",parent:"150100"},{name:"托克托县",value:"150122",parent:"150100"},{name:"和林格尔县",value:"150123",parent:"150100"},{name:"清水河县",value:"150124",parent:"150100"},{name:"武川县",value:"150125",parent:"150100"},{name:"东河区",value:"150202",parent:"150200"},{name:"昆都仑区",value:"150203",parent:"150200"},{name:"青山区",value:"150204",parent:"150200"},{name:"石拐区",value:"150205",parent:"150200"},{name:"白云鄂博矿区",value:"150206",parent:"150200"},{name:"九原区",value:"150207",parent:"150200"},{name:"土默特右旗",value:"150221",parent:"150200"},{name:"固阳县",value:"150222",parent:"150200"},{name:"达尔罕茂明安联合旗",value:"150223",parent:"150200"},{name:"海勃湾区",value:"150302",parent:"150300"},{name:"海南区",value:"150303",parent:"150300"},{name:"乌达区",value:"150304",parent:"150300"},{name:"红山区",value:"150402",parent:"150400"},{name:"元宝山区",value:"150403",parent:"150400"},{name:"松山区",value:"150404",parent:"150400"},{name:"阿鲁科尔沁旗",value:"150421",parent:"150400"},{name:"巴林左旗",value:"150422",parent:"150400"},{name:"巴林右旗",value:"150423",parent:"150400"},{name:"林西县",value:"150424",parent:"150400"},{name:"克什克腾旗",value:"150425",parent:"150400"},{name:"翁牛特旗",value:"150426",parent:"150400"},{name:"喀喇沁旗",value:"150428",parent:"150400"},{name:"宁城县",value:"150429",parent:"150400"},{name:"敖汉旗",value:"150430",parent:"150400"},{name:"科尔沁区",value:"150502",parent:"150500"},{name:"科尔沁左翼中旗",value:"150521",parent:"150500"},{name:"科尔沁左翼后旗",value:"150522",parent:"150500"},{name:"开鲁县",value:"150523",parent:"150500"},{name:"库伦旗",value:"150524",parent:"150500"},{name:"奈曼旗",value:"150525",parent:"150500"},{name:"扎鲁特旗",value:"150526",parent:"150500"},{name:"霍林郭勒市",value:"150581",parent:"150500"},{name:"东胜区",value:"150602",parent:"150600"},{name:"康巴什区",value:"150603",parent:"150600"},{name:"达拉特旗",value:"150621",parent:"150600"},{name:"准格尔旗",value:"150622",parent:"150600"},{name:"鄂托克前旗",value:"150623",parent:"150600"},{name:"鄂托克旗",value:"150624",parent:"150600"},{name:"杭锦旗",value:"150625",parent:"150600"},{name:"乌审旗",value:"150626",parent:"150600"},{name:"伊金霍洛旗",value:"150627",parent:"150600"},{name:"海拉尔区",value:"150702",parent:"150700"},{name:"扎赉诺尔区",value:"150703",parent:"150700"},{name:"阿荣旗",value:"150721",parent:"150700"},{name:"莫力达瓦达斡尔族自治旗",value:"150722",parent:"150700"},{name:"鄂伦春自治旗",value:"150723",parent:"150700"},{name:"鄂温克族自治旗",value:"150724",parent:"150700"},{name:"陈巴尔虎旗",value:"150725",parent:"150700"},{name:"新巴尔虎左旗",value:"150726",parent:"150700"},{name:"新巴尔虎右旗",value:"150727",parent:"150700"},{name:"满洲里市",value:"150781",parent:"150700"},{name:"牙克石市",value:"150782",parent:"150700"},{name:"扎兰屯市",value:"150783",parent:"150700"},{name:"额尔古纳市",value:"150784",parent:"150700"},{name:"根河市",value:"150785",parent:"150700"},{name:"临河区",value:"150802",parent:"150800"},{name:"五原县",value:"150821",parent:"150800"},{name:"磴口县",value:"150822",parent:"150800"},{name:"乌拉特前旗",value:"150823",parent:"150800"},{name:"乌拉特中旗",value:"150824",parent:"150800"},{name:"乌拉特后旗",value:"150825",parent:"150800"},{name:"杭锦后旗",value:"150826",parent:"150800"},{name:"集宁区",value:"150902",parent:"150900"},{name:"卓资县",value:"150921",parent:"150900"},{name:"化德县",value:"150922",parent:"150900"},{name:"商都县",value:"150923",parent:"150900"},{name:"兴和县",value:"150924",parent:"150900"},{name:"凉城县",value:"150925",parent:"150900"},{name:"察哈尔右翼前旗",value:"150926",parent:"150900"},{name:"察哈尔右翼中旗",value:"150927",parent:"150900"},{name:"察哈尔右翼后旗",value:"150928",parent:"150900"},{name:"四子王旗",value:"150929",parent:"150900"},{name:"丰镇市",value:"150981",parent:"150900"},{name:"乌兰浩特市",value:"152201",parent:"152200"},{name:"阿尔山市",value:"152202",parent:"152200"},{name:"科尔沁右翼前旗",value:"152221",parent:"152200"},{name:"科尔沁右翼中旗",value:"152222",parent:"152200"},{name:"扎赉特旗",value:"152223",parent:"152200"},{name:"突泉县",value:"152224",parent:"152200"},{name:"二连浩特市",value:"152501",parent:"152500"},{name:"锡林浩特市",value:"152502",parent:"152500"},{name:"阿巴嘎旗",value:"152522",parent:"152500"},{name:"苏尼特左旗",value:"152523",parent:"152500"},{name:"苏尼特右旗",value:"152524",parent:"152500"},{name:"东乌珠穆沁旗",value:"152525",parent:"152500"},{name:"西乌珠穆沁旗",value:"152526",parent:"152500"},{name:"太仆寺旗",value:"152527",parent:"152500"},{name:"镶黄旗",value:"152528",parent:"152500"},{name:"正镶白旗",value:"152529",parent:"152500"},{name:"正蓝旗",value:"152530",parent:"152500"},{name:"多伦县",value:"152531",parent:"152500"},{name:"阿拉善左旗",value:"152921",parent:"152900"},{name:"阿拉善右旗",value:"152922",parent:"152900"},{name:"额济纳旗",value:"152923",parent:"152900"},{name:"沈阳市",value:"210100",parent:"210000"},{name:"大连市",value:"210200",parent:"210000"},{name:"鞍山市",value:"210300",parent:"210000"},{name:"抚顺市",value:"210400",parent:"210000"},{name:"本溪市",value:"210500",parent:"210000"},{name:"丹东市",value:"210600",parent:"210000"},{name:"锦州市",value:"210700",parent:"210000"},{name:"营口市",value:"210800",parent:"210000"},{name:"阜新市",value:"210900",parent:"210000"},{name:"辽阳市",value:"211000",parent:"210000"},{name:"盘锦市",value:"211100",parent:"210000"},{name:"铁岭市",value:"211200",parent:"210000"},{name:"朝阳市",value:"211300",parent:"210000"},{name:"葫芦岛市",value:"211400",parent:"210000"},{name:"和平区",value:"210102",parent:"210100"},{name:"沈河区",value:"210103",parent:"210100"},{name:"大东区",value:"210104",parent:"210100"},{name:"皇姑区",value:"210105",parent:"210100"},{name:"铁西区",value:"210106",parent:"210100"},{name:"苏家屯区",value:"210111",parent:"210100"},{name:"浑南区",value:"210112",parent:"210100"},{name:"沈北新区",value:"210113",parent:"210100"},{name:"于洪区",value:"210114",parent:"210100"},{name:"辽中区",value:"210115",parent:"210100"},{name:"康平县",value:"210123",parent:"210100"},{name:"法库县",value:"210124",parent:"210100"},{name:"新民市",value:"210181",parent:"210100"},{name:"中山区",value:"210202",parent:"210200"},{name:"西岗区",value:"210203",parent:"210200"},{name:"沙河口区",value:"210204",parent:"210200"},{name:"甘井子区",value:"210211",parent:"210200"},{name:"旅顺口区",value:"210212",parent:"210200"},{name:"金州区",value:"210213",parent:"210200"},{name:"普兰店区",value:"210214",parent:"210200"},{name:"长海县",value:"210224",parent:"210200"},{name:"瓦房店市",value:"210281",parent:"210200"},{name:"庄河市",value:"210283",parent:"210200"},{name:"铁东区",value:"210302",parent:"210300"},{name:"铁西区",value:"210303",parent:"210300"},{name:"立山区",value:"210304",parent:"210300"},{name:"千山区",value:"210311",parent:"210300"},{name:"台安县",value:"210321",parent:"210300"},{name:"岫岩满族自治县",value:"210323",parent:"210300"},{name:"海城市",value:"210381",parent:"210300"},{name:"新抚区",value:"210402",parent:"210400"},{name:"东洲区",value:"210403",parent:"210400"},{name:"望花区",value:"210404",parent:"210400"},{name:"顺城区",value:"210411",parent:"210400"},{name:"抚顺县",value:"210421",parent:"210400"},{name:"新宾满族自治县",value:"210422",parent:"210400"},{name:"清原满族自治县",value:"210423",parent:"210400"},{name:"平山区",value:"210502",parent:"210500"},{name:"溪湖区",value:"210503",parent:"210500"},{name:"明山区",value:"210504",parent:"210500"},{name:"南芬区",value:"210505",parent:"210500"},{name:"本溪满族自治县",value:"210521",parent:"210500"},{name:"桓仁满族自治县",value:"210522",parent:"210500"},{name:"元宝区",value:"210602",parent:"210600"},{name:"振兴区",value:"210603",parent:"210600"},{name:"振安区",value:"210604",parent:"210600"},{name:"宽甸满族自治县",value:"210624",parent:"210600"},{name:"东港市",value:"210681",parent:"210600"},{name:"凤城市",value:"210682",parent:"210600"},{name:"古塔区",value:"210702",parent:"210700"},{name:"凌河区",value:"210703",parent:"210700"},{name:"太和区",value:"210711",parent:"210700"},{name:"黑山县",value:"210726",parent:"210700"},{name:"义县",value:"210727",parent:"210700"},{name:"凌海市",value:"210781",parent:"210700"},{name:"北镇市",value:"210782",parent:"210700"},{name:"站前区",value:"210802",parent:"210800"},{name:"西市区",value:"210803",parent:"210800"},{name:"鲅鱼圈区",value:"210804",parent:"210800"},{name:"老边区",value:"210811",parent:"210800"},{name:"盖州市",value:"210881",parent:"210800"},{name:"大石桥市",value:"210882",parent:"210800"},{name:"海州区",value:"210902",parent:"210900"},{name:"新邱区",value:"210903",parent:"210900"},{name:"太平区",value:"210904",parent:"210900"},{name:"清河门区",value:"210905",parent:"210900"},{name:"细河区",value:"210911",parent:"210900"},{name:"阜新蒙古族自治县",value:"210921",parent:"210900"},{name:"彰武县",value:"210922",parent:"210900"},{name:"白塔区",value:"211002",parent:"211000"},{name:"文圣区",value:"211003",parent:"211000"},{name:"宏伟区",value:"211004",parent:"211000"},{name:"弓长岭区",value:"211005",parent:"211000"},{name:"太子河区",value:"211011",parent:"211000"},{name:"辽阳县",value:"211021",parent:"211000"},{name:"灯塔市",value:"211081",parent:"211000"},{name:"双台子区",value:"211102",parent:"211100"},{name:"兴隆台区",value:"211103",parent:"211100"},{name:"大洼区",value:"211104",parent:"211100"},{name:"盘山县",value:"211122",parent:"211100"},{name:"银州区",value:"211202",parent:"211200"},{name:"清河区",value:"211204",parent:"211200"},{name:"铁岭县",value:"211221",parent:"211200"},{name:"西丰县",value:"211223",parent:"211200"},{name:"昌图县",value:"211224",parent:"211200"},{name:"调兵山市",value:"211281",parent:"211200"},{name:"开原市",value:"211282",parent:"211200"},{name:"双塔区",value:"211302",parent:"211300"},{name:"龙城区",value:"211303",parent:"211300"},{name:"朝阳县",value:"211321",parent:"211300"},{name:"建平县",value:"211322",parent:"211300"},{name:"喀喇沁左翼蒙古族自治县",value:"211324",parent:"211300"},{name:"北票市",value:"211381",parent:"211300"},{name:"凌源市",value:"211382",parent:"211300"},{name:"连山区",value:"211402",parent:"211400"},{name:"龙港区",value:"211403",parent:"211400"},{name:"南票区",value:"211404",parent:"211400"},{name:"绥中县",value:"211421",parent:"211400"},{name:"建昌县",value:"211422",parent:"211400"},{name:"兴城市",value:"211481",parent:"211400"},{name:"长春市",value:"220100",parent:"220000"},{name:"吉林市",value:"220200",parent:"220000"},{name:"四平市",value:"220300",parent:"220000"},{name:"辽源市",value:"220400",parent:"220000"},{name:"通化市",value:"220500",parent:"220000"},{name:"白山市",value:"220600",parent:"220000"},{name:"松原市",value:"220700",parent:"220000"},{name:"白城市",value:"220800",parent:"220000"},{name:"延边朝鲜族自治州",value:"222400",parent:"220000"},{name:"南关区",value:"220102",parent:"220100"},{name:"宽城区",value:"220103",parent:"220100"},{name:"朝阳区",value:"220104",parent:"220100"},{name:"二道区",value:"220105",parent:"220100"},{name:"绿园区",value:"220106",parent:"220100"},{name:"双阳区",value:"220112",parent:"220100"},{name:"九台区",value:"220113",parent:"220100"},{name:"农安县",value:"220122",parent:"220100"},{name:"榆树市",value:"220182",parent:"220100"},{name:"德惠市",value:"220183",parent:"220100"},{name:"昌邑区",value:"220202",parent:"220200"},{name:"龙潭区",value:"220203",parent:"220200"},{name:"船营区",value:"220204",parent:"220200"},{name:"丰满区",value:"220211",parent:"220200"},{name:"永吉县",value:"220221",parent:"220200"},{name:"蛟河市",value:"220281",parent:"220200"},{name:"桦甸市",value:"220282",parent:"220200"},{name:"舒兰市",value:"220283",parent:"220200"},{name:"磐石市",value:"220284",parent:"220200"},{name:"铁西区",value:"220302",parent:"220300"},{name:"铁东区",value:"220303",parent:"220300"},{name:"梨树县",value:"220322",parent:"220300"},{name:"伊通满族自治县",value:"220323",parent:"220300"},{name:"公主岭市",value:"220381",parent:"220300"},{name:"双辽市",value:"220382",parent:"220300"},{name:"龙山区",value:"220402",parent:"220400"},{name:"西安区",value:"220403",parent:"220400"},{name:"东丰县",value:"220421",parent:"220400"},{name:"东辽县",value:"220422",parent:"220400"},{name:"东昌区",value:"220502",parent:"220500"},{name:"二道江区",value:"220503",parent:"220500"},{name:"通化县",value:"220521",parent:"220500"},{name:"辉南县",value:"220523",parent:"220500"},{name:"柳河县",value:"220524",parent:"220500"},{name:"梅河口市",value:"220581",parent:"220500"},{name:"集安市",value:"220582",parent:"220500"},{name:"浑江区",value:"220602",parent:"220600"},{name:"江源区",value:"220605",parent:"220600"},{name:"抚松县",value:"220621",parent:"220600"},{name:"靖宇县",value:"220622",parent:"220600"},{name:"长白朝鲜族自治县",value:"220623",parent:"220600"},{name:"临江市",value:"220681",parent:"220600"},{name:"宁江区",value:"220702",parent:"220700"},{name:"前郭尔罗斯蒙古族自治县",value:"220721",parent:"220700"},{name:"长岭县",value:"220722",parent:"220700"},{name:"乾安县",value:"220723",parent:"220700"},{name:"扶余市",value:"220781",parent:"220700"},{name:"洮北区",value:"220802",parent:"220800"},{name:"镇赉县",value:"220821",parent:"220800"},{name:"通榆县",value:"220822",parent:"220800"},{name:"洮南市",value:"220881",parent:"220800"},{name:"大安市",value:"220882",parent:"220800"},{name:"延吉市",value:"222401",parent:"222400"},{name:"图们市",value:"222402",parent:"222400"},{name:"敦化市",value:"222403",parent:"222400"},{name:"珲春市",value:"222404",parent:"222400"},{name:"龙井市",value:"222405",parent:"222400"},{name:"和龙市",value:"222406",parent:"222400"},{name:"汪清县",value:"222424",parent:"222400"},{name:"安图县",value:"222426",parent:"222400"},{name:"哈尔滨市",value:"230100",parent:"230000"},{name:"齐齐哈尔市",value:"230200",parent:"230000"},{name:"鸡西市",value:"230300",parent:"230000"},{name:"鹤岗市",value:"230400",parent:"230000"},{name:"双鸭山市",value:"230500",parent:"230000"},{name:"大庆市",value:"230600",parent:"230000"},{name:"伊春市",value:"230700",parent:"230000"},{name:"佳木斯市",value:"230800",parent:"230000"},{name:"七台河市",value:"230900",parent:"230000"},{name:"牡丹江市",value:"231000",parent:"230000"},{name:"黑河市",value:"231100",parent:"230000"},{name:"绥化市",value:"231200",parent:"230000"},{name:"大兴安岭地区",value:"232700",parent:"230000"},{name:"道里区",value:"230102",parent:"230100"},{name:"南岗区",value:"230103",parent:"230100"},{name:"道外区",value:"230104",parent:"230100"},{name:"平房区",value:"230108",parent:"230100"},{name:"松北区",value:"230109",parent:"230100"},{name:"香坊区",value:"230110",parent:"230100"},{name:"呼兰区",value:"230111",parent:"230100"},{name:"阿城区",value:"230112",parent:"230100"},{name:"双城区",value:"230113",parent:"230100"},{name:"依兰县",value:"230123",parent:"230100"},{name:"方正县",value:"230124",parent:"230100"},{name:"宾县",value:"230125",parent:"230100"},{name:"巴彦县",value:"230126",parent:"230100"},{name:"木兰县",value:"230127",parent:"230100"},{name:"通河县",value:"230128",parent:"230100"},{name:"延寿县",value:"230129",parent:"230100"},{name:"尚志市",value:"230183",parent:"230100"},{name:"五常市",value:"230184",parent:"230100"},{name:"龙沙区",value:"230202",parent:"230200"},{name:"建华区",value:"230203",parent:"230200"},{name:"铁锋区",value:"230204",parent:"230200"},{name:"昂昂溪区",value:"230205",parent:"230200"},{name:"富拉尔基区",value:"230206",parent:"230200"},{name:"碾子山区",value:"230207",parent:"230200"},{name:"梅里斯达斡尔族区",value:"230208",parent:"230200"},{name:"龙江县",value:"230221",parent:"230200"},{name:"依安县",value:"230223",parent:"230200"},{name:"泰来县",value:"230224",parent:"230200"},{name:"甘南县",value:"230225",parent:"230200"},{name:"富裕县",value:"230227",parent:"230200"},{name:"克山县",value:"230229",parent:"230200"},{name:"克东县",value:"230230",parent:"230200"},{name:"拜泉县",value:"230231",parent:"230200"},{name:"讷河市",value:"230281",parent:"230200"},{name:"鸡冠区",value:"230302",parent:"230300"},{name:"恒山区",value:"230303",parent:"230300"},{name:"滴道区",value:"230304",parent:"230300"},{name:"梨树区",value:"230305",parent:"230300"},{name:"城子河区",value:"230306",parent:"230300"},{name:"麻山区",value:"230307",parent:"230300"},{name:"鸡东县",value:"230321",parent:"230300"},{name:"虎林市",value:"230381",parent:"230300"},{name:"密山市",value:"230382",parent:"230300"},{name:"向阳区",value:"230402",parent:"230400"},{name:"工农区",value:"230403",parent:"230400"},{name:"南山区",value:"230404",parent:"230400"},{name:"兴安区",value:"230405",parent:"230400"},{name:"东山区",value:"230406",parent:"230400"},{name:"兴山区",value:"230407",parent:"230400"},{name:"萝北县",value:"230421",parent:"230400"},{name:"绥滨县",value:"230422",parent:"230400"},{name:"尖山区",value:"230502",parent:"230500"},{name:"岭东区",value:"230503",parent:"230500"},{name:"四方台区",value:"230505",parent:"230500"},{name:"宝山区",value:"230506",parent:"230500"},{name:"集贤县",value:"230521",parent:"230500"},{name:"友谊县",value:"230522",parent:"230500"},{name:"宝清县",value:"230523",parent:"230500"},{name:"饶河县",value:"230524",parent:"230500"},{name:"萨尔图区",value:"230602",parent:"230600"},{name:"龙凤区",value:"230603",parent:"230600"},{name:"让胡路区",value:"230604",parent:"230600"},{name:"红岗区",value:"230605",parent:"230600"},{name:"大同区",value:"230606",parent:"230600"},{name:"肇州县",value:"230621",parent:"230600"},{name:"肇源县",value:"230622",parent:"230600"},{name:"林甸县",value:"230623",parent:"230600"},{name:"杜尔伯特蒙古族自治县",value:"230624",parent:"230600"},{name:"伊春区",value:"230702",parent:"230700"},{name:"南岔区",value:"230703",parent:"230700"},{name:"友好区",value:"230704",parent:"230700"},{name:"西林区",value:"230705",parent:"230700"},{name:"翠峦区",value:"230706",parent:"230700"},{name:"新青区",value:"230707",parent:"230700"},{name:"美溪区",value:"230708",parent:"230700"},{name:"金山屯区",value:"230709",parent:"230700"},{name:"五营区",value:"230710",parent:"230700"},{name:"乌马河区",value:"230711",parent:"230700"},{name:"汤旺河区",value:"230712",parent:"230700"},{name:"带岭区",value:"230713",parent:"230700"},{name:"乌伊岭区",value:"230714",parent:"230700"},{name:"红星区",value:"230715",parent:"230700"},{name:"上甘岭区",value:"230716",parent:"230700"},{name:"嘉荫县",value:"230722",parent:"230700"},{name:"铁力市",value:"230781",parent:"230700"},{name:"向阳区",value:"230803",parent:"230800"},{name:"前进区",value:"230804",parent:"230800"},{name:"东风区",value:"230805",parent:"230800"},{name:"郊区",value:"230811",parent:"230800"},{name:"桦南县",value:"230822",parent:"230800"},{name:"桦川县",value:"230826",parent:"230800"},{name:"汤原县",value:"230828",parent:"230800"},{name:"同江市",value:"230881",parent:"230800"},{name:"富锦市",value:"230882",parent:"230800"},{name:"抚远市",value:"230883",parent:"230800"},{name:"新兴区",value:"230902",parent:"230900"},{name:"桃山区",value:"230903",parent:"230900"},{name:"茄子河区",value:"230904",parent:"230900"},{name:"勃利县",value:"230921",parent:"230900"},{name:"东安区",value:"231002",parent:"231000"},{name:"阳明区",value:"231003",parent:"231000"},{name:"爱民区",value:"231004",parent:"231000"},{name:"西安区",value:"231005",parent:"231000"},{name:"林口县",value:"231025",parent:"231000"},{name:"绥芬河市",value:"231081",parent:"231000"},{name:"海林市",value:"231083",parent:"231000"},{name:"宁安市",value:"231084",parent:"231000"},{name:"穆棱市",value:"231085",parent:"231000"},{name:"东宁市",value:"231086",parent:"231000"},{name:"爱辉区",value:"231102",parent:"231100"},{name:"嫩江县",value:"231121",parent:"231100"},{name:"逊克县",value:"231123",parent:"231100"},{name:"孙吴县",value:"231124",parent:"231100"},{name:"北安市",value:"231181",parent:"231100"},{name:"五大连池市",value:"231182",parent:"231100"},{name:"北林区",value:"231202",parent:"231200"},{name:"望奎县",value:"231221",parent:"231200"},{name:"兰西县",value:"231222",parent:"231200"},{name:"青冈县",value:"231223",parent:"231200"},{name:"庆安县",value:"231224",parent:"231200"},{name:"明水县",value:"231225",parent:"231200"},{name:"绥棱县",value:"231226",parent:"231200"},{name:"安达市",value:"231281",parent:"231200"},{name:"肇东市",value:"231282",parent:"231200"},{name:"海伦市",value:"231283",parent:"231200"},{name:"呼玛县",value:"232721",parent:"232700"},{name:"塔河县",value:"232722",parent:"232700"},{name:"漠河县",value:"232723",parent:"232700"},{name:"市辖区",value:"310100",parent:"310000"},{name:"黄浦区",value:"310101",parent:"310100"},{name:"徐汇区",value:"310104",parent:"310100"},{name:"长宁区",value:"310105",parent:"310100"},{name:"静安区",value:"310106",parent:"310100"},{name:"普陀区",value:"310107",parent:"310100"},{name:"虹口区",value:"310109",parent:"310100"},{name:"杨浦区",value:"310110",parent:"310100"},{name:"闵行区",value:"310112",parent:"310100"},{name:"宝山区",value:"310113",parent:"310100"},{name:"嘉定区",value:"310114",parent:"310100"},{name:"浦东新区",value:"310115",parent:"310100"},{name:"金山区",value:"310116",parent:"310100"},{name:"松江区",value:"310117",parent:"310100"},{name:"青浦区",value:"310118",parent:"310100"},{name:"奉贤区",value:"310120",parent:"310100"},{name:"崇明区",value:"310151",parent:"310100"},{name:"南京市",value:"320100",parent:"320000"},{name:"无锡市",value:"320200",parent:"320000"},{name:"徐州市",value:"320300",parent:"320000"},{name:"常州市",value:"320400",parent:"320000"},{name:"苏州市",value:"320500",parent:"320000"},{name:"南通市",value:"320600",parent:"320000"},{name:"连云港市",value:"320700",parent:"320000"},{name:"淮安市",value:"320800",parent:"320000"},{name:"盐城市",value:"320900",parent:"320000"},{name:"扬州市",value:"321000",parent:"320000"},{name:"镇江市",value:"321100",parent:"320000"},{name:"泰州市",value:"321200",parent:"320000"},{name:"宿迁市",value:"321300",parent:"320000"},{name:"玄武区",value:"320102",parent:"320100"},{name:"秦淮区",value:"320104",parent:"320100"},{name:"建邺区",value:"320105",parent:"320100"},{name:"鼓楼区",value:"320106",parent:"320100"},{name:"浦口区",value:"320111",parent:"320100"},{name:"栖霞区",value:"320113",parent:"320100"},{name:"雨花台区",value:"320114",parent:"320100"},{name:"江宁区",value:"320115",parent:"320100"},{name:"六合区",value:"320116",parent:"320100"},{name:"溧水区",value:"320117",parent:"320100"},{name:"高淳区",value:"320118",parent:"320100"},{name:"锡山区",value:"320205",parent:"320200"},{name:"惠山区",value:"320206",parent:"320200"},{name:"滨湖区",value:"320211",parent:"320200"},{name:"梁溪区",value:"320213",parent:"320200"},{name:"新吴区",value:"320214",parent:"320200"},{name:"江阴市",value:"320281",parent:"320200"},{name:"宜兴市",value:"320282",parent:"320200"},{name:"鼓楼区",value:"320302",parent:"320300"},{name:"云龙区",value:"320303",parent:"320300"},{name:"贾汪区",value:"320305",parent:"320300"},{name:"泉山区",value:"320311",parent:"320300"},{name:"铜山区",value:"320312",parent:"320300"},{name:"丰县",value:"320321",parent:"320300"},{name:"沛县",value:"320322",parent:"320300"},{name:"睢宁县",value:"320324",parent:"320300"},{name:"新沂市",value:"320381",parent:"320300"},{name:"邳州市",value:"320382",parent:"320300"},{name:"天宁区",value:"320402",parent:"320400"},{name:"钟楼区",value:"320404",parent:"320400"},{name:"新北区",value:"320411",parent:"320400"},{name:"武进区",value:"320412",parent:"320400"},{name:"金坛区",value:"320413",parent:"320400"},{name:"溧阳市",value:"320481",parent:"320400"},{name:"虎丘区",value:"320505",parent:"320500"},{name:"吴中区",value:"320506",parent:"320500"},{name:"相城区",value:"320507",parent:"320500"},{name:"姑苏区",value:"320508",parent:"320500"},{name:"吴江区",value:"320509",parent:"320500"},{name:"常熟市",value:"320581",parent:"320500"},{name:"张家港市",value:"320582",parent:"320500"},{name:"昆山市",value:"320583",parent:"320500"},{name:"太仓市",value:"320585",parent:"320500"},{name:"崇川区",value:"320602",parent:"320600"},{name:"港闸区",value:"320611",parent:"320600"},{name:"通州区",value:"320612",parent:"320600"},{name:"海安县",value:"320621",parent:"320600"},{name:"如东县",value:"320623",parent:"320600"},{name:"启东市",value:"320681",parent:"320600"},{name:"如皋市",value:"320682",parent:"320600"},{name:"海门市",value:"320684",parent:"320600"},{name:"连云区",value:"320703",parent:"320700"},{name:"海州区",value:"320706",parent:"320700"},{name:"赣榆区",value:"320707",parent:"320700"},{name:"东海县",value:"320722",parent:"320700"},{name:"灌云县",value:"320723",parent:"320700"},{name:"灌南县",value:"320724",parent:"320700"},{name:"淮安区",value:"320803",parent:"320800"},{name:"淮阴区",value:"320804",parent:"320800"},{name:"清江浦区",value:"320812",parent:"320800"},{name:"洪泽区",value:"320813",parent:"320800"},{name:"涟水县",value:"320826",parent:"320800"},{name:"盱眙县",value:"320830",parent:"320800"},{name:"金湖县",value:"320831",parent:"320800"},{name:"亭湖区",value:"320902",parent:"320900"},{name:"盐都区",value:"320903",parent:"320900"},{name:"大丰区",value:"320904",parent:"320900"},{name:"响水县",value:"320921",parent:"320900"},{name:"滨海县",value:"320922",parent:"320900"},{name:"阜宁县",value:"320923",parent:"320900"},{name:"射阳县",value:"320924",parent:"320900"},{name:"建湖县",value:"320925",parent:"320900"},{name:"东台市",value:"320981",parent:"320900"},{name:"广陵区",value:"321002",parent:"321000"},{name:"邗江区",value:"321003",parent:"321000"},{name:"江都区",value:"321012",parent:"321000"},{name:"宝应县",value:"321023",parent:"321000"},{name:"仪征市",value:"321081",parent:"321000"},{name:"高邮市",value:"321084",parent:"321000"},{name:"京口区",value:"321102",parent:"321100"},{name:"润州区",value:"321111",parent:"321100"},{name:"丹徒区",value:"321112",parent:"321100"},{name:"丹阳市",value:"321181",parent:"321100"},{name:"扬中市",value:"321182",parent:"321100"},{name:"句容市",value:"321183",parent:"321100"},{name:"海陵区",value:"321202",parent:"321200"},{name:"高港区",value:"321203",parent:"321200"},{name:"姜堰区",value:"321204",parent:"321200"},{name:"兴化市",value:"321281",parent:"321200"},{name:"靖江市",value:"321282",parent:"321200"},{name:"泰兴市",value:"321283",parent:"321200"},{name:"宿城区",value:"321302",parent:"321300"},{name:"宿豫区",value:"321311",parent:"321300"},{name:"沭阳县",value:"321322",parent:"321300"},{name:"泗阳县",value:"321323",parent:"321300"},{name:"泗洪县",value:"321324",parent:"321300"},{name:"杭州市",value:"330100",parent:"330000"},{name:"宁波市",value:"330200",parent:"330000"},{name:"温州市",value:"330300",parent:"330000"},{name:"嘉兴市",value:"330400",parent:"330000"},{name:"湖州市",value:"330500",parent:"330000"},{name:"绍兴市",value:"330600",parent:"330000"},{name:"金华市",value:"330700",parent:"330000"},{name:"衢州市",value:"330800",parent:"330000"},{name:"舟山市",value:"330900",parent:"330000"},{name:"台州市",value:"331000",parent:"330000"},{name:"丽水市",value:"331100",parent:"330000"},{name:"上城区",value:"330102",parent:"330100"},{name:"下城区",value:"330103",parent:"330100"},{name:"江干区",value:"330104",parent:"330100"},{name:"拱墅区",value:"330105",parent:"330100"},{name:"西湖区",value:"330106",parent:"330100"},{name:"滨江区",value:"330108",parent:"330100"},{name:"萧山区",value:"330109",parent:"330100"},{name:"余杭区",value:"330110",parent:"330100"},{name:"富阳区",value:"330111",parent:"330100"},{name:"桐庐县",value:"330122",parent:"330100"},{name:"淳安县",value:"330127",parent:"330100"},{name:"建德市",value:"330182",parent:"330100"},{name:"临安市",value:"330185",parent:"330100"},{name:"海曙区",value:"330203",parent:"330200"},{name:"江东区",value:"330204",parent:"330200"},{name:"江北区",value:"330205",parent:"330200"},{name:"北仑区",value:"330206",parent:"330200"},{name:"镇海区",value:"330211",parent:"330200"},{name:"鄞州区",value:"330212",parent:"330200"},{name:"象山县",value:"330225",parent:"330200"},{name:"宁海县",value:"330226",parent:"330200"},{name:"余姚市",value:"330281",parent:"330200"},{name:"慈溪市",value:"330282",parent:"330200"},{name:"奉化市",value:"330283",parent:"330200"},{name:"鹿城区",value:"330302",parent:"330300"},{name:"龙湾区",value:"330303",parent:"330300"},{name:"瓯海区",value:"330304",parent:"330300"},{name:"洞头区",value:"330305",parent:"330300"},{name:"永嘉县",value:"330324",parent:"330300"},{name:"平阳县",value:"330326",parent:"330300"},{name:"苍南县",value:"330327",parent:"330300"},{name:"文成县",value:"330328",parent:"330300"},{name:"泰顺县",value:"330329",parent:"330300"},{name:"瑞安市",value:"330381",parent:"330300"},{name:"乐清市",value:"330382",parent:"330300"},{name:"南湖区",value:"330402",parent:"330400"},{name:"秀洲区",value:"330411",parent:"330400"},{name:"嘉善县",value:"330421",parent:"330400"},{name:"海盐县",value:"330424",parent:"330400"},{name:"海宁市",value:"330481",parent:"330400"},{name:"平湖市",value:"330482",parent:"330400"},{name:"桐乡市",value:"330483",parent:"330400"},{name:"吴兴区",value:"330502",parent:"330500"},{name:"南浔区",value:"330503",parent:"330500"},{name:"德清县",value:"330521",parent:"330500"},{name:"长兴县",value:"330522",parent:"330500"},{name:"安吉县",value:"330523",parent:"330500"},{name:"越城区",value:"330602",parent:"330600"},{name:"柯桥区",value:"330603",parent:"330600"},{name:"上虞区",value:"330604",parent:"330600"},{name:"新昌县",value:"330624",parent:"330600"},{name:"诸暨市",value:"330681",parent:"330600"},{name:"嵊州市",value:"330683",parent:"330600"},{name:"婺城区",value:"330702",parent:"330700"},{name:"金东区",value:"330703",parent:"330700"},{name:"武义县",value:"330723",parent:"330700"},{name:"浦江县",value:"330726",parent:"330700"},{name:"磐安县",value:"330727",parent:"330700"},{name:"兰溪市",value:"330781",parent:"330700"},{name:"义乌市",value:"330782",parent:"330700"},{name:"东阳市",value:"330783",parent:"330700"},{name:"永康市",value:"330784",parent:"330700"},{name:"柯城区",value:"330802",parent:"330800"},{name:"衢江区",value:"330803",parent:"330800"},{name:"常山县",value:"330822",parent:"330800"},{name:"开化县",value:"330824",parent:"330800"},{name:"龙游县",value:"330825",parent:"330800"},{name:"江山市",value:"330881",parent:"330800"},{name:"定海区",value:"330902",parent:"330900"},{name:"普陀区",value:"330903",parent:"330900"},{name:"岱山县",value:"330921",parent:"330900"},{name:"嵊泗县",value:"330922",parent:"330900"},{name:"椒江区",value:"331002",parent:"331000"},{name:"黄岩区",value:"331003",parent:"331000"},{name:"路桥区",value:"331004",parent:"331000"},{name:"玉环县",value:"331021",parent:"331000"},{name:"三门县",value:"331022",parent:"331000"},{name:"天台县",value:"331023",parent:"331000"},{name:"仙居县",value:"331024",parent:"331000"},{name:"温岭市",value:"331081",parent:"331000"},{name:"临海市",value:"331082",parent:"331000"},{name:"莲都区",value:"331102",parent:"331100"},{name:"青田县",value:"331121",parent:"331100"},{name:"缙云县",value:"331122",parent:"331100"},{name:"遂昌县",value:"331123",parent:"331100"},{name:"松阳县",value:"331124",parent:"331100"},{name:"云和县",value:"331125",parent:"331100"},{name:"庆元县",value:"331126",parent:"331100"},{name:"景宁畲族自治县",value:"331127",parent:"331100"},{name:"龙泉市",value:"331181",parent:"331100"},{name:"合肥市",value:"340100",parent:"340000"},{name:"芜湖市",value:"340200",parent:"340000"},{name:"蚌埠市",value:"340300",parent:"340000"},{name:"淮南市",value:"340400",parent:"340000"},{name:"马鞍山市",value:"340500",parent:"340000"},{name:"淮北市",value:"340600",parent:"340000"},{name:"铜陵市",value:"340700",parent:"340000"},{name:"安庆市",value:"340800",parent:"340000"},{name:"黄山市",value:"341000",parent:"340000"},{name:"滁州市",value:"341100",parent:"340000"},{name:"阜阳市",value:"341200",parent:"340000"},{name:"宿州市",value:"341300",parent:"340000"},{name:"六安市",value:"341500",parent:"340000"},{name:"亳州市",value:"341600",parent:"340000"},{name:"池州市",value:"341700",parent:"340000"},{name:"宣城市",value:"341800",parent:"340000"},{name:"瑶海区",value:"340102",parent:"340100"},{name:"庐阳区",value:"340103",parent:"340100"},{name:"蜀山区",value:"340104",parent:"340100"},{name:"包河区",value:"340111",parent:"340100"},{name:"长丰县",value:"340121",parent:"340100"},{name:"肥东县",value:"340122",parent:"340100"},{name:"肥西县",value:"340123",parent:"340100"},{name:"庐江县",value:"340124",parent:"340100"},{name:"巢湖市",value:"340181",parent:"340100"},{name:"镜湖区",value:"340202",parent:"340200"},{name:"弋江区",value:"340203",parent:"340200"},{name:"鸠江区",value:"340207",parent:"340200"},{name:"三山区",value:"340208",parent:"340200"},{name:"芜湖县",value:"340221",parent:"340200"},{name:"繁昌县",value:"340222",parent:"340200"},{name:"南陵县",value:"340223",parent:"340200"},{name:"无为县",value:"340225",parent:"340200"},{name:"龙子湖区",value:"340302",parent:"340300"},{name:"蚌山区",value:"340303",parent:"340300"},{name:"禹会区",value:"340304",parent:"340300"},{name:"淮上区",value:"340311",parent:"340300"},{name:"怀远县",value:"340321",parent:"340300"},{name:"五河县",value:"340322",parent:"340300"},{name:"固镇县",value:"340323",parent:"340300"},{name:"大通区",value:"340402",parent:"340400"},{name:"田家庵区",value:"340403",parent:"340400"},{name:"谢家集区",value:"340404",parent:"340400"},{name:"八公山区",value:"340405",parent:"340400"},{name:"潘集区",value:"340406",parent:"340400"},{name:"凤台县",value:"340421",parent:"340400"},{name:"寿县",value:"340422",parent:"340400"},{name:"花山区",value:"340503",parent:"340500"},{name:"雨山区",value:"340504",parent:"340500"},{name:"博望区",value:"340506",parent:"340500"},{name:"当涂县",value:"340521",parent:"340500"},{name:"含山县",value:"340522",parent:"340500"},{name:"和县",value:"340523",parent:"340500"},{name:"杜集区",value:"340602",parent:"340600"},{name:"相山区",value:"340603",parent:"340600"},{name:"烈山区",value:"340604",parent:"340600"},{name:"濉溪县",value:"340621",parent:"340600"},{name:"铜官区",value:"340705",parent:"340700"},{name:"义安区",value:"340706",parent:"340700"},{name:"郊区",value:"340711",parent:"340700"},{name:"枞阳县",value:"340722",parent:"340700"},{name:"迎江区",value:"340802",parent:"340800"},{name:"大观区",value:"340803",parent:"340800"},{name:"宜秀区",value:"340811",parent:"340800"},{name:"怀宁县",value:"340822",parent:"340800"},{name:"潜山县",value:"340824",parent:"340800"},{name:"太湖县",value:"340825",parent:"340800"},{name:"宿松县",value:"340826",parent:"340800"},{name:"望江县",value:"340827",parent:"340800"},{name:"岳西县",value:"340828",parent:"340800"},{name:"桐城市",value:"340881",parent:"340800"},{name:"屯溪区",value:"341002",parent:"341000"},{name:"黄山区",value:"341003",parent:"341000"},{name:"徽州区",value:"341004",parent:"341000"},{name:"歙县",value:"341021",parent:"341000"},{name:"休宁县",value:"341022",parent:"341000"},{name:"黟县",value:"341023",parent:"341000"},{name:"祁门县",value:"341024",parent:"341000"},{name:"琅琊区",value:"341102",parent:"341100"},{name:"南谯区",value:"341103",parent:"341100"},{name:"来安县",value:"341122",parent:"341100"},{name:"全椒县",value:"341124",parent:"341100"},{name:"定远县",value:"341125",parent:"341100"},{name:"凤阳县",value:"341126",parent:"341100"},{name:"天长市",value:"341181",parent:"341100"},{name:"明光市",value:"341182",parent:"341100"},{name:"颍州区",value:"341202",parent:"341200"},{name:"颍东区",value:"341203",parent:"341200"},{name:"颍泉区",value:"341204",parent:"341200"},{name:"临泉县",value:"341221",parent:"341200"},{name:"太和县",value:"341222",parent:"341200"},{name:"阜南县",value:"341225",parent:"341200"},{name:"颍上县",value:"341226",parent:"341200"},{name:"界首市",value:"341282",parent:"341200"},{name:"埇桥区",value:"341302",parent:"341300"},{name:"砀山县",value:"341321",parent:"341300"},{name:"萧县",value:"341322",parent:"341300"},{name:"灵璧县",value:"341323",parent:"341300"},{name:"泗县",value:"341324",parent:"341300"},{name:"金安区",value:"341502",parent:"341500"},{name:"裕安区",value:"341503",parent:"341500"},{name:"叶集区",value:"341504",parent:"341500"},{name:"霍邱县",value:"341522",parent:"341500"},{name:"舒城县",value:"341523",parent:"341500"},{name:"金寨县",value:"341524",parent:"341500"},{name:"霍山县",value:"341525",parent:"341500"},{name:"谯城区",value:"341602",parent:"341600"},{name:"涡阳县",value:"341621",parent:"341600"},{name:"蒙城县",value:"341622",parent:"341600"},{name:"利辛县",value:"341623",parent:"341600"},{name:"贵池区",value:"341702",parent:"341700"},{name:"东至县",value:"341721",parent:"341700"},{name:"石台县",value:"341722",parent:"341700"},{name:"青阳县",value:"341723",parent:"341700"},{name:"宣州区",value:"341802",parent:"341800"},{name:"郎溪县",value:"341821",parent:"341800"},{name:"广德县",value:"341822",parent:"341800"},{name:"泾县",value:"341823",parent:"341800"},{name:"绩溪县",value:"341824",parent:"341800"},{name:"旌德县",value:"341825",parent:"341800"},{name:"宁国市",value:"341881",parent:"341800"},{name:"福州市",value:"350100",parent:"350000"},{name:"厦门市",value:"350200",parent:"350000"},{name:"莆田市",value:"350300",parent:"350000"},{name:"三明市",value:"350400",parent:"350000"},{name:"泉州市",value:"350500",parent:"350000"},{name:"漳州市",value:"350600",parent:"350000"},{name:"南平市",value:"350700",parent:"350000"},{name:"龙岩市",value:"350800",parent:"350000"},{name:"宁德市",value:"350900",parent:"350000"},{name:"鼓楼区",value:"350102",parent:"350100"},{name:"台江区",value:"350103",parent:"350100"},{name:"仓山区",value:"350104",parent:"350100"},{name:"马尾区",value:"350105",parent:"350100"},{name:"晋安区",value:"350111",parent:"350100"},{name:"闽侯县",value:"350121",parent:"350100"},{name:"连江县",value:"350122",parent:"350100"},{name:"罗源县",value:"350123",parent:"350100"},{name:"闽清县",value:"350124",parent:"350100"},{name:"永泰县",value:"350125",parent:"350100"},{name:"平潭县",value:"350128",parent:"350100"},{name:"福清市",value:"350181",parent:"350100"},{name:"长乐市",value:"350182",parent:"350100"},{name:"思明区",value:"350203",parent:"350200"},{name:"海沧区",value:"350205",parent:"350200"},{name:"湖里区",value:"350206",parent:"350200"},{name:"集美区",value:"350211",parent:"350200"},{name:"同安区",value:"350212",parent:"350200"},{name:"翔安区",value:"350213",parent:"350200"},{name:"城厢区",value:"350302",parent:"350300"},{name:"涵江区",value:"350303",parent:"350300"},{name:"荔城区",value:"350304",parent:"350300"},{name:"秀屿区",value:"350305",parent:"350300"},{name:"仙游县",value:"350322",parent:"350300"},{name:"梅列区",value:"350402",parent:"350400"},{name:"三元区",value:"350403",parent:"350400"},{name:"明溪县",value:"350421",parent:"350400"},{name:"清流县",value:"350423",parent:"350400"},{name:"宁化县",value:"350424",parent:"350400"},{name:"大田县",value:"350425",parent:"350400"},{name:"尤溪县",value:"350426",parent:"350400"},{name:"沙县",value:"350427",parent:"350400"},{name:"将乐县",value:"350428",parent:"350400"},{name:"泰宁县",value:"350429",parent:"350400"},{name:"建宁县",value:"350430",parent:"350400"},{name:"永安市",value:"350481",parent:"350400"},{name:"鲤城区",value:"350502",parent:"350500"},{name:"丰泽区",value:"350503",parent:"350500"},{name:"洛江区",value:"350504",parent:"350500"},{name:"泉港区",value:"350505",parent:"350500"},{name:"惠安县",value:"350521",parent:"350500"},{name:"安溪县",value:"350524",parent:"350500"},{name:"永春县",value:"350525",parent:"350500"},{name:"德化县",value:"350526",parent:"350500"},{name:"金门县",value:"350527",parent:"350500"},{name:"石狮市",value:"350581",parent:"350500"},{name:"晋江市",value:"350582",parent:"350500"},{name:"南安市",value:"350583",parent:"350500"},{name:"芗城区",value:"350602",parent:"350600"},{name:"龙文区",value:"350603",parent:"350600"},{name:"云霄县",value:"350622",parent:"350600"},{name:"漳浦县",value:"350623",parent:"350600"},{name:"诏安县",value:"350624",parent:"350600"},{name:"长泰县",value:"350625",parent:"350600"},{name:"东山县",value:"350626",parent:"350600"},{name:"南靖县",value:"350627",parent:"350600"},{name:"平和县",value:"350628",parent:"350600"},{name:"华安县",value:"350629",parent:"350600"},{name:"龙海市",value:"350681",parent:"350600"},{name:"延平区",value:"350702",parent:"350700"},{name:"建阳区",value:"350703",parent:"350700"},{name:"顺昌县",value:"350721",parent:"350700"},{name:"浦城县",value:"350722",parent:"350700"},{name:"光泽县",value:"350723",parent:"350700"},{name:"松溪县",value:"350724",parent:"350700"},{name:"政和县",value:"350725",parent:"350700"},{name:"邵武市",value:"350781",parent:"350700"},{name:"武夷山市",value:"350782",parent:"350700"},{name:"建瓯市",value:"350783",parent:"350700"},{name:"新罗区",value:"350802",parent:"350800"},{name:"永定区",value:"350803",parent:"350800"},{name:"长汀县",value:"350821",parent:"350800"},{name:"上杭县",value:"350823",parent:"350800"},{name:"武平县",value:"350824",parent:"350800"},{name:"连城县",value:"350825",parent:"350800"},{name:"漳平市",value:"350881",parent:"350800"},{name:"蕉城区",value:"350902",parent:"350900"},{name:"霞浦县",value:"350921",parent:"350900"},{name:"古田县",value:"350922",parent:"350900"},{name:"屏南县",value:"350923",parent:"350900"},{name:"寿宁县",value:"350924",parent:"350900"},{name:"周宁县",value:"350925",parent:"350900"},{name:"柘荣县",value:"350926",parent:"350900"},{name:"福安市",value:"350981",parent:"350900"},{name:"福鼎市",value:"350982",parent:"350900"},{name:"南昌市",value:"360100",parent:"360000"},{name:"景德镇市",value:"360200",parent:"360000"},{name:"萍乡市",value:"360300",parent:"360000"},{name:"九江市",value:"360400",parent:"360000"},{name:"新余市",value:"360500",parent:"360000"},{name:"鹰潭市",value:"360600",parent:"360000"},{name:"赣州市",value:"360700",parent:"360000"},{name:"吉安市",value:"360800",parent:"360000"},{name:"宜春市",value:"360900",parent:"360000"},{name:"抚州市",value:"361000",parent:"360000"},{name:"上饶市",value:"361100",parent:"360000"},{name:"东湖区",value:"360102",parent:"360100"},{name:"西湖区",value:"360103",parent:"360100"},{name:"青云谱区",value:"360104",parent:"360100"},{name:"湾里区",value:"360105",parent:"360100"},{name:"青山湖区",value:"360111",parent:"360100"},{name:"新建区",value:"360112",parent:"360100"},{name:"南昌县",value:"360121",parent:"360100"},{name:"安义县",value:"360123",parent:"360100"},{name:"进贤县",value:"360124",parent:"360100"},{name:"昌江区",value:"360202",parent:"360200"},{name:"珠山区",value:"360203",parent:"360200"},{name:"浮梁县",value:"360222",parent:"360200"},{name:"乐平市",value:"360281",parent:"360200"},{name:"安源区",value:"360302",parent:"360300"},{name:"湘东区",value:"360313",parent:"360300"},{name:"莲花县",value:"360321",parent:"360300"},{name:"上栗县",value:"360322",parent:"360300"},{name:"芦溪县",value:"360323",parent:"360300"},{name:"濂溪区",value:"360402",parent:"360400"},{name:"浔阳区",value:"360403",parent:"360400"},{name:"九江县",value:"360421",parent:"360400"},{name:"武宁县",value:"360423",parent:"360400"},{name:"修水县",value:"360424",parent:"360400"},{name:"永修县",value:"360425",parent:"360400"},{name:"德安县",value:"360426",parent:"360400"},{name:"都昌县",value:"360428",parent:"360400"},{name:"湖口县",value:"360429",parent:"360400"},{name:"彭泽县",value:"360430",parent:"360400"},{name:"瑞昌市",value:"360481",parent:"360400"},{name:"共青城市",value:"360482",parent:"360400"},{name:"庐山市",value:"360483",parent:"360400"},{name:"渝水区",value:"360502",parent:"360500"},{name:"分宜县",value:"360521",parent:"360500"},{name:"月湖区",value:"360602",parent:"360600"},{name:"余江县",value:"360622",parent:"360600"},{name:"贵溪市",value:"360681",parent:"360600"},{name:"章贡区",value:"360702",parent:"360700"},{name:"南康区",value:"360703",parent:"360700"},{name:"赣县",value:"360721",parent:"360700"},{name:"信丰县",value:"360722",parent:"360700"},{name:"大余县",value:"360723",parent:"360700"},{name:"上犹县",value:"360724",parent:"360700"},{name:"崇义县",value:"360725",parent:"360700"},{name:"安远县",value:"360726",parent:"360700"},{name:"龙南县",value:"360727",parent:"360700"},{name:"定南县",value:"360728",parent:"360700"},{name:"全南县",value:"360729",parent:"360700"},{name:"宁都县",value:"360730",parent:"360700"},{name:"于都县",value:"360731",parent:"360700"},{name:"兴国县",value:"360732",parent:"360700"},{name:"会昌县",value:"360733",parent:"360700"},{name:"寻乌县",value:"360734",parent:"360700"},{name:"石城县",value:"360735",parent:"360700"},{name:"瑞金市",value:"360781",parent:"360700"},{name:"吉州区",value:"360802",parent:"360800"},{name:"青原区",value:"360803",parent:"360800"},{name:"吉安县",value:"360821",parent:"360800"},{name:"吉水县",value:"360822",parent:"360800"},{name:"峡江县",value:"360823",parent:"360800"},{name:"新干县",value:"360824",parent:"360800"},{name:"永丰县",value:"360825",parent:"360800"},{name:"泰和县",value:"360826",parent:"360800"},{name:"遂川县",value:"360827",parent:"360800"},{name:"万安县",value:"360828",parent:"360800"},{name:"安福县",value:"360829",parent:"360800"},{name:"永新县",value:"360830",parent:"360800"},{name:"井冈山市",value:"360881",parent:"360800"},{name:"袁州区",value:"360902",parent:"360900"},{name:"奉新县",value:"360921",parent:"360900"},{name:"万载县",value:"360922",parent:"360900"},{name:"上高县",value:"360923",parent:"360900"},{name:"宜丰县",value:"360924",parent:"360900"},{name:"靖安县",value:"360925",parent:"360900"},{name:"铜鼓县",value:"360926",parent:"360900"},{name:"丰城市",value:"360981",parent:"360900"},{name:"樟树市",value:"360982",parent:"360900"},{name:"高安市",value:"360983",parent:"360900"},{name:"临川区",value:"361002",parent:"361000"},{name:"南城县",value:"361021",parent:"361000"},{name:"黎川县",value:"361022",parent:"361000"},{name:"南丰县",value:"361023",parent:"361000"},{name:"崇仁县",value:"361024",parent:"361000"},{name:"乐安县",value:"361025",parent:"361000"},{name:"宜黄县",value:"361026",parent:"361000"},{name:"金溪县",value:"361027",parent:"361000"},{name:"资溪县",value:"361028",parent:"361000"},{name:"东乡县",value:"361029",parent:"361000"},{name:"广昌县",value:"361030",parent:"361000"},{name:"信州区",value:"361102",parent:"361100"},{name:"广丰区",value:"361103",parent:"361100"},{name:"上饶县",value:"361121",parent:"361100"},{name:"玉山县",value:"361123",parent:"361100"},{name:"铅山县",value:"361124",parent:"361100"},{name:"横峰县",value:"361125",parent:"361100"},{name:"弋阳县",value:"361126",parent:"361100"},{name:"余干县",value:"361127",parent:"361100"},{name:"鄱阳县",value:"361128",parent:"361100"},{name:"万年县",value:"361129",parent:"361100"},{name:"婺源县",value:"361130",parent:"361100"},{name:"德兴市",value:"361181",parent:"361100"},{name:"济南市",value:"370100",parent:"370000"},{name:"青岛市",value:"370200",parent:"370000"},{name:"淄博市",value:"370300",parent:"370000"},{name:"枣庄市",value:"370400",parent:"370000"},{name:"东营市",value:"370500",parent:"370000"},{name:"烟台市",value:"370600",parent:"370000"},{name:"潍坊市",value:"370700",parent:"370000"},{name:"济宁市",value:"370800",parent:"370000"},{name:"泰安市",value:"370900",parent:"370000"},{name:"威海市",value:"371000",parent:"370000"},{name:"日照市",value:"371100",parent:"370000"},{name:"莱芜市",value:"371200",parent:"370000"},{name:"临沂市",value:"371300",parent:"370000"},{name:"德州市",value:"371400",parent:"370000"},{name:"聊城市",value:"371500",parent:"370000"},{name:"滨州市",value:"371600",parent:"370000"},{name:"菏泽市",value:"371700",parent:"370000"},{name:"历下区",value:"370102",parent:"370100"},{name:"市中区",value:"370103",parent:"370100"},{name:"槐荫区",value:"370104",parent:"370100"},{name:"天桥区",value:"370105",parent:"370100"},{name:"历城区",value:"370112",parent:"370100"},{name:"长清区",value:"370113",parent:"370100"},{name:"平阴县",value:"370124",parent:"370100"},{name:"济阳县",value:"370125",parent:"370100"},{name:"商河县",value:"370126",parent:"370100"},{name:"章丘市",value:"370181",parent:"370100"},{name:"市南区",value:"370202",parent:"370200"},{name:"市北区",value:"370203",parent:"370200"},{name:"黄岛区",value:"370211",parent:"370200"},{name:"崂山区",value:"370212",parent:"370200"},{name:"李沧区",value:"370213",parent:"370200"},{name:"城阳区",value:"370214",parent:"370200"},{name:"胶州市",value:"370281",parent:"370200"},{name:"即墨市",value:"370282",parent:"370200"},{name:"平度市",value:"370283",parent:"370200"},{name:"莱西市",value:"370285",parent:"370200"},{name:"淄川区",value:"370302",parent:"370300"},{name:"张店区",value:"370303",parent:"370300"},{name:"博山区",value:"370304",parent:"370300"},{name:"临淄区",value:"370305",parent:"370300"},{name:"周村区",value:"370306",parent:"370300"},{name:"桓台县",value:"370321",parent:"370300"},{name:"高青县",value:"370322",parent:"370300"},{name:"沂源县",value:"370323",parent:"370300"},{name:"市中区",value:"370402",parent:"370400"},{name:"薛城区",value:"370403",parent:"370400"},{name:"峄城区",value:"370404",parent:"370400"},{name:"台儿庄区",value:"370405",parent:"370400"},{name:"山亭区",value:"370406",parent:"370400"},{name:"滕州市",value:"370481",parent:"370400"},{name:"东营区",value:"370502",parent:"370500"},{name:"河口区",value:"370503",parent:"370500"},{name:"垦利区",value:"370505",parent:"370500"},{name:"利津县",value:"370522",parent:"370500"},{name:"广饶县",value:"370523",parent:"370500"},{name:"芝罘区",value:"370602",parent:"370600"},{name:"福山区",value:"370611",parent:"370600"},{name:"牟平区",value:"370612",parent:"370600"},{name:"莱山区",value:"370613",parent:"370600"},{name:"长岛县",value:"370634",parent:"370600"},{name:"龙口市",value:"370681",parent:"370600"},{name:"莱阳市",value:"370682",parent:"370600"},{name:"莱州市",value:"370683",parent:"370600"},{name:"蓬莱市",value:"370684",parent:"370600"},{name:"招远市",value:"370685",parent:"370600"},{name:"栖霞市",value:"370686",parent:"370600"},{name:"海阳市",value:"370687",parent:"370600"},{name:"潍城区",value:"370702",parent:"370700"},{name:"寒亭区",value:"370703",parent:"370700"},{name:"坊子区",value:"370704",parent:"370700"},{name:"奎文区",value:"370705",parent:"370700"},{name:"临朐县",value:"370724",parent:"370700"},{name:"昌乐县",value:"370725",parent:"370700"},{name:"青州市",value:"370781",parent:"370700"},{name:"诸城市",value:"370782",parent:"370700"},{name:"寿光市",value:"370783",parent:"370700"},{name:"安丘市",value:"370784",parent:"370700"},{name:"高密市",value:"370785",parent:"370700"},{name:"昌邑市",value:"370786",parent:"370700"},{name:"任城区",value:"370811",parent:"370800"},{name:"兖州区",value:"370812",parent:"370800"},{name:"微山县",value:"370826",parent:"370800"},{name:"鱼台县",value:"370827",parent:"370800"},{name:"金乡县",value:"370828",parent:"370800"},{name:"嘉祥县",value:"370829",parent:"370800"},{name:"汶上县",value:"370830",parent:"370800"},{name:"泗水县",value:"370831",parent:"370800"},{name:"梁山县",value:"370832",parent:"370800"},{name:"曲阜市",value:"370881",parent:"370800"},{name:"邹城市",value:"370883",parent:"370800"},{name:"泰山区",value:"370902",parent:"370900"},{name:"岱岳区",value:"370911",parent:"370900"},{name:"宁阳县",value:"370921",parent:"370900"},{name:"东平县",value:"370923",parent:"370900"},{name:"新泰市",value:"370982",parent:"370900"},{name:"肥城市",value:"370983",parent:"370900"},{name:"环翠区",value:"371002",parent:"371000"},{name:"文登区",value:"371003",parent:"371000"},{name:"荣成市",value:"371082",parent:"371000"},{name:"乳山市",value:"371083",parent:"371000"},{name:"东港区",value:"371102",parent:"371100"},{name:"岚山区",value:"371103",parent:"371100"},{name:"五莲县",value:"371121",parent:"371100"},{name:"莒县",value:"371122",parent:"371100"},{name:"莱城区",value:"371202",parent:"371200"},{name:"钢城区",value:"371203",parent:"371200"},{name:"兰山区",value:"371302",parent:"371300"},{name:"罗庄区",value:"371311",parent:"371300"},{name:"河东区",value:"371312",parent:"371300"},{name:"沂南县",value:"371321",parent:"371300"},{name:"郯城县",value:"371322",parent:"371300"},{name:"沂水县",value:"371323",parent:"371300"},{name:"兰陵县",value:"371324",parent:"371300"},{name:"费县",value:"371325",parent:"371300"},{name:"平邑县",value:"371326",parent:"371300"},{name:"莒南县",value:"371327",parent:"371300"},{name:"蒙阴县",value:"371328",parent:"371300"},{name:"临沭县",value:"371329",parent:"371300"},{name:"德城区",value:"371402",parent:"371400"},{name:"陵城区",value:"371403",parent:"371400"},{name:"宁津县",value:"371422",parent:"371400"},{name:"庆云县",value:"371423",parent:"371400"},{name:"临邑县",value:"371424",parent:"371400"},{name:"齐河县",value:"371425",parent:"371400"},{name:"平原县",value:"371426",parent:"371400"},{name:"夏津县",value:"371427",parent:"371400"},{name:"武城县",value:"371428",parent:"371400"},{name:"乐陵市",value:"371481",parent:"371400"},{name:"禹城市",value:"371482",parent:"371400"},{name:"东昌府区",value:"371502",parent:"371500"},{name:"阳谷县",value:"371521",parent:"371500"},{name:"莘县",value:"371522",parent:"371500"},{name:"茌平县",value:"371523",parent:"371500"},{name:"东阿县",value:"371524",parent:"371500"},{name:"冠县",value:"371525",parent:"371500"},{name:"高唐县",value:"371526",parent:"371500"},{name:"临清市",value:"371581",parent:"371500"},{name:"滨城区",value:"371602",parent:"371600"},{name:"沾化区",value:"371603",parent:"371600"},{name:"惠民县",value:"371621",parent:"371600"},{name:"阳信县",value:"371622",parent:"371600"},{name:"无棣县",value:"371623",parent:"371600"},{name:"博兴县",value:"371625",parent:"371600"},{name:"邹平县",value:"371626",parent:"371600"},{name:"牡丹区",value:"371702",parent:"371700"},{name:"定陶区",value:"371703",parent:"371700"},{name:"曹县",value:"371721",parent:"371700"},{name:"单县",value:"371722",parent:"371700"},{name:"成武县",value:"371723",parent:"371700"},{name:"巨野县",value:"371724",parent:"371700"},{name:"郓城县",value:"371725",parent:"371700"},{name:"鄄城县",value:"371726",parent:"371700"},{name:"东明县",value:"371728",parent:"371700"},{name:"郑州市",value:"410100",parent:"410000"},{name:"开封市",value:"410200",parent:"410000"},{name:"洛阳市",value:"410300",parent:"410000"},{name:"平顶山市",value:"410400",parent:"410000"},{name:"安阳市",value:"410500",parent:"410000"},{name:"鹤壁市",value:"410600",parent:"410000"},{name:"新乡市",value:"410700",parent:"410000"},{name:"焦作市",value:"410800",parent:"410000"},{name:"濮阳市",value:"410900",parent:"410000"},{name:"许昌市",value:"411000",parent:"410000"},{name:"漯河市",value:"411100",parent:"410000"},{name:"三门峡市",value:"411200",parent:"410000"},{name:"南阳市",value:"411300",parent:"410000"},{name:"商丘市",value:"411400",parent:"410000"},{name:"信阳市",value:"411500",parent:"410000"},{name:"周口市",value:"411600",parent:"410000"},{name:"驻马店市",value:"411700",parent:"410000"},{name:"济源市",value:"419001",parent:"410000"},{name:"中原区",value:"410102",parent:"410100"},{name:"二七区",value:"410103",parent:"410100"},{name:"管城回族区",value:"410104",parent:"410100"},{name:"金水区",value:"410105",parent:"410100"},{name:"上街区",value:"410106",parent:"410100"},{name:"惠济区",value:"410108",parent:"410100"},{name:"中牟县",value:"410122",parent:"410100"},{name:"巩义市",value:"410181",parent:"410100"},{name:"荥阳市",value:"410182",parent:"410100"},{name:"新密市",value:"410183",parent:"410100"},{name:"新郑市",value:"410184",parent:"410100"},{name:"登封市",value:"410185",parent:"410100"},{name:"龙亭区",value:"410202",parent:"410200"},{name:"顺河回族区",value:"410203",parent:"410200"},{name:"鼓楼区",value:"410204",parent:"410200"},{name:"禹王台区",value:"410205",parent:"410200"},{name:"金明区",value:"410211",parent:"410200"},{name:"祥符区",value:"410212",parent:"410200"},{name:"杞县",value:"410221",parent:"410200"},{name:"通许县",value:"410222",parent:"410200"},{name:"尉氏县",value:"410223",parent:"410200"},{name:"兰考县",value:"410225",parent:"410200"},{name:"老城区",value:"410302",parent:"410300"},{name:"西工区",value:"410303",parent:"410300"},{name:"瀍河回族区",value:"410304",parent:"410300"},{name:"涧西区",value:"410305",parent:"410300"},{name:"吉利区",value:"410306",parent:"410300"},{name:"洛龙区",value:"410311",parent:"410300"},{name:"孟津县",value:"410322",parent:"410300"},{name:"新安县",value:"410323",parent:"410300"},{name:"栾川县",value:"410324",parent:"410300"},{name:"嵩县",value:"410325",parent:"410300"},{name:"汝阳县",value:"410326",parent:"410300"},{name:"宜阳县",value:"410327",parent:"410300"},{name:"洛宁县",value:"410328",parent:"410300"},{name:"伊川县",value:"410329",parent:"410300"},{name:"偃师市",value:"410381",parent:"410300"},{name:"新华区",value:"410402",parent:"410400"},{name:"卫东区",value:"410403",parent:"410400"},{name:"石龙区",value:"410404",parent:"410400"},{name:"湛河区",value:"410411",parent:"410400"},{name:"宝丰县",value:"410421",parent:"410400"},{name:"叶县",value:"410422",parent:"410400"},{name:"鲁山县",value:"410423",parent:"410400"},{name:"郏县",value:"410425",parent:"410400"},{name:"舞钢市",value:"410481",parent:"410400"},{name:"汝州市",value:"410482",parent:"410400"},{name:"文峰区",value:"410502",parent:"410500"},{name:"北关区",value:"410503",parent:"410500"},{name:"殷都区",value:"410505",parent:"410500"},{name:"龙安区",value:"410506",parent:"410500"},{name:"安阳县",value:"410522",parent:"410500"},{name:"汤阴县",value:"410523",parent:"410500"},{name:"滑县",value:"410526",parent:"410500"},{name:"内黄县",value:"410527",parent:"410500"},{name:"林州市",value:"410581",parent:"410500"},{name:"鹤山区",value:"410602",parent:"410600"},{name:"山城区",value:"410603",parent:"410600"},{name:"淇滨区",value:"410611",parent:"410600"},{name:"浚县",value:"410621",parent:"410600"},{name:"淇县",value:"410622",parent:"410600"},{name:"红旗区",value:"410702",parent:"410700"},{name:"卫滨区",value:"410703",parent:"410700"},{name:"凤泉区",value:"410704",parent:"410700"},{name:"牧野区",value:"410711",parent:"410700"},{name:"新乡县",value:"410721",parent:"410700"},{name:"获嘉县",value:"410724",parent:"410700"},{name:"原阳县",value:"410725",parent:"410700"},{name:"延津县",value:"410726",parent:"410700"},{name:"封丘县",value:"410727",parent:"410700"},{name:"长垣县",value:"410728",parent:"410700"},{name:"卫辉市",value:"410781",parent:"410700"},{name:"辉县市",value:"410782",parent:"410700"},{name:"解放区",value:"410802",parent:"410800"},{name:"中站区",value:"410803",parent:"410800"},{name:"马村区",value:"410804",parent:"410800"},{name:"山阳区",value:"410811",parent:"410800"},{name:"修武县",value:"410821",parent:"410800"},{name:"博爱县",value:"410822",parent:"410800"},{name:"武陟县",value:"410823",parent:"410800"},{name:"温县",value:"410825",parent:"410800"},{name:"沁阳市",value:"410882",parent:"410800"},{name:"孟州市",value:"410883",parent:"410800"},{name:"华龙区",value:"410902",parent:"410900"},{name:"清丰县",value:"410922",parent:"410900"},{name:"南乐县",value:"410923",parent:"410900"},{name:"范县",value:"410926",parent:"410900"},{name:"台前县",value:"410927",parent:"410900"},{name:"濮阳县",value:"410928",parent:"410900"},{name:"魏都区",value:"411002",parent:"411000"},{name:"许昌县",value:"411023",parent:"411000"},{name:"鄢陵县",value:"411024",parent:"411000"},{name:"襄城县",value:"411025",parent:"411000"},{name:"禹州市",value:"411081",parent:"411000"},{name:"长葛市",value:"411082",parent:"411000"},{name:"源汇区",value:"411102",parent:"411100"},{name:"郾城区",value:"411103",parent:"411100"},{name:"召陵区",value:"411104",parent:"411100"},{name:"舞阳县",value:"411121",parent:"411100"},{name:"临颍县",value:"411122",parent:"411100"},{name:"湖滨区",value:"411202",parent:"411200"},{name:"陕州区",value:"411203",parent:"411200"},{name:"渑池县",value:"411221",parent:"411200"},{name:"卢氏县",value:"411224",parent:"411200"},{name:"义马市",value:"411281",parent:"411200"},{name:"灵宝市",value:"411282",parent:"411200"},{name:"宛城区",value:"411302",parent:"411300"},{name:"卧龙区",value:"411303",parent:"411300"},{name:"南召县",value:"411321",parent:"411300"},{name:"方城县",value:"411322",parent:"411300"},{name:"西峡县",value:"411323",parent:"411300"},{name:"镇平县",value:"411324",parent:"411300"},{name:"内乡县",value:"411325",parent:"411300"},{name:"淅川县",value:"411326",parent:"411300"},{name:"社旗县",value:"411327",parent:"411300"},{name:"唐河县",value:"411328",parent:"411300"},{name:"新野县",value:"411329",parent:"411300"},{name:"桐柏县",value:"411330",parent:"411300"},{name:"邓州市",value:"411381",parent:"411300"},{name:"梁园区",value:"411402",parent:"411400"},{name:"睢阳区",value:"411403",parent:"411400"},{name:"民权县",value:"411421",parent:"411400"},{name:"睢县",value:"411422",parent:"411400"},{name:"宁陵县",value:"411423",parent:"411400"},{name:"柘城县",value:"411424",parent:"411400"},{name:"虞城县",value:"411425",parent:"411400"},{name:"夏邑县",value:"411426",parent:"411400"},{name:"永城市",value:"411481",parent:"411400"},{name:"浉河区",value:"411502",parent:"411500"},{name:"平桥区",value:"411503",parent:"411500"},{name:"罗山县",value:"411521",parent:"411500"},{name:"光山县",value:"411522",parent:"411500"},{name:"新县",value:"411523",parent:"411500"},{name:"商城县",value:"411524",parent:"411500"},{name:"固始县",value:"411525",parent:"411500"},{name:"潢川县",value:"411526",parent:"411500"},{name:"淮滨县",value:"411527",parent:"411500"},{name:"息县",value:"411528",parent:"411500"},{name:"川汇区",value:"411602",parent:"411600"},{name:"扶沟县",value:"411621",parent:"411600"},{name:"西华县",value:"411622",parent:"411600"},{name:"商水县",value:"411623",parent:"411600"},{name:"沈丘县",value:"411624",parent:"411600"},{name:"郸城县",value:"411625",parent:"411600"},{name:"淮阳县",value:"411626",parent:"411600"},{name:"太康县",value:"411627",parent:"411600"},{name:"鹿邑县",value:"411628",parent:"411600"},{name:"项城市",value:"411681",parent:"411600"},{name:"驿城区",value:"411702",parent:"411700"},{name:"西平县",value:"411721",parent:"411700"},{name:"上蔡县",value:"411722",parent:"411700"},{name:"平舆县",value:"411723",parent:"411700"},{name:"正阳县",value:"411724",parent:"411700"},{name:"确山县",value:"411725",parent:"411700"},{name:"泌阳县",value:"411726",parent:"411700"},{name:"汝南县",value:"411727",parent:"411700"},{name:"遂平县",value:"411728",parent:"411700"},{name:"新蔡县",value:"411729",parent:"411700"},{name:"武汉市",value:"420100",parent:"420000"},{name:"黄石市",value:"420200",parent:"420000"},{name:"十堰市",value:"420300",parent:"420000"},{name:"宜昌市",value:"420500",parent:"420000"},{name:"襄阳市",value:"420600",parent:"420000"},{name:"鄂州市",value:"420700",parent:"420000"},{name:"荆门市",value:"420800",parent:"420000"},{name:"孝感市",value:"420900",parent:"420000"},{name:"荆州市",value:"421000",parent:"420000"},{name:"黄冈市",value:"421100",parent:"420000"},{name:"咸宁市",value:"421200",parent:"420000"},{name:"随州市",value:"421300",parent:"420000"},{name:"恩施土家族苗族自治州",value:"422800",parent:"420000"},{name:"仙桃市",value:"429004",parent:"420000"},{name:"潜江市",value:"429005",parent:"420000"},{name:"天门市",value:"429006",parent:"420000"},{name:"神农架林区",value:"429021",parent:"420000"},{name:"江岸区",value:"420102",parent:"420100"},{name:"江汉区",value:"420103",parent:"420100"},{name:"硚口区",value:"420104",parent:"420100"},{name:"汉阳区",value:"420105",parent:"420100"},{name:"武昌区",value:"420106",parent:"420100"},{name:"青山区",value:"420107",parent:"420100"},{name:"洪山区",value:"420111",parent:"420100"},{name:"东西湖区",value:"420112",parent:"420100"},{name:"汉南区",value:"420113",parent:"420100"},{name:"蔡甸区",value:"420114",parent:"420100"},{name:"江夏区",value:"420115",parent:"420100"},{name:"黄陂区",value:"420116",parent:"420100"},{name:"新洲区",value:"420117",parent:"420100"},{name:"黄石港区",value:"420202",parent:"420200"},{name:"西塞山区",value:"420203",parent:"420200"},{name:"下陆区",value:"420204",parent:"420200"},{name:"铁山区",value:"420205",parent:"420200"},{name:"阳新县",value:"420222",parent:"420200"},{name:"大冶市",value:"420281",parent:"420200"},{name:"茅箭区",value:"420302",parent:"420300"},{name:"张湾区",value:"420303",parent:"420300"},{name:"郧阳区",value:"420304",parent:"420300"},{name:"郧西县",value:"420322",parent:"420300"},{name:"竹山县",value:"420323",parent:"420300"},{name:"竹溪县",value:"420324",parent:"420300"},{name:"房县",value:"420325",parent:"420300"},{name:"丹江口市",value:"420381",parent:"420300"},{name:"西陵区",value:"420502",parent:"420500"},{name:"伍家岗区",value:"420503",parent:"420500"},{name:"点军区",value:"420504",parent:"420500"},{name:"猇亭区",value:"420505",parent:"420500"},{name:"夷陵区",value:"420506",parent:"420500"},{name:"远安县",value:"420525",parent:"420500"},{name:"兴山县",value:"420526",parent:"420500"},{name:"秭归县",value:"420527",parent:"420500"},{name:"长阳土家族自治县",value:"420528",parent:"420500"},{name:"五峰土家族自治县",value:"420529",parent:"420500"},{name:"宜都市",value:"420581",parent:"420500"},{name:"当阳市",value:"420582",parent:"420500"},{name:"枝江市",value:"420583",parent:"420500"},{name:"襄城区",value:"420602",parent:"420600"},{name:"樊城区",value:"420606",parent:"420600"},{name:"襄州区",value:"420607",parent:"420600"},{name:"南漳县",value:"420624",parent:"420600"},{name:"谷城县",value:"420625",parent:"420600"},{name:"保康县",value:"420626",parent:"420600"},{name:"老河口市",value:"420682",parent:"420600"},{name:"枣阳市",value:"420683",parent:"420600"},{name:"宜城市",value:"420684",parent:"420600"},{name:"梁子湖区",value:"420702",parent:"420700"},{name:"华容区",value:"420703",parent:"420700"},{name:"鄂城区",value:"420704",parent:"420700"},{name:"东宝区",value:"420802",parent:"420800"},{name:"掇刀区",value:"420804",parent:"420800"},{name:"京山县",value:"420821",parent:"420800"},{name:"沙洋县",value:"420822",parent:"420800"},{name:"钟祥市",value:"420881",parent:"420800"},{name:"孝南区",value:"420902",parent:"420900"},{name:"孝昌县",value:"420921",parent:"420900"},{name:"大悟县",value:"420922",parent:"420900"},{name:"云梦县",value:"420923",parent:"420900"},{name:"应城市",value:"420981",parent:"420900"},{name:"安陆市",value:"420982",parent:"420900"},{name:"汉川市",value:"420984",parent:"420900"},{name:"沙市区",value:"421002",parent:"421000"},{name:"荆州区",value:"421003",parent:"421000"},{name:"公安县",value:"421022",parent:"421000"},{name:"监利县",value:"421023",parent:"421000"},{name:"江陵县",value:"421024",parent:"421000"},{name:"石首市",value:"421081",parent:"421000"},{name:"洪湖市",value:"421083",parent:"421000"},{name:"松滋市",value:"421087",parent:"421000"},{name:"黄州区",value:"421102",parent:"421100"},{name:"团风县",value:"421121",parent:"421100"},{name:"红安县",value:"421122",parent:"421100"},{name:"罗田县",value:"421123",parent:"421100"},{name:"英山县",value:"421124",parent:"421100"},{name:"浠水县",value:"421125",parent:"421100"},{name:"蕲春县",value:"421126",parent:"421100"},{name:"黄梅县",value:"421127",parent:"421100"},{name:"麻城市",value:"421181",parent:"421100"},{name:"武穴市",value:"421182",parent:"421100"},{name:"咸安区",value:"421202",parent:"421200"},{name:"嘉鱼县",value:"421221",parent:"421200"},{name:"通城县",value:"421222",parent:"421200"},{name:"崇阳县",value:"421223",parent:"421200"},{name:"通山县",value:"421224",parent:"421200"},{name:"赤壁市",value:"421281",parent:"421200"},{name:"曾都区",value:"421303",parent:"421300"},{name:"随县",value:"421321",parent:"421300"},{name:"广水市",value:"421381",parent:"421300"},{name:"恩施市",value:"422801",parent:"422800"},{name:"利川市",value:"422802",parent:"422800"},{name:"建始县",value:"422822",parent:"422800"},{name:"巴东县",value:"422823",parent:"422800"},{name:"宣恩县",value:"422825",parent:"422800"},{name:"咸丰县",value:"422826",parent:"422800"},{name:"来凤县",value:"422827",parent:"422800"},{name:"鹤峰县",value:"422828",parent:"422800"},{name:"长沙市",value:"430100",parent:"430000"},{name:"株洲市",value:"430200",parent:"430000"},{name:"湘潭市",value:"430300",parent:"430000"},{name:"衡阳市",value:"430400",parent:"430000"},{name:"邵阳市",value:"430500",parent:"430000"},{name:"岳阳市",value:"430600",parent:"430000"},{name:"常德市",value:"430700",parent:"430000"},{name:"张家界市",value:"430800",parent:"430000"},{name:"益阳市",value:"430900",parent:"430000"},{name:"郴州市",value:"431000",parent:"430000"},{name:"永州市",value:"431100",parent:"430000"},{name:"怀化市",value:"431200",parent:"430000"},{name:"娄底市",value:"431300",parent:"430000"},{name:"湘西土家族苗族自治州",value:"433100",parent:"430000"},{name:"芙蓉区",value:"430102",parent:"430100"},{name:"天心区",value:"430103",parent:"430100"},{name:"岳麓区",value:"430104",parent:"430100"},{name:"开福区",value:"430105",parent:"430100"},{name:"雨花区",value:"430111",parent:"430100"},{name:"望城区",value:"430112",parent:"430100"},{name:"长沙县",value:"430121",parent:"430100"},{name:"宁乡县",value:"430124",parent:"430100"},{name:"浏阳市",value:"430181",parent:"430100"},{name:"荷塘区",value:"430202",parent:"430200"},{name:"芦淞区",value:"430203",parent:"430200"},{name:"石峰区",value:"430204",parent:"430200"},{name:"天元区",value:"430211",parent:"430200"},{name:"株洲县",value:"430221",parent:"430200"},{name:"攸县",value:"430223",parent:"430200"},{name:"茶陵县",value:"430224",parent:"430200"},{name:"炎陵县",value:"430225",parent:"430200"},{name:"醴陵市",value:"430281",parent:"430200"},{name:"雨湖区",value:"430302",parent:"430300"},{name:"岳塘区",value:"430304",parent:"430300"},{name:"湘潭县",value:"430321",parent:"430300"},{name:"湘乡市",value:"430381",parent:"430300"},{name:"韶山市",value:"430382",parent:"430300"},{name:"珠晖区",value:"430405",parent:"430400"},{name:"雁峰区",value:"430406",parent:"430400"},{name:"石鼓区",value:"430407",parent:"430400"},{name:"蒸湘区",value:"430408",parent:"430400"},{name:"南岳区",value:"430412",parent:"430400"},{name:"衡阳县",value:"430421",parent:"430400"},{name:"衡南县",value:"430422",parent:"430400"},{name:"衡山县",value:"430423",parent:"430400"},{name:"衡东县",value:"430424",parent:"430400"},{name:"祁东县",value:"430426",parent:"430400"},{name:"耒阳市",value:"430481",parent:"430400"},{name:"常宁市",value:"430482",parent:"430400"},{name:"双清区",value:"430502",parent:"430500"},{name:"大祥区",value:"430503",parent:"430500"},{name:"北塔区",value:"430511",parent:"430500"},{name:"邵东县",value:"430521",parent:"430500"},{name:"新邵县",value:"430522",parent:"430500"},{name:"邵阳县",value:"430523",parent:"430500"},{name:"隆回县",value:"430524",parent:"430500"},{name:"洞口县",value:"430525",parent:"430500"},{name:"绥宁县",value:"430527",parent:"430500"},{name:"新宁县",value:"430528",parent:"430500"},{name:"城步苗族自治县",value:"430529",parent:"430500"},{name:"武冈市",value:"430581",parent:"430500"},{name:"岳阳楼区",value:"430602",parent:"430600"},{name:"云溪区",value:"430603",parent:"430600"},{name:"君山区",value:"430611",parent:"430600"},{name:"岳阳县",value:"430621",parent:"430600"},{name:"华容县",value:"430623",parent:"430600"},{name:"湘阴县",value:"430624",parent:"430600"},{name:"平江县",value:"430626",parent:"430600"},{name:"汨罗市",value:"430681",parent:"430600"},{name:"临湘市",value:"430682",parent:"430600"},{name:"武陵区",value:"430702",parent:"430700"},{name:"鼎城区",value:"430703",parent:"430700"},{name:"安乡县",value:"430721",parent:"430700"},{name:"汉寿县",value:"430722",parent:"430700"},{name:"澧县",value:"430723",parent:"430700"},{name:"临澧县",value:"430724",parent:"430700"},{name:"桃源县",value:"430725",parent:"430700"},{name:"石门县",value:"430726",parent:"430700"},{name:"津市市",value:"430781",parent:"430700"},{name:"永定区",value:"430802",parent:"430800"},{name:"武陵源区",value:"430811",parent:"430800"},{name:"慈利县",value:"430821",parent:"430800"},{name:"桑植县",value:"430822",parent:"430800"},{name:"资阳区",value:"430902",parent:"430900"},{name:"赫山区",value:"430903",parent:"430900"},{name:"南县",value:"430921",parent:"430900"},{name:"桃江县",value:"430922",parent:"430900"},{name:"安化县",value:"430923",parent:"430900"},{name:"沅江市",value:"430981",parent:"430900"},{name:"北湖区",value:"431002",parent:"431000"},{name:"苏仙区",value:"431003",parent:"431000"},{name:"桂阳县",value:"431021",parent:"431000"},{name:"宜章县",value:"431022",parent:"431000"},{name:"永兴县",value:"431023",parent:"431000"},{name:"嘉禾县",value:"431024",parent:"431000"},{name:"临武县",value:"431025",parent:"431000"},{name:"汝城县",value:"431026",parent:"431000"},{name:"桂东县",value:"431027",parent:"431000"},{name:"安仁县",value:"431028",parent:"431000"},{name:"资兴市",value:"431081",parent:"431000"},{name:"零陵区",value:"431102",parent:"431100"},{name:"冷水滩区",value:"431103",parent:"431100"},{name:"祁阳县",value:"431121",parent:"431100"},{name:"东安县",value:"431122",parent:"431100"},{name:"双牌县",value:"431123",parent:"431100"},{name:"道县",value:"431124",parent:"431100"},{name:"江永县",value:"431125",parent:"431100"},{name:"宁远县",value:"431126",parent:"431100"},{name:"蓝山县",value:"431127",parent:"431100"},{name:"新田县",value:"431128",parent:"431100"},{name:"江华瑶族自治县",value:"431129",parent:"431100"},{name:"鹤城区",value:"431202",parent:"431200"},{name:"中方县",value:"431221",parent:"431200"},{name:"沅陵县",value:"431222",parent:"431200"},{name:"辰溪县",value:"431223",parent:"431200"},{name:"溆浦县",value:"431224",parent:"431200"},{name:"会同县",value:"431225",parent:"431200"},{name:"麻阳苗族自治县",value:"431226",parent:"431200"},{name:"新晃侗族自治县",value:"431227",parent:"431200"},{name:"芷江侗族自治县",value:"431228",parent:"431200"},{name:"靖州苗族侗族自治县",value:"431229",parent:"431200"},{name:"通道侗族自治县",value:"431230",parent:"431200"},{name:"洪江市",value:"431281",parent:"431200"},{name:"娄星区",value:"431302",parent:"431300"},{name:"双峰县",value:"431321",parent:"431300"},{name:"新化县",value:"431322",parent:"431300"},{name:"冷水江市",value:"431381",parent:"431300"},{name:"涟源市",value:"431382",parent:"431300"},{name:"吉首市",value:"433101",parent:"433100"},{name:"泸溪县",value:"433122",parent:"433100"},{name:"凤凰县",value:"433123",parent:"433100"},{name:"花垣县",value:"433124",parent:"433100"},{name:"保靖县",value:"433125",parent:"433100"},{name:"古丈县",value:"433126",parent:"433100"},{name:"永顺县",value:"433127",parent:"433100"},{name:"龙山县",value:"433130",parent:"433100"},{name:"广州市",value:"440100",parent:"440000"},{name:"韶关市",value:"440200",parent:"440000"},{name:"深圳市",value:"440300",parent:"440000"},{name:"珠海市",value:"440400",parent:"440000"},{name:"汕头市",value:"440500",parent:"440000"},{name:"佛山市",value:"440600",parent:"440000"},{name:"江门市",value:"440700",parent:"440000"},{name:"湛江市",value:"440800",parent:"440000"},{name:"茂名市",value:"440900",parent:"440000"},{name:"肇庆市",value:"441200",parent:"440000"},{name:"惠州市",value:"441300",parent:"440000"},{name:"梅州市",value:"441400",parent:"440000"},{name:"汕尾市",value:"441500",parent:"440000"},{name:"河源市",value:"441600",parent:"440000"},{name:"阳江市",value:"441700",parent:"440000"},{name:"清远市",value:"441800",parent:"440000"},{name:"东莞市",value:"441900",parent:"440000"},{name:"中山市",value:"442000",parent:"440000"},{name:"潮州市",value:"445100",parent:"440000"},{name:"揭阳市",value:"445200",parent:"440000"},{name:"云浮市",value:"445300",parent:"440000"},{name:"荔湾区",value:"440103",parent:"440100"},{name:"越秀区",value:"440104",parent:"440100"},{name:"海珠区",value:"440105",parent:"440100"},{name:"天河区",value:"440106",parent:"440100"},{name:"白云区",value:"440111",parent:"440100"},{name:"黄埔区",value:"440112",parent:"440100"},{name:"番禺区",value:"440113",parent:"440100"},{name:"花都区",value:"440114",parent:"440100"},{name:"南沙区",value:"440115",parent:"440100"},{name:"从化区",value:"440117",parent:"440100"},{name:"增城区",value:"440118",parent:"440100"},{name:"武江区",value:"440203",parent:"440200"},{name:"浈江区",value:"440204",parent:"440200"},{name:"曲江区",value:"440205",parent:"440200"},{name:"始兴县",value:"440222",parent:"440200"},{name:"仁化县",value:"440224",parent:"440200"},{name:"翁源县",value:"440229",parent:"440200"},{name:"乳源瑶族自治县",value:"440232",parent:"440200"},{name:"新丰县",value:"440233",parent:"440200"},{name:"乐昌市",value:"440281",parent:"440200"},{name:"南雄市",value:"440282",parent:"440200"},{name:"罗湖区",value:"440303",parent:"440300"},{name:"福田区",value:"440304",parent:"440300"},{name:"南山区",value:"440305",parent:"440300"},{name:"宝安区",value:"440306",parent:"440300"},{name:"龙岗区",value:"440307",parent:"440300"},{name:"盐田区",value:"440308",parent:"440300"},{name:"香洲区",value:"440402",parent:"440400"},{name:"斗门区",value:"440403",parent:"440400"},{name:"金湾区",value:"440404",parent:"440400"},{name:"龙湖区",value:"440507",parent:"440500"},{name:"金平区",value:"440511",parent:"440500"},{name:"濠江区",value:"440512",parent:"440500"},{name:"潮阳区",value:"440513",parent:"440500"},{name:"潮南区",value:"440514",parent:"440500"},{name:"澄海区",value:"440515",parent:"440500"},{name:"南澳县",value:"440523",parent:"440500"},{name:"禅城区",value:"440604",parent:"440600"},{name:"南海区",value:"440605",parent:"440600"},{name:"顺德区",value:"440606",parent:"440600"},{name:"三水区",value:"440607",parent:"440600"},{name:"高明区",value:"440608",parent:"440600"},{name:"蓬江区",value:"440703",parent:"440700"},{name:"江海区",value:"440704",parent:"440700"},{name:"新会区",value:"440705",parent:"440700"},{name:"台山市",value:"440781",parent:"440700"},{name:"开平市",value:"440783",parent:"440700"},{name:"鹤山市",value:"440784",parent:"440700"},{name:"恩平市",value:"440785",parent:"440700"},{name:"赤坎区",value:"440802",parent:"440800"},{name:"霞山区",value:"440803",parent:"440800"},{name:"坡头区",value:"440804",parent:"440800"},{name:"麻章区",value:"440811",parent:"440800"},{name:"遂溪县",value:"440823",parent:"440800"},{name:"徐闻县",value:"440825",parent:"440800"},{name:"廉江市",value:"440881",parent:"440800"},{name:"雷州市",value:"440882",parent:"440800"},{name:"吴川市",value:"440883",parent:"440800"},{name:"茂南区",value:"440902",parent:"440900"},{name:"电白区",value:"440904",parent:"440900"},{name:"高州市",value:"440981",parent:"440900"},{name:"化州市",value:"440982",parent:"440900"},{name:"信宜市",value:"440983",parent:"440900"},{name:"端州区",value:"441202",parent:"441200"},{name:"鼎湖区",value:"441203",parent:"441200"},{name:"高要区",value:"441204",parent:"441200"},{name:"广宁县",value:"441223",parent:"441200"},{name:"怀集县",value:"441224",parent:"441200"},{name:"封开县",value:"441225",parent:"441200"},{name:"德庆县",value:"441226",parent:"441200"},{name:"四会市",value:"441284",parent:"441200"},{name:"惠城区",value:"441302",parent:"441300"},{name:"惠阳区",value:"441303",parent:"441300"},{name:"博罗县",value:"441322",parent:"441300"},{name:"惠东县",value:"441323",parent:"441300"},{name:"龙门县",value:"441324",parent:"441300"},{name:"梅江区",value:"441402",parent:"441400"},{name:"梅县区",value:"441403",parent:"441400"},{name:"大埔县",value:"441422",parent:"441400"},{name:"丰顺县",value:"441423",parent:"441400"},{name:"五华县",value:"441424",parent:"441400"},{name:"平远县",value:"441426",parent:"441400"},{name:"蕉岭县",value:"441427",parent:"441400"},{name:"兴宁市",value:"441481",parent:"441400"},{name:"城区",value:"441502",parent:"441500"},{name:"海丰县",value:"441521",parent:"441500"},{name:"陆河县",value:"441523",parent:"441500"},{name:"陆丰市",value:"441581",parent:"441500"},{name:"源城区",value:"441602",parent:"441600"},{name:"紫金县",value:"441621",parent:"441600"},{name:"龙川县",value:"441622",parent:"441600"},{name:"连平县",value:"441623",parent:"441600"},{name:"和平县",value:"441624",parent:"441600"},{name:"东源县",value:"441625",parent:"441600"},{name:"江城区",value:"441702",parent:"441700"},{name:"阳东区",value:"441704",parent:"441700"},{name:"阳西县",value:"441721",parent:"441700"},{name:"阳春市",value:"441781",parent:"441700"},{name:"清城区",value:"441802",parent:"441800"},{name:"清新区",value:"441803",parent:"441800"},{name:"佛冈县",value:"441821",parent:"441800"},{name:"阳山县",value:"441823",parent:"441800"},{name:"连山壮族瑶族自治县",value:"441825",parent:"441800"},{name:"连南瑶族自治县",value:"441826",parent:"441800"},{name:"英德市",value:"441881",parent:"441800"},{name:"连州市",value:"441882",parent:"441800"},{name:"湘桥区",value:"445102",parent:"445100"},{name:"潮安区",value:"445103",parent:"445100"},{name:"饶平县",value:"445122",parent:"445100"},{name:"榕城区",value:"445202",parent:"445200"},{name:"揭东区",value:"445203",parent:"445200"},{name:"揭西县",value:"445222",parent:"445200"},{name:"惠来县",value:"445224",parent:"445200"},{name:"普宁市",value:"445281",parent:"445200"},{name:"云城区",value:"445302",parent:"445300"},{name:"云安区",value:"445303",parent:"445300"},{name:"新兴县",value:"445321",parent:"445300"},{name:"郁南县",value:"445322",parent:"445300"},{name:"罗定市",value:"445381",parent:"445300"},{name:"南宁市",value:"450100",parent:"450000"},{name:"柳州市",value:"450200",parent:"450000"},{name:"桂林市",value:"450300",parent:"450000"},{name:"梧州市",value:"450400",parent:"450000"},{name:"北海市",value:"450500",parent:"450000"},{name:"防城港市",value:"450600",parent:"450000"},{name:"钦州市",value:"450700",parent:"450000"},{name:"贵港市",value:"450800",parent:"450000"},{name:"玉林市",value:"450900",parent:"450000"},{name:"百色市",value:"451000",parent:"450000"},{name:"贺州市",value:"451100",parent:"450000"},{name:"河池市",value:"451200",parent:"450000"},{name:"来宾市",value:"451300",parent:"450000"},{name:"崇左市",value:"451400",parent:"450000"},{name:"兴宁区",value:"450102",parent:"450100"},{name:"青秀区",value:"450103",parent:"450100"},{name:"江南区",value:"450105",parent:"450100"},{name:"西乡塘区",value:"450107",parent:"450100"},{name:"良庆区",value:"450108",parent:"450100"},{name:"邕宁区",value:"450109",parent:"450100"},{name:"武鸣区",value:"450110",parent:"450100"},{name:"隆安县",value:"450123",parent:"450100"},{name:"马山县",value:"450124",parent:"450100"},{name:"上林县",value:"450125",parent:"450100"},{name:"宾阳县",value:"450126",parent:"450100"},{name:"横县",value:"450127",parent:"450100"},{name:"城中区",value:"450202",parent:"450200"},{name:"鱼峰区",value:"450203",parent:"450200"},{name:"柳南区",value:"450204",parent:"450200"},{name:"柳北区",value:"450205",parent:"450200"},{name:"柳江区",value:"450206",parent:"450200"},{name:"柳城县",value:"450222",parent:"450200"},{name:"鹿寨县",value:"450223",parent:"450200"},{name:"融安县",value:"450224",parent:"450200"},{name:"融水苗族自治县",value:"450225",parent:"450200"},{name:"三江侗族自治县",value:"450226",parent:"450200"},{name:"秀峰区",value:"450302",parent:"450300"},{name:"叠彩区",value:"450303",parent:"450300"},{name:"象山区",value:"450304",parent:"450300"},{name:"七星区",value:"450305",parent:"450300"},{name:"雁山区",value:"450311",parent:"450300"},{name:"临桂区",value:"450312",parent:"450300"},{name:"阳朔县",value:"450321",parent:"450300"},{name:"灵川县",value:"450323",parent:"450300"},{name:"全州县",value:"450324",parent:"450300"},{name:"兴安县",value:"450325",parent:"450300"},{name:"永福县",value:"450326",parent:"450300"},{name:"灌阳县",value:"450327",parent:"450300"},{name:"龙胜各族自治县",value:"450328",parent:"450300"},{name:"资源县",value:"450329",parent:"450300"},{name:"平乐县",value:"450330",parent:"450300"},{name:"荔浦县",value:"450331",parent:"450300"},{name:"恭城瑶族自治县",value:"450332",parent:"450300"},{name:"万秀区",value:"450403",parent:"450400"},{name:"长洲区",value:"450405",parent:"450400"},{name:"龙圩区",value:"450406",parent:"450400"},{name:"苍梧县",value:"450421",parent:"450400"},{name:"藤县",value:"450422",parent:"450400"},{name:"蒙山县",value:"450423",parent:"450400"},{name:"岑溪市",value:"450481",parent:"450400"},{name:"海城区",value:"450502",parent:"450500"},{name:"银海区",value:"450503",parent:"450500"},{name:"铁山港区",value:"450512",parent:"450500"},{name:"合浦县",value:"450521",parent:"450500"},{name:"港口区",value:"450602",parent:"450600"},{name:"防城区",value:"450603",parent:"450600"},{name:"上思县",value:"450621",parent:"450600"},{name:"东兴市",value:"450681",parent:"450600"},{name:"钦南区",value:"450702",parent:"450700"},{name:"钦北区",value:"450703",parent:"450700"},{name:"灵山县",value:"450721",parent:"450700"},{name:"浦北县",value:"450722",parent:"450700"},{name:"港北区",value:"450802",parent:"450800"},{name:"港南区",value:"450803",parent:"450800"},{name:"覃塘区",value:"450804",parent:"450800"},{name:"平南县",value:"450821",parent:"450800"},{name:"桂平市",value:"450881",parent:"450800"},{name:"玉州区",value:"450902",parent:"450900"},{name:"福绵区",value:"450903",parent:"450900"},{name:"容县",value:"450921",parent:"450900"},{name:"陆川县",value:"450922",parent:"450900"},{name:"博白县",value:"450923",parent:"450900"},{name:"兴业县",value:"450924",parent:"450900"},{name:"北流市",value:"450981",parent:"450900"},{name:"右江区",value:"451002",parent:"451000"},{name:"田阳县",value:"451021",parent:"451000"},{name:"田东县",value:"451022",parent:"451000"},{name:"平果县",value:"451023",parent:"451000"},{name:"德保县",value:"451024",parent:"451000"},{name:"那坡县",value:"451026",parent:"451000"},{name:"凌云县",value:"451027",parent:"451000"},{name:"乐业县",value:"451028",parent:"451000"},{name:"田林县",value:"451029",parent:"451000"},{name:"西林县",value:"451030",parent:"451000"},{name:"隆林各族自治县",value:"451031",parent:"451000"},{name:"靖西市",value:"451081",parent:"451000"},{name:"八步区",value:"451102",parent:"451100"},{name:"平桂区",value:"451103",parent:"451100"},{name:"昭平县",value:"451121",parent:"451100"},{name:"钟山县",value:"451122",parent:"451100"},{name:"富川瑶族自治县",value:"451123",parent:"451100"},{name:"金城江区",value:"451202",parent:"451200"},{name:"南丹县",value:"451221",parent:"451200"},{name:"天峨县",value:"451222",parent:"451200"},{name:"凤山县",value:"451223",parent:"451200"},{name:"东兰县",value:"451224",parent:"451200"},{name:"罗城仫佬族自治县",value:"451225",parent:"451200"},{name:"环江毛南族自治县",value:"451226",parent:"451200"},{name:"巴马瑶族自治县",value:"451227",parent:"451200"},{name:"都安瑶族自治县",value:"451228",parent:"451200"},{name:"大化瑶族自治县",value:"451229",parent:"451200"},{name:"宜州市",value:"451281",parent:"451200"},{name:"兴宾区",value:"451302",parent:"451300"},{name:"忻城县",value:"451321",parent:"451300"},{name:"象州县",value:"451322",parent:"451300"},{name:"武宣县",value:"451323",parent:"451300"},{name:"金秀瑶族自治县",value:"451324",parent:"451300"},{name:"合山市",value:"451381",parent:"451300"},{name:"江州区",value:"451402",parent:"451400"},{name:"扶绥县",value:"451421",parent:"451400"},{name:"宁明县",value:"451422",parent:"451400"},{name:"龙州县",value:"451423",parent:"451400"},{name:"大新县",value:"451424",parent:"451400"},{name:"天等县",value:"451425",parent:"451400"},{name:"凭祥市",value:"451481",parent:"451400"},{name:"海口市",value:"460100",parent:"460000"},{name:"三亚市",value:"460200",parent:"460000"},{name:"三沙市",value:"460300",parent:"460000"},{name:"儋州市",value:"460400",parent:"460000"},{name:"五指山市",value:"469001",parent:"460000"},{name:"琼海市",value:"469002",parent:"460000"},{name:"文昌市",value:"469005",parent:"460000"},{name:"万宁市",value:"469006",parent:"460000"},{name:"东方市",value:"469007",parent:"460000"},{name:"定安县",value:"469021",parent:"460000"},{name:"屯昌县",value:"469022",parent:"460000"},{name:"澄迈县",value:"469023",parent:"460000"},{name:"临高县",value:"469024",parent:"460000"},{name:"白沙黎族自治县",value:"469025",parent:"460000"},{name:"昌江黎族自治县",value:"469026",parent:"460000"},{name:"乐东黎族自治县",value:"469027",parent:"460000"},{name:"陵水黎族自治县",value:"469028",parent:"460000"},{name:"保亭黎族苗族自治县",value:"469029",parent:"460000"},{name:"琼中黎族苗族自治县",value:"469030",parent:"460000"},{name:"秀英区",value:"460105",parent:"460100"},{name:"龙华区",value:"460106",parent:"460100"},{name:"琼山区",value:"460107",parent:"460100"},{name:"美兰区",value:"460108",parent:"460100"},{name:"海棠区",value:"460202",parent:"460200"},{name:"吉阳区",value:"460203",parent:"460200"},{name:"天涯区",value:"460204",parent:"460200"},{name:"崖州区",value:"460205",parent:"460200"},{name:"市辖区",value:"500100",parent:"500000"},{name:"县",value:"500200",parent:"500000"},{name:"万州区",value:"500101",parent:"500100"},{name:"涪陵区",value:"500102",parent:"500100"},{name:"渝中区",value:"500103",parent:"500100"},{name:"大渡口区",value:"500104",parent:"500100"},{name:"江北区",value:"500105",parent:"500100"},{name:"沙坪坝区",value:"500106",parent:"500100"},{name:"九龙坡区",value:"500107",parent:"500100"},{name:"南岸区",value:"500108",parent:"500100"},{name:"北碚区",value:"500109",parent:"500100"},{name:"綦江区",value:"500110",parent:"500100"},{name:"大足区",value:"500111",parent:"500100"},{name:"渝北区",value:"500112",parent:"500100"},{name:"巴南区",value:"500113",parent:"500100"},{name:"黔江区",value:"500114",parent:"500100"},{name:"长寿区",value:"500115",parent:"500100"},{name:"江津区",value:"500116",parent:"500100"},{name:"合川区",value:"500117",parent:"500100"},{name:"永川区",value:"500118",parent:"500100"},{name:"南川区",value:"500119",parent:"500100"},{name:"璧山区",value:"500120",parent:"500100"},{name:"铜梁区",value:"500151",parent:"500100"},{name:"潼南区",value:"500152",parent:"500100"},{name:"荣昌区",value:"500153",parent:"500100"},{name:"开州区",value:"500154",parent:"500100"},{name:"梁平县",value:"500228",parent:"500200"},{name:"城口县",value:"500229",parent:"500200"},{name:"丰都县",value:"500230",parent:"500200"},{name:"垫江县",value:"500231",parent:"500200"},{name:"武隆县",value:"500232",parent:"500200"},{name:"忠县",value:"500233",parent:"500200"},{name:"云阳县",value:"500235",parent:"500200"},{name:"奉节县",value:"500236",parent:"500200"},{name:"巫山县",value:"500237",parent:"500200"},{name:"巫溪县",value:"500238",parent:"500200"},{name:"石柱土家族自治县",value:"500240",parent:"500200"},{name:"秀山土家族苗族自治县",value:"500241",parent:"500200"},{name:"酉阳土家族苗族自治县",value:"500242",parent:"500200"},{name:"彭水苗族土家族自治县",value:"500243",parent:"500200"},{name:"成都市",value:"510100",parent:"510000"},{name:"自贡市",value:"510300",parent:"510000"},{name:"攀枝花市",value:"510400",parent:"510000"},{name:"泸州市",value:"510500",parent:"510000"},{name:"德阳市",value:"510600",parent:"510000"},{name:"绵阳市",value:"510700",parent:"510000"},{name:"广元市",value:"510800",parent:"510000"},{name:"遂宁市",value:"510900",parent:"510000"},{name:"内江市",value:"511000",parent:"510000"},{name:"乐山市",value:"511100",parent:"510000"},{name:"南充市",value:"511300",parent:"510000"},{name:"眉山市",value:"511400",parent:"510000"},{name:"宜宾市",value:"511500",parent:"510000"},{name:"广安市",value:"511600",parent:"510000"},{name:"达州市",value:"511700",parent:"510000"},{name:"雅安市",value:"511800",parent:"510000"},{name:"巴中市",value:"511900",parent:"510000"},{name:"资阳市",value:"512000",parent:"510000"},{name:"阿坝藏族羌族自治州",value:"513200",parent:"510000"},{name:"甘孜藏族自治州",value:"513300",parent:"510000"},{name:"凉山彝族自治州",value:"513400",parent:"510000"},{name:"锦江区",value:"510104",parent:"510100"},{name:"青羊区",value:"510105",parent:"510100"},{name:"金牛区",value:"510106",parent:"510100"},{name:"武侯区",value:"510107",parent:"510100"},{name:"成华区",value:"510108",parent:"510100"},{name:"龙泉驿区",value:"510112",parent:"510100"},{name:"青白江区",value:"510113",parent:"510100"},{name:"新都区",value:"510114",parent:"510100"},{name:"温江区",value:"510115",parent:"510100"},{name:"双流区",value:"510116",parent:"510100"},{name:"金堂县",value:"510121",parent:"510100"},{name:"郫县",value:"510124",parent:"510100"},{name:"大邑县",value:"510129",parent:"510100"},{name:"蒲江县",value:"510131",parent:"510100"},{name:"新津县",value:"510132",parent:"510100"},{name:"都江堰市",value:"510181",parent:"510100"},{name:"彭州市",value:"510182",parent:"510100"},{name:"邛崃市",value:"510183",parent:"510100"},{name:"崇州市",value:"510184",parent:"510100"},{name:"简阳市",value:"510185",parent:"510100"},{name:"自流井区",value:"510302",parent:"510300"},{name:"贡井区",value:"510303",parent:"510300"},{name:"大安区",value:"510304",parent:"510300"},{name:"沿滩区",value:"510311",parent:"510300"},{name:"荣县",value:"510321",parent:"510300"},{name:"富顺县",value:"510322",parent:"510300"},{name:"东区",value:"510402",parent:"510400"},{name:"西区",value:"510403",parent:"510400"},{name:"仁和区",value:"510411",parent:"510400"},{name:"米易县",value:"510421",parent:"510400"},{name:"盐边县",value:"510422",parent:"510400"},{name:"江阳区",value:"510502",parent:"510500"},{name:"纳溪区",value:"510503",parent:"510500"},{name:"龙马潭区",value:"510504",parent:"510500"},{name:"泸县",value:"510521",parent:"510500"},{name:"合江县",value:"510522",parent:"510500"},{name:"叙永县",value:"510524",parent:"510500"},{name:"古蔺县",value:"510525",parent:"510500"},{name:"旌阳区",value:"510603",parent:"510600"},{name:"中江县",value:"510623",parent:"510600"},{name:"罗江县",value:"510626",parent:"510600"},{name:"广汉市",value:"510681",parent:"510600"},{name:"什邡市",value:"510682",parent:"510600"},{name:"绵竹市",value:"510683",parent:"510600"},{name:"涪城区",value:"510703",parent:"510700"},{name:"游仙区",value:"510704",parent:"510700"},{name:"安州区",value:"510705",parent:"510700"},{name:"三台县",value:"510722",parent:"510700"},{name:"盐亭县",value:"510723",parent:"510700"},{name:"梓潼县",value:"510725",parent:"510700"},{name:"北川羌族自治县",value:"510726",parent:"510700"},{name:"平武县",value:"510727",parent:"510700"},{name:"江油市",value:"510781",parent:"510700"},{name:"利州区",value:"510802",parent:"510800"},{name:"昭化区",value:"510811",parent:"510800"},{name:"朝天区",value:"510812",parent:"510800"},{name:"旺苍县",value:"510821",parent:"510800"},{name:"青川县",value:"510822",parent:"510800"},{name:"剑阁县",value:"510823",parent:"510800"},{name:"苍溪县",value:"510824",parent:"510800"},{name:"船山区",value:"510903",parent:"510900"},{name:"安居区",value:"510904",parent:"510900"},{name:"蓬溪县",value:"510921",parent:"510900"},{name:"射洪县",value:"510922",parent:"510900"},{name:"大英县",value:"510923",parent:"510900"},{name:"市中区",value:"511002",parent:"511000"},{name:"东兴区",value:"511011",parent:"511000"},{name:"威远县",value:"511024",parent:"511000"},{name:"资中县",value:"511025",parent:"511000"},{name:"隆昌县",value:"511028",parent:"511000"},{name:"市中区",value:"511102",parent:"511100"},{name:"沙湾区",value:"511111",parent:"511100"},{name:"五通桥区",value:"511112",parent:"511100"},{name:"金口河区",value:"511113",parent:"511100"},{name:"犍为县",value:"511123",parent:"511100"},{name:"井研县",value:"511124",parent:"511100"},{name:"夹江县",value:"511126",parent:"511100"},{name:"沐川县",value:"511129",parent:"511100"},{name:"峨边彝族自治县",value:"511132",parent:"511100"},{name:"马边彝族自治县",value:"511133",parent:"511100"},{name:"峨眉山市",value:"511181",parent:"511100"},{name:"顺庆区",value:"511302",parent:"511300"},{name:"高坪区",value:"511303",parent:"511300"},{name:"嘉陵区",value:"511304",parent:"511300"},{name:"南部县",value:"511321",parent:"511300"},{name:"营山县",value:"511322",parent:"511300"},{name:"蓬安县",value:"511323",parent:"511300"},{name:"仪陇县",value:"511324",parent:"511300"},{name:"西充县",value:"511325",parent:"511300"},{name:"阆中市",value:"511381",parent:"511300"},{name:"东坡区",value:"511402",parent:"511400"},{name:"彭山区",value:"511403",parent:"511400"},{name:"仁寿县",value:"511421",parent:"511400"},{name:"洪雅县",value:"511423",parent:"511400"},{name:"丹棱县",value:"511424",parent:"511400"},{name:"青神县",value:"511425",parent:"511400"},{name:"翠屏区",value:"511502",parent:"511500"},{name:"南溪区",value:"511503",parent:"511500"},{name:"宜宾县",value:"511521",parent:"511500"},{name:"江安县",value:"511523",parent:"511500"},{name:"长宁县",value:"511524",parent:"511500"},{name:"高县",value:"511525",parent:"511500"},{name:"珙县",value:"511526",parent:"511500"},{name:"筠连县",value:"511527",parent:"511500"},{name:"兴文县",value:"511528",parent:"511500"},{name:"屏山县",value:"511529",parent:"511500"},{name:"广安区",value:"511602",parent:"511600"},{name:"前锋区",value:"511603",parent:"511600"},{name:"岳池县",value:"511621",parent:"511600"},{name:"武胜县",value:"511622",parent:"511600"},{name:"邻水县",value:"511623",parent:"511600"},{name:"华蓥市",value:"511681",parent:"511600"},{name:"通川区",value:"511702",parent:"511700"},{name:"达川区",value:"511703",parent:"511700"},{name:"宣汉县",value:"511722",parent:"511700"},{name:"开江县",value:"511723",parent:"511700"},{name:"大竹县",value:"511724",parent:"511700"},{name:"渠县",value:"511725",parent:"511700"},{name:"万源市",value:"511781",parent:"511700"},{name:"雨城区",value:"511802",parent:"511800"},{name:"名山区",value:"511803",parent:"511800"},{name:"荥经县",value:"511822",parent:"511800"},{name:"汉源县",value:"511823",parent:"511800"},{name:"石棉县",value:"511824",parent:"511800"},{name:"天全县",value:"511825",parent:"511800"},{name:"芦山县",value:"511826",parent:"511800"},{name:"宝兴县",value:"511827",parent:"511800"},{name:"巴州区",value:"511902",parent:"511900"},{name:"恩阳区",value:"511903",parent:"511900"},{name:"通江县",value:"511921",parent:"511900"},{name:"南江县",value:"511922",parent:"511900"},{name:"平昌县",value:"511923",parent:"511900"},{name:"雁江区",value:"512002",parent:"512000"},{name:"安岳县",value:"512021",parent:"512000"},{name:"乐至县",value:"512022",parent:"512000"},{name:"马尔康市",value:"513201",parent:"513200"},{name:"汶川县",value:"513221",parent:"513200"},{name:"理县",value:"513222",parent:"513200"},{name:"茂县",value:"513223",parent:"513200"},{name:"松潘县",value:"513224",parent:"513200"},{name:"九寨沟县",value:"513225",parent:"513200"},{name:"金川县",value:"513226",parent:"513200"},{name:"小金县",value:"513227",parent:"513200"},{name:"黑水县",value:"513228",parent:"513200"},{name:"壤塘县",value:"513230",parent:"513200"},{name:"阿坝县",value:"513231",parent:"513200"},{name:"若尔盖县",value:"513232",parent:"513200"},{name:"红原县",value:"513233",parent:"513200"},{name:"康定市",value:"513301",parent:"513300"},{name:"泸定县",value:"513322",parent:"513300"},{name:"丹巴县",value:"513323",parent:"513300"},{name:"九龙县",value:"513324",parent:"513300"},{name:"雅江县",value:"513325",parent:"513300"},{name:"道孚县",value:"513326",parent:"513300"},{name:"炉霍县",value:"513327",parent:"513300"},{name:"甘孜县",value:"513328",parent:"513300"},{name:"新龙县",value:"513329",parent:"513300"},{name:"德格县",value:"513330",parent:"513300"},{name:"白玉县",value:"513331",parent:"513300"},{name:"石渠县",value:"513332",parent:"513300"},{name:"色达县",value:"513333",parent:"513300"},{name:"理塘县",value:"513334",parent:"513300"},{name:"巴塘县",value:"513335",parent:"513300"},{name:"乡城县",value:"513336",parent:"513300"},{name:"稻城县",value:"513337",parent:"513300"},{name:"得荣县",value:"513338",parent:"513300"},{name:"西昌市",value:"513401",parent:"513400"},{name:"木里藏族自治县",value:"513422",parent:"513400"},{name:"盐源县",value:"513423",parent:"513400"},{name:"德昌县",value:"513424",parent:"513400"},{name:"会理县",value:"513425",parent:"513400"},{name:"会东县",value:"513426",parent:"513400"},{name:"宁南县",value:"513427",parent:"513400"},{name:"普格县",value:"513428",parent:"513400"},{name:"布拖县",value:"513429",parent:"513400"},{name:"金阳县",value:"513430",parent:"513400"},{name:"昭觉县",value:"513431",parent:"513400"},{name:"喜德县",value:"513432",parent:"513400"},{name:"冕宁县",value:"513433",parent:"513400"},{name:"越西县",value:"513434",parent:"513400"},{name:"甘洛县",value:"513435",parent:"513400"},{name:"美姑县",value:"513436",parent:"513400"},{name:"雷波县",value:"513437",parent:"513400"},{name:"贵阳市",value:"520100",parent:"520000"},{name:"六盘水市",value:"520200",parent:"520000"},{name:"遵义市",value:"520300",parent:"520000"},{name:"安顺市",value:"520400",parent:"520000"},{name:"毕节市",value:"520500",parent:"520000"},{name:"铜仁市",value:"520600",parent:"520000"},{name:"黔西南布依族苗族自治州",value:"522300",parent:"520000"},{name:"黔东南苗族侗族自治州",value:"522600",parent:"520000"},{name:"黔南布依族苗族自治州",value:"522700",parent:"520000"},{name:"南明区",value:"520102",parent:"520100"},{name:"云岩区",value:"520103",parent:"520100"},{name:"花溪区",value:"520111",parent:"520100"},{name:"乌当区",value:"520112",parent:"520100"},{name:"白云区",value:"520113",parent:"520100"},{name:"观山湖区",value:"520115",parent:"520100"},{name:"开阳县",value:"520121",parent:"520100"},{name:"息烽县",value:"520122",parent:"520100"},{name:"修文县",value:"520123",parent:"520100"},{name:"清镇市",value:"520181",parent:"520100"},{name:"钟山区",value:"520201",parent:"520200"},{name:"六枝特区",value:"520203",parent:"520200"},{name:"水城县",value:"520221",parent:"520200"},{name:"盘县",value:"520222",parent:"520200"},{name:"红花岗区",value:"520302",parent:"520300"},{name:"汇川区",value:"520303",parent:"520300"},{name:"播州区",value:"520304",parent:"520300"},{name:"桐梓县",value:"520322",parent:"520300"},{name:"绥阳县",value:"520323",parent:"520300"},{name:"正安县",value:"520324",parent:"520300"},{name:"道真仡佬族苗族自治县",value:"520325",parent:"520300"},{name:"务川仡佬族苗族自治县",value:"520326",parent:"520300"},{name:"凤冈县",value:"520327",parent:"520300"},{name:"湄潭县",value:"520328",parent:"520300"},{name:"余庆县",value:"520329",parent:"520300"},{name:"习水县",value:"520330",parent:"520300"},{name:"赤水市",value:"520381",parent:"520300"},{name:"仁怀市",value:"520382",parent:"520300"},{name:"西秀区",value:"520402",parent:"520400"},{name:"平坝区",value:"520403",parent:"520400"},{name:"普定县",value:"520422",parent:"520400"},{name:"镇宁布依族苗族自治县",value:"520423",parent:"520400"},{name:"关岭布依族苗族自治县",value:"520424",parent:"520400"},{name:"紫云苗族布依族自治县",value:"520425",parent:"520400"},{name:"七星关区",value:"520502",parent:"520500"},{name:"大方县",value:"520521",parent:"520500"},{name:"黔西县",value:"520522",parent:"520500"},{name:"金沙县",value:"520523",parent:"520500"},{name:"织金县",value:"520524",parent:"520500"},{name:"纳雍县",value:"520525",parent:"520500"},{name:"威宁彝族回族苗族自治县",value:"520526",parent:"520500"},{name:"赫章县",value:"520527",parent:"520500"},{name:"碧江区",value:"520602",parent:"520600"},{name:"万山区",value:"520603",parent:"520600"},{name:"江口县",value:"520621",parent:"520600"},{name:"玉屏侗族自治县",value:"520622",parent:"520600"},{name:"石阡县",value:"520623",parent:"520600"},{name:"思南县",value:"520624",parent:"520600"},{name:"印江土家族苗族自治县",value:"520625",parent:"520600"},{name:"德江县",value:"520626",parent:"520600"},{name:"沿河土家族自治县",value:"520627",parent:"520600"},{name:"松桃苗族自治县",value:"520628",parent:"520600"},{name:"兴义市",value:"522301",parent:"522300"},{name:"兴仁县",value:"522322",parent:"522300"},{name:"普安县",value:"522323",parent:"522300"},{name:"晴隆县",value:"522324",parent:"522300"},{name:"贞丰县",value:"522325",parent:"522300"},{name:"望谟县",value:"522326",parent:"522300"},{name:"册亨县",value:"522327",parent:"522300"},{name:"安龙县",value:"522328",parent:"522300"},{name:"凯里市",value:"522601",parent:"522600"},{name:"黄平县",value:"522622",parent:"522600"},{name:"施秉县",value:"522623",parent:"522600"},{name:"三穗县",value:"522624",parent:"522600"},{name:"镇远县",value:"522625",parent:"522600"},{name:"岑巩县",value:"522626",parent:"522600"},{name:"天柱县",value:"522627",parent:"522600"},{name:"锦屏县",value:"522628",parent:"522600"},{name:"剑河县",value:"522629",parent:"522600"},{name:"台江县",value:"522630",parent:"522600"},{name:"黎平县",value:"522631",parent:"522600"},{name:"榕江县",value:"522632",parent:"522600"},{name:"从江县",value:"522633",parent:"522600"},{name:"雷山县",value:"522634",parent:"522600"},{name:"麻江县",value:"522635",parent:"522600"},{name:"丹寨县",value:"522636",parent:"522600"},{name:"都匀市",value:"522701",parent:"522700"},{name:"福泉市",value:"522702",parent:"522700"},{name:"荔波县",value:"522722",parent:"522700"},{name:"贵定县",value:"522723",parent:"522700"},{name:"瓮安县",value:"522725",parent:"522700"},{name:"独山县",value:"522726",parent:"522700"},{name:"平塘县",value:"522727",parent:"522700"},{name:"罗甸县",value:"522728",parent:"522700"},{name:"长顺县",value:"522729",parent:"522700"},{name:"龙里县",value:"522730",parent:"522700"},{name:"惠水县",value:"522731",parent:"522700"},{name:"三都水族自治县",value:"522732",parent:"522700"},{name:"昆明市",value:"530100",parent:"530000"},{name:"曲靖市",value:"530300",parent:"530000"},{name:"玉溪市",value:"530400",parent:"530000"},{name:"保山市",value:"530500",parent:"530000"},{name:"昭通市",value:"530600",parent:"530000"},{name:"丽江市",value:"530700",parent:"530000"},{name:"普洱市",value:"530800",parent:"530000"},{name:"临沧市",value:"530900",parent:"530000"},{name:"楚雄彝族自治州",value:"532300",parent:"530000"},{name:"红河哈尼族彝族自治州",value:"532500",parent:"530000"},{name:"文山壮族苗族自治州",value:"532600",parent:"530000"},{name:"西双版纳傣族自治州",value:"532800",parent:"530000"},{name:"大理白族自治州",value:"532900",parent:"530000"},{name:"德宏傣族景颇族自治州",value:"533100",parent:"530000"},{name:"怒江傈僳族自治州",value:"533300",parent:"530000"},{name:"迪庆藏族自治州",value:"533400",parent:"530000"},{name:"五华区",value:"530102",parent:"530100"},{name:"盘龙区",value:"530103",parent:"530100"},{name:"官渡区",value:"530111",parent:"530100"},{name:"西山区",value:"530112",parent:"530100"},{name:"东川区",value:"530113",parent:"530100"},{name:"呈贡区",value:"530114",parent:"530100"},{name:"晋宁县",value:"530122",parent:"530100"},{name:"富民县",value:"530124",parent:"530100"},{name:"宜良县",value:"530125",parent:"530100"},{name:"石林彝族自治县",value:"530126",parent:"530100"},{name:"嵩明县",value:"530127",parent:"530100"},{name:"禄劝彝族苗族自治县",value:"530128",parent:"530100"},{name:"寻甸回族彝族自治县",value:"530129",parent:"530100"},{name:"安宁市",value:"530181",parent:"530100"},{name:"麒麟区",value:"530302",parent:"530300"},{name:"沾益区",value:"530303",parent:"530300"},{name:"马龙县",value:"530321",parent:"530300"},{name:"陆良县",value:"530322",parent:"530300"},{name:"师宗县",value:"530323",parent:"530300"},{name:"罗平县",value:"530324",parent:"530300"},{name:"富源县",value:"530325",parent:"530300"},{name:"会泽县",value:"530326",parent:"530300"},{name:"宣威市",value:"530381",parent:"530300"},{name:"红塔区",value:"530402",parent:"530400"},{name:"江川区",value:"530403",parent:"530400"},{name:"澄江县",value:"530422",parent:"530400"},{name:"通海县",value:"530423",parent:"530400"},{name:"华宁县",value:"530424",parent:"530400"},{name:"易门县",value:"530425",parent:"530400"},{name:"峨山彝族自治县",value:"530426",parent:"530400"},{name:"新平彝族傣族自治县",value:"530427",parent:"530400"},{name:"元江哈尼族彝族傣族自治县",value:"530428",parent:"530400"},{name:"隆阳区",value:"530502",parent:"530500"},{name:"施甸县",value:"530521",parent:"530500"},{name:"龙陵县",value:"530523",parent:"530500"},{name:"昌宁县",value:"530524",parent:"530500"},{name:"腾冲市",value:"530581",parent:"530500"},{name:"昭阳区",value:"530602",parent:"530600"},{name:"鲁甸县",value:"530621",parent:"530600"},{name:"巧家县",value:"530622",parent:"530600"},{name:"盐津县",value:"530623",parent:"530600"},{name:"大关县",value:"530624",parent:"530600"},{name:"永善县",value:"530625",parent:"530600"},{name:"绥江县",value:"530626",parent:"530600"},{name:"镇雄县",value:"530627",parent:"530600"},{name:"彝良县",value:"530628",parent:"530600"},{name:"威信县",value:"530629",parent:"530600"},{name:"水富县",value:"530630",parent:"530600"},{name:"古城区",value:"530702",parent:"530700"},{name:"玉龙纳西族自治县",value:"530721",parent:"530700"},{name:"永胜县",value:"530722",parent:"530700"},{name:"华坪县",value:"530723",parent:"530700"},{name:"宁蒗彝族自治县",value:"530724",parent:"530700"},{name:"思茅区",value:"530802",parent:"530800"},{name:"宁洱哈尼族彝族自治县",value:"530821",parent:"530800"},{name:"墨江哈尼族自治县",value:"530822",parent:"530800"},{name:"景东彝族自治县",value:"530823",parent:"530800"},{name:"景谷傣族彝族自治县",value:"530824",parent:"530800"},{name:"镇沅彝族哈尼族拉祜族自治县",value:"530825",parent:"530800"},{name:"江城哈尼族彝族自治县",value:"530826",parent:"530800"},{name:"孟连傣族拉祜族佤族自治县",value:"530827",parent:"530800"},{name:"澜沧拉祜族自治县",value:"530828",parent:"530800"},{name:"西盟佤族自治县",value:"530829",parent:"530800"},{name:"临翔区",value:"530902",parent:"530900"},{name:"凤庆县",value:"530921",parent:"530900"},{name:"云县",value:"530922",parent:"530900"},{name:"永德县",value:"530923",parent:"530900"},{name:"镇康县",value:"530924",parent:"530900"},{name:"双江拉祜族佤族布朗族傣族自治县",value:"530925",parent:"530900"},{name:"耿马傣族佤族自治县",value:"530926",parent:"530900"},{name:"沧源佤族自治县",value:"530927",parent:"530900"},{name:"楚雄市",value:"532301",parent:"532300"},{name:"双柏县",value:"532322",parent:"532300"},{name:"牟定县",value:"532323",parent:"532300"},{name:"南华县",value:"532324",parent:"532300"},{name:"姚安县",value:"532325",parent:"532300"},{name:"大姚县",value:"532326",parent:"532300"},{name:"永仁县",value:"532327",parent:"532300"},{name:"元谋县",value:"532328",parent:"532300"},{name:"武定县",value:"532329",parent:"532300"},{name:"禄丰县",value:"532331",parent:"532300"},{name:"个旧市",value:"532501",parent:"532500"},{name:"开远市",value:"532502",parent:"532500"},{name:"蒙自市",value:"532503",parent:"532500"},{name:"弥勒市",value:"532504",parent:"532500"},{name:"屏边苗族自治县",value:"532523",parent:"532500"},{name:"建水县",value:"532524",parent:"532500"},{name:"石屏县",value:"532525",parent:"532500"},{name:"泸西县",value:"532527",parent:"532500"},{name:"元阳县",value:"532528",parent:"532500"},{name:"红河县",value:"532529",parent:"532500"},{name:"金平苗族瑶族傣族自治县",value:"532530",parent:"532500"},{name:"绿春县",value:"532531",parent:"532500"},{name:"河口瑶族自治县",value:"532532",parent:"532500"},{name:"文山市",value:"532601",parent:"532600"},{name:"砚山县",value:"532622",parent:"532600"},{name:"西畴县",value:"532623",parent:"532600"},{name:"麻栗坡县",value:"532624",parent:"532600"},{name:"马关县",value:"532625",parent:"532600"},{name:"丘北县",value:"532626",parent:"532600"},{name:"广南县",value:"532627",parent:"532600"},{name:"富宁县",value:"532628",parent:"532600"},{name:"景洪市",value:"532801",parent:"532800"},{name:"勐海县",value:"532822",parent:"532800"},{name:"勐腊县",value:"532823",parent:"532800"},{name:"大理市",value:"532901",parent:"532900"},{name:"漾濞彝族自治县",value:"532922",parent:"532900"},{name:"祥云县",value:"532923",parent:"532900"},{name:"宾川县",value:"532924",parent:"532900"},{name:"弥渡县",value:"532925",parent:"532900"},{name:"南涧彝族自治县",value:"532926",parent:"532900"},{name:"巍山彝族回族自治县",value:"532927",parent:"532900"},{name:"永平县",value:"532928",parent:"532900"},{name:"云龙县",value:"532929",parent:"532900"},{name:"洱源县",value:"532930",parent:"532900"},{name:"剑川县",value:"532931",parent:"532900"},{name:"鹤庆县",value:"532932",parent:"532900"},{name:"瑞丽市",value:"533102",parent:"533100"},{name:"芒市",value:"533103",parent:"533100"},{name:"梁河县",value:"533122",parent:"533100"},{name:"盈江县",value:"533123",parent:"533100"},{name:"陇川县",value:"533124",parent:"533100"},{name:"泸水市",value:"533301",parent:"533300"},{name:"福贡县",value:"533323",parent:"533300"},{name:"贡山独龙族怒族自治县",value:"533324",parent:"533300"},{name:"兰坪白族普米族自治县",value:"533325",parent:"533300"},{name:"香格里拉市",value:"533401",parent:"533400"},{name:"德钦县",value:"533422",parent:"533400"},{name:"维西傈僳族自治县",value:"533423",parent:"533400"},{name:"拉萨市",value:"540100",parent:"540000"},{name:"日喀则市",value:"540200",parent:"540000"},{name:"昌都市",value:"540300",parent:"540000"},{name:"林芝市",value:"540400",parent:"540000"},{name:"山南市",value:"540500",parent:"540000"},{name:"那曲地区",value:"542400",parent:"540000"},{name:"阿里地区",value:"542500",parent:"540000"},{name:"城关区",value:"540102",parent:"540100"},{name:"堆龙德庆区",value:"540103",parent:"540100"},{name:"林周县",value:"540121",parent:"540100"},{name:"当雄县",value:"540122",parent:"540100"},{name:"尼木县",value:"540123",parent:"540100"},{name:"曲水县",value:"540124",parent:"540100"},{name:"达孜县",value:"540126",parent:"540100"},{name:"墨竹工卡县",value:"540127",parent:"540100"},{name:"桑珠孜区",value:"540202",parent:"540200"},{name:"南木林县",value:"540221",parent:"540200"},{name:"江孜县",value:"540222",parent:"540200"},{name:"定日县",value:"540223",parent:"540200"},{name:"萨迦县",value:"540224",parent:"540200"},{name:"拉孜县",value:"540225",parent:"540200"},{name:"昂仁县",value:"540226",parent:"540200"},{name:"谢通门县",value:"540227",parent:"540200"},{name:"白朗县",value:"540228",parent:"540200"},{name:"仁布县",value:"540229",parent:"540200"},{name:"康马县",value:"540230",parent:"540200"},{name:"定结县",value:"540231",parent:"540200"},{name:"仲巴县",value:"540232",parent:"540200"},{name:"亚东县",value:"540233",parent:"540200"},{name:"吉隆县",value:"540234",parent:"540200"},{name:"聂拉木县",value:"540235",parent:"540200"},{name:"萨嘎县",value:"540236",parent:"540200"},{name:"岗巴县",value:"540237",parent:"540200"},{name:"卡若区",value:"540302",parent:"540300"},{name:"江达县",value:"540321",parent:"540300"},{name:"贡觉县",value:"540322",parent:"540300"},{name:"类乌齐县",value:"540323",parent:"540300"},{name:"丁青县",value:"540324",parent:"540300"},{name:"察雅县",value:"540325",parent:"540300"},{name:"八宿县",value:"540326",parent:"540300"},{name:"左贡县",value:"540327",parent:"540300"},{name:"芒康县",value:"540328",parent:"540300"},{name:"洛隆县",value:"540329",parent:"540300"},{name:"边坝县",value:"540330",parent:"540300"},{name:"巴宜区",value:"540402",parent:"540400"},{name:"工布江达县",value:"540421",parent:"540400"},{name:"米林县",value:"540422",parent:"540400"},{name:"墨脱县",value:"540423",parent:"540400"},{name:"波密县",value:"540424",parent:"540400"},{name:"察隅县",value:"540425",parent:"540400"},{name:"朗县",value:"540426",parent:"540400"},{name:"乃东区",value:"540502",parent:"540500"},{name:"扎囊县",value:"540521",parent:"540500"},{name:"贡嘎县",value:"540522",parent:"540500"},{name:"桑日县",value:"540523",parent:"540500"},{name:"琼结县",value:"540524",parent:"540500"},{name:"曲松县",value:"540525",parent:"540500"},{name:"措美县",value:"540526",parent:"540500"},{name:"洛扎县",value:"540527",parent:"540500"},{name:"加查县",value:"540528",parent:"540500"},{name:"隆子县",value:"540529",parent:"540500"},{name:"错那县",value:"540530",parent:"540500"},{name:"浪卡子县",value:"540531",parent:"540500"},{name:"那曲县",value:"542421",parent:"542400"},{name:"嘉黎县",value:"542422",parent:"542400"},{name:"比如县",value:"542423",parent:"542400"},{name:"聂荣县",value:"542424",parent:"542400"},{name:"安多县",value:"542425",parent:"542400"},{name:"申扎县",value:"542426",parent:"542400"},{name:"索县",value:"542427",parent:"542400"},{name:"班戈县",value:"542428",parent:"542400"},{name:"巴青县",value:"542429",parent:"542400"},{name:"尼玛县",value:"542430",parent:"542400"},{name:"双湖县",value:"542431",parent:"542400"},{name:"普兰县",value:"542521",parent:"542500"},{name:"札达县",value:"542522",parent:"542500"},{name:"噶尔县",value:"542523",parent:"542500"},{name:"日土县",value:"542524",parent:"542500"},{name:"革吉县",value:"542525",parent:"542500"},{name:"改则县",value:"542526",parent:"542500"},{name:"措勤县",value:"542527",parent:"542500"},{name:"西安市",value:"610100",parent:"610000"},{name:"铜川市",value:"610200",parent:"610000"},{name:"宝鸡市",value:"610300",parent:"610000"},{name:"咸阳市",value:"610400",parent:"610000"},{name:"渭南市",value:"610500",parent:"610000"},{name:"延安市",value:"610600",parent:"610000"},{name:"汉中市",value:"610700",parent:"610000"},{name:"榆林市",value:"610800",parent:"610000"},{name:"安康市",value:"610900",parent:"610000"},{name:"商洛市",value:"611000",parent:"610000"},{name:"新城区",value:"610102",parent:"610100"},{name:"碑林区",value:"610103",parent:"610100"},{name:"莲湖区",value:"610104",parent:"610100"},{name:"灞桥区",value:"610111",parent:"610100"},{name:"未央区",value:"610112",parent:"610100"},{name:"雁塔区",value:"610113",parent:"610100"},{name:"阎良区",value:"610114",parent:"610100"},{name:"临潼区",value:"610115",parent:"610100"},{name:"长安区",value:"610116",parent:"610100"},{name:"高陵区",value:"610117",parent:"610100"},{name:"蓝田县",value:"610122",parent:"610100"},{name:"周至县",value:"610124",parent:"610100"},{name:"户县",value:"610125",parent:"610100"},{name:"王益区",value:"610202",parent:"610200"},{name:"印台区",value:"610203",parent:"610200"},{name:"耀州区",value:"610204",parent:"610200"},{name:"宜君县",value:"610222",parent:"610200"},{name:"渭滨区",value:"610302",parent:"610300"},{name:"金台区",value:"610303",parent:"610300"},{name:"陈仓区",value:"610304",parent:"610300"},{name:"凤翔县",value:"610322",parent:"610300"},{name:"岐山县",value:"610323",parent:"610300"},{name:"扶风县",value:"610324",parent:"610300"},{name:"眉县",value:"610326",parent:"610300"},{name:"陇县",value:"610327",parent:"610300"},{name:"千阳县",value:"610328",parent:"610300"},{name:"麟游县",value:"610329",parent:"610300"},{name:"凤县",value:"610330",parent:"610300"},{name:"太白县",value:"610331",parent:"610300"},{name:"秦都区",value:"610402",parent:"610400"},{name:"杨陵区",value:"610403",parent:"610400"},{name:"渭城区",value:"610404",parent:"610400"},{name:"三原县",value:"610422",parent:"610400"},{name:"泾阳县",value:"610423",parent:"610400"},{name:"乾县",value:"610424",parent:"610400"},{name:"礼泉县",value:"610425",parent:"610400"},{name:"永寿县",value:"610426",parent:"610400"},{name:"彬县",value:"610427",parent:"610400"},{name:"长武县",value:"610428",parent:"610400"},{name:"旬邑县",value:"610429",parent:"610400"},{name:"淳化县",value:"610430",parent:"610400"},{name:"武功县",value:"610431",parent:"610400"},{name:"兴平市",value:"610481",parent:"610400"},{name:"临渭区",value:"610502",parent:"610500"},{name:"华州区",value:"610503",parent:"610500"},{name:"潼关县",value:"610522",parent:"610500"},{name:"大荔县",value:"610523",parent:"610500"},{name:"合阳县",value:"610524",parent:"610500"},{name:"澄城县",value:"610525",parent:"610500"},{name:"蒲城县",value:"610526",parent:"610500"},{name:"白水县",value:"610527",parent:"610500"},{name:"富平县",value:"610528",parent:"610500"},{name:"韩城市",value:"610581",parent:"610500"},{name:"华阴市",value:"610582",parent:"610500"},{name:"宝塔区",value:"610602",parent:"610600"},{name:"安塞区",value:"610603",parent:"610600"},{name:"延长县",value:"610621",parent:"610600"},{name:"延川县",value:"610622",parent:"610600"},{name:"子长县",value:"610623",parent:"610600"},{name:"志丹县",value:"610625",parent:"610600"},{name:"吴起县",value:"610626",parent:"610600"},{name:"甘泉县",value:"610627",parent:"610600"},{name:"富县",value:"610628",parent:"610600"},{name:"洛川县",value:"610629",parent:"610600"},{name:"宜川县",value:"610630",parent:"610600"},{name:"黄龙县",value:"610631",parent:"610600"},{name:"黄陵县",value:"610632",parent:"610600"},{name:"汉台区",value:"610702",parent:"610700"},{name:"南郑县",value:"610721",parent:"610700"},{name:"城固县",value:"610722",parent:"610700"},{name:"洋县",value:"610723",parent:"610700"},{name:"西乡县",value:"610724",parent:"610700"},{name:"勉县",value:"610725",parent:"610700"},{name:"宁强县",value:"610726",parent:"610700"},{name:"略阳县",value:"610727",parent:"610700"},{name:"镇巴县",value:"610728",parent:"610700"},{name:"留坝县",value:"610729",parent:"610700"},{name:"佛坪县",value:"610730",parent:"610700"},{name:"榆阳区",value:"610802",parent:"610800"},{name:"横山区",value:"610803",parent:"610800"},{name:"神木县",value:"610821",parent:"610800"},{name:"府谷县",value:"610822",parent:"610800"},{name:"靖边县",value:"610824",parent:"610800"},{name:"定边县",value:"610825",parent:"610800"},{name:"绥德县",value:"610826",parent:"610800"},{name:"米脂县",value:"610827",parent:"610800"},{name:"佳县",value:"610828",parent:"610800"},{name:"吴堡县",value:"610829",parent:"610800"},{name:"清涧县",value:"610830",parent:"610800"},{name:"子洲县",value:"610831",parent:"610800"},{name:"汉滨区",value:"610902",parent:"610900"},{name:"汉阴县",value:"610921",parent:"610900"},{name:"石泉县",value:"610922",parent:"610900"},{name:"宁陕县",value:"610923",parent:"610900"},{name:"紫阳县",value:"610924",parent:"610900"},{name:"岚皋县",value:"610925",parent:"610900"},{name:"平利县",value:"610926",parent:"610900"},{name:"镇坪县",value:"610927",parent:"610900"},{name:"旬阳县",value:"610928",parent:"610900"},{name:"白河县",value:"610929",parent:"610900"},{name:"商州区",value:"611002",parent:"611000"},{name:"洛南县",value:"611021",parent:"611000"},{name:"丹凤县",value:"611022",parent:"611000"},{name:"商南县",value:"611023",parent:"611000"},{name:"山阳县",value:"611024",parent:"611000"},{name:"镇安县",value:"611025",parent:"611000"},{name:"柞水县",value:"611026",parent:"611000"},{name:"兰州市",value:"620100",parent:"620000"},{name:"嘉峪关市",value:"620200",parent:"620000"},{name:"金昌市",value:"620300",parent:"620000"},{name:"白银市",value:"620400",parent:"620000"},{name:"天水市",value:"620500",parent:"620000"},{name:"武威市",value:"620600",parent:"620000"},{name:"张掖市",value:"620700",parent:"620000"},{name:"平凉市",value:"620800",parent:"620000"},{name:"酒泉市",value:"620900",parent:"620000"},{name:"庆阳市",value:"621000",parent:"620000"},{name:"定西市",value:"621100",parent:"620000"},{name:"陇南市",value:"621200",parent:"620000"},{name:"临夏回族自治州",value:"622900",parent:"620000"},{name:"甘南藏族自治州",value:"623000",parent:"620000"},{name:"城关区",value:"620102",parent:"620100"},{name:"七里河区",value:"620103",parent:"620100"},{name:"西固区",value:"620104",parent:"620100"},{name:"安宁区",value:"620105",parent:"620100"},{name:"红古区",value:"620111",parent:"620100"},{name:"永登县",value:"620121",parent:"620100"},{name:"皋兰县",value:"620122",parent:"620100"},{name:"榆中县",value:"620123",parent:"620100"},{name:"金川区",value:"620302",parent:"620300"},{name:"永昌县",value:"620321",parent:"620300"},{name:"白银区",value:"620402",parent:"620400"},{name:"平川区",value:"620403",parent:"620400"},{name:"靖远县",value:"620421",parent:"620400"},{name:"会宁县",value:"620422",parent:"620400"},{name:"景泰县",value:"620423",parent:"620400"},{name:"秦州区",value:"620502",parent:"620500"},{name:"麦积区",value:"620503",parent:"620500"},{name:"清水县",value:"620521",parent:"620500"},{name:"秦安县",value:"620522",parent:"620500"},{name:"甘谷县",value:"620523",parent:"620500"},{name:"武山县",value:"620524",parent:"620500"},{name:"张家川回族自治县",value:"620525",parent:"620500"},{name:"凉州区",value:"620602",parent:"620600"},{name:"民勤县",value:"620621",parent:"620600"},{name:"古浪县",value:"620622",parent:"620600"},{name:"天祝藏族自治县",value:"620623",parent:"620600"},{name:"甘州区",value:"620702",parent:"620700"},{name:"肃南裕固族自治县",value:"620721",parent:"620700"},{name:"民乐县",value:"620722",parent:"620700"},{name:"临泽县",value:"620723",parent:"620700"},{name:"高台县",value:"620724",parent:"620700"},{name:"山丹县",value:"620725",parent:"620700"},{name:"崆峒区",value:"620802",parent:"620800"},{name:"泾川县",value:"620821",parent:"620800"},{name:"灵台县",value:"620822",parent:"620800"},{name:"崇信县",value:"620823",parent:"620800"},{name:"华亭县",value:"620824",parent:"620800"},{name:"庄浪县",value:"620825",parent:"620800"},{name:"静宁县",value:"620826",parent:"620800"},{name:"肃州区",value:"620902",parent:"620900"},{name:"金塔县",value:"620921",parent:"620900"},{name:"瓜州县",value:"620922",parent:"620900"},{name:"肃北蒙古族自治县",value:"620923",parent:"620900"},{name:"阿克塞哈萨克族自治县",value:"620924",parent:"620900"},{name:"玉门市",value:"620981",parent:"620900"},{name:"敦煌市",value:"620982",parent:"620900"},{name:"西峰区",value:"621002",parent:"621000"},{name:"庆城县",value:"621021",parent:"621000"},{name:"环县",value:"621022",parent:"621000"},{name:"华池县",value:"621023",parent:"621000"},{name:"合水县",value:"621024",parent:"621000"},{name:"正宁县",value:"621025",parent:"621000"},{name:"宁县",value:"621026",parent:"621000"},{name:"镇原县",value:"621027",parent:"621000"},{name:"安定区",value:"621102",parent:"621100"},{name:"通渭县",value:"621121",parent:"621100"},{name:"陇西县",value:"621122",parent:"621100"},{name:"渭源县",value:"621123",parent:"621100"},{name:"临洮县",value:"621124",parent:"621100"},{name:"漳县",value:"621125",parent:"621100"},{name:"岷县",value:"621126",parent:"621100"},{name:"武都区",value:"621202",parent:"621200"},{name:"成县",value:"621221",parent:"621200"},{name:"文县",value:"621222",parent:"621200"},{name:"宕昌县",value:"621223",parent:"621200"},{name:"康县",value:"621224",parent:"621200"},{name:"西和县",value:"621225",parent:"621200"},{name:"礼县",value:"621226",parent:"621200"},{name:"徽县",value:"621227",parent:"621200"},{name:"两当县",value:"621228",parent:"621200"},{name:"临夏市",value:"622901",parent:"622900"},{name:"临夏县",value:"622921",parent:"622900"},{name:"康乐县",value:"622922",parent:"622900"},{name:"永靖县",value:"622923",parent:"622900"},{name:"广河县",value:"622924",parent:"622900"},{name:"和政县",value:"622925",parent:"622900"},{name:"东乡族自治县",value:"622926",parent:"622900"},{name:"积石山保安族东乡族撒拉族自治县",value:"622927",parent:"622900"},{name:"合作市",value:"623001",parent:"623000"},{name:"临潭县",value:"623021",parent:"623000"},{name:"卓尼县",value:"623022",parent:"623000"},{name:"舟曲县",value:"623023",parent:"623000"},{name:"迭部县",value:"623024",parent:"623000"},{name:"玛曲县",value:"623025",parent:"623000"},{name:"碌曲县",value:"623026",parent:"623000"},{name:"夏河县",value:"623027",parent:"623000"},{name:"西宁市",value:"630100",parent:"630000"},{name:"海东市",value:"630200",parent:"630000"},{name:"海北藏族自治州",value:"632200",parent:"630000"},{name:"黄南藏族自治州",value:"632300",parent:"630000"},{name:"海南藏族自治州",value:"632500",parent:"630000"},{name:"果洛藏族自治州",value:"632600",parent:"630000"},{name:"玉树藏族自治州",value:"632700",parent:"630000"},{name:"海西蒙古族藏族自治州",value:"632800",parent:"630000"},{name:"城东区",value:"630102",parent:"630100"},{name:"城中区",value:"630103",parent:"630100"},{name:"城西区",value:"630104",parent:"630100"},{name:"城北区",value:"630105",parent:"630100"},{name:"大通回族土族自治县",value:"630121",parent:"630100"},{name:"湟中县",value:"630122",parent:"630100"},{name:"湟源县",value:"630123",parent:"630100"},{name:"乐都区",value:"630202",parent:"630200"},{name:"平安区",value:"630203",parent:"630200"},{name:"民和回族土族自治县",value:"630222",parent:"630200"},{name:"互助土族自治县",value:"630223",parent:"630200"},{name:"化隆回族自治县",value:"630224",parent:"630200"},{name:"循化撒拉族自治县",value:"630225",parent:"630200"},{name:"门源回族自治县",value:"632221",parent:"632200"},{name:"祁连县",value:"632222",parent:"632200"},{name:"海晏县",value:"632223",parent:"632200"},{name:"刚察县",value:"632224",parent:"632200"},{name:"同仁县",value:"632321",parent:"632300"},{name:"尖扎县",value:"632322",parent:"632300"},{name:"泽库县",value:"632323",parent:"632300"},{name:"河南蒙古族自治县",value:"632324",parent:"632300"},{name:"共和县",value:"632521",parent:"632500"},{name:"同德县",value:"632522",parent:"632500"},{name:"贵德县",value:"632523",parent:"632500"},{name:"兴海县",value:"632524",parent:"632500"},{name:"贵南县",value:"632525",parent:"632500"},{name:"玛沁县",value:"632621",parent:"632600"},{name:"班玛县",value:"632622",parent:"632600"},{name:"甘德县",value:"632623",parent:"632600"},{name:"达日县",value:"632624",parent:"632600"},{name:"久治县",value:"632625",parent:"632600"},{name:"玛多县",value:"632626",parent:"632600"},{name:"玉树市",value:"632701",parent:"632700"},{name:"杂多县",value:"632722",parent:"632700"},{name:"称多县",value:"632723",parent:"632700"},{name:"治多县",value:"632724",parent:"632700"},{name:"囊谦县",value:"632725",parent:"632700"},{name:"曲麻莱县",value:"632726",parent:"632700"},{name:"格尔木市",value:"632801",parent:"632800"},{name:"德令哈市",value:"632802",parent:"632800"},{name:"乌兰县",value:"632821",parent:"632800"},{name:"都兰县",value:"632822",parent:"632800"},{name:"天峻县",value:"632823",parent:"632800"},{name:"银川市",value:"640100",parent:"640000"},{name:"石嘴山市",value:"640200",parent:"640000"},{name:"吴忠市",value:"640300",parent:"640000"},{name:"固原市",value:"640400",parent:"640000"},{name:"中卫市",value:"640500",parent:"640000"},{name:"兴庆区",value:"640104",parent:"640100"},{name:"西夏区",value:"640105",parent:"640100"},{name:"金凤区",value:"640106",parent:"640100"},{name:"永宁县",value:"640121",parent:"640100"},{name:"贺兰县",value:"640122",parent:"640100"},{name:"灵武市",value:"640181",parent:"640100"},{name:"大武口区",value:"640202",parent:"640200"},{name:"惠农区",value:"640205",parent:"640200"},{name:"平罗县",value:"640221",parent:"640200"},{name:"利通区",value:"640302",parent:"640300"},{name:"红寺堡区",value:"640303",parent:"640300"},{name:"盐池县",value:"640323",parent:"640300"},{name:"同心县",value:"640324",parent:"640300"},{name:"青铜峡市",value:"640381",parent:"640300"},{name:"原州区",value:"640402",parent:"640400"},{name:"西吉县",value:"640422",parent:"640400"},{name:"隆德县",value:"640423",parent:"640400"},{name:"泾源县",value:"640424",parent:"640400"},{name:"彭阳县",value:"640425",parent:"640400"},{name:"沙坡头区",value:"640502",parent:"640500"},{name:"中宁县",value:"640521",parent:"640500"},{name:"海原县",value:"640522",parent:"640500"},{name:"乌鲁木齐市",value:"650100",parent:"650000"},{name:"克拉玛依市",value:"650200",parent:"650000"},{name:"吐鲁番市",value:"650400",parent:"650000"},{name:"哈密市",value:"650500",parent:"650000"},{name:"昌吉回族自治州",value:"652300",parent:"650000"},{name:"博尔塔拉蒙古自治州",value:"652700",parent:"650000"},{name:"巴音郭楞蒙古自治州",value:"652800",parent:"650000"},{name:"阿克苏地区",value:"652900",parent:"650000"},{name:"克孜勒苏柯尔克孜自治州",value:"653000",parent:"650000"},{name:"喀什地区",value:"653100",parent:"650000"},{name:"和田地区",value:"653200",parent:"650000"},{name:"伊犁哈萨克自治州",value:"654000",parent:"650000"},{name:"塔城地区",value:"654200",parent:"650000"},{name:"阿勒泰地区",value:"654300",parent:"650000"},{name:"石河子市",value:"659001",parent:"650000"},{name:"阿拉尔市",value:"659002",parent:"650000"},{name:"图木舒克市",value:"659003",parent:"650000"},{name:"五家渠市",value:"659004",parent:"650000"},{name:"铁门关市",value:"659006",parent:"650000"},{name:"天山区",value:"650102",parent:"650100"},{name:"沙依巴克区",value:"650103",parent:"650100"},{name:"新市区",value:"650104",parent:"650100"},{name:"水磨沟区",value:"650105",parent:"650100"},{name:"头屯河区",value:"650106",parent:"650100"},{name:"达坂城区",value:"650107",parent:"650100"},{name:"米东区",value:"650109",parent:"650100"},{name:"乌鲁木齐县",value:"650121",parent:"650100"},{name:"独山子区",value:"650202",parent:"650200"},{name:"克拉玛依区",value:"650203",parent:"650200"},{name:"白碱滩区",value:"650204",parent:"650200"},{name:"乌尔禾区",value:"650205",parent:"650200"},{name:"高昌区",value:"650402",parent:"650400"},{name:"鄯善县",value:"650421",parent:"650400"},{name:"托克逊县",value:"650422",parent:"650400"},{name:"伊州区",value:"650502",parent:"650500"},{name:"巴里坤哈萨克自治县",value:"650521",parent:"650500"},{name:"伊吾县",value:"650522",parent:"650500"},{name:"昌吉市",value:"652301",parent:"652300"},{name:"阜康市",value:"652302",parent:"652300"},{name:"呼图壁县",value:"652323",parent:"652300"},{name:"玛纳斯县",value:"652324",parent:"652300"},{name:"奇台县",value:"652325",parent:"652300"},{name:"吉木萨尔县",value:"652327",parent:"652300"},{name:"木垒哈萨克自治县",value:"652328",parent:"652300"},{name:"博乐市",value:"652701",parent:"652700"},{name:"阿拉山口市",value:"652702",parent:"652700"},{name:"精河县",value:"652722",parent:"652700"},{name:"温泉县",value:"652723",parent:"652700"},{name:"库尔勒市",value:"652801",parent:"652800"},{name:"轮台县",value:"652822",parent:"652800"},{name:"尉犁县",value:"652823",parent:"652800"},{name:"若羌县",value:"652824",parent:"652800"},{name:"且末县",value:"652825",parent:"652800"},{name:"焉耆回族自治县",value:"652826",parent:"652800"},{name:"和静县",value:"652827",parent:"652800"},{name:"和硕县",value:"652828",parent:"652800"},{name:"博湖县",value:"652829",parent:"652800"},{name:"阿克苏市",value:"652901",parent:"652900"},{name:"温宿县",value:"652922",parent:"652900"},{name:"库车县",value:"652923",parent:"652900"},{name:"沙雅县",value:"652924",parent:"652900"},{name:"新和县",value:"652925",parent:"652900"},{name:"拜城县",value:"652926",parent:"652900"},{name:"乌什县",value:"652927",parent:"652900"},{name:"阿瓦提县",value:"652928",parent:"652900"},{name:"柯坪县",value:"652929",parent:"652900"},{name:"阿图什市",value:"653001",parent:"653000"},{name:"阿克陶县",value:"653022",parent:"653000"},{name:"阿合奇县",value:"653023",parent:"653000"},{name:"乌恰县",value:"653024",parent:"653000"},{name:"喀什市",value:"653101",parent:"653100"},{name:"疏附县",value:"653121",parent:"653100"},{name:"疏勒县",value:"653122",parent:"653100"},{name:"英吉沙县",value:"653123",parent:"653100"},{name:"泽普县",value:"653124",parent:"653100"},{name:"莎车县",value:"653125",parent:"653100"},{name:"叶城县",value:"653126",parent:"653100"},{name:"麦盖提县",value:"653127",parent:"653100"},{name:"岳普湖县",value:"653128",parent:"653100"},{name:"伽师县",value:"653129",parent:"653100"},{name:"巴楚县",value:"653130",parent:"653100"},{name:"塔什库尔干塔吉克自治县",value:"653131",parent:"653100"},{name:"和田市",value:"653201",parent:"653200"},{name:"和田县",value:"653221",parent:"653200"},{name:"墨玉县",value:"653222",parent:"653200"},{name:"皮山县",value:"653223",parent:"653200"},{name:"洛浦县",value:"653224",parent:"653200"},{name:"策勒县",value:"653225",parent:"653200"},{name:"于田县",value:"653226",parent:"653200"},{name:"民丰县",value:"653227",parent:"653200"},{name:"伊宁市",value:"654002",parent:"654000"},{name:"奎屯市",value:"654003",parent:"654000"},{name:"霍尔果斯市",value:"654004",parent:"654000"},{name:"伊宁县",value:"654021",parent:"654000"},{name:"察布查尔锡伯自治县",value:"654022",parent:"654000"},{name:"霍城县",value:"654023",parent:"654000"},{name:"巩留县",value:"654024",parent:"654000"},{name:"新源县",value:"654025",parent:"654000"},{name:"昭苏县",value:"654026",parent:"654000"},{name:"特克斯县",value:"654027",parent:"654000"},{name:"尼勒克县",value:"654028",parent:"654000"},{name:"塔城市",value:"654201",parent:"654200"},{name:"乌苏市",value:"654202",parent:"654200"},{name:"额敏县",value:"654221",parent:"654200"},{name:"沙湾县",value:"654223",parent:"654200"},{name:"托里县",value:"654224",parent:"654200"},{name:"裕民县",value:"654225",parent:"654200"},{name:"和布克赛尔蒙古自治县",value:"654226",parent:"654200"},{name:"阿勒泰市",value:"654301",parent:"654300"},{name:"布尔津县",value:"654321",parent:"654300"},{name:"富蕴县",value:"654322",parent:"654300"},{name:"福海县",value:"654323",parent:"654300"},{name:"哈巴河县",value:"654324",parent:"654300"},{name:"青河县",value:"654325",parent:"654300"},{name:"吉木乃县",value:"654326",parent:"654300"},{name:"中西區",value:"810001",parent:"810000"},{name:"灣仔區",value:"810002",parent:"810000"},{name:"東區",value:"810003",parent:"810000"},{name:"南區",value:"810004",parent:"810000"},{name:"油尖旺區",value:"810005",parent:"810000"},{name:"深水埗區",value:"810006",parent:"810000"},{name:"九龍城區",value:"810007",parent:"810000"},{name:"黃大仙區",value:"810008",parent:"810000"},{name:"觀塘區",value:"810009",parent:"810000"},{name:"荃灣區",value:"810010",parent:"810000"},{name:"屯門區",value:"810011",parent:"810000"},{name:"元朗區",value:"810012",parent:"810000"},{name:"北區",value:"810013",parent:"810000"},{name:"大埔區",value:"810014",parent:"810000"},{name:"西貢區",value:"810015",parent:"810000"},{name:"沙田區",value:"810016",parent:"810000"},{name:"葵青區",value:"810017",parent:"810000"},{name:"離島區",value:"810018",parent:"810000"},{name:"花地瑪堂區",value:"820001",parent:"820000"},{name:"花王堂區",value:"820002",parent:"820000"},{name:"望德堂區",value:"820003",parent:"820000"},{name:"大堂區",value:"820004",parent:"820000"},{name:"風順堂區",value:"820005",parent:"820000"},{name:"嘉模堂區",value:"820006",parent:"820000"},{name:"路氹填海區",value:"820007",parent:"820000"},{name:"聖方濟各堂區",value:"820008",parent:"820000"},{name:"--",value:"--",parent:"139000"},{name:"--",value:"--",parent:"139001"},{name:"--",value:"--",parent:"139002"},{name:"--",value:"--",parent:"419000"},{name:"--",value:"--",parent:"419001"},{name:"--",value:"--",parent:"429000"},{name:"--",value:"--",parent:"429004"},{name:"--",value:"--",parent:"429005"},{name:"--",value:"--",parent:"429006"},{name:"--",value:"--",parent:"429021"},{name:"--",value:"--",parent:"441900"},{name:"--",value:"--",parent:"442000"},{name:"--",value:"--",parent:"460300"},{name:"--",value:"--",parent:"460400"},{name:"--",value:"--",parent:"469000"},{name:"--",value:"--",parent:"469001"},{name:"--",value:"--",parent:"469002"},{name:"--",value:"--",parent:"469005"},{name:"--",value:"--",parent:"469006"},{name:"--",value:"--",parent:"469007"},{name:"--",value:"--",parent:"469021"},{name:"--",value:"--",parent:"469022"},{name:"--",value:"--",parent:"469023"},{name:"--",value:"--",parent:"469024"},{name:"--",value:"--",parent:"469025"},{name:"--",value:"--",parent:"469026"},{name:"--",value:"--",parent:"469027"},{name:"--",value:"--",parent:"469028"},{name:"--",value:"--",parent:"469029"},{name:"--",value:"--",parent:"469030"},{name:"--",value:"--",parent:"620200"},{name:"--",value:"--",parent:"659000"},{name:"--",value:"--",parent:"659001"},{name:"--",value:"--",parent:"659002"},{name:"--",value:"--",parent:"659003"},{name:"--",value:"--",parent:"659004"},{name:"--",value:"--",parent:"659006"}]},KIFm:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages cpxq-list-container"},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"each_duty",class:{visited:t.visited},on:{click:function(a){e.goDetail(t,n)}}},[a("div",{staticClass:"duty_top"},[a("p",{staticClass:"duty_code"},[e._v("\n            "+e._s(t.transCode)+"\n            "),t.biProcessStatus?a("span",{staticClass:"duty_crt_man"},[e._v(e._s(t.biProcessStatus))]):e._e()]),e._v(" "),a("span",{staticClass:"duty_status",class:t.statusClass},[e._v(e._s(t.statusName))]),e._v(" "),a("i",{staticClass:"iconfont",class:t.whichIcon})]),e._v(" "),a("div",{staticClass:"duty_content"},[a("div",{staticClass:"content_title"},[e._v(e._s(t.turnoverName))]),e._v(" "),a("div",{staticClass:"content_step vux-1px-b"},[a("div",[e._v("部门: "+e._s(t.turnoverDepartMent))]),e._v(" "),a("div",[e._v("岗位: "+e._s(t.turnoverPost))])])]),e._v(" "),a("div",{staticClass:"order_count"},[t.handlerName?a("div",{staticClass:"handle_man"},[e._v("\n            "+e._s(t.handlerName)),a("span",{staticStyle:{fontSize:".1rem"}},[e._v("[经办人]")])]):e._e()])])}),0)],1),e._v(" "),a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},KO2X:function(e,t){},KQIg:function(e,t){},KR0i:function(e,t,a){"use strict";function n(e){a("GdOl")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("J5wU");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("gqL/"),s=a.n(o),l=a("X+5y"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-998247a6",null);t.default=c.exports},KStb:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2554,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_outPutMatCode"},{name:"往来名称",value:"dealerName_dealerDebit"}]}},mixins:[r.default],methods:{},created:function(){}}},KaBJ:function(e,t){},Kbld:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("m-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.costList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.costList,function(t,n){return a("div",{key:n,staticClass:"each_mater box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"mater_main "},[a("div",{staticClass:"cost_name"},[e._v("\n              "+e._s(t.fundName)+"\n            ")]),e._v(" "),a("div",{staticClass:"cost_type"},[e._v("\n              "+e._s(t.fundType)+"\n            ")])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1)])],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},Khl4:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("just-word-item",{key:n,attrs:{item:t,"no-count":""},nativeOn:{click:function(a){e.goDetail(t,n)}},scopedSlots:e._u([{key:"list-item",fn:function(t){var n=t.item;return e._l(n.detailItem,function(t,r){return a("div",{key:r,staticClass:"each-slot-item"},[a("div",{staticClass:"top-content"},[e._v("汇票号: "+e._s(t.draftNumber))]),e._v(" "),a("div",{staticClass:"main-content"},[a("div",{staticClass:"info_part"},[e._v("\n                承汇类型: "+e._s(n.draftType)+"\n              ")]),e._v(" "),a("div",{staticClass:"info_part"},[e._v("\n                承汇人: "+e._s(n.accepter)+"\n              ")])])])})}}])})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},KiER:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("a3Yh"),s=n(o),l=a("4YfN"),d=n(l),u=a("IHPB"),c=n(u),f=a("3cXf"),h=n(f),m=a("HXPS"),v=n(m),p=a("PzEQ"),C=n(p),y=a("kNGm"),_=(n(y),a("0AQX")),g=a("HyXB"),b=a("bKg5"),w=n(b),I=a("vl8n"),D=n(I),x=a("+WR7"),P=n(x),S=a("Q67R"),k=n(S);t.default={mixins:[w.default],data:function(){return{showPop:!1,transCode:"",formData:{biId:"",biComment:"",biProcessStatus:""},priceMap:{},matterList:[],showMaterielPop:!1}},components:{Icon:v.default,RPicker:D.default,XTextarea:C.default,PopBaseinfo:P.default,ApplyMatterPart:k.default},methods:{delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,h.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=this;this.matterList.forEach(function(t){e.priceMap[t.inventoryCode]={price:t.price,qtyOnline:t.qtyOnline,qtyDownline:t.qtyDownline,drDealerLabel:t.drDealerLabel,specialReservePrice:t.specialReservePrice}}),this.showMaterielPop=!this.showMaterielPop},selMatter:function(e){var t=this,a=JSON.parse(e);a.forEach(function(e){var a=t.priceMap[e.inventoryCode]||{};e.price=a.price||"",e.qtyOnline=a.qtyOnline||"",e.qtyDownline=a.qtyDownline||"",e.drDealerLabel=a.drDealerLabel||"",e.specialReservePrice=a.specialReservePrice||""}),this.priceMap={},this.matterList=[].concat((0,c.default)(a))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},save:function(){var e=this,t="",a=[];if(this.matterList.length||(t="请选择物料"),t||this.matterList.every(function(n){e.matterEditConfig.editPart.every(function(e){if(!e.hiddenInRun&&!e.allowBlank)return(Array.isArray(n[e.fieldCode])&&!n[e.fieldCode].length||!n[e.fieldCode])&&(t=e.text+"不能为空"),!t});var r={comment:"",price:n.price,qtyOnline:n.qtyOnline,qtyDownline:n.qtyDownline,transObjCode:n.inventoryCode,drDealerLabel:n.drDealerLabel,specialReservePrice:n.specialReservePrice};return e.transCode&&(r.tdId=n.tdId||""),a.push(r),!t}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=g.saveAndStartWf,n=(0,d.default)({},e.formData,{order:{dataSet:a},creator:e.formData.handler,modifer:e.formData.handler,handlerEntity:e.entity.dealerName}),r={biComment:"",listId:e.listId,formData:(0,h.default)(n),wfPara:(0,h.default)((0,s.default)({},e.processCode,{businessKey:e.businessKey,createdBy:n.creator}))};e.transCode&&(t=g.saveAndCommitTask,r.biReferenceId=e.biReferenceId,r.wfPara=(0,h.default)({businessKey:e.transCode,createdBy:n.creator,transCode:e.transCode,taskId:e.taskId,result:3,comment:""})),e.processCode.length||(t=g.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.isModify&&(t=g.updateData),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,_.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,s=t.attachment,l=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var u=[];e.attachment=l;var c=o.order,f=c.dataSet,h=void 0===f?[]:f,m=!0,v=!1,p=void 0;try{for(var C,y=(0,i.default)(h);!(m=(C=y.next()).done);m=!0){var _=C.value;_=(0,d.default)({},_,{inventoryCode:_.transObjCode,inventoryName:_.inventoryName_transObjCode,measureUnit:_.measureUnit_transObjCode,specification:_.specification_transObjCode,PopDealerLabel:[_.drDealerLabel],inventoryPic:_.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}),u.push(_)}}catch(e){v=!0,p=e}finally{try{!m&&y.return&&y.return()}finally{if(v)throw p}}e.handlerDefault={handler:o.handler,handlerName:o.handlerName,handlerUnit:o.handlerUnit,handlerUnitName:o.handlerUnitName,handlerRole:o.handlerRole,handlerRoleName:o.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:o.biComment,biId:o.biId,biProcessStatus:o.biProcessStatus,creator:o.creator,modifer:o.modifer}),e.biReferenceId=o.biReferenceId,e.matterList=u,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,s.default)({},"CPJG_DATA",{matter:this.matterList,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("CPJG_DATA");e&&(this.matterList=JSON.parse(e).matter,this.formData=JSON.parse(e).formData,sessionStorage.removeItem("CPJG_DATA"))}}},KnX9:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("KH7x"),i=n(r),o=a("HXPS"),s=n(o),l=a("+62G"),d=n(l),u=a("Nk/b"),c=n(u),f=a("7g+Q"),h=n(f);t.default={name:"RPicker",props:{title:{type:String,default:""},value:{type:String,default:""},data:{type:Array,default:function(){return[]}},required:{type:Boolean,default:!1},pickerStatus:{type:Boolean,default:!0},mode:{type:String,default:"1"},showArrow:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"},hasBorder:{type:Boolean,default:!0},hasBorderTop:{type:Boolean,default:!1}},data:function(){return{show:!1,currentValue:"",showValue:""}},watch:{value:{handler:function(e){this.showValue=e,this.currentValue=e?[e]:[],this.$emit("on-change",e)}}},directives:{TransferDom:d.default},components:{Picker:c.default,Popup:h.default,Icon:s.default},methods:{confirm:function(){var e=(0,i.default)(this.currentValue,1),t=e[0],a=void 0===t?"":t;this.show=!1,this.$emit("input",a)},showStatus:function(){this.pickerStatus&&!this.disabled&&(this.show=!this.show)}},created:function(){this.currentValue=[this.value],this.showValue=this.value}}},Kppu:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("MjAd"),i=n(r),o=a("FPb0"),s=n(o);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2482,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},components:{financeListItem:s.default},mixins:[i.default],methods:{},created:function(){}}},Kqcd:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=(a("XAqG"),a("HyXB"),a("MjAd")),s=n(o),l=a("ak47");n(l);t.default={name:"CPBUG_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"经办人",value:"handlerName"},{name:"交易号",value:"transCode"}],listViewID:2336}},mixins:[s.default],methods:{pathChange:function(e,t,a){var n=this;if(!this.clickVisited){var r=e.transCode,o=this.$route.query.name,s=this.$route.params,l=s.folder,d=s.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,i.default)({},e));var u=a+"/"+l+"/"+d;setTimeout(function(){n.clickVisited=!1,n.$router.push({path:u,query:{name:o,transCode:r}})},200)}},goDetail:function(e,t){this.pathChange(e,t,"/detail")},goUserEdit:function(e,t){this.pathChange(e,t,"/fillform")}}}},"Kuu/":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("IHPB"),s=n(o),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),h=n(f),m=a("HyXB"),v=a("1KNX"),p=n(v),C=a("7biW"),y=n(C);t.default={name:"PopUserList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:h.default,RScroll:p.default,RSearch:y.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:100,page:1,hasNext:!0,scrollOptions:{pullUpLoad:!0},filterProperty:"",filterList:[{name:"姓名",value:"nickname"},{name:"工号",value:"userCode"}]}},watch:{show:{handler:function(e){this.showPop=e},immediate:!0},defaultValue:{handler:function(e){this.selItems=(0,d.default)({},this.defaultValue)},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){return this.selItems.userCode===e.userCode},selThis:function(e,t){this.selItems=(0,d.default)({},e),this.$emit("sel-item",(0,d.default)({},e)),this.$emit("input",!1)},getDefaultImg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.gender,n=void 0===t?"":t,r=a("男"===n?"Fuf7":"0gu7");return e&&(e.photo=r),r},getUserList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,s.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,m.getUserList)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,i.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r,o={1:{text:"使用中",class:"inUse"},2:{text:"未使用",class:"unUse"},3:{text:"草稿",class:"offUse"},"-1":{text:"停用",class:"offUse"}};i.forEach(function(t){var a=o[t.status]||{};t.photo=t.photo||e.getDefaultImg(t),t.statusText=a.text,t.statusClass=a.class}),e.hasNext=n>(e.page-1)*e.limit+i.length,e.listData=1===e.page?i:[].concat((0,s.default)(e.listData),(0,s.default)(i)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,r=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=r,this.resetCondition(),this.getUserList()},onPullingUp:function(){this.page++,this.getUserList()},resetCondition:function(){this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)}},created:function(){this.getUserList()}}},KxAj:function(e,t){},Ky1g:function(e,t){},KzA7:function(e,t,a){"use strict";function n(e){a("PeL3")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("YG92");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("MtqW"),s=a.n(o),l=a("Jw4h"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-20867bf0",null);t.default=c.exports},"L+HE":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAYAAAA8AXHiAAALZ0lEQVR4Xu2dW4hdVxnH/99a+1xmMjO5NMEkxUYnVggpxhfRh0hGiNVoY5SYvrXmqQWreZDUXqhyGpQQG+qDRrCgwRSRouhDQaVEMqDBK0hvBrRtkqZN2ubamcnMuey1PtkTEjLnMmclZ63sfWZ/+2lgr/Vf6/uvH+vbe501axM6Xcw0Nv6kXjE2UjjzZq08XJyIZqolbahOHevIjQXrgOYiD5RrZrI+Eq+6o1Q9Oz7RGB+rGBC4XdBtIdnxaqV4sVweUItmSjPVhl6wbklgN+3AQLlg7OVqbXR0dPoZerDRLNQC1tbTlcHz0zykIwHqpl3PUUUTF8xtgzT1/OrK9PVhzwHr7hd3L6qPDA1LussRGR5CTdJkcWJq8oUN+y9flbsGVjJTTdYwIlB5cDqHEglcwyVMXJ25ZsFKnqneLvESSX85JMJjyElavL1Gl369vlInMNPmN/aN1PTEoMc2RCqnDpTMyPTh0UcnaOxIJSqu42Xy9pdTEjyHnbwt1o/RBdrBTw+8c/LcEs/6IpdjB1auWX6JNp7cu5R4spxjHyR0zw4wDVdpy5nHVkzVKPKsLXI5dmCoxDGNHa+slCWGHFMQIPRk6YE+feLxVQG0RTLnDghYOQcgVPgCVihnc64rYOUcgFDhC1ihnM25roCVcwBChS9ghXI257oCVs4BCBW+gBXK2ZzrClg5ByBU+AJWKGdzritg5RyAUOELWKGczbmugJVzAEKFL2CFcjbnugJWzgEIFb6AFcrZnOsKWDkHIFT4AlYoZ3OuK2DlHIBQ4QtYoZzNua6AlXMAQoUvYIVyNue6AlbOAQgVvoAVytmc6wpYOQcgVPgCVihnc67bN2BZFZOq6SWMaIyY72WmDWBeDOCWHQ9OhEsAXgLRryzhz6pgLuScn47h9w1Y2tDaOMZ3wTQGoJDygDLA40bzvqiAl1LuSyab7wuwGmxLuh79loANYKhMOEmwAB1VER5ibc5lok8Z6kRfgMU1vQvMj2bIt2td4YgeVpH5ZRb7lmafMg8WGTVkY/wOjPVpGtWpbQJeRtl+Lot9S7NPmQcLsR7lmJ8DcHuaRnV+SoVRmj/MEceZ7F9Knco8WFxX62HxLICVKXnUtVlDZl1Uove7FsxRgeyDZdR6NASsfmMy+2DJjNVvTM32N/tgyYwlYIVwgAWsELYG18z+jCWpMDgEIRrIPlgyY4UY9+CaApYHi2W5odXE7IMlqdAD+rdeIvtgSSq89VR4aFHA8mCipMKFnAqZDqGAP7XnxC5BrB4C+KNN98+BaC80Wra9WAulgXvY8vZu7AlY/QiWWyqs6yJttsq81g4CzbYU1/QegO6bc59wlEp2RydwNKsNcQ1/ELC6ObCAweIibVbzgVWPngTj/iaw/kIle29H2xrRx9jYP3a1NcIWAk0CVzc4JJ9/7O1vtlFsBtT5yDQud20/gwWy/4zl8lbI3FAam7nI/2s/YxVLcT3eA0bTjEVHqWQ6zlgqxsdNrH7vMG5ngGRHqdeLAVyGoqNE5gAKSNromyv7YLmlQhDhOavVkXbOK8uLmfkBMNZef5+A8wz8kCPV8oyl2Cq2+AIY96Q9mkR0FoRv60F92MR1k3Z/XNpfMGC5BNvXZQinlMI3uGD/2Q9xZB8sl1TYD0576CMBf0XZdn1L9dBUzxLZB8sxFfbsRJ8IKBVt4mK97bNklkIQsLI0Gg59IYVdKNrfOBRNtUj2wZJUOBcQhSeoaH+eKjUOjWcfLEmFTcPI36Ey/8xhbFMtImClav/NNC5g3YxrLXX64d+/vATqLCJgOVs1X8F+2PPuJVBnEQHL2SoB60asErBuxK2OZV1TIQE1Bk63FSIUAawGN52ldeXEmHNgbvmhl0FElNThpG6PV6JP73UQGbix//IWsHocjCvVHVOhBfFXqcR/a9docrCIifkpYtp2/X0ielkX9ZcM1Wvt6pm6+ryy6O3VnjClNLZxZI+1a8M29DLFOMCWN7kZJmC5+dSllCNY9VS3zcwXA+FdVvxlVeCT7Yqx4WE01H6AtroZJmC5+dQNLLcF0j4HK9oPsIDlhRhHEZcZiwgGinZCm7bHNlqiQVVXTzDzF+c0q/BKUo+UabR2pwBu2I1gPuDY1U7FJhGpr5GKX2+bpmNaYpm+D8ZGt3ZkxnLzqduM5bryTngXjLfay1ERxHeCUW663yDCa8yYbq03e2buGoCX9xwI4RQY7R/eiQbAfKf7uaoCVs/jMfvw7pYKvbTVHyIClpdxckmFXhrqGxEBy8tQCVjNNgpYfsCSVNjko4DlByzXh3cvrfWDiIDlZZQkFUoq9AJSi42SCiUVhiBLZiyZsUJw5fojdJC2sykqz1hexkUWSGXG8gJSi42Ob4VE9BaY255vwMl+LIuPgLDoev1kDxcI/wWj2tLule8gJp9ZWdVbYMwAnSC0HpU0+8uCwsDsv/4zkn1ZDpfMWA4mdS/i9IxFMFbxdl3gf7RT1LqwKJ62PwDzV+aARfRvYt7OZdsC1uygN6LNMPZQ9152LkGE9xHZ7dD4T9tSDV7KNvoxmD/j1o6A5eZTl1KOqVC2zXhx25/IQvn3r7pS/Nl5jzGqxXuAGzvGiOPiBsRx14PX5h0OwnuseNu8G/1MtB9W9mP5w9pByTEVWgZ9jxT9SwO4es7Ptb/ZDIFpFxifamryOEX0ODPN7nm/vq6CJba0iZm/5dDNeXIhZoi4wqSPtesbW7OMmHYDuMutHUmFbj75SYVAsqeK0P70O4YGYQRActTetYsBS0DyObjWbw1e+YT5kPtD9byBTAKtLwhXapAG8WIkfXS6BCwnm7oVcpqxuoksqPsClpfhFLCabRSw/IAlvxU2+Shg+QHLcYHUS2N9ISJgeRkmSYWSCr2A1GKjpEJJhSHIkhlLZqwQXMm2mRZX5RnLC2iOvxV6aas/RAQsL+MkqVBSoReQWmyU5QZ5ePdBFpti4Xodju16WHuQCB/wod/vGlajolR0sDkO0vU2B5ukF20mts0kZ0RRrHcyY2fvOzbTMzPlls+A6BeI4oOkk0/cpXtlAizU1DfZ4mHQ3N0H6VrTh60zYlJ4CiX7o7R7nwmwuKqSL1ol+8vl6t2Bt6lsP9G7TG8K2QCrpv4Oxgd7C0VqzzpAOEUl+8m03cgGWHX9dVh+xP3wsbRty2z7DSjaR0Xzk7R7mAmwkv+iMVV7n7W4n5g/lLYp/dg+E51QCod0WT1rMvAd6UyA1Y8DKX2e3wEBSwgJ4oCAFcRWERWwhIEgDghYQWwVUQFLGAjigIAVxFYRFbCEgSAOCFhBbBVRAUsYCOKAgBXEVhEVsISBIA4IWEFsFVEBSxgI4oCAFcRWERWwhIEgDghYQWwVUQFLGAjigIAVxFYRFbCEgSAOCFhBbBVRAUsYCOKAgBXEVhEVsISBIA4IWEFsFVEBSxgI4oCAFcRWEaWx45WVhupXvnUllzjgwQHNRaYtZx5bMVWjOZ9b86AtEjl2YKjEMW08uXcp8WQ5xz5I6J4dYBqu0g5+euCdk+eWeNYWuRw7sHLN8ks0dqQSFdfxsplqw/ELnzl2TELv6sBAuWDqx+gCgUGb33hkpKb1YNdaUkAc6OJAyZjpw6P7JmbfBh/gnxZeef30Uh3JrCXk3LwDJi6Yu9auvvgMPdi4tsyw9XRlcLKGEVl6uHlj81wzWWIYLmHi+dWV6cSHOetXd7+4e1F9ZGhY4MozIjceewJVcWJq8oUN+y9frd2yMJrMXOeneUjS4o0bnMcaSfq7bZCmrs5UHcFKbux4tVK8WC4PqEUzJXlbzCMu3WNO3v7s5WptdHR0Onmmaq7R+accBo2NV/SKsZHCmTdr5eHiRDRTLWlJk91NX4glknQ3UK6ZyfpIvOqOUvXs+ERjfKxikKwrtLn+Dyydg7JWpfauAAAAAElFTkSuQmCC"},"L/+s":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("A9zj"),i=n(r),o=a("4YfN"),s=n(o),l=a("BGNQ"),d=n(l),u=a("z5TY"),c=n(u),f=a("kNGm"),h=n(f),m=a("PzEQ"),v=n(m),p=(a("0AQX"),a("jLp1")),C=a("HyXB"),y=a("+VRO"),_=n(y),g=a("PKHo"),b=n(g),w=a("vl8n"),I=n(w),D=a("BUFe"),x=n(D);t.default={data:function(){return{projectTask:{},comment:{},taskLog:{logTitle:"",logDeclarationHours:1,taskDate:(0,h.default)((new Date).getTime(),"YYYY-MM-DD"),biComment:""},defaultUserInfo:{}}},mixins:[_.default,b.default],components:{Group:c.default,Cell:d.default,RPicker:I.default,XTextarea:v.default,RAction:x.default},filters:{timeSplit:function(e){return e?e.split(" ")[0]:""}},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,p.findProjectTask)(t).then(function(t){var a=t.formData,n=void 0===a?{}:a,r=t.attachment,i=void 0===r?[]:r;e.jsonData=n,e.attachment=i,e.comment=n.comment,e.projectTask=(0,s.default)({},n.projectPlanTask,n.projectApproval),e.orderInfo=(0,s.default)({},n.baseinfo,{biStatus:"已生效"})})},getDate:function(e,t){var a=this;this.$vux.datetime.show({confirmText:"确认",cancelText:"取消",onConfirm:function(e){a.taskLog.taskDate=e}})},save:function(){var e=this,t="";if(this.taskLog.logTitle||(t="请输入标题"),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t={listId:e.listId,formData:{comment:{biComment:e.taskLog.biComment},baseinfo:(0,s.default)({},e.defaultUserInfo,{id:"",biProcessStatus:e.orderInfo.biProcessStatus,handlerEntity:e.orderInfo.handlerEntity,creator:e.defaultUserInfo.handler,modifer:e.defaultUserInfo.handler}),jobLog:(0,s.default)({},e.taskLog,{projectTaskId:e.projectTask.projectPlanTaskId})},wfParam:null};(0,p.saveJobLog)(t).then(function(t){e.$HandleLoad.hide();var a=t.success,n=void 0!==a&&a,r=t.message,i=void 0===r?"提交失败":r;n&&(i="提交成功"),e.$vux.alert.show({content:i,onHide:function(){e.taskLog={logTitle:"",logDeclarationHours:1,taskDate:(0,h.default)((new Date).getTime(),"YYYY-MM-DD"),biComment:""}}})}).catch(function(t){e.$HandleLoad.hide()})}})},getBaseInfoData:function(){var e=this;(0,C.getBaseInfoData)().then(function(t){var a=t.handleORG,n=t.userRoleList,r=(0,i.default)(t,["handleORG","userRoleList"]);e.defaultUserInfo={handler:r.userId,handlerName:r.nickname,handlerUnit:a[0].groupId,handlerUnitName:a[0].groupName,handlerRole:n[0].roleId||"",handlerRoleName:n[0].roleName||"",userCode:r.userCode}})}},created:function(){this.getBaseInfoData()}}},L0HX:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("tab",{attrs:{"line-width":2,"default-color":"#333","active-color":"#3296FA"}},e._l(e.listStatus,function(t,n){return a("tab-item",{key:n,attrs:{selected:n===e.activeIndex},on:{"on-item-click":function(a){e.tabClick(t,n)}}},[e._v(e._s(t.name)+"\n          ")])}),1)],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"list-item-wrapper",class:{visited:t.visited},on:{click:function(a){e.goDetail(t,n)}}},[a("img",{staticClass:"list_item_img",attrs:{src:t.groupPic,alt:"company-img"},on:{error:function(a){e.getDefaultImg(t)}}}),e._v(" "),a("div",{staticClass:"list_info_wrapper"},[a("div",{staticClass:"list_header"},[a("span",{staticClass:"list_name"},[e._v(e._s(t.groupName))]),e._v(" "),a("span",{staticClass:"list_status",class:t.statusClass},[e._v(e._s(t.status))])]),e._v(" "),a("div",{staticClass:"list_detail"},[a("div",{staticClass:"list_detail_item"},[a("span",{staticClass:"list_detail_title"},[e._v("简称: ")]),e._v(" "),a("span",{staticClass:"list_detail_value"},[e._v(e._s(t.groupShortName))])]),e._v(" "),a("div",{staticClass:"list_detail_item"},[a("span",{staticClass:"list_detail_title"},[e._v("公司类型: ")]),e._v(" "),a("span",{staticClass:"list_detail_value"},[e._v(e._s(t.companyType))])])])])])}),0)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},L3x7:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("m-search",{attrs:{filterList:e.filterList,isFill:!0},on:{search:e.searchList}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.matterList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.matterList,function(t,n){return a("div",{key:n,staticClass:"each_mater box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[t.transCode&&!t.transCode.includes(",")&&e.isShowCode?a("div",{staticClass:"order-code"},[e._t("titleName",[a("span",{staticClass:"order-title"},[e._v("单号")])]),e._v(" "),a("span",{staticClass:"order-num"},[e._v(e._s(t.transCode))])],2):e._e(),e._v(" "),a("div",{staticClass:"order-matter"},[a("div",{staticClass:"mater_img"},[a("img",{attrs:{src:t.inventoryPic,alt:"mater_img"},on:{error:function(a){e.getDefaultImg(t)}}})]),e._v(" "),a("div",{staticClass:"mater_main "},[a("div",{staticClass:"mater_name"},[e._v("\n                "+e._s(t.inventoryName)+"\n              ")]),e._v(" "),a("div",{staticClass:"mater_info"},[a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline",staticStyle:{display:"inline-block"}},[a("div",{staticClass:"mater_code"},[a("span",{staticClass:"title"},[e._v("编码")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(t.inventoryCode))])])]),e._v(" "),a("div",{staticClass:"ForInline",staticStyle:{display:"inline-block"}},[a("div",{staticClass:"mater_spec"},[a("span",{staticClass:"title"},[e._v("规格")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(t.specification||"无"))])])])]),e._v(" "),a("div",{staticClass:"withoutColor"},[e._t("attribute",[a("div",{staticClass:"mater_classify"},[a("span",{staticClass:"type"},[e._v("属性: "+e._s(t.processing))]),e._v(" "),a("span",{staticClass:"father"},[e._v("大类: "+e._s(t.inventoryType||"无"))]),e._v(" "),a("span",{staticClass:"child"},[e._v("子类: "+e._s(t.inventorySubclass||"无"))])]),e._v(" "),a("div",{staticClass:"mater_material"},[a("span",{staticClass:"unit"},[e._v("单位: "+e._s(t.measureUnit))]),e._v(" "),a("span",{staticClass:"color"},[e._v("颜色: "+e._s(t.inventoryColor||"无"))]),e._v(" "),a("span",{staticClass:"spec"},[e._v("材质: "+e._s(t.material||"无"))])])],{item:t}),e._v(" "),e._t("storage",[void 0!==t.qtyBal?a("div",{staticClass:"mater_material"},[a("span",{staticClass:"spec"},[e._v("余额: "+e._s(t.qtyBal))])]):e._e(),e._v(" "),t.allQty?a("div",{staticClass:"mater_material"},[a("span",{staticClass:"spec"},[e._v("待做需求: "+e._s(t.qtyBalance))])]):e._e()],{item:t})],2)])])]),e._v(" "),a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-circle-outline selIcon",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1),e._v(" "),a("div",{staticClass:"count_mode vux-1px-t"},[a("span",{staticClass:"count_num"},[e._v(" "+e._s(e.tmpItems.length?"已选 "+e.tmpItems.length+" 个":"请选择")+" ")]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.cfmMater}},[e._v("确定")])])])],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},L61s:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("kNGm"),i=(n(r),a("0AQX")),o=a("+VRO"),s=n(o);t.default={data:function(){return{userData:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},uploadStyle:{width:"100%",padding:"0.06rem 0.1rem"}}},mixins:[s.default],methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,i.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,s=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=s,e.userData=i,e.workFlowInfoHandler()})},goEdit:function(){var e=this.$route.params,t=e.folder,a=e.fileName,n=this.$route.query.name;this.$router.push({path:"/fillform/"+t+"/"+a,query:{name:n,transCode:this.transCode}})}}}},LBhX:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("KH7x"),s=n(o),l=a("Jwlx"),d=n(l),u=a("kpbF"),c=a("1KNX"),f=n(c),h=a("Qg39"),m=(a("zWMP"),a("iR2W")),v=n(m);t.default={name:"ZCFZForm",data:function(){return{headerSwiper:null,partRightSwiper:null,code:"",headInfo:{},listData:{},listMap:{ZCFZ:{title:"资产负债表",firstName:"期初",LastName:"期末",request:u.getOffBalance},LR:{title:"利润表",firstName:"上期",LastName:"本期",request:u.getProfit}},scrollOptions:{bounce:{top:!1}}}},components:{RScroll:f.default},methods:{getData:function(){var e=this;return this.listMap[this.code].request().then(function(t){var a=t.data,n=void 0===a?[]:a,r={};n.forEach(function(e){var t=r[e.assetType];t?t.items.push((0,d.default)(e)):r[e.assetType]={assetType:e.assetType,items:[(0,d.default)(e)]}}),e.listData=r,e.$nextTick(function(){e.setHeight(e.$refs.partLeftContent,e.$refs.partRightInit,e.$refs.partRightFinal),"ZCFZ"===e.code&&e.setHeight(e.$refs.partLeftTitle,e.$refs.partRightInitTitle,e.$refs.partRightFinalTitle),e.$loading.hide()})})},setHeight:function(e){for(var t=arguments.length,a=Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];var r=(0,s.default)(a,1),i=r[0];e&&e.forEach(function(e,t){var n=i[t];e.clientHeight!==n.clientHeight&&a.forEach(function(a){a[t].style.height=e.clientHeight+"px"})})},initSwiper:function(){var e=this;this.$nextTick(function(){e.partRightSwiper=new e.Swiper(".part-right"),e.headerSwiper=new e.Swiper(".swiper-container-header"),e.partRightSwiper.controller.control=e.headerSwiper,e.headerSwiper.controller.control=e.partRightSwiper})}},filters:{formatNum:function(e){return e?(0,v.default)((0,h.toFixed)(e))+"元":"-"}},created:function(){var e=this.$route.query.code,t=void 0===e?"":e;this.code=t,this.headInfo=(0,i.default)({},this.listMap[t]),this.initSwiper(),this.getData()}}},LGX9:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement;return(e._self._c||t)("i",{class:[e.className,e.isMsg?"weui-icon_msg":""]})},r=[],i={render:n,staticRenderFns:r};t.a=i},LIUC:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("+62G"),s=n(o),l=a("7g+Q"),d=n(l),u=a("z5TY"),c=n(u),f=a("HXPS"),h=n(f),m=a("d5Kw"),v=n(m),p=a("kNGm"),C=(n(p),a("1KNX")),y=n(C),_=a("I8ug"),g=a("d3k1"),b=n(g),w=a("Qg39");t.default={data:function(){return{scrollOptions:{click:!0},logShow:!1,pickerStatus:!1,scopeList:[{name:"表单",selected:!1},{name:"科目关系",selected:!1},{name:"报表",selected:!1},{name:"工作流",selected:!1},{name:"权限",selected:!1}],submitData:{scope:"",spendTime:1,content:""},scopeType:[],listId:"",btnIsHide:!1,clientHeight:document.documentElement.clientHeight}},directives:{TransferDom:s.default},components:{Popup:d.default,Group:c.default,Icon:h.default,XButton:v.default,RScroll:y.default},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},EditLogPop:function(){var e=this;if(this.pickerStatus=!0,this.scopeType=[],this.submitData.scope){this.submitData.scope.split(",").forEach(function(t){var a={name:t};e.scopeType.push(a)})}},showSelIcon:function(e){return-1!==this.scopeType.findIndex(function(t){return t.name===e.name})},selectType:function(e){e.selected=!e.selected;var t=this.scopeType,a=t.findIndex(function(t){return t.name===e.name});if(-1!==a)return void t.splice(a,1);t.push(e)},cfmMater:function(){var e=this;this.pickerStatus=!1,this.submitData.scope="",this.scopeType.forEach(function(t){if(e.submitData.scope.length)return void(e.submitData.scope+=","+t.name);e.submitData.scope+=t.name})},checkVal:function(e){var t=e.spendTime;t&&(e.spendTime=Math.abs((0,w.toFixed)(t)))},submitLog:function(){var e=this,t="";if([{key:"scope",message:"【更新范围】"},{key:"spendTime",message:"【耗用时间】"},{key:"content",message:"【更新内容】"}].every(function(a){return""!==e.submitData[a.key]||(t=a.message+"不能为空",!1)}),t)return void this.$vux.alert.show({content:t});(0,_.saveLog)((0,i.default)({},this.submitData,{listId:this.listId})).then(function(t){t.success&&(e.submitSuccess=!0,e.$vux.alert.show({content:"提交成功",onHide:function(){e.$router.go(-1)}}))})},getFocus:function(e){event.currentTarget.select()}},created:function(){var e=this.$route.params.listId;e&&(this.listId=e)},mounted:function(){var e=this;b.default.isAndroid&&(window.onresize=function(){e.clientHeight>document.documentElement.clientHeight?e.btnIsHide=!0:e.btnIsHide=!1})},beforeRouteLeave:function(e,t,a){e.path;this.submitSuccess&&"APPDETAIL"===e.name&&(e.meta.reload=!0),a()}}},LLC5:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages gdrw-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[a("div",{staticClass:"title"},[e._v("工序信息")]),e._v(" "),a("group",{staticClass:"costGroup",attrs:{"group-title-margin-top":"0"}},[a("cell",{attrs:{isLink:"",title:"工序名称"},nativeOn:{click:function(t){e.showWorkPop=!e.showWorkPop}},model:{value:e.workInfo.procedureName||"请选择",callback:function(t){e.$set(e.workInfo,"procedureName || '请选择'",t)},expression:"workInfo.procedureName || '请选择'"}}),e._v(" "),a("cell",{attrs:{title:"工单任务号",disabled:!e.workInfo.transCode},model:{value:e.workInfo.transCode,callback:function(t){e.$set(e.workInfo,"transCode",t)},expression:"workInfo.transCode"}}),e._v(" "),a("cell",{attrs:{title:"工艺路线名称",disabled:!e.workInfo.technicsName},model:{value:e.workInfo.technicsName,callback:function(t){e.$set(e.workInfo,"technicsName",t)},expression:"workInfo.technicsName"}}),e._v(" "),a("cell",{attrs:{title:"工艺路线编码",disabled:!e.workInfo.proFlowCode},model:{value:e.workInfo.proFlowCode,callback:function(t){e.$set(e.workInfo,"proFlowCode",t)},expression:"workInfo.proFlowCode"}})],1),e._v(" "),a("pop-work-gdbll-list",{attrs:{show:e.showWorkPop,defaultValue:e.workInfo},on:{"sel-work":e.selWork},model:{value:e.showWorkPop,callback:function(t){e.showWorkPop=t},expression:"showWorkPop"}})],1),e._v(" "),a("div",{staticClass:"materiel_list"},[a("div",{staticClass:"title"},[e._v("加工订单信息")]),e._v(" "),a("group",{staticClass:"costGroup",attrs:{"group-title-margin-top":"0"}},[a("cell",{attrs:{title:"加工订单号",disabled:!e.workInfo.processCode},model:{value:e.workInfo.processCode,callback:function(t){e.$set(e.workInfo,"processCode",t)},expression:"workInfo.processCode"}}),e._v(" "),a("cell",{attrs:{title:"成品名称",disabled:!e.workInfo.inventoryName},model:{value:e.workInfo.inventoryName,callback:function(t){e.$set(e.workInfo,"inventoryName",t)},expression:"workInfo.inventoryName"}}),e._v(" "),a("cell",{attrs:{title:"成品编码",disabled:!e.workInfo.matCode},model:{value:e.workInfo.matCode,callback:function(t){e.$set(e.workInfo,"matCode",t)},expression:"workInfo.matCode"}}),e._v(" "),a("x-input",{attrs:{title:"补领料数量",disabled:!e.workInfo.inventoryName,"text-align":"right",placeholder:e.workInfo.inventoryName?"请填写":""},on:{"on-focus":function(t){e.getFocus(t)}},model:{value:e.workInfo.tdQty,callback:function(t){e.$set(e.workInfo,"tdQty",t)},expression:"workInfo.tdQty"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("补领料数量")])])],2)],1)],1),e._v(" "),a("pop-project-list",{attrs:{defaultValue:e.project},on:{"sel-project":e.selProject}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},LOVB:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("IHPB"),i=n(r),o=a("3cXf"),s=n(o),l=a("+62G"),d=n(l),u=a("7g+Q"),c=n(u),f=a("z5TY"),h=n(f),m=a("HXPS"),v=n(m),p=a("d5Kw"),C=n(p),y=a("kNGm"),_=(n(y),a("1KNX")),g=n(_),b=a("I8ug"),w=a("9r/T");t.default={name:"ChangeLog",props:{handle:{type:Boolean,default:!1}},data:function(){return{page:1,limit:10,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},mySwiper:null,popupShow:!1,adminCommentList:[],listId:"a4897429-f4f2-44a4-ade7-2fe8dc67c3cf",scrollHeight:0,seletedIndex:null}},directives:{TransferDom:d.default},components:{Popup:c.default,Group:h.default,Icon:v.default,XButton:C.default,RScroll:g.default},methods:{onShow:function(){var e=this;this.$nextTick(function(){if(e.$refs.bScroll){e.$refs.bScroll.refresh();var t=e.$refs.bScroll.$refs.bScroll.offsetHeight,a=e.$refs.bScroll.$refs.scrollWrapper.offsetHeight,n=a-t;a>t&&(e.scrollHeight>n&&(e.scrollHeight=n),e.$refs.bScroll.scrollTo(0,-e.scrollHeight))}}),(0,w.setTimeout)(function(){e.seletedIndex=null},1e3)},getUserDefault:function(e){var t=a("Fuf7");return e&&(e.photo=t),t},getMoreComment:function(){this.popupShow=!0,this.scrollHeight=0},goPop:function(e){var t=this;this.seletedIndex=e,this.popupShow=!0,this.scrollHeight=0,this.$nextTick(function(){0!==e&&t.$refs.eachComment.forEach(function(a,n){n<e&&(t.scrollHeight+=a.offsetHeight)})})},getAdminComment:function(){var e=this;return(0,b.getAdminCommentList)({listId:this.listId,limit:this.limit,page:this.page,sort:(0,s.default)([{property:"crtTime",direction:"DESC"}])}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,o=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+o.length,o.forEach(function(e){e.achievement.includes("<")&&!e.achievement.includes("img")?(e.modifyAchievement=e.achievement.replace(/<\/?[^>]*>/g,""),e.modifyAchievement=e.modifyAchievement.replace(/\s+/g,"</br>")):e.modifyAchievement=e.achievement,e.chance.includes("<")&&!e.chance.includes("img")?(e.modifyChance=e.chance.replace(/<\/?[^>]*>/g,""),e.modifyChance=e.modifyChance.replace(/\s+/g,"</br>")):e.modifyChance=e.chance}),e.adminCommentList=1===e.page?o:[].concat((0,i.default)(e.adminCommentList),(0,i.default)(o)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},onPullingUp:function(){this.page++,this.getAdminComment()},closePop:function(){this.popupShow=!1},EditAdmin:function(){this.$router.push({path:"/appDetail/"+this.listId+"/addAdminComment"})}},created:function(){var e=this.$route.params.listId;e&&(this.listId=e,this.getAdminComment())},mounted:function(){var e=this.Swiper;this.mySwiper=new e(".admin-comment-container",{slidesPerView:"auto",observer:!0,observeParents:!0,centeredSlides:!0})}}},LOxi:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("IHPB"),s=n(o),l=a("3cXf"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),h=n(f),m=a("+62G"),v=n(m),p=a("6q39"),C=n(p),y=a("HyXB"),_=a("1KNX"),g=n(_),b=a("7biW"),w=n(b);t.default={name:"PopManagerList",props:{title:{type:String,default:"任务名称"},defaultValue:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1},requestParams:{type:Object,default:function(){return{}}}},directives:{TransferDom:v.default},components:{Icon:c.default,Popup:h.default,RScroll:g.default,DSearch:w.default,LoadMore:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},computed:{tip:function(){var e="加载中";return this.hasNext||(e="暂无数据"),e}},watch:{defaultValue:function(e){this.setDefaultValue()},requestParams:{handler:function(){this.getList()},deep:!0,immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this.getList()},showSelIcon:function(e){return this.selItems.taskId===e.taskId},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.$emit("sel-item",(0,d.default)(this.selItems))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getList:function(){var e=this,t=[];this.srhInpTx&&(t=[].concat((0,s.default)(t),[{operator:"like",value:this.srhInpTx,property:"dealerName"}]));var a=(0,i.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,d.default)(t)},this.requestParams.data);return(0,y.requestData)({url:this.requestParams.url,data:a}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+i.length,e.listData=1===e.page?i:[].concat((0,s.default)(e.listData),(0,s.default)(i)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.selItems=this.defaultValue?(0,i.default)({},this.defaultValue):{}},warehouseClick:function(){this.disabled||(this.showPop=!this.showPop)},addWarehouse:function(){this.$router.push({path:"/warehouse/edit_warehouse",query:{add:1}})}},created:function(){this.setDefaultValue(),this.disabled}}},LOzK:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"r-picker ",class:{"r-picker-2":"2"===e.mode,"r-picker-3":"3"===e.mode,"r-picker-4":"4"===e.mode,"vux-1px-b":e.hasBorder,"vux-1px-t":e.hasBorderTop},on:{click:e.showStatus}},["1"===e.mode||"2"===e.mode?[a("label",{class:{required:e.required}},[e._v(e._s(e.title))]),e._v(" "),a("div",{staticClass:"picker"},[a("span",{staticClass:"horizontal-title",class:{required:e.required}},[e._v(e._s(e.title))]),e._v(" "),a("span",{staticClass:"mater_nature"},[e._v(e._s(e.showValue))]),e._v(" "),e.showArrow?a("span",{staticClass:"iconfont icon-youjiantou r_arrow"}):a("span",{staticClass:"iconfont icon-gengduo",class:e.pickerStatus?"":"iconfont_fff"})])]:"3"===e.mode?[a("div",{staticClass:"title",class:{required:e.required}},[e._v(e._s(e.title))]),e._v(" "),a("div",{staticClass:"mode"},[e._v(e._s(e.showValue||e.placeholder))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!e.disabled,expression:"!disabled"}],staticClass:"iconfont icon-youjiantou r_arrow"})]:"4"===e.mode?[a("div",{staticClass:"title",class:{required:e.required}},[e._v(e._s(e.title))]),e._v(" "),a("div",{staticClass:"mode"},[e._v(e._s(e.showValue))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!e.disabled,expression:"!disabled"}],staticClass:"iconfont icon-youjiantou r_arrow"})]:e._e(),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{attrs:{id:"trade_pop_part"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[a("div",[a("div",{staticClass:"popup_header vux-1px-b"},[a("span",{staticClass:"cancel",on:{click:function(t){e.show=!1}}},[e._v("取消")]),e._v(" "),a("span",{staticClass:"confirm",on:{click:e.confirm}},[e._v("确认")])]),e._v(" "),a("picker",{attrs:{data:e.data,columns:1,value:e.currentValue},model:{value:e.currentValue,callback:function(t){e.currentValue=t},expression:"currentValue"}})],1)])],1)],2)},r=[],i={render:n,staticRenderFns:r};t.a=i},LQmC:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("IHPB"),s=n(o),l=a("HXPS"),d=n(l),u=a("7g+Q"),c=n(u),f=a("6q39"),h=n(f),m=a("kNGm"),v=n(m),p=a("fEP3"),C=a("1KNX"),y=n(C),_=a("7biW"),g=n(_);t.default={name:"work-list-pop",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}}},components:{Icon:d.default,Popup:c.default,LoadMore:h.default,RScroll:y.default,MSearch:g.default},filters:{dateFormat:v.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],workList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterList:[{name:"成品名称",value:"inventoryName"},{name:"成品编码",value:"inventoryCode"},{name:"工序名称",value:"procedureName"}],filterProperty:""}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,s.default)(this.selItems)),this.$emit("input",!1),this.$event.$emit("shut-down-filter",!1)},findIndex:function(e,t){return e.findIndex(function(e){var a=!0;return e.transCode&&(a=e.transCode===t.transCode),a&&e.inventoryCode===t.inventoryCode})},showSelIcon:function(e){return-1!==this.tmpItems.findIndex(function(t){return t.transCode===e.transCode&&t.inventoryCode===e.inventoryCode})},selThis:function(e,t){var a=this.tmpItems,n=a.findIndex(function(t){return t.transCode===e.transCode&&t.inventoryCode===e.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(e)},setDefaultValue:function(){this.tmpItems=[this.defaultValue],this.selItems=[this.defaultValue]},getWorkOrderTask:function(){var e=this,t=[],a=this.$route.query.orderId,n=void 0===a?"[]":a,r=JSON.parse(n);if(this.srhInpTx&&(t=[].concat((0,s.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),r.length){var o=[{operator:"in",value:"",property:"colId"}];r.forEach(function(e,t){if(t===r.length-1)return void(o[0].value+=e);o[0].value+=e+","}),console.log(o),t=[].concat((0,s.default)(t),o)}return(0,p.getWorkOrderTask)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,i.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,o=t.tableContent,l=void 0===o?[]:o;r.length&&e.$emit("sel-work",(0,i.default)(l)),e.hasNext=n>(e.page-1)*e.limit+l.length,e.workList=1===e.page?l:[].concat((0,s.default)(e.workList),(0,s.default)(l)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},cfmMater:function(){this.showPop=!1,this.tmpItems.sort(function(e,t){return t.effectiveTime-e.effectiveTime}),this.selItems=[].concat((0,s.default)(this.tmpItems)),this.$emit("sel-work",(0,i.default)(this.selItems))},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,r=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=r,this.workList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getWorkOrderTask()},onPullingUp:function(){this.page++,this.getWorkOrderTask()}},created:function(){this.setDefaultValue(),this.getWorkOrderTask()}}},LUxz:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("4YfN"),s=n(o),l=a("u28h"),d=n(l),u=a("PzEQ"),c=n(u),f=(a("Qg39"),a("yt3/")),h=n(f);t.default={name:"otherConfigPart",components:{Datetime:d.default,XTextarea:c.default,PopSingleSelect:h.default},props:{otherConfig:{type:Array,default:function(){return[]}},otherInfo:{type:Object,default:function(){return{}}}},data:function(){return{other:{}}},watch:{otherInfo:{handler:function(e){return this.other=(0,s.default)({},this.otherInfo)},immediate:!0},other:{handler:function(e){(0,i.default)(e)!==(0,i.default)(this.otherInfo)&&this.$emit("input",e)},deep:!0}},methods:{getDate:function(e){var t=this;this.$vux.datetime.show({value:"",confirmText:"确认",cancelText:"取消",onConfirm:function(a){t.$set(t.other,e.fieldCode,a)}})},test:function(){}}}},LVgA:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("lC5x"),i=n(r),o=a("HzJ8"),s=n(o),l=a("J0Oq"),d=n(l),u=a("3cXf"),c=n(u),f=a("4YfN"),h=n(f),m=a("IzfM"),v=n(m),p=a("Dkzh"),C=a("AQAo"),y=n(C),_=a("FvvE"),g=(n(_),a("ZTs6")),b=(n(g),a("xbeG")),w=n(b),I=a("vmwj"),D=n(I),x=a("vHT0"),P=n(x);t.default={data:function(){return{BUSobj:{},userInfo:{},BusApps:[],BasicApps:[],homeScroll:null,entityList:[],showDrop:!1,selItem:{}}},components:{busApp:w.default,basicApp:D.default},methods:{goBasic:function(e){this.$router.push({path:""+y.default[e]})},goList:function(e,t,a,n){this.$router.push({path:"/list/"+e+"/"+t,query:{name:a,listId:n}})},goAppDetail:function(e){this.$router.push({path:"/appDetail/"+e})},getDefaultIcon:function(e){var t=a("CYNT");return e&&(e.icon=t),t},getNews:function(){var e=this,t=void 0;return(0,p.getMsgList)().then(function(a){if(a.dataCount>99)return void(t="99+");t=a.dataCount,e.$event.$emit("badgeNum",t)})},getCurrentUser:function(){var e=this;return v.default.currentUser().then(function(t){e.userInfo={photo:t.photo,mobile:t.mobile,userCode:t.userCode,nickname:t.nickname,entityName:t.entityName&&t.entityName.slice(0,4)||""},t.sysGroupList&&t.sysGroupList.forEach(function(a){"C"===a.groupType&&(e.entityList.push(a),a.groupCode===t.entityId&&(e.selItem=a))})})},dropItemClick:function(e){this.selItem.groupCode!==e.groupCode&&(this.selItem=(0,h.default)({},e),this.userInfo.entityName=e.groupName.slice(0,4),this.showDrop=!1,this.$loading.show(),v.default.changeEntity({entityId:e.groupCode}).then(function(e){var t=sessionStorage.getItem("ROSE_LOGIN_TOKEN");t&&(t=JSON.parse(t),t.entityId=e.entityId,t.token=e.token,sessionStorage.setItem("ROSE_LOGIN_TOKEN",(0,c.default)(t)),location.reload())}))}},watch:{$route:{handler:function(e){"HOME"===e.name&&this.homeScroll.refresh()}}},created:function(){var e=this;this.$loading.show(),(0,d.default)(i.default.mark(function t(){var n,r,o,l,d;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getCurrentUser();case 2:return t.next=4,v.default.getMeau().then(function(t){var a=e.BUSobj,n=!0,r=!1,i=void 0;try{for(var o,l=(0,s.default)(t);!(n=(o=l.next()).done);n=!0){var d=o.value;a[d.text]=[];var u=!0,c=!1,f=void 0;try{for(var m,v=(0,s.default)(d.children);!(u=(m=v.next()).done);u=!0){var p=m.value;if(y.default[p.listId]&&(p.icon=p.icon?"/dist/"+p.icon:"",e.BasicApps.push(p)),p.packagePath&&(p.fileID=d.id,p.icon?p.icon.includes("download")?p.icon=""+location.origin+p.icon:p.icon="/dist/"+p.icon:e.getDefaultIcon(),a[d.text].push(p)),p.children){var C=!0,_=!1,g=void 0;try{for(var b,w=(0,s.default)(p.children);!(C=(b=w.next()).done);C=!0){var I=b.value;I.packagePath&&(I.fileID=d.id,I.icon=I.icon?"/dist/"+I.icon:e.getDefaultIcon(),a[d.text][p.text]?a[d.text][p.text].childList.push(I):e.$set(a[d.text],p.text,{childId:p.id,childName:p.text,childList:[I]}))}}catch(e){_=!0,g=e}finally{try{!C&&w.return&&w.return()}finally{if(_)throw g}}}}}catch(e){c=!0,f=e}finally{try{!u&&v.return&&v.return()}finally{if(c)throw f}}e.BusApps.push({id:d.id,name:d.text,folder:d.folder,appList:(0,h.default)({},a[d.text])}),e.$loading.hide()}}catch(e){r=!0,i=e}finally{try{!n&&l.return&&l.return()}finally{if(r)throw i}}});case 4:return n=JSON.parse(sessionStorage.getItem("ROSE_LOGIN_TOKEN")),r=n.name,o=n.avatar,l=n.position,o||(d=e.userInfo.photo,e.userInfo.photo||(d=a("Fuf7")),o=d),e.userInfo=(0,h.default)({},e.userInfo,{name:r,avatar:o,position:l}),t.next=10,e.getNews();case 10:case"end":return t.stop()}},t,e)}))()},mounted:function(){this.homeScroll=new P.default(this.$refs.home,{click:!0})}}},LZ1p:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("4YfN"),s=n(o),l=a("kNGm"),d=n(l),u=a("0AQX"),c=a("+VRO"),f=n(c),h=a("BUFe"),m=n(h),v=a("AupE"),p=n(v),C=a("Eyzt"),y=n(C),_=a("bFc7"),g=n(_),b=a("zWMP");a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",contactInfo:{},orderList:{}}},mixins:[f.default],components:{onlyWord:y.default,workFlow:p.default,RAction:m.default,contactPart:g.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=void 0===a?[]:a,r=t.formData,o=void 0===r?{}:r,l={},u=0,c=o.order,f=void 0===c?{}:c,h=o.order.dataSet,m=!0,v=!1,p=void 0;try{for(var C,y=(0,i.default)(h);!(m=(C=y.next()).done);m=!0){var _=C.value;_.inventoryPic=_.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),u=(0,b.accAdd)(u,_.tdAmount),l[_.transMatchedCode]||(l[_.transMatchedCode]=[]),e.orderList=l,l[_.transMatchedCode].push(_)}}catch(e){v=!0,p=e}finally{try{!m&&y.return&&y.return()}finally{if(v)throw p}}e.contactInfo={dealerName:f.dealerName_dealerCodeCredit,dealerContactPersonName:o.dealerCreditContactPersonName,dealerMobilePhone:o.dealerCreditContactInformation,dealerCode:f.dealerCodeCredit,province:f.province_dealerCodeCreditt,city:f.city_dealerCodeCreditt,county:f.county_dealerCodeCredit,address:f.address_dealerCodeCredit},e.attachment=n,e.count=u,o.invoiceDate=(0,d.default)(o.invoiceDate,"YYYY-MM-DD"),e.orderInfo=(0,s.default)({},o,f),e.workFlowInfoHandler()})}}}},LbKK:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("KH7x"),s=n(o),l=a("lC5x"),d=n(l),u=a("HzJ8"),c=n(u),f=a("J0Oq"),h=n(f),m=a("HyXB"),v=a("0o6b");t.default={name:"UploadFile",props:{id:{type:String,default:"upload-file"},defaultValue:{type:Array,default:function(){return[]}},noUpload:{type:Boolean,default:!1},containStyle:{type:Object,default:function(){return{}}},titleStyle:{type:Object,default:function(){return{}}},biReferenceId:{type:String,default:""}},data:function(){return{files:[],file:null,showLoading:!1}},watch:{defaultValue:{handler:function(){this.setDefault()},immediate:!0}},methods:{chooseImage:function(){var e=this,t={count:5,defaultCameraMode:"batch"};(0,v.chooseImage)({options:t}).then(function(){var t=(0,h.default)(d.default.mark(function t(a){var n,r,i,o,s,l;return d.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=!0,r=!1,i=void 0,t.prev=3,o=(0,c.default)(a);case 5:if(n=(s=o.next()).done){t.next=12;break}return l=s.value,t.next=9,e.upload(l);case 9:n=!0,t.next=5;break;case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),r=!0,i=t.t0;case 18:t.prev=18,t.prev=19,!n&&o.return&&o.return();case 21:if(t.prev=21,!r){t.next=24;break}throw i;case 24:return t.finish(21);case 25:return t.finish(18);case 26:case"end":return t.stop()}},t,e,[[3,14,18,26],[19,,21,25]])}));return function(e){return t.apply(this,arguments)}}())},setDefault:function(){var e=this,t=[],a=(0,s.default)(this.defaultValue,1);a[0];t=this.defaultValue.map(function(t){return(0,i.default)({},t,{iconType:e.judgeFileType(t.attr1)})}),this.files=t},judgeFileType:function(e){var t="other";return[{reg:/\.(png|jpg|jpeg|gif|bmp|)$/gi,type:"image"},{reg:/\.xlsx$/gi,type:"excel"},{reg:/\.(doc|docx)$/gi,type:"word"},{reg:/\.(ppt|pptx)$/gi,type:"ppt"},{reg:/\.txt$/gi,type:"txt"}].every(function(a){return!a.reg.test(e)||(t=a.type,!1)}),t},getImgUrl:function(e){return location.origin+"/H_roleplay-si/ds/download?url="+e.attacthment},preview:function(e){var t=this;if("image"===e.iconType){var a=this.files.reduce(function(e,a){return"image"===a.iconType&&e.push(t.getImgUrl(a)),e},[]),n=this.getImgUrl(e);wx.previewImage({current:n,urls:a})}},deleteFile:function(e){var t=this;this.$vux.confirm.show({content:"确定删除？",onConfirm:function(){(0,m.deleteFile)(e.id).then(function(a){var n=a.success,r=void 0===n||n;a.message;if(r){var i=t.files.findIndex(function(t){return t.id===e.id});-1!==i&&t.files.splice(i,1)}})}})},upload:function(e){var t=this;return(0,v.uploadImage)({localId:e,biReferenceId:this.biReferenceId}).then(function(e){var a=(0,s.default)(e,1),n=a[0],r=void 0===n?{}:n;r.iconType=t.judgeFileType(r.attr1),t.files.push(r),t.$emit("on-upload",{biReferenceId:r.biReferenceId})})}},created:function(){}}},LjNg:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},Lm7M:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("KH7x"),i=n(r),o=a("HXPS"),s=n(o),l=a("+62G"),d=n(l),u=a("Nk/b"),c=n(u),f=a("7g+Q"),h=n(f);t.default={name:"RPicker",props:{title:{type:String},value:{type:String},data:{type:Array,default:function(){return[]}},required:{type:Boolean,default:!1},pickerStatus:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},data:function(){return{show:!1,currentValue:"",showValue:""}},watch:{value:{handler:function(e){this.showValue=e,this.currentValue=e?[e]:[],this.$emit("on-change",e)}}},directives:{TransferDom:d.default},components:{Picker:c.default,Popup:h.default,Icon:s.default},methods:{confirm:function(){var e=(0,i.default)(this.currentValue,1),t=e[0],a=void 0===t?"":t;this.show=!1,this.$emit("input",a)},showStatus:function(){this.pickerStatus&&!this.disabled&&(this.show=!this.show)}},created:function(){this.currentValue=[this.value],this.showValue=this.value}}},Lmxl:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("IHPB"),s=n(o),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),h=n(f),m=a("jLp1"),v=a("1KNX"),p=n(v),C=a("7biW"),y=n(C);t.default={name:"PopSODLProjectList",props:{value:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:h.default,RScroll:p.default,MSearch:y.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},tmpItems:[],projectList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},projectName:""}},watch:{value:{handler:function(e){this.selItems=(0,d.default)({},e)}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},showSelIcon:function(e){return this.selItems.projectName===e.projectName},selThis:function(e,t){this.showPop=!1,this.selItems=(0,d.default)({},e),this.$emit("input",this.selItems)},getProjectLsit:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,s.default)(t),[{operator:"like",value:this.srhInpTx,property:"projectName"}])),(0,m.getSalesOutStockProject)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,i.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+i.length,e.projectList=1===e.page?i:[].concat((0,s.default)(e.projectList),(0,s.default)(i)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.projectList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getProjectLsit()},onPullingUp:function(){this.page++,this.getProjectLsit()},itemClick:function(){this.showPop=!0}},created:function(){this.selItems=(0,d.default)({},this.value),this.getProjectLsit()}}},LoA2:function(e,t){},LoFD:function(e,t,a){"use strict";function n(e){a("nPJt")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("Zt7o");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("RZF6"),s=a.n(o),l=a("8XtF"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-22fbb719",null);t.default=c.exports},Lp2T:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("IHPB"),s=n(o),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),h=n(f),m=a("jLp1"),v=a("1KNX"),p=n(v),C=a("7biW"),y=n(C);t.default={name:"PopSODLProjectList",props:{value:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:h.default,RScroll:p.default,MSearch:y.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},tmpItems:[],projectList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},projectName:""}},watch:{value:{handler:function(e){this.selItems=(0,d.default)({},e)}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},showSelIcon:function(e){return this.selItems.projectName===e.projectName},selThis:function(e,t){this.showPop=!1,this.selItems=(0,d.default)({},e),this.$emit("input",this.selItems)},getProjectLsit:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,s.default)(t),[{operator:"like",value:this.srhInpTx,property:"projectName"}])),(0,m.getSalesOutStockProject)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,i.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+i.length,e.projectList=1===e.page?i:[].concat((0,s.default)(e.projectList),(0,s.default)(i)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.projectList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getProjectLsit()},onPullingUp:function(){this.page++,this.getProjectLsit()},itemClick:function(){this.showPop=!0}},created:function(){this.selItems=(0,d.default)({},this.value),this.getProjectLsit()}}},LpND:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("kNGm"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"contactPart",props:{contactInfo:{type:Object,default:function(){return{}}},configs:{type:Array,default:function(){return[]}},showAddress:{type:Boolean,default:!0}},filters:{dateFormat:r.default}}},LpO3:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper task_container"},[e.orderInfo?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("warehouse-content",{attrs:{"warehouse-config":e.warehouseConfig}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_content"},e._l(e.workInfo,function(t,n){return a("div",{key:n,staticClass:"main_content"},e._l(e.matterConfig,function(n,r){return a("div",{key:r,staticClass:"vux-1px-b"},["r2Datefield"===n.editorType?[a("div",{staticClass:"each_info"},[a("label",[e._v(e._s(n.text))]),e._v(" "),a("span",{staticClass:"field_value"},[e._v(e._s(e._f("timeSplit")(t[n.fieldCode])))])])]:[a("div",{staticClass:"each_info"},[a("label",[e._v(e._s(n.text))]),e._v(" "),a("span",{staticClass:"field_value"},[e._v(e._s(t[n.fieldCode]))])])]],2)}),0)}),0),e._v(" "),a("other-part",{attrs:{"other-info":e.orderInfo,attachment:e.attachment}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[],i={render:n,staticRenderFns:r};t.a=i},Lzbv:function(e,t){},"M/t2":function(e,t){},M4Tm:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId,hasFormStatus:!1},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noCount:"",noPrice:"",isDealer:!1},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}}),e._v(" "),a("pop-task-work-list",{ref:"taskWork",attrs:{show:e.popShow,params:e.requestParams,"work-type":"启动"},on:{"sel-task":e.selTask},model:{value:e.popShow,callback:function(t){e.popShow=t},expression:"popShow"}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},M4eV:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("3cXf"),s=n(o),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),h=n(f),m=a("+62G"),v=n(m),p=a("6q39"),C=n(p),y=a("fEP3"),_=a("1KNX"),g=n(_),b=a("7biW"),w=n(b);t.default={name:"PopCompanyList",props:{defaultValue:{type:Object,default:function(){return{}}},show:{type:Boolean,default:!1}},directives:{TransferDom:v.default},components:{Icon:c.default,Popup:h.default,RScroll:g.default,DSearch:w.default,LoadMore:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:function(e){this.setDefaultValue()}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1,this.$emit("input",!1)},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this.getList()},showSelIcon:function(e){return this.selItems.facilityName===e.facilityName},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.$emit("sel-item",this.selItems)},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"facilityName"}])),(0,y.getObjFacility)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+i.length,e.listData=1===e.page?i:[].concat((0,d.default)(e.listData),(0,d.default)(i)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.selItems=this.defaultValue?(0,i.default)({},this.defaultValue):{}}},created:function(){this.setDefaultValue(),this.getList()}}},M79D:function(e,t){},M7F2:function(e,t){},M93x:function(e,t,a){"use strict";function n(e){a("j8TW")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("eLoA");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("eQNG"),s=a.n(o),l=a("Ixmg"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,null,null);t.default=c.exports},MEML:function(e,t){},MF1H:function(e,t,a){"use strict";function n(e){a("3P4b")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("QfO0");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("p9IC"),s=a.n(o),l=a("ZksZ"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,null,null);t.default=c.exports},MFjG:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"badge",props:{text:[String,Number]}}},MGsm:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{attrs:{id:"main"}})])}],i={render:n,staticRenderFns:r};t.a=i},ML4I:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("MgeX"),s=n(o),l=a("HzJ8"),d=n(l),u=a("ZLEe"),c=n(u),f=a("3cXf"),h=n(f),m=a("4YfN"),v=n(m),p=a("BGNQ"),C=n(p),y=a("z5TY"),_=n(y),g=a("SAzG"),b=n(g),w=a("kNGm"),I=n(w),D=a("PzEQ"),x=n(D),P=a("u28h"),S=n(P),k=a("jnZd"),L=n(k),N=a("HyXB"),M=a("0AQX"),T=a("bKg5"),A=n(T),O=a("VZtf"),R=n(O),j=a("y8YJ"),B=n(j),E=a("Ylj6"),F=n(E),U=a("9cRV"),$=n(U),H=a("vl8n"),V=n(H),q=a("+WR7"),Q=n(q),Y=a("luHD"),X=n(Y),G=a("zWMP"),W=a("Qg39"),z=a("Q67R"),K=n(z);t.default={mixins:[A.default],components:{ApplyMatterPart:K.default,Cell:C.default,Group:_.default,XInput:b.default,PopMatterList:$.default,PopMatter:X.default,RNumber:R.default,Datetime:S.default,XTextarea:x.default,PopDealerList:B.default,PopupPicker:L.default,PopInvoiceList:F.default,RPicker:V.default,PopBaseinfo:Q.default},data:function(){return{taxRate:.16,modifyKey:null,showMatterPop:!1,showMaterielPop:!1,filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"出库单",value:"transCode"}],numMap:{},orderList:{},matterList:[],dealerInfo:{},contactInfo:{},formData:{biProcessStatus:"",biComment:""}}},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],null!=this.matterParams.data.dealerCode&&(this.matterParams.data.dealerCode=this.dealerInfo.dealerCode,this.matterList=[],this.orderList={})},selContact:function(e){this.contactInfo=(0,v.default)({},e)},getMatterModify:function(e,t,a){this.matter=JSON.parse((0,h.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.inventoryCode!==e.inventoryCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getMatter:function(){if(!this.dealerInfo.dealerCode)return void this.$vux.alert.show({content:"请选择客户"});this.showMaterielPop=!this.showMaterielPop},selMatter:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){var a=e.transCode+"_"+e.inventoryCode,r=t.numMap[a]||{},i=r.tdQty,o=void 0===i?e.qtyBal:i,s=r.price,l=void 0===s?e.price:s,d=r.taxRate,u=void 0===d?t.taxRate:d,c=r.promDeliTime,f=void 0===c?"":c;e.tdQty=o,e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null,e.price=l,e.taxRate=u,e.promDeliTime=f,e.dateActivation=(0,I.default)(e.dateActivation,"YYYY-MM-DD"),e.executionDate=(0,I.default)(e.executionDate,"YYYY-MM-DD"),n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t,a){var n=this.selItems,r=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode&&e.transCode===t.transCode});if(-1!==r)return void n.splice(r,1);n.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,h.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,c.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],r=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});r>=0&&(e.$refs.matter.delSelItem(n[r]),n.splice(r,1)),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=!0,t=!1,a=void 0;try{for(var n,r=(0,d.default)((0,s.default)(this.orderList));!(e=(n=r.next()).done);e=!0){var i=n.value,o=!0,l=!1,u=void 0;try{for(var c,f=(0,d.default)(i);!(o=(c=f.next()).done);o=!0){var h=c.value;this.numMap[h.transCode+"_"+h.inventoryCode]=(0,v.default)({},h)}}catch(e){l=!0,u=e}finally{try{!o&&f.return&&f.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw a}}this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerCode?(0,c.default)(this.orderList).length||(t="请选择"+this.orderListTitle+"信息"):t="请选择客户信息",!t){var n=!0,r=!1,o=void 0;try{for(var l,u=(0,d.default)((0,s.default)(this.orderList));!(n=(l=u.next()).done);n=!0){var f=l.value,m=!0,p=!1,C=void 0;try{for(var y,_=(0,d.default)(f);!(m=(y=_.next()).done);m=!0){var g=y.value;if(!g.tdQty){t="请填写数量";break}if(!g.price){t="请填写单价";break}var b=g.taxRate||this.taxRate,w=(0,W.toFixed)((0,G.accMul)(g.assistQty,b,g.noTaxPrice)),I={tdId:g.tdId||"",transMatchedCode:g.transCode,inventoryName_transObjCode:g.inventoryName,transObjCode:g.inventoryCode,measureUnit_transObjCode:g.measureUnit,tdProcessing:g.processing,assMeasureUnit:g.assMeasureUnit||null,assMeasureDescription:g.assMeasureDescription||null,assMeasureScale:g.assMeasureScale||null,thenQtyBal:g.qtyBal,tdQty:g.tdQty,assistQty:g.assistQty||0,price:g.price,tdAmount:g.tdAmount,taxRate:b,noTaxPrice:g.noTaxPrice,taxAmount:w,comment:g.comment||""};a.push(I)}}catch(e){p=!0,C=e}finally{try{!m&&_.return&&_.return()}finally{if(p)throw C}}}}catch(e){r=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw o}}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=N.saveAndStartWf,n=(0,i.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,h.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:"",formData:(0,h.default)((0,v.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.formData.handler,modifer:e.formData.handler,order:{crDealerLabel:"客户",dealerCodeCredit:e.dealerInfo.dealerCode,dataSet:a},dealerCreditContactPersonName:e.contactInfo.dealerName||null,dealerCreditContactInformation:e.contactInfo.dealerMobilePhone||""})),wfPara:(0,h.default)(n)};e.isResubmit&&(r.biReferenceId=e.biReferenceId,t=N.saveAndCommitTask),e.processCode.length||(t=N.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,M.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.attachment=t.attachment;var a={},n=t.formData,r=n.order,i=void 0===r?{}:r;i.dataSet.map(function(t){t=(0,v.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,clientInventoryName:t.dealerInventoryName,clientInventoryCode:t.dealerInventoryCode,qty:t.thenTotalQtyBal,stockQty:t.thenLockQty,qtyBal:t.thenQtyBal,transCode:t.transMatchedCode,invSubUnitMulti:t.assMeasureScale}),e.matterList.push(t),a[t.transCode]||(a[t.transCode]=[]),a[t.transCode].push(t)}),e.handlerDefault={handler:n.handler,handlerName:n.handlerName,handlerUnit:n.handlerUnit,handlerUnitName:n.handlerUnitName,handlerRole:n.handlerRole,handlerRoleName:n.handlerRoleName},e.orderList=a,e.formData=(0,v.default)({},e.formData,e.handlerDefault,{biComment:n.biComment,biId:n.biId,biProcessStatus:n.biProcessStatus,creator:n.creator,modifer:n.modifer}),e.dealerInfo={creatorName:n.dealerCreditContactPersonName,dealerName:i.dealerName_dealerCodeCredit,dealerMobilePhone:n.dealerCreditContactInformation,dealerContactPersonName:n.dealerCreditContactPersonName,dealerCode:i.dealerCodeCredit,dealerLabelName:i.crDealerLabel,province:i.province_dealerCodeCredit,city:i.city_dealerCodeCredit,county:i.county_dealerCodeCredit,address:i.address_dealerCodeCredit},e.contactInfo={dealerName:n.dealerCreditContactPersonName,dealerMobilePhone:n.dealerCreditContactInformation},e.matterParams.data.dealerCode=e.dealerInfo.dealerCode,e.$loading.hide()})},hasDraftData:function(){return!!(0,s.default)(this.dealerInfo).length&&(0,i.default)({},"KPSQ_DATA",{handlerDefault:this.handlerDefault,dealer:this.dealerInfo,list:this.orderList,contactInfo:this.contactInfo})}},created:function(){var e=sessionStorage.getItem("KPSQ_DATA");if(e){var t=JSON.parse(e);this.handlerDefault=t.handlerDefault,this.dealerInfo=t.dealer,this.orderList=t.list;var a=!0,n=!1,r=void 0;try{for(var i,o=(0,d.default)((0,s.default)(this.orderList));!(a=(i=o.next()).done);a=!0){var l=i.value,u=!0,c=!1,f=void 0;try{for(var h,m=(0,d.default)(l);!(u=(h=m.next()).done);u=!0){var v=h.value;this.matterList.push(v)}}catch(e){c=!0,f=e}finally{try{!u&&m.return&&m.return()}finally{if(c)throw f}}}}catch(e){n=!0,r=e}finally{try{!a&&o.return&&o.return()}finally{if(n)throw r}}this.contactInfo=t.contactInfo,this.matterParams.data.dealerCode=this.dealerInfo.dealerCode,sessionStorage.removeItem("KPSQ_DATA")}}}},MLSZ:function(e,t,a){"use strict";function n(e){a("9dkl")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("ML4I");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("oWIc"),s=a.n(o),l=a("BElR"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-40dbf9cf",null);t.default=c.exports},MOhR:function(e,t,a){"use strict";function n(e){a("Hm44")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("ZAJ7");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("v1zY"),s=a.n(o),l=a("HTM3"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-36527ce8",null);t.default=c.exports},MR6z:function(e,t){},MSgx:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages xsbj-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{"dealer-label-name":"客户,原厂供应商,经销供应商,设施供应商,投资者,银行,其他",dealerTitle:"往来",defaultValue:e.dealerInfo,defaultContact:e.contact},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),e._l(e.CostList,function(t,n){return a("div",{key:n,staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"资金账户"+(n+1)}},[a("cell",{attrs:{title:"资金账户名称","is-link":""},nativeOn:{click:function(a){e.getCost(n,t)}},model:{value:t.cashName,callback:function(a){e.$set(t,"cashName",a)},expression:"item.cashName"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("资金账户名称\n              ")])])],2),e._v(" "),a("cell",{attrs:{title:"资金账户大类",value:t.cashType_cashInCode}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("资金账户大类")])])],2),e._v(" "),a("x-input",{attrs:{title:"收款金额","text-align":"right",placeholder:"请填写",type:"number"},on:{"on-focus":function(t){e.getFocus(t)},"on-blur":function(a){e.checkAmt(t)}},model:{value:t.tdAmount,callback:function(a){e.$set(t,"tdAmount",e._n(a))},expression:"item.tdAmount"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("收款金额\n              ")])])],2)],1)],1)}),e._v(" "),a("div",{staticClass:"add_more"},[e._v("\n        您还需要添加新的报销?请点击\n        "),a("span",{staticClass:"add",on:{click:e.addCost}},[e._v("新增")]),e._v(" "),a("em",{directives:[{name:"show",rawName:"v-show",value:e.CostList.length>1,expression:"CostList.length>1"}]},[e._v("或")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.CostList.length>1,expression:"CostList.length>1"}],staticClass:"delete",on:{click:e.deleteCost}},[e._v("删除")])]),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"其他信息"}},[a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-fund-list",{ref:"matter",attrs:{show:e.showCostPop,defaultValue:e.selectedCost},on:{"sel-matter":e.selMatter},model:{value:e.showCostPop,callback:function(t){e.showCostPop=t},expression:"showCostPop"}})],2)]),e._v(" "),a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num"},[a("span",{staticStyle:{fontSize:".14rem"}},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.totalAmount,3))+"\n    ")]),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"count_btn stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},MVgC:function(e,t,a){"use strict";function n(e){a("1xht")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("eGZN");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("f4G+"),s=a.n(o),l=a("Y56q"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-3478e396",null);t.default=c.exports},MY62:function(e,t){},MeRG:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"childPage"},[a("r-scroll",{ref:"bScroll",staticClass:"detail_content"},[a("div",{staticClass:"dealer_baseinfo has_margin"},[a("div",{staticClass:"baseInfo_top"},[a("div",{staticClass:"baseinfo_part"},[a("img",{attrs:{src:e.MatPic},on:{error:e.getDefaultImg}}),e._v(" "),a("div",{staticClass:"dealer_name"},[a("p",{staticClass:"name"},[e._v(e._s(e.dealer.dealerName))]),e._v(" "),a("p",{staticClass:"code"},[e._v("往来编码："),a("span",{staticClass:"symbol"}),e._v(e._s(e.dealer.dealerCode))])])]),e._v(" "),a("span",{staticClass:"dealer_status vux-1px",class:{no_use:"使用中"!==e.dealer.dealerStatus}},[e._v(e._s(e.dealer.dealerStatus))])]),e._v(" "),a("div",{staticClass:"baseinfo_address"},[a("span",{staticClass:"icon-address"}),e._v(" "),e.dealer.province||e.dealer.city||e.dealer.county||e.dealer.address?a("span",{staticClass:"address"},[e._v("\n          "+e._s(e.dealer.province)+e._s(e.dealer.city)+e._s(e.dealer.county)+e._s(e.dealer.address)+"\n        ")]):a("span",{staticClass:"address"},[e._v("暂无地址")])])]),e._v(" "),a("div",{staticClass:"dealer_other"},e._l(e.dealerConfig,function(t,n){return a("div",{key:n,staticClass:"each_property",class:{"vux-1px-b":n<e.dealerConfig.length-1}},[a("label",[e._v(e._s(t.fieldLabel)+":")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.dealer[t.fieldCode]||"无"))])])}),0),e._v(" "),e._l(e.dealerDuplicateConfig,function(t,n){return a("div",{key:""+n+t.name},[t.show?a("div",{staticClass:"d_main common_style"},e._l(e.formData[t.name],function(n,r){return a("div",{key:r,staticClass:"content"},e._l(t.items,function(t,r){return a("div",{key:r},[t.hidden?e._e():a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v(e._s(t.text)+":")]),e._v(" "),"r2Datefield"===t.editorType?a("div",{staticClass:"property_val"},[e._v(e._s(e._f("changeDate")(n[t.fieldCode])))]):a("div",{staticClass:"property_val"},[e._v(e._s(n[t.fieldCode]||"无"))])])])}),0)}),0):e._e()])}),e._v(" "),a("div",{staticClass:"creator"},[a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("创建者:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.baseinfo.creatorName))])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("创建时间:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e._f("changeDate")(e.baseinfo.crtTime,!0)))])]),e._v(" "),e.baseinfo.modiferName?a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("修改者:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.baseinfo.modiferName))])]):e._e(),e._v(" "),e.baseinfo.modTime?a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("修改时间:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e._f("changeDate")(e.baseinfo.modTime,!0)))])]):e._e()])],2),e._v(" "),a("div",{staticClass:"modify_icon",on:{click:e.goEdit}},[a("span",{staticClass:"icon-edit"})])],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},"MgX+":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("KH7x"),i=n(r),o=a("IHPB"),s=n(o),l=a("Iu/6"),d=n(l),u=a("HyXB"),c=a("vvLd"),f=n(c);t.default={name:"UploadImage",props:{src:{type:String,default:""}},components:{Spinner:d.default},data:function(){return{imgSrc:"",imgFile:"",showLoading:!1}},watch:{src:{handler:function(e){this.imgSrc=e}}},methods:{dataURLtoFile:function(e,t){for(var a=e.split(","),n=window.atob(a[1]),r=n.length,i=new Uint8Array(r),o=a[0].match(/:(.*?);/)[1];r--;)i[r]=n.charCodeAt(r);return new File([i],t,{type:o})},uploadFile:function(e){var t=[].concat((0,s.default)(e.target.files));t.length&&(this.imgFile=t[0],e.target.value="",this.imgPreview())},imgPreview:function(){var e=this;this.showLoading=!0;var t=this.imgFile,a=void 0;if(f.default.getData(t,function(){a=f.default.getTag(t,"Orientation")}),t&&window.FileReader&&/^image/.test(t.type)){var n=new FileReader;n.readAsDataURL(t),n.onloadend=function(t){var n=t.target.result,r=new Image;r.src=n,n.length<=102400?e.postImg(n):r.onload=function(){e.postImg(e.compress(r,a))}}}},postImg:function(e){var t=this,a=this.dataURLtoFile(e,this.imgFile.name);(0,u.upload)({file:a}).then(function(e){var a=(e.success,e.message,e.data),n=(0,i.default)(a,1),r=n[0],o=void 0===r?{}:r;t.imgSrc="/H_roleplay-si/ds/download?url="+o.attacthment+"&width=400&height=400",t.$emit("on-upload",{src:o.attacthment})}).catch(function(e){t.$vux.alert.show({content:e.message})})},compress:function(e,t){var a=document.createElement("canvas"),n=a.getContext("2d"),r=document.createElement("canvas"),i=r.getContext("2d"),o=e.src.length,s=e.width,l=e.height,d=void 0;(d=s*l/4e6)>1?(console.log("大于400万像素"),d=Math.sqrt(d),s/=d,l/=d):d=1,a.width=s,a.height=l,n.fillStyle="#fff",n.fillRect(0,0,a.width,a.height);var u=void 0;if((u=s*l/1e6)>1){console.log("超过100W像素"),u=~~(Math.sqrt(u)+1);var c=~~(s/u),f=~~(l/u);r.width=c,r.height=f;for(var h=0;h<u;h++)for(var m=0;m<u;m++)i.drawImage(e,h*c*d,m*f*d,c*d,f*d,0,0,c,f),n.drawImage(r,h*c,m*f,c,f)}else n.drawImage(e,0,0,s,l);if(""!==t&&1!==t)switch(t){case 6:this.rotateImg(e,"left",a);break;case 8:this.rotateImg(e,"right",a);break;case 3:this.rotateImg(e,"right",a),this.rotateImg(e,"right",a)}var v=a.toDataURL("image/jpeg/gif",.5);return console.log("压缩前: "+o),console.log("压缩后: "+v.length),console.log("压缩率: "+~~(100*(o-v.length)/o)+"%"),r.width=r.height=a.width=a.height=0,v},rotateImg:function(e,t,a){if(null!=e){var n=e.height,r=e.width,i=2;null==i&&(i=0),"right"===t?++i>3&&(i=0):--i<0&&(i=3);var o=90*i*Math.PI/180,s=a.getContext("2d");switch(i){case 0:a.width=r,a.height=n,s.drawImage(e,0,0);break;case 1:a.width=n,a.height=r,s.rotate(o),s.drawImage(e,0,-n);break;case 2:a.width=r,a.height=n,s.rotate(o),s.drawImage(e,-r,-n);break;case 3:a.width=n,a.height=r,s.rotate(o),s.drawImage(e,-r,0)}}},getDefaultImg:function(e){this.showLoading=!1,this.$emit("on-error",e)},imgLoad:function(){this.showLoading=!1}},created:function(){this.imgSrc=this.src}}},MgnL:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("4YfN"),s=n(o),l=a("KH7x"),d=n(l),u=a("kNGm"),c=(n(u),a("SAzG")),f=n(c),h=a("0AQX"),m=a("+VRO"),v=n(m),p=a("BUFe"),C=n(p),y=a("AupE"),_=n(y),g=a("kKsb"),b=n(g),w=a("CKaN"),I=n(w),D=a("zWMP"),x=a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",dealerInfo:{},listData:[],cashInfo:{}}},computed:{isApproval:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"71c8f876-0617-4ff9-8a39-f9f99b14125d"===t},isCashier:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"00690810-7eaf-4bef-931b-a72eb5093f88"===t},isAccount:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"b00796ff-5986-4cdd-8ae4-fb202ff79af1"===t},cashParams:function(){return{transCode:this.transCode}}},mixins:[v.default],components:{workFlow:_.default,RAction:C.default,ProjectPart:b.default,PopCashList:I.default,XInput:f.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,h.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=t.formData,r=n.inPut,o=void 0===r?{}:r,l=(0,d.default)(o.dataSet,1),u=l[0],c=void 0===u?{}:u;e.attachment=a,e.dealerInfo=(0,s.default)({},c,o);var f=n.order.dataSet,h=!0,m=!1,v=void 0;try{for(var p,C=(0,i.default)(f);!(h=(p=C.next()).done);h=!0){var y=p.value;y.tdAmount&&(e.count=(0,D.accAdd)(e.count,y.tdAmount))}}catch(e){m=!0,v=e}finally{try{!h&&C.return&&C.return()}finally{if(m)throw v}}e.listData=f,e.orderInfo=n,e.cashInfo=t.formData.outPut.dataSet[0],e.workFlowInfoHandler()})},agreeHandler:function(){if(this.isApproval||this.isCashier||this.isAccount){if(this.isCashier&&!this.cashInfo.fundCode)return this.$vux.alert.show({content:"请选择资金账户"}),!0;var e=this.orderInfo,t=this.dealerInfo,a=this.cashInfo,n=this.listData.map(function(e){return{tdIdCopy1:e.tdIdCopy1,transMatchedCode:e.transMatchedCode,thenTotalAmntBal:e.thenTotalAmntBal,differenceAmountCopy1:e.differenceAmountCopy1,thenAlreadyAmnt:e.thenAlreadyAmnt,thenAmntBalCopy2:e.thenAmntBalCopy2,applicationAmount:e.applicationAmount,tdAmountCopy1:e.tdAmountCopy1,dealerDebit:e.dealerDebit}}),r=(0,s.default)({},e,{order:{dataSet:n},outPut:{dataSet:[{fundName_cashOutCode:a.fundName||a.fundName_cashOutCode,cashOutCode:a.fundCode||a.cashOutCode,cashType_cashOutCode:a.fundType||a.cashType_cashOutCode,thenAmntBal:a.thenAmntBal,tdAmount:a.tdAmount,tdId:a.tdId}]}}),i={"本次支付":t.tdAmountCopy1};this.saveData(r,i)}return!0},selCash:function(e){this.cashInfo=(0,s.default)({},this.cashInfo,e)},calcPayment:function(e){var t=(e.thenAmntBalCopy1,e.tdAmountCopy1),a=void 0===t?0:t;a||(a=0),a=(0,x.toFixed)(a),e.tdAmountCopy1=a}}}},MjAd:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("lC5x"),i=n(r),o=a("J0Oq"),s=n(o),l=a("KH7x"),d=n(l),u=a("3cXf"),c=n(u),f=a("ZLEe"),h=n(f),m=a("IHPB"),v=n(m),p=a("rVsN"),C=n(p),y=a("4YfN"),_=n(y),g=a("8VZL"),b=n(g),w=a("HXPS"),I=n(w),D=a("fQz5"),x=n(D),P=a("iR2W"),S=n(P),k=a("kNGm"),L=n(k),N=a("0AQX"),M=a("I8ug"),T=a("vS5q"),A=a("1KNX"),O=n(A),R=a("7biW"),j=n(R),B=a("PDsi"),E=n(B),F=a("6aPk"),U=n(F),$=a("Ab2S"),H=n($),V=a("IT5e"),q=n(V),Q=a("sWGj"),Y=n(Q),X=a("Qg39"),G=a("zWMP"),W=a("FvvE"),z=(n(W),a("ZTs6")),K=(n(z),a("Z5v5")),J=a("0o6b");t.default={props:{refreshRequest:{type:Boolean,default:!1}},data:function(){return{page:1,limit:20,hasNext:!0,scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0},listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],activeIndex:0,serachVal:"",listData:[],activeTab:"",count:0,total:null,applyCode:"",clickVisited:!1,filterProperty:"",filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"},{name:"往来名称",value:"dealerName_dealerDebit"}],sort:[],timeFilter:{startDate:"",endDate:""},otherFilter:{},action:{}}},components:{Tab:b.default,Icon:I.default,TabItem:x.default,RSort:E.default,RTab:U.default,RScroll:O.default,searchIcon:j.default,addBtn:H.default,justWordItem:q.default,materListItem:Y.default},methods:{goDetail:function(e,t){var a=this;if(!this.clickVisited){var n=e.transCode,r=this.$route.query,i=r.name,o=r.listId,s=this.$route.params,l=s.folder,d=s.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,_.default)({},e));var u=Date.now();(0,N.isMyflow)({transCode:n}).then(function(e){var t=e.tableContent,r=function(){var e="";if(a.clickVisited=!1,t.length>0){var r=t[0],s=r.isMyTask,u=r.nodeName;e=1===s&&"重新提交"===u?"/fillform/"+l+"/"+d:"/detail/"+l+"/"+d}else e="/detail/"+l+"/"+d;a.$router.push({path:e,query:{name:i,listId:o,transCode:n}})},s=Date.now()-u;s>200?r():setTimeout(function(){r()},200-s)}).catch(function(n){a.clickVisited=!1,e.visited=!1,a.$set(a.listData,t,(0,_.default)({},e))})}},goEdit:function(){var e=this.$route.query,t=e.name,a=e.listId,n=this.$route.params,r=n.folder,i=n.fileName;this.$router.push({path:"/fillform/"+r+"/"+i,query:{name:t,listId:a}})},resetCondition:function(){var e=this;this.listData=[],this.page=1,this.hasNext=!0,this.$nextTick(function(){e.$refs.bScroll.scrollTo(0,0),e.$refs.bScroll.resetPullDown()})},tabClick:function(e,t){this.activeIndex=t,this.activeTab=e.status,this.resetCondition(),this.getList()},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,r=void 0===n?"":n;this.serachVal=a,this.filterProperty=r,this.otherFilter={},this.timeFilter={},this.$refs.sort&&this.$refs.sort.filterReset(),this.resetCondition(),this.getList()},setStatus:function(e){switch(e.biStatus){case"已生效":e.whichIcon="icon-yishengxiao",e.statusClass="duty_done_c",e.statusName="";break;case"进行中":e.statusClass="duty_doing_c",e.statusName="进行中";break;case"草稿":e.statusClass="duty_fall_c",e.statusName="草稿";break;case"已失效":e.statusClass="duty_fall_c",e.statusName="已失效"}},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},resetScroll:function(){this.$refs.bScroll.finishPullDown(),this.$refs.bScroll.finishPullUp()},onPullingUp:function(){this.page++,this.getList()},onPullingDown:function(){this.page=1,this.getData(!0)},reloadData:function(){this.serachVal="",this.activeTab="",this.activeIndex=0,this.resetCondition(),this.onPullingDown();var e=this.$route.query.name;"工单任务派工"!==e&&"工单任务启动"!==e&&"工单任务验收"!==e||this.$refs.taskWork.getWorkOrderTask()},getSession:function(){var e=this;return new C.default(function(t){e.total=sessionStorage.getItem(e.applyCode),t()})},getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=[];if(this.activeTab&&(a=[{operator:"like",property:"biStatus",value:this.activeTab}]),this.serachVal){var n={operator:"like",property:this.filterProperty,value:this.serachVal};this.activeTab&&(n.attendedOperation="and"),a=[].concat((0,v.default)(a),[n])}if((0,h.default)(this.otherFilter).length){(0,h.default)(this.otherFilter);for(var r in this.otherFilter)!function(t){var n={property:t,operator:"in"};e.otherFilter[t].value.forEach(function(e,t){n["value"+(t+1)]=e}),a.push(n)}(r)}if(this.timeFilter.startDate||this.timeFilter.endDate){var i={property:"modTime",operator:"date",startDate:this.timeFilter.startDate,endDate:this.timeFilter.endDate};a.push(i)}return(0,T.getSellOrderList)(this.listId,{limit:this.limit,page:this.page,filter:(0,c.default)(a),sort:(0,c.default)(this.sort)}).then(function(a){var n=a.total,r=void 0===n?0:n,i=a.instanceList,o=void 0===i?[]:i,s=(0,d.default)(o,1),l=s[0],u=void 0===l?{}:l,c=u.detailItem||[],f=(0,d.default)(c,1),m=f[0],p=void 0===m?{}:m,C=["inventoryPic","inventoryPic_transObjCode","inventoryPic_outPutMatCode","facilityPic_facilityObjCode"],y=(0,h.default)(p).find(function(e){return C.includes(e)});e.hasNext=r>(e.page-1)*e.limit+o.length,o.forEach(function(t){e.setStatus(t),t.count=0,t.totalQty=0,t.dealerName=t.dealerName_dealerDebit||t.dealerName_dealerCodeCredit,t.crtTime=(0,L.default)(t.crtTime,"YYYY-MM-DD HH:mm:ss"),t.modTime=(0,L.default)(t.modTime,"YYYY-MM-DD HH:mm:ss"),t.itemCount=t.detailItem.length,t.detailItem=t.detailItem.slice(0,3),t.detailItem.forEach(function(a){null!=a.assistQty?t.totalQty=(0,X.toFixed)((0,G.accAdd)(t.totalQty,a.assistQty)):null==a.assistQty&&null!=a.tdQty&&(t.totalQty=(0,X.toFixed)((0,G.accAdd)(t.totalQty,a.tdQty))),a.tdAmount&&(t.count=(0,X.toFixed)((0,G.accAdd)(t.count,a.tdAmount))),(a.inventoryName_transObjCode||a.inventoryName_outPutMatCode)&&(a.inventoryName=a.inventoryName_transObjCode||a.inventoryName_outPutMatCode,a.inventoryCode=a.inventoryCode_transObjCode||a.inventoryCode_outPutMatCode,a.specification=a.specification_transObjCode||a.specification_outPutMatCod,a.measureUnit=a.measureUnit_transObjCode||a.measureUnit_outPutMatCode,a.inventoryPic=a[y]?"/H_roleplay-si/ds/download?url="+a[y]+"&width=400&height=400":e.getDefaultImg()),a.facilityCode_facilityObjCode&&(a.inventoryName=a.facilityName_facilityObjCode,a.inventoryCode=a.facilityCode_facilityObjCode,a.specification=a.facilitySpecification_facilityObjCode,a.measureUnit=a.facilityUnit_facilityObjCode,a.inventoryPic=a[y]?"/H_roleplay-si/ds/download?url="+a[y]+"&width=400&height=400":e.getDefaultImg())})}),e.listData=1===e.page?o:[].concat((0,v.default)(e.listData),(0,v.default)(o)),t||e.$nextTick(function(){e.resetScroll()});var _="";t&&0===e.activeIndex&&e.total&&(_=r-e.total==0?"暂无新数据":_="新增"+(r-e.total)+"条数据",e.$vux.toast.show({text:_,position:"top",width:"50%",type:"text",time:700})),0==e.activeIndex&&1===e.page&&sessionStorage.setItem(e.applyCode,r)}).catch(function(t){e.resetScroll()})},getData:function(e){var t=this;return(0,s.default)(i.default.mark(function a(){return i.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getSession();case 2:if(!e){a.next=6;break}return a.next=5,t.getList(!0).then(function(){t.$nextTick(function(){t.$refs.bScroll.finishPullDown().then(function(){t.$refs.bScroll.finishPullUp()})}),t.$loading.hide()});case 5:return a.abrupt("return");case 6:return a.next=8,t.getList();case 8:case"end":return a.stop()}},a,t)}))()},changeVisitedStatus:function(){var e=[].concat((0,v.default)(this.listData));setTimeout(function(){e.forEach(function(e){e.visited=!1})},200),this.listData=e},onSortList:function(e){this.sort=e.property?[e]:[],this.resetCondition(),this.getList()},onTabClick:function(e){var t=e.status,a=void 0===t?"":t,n=e.index,r=void 0===n?0:n;this.activeIndex=r,this.activeTab=a,this.resetCondition(),this.getList()},onFilter:function(e){this.serachVal="",this.$refs.search.clearVal(),this.sort.length||(this.sort=[{property:"modTime",direction:"DESC"}]),this.timeFilter=e.timeFilter,this.otherFilter=e.otherFilter,this.resetCondition(),this.getList()},getAppDetail:function(){var e=this;return(0,M.getAppDetail)(this.listId).then(function(t){var a=(0,d.default)(t,1),n=a[0],r=void 0===n?{}:n,i=r.action;e.action=i})}},filters:{filterTime:function(e){if(e){e=(0,L.default)(e);return e.split(" ")[0]}},numberComma:S.default,dateFormat:L.default,toFixed:X.toFixed},beforeCreate:function(){var e=this;this.$loading.show();var t=this.$route.params,a=t.folder,n=t.fileName,r=this.$route.query,i=r.name,o=r.listId,s=r.transCode;s&&(0,N.isMyflow)({transCode:s}).then(function(t){var r=t.tableContent,l="";if(r.length>0){var d=r[0],u=d.isMyTask,c=d.nodeName;l=1===u&&"重新提交"===c?"/fillform/"+a+"/"+n:"/detail/"+a+"/"+n}else l="/detail/"+a+"/"+n;e.$router.replace({path:l,query:{name:i,listId:o,transCode:s}})})},created:function(){var e=this;(0,K.register)(),this.applyCode=this.$route.query.listId;var t=this.$route.query,a=t.name,n=t.listId,r=t.transCode;this.listId=n,this.getAppDetail(),this.getData(!1).then(function(){r||e.$loading.hide(),wx.ready(function(){var e={title:"点击查看"+a+"列表",desc:"点击查看"+a+"列表，可创建新的订单",imgUrl:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1542276320183&di=ef11baa4ce65f2ba1aed2b214cf4dacd&imgtype=0&src=http://www.qqzhi.com/uploadpic/2014-09-26/101958658.jpg"};(0,J.shareContent)(e)})})}}},MjOu:function(e,t){},MjpR:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("hRKE"),i=n(r),o=a("4YfN"),s=n(o),l=a("BGNQ"),d=n(l),u=a("7g+Q"),c=n(u),f=a("rDF8"),h=n(f),m=a("GM4P"),v=n(m),p=a("803w"),C=n(p),y=a("+62G"),_=n(y),g=a("qZvt"),b=n(g),w=(0,C.default)();delete w.value,t.default={name:"popup-radio",components:{Popup:c.default,Radio:h.default,Cell:d.default},directives:{TransferDom:_.default},props:(0,s.default)({placeholder:String,readonly:Boolean},w,(0,v.default)()),computed:{displayValue:function(){var e=this;if(!this.options.length)return"";if("object"===(0,i.default)(this.options[0])){var t=(0,b.default)(this.options,function(t){return t.key===e.currentValue});if(t)return t.value}return this.currentValue}},methods:{onValueChange:function(e){this.hide()},show:function(){this.readonly||(this.showPopup=!0)},hide:function(){this.showPopup=!1}},watch:{value:function(e){this.currentValue=e},currentValue:function(e){this.$emit("input",e),this.$emit("on-change",e)}},data:function(){return{showPopup:!1,currentValue:this.value}}}},MmnS:function(e,t,a){"use strict";function n(e){a("nL98")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("fSHU");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("ZtPB"),s=a.n(o),l=a("Ixza"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-ed06ac66",null);t.default=c.exports},Mnwv:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("ZLEe"),i=n(r),o=a("HXPS"),s=n(o),l=a("Lmo3"),d=n(l),u=a("z5TY"),c=n(u),f=a("xZPP"),h=n(f),m=a("j51P"),v=n(m),p=a("kNGm"),C=n(p);t.default={name:"datetime",mixins:[v.default],components:{Group:c.default,InlineDesc:h.default,Icon:s.default},props:{format:{type:String,default:"YYYY-MM-DD",validator:function(e){return!0}},title:String,value:{type:String,default:""},inlineDesc:String,placeholder:String,minYear:Number,maxYear:Number,confirmText:String,cancelText:String,clearText:String,yearRow:{type:String,default:"{value}"},monthRow:{type:String,default:"{value}"},dayRow:{type:String,default:"{value}"},hourRow:{type:String,default:"{value}"},minuteRow:{type:String,default:"{value}"},required:{type:Boolean,default:!1},minHour:{type:Number,default:0},maxHour:{type:Number,default:23},startDate:{type:String,validator:function(e){return!e||10===e.length}},endDate:{type:String,validator:function(e){return!e||10===e.length}},valueTextAlign:String,displayFormat:Function,readonly:Boolean,hourList:Array,minuteList:Array,show:Boolean,defaultSelectedValue:String,computeHoursFunction:Function,computeDaysFunction:Function,orderMap:Object},created:function(){this.isFirstSetValue=!1,this.currentValue=this.value},data:function(){return{currentShow:!1,currentValue:null,valid:!0,errors:{}}},mounted:function(){var e=this,t=this.uuid;this.$el.setAttribute("id","vux-datetime-"+t),this.readonly||this.$nextTick(function(){e.render(),e.show&&e.$nextTick(function(){e.picker&&e.picker.show(e.currentValue)})})},computed:{styles:function(){return this.$parent?{width:this.$parent.labelWidth,textAlign:this.$parent.labelAlign,marginRight:this.$parent.labelMarginRight}:{}},pickerOptions:function(){var e=this,t={trigger:"#vux-datetime-"+this.uuid,format:this.format,value:this.currentValue,output:".vux-datetime-value",confirmText:e.getButtonText("confirm"),cancelText:e.getButtonText("cancel"),clearText:e.clearText,yearRow:this.yearRow,monthRow:this.monthRow,dayRow:this.dayRow,hourRow:this.hourRow,minuteRow:this.minuteRow,minHour:this.minHour,maxHour:this.maxHour,startDate:this.startDate,endDate:this.endDate,hourList:this.hourList,minuteList:this.minuteList,defaultSelectedValue:this.defaultSelectedValue,computeHoursFunction:this.computeHoursFunction,computeDaysFunction:this.computeDaysFunction,orderMap:this.orderMap||{},onSelect:function(t,a,n){e.picker&&e.picker.config.renderInline&&(e.$emit("input",n),e.$emit("on-change",n))},onConfirm:function(t){e.currentValue=t},onClear:function(t){e.$emit("on-clear",t)},onHide:function(t){e.currentShow=!1,e.$emit("update:show",!1),e.validate(),e.$emit("on-hide",t),"cancel"===t&&e.$emit("on-cancel"),"confirm"===t&&setTimeout(function(){e.$nextTick(function(){e.$emit("on-confirm",e.value)})})},onShow:function(){e.currentShow=!0,e.$emit("update:show",!0),e.$emit("on-show")}};return this.minYear&&(t.minYear=this.minYear),this.maxYear&&(t.maxYear=this.maxYear),t},firstError:function(){var e=(0,i.default)(this.errors)[0];return this.errors[e]},labelClass:function(){return this.$parent?{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}:{}}},methods:{getButtonText:function(e){return"cancel"===e&&this.cancelText?this.cancelText:"confirm"===e&&this.confirmText?this.confirmText:this.$el.getAttribute("data-"+e+"-text")},render:function(){var e=this;this.$nextTick(function(){e.picker&&e.picker.destroy(),e.picker=new d.default(e.pickerOptions)})},validate:function(){if(!this.currentValue&&this.required)return this.valid=!1,void(this.errors.required="必填");this.valid=!0,this.errors={}}},watch:{readonly:function(e){e?this.picker&&this.picker.destroy():this.render()},show:function(e){e!==this.currentShow&&(e?this.picker&&this.picker.show(this.currentValue):this.picker&&this.picker.hide(this.currentValue))},currentValue:function(e,t){this.$emit("input",e),this.isFirstSetValue?this.$emit("on-change",e):(this.isFirstSetValue=!0,t&&this.$emit("on-change",e)),this.validate()},startDate:function(){this.render()},endDate:function(){this.render()},format:function(e){this.currentValue&&(this.currentValue=(0,C.default)(this.currentValue,e)),this.render()},value:function(e){if(this.readonly||this.picker&&this.picker.config.renderInline)return void(this.currentValue=e);this.currentValue!==e&&(this.currentValue=e,this.render())}},beforeDestroy:function(){this.picker&&this.picker.destroy()}}},MoqR:function(e,t){},MtqW:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2443,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[r.default],methods:{},created:function(){}}},MyFj:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages xmjh-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,"default-contact":e.contactInfo,dealerTitle:"供应商","dealer-params":e.dealerParams},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("dealer-other-part",{attrs:{"dealer-config":e.dealerConfig,"dealer-info":e.dealerInfo},model:{value:e.dealerInfo,callback:function(t){e.dealerInfo=t},expression:"dealerInfo"}}),e._v(" "),a("other-config-part",{attrs:{"other-config":e.otherConfig,"other-info":e.otherInfo},model:{value:e.otherInfo,callback:function(t){e.otherInfo=t},expression:"otherInfo"}}),e._v(" "),a("apply-matter-part",{attrs:{"show-materiel-pop":e.showMaterielPop,"show-matter-pop":e.showMatterPop,"filter-list":e.filterList,actions:e.actions,btnInfo:e.btnInfo,"matter-list":e.orderList,"default-value":[],"matter-pop-config":e.matterPopConfig,"matter-edit-config":e.matterEditConfig,"order-list-title":e.orderListTitle,"matter-params":e.matterParams,"add-matter-fn":e.addMatter,"sel-matter-fn":e.selMatter,"sel-items":e.selItems,"matter-modify-class":e.matterModifyClass,"stop-order-fn":e.stopOrder,"get-matter-modify-fn":e.getMatterModify,"show-delete-fn":e.showDelete,"show-sel-icon-fn":e.showSelIcon,"del-click-fn":e.delClick,"chosen-matter":e.matter,"check-amt-fn":e.checkAmt,"sel-confirm-fn":e.selConfirm,"btn-is-hide":e.btnIsHide},on:{"show-down-modify-pop":e.shutDownModify},model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("op-button",{attrs:{"is-modify":e.matterModifyClass,hide:e.btnIsHide,"td-amount":e.tdAmount,"tax-amount":e.taxAmount,"all-check":e.selItems.length===e.matterList.length},on:{"on-submit":e.submitOrder,"on-check-all":e.checkAll,"on-delete":e.deleteCheckd}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},"N+cx":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2554,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_outPutMatCode"},{name:"往来名称",value:"dealerName_dealerDebit"}]}},mixins:[r.default],methods:{},created:function(){}}},N0wR:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("HyXB"),a("MjAd")),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2243,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}]}},mixins:[r.default],methods:{},created:function(){}}},N2Y8:function(e,t){},N2r1:function(e,t,a){"use strict";function n(e){a("h2JN")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("r2DS");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("Ul2w"),s=a.n(o),l=a("b8Y2"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-14593f3c",null);t.default=c.exports},N3Ds:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("MjAd"),i=n(r),o=a("4bt0"),s=n(o);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2596,chartShow:!1,hasNext:!0,scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0},sortList:[{name:"交易号",key:"transCode"},{name:"修改时间",key:"modTime"},{name:"客户名称",key:"dealerName"}]}},components:{ApplyChart:s.default},mixins:[i.default]}},N8ly:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("ZLEe"),i=n(r),o=a("3cXf"),s=n(o),l=a("IHPB"),d=n(l),u=a("4YfN"),c=n(u),f=a("HXPS"),h=n(f),m=a("7g+Q"),v=n(m),p=a("HyXB"),C=a("1KNX"),y=n(C),_=a("7biW"),g=n(_);t.default={name:"PopEntityList",props:{value:{type:Object,default:function(){return{}}}},components:{Icon:h.default,Popup:v.default,RScroll:y.default,MSearch:g.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},tmpItems:[],listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},watch:{value:{handler:function(e){this.selItems=(0,c.default)({},e)}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},showSelIcon:function(e){return this.selItems.dealerName===e.dealerName},selThis:function(e,t){this.showPop=!1,this.selItems=(0,c.default)({},e),this.$emit("input",this.selItems)},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"dealerName"}])),(0,p.getObjDealerByLabelName)({dealerLabelName:"内部公司",limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,o=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+o.length,e.listData=1===e.page?o:[].concat((0,d.default)(e.listData),(0,d.default)(o)),(0,i.default)(e.selItems).length||(e.selItems=e.listData[0]),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getList()},onPullingUp:function(){this.page++,this.getList()},itemClick:function(){this.showPop=!0}},created:function(){this.getList()}}},N9Kf:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("ZLEe"),i=n(r),o=a("3cXf"),s=n(o),l=a("IHPB"),d=n(l),u=a("4YfN"),c=n(u),f=a("HXPS"),h=n(f),m=a("7g+Q"),v=n(m),p=a("HyXB"),C=a("1KNX"),y=n(C),_=a("7biW"),g=n(_);t.default={name:"PopEntityList",props:{value:{type:Object,default:function(){return{}}}},components:{Icon:h.default,Popup:v.default,RScroll:y.default,MSearch:g.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},tmpItems:[],listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},watch:{value:{handler:function(e){this.selItems=(0,c.default)({},e)}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},showSelIcon:function(e){return this.selItems.dealerName===e.dealerName},selThis:function(e,t){this.showPop=!1,this.selItems=(0,c.default)({},e),this.$emit("input",this.selItems)},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"dealerName"}])),(0,p.getObjDealerByLabelName)({dealerLabelName:"内部公司",limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,o=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+o.length,e.listData=1===e.page?o:[].concat((0,d.default)(e.listData),(0,d.default)(o)),(0,i.default)(e.selItems).length||(e.selItems=e.listData[0]),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getList()},onPullingUp:function(){this.page++,this.getList()},itemClick:function(){this.showPop=!0}},created:function(){this.getList()}}},N9Ou:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("3cXf"),s=n(o),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),h=n(f),m=a("SAzG"),v=n(m),p=a("u28h"),C=n(p),y=a("PzEQ"),_=n(y),g=a("kNGm"),b=(n(g),a("jnZd")),w=n(b),I=(a("0AQX"),a("Z6x5")),D=a("HyXB"),x=a("bKg5"),P=n(x),S=a("vl8n"),k=n(S),L=a("+WR7"),N=n(L),M=a("iikc"),T=n(M);t.default={data:function(){return{listId:"da7f15cc-d2d7-11e8-b8ca-0279b2c6a380",formData:{biId:"",biComment:"",biProcessStatus:""},biReferenceId:"",MobileWarn:!1,idCardWarn:!1,groupList:[],roleList:[]}},components:{Cell:c.default,Group:h.default,XInput:v.default,Datetime:C.default,XTextarea:_.default,PopupPicker:w.default,RPicker:k.default,PopBaseinfo:N.default,PopSalesmanList:T.default},mixins:[P.default],methods:{getAllGroup:function(){var e=this;(0,I.getAllGroup)().then(function(t){var a=[];t.tableContent.forEach(function(e){a.push(e.groupName)}),e.groupList.push(a)})},getAllRoleInfo:function(){var e=this;(0,I.getAllRoleInfo)().then(function(t){var a=[];t.tableContent.forEach(function(e){a.push(e.roleName)}),e.roleList.push(a)})},submitOrder:function(){var e=this,t="",a=[{key:"turnoverName",message:"员工"}];if(t||a.every(function(a){return!!e.formData[a.key]||(t="请选择"+a.message,!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=D.saveAndStartWf,a=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,turnoverDepartMent:e.formData.turnoverDepartMent&&e.formData.turnoverDepartMent[0],turnoverPost:e.formData.turnoverPost&&e.formData.turnoverPost[0]}),n={listId:e.listId,biComment:"",formData:(0,s.default)(a)};e.isResubmit&&(t=D.saveAndCommitTask,n.biReferenceId=e.biReferenceId,n.wfPara=(0,s.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=D.submitAndCalc,delete n.wfPara,delete n.biReferenceId),e.biReferenceId&&(n.biReferenceId=e.biReferenceId),e.saveData(t,n)}})},hasDraftData:function(){var e=this.formData;if(e.profileName||e.idCard)return(0,i.default)({},"YGLZ_DATA",{formData:e})}},created:function(){this.getAllGroup(),this.getAllRoleInfo();var e=sessionStorage.getItem("YGLZ_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,sessionStorage.removeItem("YGLZ_DATA")}}}},NAfT:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("lC5x"),i=n(r),o=a("3cXf"),s=n(o),l=a("HzJ8"),d=n(l),u=a("J0Oq"),c=n(u),f=a("KH7x"),h=n(f),m=a("4YfN"),v=n(m),p=a("kNGm"),C=n(p),y=a("hFVz"),_=n(y),g=a("HyXB"),b=a("1KNX"),w=n(b),I=a("d7ck"),D=n(I);t.default={filters:{dateFormat:C.default,changeDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return"";"string"==typeof e&&(e=e.replace(/-/g,"/").replace(/\..*/g,""));var a="YYYY-MM-DD";return t&&(a="YYYY-MM-DD HH:mm:ss"),(0,C.default)(e,a)}},data:function(){return{listId:"c0375170-d537-4f23-8ed0-a79cf75f5b04",MatPic:"",uniqueId:"",transCode:"",dealer:{},baseinfo:{},formData:{},imgFileObj:{},dealerConfig:[],dealerDuplicateConfig:[]}},components:{RScroll:w.default,FormCell:D.default},methods:{findData:function(){var e=this;return _.default.getDealerInfo(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a,r=t.attachment,i=void 0===r?[]:r;e.formData=n,e.dealerDuplicateConfig.forEach(function(t){if(e.formData[t.name]&&!e.formData[t.name].length)return void(t.show=!1);t.show=!0});var o=n.baseinfo,s=void 0===o?{}:o,l=n.dealer,d=void 0===l?{}:l;switch(d.dealerStatus){case"1":d.dealerStatus="使用中";break;case"2":d.dealerStatus="未使用";break;case"0":d.dealerStatus="草稿";break;case"-1":d.dealerStatus="停用"}e.hasDefault=!0,e.baseinfo=(0,v.default)({},e.baseinfo,s),e.dealer=(0,v.default)({},e.dealer,d),e.biReferenceId=e.dealer.referenceId,e.dealer.dealerPic?e.MatPic="/H_roleplay-si/ds/download?url="+e.dealer.dealerPic+"&width=400&height=400":e.getDefaultImg();var u=i.filter(function(t){return t.attacthment===e.dealer.dealerPic}),c=(0,h.default)(u,1),f=c[0],m=void 0===f?{}:f;e.imgFileObj=m}).catch(function(t){e.$loading.hide(),e.$vux.alert.show({content:t.message})})},getDefaultImg:function(){this.MatPic=a("sUQx")},goEdit:function(){this.$router.push({path:"/adress/edit_ads",query:{transCode:this.transCode}})},getFormViewInfo:function(){var e=this;return(0,c.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,g.getFormViews)(e.listId).then(function(t){var a=!0,n=!1,r=void 0;try{for(var i,o=(0,d.default)(t);!(a=(i=o.next()).done);a=!0){var s=i.value;if("view"===s.viewType){e.uniqueId=s.uniqueId;break}}}catch(e){n=!0,r=e}finally{try{!a&&o.return&&o.return()}finally{if(n)throw r}}});case 2:return t.next=4,(0,g.getFormConfig)(e.uniqueId).then(function(t){var a=t.config,n=void 0===a?[]:a,r=[],i=[];n.forEach(function(e){e.isMultiple?i.push(JSON.parse((0,s.default)(e))):r=JSON.parse((0,s.default)(e.items))}),r.forEach(function(t){t.hiddenInRun||"dealerCode"!==t.fieldCode&&"dealerName"!==t.fieldCode&&"dealerPic"!==t.fieldCode&&"province"!==t.fieldCode&&"city"!==t.fieldCode&&"county"!==t.fieldCode&&"address"!==t.fieldCode&&"dealerStatus"!==t.fieldCode&&e.dealerConfig.push(t)}),e.dealerDuplicateConfig=i});case 4:case"end":return t.stop()}},t,e)}))()}},created:function(){var e=this;this.$loading.show();var t=this.$route.query;t.transCode&&(this.transCode=t.transCode,(0,c.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getFormViewInfo();case 2:return t.next=4,e.findData();case 4:e.$loading.hide();case 5:case"end":return t.stop()}},t,e)}))())}}},NDsO:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("4YfN"),s=n(o),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),h=n(f),m=a("6q39"),v=n(m),p=a("fEP3"),C=a("1KNX"),y=n(C),_=a("7biW"),g=n(_);a("zWMP");t.default={name:"work-list-pop",props:{show:{type:Boolean,default:!1},params:{type:Object,default:function(){return{calc_rel_code:7051,view_id:"view_94"}}},workType:{type:String,default:"派工"}},components:{Icon:c.default,Popup:h.default,LoadMore:v.default,RScroll:y.default,MSearch:g.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],scrollOptions:{click:!0},btnText:"关闭",filterList:[{name:"物料名称",value:"inventoryName"},{name:"工序名称",value:"procedureName"},{name:"派工单号",value:"transCode"}],filterProperty:"",taskWorkList:{}}},watch:{show:{handler:function(e){this.showPop=e}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){var t=!1;return this.selItems&&this.selItems.every(function(a){return a.orderCode&&e.matCode===a.matCode&&e.transCode===a.transCode&&e.orderCode===a.orderCode?(t=!0,!1):!(!a.orderCode&&e.matCode===a.matCode&&e.transCode===a.transCode)||(t=!0,!1)}),t&&(this.btnText="发起工单"+this.workType),t},selThis:function(e,t){var a=this.selItems,n=a.findIndex(function(t){return t.transCode===e.transCode&&t.matCode===e.matCode});if(e.orderCode&&(n=a.findIndex(function(t){return t.transCode===e.transCode&&t.matCode===e.matCode&&t.orderCode===e.orderCode})),-1!==n)return a.splice(n,1),void(a.length||(this.btnText="关闭"));this.selItems=[e]},getWorkOrderTask:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getTaskWorkList)((0,s.default)({},this.params,{filter:(0,i.default)(t)})).then(function(t){var a=t.data,n=void 0===a?[]:a;e.taskWorkList=n})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,r=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=r,this.taskWorkList={},this.$refs.bScroll.scrollTo(0,0),this.getWorkOrderTask()},btnHandle:function(){"关闭"!==this.btnText&&this.$emit("sel-task",this.selItems),this.showPop=!1}},created:function(){this.getWorkOrderTask()}}},NFYK:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper xsddyc-detail-container"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.contactInfo,configs:e.dealerConfig}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"matter-list":e.matterList},on:{"on-show-more":e.onShowMore}}),e._v(" "),a("other-part",{attrs:{"other-info":e.orderInfo,amt:e.noTaxAmount,"tax-amt":e.taxAmount,count:e.count,attachment:e.attachment}}),e._v(" "),a("pop-matter-detail",{attrs:{show:e.showMatterDetail,item:e.matterDetail},model:{value:e.showMatterDetail,callback:function(t){e.showMatterDetail=t},expression:"showMatterDetail"}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[],i={render:n,staticRenderFns:r};t.a=i},NHMs:function(e,t,a){"use strict";function n(e){a("MjOu")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("mV4P");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("gC8S"),s=a.n(o),l=a("zmkY"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-677c6cf2",null);t.default=c.exports},NHnr:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=a("rudh"),i=n(r),o=a("M93x"),s=n(o),l=a("YaEn"),d=n(l),u=a("iDdd"),c=n(u),f=a("KGCO"),h=n(f),m=a("xcUm"),v=(n(m),a("DmCN")),p=n(v),C=a("wrnC"),y=n(C),_=a("azgU"),g=n(_),b=a("2J3d"),w=n(b),I=a("+62G"),D=n(I),x=a("r1uy"),P=n(x),S=a("owYz"),k=n(S),L=a("/rmV"),N=n(L);i.default.use(k.default),i.default.use(h.default),i.default.use(N.default),i.default.use(w.default),i.default.use(y.default),i.default.use(g.default),i.default.use(P.default),i.default.directive("transfer-dom",D.default),i.default.prototype.Swiper=p.default,c.default.attach(document.body);i.default.config.debug=!1,i.default.config.devtools=!1,i.default.config.productionTip=!1,i.default.prototype.$event=new i.default,d.default.afterEach(function(e){document.title=e.meta.title||""}),new i.default({router:d.default,render:function(e){return e(s.default)}}).$mount("#app-box")},NHt9:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages xmjh-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,"default-contact":e.contactInfo,"dealer-params":e.dealerParams},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("dealer-other-part",{attrs:{"dealer-config":e.dealerConfig,"dealer-info":e.dealerInfo},model:{value:e.dealerInfo,callback:function(t){e.dealerInfo=t},expression:"dealerInfo"}}),e._v(" "),a("other-config-part",{attrs:{"other-config":e.otherConfig,"other-info":e.otherInfo},model:{value:e.otherInfo,callback:function(t){e.otherInfo=t},expression:"otherInfo"}}),e._v(" "),a("apply-matter-part",{attrs:{"show-materiel-pop":e.showMaterielPop,"show-matter-pop":e.showMatterPop,"filter-list":e.filterList,actions:e.actions,btnInfo:e.btnInfo,"matter-list":e.orderList,"default-value":[],"matter-pop-config":e.matterPopConfig,"matter-edit-config":e.matterEditConfig,"order-list-title":e.orderListTitle,"matter-params":e.matterParams,"add-matter-fn":e.addMatter,"sel-matter-fn":e.selMatter,"sel-items":e.selItems,"matter-modify-class":e.matterModifyClass,"stop-order-fn":e.stopOrder,"get-matter-modify-fn":e.getMatterModify,"show-delete-fn":e.showDelete,"show-sel-icon-fn":e.showSelIcon,"del-click-fn":e.delClick,"chosen-matter":e.matter,"check-amt-fn":e.checkAmt,"sel-confirm-fn":e.selConfirm,"btn-is-hide":e.btnIsHide},on:{"show-down-modify-pop":e.shutDownModify},model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("op-button",{attrs:{"is-modify":e.matterModifyClass,hide:e.btnIsHide,"td-amount":e.tdAmount,"tax-amount":e.taxAmount,"all-check":e.selItems.length===e.matterList.length},on:{"on-submit":e.submitOrder,"on-check-all":e.checkAll,"on-delete":e.deleteCheckd}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},NINi:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("4YfN"),s=n(o),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),h=a("AupE"),m=n(h),v=a("bFc7"),p=n(v),C=a("6WeX"),y=n(C),_=a("3NX5"),g=n(_),b=a("sUbJ"),w=n(b),I=a("d7ck"),D=n(I),x=a("zWMP"),P=a("Qg39");t.default={data:function(){return{count:0,comment:"",orderInfo:{},formViewUniqueId:"e76a8c6f-05cc-45ee-ba93-299fe6751856",orderList:{}}},mixins:[u.default],components:{workFlow:m.default,RAction:f.default,PriceTotal:y.default,contactPart:p.default,MatterList:g.default,MatterItem:w.default,FormCell:D.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u={},c=o.order,f=void 0===c?{}:c;e.attachment=d;var h=o.order.dataSet,m=!0,v=!1,p=void 0;try{for(var C,y=(0,i.default)(h);!(m=(C=y.next()).done);m=!0){var _=C.value;_.noTaxAmount=(0,x.accMul)(_.price,_.tdQty),_.taxAmount=(0,x.accMul)(_.noTaxAmount,_.taxRate),_.tdAmount=(0,P.toFixed)((0,x.accAdd)(_.noTaxAmount,_.taxAmount)),e.count=(0,x.accAdd)(e.count,_.tdAmount),_.inventoryPic=_.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),u[_.transMatchedCode]||(u[_.transMatchedCode]=[]),u[_.transMatchedCode].push(_)}}catch(e){v=!0,p=e}finally{try{!m&&y.return&&y.return()}finally{if(v)throw p}}e.orderList=u,e.dealerInfo={dealerName:f.dealerName_dealerDebit,dealerMobilePhone:o.dealerDebitContactInformation,dealerContactPersonName:o.dealerDebitContactPersonName,dealerCode:f.dealerCode_dealerDebit,dealerLabelName:f.drDealerLabel,province:f.province_dealerDebit,city:f.city_dealerDebit,county:f.county_dealerDebit,address:f.address_dealerDebit},e.orderInfo=(0,s.default)({},o,f),e.workFlowInfoHandler()})}}}},NIYf:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],ref:"emotionContainer",staticClass:"emotion-container vux-1px-t"},[a("div",{staticClass:"emotion-wrapper"},e._l(e.emotionList,function(t,n){return a("emotion",{key:n,staticClass:"emotion-item",nativeOn:{click:function(a){e.emotionClick(t,n)}}},[e._v(e._s(t))])}),1)])},r=[],i={render:n,staticRenderFns:r};t.a=i},NLcr:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("lC5x"),i=n(r),o=a("3cXf"),s=n(o),l=a("HzJ8"),d=n(l),u=a("J0Oq"),c=n(u),f=a("KH7x"),h=n(f),m=a("L6VY"),v=n(m),p=a("kNGm"),C=n(p),y=a("I3vJ"),_=a("I8ug"),g=a("HyXB"),b=a("1KNX"),w=n(b);t.default={name:"materDetail",filters:{dateFormat:C.default,changeDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return"";"string"==typeof e&&(e=e.replace(/-/g,"/").replace(/\..*/g,""));var a="YYYY-MM-DD";return t&&(a="YYYY-MM-DD HH:mm:ss"),(0,C.default)(e,a)}},data:function(){return{listId:"78a798f8-0f3a-4646-aa8b-d5bb1fada28c",uniqueId:"",baseinfo:{},transCode:"",inventory:{},invMoreUnit:[],invNetWeight:[],invDealerRel:[],invCustomerRel:[],action:{},matterConfig:[],matterDuplicateConfig:[],formData:{}}},computed:{leadTimeTitle:function(){var e=this.inventory.processing,t=["原料","商品"],a=["半成品","成品","模具"];return t.includes(e)?"采购提前期":a.includes(e)?"加工提前期":""}},components:{RScroll:w.default},methods:{goEdit:function(){this.$router.push({path:"/materlist/addMater",query:{transCode:this.transCode}})},findData:function(){var e=this;return(0,y.findData)(this.transCode).then(function(t){var a=t.formData;e.formData=a,e.matterDuplicateConfig.forEach(function(t){if(e.formData[t.name]&&!e.formData[t.name].length)return void(t.show=!1);t.show=!0});var n=a.inventory,r=void 0===n?{}:n,i=["","使用中","未使用","草稿"],o=["","inUse","unUse"];r.statusClass=o[r.inventoryStatus],r.status=i[r.inventoryStatus]||"停用",e.baseinfo=a.baseinfo,e.inventory=a.inventory,e.invNetWeight=a.invNetWeight,e.invMoreUnit=a.invMoreUnit,e.invDealerRel=a.invDealerRel||[],e.invCustomerRel=a.invCustomerRel||[];var s=e.inventory,l=s.inventoryPic,d=s.inventoryCode,u=s.specification;e.contentLength=d.length+u.length,l?e.inventory.inventoryPic="/H_roleplay-si/ds/download?url="+l+"&width=400&height=400":e.getDefaultImg(),e.$loading.hide()}).catch(function(t){e.$loading.hide(),v.default.show({content:t.message})})},getDefaultImg:function(){this.inventory.inventoryPic=a("CcG0")},getAppDetail:function(){var e=this;return(0,_.getAppDetail)(this.listId).then(function(t){var a=(0,h.default)(t,1),n=a[0],r=void 0===n?{}:n,i=r.action;e.action=i})},getFormViewsInfo:function(){var e=this;return(0,c.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,g.getFormViews)(e.listId).then(function(t){var a=!0,n=!1,r=void 0;try{for(var i,o=(0,d.default)(t);!(a=(i=o.next()).done);a=!0){var s=i.value;if("view"===s.viewType){e.uniqueId=s.uniqueId;break}}}catch(e){n=!0,r=e}finally{try{!a&&o.return&&o.return()}finally{if(n)throw r}}});case 2:return t.next=4,(0,g.getFormConfig)(e.uniqueId).then(function(t){var a=t.config,n=void 0===a?[]:a;console.log(n);var r=[],i=[];n.forEach(function(e){e.isMultiple?e.hiddenInRun||"r2Fileupload"===e.xtype||"invMoreUnit"!==e.name||i.push(JSON.parse((0,s.default)(e))):r=JSON.parse((0,s.default)(e.items))}),r.forEach(function(t){t.hiddenInRun||"inventoryCode"!==t.fieldCode&&"inventoryName"!==t.fieldCode&&"inventoryPic"!==t.fieldCode&&"inventoryStatus"!==t.fieldCode&&e.matterConfig.push(t)}),i.forEach(function(e){switch(e.name){case"invMoreUnit":e.title="辅助计量";break;case"invNetWeight":e.title="净含量";break;case"invDealerRel":e.title="客户";break;case"invCustomerRel":e.title="供应商"}var t=[];e.items.forEach(function(e){e.hidden||t.push(e)}),e.items=t}),e.matterDuplicateConfig=i});case 4:case"end":return t.stop()}},t,e)}))()}},created:function(){var e=this;(0,c.default)(i.default.mark(function t(){var a,n;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.$loading.show(),a=e.$route.query.transCode,n=void 0===a?"":a,e.transCode=n,t.next=5,e.getAppDetail();case 5:return t.next=7,e.getFormViewsInfo();case 7:e.findData();case 8:case"end":return t.stop()}},t,e)}))()}}},NLlj:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("IHPB"),i=n(r),o=a("3cXf"),s=n(o),l=a("4YfN"),d=n(l),u=a("Jwlx"),c=n(u),f=a("HXPS"),h=n(f),m=a("7g+Q"),v=n(m),p=a("+62G"),C=n(p),y=a("6q39"),_=n(y),g=a("vS5q"),b=a("1KNX"),w=n(b),I=a("7biW"),D=n(I),x=a("bn51"),P=n(x);t.default={name:"PopWarehouseList",props:{title:{type:String,default:"仓库列表"},defaultValue:{type:Object,default:function(){return{}}},defaultStore:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1},isRequired:{type:Boolean,default:!1},filterParams:{type:Array,default:function(){return[]}},getListMethod:{type:String,default:"getWarehouse"},params:{type:Object,default:function(){return{}}},isShowStore:{type:Boolean,default:!1}},directives:{TransferDom:C.default},components:{Icon:h.default,Popup:v.default,RScroll:w.default,DSearch:D.default,LoadMore:_.default,PopWarehouseStoreList:P.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},showAddWarehouse:!1,warehouseStore:{}}},computed:{tip:function(){var e="加载中";return this.hasNext||(e="暂无数据"),e},noAddress:function(){var e=this.selItems,t=e.warehouseProvince,a=void 0===t?"":t,n=e.warehouseCity,r=void 0===n?"":n,i=e.warehouseDistrict,o=void 0===i?"":i,s=e.warehouseAddress,l=void 0===s?"":s;return!(a||r||o||l)},warehouseStoreParams:function(){return{warehouseCode:this.selItems.warehouseCode||""}}},watch:{defaultValue:function(e){this.setDefaultValue()},defaultStore:{handler:function(){this.warehouseStore=(0,c.default)((0,d.default)({},this.defaultStore))},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this[this.getListMethod]()},showSelIcon:function(e){return this.selItems.warehouseCode===e.warehouseCode},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.warehouseStore={},this.$emit("sel-item",(0,s.default)(this.selItems))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},selStore:function(e){this.warehouseStore=e,this.$emit("get-store",e)},getWarehouse:function(){var e=this.filterParams;return this.srhInpTx&&(e=[].concat((0,i.default)(e),[{operator:"like",value:this.srhInpTx,property:"warehouseName"}])),(0,g.getWarehouse)((0,d.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(e)},this.params)).then(this.dataHandler)},getWareHouseType:function(){var e=this.filterParams;this.srhInpTx&&(e=[].concat((0,i.default)(e),[{operator:"like",value:this.srhInpTx,property:"warehouseName"}])),(0,g.getWareHouseType)((0,d.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(e)},this.params)).then(this.dataHandler)},dataHandler:function(e){var t=this,a=e.dataCount,n=void 0===a?0:a,r=e.tableContent,o=void 0===r?[]:r;if(this.showAddWarehouse=this.srhInpTx&&0===o.length,this.hasNext=n>(this.page-1)*this.limit+o.length,o.forEach(function(e){e.warehouseCity=e.warehouseCity||e.wareHouseCity}),this.listData=1===this.page?o:[].concat((0,i.default)(this.listData),(0,i.default)(o)),sessionStorage.getItem("EDIT_WAREHOUSE_TRANSCODE"))for(var l=JSON.parse(sessionStorage.getItem("EDIT_WAREHOUSE_TRANSCODE")).transCode,d=0;d<this.listData.length;d++)this.listData[d].transCode==l&&(this.selItems=this.listData[d],this.$emit("sel-item",(0,s.default)(this.listData[d])),sessionStorage.removeItem("EDIT_WAREHOUSE_TRANSCODE"));this.$nextTick(function(){t.$refs.bScroll.finishPullUp()})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this[this.getListMethod]()},onPullingUp:function(){this.page++,this[this.getListMethod]()},setDefaultValue:function(){this.selItems=this.defaultValue?(0,d.default)({},this.defaultValue):{}},warehouseClick:function(){this.disabled||(this.showPop=!this.showPop)},addWarehouse:function(){this.$router.push({path:"/warehouse/edit_warehouse",query:{add:1}})}},created:function(){this.setDefaultValue(),this.disabled||this[this.getListMethod]()}}},NO05:function(e,t){},NUgK:function(e,t,a){"use strict";function n(e){a("nDVb")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("Sksv");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("dB5k"),s=a.n(o),l=a("M4Tm"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-5fcc1280",null);t.default=c.exports},NYH5:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("d7ck"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"only-word",components:{FormCell:r.default},props:{title:String,config:{type:Array,required:!0},info:{type:Object,required:!0}}}},NbtV:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("4YfN"),s=n(o),l=a("3cXf"),d=n(l),u=a("0AQX"),c=a("+VRO"),f=n(c),h=a("BUFe"),m=n(h),v=a("AupE"),p=n(v),C=a("bFc7"),y=n(C),_=a("6WeX"),g=n(_),b=a("3NX5"),w=n(b);a("zWMP"),a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"",contactInfo:{}}},components:{workFlow:p.default,RAction:m.default,contactPart:y.default,PriceTotal:g.default,MatterList:w.default},mixins:[f.default],methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(e.submitInfo=JSON.parse((0,d.default)(t)),!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=void 0===a?[]:a,r=t.formData,o=void 0===r?{}:r;e.attachment=n;var l=o.order,u=l.dataSet,c=!0,f=!1,h=void 0;try{for(var m,v=(0,i.default)(u);!(c=(m=v.next()).done);c=!0){var p=m.value;p.inventoryPic=p.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+p.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){f=!0,h=e}finally{try{!c&&v.return&&v.return()}finally{if(f)throw h}}e.contactInfo={creatorName:o.dealerDebitContactPersonName,dealerName:l.dealerName_dealerDebit,dealerMobilePhone:o.dealerDebitContactInformation,dealerContactPersonName:o.dealerDebitContactPersonName,dealerCode:l.dealerDebit,dealerLabelName:l.drDealerLabel,province:l.province_dealerDebit,city:l.city_dealerDebit,county:l.county_dealerDebit,address:l.address_dealerDebit},e.matterList=u,e.orderInfo=(0,s.default)({},o,l),e.workFlowInfoHandler()})}},created:function(){}}},Ndfv:function(e,t,a){"use strict";function n(e){a("aBBp")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("ZSDi");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("a1Ty"),s=a.n(o),l=a("zDpu"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-25ada817",null);t.default=c.exports},Ndo7:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2239,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_outPutMatCode"},{name:"往来名称",value:"dealerName_dealerDebit"}]}},mixins:[r.default],methods:{},created:function(){}}},Ndqp:function(e,t,a){"use strict";function n(e){a("5YVY")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("lI25");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("qhvE"),s=a.n(o),l=a("bH4i"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-6062e88c",null);t.default=c.exports},NefH:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("4YfN"),s=n(o),l=a("a3Yh"),d=n(l),u=a("3cXf"),c=n(u),f=a("PzEQ"),h=n(f),m=a("u28h"),v=n(m),p=a("kNGm"),C=(n(p),a("BGNQ")),y=n(C),_=a("SAzG"),g=n(_),b=a("z5TY"),w=n(b),I=a("0AQX"),D=a("HyXB"),x=a("bKg5"),P=n(x),S=a("I5id"),k=n(S),L=a("9cRV"),N=n(L),M=a("luHD"),T=n(M),A=a("VZtf"),O=n(A),R=a("vl8n"),j=n(R),B=a("+WR7"),E=n(B),F=a("zWMP");a("Qg39");t.default={name:"ApplySBCGSQForm",data:function(){return{matterList:[],formData:{biId:"",biComment:"",biProcessStatus:""},numMap:{},showFacilityPop:!1,showMatterPop:!1,selItems:[],facility:{},checkFieldList:[{key:"tdQty",message:"请填写本次申请数量"},{key:"price",message:"请填写估计价格"}],filterList:[{name:"设施名称",value:"facilityName"},{name:"设施编码",value:"facilityCode"}]}},mixins:[P.default],components:{XTextarea:h.default,Datetime:v.default,RNumber:O.default,Cell:y.default,XInput:g.default,Group:w.default,PopMatter:T.default,RPicker:j.default,PopBaseinfo:E.default,PopFacilityList:k.default,PopMatterList:N.default},computed:{tdAmount:function(){var e=this,t=0;return this.matterList.forEach(function(a){e.simpleCalcMatter(a),t=(0,F.accAdd)(t,a.tdAmount)}),t}},watch:{facility:{handler:function(e){this.simpleCalcMatter(e)},deep:!0}},methods:{selMatter:function(e){var t=JSON.parse(e);t.map(function(e){e.tdQty=e.tdQty||"",e.price=e.price||""}),this.matterList=t},getMatterModify:function(e,t){this.facility=JSON.parse((0,c.default)(e)),this.showMatterPop=!0,this.modifyIndex=t},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.facilityCode===t.facilityCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.facilityCode===e.facilityCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,c.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.facilityCode===t.facilityCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){this.showFacilityPop=!this.showFacilityPop},submitOrder:function(){var e=this,t="",a=[];if(this.matterList.length?this.matterList.every(function(n){if(!n.price)return t="单价不能为空",!1;if(!n.tdQty&&0!==n.tdQty)return t="数量不能为空",!1;var r={facilityObjCode:n.facilityCode,facilityType:n.facilityType,assMeasureUnit:null,assistQty:n.assistQty||null,tdQty:n.tdQty,price:n.price,tdAmount:n.tdAmount,comment:n.comment||""};return e.transCode&&(r.tdId=n.tdId||null),a.push(r),!0}):t="请选择设备",t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=D.saveAndStartWf,n={},r=(0,d.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});n=(0,s.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.formData.handler,modifer:e.formData.handler,order:{dataSet:a}}),e.transCode&&(t=D.saveAndCommitTask,r={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,c.default)(n),wfPara:(0,c.default)(r)};e.transCode||delete i.biReferenceId,e.processCode.length||(t=D.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,I.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,l=t.attachment,u=void 0===l?[]:l;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=u;var c=o.order,f=c.dataSet,h=void 0===f?[]:f,m=[],v=!0,p=!1,C=void 0;try{for(var y,_=(0,i.default)(h);!(v=(y=_.next()).done);v=!0){var g,b=y.value;b=(0,s.default)({},b,(g={facilityName:b.facilityName_facilityObjCode,facilityCode:b.facilityCode_facilityObjCode,facilityBigType:b.facilityBigType_facilityObjCode,facilitySubclass:b.facilitySubclass_facilityObjCode,facilityUnit:b.facilityUnit_facilityObjCode},(0,d.default)(g,"facilityName",b.facilityName_facilityObjCode),(0,d.default)(g,"facilityName",b.facilityName_facilityObjCode),(0,d.default)(g,"inventoryPic",b.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+b.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()),g)),m.push(b)}}catch(e){p=!0,C=e}finally{try{!v&&_.return&&_.return()}finally{if(p)throw C}}e.handlerDefault={handler:o.handler,handlerName:o.handlerName,handlerUnit:o.handlerUnit,handlerUnitName:o.handlerUnitName,handlerRole:o.handlerRole,handlerRoleName:o.handlerRoleName},e.formData=(0,s.default)({},e.handlerDefault,{creator:o.creator,modifer:o.modifer,biId:o.biId,biComment:o.biComment,biProcessStatus:o.biProcessStatus}),e.biReferenceId=o.biReferenceId,e.matterList=m,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,d.default)({},"SBCGSQ_DATA",{matter:this.matterList,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("SBCGSQ_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.formData=t.formData,sessionStorage.removeItem("SBCGSQ_DATA")}}}},NfSg:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("KH7x"),i=n(r),o=a("HXPS"),s=n(o),l=a("+62G"),d=n(l),u=a("Nk/b"),c=n(u),f=a("7g+Q"),h=n(f);t.default={name:"RPicker",props:{title:{type:String},value:{type:String},data:{type:Array,default:function(){return[]}},required:{type:Boolean,default:!1},pickerStatus:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},data:function(){return{show:!1,currentValue:"",showValue:""}},watch:{value:{handler:function(e){this.showValue=e,this.currentValue=e?[e]:[],this.$emit("on-change",e)}}},directives:{TransferDom:d.default},components:{Picker:c.default,Popup:h.default,Icon:s.default},methods:{confirm:function(){var e=(0,i.default)(this.currentValue,1),t=e[0],a=void 0===t?"":t;this.show=!1,this.$emit("input",a)},showStatus:function(){this.pickerStatus&&!this.disabled&&(this.show=!this.show)}},created:function(){this.currentValue=[this.value],this.showValue=this.value}}},NgDr:function(e,t,a){"use strict";function n(e){a("xTln")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("+Kn1");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("/9JJ"),s=a.n(o),l=a("MyFj"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-7eff01e0",null);t.default=c.exports},"NgZ+":function(e,t){},NiXK:function(e,t){},"Nk/b":function(e,t,a){"use strict";function n(e){a("3iOo")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("0u1o");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("F9M6"),s=a.n(o),l=a("O4M8"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,null,null);t.default=c.exports},NkIc:function(e,t){},NnKo:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"childPage",class:{"no-edit":!e.action.update}},[a("r-scroll",{ref:"bScroll",staticClass:"main_content"},[a("div",{staticClass:"inventory_baseinfo has_margin"},[a("div",{staticClass:"baseInfo_top"},[a("div",{staticClass:"baseinfo_part"},[a("img",{attrs:{src:e.inventory.inventoryPic},on:{error:e.getDefaultImg}}),e._v(" "),a("div",{staticClass:"inventory_name"},[a("p",{staticClass:"name"},[e._v(e._s(e.inventory.inventoryName))]),e._v(" "),a("p",{staticClass:"code"},[e._v("物料编码："),a("span",{staticClass:"symbol"}),e._v(e._s(e.inventory.inventoryCode))])])]),e._v(" "),a("span",{staticClass:"inventory_status vux-1px",class:{no_use:"使用中"!==e.inventory.status}},[e._v(e._s(e.inventory.status))])])]),e._v(" "),a("div",{staticClass:"inventory_other has_margin"},e._l(e.matterConfig,function(t,n){return a("div",{key:n,staticClass:"each_property",class:{"vux-1px-b":n<e.matterConfig.length-1}},[a("label",[e._v(e._s(t.fieldLabel)+":")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.inventory[t.fieldCode]||"无"))])])}),0),e._v(" "),e._l(e.matterDuplicateConfig,function(t,n){return t.show?a("div",{key:""+n+t.name,staticClass:"common_style d_main"},e._l(e.formData[t.name],function(n,r){return a("div",{key:r,staticClass:"content"},e._l(t.items,function(t,r){return a("div",{key:r,staticClass:"each_property vux-1px-b"},[a("label",[e._v(e._s(t.text)+":")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(n[t.fieldCode]||"无"))])])}),0)}),0):e._e()}),e._v(" "),a("div",{staticClass:"creator"},[a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("创建者:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.baseinfo.creatorName))])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("创建时间:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e._f("changeDate")(e.baseinfo.crtTime,!0)))])]),e._v(" "),e.baseinfo.modiferName?a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("修改者:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.baseinfo.modiferName))])]):e._e(),e._v(" "),e.baseinfo.modTime?a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("修改时间:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e._f("changeDate")(e.baseinfo.modTime,!0)))])]):e._e()])],2),e._v(" "),a("div",{staticClass:"modify_icon",on:{click:e.goEdit}},[a("span",{staticClass:"icon-edit"})])],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},Nu2k:function(e,t,a){"use strict";function n(e){a("TJSi")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("+Yy+");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("GxGw"),s=a.n(o),l=a("bxBr"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-7ca02b22",null);t.default=c.exports},NvkL:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("IHPB"),s=n(o),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),h=n(f),m=a("I3vJ"),v=a("1KNX"),p=n(v),C=a("7biW"),y=n(C);t.default={name:"PopTechnicsList",props:{defaultValue:{type:Object,default:function(){return{}}},required:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"}},components:{Icon:c.default,Popup:h.default,RScroll:p.default,RSearch:y.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:100,page:1,hasNext:!0,scrollOptions:{pullUpLoad:!0},filterProperty:"",filterList:[{name:"名称",value:"technicsName"},{name:"编码",value:"technicsCode"}]}},watch:{defaultValue:{handler:function(e){this.selItems=(0,d.default)({},this.defaultValue)},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},showSelIcon:function(e){return this.selItems.technicsCode===e.technicsCode},selThis:function(e,t){this.selItems=(0,d.default)({},e),this.showPop=!1,this.$emit("sel-item",(0,d.default)({},e))},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,s.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,m.getObjTechnics)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,i.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+i.length,e.listData=1===e.page?i:[].concat((0,s.default)(e.listData),(0,s.default)(i)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,r=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=r,this.resetCondition(),this.getList()},onPullingUp:function(){this.page++,this.getList()},resetCondition:function(){this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)}},created:function(){this.getList()}}},NwpZ:function(e,t){},"Ny/B":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("lC5x"),i=n(r),o=a("3cXf"),s=n(o),l=a("HzJ8"),d=n(l),u=a("J0Oq"),c=n(u),f=a("kNGm"),h=n(f),m=a("h+4q"),v=a("HyXB"),p=a("1KNX"),C=n(p);t.default={filters:{dateFormat:h.default,changeDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return"";"string"==typeof e&&(e=e.replace(/-/g,"/").replace(/\..*/g,""));var a="YYYY-MM-DD";return t&&(a="YYYY-MM-DD HH:mm:ss"),(0,h.default)(e,a)}},data:function(){return{typeSub:"group",listId:"64a41c48-4e8d-4709-bd01-5d60ad6bc625",typeToSubMap:{"配送中心仓":"groupCode","加工商仓":"processorsDealerCode","加工车间仓":"groupCode","客户仓":"customerDealerCode","渠道商仓":"channelDealerCode","个人仓":"staffDealerCode","一般部门仓":"groupCode"},typeSubMap:{staff:{title:"员工",dealerLabelName:"员工",key:"staffDealerCode",value:"",code:"",list:[]},group:{title:"组织",dealerLabelName:"",key:"groupCode",value:"",code:"",list:[]},customer:{title:"客户",dealerLabelName:"客户",key:"customerDealerCode",value:"",code:"",list:[]},processors:{title:"加工商",dealerLabelName:"加工商",key:"processorsDealerCode",value:"",code:"",list:[]},channel:{title:"渠道商",dealerLabelName:"渠道商",key:"channelDealerCode",value:"",code:"",list:[]},noMatched:{title:"",dealerLabelName:"",key:"",value:"",code:"",list:[]}},viewId:"",MatPic:"",transCode:"",baseinfo:{},formData:{},warehouse:{},warehouseConfig:[],warehouseDuplicateConfig:[]}},components:{RScroll:C.default},methods:{getDefaultImg:function(){this.MatPic=a("t732")},goEdit:function(){this.$router.push({path:"/warehouse/edit_warehouse",query:{transCode:this.transCode}})},getFormViewInfo:function(){var e=this;return(0,c.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,v.getFormViews)(e.listId).then(function(t){var a=!0,n=!1,r=void 0;try{for(var i,o=(0,d.default)(t);!(a=(i=o.next()).done);a=!0){var s=i.value;if("view"===s.viewType){e.viewId=s.uniqueId;break}}}catch(e){n=!0,r=e}finally{try{!a&&o.return&&o.return()}finally{if(n)throw r}}});case 2:return t.next=4,(0,v.getFormConfig)(e.viewId).then(function(t){var a=t.config,n=void 0===a?[]:a,r=[],i=[];n.forEach(function(e){e.isMultiple?e.hiddenInRun||"r2Fileupload"===e.xtype||i.push(JSON.parse((0,s.default)(e))):r=JSON.parse((0,s.default)(e.items))}),r.forEach(function(t){t.hiddenInRun||"warehouseCode"!==t.fieldCode&&"warehouseName"!==t.fieldCode&&"warehousePic"!==t.fieldCode&&"warehouseProvince"!==t.fieldCode&&"warehouseCity"!==t.fieldCode&&"warehouseDistrict"!==t.fieldCode&&"warehouseAddress"!==t.fieldCode&&"warehouseStatus"!==t.fieldCode&&e.warehouseConfig.push(t)}),i.forEach(function(e){switch(e.name){case"warehouseRel":e.title="库位"}var t=[];e.items.forEach(function(e){e.hidden||t.push(e)}),e.items=t}),e.warehouseDuplicateConfig=i});case 4:case"end":return t.stop()}},t,e)}))()},getDepart:function(){var e=this;return(0,m.getDepartMentWage)().then(function(t){var a=t.tableContent,n=!0,r=!1,i=void 0;try{for(var o,s=(0,d.default)(a);!(n=(o=s.next()).done);n=!0){var l=o.value;l.GROUP_CODE===e.warehouse.groupCode&&e.$set(e.warehouse,"groupCode",l.GROUP_NAME)}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}})},findData:function(){var e=this;return(0,c.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,m.getwarehouseInfo)(e.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a;t.attachment;e.formData=n,e.warehouseDuplicateConfig.forEach(function(t){if(e.formData[t.name]&&!e.formData[t.name].length)return void(t.show=!1);t.show=!0});var r=n.baseinfo,i=void 0===r?{}:r,o=n.warehouse,s=void 0===o?{}:o;switch(s.warehouseStatus){case 1:s.warehouseStatus="使用中";break;case 2:s.warehouseStatus="未使用";break;case 0:s.warehouseStatus="草稿";break;case-1:s.warehouseStatus="停用"}e.hasDefault=!0,e.baseinfo=i,e.warehouse=s,e.typeSub=e.typeToSubMap[e.warehouse.warehouseType];var l=!0,u=!1,c=void 0;try{for(var f,h=(0,d.default)(e.warehouseConfig);!(l=(f=h.next()).done);l=!0){var m=f.value;m.fieldCode===e.typeSub?m.hiddenInRun=!1:"staffDealerCode"!==m.fieldCode&&"groupCode"!==m.fieldCode&&"customerDealerCode"!==m.fieldCode&&"customerDealerCode"!==m.fieldCode&&"processorsDealerCode"!==m.fieldCode&&"channelDealerCode"!==m.fieldCode||(m.hiddenInRun=!0)}}catch(e){u=!0,c=e}finally{try{!l&&h.return&&h.return()}finally{if(u)throw c}}e.warehouse.warehousePic?e.MatPic="/H_roleplay-si/ds/download?url="+e.warehouse.warehousePic+"&width=400&height=400":e.getDefaultImg(),e.biReferenceId=e.warehouse.referenceId,e.$loading.hide()});case 2:return t.next=4,e.getDepart();case 4:case"end":return t.stop()}},t,e)}))()}},created:function(){var e=this;this.$loading.show();var t=this.$route.query;t.transCode&&(this.transCode=t.transCode,(0,c.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getFormViewInfo();case 2:return t.next=4,e.findData();case 4:case"end":return t.stop()}},t,e)}))())}}},NzC7:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("lC5x"),i=n(r),o=a("J0Oq"),s=n(o),l=a("IHPB"),d=n(l),u=a("KH7x"),c=n(u),f=a("4YfN"),h=n(f),m=a("+26s"),v=n(m),p=a("kpbF"),C=a("Qg39"),y={page:1,limit:20,hasNext:!0,listData:[]};t.default={data:function(){return{uniqueId:1e3,showContent:!1,filterArr:[{operator:"like",value:"",property:"cashCode"}],listMap:{}}},computed:{currentItem:function(){var e=this.listView[this.activeIndex].view_id;return this.listMap[e]},currentScroll:function(){return this.$refs.bScroll[this.activeIndex]},tipsWord:function(){var e=this.view_id,t={view_48:"账户名称/编码/银行/余额",view_49:"应用名称/实例编码/往来名称/银行/",view_140:"应用名称/实例编码/往来编码/往来名称"};if(t.hasOwnProperty(e))return t[e]}},mixins:[v.default],methods:{resetCondition:function(){var e=this.listView[this.activeIndex].view_id;this.listMap[e]=(0,h.default)({},y),this.currentScroll.scrollTo(0,0),this.currentScroll.resetPullDown()},tabClick:function(e,t){if(t===this.activeIndex)return void this.currentScroll.scrollTo(0,0);this.activeIndex=t,this.activeTab=e.view_name,this.calc_rel_code=e.calc_rel_code,this.view_id=e.view_id,this.currentScroll.scrollTo(0,0),this.resetCondition(),this.listSwiper.slideTo(t)},getClassfiy:function(){var e=this;return(0,p.getListClassfiy)({account_code:this.uniqueId,device_type:"phone"}).then(function(t){var a=t.data,n=void 0===a?[]:a,r=(0,c.default)(n,1),i=r[0],o=void 0===i?{}:i,s={};n.forEach(function(e){s[e.view_id]=(0,h.default)({},y)}),e.listMap=s,e.listView=n,e.activeTab=o.view_name,e.calc_rel_code=o.calc_rel_code,e.view_id=o.view_id,e.$nextTick(function(){e.listSwiper.update()})})},getListData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.currentItem,r=n.page,i=n.limit;return(0,p.getViewList)({user_code:1,page:r,limit:i,view_scope:"data",device_type:"phone",view_id:this.view_id,filter:this.serachVal,calc_rel_code:this.calc_rel_code,start:(r-1)*i}).then(function(n){var o=n.data,s=void 0===o?[]:o,l=n.total,u=void 0===l?0:l,c={"交通银行":a("4TvN"),"建设银行":a("ptJ7"),"中国银行":a("ihcZ"),"招商银行":a("E3CK")};e.currentItem.hasNext=u>(r-1)*i+s.length,s.forEach(function(t){if(t.status=!1,t.cashInOrOut)switch(t.cashInOrOut){case"流入":t.flowIconClass="iconfont icon-shangjiantou",t.flowWordClass="cashIn";break;case"流出":t.flowIconClass="iconfont icon-xiajiantou-copy",t.flowWordClass="cashOut"}e.activeTab.includes("资金账户余额")?t.icon=c[t.bank]:e.activeTab.includes("现金流计划表")&&(t.appIcon="/dist/"+t.appIcon)}),e.listData=1===r?s:e.listData.concat(s),e.currentItem.listData=1===r?s:[].concat((0,d.default)(e.currentItem.listData),(0,d.default)(s)),t||e.$nextTick(function(){e.resetScroll()});var f="";t&&0===e.activeIndex&&e.total&&(f=u-e.total==0?"暂无新数据":f="新增"+(u-e.total)+"条数据",e.$vux.toast.show({text:f,position:"top",width:"50%",type:"text",time:700})),0===e.activeIndex&&1===r&&sessionStorage.setItem(e.applyCode,u),e.$loading.hide()}).catch(function(t){e.resetScroll()})},getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,s.default)(i.default.mark(function a(){return i.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.getView();case 2:return a.next=4,e.getListData(t);case 4:case"end":return a.stop()}},a,e)}))()},resetScroll:function(){this.currentScroll.finishPullDown(),this.currentScroll.finishPullUp()},onPullingUp:function(){this.currentItem.page++,this.getListData()},onPullingDown:function(){this.currentItem.page=1,this.getData(!0)},getData:function(e){var t=this;return(0,s.default)(i.default.mark(function a(){return i.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getSession();case 2:if(!e){a.next=6;break}return a.next=5,t.getList(!0).then(function(){t.$nextTick(function(){t.currentScroll.finishPullDown().then(function(){t.currentScroll.finishPullUp()})})});case 5:return a.abrupt("return");case 6:return a.next=8,t.getList();case 8:case"end":return a.stop()}},a,t)}))()},initSwiper:function(){var e=this;this.$nextTick(function(){e.listSwiper=new e.Swiper(".list-container",{touchAngle:30,on:{slideChangeTransitionStart:function(){var t=e.listSwiper.activeIndex,a=e.listView[t];e.activeIndex=t,e.activeTab=a.view_name,e.calc_rel_code=a.calc_rel_code,e.view_id=a.view_id,e.scrollToShow(t),e.currentItem.listData.length||(e.resetCondition(),e.getListData())}}})})},scrollToShow:function(e){var t=this.$refs.tabContainer,a=parseFloat(getComputedStyle(t).paddingLeft),n=this.$refs.tabs[e];t.scrollLeft=n.offsetLeft-a}},filters:{toFixed:C.toFixed},created:function(){this.initSwiper()}}},O1ha:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("a3Yh"),s=n(o),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),h=n(f),m=a("SAzG"),v=n(m),p=a("u28h"),C=n(p),y=a("kNGm"),_=(n(y),a("iR2W")),g=n(_),b=a("PzEQ"),w=n(b),I=a("jLp1"),D=a("bKg5"),x=n(D),P=a("JUuq"),S=n(P),k=a("d7ck"),L=n(k),N=a("vl8n"),M=n(N),T=a("+WR7"),A=n(T);t.default={mixins:[x.default],components:{Cell:c.default,Group:h.default,XInput:v.default,Datetime:C.default,XTextarea:w.default,PopNameList:S.default,FormCell:L.default,RPicker:M.default,PopBaseinfo:A.default},data:function(){return{listId:"b87a513e-99ec-4608-89db-3d6e97ef1432",projectList:[],taskList:[],formData:{biProcessStatus:""},projectApproval:{},jsonData:{baseinfo:{},comment:{biComment:""}},projectConclusion:[],projectTime:{actualStartTime:"",actualCompleteTime:""}}},methods:(0,s.default)({save:function(){var e=this,t="",a=[{key:"actualStartTime",message:"实际开始日期"},{key:"actualCompleteTime",message:"实际完成日期"}];if(this.projectApproval.PROJECT_NAME||(t="请选择项目"),a.every(function(a){return!!e.projectTime[a.key]||(t=a.message+"不能为空",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show(),e.jsonData.baseinfo=(0,d.default)({},e.formData,{creator:e.formData.handler},e.jsonData.baseinfo,{modifer:e.formData.handler});var t=I.saveProjectConclusion,a=e.projectConclusion.map(function(e){return{conclusionName:e.conclusionName,actual:e.actual,budget:e.budget,difference:e.difference}}),n={listId:e.listId,formData:(0,d.default)({handlerEntity:e.entity.dealerName},e.jsonData,{projectApproval:{projectName:e.projectApproval.PROJECT_NAME,projectType:e.projectApproval.PROJECT_TYPE,comment:e.projectApproval.COMMENT,projectManager:e.projectApproval.PROJECT_MANAGER,expectStartDate:e.projectApproval.EXPECT_START_DATE,expectEndDate:e.projectApproval.EXPECT_END_DATE},projectConclusion:a,projectTime:e.projectTime})};e.transCode&&(t=I.updateProjectConclusion),e.saveData(t,n)}})},clickDateSelect:function(){var e=this;this.$vux.datetime.show({confirmText:"确定",cancelText:"取消",value:this.formData.validUntil,onConfirm:function(t){e.formData.validUntil=t}})},selProject:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"{}";this.projectApproval=JSON.parse(t),(0,I.findConclusion)(this.projectApproval.PROJECT_NAME).then(function(t){var a=t.data,n=void 0===a?[]:a;e.projectConclusion=n})},getFormData:function(){return(0,I.findProjectConclusion)(this.transCode).then(function(e){e.formData})},numberComma:function(e){return e||0===e?(0,g.default)(e):"无"},hasDraftData:function(){return!!this.projectApproval.PROJECT_NAME&&(0,s.default)({},"XMJX_DATA",{projectApproval:this.projectApproval,jsonData:this.jsonData,projectConclusion:this.projectConclusion,projectTime:this.projectTime})},getRelationData:function(){var e=this;return(0,I.findProjectApproval)(this.relationKey).then(function(t){var a=t.formData,n=void 0===a?{}:a,r=(t.attachment,JSON.parse((0,i.default)(n.projectApproval)));e.projectApproval={BUDGET_CAPITAL:r.budgetCapital,BUDGET_COST:r.budgetCost,BUDGET_INCOME:r.budgetIncome,BUDGET_PROFIT:r.budgetProfit,BUDGET_PROFIT_MARGIN:r.budgetProfitMargin,COMMENT:r.comment,EXPECT_END_DATE:r.expectEndDate,EXPECT_START_DATE:r.expectStartDate,ID:r.projectApprovalId,PHONE_NUMBER:r.phoneNumber,PROJECT_MANAGER:r.projectManager,PROJECT_NAME:r.projectName,PROJECT_STATUS:r.projectStatus,PROJECT_SUBCLASS:r.projectSubclass,PROJECT_TYPE:r.projectType,REFERENCE_ID:r.referenceId},e.selProject((0,i.default)(e.projectApproval))})}},"getFormData",function(){var e=this;return(0,I.findProjectConclusion)(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a,r=(t.attachment,n.projectApproval);e.projectApproval={BUDGET_CAPITAL:r.budgetCapital,BUDGET_COST:r.budgetCost,BUDGET_INCOME:r.budgetIncome,BUDGET_PROFIT:r.budgetProfit,BUDGET_PROFIT_MARGIN:r.budgetProfitMargin,COMMENT:r.comment,EXPECT_END_DATE:r.expectEndDate,EXPECT_START_DATE:r.expectStartDate,ID:r.projectApprovalId,PHONE_NUMBER:r.phoneNumber,PROJECT_MANAGER:r.projectManager,PROJECT_NAME:r.projectName,PROJECT_STATUS:r.projectStatus,PROJECT_SUBCLASS:r.projectSubclass,PROJECT_TYPE:r.projectType,REFERENCE_ID:r.referenceId},e.jsonData=n,e.projectConclusion=n.projectConclusion,e.projectTime=n.projectTime,e.handlerDefault={handler:n.baseinfo.handler,handlerName:n.baseinfo.handlerName,handlerUnit:n.baseinfo.handlerUnit,handlerUnitName:n.baseinfo.handlerUnitName,handlerRole:n.baseinfo.handlerRole,handlerRoleName:n.baseinfo.handlerRoleName},e.$loading.hide()})}),created:function(){var e=sessionStorage.getItem("XMJX_DATA");if(e){var t=JSON.parse(e);this.projectApproval=t.projectApproval,this.jsonData=t.jsonData,this.projectConclusion=t.projectConclusion,this.projectTime=t.projectTime,sessionStorage.removeItem("XMJX_DATA")}}}},O4M8:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vux-picker"},[a("flexbox",{attrs:{gutter:0}},e._l(e.currentData,function(t,n){return a("flexbox-item",{key:n,staticStyle:{"margin-left":"0"},attrs:{span:e.columnWidth&&e.columnWidth[n]}},[a("div",{staticClass:"vux-picker-item",attrs:{id:"vux-picker-"+e.uuid+"-"+n}})])}),1)],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},"OB+s":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("IHPB"),i=n(r),o=a("4YfN"),s=n(o),l=a("HXPS"),d=n(l),u=a("7g+Q"),c=n(u),f=a("+62G"),h=n(f),m=a("6q39"),v=n(m),p=(a("HyXB"),a("XAqG")),C=a("1KNX"),y=n(C),_=a("7biW"),g=n(_);t.default={name:"PopCompanyList",props:{defaultValue:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1},params:{type:Object,default:function(){return{}}}},directives:{TransferDom:h.default},components:{Icon:d.default,Popup:c.default,RScroll:y.default,DSearch:g.default,LoadMore:v.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},watch:{defaultValue:function(e){this.setDefaultValue()}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this.getList()},showSelIcon:function(e){return this.selItems.groupCode===e.groupCode},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.$emit("sel-item",this.selItems)},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getList:function(){var e=this;return(0,p.getCompanyList)((0,s.default)({pageSize:this.limit,currentPage:this.page,search:this.srhInpTx},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,o=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+o.length,e.listData=1===e.page?o:[].concat((0,i.default)(e.listData),(0,i.default)(o)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.selItems=this.defaultValue?(0,s.default)({},this.defaultValue):{}},itemClick:function(){this.disabled||(this.showPop=!this.showPop)}},created:function(){this.setDefaultValue(),this.disabled||this.getList()}}},OBkd:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("kNGm"),s=(n(o),a("SAzG")),l=n(s),d=a("0AQX"),u=a("+VRO"),c=n(u),f=a("BUFe"),h=n(f),m=a("AupE"),v=n(m),p=a("bFc7"),C=n(p),y=a("CKaN"),_=n(y),g=a("zWMP"),b=a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",dealerInfo:{},cashInfo:{},costList:[]}},computed:{isApproval:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"7d18cfc2-475f-44c5-ae12-a723d6234253"===t},isAccounting:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"69c3a187-1816-41cf-a9ec-899e9932940e"===t},isCashier:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"8ea73083-fc91-49f2-97d6-e9923ac9b9e2"===t},cashParams:function(){return{transCode:this.transCode}},isEditAdmout:function(){var e=!1;return this.otherConfig.forEach(function(t){"tdAmountCopy1"===t.fieldCode&&(e=t.readOnly)}),e||(this.cashInfo=(0,i.default)({},this.cashInfo,{fundCode:this.cashInfo.fundCode||this.cashInfo.cashInCode,fundType:this.cashInfo.fundType||this.cashInfo.cashType_cashInCode,fundName:this.cashInfo.fundName||this.cashInfo.fundName_cashInCode,thenAmntBal:this.cashInfo.thenAmntBal||this.cashInfo.thenAmntBalCopy1})),e}},mixins:[c.default],components:{workFlow:v.default,RAction:h.default,contactPart:C.default,XInput:l.default,PopCashList:_.default},methods:{checkAmt:function(e,t,a){e[t]=Math.abs((0,b.toFixed)(a))},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,d.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=t.formData,r=t.attachment;if(!1===a)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var i=n.order.dataSet,o=void 0===i?[]:i;if(e.attachment=r,e.orderInfo=n,e.dealerInfo=n.inPut.dataSet[0],e.cashInfo=n.outPut.dataSet[0],e.costList=o,e.isAccounting){var s=e.dealerInfo,l=s.thenAmntBal,d=void 0===l?0:l,u=s.thenAlreadyAmnt,c=void 0===u?0:u;e.dealerInfo.thenTotalAmntBal=c,e.dealerInfo.differenceAmount=d}e.workFlowInfoHandler()})},agreeHandler:function(){if(this.isApproval||this.isAccounting||this.isCashier){if(this.isCashier&&!this.cashInfo.fundCode)return this.$vux.alert.show({content:"请选择资金账户"}),!0;var e=this.orderInfo,t=this.costList.map(function(e){return{tdId:e.tdId,expCode:e.expCode,expSubject:e.expSubject,costType_expCode:e.costType_expCode,tdAmount:e.tdAmount,expCause:e.expCause,taxAmount:e.taxAmount,noTaxAmount:e.noTaxAmount}}),a=(0,i.default)({},e,{order:{departmentName:e.order.departmentName,dataSet:t}});if(this.otherConfig.length){var n=this.cashInfo;a.outPut={dataSet:[{fundName_cashInCode:n.fundName_cashInCode||n.fundName,cashInCode:n.cashInCode||n.fundCode,cashType_cashInCode:n.cashType_cashInCode||n.fundType,thenAmntBalCopy1:n.thenAmntBalCopy1||n.thenAmntBal,tdAmountCopy1:n.tdAmountCopy1,tdIdCopy1:n.tdIdCopy1}]}}return this.saveData(a),!0}return!1},calcTax:function(e){var t=e.taxAmount,a=void 0===t?0:t,n=e.noTaxAmount,r=void 0===n?0:n;a||(a=0,e.taxAmount=0),e.noTaxAmount=(0,g.accSub)(r,a)},calcPayment:function(e){var t=e.thenAmntBal,a=void 0===t?0:t,n=e.thenAlreadyAmnt,r=void 0===n?0:n,i=e.thenTotalAmntBal,o=void 0===i?0:i;o||(o=0),o=(0,b.toFixed)(o),e.thenTotalAmntBal=o,e.tdAmount=(0,b.toFixed)((0,g.accSub)(r,o)),e.differenceAmount=(0,b.toFixed)((0,g.accAdd)((0,g.accSub)(a,r),o)),this.cashInfo.tdAmountCopy1=o},selCash:function(e){this.cashInfo=(0,i.default)({},this.cashInfo,e)}}}},OC53:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("IHPB"),s=n(o),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),h=n(f),m=a("6q39"),v=n(m),p=a("kNGm"),C=n(p),y=a("fEP3"),_=a("1KNX"),g=n(_),b=a("7biW"),w=n(b);t.default={name:"work-list-pop",props:{show:{type:Boolean,default:!1},defaultValue:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:h.default,LoadMore:v.default,RScroll:g.default,MSearch:w.default},filters:{dateFormat:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},workList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterList:[{name:"成品名称",value:"inventoryName"},{name:"成品编码",value:"inventoryCode"},{name:"工序名称",value:"procedureName"}],filterProperty:"",inventoryCode:"",orderCode:""}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){return this.selItems.colId===e.colId},selThis:function(e,t){this.showPop=!1,this.selItems=(0,d.default)({},e),this.$emit("sel-work",this.selItems)},setDefaultValue:function(){this.selItems=(0,d.default)({},this.defaultValue)},getWorkOrderTask:function(){var e=this,t=[],a=this.$route.query.orderId,n=void 0===a?"":a;return this.srhInpTx&&(t=[].concat((0,s.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),n&&(t=[].concat((0,s.default)(t),[{operator:"eq",value:n,property:"colId"}])),(0,y.getWorkCheckList)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,i.default)(t),refresh:!0}).then(function(t){var a=t.dataCount,r=void 0===a?0:a,i=t.tableContent,o=void 0===i?[]:i;n&&e.$emit("sel-work",o[0]),e.hasNext=r>(e.page-1)*e.limit+o.length,e.workList=1===e.page?o:[].concat((0,s.default)(e.workList),(0,s.default)(o)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,r=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=r,this.workList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getWorkOrderTask()},onPullingUp:function(){this.page++,this.getWorkOrderTask()}},created:function(){this.setDefaultValue(),this.getWorkOrderTask()}}},OFAD:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("3cXf"),s=n(o),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),h=n(f),m=a("+62G"),v=n(m),p=a("6q39"),C=n(p),y=a("vS5q"),_=a("1KNX"),g=n(_),b=a("7biW"),w=n(b);t.default={name:"PopWarehouseList",props:{title:{type:String,default:"仓库列表"},defaultValue:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1},isRequired:{type:Boolean,default:!1}},directives:{TransferDom:v.default},components:{Icon:c.default,Popup:h.default,RScroll:g.default,DSearch:w.default,LoadMore:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},showAddWarehouse:!1}},computed:{tip:function(){var e="加载中";return this.hasNext||(e="暂无数据"),e},noAddress:function(){var e=this.selItems,t=e.warehouseProvince,a=void 0===t?"":t,n=e.warehouseCity,r=void 0===n?"":n,i=e.warehouseDistrict,o=void 0===i?"":i,s=e.warehouseAddress,l=void 0===s?"":s;return!(a||r||o||l)}},watch:{defaultValue:function(e){this.setDefaultValue()}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1,this.$emit("on-hide")},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this.getList()},showSelIcon:function(e){return this.selItems.warehouseCode===e.warehouseCode},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.$emit("sel-item",this.selItems)},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"warehouseName"}])),(0,y.getWarehouse)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r;e.showAddWarehouse=e.srhInpTx&&0===i.length,e.hasNext=n>(e.page-1)*e.limit+i.length,e.listData=1===e.page?i:[].concat((0,d.default)(e.listData),(0,d.default)(i)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.selItems=this.defaultValue?(0,i.default)({},this.defaultValue):{}},warehouseClick:function(){this.disabled||(this.$emit("on-show"),this.showPop=!this.showPop)},addWarehouse:function(){this.$router.push({path:"/warehouse/edit_warehouse",query:{add:1}})}},created:function(){this.setDefaultValue(),this.disabled||this.getList()}}},OGXG:function(e,t){},OJK9:function(e,t){},OLg4:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},OMnH:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages user-list-container",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("tab",{attrs:{"line-width":2,"default-color":"#333","active-color":"#3296FA"}},e._l(e.listStatus,function(t,n){return a("tab-item",{key:n,attrs:{selected:n===e.activeIndex},on:{"on-item-click":function(a){e.tabClick(t,n)}}},[e._v(e._s(t.name)+"\n          ")])}),1)],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"list-item-wrapper",class:{visited:t.visited},on:{click:function(a){e.goDetail(t,n)}}},[a("div",{staticClass:"list-img-wrapper"},[a("img",{staticClass:"list_item_img",attrs:{src:t.photo,alt:"user-img"},on:{error:function(a){e.getDefaultImg(t)}}}),e._v(" "),a("i",{staticClass:"icon",class:[1===t.gender?"icon-male":"icon-female"]})]),e._v(" "),a("div",{staticClass:"list_info_wrapper"},[a("div",{staticClass:"list_header"},[a("div",{staticClass:"list_header_left"},[a("span",{staticClass:"list_name"},[e._v(e._s(t.nickname))]),e._v(" "),a("span",{staticClass:"list_type",class:{temporary:0===t.userType}},[e._v(e._s(t.userTypeText))])]),e._v(" "),a("span",{staticClass:"list_status",class:t.statusClass},[e._v(e._s(t.status))])]),e._v(" "),a("div",{staticClass:"list_detail"},[a("div",{staticClass:"list_detail_item"},[a("span",{staticClass:"list_detail_title"},[e._v("手机: ")]),e._v(" "),a("span",{staticClass:"list_detail_value"},[e._v(e._s(t.mobile))])]),e._v(" "),a("div",{staticClass:"list_detail_item"},[a("span",{staticClass:"list_detail_title"},[e._v("工号: ")]),e._v(" "),a("span",{staticClass:"list_detail_value"},[e._v(e._s(t.userCode))])])])])])}),0)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},OQoR:function(e,t){},OTZ4:function(e,t,a){"use strict";function n(e){a("FBQx")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("NDsO");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("ksvY"),s=a.n(o),l=a("J6YN"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-7750322e",null);t.default=c.exports},"OV+5":function(e,t){},OXL9:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=(a("HyXB"),a("MjAd")),s=n(o);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"任务类型",value:"taskType"},{name:"项目名称",value:"projectName_project"}],listViewID:2326}},mixins:[s.default],methods:{goDetail:function(e,t){var a=this;if(!this.clickVisited){var n=e.transCode,r=this.$route.query,o=r.name,s=r.listId,l=this.$route.params,d=l.folder,u=l.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,i.default)({},e)),setTimeout(function(){a.clickVisited=!1,a.$router.push({path:"/detail/"+d+"/"+u,query:{name:o,transCode:n,listId:s}})},200)}},getTaskIcon:function(e){return["icon-task","icon-task2","icon-task3"][e%3]}}}},OXqN:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vux-loadmore weui-loadmore",class:{"weui-loadmore_line":!e.showLoading,"weui-loadmore_dot":!e.showLoading&&!e.tip}},[e.showLoading?a("i",{staticClass:"weui-loading"}):e._e(),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.tip||!e.showLoading,expression:"tip || !showLoading"}],staticClass:"weui-loadmore__tips"},[e._v(e._s(e.tip))])])},r=[],i={render:n,staticRenderFns:r};t.a=i},OZZT:function(e,t,a){"use strict";function n(e){a("230w")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("qxrx");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("kdhw"),s=a.n(o),l=a("XG/J"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,null,null);t.default=c.exports},OarE:function(e,t){},OcnB:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("MgeX"),s=n(o),l=a("HzJ8"),d=n(l),u=a("0AQX"),c=a("+VRO"),f=n(c),h=a("BUFe"),m=n(h),v=a("AupE"),p=n(v),C=a("89pA"),y=n(C),_=a("bFc7"),g=n(_),b=a("6WeX"),w=n(b),I=a("hPJo"),D=n(I),x=a("3NX5"),P=n(x),S=a("sUbJ"),k=n(S),L=a("zWMP"),N=a("Qg39");t.default={data:function(){return{count:0,comment:"",orderInfo:{},warehouse:{},formViewUniqueId:"e76a8c6f-05cc-45ee-ba93-299fe6751856",orderList:{},warehouseConfig:[],defaultFormData:{}}},computed:{mergeMatterList:function(){var e=[],t=0,a=!0,n=!1,r=void 0;try{for(var i,o=(0,d.default)((0,s.default)(this.orderList));!(a=(i=o.next()).done);a=!0){var l=i.value,u=!0,c=!1,f=void 0;try{for(var h,m=(0,d.default)(l);!(u=(h=m.next()).done);u=!0){var v=h.value;t=(0,L.accAdd)(t,v.tdAmount),e.push(v)}}catch(e){c=!0,f=e}finally{try{!u&&m.return&&m.return()}finally{if(c)throw f}}}}catch(e){n=!0,r=e}finally{try{!a&&o.return&&o.return()}finally{if(n)throw r}}return this.count=t,e},noTaxAmount:function(){var e=0;return this.mergeMatterList.forEach(function(t){e=(0,L.accAdd)(e,t.noTaxAmount)}),e},taxAmount:function(){var e=0;return this.mergeMatterList.forEach(function(t){e=(0,L.accAdd)(e,t.taxAmount)}),e},isIQC:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"b7301952-5fcd-46ec-b627-274cc262e9fc"===t},isWarehouseStatistician:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"cb960bb4-df2f-4d94-94bc-1f684568bb6d"===t}},mixins:[f.default],components:{workFlow:p.default,RAction:m.default,PopWarehouseList:y.default,PriceTotal:w.default,contactPart:g.default,WarehouseContent:D.default,MatterList:P.default,MatterItem:k.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,s=t.attachment,l=void 0===s?[]:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u={},c=o.inPut,f=void 0===c?{}:c;e.attachment=l;var h=o.inPut.dataSet,m=!0,v=!1,p=void 0;try{for(var C,y=(0,d.default)(h);!(m=(C=y.next()).done);m=!0){var _=C.value;_.inventoryPic=_.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),u[_.transMatchedCode]||(u[_.transMatchedCode]=[]),u[_.transMatchedCode].push(_)}}catch(e){v=!0,p=e}finally{try{!m&&y.return&&y.return()}finally{if(v)throw p}}e.orderList=u,e.dealerInfo={creatorName:o.dealerCreditContactPersonName,dealerName:f.dealerName_dealerCodeCredit,dealerMobilePhone:o.dealerCreditContactInformation,dealerContactPersonName:o.dealerCreditContactPersonName,dealerCode:f.dealerCode_dealerCodeCredit,dealerLabelName:f.crDealerLabel,province:f.province_dealerCodeCredit,city:f.city_dealerCodeCredit,county:f.county_dealerCodeCredit,address:f.address_dealerCodeCredit,daysOfAccount:f.daysOfAccount,crDealerPaymentTerm:f.crDealerPaymentTerm,accountExpirationDate:f.accountExpirationDate};for(var g in f)(g.includes("warehouse")||g.includes("storehouse"))&&(e.warehouse[g]=f[g]);e.defaultFormData=(0,i.default)({},o),e.orderInfo=(0,i.default)({},o,f),e.workFlowInfoHandler()})},checkAmt:function(e,t,a){a=Math.abs((0,N.toFixed)(a));var n=e.qualityQty,r=e.samplesQty;switch(t){case"samplesQty":a>n&&(a=n);break;case"tdQty":return a>n&&(a=n),e[t]=a,void this.calcMatter(e);case"taxRate":return e[t]=a,void this.calcMatter(e);case"checkLossQty":return a>r&&(a=r),e[t]=a,void this.calcMatter(e)}e[t]=a},calcMatter:function(e){var t=e.price,a=void 0===t?0:t,n=e.noTaxPrice,r=void 0===n?0:n,i=e.qualityQty,o=void 0===i?0:i,s=e.tdQty,l=void 0===s?0:s,d=e.checkLossQty,u=void 0===d?0:d,c=e.taxRate,f=void 0===c?0:c,h=(0,N.toFixed)((0,L.accDiv)(l,e.assMeasureScale)),m=(0,N.toFixed)((0,L.accMul)(a,h)),v=(0,N.toFixed)((0,L.accMul)(h,f,r));e.assistQty=(0,N.toFixed)((0,L.accDiv)(l,e.assMeasureScale)),e.lockQty=(0,N.toFixed)((0,L.accSub)(l,u)),e.differenceNum=(0,N.toFixed)((0,L.accSub)(o,l)),e.tdAmount=m,e.taxAmount=v,e.noTaxAmount=(0,N.toFixed)((0,L.accSub)(m,v)),this.setMatterConfig([e]),this.matterDetail=e},onDetailConfirm:function(e){this.$set(this.orderList[this.matterDetailKey],this.matterDetailIndex,e)},agreeHandler:function(){if(this.isIQC){var e=this.dealerInfo,t=this.warehouse,a=[],n=this.submitMatterField,r=(0,i.default)({},this.defaultFormData),o=!0,l=!1,u=void 0;try{for(var c,f=(0,d.default)((0,s.default)(this.orderList));!(o=(c=f.next()).done);o=!0){var h=c.value,m=!0,v=!1,p=void 0;try{for(var C,y=(0,d.default)(h);!(m=(C=y.next()).done);m=!0){var _=C.value,g={},b=!0,w=!1,I=void 0;try{for(var D,x=(0,d.default)(n);!(b=(D=x.next()).done);b=!0){var P=D.value;g[P.fieldCode]=_[P.fieldCode]}}catch(e){w=!0,I=e}finally{try{!b&&x.return&&x.return()}finally{if(w)throw I}}a.push(g)}}catch(e){v=!0,p=e}finally{try{!m&&y.return&&y.return()}finally{if(v)throw p}}}}catch(e){l=!0,u=e}finally{try{!o&&f.return&&f.return()}finally{if(l)throw u}}r.inPut={dealerCodeCredit:e.dealerCode,crDealerLabel:e.dealerLabelName,crDealerPaymentTerm:e.crDealerPaymentTerm,daysOfAccount:e.daysOfAccount,accountExpirationDate:e.accountExpirationDate,containerCode:t.warehouseCode_containerCode,storehouseInCode:t.storehouseInCode,dataSet:a},this.saveData(r)}return!this.isWarehouseStatistician}}}},Ojyc:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("4YfN"),s=n(o),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("zWMP"),f=(a("Qg39"),a("BUFe")),h=n(f),m=a("AupE"),v=n(m),p=a("89pA"),C=n(p),y=a("bFc7"),_=n(y),g=a("6WeX"),b=n(g),w=a("hPJo"),I=n(w),D=a("kKsb"),x=n(D),P=a("sUbJ"),S=n(P),k=a("d7ck"),L=n(k);t.default={data:function(){return{count:0,formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",orderInfo:{},orderList:{},warehouse:{},basicInfo:{},contactInfo:{},warehouseConfig:[]}},computed:{noTaxAmount:function(){var e=0;return this.orderInfo.outPut.dataSet.forEach(function(t){e=(0,c.accAdd)(e,t.noTaxAmount)}),e},taxAmount:function(){var e=0;return this.orderInfo.outPut.dataSet.forEach(function(t){e=(0,c.accAdd)(e,t.taxAmount)}),e}},mixins:[u.default],components:{workFlow:v.default,RAction:h.default,PopWarehouseList:C.default,contactPart:_.default,PriceTotal:b.default,WarehouseContent:I.default,ProjectPart:x.default,MatterItem:S.default,FormCell:L.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u={},f=o.outPut,h=void 0===f?{}:f;e.attachment=d;var m=o.outPut.dataSet,v=!0,p=!1,C=void 0;try{for(var y,_=(0,i.default)(m);!(v=(y=_.next()).done);v=!0){var g=y.value;e.count=(0,c.accAdd)(e.count,g.tdAmount),g.inventoryPic=g.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+g.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),g.inventoryName_transObjCode=g.inventoryName_outPutMatCode,g.transObjCode=g.inventoryCode_outPutMatCode,u[g.transMatchedCode]||(u[g.transMatchedCode]=[]),u[g.transMatchedCode].push(g)}}catch(e){p=!0,C=e}finally{try{!v&&_.return&&_.return()}finally{if(p)throw C}}e.orderList=u,e.contactInfo={creatorName:o.dealerDebitContactPersonName,dealerName:h.dealerName_dealerDebit,dealerMobilePhone:o.dealerDebitContactInformation,dealerContactPersonName:o.dealerDebitContactPersonName,dealerCode:h.dealerDebit,dealerLabelName:h.drDealerLabel,province:h.province_dealerDebit,city:h.city_dealerDebit,county:h.county_dealerDebit,address:h.address_dealerDebit};for(var b in h)(b.includes("warehouse")||b.includes("storehouse"))&&(e.warehouse[b]=h[b]);e.orderInfo=(0,s.default)({},o,h),e.workFlowInfoHandler()})}}}},OsAX:function(e,t){},Ou9q:function(e,t){},OuKl:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("tab",{attrs:{"line-width":2,"default-color":"#333","active-color":"#3296FA"}},e._l(e.listStatus,function(t,n){return a("tab-item",{key:n,attrs:{selected:n===e.activeIndex},on:{"on-item-click":function(a){e.tabClick(t,n)}}},[e._v(e._s(t.name)+"\n          ")])}),1)],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"list-item-wrapper",class:{visited:t.visited,"vux-1px-b":n!==e.listData.length-1},on:{click:function(a){e.goDetail(t,n)}}},[a("i",{staticClass:"icon-job"}),e._v(" "),a("div",{staticClass:"list_info_wrapper"},[a("div",{staticClass:"list_detail"},[a("div",{staticClass:"list_name"},[e._v(e._s(t.name))]),e._v(" "),a("div",{staticClass:"list_detail_item"},[a("span",{staticClass:"list_detail_title"},[e._v("职位类型: ")]),e._v(" "),a("span",{staticClass:"list_detail_value"},[e._v(e._s(t.changeType))])])]),e._v(" "),a("div",{staticClass:"list_status",class:t.statusClass},[e._v(e._s(t.status))]),e._v(" "),a("i",{staticClass:"icon-right"})])])}),0)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},OuXJ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Ns/O"),r=function(e){return e&&e.__esModule?e:{default:e}}(n),i=["android","ios","ios-small","bubbles","circles","crescent","dots","lines","ripple","spiral"];t.default={name:"spinner",mounted:function(){var e=this;this.$nextTick(function(){(0,r.default)(e.$el,e.type,e.size)})},props:{type:{type:String,default:"ios"},size:String},computed:{styles:function(){if(void 0!==this.size&&"28px"!==this.size)return{width:this.size,height:this.size}},className:function(){for(var e={},t=0;t<i.length;t++)e["vux-spinner-"+i[t]]=this.type===i[t];return e}}}},OyWz:function(e,t,a){"use strict";function n(e){a("evww")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("Syq3");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("2F8C"),s=a.n(o),l=a("OuKl"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-42d6c7fc",null);t.default=c.exports},Oyni:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2542,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}]}},mixins:[r.default],methods:{},created:function(){}}},Oysh:function(e,t){},P0Xt:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("4YfN"),s=n(o),l=a("kNGm"),d=n(l),u=a("0AQX"),c=a("+VRO"),f=n(c),h=a("AupE"),m=n(h),v=a("BUFe"),p=n(v),C=a("bFc7"),y=n(C),_=a("3NX5"),g=n(_),b=a("zlAJ"),w=n(b),I=a("zWMP");t.default={data:function(){return{orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",attachment:[],count:0}},mixins:[f.default],components:{workFlow:m.default,RAction:p.default,contactPart:y.default,MatterList:g.default,UploadFile:w.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,l=t.attachment,u=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var c=o.order,f=c.dataSet,h=!0,m=!1,v=void 0;try{for(var p,C=(0,i.default)(f);!(h=(p=C.next()).done);h=!0){var y=p.value;e.count=(0,I.accAdd)(e.count,y.tdAmount),y.inventoryPic=y.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+y.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){m=!0,v=e}finally{try{!h&&C.return&&C.return()}finally{if(m)throw v}}e.attachment=u,e.matterList=f,o.validUntil=(0,d.default)(o.validUntil,"YYYY-MM-DD"),e.orderInfo=(0,s.default)({},o,c),e.workFlowInfoHandler()})}}}},P2Bj:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("a3Yh"),s=n(o),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),h=n(f),m=a("SAzG"),v=n(m),p=a("u28h"),C=n(p),y=a("kNGm"),_=(n(y),a("iR2W")),g=n(_),b=a("PzEQ"),w=n(b),I=a("jLp1"),D=a("bKg5"),x=n(D),P=a("JUuq"),S=n(P),k=a("d7ck"),L=n(k),N=a("vl8n"),M=n(N),T=a("+WR7"),A=n(T);t.default={mixins:[x.default],components:{Cell:c.default,Group:h.default,XInput:v.default,Datetime:C.default,XTextarea:w.default,PopNameList:S.default,FormCell:L.default,RPicker:M.default,PopBaseinfo:A.default},data:function(){return{listId:"b87a513e-99ec-4608-89db-3d6e97ef1432",projectList:[],taskList:[],formData:{biProcessStatus:""},projectApproval:{},jsonData:{baseinfo:{},comment:{biComment:""}},projectConclusion:[],projectTime:{actualStartTime:"",actualCompleteTime:""}}},methods:(0,s.default)({save:function(){var e=this,t="",a=[{key:"actualStartTime",message:"实际开始日期"},{key:"actualCompleteTime",message:"实际完成日期"}];if(this.projectApproval.PROJECT_NAME||(t="请选择项目"),a.every(function(a){return!!e.projectTime[a.key]||(t=a.message+"不能为空",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show(),e.jsonData.baseinfo=(0,d.default)({},e.formData,{creator:e.formData.handler},e.jsonData.baseinfo,{modifer:e.formData.handler});var t=I.saveProjectConclusion,a=e.projectConclusion.map(function(e){return{conclusionName:e.conclusionName,actual:e.actual,budget:e.budget,difference:e.difference}}),n={listId:e.listId,formData:(0,d.default)({handlerEntity:e.entity.dealerName},e.jsonData,{projectApproval:{projectName:e.projectApproval.PROJECT_NAME,projectType:e.projectApproval.PROJECT_TYPE,comment:e.projectApproval.COMMENT,projectManager:e.projectApproval.PROJECT_MANAGER,expectStartDate:e.projectApproval.EXPECT_START_DATE,expectEndDate:e.projectApproval.EXPECT_END_DATE},projectConclusion:a,projectTime:e.projectTime})};e.transCode&&(t=I.updateProjectConclusion),e.saveData(t,n)}})},clickDateSelect:function(){var e=this;this.$vux.datetime.show({confirmText:"确定",cancelText:"取消",value:this.formData.validUntil,onConfirm:function(t){e.formData.validUntil=t}})},selProject:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"{}";this.projectApproval=JSON.parse(t),(0,I.findConclusion)(this.projectApproval.PROJECT_NAME).then(function(t){var a=t.data,n=void 0===a?[]:a;e.projectConclusion=n})},getFormData:function(){return(0,I.findProjectConclusion)(this.transCode).then(function(e){e.formData})},numberComma:function(e){return e||0===e?(0,g.default)(e):"无"},hasDraftData:function(){return!!this.projectApproval.PROJECT_NAME&&(0,s.default)({},"XMJX_DATA",{projectApproval:this.projectApproval,jsonData:this.jsonData,projectConclusion:this.projectConclusion,projectTime:this.projectTime})},getRelationData:function(){var e=this;return(0,I.findProjectApproval)(this.relationKey).then(function(t){var a=t.formData,n=void 0===a?{}:a,r=(t.attachment,JSON.parse((0,i.default)(n.projectApproval)));e.projectApproval={BUDGET_CAPITAL:r.budgetCapital,BUDGET_COST:r.budgetCost,BUDGET_INCOME:r.budgetIncome,BUDGET_PROFIT:r.budgetProfit,BUDGET_PROFIT_MARGIN:r.budgetProfitMargin,COMMENT:r.comment,EXPECT_END_DATE:r.expectEndDate,EXPECT_START_DATE:r.expectStartDate,ID:r.projectApprovalId,PHONE_NUMBER:r.phoneNumber,PROJECT_MANAGER:r.projectManager,PROJECT_NAME:r.projectName,PROJECT_STATUS:r.projectStatus,PROJECT_SUBCLASS:r.projectSubclass,PROJECT_TYPE:r.projectType,REFERENCE_ID:r.referenceId},e.selProject((0,i.default)(e.projectApproval))})}},"getFormData",function(){var e=this;return(0,I.findProjectConclusion)(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a,r=(t.attachment,n.projectApproval);e.projectApproval={BUDGET_CAPITAL:r.budgetCapital,BUDGET_COST:r.budgetCost,BUDGET_INCOME:r.budgetIncome,BUDGET_PROFIT:r.budgetProfit,BUDGET_PROFIT_MARGIN:r.budgetProfitMargin,COMMENT:r.comment,EXPECT_END_DATE:r.expectEndDate,EXPECT_START_DATE:r.expectStartDate,ID:r.projectApprovalId,PHONE_NUMBER:r.phoneNumber,PROJECT_MANAGER:r.projectManager,PROJECT_NAME:r.projectName,PROJECT_STATUS:r.projectStatus,PROJECT_SUBCLASS:r.projectSubclass,PROJECT_TYPE:r.projectType,REFERENCE_ID:r.referenceId},e.jsonData=n,e.projectConclusion=n.projectConclusion,e.projectTime=n.projectTime,e.handlerDefault={handler:n.baseinfo.handler,handlerName:n.baseinfo.handlerName,handlerUnit:n.baseinfo.handlerUnit,handlerUnitName:n.baseinfo.handlerUnitName,handlerRole:n.baseinfo.handlerRole,handlerRoleName:n.baseinfo.handlerRoleName},e.$loading.hide()})}),created:function(){var e=sessionStorage.getItem("XMJX_DATA");if(e){var t=JSON.parse(e);this.projectApproval=t.projectApproval,this.jsonData=t.jsonData,this.projectConclusion=t.projectConclusion,this.projectTime=t.projectTime,sessionStorage.removeItem("XMJX_DATA")}}}},P2Js:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"FormCell",props:{cellTitle:[String,Number],cellContent:[String,Number],showBottomBorder:{type:Boolean,default:!0},textRight:{type:Boolean,default:!1},showSymbol:{type:Boolean,default:!1}}}},P3eF:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("IHPB"),i=n(r),o=a("HzJ8"),s=n(o),l=a("I8ug"),d=a("4XVd"),u=a("fQlz"),c=n(u),f=a("Z5v5");t.default={name:"ChangeLog",data:function(){return{commentList:[],listId:"a4897429-f4f2-44a4-ade7-2fe8dc67c3cf"}},filters:{handleCrt:function(e){if(e){var t=Date.now();"string"==typeof e&&(e=e.replace(/-/g,"/").replace(/\..*/g,""));var a=+new Date(e),n=t-a,r=n/1e3,i=r/60,o=i/60,s=o/24;return r<60?"刚刚":i<60?parseInt(i)+"分钟前":o<24?parseInt(o)+"小时前":s<30?parseInt(s)+"天前":e}}},methods:{getUserDefault:function(e){var t=a("Fuf7");return e&&(e.photo=t),t},getCommetList:function(){var e=this;return(0,l.getPCCommentList)({relationKey:this.listId,limit:10,page:1,total:0}).then(function(t){var a=(t.dataCount,t.tableContent),n=void 0===a?[]:a;n.forEach(function(t){if(e.checkImgSuffix(t),t.praises.length)return void(t.isPraise=!1);t.isPraise=!0}),e.commentList=n})},changeImgPath:function(e){var t=e.content.replace(/src="resources/g,'src="/dist/resources');return e.content=t,t},goCommentList:function(){this.$router.push({path:"/commentList",query:{listId:this.listId}})},savePraise:function(e){if(e.isPraise)return(0,d.savePraise)(e.id).then(function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];arguments[1];t&&(e.isPraise=!1,e.praiseNum++)})},checkImgSuffix:function(e){var t=["jpg","jpeg","png","gif","bmp","tif","pcx","tga","exif","fpx","svg","psd","cdr","pcd","dxf","ufo","eps","ai","raw","WMF","webp"],a=!0,n=!1,r=void 0;try{for(var i,o=(0,s.default)(e.commentAttachments);!(a=(i=o.next()).done);a=!0){var l=i.value,d=l.name.lastIndexOf("."),u=l.name.substr(d+1);t.includes(u)&&(l.isImg=!0)}}catch(e){n=!0,r=e}finally{try{!a&&o.return&&o.return()}finally{if(n)throw r}}},handleComment:function(e){var t=[].concat((0,i.default)(c.default)),a=e.content,n=/\[(.+?)\]/g;return a=a.replace(/src="resources/g,'src="/dist/resources'),a=a.replace(n,function(e){var a=t.findIndex(function(t){return t===e.replace(/(\[|\])/g,"")});return-1===a?e:'<span class="img-emotion" style="background-position: -'+24*a+'px 0;"></span>'})},scaleImg:function(e){console.log("img:",e);var t=""+location.origin+e.attachment;wx.previewImage({current:t,urls:[t]})},checkFile:function(e){window.location.href=""+location.origin+e}},created:function(){(0,f.register)();var e=this.$route.params.listId;e&&(this.listId=e,this.getCommetList())}}},P5Nb:function(e,t,a){"use strict";function n(e){a("Ii3Q")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("WzL9");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("DXZE"),s=a.n(o),l=a("wB4n"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-bc28658e",null);t.default=c.exports},P5P7:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2464,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}]}},mixins:[r.default],methods:{},created:function(){}}},P63M:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("a3Yh"),s=n(o),l=a("MgeX"),d=n(l),u=a("IHPB"),c=n(u),f=a("KH7x"),h=n(f),m=a("4YfN"),v=n(m),p=a("3cXf"),C=n(p),y=a("HXPS"),_=n(y),g=a("SAzG"),b=n(g),w=a("PzEQ"),I=n(w),D=a("kNGm"),x=n(D),P=a("BGNQ"),S=n(P),k=a("0AQX"),L=a("HyXB"),N=a("I3vJ"),M=a("bKg5"),T=n(M),A=a("vl8n"),O=n(A),R=a("9SNe"),j=n(R),B=a("kZy/"),E=n(B),F=a("y8YJ"),U=n(F),$=a("Q67R"),H=n($),V=a("hLfv"),q=n(V),Q=a("yt3/"),Y=n(Q),X=a("luHD"),G=n(X),W=a("zlAJ"),z=n(W),K=a("+WR7"),J=n(K),Z=a("VZtf"),ee=n(Z),te=a("Qg39"),ae=a("zWMP");t.default={data:function(){return{listId:"58a607ce-fe93-4d26-a42e-a374f4662f1c",matterList:[],showMaterielPop:!1,transCode:"",dealerInfo:{},transMode:[],logisticsTerm:[],formData:{biComment:"",drDealerLogisticsTerms:"",validUntil:""},numMap:{},taxRate:.16,contactInfo:{}}},components:{Icon:_.default,XInput:b.default,RPicker:O.default,XTextarea:I.default,Cell:S.default,DealerOtherPart:q.default,ApplyMatterPart:H.default,PopMatterList:E.default,PopDealerList:U.default,PopSingleSelect:Y.default,PopMatter:G.default,UploadFile:z.default,PopBaseinfo:J.default,RDate:j.default,RNumber:ee.default},mixins:[T.default],methods:{getPaymentTerm:function(){var e=this;return(0,L.getDictByType)("paymentTerm").then(function(t){var a=t.tableContent;e.transMode=a})},getLogisticsTerms:function(){var e=this;return(0,L.getDictByType)("dealerLogisticsTerms").then(function(t){var a=t.tableContent;e.logisticsTerm=a})},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,C.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=this;this.matterList.forEach(function(t){e.numMap[t.inventoryCode]=(0,v.default)({},t)}),this.showMaterielPop=!this.showMaterielPop},selDealer:function(e){var t=JSON.parse(e),a=(0,h.default)(t,1),n=a[0];this.dealerInfo=n},selContact:function(e){this.contactInfo=(0,v.default)({},e)},selMatter:function(e){var t=this,a=JSON.parse(e);a.forEach(function(e,a){var n=t.numMap[e.inventoryCode]||{},r=n.price,i=void 0===r?"":r,o=n.taxRate,s=void 0===o?t.taxRate:o,l=n.tdQty,d=void 0===l?"":l;t.getPriceRange(e,a),e.tdQty=d,e.price=i,e.taxRate=s,e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null}),this.numMap={},this.matterList=[].concat((0,c.default)(a))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},save:function(){var e=this,t="",a=[];if([{key:"dealerInfo",message:"客户"},{key:"matterList",message:"物料"}].every(function(a){return!!(0,d.default)(e[a.key]).length||(t="请选择"+a.message,!1)}),this.matterList.every(function(n){var r=n.tdQty,i=n.price;if(!r&&0!==r)return t="请输入需求数量",!1;if(r<n.qtyDownline)return t="需求数量不能小于最小需求数量",!1;if(r>n.qtyOnline)return t="需求数量不能大于最大需求数量",!1;if(!i)return t="请输入本次报价",!1;if(i<n.specialReservePrice)return t="需求数量不能小于特批底价",!1;if(i>n.standardPrice)return t="需求数量不能大于标准价格",!1;var o=n.taxRate||e.taxRate,s=((0,ae.accMul)(n.price,n.tdQty,o),{inventoryName_transObjCode:n.inventoryName,transObjCode:n.inventoryCode,tdProcessing:n.processing,assMeasureUnit:n.assMeasureUnit||null,assMeasureDescription:n.assMeasureDescription||null,assMeasureScale:n.assMeasureScale||null,tdQty:n.tdQty,assistQty:n.assistQty,standardPrice:n.standardPrice,specialReservePrice:n.specialReservePrice,price:n.price,tdAmount:n.tdAmount,taxRate:o,noTaxPrice:n.noTaxPrice,taxAmount:n.taxAmount,comment:n.comment||null});return e.transCode&&(s.tdId=n.tdId||""),a.push(s),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=L.saveAndStartWf,n=(0,h.default)(e.matterList,1),r=(n[0],(0,v.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,dealerDebitContactPersonName:e.contactInfo.dealerName||"",dealerDebitContactInformation:e.contactInfo.dealerMobilePhone||"",drDealerLogisticsTerms:e.dealerInfo.dealerLogisticsTerms,order:{dealerDebit:e.dealerInfo.dealerCode||"",drDealerLabel:e.dealerInfo.dealerLabelName,drDealerPaymentTerm:e.dealerInfo.paymentTerm,validUntil:e.formData.validUntil,dataSet:a}})),i={listId:e.listId,biComment:"",formData:(0,C.default)(r),wfPara:(0,C.default)((0,s.default)({},e.processCode,{businessKey:e.businessKey,createdBy:r.creator}))};e.transCode&&(t=L.saveAndCommitTask,i.biReferenceId=e.biReferenceId,i.wfPara=(0,C.default)({businessKey:e.transCode,createdBy:r.creator,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=L.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,k.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,s=t.attachment,l=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var d=[];e.attachment=l;var u=o.order,c=u.dataSet,f=void 0===c?[]:c,h=!0,m=!1,p=void 0;try{for(var C,y=(0,i.default)(f);!(h=(C=y.next()).done);h=!0){var _=C.value;_=(0,v.default)({},_,{inventoryPic:_.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:_.inventoryName_transObjCode,inventoryCode:_.inventoryCode_transObjCode,specification:_.specification_transObjCode,processing:_.processing_transObjCode,inventoryType:_.inventoryType_transObjCode,inventorySubclass:_.inventorySubclass_transObjCode,measureUnit:_.measureUnit_transObjCode,inventoryColor:_.inventoryColor_transObjCode,material:_.material_transObjCode}),d.push(_)}}catch(e){m=!0,p=e}finally{try{!h&&y.return&&y.return()}finally{if(m)throw p}}e.dealerInfo={creatorName:o.dealerDebitContactPersonName||"",dealerName:u.dealerName_dealerDebit||"",dealerMobilePhone:o.dealerDebitContactInformation||"",dealerCode:u.dealerDebit||"",dealerLabelName:u.drDealerLabel||"客户",province:u.province_dealerDebit||"",city:u.city_dealerDebit||"",county:u.county_dealerDebit||"",address:u.address_dealerDebit||"",paymentTerm:u.drDealerPaymentTerm,dealerLogisticsTerms:o.drDealerLogisticsTerms},e.contactInfo={dealerName:o.dealerDebitContactPersonName,dealerMobilePhone:o.dealerDebitContactInformation},e.handlerDefault={handler:o.handler,handlerName:o.handlerName,handlerUnit:o.handlerUnit,handlerUnitName:o.handlerUnitName,handlerRole:o.handlerRole,handlerRoleName:o.handlerRoleName},e.formData=(0,v.default)({},e.formData,e.handlerDefault,{biComment:o.biComment,biId:o.biId,biProcessStatus:o.biProcessStatus,creator:o.creator,modifer:o.modifer,validUntil:(0,x.default)(o.validUntil,"YYYY-MM-DD")}),e.biReferenceId=o.biReferenceId,e.matterList=d,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,s.default)({},"XSBJ_DATA",{matter:this.matterList,dealer:this.dealerInfo,formData:this.formData,contactInfo:this.contactInfo})},getPriceRange:function(e,t){var a=this;return(0,N.getPriceRange)({inventoryCode:e.inventoryCode}).then(function(t){var n=t.tableContent,r=(0,h.default)(n,1),i=r[0],o=void 0===i?{}:i,s=["qtyOnline","qtyDownline"];for(var l in o)s.includes(l)?(e[l]=o[l],delete o[l]):e.hasOwnProperty(l)||a.$set(e,l,"");e.otherField=(0,v.default)({},o)})},checkQty:function(e){var t=e.qtyDownline,a=void 0===t?0:t,n=e.qtyOnline,r=void 0===n?0:n,i=e.tdQty;i<a&&(i=a),i>r&&(i=r),e.tdQty=Math.abs((0,te.toFixed)(i))},checkAmt:function(e){var t=e.standardPrice,a=void 0===t?0:t,n=e.specialReservePrice,r=void 0===n?0:n,i=e.price;console.log("price:",i),i<r?i=r:i>a&&(i=a),e.price=Math.abs((0,te.toFixed)(i))},checkRate:function(e){e.taxRate=Math.abs((0,te.toFixed)(e.taxRate))}},created:function(){var e=sessionStorage.getItem("XSBJ_DATA");e&&(this.matterList=JSON.parse(e).matter,this.dealerInfo=JSON.parse(e).dealer,this.formData=JSON.parse(e).formData,this.contactInfo=JSON.parse(e).contactInfo,sessionStorage.removeItem("XSBJ_DATA"))}}},P7KE:function(e,t,a){"use strict";function n(e){a("HgwI")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("jKAT");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("ZtSw"),s=a.n(o),l=a("2D7A"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-75c154e0",null);t.default=c.exports},PDsi:function(e,t,a){"use strict";function n(e){a("DZ7B")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("WVZW");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("gBjh"),s=a.n(o),l=a("fSEr"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-0b945410",null);t.default=c.exports},PF5i:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("kNGm"),i=(n(r),a("SAzG")),o=n(i),s=a("0AQX"),l=a("+VRO"),d=n(l),u=a("BUFe"),c=n(u),f=a("AupE"),h=n(f),m=a("bFc7"),v=n(m);a("zWMP"),a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",costList:[]}},mixins:[d.default],components:{workFlow:h.default,RAction:c.default,contactPart:v.default,XInput:o.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=t.formData,r=t.attachment;if(!1===a)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var i=n.order.dataSet,o=void 0===i?[]:i;e.attachment=r,e.orderInfo=n,e.costList=o,e.workFlowInfoHandler()})}}}},"PHE/":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("+26s"),i=n(r),o=a("Zp+1"),s=n(o);t.default={data:function(){return{uniqueId:1400,showContent:!1,filterArr:[{operator:"like",value:"",property:"warehouseName"}]}},components:{TabItem:s.default},mixins:[i.default]}},PKHo:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("FIKn"),i=(n(r),a("kNGm")),o=n(i),s=a("d3k1"),l=n(s);t.default={data:function(){return{btnIsHide:!1,clientHeight:document.documentElement.clientHeight}},methods:{changeDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return"";"string"==typeof e&&(e=e.replace(/-/g,"/").replace(/\..*/g,""));var a="YYYY-MM-DD";return t&&(a="YYYY-MM-DD HH:mm:ss"),(0,o.default)(e,a)},getFocus:function(e){event.currentTarget.select()}},mounted:function(){var e=this;l.default.isAndroid&&(window.onresize=function(){e.clientHeight>document.documentElement.clientHeight?e.btnIsHide=!0:(e.btnIsHide=!1,"INPUT"!==document.activeElement.tagName&&"TEXTAREA"!==document.activeElement.tagName||document.activeElement.blur())})}}},PKjt:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("lC5x"),i=n(r),o=a("3cXf"),s=n(o),l=a("HzJ8"),d=n(l),u=a("J0Oq"),c=n(u),f=a("KH7x"),h=n(f),m=a("L6VY"),v=n(m),p=a("kNGm"),C=n(p),y=a("I3vJ"),_=a("I8ug"),g=a("HyXB"),b=a("1KNX"),w=n(b);t.default={name:"materDetail",filters:{dateFormat:C.default,changeDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return"";"string"==typeof e&&(e=e.replace(/-/g,"/").replace(/\..*/g,""));var a="YYYY-MM-DD";return t&&(a="YYYY-MM-DD HH:mm:ss"),(0,C.default)(e,a)}},data:function(){return{listId:"78a798f8-0f3a-4646-aa8b-d5bb1fada28c",uniqueId:"",baseinfo:{},transCode:"",inventory:{},invMoreUnit:[],invNetWeight:[],invDealerRel:[],invCustomerRel:[],action:{},matterConfig:[],matterDuplicateConfig:[],formData:{}}},computed:{leadTimeTitle:function(){var e=this.inventory.processing,t=["原料","商品"],a=["半成品","成品","模具"];return t.includes(e)?"采购提前期":a.includes(e)?"加工提前期":""}},components:{RScroll:w.default},methods:{goEdit:function(){this.$router.push({path:"/materlist/addMater",query:{transCode:this.transCode}})},findData:function(){var e=this;return(0,y.findData)(this.transCode).then(function(t){var a=t.formData;e.formData=a,e.matterDuplicateConfig.forEach(function(t){if(e.formData[t.name]&&!e.formData[t.name].length)return void(t.show=!1);t.show=!0});var n=a.inventory,r=void 0===n?{}:n,i=["","使用中","未使用","草稿"],o=["","inUse","unUse"];r.statusClass=o[r.inventoryStatus],r.status=i[r.inventoryStatus]||"停用",e.baseinfo=a.baseinfo,e.inventory=a.inventory,e.invNetWeight=a.invNetWeight,e.invMoreUnit=a.invMoreUnit,e.invDealerRel=a.invDealerRel||[],e.invCustomerRel=a.invCustomerRel||[];var s=e.inventory,l=s.inventoryPic,d=s.inventoryCode,u=s.specification;e.contentLength=d.length+u.length,l?e.inventory.inventoryPic="/H_roleplay-si/ds/download?url="+l+"&width=400&height=400":e.getDefaultImg(),e.$loading.hide()}).catch(function(t){e.$loading.hide(),v.default.show({content:t.message})})},getDefaultImg:function(){this.inventory.inventoryPic=a("CcG0")},getAppDetail:function(){var e=this;return(0,_.getAppDetail)(this.listId).then(function(t){var a=(0,h.default)(t,1),n=a[0],r=void 0===n?{}:n,i=r.action;e.action=i})},getFormViewsInfo:function(){var e=this;return(0,c.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,g.getFormViews)(e.listId).then(function(t){var a=!0,n=!1,r=void 0;try{for(var i,o=(0,d.default)(t);!(a=(i=o.next()).done);a=!0){var s=i.value;if("view"===s.viewType){e.uniqueId=s.uniqueId;break}}}catch(e){n=!0,r=e}finally{try{!a&&o.return&&o.return()}finally{if(n)throw r}}});case 2:return t.next=4,(0,g.getFormConfig)(e.uniqueId).then(function(t){var a=t.config,n=void 0===a?[]:a;console.log(n);var r=[],i=[];n.forEach(function(e){e.isMultiple?e.hiddenInRun||"r2Fileupload"===e.xtype||"invMoreUnit"!==e.name||i.push(JSON.parse((0,s.default)(e))):r=JSON.parse((0,s.default)(e.items))}),r.forEach(function(t){t.hiddenInRun||"inventoryCode"!==t.fieldCode&&"inventoryName"!==t.fieldCode&&"inventoryPic"!==t.fieldCode&&"inventoryStatus"!==t.fieldCode&&e.matterConfig.push(t)}),i.forEach(function(e){switch(e.name){case"invMoreUnit":e.title="辅助计量";break;case"invNetWeight":e.title="净含量";break;case"invDealerRel":e.title="客户";break;case"invCustomerRel":e.title="供应商"}var t=[];e.items.forEach(function(e){e.hidden||t.push(e)}),e.items=t}),e.matterDuplicateConfig=i});case 4:case"end":return t.stop()}},t,e)}))()}},created:function(){var e=this;(0,c.default)(i.default.mark(function t(){var a,n;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.$loading.show(),a=e.$route.query.transCode,n=void 0===a?"":a,e.transCode=n,t.next=5,e.getAppDetail();case 5:return t.next=7,e.getFormViewsInfo();case 7:e.findData();case 8:case"end":return t.stop()}},t,e)}))()}}},PL8x:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper wlxqjh-detail-container"},[e.orderInfo&&e.orderInfo.inPut?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"materiel_list"},[e._m(0),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n){return a("div",{key:n,staticClass:"each_mater"},[a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v("加工订单号")]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]),e._v(" "),a("div",{staticClass:"order_matter"},[e._l(t,function(t,n){return[a("matter-item",{class:{"vux-1px-b":t.bom},attrs:{item:t},scopedSlots:e._u([{key:"other",fn:function(t){var n=t.item;return a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_left"},[n.promDeliTime?a("span",{staticClass:"num"},[e._v("承诺交付日期: "+e._s(n.promDeliTime))]):e._e(),e._v(" "),n.shippingTime?a("span",{staticClass:"num"},[e._v("主计划截止验收日: "+e._s(n.shippingTime))]):e._e()]),e._v(" "),a("div",{staticClass:"mater_num"},[a("span",{staticClass:"num"},[e._v("库存计划: "+e._s(e._f("toFixed")(n.lockQty)))])]),e._v(" "),a("div",{staticClass:"mater_num"},[a("span",{staticClass:"num"},[e._v("待计划余额: "+e._s(e._f("toFixed")(n.thenQtyBal)))])]),e._v(" "),a("div",{staticClass:"mater_num"},[a("span",{staticClass:"num"},[e._v("\n                      加工计划: "+e._s(e._f("toFixed")(n.processQty))+"\n                    ")]),e._v(" "),a("span",{staticClass:"get_bom",on:{click:function(t){e.checkBom(n)}}},[e._v("查看原料")])])])}}])})]})],2)])}),0)]),e._v(" "),a("div",{staticClass:"bom_list"},[a("bom-list",{attrs:{boms:e.UniqueBom}})],1),e._v(" "),a("other-part",{attrs:{"other-info":e.orderInfo,attachment:e.attachment}}),e._v(" "),a("bom-pop",{staticClass:"bom_pop",attrs:{show:e.bomPopShow,bomInfo:e.bom,"is-edit":!1},scopedSlots:e._u([{key:"bom-left",fn:function(t){var n=t.bom;return[n.shippingTime?a("div",{staticClass:"shipping-time"},[e._v("采购交货日期: "+e._s(n.shippingTime))]):e._e()]}},{key:"number",fn:function(t){var n=t.bom;return[a("div",{staticClass:"number-part"},[a("span",{staticClass:"main-number"},[e._v("原料需求: "+e._s(n.tdQty)+e._s(n.measureUnit))]),e._v(" "),a("span",{staticClass:"number-unit"},[e._v("库存余额: "+e._s(n.qtyStock))])]),e._v(" "),a("div",{staticClass:"specific_loss"},[e._v("原料库存计划: "+e._s(n.lockQty))]),e._v(" "),a("div",{staticClass:"specific_loss"},[e._v("单位损耗率: "+e._s(n.bomSpecificLoss))])]}}]),model:{value:e.bomPopShow,callback:function(t){e.bomPopShow=t},expression:"bomPopShow"}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title"},[a("span",{staticClass:"iconfont icon-Shape"}),e._v("物料列表\n      ")])}],i={render:n,staticRenderFns:r};t.a=i},PN9S:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("MgeX"),i=n(r),o=a("HzJ8"),s=n(o),l=a("4YfN"),d=n(l),u=a("3cXf"),c=n(u),f=a("IHPB"),h=n(f),m=a("HXPS"),v=n(m),p=a("7g+Q"),C=n(p),y=a("1KNX"),_=n(y),g=(a("vS5q"),a("I3vJ")),b=a("7biW"),w=n(b);t.default={name:"PopOrderXQTJList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Object,default:function(){return{}}},listMethod:{type:String,default:"getDemandAdjustment"},params:{type:Object,default:function(){return{}}}},components:{Icon:v.default,Popup:C.default,RScroll:_.default,RSearch:w.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],listData:[],limit:100,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterProperty:"",filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"交易号",value:"transCode"}]}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}},params:{handler:function(){this.getList()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,h.default)(this.selItems)),this.$emit("input",!1),this.$event.$emit("shut-down-filter",!1)},findIndex:function(e,t){return e.findIndex(function(e){var a=!0,n=!0;return e.orderCode&&(a=e.orderCode===t.orderCode),e.colId&&(n=e.colId===t.colId),a&&n&&e.transCode===t.transCode&&e.inventoryCode===t.inventoryCode})},showSelIcon:function(e){return-1!==this.findIndex(this.tmpItems,e)},selThis:function(e,t){if(["getInProcessingOrder","getInProcessingStorage"].includes(this.listMethod)&&!e.orderCode)return void this.$vux.alert.show({content:"当前订单号不存在，不可选择"});if(e.qtyBal&&e.qtyStock<=0)return void this.$vux.alert.show({content:"当前库存为0，不可选择"});var a=this.tmpItems,n=this.findIndex(a,e);if(-1!==n)return void a.splice(n,1);a.push(e)},selConfirm:function(){this.showPop=!1,this.tmpItems.sort(function(e,t){return t.effectiveTime-e.effectiveTime}),this.selItems=[].concat((0,h.default)(this.tmpItems)),this.$emit("sel-matter",(0,c.default)(this.selItems))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getList:function(){var e=this,t=[];this.srhInpTx&&(t=[{operator:"like",value:this.srhInpTx,property:this.filterProperty}]);var a=this.$route.query.relationKey,n=void 0===a?"":a;return n&&(t=[{operator:"eq",value:n,property:"transCode"}]),(0,g.getXQTJList)((0,d.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,c.default)(t)},this.params),this.listMethod).then(function(t){var a=t.dataCount,r=void 0===a?0:a,i=t.tableContent,o=void 0===i?[]:i;o.forEach(function(t){t.inventoryPic=t.inventoryPic?"/H_roleplay-si/ds/download?url="+t.inventoryPic+"&width=400&height=400":e.getDefaultImg()}),n&&(e.selItems=[].concat((0,h.default)(o)),e.$emit("sel-matter",(0,c.default)(e.selItems))),e.hasNext=r>(e.page-1)*e.limit+o.length,e.listData=1===e.page?o:[].concat((0,h.default)(e.listData),(0,h.default)(o)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},resetCondition:function(){this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,r=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=r,this.resetCondition(),this.getList()},clearList:function(){this.srhInpTx="",this.resetCondition(),this.getList()},delSelItem:function(e){var t=this.findIndex(this.selItems,e);-1!==t&&this.selItems.splice(t,1),this.tmpItems=[].concat((0,h.default)(this.selItems))},clearSel:function(){this.selItems=[],this.tmpItems=[]},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var r,o=(0,s.default)((0,i.default)(this.defaultValue));!(t=(r=o.next()).done);t=!0){var l=r.value;e=[].concat((0,h.default)(e),(0,h.default)(l))}}catch(e){a=!0,n=e}finally{try{!t&&o.return&&o.return()}finally{if(a)throw n}}this.tmpItems=[].concat((0,h.default)(e)),this.selItems=[].concat((0,h.default)(e))}},created:function(){this.showPop=this.show,this.setDefaultValue(),this.getList()}}},PRcm:function(e,t){},PSYi:function(e,t,a){"use strict";function n(e){a("ty3O")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("car/");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("ukfH"),s=a.n(o),l=a("iTUL"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-05173750",null);t.default=c.exports},PVMT:function(e,t){},PYXE:function(e,t,a){"use strict";function n(e){a("Gfu4")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("VhGg");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("T4DS"),s=a.n(o),l=a("MSgx"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-5d25706a",null);t.default=c.exports},Pb67:function(e,t,a){"use strict";function n(e){a("vs4B")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("SGPQ");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("d5RT"),s=a.n(o),l=a("oeo+"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-4b3e4a8b",null);t.default=c.exports},PbSJ:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("T1B6"),i=n(r),o=a("uJtz"),s=n(o),l=a("jnZd"),d=n(l);t.default={name:"x-address",components:{PopupPicker:d.default},props:{title:{type:String,required:!0},value:{type:Array,default:function(){return[]}},rawValue:Boolean,list:{type:Array,required:!0},labelWidth:String,inlineDesc:String,placeholder:String,hideDistrict:Boolean,valueTextAlign:String,confirmText:String,cancelText:String,displayFormat:{type:Function,default:function(e,t){return t}},popupStyle:Object,popupTitle:String,show:Boolean,disabled:Boolean},created:function(){if(this.currentValue.length&&this.rawValue){var e=(0,i.default)(this.currentValue,this.list);/__/.test(e)?(console.error("[VUX] Wrong address value",this.currentValue),this.currentValue=[]):this.currentValue=e.split(" ")}this.show&&(this.showValue=!0)},methods:{emitHide:function(e){this.$emit("on-hide",e)},getAddressName:function(){return(0,s.default)(this.value,this.list)},onShadowChange:function(e,t){this.$emit("on-shadow-change",e,t)}},data:function(){return{currentValue:this.value,showValue:!1}},computed:{nameValue:function(){return(0,s.default)(this.currentValue,this.list)},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}}},watch:{currentValue:function(e){this.$emit("input",e)},value:function(e){if(e.length&&!/\d+/.test(e[0])){var t=(0,i.default)(e,this.list).split(" ");if("__"!==t[0]&&"__"!==t[1])return void(this.currentValue=t)}this.currentValue=e},show:function(e){this.showValue=e},showValue:function(e){this.$emit("update:show",e)}}}},PeEf:function(e,t){},PeL3:function(e,t){},"Peu+":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"inline-desc"}},Pf6q:function(e,t){},Pibe:function(e,t,a){"use strict";function n(e){a("498P")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("Cs4O");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("c8eI"),s=a.n(o),l=a("Xoe/"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-0086f3e9",null);t.default=c.exports},PkWQ:function(e,t){},"Pkp+":function(e,t,a){"use strict";function n(e){a("90tv")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("Lm7M");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("NfSg"),s=a.n(o),l=a("ZZB3"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-a6c01eda",null);t.default=c.exports},PoQm:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2508,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[r.default],methods:{},created:function(){}}},Pqvm:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("3cXf"),s=n(o),l=a("IHPB"),d=n(l),u=a("7g+Q"),c=n(u),f=a("+62G"),h=n(f),m=a("6q39"),v=n(m),p=a("HyXB"),C=a("1KNX"),y=n(C),_=a("7biW"),g=n(_),b=a("Pkp+"),w=n(b);t.default={name:"BaseInfo",props:{defaultValue:{type:Object,default:function(){return{}}},handleOrgList:{type:Array,default:function(){return[]},required:!0},userRoleList:{type:Array,default:function(){return[]},required:!0},requiredField:{type:String,default:"group"},statusData:{type:Array,default:function(){return[]}},showStatus:{type:Boolean,default:!0},processStatus:{type:String,default:""}},directives:{TransferDom:h.default},components:{Popup:c.default,RScroll:y.default,DSearch:g.default,LoadMore:v.default,RPicker:w.default},data:function(){return{page:1,limit:50,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},srhInpTx:"",showPop:!1,isSetInitial:!1,selItems:{},currentUser:{},role:"",group:"",listData:[],roleList:[],groupList:[],biProcessStatus:"",currentStatus:""}},watch:{defaultValue:function(e){this.setDefaultValue()},biProcessStatus:function(e){this.$emit("input",e)},processStatus:function(e){this.biProcessStatus=e}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},onPullingUp:function(){this.page++,this.getlistUsers()},showSelIcon:function(e){return""+this.selItems.userId==""+e.userId},getDefaultImg:function(e){var t=a("男"===e.gender?"Fuf7":"0gu7");return e&&(e.photo=t),t},changeGroup:function(e){var t=this;this.selItems.handlerUnitName=e,this.groupList.forEach(function(a){if(a.name===e)return t.selItems.handlerUnit=a.userGroupId,!1});var a={handler:this.selItems.userId,handlerName:this.selItems.nickname,handlerUnit:this.selItems.handlerUnit,handlerUnitName:this.selItems.handlerUnitName,handlerRole:this.selItems.handlerRole,handlerRoleName:this.selItems.handlerRoleName};this.$emit("sel-item",a)},changeRole:function(e){var t=this;this.selItems.handlerRoleName=e,this.roleList.forEach(function(a){if(a.name===e)return t.selItems.handlerRole=a.userGroupId,!1});var a={handler:this.selItems.userId,handlerName:this.selItems.nickname,handlerUnit:this.selItems.handlerUnit,handlerUnitName:this.selItems.handlerUnitName,handlerRole:this.selItems.handlerRole,handlerRoleName:this.selItems.handlerRoleName};this.$emit("sel-item",a)},selThis:function(e,t){this.isSetInitial=!0,this.showPop=!1,this.selItems=e,this.getNewHandleORG(),this.getNewUserRole(),this.changeGroup(this.group),this.changeRole(this.role)},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getlistUsers()},getlistUsers:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"nickname"}])),(0,p.listUsers)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+i.length,e.listData=1===e.page?i:[].concat((0,d.default)(e.listData),(0,d.default)(i)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},setDefaultValue:function(){this.selItems=this.defaultValue?(0,i.default)({},this.defaultValue,{userId:this.defaultValue.handler,nickname:this.defaultValue.handlerName,group:this.defaultValue.handlerUnitName,role:this.defaultValue.handlerRoleName}):{},this.group=this.selItems.handlerUnitName,this.role=this.selItems.handlerRoleName,this.$route.query.transCode&&(this.getNewHandleORG(),this.getNewUserRole()),this.defaultORG(),this.defaultUserRole()},defaultORG:function(){var e=this;this.groupList=[],this.handleOrgList.forEach(function(t){e.groupList.push((0,i.default)({},t,{name:t.userGroupName,value:t.userGroupName}))})},defaultUserRole:function(){var e=this;this.roleList=[],this.userRoleList.forEach(function(t){e.roleList.push((0,i.default)({},t,{name:t.userGroupName,value:t.userGroupName}))})},getNewHandleORG:function(){var e=this;return(0,p.getGroupByUserId)(this.selItems.userId).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;e.isSetInitial&&(e.group=""),e.groupList=[],n.forEach(function(t){e.groupList.push((0,i.default)({},t,{name:t.userGroupName,value:t.userGroupName}))}),n.length&&e.isSetInitial&&(e.group=n[0].userGroupName,e.selItems.handlerUnit=n[0].userGroupId)})},getNewUserRole:function(){var e=this;return(0,p.getRoleByUserId)(this.selItems.userId).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;e.isSetInitial&&(e.role=""),e.roleList=[],n.forEach(function(t){e.roleList.push((0,i.default)({},t,{name:t.userGroupName,value:t.userGroupName}))}),n.length&&e.isSetInitial&&(e.role=n[0].userGroupName,e.selItems.handlerRole=n[0].userGroupId)})}},created:function(){this.getlistUsers(),this.setDefaultValue()}}},PwMs:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("IHPB"),s=n(o),l=a("3cXf"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),h=n(f),m=a("+62G"),v=n(m),p=a("6q39"),C=n(p),y=a("HyXB"),_=a("1KNX"),g=n(_),b=a("7biW"),w=n(b);t.default={name:"PopManagerList",props:{title:{type:String,default:"任务名称"},defaultValue:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1},requestParams:{type:Object,default:function(){return{}}}},directives:{TransferDom:v.default},components:{Icon:c.default,Popup:h.default,RScroll:g.default,DSearch:w.default,LoadMore:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},computed:{tip:function(){var e="加载中";return this.hasNext||(e="暂无数据"),e}},watch:{defaultValue:function(e){this.setDefaultValue()},requestParams:{handler:function(){this.getList()},deep:!0,immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this.getList()},showSelIcon:function(e){return this.selItems.taskId===e.taskId},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.$emit("sel-item",(0,d.default)(this.selItems))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getList:function(){var e=this,t=[];this.srhInpTx&&(t=[].concat((0,s.default)(t),[{operator:"like",value:this.srhInpTx,property:"dealerName"}]));var a=(0,i.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,d.default)(t)},this.requestParams.data);return(0,y.requestData)({url:this.requestParams.url,data:a}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+i.length,e.listData=1===e.page?i:[].concat((0,s.default)(e.listData),(0,s.default)(i)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.selItems=this.defaultValue?(0,i.default)({},this.defaultValue):{}},warehouseClick:function(){this.disabled||(this.showPop=!this.showPop)},addWarehouse:function(){this.$router.push({path:"/warehouse/edit_warehouse",query:{add:1}})}},created:function(){this.setDefaultValue(),this.disabled}}},Px8X:function(e,t,a){"use strict";function n(e){a("OJK9")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("q4Rk");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("ansf"),s=a.n(o),l=a("fWhy"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-73eab358",null);t.default=c.exports},PzEQ:function(e,t,a){"use strict";function n(e){a("Ae17")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("8bUL");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("Ac7F"),s=a.n(o),l=a("sYiH"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,null,null);t.default=c.exports},PzqF:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_content"},e._l(e.costList,function(t,n){return a("div",{key:n,staticClass:"main_content"},e._l(e.matterConfig,function(n,r){return a("div",{key:r,class:{"vux-1px-t":r>0}},[a("div",{staticClass:"each_info"},[a("label",[e._v(e._s(n.text))]),e._v(" "),a("span",{staticClass:"field_value"},[e._v(e._s(t[n.fieldCode]))])])])}),0)}),0),e._v(" "),a("div",{staticClass:"comment"},[a("form-cell",{attrs:{cellTitle:"备注",cellContent:e.orderInfo.biComment}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[],i={render:n,staticRenderFns:r};t.a=i},"Q/3e":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages xmlx-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList,"status-data":e.currentStage,requiredField:"nickname",processStatus:e.formData.biProcessStatus},on:{"sel-item":e.selItem},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},e._l(e.otherConfig,function(t,n){return a("div",{key:n,class:{"vux-1px-t":n>0}},["projectManagerName"===t.fieldCode?[a("pop-manager-list",{staticClass:"vux-1px-t",attrs:{requestParams:t.requestParams,defaultValue:e.defaultManager},on:{"sel-item":e.selManager}})]:["r2Combo"===t.xtype||"r2Selector"===t.xtype?a("r-picker",{attrs:{title:t.fieldLabel,data:t.remoteData,value:e.ProjectApproval[t.fieldCode],required:!t.allowBlank},model:{value:e.ProjectApproval[t.fieldCode],callback:function(a){e.$set(e.ProjectApproval,t.fieldCode,a)},expression:"ProjectApproval[item.fieldCode]"}}):e._e(),e._v(" "),"r2Textfield"===t.xtype?a("div",{staticClass:"each_property"},[a("label",{class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.ProjectApproval[t.fieldCode],expression:"ProjectApproval[item.fieldCode]"}],staticClass:"property_val",attrs:{type:"text",placeholder:"请输入"},domProps:{value:e.ProjectApproval[t.fieldCode]},on:{focus:function(t){e.getFocus(t)},input:function(a){a.target.composing||e.$set(e.ProjectApproval,t.fieldCode,a.target.value)}}})]):e._e(),e._v(" "),"r2Numberfield"===t.xtype?a("div",{staticClass:"each_property "},[a("label",{class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.ProjectApproval[t.fieldCode],expression:"ProjectApproval[item.fieldCode]",modifiers:{number:!0}}],staticClass:"property_val",attrs:{type:"number",placeholder:"请输入"},domProps:{value:e.ProjectApproval[t.fieldCode]},on:{focus:function(t){e.getFocus(t)},input:function(a){a.target.composing||e.$set(e.ProjectApproval,t.fieldCode,e._n(a.target.value))},blur:function(t){e.$forceUpdate()}}})]):e._e(),e._v(" "),"r2Datefield"===t.xtype?a("div",{staticClass:"each_property",on:{click:function(a){e.getDate(e.ProjectApproval,t)}}},[a("label",{class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))]),e._v(" "),a("div",{staticClass:"picker"},[a("span",{staticClass:"mater_nature"},[e._v(e._s(e.ProjectApproval[t.fieldCode]||"请选择"))]),e._v(" "),a("span",{staticClass:"icon-right"})])]):e._e(),e._v(" "),"r2TextArea"===t.xtype?a("x-textarea",{attrs:{max:100},model:{value:e.ProjectApproval[t.fieldCode],callback:function(a){e.$set(e.ProjectApproval,t.fieldCode,a)},expression:"ProjectApproval[item.fieldCode]"}},[a("template",{slot:"label"},[a("span",{class:{required:!t.allowBlank},staticStyle:{display:"block",width:"4em"}},[e._v(e._s(t.fieldLabel))])])],2):e._e()]],2)}),0),e._v(" "),a("div",{staticClass:"comment"},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1)]),e._v(" "),a("op-button",{attrs:{hide:e.btnIsHide},on:{"on-submit":e.save}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},"Q1+2":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{"no-count":"",noPrice:"",item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},Q1nv:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper xsck-detail-container"},[e.orderInfo&&e.orderInfo.outPut?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.contactInfo,configs:e.dealerConfig}}),e._v(" "),a("warehouse-content",{attrs:{"warehouse-config":e.warehouseConfig}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"order-list":e.orderList,"order-title":e.orderTitle},on:{"on-show-more":e.onShowMore}}),e._v(" "),a("other-part",{attrs:{"other-info":e.orderInfo,amt:e.noTaxAmount,"tax-amt":e.taxAmount,count:e.count,attachment:e.attachment}}),e._v(" "),a("pop-matter-detail",{attrs:{show:e.showMatterDetail,item:e.matterDetail},model:{value:e.showMatterDetail,callback:function(t){e.showMatterDetail=t},expression:"showMatterDetail"}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[],i={render:n,staticRenderFns:r};t.a=i},Q1rT:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2362,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"成品名称",value:"inventoryName_transObjCode"}]}},mixins:[r.default]}},"Q3S/":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages xsbj-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{"dealer-label-name":"客户,原厂供应商,经销供应商,设施供应商,员工",dealerTitle:"往来",defaultValue:e.dealerInfo,defaultContact:e.contact},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),e._l(e.CostList,function(t,n){return a("div",{key:n,staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"资金账户"+(n+1)}},[a("cell",{attrs:{title:"资金账户名称","is-link":""},nativeOn:{click:function(a){e.getCost(n,t)}},model:{value:t.cashName,callback:function(a){e.$set(t,"cashName",a)},expression:"item.cashName"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("资金账户名称\n              ")])])],2),e._v(" "),a("cell",{attrs:{title:"资金账户大类",value:t.cashType_cashOutCode}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("资金账户大类")])])],2),e._v(" "),a("x-input",{attrs:{title:"支付金额","text-align":"right",placeholder:"请填写",type:"number"},on:{"on-focus":function(t){e.getFocus(t)},"on-blur":function(a){e.checkAmt(t)}},model:{value:t.tdAmount,callback:function(a){e.$set(t,"tdAmount",e._n(a))},expression:"item.tdAmount"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("支付金额\n              ")])])],2)],1)],1)}),e._v(" "),a("div",{staticClass:"add_more"},[e._v("\n        您还需要添加新的报销?请点击\n        "),a("span",{staticClass:"add",on:{click:e.addCost}},[e._v("新增")]),e._v(" "),a("em",{directives:[{name:"show",rawName:"v-show",value:e.CostList.length>1,expression:"CostList.length>1"}]},[e._v("或")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.CostList.length>1,expression:"CostList.length>1"}],staticClass:"delete",on:{click:e.deleteCost}},[e._v("删除")])]),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"其他信息"}},[a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-fund-list",{ref:"matter",attrs:{show:e.showCostPop,defaultValue:e.selectedCost},on:{"sel-matter":e.selMatter},model:{value:e.showCostPop,callback:function(t){e.showCostPop=t},expression:"showCostPop"}})],2)]),e._v(" "),a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num"},[a("span",{staticStyle:{fontSize:".14rem"}},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.totalAmount,3))+"\n    ")]),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"count_btn stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},Q67R:function(e,t,a){"use strict";function n(e){a("zoY/")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("D+/a");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("+h34"),s=a.n(o),l=a("z/PS"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-558406e2",null);t.default=c.exports},Q6Kg:function(e,t,a){"use strict";function n(e){a("1WEq")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("XquE");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("xwQh"),s=a.n(o),l=a("xdF7"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-77d7438b",null);t.default=c.exports},Q9fr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listViewID:2387,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"往来名称",value:"dealerName_dealerDebit"},{name:"设备名称",value:"facilityName_facilityObjCode"}]}},mixins:[r.default],methods:{},created:function(){}}},QBiQ:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper cpxq-detail-container"},[a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.userData,"order-info":e.userData}}),e._v(" "),a("div",{staticClass:"product"},[e._m(0),e._v(" "),a("form-cell",{attrs:{cellTitle:"员工",cellContent:e.userData.profileName||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"身份证号",cellContent:e.userData.idCard||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"紧急联系人",cellContent:e.userData.urgentContact||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"联系方式",cellContent:e.userData.profileContact||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"地址",cellContent:e.userData.profileAddress||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"学历",cellContent:e.userData.education||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"合同日期",cellContent:e.userData.contractPeriod||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"入职日期",cellContent:e._f("date")(e.userData.entryDate||"无")}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"备注",cellContent:e.userData.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}})],1)])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title"},[a("div",[a("span",{staticClass:"iconfont icon-mingxi1"}),e._v(" "),a("span",[e._v("员工信息")])])])}],i={render:n,staticRenderFns:r};t.a=i},QCfW:function(e,t){},QGXA:function(e,t,a){"use strict";function n(e){a("bIpd")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("0b8K");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("s9ep"),s=a.n(o),l=a("hRaJ"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-21d6731b",null);t.default=c.exports},QHLv:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getComplexExpenseReimbursement=t.getObjFundBalByType=t.getDraftBalance=t.getFundCashDiscount=t.getCashDiscount=t.getInputDraft=t.getPurchaseAgreementDeposit=t.getSupplierToPayDeposit=t.getPaySupplierArrearsDataSet=t.getEmployeeReserveFunds=t.getEmployeeBal=t.getObjFunds=t.getCostByGroupId=t.getProjectCostByGroupId=t.getCost=void 0;var r=a("4YfN"),i=n(r),o=a("GOq4"),s=n(o);t.getCost=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getCostAll",data:e})},t.getProjectCostByGroupId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getProjectCostByGroupId",data:e})},t.getCostByGroupId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getCostByGroupId",data:e})},t.getObjFunds=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getObjFunds",data:e})},t.getEmployeeBal=function(e){return s.default.ajax({url:"/H_roleplay-si/ds/getEmployeeBal",data:{limit:1,filter:e,refresh:!0}})},t.getEmployeeReserveFunds=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getEmployeeReserveFunds",data:(0,i.default)({_dc:Date.now()},e)})},t.getPaySupplierArrearsDataSet=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getPaySupplierArrearsDataSet",data:(0,i.default)({_dc:Date.now()},e)})},t.getSupplierToPayDeposit=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getSupplierToPayDeposit",data:(0,i.default)({_dc:Date.now()},e)})},t.getPurchaseAgreementDeposit=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getPurchaseAgreementDeposit",data:(0,i.default)({_dc:Date.now()},e)})},t.getInputDraft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getInputDraft",data:(0,i.default)({_dc:Date.now()},e)})},t.getCashDiscount=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getCashDiscount",data:(0,i.default)({_dc:Date.now()},e)})},t.getFundCashDiscount=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getFundCashDiscount",data:(0,i.default)({_dc:Date.now()},e)})},t.getDraftBalance=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getDraftBalance",data:(0,i.default)({_dc:Date.now()},e)})},t.getObjFundBalByType=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getObjFundBalByType",data:(0,i.default)({_dc:Date.now(),fundType:"其他资金,银行存款"},e)})},t.getComplexExpenseReimbursement=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getComplexExpenseReimbursement",data:(0,i.default)({_dc:Date.now()},e)})};t.default={}},QJnw:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,"default-contact":e.contactInfo,dealerTitle:"供应商","dealer-params":e.dealerParams},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("dealer-other-part",{attrs:{"dealer-config":e.dealerConfig,"dealer-info":e.dealerInfo},model:{value:e.dealerInfo,callback:function(t){e.dealerInfo=t},expression:"dealerInfo"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[Object.keys(e.orderList).length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n,r){return a("div",{key:n,staticClass:"each_mater",class:{"vux-1px-b":r<Object.keys(e.orderList).length-1}},[t.length?a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v(e._s(e.orderListTitle))]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]):e._e(),e._v(" "),e._l(t,function(t,r){return a("div",{key:r,class:{mater_delete:e.matterModifyClass}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass,config:e.matterEditConfig.property},on:{"on-modify":function(a){e.getMatterModify(t,r,n)}},nativeOn:{click:function(a){e.delClick(r,t)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[n.price&&n.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price)+"\n                      ")]),e._v(" "),a("div",[a("r-number",{attrs:{num:n.tdQty,checkAmt:e.checkAmt,max:n.qtyBal},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",t)},expression:"item.tdQty"}})],1)]):e._e()]}},{key:"editPart",fn:function(t){var i=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:i.price&&(i.tdQty||0===i.tdQty)&&!e.matterModifyClass,expression:"(item.price && (item.tdQty || item.tdQty === 0)) &&!matterModifyClass"}],staticClass:"edit-part vux-1px-l",on:{click:function(t){e.getMatterModify(i,r,n)}}},[a("span",{staticClass:"iconfont icon-bianji1"})])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(r,t)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)})],2)}),0)]:[a("div",{on:{click:function(t){e.showOrderPop=!e.showOrderPop}}},[a("div",{staticClass:"title"},[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择"+e._s(e.orderListTitle))]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多物料")])]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showOrderPop,config:e.matterPopConfig,"filter-list":e.filterList,"matter-params":e.matterParams,"default-value":e.matterList,orderTitle:e.matterPopOrderTitle},on:{"sel-matter":e.selMatter},model:{value:e.showOrderPop,callback:function(t){e.showOrderPop=t},expression:"showOrderPop"}})],2),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.facility,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,config:e.matterEditConfig},on:{"sel-confirm":e.selConfirm},model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num"},[a("span",{staticStyle:{fontSize:".14rem"}},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.tdAmount))+"\n      "),a("span",{staticClass:"taxAmount"},[e._v("[含税: ￥"+e._s(e._f("numberComma")(e.taxAmount))+"]")])]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},QMPH:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages sj-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart when-is-form"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,"dealer-params":e.dealerParams,defaultContact:e.contactInfo},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("div",{staticClass:"materiel_list"},[a("div",{staticClass:"mater_list"},[a("div",{staticClass:"each_mater"},[a("div",{staticClass:"userInp_mode"},[a("div",{staticClass:"title"},[e._v("商机明细")]),e._v(" "),a("group",{staticClass:"SJ_group",on:{"group-title-margin-top":function(e){}}},[e._l(e.otherConfig,function(t,n){return a("div",{key:n},["r2Textfield"===t.xtype?[a("x-input",{staticClass:"vux-1px-b",attrs:{"text-align":"right",placeholder:"请填写"},model:{value:e.formData[t.fieldCode],callback:function(a){e.$set(e.formData,t.fieldCode,a)},expression:"formData[item.fieldCode]"}},[a("template",{slot:"label"},[a("span",{class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))])])],2)]:e._e(),e._v(" "),"r2Permilfield"===t.xtype?[a("x-input",{staticClass:"vux-1px-b",attrs:{type:"number","text-align":"right",placeholder:"请填写"},on:{blur:e.checkAmt},model:{value:e.formData[t.fieldCode],callback:function(a){e.$set(e.formData,t.fieldCode,e._n(a))},expression:"formData[item.fieldCode]"}},[a("template",{slot:"label"},[a("span",{class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))])])],2)]:e._e(),e._v(" "),"r2Combo"===t.xtype||"r2MultiSelector"===t.xtype?["salesPerson"===t.fieldCode?a("pop-salesman-list",{attrs:{title:"销售人员","dealer-label-name":"员工",value:e.formData.salesPerson},model:{value:e.formData.salesPerson,callback:function(t){e.$set(e.formData,"salesPerson",t)},expression:"formData.salesPerson"}}):a("popup-picker",{staticClass:"vux-1px-t",attrs:{data:t.remoteData,placeholder:"请选择",columns:1},model:{value:e.formData[t.fieldCode],callback:function(a){e.$set(e.formData,t.fieldCode,a)},expression:"formData[item.fieldCode]"}},[a("template",{slot:"title"},[a("span",{class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))])])],2)]:e._e(),e._v(" "),"r2TextArea"===t.xtype?[a("x-textarea",{staticClass:"vux-1px-b",attrs:{max:200},model:{value:e.formData[t.fieldCode],callback:function(a){e.$set(e.formData,t.fieldCode,a)},expression:"formData[item.fieldCode]"}},[a("template",{slot:"label"},[a("span",{class:{required:!t.allowBlank},staticStyle:{"margin-right":".1rem"}},[e._v(e._s(t.fieldLabel))])])],2)]:e._e(),e._v(" "),"r2Datefield"===t.xtype?[a("datetime",{model:{value:e.formData[t.fieldCode],callback:function(a){e.$set(e.formData,t.fieldCode,a)},expression:"formData[item.fieldCode]"}},[a("template",{slot:"title"},[a("span",{class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))])])],2)]:e._e()],2)}),e._v(" "),a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],2)],1)])])]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},QMWr:function(e,t,a){"use strict";function n(e){a("WOdY")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("NLcr");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("PKjt"),s=a.n(o),l=a("NnKo"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-3b5f8cf8",null);t.default=c.exports},QRhw:function(e,t,a){"use strict";function n(e){a("ViVR")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a+8v");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("Kppu"),s=a.n(o),l=a("1Zeg"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-29c46839",null);t.default=c.exports},Qe9M:function(e,t){},Qesu:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("a3Yh"),s=n(o),l=a("PzEQ"),d=n(l),u=a("kNGm"),c=(n(u),a("jLp1")),f=a("HyXB"),h=a("bKg5"),m=n(h),v=a("PKHo"),p=n(v),C=a("Pkp+"),y=n(C),_=a("+WR7"),g=n(_),b=a("A/PN"),w=n(b),I=a("lsbD"),D=n(I),x=(a("zWMP"),a("Qg39"));t.default={mixins:[m.default,p.default],components:{RPicker:y.default,PopBaseinfo:g.default,XTextarea:d.default,PopJobList:w.default,OpButton:D.default},data:function(){return{listId:"630a9b96-f257-48b6-b0bc-fd64c455d92b",jobLog:{},formData:(0,s.default)({biComment:"",biProcessStatus:""},"biProcessStatus",""),defaultJob:{},hasDefault:!1}},computed:{projectType:function(){return this.jobLog.projectType}},methods:{checkAmt:function(e,t,a){this.jobLog[t]=(0,x.toFixed)(a,1)},save:function(){var e=this,t="";if(t=this.verifyData(this.otherConfig,this.jobLog))return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=c.saveJobLog;e.$route.query.transCode&&(t=f.update);var a={listId:e.listId,formData:{comment:{biComment:e.formData.biComment},baseinfo:(0,i.default)({id:"",handlerEntity:e.entity.dealerName},e.formData),jobLog:(0,i.default)({groupName:e.formData.groupName,roleName:e.formData.roleName,hourlyCost:"",jobLogId:"",logGroupCode:"",logRoleCode:"",missionCost:""},e.jobLog)},wfParam:null};e.saveData(t,a)}})},selJob:function(e){var t=JSON.parse(e);this.jobLog=(0,i.default)({},this.jobLog,{projectName:t.projectName,dealerName:t.dealerName,executor:t.executor,projectTaskName:t.taskName,projectTaskId:t.taskId})},getFormData:function(){var e=this;return(0,c.jobLog)(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a;e.hasDefault=!0,e.defaultJob={dealerName:n.jobLog.projectManager,dealerMobilePhone:n.jobLog.phoneNumber},n.jobLog.expectStartDate=e.changeDate(n.jobLog.expectStartDate),n.jobLog.expectEndDate=e.changeDate(n.jobLog.expectEndDate),e.jobLog=n.jobLog,e.$nextTick(function(){e.hasDefault=!1}),e.handlerDefault={handler:n.baseinfo.handler,handlerName:n.baseinfo.handlerName,handlerUnit:n.baseinfo.handlerUnit,handlerUnitName:n.baseinfo.handlerUnitName,handlerRole:n.baseinfo.handlerRole,handlerRoleName:n.baseinfo.handlerRoleName},e.formData=(0,i.default)({},e.formData,e.handlerDefault,{biComment:n.comment.biComment,id:n.baseinfo.id,biProcessStatus:n.baseinfo.biProcessStatus,creator:n.baseinfo.creator,modifer:n.baseinfo.modifer,handlerEntity:n.baseinfo.handlerEntity}),e.biReferenceId=n.biReferenceId,e.$loading.hide()})},hasDraftData:function(){return!!(this.jobLog.projectName||this.jobLog.projectType||this.jobLog.projectManagerName)&&(0,s.default)({},"XMLX_DATA",{jobLog:this.jobLog,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("XMLX_DATA");if(e){var t=JSON.parse(e);this.jobLog=t.jobLog,this.formData=t.formData,this.defaultJob={dealerName:this.jobLog.projectManager,dealerMobilePhone:this.jobLog.phoneNumber},sessionStorage.removeItem("XMLX_DATA")}}}},QfFO:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("r-popup",{attrs:{show:e.showPop,data:e.listData,options:e.scrollOptions,"has-next":e.hasNext,"default-value":e.defaultValue,"judge-keys":["draftNumber"],multipart:""},on:{"on-pulling-up":e.onPullingUp,"on-select":e.selItem,"on-search":e.searchList},scopedSlots:e._u([{key:"pop-item",fn:function(t){var n=t.item;return[a("div",{staticClass:"top"},[a("span",{staticClass:"name"},[e._v(e._s(n.accepter))]),e._v(" "),a("span",{staticClass:"label"},[e._v(e._s(n.draftType))])]),e._v(" "),a("div",{staticClass:"amt"},[a("span",[e._v("汇票号: "+e._s(n.draftNumber))]),e._v(" "),e._t("amount",[a("span",[e._v("金额: "+e._s(e._f("numberComma")(n.tdAmount)))])],{item:n})],2),e._v(" "),a("div",{staticClass:"amt"},[a("span",[e._v("出票日: "+e._s(e._f("dateFormat")(n.draftDate,"YYYY-MM-DD")))]),e._v(" "),a("span",[e._v("到期日: "+e._s(e._f("dateFormat")(n.draftDueDate,"YYYY-MM-DD")))])])]}}]),model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}})},r=[],i={render:n,staticRenderFns:r};t.a=i},QfO0:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"popup-header",props:{leftText:String,rightText:String,title:String,showBottomBorder:{type:Boolean,default:!0}}}},Qg39:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.toFixed=a("2KqP").default;t.default={toFixed:n}},QifJ:function(e,t,a){"use strict";function n(e){a("yREp")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("hz6K");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("NINi"),s=a.n(o),l=a("Xzit"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-4045788e",null);t.default=c.exports},QpJ3:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper cpxq-detail-container"},[a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.userData,"order-info":e.userData}}),e._v(" "),a("div",{staticClass:"product"},[e._m(0),e._v(" "),a("form-cell",{attrs:{cellTitle:"员工",cellContent:e.userData.hiresName}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"部门",cellContent:e.userData.hiresDepartMent||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"岗位",cellContent:e.userData.hiresPost||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"体检日期",cellContent:e.userData.examinationDate||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"备注",cellContent:e.userData.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}})],1)])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title"},[a("div",[a("span",{staticClass:"iconfont icon-mingxi1"}),e._v(" "),a("span",[e._v("员工信息")])])])}],i={render:n,staticRenderFns:r};t.a=i},QpJC:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"r-dropdown",on:{click:function(t){return t.stopPropagation(),e.dropClick(t)}}},[a("div",{staticClass:"r-dropdown-value"},[a("span",{staticClass:"value"},[e._v(e._s(e.selItem.name))]),e._v(" "),a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-arrow-down",class:{"arrow-up":e.showDrop},attrs:{type:"ios-arrow-down",size:"14",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M396.6 160l19.4 20.7L256 352 96 180.7l19.3-20.7L256 310.5z"}})])]),e._v(" "),a("ul",{directives:[{name:"show",rawName:"v-show",value:e.showDrop,expression:"showDrop"}],staticClass:"r-dropdown-list"},e._l(e.list,function(t,n){return a("li",{key:n,staticClass:"r-dropdown-item",class:{"vux-1px-b":n!==e.list.length-1},on:{click:function(a){a.stopPropagation(),e.dropItemClick(t)}}},[a("span",[e._v(e._s(t.name))]),e._v(" "),a("icon",{directives:[{name:"show",rawName:"v-show",value:e.selItem.value===t.value,expression:"selItem.value === item.value"}],staticClass:"icon-selected",attrs:{type:"success-no-circle"}})],1)}),0)])},r=[],i={render:n,staticRenderFns:r};t.a=i},QrXF:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.inPut?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("warehouse-content",{attrs:{warehouse:e.warehouseIn}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"matter-list":e.matterList},on:{"on-show-more":e.onShowMore}}),e._v(" "),a("other-part",{attrs:{"other-info":e.orderInfo,attachment:e.attachment}}),e._v(" "),a("pop-matter-detail",{attrs:{show:e.showMatterDetail,item:e.matterDetail},model:{value:e.showMatterDetail,callback:function(t){e.showMatterDetail=t},expression:"showMatterDetail"}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[],i={render:n,staticRenderFns:r};t.a=i},"R/Ib":function(e,t){},R49o:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("MgeX"),i=n(r),o=a("a3Yh"),s=n(o),l=a("ZLEe"),d=n(l),u=a("HzJ8"),c=n(u),f=a("3cXf"),h=n(f),m=a("4YfN"),v=n(m),p=a("KH7x"),C=n(p),y=a("PzEQ"),_=n(y),g=a("kNGm"),b=n(g),w=a("0AQX"),I=a("HyXB"),D=a("bKg5"),x=n(D),P=a("y8YJ"),S=n(P),k=a("lsbD"),L=n(k),N=a("89pA"),M=n(N),T=a("+WR7"),A=n(T),O=a("7cdy"),R=n(O),j=a("hLfv"),B=n(j),E=a("Q67R"),F=n(E),U=a("zWMP"),$=a("Qg39");t.default={name:"ApplyXSCKForm",mixins:[x.default],components:{XTextarea:_.default,OpButton:L.default,PopBaseinfo:A.default,PopDealerList:S.default,PopWarehouseList:M.default,ApplyMatterPart:F.default,PopSodlProjectList:R.default,DealerOtherPart:B.default},data:function(){return{taxRate:.16,formViewUniqueId:"346ede09-ac6a-489a-9242-f385932a4443",modifyKey:null,modifyIndex:null,showMatterPop:!1,submitSuccess:!1,warehouse:{warehouseType:"一般部门仓",warehouseName:"成品仓",warehouseCode:"FG0001"},taskId:"",transCode:"",biReferenceId:"",actions:[],matterList:[],numMap:{},matter:{},project:{},orderList:{},dealerInfo:{},contactInfo:{},warehouseStoreInfo:{},formData:{drDealerLogisticsTerms:"",biComment:""}}},watch:{orderListTitle:function(e){e.includes("订单")?this.filterList=[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"订单编码",value:"transCode"}]:this.filterList=[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"}]}},methods:{selDealer:function(e){var t=JSON.parse(e),a=(0,C.default)(t,1),n=a[0],r=n.pamentDays,i=r?(0,b.default)(Date.now()+(0,U.accMul)(r,864e5),"YYYY-MM-DD"):"";this.dealerInfo=(0,v.default)({},n,{accountExpirationDate:i,daysOfAccount:n.pamentDays,drDealerPaymentTerm:n.paymentTerm,drDealerLogisticsTerms:n.dealerLogisticsTerms}),this.matterParams.data&&null!=this.matterParams.data.dealerCode&&(this.matterParams.data.dealerCode=this.dealerInfo.dealerCode,this.matterList=[],this.orderList={})},selContact:function(e){this.contactInfo=(0,v.default)({},e)},selWarehouse:function(e){this.warehouse=JSON.parse(e),this.matterParams.data&&null!=this.matterParams.data.whCode&&(this.matterParams.data.whCode=this.warehouse.warehouseCode,this.matterList=[],this.orderList={})},getStore:function(e){console.log(e),this.warehouseStoreInfo=(0,v.default)({},e),this.matterParams.data&&null!=this.matterParams.data.storehouseCode&&(this.matterParams.data.storehouseCode=this.warehouseStoreInfo.warehouseCode,this.matterList=[],this.orderList={})},getMatterModify:function(e,t,a){this.matter=JSON.parse((0,h.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.inventoryCode!==e.inventoryCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getMatter:function(){if(!this.dealerInfo.dealerCode)return void this.$vux.alert.show({content:"请选择客户"});this.showMaterielPop=!this.showMaterielPop},selMatter:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){var a=!0,r=!1,i=void 0;try{for(var o,s=(0,c.default)(t.matterEditConfig.editPart);!(a=(o=s.next()).done);a=!0){var l=o.value;if("break"===function(t){if("assMeasureUnit"===t.fieldCode){var a={url:t.dataSource.data.url,data:{inventoryCode:e.inventoryCode}};return(0,I.requestData)(a).then(function(e){var a=e.tableContent,n=void 0===a?[]:a;n.forEach(function(e){e.name=e.invSubUnitName,e.value=e.invSubUnitName}),t.remoteData=n}),"break"}}(l))break}}catch(e){r=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(r)throw i}}for(var d in t.dataIndexMap)e[d]="promDeliTime"===d?(0,b.default)(e[t.dataIndexMap[d]],"YYYY-MM-DD")||"":e[d]||e[t.dataIndexMap[d]];e.transCode?(n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e),console.log(n)):(n.noCode||(n.noCode=[]),n.noCode.push(e))}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t,a){var n=this.selItems,r=null;if(-1!==(r=e.transCode?n.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode}):n.findIndex(function(t){return t.inventoryCode===e.inventoryCode})))return void n.splice(r,1);n.push(e)},showSelIcon:function(e){return e.transCode?-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode}):-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,h.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,d.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(a.transCode){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],r=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});r>=0&&n.splice(r,1),n.length||delete e.orderList[t.transCode]}}else if(t.inventoryCode===a.inventoryCode){var i=e.orderList.noCode,o=i.findIndex(function(e){return e.inventoryCode===t.inventoryCode});o>=0&&i.splice(o,1),i.length||delete e.orderList.noCode}}),e.matterList.forEach(function(t,n){t.transCode?t.transCode===a.transCode&&t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--):t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},submitOrder:function(){var e=this,t="",a=[],n=[{key:"dealerInfo",childKey:"dealerCode",message:"客户信息"},{key:"dealerInfo",childKey:"paymentTerm",message:"结算方式"},{key:"warehouse",childKey:"warehouseCode",message:"仓库"},{key:"warehouseStoreInfo",childKey:"warehouseCode",message:"库位"}];t||n.every(function(a){return a.childKey&&!e[a.key][a.childKey]?(t="请选择"+a.message,!1):!!e[a.key]||(t="请选择"+a.message,!1)}),t||(0,d.default)(this.orderList).length||(t="请选择物料");var r=!0,o=!1,l=void 0;try{for(var u,f=(0,c.default)((0,i.default)(this.orderList));!(r=(u=f.next()).done);r=!0){var m=u.value,p=!0,C=!1,y=void 0;try{for(var _,g=(0,c.default)(m);!(p=(_=g.next()).done);p=!0){var b=_.value,w={},D=!0,x=!1,P=void 0;try{for(var S,k=(0,c.default)(this.submitMatterField);!(D=(S=k.next()).done);D=!0){var L=S.value;if(!L.hidden&&!L.allowBlank&&!b[L.fieldCode]){t=L.text+"不为空";break}w[L.fieldCode]=null!=b[L.fieldCode]?b[L.fieldCode]:null}}catch(e){x=!0,P=e}finally{try{!D&&k.return&&k.return()}finally{if(x)throw P}}a.push(w)}}catch(e){C=!0,y=e}finally{try{!p&&g.return&&g.return()}finally{if(C)throw y}}}}catch(e){o=!0,l=e}finally{try{!r&&f.return&&f.return()}finally{if(o)throw l}}if(t)return void this.$vux.alert.show({content:t});console.log(a),this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=I.saveAndStartWf,n={},r=(0,s.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});n=(0,v.default)({},e.formData,{modifer:e.transCode?e.formData.handler:"",dealerDebitContactPersonName:e.contactInfo.dealerName||"",dealerDebitContactInformation:e.contactInfo.dealerMobilePhone||"",containerOutWarehouseManager:e.warehouse.containerOutWarehouseManager||null,handlerEntity:e.entity.dealerName,drDealerLogisticsTerms:e.dealerInfo.dealerLogisticsTerms,outPut:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName||"客户",drDealerPaymentTerm:e.dealerInfo.paymentTerm,daysOfAccount:e.dealerInfo.pamentDays,accountExpirationDate:e.dealerInfo.accountExpirationDate,containerCodeOut:e.warehouse.warehouseCode,project:e.project.projectName||null,departmentName:e.formData.handlerUnitName,storehouseOutCode:e.warehouseStoreInfo.warehouseCode,dataSet:a}}),e.transCode&&(t=I.saveAndCommitTask,r={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,h.default)(n),wfPara:(0,h.default)(r)};e.transCode||delete i.biReferenceId,e.processCode.length||(t=I.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,w.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,s=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=s;var l={},d=i.outPut,u=d.dataSet,f=void 0===u?[]:u,h=!0,m=!1,p=void 0;try{for(var C,y=(0,c.default)(f);!(h=(C=y.next()).done);h=!0){var _=C.value;_.transCode=_.transMatchedCode,_.qtyBal=_.thenQtyBal,_.qtyStockBal=_.thenQtyStock,_.inventoryPic=_.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),_.inventoryName=_.inventoryName_outPutMatCode,_.inventoryCode=_.outPutMatCode,_.specification=_.specification_outPutMatCode,_.processing=_.tdProcessing,_.qty=_.thenTotalQtyBal,_.stockQty=_.thenLockQty,_.clientInventoryName=_.dealerInventoryName,_.clientInventoryCode=_.dealerInventoryCode,l[_.transCode]||(l[_.transCode]=[]),l[_.transCode].push(_)}}catch(e){m=!0,p=e}finally{try{!h&&y.return&&y.return()}finally{if(m)throw p}}e.matterList=f,e.dealerInfo={creatorName:i.dealerDebitContactPersonName,dealerName:d.dealerName_dealerDebit,dealerMobilePhone:i.dealerDebitContactInformation,dealerCode:d.dealerDebit,dealerLabelName:d.drDealerLabel,province:d.province_dealerDebit,city:d.city_dealerDebit,county:d.county_dealerDebit,address:d.address_dealerDebit,paymentTerm:d.drDealerPaymentTerm,drDealerPaymentTerm:d.drDealerPaymentTerm,dealerLogisticsTerms:i.drDealerLogisticsTerms,drDealerLogisticsTerms:i.drDealerLogisticsTerms,pamentDays:d.daysOfAccount,daysOfAccount:d.daysOfAccount,accountExpirationDate:d.accountExpirationDate},e.contactInfo={dealerName:i.dealerDebitContactPersonName,dealerMobilePhone:i.dealerDebitContactInformation},e.warehouse={warehouseCode:d.containerCodeOut,warehouseName:d.warehouseName_containerCodeOut,warehouseType:d.warehouseType_containerCodeOut,warehouseProvince:d.warehouseProvince_containerCodeOut,warehouseCity:d.warehouseCity_containerCodeOut,warehouseDistrict:d.warehouseDistrict_containerCodeOut,warehouseAddress:d.warehouseAddress_containerCodeOut,containerOutWarehouseManager:i.containerOutWarehouseManager},e.warehouseStoreInfo={warehouseCode:d.storehouseOutCode,warehouseName:d.warehouseName_storehouseOutCode,warehouseType:d.warehouseType_storehouseOutCode,warehouseProvince:d.warehouseProvince_storehouseOutCode,warehouseCity:d.warehouseCity_storehouseOutCode,warehouseDistrict:d.warehouseDistrict_storehouseOutCode,warehouseAddress:d.warehouseAddress_storehouseOutCode},e.matterParams.data&&(null!=e.matterParams.data.dealerCode&&(e.matterParams.data.dealerCode=e.dealerInfo.dealerCode),null!=e.matterParams.data.storehouseCode&&(e.matterParams.data.storehouseCode=e.warehouseStoreInfo.warehouseCode)),e.handlerDefault={handler:i.handler,handlerName:i.handlerName,handlerUnit:i.handlerUnit,handlerUnitName:i.handlerUnitName,handlerRole:i.handlerRole,handlerRoleName:i.handlerRoleName},e.formData=(0,v.default)({},e.formData,e.handlerDefault,{biComment:i.biComment,biId:i.biId,biProcessStatus:i.biProcessStatus,creator:i.creator,modifer:i.modifer,drDealerLogisticsTerms:i.drDealerLogisticsTerms}),e.project={projectName:d.project},e.biReferenceId=i.biReferenceId,e.orderList=l,e.$loading.hide()})},hasDraftData:function(){return!!(0,i.default)(this.orderList).length&&(0,s.default)({},"XSCK_DATA",{orderList:this.orderList,warehouse:this.warehouse,dealerInfo:this.dealerInfo,contactInfo:this.contactInfo,formData:this.formData,project:this.project,warehouseStoreInfo:this.warehouseStoreInfo,matterParams:this.matterParams})},checkAmt:function(e,t,a){console.log("item:",e);e.thenQtyStock;e[t]=Math.abs((0,$.toFixed)(a))}},created:function(){var e=sessionStorage.getItem("XSCK_DATA");if(e){var t=JSON.parse(e);this.orderList=t.orderList;var a=!0,n=!1,r=void 0;try{for(var o,s=(0,c.default)((0,i.default)(this.orderList));!(a=(o=s.next()).done);a=!0){var l=o.value,d=!0,u=!1,f=void 0;try{for(var h,m=(0,c.default)(l);!(d=(h=m.next()).done);d=!0){var v=h.value;this.matterList.push(v)}}catch(e){u=!0,f=e}finally{try{!d&&m.return&&m.return()}finally{if(u)throw f}}}}catch(e){n=!0,r=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw r}}this.warehouse=t.warehouse,this.dealerInfo=t.dealerInfo,this.contactInfo=t.contactInfo,this.formData=t.formData,this.warehouseStoreInfo=t.warehouseStoreInfo,this.project=t.project,this.matterParams=t.matterParams,sessionStorage.removeItem("XSCK_DATA")}}}},REWi:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("rVsN"),i=n(r),o=a("KH7x"),s=n(o),l=a("Q+Ik"),d=n(l),u=a("4YfN"),c=n(u),f=a("Nk/b"),h=n(f),m=a("7g+Q"),v=n(m),p=a("z5TY"),C=n(p),y=a("vl8n"),_=n(y),g=a("PKHo"),b=n(g),w=a("XAqG"),I=a("5gKc"),D=n(I),x=a("WGJW"),P=n(x),S=a("1KNX"),k=n(S);t.default={name:"ApplyUserForm",data:function(){return{genderList:[{name:"男",value:"男",key:1},{name:"女",value:"女",key:0}],userTypeList:[{name:"长期有效",value:"长期有效",key:1},{name:"临时账户",value:"临时账户",key:0}],statusList:[{name:"使用中",value:"使用中",key:1},{name:"草稿",value:"草稿",key:3},{name:"停用",value:"停用",key:-1},{name:"未使用",value:"未使用",key:2}],codeReadOnly:!1,userData:{email:"",entityId:"",entityName:"",gender:"男",mobile:"",nickname:"",officePhone:"",photo:"",status:"使用中",termOfValidity:"",userCode:"",userType:"长期有效"},showDate:!1,PhoneWarn:!1,MobileWarn:!1,EmailWarn:!1,userCodeWarn:!1,colId:"",company:{},companyParams:{target:4}}},mixins:[b.default],components:{Picker:h.default,Popup:v.default,Group:C.default,RPicker:_.default,UploadImage:D.default,PopCompanyList:P.default,RScroll:k.default},methods:{onUpload:function(e){this.userData.photo="/H_roleplay-si/ds/download?width=128&height=128&url="+e.src},userTypeChange:function(e){"临时账户"===e&&(this.showDate=!0)},save:function(){var e=this,t={userCode:"工号",nickname:"姓名",mobile:"手机"};"临时账户"===this.userData.userType&&(t.termOfValidity="账户有效期"),t.entityName="公司";for(var a in this.userData)"string"==typeof this.userData[a]&&this.userData[a].indexOf(" ")>=0&&(this.userData[a]=this.userData[a].replace(/\s/g,""));var n=(0,c.default)({},this.userData),r=this.colId?w.updateUser:w.addUser,i="";if(this.userCodeWarn&&(i="工号已存在"),!i&&(0,d.default)(t).every(function(t){var a=(0,s.default)(t,2),n=a[0],r=a[1];return!!e.userData[n]||(i=r+"不能为空",!1)}),!i&&this.PhoneWarn&&(i="座机格式不正确"),!i&&this.EmailWarn&&(i="邮箱格式不正确"),i)return void this.$vux.alert.show({content:i});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=e.genderList.find(function(e){return e.value===n.gender}),a=e.userTypeList.find(function(e){return e.value===n.userType}),i=e.statusList.find(function(e){return e.value===n.status});n.gender=t.key,n.userType=a.key,n.status=i.key,console.log(n),r(n).then(function(t){e.$HandleLoad.hide();var a=t.success,n=void 0===a||a,i=t.message,o=void 0===i?"提交失败":i;n&&(o=r===w.addUser?"提交成功":"修改成功",e.$emit("change",!0)),e.$vux.alert.show({content:o,onHide:function(){n&&e.$router.go(-1)}})}).catch(function(t){e.$HandleLoad.hide()})}})},getDefaultImg:function(){this.userData.photo=a("CcG0")},selCompany:function(e){this.userData.entityName=e.groupName,this.userData.entityId=e.groupCode},getDate:function(){var e=this;this.$vux.datetime.show({confirmText:"确定",cancelText:"取消",value:this.userData.termOfValidity,onConfirm:function(t){e.userData.termOfValidity=t}})},checkPhone:function(){var e=/^0\d{2,3}-\d{7,8}$/;if(this.userData.officePhone.length>0&&!e.test(this.userData.officePhone))return void(this.PhoneWarn=!0);this.PhoneWarn=!1},checkMobile:function(){var e=/^[1][34578][0-9]{9}$/;if(this.userData.mobile.length>0&&!e.test(this.userData.mobile))return void(this.MobileWarn=!0);this.MobileWarn=!1},checkUserCode:function(){var e=this;(0,w.validateCode)(this.userData.userCode).then(function(t){var a=t.result,n=void 0===a?0:a;e.userCodeWarn=!1,n&&(e.userCodeWarn=!0,e.$vux.alert.show({content:"工号已存在"}))}).catch(function(t){e.userCodeWarn=!0})},checkEmail:function(){var e=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;if(this.userData.email.length>0&&!e.test(this.userData.email))return void(this.EmailWarn=!0);this.EmailWarn=!1},getFormData:function(){var e=this;return(0,w.getUserDetail)(this.colId).then(function(t){var a=t.tableContent,n=void 0===a?[]:a,r=(0,s.default)(n,1),i=r[0],o=void 0===i?{}:i,l=["女","男"],d=["","使用中","未使用","草稿"],u=["临时账户","长期有效"];o.gender=l[o.gender]||"未知",o.status=d[o.status]||"停用",o.userType=u[o.userType],"临时账户"===o.userType&&(e.showDate=!0),e.company={groupCode:o.entityId,groupName:o.entityName},e.userData=(0,c.default)({},e.userData,o),e.$loading.hide()})}},created:function(){var e=this;this.$loading.show();var t=this.$route.query.colId,a=void 0===t?"":t,n=[];a&&(this.colId=a,this.codeReadOnly=!0,n.push(this.getFormData())),i.default.all(n).then(function(){e.$loading.hide()})}}},REcT:function(e,t){},REuD:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("3cXf"),s=n(o),l=a("4YfN"),d=n(l),u=a("KH7x"),c=n(u),f=a("MgeX"),h=n(f),m=a("HzJ8"),v=n(m),p=a("BGNQ"),C=n(p),y=a("SAzG"),_=n(y),g=a("u28h"),b=n(g),w=a("PzEQ"),I=n(w),D=a("kNGm"),x=n(D),P=a("z5TY"),S=n(P),k=a("0AQX"),L=(a("I3vJ"),a("HyXB")),N=a("bKg5"),M=n(N),T=a("y8YJ"),A=n(T),O=a("Pb67"),R=n(O),j=a("89pA"),B=n(j),E=a("yt3/"),F=n(E),U=a("hLfv"),$=n(U),H=a("luHD"),V=n(H),q=a("VZtf"),Q=n(q),Y=a("vl8n"),X=n(Y),G=a("+WR7"),W=n(G),z=a("fCs9"),K=n(z),J=a("Q67R"),Z=n(J),ee=a("lsbD"),te=n(ee),ae=a("zWMP"),ne=a("Qg39");t.default={name:"ApplyCGRKForm",data:function(){return{orderList:{},showDealerPop:!1,dealerInfo:{},contactInfo:{},formData:{biId:"",biComment:""},submitSuccess:!1,showWarehousePop:!1,warehouse:{warehouseCode:"MA0001",warehouseName:"原料仓",warehouseType:"一般部门仓"},warehouseStoreInfo:{},taxRate:.16,transCode:"",formViewUniqueId:"fed81800-4c34-44a9-b517-c3fd9f2ab57d",biReferenceId:"",actions:[],taskId:"",matter:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"订单号",value:"transCode"}],numMap:{}}},computed:{matterList:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var r,i=(0,v.default)((0,h.default)(this.orderList));!(t=(r=i.next()).done);t=!0){var o=r.value,s=!0,l=!1,d=void 0;try{for(var u,c=(0,v.default)(o);!(s=(u=c.next()).done);s=!0){var f=u.value;e.push(f)}}catch(e){l=!0,d=e}finally{try{!s&&c.return&&c.return()}finally{if(l)throw d}}}}catch(e){a=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(a)throw n}}return e}},mixins:[M.default],components:{Cell:C.default,RDropdown:K.default,XInput:_.default,Group:S.default,XTextarea:I.default,Datetime:b.default,PopOrderList:R.default,RNumber:Q.default,PopDealerList:A.default,PopWarehouseList:B.default,PopSingleSelect:F.default,PopMatter:V.default,RPicker:X.default,PopBaseinfo:W.default,DealerOtherPart:$.default,ApplyMatterPart:Z.default,OpButton:te.default},methods:{selDealer:function(e){var t=JSON.parse(e),a=(0,c.default)(t,1),n=a[0],r=n.pamentDays,i=r?(0,x.default)(Date.now()+(0,ae.accMul)(r,864e5),"YYYY-MM-DD"):"";this.dealerInfo=(0,d.default)({},n,{accountExpirationDate:i,daysOfAccount:r,crDealerPaymentTerm:n.paymentTerm}),this.matterParams.data&&null!=this.matterParams.data.dealerCode&&(this.matterParams.data.dealerCode=this.dealerInfo.dealerCode,this.orderList={})},selContact:function(e){this.contactInfo=(0,d.default)({},e)},selWarehouse:function(e){this.warehouse=JSON.parse(e)},getStore:function(e){this.warehouseStoreInfo=(0,d.default)({},e)},getMatterModify:function(e,t,a){this.matter=JSON.parse((0,s.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selMatter:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){var a=e.transCode+"_"+e.inventoryCode,r=e.transCode?e.transCode:"noCode",i=t.numMap[a]||{},o=i.qualityQty,s=void 0===o?e.qtyBal:o,l=i.price,d=void 0===l?e.price:l,u=i.taxRate,c=void 0===u?e.taxRate:u,f=i.validUntil,h=void 0===f?e.validUntil:f,m=i.productionDate,v=void 0===m?(0,x.default)(e.productionDate,"YYYY-MM-DD"):m,p=i.thenQtyBal;void 0===p&&e.salesOutQty;e.tdQty=s,e.price=d,e.qualityQty=s,e.samplesQty=0,e.checkLossQty=0,e.lockQty=s,e.differenceNum=0,e.taxRate=c,e.productionDate=v,e.validUntil=h,e.tdProcessing=e.processing,e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null,n[r]||(n[r]=[]),n[r].push(e)}),this.orderList=n},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t)},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},findIndex:function(e,t){return e.findIndex(function(e){return e.inventoryCode===t.inventoryCode&&e.transCode===t.transCode})},delClick:function(e,t,a){var n=this.selItems,r=this.findIndex(n,e);if(-1!==r)return void n.splice(r,1);n.push(e)},showSelIcon:function(e){return-1!==this.findIndex(this.selItems,e)},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,s.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t={};e.matterList.filter(function(t,a){return-1===e.findIndex(e.selItems,t)}).forEach(function(e){var a=e.transCode?e.transCode:"noCode";t[a]||(t[a]=[]),t[a].push(e)}),e.orderList=t,e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=!0,t=!1,a=void 0;try{for(var n,r=(0,v.default)((0,h.default)(this.orderList));!(e=(n=r.next()).done);e=!0){var i=n.value,o=!0,s=!1,l=void 0;try{for(var u,c=(0,v.default)(i);!(o=(u=c.next()).done);o=!0){var f=u.value;this.numMap[f.transCode+"_"+f.inventoryCode]=(0,d.default)({},f)}}catch(e){s=!0,l=e}finally{try{!o&&c.return&&c.return()}finally{if(s)throw l}}}}catch(e){t=!0,a=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw a}}this.showMaterielPop=!this.showMaterielPop},checkDate:function(e,t){var a=new Date(t).getTime();e.validUntil=a?(0,x.default)(a+(0,ae.accMul)(e.keepingDays,864e5),"YYYY-MM-DD"):""},submitOrder:function(){var e=this,t="",a=[],n=[{key:"dealerInfo",childKey:"dealerCode",message:"供应商信息"},{key:"dealerInfo",childKey:"crDealerPaymentTerm",message:"结算方式"},{key:"warehouse",message:"仓库"},{key:"warehouseStoreInfo",childKey:"warehouseCode",message:"库位"}];if(t=this.validateSubmitVal(n),t||this.matterList.length||(t="请选择物料"),!t){var r=this.submitMatterField,o=!0,l=!1,u=void 0;try{for(var c,f=(0,v.default)((0,h.default)(this.orderList));!(o=(c=f.next()).done);o=!0){var m=c.value,p=!0,C=!1,y=void 0;try{for(var _,g=(0,v.default)(m);!(p=(_=g.next()).done);p=!0){var b=_.value,w={},I=!0,D=!1,x=void 0;try{for(var P,S=(0,v.default)(r);!(I=(P=S.next()).done);I=!0){var k=P.value,N=this.getMatterItemVal(b,k);if(!k.hidden&&!k.allowBlank&&!N){t=k.text+"不为空";break}w[k.fieldCode]=null!==N?void 0!==N?N:"":null}}catch(e){D=!0,x=e}finally{try{!I&&S.return&&S.return()}finally{if(D)throw x}}a.push(w)}}catch(e){C=!0,y=e}finally{try{!p&&g.return&&g.return()}finally{if(C)throw y}}}}catch(e){l=!0,u=e}finally{try{!o&&f.return&&f.return()}finally{if(l)throw u}}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=L.saveAndStartWf,n={},r=(0,i.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});n=(0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.formData.handler,modifer:e.formData.handler,dealerCreditContactPersonName:e.contactInfo.dealerName||"",dealerCreditContactInformation:e.contactInfo.dealerMobilePhone||"",containerInWarehouseManager:e.warehouse.containerInWarehouseManager||null,inPut:{dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName||"供应商",crDealerPaymentTerm:e.dealerInfo.crDealerPaymentTerm,daysOfAccount:e.dealerInfo.daysOfAccount,accountExpirationDate:e.dealerInfo.accountExpirationDate,containerCode:e.warehouse.warehouseCode,storehouseInCode:e.warehouseStoreInfo.warehouseCode,dataSet:a}}),e.transCode&&(t=L.saveAndCommitTask,r={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var o={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,s.default)(n),wfPara:(0,s.default)(r)};e.transCode||delete o.biReferenceId,e.processCode.length||(t=L.submitAndCalc,delete o.wfPara,delete o.biReferenceId),e.biReferenceId&&(o.biReferenceId=e.biReferenceId),e.saveData(t,o)}})},getFormData:function(){var e=this;return(0,k.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,s=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=s;var l=i.inPut,u=(i.dealerDebit,l.dataSet),c=void 0===u?[]:u,f={},h=e.submitMatterField,m=!0,p=!1,C=void 0;try{for(var y,_=(0,v.default)(c);!(m=(y=_.next()).done);m=!0){var g=y.value,b=!0,w=!1,I=void 0;try{for(var D,x=(0,v.default)(h);!(b=(D=x.next()).done);b=!0){var P=D.value,S=P.displayField||P.showFieldCode||P.fieldCode;"noTaxPrice"===P.fieldCode&&(S="noTaxPrice"),g[S]=g[P.fieldCode]}}catch(e){w=!0,I=e}finally{try{!b&&x.return&&x.return()}finally{if(w)throw I}}var k=g.transCode?g.transCode:"noCode";g.inventoryPic=g.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+g.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),g.specification=g.specification_transObjCode,g.measureUnit=g.measureUnit_transObjCode,f[k]||(f[k]=[]),f[k].push(g)}}catch(e){p=!0,C=e}finally{try{!m&&_.return&&_.return()}finally{if(p)throw C}}e.dealerInfo={creatorName:i.dealerCreditContactPersonName,dealerName:l.dealerName_dealerCodeCredit,dealerMobilePhone:i.dealerCreditContactInformation,dealerCode:l.dealerCode_dealerCodeCredit,dealerLabelName:l.crDealerLabel,province:l.province_dealerCodeCredit,city:l.city_dealerCodeCredit,county:l.county_dealerCodeCredit,address:l.address_dealerCodeCredit,accountExpirationDate:l.accountExpirationDate,crDealerPaymentTerm:l.crDealerPaymentTerm,daysOfAccount:l.daysOfAccount},e.contactInfo={dealerName:i.dealerCreditContactPersonName,dealerMobilePhone:i.dealerCreditContactInformation},e.warehouse={warehouseCode:l.containerCode,warehouseName:l.warehouseName_containerCode,warehouseType:l.warehouseType_containerCode,warehouseProvince:l.warehouseProvince_containerCode,warehouseCity:l.warehouseCity_containerCode,warehouseDistrict:l.warehouseDistrict_containerCode,warehouseAddress:l.warehouseAddress_containerCode,containerInWarehouseManager:l.containerInWarehouseManager},e.warehouseStoreInfo={warehouseCode:l.storehouseInCode,warehouseName:l.warehouseName_storehouseInCode,warehouseType:l.warehouseType_storehouseInCode,warehouseProvince:l.warehouseProvince_storehouseInCode,warehouseCity:l.warehouseCity_storehouseInCode,warehouseDistrict:l.warehouseDistrict_storehouseInCode,warehouseAddress:l.warehouseAddress_storehouseInCode},e.matterParams.data={dealerCode:e.dealerInfo.dealerCode},e.handlerDefault={handler:i.handler,handlerName:i.handlerName,handlerUnit:i.handlerUnit,handlerUnitName:i.handlerUnitName,handlerRole:i.handlerRole,handlerRoleName:i.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:i.biComment,biId:i.biId,biProcessStatus:i.biProcessStatus,creator:i.creator,modifer:i.modifer}),e.biReferenceId=i.biReferenceId,e.orderList=f,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,i.default)({},"CGRK_DATA",{orderList:this.orderList,dealer:this.dealerInfo,warehouse:this.warehouse,warehouseStoreInfo:this.warehouseStoreInfo,formData:this.formData,contactInfo:this.contactInfo})},getRelationData:function(){var e=this,t=this.$route.query.uniqueId;return(0,k.getSOList)({formViewUniqueId:t,transCode:this.relationKey}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r;t.attachment;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var s=o.order,l=(o.dealerDebit,s.dataSet),u=void 0===l?[]:l;u=u.map(function(t){return(0,d.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,transCode:e.relationKey,qtyBal:t.tdQty,tdQty:""})}),e.dealerInfo={creatorName:o.dealerDebitContactPersonName,dealerMobilePhone:o.dealerDebitContactInformation,dealerCode:o.order.dealerDebit,dealerSubclass:o.order.drAccountSub,dealerName:o.order.dealerName_dealerDebit,province:o.order.province_dealerDebit,city:o.order.city_dealerDebit,county:o.order.county_dealerDebit,address:o.order.address_dealerDebit,crDealerPaymentTerm:s.drDealerPaymentTerm},e.matterParams={dealerCode:e.dealerInfo.dealerCode},e.orderList=(0,i.default)({},e.relationKey,u),e.$loading.hide()})},moreUnitSelected:function(e){this.matter.assMeasureUnit=e.invSubUnitName,this.matter.assistQty=e.invSubUnitMulti},checkAmt:function(e,t,a){var n=e.qtyBal;switch(a=Math.abs((0,ne.toFixed)(a)),t){case"qualityQty":n&&a>n&&(a=n),e.tdQty=a}e[t]=a},calcMatter:function(e){var t=e.price,a=void 0===t?0:t,n=e.qualityQty,r=void 0===n?0:n,i=e.taxRate,o=void 0===i?0:i;e.tdQty=r,e.lockQty=r,e.assistQty=(0,ne.toFixed)((0,ae.accDiv)(r,e.assMeasureScale)),e.noTaxPrice=(0,ne.toFixed)((0,ae.accDiv)(a,(0,ae.accAdd)(1,o)),6),e.tdAmount=(0,ne.toFixed)((0,ae.accMul)(a,e.assistQty)),e.taxAmount=(0,ne.toFixed)((0,ae.accMul)(e.assistQty,o,e.noTaxPrice)),e.noTaxAmount=(0,ne.toFixed)((0,ae.accSub)(e.tdAmount,e.taxAmount))},getMatterItemVal:function(e,t){var a=["fieldCode","displayField","showFieldCode"],n="";return a.every(function(a){return!((n=e[t[a]])||0===n)}),n},validateSubmitVal:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a="";return t.every(function(t){return t.childKey&&!e[t.key][t.childKey]?(a="请选择"+t.message,!1):!!e[t.key]||(a="请选择"+t.message,!1)}),a}},created:function(){var e=sessionStorage.getItem("CGRK_DATA");if(e){var t=JSON.parse(e);this.orderList=t.orderList,this.dealerInfo=t.dealer,this.warehouse=t.warehouse,this.warehouseStoreInfo=t.warehouseStoreInfo,this.formData=t.formData,this.contactInfo=t.contactInfo,sessionStorage.removeItem("CGRK_DATA")}}}},RGJm:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("3cXf"),s=n(o),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),h=n(f),m=a("SAzG"),v=n(m),p=a("u28h"),C=n(p),y=a("PzEQ"),_=n(y),g=a("kNGm"),b=(n(g),a("jnZd")),w=n(b),I=(a("0AQX"),a("Z6x5")),D=a("HyXB"),x=a("bKg5"),P=n(x),S=a("vl8n"),k=n(S),L=a("+WR7"),N=n(L),M=a("iikc"),T=n(M);t.default={data:function(){return{listId:"da7f15cc-d2d7-11e8-b8ca-0279b2c6a380",formData:{biId:"",biComment:"",biProcessStatus:""},biReferenceId:"",MobileWarn:!1,idCardWarn:!1,groupList:[],roleList:[]}},components:{Cell:c.default,Group:h.default,XInput:v.default,Datetime:C.default,XTextarea:_.default,PopupPicker:w.default,RPicker:k.default,PopBaseinfo:N.default,PopSalesmanList:T.default},mixins:[P.default],methods:{getAllGroup:function(){var e=this;(0,I.getAllGroup)().then(function(t){var a=[];t.tableContent.forEach(function(e){a.push(e.groupName)}),e.groupList.push(a)})},getAllRoleInfo:function(){var e=this;(0,I.getAllRoleInfo)().then(function(t){var a=[];t.tableContent.forEach(function(e){a.push(e.roleName)}),e.roleList.push(a)})},submitOrder:function(){var e=this,t="",a=[{key:"turnoverName",message:"员工"}];if(t||a.every(function(a){return!!e.formData[a.key]||(t="请选择"+a.message,!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=D.saveAndStartWf,a=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,turnoverDepartMent:e.formData.turnoverDepartMent&&e.formData.turnoverDepartMent[0],turnoverPost:e.formData.turnoverPost&&e.formData.turnoverPost[0]}),n={listId:e.listId,biComment:"",formData:(0,s.default)(a)};e.isResubmit&&(t=D.saveAndCommitTask,n.biReferenceId=e.biReferenceId,n.wfPara=(0,s.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=D.submitAndCalc,delete n.wfPara,delete n.biReferenceId),e.biReferenceId&&(n.biReferenceId=e.biReferenceId),e.saveData(t,n)}})},hasDraftData:function(){var e=this.formData;if(e.profileName||e.idCard)return(0,i.default)({},"YGLZ_DATA",{formData:e})}},created:function(){this.getAllGroup(),this.getAllRoleInfo();var e=sessionStorage.getItem("YGLZ_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,sessionStorage.removeItem("YGLZ_DATA")}}}},RHLq:function(e,t){},RMtk:function(e,t,a){"use strict";function n(e){a("Oysh")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("PN9S");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("TDh+"),s=a.n(o),l=a("ZaIh"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-47982b74",null);t.default=c.exports},ROb1:function(e,t){},RPHI:function(e,t){},RPsT:function(e,t){},RPzs:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("KH7x"),i=n(r),o=a("3QQJ"),s=n(o);t.default={name:"TodoItem",props:{item:{type:Object,default:function(){return{}}},name:{type:String,default:""},noBorder:{type:Boolean,default:!1}},components:{Badge:s.default},data:function(){return{}},methods:{getDefaultImg:function(e){var t=a("CYNT");return e&&(e.pic=t),t}},filters:{handleCrt:function(e){if(e){var t=(0,i.default)(e,1),a=t[0],n=void 0===a?{}:a,r=n.duration,o=parseInt(r/3600),s=r-3600*o,l=Math.floor(s/60),d=s-60*l,u=(Math.round(d),void 0);return u=o>0?o+"小时前":0===l?"1分钟前":l+"分钟前",o<24?u:""+n.crtTime.split(" ")[0]}}}}},RROt:function(e,t){},RT32:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages gdrwqd-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList,showStatus:!1},on:{"sel-item":e.selItem}}),e._v(" "),a("div",{staticClass:"materiel_list work_list"},e._l(e.fundConfig,function(t,n){return a("div",{key:n,staticClass:"vux-1px-t"},[a("div",{staticClass:"each_property readOnly"},[a("label",{class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))]),e._v(" "),a("span",{staticClass:"property_val"},[e._v(e._s(e.workInfo[t.fieldCode]||e.workInfo[t.showFieldCode]||e.workInfo[t.displayField]||"无"))])])])}),0),e._v(" "),a("pop-work-start-list",{attrs:{show:e.showWorkPop,defaultValue:e.workInfo},on:{"sel-work":e.selWork},model:{value:e.showWorkPop,callback:function(t){e.showWorkPop=t},expression:"showWorkPop"}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.workInfo.whInCode,expression:"workInfo.whInCode"}],staticClass:"work_list warehouse "},[a("div",{staticClass:"user_info"},[a("span",{staticClass:"user_name"},[e._v(e._s(e.workInfo.wareName))]),e._v(" "),a("span",{staticClass:"user_tel"},[e._v(e._s(e.workInfo.whInCode))])]),e._v(" "),a("div",{staticClass:"cp_info"},[a("span",{staticClass:"icon-dealer-address"}),e._v(" "),a("span",{staticClass:"cp_ads"},[e._v("\n            "+e._s(e.workInfo.wareAddress)+"\n          ")])])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.bomList.length,expression:"bomList.length"}],staticClass:"materiel_list work_list"},[a("bom-list",{attrs:{boms:e.bomList},scopedSlots:e._u([{key:"specification",fn:function(t){var n=t.bom;return[a("div",{staticClass:"content-unit"},[a("span",[e._v("产品规格: "+e._s(n.specification))])])]}},{key:"number",fn:function(t){var n=t.bom;return[a("div",{staticClass:"number-part"},[a("span",{staticClass:"main-number"},[e._v("数量: "+e._s(n.tdQty||0)+e._s(n.measureUnit))]),e._v(" "),a("span",{staticClass:"number-unit"},[e._v("bom数量: "+e._s(n.qty))]),e._v(" "),a("span",{staticClass:"number-unit"},[e._v("损耗率: "+e._s(n.specificLoss))])])]}}])})],1),e._v(" "),a("div",{staticClass:"comment vux-1px-t"},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},RTBc:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("5YEj");t.default={data:function(){return{toggle:!1,chartList:["饼状","线性","柱状"],option:{},activeIndex:0,chart:null}},methods:{changeTip:function(e){this.activeIndex=e,0===e?this.option={title:{itemGap:20,top:20,x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",bottom:20,left:20,selectedMode:!1,data:["直接访问","邮件营销","联盟广告","视频广告","搜索引擎"]},series:[{name:"访问来源",type:"pie",radius:"50%",center:["40%","50%"],data:[{value:335,name:"直接访问"},{value:310,name:"邮件营销"},{value:234,name:"联盟广告"},{value:135,name:"视频广告"},{value:1548,name:"搜索引擎"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}:1===e?this.option={title:{text:"一天用电量分布",subtext:"纯属虚构",top:5,x:"center"},grid:{height:"10%"},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},xAxis:{type:"category",boundaryGap:!1,data:["00:00","01:15","02:30","03:45","05:00","06:15","07:30","08:45","10:00","11:15","12:30","13:45","15:00","16:15","17:30","18:45","20:00","21:15","22:30","23:45"]},yAxis:{type:"value",splitNumber:10,axisLabel:{margin:2,formatter:"{value} W"},axisPointer:{snap:!0}},visualMap:{show:!1,dimension:0,pieces:[{lte:6,color:"green"},{gt:6,lte:8,color:"red"},{gt:8,lte:14,color:"green"},{gt:14,lte:17,color:"red"},{gt:17,color:"green"}]},series:[{name:"用电量",type:"line",smooth:!0,data:[300,280,250,260,270,300,550,500,400,390,380,390,400,500,600,750,800,700,600,400]}]}:2===e&&(this.option={title:{text:"动态数据",subtext:"纯属虚构"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#283b56"}}},legend:{data:["最新成交价","预购队列"]},dataZoom:{show:!1,start:0,end:100},xAxis:[{type:"category",boundaryGap:!0,data:function(){for(var e=new Date,t=[],a=10;a--;)t.unshift(e.toLocaleTimeString().replace(/^\D*/,"")),e=new Date(e-2e3);return t}()},{type:"category",boundaryGap:!0,data:function(){for(var e=[],t=10;t--;)e.push(10-t-1);return e}()}],yAxis:[{type:"value",scale:!0,name:"价格",max:30,min:0,boundaryGap:[.2,.2]},{type:"value",scale:!0,name:"预购量",max:1200,min:0,boundaryGap:[.2,.2]}],series:[{name:"预购队列",type:"bar",xAxisIndex:1,yAxisIndex:1,data:function(){for(var e=[],t=10;t--;)e.push(Math.round(1e3*Math.random()));return e}()},{name:"最新成交价",type:"line",data:function(){for(var e=[],t=0;t<10;)e.push((10*Math.random()+5).toFixed(1)-0),t++;return e}()}]}),this.showPie()},showPie:function(){this.chart&&this.chart.clear(),this.chart=n.init(document.getElementById("main")),this.chart.setOption(this.option)}},mounted:function(){this.option={title:{},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{left:0,bottom:0,selectedMode:!1,data:["直接访问","邮件营销","联盟广告","视频广告","搜索引擎","其他"]},series:[{name:"访问来源",type:"pie",radius:"60%",labelLine:{},center:["50%","50%"],data:[{value:335,name:"直接访问"},{value:310,name:"邮件营销"},{value:234,name:"联盟广告"},{value:135,name:"视频广告"},{value:1548,name:"搜索引擎"},{value:100,name:"其他"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},this.showPie()}}},RXIz:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("IHPB"),i=n(r),o=a("+62G"),s=n(o),l=a("7g+Q"),d=n(l),u=a("z5TY"),c=n(u),f=a("HXPS"),h=n(f),m=a("d5Kw"),v=n(m),p=a("kNGm"),C=n(p),y=a("1KNX"),_=n(y),g=a("I8ug");t.default={name:"ChangeLog",props:{handle:{type:Boolean,default:!1}},data:function(){return{latestLog:{},changeLogList:[],listId:"a4897429-f4f2-44a4-ade7-2fe8dc67c3cf",popupShow:!1,page:1,limit:10,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},directives:{TransferDom:s.default},components:{Popup:d.default,Group:c.default,Icon:h.default,XButton:v.default,RScroll:_.default},filters:{handerTime:function(e){return(0,C.default)(e,"YYYY-MM-DD")}},methods:{getChangeList:function(){var e=this;return(0,g.getChangeLog)({listId:this.listId,limit:this.limit,page:this.page}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,o=void 0===r?[]:r;1===e.page&&(e.latestLog=o[0]),e.hasNext=n>(e.page-1)*e.limit+o.length,e.changeLogList=1===e.page?o:[].concat((0,i.default)(e.changeLogList),(0,i.default)(o)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},onPullingUp:function(){this.page++,this.getChangeList()},closePop:function(){this.popupShow=!1},onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},EditLog:function(){this.$router.push({path:"/appDetail/"+this.listId+"/addLog"})}},created:function(){var e=this.$route.params.listId;e&&(this.listId=e,this.getChangeList())}}},RXtI:function(e,t){},RZF6:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("kNGm"),i=(n(r),a("0AQX")),o=a("+VRO"),s=n(o),l=a("AupE"),d=n(l),u=a("BUFe"),c=n(u),f=a("bFc7"),h=n(f),m=a("3NX5"),v=n(m);t.default={data:function(){return{orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},uploadStyle:{width:"100%",padding:"0.06rem 0.1rem"}}},mixins:[s.default],components:{workFlow:d.default,RAction:c.default,contactPart:h.default,MatterList:v.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,i.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,s=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=s,e.orderInfo=i,e.contactInfo={dealerName:i.dealerName_launchDealerCode,dealerMobilePhone:i.dealerDebitContactInformation,dealerContactPersonName:i.dealerDebitContactPersonName},e.workFlowInfoHandler()})},goEdit:function(){var e=this.$route.params,t=e.folder,a=e.fileName,n=this.$route.query.name;this.$router.push({path:"/fillform/"+t+"/"+a,query:{name:n,transCode:this.transCode}})}}}},RZuk:function(e,t){},RbKA:function(e,t,a){"use strict";function n(e){a("M/t2")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("NvkL");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("STJc"),s=a.n(o),l=a("dsIq"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-5cfbe394",null);t.default=c.exports},RbVM:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("a3Yh"),s=n(o),l=a("3cXf"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),h=n(f),m=a("SAzG"),v=n(m),p=a("7g+Q"),C=n(p),y=a("PzEQ"),_=n(y),g=a("jnZd"),b=n(g),w=a("u28h"),I=n(w),D=a("kNGm"),x=n(D),P=a("0AQX"),S=a("HyXB"),k=(a("jLp1"),a("bKg5")),L=n(k),N=a("55ug"),M=n(N),T=a("wuIh"),A=n(T),O=a("vl8n"),R=n(O),j=a("+WR7"),B=n(j),E=a("zWMP"),F=a("Qg39");t.default={mixins:[L.default],components:{Cell:c.default,Group:h.default,Popup:C.default,XInput:v.default,XTextarea:_.default,PopupPicker:b.default,RPicker:R.default,PopBaseinfo:B.default,PopDealerList:M.default,PopMoneyOrderList:A.default,Datetime:I.default},data:function(){return{listId:"bb9ce973-2f62-4707-a54c-7e8605dc99d6",biReferenceId:"",selectedCost:[],costIndex:0,transCode:"",formData:{biComment:""},dealerInfo:{},showOrder:!1,orderList:[]}},computed:{thenTotalAmntBal:function(){var e=0;return this.orderList.forEach(function(t){t.tdAmount&&(e=(0,E.accAdd)(e,t.tdAmount))}),(0,F.toFixed)(e)}},methods:{submitOrder:function(){var e=this,t="",a=[],n=[{key:"draftNumber",message:"请选择协议号"},{key:"draftType",message:"请选择类型"},{key:"accepter",message:"请选择承兑人"},{key:"tdAmount",message:"请输入金额"},{key:"draftDate",message:"请选择出票日"},{key:"draftDueDate",message:"请选择到期日"},{key:"draftSellDate",message:"请选择出让日期"}];if(this.dealerInfo.dealerCode||(t="请选择往来"),t||this.orderList.length||(t="请选择汇票明细"),t||this.orderList.every(function(e){return n.every(function(a){return e[a.key]||0===e[a.key]||(t=a.message),!t}),a.push({tdId:e.tdId||"",draftNumber:e.draftNumber,draftType:e.draftType,accepter:e.accepter,tdAmount:e.tdAmount,draftDate:e.draftDate,draftDueDate:e.draftDueDate,draftSellDate:e.draftSellDate,comment:e.comment}),!t}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=S.saveAndStartWf,n=(0,s.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,d.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:e.formData.biComment,formData:(0,d.default)((0,i.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{dealerName_dealerDebit:e.dealerInfo.nickname,dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,thenAmntBal:e.dealerInfo.amntBal,thenTotalAmntBal:e.thenTotalAmntBal,dataSet:a}})),wfPara:(0,d.default)(n)};e.isResubmit&&(r.biReferenceId=e.biReferenceId,t=S.saveAndCommitTask),e.processCode.length||(t=S.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.attachment,n=void 0===a?[]:a,r=t.listId,o=void 0===r?"":r,s=(t.biComment,t.biReferenceId),l=void 0===s?"":s,d=t.formData,u=void 0===d?{}:d;e.attachment=n,e.listId=o,e.biReferenceId=l,e.handlerDefault={handler:u.handler,handlerName:u.handlerName,handlerUnit:u.handlerUnit,handlerUnitName:u.handlerUnitName,handlerRole:u.handlerRole,handlerRoleName:u.handlerRoleName},e.formData=(0,i.default)({},e.formData,e.handlerDefault,{biComment:u.biComment,biId:u.biId,biProcessStatus:u.biProcessStatus,creator:u.creator,modifer:u.modifer});var c=u.order,f=void 0===c?{}:c,h=f.dataSet,m=void 0===h?[]:h;e.dealerInfo={nickname:f.dealerName_dealerDebit,dealerCode:f.dealerDebit,dealerLabelName:f.drDealerLabel,amntBal:f.thenAmntBal},e.orderList=m,e.$loading.hide()})},hasDraftData:function(){return!!this.dealerInfo.dealerCode&&(0,s.default)({},"CRCDHP_DATA",{formData:this.formData,dealerInfo:this.dealerInfo,orderList:this.orderList})},getRelationData:function(){},selDealer:function(e){this.dealerInfo=(0,i.default)({},e)},selOrder:function(e){e.forEach(function(e){e.hasOrigin=!0,e.originAmt=e.tdAmount,e.draftDate=(0,x.default)(e.draftDate,"YYYY-MM-DD"),e.draftDueDate=(0,x.default)(e.draftDueDate,"YYYY-MM-DD")}),this.orderList=e},addOrder:function(){this.showOrder=!0},checkAmt:function(e,t){var a=e.hasOrigin,n=void 0!==a&&a,r=e.originAmt,i=void 0===r?0:r,o=e.tdAmount,s=void 0===o?0:o;n&&s>i&&(s=i),e.tdAmount=Math.abs((0,F.toFixed)(s))}},created:function(){var e=sessionStorage.getItem("CRCDHP_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.orderList=t.orderList,sessionStorage.removeItem("CRCDHP_DATA")}}}},Rct8:function(e,t){},Rg2x:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("BGNQ"),s=n(o),l=a("z5TY"),d=n(l),u=a("jLp1"),c=a("+VRO"),f=n(c);t.default={data:function(){return{projectPlan:{},comment:{},projectApproval:{}}},filters:{timeSplit:function(e){return e?e.split(" ")[0]:""}},mixins:[f.default],components:{Group:d.default,Cell:s.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u.findProjectPlan)(t).then(function(t){var a=t.formData,n=void 0===a?{}:a,r=t.attachment,o=void 0===r?[]:r;e.projectPlan=n.projectPlan,e.comment=n.comment,e.attachment=o,e.projectApproval=n.projectApproval,e.orderInfo=(0,i.default)({},n.baseinfo,{biStatus:"已生效"})})}},created:function(){}}},RkIG:function(e,t){},Rozl:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("3cXf"),s=n(o),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),h=n(f),m=a("+62G"),v=n(m),p=a("6q39"),C=n(p),y=a("vS5q"),_=a("1KNX"),g=n(_),b=a("7biW"),w=n(b);t.default={name:"PopWarehouseList",props:{title:{type:String,default:"仓库列表"},defaultValue:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1},isRequired:{type:Boolean,default:!1}},directives:{TransferDom:v.default},components:{Icon:c.default,Popup:h.default,RScroll:g.default,DSearch:w.default,LoadMore:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},showAddWarehouse:!1}},computed:{tip:function(){var e="加载中";return this.hasNext||(e="暂无数据"),e},noAddress:function(){var e=this.selItems,t=e.warehouseProvince,a=void 0===t?"":t,n=e.warehouseCity,r=void 0===n?"":n,i=e.warehouseDistrict,o=void 0===i?"":i,s=e.warehouseAddress,l=void 0===s?"":s;return!(a||r||o||l)}},watch:{defaultValue:function(e){this.setDefaultValue()}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1,this.$emit("on-hide")},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this.getList()},showSelIcon:function(e){return this.selItems.warehouseCode===e.warehouseCode},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.$emit("sel-item",this.selItems)},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"warehouseName"}])),(0,y.getWarehouse)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r;e.showAddWarehouse=e.srhInpTx&&0===i.length,e.hasNext=n>(e.page-1)*e.limit+i.length,e.listData=1===e.page?i:[].concat((0,d.default)(e.listData),(0,d.default)(i)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.selItems=this.defaultValue?(0,i.default)({},this.defaultValue):{}},warehouseClick:function(){this.disabled||(this.$emit("on-show"),this.showPop=!this.showPop)},addWarehouse:function(){this.$router.push({path:"/warehouse/edit_warehouse",query:{add:1}})}},created:function(){this.setDefaultValue(),this.disabled||this.getList()}}},RpJn:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("IHPB"),s=n(o),l=a("3cXf"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),h=n(f),m=a("+62G"),v=n(m),p=a("6q39"),C=n(p),y=a("HyXB"),_=a("1KNX"),g=n(_),b=a("7biW"),w=n(b);t.default={name:"PopManagerList",props:{defaultValue:{type:Object,default:function(){return{}}},show:{type:Boolean,default:!1}},directives:{TransferDom:v.default},components:{Icon:c.default,Popup:h.default,RScroll:g.default,DSearch:w.default,LoadMore:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},computed:{tip:function(){var e="加载中";return this.hasNext||(e="暂无数据"),e}},watch:{show:function(e){this.showPop=e},defaultValue:function(e){this.setDefaultValue()}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1,this.$emit("input",!1)},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this.getList()},showSelIcon:function(e){return this.selItems.dealerName===e.dealerName},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.$emit("sel-item",(0,d.default)(this.selItems))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,s.default)(t),[{operator:"like",value:this.srhInpTx,property:"dealerName"}])),(0,y.getObjDealerByLabelName)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,dealerLabelName:"员工",filter:(0,d.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+i.length,e.listData=1===e.page?i:[].concat((0,s.default)(e.listData),(0,s.default)(i)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.selItems=this.defaultValue?(0,i.default)({},this.defaultValue):{}}},created:function(){this.setDefaultValue(),this.getList()}}},RqGZ:function(e,t){},RsOv:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"materiel_ct_list"},[e.matterList.length?a("div",{staticClass:"mater_list"},[e._l(e.matterList,function(t,n){return e.showAllMatter||n<3?a("matter-item",{key:n,attrs:{item:t},on:{"on-show-more":function(a){e.onShowMore(t,n)}}}):e._e()}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.matterList.length>3&&!e.showAllMatter,expression:"matterList.length > 3 && !showAllMatter"}],staticClass:"matter-more-wrapper"},[a("div",{staticClass:"matter-more",on:{click:function(t){e.clickMore("")}}},[a("span",[e._v("查看更多商品")]),e._v(" "),a("i",{staticClass:"icon-filter-down"})])])],2):e._e(),e._v(" "),Object.keys(e.orderList).length?a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n,r){return a("div",{key:n,staticClass:"each_mater",class:{"vux-1px-t":r}},["undefined"!==n?a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v(e._s(e.orderTitle)+"：")]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n||"未查询到相关订单，请检查数据是否正确"))])]):e._e(),e._v(" "),a("div",{staticClass:"order_matter"},[e._l(t,function(t,r){return e.orderListMap[n]||r<3?a("matter-item",{key:r,attrs:{item:t},on:{"on-show-more":function(a){e.onShowMore(t,r,n)}}}):e._e()}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.length>3&&!e.orderListMap[n],expression:"oItem.length > 3 && !orderListMap[key]"}],staticClass:"matter-more-wrapper"},[a("div",{staticClass:"matter-more",on:{click:function(t){e.clickMore(n)}}},[a("span",[e._v("查看更多商品")]),e._v(" "),a("i",{staticClass:"icon-filter-down"})])])],2)])}),0):e._e()])},r=[],i={render:n,staticRenderFns:r};t.a=i},Rw15:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("kNGm"),s=n(o),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),h=a("AupE"),m=n(h),v=a("bFc7"),p=n(v),C=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",contactInfo:{}}},mixins:[u.default],components:{workFlow:m.default,RAction:f.default,contactPart:p.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=!0,r=!1,o=void 0;try{for(var l,d=(0,i.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;e.count=(0,C.accAdd)(e.count,u.tdAmount)}}catch(e){r=!0,o=e}finally{try{!n&&d.return&&d.return()}finally{if(r)throw o}}t.formData.validUntil=(0,s.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData;var c=e.orderInfo.order;e.contactInfo={creatorName:c.dealerDebitContactPersonName,dealerName:c.dealerName_dealerDebit,dealerMobilePhone:e.orderInfo.dealerDebitContactInformation,dealerContactPersonName:e.orderInfo.dealerDebitContactPersonName,dealerCode:c.dealerDebit,dealerLabelName:c.dealerName_dealerDebit,province:c.province_dealerDebit,city:c.city_dealerDebit,county:c.county_dealerDebit,address:c.address_dealerDebit},e.workFlowInfoHandler()})}}}},RxFs:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("kNGm"),i=(n(r),a("0AQX")),o=a("+VRO"),s=n(o);t.default={data:function(){return{userData:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},uploadStyle:{width:"100%",padding:"0.06rem 0.1rem"}}},mixins:[s.default],methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,i.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,s=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=s,e.userData=i,e.workFlowInfoHandler()})},goEdit:function(){var e=this.$route.params,t=e.folder,a=e.fileName,n=this.$route.query.name;this.$router.push({path:"/fillform/"+t+"/"+a,query:{name:n,transCode:this.transCode}})}}}},"Rxk/":function(e,t,a){"use strict";function n(e){a("dFfG")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("iMG+");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("SyAi"),s=a.n(o),l=a("bied"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-4d81a633",null);t.default=c.exports},RzhK:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("lC5x"),i=n(r),o=a("3cXf"),s=n(o),l=a("J0Oq"),d=n(l),u=a("KH7x"),c=n(u),f=a("Q+Ik"),h=n(f),m=a("4YfN"),v=n(m),p=a("ZLEe"),C=n(p),y=a("HzJ8"),_=n(y),g=a("Pkp+"),b=n(g),w=a("5gKc"),I=n(w),D=a("1KNX"),x=n(D),P=a("RbKA"),S=n(P),k=a("w5TH"),L=n(k),N=a("y8YJ"),M=n(N),T=a("BwHg"),A=n(T),O=a("PKHo"),R=n(O),j=a("I3vJ"),B=a("HyXB"),E=a("Qg39");t.default={data:function(){return{listId:"78a798f8-0f3a-4646-aa8b-d5bb1fada28c",biReferenceId:"",MatPic:"",picShow:!1,baseinfo:{handler:"",handlerName:"",handlerArea:"",handlerAreaName:"",handlerUnit:"",handlerUnitName:"",handlerRole:"",handlerRoleName:"",activeTime:"",comment:""},inventory:{inventoryCode:"",inventoryName:"",processing:"",inventoryType:"",inventorySubclass:"",measureUnit:"",specification:"",material:"",inventoryColor:"",keepingDays:1,safeStock:0,nearKeepingDays:1,inventoryStatus:"",inventoryPic:"",comment:"",technicsCode:"",leadTime:"",procedureName:"",procedureCode:"",moq:""},transCode:"",hasDefault:!1,imgFileObj:{},imgFile:null,codeReadOnly:!1,submitSuccess:!1,inventoryStatus:"使用中",scrollOptions:{click:!0},matterConfig:[],matterDuplicateConfig:[],matterDuplicateData:{},uniqueId:""}},mixins:[R.default],components:{RPicker:b.default,UploadImage:I.default,RScroll:x.default,PopTechnicsList:S.default,PopProcedureList:L.default,PopDealerList:M.default,duplicateComponent:A.default},computed:{nearKeepingDays:function(){var e=this.inventory.keepingDays;return e||0===e?e>=365?45:e>=183?20:e>=90?15:e>=30?10:e>=10?2:1:0},leadTimeTitle:function(){var e=this.inventory.processing,t=["原料","商品"],a=["半成品","成品","模具"];return t.includes(e)?"采购提前期":a.includes(e)?"加工提前期":""},inventoryProcessing:function(){return this.inventory.processing},inventoryType:function(){return this.inventory.inventoryType},MoreUnit:function(){return this.matterDuplicateData.invMoreUnit}},watch:{inventoryProcessing:function(e){var t=this;if(!this.hasDefault){var a="",n="",r=!0,i=!1,o=void 0;try{for(var s,l=(0,_.default)(this.matterConfig);!(r=(s=l.next()).done);r=!0){var d=s.value;if("break"===function(r){if("processing"===r.fieldCode){var i=!0,o=!1,s=void 0;try{for(var l,d=(0,_.default)(r.remoteData);!(i=(l=d.next()).done);i=!0){var u=l.value;if(u.name===e){a=u.id,n=u.type;break}}}catch(e){o=!0,s=e}finally{try{!i&&d.return&&d.return()}finally{if(o)throw s}}}if("multipleAccess"===r.fieldCode&&(r.requestParams.data.sType=t.inventory.processing,(0,B.requestData)(r.requestParams).then(function(e){var a=e.tableContent,n=void 0===a?[]:a;n.length?(n.forEach(function(e){e.name=e.sName,e.value=e.sName}),t.$set(t.inventory,"multipleAccess",n[0].name)):t.inventory.multipleAccess="",r.remoteData=n})),"inventoryType"===r.fieldCode)return(0,C.default)(r.requestParams.data).forEach(function(e){"parentId"===e?r.requestParams.data[e]=a:"value"===e&&(r.requestParams.data[e]=n)}),(0,B.requestData)(r.requestParams).then(function(e){null!=e.tableContent?(e.tableContent.length?(e.tableContent.forEach(function(e){e.originValue=e.value,e.value=e.name}),t.inventory.inventoryType=e.tableContent[0].name):t.inventory.inventoryType="",r.remoteData=e.tableContent):(e.length?(e.forEach(function(e){e.originValue=e.value,e.value=e.name}),t.inventory.inventoryType=e[0].name):t.inventory.inventoryType="",r.remoteData=e)}),"break"}(d))break}}catch(e){i=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw o}}}},inventoryType:function(e){var t=this;if(!this.hasDefault){var a="",n="",r=!0,i=!1,o=void 0;try{for(var s,l=(0,_.default)(this.matterConfig);!(r=(s=l.next()).done);r=!0){var d=s.value;if("break"===function(r){if("inventoryType"===r.fieldCode){var i=!0,o=!1,s=void 0;try{for(var l,d=(0,_.default)(r.remoteData);!(i=(l=d.next()).done);i=!0){var u=l.value;if(u.name===e){a=u.id,n=u.type;break}}}catch(e){o=!0,s=e}finally{try{!i&&d.return&&d.return()}finally{if(o)throw s}}}if("inventorySubclass"===r.fieldCode)return(0,C.default)(r.requestParams.data).forEach(function(e){"parentId"===e?r.requestParams.data[e]=a:"value"===e&&(r.requestParams.data[e]=n)}),(0,B.requestData)(r.requestParams).then(function(e){null!=e.tableContent?(e.tableContent.length?(e.tableContent.forEach(function(e){e.originValue=e.value,e.value=e.name}),t.inventory.inventorySubclass=e.tableContent[0].name):t.inventory.inventorySubclass="",r.remoteData=e.tableContent):(e.length?(e.forEach(function(e){e.originValue=e.value,e.value=e.name}),t.inventory.inventorySubclass=e[0].name):t.inventory.inventorySubclass="",r.remoteData=e)}),"break"}(d))break}}catch(e){i=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw o}}}},MoreUnit:{handler:function(e){var t=this;e&&e.length&&e.forEach(function(e){if(t.inventory.measureUnit&&e.invSubUnitName&&e.invSubUnitMulti)return void(e.comment=""+e.invSubUnitMulti+t.inventory.measureUnit+"/"+e.invSubUnitName)})},deep:!0}},methods:{onUpload:function(e){console.log(e),this.inventory.inventoryPic=e.src},checkAmt:function(e){var t=e.invSubUnitMulti,a=e.invCompQty;t?e.invSubUnitMulti=Math.abs((0,E.toFixed)(t)):a&&(e.invCompQty=Math.abs((0,E.toFixed)(a)))},selTechnics:function(e){this.inventory=(0,v.default)({},this.inventory,{technicsName:e.technicsName,technicsCode:e.technicsCode})},save:function(){var e=this,t={inventoryCode:"物料编码",inventoryName:"物料名称",processing:"物料属性",measureUnit:"主计量单位"};for(var a in this.inventory)"string"==typeof this.inventory[a]&&this.inventory[a].indexOf(" ")>=0&&(this.inventory[a]=this.inventory[a].replace(/\s/g,""));switch(this.inventoryStatus){case"使用中":this.inventory.inventoryStatus=1;break;case"未使用":this.inventory.inventoryStatus=2;break;case"草稿":this.inventory.inventoryStatus=0;break;case"停用":this.inventory.inventoryStatus=-1}this.inventory.status&&delete this.inventory.status;var n=j.save,r="";if((0,h.default)(t).every(function(t){var a=(0,c.default)(t,2),n=a[0],i=a[1];return!!e.inventory[n]||(r=i+"不能为空",!1)}),!r&&(0,C.default)(this.matterDuplicateData).length&&(0,C.default)(this.matterDuplicateData).forEach(function(t){if(e.matterDuplicateData[t].length<=0)return!1;e.matterDuplicateConfig.forEach(function(a){a.name===t&&a.items.forEach(function(a){a.hidden||e.matterDuplicateData[t].forEach(function(e){if(!a.allowBlank&&!e[a.fieldCode])return r=a.text+"不能为空",!1})})})}),r)return void this.$vux.alert.show({content:r});var i={baseinfo:this.baseinfo,inventory:(0,v.default)({},this.inventory,{nearKeepingDays:this.nearKeepingDays,leadTime:this.leadTimeTitle?this.inventory.leadTime:""})};this.matterDuplicateConfig.forEach(function(t){e.matterDuplicateData[t.name].length&&(i[t.name]=e.matterDuplicateData[t.name])});var o={listId:this.listId,formData:i};this.transCode&&(n=j.update),console.log(o),this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$loading.show(),n(o).then(function(t){e.$loading.hide();var a=t.success,r=void 0!==a&&a,i=t.message,o=void 0===i?"提交失败":i;r&&(o=n===j.update?"修改成功":"提交成功",e.submitSuccess=!0),e.$vux.alert.show({content:o,onHide:function(){r&&e.$router.go(-1)}})}).catch(function(t){e.$loading.hide()})}})},findData:function(){var e=this;return(0,j.findData)(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a,r=t.attachment,i=void 0===r?[]:r;e.matterDuplicateConfig.forEach(function(t){n[t.name].length&&(e.matterDuplicateData[t.name]=n[t.name])});var o=n.baseinfo,s=void 0===o?{}:o,l=n.inventory,d=void 0===l?{}:l;switch(e.hasDefault=!0,d.inventoryStatus){case 1:e.inventoryStatus="使用中";break;case 2:e.inventoryStatus="未使用";break;case 0:e.inventoryStatus="草稿";break;case-1:e.inventoryStatus="停用"}console.log(d),e.baseinfo=(0,v.default)({},e.baseinfo,s),e.inventory=(0,v.default)({},e.inventory,d);e.inventory.inventoryPic&&(e.picShow=!0,e.MatPic="/H_roleplay-si/ds/download?url="+e.inventory.inventoryPic+"&width=400&height=400");var u=i.filter(function(t){return t.attacthment===e.inventory.inventoryPic}),f=(0,c.default)(u,1),h=f[0],m=void 0===h?{}:h;e.imgFileObj=m})},getBaseInfoData:function(){var e=this;return(0,B.getBaseInfoDataBase)().then(function(t){e.baseinfo=(0,v.default)({},e.baseinfo,t,{activeTime:e.changeDate(new Date,!0)})})},getDefaultImg:function(){this.MatPic=a("CcG0")},validateData:function(e,t){var a="";return e.every(function(e){return t.every(function(t){return!!e[t.key]||(a=t.message+"不能为空",!1)}),!!a}),a},selProcedure:function(e){this.inventory=(0,v.default)({},this.inventory,{procedureName:e.procedureName,procedureCode:e.procedureCode})},handlerParams:function(e){var t=this,a=e.dataSource.data.url,n=e.dataSource.data.params,r=(0,C.default)(n),i={url:a};if(r.length){var o={};r.forEach(function(e){o[e]="text"===n[e].type?n[e].value:""}),i.data=o}e.requestParams=i,(0,B.requestData)(i).then(function(a){a.tableContent?(a.tableContent.forEach(function(t){t.value=t[e.displayField],t.name=t[e.displayField]}),"processing"===e.fieldCode&&(t.$route.query.transCode||(t.inventory.processing=t.$route.query.matterType?t.$route.query.matterType:"")),t.$set(e,"remoteData",a.tableContent)):(a.forEach(function(t){t.value=t[e.displayField],t.name=t[e.displayField]}),t.$set(e,"remoteData",a))})},getFormViewsInfo:function(){var e=this;return(0,d.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,B.getFormViews)(e.listId).then(function(t){var a=!0,n=!1,r=void 0;try{for(var i,o=(0,_.default)(t);!(a=(i=o.next()).done);a=!0){var s=i.value;e.transCode&&"revise"===s.viewType?e.uniqueId=s.uniqueId:e.transCode||"submit"!==s.viewType||(e.uniqueId=s.uniqueId)}}catch(e){n=!0,r=e}finally{try{!a&&o.return&&o.return()}finally{if(n)throw r}}});case 2:return t.next=4,(0,B.getFormConfig)(e.uniqueId).then(function(t){var a=t.config,n=void 0===a?[]:a,r=[],i=[];n.forEach(function(e){e.isMultiple?e.hiddenInRun||"r2Fileupload"===e.xtype||"invMoreUnit"!==e.name||i.push(JSON.parse((0,s.default)(e))):r=JSON.parse((0,s.default)(e.items))}),r.forEach(function(t){t.hiddenInRun||("r2Combo"!==t.xtype&&"r2MultiSelector"!==t.xtype||!t.dataSource||"remoteData"!==t.dataSource.type?"r2Combo"===t.xtype&&t.dataSource&&"staticData"===t.dataSource.type&&e.$set(t,"remoteData",t.dataSource.data):e.handlerParams(t),"inventoryPic"!==t.fieldCode&&e.matterConfig.push(t))}),i.forEach(function(t){switch(t.name){case"invMoreUnit":t.title="辅助计量";break;case"invNetWeight":t.title="净含量";break;case"invDealerRel":t.title="客户";break;case"invCustomerRel":t.title="供应商"}var a=[];t.items.forEach(function(t,n){t.hidden||("r2Combo"===t.editorType&&t.dataSource&&"remoteData"===t.dataSource.type&&e.handlerParams(t),a.push(t))}),t.items=a,e.$set(e.matterDuplicateData,t.name,[])}),e.matterDuplicateConfig=i,e.transCode||e.$loading.hide()});case 4:case"end":return t.stop()}},t,e)}))()}},beforeRouteLeave:function(e,t,a){var n=e.path;this.submitSuccess&&"/materlist"===n&&(e.meta.reload=!0),a()},created:function(){var e=this;this.$loading.show();var t=this.$route.query.transCode,a=void 0===t?"":t;if(this.transCode=a,a)return void(0,d.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getFormViewsInfo();case 2:return t.next=4,e.findData().then(function(){e.$loading.hide()});case 4:e.hasDefault=!1,e.codeReadOnly=!0;case 6:case"end":return t.stop()}},t,e)}))();this.getFormViewsInfo(),this.getBaseInfoData()},beforeRouteEnter:function(e,t,a){e.meta.title="新增物料",e.query.transCode&&(e.meta.title="编辑物料"),a()}}},"S/pI":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages fgysqk-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{"default-value":e.dealerInfo},on:{"sel-item":e.selDealer}},[a("template",{slot:"other"},[a("div",{staticClass:"amt-dealer"},[a("span",{staticClass:"amt-dealer-item"},[e._v("申请金额: "+e._s(e._f("numberComma")(e.applicationAmount,3)))])])])],2),e._v(" "),a("div",{staticClass:"materiel_list"},[e.orderList.length?[a("div",{staticClass:"title"},[e._v("欠款明细")]),e._v(" "),e._l(e.orderList,function(t,n){return a("div",{key:n,staticClass:"order-detail",class:{"vux-1px-t":0!==n}},[a("div",{staticClass:"detail-item top"},[a("span",{staticClass:"info-item"},[e._v(e._s(t.popiCode))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"info-item"},[e._v("采购订单号: "+e._s(t.poCode))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("价税合计: "+e._s(e._f("numberComma")(t.thenTotalAmntBal,3)))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"info-item"},[e._v("已核销: "+e._s(e._f("numberComma")(t.thenAlreadyAmnt,3)))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("待核销: "+e._s(e._f("numberComma")(t.thenAmntBal,3)))])]),e._v(" "),a("div",{staticClass:"detail-item"},[t.accountExpirationDate||0===t.accountExpirationDate?a("span",{staticClass:"info-item"},[e._v("账期到期日: "+e._s(t.accountExpirationDate))]):e._e(),e._v(" "),t.daysOfAccount||0===t.daysOfAccount?a("span",{staticClass:"info-item"},[e._v("账期天数: "+e._s(t.daysOfAccount))]):e._e(),e._v(" "),t.ageOfAging||0===t.ageOfAging?a("span",{staticClass:"info-item"},[e._v("账龄天数: "+e._s(t.ageOfAging))]):e._e()]),e._v(" "),a("div",{staticClass:"detail-item"},[t.accountRemaingDays||0===t.accountRemaingDays?a("span",{staticClass:"info-item"},[e._v("账期剩余天数: "+e._s(t.accountRemaingDays))]):e._e(),e._v(" "),a("span",{staticClass:"info-item"},[e._v("已收票: "+e._s(e._f("numberComma")(t.invoicing,3)))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("待收票: "+e._s(e._f("numberComma")(t.pendingTicket||t.invoiced,3)))])]),e._v(" "),a("x-input",{attrs:{title:"本次申请","text-align":"right",placeholder:"请填写",type:"number"},on:{"on-blur":function(a){e.checkAmt(t,"applicationAmount")},"on-focus":function(t){e.getFocus(t)}},model:{value:t.applicationAmount,callback:function(a){e.$set(t,"applicationAmount",e._n(a))},expression:"item.applicationAmount"}})],1)})]:a("div",{staticClass:"order-info",on:{click:function(t){e.showOrder=!0}}},[a("div",{staticClass:"title"},[e._v("欠款明细")]),e._v(" "),a("div",{staticClass:"mode"},[e._v("请选择欠款明细")]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r-arrow"})])],2),e._v(" "),e.orderList.length?a("div",{staticClass:"handle_part vx-1px-t"},[e.orderList.length?a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多")]):e._e()]):e._e(),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"其他信息"}},[a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-order-list",{attrs:{show:e.showOrder,params:e.dealerParams,"default-value":e.orderList},on:{"sel-item":e.selOrder},model:{value:e.showOrder,callback:function(t){e.showOrder=t},expression:"showOrder"}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},"S4+1":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={props:{BasicApps:{type:Array,require:!0},goBasic:{type:Function,require:!0},goAppDetail:{type:Function,require:!0}}}},S4EA:function(e,t){},SAzG:function(e,t,a){"use strict";function n(e){a("XljL")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("l8j0");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("Wnp4"),s=a.n(o),l=a("lzEG"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,null,null);t.default=c.exports},SDtT:function(e,t,a){"use strict";function n(e){a("WL3c")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("0V3y");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("u1IZ"),s=a.n(o),l=a("2UA4"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-3b7bbe3c",null);t.default=c.exports},SDx5:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("4YfN"),s=n(o),l=a("kNGm"),d=n(l),u=a("0AQX"),c=a("+VRO"),f=n(c),h=a("AupE"),m=n(h),v=a("BUFe"),p=n(v),C=a("bFc7"),y=n(C),_=a("3NX5"),g=n(_),b=a("zlAJ"),w=n(b);t.default={data:function(){return{orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},attachment:[]}},mixins:[f.default],components:{workFlow:m.default,RAction:p.default,contactPart:y.default,MatterList:g.default,UploadFile:w.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,l=t.attachment,u=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var c=o.order,f=c.dataSet,h=!0,m=!1,v=void 0;try{for(var p,C=(0,i.default)(f);!(h=(p=C.next()).done);h=!0){var y=p.value;y.inventoryPic=y.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+y.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){m=!0,v=e}finally{try{!h&&C.return&&C.return()}finally{if(m)throw v}}e.contactInfo={creatorName:o.dealerDebitContactPersonName,dealerName:c.dealerName_dealerDebit,dealerMobilePhone:o.dealerDebitContactInformation,dealerContactPersonName:o.dealerDebitContactPersonName,dealerCode:c.dealerDebit,dealerLabelName:c.drDealerLabel,province:c.province_dealerDebit,city:c.city_dealerDebit,county:c.county_dealerDebit,address:c.address_dealerDebit},e.attachment=u,e.matterList=f,o.validUntil=(0,d.default)(c.validUntil,"YYYY-MM-DD"),e.orderInfo=(0,s.default)({},o,c),e.workFlowInfoHandler()})}}}},SEjj:function(e,t,a){"use strict";function n(e){a("GtZX")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("O1ha");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("P2Bj"),s=a.n(o),l=a("t5gp"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-e112cf12",null);t.default=c.exports},SFXC:function(e,t,a){"use strict";function n(e){a("NgZ+")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("75mE");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("+7T9"),s=a.n(o),l=a("eMi5"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-6add39db",null);t.default=c.exports},SGPQ:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("MgeX"),i=n(r),o=a("HzJ8"),s=n(o),l=a("4YfN"),d=n(l),u=a("3cXf"),c=n(u),f=a("IHPB"),h=n(f),m=a("HXPS"),v=n(m),p=a("7g+Q"),C=n(p),y=a("1KNX"),_=n(y),g=a("vS5q"),b=a("7biW"),w=n(b);t.default={name:"PopOrderList",props:{show:{type:Boolean,default:!1},params:{type:Object,default:function(){return{dealerCode:"",whCode:""}}},defaultValue:{type:Object,default:function(){return{}}},isMaterOrder:{type:Boolean,default:!1},isMaterProccing:{type:Boolean,default:!1}},components:{Icon:v.default,Popup:C.default,RScroll:_.default,RSearch:w.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],listData:[],limit:100,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterProperty:"",filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"订单号",value:"transCode"}]}},watch:{show:{handler:function(e){this.showPop=e}},params:{handler:function(){this.resetCondition(),this.getList()}},defaultValue:{handler:function(e){this.setDefaultValue()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,h.default)(this.selItems)),this.$emit("input",!1),this.$event.$emit("shut-down-filter",!1)},showSelIcon:function(e){return-1!==this.tmpItems.findIndex(function(t){return t.transCode===e.transCode&&t.inventoryCode===e.inventoryCode})},selThis:function(e,t){if(!this.isMaterOrder&&(0===e.qtyStockBal||0===e.qtyStock)||this.isMaterOrder&&0===e.qtyStock)return void this.$vux.alert.show({content:"当前订单库存为0，请选择其他订单"});var a=this.tmpItems,n=a.findIndex(function(t){return t.transCode===e.transCode&&t.inventoryCode===e.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(e)},selConfirm:function(){this.showPop=!1,this.tmpItems.sort(function(e,t){return t.effectiveTime-e.effectiveTime}),this.selItems=[].concat((0,h.default)(this.tmpItems)),this.$emit("sel-matter",(0,c.default)(this.selItems))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getList:function(){var e=this,t=[];this.srhInpTx&&(t=[{operator:"like",value:this.srhInpTx,property:this.filterProperty}]);var a=g.getSalesOrderList,n=(0,d.default)({},this.params);this.isMaterOrder&&(a=g.getMaterOrderList,n={}),this.isMaterProccing&&(a=g.getNBJGLLOrderList);var r=this.$route.query.relationKey,i=void 0===r?"":r;return i&&(t=[{operator:"eq",value:i,property:"transCode"}]),a((0,d.default)({},n,{limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,c.default)(t)})).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,o=void 0===r?[]:r;o.forEach(function(t){t.inventoryPic=t.inventoryPic?"/H_roleplay-si/ds/download?url="+t.inventoryPic+"&width=400&height=400":e.getDefaultImg()}),i&&(e.selItems=[].concat((0,h.default)(o)),e.$emit("sel-matter",(0,c.default)(e.selItems))),e.hasNext=n>(e.page-1)*e.limit+o.length,e.listData=1===e.page?o:[].concat((0,h.default)(e.listData),(0,h.default)(o)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},resetCondition:function(){this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,r=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=r,this.resetCondition(),this.getList()},clearList:function(){this.srhInpTx="",this.resetCondition(),this.getList()},delSelItem:function(e){var t=this.selItems.findIndex(function(t){return t.transCode===e.transCode&&t.inventoryCode===e.inventoryCode});-1!==t&&this.selItems.splice(t,1),this.tmpItems=[].concat((0,h.default)(this.selItems))},clearSel:function(){this.selItems=[],this.tmpItems=[]},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var r,o=(0,s.default)((0,i.default)(this.defaultValue));!(t=(r=o.next()).done);t=!0){var l=r.value;e=[].concat((0,h.default)(e),(0,h.default)(l))}}catch(e){a=!0,n=e}finally{try{!t&&o.return&&o.return()}finally{if(a)throw n}}this.tmpItems=[].concat((0,h.default)(e)),this.selItems=[].concat((0,h.default)(e))}},created:function(){this.showPop=this.show,this.setDefaultValue(),this.getList()}}},SLsN:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("MjAd"),s=n(o),l=a("IsSW"),d=n(l);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2363,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}],popShow:!1}},components:{PopAssignmentTaskWorkList:d.default},mixins:[s.default],methods:{goEdit:function(){this.popShow=!0},selTask:function(e){var t=[];e.forEach(function(e){t.push(e.colId)});var a=this.$route.query,n=a.name,r=a.listId,o=this.$route.params,s=o.folder,l=o.fileName;this.$router.push({path:"/fillform/"+s+"/"+l,query:{name:n,listId:r,orderId:(0,i.default)(t)}})}}}},SMm3:function(e,t){},SSut:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("a3Yh"),s=n(o),l=a("ZLEe"),d=n(l),u=a("3cXf"),c=n(u),f=a("KH7x"),h=n(f),m=a("4YfN"),v=n(m),p=a("PzEQ"),C=n(p),y=a("BGNQ"),_=n(y),g=a("SAzG"),b=n(g),w=a("z5TY"),I=n(w),D=a("0AQX"),x=a("HyXB"),P=a("bKg5"),S=n(P),k=a("y8YJ"),L=n(k),N=a("I5id"),M=n(N),T=a("9cRV"),A=n(T),O=a("hLfv"),R=n(O),j=a("yt3/"),B=n(j),E=a("luHD"),F=n(E),U=a("VZtf"),$=n(U),H=a("vl8n"),V=n(H),q=a("+WR7"),Q=n(q),Y=a("zWMP"),X=a("Qg39");t.default={name:"ApplySBCGDDForm",data:function(){return{orderList:{},matterList:[],showDealerPop:!1,dealerInfo:{},contactInfo:{},formData:{biId:"",biComment:""},submitSuccess:!1,taxRate:.16,numMap:{},transCode:"",formViewUniqueId:"fed81800-4c34-44a9-b517-c3fd9f2ab57d",biReferenceId:"",actions:[],taskId:"",showOrderPop:!1,tmpItems:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,filterList:[{name:"设施名称",value:"facilityName"},{name:"设施编码",value:"facilityCode"},{name:"申请号",value:"transCode"}],facility:{},checkFieldList:[{key:"tdQty",message:"请填写数量"},{key:"price",message:"请填写单价"},{key:"taxRate",message:"请填写税率"}]}},mixins:[S.default],components:{XTextarea:C.default,RNumber:$.default,PopDealerList:L.default,PopSingleSelect:B.default,XInput:b.default,Group:I.default,PopMatter:F.default,RPicker:V.default,PopBaseinfo:Q.default,Cell:_.default,PopFacilityList:M.default,PopMatterList:A.default,DealerOtherPart:R.default},computed:{totalAmount:function(){var e=this,t=0;return this.matterList.forEach(function(a){e.simpleCalcMatter(a),t=(0,Y.accAdd)(t,a.noTaxAmount)}),Number(t)},taxAmount:function(){var e=0;return this.matterList.forEach(function(t){e=(0,X.toFixed)((0,Y.accAdd)(e,t.taxAmount))}),e},tdAmount:function(){return parseFloat((0,Y.accAdd)(this.totalAmount,Number(this.taxAmount)).toFixed(2))}},watch:{facility:{handler:function(e){this.simpleCalcMatter(e)},deep:!0}},methods:{selItem:function(e){this.formData=(0,v.default)({},this.formData,e)},selDealer:function(e){var t=JSON.parse(e),a=(0,h.default)(t,1),n=a[0];this.dealerInfo=(0,v.default)({},n,{drDealerPaymentTerm:n.paymentTerm,daysOfAccount:n.pamentDays})},selContact:function(e){this.contactInfo=(0,v.default)({},e)},getMatterModify:function(e,t,a){this.facility=JSON.parse((0,c.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selMatter:function(e){var t=JSON.parse(e),a={};t.forEach(function(e){e.tdQty=e.tdQty||e.qtyBal,e.price=e.price||"",e.taxRate=e.taxRate||.16,a[e.transCode]||(a[e.transCode]=[]),a[e.transCode].push(e)}),this.numMap={},this.matterList=t,this.orderList=a},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.facilityCode!==e.facilityCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.facilityCode===t.facilityCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.facilityCode===e.facilityCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,c.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,d.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.facilityCode===a.facilityCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],r=n.findIndex(function(e){return e.facilityCode===t.facilityCode});r>=0&&(e.$refs.matter.delSelItem(n[r]),n.splice(r,1)),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.facilityCode===a.facilityCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerCode||(t="请选择供应商信息"),t||this.dealerInfo.paymentTerm||(t="请选择结算方式"),t||this.matterList.length||(t="请选择设施"),t||this.matterList.every(function(n){if(!n.price)return t="单价不能为空",!1;if(!n.tdQty&&0!==n.tdQty)return t="数量不能为空",!1;var r=n.taxRate||e.taxRate,i=(0,Y.accMul)(n.price,n.tdQty,r),o={transMatchedCode:n.transCode,facilityObjCode:n.facilityCode,facilityName_facilityObjCode:n.facilityName,facilityType:n.facilityType,thenQtyBal:n.qtyBal||0,tdQty:n.tdQty,price:n.price,taxRate:r,taxAmount:i,tdAmount:(0,Y.accAdd)((0,Y.accMul)(n.price,n.tdQty),i),comment:n.comment||""};return e.transCode&&(o.tdId=n.tdId||null),a.push(o),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=x.saveAndStartWf,n={},r=(0,s.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});n=(0,v.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.formData.handler,modifer:e.formData.handler,dealerDebitContactPersonName:e.contactInfo.dealerName||"",dealerDebitContactInformation:e.contactInfo.dealerMobilePhone||"",order:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName||"供应商",drDealerPaymentTerm:e.dealerInfo.paymentTerm,daysOfAccount:e.dealerInfo.pamentDays,dataSet:a}}),e.transCode&&(t=x.saveAndCommitTask,r={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,c.default)(n),wfPara:(0,c.default)(r)};e.transCode||delete i.biReferenceId,e.processCode.length||(t=x.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,D.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,s=t.attachment,l=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=l;var d=o.order,u=(o.dealerDebit,d.dataSet),c=void 0===u?[]:u,f={},h=[],m=!0,p=!1,C=void 0;try{for(var y,_=(0,i.default)(c);!(m=(y=_.next()).done);m=!0){var g=y.value;g=(0,v.default)({},g,{transCode:g.transMatchedCode,inventoryPic:g.inventoryPic_facilityObjCode?"/H_roleplay-si/ds/download?url="+g.inventoryPic_facilityObjCode+"&width=400&height=400":e.getDefaultImg(),facilityName:g.facilityName_facilityObjCode,facilityCode:g.facilityObjCode,facilityBigType:g.facilityBigType_facilityObjCode,facilitySubclass:g.facilitySubclass_facilityObjCode,facilityUnit:g.facilityUnit_facilityObjCode,specification:g.specification_facilityObjCode,processing:g.tdProcessing,qtyBal:g.thenQtyBal}),f[g.transCode]||(f[g.transCode]=[]),h.push(g),f[g.transCode].push(g)}}catch(e){p=!0,C=e}finally{try{!m&&_.return&&_.return()}finally{if(p)throw C}}e.dealerInfo={creatorName:o.dealerCreditContactPersonName,dealerName:d.dealerName_dealerDebit,dealerMobilePhone:o.dealerCreditContactInformation,dealerCode:d.dealerCode_dealerDebit,dealerLabelName:d.drDealerLabel,province:d.province_dealerDebit,city:d.city_dealerDebit,county:d.county_dealerDebit,address:d.address_dealerDebit,paymentTerm:d.drDealerPaymentTerm,pamentDays:d.daysOfAccount},e.contactInfo={dealerName:o.dealerDebitContactPersonName,dealerMobilePhone:o.dealerDebitContactInformation},e.handlerDefault={handler:o.handler,handlerName:o.handlerName,handlerUnit:o.handlerUnit,handlerUnitName:o.handlerUnitName,handlerRole:o.handlerRole,handlerRoleName:o.handlerRoleName},e.formData=(0,v.default)({},e.formData,e.handlerDefault,{creator:o.creator,biId:o.biId,biComment:o.biComment}),e.biReferenceId=o.biReferenceId,e.matterList=h,e.orderList=f,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,s.default)({},"SBCGDD_DATA",{facility:this.matterList,dealer:this.dealerInfo,formData:this.formData,contactInfo:this.contactInfo})},getRelationData:function(){var e=this,t=this.$route.query.uniqueId;return(0,D.getSOList)({formViewUniqueId:t,transCode:this.relationKey}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r;t.attachment;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var o=i.order,l=(i.dealerDebit,o.dataSet),d=void 0===l?[]:l;d=d.map(function(t){return(0,v.default)({},t,{inventoryPic:t.inventoryPic_facilityObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_facilityObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_facilityObjCode,facilityCode:t.inventoryCode_facilityObjCode,specification:t.specification_facilityObjCode,measureUnit:t.measureUnit_facilityObjCode,transCode:e.relationKey,qtyBal:t.tdQty,tdQty:""})}),e.dealerInfo={creatorName:i.dealerDebitContactPersonName,dealerMobilePhone:i.dealerDebitContactInformation,dealerCode:i.order.dealerDebit,dealerSubclass:i.order.drAccountSub,dealerName:i.order.dealerName_dealerDebit,province:i.order.province_dealerDebit,city:i.order.city_dealerDebit,county:i.order.county_dealerDebit,address:i.order.address_dealerDebit},e.matterList=d,e.orderList=(0,s.default)({},e.relationKey,d),e.$loading.hide()})},moreUnitClick:function(e){e.showDrop=!e.showDrop},moreUnitSelected:function(e){this.facility.assMeasureUnit=e.invSubUnitName,this.facility.assistQty=e.invSubUnitMulti},assembleOrder:function(e){var t={};e.forEach(function(e){t[e.transCode]||(t[e.transCode]=[]),t[e.transCode].push(e)}),this.orderList=t}},created:function(){var e=sessionStorage.getItem("SBCGDD_DATA");if(e){var t=JSON.parse(e);this.matterList=t.facility,this.dealerInfo=t.dealer,this.formData=t.formData,this.contactInfo=t.contactInfo,this.assembleOrder(this.matterList),sessionStorage.removeItem("SBCGDD_DATA")}}}},STJc:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("IHPB"),s=n(o),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),h=n(f),m=a("I3vJ"),v=a("1KNX"),p=n(v),C=a("7biW"),y=n(C);t.default={name:"PopTechnicsList",props:{defaultValue:{type:Object,default:function(){return{}}},required:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"}},components:{Icon:c.default,Popup:h.default,RScroll:p.default,RSearch:y.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:100,page:1,hasNext:!0,scrollOptions:{pullUpLoad:!0},filterProperty:"",filterList:[{name:"名称",value:"technicsName"},{name:"编码",value:"technicsCode"}]}},watch:{defaultValue:{handler:function(e){this.selItems=(0,d.default)({},this.defaultValue)},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},showSelIcon:function(e){return this.selItems.technicsCode===e.technicsCode},selThis:function(e,t){this.selItems=(0,d.default)({},e),this.showPop=!1,this.$emit("sel-item",(0,d.default)({},e))},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,s.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,m.getObjTechnics)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,i.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+i.length,e.listData=1===e.page?i:[].concat((0,s.default)(e.listData),(0,s.default)(i)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,r=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=r,this.resetCondition(),this.getList()},onPullingUp:function(){this.page++,this.getList()},resetCondition:function(){this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)}},created:function(){this.getList()}}},SU7p:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("KH7x"),s=n(o),l=a("4YfN"),d=n(l),u=a("a3Yh"),c=n(u),f=a("3cXf"),h=n(f),m=a("BGNQ"),v=n(m),p=a("z5TY"),C=n(p),y=a("SAzG"),_=n(y),g=a("7g+Q"),b=n(g),w=a("PzEQ"),I=n(w),D=a("jnZd"),x=n(D),P=a("0AQX"),S=a("HyXB"),k=(a("jLp1"),a("bKg5")),L=n(k),N=a("55ug"),M=n(N),T=a("CKaN"),A=n(T),O=a("KR0i"),R=n(O),j=a("vl8n"),B=n(j),E=a("+WR7"),F=n(E),U=a("zWMP"),$=a("Qg39");t.default={mixins:[L.default],components:{Cell:v.default,Group:C.default,Popup:b.default,XInput:_.default,XTextarea:I.default,PopupPicker:x.default,RPicker:B.default,PopBaseinfo:F.default,PopDealerList:M.default,PopCashList:A.default,PopEarnestMoneyList:R.default},data:function(){return{listId:"7d172485-8726-4e42-b29d-ec2a716bf062",biReferenceId:"",selectedCost:[],costIndex:0,transCode:"",formData:{biComment:"",biProcessStatus:""},dealerInfo:{},showOrder:!1,dealerParams:{},orderList:[],cashInfo:{fundName_cashOutCode:"",cashOutCode:"",cashType_cashOutCode:"",thenAmntBal:0},numMap:{}}},computed:{applicationAmount:function(){var e=0;return this.orderList.forEach(function(t){t.tdAmount&&(e=(0,U.accAdd)(e,t.tdAmount))}),(0,$.toFixed)(e)},differenceAmount:function(){var e=this.dealerInfo.amntBal||0;return e=(0,U.accAdd)(e,this.applicationAmount),(0,$.toFixed)(e)}},methods:{submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerCode||(t="请选择供应商"),t||this.orderList.length||(t="请选择定金明细"),t)return void this.$vux.alert.show({content:t});this.orderList.forEach(function(t){a.push({tdId:t.tdId||"",transMatchedCode:t.transCode,thenTotalAmntBal:t.thenAmntBal,differenceAmountCopy1:t.amount,thenAlreadyAmnt:t.amnted,thenAmntBalCopy2:t.deposit,applicationAmount:t.tdAmount,tdAmountCopy1:t.tdAmount,dealerDebit:e.dealerInfo.dealerCode})}),this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=S.saveAndStartWf,n=(0,c.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,h.default)(e.formData.handler),"本次支付":e.applicationAmount});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={dealerName_dealerDebit:e.dealerInfo.nickname,dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,applicationAmount:e.applicationAmount,tdAmountCopy1:e.applicationAmount,differenceAmount:e.differenceAmount},i=(0,d.default)({},e.cashInfo,{tdAmount:e.applicationAmount});e.transCode&&(r.tdIdCopy1=e.dealerInfo.tdIdCopy1,i.tdId=e.cashInfo.tdId);var o={listId:e.listId,biComment:e.formData.biComment,formData:(0,h.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",inPut:{dataSet:[r],thenAmntBalCopy1:e.dealerInfo.amntBal},order:{dataSet:a},outPut:{dataSet:[i]}})),wfPara:(0,h.default)(n)};e.isResubmit&&(o.biReferenceId=e.biReferenceId,t=S.saveAndCommitTask),e.processCode.length||(t=S.submitAndCalc,delete o.wfPara,delete o.biReferenceId),e.biReferenceId&&(o.biReferenceId=e.biReferenceId),e.saveData(t,o)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.attachment,n=void 0===a?[]:a,r=t.listId,i=void 0===r?"":r,o=(t.biComment,t.biReferenceId),l=void 0===o?"":o,u=t.formData,c=void 0===u?{}:u;e.attachment=n,e.listId=i,e.biReferenceId=l,e.handlerDefault={handler:c.handler,handlerName:c.handlerName,handlerUnit:c.handlerUnit,handlerUnitName:c.handlerUnitName,handlerRole:c.handlerRole,handlerRoleName:c.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:c.biComment,biId:c.biId,biProcessStatus:c.biProcessStatus,creator:c.creator,modifer:c.modifer});var f=c.order.dataSet,h=void 0===f?[]:f,m=c.inPut.dataSet,v=void 0===m?[]:m,p=c.outPut.dataSet,C=void 0===p?[]:p,y=(0,s.default)(v,1),_=y[0],g=void 0===_?{}:_,b=(0,s.default)(C,1),w=b[0],I=void 0===w?{}:w;h.forEach(function(e){e.transCode=e.transMatchedCode,e.thenAmntBal=e.thenTotalAmntBal,e.amount=e.differenceAmountCopy1,e.amnted=e.thenAlreadyAmnt,e.deposit=e.thenAmntBalCopy2,e.tdAmount=e.applicationAmount}),e.dealerInfo=(0,d.default)({},g,{nickname:g.dealerName_dealerDebit,dealerCode:g.dealerDebit,dealerLabelName:g.drDealerLabel,amntBal:c.inPut.thenAmntBalCopy1}),e.cashInfo=(0,d.default)({},I),e.orderList=h,e.$loading.hide()})},hasDraftData:function(){return!!this.dealerInfo.dealerCode&&(0,c.default)({},"FGYSDJ_DATA",{formData:this.formData,dealerInfo:this.dealerInfo,orderList:this.orderList,cashInfo:this.cashInfo})},getRelationData:function(){},selDealer:function(e){this.dealerInfo=(0,d.default)({},e),this.dealerParams={dealerCode:e.dealerCode}},selOrder:function(e){var t=this,a=JSON.parse(e);a.map(function(e){var a=t.numMap[e.transCode]||{},n=a.tdAmount,r=void 0===n?e.deposit:n;e.tdAmount=r}),this.numMap={},this.orderList=a},selCash:function(e){this.cashInfo=(0,d.default)({},e)},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,r=(0,i.default)(this.orderList);!(e=(n=r.next()).done);e=!0){var o=n.value;this.numMap[o.transCode]=(0,d.default)({},o)}}catch(e){t=!0,a=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw a}}this.showOrder=!0},checkAmt:function(e,t){switch(e){case"tdAmountCopy1":this.dealerInfo.tdAmountCopy1=(0,$.toFixed)(this.dealerInfo.tdAmountCopy1);break;case"tdAmount":this.cashInfo.tdAmount=(0,$.toFixed)(this.cashInfo.tdAmount);break;default:e[t]=(0,$.toFixed)(e[t])}}},created:function(){var e=sessionStorage.getItem("FGYSDJ_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.orderList=t.orderList,this.cashInfo=t.cashInfo,this.dealerParams={dealerCode:this.dealerInfo.dealerCode},sessionStorage.removeItem("FGYSDJ_DATA")}}}},SVCO:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("IHPB"),s=n(o),l=a("4YfN"),d=n(l),u=a("Jwlx"),c=n(u),f=a("HXPS"),h=n(f),m=a("7g+Q"),v=n(m),p=a("6q39"),C=(n(p),a("L6VY")),y=n(C),_=a("iR2W"),g=n(_),b=a("7biW"),w=n(b),I=a("hFVz"),D=a("1KNX"),x=n(D);t.default={name:"PopDealerList",props:{dealerLabelName:{type:String,default:"供应商"},defaultValue:{type:Object,default:function(){return{}}},required:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"},request:{type:String,default:"0"},params:{type:Object,default:function(){return{}}}},components:{Icon:h.default,Popup:v.default,DSearch:w.default,RScroll:x.default},data:function(){return{page:1,limit:10,hasNext:!0,showDealerPop:!1,srhInpTx:"",selInfo:{},selItems:[],listData:[],scrollOptions:{pullUpLoad:!0},requestMethods:null}},watch:{defaultValue:{handler:function(){var e=this.defaultValue;this.selInfo=(0,c.default)((0,d.default)({},e)),this.selItems=[(0,d.default)({},e)]},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showDealerPop=!1},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.dealerCode===e.dealerCode})},selItem:function(e,t){this.showDealerPop=!1,this.selItems=[e],this.selInfo=(0,c.default)((0,d.default)({},e)),this.$emit("sel-item",(0,d.default)({},this.selInfo))},getDealer:function(){var e=this,t=[];if(this.srhInpTx){var a="nickname";["3"].includes(this.request)&&(a="dealerName"),t=[].concat((0,s.default)(t),[{operator:"like",value:this.srhInpTx,property:a}])}return this.requestMethods((0,d.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,i.default)(t)},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+i.length,e.listData=1===e.page?i:[].concat((0,s.default)(e.listData),(0,s.default)(i)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})}).catch(function(e){y.default.show({content:e.message})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getDealer()},itemClick:function(){this.showDealerPop=!0},onPullingUp:function(){this.page++,this.getDealer()}},filters:{numberComma:g.default},created:function(){var e=[I.getPaySupplierArrears,I.getDepositToPaySuppliers,I.getSaleAcceptanceBill,I.getObjDealerBalByLabelName];this.requestMethods=e[this.request],this.getDealer()}}},ScA0:function(e,t){},SfL5:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("Q+Ik"),i=n(r),o=a("KH7x"),s=n(o),l=a("lC5x"),d=n(l),u=a("J0Oq"),c=n(u),f=a("a3Yh"),h=n(f),m=a("HzJ8"),v=n(m),p=a("3cXf"),C=n(p),y=a("4YfN"),_=n(y),g=a("PzEQ"),b=n(g),w=a("kNGm"),I=(n(w),a("0AQX")),D=a("HyXB"),x=a("bKg5"),P=n(x),S=a("y8YJ"),k=n(S),L=a("hLfv"),N=n(L),M=a("+WR7"),T=n(M),A=a("Q67R"),O=n(A),R=a("lsbD"),j=n(R);a("zWMP");t.default={components:{XTextarea:b.default,PopDealerList:k.default,PopBaseinfo:T.default,DealerOtherPart:N.default,ApplyMatterPart:O.default,OpButton:j.default},data:function(){return{numMap:{},formData:{creator:"",modifer:"",biId:"",biComment:"",biProcessStatus:""},dealerInfo:{},matterList:[],showMaterielPop:!1,contactInfo:{},filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"}]}},mixins:[P.default],methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0]},selContact:function(e){this.contactInfo=(0,_.default)({},e)},selMatter:function(e){var t=JSON.parse(e);t.map(function(e){e.price=e.price||"",e.taxRate=e.taxRate||.16,e.validUntil=e.validUntil||"",e.expiryDate=e.expiryDate||""}),this.matterList=t},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(t){return t.inventoryCode===e.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(e)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,C.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},checkAmt:function(e,t,a){e[t]=Math.abs(toFixed(a))},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerCode||(t="请选择供应商信息"),t||this.matterList.forEach(function(n){var r={},i=!0,o=!1,s=void 0;try{for(var l,d=(0,v.default)(e.submitMatterField);!(i=(l=d.next()).done);i=!0){var u=l.value;if(!(u.hidden||u.allowBlank||n[u.fieldCode]||n[u.showFieldCode])){t=u.text+"不为空";break}r[u.fieldCode]=n[u.fieldCode]||n[u.showFieldCode]||null}}catch(e){o=!0,s=e}finally{try{!i&&d.return&&d.return()}finally{if(o)throw s}}a.push(r)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=D.saveAndStartWf,n=(0,h.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r=(e.dealerInfo,{listId:e.listId,biComment:e.biComment,formData:(0,C.default)((0,_.default)({},e.formData,{handlerEntity:e.entity.dealerName,dealerDebitContactPersonName:e.contactInfo.dealerName||null,dealerDebitContactInformation:e.contactInfo.dealerMobilePhone||"",order:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName||"",drDealerPaymentTerm:e.dealerInfo.paymentTerm,dataSet:a}})),wfPara:(0,C.default)(n)});e.isResubmit&&(t=D.saveAndCommitTask,r.biReferenceId=e.biReferenceId),e.processCode.length||(t=D.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,c.default)(d.default.mark(function t(){return d.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,I.getSOList)({formViewUniqueId:e.uniqueId,transCode:e.transCode}).then(function(t){e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId;var a=t.formData;e.attachment=t.attachment,a.order.dataSet.map(function(t){t=(0,_.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode}),e.matterList.push(t)}),e.handlerDefault={handler:a.handler||a.creator,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,_.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),e.dealerInfo={creatorName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation,dealerCode:a.order.dealerDebit,dealerName:a.order.dealerName_dealerDebit,province:a.order.province_dealerDebit,city:a.order.city_dealerDebit,county:a.order.county_dealerDebit,address:a.order.address_dealerDebit,dealerLogisticsTerms:a.drDealerLogisticsTerms,paymentTerm:a.order.drDealerPaymentTerm||""},e.contactInfo={dealerName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation},e.$loading.hide()});case 2:case"end":return t.stop()}},t,e)}))()},hasDraftData:function(){return!!this.matterList.length&&(0,h.default)({},"CGXY_DATA",{matter:this.matterList,dealerInfo:this.dealerInfo,formData:this.formData,contactInfo:this.contactInfo})},splitConfig:function(e,t){var a=!0,n=!1,r=void 0;try{for(var o,l=(0,v.default)((0,i.default)(e));!(a=(o=l.next()).done);a=!0){var d=o.value,u=(0,s.default)(d,2),c=u[0];if(!u[1].readOnly){t.property=e.slice(0,c),t.editPart=e.slice(c);break}}}catch(e){n=!0,r=e}finally{try{!a&&l.return&&l.return()}finally{if(n)throw r}}}},created:function(){var e=sessionStorage.getItem("CGXY_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.dealerInfo=t.dealerInfo,this.formData=t.formData,this.contactInfo=t.contactInfo,sessionStorage.removeItem("CGXY_DATA")}}}},Sgei:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("IHPB"),s=n(o),l=a("iR2W"),d=n(l),u=a("kNGm"),c=n(u),f=a("QHLv"),h=a("0Nk0"),m=n(h);t.default={name:"PopMoneyOrderList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},required:{type:Boolean,default:!1},request:{type:String,default:"0"}},components:{RPopup:m.default},data:function(){return{page:1,limit:10,hasNext:!0,showPop:!1,srhInpTx:"",listData:[],scrollOptions:{pullUpLoad:!0},requestMethods:null}},watch:{show:{handler:function(e){this.showPop=e}},showPop:{handler:function(e){this.$emit("input",e)}}},methods:{selItem:function(e){this.$emit("sel-item",e)},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,s.default)(t),[{operator:"like",value:this.srhInpTx,property:"accepter"}])),this.requestMethods({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,i.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+i.length,e.listData=1===e.page?i:[].concat((0,s.default)(e.listData),(0,s.default)(i))})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()}},filters:{numberComma:d.default,dateFormat:c.default},created:function(){var e=[f.getInputDraft,f.getCashDiscount,f.getDraftBalance];this.requestMethods=e[this.request],this.getList()}}},ShHt:function(e,t,a){"use strict";function n(e){a("D8fo")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("N9Ou");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("RGJm"),s=a.n(o),l=a("Ggb2"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-0bbf486c",null);t.default=c.exports},SiYZ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("4YfN"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"RTab",props:{data:{type:Array,default:function(){return[{name:"全部",status:""},{name:"进行中",status:"进行中"},{name:"已生效",status:"已生效"},{name:"草稿",status:"草稿"}]}},activeIndex:{type:Number,default:0},mode:{type:String,default:"1"}},data:function(){return{activeTabIndex:0}},watch:{activeIndex:{handler:function(e){this.activeTabIndex=e},immediate:!0}},methods:{switchTab:function(e,t){this.activeTabIndex!==t&&(this.activeTabIndex=t,this.$emit("on-click",(0,r.default)({},e,{index:t})))}}}},SkkF:function(e,t){},Sksv:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("MjAd"),i=n(r),o=a("OTZ4"),s=n(o);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2395,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}],popShow:!1,requestParams:{calc_rel_code:8851,view_id:"view_113"}}},components:{PopTaskWorkList:s.default},mixins:[i.default],methods:{goEdit:function(){this.popShow=!0},selTask:function(e){var t=this.$route.query,a=t.name,n=t.listId,r=this.$route.params,i=r.folder,o=r.fileName;this.$router.push({path:"/fillform/"+i+"/"+o,query:{name:a,listId:n,inventoryCode:e[0].matCode,proPointCode:e[0].proPointCode}})}}}},SpA0:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"instance-item-wrapper",class:{visited:t.visited},on:{click:function(a){e.goDetail(t,n)}}},[a("div",{staticClass:"instance-summary"},[a("div",{staticClass:"instance-header"},[a("span",{staticClass:"instance_code vux-1px-l"},[e._v(e._s(t.transCode))]),e._v(" "),a("span",{staticClass:"instance_status",class:t.statusClass},[e._v(e._s(t.biStatus))])]),e._v(" "),a("div",{staticClass:"instance-top"},[a("span",{staticClass:"instance_dealer"},[e._v(e._s(t.dealerName))]),e._v(" "),a("span",{staticClass:"instance_process_status"},[e._v(e._s(t.biProcessStatus||"暂无流程"))])]),e._v(" "),a("div",{staticClass:"instance-amt-wrapper"},[a("div",{staticClass:"instance_amt"},[e._v("总支付￥"+e._s(e._f("numberComma")(t.count)))]),e._v(" "),a("div",{staticClass:"instance_count"},[e._v("共"+e._s(t.itemCount)+"笔")])])]),e._v(" "),a("div",{staticClass:"instance-detail vux-1px-t"},[e._l(t.detailItem,function(t,n){return a("div",{key:n,staticClass:"instance_detail_item"},[a("div",{staticClass:"instance_detail_code"},[e._v("协议号: "+e._s(t.transMatchedCode))]),e._v(" "),a("div",{staticClass:"instance_detail_amt_wrapper"},[a("div",{staticClass:"instance_detail_amt_item"},[a("div",{staticClass:"instance_detail_amt"},[e._v("￥"+e._s(e._f("numberComma")(t.thenTotalAmntBal)))]),e._v(" "),a("div",{staticClass:"instance_detail_title"},[e._v("总金额")])]),e._v(" "),a("div",{staticClass:"instance_detail_amt_item"},[a("div",{staticClass:"instance_detail_amt"},[e._v("￥"+e._s(e._f("numberComma")(t.differenceAmountCopy1)))]),e._v(" "),a("div",{staticClass:"instance_detail_title"},[e._v("采购定金")])]),e._v(" "),a("div",{staticClass:"instance_detail_amt_item"},[a("div",{staticClass:"instance_detail_amt"},[e._v("￥"+e._s(e._f("numberComma")(t.applicationAmount)))]),e._v(" "),a("div",{staticClass:"instance_detail_title"},[e._v("本次申请")])])])])}),e._v(" "),a("div",{staticClass:"instance-bottom"},[a("div",{staticClass:"instance_bottom_item instance_handler"},[a("i",{staticClass:"icon icon-handler"}),e._v(" "),a("span",[e._v("经办人："+e._s(t.handlerName))])]),e._v(" "),a("div",{staticClass:"instance_bottom_item instance_mod_time"},[a("i",{staticClass:"icon icon-mod-time"}),e._v(" "),a("span",[e._v("修改时间："+e._s(e._f("dateFormat")(t.modTime,"YYYY-MM-DD HH:mm")))])])])],2)])}),0)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},SpJC:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("YP5q"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"alert",components:{XDialog:r.default},created:function(){void 0!==this.value&&(this.showValue=this.value)},props:{value:Boolean,title:String,content:String,buttonText:String,hideOnBlur:{type:Boolean,default:!1},maskTransition:{type:String,default:"vux-mask"},dialogTransition:{type:String,default:"vux-dialog"},maskZIndex:[Number,String]},data:function(){return{showValue:!1}},methods:{_onHide:function(){this.showValue=!1}},watch:{value:function(e){this.showValue=e},showValue:function(e){this.$emit("input",e)}}}},Sqsx:function(e,t){},Srds:function(e,t,a){"use strict";function n(e){a("54l9")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("82Uv");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("riHU"),s=a.n(o),l=a("+29+"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-a2740a2c",null);t.default=c.exports},SyAi:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2433,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[r.default],methods:{},created:function(){}}},Syq3:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("3cXf"),s=n(o),l=a("IHPB"),d=n(l),u=a("MjAd"),c=n(u),f=a("1WsH");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"管理类",status:"M"},{name:"营销类",status:"Y"},{name:"技术类",status:"J"},{name:"专业类",status:"Z"},{name:"操作类",status:"C"}],biStatus:"",filterList:[{name:"职位名称",value:"name"}],activeName:""}},mixins:[c.default],methods:{getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=[];return this.activeTab.length&&(a=[{operator:"in",value:this.activeTab,property:"type"}]),this.serachVal&&(a=[].concat((0,d.default)(a),[{operator:"like",value:this.serachVal,property:"name"}]),this.activeTab.length&&(a[0].attendedOperation="and")),(0,f.getJobList)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(a),sort:(0,s.default)([{property:"crtTime",direction:"DESC"}])}).then(function(a){var n=a.dataCount,r=void 0===n?0:n,i=a.tableContent,o=void 0===i?[]:i;e.hasNext=r>(e.page-1)*e.limit+o.length,o.forEach(function(t){var a=["","使用中","未使用","草稿"];switch(t.status=a[t.status]||"停用",e.setStatus(t),t.type){case"Y":t.changeType="营销类";break;case"Z":t.changeType="专业类";break;case"J":t.changeType="技术类";break;case"C":t.changeType="操作类";break;case"M":t.changeType="管理类"}}),e.listData=1===e.page?o:e.listData.concat(o),t||e.$nextTick(function(){e.resetScroll()});var s="";t&&0===e.activeIndex&&e.total&&(s=r-e.total==0?"暂无新数据":s="新增"+(r-e.total)+"条数据",e.$vux.toast.show({text:s,position:"top",width:"50%",type:"text",time:700})),0===e.activeIndex&&1===e.page&&sessionStorage.setItem(e.applyCode,r),e.$loading.hide()}).catch(function(t){e.resetScroll()})},goNextPage:function(e,t,a){var n=this;if(!this.clickVisited){var r=this.$route.query.name,o=this.$route.params,s=o.folder,l=o.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,i.default)({},e));var d=a+"/"+s+"/"+l;setTimeout(function(){n.clickVisited=!1,n.$router.push({path:d,query:{name:r,id:e.id}})},200)}},goDetail:function(e,t){this.goNextPage(e,t,"/detail")},tabClick:function(e,t){this.activeIndex=t,this.activeTab=e.status,this.activeName="全部"===e.name?"":e.name,this.resetCondition(),this.getList()},goEdit:function(){var e=this.$route.query.name,t=this.$route.params,a=t.folder,n=t.fileName;this.$router.push({path:"/fillform/"+a+"/"+n,query:{name:e,jobType:this.activeName}})},setStatus:function(e){switch(e.status){case"使用中":e.statusClass="duty_done_c";break;default:e.statusClass="duty_fall_c"}}}}},"T+OD":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("SAzG"),i=n(r),o=a("iR2W"),s=(n(o),a("7g+Q")),l=n(s),d=a("1KNX"),u=n(d),c=a("Qg39");t.default={name:"PopMatterDetail",props:{show:{type:Boolean,default:!1},item:{type:Object,default:function(){return{}}},btnIsHide:{type:Boolean,default:!1},checkAmt:{type:Function,default:function(e,t,a){e[t]=Math.abs((0,c.toFixed)(a))}}},components:{Popup:l.default,RScroll:u.default,XInput:i.default},data:function(){return{showPop:!1,editParts:[],readOnlyParts:[]}},computed:{hasDate:function(){var e=this.item.dates,t=void 0===e?[]:e;return t&&t.length},hasEditPart:function(){return!!this.editParts.length}},watch:{show:{handler:function(e){this.showPop=e},immediate:!0},showPop:{handler:function(e){this.$emit("input",e)},immediate:!0},item:{handler:function(e){var t=e.others,a=void 0===t?[]:t,n=[],r=[];a.forEach(function(e){if(e.r2GridXtype&&!e.r2GridXtype.readOnly)return void(e.readOnly?r.push(e):n.push(e));r.push(e)}),this.editParts=n,this.readOnlyParts=r},immediate:!0,deep:!0}},methods:{getMatterDefault:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},hidePop:function(){this.showPop=!1},confirm:function(){var e="",t=this.item;if(this.editParts.every(function(a){var n=t[a.fieldCode];return a.allowBlank||n||0===n?(t[a.fieldCode]=n,!0):(e=a.text+"不能为空",!1)}),e)return void this.$vux.alert.show({content:e});this.$emit("on-confirm",t),this.showPop=!1},getFocus:function(e){event.currentTarget.select()}}}},"T2+C":function(e,t){},T4DS:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("3cXf"),s=n(o),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),h=n(f),m=a("SAzG"),v=n(m),p=a("7g+Q"),C=n(p),y=a("PzEQ"),_=n(y),g=a("jnZd"),b=n(g),w=a("0AQX"),I=a("HyXB"),D=(a("jLp1"),a("bKg5")),x=n(D),P=a("aumL"),S=n(P),k=a("vl8n"),L=n(k),N=a("+WR7"),M=n(N),T=a("y8YJ"),A=n(T),O=a("zWMP");a("Qg39");t.default={mixins:[x.default],components:{Cell:c.default,Group:h.default,Popup:C.default,XInput:v.default,XTextarea:_.default,PopFundList:S.default,PopupPicker:b.default,RPicker:L.default,PopBaseinfo:M.default,PopDealerList:A.default},data:function(){return{listId:"b6b97d33-5d8e-4942-b978-09103d06f188",biComment:"",biReferenceId:"",showCostPop:!1,CostList:[{cashName:"",cashInCode:"",cashType_cashInCode:"",tdAmount:""}],selectedCost:[],costIndex:0,transCode:"",dealerInfo:{},contact:{},formData:{biComment:"",biProcessStatus:""}}},computed:{totalAmount:function(){var e=0;return this.CostList.forEach(function(t){t.tdAmount&&(e=(0,O.accAdd)(e,t.tdAmount))}),e}},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0]},selContact:function(e){this.contact=(0,d.default)({},e)},getCost:function(e,t){this.showCostPop=!0,this.costIndex=e,this.selectedCost=[t]},addCost:function(){this.expSubjectList=[],this.CostList.push({cashName:"",cashInCode:"",cashType_cashInCode:"",tdAmount:""})},deleteCost:function(){this.CostList.pop()},selMatter:function(e){var t=e;this.CostList[this.costIndex].cashName=t.fundName,this.CostList[this.costIndex].cashInCode=t.fundCode,this.CostList[this.costIndex].cashType_cashInCode=t.fundType},submitOrder:function(){var e=this,t="",a=[];if(this.CostList.every(function(e){return e.cashName?e.tdAmount?(a.push({tdId:e.tdId||"",cashInCode:e.cashInCode,cashType_cashInCode:e.cashType_cashInCode,tdAmount:e.tdAmount}),!0):(t="请填写支付金额",!1):(t="请选择资金账户",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=I.saveAndStartWf,n=(0,i.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,s.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:"",formData:(0,s.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName,dataSet:a},dealerCreditContactPersonName:e.contact.dealerName||null,dealerCreditContactInformation:e.contact.dealerMobilePhone||null})),wfPara:(0,s.default)(n)};e.isResubmit&&(r.biReferenceId=e.biReferenceId,t=I.saveAndCommitTask),e.processCode.length||(t=I.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,w.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.attachment=t.attachment,e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.CostList=[];var a=t.formData;e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),a.order.dataSet.forEach(function(t){var a={cashName:t.fundName_cashInCode,cashInCode:t.cashInCode,cashType_cashInCode:t.cashType_cashInCode,tdAmount:t.tdAmount,tdId:t.tdId};e.CostList.push(a)}),e.dealerInfo={creatorName:a.dealerCreditContactPersonName,dealerMobilePhone:a.dealerCreditContactInformation,dealerCode:a.order.dealerCodeCredit,dealerLabelName:a.order.crDealerLabel,dealerName:a.order.dealerName_dealerCodeCredit,province:a.order.province_dealerDebit,city:a.order.city_dealerDebit,county:a.order.county_dealerDebit,address:a.order.address_dealerCodeCredit},e.contact={dealerName:a.dealerCreditContactPersonName,dealerMobilePhone:a.dealerCreditContactInformation},e.$loading.hide()})},hasDraftData:function(){var e=!1;return this.CostList.forEach(function(t){if(t.cashName)return e=!0,!1}),!!e&&(0,i.default)({},"SK_DATA",{cost:this.CostList,formData:this.formData,dealerInfo:this.dealerInfo,contact:this.contact})}},created:function(){var e=sessionStorage.getItem("SK_DATA");if(e){var t=JSON.parse(e);this.CostList=t.cost,this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.contact=t.contact,sessionStorage.removeItem("SK_DATA")}}}},T4oK:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages"},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("tab-item",{attrs:{tabVal:e.listView},on:{"tab-click":e.tabClick}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},[e.activeTab.includes("核销余额")?e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"verification-item-wrapper"},[a("div",{staticClass:"verification-main"},[a("img",{staticClass:"verification_img",attrs:{src:t.appIcon}}),e._v(" "),a("div",{staticClass:"verification_info"},[a("div",{staticClass:"app_name"},[e._v(e._s(t.appTitle))]),e._v(" "),a("div",{staticClass:"verification_info_item"},[a("span",{staticClass:"verification_info_title"},[e._v("应用类型: ")]),e._v(e._s(t.transName)+"\n              ")]),e._v(" "),a("div",{staticClass:"verification_info_item"},[a("span",{staticClass:"verification_info_title"},[e._v("实例编码: ")]),e._v(e._s(t.transCode)+"\n              ")]),e._v(" "),a("div",{staticClass:"verification_info_item"},[a("span",{staticClass:"verification_info_title"},[e._v("往来编码: ")]),e._v(e._s(t.dealerCode)+"\n              ")]),e._v(" "),a("div",{staticClass:"verification_info_item"},[a("span",{staticClass:"verification_info_title"},[e._v("往来名称: ")]),e._v(e._s(t.dealerName)+"\n              ")]),e._v(" "),a("div",{staticClass:"verification_info_item"},[a("span",{staticClass:"verification_info_title"},[e._v("结算方式: ")]),e._v(e._s(t.paymentTerm||"无")+"\n              ")]),e._v(" "),a("div",{staticClass:"verification_info_item"},[a("span",{staticClass:"verification_info_title"},[e._v("记账日期与时间: ")]),e._v("\n                "+e._s(e._f("dateFormat")(t.effectiveTime,"YYYY-MM-DD")||"无")+"\n              ")]),e._v(" "),a("div",{staticClass:"verification_info_item"},[a("span",{staticClass:"verification_info_title"},[e._v("到期日: ")]),e._v("\n                "+e._s(e._f("dateFormat")(t.paymentDays,"YYYY-MM-DD")||"无")+"\n              ")])])]),e._v(" "),a("div",{staticClass:"verification-split"}),e._v(" "),a("div",{staticClass:"verification-bottom"},[a("div",{staticClass:"verification_bottom_item days"},[a("div",{staticClass:"verification_bottom_value"},[e._v(e._s(t.daysOfAccount||0))]),e._v(" "),a("div",{staticClass:"verification_bottom_title"},[e._v("账期天数")])]),e._v(" "),a("div",{staticClass:"verification_bottom_item acount_day"},[a("div",{staticClass:"verification_bottom_value"},[e._v(e._s(t.paymentSurplusDays||"无"))]),e._v(" "),a("div",{staticClass:"verification_bottom_title"},[e._v("剩余天数")])]),e._v(" "),a("div",{staticClass:"verification_bottom_item"},[a("div",{staticClass:"verification_bottom_value"},[e._v(e._s(t.accountAge))]),e._v(" "),a("div",{staticClass:"verification_bottom_title"},[e._v("账龄天数")])])]),e._v(" "),a("div",{staticClass:"verification-bottom"},[a("div",{staticClass:"verification_bottom_item days"},[a("div",{staticClass:"verification_bottom_value"},[e._v(e._s(e._f("numberComma")(t.drAmnt)))]),e._v(" "),a("div",{staticClass:"verification_bottom_title"},[e._v("发生金额")])]),e._v(" "),a("div",{staticClass:"verification_bottom_item"},[a("div",{staticClass:"verification_bottom_value"},[e._v(e._s(t.crAmnt))]),e._v(" "),a("div",{staticClass:"verification_bottom_title"},[e._v("已核销")])]),e._v(" "),a("div",{staticClass:"verification_bottom_item amt"},[a("div",{staticClass:"verification_bottom_value"},[e._v("\n                "+e._s(e._f("numberComma")(t.amountBalance))+"\n              ")]),e._v(" "),a("div",{staticClass:"verification_bottom_title"},[e._v("金额余额")])])])])}):e.activeTab.includes("手动核销明细")?e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"classification-item-wrapper"},[a("div",{staticClass:"classification-header-wrapper"},[a("div",{staticClass:"classification_app"},[a("div",{staticClass:"app_top"},[a("div",{staticClass:"app_name"},[e._v(e._s(t.appTitle))])]),e._v(" "),a("div",{staticClass:"classification_detail_item"},[a("span",{staticClass:"classification_detail_title"},[e._v("应用类型: ")]),e._v(e._s(t.transName)+"\n              ")]),e._v(" "),a("div",{staticClass:"classification_detail_item"},[a("span",{staticClass:"classification_detail_title"},[e._v("实例编码: ")]),e._v(e._s(t.transCode)+"\n              ")]),e._v(" "),a("div",{staticClass:"classification_detail_item"},[a("span",{staticClass:"classification_detail_title"},[e._v("记账与生效日期: ")]),e._v("\n                "+e._s(e._f("dateFormat")(t.effectiveTime,"YYYY-MM-DD"))+"\n              ")])])]),e._v(" "),a("div",{staticClass:"classification-split"}),e._v(" "),a("div",{staticClass:"dealer-info"},[a("div",{staticClass:"dealer_detail"},[a("div",{staticClass:"dealer"},[a("span",{staticClass:"title"},[e._v("往来名称: ")]),e._v(e._s(t.dealerName||"暂无")+"\n              ")]),e._v(" "),a("div",{staticClass:"dealer"},[a("span",{staticClass:"title"},[e._v("往来编码: ")]),e._v(e._s(t.dealerCode||"暂无")+"\n              ")]),e._v(" "),a("div",{staticClass:"dealer"},[a("span",{staticClass:"title"},[e._v("往来关系标签: ")]),e._v(e._s(t.dealerLabel||"暂无")+"\n              ")])]),e._v(" "),a("div",{staticClass:"dealer_amt_wrapper"},[a("div",{staticClass:"dealer_amt"},[e._v(e._s(e._f("numberComma")(t.amount))+"\n              ")]),e._v(" "),a("div",{staticClass:"text"},[e._v("核销金额")])])])])}):e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"each_duty",on:{click:function(a){e.getFlow(t)}}},[a("div",{staticClass:"duty_top"},[a("div",{staticClass:"basic_info"},[a("span",{staticClass:"warehouse warehouse_name"},[e._v("\n                  "+e._s(t.accountSub)+"\n                ")]),e._v(" "),a("span",{staticClass:"warehouse warehouse_code"},[e._v(e._s(t.dealerCode))])]),e._v(" "),void 0!==t.accountAge?a("div",{staticClass:"mater_code"},[a("span",{staticClass:"title"},[e._v("账龄天数")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(t.accountAge))])]):e._e()]),e._v(" "),t.dealerName?a("div",{staticClass:"matter"},[a("div",{staticClass:"matter_name"},[e._v("\n              "+e._s(t.dealerName)+"\n            ")])]):e._e(),e._v(" "),a("div",{staticClass:"duty_btm",class:{"vux-1px-t":t.dealerName}},[a("div",{staticClass:"ware_type"}),e._v(" "),""!==t.amountBalance?a("div",{staticClass:"balance"},[a("span",{staticClass:"symbol"},[e._v("余额: ")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(t.amountBalance)))+"\n            ")]):e._e()])])})],2),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{attrs:{position:"bottom",height:"80%"},model:{value:e.flowShow,callback:function(t){e.flowShow=t},expression:"flowShow"}},[a("r-scroll",{ref:"flowListWrapper",staticClass:"flow_list_wrapper",attrs:{options:e.FlowScrollOptions,"has-next":e.FlowHasNext,"no-data":!e.FlowHasNext&&!e.flowData.length},on:{"on-pulling-up":e.onPullingUpFlow}},[a("div",{staticClass:"flow"},[a("div",{staticClass:"flow_top"},[a("div",{staticClass:"title"},[e._v("流水详情")])]),e._v(" "),a("div",{staticClass:"flow_list"},e._l(e.flowData,function(t,n){return a("div",{key:n,staticClass:"each_flow",on:{click:function(e){e.stopPropagation(),t.showList=!t.showList}}},[a("div",{staticClass:"duty_top"},[a("div",{staticClass:"transCode"},[a("span",{staticClass:"order_title"},[e._v("编码")]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(t.transCode))])]),e._v(" "),a("div",{staticClass:"time"},[e._v("\n                    "+e._s(e._f("dateFormat")(t.calcTime))+"\n                  ")])]),e._v(" "),a("div",{staticClass:"show_list"},[a("div",{staticClass:"app_name"},[e._v("\n                    "+e._s(t.appTitle)),a("span",{staticClass:"symbol"},[e._v("[应用]")])]),e._v(" "),a("div",{staticClass:"num_info"},[a("div",{staticClass:"count"},[a("div",{staticClass:"num_part"},[a("span",{staticClass:"symbol"},[e._v("借方金额: ")]),e._v(" "),t.drAmnt>0?a("span",{staticClass:"number_incre"},[e._v("\n                          "+e._s(e._f("toFixed")(t.drAmnt))+"\n                        ")]):a("span",[e._v(" 0")])])]),e._v(" "),a("div",{staticClass:"amount_money"},[a("div",{staticClass:"num_part"},[a("span",{staticClass:"symbol"},[e._v("贷方金额: ")]),e._v(" "),t.crAmnt>0?a("span",{staticClass:"number_incre"},[e._v("\n                          "+e._s(e._f("toFixed")(t.crAmnt))+"\n                        ")]):a("span",[e._v(" 0")])])]),e._v(" "),a("div",{staticClass:"count"},[a("div",{staticClass:"num_part"},[a("span",{staticClass:"symbol"},[e._v("记账日期与时间: ")]),e._v(" "),a("span",[e._v(" "+e._s(e._f("dateFormat")(t.effectiveTime)))])])])])]),e._v(" "),a("div",{staticClass:"summary_part vux-1px-t"},[a("div",{staticClass:"number"}),e._v(" "),a("div",{staticClass:"price"},[a("span",{staticClass:"symbol"},[e._v("当前余额:")]),e._v(" "),a("span",{class:{increase:t.amountBalance>0,reduce:t.amountBalance<0}},[e._v("\n                      "+e._s(e._f("numberComma")(e._f("toFixed")(t.amountBalance)))+"\n                    ")])])])])}),0)])]),e._v(" "),a("div",{staticClass:"btn when_less"},[a("span",{staticClass:"cfm_btn",on:{click:function(t){e.flowShow=!1}}},[e._v("关闭")])])],1)],1)],1)])},r=[],i={render:n,staticRenderFns:r};t.a=i},T5Lg:function(e,t,a){"use strict";function n(e){a("LoA2")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("tO34");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("53yf"),s=a.n(o),l=a("lTs5"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-aa5ff71a",null);t.default=c.exports},"TDh+":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("MgeX"),i=n(r),o=a("HzJ8"),s=n(o),l=a("4YfN"),d=n(l),u=a("3cXf"),c=n(u),f=a("IHPB"),h=n(f),m=a("HXPS"),v=n(m),p=a("7g+Q"),C=n(p),y=a("1KNX"),_=n(y),g=(a("vS5q"),a("I3vJ")),b=a("7biW"),w=n(b);t.default={name:"PopOrderXQTJList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Object,default:function(){return{}}},listMethod:{type:String,default:"getDemandAdjustment"},params:{type:Object,default:function(){return{}}}},components:{Icon:v.default,Popup:C.default,RScroll:_.default,RSearch:w.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],listData:[],limit:100,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterProperty:"",filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"交易号",value:"transCode"}]}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}},params:{handler:function(){this.getList()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,h.default)(this.selItems)),this.$emit("input",!1),this.$event.$emit("shut-down-filter",!1)},findIndex:function(e,t){return e.findIndex(function(e){var a=!0,n=!0;return e.orderCode&&(a=e.orderCode===t.orderCode),e.colId&&(n=e.colId===t.colId),a&&n&&e.transCode===t.transCode&&e.inventoryCode===t.inventoryCode})},showSelIcon:function(e){return-1!==this.findIndex(this.tmpItems,e)},selThis:function(e,t){if(["getInProcessingOrder","getInProcessingStorage"].includes(this.listMethod)&&!e.orderCode)return void this.$vux.alert.show({content:"当前订单号不存在，不可选择"});if(e.qtyBal&&e.qtyStock<=0)return void this.$vux.alert.show({content:"当前库存为0，不可选择"});var a=this.tmpItems,n=this.findIndex(a,e);if(-1!==n)return void a.splice(n,1);a.push(e)},selConfirm:function(){this.showPop=!1,this.tmpItems.sort(function(e,t){return t.effectiveTime-e.effectiveTime}),this.selItems=[].concat((0,h.default)(this.tmpItems)),this.$emit("sel-matter",(0,c.default)(this.selItems))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getList:function(){var e=this,t=[];this.srhInpTx&&(t=[{operator:"like",value:this.srhInpTx,property:this.filterProperty}]);var a=this.$route.query.relationKey,n=void 0===a?"":a;return n&&(t=[{operator:"eq",value:n,property:"transCode"}]),(0,g.getXQTJList)((0,d.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,c.default)(t)},this.params),this.listMethod).then(function(t){var a=t.dataCount,r=void 0===a?0:a,i=t.tableContent,o=void 0===i?[]:i;o.forEach(function(t){t.inventoryPic=t.inventoryPic?"/H_roleplay-si/ds/download?url="+t.inventoryPic+"&width=400&height=400":e.getDefaultImg()}),n&&(e.selItems=[].concat((0,h.default)(o)),e.$emit("sel-matter",(0,c.default)(e.selItems))),e.hasNext=r>(e.page-1)*e.limit+o.length,e.listData=1===e.page?o:[].concat((0,h.default)(e.listData),(0,h.default)(o)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},resetCondition:function(){this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,r=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=r,this.resetCondition(),this.getList()},clearList:function(){this.srhInpTx="",this.resetCondition(),this.getList()},delSelItem:function(e){var t=this.findIndex(this.selItems,e);-1!==t&&this.selItems.splice(t,1),this.tmpItems=[].concat((0,h.default)(this.selItems))},clearSel:function(){this.selItems=[],this.tmpItems=[]},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var r,o=(0,s.default)((0,i.default)(this.defaultValue));!(t=(r=o.next()).done);t=!0){var l=r.value;e=[].concat((0,h.default)(e),(0,h.default)(l))}}catch(e){a=!0,n=e}finally{try{!t&&o.return&&o.return()}finally{if(a)throw n}}this.tmpItems=[].concat((0,h.default)(e)),this.selItems=[].concat((0,h.default)(e))}},created:function(){this.showPop=this.show,this.setDefaultValue(),this.getList()}}},TIeJ:function(e,t,a){"use strict";function n(e){a("qpOy")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("eQeJ");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("Fjox"),s=a.n(o),l=a("z4/z"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-8443a77a",null);t.default=c.exports},TJSi:function(e,t){},TJZS:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("3cXf"),s=n(o),l=a("ZLEe"),d=n(l),u=a("4YfN"),c=n(u),f=a("HzJ8"),h=n(f),m=a("z5TY"),v=n(m),p=a("7g+Q"),C=(n(p),a("SAzG")),y=n(C),_=a("PzEQ"),g=n(_),b=a("u28h"),w=n(b),I=a("Pkp+"),D=n(I),x=a("+WR7"),P=n(x),S=a("y8YJ"),k=n(S),L=a("lsbD"),N=n(L),M=a("HyXB"),T=a("0AQX"),A=a("bKg5"),O=n(A);t.default={name:"ApplyCPXQForm",data:function(){return{listId:"b30f4d3e-b23d-11e8-96a5-005056a136d0",formViewUniqueId:"b018ef18-f0d1-41a8-985e-29de19e6b705",formData:{biId:"",demandTitle:"",demandDescribe:"",biComment:""},biReferenceId:"",dealerInfo:{},contactInfo:{},uploadStyle:{}}},mixins:[O.default],components:{Group:v.default,XInput:y.default,XTextarea:g.default,Datetime:w.default,RPicker:D.default,PopBaseinfo:P.default,PopDealerList:k.default,OpButton:N.default},computed:{bigType:function(){return this.formData.demandType}},watch:{bigType:{handler:function(e){var t=this;if(e){var a="",n=!0,r=!1,i=void 0;try{for(var o,s=(0,h.default)(this.otherConfig);!(n=(o=s.next()).done);n=!0){var l=o.value;!function(n){if("demandType"===n.fieldCode){var r=!0,i=!1,o=void 0;try{for(var s,l=(0,h.default)(n.remoteData);!(r=(s=l.next()).done);r=!0){var d=s.value;if(d.name===e){a=d.type;break}}}catch(e){i=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw o}}}if("demandSubclass"===n.fieldCode){var u={url:n.dataSource.data.url,data:{value:a}};(0,M.requestData)(u).then(function(e){var a=e.tableContent,r=void 0===a?[]:a;null!=t.formData.demandSubclass?t.formData.demandSubclass=r[0].name:t.$set(t.formData,"demandSubclass",r[0].name),r.forEach(function(e){e.originValue=e.value,e.name=e[n.displayField],e.value=e[n.displayField]}),n.remoteData=r})}}(l)}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}}}}},methods:{selContact:function(e){this.contactInfo=(0,c.default)({},e)},selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],this.formData.launchDealerCode=this.dealerInfo.dealerCode},getDate:function(e,t){var a=this;this.$vux.datetime.show({confirmText:"确认",cancelText:"取消",onConfirm:function(n){if(null==e[t.fieldCode])return void a.$set(e,t.fieldCode,n);e[t.fieldCode]=n}})},save:function(){var e=this;for(var t in this.formData)"string"==typeof this.formData[t]&&this.formData[t].indexOf(" ")>=0&&(this.formData[t]=this.formData[t].replace(/\s/g,""));var a="";if((0,d.default)(this.dealerParams).length&&!this.dealerInfo.dealerCode&&(a="请选择客户"),!a&&this.submitMatterField.every(function(t){return!!(t.hidden||t.allowBlank||e.formData[t.fieldCode])||(a=t.fieldLabel+"不能为空",!1)}),a)return void this.$vux.alert.show({content:a});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=e.formData,a=(0,d.default)(e.dealerParams).length?{productDealerCode:e.dealerInfo.dealerCode,address_productDealerCode:e.dealerInfo.address,demandDealerLabel:e.dealerInfo.dealerLabelName,dealerName_productDealerCode:e.dealerInfo.dealerName}:{},n=(0,d.default)(e.dealerParams).length?{dealerDebitContactPersonName:e.contactInfo.dealerName,dealerDebitContactInformation:e.contactInfo.dealerMobilePhone}:{},r=e.processCode.length?M.saveAndStartWf:M.submitAndCalc,i={biComment:"",listId:e.listId,biReferenceId:e.biReferenceId,formData:(0,s.default)((0,c.default)({handlerEntity:e.entity.dealerName},t,a,n))};e.transCode&&(r=M.updateData),e.saveData(r,i)}})},getFormData:function(){var e=this;return(0,T.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.biReferenceId,s=void 0===o?"":o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=t.attachment,e.biReferenceId=s,e.handlerDefault={handle:i.handler,handlerName:i.handlerName,handlerRole:i.handlerRole,handlerRoleName:i.handlerRoleName,handlerUnit:i.handlerUnit,handlerUnitName:i.handlerUnitName},e.formData=(0,c.default)({},e.formData,i),e.dealerInfo={dealerCode:i.productDealerCode,address:i.address_productDealerCode,dealerLabelName:i.demandDealerLabel,dealerName:i.dealerName_productDealerCode},e.contactInfo={dealerName:i.dealerDebitContactPersonName,dealerMobilePhone:i.dealerDebitContactInformation},e.$loading.hide()})},hasDraftData:function(){var e=this.formData;if(e.demandTitle||e.demandDescribe||e.biProcessStatus)return(0,i.default)({},"CPXQ_DATA",{formData:this.formData,dealerInfo:this.dealerInfo,contactInfo:this.contactInfo})}},created:function(){var e=sessionStorage.getItem("CPXQ_DATA");e&&(this.formData=JSON.parse(e).formData,this.dealerInfo=JSON.parse(e).dealerInfo,this.contactInfo=JSON.parse(e).contactInfo,sessionStorage.removeItem("CPXQ_DATA"))}}},TTvH:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("BGNQ"),s=n(o),l=a("z5TY"),d=n(l),u=a("iR2W"),c=n(u),f=a("jLp1"),h=a("+VRO"),m=n(h),v=a("zWMP"),p=a("BUFe"),C=n(p);t.default={data:function(){return{approval:{},comment:{}}},filters:{timeSplit:function(e){return e?e.split(" ")[0]:""}},mixins:[m.default],components:{Group:d.default,Cell:s.default,RAction:C.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,f.findProjectApproval)(t).then(function(t){var a=t.formData,n=void 0===a?{}:a,r=t.attachment,o=void 0===r?[]:r;e.approval=n.projectApproval,e.attachment=o,e.comment=n.comment,e.orderInfo=(0,i.default)({},n.baseinfo,n.comment,{biStatus:"已生效"})})},numberComma:function(e){return e||0===e?(0,c.default)(e):"无"},percent:function(e){return e||0===e?(0,v.accMul)(e,100)+"%":"无"}},created:function(){}}},TUCG:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"or_ads",on:{click:e.warehouseClick}},[a("div",[a("div",{staticClass:"each_property"},[a("label",[e._v(e._s(e.title))]),e._v(" "),a("div",{staticClass:"picker"},[a("span",{staticClass:"mater_nature"},[e._v(e._s(e.selItems.taskName||"请选择"))]),e._v(" "),a("span",{staticClass:"icon-right"})])])]),e._v(" "),e.disabled?e._e():a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("d-search",{on:{search:e.searchList}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"pop-list-container",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"pop-mater-list-item box_sd",class:{selected:e.showSelIcon(t)},on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"pop-list-main "},[a("div",{staticClass:"pop-list-info"},[a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline name",staticStyle:{display:"inline-block"}},[a("span",[e._v(e._s(t.taskName))])]),e._v(" "),a("div",{staticClass:"ForInline name",staticStyle:{display:"inline-block"}},[a("span")])]),e._v(" "),a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline ",staticStyle:{display:"inline-block"}},[a("span",{staticClass:"project_name"},[e._v("项目名称："+e._s(t.projectName))])])])])])])}),0)],1)])],1)])},r=[],i={render:n,staticRenderFns:r};t.a=i},TUz9:function(e,t,a){"use strict";function n(e){a("76tj")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("oA6L");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("MgnL"),s=a.n(o),l=a("v3Wb"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-326f58e3",null);t.default=c.exports},TXh4:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("a3Yh"),s=n(o),l=a("4YfN"),d=n(l),u=a("7g+Q"),c=n(u),f=a("+62G"),h=n(f),m=a("z5TY"),v=n(m),p=a("BGNQ"),C=n(p),y=a("iR2W"),_=n(y),g=a("u28h"),b=n(g),w=a("SAzG"),I=n(w),D=a("PzEQ"),x=n(D),P=a("HyXB"),S=a("fEP3"),k=a("0AQX"),L=a("bKg5"),N=n(L),M=a("wRUd"),T=n(M),A=a("89pA"),O=n(A),R=a("oxLw"),j=n(R),B=a("vl8n"),E=n(B),F=a("FlCz"),U=n(F),$=a("+WR7"),H=n($),V=a("0o6b"),q=a("Qg39"),Q=a("zWMP");t.default={directives:{TransferDom:h.default},components:{Popup:c.default,PopWorkCheckList:j.default,Group:v.default,Cell:C.default,Datetime:b.default,XInput:I.default,XTextarea:x.default,PopManagerList:T.default,RPicker:E.default,PopWarehouseList:O.default,BomList:U.default,PopBaseinfo:H.default},data:function(){return{listId:"f9f1e0cb-7edf-43aa-b2f2-527e2525b96e",showWorkPop:!1,dealer:{},formData:{biComment:""},workInfo:{},defaultManager:{},biProcessStatus:"",scanResult:"",warehouse:{},filterParams:[{property:"warehouseType",operator:"eq",value:"加工车间仓"}],bomList:[],showManagerPop:!1,warehouseStoreInfo:{}}},mixins:[N.default],filters:{numberComma:_.default},methods:{selWork:function(e){var t=this;e.tdQty=e.qtyBal,this.workInfo=e,(0,S.getBomWorkCheck)({transCode:e.transCode,inventoryCode:e.matCode}).then(function(e){var a=e.tableContent,n=void 0===a?[]:a;t.bomList=n,t.setBomQty()})},showManager:function(){this.showManagerPop=!this.showManagerPop},selManager:function(e){this.defaultManager=JSON.parse(e),this.workInfo.dealerName_dealerDebit=this.defaultManager.dealerName,this.workInfo.dealerDebit=this.defaultManager.dealerCode},checkAmt:function(e){var t=e.tdQty,a=e.qtyBal;e.tdQty=Math.abs((0,q.toFixed)(t)),t&&(t>a&&(e.tdQty=a),this.setBomQty())},getStore:function(e){this.warehouseStoreInfo=(0,d.default)({},e)},submitOrder:function(){var e=this,t="",a=[],n=[];if(this.workInfo.transCode||(t="请选择工序"),this.defaultManager.dealerCode||(t="验收者不能为空"),t||this.warehouse.warehouseCode||(t="请选择入库仓库"),t||this.warehouseStoreInfo.warehouseCode||(t="请选择库位"),t)return void this.$vux.alert.show({content:t});var r=this.workInfo;a.push({transMatchedCode:r.transCode,orderCode:r.orderCode,processCode:r.processCode,proPointCode:r.proPointCode,thenQtyBal:r.qtyBal,tdQty:r.tdQty,rearProPointCode:r.rearProPointCode||"",dealerDebit:this.defaultManager.dealerCode,proFlowCode:r.proFlowCode||"",transObjCode:r.matCode,tdProcessing:r.processing,skinFee:r.skinFee,wages:r.wages}),this.bomList.forEach(function(t){n.push({inventoryName_outPutMatCode:t.inventoryName,outPutMatCode:t.inventoryCode,proPointCode:r.proPointCode,transMatchedCode:r.transCode,orderCode:r.orderCode,processCode:r.processCode,parentInventoryCode:r.matCode,processProCode:r.matCode,tdProcessing:t.processing,specification_outPutMatCode:t.specification,measureUnit_outPutMatCode:t.measureUnit,containerCodeOut:t.whCode,warehouseName_storehouseOutCode:t.warehouseName,storehouseOutCode:e.warehouseStoreInfo.warehouseCode,bomType:t.bomType,bomQty:t.qty,bomSpecificLoss:t.specificLoss,tdQty:t.tdQty})}),this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=P.saveAndStartWf,o=(0,s.default)({},e.processCode,{businessKey:e.businessKey,createdBy:"",acceptor:r.dealerDebit,inWarehouseName:e.warehouse.warehouseName});e.isResubmit&&"进行中"===e.formStatus&&(o={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:e.formData.biComment});var l={listId:e.listId,biComment:e.formData.biComment,formData:(0,i.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,biProcessStatus:e.biProcessStatus||null,containerInWarehouseManager:e.warehouse.containerInWarehouseManager||null,order:{containerCode:e.warehouse.warehouseCode,warehouseName_containerCode:e.warehouse.warehouseName,storehouseInCode:e.warehouseStoreInfo.warehouseCode,warehouseInType:e.warehouseStoreInfo.warehouseType,dataSet:a},outPut:{containerCode:e.warehouse.warehouseCode,dataSet:n}})),wfPara:(0,i.default)(o)};e.isResubmit&&"进行中"===e.formStatus?(t=P.saveAndCommitTask,l.biReferenceId=e.biReferenceId):e.isResubmit&&"已生效"===e.formStatus&&(t=P.updateData),e.processCode.length||(t=P.submitAndCalc,delete l.wfPara,delete l.biReferenceId),e.biReferenceId&&(l.biReferenceId=e.biReferenceId),e.saveData(t,l)}})},getFormData:function(){var e=this;return(0,k.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=t.attachment;var o=i.order,s=i.outPut,l=o.dataSet,u=void 0===l?[]:l,c=s.dataSet;e.workInfo=(0,d.default)({},u[0],{matCode:u[0].transObjCode,inventoryName:u[0].inventoryName_transObjCode,procedureName:u[0].procedureName_proPointCode,technicsName:u[0].technicsName_proFlowCode,qtyBal:u[0].thenQtyBal,transCode:u[0].transMatchedCode,processing:u[0].tdProcessing||null,wareName:o.warehouseName_containerCode,whInCode:o.containerCode,wareAddress:o.warehouseAddress_containerCode,dealerName:u[0].dealerName_dealerDebit,dealerCode:u[0].dealerDebit,dealerLabel:u[0].drDealerLabel}),e.defaultManager={dealerName:u[0].dealerName_dealerDebit,dealerCode:u[0].dealerDebit,dealerLabel:u[0].drDealerLabel},e.facility={facilityName:u[0].facilityName_facilityObjCode,facilityCode:u[0].facilityObjCode,facilityType:u[0].facilityTypebase_facilityObjCode},c.forEach(function(e){e.inventoryCode=e.outPutMatCode,e.inventoryName=e.inventoryName_outPutMatCode,e.measureUnit=e.measureUnit_outPutMatCode,e.parentInvCode=e.processProCode,e.processing=e.tdProcessing,e.qty=e.bomQty,e.whCode=e.containerCodeOut,e.specification=e.specification_outPutMatCode||"无",e.specificLoss=e.bomSpecificLoss||0}),e.bomList=c,e.warehouse={warehouseCode:o.containerCode,warehouseName:o.warehouseName_containerCode,warehouseType:o.warehouseType_containerCode,warehouseProvince:o.warehouseProvince_containerCode,warehouseCity:o.warehouseCity_containerCode,warehouseDistrict:o.warehouseDistrict_containerCode,warehouseAddress:o.warehouseAddress_containerCode},e.handlerDefault={handler:i.handler,handlerName:i.handlerName,handlerUnit:i.handlerUnit,handlerUnitName:i.handlerUnitName,handlerRole:i.handlerRole,handlerRoleName:i.handlerRoleName},e.formData=(0,d.default)({},e.handlerDefault,{biComment:i.biComment,biId:i.biId,biProcessStatus:i.biProcessStatus,creator:i.creator,modifer:i.modifer}),e.biProcessStatus=i.biProcessStatus,e.biReferenceId=i.biReferenceId,e.$loading.hide()})},scanQRCode:function(){var e=this;(0,V.scanQRCode)().then(function(t){var a=t.result,n=void 0===a?"":a;e.scanResult=n})},selWarehouse:function(e){this.warehouse=JSON.parse(e)},setBomQty:function(){var e=this.workInfo.tdQty;this.bomList=this.bomList.map(function(t){return(0,d.default)({},t,{tdQty:(0,q.toFixed)((0,Q.accMul)(t.qty,e,1+t.specificLoss),2)})})}},created:function(){}}},TZQl:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("BGNQ"),s=n(o),l=a("z5TY"),d=n(l),u=a("kNGm"),c=n(u),f=a("iR2W"),h=n(f),m=a("jLp1"),v=a("+VRO"),p=n(v);t.default={data:function(){return{comment:{},projectApproval:{},projectTime:{},projectConclusion:{}}},filters:{dateFormat:c.default},mixins:[p.default],components:{Group:d.default,Cell:s.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,m.findProjectConclusion)(t).then(function(t){var a=t.formData,n=void 0===a?{}:a,r=t.attachment,o=void 0===r?[]:r;e.comment=n.comment,e.attachment=o,e.projectApproval=n.projectApproval,e.projectTime=n.projectTime,e.projectConclusion=n.projectConclusion,e.orderInfo=(0,i.default)({},n.baseinfo,{biStatus:"已生效"})})},numberComma:function(e){return e||0===e?(0,h.default)(e):"无"}},created:function(){}}},TZXR:function(e,t,a){"use strict";function n(e){a("2vTR")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("P3eF");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("ILd/"),s=a.n(o),l=a("KAaN"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-59ded5fe",null);t.default=c.exports},TgCX:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("ZLEe"),s=n(o),l=a("KH7x"),d=n(l),u=a("3cXf"),c=n(u),f=a("4YfN"),h=n(f),m=a("MgeX"),v=n(m),p=a("HzJ8"),C=n(p),y=a("PzEQ"),_=n(y),g=a("kNGm"),b=n(g),w=a("0AQX"),I=a("HyXB"),D=a("bKg5"),x=n(D),P=a("lsbD"),S=n(P),k=a("y8YJ"),L=n(k),N=a("+WR7"),M=n(N),T=a("Q67R"),A=n(T),O=a("dBs1"),R=n(O),j=a("hLfv"),B=n(j);a("Qg39"),a("zWMP");t.default={mixins:[x.default],components:{XTextarea:_.default,OpButton:S.default,PopBaseinfo:M.default,PopDealerList:L.default,ApplyMatterPart:A.default,OtherConfigPart:R.default,DealerOtherPart:B.default},data:function(){return{numMap:{},formData:{},orderList:{},otherInfo:{},dealerInfo:{},contactInfo:{},filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"申请单",value:"transCode"}]}},computed:{matterList:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var r,i=(0,C.default)((0,v.default)(this.orderList));!(t=(r=i.next()).done);t=!0){var o=r.value,s=!0,l=!1,d=void 0;try{for(var u,c=(0,C.default)(o);!(s=(u=c.next()).done);s=!0){var f=u.value;e.push(f)}}catch(e){l=!0,d=e}finally{try{!s&&c.return&&c.return()}finally{if(l)throw d}}}}catch(e){a=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(a)throw n}}return e}},methods:{selDealer:function(e){var t=JSON.parse(e)[0];this.matterParams.data&&null!==this.matterParams.data.dealerCode&&(this.orderList={},this.matterParams.data.dealerCode=t.dealerCode),this.dealerInfo=(0,h.default)({dealerName_dealerCodeCredit:t.dealerName},t)},selContact:function(e){this.contactInfo=(0,h.default)({},e)},getMatterModify:function(e,t,a){this.matter=JSON.parse((0,c.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t)},selMatter:function(e){var t=JSON.parse(e),a=JSON.parse((0,c.default)(this.orderList));t.forEach(function(e){e.tdQty=e.tdQty||e.qtyBal,e.taxRate=e.taxRate||.16,e.purchaseDay=(0,b.default)(e.calcTime,"YYYY-MM-DD")||e.purchaseDay,e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null,a[e.transCode]||(a[e.transCode]=[]),a[e.transCode].push(e)}),this.numMap={},this.orderList=a},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t,a){var n=this.selItems,r=n.findIndex(function(e){return e===t});if(-1!==r)return void n.splice(r,1);n.push(t)},showSelIcon:function(e,t){return this.selItems.includes(t)},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=this.matterList.map(function(e,t){return t})},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t={},a=e.selItems;e.matterList.filter(function(e,t){return!a.includes(t)}).forEach(function(e){var a=e.transCode;t[a]||(t[a]=[]),t[a].push(e)}),e.selItems=[],e.orderList=t,e.matterModifyClass=!1}})},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this,t="",a=[],n=this.otherInfo,r=this.dealerInfo,o=this.otherConfig,l=this.dealerConfig;if(t=this.verifyData(l,r),t||(t=this.verifyData(o,n)),!t){var u=(0,d.default)(this.submitMatterField,1),f=u[0],m=void 0===f?{}:f;(0,s.default)(this.orderList).length||(t="请选择"+m.text);var p=!0,y=!1,_=void 0;try{for(var g,b=(0,C.default)((0,v.default)(this.orderList));!(p=(g=b.next()).done);p=!0){var w=g.value,D=!0,x=!1,P=void 0;try{for(var S,k=(0,C.default)(w);!(D=(S=k.next()).done);D=!0){var L=S.value,N={},M=!0,T=!1,A=void 0;try{for(var O,R=(0,C.default)(this.submitMatterField);!(M=(O=R.next()).done);M=!0){var j=O.value,B=L[j.fieldCode]||L[j.displayField]||L[j.showFieldCode];if(!j.hidden&&!j.allowBlank&&!B&&void 0!==B){t=j.text+"不为空";break}N[j.fieldCode]=null!==B?B:null}}catch(e){T=!0,A=e}finally{try{!M&&R.return&&R.return()}finally{if(T)throw A}}a.push(N)}}catch(e){x=!0,P=e}finally{try{!D&&k.return&&k.return()}finally{if(x)throw P}}}}catch(e){y=!0,_=e}finally{try{!p&&b.return&&b.return()}finally{if(y)throw _}}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=I.saveAndStartWf,n=(0,i.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,c.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:"",formData:(0,c.default)((0,h.default)({},e.formData,e.otherInfo,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",dealerCreditContactPersonName:e.contactInfo.dealerName||null,dealerCreditContactInformation:e.contactInfo.dealerMobilePhone||"",order:{dataSet:a,dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName}})),wfPara:(0,c.default)(n)};e.isResubmit&&(t=I.saveAndCommitTask,r.biReferenceId=e.biReferenceId),e.processCode.length||(t=I.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,w.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.formData,n=e.otherConfig,r={};e.listId=t.listId,e.biComment=t.biComment,e.attachment=t.attachment,e.biReferenceId=t.biReferenceId,e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,h.default)({},e.formData,e.handlerDefault,{biId:a.biId,creator:a.creator,modifer:a.modifer,biComment:a.biComment,biProcessStatus:a.biProcessStatus}),e.dealerInfo=(0,h.default)({},e.dealerInfo,{city:a.order.city_dealerCodeCredit,dealerCode:a.order.dealerCodeCredit,dealerLabelName:a.order.crDealerLabel,county:a.order.county_dealerCodeCredit,address:a.order.address_dealerCodeCredit,province:a.order.province_dealerCodeCredit,dealerName:a.order.dealerName_dealerCodeCredit,dealerMobilePhone:a.dealerMobilePhone_dealerCodeCredit,dealerName_dealerCodeCredit:a.order.dealerName_dealerCodeCredit}),e.contactInfo={dealerName:a.dealerCreditContactPersonName,dealerMobilePhone:a.dealerCreditContactInformation},a.order.dataSet.forEach(function(t){t.transCode=t.transMatchedCode,t.inventoryName=t.inventoryName_transObjCode,t.inventoryCode=t.transObjCode,t.inventoryPic=t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),t.qtyBal=t.thenQtyBal,t.processing=t.tdProcessing,t.measureUnit=t.measureUnit_transObjCode,r[t.transCode]||(r[t.transCode]=[]),r[t.transCode].push(t)}),e.orderList=r;var i=!0,o=!1,s=void 0;try{for(var l,d=(0,C.default)(n);!(i=(l=d.next()).done);i=!0){var u=l.value;for(var c in a)u.fieldCode===c&&e.$set(e.otherInfo,c,a[c])}}catch(e){o=!0,s=e}finally{try{!i&&d.return&&d.return()}finally{if(o)throw s}}e.dealerParams.dealerCode=a.order.dealerCodeCredit,e.matterParams.data.dealerCode=a.order.dealerCodeCredit,e.$loading.hide()})},hasDraftData:function(){if((0,v.default)(this.dealerInfo).length)return(0,i.default)({},"ZZSKP_DATA",{invoice:{dealer:this.dealerInfo,otherInfo:this.otherInfo,contactInfo:this.contactInfo,orderList:this.orderList}})}},updated:function(){if(!this.transCode){var e=JSON.parse(sessionStorage.getItem("ZZSKP_DATA"));e&&this.matterParams.data&&(this.dealerInfo=e.invoice.dealer,this.otherInfo=e.invoice.otherInfo,this.orderList=e.invoice.orderList,this.contactInfo=e.invoice.contactInfo,this.matterParams.data.dealerCode=e.invoice.dealer.dealerCode,sessionStorage.removeItem("ZZSKP_DATA"))}}}},TglZ:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-part"},e._l(e.BusApps,function(t,n){return a("div",{key:n,staticClass:"each_part"},[Object.values(t.appList).length>0?[a("div",{staticClass:"app-container defalut_bg"},[a("div",{staticClass:"app_classify_name"},[a("p",[e._v(e._s(t.name))])]),e._v(" "),a("div",{staticClass:"app-list"},e._l(t.appList,function(n,r){return n.text?a("div",{key:r,staticClass:"indval_app",on:{click:function(a){e.goList(t.folder,n.packagePath,n.text,n.listId)}}},[[a("div",{staticClass:"app_img"},[a("img",{attrs:{src:n.icon},on:{error:function(t){e.getDefaultIcon(n)}}})]),e._v(" "),a("div",{staticClass:"app_info vux-1px-b"},[a("div",{staticClass:"app_name"},[e._v(e._s(n.text))]),e._v(" "),a("div",{staticClass:"app_detail_btn",on:{click:function(t){t.stopPropagation(),e.goAppDetail(n.listId)}}},[e._v("应用详情")])])]],2):e._e()}),0),e._v(" "),a("div",{staticClass:"child-list"},e._l(t.appList,function(n,r){return n.childName?a("div",{key:r,staticClass:"each_child"},[a("div",{staticClass:"child_name"},[a("span",{staticClass:"circle"}),e._v(" "),a("span",[e._v(e._s(n.childName))])]),e._v(" "),a("div",{staticClass:"child_apps_list"},e._l(n.childList,function(n,r){return a("div",{key:r,staticClass:"child_apps",on:{click:function(a){e.goList(t.folder,n.packagePath,n.text,n.listId)}}},[a("div",{staticClass:"app_img"},[a("img",{attrs:{src:n.icon},on:{error:function(t){e.getDefaultIcon(n)}}})]),e._v(" "),a("div",{staticClass:"app_info vux-1px-b"},[a("div",{staticClass:"app_name"},[e._v(e._s(n.text))]),e._v(" "),a("div",{staticClass:"app_detail_btn",on:{click:function(t){t.stopPropagation(),e.goAppDetail(n.listId)}}},[e._v("应用详情")])])])}),0)]):e._e()}),0)])]:e._e()],2)}),0)},r=[],i={render:n,staticRenderFns:r};t.a=i},Thu3:function(e,t){},Tizq:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("4YfN"),s=n(o),l=a("u28h"),d=n(l),u=a("SAzG"),c=n(u),f=a("Qg39"),h=a("yt3/"),m=n(h);t.default={name:"dealerOtherPart",props:{dealerConfig:{type:Array,default:function(){return[]},required:!0},dealerInfo:{type:Object,default:function(){return{}},required:!0}},computed:{config:function(){return this.dealerConfig}},data:function(){return{dealer:{}}},components:{PopSingleSelect:m.default,Datetime:d.default,XInput:c.default},watch:{dealerInfo:{handler:function(e){this.dealer=(0,s.default)({},this.dealerInfo)},immediate:!0},dealer:{handler:function(e){var t=(0,i.default)(e),a=(0,i.default)(this.dealerInfo);this.verifyPayments(e),t!==a&&this.$emit("input",e)},deep:!0,immediate:!0}},methods:{checkAmt:function(e){var t=e.tdAmountCopy1;t&&(e.tdAmountCopy1=Math.abs((0,f.toFixed)(t)))},getDate:function(e){var t=this;this.$vux.datetime.show({value:"",confirmText:"确认",cancelText:"取消",onConfirm:function(a){t.$set(t.dealer,e.fieldCode,a)}})},verifyPayments:function(e){var t=e.drDealerPaymentTerm,a=e.crDealerPaymentTerm;this.config.forEach(function(e){if("tdAmountCopy1"===e.fieldCode||e.fieldCode.includes("paymentDueDate")){if(t&&t.includes("预收"))return void(e.hiddenInRun=!1);e.hiddenInRun=!0}if(e.fieldCode.includes("pamentDays")){if(a&&a.includes("账期"))return void(e.hiddenInRun=!1);e.hiddenInRun=!0}})}},updated:function(){this.verifyPayments(this.dealer)}}},TnC3:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("a3Yh"),s=n(o),l=a("HzJ8"),d=n(l),u=a("4YfN"),c=n(u),f=a("7g+Q"),h=n(f),m=a("+62G"),v=n(m),p=a("z5TY"),C=n(p),y=a("BGNQ"),_=n(y),g=a("iR2W"),b=n(g),w=a("u28h"),I=n(w),D=a("SAzG"),x=n(D),P=a("PzEQ"),S=n(P),k=a("0AQX"),L=a("HyXB"),N=a("I3vJ"),M=a("bKg5"),T=n(M),A=a("wRUd"),O=n(A),R=a("i61Q"),j=n(R),B=a("hByD"),E=n(B),F=a("89pA"),U=n(F),$=a("vl8n"),H=n($),V=a("+WR7"),q=n(V),Q=a("0o6b"),Y=a("zWMP"),X=a("Qg39");t.default={directives:{TransferDom:v.default},components:{Popup:h.default,PopWorkList:j.default,Group:C.default,Cell:_.default,Datetime:I.default,XInput:x.default,XTextarea:S.default,PopManagerList:O.default,RPicker:H.default,PopWorkFacilityList:E.default,PopWarehouseList:U.default,PopBaseinfo:q.default},data:function(){return{listId:"2372f734-93c1-11e8-85db-005056a136d0",showWorkPop:!1,showManagerPop:!1,showFacilityPop:!1,formData:{biComment:"",biProcessStatus:""},workInfo:[],defaultManager:[],defaultFacility:[],scanResult:"",warehouse:{},warehouseStoreInfo:{},filter:[{operator:"in",property:"whCode",value:""},{operator:"in",property:"parentInvCode",value:""}],filterParams:[{property:"warehouseType",operator:"eq",value:"加工车间仓"}],managerIndex:null,facilityIndex:null}},mixins:[T.default],filters:{numberComma:b.default},methods:{selWork:function(e){this.workInfo=JSON.parse(e),this.workInfo.forEach(function(e,t){e.tdQty=e.thenQtyBal})},getSeletor:function(e,t){"dealerName_dealerDebit"===e?this.showManager(t):"facilityName_facilityObjCode"===e&&this.showFacility(t)},showManager:function(e){this.managerIndex=e,this.showManagerPop=!this.showManagerPop},selManager:function(e){var t=JSON.parse(e);this.defaultManager[this.managerIndex]=t,this.workInfo[this.managerIndex].dealerName_dealerDebit=t.dealerName,this.workInfo[this.managerIndex].dealerDebit=t.dealerCode,this.workInfo[this.managerIndex].drDealerLabel=t.dealerLabelName},showFacility:function(e){this.facilityIndex=e,this.showFacilityPop=!this.showFacilityPop},selFacility:function(e){this.defaultFacility[this.facilityIndex]=e,this.workInfo[this.facilityIndex].facilityName_facilityObjCode=e.facilityName,this.workInfo[this.facilityIndex].facilityObjCode=e.facilityCode,this.workInfo[this.facilityIndex].facilityTypebase_facilityObjCode=e.facilityType},getStore:function(e){this.warehouseStoreInfo=(0,c.default)({},e)},checkAmt:function(e,t){var a=e.tdQty,n=e.thenQtyBal,r=e.numberWorkers;e.tdQty=Math.abs((0,X.toFixed)(a)),a&&(a>n&&(e.tdQty=n),e.boms&&e.boms.forEach(function(t){var a=(0,Y.accMul)(e.tdQty,t.qty);t.tdQty=Math.abs((0,X.toFixed)(a))})),r&&(e.numberWorkers=Math.round(r))},selWarehouse:function(e){var t=this;this.warehouse=JSON.parse(e),this.filter[0].value=this.warehouse.warehouseCode,this.workInfo.forEach(function(e,a){t.filter[1].value=e.inventoryCode,t.getTaskBom(a).then(function(n){e.boms=n,t.$set(t.workInfo,a,(0,c.default)({},e))})})},submitOrder:function(){var e=this,t="",a=[];if(this.workInfo.length||(t="请选择工序"),t||this.warehouse.warehouseCode||(t="请选择在制仓库"),t||this.warehouseStoreInfo.warehouseCode||(t="请选择库位"),!t){var n=!0,r=!1,o=void 0;try{for(var l,u=(0,d.default)(this.workInfo);!(n=(l=u.next()).done);n=!0){var f=l.value;!function(n){var r={},i=!0,o=!1,s=void 0;try{for(var l,u=(0,d.default)(e.submitMatterField);!(i=(l=u.next()).done);i=!0){var f=l.value,h=n[f.fieldCode]||n[f.displayField]||n[f.showFieldCode];if(!f.hidden&&!f.allowBlank&&!h){t=f.text+"不为空";break}r[f.fieldCode]=void 0!==h?h:null}}catch(e){o=!0,s=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw s}}var m=[];n.boms.forEach(function(t){m.push({tdQty:t.tdQty,storehouseInCode:e.warehouseStoreInfo.warehouseCode,proPointCode:n.proPointCode,processCode:n.transCode,processProCode:n.inventoryCode,outPutMatCode:t.inventoryCode,bomSpecificLoss:t.specificLoss,thenQtyStock:t.qtyBal,specification_outPutMatCode:t.specification,tdProcessing:t.processing,inventoryName_outPutMatCode:t.inventoryName,measureUnit_outPutMatCode:t.measureUnit,bomType:t.bomType,bomQty:t.qty,thenLockQty:t.tdQty,thenQtyBal:0})}),a.push((0,c.default)({processProQty:null,tdId:null},r,{boms:m}))}(f)}}catch(e){r=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw o}}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=L.saveAndStartWf,n=(0,s.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});e.isResubmit&&"进行中"===e.formStatus&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:e.formData.biComment});var r={listId:e.listId,biComment:e.formData.biComment,formData:(0,i.default)((0,c.default)({},e.formData,{handlerEntity:e.entity.dealerName,order:{containerCode:e.warehouse.warehouseCode,storehouseInCode:e.warehouseStoreInfo.warehouseCode,dataSet:a}})),wfPara:(0,i.default)(n)};e.isResubmit&&"进行中"===e.formStatus?(t=L.saveAndCommitTask,r.biReferenceId=e.biReferenceId):e.isResubmit&&"已生效"===e.formStatus&&(t=L.updateData),e.processCode.length||(t=L.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},scanQRCode:function(){var e=this;(0,Q.scanQRCode)().then(function(t){var a=t.result,n=void 0===a?"":a;e.scanResult=n})},onHistoryBack:function(){return!this.showWorkPop||(this.showWorkPop=!1,!1)},getFormData:function(){var e=this;return(0,k.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=t.attachment;var o=[],s=i.order,l=s.dataSet,u=void 0===l?[]:l,f=!0,h=!1,m=void 0;try{for(var v,p=(0,d.default)(u);!(f=(v=p.next()).done);f=!0){var C=v.value;C=(0,c.default)({},C,{inventoryCode:C.transObjCode,inventoryName:C.inventoryName_outPutMatCode,procedureName:C.procedureName_proPointCode,technicsName:C.technicsName_proFlowCode,transCode:C.transMatchedCode,processing:C.tdProcessing||null}),C.boms.forEach(function(e){e.inventoryCode=e.outPutMatCode,e.nventoryName=e.inventoryName_outPutMatCode,e.measureUnit=e.measureUnit_outPutMatCode,e.parentInvCode=e.processProCode,e.processing=e.tdProcessing,e.qty=e.bomQty,e.qtyBal=e.thenQtyStock,e.specification=e.specification_outPutMatCode,e.specificLoss=e.bomSpecificLoss}),o.push(C)}}catch(e){h=!0,m=e}finally{try{!f&&p.return&&p.return()}finally{if(h)throw m}}e.workInfo=o,e.warehouse={warehouseCode:s.containerCode,warehouseName:s.warehouseName_containerCode,warehouseType:s.warehouseType_containerCode,warehouseProvince:s.warehouseProvince_containerCode,warehouseCity:s.warehouseCity_containerCode,warehouseDistrict:s.warehouseDistrict_containerCode,warehouseAddress:s.warehouseAddress_containerCode},e.warehouseStoreInfo={warehouseName:s.warehouseName_storehouseInCode,warehouseCode:s.storehouseInCode,warehouseAddress:s.warehouseAddress_storehouseInCode},e.handlerDefault={handler:i.handler,handlerName:i.handlerName,handlerUnit:i.handlerUnit,handlerUnitName:i.handlerUnitName,handlerRole:i.handlerRole,handlerRoleName:i.handlerRoleName},e.formData=(0,c.default)({},e.handlerDefault,{biComment:i.biComment,biId:i.biId,biProcessStatus:i.biProcessStatus,creator:i.creator,modifer:i.modifer}),e.biReferenceId=i.biReferenceId,e.$loading.hide()})},getTaskBom:function(e){var t=this;return this.filter[0].value=this.warehouse.warehouseCode,(0,N.getTaskBom)({filter:(0,i.default)(this.filter)}).then(function(a){var n=a.tableContent,r=void 0===n?[]:n;return r.forEach(function(a){var n=t.workInfo[e].tdQty,r=(0,Y.accMul)(n,a.qty,1+a.specificLoss);a.tdQty=(0,X.toFixed)(r)}),r})}},created:function(){}}},ToIC:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.contactInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_part"},[e._m(0),e._v(" "),e._l(e.orderInfo.order.dataSet,function(t,n){return a("div",{key:n,staticClass:"form_content",class:{show_border:n!==e.orderInfo.order.dataSet.length-1}},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"资金账户名称",cellContent:t.fundName_cashInCode,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"资金账户大类",cellContent:t.cashType_cashInCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"收款金额",showSymbol:"",cellContent:e._f("numberComma")(e._f("toFixed")(t.tdAmount),3)}})],1)])})],2),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("账户列表")])])}],i={render:n,staticRenderFns:r};t.a=i},TruQ:function(e,t,a){"use strict";function n(e){a("nCLI")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("+s0Z");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("TTvH"),s=a.n(o),l=a("jDuT"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-c6768b86",null);t.default=c.exports},"U+3F":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},"U/Pi":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages sj-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList,showStatus:!1},on:{"sel-item":e.selItem}}),e._v(" "),a("div",{staticClass:"dealer_list"},[a("div",{staticClass:"dealer_info"},e._l(e.fundConfig,function(t,n){return a("div",{key:n,class:{"vux-1px-t":n>0}},[t.readOnly?[a("div",{staticClass:"each_property readOnly"},[a("label",{class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))]),e._v(" "),a("span",{staticClass:"property_val"},[e._v(e._s(e.dealerInfo[t.fieldCode]))])])]:["r2Combo"===t.xtype?a("r-picker",{attrs:{title:t.fieldLabel,data:t.remoteData,value:e.dealerInfo[t.fieldCode],required:!t.allowBlank},model:{value:e.dealerInfo[t.fieldCode],callback:function(a){e.$set(e.dealerInfo,t.fieldCode,a)},expression:"dealerInfo[item.fieldCode]"}}):e._e(),e._v(" "),"r2Numberfield"===t.xtype||"r2Permilfield"===t.xtype?a("div",{staticClass:"each_property "},[a("label",{class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.dealerInfo[t.fieldCode],expression:"dealerInfo[item.fieldCode]",modifiers:{number:!0}}],staticClass:"property_val",attrs:{type:"number",placeholder:"请输入"},domProps:{value:e.dealerInfo[t.fieldCode]},on:{focus:function(t){e.getFocus(t)},blur:[function(a){e.checkAmt(e.dealerInfo,t.fieldCode,e.dealerInfo[t.fieldCode])},function(t){e.$forceUpdate()}],input:function(a){a.target.composing||e.$set(e.dealerInfo,t.fieldCode,e._n(a.target.value))}}})]):e._e(),e._v(" "),"r2Textfield"===t.xtype||"r2TextArea"===t.xtype?a("div",{staticClass:"each_property"},[a("label",{class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.dealerInfo[t.fieldCode],expression:"dealerInfo[item.fieldCode]"}],staticClass:"property_val",attrs:{type:"text",placeholder:"请输入"},domProps:{value:e.dealerInfo[t.fieldCode]},on:{focus:function(t){e.getFocus(t)},input:function(a){a.target.composing||e.$set(e.dealerInfo,t.fieldCode,a.target.value)}}})]):e._e(),e._v(" "),"r2Datefield"===t.xtype?a("div",{staticClass:"each_property",on:{click:function(a){e.getDate(e.dealerInfo,t)}}},[a("label",{class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))]),e._v(" "),a("div",{staticClass:"picker"},[a("span",{staticClass:"mater_nature"},[e._v(e._s(e.dealerInfo[t.fieldCode]||"请选择"))]),e._v(" "),a("span",{staticClass:"icon-right"})])]):e._e()]],2)}),0)]),e._v(" "),a("div",{staticClass:"comment"},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},U062:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.otherConfig.length?a("div",{staticClass:"config-other-part"},e._l(e.otherConfig,function(t,n){return a("div",{key:n},[t.hiddenInRun||"r2Combo"!==t.xtype?e._e():a("pop-single-select",{staticClass:"vux-1px-b",attrs:{title:t.fieldLabel,data:t.remoteData,value:e.other[t.fieldCode],isRequired:!t.allowBlank},model:{value:e.other[t.fieldCode],callback:function(a){e.$set(e.other,t.fieldCode,a)},expression:"other[item.fieldCode]"}}),e._v(" "),t.hiddenInRun?e._e():[t.readOnly&&"projectType_project"!==t.fieldCode?a("div",{staticClass:"cell-item vux-1px-b"},[a("div",{staticClass:"title"},[e._v(e._s(t.fieldLabel))]),e._v(" "),a("div",{staticClass:"mode"},[a("span",{staticClass:"mode_content"},[e._v(e._s(e.other[t.fieldCode]||"无"))])])]):t.readOnly?e._e():a("div",["r2Permilfield"===t.xtype||"r2Numberfield"===t.xtype?a("div",{staticClass:"cell-item vux-1px-b"},[a("div",{staticClass:"title",class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))]),e._v(" "),a("div",{staticClass:"mode"},[a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.other[t.fieldCode],expression:"other[item.fieldCode]",modifiers:{number:!0}}],attrs:{type:"number",placeholder:"请输入"},domProps:{value:e.other[t.fieldCode]},on:{input:function(a){a.target.composing||e.$set(e.other,t.fieldCode,e._n(a.target.value))},blur:function(t){e.$forceUpdate()}}})])]):e._e(),e._v(" "),"r2Textfield"===t.xtype?a("div",{staticClass:"cell-item vux-1px-b"},[a("div",{staticClass:"title",class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))]),e._v(" "),a("div",{staticClass:"mode"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.other[t.fieldCode],expression:"other[item.fieldCode]"}],attrs:{type:"text",placeholder:"请输入"},domProps:{value:e.other[t.fieldCode]},on:{input:function(a){a.target.composing||e.$set(e.other,t.fieldCode,a.target.value)}}})])]):e._e(),e._v(" "),"r2TextArea"===t.xtype?a("div",{staticClass:"cell-item vux-1px-b"},[a("div",{staticClass:"title",class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))]),e._v(" "),a("div",{staticClass:"mode"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.other[t.fieldCode],expression:"other[item.fieldCode]"}],ref:"multiText",refInFor:!0,attrs:{type:"text",placeholder:"请输入"},domProps:{value:e.other[t.fieldCode]},on:{input:function(a){a.target.composing||e.$set(e.other,t.fieldCode,a.target.value)}}})])]):e._e(),e._v(" "),"r2Datefield"===t.xtype?a("div",{staticClass:"cell-item vux-1px-b",on:{click:function(a){e.getDate(t)}}},[a("div",{staticClass:"title",class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))]),e._v(" "),a("div",{staticClass:"mode"},[a("span",{staticClass:"mode_content"},[e._v(e._s(e.other[t.fieldCode]||"请选择"))]),e._v(" "),a("span",{staticClass:"icon-right"})])]):e._e()])]],2)}),0):e._e()},r=[],i={render:n,staticRenderFns:r};t.a=i},U0ny:function(e,t,a){"use strict";function n(e){a("7ChK")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("Jz7U");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("8qlz"),s=a.n(o),l=a("DKKt"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-38eb91a8",null);t.default=c.exports},U1iN:function(e,t){},UAiX:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("6WeX"),i=n(r),o=a("zlAJ"),s=n(o);t.default={name:"OtherPart",props:{amt:{type:Number,default:0},taxAmt:{type:Number,default:0},count:{type:Number,default:0},otherInfo:{type:Object,default:function(){return{}}},attachment:{type:Array,default:function(){return[]}}},components:{PriceTotal:i.default,UploadFile:s.default},data:function(){return{}}}},UAsZ:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("IHPB"),s=n(o),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),h=n(f),m=a("6q39"),v=n(m),p=a("kNGm"),C=n(p),y=a("fEP3"),_=a("1KNX"),g=n(_),b=a("7biW"),w=n(b);t.default={name:"PopWorkStartList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:h.default,LoadMore:v.default,RScroll:g.default,MSearch:w.default},filters:{dateFormat:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},workList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"工序名称",value:"procedureName"}],filterProperty:""}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){return this.selItems.colId===e.colId},selThis:function(e,t){this.showPop=!1,this.selItems=(0,d.default)({},e),this.$emit("sel-work",this.selItems)},setDefaultValue:function(){this.selItems=(0,d.default)({},this.defaultValue)},getWorkOrderTask:function(){var e=this,t=[];if(this.srhInpTx&&(t=[].concat((0,s.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),this.$route.query.inventoryCode){var a=this.$route.query,n=a.inventoryCode,r=a.proPointCode;t=[].concat((0,s.default)(t),[{operator:"eq",value:n,property:"inventoryCode",separator:"and"},{operator:"eq",value:r,property:"proPointCode"}])}return(0,y.getWorkStartList)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,i.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r;e.$route.query.inventoryCode&&e.$emit("sel-work",i[0]),e.hasNext=n>(e.page-1)*e.limit+i.length,e.workList=1===e.page?i:[].concat((0,s.default)(e.workList),(0,s.default)(i)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,r=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=r,this.workList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getWorkOrderTask()},onPullingUp:function(){this.page++,this.getWorkOrderTask()}},created:function(){this.setDefaultValue(),this.getWorkOrderTask()}}},UFIK:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("a3Yh"),s=n(o),l=a("3cXf"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),h=n(f),m=a("SAzG"),v=n(m),p=a("7g+Q"),C=n(p),y=a("PzEQ"),_=n(y),g=a("jnZd"),b=n(g),w=a("u28h"),I=n(w),D=a("kNGm"),x=n(D),P=a("iR2W"),S=n(P),k=a("0AQX"),L=a("HyXB"),N=(a("jLp1"),a("bKg5")),M=n(N),T=a("wuIh"),A=n(T),O=a("CKaN"),R=n(O),j=a("vl8n"),B=n(j),E=a("+WR7"),F=n(E),U=a("zWMP"),$=a("Qg39");t.default={mixins:[M.default],components:{Cell:c.default,Group:h.default,Popup:C.default,XInput:v.default,XTextarea:_.default,PopupPicker:b.default,RPicker:B.default,PopBaseinfo:F.default,PopMoneyOrderList:A.default,Datetime:I.default,PopCashList:R.default},data:function(){return{listId:"bb9ce973-2f62-4707-a54c-7e8605dc99d6",biReferenceId:"",selectedCost:[],costIndex:0,transCode:"",formData:{biComment:"",biProcessStatus:""},showOrder:!1,orderList:[],cashInfo:{}}},computed:{tdAmount:function(){var e=0;return this.orderList.forEach(function(t){t.thenAmntBal&&(e=(0,U.accAdd)(e,t.thenAmntBal))}),(0,$.toFixed)(e)}},filters:{numberComma:S.default,dateFormat:x.default},methods:{submitOrder:function(){var e=this,t="",a=[],n=[{key:"cashingDiscountDate",message:"请选择兑现贴现日"}];if(t||this.orderList.length||(t="请选择汇票明细"),t||this.orderList.every(function(e){return n.every(function(a){return e[a.key]||0===e[a.key]||(t=a.message),!t}),a.push({tdId:e.tdId||null,draftNumber:e.draftNumber,draftType:e.draftType,accepter:e.accepter,tdAmount:e.tdAmount,draftDate:e.draftDate,draftDueDate:e.draftDueDate,cashingDiscountDate:e.cashingDiscountDate,discount:e.discount,thenAmntBal:e.thenAmntBal,comment:e.comment||""}),!t}),t||this.cashInfo.fundName||(t="请选择资金账户"),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=L.saveAndStartWf,n=(0,s.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,d.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:e.formData.biComment,formData:(0,d.default)((0,i.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",inPut:{dataSet:[{fundName_cashInCode:e.cashInfo.fundName,cashInCode:e.cashInfo.fundCode,cashType_cashInCode:e.cashInfo.fundType,thenAmntBal:e.cashInfo.amntBal,tdAmount:e.tdAmount}]},order:{dataSet:a},deposit:null})),wfPara:(0,d.default)(n)};e.isResubmit&&(r.biReferenceId=e.biReferenceId,t=L.saveAndCommitTask),e.processCode.length||(t=L.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,k.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.attachment,n=void 0===a?[]:a,r=t.listId,o=void 0===r?"":r,s=(t.biComment,t.biReferenceId),l=void 0===s?"":s,d=t.formData,u=void 0===d?{}:d;e.attachment=n,e.listId=o,e.biReferenceId=l,e.handlerDefault={handler:u.handler,handlerName:u.handlerName,handlerUnit:u.handlerUnit,handlerUnitName:u.handlerUnitName,handlerRole:u.handlerRole,handlerRoleName:u.handlerRoleName},e.formData=(0,i.default)({},e.formData,e.handlerDefault,{biComment:u.biComment,biId:u.biId,biProcessStatus:u.biProcessStatus,creator:u.creator,modifer:u.modifer});var c=u.order,f=void 0===c?{}:c,h=u.inPut,m=void 0===h?{}:h,v=f.dataSet,p=void 0===v?[]:v;e.cashInfo={fundName:m.dataSet[0].fundName_cashInCode,fundCode:m.dataSet[0].cashInCode,fundType:m.dataSet[0].cashType_cashInCode,tdAmount:m.dataSet[0].tdAmount,amntBal:m.dataSet[0].thenAmntBal},e.orderList=p,e.$loading.hide()})},hasDraftData:function(){return!!this.orderList.dealerCode&&(0,s.default)({},"DXTXCDHP_DATA",{formData:this.formData,cashInfo:this.cashInfo,orderList:this.orderList})},getRelationData:function(){},selOrder:function(e){e.forEach(function(e){e.draftDate=(0,x.default)(e.draftDate,"YYYY-MM-DD"),e.draftDueDate=(0,x.default)(e.draftDueDate,"YYYY-MM-DD"),e.tdAmount=e.amntTbMatched}),this.orderList=e,this.orderList.forEach(function(e){e.discount||(e.discount=0),e.thenAmntBal=Number((0,U.accSub)(e.tdAmount,e.discount))})},addOrder:function(){this.showOrder=!0},selCash:function(e){this.cashInfo=(0,i.default)({},e)},checkAmt:function(e,t){var a=e.discount,n=void 0===a?0:a;e.discount=Math.abs((0,$.toFixed)(n)),e.thenAmntBal=Number((0,U.accSub)(e.amntTbMatched,e.discount)),this.$set(this.orderList,t,(0,i.default)({},e))}},created:function(){var e=sessionStorage.getItem("DXTXCDHP_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.cashInfo=t.cashInfo,this.orderList=t.orderList,sessionStorage.removeItem("DXTXCDHP_DATA")}}}},UI89:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("kNGm"),i=n(r),o=a("0AQX"),s=a("+VRO"),l=n(s);t.default={data:function(){return{userData:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},uploadStyle:{width:"100%",padding:"0.06rem 0.1rem"}}},mixins:[l.default],filters:{date:function(e){return(0,i.default)(e,"YYYY-MM-DD")}},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,o.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,s=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=s,e.userData=i,e.workFlowInfoHandler()})},goEdit:function(){var e=this.$route.params,t=e.folder,a=e.fileName,n=this.$route.query.name;this.$router.push({path:"/fillform/"+t+"/"+a,query:{name:n,transCode:this.transCode}})}}}},URNG:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages gdrw-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList,showStatus:!1},on:{"sel-item":e.selItem}}),e._v(" "),a("pop-warehouse-list",{attrs:{title:"在制仓库","default-value":e.warehouse,"default-store":e.warehouseStoreInfo,"filter-params":e.filterParams,isRequired:"",isShowStore:""},on:{"sel-item":e.selWarehouse,"get-store":e.getStore}}),e._v(" "),a("div",{staticClass:"materiel_list work_list"},[e.workInfo.length?e._l(e.workInfo,function(t,n){return a("div",{key:n,staticClass:"order-detail",class:{"vux-1px-t":n>0}},[a("div",{staticClass:"work_info"},[a("div",{staticClass:"matter_name"},[e._v(e._s(t.inventoryName))]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"item-title"},[e._v("订单号:")]),e._v(" "),a("span",[e._v(e._s(t.transCode))])]),e._v(" "),e._l(e.matterEditConfig.property,function(n,r){return a("div",{key:r,staticClass:"detail-item"},[a("span",{staticClass:"item-title"},[e._v(e._s(n.text)+":")]),e._v(" "),a("span",[e._v(e._s(t[n.fieldCode]||t[n.showFieldCode]||"无"))])])}),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"item-title"},[e._v("工艺路线编码:")]),e._v(" "),a("span",[e._v(e._s(t.proFlowCode||"无"))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"item-title"},[e._v("工艺路线名称:")]),e._v(" "),a("span",[e._v(e._s(t.technicsName||"无"))])])],2),e._v(" "),e._l(e.matterEditConfig.editPart,function(r,i){return a("div",{key:i,staticClass:"vux-1px-t"},[r.readOnly?[a("div",{staticClass:"each_property readOnly"},[a("label",{class:{required:!r.allowBlank}},[e._v(e._s(r.text))]),e._v(" "),a("span",{staticClass:"property_val"},[e._v(e._s(t[r.fieldCode]))])])]:["r2Selector"===r.editorType?a("div",{staticClass:"each_property",on:{click:function(t){e.getSeletor(r.fieldCode,n)}}},[a("label",{class:{required:!r.allowBlank}},[e._v(e._s(r.text))]),e._v(" "),a("div",{staticClass:"picker"},[a("span",{staticClass:"mater_nature"},[e._v(e._s(t[r.fieldCode]||"请选择"))]),e._v(" "),a("span",{staticClass:"icon-right"})])]):e._e(),e._v(" "),"r2Numberfield"===r.editorType?a("div",{staticClass:"each_property "},[a("label",{class:{required:!r.allowBlank}},[e._v(e._s(r.text))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t[r.fieldCode],expression:"item[dItem.fieldCode]",modifiers:{number:!0}}],staticClass:"property_val",attrs:{type:"number",placeholder:"请输入"},domProps:{value:t[r.fieldCode]},on:{focus:function(t){e.getFocus(t)},blur:[function(a){e.checkAmt(t,n)},function(t){e.$forceUpdate()}],input:function(a){a.target.composing||e.$set(t,r.fieldCode,e._n(a.target.value))}}})]):e._e(),e._v(" "),"r2Textfield"===r.editorType?a("div",{staticClass:"each_property"},[a("label",{class:{required:!r.allowBlank}},[e._v(e._s(r.text))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t[r.fieldCode],expression:"item[dItem.fieldCode]"}],staticClass:"property_val",attrs:{type:"text",placeholder:"请输入"},domProps:{value:t[r.fieldCode]},on:{focus:function(t){e.getFocus(t)},input:function(a){a.target.composing||e.$set(t,r.fieldCode,a.target.value)}}})]):e._e(),e._v(" "),"r2Datefield"===r.editorType?a("div",{staticClass:"each_property",on:{click:function(a){e.getDate(t,r)}}},[a("label",{class:{required:!r.allowBlank}},[e._v(e._s(r.text))]),e._v(" "),a("div",{staticClass:"picker"},[a("span",{staticClass:"mater_nature"},[e._v(e._s(t[r.fieldCode]||"请选择"))]),e._v(" "),a("span",{staticClass:"icon-right"})])]):e._e()]],2)}),e._v(" "),a("div",{staticClass:"each_property vux-1px-t",on:{click:function(t){e.getSeletor("facilityName_facilityObjCode",n)}}},[a("label",[e._v("设施")]),e._v(" "),a("div",{staticClass:"picker"},[a("span",{staticClass:"mater_nature"},[e._v(e._s(t.facilityName_facilityObjCode||"请选择"))]),e._v(" "),a("span",{staticClass:"icon-right"})])])],2)}):a("div",{staticClass:"order-info",on:{click:function(t){e.showWorkPop=!0}}},[a("div",{staticClass:"title"},[e._v("工序信息")]),e._v(" "),a("div",{staticClass:"mode"},[e._v("请选择工序")]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r-arrow"})])],2),e._v(" "),a("pop-work-list",{ref:"matter",attrs:{show:e.showWorkPop,defaultValue:e.workInfo},on:{"sel-work":e.selWork},model:{value:e.showWorkPop,callback:function(t){e.showWorkPop=t},expression:"showWorkPop"}}),e._v(" "),a("pop-manager-list",{attrs:{show:e.showManagerPop,defaultValue:e.defaultManager[e.managerIndex]},on:{"sel-item":e.selManager},model:{value:e.showManagerPop,callback:function(t){e.showManagerPop=t},expression:"showManagerPop"}}),e._v(" "),a("pop-work-facility-list",{attrs:{show:e.showFacilityPop,defaultValue:e.defaultFacility[e.facilityIndex]},on:{"sel-item":e.selFacility},model:{value:e.showFacilityPop,callback:function(t){e.showFacilityPop=t},expression:"showFacilityPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t"},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},UXCm:function(e,t,a){"use strict";function n(e){a("/vO3")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("Hp0t");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("jO70"),s=a.n(o),l=a("qxnm"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-36280dde",null);t.default=c.exports},UZRl:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=(a("XAqG"),a("HyXB"),a("MjAd")),s=n(o),l=a("ak47");n(l);t.default={name:"CPXQ_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"经办人",value:"handlerName"},{name:"交易号",value:"transCode"},{name:"员工",value:"profileName"}],listViewID:2374}},mixins:[s.default],methods:{pathChange:function(e,t,a){var n=this;if(!this.clickVisited){var r=e.transCode,o=this.$route.query.name,s=this.$route.params,l=s.folder,d=s.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,i.default)({},e));var u=a+"/"+l+"/"+d;setTimeout(function(){n.clickVisited=!1,n.$router.push({path:u,query:{name:o,transCode:r}})},200)}},goDetail:function(e,t){this.pathChange(e,t,"/detail")},goUserEdit:function(e,t){this.pathChange(e,t,"/fillform")}}}},UbXN:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"load-more",props:{showLoading:{type:Boolean,default:!0},tip:String}}},Ud70:function(e,t){},Uge5:function(e,t,a){"use strict";function n(e){a("Jixu")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("/Ski");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("Wzuw"),s=a.n(o),l=a("LLC5"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-694edec4",null);t.default=c.exports},UiDX:function(e,t){},Ul2w:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("4YfN"),s=n(o),l=a("IHPB"),d=n(l),u=a("Q+Ik"),c=n(u),f=a("HzJ8"),h=n(f),m=a("KH7x"),v=n(m),p=a("HXPS"),C=n(p),y=a("7g+Q"),_=n(y),g=a("6q39"),b=n(g),w=(a("QHLv"),a("HyXB")),I=a("1KNX"),D=n(I),x=a("7biW"),P=n(x);t.default={name:"costList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},groupId:{type:Number,default:990713},getListMethod:{type:String,default:"getCostByGroupId"},costParams:{type:Object,default:function(){return{}}}},components:{Icon:C.default,Popup:_.default,LoadMore:b.default,RScroll:D.default,MSearch:P.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],costList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}},groupId:function(){this.costList()},costParams:{handler:function(e){var t=e.data,a=!1,n=!0,r=!1,i=void 0;try{for(var o,s=(0,h.default)((0,c.default)(t));!(n=(o=s.next()).done);n=!0){var l=o.value,d=(0,v.default)(l,2);d[0];if(!d[1]){a=!1;break}a=!0}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}a&&this.getCostList()},deep:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,d.default)(this.selItems)),this.$emit("input",!1),this.$event.$emit("shut-down-filter",!1)},showSelIcon:function(e){var t=!1;return this.selItems&&this.selItems.every(function(a){return e.costCode!==a.costCode||(t=!0,!1)}),t},selThis:function(e,t){this.showPop=!1,this.selItems=[e],this.$emit("sel-matter",this.selItems[0])},setDefaultValue:function(){this.tmpItems=[].concat((0,d.default)(this.defaultValue)),this.selItems=[].concat((0,d.default)(this.defaultValue))},getCostList:function(){var e=this,t=[];this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"costName"}]));var a=(0,s.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,i.default)(t)},this.costParams.data);return(0,w.requestData)({url:this.costParams.url,data:a}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+i.length,e.costList=1===e.page?i:[].concat((0,d.default)(e.costList),(0,d.default)(i)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.costList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getCostList()},onPullingUp:function(){this.page++,this.getCostList()}},created:function(){this.setDefaultValue()}}},UqYk:function(e,t){},UrVB:function(e,t,a){"use strict";function n(e){a("+H+V")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("N9Kf");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("N8ly"),s=a.n(o),l=a("rjFQ"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-fae0af4e",null);t.default=c.exports},Usb9:function(e,t){},"Uv/p":function(e,t){},Uvie:function(e,t,a){"use strict";function n(e){a("Usb9")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("24L6");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("bLVl"),s=a.n(o),l=a("Ijt+"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-2451162a",null);t.default=c.exports},UvnP:function(e,t){},UvzW:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,"dealer-params":e.dealerParams,defaultContact:e.contact},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("apply-matter-part",{attrs:{"show-materiel-pop":e.showMaterielPop,"show-matter-pop":e.showMatterPop,"filter-list":e.filterList,actions:e.actions,btnInfo:e.btnInfo,"matter-list":e.matterList,"default-value":e.matterList,"matter-pop-config":e.matterPopConfig,"matter-edit-config":e.matterEditConfig,"order-list-title":e.orderListTitle,"matter-params":e.matterParams,"add-matter-fn":e.addMatter,"sel-matter-fn":e.selMatter,"sel-items":e.selItems,"matter-modify-class":e.matterModifyClass,"stop-order-fn":e.stopOrder,"get-matter-modify-fn":e.getMatterModify,"show-delete-fn":e.showDelete,"show-sel-icon-fn":e.showSelIcon,"del-click-fn":e.delClick,"chosen-matter":e.matter,"check-amt-fn":e.checkAmt,"sel-confirm-fn":e.selConfirm,"btn-is-hide":e.btnIsHide},on:{"show-down-modify-pop":e.shutDownModify},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[a("div",{staticClass:"matter_info_item"},[n.qtyDownline?a("div",{staticClass:"matter_detail"},[a("span",{staticClass:"matter_item_title"},[e._v("数量下线:")]),e._v(" "),a("span",{staticClass:"matter_item_value"},[e._v(e._s(n.qtyDownline))])]):e._e(),e._v(" "),n.qtyOnline?a("div",{staticClass:"matter_detail"},[a("span",{staticClass:"matter_item_title"},[e._v("数量上线:")]),e._v(" "),a("span",{staticClass:"matter_item_value"},[e._v(e._s(n.qtyOnline))])]):e._e()]),e._v(" "),n.price?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price)+"\n            ")])]):e._e()]}}]),model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("op-button",{attrs:{"is-modify":e.matterModifyClass,hide:e.btnIsHide,"td-amount":e.tdAmount,"tax-amount":e.taxAmount,"all-check":e.selItems.length===e.matterList.length},on:{"on-submit":e.submitOrder,"on-check-all":e.checkAll,"on-delete":e.deleteCheckd}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},UwQd:function(e,t,a){"use strict";function n(e){a("4Gt7")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("5YqO");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("57wr"),s=a.n(o),l=a("4YLJ"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,null,null);t.default=c.exports},Uwbf:function(e,t){},UyNo:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("BGNQ"),s=n(o),l=a("z5TY"),d=n(l),u=a("kNGm"),c=n(u),f=a("iR2W"),h=n(f),m=a("jLp1"),v=a("+VRO"),p=n(v);t.default={data:function(){return{comment:{},projectApproval:{},projectTime:{},projectConclusion:{}}},filters:{dateFormat:c.default},mixins:[p.default],components:{Group:d.default,Cell:s.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,m.findProjectConclusion)(t).then(function(t){var a=t.formData,n=void 0===a?{}:a,r=t.attachment,o=void 0===r?[]:r;e.comment=n.comment,e.attachment=o,e.projectApproval=n.projectApproval,e.projectTime=n.projectTime,e.projectConclusion=n.projectConclusion,e.orderInfo=(0,i.default)({},n.baseinfo,{biStatus:"已生效"})})},numberComma:function(e){return e||0===e?(0,h.default)(e):"无"}},created:function(){}}},V2cg:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("HzJ8"),s=n(o),l=a("a3Yh"),d=n(l),u=a("PzEQ"),c=n(u),f=a("kNGm"),h=(n(f),a("jLp1")),m=a("HyXB"),v=a("bKg5"),p=n(v),C=a("PKHo"),y=n(C),_=a("Pkp+"),g=n(_),b=a("+WR7"),w=n(b),I=a("7D9F"),D=n(I),x=a("lsbD"),P=n(x);a("zWMP"),a("Qg39");t.default={mixins:[p.default,y.default],components:{RPicker:g.default,PopBaseinfo:w.default,XTextarea:c.default,PopManagerList:D.default,OpButton:P.default},data:function(){return{listId:"630a9b96-f257-48b6-b0bc-fd64c455d92b",ProjectApproval:{},formData:(0,d.default)({biComment:"",biProcessStatus:""},"biProcessStatus",""),defaultManager:{},hasDefault:!1}},computed:{projectType:function(){return this.ProjectApproval.projectType}},watch:{projectType:{handler:function(e,t){var a=this;if(t&&e){var n="",r=!0,i=!1,o=void 0;try{for(var l,d=(0,s.default)(this.otherConfig);!(r=(l=d.next()).done);r=!0){var u=l.value;!function(t){if("projectType"===t.fieldCode){var r=!0,i=!1,o=void 0;try{for(var l,d=(0,s.default)(t.remoteData);!(r=(l=d.next()).done);r=!0){var u=l.value;if(u.name===e){n=u.originValue;break}}}catch(e){i=!0,o=e}finally{try{!r&&d.return&&d.return()}finally{if(i)throw o}}}if("projectSubclass"===t.fieldCode){var c={url:t.dataSource.data.url,data:{value:n}};(0,m.requestData)(c).then(function(e){var n=e.tableContent,r=void 0===n?[]:n;null!=a.ProjectApproval.projectSubclass?a.ProjectApproval.projectSubclass=r[0].name:a.$set(a.ProjectApproval,"projectSubclass",r[0].name),r.forEach(function(e){e.originValue=e.value,e.name=e[t.displayField],e.value=e[t.displayField]}),t.remoteData=r})}}(u)}}catch(e){i=!0,o=e}finally{try{!r&&d.return&&d.return()}finally{if(i)throw o}}}}}},methods:{getDate:function(e,t){var a=this,n="",r="";"expectEndDate"===t.fieldCode&&e.expectStartDate?(n=e.expectStartDate,r=""):"expectStartDate"===t.fieldCode&&e.expectEndDate&&(r=e.expectEndDate,n=""),this.$vux.datetime.show({confirmText:"确认",cancelText:"取消",startDate:n,endDate:r,onConfirm:function(n){if(null==e[t.fieldCode])return void a.$set(e,t.fieldCode,n);e[t.fieldCode]=n}})},save:function(){var e=this,t="";if(t=this.verifyData(this.otherConfig,this.ProjectApproval))return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=h.saveProjectApproval;e.$route.query.transCode&&(t=m.update);var a={listId:e.listId,formData:{comment:{biComment:e.formData.biComment},baseinfo:(0,i.default)({id:"",handlerEntity:e.entity.dealerName},e.formData),projectApproval:e.ProjectApproval},wfParam:null};e.saveData(t,a)}})},selManager:function(e){var t=JSON.parse(e);this.$set(this.ProjectApproval,"projectManagerName",t.dealerName),this.$set(this.ProjectApproval,"phoneNumber",t.dealerMobilePhone),this.$set(this.ProjectApproval,"projectManager",t.dealerCode)},getFormData:function(){var e=this;return(0,h.findProjectApproval)(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a;e.hasDefault=!0,e.defaultManager={dealerName:n.projectApproval.projectManagerName,dealerMobilePhone:n.projectApproval.phoneNumber},n.projectApproval.expectStartDate=e.changeDate(n.projectApproval.expectStartDate),n.projectApproval.expectEndDate=e.changeDate(n.projectApproval.expectEndDate),e.ProjectApproval=n.projectApproval,e.$nextTick(function(){e.hasDefault=!1}),e.handlerDefault={handler:n.baseinfo.handler,handlerName:n.baseinfo.handlerName,handlerUnit:n.baseinfo.handlerUnit,handlerUnitName:n.baseinfo.handlerUnitName,handlerRole:n.baseinfo.handlerRole,handlerRoleName:n.baseinfo.handlerRoleName},e.formData=(0,i.default)({},e.formData,e.handlerDefault,{biComment:n.comment.biComment,id:n.baseinfo.id,biProcessStatus:n.baseinfo.biProcessStatus,creator:n.baseinfo.creator,modifer:n.baseinfo.modifer,handlerEntity:n.baseinfo.handlerEntity}),e.biReferenceId=n.biReferenceId,e.$loading.hide()})},hasDraftData:function(){return!!(this.ProjectApproval.projectName||this.ProjectApproval.projectType||this.ProjectApproval.projectManagerName)&&(0,d.default)({},"XMLX_DATA",{ProjectApproval:this.ProjectApproval,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("XMLX_DATA");if(e){var t=JSON.parse(e);this.ProjectApproval=t.ProjectApproval,this.formData=t.formData,this.defaultManager={dealerName:this.ProjectApproval.projectManager,dealerMobilePhone:this.ProjectApproval.phoneNumber},sessionStorage.removeItem("XMLX_DATA")}}}},VFFv:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("4YfN"),s=n(o),l=a("MgeX"),d=n(l),u=a("HzJ8"),c=n(u),f=a("ZLEe"),h=n(f),m=a("rVsN"),v=n(m),p=a("IHPB"),C=n(p),y=a("3cXf"),_=n(y),g=a("HXPS"),b=n(g),w=a("BGNQ"),I=n(w),D=a("z5TY"),x=n(D),P=a("SAzG"),S=n(P),k=a("u28h"),L=n(k),N=a("PzEQ"),M=n(N),T=a("0AQX"),A=a("I3vJ"),O=a("HyXB"),R=a("bKg5"),j=n(R),B=a("luHD"),E=n(B),F=a("RMtk"),U=n(F),$=a("d7ck"),H=n($),V=a("FlCz"),q=n(V),Q=a("MVgC"),Y=n(Q),X=a("vl8n"),G=n(X),W=a("+WR7"),z=n(W),K=a("zWMP"),J=a("Qg39");t.default={name:"ApplyWLXQTJForm",mixins:[j.default],components:{Icon:b.default,Cell:I.default,Group:x.default,XInput:S.default,XTextarea:M.default,PopMatter:E.default,PopOrderXqtjList:U.default,Datetime:L.default,FormCell:H.default,BomList:q.default,BomPop:Y.default,RPicker:G.default,PopBaseinfo:z.default},data:function(){return{listId:"65ceb5a6-a120-11e8-862a-005056a136d0",orderList:{},showOrderPop:!1,DuplicateBoms:[],UniqueBom:[],formData:{biComment:""},submitSuccess:!1,numMap:{},transCode:"",formViewUniqueId:"346ede09-ac6a-489a-9242-f385932a4443",biReferenceId:"",actions:[],taskId:"",matterList:[],entity:{},selItems:[],matter:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,bomPopShow:!1,bom:{},modifyBomTdqty:[]}},watch:{matter:{handler:function(e){e.boms&&e.boms.forEach(function(t){var a=(0,K.accMul)(e.tdQty,t.qty,1+t.specificLoss);t.tdQty=Math.abs((0,J.toFixed)(a))})},deep:!0}},methods:{checkBom:function(e,t,a){this.bom=e,this.modifyIndex=t,this.modifyKey=a,this.bomPopShow=!0,this.modifyBomTdqty=JSON.parse((0,_.default)(e.boms))},bomConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t),this.reBuildArr(t)},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,_.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a,this.modifyBomTdqty=[].concat((0,C.default)(e.boms))},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t),this.reBuildArr(t)},reBuildArr:function(e){var t=this,a=e.boms;this.modifyBomTdqty.forEach(function(e){a.forEach(function(a){if(a.inventoryCode===e.inventoryCode)return a.newTdqty=(0,K.accSub)(a.tdQty,e.tdQty),t.UniqueBom.forEach(function(e){if(a.inventoryCode===e.inventoryCode)return e.tdQty=(0,K.accAdd)(e.tdQty,a.newTdqty),!1}),!0})})},selOrder:function(e){var t=this,a=JSON.parse(e),n={},r=[];this.DuplicateBoms=[],a.forEach(function(e){var a=e.transCode+"_"+e.orderCode+"_"+e.inventoryCode,i=t.numMap[a]||{},o=i.tdQty,s=void 0===o?"":o,l=i.shippingTime,d=void 0===l?"":l,u=i.boms,c=void 0===u?[]:u;e.tdQty=s,e.shippingTime=d,n[e.transCode]||(n[e.transCode]=[]),r.push((0,A.getJGDDBom)({parentInvCode:e.inventoryCode}).then(function(a){var n=a.tableContent,r=void 0===n?[]:n;r.forEach(function(t){var a=c.find(function(e){return t.inventoryCode===e.inventoryCode})||{},n=a.specificLoss,r=void 0===n?t.specificLoss:n,i=(0,K.accMul)(e.tdQty,t.qty,1+r);t.specificLoss=r,t.tdQty=Math.abs((0,J.toFixed)(i))}),t.$set(e,"boms",r);var i=JSON.parse((0,_.default)(r));t.DuplicateBoms=[].concat((0,C.default)(t.DuplicateBoms),(0,C.default)(i))})),n[e.transCode].push(e)}),v.default.all(r).then(function(e){t.mergeBomList()}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},findIndex:function(e,t){return e.findIndex(function(e){return e.orderCode===t.orderCode&&e.transCode===t.transCode&&e.inventoryCode===t.inventoryCode})},delClick:function(e,t,a){var n=this.selItems,r=this.findIndex(n,t);if(-1!==r)return void n.splice(r,1);n.push(t)},showSelIcon:function(e){return-1!==this.findIndex(this.selItems,e)},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,_.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,h.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.orderCode===a.orderCode&&t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],r=e.findIndex(n,t);r>=0&&(e.$refs.order.delSelItem(n[r]),n.splice(r,1)),n.length||delete e.orderList[t.transCode]}})}),e.selItems.forEach(function(t){t.boms.forEach(function(t){return e.UniqueBom.forEach(function(a,n){if(t.inventoryCode===AItem.inventoryCode){var r=(0,K.accSub)(AItem.tdQty,t.tdQty);return AItem.tdQty=(0,J.toFixed)(r),AItem.tdQty<=0&&e.UniqueBom.splice(n,1),!1}}),!0})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,r=(0,c.default)((0,d.default)(this.orderList));!(e=(n=r.next()).done);e=!0){var i=n.value,o=!0,l=!1,u=void 0;try{for(var f,h=(0,c.default)(i);!(o=(f=h.next()).done);o=!0){var m=f.value;this.numMap[m.transCode+"_"+m.orderCode+"_"+m.inventoryCode]=(0,s.default)({},m)}}catch(e){l=!0,u=e}finally{try{!o&&h.return&&h.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="",a=[];t||(0,h.default)(this.orderList).length||(t="请选择物料");var n=!0,r=!1,o=void 0;try{for(var l,u=(0,c.default)((0,d.default)(this.orderList));!(n=(l=u.next()).done);n=!0){var f=l.value,m=!0,v=!1,p=void 0;try{for(var C,y=(0,c.default)(f);!(m=(C=y.next()).done);m=!0){var g=C.value;if(!g.tdQty){t="请填写减少数量";break}var b=[],w=!0,I=!1,D=void 0;try{for(var x,P=(0,c.default)(g.boms);!(w=(x=P.next()).done);w=!0){var S=x.value,k={tdId:S.tdId||null,transMatchedCode:g.transCode,tdQty:S.tdQty,orderCode:g.orderCode,bomSpecificLoss:S.specificLoss||S.bomSpecificLoss,tdProcessing:S.processing||S.tdProcessing,inventoryName:S.inventoryName,transObjCode:S.inventoryCode||S.transObjCode,measureUnit:S.measureUnit,bomType:S.bomType,bomQty:S.qty||S.bomQty,specification:S.specification,parentId:S.parentId||null};this.transCode&&delete k.orderCode,b.push(k)}}catch(e){I=!0,D=e}finally{try{!w&&P.return&&P.return()}finally{if(I)throw D}}var L={tdId:g.tdId||null,transMatchedCode:g.transCode,orderCode:g.orderCode,transObjCode:g.inventoryCode,inventoryName_transObjCode:g.inventoryName,tdProcessing:g.processing,measureUnit_transObjCode:g.measureUnit,thenQtyBal:g.qtyBal,shippingTime:g.shippingTime,tdQty:g.tdQty,comment:g.comment||"",boms:b};a.push(L)}}catch(e){v=!0,p=e}finally{try{!m&&y.return&&y.return()}finally{if(v)throw p}}}}catch(e){r=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw o}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=O.saveAndStartWf,n={},r=(0,i.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});n=(0,s.default)({},e.formData,{modifer:e.transCode?e.formData.handler:"",handlerEntity:e.entity.dealerName,order:{dataSet:a}}),e.transCode&&(t=O.saveAndCommitTask,r={businessKey:e.transCode,createdBy:n.creator||n.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var o={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,_.default)(n),wfPara:(0,_.default)(r)};e.transCode||delete o.biReferenceId,e.processCode.length||(t=O.submitAndCalc,delete o.wfPara,delete o.biReferenceId),e.biReferenceId&&(o.biReferenceId=e.biReferenceId),e.saveData(t,o)}})},getFormData:function(){var e=this;return(0,T.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,l=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=l;var d={},u=i.order,f=u.dataSet,h=void 0===f?[]:f,m=!0,v=!1,p=void 0;try{for(var C,y=(0,c.default)(h);!(m=(C=y.next()).done);m=!0){var g=C.value;g.boms.forEach(function(e){e.inventoryCode=e.transObjCode,e.specificLoss=e.bomSpecificLoss}),g.boms&&(e.DuplicateBoms=e.DuplicateBoms.concat(JSON.parse((0,_.default)(g.boms)))),g=(0,s.default)({},g,{transCode:g.transMatchedCode,qtyBal:g.thenQtyBal,inventoryPic:g.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+g.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:g.inventoryName_transObjCode,inventoryCode:g.transObjCode,specification:g.specification_transObjCode,processing:g.tdProcessing}),d[g.transCode]||(d[g.transCode]=[]),d[g.transCode].push(g)}}catch(e){v=!0,p=e}finally{try{!m&&y.return&&y.return()}finally{if(v)throw p}}e.matterList=h,e.handlerDefault={handler:i.handler,handlerName:i.handlerName,handlerUnit:i.handlerUnit,handlerUnitName:i.handlerUnitName,handlerRole:i.handlerRole,handlerRoleName:i.handlerRoleName},e.formData=(0,s.default)({},e.formData,e.handlerDefault,{biComment:i.biComment,biId:i.biId,biProcessStatus:i.biProcessStatus,creator:i.creator,modifer:i.modifer,drDealerLogisticsTerms:i.drDealerLogisticsTerms}),e.mergeBomList(),e.biReferenceId=i.biReferenceId,e.orderList=d,e.$loading.hide()})},mergeBomList:function(){var e=function(e,t){return e.inventoryCode===t.inventoryCode};this.UniqueBom=function(t){return t.reduce(function(t,a){return t.some(function(t){var n=e(t,a);return n&&(t.tdQty=(0,K.accAdd)(t.tdQty,a.tdQty)),n})||t.push(a),t},[])}(this.DuplicateBoms)},hasDraftData:function(){return!!(0,d.default)(this.orderList).length&&(0,i.default)({},"NBJGDD_DATA",{orderList:this.orderList,formData:this.formData,DuplicateBoms:this.DuplicateBoms})},getRelationData:function(){}},created:function(){var e=sessionStorage.getItem("NBJGDD_DATA");if(e){var t=JSON.parse(e);this.orderList=t.orderList,this.formData=t.formData,this.DuplicateBoms=t.DuplicateBoms,this.mergeBomList(),sessionStorage.removeItem("NBJGDD_DATA")}}}},VIWb:function(e,t){},VNth:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("MjAd"),i=n(r),o=a("FPb0"),s=n(o);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2429,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},components:{financeListItem:s.default},mixins:[i.default],methods:{},created:function(){}}},VOK4:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("IHPB"),s=n(o),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),h=n(f),m=a("6q39"),v=n(m),p=a("jLp1"),C=a("1KNX"),y=n(C),_=a("7biW"),g=n(_);t.default={name:"PopProjectList",props:{defaultValue:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:h.default,LoadMore:v.default,RScroll:y.default,MSearch:g.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},projectList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},watch:{defaultValue:function(){this.selItems=(0,d.default)({},this.defaultValue)}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},showSelIcon:function(e){return e.PROJECT_NAME===this.selItems.PROJECT_NAME},selThis:function(e,t){this.showPop=!1,this.selItems=(0,d.default)({},e),this.$emit("sel-project",this.selItems)},getProjectLsit:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,s.default)(t),[{operator:"like",value:this.srhInpTx,property:"PROJECT_NAME"}])),(0,p.getProjectList)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,i.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+i.length,e.projectList=1===e.page?i:[].concat((0,s.default)(e.projectList),(0,s.default)(i)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.projectList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getProjectLsit()},onPullingUp:function(){this.page++,this.getProjectLsit()},itemClick:function(){this.showPop=!0}},created:function(){this.selItems=(0,d.default)({},this.defaultValue),this.getProjectLsit()}}},VQMr:function(e,t){},VZtf:function(e,t,a){"use strict";function n(e){a("bfYb")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("5XmH");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("FRNG"),s=a.n(o),l=a("fXwS"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-51e792d8",null);t.default=c.exports},VaQO:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"loading-container"},[a("div",{staticClass:"loading-wrapper"},[a("spinner",{staticClass:"loading-animation",attrs:{type:"circles",size:"34"}})],1)])},r=[],i={render:n,staticRenderFns:r};t.a=i},VbHE:function(e,t){},Vdjd:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tab"},[a("div",{staticClass:"only-tab-item",on:{click:function(t){e.tabShow=!e.tabShow}}},[a("div",{staticClass:"tab-item-name"},[e._v(e._s(e.choicedTab)+"\n      "),a("p",{staticClass:"arrow",class:e.tabShow?"arrow_up":"arrow_down"},[a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-arrow-down",attrs:{type:"ios-arrow-down",size:"16",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M396.6 160l19.4 20.7L256 352 96 180.7l19.3-20.7L256 310.5z"}})])])])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.tabShow,expression:"tabShow"}],ref:"tabItem",staticClass:"all-tab-item"},[a("div",{staticClass:"tab_wrapper"},e._l(e.tabVal,function(t,n){return a("div",{key:n,staticClass:"tab-item-name",class:{active:n===e.activeTabIndex},on:{click:function(a){e.switchTab(t,n)}}},[e._v("\n        "+e._s(t.view_name)+"\n      ")])}),0)])])},r=[],i={render:n,staticRenderFns:r};t.a=i},"VfJ/":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList,"status-data":e.currentStage},on:{"sel-item":e.selItem},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,"default-contact":e.contactInfo,"dealer-params":e.dealerParams},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("dealer-other-part",{attrs:{"dealer-config":e.dealerConfig,"dealer-info":e.dealerInfo},model:{value:e.dealerInfo,callback:function(t){e.dealerInfo=t},expression:"dealerInfo"}}),e._v(" "),a("pop-warehouse-list",{attrs:{isRequired:"","default-value":e.warehouse,"default-store":e.warehouseStoreInfo,isShowStore:!0},on:{"sel-item":e.selWarehouse,"get-store":e.getStore}}),e._v(" "),a("apply-matter-part",{attrs:{"show-materiel-pop":e.showMaterielPop,"show-matter-pop":e.showMatterPop,"filter-list":e.filterList,actions:e.actions,btnInfo:e.btnInfo,"matter-list":e.orderList,"default-value":e.matterList,"matter-pop-config":e.matterPopConfig,"matter-edit-config":e.matterEditConfig,"order-list-title":e.orderListTitle,"matter-params":e.matterParams,"add-matter-fn":e.getMatter,"sel-matter-fn":e.selMatter,"sel-items":e.selItems,"matter-modify-class":e.matterModifyClass,"stop-order-fn":e.stopOrder,"get-matter-modify-fn":e.getMatterModify,"show-delete-fn":e.showDelete,"show-sel-icon-fn":e.showSelIcon,"del-click-fn":e.delClick,"chosen-matter":e.matter,"check-amt-fn":e.checkAmt,"sel-confirm-fn":e.selConfirm,"btn-is-hide":e.btnIsHide},on:{"show-down-modify-pop":e.shutDownModify},model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}}),e._v(" "),a("pop-sodl-projectList",{attrs:{value:e.project},model:{value:e.project,callback:function(t){e.project=t},expression:"project"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("op-button",{attrs:{"is-modify":e.matterModifyClass,hide:e.btnIsHide,"td-amount":e.tdAmount,"tax-amount":e.taxAmount,"all-check":e.selItems.length===e.matterList.length},on:{"on-submit":e.submitOrder,"on-check-all":e.checkAll,"on-delete":e.deleteCheckd}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},Vfwi:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("a3Yh"),s=n(o),l=a("ZLEe"),d=n(l),u=a("3cXf"),c=n(u),f=a("KH7x"),h=n(f),m=a("4YfN"),v=n(m),p=a("PzEQ"),C=n(p),y=a("BGNQ"),_=n(y),g=a("SAzG"),b=n(g),w=a("z5TY"),I=n(w),D=a("0AQX"),x=a("HyXB"),P=a("bKg5"),S=n(P),k=a("y8YJ"),L=n(k),N=a("I5id"),M=n(N),T=a("9cRV"),A=n(T),O=a("hLfv"),R=n(O),j=a("yt3/"),B=n(j),E=a("luHD"),F=n(E),U=a("VZtf"),$=n(U),H=a("vl8n"),V=n(H),q=a("+WR7"),Q=n(q),Y=a("zWMP"),X=a("Qg39");t.default={name:"ApplySBCGDDForm",data:function(){return{orderList:{},matterList:[],showDealerPop:!1,dealerInfo:{},contactInfo:{},formData:{biId:"",biComment:""},submitSuccess:!1,taxRate:.16,numMap:{},transCode:"",formViewUniqueId:"fed81800-4c34-44a9-b517-c3fd9f2ab57d",biReferenceId:"",actions:[],taskId:"",showOrderPop:!1,tmpItems:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,filterList:[{name:"设施名称",value:"facilityName"},{name:"设施编码",value:"facilityCode"},{name:"申请号",value:"transCode"}],facility:{},checkFieldList:[{key:"tdQty",message:"请填写数量"},{key:"price",message:"请填写单价"},{key:"taxRate",message:"请填写税率"}]}},mixins:[S.default],components:{XTextarea:C.default,RNumber:$.default,PopDealerList:L.default,PopSingleSelect:B.default,XInput:b.default,Group:I.default,PopMatter:F.default,RPicker:V.default,PopBaseinfo:Q.default,Cell:_.default,PopFacilityList:M.default,PopMatterList:A.default,DealerOtherPart:R.default},computed:{totalAmount:function(){var e=this,t=0;return this.matterList.forEach(function(a){e.simpleCalcMatter(a),t=(0,Y.accAdd)(t,a.noTaxAmount)}),Number(t)},taxAmount:function(){var e=0;return this.matterList.forEach(function(t){e=(0,X.toFixed)((0,Y.accAdd)(e,t.taxAmount))}),e},tdAmount:function(){return parseFloat((0,Y.accAdd)(this.totalAmount,Number(this.taxAmount)).toFixed(2))}},watch:{facility:{handler:function(e){this.simpleCalcMatter(e)},deep:!0}},methods:{selItem:function(e){this.formData=(0,v.default)({},this.formData,e)},selDealer:function(e){var t=JSON.parse(e),a=(0,h.default)(t,1),n=a[0];this.dealerInfo=(0,v.default)({},n,{drDealerPaymentTerm:n.paymentTerm,daysOfAccount:n.pamentDays})},selContact:function(e){this.contactInfo=(0,v.default)({},e)},getMatterModify:function(e,t,a){this.facility=JSON.parse((0,c.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selMatter:function(e){var t=JSON.parse(e),a={};t.forEach(function(e){e.tdQty=e.tdQty||e.qtyBal,e.price=e.price||"",e.taxRate=e.taxRate||.16,a[e.transCode]||(a[e.transCode]=[]),a[e.transCode].push(e)}),this.numMap={},this.matterList=t,this.orderList=a},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.facilityCode!==e.facilityCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.facilityCode===t.facilityCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.facilityCode===e.facilityCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,c.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,d.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.facilityCode===a.facilityCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],r=n.findIndex(function(e){return e.facilityCode===t.facilityCode});r>=0&&(e.$refs.matter.delSelItem(n[r]),n.splice(r,1)),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.facilityCode===a.facilityCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerCode||(t="请选择供应商信息"),t||this.dealerInfo.paymentTerm||(t="请选择结算方式"),t||this.matterList.length||(t="请选择设施"),t||this.matterList.every(function(n){if(!n.price)return t="单价不能为空",!1;if(!n.tdQty&&0!==n.tdQty)return t="数量不能为空",!1;var r=n.taxRate||e.taxRate,i=(0,Y.accMul)(n.price,n.tdQty,r),o={transMatchedCode:n.transCode,facilityObjCode:n.facilityCode,facilityName_facilityObjCode:n.facilityName,facilityType:n.facilityType,thenQtyBal:n.qtyBal||0,tdQty:n.tdQty,price:n.price,taxRate:r,taxAmount:i,tdAmount:(0,Y.accAdd)((0,Y.accMul)(n.price,n.tdQty),i),comment:n.comment||""};return e.transCode&&(o.tdId=n.tdId||null),a.push(o),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=x.saveAndStartWf,n={},r=(0,s.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});n=(0,v.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.formData.handler,modifer:e.formData.handler,dealerDebitContactPersonName:e.contactInfo.dealerName||"",dealerDebitContactInformation:e.contactInfo.dealerMobilePhone||"",order:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName||"供应商",drDealerPaymentTerm:e.dealerInfo.paymentTerm,daysOfAccount:e.dealerInfo.pamentDays,dataSet:a}}),e.transCode&&(t=x.saveAndCommitTask,r={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,c.default)(n),wfPara:(0,c.default)(r)};e.transCode||delete i.biReferenceId,e.processCode.length||(t=x.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,D.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,s=t.attachment,l=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=l;var d=o.order,u=(o.dealerDebit,d.dataSet),c=void 0===u?[]:u,f={},h=[],m=!0,p=!1,C=void 0;try{for(var y,_=(0,i.default)(c);!(m=(y=_.next()).done);m=!0){var g=y.value;g=(0,v.default)({},g,{transCode:g.transMatchedCode,inventoryPic:g.inventoryPic_facilityObjCode?"/H_roleplay-si/ds/download?url="+g.inventoryPic_facilityObjCode+"&width=400&height=400":e.getDefaultImg(),facilityName:g.facilityName_facilityObjCode,facilityCode:g.facilityObjCode,facilityBigType:g.facilityBigType_facilityObjCode,facilitySubclass:g.facilitySubclass_facilityObjCode,facilityUnit:g.facilityUnit_facilityObjCode,specification:g.specification_facilityObjCode,processing:g.tdProcessing,qtyBal:g.thenQtyBal}),f[g.transCode]||(f[g.transCode]=[]),h.push(g),f[g.transCode].push(g)}}catch(e){p=!0,C=e}finally{try{!m&&_.return&&_.return()}finally{if(p)throw C}}e.dealerInfo={creatorName:o.dealerCreditContactPersonName,dealerName:d.dealerName_dealerDebit,dealerMobilePhone:o.dealerCreditContactInformation,dealerCode:d.dealerCode_dealerDebit,dealerLabelName:d.drDealerLabel,province:d.province_dealerDebit,city:d.city_dealerDebit,county:d.county_dealerDebit,address:d.address_dealerDebit,paymentTerm:d.drDealerPaymentTerm,pamentDays:d.daysOfAccount},e.contactInfo={dealerName:o.dealerDebitContactPersonName,dealerMobilePhone:o.dealerDebitContactInformation},e.handlerDefault={handler:o.handler,handlerName:o.handlerName,handlerUnit:o.handlerUnit,handlerUnitName:o.handlerUnitName,handlerRole:o.handlerRole,handlerRoleName:o.handlerRoleName},e.formData=(0,v.default)({},e.formData,e.handlerDefault,{creator:o.creator,biId:o.biId,biComment:o.biComment}),e.biReferenceId=o.biReferenceId,e.matterList=h,e.orderList=f,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,s.default)({},"SBCGDD_DATA",{facility:this.matterList,dealer:this.dealerInfo,formData:this.formData,contactInfo:this.contactInfo})},getRelationData:function(){var e=this,t=this.$route.query.uniqueId;return(0,D.getSOList)({formViewUniqueId:t,transCode:this.relationKey}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r;t.attachment;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var o=i.order,l=(i.dealerDebit,o.dataSet),d=void 0===l?[]:l;d=d.map(function(t){return(0,v.default)({},t,{inventoryPic:t.inventoryPic_facilityObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_facilityObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_facilityObjCode,facilityCode:t.inventoryCode_facilityObjCode,specification:t.specification_facilityObjCode,measureUnit:t.measureUnit_facilityObjCode,transCode:e.relationKey,qtyBal:t.tdQty,tdQty:""})}),e.dealerInfo={creatorName:i.dealerDebitContactPersonName,dealerMobilePhone:i.dealerDebitContactInformation,dealerCode:i.order.dealerDebit,dealerSubclass:i.order.drAccountSub,dealerName:i.order.dealerName_dealerDebit,province:i.order.province_dealerDebit,city:i.order.city_dealerDebit,county:i.order.county_dealerDebit,address:i.order.address_dealerDebit},e.matterList=d,e.orderList=(0,s.default)({},e.relationKey,d),e.$loading.hide()})},moreUnitClick:function(e){e.showDrop=!e.showDrop},moreUnitSelected:function(e){this.facility.assMeasureUnit=e.invSubUnitName,this.facility.assistQty=e.invSubUnitMulti},assembleOrder:function(e){var t={};e.forEach(function(e){t[e.transCode]||(t[e.transCode]=[]),t[e.transCode].push(e)}),this.orderList=t}},created:function(){var e=sessionStorage.getItem("SBCGDD_DATA");if(e){var t=JSON.parse(e);this.matterList=t.facility,this.dealerInfo=t.dealer,this.formData=t.formData,this.contactInfo=t.contactInfo,this.assembleOrder(this.matterList),sessionStorage.removeItem("SBCGDD_DATA")}}}},VguV:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages xsbj-list-conatiner",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},VhGg:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("3cXf"),s=n(o),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),h=n(f),m=a("SAzG"),v=n(m),p=a("7g+Q"),C=n(p),y=a("PzEQ"),_=n(y),g=a("jnZd"),b=n(g),w=a("0AQX"),I=a("HyXB"),D=(a("jLp1"),a("bKg5")),x=n(D),P=a("aumL"),S=n(P),k=a("vl8n"),L=n(k),N=a("+WR7"),M=n(N),T=a("y8YJ"),A=n(T),O=a("zWMP");a("Qg39");t.default={mixins:[x.default],components:{Cell:c.default,Group:h.default,Popup:C.default,XInput:v.default,XTextarea:_.default,PopFundList:S.default,PopupPicker:b.default,RPicker:L.default,PopBaseinfo:M.default,PopDealerList:A.default},data:function(){return{listId:"b6b97d33-5d8e-4942-b978-09103d06f188",biComment:"",biReferenceId:"",showCostPop:!1,CostList:[{cashName:"",cashInCode:"",cashType_cashInCode:"",tdAmount:""}],selectedCost:[],costIndex:0,transCode:"",dealerInfo:{},contact:{},formData:{biComment:"",biProcessStatus:""}}},computed:{totalAmount:function(){var e=0;return this.CostList.forEach(function(t){t.tdAmount&&(e=(0,O.accAdd)(e,t.tdAmount))}),e}},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0]},selContact:function(e){this.contact=(0,d.default)({},e)},getCost:function(e,t){this.showCostPop=!0,this.costIndex=e,this.selectedCost=[t]},addCost:function(){this.expSubjectList=[],this.CostList.push({cashName:"",cashInCode:"",cashType_cashInCode:"",tdAmount:""})},deleteCost:function(){this.CostList.pop()},selMatter:function(e){var t=e;this.CostList[this.costIndex].cashName=t.fundName,this.CostList[this.costIndex].cashInCode=t.fundCode,this.CostList[this.costIndex].cashType_cashInCode=t.fundType},submitOrder:function(){var e=this,t="",a=[];if(this.CostList.every(function(e){return e.cashName?e.tdAmount?(a.push({tdId:e.tdId||"",cashInCode:e.cashInCode,cashType_cashInCode:e.cashType_cashInCode,tdAmount:e.tdAmount}),!0):(t="请填写支付金额",!1):(t="请选择资金账户",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=I.saveAndStartWf,n=(0,i.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,s.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:"",formData:(0,s.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName,dataSet:a},dealerCreditContactPersonName:e.contact.dealerName||null,dealerCreditContactInformation:e.contact.dealerMobilePhone||null})),wfPara:(0,s.default)(n)};e.isResubmit&&(r.biReferenceId=e.biReferenceId,t=I.saveAndCommitTask),e.processCode.length||(t=I.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,w.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.attachment=t.attachment,e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.CostList=[];var a=t.formData;e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),a.order.dataSet.forEach(function(t){var a={cashName:t.fundName_cashInCode,cashInCode:t.cashInCode,cashType_cashInCode:t.cashType_cashInCode,tdAmount:t.tdAmount,tdId:t.tdId};e.CostList.push(a)}),e.dealerInfo={creatorName:a.dealerCreditContactPersonName,dealerMobilePhone:a.dealerCreditContactInformation,dealerCode:a.order.dealerCodeCredit,dealerLabelName:a.order.crDealerLabel,dealerName:a.order.dealerName_dealerCodeCredit,province:a.order.province_dealerDebit,city:a.order.city_dealerDebit,county:a.order.county_dealerDebit,address:a.order.address_dealerCodeCredit},e.contact={dealerName:a.dealerCreditContactPersonName,dealerMobilePhone:a.dealerCreditContactInformation},e.$loading.hide()})},hasDraftData:function(){var e=!1;return this.CostList.forEach(function(t){if(t.cashName)return e=!0,!1}),!!e&&(0,i.default)({},"SK_DATA",{cost:this.CostList,formData:this.formData,dealerInfo:this.dealerInfo,contact:this.contact})}},created:function(){var e=sessionStorage.getItem("SK_DATA");if(e){var t=JSON.parse(e);this.CostList=t.cost,this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.contact=t.contact,sessionStorage.removeItem("SK_DATA")}}}},Vi6A:function(e,t,a){"use strict";function n(e){a("avU8")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("WUQS");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("Oyni"),s=a.n(o),l=a("r/xY"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-35c1ad6c",null);t.default=c.exports},ViVR:function(e,t){},VsvK:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("xZPP"),i=n(r),o=a("St0H"),s=a("803w"),l=n(s),d=a("gTYh"),u=n(d),c=a("FGI+"),f=n(c);t.default={name:"cell",components:{InlineDesc:i.default},props:(0,l.default)(),created:function(){},beforeMount:function(){this.hasTitleSlot=!!this.$slots.title,this.$slots.value},computed:{labelStyles:function(){return(0,u.default)({width:(0,f.default)(this,"labelWidth"),textAlign:(0,f.default)(this,"labelAlign"),marginRight:(0,f.default)(this,"labelMarginRight")})},valueClass:function(){return{"vux-cell-primary":"content"===this.primary||"left"===this.valueAlign,"vux-cell-align-left":"left"===this.valueAlign,"vux-cell-arrow-transition":!!this.arrowDirection,"vux-cell-arrow-up":"up"===this.arrowDirection,"vux-cell-arrow-down":"down"===this.arrowDirection}},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}},style:function(){if(this.alignItems)return{alignItems:this.alignItems}}},methods:{onClick:function(){!this.disabled&&(0,o.go)(this.link,this.$router)}},data:function(){return{hasTitleSlot:!0,hasMounted:!1}}}},VtS1:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("iR2W"),i=n(r),o=a("kNGm"),s=n(o),l=a("Qg39"),d=a("zWMP");t.default={name:"justWordItem",props:{item:{type:Object,default:function(){return{}}},noCount:{type:Boolean,default:!1},conutTitle:{type:String,default:"合计"}},data:function(){return{}},computed:{total:function(){var e=this.item,t=e.count,a=e.totalAmount,n=e.budgetIncome_project;return n||(null!=t?t:a||0===a?a:void 0)}},filters:{percent:function(e){return e||0===e?(0,d.accMul)(e,100)+"%":"无"},toFixed:l.toFixed,dateFormat:s.default,numberComma:i.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t}}}},VuUd:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"BomList",props:{boms:{type:Array,default:function(){return[]}}}}},VvlX:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2256,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}]}},mixins:[r.default],methods:{},created:function(){}}},VxZ1:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={props:{BusApps:{type:Array,default:[]},goList:{type:Function,require:!0},getDefaultIcon:{type:Function,require:!0},goAppDetail:{type:Function,require:!0}}}},VyQ5:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("iR2W"),i=n(r),o=a("kNGm"),s=n(o),l=a("Qg39");t.default={name:"materListItem",props:{item:{type:Object,default:function(){return{}}},isHasCount:{type:Boolean,default:!0}},data:function(){return{}},filters:{dateFormat:s.default,numberComma:i.default,toFixed:l.toFixed}}},W09m:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("KH7x"),s=n(o),l=a("7g+Q"),d=n(l),u=a("z5TY"),c=n(u),f=a("HXPS"),h=n(f),m=a("d5Kw"),v=n(m),p=a("kNGm"),C=n(p),y=a("1KNX"),_=n(y);t.default={props:{fullWorkFlow:{type:Array,default:function(){return[]}},userName:{type:String,default:""},isMyTask:{type:Boolean,default:!1},workFlowInfo:{type:Object,default:function(){return{}}}},data:function(){return{defaulImg:a("Fuf7"),currentStatus:{}}},computed:{statusClass:function(){var e=this.workFlowInfo.biStatus;switch(void 0===e?"":e){case"进行中":return"doing";case"已失效":return"failure";default:return""}}},watch:{fullWorkFlow:{handler:function(){this.workFlowHandler()},immediate:!0}},components:{Popup:d.default,Group:c.default,Icon:h.default,XButton:v.default,RScroll:_.default},methods:{workFlowHandler:function(){var e=this.fullWorkFlow.slice(-1),t=(0,s.default)(e,1),a=t[0],n=void 0===a?{}:a,r=!0,o=!1,l=void 0;try{for(var d,u=(0,i.default)(this.fullWorkFlow);!(r=(d=u.next()).done);r=!0){var c=d.value;c.userName=c.userName.replace(/\s*/g,"")}}catch(e){o=!0,l=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw l}}this.currentStatus=n},goWorkFlowFull:function(){var e=this.workFlowInfo.transCode,t=void 0===e?"":e;this.$router.push({path:"/workFlowFull",query:{transCode:t}})}},filters:{dateFormat:C.default},created:function(){}}},W23b:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}]}},mixins:[r.default]}},W3IX:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("IHPB"),s=n(o),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),h=n(f),m=a("6q39"),v=n(m),p=a("kNGm"),C=n(p),y=a("fEP3"),_=a("1KNX"),g=n(_),b=a("7biW"),w=n(b);t.default={name:"PopWorkGDBLLList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:h.default,LoadMore:v.default,RScroll:g.default,MSearch:w.default},filters:{dateFormat:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},workList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterList:[{name:"成品名称",value:"inventoryName"},{name:"成品编码",value:"matCode"},{name:"工序名称",value:"procedureName"}],filterProperty:""}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){return e.transCode===this.selItems.transCode},selThis:function(e,t){this.showPop=!1,this.selItems=(0,d.default)({},e),this.$emit("sel-work",this.selItems)},setDefaultValue:function(){this.selItems=(0,d.default)({},this.defaultValue)},getWorkOrderTask:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,s.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,y.getWorkGDBLLList)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,i.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+i.length,e.workList=1===e.page?i:[].concat((0,s.default)(e.workList),(0,s.default)(i)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,r=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=r,this.workList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getWorkOrderTask()},onPullingUp:function(){this.page++,this.getWorkOrderTask()}},created:function(){this.setDefaultValue(),this.getWorkOrderTask()}}},W7Bz:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pop-warehouse-container vux-1px-t",on:{click:e.warehouseClick}},[n("div",{staticClass:"warehouse-info"},[e.selItems.warehouseName?n("div",[n("div",{staticClass:"user_info"},[n("span",{staticClass:"user_name"},[e._v(e._s(e.selItems.warehouseName))]),e._v(" "),n("span",{staticClass:"user_tel"},[e._v(e._s(e.selItems.warehouseCode))])]),e._v(" "),e.noAddress?e._e():n("div",{staticClass:"cp_info"},[n("span",{staticClass:"icon-dealer-address"}),e._v(" "),n("span",{staticClass:"cp_ads"},[e._v("\n          "+e._s(e.selItems.warehouseAddress)+"\n        ")])])]):n("div",[e._m(0)])]),e._v(" "),n("span",{staticClass:"icon-right"}),e._v(" "),n("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[n("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.storeStorePop,callback:function(t){e.storeStorePop=t},expression:"storeStorePop"}},[n("div",{staticClass:"popup-top"},[n("i",{staticClass:"icon-close",on:{click:e.onHide}})]),e._v(" "),n("div",{staticClass:"trade_pop"},[n("d-search",{on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),n("r-scroll",{ref:"bScroll",staticClass:"pop-list-container",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.listData,function(t,r){return n("div",{key:r,staticClass:"pop-mater-list-item box_sd",class:{seleted:e.showSelIcon(t)},on:{click:function(a){a.stopPropagation(),e.selThis(t,r)}}},[n("div",{staticClass:"pop-list-main"},[n("img",{staticClass:"warehouse_img",attrs:{src:a("t732"),alt:"warehouse_img"}}),e._v(" "),n("div",{staticClass:"pop-list-info"},[n("div",{staticClass:"withColor"},[n("span",{staticClass:"name"},[e._v(e._s(t.warehouseName))]),e._v(" "),n("span",{staticClass:"type"},[e._v(e._s(t.warehouseType))])]),e._v(" "),n("div",{staticClass:"warehouse-address"},[n("span",[e._v(e._s(t.warehouseProvince)+e._s(t.warehouseCity)+e._s(t.warehouseDistrict)+e._s(t.warehouseAddress))])])])])])}),0)],1)])],1)])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"no-warehouse"},[a("div",{staticClass:"picker"},[a("span",{staticClass:"mode required"},[e._v("请选择库位")])])])}],i={render:n,staticRenderFns:r};t.a=i},W8W0:function(e,t,a){"use strict";function n(e){a("UqYk")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("WMFo");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("wqMj"),s=a.n(o),l=a("a5f2"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-7c65d933",null);t.default=c.exports},WAdr:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("lC5x"),i=n(r),o=a("HzJ8"),s=n(o),l=a("J0Oq"),d=n(l),u=a("ZLEe"),c=n(u),f=a("3cXf"),h=n(f),m=a("KH7x"),v=n(m),p=a("4YfN"),C=n(p),y=a("+62G"),_=n(y),g=a("Nk/b"),b=n(g),w=a("7g+Q"),I=n(w),D=a("z5TY"),x=n(D),P=a("wDjS"),S=n(P),k=a("KFOb"),L=n(k),N=a("HXPS"),M=n(N),T=a("SAzG"),A=n(T),O=a("u28h"),R=n(O),j=a("HyXB"),B=a("hFVz"),E=n(B),F=a("Pkp+"),U=n(F),$=a("PKHo"),H=n($),V=a("1KNX"),q=n(V),Q=a("5gKc"),Y=n(Q),X=a("BwHg"),G=n(X);t.default={data:function(){return{listId:"c0375170-d537-4f23-8ed0-a79cf75f5b04",addressData:L.default,transCode:"",picShow:!1,imgFileObj:{},MatPic:"",AccountRelType:[],cAccountAddress:[],dAccountAddress:[],pickerStatus:!1,showAddress:!1,dealerType:[],PhoneWarn:!1,MobileWarn:!1,EmailWarn:!1,codeWarn:!1,baseinfo:{handler:"",handlerName:"",handlerArea:"",handlerAreaName:"",handlerUnit:"",handlerUnitName:"",handlerRole:"",handlerRoleName:"",activeTime:"",comment:""},dealer:{dealerCode:"",dealerName:"",dealerLabelName:"",province:"",city:"",county:"",address:"",dealerPhone:"",dealerMobilePhone:"",dealerMail:"",paymentTerm:"",dealerLogisticsTerms:"",pamentDays:"",dealerStatus:"",comment:"",dealerPic:""},statusList:[],dealerStatus:"使用中",submitSuccess:!1,scrollOptions:{click:!0},dealerConfig:[],dealerDuplicateConfig:[],dealerDuplicateData:{},uniqueId:""}},computed:{disabledSubmit:function(){return this.PhoneWarn||this.MobileWarn||this.EmailWarn||this.codeWarn},dealerLabelName:function(){return this.dealer.dealerLabelName}},watch:{dealerLabelName:function(e){var t=this.dealer.dealerLabelName;this.dealerDuplicateConfig.forEach(function(e){"deliveryAddresses"===e.name&&(e.hiddenInRun=!1,t&&(t.includes("客户")||t.includes("供应商")||t.includes("加工商")||t.includes("渠道商")||t.includes("服务商"))||(e.hiddenInRun=!0)),"dealerCertificateRel"===e.name&&(e.hiddenInRun=!1,t&&(t.includes("生产商")||t.includes("经销供应商"))||(e.hiddenInRun=!0))})}},directives:{TransferDom:_.default},mixins:[H.default],components:{Picker:b.default,Popup:I.default,Group:x.default,RPicker:U.default,XAddress:S.default,Icon:M.default,RScroll:q.default,UploadImage:Y.default,XInput:A.default,Datetime:R.default,duplicateComponent:G.default},methods:{onUpload:function(e){this.dealer.dealerPic=e.src},getDealer:function(){var e=this;return E.default.getDictByType().then(function(t){var a=t.tableContent;return a&&a.forEach(function(e){e.selected=!1}),e.AccountRelType=a,e.$nextTick(function(){e.$refs.bScroll.refresh()}),a}).catch(function(t){e.$vux.alert.show({content:t.message})})},DealerPop:function(){var e=this;this.pickerStatus=!0,this.dealerType=[];var t=this.dealer.dealerLabelName.split(",");this.dealer.dealerLabelName.length&&t.forEach(function(t){var a={name:t};e.dealerType.push(a)})},onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},showSelIcon:function(e){return-1!==this.dealerType.findIndex(function(t){return t.name===e.name})},selectType:function(e){e.selected=!e.selected;var t=this.dealerType,a=t.findIndex(function(t){return t.name===e.name});if(-1!==a)return void t.splice(a,1);t.push(e)},cfmMater:function(){var e=this;this.pickerStatus=!1,this.dealer.dealerLabelName="",this.dealerType.forEach(function(t){if(e.dealer.dealerLabelName.length)return void(e.dealer.dealerLabelName+=","+t.name);e.dealer.dealerLabelName+=t.name})},check:function(e,t){"dealerPhone"===e.fieldCode?e.warn=this.checkPhone():"dealerMobilePhone"===e.fieldCode?e.warn=this.checkMobile():"dealerMail"===e.fieldCode&&(e.warn=this.checkEmail())},checkPhone:function(){var e=/^0\d{2,3}-\d{7,8}$/;return this.dealer.dealerPhone.length>0&&!e.test(this.dealer.dealerPhone)?this.PhoneWarn=!0:this.PhoneWarn=!1,this.PhoneWarn},checkMobile:function(){var e=/^[1][3,4,5,7,8][0-9]{9}$/;return this.dealer.dealerMobilePhone.length>0&&!e.test(this.dealer.dealerMobilePhone)?this.MobileWarn=!0:this.MobileWarn=!1,this.MobileWarn},checkEmail:function(){var e=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;return this.dealer.dealerMail.length>0&&!e.test(this.dealer.dealerMail)?this.EmailWarn=!0:this.EmailWarn=!1,this.EmailWarn},checkCode:function(e){var t=/^[1-9][0-9]{5}$/;return e.postalCode.length>0&&!t.test(e.postalCode)?this.codeWarn=!0:this.codeWarn=!1,this.codeWarn},findData:function(){var e=this;return E.default.getDealerInfo(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a,r=t.attachment,i=void 0===r?[]:r;e.dealerDuplicateConfig.forEach(function(t){n[t.name].length&&(e.dealerDuplicateData[t.name]=n[t.name])});var o=n.baseinfo,s=void 0===o?{}:o,l=n.dealer,d=void 0===l?{}:l;switch(d.dealerStatus){case"1":e.dealerStatus="使用中";break;case"2":e.dealerStatus="未使用";break;case"0":e.dealerStatus="草稿";break;case"-1":e.dealerStatus="停用"}e.baseinfo=(0,C.default)({},e.baseinfo,s),e.dealer=(0,C.default)({},e.dealer,d),e.dealer.dealerPic.length>0?(e.picShow=!0,e.MatPic="/H_roleplay-si/ds/download?url="+e.dealer.dealerPic+"&width=400&height=400"):(e.picShow=!0,e.getDefaultImg());var u=i.filter(function(t){return t.attacthment===e.dealer.dealerPic}),c=(0,v.default)(u,1),f=c[0],h=void 0===f?{}:f;e.cAccountAddress=[e.dealer.province,e.dealer.city,e.dealer.county],e.imgFileObj=h})},getDefaultImg:function(){this.MatPic=a("tVsm")},changeAddress:function(e,t){this.AccountAddress=t},getAddress:function(){if(this.AccountAddress.length>0){if(this.dealer.province=this.AccountAddress[0],this.dealer.county=this.AccountAddress[2],"市辖区"===this.AccountAddress[1])return void(this.dealer.city="");this.dealer.city=this.AccountAddress[1]}},submit:function(){var e=this;for(var t in this.dealer)"string"==typeof this.dealer[t]&&this.dealer[t].indexOf(" ")>=0&&(this.dealer[t]=this.dealer[t].replace(/\s/g,""));this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){switch(e.dealerStatus){case"使用中":e.dealer.dealerStatus="1";break;case"未使用":e.dealer.dealerStatus="2";break;case"草稿":e.dealer.dealerStatus="0";break;case"停用":e.dealer.dealerStatus="-1"}e.dealer.status&&delete e.dealer.status;var t={listId:"c0375170-d537-4f23-8ed0-a79cf75f5b04",formData:{baseinfo:e.baseinfo,dealer:e.dealer}};e.dealerDuplicateConfig.forEach(function(a){e.dealerDuplicateData[a.name].length&&(t.formData[a.name]=e.dealerDuplicateData[a.name])}),e.transCode?E.default.update(t).then(function(t){t.success?(e.submitSuccess=!0,e.$vux.alert.show({content:"修改成功",onHide:function(){e.$router.go(-1)}})):e.$vux.alert.show({content:t.message})}):E.default.save(t).then(function(t){t.success?(e.submitSuccess=!0,e.$vux.alert.show({content:"提交成功",onHide:function(){if(1===e.$route.query.add){var t=[e.dealer];sessionStorage.setItem("DEALERLIST_SELITEMS",(0,h.default)(t))}e.$router.go(-1)}})):e.$vux.alert.show({content:t.message})})}})},save:function(){var e=this;if(!this.disabledSubmit){var t="";if([{key:"dealerCode",message:"【往来编码】"},{key:"dealerName",message:"【往来名称】"},{key:"dealerLabelName",message:"【往来类型】"}].every(function(a){return""!==e.dealer[a.key]||(t=a.message+"不能为空",!1)}),!t&&this.PhoneWarn&&(t="电话号码格式不正确"),!t&&this.MobileWarn&&(t="手机号码格式不正确"),!t&&this.EmailWarn&&(t="邮件格式不正确"),!t&&(0,c.default)(this.dealerDuplicateData).length&&(0,c.default)(this.dealerDuplicateData).forEach(function(a){if(e.dealerDuplicateData[a].length<=0)return!1;e.dealerDuplicateConfig.forEach(function(n){n.name===a&&n.items.forEach(function(n){n.hidden||e.dealerDuplicateData[a].forEach(function(e){if(!n.allowBlank&&!e[n.fieldCode])return t=n.text+"不能为空",!1})})})}),t)return void this.$vux.alert.show({content:t});this.submit()}},handlerParams:function(e){var t=this,a=e.dataSource.data.url,n=e.dataSource.data.params,r=(0,c.default)(n),i={url:a};if(r.length){var o={};r.forEach(function(e){o[e]="text"===n[e].type?n[e].value:""}),i.data=o}e.requestParams=i,(0,j.requestData)(i).then(function(a){a.tableContent?(a.tableContent.forEach(function(t){t.name=t[e.displayField],t.value=t[e.displayField]}),t.$set(e,"remoteData",a.tableContent)):(a.forEach(function(t){t.name=t[e.displayField],t.value=t[e.displayField]}),t.$set(e,"remoteData",a))})},getFormViewsInfo:function(){var e=this;return(0,d.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,j.getFormViews)(e.listId).then(function(t){var a=!0,n=!1,r=void 0;try{for(var i,o=(0,s.default)(t);!(a=(i=o.next()).done);a=!0){var l=i.value;e.transCode&&"revise"===l.viewType?e.uniqueId=l.uniqueId:e.transCode||"submit"!==l.viewType||(e.uniqueId=l.uniqueId)}}catch(e){n=!0,r=e}finally{try{!a&&o.return&&o.return()}finally{if(n)throw r}}});case 2:return t.next=4,(0,j.getFormConfig)(e.uniqueId).then(function(t){var a=t.config,n=void 0===a?[]:a;console.log(n);var r=[],i=[];n.forEach(function(e){e.isMultiple?"r2Fileupload"!==e.xtype&&i.push(JSON.parse((0,h.default)(e))):r=JSON.parse((0,h.default)(e.items))}),r.forEach(function(t){t.hiddenInRun||("province"!==t.fieldCode&&"city"!==t.fieldCode&&"county"!==t.fieldCode&&"dealerLabelName"!==t.fieldCode&&("r2Combo"!==t.xtype&&"r2MultiSelector"!==t.xtype||!t.dataSource||"remoteData"!==t.dataSource.type?"r2Combo"===t.xtype&&t.dataSource&&"staticData"===t.dataSource.type&&e.$set(t,"remoteData",t.dataSource.data):e.handlerParams(t)),"dealerPic"!==t.fieldCode&&"city"!==t.fieldCode&&"county"!==t.fieldCode&&e.dealerConfig.push(t))}),i.forEach(function(t){switch(t.hiddenInRun=!1,t.name){case"deliveryAddresses":t.title="地址";break;case"dealerCertificateRel":t.title="证件"}var a=[];t.items.forEach(function(t,n){t.hidden||("r2Combo"===t.editorType&&t.dataSource&&"remoteData"===t.dataSource.type&&e.handlerParams(t),a.push(t))}),t.items=a,e.$set(e.dealerDuplicateData,t.name,[])}),e.dealerDuplicateConfig=i,e.transCode||e.$loading.hide()});case 4:case"end":return t.stop()}},t,e)}))()}},created:function(){var e=this;this.$loading.show();var t=this.$route.query;if(t.transCode)return this.transCode=t.transCode,void(0,d.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getFormViewsInfo();case 2:return t.next=4,e.findData().then(function(){e.$loading.hide()});case 4:e.getDealer();case 5:case"end":return t.stop()}},t,e)}))();this.getFormViewsInfo(),this.getDealer().then(function(t){var a=(0,v.default)(t,1);a[0];e.$route.query.pickVal?(e.dealer.dealerLabelName=e.$route.query.pickVal,e.pickerStatus=!1):e.dealer.dealerLabelName=e.$route.query.dealerType?e.$route.query.dealerType:""}),(0,j.getBaseInfoDataBase)().then(function(t){e.baseinfo=(0,C.default)({},e.baseinfo,t,{activeTime:e.changeDate(new Date,!0)})})},mounted:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},beforeRouteEnter:function(e,t,a){e.meta.title="新增往来",e.query.transCode&&(e.meta.title="编辑往来"),a()},beforeRouteLeave:function(e,t,a){var n=e.path;this.submitSuccess&&"/adress"===n&&(e.meta.reload=!0),a()}}},WBLH:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},WGJW:function(e,t,a){"use strict";function n(e){a("N2Y8")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("OB+s");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("mSSm"),s=a.n(o),l=a("oxUE"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-53e0768f",null);t.default=c.exports},"WHn+":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("kNGm"),i=(n(r),a("0AQX")),o=a("+VRO"),s=n(o),l=a("AupE"),d=n(l),u=a("BUFe"),c=n(u),f=a("bFc7"),h=n(f),m=a("3NX5"),v=n(m);t.default={data:function(){return{orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},uploadStyle:{width:"100%",padding:"0.06rem 0.1rem"}}},mixins:[s.default],components:{workFlow:d.default,RAction:c.default,contactPart:h.default,MatterList:v.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,i.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,s=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=s,e.orderInfo=i,e.contactInfo={dealerName:i.dealerName_productDealerCode,dealerMobilePhone:i.dealerDebitContactInformation,dealerContactPersonName:i.dealerDebitContactPersonName},e.workFlowInfoHandler()})},goEdit:function(){var e=this.$route.params,t=e.folder,a=e.fileName,n=this.$route.query.name;this.$router.push({path:"/fillform/"+t+"/"+a,query:{name:n,transCode:this.transCode}})}}}},WITS:function(e,t){},WJwd:function(e,t,a){"use strict";function n(e){a("RHLq")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("RPzs");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("Xc3I"),s=a.n(o),l=a("fK8l"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-83d5bf40",null);t.default=c.exports},WL3c:function(e,t){},WMFo:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("a3Yh"),s=n(o),l=a("4YfN"),d=n(l),u=a("IHPB"),c=n(u),f=a("3cXf"),h=n(f),m=a("HXPS"),v=n(m),p=a("BGNQ"),C=n(p),y=a("z5TY"),_=n(y),g=a("SAzG"),b=n(g),w=a("PzEQ"),I=n(w),D=a("0AQX"),x=a("HyXB"),P=a("bKg5"),S=n(P),k=a("VZtf"),L=n(k),N=a("9cRV"),M=n(N),T=a("89pA"),A=n(T),O=a("luHD"),R=n(O),j=a("vl8n"),B=n(j),E=a("+WR7"),F=n(E);t.default={mixins:[S.default],components:{Icon:v.default,Cell:C.default,Group:_.default,XInput:b.default,XTextarea:I.default,RNumber:L.default,PopMatterList:M.default,PopWarehouseList:A.default,PopMatter:R.default,RPicker:B.default,PopBaseinfo:F.default},data:function(){return{listId:"4d9a7f8f-9a88-47b6-a1f4-3faed6423615",matterList:[],showMaterielPop:!1,transCode:"",formData:{biComment:""},numMap:{},warehouse:{},warehouseIn:{warehouseName:"待检仓",warehouseCode:"QC0001",warehouseType:"一般部门仓"},matterParams:{calcRelCode:"1406",whCode:""},matter:{},showMatterPop:!1,modifyIndex:null,warehouseOutParams:{warehouseType:"加工车间仓"},checkFieldList:[{key:"tdQty",message:"请填写入库数量"}]}},methods:{delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,h.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},selWarehouseOut:function(e){this.warehouse=JSON.parse(e),null!=this.matterParams.data.whCode&&(this.matterParams.data.whCode=this.warehouse.warehouseCode,this.matterList=[])},selWarehouseIn:function(e){this.warehouseIn=JSON.parse(e)},getMatterModify:function(e,t){this.matter=JSON.parse((0,h.default)(e)),this.showMatterPop=!0,this.modifyIndex=t},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.matterList,this.modifyIndex,t)},selMatter:function(e){var t=JSON.parse(e);t.forEach(function(e){e.tdQty=e.tdQty||""}),this.numMap={},this.matterList=[].concat((0,c.default)(t))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},save:function(){var e=this,t="",a=[];if([{key:"warehouse",message:"出库仓库"}].every(function(a){return!!e[a.key]||(t="请选择"+a.message,!1)}),t||this.matterList.length||(t="请选择物料"),this.matterList.every(function(n){if(!n.tdQty)return t="请填写入库数量",!1;var r={transObjCode:n.inventoryCode,tdProcessing:n.processing,assMeasureUnit:n.assMeasureUnit||null,thenQtyStock:n.qtyBal,assMeasureScale:n.assMeasureScale||null,assistQty:n.assistQty||0,tdQty:n.tdQty,comment:n.comment||""};return e.transCode&&(r.tdId=n.tdId||""),a.push(r),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=x.saveAndStartWf,n=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,containerOutWarehouseManager:e.warehouse.containerOutWarehouseManager||null,containerInWarehouseManager:e.warehouseIn.containerInWarehouseManager||null,inPut:{containerCodeOut:e.warehouse.warehouseCode,containerCode:e.warehouseIn.warehouseCode,dataSet:a}}),r={listId:e.listId,biComment:"",formData:(0,h.default)(n),wfPara:(0,h.default)((0,s.default)({},e.processCode,{businessKey:e.businessKey,createdBy:n.creator}))};e.transCode&&(t=x.saveAndCommitTask,r.biReferenceId=e.biReferenceId,r.wfPara=(0,h.default)({businessKey:e.transCode,createdBy:n.creator,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=x.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,D.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=t.attachment;var s=[],l=o.inPut,u=l.dataSet,c=void 0===u?[]:u,f=!0,h=!1,m=void 0;try{for(var v,p=(0,i.default)(c);!(f=(v=p.next()).done);f=!0){var C=v.value;C=(0,d.default)({},C,{qtyBal:C.thenQtyStock,inventoryPic:C.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+C.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:C.inventoryName_transObjCode,inventoryCode:C.inventoryCode_transObjCode,specification:C.specification_transObjCode,measureUnit:C.measureUnit_transObjCode,processing:C.tdProcessing}),s.push(C)}}catch(e){h=!0,m=e}finally{try{!f&&p.return&&p.return()}finally{if(h)throw m}}e.warehouseIn={warehouseCode:l.containerCode,warehouseName:l.warehouseName_containerCode,warehouseType:l.warehouseType_containerCode,warehouseProvince:l.warehouseProvince_containerCode,warehouseCity:l.warehouseCity_containerCode,warehouseDistrict:l.warehouseDistrict_containerCode,warehouseAddress:l.warehouseAddress_containerCode},e.warehouse={warehouseCode:l.containerCodeOut,warehouseName:l.warehouseName_containerCodeOut,warehouseType:l.warehouseType_containerCodeOut,warehouseProvince:l.warehouseProvince_containerCodeOut,warehouseCity:l.warehouseCity_containerCodeOut,warehouseDistrict:l.warehouseDistrict_containerCodeOut,warehouseAddress:l.warehouseAddress_containerCodeOut},e.matterParams=(0,d.default)({},e.matterParams,{whCode:e.warehouse.warehouseCode}),e.handlerDefault={handler:o.handler,handlerName:o.handlerName,handlerUnit:o.handlerUnit,handlerUnitName:o.handlerUnitName,handlerRole:o.handlerRole,handlerRoleName:o.handlerRoleName},e.formData=(0,d.default)({},e.handlerDefault,{biComment:o.biComment,biId:o.biId,biProcessStatus:o.biProcessStatus,creator:o.creator,modifer:o.modifer}),e.biReferenceId=o.biReferenceId,e.matterList=s,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,s.default)({},"WGYRK_DATA",{matter:this.matterList,warehouse:this.warehouse,warehouseIn:this.warehouseIn,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("WGYRK_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.warehouse=t.warehouse,this.warehouseIn=t.warehouseIn,this.formData=t.formData,this.matterParams=(0,d.default)({},this.matterParams,{whCode:this.warehouse.warehouseCode}),sessionStorage.removeItem("WGYRK_DATA")}}}},WNoS:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("3cXf"),s=n(o),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),h=n(f),m=a("SAzG"),v=n(m),p=a("7g+Q"),C=n(p),y=a("PzEQ"),_=n(y),g=a("jnZd"),b=n(g),w=a("0AQX"),I=a("HyXB"),D=(a("jLp1"),a("bKg5")),x=n(D),P=a("aumL"),S=n(P),k=a("vl8n"),L=n(k),N=a("+WR7"),M=n(N),T=a("y8YJ"),A=n(T),O=a("zWMP");a("Qg39");t.default={mixins:[x.default],components:{Cell:c.default,Group:h.default,Popup:C.default,XInput:v.default,XTextarea:_.default,PopFundList:S.default,PopupPicker:b.default,RPicker:L.default,PopBaseinfo:M.default,PopDealerList:A.default},data:function(){return{listId:"1972f3a4-b29a-4a0e-90a8-85090c0e2d28",biComment:"",biReferenceId:"",showCostPop:!1,CostList:[{cashName:"",cashOutCode:"",cashType_cashOutCode:"",tdAmount:""}],selectedCost:[],costIndex:0,transCode:"",dealerInfo:{},contact:{},formData:{biComment:"",biProcessStatus:""}}},computed:{totalAmount:function(){var e=0;return this.CostList.forEach(function(t){t.tdAmount&&(e=(0,O.accAdd)(e,t.tdAmount))}),e}},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0]},selContact:function(e){this.contact=(0,d.default)({},e)},getCost:function(e,t){this.showCostPop=!0,this.costIndex=e,this.selectedCost=[t]},addCost:function(){this.expSubjectList=[],this.CostList.push({cashName:"",cashOutCode:"",cashType_cashOutCode:"",tdAmount:""})},deleteCost:function(){this.CostList.pop()},selMatter:function(e){var t=e;this.CostList[this.costIndex].cashName=t.fundName,this.CostList[this.costIndex].cashOutCode=t.fundCode,this.CostList[this.costIndex].cashType_cashOutCode=t.fundType},submitOrder:function(){var e=this,t="",a=[];if(this.CostList.every(function(e){return e.cashName?e.tdAmount?(a.push({tdId:e.tdId||"",cashOutCode:e.cashOutCode,cashType_cashOutCode:e.cashType_cashOutCode,tdAmount:e.tdAmount}),!0):(t="请填写支付金额",!1):(t="请选择资金账户",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=I.saveAndStartWf,n=(0,i.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,s.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:"",formData:(0,s.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,dataSet:a},dealerDebitContactPersonName:e.contact.dealerName||null,dealerDebitContactInformation:e.contact.dealerMobilePhone||null})),wfPara:(0,s.default)(n)};e.isResubmit&&(r.biReferenceId=e.biReferenceId,t=I.saveAndCommitTask),e.processCode.length||(t=I.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,w.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.attachment=t.attachment,e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.CostList=[];var a=t.formData;e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),a.order.dataSet.forEach(function(t){var a={cashName:t.fundName_cashOutCode,cashOutCode:t.cashOutCode,cashType_cashOutCode:t.cashType_cashOutCode,tdAmount:t.tdAmount,tdId:t.tdId};e.CostList.push(a)}),e.dealerInfo={creatorName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation,dealerCode:a.order.dealerDebit,dealerLabelName:a.order.drDealerLabel,dealerName:a.order.dealerName_dealerDebit,province:a.order.province_dealerDebit,city:a.order.city_dealerDebit,county:a.order.county_dealerDebit,address:a.order.address_dealerDebit},e.contact={dealerName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation},e.$loading.hide()})},hasDraftData:function(){var e=!1;return this.CostList.forEach(function(t){if(t.cashName)return e=!0,!1}),!!e&&(0,i.default)({},"FYBX_DATA",{cost:this.CostList,formData:this.formData,dealerInfo:this.dealerInfo,contact:this.contact})}},created:function(){var e=sessionStorage.getItem("FYBX_DATA");if(e){var t=JSON.parse(e);this.CostList=t.cost,this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.contact=t.contact,sessionStorage.removeItem("FYBX_DATA")}}}},WOdY:function(e,t){},WRWB:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("IHPB"),i=n(r),o=a("HzJ8"),s=n(o),l=a("fQlz"),d=n(l),u=a("kNGm"),c=n(u),f=a("9wX+"),h=n(f);t.default={name:"CommentItem",props:{item:{type:Object,default:function(){return{}}},noBorder:{type:Boolean,default:!1}},watch:{item:{handler:function(){this.checkImgSuffix()},immediate:!0}},components:{RPopover:h.default},data:function(){return{attachmentImgs:[]}},methods:{getDefaultIcon:function(e){var t=a("CYNT");return e&&(e.pic=t),t},getDefaultImg:function(e){e.target.src=a("Fuf7")},getImgUrl:function(e){return""+location.origin+e.attachment},scaleImg:function(e){var t=this.getImgUrl(e);wx.previewImage({current:t,urls:this.attachmentImgs})},checkImgSuffix:function(){var e=["jpg","jpeg","png","gif","bmp","tif","pcx","tga","exif","fpx","svg","psd","cdr","pcd","dxf","ufo","eps","ai","raw","WMF","webp"],t=[];if(this.item.attachment){var a=!0,n=!1,r=void 0;try{for(var i,o=(0,s.default)(this.item.attachment);!(a=(i=o.next()).done);a=!0){var l=i.value,d=l.name.lastIndexOf("."),u=l.name.substr(d+1);e.includes(u)&&(l.isImg=!0,t.push(this.getImgUrl(l)))}}catch(e){n=!0,r=e}finally{try{!a&&o.return&&o.return()}finally{if(n)throw r}}this.attachmentImgs=t}},checkFile:function(e){window.location.href=""+location.origin+e},handleComment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"comment",t=this.item,a=(t.type,t.reply),n=void 0===a?{}:a,r=(t.content,t.noticeSource,[].concat((0,i.default)(d.default))),o="",s=/\[(.+?)\]/g;return o="reply"===e?n.comment:this.item.comment,o=o.replace(/src="resources/g,'src="/dist/resources'),o=o.replace(s,function(e){var t=r.findIndex(function(t){return t===e.replace(/(\[|\])/g,"")});return-1===t?e:'<span class="img-emotion" style="background-position: -'+24*t+'px 0;"></span>'})},onPopoverClick:function(){this.$emit("on-popover-click")},hidePopover:function(){(this.$refs.popover||[]).forEach(function(e){e.hidePopover()})}},filters:{filterTime:function(e){if(e){"string"==typeof e&&(e=e.replace(/-/g,"/").replace(/\..*/g,""));var t=Date.now(),a=(0,c.default)(e,"YYYY-MM-DD"),n=+new Date(e),r=t-n;return r<864e5?a="今天":r<1728e5&&(a="昨天"),a+" "+(0,c.default)(e,"HH:mm:ss")}}},created:function(){}}},WRjc:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("a3Yh"),s=n(o),l=a("4YfN"),d=n(l),u=a("IHPB"),c=n(u),f=a("3cXf"),h=n(f),m=a("HXPS"),v=n(m),p=a("BGNQ"),C=n(p),y=a("z5TY"),_=n(y),g=a("SAzG"),b=n(g),w=a("PzEQ"),I=n(w),D=a("0AQX"),x=a("HyXB"),P=a("bKg5"),S=n(P),k=a("VZtf"),L=n(k),N=a("9cRV"),M=n(N),T=a("89pA"),A=n(T),O=a("luHD"),R=n(O),j=a("vl8n"),B=n(j),E=a("+WR7"),F=n(E);t.default={mixins:[S.default],components:{Icon:v.default,Cell:C.default,Group:_.default,XInput:b.default,XTextarea:I.default,RNumber:L.default,PopMatterList:M.default,PopWarehouseList:A.default,PopMatter:R.default,RPicker:B.default,PopBaseinfo:F.default},data:function(){return{matterList:[],showMaterielPop:!1,transCode:"",formData:{biComment:""},warehouse:{},warehouseIn:null,matter:{},showMatterPop:!1,modifyIndex:null,checkFieldList:[{key:"tdQty",message:"请填写调拨数量"}]}},methods:{delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,h.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},selWarehouseOut:function(e){this.warehouse=JSON.parse(e),null!=this.matterParams.data.whCode&&(this.matterParams.data.whCode=this.warehouse.warehouseCode,this.matterList=[])},selWarehouseIn:function(e){this.warehouseIn=JSON.parse(e)},modifyMatter:function(e,t){this.matter=JSON.parse((0,h.default)(e)),this.showMatterPop=!0,this.modifyIndex=t},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.matterList,this.modifyIndex,t)},selMatter:function(e){var t=JSON.parse(e);t.forEach(function(e){e.tdQty=e.tdQty||""}),this.matterList=[].concat((0,c.default)(t))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},save:function(){var e=this,t="",a=[];if([{key:"warehouse",message:"出库仓库"},{key:"warehouseIn",message:"入库仓库"}].every(function(a){return!!e[a.key]||(t="请选择"+a.message,!1)}),t||this.matterList.length||(t="请选择物料"),this.matterList.every(function(n){if(!n.tdQty)return t="请填写调拨数量",!1;var r={transObjCode:n.inventoryCode,tdProcessing:n.processing,thenQtyStock:n.qtyBal,tdQty:n.tdQty,assistQty:n.assistQty||0,assMeasureScale:n.assMeasureScale||null,assMeasureUnit:n.assMeasureUnit||null,comment:n.comment||null};return e.transCode&&(r.tdId=n.tdId||""),a.push(r),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=x.saveAndStartWf,n=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,containerOutWarehouseManager:e.warehouse.containerOutWarehouseManager||null,containerInWarehouseManager:e.warehouseIn.containerInWarehouseManager||null,inPut:{containerCodeOut:e.warehouse.warehouseCode,containerCode:e.warehouseIn.warehouseCode,dataSet:a}}),r={listId:e.listId,biComment:"",formData:(0,h.default)(n),wfPara:(0,h.default)((0,s.default)({},e.processCode,{businessKey:e.businessKey,createdBy:n.creator}))};e.transCode&&(t=x.saveAndCommitTask,r.biReferenceId=e.biReferenceId,r.wfPara=(0,h.default)({businessKey:e.transCode,createdBy:n.creator,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=x.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,D.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=t.attachment;var s=[],l=o.inPut,u=l.dataSet,c=void 0===u?[]:u,f=!0,h=!1,m=void 0;try{for(var v,p=(0,i.default)(c);!(f=(v=p.next()).done);f=!0){var C=v.value;C=(0,d.default)({},C,{qtyBal:C.thenQtyStock,inventoryPic:C.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+C.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:C.inventoryName_transObjCode,inventoryCode:C.inventoryCode_transObjCode,specification:C.specification_transObjCode,measureUnit:C.measureUnit_transObjCode,processing:C.tdProcessing}),s.push(C)}}catch(e){h=!0,m=e}finally{try{!f&&p.return&&p.return()}finally{if(h)throw m}}e.warehouseIn={warehouseCode:l.containerCode,warehouseName:l.warehouseName_containerCode,warehouseType:l.warehouseType_containerCode,warehouseProvince:l.warehouseProvince_containerCode,warehouseCity:l.warehouseCity_containerCode,warehouseDistrict:l.warehouseDistrict_containerCode,warehouseAddress:l.warehouseAddress_containerCode},e.warehouse={warehouseCode:l.containerCodeOut,warehouseName:l.warehouseName_containerCodeOut,warehouseType:l.warehouseType_containerCodeOut,warehouseProvince:l.warehouseProvince_containerCodeOut,warehouseCity:l.warehouseCity_containerCodeOut,warehouseDistrict:l.warehouseDistrict_containerCodeOut,warehouseAddress:l.warehouseAddress_containerCodeOut},e.warehouseParams={whCode:e.warehouse.warehouseCode},e.handlerDefault={handler:o.handler,handlerName:o.handlerName,handlerUnit:o.handlerUnit,handlerUnitName:o.handlerUnitName,handlerRole:o.handlerRole,handlerRoleName:o.handlerRoleName},e.formData=(0,d.default)({},e.handlerDefault,{biComment:o.biComment,biId:o.biId,biProcessStatus:o.biProcessStatus,creator:o.creator,modifer:o.modifer}),e.biReferenceId=o.biReferenceId,e.matterList=s,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,s.default)({},"BDKCDB_DATA",{matter:this.matterList,warehouse:this.warehouse,warehouseIn:this.warehouseIn,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("BDKCDB_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.warehouse=t.warehouse,this.warehouseIn=t.warehouseIn,this.formData=t.formData,this.warehouseParams={whCode:this.warehouse.warehouseCode},sessionStorage.removeItem("BDKCDB_DATA")}}}},WRmN:function(e,t){},WUQS:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2542,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}]}},mixins:[r.default],methods:{},created:function(){}}},WVZW:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("ZLEe"),i=n(r),o=a("HzJ8"),s=n(o),l=a("4YfN"),d=n(l),u=a("aA9S"),c=n(u),f=a("3cXf"),h=n(f),m=a("7g+Q"),v=n(m),p=a("+62G"),C=(n(p),a("kNGm")),y=n(C),_=a("1KNX"),g=n(_),b=(a("HyXB"),a("vS5q"));t.default={name:"RSort",components:{Popup:v.default,RScroll:g.default},props:{data:{type:Array,default:function(){return[{name:"综合",key:""},{name:"交易号",key:"transCode"},{name:"修改时间",key:"modTime"}]}},listId:{type:[String,Number],default:2190},hasFormStatus:{type:Boolean,default:!0}},data:function(){return{sort:"",toDay:"",preDate:"",property:"",SpecTimeKey:"",lastFilter:{},fieldVlaue:{},filtersList:{},statusList:{},timeFilter:{startDate:"",endDate:""},tmpTimeFilter:{startDate:"",endDate:""},scrollOptions:{click:!0},showFilter:!1,specificTimeList:["今日","昨日","本周"]}},methods:{sortClick:function(e,t){this.property===e.key?this.sort="ASC"===this.sort?"DESC":"ASC":this.sort="ASC",this.property=e.key,this.$emit("on-sort",{property:e.key,direction:this.sort})},onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()}),this.lastFilter={timeFilter:JSON.parse((0,h.default)(this.timeFilter)),otherFilter:JSON.parse((0,h.default)(this.fieldVlaue))}},onHide:function(){var e=!1;this.timeFilter.startDate===this.lastFilter.timeFilter.startDate&&this.timeFilter.endDate===this.lastFilter.timeFilter.endDate||(e=!0),(0,h.default)(this.fieldVlaue)!==(0,h.default)(this.lastFilter.otherFilter)&&(e=!0),e&&this.$emit("on-filter",{timeFilter:this.timeFilter,otherFilter:this.fieldVlaue})},filterConfirm:function(){this.showFilter=!1},filterReset:function(){this.fieldVlaue={},this.SpecTimeKey="",this.timeFilter=(0,c.default)({},this.$data.timeFilter,this.$options.data().timeFilter),this.tmpTimeFilter=(0,c.default)({},this.$data.tmpTimeFilter,this.$options.data().tmpTimeFilter)},showSelIcon:function(e,t){if(this.fieldVlaue[t])return-1!==this.fieldVlaue[t].value.findIndex(function(t){return t===e})},selProcee:function(e,t){if(this.fieldVlaue[t]){var a=this.fieldVlaue[t].value,n=a.findIndex(function(t){return t===e});if(-1!==n)return a.splice(n,1),void(a.length||delete this.fieldVlaue[t]);a.push(e)}else{var r={};r="biProcessStatus"!==t&&"bugProcessStatus"!==t&&"processStatus"!==t?{alias:this.filtersList[t].alias,value:[e]}:{alias:this.statusList[t].alias,value:[e]},this.$set(this.fieldVlaue,t,(0,d.default)({},r))}},pickSpecTime:function(e){if(this.SpecTimeKey===e)return this.SpecTimeKey="",void(this.timeFilter=(0,c.default)({},this.$data.timeFilter,this.$options.data().timeFilter));if(this.SpecTimeKey=e,this.tmpTimeFilter=(0,c.default)({},this.$data.tmpTimeFilter,this.$options.data().tmpTimeFilter),e<2){var t=["toDay","preDate"];this.pickDate(t[e])}else{var a=new Date,n=a.getDate(),r=a.getMonth(),i=a.getFullYear(),o=a.getDay(),s={startDate:(0,y.default)(new Date(i,r,n-o),"YYYY-MM-DD"),endDate:(0,y.default)(new Date(i,r,n+(6-o)),"YYYY-MM-DD")};this.pickDate("",s)}},pickDate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e?this.timeFilter.startDate=this.timeFilter.endDate=this[e]:this.timeFilter=(0,d.default)({},t)},getStart:function(){var e=this,t=this.timeFilter,a=this.tmpTimeFilter;this.$vux.datetime.show({cancelText:"取消",confirmText:"确定",clearText:"重新选择",value:a.startDate,endDate:this.toDay,onClear:function(e){t.startDate=a.startDate=""},onConfirm:function(n){if(""!==e.SpecTimeKey&&(e.SpecTimeKey=t.endDate=""),t.endDate){var r=new Date(Date.parse(t.endDate.replace(/-/g,"/")));new Date(Date.parse(n.replace(/-/g,"/")))-r>0&&(t.endDate=a.endDate="")}t.startDate=a.startDate=n}})},getEnd:function(){var e=this,t=this.timeFilter,a=this.tmpTimeFilter;this.$vux.datetime.show({cancelText:"取消",confirmText:"确定",clearText:"重新选择",value:a.endDate,startDate:a.startDate?a.startDate:"",onClear:function(e){t.endDate=a.endDate=""},onConfirm:function(n){""!==e.SpecTimeKey&&(e.SpecTimeKey=t.startDate=""),t.endDate=a.endDate=n}})},getFilterFields:function(){var e=this;(0,b.filterFields)(this.listId).then(function(t){var a=["进行中","已生效","草稿"],n={},r={};e.hasFormStatus&&(n={biStatus:{alias:"表单状态",showAll:!1,showValue:a,value:a}});var o=!0,l=!1,u=void 0;try{for(var c,f=(0,s.default)((0,i.default)(t));!(o=(c=f.next()).done);o=!0){var h=c.value,m=t[h];"biProcessStatus"!==h&&"bugProcessStatus"!==h&&"processStatus"!==h?n[h]=(0,d.default)({},m,{showValue:m.value.slice(0,9),showAll:!1}):r[h]=(0,d.default)({},m,{showValue:m.value.slice(0,9),showAll:!1})}}catch(e){l=!0,u=e}finally{try{!o&&f.return&&f.return()}finally{if(l)throw u}}e.filtersList=(0,d.default)({},n),e.statusList=(0,d.default)({},r)})}},created:function(){this.$route.params.listId;this.toDay=(0,y.default)(new Date,"YYYY-MM-DD"),this.preDate=(0,y.default)(new Date((new Date).getTime()-864e5),"YYYY-MM-DD"),this.getFilterFields()}}},WVmE:function(e,t,a){"use strict";function n(e){a("MoqR")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("RzhK");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("0T3k"),s=a.n(o),l=a("rgQ7"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-6f591ac2",null);t.default=c.exports},"WY+5":function(e,t){},Wdr0:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2244,biStatus:"",filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"客户名称",value:"dealerName_dealerDebit"}]}},mixins:[r.default],methods:{}}},Wdtp:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("MgeX"),i=n(r),o=a("HzJ8"),s=n(o),l=a("KH7x"),d=n(l),u=a("4YfN"),c=n(u),f=a("0AQX"),h=a("+VRO"),m=n(h),v=a("BUFe"),p=n(v),C=a("AupE"),y=n(C),_=a("bFc7"),g=n(_),b=a("3NX5"),w=n(b),I=a("sUbJ"),D=n(I),x=a("d7ck"),P=n(x),S=a("CKaN"),k=n(S),L=a("zWMP"),N=a("Qg39");t.default={data:function(){return{count:0,comment:"",orderInfo:{},formViewUniqueId:"e76a8c6f-05cc-45ee-ba93-299fe6751856",orderList:{},cashInfo:{},costList:[]}},computed:{noTaxAmount:function(){var e=0;return this.orderInfo.inPut.dataSet.forEach(function(t){e=(0,L.accAdd)(e,t.noTaxAmount)}),e},taxAmount:function(){var e=0;return this.orderInfo.inPut.dataSet.forEach(function(t){e=(0,L.accAdd)(e,t.taxAmount)}),e},isCashier:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"e185e706-5b21-4467-bbe9-cff1856873a7"===t},cashParams:function(){return{transCode:this.transCode,fundType:"银行存款"}},isEditAdmout:function(){var e=!1;return this.otherConfig.forEach(function(t){"fundName_cashOutCode"===t.fieldCode&&(e=t.readOnly)}),e||(this.cashInfo=(0,c.default)({},this.cashInfo,{fundCode:this.cashInfo.fundCode||this.cashInfo.cashInCode,fundType:this.cashInfo.fundType||this.cashInfo.cashType_cashInCode,fundName:this.cashInfo.fundName||this.cashInfo.fundName_cashInCode,thenAmntBal:this.cashInfo.thenAmntBal||this.cashInfo.thenAmntBalCopy1})),e}},mixins:[m.default],components:{workFlow:y.default,RAction:p.default,contactPart:g.default,MatterList:w.default,MatterItem:D.default,FormCell:P.default,PopCashList:k.default},methods:{checkAmt:function(e,t,a){e[t]=Math.abs((0,N.toFixed)(a))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,f.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,l=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u={},f=i.inPut,h=void 0===f?{}:f,m=i.outPut,v=void 0===m?{}:m;e.attachment=l;var p=h.dataSet,C=v.dataSet,y=void 0===C?[]:C,_=(0,d.default)(y,1),g=_[0],b=void 0===g?{}:g,w=!0,I=!1,D=void 0;try{for(var x,P=(0,s.default)(p);!(w=(x=P.next()).done);w=!0){var S=x.value;S.noTaxAmount=(0,L.accMul)(S.price,S.tdQty),S.taxAmount=(0,L.accMul)(S.noTaxAmount,S.taxRate),S.tdAmount=(0,N.toFixed)((0,L.accAdd)(S.noTaxAmount,S.taxAmount)),e.count=(0,L.accAdd)(e.count,S.tdAmount),S.inventoryPic=S.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+S.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),u[S.transMatchedCode]||(u[S.transMatchedCode]=[]),u[S.transMatchedCode].push(S)}}catch(e){I=!0,D=e}finally{try{!w&&P.return&&P.return()}finally{if(I)throw D}}e.orderList=u,e.dealerInfo={creatorName:i.dealerCreditContactPersonName,dealerName:h.dealerName_dealerCodeCredit,dealerMobilePhone:i.dealerCreditContactInformation,dealerContactPersonName:i.dealerCreditContactPersonName,dealerCode:h.dealerCode_dealerCodeCredit,dealerLabelName:h.crDealerLabel,province:h.province_dealerCodeCredit,city:h.city_dealerCodeCredit,county:h.county_dealerCodeCredit,address:h.address_dealerCodeCredit,payment:h.crDealerPaymentTerm,pamentDays:h.daysOfAccount,accountExpirationDate:h.accountExpirationDate},e.cashInfo=b,e.orderInfo=(0,c.default)({},i,h),e.workFlowInfoHandler()})},agreeHandler:function(){if(this.isCashier){if(this.isCashier&&!this.cashInfo.fundCode)return this.$vux.alert.show({content:"请选择资金账户"}),!0;var e=this.orderInfo,t=[],a=!0,n=!1,r=void 0;try{for(var o,l=(0,s.default)((0,i.default)(this.orderList));!(a=(o=l.next()).done);a=!0){var d=o.value,u=!0,f=!1,h=void 0;try{for(var m,v=(0,s.default)(d);!(u=(m=v.next()).done);u=!0){var p=m.value;t.push({tdId:p.tdId,transMatchedCode:p.transMatchedCode,transObjCode:p.transObjCode,tdProcessing:p.tdProcessing,assMeasureUnit:p.assMeasureUnit,expSubject:p.expSubject,thenTotalQtyBal:p.thenTotalQtyBal,thenLockQty:p.thenLockQty,thenQtyBal:p.thenQtyBal,tdQty:p.tdQty,assMeasureScale:p.assMeasureScale,assistQty:p.assistQty,price:p.price,taxRate:p.taxRate,taxAmount:p.taxAmount,tdAmount:p.tdAmount,processingStartDate:p.processingStartDate,keepingDays_transObjCode:p.keepingDays_transObjCode,productionDate:p.productionDate,validUntil:p.validUntil,comment:p.comment})}}catch(e){f=!0,h=e}finally{try{!u&&v.return&&v.return()}finally{if(f)throw h}}}}catch(e){n=!0,r=e}finally{try{!a&&l.return&&l.return()}finally{if(n)throw r}}var C=(0,c.default)({},e,{inPut:{dealerCodeCredit:this.orderInfo.inPut.dealerCodeCredit,crDealerLabel:this.orderInfo.inPut.crDealerLabel,crDealerPaymentTerm:this.orderInfo.inPut.crDealerPaymentTerm,daysOfAccount:this.orderInfo.inPut.daysOfAccount,accountExpirationDate:this.orderInfo.inPut.accountExpirationDate,containerCode:this.orderInfo.inPut.containerCode,dataSet:t}});if(this.isCashier){var y=this.cashInfo;C.outPut.dataSet=[{fundName_cashInCode:y.fundName,cashOutCode:y.fundCode,cashType_cashOutCode:y.fundType,thenAmntBalCopy1:y.amntBal,tdAmountCopy1:y.tdAmountCopy1,tdIdCopy1:y.tdIdCopy1}]}return console.log(C),this.saveData(C),!0}return!1},selCash:function(e){this.cashInfo=(0,c.default)({},this.cashInfo,e)}}}},Wg9S:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("HyXB"),a("MjAd")),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2530,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}]}},mixins:[r.default],methods:{},created:function(){}}},WjOO:function(e,t){},Wjre:function(e,t){},Wkhp:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("kNGm"),s=(n(o),a("0AQX")),l=a("+VRO"),d=n(l),u=a("BUFe"),c=n(u),f=a("AupE"),h=n(f),m=a("zWMP");t.default={data:function(){return{count:0,cashInfo:{}}},mixins:[d.default],components:{workFlow:h.default,RAction:c.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=t.formData,r=n.order,o=void 0===r?{}:r,s=n.inPut,l=void 0===s?{}:s;e.attachment=a,e.cashInfo=l.dataSet[0];var d=o.dataSet,u=!0,c=!1,f=void 0;try{for(var h,v=(0,i.default)(d);!(u=(h=v.next()).done);u=!0){var p=h.value;e.count=(0,m.accAdd)(e.count,p.tdAmount)}}catch(e){c=!0,f=e}finally{try{!u&&v.return&&v.return()}finally{if(c)throw f}}e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},Wkue:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("3cXf"),s=n(o),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),h=n(f),m=a("SAzG"),v=n(m),p=a("7g+Q"),C=n(p),y=a("PzEQ"),_=n(y),g=a("jnZd"),b=n(g),w=a("u28h"),I=n(w),D=a("kNGm"),x=(n(D),a("0AQX")),P=a("HyXB"),S=(a("jLp1"),a("bKg5")),k=n(S),L=a("55ug"),N=n(L),M=a("vl8n"),T=n(M),A=a("+WR7"),O=n(A),R=a("zWMP"),j=a("Qg39"),B={draftNumber:"",draftType:"",accepter:"",tdAmount:"",deposit:"",draftDate:"",draftDueDate:"",comment:""};t.default={mixins:[k.default],components:{Cell:c.default,Group:h.default,Popup:C.default,XInput:v.default,XTextarea:_.default,PopupPicker:b.default,RPicker:T.default,PopBaseinfo:O.default,PopDealerList:N.default,Datetime:I.default},data:function(){return{listId:"1745ffdd-1b6a-4fe5-9c5b-6e5394bd4faf",biReferenceId:"",selectedCost:[],costIndex:0,transCode:"",formData:{biComment:"",biProcessStatus:""},dealerInfo:{},orderList:[(0,d.default)({},B)],dealerParams:{dealerLabelName:"供应商,经销供应商"},draftTypeList:["银行承兑","商业承兑"]}},computed:{thenTotalAmntBal:function(){var e=0;return this.orderList.forEach(function(t){t.tdAmount&&(e=(0,R.accAdd)(e,t.tdAmount))}),(0,j.toFixed)(e)},tdAmount:function(){var e=0;return this.orderList.forEach(function(t){t.deposit&&(e=(0,R.accAdd)(e,t.deposit))}),(0,j.toFixed)(e)}},methods:{submitOrder:function(){var e=this,t="",a=[],n=[{key:"draftNumber",message:"请输入汇票号"},{key:"draftType",message:"请选择类型"},{key:"accepter",message:"请输入承兑人"},{key:"tdAmount",message:"请输入金额"},{key:"deposit",message:"请输入保证金"},{key:"draftDate",message:"请选择出票日"},{key:"draftDueDate",message:"请选择到期日"}];if(this.dealerInfo.dealerCode||(t="请选择往来"),t||this.orderList.every(function(e){return n.every(function(a){return e[a.key]||0===e[a.key]||(t=a.message),!t}),a.push({tdId:e.tdId||"",draftNumber:e.draftNumber,draftType:e.draftType,accepter:e.accepter,tdAmount:e.tdAmount,deposit:e.deposit,draftDate:e.draftDate,draftDueDate:e.draftDueDate,comment:e.comment}),!t}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=P.saveAndStartWf,n=(0,i.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,s.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:e.formData.biComment,formData:(0,s.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.formData.handler,modifer:e.formData.handler,order:{dealerName_dealerDebit:e.dealerInfo.dealerName,dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,thenAmntBalCopy2:e.dealerInfo.amntBal,thenAlreadyAmnt:e.thenTotalAmntBal,dataSet:a},outPut:{dataSet:[{fundName_cashOutCode:null,cashOutCode:"",cashType_cashOutCode:"",thenAmntBalCopy1:0,tdAmountCopy1:e.tdAmount}]},inPut:{dataSet:[{fundName_cashInCode:null,cashInCode:"",cashType_cashInCode:"",thenAmntBal:0,tdAmount:e.tdAmount,tdId:""}]}})),wfPara:(0,s.default)(n)};e.isResubmit&&(r.biReferenceId=e.biReferenceId,t=P.saveAndCommitTask),e.processCode.length||(t=P.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,x.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.attachment,n=void 0===a?[]:a,r=t.listId,i=void 0===r?"":r,o=(t.biComment,t.biReferenceId),s=void 0===o?"":o,l=t.formData,u=void 0===l?{}:l;e.attachment=n,e.listId=i,e.biReferenceId=s,e.handlerDefault={handler:u.handler,handlerName:u.handlerName,handlerUnit:u.handlerUnit,handlerUnitName:u.handlerUnitName,handlerRole:u.handlerRole,handlerRoleName:u.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:u.biComment,biId:u.biId,biProcessStatus:u.biProcessStatus,creator:u.creator,modifer:u.modifer});var c=u.order,f=void 0===c?{}:c,h=f.dataSet,m=void 0===h?[]:h;e.dealerInfo={dealerName:f.dealerName_dealerDebit,dealerCode:f.dealerDebit,dealerLabelName:f.drDealerLabel,amntBal:f.thenAmntBalCopy2,thenTotalAmntBal:f.thenAlreadyAmnt},e.orderList=m,e.$loading.hide()})},hasDraftData:function(){return!!this.dealerInfo.dealerCode&&(0,i.default)({},"SDCDHP_DATA",{formData:this.formData,dealerInfo:this.dealerInfo,orderList:this.orderList})},getRelationData:function(){},selDealer:function(e){this.dealerInfo=(0,d.default)({},e)},addOrder:function(){this.orderList.push((0,d.default)({},B))},deleteOrder:function(){this.orderList.pop()},checkAmt:function(e,t){switch(e){case"tdAmountCopy1":this.dealerInfo.tdAmountCopy1=(0,j.toFixed)(this.dealerInfo.tdAmountCopy1);break;default:e[t]=(0,j.toFixed)(e[t])}}},created:function(){var e=sessionStorage.getItem("SDCDHP_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.orderList=t.orderList,sessionStorage.removeItem("SDCDHP_DATA")}}}},Wn8c:function(e,t){},WnoM:function(e,t,a){"use strict";function n(e){a("eBa9")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("P0Xt");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("00yO"),s=a.n(o),l=a("E2w4"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-042e7a67",null);t.default=c.exports},Wnp4:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("ZLEe"),i=n(r),o=a("DEQU"),s=n(o),l=a("HXPS"),d=n(l),u=a("UwQd"),c=n(u),f=a("xZPP"),h=n(f),m=a("Bv05"),v=n(m),p=a("BzUK"),C=n(p),y=a("cEbJ"),_=n(y),g=a("IFIB"),b=n(g),w={email:{fn:v.default,msg:"邮箱格式"},"china-mobile":{fn:function(e){return(0,C.default)(e,"zh-CN")},msg:"手机号码"},"china-name":{fn:function(e){return e.length>=2&&e.length<=6},msg:"中文姓名"}};t.default={name:"x-input",created:function(){var e=this;this.currentValue=void 0===this.value||null===this.value?"":this.mask?this.maskValue(this.value):this.value,!this.required||void 0!==this.currentValue&&""!==this.currentValue||(this.valid=!1),this.handleChangeEvent=!0,this.debounce&&(this._debounce=(0,_.default)(function(){e.$emit("on-change",e.currentValue)},this.debounce))},beforeMount:function(){this.$slots&&this.$slots["restricted-label"]&&(this.hasRestrictedLabel=!0),this.$slots&&this.$slots["right-full-height"]&&(this.hasRightFullHeightSlot=!0)},beforeDestroy:function(){this._debounce&&this._debounce.cancel(),window.removeEventListener("resize",this.scrollIntoView)},mixins:[s.default],components:{Icon:d.default,InlineDesc:h.default,Toast:c.default},props:{title:{type:String,default:""},type:{type:String,default:"text"},placeholder:String,value:[String,Number],name:String,readonly:Boolean,disabled:Boolean,keyboard:String,inlineDesc:String,isType:[String,Function],min:Number,max:Number,showClear:{type:Boolean,default:!0},equalWith:String,textAlign:String,autocomplete:{type:String,default:"off"},autocapitalize:{type:String,default:"off"},autocorrect:{type:String,default:"off"},spellcheck:{type:String,default:"false"},novalidate:{type:Boolean,default:!1},iconType:String,debounce:Number,placeholderAlign:String,labelWidth:String,mask:String,shouldToastError:{type:Boolean,default:!0}},computed:{labelStyles:function(){return{width:this.labelWidthComputed||this.$parent.labelWidth||this.labelWidthComputed,textAlign:this.$parent.labelAlign,marginRight:this.$parent.labelMarginRight}},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}},pattern:function(){if("number"===this.keyboard||"china-mobile"===this.isType)return"[0-9]*"},labelWidthComputed:function(){var e=this.title.replace(/[^x00-xff]/g,"00").length/2+1;if(e<10)return e+"em"},hasErrors:function(){return(0,i.default)(this.errors).length>0},inputStyle:function(){if(this.textAlign)return{textAlign:this.textAlign}},showWarn:function(){return!this.novalidate&&!this.equalWith&&!this.valid&&this.firstError&&(this.touched||this.forceShowError)}},mounted:function(){window.addEventListener("resize",this.scrollIntoView)},methods:{scrollIntoView:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;setTimeout(function(){"INPUT"!==document.activeElement.tagName&&"TEXTAREA"!==document.activeElement.tagName||setTimeout(function(){document.activeElement.scrollIntoViewIfNeeded()},e)})},onClickErrorIcon:function(){this.shouldToastError&&this.firstError&&(this.showErrorToast=!0),this.$emit("on-click-error-icon",this.firstError)},maskValue:function(e){return this.mask?b.default.toPattern(e,this.mask):e},reset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.dirty=!1,this.currentValue=e,this.firstError="",this.valid=!0},clear:function(){this.currentValue="",this.focus(),this.$emit("on-click-clear-icon")},focus:function(){this.$refs.input.focus()},blur:function(){this.$refs.input.blur()},focusHandler:function(e){this.$emit("on-focus",this.currentValue,e),this.isFocus=!0,this.scrollIntoView(500)},onBlur:function(e){this.setTouched(),this.validate(),this.isFocus=!1,this.$emit("on-blur",this.currentValue,e)},onKeyUp:function(e){"Enter"===e.key&&(e.target.blur(),this.$emit("on-enter",this.currentValue,e))},getError:function(){var e=(0,i.default)(this.errors)[0];this.firstError=this.errors[e]},validate:function(){if(void 0!==this.equalWith)return void this.validateEqual();if(this.errors={},!this.currentValue&&!this.required)return void(this.valid=!0);if(!this.currentValue&&this.required)return this.valid=!1,this.errors.required="必填哦",void this.getError();if("string"==typeof this.isType){var e=w[this.isType];if(e){var t=this.currentValue;if("china-mobile"===this.isType&&"999 9999 9999"===this.mask&&(t=this.currentValue.replace(/\s+/g,"")),this.valid=e.fn(t),!this.valid)return this.forceShowError=!0,this.errors.format=e.msg+"格式不对哦~",void this.getError();delete this.errors.format}}if("function"==typeof this.isType){var a=this.isType(this.currentValue);if(this.valid=a.valid,!this.valid)return this.errors.format=a.msg,this.forceShowError=!0,void this.getError();delete this.errors.format}if(this.min){if(this.currentValue.length<this.min)return this.errors.min="最少应该输入"+this.min+"个字符哦",this.valid=!1,void this.getError();delete this.errors.min}if(this.max){if(this.currentValue.length>this.max)return this.errors.max="最多可以输入"+this.max+"个字符哦",this.valid=!1,void(this.forceShowError=!0);this.forceShowError=!1,delete this.errors.max}this.valid=!0},validateEqual:function(){return!this.equalWith&&this.currentValue?(this.valid=!1,void(this.errors.equal="输入不一致")):(this.dirty||this.currentValue.length>=this.equalWith.length)&&this.currentValue!==this.equalWith?(this.valid=!1,void(this.errors.equal="输入不一致")):void(!this.currentValue&&this.required?this.valid=!1:(this.valid=!0,delete this.errors.equal))}},data:function(){return{hasRightFullHeightSlot:!1,hasRestrictedLabel:!1,firstError:"",forceShowError:!1,hasLengthEqual:!1,valid:!0,currentValue:"",showErrorToast:!1,isFocus:!1}},watch:{mask:function(e){e&&this.currentValue&&(this.currentValue=this.maskValue(this.currentValue))},valid:function(){this.getError()},value:function(e){this.currentValue=e},equalWith:function(e){e&&this.equalWith?(e.length===this.equalWith.length&&(this.hasLengthEqual=!0),this.validateEqual()):this.validate()},currentValue:function(e){!this.equalWith&&e&&this.validateEqual(),e&&this.equalWith?(e.length===this.equalWith.length&&(this.hasLengthEqual=!0),this.validateEqual()):this.validate(),this.$emit("input",this.maskValue(e)),this._debounce?this._debounce():this.$emit("on-change",e)}}}},Wtqk:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2362,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"成品名称",value:"inventoryName_transObjCode"}]}},mixins:[r.default]}},WzL9:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2586}},mixins:[r.default],methods:{},created:function(){}}},Wzeo:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages warehouse-page"},[a("r-scroll",{staticClass:"content",attrs:{options:e.scrollOptions}},[a("div",{staticClass:"mater_baseinfo"},[a("div",{staticClass:"mater_pic"},[a("span",{staticClass:"title"},[e._v("仓库照片")]),e._v(" "),a("upload-image",{attrs:{src:e.MatPic},on:{"on-upload":e.onUpload,"on-error":e.getDefaultImg}})],1)]),e._v(" "),e._l(e.warehouseConfig,function(t,n){return a("div",{key:n,staticClass:"each-info"},[t.hiddenInRun?e._e():["r2Textfield"===t.xtype?a("div",{staticClass:"each_property vux-1px-t"},[a("label",{class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.warehouse[t.fieldCode],expression:"warehouse[item.fieldCode]"}],staticClass:"property_val",attrs:{type:"text",placeholder:"请填写"},domProps:{value:e.warehouse[t.fieldCode]},on:{input:function(a){a.target.composing||e.$set(e.warehouse,t.fieldCode,a.target.value)}}})]):e._e(),e._v(" "),"r2Combo"===t.xtype&&"warehouseProvince"!==t.fieldCode&&"warehouseStatus"!==t.fieldCode?a("div",[a("r-picker",{staticClass:"vux-1px-t",attrs:{title:t.fieldLabel,data:t.remoteData,value:e.warehouse[t.fieldCode],required:!t.allowBlank},model:{value:e.warehouse[t.fieldCode],callback:function(a){e.$set(e.warehouse,t.fieldCode,a)},expression:"warehouse[item.fieldCode]"}})],1):"warehouseStatus"===t.fieldCode?[a("r-picker",{staticClass:"vux-1px-t",attrs:{title:t.fieldLabel,data:t.remoteData,value:e.warehouseStatus,required:!t.allowBlank},model:{value:e.warehouseStatus,callback:function(t){e.warehouseStatus=t},expression:"warehouseStatus"}})]:"warehouseProvince"===t.fieldCode?[a("div",{staticClass:"each_property vux-1px-t",on:{click:function(t){e.showAddress=!0}}},[a("label",[e._v("省市区")]),e._v(" "),a("div",{staticClass:"picker"},[""===e.warehouse.warehouseProvince&&""===e.warehouse.warehouseCity&&""===e.warehouse.warehouseDistrict?a("span",{staticClass:"mater_nature"},[e._v("请选择")]):a("span",{staticClass:"mater_nature"},[e._v(e._s(e.warehouse.warehouseProvince)+e._s(e.warehouse.warehouseCity)+e._s(e.warehouse.warehouseDistrict))]),e._v(" "),a("span",{staticClass:"icon-right"})]),e._v(" "),a("x-address",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{title:"省市区",list:e.addressData,value:e.AccountAddress,show:e.showAddress},on:{"on-hide":function(t){e.getAddress(t)},"on-shadow-change":e.changeAddress,"update:show":function(t){e.showAddress=t}}})],1)]:e._e()]],2)}),e._v(" "),a("duplicate-component",{attrs:{config:e.warehouseDuplicateConfig,defaultValue:e.warehouseDuplicateData},model:{value:e.warehouseDuplicateData,callback:function(t){e.warehouseDuplicateData=t},expression:"warehouseDuplicateData"}})],2),e._v(" "),a("div",{staticClass:"btn "},[a("div",{staticClass:"cfm_btn",on:{click:e.save}},[e._v(e._s(this.transCode?"保存":"提交"))])])],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},Wzuw:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("a3Yh"),s=n(o),l=a("4YfN"),d=n(l),u=a("7g+Q"),c=n(u),f=a("+62G"),h=n(f),m=a("z5TY"),v=n(m),p=a("BGNQ"),C=n(p),y=a("iR2W"),_=n(y),g=a("u28h"),b=n(g),w=a("SAzG"),I=n(w),D=a("PzEQ"),x=n(D),P=a("HyXB"),S=a("bKg5"),k=n(S),L=a("7D9F"),N=n(L),M=a("i61Q"),T=n(M),A=a("FGYN"),O=n(A),R=a("F2L3"),j=n(R),B=a("vl8n"),E=n(B),F=a("+WR7"),U=n(F);t.default={directives:{TransferDom:h.default},components:{Popup:c.default,Group:v.default,Cell:C.default,Datetime:b.default,XInput:I.default,XTextarea:x.default,PopWorkList:T.default,PopManagerList:N.default,PopProjectList:j.default,PopWorkGdbllList:O.default,RPicker:E.default,PopBaseinfo:U.default},data:function(){return{listId:"6ebcad8b-449c-422a-960f-53ccf98fd4ba",showWorkPop:!1,transMode:[],matterList:[],dealer:{},numMap:{},contact:{},formData:{},dealerInfo:{},workInfo:{},defaultManager:{},project:{},defaultProject:[]}},mixins:[k.default],filters:{numberComma:_.default},methods:{selWork:function(e){this.workInfo=(0,d.default)({tdQty:""},e)},submitOrder:function(){var e=this,t="",a=[];if(this.workInfo.transCode||(t="请选择工序"),t||this.workInfo.tdQty||(t="请填写补领料数量"),t||this.project.PROJECT_NAME||(t="请选择项目"),t)return void this.$vux.alert.show({content:t});var n={transMatchedCode:this.workInfo.transCode,proPointCode:this.workInfo.proPointCode,tdQty:this.workInfo.tdQty,transObjCode:this.workInfo.matCode,proFlowCode:this.workInfo.proFlowCode,processCode:this.workInfo.processCode,tdProcessing:this.workInfo.processing};a.push(n),this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=(P.saveAndStartWf,(0,s.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""}));e.isResubmit&&(t={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var n={listId:e.listId,biComment:e.formData.biComment,formData:(0,i.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,biProcessStatus:e.currentStage,order:{dataSet:a,project:e.project.PROJECT_NAME,departmentName:e.formData.handlerUnitName}})),wfPara:(0,i.default)(t)};e.isResubmit&&(P.saveAndCommitTask,n.biReferenceId=e.biReferenceId),e.processCode.length||(P.submitAndCalc,delete n.wfPara,delete n.biReferenceId),e.biReferenceId&&(n.biReferenceId=e.biReferenceId)}})},selProject:function(e){this.project=(0,d.default)({},e)},hasDraftData:function(){return!!this.workInfo.procedureName&&(0,s.default)({},"GDBLL_DATA",{workInfo:this.workInfo,project:this.project,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("GDBLL_DATA");if(e){var t=JSON.parse(e);this.workInfo=t.workInfo,this.project=t.project,this.formData=t.formData,sessionStorage.removeItem("GDBLL_DATA")}}}},"X+3X":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList,"status-data":e.currentStage,showStatus:!1},on:{"sel-item":e.selItem},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,defaultContact:e.contact,dealerTitle:"供应商","dealer-params":e.dealerParams},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("dealer-other-part",{attrs:{"dealer-config":e.dealerConfig,"dealer-info":e.dealerInfo},model:{value:e.dealerInfo,callback:function(t){e.dealerInfo=t},expression:"dealerInfo"}}),e._v(" "),a("apply-matter-part",{attrs:{"show-materiel-pop":e.showMaterielPop,"show-matter-pop":e.showMatterPop,"filter-list":e.filterList,actions:e.actions,btnInfo:e.btnInfo,"matter-list":e.orderList,"default-value":e.matterList,"matter-pop-config":e.matterPopConfig,"matter-edit-config":e.matterEditConfig,"order-list-title":e.orderListTitle,"matter-params":e.matterParams,"add-matter-fn":e.addMatter,"sel-matter-fn":e.selMatter,"sel-items":e.selItems,"matter-modify-class":e.matterModifyClass,"stop-order-fn":e.stopOrder,"get-matter-modify-fn":e.getMatterModify,"show-delete-fn":e.showDelete,"show-sel-icon-fn":e.showSelIcon,"del-click-fn":e.delClick,"chosen-matter":e.matter,"check-amt-fn":e.checkAmt,"sel-confirm-fn":e.selConfirm,"btn-is-hide":e.btnIsHide},on:{"show-down-modify-pop":e.shutDownModify},model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("op-button",{attrs:{"is-modify":e.matterModifyClass,hide:e.btnIsHide,"td-amount":e.tdAmount,"tax-amount":e.taxAmount,"all-check":e.selItems.length===e.matterList.length},on:{"on-submit":e.submitOrder,"on-check-all":e.checkAll,"on-delete":e.deleteCheckd}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},"X+5y":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("m-search",{attrs:{filterList:e.filterList,isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.matterList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.matterList,function(t,n){return a("div",{key:n,staticClass:"each_mater box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"pop-info top"},[a("span",{staticClass:"info-item"},[e._v(e._s(t.transCode))])]),e._v(" "),a("div",{staticClass:"pop-info"},[a("span",{staticClass:"info-item"},[e._v("采购定金: "+e._s(t.amount))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("总金额: "+e._s(t.thenAmntBal))])]),e._v(" "),a("div",{staticClass:"pop-info"},[a("span",{staticClass:"info-item"},[e._v("已付定金: "+e._s(t.amnted))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("待付定金: "+e._s(t.deposit))])]),e._v(" "),a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-circle-outline selIcon",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1),e._v(" "),a("div",{staticClass:"count_mode vux-1px-t"},[a("span",{staticClass:"count_num"},[e._v(" "+e._s(e.tmpItems.length?"已选 "+e.tmpItems.length+" 个":"请选择")+" ")]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.cfmMater}},[e._v("确定")])])])],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},"X+HX":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"popup-user-list-container",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("r-search",{attrs:{filterList:e.filterList,isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"user-list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"mater-list-item",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"info-item vux-1px-b"},[a("img",{staticClass:"avatar",attrs:{src:t.photo,alt:"头像"},on:{error:function(a){e.getDefaultImg(t)}}}),e._v(" "),a("div",{staticClass:"user-info"},[a("div",{staticClass:"name"},[e._v(e._s(t.nickname))]),e._v(" "),a("div",{staticClass:"tel"},[e._v(e._s(t.mobile))])])]),e._v(" "),a("div",{staticClass:"info-item info-code"},[a("div",{staticClass:"code"},[e._v("工号: "+e._s(t.userCode))]),e._v(" "),a("div",{staticClass:"status",class:[t.statusClass]},[e._v(e._s(t.statusText||""))])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1)],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},X0tG:function(e,t,a){"use strict";function n(e){a("Pf6q")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("W23b");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("8dBe"),s=a.n(o),l=a("wLMo"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-3360e3ab",null);t.default=c.exports},X128:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"RDate",props:{title:{type:String,default:""},value:{type:String,default:""},required:{type:Boolean,default:!1},placeholder:{type:String,default:""},startDate:{type:String,default:""},endDate:{type:String,default:""}},data:function(){return{time:""}},watch:{value:{handler:function(e){this.time=e},immediate:!0}},methods:{clickDateSelect:function(){var e=this;this.$vux.datetime.show({confirmText:"确定",cancelText:"取消",value:this.time,startDate:this.startDate,endDate:this.endDate,onConfirm:function(t){e.time=t,e.$emit("input",t)}})}}}},X1uf:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper cpxq-detail-container"},[a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.userData,"order-info":e.userData}}),e._v(" "),a("div",{staticClass:"product"},[e._m(0),e._v(" "),a("form-cell",{attrs:{cellTitle:"申请部门",cellContent:e.userData.applicationDepartment||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"申请岗位",cellContent:e.userData.applicationPost||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"招聘人数",cellContent:e.userData.recruitmentPeople||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"任职要求",cellContent:e.userData.jobRequirements||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"岗位描述",cellContent:e.userData.postDescription||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"招聘原因",cellContent:e.userData.recruitmentReson||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"备注",cellContent:e.userData.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}})],1)])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title"},[a("div",[a("span",{staticClass:"iconfont icon-mingxi1"}),e._v(" "),a("span",[e._v("招聘信息")])])])}],i={render:n,staticRenderFns:r};t.a=i},X9Vn:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("Zp+1"),i=n(r),o=a("+26s"),s=n(o),l=a("Qg39");t.default={data:function(){return{uniqueId:9e3,showContent:!1,handleLoadding:!1,filterArr:[{operator:"like",value:"",property:"dealerCode"}]}},components:{TabItem:i.default},mixins:[s.default],filters:{toFixed:l.toFixed}}},XAqG:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.updateUser=t.addUser=t.validateCode=t.getCompanyList=t.getUserDetail=t.getAllUsers=void 0;var r=a("3cXf"),i=n(r),o=a("4YfN"),s=n(o),l=a("GOq4"),d=n(l);t.getAllUsers=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/ds/getAllUsers",data:(0,s.default)({_dc:Date.now(),sort:(0,i.default)([{property:"crtTime",direction:"DESC"}]),page:1,start:0,limit:50},e)})},t.getUserDetail=function(e){return d.default.ajax({url:"/H_roleplay-si/ds/getUserInfoById",data:{userId:e}})},t.getCompanyList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/sysGroup/getCompanyList",data:e})},t.validateCode=function(e){return d.default.ajax({url:"/H_roleplay-si/trans/validate",data:{tableName:"sys_user",filter:(0,i.default)([{filedName:"userCode",symbol:"=",value:e}])}})},t.addUser=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.post({url:"/H_roleplay-si/userInfo/addUser",data:e})},t.updateUser=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.post({url:"/H_roleplay-si/userInfo/updateUser",data:e})};t.default={}},XCFZ:function(e,t,a){"use strict";function n(e){a("NO05")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("nT2q");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("d3zw"),s=a.n(o),l=a("x4q7"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-0f292e72",null);t.default=c.exports},XEAB:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("3cXf"),s=n(o),l=a("4YfN"),d=n(l),u=a("HzJ8"),c=n(u),f=a("z5TY"),h=n(f),m=a("7g+Q"),v=(n(m),a("SAzG")),p=n(v),C=a("PzEQ"),y=n(C),_=a("u28h"),g=n(_),b=a("Pkp+"),w=n(b),I=a("+WR7"),D=n(I),x=a("lsbD"),P=n(x),S=a("omAI"),k=n(S),L=a("HyXB"),N=a("0AQX"),M=a("bKg5"),T=n(M);t.default={name:"ApplyCPXQForm",data:function(){return{listId:"f27a8921-6bb4-4256-a2a2-525dd34455f7",formViewUniqueId:"9a38a5ea-44f7-4dae-8c3c-d998987cfbcd",formData:{biId:"",biComment:""},biReferenceId:"",uploadStyle:{},showAuthorized:!1,currentAuthorized:{}}},mixins:[T.default],components:{Group:h.default,XInput:p.default,XTextarea:y.default,Datetime:g.default,RPicker:w.default,PopBaseinfo:D.default,OpButton:P.default,PopHandlerList:k.default},computed:{bugType:function(){return this.formData.bugType}},watch:{bugType:{handler:function(e){var t=this;if(e){var a="",n=!0,r=!1,i=void 0;try{for(var o,s=(0,c.default)(this.otherConfig);!(n=(o=s.next()).done);n=!0){var l=o.value;!function(n){if("bugType"===n.fieldCode){var r=!0,i=!1,o=void 0;try{for(var s,l=(0,c.default)(n.remoteData);!(r=(s=l.next()).done);r=!0){var d=s.value;if(d.name===e){a=d.type;break}}}catch(e){i=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw o}}}if("bugSubclass"===n.fieldCode){var u={url:n.dataSource.data.url,data:{value:a}};(0,L.requestData)(u).then(function(e){var a=e.tableContent,r=void 0===a?[]:a;null!=t.formData.bugSubclass?t.formData.bugSubclass=r[0].name:t.$set(t.formData,"bugSubclass",r[0].name),r.forEach(function(e){e.originValue=e.value,e.name=e[n.displayField],e.value=e[n.displayField]}),n.remoteData=r})}}(l)}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}}}}},methods:{getAuthorized:function(){this.showAuthorized=!0},selHandler:function(e){this.currentAuthorized=(0,d.default)({},e),this.formData.authorized=e.nickname},getDate:function(e,t){var a=this;this.$vux.datetime.show({confirmText:"确认",cancelText:"取消",onConfirm:function(n){if(null==e[t.fieldCode])return void a.$set(e,t.fieldCode,n);e[t.fieldCode]=n}})},save:function(){var e=this;for(var t in this.formData)"string"==typeof this.formData[t]&&this.formData[t].indexOf(" ")>=0&&(this.formData[t]=this.formData[t].replace(/\s/g,""));var a="";if(this.submitMatterField.every(function(t){return!!(t.hidden||t.allowBlank||e.formData[t.fieldCode])||(a=t.fieldLabel+"不能为空",!1)}),a)return void this.$vux.alert.show({content:a});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=e.formData,a=e.processCode.length?L.saveAndStartWf:L.submitAndCalc,n={biComment:"",listId:e.listId,formData:(0,s.default)((0,d.default)({handlerEntity:e.entity.dealerName},t))};e.biReferenceId&&(n.biReferenceId=e.biReferenceId),e.transCode&&(a=L.updateData),e.saveData(a,n)}})},getFormData:function(){var e=this;return(0,N.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.biReferenceId,s=void 0===o?"":o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=t.attachment,e.biReferenceId=s,e.handlerDefault={handle:i.handler,handlerName:i.handlerName,handlerRole:i.handlerRole,handlerRoleName:i.handlerRoleName,handlerUnit:i.handlerUnit,handlerUnitName:i.handlerUnitName},e.formData=(0,d.default)({},e.formData,i),e.$loading.hide()})},hasDraftData:function(){var e=this.formData;if(e.bugTitle||e.bugDescribe)return(0,i.default)({},"CPBUG_DATA",{formData:this.formData})}},created:function(){var e=sessionStorage.getItem("CPBUG_DATA");e&&(this.formData=JSON.parse(e).formData,sessionStorage.removeItem("CPBUG_DATA"))}}},XEvY:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"matter-item-container"},[a("div",{staticClass:"matter-main"},[a("img",{staticClass:"matter_img",attrs:{src:e.item.inventoryPic,alt:"mater_img"},on:{error:function(t){e.getMatterDefault(e.item)}}}),e._v(" "),a("div",{staticClass:"matter_info"},[a("div",{staticClass:"matter_name"},[e._v("\n        "+e._s(e.item.inventoryName_transObjCode||e.item.facilityName_facilityObjCode||"该物料未获取到名称，请检查物料信息。")+"\n      ")]),e._v(" "),a("div",{staticClass:"matter_info_item flex-start"},[a("div",{staticClass:"matter_detail"},[a("span",{staticClass:"matter_item_title"},[e._v("属性：")]),e._v(" "),a("span",{staticClass:"matter_item_value"},[e._v(e._s(e.item.tdProcessing))])]),e._v(" "),a("div",{staticClass:"matter_detail"},[a("span",{staticClass:"matter_item_title"},[e._v("规格：")]),e._v(" "),a("span",{staticClass:"matter_item_value"},[e._v(e._s(e.item.specification_transObjCode||e.item.specification_outPutMatCode||e.item.facilitySpecification_facilityObjCode||"无"))])])]),e._v(" "),a("div",{staticClass:"matter_info_item"},[a("div",{staticClass:"matter_detail"},[a("span",{staticClass:"matter_item_title"},[e._v("编码：")]),e._v(" "),a("span",{staticClass:"matter_item_value"},[e._v(e._s(e.item.transObjCode||e.item.facilityObjCode||"无"))])])]),e._v(" "),a("div",{staticClass:"matter_info_item",on:{click:e.clickMore}},[e._m(0),e._v(" "),a("i",{staticClass:"icon-more"})]),e._v(" "),e.hasData("price")||e.hasData("assistQty")?a("div",{staticClass:"matter_info_item matter_price_top"},[e.hasData("price")?a("span",{staticClass:"matter_no_tax"},[e._v("￥"+e._s(e._f("numberComma")(e._f("toFixed")(e.item.price))))]):e._e(),e._v(" "),e.item.assistQty?a("span",{staticClass:"matter_qty"},[e._v("x"+e._s(e._f("toFixed")(e.item.assistQty)))]):e._e()]):e._e(),e._v(" "),e.hasData("taxAmount")||e.item.tdAmount?a("div",{staticClass:"matter_info_item",class:{spillover:(""+e.item.tdAmount).length>6}},[e.hasData("taxAmount")?a("span",{staticClass:"matter_tax"},[e._v("税金￥"+e._s(e._f("numberComma")(e._f("toFixed")(e.item.taxAmount))))]):e._e(),e._v(" "),e.item.tdAmount?a("span",{staticClass:"matter_total_wrapper"},[e._v("\n          合计："),a("span",{staticClass:"matter_total"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(e.item.tdAmount))))])]):e._e()]):e._e()])])])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"matter_detail"},[a("span",{staticClass:"matter_item_title"},[e._v("其他")])])}],i={render:n,staticRenderFns:r};t.a=i},"XG/J":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"inPage"},[a(e.currentComponent,{ref:"list",tag:"component",attrs:{"refresh-request":e.isrefresh}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},XNwX:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("3cXf"),s=n(o),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),h=n(f),m=a("SAzG"),v=n(m),p=a("u28h"),C=n(p),y=a("PzEQ"),_=n(y),g=a("kNGm"),b=(n(g),a("jnZd")),w=n(b),I=(a("0AQX"),a("Z6x5")),D=a("HyXB"),x=a("bKg5"),P=n(x),S=a("vl8n"),k=n(S),L=a("+WR7"),N=n(L);t.default={data:function(){return{formData:{biId:"",biComment:"",biProcessStatus:""},biReferenceId:"",MobileWarn:!1,idCardWarn:!1,groupList:[],roleList:[]}},components:{Cell:c.default,Group:h.default,XInput:v.default,Datetime:C.default,XTextarea:_.default,PopupPicker:w.default,RPicker:k.default,PopBaseinfo:N.default},mixins:[P.default],methods:{getDepartMentWage:function(){var e=this;(0,I.getDepartMentWage)().then(function(t){var a=[];t.tableContent.forEach(function(e){a.push(e.GROUP_NAME)}),e.groupList.push(a)})},getAllRoleInfo:function(){var e=this;(0,I.getAllRoleInfo)().then(function(t){var a=[];t.tableContent.forEach(function(e){a.push(e.roleName)}),e.roleList.push(a)})},submitOrder:function(){var e=this,t="",a=[{key:"applicationDepartment",message:"请选择申请部门"},{key:"applicationPost",message:"请选择申请岗位"},{key:"recruitmentPeople",message:"请填写招聘人数"}];if(t||a.every(function(a){return!!e.formData[a.key]||(t=a.message,!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=D.saveAndStartWf,a=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,applicationDepartment:e.formData.applicationDepartment[0],applicationPost:e.formData.applicationPost[0]}),n={listId:e.listId,biComment:"",formData:(0,s.default)(a)};e.isResubmit&&(t=D.saveAndCommitTask,n.biReferenceId=e.biReferenceId,n.wfPara=(0,s.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=D.submitAndCalc,delete n.wfPara,delete n.biReferenceId),e.biReferenceId&&(n.biReferenceId=e.biReferenceId),e.saveData(t,n)}})},hasDraftData:function(){var e=this.formData;if(e.applicationDepartment||e.applicationPost)return(0,i.default)({},"ZHJH_DATA",{formData:e})},checkAmt:function(e){this.formData.recruitmentPeople=Math.round(e)}},created:function(){this.getDepartMentWage(),this.getAllRoleInfo();var e=sessionStorage.getItem("ZHJH_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,sessionStorage.removeItem("ZHJH_DATA")}}}},XQGE:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("IHPB"),i=n(r),o=a("4XVd"),s=a("1KNX"),l=n(s),d=a("xCct"),u=n(d),c=a("z7Zk"),f=n(c),h=a("Z5v5");t.default={name:"comment",components:{RScroll:l.default,CommentItem:u.default,REmotion:f.default},data:function(){return{page:1,total:0,limit:10,parentId:-1,placeholder:"添加评论...",scrollOptions:{pullUpLoad:!0},listId:"",comment:"",transCode:"",commentList:[],hasNext:!0,focusInput:!1,showEmotion:!1}},methods:{onPullingUp:function(){this.page++,this.getCommentList()},setReply:function(e,t){return'@<span style="color: #2994FD;">'+e+"</span>："+t},getCommentList:function(){var e=this,t={transCode:this.transCode,page:this.page,limit:this.limit};return this.listId&&(t.transCode=this.listId),(0,o.getCommentList)(t).then(function(t){var a=t.allCommentNum,n=void 0===a?0:a,r=t.comment,o=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+o.length,o.forEach(function(t){t.allReply&&t.allReply.forEach(function(a,n,r){var i=t.allReply.find(function(e){return e.ID===a.PARENT_ID});a.CONTENT=i?e.setReply(i.creatorName,a.CONTENT):e.setReply(t.creatorName,a.CONTENT)})}),e.commentList=1===e.page?o:[].concat((0,i.default)(e.commentList),(0,i.default)(o)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},onReply:function(e){this.parentId=e.ID,this.placeholder="回复"+e.creatorName+":",this.$refs.commentValue.focus(),console.log("bScroll:",this.$$refs.bScroll)},onPraiseSuccess:function(e){e.isPraise=!1,e.praiseNum++},tagFilter:function(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")},saveComment:function(){var e=this;if(!this.comment)return void this.$vux.toast.show({text:"评论不能为空",position:"top",width:"50%",type:"text",time:700});var t={content:this.tagFilter(this.comment),parentId:this.parentId,relationKey:this.transCode,type:"instance"};return this.listId&&(t={content:this.tagFilter(this.comment),parentId:this.parentId,relationKey:this.listId,type:"list"}),(0,o.saveComment)(t).then(function(t){var a=t.success,n=void 0===a||a;t.message;n&&(e.comment="",e.parentId=-1,e.placeholder="添加评论...",e.page=1,e.$refs.bScroll.scrollTo(0,0),e.getCommentList().then(function(){e.$loading.hide()}))})},commentFocusIn:function(e){this.$nextTick(function(){e.target.scrollIntoView()}),this.focusInput=!0,this.showEmotion=!1},commentFocusOut:function(){this.focusInput=!1},emotionSelected:function(e){this.comment+=e},emotionClickOutside:function(e){this.$refs.emotion.$el.contains(e.target)||this.$refs.emotionIcon.contains(e.target)||(this.showEmotion=!1)}},created:function(){var e=this,t=this.$route.query,a=t.transCode,n=t.listId;this.transCode=a,this.listId=n,this.$loading.show(),(0,h.register)(),this.getCommentList().then(function(){e.$loading.hide()}),this.$nextTick(function(){document.addEventListener("click",e.emotionClickOutside)})},beforeDestroy:function(){document.removeEventListener("click",this.emotionClickOutside)}}},XS99:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("ZLEe"),i=n(r),o=a("PiEG"),s=n(o),l=a("UOZN"),d=n(l);t.default={name:"popup",props:{value:Boolean,height:{type:String,default:"auto"},width:{type:String,default:"auto"},showMask:{type:Boolean,default:!0},isTransparent:Boolean,hideOnBlur:{type:Boolean,default:!0},position:{type:String,default:"bottom"},maxHeight:String,popupStyle:Object,hideOnDeactivated:{type:Boolean,default:!0},shouldRerenderOnShow:{type:Boolean,default:!1},shouldScrollTopOnShow:{type:Boolean,default:!1}},created:function(){this.$vux&&this.$vux.config&&"VIEW_BOX"===this.$vux.config.$layout&&(this.layout="VIEW_BOX")},mounted:function(){var e=this;this.$overflowScrollingList=document.querySelectorAll(".vux-fix-safari-overflow-scrolling"),this.$nextTick(function(){var t=e;e.popup=new s.default({showMask:t.showMask,container:t.$el,hideOnBlur:t.hideOnBlur,onOpen:function(){t.fixSafariOverflowScrolling("auto"),t.show=!0},onClose:function(){t.show=!1,window.__$vuxPopups&&(0,i.default)(window.__$vuxPopups).length>1||document.querySelector(".vux-popup-dialog.vux-popup-mask-disabled")||setTimeout(function(){t.fixSafariOverflowScrolling("touch")},300)}}),e.value&&e.popup.show(),e.initialShow=!1})},deactivated:function(){this.hideOnDeactivated&&(this.show=!1),this.removeModalClassName()},methods:{fixSafariOverflowScrolling:function(e){if(this.$overflowScrollingList.length)for(var t=0;t<this.$overflowScrollingList.length;t++)this.$overflowScrollingList[t].style.webkitOverflowScrolling=e},removeModalClassName:function(){"VIEW_BOX"===this.layout&&d.default.removeClass(document.body,"vux-modal-open")},doShow:function(){this.popup&&this.popup.show(),this.$emit("on-show"),this.fixSafariOverflowScrolling("auto"),"VIEW_BOX"===this.layout&&d.default.addClass(document.body,"vux-modal-open"),this.hasFirstShow||(this.$emit("on-first-show"),this.hasFirstShow=!0)},scrollTop:function(){var e=this;this.$nextTick(function(){e.$el.scrollTop=0;var t=e.$el.querySelectorAll(".vux-scrollable");if(t.length)for(var a=0;a<t.length;a++)t[a].scrollTop=0})}},data:function(){return{layout:"",initialShow:!0,hasFirstShow:!1,shouldRenderBody:!0,show:this.value}},computed:{styles:function(){var e={};if(this.position&&"bottom"!==this.position&&"top"!==this.position?e.width=this.width:e.height=this.height,this.maxHeight&&(e["max-height"]=this.maxHeight),this.isTransparent&&(e.background="transparent"),this.popupStyle)for(var t in this.popupStyle)e[t]=this.popupStyle[t];return e}},watch:{value:function(e){this.show=e},show:function(e){var t=this;this.$emit("input",e),e?this.shouldRerenderOnShow?(this.shouldRenderBody=!1,this.$nextTick(function(){t.scrollTop(),t.shouldRenderBody=!0,t.doShow()})):(this.shouldScrollTopOnShow&&this.scrollTop(),this.doShow()):(this.$emit("on-hide"),this.show=!1,this.popup.hide(!1),setTimeout(function(){document.querySelector(".vux-popup-dialog.vux-popup-show")||t.fixSafariOverflowScrolling("touch"),t.removeModalClassName()},200))}},beforeDestroy:function(){this.popup&&this.popup.destroy(),this.fixSafariOverflowScrolling("touch"),this.removeModalClassName()}}},XWts:function(e,t){},XX66:function(e,t){},XXVb:function(e,t){},Xc3I:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("KH7x"),i=n(r),o=a("3QQJ"),s=n(o);t.default={name:"TodoItem",props:{item:{type:Object,default:function(){return{}}},name:{type:String,default:""},noBorder:{type:Boolean,default:!1}},components:{Badge:s.default},data:function(){return{}},methods:{getDefaultImg:function(e){var t=a("CYNT");return e&&(e.pic=t),t}},filters:{handleCrt:function(e){if(e){var t=(0,i.default)(e,1),a=t[0],n=void 0===a?{}:a,r=n.duration,o=parseInt(r/3600),s=r-3600*o,l=Math.floor(s/60),d=s-60*l,u=(Math.round(d),void 0);return u=o>0?o+"小时前":0===l?"1分钟前":l+"分钟前",o<24?u:""+n.crtTime.split(" ")[0]}}}}},Xft4:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2324,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}]}},mixins:[r.default],methods:{},created:function(){}}},XgMd:function(e,t,a){"use strict";function n(e){a("p3VH")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("Dqn+");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("cBID"),s=a.n(o),l=a("1qJ4"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-b6e49a7a",null);t.default=c.exports},Xheq:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{action:{type:Object,default:{}},goEdit:{type:Function,required:!0}}}},XlK6:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2313,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[r.default],methods:{},created:function(){}}},XljL:function(e,t){},XoIK:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2324,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}]}},mixins:[r.default],methods:{},created:function(){}}},"Xoe/":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages xsbj-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),e._l(e.CostList,function(t,n){return a("div",{key:n,staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"费用明细"+(n+1)}},[a("cell",{attrs:{title:"费用名称","is-link":""},nativeOn:{click:function(a){e.getCost(n,t)}},model:{value:t.exptName,callback:function(a){e.$set(t,"exptName",a)},expression:"item.exptName"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("费用名称\n              ")])])],2),e._v(" "),a("cell",{attrs:{title:"费用科目",value:t.expSubject}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("费用科目")])])],2),e._v(" "),a("popup-picker",{attrs:{title:"发票类型",data:e.invoiceTypeList},model:{value:t.tdInvoiceType,callback:function(a){e.$set(t,"tdInvoiceType",a)},expression:"item.tdInvoiceType"}}),e._v(" "),a("x-input",{attrs:{title:"申请金额","text-align":"right",placeholder:"请填写",type:"number"},on:{"on-focus":function(t){e.getFocus(t)},"on-blur":function(a){e.checkAmt(t)}},model:{value:t.tdAmount,callback:function(a){e.$set(t,"tdAmount",e._n(a))},expression:"item.tdAmount"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("申请金额\n              ")])])],2),e._v(" "),a("cell",{attrs:{title:"不含税金额",value:t.noTaxAmount}}),e._v(" "),a("x-input",{attrs:{title:"税率","text-align":"right",placeholder:"请填写",type:"number"},on:{"on-focus":function(t){e.getFocus(t)},"on-blur":function(a){e.checkAmt(t)}},model:{value:t.taxRate,callback:function(a){e.$set(t,"taxRate",e._n(a))},expression:"item.taxRate"}}),e._v(" "),a("cell",{attrs:{title:"税金",value:t.taxAmount}}),e._v(" "),a("x-input",{attrs:{type:"text",title:"报销事由","text-align":"right",placeholder:"请填写"},model:{value:t.expCause,callback:function(a){e.$set(t,"expCause",a)},expression:"item.expCause"}})],1)],1)}),e._v(" "),a("div",{staticClass:"add_more"},[e._v("\n        您还需要添加新的报销?请点击\n        "),a("span",{staticClass:"add",on:{click:e.addCost}},[e._v("新增")]),e._v(" "),a("em",{directives:[{name:"show",rawName:"v-show",value:e.CostList.length>1,expression:"CostList.length>1"}]},[e._v("或")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.CostList.length>1,expression:"CostList.length>1"}],staticClass:"delete",on:{click:e.deleteCost}},[e._v("删除")])]),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"其他信息"}},[a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-cost-list",{ref:"matter",attrs:{show:e.showCostPop,defaultValue:e.selectedCost,"group-id":e.formData.handlerUnit},on:{"sel-matter":e.selMatter},model:{value:e.showCostPop,callback:function(t){e.showCostPop=t},expression:"showCostPop"}})],2)]),e._v(" "),a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num"},[a("span",{staticStyle:{fontSize:".14rem"}},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.totalAmount,3))+"\n    ")]),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"count_btn stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},XquE:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2487,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[r.default],methods:{},created:function(){}}},Xs70:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"baseinfo_wrapper"},[a("div",{staticClass:"baseinfo_content"},[a("div",{staticClass:"each_info vux-1px-b",on:{click:function(t){e.showPop=!0}}},[a("div",{staticClass:"title",class:{required:"nickname"===e.requiredField}},[e._v("经办人")]),e._v(" "),a("div",{staticClass:"mode"},[a("span",{staticClass:"mode_content"},[e._v(e._s(e.selItems.nickname))]),e._v(" "),a("span",{staticClass:"icon-right"})])]),e._v(" "),a("r-picker",{staticClass:"vux-1px-b",attrs:{title:"经办组织",data:e.groupList,value:e.group,required:"group"===e.requiredField},on:{"on-change":e.changeGroup},model:{value:e.group,callback:function(t){e.group=t},expression:"group"}}),e._v(" "),a("r-picker",{staticClass:"vux-1px-b",attrs:{title:"经办职位",data:e.roleList,value:e.role},on:{"on-change":e.changeRole},model:{value:e.role,callback:function(t){e.role=t},expression:"role"}}),e._v(" "),e.showStatus?a("r-picker",{attrs:{title:"流程状态",data:e.statusData,value:e.biProcessStatus},model:{value:e.biProcessStatus,callback:function(t){e.biProcessStatus=t},expression:"biProcessStatus"}}):e._e()],1),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("d-search",{on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"pop-list-container",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"pop-mater-list-item",class:{selected:e.showSelIcon(t)},on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"pop-list-main "},[a("div",{staticClass:"user-photo"},[a("img",{attrs:{src:t.photo,alt:"mater_img"},on:{error:function(a){e.getDefaultImg(t)}}})]),e._v(" "),a("div",{staticClass:"pop-list-info"},[a("div",{staticClass:"user_name"},[e._v(e._s(t.nickname))]),e._v(" "),t.userCode?a("div",{staticClass:"user_code"},[e._v(e._s(t.userCode))]):e._e()])])])}),0)],1)])],1)])},r=[],i={render:n,staticRenderFns:r};t.a=i},XsI4:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"other-part-container"},[e.count?a("price-total",{attrs:{amt:e.amt,"tax-amt":e.taxAmt,count:e.count}}):e._e(),e._v(" "),a("div",{staticClass:"comment-container"},[a("span",{staticClass:"comment_title"},[e._v("备注：")]),e._v(" "),a("span",{staticClass:"comment_value"},[e._v(e._s(e.otherInfo.biComment||"无"))])]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":""}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},Xzit:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.dealerInfo,configs:e.dealerConfig}}),e._v(" "),a("matter-list",{attrs:{"order-list":e.orderList,"order-title":e.orderTitle},on:{"on-show-more":e.onShowMore}}),e._v(" "),a("other-part",{attrs:{"other-info":e.orderInfo,amt:e.noTaxAmount,"tax-amt":e.taxAmount,count:e.count,attachment:e.attachment}}),e._v(" "),a("pop-matter-detail",{attrs:{show:e.showMatterDetail,item:e.matterDetail},model:{value:e.showMatterDetail,callback:function(t){e.showMatterDetail=t},expression:"showMatterDetail"}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[],i={render:n,staticRenderFns:r};t.a=i},Xzj3:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("4YfN"),s=n(o),l=a("KH7x"),d=n(l),u=a("3cXf"),c=n(u),f=a("0AQX"),h=a("+VRO"),m=n(h),v=a("BUFe"),p=n(v),C=a("AupE"),y=n(C),_=a("bFc7"),g=n(_),b=a("6WeX"),w=n(b),I=a("3NX5"),D=n(I),x=a("zWMP");a("Qg39");t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"",contactInfo:{},orderList:{}}},computed:{hasAdvance:function(){var e=this.contactInfo.payment;return e&&e.includes("预收")}},components:{workFlow:y.default,RAction:p.default,contactPart:g.default,PriceTotal:w.default,MatterList:D.default},mixins:[m.default],methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,f.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(e.submitInfo=JSON.parse((0,c.default)(t)),!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a={},n=t.attachment,r=void 0===n?[]:n,o=t.formData,l=void 0===o?{}:o,u=l.inPut,f=void 0===u?{}:u,h=l.order,m=void 0===h?{}:h,v=(0,d.default)(f.dataSet,1),p=v[0],C=void 0===p?{}:p,y=l.order.dataSet,_=!0,g=!1,b=void 0;try{for(var w,I=(0,i.default)(y);!(_=(w=I.next()).done);_=!0){var D=w.value;e.count=(0,x.accAdd)(e.count,D.tdAmount),D.inventoryPic=D.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+D.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),a[D.transMatchedCode]||(a[D.transMatchedCode]=[]),a[D.transMatchedCode].push(D)}}catch(e){g=!0,b=e}finally{try{!_&&I.return&&I.return()}finally{if(g)throw b}}e.orderList=a,e.attachment=r,e.orderInfo=(0,s.default)({},C,l,m),e.contactInfo={creatorName:C.dealerDebitContactPersonName,dealerName:C.dealerName_dealerDebit,dealerMobilePhone:l.dealerDebitContactInformation,dealerContactPersonName:l.dealerDebitContactPersonName,dealerCode:C.dealerDebit,dealerLabelName:C.drDealerLabel,province:C.province_dealerDebit,city:C.city_dealerDebit,county:C.county_dealerDebit,address:C.address_dealerDebit},e.workFlowInfoHandler()})},judgeDealerConfig:function(e){var t=this.orderInfo.drDealerPaymentTerm.includes("预收"),a=["advancePaymentDueDate","tdAmountCopy1"];e.forEach(function(e){a.includes(e.fieldCode)&&(e.hiddenInRun=!t)})}}}},"Y+9d":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("a3Yh"),s=n(o),l=a("3cXf"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),h=n(f),m=a("SAzG"),v=n(m),p=a("7g+Q"),C=n(p),y=a("PzEQ"),_=n(y),g=a("jnZd"),b=n(g),w=a("0AQX"),I=a("HyXB"),D=a("jLp1"),x=a("bKg5"),P=n(x),S=a("N2r1"),k=n(S),L=a("F2L3"),N=n(L),M=a("vl8n"),T=n(M),A=a("+WR7"),O=n(A),R=a("zWMP");a("Qg39");t.default={mixins:[P.default],components:{Cell:c.default,Group:h.default,Popup:C.default,XInput:v.default,XTextarea:_.default,PopCostList:k.default,PopupPicker:b.default,PopProjectList:N.default,RPicker:T.default,PopBaseinfo:O.default},data:function(){return{listId:"b61ef324-f261-48d6-9c79-d1b475c24943",biComment:"",biReferenceId:"",showCostPop:!1,showProjectPop:!1,CostList:[{costName:"",costCode:"",expSubject:[],costType:"",price:"",reson:"",comment:""}],expSubjectList:[],selectedCost:[],costIndex:0,transCode:"",formData:{biComment:""},projectName:"",showPop:!1,tmp:"",taxRate:0,defaultProject:{}}},computed:{totalAmount:function(){var e=0;return this.CostList.forEach(function(t){t.price&&(e=(0,R.accAdd)(e,t.price))}),e}},methods:{getCost:function(e,t){this.showCostPop=!0,this.costIndex=e,this.selectedCost=[t]},addCost:function(){this.expSubjectList=[],this.CostList.push({costName:"",costCode:"",expSubject:[],price:"",reson:"",comment:""})},deleteCost:function(){this.CostList.pop()},selMatter:function(e){var t=e;this.CostList[this.costIndex].costName=t.costName,this.CostList[this.costIndex].costCode=t.costCode,this.CostList[this.costIndex].costSubject=t.costSubject,this.CostList[this.costIndex].expSubject=[],this.CostList[this.costIndex].costType=t.costType},selProject:function(e){this.projectName=e.PROJECT_NAME},submitOrder:function(){var e=this,t="",a=[];if(this.CostList.every(function(e){return e.costName?e.price?(a.push({tdId:e.tdId||"",expCode:e.costCode,expSubject:e.costSubject,tdAmount:e.price,expCause:e.reson}),!0):(t="请输入报销金额",!1):(t="请选择费用名称",!1)}),this.projectName||(t="请选择项目"),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=I.saveAndStartWf,n=(0,s.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,d.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:"",formData:(0,d.default)((0,i.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{crDealerLabel:"员工",project:e.projectName,dealerCodeCredit:e.formData.userCode,departmentName:e.formData.handlerUnitName,dataSet:a}})),wfPara:(0,d.default)(n)};e.isResubmit&&(r.biReferenceId=e.biReferenceId,t=I.saveAndCommitTask),e.processCode.length||(t=I.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,w.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.attachment=t.attachment,e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.CostList=[];var a=t.formData;e.projectName=a.order.project,e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,i.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),a.order.dataSet.forEach(function(t){var a={costName:t.costName_expCode,costCode:t.expCode,costType:t.costType_expCode,expSubject:t.expSubject,price:t.tdAmount,reson:t.expCause,comment:t.comment,tdId:t.tdId};e.CostList.push(a)}),e.$loading.hide()})},hasDraftData:function(){return!!this.projectName&&(0,s.default)({},"FYBX_DATA",{cost:this.CostList,formData:this.formData,projectName:this.projectName})},getRelationData:function(){var e=this;return(0,D.findProjectApproval)(this.relationKey).then(function(t){var a=t.formData,n=void 0===a?{}:a;t.attachment;e.projectName=n.approval.projectName,e.defaultProject={PROJECT_NAME:e.projectName}})}},created:function(){var e=sessionStorage.getItem("FYBX_DATA");if(e){var t=JSON.parse(e);this.CostList=t.cost,this.formData=t.formData,this.projectName=t.projectName,this.defaultProject={PROJECT_NAME:this.projectName},sessionStorage.removeItem("FYBX_DATA")}}}},"Y+r7":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages sj-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[a("div",{staticClass:"mater_list"},[a("div",{staticClass:"each_mater"},[a("div",{staticClass:"userInp_mode"},[a("div",{staticClass:"title"},[e._v("员工信息")]),e._v(" "),a("group",{staticClass:"SJ_group",on:{"group-title-margin-top":function(e){}}},[a("x-input",{attrs:{title:"员工","text-align":"right",placeholder:"请填写"},model:{value:e.formData.profileName,callback:function(t){e.$set(e.formData,"profileName",t)},expression:"formData.profileName"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("员工\n                    ")])])],2),e._v(" "),a("x-input",{attrs:{title:"身份证号",type:"number","text-align":"right",placeholder:"请填写"},on:{"on-blur":e.checkIdCard},model:{value:e.formData.idCard,callback:function(t){e.$set(e.formData,"idCard",t)},expression:"formData.idCard"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("身份证号\n                    ")])])],2),e._v(" "),a("x-input",{attrs:{title:"紧急联系人","text-align":"right",placeholder:"请填写"},model:{value:e.formData.urgentContact,callback:function(t){e.$set(e.formData,"urgentContact",e._n(t))},expression:"formData.urgentContact"}}),e._v(" "),a("x-input",{attrs:{title:"联系方式",type:"number","text-align":"right",placeholder:"请填写"},on:{"on-blur":e.checkMobile},model:{value:e.formData.profileContact,callback:function(t){e.$set(e.formData,"profileContact",e._n(t))},expression:"formData.profileContact"}}),e._v(" "),a("x-input",{attrs:{title:"地址","text-align":"right",placeholder:"请填写"},model:{value:e.formData.profileAddress,callback:function(t){e.$set(e.formData,"profileAddress",e._n(t))},expression:"formData.profileAddress"}}),e._v(" "),a("x-input",{attrs:{title:"学历","text-align":"right",placeholder:"请填写"},model:{value:e.formData.education,callback:function(t){e.$set(e.formData,"education",e._n(t))},expression:"formData.education"}}),e._v(" "),a("datetime",{attrs:{placeholder:"请选择日期",title:"合同期限"},model:{value:e.formData.contractPeriod,callback:function(t){e.$set(e.formData,"contractPeriod",t)},expression:"formData.contractPeriod"}}),e._v(" "),a("datetime",{attrs:{placeholder:"请选择日期",title:"入职日期"},model:{value:e.formData.entryDate,callback:function(t){e.$set(e.formData,"entryDate",t)},expression:"formData.entryDate"}}),e._v(" "),a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1)])])]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},Y0H5:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noPrice:!0,noCount:!0},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},"Y1R/":function(e,t){},Y3GT:function(e,t){},Y56q:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions}},[e.bomInfo.boms&&e.bomInfo.boms.length?a("div",{staticClass:"bom-container"},[a("div",{staticClass:"title vux-1px-b"},[e._v("原料")]),e._v(" "),e._l(e.bomInfo.boms,function(t,n){return a("div",{key:n,staticClass:"each-bom-part vux-1px-b"},[a("div",{staticClass:"main-info-part"},[t.warehouseName||t.warehouseCode?a("div",{staticClass:"main-top"},[t.warehouseName?a("span",{staticClass:"content-title"},[e._v(e._s(t.warehouseName))]):e._e(),e._v(" "),t.warehouseName?a("span",{staticClass:"side-bar vux-1px-r"}):e._e(),e._v(" "),t.warehouseCode?a("span",{staticClass:"content-info"},[e._v(e._s(t.warehouseCode))]):e._e()]):e._e(),e._v(" "),a("div",{staticClass:"main-content"},[a("div",{staticClass:"content-unit"},[a("span",{staticClass:"iconfont icon-bianma"}),e._v(" "),a("span",[e._v("物料编码: "+e._s(t.inventoryCode))])]),e._v(" "),a("div",{staticClass:"content-name"},[e._v("\n                  "+e._s(t.inventoryName)+"\n                ")])]),e._v(" "),e._t("bom-left",null,{bom:t})],2),e._v(" "),a("div",{staticClass:"edit_info"},[e._t("number",[a("div",{staticClass:"number-part"},[a("span",{staticClass:"main-number"},[e._v("本次扣料: "+e._s(t.tdQty)+e._s(t.measureUnit))]),e._v(" "),a("span",{staticClass:"number-unit"},[e._v("可用余额: "+e._s(t.qtyStock))])])],{bom:t}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isEdit&&!e.noSpecificLoss,expression:"isEdit && !noSpecificLoss"}],staticClass:"specific_loss",on:{click:function(a){e.modifyBom(t)}}},[e._v(e._s(e.specificLossText)+": "+e._s(t.specificLoss)),a("span",{staticClass:"iconfont icon-bianji1"})])],2)])})],2):e._e()])],1),e._v(" "),e.isEdit?a("div",{staticClass:"confirm_btn",on:{click:e.confirm}},[a("div",{staticClass:"confirm"},[e._v(e._s(e.btnNext))])]):a("div",{staticClass:"confirm_btn",on:{click:e.closePop}},[a("div",{staticClass:"confirm"},[e._v("关闭")])])])],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},Y5WQ:function(e,t){},Y86X:function(e,t){},"YDC/":function(e,t){},YDJs:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages bdkcdb-list-conatiner",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noPrice:"",noCount:""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},YG92:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2443,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[r.default],methods:{},created:function(){}}},YJS0:function(e,t){},YOAB:function(e,t,a){"use strict";function n(e){a("REcT")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("9FuR");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("87MO"),s=a.n(o),l=a("xd8N"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-6c31a354",null);t.default=c.exports},YP5q:function(e,t,a){"use strict";function n(e){a("SMm3")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("9M4O");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("8NYW"),s=a.n(o),l=a("upxC"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,null,null);t.default=c.exports},YY2E:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"finance-list-item",class:{visited:e.item.visited}},[a("div",{staticClass:"order-top vux-1px-b"},[a("div",{staticClass:"order_code"},[a("span",{staticClass:"code vux-1px-l"},[e._v(e._s(e.item.transCode))]),e._v(" "),a("span",{staticClass:"status",class:e.item.statusClass},[e._v(e._s(e.item.biStatus))])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isHasCount,expression:"isHasCount"}],staticClass:"order_amount"},[a("p",{staticClass:"amount"},[e._v("总支付￥"+e._s(e._f("numberComma")(e._f("toFixed")(e.item.count),3)))]),e._v(" "),a("p",{staticClass:"num"},[e._v("共"+e._s(e.item.itemCount)+"笔")])])]),e._v(" "),a("ul",{staticClass:"order-cost"},e._l(e.item.detailItem,function(t,n){return a("li",{key:n,staticClass:"each_cost",class:{"vux-1px-b":n<e.item.detailItem.length-1}},[a("div",{staticClass:"cost_name"},[e._t("costName",[a("span",{staticClass:"name"},[e._v(e._s(t.costName_expCode||t.dealerName_dealerCodeCredit))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.expSubject,expression:"mItem.expSubject"}],staticClass:"type"},[e._v("科目："+e._s(t.expSubject))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.costType_expCod,expression:"mItem.costType_expCod"}],staticClass:"type"},[e._v("类型："+e._s(t.costType_expCode))])],{mItem:t})],2),e._v(" "),a("div",{staticClass:"cost_amount"},[e._t("cost_info",[a("div",{staticClass:"each_amount"},[a("span",{staticClass:"money"},[e._v("￥"+e._s(e._f("numberComma")(t.noTaxAmount)))]),e._v(" "),a("span",{staticClass:"title"},[e._v("抵扣后金额")])]),e._v(" "),a("div",{staticClass:"each_amount"},[a("span",{staticClass:"money"},[e._v("￥"+e._s(e._f("numberComma")(t.taxAmount)))]),e._v(" "),a("span",{staticClass:"title"},[e._v("可抵扣税金")])]),e._v(" "),a("div",{staticClass:"each_amount"},[a("span",{staticClass:"money"},[e._v("￥"+e._s(e._f("numberComma")(t.tdAmount)))]),e._v(" "),a("span",{staticClass:"title"},[e._v("申请金额")])])],{mItem:t})],2)])}),0),e._v(" "),a("div",{staticClass:"order-creator"},[a("div",{staticClass:"creator"},[a("span",{staticClass:"icon icon-handler"}),e._v(" "),a("span",[e._v("经办人："+e._s(e.item.handlerName))])]),e._v(" "),a("div",{staticClass:"creator modTime"},[a("span",{staticClass:"icon icon-mod-time"}),e._v(" "),a("span",[e._v("修改时间："+e._s(e._f("dateFormat")(e.item.modTime,"YYYY-MM-DD HH:mm")))])])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},YaA6:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("a3Yh"),s=n(o),l=a("3cXf"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),h=n(f),m=a("SAzG"),v=n(m),p=a("7g+Q"),C=n(p),y=a("PzEQ"),_=n(y),g=a("jnZd"),b=n(g),w=a("0AQX"),I=a("HyXB"),D=a("jLp1"),x=a("bKg5"),P=n(x),S=a("N2r1"),k=n(S),L=a("F2L3"),N=n(L),M=a("vl8n"),T=n(M),A=a("+WR7"),O=n(A),R=a("zWMP");a("Qg39");t.default={mixins:[P.default],components:{Cell:c.default,Group:h.default,Popup:C.default,XInput:v.default,XTextarea:_.default,PopCostList:k.default,PopupPicker:b.default,PopProjectList:N.default,RPicker:T.default,PopBaseinfo:O.default},data:function(){return{listId:"b61ef324-f261-48d6-9c79-d1b475c24943",biComment:"",biReferenceId:"",showCostPop:!1,showProjectPop:!1,CostList:[{costName:"",costCode:"",expSubject:[],costType:"",price:"",reson:"",comment:""}],expSubjectList:[],selectedCost:[],costIndex:0,transCode:"",formData:{biComment:""},projectName:"",showPop:!1,tmp:"",taxRate:0,defaultProject:{}}},computed:{totalAmount:function(){var e=0;return this.CostList.forEach(function(t){t.price&&(e=(0,R.accAdd)(e,t.price))}),e}},methods:{getCost:function(e,t){this.showCostPop=!0,this.costIndex=e,this.selectedCost=[t]},addCost:function(){this.expSubjectList=[],this.CostList.push({costName:"",costCode:"",expSubject:[],price:"",reson:"",comment:""})},deleteCost:function(){this.CostList.pop()},selMatter:function(e){var t=e;this.CostList[this.costIndex].costName=t.costName,this.CostList[this.costIndex].costCode=t.costCode,this.CostList[this.costIndex].costSubject=t.costSubject,this.CostList[this.costIndex].expSubject=[],this.CostList[this.costIndex].costType=t.costType},selProject:function(e){this.projectName=e.PROJECT_NAME},submitOrder:function(){var e=this,t="",a=[];if(this.CostList.every(function(e){return e.costName?e.price?(a.push({tdId:e.tdId||"",expCode:e.costCode,expSubject:e.costSubject,tdAmount:e.price,expCause:e.reson}),!0):(t="请输入报销金额",!1):(t="请选择费用名称",!1)}),this.projectName||(t="请选择项目"),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=I.saveAndStartWf,n=(0,s.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,d.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:"",formData:(0,d.default)((0,i.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{crDealerLabel:"员工",project:e.projectName,dealerCodeCredit:e.formData.userCode,departmentName:e.formData.handlerUnitName,dataSet:a}})),wfPara:(0,d.default)(n)};e.isResubmit&&(r.biReferenceId=e.biReferenceId,t=I.saveAndCommitTask),e.processCode.length||(t=I.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,w.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.attachment=t.attachment,e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.CostList=[];var a=t.formData;e.projectName=a.order.project,e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,i.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),a.order.dataSet.forEach(function(t){var a={costName:t.costName_expCode,costCode:t.expCode,costType:t.costType_expCode,expSubject:t.expSubject,price:t.tdAmount,reson:t.expCause,comment:t.comment,tdId:t.tdId};e.CostList.push(a)}),e.$loading.hide()})},hasDraftData:function(){return!!this.projectName&&(0,s.default)({},"FYBX_DATA",{cost:this.CostList,formData:this.formData,projectName:this.projectName})},getRelationData:function(){var e=this;return(0,D.findProjectApproval)(this.relationKey).then(function(t){var a=t.formData,n=void 0===a?{}:a;t.attachment;e.projectName=n.approval.projectName,e.defaultProject={PROJECT_NAME:e.projectName}})}},created:function(){var e=sessionStorage.getItem("FYBX_DATA");if(e){var t=JSON.parse(e);this.CostList=t.cost,this.formData=t.formData,this.projectName=t.projectName,this.defaultProject={PROJECT_NAME:this.projectName},sessionStorage.removeItem("FYBX_DATA")}}}},YaCa:function(e,t,a){"use strict";function n(e){a("yRzb")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("Ojyc");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("mwzB"),s=a.n(o),l=a("Q1nv"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-41de2ac8",null);t.default=c.exports},YaEn:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("IHPB"),i=n(r),o=a("rudh"),s=n(o),l=a("KGCO"),d=n(l),u=a("bjWb"),c=n(u),f=a("864G"),h=n(f);s.default.use(d.default);var m=new d.default({mode:"history",base:"/Hermes",routes:[].concat((0,i.default)(c.default),(0,i.default)(h.default))});t.default=m},YiZ3:function(e,t,a){"use strict";function n(e){a("ROb1")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("kNVo");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("/WRi"),s=a.n(o),l=a("+pOj"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-0b804c36",null);t.default=c.exports},YjUH:function(e,t,a){"use strict";function n(e){a("M7F2")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("J8tP");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("Wdtp"),s=a.n(o),l=a("mMLw"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-289897cb",null);t.default=c.exports},YkGp:function(e,t,a){"use strict";function n(e){a("1E3z")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("ceHg");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("WAdr"),s=a.n(o),l=a("ohXq"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-9fec4c72",null);t.default=c.exports},Ylii:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages fgysqk-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{"dealer-label-name":"往来",request:"2","default-value":e.dealerInfo},on:{"sel-item":e.selDealer}},[a("template",{slot:"other"},[a("div",{staticClass:"amt-dealer"},[a("span",{staticClass:"amt-dealer-item"},[e._v("本次收汇票: "+e._s(e.thenTotalAmntBal))])])])],2),e._v(" "),a("div",{staticClass:"materiel_list"},[e.orderList.length?[a("div",{staticClass:"title"},[e._v("汇票明细")]),e._v(" "),e._l(e.orderList,function(t,n){return a("div",{key:n,staticClass:"order-detail",class:{"vux-1px-t":0!==n}},[a("div",{staticClass:"detail-item top"},[a("span",{staticClass:"info-item"},[e._v(e._s(t.draftNumber))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"info-item"},[e._v("类型: "+e._s(t.draftType))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("承兑人: "+e._s(t.accepter))])]),e._v(" "),a("x-input",{attrs:{"text-align":"right",placeholder:"请填写",type:"number"},on:{"on-blur":function(a){e.checkAmt(t,"tdAmount")},"on-focus":function(t){e.getFocus(t)}},model:{value:t.tdAmount,callback:function(a){e.$set(t,"tdAmount",e._n(a))},expression:"item.tdAmount"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("金额")])])],2),e._v(" "),a("datetime",{model:{value:t.draftDate,callback:function(a){e.$set(t,"draftDate",a)},expression:"item.draftDate"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("出票日")])])],2),e._v(" "),a("datetime",{model:{value:t.draftDueDate,callback:function(a){e.$set(t,"draftDueDate",a)},expression:"item.draftDueDate"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("到期日")])])],2),e._v(" "),a("datetime",{model:{value:t.draftSellDate,callback:function(a){e.$set(t,"draftSellDate",a)},expression:"item.draftSellDate"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("出让日期")])])],2),e._v(" "),a("x-input",{attrs:{title:"说明","text-align":"right",placeholder:"请填写"},model:{value:t.comment,callback:function(a){e.$set(t,"comment",a)},expression:"item.comment"}})],1)})]:a("div",{staticClass:"order-info",on:{click:function(t){e.showOrder=!0}}},[a("div",{staticClass:"title"},[e._v("汇票明细")]),e._v(" "),a("div",{staticClass:"mode"},[e._v("请选择汇票明细")]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r-arrow"})])],2),e._v(" "),e.orderList.length?a("div",{staticClass:"handle_part vx-1px-t"},[e.orderList.length?a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多")]):e._e()]):e._e(),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"其他信息"}},[a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-money-order-list",{attrs:{show:e.showOrder,"default-value":e.orderList},on:{"sel-item":e.selOrder},model:{value:e.showOrder,callback:function(t){e.showOrder=t},expression:"showOrder"}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},Ylj6:function(e,t,a){"use strict";function n(e){a("ELRb")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("/QQc");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("c6ZO"),s=a.n(o),l=a("pg4D"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-c6769d20",null);t.default=c.exports},YmAS:function(e,t,a){"use strict";function n(e){a("v1k0")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("Rw15");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("xyHp"),s=a.n(o),l=a("o43U"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-fd45054c",null);t.default=c.exports},"Z/7m":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2556,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"},{name:"往来名称",value:"dealerName_dealerCodeCredit"}]}},mixins:[r.default],methods:{},created:function(){}}},"Z/nY":function(e,t,a){"use strict";function n(e){a("IJth")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("GlWL");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("XlK6"),s=a.n(o),l=a("z33u"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-d8ab82a0",null);t.default=c.exports},Z1BX:function(e,t){},Z3gt:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=(a("XAqG"),a("HyXB"),a("MjAd")),s=n(o),l=a("ak47");n(l);t.default={name:"CPXQ_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"经办人",value:"handlerName"},{name:"交易号",value:"transCode"}],listViewID:2335}},mixins:[s.default],methods:{pathChange:function(e,t,a){var n=this;if(!this.clickVisited){var r=e.transCode,o=this.$route.query.name,s=this.$route.params,l=s.folder,d=s.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,i.default)({},e));var u=a+"/"+l+"/"+d;setTimeout(function(){n.clickVisited=!1,n.$router.push({path:u,query:{name:o,transCode:r}})},200)}},goDetail:function(e,t){this.pathChange(e,t,"/detail")},goUserEdit:function(e,t){this.pathChange(e,t,"/fillform")}}}},Z5v5:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.register=a("/Pqc").default;t.default={register:n}},Z6x5:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDepartMentWage=t.getAllRoleInfo=t.getAllGroup=void 0;var n=a("GOq4"),r=function(e){return e&&e.__esModule?e:{default:e}}(n),i=t.getAllGroup=function(){return r.default.ajax({url:"/H_roleplay-si/ds/getAllGroup",data:{page:1,start:0,limit:1e3}})},o=t.getAllRoleInfo=function(){return r.default.ajax({url:"/H_roleplay-si/ds/getAllRoleInfo",data:{page:1,start:0,limit:1e3}})};t.getDepartMentWage=function(){return r.default.ajax({url:"/H_roleplay-si/ds/getDepartMentWage",data:{page:1,start:0,limit:1e3}})};t.default={getAllGroup:i,getAllRoleInfo:o}},Z77n:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("rVsN"),i=n(r),o=a("lC5x"),s=n(o),l=a("IHPB"),d=n(l),u=a("3cXf"),c=n(u),f=a("J0Oq"),h=n(f),m=a("4YfN"),v=n(m),p=a("kNGm"),C=n(p),y=a("0AQX"),_=a("HyXB"),g=a("ak47"),b=n(g),w=a("GvUu"),I=n(w);t.default={data:function(){return{listId:"",transCode:"",RelatedAppList:[],swiper:null,taskType:""}},methods:{getAppExampleDetails:function(){var e=this;return(0,y.getAppExampleDetails)({transCode:this.transCode,listId:this.listId}).then(function(t){t.relevantItems.forEach(function(t){if(b.default[t.listId]){t.isrelated=!1,I.default[e.taskType]&&I.default[e.taskType][t.listId]&&(t.isrelated=!0);var a=t.content.map(function(e){return e.transCode}).join(",");e.RelatedAppList.push((0,v.default)({},t,{page:1,limit:10,defaultFilter:a,icon:t.icon?"/dist/"+t.icon:""}))}})})},getViewId:function(e){return(0,y.getListView)({listId:e}).then(function(e){return e[0].id})},getRelatedList:function(e){var t=this;return(0,h.default)(s.default.mark(function a(){var n,r,i,o,l,u,f,h,m,v;return s.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.listId,r=void 0===n?"":n,i=e.defaultFilter,o=void 0===i?"":i,l=e.page,u=void 0===l?1:l,f=e.limit,h=void 0===f?10:f,a.next=3,t.getViewId(r);case 3:return m=a.sent,v=[{property:"transCode",operator:"in",value:o}],a.abrupt("return",(0,_.getList)(m,{limit:h,page:u,start:(u-1)*h,filter:(0,c.default)(v)}).then(function(a){var n=a.dataCount,r=void 0===n?0:n,i=a.tableContent,o=void 0===i?[]:i;e.hasNext=r>(u-1)*h+o.length;var s=1===u?o:[].concat((0,d.default)(e.relatedList),(0,d.default)(o));t.$set(e,"relatedList",s)}));case 6:case"end":return a.stop()}},a,t)}))()},goDetail:function(e,t){var a=e.parentNav,n=e.listId;this.$router.push({path:"/detail/"+a+"/"+n,query:{name:t.transTypeName,transCode:t.transCode,fromRalted:!0}})},goRelation:function(e){var t=this.$route.query.uniqueId,a=e.parentNav,n=(e.file,e.transName);this.$router.push({path:"/fillform/"+a+"/"+fileName,query:{name:n,uniqueId:t,relationKey:this.transCode}})}},filters:{dateFormat:C.default},created:function(){var e=this;this.$loading.show(),this.listId=this.$route.params.listId,this.transCode=this.$route.query.transCode,this.transCode&&(this.taskType=this.transCode.split("_")[0]),(0,h.default)(s.default.mark(function t(){var a;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getAppExampleDetails();case 2:a=[],e.RelatedAppList.forEach(function(t){a.push(e.getRelatedList(t))}),i.default.all(a).then(function(){e.$nextTick(function(){e.swiper=new e.Swiper(".swiper_related",{slidesPerView:"auto",centeredSlides:!0,observer:!0,observeParents:!0})}),e.$loading.hide()});case 5:case"end":return t.stop()}},t,e)}))()}}},ZAJ7:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("MgeX"),i=n(r),o=a("HzJ8"),s=n(o),l=a("a3Yh"),d=n(l),u=a("3cXf"),c=n(u),f=a("4YfN"),h=n(f),m=a("BGNQ"),v=n(m),p=a("z5TY"),C=n(p),y=a("SAzG"),_=n(y),g=a("PzEQ"),b=n(g),w=a("0AQX"),I=a("HyXB"),D=a("bKg5"),x=n(D),P=a("Pkp+"),S=n(P),k=a("+WR7"),L=n(k),N=a("N2r1"),M=n(N),T=a("lsbD"),A=n(T),O=a("Qg39"),R=a("zWMP");t.default={data:function(){return{costList:[{}],formData:{biId:"",biComment:""},biReferenceId:"",showCostPop:!1,selectedCost:[],costIndex:null}},components:{Cell:v.default,Group:C.default,XInput:_.default,XTextarea:b.default,RPicker:S.default,PopBaseinfo:L.default,PopCostList:M.default,OpButton:A.default},mixins:[x.default],watch:{costList:{handler:function(e){var t=0;e.forEach(function(e){e.tdAmount&&(t=(0,R.accAdd)(t,e.tdAmount))}),this.tdAmount=(0,O.toFixed)(t)},deep:!0},departId:{handler:function(e,t){this.matterParams.data&&null!=this.matterParams.data.groupId&&(this.matterParams.data.groupId=e),t&&(this.costList=[{}])}}},computed:{departId:function(){return this.formData.handlerUnit}},methods:{addCost:function(){this.costList.push({})},deleteCost:function(e){this.costList.splice(e,1)},getCost:function(e,t){if(this.showCostPop=!0,this.costIndex=t,!e.costName_expCode)return void(this.selectedCost=[]);this.selectedCost=[e]},selMatter:function(e){this.selectedCost.push(e);var t=(0,h.default)({},this.costList[this.costIndex],e,{costName_expCode:e.costName,expCode:e.costCode,costType_expCode:e.costType,expSubject:e.costSubject});this.$set(this.costList,this.costIndex,(0,h.default)({},t))},checkAmt:function(e,t,a){e[t]=Math.abs((0,O.toFixed)(a))},submitOrder:function(){var e=this,t="",a=[],n=!0,r=!1,i=void 0;try{for(var o,l=(0,s.default)(this.costList);!(n=(o=l.next()).done);n=!0){var u=o.value,f={},m=!0,v=!1,p=void 0;try{for(var C,y=(0,s.default)(this.submitMatterField);!(m=(C=y.next()).done);m=!0){var _=C.value;if(!_.hidden&&!_.allowBlank&&!u[_.fieldCode]){t=_.text+"不为空";break}f[_.fieldCode]=null!=u[_.fieldCode]?u[_.fieldCode]:null}}catch(e){v=!0,p=e}finally{try{!m&&y.return&&y.return()}finally{if(v)throw p}}a.push(f)}}catch(e){r=!0,i=e}finally{try{!n&&l.return&&l.return()}finally{if(r)throw i}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=I.saveAndStartWf;delete e.formData.userCode;var n=(0,h.default)({},e.formData,{handlerEntity:e.entity.dealerName,order:{dataSet:a}}),r={listId:e.listId,biComment:"",formData:(0,c.default)(n),wfPara:(0,c.default)((0,d.default)({},e.processCode,{businessKey:e.businessKey,createdBy:n.creator}))};e.isResubmit&&(t=I.saveAndCommitTask,r.biReferenceId=e.biReferenceId,r.wfPara=(0,c.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=I.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,w.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,s=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=s;var l=i.order;e.handlerDefault={handler:i.handler,handlerName:i.handlerName,handlerUnit:i.handlerUnit,handlerUnitName:i.handlerUnitName,handlerRole:i.handlerRole,handlerRoleName:i.handlerRoleName},e.formData=(0,h.default)({},e.handlerDefault,{biComment:i.biComment,biId:i.biId,biProcessStatus:i.biProcessStatus,creator:i.creator,modifer:i.modifer}),e.costList=[],l.dataSet.forEach(function(t){e.costList.push((0,h.default)({},t,{tdId:t.tdId,costName:t.costName_expCode,costCode:t.expCode,costSubject:t.expSubject,costType:t.costType_expCode}))}),e.matterParams.data&&null!=e.matterParams.data.groupId&&(e.matterParams.data.groupId=e.formData.handlerUnit),e.biReferenceId=i.biReferenceId,e.$loading.hide()})},hasDraftData:function(){if((0,i.default)(this.costList[0]).length)return(0,d.default)({},"FYBX_DATA",{costList:this.costList,formData:this.formData})},getDate:function(e,t){var a=this;this.$vux.datetime.show({value:"",confirmText:"确认",cancelText:"取消",onConfirm:function(n){if(null==e[t.fieldCode])return void a.$set(e,t.fieldCode,n);e[t.fieldCode]=n}})},splitConfig:function(e,t){t.editPart=e}},created:function(){var e=sessionStorage.getItem("FYBX_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.costList=t.costList,sessionStorage.removeItem("FYBX_DATA")}}}},ZCI5:function(e,t,a){"use strict";function n(e){a("9HrF")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("SpJC");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("o2EC"),s=a.n(o),l=a("zlTd"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,null,null);t.default=c.exports},ZDxv:function(e,t){},ZGNX:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},ZH8y:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper xsbj-detail-container"},[e.orderInfo?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.contactInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"message-container"},[e._m(0),e._v(" "),a("div",{staticClass:"message-content"},[a("div",{staticClass:"message_content_item"},[a("span",{staticClass:"title"},[e._v("标题：")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e.orderInfo.opportunityTitle))])]),e._v(" "),a("div",{staticClass:"message_content_item"},[a("span",{staticClass:"title"},[e._v("内容：")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e.orderInfo.comment||"无"))])]),e._v(" "),a("div",{staticClass:"message_content_item"},[a("span",{staticClass:"title"},[e._v("有效期至：")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e.orderInfo.validUntil||"无"))])]),e._v(" "),a("div",{staticClass:"message_content_item"},[a("span",{staticClass:"title"},[e._v("销售人员：")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e.orderInfo.salesPerson||"无"))])]),e._v(" "),a("div",{staticClass:"message_content_item"},[a("span",{staticClass:"title"},[e._v("销售渠道：")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e.orderInfo.salesChannels||"无"))])]),e._v(" "),a("div",{staticClass:"message_content_item"},[a("span",{staticClass:"title"},[e._v("分类标签：")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e.orderInfo.categoryLabels||"无"))])]),e._v(" "),a("div",{staticClass:"message_content_item"},[a("span",{staticClass:"title"},[e._v("备注：")]),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(e.orderInfo.biComment||"无"))])]),e._v(" "),a("div",{staticClass:"message_content_item amt"},[a("span",{staticClass:"title"},[e._v("预期销售额：")]),e._v(" "),a("span",{staticClass:"content"},[e._v("￥"+e._s(e._f("numberComma")(e.orderInfo.tdAmount,3)||0))])])])]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",{staticClass:"message-header"},[a("div",{staticClass:"message_header_wrapper"},[a("div",{staticClass:"text"},[e._v("商机信息")]),e._v(" "),a("div",{staticClass:"spell"},[e._v("shangjixinxi")])])])}],i={render:n,staticRenderFns:r};t.a=i},ZIQC:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("4YfN"),s=n(o),l=a("IHPB"),d=n(l),u=a("3cXf"),c=n(u),f=a("HzJ8"),h=n(f),m=a("PzEQ"),v=n(m),p=a("0AQX"),C=a("HyXB"),y=a("bKg5"),_=n(y),g=a("zlAJ"),b=n(g),w=a("+WR7"),I=n(w),D=a("VZtf"),x=n(D),P=a("Q67R"),S=n(P),k=a("lsbD"),L=n(k),N=a("zWMP"),M=a("Qg39");t.default={data:function(){return{listId:"4472a646-f2c8-4a07-bad6-4c01f0b9292f",consumableList:[],showMaterielPop:!1,transCode:"",formData:{biComment:""},consumables:{},filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"}]}},components:{XTextarea:v.default,UploadFile:b.default,PopBaseinfo:I.default,RNumber:x.default,ApplyMatterPart:S.default,OpButton:L.default},mixins:[_.default],watch:{consumables:{handler:function(e){this.simpleCalcMatter(e)},deep:!0},consumableList:{handler:function(e){var t=0,a=0,n=!0,r=!1,i=void 0;try{for(var o,s=(0,h.default)(e);!(n=(o=s.next()).done);n=!0){var l=o.value;this.simpleCalcMatter(l),t=(0,M.toFixed)((0,N.accAdd)(t,l.tdAmount)),a=(0,M.toFixed)((0,N.accAdd)(a,l.taxAmount))}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}this.tdAmount=t,this.taxAmount=a},deep:!0}},methods:{getMatterModify:function(e,t,a){this.consumables=JSON.parse((0,c.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e===t});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e,t){return this.selItems.includes(t)},checkAll:function(){if(this.selItems.length===this.consumableList.length)return void(this.selItems=[]);this.selItems=this.consumableList.map(function(e,t){return t})},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=e.selItems,a=e.consumableList.filter(function(e,a){return!t.includes(a)});e.consumableList=a,e.selItems=[],e.matterModifyClass=!1}})},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.consumableList,this.modifyIndex,t)},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},selMatter:function(e){var t=JSON.parse(e);t.forEach(function(e){e.price="",e.tdQty=""}),this.consumableList=[].concat((0,d.default)(this.consumableList),(0,d.default)(t))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},save:function(){var e=this,t="",a=[];this.consumableList.length||(t="请选择物料");var n=!0,r=!1,o=void 0;try{for(var l,d=(0,h.default)(this.consumableList);!(n=(l=d.next()).done);n=!0){var u=l.value,f={},m=!0,v=!1,p=void 0;try{for(var y,_=(0,h.default)(this.submitMatterField);!(m=(y=_.next()).done);m=!0){var g=y.value,b=u[g.fieldCode]||u[g.displayField]||u[g.showFieldCode];if(!g.hidden&&!g.allowBlank&&!b&&void 0!==b){t=g.text+"不为空";break}f[g.fieldCode]=null!==b?b:null}}catch(e){v=!0,p=e}finally{try{!m&&_.return&&_.return()}finally{if(v)throw p}}a.push(f)}}catch(e){r=!0,o=e}finally{try{!n&&d.return&&d.return()}finally{if(r)throw o}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=C.saveAndStartWf,n=(0,s.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,order:{dataSet:a}}),r={listId:e.listId,biComment:"",formData:(0,c.default)(n),wfPara:(0,c.default)((0,i.default)({},e.processCode,{businessKey:e.businessKey,createdBy:n.creator}))};e.transCode&&(t=C.saveAndCommitTask,r.biReferenceId=e.biReferenceId,r.wfPara=(0,c.default)({businessKey:e.transCode,createdBy:n.creator,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=C.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,p.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,l=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var d=[];e.attachment=l;var u=i.order,c=u.dataSet,f=void 0===c?[]:c,m=!0,v=!1,p=void 0;try{for(var C,y=(0,h.default)(f);!(m=(C=y.next()).done);m=!0){var _=C.value;_=(0,s.default)({},_,{inventoryPic:_.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:_.inventoryName_transObjCode,inventoryCode:_.inventoryCode_transObjCode,specification:_.specification_transObjCode,processing:_.tdProcessing,measureUnit:_.measureUnit_transObjCode,inventoryColor:_.inventoryColor_transObjCode}),d.push(_)}}catch(e){v=!0,p=e}finally{try{!m&&y.return&&y.return()}finally{if(v)throw p}}e.handlerDefault={handler:i.handler,handlerName:i.handlerName,handlerUnit:i.handlerUnit,handlerUnitName:i.handlerUnitName,handlerRole:i.handlerRole,handlerRoleName:i.handlerRoleName},e.formData=(0,s.default)({},e.formData,e.handlerDefault,{biComment:i.biComment,biId:i.biId,biProcessStatus:i.biProcessStatus,creator:i.creator,modifer:i.modifer}),e.biReferenceId=i.biReferenceId,e.consumableList=d,e.$loading.hide()})},hasDraftData:function(){return!!this.consumableList.length&&(0,i.default)({},"DZYHPCGSQ_DATA",{matter:this.consumableList,formData:this.formData})},checkAmt:function(e){var t=e.tdQty,a=e.price;t=Math.abs((0,M.toFixed)(t)),a=Math.abs((0,M.toFixed)(a)),t&&(e.tdQty=t,e.tdAmount=(0,M.toFixed)((0,N.accMul)(t,a))),a&&(e.price=a,e.tdAmount=(0,M.toFixed)((0,N.accMul)(t,a)))}},created:function(){var e=sessionStorage.getItem("DZYHPCGSQ_DATA");e&&(this.consumableList=JSON.parse(e).matter,this.formData=JSON.parse(e).formData,sessionStorage.removeItem("DZYHPCGSQ_DATA"))}}},ZKwe:function(e,t,a){"use strict";function n(e){a("eXbP")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("JVZc");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("Iw/D"),s=a.n(o),l=a("4q16"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-37ea753b",null);t.default=c.exports},ZLmS:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("finance-list-item",{key:n,attrs:{item:t,isHasCount:!1},nativeOn:{click:function(a){e.goDetail(t,n)}},scopedSlots:e._u([{key:"cost_info",fn:function(t){var n=t.mItem;return[a("div",{staticClass:"each_amount"},[a("span",{staticClass:"money"},[e._v("￥"+e._s(e._f("numberComma")(n.tdAmount)))]),e._v(" "),a("span",{staticClass:"title"},[e._v("本次支付")])]),e._v(" "),a("div",{staticClass:"each_amount"},[a("span",{staticClass:"money"},[e._v("￥"+e._s(e._f("numberComma")(n.tdAmountCopy1)))]),e._v(" "),a("span",{staticClass:"title"},[e._v("申请金额")])]),e._v(" "),a("div",{staticClass:"each_amount count"},[a("span",{staticClass:"money"},[e._v("￥"+e._s(e._f("numberComma")(n.tdAmount)))]),e._v(" "),a("span",{staticClass:"title"},[e._v("本次合计")])])]}}])})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},ZOHQ:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("project-part",{attrs:{"project-info":e.orderInfo.order}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_part"},[e._m(0),e._v(" "),e._l(e.orderInfo.order.dataSet,function(t,n){return a("div",{key:n,staticClass:"form_content",class:{show_border:n!==e.orderInfo.order.dataSet.length-1}},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"名称",cellContent:t.costName_expCode,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"编码",cellContent:t.expCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"科目",cellContent:t.expSubject}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"申请金额",showSymbol:"",cellContent:e._f("numberComma")(e._f("toFixed")(t.tdAmount),3)}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"报销事由",cellContent:t.expCause}})],1)])})],2),e._v(" "),a("div",{staticClass:"price_cell vux-1px-t"},[a("div",{staticClass:"price_title"},[a("span",[e._v("报销人: ")]),e._v(" "),a("span",{staticClass:"people_name"},[e._v(e._s(e.orderInfo.creatorName))])]),e._v(" "),a("div",[a("span",{staticClass:"title"},[e._v("合计:")]),e._v(" "),a("span",{staticClass:"num"},[a("span",{staticStyle:{fontSize:".12rem"}},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(e.count),3)))])])]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("费用列表")])])}],i={render:n,staticRenderFns:r};t.a=i},ZQuG:function(e,t){},ZSDi:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("MjAd"),i=n(r),o=a("FPb0"),s=n(o);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2602,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},components:{financeListItem:s.default},mixins:[i.default],methods:{},created:function(){}}},ZTs6:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"6b6a6f40-ea86-4e72-a451-69a9a3b2e28c":"contacts","7dab9bd1-f51d-4b09-afc0-3d5c732ca219":"plan","fb200d08-4289-44dc-81e1-1fddec997c5e":"production","a32759e8-a3ad-47a6-a030-f33daea8b433":"product","43b07f14-4ae5-4804-a80e-ef06ce26fb0b":"sale","406f7db3-af5a-45ae-8641-576fa33b0471":"delivery","a0a66a68-b351-4c19-b837-e168cbf48019":"purchase","9e5a7193-f2eb-4b99-9849-8fe6c6ae3713":"stock","7218d31d-88f4-45bc-82c2-6d4a1c766821":"finance","27d28ff5-2e04-4881-a159-2b38f10ce7e4":"consumable","4a1e1cce-186a-46b6-acb7-fbd5febf578b":"equipment","f3d819ee-8f77-47d0-81f1-e986841e51eb":"finance","26d75e08-2c82-4e1a-ad51-b788b026428a":"project","752bfc20-9cbf-4552-b2a4-77b2c46eb2d1":"invoice","c09c6397-c685-4fb8-ac9e-bd554ab6bc52":"hr"}},ZVeX:function(e,t,a){"use strict";function n(e){a("0FYg")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("Zv+r");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("CoE1"),s=a.n(o),l=a("CK9K"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-2a962bef",null);t.default=c.exports},ZXlx:function(e,t){},ZZB3:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"r-picker",on:{click:e.showStatus}},[a("div",{staticClass:"picker"},[a("label",{class:{required:e.required}},[e._v(e._s(e.title))]),e._v(" "),a("div",{staticClass:"content"},[a("span",{staticClass:"mater_nature"},[e._v(e._s(e.showValue||"请选择"))]),e._v(" "),a("span",{staticClass:"icon-right"})])]),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{attrs:{id:"trade_pop_part"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[a("div",[a("div",{staticClass:"popup_header vux-1px-b"},[a("span",{staticClass:"cancel",on:{click:function(t){e.show=!1}}},[e._v("取消")]),e._v(" "),a("span",{staticClass:"confirm",on:{click:e.confirm}},[e._v("确认")])]),e._v(" "),a("picker",{attrs:{data:e.data,columns:1,value:e.currentValue},model:{value:e.currentValue,callback:function(t){e.currentValue=t},expression:"currentValue"}})],1)])],1)])},r=[],i={render:n,staticRenderFns:r};t.a=i},ZaIh:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("r-search",{attrs:{filterList:e.filterList,isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"order-list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"order-item",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"order-code"},[a("span",{staticClass:"order-title"},[e._v("交易号")]),e._v(" "),a("span",{staticClass:"order-num"},[e._v(e._s(t.transCode))])]),e._v(" "),a("div",{staticClass:"order-top"},[t.orderCode?a("span",{staticClass:"order-top-item"},[e._v("订单号: "+e._s(t.orderCode))]):e._e(),e._v(" "),t.warehouseName?a("span",{staticClass:"order-top-item"},[e._v("仓库: "+e._s(t.warehouseName))]):e._e()]),e._v(" "),a("div",{staticClass:"order-matter"},[a("div",{staticClass:"mater_img"},[a("img",{attrs:{src:t.inventoryPic,alt:"mater_img"},on:{error:function(a){e.getDefaultImg(t)}}})]),e._v(" "),a("div",{staticClass:"mater_main "},[a("div",{staticClass:"mater_name"},[e._v("\n                "+e._s(t.inventoryName)+"\n              ")]),e._v(" "),a("div",{staticClass:"mater_info"},[a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline",staticStyle:{display:"inline-block"}},[a("div",{staticClass:"mater_code"},[a("span",{staticClass:"title"},[e._v("编码")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(t.inventoryCode))])])]),e._v(" "),a("div",{staticClass:"ForInline",staticStyle:{display:"inline-block"}},[a("div",{staticClass:"mater_spec"},[a("span",{staticClass:"title"},[e._v("规格")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(t.specification||"无"))])])])]),e._v(" "),a("div",{staticClass:"withoutColor"},[a("div",{staticClass:"mater_classify"},[a("span",{staticClass:"type"},[e._v("属性: "+e._s(t.processing))]),e._v(" "),a("span",{staticClass:"father"},[e._v("大类: "+e._s(t.inventoryType||"无"))]),e._v(" "),a("span",{staticClass:"child"},[e._v("子类: "+e._s(t.inventorySubclass||"无"))])]),e._v(" "),a("div",{staticClass:"mater_material"},[e._t("qtyBal",null,{item:t})],2),e._v(" "),e._t("qtyStock",[a("div",{staticClass:"mater-balance"},[e._v("余额: "+e._s(t.qtyBal)+e._s(t.measureUnit))])],{item:t})],2)])])]),e._v(" "),a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-circle-outline selIcon",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1),e._v(" "),a("div",{staticClass:"count_mode vux-1px-t"},[a("span",{staticClass:"count_num"},[e._v(" "+e._s(e.tmpItems.length?"已选 "+e.tmpItems.length+" 个":"请选择")+" ")]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.selConfirm}},[e._v("确定")])])])],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},Zbco:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("a3Yh"),s=n(o),l=a("MgeX"),d=n(l),u=a("IHPB"),c=n(u),f=a("KH7x"),h=n(f),m=a("4YfN"),v=n(m),p=a("3cXf"),C=n(p),y=a("HXPS"),_=n(y),g=a("SAzG"),b=n(g),w=a("PzEQ"),I=n(w),D=a("kNGm"),x=n(D),P=a("BGNQ"),S=n(P),k=a("0AQX"),L=a("HyXB"),N=a("I3vJ"),M=a("bKg5"),T=n(M),A=a("vl8n"),O=n(A),R=a("9SNe"),j=n(R),B=a("kZy/"),E=n(B),F=a("y8YJ"),U=n(F),$=a("Q67R"),H=n($),V=a("hLfv"),q=n(V),Q=a("yt3/"),Y=n(Q),X=a("luHD"),G=n(X),W=a("zlAJ"),z=n(W),K=a("+WR7"),J=n(K),Z=a("VZtf"),ee=n(Z),te=a("Qg39"),ae=a("zWMP");t.default={data:function(){return{listId:"58a607ce-fe93-4d26-a42e-a374f4662f1c",matterList:[],showMaterielPop:!1,transCode:"",dealerInfo:{},transMode:[],logisticsTerm:[],formData:{biComment:"",drDealerLogisticsTerms:"",validUntil:""},numMap:{},taxRate:.16,contactInfo:{}}},components:{Icon:_.default,XInput:b.default,RPicker:O.default,XTextarea:I.default,Cell:S.default,DealerOtherPart:q.default,ApplyMatterPart:H.default,PopMatterList:E.default,PopDealerList:U.default,PopSingleSelect:Y.default,PopMatter:G.default,UploadFile:z.default,PopBaseinfo:J.default,RDate:j.default,RNumber:ee.default},mixins:[T.default],methods:{getPaymentTerm:function(){var e=this;return(0,L.getDictByType)("paymentTerm").then(function(t){var a=t.tableContent;e.transMode=a})},getLogisticsTerms:function(){var e=this;return(0,L.getDictByType)("dealerLogisticsTerms").then(function(t){var a=t.tableContent;e.logisticsTerm=a})},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,C.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=this;this.matterList.forEach(function(t){e.numMap[t.inventoryCode]=(0,v.default)({},t)}),this.showMaterielPop=!this.showMaterielPop},selDealer:function(e){var t=JSON.parse(e),a=(0,h.default)(t,1),n=a[0];this.dealerInfo=n},selContact:function(e){this.contactInfo=(0,v.default)({},e)},selMatter:function(e){var t=this,a=JSON.parse(e);a.forEach(function(e,a){var n=t.numMap[e.inventoryCode]||{},r=n.price,i=void 0===r?"":r,o=n.taxRate,s=void 0===o?t.taxRate:o,l=n.tdQty,d=void 0===l?"":l;t.getPriceRange(e,a),e.tdQty=d,e.price=i,e.taxRate=s,e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null}),this.numMap={},this.matterList=[].concat((0,c.default)(a))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},save:function(){var e=this,t="",a=[];if([{key:"dealerInfo",message:"客户"},{key:"matterList",message:"物料"}].every(function(a){return!!(0,d.default)(e[a.key]).length||(t="请选择"+a.message,!1)}),this.matterList.every(function(n){var r=n.tdQty,i=n.price;if(!r&&0!==r)return t="请输入需求数量",!1;if(r<n.qtyDownline)return t="需求数量不能小于最小需求数量",!1;if(r>n.qtyOnline)return t="需求数量不能大于最大需求数量",!1;if(!i)return t="请输入本次报价",!1;if(i<n.specialReservePrice)return t="需求数量不能小于特批底价",!1;if(i>n.standardPrice)return t="需求数量不能大于标准价格",!1;var o=n.taxRate||e.taxRate,s=((0,ae.accMul)(n.price,n.tdQty,o),{inventoryName_transObjCode:n.inventoryName,transObjCode:n.inventoryCode,tdProcessing:n.processing,assMeasureUnit:n.assMeasureUnit||null,assMeasureDescription:n.assMeasureDescription||null,assMeasureScale:n.assMeasureScale||null,tdQty:n.tdQty,assistQty:n.assistQty,standardPrice:n.standardPrice,specialReservePrice:n.specialReservePrice,price:n.price,tdAmount:n.tdAmount,taxRate:o,noTaxPrice:n.noTaxPrice,taxAmount:n.taxAmount,comment:n.comment||null});return e.transCode&&(s.tdId=n.tdId||""),a.push(s),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=L.saveAndStartWf,n=(0,h.default)(e.matterList,1),r=(n[0],(0,v.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,dealerDebitContactPersonName:e.contactInfo.dealerName||"",dealerDebitContactInformation:e.contactInfo.dealerMobilePhone||"",drDealerLogisticsTerms:e.dealerInfo.dealerLogisticsTerms,order:{dealerDebit:e.dealerInfo.dealerCode||"",drDealerLabel:e.dealerInfo.dealerLabelName,drDealerPaymentTerm:e.dealerInfo.paymentTerm,validUntil:e.formData.validUntil,dataSet:a}})),i={listId:e.listId,biComment:"",formData:(0,C.default)(r),wfPara:(0,C.default)((0,s.default)({},e.processCode,{businessKey:e.businessKey,createdBy:r.creator}))};e.transCode&&(t=L.saveAndCommitTask,i.biReferenceId=e.biReferenceId,i.wfPara=(0,C.default)({businessKey:e.transCode,createdBy:r.creator,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=L.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,k.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,s=t.attachment,l=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var d=[];e.attachment=l;var u=o.order,c=u.dataSet,f=void 0===c?[]:c,h=!0,m=!1,p=void 0;try{for(var C,y=(0,i.default)(f);!(h=(C=y.next()).done);h=!0){var _=C.value;_=(0,v.default)({},_,{inventoryPic:_.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:_.inventoryName_transObjCode,inventoryCode:_.inventoryCode_transObjCode,specification:_.specification_transObjCode,processing:_.processing_transObjCode,inventoryType:_.inventoryType_transObjCode,inventorySubclass:_.inventorySubclass_transObjCode,measureUnit:_.measureUnit_transObjCode,inventoryColor:_.inventoryColor_transObjCode,material:_.material_transObjCode}),d.push(_)}}catch(e){m=!0,p=e}finally{try{!h&&y.return&&y.return()}finally{if(m)throw p}}e.dealerInfo={creatorName:o.dealerDebitContactPersonName||"",dealerName:u.dealerName_dealerDebit||"",dealerMobilePhone:o.dealerDebitContactInformation||"",dealerCode:u.dealerDebit||"",dealerLabelName:u.drDealerLabel||"客户",province:u.province_dealerDebit||"",city:u.city_dealerDebit||"",county:u.county_dealerDebit||"",address:u.address_dealerDebit||"",paymentTerm:u.drDealerPaymentTerm,dealerLogisticsTerms:o.drDealerLogisticsTerms},e.contactInfo={dealerName:o.dealerDebitContactPersonName,dealerMobilePhone:o.dealerDebitContactInformation},e.handlerDefault={handler:o.handler,handlerName:o.handlerName,handlerUnit:o.handlerUnit,handlerUnitName:o.handlerUnitName,handlerRole:o.handlerRole,handlerRoleName:o.handlerRoleName},e.formData=(0,v.default)({},e.formData,e.handlerDefault,{biComment:o.biComment,biId:o.biId,biProcessStatus:o.biProcessStatus,creator:o.creator,modifer:o.modifer,validUntil:(0,x.default)(o.validUntil,"YYYY-MM-DD")}),e.biReferenceId=o.biReferenceId,e.matterList=d,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,s.default)({},"XSBJ_DATA",{matter:this.matterList,dealer:this.dealerInfo,formData:this.formData,contactInfo:this.contactInfo})},getPriceRange:function(e,t){var a=this;return(0,N.getPriceRange)({inventoryCode:e.inventoryCode}).then(function(t){var n=t.tableContent,r=(0,h.default)(n,1),i=r[0],o=void 0===i?{}:i,s=["qtyOnline","qtyDownline"];for(var l in o)s.includes(l)?(e[l]=o[l],delete o[l]):e.hasOwnProperty(l)||a.$set(e,l,"");e.otherField=(0,v.default)({},o)})},checkQty:function(e){var t=e.qtyDownline,a=void 0===t?0:t,n=e.qtyOnline,r=void 0===n?0:n,i=e.tdQty;i<a&&(i=a),i>r&&(i=r),e.tdQty=Math.abs((0,te.toFixed)(i))},checkAmt:function(e){var t=e.standardPrice,a=void 0===t?0:t,n=e.specialReservePrice,r=void 0===n?0:n,i=e.price;console.log("price:",i),i<r?i=r:i>a&&(i=a),e.price=Math.abs((0,te.toFixed)(i))},checkRate:function(e){e.taxRate=Math.abs((0,te.toFixed)(e.taxRate))}},created:function(){var e=sessionStorage.getItem("XSBJ_DATA");e&&(this.matterList=JSON.parse(e).matter,this.dealerInfo=JSON.parse(e).dealer,this.formData=JSON.parse(e).formData,this.contactInfo=JSON.parse(e).contactInfo,sessionStorage.removeItem("XSBJ_DATA"))}}},Zdcs:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("kNGm"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);a("44qn");t.default={name:"BasicInfo",props:{workFlowInfo:{type:Object,default:function(){return{}}},orderInfo:{type:Object,default:function(){return{}}}},data:function(){return{showMore:!1}},computed:{projectInfo:function(){var e=this.orderInfo,t=e.outPut,a=void 0===t?{}:t,n=e.inPut,r=void 0===n?{}:n;return{projectName:a.project||r.project||"",projectType:a.projectType_project||r.projectType_project||""}}},filters:{dateFormat:r.default}}},ZgKJ:function(e,t){},ZhmJ:function(e,t,a){"use strict";function n(e){a("8V/s")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("foOz");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("VFFv"),s=a.n(o),l=a("z0Nv"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-2f6e36f5",null);t.default=c.exports},ZksZ:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vux-popup-header",class:e.showBottomBorder?"vux-1px-b":""},[a("div",{staticClass:"vux-popup-header-left",on:{click:function(t){e.$emit("on-click-left")}}},[e._t("left-text",[e._v(e._s(e.leftText))])],2),e._v(" "),a("div",{staticClass:"vux-popup-header-title"},[e._t("title",[e._v(e._s(e.title))])],2),e._v(" "),a("div",{staticClass:"vux-popup-header-right",on:{click:function(t){e.$emit("on-click-right")}}},[e._t("right-text",[e._v(e._s(e.rightText))])],2)])},r=[],i={render:n,staticRenderFns:r};t.a=i},Zm5O:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("vHT0"),r=function(e){return e&&e.__esModule?e:{default:e}}(n),i=a("4XVd");a("Z5v5");t.default={data:function(){return{transCode:"",currentComponent:"",submitSuccess:!1,detailScroll:null,commentCount:0,hasComment:!0,isConcern:0,concernCount:0}},methods:{modifyRoute:function(e){this.submitSuccess=e},refresh:function(){var e=this;this.$nextTick(function(){e.detailScroll.refresh()})},goDiscuss:function(){this.$router.push({path:"/commentList",query:{transCode:this.transCode}})},isSubscribe:function(e){this.isConcern=e},goConcern:function(){var e=this,t=i.subscribeApp,a={type:"instance",relationKey:this.transCode};1===this.isConcern&&(t=i.unsubscribeApp,delete a.type),t(a).then(function(t){var a=t.success,n=void 0===a||a,r=t.message,i=void 0===r?"":r;if(n){e.isConcern="订阅成功！"===i?1:0;var o="订阅成功！"===i?"关注成功":"取消关注成功";e.$vux.toast.show({type:"text",time:1e3,position:"top",text:o})}})},initPage:function(){var e=this,t=this.$route.query.transCode,n=this.$route.params,i=n.folder,o=n.fileName;this.hasComment=!!t,this.transCode=t;try{this.currentComponent=a("9kVI")("./"+i+"/"+o+"Form.vue").default,this.$event.$on("commentCount",function(t){e.commentCount=t})}catch(t){console.log(t),this.$vux.alert.show({content:"抱歉，无法支持该应用的查看",onHide:function(){e.$router.go(-1)}})}this.$nextTick(function(){e.detailScroll||(e.detailScroll=new r.default(e.$refs.detail,{click:!0}))})}},created:function(){this.initPage()},activated:function(){this.$route.meta.reload&&(this.initPage(),this.$route.meta.reload=!1),this.refresh()},beforeRouteEnter:function(e,t,a){var n=e.query.name,r=void 0===n?"":n;r.includes("表")&&(e.meta.title=r,a()),e.meta.title=r+"详情",a()},beforeRouteLeave:function(e,t,a){var n=["LIST","MSGHOME","MSGLIST","FILLFORM"],r=n.includes(e.name);this.$HandleLoad.hide(),r&&(this.currentComponent=null,this.detailScroll.destroy(),this.detailScroll=null,this.$event.$off("commentCount"),t.meta.reload=!0),this.submitSuccess&&r&&(e.meta.reload=!0),a()}}},Zozf:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("3cXf"),s=n(o),l=a("Pkp+"),d=n(l),u=a("HyXB");t.default={name:"duplicateComponent",props:{config:{type:Array,default:function(){return[]}},defaultValue:{type:Object,default:function(){return{}}}},computed:{duplicateConfig:function(){return this.config}},data:function(){return{duplicateData:{}}},components:{RPicker:d.default},watch:{defaultValue:{handler:function(e){this.duplicateData=JSON.parse((0,s.default)(this.defaultValue))},deep:!0},duplicateData:{handler:function(e){var t=(0,s.default)(this.defaultValue);(0,s.default)(e)!==t&&this.$emit("input",e)},deep:!0}},methods:{addMoreUnit:function(e){var t={};e.items.forEach(function(e){e.hidden||(t[e.fieldCode]="")}),this.duplicateData[e.name].push(t)},deleteMoreUnit:function(e){this.duplicateData[e.name].pop()},getDate:function(e,t){this.$vux.datetime.show({value:"",confirmText:"确认",cancelText:"取消",onConfirm:function(a){e[t.fieldCode]=a}})},onChange:function(e,t,a,n){if("deliveryProvince"===a.fieldCode){var r="",o="",s=!0,l=!1,d=void 0;try{for(var c,f=(0,i.default)(this.duplicateConfig[t].items);!(s=(c=f.next()).done);s=!0){var h=c.value;if("break"===function(t){if("deliveryProvince"===t.fieldCode){var a=!0,s=!1,l=void 0;try{for(var d,c=(0,i.default)(t.remoteData);!(a=(d=c.next()).done);a=!0){var f=d.value;if(f.name===e){r=f.id;break}}}catch(e){s=!0,l=e}finally{try{!a&&c.return&&c.return()}finally{if(s)throw l}}}if("deliveryCity"===t.fieldCode)return t.requestParams.data.parentId=r,(0,u.requestData)(t.requestParams).then(function(e){e.tableContent&&(e.tableContent.length?(e.tableContent.forEach(function(e){e.originValue=e.value,e.value=e.name}),n.deliveryCity=e.tableContent[0].name,o=e.tableContent[0].originValue):n.deliveryCity="",t.remoteData=e.tableContent)}),"break"}(h))break}}catch(e){l=!0,d=e}finally{try{!s&&f.return&&f.return()}finally{if(l)throw d}}}else if("deliveryCity"===a.fieldCode){var m="",v=!0,p=!1,C=void 0;try{for(var y,_=(0,i.default)(this.duplicateConfig[t].items);!(v=(y=_.next()).done);v=!0){var g=y.value,b=function(t){if("deliveryCity"===t.fieldCode){var a=!0,r=!1,o=void 0;try{for(var s,l=(0,i.default)(t.remoteData);!(a=(s=l.next()).done);a=!0){var d=s.value;if(d.name===e){m=d.originValue;break}}}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}}if("deliveryCounty"===t.fieldCode)return t.requestParams.data.parentId=m,(0,u.requestData)(t.requestParams).then(function(e){e.tableContent&&(e.tableContent.length?(e.tableContent.forEach(function(e){e.originValue=e.value,e.value=e.name}),n.deliveryCounty=e.tableContent[0].name):n.deliveryCounty="",t.remoteData=e.tableContent)}),"break"}(g);if("break"===b)break}}catch(e){p=!0,C=e}finally{try{!v&&_.return&&_.return()}finally{if(p)throw C}}}},getFocus:function(e){event.currentTarget.select()}}}},"Zp+1":function(e,t,a){"use strict";function n(e){a("8q5q")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("DfJM");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("zsZJ"),s=a.n(o),l=a("Vdjd"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-10f730e7",null);t.default=c.exports},Zs2f:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"weui-cell",class:{"vux-tap-active":e.isLink||!!e.link,"weui-cell_access":e.isLink||!!e.link,"vux-cell-no-border-intent":!e.borderIntent,"vux-cell-disabled":e.disabled},style:e.style,on:{click:e.onClick}},[a("div",{staticClass:"weui-cell__hd"},[e._t("icon")],2),e._v(" "),a("div",{staticClass:"vux-cell-bd",class:{"vux-cell-primary":"title"===e.primary&&"left"!==e.valueAlign}},[a("p",[e.title||e.hasTitleSlot?a("label",{staticClass:"vux-label",class:e.labelClass,style:e.labelStyles},[e._t("title",[e._v(e._s(e.title))])],2):e._e(),e._v(" "),e._t("after-title")],2),e._v(" "),a("inline-desc",[e._t("inline-desc",[e._v(e._s(e.inlineDesc))])],2)],1),e._v(" "),a("div",{staticClass:"weui-cell__ft",class:e.valueClass},[e._t("value"),e._v(" "),e._t("default",[e._v(e._s(e.value))]),e._v(" "),e.isLoading?a("i",{staticClass:"weui-loading"}):e._e()],2),e._v(" "),e._t("child")],2)},r=[],i={render:n,staticRenderFns:r};t.a=i},ZsTC:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("lC5x"),i=n(r),o=a("J0Oq"),s=n(o),l=a("a3Yh"),d=n(l),u=a("3cXf"),c=n(u),f=a("ZLEe"),h=n(f),m=a("4YfN"),v=n(m),p=a("MgeX"),C=n(p),y=a("HzJ8"),_=n(y),g=a("PzEQ"),b=n(g),w=a("kNGm"),I=n(w),D=a("0AQX"),x=a("HyXB"),P=a("bKg5"),S=n(P),k=a("y8YJ"),L=n(k),N=a("hLfv"),M=n(N),T=a("+WR7"),A=n(T),O=a("Q67R"),R=n(O),j=a("lsbD"),B=n(j),E=a("zWMP"),F=a("Qg39");t.default={components:{XTextarea:b.default,PopDealerList:L.default,PopBaseinfo:A.default,DealerOtherPart:M.default,ApplyMatterPart:R.default,OpButton:B.default},data:function(){return{taxRate:.16,dealer:{},formData:{creator:"",modifer:"",biId:"",biComment:""},dealerInfo:{},contact:{},orderList:{},showMaterielPop:!1,showDealerPop:!1}},computed:{matterList:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var r,i=(0,_.default)((0,C.default)(this.orderList));!(t=(r=i.next()).done);t=!0){var o=r.value,s=!0,l=!1,d=void 0;try{for(var u,c=(0,_.default)(o);!(s=(u=c.next()).done);s=!0){var f=u.value;e.push(f)}}catch(e){l=!0,d=e}finally{try{!s&&c.return&&c.return()}finally{if(l)throw d}}}}catch(e){a=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(a)throw n}}return e}},mixins:[S.default],filters:{dateFormat:I.default},watch:{orderListTitle:function(e){e.includes("物料")?this.filterList=[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"}]:this.filterList=[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:e,value:"transCode"}]}},methods:{selDealer:function(e){var t=this;this.dealerInfo=JSON.parse(e)[0],this.dealerInfo.drDealerPaymentTerm=this.dealerInfo.paymentTerm,this.dealerInfo.daysOfAccount=this.dealerInfo.pamentDays,this.matterParams.data&&null!=this.matterParams.data.dealerCode&&(this.matterParams.data.dealerCode=this.dealerInfo.dealerCode,this.orderList={}),this.matterList.length&&this.matterList.forEach(function(e){t.getPrice(e)})},selContact:function(e){this.dealer.dealerDebitContactPersonName=e.dealerName,this.dealer.dealerDebitContactInformation=e.dealerMobilePhone,this.contact=(0,v.default)({},this.contact,e)},getPrice:function(e){var t=this,a={dealerCode:this.dealerInfo.dealerCode,matCodes:[{qty:e.assistQty,matCode:e.inventoryCode}]};(0,x.getPriceFromProcurementContract)(a).then(function(a){var n=a.data,r=void 0===n?{}:n;(0,h.default)(r).length&&(!e.price&&0!==e.price&&t.$set(e,"price",(0,C.default)(r)[0].price),!e.taxRate&&0!==e.taxRate&&t.$set(e,"taxRate",(0,C.default)(r)[0].taxRate))})},selMatter:function(e){var t=this,a=JSON.parse(e),n={},r=[];a.map(function(e){var a=e.transCode?e.transCode:"noCode";r.push(e.inventoryCode);for(var i in t.dataIndexMap)e[i]="promDeliTime"===i||"shippingTime"===i?(0,I.default)(e[t.dataIndexMap[i]],"YYYY-MM-DD")||"":e[i]||e[t.dataIndexMap[i]];e.tdQty=e.tdQty||e.qtyBal,e.assistQty=(0,F.toFixed)((0,E.accDiv)(e.tdQty,e.assMeasureScale)),t.dealerInfo.dealerCode&&t.getPrice(e),n[a]||(n[a]=[]),n[a].push(e)}),this.dealerParams.data=(0,v.default)({},this.dealerParams.data,{matCodes:r.join(",")}),this.numMap={},this.orderList=n},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getMatterModify:function(e,t,a){this.matter=JSON.parse((0,c.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t)},findIndex:function(e,t){return e.findIndex(function(e){return e.transCode===t.transCode&&e.inventoryCode===t.inventoryCode})},delClick:function(e,t,a){var n=this.selItems,r=this.findIndex(n,e);if(-1!==r)return void n.splice(r,1);n.push(e)},showSelIcon:function(e){return-1!==this.findIndex(this.selItems,e)},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,c.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t={},a=e.selItems;e.matterList.filter(function(t,n){return-1===e.findIndex(a,t)}).forEach(function(e){var a=e.transCode?e.transCode:"noCode";t[a]||(t[a]=[]),t[a].push(e)}),e.orderList=t,e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},checkAmt:function(e,t,a){e[t]=Math.abs((0,F.toFixed)(a)),"tdQty"===t&&a>e.thenQtyBal&&(e[t]=e.thenQtyBal)},submitOrder:function(){var e=this,t="",a=[];if([{key:"dealerInfo",childKey:"dealerCode",message:"供应商信息"},{key:"dealerInfo",childKey:"drDealerPaymentTerm",message:"结算方式"},{key:"matterList",childKey:"length",message:"物料"}].every(function(a){return a.childKey&&!e[a.key][a.childKey]?(t="请选择"+a.message,!1):!!e[a.key]||(t="请选择"+a.message,!1)}),!t){var n=!0,r=!1,i=void 0;try{for(var o,s=(0,_.default)(this.matterList);!(n=(o=s.next()).done);n=!0){var l=o.value,u={},f=!0,h=!1,m=void 0;try{for(var p,C=(0,_.default)(this.submitMatterField);!(f=(p=C.next()).done);f=!0){var y=p.value;if(!y.hidden&&!y.allowBlank&&!l[y.fieldCode]){t=y.text+"不为空";break}u[y.fieldCode]=null!=l[y.fieldCode]?l[y.fieldCode]:null}}catch(e){h=!0,m=e}finally{try{!f&&C.return&&C.return()}finally{if(h)throw m}}u.dealerDebit=this.dealerInfo.dealerCode,u.drDealerLabel=this.dealerInfo.dealerLabelName||"",a.push(u)}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=x.saveAndStartWf,n=(0,d.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:e.biComment,formData:(0,c.default)((0,v.default)({},e.formData,{handlerEntity:e.entity.dealerName,dealerDebitContactPersonName:e.contact.dealerName||null,dealerDebitContactInformation:e.contact.dealerMobilePhone||"",order:{drDealerPaymentTerm:e.dealerInfo.drDealerPaymentTerm,daysOfAccount:e.dealerInfo.daysOfAccount,dataSet:a},inPut:{dataSet:[{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName||"",tdAmountCopy1:e.dealerInfo.tdAmountCopy1||null,prepaymentDueDate:e.dealerInfo.prepaymentDueDate||""}]}})),wfPara:(0,c.default)(n)};e.isResubmit&&(t=x.saveAndCommitTask,r.biReferenceId=e.biReferenceId),e.processCode.length||(t=x.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,s.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,D.getSOList)({formViewUniqueId:e.uniqueId,transCode:e.transCode}).then(function(t){e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId;var a=t.formData,n=a.inPut,r=void 0===n?{}:n,i=a.order,o=void 0===i?{}:i;e.attachment=t.attachment;var s={},l=[];o.dataSet.map(function(t){return l.push(t.inventoryCode_transObjCode),t=(0,v.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,safeStock:t.safeStock_transObjCode,qtyBal:t.thenQtyBal,moq:t.moq_transObjCode,leadTime:t.leadTime_transObjCode}),t.transCode?(s[t.transCode]||(s[t.transCode]=[]),s[t.transCode].push(t)):(s.noCode||(s.noCode=[]),s.noCode.push(t)),t}),e.orderList=s,e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,v.default)({},e.handlerDefault,{creator:a.creator,modifer:a.modifer,biComment:a.biComment,biProcessStatus:a.biProcessStatus,biId:a.biId}),e.dealerInfo={dealerCode:r.dataSet[0].dealerDebit,dealerSubclass:r.dataSet[0].drAccountSub,dealerName:r.dataSet[0].dealerName_dealerDebit,province:r.dataSet[0].province_dealerDebit,city:r.dataSet[0].city_dealerDebit,county:r.dataSet[0].county_dealerDebit,address:r.dataSet[0].address_dealerDebit,drDealerPaymentTerm:o.drDealerPaymentTerm,daysOfAccount:o.daysOfAccount,dealerLabelName:r.dataSet[0].drDealerLabel,tdAmountCopy1:r.dataSet[0].tdAmountCopy1,prepaymentDueDate:r.dataSet[0].prepaymentDueDate},e.contact={dealerName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation},e.dealerParams.data=(0,v.default)({},e.dealerParams.data,{matCodes:l.join(",")}),e.$loading.hide()});case 2:case"end":return t.stop()}},t,e)}))()},hasDraftData:function(){return!!this.matterList.length&&(0,d.default)({},"CGDD_DATA",{orderList:this.orderList,dealerInfo:this.dealerInfo,formData:this.formData,contact:this.contact})}},created:function(){var e=sessionStorage.getItem("CGDD_DATA");e&&(this.orderList=JSON.parse(e).orderList,this.dealerInfo=JSON.parse(e).dealerInfo,this.formData=JSON.parse(e).formData,this.contact=JSON.parse(e).contact,sessionStorage.removeItem("CGDD_DATA"))}}},Zt7o:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("kNGm"),i=(n(r),a("0AQX")),o=a("+VRO"),s=n(o),l=a("AupE"),d=n(l),u=a("BUFe"),c=n(u),f=a("bFc7"),h=n(f),m=a("3NX5"),v=n(m);t.default={data:function(){return{orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},uploadStyle:{width:"100%",padding:"0.06rem 0.1rem"}}},mixins:[s.default],components:{workFlow:d.default,RAction:c.default,contactPart:h.default,MatterList:v.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,i.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,s=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=s,e.orderInfo=i,e.contactInfo={dealerName:i.dealerName_launchDealerCode,dealerMobilePhone:i.dealerDebitContactInformation,dealerContactPersonName:i.dealerDebitContactPersonName},e.workFlowInfoHandler()})},goEdit:function(){var e=this.$route.params,t=e.folder,a=e.fileName,n=this.$route.query.name;this.$router.push({path:"/fillform/"+t+"/"+a,query:{name:n,transCode:this.transCode}})}}}},ZtPB:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("kNGm"),s=(n(o),a("SAzG")),l=n(s),d=a("0AQX"),u=a("+VRO"),c=n(u),f=a("BUFe"),h=n(f),m=a("AupE"),v=n(m),p=a("bFc7"),C=n(p),y=a("CKaN"),_=n(y),g=a("zWMP"),b=a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",contactInfo:{},dealerInfo:{},cashInfo:{}}},computed:{isInCharge:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"d7ef0729-4a55-46fe-a750-e5298042c5bc"===t},isApproval:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"65afdac2-db7d-42d1-a059-7fdb98892134"===t},isCashier:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"14128204-e4ee-4688-98c7-9d3c03e7a3ad"===t},isAccount:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"b8490da9-513f-408b-8974-83998188bf6a"===t},cashParams:function(){return{transCode:this.transCode}},isEditAdmout:function(){var e=!1;return this.otherConfig.forEach(function(t){"tdAmount"===t.fieldCode&&(e=t.readOnly)}),e||(this.cashInfo=(0,i.default)({},this.cashInfo,{fundCode:this.cashInfo.fundCode||this.cashInfo.cashInCode,fundType:this.cashInfo.fundType||this.cashInfo.cashType_cashInCode,fundName:this.cashInfo.fundName||this.cashInfo.fundName_cashInCode,thenAmntBal:this.cashInfo.thenAmntBal||this.cashInfo.thenAmntBalCopy1})),e}},mixins:[c.default],components:{workFlow:v.default,RAction:h.default,contactPart:C.default,PopCashList:_.default,XInput:l.default},methods:{checkAmt:function(){var e=this.cashInfo.tdAmount;e&&(this.cashInfo.tdAmount=Math.abs((0,b.toFixed)(e)))},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,d.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment,e.orderInfo=t.formData,e.dealerInfo=t.formData.order.dataSet[0],e.cashInfo=t.formData.outPut.dataSet[0],e.workFlowInfoHandler()})},agreeHandler:function(){if(this.isApproval||this.isCashier||this.isAccount){if(this.isCashier&&!this.cashInfo.fundCode)return this.$vux.alert.show({content:"请选择资金账户"}),!0;var e=this.orderInfo,t=this.dealerInfo,a=this.cashInfo,n=(0,i.default)({},e,{order:{dataSet:[{tdIdCopy1:t.tdIdCopy1,dealerCodeCredit:t.dealerCodeCredit,crDealerLabel:t.crDealerLabel,applicationType:t.applicationType,tdCreditLine:t.tdCreditLine,thenAmntBalCopy1:t.thenAmntBalCopy1,thenTotalAmntBal:t.thenTotalAmntBal,tdAmountCopy1:t.tdAmountCopy1,differenceAmount:t.differenceAmount,expCause:t.expCause}]},outPut:{dataSet:[{cashInCode:a.fundCode||a.cashInCode,cashType_cashInCode:a.fundType||a.cashType_cashInCode,thenAmntBal:a.thenAmntBal,tdAmount:a.tdAmount,tdId:a.tdId}]}});return this.saveData(n),!0}return!1},selCash:function(e){this.cashInfo=(0,i.default)({},this.cashInfo,e)},calcPayment:function(e){var t=e.thenAmntBalCopy1,a=void 0===t?0:t,n=e.tdAmountCopy1,r=void 0===n?0:n;r||(r=0),r=(0,b.toFixed)(r),e.tdAmountCopy1=r,e.differenceAmount=(0,b.toFixed)((0,g.accAdd)(a,r))}}}},ZtSw:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("HzJ8"),s=n(o),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("PKHo"),f=n(c),h=a("zWMP"),m=a("BUFe"),v=n(m),p=a("AupE"),C=n(p),y=a("sUbJ"),_=n(y),g=a("FlCz"),b=n(g),w=a("d7ck"),I=n(w),D=a("MVgC"),x=n(D);t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",orderList:{},basicInfo:{},DuplicateBoms:[],UniqueBom:[],bomPopShow:!1,bom:{}}},mixins:[u.default,f.default],components:{workFlow:C.default,RAction:v.default,MatterItem:_.default,BomList:b.default,FormCell:I.default,BomPop:x.default},methods:{checkBom:function(e){this.bom=e,this.bomPopShow=!0},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u={};o.order;e.attachment=d;var c=o.order.dataSet,f=!0,h=!1,m=void 0;try{for(var v,p=(0,s.default)(c);!(f=(v=p.next()).done);f=!0){var C=v.value;if(C.inventoryPic=C.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+C.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),C.shippingTime=e.changeDate(C.shippingTime),C.boms){var y=!0,_=!1,g=void 0;try{for(var b,w=(0,s.default)(C.boms);!(y=(b=w.next()).done);y=!0){var I=b.value;I.inventoryCode=I.transObjCode}}catch(e){_=!0,g=e}finally{try{!y&&w.return&&w.return()}finally{if(_)throw g}}}C.boms&&(e.DuplicateBoms=e.DuplicateBoms.concat(JSON.parse((0,i.default)(C.boms)))),u[C.transMatchedCode]||(u[C.transMatchedCode]=[]),u[C.transMatchedCode].push(C)}}catch(e){h=!0,m=e}finally{try{!f&&p.return&&p.return()}finally{if(h)throw m}}e.mergeBomList(),e.orderList=u,e.orderInfo=o,e.workFlowInfoHandler()})},mergeBomList:function(){var e=function(e,t){return e.inventoryCode===t.inventoryCode};this.UniqueBom=function(t){return t.reduce(function(t,a){return t.some(function(t){var n=e(t,a);return n&&(t.tdQty=(0,h.accAdd)(t.tdQty,a.tdQty)),n})||t.push(a),t},[])}(this.DuplicateBoms)}}}},"Zv+r":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("ZLEe"),s=n(o),l=a("KH7x"),d=n(l),u=a("3cXf"),c=n(u),f=a("4YfN"),h=n(f),m=a("MgeX"),v=n(m),p=a("HzJ8"),C=n(p),y=a("PzEQ"),_=n(y),g=a("kNGm"),b=(n(g),a("0AQX")),w=a("HyXB"),I=a("bKg5"),D=n(I),x=a("VZtf"),P=n(x),S=a("y8YJ"),k=n(S),L=a("lsbD"),N=n(L),M=a("+WR7"),T=n(M),A=a("hLfv"),O=n(A),R=a("Q67R"),j=n(R),B=a("zWMP"),E=a("Qg39");t.default={components:{RNumber:P.default,XTextarea:_.default,OpButton:N.default,PopBaseinfo:T.default,PopDealerList:k.default,DealerOtherPart:O.default,ApplyMatterPart:j.default},data:function(){return{listId:"1d52d5ce-d05e-4987-a023-3f4dba68cad9",taxRate:.16,numMap:{},dealer:{},formData:{creator:"",modifer:"",biId:"",biComment:""},dealerInfo:{},contact:{},orderList:{},showMaterielPop:!1,showDealerPop:!1,filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"申请号",value:"transCode"}],consumables:{},modifyKey:null,modifyIndex:null,selItems:{}}},mixins:[D.default],computed:{consumableList:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var r,i=(0,C.default)((0,v.default)(this.orderList));!(t=(r=i.next()).done);t=!0){var o=r.value,s=!0,l=!1,d=void 0;try{for(var u,c=(0,C.default)(o);!(s=(u=c.next()).done);s=!0){var f=u.value;e.push(f)}}catch(e){l=!0,d=e}finally{try{!s&&c.return&&c.return()}finally{if(l)throw d}}}}catch(e){a=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(a)throw n}}return e},checkList:function(){return[].concat.apply([],(0,v.default)(this.selItems))}},watch:{consumables:{handler:function(e){this.simpleCalcMatter(e)},deep:!0},consumableList:{handler:function(e){var t=0,a=0,n=!0,r=!1,i=void 0;try{for(var o,s=(0,C.default)(e);!(n=(o=s.next()).done);n=!0){var l=o.value;this.simpleCalcMatter(l),t=(0,E.toFixed)((0,B.accAdd)(t,l.tdAmount)),a=(0,E.toFixed)((0,B.accAdd)(a,l.taxAmount))}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}this.tdAmount=t,this.taxAmount=a},deep:!0}},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],this.dealerInfo=(0,h.default)({},this.dealerInfo,{dealerName_dealerCodeCredit:this.dealerInfo.dealerName,daysOfAccount:this.dealerInfo.pamentDays,crDealerPaymentTerm:this.dealerInfo.paymentTerm})},selContact:function(e){this.formData.dealerCreditContactPersonName=e.dealerName,this.formData.dealerCreditContactInformation=e.dealerMobilePhone,this.contact=e},selMatter:function(e){var t=JSON.parse(e),a=JSON.parse((0,c.default)(this.orderList));t.forEach(function(e){var t=e.transCode?e.transCode:"noCode";e.tdQty=e.qtyBal||"",e.taxRate=.16,e.transCode?(a[t]||(a[t]=[]),a[t].push(e)):(a.noCode||(a.noCode=[]),a.noCode.push(e))}),this.orderList=a},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t)},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getMatterModify:function(e,t,a){this.consumables=JSON.parse((0,c.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},showDelete:function(){this.matterModifyClass=!this.matterModifyClass,this.selItems={}},delClick:function(e,t,a){if(this.selItems[a]){var n=this.selItems[a],r=n.findIndex(function(e){return e===t});if(-1!==r)return n.splice(r,1),void(n.length||delete this.selItems[a]);n.push(t)}else this.$set(this.selItems,a,[t])},showSelIcon:function(e,t){return this.selItems[e.transCode]&&this.selItems[e.transCode].length&&-1!==this.selItems[e.transCode].findIndex(function(e){return e===t})},checkAll:function(){if(this.checkList.length===this.consumableList.length)return void(this.selItems={});var e={};for(var t in this.orderList)this.orderList[t].foeEach(function(t,a){e[t.transCode]||(e[t.transCode]=[]),e[t.transCode].push(a)});this.selItems=e},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){for(var t in e.selItems){var a;!function(t){a=e.selItems[t].map(function(e,t){return e-t}),a.forEach(function(a,n){e.orderList[t].splice(a,1),e.orderList[t].length||delete e.orderList[t]})}(t)}e.selItems={},e.matterModifyClass=!1}})},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this,t="",a=[],n=(this.isSubmitOk,this.dealerInfo),r=this.dealerConfig;if(!(t=this.verifyData(r,n))){var o=(0,d.default)(this.submitMatterField,1),l=o[0],u=void 0===l?{}:l;(0,s.default)(this.orderList).length||(t="请选择"+u.text);var f=!0,m=!1,p=void 0;try{for(var y,_=(0,C.default)((0,v.default)(this.orderList));!(f=(y=_.next()).done);f=!0){var g=y.value,b=!0,I=!1,D=void 0;try{for(var x,P=(0,C.default)(g);!(b=(x=P.next()).done);b=!0){var S=x.value,k={},L=!0,N=!1,M=void 0;try{for(var T,A=(0,C.default)(this.submitMatterField);!(L=(T=A.next()).done);L=!0){var O=T.value,R=S[O.fieldCode]||S[O.displayField]||S[O.showFieldCode];if(!O.hidden&&!O.allowBlank&&!R&&void 0!==R){t=O.text+"不为空";break}k[O.fieldCode]=void 0!==R?R:""}}catch(e){N=!0,M=e}finally{try{!L&&A.return&&A.return()}finally{if(N)throw M}}a.push(k)}}catch(e){I=!0,D=e}finally{try{!b&&P.return&&P.return()}finally{if(I)throw D}}}}catch(e){m=!0,p=e}finally{try{!f&&_.return&&_.return()}finally{if(m)throw p}}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=w.saveAndStartWf,n=(0,i.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:e.biComment,formData:(0,c.default)((0,h.default)({},e.formData,e.dealer,{handlerEntity:e.entity.dealerName,inPut:{dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName||"",crDealerPaymentTerm:e.dealerInfo.crDealerPaymentTerm,daysOfAccount:e.dealerInfo.daysOfAccount,dataSet:a}})),wfPara:(0,c.default)(n)};e.isResubmit&&(t=w.saveAndCommitTask,r.biReferenceId=e.biReferenceId),e.processCode.length||(t=w.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,b.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId;var a=t.formData;e.attachment=t.attachment;var n={};a.inPut.dataSet.map(function(t){t=(0,h.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,qtyBal:t.thenQtyBal,transCode:t.transMatchedCode}),n[t.transCode]||(n[t.transCode]=[]),n[t.transCode].push(t),e.consumableList.push(t)}),e.orderList=n,e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,h.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),e.dealerInfo={dealerMobilePhone:a.dealerCreditContactInformation,dealerCode:a.inPut.dealerCodeCredit,dealerSubclass:a.inPut.drAccountSub,dealerName:a.inPut.dealerName_dealerCodeCredit,dealerLabelName:a.inPut.crDealerLabel,province:a.inPut.province_dealerCodeCredit,city:a.inPut.city_dealerCodeCredit,county:a.inPut.county_dealerCodeCredit,address:a.inPut.address_dealerCodeCredit,dealerCreditContactPersonName:a.dealerCreditContactPersonName,dealerCreditContactInformation:a.dealerCreditContactInformation,crDealerPaymentTerm:a.inPut.crDealerPaymentTerm,daysOfAccount:a.inPut.daysOfAccount,dealerName_dealerCodeCredit:a.inPut.dealerName_dealerCodeCredit},e.contact={dealerMobilePhone:a.dealerCreditContactInformation,dealerName:a.dealerCreditContactPersonName},e.$loading.hide()})},hasDraftData:function(){return!!this.consumableList.length&&(0,i.default)({},"DZYHPCGDD_DATA",{orderList:this.orderList,dealerInfo:this.dealerInfo,formData:this.formData,dealer:this.dealer,contact:this.contact})},getRelationData:function(){}},created:function(){var e=sessionStorage.getItem("DZYHPCGDD_DATA"),t=JSON.parse(e);if(e){this.orderList=t.orderList;var a=!0,n=!1,r=void 0;try{for(var i,o=(0,C.default)((0,v.default)(this.orderList));!(a=(i=o.next()).done);a=!0){var s=i.value,l=!0,d=!1,u=void 0;try{for(var c,f=(0,C.default)(s);!(l=(c=f.next()).done);l=!0){var h=c.value;this.consumableList.push(h)}}catch(e){d=!0,u=e}finally{try{!l&&f.return&&f.return()}finally{if(d)throw u}}}}catch(e){n=!0,r=e}finally{try{!a&&o.return&&o.return()}finally{if(n)throw r}}this.dealerInfo=t.dealerInfo,this.dealer=t.dealer,this.formData=t.formData,this.contact=t.contact,sessionStorage.removeItem("DZYHPCGDD_DATA")}}}},ZyBF:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("4YfN"),s=n(o),l=a("a3Yh"),d=n(l),u=a("3cXf"),c=n(u),f=a("PzEQ"),h=n(f),m=a("u28h"),v=n(m),p=a("kNGm"),C=(n(p),a("BGNQ")),y=n(C),_=a("SAzG"),g=n(_),b=a("z5TY"),w=n(b),I=a("0AQX"),D=a("HyXB"),x=a("bKg5"),P=n(x),S=a("I5id"),k=n(S),L=a("9cRV"),N=n(L),M=a("luHD"),T=n(M),A=a("VZtf"),O=n(A),R=a("vl8n"),j=n(R),B=a("+WR7"),E=n(B),F=a("zWMP");a("Qg39");t.default={name:"ApplySBCGSQForm",data:function(){return{matterList:[],formData:{biId:"",biComment:"",biProcessStatus:""},numMap:{},showFacilityPop:!1,showMatterPop:!1,selItems:[],facility:{},checkFieldList:[{key:"tdQty",message:"请填写本次申请数量"},{key:"price",message:"请填写估计价格"}],filterList:[{name:"设施名称",value:"facilityName"},{name:"设施编码",value:"facilityCode"}]}},mixins:[P.default],components:{XTextarea:h.default,Datetime:v.default,RNumber:O.default,Cell:y.default,XInput:g.default,Group:w.default,PopMatter:T.default,RPicker:j.default,PopBaseinfo:E.default,PopFacilityList:k.default,PopMatterList:N.default},computed:{tdAmount:function(){var e=this,t=0;return this.matterList.forEach(function(a){e.simpleCalcMatter(a),t=(0,F.accAdd)(t,a.tdAmount)}),t}},watch:{facility:{handler:function(e){this.simpleCalcMatter(e)},deep:!0}},methods:{selMatter:function(e){var t=JSON.parse(e);t.map(function(e){e.tdQty=e.tdQty||"",e.price=e.price||""}),this.matterList=t},getMatterModify:function(e,t){this.facility=JSON.parse((0,c.default)(e)),this.showMatterPop=!0,this.modifyIndex=t},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.facilityCode===t.facilityCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.facilityCode===e.facilityCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,c.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.facilityCode===t.facilityCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){this.showFacilityPop=!this.showFacilityPop},submitOrder:function(){var e=this,t="",a=[];if(this.matterList.length?this.matterList.every(function(n){if(!n.price)return t="单价不能为空",!1;if(!n.tdQty&&0!==n.tdQty)return t="数量不能为空",!1;var r={facilityObjCode:n.facilityCode,facilityType:n.facilityType,assMeasureUnit:null,assistQty:n.assistQty||null,tdQty:n.tdQty,price:n.price,tdAmount:n.tdAmount,comment:n.comment||""};return e.transCode&&(r.tdId=n.tdId||null),a.push(r),!0}):t="请选择设备",t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=D.saveAndStartWf,n={},r=(0,d.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});n=(0,s.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.formData.handler,modifer:e.formData.handler,order:{dataSet:a}}),e.transCode&&(t=D.saveAndCommitTask,r={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,c.default)(n),wfPara:(0,c.default)(r)};e.transCode||delete i.biReferenceId,e.processCode.length||(t=D.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,I.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,l=t.attachment,u=void 0===l?[]:l;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=u;var c=o.order,f=c.dataSet,h=void 0===f?[]:f,m=[],v=!0,p=!1,C=void 0;try{for(var y,_=(0,i.default)(h);!(v=(y=_.next()).done);v=!0){var g,b=y.value;b=(0,s.default)({},b,(g={facilityName:b.facilityName_facilityObjCode,facilityCode:b.facilityCode_facilityObjCode,facilityBigType:b.facilityBigType_facilityObjCode,facilitySubclass:b.facilitySubclass_facilityObjCode,facilityUnit:b.facilityUnit_facilityObjCode},(0,d.default)(g,"facilityName",b.facilityName_facilityObjCode),(0,d.default)(g,"facilityName",b.facilityName_facilityObjCode),(0,d.default)(g,"inventoryPic",b.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+b.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()),g)),m.push(b)}}catch(e){p=!0,C=e}finally{try{!v&&_.return&&_.return()}finally{if(p)throw C}}e.handlerDefault={handler:o.handler,handlerName:o.handlerName,handlerUnit:o.handlerUnit,handlerUnitName:o.handlerUnitName,handlerRole:o.handlerRole,handlerRoleName:o.handlerRoleName},e.formData=(0,s.default)({},e.handlerDefault,{creator:o.creator,modifer:o.modifer,biId:o.biId,biComment:o.biComment,biProcessStatus:o.biProcessStatus}),e.biReferenceId=o.biReferenceId,e.matterList=m,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,d.default)({},"SBCGSQ_DATA",{matter:this.matterList,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("SBCGSQ_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.formData=t.formData,sessionStorage.removeItem("SBCGSQ_DATA")}}}},ZzL0:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("HyXB"),a("MjAd")),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2530,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}]}},mixins:[r.default],methods:{},created:function(){}}},"a+8v":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("MjAd"),i=n(r),o=a("FPb0"),s=n(o);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2482,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},components:{financeListItem:s.default},mixins:[i.default],methods:{},created:function(){}}},"a/GI":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"upload-image-container"},[a("input",{staticStyle:{display:"none"},attrs:{type:"file",name:"file",id:"upload-image",accept:"image/*"},on:{change:e.uploadFile}}),e._v(" "),a("label",{staticClass:"label",attrs:{for:"upload-image"}}),e._v(" "),e.imgSrc?a("img",{staticClass:"upload",attrs:{src:e.imgSrc},on:{load:e.imgLoad,error:function(t){e.getDefaultImg()}}}):a("div",{staticClass:"upload"},[a("span",{staticClass:"icon-pic-add"})]),e._v(" "),a("spinner",{directives:[{name:"show",rawName:"v-show",value:e.showLoading,expression:"showLoading"}],staticClass:"loading vux-1px-l",attrs:{type:"circles"}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},a0Gq:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("IHPB"),s=n(o),l=a("HXPS"),d=n(l),u=a("7g+Q"),c=n(u),f=a("6q39"),h=n(f),m=a("QHLv"),v=a("1KNX"),p=n(v),C=a("7biW"),y=n(C);t.default={name:"MatterList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},getListMethod:{type:String,default:"getObjFunds"}},components:{Icon:d.default,Popup:c.default,LoadMore:h.default,RScroll:p.default,MSearch:y.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],costList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,s.default)(this.selItems)),this.$emit("input",!1),this.$event.$emit("shut-down-filter",!1)},showSelIcon:function(e){var t=!1;return this.selItems&&this.selItems.every(function(a){return e.fundCode!==a.fundCode||(t=!0,!1)}),t},selThis:function(e,t){this.showPop=!1,this.selItems=[e],this.$emit("sel-matter",this.selItems[0])},setDefaultValue:function(){this.tmpItems=[].concat((0,s.default)(this.defaultValue)),this.selItems=[].concat((0,s.default)(this.defaultValue))},getObjFunds:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,s.default)(e),[{operator:"like",value:this.srhInpTx,property:"fundName"}])),(0,m.getObjFunds)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,i.default)(e)}).then(this.dataHandler)},getEmployeeReserveFunds:function(){var e=[];return this.srhInpTx&&(e=[].concat((0,s.default)(e),[{operator:"like",value:this.srhInpTx,property:"fundName"}])),(0,m.getEmployeeReserveFunds)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,i.default)(e)}).then(this.dataHandler)},dataHandler:function(e){var t=this,a=e.dataCount,n=void 0===a?0:a,r=e.tableContent,i=void 0===r?[]:r;this.hasNext=n>(this.page-1)*this.limit+i.length,this.costList=1===this.page?i:[].concat((0,s.default)(this.costList),(0,s.default)(i)),this.$nextTick(function(){t.$refs.bScroll.finishPullUp()})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.costList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this[this.getListMethod]()},onPullingUp:function(){this.page++,this[this.getListMethod]()}},created:function(){this.setDefaultValue(),this[this.getListMethod]()}}},a1Ty:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("MjAd"),i=n(r),o=a("FPb0"),s=n(o);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2602,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},components:{financeListItem:s.default},mixins:[i.default],methods:{},created:function(){}}},a5f2:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages bdkcdb-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-warehouse-list",{attrs:{title:"出库仓库","default-value":e.warehouse,"get-list-method":"getWareHouseType",params:e.warehouseOutParams,isRequired:""},on:{"sel-item":e.selWarehouseOut}}),e._v(" "),a("pop-warehouse-list",{attrs:{title:"入库仓库","default-value":e.warehouseIn,isRequired:"",disabled:""},on:{"sel-item":e.selWarehouseIn}}),e._v(" "),a("div",{staticClass:"materiel_list"},[e.matterList.length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.matterList,function(t,n){return a("div",{key:n,staticClass:"each_mater",class:{mater_delete:e.matterModifyClass,"vux-1px-b":n<e.matterList.length-1}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass,config:e.matterEditConfig.property},on:{"on-modify":function(a){e.getMatterModify(t,n)}},nativeOn:{click:function(a){e.delClick(n,t)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:n.tdQty,expression:"item.tdQty"}],staticClass:"mater_other"},[a("span",{staticClass:"matter-remain"},[a("span",{staticClass:"symbol"},[e._v("入库数量: ")]),e._v(e._s(n.tdQty)+"\n                    ")])])]}},{key:"edit",fn:function(t){var r=t.item;return[r.tdQty||e.matterModifyClass?e._e():a("div",{staticClass:"mater_other",on:{click:function(t){e.getMatterModify(r,n)}}},[a("div",{staticClass:"edit-tips"},[e._v("点击进行填写")])])]}}])}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.matterModifyClass,expression:"matterModifyClass"}],staticClass:"delete_icon ",on:{click:function(a){e.delClick(n,t)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])])],1)}),0)]:[a("div",{on:{click:function(t){e.showMaterielPop=!e.showMaterielPop}}},[a("div",{staticClass:"title"},[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),a("div",{staticClass:"tips"},[e._v("请选择"+e._s(e.orderListTitle))]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),this.actions.includes("stop")?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),e.matterList.length?a("span",{staticClass:"add_more",on:{click:e.addMatter}},[e._v("新增更多物料")]):e._e()]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showMaterielPop,"default-value":e.matterList,params:e.matterParams,config:e.matterPopConfig,requestApi:e.requestApi,orderTitle:e.matterPopOrderTitle},on:{"sel-matter":e.selMatter},model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}})],2),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,config:e.matterEditConfig},on:{"sel-confirm":e.selConfirm},model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode"},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"btn-item",on:{click:e.save}},[e._v("提交")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},a68W:function(e,t){},a6Lf:function(e,t){},aA6S:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("St0H");t.default={name:"cell-box",props:{isLink:Boolean,link:[String,Object],borderIntent:{type:Boolean,default:!0},noFlex:Boolean,alignItems:String},computed:{style:function(){if(this.alignItems)return{"align-items":this.alignItems}},className:function(){return{"vux-tap-active":this.isLink||!!this.link,"weui-cell_access":this.isLink||!!this.link,"vux-cell-no-border-intent":!this.borderIntent}}},methods:{onClick:function(){this.link&&(0,n.go)(this.link,this.$router)}}}},aAII:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2233,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}]}},mixins:[r.default],methods:{},created:function(){}}},aASr:function(e,t,a){"use strict";function n(e){a("aIp8")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("H+kM");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("e0Na"),s=a.n(o),l=a("HV0e"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-06fa2688",null);t.default=c.exports},aBBp:function(e,t){},aCXj:function(e,t){},aHRR:function(e,t,a){"use strict";function n(e){a("KO2X")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("uBQ9");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("hIeW"),s=a.n(o),l=a("2dIu"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-d034e526",null);t.default=c.exports},aIp8:function(e,t){},aKYA:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.noUpload&&e.defaultValue.length||!e.noUpload?a("div",{staticClass:"upload-file-container",class:{"no-upload":e.noUpload,"vux-1px-t":e.noUpload},style:e.containStyle},[a("p",{staticClass:"title",style:e.titleStyle},[e._v("附件")]),e._v(" "),a("div",{staticClass:"upload-file-list"},[e._l(e.files,function(t,n){return a("div",{key:n,staticClass:"upload-file-item"},["image"===t.iconType?[a("img",{staticClass:"img",attrs:{src:"/H_roleplay-si/ds/download?url="+t.attacthment+"&width=400&height=400"},on:{click:function(a){a.stopPropagation(),e.preview(t)}}})]:[e._v("\n        "+e._s(t.attr1)+"\n      ")],e._v(" "),e.noUpload?e._e():a("i",{staticClass:"iconfont icon-shanchu",on:{click:function(a){e.deleteFile(t)}}})],2)}),e._v(" "),e.noUpload?e._e():a("div",{staticClass:"upload-file-item",on:{click:e.chooseImage}},[e._m(0)])],2)]):e._e()},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"icon_container"},[a("span",{staticClass:"icon-upload-add"}),e._v(" "),a("span",[e._v("添加附件")])])}],i={render:n,staticRenderFns:r};t.a=i},aKfH:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{staticClass:"vux-datetime weui-cell",class:{"weui-cell_access":!e.readonly},attrs:{"data-cancel-text":"取消","data-confirm-text":"确定",href:"javascript:"}},[e._t("default",[a("div",[e._t("title",[a("p",{class:e.labelClass,style:e.styles,domProps:{innerHTML:e._s(e.title)}})]),e._v(" "),e.inlineDesc?a("inline-desc",[e._v(e._s(e.inlineDesc))]):e._e()],2),e._v(" "),a("div",{staticClass:"weui-cell__ft vux-cell-primary vux-datetime-value",style:{textAlign:e.valueTextAlign}},[!e.currentValue&&e.placeholder?a("span",{staticClass:"vux-cell-placeholder"},[e._v(e._s(e.placeholder))]):e._e(),e._v(" "),e.currentValue?a("span",{staticClass:"vux-cell-value"},[e._v(e._s(e.displayFormat?e.displayFormat(e.currentValue):e.currentValue))]):e._e(),e._v(" "),a("icon",{directives:[{name:"show",rawName:"v-show",value:!e.valid,expression:"!valid"}],staticClass:"vux-input-icon",attrs:{type:"warn",title:e.firstError}})],1)])],2)},r=[],i={render:n,staticRenderFns:r};t.a=i},aLb8:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[e.matterList.length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.matterList,function(t,n){return a("div",{key:n,staticClass:"each_mater",class:{mater_delete:e.matterModifyClass,"vux-1px-b":n<e.matterList.length-1}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass,config:e.matterEditConfig.property},on:{"on-modify":function(a){e.getMatterModify(t,n)}},nativeOn:{click:function(a){e.delClick(n,t)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[n.price&&n.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price)+"\n                      ")]),e._v(" "),a("div",[a("r-number",{attrs:{num:n.tdQty,checkAmt:e.checkAmt,max:n.qtyBal},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",t)},expression:"item.tdQty"}})],1)]):e._e()]}},{key:"editPart",fn:function(t){var r=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r.price&&r.tdQty&&!e.matterModifyClass,expression:"(item.price && item.tdQty) &&!matterModifyClass"}],staticClass:"edit-part vux-1px-l",on:{click:function(t){e.getMatterModify(r,n)}}},[a("span",{staticClass:"iconfont icon-bianji1"})])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(n,t)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)}),0)]:[a("div",{on:{click:function(t){e.showFacilityPop=!e.showFacilityPop}}},[a("div",{staticClass:"title"},[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择"+e._s(e.orderListTitle))]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多物料")])]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showFacilityPop,config:e.matterPopConfig,"matter-params":e.matterParams,"default-value":e.matterList,"filter-list":e.filterList},on:{"sel-matter":e.selMatter},model:{value:e.showFacilityPop,callback:function(t){e.showFacilityPop=t},expression:"showFacilityPop"}})],2),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.facility,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,config:e.matterEditConfig},on:{"sel-confirm":e.selConfirm},model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num"},[a("span",{staticStyle:{fontSize:".14rem"}},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.tdAmount))+"\n    ")]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},aLbf:function(e,t){},aMlE:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noCount:"",noPrice:""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},aOGo:function(e,t,a){"use strict";function n(e){a("KBQR")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("mNzI");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("WRjc"),s=a.n(o),l=a("Irm3"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-3594b15c",null);t.default=c.exports},"aP/0":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("4YfN"),s=n(o),l=a("KH7x"),d=n(l),u=a("3cXf"),c=n(u),f=a("0AQX"),h=a("+VRO"),m=n(h),v=a("BUFe"),p=n(v),C=a("AupE"),y=n(C),_=a("bFc7"),g=n(_),b=a("6WeX"),w=n(b),I=a("3NX5"),D=n(I),x=a("zWMP");a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"",contactInfo:{}}},components:{workFlow:y.default,RAction:p.default,contactPart:g.default,PriceTotal:w.default,MatterList:D.default},mixins:[m.default],methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,f.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(e.submitInfo=JSON.parse((0,c.default)(t)),!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.formData,n=void 0===a?{}:a,r=t.attachment,o=void 0===r?[]:r,l=n.order,u=void 0===l?{}:l,f=n.inPut,h=void 0===f?{}:f,m=u.dataSet,v=void 0===m?[]:m,p=h.dataSet,C=void 0===p?[]:p,y=(0,d.default)(C,1),_=y[0],g=void 0===_?{}:_,b=!0,w=!1,I=void 0;try{for(var D,P=(0,i.default)(v);!(b=(D=P.next()).done);b=!0){var S=D.value;e.count=(0,x.accAdd)(e.count,S.tdAmount),S.inventoryPic=S.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+S.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){w=!0,I=e}finally{try{!b&&P.return&&P.return()}finally{if(w)throw I}}e.contactInfo={creatorName:n.dealerDebitContactPersonName,dealerName:g.dealerName_dealerDebit,dealerMobilePhone:n.dealerDebitContactInformation,dealerContactPersonName:n.dealerDebitContactPersonName,dealerCode:g.dealerDebit,dealerLabelName:g.drDealerLabel,province:g.province_dealerDebit,city:g.city_dealerDebit,county:g.county_dealerDebit,address:g.address_dealerDebit},e.matterList=v,e.attachment=o,e.orderInfo=(0,s.default)({},n,u,g),e.workFlowInfoHandler()})},judgeDealerConfig:function(e){var t=this.orderInfo.drDealerPaymentTerm.includes("预收"),a=["prepaymentDueDate","tdAmountCopy1"];e.forEach(function(e){a.includes(e.fieldCode)&&(e.hiddenInRun=!t)})}},created:function(){}}},aZSx:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("kNGm"),s=n(o),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),h=a("AupE"),m=n(h),v=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70"}},mixins:[u.default],components:{workFlow:m.default,RAction:f.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=!0,r=!1,o=void 0;try{for(var l,d=(0,i.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;e.count=(0,v.accAdd)(e.count,u.tdAmount)}}catch(e){r=!0,o=e}finally{try{!n&&d.return&&d.return()}finally{if(r)throw o}}t.formData.validUntil=(0,s.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},ak47:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"000004":"COMPANY","000001":"USER","000003":"JOB","4099b5aa-1468-4b81-85a5-75079e291977":"BHDD","7532f8ea-caf3-4fc4-97f6-b5aad7bcf6a0":"WLXQTJ","2e8e23c6-2fa4-4067-9cef-b5c92463d4c9":"XSDDYC","2372f734-93c1-11e8-85db-005056a136d0":"GDRW","f9f1e0cb-7edf-43aa-b2f2-527e2525b96e":"GDYS","c54b3325-a5c1-4d75-a3c4-c6cf0e988aae":"GDRWQD","b30f4d3e-b23d-11e8-96a5-005056a136d0":"CPXQ","eb8a01a3-7a74-439b-bc44-8d58cbfa6166":"CPFB","548b7e35-16c6-4748-af06-eac1d2dac5d1":"CPJG","78949976-4689-41da-b090-fe891186ee8b":"XSDD","58a607ce-fe93-4d26-a42e-a374f4662f1c":"XSBJ","32a2c333-02a3-416f-a133-95c7a32da678":"SJ","0b2360df-499c-47b0-8d97-7c5d81c35353":"XSHT","4f2debbe-fce5-44f8-8440-a3959e62f721":"KPSQ","a4474c03-1139-4e8c-bc4e-2beb4565be33":"CGDD","43ccbc27-bbb5-4cfb-997b-6d3823f1c03e":"CGSQ","9e8de557-2e56-4ce5-8792-54829eef7c5b":"CGXY","edf7b34b-8916-410f-801f-2db7e97efbde":"KCPD","4d9a7f8f-9a88-47b6-a1f4-3faed6423615":"BDKCDB","6ebcad8b-449c-422a-960f-53ccf98fd4ba":"GDBLL","00bf03eb-2794-4222-a97e-9029683734b3":"CGRK","bde3edef-ee04-4a18-b063-73ae7682e23a":"XSCK","482b7468-06eb-40c7-842a-f7ea6edb1c37":"CGTHCK","b6b97d33-5d8e-4942-b978-09103d06f188":"SK","1972f3a4-b29a-4a0e-90a8-85090c0e2d28":"FK","c930267f-66fd-4927-983b-0216ef9449b3":"FGYSQK","7d172485-8726-4e42-b29d-ec2a716bf062":"FGYSDJ","8c68eaa6-46dd-4b3b-b885-1218600b519c":"ZZSKP","6df81f47-9d31-46f3-b852-614a8891cd01":"ZZSSP","bb9ce973-2f62-4707-a54c-7e8605dc99d6":"CRCDHP","1745ffdd-1b6a-4fe5-9c5b-6e5394bd4faf":"SDCDHP","ef8bbbc5-04c4-40eb-8d8c-338784a847e9":"DXTXCDHP","7666662a-a52a-4ca8-8f28-d3035322875e":"DFCDHP","418bd0e9-1dce-4e01-aa5a-3d4cd80e87d4":"JKYBYJ","080147c6-05ea-4ae7-9390-49e8e0379a11":"BXYZF","4472a646-f2c8-4a07-bad6-4c01f0b9292f":"DZYHPCGSQ","1d52d5ce-d05e-4987-a023-3f4dba68cad9":"DZYHPCGDD","0750729a-1bea-423e-99a0-070beb953787":"DZYHPCGYSYZF","f928725f-5e23-4321-922c-6db0efa85f17":"SBCGSQ","fac37727-d2d4-11e8-b8ca-0279b2c6a380":"SBCGDD","64c5afbc-c075-11e8-85e2-b06ebfc41432":"SBCGYS","630a9b96-f257-48b6-b0bc-fd64c455d92b":"XMLX","0281f8eb-f1d2-415c-b566-756fc749ccb3":"XMJH","ee4ff0a1-c612-419d-afd7-471913d57a2a":"XMRW","b87a513e-99ec-4608-89db-3d6e97ef1432":"XMJX","223f9387-d2d7-11e8-b8ca-0279b2c6a380":"YGDA","98519ac0-d2d7-11e8-b8ca-0279b2c6a380":"YGRZ","da7f15cc-d2d7-11e8-b8ca-0279b2c6a380":"YGLZ","3dda676a-4ce0-4c4a-a56f-8bda50a8ef1f":"ZPJH"}},ansf:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("BGNQ"),s=n(o),l=a("z5TY"),d=n(l),u=a("kNGm"),c=(n(u),a("0AQX")),f=a("+VRO"),h=n(f),m=a("Qg39"),v=a("BUFe"),p=n(v),C=a("AupE"),y=n(C),_=a("bFc7"),g=n(_),b=a("FlCz"),w=n(b),I=a("hPJo"),D=n(I);t.default={data:function(){return{workInfo:{},orderInfo:{},warehouse:{},bomList:[],warehouseConfig:[]}},mixins:[h.default],components:{Cell:s.default,Group:d.default,RAction:p.default,workFlow:y.default,contactPart:g.default,BomList:w.default,WarehouseContent:D.default},filters:{timeSplit:function(e){return e?e.split(" ")[0]:""}},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,c.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.attachment,o=void 0===r?[]:r,s=t.formData,l=void 0===s?{}:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var d=l.order,u=void 0===d?{}:d,c=l.outPut,f=void 0===c?{}:c,h=f.dataSet,v=void 0===h?[]:h;e.warehouse=(0,i.default)({},e.warehouse,{containerCode:u.containerCode,storehouseInCode:u.storehouseInCode,warehouseInType:u.warehouseInType,warehouseAddress_containerCode:u.warehouseAddress_containerCode,warehouseAddress_storehouseInCode:u.warehouseAddress_storehouseInCode,warehouseName_containerCode:u.warehouseName_containerCode,warehouseName_storehouseInCode:u.warehouseName_storehouseInCode,warehouseType_containerCode:u.warehouseType_containerCode,warehouseType_storehouseInCode:u.warehouseType_storehouseInCode,containerInWarehouseManager:l.containerInWarehouseManager}),v.forEach(function(e){e.inventoryName=e.inventoryName_outPutMatCode,e.inventoryCode=e.outPutMatCode,e.bomQty=(0,m.toFixed)(e.bomQty)}),e.bomList=v,e.attachment=o,e.orderInfo=l,e.workInfo=l.order.dataSet[0],e.workFlowInfoHandler()})}}}},aoPF:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.action.add?a("div",{staticClass:"vux-1px-t btn"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[a("span",{staticClass:"icon-add"}),e._v(" "),a("span",[e._v("新增")])])]):e._e()},r=[],i={render:n,staticRenderFns:r};t.a=i},aofM:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){for(var a=e.length;a--;)if(e[a]===t)return!0;return!1}Object.defineProperty(t,"__esModule",{value:!0});var i=a("DEQU"),o=n(i),s=a("MPfS"),l=a("GM4P"),d=n(l);t.default={name:"radio",mixins:[o.default],filters:{getValue:s.getValue,getKey:s.getKey},props:(0,d.default)(),created:function(){this.handleChangeEvent=!0},methods:{getValue:s.getValue,getKey:s.getKey,onFocus:function(){this.currentValue=this.fillValue||"",this.isFocus=!0}},watch:{value:function(e){this.currentValue=e},currentValue:function(e){var t=r(this.options,e);""!==e&&t&&(this.fillValue=""),this.$emit("on-change",e,(0,s.getLabel)(this.options,e)),this.$emit("input",e)},fillValue:function(e){this.fillMode&&this.isFocus&&(this.currentValue=e)}},data:function(){return{fillValue:"",isFocus:!1,currentValue:this.value}}}},aofP:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("0AQX"),s=a("+VRO"),l=n(s),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),h=a("89pA"),m=n(h),v=a("hPJo"),p=n(v),C=a("3NX5"),y=n(C);t.default={data:function(){return{warehouseIn:{},formViewUniqueId:"064e455d-4277-473a-9e54-d9ae4b1f23be"}},mixins:[l.default],components:{workFlow:f.default,PopWarehouseList:m.default,RAction:u.default,WarehouseContent:p.default,MatterList:y.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,o.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=void 0===a?[]:a,r=t.formData,o=void 0===r?{}:r,s=o.inPut,l=void 0===s?{}:s,d=l.dataSet,u=!0,c=!1,f=void 0;try{for(var h,m=(0,i.default)(d);!(u=(h=m.next()).done);u=!0){var v=h.value;v.inventoryPic=v.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+v.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){c=!0,f=e}finally{try{!u&&m.return&&m.return()}finally{if(c)throw f}}e.warehouseIn={warehouseCode:l.containerCode,warehouseName:l.warehouseName_containerCode,warehouseType:l.warehouseType_containerCode,warehouseProvince:l.warehouseProvince_containerCode,warehouseCity:l.warehouseCity_containerCode,warehouseDistrict:l.warehouseDistrict_containerCode,warehouseAddress:l.warehouseAddress_containerCode},e.attachment=n,e.matterList=l.dataSet,e.orderInfo=o,e.workFlowInfoHandler()})}}}},apyC:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("3cXf"),s=n(o),l=a("4YfN"),d=n(l),u=a("HzJ8"),c=n(u),f=a("z5TY"),h=n(f),m=a("7g+Q"),v=(n(m),a("SAzG")),p=n(v),C=a("PzEQ"),y=n(C),_=a("u28h"),g=n(_),b=a("Pkp+"),w=n(b),I=a("+WR7"),D=n(I),x=a("lsbD"),P=n(x),S=a("omAI"),k=n(S),L=a("HyXB"),N=a("0AQX"),M=a("bKg5"),T=n(M);t.default={name:"ApplyCPXQForm",data:function(){return{listId:"f27a8921-6bb4-4256-a2a2-525dd34455f7",formViewUniqueId:"9a38a5ea-44f7-4dae-8c3c-d998987cfbcd",formData:{biId:"",biComment:""},biReferenceId:"",uploadStyle:{},showAuthorized:!1,currentAuthorized:{}}},mixins:[T.default],components:{Group:h.default,XInput:p.default,XTextarea:y.default,Datetime:g.default,RPicker:w.default,PopBaseinfo:D.default,OpButton:P.default,PopHandlerList:k.default},computed:{bugType:function(){return this.formData.bugType}},watch:{bugType:{handler:function(e){var t=this;if(e){var a="",n=!0,r=!1,i=void 0;try{for(var o,s=(0,c.default)(this.otherConfig);!(n=(o=s.next()).done);n=!0){var l=o.value;!function(n){if("bugType"===n.fieldCode){var r=!0,i=!1,o=void 0;try{for(var s,l=(0,c.default)(n.remoteData);!(r=(s=l.next()).done);r=!0){var d=s.value;if(d.name===e){a=d.type;break}}}catch(e){i=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw o}}}if("bugSubclass"===n.fieldCode){var u={url:n.dataSource.data.url,data:{value:a}};(0,L.requestData)(u).then(function(e){var a=e.tableContent,r=void 0===a?[]:a;null!=t.formData.bugSubclass?t.formData.bugSubclass=r[0].name:t.$set(t.formData,"bugSubclass",r[0].name),r.forEach(function(e){e.originValue=e.value,e.name=e[n.displayField],e.value=e[n.displayField]}),n.remoteData=r})}}(l)}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}}}}},methods:{getAuthorized:function(){this.showAuthorized=!0},selHandler:function(e){this.currentAuthorized=(0,d.default)({},e),this.formData.authorized=e.nickname},getDate:function(e,t){var a=this;this.$vux.datetime.show({confirmText:"确认",cancelText:"取消",onConfirm:function(n){if(null==e[t.fieldCode])return void a.$set(e,t.fieldCode,n);e[t.fieldCode]=n}})},save:function(){var e=this;for(var t in this.formData)"string"==typeof this.formData[t]&&this.formData[t].indexOf(" ")>=0&&(this.formData[t]=this.formData[t].replace(/\s/g,""));var a="";if(this.submitMatterField.every(function(t){return!!(t.hidden||t.allowBlank||e.formData[t.fieldCode])||(a=t.fieldLabel+"不能为空",!1)}),a)return void this.$vux.alert.show({content:a});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=e.formData,a=e.processCode.length?L.saveAndStartWf:L.submitAndCalc,n={biComment:"",listId:e.listId,formData:(0,s.default)((0,d.default)({handlerEntity:e.entity.dealerName},t))};e.biReferenceId&&(n.biReferenceId=e.biReferenceId),e.transCode&&(a=L.updateData),e.saveData(a,n)}})},getFormData:function(){var e=this;return(0,N.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.biReferenceId,s=void 0===o?"":o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=t.attachment,e.biReferenceId=s,e.handlerDefault={handle:i.handler,handlerName:i.handlerName,handlerRole:i.handlerRole,handlerRoleName:i.handlerRoleName,handlerUnit:i.handlerUnit,handlerUnitName:i.handlerUnitName},e.formData=(0,d.default)({},e.formData,i),e.$loading.hide()})},hasDraftData:function(){var e=this.formData;if(e.bugTitle||e.bugDescribe)return(0,i.default)({},"CPBUG_DATA",{formData:this.formData})}},created:function(){var e=sessionStorage.getItem("CPBUG_DATA");e&&(this.formData=JSON.parse(e).formData,sessionStorage.removeItem("CPBUG_DATA"))}}},aumL:function(e,t,a){"use strict";function n(e){a("zgYb")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a0Gq");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("8rBc"),s=a.n(o),l=a("Kbld"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-ee758664",null);t.default=c.exports},avU8:function(e,t){},ax7U:function(e,t,a){"use strict";function n(e){a("qapk")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("Z/7m");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("jJB5"),s=a.n(o),l=a("LjNg"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-bb386e76",null);t.default=c.exports},az0b:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("HzJ8"),s=n(o),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("PKHo"),f=n(c),h=a("zWMP"),m=a("BUFe"),v=n(m),p=a("AupE"),C=n(p),y=a("sUbJ"),_=n(y),g=a("FlCz"),b=n(g),w=a("d7ck"),I=n(w),D=a("MVgC"),x=n(D);t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",orderList:{},basicInfo:{},DuplicateBoms:[],UniqueBom:[],bomPopShow:!1,bom:{}}},mixins:[u.default,f.default],components:{workFlow:C.default,RAction:v.default,MatterItem:_.default,BomList:b.default,FormCell:I.default,BomPop:x.default},watch:{DuplicateBoms:{handler:function(e){var t=function(e,t){return e.inventoryCode===t.inventoryCode};this.UniqueBom=function(e){return e.reduce(function(e,a){return e.some(function(e){var n=t(e,a);return n&&(e.tdQty=(0,h.accAdd)(e.tdQty,a.tdQty)),n})||e.push(a),e},[])}(this.DuplicateBoms)}}},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},checkBom:function(e){this.bom=e,this.bomPopShow=!0},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u={};o.order;e.attachment=d;var c=o.inPut.dataSet,f=!0,m=!1,v=void 0;try{for(var p,C=(0,s.default)(c);!(f=(p=C.next()).done);f=!0){var y=p.value;if(y.inventoryPic=y.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+y.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),y.boms){var _=!0,g=!1,b=void 0;try{for(var w,I=(0,s.default)(y.boms);!(_=(w=I.next()).done);_=!0){var D=w.value;D.inventoryCode=D.transObjCode,D.warehouseName=D.warehouseName_containerCodeOut,D.warehouseCode=D.containerCodeOut,D.qtyStock=D.thenQtyStock,D.tdQty=(0,h.accSub)((0,h.accMul)(y.processQty,D.bomQty,1+D.bomSpecificLoss),D.lockQty)}}catch(e){g=!0,b=e}finally{try{!_&&I.return&&I.return()}finally{if(g)throw b}}}e.DuplicateBoms=e.DuplicateBoms.concat(JSON.parse((0,i.default)(y.boms))),u[y.transMatchedCode]||(u[y.transMatchedCode]=[]),u[y.transMatchedCode].push(y)}}catch(e){m=!0,v=e}finally{try{!f&&C.return&&C.return()}finally{if(m)throw v}}e.orderList=u,e.orderInfo=o,e.workFlowInfoHandler()})}}}},"b/Lx":function(e,t,a){"use strict";function n(e){a("OarE")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("74vp");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("Qesu"),s=a.n(o),l=a("K0B3"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-38f4d848",null);t.default=c.exports},b3pO:function(e,t){},b4Rw:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("rVsN"),i=n(r),o=a("lC5x"),s=n(o),l=a("IHPB"),d=n(l),u=a("3cXf"),c=n(u),f=a("J0Oq"),h=n(f),m=a("4YfN"),v=n(m),p=a("kNGm"),C=n(p),y=a("0AQX"),_=a("HyXB"),g=a("ak47"),b=n(g),w=a("GvUu"),I=n(w);t.default={data:function(){return{listId:"",transCode:"",RelatedAppList:[],swiper:null,taskType:""}},methods:{getAppExampleDetails:function(){var e=this;return(0,y.getAppExampleDetails)({transCode:this.transCode,listId:this.listId}).then(function(t){t.relevantItems.forEach(function(t){if(b.default[t.listId]){t.isrelated=!1,I.default[e.taskType]&&I.default[e.taskType][t.listId]&&(t.isrelated=!0);var a=t.content.map(function(e){return e.transCode}).join(",");e.RelatedAppList.push((0,v.default)({},t,{page:1,limit:10,defaultFilter:a,icon:t.icon?"/dist/"+t.icon:""}))}})})},getViewId:function(e){return(0,y.getListView)({listId:e}).then(function(e){return e[0].id})},getRelatedList:function(e){var t=this;return(0,h.default)(s.default.mark(function a(){var n,r,i,o,l,u,f,h,m,v;return s.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.listId,r=void 0===n?"":n,i=e.defaultFilter,o=void 0===i?"":i,l=e.page,u=void 0===l?1:l,f=e.limit,h=void 0===f?10:f,a.next=3,t.getViewId(r);case 3:return m=a.sent,v=[{property:"transCode",operator:"in",value:o}],a.abrupt("return",(0,_.getList)(m,{limit:h,page:u,start:(u-1)*h,filter:(0,c.default)(v)}).then(function(a){var n=a.dataCount,r=void 0===n?0:n,i=a.tableContent,o=void 0===i?[]:i;e.hasNext=r>(u-1)*h+o.length;var s=1===u?o:[].concat((0,d.default)(e.relatedList),(0,d.default)(o));t.$set(e,"relatedList",s)}));case 6:case"end":return a.stop()}},a,t)}))()},goDetail:function(e,t){var a=e.parentNav,n=e.listId;this.$router.push({path:"/detail/"+a+"/"+n,query:{name:t.transTypeName,transCode:t.transCode,fromRalted:!0}})},goRelation:function(e){var t=this.$route.query.uniqueId,a=e.parentNav,n=(e.file,e.transName);this.$router.push({path:"/fillform/"+a+"/"+fileName,query:{name:n,uniqueId:t,relationKey:this.transCode}})}},filters:{dateFormat:C.default},created:function(){var e=this;this.$loading.show(),this.listId=this.$route.params.listId,this.transCode=this.$route.query.transCode,this.transCode&&(this.taskType=this.transCode.split("_")[0]),(0,h.default)(s.default.mark(function t(){var a;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getAppExampleDetails();case 2:a=[],e.RelatedAppList.forEach(function(t){a.push(e.getRelatedList(t))}),i.default.all(a).then(function(){e.$nextTick(function(){e.swiper=new e.Swiper(".swiper_related",{slidesPerView:"auto",centeredSlides:!0,observer:!0,observeParents:!0})}),e.$loading.hide()});case 5:case"end":return t.stop()}},t,e)}))()}}},b8Y2:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("m-search",{on:{search:e.searchList}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.costList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.costList,function(t,n){return a("div",{key:n,staticClass:"each_mater box_sd",class:{selected:e.showSelIcon(t)},on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"mater_main"},[a("div",{staticClass:"cost_name"},[e._v(e._s(t.costName))]),e._v(" "),a("div",{staticClass:"cost_type"},[e._v(e._s(t.costType))]),e._v(" "),a("div",{staticClass:"cost_subject"},[e._v(e._s(t.costSubject))])])])}),0)],1)])],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},bBLw:function(e,t,a){"use strict";function n(e){a("y6sz")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("hX7J");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("WRWB"),s=a.n(o),l=a("qDzD"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-471a7262",null);t.default=c.exports},bFc7:function(e,t,a){"use strict";function n(e){a("BUzz")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("383K");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("LpND"),s=a.n(o),l=a("JQuy"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-1748dc06",null);t.default=c.exports},bH4i:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"childPage"},[a("div",{staticClass:"content"},[a("div",{staticClass:"each_property vux-1px-b "},[a("label",{staticClass:"required"},[e._v("职位名称:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.jobInfo.name,expression:"jobInfo.name"}],staticClass:"property_val",attrs:{type:"text"},domProps:{value:e.jobInfo.name},on:{input:function(t){t.target.composing||e.$set(e.jobInfo,"name",t.target.value)}}})]),e._v(" "),a("r-picker",{attrs:{title:"职位类型:",data:e.jobType,value:e.jobInfo.type,required:!0},model:{value:e.jobInfo.type,callback:function(t){e.$set(e.jobInfo,"type",t)},expression:"jobInfo.type"}}),e._v(" "),a("r-picker",{attrs:{title:"使用状态:",data:e.jobStatus,value:e.jobInfo.status},model:{value:e.jobInfo.status,callback:function(t){e.$set(e.jobInfo,"status",t)},expression:"jobInfo.status"}})],1),e._v(" "),a("div",{staticClass:"vux-1px-t btn",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"cfm_btn",domProps:{innerHTML:e._s(this.$route.query.id?"保存":"提交")},on:{click:e.save}})])])},r=[],i={render:n,staticRenderFns:r};t.a=i},bHLN:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("4YfN"),s=n(o),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),h=n(f),m=a("1KNX"),v=n(m),p=a("7biW"),C=n(p);t.default={name:"RPopup",props:{data:{type:Array,default:function(){return[]}},show:{type:Boolean,default:!1},defaultValue:{type:[Array,Object],default:function(){return{}}},filterList:{type:Array,default:function(){return[]}},multipart:{type:Boolean,default:!1},isFill:{type:Boolean,default:!0},options:{type:Object,default:function(){return{pullUpLoad:!0}}},hasNext:{type:Boolean,default:!0},judgeKeys:{type:Array,default:function(){return[]}}},components:{Icon:c.default,Popup:h.default,RScroll:v.default,RSearch:C.default},data:function(){return{showPop:!1,selItems:[],tmpItems:[]}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.multipart?(this.tmpItems=[].concat((0,d.default)(this.defaultValue)),this.selItems=[].concat((0,d.default)(this.defaultValue))):(this.tmpItems=[(0,s.default)({},this.defaultValue)],this.selItems=[(0,s.default)({},this.defaultValue)])},immediate:!0},data:{handler:function(e){this.finishPullUp()},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,d.default)(this.selItems)),this.$emit("input",!1),this.$event.$emit("shut-down-filter",!1)},findIndex:function(e,t){var a=this;return e.findIndex(function(e){var n=!1;return a.judgeKeys.every(function(a){return e[a]&&(n=e[a]===t[a]),n}),n})},showSelIcon:function(e){return-1!==this.findIndex(this.tmpItems,e)},selThis:function(e,t){if(!this.multipart)return this.showPop=!1,this.selItems=[(0,s.default)({},e)],this.tmpItems=[(0,s.default)({},e)],void this.$emit("on-select",(0,s.default)({},e));var a=this.tmpItems,n=this.findIndex(a,e);if(-1!==n)return void a.splice(n,1);a.push(e)},cfmMater:function(){this.showPop=!1,this.selItems=[].concat((0,d.default)(this.tmpItems)),this.$emit("on-select",JSON.parse((0,i.default)(this.selItems)))},searchList:function(e){this.$refs.bScroll.scrollTo(0,0),this.$emit("on-search",e)},delSelItem:function(e){var t=this.findIndex(this.selItems,e);-1!==t&&this.selItems.splice(t,1),this.tmpItems=[].concat((0,d.default)(this.selItems))},onPullingUp:function(){this.$emit("on-pulling-up")},finishPullUp:function(){var e=this;this.$refs.bScroll&&this.$nextTick(function(){e.$refs.bScroll.finishPullUp()})}},created:function(){}}},bI5q:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=(a("HyXB"),a("MjAd")),s=n(o);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}],listViewID:2331}},mixins:[s.default],methods:{goDetail:function(e,t){var a=this;if(!this.clickVisited){var n=e.transCode,r=this.$route.query.name,o=this.$route.params,s=o.folder,l=o.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,i.default)({},e)),setTimeout(function(){a.clickVisited=!1,a.$router.push({path:"/detail/"+s+"/"+l,query:{name:r,transCode:n}})},200)}}}}},bIpd:function(e,t){},bJ8o:function(e,t){},bKg5:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("lC5x"),i=n(r),o=a("IHPB"),s=n(o),l=a("ZLEe"),d=n(l),u=a("J0Oq"),c=n(u),f=a("Q+Ik"),h=n(f),m=a("A9zj"),v=n(m),p=a("KH7x"),C=n(p),y=a("rVsN"),_=n(y),g=a("3cXf"),b=n(g),w=a("4YfN"),I=n(w),D=a("HzJ8"),x=n(D),P=a("HyXB"),S=a("0AQX"),k=a("I8ug"),L=a("iR2W"),N=n(L),M=a("vHT0"),T=n(M),A=a("zWMP"),O=a("Qg39"),R=a("d3k1"),j=n(R),B=a("SFXC"),E=n(B),F=a("zlAJ"),U=n(F),$=a("Z5v5"),H=a("0o6b");t.default={data:function(){return{tdAmount:0,taxAmount:0,taxRate:.16,clientHeight:document.documentElement.clientHeight,viewId:"",listId:"",taskId:"",comment:"",uniqueId:"",biComment:"",transCode:"",businessKey:"",relationKey:"",processCode:"",biReferenceId:"",orderListTitle:"",formViewUniqueId:"",matterPopOrderTitle:"",matter:{},entity:{},btnInfo:{},dataIndexMap:{},dealerParams:{},matterParams:{},handlerDefault:{},matterEditConfig:{},actions:[],selItems:[],handleORG:[],filterList:[],attachment:[],otherConfig:[],dealerConfig:[],userRoleList:[],currentStage:[],matterPopConfig:[],baseinfoExtConfig:[],fundConfig:[],submitMatterField:[],modifyIndex:null,fillBscroll:null,isModify:!1,btnIsHide:!1,isResubmit:!1,showMatterPop:!1,showMaterielPop:!1,matterModifyClass:!1,formStatus:""}},components:{UploadFile:U.default,MatterItem:E.default},watch:{matter:{handler:function(e){this.calcMatter(e)},deep:!0},matterList:{handler:function(e){var t=0,a=0,n=!0,r=!1,i=void 0;try{for(var o,s=(0,x.default)(e);!(n=(o=s.next()).done);n=!0){var l=o.value;this.calcMatter(l),t=(0,O.toFixed)((0,A.accAdd)(t,l.tdAmount)),a=(0,O.toFixed)((0,A.accAdd)(a,l.taxAmount))}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}this.tdAmount=t,this.taxAmount=a},deep:!0}},filters:{numberComma:N.default,percent:function(e){return e||0===e?(0,A.accMul)(e,100)+"%":"无"}},methods:{selItem:function(e){this.formData=(0,I.default)({},this.formData,e)},showDelete:function(){this.matterModifyClass=!this.matterModifyClass,this.selItems=[]},getMatterModify:function(e,t){this.matter=JSON.parse((0,b.default)(e)),this.showMatterPop=!0,this.modifyIndex=t},shutDownModify:function(e){this.showMatterPop=e},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.matterList,this.modifyIndex,t)},getListId:function(e){var t=this;return new _.default(function(a){(0,S.getListId)(e).then(function(e){t.formViewUniqueId=e[0].uniqueId,a()})})},getUniqueId:function(e){var t=this;return new _.default(function(a){(0,S.isMyflow)({transCode:e}).then(function(e){var n=e.dataCount,r=e.tableContent,i=void 0===r?[]:r;if(n>0){var o=(0,C.default)(i,1),s=o[0],l=void 0===s?{}:s;t.taskId=l.taskId,1===l.isMyTask&&(t.uniqueId=l.viewId,t.formViewUniqueId=l.viewId,t.btnInfo=l,t.actions=l.actions&&l.actions.split(","))}var d=(0,C.default)(i,1),u=d[0],c=void 0===u?{}:u,f=(c.actions,c.isMyTask,c.taskId);t.taskId=f,a()})})},saveData:function(e,t){var a=this;e(t).then(function(e){a.$HandleLoad.hide();var t=e.success,n=void 0!==t&&t,r=e.message,i=void 0===r?"提交失败":r;n&&(i="提交成功",a.$emit("change",!0)),a.$vux.alert.show({content:i,onHide:function(){n&&a.judgePage()}})}).catch(function(e){a.$HandleLoad.hide()})},stopOrder:function(){var e=this;this.$vux.confirm.show({title:"温馨提示",content:"终止提交意味着此单将会失效，确认吗？",onConfirm:function(){e.$vux.confirm.prompt("",{title:"审批意见",onConfirm:function(t){e.$HandleLoad.show(),t&&(e.comment=t);var a={taskId:e.taskId,taskData:(0,b.default)({result:-1,transCode:e.transCode,comment:e.comment})};(0,P.commitTask)(a).then(function(t){e.$HandleLoad.hide();var a=t.success,n=void 0!==a&&a,r=t.message,i=void 0===r?"提交失败":r;n&&(i="终止成功",e.$emit("change",!0)),e.$vux.alert.show({content:i,onHide:function(){n&&e.judgePage()}})}).catch(function(t){e.$HandleLoad.hide()})}})}})},getBaseInfoData:function(){var e=this;(0,P.getBaseInfoData)().then(function(t){var a=t.handleORG,n=t.userRoleList,r=(0,v.default)(t,["handleORG","userRoleList"]);e.handleORG=a,e.userRoleList=n;var i=(0,C.default)(a,1),o=i[0],s=void 0===o?{}:o,l=(0,C.default)(n,1),d=l[0],u=void 0===d?{}:d,c={};c=e.formData.handler?{handler:e.formData.handler,handlerName:e.formData.handlerName,handlerUnit:e.formData.handlerUnit,handlerUnitName:e.formData.handlerUnitName,handlerRole:e.formData.handlerRole,handlerRoleName:e.formData.handlerRoleName,userCode:e.formData.userCode}:{handler:r.userId,handlerName:r.nickname,handlerUnit:s.groupId,handlerUnitName:s.groupName,handlerRole:u.roleId||"",handlerRoleName:u.roleName||"",userCode:r.userCode},e.matterParams.data&&void 0!==e.matterParams.data.groupId&&(e.matterParams.data.groupId=s.groupId),e.formData=(0,I.default)({},e.formData,c,{creator:c.handler,modifer:c.handler}),e.handlerDefault=c,e.$loading.hide()})},getMatPrice:function(){var e=this;this.matterList.forEach(function(t,a){t.price||(0,S.getSaleQuotePrice)({drDealerCode:e.dealerInfo.dealerCode,matCode:t.inventoryCode,noCount:1}).then(function(e){var a=e.tableContent,n=void 0===a?[]:a,r=(0,C.default)(n,1),i=r[0],o=void 0===i?{}:i;t.price=o.price})})},getProcess:function(){var e=this;return(0,P.getProcess)(this.listId).then(function(t){var a=(0,C.default)(t,1),n=a[0],r=void 0===n?{}:n;e.processCode=r.processCode||""})},getProcessStatus:function(){var e=this;return(0,P.getProcessStatus)(this.listId).then(function(t){var a=t.tableContent,n=!0,r=!1,i=void 0;try{for(var o,s=(0,x.default)(a);!(n=(o=s.next()).done);n=!0){var l=o.value;l.value=l.fieldVlaue,l.name=l.fieldVlaue}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}e.currentStage=a})},getFromStatus:function(){var e=this;return(0,P.getFromStatus)({transCode:this.transCode}).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;e.formStatus=n[0].status})},checkAmt:function(e,t,a){var n=(e.price,e.tdQty),r=e.taxRate,i=e.qtyBal,o=e.qtyStock,s=e.qtyBalance,l=e.assistQty,d=e.qtyStockBal,u=e.qtyOnline,c=e.qtyDownline;e[t]=Math.abs((0,O.toFixed)(a)),"tdQty"===t&&n&&(!d&&!o&&i&&n>i?e.tdQty=i:d&&n>d?e.tdQty=d:o&&n>o?e.tdQty=o:s&&n>s?e.tdQty=s:u&&c&&(l>=c&&l<=u?this.defineObjVal(e,e.otherField,e.otherField):this.defineObjVal(e,e.otherField,""))),r&&(e.taxRate=Math.abs((0,O.toFixed)(r)))},defineObjVal:function(e,t,a){for(var n in t)this.$set(e,n,a[n])},getFocus:function(e){event.currentTarget.select()},getDate:function(e,t){var a=this;this.$vux.datetime.show({confirmText:"确认",cancelText:"取消",onConfirm:function(n){if(null==e[t.fieldCode])return void a.$set(e,t.fieldCode,n);e[t.fieldCode]=n}})},onUploadFile:function(e){var t=e.biReferenceId;this.biReferenceId=t},listenBack:function(){var e=this;wx.ready(function(){wx.onHistoryBack&&wx.onHistoryBack(function(){return!e.onHistoryBack||e.onHistoryBack()})})},listenShare:function(){},judgePage:function(){if(1!==window.history.length)this.$router.go(-1);else{var e=this.$route.query.name,t=this.$route.params,a=t.folder,n=t.fileName;this.$router.replace({path:"/detail/"+a+"/"+n,query:{name:e,transCode:this.transCode}})}},getAppDetail:function(){var e=this;return(0,k.getAppDetail)(this.listId).then(function(t){var a=(0,C.default)(t,1),n=a[0],r=void 0===n?{}:n,i=(r.action,r.prefix);e.businessKey=i})},calcMatter:function(e){var t=Number(e.price)||0,a=e.tdQty||0,n=e.taxRate||0;e.assistQty=(0,O.toFixed)((0,A.accDiv)(a,e.assMeasureScale)),e.noTaxPrice=(0,O.toFixed)((0,A.accDiv)(t,(0,A.accAdd)(1,n)),6),e.tdAmount=(0,O.toFixed)((0,A.accMul)(t,e.assistQty)),e.taxAmount=(0,O.toFixed)((0,A.accMul)(e.assistQty,n,e.noTaxPrice)),e.noTaxAmount=(0,O.toFixed)((0,A.accSub)(e.tdAmount,e.taxAmount))},verifyData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a="",n=!0,r=!1,i=void 0;try{for(var o,s=(0,x.default)(e);!(n=(o=s.next()).done);n=!0){var l=o.value;if(!l.allowBlank&&!t[l.fieldCode]){console.log("缺失字段: ",l.fieldCode),a=l.fieldLabel+"不能为空";break}}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}return a},simpleCalcMatter:function(e){var t=Number(e.price)||0,a=e.tdQty||0,n=e.taxRate||0;e.noTaxAmount=(0,O.toFixed)((0,A.accMul)(t,a)),e.taxAmount=(0,O.toFixed)((0,A.accMul)(e.noTaxAmount,n)),e.tdAmount=(0,O.toFixed)((0,A.accAdd)(e.noTaxAmount,e.taxAmount))},splitConfig:function(e,t){var a=!0,n=!1,r=void 0;try{for(var i,o=(0,x.default)((0,h.default)(e));!(a=(i=o.next()).done);a=!0){var s=i.value,l=(0,C.default)(s,2),d=l[0],u=l[1];if("drDealerLabel"===u.fieldCode||"tdQty"===u.fieldCode||"qualityQty"===u.fieldCode||"qtyDownline"===u.fieldCode){t.property=e.slice(0,d),t.editPart=e.slice(d);break}}}catch(e){n=!0,r=e}finally{try{!a&&o.return&&o.return()}finally{if(n)throw r}}},getFormViewInfo:function(){var e=this;return(0,c.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,P.getFormViews)(e.listId).then(function(t){var a=!0,n=!1,r=void 0;try{for(var i,o=(0,x.default)(t);!(a=(i=o.next()).done);a=!0){var s=i.value;e.transCode&&"revise"===s.viewType?e.viewId=s.uniqueId:e.transCode||"submit"!==s.viewType||(e.viewId=s.uniqueId)}}catch(e){n=!0,r=e}finally{try{!a&&o.return&&o.return()}finally{if(n)throw r}}});case 2:return t.next=4,(0,P.getFormConfig)(e.viewId).then(function(t){var a=t.config,n=t.reconfig,r=void 0===n?{}:n,i=[];if(t.dataSource){var o=JSON.parse(JSON.parse(t.dataSource)[0].dataSource.source);if(o){i=o.cols;var l=o.url,u=o.params,c=(0,d.default)(u),f={url:l};if(c.length){var h={};c.forEach(function(t){return"whCode"===t&&e.warehouse.warehouseCode?void(h[t]=e.warehouse.warehouseCode):"dealerCode"===t&&e.dealerInfo.dealerCode?void(h[t]=e.dealerInfo.dealerCode):void(h[t]="text"===u[t].type?u[t].value:"")}),f.data=h}e.matterParams=f;var m=[];o.cols.forEach(function(t){if("inventoryCode"!==t.k||t.h||e.orderListTitle)if("transCode"!==t.k||t.h)e.orderListTitle="物料";else{if(t.v.includes("编码"))return void(e.orderListTitle=t.v.slice(0,t.v.indexOf("编码")));e.orderListTitle=t.v}else e.orderListTitle="物料";t.h||"inventoryName"===t.k||"transCode"===t.k||"invName"===t.k||m.push(t)}),e.matterPopConfig=m}}console.log(a);var v=[],p=[],C=[],y=[],_=[];a.forEach(function(t){if(t.formViewPartId){var a=r["_"+t.formViewPartId]||{};t.items=t.items&&t.items.map(function(e){var t=a[e.fieldCode]||{};return(0,I.default)({},e,t)})}t.hiddenInRun||t.isMultiple?!t.hiddenInRun&&t.isMultiple&&("order"!==t.name&&"outPut"!==t.name&&"inPut"!==t.name||(p=t.items,t.dataIndexMap&&(e.dataIndexMap=t.dataIndexMap))):("kh"!==t.name&&"inPut"!==t.name&&"baseinfoExt"!==t.name&&"gys"!==t.name||(v=[].concat((0,s.default)(v),(0,s.default)(t.items))),"pb"!==t.name&&"projectApproval"!==t.name&&"projectPlanTask"!==t.name&&"jobLog"!==t.name||(C=t.items),"baseinfoExt"===t.name&&(y=t.items),"order"===t.name&&(_=t.items))});var g=[],w=["dealerDebit","drDealerLabel","address_dealerDebit","dealerDebitContactPersonName","dealerDebitContactInformation","dealerCodeCredit","crDealerLabel","address_dealerCodeCredit","dealerCreditContactPersonName","dealerCreditContactInformation"];v.forEach(function(t){if(!t.hiddenInRun){if("r2Selector"===t.xtype&&t.dataSource&&"remoteData"===t.dataSource.type&&"project"!==t.fieldCode&&(e.dealerParams=e.handlerParams(t)),"r2Combo"===t.xtype&&t.dataSource&&"remoteData"===t.dataSource.type)(0,P.requestData)(e.handlerParams(t)).then(function(a){e.$set(t,"remoteData",a.tableContent)});else if("r2Combo"===t.xtype&&t.dataSource&&"staticData"===t.dataSource.type){var a=[],n=!0,r=!1,i=void 0;try{for(var o,s=(0,x.default)(t.dataSource.data);!(n=(o=s.next()).done);n=!0){var l=o.value;a.push({name:l})}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}e.$set(t,"remoteData",a)}w.includes(t.fieldCode)||g.push(t)}t.hiddenInRun&&t.r2Bind&&t.r2Bind.hidden&&g.push(t)}),e.dealerConfig=g;var D={property:[],editPart:[]},S=[];p.forEach(function(t,a){if(t.submitValue&&e.submitMatterField.push(t),i.length){var n=e.dataIndexMap[t.fieldCode],r=i.find(function(e){return e.k===n});t.hidden=n?!r||t.hidden:t.hidden}if(t.dataSource&&"remoteData"===t.dataSource.type){if("r2Selector"===t.editorType){"物料名称"===t.text||"物料编码"===t.text?e.orderListTitle="物料":"设施名称"===t.text?e.orderListTitle="设施":(console.log("text:",t.text),t.text.includes("编码")?e.orderListTitle=t.text.slice(0,t.text.indexOf("编码")):e.orderListTitle=t.text);var o=t.dataSource.data.url,s=t.dataSource.data.params,l=(0,d.default)(s),u={url:o};if(l.length){var c={};l.forEach(function(t){if("whCode"===t&&e.warehouse.warehouseCode)return void(c[t]=e.warehouse.warehouseCode);c[t]="text"===s[t].type?s[t].value:""}),u.data=c}e.matterParams=u}else if("r2Combo"===t.editorType){var f=t.dataSource.data.url,h=t.dataSource.data.params,m=(0,d.default)(h),v={url:f};if(m.length){var p={};m.forEach(function(e){p[e]=h[e].value}),v.data=p}(0,P.requestData)(v).then(function(e){var a=e.tableContent,n=void 0===a?[]:a,r=[];n.forEach(function(e){r.push(e.name)}),t.remoteData=[r]})}}else if(t.dataSource&&"staticData"===t.dataSource.type){var C=[];t.dataSource.data.forEach(function(e){C.push({name:e,value:e})}),e.$set(t,"remoteData",C)}if("r2Selector"===t.editorType){var y=JSON.parse((0,b.default)(t.dataSource.data.hFields));y.unshift("transCode","inventoryName","inventoryCode","specification","invName","matCode","facilityName","facilityCode","facilitySpecification");var _=JSON.parse((0,b.default)(t.proertyContext.dataSourceCols));y.forEach(function(t){_.forEach(function(a,n){if("transCode"===a.k&&(e.matterPopOrderTitle=a.v),a.k===t)return _.splice(n,1),n--,!1})}),e.matterPopConfig=_}if(t.dataSource&&"formData"===t.dataSource.type){if("string"==typeof t.dataSource.data.valueField){var g=t.dataSource.data.valueField.replace(/\[|]/g,"").split(/\"/),w=[];g.forEach(function(e){e&&w.push(e)}),t.dataSource.data.valueField=w}t.showFieldCode=t.dataSource.data.valueField[1]}(0,d.default)(e.dataIndexMap).length&&(t.showFieldCode=e.dataIndexMap[t.fieldCode]),t.hidden||"transCode"===t.valueField||"inventoryName"===t.valueField||"facilityName"===t.valueField||t.fieldCode.includes("inventoryName")||"transCode"===t.showFieldCode||"facilityName"===t.showFieldCode||"facilityCode"===t.showFieldCode||"facilitySpecification"===t.showFieldCode||S.push(t)}),S.length&&e.splitConfig(S,D),e.matterEditConfig=D;var k=[];C.forEach(function(t){t.submitValue&&e.submitMatterField.push(t),t.hiddenInRun||("r2MultiSelector"!==t.xtype&&"r2Combo"!==t.xtype&&"r2Selector"!==t.xtype||!t.dataSource||"remoteData"!==t.dataSource.type?"r2Combo"===t.xtype&&t.dataSource&&"staticData"===t.dataSource.type&&e.$set(t,"remoteData",t.dataSource.data):(t.requestParams=e.handlerParams(t),(0,P.requestData)(e.handlerParams(t)).then(function(a){a.tableContent&&(a.tableContent.forEach(function(e){e.originValue=e.value,e.name=e[t.displayField],e.value=e[t.displayField]}),e.$set(t,"remoteData",a.tableContent))})),k.push(t))}),e.otherConfig=k;var L=[];y.forEach(function(t){t.submitValue&&e.submitMatterField.push(t),t.hiddenInRun||("r2MultiSelector"!==t.xtype&&"r2Combo"!==t.xtype&&"r2Selector"!==t.xtype||!t.dataSource||"remoteData"!==t.dataSource.type?"r2Combo"===t.xtype&&t.dataSource&&"staticData"===t.dataSource.type&&e.$set(t,"remoteData",t.dataSource.data):(t.requestParams=e.handlerParams(t),(0,P.requestData)(e.handlerParams(t)).then(function(a){a.tableContent&&(a.tableContent.forEach(function(e){e.originValue=e.value,e.name=e[t.displayField],e.value=e[t.displayField]}),e.$set(t,"remoteData",a.tableContent))})),L.push(t))}),e.baseinfoExtConfig=L;var N=[];_.forEach(function(t){if(t.dataSource&&"formData"===t.dataSource.type){if("string"==typeof t.dataSource.data.valueField){var a=t.dataSource.data.valueField.replace(/\[|]/g,"").split(/\"/),n=[];a.forEach(function(e){e&&n.push(e)}),t.dataSource.data.valueField=n}t.showFieldCode=1===t.dataSource.data.valueField.length?t.dataSource.data.valueField[0]:t.dataSource.data.valueField[1]}t.submitValue&&e.submitMatterField.push(t),t.hiddenInRun||("r2MultiSelector"!==t.xtype&&"r2Combo"!==t.xtype&&"r2Selector"!==t.xtype||!t.dataSource||"remoteData"!==t.dataSource.type?"r2Combo"===t.xtype&&t.dataSource&&"staticData"===t.dataSource.type&&e.$set(t,"remoteData",t.dataSource.data):(t.requestParams=e.handlerParams(t),(0,P.requestData)(e.handlerParams(t)).then(function(a){a.tableContent&&(a.tableContent.forEach(function(e){e.originValue=e.value,e.name=e[t.displayField],e.value=e[t.displayField]}),e.$set(t,"remoteData",a.tableContent))})),N.push(t))}),e.fundConfig=N});case 4:case"end":return t.stop()}},t,e)}))()},handlerParams:function(e){var t=e.dataSource.data.url,a=e.dataSource.data.params,n=(0,d.default)(a),r={url:t};if(n.length){var i={};n.forEach(function(e){i[e]=a[e].value}),r.data=i}return r}},created:function(){var e=this;(0,$.register)();var t=this.$route.query,a=t.name,n=t.listId,r=t.transCode,o=t.isModify,s=void 0!==o&&o,l=t.relationKey;r&&(this.transCode=r),this.listId=n,this.isModify=s;var d=sessionStorage.getItem("ROSE_LOGIN_TOKEN");d&&(this.entity.dealerName=JSON.parse(d).entityId),(0,c.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getFormViewInfo();case 2:if(e.getProcess(),r||e.getBaseInfoData(),e.getProcessStatus(),e.getFromStatus(),e.getAppDetail(),e.initRequest&&e.initRequest(),e.getPaymentTerm&&e.getPaymentTerm(),e.getLogisticsTerms&&e.getLogisticsTerms(),!r){t.next=20;break}return e.isResubmit=!0,t.next=14,e.getListId(r);case 14:return t.next=16,e.getUniqueId(r);case 16:if(t.t0=e.getFormData,!t.t0){t.next=20;break}return t.next=20,e.getFormData();case 20:l&&(e.relationKey=l,e.getRelationData()),wx.ready(function(){var e={title:"创建新的"+a,desc:"点击创建新的"+a+"订单",imgUrl:"https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=2952407151,1992384149&fm=26&gp=0.jpg"};(0,H.shareContent)(e)});case 22:case"end":return t.stop()}},t,e)}))()},mounted:function(){var e=this;this.$nextTick(function(){e.fillBscroll=new T.default(e.$refs.fill,{click:!0})}),j.default.isAndroid&&(window.onresize=function(){e.clientHeight>document.documentElement.clientHeight?e.btnIsHide=!0:(e.btnIsHide=!1,"INPUT"!==document.activeElement.tagName&&"TEXTAREA"!==document.activeElement.tagName||document.activeElement.blur())})}}},bKgY:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("MgeX"),s=n(o),l=a("HzJ8"),d=n(l),u=a("ZLEe"),c=n(u),f=a("3cXf"),h=n(f),m=a("4YfN"),v=n(m),p=a("KH7x"),C=n(p),y=a("HXPS"),_=n(y),g=a("BGNQ"),b=n(g),w=a("7g+Q"),I=n(w),D=a("z5TY"),x=n(D),P=a("SAzG"),S=n(P),k=a("PzEQ"),L=n(k),N=a("+62G"),M=n(N),T=a("kNGm"),A=n(T),O=a("u28h"),R=n(O),j=a("0AQX"),B=a("HyXB"),E=a("bKg5"),F=n(E),U=a("BUFe"),$=n(U),H=a("VZtf"),V=n(H),q=a("y8YJ"),Q=n(q),Y=a("Pb67"),X=n(Y),G=a("yt3/"),W=n(G),z=a("89pA"),K=n(z),J=a("9cRV"),Z=n(J),ee=a("hLfv"),te=n(ee),ae=a("UrVB"),ne=n(ae),re=a("luHD"),ie=n(re),oe=a("vl8n"),se=n(oe),le=a("+WR7"),de=n(le),ue=a("Q67R"),ce=n(ue),fe=a("lsbD"),he=n(fe),me=a("F2L3"),ve=n(me),pe=(a("zWMP"),a("Qg39"));t.default={name:"ApplyXSTHForm",mixins:[F.default],directives:{TransferDom:M.default},components:{Icon:_.default,Cell:b.default,Popup:I.default,Group:x.default,XTextarea:L.default,XInput:S.default,RAction:$.default,RNumber:V.default,PopOrderList:X.default,PopDealerList:Q.default,PopSingleSelect:W.default,PopWarehouseList:K.default,PopEntityList:ne.default,PopMatter:ie.default,Datetime:R.default,RPicker:se.default,PopBaseinfo:de.default,PopMatterList:Z.default,DealerOtherPart:te.default,ApplyMatterPart:ce.default,OpButton:he.default,PopProjectList:ve.default},data:function(){return{filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"销售出库单",value:"transCode"}],orderList:{},showMaterielPop:!1,dealerInfo:{},formData:{drDealerLogisticsTerms:"",biComment:""},submitSuccess:!1,warehouse:{warehouseType:"一般部门仓",warehouseName:"不良品仓",warehouseCode:"BL0001"},warehouseStoreInfo:{},taxRate:.16,numMap:{},transCode:"",formViewUniqueId:"37d1a36b-826f-4c2c-88cb-5188eb8c32cb",biReferenceId:"",actions:[],taskId:"",matterList:[],project:{},tmpItems:{},matter:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,contactInfo:{},checkFieldList:[{key:"tdQty",message:"请填写本次出库数量"},{key:"price",message:"请填写单价"},{key:"taxRate",message:"请填写税率"}],showProjectPop:!1}},methods:{selDealer:function(e){var t=JSON.parse(e),a=(0,C.default)(t,1),n=a[0];this.dealerInfo=(0,v.default)({},n,{daysOfAccount:n.pamentDays,drDealerPaymentTerm:n.paymentTerm,drDealerLogisticsTerms:n.dealerLogisticsTerms}),this.dealerInfo.drDealerPaymentTerm=this.dealerInfo.paymentTerm,this.matterParams.data&&null!=this.matterParams.data.dealerCode&&(this.matterParams.data.dealerCode=this.dealerInfo.dealerCode,this.matterList=[],this.orderList={})},selContact:function(e){this.contactInfo=(0,v.default)({},e)},selWarehouse:function(e){this.warehouse=JSON.parse(e)},getStore:function(e){this.warehouseStoreInfo=(0,v.default)({},e),this.matterParams.data&&null!=this.matterParams.data.storehouseCode&&(this.matterParams.data.storehouseCode=this.warehouseStoreInfo.warehouseCode,this.matterList=[],this.orderList={})},getMatterModify:function(e,t,a){this.matter=JSON.parse((0,h.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.inventoryCode!==e.inventoryCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getMatter:function(){if(!this.dealerInfo.dealerCode)return void this.$vux.alert.show({content:"请选择客户"});this.showMaterielPop=!this.showMaterielPop},selMatter:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){var a=e.transCode+"_"+e.inventoryCode,r=e.transCode?e.transCode:"noCode",i=t.numMap[a]||{},o=i.tdQty,s=void 0===o?"":o,l=i.price,d=void 0===l?e.salesOutPrice:l,u=i.taxRate,c=void 0===u?e.taxRate:u,f=i.promDeliTime,h=(void 0===f&&(0,A.default)(e.promDeliTime,"YYYY-MM-DD"),i.thenQtyBal),m=void 0===h?e.salesOutQty:h;e.thenQtyBal=m,e.tdQty=s,e.price=d,e.taxRate=c,e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null,n[r]||(n[r]=[]),n[r].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t,a){var n=this.selItems,r=n.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode});if(-1!==r)return void n.splice(r,1);n.push(e)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,h.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,c.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],r=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});r>=0&&n.splice(r,1),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=!0,t=!1,a=void 0;try{for(var n,r=(0,d.default)((0,s.default)(this.orderList));!(e=(n=r.next()).done);e=!0){var i=n.value,o=!0,l=!1,u=void 0;try{for(var c,f=(0,d.default)(i);!(o=(c=f.next()).done);o=!0){var h=c.value;this.numMap[h.transCode+"_"+h.inventoryCode]=(0,v.default)({},h)}}catch(e){l=!0,u=e}finally{try{!o&&f.return&&f.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw a}}this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this,t="",a=[],n=[{key:"dealerInfo",childKey:"dealerCode",message:"客户"},{key:"warehouse",message:"仓库"},{key:"warehouseStoreInfo",childKey:"warehouseCode",message:"库位"}];t||n.every(function(a){return a.childKey&&!e[a.key][a.childKey]?(t="请选择"+a.message,!1):!!e[a.key]||(t="请选择"+a.message,!1)}),t||(0,c.default)(this.orderList).length||(t="请选择物料");var r=this.submitMatterField,o=!0,l=!1,u=void 0;try{for(var f,m=(0,d.default)((0,s.default)(this.orderList));!(o=(f=m.next()).done);o=!0){var p=f.value,C=!0,y=!1,_=void 0;try{for(var g,b=(0,d.default)(p);!(C=(g=b.next()).done);C=!0){var w=g.value,I={},D=!0,x=!1,P=void 0;try{for(var S,k=(0,d.default)(r);!(D=(S=k.next()).done);D=!0){var L=S.value,N=w[L.fieldCode]||w[L.displayField]||w[L.showFieldCode];if(!L.hidden&&!L.allowBlank&&!N){t=L.text+"不为空";break}I[L.fieldCode]=null!==N?void 0!==N?N:"":null}}catch(e){x=!0,P=e}finally{try{!D&&k.return&&k.return()}finally{if(x)throw P}}a.push(I)}}catch(e){y=!0,_=e}finally{try{!C&&b.return&&b.return()}finally{if(y)throw _}}}}catch(e){l=!0,u=e}finally{try{!o&&m.return&&m.return()}finally{if(l)throw u}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=B.saveAndStartWf,n={},r=(0,i.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});n=(0,v.default)({},e.formData,{dealerCreditContactPersonName:e.contactInfo.dealerName||"",dealerCreditContactInformation:e.contactInfo.dealerMobilePhone||"",containerInWarehouseManager:e.warehouse.containerOutWarehouseManager||null,handlerEntity:e.entity.dealerName,inPut:{dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName||"客户",containerCode:e.warehouse.warehouseCode,storehouseInCode:e.warehouseStoreInfo.warehouseCode,project:e.project.PROJECT_NAME,departmentName:e.formData.handlerUnitName,dataSet:a}}),e.transCode&&(t=B.saveAndCommitTask,r={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var o={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,h.default)(n),wfPara:(0,h.default)(r)};e.transCode||delete o.biReferenceId,e.processCode.length||(t=B.submitAndCalc,delete o.wfPara,delete o.biReferenceId),e.biReferenceId&&(o.biReferenceId=e.biReferenceId),e.saveData(t,o)}})},getFormData:function(){var e=this;return(0,j.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,s=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=s;var l={},u=i.inPut,c=void 0===u?{}:u,f=c.dataSet,h=void 0===f?[]:f,m=e.submitMatterField,p=!0,C=!1,y=void 0;try{for(var _,g=(0,d.default)(h);!(p=(_=g.next()).done);p=!0){var b=_.value,w=!0,I=!1,D=void 0;try{for(var x,P=(0,d.default)(m);!(w=(x=P.next()).done);w=!0){var S=x.value;b[S.displayField||S.showFieldCode||S.fieldCode]=b[S.fieldCode]}}catch(e){I=!0,D=e}finally{try{!w&&P.return&&P.return()}finally{if(I)throw D}}var k=b.transCode?b.transCode:"noCode";b.inventoryPic=b.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+b.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),b.specification=b.specification_transObjCode,b.measureUnit=b.measureUnit_transObjCode,l[k]||(l[k]=[]),l[k].push(b)}}catch(e){C=!0,y=e}finally{try{!p&&g.return&&g.return()}finally{if(C)throw y}}e.matterList=h,e.dealerInfo={dealerName:c.dealerName_dealerCodeCredit,dealerCode:c.dealerCodeCredit,dealerLabelName:c.crDealerLabel,province:c.province_dealerCodeCredit,city:c.city_dealerCodeCredit,county:c.county_dealerCodeCredit,address:c.address_dealerCodeCredit},e.contactInfo={dealerName:i.dealerCreditContactPersonName,dealerMobilePhone:i.dealerCreditContactInformation},e.warehouse={warehouseCode:c.containerCode,warehouseName:c.warehouseName_containerCode,warehouseType:c.warehouseType_containerCode,warehouseProvince:c.warehouseProvince_containerCode,warehouseCity:c.warehouseCity_containerCode,warehouseDistrict:c.warehouseDistrict_containerCode,warehouseAddress:c.warehouseAddress_containerCode,containerOutWarehouseManager:i.containerOutWarehouseManager},e.warehouseStoreInfo={warehouseCode:c.storehouseInCode,warehouseName:c.warehouseName_storehouseInCode,warehouseType:c.warehouseType_storehouseInCode,warehouseProvince:c.warehouseProvince_storehouseInCode,warehouseCity:c.warehouseCity_storehouseInCode,warehouseDistrict:c.warehouseDistrict_storehouseInCode,warehouseAddress:c.warehouseAddress_storehouseInCode},e.orderParams={dealerCode:e.dealerInfo.dealerCode,whCode:e.warehouse.warehouseCode},e.handlerDefault={handler:i.handler,handlerName:i.handlerName,handlerUnit:i.handlerUnit,handlerUnitName:i.handlerUnitName,handlerRole:i.handlerRole,handlerRoleName:i.handlerRoleName},e.matterParams.data={dealerCode:e.dealerInfo.dealerCode},e.formData=(0,v.default)({},e.formData,e.handlerDefault,{biComment:i.biComment,biId:i.biId,biProcessStatus:i.biProcessStatus,creator:i.creator,modifer:i.modifer,drDealerLogisticsTerms:i.drDealerLogisticsTerms}),e.project={PROJECT_NAME:c.project,PROJECT_TYPE:c.projectType_project},e.biReferenceId=i.biReferenceId,e.orderList=l,e.$loading.hide()})},hasDraftData:function(){var e;return!!(0,s.default)(this.orderList).length&&(0,i.default)({},"XSTH_DATA",(e={orderList:this.orderList,warehouse:this.warehouse,warehouseStoreInfo:this.warehouseStoreInfo,dealerInfo:this.dealerInfo,contactInfo:this.contactInfo,formData:this.formData},(0,i.default)(e,"warehouseStoreInfo",this.warehouseStoreInfo),(0,i.default)(e,"project",this.project),e))},getRelationData:function(){var e=this,t=this.$route.query.uniqueId;return(0,j.getSOList)({formViewUniqueId:t,transCode:this.relationKey}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r;t.attachment;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});i.order;e.dealerInfo={creatorName:i.dealerDebitContactPersonName,dealerMobilePhone:i.dealerDebitContactInformation,dealerCode:i.order.dealerDebit,dealerSubclass:i.order.drAccountSub,dealerName:i.order.dealerName_dealerDebit,province:i.order.province_dealerDebit,city:i.order.city_dealerDebit,county:i.order.county_dealerDebit,address:i.order.address_dealerDebit,paymentTerm:i.order.drDealerPaymentTerm},e.orderParams={dealerCode:e.dealerInfo.dealerCode},e.$loading.hide()})},selProject:function(e){this.project=(0,v.default)({},e)},checkAmt:function(e){var t=e.thenQtyBal,a=e.tdQty,n=e.price,r=e.taxRate;n&&(e.price=Math.abs((0,pe.toFixed)(n))),r&&(e.taxRate=Math.abs((0,pe.toFixed)(r))),a=Math.abs((0,pe.toFixed)(a)),t<a&&(a=t),e.tdQty=a}},created:function(){var e=sessionStorage.getItem("XSTH_DATA");if(e){var t=JSON.parse(e);this.orderList=t.orderList;var a=!0,n=!1,r=void 0;try{for(var i,o=(0,d.default)((0,s.default)(this.orderList));!(a=(i=o.next()).done);a=!0){var l=i.value,u=!0,c=!1,f=void 0;try{for(var h,m=(0,d.default)(l);!(u=(h=m.next()).done);u=!0){var v=h.value;this.matterList.push(v)}}catch(e){c=!0,f=e}finally{try{!u&&m.return&&m.return()}finally{if(c)throw f}}}}catch(e){n=!0,r=e}finally{try{!a&&o.return&&o.return()}finally{if(n)throw r}}this.warehouse=t.warehouse,this.warehouseStoreInfo=t.warehouseStoreInfo,this.dealerInfo=t.dealerInfo,this.contactInfo=t.contactInfo,this.formData=t.formData,this.warehouseStoreInfo=t.warehouseStoreInfo,this.project=t.project,sessionStorage.removeItem("XSTH_DATA")}}}},bLVl:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("kNGm"),s=n(o),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),h=a("AupE"),m=n(h),v=a("kKsb"),p=n(v),C=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",dealerInfo:{}}},mixins:[u.default],components:{workFlow:m.default,RAction:f.default,ProjectPart:p.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=t.formData,r=n.order,o=void 0===r?{}:r;e.attachment=a,e.dealerInfo={dealerName:o.dealerName_dealerCodeCredit,dealerCode:o.dealerCodeCredit,dealerLabelName:o.crDealerLabel,amntBal:o.thenAmntBalCopy2,thenTotalAmntBal:o.thenAlreadyAmnt};var l=n.order.dataSet,d=!0,u=!1,c=void 0;try{for(var f,h=(0,i.default)(l);!(d=(f=h.next()).done);d=!0){var m=f.value;e.count=(0,C.accAdd)(e.count,m.tdAmount)}}catch(e){u=!0,c=e}finally{try{!d&&h.return&&h.return()}finally{if(u)throw c}}t.formData.validUntil=(0,s.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},bOiH:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("3cXf"),s=n(o),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("7g+Q"),h=n(f),m=a("+62G"),v=n(m),p=a("z5TY"),C=n(p),y=a("SAzG"),_=n(y),g=a("7qeq"),b=(n(g),a("u28h")),w=n(b),I=a("PzEQ"),D=n(I),x=a("iR2W"),P=n(x),S=a("kNGm"),k=n(S),L=a("dyuG"),N=n(L),M=a("L6VY"),T=(n(M),a("jnZd")),A=n(T),O=a("0AQX"),R=a("HyXB"),j=a("bKg5"),B=n(j),E=a("vl8n"),F=n(E),U=a("y8YJ"),$=n(U),H=a("iikc"),V=n(H),q=a("+WR7"),Q=n(q),Y=a("Qg39");t.default={data:function(){return{listId:"32a2c333-02a3-416f-a133-95c7a32da678",showDealerPop:!1,dealerInfo:{},formData:{modifer:"",biId:"",dealerDebit:"",drDealerLabel:"",dealerDebitContactPersonName:"",dealerDebitContactInformation:"",opportunityTitle:"",comment:"",tdAmount:"",biProcessStatus:"",validUntil:"",salesPerson:"",salesChannels:[],categoryLabels:[],biComment:""},biReferenceId:"",categoryLabels:[],currentType:[],contactInfo:{}}},directives:{TransferDom:v.default},components:{Cell:c.default,Popup:h.default,Group:C.default,XInput:_.default,PopupPicker:A.default,Datetime:w.default,XTextarea:D.default,PopupRadio:N.default,RPicker:F.default,PopDealerList:$.default,PopSalesmanList:V.default,PopBaseinfo:Q.default},mixins:[B.default],filters:{numberComma:P.default},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],this.formData.dealerDebitContactPersonName=this.dealerInfo.creatorName||"",this.formData.dealerDebitContactInformation=this.dealerInfo.dealerMobilePhone,this.formData.drDealerLabel=this.dealerInfo.dealerLabelName,this.formData.dealerDebit=this.dealerInfo.dealerCode},selContact:function(e){var t=(0,d.default)({},e);this.contactInfo=t,this.formData.dealerDebitContactPersonName=t.dealerName||"",this.formData.dealerDebitContactInformation=t.dealerMobilePhone||""},submitOrder:function(){var e=this,t="",a=[{key:"opportunityTitle",message:"请填写商机标题"},{key:"tdAmount",message:"请填写预期销售额"}];if("{}"==(0,s.default)(this.dealerInfo)&&(t="请选择客户"),t||(this.otherConfig.every(function(a){return a.allowBlank||e.formData[a.fieldCode]?!(!a.allowBlank&&e.formData[a.fieldCode]<0)||(t="抱歉，销售额不允许为负数",!1):(t=a.message,!1)}),a.every(function(a){return e.formData[a.key]?!(e.formData[a.key]<0)||(t="抱歉，销售额不允许为负数",!1):(t=a.message,!1)})),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=R.saveAndStartWf,a=(0,d.default)({creator:e.formData.handler},e.formData,{salesChannels:e.formData.salesChannels,categoryLabels:e.formData.categoryLabels,modifer:e.formData.handler,handlerEntity:e.entity.dealerName}),n={listId:e.listId,biComment:"",formData:(0,s.default)(a),wfPara:(0,s.default)((0,i.default)({},e.processCode,{businessKey:e.businessKey,createdBy:a.creator}))};e.isResubmit&&(t=R.saveAndCommitTask,n.biReferenceId=e.biReferenceId,n.wfPara=(0,s.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=R.submitAndCalc,delete n.wfPara,delete n.biReferenceId),e.biReferenceId&&(n.biReferenceId=e.biReferenceId),e.saveData(t,n)}})},getFormData:function(){var e=this;return(0,O.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,s=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=s;i.order;e.dealerInfo={creatorName:i.dealerDebitContactPersonName||"",dealerName:i.dealerName_dealerDebit||"",dealerMobilePhone:i.dealerDebitContactInformation||"",dealerCode:i.dealerDebit||"",dealerLabelName:i.drDealerLabel||"客户",province:i.province_dealerDebit||"",city:i.city_dealerDebit||"",county:i.county_dealerDebit||"",address:i.address_dealerDebit||""},e.contactInfo={dealerName:i.dealerDebitContactPersonName||"",dealerMobilePhone:i.dealerDebitContactInformation||""},e.handlerDefault={handler:i.handler,handlerName:i.handlerName,handlerUnit:i.handlerUnit,handlerUnitName:i.handlerUnitName,handlerRole:i.handlerRole,handlerRoleName:i.handlerRoleName},e.formData=(0,d.default)({},e.formData,i,e.handlerDefault,{biComment:i.biComment,biId:i.biId,biProcessStatus:i.biProcessStatus,categoryLabels:[i.categoryLabels],salesChannels:[i.salesChannels],creator:i.creator,modifer:i.modifer,validUntil:(0,k.default)(i.validUntil,"YYYY-MM-DD")}),e.categoryLabels=[i.categoryLabels],e.biReferenceId=i.biReferenceId,e.$loading.hide()})},checkAmt:function(e){e&&(this.formData.tdAmount=Math.abs((0,Y.toFixed)(e)))},getTypeLabel:function(){var e=this;(0,R.getDictByType)("categoryLabels").then(function(t){var a=t.tableContent,n=void 0===a?[]:a,r=[];n.forEach(function(e){r.push(e.name)}),e.currentType.push(r)})},hasDraftData:function(){var e=this.formData;if(e.dealerDebit||e.opportunityTitle||e.tdAmount||e.biProcessStatus)return(0,i.default)({},"SJ_DATA",{formData:e,dealerInfo:this.dealerInfo,contactInfo:this.contactInfo,categoryLabels:this.categoryLabels})}},created:function(){var e=sessionStorage.getItem("SJ_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.contactInfo=t.contactInfo,this.categoryLabels=t.categoryLabels,sessionStorage.removeItem("SJ_DATA")}this.getTypeLabel()}}},bOud:function(e,t){},bOvy:function(e,t){},bPMh:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper gdrwqd-detail-container"},[e.orderInfo?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("warehouse-content",{attrs:{"warehouse-config":e.warehouseConfig}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_content"},[a("div",{staticClass:"main_content"},e._l(e.fundConfig,function(t,n){return a("div",{key:n,staticClass:"vux-1px-b"},["r2Datefield"===t.editorType?[a("div",{staticClass:"each_info"},[a("label",[e._v(e._s(t.fieldLabel))]),e._v(" "),a("span",{staticClass:"field_value"},[e._v(e._s(e._f("timeSplit")(e.workInfo[t.fieldCode])))])])]:[a("div",{staticClass:"each_info"},[a("label",[e._v(e._s(t.fieldLabel))]),e._v(" "),a("span",{staticClass:"field_value"},[e._v(e._s(e.workInfo[t.fieldCode]))])])]],2)}),0)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.bomList.length,expression:"bomList.length"}],staticClass:"bom_list"},[a("bom-list",{attrs:{boms:e.bomList},scopedSlots:e._u([{key:"specification",fn:function(t){var n=t.bom;return[a("div",{staticClass:"content-unit"},[a("span",[e._v("型号规格: "+e._s(n.specification_outPutMatCode))])])]}},{key:"number",fn:function(t){var n=t.bom;return[a("div",{staticClass:"number-part"},[a("span",{staticClass:"main-number"},[e._v("数量: "+e._s(n.tdQty)+e._s(n.measureUnit_outPutMatCode))]),e._v(" "),a("span",{staticClass:"number-unit"},[e._v("bom数量: "+e._s(n.bomQty))]),e._v(" "),a("span",{staticClass:"number-unit"},[e._v("损耗率: "+e._s(n.bomSpecificLoss))])])]}}])})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[],i={render:n,staticRenderFns:r};t.a=i},bRBF:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("m-search",{attrs:{filterList:e.filterList,isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.matterList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.matterList,function(t,n){return a("div",{key:n,staticClass:"each_mater box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"pop-info top"},[a("span",{staticClass:"info-item"},[e._v(e._s(t.popiCode))])]),e._v(" "),a("div",{staticClass:"pop-info"},[a("span",{staticClass:"info-item"},[e._v("采购订单号: "+e._s(t.poCode))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("价税合计: "+e._s(t.thenTotalAmntBal))])]),e._v(" "),a("div",{staticClass:"pop-info"},[a("span",{staticClass:"info-item"},[e._v("已核销: "+e._s(t.thenAlreadyAmnt))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("待核销: "+e._s(t.thenAmntBal))])]),e._v(" "),a("div",{staticClass:"pop-info"},[t.accountExpirationDate||0===t.accountExpirationDate?a("span",{staticClass:"info-item"},[e._v("账期到期日: "+e._s(t.accountExpirationDate))]):e._e(),e._v(" "),t.daysOfAccount||0===t.daysOfAccount?a("span",{staticClass:"info-item"},[e._v("账期天数: "+e._s(t.daysOfAccount))]):e._e(),e._v(" "),t.ageOfAging||0===t.ageOfAging?a("span",{staticClass:"info-item"},[e._v("账龄天数: "+e._s(t.ageOfAging))]):e._e()]),e._v(" "),a("div",{staticClass:"pop-info"},[t.accountRemaingDays||0===t.accountRemaingDays?a("span",{staticClass:"info-item"},[e._v("账期剩余天数: "+e._s(t.accountRemaingDays))]):e._e(),e._v(" "),a("span",{staticClass:"info-item"},[e._v("已收票: "+e._s(t.invoicing))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("待收票: "+e._s(t.invoiced))])]),e._v(" "),a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-circle-outline selIcon",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1),e._v(" "),a("div",{staticClass:"count_mode vux-1px-t"},[a("span",{staticClass:"count_num"},[e._v(" "+e._s(e.tmpItems.length?"已选 "+e.tmpItems.length+" 个":"请选择")+" ")]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.cfmMater}},[e._v("确定")])])])],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},bReN:function(e,t,a){"use strict";function n(e){a("EzdZ")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("8rv9");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("u3BI"),s=a.n(o),l=a("JKa/"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-6791d808",null);t.default=c.exports},bXy0:function(e,t){},bYoS:function(e,t,a){"use strict";function n(e){a("S4EA")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("g27m");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("w9YQ"),s=a.n(o),l=a("z/Aa"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-6154145a",null);t.default=c.exports},bZiz:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"vux-flexbox",class:{"vux-flex-col":"vertical"===e.orient,"vux-flex-row":"horizontal"===e.orient},style:e.styles},[e._t("default")],2)},r=[],i={render:n,staticRenderFns:r};t.a=i},beoG:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("3cXf"),s=n(o),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),h=n(f),m=a("kNGm"),v=(n(m),a("qE8w"),a("HyXB")),p=a("1KNX"),C=n(p),y=a("7biW"),_=n(y);t.default={name:"PopMatterListTest",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},isShowStock:{type:Boolean,default:!1},filterList:{type:Array,default:function(){return[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"}]}},config:{type:Array,default:function(){return[]}},orderTitle:{type:String,default:"单号"},matterParams:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:h.default,RScroll:C.default,MSearch:_.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],matterList:[],limit:100,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterProperty:"",requestMethods:null}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}},matterParams:{handler:function(e){this.resetCondition();var t=!0;if("[object Object]"===Object.prototype.toString.call(e.data)){for(var a in e.data)if(!e.data[a]){t=!1,this.hasNext=!1;break}t&&this.requestData()}else this.requestData()},deep:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,d.default)(this.selItems)),this.$emit("input",!1),this.$emit("shut-down-outsidePop",!1),this.$event.$emit("shut-down-filter",!1)},findIndex:function(e,t){return e.findIndex(function(e){var a=!0,n=!0;if(e.orderCode){if(n=e.orderCode===t.orderCode,e.inventoryCode)return n&&e.inventoryCode===t.inventoryCode;if(e.facilityCode)return n&&e.facilityCode===t.facilityCode}else if(e.transCode){if(a=e.transCode===t.transCode,e.inventoryCode)return e.salesOutCode?a&&e.salesOutCode===t.salesOutCode:a&&e.inventoryCode===t.inventoryCode;if(e.facilityCode)return a&&e.facilityCode===t.facilityCode}else{if(e.inventoryCode)return e.inventoryCode===t.inventoryCode;if(e.facilityCode)return e.facilityCode===t.facilityCode}})},showSelIcon:function(e){return-1!==this.findIndex(this.tmpItems,e)},selThis:function(e,t){if(this.isShowStock&&0===e.qtyStockBal)return void this.$vux.alert.show({content:"当前订单库存为0，请选择其他订单"});var a=this.tmpItems,n=this.findIndex(a,e);if(-1!==n)return void a.splice(n,1);a.push(e)},confirmMater:function(){this.showPop=!1,this.tmpItems.sort(function(e,t){return t.effectiveTime-e.effectiveTime}),this.selItems=[].concat((0,d.default)(this.tmpItems)),this.$emit("sel-matter",(0,s.default)(this.selItems))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},requestData:function(){var e=[];this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}]));var t=(0,i.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(e)},this.matterParams.data);return(0,v.requestData)({url:this.matterParams.url,data:t}).then(this.dataHandler)},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,r=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=r,this.resetCondition(),this.requestData()},delSelItem:function(e){var t=this.findIndex(this.selItems,e);-1!==t&&this.selItems.splice(t,1),this.tmpItems=[].concat((0,d.default)(this.selItems))},onPullingUp:function(){this.page++,this.requestData()},setDefaultValue:function(){this.tmpItems=[].concat((0,d.default)(this.defaultValue)),this.selItems=[].concat((0,d.default)(this.defaultValue))},dataHandler:function(e){var t=this,a=e.dataCount,n=void 0===a?0:a,r=e.tableContent,i=void 0===r?[]:r;i.forEach(function(e){e.inventoryPic=e.inventoryPic?"/H_roleplay-si/ds/download?url="+e.inventoryPic+"&width=400&height=400":t.getDefaultImg()});var o=this.$route.query.relationKey;(void 0===o?"":o)&&(this.selItems=[].concat((0,d.default)(i)),this.$emit("sel-matter",(0,s.default)(this.selItems))),this.hasNext=n>(this.page-1)*this.limit+i.length,this.matterList=1===this.page?i:[].concat((0,d.default)(this.matterList),(0,d.default)(i)),this.$nextTick(function(){t.$refs.bScroll.finishPullUp()})},resetCondition:function(){this.matterList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)}},created:function(){this.setDefaultValue()}}},bfYb:function(e,t){},bied:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"instance-item-wrapper",class:{visited:t.visited},on:{click:function(a){e.goDetail(t,n)}}},[a("div",{staticClass:"instance-summary"},[a("div",{staticClass:"instance-header"},[a("span",{staticClass:"instance_code vux-1px-l"},[e._v(e._s(t.transCode))]),e._v(" "),a("span",{staticClass:"instance_status",class:t.statusClass},[e._v(e._s(t.biStatus))])]),e._v(" "),a("div",{staticClass:"instance-top"},[a("span",{staticClass:"instance_dealer"},[e._v(e._s(t.dealerName))]),e._v(" "),a("span",{staticClass:"instance_process_status"},[e._v(e._s(t.biProcessStatus||"暂无流程"))])]),e._v(" "),a("div",{staticClass:"instance-amt-wrapper"},[a("div",{staticClass:"instance_amt"},[e._v("总支付￥"+e._s(e._f("numberComma")(t.count)))]),e._v(" "),a("div",{staticClass:"instance_count"},[e._v("共"+e._s(t.itemCount)+"笔")])])]),e._v(" "),a("div",{staticClass:"instance-detail vux-1px-t"},[e._l(t.detailItem,function(t,n){return a("div",{key:n,staticClass:"instance_detail_item"},[a("div",{staticClass:"instance_detail_code"},[e._v("入库单号: "+e._s(t.transMatchedCode))]),e._v(" "),a("div",{staticClass:"instance_detail_amt_wrapper"},[a("div",{staticClass:"instance_detail_amt_item"},[a("div",{staticClass:"instance_detail_amt"},[e._v("￥"+e._s(e._f("numberComma")(t.applicationAmount)))]),e._v(" "),a("div",{staticClass:"instance_detail_title"},[e._v("本次申请")])]),e._v(" "),a("div",{staticClass:"instance_detail_amt_item"},[a("div",{staticClass:"instance_detail_amt"},[e._v("￥"+e._s(e._f("numberComma")(t.tdAmount)))]),e._v(" "),a("div",{staticClass:"instance_detail_title"},[e._v("本次支付")])]),e._v(" "),a("div",{staticClass:"instance_detail_amt_item"},[a("div",{staticClass:"instance_detail_amt"},[e._v("￥"+e._s(e._f("numberComma")(t.differenceAmount)))]),e._v(" "),a("div",{staticClass:"instance_detail_title"},[e._v("余额")])])])])}),e._v(" "),a("div",{staticClass:"instance-bottom"},[a("div",{staticClass:"instance_bottom_item instance_handler"},[a("i",{staticClass:"icon icon-handler"}),e._v(" "),a("span",[e._v("经办人："+e._s(t.handlerName))])]),e._v(" "),a("div",{staticClass:"instance_bottom_item instance_mod_time"},[a("i",{staticClass:"icon icon-mod-time"}),e._v(" "),a("span",[e._v("修改时间："+e._s(e._f("dateFormat")(t.modTime,"YYYY-MM-DD HH:mm")))])])])],2)])}),0)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},bjWb:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("5VC7"),i=n(r),o=a("5Puw"),s=n(o),l=a("YkGp"),d=n(l),u=a("rHhR"),c=n(u),f=a("nVpM"),h=n(f),m=a("WVmE"),v=n(m),p=a("QMWr"),C=n(p),y=a("erBg"),_=n(y),g=a("fsDx"),b=n(g),w=a("iBgG"),I=n(w),D=a("OZZT"),x=n(D),P=a("qMm6"),S=n(P),k=a("GwOs"),L=n(k),N=a("An2j"),M=n(N),T=a("wNbs"),A=n(T),O=a("5cYO"),R=n(O),j=a("16Wp"),B=n(j),E=a("qwja"),F=n(E),U=a("0UVS"),$=n(U),H=a("bYoS"),V=n(H);t.default=[{path:"/home",name:"HOME",component:i.default,meta:{title:"首页",keepAlive:!0}},{path:"/commentList",name:"COMMENTLIST",component:B.default,meta:{title:"评论"}},{path:"/dashboard",name:"DASHBOARD",component:R.default,meta:{title:"仪表视图"}},{path:"/related/:listId",name:"RELATED",component:A.default,meta:{title:"相关实例"}},{path:"/list/:folder/:fileName",name:"LIST",component:x.default,meta:{title:"列表",keepAlive:!0}},{path:"/fillform/:folder/:fileName",name:"FILLFORM",component:S.default,meta:{title:"填写新内容"}},{path:"/detail/:folder/:fileName",name:"DETAIL",component:L.default,meta:{title:"订单详情",keepAlive:!0}},{path:"/workFlowFull",name:"WORKFLOWFULL",component:M.default,meta:{title:"工作流列表"}},{path:"/appDetail/:listId",name:"APPDETAIL",component:F.default,meta:{title:"应用详情"},children:[{path:"addLog",name:"ADDLOG",component:$.default,meta:{title:"新增日志"}},{path:"addAdminComment",name:"ADDADMINCOMMENT",component:V.default,meta:{title:"新增管理员评论"}}]},{path:"/adress",name:"ADRESS",component:s.default,meta:{title:"往来列表"},children:[{path:"edit_ads",name:"EDIT_ADS",component:d.default,meta:{title:"编辑往来"}},{path:"adressDetail",name:"ADRESSDETAL",component:c.default,meta:{title:"往来详情"}}]},{path:"/materlist",name:"MATERLIST",component:h.default,meta:{title:"物料列表"},children:[{path:"addMater",name:"ADDMATER",component:v.default,meta:{title:"新增物料"}},{path:"materDetail",name:"MATERDETAIL",component:C.default,meta:{title:"物料详情"}}]},{path:"/warehouse",name:"WAREHOUSE",component:_.default,meta:{title:"仓库列表"},children:[{path:"edit_warehouse",name:"EDIT_WAREHOUSE",component:b.default,meta:{title:"编辑仓库"}},{path:"warehouseDetail",name:"WAREHOUSEDETAIL",component:I.default,meta:{title:"仓库详情"}}]},{path:"/",redirect:"/home"},{path:"*",redirect:"/home"}]},bn51:function(e,t,a){"use strict";function n(e){a("3UMr")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("kmGt");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("fJPz"),s=a.n(o),l=a("W7Bz"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-59754fde",null);t.default=c.exports},bnXU:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("lC5x"),i=n(r),o=a("3cXf"),s=n(o),l=a("HzJ8"),d=n(l),u=a("J0Oq"),c=n(u),f=a("KH7x"),h=n(f),m=a("4YfN"),v=n(m),p=a("kNGm"),C=n(p),y=a("hFVz"),_=n(y),g=a("HyXB"),b=a("1KNX"),w=n(b),I=a("d7ck"),D=n(I);t.default={filters:{dateFormat:C.default,changeDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return"";"string"==typeof e&&(e=e.replace(/-/g,"/").replace(/\..*/g,""));var a="YYYY-MM-DD";return t&&(a="YYYY-MM-DD HH:mm:ss"),(0,C.default)(e,a)}},data:function(){return{listId:"c0375170-d537-4f23-8ed0-a79cf75f5b04",MatPic:"",uniqueId:"",transCode:"",dealer:{},baseinfo:{},formData:{},imgFileObj:{},dealerConfig:[],dealerDuplicateConfig:[]}},components:{RScroll:w.default,FormCell:D.default},methods:{findData:function(){var e=this;return _.default.getDealerInfo(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a,r=t.attachment,i=void 0===r?[]:r;e.formData=n,e.dealerDuplicateConfig.forEach(function(t){if(e.formData[t.name]&&!e.formData[t.name].length)return void(t.show=!1);t.show=!0});var o=n.baseinfo,s=void 0===o?{}:o,l=n.dealer,d=void 0===l?{}:l;switch(d.dealerStatus){case"1":d.dealerStatus="使用中";break;case"2":d.dealerStatus="未使用";break;case"0":d.dealerStatus="草稿";break;case"-1":d.dealerStatus="停用"}e.hasDefault=!0,e.baseinfo=(0,v.default)({},e.baseinfo,s),e.dealer=(0,v.default)({},e.dealer,d),e.biReferenceId=e.dealer.referenceId,e.dealer.dealerPic?e.MatPic="/H_roleplay-si/ds/download?url="+e.dealer.dealerPic+"&width=400&height=400":e.getDefaultImg();var u=i.filter(function(t){return t.attacthment===e.dealer.dealerPic}),c=(0,h.default)(u,1),f=c[0],m=void 0===f?{}:f;e.imgFileObj=m}).catch(function(t){e.$loading.hide(),e.$vux.alert.show({content:t.message})})},getDefaultImg:function(){this.MatPic=a("sUQx")},goEdit:function(){this.$router.push({path:"/adress/edit_ads",query:{transCode:this.transCode}})},getFormViewInfo:function(){var e=this;return(0,c.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,g.getFormViews)(e.listId).then(function(t){var a=!0,n=!1,r=void 0;try{for(var i,o=(0,d.default)(t);!(a=(i=o.next()).done);a=!0){var s=i.value;if("view"===s.viewType){e.uniqueId=s.uniqueId;break}}}catch(e){n=!0,r=e}finally{try{!a&&o.return&&o.return()}finally{if(n)throw r}}});case 2:return t.next=4,(0,g.getFormConfig)(e.uniqueId).then(function(t){var a=t.config,n=void 0===a?[]:a,r=[],i=[];n.forEach(function(e){e.isMultiple?i.push(JSON.parse((0,s.default)(e))):r=JSON.parse((0,s.default)(e.items))}),r.forEach(function(t){t.hiddenInRun||"dealerCode"!==t.fieldCode&&"dealerName"!==t.fieldCode&&"dealerPic"!==t.fieldCode&&"province"!==t.fieldCode&&"city"!==t.fieldCode&&"county"!==t.fieldCode&&"address"!==t.fieldCode&&"dealerStatus"!==t.fieldCode&&e.dealerConfig.push(t)}),e.dealerDuplicateConfig=i});case 4:case"end":return t.stop()}},t,e)}))()}},created:function(){var e=this;this.$loading.show();var t=this.$route.query;t.transCode&&(this.transCode=t.transCode,(0,c.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getFormViewInfo();case 2:return t.next=4,e.findData();case 4:e.$loading.hide();case 5:case"end":return t.stop()}},t,e)}))())}}},bpjJ:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("ZLEe"),s=n(o),l=a("3cXf"),d=n(l),u=a("4YfN"),c=n(u),f=a("KH7x"),h=n(f),m=a("MgeX"),v=n(m),p=a("HzJ8"),C=n(p),y=a("PzEQ"),_=n(y),g=a("SAzG"),b=n(g),w=a("BGNQ"),I=n(w),D=a("z5TY"),x=n(D),P=a("0AQX"),S=a("HyXB"),k=a("bKg5"),L=n(k),N=a("y8YJ"),M=n(N),T=a("89pA"),A=n(T),O=a("yt3/"),R=n(O),j=a("luHD"),B=n(j),E=a("hLfv"),F=n(E),U=a("VZtf"),$=n(U),H=a("vl8n"),V=n(H),q=a("+WR7"),Q=n(q),Y=a("Q67R"),X=n(Y),G=a("lsbD"),W=n(G),z=(a("zWMP"),a("Qg39"));t.default={data:function(){return{orderList:{},showDealerPop:!1,dealerInfo:{},formData:{biId:"",biComment:""},submitSuccess:!1,showWarehousePop:!1,warehouse:{warehouseType:"一般部门仓",warehouseName:"原料仓",warehouseCode:"MA0001"},warehouseStoreInfo:{},transCode:"",biReferenceId:"",actions:[],taskId:"",showMaterielPop:!1,showMatterPop:!1,modifyIndex:null,modifyKey:null,selItems:[],contactInfo:{},filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"订单号",value:"transCode"}],numMap:{}}},computed:{matterList:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var r,i=(0,C.default)((0,v.default)(this.orderList));!(t=(r=i.next()).done);t=!0){var o=r.value,s=!0,l=!1,d=void 0;try{for(var u,c=(0,C.default)(o);!(s=(u=c.next()).done);s=!0){var f=u.value;e.push(f)}}catch(e){l=!0,d=e}finally{try{!s&&c.return&&c.return()}finally{if(l)throw d}}}}catch(e){a=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(a)throw n}}return e}},components:{XTextarea:_.default,XInput:b.default,RNumber:$.default,Cell:I.default,Group:x.default,PopDealerList:M.default,PopWarehouseList:A.default,PopSingleSelect:R.default,PopMatter:B.default,RPicker:V.default,PopBaseinfo:Q.default,DealerOtherPart:F.default,ApplyMatterPart:X.default,OpButton:W.default},mixins:[L.default],methods:{selDealer:function(e){var t=JSON.parse(e),a=(0,h.default)(t,1),n=a[0];this.dealerInfo=n,this.dealerInfo.drDealerPaymentTerm=this.dealerInfo.paymentTerm,this.matterParams.data&&null!=this.matterParams.data.dealerCode&&(this.matterParams.data.dealerCode=this.dealerInfo.dealerCode,this.orderList={})},selContact:function(e){this.contactInfo=(0,c.default)({},e)},selWarehouse:function(e){this.warehouse=JSON.parse(e),null!=this.matterParams.data.whCode&&(this.matterParams.data.whCode=this.warehouse.warehouseCode,this.orderList={})},getStore:function(e){this.warehouseStoreInfo=(0,c.default)({},e),this.matterParams.data&&null!=this.matterParams.data.storehouseCode&&(this.matterParams.data.storehouseCode=this.warehouseStoreInfo.warehouseCode,this.orderList={})},selMatter:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){var a=e.transCode+"_"+e.inventoryCode,r=e.transCode?e.transCode:"noCode",i=t.numMap[a]||{},o=i.tdQty,s=void 0===o?"":o,l=i.price,d=void 0===l?e.price:l,u=i.taxRate,c=void 0===u?e.taxRate||t.taxRate:u;e.tdQty=s,e.price=d,e.taxRate=c,e.tdProcessing=e.processing,e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null,n[r]||(n[r]=[]),n[r].push(e)}),this.orderList=n},getMatterModify:function(e,t,a){this.matter=JSON.parse((0,d.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t)},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},findIndex:function(e,t){return e.findIndex(function(e){return e.inventoryCode===t.inventoryCode&&e.transCode===t.transCode})},delClick:function(e,t,a){var n=this.selItems,r=this.findIndex(n,e);if(-1!==r)return void n.splice(r,1);n.push(e)},showSelIcon:function(e){return-1!==this.findIndex(this.selItems,e)},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,d.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t={};e.matterList.filter(function(t,a){return-1===e.findIndex(e.selItems,t)}).forEach(function(e){var a=e.transCode?e.transCode:"noCode";t[a]||(t[a]=[]),t[a].push(e)}),e.orderList=t,e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=!0,t=!1,a=void 0;try{for(var n,r=(0,C.default)((0,v.default)(this.orderList));!(e=(n=r.next()).done);e=!0){var i=n.value,o=!0,s=!1,l=void 0;try{for(var d,u=(0,C.default)(i);!(o=(d=u.next()).done);o=!0){var f=d.value;this.numMap[f.transCode+"_"+f.inventoryCode]=(0,c.default)({},f)}}catch(e){s=!0,l=e}finally{try{!o&&u.return&&u.return()}finally{if(s)throw l}}}}catch(e){t=!0,a=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw a}}this.showMaterielPop=!this.showMaterielPop},checkAmt:function(e,t,a){var n=e.storehouseQtyBal;switch(a=Math.abs((0,z.toFixed)(a)),t){case"tdQty":n&&a>n&&(a=n)}e[t]=a},submitOrder:function(){var e=this,t="",a=[],n=[{key:"dealerInfo",childKey:"dealerCode",message:"供应商信息"},{key:"dealerInfo",childKey:"drDealerPaymentTerm",message:"结算方式"},{key:"warehouse",message:"仓库"},{key:"warehouseStoreInfo",childKey:"warehouseCode",message:"库位"}],r=this.submitMatterField;n.every(function(a){return a.childKey&&!e[a.key][a.childKey]?(t="请选择"+a.message,!1):!!e[a.key]||(t="请选择"+a.message,!1)}),t||(0,s.default)(this.orderList).length||(t="请选择物料");var o=!0,l=!1,u=void 0;try{for(var f,h=(0,C.default)((0,v.default)(this.orderList));!(o=(f=h.next()).done);o=!0){var m=f.value,p=!0,y=!1,_=void 0;try{for(var g,b=(0,C.default)(m);!(p=(g=b.next()).done);p=!0){var w=g.value,I={},D=!0,x=!1,P=void 0;try{for(var k,L=(0,C.default)(r);!(D=(k=L.next()).done);D=!0){var N=k.value,M=w[N.fieldCode]||w[N.displayField]||w[N.showFieldCode];if(!N.hidden&&!N.allowBlank&&!M){t=N.text+"不为空";break}I[N.fieldCode]=null!==M?void 0!==M?M:"":null}}catch(e){x=!0,P=e}finally{try{!D&&L.return&&L.return()}finally{if(x)throw P}}a.push(I)}}catch(e){y=!0,_=e}finally{try{!p&&b.return&&b.return()}finally{if(y)throw _}}}}catch(e){l=!0,u=e}finally{try{!o&&h.return&&h.return()}finally{if(l)throw u}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=S.saveAndStartWf,n={},r=(0,i.default)({},e.processCode,{businessKey:e.businessKey,createdBy:e.formData.handler});n=(0,c.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",dealerDebitContactPersonName:e.contactInfo.dealerName||"",dealerDebitContactInformation:e.contactInfo.dealerMobilePhone||"",containerOutWarehouseManager:e.warehouse.containerInWarehouseManager||null,outPut:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName||"供应商",drDealerPaymentTerm:e.dealerInfo.drDealerPaymentTerm,containerCodeOut:e.warehouse.warehouseCode,storehouseOutCode:e.warehouseStoreInfo.warehouseCode,dataSet:a}}),e.transCode&&(t=S.saveAndCommitTask,r={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var o={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,d.default)(n),wfPara:(0,d.default)(r)};e.transCode||delete o.biReferenceId,e.processCode.length||(t=S.submitAndCalc,delete o.wfPara,delete o.biReferenceId),e.biReferenceId&&(o.biReferenceId=e.biReferenceId),e.saveData(t,o)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,s=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=s;var l={},d=i.outPut,u=(i.dealerDebit,d.dataSet),f=void 0===u?[]:u,h=e.submitMatterField,m=!0,v=!1,p=void 0;try{for(var y,_=(0,C.default)(f);!(m=(y=_.next()).done);m=!0){var g=y.value,b=g.orderCode?g.orderCode:"noCode",w=!0,I=!1,D=void 0;try{for(var x,P=(0,C.default)(h);!(w=(x=P.next()).done);w=!0){var S=x.value;g[S.displayField||S.showFieldCode||S.fieldCode]=g[S.fieldCode]}}catch(e){I=!0,D=e}finally{try{!w&&P.return&&P.return()}finally{if(I)throw D}}g.inventoryPic=g.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+g.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),g.processing=g.tdProcessing,g.inventoryName=g.inventoryName_outPutMatCode,g.specification=g.specification_outPutMatCode,g.measureUnit=g.measureUnit_outPutMatCode,delete g.orderCode,l[b]||(l[b]=[]),l[b].push(g)}}catch(e){v=!0,p=e}finally{try{!m&&_.return&&_.return()}finally{if(v)throw p}}e.dealerInfo={creatorName:i.dealerName_dealerDebit,dealerName:d.dealerName_dealerDebit,dealerMobilePhone:i.dealerDebitContactInformation,dealerDebitContactPersonName:i.dealerDebitContactPersonName,dealerCode:d.dealerDebit,paymentTerm:d.drDealerPaymentTerm,drDealerPaymentTerm:d.drDealerPaymentTerm,dealerLabelName:d.drDealerLabel,province:d.province_dealerDebit,city:d.city_dealerDebit,county:d.county_dealerDebit,address:d.address_dealerDebit},e.contactInfo={dealerName:i.dealerDebitContactPersonName,dealerMobilePhone:i.dealerDebitContactInformation},e.warehouse={warehouseCode:d.containerCodeOut,warehouseName:d.warehouseName_containerCodeOut,warehouseType:d.warehouseType_containerCodeOut,warehouseProvince:d.warehouseProvince_containerCodeOut,warehouseCity:d.warehouseCity_containerCodeOut,warehouseDistrict:d.warehouseDistrict_containerCodeOut,warehouseAddress:d.warehouseAddress_containerCodeOut,containerInWarehouseManager:d.containerInWarehouseManagerOut},e.warehouseStoreInfo={warehouseCode:d.storehouseOutCode,warehouseName:d.warehouseName_storehouseOutCode,warehouseType:d.warehouseType_containerCodeOut,warehouseProvince:d.warehouseProvince_containerCodeOut,warehouseCity:d.warehouseCity_containerCodeOut,warehouseDistrict:d.warehouseDistrict_containerCodeOut,warehouseAddress:d.warehouseAddress_containerCodeOut},e.matterParams.data={dealerCode:e.dealerInfo.dealerCode,whCode:e.warehouse.warehouseCode,storehouseCode:e.warehouseStoreInfo.warehouseCode},e.handlerDefault={handler:i.handler,handlerName:i.handlerName,handlerUnit:i.handlerUnit,handlerUnitName:i.handlerUnitName,handlerRole:i.handlerRole,handlerRoleName:i.handlerRoleName},e.formData=(0,c.default)({},e.formData,e.handlerDefault,{biComment:i.biComment,biId:i.biId,biProcessStatus:i.biProcessStatus,creator:i.creator,modifer:i.modifer}),e.biReferenceId=i.biReferenceId,e.orderList=l,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,i.default)({},"CGTHCK_DATA",{dealer:this.dealerInfo,contactInfo:this.contactInfo,warehouse:this.warehouse,warehouseStoreInfo:this.warehouseStoreInfo,formData:this.formData,orderList:this.orderList})},getRelationData:function(){var e=this,t=this.$route.query.uniqueId;return(0,P.getSOList)({formViewUniqueId:t,transCode:this.relationKey}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r;t.attachment;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var s=o.inPut,l=s.dataSet,d=void 0===l?[]:l;d=d.map(function(t){return(0,c.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,transCode:e.relationKey,qtyBal:t.tdQty,tdQty:""})}),e.dealerInfo={creatorName:o.dealerCreditContactPersonName,dealerName:outPut.dealerName_dealerCodeCredit,dealerMobilePhone:o.dealerCreditContactInformation,dealerCode:outPut.dealerCode_dealerCodeCredit,dealerLabelName:outPut.crDealerLabel,province:outPut.province_dealerCodeCredit,city:outPut.city_dealerCodeCredit,county:outPut.county_dealerCodeCredit,address:outPut.address_dealerCodeCredit},e.matterParams={dealerCode:e.dealerInfo.dealerCode},e.orderList=(0,i.default)({},e.relationKey,d),e.DealerPaymentTerm=o.drDealerPaymentTerm||"现付",e.$loading.hide()})}},created:function(){var e=sessionStorage.getItem("CGTHCK_DATA");if(e){var t=JSON.parse(e);this.orderList=t.orderList,this.dealerInfo=t.dealer,this.contactInfo=t.contactInfo,this.warehouse=t.warehouse,this.warehouseStoreInfo=t.warehouseStoreInfo,this.formData=t.formData,sessionStorage.removeItem("CGTHCK_DATA")}}}},bwty:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a(e.currentComponent,{ref:"fillPage",tag:"component",on:{"sel-data":e.selData,change:e.modifyRoute}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},bxBr:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{staticClass:"detail_content"},[a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("职位名称:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.jobInfo.name))])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("职位类型:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v("\n         "+e._s(e.jobInfo.type)+"\n      ")])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("创建者:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.jobInfo.creator||"无"))])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("创建时间:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.jobInfo.crtTime||"无"))])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("修改者:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.jobInfo.modifier||"无"))])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("修改时间:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.jobInfo.modTime||"无"))])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("职位状态:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.jobInfo.status))])])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},bxyf:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("4YfN"),s=n(o),l=a("KH7x"),d=n(l),u=a("3cXf"),c=n(u),f=a("0AQX"),h=a("+VRO"),m=n(h),v=a("BUFe"),p=n(v),C=a("AupE"),y=n(C),_=a("bFc7"),g=n(_),b=a("6WeX"),w=n(b),I=a("3NX5"),D=n(I),x=a("zWMP");a("Qg39");t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"",contactInfo:{},orderList:{}}},computed:{hasAdvance:function(){var e=this.contactInfo.payment;return e&&e.includes("预收")}},components:{workFlow:y.default,RAction:p.default,contactPart:g.default,PriceTotal:w.default,MatterList:D.default},mixins:[m.default],methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,f.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(e.submitInfo=JSON.parse((0,c.default)(t)),!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a={},n=t.attachment,r=void 0===n?[]:n,o=t.formData,l=void 0===o?{}:o,u=l.inPut,f=void 0===u?{}:u,h=l.order,m=void 0===h?{}:h,v=(0,d.default)(f.dataSet,1),p=v[0],C=void 0===p?{}:p,y=l.order.dataSet,_=!0,g=!1,b=void 0;try{for(var w,I=(0,i.default)(y);!(_=(w=I.next()).done);_=!0){var D=w.value;e.count=(0,x.accAdd)(e.count,D.tdAmount),D.inventoryPic=D.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+D.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),a[D.transMatchedCode]||(a[D.transMatchedCode]=[]),a[D.transMatchedCode].push(D)}}catch(e){g=!0,b=e}finally{try{!_&&I.return&&I.return()}finally{if(g)throw b}}e.orderList=a,e.attachment=r,e.orderInfo=(0,s.default)({},C,l,m),e.contactInfo={creatorName:C.dealerDebitContactPersonName,dealerName:C.dealerName_dealerDebit,dealerMobilePhone:l.dealerDebitContactInformation,dealerContactPersonName:l.dealerDebitContactPersonName,dealerCode:C.dealerDebit,dealerLabelName:C.drDealerLabel,province:C.province_dealerDebit,city:C.city_dealerDebit,county:C.county_dealerDebit,address:C.address_dealerDebit},e.workFlowInfoHandler()})},judgeDealerConfig:function(e){var t=this.orderInfo.drDealerPaymentTerm.includes("预收"),a=["advancePaymentDueDate","tdAmountCopy1"];e.forEach(function(e){a.includes(e.fieldCode)&&(e.hiddenInRun=!t)})}}}},c3IV:function(e,t){},c3Wr:function(e,t,a){"use strict";function n(e){a("JUrh")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("nYup");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("gPpb"),s=a.n(o),l=a("fVUX"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-4b57ae58",null);t.default=c.exports},c52i:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper nbjdgg-detail-container"},[e.orderInfo&&e.orderInfo.inPut?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("warehouse-content",{attrs:{warehouse:e.warehouseIn,"warehouse-out":e.warehouseOut}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"order-list":e.orderList,"order-title":e.orderTitle},on:{"on-show-more":e.onShowMore}}),e._v(" "),a("other-part",{attrs:{"other-info":e.orderInfo,attachment:e.attachment}}),e._v(" "),a("pop-matter-detail",{attrs:{show:e.showMatterDetail,item:e.matterDetail},model:{value:e.showMatterDetail,callback:function(t){e.showMatterDetail=t},expression:"showMatterDetail"}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[],i={render:n,staticRenderFns:r};t.a=i},c52p:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,"dealer-params":e.dealerParams,dealerTitle:"供应商",defaultContact:e.contactInfo},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("dealer-other-part",{attrs:{"dealer-config":e.dealerConfig,"dealer-info":e.dealerInfo},model:{value:e.dealerInfo,callback:function(t){e.dealerInfo=t},expression:"dealerInfo"}}),e._v(" "),a("pop-warehouse-list",{attrs:{isRequired:"","default-value":e.warehouse,"default-store":e.warehouseStoreInfo,"is-show-store":""},on:{"sel-item":e.selWarehouse,"get-store":e.getStore}}),e._v(" "),a("apply-matter-part",{attrs:{"show-materiel-pop":e.showMaterielPop,"show-matter-pop":e.showMatterPop,"filter-list":e.filterList,actions:e.actions,btnInfo:e.btnInfo,"matter-list":e.orderList,"default-value":e.matterList,"matter-pop-config":e.matterPopConfig,"matter-edit-config":e.matterEditConfig,"order-list-title":e.orderListTitle,"matter-params":e.matterParams,"add-matter-fn":e.addMatter,"sel-matter-fn":e.selMatter,"sel-items":e.selItems,"matter-modify-class":e.matterModifyClass,"stop-order-fn":e.stopOrder,"get-matter-modify-fn":e.getMatterModify,"show-delete-fn":e.showDelete,"show-sel-icon-fn":e.showSelIcon,"del-click-fn":e.delClick,"chosen-matter":e.matter,"check-amt-fn":e.checkAmt,"sel-confirm-fn":e.selConfirm,"btn-is-hide":e.btnIsHide,maxField:"storehouseQtyBal"},on:{"show-down-modify-pop":e.shutDownModify},model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("op-button",{attrs:{"is-modify":e.matterModifyClass,hide:e.btnIsHide,"td-amount":e.tdAmount,"tax-amount":e.taxAmount,"all-check":e.selItems.length===e.matterList.length},on:{"on-submit":e.submitOrder,"on-check-all":e.checkAll,"on-delete":e.deleteCheckd}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},"c6/O":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("HyXB"),a("MjAd")),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2243,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}]}},mixins:[r.default],methods:{},created:function(){}}},c6WW:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("IHPB"),s=n(o),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),h=n(f),m=a("I3vJ"),v=a("1KNX"),p=n(v),C=a("7biW"),y=n(C);t.default={name:"PopProcedureList",props:{defaultValue:{type:Object,default:function(){return{}}},required:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"}},components:{Icon:c.default,Popup:h.default,RScroll:p.default,RSearch:y.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:100,page:1,hasNext:!0,scrollOptions:{pullUpLoad:!0},filterProperty:"",filterList:[{name:"名称",value:"procedureName"},{name:"编码",value:"procedureCode"}]}},watch:{defaultValue:{handler:function(e){this.selItems=(0,d.default)({},this.defaultValue)},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},showSelIcon:function(e){return this.selItems.procedureCode===e.procedureCode},selThis:function(e,t){this.selItems=(0,d.default)({},e),this.showPop=!1,this.$emit("sel-item",(0,d.default)({},e))},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,s.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,m.getUsingProcedure)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,i.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+i.length,e.listData=1===e.page?i:[].concat((0,s.default)(e.listData),(0,s.default)(i)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,r=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=r,this.resetCondition(),this.getList()},onPullingUp:function(){this.page++,this.getList()},resetCondition:function(){this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)}},created:function(){this.getList()}}},c6ZO:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("4YfN"),s=n(o),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),h=n(f),m=a("6q39"),v=n(m),p=a("qE8w"),C=a("1KNX"),y=n(C),_=a("7biW"),g=n(_);t.default={name:"PopInvoiceList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},params:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:h.default,LoadMore:v.default,RScroll:y.default,MSearch:g.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],costList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},dataCount:0}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}},params:{handler:function(){this.getCostList()},deep:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){var t=!1;return this.selItems&&this.selItems.every(function(a){return e.transCode!==a.transCode||(t=!0,!1)}),t},selThis:function(e,t){var a="";if(this.selItems.every(function(t){return e.transCode!==t.transCode||(a="该出库单已选择，请选择其他",!1)}),a)return void this.$vux.alert.show({content:a});this.selItems.push(e),this.showPop=!1,this.$emit("sel-matter",e)},setDefaultValue:function(){var e=this;this.selItems=[],this.defaultValue.forEach(function(t){t.transCode&&e.selItems.push(t)})},getCostList:function(){var e=this,t=[],a=p.getBillingApplication;return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"transCode"}])),a((0,s.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,i.default)(t)},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r;e.dataCount=n,e.hasNext=n>(e.page-1)*e.limit+i.length,e.costList=1===e.page?i:[].concat((0,d.default)(e.costList),(0,d.default)(i)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.costList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getCostList()},onPullingUp:function(){this.page++,this.getCostList()}},created:function(){this.setDefaultValue(),this.getCostList()}}},c7LW:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("kNGm"),s=n(o),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),h=a("AupE"),m=n(h),v=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70"}},mixins:[u.default],components:{workFlow:m.default,RAction:f.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=!0,r=!1,o=void 0;try{for(var l,d=(0,i.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;e.count=(0,v.accAdd)(e.count,u.tdAmount)}}catch(e){r=!0,o=e}finally{try{!n&&d.return&&d.return()}finally{if(r)throw o}}t.formData.validUntil=(0,s.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},c8eI:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("a3Yh"),s=n(o),l=a("3cXf"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),h=n(f),m=a("SAzG"),v=n(m),p=a("7g+Q"),C=n(p),y=a("PzEQ"),_=n(y),g=a("jnZd"),b=n(g),w=a("0AQX"),I=a("HyXB"),D=(a("jLp1"),a("bKg5")),x=n(D),P=a("N2r1"),S=n(P),k=a("vl8n"),L=n(k),N=a("+WR7"),M=n(N),T=a("zWMP"),A=a("Qg39");t.default={mixins:[x.default],components:{Cell:c.default,Group:h.default,Popup:C.default,XInput:v.default,XTextarea:_.default,PopCostList:S.default,PopupPicker:b.default,RPicker:L.default,PopBaseinfo:M.default},data:function(){return{listId:"18800986-a50f-11e8-96a5-005056a136d0",biComment:"",biReferenceId:"",showCostPop:!1,CostList:[{exptName:"",expCode:"",expSubject:"",costType_expCode:"",tdInvoiceType:["普票"],tdAmount:"",noTaxAmount:"",taxRate:.16,taxAmount:"",expCause:""}],invoiceTypeList:[["普票","专票"]],selectedCost:[],costIndex:0,transCode:"",formData:{biComment:"",biProcessStatus:""}}},computed:{totalAmount:function(){var e=0;return this.CostList.forEach(function(t){t.tdAmount&&(e=(0,T.accAdd)(e,t.tdAmount))}),e}},methods:{checkAmt:function(e){var t=e.tdAmount,a=e.taxRate;a&&(e.taxRate=Math.abs((0,A.toFixed)(a))),t&&(e.tdAmount=Math.abs((0,A.toFixed)(t)),e.noTaxAmount=Math.abs((0,A.toFixed)((0,T.accDiv)(e.tdAmount,1+e.taxRate))),e.taxAmount=(0,A.toFixed)((0,T.accSub)(e.tdAmount,e.noTaxAmount)))},getCost:function(e,t){this.showCostPop=!0,this.costIndex=e,this.selectedCost=[t]},addCost:function(){this.expSubjectList=[],this.CostList.push({exptName:"",expCode:"",expSubject:"",costType_expCode:"",tdInvoiceType:["普票"],tdAmount:"",noTaxAmount:"",taxRate:.16,taxAmount:"",expCause:""})},deleteCost:function(){this.CostList.pop()},selMatter:function(e){var t=e;this.CostList[this.costIndex].exptName=t.costName,this.CostList[this.costIndex].expCode=t.costCode,this.CostList[this.costIndex].expSubject=t.costSubject,this.CostList[this.costIndex].costType_expCode=t.costType},submitOrder:function(){var e=this,t="",a=[];if(this.CostList.every(function(e){return e.exptName?e.tdAmount?(a.push({tdId:e.tdId||"",expCode:e.expCode,expSubject:e.expSubject,costType_expCode:e.costType_expCode||"",tdInvoiceType:e.tdInvoiceType[0],tdAmount:e.tdAmount,noTaxAmount:e.noTaxAmount,taxRate:e.taxRate,taxAmount:e.taxAmount,expCause:e.expCause}),!0):(t="请填写申请金额",!1):(t="请选择费用名称",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=I.saveAndStartWf,n=(0,s.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,d.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:"",formData:(0,d.default)((0,i.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{crDealerLabel:"员工",dealerCodeCredit:e.formData.userCode,departmentName:e.formData.handlerUnitName,dataSet:a}})),wfPara:(0,d.default)(n)};e.isResubmit&&(r.biReferenceId=e.biReferenceId,t=I.saveAndCommitTask),e.processCode.length||(t=I.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,w.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.attachment=t.attachment,e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.CostList=[];var a=t.formData;e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,i.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),a.order.dataSet.forEach(function(t){var a={exptName:t.costName_expCode,expCode:t.expCode,costType_expCode:t.costType_expCode,expSubject:t.expSubject,tdAmount:t.tdAmount,noTaxAmount:t.noTaxAmount,taxRate:t.taxRate,taxAmount:t.taxAmount,expCause:t.expCause,tdId:t.tdId};e.CostList.push(a)}),e.$loading.hide()})},hasDraftData:function(){var e=!1;return this.CostList.forEach(function(t){if(t.exptName)return e=!0,!1}),!!e&&(0,s.default)({},"FYBX_DATA",{cost:this.CostList,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("FYBX_DATA");if(e){var t=JSON.parse(e);this.CostList=t.cost,this.formData=t.formData,sessionStorage.removeItem("FYBX_DATA")}}}},cBID:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HXPS"),i=n(r),o=a("7g+Q"),s=n(o),l=a("6q39"),d=n(l),u=a("1KNX"),c=n(u),f=a("7biW"),h=n(f);t.default={name:"GroupList",props:{show:{type:Boolean,default:!1},defaultValue:{type:String,default:""},data:{type:Array,default:function(){return[]}}},components:{Icon:i.default,Popup:s.default,LoadMore:d.default,RScroll:c.default,MSearch:h.default},data:function(){return{showPop:!1,scrollOptions:{click:!0}}},watch:{show:{handler:function(e){this.showPop=e}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){var t=!1;return e.name===this.defaultValue&&(t=!0),t},selThis:function(e,t){this.showPop=!1,this.$emit("sel-group",e.name)},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.$emit("list-search",a)}},created:function(){}}},cEa5:function(e,t,a){"use strict";function n(e){a("iUHN")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("fkNu");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("rAju"),s=a.n(o),l=a("vRF1"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-17998d01",null);t.default=c.exports},cG8U:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=(a("XAqG"),a("HyXB"),a("MjAd")),s=n(o),l=a("ak47");n(l);t.default={name:"CPXQ_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"经办人",value:"handlerName"},{name:"交易号",value:"transCode"},{name:"员工",value:"profileName"}],listViewID:2375}},mixins:[s.default],methods:{pathChange:function(e,t,a){var n=this;if(!this.clickVisited){var r=e.transCode,o=this.$route.query.name,s=this.$route.params,l=s.folder,d=s.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,i.default)({},e));var u=a+"/"+l+"/"+d;setTimeout(function(){n.clickVisited=!1,n.$router.push({path:u,query:{name:o,transCode:r}})},200)}},goDetail:function(e,t){this.pathChange(e,t,"/detail")},goUserEdit:function(e,t){this.pathChange(e,t,"/fillform")}}}},cIwV:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"vux-cell-box weui-cell",class:e.className,style:e.style,on:{click:e.onClick}},[e._t("default")],2)},r=[],i={render:n,staticRenderFns:r};t.a=i},cNhq:function(e,t,a){"use strict";function n(e){a("3wMV")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("qdt2");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("zjgN"),s=a.n(o),l=a("/wEV"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-55d664d4",null);t.default=c.exports},cQ92:function(e,t,a){"use strict";function n(e){a("oK9q")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("Bd2n");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("7Fqm"),s=a.n(o),l=a("w+D4"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-62159199",null);t.default=c.exports},cSfN:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.config.length?a("div",{staticClass:"dealer-other-part"},e._l(e.config,function(t,n){return a("div",{key:n},[t.hiddenInRun||"r2Combo"!==t.xtype?e._e():a("pop-single-select",{class:{"vux-1px-b":n>0},attrs:{title:t.fieldLabel,data:t.remoteData,value:e.dealer[t.fieldCode],isRequired:!t.allowBlank},model:{value:e.dealer[t.fieldCode],callback:function(a){e.$set(e.dealer,t.fieldCode,a)},expression:"dealer[item.fieldCode]"}}),e._v(" "),t.hiddenInRun?e._e():[t.readOnly&&"projectType_project"!==t.fieldCode?a("div",{staticClass:"cell-item",class:{"vux-1px-b":n>0}},[a("div",{staticClass:"title"},[e._v(e._s(t.fieldLabel))]),e._v(" "),a("div",{staticClass:"mode"},[a("span",{staticClass:"mode_content"},[e._v(e._s(e.dealer[t.fieldCode]||"无"))])])]):t.readOnly?e._e():a("div",["r2Permilfield"===t.xtype||"r2Numberfield"===t.xtype?a("div",{staticClass:"cell-item",class:{"vux-1px-b":n>0}},[a("div",{staticClass:"title",class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))]),e._v(" "),a("div",{staticClass:"mode"},[a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.dealer[t.fieldCode],expression:"dealer[item.fieldCode]",modifiers:{number:!0}}],attrs:{type:"number",placeholder:"请输入"},domProps:{value:e.dealer[t.fieldCode]},on:{"on-blur":function(t){e.checkAmt(e.dealer)},input:function(a){a.target.composing||e.$set(e.dealer,t.fieldCode,e._n(a.target.value))},blur:function(t){e.$forceUpdate()}}})])]):e._e(),e._v(" "),"r2Textfield"===t.xtype?a("div",{staticClass:"cell-item",class:{"vux-1px-b":n>0}},[a("div",{staticClass:"title",class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))]),e._v(" "),a("div",{staticClass:"mode"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.dealer[t.fieldCode],expression:"dealer[item.fieldCode]"}],attrs:{type:"text",placeholder:"请输入"},domProps:{value:e.dealer[t.fieldCode]},on:{"on-blur":function(t){e.checkAmt(e.dealer)},input:function(a){a.target.composing||e.$set(e.dealer,t.fieldCode,a.target.value)}}})])]):e._e(),e._v(" "),"r2Datefield"===t.xtype?a("div",{staticClass:"cell-item",class:{"vux-1px-b":n>0},on:{click:function(a){e.getDate(t)}}},[a("div",{staticClass:"title",class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))]),e._v(" "),a("div",{staticClass:"mode"},[a("span",{staticClass:"mode_content"},[e._v(e._s(e.dealer[t.fieldCode]||"请选择"))]),e._v(" "),a("span",{staticClass:"icon-right"})])]):e._e()])]],2)}),0):e._e()},r=[],i={render:n,staticRenderFns:r};t.a=i},cW3i:function(e,t){},cYSv:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"instance-item-wrapper",class:{visited:t.visited},on:{click:function(a){e.goDetail(t,n)}}},[a("div",{staticClass:"instance-header"},[a("span",{staticClass:"instance_code vux-1px-l"},[e._v(e._s(t.transCode))]),e._v(" "),a("span",{staticClass:"instance_status",class:t.statusClass},[e._v(e._s(t.biStatus))])]),e._v(" "),a("div",{staticClass:"instance-top"},[a("span",{staticClass:"instance_dealer"},[e._v(e._s(t.dealerName))]),e._v(" "),a("span",{staticClass:"instance_process_status"},[e._v(e._s(t.biProcessStatus||"暂无流程"))])]),e._v(" "),a("div",{staticClass:"instance-amt-wrapper"},[a("div",{staticClass:"instance_amt_title"},[e._v("预期销售额")]),e._v(" "),a("div",{staticClass:"instance_amt"},[e._v(e._s(e._f("numberComma")(t.tdAmount)))]),e._v(" "),a("div",{staticClass:"instance_amt_info"},[a("span",[e._v("销售人员："+e._s(t.salesPerson||"暂无"))]),e._v(" "),a("span",[e._v("有效期至："+e._s(e._f("dateFormat")(t.validUntil,"YYYY-MM-DD")||"暂无"))])])]),e._v(" "),a("div",{staticClass:"instance-item vux-1px-b"},[a("span",{staticClass:"instance_item_title"},[e._v("标题内容")]),e._v(" "),a("span",{staticClass:"instance_item_value"},[e._v(e._s(t.opportunityTitle))])]),e._v(" "),a("div",{staticClass:"instance-item vux-1px-b"},[a("span",{staticClass:"instance_item_title"},[e._v("分类标签")]),e._v(" "),a("span",{staticClass:"instance_item_value"},[e._v(e._s(t.categoryLabels||"暂无"))])]),e._v(" "),a("div",{staticClass:"instance-bottom"},[a("div",{staticClass:"instance_bottom_item instance_handler"},[a("i",{staticClass:"icon icon-handler"}),e._v(" "),a("span",[e._v("经办人："+e._s(t.handlerName))])]),e._v(" "),a("div",{staticClass:"instance_bottom_item instance_mod_time"},[a("i",{staticClass:"icon icon-mod-time"}),e._v(" "),a("span",[e._v("修改时间："+e._s(e._f("dateFormat")(t.modTime,"YYYY-MM-DD HH:mm")))])])])])}),0)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},cZct:function(e,t){},ca8F:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"app_top"},[a("search-icon",{attrs:{placeHolder:e.placeHolder},on:{search:e.searchList}}),e._v(" "),a("tab",{attrs:{"line-width":2,"default-color":"#333","active-color":"#3296FA"}},e._l(e.warehouseClassfiy,function(t,n){return a("tab-item",{key:n,attrs:{selected:n===e.activeIndex},on:{"on-item-click":function(a){e.tabClick(t,n)}}},[e._v(e._s(t.name)+"\n        ")])}),1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"app_main",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.warehouseList.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.warehouseList,function(t,n){return a("div",{key:n,staticClass:"basic-item-wrapper",class:{visited:t.visited},on:{click:function(a){e.goDetail(t,n)}}},[a("div",{staticClass:"basic-main"},[a("div",{staticClass:"basic-header"},[a("span",{staticClass:"basic_code vux-1px-l"},[e._v("仓库编码："+e._s(t.warehouseCode))]),e._v(" "),a("span",{staticClass:"basic_status",class:t.statusClass},[e._v(e._s(t.warehouseStatus))])]),e._v(" "),a("div",{staticClass:"basic-info-wrapper"},[a("img",{staticClass:"basic-img",attrs:{src:t.warehousePic,alt:"warehouse-img"},on:{error:function(a){e.getDefaultImg(t)}}}),e._v(" "),a("div",{staticClass:"basic-detail"},[a("div",{staticClass:"basic_name"},[e._v(e._s(t.warehouseName))]),e._v(" "),t.detailAddress?a("div",{staticClass:"basic_detail_item"},[a("span",{staticClass:"basic_detail_title"},[e._v("地址:")]),e._v(" "),a("span",{staticClass:"basic_detail_value"},[e._v(e._s(t.detailAddress))])]):e._e(),e._v(" "),a("div",{staticClass:"basic_detail_item"},[a("span",{staticClass:"basic_detail_title"},[e._v("类型:")]),e._v(" "),a("span",{staticClass:"basic_detail_value"},[e._v(e._s(t.warehouseType))])])])])]),e._v(" "),a("div",{staticClass:"basic-bottom vux-1px-t"},[a("div",{staticClass:"basic-bottom-wrapper"},[a("div",{staticClass:"basic_bottom_item basic_handler"},[a("i",{staticClass:"icon icon-handler"}),e._v(" "),a("span",[e._v("创建人："+e._s(t.creatorName))])]),e._v(" "),a("div",{staticClass:"basic_bottom_item basic_mod_time"},[a("i",{staticClass:"icon icon-mod-time"}),e._v(" "),a("span",[e._v("创建时间："+e._s(e._f("dateFormat")(t.crtTime,"YYYY-MM-DD HH:mm")))])])])])])}),0)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEditAds}}),e._v(" "),a("router-view")],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},caTQ:function(e,t,a){"use strict";function n(e){a("CX41")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("5KgG");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("FFsY"),s=a.n(o),l=a("gD/m"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-085974fd",null);t.default=c.exports},"car/":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("MjAd"),i=n(r),o=a("4bt0");n(o);t.default={data:function(){return{hasNext:!0,scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0}}},mixins:[i.default]}},ccoT:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2504,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[r.default],methods:{},created:function(){}}},ceHg:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("lC5x"),i=n(r),o=a("HzJ8"),s=n(o),l=a("J0Oq"),d=n(l),u=a("ZLEe"),c=n(u),f=a("3cXf"),h=n(f),m=a("KH7x"),v=n(m),p=a("4YfN"),C=n(p),y=a("+62G"),_=n(y),g=a("Nk/b"),b=n(g),w=a("7g+Q"),I=n(w),D=a("z5TY"),x=n(D),P=a("wDjS"),S=n(P),k=a("KFOb"),L=n(k),N=a("HXPS"),M=n(N),T=a("SAzG"),A=n(T),O=a("u28h"),R=n(O),j=a("HyXB"),B=a("hFVz"),E=n(B),F=a("Pkp+"),U=n(F),$=a("PKHo"),H=n($),V=a("1KNX"),q=n(V),Q=a("5gKc"),Y=n(Q),X=a("BwHg"),G=n(X);t.default={data:function(){return{listId:"c0375170-d537-4f23-8ed0-a79cf75f5b04",addressData:L.default,transCode:"",picShow:!1,imgFileObj:{},MatPic:"",AccountRelType:[],cAccountAddress:[],dAccountAddress:[],pickerStatus:!1,showAddress:!1,dealerType:[],PhoneWarn:!1,MobileWarn:!1,EmailWarn:!1,codeWarn:!1,baseinfo:{handler:"",handlerName:"",handlerArea:"",handlerAreaName:"",handlerUnit:"",handlerUnitName:"",handlerRole:"",handlerRoleName:"",activeTime:"",comment:""},dealer:{dealerCode:"",dealerName:"",dealerLabelName:"",province:"",city:"",county:"",address:"",dealerPhone:"",dealerMobilePhone:"",dealerMail:"",paymentTerm:"",dealerLogisticsTerms:"",pamentDays:"",dealerStatus:"",comment:"",dealerPic:""},statusList:[],dealerStatus:"使用中",submitSuccess:!1,scrollOptions:{click:!0},dealerConfig:[],dealerDuplicateConfig:[],dealerDuplicateData:{},uniqueId:""}},computed:{disabledSubmit:function(){return this.PhoneWarn||this.MobileWarn||this.EmailWarn||this.codeWarn},dealerLabelName:function(){return this.dealer.dealerLabelName}},watch:{dealerLabelName:function(e){var t=this.dealer.dealerLabelName;this.dealerDuplicateConfig.forEach(function(e){"deliveryAddresses"===e.name&&(e.hiddenInRun=!1,t&&(t.includes("客户")||t.includes("供应商")||t.includes("加工商")||t.includes("渠道商")||t.includes("服务商"))||(e.hiddenInRun=!0)),"dealerCertificateRel"===e.name&&(e.hiddenInRun=!1,t&&(t.includes("生产商")||t.includes("经销供应商"))||(e.hiddenInRun=!0))})}},directives:{TransferDom:_.default},mixins:[H.default],components:{Picker:b.default,Popup:I.default,Group:x.default,RPicker:U.default,XAddress:S.default,Icon:M.default,RScroll:q.default,UploadImage:Y.default,XInput:A.default,Datetime:R.default,duplicateComponent:G.default},methods:{onUpload:function(e){this.dealer.dealerPic=e.src},getDealer:function(){var e=this;return E.default.getDictByType().then(function(t){var a=t.tableContent;return a&&a.forEach(function(e){e.selected=!1}),e.AccountRelType=a,e.$nextTick(function(){e.$refs.bScroll.refresh()}),a}).catch(function(t){e.$vux.alert.show({content:t.message})})},DealerPop:function(){var e=this;this.pickerStatus=!0,this.dealerType=[];var t=this.dealer.dealerLabelName.split(",");this.dealer.dealerLabelName.length&&t.forEach(function(t){var a={name:t};e.dealerType.push(a)})},onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},showSelIcon:function(e){return-1!==this.dealerType.findIndex(function(t){return t.name===e.name})},selectType:function(e){e.selected=!e.selected;var t=this.dealerType,a=t.findIndex(function(t){return t.name===e.name});if(-1!==a)return void t.splice(a,1);t.push(e)},cfmMater:function(){var e=this;this.pickerStatus=!1,this.dealer.dealerLabelName="",this.dealerType.forEach(function(t){if(e.dealer.dealerLabelName.length)return void(e.dealer.dealerLabelName+=","+t.name);e.dealer.dealerLabelName+=t.name})},check:function(e,t){"dealerPhone"===e.fieldCode?e.warn=this.checkPhone():"dealerMobilePhone"===e.fieldCode?e.warn=this.checkMobile():"dealerMail"===e.fieldCode&&(e.warn=this.checkEmail())},checkPhone:function(){var e=/^0\d{2,3}-\d{7,8}$/;return this.dealer.dealerPhone.length>0&&!e.test(this.dealer.dealerPhone)?this.PhoneWarn=!0:this.PhoneWarn=!1,this.PhoneWarn},checkMobile:function(){var e=/^[1][3,4,5,7,8][0-9]{9}$/;return this.dealer.dealerMobilePhone.length>0&&!e.test(this.dealer.dealerMobilePhone)?this.MobileWarn=!0:this.MobileWarn=!1,this.MobileWarn},checkEmail:function(){var e=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;return this.dealer.dealerMail.length>0&&!e.test(this.dealer.dealerMail)?this.EmailWarn=!0:this.EmailWarn=!1,this.EmailWarn},checkCode:function(e){var t=/^[1-9][0-9]{5}$/;return e.postalCode.length>0&&!t.test(e.postalCode)?this.codeWarn=!0:this.codeWarn=!1,this.codeWarn},findData:function(){var e=this;return E.default.getDealerInfo(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a,r=t.attachment,i=void 0===r?[]:r;e.dealerDuplicateConfig.forEach(function(t){n[t.name].length&&(e.dealerDuplicateData[t.name]=n[t.name])});var o=n.baseinfo,s=void 0===o?{}:o,l=n.dealer,d=void 0===l?{}:l;switch(d.dealerStatus){case"1":e.dealerStatus="使用中";break;case"2":e.dealerStatus="未使用";break;case"0":e.dealerStatus="草稿";break;case"-1":e.dealerStatus="停用"}e.baseinfo=(0,C.default)({},e.baseinfo,s),e.dealer=(0,C.default)({},e.dealer,d),e.dealer.dealerPic.length>0?(e.picShow=!0,e.MatPic="/H_roleplay-si/ds/download?url="+e.dealer.dealerPic+"&width=400&height=400"):(e.picShow=!0,e.getDefaultImg());var u=i.filter(function(t){return t.attacthment===e.dealer.dealerPic}),c=(0,v.default)(u,1),f=c[0],h=void 0===f?{}:f;e.cAccountAddress=[e.dealer.province,e.dealer.city,e.dealer.county],e.imgFileObj=h})},getDefaultImg:function(){this.MatPic=a("tVsm")},changeAddress:function(e,t){this.AccountAddress=t},getAddress:function(){if(this.AccountAddress.length>0){if(this.dealer.province=this.AccountAddress[0],this.dealer.county=this.AccountAddress[2],"市辖区"===this.AccountAddress[1])return void(this.dealer.city="");this.dealer.city=this.AccountAddress[1]}},submit:function(){var e=this;for(var t in this.dealer)"string"==typeof this.dealer[t]&&this.dealer[t].indexOf(" ")>=0&&(this.dealer[t]=this.dealer[t].replace(/\s/g,""));this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){switch(e.dealerStatus){case"使用中":e.dealer.dealerStatus="1";break;case"未使用":e.dealer.dealerStatus="2";break;case"草稿":e.dealer.dealerStatus="0";break;case"停用":e.dealer.dealerStatus="-1"}e.dealer.status&&delete e.dealer.status;var t={listId:"c0375170-d537-4f23-8ed0-a79cf75f5b04",formData:{baseinfo:e.baseinfo,dealer:e.dealer}};e.dealerDuplicateConfig.forEach(function(a){e.dealerDuplicateData[a.name].length&&(t.formData[a.name]=e.dealerDuplicateData[a.name])}),e.transCode?E.default.update(t).then(function(t){t.success?(e.submitSuccess=!0,e.$vux.alert.show({content:"修改成功",onHide:function(){e.$router.go(-1)}})):e.$vux.alert.show({content:t.message})}):E.default.save(t).then(function(t){t.success?(e.submitSuccess=!0,e.$vux.alert.show({content:"提交成功",onHide:function(){if(1===e.$route.query.add){var t=[e.dealer];sessionStorage.setItem("DEALERLIST_SELITEMS",(0,h.default)(t))}e.$router.go(-1)}})):e.$vux.alert.show({content:t.message})})}})},save:function(){var e=this;if(!this.disabledSubmit){var t="";if([{key:"dealerCode",message:"【往来编码】"},{key:"dealerName",message:"【往来名称】"},{key:"dealerLabelName",message:"【往来类型】"}].every(function(a){return""!==e.dealer[a.key]||(t=a.message+"不能为空",!1)}),!t&&this.PhoneWarn&&(t="电话号码格式不正确"),!t&&this.MobileWarn&&(t="手机号码格式不正确"),!t&&this.EmailWarn&&(t="邮件格式不正确"),!t&&(0,c.default)(this.dealerDuplicateData).length&&(0,c.default)(this.dealerDuplicateData).forEach(function(a){if(e.dealerDuplicateData[a].length<=0)return!1;e.dealerDuplicateConfig.forEach(function(n){n.name===a&&n.items.forEach(function(n){n.hidden||e.dealerDuplicateData[a].forEach(function(e){if(!n.allowBlank&&!e[n.fieldCode])return t=n.text+"不能为空",!1})})})}),t)return void this.$vux.alert.show({content:t});this.submit()}},handlerParams:function(e){var t=this,a=e.dataSource.data.url,n=e.dataSource.data.params,r=(0,c.default)(n),i={url:a};if(r.length){var o={};r.forEach(function(e){o[e]="text"===n[e].type?n[e].value:""}),i.data=o}e.requestParams=i,(0,j.requestData)(i).then(function(a){a.tableContent?(a.tableContent.forEach(function(t){t.name=t[e.displayField],t.value=t[e.displayField]}),t.$set(e,"remoteData",a.tableContent)):(a.forEach(function(t){t.name=t[e.displayField],t.value=t[e.displayField]}),t.$set(e,"remoteData",a))})},getFormViewsInfo:function(){var e=this;return(0,d.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,j.getFormViews)(e.listId).then(function(t){var a=!0,n=!1,r=void 0;try{for(var i,o=(0,s.default)(t);!(a=(i=o.next()).done);a=!0){var l=i.value;e.transCode&&"revise"===l.viewType?e.uniqueId=l.uniqueId:e.transCode||"submit"!==l.viewType||(e.uniqueId=l.uniqueId)}}catch(e){n=!0,r=e}finally{try{!a&&o.return&&o.return()}finally{if(n)throw r}}});case 2:return t.next=4,(0,j.getFormConfig)(e.uniqueId).then(function(t){var a=t.config,n=void 0===a?[]:a;console.log(n);var r=[],i=[];n.forEach(function(e){e.isMultiple?"r2Fileupload"!==e.xtype&&i.push(JSON.parse((0,h.default)(e))):r=JSON.parse((0,h.default)(e.items))}),r.forEach(function(t){t.hiddenInRun||("province"!==t.fieldCode&&"city"!==t.fieldCode&&"county"!==t.fieldCode&&"dealerLabelName"!==t.fieldCode&&("r2Combo"!==t.xtype&&"r2MultiSelector"!==t.xtype||!t.dataSource||"remoteData"!==t.dataSource.type?"r2Combo"===t.xtype&&t.dataSource&&"staticData"===t.dataSource.type&&e.$set(t,"remoteData",t.dataSource.data):e.handlerParams(t)),"dealerPic"!==t.fieldCode&&"city"!==t.fieldCode&&"county"!==t.fieldCode&&e.dealerConfig.push(t))}),i.forEach(function(t){switch(t.hiddenInRun=!1,t.name){case"deliveryAddresses":t.title="地址";break;case"dealerCertificateRel":t.title="证件"}var a=[];t.items.forEach(function(t,n){t.hidden||("r2Combo"===t.editorType&&t.dataSource&&"remoteData"===t.dataSource.type&&e.handlerParams(t),a.push(t))}),t.items=a,e.$set(e.dealerDuplicateData,t.name,[])}),e.dealerDuplicateConfig=i,e.transCode||e.$loading.hide()});case 4:case"end":return t.stop()}},t,e)}))()}},created:function(){var e=this;this.$loading.show();var t=this.$route.query;if(t.transCode)return this.transCode=t.transCode,void(0,d.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getFormViewsInfo();case 2:return t.next=4,e.findData().then(function(){e.$loading.hide()});case 4:e.getDealer();case 5:case"end":return t.stop()}},t,e)}))();this.getFormViewsInfo(),this.getDealer().then(function(t){var a=(0,v.default)(t,1);a[0];e.$route.query.pickVal?(e.dealer.dealerLabelName=e.$route.query.pickVal,e.pickerStatus=!1):e.dealer.dealerLabelName=e.$route.query.dealerType?e.$route.query.dealerType:""}),(0,j.getBaseInfoDataBase)().then(function(t){e.baseinfo=(0,C.default)({},e.baseinfo,t,{activeTime:e.changeDate(new Date,!0)})})},mounted:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},beforeRouteEnter:function(e,t,a){e.meta.title="新增往来",e.query.transCode&&(e.meta.title="编辑往来"),a()},beforeRouteLeave:function(e,t,a){var n=e.path;this.submitSuccess&&"/adress"===n&&(e.meta.reload=!0),a()}}},cmho:function(e,t){},crdR:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("IHPB"),s=n(o),l=a("4YfN"),d=n(l),u=a("XAqG"),c=a("MjAd"),f=n(c);t.default={name:"USER_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"使用中",status:1},{name:"未使用",status:2},{name:"停用",status:-1}],filterList:[{name:"工号",value:"userCode"},{name:"姓名",value:"nickname"}]}},mixins:[f.default],methods:{getDefaultImg:function(e,t){var n=a(1===t?"Fuf7":"0gu7");return e&&(e.photo=n),n},pathChange:function(e,t,a){var n=this;if(!this.clickVisited){var r=e.colId,i=this.$route.query,o=i.name,s=i.listId,l=this.$route.params,u=l.folder,c=l.fileName,f=a+"/"+u+"/"+c;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,d.default)({},e)),setTimeout(function(){n.clickVisited=!1,n.$router.push({path:f,query:{name:o,colId:r,listId:s}})},200)}},goDetail:function(e,t){this.pathChange(e,t,"/detail")},getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=[];return this.activeTab&&a.push({operator:"in",value:this.activeTab,property:"status"}),this.serachVal&&(a=[].concat((0,s.default)(a),[{operator:"like",value:this.serachVal,property:this.filterProperty}])),(0,u.getAllUsers)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,i.default)(a)}).then(function(a){var n=a.dataCount,r=void 0===n?0:n,i=a.tableContent,o=void 0===i?[]:i;e.hasNext=r>(e.page-1)*e.limit+o.length,o.forEach(function(t){var a=["女","男"],n=["","使用中","未使用","草稿"],r=["临时账户","长期有效"];t.genderText=a[t.gender]||"未知",t.status=n[t.status]||"停用",t.userTypeText=r[t.userType],e.setStatus(t),t.photo||(t.photo=e.getDefaultImg("",t.gender))}),e.listData=1===e.page?o:e.listData.concat(o),t||e.$nextTick(function(){e.resetScroll()});var s="";t&&0===e.activeIndex&&e.total&&(s=r-e.total==0?"暂无新数据":s="新增"+(r-e.total)+"条数据",e.$vux.toast.show({text:s,position:"top",width:"50%",type:"text",time:700})),0===e.activeIndex&&1===e.page&&sessionStorage.setItem(e.applyCode,r),e.$loading.hide()}).catch(function(t){e.resetScroll()})},setStatus:function(e){switch(e.status){case"使用中":e.statusClass="duty_done_c";break;default:e.statusClass="duty_fall_c"}}}}},ctOz:function(e,t){},d3k1:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=navigator.userAgent.toLowerCase(),r=t.isIOS=!!n.match(/\(i[^;]+;( u;)? cpu.+mac os x/),i=t.isIPhone=n.indexOf("iphone")>0,o=t.isIPad=n.indexOf("ipad")>0,s=t.isAndroid=n.indexOf("android")>0,l=t.isPC=!(r||s),d=t.isQYWX=null!==n.match(/wxwork/);t.default={isIOS:r,isIPhone:i,isIPad:o,isAndroid:s,isPC:l,isQYWX:d}},d3zw:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("MjAd"),i=n(r),o=a("4bt0"),s=n(o);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2568,chartShow:!1,hasNext:!0,scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0},sortList:[{name:"交易号",key:"transCode"},{name:"修改时间",key:"modTime"},{name:"客户名称",key:"dealerName"}]}},components:{ApplyChart:s.default},mixins:[i.default],methods:{}}},d5Kw:function(e,t,a){"use strict";function n(e){a("ET1x")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HU/K");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("rxOo"),s=a.n(o),l=a("yB79"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,null,null);t.default=c.exports},d5RT:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("MgeX"),i=n(r),o=a("HzJ8"),s=n(o),l=a("4YfN"),d=n(l),u=a("3cXf"),c=n(u),f=a("IHPB"),h=n(f),m=a("HXPS"),v=n(m),p=a("7g+Q"),C=n(p),y=a("1KNX"),_=n(y),g=a("vS5q"),b=a("7biW"),w=n(b);t.default={name:"PopOrderList",props:{show:{type:Boolean,default:!1},params:{type:Object,default:function(){return{dealerCode:"",whCode:""}}},defaultValue:{type:Object,default:function(){return{}}},isMaterOrder:{type:Boolean,default:!1},isMaterProccing:{type:Boolean,default:!1}},components:{Icon:v.default,Popup:C.default,RScroll:_.default,RSearch:w.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],listData:[],limit:100,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterProperty:"",filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"订单号",value:"transCode"}]}},watch:{show:{handler:function(e){this.showPop=e}},params:{handler:function(){this.resetCondition(),this.getList()}},defaultValue:{handler:function(e){this.setDefaultValue()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,h.default)(this.selItems)),this.$emit("input",!1),this.$event.$emit("shut-down-filter",!1)},showSelIcon:function(e){return-1!==this.tmpItems.findIndex(function(t){return t.transCode===e.transCode&&t.inventoryCode===e.inventoryCode})},selThis:function(e,t){if(!this.isMaterOrder&&(0===e.qtyStockBal||0===e.qtyStock)||this.isMaterOrder&&0===e.qtyStock)return void this.$vux.alert.show({content:"当前订单库存为0，请选择其他订单"});var a=this.tmpItems,n=a.findIndex(function(t){return t.transCode===e.transCode&&t.inventoryCode===e.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(e)},selConfirm:function(){this.showPop=!1,this.tmpItems.sort(function(e,t){return t.effectiveTime-e.effectiveTime}),this.selItems=[].concat((0,h.default)(this.tmpItems)),this.$emit("sel-matter",(0,c.default)(this.selItems))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getList:function(){var e=this,t=[];this.srhInpTx&&(t=[{operator:"like",value:this.srhInpTx,property:this.filterProperty}]);var a=g.getSalesOrderList,n=(0,d.default)({},this.params);this.isMaterOrder&&(a=g.getMaterOrderList,n={}),this.isMaterProccing&&(a=g.getNBJGLLOrderList);var r=this.$route.query.relationKey,i=void 0===r?"":r;return i&&(t=[{operator:"eq",value:i,property:"transCode"}]),a((0,d.default)({},n,{limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,c.default)(t)})).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,o=void 0===r?[]:r;o.forEach(function(t){t.inventoryPic=t.inventoryPic?"/H_roleplay-si/ds/download?url="+t.inventoryPic+"&width=400&height=400":e.getDefaultImg()}),i&&(e.selItems=[].concat((0,h.default)(o)),e.$emit("sel-matter",(0,c.default)(e.selItems))),e.hasNext=n>(e.page-1)*e.limit+o.length,e.listData=1===e.page?o:[].concat((0,h.default)(e.listData),(0,h.default)(o)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},resetCondition:function(){this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,r=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=r,this.resetCondition(),this.getList()},clearList:function(){this.srhInpTx="",this.resetCondition(),this.getList()},delSelItem:function(e){var t=this.selItems.findIndex(function(t){return t.transCode===e.transCode&&t.inventoryCode===e.inventoryCode});-1!==t&&this.selItems.splice(t,1),this.tmpItems=[].concat((0,h.default)(this.selItems))},clearSel:function(){this.selItems=[],this.tmpItems=[]},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var r,o=(0,s.default)((0,i.default)(this.defaultValue));!(t=(r=o.next()).done);t=!0){var l=r.value;e=[].concat((0,h.default)(e),(0,h.default)(l))}}catch(e){a=!0,n=e}finally{try{!t&&o.return&&o.return()}finally{if(a)throw n}}this.tmpItems=[].concat((0,h.default)(e)),this.selItems=[].concat((0,h.default)(e))}},created:function(){this.showPop=this.show,this.setDefaultValue(),this.getList()}}},d7ck:function(e,t,a){"use strict";function n(e){a("dWQK")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("P2Js");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("Ak0d"),s=a.n(o),l=a("24zO"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-90519a7c",null);t.default=c.exports},d8ys:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2294,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName"}]}},mixins:[r.default],methods:{},created:function(){}}},dB5k:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("MjAd"),i=n(r),o=a("OTZ4"),s=n(o);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2395,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}],popShow:!1,requestParams:{calc_rel_code:8851,view_id:"view_113"}}},components:{PopTaskWorkList:s.default},mixins:[i.default],methods:{goEdit:function(){this.popShow=!0},selTask:function(e){var t=this.$route.query,a=t.name,n=t.listId,r=this.$route.params,i=r.folder,o=r.fileName;this.$router.push({path:"/fillform/"+i+"/"+o,query:{name:a,listId:n,inventoryCode:e[0].matCode,proPointCode:e[0].proPointCode}})}}}},dBs1:function(e,t,a){"use strict";function n(e){a("Wn8c")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("LUxz");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("0j52"),s=a.n(o),l=a("U062"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-03ecdb5f",null);t.default=c.exports},dFfG:function(e,t){},dHch:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("kNGm"),s=(n(o),a("0AQX")),l=a("+VRO"),d=n(l),u=a("BUFe"),c=n(u),f=a("AupE"),h=n(f),m=a("zWMP");t.default={data:function(){return{count:0,cashInfo:{}}},mixins:[d.default],components:{workFlow:h.default,RAction:c.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=t.formData,r=n.order,o=void 0===r?{}:r,s=n.outPut,l=void 0===s?{}:s;e.attachment=a,e.cashInfo=l.dataSet[0];var d=o.dataSet,u=!0,c=!1,f=void 0;try{for(var h,v=(0,i.default)(d);!(u=(h=v.next()).done);u=!0){var p=h.value;e.count=(0,m.accAdd)(e.count,p.tdAmount)}}catch(e){c=!0,f=e}finally{try{!u&&v.return&&v.return()}finally{if(c)throw f}}e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},"dOA+":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper cpxq-detail-container"},[a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.userData,"order-info":e.userData}}),e._v(" "),a("div",{staticClass:"product"},[e._m(0),e._v(" "),a("form-cell",{attrs:{cellTitle:"员工",cellContent:e.userData.turnoverName||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"部门",cellContent:e.userData.turnoverDepartMent||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"岗位",cellContent:e.userData.turnoverPost||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"离职日期",cellContent:e.userData.turnoverDate||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"备注",cellContent:e.userData.biComment||"无"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}})],1)])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title"},[a("div",[a("span",{staticClass:"iconfont icon-mingxi1"}),e._v(" "),a("span",[e._v("员工信息")])])])}],i={render:n,staticRenderFns:r};t.a=i},dOws:function(e,t,a){"use strict";function n(e){a("kSRt")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("IAdv");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("wol0"),s=a.n(o),l=a("q9pj"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-02255d35",null);t.default=c.exports},dQpD:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("3cXf"),s=n(o),l=a("HyXB"),d=a("0AQX"),u=a("2y58"),c=n(u),f=a("fyaN"),h=n(f);t.default={name:"RAction",props:{code:{type:String,default:""},taskId:{type:String,default:""},actions:{type:Array,default:function(){return[]}},name:{type:String,default:""},agreeHandler:{type:Function,default:null}},components:{Confirm:c.default,PopUserList:h.default},data:function(){return{showUserList:!1,selectedUser:{},showConfirm:!1,transferInfo:{taskTime:.1,comment:""},showTaskWarn:!1,showCommentWarn:!1}},methods:{reject:function(){var e=this;this.$vux.confirm.prompt("",{title:"审批意见",onConfirm:function(t){e.commitTask({result:0,successMsg:"拒绝成功",callback:function(){var t=e.$route.params,a=t.folder,n=t.fileName,r=e.$route.query,i=r.name,o=r.listId,s=r.transCode;(0,d.isMyflow)({transCode:e.code}).then(function(t){var r=t.tableContent,l="";if(r.length>0){var d=r[0],u=d.isMyTask,c=d.nodeName;1===u&&"重新提交"===c?l="/fillform/"+a+"/"+n:e.$router.go(0)}else e.$router.go(0);e.$router.replace({path:l,query:{name:i,listId:o,transCode:s}})})}})}})},agree:function(){var e=this;this.agreeHandler&&this.agreeHandler()||this.$vux.confirm.prompt("",{title:"审批意见",onConfirm:function(t){e.commitTask({result:1,successMsg:"同意成功",value:t})}})},revoke:function(){var e=this;this.$vux.confirm.prompt("",{title:"撤回原因",onConfirm:function(t){e.commitTask({result:2,successMsg:"撤回成功",value:t,callback:function(){var t=e.$route.query.listId,a=e.$route.params,n=a.folder,r=a.fileName;e.$router.replace({path:"/fillform/"+n+"/"+r,query:{listId:t,name:e.name,transCode:e.code}})}})}})},commitTask:function(e){var t=this,a=e.result,n=e.value,r=e.successMsg,i=e.callback;this.$HandleLoad.show();var o={taskId:this.taskId,taskData:(0,s.default)({result:a,transCode:this.code,comment:n})};return(0,l.commitTask)(o).then(function(e){t.$HandleLoad.hide();var n=e.success,o=void 0!==n&&n,l=e.message,d=void 0===l?"提交失败":l,u={0:"reject",1:"agree",2:"revoke"};o&&(d=r,t.$emit("on-submit-success",(0,s.default)({type:u[a]}))),t.$vux.alert.show({content:d,onHide:function(){o&&(i?i():t.$router.go(0))}})}).catch(function(e){t.$HandleLoad.hide()})},update:function(){var e=this,t=this.$route.query.listId,a=this.$route.params,n=a.folder,r=a.fileName;this.$vux.confirm.show({title:"温馨提示",content:"即将进入修改页面，确认吗？",onConfirm:function(){e.$router.replace({path:"/fillform/"+n+"/"+r,query:{listId:t,name:e.name,transCode:e.code,isModify:!0}})}})},transfer:function(){this.selectedUser={},this.showUserList=!0},selUser:function(e){this.selectedUser=(0,i.default)({},e),this.showConfirm=!0},onConfirm:function(){var e=this,t=(0,i.default)({userId:this.selectedUser.userId,taskId:this.taskId},this.transferInfo);this.showTaskWarn=!this.transferInfo.taskTime,this.showCommentWarn=!this.transferInfo.comment,this.showTaskWarn||this.showCommentWarn||(this.showConfirm=!1,this.$HandleLoad.show(),(0,l.transferTask)(t).then(function(t){e.$HandleLoad.hide();var a=t.success,n=void 0!==a&&a,r=t.message,i=void 0===r?"提交失败":r;n&&(i="转办成功",e.$emit("on-submit-success",(0,s.default)({type:"transfer"}))),e.$vux.alert.show({content:i,onHide:function(){e.$router.go(0)}})}).catch(function(t){e.$HandleLoad.hide()}))}}}},dRU1:function(e,t){},"dRd+":function(e,t,a){"use strict";function n(e){a("BhN+")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("69MN");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("NbtV"),s=a.n(o),l=a("lgEq"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-336b93c6",null);t.default=c.exports},dSaX:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pop-sodl-project-list",on:{click:e.itemClick}},[e.selItems.PROJECT_NAME?a("div",{staticClass:"project-info"},[a("span",{staticClass:"project-name"},[e._v(e._s(e.selItems.PROJECT_NAME))]),e._v(" "),a("span",{staticClass:"project-type"},[e._v(e._s(e.selItems.PROJECT_TYPE))])]):a("div",{staticClass:"title"},[e._v("项目名称 "),a("span",[e._v("请选择")])]),e._v(" "),a("i",{staticClass:"icon-right r-arrow"}),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"popup-top"},[a("i",{staticClass:"icon-close",on:{click:e.onHide}})]),e._v(" "),a("div",{staticClass:"trade_pop"},[a("m-search",{on:{search:e.searchList}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.projectList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.projectList,function(t,n){return a("div",{key:n,staticClass:"each_mater box_sd",class:{seleted:e.showSelIcon(t)},on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"mater_main "},[a("div",{staticClass:"project_name"},[e._v(e._s(t.PROJECT_NAME))]),e._v(" "),a("div",{staticClass:"project_type"},[e._v(e._s(t.PROJECT_TYPE))])])])}),0)],1)])],1)])},r=[],i={render:n,staticRenderFns:r};t.a=i},dWQK:function(e,t){},dWqa:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("4YfN"),s=n(o),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("zWMP"),f=(a("Qg39"),a("BUFe")),h=n(f),m=a("AupE"),v=n(m),p=a("89pA"),C=n(p),y=a("bFc7"),_=n(y),g=a("6WeX"),b=n(g),w=a("hPJo"),I=n(w),D=a("kKsb"),x=n(D),P=a("sUbJ"),S=n(P),k=a("d7ck"),L=n(k);t.default={data:function(){return{count:0,formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",orderInfo:{},orderList:{},warehouse:{},basicInfo:{},contactInfo:{},warehouseConfig:[]}},computed:{noTaxAmount:function(){var e=0;return this.orderInfo.inPut.dataSet.forEach(function(t){e=(0,c.accAdd)(e,t.noTaxAmount)}),e},taxAmount:function(){var e=0;return this.orderInfo.inPut.dataSet.forEach(function(t){e=(0,c.accAdd)(e,t.taxAmount)}),e}},mixins:[u.default],components:{workFlow:v.default,RAction:h.default,PopWarehouseList:C.default,contactPart:_.default,PriceTotal:b.default,WarehouseContent:I.default,ProjectPart:x.default,MatterItem:S.default,FormCell:L.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u={},f=o.inPut,h=void 0===f?{}:f;e.attachment=d;var m=h.dataSet,v=!0,p=!1,C=void 0;try{for(var y,_=(0,i.default)(m);!(v=(y=_.next()).done);v=!0){var g=y.value;e.count=(0,c.accAdd)(e.count,g.tdAmount),g.inventoryPic=g.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+g.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),u[g.transMatchedCode]||(u[g.transMatchedCode]=[]),u[g.transMatchedCode].push(g)}}catch(e){p=!0,C=e}finally{try{!v&&_.return&&_.return()}finally{if(p)throw C}}e.orderList=u,e.contactInfo={dealerName:h.dealerName_dealerCodeCredit,dealerMobilePhone:o.dealerCreditContactInformation,dealerContactPersonName:o.dealerCreditContactPersonName,dealerCode:h.dealerDebit,dealerLabelName:h.drDealerLabel,province:h.province_dealerDebit,city:h.city_dealerDebit,county:h.county_dealerDebit,address:h.address_dealerCodeCredit};for(var b in h)(b.includes("warehouse")||b.includes("storehouse"))&&(e.warehouse[b]=h[b]);e.orderInfo=(0,s.default)({},o,h),e.workFlowInfoHandler()})}}}},dYh4:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"childPage"},[a("r-scroll",{ref:"bScroll",staticClass:"detail_content"},[a("div",{staticClass:"warehouse_baseinfo has_margin"},[a("div",{staticClass:"baseInfo_top"},[a("div",{staticClass:"baseinfo_part"},[a("img",{attrs:{src:e.MatPic},on:{error:e.getDefaultImg}}),e._v(" "),a("div",{staticClass:"warehouse_name"},[a("p",{staticClass:"name"},[e._v(e._s(e.warehouse.warehouseName))]),e._v(" "),a("p",{staticClass:"code"},[e._v("仓库编码："),a("span",{staticClass:"symbol"}),e._v(e._s(e.warehouse.warehouseCode))])])]),e._v(" "),a("span",{staticClass:"warehouse_status vux-1px",class:{no_use:"使用中"!==e.warehouse.warehouseStatus}},[e._v(e._s(e.warehouse.warehouseStatus))])]),e._v(" "),a("div",{staticClass:"baseinfo_address"},[a("span",{staticClass:"icon-address"}),e._v(" "),e.warehouse.warehouseProvince||e.warehouse.warehouseCity||e.warehouse.warehouseDistrict||e.warehouse.warehouseAddress?a("span",{staticClass:"address"},[e._v("\n          "+e._s(e.warehouse.warehouseProvince)+e._s(e.warehouse.warehouseCity)+e._s(e.warehouse.warehouseDistrict)+e._s(e.warehouse.warehouseAddress)+"\n        ")]):a("span",{staticClass:"address"},[e._v("暂无地址")])])]),e._v(" "),a("div",{staticClass:"warehouse_other has_margin"},e._l(e.warehouseConfig,function(t,n){return a("div",{key:n},[t.hiddenInRun?e._e():a("div",{staticClass:"each_property",class:{"vux-1px-b":n<e.warehouseConfig.length-1}},[a("label",[e._v(e._s(t.fieldLabel)+":")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.warehouse[t.fieldCode]||"无"))])])])}),0),e._v(" "),a("div",{staticClass:"common_style"},e._l(e.warehouseDuplicateConfig,function(t,n){return a("div",{key:""+n+t.name},[t.show?a("div",{staticClass:"d_main"},e._l(e.formData[t.name],function(n,r){return a("div",{key:r,staticClass:"content"},[a("div",e._l(t.items,function(t,r){return a("div",{key:r,staticClass:"each_property vux-1px-b"},[a("label",[e._v(e._s(t.text)+":")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(n[t.fieldCode]||"无"))])])}),0)])}),0):e._e()])}),0),e._v(" "),a("div",{staticClass:"creator"},[a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("创建者:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.baseinfo.creatorName))])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("创建时间:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e._f("changeDate")(e.baseinfo.crtTime,!0)))])]),e._v(" "),e.baseinfo.modiferName?a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("修改者:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.baseinfo.modiferName))])]):e._e(),e._v(" "),e.baseinfo.modTime?a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("修改时间:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e._f("changeDate")(e.baseinfo.modTime,!0)))])]):e._e()])]),e._v(" "),a("div",{staticClass:"modify_icon",on:{click:e.goEdit}},[a("span",{staticClass:"icon-edit"})])],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},da6f:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"chart"},[a("div",{staticClass:"filter_time vux-1px-b"},[a("div",{staticClass:"current_time vux-1px-r"},[e._v(e._s(e.defaultTips))]),e._v(" "),a("div",{staticClass:"time_pop",on:{click:function(t){e.dateShow=!e.dateShow}}},[a("span",{staticClass:"tips"},[e._v("日期筛选")]),e._v(" "),a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-arrow-down",class:{"arrow-up":e.dateShow},attrs:{type:"ios-arrow-down",size:"14",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M396.6 160l19.4 20.7L256 352 96 180.7l19.3-20.7L256 310.5z"}})])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.dateShow,expression:"dateShow"}],staticClass:"date vux-1px-b"},[a("div",{staticClass:"choose_date"},[a("div",{staticClass:"start_date"},[a("span",{staticClass:"date_title"},[e._v("起始日期")]),e._v(" "),a("span",{staticClass:"date_value vux-1px",on:{click:e.getStart}},[e._v("\n            "+e._s(e.timeFilter.startDate)+"\n            ")])]),e._v(" "),a("div",{staticClass:"end_date"},[a("span",{staticClass:"date_title"},[e._v("截止日期")]),e._v(" "),a("span",{staticClass:"date_value vux-1px-t",on:{click:e.getEnd}},[e._v("\n            "+e._s(e.timeFilter.EndDate)+"\n          ")])])]),e._v(" "),a("div",{staticClass:"time_sel_btn"},[a("span",{staticClass:"reset",on:{click:e.resetData}},[e._v("重置")]),e._v(" "),a("span",{staticClass:"confirm",on:{click:e.confirm}},[e._v("确认")])])])]),e._v(" "),a("div",{staticClass:"business_amount vux-1px-b"},[a("p",[e._v("销售额")]),e._v(" "),a("p",{staticClass:"amount"},[e._v("\n      ￥"),a("countup",{attrs:{"end-val":e.businessAmount,duration:1,decimals:2}})],1)]),e._v(" "),e._m(0),e._v(" "),a("div",{staticClass:"list_rank vux-1px-t"},[a("div",{staticClass:"list_title"},[e._v("业务员业绩排行榜（前三）")]),e._v(" "),e._l(e.staffRank,function(t,n){return a("div",{key:n,staticClass:"each_staff vux-1px-b"},[a("div",{staticClass:"staff_name"},[a("span",{staticClass:"rank_num"},[e._v("No."+e._s(n+1))]),e._v(" "),a("span",[e._v(e._s(t.handlerName)+" "+e._s(t.handlerRoleName)+" "+e._s(t.handlerUnitName))])]),e._v(" "),a("div",[e._v("￥"+e._s(e._f("numberComma")(e._f("toFixed")(t.total))))])])})],2)])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"customer_rank"},[a("div",{attrs:{id:"pie"}})])}],i={render:n,staticRenderFns:r};t.a=i},dbpI:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("ZLEe"),s=n(o),l=a("KH7x"),d=n(l),u=a("3cXf"),c=n(u),f=a("4YfN"),h=n(f),m=a("MgeX"),v=n(m),p=a("HzJ8"),C=n(p),y=a("PzEQ"),_=n(y),g=a("kNGm"),b=n(g),w=a("0AQX"),I=a("HyXB"),D=a("bKg5"),x=n(D),P=a("lsbD"),S=n(P),k=a("y8YJ"),L=n(k),N=a("+WR7"),M=n(N),T=a("Q67R"),A=n(T),O=a("dBs1"),R=n(O),j=a("hLfv"),B=n(j);a("Qg39"),a("zWMP");t.default={mixins:[x.default],components:{XTextarea:_.default,OpButton:S.default,PopBaseinfo:M.default,PopDealerList:L.default,ApplyMatterPart:A.default,OtherConfigPart:R.default,DealerOtherPart:B.default},data:function(){return{numMap:{},formData:{},orderList:{},otherInfo:{},dealerInfo:{},contactInfo:{},filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"申请单",value:"transCode"}]}},computed:{matterList:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var r,i=(0,C.default)((0,v.default)(this.orderList));!(t=(r=i.next()).done);t=!0){var o=r.value,s=!0,l=!1,d=void 0;try{for(var u,c=(0,C.default)(o);!(s=(u=c.next()).done);s=!0){var f=u.value;e.push(f)}}catch(e){l=!0,d=e}finally{try{!s&&c.return&&c.return()}finally{if(l)throw d}}}}catch(e){a=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(a)throw n}}return e}},methods:{selDealer:function(e){var t=JSON.parse(e)[0];this.matterParams.data&&null!==this.matterParams.data.dealerCode&&(this.orderList={},this.matterParams.data.dealerCode=t.dealerCode),this.dealerInfo=(0,h.default)({dealerName_dealerCodeCredit:t.dealerName},t)},selContact:function(e){this.contactInfo=(0,h.default)({},e)},getMatterModify:function(e,t,a){this.matter=JSON.parse((0,c.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t)},selMatter:function(e){var t=JSON.parse(e),a=JSON.parse((0,c.default)(this.orderList));t.forEach(function(e){e.tdQty=e.tdQty||e.qtyBal,e.taxRate=e.taxRate||.16,e.purchaseDay=(0,b.default)(e.calcTime,"YYYY-MM-DD")||e.purchaseDay,e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null,a[e.transCode]||(a[e.transCode]=[]),a[e.transCode].push(e)}),this.numMap={},this.orderList=a},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t,a){var n=this.selItems,r=n.findIndex(function(e){return e===t});if(-1!==r)return void n.splice(r,1);n.push(t)},showSelIcon:function(e,t){return this.selItems.includes(t)},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=this.matterList.map(function(e,t){return t})},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t={},a=e.selItems;e.matterList.filter(function(e,t){return!a.includes(t)}).forEach(function(e){var a=e.transCode;t[a]||(t[a]=[]),t[a].push(e)}),e.selItems=[],e.orderList=t,e.matterModifyClass=!1}})},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this,t="",a=[],n=this.otherInfo,r=this.dealerInfo,o=this.otherConfig,l=this.dealerConfig;if(t=this.verifyData(l,r),t||(t=this.verifyData(o,n)),!t){var u=(0,d.default)(this.submitMatterField,1),f=u[0],m=void 0===f?{}:f;(0,s.default)(this.orderList).length||(t="请选择"+m.text);var p=!0,y=!1,_=void 0;try{for(var g,b=(0,C.default)((0,v.default)(this.orderList));!(p=(g=b.next()).done);p=!0){var w=g.value,D=!0,x=!1,P=void 0;try{for(var S,k=(0,C.default)(w);!(D=(S=k.next()).done);D=!0){var L=S.value,N={},M=!0,T=!1,A=void 0;try{for(var O,R=(0,C.default)(this.submitMatterField);!(M=(O=R.next()).done);M=!0){var j=O.value,B=L[j.fieldCode]||L[j.displayField]||L[j.showFieldCode];if(!j.hidden&&!j.allowBlank&&!B&&void 0!==B){t=j.text+"不为空";break}N[j.fieldCode]=null!==B?B:null}}catch(e){T=!0,A=e}finally{try{!M&&R.return&&R.return()}finally{if(T)throw A}}a.push(N)}}catch(e){x=!0,P=e}finally{try{!D&&k.return&&k.return()}finally{if(x)throw P}}}}catch(e){y=!0,_=e}finally{try{!p&&b.return&&b.return()}finally{if(y)throw _}}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=I.saveAndStartWf,n=(0,i.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,c.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:"",formData:(0,c.default)((0,h.default)({},e.formData,e.otherInfo,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",dealerCreditContactPersonName:e.contactInfo.dealerName||null,dealerCreditContactInformation:e.contactInfo.dealerMobilePhone||"",order:{dataSet:a,dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName}})),wfPara:(0,c.default)(n)};e.isResubmit&&(t=I.saveAndCommitTask,r.biReferenceId=e.biReferenceId),e.processCode.length||(t=I.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,w.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.formData,n=e.otherConfig,r={};e.listId=t.listId,e.biComment=t.biComment,e.attachment=t.attachment,e.biReferenceId=t.biReferenceId,e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,h.default)({},e.formData,e.handlerDefault,{biId:a.biId,creator:a.creator,modifer:a.modifer,biComment:a.biComment,biProcessStatus:a.biProcessStatus}),e.dealerInfo=(0,h.default)({},e.dealerInfo,{city:a.order.city_dealerCodeCredit,dealerCode:a.order.dealerCodeCredit,dealerLabelName:a.order.crDealerLabel,county:a.order.county_dealerCodeCredit,address:a.order.address_dealerCodeCredit,province:a.order.province_dealerCodeCredit,dealerName:a.order.dealerName_dealerCodeCredit,dealerMobilePhone:a.dealerMobilePhone_dealerCodeCredit,dealerName_dealerCodeCredit:a.order.dealerName_dealerCodeCredit}),e.contactInfo={dealerName:a.dealerCreditContactPersonName,dealerMobilePhone:a.dealerCreditContactInformation},a.order.dataSet.forEach(function(t){t.transCode=t.transMatchedCode,t.inventoryName=t.inventoryName_transObjCode,t.inventoryCode=t.transObjCode,t.inventoryPic=t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),t.qtyBal=t.thenQtyBal,t.processing=t.tdProcessing,t.measureUnit=t.measureUnit_transObjCode,r[t.transCode]||(r[t.transCode]=[]),r[t.transCode].push(t)}),e.orderList=r;var i=!0,o=!1,s=void 0;try{for(var l,d=(0,C.default)(n);!(i=(l=d.next()).done);i=!0){var u=l.value;for(var c in a)u.fieldCode===c&&e.$set(e.otherInfo,c,a[c])}}catch(e){o=!0,s=e}finally{try{!i&&d.return&&d.return()}finally{if(o)throw s}}e.dealerParams.dealerCode=a.order.dealerCodeCredit,e.matterParams.data.dealerCode=a.order.dealerCodeCredit,e.$loading.hide()})},hasDraftData:function(){if((0,v.default)(this.dealerInfo).length)return(0,i.default)({},"ZZSKP_DATA",{invoice:{dealer:this.dealerInfo,otherInfo:this.otherInfo,contactInfo:this.contactInfo,orderList:this.orderList}})}},updated:function(){if(!this.transCode){var e=JSON.parse(sessionStorage.getItem("ZZSKP_DATA"));e&&this.matterParams.data&&(this.dealerInfo=e.invoice.dealer,this.otherInfo=e.invoice.otherInfo,this.orderList=e.invoice.orderList,this.contactInfo=e.invoice.contactInfo,this.matterParams.data.dealerCode=e.invoice.dealer.dealerCode,sessionStorage.removeItem("ZZSKP_DATA"))}}}},dcVo:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=(a("XAqG"),a("HyXB"),a("MjAd")),s=n(o),l=a("ak47");n(l);t.default={name:"CPXQ_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"经办人",value:"handlerName"},{name:"交易号",value:"transCode"},{name:"员工",value:"profileName"}],listViewID:2375}},mixins:[s.default],methods:{pathChange:function(e,t,a){var n=this;if(!this.clickVisited){var r=e.transCode,o=this.$route.query.name,s=this.$route.params,l=s.folder,d=s.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,i.default)({},e));var u=a+"/"+l+"/"+d;setTimeout(function(){n.clickVisited=!1,n.$router.push({path:u,query:{name:o,transCode:r}})},200)}},goDetail:function(e,t){this.pathChange(e,t,"/detail")},goUserEdit:function(e,t){this.pathChange(e,t,"/fillform")}}}},dj3y:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("kNGm"),i=(n(r),a("0AQX")),o=a("+VRO"),s=n(o),l=a("AupE"),d=n(l),u=a("BUFe"),c=n(u),f=a("bFc7"),h=n(f),m=a("3NX5"),v=n(m);t.default={data:function(){return{orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},uploadStyle:{width:"100%",padding:"0.06rem 0.1rem"}}},mixins:[s.default],components:{workFlow:d.default,RAction:c.default,contactPart:h.default,MatterList:v.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,i.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,s=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=s,e.orderInfo=i,e.contactInfo={dealerName:i.dealerName_productDealerCode,dealerMobilePhone:i.dealerDebitContactInformation,dealerContactPersonName:i.dealerDebitContactPersonName},e.workFlowInfoHandler()})},goEdit:function(){var e=this.$route.params,t=e.folder,a=e.fileName,n=this.$route.query.name;this.$router.push({path:"/fillform/"+t+"/"+a,query:{name:n,transCode:this.transCode}})}}}},djgs:function(e,t,a){"use strict";function n(e){a("6WUt")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("+X4v");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("/8IN"),s=a.n(o),l=a("7D89"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-d2ce597e",null);t.default=c.exports},djx7:function(e,t){},doYu:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("3cXf"),s=n(o),l=a("a3Yh"),d=n(l),u=a("7g+Q"),c=n(u),f=a("+62G"),h=n(f),m=a("z5TY"),v=n(m),p=a("BGNQ"),C=n(p),y=a("iR2W"),_=n(y),g=a("u28h"),b=n(g),w=a("SAzG"),I=n(w),D=a("PzEQ"),x=n(D),P=a("HyXB"),S=a("fEP3"),k=a("0AQX"),L=a("bKg5"),N=n(L),M=a("7D9F"),T=n(M),A=a("j4rH"),O=n(A),R=a("JQMB"),j=n(R),B=a("vl8n"),E=n(B),F=a("FlCz"),U=n(F),$=a("+WR7"),H=n($),V=a("0o6b"),q=a("Qg39"),Q=a("zWMP");t.default={directives:{TransferDom:h.default},components:{Popup:c.default,PopWorkStartList:O.default,Group:v.default,Cell:C.default,Datetime:b.default,XInput:I.default,XTextarea:x.default,PopManagerList:T.default,RPicker:E.default,PopFacilityList:j.default,BomList:U.default,PopBaseinfo:H.default},data:function(){return{listId:"c54b3325-a5c1-4d75-a3c4-c6cf0e988aae",showWorkPop:!0,dealer:{},formData:{biComment:""},workInfo:{},defaultManager:{},biProcessStatus:"",scanResult:"",bomList:[],facility:{}}},mixins:[N.default],filters:{numberComma:_.default},methods:{selWork:function(e){var t=this;e.tdQty=e.thenQtyBal,this.workInfo=e,(0,S.getBomWorkStart)(this.workInfo.inventoryCode).then(function(a){var n=a.tableContent,r=void 0===n?[]:n;r.forEach(function(t){t.tdQty=(0,q.toFixed)((0,Q.accMul)(t.qty,e.tdQty,1+t.specificLoss),2)}),t.bomList=r})},selManager:function(e){this.defaultManager=JSON.parse(e),this.workInfo.dealerDebit=this.defaultManager.dealerCode},submitOrder:function(){var e=this,t="",a=[],n=[];this.workInfo.procedureName||(t="请选择工序");var r=[{key:"dealerName",msg:"请填写工人"},{key:"tdQty",msg:"请填写验收数量"},{key:"wareName",msg:"请填写仓库"}];if(t||r.every(function(a){return!!e.workInfo[a.key]||(t=a.msg,!1)}),t)return void this.$vux.alert.show({content:t});var o=this.workInfo;a.push({proPointCode:o.proPointCode,thenQtyBal:o.thenQtyBal,tdQty:o.tdQty,dealerDebit:o.dealerCode,drDealerLabel:o.dealerLabel,proFlowCode:o.proFlowCode||"",facilityObjCode:this.facility.facilityCode||"",facilityTypebase_facilityObjCode:this.facility.facilityType||"",transObjCode:this.workInfo.inventoryCode}),this.bomList.forEach(function(e){n.push({outPutMatCode:e.inventoryCode,inventoryName_outPutMatCode:e.inventoryName,processProCode:e.parentInvCode,tdProcessing:e.processing,specification_outPutMatCode:e.specification,measureUnit_outPutMatCode:e.measureUnit,bomType:e.bomType,bomQty:e.qty,bomSpecificLoss:e.specificLoss,tdQty:e.tdQty})}),this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=P.saveAndStartWf,r=(0,d.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});e.isResubmit&&"进行中"===e.formStatus&&(r={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var l={listId:e.listId,biComment:e.formData.biComment,formData:(0,s.default)((0,i.default)({},e.formData,{handlerEntity:e.entity.dealerName,biProcessStatus:e.biProcessStatus||null,order:{containerCode:o.whInCode,dataSet:a},outPut:{containerCode:o.whInCode,dataSet:n}})),wfPara:(0,s.default)(r)};e.isResubmit&&"进行中"===e.formStatus?(t=P.saveAndCommitTask,l.biReferenceId=e.biReferenceId):e.isResubmit&&"已生效"===e.formStatus&&(t=P.updateData),e.processCode.length||(t=P.submitAndCalc,delete l.wfPara,delete l.biReferenceId),e.biReferenceId&&(l.biReferenceId=e.biReferenceId),e.saveData(t,l)}})},getFormData:function(){var e=this;return(0,k.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=t.attachment;var s=o.order,l=o.outPut,d=s.dataSet,u=void 0===d?[]:d,c=l.dataSet;e.workInfo=(0,i.default)({},u[0],{inventoryCode:u[0].transObjCode,inventoryName:u[0].inventoryName_transObjCode,procedureName:u[0].procedureName_proPointCode,technicsName:u[0].technicsName_proFlowCode,transCode:u[0].transMatchedCode,processing:u[0].tdProcessing||null,wareName:s.warehouseName_containerCode,whInCode:s.containerCode,wareAddress:s.warehouseAddress_containerCode,dealerName:u[0].dealerName_dealerDebit,dealerCode:u[0].dealerDebit,dealerLabel:u[0].drDealerLabel}),e.facility={facilityName:u[0].facilityName_facilityObjCode,facilityCode:u[0].facilityObjCode,facilityType:u[0].facilityTypebase_facilityObjCode},c.forEach(function(e){e.inventoryCode=e.outPutMatCode,e.inventoryName=e.inventoryName_outPutMatCode,e.measureUnit=e.measureUnit_outPutMatCode,e.parentInvCode=e.processProCode,e.processing=e.tdProcessing,e.qty=e.bomQty,e.qtyBal=e.thenQtyStock,e.specification=e.specification_outPutMatCode||"无",e.specificLoss=e.bomSpecificLoss||0}),e.bomList=c,e.warehouse={warehouseCode:s.containerCode,warehouseName:s.warehouseName_containerCode,warehouseType:s.warehouseType_containerCode,warehouseProvince:s.warehouseProvince_containerCode,warehouseCity:s.warehouseCity_containerCode,warehouseDistrict:s.warehouseDistrict_containerCode,warehouseAddress:s.warehouseAddress_containerCode},e.handlerDefault={handler:o.handler,handlerName:o.handlerName,handlerUnit:o.handlerUnit,handlerUnitName:o.handlerUnitName,handlerRole:o.handlerRole,handlerRoleName:o.handlerRoleName},e.formData=(0,i.default)({},e.handlerDefault,{biComment:o.biComment,biId:o.biId,biProcessStatus:o.biProcessStatus,creator:o.creator,modifer:o.modifer}),e.biReferenceId=o.biReferenceId,e.$loading.hide()})},scanQRCode:function(){var e=this;(0,V.scanQRCode)().then(function(t){var a=t.result,n=void 0===a?"":a;e.scanResult=n})},selFacility:function(e){this.facility=e}},created:function(){}}},drPH:function(e,t){},"drc+":function(e,t,a){"use strict";function n(e){a("72Df")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("iBRT");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("8Mec"),s=a.n(o),l=a("yOlZ"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-3acb3bc6",null);t.default=c.exports},dsIq:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"techics-list-container",on:{click:function(t){e.showPop=!e.showPop}}},[a("div",{staticClass:"picker"},[a("label",{class:{required:e.required}},[e._v("工艺路线名称")]),e._v(" "),a("div",{staticClass:"content"},[a("span",{staticClass:"mater_nature"},[e._v(e._s(e.selItems.technicsName||"请选择"))]),e._v(" "),a("span",{staticClass:"icon-right"})])]),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"popup-technics-list-container",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("r-search",{attrs:{filterList:e.filterList,isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list-container",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"mater-list-item",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"info-item"},[a("div",{staticClass:"name"},[e._v(e._s(t.technicsName))])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1)],1)])},r=[],i={render:n,staticRenderFns:r};t.a=i},dx8w:function(e,t){},dyuG:function(e,t,a){"use strict";function n(e){a("HTRD")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("vW/T");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("MjpR"),s=a.n(o),l=a("271e"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,null,null);t.default=c.exports},e0Na:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("kNGm"),s=n(o),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),h=a("AupE"),m=n(h),v=a("kKsb"),p=n(v),C=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70"}},mixins:[u.default],components:{workFlow:m.default,RAction:f.default,ProjectPart:p.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=!0,r=!1,o=void 0;try{for(var l,d=(0,i.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;e.count=(0,C.accAdd)(e.count,u.tdAmount)}}catch(e){r=!0,o=e}finally{try{!n&&d.return&&d.return()}finally{if(r)throw o}}t.formData.validUntil=(0,s.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},eBa9:function(e,t){},eGZN:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("7g+Q"),s=n(o),l=a("+62G"),d=(n(l),a("z5TY")),u=n(d),c=a("BGNQ"),f=n(c),h=a("SAzG"),m=n(h),v=a("1KNX"),p=n(v),C=a("Qg39"),y=a("zWMP");t.default={name:"Bom",props:{show:{type:Boolean,default:!1},bomInfo:{type:Object,default:function(){return{}}},btnIsHide:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!0},specificLossText:{type:String,default:"损耗率"},noSpecificLoss:{type:Boolean,default:!1}},data:function(){return{scrollOptions:{click:!0},showPop:!1,btnNext:"返回"}},components:{Popup:s.default,Group:u.default,Cell:f.default,XInput:m.default,RScroll:p.default},watch:{show:{handler:function(e){this.showPop=e}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()}),this.btnNext="返回"},onHide:function(){this.$emit("input",!1)},confirm:function(){"确认"===this.btnNext&&this.$emit("bom-confirm",(0,i.default)(this.bomInfo)),this.showPop=!1},modifyBom:function(e){var t=this;this.$vux.confirm.prompt(e.specificLoss,{title:this.specificLossText,onConfirm:function(a){if(a){e.specificLoss=Math.abs((0,C.toFixed)(a));var n=(0,y.accMul)(t.bomInfo.tdQty,e.qty,1+e.specificLoss);e.tdQty=Math.abs((0,C.toFixed)(n)),t.btnNext="确认"}}})},getFocus:function(e){event.currentTarget.select()},closePop:function(){this.showPop=!1},changeToConfirm:function(){this.btnNext="确认"}}}},eLoA:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("d3k1"),i=n(r),o=(a("Dkzh"),a("3QQJ")),s=n(o);a("5Ys/"),t.default={name:"app",data:function(){return{tablist:[{title:"应用",path:"/home",icon:"icon-1"},{title:"消息",path:"/notice",icon:"icon-message"}],newsNumber:0}},components:{Badge:s.default},created:function(){var e=this;this.$event.$on("badgeNum",function(t){e.newsNumber=t})},updated:function(){i.default.isAndroid&&window.addEventListener("resize",function(){"INPUT"!==document.activeElement.tagName&&"TEXTAREA"!==document.activeElement.tagName||setTimeout(function(){document.activeElement.scrollIntoViewIfNeeded()},0)})}}},eMi5:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"matter-item"},[a("div",{staticClass:"mater_img"},[a("img",{attrs:{src:e.matter.inventoryPic,alt:"mater_img"},on:{error:function(t){e.getDefaultImg(e.item)}}})]),e._v(" "),a("div",{staticClass:"mater_main"},[a("div",{staticClass:"mater_name"},[e._v("\n      "+e._s(e.matter.inventoryName||e.matter.invName||e.matter.facilityName)+"\n      "),e.showDelete?e._e():a("span",{staticClass:"icon-matter-bianji",on:{click:function(t){return t.stopPropagation(),e.modifyMatter(t)}}})]),e._v(" "),a("div",{staticClass:"matter_more"},e._l(e.config,function(t,n){return a("div",{key:n,staticClass:"each_info"},[a("span",{staticClass:"title"},[e._v(e._s(t.text)+":")]),e._v(" "),t.showFieldCode?a("span",[e._v("\n          "+e._s(null!=e.matter[t.showFieldCode]&&""!==e.matter[t.showFieldCode]?e.matter[t.showFieldCode]:"无")+"\n        ")]):a("span",[e._v("\n          "+e._s(null!=e.matter[t.fieldCode]&&""!==e.matter[t.fieldCode]?e.matter[t.fieldCode]:"无")+"\n        ")])])}),0),e._v(" "),e._t("info",null,{item:e.item})],2)])},r=[],i={render:n,staticRenderFns:r};t.a=i},eNNU:function(e,t,a){"use strict";function n(e){a("gEh4")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("dHch");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("qeco"),s=a.n(o),l=a("AKWE"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-a8c53be8",null);t.default=c.exports},eQNG:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("d3k1"),i=n(r),o=(a("Dkzh"),a("3QQJ")),s=n(o);a("5Ys/"),t.default={name:"app",data:function(){return{tablist:[{title:"应用",path:"/home",icon:"icon-1"},{title:"消息",path:"/notice",icon:"icon-message"}],newsNumber:0}},components:{Badge:s.default},created:function(){var e=this;this.$event.$on("badgeNum",function(t){e.newsNumber=t})},updated:function(){i.default.isAndroid&&window.addEventListener("resize",function(){"INPUT"!==document.activeElement.tagName&&"TEXTAREA"!==document.activeElement.tagName||setTimeout(function(){document.activeElement.scrollIntoViewIfNeeded()},0)})}}},eQeJ:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("3cXf"),s=n(o),l=a("4YfN"),d=n(l),u=a("7g+Q"),c=n(u),f=a("+62G"),h=n(f),m=a("z5TY"),v=n(m),p=a("BGNQ"),C=n(p),y=a("iR2W"),_=n(y),g=a("u28h"),b=n(g),w=a("SAzG"),I=n(w),D=a("PzEQ"),x=n(D),P=a("0AQX"),S=a("HyXB"),k=a("bKg5"),L=n(k),N=a("VZtf"),M=n(N),T=a("9cRV"),A=n(T),O=a("y8YJ"),R=n(O),j=a("yt3/"),B=n(j),E=a("hLfv"),F=n(E),U=a("luHD"),$=n(U),H=a("vl8n"),V=n(H),q=a("+WR7"),Q=n(q),Y=a("zWMP");t.default={data:function(){return{showMatterPop:!1,showMaterielPop:!1,matterList:[],dealer:{},contact:{},formData:{},dealerInfo:{},checkFieldList:[{key:"tdQty",message:"请填写数量"},{key:"price",message:"请填写含税单价"},{key:"taxRate",message:"请填写税率"}]}},directives:{TransferDom:h.default},components:{XInput:I.default,XTextarea:x.default,Group:v.default,Cell:C.default,Popup:c.default,PopMatter:$.default,RNumber:M.default,PopMatterList:A.default,PopDealerList:R.default,PopSingleSelect:B.default,Datetime:b.default,RPicker:V.default,PopBaseinfo:Q.default,DealerOtherPart:F.default},mixins:[L.default],filters:{numberComma:_.default},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],this.formData.drDealerLogisticsTerms=this.dealerInfo.dealerLogisticsTerms,this.dealerInfo.drDealerPaymentTerm=this.dealerInfo.paymentTerm,this.dealerInfo.drDealerLogisticsTerms=this.dealerInfo.dealerLogisticsTerms},selContact:function(e){this.contact=(0,d.default)({},e),this.formData.dealerDebitContactPersonName=this.contact.dealerName||"",this.formData.dealerDebitContactInformation=this.contact.dealerMobilePhone},getMatter:function(){this.showMaterielPop=!this.showMaterielPop},selMatter:function(e){var t=JSON.parse(e);t.map(function(e){e.tdQty=e.tdQty||"",e.price=e.price||"",e.taxRate=e.taxRate||.16,e.promDeliTime=e.promDeliTime||"",e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null}),this.matterList=t},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(t){return t.inventoryCode===e.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(e)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,s.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this;if(this.dealerInfo.dealerName)if(this.matterList.length){var t="",a=[];if(this.matterList.every(function(n){if(!n.tdQty)return t="请填写数量",!1;if(!n.price)return t="请输入含税单价",!1;var r=n.taxRate||e.taxRate,i=((0,Y.accMul)(n.price,n.tdQty,r),{tdId:n.tdId||"",inventoryName_transObjCode:n.inventoryName,transObjCode:n.inventoryCode,tdProcessing:n.processing,assMeasureUnit:n.invSubUnitName||null,assMeasureScale:n.invSubUnitMulti||null,assMeasureDescription:n.invSubUnitComment||null,assistQty:n.assistQty||0,tdQty:n.tdQty,price:n.price,noTaxPrice:n.noTaxPrice,taxRate:r,taxAmount:n.taxAmount,tdAmount:n.tdAmount,promDeliTime:n.promDeliTime||"",comment:n.comment||""});return a.push(i),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=S.saveAndStartWf,n=(0,i.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:e.formData.biComment,formData:(0,s.default)((0,d.default)({},e.formData,e.dealer,{handlerEntity:e.entity.dealerName,order:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,drDealerPaymentTerm:e.dealerInfo.paymentTerm,dataSet:a}})),wfPara:(0,s.default)(n)};e.isResubmit&&(t=S.saveAndCommitTask,r.biReferenceId=e.biReferenceId),e.processCode.length||(t=S.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})}else this.$vux.alert.show({content:"请选择物料"});else this.$vux.alert.show({content:"请选择客户"})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.attachment=t.attachment;var a=t.formData;a.order.dataSet.map(function(t){t=(0,d.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode}),e.matterList.push(t)}),e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,d.default)({},e.handlerDefault,{creator:a.creator,modifer:a.modifer,dealerDebitContactPersonName:a.dealerDebitContactPersonName,dealerDebitContactInformation:a.dealerDebitContactInformation,drDealerLogisticsTerms:a.drDealerLogisticsTerms,duringDate:a.duringDate,biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus}),e.dealerInfo={creatorName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation,dealerCode:a.order.dealerDebit,dealerSubclass:a.order.drAccountSub,dealerLabelName:a.order.drDealerLabel,dealerName:a.order.dealerName_dealerDebit,province:a.order.province_dealerDebit,city:a.order.city_dealerDebit,county:a.order.county_dealerDebit,address:a.order.address_dealerDebit,paymentTerm:a.order.drDealerPaymentTerm||"现付"},e.contact={dealerName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation},e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,i.default)({},"XSDDYC_DATA",{matter:this.matterList,dealerInfo:this.dealerInfo,dealer:this.dealer,formData:this.formData,contact:this.contact})}},created:function(){var e=sessionStorage.getItem("XSDDYC_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.dealerInfo=t.dealerInfo,this.dealer=t.dealer,this.formData=t.formData,this.contact=t.contact,sessionStorage.removeItem("XSDDYC_DATA")}}}},eQoa:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("7g+Q"),i=n(r),o=a("HXPS"),s=n(o);t.default={name:"PopSingleSelect",props:{title:{type:String,default:""},value:{type:String,default:""},data:{type:Array,default:function(){return[]}},isRequired:{type:Boolean,default:!1}},components:{Popup:i.default,Icon:s.default},data:function(){return{showPop:!1,tmp:"",selected:""}},watch:{value:{handler:function(e){this.tmp=e,this.selected=e}}},methods:{selItem:function(e){this.tmp=e},confirm:function(){this.selected=this.tmp,this.showPop=!1,this.$emit("input",this.selected)}},created:function(){this.tmp=this.value,this.selected=this.value}}},eRTo:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("IHPB"),s=n(o),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),h=n(f),m=a("6q39"),v=n(m),p=a("jLp1"),C=a("1KNX"),y=n(C),_=a("7biW"),g=n(_);t.default={name:"PopProjectList",props:{defaultValue:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:h.default,LoadMore:v.default,RScroll:y.default,MSearch:g.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},projectList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},watch:{defaultValue:function(){this.selItems=(0,d.default)({},this.defaultValue)}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},showSelIcon:function(e){return e.PROJECT_NAME===this.selItems.PROJECT_NAME},selThis:function(e,t){this.showPop=!1,this.selItems=(0,d.default)({},e),this.$emit("sel-project",this.selItems)},getProjectLsit:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,s.default)(t),[{operator:"like",value:this.srhInpTx,property:"PROJECT_NAME"}])),(0,p.getProjectList)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,i.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+i.length,e.projectList=1===e.page?i:[].concat((0,s.default)(e.projectList),(0,s.default)(i)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.projectList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getProjectLsit()},onPullingUp:function(){this.page++,this.getProjectLsit()},itemClick:function(){this.showPop=!0}},created:function(){this.selItems=(0,d.default)({},this.defaultValue),this.getProjectLsit()}}},eXbP:function(e,t){},ebgK:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("kNGm"),s=(n(o),a("0AQX")),l=a("+VRO"),d=n(l),u=a("BUFe"),c=n(u),f=a("AupE"),h=n(f),m=a("zWMP");t.default={data:function(){return{count:0,cashInfo:{}}},mixins:[d.default],components:{workFlow:h.default,RAction:c.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=t.formData,r=n.order,o=void 0===r?{}:r,s=n.inPut,l=void 0===s?{}:s;e.attachment=a,e.cashInfo=l.dataSet[0];var d=o.dataSet,u=!0,c=!1,f=void 0;try{for(var h,v=(0,i.default)(d);!(u=(h=v.next()).done);u=!0){var p=h.value;e.count=(0,m.accAdd)(e.count,p.tdAmount)}}catch(e){c=!0,f=e}finally{try{!u&&v.return&&v.return()}finally{if(c)throw f}}e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},ecQd:function(e,t){},eeRS:function(e,t,a){"use strict";function n(e){a("oTyr")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("KiER");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("iZJL"),s=a.n(o),l=a("lQN8"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-7ac58dea",null);t.default=c.exports},eg0j:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("3cXf"),s=n(o),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("7g+Q"),h=n(f),m=a("+62G"),v=n(m),p=a("z5TY"),C=n(p),y=a("SAzG"),_=n(y),g=a("7qeq"),b=(n(g),a("u28h")),w=n(b),I=a("PzEQ"),D=n(I),x=a("iR2W"),P=n(x),S=a("kNGm"),k=n(S),L=a("dyuG"),N=n(L),M=a("L6VY"),T=(n(M),a("jnZd")),A=n(T),O=a("0AQX"),R=a("HyXB"),j=a("bKg5"),B=n(j),E=a("vl8n"),F=n(E),U=a("y8YJ"),$=n(U),H=a("iikc"),V=n(H),q=a("+WR7"),Q=n(q),Y=a("Qg39");t.default={data:function(){return{listId:"32a2c333-02a3-416f-a133-95c7a32da678",showDealerPop:!1,dealerInfo:{},formData:{modifer:"",biId:"",dealerDebit:"",drDealerLabel:"",dealerDebitContactPersonName:"",dealerDebitContactInformation:"",opportunityTitle:"",comment:"",tdAmount:"",biProcessStatus:"",validUntil:"",salesPerson:"",salesChannels:[],categoryLabels:[],biComment:""},biReferenceId:"",categoryLabels:[],currentType:[],contactInfo:{}}},directives:{TransferDom:v.default},components:{Cell:c.default,Popup:h.default,Group:C.default,XInput:_.default,PopupPicker:A.default,Datetime:w.default,XTextarea:D.default,PopupRadio:N.default,RPicker:F.default,PopDealerList:$.default,PopSalesmanList:V.default,PopBaseinfo:Q.default},mixins:[B.default],filters:{numberComma:P.default},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],this.formData.dealerDebitContactPersonName=this.dealerInfo.creatorName||"",this.formData.dealerDebitContactInformation=this.dealerInfo.dealerMobilePhone,this.formData.drDealerLabel=this.dealerInfo.dealerLabelName,this.formData.dealerDebit=this.dealerInfo.dealerCode},selContact:function(e){var t=(0,d.default)({},e);this.contactInfo=t,this.formData.dealerDebitContactPersonName=t.dealerName||"",this.formData.dealerDebitContactInformation=t.dealerMobilePhone||""},submitOrder:function(){var e=this,t="",a=[{key:"opportunityTitle",message:"请填写商机标题"},{key:"tdAmount",message:"请填写预期销售额"}];if("{}"==(0,s.default)(this.dealerInfo)&&(t="请选择客户"),t||(this.otherConfig.every(function(a){return a.allowBlank||e.formData[a.fieldCode]?!(!a.allowBlank&&e.formData[a.fieldCode]<0)||(t="抱歉，销售额不允许为负数",!1):(t=a.message,!1)}),a.every(function(a){return e.formData[a.key]?!(e.formData[a.key]<0)||(t="抱歉，销售额不允许为负数",!1):(t=a.message,!1)})),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=R.saveAndStartWf,a=(0,d.default)({creator:e.formData.handler},e.formData,{salesChannels:e.formData.salesChannels,categoryLabels:e.formData.categoryLabels,modifer:e.formData.handler,handlerEntity:e.entity.dealerName}),n={listId:e.listId,biComment:"",formData:(0,s.default)(a),wfPara:(0,s.default)((0,i.default)({},e.processCode,{businessKey:e.businessKey,createdBy:a.creator}))};e.isResubmit&&(t=R.saveAndCommitTask,n.biReferenceId=e.biReferenceId,n.wfPara=(0,s.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=R.submitAndCalc,delete n.wfPara,delete n.biReferenceId),e.biReferenceId&&(n.biReferenceId=e.biReferenceId),e.saveData(t,n)}})},getFormData:function(){var e=this;return(0,O.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,s=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=s;i.order;e.dealerInfo={creatorName:i.dealerDebitContactPersonName||"",dealerName:i.dealerName_dealerDebit||"",dealerMobilePhone:i.dealerDebitContactInformation||"",dealerCode:i.dealerDebit||"",dealerLabelName:i.drDealerLabel||"客户",province:i.province_dealerDebit||"",city:i.city_dealerDebit||"",county:i.county_dealerDebit||"",address:i.address_dealerDebit||""},e.contactInfo={dealerName:i.dealerDebitContactPersonName||"",dealerMobilePhone:i.dealerDebitContactInformation||""},e.handlerDefault={handler:i.handler,handlerName:i.handlerName,handlerUnit:i.handlerUnit,handlerUnitName:i.handlerUnitName,handlerRole:i.handlerRole,handlerRoleName:i.handlerRoleName},e.formData=(0,d.default)({},e.formData,i,e.handlerDefault,{biComment:i.biComment,biId:i.biId,biProcessStatus:i.biProcessStatus,categoryLabels:[i.categoryLabels],salesChannels:[i.salesChannels],creator:i.creator,modifer:i.modifer,validUntil:(0,k.default)(i.validUntil,"YYYY-MM-DD")}),e.categoryLabels=[i.categoryLabels],e.biReferenceId=i.biReferenceId,e.$loading.hide()})},checkAmt:function(e){e&&(this.formData.tdAmount=Math.abs((0,Y.toFixed)(e)))},getTypeLabel:function(){var e=this;(0,R.getDictByType)("categoryLabels").then(function(t){var a=t.tableContent,n=void 0===a?[]:a,r=[];n.forEach(function(e){r.push(e.name)}),e.currentType.push(r)})},hasDraftData:function(){var e=this.formData;if(e.dealerDebit||e.opportunityTitle||e.tdAmount||e.biProcessStatus)return(0,i.default)({},"SJ_DATA",{formData:e,dealerInfo:this.dealerInfo,contactInfo:this.contactInfo,categoryLabels:this.categoryLabels})}},created:function(){var e=sessionStorage.getItem("SJ_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.contactInfo=t.contactInfo,this.categoryLabels=t.categoryLabels,sessionStorage.removeItem("SJ_DATA")}this.getTypeLabel()}}},eg1s:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("IHPB"),i=n(r),o=a("fQlz"),s=n(o),l=a("+AeB"),d=n(l);t.default={name:"REmotion",props:{show:{type:Boolean,default:!0}},components:{Emotion:d.default},data:function(){return{emotionList:[].concat((0,i.default)(s.default))}},methods:{emotionClick:function(e,t){this.$emit("on-select","["+e+"]")}},created:function(){}}},ei2D:function(e,t){},eoI8:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("MjAd"),s=n(o),l=a("Qg39"),d=a("zWMP");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2435,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"协议号",value:"transMatchedCode"}]}},mixins:[s.default],watch:{listData:{handler:function(e){var t=!0,a=!1,n=void 0;try{for(var r,o=(0,i.default)(e);!(t=(r=o.next()).done);t=!0){var s=r.value;s.count=0;var u=!0,c=!1,f=void 0;try{for(var h,m=(0,i.default)(s.detailItem);!(u=(h=m.next()).done);u=!0){var v=h.value;s.count=(0,l.toFixed)((0,d.accAdd)(s.count,v.tdAmountCopy1))}}catch(e){c=!0,f=e}finally{try{!u&&m.return&&m.return()}finally{if(c)throw f}}}}catch(e){a=!0,n=e}finally{try{!t&&o.return&&o.return()}finally{if(a)throw n}}}}}}},eq7N:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("IHPB"),s=n(o),l=a("4YfN"),d=n(l),u=a("Jwlx"),c=n(u),f=a("HXPS"),h=n(f),m=a("7g+Q"),v=n(m),p=a("6q39"),C=(n(p),a("L6VY")),y=n(C),_=a("iR2W"),g=n(_),b=a("7biW"),w=n(b),I=a("hFVz"),D=a("1KNX"),x=n(D);t.default={name:"PopDealerList",props:{dealerLabelName:{type:String,default:"供应商"},defaultValue:{type:Object,default:function(){return{}}},required:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"},request:{type:String,default:"0"},params:{type:Object,default:function(){return{}}}},components:{Icon:h.default,Popup:v.default,DSearch:w.default,RScroll:x.default},data:function(){return{page:1,limit:10,hasNext:!0,showDealerPop:!1,srhInpTx:"",selInfo:{},selItems:[],listData:[],scrollOptions:{pullUpLoad:!0},requestMethods:null}},watch:{defaultValue:{handler:function(){var e=this.defaultValue;this.selInfo=(0,c.default)((0,d.default)({},e)),this.selItems=[(0,d.default)({},e)]},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showDealerPop=!1},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.dealerCode===e.dealerCode})},selItem:function(e,t){this.showDealerPop=!1,this.selItems=[e],this.selInfo=(0,c.default)((0,d.default)({},e)),this.$emit("sel-item",(0,d.default)({},this.selInfo))},getDealer:function(){var e=this,t=[];if(this.srhInpTx){var a="nickname";["3"].includes(this.request)&&(a="dealerName"),t=[].concat((0,s.default)(t),[{operator:"like",value:this.srhInpTx,property:a}])}return this.requestMethods((0,d.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,i.default)(t)},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+i.length,e.listData=1===e.page?i:[].concat((0,s.default)(e.listData),(0,s.default)(i)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})}).catch(function(e){y.default.show({content:e.message})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getDealer()},itemClick:function(){this.showDealerPop=!0},onPullingUp:function(){this.page++,this.getDealer()}},filters:{numberComma:g.default},created:function(){var e=[I.getPaySupplierArrears,I.getDepositToPaySuppliers,I.getSaleAcceptanceBill,I.getObjDealerBalByLabelName];this.requestMethods=e[this.request],this.getDealer()}}},erBg:function(e,t,a){"use strict";function n(e){a("DCfM")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("5eL4");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("5+pH"),s=a.n(o),l=a("ca8F"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-5a4a731e",null);t.default=c.exports},esH7:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("IHPB"),s=n(o),l=a("4YfN"),d=n(l),u=a("Jwlx"),c=n(u),f=a("L6VY"),h=n(f),m=a("iR2W"),v=n(m),p=a("QHLv"),C=a("0Nk0"),y=n(C);t.default={name:"PopCashList",props:{defaultValue:{type:Object,default:function(){return{}}},required:{type:Boolean,default:!1},request:{type:String,default:"0"},params:{type:Object,default:function(){return{}}}},components:{RPopup:y.default},data:function(){return{page:1,limit:10,hasNext:!0,showDealerPop:!1,srhInpTx:"",selInfo:{},selItems:[],listData:[],scrollOptions:{pullUpLoad:!0},requestMethods:null}},watch:{defaultValue:{handler:function(){this.selInfo=(0,c.default)((0,d.default)({},this.defaultValue))},immediate:!0}},methods:{selItem:function(e){this.selInfo=(0,d.default)({},e),this.$emit("sel-item",(0,d.default)({},e))},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,s.default)(t),[{operator:"like",value:this.srhInpTx,property:"fundName"}])),this.requestMethods((0,d.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,i.default)(t)},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+i.length,e.listData=1===e.page?i:[].concat((0,s.default)(e.listData),(0,s.default)(i))}).catch(function(e){h.default.show({content:e.message})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()}},filters:{numberComma:v.default},created:function(){var e=[p.getEmployeeReserveFunds,p.getSupplierToPayDeposit,p.getFundCashDiscount,p.getObjFundBalByType,p.getComplexExpenseReimbursement];this.requestMethods=e[this.request],this.getList()}}},esl5:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("3cXf"),s=n(o),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),h=a("AupE"),m=n(h),v=a("bFc7"),p=n(v),C=a("6WeX"),y=n(C),_=a("3NX5"),g=n(_);a("zWMP");t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"",contactInfo:{}}},components:{workFlow:m.default,RAction:f.default,contactPart:p.default,PriceTotal:y.default,MatterList:g.default},mixins:[u.default],methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(e.submitInfo=JSON.parse((0,s.default)(t)),!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=!0,r=!1,o=void 0;try{for(var l,d=(0,i.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;u.inventoryPic=u.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+u.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){r=!0,o=e}finally{try{!n&&d.return&&d.return()}finally{if(r)throw o}}e.matterList=t.formData.order.dataSet,e.orderInfo=t.formData,e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo={creatorName:a.dealerDebitContactPersonName,dealerName:a.dealerName_dealerDebit,dealerMobilePhone:t.dealerDebitContactInformation,dealerCode:a.dealerDebit,dealerLabelName:a.drDealerLabel,province:a.province_dealerDebit,city:a.city_dealerDebit,county:a.county_dealerDebit,address:a.address_dealerDebit,payment:a.drDealerPaymentTerm,logistics:t.drDealerLogisticsTerms}}}}},evww:function(e,t){},ewRl:function(e,t,a){"use strict";function n(e){a("wVRi")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("bOiH");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("eg0j"),s=a.n(o),l=a("QMPH"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-70c584f9",null);t.default=c.exports},ezSw:function(e,t,a){"use strict";function n(e){a("Y5WQ")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("y2/q");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("hrbZ"),s=a.n(o),l=a("+ARd"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-1bf45f98",null);t.default=c.exports},"f+88":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"inPage"},[a("div",{ref:"home",staticClass:"content"},[a("div",{staticClass:"wrapper"},[a("div",{staticClass:"top-part-container"},[a("div",{staticClass:"top-part"},[a("div",{staticClass:"user-info-container"},[a("div",{staticClass:"user_avatar"},[a("img",{attrs:{src:e.userInfo.avatar}})]),e._v(" "),a("div",{staticClass:"user-info"},[a("p",{staticClass:"user_name"},[e._v(e._s(e.userInfo.nickname))]),e._v(" "),a("p",{staticClass:"user_other"},[e._v("@"+e._s(e.userInfo.userCode))])])]),e._v(" "),a("div",{staticClass:"entity-part",class:{active:e.showDrop},on:{click:function(t){e.showDrop=!e.showDrop}}},[a("span",{staticClass:"entity_name"},[e._v(e._s(e.userInfo.entityName))]),e._v(" "),e.entityList.length>1?a("span",{staticClass:"iconfont",class:{"icon-xia":!e.showDrop,"icon-shang":e.showDrop}}):e._e(),e._v(" "),a("ul",{directives:[{name:"show",rawName:"v-show",value:e.showDrop,expression:"showDrop"}],staticClass:"r-dropdown-list"},e._l(e.entityList,function(t,n){return a("li",{key:n,staticClass:"r-dropdown-item",class:{"vux-1px-b":n!==e.entityList.length-1},on:{click:function(a){a.stopPropagation(),e.dropItemClick(t)}}},[a("div",{staticClass:"each_item",class:{"active is-being-sel":e.selItem.groupCode===t.groupCode}},[a("p",{staticClass:"full_name"},[e._v(e._s(t.groupName))]),e._v(" "),a("p",{staticClass:"shor_name"},[e._v("简称: "+e._s(t.groupShortName))])]),e._v(" "),e.selItem.groupCode===t.groupCode?a("div",{staticClass:"tips_part"},[a("span",{staticClass:"tips_word"},[e._v("当前选中")])]):e._e()])}),0)])])]),e._v(" "),a("basic-app",{attrs:{BasicApps:e.BasicApps,goBasic:e.goBasic,goAppDetail:e.goAppDetail}}),e._v(" "),a("bus-app",{attrs:{BusApps:e.BusApps,goList:e.goList,goAppDetail:e.goAppDetail,getDefaultIcon:e.getDefaultIcon}})],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showDrop,expression:"showDrop"}],staticClass:"close-part",on:{click:function(t){e.showDrop=!1}}})])},r=[],i={render:n,staticRenderFns:r};t.a=i},f06H:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("lC5x"),i=n(r),o=a("3cXf"),s=n(o),l=a("HzJ8"),d=n(l),u=a("J0Oq"),c=n(u),f=a("kNGm"),h=n(f),m=a("h+4q"),v=a("HyXB"),p=a("1KNX"),C=n(p);t.default={filters:{dateFormat:h.default,changeDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return"";"string"==typeof e&&(e=e.replace(/-/g,"/").replace(/\..*/g,""));var a="YYYY-MM-DD";return t&&(a="YYYY-MM-DD HH:mm:ss"),(0,h.default)(e,a)}},data:function(){return{typeSub:"group",listId:"64a41c48-4e8d-4709-bd01-5d60ad6bc625",typeToSubMap:{"配送中心仓":"groupCode","加工商仓":"processorsDealerCode","加工车间仓":"groupCode","客户仓":"customerDealerCode","渠道商仓":"channelDealerCode","个人仓":"staffDealerCode","一般部门仓":"groupCode"},typeSubMap:{staff:{title:"员工",dealerLabelName:"员工",key:"staffDealerCode",value:"",code:"",list:[]},group:{title:"组织",dealerLabelName:"",key:"groupCode",value:"",code:"",list:[]},customer:{title:"客户",dealerLabelName:"客户",key:"customerDealerCode",value:"",code:"",list:[]},processors:{title:"加工商",dealerLabelName:"加工商",key:"processorsDealerCode",value:"",code:"",list:[]},channel:{title:"渠道商",dealerLabelName:"渠道商",key:"channelDealerCode",value:"",code:"",list:[]},noMatched:{title:"",dealerLabelName:"",key:"",value:"",code:"",list:[]}},viewId:"",MatPic:"",transCode:"",baseinfo:{},formData:{},warehouse:{},warehouseConfig:[],warehouseDuplicateConfig:[]}},components:{RScroll:C.default},methods:{getDefaultImg:function(){this.MatPic=a("t732")},goEdit:function(){this.$router.push({path:"/warehouse/edit_warehouse",query:{transCode:this.transCode}})},getFormViewInfo:function(){var e=this;return(0,c.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,v.getFormViews)(e.listId).then(function(t){var a=!0,n=!1,r=void 0;try{for(var i,o=(0,d.default)(t);!(a=(i=o.next()).done);a=!0){var s=i.value;if("view"===s.viewType){e.viewId=s.uniqueId;break}}}catch(e){n=!0,r=e}finally{try{!a&&o.return&&o.return()}finally{if(n)throw r}}});case 2:return t.next=4,(0,v.getFormConfig)(e.viewId).then(function(t){var a=t.config,n=void 0===a?[]:a,r=[],i=[];n.forEach(function(e){e.isMultiple?e.hiddenInRun||"r2Fileupload"===e.xtype||i.push(JSON.parse((0,s.default)(e))):r=JSON.parse((0,s.default)(e.items))}),r.forEach(function(t){t.hiddenInRun||"warehouseCode"!==t.fieldCode&&"warehouseName"!==t.fieldCode&&"warehousePic"!==t.fieldCode&&"warehouseProvince"!==t.fieldCode&&"warehouseCity"!==t.fieldCode&&"warehouseDistrict"!==t.fieldCode&&"warehouseAddress"!==t.fieldCode&&"warehouseStatus"!==t.fieldCode&&e.warehouseConfig.push(t)}),i.forEach(function(e){switch(e.name){case"warehouseRel":e.title="库位"}var t=[];e.items.forEach(function(e){e.hidden||t.push(e)}),e.items=t}),e.warehouseDuplicateConfig=i});case 4:case"end":return t.stop()}},t,e)}))()},getDepart:function(){var e=this;return(0,m.getDepartMentWage)().then(function(t){var a=t.tableContent,n=!0,r=!1,i=void 0;try{for(var o,s=(0,d.default)(a);!(n=(o=s.next()).done);n=!0){var l=o.value;l.GROUP_CODE===e.warehouse.groupCode&&e.$set(e.warehouse,"groupCode",l.GROUP_NAME)}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}})},findData:function(){var e=this;return(0,c.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,m.getwarehouseInfo)(e.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a;t.attachment;e.formData=n,e.warehouseDuplicateConfig.forEach(function(t){if(e.formData[t.name]&&!e.formData[t.name].length)return void(t.show=!1);t.show=!0});var r=n.baseinfo,i=void 0===r?{}:r,o=n.warehouse,s=void 0===o?{}:o;switch(s.warehouseStatus){case 1:s.warehouseStatus="使用中";break;case 2:s.warehouseStatus="未使用";break;case 0:s.warehouseStatus="草稿";break;case-1:s.warehouseStatus="停用"}e.hasDefault=!0,e.baseinfo=i,e.warehouse=s,e.typeSub=e.typeToSubMap[e.warehouse.warehouseType];var l=!0,u=!1,c=void 0;try{for(var f,h=(0,d.default)(e.warehouseConfig);!(l=(f=h.next()).done);l=!0){var m=f.value;m.fieldCode===e.typeSub?m.hiddenInRun=!1:"staffDealerCode"!==m.fieldCode&&"groupCode"!==m.fieldCode&&"customerDealerCode"!==m.fieldCode&&"customerDealerCode"!==m.fieldCode&&"processorsDealerCode"!==m.fieldCode&&"channelDealerCode"!==m.fieldCode||(m.hiddenInRun=!0)}}catch(e){u=!0,c=e}finally{try{!l&&h.return&&h.return()}finally{if(u)throw c}}e.warehouse.warehousePic?e.MatPic="/H_roleplay-si/ds/download?url="+e.warehouse.warehousePic+"&width=400&height=400":e.getDefaultImg(),e.biReferenceId=e.warehouse.referenceId,e.$loading.hide()});case 2:return t.next=4,e.getDepart();case 4:case"end":return t.stop()}},t,e)}))()}},created:function(){var e=this;this.$loading.show();var t=this.$route.query;t.transCode&&(this.transCode=t.transCode,(0,c.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getFormViewInfo();case 2:return t.next=4,e.findData();case 4:case"end":return t.stop()}},t,e)}))())}}},"f4G+":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("7g+Q"),s=n(o),l=a("+62G"),d=(n(l),a("z5TY")),u=n(d),c=a("BGNQ"),f=n(c),h=a("SAzG"),m=n(h),v=a("1KNX"),p=n(v),C=a("Qg39"),y=a("zWMP");t.default={name:"Bom",props:{show:{type:Boolean,default:!1},bomInfo:{type:Object,default:function(){return{}}},btnIsHide:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!0},specificLossText:{type:String,default:"损耗率"},noSpecificLoss:{type:Boolean,default:!1}},data:function(){return{scrollOptions:{click:!0},showPop:!1,btnNext:"返回"}},components:{Popup:s.default,Group:u.default,Cell:f.default,XInput:m.default,RScroll:p.default},watch:{show:{handler:function(e){this.showPop=e}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()}),this.btnNext="返回"},onHide:function(){this.$emit("input",!1)},confirm:function(){"确认"===this.btnNext&&this.$emit("bom-confirm",(0,i.default)(this.bomInfo)),this.showPop=!1},modifyBom:function(e){var t=this;this.$vux.confirm.prompt(e.specificLoss,{title:this.specificLossText,onConfirm:function(a){if(a){e.specificLoss=Math.abs((0,C.toFixed)(a));var n=(0,y.accMul)(t.bomInfo.tdQty,e.qty,1+e.specificLoss);e.tdQty=Math.abs((0,C.toFixed)(n)),t.btnNext="确认"}}})},getFocus:function(e){event.currentTarget.select()},closePop:function(){this.showPop=!1},changeToConfirm:function(){this.btnNext="确认"}}}},f6AZ:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{on:{"on-sort":e.onSortList}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noCount:"",noPrice:""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},f6zL:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("BGNQ"),i=n(r),o=a("z5TY"),s=n(o),l=a("kNGm"),d=n(l),u=a("0AQX"),c=a("+VRO"),f=n(c),h=a("Qg39"),m=a("BUFe"),v=n(m),p=a("AupE"),C=n(p),y=a("bFc7"),_=n(y);t.default={data:function(){return{count:0,orderInfo:{},contactInfo:{},formViewUniqueId:"5446fc51-1d16-489a-ab2b-6b2292bb7be5"}},mixins:[f.default],components:{Cell:i.default,Group:s.default,RAction:v.default,workFlow:C.default,contactPart:_.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment,e.count=e.count/100,t.formData.validUntil=(0,d.default)(t.formData.validUntil,"YYYY-MM-DD"),t.formData.tdAmount=(0,h.toFixed)(t.formData.tdAmount),e.orderInfo=t.formData,e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.orderInfo);this.contactInfo={creatorName:e.dealerDebitContactPersonName,dealerName:e.dealerName_dealerDebit,dealerMobilePhone:e.dealerDebitContactInformation,dealerContactPersonName:e.dealerDebitContactPersonName,dealerCode:e.dealerDebit,dealerLabelName:e.drDealerLabel,province:e.province_dealerDebit,city:e.city_dealerDebit,county:e.county_dealerDebit,address:e.address_dealerDebit,payment:e.drDealerPaymentTerm,validUntil:e.validUntil,logistics:e.drDealerLogisticsTerms}}}}},f7hs:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages xmjh-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-name-list",{attrs:{"default-value":e.project},on:{"sel-item":e.selProject}}),e._v(" "),e._l(e.projectPlan,function(t,n){return a("div",{key:n,staticClass:"materiel_list project_plan",class:{"vux-1px-t":n>0}},[a("div",{staticClass:"title"},[e._v("任务计划"+e._s(n+1))]),e._v(" "),a("group",{staticClass:"SJ_group",on:{"group-title-margin-top":function(e){}}},[a("x-input",{attrs:{title:"任务名称","text-align":"right",placeholder:"请填写"},model:{value:t.taskName,callback:function(a){e.$set(t,"taskName",a)},expression:"item.taskName"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("任务名称")])])],2),e._v(" "),a("popup-picker",{attrs:{title:"任务类型",data:e.projectTypes},on:{"on-change":function(a){e.typeTask(a,t)}},model:{value:t.taskTypes,callback:function(a){e.$set(t,"taskTypes",a)},expression:"item.taskTypes"}}),e._v(" "),a("x-input",{attrs:{title:"周期天数",type:"number","text-align":"right",placeholder:"请填写"},on:{"on-blur":function(a){e.checkTime(t,"cycleDays",2)}},model:{value:t.cycleDays,callback:function(a){e.$set(t,"cycleDays",e._n(a))},expression:"item.cycleDays"}}),e._v(" "),a("x-input",{attrs:{title:"标准工时",type:"number","text-align":"right",placeholder:"请填写"},on:{"on-blur":function(a){e.checkTime(t,"planTime")}},model:{value:t.planTime,callback:function(a){e.$set(t,"planTime",e._n(a))},expression:"item.planTime"}}),e._v(" "),a("x-input",{attrs:{title:"作业费率",type:"number","text-align":"right",placeholder:"请填写"},on:{"on-blur":function(a){e.checkTime(t,"jobRate",2)}},model:{value:t.jobRate,callback:function(a){e.$set(t,"jobRate",e._n(a))},expression:"item.jobRate"}}),e._v(" "),a("cell",{attrs:{title:"预算作业成本",value:t.budgetHomeworkCost}}),e._v(" "),a("x-input",{attrs:{title:"任务说明","text-align":"right"},model:{value:t.comment,callback:function(a){e.$set(t,"comment",a)},expression:"item.comment"}}),e._v(" "),a("datetime",{attrs:{title:"截止日期"},model:{value:t.deadline,callback:function(a){e.$set(t,"deadline",a)},expression:"item.deadline"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("计划截止日期")])])],2)],1)],1)}),e._v(" "),a("div",{staticClass:"XMJH_add"},[a("div",[e._v("您还需要添加新的计划? 请点击\n          "),a("span",{on:{click:e.addPlan}},[e._v("添加")]),e._v(" "),e.projectPlan.length>1?a("em",[e._v("或")]):e._e(),e._v(" "),e.projectPlan.length>1?a("span",{on:{click:e.delatePlan}},[e._v(" 删除")]):e._e()])]),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"其他信息"}},[a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1),e._v(" "),a("upload-file",{on:{"on-upload":e.onUploadFile}})],2)]),e._v(" "),a("div",{staticClass:"btn vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"cfm_btn",on:{click:e.save}},[e._v("提交")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},fCs9:function(e,t,a){"use strict";function n(e){a("dRU1")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("rZl4");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("BM9o"),s=a.n(o),l=a("QpJC"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-c751d6c0",null);t.default=c.exports},fEP3:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getTaskWorkList=t.getBomWorkCheck=t.getBomWorkStart=t.getWorkStartList=t.getWorkGDBLLList=t.getWorkCheckList=t.getObjFacility=t.getWorkOrderTask=void 0;var r=a("3cXf"),i=n(r),o=a("4YfN"),s=n(o),l=a("GOq4"),d=n(l),u=t.getWorkOrderTask=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/ds/getWorkOrderTask",data:e})},c=t.getObjFacility=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/ds/getObjFacility",data:e})},f=(t.getWorkCheckList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/ds/getWorkCheck",data:e})},t.getWorkGDBLLList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/ds/getWorkReplenishment",data:(0,s.default)({_dc:Date.now(),refresh:!0},e)})}),h=t.getWorkStartList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/H_roleplay-si/ds/getWorkOrderStart",data:(0,s.default)({_dc:Date.now()},e)})},m=t.getBomWorkStart=function(e){return d.default.ajax({url:"/H_roleplay-si/ds/getBomWorkOrderStart",data:{_dc:Date.now(),filter:(0,i.default)([{operator:"in",property:"parentInvCode",value:e}])}})};t.getBomWorkCheck=function(e){var t=e.transCode,a=void 0===t?"":t,n=e.inventoryCode,r=void 0===n?"":n;return d.default.ajax({url:"/H_roleplay-si/ds/getBomWorkOrderCheck",data:{_dc:Date.now(),filter:(0,i.default)([{operator:"in",property:"startCode",value:a},{operator:"in",property:"parentInvCode",value:r}])}})},t.getTaskWorkList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.ajax({url:"/account-api/account/getView",data:(0,s.default)({},e,{user_code:1,view_scope:"data",page:1,start:0,limit:100})})};t.default={getObjFacility:c,getWorkOrderTask:u,getWorkGDBLLList:f,getWorkStartList:h,getBomWorkStart:m}},fJ2I:function(e,t,a){"use strict";function n(e){a("OV+5")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("JeEO");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("o+wH"),s=a.n(o),l=a("bZiz"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,null,null);t.default=c.exports},fJPz:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("IHPB"),i=n(r),o=a("3cXf"),s=n(o),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),h=n(f),m=a("+62G"),v=n(m),p=a("vS5q"),C=a("1KNX"),y=n(C),_=a("7biW"),g=n(_);t.default={name:"PopWarehouseStoreList",props:{defaultValue:{type:Object,default:function(){return{}}},storeParams:{type:Object,default:function(){return{}}}},directives:{TransferDom:v.default},components:{Icon:c.default,Popup:h.default,RScroll:y.default,DSearch:g.default},data:function(){return{storeStorePop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},computed:{noAddress:function(){var e=this.selItems,t=e.warehouseProvince,a=void 0===t?"":t,n=e.warehouseCity,r=void 0===n?"":n,i=e.warehouseDistrict,o=void 0===i?"":i,s=e.warehouseAddress,l=void 0===s?"":s;return!(a||r||o||l)}},watch:{defaultValue:{handler:function(e){this.selItems=this.defaultValue?(0,d.default)({},this.defaultValue):{}},immediate:!0},storeParams:{handler:function(e,t){var a=(0,s.default)(e);(0,s.default)(t)!==a&&(this.resetCondition(),this.getObjWarehouseRel())},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.storeStorePop=!1},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this.getObjWarehouseRel()},showSelIcon:function(e){return this.selItems.warehouseCode===e.warehouseCode},resetCondition:function(){this.page=1,this.hasNext=!0,this.listData=[]},selThis:function(e,t){this.storeStorePop=!1,this.selItems=e,this.$emit("sel-store",this.selItems)},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getObjWarehouseRel:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,i.default)(t),[{operator:"like",value:this.srhInpTx,property:"warehouseName"}])),(0,p.getObjWarehouseRel)((0,d.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(t)},this.storeParams)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,o=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+o.length,e.listData=1===e.page?o:[].concat((0,i.default)(e.listData),(0,i.default)(o)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getObjWarehouseRel()},onPullingUp:function(){this.page++,this.getObjWarehouseRel()},warehouseClick:function(){this.storeStorePop=!this.storeStorePop}},created:function(){}}},fJmN:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("ZLEe"),s=n(o),l=a("3cXf"),d=n(l),u=a("4YfN"),c=n(u),f=a("KH7x"),h=n(f),m=a("MgeX"),v=n(m),p=a("HzJ8"),C=n(p),y=a("PzEQ"),_=n(y),g=a("SAzG"),b=n(g),w=a("BGNQ"),I=n(w),D=a("z5TY"),x=n(D),P=a("0AQX"),S=a("HyXB"),k=a("bKg5"),L=n(k),N=a("y8YJ"),M=n(N),T=a("89pA"),A=n(T),O=a("yt3/"),R=n(O),j=a("luHD"),B=n(j),E=a("hLfv"),F=n(E),U=a("VZtf"),$=n(U),H=a("vl8n"),V=n(H),q=a("+WR7"),Q=n(q),Y=a("Q67R"),X=n(Y),G=a("lsbD"),W=n(G),z=(a("zWMP"),a("Qg39"));t.default={data:function(){return{orderList:{},showDealerPop:!1,dealerInfo:{},formData:{biId:"",biComment:""},submitSuccess:!1,showWarehousePop:!1,warehouse:{warehouseType:"一般部门仓",warehouseName:"原料仓",warehouseCode:"MA0001"},warehouseStoreInfo:{},transCode:"",biReferenceId:"",actions:[],taskId:"",showMaterielPop:!1,showMatterPop:!1,modifyIndex:null,modifyKey:null,selItems:[],contactInfo:{},filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"订单号",value:"transCode"}],numMap:{}}},computed:{matterList:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var r,i=(0,C.default)((0,v.default)(this.orderList));!(t=(r=i.next()).done);t=!0){var o=r.value,s=!0,l=!1,d=void 0;try{for(var u,c=(0,C.default)(o);!(s=(u=c.next()).done);s=!0){var f=u.value;e.push(f)}}catch(e){l=!0,d=e}finally{try{!s&&c.return&&c.return()}finally{if(l)throw d}}}}catch(e){a=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(a)throw n}}return e}},components:{XTextarea:_.default,XInput:b.default,RNumber:$.default,Cell:I.default,Group:x.default,PopDealerList:M.default,PopWarehouseList:A.default,PopSingleSelect:R.default,PopMatter:B.default,RPicker:V.default,PopBaseinfo:Q.default,DealerOtherPart:F.default,ApplyMatterPart:X.default,OpButton:W.default},mixins:[L.default],methods:{selDealer:function(e){var t=JSON.parse(e),a=(0,h.default)(t,1),n=a[0];this.dealerInfo=n,this.dealerInfo.drDealerPaymentTerm=this.dealerInfo.paymentTerm,this.matterParams.data&&null!=this.matterParams.data.dealerCode&&(this.matterParams.data.dealerCode=this.dealerInfo.dealerCode,this.orderList={})},selContact:function(e){this.contactInfo=(0,c.default)({},e)},selWarehouse:function(e){this.warehouse=JSON.parse(e),null!=this.matterParams.data.whCode&&(this.matterParams.data.whCode=this.warehouse.warehouseCode,this.orderList={})},getStore:function(e){this.warehouseStoreInfo=(0,c.default)({},e),this.matterParams.data&&null!=this.matterParams.data.storehouseCode&&(this.matterParams.data.storehouseCode=this.warehouseStoreInfo.warehouseCode,this.orderList={})},selMatter:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){var a=e.transCode+"_"+e.inventoryCode,r=e.transCode?e.transCode:"noCode",i=t.numMap[a]||{},o=i.tdQty,s=void 0===o?"":o,l=i.price,d=void 0===l?e.price:l,u=i.taxRate,c=void 0===u?e.taxRate||t.taxRate:u;e.tdQty=s,e.price=d,e.taxRate=c,e.tdProcessing=e.processing,e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null,n[r]||(n[r]=[]),n[r].push(e)}),this.orderList=n},getMatterModify:function(e,t,a){this.matter=JSON.parse((0,d.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t)},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},findIndex:function(e,t){return e.findIndex(function(e){return e.inventoryCode===t.inventoryCode&&e.transCode===t.transCode})},delClick:function(e,t,a){var n=this.selItems,r=this.findIndex(n,e);if(-1!==r)return void n.splice(r,1);n.push(e)},showSelIcon:function(e){return-1!==this.findIndex(this.selItems,e)},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,d.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t={};e.matterList.filter(function(t,a){return-1===e.findIndex(e.selItems,t)}).forEach(function(e){var a=e.transCode?e.transCode:"noCode";t[a]||(t[a]=[]),t[a].push(e)}),e.orderList=t,e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=!0,t=!1,a=void 0;try{for(var n,r=(0,C.default)((0,v.default)(this.orderList));!(e=(n=r.next()).done);e=!0){var i=n.value,o=!0,s=!1,l=void 0;try{for(var d,u=(0,C.default)(i);!(o=(d=u.next()).done);o=!0){var f=d.value;this.numMap[f.transCode+"_"+f.inventoryCode]=(0,c.default)({},f)}}catch(e){s=!0,l=e}finally{try{!o&&u.return&&u.return()}finally{if(s)throw l}}}}catch(e){t=!0,a=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw a}}this.showMaterielPop=!this.showMaterielPop},checkAmt:function(e,t,a){var n=e.storehouseQtyBal;switch(a=Math.abs((0,z.toFixed)(a)),t){case"tdQty":n&&a>n&&(a=n)}e[t]=a},submitOrder:function(){var e=this,t="",a=[],n=[{key:"dealerInfo",childKey:"dealerCode",message:"供应商信息"},{key:"dealerInfo",childKey:"drDealerPaymentTerm",message:"结算方式"},{key:"warehouse",message:"仓库"},{key:"warehouseStoreInfo",childKey:"warehouseCode",message:"库位"}],r=this.submitMatterField;n.every(function(a){return a.childKey&&!e[a.key][a.childKey]?(t="请选择"+a.message,!1):!!e[a.key]||(t="请选择"+a.message,!1)}),t||(0,s.default)(this.orderList).length||(t="请选择物料");var o=!0,l=!1,u=void 0;try{for(var f,h=(0,C.default)((0,v.default)(this.orderList));!(o=(f=h.next()).done);o=!0){var m=f.value,p=!0,y=!1,_=void 0;try{for(var g,b=(0,C.default)(m);!(p=(g=b.next()).done);p=!0){var w=g.value,I={},D=!0,x=!1,P=void 0;try{for(var k,L=(0,C.default)(r);!(D=(k=L.next()).done);D=!0){var N=k.value,M=w[N.fieldCode]||w[N.displayField]||w[N.showFieldCode];if(!N.hidden&&!N.allowBlank&&!M){t=N.text+"不为空";break}I[N.fieldCode]=null!==M?void 0!==M?M:"":null}}catch(e){x=!0,P=e}finally{try{!D&&L.return&&L.return()}finally{if(x)throw P}}a.push(I)}}catch(e){y=!0,_=e}finally{try{!p&&b.return&&b.return()}finally{if(y)throw _}}}}catch(e){l=!0,u=e}finally{try{!o&&h.return&&h.return()}finally{if(l)throw u}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=S.saveAndStartWf,n={},r=(0,i.default)({},e.processCode,{businessKey:e.businessKey,createdBy:e.formData.handler});n=(0,c.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",dealerDebitContactPersonName:e.contactInfo.dealerName||"",dealerDebitContactInformation:e.contactInfo.dealerMobilePhone||"",containerOutWarehouseManager:e.warehouse.containerInWarehouseManager||null,outPut:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName||"供应商",drDealerPaymentTerm:e.dealerInfo.drDealerPaymentTerm,containerCodeOut:e.warehouse.warehouseCode,storehouseOutCode:e.warehouseStoreInfo.warehouseCode,dataSet:a}}),e.transCode&&(t=S.saveAndCommitTask,r={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var o={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,d.default)(n),wfPara:(0,d.default)(r)};e.transCode||delete o.biReferenceId,e.processCode.length||(t=S.submitAndCalc,delete o.wfPara,delete o.biReferenceId),e.biReferenceId&&(o.biReferenceId=e.biReferenceId),e.saveData(t,o)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,s=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=s;var l={},d=i.outPut,u=(i.dealerDebit,d.dataSet),f=void 0===u?[]:u,h=e.submitMatterField,m=!0,v=!1,p=void 0;try{for(var y,_=(0,C.default)(f);!(m=(y=_.next()).done);m=!0){var g=y.value,b=g.orderCode?g.orderCode:"noCode",w=!0,I=!1,D=void 0;try{for(var x,P=(0,C.default)(h);!(w=(x=P.next()).done);w=!0){var S=x.value;g[S.displayField||S.showFieldCode||S.fieldCode]=g[S.fieldCode]}}catch(e){I=!0,D=e}finally{try{!w&&P.return&&P.return()}finally{if(I)throw D}}g.inventoryPic=g.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+g.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),g.processing=g.tdProcessing,g.inventoryName=g.inventoryName_outPutMatCode,g.specification=g.specification_outPutMatCode,g.measureUnit=g.measureUnit_outPutMatCode,delete g.orderCode,l[b]||(l[b]=[]),l[b].push(g)}}catch(e){v=!0,p=e}finally{try{!m&&_.return&&_.return()}finally{if(v)throw p}}e.dealerInfo={creatorName:i.dealerName_dealerDebit,dealerName:d.dealerName_dealerDebit,dealerMobilePhone:i.dealerDebitContactInformation,dealerDebitContactPersonName:i.dealerDebitContactPersonName,dealerCode:d.dealerDebit,paymentTerm:d.drDealerPaymentTerm,drDealerPaymentTerm:d.drDealerPaymentTerm,dealerLabelName:d.drDealerLabel,province:d.province_dealerDebit,city:d.city_dealerDebit,county:d.county_dealerDebit,address:d.address_dealerDebit},e.contactInfo={dealerName:i.dealerDebitContactPersonName,dealerMobilePhone:i.dealerDebitContactInformation},e.warehouse={warehouseCode:d.containerCodeOut,warehouseName:d.warehouseName_containerCodeOut,warehouseType:d.warehouseType_containerCodeOut,warehouseProvince:d.warehouseProvince_containerCodeOut,warehouseCity:d.warehouseCity_containerCodeOut,warehouseDistrict:d.warehouseDistrict_containerCodeOut,warehouseAddress:d.warehouseAddress_containerCodeOut,containerInWarehouseManager:d.containerInWarehouseManagerOut},e.warehouseStoreInfo={warehouseCode:d.storehouseOutCode,warehouseName:d.warehouseName_storehouseOutCode,warehouseType:d.warehouseType_containerCodeOut,warehouseProvince:d.warehouseProvince_containerCodeOut,warehouseCity:d.warehouseCity_containerCodeOut,warehouseDistrict:d.warehouseDistrict_containerCodeOut,warehouseAddress:d.warehouseAddress_containerCodeOut},e.matterParams.data={dealerCode:e.dealerInfo.dealerCode,whCode:e.warehouse.warehouseCode,storehouseCode:e.warehouseStoreInfo.warehouseCode},e.handlerDefault={handler:i.handler,handlerName:i.handlerName,handlerUnit:i.handlerUnit,handlerUnitName:i.handlerUnitName,handlerRole:i.handlerRole,handlerRoleName:i.handlerRoleName},e.formData=(0,c.default)({},e.formData,e.handlerDefault,{biComment:i.biComment,biId:i.biId,biProcessStatus:i.biProcessStatus,creator:i.creator,modifer:i.modifer}),e.biReferenceId=i.biReferenceId,e.orderList=l,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,i.default)({},"CGTHCK_DATA",{dealer:this.dealerInfo,contactInfo:this.contactInfo,warehouse:this.warehouse,warehouseStoreInfo:this.warehouseStoreInfo,formData:this.formData,orderList:this.orderList})},getRelationData:function(){var e=this,t=this.$route.query.uniqueId;return(0,P.getSOList)({formViewUniqueId:t,transCode:this.relationKey}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r;t.attachment;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var s=o.inPut,l=s.dataSet,d=void 0===l?[]:l;d=d.map(function(t){return(0,c.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,transCode:e.relationKey,qtyBal:t.tdQty,tdQty:""})}),e.dealerInfo={creatorName:o.dealerCreditContactPersonName,dealerName:outPut.dealerName_dealerCodeCredit,dealerMobilePhone:o.dealerCreditContactInformation,dealerCode:outPut.dealerCode_dealerCodeCredit,dealerLabelName:outPut.crDealerLabel,province:outPut.province_dealerCodeCredit,city:outPut.city_dealerCodeCredit,county:outPut.county_dealerCodeCredit,address:outPut.address_dealerCodeCredit},e.matterParams={dealerCode:e.dealerInfo.dealerCode},e.orderList=(0,i.default)({},e.relationKey,d),e.DealerPaymentTerm=o.drDealerPaymentTerm||"现付",e.$loading.hide()})}},created:function(){var e=sessionStorage.getItem("CGTHCK_DATA");if(e){var t=JSON.parse(e);this.orderList=t.orderList,this.dealerInfo=t.dealer,this.contactInfo=t.contactInfo,this.warehouse=t.warehouse,this.warehouseStoreInfo=t.warehouseStoreInfo,this.formData=t.formData,sessionStorage.removeItem("CGTHCK_DATA")}}}},fK8l:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"each-msg",class:{visited:e.item.visited}},[a("div",{staticClass:"app-img-part"},[a("img",{attrs:{src:e.item.list&&e.item.list[0].pic,alt:"appImg"},on:{error:function(t){e.getDefaultImg(e.item[0]||"")}}})]),e._v(" "),a("div",{staticClass:"msg-container-part",class:{"vux-1px-b":!e.noBorder}},[a("div",{staticClass:"top_part"},[a("span",{staticClass:"app_name"},[e._v(e._s(e.name))]),e._v(" "),a("span",{staticClass:"msg_time"},[e._v(e._s(e._f("handleCrt")(e.item.list)))])]),e._v(" "),a("div",{staticClass:"main_part"},[a("span",{staticClass:"info"},[e._v("您收到"+e._s(e.item.list&&e.item.list.length>1?"多":"一")+"条新的消息")]),e._v(" "),a("badge",{attrs:{text:e.item.list&&e.item.list.length}})],1)])])},r=[],i={render:n,staticRenderFns:r};t.a=i},fKU2:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("3pyw"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"countup",mounted:function(){var e=this;this.$nextTick(function(){e._countup=new r.default(e.$el,e.startVal,e.endVal,e.decimals,e.duration,e.options),e.start&&e._countup.start()})},props:{tag:{type:String,default:"span"},start:{type:Boolean,default:!0},startVal:{type:Number,default:0},endVal:{type:Number,required:!0},decimals:{type:Number,default:0},duration:{type:Number,default:2},options:{type:Object,default:function(){return{}}}},render:function(e){return e(this.tag,{},[this.startVal])},watch:{start:function(e){e&&this._countup.start()},endVal:function(e){this._countup.update(e)}}}},fMId:function(e,t,a){"use strict";function n(e){a("HGYk")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("274J");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("1/RG"),s=a.n(o),l=a("1JuA"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-5f36cd14",null);t.default=c.exports},fPYh:function(e,t,a){"use strict";function n(e){a("aLbf")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("fd/A");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("V2cg"),s=a.n(o),l=a("Q/3e"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-e1b5fc4a",null);t.default=c.exports},fQlz:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["微笑","撇嘴","色","发呆","得意","流泪","害羞","闭嘴","睡","大哭","尴尬","发怒","调皮","呲牙","惊讶","难过","酷","冷汗","抓狂","吐","偷笑","可爱","白眼","傲慢","饥饿","困","惊恐","流汗","憨笑","大兵","奋斗","咒骂","疑问","嘘","晕","折磨","衰","骷髅","敲打","再见","擦汗","抠鼻","鼓掌","糗大了","坏笑","左哼哼","右哼哼","哈欠","鄙视","委屈","快哭了","阴险","亲亲","吓","可怜","菜刀","西瓜","啤酒","篮球","乒乓","咖啡","饭","猪头","玫瑰","凋谢","示爱","爱心","心碎","蛋糕","闪电","炸弹","刀","足球","瓢虫","便便","月亮","太阳","礼物","拥抱","强","弱","握手","胜利","抱拳","勾引","拳头","差劲","爱你","NO","OK","爱情","飞吻","跳跳","发抖","怄火","转圈","磕头","回头","跳绳","挥手","激动","街舞","献吻","左太极","右太极"]},fQz5:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("BJMS");a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,function(){return n[e]})}(r);var i=a("73SI"),o=a.n(i),s=a("0GX7"),l=a("C7Lr"),d=l(o.a,s.a,!1,null,null,null);t.default=d.exports},fSEr:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sort-part vux-1px-b"},[e._l(e.data,function(t,n){return a("div",{key:n,staticClass:"each-sort",class:{"active vux-1px-b":e.property===t.key},on:{click:function(a){e.sortClick(t,n)}}},[a("div",{staticClass:"sort_name"},[e._v(e._s(t.name))]),e._v(" "),t.key?a("div",{staticClass:"arrow"},[a("span",{staticClass:"arrow_up",class:[e.property===t.key&&"ASC"===e.sort?"icon-up-fill":"icon-up"]}),e._v(" "),a("span",{staticClass:"arrow_down",class:[e.property===t.key&&"DESC"===e.sort?"icon-down-fill":"icon-down"]})]):e._e()])}),e._v(" "),a("div",{staticClass:"filter-part",class:{active:this.timeFilter.startDate||this.timeFilter.endDate||Object.keys(this.fieldVlaue).length},on:{click:function(t){e.showFilter=!0}}},[a("span",{staticClass:"filter_name"},[e._v("筛选")]),e._v(" "),a("span",{staticClass:"icon-filter"})]),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{attrs:{position:"right"},on:{"on-hide":e.onHide,"on-show":e.onShow},model:{value:e.showFilter,callback:function(t){e.showFilter=t},expression:"showFilter"}},[a("div",{staticClass:"filter-container-part"},[a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions}},[e._l(e.statusList,function(t,n,r){return a("div",{key:n,staticClass:"process-status-container vux-1px-b"},[t.value.length?[a("div",{staticClass:"process-wrapper"},[a("div",{staticClass:"filter_title"},[e._v(e._s(e.statusList[n].alias))]),e._v(" "),a("div",{staticClass:"process_status"},e._l(e.statusList[n].value,function(t,r){return a("div",{key:r,staticClass:"each_status",class:{"active vux-1px":e.showSelIcon(t,n)},on:{click:function(a){e.selProcee(t,n,r)}}},[a("div",{staticClass:"status_content"},[e._v(e._s(t))])])}),0)])]:e._e()],2)}),e._v(" "),a("div",{staticClass:"time-filter-container vux-1px-b"},[a("div",{staticClass:"filter_title"},[e._v("时间段")]),e._v(" "),a("div",{staticClass:"specific_time"},e._l(e.specificTimeList,function(t,n){return a("div",{key:n,staticClass:"each_specific_time",class:{"active vux-1px":e.SpecTimeKey===n},on:{click:function(t){e.pickSpecTime(n)}}},[a("div",{staticClass:"time_content"},[e._v(e._s(t))])])}),0),e._v(" "),a("div",{staticClass:"time_filter"},[a("div",{staticClass:"each_time",class:{"active vux-1px":e.tmpTimeFilter.startDate},on:{click:e.getStart}},[e._v("\n                "+e._s(e.tmpTimeFilter.startDate||"开始日期")+"\n              ")]),e._v(" "),a("span",{staticClass:"symbol"}),e._v(" "),a("div",{staticClass:"each_time",class:{"active vux-1px":e.tmpTimeFilter.endDate},on:{click:e.getEnd}},[e._v("\n                "+e._s(e.tmpTimeFilter.endDate||"结束日期")+"\n              ")])])]),e._v(" "),e._l(e.filtersList,function(t,n,r){return"biProcessStatus"!==n&&t.value.length?a("div",{key:r,staticClass:"process-status-container vux-1px-b"},[a("div",{staticClass:"process-wrapper"},[a("div",{staticClass:"filter_title ",on:{click:function(e){t.showAll=!t.showAll}}},[a("span",[e._v(e._s(t.alias))]),e._v(" "),a("span",{staticClass:"arrow icon-filter-down",class:{"icon-filter-up":t.showAll}})]),e._v(" "),a("div",{staticClass:"process_status"},e._l(t.value,function(r,i){return a("div",{directives:[{name:"show",rawName:"v-show",value:i<3||t.showAll,expression:"index < 3 || val.showAll"}],key:i,staticClass:"each_status",class:{"active vux-1px":e.showSelIcon(r,n)},on:{click:function(t){e.selProcee(r,n)}}},[a("div",{staticClass:"status_content"},[e._v(e._s(r))])])}),0)])]):e._e()})],2),e._v(" "),a("div",{staticClass:"handle-part vux-1px-t"},[a("span",{staticClass:"reset_btn",on:{click:e.filterReset}},[e._v("重置")]),e._v(" "),a("span",{staticClass:"confirm_btn",on:{click:e.filterConfirm}},[e._v("确定")])])],1)])],1)],2)},r=[],i={render:n,staticRenderFns:r};t.a=i},fSHU:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("kNGm"),s=(n(o),a("SAzG")),l=n(s),d=a("0AQX"),u=a("+VRO"),c=n(u),f=a("BUFe"),h=n(f),m=a("AupE"),v=n(m),p=a("bFc7"),C=n(p),y=a("CKaN"),_=n(y),g=a("zWMP"),b=a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",contactInfo:{},dealerInfo:{},cashInfo:{}}},computed:{isInCharge:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"d7ef0729-4a55-46fe-a750-e5298042c5bc"===t},isApproval:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"65afdac2-db7d-42d1-a059-7fdb98892134"===t},isCashier:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"14128204-e4ee-4688-98c7-9d3c03e7a3ad"===t},isAccount:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"b8490da9-513f-408b-8974-83998188bf6a"===t},cashParams:function(){return{transCode:this.transCode}},isEditAdmout:function(){var e=!1;return this.otherConfig.forEach(function(t){"tdAmount"===t.fieldCode&&(e=t.readOnly)}),e||(this.cashInfo=(0,i.default)({},this.cashInfo,{fundCode:this.cashInfo.fundCode||this.cashInfo.cashInCode,fundType:this.cashInfo.fundType||this.cashInfo.cashType_cashInCode,fundName:this.cashInfo.fundName||this.cashInfo.fundName_cashInCode,thenAmntBal:this.cashInfo.thenAmntBal||this.cashInfo.thenAmntBalCopy1})),e}},mixins:[c.default],components:{workFlow:v.default,RAction:h.default,contactPart:C.default,PopCashList:_.default,XInput:l.default},methods:{checkAmt:function(){var e=this.cashInfo.tdAmount;e&&(this.cashInfo.tdAmount=Math.abs((0,b.toFixed)(e)))},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,d.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment,e.orderInfo=t.formData,e.dealerInfo=t.formData.order.dataSet[0],e.cashInfo=t.formData.outPut.dataSet[0],e.workFlowInfoHandler()})},agreeHandler:function(){if(this.isApproval||this.isCashier||this.isAccount){if(this.isCashier&&!this.cashInfo.fundCode)return this.$vux.alert.show({content:"请选择资金账户"}),!0;var e=this.orderInfo,t=this.dealerInfo,a=this.cashInfo,n=(0,i.default)({},e,{order:{dataSet:[{tdIdCopy1:t.tdIdCopy1,dealerCodeCredit:t.dealerCodeCredit,crDealerLabel:t.crDealerLabel,applicationType:t.applicationType,tdCreditLine:t.tdCreditLine,thenAmntBalCopy1:t.thenAmntBalCopy1,thenTotalAmntBal:t.thenTotalAmntBal,tdAmountCopy1:t.tdAmountCopy1,differenceAmount:t.differenceAmount,expCause:t.expCause}]},outPut:{dataSet:[{cashInCode:a.fundCode||a.cashInCode,cashType_cashInCode:a.fundType||a.cashType_cashInCode,thenAmntBal:a.thenAmntBal,tdAmount:a.tdAmount,tdId:a.tdId}]}});return this.saveData(n),!0}return!1},selCash:function(e){this.cashInfo=(0,i.default)({},this.cashInfo,e)},calcPayment:function(e){var t=e.thenAmntBalCopy1,a=void 0===t?0:t,n=e.tdAmountCopy1,r=void 0===n?0:n;r||(r=0),r=(0,b.toFixed)(r),e.tdAmountCopy1=r,e.differenceAmount=(0,b.toFixed)((0,g.accAdd)(a,r))}}}},fVUX:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages xsbj-list-conatiner",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noQty:"",noCount:""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},fW10:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"100%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("m-search",{attrs:{filterList:e.filterList,isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions}},e._l(e.taskWorkList,function(t,n){return a("div",{key:n,staticClass:"each-work box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"work-main"},[a("div",{staticClass:"work_mid"},[a("div",{directives:[{name:"show",rawName:"v-show",value:"验收"===e.workType,expression:"workType === '验收'"}],staticClass:"order-code"},[a("span",{staticClass:"order-title"},[e._v("启动单号")]),e._v(" "),a("span",{staticClass:"order-num"},[e._v(e._s(t.transCode))])]),e._v(" "),a("div",{staticClass:"product_name"},[e._v("\n                "+e._s(t.inventoryName)+"\n                ")])]),e._v(" "),a("div",{staticClass:"work_mid"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.orderCode,expression:"item.orderCode"}],staticClass:"product_unit"},[a("span",{staticClass:"each_unit"},[e._v("工单派工号: "+e._s(t.orderCode))])]),e._v(" "),a("div",{staticClass:"product_unit"},[a("span",{staticClass:"each_unit"},[e._v("加工订单号: "+e._s("验收"===e.workType?t.processCode:t.transCode))]),e._v(" "),a("span",{staticClass:"each_unit"},[e._v("工序: "+e._s(t.procedureName))])]),e._v(" "),a("div",{staticClass:"product_unit"},[a("span",{staticClass:"each_unit"},[e._v("总数: "+e._s(t.productDemandQty))]),e._v(" "),a("span",{staticClass:"each_unit"},[e._v("已"+e._s(e.workType)+": "+e._s(t.thenLockQty))]),e._v(" "),a("span",{staticClass:"each_unit"},[e._v("可"+e._s(e.workType)+": "+e._s(t.thenQtyBal||t.qtyBal))])])])]),e._v(" "),a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-circle-outline selIcon",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0),e._v(" "),a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.btnHandle}},[e._v(e._s(e.btnText))])])],1)])],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},fWhy:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper xsbj-detail-container"},[e.orderInfo?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("warehouse-content",{attrs:{"warehouse-config":e.warehouseConfig}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_content"},[a("div",{staticClass:"main_content"},e._l(e.fundConfig,function(t,n){return a("div",{key:n,staticClass:"vux-1px-b"},["r2Datefield"===t.editorType?[a("div",{staticClass:"each_info"},[a("label",[e._v(e._s(t.fieldLabel))]),e._v(" "),a("span",{staticClass:"field_value"},[e._v(e._s(e._f("timeSplit")(e.workInfo[t.fieldCode])))])])]:[a("div",{staticClass:"each_info"},[a("label",[e._v(e._s(t.fieldLabel))]),e._v(" "),a("span",{staticClass:"field_value"},[e._v(e._s(e.workInfo[t.fieldCode]))])])]],2)}),0)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.bomList.length,expression:"bomList.length"}],staticClass:"bom_list"},[a("bom-list",{attrs:{boms:e.bomList},scopedSlots:e._u([{key:"specification",fn:function(t){var n=t.bom;return[a("div",{directives:[{name:"show",rawName:"v-show",value:n.specification_outPutMatCode,expression:"bom.specification_outPutMatCode"}],staticClass:"content-unit"},[a("span",[e._v("产品规格: "+e._s(n.specification_outPutMatCode))])])]}},{key:"number",fn:function(t){var n=t.bom;return[a("div",{staticClass:"number-part"},[a("span",{staticClass:"main-number"},[e._v("数量: "+e._s(n.tdQty)+e._s(n.measureUnit_outPutMatCode))]),e._v(" "),a("span",{staticClass:"number-unit"},[e._v("bom数量: "+e._s(n.bomQty))]),e._v(" "),a("span",{staticClass:"number-unit"},[e._v("损耗率: "+e._s(n.bomSpecificLoss))])])]}}])})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[],i={render:n,staticRenderFns:r};t.a=i},fXwS:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"r-number-container"},[a("span",{staticClass:"r-number-handle iconfont icon-iconfontmove",class:{disabled:e.min&&e.currentNum<=e.min},on:{click:function(t){return t.stopPropagation(),e.subNum(t)}}}),e._v(" "),a("input",{staticClass:"num",attrs:{type:"number"},domProps:{value:e.currentNum},on:{blur:e.getNum}}),e._v(" "),a("span",{staticClass:"r-number-handle iconfont icon-jia",class:{disabled:e.max&&e.currentNum>=e.max},on:{click:function(t){return t.stopPropagation(),e.plusNum(t)}}})])},r=[],i={render:n,staticRenderFns:r};t.a=i},fbx5:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.contactInfo,configs:e.dealerConfig}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"matter-list":e.matterList},on:{"on-show-more":e.onShowMore}}),e._v(" "),a("other-part",{attrs:{"other-info":e.orderInfo,amt:e.noTaxAmount,"tax-amt":e.taxAmount,count:e.count,attachment:e.attachment}}),e._v(" "),a("pop-matter-detail",{attrs:{show:e.showMatterDetail,item:e.matterDetail},model:{value:e.showMatterDetail,callback:function(t){e.showMatterDetail=t},expression:"showMatterDetail"}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[],i={render:n,staticRenderFns:r};t.a=i},fc3g:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("lC5x"),i=n(r),o=a("J0Oq"),s=n(o),l=a("KH7x"),d=n(l),u=a("XAqG"),c=a("I8ug"),f=a("d7ck"),h=n(f);t.default={name:"USERForm",components:{FormCell:h.default},data:function(){return{colId:"",userData:{},action:{}}},methods:{getDefaultImg:function(e){this.userData.photo=a("男"===e?"Fuf7":"0gu7")},loadPage:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.$loading.show(),(0,u.getUserDetail)(this.colId).then(function(t){var a=t.tableContent,n=void 0===a?[]:a,r=(0,d.default)(n,1),i=r[0],o=void 0===i?{}:i,s=["女","男"],l=["临时账户","长期有效"],u=["shortTerm","longTerm"],c=["","使用中","未使用","草稿"],f=["","inUse","unUse"];o.gender=s[o.gender]||"未知",o.statusClass=f[o.status],o.status=c[o.status]||"停用",o.typeClass=u[o.userType],o.userType=l[o.userType],e.userData=o,o.photo||e.getDefaultImg(o.gender),e.$loading.hide()})},goEdit:function(){var e=this.$route.query.name,t=this.$route.params,a=t.folder,n=t.fileName;this.$router.push({path:"/fillForm/"+a+"/"+n,query:{name:e,colId:this.colId}})},getAppDetail:function(){var e=this,t=this.$route.query.listId,a=void 0===t?"":t;return(0,c.getAppDetail)(a).then(function(t){var a=(0,d.default)(t,1),n=a[0],r=void 0===n?{}:n,i=r.action;e.action=i})}},created:function(){var e=this;(0,s.default)(i.default.mark(function t(){var a,n;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.$route.query.colId,n=void 0===a?"":a,e.colId=n,t.next=4,e.getAppDetail();case 4:e.loadPage();case 5:case"end":return t.stop()}},t,e)}))()}}},"fd/A":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("HzJ8"),s=n(o),l=a("a3Yh"),d=n(l),u=a("PzEQ"),c=n(u),f=a("kNGm"),h=(n(f),a("jLp1")),m=a("HyXB"),v=a("bKg5"),p=n(v),C=a("PKHo"),y=n(C),_=a("Pkp+"),g=n(_),b=a("+WR7"),w=n(b),I=a("7D9F"),D=n(I),x=a("lsbD"),P=n(x);a("zWMP"),a("Qg39");t.default={mixins:[p.default,y.default],components:{RPicker:g.default,PopBaseinfo:w.default,XTextarea:c.default,PopManagerList:D.default,OpButton:P.default},data:function(){return{listId:"630a9b96-f257-48b6-b0bc-fd64c455d92b",ProjectApproval:{},formData:(0,d.default)({biComment:"",biProcessStatus:""},"biProcessStatus",""),defaultManager:{},hasDefault:!1}},computed:{projectType:function(){return this.ProjectApproval.projectType}},watch:{projectType:{handler:function(e,t){var a=this;if(t&&e){var n="",r=!0,i=!1,o=void 0;try{for(var l,d=(0,s.default)(this.otherConfig);!(r=(l=d.next()).done);r=!0){var u=l.value;!function(t){if("projectType"===t.fieldCode){var r=!0,i=!1,o=void 0;try{for(var l,d=(0,s.default)(t.remoteData);!(r=(l=d.next()).done);r=!0){var u=l.value;if(u.name===e){n=u.originValue;break}}}catch(e){i=!0,o=e}finally{try{!r&&d.return&&d.return()}finally{if(i)throw o}}}if("projectSubclass"===t.fieldCode){var c={url:t.dataSource.data.url,data:{value:n}};(0,m.requestData)(c).then(function(e){var n=e.tableContent,r=void 0===n?[]:n;null!=a.ProjectApproval.projectSubclass?a.ProjectApproval.projectSubclass=r[0].name:a.$set(a.ProjectApproval,"projectSubclass",r[0].name),r.forEach(function(e){e.originValue=e.value,e.name=e[t.displayField],e.value=e[t.displayField]}),t.remoteData=r})}}(u)}}catch(e){i=!0,o=e}finally{try{!r&&d.return&&d.return()}finally{if(i)throw o}}}}}},methods:{getDate:function(e,t){var a=this,n="",r="";"expectEndDate"===t.fieldCode&&e.expectStartDate?(n=e.expectStartDate,r=""):"expectStartDate"===t.fieldCode&&e.expectEndDate&&(r=e.expectEndDate,n=""),this.$vux.datetime.show({confirmText:"确认",cancelText:"取消",startDate:n,endDate:r,onConfirm:function(n){if(null==e[t.fieldCode])return void a.$set(e,t.fieldCode,n);e[t.fieldCode]=n}})},save:function(){var e=this,t="";if(t=this.verifyData(this.otherConfig,this.ProjectApproval))return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=h.saveProjectApproval;e.$route.query.transCode&&(t=m.update);var a={listId:e.listId,formData:{comment:{biComment:e.formData.biComment},baseinfo:(0,i.default)({id:"",handlerEntity:e.entity.dealerName},e.formData),projectApproval:e.ProjectApproval},wfParam:null};e.saveData(t,a)}})},selManager:function(e){var t=JSON.parse(e);this.$set(this.ProjectApproval,"projectManagerName",t.dealerName),this.$set(this.ProjectApproval,"phoneNumber",t.dealerMobilePhone),this.$set(this.ProjectApproval,"projectManager",t.dealerCode)},getFormData:function(){var e=this;return(0,h.findProjectApproval)(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a;e.hasDefault=!0,e.defaultManager={dealerName:n.projectApproval.projectManagerName,dealerMobilePhone:n.projectApproval.phoneNumber},n.projectApproval.expectStartDate=e.changeDate(n.projectApproval.expectStartDate),n.projectApproval.expectEndDate=e.changeDate(n.projectApproval.expectEndDate),e.ProjectApproval=n.projectApproval,e.$nextTick(function(){e.hasDefault=!1}),e.handlerDefault={handler:n.baseinfo.handler,handlerName:n.baseinfo.handlerName,handlerUnit:n.baseinfo.handlerUnit,handlerUnitName:n.baseinfo.handlerUnitName,handlerRole:n.baseinfo.handlerRole,handlerRoleName:n.baseinfo.handlerRoleName},e.formData=(0,i.default)({},e.formData,e.handlerDefault,{biComment:n.comment.biComment,id:n.baseinfo.id,biProcessStatus:n.baseinfo.biProcessStatus,creator:n.baseinfo.creator,modifer:n.baseinfo.modifer,handlerEntity:n.baseinfo.handlerEntity}),e.biReferenceId=n.biReferenceId,e.$loading.hide()})},hasDraftData:function(){return!!(this.ProjectApproval.projectName||this.ProjectApproval.projectType||this.ProjectApproval.projectManagerName)&&(0,d.default)({},"XMLX_DATA",{ProjectApproval:this.ProjectApproval,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("XMLX_DATA");if(e){var t=JSON.parse(e);this.ProjectApproval=t.ProjectApproval,this.formData=t.formData,this.defaultManager={dealerName:this.ProjectApproval.projectManager,dealerMobilePhone:this.ProjectApproval.phoneNumber},sessionStorage.removeItem("XMLX_DATA")}}}},fe4i:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages cpxq-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList,showStatus:!1},on:{"sel-item":e.selItem}}),e._v(" "),Object.keys(e.dealerParams).length?a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,"dealer-params":e.dealerParams,defaultContact:e.contactInfo},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}):e._e(),e._v(" "),a("div",{staticClass:"materiel_list"},e._l(e.otherConfig,function(t,n){return a("div",{key:n,class:{"vux-1px-t":n>0}},["r2Combo"===t.xtype||"r2Selector"===t.xtype?a("r-picker",{attrs:{title:t.fieldLabel,data:t.remoteData,value:e.formData[t.fieldCode],required:!t.allowBlank},model:{value:e.formData[t.fieldCode],callback:function(a){e.$set(e.formData,t.fieldCode,a)},expression:"formData[item.fieldCode]"}}):e._e(),e._v(" "),"r2Textfield"===t.xtype?a("div",{staticClass:"each_property"},[a("label",{class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData[t.fieldCode],expression:"formData[item.fieldCode]"}],staticClass:"property_val",attrs:{type:"text",placeholder:"请输入"},domProps:{value:e.formData[t.fieldCode]},on:{focus:function(t){e.getFocus(t)},input:function(a){a.target.composing||e.$set(e.formData,t.fieldCode,a.target.value)}}})]):e._e(),e._v(" "),"r2Numberfield"===t.xtype?a("div",{staticClass:"each_property "},[a("label",{class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.formData[t.fieldCode],expression:"formData[item.fieldCode]",modifiers:{number:!0}}],staticClass:"property_val",attrs:{type:"number",placeholder:"请输入"},domProps:{value:e.formData[t.fieldCode]},on:{focus:function(t){e.getFocus(t)},input:function(a){a.target.composing||e.$set(e.formData,t.fieldCode,e._n(a.target.value))},blur:function(t){e.$forceUpdate()}}})]):e._e(),e._v(" "),"r2Datefield"===t.xtype?a("div",{staticClass:"each_property",on:{click:function(a){e.getDate(e.formData,t)}}},[a("label",{class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))]),e._v(" "),a("div",{staticClass:"picker"},[a("span",{staticClass:"mater_nature"},[e._v(e._s(e.formData[t.fieldCode]||"请选择"))]),e._v(" "),a("span",{staticClass:"icon-right"})])]):e._e(),e._v(" "),"r2TextArea"===t.xtype?a("x-textarea",{attrs:{max:100},model:{value:e.formData[t.fieldCode],callback:function(a){e.$set(e.formData,t.fieldCode,a)},expression:"formData[item.fieldCode]"}},[a("template",{slot:"label"},[a("span",{class:{required:!t.allowBlank},staticStyle:{display:"block",width:"3em"}},[e._v(e._s(t.fieldLabel))])])],2):e._e()],1)}),0),e._v(" "),a("div",{staticClass:"comment"},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId,"contain-style":e.uploadStyle},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("op-button",{attrs:{hide:e.btnIsHide},on:{"on-submit":e.save}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},fg8O:function(e,t,a){"use strict";function n(e){a("tUPE")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3lqy");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("GqrD"),s=a.n(o),l=a("UvzW"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-16b58367",null);t.default=c.exports},fjBS:function(e,t,a){"use strict";function n(e){a("MY62")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("apyC");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("XEAB"),s=a.n(o),l=a("q5q5"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-b59e8ed0",null);t.default=c.exports},fkNu:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=(a("XAqG"),a("HyXB"),a("MjAd")),s=n(o),l=a("ak47");n(l);t.default={name:"CPXQ_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"经办人",value:"handlerName"},{name:"交易号",value:"transCode"},{name:"员工",value:"profileName"}],listViewID:2376}},mixins:[s.default],methods:{pathChange:function(e,t,a){var n=this;if(!this.clickVisited){var r=e.transCode,o=this.$route.query.name,s=this.$route.params,l=s.folder,d=s.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,i.default)({},e));var u=a+"/"+l+"/"+d;setTimeout(function(){n.clickVisited=!1,n.$router.push({path:u,query:{name:o,transCode:r}})},200)}},goDetail:function(e,t){this.pathChange(e,t,"/detail")},goUserEdit:function(e,t){this.pathChange(e,t,"/fillform")}}}},fm4O:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"r-date-container",on:{click:e.clickDateSelect}},[a("div",{staticClass:"title",class:{required:e.required}},[e._v(e._s(e.title))]),e._v(" "),a("div",{staticClass:"mode"},[a("span",{staticClass:"mode_content"},[e._v(e._s(e.time||e.placeholder||"请选择"+e.title))]),e._v(" "),a("span",{staticClass:"iconfont icon-shenglve"})])])},r=[],i={render:n,staticRenderFns:r};t.a=i},fmK2:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"r-popup-container",class:{multipart:e.multipart},attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"r-popup-top"},[a("r-search",{attrs:{filterList:e.filterList,isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"r-popup-list",attrs:{options:e.options,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.data.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.data,function(t,n){return a("div",{key:n,staticClass:"r-popup-item box_sd",class:{selected:e.showSelIcon(t)},on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[e._t("pop-item",null,{item:t,index:n}),e._v(" "),e.multipart?a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-circle-outline selIcon",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]):e._e()],2)}),0)],1),e._v(" "),e.multipart?a("div",{staticClass:"count_mode vux-1px-t"},[a("span",{staticClass:"count_num"},[e._v(" "+e._s(e.tmpItems.length?"已选 "+e.tmpItems.length+" 个":"请选择")+" ")]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.cfmMater}},[e._v("确定")])]):e._e()])],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},fn06:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("a3Yh"),s=n(o),l=a("MgeX"),d=n(l),u=a("HzJ8"),c=n(u),f=a("ZLEe"),h=n(f),m=a("3cXf"),v=n(m),p=a("HXPS"),C=n(p),y=a("BGNQ"),_=n(y),g=a("z5TY"),b=n(g),w=a("SAzG"),I=n(w),D=a("PzEQ"),x=n(D),P=a("0AQX"),S=a("HyXB"),k=a("bKg5"),L=n(k),N=a("VZtf"),M=n(N),T=a("89pA"),A=n(T),O=a("luHD"),R=n(O),j=a("Pb67"),B=n(j),E=a("RMtk"),F=n(E),U=a("vl8n"),$=n(U),H=a("+WR7"),V=n(H),q=a("Qg39");t.default={mixins:[L.default],components:{Icon:C.default,Cell:_.default,Group:b.default,XInput:I.default,XTextarea:x.default,RNumber:M.default,PopOrderList:B.default,PopWarehouseList:A.default,PopMatter:R.default,RPicker:$.default,PopBaseinfo:V.default,PopOrderXqtjList:F.default},data:function(){return{listId:"762b8df4-2555-4325-884a-355f34355832",orderList:{},matterList:[],showOrderPop:!1,transCode:"",formData:{biComment:""},numMap:{},warehouseIn:null,matter:{},showMatterPop:!1,modifyIndex:null}},methods:{checkAmt:function(e){var t=e.tdQty,a=e.qtyBal;t&&(e.tdQty=Math.abs((0,q.toFixed)(t)),t>a&&(e.tdQty=a))},delClick:function(e,t,a){var n=this.selItems,r=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode&&e.transCode===t.transCode});if(-1!==r)return void n.splice(r,1);n.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,v.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,h.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],r=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});r>=0&&(e.$refs.order.delSelItem(n[r]),n.splice(r,1)),n.length||delete e.orderList[t.transCode]}})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,r=(0,c.default)((0,d.default)(this.orderList));!(e=(n=r.next()).done);e=!0){var i=n.value,o=!0,s=!1,l=void 0;try{for(var u,f=(0,c.default)(i);!(o=(u=f.next()).done);o=!0){var h=u.value;this.numMap[h.transCode+"_"+h.inventoryCode]={tdQty:h.tdQty,shippingTime:h.shippingTime}}}catch(e){s=!0,l=e}finally{try{!o&&f.return&&f.return()}finally{if(s)throw l}}}}catch(e){t=!0,a=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},selWarehouseIn:function(e){this.warehouseIn=JSON.parse(e)},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,v.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t)},selOrder:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){var a=e.transCode+"_"+e.inventoryCode,r=t.numMap[a]||{},i=r.tdQty,o=void 0===i?"":i,s=r.shippingTime,l=void 0===s?"":s;e.tdQty=o,e.shippingTime=l,n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},submitOrder:function(){var e=this,t="",a=[];[{key:"warehouseIn",message:"入库仓库"}].every(function(a){return!!e[a.key]||(t="请选择"+a.message,!1)}),t||(0,h.default)(this.orderList).length||(t="请选择物料");var n=!0,r=!1,o=void 0;try{for(var l,u=(0,c.default)((0,d.default)(this.orderList));!(n=(l=u.next()).done);n=!0){var f=l.value,m=!0,p=!1,C=void 0;try{for(var y,_=(0,c.default)(f);!(m=(y=_.next()).done);m=!0){var g=y.value;if(!g.tdQty){t="请填写数量";break}var b={transMatchedCode:g.transCode,outPutMatCode:g.inventoryCode,containerCodeOut:this.warehouseIn.warehouseCode,warehouseType_containerCodeOut:this.warehouseIn.warehouseType,tdProcessing:g.processing,thenQtyBal:g.qtyBal,thenQtyStock:g.qtyStock,tdQty:g.tdQty,comment:g.comment||""};this.transCode&&(b.tdId=g.tdId||""),a.push(b)}}catch(e){p=!0,C=e}finally{try{!m&&_.return&&_.return()}finally{if(p)throw C}}}}catch(e){r=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw o}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=S.saveAndStartWf,n={},r=(0,s.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});n=(0,i.default)({},e.formData,{modifer:e.transCode?e.formData.handler:"",handlerEntity:e.entity.dealerName,outPut:{containerCode:e.warehouseIn.warehouseCode,dataSet:a},containerInWarehouseManager:e.warehouseIn.containerInWarehouseManager||null}),e.transCode&&(t=S.saveAndCommitTask,r={businessKey:e.transCode,createdBy:n.creator||n.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var o={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,v.default)(n),wfPara:(0,v.default)(r)};e.transCode||delete o.biReferenceId,e.processCode.length||(t=S.submitAndCalc,delete o.wfPara,delete o.biReferenceId),e.biReferenceId&&(o.biReferenceId=e.biReferenceId),e.saveData(t,o)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,s=t.attachment,l=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=l;var d=[],u={},f=o.outPut,h=f.dataSet,m=void 0===h?[]:h,v=!0,p=!1,C=void 0;try{for(var y,_=(0,c.default)(m);!(v=(y=_.next()).done);v=!0){var g=y.value;g=(0,i.default)({},g,{transCode:g.transMatchedCode,qtyBal:g.thenQtyBal,qtyStock:g.thenQtyStock,inventoryPic:g.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+g.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:g.inventoryName_outPutMatCode,inventoryCode:g.outPutMatCode,specification:g.specification_outPutMatCode,processing:g.tdProcessing}),u[g.transCode]||(u[g.transCode]=[]),d.push(g),u[g.transCode].push(g)}}catch(e){p=!0,C=e}finally{try{!v&&_.return&&_.return()}finally{if(p)throw C}}e.warehouseIn={warehouseCode:f.containerCode,warehouseName:f.warehouseName_containerCode,warehouseType:f.warehouseType_containerCode,warehouseProvince:f.warehouseProvince_containerCode,warehouseCity:f.warehouseCity_containerCode,warehouseDistrict:f.warehouseDistrict_containerCode,warehouseAddress:f.warehouseAddress_containerCode},e.handlerDefault={handler:o.handler,handlerName:o.handlerName,handlerUnit:o.handlerUnit,handlerUnitName:o.handlerUnitName,handlerRole:o.handlerRole,handlerRoleName:o.handlerRoleName},e.formData=(0,i.default)({},e.formData,e.handlerDefault,{biComment:o.biComment,biId:o.biId,biProcessStatus:o.biProcessStatus,creator:o.creator,modifer:o.modifer}),e.biReferenceId=o.biReferenceId,e.matterList=d,e.orderList=u,e.$loading.hide()})},assembMatterList:function(){var e=!0,t=!1,a=void 0;try{for(var n,r=(0,c.default)((0,d.default)(this.orderList));!(e=(n=r.next()).done);e=!0){var i=n.value,o=!0,s=!1,l=void 0;try{for(var u,f=(0,c.default)(i);!(o=(u=f.next()).done);o=!0){var h=u.value;this.matterList.push(h)}}catch(e){s=!0,l=e}finally{try{!o&&f.return&&f.return()}finally{if(s)throw l}}}}catch(e){t=!0,a=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw a}}},hasDraftData:function(){return!!(0,d.default)(this.orderList).length&&(0,s.default)({},"NBJGLL_DATA",{orderList:this.orderList,warehouseIn:this.warehouseIn,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("NBJGLL_DATA");if(e){var t=JSON.parse(e);this.orderList=t.orderList,this.assembMatterList(),this.formData=t.formData,this.warehouseIn=t.warehouseIn,sessionStorage.removeItem("NBJGLL_DATA")}}}},foOz:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("4YfN"),s=n(o),l=a("MgeX"),d=n(l),u=a("HzJ8"),c=n(u),f=a("ZLEe"),h=n(f),m=a("rVsN"),v=n(m),p=a("IHPB"),C=n(p),y=a("3cXf"),_=n(y),g=a("HXPS"),b=n(g),w=a("BGNQ"),I=n(w),D=a("z5TY"),x=n(D),P=a("SAzG"),S=n(P),k=a("u28h"),L=n(k),N=a("PzEQ"),M=n(N),T=a("0AQX"),A=a("I3vJ"),O=a("HyXB"),R=a("bKg5"),j=n(R),B=a("luHD"),E=n(B),F=a("RMtk"),U=n(F),$=a("d7ck"),H=n($),V=a("FlCz"),q=n(V),Q=a("MVgC"),Y=n(Q),X=a("vl8n"),G=n(X),W=a("+WR7"),z=n(W),K=a("zWMP"),J=a("Qg39");t.default={name:"ApplyWLXQTJForm",mixins:[j.default],components:{Icon:b.default,Cell:I.default,Group:x.default,XInput:S.default,XTextarea:M.default,PopMatter:E.default,PopOrderXqtjList:U.default,Datetime:L.default,FormCell:H.default,BomList:q.default,BomPop:Y.default,RPicker:G.default,PopBaseinfo:z.default},data:function(){return{listId:"65ceb5a6-a120-11e8-862a-005056a136d0",orderList:{},showOrderPop:!1,DuplicateBoms:[],UniqueBom:[],formData:{biComment:""},submitSuccess:!1,numMap:{},transCode:"",formViewUniqueId:"346ede09-ac6a-489a-9242-f385932a4443",biReferenceId:"",actions:[],taskId:"",matterList:[],entity:{},selItems:[],matter:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,bomPopShow:!1,bom:{},modifyBomTdqty:[]}},watch:{matter:{handler:function(e){e.boms&&e.boms.forEach(function(t){var a=(0,K.accMul)(e.tdQty,t.qty,1+t.specificLoss);t.tdQty=Math.abs((0,J.toFixed)(a))})},deep:!0}},methods:{checkBom:function(e,t,a){this.bom=e,this.modifyIndex=t,this.modifyKey=a,this.bomPopShow=!0,this.modifyBomTdqty=JSON.parse((0,_.default)(e.boms))},bomConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t),this.reBuildArr(t)},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,_.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a,this.modifyBomTdqty=[].concat((0,C.default)(e.boms))},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t),this.reBuildArr(t)},reBuildArr:function(e){var t=this,a=e.boms;this.modifyBomTdqty.forEach(function(e){a.forEach(function(a){if(a.inventoryCode===e.inventoryCode)return a.newTdqty=(0,K.accSub)(a.tdQty,e.tdQty),t.UniqueBom.forEach(function(e){if(a.inventoryCode===e.inventoryCode)return e.tdQty=(0,K.accAdd)(e.tdQty,a.newTdqty),!1}),!0})})},selOrder:function(e){var t=this,a=JSON.parse(e),n={},r=[];this.DuplicateBoms=[],a.forEach(function(e){var a=e.transCode+"_"+e.orderCode+"_"+e.inventoryCode,i=t.numMap[a]||{},o=i.tdQty,s=void 0===o?"":o,l=i.shippingTime,d=void 0===l?"":l,u=i.boms,c=void 0===u?[]:u;e.tdQty=s,e.shippingTime=d,n[e.transCode]||(n[e.transCode]=[]),r.push((0,A.getJGDDBom)({parentInvCode:e.inventoryCode}).then(function(a){var n=a.tableContent,r=void 0===n?[]:n;r.forEach(function(t){var a=c.find(function(e){return t.inventoryCode===e.inventoryCode})||{},n=a.specificLoss,r=void 0===n?t.specificLoss:n,i=(0,K.accMul)(e.tdQty,t.qty,1+r);t.specificLoss=r,t.tdQty=Math.abs((0,J.toFixed)(i))}),t.$set(e,"boms",r);var i=JSON.parse((0,_.default)(r));t.DuplicateBoms=[].concat((0,C.default)(t.DuplicateBoms),(0,C.default)(i))})),n[e.transCode].push(e)}),v.default.all(r).then(function(e){t.mergeBomList()}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},findIndex:function(e,t){return e.findIndex(function(e){return e.orderCode===t.orderCode&&e.transCode===t.transCode&&e.inventoryCode===t.inventoryCode})},delClick:function(e,t,a){var n=this.selItems,r=this.findIndex(n,t);if(-1!==r)return void n.splice(r,1);n.push(t)},showSelIcon:function(e){return-1!==this.findIndex(this.selItems,e)},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,_.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,h.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.orderCode===a.orderCode&&t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],r=e.findIndex(n,t);r>=0&&(e.$refs.order.delSelItem(n[r]),n.splice(r,1)),n.length||delete e.orderList[t.transCode]}})}),e.selItems.forEach(function(t){t.boms.forEach(function(t){return e.UniqueBom.forEach(function(a,n){if(t.inventoryCode===AItem.inventoryCode){var r=(0,K.accSub)(AItem.tdQty,t.tdQty);return AItem.tdQty=(0,J.toFixed)(r),AItem.tdQty<=0&&e.UniqueBom.splice(n,1),!1}}),!0})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,r=(0,c.default)((0,d.default)(this.orderList));!(e=(n=r.next()).done);e=!0){var i=n.value,o=!0,l=!1,u=void 0;try{for(var f,h=(0,c.default)(i);!(o=(f=h.next()).done);o=!0){var m=f.value;this.numMap[m.transCode+"_"+m.orderCode+"_"+m.inventoryCode]=(0,s.default)({},m)}}catch(e){l=!0,u=e}finally{try{!o&&h.return&&h.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="",a=[];t||(0,h.default)(this.orderList).length||(t="请选择物料");var n=!0,r=!1,o=void 0;try{for(var l,u=(0,c.default)((0,d.default)(this.orderList));!(n=(l=u.next()).done);n=!0){var f=l.value,m=!0,v=!1,p=void 0;try{for(var C,y=(0,c.default)(f);!(m=(C=y.next()).done);m=!0){var g=C.value;if(!g.tdQty){t="请填写减少数量";break}var b=[],w=!0,I=!1,D=void 0;try{for(var x,P=(0,c.default)(g.boms);!(w=(x=P.next()).done);w=!0){var S=x.value,k={tdId:S.tdId||null,transMatchedCode:g.transCode,tdQty:S.tdQty,orderCode:g.orderCode,bomSpecificLoss:S.specificLoss||S.bomSpecificLoss,tdProcessing:S.processing||S.tdProcessing,inventoryName:S.inventoryName,transObjCode:S.inventoryCode||S.transObjCode,measureUnit:S.measureUnit,bomType:S.bomType,bomQty:S.qty||S.bomQty,specification:S.specification,parentId:S.parentId||null};this.transCode&&delete k.orderCode,b.push(k)}}catch(e){I=!0,D=e}finally{try{!w&&P.return&&P.return()}finally{if(I)throw D}}var L={tdId:g.tdId||null,transMatchedCode:g.transCode,orderCode:g.orderCode,transObjCode:g.inventoryCode,inventoryName_transObjCode:g.inventoryName,tdProcessing:g.processing,measureUnit_transObjCode:g.measureUnit,thenQtyBal:g.qtyBal,shippingTime:g.shippingTime,tdQty:g.tdQty,comment:g.comment||"",boms:b};a.push(L)}}catch(e){v=!0,p=e}finally{try{!m&&y.return&&y.return()}finally{if(v)throw p}}}}catch(e){r=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw o}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=O.saveAndStartWf,n={},r=(0,i.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});n=(0,s.default)({},e.formData,{modifer:e.transCode?e.formData.handler:"",handlerEntity:e.entity.dealerName,order:{dataSet:a}}),e.transCode&&(t=O.saveAndCommitTask,r={businessKey:e.transCode,createdBy:n.creator||n.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var o={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,_.default)(n),wfPara:(0,_.default)(r)};e.transCode||delete o.biReferenceId,e.processCode.length||(t=O.submitAndCalc,delete o.wfPara,delete o.biReferenceId),e.biReferenceId&&(o.biReferenceId=e.biReferenceId),e.saveData(t,o)}})},getFormData:function(){var e=this;return(0,T.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,l=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=l;var d={},u=i.order,f=u.dataSet,h=void 0===f?[]:f,m=!0,v=!1,p=void 0;try{for(var C,y=(0,c.default)(h);!(m=(C=y.next()).done);m=!0){var g=C.value;g.boms.forEach(function(e){e.inventoryCode=e.transObjCode,e.specificLoss=e.bomSpecificLoss}),g.boms&&(e.DuplicateBoms=e.DuplicateBoms.concat(JSON.parse((0,_.default)(g.boms)))),g=(0,s.default)({},g,{transCode:g.transMatchedCode,qtyBal:g.thenQtyBal,inventoryPic:g.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+g.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:g.inventoryName_transObjCode,inventoryCode:g.transObjCode,specification:g.specification_transObjCode,processing:g.tdProcessing}),d[g.transCode]||(d[g.transCode]=[]),d[g.transCode].push(g)}}catch(e){v=!0,p=e}finally{try{!m&&y.return&&y.return()}finally{if(v)throw p}}e.matterList=h,e.handlerDefault={handler:i.handler,handlerName:i.handlerName,handlerUnit:i.handlerUnit,handlerUnitName:i.handlerUnitName,handlerRole:i.handlerRole,handlerRoleName:i.handlerRoleName},e.formData=(0,s.default)({},e.formData,e.handlerDefault,{biComment:i.biComment,biId:i.biId,biProcessStatus:i.biProcessStatus,creator:i.creator,modifer:i.modifer,drDealerLogisticsTerms:i.drDealerLogisticsTerms}),e.mergeBomList(),e.biReferenceId=i.biReferenceId,e.orderList=d,e.$loading.hide()})},mergeBomList:function(){var e=function(e,t){return e.inventoryCode===t.inventoryCode};this.UniqueBom=function(t){return t.reduce(function(t,a){return t.some(function(t){var n=e(t,a);return n&&(t.tdQty=(0,K.accAdd)(t.tdQty,a.tdQty)),n})||t.push(a),t},[])}(this.DuplicateBoms)},hasDraftData:function(){return!!(0,d.default)(this.orderList).length&&(0,i.default)({},"NBJGDD_DATA",{orderList:this.orderList,formData:this.formData,DuplicateBoms:this.DuplicateBoms})},getRelationData:function(){}},created:function(){var e=sessionStorage.getItem("NBJGDD_DATA");if(e){var t=JSON.parse(e);this.orderList=t.orderList,this.formData=t.formData,this.DuplicateBoms=t.DuplicateBoms,this.mergeBomList(),sessionStorage.removeItem("NBJGDD_DATA")}}}},fsDx:function(e,t,a){"use strict";function n(e){a("Qe9M")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("hE3F");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("KEY0"),s=a.n(o),l=a("Wzeo"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-92e42dd2",null);t.default=c.exports},"fu+O":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("IHPB"),i=n(r),o=a("3cXf"),s=n(o),l=a("4YfN"),d=n(l),u=a("0AQX"),c=a("Dkzh"),f=a("7biW"),h=n(f),m=a("1KNX"),v=n(m);t.default={data:function(){return{serachVal:"",title:"",listData:[],page:1,limit:10,hasNext:!0,DefaultImg:a("Fuf7"),scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0}}},components:{search:h.default,RScroll:v.default},methods:{goDetail:function(e,t){var a=this,n=e.title,r=e.listId,i=e.folder,o=e.packagePath,s=Date.now();e.visited=!0,this.$set(this.listData,t,(0,d.default)({},e));(0,u.isMyflow)({transCode:e.businessKey}).then(function(t){var l=t.tableContent,d=function(){var t="";if(l.length>0){var s=l[0],d=s.isMyTask,u=s.nodeName;t=1===d&&"重新提交"===u?"/fillform/"+i+"/"+o:"/detail/"+i+"/"+o}else t="/detail/"+i+"/"+o;var c={listId:r,name:n,transCode:e.businessKey};a.$router.push({path:t,query:c})},u=Date.now()-s;u>200?d():setTimeout(function(){d()},200-u)}).catch(function(n){e.visited=!1,a.$set(a.listData,t,(0,d.default)({},e))})},resetCondition:function(){this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.$refs.bScroll.resetPullDown()},searchList:function(e){var t=e.val,a=void 0===t?"":t;e.property;this.serachVal=a,this.resetCondition(),this.getList()},getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a={title:this.title,businessKey:this.serachVal,crtName:this.serachVal};return(0,c.getAllMsgList)({limit:this.limit,page:this.page,filter:(0,s.default)(a)}).then(function(a){var n=a.total,r=void 0===n?0:n,o=a.tasks,s=void 0===o?[]:o;a.success;s.forEach(function(e){e.status="待处理",e.transCode=e.businessKey}),e.hasNext=r>(e.page-1)*e.limit+s.length,e.listData=1===e.page?s:[].concat((0,i.default)(e.listData),(0,i.default)(s)),t||e.$nextTick(function(){e.resetScroll()})}).catch(function(t){e.resetScroll()})},getDefaultImg:function(e){var t=a("HfaK");return e&&(e.inventoryPic=t),t},resetScroll:function(){this.$refs.bScroll.finishPullDown(),this.$refs.bScroll.finishPullUp()},onPullingUp:function(){this.page++,this.getList()},onPullingDown:function(){var e=this;this.page=1,this.getList(!0).then(function(){e.$nextTick(function(){e.$refs.bScroll.finishPullDown().then(function(){e.$refs.bScroll.finishPullUp()})})})},reloadData:function(){var e=this;this.serachVal="",this.resetCondition(),this.getList().then(function(){e.$loading.hide()})}},filters:{handleCrt:function(e){var t=e.duration,a=parseInt(t/3600),n=t-3600*a,r=Math.floor(n/60),i=void 0;return i=a>0?a+"小时前":0===r?"1分钟前":r+"分钟前",a<24?i:""+e.crtTime.split(" ")[0]}},created:function(){var e=this;this.$loading.show(),this.title=this.$route.query.name,this.getList().then(function(){e.$loading.hide()})},activated:function(){var e=this,t=this.$route.meta.reload;this.title=this.$route.query.name,setTimeout(function(){var t=[].concat((0,i.default)(e.listData));t.forEach(function(e){e.visited=!1}),e.listData=t},200),t&&(this.$loading.show(),this.reloadData(),this.$route.meta.reload=!1)},beforeRouteEnter:function(e,t,a){e.meta.title=e.query.name,a()},beforeRouteLeave:function(e,t,a){"MSGHOME"===e.name&&(t.meta.reload=!0),a()}}},fv0H:function(e,t){},fyaN:function(e,t,a){"use strict";function n(e){a("Hitz")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("Kuu/");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("v8BB"),s=a.n(o),l=a("X+HX"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-857def8c",null);t.default=c.exports},fzi5:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAYAAAA8AXHiAAAAAXNSR0IArs4c6QAAD5xJREFUeAHtnQuQFMUZx7/u2d17wt2JcBygHAiJoYKKRGOwKF+JUSMao2AF0fiIWlZiEsuYqCkLKEQUrBhNYqyosdSoEcQoF3yAz5RFQMEYUxoVI+CTh3DH6+52Z6Y7X58s2budne25vZmd2fmm6tjd7q9f//7R3dPT3cPA5ZouFxs7t2yqZubeKpmGRMYAbrMMcwlCXhWqgCFTMmWDYFVgyWRduqF5dPcSNsMuVFxHSBRQ2za+PQghqikUkNxJAYSta2jrhN1OgOWBdfyGOdUoWSO1TASOjgKqJUO7jpfGzOnOtee5P07evKgOgWoiqHJVoe9uCihWFDOKnVy7/S2WaqmUQa4nfScFvCiArVd7tuXqabHUmAojaPQSCdmSAg4KNO5jCXrA2jdQ3996OQQgJ1KgqAKqW1QsKUOuCEMHuvsrKhsZ6CigWFJMcTVPpROAbEgBXQUUU1xNfuoGIDtSQEcBxRRXM+o6xmRDCugqoJji6jGNbgCyIwV0FFBM0bM/HaXIxpMC6u6QWitPkpGxrgIElq5SZOdJAQLLk1xkrKsAgaWrFNl5UoDA8iQXGesqQGDpKkV2nhQgsDzJRca6ChBYukqRnScFCCxPcpGxrgIElq5SZOdJAQLLk1xkrKsAgaWrFNl5UoDA8iQXGesqQGDpKkV2nhQgsDzJRca6ChBYukqRnScFCCxPcpGxrgIElq5SZOdJAQLLk1xkrKsAgaWrFNl5UoC2frnIJTLwVSb5LGDwJTx/YLwyxTN71uM/76Hbgywl3nIJHmsvAsuh+pnFxggLrmUMTgcpmaJJHQK17xqCn8fg3/mym/2NJ+BmmZAbsp70+YUC1BX2JcHi5wiLrUTnaUhT4YNSvvCbJgRfKTN8Rt9o4v6bwNpHgKxJ1ciMcbu05B3YPtVqgyFELQj5G8jwO1Qc2uEq3JDAwgoWAIeyXdYzIMT0/ta3FPIcttN+1rb4V/obRyWFiz1YMs1nsgxfLm3ZMzgvpXKlEOMMwZaLDA74Y37FFizDSNWBye/Ewfmt2JUNWBeGcFUzIRdCmv2B2bw+rnzFEizb5BOtTmsFtlLf9avipYQzbUuuUGn5lUaY440fWCa/0JCwDFuqMX5XDJPQygVrw7vGi/1OK2zxxwYsnBYYLNL8HmylbsKBdnCHzUmRwq72Rhx33aPyEDYA/MpPLMASVuIIZsJKJuVpfglZLF4cd52GeXhO2HxSMdtK8K98sEx2KbPFk9j1HVT2CpNyFLPgCWbyy8ueF58zULlgsVQTTnjeL22Yi1AlfdZRP3rMi7DlbBx3PQCYR/2A0bKsSLCEyY+SaWsFTnh+K7TVIeQ3ZdpeCWbi6NDmsYSMVR5YpvFjLmApDphHlqBLMEGFGAHSXirTxk+CSTC4VCoGLIPDEKygh6QtrpdSRmbVhhRggBTXYrf9iCpDcFXvb0oVARbOcH/D6uLPYQWd4K9cPsYuxHFYhufxacCxPqYSWNSRBktwi+Gqgqtw7dQSHKA3B6aaXwlJOQxbsEelya/uKZtf6QQQb2TBksIYxrpSi3Gy8xqEKrLlyKtjVRZbXs26kktUGfP8I+IQzQqxjOPAlNj1yYroNhxZkTCFmeJ5abPjHf1D7hgpsCyDcZz/+SUO0B9GqA4MubYlZw8fZA8BCx7Cx0HXZRKWeqdkZK7ogGVCi9HF1DTCT12XDEdGes2M4hJofBx0ZaoztVRaxgjNUGU3iwZYpnGSxLXlCNXXy65YmTKAY8mjsfwrmWWEd9I3R5tQg8WSLIFd3w24eO4B7PoOyMl3PL8K2SQscT9qMltpE2YRQgsW58YouZc9gf9Lr4hV16dDi5CXozZPgkiV/8F6gfyGEixmGqeKbrkSm/8jC+Q79s6ozSSwrBVM8LItBXKrhFCBJVN2Ejc3zBO2uBeFa3DLOPnhJjXUSGTkPTLD5tuCpcKkSWjAMmRqNNudbMOx1CVhEigSeRFwkWHyNm4arWHJbyjAwnmaM6wMbm6Q8rCwCBO1fEgpJtp2z+YN3zaIeNGkrGCZUlTJNLsF52nuwpZqkJeMk62TArKe2/JOfJC9kAGvdrIIyq1sYBk2OyRpJpfjHd/5QRU2LunghpFZIi2f4sIYV64ylwUsYRlnWyZ7FuenJpSr4BWfroRD7Yx8Bmfr+31sQCkaBQ4W3vXdzCzxW08Hb5RSwliHxcNNLHE7bntbGLQMgYKFM8Y/wrHUBUEXMu7p4ba3WYBLtoPUIViwJMT+sIwgKzc3LSHkebm//f4eKFh4Qp77TmDO3mAJNs/vQldk/Jx1uZWrqPZugfvhFyhYAGxtwTwm+B+h3jyTcdhU0IY8XBSQNwGH+woZ4FGXrxXy88M9ULBY0pqP/3O29yoIZx14jueFLGHPYRnD7OVHP7QVYNxIs5T8FU+xHwJnu3oH5JuNhJzf283fX8EuvWDsPSMBp1g2m4UDylbJ2fsyxe7DWeMd/hYzPrFLLp6ChLFWWqAejR2C/5H/k0jYf7YZbAlShWDBwpLZhvyEGfIWVUh1HDEe9VNR1+iqYdDIa2FjZivstDvLUjbG7a34SHpBNnE7+yXAz8DBCrBsgSY1umooXDXsdGhFsLLX6j3r4a5tz0KHvTfrFJvPQMdYlaqqaqXmj/h+L6hUWY+pHw8LRp4HVSw8Z5IEVQcEVolKD082wZyWGVBvOB9j2oIHypx7wJQSU4le8Mh3hYyztGTsNlwhsQZPbLDyqgAN8Hyscbg/7xd48PbwPP8SHA5I1MPcETOgKVHnGsukmrHwALzsalNpnpEHCyvkDpa08dB/dTPgdOEp7hzWIl8fShMec7Loj1s9rkqZ23IuNCcbiwZvSRW3KRpJxAyi3xUyeFVHc1atZ6cTVzXecs1umQ4HVentmWUFkNdJK6o2lQBWfvfnUBvSxJmdAbgSzIDrW74H42sis3d0AErtPYrog+W9zP0OoVqenzefCYfVjvYUh4JxRtMUOLymFWp5cAc2e8rkABtXwhhrgCUpHN2Vw07tmUIobOHsg0dOwMwhU3s8cV0/fJTZDm92bYKnd70On2Qq86EDgeXMQp7rJQeeCCcOLv0lEwyfsRyMYzP1952GI+H1zg3Q1rEW3ujakJdmlB0ILI3aU93YtMajNCy9mSjIJteN7fl7s3MT/HpLW8XM0tMYqwgLJwyauL8bK2Jakrcat9120EUwsebgkuIJS+DIg4XnuB+iJaZljNWyyzFSc1SXDj0px8Xfr2qide6Ic+GspqP9TSiA2CMPFmp0tbT5ZDeteg4YEfj6OI/XBUOOC/wujuNA/wdDToBj6w/1mNtwmUd/jCVlC5jQJi1u4pjFYYWIxCc6ol/3+Efg9EC5LnUH+rG5HTalt5UrCyWlWwkt1hcC4KtE1Eso8//696YvNWdVzjmnap6C65rPgrrybmjuN1yVA1a/JXAOKHER4jarzwpfZ1PfXIfjyoizm6J5iCGB5YLF33e/7eIbjNcpDZMi2WpFf4yF65tx5cLDgrHVOKudN8bi6I0LoMdxGy7DVsh9fUsfVh5rXw2Ta8fCmOryvZtAdcfTGr4Gf2l/pU/uwv2zAsDid0PSnuPW9Kq19Xgu/79BwJ+8VEe3zMCNm5fCwpHnw5Bk+Q7D+XbDEZEDy60+vNRB2Ww5Fy/oJG4lrRd17PrabLd2w+zPFsMe23U/aN9gA/pbzW+Nq24Z0Dj9jizyYGE3l9YRKcm4lp1TXB9nPod5ny2FbpFx8g7EbTKuQo3SFXmwghL73e5PYNHmZWDlD+MCycLEGm9LdQLJlEsiBJaLOH291nX+F3639Wkcr8m+Xq6/bXyl172fvwCr9rwL2609rraFPA+uitarDKM/eC9UEz65v7T7LRhs1MLFuIxG91JzYm0dr0HbvuMTptR/GWY2TYVRHmBRaaq/XWXaBKtb1qwdtVhZJTx8LkNIlu5Y7SFEb1PVcl350b1w//YXPbV+zcnonFBOYPWuc+1fD+54GZ7b9aa2fV9D1Yr9tf1VWLRlGWTwTZ46VwP3NA2nE6VvNpEHC8c7Wrsa/Hhz1u+3PgNr9q4vWjldovAN6ao978CCzY/jm11wm1qRqzFRW8QiPN6RB4tJ9rNi0EgmasAWcwdadtXq3Ip3im91fuQa9Qfpra7+/8TlyY/uWOVqozzNMt2RFs2Yg0HkB+/42o/xOLO+Bg/N/RCXMuX3KbhNGnesjsTBjPMeeAdRvDipXWXzcXZ+/oiZ+Ojn/weC5MbxePua3J+O3xe3r4IJNaPg8NpWR3/l+A5OeUTlinyLpYTGXsRAcMbg+ebj8/6EGIf9jC9QZSu5E7u6Gz59BNbt/SDr1POp3O/E7vJfXRt7uTv9UK2fWvO+0+p08oblHetgi9nh6BdGx8i3WGERdY/oxtn5JT2PXkanDoR2BGR9+lPY7eFRkDpPa97mx+Ca5jP2b91XE7JPtr8GD+94JSxF1coHgaUlk77R+92fgfrr76XCXrHpbgR0OKQgAR/gAW6dCG3ULgIrhDUmcBnGe92fhjBn+lmqiDGWfnHJMigFCKyglI5ZOgRWzCo8qOISWEEpHbN0CKyYVXhQxSWwglI6ZukQWDGr8KCKGzqwcLVCdJ5bBFVLEUwndGDhO1DW4+52b2t/Iyh8pWc5fGBxUKdg/KPShR/o8glRfD3XQKfpFl/4wFK5TbAF1Gq5VVu+n3qRQr5r+VxCCRYzxDrG+bzyyRK9lG1pvxumXIcSrB6BkvZd+EaJy4HzaD+NDaK2GX8+kYT+L8D3IY/hBQsLi28MbYMGYyo3jFvwraFv5L851AdFohSl+k9nGHdDo3FZ2LLNpm68viVsmaL8RF+BULdY0Zc3viUgsOJb976WnMDyVd74Rk5gxbfufS05geWrvPGNnMCKb937WnICy1d54xs5gRXfuve15ASWr/LGN3ICK75172vJCSxf5Y1v5ARWfOve15ITWL7KG9/ICaz41r2vJSewfJU3vpETWPGte19Lzg2Zoq1Wvkocv8gVUzxl4ylfdJECA6iAYoqzKoeThgcwEYoqfgooprhM1oVqP1r8qqHySqyY4g3No6N3cmrl1UVFlUgxxZewGTYOtsr3+tCKkpQKo1hSTPVMNwxtnbCb7g4JilIVUAwpllQ8PWApwvA7HR9UqrIUvmMfS3j0Rs518uZFdV3d7YNznOgrKaClQE11064Vw6/ZmzXuBZZyPH7DnGr8aLRZJs8vG4g+SYGsAvuGUB0vjZnT6ybQEZ7pcrGxbePbgxAuX19ulM0cfUZTATVQV2OqbPeXWwpHsLIGCrCdWzZVM3NvlUxDImMAp5Ysq068PlXLpGbU1eSnmqdSUwpOQGVV+R8TxdLBaiX8WwAAAABJRU5ErkJggg=="},"g+qi":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("4YfN"),s=n(o),l=a("vl8n"),d=n(l),u=a("5gKc"),c=n(u),f=a("PKHo"),h=n(f),m=a("0w+U");t.default={components:{RPicker:d.default,UploadImage:c.default},data:function(){return{MatPic:"",groupId:"",isNameExist:!1,isShortNameExist:!1,CompanyType:["有限责任公司","股份有限公司","集团公司","有限合伙","普通合伙","个人独资","子公司","其他"],CompanyStatus:["草稿","未使用","使用中","停用"],newCompanyInfo:{companyType:"有限责任公司",groupName:"",groupPic:"",groupShortName:"",groupType:"C",parentId:"1",status:"使用中"}}},mixins:[h.default],methods:{onUpload:function(e){this.newCompanyInfo.groupPic="/H_roleplay-si/ds/download?width=128&height=128&specify=true&url="+e.src},getDefaultImg:function(){this.newCompanyInfo.groupPic=a("tVsm")},checkGroupName:function(){var e=this;this.newCompanyInfo.groupName&&(0,m.checkValue)("groupName",this.newCompanyInfo.groupName).then(function(t){var a=t.result;e.isNameExist=!1,a&&(e.isNameExist=!0,e.$vux.alert.show({content:"【公司名称】已存在，请替换别的名称"}))})},checkShortName:function(){var e=this;this.newCompanyInfo.groupShortName&&(0,m.checkValue)("groupShortName",this.newCompanyInfo.groupShortName).then(function(t){var a=t.result;e.isShortNameExist=!1,a&&(e.isShortNameExist=!0,e.$vux.alert.show({content:"【公司简称】已存在，请替换别的简称"}))})},submit:function(){var e=this,t=this.groupId?m.update:m.save,a=[];a=t===m.save?[(0,s.default)({},this.newCompanyInfo)]:[{status:this.newCompanyInfo.status,groupId:this.newCompanyInfo.groupId,groupPic:this.newCompanyInfo.groupPic,groupName:this.newCompanyInfo.groupName,companyType:this.newCompanyInfo.companyType,groupShortName:this.newCompanyInfo.groupShortName}],this.$vux.confirm.show({content:"确定提交？",onConfirm:function(){switch(a[0].status){case"停用":a[0].status=-1;break;case"使用中":a[0].status=1;break;case"未使用":a[0].status=2;break;case"草稿":a[0].status=3}t(a).then(function(t){t[0]&&t[0].groupId||t.success?(e.$emit("change",!0),e.$vux.alert.show({content:t.success?"修改成功":"提交成功",onHide:function(){e.$router.go(-1)}})):e.$vux.alert.show({content:t.message})})}})},save:function(){var e=this,t="",a=[{key:"groupName",message:"【公司名称】"},{key:"groupShortName",message:"【公司简称】"},{key:"companyType",message:"【公司类型】"}];if(this.isNameExist?t="【公司名称】已存在，请替换别的名称":this.isShortNameExist&&(t="【公司简称】已存在，请替换别的简称"),!t&&a.every(function(a){return!!e.newCompanyInfo[a.key]||(t=a.message+"不能为空",!1)}),t)return void this.$vux.alert.show({content:t});this.submit()},CompanyInfo:function(){var e=this;return(0,m.CompanyInfo)(this.groupId).then(function(t){var a=!0,n=!1,r=void 0;try{for(var o,s=(0,i.default)(t);!(a=(o=s.next()).done);a=!0){var l=o.value;switch(l.status){case 1:l.status="使用中";break;case 2:l.status="未使用";break;case 3:l.status="草稿";break;case-1:l.status="停用"}e.newCompanyInfo=l}}catch(e){n=!0,r=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw r}}})}},created:function(){this.$loading.show();var e=this.$route.query.groupId,t=void 0===e?"":e;this.groupId=t,t&&this.CompanyInfo(),this.$loading.hide()}}},"g+r+":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("BGNQ"),s=n(o),l=a("z5TY"),d=n(l),u=a("iR2W"),c=n(u),f=a("jLp1"),h=a("+VRO"),m=n(h),v=a("zWMP"),p=a("BUFe"),C=n(p);t.default={data:function(){return{jobLog:{},comment:{}}},filters:{timeSplit:function(e){return e?e.split(" ")[0]:""}},mixins:[m.default],components:{Group:d.default,Cell:s.default,RAction:C.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,f.jobLog)(t).then(function(t){var a=t.formData,n=void 0===a?{}:a,r=t.attachment,o=void 0===r?[]:r;e.jobLog=n.jobLog,e.attachment=o,e.comment=n.comment,e.orderInfo=(0,i.default)({},n.baseinfo,n.comment,{biStatus:"已生效"})})},numberComma:function(e){return e||0===e?(0,c.default)(e):"无"},percent:function(e){return e||0===e?(0,v.accMul)(e,100)+"%":"无"}},created:function(){}}},"g0+/":function(e,t,a){"use strict";function n(e){a("JyyE")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("8MNr");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("BLSw"),s=a.n(o),l=a("JMwS"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-306ff146",null);t.default=c.exports},g0cX:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2239,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_outPutMatCode"},{name:"往来名称",value:"dealerName_dealerDebit"}]}},mixins:[r.default],methods:{},created:function(){}}},g27m:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("7g+Q"),i=n(r),o=a("z5TY"),s=n(o),l=a("kNGm"),d=(n(l),a("I8ug")),u=a("d3k1"),c=n(u);t.default={data:function(){return{submitData:{achievement:"",chance:"",date:""},listId:"",btnIsHide:!1,clientHeight:document.documentElement.clientHeight}},components:{Popup:i.default,Group:s.default},methods:{getDate:function(){var e=this;this.$vux.datetime.show({cancelText:"取消",confirmText:"确定",format:"YYYY-MM",onConfirm:function(t){console.log(t),e.submitData.date=t}})},submit:function(){var e=this,t="";if([{key:"date",message:"【期间（月份）】"},{key:"achievement",message:"【效率与成本改进成果】"},{key:"chance",message:"【效率与成本改进机会】"}].every(function(a){return""!==e.submitData[a.key]||(t=a.message+"不能为空",!1)}),t)return void this.$vux.alert.show({content:t});var a={achievement:this.submitData.achievement,chance:this.submitData.chance,date:this.submitData.date+"-1",listId:this.listId};(0,d.saveAssessment)(a).then(function(t){t.success&&(e.submitSuccess=!0,e.$vux.alert.show({content:"提交成功",onHide:function(){e.$router.go(-1)}}))})}},created:function(){var e=this.$route.params.listId;e&&(this.listId=e)},mounted:function(){var e=this;c.default.isAndroid&&(window.onresize=function(){e.clientHeight>document.documentElement.clientHeight?e.btnIsHide=!0:e.btnIsHide=!1})},beforeRouteLeave:function(e,t,a){e.path;this.submitSuccess&&"APPDETAIL"===e.name&&(e.meta.reload=!0),a()}}},g2cw:function(e,t,a){"use strict";function n(e){a("KaBJ")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("J1O+");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("tZbj"),s=a.n(o),l=a("4ZUV"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-2998915c",null);t.default=c.exports},g2zt:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("3cXf"),s=n(o),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),h=n(f),m=a("+62G"),v=n(m),p=a("6q39"),C=n(p),y=a("fEP3"),_=a("1KNX"),g=n(_),b=a("7biW"),w=n(b);t.default={name:"PopCompanyList",props:{defaultValue:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1}},directives:{TransferDom:v.default},components:{Icon:c.default,Popup:h.default,RScroll:g.default,DSearch:w.default,LoadMore:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},watch:{defaultValue:function(e){this.setDefaultValue()}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this.getList()},showSelIcon:function(e){return this.selItems.facilityName===e.facilityName},selThis:function(e,t){this.showPop=!1,this.selItems=e,console.log(this.selItems),this.$emit("sel-item",this.selItems)},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"facilityName"}])),(0,y.getObjFacility)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+i.length,e.listData=1===e.page?i:[].concat((0,d.default)(e.listData),(0,d.default)(i)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.selItems=this.defaultValue?(0,i.default)({},this.defaultValue):{}},itemClick:function(){this.disabled||(this.showPop=!this.showPop)}},created:function(){this.setDefaultValue(),this.disabled||this.getList()}}},gBBO:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("IHPB"),s=n(o),l=a("HXPS"),d=n(l),u=a("7g+Q"),c=n(u),f=a("6q39"),h=n(f),m=a("fEP3"),v=a("1KNX"),p=n(v),C=a("7biW"),y=n(C);a("zWMP");t.default={name:"work-list-pop",props:{show:{type:Boolean,default:!1},workType:{type:String,default:"派工"},getListMethod:{type:String,default:"getWorkOrderTask"}},components:{Icon:d.default,Popup:c.default,LoadMore:h.default,RScroll:p.default,MSearch:y.default},data:function(){return{showPop:!1,srhInpTx:"",scrollOptions:{click:!0},btnText:"关闭",filterList:[{name:"物料名称",value:"inventoryName"},{name:"工序名称",value:"procedureName"}],filterProperty:"",taskWorkList:[],tmpItems:[],requestMethods:null}},watch:{show:{handler:function(e){this.showPop=e}},workType:{handler:function(e){"验收"===e&&this.filterList.push({name:"启动单号",value:"transCode"})},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1),this.tmpItems=[]},findIndex:function(e,t){return e.findIndex(function(e){return e.colId===t.colId})},showSelIcon:function(e){return-1!==this.findIndex(this.tmpItems,e)},selThis:function(e,t){var a=this.tmpItems,n=this.findIndex(a,e);if(-1!==n)return a.splice(n,1),void(a.length||(this.btnText="关闭"));"验收"===this.workType?this.tmpItems=[e]:a.push(e),this.btnText=this.tmpItems?"发起工单"+this.workType:"关闭"},getWorkOrderTask:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,s.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,m.getWorkOrderTask)({filter:(0,i.default)(t)}).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;n.forEach(function(e){e.isStartTask=!1}),e.taskWorkList=n})},getWorkCheckList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,s.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,m.getWorkCheckList)({filter:(0,i.default)(t)}).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;n.forEach(function(e){e.isStartTask=!1}),e.taskWorkList=n})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,r=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=r,this.taskWorkList={},this.$refs.bScroll.scrollTo(0,0),this.requestMethods()},btnHandle:function(){"关闭"!==this.btnText&&this.$emit("sel-task",this.tmpItems),this.showPop=!1}},created:function(){this.requestMethods=this[this.getListMethod],this.requestMethods()}}},gBjh:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("ZLEe"),i=n(r),o=a("HzJ8"),s=n(o),l=a("4YfN"),d=n(l),u=a("aA9S"),c=n(u),f=a("3cXf"),h=n(f),m=a("7g+Q"),v=n(m),p=a("+62G"),C=(n(p),a("kNGm")),y=n(C),_=a("1KNX"),g=n(_),b=(a("HyXB"),a("vS5q"));t.default={name:"RSort",components:{Popup:v.default,RScroll:g.default},props:{data:{type:Array,default:function(){return[{name:"综合",key:""},{name:"交易号",key:"transCode"},{name:"修改时间",key:"modTime"}]}},listId:{type:[String,Number],default:2190},hasFormStatus:{type:Boolean,default:!0}},data:function(){return{sort:"",toDay:"",preDate:"",property:"",SpecTimeKey:"",lastFilter:{},fieldVlaue:{},filtersList:{},statusList:{},timeFilter:{startDate:"",endDate:""},tmpTimeFilter:{startDate:"",endDate:""},scrollOptions:{click:!0},showFilter:!1,specificTimeList:["今日","昨日","本周"]}},methods:{sortClick:function(e,t){this.property===e.key?this.sort="ASC"===this.sort?"DESC":"ASC":this.sort="ASC",this.property=e.key,this.$emit("on-sort",{property:e.key,direction:this.sort})},onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()}),this.lastFilter={timeFilter:JSON.parse((0,h.default)(this.timeFilter)),otherFilter:JSON.parse((0,h.default)(this.fieldVlaue))}},onHide:function(){var e=!1;this.timeFilter.startDate===this.lastFilter.timeFilter.startDate&&this.timeFilter.endDate===this.lastFilter.timeFilter.endDate||(e=!0),(0,h.default)(this.fieldVlaue)!==(0,h.default)(this.lastFilter.otherFilter)&&(e=!0),e&&this.$emit("on-filter",{timeFilter:this.timeFilter,otherFilter:this.fieldVlaue})},filterConfirm:function(){this.showFilter=!1},filterReset:function(){this.fieldVlaue={},this.SpecTimeKey="",this.timeFilter=(0,c.default)({},this.$data.timeFilter,this.$options.data().timeFilter),this.tmpTimeFilter=(0,c.default)({},this.$data.tmpTimeFilter,this.$options.data().tmpTimeFilter)},showSelIcon:function(e,t){if(this.fieldVlaue[t])return-1!==this.fieldVlaue[t].value.findIndex(function(t){return t===e})},selProcee:function(e,t){if(this.fieldVlaue[t]){var a=this.fieldVlaue[t].value,n=a.findIndex(function(t){return t===e});if(-1!==n)return a.splice(n,1),void(a.length||delete this.fieldVlaue[t]);a.push(e)}else{var r={};r="biProcessStatus"!==t&&"bugProcessStatus"!==t&&"processStatus"!==t?{alias:this.filtersList[t].alias,value:[e]}:{alias:this.statusList[t].alias,value:[e]},this.$set(this.fieldVlaue,t,(0,d.default)({},r))}},pickSpecTime:function(e){if(this.SpecTimeKey===e)return this.SpecTimeKey="",void(this.timeFilter=(0,c.default)({},this.$data.timeFilter,this.$options.data().timeFilter));if(this.SpecTimeKey=e,this.tmpTimeFilter=(0,c.default)({},this.$data.tmpTimeFilter,this.$options.data().tmpTimeFilter),e<2){var t=["toDay","preDate"];this.pickDate(t[e])}else{var a=new Date,n=a.getDate(),r=a.getMonth(),i=a.getFullYear(),o=a.getDay(),s={startDate:(0,y.default)(new Date(i,r,n-o),"YYYY-MM-DD"),endDate:(0,y.default)(new Date(i,r,n+(6-o)),"YYYY-MM-DD")};this.pickDate("",s)}},pickDate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e?this.timeFilter.startDate=this.timeFilter.endDate=this[e]:this.timeFilter=(0,d.default)({},t)},getStart:function(){var e=this,t=this.timeFilter,a=this.tmpTimeFilter;this.$vux.datetime.show({cancelText:"取消",confirmText:"确定",clearText:"重新选择",value:a.startDate,endDate:this.toDay,onClear:function(e){t.startDate=a.startDate=""},onConfirm:function(n){if(""!==e.SpecTimeKey&&(e.SpecTimeKey=t.endDate=""),t.endDate){var r=new Date(Date.parse(t.endDate.replace(/-/g,"/")));new Date(Date.parse(n.replace(/-/g,"/")))-r>0&&(t.endDate=a.endDate="")}t.startDate=a.startDate=n}})},getEnd:function(){var e=this,t=this.timeFilter,a=this.tmpTimeFilter;this.$vux.datetime.show({cancelText:"取消",confirmText:"确定",clearText:"重新选择",value:a.endDate,startDate:a.startDate?a.startDate:"",onClear:function(e){t.endDate=a.endDate=""},onConfirm:function(n){""!==e.SpecTimeKey&&(e.SpecTimeKey=t.startDate=""),t.endDate=a.endDate=n}})},getFilterFields:function(){var e=this;(0,b.filterFields)(this.listId).then(function(t){var a=["进行中","已生效","草稿"],n={},r={};e.hasFormStatus&&(n={biStatus:{alias:"表单状态",showAll:!1,showValue:a,value:a}});var o=!0,l=!1,u=void 0;try{for(var c,f=(0,s.default)((0,i.default)(t));!(o=(c=f.next()).done);o=!0){var h=c.value,m=t[h];"biProcessStatus"!==h&&"bugProcessStatus"!==h&&"processStatus"!==h?n[h]=(0,d.default)({},m,{showValue:m.value.slice(0,9),showAll:!1}):r[h]=(0,d.default)({},m,{showValue:m.value.slice(0,9),showAll:!1})}}catch(e){l=!0,u=e}finally{try{!o&&f.return&&f.return()}finally{if(l)throw u}}e.filtersList=(0,d.default)({},n),e.statusList=(0,d.default)({},r)})}},created:function(){this.$route.params.listId;this.toDay=(0,y.default)(new Date,"YYYY-MM-DD"),this.preDate=(0,y.default)(new Date((new Date).getTime()-864e5),"YYYY-MM-DD"),this.getFilterFields()}}},gC8S:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("kNGm"),s=n(o),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),h=a("AupE"),m=n(h),v=a("kKsb"),p=n(v),C=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",dealerInfo:{}}},mixins:[u.default],components:{workFlow:m.default,RAction:f.default,ProjectPart:p.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=t.formData,r=n.order,o=void 0===r?{}:r;e.attachment=a,e.dealerInfo={dealerName:o.dealerName_dealerDebit,dealerCode:o.dealerDebit,dealerLabelName:o.drDealerLabel,amntBal:o.thenAmntBal,thenTotalAmntBal:o.thenTotalAmntBal};var l=n.order.dataSet,d=!0,u=!1,c=void 0;try{for(var f,h=(0,i.default)(l);!(d=(f=h.next()).done);d=!0){var m=f.value;e.count=(0,C.accAdd)(e.count,m.tdAmount)}}catch(e){u=!0,c=e}finally{try{!d&&h.return&&h.return()}finally{if(u)throw c}}t.formData.validUntil=(0,s.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},"gD/m":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.contactInfo,configs:e.dealerConfig}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"matter-list":e.matterList},on:{"on-show-more":e.onShowMore}}),e._v(" "),a("other-part",{attrs:{"other-info":e.orderInfo,amt:e.noTaxAmount,"tax-amt":e.taxAmount,count:e.count,attachment:e.attachment}}),e._v(" "),a("pop-matter-detail",{attrs:{show:e.showMatterDetail,item:e.matterDetail},model:{value:e.showMatterDetail,callback:function(t){e.showMatterDetail=t},expression:"showMatterDetail"}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[],i={render:n,staticRenderFns:r};t.a=i},gEh4:function(e,t){},gG5v:function(e,t,a){"use strict";function n(e){a("uBxc")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("fn06");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("tZnc"),s=a.n(o),l=a("j4Lr"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-8b3175e8",null);t.default=c.exports},gGdS:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("MgeX"),i=n(r),o=a("HzJ8"),s=n(o),l=a("a3Yh"),d=n(l),u=a("3cXf"),c=n(u),f=a("4YfN"),h=n(f),m=a("BGNQ"),v=n(m),p=a("z5TY"),C=n(p),y=a("SAzG"),_=n(y),g=a("PzEQ"),b=n(g),w=a("0AQX"),I=a("HyXB"),D=a("bKg5"),x=n(D),P=a("Pkp+"),S=n(P),k=a("+WR7"),L=n(k),N=a("lsbD"),M=n(N);a("Qg39"),a("zWMP");t.default={data:function(){return{costList:[{}],formData:{biId:"",biComment:""},biReferenceId:""}},components:{Cell:v.default,Group:C.default,XInput:_.default,XTextarea:b.default,RPicker:S.default,PopBaseinfo:L.default,OpButton:M.default},mixins:[x.default],watch:{costList:{handler:function(e){e.forEach(function(e){var t=e.leaveStartDate,a=e.leaveStartTime,n=e.leaveEndDate,r=e.leaveEndTime;if(t&&n&&null==a&&null==r)e.leaveDays=(new Date(n)-new Date(t))/864e5+1;else if(t&&a&&n&&r){var i=(new Date(n)-new Date(t))/864e5;a==r?i+=.5:"上午"==a&&"下午"==r&&(i+=1),e.leaveDays=i}})},deep:!0}},methods:{addCost:function(){this.costList.push({})},deleteCost:function(e){this.costList.splice(e,1)},submitOrder:function(){var e=this,t="",a=[],n=!0,r=!1,i=void 0;try{for(var o,l=(0,s.default)(this.costList);!(n=(o=l.next()).done);n=!0){var u=o.value,f={},m=!0,v=!1,p=void 0;try{for(var C,y=(0,s.default)(this.submitMatterField);!(m=(C=y.next()).done);m=!0){var _=C.value;if(!_.hidden&&!_.allowBlank&&!u[_.fieldCode]){t=_.text+"不为空";break}f[_.fieldCode]=null!=u[_.fieldCode]?u[_.fieldCode]:null}}catch(e){v=!0,p=e}finally{try{!m&&y.return&&y.return()}finally{if(v)throw p}}a.push(f)}}catch(e){r=!0,i=e}finally{try{!n&&l.return&&l.return()}finally{if(r)throw i}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=I.saveAndStartWf;delete e.formData.userCode;var n=(0,h.default)({},e.formData,{handlerEntity:e.entity.dealerName,order:{dataSet:a}}),r={listId:e.listId,biComment:"",formData:(0,c.default)(n),wfPara:(0,c.default)((0,d.default)({},e.processCode,{businessKey:e.businessKey,createdBy:n.creator,"部门ID":e.formData.handlerUnit}))};e.isResubmit&&(t=I.saveAndCommitTask,r.biReferenceId=e.biReferenceId,r.wfPara=(0,c.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=I.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,w.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,s=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=s;var l=i.order;e.handlerDefault={handler:i.handler,handlerName:i.handlerName,handlerUnit:i.handlerUnit,handlerUnitName:i.handlerUnitName,handlerRole:i.handlerRole,handlerRoleName:i.handlerRoleName},e.formData=(0,h.default)({},e.handlerDefault,{biComment:i.biComment,biId:i.biId,biProcessStatus:i.biProcessStatus,creator:i.creator,modifer:i.modifer}),e.costList=[],l.dataSet.forEach(function(t){e.costList.push((0,h.default)({},t,{exptName:t.costName_expCode,expCode:t.expCode,expSubject:t.expSubject,costType:t.costType_expCode}))}),e.biReferenceId=i.biReferenceId,e.$loading.hide()})},hasDraftData:function(){if((0,i.default)(this.costList[0]).length)return(0,d.default)({},"QJ_DATA",{costList:this.costList,formData:this.formData})},getDate:function(e,t){var a=this,n="",r="";"leaveEndDate"===t.fieldCode&&e.leaveStartDate?(n=e.leaveStartDate,r=""):"leaveStartDate"===t.fieldCode&&e.leaveEndDate&&(r=e.leaveEndDate,n=""),this.$vux.datetime.show({value:"",confirmText:"确认",cancelText:"取消",startDate:n,endDate:r,onConfirm:function(n){if(null==e[t.fieldCode])return void a.$set(e,t.fieldCode,n);e[t.fieldCode]=n}})},splitConfig:function(e,t){t.editPart=e}},created:function(){var e=sessionStorage.getItem("QJ_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.costList=t.costList,sessionStorage.removeItem("QJ_DATA")}}}},gICN:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("IHPB"),s=n(o),l=a("4YfN"),d=n(l),u=a("7g+Q"),c=n(u),f=a("+62G"),h=(n(f),a("6q39")),m=n(h),v=a("HyXB"),p=a("1KNX"),C=n(p),y=a("7biW"),_=n(y);t.default={name:"handlerPop",props:{defaultValue:{type:Object,default:function(){return{}}},show:{type:Boolean,default:!1},requestParams:{type:Object,default:function(){return{}}}},components:{Popup:c.default,LoadMore:m.default,RScroll:C.default,DSearch:_.default},watch:{show:function(e){this.showPop=e},defaultValue:{handler:function(e){this.selItems=(0,d.default)({},e)},deep:!0},requestParams:{handler:function(e){this.getlistUsers()},immediate:!0}},data:function(){return{page:1,limit:50,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},srhInpTx:"",showPop:!1,listData:[],selItems:{}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1,this.$emit("input",!1)},onPullingUp:function(){this.page++,this.getlistUsers()},showSelIcon:function(e){return""+this.selItems.nickname==""+e.nickname},getDefaultImg:function(e){var t=a("男"===e.gender?"Fuf7":"0gu7");return e&&(e.photo=t),t},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getlistUsers()},getlistUsers:function(){var e=this,t=[];this.srhInpTx&&(t=[].concat((0,s.default)(t),[{operator:"like",value:this.srhInpTx,property:"nickname"}]));var a=(0,d.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,i.default)(t)},this.requestParams.data);return(0,v.requestData)({url:this.requestParams.url,data:a}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+i.length,e.listData=1===e.page?i:[].concat((0,s.default)(e.listData),(0,s.default)(i)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.$emit("sel-handler",e),this.$emit("input",!1)}},created:function(){}}},gPpb:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2544}},mixins:[r.default]}},"gR+h":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listViewID:2387,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"往来名称",value:"dealerName_dealerDebit"},{name:"设备名称",value:"facilityName_facilityObjCode"}]}},mixins:[r.default],methods:{},created:function(){}}},gRka:function(e,t){},gV92:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"work-flow-full-container"},[a("r-scroll",[a("header",{staticClass:"work-flow-header"},[e._v("工作流")]),e._v(" "),a("div",{staticClass:"work-flow-wrapper"},e._l(e.workFlowList,function(t,n){return a("div",{key:n,staticClass:"work_flow_item vux-1px-l",class:[t.statusClass,{is_my_node:t.isMyNode}]},[a("div",{staticClass:"work_flow_time"},[a("span",[e._v(e._s(e._f("dateFormat")(t.startTime,"YYYY-MM-DD")))]),e._v(" "),a("span",{staticClass:"hour"},[e._v(e._s(e._f("dateFormat")(t.startTime,"HH:mm:ss")))])]),e._v(" "),a("div",{staticClass:"work_flow_info"},[a("img",{staticClass:"avatar",attrs:{src:t.photoUrl,alt:"avatar"},on:{error:function(a){e.getDefaultIcon(t)}}}),e._v(" "),a("div",{staticClass:"work_flow_info_right"},[a("div",{staticClass:"work_flow_node"},[a("div",{staticClass:"node_info"},[a("div",{staticClass:"node_name"},[e._v(e._s(t.nodeName))]),e._v(" "),a("div",{staticClass:"node_user"},[e._v(e._s(t.userName))])]),e._v(" "),a("div",{staticClass:"node_status"},[e._v(e._s(t.status||t.statusText))])]),e._v(" "),a("div",{staticClass:"work_flow_remark"},[e._v("备注："+e._s(t.message||"无"))])])])])}),0)])],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},gfSB:function(e,t){},ghja:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("IHPB"),s=n(o),l=a("4XVd"),d=a("fQlz"),u=n(d),c=a("+AeB"),f=n(c),h=a("kNGm"),m=n(h);t.default={name:"CommentItem",props:{item:{type:Object,default:function(){return{}}},noBorder:{type:Boolean,default:!1}},components:{Emotion:f.default},data:function(){return{attachmentImgs:[]}},methods:{getDefaultImg:function(e){e.target.src=a("Fuf7")},reply:function(){this.$emit("on-reply",this.item)},savePraise:function(){var e=this;if(this.item.isPraise)return(0,l.savePraise)(this.item.ID).then(function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];arguments[1];t&&e.$emit("on-praise-success",e.item)})},getImgUrl:function(e){return""+location.origin+e.ATTACHMENT},scaleImg:function(e){var t=this.getImgUrl(e);wx.previewImage({current:t,urls:this.attachmentImgs})},handleComment:function(){var e=[].concat((0,s.default)(u.default)),t=this.item.CONTENT,a=/\[(.+?)\]/g;return t=t.replace(/src="resources/g,'src="/dist/resources'),t=t.replace(a,function(t){var a=e.findIndex(function(e){return e===t.replace(/(\[|\])/g,"")});return-1===a?t:'<span class="img-emotion" style="background-position: -'+24*a+'px 0;"></span>'})},checkImgSuffix:function(){var e=["jpg","jpeg","png","gif","bmp","tif","pcx","tga","exif","fpx","svg","psd","cdr","pcd","dxf","ufo","eps","ai","raw","WMF","webp"],t=[];if(this.item.commentAttachments){var a=!0,n=!1,r=void 0;try{for(var o,s=(0,i.default)(this.item.commentAttachments);!(a=(o=s.next()).done);a=!0){var l=o.value,d=l.name.lastIndexOf("."),u=l.name.substr(d+1);e.includes(u)&&(l.isImg=!0,t.push(this.getImgUrl(l)))}}catch(e){n=!0,r=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw r}}this.attachmentImgs=t}},checkFile:function(e){window.location.href=""+location.origin+e}},filters:{filterTime:function(e){if(e){"string"==typeof e&&(e=e.replace(/-/g,"/").replace(/\..*/g,""));var t=Date.now(),a=(0,m.default)(e,"YYYY-MM-DD"),n=+new Date(e),r=t-n;return r<864e5?a="今天":r<1728e5&&(a="昨天"),a+" "+(0,m.default)(e,"HH:mm:ss")}}},created:function(){this.checkImgSuffix()}}},gihj:function(e,t,a){"use strict";function n(e){a("Y3GT")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("n6ZL");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("hQWF"),s=a.n(o),l=a("hRPs"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-4e3eaed0",null);t.default=c.exports},gk4f:function(e,t,a){"use strict";function n(e){a("sMJl")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("hAY0");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("Bvj9"),s=a.n(o),l=a("bRBF"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-e1497706",null);t.default=c.exports},gl8L:function(e,t){},gma3:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("d-search",{on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"pop-list-container",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"pop-mater-list-item box_sd",class:{selected:e.showSelIcon(t)},on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"pop-list-main "},[a("div",{staticClass:"pop-list-info"},[a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline name",staticStyle:{display:"inline-block"}},[a("span",[e._v(e._s(t.dealerName))])]),e._v(" "),a("div",{staticClass:"ForInline name",staticStyle:{display:"inline-block"}},[a("span")])]),e._v(" "),t.dealerMobilePhone?a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline ",staticStyle:{display:"inline-block"}},[a("span",{staticClass:"creator"},[e._v(e._s(t.dealerMobilePhone))])])]):e._e(),e._v(" "),a("div",{staticClass:"withoutColor"},[a("span",[e._v(e._s(t.province)+e._s(t.city)+e._s(t.county)+e._s(t.address))])])])])])}),0)],1)])],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},"gqL/":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("3cXf"),s=n(o),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),h=n(f),m=a("QHLv"),v=a("1KNX"),p=n(v),C=a("7biW"),y=n(C);t.default={name:"PopEarnestMoneyList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},params:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:h.default,RScroll:p.default,MSearch:y.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],matterList:[],limit:100,page:1,hasNext:!0,scrollOptions:{pullUpLoad:!0},filterProperty:"",filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"}]}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}},params:{handler:function(){this.resetCondition(),this.getList()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,d.default)(this.selItems)),this.$emit("input",!1),this.$event.$emit("shut-down-filter",!1)},findIndex:function(e,t){return e.findIndex(function(e){return e.transCode===t.transCode})},showSelIcon:function(e){return-1!==this.findIndex(this.tmpItems,e)},selThis:function(e,t){var a=this.tmpItems,n=this.findIndex(a,e);if(-1!==n)return void a.splice(n,1);a.push(e)},cfmMater:function(){this.showPop=!1,this.tmpItems.sort(function(e,t){return t.effectiveTime-e.effectiveTime}),this.selItems=[].concat((0,d.default)(this.tmpItems)),this.$emit("sel-item",(0,s.default)(this.selItems))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,r=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=r,this.resetCondition(),this.getList()},delSelItem:function(e){var t=this.findIndex(this.selItems,e);-1!==t&&this.selItems.splice(t,1),this.tmpItems=[].concat((0,d.default)(this.selItems))},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.tmpItems=[].concat((0,d.default)(this.defaultValue)),this.selItems=[].concat((0,d.default)(this.defaultValue))},resetCondition:function(){this.matterList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"transCode"}])),(0,m.getPurchaseAgreementDeposit)((0,i.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(t)},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+i.length,e.matterList=1===e.page?i:[].concat((0,d.default)(e.matterList),(0,d.default)(i)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})}},created:function(){this.setDefaultValue(),this.getList()}}},grrm:function(e,t,a){"use strict";function n(e){a("nRWx")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("XoIK");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("Xft4"),s=a.n(o),l=a("qmFe"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-271ff79d",null);t.default=c.exports},gufi:function(e,t,a){"use strict";function n(e){a("iMCu")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("P5P7");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("8gEi"),s=a.n(o),l=a("VguV"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-11808aef",null);t.default=c.exports},gyCQ:function(e,t){},"h+4q":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getDepartMentWage=t.getwarehouseInfo=t.update=t.save=t.getId=void 0;var r=a("4YfN"),i=n(r),o=a("GOq4"),s=n(o),l=t.getId=function(e){return s.default.ajax({url:"/H_roleplay-si/ds/list/getListViewById?uniqueId="+e})},d=t.save=function(e){return s.default.post({url:"/H_roleplay-si/warehouse/save",data:e})},u=t.update=function(e){return s.default.post({url:"/H_roleplay-si/warehouse/update",data:e})},c=t.getwarehouseInfo=function(e){return s.default.ajax({url:"/H_roleplay-si/warehouse/findData?transCode="+e})},f=t.getDepartMentWage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getDepartMentWage",data:(0,i.default)({_dc:Date.now(),page:1,start:0,limit:1e4},e)})};t.default={getId:l,save:d,update:u,getwarehouseInfo:c,getDepartMentWage:f}},h2JN:function(e,t){},h8g4:function(e,t,a){"use strict";function n(e){a("9tFv")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("kkCB");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("5+0a"),s=a.n(o),l=a("ToIC"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-1470d73c",null);t.default=c.exports},h8ox:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=(a("XAqG"),a("HyXB"),a("MjAd")),s=n(o),l=a("ak47");n(l);t.default={name:"CPXQ_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"经办人",value:"handlerName"},{name:"交易号",value:"transCode"},{name:"标题",value:"launchTitle"}],listViewID:2339}},mixins:[s.default],methods:{pathChange:function(e,t,a){var n=this;if(!this.clickVisited){var r=e.transCode,o=this.$route.query.name,s=this.$route.params,l=s.folder,d=s.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,i.default)({},e));var u=a+"/"+l+"/"+d;setTimeout(function(){n.clickVisited=!1,n.$router.push({path:u,query:{name:o,transCode:r}})},200)}},goDetail:function(e,t){this.pathChange(e,t,"/detail")},goUserEdit:function(e,t){this.pathChange(e,t,"/fillform")}}}},hAY0:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("3cXf"),s=n(o),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),h=n(f),m=a("QHLv"),v=a("1KNX"),p=n(v),C=a("7biW"),y=n(C);t.default={name:"PopOrderList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},params:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:h.default,RScroll:p.default,MSearch:y.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],matterList:[],limit:100,page:1,hasNext:!0,scrollOptions:{pullUpLoad:!0},filterProperty:"",filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"}]}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}},params:{handler:function(){this.resetCondition(),this.getList()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,d.default)(this.selItems)),this.$emit("input",!1),this.$event.$emit("shut-down-filter",!1)},findIndex:function(e,t){return e.findIndex(function(e){return e.popiCode===t.popiCode})},showSelIcon:function(e){return-1!==this.findIndex(this.tmpItems,e)},selThis:function(e,t){var a=this.tmpItems,n=this.findIndex(a,e);if(-1!==n)return void a.splice(n,1);a.push(e)},cfmMater:function(){this.showPop=!1,this.tmpItems.sort(function(e,t){return t.effectiveTime-e.effectiveTime}),this.selItems=[].concat((0,d.default)(this.tmpItems)),this.$emit("sel-item",(0,s.default)(this.selItems))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,r=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=r,this.resetCondition(),this.getList()},delSelItem:function(e){var t=this.findIndex(this.selItems,e);-1!==t&&this.selItems.splice(t,1),this.tmpItems=[].concat((0,d.default)(this.selItems))},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.tmpItems=[].concat((0,d.default)(this.defaultValue)),this.selItems=[].concat((0,d.default)(this.defaultValue))},resetCondition:function(){this.matterList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"popiCode"}])),(0,m.getPaySupplierArrearsDataSet)((0,i.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(t)},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+i.length,e.matterList=1===e.page?i:[].concat((0,d.default)(e.matterList),(0,d.default)(i)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})}},created:function(){this.setDefaultValue(),this.getList()}}},hBwb:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("ZLEe"),i=n(r),o=a("PiEG"),s=n(o),l=a("UOZN"),d=n(l);t.default={name:"popup",props:{value:Boolean,height:{type:String,default:"auto"},width:{type:String,default:"auto"},showMask:{type:Boolean,default:!0},isTransparent:Boolean,hideOnBlur:{type:Boolean,default:!0},position:{type:String,default:"bottom"},maxHeight:String,popupStyle:Object,hideOnDeactivated:{type:Boolean,default:!0},shouldRerenderOnShow:{type:Boolean,default:!1},shouldScrollTopOnShow:{type:Boolean,default:!1}},created:function(){this.$vux&&this.$vux.config&&"VIEW_BOX"===this.$vux.config.$layout&&(this.layout="VIEW_BOX")},mounted:function(){var e=this;this.$overflowScrollingList=document.querySelectorAll(".vux-fix-safari-overflow-scrolling"),this.$nextTick(function(){var t=e;e.popup=new s.default({showMask:t.showMask,container:t.$el,hideOnBlur:t.hideOnBlur,onOpen:function(){t.fixSafariOverflowScrolling("auto"),t.show=!0},onClose:function(){t.show=!1,window.__$vuxPopups&&(0,i.default)(window.__$vuxPopups).length>1||document.querySelector(".vux-popup-dialog.vux-popup-mask-disabled")||setTimeout(function(){t.fixSafariOverflowScrolling("touch")},300)}}),e.value&&e.popup.show(),e.initialShow=!1})},deactivated:function(){this.hideOnDeactivated&&(this.show=!1),this.removeModalClassName()},methods:{fixSafariOverflowScrolling:function(e){if(this.$overflowScrollingList.length)for(var t=0;t<this.$overflowScrollingList.length;t++)this.$overflowScrollingList[t].style.webkitOverflowScrolling=e},removeModalClassName:function(){"VIEW_BOX"===this.layout&&d.default.removeClass(document.body,"vux-modal-open")},doShow:function(){this.popup&&this.popup.show(),this.$emit("on-show"),this.fixSafariOverflowScrolling("auto"),"VIEW_BOX"===this.layout&&d.default.addClass(document.body,"vux-modal-open"),this.hasFirstShow||(this.$emit("on-first-show"),this.hasFirstShow=!0)},scrollTop:function(){var e=this;this.$nextTick(function(){e.$el.scrollTop=0;var t=e.$el.querySelectorAll(".vux-scrollable");if(t.length)for(var a=0;a<t.length;a++)t[a].scrollTop=0})}},data:function(){return{layout:"",initialShow:!0,hasFirstShow:!1,shouldRenderBody:!0,show:this.value}},computed:{styles:function(){var e={};if(this.position&&"bottom"!==this.position&&"top"!==this.position?e.width=this.width:e.height=this.height,this.maxHeight&&(e["max-height"]=this.maxHeight),this.isTransparent&&(e.background="transparent"),this.popupStyle)for(var t in this.popupStyle)e[t]=this.popupStyle[t];return e}},watch:{value:function(e){this.show=e},show:function(e){var t=this;this.$emit("input",e),e?this.shouldRerenderOnShow?(this.shouldRenderBody=!1,this.$nextTick(function(){t.scrollTop(),t.shouldRenderBody=!0,t.doShow()})):(this.shouldScrollTopOnShow&&this.scrollTop(),this.doShow()):(this.$emit("on-hide"),this.show=!1,this.popup.hide(!1),setTimeout(function(){document.querySelector(".vux-popup-dialog.vux-popup-show")||t.fixSafariOverflowScrolling("touch"),t.removeModalClassName()},200))}},beforeDestroy:function(){this.popup&&this.popup.destroy(),this.fixSafariOverflowScrolling("touch"),this.removeModalClassName()}}},hByD:function(e,t,a){"use strict";function n(e){a("2VjE")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("2jGX");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("M4eV"),s=a.n(o),l=a("Ad+/"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-42cfa888",null);t.default=c.exports},hCDI:function(e,t){},hE3F:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("lC5x"),s=n(o),l=a("J0Oq"),d=n(l),u=a("ZLEe"),c=n(u),f=a("3cXf"),h=n(f),m=a("HzJ8"),v=n(m),p=a("+62G"),C=n(p),y=a("Nk/b"),_=n(y),g=a("7g+Q"),b=n(g),w=a("z5TY"),I=n(w),D=a("wDjS"),x=n(D),P=a("KFOb"),S=n(P),k=a("HXPS"),L=n(k),N=a("BGNQ"),M=n(N),T=a("u28h"),A=n(T),O=a("HyXB"),R=a("h+4q"),j=a("Pkp+"),B=n(j),E=a("1KNX"),F=n(E),U=a("PKHo"),$=n(U),H=a("5gKc"),V=n(H),q=a("XgMd"),Q=n(q),Y=a("BwHg"),X=n(Y);t.default={data:function(){return{listId:"64a41c48-4e8d-4709-bd01-5d60ad6bc625",addressData:S.default,transCode:"",picShow:!1,showPop:!1,imgFileObj:{},biReferenceId:"",MatPic:"",AccountAddress:[],baseinfo:{},warehouse:{warehouseCode:"",warehouseName:"",warehouseType:"",warehousePic:"",staffDealerCode:null,groupCode:null,customerDealerCode:null,processorsDealerCode:"",channelDealerCode:null,warehouseCondtions:"",warehouseProvince:"",warehouseCity:"",warehouseDistrict:"",warehouseAddress:"",warehouseStatus:""},submitSuccess:!1,typeSub:"groupCode",typeSubValue:"",typeToSubMap:{"配送中心仓":"groupCode","加工商仓":"processorsDealerCode","加工车间仓":"groupCode","客户仓":"customerDealerCode","渠道商仓":"channelDealerCode","个人仓":"staffDealerCode","一般部门仓":"groupCode"},warehouseConfig:[],warehouseDuplicateConfig:[],warehouseDuplicateData:{},currentGroup:"",statusType:[],warehouseStatus:"使用中",showAddress:!1,scrollOptions:{click:!0},uniqueId:"",hasDefault:!1}},computed:{warehouseType:function(){return this.warehouse.warehouseType},warehouseRel:function(){return this.warehouseDuplicateData.warehouseRel},warehouseCondtions:function(){return this.warehouse.warehouseCondtions}},directives:{TransferDom:C.default},mixins:[$.default],components:{Picker:_.default,Popup:b.default,Group:I.default,RPicker:B.default,XAddress:x.default,Icon:L.default,UploadImage:V.default,PopWarelabeList:Q.default,RScroll:F.default,Cell:M.default,Datetime:A.default,duplicateComponent:X.default},watch:{warehouseType:{handler:function(e){this.typeSub=this.typeToSubMap[e]||"noMatched";var t=!0,a=!1,n=void 0;try{for(var r,i=(0,v.default)(this.warehouseConfig);!(t=(r=i.next()).done);t=!0){var o=r.value;o.fieldCode===this.typeSub?o.hiddenInRun=!1:"staffDealerCode"!==o.fieldCode&&"groupCode"!==o.fieldCode&&"customerDealerCode"!==o.fieldCode&&"customerDealerCode"!==o.fieldCode&&"processorsDealerCode"!==o.fieldCode&&"channelDealerCode"!==o.fieldCode||(o.hiddenInRun=!0)}}catch(e){a=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(a)throw n}}"库位"===this.warehouseType?delete this.warehouseDuplicateData.warehouseRel:"库位"===this.warehouseType||this.warehouseDuplicateData.warehouseRel||this.$set(this.warehouseDuplicateData,"warehouseRel",[]);var s=!0,l=!1,d=void 0;try{for(var u,c=(0,v.default)(this.warehouseDuplicateConfig);!(s=(u=c.next()).done);s=!0){var f=u.value;if(console.log(f),"库位"===f.title){f.hiddenInRun="库位"===this.warehouseType;break}}}catch(e){l=!0,d=e}finally{try{!s&&c.return&&c.return()}finally{if(l)throw d}}},immediate:!0},warehouseRel:{handler:function(e){var t=this;this.hasDefault||e&&e.length&&e.forEach(function(e){if(e.childWarehouseName){var a=!0,n=!1,r=void 0;try{for(var i,o=(0,v.default)(t.warehouseDuplicateConfig);!(a=(i=o.next()).done);a=!0){var s=i.value;if("warehouseRel"===s.name){var l=!0,d=!1,u=void 0;try{for(var c,f=(0,v.default)(s.items);!(l=(c=f.next()).done);l=!0){var h=c.value;if("childWarehouseName"===h.fieldCode){var m=!0,p=!1,C=void 0;try{for(var y,_=(0,v.default)(h.remoteData);!(m=(y=_.next()).done);m=!0){var g=y.value;if(g.warehosueName===e.childWarehouseName){e.childWarehouseCode=g.warehouseCode;break}}}catch(e){p=!0,C=e}finally{try{!m&&_.return&&_.return()}finally{if(p)throw C}}break}}}catch(e){d=!0,u=e}finally{try{!l&&f.return&&f.return()}finally{if(d)throw u}}break}break}}catch(e){n=!0,r=e}finally{try{!a&&o.return&&o.return()}finally{if(n)throw r}}}})},deep:!0},warehouseCondtions:function(e){var t=this;if(e){var a="",n=!0,r=!1,i=void 0;try{for(var o,s=(0,v.default)(this.warehouseConfig);!(n=(o=s.next()).done);n=!0){var l=o.value;if("break"===function(n){if("warehouseCondtions"===n.fieldCode){var r=!0,i=!1,o=void 0;try{for(var s,l=(0,v.default)(n.remoteData);!(r=(s=l.next()).done);r=!0){var d=s.value;if(d.name===e){a=d.id;break}}}catch(e){i=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw o}}}else if("warehouseTemperatureRange"===n.fieldCode)return void 0!==n.requestParams.data.parentId&&(n.requestParams.data.parentId=a),(0,O.requestData)(n.requestParams).then(function(e){var a=e.tableContent,r=void 0===a?[]:a;r.length&&r.forEach(function(e){e.name=e[n.displayField],e.value=e[n.displayField]}),n.remoteData=r,t.warehouse.warehouseTemperatureRange=r.length?r[0].name:""}),"break"}(l))break}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}}}},methods:{onUpload:function(e){this.warehouse.warehousePic=e.src},findData:function(){var e=this;return(0,R.getwarehouseInfo)(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a;t.attachment;e.warehouseDuplicateConfig.forEach(function(t){n[t.name].length&&(e.warehouseDuplicateData[t.name]=n[t.name])});var r=n.baseinfo,i=void 0===r?{}:r,o=n.warehouse,s=void 0===o?{}:o;switch(e.hasDefault=!0,s.warehouseStatus){case 1:e.warehouseStatus="使用中";break;case 2:e.warehouseStatus="未使用";break;case 0:e.warehouseStatus="草稿";break;case-1:e.warehouseStatus="停用"}e.baseinfo=i,e.warehouse=s,e.biReferenceId=e.warehouse.referenceId,e.warehouse.warehousePic?(e.picShow=!0,e.MatPic="/H_roleplay-si/ds/download?url="+e.warehouse.warehousePic+"&width=400&height=400"):(e.picShow=!0,e.getDefaultImg()),e.AccountAddress=[e.warehouse.warehouseProvince,e.warehouse.warehouseCity,e.warehouse.warehouseDistrict]})},getDefaultImg:function(){this.MatPic=a("CRKs")},changeAddress:function(e,t){this.AccountAddress=t},getAddress:function(){if(this.AccountAddress.length>0){if(this.warehouse.warehouseProvince=this.AccountAddress[0],this.warehouse.warehouseDistrict=this.AccountAddress[2],"市辖区"===this.AccountAddress[1])return void(this.warehouse.warehouseCity="");this.warehouse.warehouseCity=this.AccountAddress[1]}},submit:function(){var e=this;for(var t in this.warehouse)"string"==typeof this.warehouse[t]&&this.warehouse[t].indexOf(" ")>=0&&(this.warehouse[t]=this.warehouse[t].replace(/\s/g,""));this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){switch(e.warehouseStatus){case"使用中":e.warehouse.warehouseStatus=1;break;case"未使用":e.warehouse.warehouseStatus=2;break;case"草稿":e.warehouse.warehouseStatus=0;break;case"停用":e.warehouse.warehouseStatus=-1}e.warehouse.status&&delete e.warehouse.status;var t=R.save,a={listId:e.listId,formData:{baseinfo:e.baseinfo,warehouse:e.warehouse}};e.transCode&&(t=R.update),e.warehouseDuplicateConfig.length&&e.warehouseDuplicateConfig.forEach(function(t){e.warehouseDuplicateData[t.name]&&e.warehouseDuplicateData[t.name].length&&(a.formData[t.name]=e.warehouseDuplicateData[t.name])}),t(a).then(function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a.success,r=void 0!==n&&n,i=a.message,o=void 0===i?"提交失败":i;r&&(o=t===R.update?"修改成功":"提交成功",e.submitSuccess=!0,e.transCode||""+e.$route.query.add!="1"||sessionStorage.setItem("EDIT_WAREHOUSE_TRANSCODE",(0,h.default)({transCode:a.transCode}))),e.$vux.alert.show({content:o,onHide:function(){r&&e.$router.go(-1)}})})}})},save:function(){var e=this,t="";if([{key:"warehouseCode",message:"【仓库编码】"},{key:"warehouseName",message:"【仓库名称】"},{key:"warehouseType",message:"【仓库类型】"}].every(function(a){return""!==e.warehouse[a.key]||(t=a.message+"不能为空",!1)}),!t&&(0,c.default)(this.warehouseDuplicateData).length&&(0,c.default)(this.warehouseDuplicateData).forEach(function(a){if(e.warehouseDuplicateData[a].length<=0)return!1;e.warehouseDuplicateConfig.forEach(function(n){n.name===a&&n.items.forEach(function(n){e.warehouseDuplicateData[a].forEach(function(e){if(!n.allowBlank&&!e[n.fieldCode])return t=n.text+"不能为空",!1})})})}),t)return void this.$vux.alert.show({content:t});this.submit()},selGroup:function(e){this.warehouse[this.typeSub]=e,this.typeSubMap[this.typeSub].value=e},handlerParams:function(e){var t=this,a=e.dataSource.data.url,n=e.dataSource.data.params,r=(0,c.default)(n),i={url:a};if(r.length){var o={};r.forEach(function(e){o[e]="text"===n[e].type?n[e].value:""}),i.data=o}e.requestParams=i,(0,O.requestData)(i).then(function(a){a.tableContent?(a.tableContent.forEach(function(t){t.name=t[e.displayField],t.value=t[e.displayField]}),"warehouseType"===e.fieldCode&&(t.$route.query.transCode||(t.warehouse.warehouseType=t.$route.query.warehouseType?t.$route.query.warehouseType:"")),t.$set(e,"remoteData",a.tableContent)):(a.forEach(function(t){t.name=t[e.displayField],t.value=t[e.displayField]}),t.$set(e,"remoteData",a))})},getFormViewsInfo:function(){var e=this;return(0,d.default)(s.default.mark(function t(){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,O.getFormViews)(e.listId).then(function(t){var a=!0,n=!1,r=void 0;try{for(var i,o=(0,v.default)(t);!(a=(i=o.next()).done);a=!0){var s=i.value;e.transCode&&"revise"===s.viewType?e.uniqueId=s.uniqueId:e.transCode||"submit"!==s.viewType||(e.uniqueId=s.uniqueId)}}catch(e){n=!0,r=e}finally{try{!a&&o.return&&o.return()}finally{if(n)throw r}}});case 2:return t.next=4,(0,O.getFormConfig)(e.uniqueId).then(function(t){var a=t.config,n=void 0===a?[]:a;console.log(n);var r=[],i=[];n.forEach(function(e){e.isMultiple?e.hiddenInRun||"r2Fileupload"===e.xtype||i.push(JSON.parse((0,h.default)(e))):r=JSON.parse((0,h.default)(e.items))}),r.forEach(function(t){"warehouseProvince"!==t.fieldCode&&"warehouseCity"!==t.fieldCode&&"warehouseDistrict"!==t.fieldCode&&("r2Combo"===t.xtype&&t.dataSource&&"remoteData"===t.dataSource.type?e.handlerParams(t):"r2Combo"===t.xtype&&t.dataSource&&"staticData"===t.dataSource.type&&e.$set(t,"remoteData",t.dataSource.data)),"warehousePic"!==t.fieldCode&&"warehouseCity"!==t.fieldCode&&"warehouseDistrict"!==t.fieldCode&&e.warehouseConfig.push(t),"groupCode"===t.fieldCode||"customerDealerCode"===t.fieldCode||"customerDealerCode"===t.fieldCode||"processorsDealerCode"===t.fieldCode||"channelDealerCode"===t.fieldCode?t.hiddenInRun=!0:"staffDealerCode"===t.fieldCode&&(t.hiddenInRun=!1)}),i.forEach(function(t){switch(t.name){case"warehouseRel":t.title="库位"}var a=[];t.items.forEach(function(t,n){t.hidden||("r2Combo"!==t.editorType&&"r2Selector"!==t.editorType||!t.dataSource||"remoteData"!==t.dataSource.type||e.handlerParams(t),a.push(t))}),t.items=a,e.$set(e.warehouseDuplicateData,t.name,[]),"库位"===e.warehouseType&&"库位"===t.title&&(t.hiddenInRun=!0)}),e.warehouseDuplicateConfig=i,e.transCode||e.$loading.hide()});case 4:case"end":return t.stop()}},t,e)}))()}},beforeRouteLeave:function(e,t,a){var n=e.path;this.submitSuccess&&"/warehouse"===n&&(e.meta.reload=!0),a()},created:function(){var e=this;this.$loading.show();var t=this.$route.query;if(t.transCode)return this.transCode=t.transCode,this.isClearData=!1,void(0,d.default)(s.default.mark(function t(){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getFormViewsInfo();case 2:return t.next=4,e.findData().then(function(){e.$loading.hide()});case 4:e.hasDefault=!1;case 5:case"end":return t.stop()}},t,e)}))();this.getFormViewsInfo(),(0,O.getBaseInfoDataBase)().then(function(t){e.baseinfo=(0,i.default)({},e.baseinfo,t)}),this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},beforeRouteEnter:function(e,t,a){e.meta.title="新增仓库",e.query.transCode&&(e.meta.title="编辑仓库"),a()}}},hFVz:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getObjDealerBalByLabelName=t.getSaleAcceptanceBill=t.getDepositToPaySuppliers=t.getPaySupplierArrears=void 0;var r=a("4YfN"),i=n(r),o=a("GOq4"),s=n(o),l={getId:function(e){return s.default.ajax({url:"/H_roleplay-si/ds/list/getListViewById?uniqueId="+e})},getDealerList:function(e,t){return s.default.ajax({url:"/H_roleplay-si/seconds/getReportInfoByListViewId/"+e,data:t})},getOrderDealerList:function(e){return s.default.ajax({url:"/H_roleplay-si/ds/getObjDealerByLabelName",data:e})},getDealerClassfiy:function(){return s.default.ajax({url:"/H_roleplay-si/ds/list/getListViews?listId=c0375170-d537-4f23-8ed0-a79cf75f5b04"})},getDictByType:function(){return s.default.ajax({url:"/H_roleplay-si/ds/getDictByType",data:{type:"dealerRelLabel",page:1,start:0,limit:25}})},getDictByValue:function(e){return s.default.ajax({url:"/H_roleplay-si/ds/getDictByValue",data:{value:e,page:1,start:0,limit:1e4}})},save:function(e){return s.default.post({url:"/H_roleplay-si/dealer/save",data:e})},update:function(e){return s.default.post({url:"/H_roleplay-si/dealer/update",data:e})},getDealerInfo:function(e){return s.default.ajax({url:"/H_roleplay-si/dealer/findData?transCode="+e})},getAppdealer:function(e){return s.default.ajax({url:"/H_roleplay-si/ds/getObjDealerByLabelName",data:e})},getContactList:function(e){return s.default.ajax({url:"/H_roleplay-si/ds/getObjDealerContact",data:e})},getPaySupplierArrears:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getPaySupplierArrears",data:(0,i.default)({_dc:Date.now()},e)})},getDepositToPaySuppliers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getDepositToPaySuppliers",data:(0,i.default)({_dc:Date.now()},e)})},getSaleAcceptanceBill:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getSaleAcceptanceBill",data:(0,i.default)({_dc:Date.now()},e)})},getObjDealerBalByLabelName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getObjDealerBalByLabelName",data:(0,i.default)({_dc:Date.now()},e)})}};t.getPaySupplierArrears=l.getPaySupplierArrears,t.getDepositToPaySuppliers=l.getDepositToPaySuppliers,t.getSaleAcceptanceBill=l.getSaleAcceptanceBill,t.getObjDealerBalByLabelName=l.getObjDealerBalByLabelName;t.default=l},hGFl:function(e,t,a){"use strict";function n(e){a("q4P3")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("mzl+");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("jPPF"),s=a.n(o),l=a("u9uh"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-df3de664",null);t.default=c.exports},hHGC:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2466,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"},{name:"往来名称",value:"dealerName_dealerCodeCredit"}]}},mixins:[r.default],methods:{},created:function(){}}},hIeW:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("IHPB"),i=n(r),o=a("4YfN"),s=n(o),l=a("Jwlx"),d=n(l),u=a("7g+Q"),c=n(u),f=a("+62G"),h=n(f),m=a("7biW"),v=n(m),p=a("1KNX"),C=n(p),y=a("hFVz"),_=n(y);t.default={name:"PopContactList",props:{dealerInfo:{type:Object,default:function(){return{}}},defaultValue:{type:Object,default:function(){return{}}}},directives:{TransferDom:h.default},components:{Popup:c.default,DSearch:v.default,RScroll:C.default},data:function(){return{page:1,limit:10,hasNext:!0,showDealerPop:!1,showPop:!1,srhInpTx:"",bScroll:null,contactInfo:{},dealerList:[],contactList:[],scrollOptions:{pullUpLoad:!0}}},watch:{dealerInfo:{handler:function(e,t){(e.id||"")!==(t.id||"")&&(this.resetCondition(),this.getContact())}},defaultValue:{handler:function(){this.contactInfo=(0,d.default)((0,s.default)({},this.defaultValue))},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},showSelIcon:function(e){return this.contactInfo.dealerName===e.dealerName},getDefaultImg:function(e){return a("Fuf7")},selContact:function(e,t){this.showPop=!1,this.contactInfo=(0,d.default)((0,s.default)({},e)),this.$emit("sel-contact",this.contactInfo)},getContact:function(){var e=this;return _.default.getContactList({dealerCode:this.dealerInfo.dealerCode,limit:this.limit,page:this.page,start:(this.page-1)*this.limit}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,o=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+o.length,e.contactList=1===e.page?o:[].concat((0,i.default)(e.contactList),(0,i.default)(o)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.contactList=[],this.page=1,this.hasNext=!0,this.getContact()},onPullingUp:function(){this.page++,this.getContact()},resetCondition:function(){this.page=1,this.hasNext=!0,this.contactList=[]}},created:function(){}}},hLfv:function(e,t,a){"use strict";function n(e){a("6ule")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("E6hn");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("Tizq"),s=a.n(o),l=a("cSfN"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-ecdfb3b8",null);t.default=c.exports},hNmM:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("IHPB"),s=n(o),l=a("4XVd"),d=a("fQlz"),u=n(d),c=a("+AeB"),f=n(c),h=a("kNGm"),m=n(h);t.default={name:"CommentItem",props:{item:{type:Object,default:function(){return{}}},noBorder:{type:Boolean,default:!1}},components:{Emotion:f.default},data:function(){return{attachmentImgs:[]}},methods:{getDefaultImg:function(e){e.target.src=a("Fuf7")},reply:function(){this.$emit("on-reply",this.item)},savePraise:function(){var e=this;if(this.item.isPraise)return(0,l.savePraise)(this.item.ID).then(function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];arguments[1];t&&e.$emit("on-praise-success",e.item)})},getImgUrl:function(e){return""+location.origin+e.ATTACHMENT},scaleImg:function(e){var t=this.getImgUrl(e);wx.previewImage({current:t,urls:this.attachmentImgs})},handleComment:function(){var e=[].concat((0,s.default)(u.default)),t=this.item.CONTENT,a=/\[(.+?)\]/g;return t=t.replace(/src="resources/g,'src="/dist/resources'),t=t.replace(a,function(t){var a=e.findIndex(function(e){return e===t.replace(/(\[|\])/g,"")});return-1===a?t:'<span class="img-emotion" style="background-position: -'+24*a+'px 0;"></span>'})},checkImgSuffix:function(){var e=["jpg","jpeg","png","gif","bmp","tif","pcx","tga","exif","fpx","svg","psd","cdr","pcd","dxf","ufo","eps","ai","raw","WMF","webp"],t=[];if(this.item.commentAttachments){var a=!0,n=!1,r=void 0;try{for(var o,s=(0,i.default)(this.item.commentAttachments);!(a=(o=s.next()).done);a=!0){var l=o.value,d=l.name.lastIndexOf("."),u=l.name.substr(d+1);e.includes(u)&&(l.isImg=!0,t.push(this.getImgUrl(l)))}}catch(e){n=!0,r=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw r}}this.attachmentImgs=t}},checkFile:function(e){window.location.href=""+location.origin+e}},filters:{filterTime:function(e){if(e){"string"==typeof e&&(e=e.replace(/-/g,"/").replace(/\..*/g,""));var t=Date.now(),a=(0,m.default)(e,"YYYY-MM-DD"),n=+new Date(e),r=t-n;return r<864e5?a="今天":r<1728e5&&(a="昨天"),a+" "+(0,m.default)(e,"HH:mm:ss")}}},created:function(){this.checkImgSuffix()}}},hPJo:function(e,t,a){"use strict";function n(e){a("Sqsx")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("mpfK");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("F+mj"),s=a.n(o),l=a("z6WS"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-333abcc5",null);t.default=c.exports},hQFQ:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("rVsN"),i=n(r),o=a("KH7x"),s=n(o),l=a("0AQX"),d=a("kNGm"),u=n(d),c=a("1KNX"),f=n(c);t.default={name:"WorkFlowFull",data:function(){return{transCode:"",currentUser:{},workFlow:[],defaulImg:a("Fuf7")}},computed:{workFlowList:function(){var e=this.workFlow,t=this.currentUser.userId,a=void 0===t?"":t;return e.forEach(function(e){e.isMyNode=""+a==""+e.assignee}),e}},components:{RScroll:f.default},methods:{getDefaultIcon:function(e){var t=this.defaulImg;return e&&(e.photoUrl=t),t},getCurrentUser:function(){var e=this;return(0,l.currentUser)().then(function(t){e.currentUser=t})},getWorkFlow:function(){var e=this;return(0,l.getWorkFlow)({transCode:this.transCode}).then(function(t){var a=t.tableContent,n=void 0===a?[]:a,r=(0,s.default)(n,1),i=r[0],o=void 0===i?{}:i,l=n.slice(-1),d=(0,s.default)(l,1),u=d[0];n.forEach(function(e,t){e.statusClass="",e.statusText="已完成"}),o.statusText="已提交",u.endTime?u.statusClass="done":(u.statusClass="doing",u.statusText="进行中"),e.workFlow=n.reverse()})}},filters:{dateFormat:u.default},created:function(){var e=this,t=this.$route.query.transCode,a=[];this.transCode=t,this.$loading.show(),a.push(this.getCurrentUser()),a.push(this.getWorkFlow()),i.default.all(a).then(function(){e.$loading.hide()})}}},hQWF:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("KH7x"),i=n(r),o=a("0w+U"),s=a("+VRO"),l=n(s);t.default={data:function(){return{MatPic:"",CompanyInfo:{}}},mixins:[l.default],methods:{getDefaultImg:function(){this.CompanyInfo.groupPic=a("tVsm")},loadPage:function(){var e=this,t=this.$route.query.groupId,a=void 0===t?"":t;return a?(this.$loading.show(),(0,o.CompanyInfo)(a).then(function(t){var a=(0,i.default)(t,1),n=a[0],r=void 0===n?{}:n,o=["","使用中","未使用","草稿"];r.status=o[r.status]||"停用",e.CompanyInfo=r,e.$loading.hide()})):void this.$vux.alert.show({content:"抱歉，有误，请尝试刷新之后再次进入"})}}}},hRPs:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"childPage"},[a("div",{staticClass:"detail_content"},[a("div",{staticClass:"mater_baseinfo vux-1px-b"},[a("div",{staticClass:"mater_property"},[a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("公司名称:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.CompanyInfo.groupName))])]),e._v(" "),a("div",{staticClass:"each_property"},[a("label",[e._v("公司简称:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.CompanyInfo.groupShortName))])])]),e._v(" "),a("div",{staticClass:"mater_pic vux-1px-l"},[a("div",{staticClass:"add_icon"},[a("label",{attrs:{for:"file"}}),e._v(" "),a("img",{staticClass:"upload",attrs:{src:e.CompanyInfo.groupPic},on:{error:e.getDefaultImg}})])])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("公司类型:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v(e._s(e.CompanyInfo.companyType))])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("公司状态:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v("\n         "+e._s(e.CompanyInfo.status)+"\n      ")])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("创建者:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v("\n         "+e._s(e.CompanyInfo.creator||"无")+"\n      ")])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("创建时间:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v("\n         "+e._s(e.CompanyInfo.crtTime||"无")+"\n      ")])]),e._v(" "),e.CompanyInfo.modifier?a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("修改者:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v("\n         "+e._s(e.CompanyInfo.modifier||"无")+"\n      ")])]):e._e(),e._v(" "),e.CompanyInfo.modTime?a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("修改时间:")]),e._v(" "),a("div",{staticClass:"property_val"},[e._v("\n         "+e._s(e.CompanyInfo.modTime||"无")+"\n      ")])]):e._e()])])},r=[],i={render:n,staticRenderFns:r};t.a=i},hRaJ:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages xsbj-list-conatiner",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noPrice:"",noCount:""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},hTZw:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"search"},[a("form",{staticClass:"search_part",class:{"has-filter":e.filterList.length},attrs:{action:""},on:{submit:function(t){t.preventDefault(),e.searchMat(e.srhInpTx)}}},[a("i",{staticClass:"icon icon-search"}),e._v(" "),a("input",{ref:"searchInp",staticClass:"srh_inp",attrs:{type:"search",autocomplete:"off",placeholder:e.placeHolder},domProps:{value:e.srhInpTx},on:{input:function(t){e.getValue(t)},focus:function(t){e.isShowDrop=!0}}}),e._v(" "),e.isFill?a("div",{staticClass:"pop_cfm",class:{pop_cancel:!e.srhInpTx.length},on:{click:function(t){e.searchMat(e.srhInpTx)}}},[e._v(e._s(e.srhInpTx.length>0?"搜索":"返回")+"\n    ")]):a("div",{staticClass:"pop_cfm",on:{click:function(t){e.searchMat(e.srhInpTx)}}},[e._v("搜索")]),e._v(" "),e.srhInpTx?a("i",{staticClass:"icon-clear clear_icon",on:{click:e.clear}}):e._e()]),e._v(" "),e.filterList.length?a("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowDrop,expression:"isShowDrop"}],staticClass:"search_filter"},[a("r-dropdown",{attrs:{list:e.filterList},on:{"on-selected":e.popSelected}}),e._v(" "),a("div",{staticClass:"layer",on:{click:function(t){e.isShowDrop=!1}}})],1):e._e()])},r=[],i={render:n,staticRenderFns:r};t.a=i},hX7J:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("IHPB"),i=n(r),o=a("HzJ8"),s=n(o),l=a("fQlz"),d=n(l),u=a("kNGm"),c=n(u),f=a("9wX+"),h=n(f);t.default={name:"CommentItem",props:{item:{type:Object,default:function(){return{}}},noBorder:{type:Boolean,default:!1}},watch:{item:{handler:function(){this.checkImgSuffix()},immediate:!0}},components:{RPopover:h.default},data:function(){return{attachmentImgs:[]}},methods:{getDefaultIcon:function(e){var t=a("CYNT");return e&&(e.pic=t),t},getDefaultImg:function(e){e.target.src=a("Fuf7")},getImgUrl:function(e){return""+location.origin+e.attachment},scaleImg:function(e){var t=this.getImgUrl(e);wx.previewImage({current:t,urls:this.attachmentImgs})},checkImgSuffix:function(){var e=["jpg","jpeg","png","gif","bmp","tif","pcx","tga","exif","fpx","svg","psd","cdr","pcd","dxf","ufo","eps","ai","raw","WMF","webp"],t=[];if(this.item.attachment){var a=!0,n=!1,r=void 0;try{for(var i,o=(0,s.default)(this.item.attachment);!(a=(i=o.next()).done);a=!0){var l=i.value,d=l.name.lastIndexOf("."),u=l.name.substr(d+1);e.includes(u)&&(l.isImg=!0,t.push(this.getImgUrl(l)))}}catch(e){n=!0,r=e}finally{try{!a&&o.return&&o.return()}finally{if(n)throw r}}this.attachmentImgs=t}},checkFile:function(e){window.location.href=""+location.origin+e},handleComment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"comment",t=this.item,a=(t.type,t.reply),n=void 0===a?{}:a,r=(t.content,t.noticeSource,[].concat((0,i.default)(d.default))),o="",s=/\[(.+?)\]/g;return o="reply"===e?n.comment:this.item.comment,o=o.replace(/src="resources/g,'src="/dist/resources'),o=o.replace(s,function(e){var t=r.findIndex(function(t){return t===e.replace(/(\[|\])/g,"")});return-1===t?e:'<span class="img-emotion" style="background-position: -'+24*t+'px 0;"></span>'})},onPopoverClick:function(){this.$emit("on-popover-click")},hidePopover:function(){(this.$refs.popover||[]).forEach(function(e){e.hidePopover()})}},filters:{filterTime:function(e){if(e){"string"==typeof e&&(e=e.replace(/-/g,"/").replace(/\..*/g,""));var t=Date.now(),a=(0,c.default)(e,"YYYY-MM-DD"),n=+new Date(e),r=t-n;return r<864e5?a="今天":r<1728e5&&(a="昨天"),a+" "+(0,c.default)(e,"HH:mm:ss")}}},created:function(){}}},hZK2:function(e,t){},hdat:function(e,t){},hrbZ:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("KH7x"),s=n(o),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("BGNQ"),h=n(f),m=a("z5TY"),v=n(m),p=a("SAzG"),C=n(p),y=a("u28h"),_=n(y),g=a("kNGm"),b=n(g),w=a("PzEQ"),I=n(w),D=a("jLp1"),x=a("bKg5"),P=n(x),S=a("vl8n"),k=n(S),L=a("+WR7"),N=n(L),M=a("Qg39"),T=a("zWMP");t.default={mixins:[P.default],components:{Icon:c.default,Cell:h.default,Group:v.default,XInput:C.default,RPicker:k.default,PopBaseinfo:N.default,Datetime:_.default,XTextarea:I.default},data:function(){return{projectList:[],taskList:[],formData:{biProcessStatus:""},jsonData:{baseinfo:{},comment:{biComment:""}},projectTask:{projectName:"",taskName:"",taskType:"",comment:"",deadline:"",planTime:"",cycleNumber:"",actualCompleteTime:"",actualTime:"",actualtHomeworkCost:0,budgetHomeworkCost:"",operatingRate:""}}},methods:{save:function(){var e=this,t="";if([{key:"projectName",message:"项目"},{key:"taskName",message:"任务"},{key:"actualCompleteTime",message:"实际完成日期"}].every(function(a){return!!e.projectTask[a.key]||(t=a.message+"不能为空",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show(),e.jsonData.baseinfo=(0,d.default)({},e.formData,{creator:e.formData.handler},e.jsonData.baseinfo,{modifer:e.formData.handler});var t=D.saveProjectTask,a={listId:"ee4ff0a1-c612-419d-afd7-471913d57a2a",formData:(0,d.default)({handlerEntity:e.entity.dealerName},e.jsonData,{projectTask:e.projectTask})};e.transCode&&(t=D.updateProjectTask),e.saveData(t,a)}})},clickDateSelect:function(){var e=this;this.$vux.datetime.show({confirmText:"确定",cancelText:"取消",value:this.formData.validUntil,onConfirm:function(t){e.formData.validUntil=t}})},getProjectList:function(){var e=this;return(0,D.getProjectPlanProjectName)().then(function(t){var a=t.tableContent,n=void 0===a?[]:a,r=[];n.forEach(function(e){e.projectName&&r.push((0,d.default)({},e,{name:e.projectName,value:e.projectName}))}),e.projectList=r})},taskChange:function(e){if(this.relationKey||this.transCode)return!1;var t=this.taskList.filter(function(t){return t.value===e}),a=(0,s.default)(t,1),n=a[0],r=void 0===n?{}:n;this.projectTask=(0,d.default)({},this.projectTask,{taskName:r.TASK_NAME,taskType:r.TASK_TYPE,comment:r.COMMENT,deadline:(0,b.default)(r.DEADLINE,"YYYY-MM-DD"),planTime:r.PLAN_TIME,budgetHomeworkCost:r.BUDGET_HOMEWORK_COST,operatingRate:r.JOB_RATE,cycleNumber:r.CYCLE_DAYS})},projectChange:function(e){if(this.relationKey||this.transCode)return!1;var t=this.projectList.find(function(t){return t.projectName===e});this.projectTask=(0,d.default)({},this.projectTask,{projectType:t.projectType||"",projectSubclass:t.projectSubclass||"",taskName:"",taskType:"",comment:"",deadline:"",planTime:"",budgetHomeworkCost:"",operatingRate:"",cycleNumber:""}),this.getTaskList()},getFormData:function(){var e=this;return(0,D.findProjectTask)(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a,r=n.projectTask;e.jsonData=n,e.projectTask=(0,d.default)({},r,{actualCompleteTime:(0,b.default)(r.actualCompleteTime,"YYYY-MM-DD")}),e.handlerDefault={handler:n.baseinfo.handler,handlerName:n.baseinfo.handlerName,handlerUnit:n.baseinfo.handlerUnit,handlerUnitName:n.baseinfo.handlerUnitName,handlerRole:n.baseinfo.handlerRole,handlerRoleName:n.baseinfo.handlerRoleName},e.getTaskList(),e.$loading.hide()})},getTaskList:function(){var e=this;return(0,D.getProjectTodoTask)({projectName:this.projectTask.projectName}).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;e.taskList=n.map(function(e){return e=(0,d.default)({},e,{name:e.TASK_NAME,value:e.TASK_NAME})})})},checkTime:function(){var e=this.projectTask.actualTime;e&&(this.projectTask.actualTime=Math.abs((0,M.toFixed)(e,1))),this.projectTask.operatingRate&&this.projectTask.actualTime&&(this.projectTask.actualtHomeworkCost=(0,T.accMul)(this.projectTask.operatingRate,this.projectTask.actualTime))},hasDraftData:function(){return!!this.projectTask.projectName&&(0,i.default)({},"XMRW_DATA",{projectTask:this.projectTask})},getRelationData:function(){var e=this;return(0,D.findProjectPlan)(this.relationKey).then(function(t){var a=t.formData,n=void 0===a?{}:a,r=(t.attachment,n.projectPlan[0]);e.projectTask=(0,d.default)({},e.projectTask,{projectName:n.projectApproval.projectName,taskName:r.taskName,taskType:r.taskType,comment:r.comment,deadline:(0,b.default)(r.deadline,"YYYY-MM-DD"),planTime:r.planTime})})}},created:function(){var e=sessionStorage.getItem("XMRW_DATA");if(e){var t=JSON.parse(e);this.projectTask=t.projectTask,this.getTaskList(),sessionStorage.removeItem("XMRW_DATA")}this.getProjectList()}}},hskX:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("MgeX"),s=n(o),l=a("HzJ8"),d=n(l),u=a("0AQX"),c=a("+VRO"),f=n(c),h=a("BUFe"),m=n(h),v=a("AupE"),p=n(v),C=a("89pA"),y=n(C),_=a("bFc7"),g=n(_),b=a("6WeX"),w=n(b),I=a("hPJo"),D=n(I),x=a("3NX5"),P=n(x),S=a("sUbJ"),k=n(S),L=a("zWMP"),N=a("Qg39");t.default={data:function(){return{count:0,comment:"",orderInfo:{},warehouse:{},formViewUniqueId:"e76a8c6f-05cc-45ee-ba93-299fe6751856",orderList:{},warehouseConfig:[],defaultFormData:{}}},computed:{mergeMatterList:function(){var e=[],t=0,a=!0,n=!1,r=void 0;try{for(var i,o=(0,d.default)((0,s.default)(this.orderList));!(a=(i=o.next()).done);a=!0){var l=i.value,u=!0,c=!1,f=void 0;try{for(var h,m=(0,d.default)(l);!(u=(h=m.next()).done);u=!0){var v=h.value;t=(0,L.accAdd)(t,v.tdAmount),e.push(v)}}catch(e){c=!0,f=e}finally{try{!u&&m.return&&m.return()}finally{if(c)throw f}}}}catch(e){n=!0,r=e}finally{try{!a&&o.return&&o.return()}finally{if(n)throw r}}return this.count=t,e},noTaxAmount:function(){var e=0;return this.mergeMatterList.forEach(function(t){e=(0,L.accAdd)(e,t.noTaxAmount)}),e},taxAmount:function(){var e=0;return this.mergeMatterList.forEach(function(t){e=(0,L.accAdd)(e,t.taxAmount)}),e},isIQC:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"b7301952-5fcd-46ec-b627-274cc262e9fc"===t},isWarehouseStatistician:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"cb960bb4-df2f-4d94-94bc-1f684568bb6d"===t}},mixins:[f.default],components:{workFlow:p.default,RAction:m.default,PopWarehouseList:y.default,PriceTotal:w.default,contactPart:g.default,WarehouseContent:D.default,MatterList:P.default,MatterItem:k.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,s=t.attachment,l=void 0===s?[]:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u={},c=o.inPut,f=void 0===c?{}:c;e.attachment=l;var h=o.inPut.dataSet,m=!0,v=!1,p=void 0;try{for(var C,y=(0,d.default)(h);!(m=(C=y.next()).done);m=!0){var _=C.value;_.inventoryPic=_.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),u[_.transMatchedCode]||(u[_.transMatchedCode]=[]),u[_.transMatchedCode].push(_)}}catch(e){v=!0,p=e}finally{try{!m&&y.return&&y.return()}finally{if(v)throw p}}e.orderList=u,e.dealerInfo={creatorName:o.dealerCreditContactPersonName,dealerName:f.dealerName_dealerCodeCredit,dealerMobilePhone:o.dealerCreditContactInformation,dealerContactPersonName:o.dealerCreditContactPersonName,dealerCode:f.dealerCode_dealerCodeCredit,dealerLabelName:f.crDealerLabel,province:f.province_dealerCodeCredit,city:f.city_dealerCodeCredit,county:f.county_dealerCodeCredit,address:f.address_dealerCodeCredit,daysOfAccount:f.daysOfAccount,crDealerPaymentTerm:f.crDealerPaymentTerm,accountExpirationDate:f.accountExpirationDate};for(var g in f)(g.includes("warehouse")||g.includes("storehouse"))&&(e.warehouse[g]=f[g]);e.defaultFormData=(0,i.default)({},o),e.orderInfo=(0,i.default)({},o,f),e.workFlowInfoHandler()})},checkAmt:function(e,t,a){a=Math.abs((0,N.toFixed)(a));var n=e.qualityQty,r=e.samplesQty;switch(t){case"samplesQty":a>n&&(a=n);break;case"tdQty":return a>n&&(a=n),e[t]=a,void this.calcMatter(e);case"taxRate":return e[t]=a,void this.calcMatter(e);case"checkLossQty":return a>r&&(a=r),e[t]=a,void this.calcMatter(e)}e[t]=a},calcMatter:function(e){var t=e.price,a=void 0===t?0:t,n=e.noTaxPrice,r=void 0===n?0:n,i=e.qualityQty,o=void 0===i?0:i,s=e.tdQty,l=void 0===s?0:s,d=e.checkLossQty,u=void 0===d?0:d,c=e.taxRate,f=void 0===c?0:c,h=(0,N.toFixed)((0,L.accDiv)(l,e.assMeasureScale)),m=(0,N.toFixed)((0,L.accMul)(a,h)),v=(0,N.toFixed)((0,L.accMul)(h,f,r));e.assistQty=(0,N.toFixed)((0,L.accDiv)(l,e.assMeasureScale)),e.lockQty=(0,N.toFixed)((0,L.accSub)(l,u)),e.differenceNum=(0,N.toFixed)((0,L.accSub)(o,l)),e.tdAmount=m,e.taxAmount=v,e.noTaxAmount=(0,N.toFixed)((0,L.accSub)(m,v)),this.setMatterConfig([e]),this.matterDetail=e},onDetailConfirm:function(e){this.$set(this.orderList[this.matterDetailKey],this.matterDetailIndex,e)},agreeHandler:function(){if(this.isIQC){var e=this.dealerInfo,t=this.warehouse,a=[],n=this.submitMatterField,r=(0,i.default)({},this.defaultFormData),o=!0,l=!1,u=void 0;try{for(var c,f=(0,d.default)((0,s.default)(this.orderList));!(o=(c=f.next()).done);o=!0){var h=c.value,m=!0,v=!1,p=void 0;try{for(var C,y=(0,d.default)(h);!(m=(C=y.next()).done);m=!0){var _=C.value,g={},b=!0,w=!1,I=void 0;try{for(var D,x=(0,d.default)(n);!(b=(D=x.next()).done);b=!0){var P=D.value;g[P.fieldCode]=_[P.fieldCode]}}catch(e){w=!0,I=e}finally{try{!b&&x.return&&x.return()}finally{if(w)throw I}}a.push(g)}}catch(e){v=!0,p=e}finally{try{!m&&y.return&&y.return()}finally{if(v)throw p}}}}catch(e){l=!0,u=e}finally{try{!o&&f.return&&f.return()}finally{if(l)throw u}}r.inPut={dealerCodeCredit:e.dealerCode,crDealerLabel:e.dealerLabelName,crDealerPaymentTerm:e.crDealerPaymentTerm,daysOfAccount:e.daysOfAccount,accountExpirationDate:e.accountExpirationDate,containerCode:t.warehouseCode_containerCode,storehouseInCode:t.storehouseInCode,dataSet:a},this.saveData(r)}return!this.isWarehouseStatistician}}}},htEP:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("3cXf"),s=n(o),l=a("4YfN"),d=n(l),u=a("KH7x"),c=n(u),f=a("MgeX"),h=n(f),m=a("HzJ8"),v=n(m),p=a("BGNQ"),C=n(p),y=a("SAzG"),_=n(y),g=a("u28h"),b=n(g),w=a("PzEQ"),I=n(w),D=a("kNGm"),x=n(D),P=a("z5TY"),S=n(P),k=a("0AQX"),L=(a("I3vJ"),a("HyXB")),N=a("bKg5"),M=n(N),T=a("y8YJ"),A=n(T),O=a("Pb67"),R=n(O),j=a("89pA"),B=n(j),E=a("yt3/"),F=n(E),U=a("hLfv"),$=n(U),H=a("luHD"),V=n(H),q=a("VZtf"),Q=n(q),Y=a("vl8n"),X=n(Y),G=a("+WR7"),W=n(G),z=a("fCs9"),K=n(z),J=a("Q67R"),Z=n(J),ee=a("lsbD"),te=n(ee),ae=a("zWMP"),ne=a("Qg39");t.default={name:"ApplyCGRKForm",data:function(){return{orderList:{},showDealerPop:!1,dealerInfo:{},contactInfo:{},formData:{biId:"",biComment:""},submitSuccess:!1,showWarehousePop:!1,warehouse:{warehouseCode:"MA0001",warehouseName:"原料仓",warehouseType:"一般部门仓"},warehouseStoreInfo:{},taxRate:.16,transCode:"",formViewUniqueId:"fed81800-4c34-44a9-b517-c3fd9f2ab57d",biReferenceId:"",actions:[],taskId:"",matter:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"订单号",value:"transCode"}],numMap:{}}},computed:{matterList:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var r,i=(0,v.default)((0,h.default)(this.orderList));!(t=(r=i.next()).done);t=!0){var o=r.value,s=!0,l=!1,d=void 0;try{for(var u,c=(0,v.default)(o);!(s=(u=c.next()).done);s=!0){var f=u.value;e.push(f)}}catch(e){l=!0,d=e}finally{try{!s&&c.return&&c.return()}finally{if(l)throw d}}}}catch(e){a=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(a)throw n}}return e}},mixins:[M.default],components:{Cell:C.default,RDropdown:K.default,XInput:_.default,Group:S.default,XTextarea:I.default,Datetime:b.default,PopOrderList:R.default,RNumber:Q.default,PopDealerList:A.default,PopWarehouseList:B.default,PopSingleSelect:F.default,PopMatter:V.default,RPicker:X.default,PopBaseinfo:W.default,DealerOtherPart:$.default,ApplyMatterPart:Z.default,OpButton:te.default},methods:{selDealer:function(e){var t=JSON.parse(e),a=(0,c.default)(t,1),n=a[0],r=n.pamentDays,i=r?(0,x.default)(Date.now()+(0,ae.accMul)(r,864e5),"YYYY-MM-DD"):"";this.dealerInfo=(0,d.default)({},n,{accountExpirationDate:i,daysOfAccount:r,crDealerPaymentTerm:n.paymentTerm}),this.matterParams.data&&null!=this.matterParams.data.dealerCode&&(this.matterParams.data.dealerCode=this.dealerInfo.dealerCode,this.orderList={})},selContact:function(e){this.contactInfo=(0,d.default)({},e)},selWarehouse:function(e){this.warehouse=JSON.parse(e)},getStore:function(e){this.warehouseStoreInfo=(0,d.default)({},e)},getMatterModify:function(e,t,a){this.matter=JSON.parse((0,s.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selMatter:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){var a=e.transCode+"_"+e.inventoryCode,r=e.transCode?e.transCode:"noCode",i=t.numMap[a]||{},o=i.qualityQty,s=void 0===o?e.qtyBal:o,l=i.price,d=void 0===l?e.price:l,u=i.taxRate,c=void 0===u?e.taxRate:u,f=i.validUntil,h=void 0===f?e.validUntil:f,m=i.productionDate,v=void 0===m?(0,x.default)(e.productionDate,"YYYY-MM-DD"):m,p=i.thenQtyBal;void 0===p&&e.salesOutQty;e.tdQty=s,e.price=d,e.qualityQty=s,e.samplesQty=0,e.checkLossQty=0,e.lockQty=s,e.differenceNum=0,e.taxRate=c,e.productionDate=v,e.validUntil=h,e.tdProcessing=e.processing,e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null,n[r]||(n[r]=[]),n[r].push(e)}),this.orderList=n},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t)},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},findIndex:function(e,t){return e.findIndex(function(e){return e.inventoryCode===t.inventoryCode&&e.transCode===t.transCode})},delClick:function(e,t,a){var n=this.selItems,r=this.findIndex(n,e);if(-1!==r)return void n.splice(r,1);n.push(e)},showSelIcon:function(e){return-1!==this.findIndex(this.selItems,e)},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,s.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t={};e.matterList.filter(function(t,a){return-1===e.findIndex(e.selItems,t)}).forEach(function(e){var a=e.transCode?e.transCode:"noCode";t[a]||(t[a]=[]),t[a].push(e)}),e.orderList=t,e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=!0,t=!1,a=void 0;try{for(var n,r=(0,v.default)((0,h.default)(this.orderList));!(e=(n=r.next()).done);e=!0){var i=n.value,o=!0,s=!1,l=void 0;try{for(var u,c=(0,v.default)(i);!(o=(u=c.next()).done);o=!0){var f=u.value;this.numMap[f.transCode+"_"+f.inventoryCode]=(0,d.default)({},f)}}catch(e){s=!0,l=e}finally{try{!o&&c.return&&c.return()}finally{if(s)throw l}}}}catch(e){t=!0,a=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw a}}this.showMaterielPop=!this.showMaterielPop},checkDate:function(e,t){var a=new Date(t).getTime();e.validUntil=a?(0,x.default)(a+(0,ae.accMul)(e.keepingDays,864e5),"YYYY-MM-DD"):""},submitOrder:function(){var e=this,t="",a=[],n=[{key:"dealerInfo",childKey:"dealerCode",message:"供应商信息"},{key:"dealerInfo",childKey:"crDealerPaymentTerm",message:"结算方式"},{key:"warehouse",message:"仓库"},{key:"warehouseStoreInfo",childKey:"warehouseCode",message:"库位"}];if(t=this.validateSubmitVal(n),t||this.matterList.length||(t="请选择物料"),!t){var r=this.submitMatterField,o=!0,l=!1,u=void 0;try{for(var c,f=(0,v.default)((0,h.default)(this.orderList));!(o=(c=f.next()).done);o=!0){var m=c.value,p=!0,C=!1,y=void 0;try{for(var _,g=(0,v.default)(m);!(p=(_=g.next()).done);p=!0){var b=_.value,w={},I=!0,D=!1,x=void 0;try{for(var P,S=(0,v.default)(r);!(I=(P=S.next()).done);I=!0){var k=P.value,N=this.getMatterItemVal(b,k);if(!k.hidden&&!k.allowBlank&&!N){t=k.text+"不为空";break}w[k.fieldCode]=null!==N?void 0!==N?N:"":null}}catch(e){D=!0,x=e}finally{try{!I&&S.return&&S.return()}finally{if(D)throw x}}a.push(w)}}catch(e){C=!0,y=e}finally{try{!p&&g.return&&g.return()}finally{if(C)throw y}}}}catch(e){l=!0,u=e}finally{try{!o&&f.return&&f.return()}finally{if(l)throw u}}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=L.saveAndStartWf,n={},r=(0,i.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});n=(0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.formData.handler,modifer:e.formData.handler,dealerCreditContactPersonName:e.contactInfo.dealerName||"",dealerCreditContactInformation:e.contactInfo.dealerMobilePhone||"",containerInWarehouseManager:e.warehouse.containerInWarehouseManager||null,inPut:{dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName||"供应商",crDealerPaymentTerm:e.dealerInfo.crDealerPaymentTerm,daysOfAccount:e.dealerInfo.daysOfAccount,accountExpirationDate:e.dealerInfo.accountExpirationDate,containerCode:e.warehouse.warehouseCode,storehouseInCode:e.warehouseStoreInfo.warehouseCode,dataSet:a}}),e.transCode&&(t=L.saveAndCommitTask,r={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var o={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,s.default)(n),wfPara:(0,s.default)(r)};e.transCode||delete o.biReferenceId,e.processCode.length||(t=L.submitAndCalc,delete o.wfPara,delete o.biReferenceId),e.biReferenceId&&(o.biReferenceId=e.biReferenceId),e.saveData(t,o)}})},getFormData:function(){var e=this;return(0,k.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,s=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=s;var l=i.inPut,u=(i.dealerDebit,l.dataSet),c=void 0===u?[]:u,f={},h=e.submitMatterField,m=!0,p=!1,C=void 0;try{for(var y,_=(0,v.default)(c);!(m=(y=_.next()).done);m=!0){var g=y.value,b=!0,w=!1,I=void 0;try{for(var D,x=(0,v.default)(h);!(b=(D=x.next()).done);b=!0){var P=D.value,S=P.displayField||P.showFieldCode||P.fieldCode;"noTaxPrice"===P.fieldCode&&(S="noTaxPrice"),g[S]=g[P.fieldCode]}}catch(e){w=!0,I=e}finally{try{!b&&x.return&&x.return()}finally{if(w)throw I}}var k=g.transCode?g.transCode:"noCode";g.inventoryPic=g.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+g.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),g.specification=g.specification_transObjCode,g.measureUnit=g.measureUnit_transObjCode,f[k]||(f[k]=[]),f[k].push(g)}}catch(e){p=!0,C=e}finally{try{!m&&_.return&&_.return()}finally{if(p)throw C}}e.dealerInfo={creatorName:i.dealerCreditContactPersonName,dealerName:l.dealerName_dealerCodeCredit,dealerMobilePhone:i.dealerCreditContactInformation,dealerCode:l.dealerCode_dealerCodeCredit,dealerLabelName:l.crDealerLabel,province:l.province_dealerCodeCredit,city:l.city_dealerCodeCredit,county:l.county_dealerCodeCredit,address:l.address_dealerCodeCredit,accountExpirationDate:l.accountExpirationDate,crDealerPaymentTerm:l.crDealerPaymentTerm,daysOfAccount:l.daysOfAccount},e.contactInfo={dealerName:i.dealerCreditContactPersonName,dealerMobilePhone:i.dealerCreditContactInformation},e.warehouse={warehouseCode:l.containerCode,warehouseName:l.warehouseName_containerCode,warehouseType:l.warehouseType_containerCode,warehouseProvince:l.warehouseProvince_containerCode,warehouseCity:l.warehouseCity_containerCode,warehouseDistrict:l.warehouseDistrict_containerCode,warehouseAddress:l.warehouseAddress_containerCode,containerInWarehouseManager:l.containerInWarehouseManager},e.warehouseStoreInfo={warehouseCode:l.storehouseInCode,warehouseName:l.warehouseName_storehouseInCode,warehouseType:l.warehouseType_storehouseInCode,warehouseProvince:l.warehouseProvince_storehouseInCode,warehouseCity:l.warehouseCity_storehouseInCode,warehouseDistrict:l.warehouseDistrict_storehouseInCode,warehouseAddress:l.warehouseAddress_storehouseInCode},e.matterParams.data={dealerCode:e.dealerInfo.dealerCode},e.handlerDefault={handler:i.handler,handlerName:i.handlerName,handlerUnit:i.handlerUnit,handlerUnitName:i.handlerUnitName,handlerRole:i.handlerRole,handlerRoleName:i.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:i.biComment,biId:i.biId,biProcessStatus:i.biProcessStatus,creator:i.creator,modifer:i.modifer}),e.biReferenceId=i.biReferenceId,e.orderList=f,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,i.default)({},"CGRK_DATA",{orderList:this.orderList,dealer:this.dealerInfo,warehouse:this.warehouse,warehouseStoreInfo:this.warehouseStoreInfo,formData:this.formData,contactInfo:this.contactInfo})},getRelationData:function(){var e=this,t=this.$route.query.uniqueId;return(0,k.getSOList)({formViewUniqueId:t,transCode:this.relationKey}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r;t.attachment;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var s=o.order,l=(o.dealerDebit,s.dataSet),u=void 0===l?[]:l;u=u.map(function(t){return(0,d.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,transCode:e.relationKey,qtyBal:t.tdQty,tdQty:""})}),e.dealerInfo={creatorName:o.dealerDebitContactPersonName,dealerMobilePhone:o.dealerDebitContactInformation,dealerCode:o.order.dealerDebit,dealerSubclass:o.order.drAccountSub,dealerName:o.order.dealerName_dealerDebit,province:o.order.province_dealerDebit,city:o.order.city_dealerDebit,county:o.order.county_dealerDebit,address:o.order.address_dealerDebit,crDealerPaymentTerm:s.drDealerPaymentTerm},e.matterParams={dealerCode:e.dealerInfo.dealerCode},e.orderList=(0,i.default)({},e.relationKey,u),e.$loading.hide()})},moreUnitSelected:function(e){this.matter.assMeasureUnit=e.invSubUnitName,this.matter.assistQty=e.invSubUnitMulti},checkAmt:function(e,t,a){var n=e.qtyBal;switch(a=Math.abs((0,ne.toFixed)(a)),t){case"qualityQty":n&&a>n&&(a=n),e.tdQty=a}e[t]=a},calcMatter:function(e){var t=e.price,a=void 0===t?0:t,n=e.qualityQty,r=void 0===n?0:n,i=e.taxRate,o=void 0===i?0:i;e.tdQty=r,e.lockQty=r,e.assistQty=(0,ne.toFixed)((0,ae.accDiv)(r,e.assMeasureScale)),e.noTaxPrice=(0,ne.toFixed)((0,ae.accDiv)(a,(0,ae.accAdd)(1,o)),6),e.tdAmount=(0,ne.toFixed)((0,ae.accMul)(a,e.assistQty)),e.taxAmount=(0,ne.toFixed)((0,ae.accMul)(e.assistQty,o,e.noTaxPrice)),e.noTaxAmount=(0,ne.toFixed)((0,ae.accSub)(e.tdAmount,e.taxAmount))},getMatterItemVal:function(e,t){var a=["fieldCode","displayField","showFieldCode"],n="";return a.every(function(a){return!((n=e[t[a]])||0===n)}),n},validateSubmitVal:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a="";return t.every(function(t){return t.childKey&&!e[t.key][t.childKey]?(a="请选择"+t.message,!1):!!e[t.key]||(a="请选择"+t.message,!1)}),a}},created:function(){var e=sessionStorage.getItem("CGRK_DATA");if(e){var t=JSON.parse(e);this.orderList=t.orderList,this.dealerInfo=t.dealer,this.warehouse=t.warehouse,this.warehouseStoreInfo=t.warehouseStoreInfo,this.formData=t.formData,this.contactInfo=t.contactInfo,sessionStorage.removeItem("CGRK_DATA")}}}},hz6K:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("4YfN"),s=n(o),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),h=a("AupE"),m=n(h),v=a("bFc7"),p=n(v),C=a("6WeX"),y=n(C),_=a("3NX5"),g=n(_),b=a("sUbJ"),w=n(b),I=a("d7ck"),D=n(I),x=a("zWMP"),P=a("Qg39");t.default={data:function(){return{count:0,comment:"",orderInfo:{},formViewUniqueId:"e76a8c6f-05cc-45ee-ba93-299fe6751856",orderList:{}}},mixins:[u.default],components:{workFlow:m.default,RAction:f.default,PriceTotal:y.default,contactPart:p.default,MatterList:g.default,MatterItem:w.default,FormCell:D.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u={},c=o.order,f=void 0===c?{}:c;e.attachment=d;var h=o.order.dataSet,m=!0,v=!1,p=void 0;try{for(var C,y=(0,i.default)(h);!(m=(C=y.next()).done);m=!0){var _=C.value;_.noTaxAmount=(0,x.accMul)(_.price,_.tdQty),_.taxAmount=(0,x.accMul)(_.noTaxAmount,_.taxRate),_.tdAmount=(0,P.toFixed)((0,x.accAdd)(_.noTaxAmount,_.taxAmount)),e.count=(0,x.accAdd)(e.count,_.tdAmount),_.inventoryPic=_.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),u[_.transMatchedCode]||(u[_.transMatchedCode]=[]),u[_.transMatchedCode].push(_)}}catch(e){v=!0,p=e}finally{try{!m&&y.return&&y.return()}finally{if(v)throw p}}e.orderList=u,e.dealerInfo={dealerName:f.dealerName_dealerDebit,dealerMobilePhone:o.dealerDebitContactInformation,dealerContactPersonName:o.dealerDebitContactPersonName,dealerCode:f.dealerCode_dealerDebit,dealerLabelName:f.drDealerLabel,province:f.province_dealerDebit,city:f.city_dealerDebit,county:f.county_dealerDebit,address:f.address_dealerDebit},e.orderInfo=(0,s.default)({},o,f),e.workFlowInfoHandler()})}}}},i3Po:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("HzJ8"),s=n(o),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("PKHo"),f=n(c),h=a("zWMP"),m=a("BUFe"),v=n(m),p=a("AupE"),C=n(p),y=a("sUbJ"),_=n(y),g=a("FlCz"),b=n(g),w=a("d7ck"),I=n(w),D=a("MVgC"),x=n(D),P=a("hPJo"),S=n(P);t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",orderList:{},basicInfo:{},DuplicateBoms:[],UniqueBom:[],bomPopShow:!1,bom:{},warehouseIn:{},warehouseOut:{}}},mixins:[u.default,f.default],components:{workFlow:C.default,RAction:v.default,MatterItem:_.default,BomList:b.default,FormCell:I.default,BomPop:x.default,WarehouseContent:S.default},watch:{DuplicateBoms:{handler:function(e){var t=function(e,t){return e.inventoryCode===t.inventoryCode};this.UniqueBom=function(e){return e.reduce(function(e,a){return e.some(function(e){var n=t(e,a);return n&&(e.tdQty=(0,h.accAdd)(e.tdQty,a.tdQty)),n})||e.push(a),e},[])}(this.DuplicateBoms)}}},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},checkBom:function(e){this.bom=e,this.bomPopShow=!0},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u={};o.order;e.attachment=d;var c=o.inPut,f=void 0===c?{}:c,m=f.dataSet,v=!0,p=!1,C=void 0;try{for(var y,_=(0,s.default)(m);!(v=(y=_.next()).done);v=!0){var g=y.value;if(g.inventoryPic=g.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+g.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),g.boms){var b=!0,w=!1,I=void 0;try{for(var D,x=(0,s.default)(g.boms);!(b=(D=x.next()).done);b=!0){var P=D.value;P.inventoryCode=P.transObjCode,P.warehouseName=P.warehouseName_containerCodeOut,P.warehouseCode=P.containerCodeOut,P.qtyStock=P.thenQtyStock,P.tdQty=(0,h.accMul)(P.bomQty,g.tdQty,1+P.bomSpecificLoss)}}catch(e){w=!0,I=e}finally{try{!b&&x.return&&x.return()}finally{if(w)throw I}}e.DuplicateBoms=e.DuplicateBoms.concat(JSON.parse((0,i.default)(g.boms)))}u[g.transMatchedCode]||(u[g.transMatchedCode]=[]),u[g.transMatchedCode].push(g)}}catch(e){p=!0,C=e}finally{try{!v&&_.return&&_.return()}finally{if(p)throw C}}e.warehouseIn={warehouseCode:f.containerCode,warehouseName:f.warehouseName_containerCode,warehouseAction:"入库",warehouseIcon:"icon-ruku",warehouseType:f.warehouseType_containerCode,warehouseProvince:f.warehouseProvince_containerCode,warehouseCity:f.warehouseCity_containerCode,warehouseDistrict:f.warehouseDistrict_containerCode,warehouseAddress:f.warehouseAddress_containerCode},e.warehouseOut={warehouseCode:f.containerCodeOut,warehouseName:""+f.warehouseName_containerCodeOut,warehouseAction:"出库",warehouseIcon:"icon-chuku",warehouseType:f.warehouseType_containerCodeOut,warehouseProvince:f.warehouseProvince_containerCodeOut,warehouseCity:f.warehouseCity_containerCodeOut,warehouseDistrict:f.warehouseDistrict_containerCodeOut,warehouseAddress:f.warehouseAddress_containerCodeOut},e.orderList=u,e.orderInfo=o,e.workFlowInfoHandler()})}}}},i4Pg:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"bScroll",staticClass:"scroll-container"},[a("div",{ref:"scrollWrapper",staticClass:"scroll-wrapper",class:{hasRefresh:e.hasRefresh}},[e._t("default"),e._v(" "),e._t("loadmore",[a("load-more",{directives:[{name:"show",rawName:"v-show",value:e.hasNext||e.noData,expression:"hasNext || noData"}],attrs:{"show-loading":e.hasNext,tip:e.tip}})])],2),e._v(" "),e.options.pullDownRefresh?e._t("refresh",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.hasRefresh,expression:"hasRefresh"}],staticClass:"refresh-container",style:{top:e.pullDownTop+"px"}},[a("spinner",{directives:[{name:"show",rawName:"v-show",value:!e.refreshDone,expression:"!refreshDone"}],staticClass:"icon",attrs:{type:"crescent"}}),e._v(" "),a("div",{staticClass:"tips"},[e._v(e._s(-e.pullDownTop>30?"下拉刷新":"释放刷新"))])],1)]):e._e()],2)},r=[],i={render:n,staticRenderFns:r};t.a=i},i61Q:function(e,t,a){"use strict";function n(e){a("drPH")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("LQmC");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("9S56"),s=a.n(o),l=a("p/Sr"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-1cb1137d",null);t.default=c.exports},iAQa:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("iR2W"),r=function(e){return e&&e.__esModule?e:{default:e}}(n),i=a("Qg39");t.default={name:"PriceTotal",props:{noAmt:{type:Boolean,default:!1},noTaxAmt:{type:Boolean,default:!1},noCount:{type:Boolean,default:!1},amt:{type:Number,default:0},taxAmt:{type:Number,default:0},count:{type:Number,default:0}},filters:{numberComma:r.default,toFixed:i.toFixed}}},iAVJ:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},iBRT:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2503,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[r.default],methods:{},created:function(){}}},iBgG:function(e,t,a){"use strict";function n(e){a("cZct")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("f06H");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("Ny/B"),s=a.n(o),l=a("dYh4"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-f8ccb984",null);t.default=c.exports},iC32:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("4YfN"),s=n(o),l=a("3cXf"),d=n(l),u=a("0AQX"),c=a("+VRO"),f=n(c),h=a("BUFe"),m=n(h),v=a("AupE"),p=n(v),C=a("bFc7"),y=n(C),_=a("6WeX"),g=n(_),b=a("3NX5"),w=n(b),I=a("zWMP");a("Qg39");t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"",contactInfo:{}}},components:{workFlow:p.default,RAction:m.default,contactPart:y.default,PriceTotal:g.default,MatterList:w.default},mixins:[f.default],methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(e.submitInfo=JSON.parse((0,d.default)(t)),!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.formData,n=void 0===a?{}:a,r=t.attachment,o=void 0===r?[]:r,l=n.order,u=l.dataSet,c=!0,f=!1,h=void 0;try{for(var m,v=(0,i.default)(u);!(c=(m=v.next()).done);c=!0){var p=m.value;e.count=(0,I.accAdd)(e.count,p.tdAmount),p.inventoryPic=p.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+p.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){f=!0,h=e}finally{try{!c&&v.return&&v.return()}finally{if(f)throw h}}e.contactInfo={creatorName:l.dealerDebitContactPersonName,dealerName:l.dealerName_dealerDebit,dealerMobilePhone:n.dealerDebitContactInformation,dealerContactPersonName:n.dealerDebitContactPersonName,dealerCode:l.dealerDebit,dealerLabelName:l.drDealerLabel,province:l.province_dealerDebit,city:l.city_dealerDebit,county:l.county_dealerDebit,address:l.address_dealerDebit,payment:l.drDealerPaymentTerm,logistics:n.drDealerLogisticsTerms},e.matterList=l.dataSet,e.attachment=o,e.orderInfo=(0,s.default)({},n,l),e.workFlowInfoHandler()})}}}},iEGu:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("+26s"),i=n(r),o=a("Zp+1"),s=n(o);t.default={data:function(){return{uniqueId:1400,showContent:!1,filterArr:[{operator:"like",value:"",property:"warehouseName"}]}},components:{TabItem:s.default},mixins:[i.default]}},iEiQ:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"price_detail"},[e.taxAmt>0?a("div",{staticClass:"price_list"},[a("div",{staticClass:"title"},[e._v("税金：")]),e._v(" "),a("div",{staticClass:"num"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(e.taxAmt),3)))])]):e._e(),e._v(" "),e.amt>0?a("div",{staticClass:"price_list"},[a("div",{staticClass:"title"},[e._v("金额：")]),e._v(" "),a("div",{staticClass:"num"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(e.amt),3)))])]):e._e(),e._v(" "),e.noCount?e._e():a("div",{staticClass:"price_list"},[a("span",{staticClass:"title"},[e._v("价税小计：")]),e._v(" "),a("span",{staticClass:"num"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(e.count),3)))])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},iJuB:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("0AQX"),s=a("+VRO"),l=n(s),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),h=a("89pA"),m=n(h),v=a("hPJo"),p=n(v),C=a("3NX5"),y=n(C);t.default={data:function(){return{warehouseIn:{},formViewUniqueId:"064e455d-4277-473a-9e54-d9ae4b1f23be"}},mixins:[l.default],components:{workFlow:f.default,PopWarehouseList:m.default,RAction:u.default,WarehouseContent:p.default,MatterList:y.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,o.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=void 0===a?[]:a,r=t.formData,o=void 0===r?{}:r,s=o.inPut,l=void 0===s?{}:s,d=l.dataSet,u=!0,c=!1,f=void 0;try{for(var h,m=(0,i.default)(d);!(u=(h=m.next()).done);u=!0){var v=h.value;v.inventoryPic=v.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+v.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){c=!0,f=e}finally{try{!u&&m.return&&m.return()}finally{if(c)throw f}}e.warehouseIn={warehouseCode:l.containerCode,warehouseName:l.warehouseName_containerCode,warehouseType:l.warehouseType_containerCode,warehouseProvince:l.warehouseProvince_containerCode,warehouseCity:l.warehouseCity_containerCode,warehouseDistrict:l.warehouseDistrict_containerCode,warehouseAddress:l.warehouseAddress_containerCode},e.attachment=n,e.matterList=l.dataSet,e.orderInfo=o,e.workFlowInfoHandler()})}}}},iMCu:function(e,t){},"iMG+":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2433,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[r.default],methods:{},created:function(){}}},iMUx:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper nbjdgg-detail-container"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("warehouse-content",{attrs:{warehouse:e.warehouseIn,"warehouse-out":e.warehouseOut}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"order-list":e.orderList,"order-title":e.orderTitle},on:{"on-show-more":e.onShowMore}}),e._v(" "),a("div",{staticClass:"bom_list"},[a("bom-list",{attrs:{boms:e.bomList},scopedSlots:e._u([{key:"number",fn:function(t){var n=t.bom;return[a("div",{staticClass:"number-part"},[a("span",{staticClass:"main-number"},[e._v("领料需求: "+e._s(n.tdQty)+e._s(n.measureUnit))]),e._v(" "),a("span",{staticClass:"number-unit"},[e._v("在库余额: "+e._s(n.thenTotalQtyStock))])])]}}])})],1),e._v(" "),a("other-part",{attrs:{"other-info":e.orderInfo,attachment:e.attachment}}),e._v(" "),a("pop-matter-detail",{attrs:{show:e.showMatterDetail,item:e.matterDetail},model:{value:e.showMatterDetail,callback:function(t){e.showMatterDetail=t},expression:"showMatterDetail"}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[],i={render:n,staticRenderFns:r};t.a=i},iNvo:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("IHPB"),i=n(r),o=a("3cXf"),s=n(o),l=a("HXPS"),d=n(l),u=a("7g+Q"),c=n(u),f=a("L6VY"),h=n(f),m=a("+62G"),v=n(m),p=a("HyXB"),C=a("1KNX"),y=n(C),_=a("7biW"),g=n(_);t.default={name:"PopSalesmanList",props:{title:{type:String,default:""},dealerLabelName:{type:String,default:"员工"},disabled:{type:Boolean,default:!1},value:{type:String,default:""},required:{type:Boolean,default:!1}},directives:{TransferDom:v.default},components:{Icon:d.default,Popup:c.default,RScroll:y.default,RSearch:g.default},data:function(){return{showPop:!1,srhInpTx:"",dealerList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},currentValue:""}},watch:{value:{handler:function(e){this.currentValue=this.value}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},showSelIcon:function(e){return e.dealerName===this.currentValue},selThis:function(e,t){var a=e.dealerName;this.showPop=!1,this.currentValue=a,this.$emit("input",a)},getDealer:function(){var e=this,t=[];return this.srhInpTx&&(t=[{operator:"like",value:this.srhInpTx,property:"dealerName"}]),(0,p.getObjDealerByLabelName)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,dealerLabelName:this.dealerLabelName,filter:(0,s.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,o=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+o.length,e.dealerList=1===e.page?o:[].concat((0,i.default)(e.dealerList),(0,i.default)(o)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})}).catch(function(e){h.default.show({content:e.message})})},onPullingUp:function(){this.page++,this.getDealer()},itemClick:function(){this.showPop=!0},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.dealerList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getDealer()}},created:function(){this.getDealer(),this.currentValue=this.value}}},iSAE:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2323,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName"}]}},mixins:[r.default],methods:{},created:function(){}}},iTUL:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},[a("div",{staticClass:"list"},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noQty:"",noCount:""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)])],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},iUHN:function(e,t){},iWNe:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pop-warehouse-nbjgrk-container vux-1px-t",on:{click:e.warehouseClick}},[a("div",{staticClass:"pop-warehouse-nbjgrk-wrapper"},[a("span",[e._v("仓库")]),e._v(" "),a("span",[e._v(e._s(e.selItems.warehouseName))])]),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:!e.disabled,expression:"!disabled"}],staticClass:"iconfont icon-youjiantou r-arrow"}),e._v(" "),e.disabled?e._e():a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("d-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"pop-list-container",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"pop-mater-list-item box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"pop-list-main "},[a("div",{staticClass:"pop-list-info"},[a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline name",staticStyle:{display:"inline-block"}},[a("span",[e._v(e._s(t.warehouseName))])]),e._v(" "),a("div",{staticClass:"ForInline name",staticStyle:{display:"inline-block"}},[a("span")])]),e._v(" "),a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline ",staticStyle:{display:"inline-block"}},[a("span",{staticClass:"creator"},[e._v(e._s(t.warehouseType))])])]),e._v(" "),a("div",{staticClass:"withoutColor"},[a("span",[e._v(e._s(t.warehouseProvince)+e._s(t.warehouseCity)+e._s(t.warehouseDistrict)+e._s(t.warehouseAddress))])])])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1)])],1)])},r=[],i={render:n,staticRenderFns:r};t.a=i},iZJL:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("a3Yh"),s=n(o),l=a("4YfN"),d=n(l),u=a("IHPB"),c=n(u),f=a("3cXf"),h=n(f),m=a("HXPS"),v=n(m),p=a("PzEQ"),C=n(p),y=a("kNGm"),_=(n(y),a("0AQX")),g=a("HyXB"),b=a("bKg5"),w=n(b),I=a("vl8n"),D=n(I),x=a("+WR7"),P=n(x),S=a("Q67R"),k=n(S);t.default={mixins:[w.default],data:function(){return{showPop:!1,transCode:"",formData:{biId:"",biComment:"",biProcessStatus:""},priceMap:{},matterList:[],showMaterielPop:!1}},components:{Icon:v.default,RPicker:D.default,XTextarea:C.default,PopBaseinfo:P.default,ApplyMatterPart:k.default},methods:{delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,h.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=this;this.matterList.forEach(function(t){e.priceMap[t.inventoryCode]={price:t.price,qtyOnline:t.qtyOnline,qtyDownline:t.qtyDownline,drDealerLabel:t.drDealerLabel,specialReservePrice:t.specialReservePrice}}),this.showMaterielPop=!this.showMaterielPop},selMatter:function(e){var t=this,a=JSON.parse(e);a.forEach(function(e){var a=t.priceMap[e.inventoryCode]||{};e.price=a.price||"",e.qtyOnline=a.qtyOnline||"",e.qtyDownline=a.qtyDownline||"",e.drDealerLabel=a.drDealerLabel||"",e.specialReservePrice=a.specialReservePrice||""}),this.priceMap={},this.matterList=[].concat((0,c.default)(a))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},save:function(){var e=this,t="",a=[];if(this.matterList.length||(t="请选择物料"),t||this.matterList.every(function(n){e.matterEditConfig.editPart.every(function(e){if(!e.hiddenInRun&&!e.allowBlank)return(Array.isArray(n[e.fieldCode])&&!n[e.fieldCode].length||!n[e.fieldCode])&&(t=e.text+"不能为空"),!t});var r={comment:"",price:n.price,qtyOnline:n.qtyOnline,qtyDownline:n.qtyDownline,transObjCode:n.inventoryCode,drDealerLabel:n.drDealerLabel,specialReservePrice:n.specialReservePrice};return e.transCode&&(r.tdId=n.tdId||""),a.push(r),!t}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=g.saveAndStartWf,n=(0,d.default)({},e.formData,{order:{dataSet:a},creator:e.formData.handler,modifer:e.formData.handler,handlerEntity:e.entity.dealerName}),r={biComment:"",listId:e.listId,formData:(0,h.default)(n),wfPara:(0,h.default)((0,s.default)({},e.processCode,{businessKey:e.businessKey,createdBy:n.creator}))};e.transCode&&(t=g.saveAndCommitTask,r.biReferenceId=e.biReferenceId,r.wfPara=(0,h.default)({businessKey:e.transCode,createdBy:n.creator,transCode:e.transCode,taskId:e.taskId,result:3,comment:""})),e.processCode.length||(t=g.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.isModify&&(t=g.updateData),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,_.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,s=t.attachment,l=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var u=[];e.attachment=l;var c=o.order,f=c.dataSet,h=void 0===f?[]:f,m=!0,v=!1,p=void 0;try{for(var C,y=(0,i.default)(h);!(m=(C=y.next()).done);m=!0){var _=C.value;_=(0,d.default)({},_,{inventoryCode:_.transObjCode,inventoryName:_.inventoryName_transObjCode,measureUnit:_.measureUnit_transObjCode,specification:_.specification_transObjCode,PopDealerLabel:[_.drDealerLabel],inventoryPic:_.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}),u.push(_)}}catch(e){v=!0,p=e}finally{try{!m&&y.return&&y.return()}finally{if(v)throw p}}e.handlerDefault={handler:o.handler,handlerName:o.handlerName,handlerUnit:o.handlerUnit,handlerUnitName:o.handlerUnitName,handlerRole:o.handlerRole,handlerRoleName:o.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:o.biComment,biId:o.biId,biProcessStatus:o.biProcessStatus,creator:o.creator,modifer:o.modifer}),e.biReferenceId=o.biReferenceId,e.matterList=u,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,s.default)({},"CPJG_DATA",{matter:this.matterList,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("CPJG_DATA");e&&(this.matterList=JSON.parse(e).matter,this.formData=JSON.parse(e).formData,sessionStorage.removeItem("CPJG_DATA"))}}},ic8P:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("BGNQ"),s=n(o),l=a("z5TY"),d=n(l),u=a("jLp1"),c=a("+VRO"),f=n(c);t.default={data:function(){return{projectPlan:{},comment:{},projectApproval:{}}},filters:{timeSplit:function(e){return e?e.split(" ")[0]:""}},mixins:[f.default],components:{Group:d.default,Cell:s.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u.findProjectPlan)(t).then(function(t){var a=t.formData,n=void 0===a?{}:a,r=t.attachment,o=void 0===r?[]:r;e.projectPlan=n.projectPlan,e.comment=n.comment,e.attachment=o,e.projectApproval=n.projectApproval,e.orderInfo=(0,i.default)({},n.baseinfo,{biStatus:"已生效"})})}},created:function(){}}},idOg:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"cell-form-preview",props:{list:Array,borderIntent:{type:Boolean,default:!0}}}},ihcZ:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAAAXNSR0IArs4c6QAACCdJREFUeAHdm3uIFVUcx1vXXN1MTdPCB2a6qWmZZT5StKg0iSKN7EWWiCZZEEb90QOzoL8kBMXKioRqLTBL06ICX0SWIqGZum62umqZ5tvUfG2f39UZZ2bn/M6ZvffO3u0H373nnN/z/ObMnMfMFl2UZ6qpqSnGRR8wDPQHnUBH0BI0Po8Sfs+Ag2AX2Ak2gDVgdVFR0Q5+Gx7R+XbgObAEHALZ0jYMTAc3N4hsEOgg8BH4F+SLqjD8Grii4JJCUMPBWpAmncDZ26B9vSeEILqChaA+6R+cvw6app4QnBaDqUCuSqFQBYEMTS0ZOOsAVhRK7yNxnKE+DTRKmpCiJAo4uAP5eeDyJHrI1gCZDn8A20BPMBbE0Xs0HgL9gEy3zUBS+g6FB5l2DyRVtMqThMfASZCEfkP4RRB6oFF/QjFyvxcMMk3BCPA+OAyS0AaEZb2SO8LglAQRnEV2PrgNxI442p0SEewBOqVgEqgCrlSNYFnQTp3LGHra1StysoC63uYMmcSJ8Gyi2xhMBPuAC21HKLuRgYGRQK6wjaoQGOkFa/tFts6J8Gxjoy2QxZsLbUIo6XPtnCsUO4G/Hbx8hkxzL0CXX+SzToTnB1syOlyeXd8jd7Gn5/QrCmAVsNFsBBJPVejkLBHSIewNAXuBjaY7JcATwtorNovwZ3rySX/RzWkixD82+wDbc0Nu81ud4kWwG7CtGD9BJnZGcHGCbs4TIX6x2xccABpVwpRtf4jihvVsJGoJBrR+pjyOxYoskgqKiEliGwPkbMNE3WBMMTEz7WTqdi2V8I6D7qoRByY28jIiPNfYfxZodBRmO09efqMjYlqQGVN+iaxXxLQXVBMxziCgJUpQl8ALjQr/PidDsnNboShvhtcbJ9qw89WxJ1PVYNALyJFckAZQeTjYECh/QHldoC63YDXYCCrx73RL4l+W9bK/uQzE0REaO2MvvB9BcR7QaHSctWgbBmQpPBXYnuCIJKbNaEwA0ZEcDSNTR+4Zi4cXQooItwHa8drakIKhgo2rwS8g3yRL+RaGMPxmZGQ9JLOEiX71haWA1DiT5Pn28SGFmApyLYBcsbToaxxZRwYy4y0B3eR3B8EvFOGD8Ep9YUMBmVmKjXyxJhvC8ZtxLFv5PUoAb2aEESgC+xXBt3yrhgK6LYFMSWnTbhxa9w/IzFACWy/dkqHVFZierCKzWP5YSHaeMiWlTXKkP8LB6TxFpjdJai3TmhybmegEjGUmZqD9mkA5WpTV3ufgbJThWJcrPgmY3mPcCM92sdYgsxe0BVGSJcQQSUSPKCdQX848eyxQNxXLTAzaH8GGrEHqTFwxmfNNO0frAxP/stlajo0HDEEMFCNaIiSTLqQdsIYXLC7Wasvsq92UuGW1otHJlohKRbmhsbRR2VES0UXp0f8pEbuVfnaQRGjTz1ZFOU2WvyfKwql2i7aXRAhMdMrESLndaaNliem0wi+VJMiHHCbSRotJJx/tuRgRWlxnJRHa/B7dPmvGCp3XUgnwuCRilyLQWuGlycrFrdFGCfiAJKJaEdDWGIpazlm5uDU6KFHtbSiJyMWIuFZJxHZJxBZFoK/Cc2W1chVU5LTnmKIWYmmJqJSH4aqQeLgip9rFrNVt55SHwmqh2hxsfEWLJL0uJLfFKEXRuvzGv9i4RbGxSU6nmgA5pjfRYMVAhoXiZJNyCu3DHOK7wRJHj0Zc7ZMY0jYkY2yO4H8JcjF8HVyFRA5TczlPHR7SCldkxVnhDdeFYV6oJl/KNA21RCoks5qmBZHmNKpz8H3UwdFYRWYZNs49jOnoVZahM04xlGGhLx+ZyflmWrQFR9oiyYtLPoLV6NFQ35D8UZEWp9pSPOjU9hJWcePMqkLS6dUjch8qVuUVRjiZNNiO9J8MZc5QwU4ZkI9H8kXlGI47cqsVEXLXgTNKIOWekr9iQ7iURrnXTUvR/fB6cj/t8ZS1X+zJFZMn+iAQzjqv2miTs8Y4+onGP2IYv9M2F//yGs+JiOEbBLUHZT/s1X7Yovgy0MjPoFMkBiEcaG/DRxvUEjXjY5TWEXhLjQZhNge7LAbuNRpwZGA/r4nAvrx6tD2rZKT65E2fmQaGiUxF4RejvqhfmIuTLn6twArEJlP9fKAt7cvpq7aiPtcrjK0EGsmLXqcHVlye0M3LiMBuCVgMNDoCs9Z3l6EREQh6IuXjgXq02JuGZRhsF2XUV51Y5JXCInC3JYbnGQ07LTIX2Bh22T9sRO7KC1puJXRyOiKw1x7Id5Q2+tYtwogUVhfZLMPfCgZEVNUq8jlLBLbuBNrbbtgZkkkg8UXLdATFS4HLhx+nkHsVOJ1xIpd1IrDRCswE2oIJdoZkBTlQvTo2JgY6gz+BC61GaKiDzTonAvuNgXz84TIKEKs5DUzvPG2hhvkY6g5s6wtEfFpKyZgQeIkTgU4z8BSoAq4kL38fD/cmyxoGy4D8I0oSkq/iZbXaLeieulMikJOrPwy8C5LubOX/Te8J+tXK/l5DE/J4GG5B+R3wkNeW4HcHsivBeiALskkgjmbRKMdvsheRvYr4TEqbUbiPabIiqWIieRIyARwDhUjy75d1SV6iHPjCOOsFXGaUtJIl//Ml31UmGuV+h7Ip4FTuYXG+D9QnfYpz7QVONt101yWI1uANIFclTZLZqb97pClJEpQkZBrYCfJFsjj6GIS20Sl1MZkbgiwGdwH5vtt14YOokWQqXADk/7fystFL5cFC8HJsNwTIrlWO6QRyT5cA+QajCTgBZNoU/AU2ATmWE6xjKjzFb97oPw+GGtYthaV0AAAAAElFTkSuQmCC"},ihpu:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,"dealer-params":e.dealerParams,defaultContact:e.contactInfo},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("dealer-other-part",{attrs:{"dealer-config":e.dealerConfig,"dealer-info":e.dealerInfo},model:{value:e.dealerInfo,callback:function(t){e.dealerInfo=t},expression:"dealerInfo"}}),e._v(" "),a("apply-matter-part",{attrs:{"show-materiel-pop":e.showMaterielPop,actions:e.actions,btnInfo:e.btnInfo,"matter-list":e.matterList,"default-value":e.matterList,"matter-pop-config":e.matterPopConfig,"matter-edit-config":e.matterEditConfig,"order-list-title":e.orderListTitle,"matter-params":e.matterParams,addMatter:e.addMatter,"sel-matter":e.selMatter,"sel-items":e.selItems,"matter-modify-class":e.matterModifyClass,"modify-matter":e.modifyMatter,"show-delete":e.showDelete,"show-sel-icon":e.showSelIcon,"del-click":e.delClick},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[n.price&&n.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price)+"\n            ")]),e._v(" "),a("r-number",{attrs:{num:n.tdQty,min:Number(n.qtyDownline),max:Number(n.qtyOnline),checkAmt:e.checkQty},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",t)},expression:"item.tdQty"}})],1):e._e()]}}]),model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}}),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,config:e.matterEditConfig},on:{"sel-confirm":e.selConfirm},model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num",class:{nine_up:e.tdAmount.length>8,ten_up:e.tdAmount.length>9,ele_up:e.tdAmount.length>10}},[a("span",{staticClass:"total_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.tdAmount,3))+"\n      ")]),e._v(" "),a("span",{staticClass:"taxAmount"},[e._v("[含税: ￥"+e._s(e._f("numberComma")(e.taxAmount,3))+"]")])]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.save}},[e._v("提交")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},iiZC:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.boms&&e.boms.length?a("div",{staticClass:"bom-container"},[a("div",{staticClass:"title vux-1px-b"},[e._v("原料")]),e._v(" "),e._l(e.boms,function(t,n){return a("div",{key:n,staticClass:"each-bom-part",class:{"vux-1px-b":n<e.boms.length-1}},[a("div",{staticClass:"main-info-part"},[t.warehouseName||t.warehouseCode?a("div",{staticClass:"main-top"},[t.warehouseName?a("span",{staticClass:"content-title"},[e._v(e._s(t.warehouseName))]):e._e(),e._v(" "),t.warehouseName?a("span",{staticClass:"side-bar vux-1px-r"}):e._e(),e._v(" "),t.warehouseCode?a("span",{staticClass:"content-info"},[e._v(e._s(t.warehouseCode))]):e._e()]):e._e(),e._v(" "),a("div",{staticClass:"main-content"},[a("div",{staticClass:"content-unit"},[a("span",{staticClass:"iconfont icon-bianma"}),e._v(" "),a("span",[e._v("物料编码: "+e._s(t.inventoryCode))])]),e._v(" "),a("div",{staticClass:"content-name"},[e._v("\n          "+e._s(t.inventoryName)+"\n        ")]),e._v(" "),e._t("specification",null,{bom:t})],2)]),e._v(" "),e._t("number",[a("div",{staticClass:"number-part"},[a("span",{staticClass:"main-number"},[e._v("本次扣料: "+e._s(t.tdQty)+e._s(t.measureUnit))]),e._v(" "),a("span",{staticClass:"number-unit"},[e._v("可用余额: "+e._s(t.qtyStock))])])],{bom:t})],2)})],2):e._e()},r=[],i={render:n,staticRenderFns:r};t.a=i},iikc:function(e,t,a){"use strict";function n(e){a("JRYK")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("uX8d");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("iNvo"),s=a.n(o),l=a("9pPf"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-4089228e",null);t.default=c.exports},iiu9:function(e,t){},ij6Q:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={props:{BasicApps:{type:Array,require:!0},goBasic:{type:Function,require:!0},goAppDetail:{type:Function,require:!0}}}},ijPy:function(e,t){},ijRs:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages cpxq-list-container"},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("just-word-item",{key:n,attrs:{item:t,noCount:""},nativeOn:{click:function(a){e.goDetail(t,n)}},scopedSlots:e._u([{key:"list-item",fn:function(t){var n=t.item;return[a("div",{staticClass:"content_part"},[e._v("招聘信息")]),e._v(" "),a("div",{staticClass:"other_info_part"},[a("p",{staticClass:"info_with_comment"},[e._v("申请部门: "+e._s(n.applicationDepartment))]),e._v(" "),a("p",{staticClass:"info_with_comment"},[e._v("申请岗位: "+e._s(n.applicationPost))])])]}}])})}),1)],1),e._v(" "),a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},im7o:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("MgeX"),s=n(o),l=a("HzJ8"),d=n(l),u=a("ZLEe"),c=n(u),f=a("3cXf"),h=n(f),m=a("4YfN"),v=n(m),p=a("KH7x"),C=n(p),y=a("HXPS"),_=n(y),g=a("BGNQ"),b=n(g),w=a("7g+Q"),I=n(w),D=a("z5TY"),x=n(D),P=a("SAzG"),S=n(P),k=a("PzEQ"),L=n(k),N=a("+62G"),M=n(N),T=a("kNGm"),A=n(T),O=a("u28h"),R=n(O),j=a("0AQX"),B=a("HyXB"),E=a("bKg5"),F=n(E),U=a("BUFe"),$=n(U),H=a("VZtf"),V=n(H),q=a("y8YJ"),Q=n(q),Y=a("Pb67"),X=n(Y),G=a("yt3/"),W=n(G),z=a("89pA"),K=n(z),J=a("9cRV"),Z=n(J),ee=a("hLfv"),te=n(ee),ae=a("UrVB"),ne=n(ae),re=a("luHD"),ie=n(re),oe=a("vl8n"),se=n(oe),le=a("+WR7"),de=n(le),ue=a("Q67R"),ce=n(ue),fe=a("lsbD"),he=n(fe),me=a("F2L3"),ve=n(me),pe=(a("zWMP"),a("Qg39"));t.default={name:"ApplyXSTHForm",mixins:[F.default],directives:{TransferDom:M.default},components:{Icon:_.default,Cell:b.default,Popup:I.default,Group:x.default,XTextarea:L.default,XInput:S.default,RAction:$.default,RNumber:V.default,PopOrderList:X.default,PopDealerList:Q.default,PopSingleSelect:W.default,PopWarehouseList:K.default,PopEntityList:ne.default,PopMatter:ie.default,Datetime:R.default,RPicker:se.default,PopBaseinfo:de.default,PopMatterList:Z.default,DealerOtherPart:te.default,ApplyMatterPart:ce.default,OpButton:he.default,PopProjectList:ve.default},data:function(){return{filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"销售出库单",value:"transCode"}],orderList:{},showMaterielPop:!1,dealerInfo:{},formData:{drDealerLogisticsTerms:"",biComment:""},submitSuccess:!1,warehouse:{warehouseType:"一般部门仓",warehouseName:"不良品仓",warehouseCode:"BL0001"},warehouseStoreInfo:{},taxRate:.16,numMap:{},transCode:"",formViewUniqueId:"37d1a36b-826f-4c2c-88cb-5188eb8c32cb",biReferenceId:"",actions:[],taskId:"",matterList:[],project:{},tmpItems:{},matter:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,contactInfo:{},checkFieldList:[{key:"tdQty",message:"请填写本次出库数量"},{key:"price",message:"请填写单价"},{key:"taxRate",message:"请填写税率"}],showProjectPop:!1}},methods:{selDealer:function(e){var t=JSON.parse(e),a=(0,C.default)(t,1),n=a[0];this.dealerInfo=(0,v.default)({},n,{daysOfAccount:n.pamentDays,drDealerPaymentTerm:n.paymentTerm,drDealerLogisticsTerms:n.dealerLogisticsTerms}),this.dealerInfo.drDealerPaymentTerm=this.dealerInfo.paymentTerm,this.matterParams.data&&null!=this.matterParams.data.dealerCode&&(this.matterParams.data.dealerCode=this.dealerInfo.dealerCode,this.matterList=[],this.orderList={})},selContact:function(e){this.contactInfo=(0,v.default)({},e)},selWarehouse:function(e){this.warehouse=JSON.parse(e)},getStore:function(e){this.warehouseStoreInfo=(0,v.default)({},e),this.matterParams.data&&null!=this.matterParams.data.storehouseCode&&(this.matterParams.data.storehouseCode=this.warehouseStoreInfo.warehouseCode,this.matterList=[],this.orderList={})},getMatterModify:function(e,t,a){this.matter=JSON.parse((0,h.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.inventoryCode!==e.inventoryCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getMatter:function(){if(!this.dealerInfo.dealerCode)return void this.$vux.alert.show({content:"请选择客户"});this.showMaterielPop=!this.showMaterielPop},selMatter:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){var a=e.transCode+"_"+e.inventoryCode,r=e.transCode?e.transCode:"noCode",i=t.numMap[a]||{},o=i.tdQty,s=void 0===o?"":o,l=i.price,d=void 0===l?e.salesOutPrice:l,u=i.taxRate,c=void 0===u?e.taxRate:u,f=i.promDeliTime,h=(void 0===f&&(0,A.default)(e.promDeliTime,"YYYY-MM-DD"),i.thenQtyBal),m=void 0===h?e.salesOutQty:h;e.thenQtyBal=m,e.tdQty=s,e.price=d,e.taxRate=c,e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null,n[r]||(n[r]=[]),n[r].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t,a){var n=this.selItems,r=n.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode});if(-1!==r)return void n.splice(r,1);n.push(e)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,h.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,c.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],r=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});r>=0&&n.splice(r,1),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=!0,t=!1,a=void 0;try{for(var n,r=(0,d.default)((0,s.default)(this.orderList));!(e=(n=r.next()).done);e=!0){var i=n.value,o=!0,l=!1,u=void 0;try{for(var c,f=(0,d.default)(i);!(o=(c=f.next()).done);o=!0){var h=c.value;this.numMap[h.transCode+"_"+h.inventoryCode]=(0,v.default)({},h)}}catch(e){l=!0,u=e}finally{try{!o&&f.return&&f.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw a}}this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this,t="",a=[],n=[{key:"dealerInfo",childKey:"dealerCode",message:"客户"},{key:"warehouse",message:"仓库"},{key:"warehouseStoreInfo",childKey:"warehouseCode",message:"库位"}];t||n.every(function(a){return a.childKey&&!e[a.key][a.childKey]?(t="请选择"+a.message,!1):!!e[a.key]||(t="请选择"+a.message,!1)}),t||(0,c.default)(this.orderList).length||(t="请选择物料");var r=this.submitMatterField,o=!0,l=!1,u=void 0;try{for(var f,m=(0,d.default)((0,s.default)(this.orderList));!(o=(f=m.next()).done);o=!0){var p=f.value,C=!0,y=!1,_=void 0;try{for(var g,b=(0,d.default)(p);!(C=(g=b.next()).done);C=!0){var w=g.value,I={},D=!0,x=!1,P=void 0;try{for(var S,k=(0,d.default)(r);!(D=(S=k.next()).done);D=!0){var L=S.value,N=w[L.fieldCode]||w[L.displayField]||w[L.showFieldCode];if(!L.hidden&&!L.allowBlank&&!N){t=L.text+"不为空";break}I[L.fieldCode]=null!==N?void 0!==N?N:"":null}}catch(e){x=!0,P=e}finally{try{!D&&k.return&&k.return()}finally{if(x)throw P}}a.push(I)}}catch(e){y=!0,_=e}finally{try{!C&&b.return&&b.return()}finally{if(y)throw _}}}}catch(e){l=!0,u=e}finally{try{!o&&m.return&&m.return()}finally{if(l)throw u}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=B.saveAndStartWf,n={},r=(0,i.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});n=(0,v.default)({},e.formData,{dealerCreditContactPersonName:e.contactInfo.dealerName||"",dealerCreditContactInformation:e.contactInfo.dealerMobilePhone||"",containerInWarehouseManager:e.warehouse.containerOutWarehouseManager||null,handlerEntity:e.entity.dealerName,inPut:{dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName||"客户",containerCode:e.warehouse.warehouseCode,storehouseInCode:e.warehouseStoreInfo.warehouseCode,project:e.project.PROJECT_NAME,departmentName:e.formData.handlerUnitName,dataSet:a}}),e.transCode&&(t=B.saveAndCommitTask,r={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var o={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,h.default)(n),wfPara:(0,h.default)(r)};e.transCode||delete o.biReferenceId,e.processCode.length||(t=B.submitAndCalc,delete o.wfPara,delete o.biReferenceId),e.biReferenceId&&(o.biReferenceId=e.biReferenceId),e.saveData(t,o)}})},getFormData:function(){var e=this;return(0,j.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,s=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=s;var l={},u=i.inPut,c=void 0===u?{}:u,f=c.dataSet,h=void 0===f?[]:f,m=e.submitMatterField,p=!0,C=!1,y=void 0;try{for(var _,g=(0,d.default)(h);!(p=(_=g.next()).done);p=!0){var b=_.value,w=!0,I=!1,D=void 0;try{for(var x,P=(0,d.default)(m);!(w=(x=P.next()).done);w=!0){var S=x.value;b[S.displayField||S.showFieldCode||S.fieldCode]=b[S.fieldCode]}}catch(e){I=!0,D=e}finally{try{!w&&P.return&&P.return()}finally{if(I)throw D}}var k=b.transCode?b.transCode:"noCode";b.inventoryPic=b.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+b.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),b.specification=b.specification_transObjCode,b.measureUnit=b.measureUnit_transObjCode,l[k]||(l[k]=[]),l[k].push(b)}}catch(e){C=!0,y=e}finally{try{!p&&g.return&&g.return()}finally{if(C)throw y}}e.matterList=h,e.dealerInfo={dealerName:c.dealerName_dealerCodeCredit,dealerCode:c.dealerCodeCredit,dealerLabelName:c.crDealerLabel,province:c.province_dealerCodeCredit,city:c.city_dealerCodeCredit,county:c.county_dealerCodeCredit,address:c.address_dealerCodeCredit},e.contactInfo={dealerName:i.dealerCreditContactPersonName,dealerMobilePhone:i.dealerCreditContactInformation},e.warehouse={warehouseCode:c.containerCode,warehouseName:c.warehouseName_containerCode,warehouseType:c.warehouseType_containerCode,warehouseProvince:c.warehouseProvince_containerCode,warehouseCity:c.warehouseCity_containerCode,warehouseDistrict:c.warehouseDistrict_containerCode,warehouseAddress:c.warehouseAddress_containerCode,containerOutWarehouseManager:i.containerOutWarehouseManager},e.warehouseStoreInfo={warehouseCode:c.storehouseInCode,warehouseName:c.warehouseName_storehouseInCode,warehouseType:c.warehouseType_storehouseInCode,warehouseProvince:c.warehouseProvince_storehouseInCode,warehouseCity:c.warehouseCity_storehouseInCode,warehouseDistrict:c.warehouseDistrict_storehouseInCode,warehouseAddress:c.warehouseAddress_storehouseInCode},e.orderParams={dealerCode:e.dealerInfo.dealerCode,whCode:e.warehouse.warehouseCode},e.handlerDefault={handler:i.handler,handlerName:i.handlerName,handlerUnit:i.handlerUnit,handlerUnitName:i.handlerUnitName,handlerRole:i.handlerRole,handlerRoleName:i.handlerRoleName},e.matterParams.data={dealerCode:e.dealerInfo.dealerCode},e.formData=(0,v.default)({},e.formData,e.handlerDefault,{biComment:i.biComment,biId:i.biId,biProcessStatus:i.biProcessStatus,creator:i.creator,modifer:i.modifer,drDealerLogisticsTerms:i.drDealerLogisticsTerms}),e.project={PROJECT_NAME:c.project,PROJECT_TYPE:c.projectType_project},e.biReferenceId=i.biReferenceId,e.orderList=l,e.$loading.hide()})},hasDraftData:function(){var e;return!!(0,s.default)(this.orderList).length&&(0,i.default)({},"XSTH_DATA",(e={orderList:this.orderList,warehouse:this.warehouse,warehouseStoreInfo:this.warehouseStoreInfo,dealerInfo:this.dealerInfo,contactInfo:this.contactInfo,formData:this.formData},(0,i.default)(e,"warehouseStoreInfo",this.warehouseStoreInfo),(0,i.default)(e,"project",this.project),e))},getRelationData:function(){var e=this,t=this.$route.query.uniqueId;return(0,j.getSOList)({formViewUniqueId:t,transCode:this.relationKey}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r;t.attachment;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});i.order;e.dealerInfo={creatorName:i.dealerDebitContactPersonName,dealerMobilePhone:i.dealerDebitContactInformation,dealerCode:i.order.dealerDebit,dealerSubclass:i.order.drAccountSub,dealerName:i.order.dealerName_dealerDebit,province:i.order.province_dealerDebit,city:i.order.city_dealerDebit,county:i.order.county_dealerDebit,address:i.order.address_dealerDebit,paymentTerm:i.order.drDealerPaymentTerm},e.orderParams={dealerCode:e.dealerInfo.dealerCode},e.$loading.hide()})},selProject:function(e){this.project=(0,v.default)({},e)},checkAmt:function(e){var t=e.thenQtyBal,a=e.tdQty,n=e.price,r=e.taxRate;n&&(e.price=Math.abs((0,pe.toFixed)(n))),r&&(e.taxRate=Math.abs((0,pe.toFixed)(r))),a=Math.abs((0,pe.toFixed)(a)),t<a&&(a=t),e.tdQty=a}},created:function(){var e=sessionStorage.getItem("XSTH_DATA");if(e){var t=JSON.parse(e);this.orderList=t.orderList;var a=!0,n=!1,r=void 0;try{for(var i,o=(0,d.default)((0,s.default)(this.orderList));!(a=(i=o.next()).done);a=!0){var l=i.value,u=!0,c=!1,f=void 0;try{for(var h,m=(0,d.default)(l);!(u=(h=m.next()).done);u=!0){var v=h.value;this.matterList.push(v)}}catch(e){c=!0,f=e}finally{try{!u&&m.return&&m.return()}finally{if(c)throw f}}}}catch(e){n=!0,r=e}finally{try{!a&&o.return&&o.return()}finally{if(n)throw r}}this.warehouse=t.warehouse,this.warehouseStoreInfo=t.warehouseStoreInfo,this.dealerInfo=t.dealerInfo,this.contactInfo=t.contactInfo,this.formData=t.formData,this.warehouseStoreInfo=t.warehouseStoreInfo,this.project=t.project,sessionStorage.removeItem("XSTH_DATA")}}}},j13D:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.inPut?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.dealerInfo,configs:e.dealerConfig}}),e._v(" "),a("warehouse-content",{attrs:{"warehouse-config":e.warehouseConfig}}),e._v(" "),a("matter-list",{attrs:{"order-list":e.orderList,"order-title":e.orderTitle},on:{"on-show-more":e.onShowMore}}),e._v(" "),a("other-part",{attrs:{"other-info":e.orderInfo,amt:e.noTaxAmount,"tax-amt":e.taxAmount,count:e.count,attachment:e.attachment}}),e._v(" "),a("pop-matter-detail",{attrs:{show:e.showMatterDetail,item:e.matterDetail,"btn-is-hide":e.btnIsHide,"check-amt":e.checkAmt},on:{"on-confirm":e.onDetailConfirm},model:{value:e.showMatterDetail,callback:function(t){e.showMatterDetail=t},expression:"showMatterDetail"}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,"agree-handler":e.agreeHandler,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[],i={render:n,staticRenderFns:r};t.a=i},j4Lr:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages nbjgll-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-warehouse-list",{attrs:{isRequired:"",title:"入库仓库","default-value":e.warehouseIn},on:{"sel-item":e.selWarehouseIn}}),e._v(" "),a("div",{staticClass:"materiel_list"},[Object.keys(e.orderList).length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v("订单列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n,r){return a("div",{key:n,staticClass:"each_mater",class:{"vux-1px-b":r<Object.keys(e.orderList).length-1}},[t.length?a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v("加工订单号")]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]):e._e(),e._v(" "),e._l(t,function(t,r){return a("div",{key:r,class:{mater_delete:e.matterModifyClass}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass},on:{"on-modify":function(a){e.getMatterModify(t,r,n)}},nativeOn:{click:function(a){e.delClick(r,t,n)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_more"},[a("span",[e._v("单位: "+e._s(n.measureUnit))]),e._v(" "),a("span",[e._v("待领料: "+e._s(n.qtyBal))]),e._v(" "),a("span",[e._v("可用库存: "+e._s(n.qtyStock))])]),e._v(" "),a("div",{staticClass:"mater_other"},[n.warehouseName?a("div",{staticClass:"matter-remain"},[a("i",{staticClass:"iconfont icon--"}),e._v(" "),a("span",[e._v(e._s(n.warehouseName))])]):e._e(),e._v(" "),n.tdQty?a("div",{staticClass:"matter-remain"},[a("span",{staticClass:"symbol"},[e._v("本次领料: ")]),e._v(e._s(n.tdQty)+"\n                      ")]):e._e()])]}},{key:"edit",fn:function(t){var i=t.item;return[i.tdQty||e.matterModifyClass?e._e():a("div",{staticClass:"mater_other",on:{click:function(t){e.getMatterModify(i,r,n)}}},[a("div",{staticClass:"edit-tips"},[e._v("点击进行填写")])])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(r,t,n)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)})],2)}),0)]:[a("div",{on:{click:function(t){e.showOrderPop=!e.showOrderPop}}},[a("div",{staticClass:"title"},[e._v("订单列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择订单")]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),Object.keys(e.orderList).length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多物料")])]):e._e(),e._v(" "),a("pop-order-xqtj-list",{ref:"order",attrs:{show:e.showOrderPop,"default-value":e.orderList,"list-method":"getManyWhProcessingPicking"},on:{"sel-matter":e.selOrder},scopedSlots:e._u([{key:"qtyBal",fn:function(t){var n=t.item;return[a("span",[e._v("待领料余额: "+e._s(n.qtyBal))])]}},{key:"qtyStock",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater-balance"},[e._v("可用库存: "+e._s(n.qtyStock)+e._s(n.measureUnit))])]}}]),model:{value:e.showOrderPop,callback:function(t){e.showOrderPop=t},expression:"showOrderPop"}})],2),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,"is-show-amount":!1},on:{"sel-confirm":e.selConfirm},scopedSlots:e._u([{key:"qtyBal",fn:function(e){e.modifyMatter;return[a("span")]}},{key:"modify",fn:function(t){var n=t.modifyMatter;return[a("group",{staticClass:"mg_auto"},[a("x-input",{attrs:{title:"本次领料",type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",e._n(t))},expression:"modifyMatter.tdQty"}}),e._v(" "),a("cell",{attrs:{title:"可用库存",value:n.qtyStock}}),e._v(" "),a("cell",{attrs:{title:"待领料",value:n.qtyBal}})],1)]}}]),model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode"},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},j4rH:function(e,t,a){"use strict";function n(e){a("Ud70")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("UAsZ");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("wEtw"),s=a.n(o),l=a("3Gm0"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-ff16ae24",null);t.default=c.exports},j8TW:function(e,t){},j8Z4:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages sj-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList,showStatus:!1},on:{"sel-item":e.selItem}}),e._v(" "),a("div",{staticClass:"cost_list"},[e._l(e.costList,function(t,n){return a("div",{key:n,staticClass:"cost_item",class:{has_border:n>0}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.costList.length>1,expression:"costList.length > 1"}],staticClass:"cost_title vux-1px-b"},[a("label",[e._v("费用"+e._s(n+1))]),e._v(" "),a("span",{staticClass:"iconfont icon-shanchu1",on:{click:function(t){e.deleteCost(n)}}})]),e._v(" "),e._l(e.matterEditConfig.editPart,function(r,i){return a("div",{key:i,class:{"vux-1px-b":i<e.matterEditConfig.editPart.length-1}},[r.readOnly?[a("div",{staticClass:"each_property readOnly"},[a("label",{class:{required:!r.allowBlank}},[e._v(e._s(r.text))]),e._v(" "),a("span",{staticClass:"property_val"},[e._v(e._s(t[r.fieldCode]))])])]:["r2Selector"===r.editorType?a("div",{staticClass:"each_property",on:{click:function(a){e.getCost(t,n)}}},[a("label",{class:{required:!r.allowBlank}},[e._v(e._s(r.text))]),e._v(" "),a("div",{staticClass:"picker"},[a("span",{staticClass:"mater_nature"},[e._v(e._s(t[r.fieldCode]||"请选择"))]),e._v(" "),a("span",{staticClass:"icon-right"})])]):e._e(),e._v(" "),"r2Numberfield"===r.editorType?a("div",{staticClass:"each_property "},[a("label",{class:{required:!r.allowBlank}},[e._v(e._s(r.text))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t[r.fieldCode],expression:"sItem[dItem.fieldCode]",modifiers:{number:!0}}],staticClass:"property_val",attrs:{type:"number",placeholder:"请输入"},domProps:{value:t[r.fieldCode]},on:{focus:function(t){e.getFocus(t)},blur:[function(a){e.checkAmt(t,r.fieldCode,t[r.fieldCode])},function(t){e.$forceUpdate()}],input:function(a){a.target.composing||e.$set(t,r.fieldCode,e._n(a.target.value))}}})]):e._e(),e._v(" "),"r2Textfield"===r.editorType?a("div",{staticClass:"each_property"},[a("label",{class:{required:!r.allowBlank}},[e._v(e._s(r.text))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t[r.fieldCode],expression:"sItem[dItem.fieldCode]"}],staticClass:"property_val",attrs:{type:"text",placeholder:"请输入"},domProps:{value:t[r.fieldCode]},on:{focus:function(t){e.getFocus(t)},input:function(a){a.target.composing||e.$set(t,r.fieldCode,a.target.value)}}})]):e._e(),e._v(" "),"r2Datefield"===r.editorType?a("div",{staticClass:"each_property",on:{click:function(a){e.getDate(t,r)}}},[a("label",{class:{required:!r.allowBlank}},[e._v(e._s(r.text))]),e._v(" "),a("div",{staticClass:"picker"},[a("span",{staticClass:"mater_nature"},[e._v(e._s(t[r.fieldCode]||"请选择"))]),e._v(" "),a("span",{staticClass:"icon-right"})])]):e._e()]],2)})],2)}),e._v(" "),a("div",{staticClass:"vux-1px-t",class:[this.actions.includes("stop")?"resubmit-part":"sumbit-part"]},[a("div",{staticClass:"add_more",on:{click:e.addCost}},[a("span",{staticClass:"icon-add"}),e._v(" "),a("span",{staticClass:"add_text"},[e._v("新增报销")])]),e._v(" "),this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e()])],2),e._v(" "),a("pop-cost-list",{ref:"matter",attrs:{show:e.showCostPop,defaultValue:e.selectedCost,"cost-params":e.matterParams},on:{"sel-matter":e.selMatter},model:{value:e.showCostPop,callback:function(t){e.showCostPop=t},expression:"showCostPop"}}),e._v(" "),a("div",{staticClass:"project_part"},e._l(e.baseinfoExtConfig,function(t,n){return a("div",{key:n,class:{"vux-1px-t":n>0}},[t.readOnly?[a("div",{staticClass:"each_property readOnly"},[a("label",{class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))]),e._v(" "),a("span",{staticClass:"property_val"},[e._v(e._s(e.project[t.fieldCode]))])])]:["r2Selector"===t.xtype?a("r-picker",{attrs:{title:t.fieldLabel,data:t.remoteData,value:e.project[t.fieldCode],required:!t.allowBlank},model:{value:e.project[t.fieldCode],callback:function(a){e.$set(e.project,t.fieldCode,a)},expression:"project[dItem.fieldCode]"}}):e._e()]],2)}),0),e._v(" "),a("div",{staticClass:"comment"},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("op-button",{attrs:{"is-modify":e.matterModifyClass,hide:e.btnIsHide,"td-amount":e.tdAmount},on:{"on-submit":e.submitOrder}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},jAUN:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("a3Yh"),s=n(o),l=a("4YfN"),d=n(l),u=a("KH7x"),c=n(u),f=a("3cXf"),h=n(f),m=a("PzEQ"),v=n(m),p=a("iR2W"),C=n(p),y=a("kNGm"),_=(n(y),a("0AQX")),g=a("HyXB"),b=a("QHLv"),w=a("bKg5"),I=n(w),D=a("Pkp+"),x=n(D),P=a("aumL"),S=n(P),k=a("+WR7"),L=n(k),N=a("lsbD"),M=n(N),T=a("Qg39"),A=a("zWMP");t.default={data:function(){return{listId:"418bd0e9-1dce-4e01-aa5a-3d4cd80e87d4",showCostPop:!1,dealerInfo:{},formData:{biId:"",biComment:"",biProcessStatus:""},cashInfo:{cashName:"",cashInCode:"",cashType_cashInCode:"",thenAmntBal:"",tdAmount:""},biReferenceId:"",selectedCost:[]}},computed:{creatorName:function(){return this.formData.handlerName}},watch:{creatorName:function(e){this.getEmployeeBal()}},components:{XTextarea:v.default,RPicker:x.default,PopFundList:S.default,PopBaseinfo:L.default,OpButton:M.default},mixins:[I.default],filters:{numberComma:C.default},methods:{getEmployeeBal:function(){var e=this,t=[{operator:"eq",value:this.formData.handlerName,property:"nickname"}];(0,b.getEmployeeBal)((0,h.default)(t)).then(function(t){var a=t.tableContent,n=void 0===a?[]:a,r=(0,c.default)(n,1),i=r[0],o=void 0===i?{}:i;e.fundConfig.forEach(function(t){(t.displayField&&"text"!==t.displayField||t.showFieldCode)&&e.$set(e.dealerInfo,t.fieldCode,o[t.displayField]||o[t.showFieldCode])})})},submitOrder:function(){var e=this,t="",a=[],n={},r=!0,o=!1,l=void 0;try{for(var u,c=(0,i.default)(this.submitMatterField);!(r=(u=c.next()).done);r=!0){var f=u.value;if(!f.hiddenInRun&&!f.allowBlank&&!this.dealerInfo[f.fieldCode]){t=f.fieldLabel+"不为空";break}n[f.fieldCode]=null!=this.dealerInfo[f.fieldCode]?this.dealerInfo[f.fieldCode]:null}}catch(e){o=!0,l=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw l}}if(a.push(n),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=g.saveAndStartWf,n=(0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,order:{dataSet:a},outPut:{dataSet:[{tdId:e.cashInfo.tdId||"",cashInCode:e.cashInfo.cashInCode,cashType_cashInCode:e.cashInfo.cashType_cashInCode,thenAmntBal:e.cashInfo.thenAmntBal,tdAmount:e.cashInfo.tdAmount,dealerCodeCreditCopy1:e.dealerInfo.dealerCodeCredit,crDealerLabelCopy1:e.dealerInfo.crDealerLabel}]}}),r={listId:e.listId,biComment:n.biComment,formData:(0,h.default)(n),wfPara:(0,h.default)((0,s.default)({},e.processCode,{businessKey:e.businessKey,createdBy:n.creator}))};e.isResubmit&&(t=g.saveAndCommitTask,r.biReferenceId=e.biReferenceId,r.wfPara=(0,h.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=g.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,_.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,s=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=s;var l=i.order,u=i.outPut,f=(0,c.default)(l.dataSet,1),h=f[0],m=void 0===h?{}:h,v=(0,c.default)(u.dataSet,1),p=v[0],C=void 0===p?{}:p;e.dealerInfo={tdIdCopy1:m.tdIdCopy1,dealerName:m.dealerName_dealerCodeCredit,dealerCodeCredit:m.dealerCodeCredit,crDealerLabel:m.crDealerLabel,applicationType:m.applicationType,tdCreditLine:m.tdCreditLine,thenAmntBalCopy1:m.thenAmntBalCopy1,thenTotalAmntBal:m.thenTotalAmntBal,tdAmountCopy1:m.tdAmountCopy1,differenceAmount:m.differenceAmount,expCause:m.expCause},e.handlerDefault={handler:i.handler,handlerName:i.handlerName,handlerUnit:i.handlerUnit,handlerUnitName:i.handlerUnitName,handlerRole:i.handlerRole,handlerRoleName:i.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:i.biComment,biId:i.biId,biProcessStatus:i.biProcessStatus,creator:i.creator,modifer:i.modifer}),e.cashInfo={tdId:C.tdId,cashName:C.fundName_cashInCode,cashInCode:C.cashInCode,cashType_cashInCode:C.cashType_cashInCode,thenAmntBal:C.thenAmntBal,tdAmount:C.tdAmount},e.biReferenceId=i.biReferenceId,e.$loading.hide()})},checkAmt:function(){var e=this.dealerInfo,t=e.thenAmntBalCopy1,a=void 0===t?0:t,n=e.thenTotalAmntBal,r=void 0===n?0:n;this.cashInfo.tdAmount;r||(r=0),this.dealerInfo.thenAmntBalCopy1=(0,T.toFixed)(a),this.dealerInfo.thenTotalAmntBal=(0,T.toFixed)(r),this.dealerInfo.tdAmountCopy1=(0,T.toFixed)(r),this.dealerInfo.differenceAmount=(0,T.toFixed)((0,A.accAdd)(a,r)),this.cashInfo.tdAmount=(0,T.toFixed)(r)},hasDraftData:function(){return(0,s.default)({},"JKYBYJ_DATA",{dealerInfo:this.dealerInfo,cashInfo:this.cashInfo,formData:this.formData})},splitConfig:function(e,t){t.editPart=e}},created:function(){var e=sessionStorage.getItem("JKYBYJ_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.cashInfo=t.cashInfo,sessionStorage.removeItem("JKYBYJ_DATA")}}}},jDK6:function(e,t,a){"use strict";function n(e){a("A1uh")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("N+cx");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("KStb"),s=a.n(o),l=a("U+3F"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-4400100d",null);t.default=c.exports},jDuT:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper xmlw-detail-container"},[a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.orderInfo,"order-info":e.orderInfo}}),e._v(" "),a("div",{staticClass:"form_content"},[a("div",{staticClass:"main_content"},e._l(e.otherConfig,function(t,n){return a("div",{key:n,staticClass:"vux-1px-b"},[t.id.includes("Datefield")?[a("div",{staticClass:"each_info"},[a("label",[e._v(e._s(t.fieldLabel))]),e._v(" "),a("span",{staticClass:"field_value"},[e._v(e._s(e._f("timeSplit")(e.approval[t.fieldCode])))])])]:[a("div",{staticClass:"each_info"},[a("label",[e._v(e._s(t.fieldLabel))]),e._v(" "),a("span",{staticClass:"field_value"},[e._v(e._s(e.approval[t.fieldCode]))])])]],2)}),0)]),e._v(" "),a("other-part",{attrs:{"other-info":e.orderInfo,attachment:e.attachment}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1)])},r=[],i={render:n,staticRenderFns:r};t.a=i},jEax:function(e,t,a){"use strict";function n(e){a("XWts")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("OFAD");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("Rozl"),s=a.n(o),l=a("iWNe"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-76f5184a",null);t.default=c.exports},jEvZ:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"childPage"},[a("div",{staticClass:"content"},[a("div",{staticClass:"each_property vux-1px-b",on:{click:e.EditLogPop}},[a("label",[e._v("更新范围:")]),e._v(" "),a("div",{staticClass:"picker",class:{tip:!e.submitData.scope}},[a("span",{staticClass:"log_title"},[e._v(e._s(e.submitData.scope||"请选择"))]),e._v(" "),a("span",{staticClass:"iconfont icon-gengduo"})])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("耗时(单位/时):")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.submitData.spendTime,expression:"submitData.spendTime"}],staticClass:"property_val",attrs:{type:"number"},domProps:{value:e.submitData.spendTime},on:{focus:function(t){e.getFocus(t)},blur:function(t){e.checkVal(e.submitData)},input:function(t){t.target.composing||e.$set(e.submitData,"spendTime",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("更新内容:")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.submitData.content,expression:"submitData.content"}],staticClass:"property_val",attrs:{placeholder:"请输入"},domProps:{value:e.submitData.content},on:{input:function(t){t.target.composing||e.$set(e.submitData,"content",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"btn vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"cfm_btn",on:{click:e.submitLog}},[e._v("提交")])]),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{position:"bottom",height:"50%"},on:{"on-show":e.onShow},model:{value:e.pickerStatus,callback:function(t){e.pickerStatus=t},expression:"pickerStatus"}},[a("div",{staticClass:"trade_pop"},[a("r-scroll",{ref:"bScroll",staticClass:"scope_list",attrs:{options:e.scrollOptions}},e._l(e.scopeList,function(t,n){return a("div",{key:n,staticClass:"scope_type vux-1px-b",on:{click:function(a){e.selectType(t)}}},[a("div",{staticClass:"scope_name"},[e._v(e._s(t.name))]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"checked"},[a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-checkmark-empty",attrs:{type:"ios-checkmark-empty",size:"25",xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M223.9 329.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])])}),0)],1),e._v(" "),a("div",{staticClass:"count_mode vux-1px-t"},[a("span",{staticClass:"count_num"},[e._v(" "+e._s(e.scopeType.length?"已选 "+e.scopeType.length+" 个":"请选择")+" ")]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.cfmMater}},[e._v("确定")])])])],1)])},r=[],i={render:n,staticRenderFns:r};t.a=i},jICf:function(e,t){},jIlA:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("MjAd"),i=n(r),o=a("4bt0"),s=n(o);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2596,chartShow:!1,hasNext:!0,scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0},sortList:[{name:"交易号",key:"transCode"},{name:"修改时间",key:"modTime"},{name:"客户名称",key:"dealerName"}]}},components:{ApplyChart:s.default},mixins:[i.default]}},jJB5:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2556,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"},{name:"往来名称",value:"dealerName_dealerCodeCredit"}]}},mixins:[r.default],methods:{},created:function(){}}},jKAT:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("HzJ8"),s=n(o),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("PKHo"),f=n(c),h=a("zWMP"),m=a("BUFe"),v=n(m),p=a("AupE"),C=n(p),y=a("sUbJ"),_=n(y),g=a("FlCz"),b=n(g),w=a("d7ck"),I=n(w),D=a("MVgC"),x=n(D);t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",orderList:{},basicInfo:{},DuplicateBoms:[],UniqueBom:[],bomPopShow:!1,bom:{}}},mixins:[u.default,f.default],components:{workFlow:C.default,RAction:v.default,MatterItem:_.default,BomList:b.default,FormCell:I.default,BomPop:x.default},methods:{checkBom:function(e){this.bom=e,this.bomPopShow=!0},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u={};o.order;e.attachment=d;var c=o.order.dataSet,f=!0,h=!1,m=void 0;try{for(var v,p=(0,s.default)(c);!(f=(v=p.next()).done);f=!0){var C=v.value;if(C.inventoryPic=C.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+C.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),C.shippingTime=e.changeDate(C.shippingTime),C.boms){var y=!0,_=!1,g=void 0;try{for(var b,w=(0,s.default)(C.boms);!(y=(b=w.next()).done);y=!0){var I=b.value;I.inventoryCode=I.transObjCode}}catch(e){_=!0,g=e}finally{try{!y&&w.return&&w.return()}finally{if(_)throw g}}}C.boms&&(e.DuplicateBoms=e.DuplicateBoms.concat(JSON.parse((0,i.default)(C.boms)))),u[C.transMatchedCode]||(u[C.transMatchedCode]=[]),u[C.transMatchedCode].push(C)}}catch(e){h=!0,m=e}finally{try{!f&&p.return&&p.return()}finally{if(h)throw m}}e.mergeBomList(),e.orderList=u,e.orderInfo=o,e.workFlowInfoHandler()})},mergeBomList:function(){var e=function(e,t){return e.inventoryCode===t.inventoryCode};this.UniqueBom=function(t){return t.reduce(function(t,a){return t.some(function(t){var n=e(t,a);return n&&(t.tdQty=(0,h.accAdd)(t.tdQty,a.tdQty)),n})||t.push(a),t},[])}(this.DuplicateBoms)}}}},jLp1:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getProjectBotTask=t.findConclusion=t.getSalesOutStockProject=t.getProjectPlanList=t.getProjectList=t.getProjectTodoTask=t.getProjectApproval=t.getProjectPlanProjectName=t.findProjectConclusion=t.updateProjectConclusion=t.saveProjectConclusion=t.findProjectTask=t.updateProjectTask=t.saveProjectTask=t.findProjectPlan=t.updateProjectPlan=t.saveProjectPlan=t.jobLog=t.findProjectApproval=t.updateProjectApproval=t.saveJobLog=t.saveProjectApproval=void 0;var r=a("4YfN"),i=n(r),o=a("GOq4"),s=n(o);t.saveProjectApproval=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.post({url:"/H_roleplay-si/projectApproval/save",data:e})},t.saveJobLog=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.post({url:"/H_roleplay-si/jobLog/save",data:e})},t.updateProjectApproval=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.post({url:"/H_roleplay-si/projectApproval/save",data:e})},t.findProjectApproval=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return s.default.ajax({url:"/H_roleplay-si/projectApproval/findData",data:{transCode:e}})},t.jobLog=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return s.default.ajax({url:"/H_roleplay-si/jobLog/findData",data:{transCode:e}})},t.saveProjectPlan=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.post({url:"/H_roleplay-si/projectPlan/save",data:e})},t.updateProjectPlan=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.post({url:"/H_roleplay-si/projectPlan/update",data:e})},t.findProjectPlan=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return s.default.ajax({url:"/H_roleplay-si/projectPlan/findData",data:{transCode:e}})},t.saveProjectTask=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.post({url:"/H_roleplay-si/projectTask/save",data:e})},t.updateProjectTask=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.post({url:"/H_roleplay-si/projectTask/update",data:e})},t.findProjectTask=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return s.default.ajax({url:"/H_roleplay-si/projectTask/findData",data:{transCode:e}})},t.saveProjectConclusion=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.post({url:"/H_roleplay-si/projectConclusion/save",data:e})},t.updateProjectConclusion=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.post({url:"/H_roleplay-si/projectConclusion/update",data:e})},t.findProjectConclusion=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return s.default.ajax({url:"/H_roleplay-si/projectConclusion/findData",data:{transCode:e}})},t.getProjectPlanProjectName=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getProjectPlanProjectName",data:(0,i.default)({_dc:Date.now(),page:1,start:0,limit:1e4},e)})},t.getProjectApproval=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getProjectApprovalAll",data:(0,i.default)({_dc:Date.now()},e)})},t.getProjectTodoTask=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getProjectTodoTask",data:(0,i.default)({_dc:Date.now(),page:1,start:0,limit:100},e)})},t.getProjectList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getProjectApproval",data:e})},t.getProjectPlanList=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.default.ajax({url:"/H_roleplay-si/mobile/getProjectPlan/"+e,data:(0,i.default)({_dc:Date.now()},t)})},t.getSalesOutStockProject=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getSalesOutStockProject",data:(0,i.default)({_dc:Date.now()},e)})},t.findConclusion=function(e){return s.default.ajax({url:"/H_roleplay-si/projectConclusion/findConclusion",data:{_dc:Date.now(),projectName:e}})},t.getProjectBotTask=function(e){return s.default.ajax({url:"/H_roleplay-si/ds/getProjectBotTask",data:(0,i.default)({_dc:Date.now()},e)})};t.default={}},jO70:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("lC5x"),i=n(r),o=a("J0Oq"),s=n(o),l=a("4YfN"),d=n(l),u=a("a3Yh"),c=n(u),f=a("3cXf"),h=n(f),m=a("z5TY"),v=n(m),p=a("SAzG"),C=n(p),y=a("PzEQ"),_=n(y),g=a("u28h"),b=n(g),w=a("0AQX"),I=a("HyXB"),D=a("bKg5"),x=n(D),P=a("9cRV"),S=n(P),k=a("luHD"),L=n(k),N=a("vl8n"),M=n(N),T=a("+WR7"),A=n(T),O=a("zWMP");a("Qg39");t.default={components:{PopMatterList:S.default,XTextarea:_.default,Group:v.default,XInput:C.default,PopMatter:L.default,RPicker:M.default,Datetime:b.default,PopBaseinfo:A.default},data:function(){return{matterList:[],showMaterielPop:!1,formData:{creator:"",modifer:"",biId:"",biComment:""},applyComment:"",numMap:{},taxRate:0,checkFieldList:[{key:"tdQty",message:"请填写数量"}]}},mixins:[x.default],computed:{totalNum:function(){var e=0;return this.matterList.forEach(function(t){e=(0,O.accAdd)(e,t.tdQty)}),Number(e)}},methods:{selMatter:function(e){var t=JSON.parse(e);t.map(function(e){e.tdQty=e.tdQty||""}),this.matterList=t},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,h.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this,t="",a=[];if(0===this.matterList.length&&(t="请选择物料"),t||this.matterList.every(function(e){return e.tdQty?(a.push({tdId:e.tdId||"",inventoryName_transObjCode:e.inventoryName,transObjCode:e.inventoryCode,tdProcessing:e.processing,assMeasureUnit:e.assMeasureUnit||null,assMeasureScale:e.assMeasureScale||null,assistQty:e.assistQty||0,tdQty:e.tdQty,comment:e.comment||"",promDeliTime:e.promDeliTime}),!0):(t="请填写数量",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=I.saveAndStartWf,n=(0,c.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:e.biComment,formData:(0,h.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,order:{dataSet:a}})),wfPara:(0,h.default)(n)};e.isResubmit&&(t=I.saveAndCommitTask,r.biReferenceId=e.biReferenceId),e.processCode.length||(t=I.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,s.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,w.getSOList)({formViewUniqueId:e.uniqueId,transCode:e.transCode}).then(function(t){e.listId=t.listId,e.applyComment=t.biComment,e.biReferenceId=t.biReferenceId,e.biComment=t.biComment;var a=t.formData;a.order.dataSet.map(function(t){t=(0,d.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,inventoryType:t.inventoryType_transObjCode,inventorySubclass:t.inventorySubclass_transObjCode}),e.matterList.push(t)}),e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),e.attachment=t.attachment,e.$loading.hide()});case 2:case"end":return t.stop()}},t,e)}))()},hasDraftData:function(){return!!this.matterList.length&&(0,c.default)({},"BHDD_DATA",{matter:this.matterList,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("BHDD_DATA");e&&(this.matterList=JSON.parse(e).matter,this.formData=JSON.parse(e).formData,sessionStorage.removeItem("BHDD_DATA"))}}},jOKW:function(e,t){},jPPF:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("kNGm"),i=(n(r),a("SAzG")),o=n(i),s=a("0AQX"),l=a("+VRO"),d=n(l),u=a("BUFe"),c=n(u),f=a("AupE"),h=n(f),m=a("bFc7"),v=n(m);a("zWMP"),a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",costList:[]}},mixins:[d.default],components:{workFlow:h.default,RAction:c.default,contactPart:v.default,XInput:o.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=t.formData,r=t.attachment;if(!1===a)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var i=n.order.dataSet,o=void 0===i?[]:i;e.attachment=r,e.orderInfo=n,e.costList=o,e.workFlowInfoHandler()})}}}},jPz7:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("MgeX"),i=n(r),o=a("HzJ8"),s=n(o),l=a("a3Yh"),d=n(l),u=a("3cXf"),c=n(u),f=a("4YfN"),h=n(f),m=a("BGNQ"),v=n(m),p=a("z5TY"),C=n(p),y=a("SAzG"),_=n(y),g=a("PzEQ"),b=n(g),w=a("0AQX"),I=a("HyXB"),D=a("bKg5"),x=n(D),P=a("Pkp+"),S=n(P),k=a("+WR7"),L=n(k),N=a("lsbD"),M=n(N);a("Qg39"),a("zWMP");t.default={data:function(){return{costList:[{}],formData:{biId:"",biComment:""},biReferenceId:""}},components:{Cell:v.default,Group:C.default,XInput:_.default,XTextarea:b.default,RPicker:S.default,PopBaseinfo:L.default,OpButton:M.default},mixins:[x.default],watch:{costList:{handler:function(e){e.forEach(function(e){var t=e.leaveStartDate,a=e.leaveStartTime,n=e.leaveEndDate,r=e.leaveEndTime;if(t&&n&&null==a&&null==r)e.leaveDays=(new Date(n)-new Date(t))/864e5+1;else if(t&&a&&n&&r){var i=(new Date(n)-new Date(t))/864e5;a==r?i+=.5:"上午"==a&&"下午"==r&&(i+=1),e.leaveDays=i}})},deep:!0}},methods:{addCost:function(){this.costList.push({})},deleteCost:function(e){this.costList.splice(e,1)},submitOrder:function(){var e=this,t="",a=[],n=!0,r=!1,i=void 0;try{for(var o,l=(0,s.default)(this.costList);!(n=(o=l.next()).done);n=!0){var u=o.value,f={},m=!0,v=!1,p=void 0;try{for(var C,y=(0,s.default)(this.submitMatterField);!(m=(C=y.next()).done);m=!0){var _=C.value;if(!_.hidden&&!_.allowBlank&&!u[_.fieldCode]){t=_.text+"不为空";break}f[_.fieldCode]=null!=u[_.fieldCode]?u[_.fieldCode]:null}}catch(e){v=!0,p=e}finally{try{!m&&y.return&&y.return()}finally{if(v)throw p}}a.push(f)}}catch(e){r=!0,i=e}finally{try{!n&&l.return&&l.return()}finally{if(r)throw i}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=I.saveAndStartWf;delete e.formData.userCode;var n=(0,h.default)({},e.formData,{handlerEntity:e.entity.dealerName,order:{dataSet:a}}),r={listId:e.listId,biComment:"",formData:(0,c.default)(n),wfPara:(0,c.default)((0,d.default)({},e.processCode,{businessKey:e.businessKey,createdBy:n.creator,"部门ID":e.formData.handlerUnit}))};e.isResubmit&&(t=I.saveAndCommitTask,r.biReferenceId=e.biReferenceId,r.wfPara=(0,c.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=I.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,w.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,s=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=s;var l=i.order;e.handlerDefault={handler:i.handler,handlerName:i.handlerName,handlerUnit:i.handlerUnit,handlerUnitName:i.handlerUnitName,handlerRole:i.handlerRole,handlerRoleName:i.handlerRoleName},e.formData=(0,h.default)({},e.handlerDefault,{biComment:i.biComment,biId:i.biId,biProcessStatus:i.biProcessStatus,creator:i.creator,modifer:i.modifer}),e.costList=[],l.dataSet.forEach(function(t){e.costList.push((0,h.default)({},t,{exptName:t.costName_expCode,expCode:t.expCode,expSubject:t.expSubject,costType:t.costType_expCode}))}),e.biReferenceId=i.biReferenceId,e.$loading.hide()})},hasDraftData:function(){if((0,i.default)(this.costList[0]).length)return(0,d.default)({},"QJ_DATA",{costList:this.costList,formData:this.formData})},getDate:function(e,t){var a=this,n="",r="";"leaveEndDate"===t.fieldCode&&e.leaveStartDate?(n=e.leaveStartDate,r=""):"leaveStartDate"===t.fieldCode&&e.leaveEndDate&&(r=e.leaveEndDate,n=""),this.$vux.datetime.show({value:"",confirmText:"确认",cancelText:"取消",startDate:n,endDate:r,onConfirm:function(n){if(null==e[t.fieldCode])return void a.$set(e,t.fieldCode,n);e[t.fieldCode]=n}})},splitConfig:function(e,t){t.editPart=e}},created:function(){var e=sessionStorage.getItem("QJ_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.costList=t.costList,sessionStorage.removeItem("QJ_DATA")}}}},jRXt:function(e,t,a){"use strict";function n(e){a("mZZL")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HCsH");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("AarU"),s=a.n(o),l=a("6q0y"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-7e1bdc64",null);t.default=c.exports},"jd/k":function(e,t){},jnZd:function(e,t,a){"use strict";function n(e){a("yS+Q")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("JOdt");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("HpO8"),s=a.n(o),l=a("GRe5"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,null,null);t.default=c.exports},jrYp:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("gTYh"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"group",methods:{cleanStyle:r.default},props:{title:String,titleColor:String,labelWidth:String,labelAlign:String,labelMarginRight:String,gutter:[String,Number],footerTitle:String,footerTitleColor:String}}},juMk:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("IhpF"),s=n(o),l=a("kNGm"),d=n(l),u=a("iR2W"),c=n(u),f=a("vS5q"),h=a("Qg39"),m=a("/MtV");a("B6iy"),a("cfw3"),a("vfE7"),a("qYjU"),a("B6j4");var v=function(e,t,a){var n="",r=e.length,i=a,o=Math.ceil(r/i);if(r>i)for(var s=0;s<o;s++){var l="",d=s*i,u=d+i;l=s==o-1?e.substring(d,r):e.substring(d,u)+t,n+=l}else n=e;return n};t.default={data:function(){return{pieOption:{title:{text:"客户交易往来分析",x:"center",top:5},legend:{orient:"vertical",left:"6%",top:"65%",itemGap:10,data:[]},tooltip:{confine:!0,textStyle:{fontSize:12},formatter:function(e){return e.data.name+"<br/>销售额: ￥"+(0,c.default)(e.value)+" ("+e.percent+"%)"}},color:["#07689f","#a2d5f2","#ff7e67","#abedd8","#283c63","#bad7df"],series:[{name:"公司名称",type:"pie",radius:"40%",center:["50%","38%"],data:[],label:{fontSize:12,formatter:function(e){return v(e.data.name,"\n",6)}},labelLine:{}}]},timeFilter:{startDate:"请选择",EndDate:"请选择"},staffRank:[],defaultTips:"",isReset:!1,dateShow:!1,businessAmount:0}},filters:{toFixed:h.toFixed,numberComma:c.default},components:{Countup:s.default},methods:{getStart:function(){var e=this;this.$vux.datetime.show({cancelText:"取消",confirmText:"确定",value:this.timeFilter.startDate,endDate:this.preDate,onConfirm:function(t){e.timeFilter.startDate=t}})},getEnd:function(){var e=this;this.$vux.datetime.show({cancelText:"取消",confirmText:"确定",value:this.timeFilter.EndDate,endDate:this.toDay,onConfirm:function(t){e.timeFilter.EndDate=t}})},resetData:function(){this.timeFilter={startDate:"请选择",EndDate:"请选择"}},confirm:function(){"请选择"!==this.timeFilter.startDate&&"请选择"!==this.timeFilter.EndDate?this.defaultTips=this.timeFilter.startDate+" ~ "+this.timeFilter.EndDate:"请选择"!==this.timeFilter.EndDate?this.defaultTips="截止至 "+this.timeFilter.EndDate:"请选择"!==this.timeFilter.startDate?this.defaultTips=this.timeFilter.startDate+" ~ "+this.toDay+" [今日]":this.defaultTips="截止至 "+this.toDay,this.dateShow=!1;var e={startData:"请选择"===this.timeFilter.startDate?"":this.timeFilter.startDate,endData:"请选择"===this.timeFilter.EndDate?"":this.timeFilter.EndDate};this.dashboardData(e)},dashboardData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,f.getDashboard)(t).then(function(t){var a=t.total,n=void 0===a?0:a,r=t.dealerPie,o=(t.productSalesRanking,t.salesmanRanking),s=m.init(document.getElementById("pie")),l=[];e.staffRank=o;var d=!0,u=!1,c=void 0;try{for(var f,v=(0,i.default)(r);!(d=(f=v.next()).done);d=!0){var p=f.value,C={value:p.total,name:p.dealerName};l.push(C)}}catch(e){u=!0,c=e}finally{try{!d&&v.return&&v.return()}finally{if(u)throw c}}e.businessAmount=(0,h.toFixed)(n),e.$set(e.pieOption.series[0],"data",l),e.$set(e.pieOption.legend,"data",l),s.setOption(e.pieOption)})}},created:function(){this.toDay=(0,d.default)(new Date,"YYYY-MM-DD"),this.preDate=(0,d.default)(new Date((new Date).getTime()-864e5),"YYYY-MM-DD"),this.defaultTips="截止至 "+this.toDay,this.dashboardData()}}},jzM3:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("xZPP"),i=n(r),o=a("St0H"),s=a("803w"),l=n(s),d=a("gTYh"),u=n(d),c=a("FGI+"),f=n(c);t.default={name:"cell",components:{InlineDesc:i.default},props:(0,l.default)(),created:function(){},beforeMount:function(){this.hasTitleSlot=!!this.$slots.title,this.$slots.value},computed:{labelStyles:function(){return(0,u.default)({width:(0,f.default)(this,"labelWidth"),textAlign:(0,f.default)(this,"labelAlign"),marginRight:(0,f.default)(this,"labelMarginRight")})},valueClass:function(){return{"vux-cell-primary":"content"===this.primary||"left"===this.valueAlign,"vux-cell-align-left":"left"===this.valueAlign,"vux-cell-arrow-transition":!!this.arrowDirection,"vux-cell-arrow-up":"up"===this.arrowDirection,"vux-cell-arrow-down":"down"===this.arrowDirection}},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}},style:function(){if(this.alignItems)return{alignItems:this.alignItems}}},methods:{onClick:function(){!this.disabled&&(0,o.go)(this.link,this.$router)}},data:function(){return{hasTitleSlot:!0,hasMounted:!1}}}},"k/5C":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("z5TY"),i=n(r),o=a("BGNQ"),s=n(o);t.default={name:"HGCW_List",data:function(){return{listData:[{title:"利润表",code:"LR"},{title:"资产负债表",code:"ZCFZ"}]}},components:{Cell:s.default,Group:i.default},methods:{goDetail:function(e){var t=this.$route.params,a=t.folder,n=t.fileName;this.$router.push({path:"/detail/"+a+"/"+n,query:{code:e.code,name:e.title}})}},created:function(){this.$loading.hide()}}},"k/ET":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"matter-list":e.orderList},on:{"on-show-more":e.onShowMore}}),e._v(" "),a("other-part",{attrs:{"other-info":e.orderInfo,attachment:e.attachment}}),e._v(" "),a("pop-matter-detail",{attrs:{show:e.showMatterDetail,item:e.matterDetail},model:{value:e.showMatterDetail,callback:function(t){e.showMatterDetail=t},expression:"showMatterDetail"}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[],i={render:n,staticRenderFns:r};t.a=i},"k/UG":function(e,t,a){"use strict";function n(e){a("rKsn")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("fc3g");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("JFKB"),s=a.n(o),l=a("qkn6"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-06f4e6c8",null);t.default=c.exports},"k/x4":function(e,t){},k0Ry:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("just-word-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}},scopedSlots:e._u([{key:"list-item",fn:function(t){var n=t.item;return[a("div",{staticClass:"status_part"},[a("span",{staticClass:"iconfont icon-503020"}),e._v(" "),a("span",{staticClass:"status_name"},[e._v(e._s(n.projectType_project))])]),e._v(" "),a("div",{staticClass:"content_part"},[e._v(e._s(n.projectName_project))]),e._v(" "),e._l(n.detailItem,function(t,n){return a("div",[a("div",{staticClass:"content_part"},[e._v(e._s(e.sItem.costName_expCode))]),e._v(" "),a("div",{staticClass:"other_info_part"},[a("p",{staticClass:"info_with_comment"},[e._v("费用类型: "+e._s(e.sItem.costType_expCode||"暂无"))])])])})]}}])})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},k4WU:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("BGNQ"),s=n(o),l=a("z5TY"),d=n(l),u=a("7g+Q"),c=n(u),f=a("YP5q"),h=n(f),m=a("SAzG"),v=n(m),p=a("u28h"),C=n(p),y=a("jnZd"),_=n(y),g=a("iR2W"),b=n(g),w=a("kNGm"),I=n(w),D=a("1KNX"),x=n(D),P=a("Pkp+"),S=n(P),k=(a("Qg39"),a("zWMP"));t.default={name:"MatterPop",filters:{numberComma:b.default,checkNumber:function(e){return e?(0,b.default)(e,3):e}},props:{checkAmt:{type:Function},chosenMatter:{type:Object,default:function(){return{}}},showDateTime:{type:Boolean,default:!1},showPop:{type:Boolean,default:!1},btnIsHide:{type:Boolean,default:!1},isCheckStock:{type:Boolean,default:!0},isShowAmount:{type:Boolean,default:!0},dateText:{type:String,default:"预期交货日"},validateMap:{type:Array,default:function(){return[]}},config:{type:Object,default:function(){return{}}}},components:{Cell:s.default,Group:d.default,Popup:c.default,XDialog:h.default,XInput:v.default,Datetime:C.default,RScroll:x.default,PopupPicker:_.default,RPicker:S.default},watch:{showPop:{handler:function(e){this.show=e}},chosenMatter:{handler:function(e){if(e.productionDate&&e.keepingDays){var t=new Date(e.productionDate).getTime();e.validUntil=t?(0,I.default)(t+(0,k.accMul)(e.keepingDays,864e5),"YYYY-MM-DD"):""}},deep:!0}},data:function(){return{show:!1,showDialog:!1,scrollOptions:{click:!0},pickerStyle:{zIndex:550}}},methods:{numberComma:function(e){return e||0===e?(0,b.default)(e):"无"},onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&(e.$refs.bScroll.refresh(),e.$refs.bScroll.scrollTo(0,0)),e.clientHeight=document.documentElement.clientHeight})},onHide:function(){this.showPrice=!1,this.currentType="渠道价",this.$emit("input",!1),this.$emit("show-down-modify",!1)},confirm:function(){var e=this,t="";if(this.config.editPart.every(function(a){return!(!a.allowBlank&&(Array.isArray(e.chosenMatter[a.fieldCode])&&!e.chosenMatter[a.fieldCode].length||!e.chosenMatter[a.fieldCode]))||(t=a.text+"不能为空",!1)}),t)return void this.$vux.alert.show({content:t});this.$emit("sel-confirm",(0,i.default)(this.chosenMatter)),this.show=!1},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},defineObjVal:function(e,t,a){for(var n in t)this.$set(e,n,a[n])},cleanAmt:function(e){this.defineObjVal(e,e.otherField,"")},getFocus:function(e){event.currentTarget.select()}}}},k95n:function(e,t){},k9I9:function(e,t){},kA5c:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2294,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName"}]}},mixins:[r.default],methods:{},created:function(){}}},kCcb:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("BGNQ"),i=n(r),o=a("z5TY"),s=n(o),l=a("kNGm"),d=(n(l),a("0AQX")),u=a("+VRO"),c=n(u),f=(a("Qg39"),a("BUFe")),h=n(f),m=a("AupE"),v=n(m),p=a("bFc7"),C=n(p),y=a("FlCz"),_=n(y),g=a("hPJo"),b=n(g);t.default={data:function(){return{workInfo:{},orderInfo:{},bomList:[],warehouse:{},warehouseConfig:[]}},mixins:[c.default],components:{Cell:i.default,Group:s.default,RAction:h.default,workFlow:v.default,contactPart:C.default,BomList:_.default,WarehouseContent:b.default},filters:{timeSplit:function(e){return e?e.split(" ")[0]:""}},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,d.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.attachment,i=void 0===r?[]:r,o=t.formData,s=void 0===o?{}:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var l=s.outPut,d=void 0===l?{}:l,u=d.dataSet,c=void 0===u?[]:u;e.warehouse={warehouseName_containerCode:d.warehouseName_containerCode,warehouseType_containerCode:d.warehouseType_containerCode,warehouseAddress_containerCode:d.warehouseAddress_containerCode,containerCode:d.containerCode},c.forEach(function(e){e.inventoryName=e.inventoryName_outPutMatCode,e.inventoryCode=e.outPutMatCode}),e.bomList=c,e.attachment=i,e.orderInfo=s,e.workInfo=s.order.dataSet[0],e.workFlowInfoHandler()})}}}},kKsb:function(e,t,a){"use strict";function n(e){a("pM28")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("lqQX");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("2RZr"),s=a.n(o),l=a("EOEs"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-1e368680",null);t.default=c.exports},kMZd:function(e,t){},kN5m:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"just-word-item",class:{visited:e.item.visited}},[a("div",{staticClass:"duty_top"},[a("p",{staticClass:"duty_code"},[e._v("\n      "+e._s(e.item.transCode)+"\n      "),e.item.biProcessStatus?a("span",{staticClass:"duty_crt_man"},[e._v(e._s(e.item.biProcessStatus))]):e._e()]),e._v(" "),a("span",{staticClass:"duty_status",class:e.item.statusClass},[e._v(e._s(e.item.statusName))]),e._v(" "),a("i",{staticClass:"iconfont",class:e.item.whichIcon})]),e._v(" "),e.item.dealerName?a("div",{staticClass:"dealer_part"},[a("div",{staticClass:"dealer_name"},[a("span",{staticClass:"iconfont icon-kehu1"}),e._v(e._s(e.item.dealerName)+"\n    ")])]):e._e(),e._v(" "),e.item.opportunityTitle?a("div",{staticClass:"main_container"},[a("div",{staticClass:"content_part"},[e._v(e._s(e.item.opportunityTitle))]),e._v(" "),a("div",{staticClass:"other_info_part"},[a("p",{staticClass:"info_with_comment"},[e._v("内容简介: "+e._s(e.item.comment||"无"))]),e._v(" "),a("p",{staticClass:"info_with_comment"},[e._v("备注: "+e._s(e.item.biComment||"无"))])])]):e._e(),e._v(" "),a("div",{staticClass:"main_container when-is-nodealer"},[e._t("list-item",[e.item.projectType||e.item.projectType_project?a("div",{staticClass:"status_part"},[a("span",{staticClass:"iconfont icon-503020"}),e._v(" "),a("span",{staticClass:"status_name"},[e._v(e._s(e.item.projectType||e.item.projectType_project))])]):e._e(),e._v(" "),a("div",{staticClass:"content_part"},[e._v(e._s(e.item.projectName||e.item.projectName_project))]),e._v(" "),e.item.detailItem.length>1?e._l(e.item.detailItem,function(t,n){return t.taskName?a("div",{key:n,staticClass:"other_info_part"},[a("p",{staticClass:"info_with_comment"},[e._v("任务"+e._s(1+n)+": "+e._s(t.taskName))])]):e._e()}):[e.item.approvalComment_project||e.item.taskComment?a("div",{staticClass:"other_info_part"},[e.item.taskName?a("p",{staticClass:"info_with_comment"},[e._v("任务名称: "+e._s(e.item.taskName))]):e._e(),e._v(" "),e.item.approvalComment_project||e.item.taskComment?a("p",{staticClass:"info_with_comment"},[e._v("说明简介: "+e._s(e.item.approvalComment_project||e.item.taskComment))]):e._e(),e._v(" "),e.item.projectManager_project?a("p",{staticClass:"info_with_comment"},[e._v("项目经理: "+e._s(e.item.projectManager_project))]):e._e(),e._v(" "),e.item.budgetProfitMargin_project?a("p",{staticClass:"info_with_comment"},[e._v("利润率: "+e._s(e._f("percent")(e.item.budgetProfitMargin_project)))]):e._e(),e._v(" "),a("p",{staticClass:"info_with_comment"},[e._v("备注: "+e._s(e.item.biComment||"无"))])]):e._e()]],{item:e.item})],2),e._v(" "),a("div",{staticClass:"order_count"},[e.noCount?e._e():a("div",{staticClass:"money_part"},[e.item.itemCount>1?a("span",{staticClass:"num"},[e._v("共"+e._s(e.item.itemCount)+"笔")]):e._e(),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(e.conutTitle)+":")]),e._v(" "),a("span",{staticClass:"money"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e._f("toFixed")(e.total),3))+"\n      ")])])]),e._v(" "),a("div",{staticClass:"other_part"},[a("p",{staticClass:"duty_time"},[e._v(e._s(e._f("dateFormat")(e.item.modTime))),a("span",{staticStyle:{fontSize:".1rem"}},[e._v("[修改时间]")])]),e._v(" "),a("div",{staticClass:"handle_man"},[e._v("\n      "+e._s(e.item.handlerName)),a("span",{staticStyle:{fontSize:".1rem"}},[e._v("[经办人]")])])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},kNVo:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("0AQX"),s=a("+VRO"),l=n(s),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),h=a("hPJo"),m=n(h),v=a("3NX5"),p=n(v);t.default={data:function(){return{orderInfo:{},warehouse:{},warehouseConfig:[],formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513"}},mixins:[l.default],components:{workFlow:f.default,RAction:u.default,WarehouseContent:m.default,MatterList:p.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,o.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=void 0===a?[]:a,r=t.formData,o=void 0===r?{}:r,s=o.inPut,l=void 0===s?{}:s,d=l.dataSet,u=!0,c=!1,f=void 0;try{for(var h,m=(0,i.default)(d);!(u=(h=m.next()).done);u=!0){var v=h.value;v.inventoryPic=v.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+v.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){c=!0,f=e}finally{try{!u&&m.return&&m.return()}finally{if(c)throw f}}e.setWarehouseInfo(o),e.setWarehouseInfo(l),e.attachment=n,e.matterList=l.dataSet,e.orderInfo=o,e.workFlowInfoHandler()})},setWarehouseInfo:function(e){for(var t in e)(t.includes("warehouse")||t.includes("storehouse"))&&(this.warehouse[t]=e[t])}}}},kSDc:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2559,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"客户名称",value:"dealerName_dealerCodeCredit"}]}},mixins:[r.default],methods:{},created:function(){}}},kSI7:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){e&&e.includes("查询")&&(e="抱歉，数据似乎出了点问题，请稍后重试"),l.default.show({title:"提示",content:e,onHide:function(){o.default.prototype.$loading.hide(),o.default.prototype.$HandleLoad.hide()}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=a("rudh"),o=n(i),s=a("L6VY"),l=n(s)},kSRt:function(e,t){},"kY/w":function(e,t,a){"use strict";function n(e){a("ScA0")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("SU7p");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("u5b7"),s=a.n(o),l=a("28/3"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-41b83fc2",null);t.default=c.exports},"kZy/":function(e,t,a){"use strict";function n(e){a("leoE")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("G0OA");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("Ci8m"),s=a.n(o),l=a("L3x7"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-142c682f",null);t.default=c.exports},kdhw:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{folder:"",currentComponent:"",isrefresh:!1}},methods:{initPage:function(){var e=this;this.$loading.show();var t=this.$route.params,n=t.folder,r=t.fileName;this.folder=n;try{this.currentComponent=a("88rY")("./"+n+"/"+r+"_List.vue").default}catch(t){console.log(t),this.$vux.alert.show({content:"抱歉，无法支持该应用的查看",onHide:function(){e.$router.go(-1)}})}}},created:function(){this.initPage()},activated:function(){var e=this.$refs.list;if(this.$route.meta.reload){var t=this.$route.params,a=t.folder;t.fileName,a&&(this.folder===a&&this.currentComponent&&e.reloadData(),this.initPage()),this.$route.meta.reload=!1}this.$nextTick(function(){e&&(e.changeVisitedStatus&&e.changeVisitedStatus(),e.$refs.bScroll&&e.$refs.bScroll.refresh())})},beforeRouteEnter:function(e,t,a){var n=e.query,r=n.name,i=n.transCode;r.includes("合规")?(e.meta.title=r,a()):e.meta.title=i?"加载中...":r+"列表",a()},beforeRouteLeave:function(e,t,a){"/home"===e.path&&(this.$loading.hide(),this.currentComponent=null,t.meta.reload=!0),a()}}},keYS:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("3cXf"),s=n(o),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),h=n(f),m=a("+62G"),v=n(m),p=a("6q39"),C=n(p),y=a("fEP3"),_=a("1KNX"),g=n(_),b=a("7biW"),w=n(b);t.default={name:"PopCompanyList",props:{defaultValue:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1}},directives:{TransferDom:v.default},components:{Icon:c.default,Popup:h.default,RScroll:g.default,DSearch:w.default,LoadMore:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},watch:{defaultValue:function(e){this.setDefaultValue()}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this.getList()},showSelIcon:function(e){return this.selItems.facilityName===e.facilityName},selThis:function(e,t){this.showPop=!1,this.selItems=e,console.log(this.selItems),this.$emit("sel-item",this.selItems)},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"facilityName"}])),(0,y.getObjFacility)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+i.length,e.listData=1===e.page?i:[].concat((0,d.default)(e.listData),(0,d.default)(i)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.selItems=this.defaultValue?(0,i.default)({},this.defaultValue):{}},itemClick:function(){this.disabled||(this.showPop=!this.showPop)}},created:function(){this.setDefaultValue(),this.disabled||this.getList()}}},kgls:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("YP5q"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"confirm",components:{XDialog:r.default},props:{value:{type:Boolean,default:!1},showInput:{type:Boolean,default:!1},placeholder:{type:String,default:""},theme:{type:String,default:"ios"},hideOnBlur:{type:Boolean,default:!1},title:String,confirmText:String,cancelText:String,maskTransition:{type:String,default:"vux-fade"},maskZIndex:[Number,String],dialogTransition:{type:String,default:"vux-dialog"},content:String,closeOnConfirm:{type:Boolean,default:!0},inputAttrs:Object,showContent:{type:Boolean,default:!0},confirmType:{type:String,default:"primary"}},created:function(){this.showValue=this.show,this.value&&(this.showValue=this.value)},watch:{value:function(e){this.showValue=e},showValue:function(e){var t=this;this.$emit("input",e),e&&(this.showInput&&(this.msg="",setTimeout(function(){t.$refs.input&&t.setInputFocus()},300)),this.$emit("on-show"))}},data:function(){return{msg:"",showValue:!1}},methods:{getInputAttrs:function(){return this.inputAttrs||{type:"text"}},setInputValue:function(e){this.msg=e},setInputFocus:function(e){e&&e.preventDefault(),this.$refs.input.focus()},_onConfirm:function(){this.showValue&&(this.closeOnConfirm&&(this.showValue=!1),this.$emit("on-confirm",this.msg))},_onCancel:function(){this.showValue&&(this.showValue=!1,this.$emit("on-cancel"))}}}},kkCB:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("kNGm"),s=n(o),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),h=a("AupE"),m=n(h),v=a("bFc7"),p=n(v),C=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",contactInfo:{}}},mixins:[u.default],components:{workFlow:m.default,RAction:f.default,contactPart:p.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=!0,r=!1,o=void 0;try{for(var l,d=(0,i.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;e.count=(0,C.accAdd)(e.count,u.tdAmount)}}catch(e){r=!0,o=e}finally{try{!n&&d.return&&d.return()}finally{if(r)throw o}}t.formData.validUntil=(0,s.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData;var c=e.orderInfo.order;e.contactInfo={creatorName:c.dealerDebitContactPersonName,dealerName:c.dealerName_dealerCodeCredit,dealerMobilePhone:t.formData.dealerCreditContactInformation,dealerContactPersonName:t.formData.dealerCreditContactPersonName,dealerCode:c.dealerCodeCredit,dealerLabelName:c.crDealerLabel,province:c.province_dealerCodeCredit,city:c.city_dealerCodeCredit,county:c.county_dealerCodeCredit,address:c.address_dealerCodeCredit},e.workFlowInfoHandler()})}}}},kmGt:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("IHPB"),i=n(r),o=a("3cXf"),s=n(o),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),h=n(f),m=a("+62G"),v=n(m),p=a("vS5q"),C=a("1KNX"),y=n(C),_=a("7biW"),g=n(_);t.default={name:"PopWarehouseStoreList",props:{defaultValue:{type:Object,default:function(){return{}}},storeParams:{type:Object,default:function(){return{}}}},directives:{TransferDom:v.default},components:{Icon:c.default,Popup:h.default,RScroll:y.default,DSearch:g.default},data:function(){return{storeStorePop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},computed:{noAddress:function(){var e=this.selItems,t=e.warehouseProvince,a=void 0===t?"":t,n=e.warehouseCity,r=void 0===n?"":n,i=e.warehouseDistrict,o=void 0===i?"":i,s=e.warehouseAddress,l=void 0===s?"":s;return!(a||r||o||l)}},watch:{defaultValue:{handler:function(e){this.selItems=this.defaultValue?(0,d.default)({},this.defaultValue):{}},immediate:!0},storeParams:{handler:function(e,t){var a=(0,s.default)(e);(0,s.default)(t)!==a&&(this.resetCondition(),this.getObjWarehouseRel())},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.storeStorePop=!1},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this.getObjWarehouseRel()},showSelIcon:function(e){return this.selItems.warehouseCode===e.warehouseCode},resetCondition:function(){this.page=1,this.hasNext=!0,this.listData=[]},selThis:function(e,t){this.storeStorePop=!1,this.selItems=e,this.$emit("sel-store",this.selItems)},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getObjWarehouseRel:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,i.default)(t),[{operator:"like",value:this.srhInpTx,property:"warehouseName"}])),(0,p.getObjWarehouseRel)((0,d.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(t)},this.storeParams)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,o=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+o.length,e.listData=1===e.page?o:[].concat((0,i.default)(e.listData),(0,i.default)(o)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getObjWarehouseRel()},onPullingUp:function(){this.page++,this.getObjWarehouseRel()},warehouseClick:function(){this.storeStorePop=!this.storeStorePop}},created:function(){}}},kotN:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"basic-container"},[a("div",{staticClass:"basic-info-main"},[a("header",{staticClass:"basic_header"},[a("div",{staticClass:"basic_title vux-1px-l"},[e._v("经办信息")]),e._v(" "),a("div",{staticClass:"basic_process_status"},[e._v(e._s(e.orderInfo.biProcessStatus||"暂无流程"))])]),e._v(" "),a("div",{staticClass:"basic_top"},[a("div",{staticClass:"basic_code"},[a("span",{staticClass:"basic_code_title"},[e._v("交易号：")]),e._v(e._s(e.orderInfo.transCode)+"\n      ")]),e._v(" "),a("div",{staticClass:"basic_status"},[e._v(e._s(e.orderInfo.biStatus))])]),e._v(" "),a("div",{staticClass:"basic_detail"},[a("div",{staticClass:"basic_detail_wrapper"},[a("div",{staticClass:"basic_detail_item"},[a("span",{staticClass:"basic_detail_title"},[e._v("经办人:")]),e._v(" "),a("span",{staticClass:"basic_detail_value"},[e._v(e._s(e.orderInfo.handlerName))])]),e._v(" "),a("div",{staticClass:"basic_detail_item"},[a("span",{staticClass:"basic_detail_title"},[e._v("经办组织:")]),e._v(" "),a("span",{staticClass:"basic_detail_value"},[e._v(e._s(e.orderInfo.handlerUnitName))])])]),e._v(" "),a("div",{staticClass:"basic_detail_wrapper"},[a("div",{staticClass:"basic_detail_item"},[a("span",{staticClass:"basic_detail_title"},[e._v("创建人:")]),e._v(" "),a("span",{staticClass:"basic_detail_value"},[e._v(e._s(e.orderInfo.creatorName))])]),e._v(" "),a("div",{staticClass:"basic_detail_item"},[a("span",{staticClass:"basic_detail_title"},[e._v("经办职位:")]),e._v(" "),a("span",{staticClass:"basic_detail_value"},[e._v(e._s(e.orderInfo.handlerRoleName))])])]),e._v(" "),a("div",{staticClass:"basic_detail_wrapper handler_entity"},[a("div",{staticClass:"basic_detail_item"},[a("span",{staticClass:"basic_detail_title"},[e._v("经办主体:")]),e._v(" "),a("span",{staticClass:"basic_detail_value"},[e._v(e._s(e.orderInfo.handlerEntityName))])])]),e._v(" "),a("div",{staticClass:"basic_detail_wrapper"},[a("div",{staticClass:"basic_detail_item"},[a("span",{staticClass:"basic_detail_title"},[e._v("修改时间:")]),e._v(" "),a("span",{staticClass:"basic_detail_value"},[e._v(e._s(e._f("dateFormat")(e.orderInfo.modTime)))])])])])]),e._v(" "),e.projectInfo.projectName?a("div",{staticClass:"project-container vux-1px-t"},[a("div",{staticClass:"project_title"},[e._v("项目信息")]),e._v(" "),a("div",{staticClass:"project_item"},[a("i",{staticClass:"icon icon-project"}),e._v(" "),a("span",{staticClass:"project_item_title"},[e._v("项目名称: ")]),e._v(" "),a("span",{staticClass:"project_item_value"},[e._v(e._s(e.projectInfo.projectName))])]),e._v(" "),a("div",{staticClass:"project_item"},[a("i",{staticClass:"icon icon-type"}),e._v(" "),a("span",{staticClass:"project_item_title"},[e._v("项目类型: ")]),e._v(" "),a("span",{staticClass:"project_item_value"},[e._v(e._s(e.projectInfo.projectType))])])]):e._e()])},r=[],i={render:n,staticRenderFns:r};t.a=i},kpbF:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getProfit=t.getOffBalance=t.getViewList=t.getView=t.getListClassfiy=void 0;var r=a("GOq4"),i=n(r),o=a("kSI7"),s=n(o);t.getListClassfiy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.ajax({url:"/H_roleplay-si/ps/account/getEntryView",data:e}).catch(function(e){return(0,s.default)(e)})},t.getView=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.ajax({url:"/account-api/account/getView",data:e}).catch(function(e){return(0,s.default)(e)})},t.getViewList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.ajax({url:"/account-api/account/getView",data:e}).catch(function(e){return(0,s.default)(e)})},t.getOffBalance=function(){return i.default.ajax({url:"/account-api/account/getOffBalanceForMobile"}).catch(function(e){return(0,s.default)(e)})},t.getProfit=function(){return i.default.ajax({url:"/account-api/account/getProfitForMobile"}).catch(function(e){return(0,s.default)(e)})};t.default={}},kriB:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["-moz-box-","-webkit-box-",""];t.default={name:"flexbox-item",props:{span:[Number,String],order:[Number,String]},beforeMount:function(){this.bodyWidth=document.documentElement.offsetWidth},methods:{buildWidth:function(e){return"number"==typeof e?e<1?e:e/12:"string"==typeof e?e.replace("px","")/this.bodyWidth:void 0}},computed:{style:function(){var e={},t="horizontal"===this.$parent.orient?"marginLeft":"marginTop";if(1*this.$parent.gutter!=0&&(e[t]=this.$parent.gutter+"px"),this.span)for(var a=0;a<n.length;a++)e[n[a]+"flex"]="0 0 "+100*this.buildWidth(this.span)+"%";return void 0!==this.order&&(e.order=this.order),e}},data:function(){return{bodyWidth:0}}}},ksvY:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("4YfN"),s=n(o),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),h=n(f),m=a("6q39"),v=n(m),p=a("fEP3"),C=a("1KNX"),y=n(C),_=a("7biW"),g=n(_);a("zWMP");t.default={name:"work-list-pop",props:{show:{type:Boolean,default:!1},params:{type:Object,default:function(){return{calc_rel_code:7051,view_id:"view_94"}}},workType:{type:String,default:"派工"}},components:{Icon:c.default,Popup:h.default,LoadMore:v.default,RScroll:y.default,MSearch:g.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],scrollOptions:{click:!0},btnText:"关闭",filterList:[{name:"物料名称",value:"inventoryName"},{name:"工序名称",value:"procedureName"},{name:"派工单号",value:"transCode"}],filterProperty:"",taskWorkList:{}}},watch:{show:{handler:function(e){this.showPop=e}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){var t=!1;return this.selItems&&this.selItems.every(function(a){return a.orderCode&&e.matCode===a.matCode&&e.transCode===a.transCode&&e.orderCode===a.orderCode?(t=!0,!1):!(!a.orderCode&&e.matCode===a.matCode&&e.transCode===a.transCode)||(t=!0,!1)}),t&&(this.btnText="发起工单"+this.workType),t},selThis:function(e,t){var a=this.selItems,n=a.findIndex(function(t){return t.transCode===e.transCode&&t.matCode===e.matCode});if(e.orderCode&&(n=a.findIndex(function(t){return t.transCode===e.transCode&&t.matCode===e.matCode&&t.orderCode===e.orderCode})),-1!==n)return a.splice(n,1),void(a.length||(this.btnText="关闭"));this.selItems=[e]},getWorkOrderTask:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,p.getTaskWorkList)((0,s.default)({},this.params,{filter:(0,i.default)(t)})).then(function(t){var a=t.data,n=void 0===a?[]:a;e.taskWorkList=n})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,r=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=r,this.taskWorkList={},this.$refs.bScroll.scrollTo(0,0),this.getWorkOrderTask()},btnHandle:function(){"关闭"!==this.btnText&&this.$emit("sel-task",this.selItems),this.showPop=!1}},created:function(){this.getWorkOrderTask()}}},ku52:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["微笑","撇嘴","色","发呆","得意","流泪","害羞","闭嘴","睡","大哭","尴尬","发怒","调皮","呲牙","惊讶","难过","酷","冷汗","抓狂","吐","偷笑","可爱","白眼","傲慢","饥饿","困","惊恐","流汗","憨笑","大兵","奋斗","咒骂","疑问","嘘","晕","折磨","衰","骷髅","敲打","再见","擦汗","抠鼻","鼓掌","糗大了","坏笑","左哼哼","右哼哼","哈欠","鄙视","委屈","快哭了","阴险","亲亲","吓","可怜","菜刀","西瓜","啤酒","篮球","乒乓","咖啡","饭","猪头","玫瑰","凋谢","示爱","爱心","心碎","蛋糕","闪电","炸弹","刀","足球","瓢虫","便便","月亮","太阳","礼物","拥抱","强","弱","握手","胜利","抱拳","勾引","拳头","差劲","爱你","NO","OK","爱情","飞吻","跳跳","发抖","怄火","转圈","磕头","回头","跳绳","挥手","激动","街舞","献吻","左太极","右太极"];t.default={name:"wechat-emotion",mounted:function(){var e=this,t=this.$el.innerHTML;this.index=n.indexOf(t),this.backgroundPositionX=24*-this.index;var a="";a=this.isGif?'<img src="https://res.wx.qq.com/mpres/htmledition/images/icon/emotion/'+this.index+'.gif">':'<span class="vux-static-emotion" style="background:url(https://res.wx.qq.com/mpres/htmledition/images/icon/emotion/default218877.gif) '+this.backgroundPositionX+'px 0;"></span>',this.$nextTick(function(){e.$el.innerHTML=a})},props:{isGif:Boolean},data:function(){return{src:"",backgroundPositionX:0}}}},l5aY:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("IhpF"),s=n(o),l=a("kNGm"),d=n(l),u=a("iR2W"),c=n(u),f=a("vS5q"),h=a("Qg39"),m=a("/MtV");a("B6iy"),a("cfw3"),a("vfE7"),a("qYjU"),a("B6j4");var v=function(e,t,a){var n="",r=e.length,i=a,o=Math.ceil(r/i);if(r>i)for(var s=0;s<o;s++){var l="",d=s*i,u=d+i;l=s==o-1?e.substring(d,r):e.substring(d,u)+t,n+=l}else n=e;return n};t.default={data:function(){return{pieOption:{title:{text:"客户交易往来分析",x:"center",top:5},legend:{orient:"vertical",left:"6%",top:"65%",itemGap:10,data:[]},tooltip:{confine:!0,textStyle:{fontSize:12},formatter:function(e){return e.data.name+"<br/>销售额: ￥"+(0,c.default)(e.value)+" ("+e.percent+"%)"}},color:["#07689f","#a2d5f2","#ff7e67","#abedd8","#283c63","#bad7df"],series:[{name:"公司名称",type:"pie",radius:"40%",center:["50%","38%"],data:[],label:{fontSize:12,formatter:function(e){return v(e.data.name,"\n",6)}},labelLine:{}}]},timeFilter:{startDate:"请选择",EndDate:"请选择"},staffRank:[],defaultTips:"",isReset:!1,dateShow:!1,businessAmount:0}},filters:{toFixed:h.toFixed,numberComma:c.default},components:{Countup:s.default},methods:{getStart:function(){var e=this;this.$vux.datetime.show({cancelText:"取消",confirmText:"确定",value:this.timeFilter.startDate,endDate:this.preDate,onConfirm:function(t){e.timeFilter.startDate=t}})},getEnd:function(){var e=this;this.$vux.datetime.show({cancelText:"取消",confirmText:"确定",value:this.timeFilter.EndDate,endDate:this.toDay,onConfirm:function(t){e.timeFilter.EndDate=t}})},resetData:function(){this.timeFilter={startDate:"请选择",EndDate:"请选择"}},confirm:function(){"请选择"!==this.timeFilter.startDate&&"请选择"!==this.timeFilter.EndDate?this.defaultTips=this.timeFilter.startDate+" ~ "+this.timeFilter.EndDate:"请选择"!==this.timeFilter.EndDate?this.defaultTips="截止至 "+this.timeFilter.EndDate:"请选择"!==this.timeFilter.startDate?this.defaultTips=this.timeFilter.startDate+" ~ "+this.toDay+" [今日]":this.defaultTips="截止至 "+this.toDay,this.dateShow=!1;var e={startData:"请选择"===this.timeFilter.startDate?"":this.timeFilter.startDate,endData:"请选择"===this.timeFilter.EndDate?"":this.timeFilter.EndDate};this.dashboardData(e)},dashboardData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,f.getDashboard)(t).then(function(t){var a=t.total,n=void 0===a?0:a,r=t.dealerPie,o=(t.productSalesRanking,t.salesmanRanking),s=m.init(document.getElementById("pie")),l=[];e.staffRank=o;var d=!0,u=!1,c=void 0;try{for(var f,v=(0,i.default)(r);!(d=(f=v.next()).done);d=!0){var p=f.value,C={value:p.total,name:p.dealerName};l.push(C)}}catch(e){u=!0,c=e}finally{try{!d&&v.return&&v.return()}finally{if(u)throw c}}e.businessAmount=(0,h.toFixed)(n),e.$set(e.pieOption.series[0],"data",l),e.$set(e.pieOption.legend,"data",l),s.setOption(e.pieOption)})}},created:function(){this.toDay=(0,d.default)(new Date,"YYYY-MM-DD"),this.preDate=(0,d.default)(new Date((new Date).getTime()-864e5),"YYYY-MM-DD"),this.defaultTips="截止至 "+this.toDay,this.dashboardData()}}},l7FO:function(e,t,a){"use strict";function n(e){a("td+E")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("Wg9S");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("ZzL0"),s=a.n(o),l=a("YDJs"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-49f190ef",null);t.default=c.exports},l8j0:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("ZLEe"),i=n(r),o=a("DEQU"),s=n(o),l=a("HXPS"),d=n(l),u=a("UwQd"),c=n(u),f=a("xZPP"),h=n(f),m=a("Bv05"),v=n(m),p=a("BzUK"),C=n(p),y=a("cEbJ"),_=n(y),g=a("IFIB"),b=n(g),w={email:{fn:v.default,msg:"邮箱格式"},"china-mobile":{fn:function(e){return(0,C.default)(e,"zh-CN")},msg:"手机号码"},"china-name":{fn:function(e){return e.length>=2&&e.length<=6},msg:"中文姓名"}};t.default={name:"x-input",created:function(){var e=this;this.currentValue=void 0===this.value||null===this.value?"":this.mask?this.maskValue(this.value):this.value,!this.required||void 0!==this.currentValue&&""!==this.currentValue||(this.valid=!1),this.handleChangeEvent=!0,this.debounce&&(this._debounce=(0,_.default)(function(){e.$emit("on-change",e.currentValue)},this.debounce))},beforeMount:function(){this.$slots&&this.$slots["restricted-label"]&&(this.hasRestrictedLabel=!0),this.$slots&&this.$slots["right-full-height"]&&(this.hasRightFullHeightSlot=!0)},beforeDestroy:function(){this._debounce&&this._debounce.cancel(),window.removeEventListener("resize",this.scrollIntoView)},mixins:[s.default],components:{Icon:d.default,InlineDesc:h.default,Toast:c.default},props:{title:{type:String,default:""},type:{type:String,default:"text"},placeholder:String,value:[String,Number],name:String,readonly:Boolean,disabled:Boolean,keyboard:String,inlineDesc:String,isType:[String,Function],min:Number,max:Number,showClear:{type:Boolean,default:!0},equalWith:String,textAlign:String,autocomplete:{type:String,default:"off"},autocapitalize:{type:String,default:"off"},autocorrect:{type:String,default:"off"},spellcheck:{type:String,default:"false"},novalidate:{type:Boolean,default:!1},iconType:String,debounce:Number,placeholderAlign:String,labelWidth:String,mask:String,shouldToastError:{type:Boolean,default:!0}},computed:{labelStyles:function(){return{width:this.labelWidthComputed||this.$parent.labelWidth||this.labelWidthComputed,textAlign:this.$parent.labelAlign,marginRight:this.$parent.labelMarginRight}},labelClass:function(){return{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}},pattern:function(){if("number"===this.keyboard||"china-mobile"===this.isType)return"[0-9]*"},labelWidthComputed:function(){var e=this.title.replace(/[^x00-xff]/g,"00").length/2+1;if(e<10)return e+"em"},hasErrors:function(){return(0,i.default)(this.errors).length>0},inputStyle:function(){if(this.textAlign)return{textAlign:this.textAlign}},showWarn:function(){return!this.novalidate&&!this.equalWith&&!this.valid&&this.firstError&&(this.touched||this.forceShowError)}},mounted:function(){window.addEventListener("resize",this.scrollIntoView)},methods:{scrollIntoView:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;setTimeout(function(){"INPUT"!==document.activeElement.tagName&&"TEXTAREA"!==document.activeElement.tagName||setTimeout(function(){document.activeElement.scrollIntoViewIfNeeded()},e)})},onClickErrorIcon:function(){this.shouldToastError&&this.firstError&&(this.showErrorToast=!0),this.$emit("on-click-error-icon",this.firstError)},maskValue:function(e){return this.mask?b.default.toPattern(e,this.mask):e},reset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.dirty=!1,this.currentValue=e,this.firstError="",this.valid=!0},clear:function(){this.currentValue="",this.focus(),this.$emit("on-click-clear-icon")},focus:function(){this.$refs.input.focus()},blur:function(){this.$refs.input.blur()},focusHandler:function(e){this.$emit("on-focus",this.currentValue,e),this.isFocus=!0,this.scrollIntoView(500)},onBlur:function(e){this.setTouched(),this.validate(),this.isFocus=!1,this.$emit("on-blur",this.currentValue,e)},onKeyUp:function(e){"Enter"===e.key&&(e.target.blur(),this.$emit("on-enter",this.currentValue,e))},getError:function(){var e=(0,i.default)(this.errors)[0];this.firstError=this.errors[e]},validate:function(){if(void 0!==this.equalWith)return void this.validateEqual();if(this.errors={},!this.currentValue&&!this.required)return void(this.valid=!0);if(!this.currentValue&&this.required)return this.valid=!1,this.errors.required="必填哦",void this.getError();if("string"==typeof this.isType){var e=w[this.isType];if(e){var t=this.currentValue;if("china-mobile"===this.isType&&"999 9999 9999"===this.mask&&(t=this.currentValue.replace(/\s+/g,"")),this.valid=e.fn(t),!this.valid)return this.forceShowError=!0,this.errors.format=e.msg+"格式不对哦~",void this.getError();delete this.errors.format}}if("function"==typeof this.isType){var a=this.isType(this.currentValue);if(this.valid=a.valid,!this.valid)return this.errors.format=a.msg,this.forceShowError=!0,void this.getError();delete this.errors.format}if(this.min){if(this.currentValue.length<this.min)return this.errors.min="最少应该输入"+this.min+"个字符哦",this.valid=!1,void this.getError();delete this.errors.min}if(this.max){if(this.currentValue.length>this.max)return this.errors.max="最多可以输入"+this.max+"个字符哦",this.valid=!1,void(this.forceShowError=!0);this.forceShowError=!1,delete this.errors.max}this.valid=!0},validateEqual:function(){return!this.equalWith&&this.currentValue?(this.valid=!1,void(this.errors.equal="输入不一致")):(this.dirty||this.currentValue.length>=this.equalWith.length)&&this.currentValue!==this.equalWith?(this.valid=!1,void(this.errors.equal="输入不一致")):void(!this.currentValue&&this.required?this.valid=!1:(this.valid=!0,delete this.errors.equal))}},data:function(){return{hasRightFullHeightSlot:!1,hasRestrictedLabel:!1,firstError:"",forceShowError:!1,hasLengthEqual:!1,valid:!0,currentValue:"",showErrorToast:!1,isFocus:!1}},watch:{mask:function(e){e&&this.currentValue&&(this.currentValue=this.maskValue(this.currentValue))},valid:function(){this.getError()},value:function(e){this.currentValue=e},equalWith:function(e){e&&this.equalWith?(e.length===this.equalWith.length&&(this.hasLengthEqual=!0),this.validateEqual()):this.validate()},currentValue:function(e){!this.equalWith&&e&&this.validateEqual(),e&&this.equalWith?(e.length===this.equalWith.length&&(this.hasLengthEqual=!0),this.validateEqual()):this.validate(),this.$emit("input",this.maskValue(e)),this._debounce?this._debounce():this.$emit("on-change",e)}}}},lAuk:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pop-warehouse-container"},[n("div",{staticClass:"warehouse-part",on:{click:e.warehouseClick}},[n("div",{staticClass:"warehouse-info"},[e.selItems.warehouseName?[n("div",{staticClass:"user_info"},[n("span",{staticClass:"user_name"},[e._v(e._s(e.selItems.warehouseName))]),e._v(" "),n("span",{staticClass:"user_tel"},[e._v(e._s(e.selItems.warehouseType))])]),e._v(" "),n("span",{staticClass:"icon-right"})]:[n("div",{staticClass:"title",class:{required:e.isRequired}},[e._v(e._s(e.title))]),e._v(" "),e._m(0)]],2)]),e._v(" "),e.isShowStore&&e.selItems.warehouseCode?n("pop-warehouse-store-list",{attrs:{"store-params":e.warehouseStoreParams,defaultValue:e.warehouseStore},on:{"sel-store":e.selStore}}):e._e(),e._v(" "),e.disabled?e._e():n("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[n("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[n("div",{staticClass:"popup-top"},[n("i",{staticClass:"icon-close",on:{click:e.onHide}})]),e._v(" "),n("div",{staticClass:"trade_pop"},[n("d-search",{on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),n("r-scroll",{ref:"bScroll",staticClass:"pop-list-container",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},[e._l(e.listData,function(t,r){return n("div",{key:r,staticClass:"pop-mater-list-item box_sd",class:{seleted:e.showSelIcon(t)},on:{click:function(a){a.stopPropagation(),e.selThis(t,r)}}},[n("div",{staticClass:"pop-list-main"},[n("img",{staticClass:"warehouse_img",attrs:{src:a("t732"),alt:"warehouse_img"}}),e._v(" "),n("div",{staticClass:"pop-list-info"},[n("div",{staticClass:"withColor"},[n("span",{staticClass:"name"},[e._v(e._s(t.warehouseName))]),e._v(" "),n("span",{staticClass:"type"},[e._v(e._s(t.warehouseType))])]),e._v(" "),n("div",{staticClass:"warehouse-address"},[n("span",[e._v(e._s(t.warehouseProvince)+e._s(t.warehouseCity)+e._s(t.warehouseDistrict)+e._s(t.warehouseAddress))])])])])])}),e._v(" "),n("load-more",{directives:[{name:"show",rawName:"v-show",value:!e.showAddWarehouse&&(e.hasNext||!e.listData.length),expression:"!showAddWarehouse && (hasNext || !listData.length)"}],attrs:{slot:"loadmore","show-loading":e.hasNext,tip:e.tip},slot:"loadmore"}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showAddWarehouse,expression:"showAddWarehouse"}],staticClass:"when_null_conteiner",attrs:{slot:"loadmore"},slot:"loadmore"},[n("div",{staticClass:"when_null"},[n("div",{staticClass:"title"},[e._v("抱歉，没有找到您搜索的内容")]),e._v(" "),n("ul",{staticClass:"tips"},[n("li",[e._v("\n                  不用担心，您马上可以进行 "),n("span",{staticClass:"addNew",on:{click:e.addWarehouse}},[e._v("新增仓库")])]),e._v(" "),n("li",[e._v("\n                  或者检查“输入内容”是否正确\n                ")])])])])],2)],1)])],1)],1)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"picker"},[a("span",{staticClass:"mode"},[e._v("请选择")]),e._v(" "),a("span",{staticClass:"icon-right"})])}],i={render:n,staticRenderFns:r};t.a=i},lI25:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("1WsH"),s=a("vl8n"),l=n(s),d=a("PKHo"),u=n(d);t.default={data:function(){return{jobInfo:{name:"",status:"使用中",type:""},jobType:[{name:"管理类",value:"管理类"},{name:"营销类",value:"营销类"},{name:"技术类",value:"技术类"},{name:"专业类",value:"专业类"},{name:"操作类",value:"操作类",status:"C"}],jobStatus:[{name:"停用",value:"停用"},{name:"未使用",value:"未使用"},{name:"使用中",value:"使用中"},{name:"草稿",value:"草稿"}],jobId:null}},components:{RPicker:l.default},mixins:[u.default],methods:{submit:function(){var e=this;for(var t in this.jobInfo)"string"==typeof this.jobInfo[t]&&this.jobInfo[t].indexOf(" ")>=0&&(this.jobInfo[t]=this.jobInfo[t].replace(/\s/g,""));this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){switch(e.jobInfo.type){case"营销类":e.jobInfo.changeType="Y";break;case"专业类":e.jobInfo.changeType="Z";break;case"技术类":e.jobInfo.changeType="J";break;case"操作类":e.jobInfo.changeType="C";break;case"管理类":e.jobInfo.changeType="M"}switch(e.jobInfo.status){case"使用中":e.jobInfo.changeStatus=1;break;case"未使用":e.jobInfo.changeStatus=2;break;case"草稿":e.jobInfo.changeStatus=3;break;case"停用":e.jobInfo.changeStatus=-1}var t={describe:"",name:e.jobInfo.name,type:e.jobInfo.changeType,status:e.jobInfo.changeStatus};e.jobId?(t.id=e.jobId,(0,o.update)(t).then(function(t){t.success?(e.$emit("change",!0),e.$vux.alert.show({content:"修改成功",onHide:function(){e.$router.go(-1)}})):e.$vux.alert.show({content:t.message})})):(0,o.save)(t).then(function(t){t.id?(e.$emit("change",!0),e.$vux.alert.show({content:"提交成功",onHide:function(){e.$router.go(-1)}})):e.$vux.alert.show({content:t.message})})}})},save:function(){var e=this,t="";if([{key:"name",message:"【职位名称】"},{key:"type",message:"【职位类型】"}].every(function(a){return""!==e.jobInfo[a.key]||(t=a.message+"不能为空",!1)}),t)return void this.$vux.alert.show({content:t});this.submit()},findData:function(){var e=this;return(0,o.getJobList)({filter:(0,i.default)([{operator:"eq",value:this.jobId,property:"id"}])}).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;n.forEach(function(e){switch(e.type){case"Y":e.type="营销类";break;case"Z":e.type="专业类";break;case"J":e.type="技术类";break;case"C":e.type="操作类";break;case"M":e.type="管理类"}switch(e.status){case 1:e.status="使用中";break;case 2:e.status="未使用";break;case 3:e.status="草稿";break;case-1:e.status="停用"}}),e.jobInfo=n[0],e.$loading.hide()}).catch(function(t){e.$loading.hide()})}},created:function(){var e=this;this.$loading.show();var t=this.$route.query;if(t.id)return this.jobId=t.id,void this.findData().then(function(){e.$loading.hide()});t.jobType&&(this.jobInfo.type=t.jobType),this.$loading.hide()}}},lK9Z:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("3cXf"),s=n(o),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),h=n(f),m=a("SAzG"),v=n(m),p=a("7g+Q"),C=n(p),y=a("PzEQ"),_=n(y),g=a("jnZd"),b=n(g),w=a("u28h"),I=n(w),D=a("kNGm"),x=(n(D),a("0AQX")),P=a("HyXB"),S=(a("jLp1"),a("bKg5")),k=n(S),L=a("55ug"),N=n(L),M=a("vl8n"),T=n(M),A=a("+WR7"),O=n(A),R=a("zWMP"),j=a("Qg39"),B={draftNumber:"",draftType:"",accepter:"",tdAmount:"",deposit:"",draftDate:"",draftDueDate:"",comment:""};t.default={mixins:[k.default],components:{Cell:c.default,Group:h.default,Popup:C.default,XInput:v.default,XTextarea:_.default,PopupPicker:b.default,RPicker:T.default,PopBaseinfo:O.default,PopDealerList:N.default,Datetime:I.default},data:function(){return{listId:"1745ffdd-1b6a-4fe5-9c5b-6e5394bd4faf",biReferenceId:"",selectedCost:[],costIndex:0,transCode:"",formData:{biComment:"",biProcessStatus:""},dealerInfo:{},orderList:[(0,d.default)({},B)],dealerParams:{dealerLabelName:"供应商,经销供应商"},draftTypeList:["银行承兑","商业承兑"]}},computed:{thenTotalAmntBal:function(){var e=0;return this.orderList.forEach(function(t){t.tdAmount&&(e=(0,R.accAdd)(e,t.tdAmount))}),(0,j.toFixed)(e)},tdAmount:function(){var e=0;return this.orderList.forEach(function(t){t.deposit&&(e=(0,R.accAdd)(e,t.deposit))}),(0,j.toFixed)(e)}},methods:{submitOrder:function(){var e=this,t="",a=[],n=[{key:"draftNumber",message:"请输入汇票号"},{key:"draftType",message:"请选择类型"},{key:"accepter",message:"请输入承兑人"},{key:"tdAmount",message:"请输入金额"},{key:"deposit",message:"请输入保证金"},{key:"draftDate",message:"请选择出票日"},{key:"draftDueDate",message:"请选择到期日"}];if(this.dealerInfo.dealerCode||(t="请选择往来"),t||this.orderList.every(function(e){return n.every(function(a){return e[a.key]||0===e[a.key]||(t=a.message),!t}),a.push({tdId:e.tdId||"",draftNumber:e.draftNumber,draftType:e.draftType,accepter:e.accepter,tdAmount:e.tdAmount,deposit:e.deposit,draftDate:e.draftDate,draftDueDate:e.draftDueDate,comment:e.comment}),!t}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=P.saveAndStartWf,n=(0,i.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,s.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:e.formData.biComment,formData:(0,s.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.formData.handler,modifer:e.formData.handler,order:{dealerName_dealerDebit:e.dealerInfo.dealerName,dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,thenAmntBalCopy2:e.dealerInfo.amntBal,thenAlreadyAmnt:e.thenTotalAmntBal,dataSet:a},outPut:{dataSet:[{fundName_cashOutCode:null,cashOutCode:"",cashType_cashOutCode:"",thenAmntBalCopy1:0,tdAmountCopy1:e.tdAmount}]},inPut:{dataSet:[{fundName_cashInCode:null,cashInCode:"",cashType_cashInCode:"",thenAmntBal:0,tdAmount:e.tdAmount,tdId:""}]}})),wfPara:(0,s.default)(n)};e.isResubmit&&(r.biReferenceId=e.biReferenceId,t=P.saveAndCommitTask),e.processCode.length||(t=P.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,x.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.attachment,n=void 0===a?[]:a,r=t.listId,i=void 0===r?"":r,o=(t.biComment,t.biReferenceId),s=void 0===o?"":o,l=t.formData,u=void 0===l?{}:l;e.attachment=n,e.listId=i,e.biReferenceId=s,e.handlerDefault={handler:u.handler,handlerName:u.handlerName,handlerUnit:u.handlerUnit,handlerUnitName:u.handlerUnitName,handlerRole:u.handlerRole,handlerRoleName:u.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:u.biComment,biId:u.biId,biProcessStatus:u.biProcessStatus,creator:u.creator,modifer:u.modifer});var c=u.order,f=void 0===c?{}:c,h=f.dataSet,m=void 0===h?[]:h;e.dealerInfo={dealerName:f.dealerName_dealerDebit,dealerCode:f.dealerDebit,dealerLabelName:f.drDealerLabel,amntBal:f.thenAmntBalCopy2,thenTotalAmntBal:f.thenAlreadyAmnt},e.orderList=m,e.$loading.hide()})},hasDraftData:function(){return!!this.dealerInfo.dealerCode&&(0,i.default)({},"SDCDHP_DATA",{formData:this.formData,dealerInfo:this.dealerInfo,orderList:this.orderList})},getRelationData:function(){},selDealer:function(e){this.dealerInfo=(0,d.default)({},e)},addOrder:function(){this.orderList.push((0,d.default)({},B))},deleteOrder:function(){this.orderList.pop()},checkAmt:function(e,t){switch(e){case"tdAmountCopy1":this.dealerInfo.tdAmountCopy1=(0,j.toFixed)(this.dealerInfo.tdAmountCopy1);break;default:e[t]=(0,j.toFixed)(e[t])}}},created:function(){var e=sessionStorage.getItem("SDCDHP_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.orderList=t.orderList,sessionStorage.removeItem("SDCDHP_DATA")}}}},lKql:function(e,t){},lOVW:function(e,t,a){"use strict";function n(e){a("vhi9")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("CxQM");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("p/zx"),s=a.n(o),l=a("BH03"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-5a83219e",null);t.default=c.exports},lOZF:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("iR2W"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"OpButton",props:{isModify:{type:Boolean,default:!1},hide:{type:Boolean,default:!1},tdAmount:{type:[String,Number],default:0},taxAmount:{type:[String,Number],default:0},allCheck:{type:Boolean,default:!1}},methods:{checkAll:function(){this.$emit("on-check-all")},submit:function(){this.$emit("on-submit")},deleteItem:function(){this.$emit("on-delete")}},filters:{numberComma:r.default}}},lQN8:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("apply-matter-part",{attrs:{"show-materiel-pop":e.showMaterielPop,"show-matter-pop":e.showMatterPop,"filter-list":e.filterList,actions:e.actions,btnInfo:e.btnInfo,"matter-list":e.matterList,"default-value":[],"matter-pop-config":e.matterPopConfig,"matter-edit-config":e.matterEditConfig,"order-list-title":e.orderListTitle,"matter-params":e.matterParams,"add-matter-fn":e.addMatter,"sel-matter-fn":e.selMatter,"sel-items":e.selItems,"matter-modify-class":e.matterModifyClass,"stop-order-fn":e.stopOrder,"get-matter-modify-fn":e.getMatterModify,"show-delete-fn":e.showDelete,"show-sel-icon-fn":e.showSelIcon,"del-click-fn":e.delClick,"chosen-matter":e.matter,"check-amt-fn":e.checkAmt,"sel-confirm-fn":e.selConfirm,"btn-is-hide":e.btnIsHide},on:{"show-down-modify-pop":e.shutDownModify},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_other"},[a("div",[n.price?a("span",{staticClass:"price"},[e._v("\n                标准价格: "),a("span",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price))])]):e._e(),e._v(" "),n.specialReservePrice?a("span",{staticClass:"price"},[e._v("\n                特批底价: "),a("span",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.specialReservePrice))])]):e._e()])])]}}]),model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"btn-item",on:{click:e.save}},[e._v("提交")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},lTs5:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList,"status-data":e.currentStage,showStatus:!1},on:{"sel-item":e.selItem},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("apply-matter-part",{attrs:{"show-materiel-pop":e.showMaterielPop,"show-matter-pop":e.showMatterPop,"filter-list":e.filterList,actions:e.actions,btnInfo:e.btnInfo,"matter-list":e.orderList,"default-value":e.matterList,"matter-pop-config":e.matterPopConfig,"matter-edit-config":e.matterEditConfig,"order-list-title":e.orderListTitle,"matter-params":e.matterParams,"add-matter-fn":e.getMatter,"sel-matter-fn":e.selMatter,"sel-items":e.selItems,"matter-modify-class":e.matterModifyClass,"stop-order-fn":e.stopOrder,"get-matter-modify-fn":e.getMatterModify,"show-delete-fn":e.showDelete,"show-sel-icon-fn":e.showSelIcon,"del-click-fn":e.delClick,"chosen-matter":e.matter,"check-amt-fn":e.checkAmt,"sel-confirm-fn":e.selConfirm,"btn-is-hide":e.btnIsHide},on:{"show-down-modify-pop":e.shutDownModify},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[n.tdQty?a("div",{staticClass:"mater_other"},[a("span",[e._v("\n              本次申请: "),a("span",{staticClass:"mater_price"},[e._v(e._s(n.tdQty))])])]):e._e()]}}]),model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-circle-outline 'outline' v-show=selItems.length !== matterList.length",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num"},[a("span",{staticClass:"total_price"},[a("span",{staticStyle:{fontSize:".14rem"}},[e._v("合计: ")]),e._v(e._s(e.totalNum)+"\n      ")])]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},lW8f:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("3cXf"),s=n(o),l=a("IHPB"),d=n(l),u=a("7g+Q"),c=n(u),f=a("+62G"),h=n(f),m=a("6q39"),v=n(m),p=a("HyXB"),C=a("1KNX"),y=n(C),_=a("7biW"),g=n(_),b=a("Pkp+"),w=n(b);t.default={name:"BaseInfo",props:{defaultValue:{type:Object,default:function(){return{}}},handleOrgList:{type:Array,default:function(){return[]},required:!0},userRoleList:{type:Array,default:function(){return[]},required:!0},requiredField:{type:String,default:"group"},statusData:{type:Array,default:function(){return[]}},showStatus:{type:Boolean,default:!0},processStatus:{type:String,default:""}},directives:{TransferDom:h.default},components:{Popup:c.default,RScroll:y.default,DSearch:g.default,LoadMore:v.default,RPicker:w.default},data:function(){return{page:1,limit:50,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},srhInpTx:"",showPop:!1,isSetInitial:!1,selItems:{},currentUser:{},role:"",group:"",listData:[],roleList:[],groupList:[],biProcessStatus:"",currentStatus:""}},watch:{defaultValue:function(e){this.setDefaultValue()},biProcessStatus:function(e){this.$emit("input",e)},processStatus:function(e){this.biProcessStatus=e}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},onPullingUp:function(){this.page++,this.getlistUsers()},showSelIcon:function(e){return""+this.selItems.userId==""+e.userId},getDefaultImg:function(e){var t=a("男"===e.gender?"Fuf7":"0gu7");return e&&(e.photo=t),t},changeGroup:function(e){var t=this;this.selItems.handlerUnitName=e,this.groupList.forEach(function(a){if(a.name===e)return t.selItems.handlerUnit=a.userGroupId,!1});var a={handler:this.selItems.userId,handlerName:this.selItems.nickname,handlerUnit:this.selItems.handlerUnit,handlerUnitName:this.selItems.handlerUnitName,handlerRole:this.selItems.handlerRole,handlerRoleName:this.selItems.handlerRoleName};this.$emit("sel-item",a)},changeRole:function(e){var t=this;this.selItems.handlerRoleName=e,this.roleList.forEach(function(a){if(a.name===e)return t.selItems.handlerRole=a.userGroupId,!1});var a={handler:this.selItems.userId,handlerName:this.selItems.nickname,handlerUnit:this.selItems.handlerUnit,handlerUnitName:this.selItems.handlerUnitName,handlerRole:this.selItems.handlerRole,handlerRoleName:this.selItems.handlerRoleName};this.$emit("sel-item",a)},selThis:function(e,t){this.isSetInitial=!0,this.showPop=!1,this.selItems=e,this.getNewHandleORG(),this.getNewUserRole(),this.changeGroup(this.group),this.changeRole(this.role)},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getlistUsers()},getlistUsers:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"nickname"}])),(0,p.listUsers)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+i.length,e.listData=1===e.page?i:[].concat((0,d.default)(e.listData),(0,d.default)(i)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},setDefaultValue:function(){this.selItems=this.defaultValue?(0,i.default)({},this.defaultValue,{userId:this.defaultValue.handler,nickname:this.defaultValue.handlerName,group:this.defaultValue.handlerUnitName,role:this.defaultValue.handlerRoleName}):{},this.group=this.selItems.handlerUnitName,this.role=this.selItems.handlerRoleName,this.$route.query.transCode&&(this.getNewHandleORG(),this.getNewUserRole()),this.defaultORG(),this.defaultUserRole()},defaultORG:function(){var e=this;this.groupList=[],this.handleOrgList.forEach(function(t){e.groupList.push((0,i.default)({},t,{name:t.userGroupName,value:t.userGroupName}))})},defaultUserRole:function(){var e=this;this.roleList=[],this.userRoleList.forEach(function(t){e.roleList.push((0,i.default)({},t,{name:t.userGroupName,value:t.userGroupName}))})},getNewHandleORG:function(){var e=this;return(0,p.getGroupByUserId)(this.selItems.userId).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;e.isSetInitial&&(e.group=""),e.groupList=[],n.forEach(function(t){e.groupList.push((0,i.default)({},t,{name:t.userGroupName,value:t.userGroupName}))}),n.length&&e.isSetInitial&&(e.group=n[0].userGroupName,e.selItems.handlerUnit=n[0].userGroupId)})},getNewUserRole:function(){var e=this;return(0,p.getRoleByUserId)(this.selItems.userId).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;e.isSetInitial&&(e.role=""),e.roleList=[],n.forEach(function(t){e.roleList.push((0,i.default)({},t,{name:t.userGroupName,value:t.userGroupName}))}),n.length&&e.isSetInitial&&(e.role=n[0].userGroupName,e.selItems.handlerRole=n[0].userGroupId)})}},created:function(){this.getlistUsers(),this.setDefaultValue()}}},leoE:function(e,t){},lf2c:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("4YfN"),s=n(o),l=a("KH7x"),d=n(l),u=a("3cXf"),c=n(u),f=a("HzJ8"),h=n(f),m=a("BGNQ"),v=n(m),p=a("z5TY"),C=n(p),y=a("SAzG"),_=n(y),g=a("PzEQ"),b=n(g),w=a("0AQX"),I=a("HyXB"),D=a("QHLv"),x=a("bKg5"),P=n(x),S=a("Pkp+"),k=n(S),L=a("aumL"),N=n(L),M=a("+WR7"),T=n(M),A=a("N2r1"),O=n(A),R=a("lsbD"),j=n(R),B=a("Qg39"),E=a("zWMP");t.default={data:function(){return{listId:"080147c6-05ea-4ae7-9390-49e8e0379a11",dealerInfo:{dealerName_dealerCodeCredit:"",dealerCodeCredit:"",crDealerLabel:"",tdCreditLine:"",thenAmntBal:"",thenAlreadyAmnt:0,thenTotalAmntBal:0,differenceAmount:0,tdAmount:0},formData:{biId:"",biComment:"",biProcessStatus:""},cashInfo:{fundName_cashInCode:"",cashInCode:"",cashType_cashInCode:"",thenAmntBalCopy1:"",tdAmountCopy1:""},costList:[{}],biReferenceId:"",showCostPop:!1,selectedCost:[],costIndex:null,showFundPop:!1,selectedFund:[],project:{}}},components:{Cell:v.default,Group:C.default,XInput:_.default,XTextarea:b.default,RPicker:k.default,PopFundList:N.default,PopBaseinfo:T.default,PopCostList:O.default,OpButton:j.default},mixins:[P.default],computed:{departId:function(){return this.formData.handlerUnit},creatorName:function(){return this.formData.handlerName},differenceAmount:function(){var e=0,t=(0,E.accSub)(this.dealerInfo.thenAmntBal,this.dealerInfo.thenAlreadyAmnt);return e=(0,E.accAdd)(t,this.dealerInfo.thenTotalAmntBal),(0,B.toFixed)(e)}},watch:{creatorName:function(e,t){t&&(this.costList=[{}]),this.getEmployeeBal()},costList:{handler:function(e){var t=0;e.forEach(function(e){e.tdAmount&&(e.taxAmount=0,e.noTaxAmount=(0,B.toFixed)((0,E.accSub)(e.tdAmount,e.taxAmount)),t=(0,E.accAdd)(t,e.tdAmount))}),this.tdAmount=(0,B.toFixed)(t),this.dealerInfo.thenAlreadyAmnt=(0,B.toFixed)(t),this.dealerInfo.thenTotalAmntBal=(0,B.toFixed)(t)},deep:!0},dealerInfo:{handler:function(e){this.cashInfo.tdAmountCopy1=e.thenTotalAmntBal},deep:!0},cashInfo:{handler:function(e){e.thenAmntBalCopy1&&e.tdAmountCopy1>e.thenAmntBalCopy1&&(e.tdAmountCopy1=e.thenAmntBalCopy1)},deep:!0},departId:{handler:function(e,t){this.matterParams.data&&null!=this.matterParams.data.groupId&&(this.matterParams.data.groupId=e),t&&(this.costList=[{}])}},project:{handler:function(e){if(e.project){var t=!0,a=!1,n=void 0;try{for(var r,i=(0,h.default)(this.baseinfoExtConfig);!(t=(r=i.next()).done);t=!0){var o=r.value;if("project"===o.fieldCode){var s=!0,l=!1,d=void 0;try{for(var u,c=(0,h.default)(o.remoteData);!(s=(u=c.next()).done);s=!0){var f=u.value;if(f.name===e.project){this.project.projectType_project=f.PROJECT_TYPE;break}}}catch(e){l=!0,d=e}finally{try{!s&&c.return&&c.return()}finally{if(l)throw d}}break}}}catch(e){a=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(a)throw n}}}},deep:!0}},methods:{getEmployeeBal:function(){var e=this,t=[{operator:"eq",value:this.formData.handlerName,property:"nickname"}];(0,D.getEmployeeBal)((0,c.default)(t)).then(function(t){var a=t.tableContent,n=void 0===a?[]:a,r=(0,d.default)(n,1),i=r[0],o=void 0===i?{}:i;e.dealerInfo=(0,s.default)({},e.dealerInfo,{dealerName_dealerCodeCredit:o.nickname,dealerCodeCredit:o.dealerCode,crDealerLabel:o.dealerLabelName,tdCreditLine:o.tdCreditLine,thenAmntBal:o.amntBal})})},addCost:function(){this.costList.push({})},deleteCost:function(e){this.costList.splice(e,1)},getCost:function(e,t){if(this.showCostPop=!0,this.costIndex=t,!e.costName_expCode)return void(this.selectedCost=[]);this.selectedCost=[e]},selMatter:function(e){this.selectedCost.push(e);var t=(0,s.default)({},this.costList[this.costIndex],e,{costName_expCode:e.costName,expCode:e.costCode,costType_expCode:e.costType,expSubject:e.costSubject});this.$set(this.costList,this.costIndex,(0,s.default)({},t))},checkAmt:function(e,t,a){e[t]=Math.abs((0,B.toFixed)(a))},submitOrder:function(){var e=this,t="",a=[],n=!0,r=!1,o=void 0;try{for(var l,d=(0,h.default)(this.costList);!(n=(l=d.next()).done);n=!0){var u=l.value,f={},m=!0,v=!1,p=void 0;try{for(var C,y=(0,h.default)(this.submitMatterField);!(m=(C=y.next()).done);m=!0){var _=C.value;if(!_.hidden&&!_.allowBlank&&!u[_.fieldCode]){t=_.text+"不为空";break}f[_.fieldCode]=null!=u[_.fieldCode]?u[_.fieldCode]:null}}catch(e){v=!0,p=e}finally{try{!m&&y.return&&y.return()}finally{if(v)throw p}}a.push(f)}}catch(e){r=!0,o=e}finally{try{!n&&d.return&&d.return()}finally{if(r)throw o}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=I.saveAndStartWf,n=(0,s.default)({},e.formData,{handlerEntity:e.entity.dealerName,inPut:{dataSet:[(0,s.default)({},e.dealerInfo,{differenceAmount:e.differenceAmount,tdId:e.dealerInfo.tdId||""})]},order:{project:e.project.project,departmentName:e.formData.handlerUnitName,dataSet:a},outPut:{dataSet:[(0,s.default)({},e.cashInfo,{tdIdCopy1:e.cashInfo.tdIdCopy1||""})]}}),r={listId:e.listId,biComment:"",formData:(0,c.default)(n),wfPara:(0,c.default)((0,i.default)({},e.processCode,{businessKey:e.businessKey,createdBy:n.creator}))};e.isResubmit&&(t=I.saveAndCommitTask,r.biReferenceId=e.biReferenceId,r.wfPara=(0,c.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=I.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,w.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,l=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=l;var d=i.order,u=i.outPut,c=i.inPut,f=c.dataSet[0],h=u.dataSet[0];e.dealerInfo={dealerName_dealerCodeCredit:f.dealerName_dealerCodeCredit,dealerCodeCredit:f.dealerCodeCredit,crDealerLabel:f.crDealerLabel,tdCreditLine:f.tdCreditLine,thenAmntBal:f.thenAmntBal,thenAlreadyAmnt:f.thenAlreadyAmnt,thenTotalAmntBal:f.thenTotalAmntBal,differenceAmount:f.differenceAmount,tdAmount:f.tdAmount,tdId:f.tdId},e.handlerDefault={handler:i.handler,handlerName:i.handlerName,handlerUnit:i.handlerUnit,handlerUnitName:i.handlerUnitName,handlerRole:i.handlerRole,handlerRoleName:i.handlerRoleName},e.formData=(0,s.default)({},e.handlerDefault,{biComment:i.biComment,biId:i.biId,biProcessStatus:i.biProcessStatus,creator:i.creator,modifer:i.modifer}),e.cashInfo={fundName_cashInCode:h.fundName_cashInCode,cashInCode:h.cashInCode,cashType_cashInCode:h.cashType_cashInCode,thenAmntBalCopy1:h.thenAmntBalCopy1,tdAmountCopy1:h.tdAmountCopy1,tdIdCopy1:h.tdIdCopy1},e.costList=[],d.dataSet.forEach(function(t){e.costList.push((0,s.default)({},t,{tdId:t.tdId,costName:t.costName_expCode,costCode:t.expCode,costSubject:t.expSubject,costType:t.costType_expCode}))}),e.matterParams.data&&null!=e.matterParams.data.groupId&&(e.matterParams.data.groupId=e.formData.handlerUnit),e.project={project:d.project,projectType_project:d.projectType_project},e.biReferenceId=i.biReferenceId,e.$loading.hide()})},hasDraftData:function(){return(0,i.default)({},"BXYZF_DATA",{dealerInfo:this.dealerInfo,cashInfo:this.cashInfo,costList:this.costList,formData:this.formData,project:this.project})},getDate:function(e,t){var a=this;this.$vux.datetime.show({value:"",confirmText:"确认",cancelText:"取消",onConfirm:function(n){if(null==e[t.fieldCode])return void a.$set(e,t.fieldCode,n);e[t.fieldCode]=n}})},splitConfig:function(e,t){t.editPart=e}},created:function(){var e=sessionStorage.getItem("BXYZF_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.cashInfo=t.cashInfo,this.costList=t.costList,this.project=t.project,sessionStorage.removeItem("BXYZF_DATA")}}}},lfAx:function(e,t){},lgEq:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.contactInfo,configs:e.dealerConfig}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"matter-list":e.matterList},on:{"on-show-more":e.onShowMore}}),e._v(" "),a("other-part",{attrs:{"other-info":e.orderInfo,amt:e.noTaxAmount,"tax-amt":e.taxAmount,count:e.count,attachment:e.attachment}}),e._v(" "),a("pop-matter-detail",{attrs:{show:e.showMatterDetail,item:e.matterDetail},model:{value:e.showMatterDetail,callback:function(t){e.showMatterDetail=t},expression:"showMatterDetail"}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[],i={render:n,staticRenderFns:r};t.a=i},ljdw:function(e,t){},lkpG:function(e,t,a){"use strict";function n(e){a("ukna")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("7fRA");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("xns3"),s=a.n(o),l=a("5gc7"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-52051c80",null);t.default=c.exports},lnNG:function(e,t,a){"use strict";function n(e){a("KQIg")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("tSLf");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("SLsN"),s=a.n(o),l=a("+NW/"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-5cdec846",null);t.default=c.exports},lpBF:function(e,t,a){"use strict";function n(e){a("7W0M")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("+yyE");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("TXh4"),s=a.n(o),l=a("o0+R"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-5f04f08e",null);t.default=c.exports},lqQX:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"Project",props:{projectInfo:{type:Object,default:function(){return{}}}},data:function(){return{}}}},lrFk:function(e,t){},lsbD:function(e,t,a){"use strict";function n(e){a("EXzQ")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("lOZF");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("tHsJ"),s=a.n(o),l=a("81q/"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-30d679a4",null);t.default=c.exports},luHD:function(e,t,a){"use strict";function n(e){a("DMIN")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("AwSw");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("k4WU"),s=a.n(o),l=a("F2bg"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-2bdd7399",null);t.default=c.exports},lwni:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("IHPB"),i=n(r),o=a("3cXf"),s=n(o),l=a("4YfN"),d=n(l),u=a("Jwlx"),c=n(u),f=a("HXPS"),h=n(f),m=a("7g+Q"),v=n(m),p=a("+62G"),C=n(p),y=a("6q39"),_=n(y),g=a("vS5q"),b=a("1KNX"),w=n(b),I=a("7biW"),D=n(I),x=a("bn51"),P=n(x);t.default={name:"PopWarehouseList",props:{title:{type:String,default:"仓库列表"},defaultValue:{type:Object,default:function(){return{}}},defaultStore:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1},isRequired:{type:Boolean,default:!1},filterParams:{type:Array,default:function(){return[]}},getListMethod:{type:String,default:"getWarehouse"},params:{type:Object,default:function(){return{}}},isShowStore:{type:Boolean,default:!1}},directives:{TransferDom:C.default},components:{Icon:h.default,Popup:v.default,RScroll:w.default,DSearch:D.default,LoadMore:_.default,PopWarehouseStoreList:P.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},showAddWarehouse:!1,warehouseStore:{}}},computed:{tip:function(){var e="加载中";return this.hasNext||(e="暂无数据"),e},noAddress:function(){var e=this.selItems,t=e.warehouseProvince,a=void 0===t?"":t,n=e.warehouseCity,r=void 0===n?"":n,i=e.warehouseDistrict,o=void 0===i?"":i,s=e.warehouseAddress,l=void 0===s?"":s;return!(a||r||o||l)},warehouseStoreParams:function(){return{warehouseCode:this.selItems.warehouseCode||""}}},watch:{defaultValue:function(e){this.setDefaultValue()},defaultStore:{handler:function(){this.warehouseStore=(0,c.default)((0,d.default)({},this.defaultStore))},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this[this.getListMethod]()},showSelIcon:function(e){return this.selItems.warehouseCode===e.warehouseCode},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.warehouseStore={},this.$emit("sel-item",(0,s.default)(this.selItems))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},selStore:function(e){this.warehouseStore=e,this.$emit("get-store",e)},getWarehouse:function(){var e=this.filterParams;return this.srhInpTx&&(e=[].concat((0,i.default)(e),[{operator:"like",value:this.srhInpTx,property:"warehouseName"}])),(0,g.getWarehouse)((0,d.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(e)},this.params)).then(this.dataHandler)},getWareHouseType:function(){var e=this.filterParams;this.srhInpTx&&(e=[].concat((0,i.default)(e),[{operator:"like",value:this.srhInpTx,property:"warehouseName"}])),(0,g.getWareHouseType)((0,d.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(e)},this.params)).then(this.dataHandler)},dataHandler:function(e){var t=this,a=e.dataCount,n=void 0===a?0:a,r=e.tableContent,o=void 0===r?[]:r;if(this.showAddWarehouse=this.srhInpTx&&0===o.length,this.hasNext=n>(this.page-1)*this.limit+o.length,o.forEach(function(e){e.warehouseCity=e.warehouseCity||e.wareHouseCity}),this.listData=1===this.page?o:[].concat((0,i.default)(this.listData),(0,i.default)(o)),sessionStorage.getItem("EDIT_WAREHOUSE_TRANSCODE"))for(var l=JSON.parse(sessionStorage.getItem("EDIT_WAREHOUSE_TRANSCODE")).transCode,d=0;d<this.listData.length;d++)this.listData[d].transCode==l&&(this.selItems=this.listData[d],this.$emit("sel-item",(0,s.default)(this.listData[d])),sessionStorage.removeItem("EDIT_WAREHOUSE_TRANSCODE"));this.$nextTick(function(){t.$refs.bScroll.finishPullUp()})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this[this.getListMethod]()},onPullingUp:function(){this.page++,this[this.getListMethod]()},setDefaultValue:function(){this.selItems=this.defaultValue?(0,d.default)({},this.defaultValue):{}},warehouseClick:function(){this.disabled||(this.showPop=!this.showPop)},addWarehouse:function(){this.$router.push({path:"/warehouse/edit_warehouse",query:{add:1}})}},created:function(){this.setDefaultValue(),this.disabled||this[this.getListMethod]()}}},lyNH:function(e,t){},lz9o:function(e,t,a){e.exports=a.p+"static/img/todo.56fcdc2.png"},lzEG:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vux-x-input weui-cell",class:{"weui-cell_warn":e.showWarn,disabled:e.disabled,"vux-x-input-has-right-full":e.hasRightFullHeightSlot}},[a("div",{staticClass:"weui-cell__hd"},[e.hasRestrictedLabel?a("div",{style:e.labelStyles},[e._t("restricted-label")],2):e._e(),e._v(" "),e._t("label",[e.title?a("label",{staticClass:"weui-label",class:e.labelClass,style:{width:e.labelWidth||e.$parent.labelWidth||e.labelWidthComputed,textAlign:e.$parent.labelAlign,marginRight:e.$parent.labelMarginRight},attrs:{for:"vux-x-input-"+e.uuid},domProps:{innerHTML:e._s(e.title)}}):e._e(),e._v(" "),e.inlineDesc?a("inline-desc",[e._v(e._s(e.inlineDesc))]):e._e()])],2),e._v(" "),a("div",{staticClass:"weui-cell__bd weui-cell__primary",class:e.placeholderAlign?"vux-x-input-placeholder-"+e.placeholderAlign:""},[e.type&&"text"!==e.type?e._e():a("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],ref:"input",staticClass:"weui-input",style:e.inputStyle,attrs:{id:"vux-x-input-"+e.uuid,maxlength:e.max,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,spellcheck:e.spellcheck,type:"text",name:e.name,pattern:e.pattern,placeholder:e.placeholder,readonly:e.readonly,disabled:e.disabled},domProps:{value:e.currentValue},on:{focus:e.focusHandler,blur:e.onBlur,keyup:e.onKeyUp,input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}),e._v(" "),"number"===e.type?a("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],ref:"input",staticClass:"weui-input",style:e.inputStyle,attrs:{id:"vux-x-input-"+e.uuid,maxlength:e.max,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,spellcheck:e.spellcheck,type:"number",name:e.name,pattern:e.pattern,placeholder:e.placeholder,readonly:e.readonly,disabled:e.disabled},domProps:{value:e.currentValue},on:{focus:e.focusHandler,blur:e.onBlur,keyup:e.onKeyUp,input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}):e._e(),e._v(" "),"email"===e.type?a("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],ref:"input",staticClass:"weui-input",style:e.inputStyle,attrs:{id:"vux-x-input-"+e.uuid,maxlength:e.max,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,spellcheck:e.spellcheck,type:"email",name:e.name,pattern:e.pattern,placeholder:e.placeholder,readonly:e.readonly,disabled:e.disabled},domProps:{value:e.currentValue},on:{focus:e.focusHandler,blur:e.onBlur,keyup:e.onKeyUp,input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}):e._e(),e._v(" "),"password"===e.type?a("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],ref:"input",staticClass:"weui-input",style:e.inputStyle,attrs:{id:"vux-x-input-"+e.uuid,maxlength:e.max,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,spellcheck:e.spellcheck,type:"password",name:e.name,pattern:e.pattern,placeholder:e.placeholder,readonly:e.readonly,disabled:e.disabled},domProps:{value:e.currentValue},on:{focus:e.focusHandler,blur:e.onBlur,keyup:e.onKeyUp,input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}):e._e(),e._v(" "),"tel"===e.type?a("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],ref:"input",staticClass:"weui-input",style:e.inputStyle,attrs:{id:"vux-x-input-"+e.uuid,maxlength:e.max,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,spellcheck:e.spellcheck,type:"tel",name:e.name,pattern:e.pattern,placeholder:e.placeholder,readonly:e.readonly,disabled:e.disabled},domProps:{value:e.currentValue},on:{focus:e.focusHandler,blur:e.onBlur,keyup:e.onKeyUp,input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}):e._e()]),e._v(" "),a("div",{staticClass:"weui-cell__ft"},[a("icon",{directives:[{name:"show",rawName:"v-show",value:!e.hasRightFullHeightSlot&&!e.equalWith&&e.showClear&&""!==e.currentValue&&!e.readonly&&!e.disabled&&e.isFocus,expression:"!hasRightFullHeightSlot && !equalWith && showClear && currentValue !== '' && !readonly && !disabled && isFocus"}],attrs:{type:"clear"},nativeOn:{click:function(t){return e.clear(t)}}}),e._v(" "),a("icon",{directives:[{name:"show",rawName:"v-show",value:e.showWarn,expression:"showWarn"}],staticClass:"vux-input-icon",attrs:{type:"warn",title:e.valid?"":e.firstError},nativeOn:{click:function(t){return e.onClickErrorIcon(t)}}}),e._v(" "),!e.novalidate&&e.hasLengthEqual&&e.dirty&&e.equalWith&&!e.valid?a("icon",{staticClass:"vux-input-icon",attrs:{type:"warn"},nativeOn:{click:function(t){return e.onClickErrorIcon(t)}}}):e._e(),e._v(" "),a("icon",{directives:[{name:"show",rawName:"v-show",value:!e.novalidate&&e.equalWith&&e.equalWith===e.currentValue&&e.valid,expression:"!novalidate && equalWith && equalWith === currentValue && valid"}],attrs:{type:"success"}}),e._v(" "),a("icon",{directives:[{name:"show",rawName:"v-show",value:e.novalidate&&"success"===e.iconType,expression:"novalidate && iconType === 'success'"}],staticClass:"vux-input-icon",attrs:{type:"success"}}),e._v(" "),a("icon",{directives:[{name:"show",rawName:"v-show",value:e.novalidate&&"error"===e.iconType,expression:"novalidate && iconType === 'error'"}],staticClass:"vux-input-icon",attrs:{type:"warn"}}),e._v(" "),e._t("right"),e._v(" "),e.hasRightFullHeightSlot?a("div",{staticClass:"vux-x-input-right-full"},[e._t("right-full-height")],2):e._e()],2),e._v(" "),a("toast",{attrs:{type:"text",width:"auto",time:600},model:{value:e.showErrorToast,callback:function(t){e.showErrorToast=t},expression:"showErrorToast"}},[e._v(e._s(e.firstError))])],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},"m+ig":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("just-word-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}},scopedSlots:e._u([{key:"list-item",fn:function(t){var n=t.item;return e._l(n.detailItem,function(t,n){return a("div",[a("div",{staticClass:"content_part"},[e._v(e._s(e.sItem.costName_expCode))]),e._v(" "),a("div",{staticClass:"other_info_part"},[a("p",{staticClass:"info_with_comment"},[e._v("费用类型: "+e._s(e.sItem.costType_expCode||"暂无"))])])])})}}])})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},"m/NV":function(e,t,a){"use strict";function n(e){a("omzW")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("mtD9");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("6IKZ"),s=a.n(o),l=a("k0Ry"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-604f986d",null);t.default=c.exports},m0ev:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_part"},[e._m(0),e._v(" "),e._l(e.orderInfo.order.dataSet,function(t,n){return a("div",{key:n,staticClass:"form_content",class:{show_border:n!==e.orderInfo.order.dataSet.length-1}},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"汇票号",cellContent:t.draftNumber,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"类型",cellContent:t.draftType}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"承兑人",cellContent:t.accepter}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"金额",cellContent:e._f("numberComma")(e._f("toFixed")(t.tdAmount),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"出票日",cellContent:t.draftDate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"到期日",cellContent:t.draftDueDate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"兑现贴现日",cellContent:t.cashingDiscountDate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"贴息",cellContent:t.discount}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"现后金额",cellContent:e._f("numberComma")(e._f("toFixed")(t.thenAmntBal),3)}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"说明",cellContent:t.comment}})],1)])})],2),e._v(" "),a("div",{staticClass:"form_part"},[e._m(1),e._v(" "),a("div",{staticClass:"form_content"},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"资金账户",cellContent:e.cashInfo.fundName_cashInCode,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"资金编码",cellContent:e.cashInfo.cashInCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"资金账户类型",cellContent:e.cashInfo.cashType_cashInCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"账户余额",cellContent:e._f("numberComma")(e._f("toFixed")(e.cashInfo.thenAmntBal),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"收款金额",cellContent:e._f("numberComma")(e._f("toFixed")(e.cashInfo.tdAmount),3),showSymbol:""}})],1)])]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("汇票列表")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("资金账户明细")])])}],i={render:n,staticRenderFns:r};t.a=i},m4uh:function(e,t){},m557:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("0AQX"),s=a("+VRO"),l=n(s),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),h=a("3NX5"),m=n(h),v=a("d7ck"),p=n(v),C=a("zWMP");a("Qg39");t.default={data:function(){return{count:0,comment:"",orderList:[]}},mixins:[l.default],components:{workFlow:f.default,RAction:u.default,MatterList:m.default,FormCell:p.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,o.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,s=t.attachment,l=void 0===s?[]:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var d=[];o.order;e.attachment=l;var u=o.order.dataSet,c=!0,f=!1,h=void 0;try{for(var m,v=(0,i.default)(u);!(c=(m=v.next()).done);c=!0){var p=m.value;e.count=(0,C.accAdd)(e.count,p.tdAmount),p.inventoryPic=p.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+p.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),d.push(p)}}catch(e){f=!0,h=e}finally{try{!c&&v.return&&v.return()}finally{if(f)throw h}}e.orderList=d,e.orderInfo=o,e.workFlowInfoHandler()})}}}},m8Ly:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages kcpd-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-warehouse-list",{attrs:{title:"仓库名称","default-value":e.warehouse,isRequired:""},on:{"sel-item":e.selWarehouseIn}}),e._v(" "),a("div",{staticClass:"materiel_list"},[e.matterList.length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.matterList,function(t,n){return a("div",{key:n,staticClass:"each_mater",class:{mater_delete:e.matterModifyClass,"vux-1px-b":n<e.matterList.length-1}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass,config:e.matterEditConfig.property},on:{"on-modify":function(a){e.getMatterModify(t,n)}},nativeOn:{click:function(a){e.delClick(n,t)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:n.tdQty,expression:"item.tdQty"}],staticClass:"mater_num"},[e._v("\n                    盘点数量: "),a("span",{staticClass:"num"},[e._v(e._s(n.tdQty))]),e._v("\n                    差异数量: "),a("span",{staticClass:"diff_num"},[e._v(e._s(n.differenceNum))])])]}},{key:"edit",fn:function(t){var r=t.item;return[r.tdQty||e.matterModifyClass?e._e():a("div",{staticClass:"mater_other",on:{click:function(t){e.getMatterModify(r,n)}}},[a("div",{staticClass:"edit-tips"},[e._v("点击进行填写")])])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(n,t)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)}),0)]:[a("div",{on:{click:function(t){e.showMaterielPop=!e.showMaterielPop}}},[a("div",{staticClass:"title"},[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),a("div",{staticClass:"tips"},[e._v("请选择"+e._s(e.orderListTitle))]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),e.matterList.length?a("span",{staticClass:"add_more",on:{click:e.addMatter}},[e._v("新增更多物料")]):e._e()]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showMaterielPop,"default-value":e.matterList,config:e.matterPopConfig,"matter-params":e.matterParams},on:{"sel-matter":e.selMatter},model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}})],2),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,config:e.matterEditConfig},on:{"sel-confirm":e.selConfirm},model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode"},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-circle-outline 'outline' v-show=selItems.length !== matterList.length",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"btn-item",on:{click:e.save}},[e._v("提交")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},mDKT:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("KH7x"),i=n(r),o=a("IHPB"),s=n(o),l=a("3cXf"),d=n(l),u=a("4YfN"),c=n(u),f=a("Jwlx"),h=n(f),m=a("HXPS"),v=n(m),p=a("7g+Q"),C=n(p),y=a("6q39"),_=n(y),g=a("L6VY"),b=n(g),w=a("+62G"),I=n(w),D=a("7biW"),x=n(D),P=a("hFVz"),S=(n(P),a("HyXB")),k=a("vHT0"),L=n(k),N=a("aHRR"),M=n(N);t.default={name:"PopDealerList",props:{dealerTitle:{type:String,default:"客户"},defaultValue:{type:Object,default:function(){return{}}},defaultContact:{type:Object,default:function(){return{}}},mode:{type:String,default:"1"},required:{type:Boolean,default:!1},noContact:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"},noRecord:{type:Boolean,default:!1},dealerParams:{type:Object,default:function(){return{}}}},computed:{noAddress:function(){var e=this.defaultValue,t=e.province,a=void 0===t?"":t,n=e.city,r=void 0===n?"":n,i=e.county,o=void 0===i?"":i,s=e.address,l=void 0===s?"":s;return!(a||r||o||l)}},directives:{TransferDom:I.default},components:{Icon:v.default,Popup:C.default,DSearch:x.default,LoadMore:_.default,PopContactList:M.default},data:function(){return{page:1,limit:10,hasNext:!0,showDealerPop:!1,srhInpTx:"",bScroll:null,dealerInfo:{},contactInfo:{},selItems:[],dealerList:[]}},watch:{defaultValue:{handler:function(){var e=this.defaultValue;this.dealerInfo=(0,h.default)((0,c.default)({},e)),this.selItems=[(0,c.default)({},e)]},immediate:!0},defaultContact:{handler:function(){this.contactInfo=(0,h.default)((0,c.default)({},this.defaultContact))},immediate:!0},dealerParams:{handler:function(){this.getDealer()},deep:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.bScroll&&e.bScroll.refresh()})},onHide:function(){this.showDealerPop=!1},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.dealerCode===e.dealerCode})},selDealer:function(e,t){if(this.showDealerPop=!1,this.selItems=[e],this.dealerInfo=(0,h.default)((0,c.default)({},e)),this.contactInfo={},this.noRecord||sessionStorage.setItem("DEALERLIST_SELITEMS",(0,d.default)(this.selItems)),"2"===this.mode)return void this.$emit("sel-dealer",(0,c.default)({},this.dealerInfo));this.$emit("sel-dealer",(0,d.default)(this.selItems))},selContact:function(e){this.$emit("sel-contact",e)},getDealer:function(){var e=this,t=[];this.srhInpTx&&(t=[].concat((0,s.default)(t),[{operator:"like",value:this.srhInpTx,property:"dealerName"}]));var a=(0,c.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,d.default)(t)},this.dealerParams.data);return(0,S.requestData)({url:this.dealerParams.url,data:a}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,o=void 0===r?[]:r,l=JSON.parse(sessionStorage.getItem("DEALERLIST_SELITEMS"))||"";if(e.hasNext=n>(e.page-1)*e.limit+o.length,o.forEach(function(e){var t=e.province,a=void 0===t?"":t,n=e.city,r=void 0===n?"":n,i=e.county,o=void 0===i?"":i,s=e.address,l=void 0===s?"":s;e.dealerAddress=a||r||o||l?""+l:"暂无联系地址"}),e.dealerList=1===e.page?o:[].concat((0,s.default)(e.dealerList),(0,s.default)(o)),l){e.selItems=[].concat((0,s.default)(l));var u=(0,i.default)(e.selItems,1),c=u[0];e.dealerInfo=void 0===c?{}:c,e.$emit("sel-dealer",(0,d.default)(e.selItems)),sessionStorage.removeItem("DEALERLIST_SELITEMS")}e.$nextTick(function(){e.bScroll.refresh(),e.hasNext&&e.bScroll.finishPullUp()})}).catch(function(e){b.default.show({content:e.message})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.dealerList=[],this.page=1,this.hasNext=!0,this.getDealer()},initScroll:function(){var e=this;this.$nextTick(function(){e.bScroll=new L.default(e.$refs.dealer,{click:!0,pullUpLoad:{threshold:20}}),e.bScroll.on("pullingUp",function(){e.hasNext&&(e.page++,e.getDealer())})})},add:function(){var e=this.dealerTitle;this.$router.push({path:"/adress/edit_ads",query:{add:1,pickVal:e}})},itemClick:function(){this.showDealerPop=!0}},created:function(){this.initScroll()}}},mKXa:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("iR2W"),r=function(e){return e&&e.__esModule?e:{default:e}}(n),i=a("Qg39");t.default={name:"PriceTotal",props:{noAmt:{type:Boolean,default:!1},noTaxAmt:{type:Boolean,default:!1},noCount:{type:Boolean,default:!1},amt:{type:Number,default:0},taxAmt:{type:Number,default:0},count:{type:Number,default:0}},filters:{numberComma:r.default,toFixed:i.toFixed}}},mMLw:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper dzyhpcgysyzf-detail-container"},[e.orderInfo&&e.orderInfo.inPut?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.dealerInfo,configs:e.dealerConfig}}),e._v(" "),a("matter-list",{attrs:{"order-list":e.orderList,"order-title":e.orderTitle},on:{"on-show-more":e.onShowMore}}),e._v(" "),a("pop-cash-list",{directives:[{name:"show",rawName:"v-show",value:e.otherConfig.length&&!e.isEditAdmout,expression:"otherConfig.length &&  !isEditAdmout"}],attrs:{"default-value":e.cashInfo,request:"3",params:e.cashParams,required:""},on:{"sel-item":e.selCash}},[a("template",{slot:"other"},[a("div",{staticClass:"each_property vux-1px-t"},[a("label",[e._v("支付金额：")]),e._v(" "),a("span",{staticClass:"property_val"},[e._v("￥"+e._s(e._f("numberComma")(e.cashInfo.tdAmountCopy1,3)))])])])],2),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.otherConfig.length&&e.isEditAdmout,expression:"otherConfig.length &&  isEditAdmout"}],staticClass:"form_content"},[a("div",{staticClass:"main_content"},e._l(e.otherConfig,function(t,n){return a("div",{key:n,class:{"vux-1px-t":n>0}},["r2Permilfield"===t.xtype?[a("div",{staticClass:"each_info"},[a("label",[e._v(e._s(t.fieldLabel))]),e._v(" "),a("span",{staticClass:"field_value"},[e._v("￥"+e._s(e._f("numberComma")(e.cashInfo[t.fieldCode])))])])]:[a("div",{staticClass:"each_info"},[a("label",[e._v(e._s(t.fieldLabel))]),e._v(" "),a("span",{staticClass:"field_value"},[e._v(e._s(e.cashInfo[t.fieldCode]||"无"))])])]],2)}),0)]),e._v(" "),a("other-part",{attrs:{"other-info":e.orderInfo,amt:e.noTaxAmount,"tax-amt":e.taxAmount,count:e.count,attachment:e.attachment}}),e._v(" "),a("pop-matter-detail",{attrs:{show:e.showMatterDetail,item:e.matterDetail},model:{value:e.showMatterDetail,callback:function(t){e.showMatterDetail=t},expression:"showMatterDetail"}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,"agree-handler":e.agreeHandler,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[],i={render:n,staticRenderFns:r};t.a=i},mNzI:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("a3Yh"),s=n(o),l=a("4YfN"),d=n(l),u=a("IHPB"),c=n(u),f=a("3cXf"),h=n(f),m=a("HXPS"),v=n(m),p=a("BGNQ"),C=n(p),y=a("z5TY"),_=n(y),g=a("SAzG"),b=n(g),w=a("PzEQ"),I=n(w),D=a("0AQX"),x=a("HyXB"),P=a("bKg5"),S=n(P),k=a("VZtf"),L=n(k),N=a("9cRV"),M=n(N),T=a("89pA"),A=n(T),O=a("luHD"),R=n(O),j=a("vl8n"),B=n(j),E=a("+WR7"),F=n(E);t.default={mixins:[S.default],components:{Icon:v.default,Cell:C.default,Group:_.default,XInput:b.default,XTextarea:I.default,RNumber:L.default,PopMatterList:M.default,PopWarehouseList:A.default,PopMatter:R.default,RPicker:B.default,PopBaseinfo:F.default},data:function(){return{matterList:[],showMaterielPop:!1,transCode:"",formData:{biComment:""},warehouse:{},warehouseIn:null,matter:{},showMatterPop:!1,modifyIndex:null,checkFieldList:[{key:"tdQty",message:"请填写调拨数量"}]}},methods:{delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,h.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},selWarehouseOut:function(e){this.warehouse=JSON.parse(e),null!=this.matterParams.data.whCode&&(this.matterParams.data.whCode=this.warehouse.warehouseCode,this.matterList=[])},selWarehouseIn:function(e){this.warehouseIn=JSON.parse(e)},modifyMatter:function(e,t){this.matter=JSON.parse((0,h.default)(e)),this.showMatterPop=!0,this.modifyIndex=t},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.matterList,this.modifyIndex,t)},selMatter:function(e){var t=JSON.parse(e);t.forEach(function(e){e.tdQty=e.tdQty||""}),this.matterList=[].concat((0,c.default)(t))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},save:function(){var e=this,t="",a=[];if([{key:"warehouse",message:"出库仓库"},{key:"warehouseIn",message:"入库仓库"}].every(function(a){return!!e[a.key]||(t="请选择"+a.message,!1)}),t||this.matterList.length||(t="请选择物料"),this.matterList.every(function(n){if(!n.tdQty)return t="请填写调拨数量",!1;var r={transObjCode:n.inventoryCode,tdProcessing:n.processing,thenQtyStock:n.qtyBal,tdQty:n.tdQty,assistQty:n.assistQty||0,assMeasureScale:n.assMeasureScale||null,assMeasureUnit:n.assMeasureUnit||null,comment:n.comment||null};return e.transCode&&(r.tdId=n.tdId||""),a.push(r),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=x.saveAndStartWf,n=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,containerOutWarehouseManager:e.warehouse.containerOutWarehouseManager||null,containerInWarehouseManager:e.warehouseIn.containerInWarehouseManager||null,inPut:{containerCodeOut:e.warehouse.warehouseCode,containerCode:e.warehouseIn.warehouseCode,dataSet:a}}),r={listId:e.listId,biComment:"",formData:(0,h.default)(n),wfPara:(0,h.default)((0,s.default)({},e.processCode,{businessKey:e.businessKey,createdBy:n.creator}))};e.transCode&&(t=x.saveAndCommitTask,r.biReferenceId=e.biReferenceId,r.wfPara=(0,h.default)({businessKey:e.transCode,createdBy:n.creator,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=x.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,D.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=t.attachment;var s=[],l=o.inPut,u=l.dataSet,c=void 0===u?[]:u,f=!0,h=!1,m=void 0;try{for(var v,p=(0,i.default)(c);!(f=(v=p.next()).done);f=!0){var C=v.value;C=(0,d.default)({},C,{qtyBal:C.thenQtyStock,inventoryPic:C.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+C.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:C.inventoryName_transObjCode,inventoryCode:C.inventoryCode_transObjCode,specification:C.specification_transObjCode,measureUnit:C.measureUnit_transObjCode,processing:C.tdProcessing}),s.push(C)}}catch(e){h=!0,m=e}finally{try{!f&&p.return&&p.return()}finally{if(h)throw m}}e.warehouseIn={warehouseCode:l.containerCode,warehouseName:l.warehouseName_containerCode,warehouseType:l.warehouseType_containerCode,warehouseProvince:l.warehouseProvince_containerCode,warehouseCity:l.warehouseCity_containerCode,warehouseDistrict:l.warehouseDistrict_containerCode,warehouseAddress:l.warehouseAddress_containerCode},e.warehouse={warehouseCode:l.containerCodeOut,warehouseName:l.warehouseName_containerCodeOut,warehouseType:l.warehouseType_containerCodeOut,warehouseProvince:l.warehouseProvince_containerCodeOut,warehouseCity:l.warehouseCity_containerCodeOut,warehouseDistrict:l.warehouseDistrict_containerCodeOut,warehouseAddress:l.warehouseAddress_containerCodeOut},e.warehouseParams={whCode:e.warehouse.warehouseCode},e.handlerDefault={handler:o.handler,handlerName:o.handlerName,handlerUnit:o.handlerUnit,handlerUnitName:o.handlerUnitName,handlerRole:o.handlerRole,handlerRoleName:o.handlerRoleName},e.formData=(0,d.default)({},e.handlerDefault,{biComment:o.biComment,biId:o.biId,biProcessStatus:o.biProcessStatus,creator:o.creator,modifer:o.modifer}),e.biReferenceId=o.biReferenceId,e.matterList=s,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,s.default)({},"BDKCDB_DATA",{matter:this.matterList,warehouse:this.warehouse,warehouseIn:this.warehouseIn,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("BDKCDB_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.warehouse=t.warehouse,this.warehouseIn=t.warehouseIn,this.formData=t.formData,this.warehouseParams={whCode:this.warehouse.warehouseCode},sessionStorage.removeItem("BDKCDB_DATA")}}}},mOwv:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HXPS"),i=n(r),o=a("9r/T"),s=a("87dP"),l=n(s);t.default={name:"RSearch",props:{isFill:{type:Boolean,default:!1},filterList:{type:Array,default:function(){return[]}},placeHolder:{type:String,default:""}},watch:{isShowDrop:{handler:function(e){var t=this;this.$event.$on("shut-down-filter",function(e){t.isShowDrop=e,t.$event.$off("shut-down-filter")})}}},data:function(){return{srhInpTx:"",timer:null,property:"",isShowDrop:!1}},components:{Icon:i.default,RDropdown:l.default},methods:{getValue:function(e){var t=this;(0,o.setTimeout)(function(){t.srhInpTx=e.target.value,t.isFill&&!t.srhInpTx&&t.$emit("search",{val:t.srhInpTx,property:t.property})},0)},searchMat:function(e){if(this.isFill&&!e)return this.isShowDrop=!1,void this.$emit("turn-off",!1);this.$emit("search",{val:this.srhInpTx,property:this.property}),document.activeElement.blur(),this.isShowDrop=!1},clear:function(){this.srhInpTx="",this.$emit("search",{val:this.srhInpTx,property:this.property})},popSelected:function(e){this.property=e.value,this.$refs.searchInp.focus()},clearVal:function(){this.srhInpTx=""}}}},mPA3:function(e,t){},mSSm:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("IHPB"),i=n(r),o=a("4YfN"),s=n(o),l=a("HXPS"),d=n(l),u=a("7g+Q"),c=n(u),f=a("+62G"),h=n(f),m=a("6q39"),v=n(m),p=(a("HyXB"),a("XAqG")),C=a("1KNX"),y=n(C),_=a("7biW"),g=n(_);t.default={name:"PopCompanyList",props:{defaultValue:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1},params:{type:Object,default:function(){return{}}}},directives:{TransferDom:h.default},components:{Icon:d.default,Popup:c.default,RScroll:y.default,DSearch:g.default,LoadMore:v.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},watch:{defaultValue:function(e){this.setDefaultValue()}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},clearList:function(){this.srhInpTx="",this.listData=[],this.page=1,this.hasNext=!0,this.getList()},showSelIcon:function(e){return this.selItems.groupCode===e.groupCode},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.$emit("sel-item",this.selItems)},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getList:function(){var e=this;return(0,p.getCompanyList)((0,s.default)({pageSize:this.limit,currentPage:this.page,search:this.srhInpTx},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,o=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+o.length,e.listData=1===e.page?o:[].concat((0,i.default)(e.listData),(0,i.default)(o)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()},setDefaultValue:function(){this.selItems=this.defaultValue?(0,s.default)({},this.defaultValue):{}},itemClick:function(){this.disabled||(this.showPop=!this.showPop)}},created:function(){this.setDefaultValue(),this.disabled||this.getList()}}},mU0o:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("popup-picker",{attrs:{"fixed-columns":e.hideDistrict?2:0,columns:3,data:e.list,title:e.title,"show-name":"","inline-desc":e.inlineDesc,placeholder:e.placeholder,"value-text-align":e.valueTextAlign,"confirm-text":e.confirmText,"cancel-text":e.cancelText,"display-format":e.displayFormat,"popup-style":e.popupStyle,"popup-title":e.popupTitle,show:e.showValue,disabled:e.disabled},on:{"update:show":function(t){e.showValue=t},"on-shadow-change":e.onShadowChange,"on-hide":e.emitHide,"on-show":function(t){e.$emit("on-show")}},scopedSlots:e._u([{key:"title",fn:function(t){return[e._t("title",[t.labelTitle?a("label",{class:[t.labelClass,e.labelClass],style:t.labelStyle,domProps:{innerHTML:e._s(t.labelTitle)}}):e._e()],{labelClass:t.labelClass,labelStyle:t.labelStyles,labelTitle:t.title})]}}]),model:{value:e.currentValue,callback:function(t){e.currentValue=t},expression:"currentValue"}})},r=[],i={render:n,staticRenderFns:r};t.a=i},mU6y:function(e,t){},mV4P:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("kNGm"),s=n(o),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),h=a("AupE"),m=n(h),v=a("kKsb"),p=n(v),C=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",dealerInfo:{}}},mixins:[u.default],components:{workFlow:m.default,RAction:f.default,ProjectPart:p.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=t.formData,r=n.order,o=void 0===r?{}:r;e.attachment=a,e.dealerInfo={dealerName:o.dealerName_dealerDebit,dealerCode:o.dealerDebit,dealerLabelName:o.drDealerLabel,amntBal:o.thenAmntBal,thenTotalAmntBal:o.thenTotalAmntBal};var l=n.order.dataSet,d=!0,u=!1,c=void 0;try{for(var f,h=(0,i.default)(l);!(d=(f=h.next()).done);d=!0){var m=f.value;e.count=(0,C.accAdd)(e.count,m.tdAmount)}}catch(e){u=!0,c=e}finally{try{!d&&h.return&&h.return()}finally{if(u)throw c}}t.formData.validUntil=(0,s.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},mZZL:function(e,t){},mZjk:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper xmrw-detail-container"},[a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.orderInfo,"order-info":e.orderInfo}}),e._v(" "),a("div",{staticClass:"project_info"},[e._m(0),e._v(" "),a("div",{staticClass:"project_content"},[a("form-cell",{attrs:{cellTitle:"名称",cellContent:e.projectApproval.projectName,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"经理",cellContent:e.projectApproval.projectManager}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"大类",cellContent:e.projectApproval.projectType}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"子类",cellContent:e.projectApproval.projectSubclass}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"说明",cellContent:e.projectApproval.comment||"无"}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"预期开始日期",cellContent:e._f("timeSplit")(e.projectApproval.expectStartDate)}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"预期截止日期",cellContent:e._f("timeSplit")(e.projectApproval.expectEndDate)}})],1)]),e._v(" "),a("div",{staticClass:"form_part"},[e._m(1),e._v(" "),e._l(e.projectPlan,function(t,n){return a("div",{key:n,staticClass:"form_content",class:{show_border:n!==e.projectPlan.length-1}},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"任务名称",cellContent:t.taskName,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"任务类型",cellContent:t.taskType}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"周期天数",cellContent:t.cycleDays}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"标准工时",cellContent:t.planTime}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"作业费率",cellContent:t.jobRate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"预算作业成本",cellContent:t.budgetHomeworkCost}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"计划截止日期",cellContent:e._f("timeSplit")(t.deadline)}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"任务说明",cellContent:t.comment}})],1)])})],2),e._v(" "),a("other-part",{attrs:{"other-info":e.orderInfo,attachment:e.attachment}})],1)])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"info_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-xiangmu"}),e._v("项目信息")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-renwu"}),a("span",{staticClass:"title"},[e._v("任务列表")])])}],i={render:n,staticRenderFns:r};t.a=i},mmca:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("kriB");a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,function(){return n[e]})}(r);var i=a("4Apf"),o=a.n(i),s=a("vGnC"),l=a("C7Lr"),d=l(o.a,s.a,!1,null,null,null);t.default=d.exports},moVi:function(e,t,a){"use strict";function n(e){a("7dY3")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("WNoS");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("p6ff"),s=a.n(o),l=a("Q3S/"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-621e3e53",null);t.default=c.exports},moZA:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("kNGm"),s=n(o),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),h=a("AupE"),m=n(h),v=a("kKsb"),p=n(v),C=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70"}},mixins:[u.default],components:{workFlow:m.default,RAction:f.default,ProjectPart:p.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=!0,r=!1,o=void 0;try{for(var l,d=(0,i.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;e.count=(0,C.accAdd)(e.count,u.tdAmount)}}catch(e){r=!0,o=e}finally{try{!n&&d.return&&d.return()}finally{if(r)throw o}}t.formData.validUntil=(0,s.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},mpfK:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"WarehouseContent",props:{warehouseConfig:{type:Array,required:!0}},data:function(){return{activeIndex:0,PicList:[{warehousePic:a("p/0M")},{warehousePic:a("fzi5")}]}},methods:{warehouseChange:function(e,t){this.activeIndex=t}}}},mtD9:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2237,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"项目名称",value:"projectName_project"}]}},mixins:[r.default],methods:{},created:function(){}}},mwzB:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("4YfN"),s=n(o),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("zWMP"),f=(a("Qg39"),a("BUFe")),h=n(f),m=a("AupE"),v=n(m),p=a("89pA"),C=n(p),y=a("bFc7"),_=n(y),g=a("6WeX"),b=n(g),w=a("hPJo"),I=n(w),D=a("kKsb"),x=n(D),P=a("sUbJ"),S=n(P),k=a("d7ck"),L=n(k);t.default={data:function(){return{count:0,formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",orderInfo:{},orderList:{},warehouse:{},basicInfo:{},contactInfo:{},warehouseConfig:[]}},computed:{noTaxAmount:function(){var e=0;return this.orderInfo.outPut.dataSet.forEach(function(t){e=(0,c.accAdd)(e,t.noTaxAmount)}),e},taxAmount:function(){var e=0;return this.orderInfo.outPut.dataSet.forEach(function(t){e=(0,c.accAdd)(e,t.taxAmount)}),e}},mixins:[u.default],components:{workFlow:v.default,RAction:h.default,PopWarehouseList:C.default,contactPart:_.default,PriceTotal:b.default,WarehouseContent:I.default,ProjectPart:x.default,MatterItem:S.default,FormCell:L.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u={},f=o.outPut,h=void 0===f?{}:f;e.attachment=d;var m=o.outPut.dataSet,v=!0,p=!1,C=void 0;try{for(var y,_=(0,i.default)(m);!(v=(y=_.next()).done);v=!0){var g=y.value;e.count=(0,c.accAdd)(e.count,g.tdAmount),g.inventoryPic=g.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+g.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),g.inventoryName_transObjCode=g.inventoryName_outPutMatCode,g.transObjCode=g.inventoryCode_outPutMatCode,u[g.transMatchedCode]||(u[g.transMatchedCode]=[]),u[g.transMatchedCode].push(g)}}catch(e){p=!0,C=e}finally{try{!v&&_.return&&_.return()}finally{if(p)throw C}}e.orderList=u,e.contactInfo={creatorName:o.dealerDebitContactPersonName,dealerName:h.dealerName_dealerDebit,dealerMobilePhone:o.dealerDebitContactInformation,dealerContactPersonName:o.dealerDebitContactPersonName,dealerCode:h.dealerDebit,dealerLabelName:h.drDealerLabel,province:h.province_dealerDebit,city:h.city_dealerDebit,county:h.county_dealerDebit,address:h.address_dealerDebit};for(var b in h)(b.includes("warehouse")||b.includes("storehouse"))&&(e.warehouse[b]=h[b]);e.orderInfo=(0,s.default)({},o,h),e.workFlowInfoHandler()})}}}},"mzl+":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("kNGm"),i=(n(r),a("SAzG")),o=n(i),s=a("0AQX"),l=a("+VRO"),d=n(l),u=a("BUFe"),c=n(u),f=a("AupE"),h=n(f),m=a("bFc7"),v=n(m);a("zWMP"),a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",costList:[]}},mixins:[d.default],components:{workFlow:h.default,RAction:c.default,contactPart:v.default,XInput:o.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=t.formData,r=t.attachment;if(!1===a)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var i=n.order.dataSet,o=void 0===i?[]:i;e.attachment=r,e.orderInfo=n,e.costList=o,e.workFlowInfoHandler()})}}}},"n+GY":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=(a("HyXB"),a("MjAd")),s=n(o);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"任务类型",value:"taskType"},{name:"项目名称",value:"projectName_project"}],listViewID:2326}},mixins:[s.default],methods:{goDetail:function(e,t){var a=this;if(!this.clickVisited){var n=e.transCode,r=this.$route.query,o=r.name,s=r.listId,l=this.$route.params,d=l.folder,u=l.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,i.default)({},e)),setTimeout(function(){a.clickVisited=!1,a.$router.push({path:"/detail/"+d+"/"+u,query:{name:o,transCode:n,listId:s}})},200)}},getTaskIcon:function(e){return["icon-task","icon-task2","icon-task3"][e%3]}}}},n06I:function(e,t){},n0D0:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getObjFacilityByDealerCode=t.getEquipmentPurchaseOrder=t.getObjFacilityByType=void 0;var r=a("4YfN"),i=n(r),o=a("GOq4"),s=n(o);t.getObjFacilityByType=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getObjFacilityByType",data:(0,i.default)({_dc:Date.now()},e)})},t.getEquipmentPurchaseOrder=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getEquipmentPurchaseOrder",data:(0,i.default)({_dc:Date.now()},e)})},t.getObjFacilityByDealerCode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getObjFacilityByDealerCode",data:(0,i.default)({_dc:Date.now()},e)})};t.default={}},n6ZL:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("KH7x"),i=n(r),o=a("0w+U"),s=a("+VRO"),l=n(s);t.default={data:function(){return{MatPic:"",CompanyInfo:{}}},mixins:[l.default],methods:{getDefaultImg:function(){this.CompanyInfo.groupPic=a("tVsm")},loadPage:function(){var e=this,t=this.$route.query.groupId,a=void 0===t?"":t;return a?(this.$loading.show(),(0,o.CompanyInfo)(a).then(function(t){var a=(0,i.default)(t,1),n=a[0],r=void 0===n?{}:n,o=["","使用中","未使用","草稿"];r.status=o[r.status]||"停用",e.CompanyInfo=r,e.$loading.hide()})):void this.$vux.alert.show({content:"抱歉，有误，请尝试刷新之后再次进入"})}}}},"n6c+":function(e,t,a){"use strict";function n(e){a("DkQ+")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("uqrF");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("LBhX"),s=a.n(o),l=a("qRBd"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-508983cb",null);t.default=c.exports},n8ws:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("KH7x"),i=n(r),o=a("IHPB"),s=n(o),l=a("rVsN"),d=n(l),u=a("lC5x"),c=n(u),f=a("J0Oq"),h=n(f),m=a("3cXf"),v=n(m),p=a("4YfN"),C=n(p),y=a("8VZL"),_=n(y),g=a("HXPS"),b=n(g),w=a("fQz5"),I=n(w),D=a("kNGm"),x=n(D),P=a("hFVz"),S=n(P),k=a("I8ug"),L=a("7biW"),N=n(L),M=a("1KNX"),T=n(M),A=a("Ab2S"),O=n(A);t.default={data:function(){return{page:1,limit:20,tabItem:"全部",activeIndex:0,placeHolder:"名称/编码",listId:"c0375170-d537-4f23-8ed0-a79cf75f5b04",uniqueId:"7f01c808-d338-4711-8c99-319337078cc1",total:null,hasNext:!0,clickVisited:!1,scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0},id:"",action:{},srhInpTx:"",dealerList:[],dealerClassfiy:[]}},components:{Tab:_.default,Icon:b.default,TabItem:I.default,RScroll:T.default,searchIcon:N.default,addBtn:O.default},methods:{resetCondition:function(){this.dealerList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.resetPullDown()},tabClick:function(e,t){this.tabItem=e.title,this.activeIndex=t,this.uniqueId=e.uniqueId,this.resetCondition(),this.$refs.bScroll.scrollTo(0,0),this.getDealer()},searchList:function(e){var t=e.val,a=void 0===t?"":t;e.property;this.srhInpTx=a,this.resetCondition(),this.getDealer()},goNextPage:function(e,t,a){var n=this;this.clickVisited||(this.clickVisited=!0,e.visited=!0,this.$set(this.dealerList,t,(0,C.default)({},e)),setTimeout(function(){n.clickVisited=!1;var t={transCode:e.transCode};e.transCode||"/adress/edit_ads"!==a||"全部"===n.tabItem||(t.dealerType=n.tabItem),n.$router.push({path:a,query:t})},200))},goEditAds:function(e,t){this.goNextPage(e,t,"/adress/edit_ads")},goDetail:function(e,t){this.goNextPage(e,t,"/adress/adressDetail")},getDealer:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=void 0;""!==this.srhInpTx&&(a=[{operator:"like",value:this.srhInpTx,property:"creatorName",attendedOperation:"or"},{operator:"like",value:this.srhInpTx,property:"dealerCode",attendedOperation:"or"},{operator:"like",value:this.srhInpTx,property:"dealerName"}]);var n={limit:this.limit,page:this.page,start:(this.page-1)*this.limit};return a&&(n.filter=(0,v.default)(a)),(0,h.default)(c.default.mark(function a(){return c.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,S.default.getId(e.uniqueId).then(function(t){t.length>0&&(e.id=t[0].id)}).catch(function(t){e.$vux.alert.show({content:t.message})});case 2:return a.next=4,S.default.getDealerList(e.id,n).then(function(a){var n=a.dataCount,r=void 0===n?0:n,i=a.tableContent,o=void 0===i?[]:i,s="";t&&0===e.activeIndex&&e.total&&(s=r-e.total==0?"暂无新数据":"新增"+(r-e.total)+"条数据",e.$vux.toast.show({text:s,position:"top",width:"50%",type:"text",time:700})),o.forEach(function(t){var a=t.province,n=void 0===a?"":a,r=t.city,i=void 0===r?"":r,o=t.county,s=void 0===o?"":o,l=t.address,d=void 0===l?"":l;e.setStatus(t),t.dealerPic=t.dealerPic?"/H_roleplay-si/ds/download?url="+t.dealerPic+"&width=400&height=400":e.getDefaultImg(),t.detailAddress=n||i||s||d?""+n+i+s+d:"暂无"}),0===e.activeIndex&&1===e.page&&sessionStorage.setItem("DL",r),e.dealerList=1===e.page?o:e.dealerList.concat(o),e.hasNext=r>(e.page-1)*e.limit+o.length,t||e.$nextTick(function(){e.resetScroll()})}).catch(function(t){e.resetScroll()});case 4:case"end":return a.stop()}},a,e)}))()},getClassfiy:function(){var e=this;S.default.getDealerClassfiy(this.page).then(function(t){t.map(function(e){"往来对象"===e.title&&(e.title="全部")}),e.dealerClassfiy=t}).catch(function(t){e.$vux.alert.show({content:t.message})})},resetScroll:function(){this.$refs.bScroll.finishPullDown(),this.$refs.bScroll.finishPullUp()},onPullingUp:function(){this.page++,this.getDealer()},onPullingDown:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.page=1,e)return void this.getData(!0);this.getData()},getSession:function(){var e=this;return new d.default(function(t){e.total=sessionStorage.getItem("DL"),t()})},getData:function(e){var t=this;return(0,h.default)(c.default.mark(function a(){return c.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getSession();case 2:if(!e){a.next=6;break}return a.next=5,t.getDealer(!0).then(function(){t.$nextTick(function(){t.$refs.bScroll.finishPullDown().then(function(){t.$refs.bScroll.finishPullUp()})})});case 5:return a.abrupt("return");case 6:return a.next=8,t.getDealer();case 8:case"end":return a.stop()}},a,t)}))()},changeVisitedStatus:function(){var e=this;setTimeout(function(){var t=[].concat((0,s.default)(e.dealerList));t.forEach(function(e){e.visited=!1}),e.dealerList=t},200)},getAppDetail:function(){var e=this;return(0,k.getAppDetail)(this.listId).then(function(t){var a=(0,i.default)(t,1),n=a[0],r=void 0===n?{}:n,o=r.action;e.action=o})},setStatus:function(e){switch(e.dealerStatus){case"使用中":e.statusClass="duty_done_c";break;default:e.statusClass="duty_fall_c"}},getDefaultImg:function(e){var t=a("sUQx");return e&&(e.dealerPic=t),t}},filters:{dateFormat:x.default},watch:{$route:{handler:function(e,t){var a=e.path,n=void 0===a?"":a,r=e.meta,i=void 0===r?{}:r;if("/adress"===n&&(this.changeVisitedStatus(),i.reload)){if(e.meta.reload=!1,this.uniqueId="7f01c808-d338-4711-8c99-319337078cc1",this.srhInpTx="",this.activeIndex=0,this.resetCondition(),t.query.transCode)return void this.onPullingDown(!1);this.onPullingDown()}}}},created:function(){this.getAppDetail(),this.getClassfiy(),this.getData(!1)}}},nCLI:function(e,t){},nDVb:function(e,t){},nHTe:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("KH7x"),s=n(o),l=a("7g+Q"),d=n(l),u=a("z5TY"),c=n(u),f=a("HXPS"),h=n(f),m=a("d5Kw"),v=n(m),p=a("kNGm"),C=n(p),y=a("1KNX"),_=n(y);t.default={props:{fullWorkFlow:{type:Array,default:function(){return[]}},userName:{type:String,default:""},isMyTask:{type:Boolean,default:!1},workFlowInfo:{type:Object,default:function(){return{}}}},data:function(){return{defaulImg:a("Fuf7"),currentStatus:{}}},computed:{statusClass:function(){var e=this.workFlowInfo.biStatus;switch(void 0===e?"":e){case"进行中":return"doing";case"已失效":return"failure";default:return""}}},watch:{fullWorkFlow:{handler:function(){this.workFlowHandler()},immediate:!0}},components:{Popup:d.default,Group:c.default,Icon:h.default,XButton:v.default,RScroll:_.default},methods:{workFlowHandler:function(){var e=this.fullWorkFlow.slice(-1),t=(0,s.default)(e,1),a=t[0],n=void 0===a?{}:a,r=!0,o=!1,l=void 0;try{for(var d,u=(0,i.default)(this.fullWorkFlow);!(r=(d=u.next()).done);r=!0){var c=d.value;c.userName=c.userName.replace(/\s*/g,"")}}catch(e){o=!0,l=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw l}}this.currentStatus=n},goWorkFlowFull:function(){var e=this.workFlowInfo.transCode,t=void 0===e?"":e;this.$router.push({path:"/workFlowFull",query:{transCode:t}})}},filters:{dateFormat:C.default},created:function(){}}},nHhV:function(e,t){},nL98:function(e,t){},nPJt:function(e,t){},nRWx:function(e,t){},nRcV:function(e,t){},nT2q:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("MjAd"),i=n(r),o=a("4bt0"),s=n(o);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2568,chartShow:!1,hasNext:!0,scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0},sortList:[{name:"交易号",key:"transCode"},{name:"修改时间",key:"modTime"},{name:"客户名称",key:"dealerName"}]}},components:{ApplyChart:s.default},mixins:[i.default],methods:{}}},nUHg:function(e,t,a){"use strict";function n(e){a("lfAx")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("zzue");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("k/5C"),s=a.n(o),l=a("Bw8g"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-e07bd81e",null);t.default=c.exports},nVpM:function(e,t,a){"use strict";function n(e){a("uy+h")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("ESmm");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("7sn7"),s=a.n(o),l=a("H2lT"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-a12aab4e",null);t.default=c.exports},nXep:function(e,t){},nY9r:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("KH7x"),i=n(r),o=a("IHPB"),s=n(o),l=a("3cXf"),d=n(l),u=a("4YfN"),c=n(u),f=a("Jwlx"),h=n(f),m=a("HXPS"),v=n(m),p=a("7g+Q"),C=n(p),y=a("6q39"),_=n(y),g=a("L6VY"),b=n(g),w=a("+62G"),I=n(w),D=a("7biW"),x=n(D),P=a("hFVz"),S=(n(P),a("HyXB")),k=a("vHT0"),L=n(k),N=a("aHRR"),M=n(N);t.default={name:"PopDealerList",props:{dealerTitle:{type:String,default:"客户"},defaultValue:{type:Object,default:function(){return{}}},defaultContact:{type:Object,default:function(){return{}}},mode:{type:String,default:"1"},required:{type:Boolean,default:!1},noContact:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"},noRecord:{type:Boolean,default:!1},dealerParams:{type:Object,default:function(){return{}}}},computed:{noAddress:function(){var e=this.defaultValue,t=e.province,a=void 0===t?"":t,n=e.city,r=void 0===n?"":n,i=e.county,o=void 0===i?"":i,s=e.address,l=void 0===s?"":s;return!(a||r||o||l)}},directives:{TransferDom:I.default},components:{Icon:v.default,Popup:C.default,DSearch:x.default,LoadMore:_.default,PopContactList:M.default},data:function(){return{page:1,limit:10,hasNext:!0,showDealerPop:!1,srhInpTx:"",bScroll:null,dealerInfo:{},contactInfo:{},selItems:[],dealerList:[]}},watch:{defaultValue:{handler:function(){var e=this.defaultValue;this.dealerInfo=(0,h.default)((0,c.default)({},e)),this.selItems=[(0,c.default)({},e)]},immediate:!0},defaultContact:{handler:function(){this.contactInfo=(0,h.default)((0,c.default)({},this.defaultContact))},immediate:!0},dealerParams:{handler:function(){this.getDealer()},deep:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.bScroll&&e.bScroll.refresh()})},onHide:function(){this.showDealerPop=!1},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.dealerCode===e.dealerCode})},selDealer:function(e,t){if(this.showDealerPop=!1,this.selItems=[e],this.dealerInfo=(0,h.default)((0,c.default)({},e)),this.contactInfo={},this.noRecord||sessionStorage.setItem("DEALERLIST_SELITEMS",(0,d.default)(this.selItems)),"2"===this.mode)return void this.$emit("sel-dealer",(0,c.default)({},this.dealerInfo));this.$emit("sel-dealer",(0,d.default)(this.selItems))},selContact:function(e){this.$emit("sel-contact",e)},getDealer:function(){var e=this,t=[];this.srhInpTx&&(t=[].concat((0,s.default)(t),[{operator:"like",value:this.srhInpTx,property:"dealerName"}]));var a=(0,c.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,d.default)(t)},this.dealerParams.data);return(0,S.requestData)({url:this.dealerParams.url,data:a}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,o=void 0===r?[]:r,l=JSON.parse(sessionStorage.getItem("DEALERLIST_SELITEMS"))||"";if(e.hasNext=n>(e.page-1)*e.limit+o.length,o.forEach(function(e){var t=e.province,a=void 0===t?"":t,n=e.city,r=void 0===n?"":n,i=e.county,o=void 0===i?"":i,s=e.address,l=void 0===s?"":s;e.dealerAddress=a||r||o||l?""+l:"暂无联系地址"}),e.dealerList=1===e.page?o:[].concat((0,s.default)(e.dealerList),(0,s.default)(o)),l){e.selItems=[].concat((0,s.default)(l));var u=(0,i.default)(e.selItems,1),c=u[0];e.dealerInfo=void 0===c?{}:c,e.$emit("sel-dealer",(0,d.default)(e.selItems)),sessionStorage.removeItem("DEALERLIST_SELITEMS")}e.$nextTick(function(){e.bScroll.refresh(),e.hasNext&&e.bScroll.finishPullUp()})}).catch(function(e){b.default.show({content:e.message})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.dealerList=[],this.page=1,this.hasNext=!0,this.getDealer()},initScroll:function(){var e=this;this.$nextTick(function(){e.bScroll=new L.default(e.$refs.dealer,{click:!0,pullUpLoad:{threshold:20}}),e.bScroll.on("pullingUp",function(){e.hasNext&&(e.page++,e.getDealer())})})},add:function(){var e=this.dealerTitle;this.$router.push({path:"/adress/edit_ads",query:{add:1,pickVal:e}})},itemClick:function(){this.showDealerPop=!0}},created:function(){this.initScroll()}}},nYup:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2544}},mixins:[r.default]}},ncND:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2504,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[r.default],methods:{},created:function(){}}},nexV:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("3cXf"),s=n(o),l=a("ZLEe"),d=n(l),u=a("4YfN"),c=n(u),f=a("HzJ8"),h=n(f),m=a("z5TY"),v=n(m),p=a("7g+Q"),C=(n(p),a("SAzG")),y=n(C),_=a("PzEQ"),g=n(_),b=a("u28h"),w=n(b),I=a("Pkp+"),D=n(I),x=a("+WR7"),P=n(x),S=a("y8YJ"),k=n(S),L=a("lsbD"),N=n(L),M=a("HyXB"),T=a("0AQX"),A=a("bKg5"),O=n(A);t.default={name:"ApplyCPXQForm",data:function(){return{listId:"b30f4d3e-b23d-11e8-96a5-005056a136d0",formViewUniqueId:"b018ef18-f0d1-41a8-985e-29de19e6b705",formData:{biId:"",demandTitle:"",demandDescribe:"",biComment:""},biReferenceId:"",dealerInfo:{},contactInfo:{},uploadStyle:{}}},mixins:[O.default],components:{Group:v.default,XInput:y.default,XTextarea:g.default,Datetime:w.default,RPicker:D.default,PopBaseinfo:P.default,PopDealerList:k.default,OpButton:N.default},computed:{bigType:function(){return this.formData.demandType}},watch:{bigType:{handler:function(e){var t=this;if(e){var a="",n=!0,r=!1,i=void 0;try{for(var o,s=(0,h.default)(this.otherConfig);!(n=(o=s.next()).done);n=!0){var l=o.value;!function(n){if("demandType"===n.fieldCode){var r=!0,i=!1,o=void 0;try{for(var s,l=(0,h.default)(n.remoteData);!(r=(s=l.next()).done);r=!0){var d=s.value;if(d.name===e){a=d.type;break}}}catch(e){i=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw o}}}if("demandSubclass"===n.fieldCode){var u={url:n.dataSource.data.url,data:{value:a}};(0,M.requestData)(u).then(function(e){var a=e.tableContent,r=void 0===a?[]:a;null!=t.formData.demandSubclass?t.formData.demandSubclass=r[0].name:t.$set(t.formData,"demandSubclass",r[0].name),r.forEach(function(e){e.originValue=e.value,e.name=e[n.displayField],e.value=e[n.displayField]}),n.remoteData=r})}}(l)}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}}}}},methods:{selContact:function(e){this.contactInfo=(0,c.default)({},e)},selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],this.formData.launchDealerCode=this.dealerInfo.dealerCode},getDate:function(e,t){var a=this;this.$vux.datetime.show({confirmText:"确认",cancelText:"取消",onConfirm:function(n){if(null==e[t.fieldCode])return void a.$set(e,t.fieldCode,n);e[t.fieldCode]=n}})},save:function(){var e=this;for(var t in this.formData)"string"==typeof this.formData[t]&&this.formData[t].indexOf(" ")>=0&&(this.formData[t]=this.formData[t].replace(/\s/g,""));var a="";if((0,d.default)(this.dealerParams).length&&!this.dealerInfo.dealerCode&&(a="请选择客户"),!a&&this.submitMatterField.every(function(t){return!!(t.hidden||t.allowBlank||e.formData[t.fieldCode])||(a=t.fieldLabel+"不能为空",!1)}),a)return void this.$vux.alert.show({content:a});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=e.formData,a=(0,d.default)(e.dealerParams).length?{productDealerCode:e.dealerInfo.dealerCode,address_productDealerCode:e.dealerInfo.address,demandDealerLabel:e.dealerInfo.dealerLabelName,dealerName_productDealerCode:e.dealerInfo.dealerName}:{},n=(0,d.default)(e.dealerParams).length?{dealerDebitContactPersonName:e.contactInfo.dealerName,dealerDebitContactInformation:e.contactInfo.dealerMobilePhone}:{},r=e.processCode.length?M.saveAndStartWf:M.submitAndCalc,i={biComment:"",listId:e.listId,biReferenceId:e.biReferenceId,formData:(0,s.default)((0,c.default)({handlerEntity:e.entity.dealerName},t,a,n))};e.transCode&&(r=M.updateData),e.saveData(r,i)}})},getFormData:function(){var e=this;return(0,T.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.biReferenceId,s=void 0===o?"":o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=t.attachment,e.biReferenceId=s,e.handlerDefault={handle:i.handler,handlerName:i.handlerName,handlerRole:i.handlerRole,handlerRoleName:i.handlerRoleName,handlerUnit:i.handlerUnit,handlerUnitName:i.handlerUnitName},e.formData=(0,c.default)({},e.formData,i),e.dealerInfo={dealerCode:i.productDealerCode,address:i.address_productDealerCode,dealerLabelName:i.demandDealerLabel,dealerName:i.dealerName_productDealerCode},e.contactInfo={dealerName:i.dealerDebitContactPersonName,dealerMobilePhone:i.dealerDebitContactInformation},e.$loading.hide()})},hasDraftData:function(){var e=this.formData;if(e.demandTitle||e.demandDescribe||e.biProcessStatus)return(0,i.default)({},"CPXQ_DATA",{formData:this.formData,dealerInfo:this.dealerInfo,contactInfo:this.contactInfo})}},created:function(){var e=sessionStorage.getItem("CPXQ_DATA");e&&(this.formData=JSON.parse(e).formData,this.dealerInfo=JSON.parse(e).dealerInfo,this.contactInfo=JSON.parse(e).contactInfo,sessionStorage.removeItem("CPXQ_DATA"))}}},nf4D:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("kNGm"),i=(n(r),a("0AQX")),o=a("+VRO"),s=n(o),l=a("AupE"),d=n(l),u=a("BUFe"),c=n(u),f=a("bFc7"),h=n(f),m=a("3NX5"),v=n(m);t.default={data:function(){return{orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},uploadStyle:{padding:"0.06rem 0.1rem"}}},mixins:[s.default],components:{workFlow:d.default,RAction:c.default,contactPart:h.default,MatterList:v.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,i.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,s=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=s,e.orderInfo=i,e.contactInfo={dealerName:i.dealerName_productDealerCode,dealerMobilePhone:i.dealerDebitContactInformation,dealerContactPersonName:i.dealerDebitContactPersonName},e.workFlowInfoHandler()})},goEdit:function(){var e=this.$route.params,t=e.folder,a=e.fileName,n=this.$route.query.name;this.$router.push({path:"/fillform/"+t+"/"+a,query:{name:n,transCode:this.transCode}})}}}},nmkt:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("BGNQ"),i=n(r),o=a("z5TY"),s=n(o),l=a("kNGm"),d=n(l),u=a("0AQX"),c=a("+VRO"),f=n(c),h=a("Qg39"),m=a("BUFe"),v=n(m),p=a("AupE"),C=n(p),y=a("bFc7"),_=n(y);t.default={data:function(){return{count:0,orderInfo:{},contactInfo:{},formViewUniqueId:"5446fc51-1d16-489a-ab2b-6b2292bb7be5"}},mixins:[f.default],components:{Cell:i.default,Group:s.default,RAction:v.default,workFlow:C.default,contactPart:_.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment,e.count=e.count/100,t.formData.validUntil=(0,d.default)(t.formData.validUntil,"YYYY-MM-DD"),t.formData.tdAmount=(0,h.toFixed)(t.formData.tdAmount),e.orderInfo=t.formData,e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.orderInfo);this.contactInfo={creatorName:e.dealerDebitContactPersonName,dealerName:e.dealerName_dealerDebit,dealerMobilePhone:e.dealerDebitContactInformation,dealerContactPersonName:e.dealerDebitContactPersonName,dealerCode:e.dealerDebit,dealerLabelName:e.drDealerLabel,province:e.province_dealerDebit,city:e.city_dealerDebit,county:e.county_dealerDebit,address:e.address_dealerDebit,payment:e.drDealerPaymentTerm,validUntil:e.validUntil,logistics:e.drDealerLogisticsTerms}}}}},ntXv:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("kNGm"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);a("44qn");t.default={name:"BasicInfo",props:{workFlowInfo:{type:Object,default:function(){return{}}},orderInfo:{type:Object,default:function(){return{}}}},data:function(){return{showMore:!1}},computed:{projectInfo:function(){var e=this.orderInfo,t=e.outPut,a=void 0===t?{}:t,n=e.inPut,r=void 0===n?{}:n;return{projectName:a.project||r.project||"",projectType:a.projectType_project||r.projectType_project||""}}},filters:{dateFormat:r.default}}},"o+wH":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"flexbox",props:{gutter:{type:Number,default:8},orient:{type:String,default:"horizontal"},justify:String,align:String,wrap:String,direction:String},computed:{styles:function(){return{"justify-content":this.justify,"-webkit-justify-content":this.justify,"align-items":this.align,"-webkit-align-items":this.align,"flex-wrap":this.wrap,"-webkit-flex-wrap":this.wrap,"flex-direction":this.direction,"-webkit-flex-direction":this.direction}}}}},"o0+R":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages gdrw-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList,showStatus:!1},on:{"sel-item":e.selItem}}),e._v(" "),a("div",{staticClass:"materiel_list work_list"},[e._l(e.fundConfig,function(t,n){return a("div",{key:n,staticClass:"vux-1px-t"},[t.readOnly?[a("div",{staticClass:"each_property readOnly"},[a("label",{class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))]),e._v(" "),a("span",{staticClass:"property_val"},[e._v(e._s(e.workInfo[t.fieldCode]||e.workInfo[t.showFieldCode]))])])]:["transMatchedCode"===t.fieldCode?a("div",{staticClass:"each_property"},[a("label",{class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))]),e._v(" "),a("span",{staticClass:"property_val"},[e._v(e._s(e.workInfo[t.fieldCode]||e.workInfo[t.displayField]))])]):e._e(),e._v(" "),"r2Selector"===t.xtype&&"transMatchedCode"!==t.fieldCode?a("div",{staticClass:"each_property",on:{click:function(t){e.showManager()}}},[a("label",{class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))]),e._v(" "),a("div",{staticClass:"picker"},[a("span",{staticClass:"mater_nature"},[e._v(e._s(e.workInfo[t.fieldCode]||"请选择"))]),e._v(" "),a("span",{staticClass:"icon-right"})])]):e._e(),e._v(" "),"r2Numberfield"===t.xtype?a("div",{staticClass:"each_property "},[a("label",{class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.workInfo[t.fieldCode],expression:"workInfo[dItem.fieldCode]",modifiers:{number:!0}}],staticClass:"property_val",attrs:{type:"number",placeholder:"请输入"},domProps:{value:e.workInfo[t.fieldCode]},on:{focus:function(t){e.getFocus(t)},blur:[function(t){e.checkAmt(e.workInfo)},function(t){e.$forceUpdate()}],input:function(a){a.target.composing||e.$set(e.workInfo,t.fieldCode,e._n(a.target.value))}}})]):e._e(),e._v(" "),"r2Textfield"===t.xtype?a("div",{staticClass:"each_property"},[a("label",{class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.workInfo[t.fieldCode],expression:"workInfo[dItem.fieldCode]"}],staticClass:"property_val",attrs:{type:"text",placeholder:"请输入"},domProps:{value:e.workInfo[t.fieldCode]},on:{focus:function(t){e.getFocus(t)},input:function(a){a.target.composing||e.$set(e.workInfo,t.fieldCode,a.target.value)}}})]):e._e(),e._v(" "),"r2Datefield"===t.xtype?a("div",{staticClass:"each_property",on:{click:function(a){e.getDate(e.workInfo,t)}}},[a("label",{class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))]),e._v(" "),a("div",{staticClass:"picker"},[a("span",{staticClass:"mater_nature"},[e._v(e._s(e.workInfo[t.fieldCode]||"请选择"))]),e._v(" "),a("span",{staticClass:"icon-right"})])]):e._e()]],2)}),e._v(" "),a("pop-work-check-list",{ref:"matter",attrs:{show:e.showWorkPop,defaultValue:e.workInfo},on:{"sel-work":e.selWork},model:{value:e.showWorkPop,callback:function(t){e.showWorkPop=t},expression:"showWorkPop"}})],2),e._v(" "),a("pop-manager-list",{attrs:{show:e.showManagerPop,defaultValue:e.defaultManager},on:{"sel-item":e.selManager},model:{value:e.showManagerPop,callback:function(t){e.showManagerPop=t},expression:"showManagerPop"}}),e._v(" "),a("pop-warehouse-list",{attrs:{title:"入库仓库","filter-params":e.filterParams,"default-value":e.warehouse,"default-store":e.warehouseStoreInfo,isRequired:"",isShowStore:""},on:{"get-store":e.getStore,"sel-item":e.selWarehouse}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.bomList.length,expression:"bomList.length"}],staticClass:"materiel_list work_list"},[a("bom-list",{attrs:{boms:e.bomList},scopedSlots:e._u([{key:"specification",fn:function(t){var n=t.bom;return[a("div",{staticClass:"content-unit"},[a("span",[e._v("产品规格: "+e._s(n.specification||"无"))])])]}},{key:"number",fn:function(t){var n=t.bom;return[a("div",{staticClass:"number-part"},[a("span",{staticClass:"main-number"},[e._v("数量: "+e._s(n.tdQty)+e._s(n.measureUnit))]),e._v(" "),a("span",{staticClass:"number-unit"},[e._v("bom数量: "+e._s(n.qty))]),e._v(" "),a("span",{staticClass:"number-unit"},[e._v("损耗率: "+e._s(n.specificLoss))])])]}}])})],1),e._v(" "),a("div",{staticClass:"comment vux-1px-t"},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},o2EC:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("YP5q"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"alert",components:{XDialog:r.default},created:function(){void 0!==this.value&&(this.showValue=this.value)},props:{value:Boolean,title:String,content:String,buttonText:String,hideOnBlur:{type:Boolean,default:!1},maskTransition:{type:String,default:"vux-mask"},dialogTransition:{type:String,default:"vux-dialog"},maskZIndex:[Number,String]},data:function(){return{showValue:!1}},methods:{_onHide:function(){this.showValue=!1}},watch:{value:function(e){this.showValue=e},showValue:function(e){this.$emit("input",e)}}}},o2MO:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages wlxqtj-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[Object.keys(e.orderList).length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n,r){return a("div",{key:n,staticClass:"each_mater",class:{"vux-1px-b":r<Object.keys(e.orderList).length-1}},[t.length?a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v(e._s(e.orderListTitle))]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]):e._e(),e._v(" "),e._l(t,function(t,r){return a("div",{key:r,class:{mater_delete:e.matterModifyClass}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass,config:e.matterEditConfig.property},on:{"on-modify":function(a){e.getMatterModify(t,r,n)}},nativeOn:{click:function(a){e.delClick(r,t,n)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:n.tdQty,expression:"item.tdQty"}],staticClass:"mater_other"},[a("span",{staticClass:"matter-remain"},[e._v("\n                        减少数量: "+e._s(n.tdQty)+"\n                      ")])])]}},{key:"edit",fn:function(t){var i=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:!i.tdQty&&!e.matterModifyClass,expression:"!item.tdQty && !matterModifyClass"}],staticClass:"mater_other",on:{click:function(t){e.getMatterModify(i,r,n)}}},[a("span",{staticClass:"edit-tips"},[e._v("\n                        点击进行填写\n                      ")])])]}}])}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.matterModifyClass,expression:"matterModifyClass"}],staticClass:"delete_icon",on:{click:function(a){e.delClick(r,t,n)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])])],1)})],2)}),0)]:[a("div",{on:{click:function(t){e.showOrderPop=!e.showOrderPop}}},[a("div",{staticClass:"title"},[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择"+e._s(e.orderListTitle))]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),Object.keys(e.orderList).length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多物料")])]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showOrderPop,"default-value":e.matterList,config:e.matterPopConfig,"matter-params":e.matterParams,"order-title":e.matterPopOrderTitle},on:{"sel-matter":e.selOrder},model:{value:e.showOrderPop,callback:function(t){e.showOrderPop=t},expression:"showOrderPop"}})],2),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,config:e.matterEditConfig},on:{"sel-confirm":e.selConfirm},model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode"},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},o43U:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.contactInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_part"},[e._m(0),e._v(" "),e._l(e.orderInfo.order.dataSet,function(t,n){return a("div",{key:n,staticClass:"form_content",class:{show_border:n!==e.orderInfo.order.dataSet.length-1}},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"资金账户名称",cellContent:t.fundName_cashOutCode,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"资金账户大类",cellContent:t.cashType_cashOutCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"支付金额",showSymbol:"",cellContent:e._f("numberComma")(e._f("toFixed")(t.tdAmount),3)}})],1)])})],2),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("账户列表")])])}],i={render:n,staticRenderFns:r};t.a=i},o99i:function(e,t,a){"use strict";function n(e){a("OQoR")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("IlP4");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("Gkvy"),s=a.n(o),l=a("+AuF"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-845513e0",null);t.default=c.exports},oA6L:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("4YfN"),s=n(o),l=a("KH7x"),d=n(l),u=a("kNGm"),c=(n(u),a("SAzG")),f=n(c),h=a("0AQX"),m=a("+VRO"),v=n(m),p=a("BUFe"),C=n(p),y=a("AupE"),_=n(y),g=a("kKsb"),b=n(g),w=a("CKaN"),I=n(w),D=a("zWMP"),x=a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",dealerInfo:{},listData:[],cashInfo:{}}},computed:{isApproval:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"71c8f876-0617-4ff9-8a39-f9f99b14125d"===t},isCashier:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"00690810-7eaf-4bef-931b-a72eb5093f88"===t},isAccount:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"b00796ff-5986-4cdd-8ae4-fb202ff79af1"===t},cashParams:function(){return{transCode:this.transCode}}},mixins:[v.default],components:{workFlow:_.default,RAction:C.default,ProjectPart:b.default,PopCashList:I.default,XInput:f.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,h.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=t.formData,r=n.inPut,o=void 0===r?{}:r,l=(0,d.default)(o.dataSet,1),u=l[0],c=void 0===u?{}:u;e.attachment=a,e.dealerInfo=(0,s.default)({},c,o);var f=n.order.dataSet,h=!0,m=!1,v=void 0;try{for(var p,C=(0,i.default)(f);!(h=(p=C.next()).done);h=!0){var y=p.value;y.tdAmount&&(e.count=(0,D.accAdd)(e.count,y.tdAmount))}}catch(e){m=!0,v=e}finally{try{!h&&C.return&&C.return()}finally{if(m)throw v}}e.listData=f,e.orderInfo=n,e.cashInfo=t.formData.outPut.dataSet[0],e.workFlowInfoHandler()})},agreeHandler:function(){if(this.isApproval||this.isCashier||this.isAccount){if(this.isCashier&&!this.cashInfo.fundCode)return this.$vux.alert.show({content:"请选择资金账户"}),!0;var e=this.orderInfo,t=this.dealerInfo,a=this.cashInfo,n=this.listData.map(function(e){return{tdIdCopy1:e.tdIdCopy1,transMatchedCode:e.transMatchedCode,thenTotalAmntBal:e.thenTotalAmntBal,differenceAmountCopy1:e.differenceAmountCopy1,thenAlreadyAmnt:e.thenAlreadyAmnt,thenAmntBalCopy2:e.thenAmntBalCopy2,applicationAmount:e.applicationAmount,tdAmountCopy1:e.tdAmountCopy1,dealerDebit:e.dealerDebit}}),r=(0,s.default)({},e,{order:{dataSet:n},outPut:{dataSet:[{fundName_cashOutCode:a.fundName||a.fundName_cashOutCode,cashOutCode:a.fundCode||a.cashOutCode,cashType_cashOutCode:a.fundType||a.cashType_cashOutCode,thenAmntBal:a.thenAmntBal,tdAmount:a.tdAmount,tdId:a.tdId}]}}),i={"本次支付":t.tdAmountCopy1};this.saveData(r,i)}return!0},selCash:function(e){this.cashInfo=(0,s.default)({},this.cashInfo,e)},calcPayment:function(e){var t=(e.thenAmntBalCopy1,e.tdAmountCopy1),a=void 0===t?0:t;a||(a=0),a=(0,x.toFixed)(a),e.tdAmountCopy1=a}}}},oJgW:function(e,t){},oK9q:function(e,t){},oL6y:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=(a("HyXB"),a("MjAd")),s=n(o);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"任务类型",value:"taskType"},{name:"项目名称",value:"projectName_project"}],listViewID:2326}},mixins:[s.default],methods:{goDetail:function(e,t){var a=this;if(!this.clickVisited){var n=e.transCode,r=this.$route.query,o=r.name,s=r.listId,l=this.$route.params,d=l.folder,u=l.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,i.default)({},e)),setTimeout(function(){a.clickVisited=!1,a.$router.push({path:"/detail/"+d+"/"+u,query:{name:o,transCode:n,listId:s}})},200)}},getTaskIcon:function(e){return["icon-task","icon-task2","icon-task3"][e%3]}}}},oRkL:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("iR2W"),i=n(r),o=a("kNGm"),s=n(o),l=a("Qg39"),d=a("zWMP");t.default={name:"justWordItem",props:{item:{type:Object,default:function(){return{}}},noCount:{type:Boolean,default:!1},conutTitle:{type:String,default:"合计"}},data:function(){return{}},computed:{total:function(){var e=this.item,t=e.count,a=e.totalAmount,n=e.budgetIncome_project;return n||(null!=t?t:a||0===a?a:void 0)}},filters:{percent:function(e){return e||0===e?(0,d.accMul)(e,100)+"%":"无"},toFixed:l.toFixed,dateFormat:s.default,numberComma:i.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t}}}},oTyr:function(e,t){},oWIc:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("MgeX"),s=n(o),l=a("HzJ8"),d=n(l),u=a("ZLEe"),c=n(u),f=a("3cXf"),h=n(f),m=a("4YfN"),v=n(m),p=a("BGNQ"),C=n(p),y=a("z5TY"),_=n(y),g=a("SAzG"),b=n(g),w=a("kNGm"),I=n(w),D=a("PzEQ"),x=n(D),P=a("u28h"),S=n(P),k=a("jnZd"),L=n(k),N=a("HyXB"),M=a("0AQX"),T=a("bKg5"),A=n(T),O=a("VZtf"),R=n(O),j=a("y8YJ"),B=n(j),E=a("Ylj6"),F=n(E),U=a("9cRV"),$=n(U),H=a("vl8n"),V=n(H),q=a("+WR7"),Q=n(q),Y=a("luHD"),X=n(Y),G=a("zWMP"),W=a("Qg39"),z=a("Q67R"),K=n(z);t.default={mixins:[A.default],components:{ApplyMatterPart:K.default,Cell:C.default,Group:_.default,XInput:b.default,PopMatterList:$.default,PopMatter:X.default,RNumber:R.default,Datetime:S.default,XTextarea:x.default,PopDealerList:B.default,PopupPicker:L.default,PopInvoiceList:F.default,RPicker:V.default,PopBaseinfo:Q.default},data:function(){return{taxRate:.16,modifyKey:null,showMatterPop:!1,showMaterielPop:!1,filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"出库单",value:"transCode"}],numMap:{},orderList:{},matterList:[],dealerInfo:{},contactInfo:{},formData:{biProcessStatus:"",biComment:""}}},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],null!=this.matterParams.data.dealerCode&&(this.matterParams.data.dealerCode=this.dealerInfo.dealerCode,this.matterList=[],this.orderList={})},selContact:function(e){this.contactInfo=(0,v.default)({},e)},getMatterModify:function(e,t,a){this.matter=JSON.parse((0,h.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.inventoryCode!==e.inventoryCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getMatter:function(){if(!this.dealerInfo.dealerCode)return void this.$vux.alert.show({content:"请选择客户"});this.showMaterielPop=!this.showMaterielPop},selMatter:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){var a=e.transCode+"_"+e.inventoryCode,r=t.numMap[a]||{},i=r.tdQty,o=void 0===i?e.qtyBal:i,s=r.price,l=void 0===s?e.price:s,d=r.taxRate,u=void 0===d?t.taxRate:d,c=r.promDeliTime,f=void 0===c?"":c;e.tdQty=o,e.assMeasureUnit=e.assMeasureUnit||e.invSubUnitName||null,e.assMeasureScale=e.assMeasureScale||e.invSubUnitMulti||null,e.assMeasureDescription=e.assMeasureDescription||e.invSubUnitComment||null,e.price=l,e.taxRate=u,e.promDeliTime=f,e.dateActivation=(0,I.default)(e.dateActivation,"YYYY-MM-DD"),e.executionDate=(0,I.default)(e.executionDate,"YYYY-MM-DD"),n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t,a){var n=this.selItems,r=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode&&e.transCode===t.transCode});if(-1!==r)return void n.splice(r,1);n.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,h.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,c.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],r=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});r>=0&&(e.$refs.matter.delSelItem(n[r]),n.splice(r,1)),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){var e=!0,t=!1,a=void 0;try{for(var n,r=(0,d.default)((0,s.default)(this.orderList));!(e=(n=r.next()).done);e=!0){var i=n.value,o=!0,l=!1,u=void 0;try{for(var c,f=(0,d.default)(i);!(o=(c=f.next()).done);o=!0){var h=c.value;this.numMap[h.transCode+"_"+h.inventoryCode]=(0,v.default)({},h)}}catch(e){l=!0,u=e}finally{try{!o&&f.return&&f.return()}finally{if(l)throw u}}}}catch(e){t=!0,a=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw a}}this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerCode?(0,c.default)(this.orderList).length||(t="请选择"+this.orderListTitle+"信息"):t="请选择客户信息",!t){var n=!0,r=!1,o=void 0;try{for(var l,u=(0,d.default)((0,s.default)(this.orderList));!(n=(l=u.next()).done);n=!0){var f=l.value,m=!0,p=!1,C=void 0;try{for(var y,_=(0,d.default)(f);!(m=(y=_.next()).done);m=!0){var g=y.value;if(!g.tdQty){t="请填写数量";break}if(!g.price){t="请填写单价";break}var b=g.taxRate||this.taxRate,w=(0,W.toFixed)((0,G.accMul)(g.assistQty,b,g.noTaxPrice)),I={tdId:g.tdId||"",transMatchedCode:g.transCode,inventoryName_transObjCode:g.inventoryName,transObjCode:g.inventoryCode,measureUnit_transObjCode:g.measureUnit,tdProcessing:g.processing,assMeasureUnit:g.assMeasureUnit||null,assMeasureDescription:g.assMeasureDescription||null,assMeasureScale:g.assMeasureScale||null,thenQtyBal:g.qtyBal,tdQty:g.tdQty,assistQty:g.assistQty||0,price:g.price,tdAmount:g.tdAmount,taxRate:b,noTaxPrice:g.noTaxPrice,taxAmount:w,comment:g.comment||""};a.push(I)}}catch(e){p=!0,C=e}finally{try{!m&&_.return&&_.return()}finally{if(p)throw C}}}}catch(e){r=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw o}}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=N.saveAndStartWf,n=(0,i.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,h.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:"",formData:(0,h.default)((0,v.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.formData.handler,modifer:e.formData.handler,order:{crDealerLabel:"客户",dealerCodeCredit:e.dealerInfo.dealerCode,dataSet:a},dealerCreditContactPersonName:e.contactInfo.dealerName||null,dealerCreditContactInformation:e.contactInfo.dealerMobilePhone||""})),wfPara:(0,h.default)(n)};e.isResubmit&&(r.biReferenceId=e.biReferenceId,t=N.saveAndCommitTask),e.processCode.length||(t=N.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,M.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.attachment=t.attachment;var a={},n=t.formData,r=n.order,i=void 0===r?{}:r;i.dataSet.map(function(t){t=(0,v.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,clientInventoryName:t.dealerInventoryName,clientInventoryCode:t.dealerInventoryCode,qty:t.thenTotalQtyBal,stockQty:t.thenLockQty,qtyBal:t.thenQtyBal,transCode:t.transMatchedCode,invSubUnitMulti:t.assMeasureScale}),e.matterList.push(t),a[t.transCode]||(a[t.transCode]=[]),a[t.transCode].push(t)}),e.handlerDefault={handler:n.handler,handlerName:n.handlerName,handlerUnit:n.handlerUnit,handlerUnitName:n.handlerUnitName,handlerRole:n.handlerRole,handlerRoleName:n.handlerRoleName},e.orderList=a,e.formData=(0,v.default)({},e.formData,e.handlerDefault,{biComment:n.biComment,biId:n.biId,biProcessStatus:n.biProcessStatus,creator:n.creator,modifer:n.modifer}),e.dealerInfo={creatorName:n.dealerCreditContactPersonName,dealerName:i.dealerName_dealerCodeCredit,dealerMobilePhone:n.dealerCreditContactInformation,dealerContactPersonName:n.dealerCreditContactPersonName,dealerCode:i.dealerCodeCredit,dealerLabelName:i.crDealerLabel,province:i.province_dealerCodeCredit,city:i.city_dealerCodeCredit,county:i.county_dealerCodeCredit,address:i.address_dealerCodeCredit},e.contactInfo={dealerName:n.dealerCreditContactPersonName,dealerMobilePhone:n.dealerCreditContactInformation},e.matterParams.data.dealerCode=e.dealerInfo.dealerCode,e.$loading.hide()})},hasDraftData:function(){return!!(0,s.default)(this.dealerInfo).length&&(0,i.default)({},"KPSQ_DATA",{handlerDefault:this.handlerDefault,dealer:this.dealerInfo,list:this.orderList,contactInfo:this.contactInfo})}},created:function(){var e=sessionStorage.getItem("KPSQ_DATA");if(e){var t=JSON.parse(e);this.handlerDefault=t.handlerDefault,this.dealerInfo=t.dealer,this.orderList=t.list;var a=!0,n=!1,r=void 0;try{for(var i,o=(0,d.default)((0,s.default)(this.orderList));!(a=(i=o.next()).done);a=!0){var l=i.value,u=!0,c=!1,f=void 0;try{for(var h,m=(0,d.default)(l);!(u=(h=m.next()).done);u=!0){var v=h.value;this.matterList.push(v)}}catch(e){c=!0,f=e}finally{try{!u&&m.return&&m.return()}finally{if(c)throw f}}}}catch(e){n=!0,r=e}finally{try{!a&&o.return&&o.return()}finally{if(n)throw r}}this.contactInfo=t.contactInfo,this.matterParams.data.dealerCode=this.dealerInfo.dealerCode,sessionStorage.removeItem("KPSQ_DATA")}}}},"oeo+":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("r-search",{attrs:{filterList:e.filterList,isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"each_mater box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"order-code"},[e._t("titleName",[a("span",{staticClass:"order-title"},[e._v("订单号")])]),e._v(" "),a("span",{staticClass:"order-num"},[e._v(e._s(t.transCode))])],2),e._v(" "),a("div",{staticClass:"order-matter"},[a("div",{staticClass:"mater_img"},[a("img",{attrs:{src:t.inventoryPic,alt:"mater_img"},on:{error:function(a){e.getDefaultImg(t)}}})]),e._v(" "),a("div",{staticClass:"mater_main "},[a("div",{staticClass:"mater_name"},[e._v("\n                "+e._s(t.inventoryName)+"\n              ")]),e._v(" "),a("div",{staticClass:"mater_info"},[a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline",staticStyle:{display:"inline-block"}},[a("div",{staticClass:"mater_code"},[a("span",{staticClass:"title"},[e._v("编码")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(t.inventoryCode))])])]),e._v(" "),a("div",{staticClass:"ForInline",staticStyle:{display:"inline-block"}},[a("div",{staticClass:"mater_spec"},[a("span",{staticClass:"title"},[e._v("规格")]),e._v(" "),a("span",{staticClass:"num"},[e._v(e._s(t.specification||"无"))])])])]),e._v(" "),a("div",{staticClass:"withoutColor"},[e._t("basicInfo",[a("div",{staticClass:"mater_classify"},[a("span",{staticClass:"type"},[e._v("属性: "+e._s(t.processing))]),e._v(" "),a("span",{staticClass:"father"},[e._v("大类: "+e._s(t.inventoryType))]),e._v(" "),a("span",{staticClass:"child"},[e._v("子类: "+e._s(t.inventorySubclass||"无"))])]),e._v(" "),a("div",{staticClass:"mater_material"},[a("span",{staticClass:"unit"},[e._v("单位: "+e._s(t.measureUnit))]),e._v(" "),a("span",{staticClass:"color"},[e._v("颜色: "+e._s(t.inventoryColor||"无"))]),e._v(" "),a("span",{staticClass:"spec"},[e._v("材质: "+e._s(t.material||"无"))])])],{item:t}),e._v(" "),e._t("materInfo",[a("div",{staticClass:"mater_material"},[a("span",[e._v("待交付数量:"+e._s(t.qtyBal))]),e._v(" "),a("span",[e._v("库存: "+e._s(t.qtyStockBal))])])],{item:t})],2)])])]),e._v(" "),a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-circle-outline selIcon",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1),e._v(" "),a("div",{staticClass:"count_mode vux-1px-t"},[a("span",{staticClass:"count_num"},[e._v(" "+e._s(e.tmpItems.length?"已选 "+e.tmpItems.length+" 个":"请选择")+" ")]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.selConfirm}},[e._v("确定")])])])],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},of1D:function(e,t,a){"use strict";function n(e){a("vzn5")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("wxaE");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("q3qU"),s=a.n(o),l=a("B1Yr"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-5da5fd84",null);t.default=c.exports},ohXq:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"childPage dealer-page"},[a("r-scroll",{ref:"bScroll",staticClass:"content",attrs:{options:e.scrollOptions}},[a("div",{staticClass:"mater_baseinfo"},[a("div",{staticClass:"mater_pic"},[a("span",{staticClass:"title"},[e._v("往来照片")]),e._v(" "),a("upload-image",{attrs:{src:e.MatPic},on:{"on-upload":e.onUpload,"on-error":e.getDefaultImg}})],1)]),e._v(" "),e._l(e.dealerConfig,function(t,n){return a("div",{key:n,staticClass:"each-info"},["dealerLabelName"!==t.fieldCode&&"province"!==t.fieldCode&&"dealerStatus"!==t.fieldCode?["r2Textfield"===t.xtype?a("div",{staticClass:"each_property vux-1px-t"},[a("label",{class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))]),e._v(" "),a("div",{staticClass:"property_val"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.dealer[t.fieldCode],expression:"dealer[item.fieldCode]"}],attrs:{type:"text",placeholder:"请输入"},domProps:{value:e.dealer[t.fieldCode]},on:{blur:function(a){e.check(t)},focus:function(t){e.getFocus(t)},input:function(a){a.target.composing||e.$set(e.dealer,t.fieldCode,a.target.value)}}}),e._v(" "),t.warn?a("icon",{staticClass:"warn",attrs:{type:"warn"}}):e._e()],1)]):e._e(),e._v(" "),"r2Numberfield"===t.xtype?a("div",{staticClass:"each_property vux-1px-t"},[a("label",{class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))]),e._v(" "),a("div",{staticClass:"property_val"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.dealer[t.fieldCode],expression:"dealer[item.fieldCode]"}],attrs:{type:"number",placeholder:"请输入"},domProps:{value:e.dealer[t.fieldCode]},on:{blur:function(a){e.check(t)},focus:function(t){e.getFocus(t)},input:function(a){a.target.composing||e.$set(e.dealer,t.fieldCode,a.target.value)}}}),e._v(" "),t.warn?a("icon",{staticClass:"warn",attrs:{type:"warn"}}):e._e()],1)]):e._e(),e._v(" "),"r2Combo"===t.xtype?a("r-picker",{staticClass:"vux-1px-t",attrs:{title:t.fieldLabel,data:t.remoteData,value:e.dealer[t.fieldCode],required:!t.allowBlank},model:{value:e.dealer[t.fieldCode],callback:function(a){e.$set(e.dealer,t.fieldCode,a)},expression:"dealer[item.fieldCode]"}}):e._e()]:"dealerStatus"===t.fieldCode?[a("r-picker",{staticClass:"vux-1px-t",attrs:{title:t.fieldLabel,data:t.remoteData,value:e.dealerStatus,required:!t.allowBlank},model:{value:e.dealerStatus,callback:function(t){e.dealerStatus=t},expression:"dealerStatus"}})]:"province"===t.fieldCode?[a("div",{staticClass:"each_property vux-1px-t",on:{click:function(t){e.showAddress=!0}}},[a("label",[e._v("省市区:")]),e._v(" "),a("div",{staticClass:"picker"},[""===e.dealer.province&&""===e.dealer.city&&""===e.dealer.county?a("span",{staticClass:"mater_nature"},[e._v("请选择")]):a("span",{staticClass:"mater_nature"},[e._v(e._s(e.dealer.province)+e._s(e.dealer.city)+e._s(e.dealer.county))]),e._v(" "),a("span",{staticClass:"icon-right"})]),e._v(" "),a("x-address",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{title:"省市区",list:e.addressData,value:e.cAccountAddress,show:e.showAddress},on:{"on-hide":function(t){e.getAddress()},"on-shadow-change":e.changeAddress,"update:show":function(t){e.showAddress=t}}})],1)]:[a("div",{staticClass:"each_property vux-1px-t",on:{click:e.DealerPop}},[a("label",{class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))]),e._v(" "),a("div",{staticClass:"picker"},[a("span",{staticClass:"mater_nature"},[e._v(e._s(e.dealer[t.fieldCode]||"请选择"))]),e._v(" "),a("span",{staticClass:"icon-right"})])])]],2)}),e._v(" "),a("duplicate-component",{attrs:{config:e.dealerDuplicateConfig,defaultValue:e.dealerDuplicateData},model:{value:e.dealerDuplicateData,callback:function(t){e.dealerDuplicateData=t},expression:"dealerDuplicateData"}})],2),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{position:"bottom",height:"50%"},on:{"on-show":e.onShow},model:{value:e.pickerStatus,callback:function(t){e.pickerStatus=t},expression:"pickerStatus"}},[a("div",{staticClass:"trade_pop"},[a("r-scroll",{ref:"bScroll",staticClass:"dealer_list",attrs:{options:e.scrollOptions}},e._l(e.AccountRelType,function(t,n){return a("div",{key:n,staticClass:"dealer_type vux-1px-b",on:{click:function(a){e.selectType(t)}}},[a("div",{staticClass:"dealer_name"},[e._v(e._s(t.name))]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"checked"},[a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-checkmark-empty",attrs:{type:"ios-checkmark-empty",size:"30",xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M223.9 329.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])])}),0)],1),e._v(" "),a("div",{staticClass:"count_mode vux-1px-t"},[a("span",{staticClass:"count_num"},[e._v(" "+e._s(e.dealerType.length?"已选 "+e.dealerType.length+" 个":"请选择")+" ")]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.cfmMater}},[e._v("确定")])])])],1),e._v(" "),a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",class:{disabled:e.disabledSubmit},on:{click:e.save}},[e._v("\n      "+e._s(this.transCode?"保存":"提交")+"\n    ")])])],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},ojrp:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("rVsN"),i=n(r),o=a("KH7x"),s=n(o),l=a("0AQX"),d=a("kNGm"),u=n(d),c=a("1KNX"),f=n(c);t.default={name:"WorkFlowFull",data:function(){return{transCode:"",currentUser:{},workFlow:[],defaulImg:a("Fuf7")}},computed:{workFlowList:function(){var e=this.workFlow,t=this.currentUser.userId,a=void 0===t?"":t;return e.forEach(function(e){e.isMyNode=""+a==""+e.assignee}),e}},components:{RScroll:f.default},methods:{getDefaultIcon:function(e){var t=this.defaulImg;return e&&(e.photoUrl=t),t},getCurrentUser:function(){var e=this;return(0,l.currentUser)().then(function(t){e.currentUser=t})},getWorkFlow:function(){var e=this;return(0,l.getWorkFlow)({transCode:this.transCode}).then(function(t){var a=t.tableContent,n=void 0===a?[]:a,r=(0,s.default)(n,1),i=r[0],o=void 0===i?{}:i,l=n.slice(-1),d=(0,s.default)(l,1),u=d[0];n.forEach(function(e,t){e.statusClass="",e.statusText="已完成"}),o.statusText="已提交",u.endTime?u.statusClass="done":(u.statusClass="doing",u.statusText="进行中"),e.workFlow=n.reverse()})}},filters:{dateFormat:u.default},created:function(){var e=this,t=this.$route.query.transCode,a=[];this.transCode=t,this.$loading.show(),a.push(this.getCurrentUser()),a.push(this.getWorkFlow()),i.default.all(a).then(function(){e.$loading.hide()})}}},omAI:function(e,t,a){"use strict";function n(e){a("tolm")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("gICN");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("tvAB"),s=a.n(o),l=a("GmAZ"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-170ded9f",null);t.default=c.exports},omzW:function(e,t){},"oro+":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2317,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[r.default],methods:{},created:function(){}}},"ow/D":function(e,t,a){"use strict";function n(e){a("PkWQ")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("doYu");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("5q3q"),s=a.n(o),l=a("RT32"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-6ade98fa",null);t.default=c.exports},owYz:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("yp1W"),r=function(e){return e&&e.__esModule?e:{default:e}}(n),i=null,o={};o.install=function(e){if(!i){var t=e.extend(r.default);i=(new t).$mount(),document.body.appendChild(i.$el)}e.prototype.$loading={show:function(){i.show=!0},hide:function(){i.show=!1}}},t.default=o},oxLw:function(e,t,a){"use strict";function n(e){a("k/x4")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("OC53");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("yosr"),s=a.n(o),l=a("0yYA"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-b22a0a7c",null);t.default=c.exports},oxUE:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pop-company-container vux-1px-b",on:{click:e.itemClick}},[e.selItems.groupName?a("div",[a("div",{staticClass:"title"},[e._v("公司")]),e._v(" "),a("div",{staticClass:"user_info"},[a("span",{staticClass:"user_name"},[e._v(e._s(e.selItems.groupName))])])]):a("div",[a("div",{staticClass:"title required"},[e._v("公司")]),e._v(" "),a("div",{staticClass:"mode"},[e._v("请选择公司")])]),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:!e.disabled,expression:"!disabled"}],staticClass:"iconfont icon-youjiantou r-arrow"}),e._v(" "),e.disabled?e._e():a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("d-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"pop-list-container",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"pop-mater-list-item box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"pop-list-main "},[a("div",{staticClass:"pop-list-info"},[a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline name",staticStyle:{display:"inline-block"}},[a("span",[e._v(e._s(t.groupName))])])]),e._v(" "),t.companyType?a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline ",staticStyle:{display:"inline-block"}},[a("span",{staticClass:"creator"},[e._v(e._s(t.companyType))])])]):e._e()])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1)])],1)])},r=[],i={render:n,staticRenderFns:r};t.a=i},"oxg+":function(e,t,a){"use strict";function n(e){a("m4uh")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("DBVi");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("rSJi"),s=a.n(o),l=a("ZGNX"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-75bf5e9a",null);t.default=c.exports},"p/0M":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAYAAAA8AXHiAAAAAXNSR0IArs4c6QAADxJJREFUeAHtXQuQHEUZ/rtn9i4hbwKBEBBCEgwgKFBEiFIGRNCIgCWkSgyKhIfgg0dAUESCvDGFEAvkEaASXkoAgQAFIdFUWQQDaCEWIgkiREEkCgQMyd30w2/2slt7e7t7u3ezM927/1QlN9Pd8/ff3/9tP/5+jKAal7332ICe2TCEtOikwIYkuiVFWtR4haNaFYFcYMl2GHBBgQtdNG3UZjFria5W3IokyRNq1foRRHpotRc5nBEgCjbR9G0/qESwPsSy82YMoY00mmsmJk5dCMQ12TB6T8xbubk0fS9i2XMOG0Zq08jSBHzPCNSFQDj0fTF/2cZCWlm4yddUTKoCHPy3UQTAnTyHtryXJ1a+TxU3f3wxAoNBABzKcwkyemqsuKPOo73BQMrvxgjEHMoP+kCsHobx6I+ZkRQCemjMKZn3UyUlk+UwAjEC8H3KvPOT4WAEkkQADnWZ96gnKZRlMQKYpZH5aRqGghFIEgFM/fHcX5KAsqweBDA6LDpIGRNGIEkEmFhJosmyiggwsYpQ8E2SCDCxkkSTZRURYGIVoeCbJBFgYiWJJssqIsDEKkLBN0kiwMRKEk2WVUSAiVWEgm+SRICJlSSaLKuIABOrCAXfJIkAEytJNFlWEQEmVhEKvkkSASZWkmiyrCICTKwiFHyTJAJMrCTRZFlFBJhYRSj4JkkEwiSFtZws2/0xrIWcbYXdDWWbsqV8a4UVawJh7yCbe7HlypxQgZhYlYCUYqKy0fkkxBE4u6fX+RZIPhZEO8ASHU9CPRKK3JVk7N8riWnnMG4Ky6xvKDpG2e4nQagvgTzlpCqmjuPiNHFaI9SsYgTf5BFgYhWIIOxQJdV12CS+AKTZqhDc3984rSZ7rRJqAajG54ltAYyJFQMhu6dGpB631h7bH5GqxaP2OgYynqBQ714tTTuFtz2xjOg+TpF8FEYvdM4HY//JythHUXvNHoyQVni3fYkl1DA0fTdoEvNRUyXWhEHWENReV4Ncv6CcGN4KJBlIGdqTWKJ7r0jYZSDB0QMBrZ53QK6jItW9DDvN96onfaulaTtioZY6AU3fw2RpYgrG3EUJsVTJ6MQU8nIqi/YhVocZqUT3QtRSl6M26UzLCtZSB/5dCnItJOiQVr5Z59MWxNIUfSKKFHxTYmZWgINcM1Wkl2tp9slKhzTzbXliqUCdDN/5Q/Bn7pQmsJXygs9rR2v1g0rqUyvFt1JY6xIroDFofhZZYy+GQXOuGC3WxVpzkRLRYoKOruiVtB4tSSwto/0x14dRH30uacCSkgeCHQodn9RCT0tKpktyWo5YSujvoC91P0g1wSWgK+kCHXfAQOJ++Ly+Vyne57DWIVaox6Lpu8uS+SFGft6s2gCx4q8fnY+m8R5MB431mUylurcEsXRgDlTaLEcNcHBp4Xy6R9P4GWXMCh3oT/mkdzVd/SaWwoIVoc7CSGsJDLNdtUL6Eo4fxjh07H+F2msuoWy+6F1JT3+JJe04ldP3ohk5FwbxtxxlVonLgh/JXJRtCe7GlUV78+ilQTCS+oyyajkM0BLNRiW2oGzTlVErNKkZleJdD/OLWAIzfUKdhw763QB+G9fBHax+cOzGy6DvgvvkB6S7g8HKS/N9n4g1XmFojqbvDJDK6/5HIwaOy2osfVeF8n6srd+hkXezTOsFsbTUn0WHFnN99Mkswcoyb/ygpqlQP6mlctbpW4qP28SSIkQzcCFGSotBqq1LFW/He/jnxhhrF2nqvoiAjcsYuEusQO6IHTAPohk4rZ2avnrIYoQ4VVH0EDoEmU+sV9PXSWJhJPQFZbripm/faoq3ezhqr31ArmVamMyWAtWygVvEsjanhbrECHsrSDWqluIcR1gES6MM6YVaRJdRoDtcwsQdYkmzcyT1UkN2jksA+aCLIfpmZO1SIr2LK/o6QSwj1ZHK6mX4De7tCjDe6WHtXgobRIyMmrZBpBFMMiZW1Imm7ypt7Y2o1kc0ojin7YsAXBLDtaUbIhldTaprSN8U6YVkR6zATooEPYqm7/j0itsmOVmaHeWCxygnJ2dV4kyIhTUJX8E82BMo9B5ZFbz187VTlep6HE3jgI8NGAxGqRMLroQrcYjGz9H01X3wxmAK2M7vxhijabwuEmgaU75SJZYi/W24Er6echk5O6LZ8ZLtNIFIlVhWmLY/LCNN45bmhRUhXyt9bvZ9qsQSQtTcCSxIPI9jGC9pdqFbUT6w3VSrXP1hX+vdgcSlSiz4qZ6rpqQkcXNogqOEkK9XS8PhNRCw4nIY8/aqKSw9WzWuCRGpEisMxGU4X/G/peVALfWepOCEwIbzcOZnVBrH940gYLsCm7sAWJ6ExWrvl74pBL0VytxlpWHNvk936UUUrgmF+byifF9rF9Rgr4Qd8nbqku80u6DtIj+w8jEsqXkOo+85GBVOwoTiS6GRdwLrf6eJQbrEiktm5RshyauKhewq3vFNUggY8XZAuSuSEjcQOak2hQNRkN/xEwEmlp92c17r9JtC5yFJWMEgR2LCFJwx00n2ny8TdX2YcAZuivOeWBhVopcmfyakWY2OquoDs7UYFNFk7Cv+PjaDbt8nvokB8tPHkPzi6SQ6e87OtSCVeWIhmZX3NDFXN0R7TyzAuCC0cgHpmq36c1bodfA+35cW7PLwkyg4vPeaRdG5FQVH4mCZrUaSeeymtFTJJJ+a1shEowYzFVI8U88rAYV1patHVr9pxu1M8tBvVE0WHHoCyRlfrRrfChHeEwv+i77NXyXLmDrTVXq3wTA5ZT8SQe3GIK65xLQjGpTsT/IWIJaDYG9T366sYBY+MLb3DAcLMHiVmFiDx7CvhHi4UMclZEDB7J+QmLJ/Han9SsLEytheIsxRcOJVJHbeM2NNks2eiZUUngJQ7jCZ5IFHk5zU2FHusTsiOPkaou13TUqbzOXU7mFmrp7jCnQMIbn/TPSTDiHxkd3hrxr4amsBF0T4retILcAR8O+86XjB+1fPe2IJYyahmKv7LyolVx2M3o7yzs8DjyIxNLlda2LkNhSetqCHXB/0Wl1UR/HcSuJ9U2iEnIujffarCWt8wIiI5tdMU2dk7H8KL7iPgkNmJ0qqQvZi7IR8zUUJErYgO82/3tdYOBxjPNYdLbUiirBQUPcBD4e+4+sUnX3CGw2AoYPjLiS550GNvtlwejF+EgVzfkr6+tPhpsMGeg8v72usAuYgFz4lgo9Qlv9L4ktf6FSH5yxOhVSF8shdPw7vvb8bmlqGWAWDJP437lSj9hBjUp2/zhdDHoa5xuF+fm6HiVWLiXB0BsfDgTk2m6M/42khMcnPI8K872PBx42FMfLuwNrfozdVoY+F3YwkJoM/p6C5HFaLR+VxcuZpJD+a7bGnsRsCent3+U8sK24JbTAvj3wVC8TVMs6G/zOWzdxWt4W23Ynkwanu8ayomvXUp+V/UyjlbypapCwwsOa3ZUE1HwMsexEyW3jshvXYx/THmnq6GpktckmgIgxWkNZz5epMB1noqIt9D69HaNPSWI2TLu65FFWtn1st/SdWE0wrD4BHvZ/1VE3ItpdI88A1ZNektzaxV+YJPDCxKoAo95heITS9IB2vi3/61+ll2IScmFjloGK+TkzYrTw0tWf91APYcHFravk1KyMmVhmyYnJ2fiPz/AoyDyQypVlWqvQfvXc3JA2ZGOCaKBt1kf3HX8m+9gKJHaeS3K2xVaFmzbOk75oXe+WSLlIm8rwnFpbN1OcWj7+cFfSPsdh+Yv+JSlLY7s1knsKHuVYsJvqw55AX+eWziRogVkxIffv5GAHWty+kJHtnb70nFs7YPFMauxonrFRfHSfsUBVEF9fzNToxZnzdxjKv/on04h/h0KD/1P1OeUL79jpSN5/VcjukvScWlspMUYFejQ9Grqu4ExpswjUB8z4925HLLVv+PGLr8pCKz+aFlaTvvIhIdVeMrycwdoCqm84g2vhePcm9SuM/sQA3Ds4P8F/VNgxLaeo3yvDR/aY1zy8nfcePq/eH6jifwaLZVDedSfTuW/3m52MCHhWWWi3etoVOeK3Lvv066V9eXp1UeNm+sbaWCIr7ZXrhuURvvVoznc+RTKxS66Fms6+/WBrS6z4mhFp0AVF3zXNkyb74O5yf91qvdwsP+akayIhHj618MbHKrGseuR6b9ivPz5mHFxD9629lb1R4RL9L3XZe3v1QGmv/9y7pW84m+9Kq0uCWvG+JPlaSlonPsNK3zKX89vctC/xiopkVi8isamCaZT1Ge9fOIbHT1J79ghs39Mz99dPUJlmWLGUxsSqgb9c+S+qKWSDERBJYGmzffIUItU3DFzZC2HV/IYr/tdnFxKpmcIPFqCBUA+PJapLaMpz7WG1p9uYXmonVfIzbMgcmVluavfmFZmI1H+O2zME9YgnbehNnbUgt54gV6GAtJlZ4MOY5GZ0jFglaD0yf9hzXtlffPWLBJFjmcgXXWo1xUwpbe/a8MXGDTu0ksQIT/gH0umTQpWsjAUaLl10qrpPEigEKbXhjIO2pWMlSfWWoS0hmqAswWhGK0KnlEs4SK7aT1B1LQbCDBL5vmP9edNmXQzO0pRNZxz86GBBnV4SnOKFQiRLCnnlQ/Yu8S17kW0agFgJO11i1FOc4txFgYrltH2+1Y2J5azq3FWdiuW0fb7VjYnlrOrcVZ2K5bR9vtWNieWs6txVnYrltH2+1Y2J5azq3FWdiuW0fb7VjYnlrOrcVZ2K5bR9vtWNieWs6txVnYrltH2+1Y2J5azq3FWdiuW0fb7VjYnlrOrcVZ2K5bR9vtWNieWs6txWXlAt417HbNvJPO3BKku0w/mnOGjuNADgl8U3b1vnOhtNot5Fy4JSkwK2t2W0Ef+sWFZySNG3U5tYtIZcsEwTAKSlmLcEprkHtE/Ez0Y4z9ROBYFPMqR53w/RtP+DRoZ9mdErr2MMQcwlXnlj5WmsY8Ul6TlnJQ2XAoZ4WsOwDfvacw4aR2jTSwyKxylkjEA59X8xftrGgBs43633ZeTOG0EYaTZHuE9c7JT8xAkAgbv7immreyl6DwIrksfceG9Cq9SPwLdn6Ph7JCLcpAhj0oU9VaP5KQahIrEKCPMGe2TAETtRO+LtCEt2Sa7ICOm32N66Z4lma2KEe+z7hUqhEqAIq/wcRWXIizXgd1QAAAABJRU5ErkJggg=="},"p/Sr":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("m-search",{attrs:{filterList:e.filterList},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.workList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.workList,function(t,n){return a("div",{key:n,staticClass:"each-work box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"work-main"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.transCode,expression:"item.transCode"}],staticClass:"work_top"},[a("span",{staticClass:"code_name"},[e._v("加工订单号")]),e._v(" "),a("span",{staticClass:"work_code"},[e._v(e._s(t.transCode))])]),e._v(" "),a("div",{staticClass:"work_mid vux-1px-b"},[a("div",{staticClass:"product_name"},[e._v("\n                "+e._s(t.inventoryName)),a("span",{staticClass:"symbol"},[e._v("[成品]")])]),e._v(" "),a("div",{staticClass:"product_unit"},[a("span",{staticClass:"each_unit"},[e._v("成品编码: "+e._s(t.inventoryCode))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.processProQty,expression:"item.processProQty"}],staticClass:"each_unit"},[e._v("加工数量: "+e._s(t.processProQty))])])]),e._v(" "),a("div",{staticClass:"work_btm"},[a("div",{staticClass:"procedure_name"},[a("span",[e._v(e._s(t.procedureName))]),e._v(" "),a("span",{staticClass:"symbol"},[e._v("[工序编码: "+e._s(t.proPointCode)+"]")])]),e._v(" "),a("div",{staticClass:"procedure_unit"},[a("span",{staticClass:"each_unit"},[e._v("工序可派工: "+e._s(t.thenQtyBal))]),e._v(" "),a("span",{staticClass:"each_unit"},[e._v("派工总数: "+e._s(t.productDemandQty))])])]),e._v(" "),a("div")]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1),e._v(" "),a("div",{staticClass:"count_mode vux-1px-t"},[a("span",{staticClass:"count_num"},[e._v(" "+e._s(e.tmpItems.length?"已选 "+e.tmpItems.length+" 个":"请选择")+" ")]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.cfmMater}},[e._v("确定")])])])],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},"p/zx":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("3cXf"),s=n(o),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),h=n(f),m=a("SAzG"),v=n(m),p=a("7g+Q"),C=n(p),y=a("PzEQ"),_=n(y),g=a("jnZd"),b=n(g),w=a("u28h"),I=n(w),D=a("kNGm"),x=n(D),P=a("0AQX"),S=a("HyXB"),k=(a("jLp1"),a("bKg5")),L=n(k),N=a("55ug"),M=n(N),T=a("wuIh"),A=n(T),O=a("vl8n"),R=n(O),j=a("+WR7"),B=n(j),E=a("zWMP"),F=a("Qg39"),U={draftNumber:"",draftType:"",accepter:"",tdAmount:"",draftDate:"",draftDueDate:"",comment:""};t.default={mixins:[L.default],components:{Cell:c.default,Group:h.default,Popup:C.default,XInput:v.default,XTextarea:_.default,PopupPicker:b.default,RPicker:R.default,PopBaseinfo:B.default,PopDealerList:M.default,PopMoneyOrderList:A.default,Datetime:I.default},data:function(){return{listId:"1745ffdd-1b6a-4fe5-9c5b-6e5394bd4faf",biReferenceId:"",selectedCost:[],costIndex:0,transCode:"",formData:{biComment:""},dealerInfo:{},showOrder:!1,orderList:[(0,d.default)({},U)],dealerParams:{dealerLabelName:"客户"},draftTypeList:["银行承兑","商业承兑"]}},computed:{thenTotalAmntBal:function(){var e=0;return this.orderList.forEach(function(t){t.tdAmount&&(e=(0,E.accAdd)(e,t.tdAmount))}),(0,F.toFixed)(e)}},methods:{submitOrder:function(){var e=this,t="",a=[],n=[{key:"draftNumber",message:"请输入汇票号"},{key:"draftType",message:"请选择类型"},{key:"accepter",message:"请输入承兑人"},{key:"tdAmount",message:"请输入金额"},{key:"draftDate",message:"请选择出票日"},{key:"draftDueDate",message:"请选择到期日"}];if(this.dealerInfo.dealerCode||(t="请选择往来"),t||this.orderList.every(function(e){return n.every(function(a){return e[a.key]||0===e[a.key]||(t=a.message),!t}),a.push({tdId:e.tdId||"",draftNumber:e.draftNumber,draftType:e.draftType,accepter:e.accepter,tdAmount:e.tdAmount,draftDate:e.draftDate,draftDueDate:e.draftDueDate,comment:e.comment}),!t}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=S.saveAndStartWf,n=(0,i.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,s.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:e.formData.biComment,formData:(0,s.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{dealerName_dealerCodeCredit:e.dealerInfo.dealerName,dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName,thenAmntBalCopy2:e.dealerInfo.amntBal,thenAlreadyAmnt:e.thenTotalAmntBal,dataSet:a}})),wfPara:(0,s.default)(n)};e.isResubmit&&(r.biReferenceId=e.biReferenceId,t=S.saveAndCommitTask),e.processCode.length||(t=S.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.attachment,n=void 0===a?[]:a,r=t.listId,i=void 0===r?"":r,o=(t.biComment,t.biReferenceId),s=void 0===o?"":o,l=t.formData,u=void 0===l?{}:l;e.attachment=n,e.listId=i,e.biReferenceId=s,e.handlerDefault={handler:u.handler,handlerName:u.handlerName,handlerUnit:u.handlerUnit,handlerUnitName:u.handlerUnitName,handlerRole:u.handlerRole,handlerRoleName:u.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:u.biComment,biId:u.biId,biProcessStatus:u.biProcessStatus,creator:u.creator,modifer:u.modifer});var c=u.order,f=void 0===c?{}:c,h=f.dataSet,m=void 0===h?[]:h;e.dealerInfo={dealerName:f.dealerName_dealerCodeCredit,dealerCode:f.dealerCodeCredit,dealerLabelName:f.crDealerLabel,amntBal:f.thenAmntBalCopy2,thenTotalAmntBal:f.thenAlreadyAmnt},e.orderList=m,e.$loading.hide()})},hasDraftData:function(){return!!this.dealerInfo.dealerCode&&(0,i.default)({},"SDCDHP_DATA",{formData:this.formData,dealerInfo:this.dealerInfo,orderList:this.orderList})},getRelationData:function(){},selDealer:function(e){this.dealerInfo=(0,d.default)({},e)},selOrder:function(e){e.forEach(function(e){e.draftDate=(0,x.default)(e.draftDate,"YYYY-MM-DD"),e.draftDueDate=(0,x.default)(e.draftDueDate,"YYYY-MM-DD")}),this.orderList=e},addOrder:function(){this.orderList.push((0,d.default)({},U))},deleteOrder:function(){this.orderList.pop()},checkAmt:function(e,t){switch(e){case"tdAmountCopy1":this.dealerInfo.tdAmountCopy1=(0,F.toFixed)(this.dealerInfo.tdAmountCopy1);break;default:e[t]=(0,F.toFixed)(e[t])}}},created:function(){var e=sessionStorage.getItem("SDCDHP_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.orderList=t.orderList,sessionStorage.removeItem("SDCDHP_DATA")}}}},p3VH:function(e,t){},p6YX:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){for(var a=e.length;a--;)if(e[a]===t)return!0;return!1}Object.defineProperty(t,"__esModule",{value:!0});var i=a("DEQU"),o=n(i),s=a("MPfS"),l=a("GM4P"),d=n(l);t.default={name:"radio",mixins:[o.default],filters:{getValue:s.getValue,getKey:s.getKey},props:(0,d.default)(),created:function(){this.handleChangeEvent=!0},methods:{getValue:s.getValue,getKey:s.getKey,onFocus:function(){this.currentValue=this.fillValue||"",this.isFocus=!0}},watch:{value:function(e){this.currentValue=e},currentValue:function(e){var t=r(this.options,e);""!==e&&t&&(this.fillValue=""),this.$emit("on-change",e,(0,s.getLabel)(this.options,e)),this.$emit("input",e)},fillValue:function(e){this.fillMode&&this.isFocus&&(this.currentValue=e)}},data:function(){return{fillValue:"",isFocus:!1,currentValue:this.value}}}},p6ff:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("3cXf"),s=n(o),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),h=n(f),m=a("SAzG"),v=n(m),p=a("7g+Q"),C=n(p),y=a("PzEQ"),_=n(y),g=a("jnZd"),b=n(g),w=a("0AQX"),I=a("HyXB"),D=(a("jLp1"),a("bKg5")),x=n(D),P=a("aumL"),S=n(P),k=a("vl8n"),L=n(k),N=a("+WR7"),M=n(N),T=a("y8YJ"),A=n(T),O=a("zWMP");a("Qg39");t.default={mixins:[x.default],components:{Cell:c.default,Group:h.default,Popup:C.default,XInput:v.default,XTextarea:_.default,PopFundList:S.default,PopupPicker:b.default,RPicker:L.default,PopBaseinfo:M.default,PopDealerList:A.default},data:function(){return{listId:"1972f3a4-b29a-4a0e-90a8-85090c0e2d28",biComment:"",biReferenceId:"",showCostPop:!1,CostList:[{cashName:"",cashOutCode:"",cashType_cashOutCode:"",tdAmount:""}],selectedCost:[],costIndex:0,transCode:"",dealerInfo:{},contact:{},formData:{biComment:"",biProcessStatus:""}}},computed:{totalAmount:function(){var e=0;return this.CostList.forEach(function(t){t.tdAmount&&(e=(0,O.accAdd)(e,t.tdAmount))}),e}},methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0]},selContact:function(e){this.contact=(0,d.default)({},e)},getCost:function(e,t){this.showCostPop=!0,this.costIndex=e,this.selectedCost=[t]},addCost:function(){this.expSubjectList=[],this.CostList.push({cashName:"",cashOutCode:"",cashType_cashOutCode:"",tdAmount:""})},deleteCost:function(){this.CostList.pop()},selMatter:function(e){var t=e;this.CostList[this.costIndex].cashName=t.fundName,this.CostList[this.costIndex].cashOutCode=t.fundCode,this.CostList[this.costIndex].cashType_cashOutCode=t.fundType},submitOrder:function(){var e=this,t="",a=[];if(this.CostList.every(function(e){return e.cashName?e.tdAmount?(a.push({tdId:e.tdId||"",cashOutCode:e.cashOutCode,cashType_cashOutCode:e.cashType_cashOutCode,tdAmount:e.tdAmount}),!0):(t="请填写支付金额",!1):(t="请选择资金账户",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=I.saveAndStartWf,n=(0,i.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,s.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:"",formData:(0,s.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",order:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,dataSet:a},dealerDebitContactPersonName:e.contact.dealerName||null,dealerDebitContactInformation:e.contact.dealerMobilePhone||null})),wfPara:(0,s.default)(n)};e.isResubmit&&(r.biReferenceId=e.biReferenceId,t=I.saveAndCommitTask),e.processCode.length||(t=I.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,w.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){e.attachment=t.attachment,e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId,e.CostList=[];var a=t.formData;e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),a.order.dataSet.forEach(function(t){var a={cashName:t.fundName_cashOutCode,cashOutCode:t.cashOutCode,cashType_cashOutCode:t.cashType_cashOutCode,tdAmount:t.tdAmount,tdId:t.tdId};e.CostList.push(a)}),e.dealerInfo={creatorName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation,dealerCode:a.order.dealerDebit,dealerLabelName:a.order.drDealerLabel,dealerName:a.order.dealerName_dealerDebit,province:a.order.province_dealerDebit,city:a.order.city_dealerDebit,county:a.order.county_dealerDebit,address:a.order.address_dealerDebit},e.contact={dealerName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation},e.$loading.hide()})},hasDraftData:function(){var e=!1;return this.CostList.forEach(function(t){if(t.cashName)return e=!0,!1}),!!e&&(0,i.default)({},"FYBX_DATA",{cost:this.CostList,formData:this.formData,dealerInfo:this.dealerInfo,contact:this.contact})}},created:function(){var e=sessionStorage.getItem("FYBX_DATA");if(e){var t=JSON.parse(e);this.CostList=t.cost,this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.contact=t.contact,sessionStorage.removeItem("FYBX_DATA")}}}},p9IC:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"popup-header",props:{leftText:String,rightText:String,title:String,showBottomBorder:{type:Boolean,default:!0}}}},pAHg:function(e,t,a){"use strict";function n(e){a("MR6z")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("kA5c");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("d8ys"),s=a.n(o),l=a("qXjf"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-5be46d6a",null);t.default=c.exports},pD7w:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("a3Yh"),s=n(o),l=a("KH7x"),d=n(l),u=a("Q+Ik"),c=n(u),f=a("3cXf"),h=n(f),m=a("BGNQ"),v=n(m),p=a("z5TY"),C=n(p),y=a("SAzG"),_=n(y),g=a("PzEQ"),b=n(g),w=a("u28h"),I=n(w),D=a("jnZd"),x=n(D),P=a("jLp1"),S=a("bKg5"),k=n(S),L=a("JUuq"),N=n(L),M=a("vl8n"),T=n(M),A=a("+WR7"),O=n(A),R=a("Qg39"),j=a("zWMP");t.default={mixins:[k.default],components:{Cell:v.default,Group:C.default,XInput:_.default,Datetime:I.default,XTextarea:b.default,PopNameList:N.default,PopupPicker:x.default,RPicker:T.default,PopBaseinfo:O.default},data:function(){return{listId:"0281f8eb-f1d2-415c-b566-756fc749ccb3",projectTypes:[["设计类","协调类","执行类"]],planModel:{taskName:"",taskType:"",taskTypes:[],comment:"",deadline:"",cycleDays:"",planTime:"",jobRate:"",budgetHomeworkCost:""},projectPlan:[],formData:{biProcessStatus:"",biComment:""},formDataComment:"",project:{}}},methods:{addPlan:function(){var e=(0,h.default)(this.planModel);this.projectPlan.push(JSON.parse(e))},delatePlan:function(){this.projectPlan.pop()},typeTask:function(e,t){t.taskType=e[0]},selProject:function(e){var t=JSON.parse(e);this.project=t;var a={projectType:this.project.PROJECT_TYPE,filters:(0,h.default)([{operator:"in",property:"projectType",value:this.project.PROJECT_TYPE}])};this.getProjectBotTask(a)},getProjectBotTask:function(e){var t=this;(0,P.getProjectBotTask)(e).then(function(e){var a=e.tableContent,n=void 0===a?[]:a;n.forEach(function(e){e.taskTypes=[e.taskType]}),t.projectPlan=n})},save:function(){var e=this,t="",a=[];this.project.PROJECT_NAME||(t="请选择项目");var n={taskName:"任务名称",deadline:"截止日期"};if(t||this.projectPlan.every(function(e){return(0,c.default)(n).every(function(a){var n=(0,d.default)(a,2),r=n[0],i=n[1];return!!e[r]||(t=i+"不能为空",!1)}),a.push({budgetHomeworkCost:e.budgetHomeworkCost,comment:e.comment,cycleDays:e.cycleDays,deadline:e.deadline,jobRate:e.jobRate,planTime:e.planTime,projectType:e.projectType,taskName:e.taskName,taskType:e.taskType}),!t}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=P.saveProjectPlan,n={listId:e.listId,formData:{baseinfo:{biProcessStatus:e.formData.biProcessStatus,handlerEntity:e.entity.dealerName,creator:e.formData.handler,handler:e.formData.handler,handlerName:e.formData.handlerName,handlerRole:e.formData.handlerRole,handlerRoleName:e.formData.handlerRoleName,handlerUnit:e.formData.handlerUnit,handlerUnitName:e.formData.handlerUnitName,id:"",modifer:e.formData.handler},comment:{biComment:e.formData.biComment},projectApproval:{projectName:e.project.PROJECT_NAME,comment:e.project.COMMENT,projectManager:e.project.PROJECT_MANAGER,expectStartDate:e.project.EXPECT_START_DATE,expectEndDate:e.project.EXPECT_END_DATE},projectPlan:a}};e.saveData(t,n)}})},checkTime:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=e.planTime,r=e.jobRate;e[t]&&(e[t]=Math.abs((0,R.toFixed)(e[t],a))),"planTime"!==t&&"jobRate"!==t||(e.budgetHomeworkCost=(0,j.accMul)(Number(n),Number(r)))},hasDraftData:function(){return!!this.project.PROJECT_NAME&&(0,s.default)({},"XMJH_DATA",{project:this.project,projectPlan:this.projectPlan})},getRelationData:function(){var e=this;return(0,P.findProjectPlan)(this.relationKey).then(function(t){var a=t.formData,n=void 0===a?{}:a,r=(t.attachment,JSON.parse((0,h.default)(n.projectApproval)));e.project={BUDGET_CAPITAL:r.budgetCapital,BUDGET_COST:r.budgetCost,BUDGET_INCOME:r.budgetIncome,BUDGET_PROFIT:r.budgetProfit,BUDGET_PROFIT_MARGIN:r.budgetProfitMargin,COMMENT:r.comment,EXPECT_END_DATE:r.expectEndDate,EXPECT_START_DATE:r.expectStartDate,ID:r.projectApprovalId,PHONE_NUMBER:r.phoneNumber,PROJECT_MANAGER:r.projectManager,PROJECT_NAME:r.projectName,PROJECT_STATUS:r.projectStatus,PROJECT_SUBCLASS:r.projectSubclass,PROJECT_TYPE:r.projectType,REFERENCE_ID:r.referenceId},e.projectPlan=n.projectPlan,e.formData=n.baseinfo,e.selProject((0,h.default)(e.project)),e.$loading.hide()})},getFormData:function(){var e=this;return(0,P.findProjectPlan)(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a,r=(t.attachment,JSON.parse((0,h.default)(n.projectApproval)));e.project={BUDGET_CAPITAL:r.budgetCapital,BUDGET_COST:r.budgetCost,BUDGET_INCOME:r.budgetIncome,BUDGET_PROFIT:r.budgetProfit,BUDGET_PROFIT_MARGIN:r.budgetProfitMargin,COMMENT:r.comment,EXPECT_END_DATE:r.expectEndDate,EXPECT_START_DATE:r.expectStartDate,ID:r.projectApprovalId,PHONE_NUMBER:r.phoneNumber,PROJECT_MANAGER:r.projectManager,PROJECT_NAME:r.projectName,PROJECT_STATUS:r.projectStatus,PROJECT_SUBCLASS:r.projectSubclass,PROJECT_TYPE:r.projectType,REFERENCE_ID:r.referenceId},n.projectPlan.forEach(function(e){e.taskTypes=[e.taskType]}),e.projectPlan=n.projectPlan,e.handlerDefault={handler:n.baseinfo.handler,handlerName:n.baseinfo.handlerName,handlerUnit:n.baseinfo.handlerUnit,handlerUnitName:n.baseinfo.handlerUnitName,handlerRole:n.baseinfo.handlerRole,handlerRoleName:n.baseinfo.handlerRoleName},e.formData=(0,i.default)({},e.formData,e.handlerDefault,{biComment:n.baseinfo.biComment,biId:n.baseinfo.biId,biProcessStatus:n.baseinfo.biProcessStatus,creator:n.baseinfo.creator,modifer:n.baseinfo.modifer}),e.biReferenceId=n.biReferenceId,e.$loading.hide()})}},created:function(){var e=(0,h.default)(this.planModel),t=sessionStorage.getItem("XMJH_DATA");if(t){var a=JSON.parse(t);return this.project=a.project,this.projectPlan=a.projectPlan,void sessionStorage.removeItem("XMJH_DATA")}this.transCode||this.relationKey||this.projectPlan.push(JSON.parse(e))}}},pD9p:function(e,t){},pGm1:function(e,t,a){"use strict";function n(e){a("+GKa")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("bpjJ");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("fJmN"),s=a.n(o),l=a("c52p"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-26297989",null);t.default=c.exports},pHOl:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages sj-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList,showStatus:!1},on:{"sel-item":e.selItem}}),e._v(" "),a("div",{staticClass:"leave_list"},[e._l(e.costList,function(t,n){return a("div",{key:n,staticClass:"leave_item",class:{has_border:n>0}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.costList.length>1,expression:"costList.length>1"}],staticClass:"leave_title vux-1px-b"},[a("label",[e._v("请假"+e._s(n+1))]),e._v(" "),a("span",{staticClass:"iconfont icon-shanchu1",on:{click:function(t){e.deleteCost(n)}}})]),e._v(" "),e._l(e.matterEditConfig.editPart,function(n,r){return a("div",{key:r,class:{"vux-1px-b":r<e.matterEditConfig.editPart.length-1}},[n.readOnly?[a("div",{staticClass:"each_property readOnly"},[a("label",{class:{required:!n.allowBlank}},[e._v(e._s(n.text))]),e._v(" "),a("span",{staticClass:"property_val"},[e._v(e._s(t[n.fieldCode]))])])]:["r2Combo"===n.editorType||"r2Selector"===n.editorType?a("r-picker",{attrs:{title:n.text,data:n.remoteData,value:t[n.fieldCode],required:!n.allowBlank},model:{value:t[n.fieldCode],callback:function(a){e.$set(t,n.fieldCode,a)},expression:"sItem[dItem.fieldCode]"}}):e._e(),e._v(" "),"r2Numberfield"===n.editorType?a("div",{staticClass:"each_property "},[a("label",{class:{required:!n.allowBlank}},[e._v(e._s(n.text))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t[n.fieldCode],expression:"sItem[dItem.fieldCode]",modifiers:{number:!0}}],staticClass:"property_val",attrs:{type:"number",placeholder:"请输入"},domProps:{value:t[n.fieldCode]},on:{focus:function(t){e.getFocus(t)},input:function(a){a.target.composing||e.$set(t,n.fieldCode,e._n(a.target.value))},blur:function(t){e.$forceUpdate()}}})]):e._e(),e._v(" "),"r2Textfield"===n.editorType?a("div",{staticClass:"each_property"},[a("label",{class:{required:!n.allowBlank}},[e._v(e._s(n.text))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t[n.fieldCode],expression:"sItem[dItem.fieldCode]"}],staticClass:"property_val",attrs:{type:"text",placeholder:"请输入"},domProps:{value:t[n.fieldCode]},on:{focus:function(t){e.getFocus(t)},input:function(a){a.target.composing||e.$set(t,n.fieldCode,a.target.value)}}})]):e._e(),e._v(" "),"r2Datefield"===n.editorType?a("div",{staticClass:"each_property",on:{click:function(a){e.getDate(t,n)}}},[a("label",{class:{required:!n.allowBlank}},[e._v(e._s(n.text))]),e._v(" "),a("div",{staticClass:"picker"},[a("span",{staticClass:"mater_nature"},[e._v(e._s(t[n.fieldCode]||"请选择"))]),e._v(" "),a("span",{staticClass:"icon-right"})])]):e._e()]],2)})],2)}),e._v(" "),a("div",{staticClass:"vux-1px-t",class:[this.actions.includes("stop")?"resubmit-part":"sumbit-part"]},[a("div",{staticClass:"add_more",on:{click:e.addCost}},[a("span",{staticClass:"icon-add"}),e._v(" "),a("span",{staticClass:"add_text"},[e._v("新增请假")])]),e._v(" "),this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e()])],2),e._v(" "),a("div",{staticClass:"comment"},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("op-button",{attrs:{"is-modify":e.matterModifyClass,hide:e.btnIsHide},on:{"on-submit":e.submitOrder}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},pLZ0:function(e,t,a){"use strict";function n(e){a("7LsP")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("Wkue");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("lK9Z"),s=a.n(o),l=a("rBkj"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-753225e6",null);t.default=c.exports},pM28:function(e,t){},pVMx:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("kNGm"),i=(n(r),a("0AQX")),o=a("+VRO"),s=n(o);t.default={data:function(){return{userData:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},uploadStyle:{width:"100%",padding:"0.06rem 0.1rem"}}},mixins:[s.default],methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,i.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,s=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=s,e.userData=i,e.workFlowInfoHandler()})},goEdit:function(){var e=this.$route.params,t=e.folder,a=e.fileName,n=this.$route.query.name;this.$router.push({path:"/fillform/"+t+"/"+a,query:{name:n,transCode:this.transCode}})}}}},pXHd:function(e,t){},patH:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("4YfN"),s=n(o),l=a("vl8n"),d=n(l),u=a("5gKc"),c=n(u),f=a("PKHo"),h=n(f),m=a("0w+U");t.default={components:{RPicker:d.default,UploadImage:c.default},data:function(){return{MatPic:"",groupId:"",isNameExist:!1,isShortNameExist:!1,CompanyType:["有限责任公司","股份有限公司","集团公司","有限合伙","普通合伙","个人独资","子公司","其他"],CompanyStatus:["草稿","未使用","使用中","停用"],newCompanyInfo:{companyType:"有限责任公司",groupName:"",groupPic:"",groupShortName:"",groupType:"C",parentId:"1",status:"使用中"}}},mixins:[h.default],methods:{onUpload:function(e){this.newCompanyInfo.groupPic="/H_roleplay-si/ds/download?width=128&height=128&specify=true&url="+e.src},getDefaultImg:function(){this.newCompanyInfo.groupPic=a("tVsm")},checkGroupName:function(){var e=this;this.newCompanyInfo.groupName&&(0,m.checkValue)("groupName",this.newCompanyInfo.groupName).then(function(t){var a=t.result;e.isNameExist=!1,a&&(e.isNameExist=!0,e.$vux.alert.show({content:"【公司名称】已存在，请替换别的名称"}))})},checkShortName:function(){var e=this;this.newCompanyInfo.groupShortName&&(0,m.checkValue)("groupShortName",this.newCompanyInfo.groupShortName).then(function(t){var a=t.result;e.isShortNameExist=!1,a&&(e.isShortNameExist=!0,e.$vux.alert.show({content:"【公司简称】已存在，请替换别的简称"}))})},submit:function(){var e=this,t=this.groupId?m.update:m.save,a=[];a=t===m.save?[(0,s.default)({},this.newCompanyInfo)]:[{status:this.newCompanyInfo.status,groupId:this.newCompanyInfo.groupId,groupPic:this.newCompanyInfo.groupPic,groupName:this.newCompanyInfo.groupName,companyType:this.newCompanyInfo.companyType,groupShortName:this.newCompanyInfo.groupShortName}],this.$vux.confirm.show({content:"确定提交？",onConfirm:function(){switch(a[0].status){case"停用":a[0].status=-1;break;case"使用中":a[0].status=1;break;case"未使用":a[0].status=2;break;case"草稿":a[0].status=3}t(a).then(function(t){t[0]&&t[0].groupId||t.success?(e.$emit("change",!0),e.$vux.alert.show({content:t.success?"修改成功":"提交成功",onHide:function(){e.$router.go(-1)}})):e.$vux.alert.show({content:t.message})})}})},save:function(){var e=this,t="",a=[{key:"groupName",message:"【公司名称】"},{key:"groupShortName",message:"【公司简称】"},{key:"companyType",message:"【公司类型】"}];if(this.isNameExist?t="【公司名称】已存在，请替换别的名称":this.isShortNameExist&&(t="【公司简称】已存在，请替换别的简称"),!t&&a.every(function(a){return!!e.newCompanyInfo[a.key]||(t=a.message+"不能为空",!1)}),t)return void this.$vux.alert.show({content:t});this.submit()},CompanyInfo:function(){var e=this;return(0,m.CompanyInfo)(this.groupId).then(function(t){var a=!0,n=!1,r=void 0;try{for(var o,s=(0,i.default)(t);!(a=(o=s.next()).done);a=!0){var l=o.value;switch(l.status){case 1:l.status="使用中";break;case 2:l.status="未使用";break;case 3:l.status="草稿";break;case-1:l.status="停用"}e.newCompanyInfo=l}}catch(e){n=!0,r=e}finally{try{!a&&s.return&&s.return()}finally{if(n)throw r}}})}},created:function(){this.$loading.show();var e=this.$route.query.groupId,t=void 0===e?"":e;this.groupId=t,t&&this.CompanyInfo(),this.$loading.hide()}}},pfLn:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages bdkcdb-list-conatiner",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noPrice:"",noCount:""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},pg4D:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("m-search",{attrs:{isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.costList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.costList,function(t,n){return a("div",{key:n,staticClass:"each_mater box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"mater_main "},[a("div",{staticClass:"mater_name"},[e._v(e._s(t.transCode))]),e._v(" "),a("div",{staticClass:"no_invoiced"},[e._v(e._s(t.inventoryName))]),e._v(" "),a("div",{staticClass:"no_invoiced"},[e._v("金额: ￥"+e._s(t.amntBal))])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1)])],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},pifm:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("rVsN"),i=n(r),o=a("4YfN"),s=n(o),l=a("vHT0"),d=n(l),u=a("Iu/6"),c=n(u),f=a("6q39"),h=n(f);t.default={name:"RScroll",components:{Spinner:c.default,LoadMore:h.default},props:{hasNext:{type:Boolean,default:!1},noData:{type:Boolean,default:!1},options:{type:Object,default:function(){return{}}}},data:function(){return{bScroll:null,hasRefresh:!1,refreshDone:!1,pullDownTop:-70}},computed:{tip:function(){var e="加载中";return this.hasNext||(e="暂无数据"),e}},methods:{_initScroll:function(){var e=this,t=(0,s.default)({click:!0,probeType:1},this.options);this.options.pullDownRefresh&&(this.hasRefresh=!0,t.pullDownRefresh={threshold:40,stop:70}),this.options.pullUpLoad&&(t.pullUpLoad={threshold:20}),this.$nextTick(function(){e.bScroll=new d.default(e.$refs.bScroll,t),e.bScroll.on("pullingUp",function(){e.hasNext&&e.$emit("on-pulling-up")}),e.bScroll.on("pullingDown",function(){e.disable(),e.refreshDone=!1,e.$emit("on-pulling-down")}),e.bScroll.on("scroll",function(t){var a=(t.x,t.y);a>0?e.pullDownTop=a>70?0:a-70:e.resetPullDown()})})},refresh:function(){this.bScroll&&this.bScroll.refresh()},enable:function(){this.bScroll&&this.bScroll.enable()},disable:function(){this.bScroll&&this.bScroll.disable()},finishPullDown:function(){var e=this;return new i.default(function(t){e.resetPullDown(),e.bScroll.finishPullDown(),e.enable(),e.refresh(),t()})},finishPullUp:function(){var e=this;return new i.default(function(t){e.bScroll.finishPullUp(),e.refresh(),t()})},scrollTo:function(e,t){this.bScroll&&this.bScroll.scrollTo(e,t,400)},resetPullDown:function(){-70!==this.pullDownTop&&(this.pullDownTop=-70)},destroy:function(){this.bScroll.destroy(),this.bScroll=null}},created:function(){this._initScroll()},beforeDestroy:function(){this.bScroll&&this.destroy()}}},ptJ7:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABFCAYAAAD+UTBQAAAAAXNSR0IArs4c6QAABuVJREFUeAHdm2tsFUUUx71KpIA8VMQ3goKAUTQmahA0YCQoqIiPqPGDiTFW/VxJjJroR78IiOBbfDQGvhEeUjWK/SBRSRSCqK1oBYS2RgSKPCpo/f3bbr139tGdzs723p7kf2fnzJlzzvzv7t6dmb2Fk8pEOjo6riSV2eBqcDk4E4wEg0AraAE7waegrlAo6HhgCSSMALeDJaAFpJHvMXoKnD6w2OgeDQMbDB4FaQn5C9tnQVVFEEKiQ8G1YB6YA6aCM+KSp20UeBuklV8wnBbnr9/0JFUFdLq/AraAEyBKvkOpb/SsqGTRV4N2kEaOY7Qwyk/uOhK5BqwEh4GNyL4G6OZYIuh0FqUlA9OO5eDkEid5VQh8C9gIXOUzHIwy80Z3B/jbwvkqbEOkmn4zqxPsfrDVIsE0pvpFONdMEt18YEOGzsxTTD+Z1gkwBqwBvqQBx+eZSaPTmWFzmXyAvR8ycKybYCvwLY0EOD+CjNvQ25BRi3129wycDQOvgTzlJ4JdEEGGbqDHLBJ5D1t3MnAyEnxlEThL0x04iyLjVvQ2ZLyDfd/JoHN/kkD4TvmZzwsjzgz9Wh3tMkn1uQIrezLoJBK+BuUgImNsBBl6UrUh4y3sC6af2DrG5UQC6XSKHqUvMpNGNxsc6bRI9/EGZunIwHB1Op+5WzURcVwEGTejtyFDN/5kMjB4BJSz/EpyUWTchN7m8V5zoUIkGzRMgO0tYJjJepnVd5HPTBZpmorzIv9Z1NeBocX6hOPnQ3dPnOj5vBbkRcJuYh1PSDKpSTfOenK+uNgIYjZSnwcOF+sTjv8NteH0aZCXfEKgIcB2QmXmtwvFJeZg0N0ItHCTJA00ji7pi2I42J/UK8O2j/E1JEiA4/nAZkJlprIbhS7pEkF3AzhkGnfXt1OeU9JBFZRPxnTIWi0SQktr6FzJ+A0fE82BoZsBTDK0WBReDEKptcK9wLd8RIAQCUHytLmSsQcfUWRcj74NSDaD6GVCGrRg6lsSSSgi404ScblMRMalgb+gRDcN1AFtE4SFhgLQLM+nKIHYM8HMCltXMnR2TzL9JtbpcB3wKRtwnpqEIFn6uJLRjI/Jgb9eS4xfAL5EJAzuNYkYA/ouAC6XSQv9p8S4L1Vj+APwIR/itM8kBFniw4WMJvqHpu+B754So9HAh2RCQpAoCfaFDD1ojQt8JJYYav0va1mPQ+czwUwcn3eB4ymT1S9H6AHL9NlTx/i5lI7Tmq3DMHMSgoTxnYYM3SQnBX1SlXR4H2QlIuHUVIEdjIiRRMbvtF9m7Z5OX4AsZC1OvJMQDJBYdwPzMvkD3dTAxqqk407gKrmSEAyQpEVG8NP6J8d6yaRvQmex6CJr6JzbmWCOkthXgWdAaLnftE2s48BmXwDzEtGGbb+RkDgwy0atRrnsC+6nf19XlyxTjTfny9DuuV4SsV1V0wqdOFivNQjXhZhX8RG59kkA70Ls6aAVuEiNGGlzzLaa/svJIncyiDmD2HVgjOMY9omIg45O1P0xkCsZ3SRsIO5pSsBRmkXEDkcnQffcyMiYBOW/V0Q0BCPJoBQZy3xeJvieToyszgQNWTf7BhHxo2oZyuP48kJGNwm6J2RxOQRD3s4+SLt+OjYFmgxLkSF5oqtw//RwJgRJfRMc6CdU83YfsqwniMMBiRWvQGed5wM9qeF5Rdbei/w5kYEfnyRo0vb/u9xUtOXmU17uYd3igIR8kqDxfl6SDopBQPN4n2JFBon4JkFjfbiECFVQLlKLZ1kaChyhIIc8SDhAnPBrAygnghPAtySSQXDtRrX5TgL/SyK+gy4VjbU5JKAQkWSgz4sELT3EL/HTOAX8A/KQl4q/EQLmRYLGtrg4duQxRpo85SWdZBBMJBzMKajihGaroakzRlrk0GP32ZFMZa/Uk532J8M3ruxjyWM1j9Svm65DRMgAMu6jWGkaD4B6PWOYBREd5lg06QoJhqtQvhlqqGxFK+k/FEWChhV5RqiBs6KK4kug/2NWuhxhAHoNcXPcQCLPCBnT6RjFAtCsegWLXh18MIkEjS2WCDXSWS9yzgEHVK9QqWEcq3vLPZEIdcbJNoq5oBLJWEr+izSOzIR7xhVAW+2VIJoq+Pv/J87Hgq1lzsQ+8tOf7f0KQaqANnXKUfQljffLgOGdgPcAvZBRLvIuieT1dFrKBoFHgMUgj+k7YSJlG9qZpZn1U41EJgN9I+aLG6i8SSOe9ecarcSXl5DUePAi0LuNPkRLBHoV4V7Q609/v7NDkloDnQtWANc3ctrxUQ8WAreXQRKYiZ1rJPSxbmIA+lOJtuqmAL3tNgFouj8caNdK226HurGHshFoK/JbsImHoqOUXuU/osEnfVor3RgAAAAASUVORK5CYII="},ptUZ:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("ZLEe"),i=n(r),o=a("iR2W"),s=n(o),l=a("Qg39"),d=a("sUbJ"),u=n(d);t.default={name:"MatterList",props:{matterList:{type:Array,default:function(){return[]}},orderList:{type:Object,default:function(){return{}}},orderTitle:{type:String,default:""}},components:{MatterItem:u.default},data:function(){return{showAllMatter:!1,orderListMap:{}}},watch:{orderList:{handler:function(e){var t={};(0,i.default)(e).forEach(function(e){t[e]=!1}),this.orderListMap=t},immediate:!0}},methods:{onShowMore:function(e,t,a){this.$emit("on-show-more",e,t,a)},clickMore:function(e){e?this.orderListMap[e]=!0:this.showAllMatter=!0}},filters:{toFixed:l.toFixed,numberComma:s.default}}},pwCE:function(e,t){},pyij:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=(t-e)/864e5;if(0===parseInt(a))return parseInt(a);for(var n=0,r=0;r<a;r++)0!==e.getDay()&&6!==e.getDay()||n++,e=e.valueOf(),e+=864e5,e=new Date(e);return t.setDate(t.getDate()-parseInt(a+n)),0===t.getDay()?t=new Date(t.getTime()-1728e5):6===t.getDay()&&(t=new Date(t.getTime()-864e5)),t}},pzJd:function(e,t){},pzWy:function(e,t){},"q+9q":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("IHPB"),s=n(o),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),h=n(f),m=a("I3vJ"),v=a("1KNX"),p=n(v),C=a("7biW"),y=n(C);t.default={name:"PopProcedureList",props:{defaultValue:{type:Object,default:function(){return{}}},required:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"}},components:{Icon:c.default,Popup:h.default,RScroll:p.default,RSearch:y.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:100,page:1,hasNext:!0,scrollOptions:{pullUpLoad:!0},filterProperty:"",filterList:[{name:"名称",value:"procedureName"},{name:"编码",value:"procedureCode"}]}},watch:{defaultValue:{handler:function(e){this.selItems=(0,d.default)({},this.defaultValue)},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},showSelIcon:function(e){return this.selItems.procedureCode===e.procedureCode},selThis:function(e,t){this.selItems=(0,d.default)({},e),this.showPop=!1,this.$emit("sel-item",(0,d.default)({},e))},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,s.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,m.getUsingProcedure)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,i.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+i.length,e.listData=1===e.page?i:[].concat((0,s.default)(e.listData),(0,s.default)(i)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,r=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=r,this.resetCondition(),this.getList()},onPullingUp:function(){this.page++,this.getList()},resetCondition:function(){this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)}},created:function(){this.getList()}}},q3qU:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("kNGm"),s=n(o),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),h=a("AupE"),m=n(h),v=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",dealerInfo:{}}},mixins:[u.default],components:{workFlow:m.default,RAction:f.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=t.formData,r=n.order,o=void 0===r?{}:r;e.attachment=a,e.dealerInfo={dealerName:o.dealerName_dealerDebit,dealerCode:o.dealerDebit,dealerLabelName:o.drDealerLabel,amntBal:o.thenAmntBalCopy2,thenTotalAmntBal:o.thenAlreadyAmnt};var l=n.order.dataSet,d=!0,u=!1,c=void 0;try{for(var f,h=(0,i.default)(l);!(d=(f=h.next()).done);d=!0){var m=f.value;e.count=(0,v.accAdd)(e.count,m.tdAmount)}}catch(e){u=!0,c=e}finally{try{!d&&h.return&&h.return()}finally{if(u)throw c}}t.formData.validUntil=(0,s.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},q4P3:function(e,t){},q4Rk:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("BGNQ"),s=n(o),l=a("z5TY"),d=n(l),u=a("kNGm"),c=(n(u),a("0AQX")),f=a("+VRO"),h=n(f),m=a("Qg39"),v=a("BUFe"),p=n(v),C=a("AupE"),y=n(C),_=a("bFc7"),g=n(_),b=a("FlCz"),w=n(b),I=a("hPJo"),D=n(I);t.default={data:function(){return{workInfo:{},orderInfo:{},warehouse:{},bomList:[],warehouseConfig:[]}},mixins:[h.default],components:{Cell:s.default,Group:d.default,RAction:p.default,workFlow:y.default,contactPart:g.default,BomList:w.default,WarehouseContent:D.default},filters:{timeSplit:function(e){return e?e.split(" ")[0]:""}},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,c.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.attachment,o=void 0===r?[]:r,s=t.formData,l=void 0===s?{}:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var d=l.order,u=void 0===d?{}:d,c=l.outPut,f=void 0===c?{}:c,h=f.dataSet,v=void 0===h?[]:h;e.warehouse=(0,i.default)({},e.warehouse,{containerCode:u.containerCode,storehouseInCode:u.storehouseInCode,warehouseInType:u.warehouseInType,warehouseAddress_containerCode:u.warehouseAddress_containerCode,warehouseAddress_storehouseInCode:u.warehouseAddress_storehouseInCode,warehouseName_containerCode:u.warehouseName_containerCode,warehouseName_storehouseInCode:u.warehouseName_storehouseInCode,warehouseType_containerCode:u.warehouseType_containerCode,warehouseType_storehouseInCode:u.warehouseType_storehouseInCode,containerInWarehouseManager:l.containerInWarehouseManager}),v.forEach(function(e){e.inventoryName=e.inventoryName_outPutMatCode,e.inventoryCode=e.outPutMatCode,e.bomQty=(0,m.toFixed)(e.bomQty)}),e.bomList=v,e.attachment=o,e.orderInfo=l,e.workInfo=l.order.dataSet[0],e.workFlowInfoHandler()})}}}},q5q5:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages cpxq-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList,showStatus:!1},on:{"sel-item":e.selItem}}),e._v(" "),a("div",{staticClass:"materiel_list"},e._l(e.otherConfig,function(t,n){return a("div",{key:n,class:{"vux-1px-t":n>0}},["authorized"===t.fieldCode?[a("div",{staticClass:"each_property",on:{click:e.getAuthorized}},[a("label",{class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))]),e._v(" "),a("div",{staticClass:"picker"},[a("span",{staticClass:"mater_nature"},[e._v(e._s(e.formData[t.fieldCode]||"请选择"))]),e._v(" "),a("span",{staticClass:"icon-right"})])]),e._v(" "),a("pop-handler-list",{attrs:{show:e.showAuthorized,"default-value":e.currentAuthorized,requestParams:t.requestParams},on:{"sel-handler":e.selHandler},model:{value:e.showAuthorized,callback:function(t){e.showAuthorized=t},expression:"showAuthorized"}})]:["r2Combo"===t.xtype||"r2Selector"===t.xtype?a("r-picker",{attrs:{title:t.fieldLabel,data:t.remoteData,value:e.formData[t.fieldCode],required:!t.allowBlank},model:{value:e.formData[t.fieldCode],callback:function(a){e.$set(e.formData,t.fieldCode,a)},expression:"formData[item.fieldCode]"}}):e._e(),e._v(" "),"r2Textfield"===t.xtype?a("div",{staticClass:"each_property"},[a("label",{class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData[t.fieldCode],expression:"formData[item.fieldCode]"}],staticClass:"property_val",attrs:{type:"text",placeholder:"请输入"},domProps:{value:e.formData[t.fieldCode]},on:{focus:function(t){e.getFocus(t)},input:function(a){a.target.composing||e.$set(e.formData,t.fieldCode,a.target.value)}}})]):e._e(),e._v(" "),"r2Numberfield"===t.xtype?a("div",{staticClass:"each_property "},[a("label",{class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.formData[t.fieldCode],expression:"formData[item.fieldCode]",modifiers:{number:!0}}],staticClass:"property_val",attrs:{type:"number",placeholder:"请输入"},domProps:{value:e.formData[t.fieldCode]},on:{focus:function(t){e.getFocus(t)},input:function(a){a.target.composing||e.$set(e.formData,t.fieldCode,e._n(a.target.value))},blur:function(t){e.$forceUpdate()}}})]):e._e(),e._v(" "),"r2Datefield"===t.xtype?a("div",{staticClass:"each_property",on:{click:function(a){e.getDate(e.formData,t)}}},[a("label",{class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))]),e._v(" "),a("div",{staticClass:"picker"},[a("span",{staticClass:"mater_nature"},[e._v(e._s(e.formData[t.fieldCode]||"请选择"))]),e._v(" "),a("span",{staticClass:"icon-right"})])]):e._e(),e._v(" "),"r2TextArea"===t.xtype?a("x-textarea",{attrs:{max:100},model:{value:e.formData[t.fieldCode],callback:function(a){e.$set(e.formData,t.fieldCode,a)},expression:"formData[item.fieldCode]"}},[a("template",{slot:"label"},[a("span",{class:{required:!t.allowBlank},staticStyle:{display:"block",width:"3em"}},[e._v(e._s(t.fieldLabel))])])],2):e._e()]],2)}),0),e._v(" "),a("div",{staticClass:"comment"},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId,"contain-style":e.uploadStyle},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("op-button",{attrs:{hide:e.btnIsHide},on:{"on-submit":e.save}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},q8mY:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listViewID:2476,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"设备名称",value:"facilityName_facilityObjCode"}]}},mixins:[r.default],methods:{},created:function(){}}},q9pj:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.dealerInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"order-list":e.orderList,"order-title":e.orderTitle},on:{"on-show-more":e.onShowMore}}),e._v(" "),a("other-part",{attrs:{"other-info":e.orderInfo,amt:e.noTaxAmount,"tax-amt":e.taxAmount,count:e.count,attachment:e.attachment}}),e._v(" "),a("pop-matter-detail",{attrs:{show:e.showMatterDetail,item:e.matterDetail},model:{value:e.showMatterDetail,callback:function(t){e.showMatterDetail=t},expression:"showMatterDetail"}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[],i={render:n,staticRenderFns:r};t.a=i},qDzD:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"comment-item",class:{visited:e.item.visited}},[n("div",{staticClass:"comment-left"},[n("img",{staticClass:"avatar",attrs:{src:e.item.photo||a("Fuf7")},on:{error:e.getDefaultImg}})]),e._v(" "),n("div",{staticClass:"comment-right",class:{"vux-1px-b":!e.noBorder}},[n("div",{staticClass:"creator-name"},[e._v(e._s(e.item.creatorName))]),e._v(" "),n("div",{staticClass:"time"},[e._v(e._s(e._f("filterTime")(e.item.crtTime)))]),e._v(" "),n("div",{staticClass:"comment",domProps:{innerHTML:e._s(e.handleComment())}}),e._v(" "),e.item.attachment&&e.item.attachment.length?n("div",{staticClass:"comment-attachments"},[e._l(e.item.attachment,function(t,a){return t.isImg?n("img",{key:a,staticClass:"comment_image_item",attrs:{src:t.attachment},on:{click:function(a){a.stopPropagation(),e.scaleImg(t)}}}):e._e()}),e._v(" "),e._l(e.item.attachment,function(t,a){return t.isImg?e._e():n("div",{key:a,staticClass:"each_file",on:{click:function(a){a.stopPropagation(),e.checkFile(t.attachment)}}},[e._v("附件"+e._s(a+1)+": "+e._s(t.name)+"\n      ")])})],2):e._e(),e._v(" "),n("div",{staticClass:"belong-container",class:{"has-reply":e.item.reply}},[e.item.reply?n("div",{staticClass:"reply-part",domProps:{innerHTML:e._s(e.handleComment("reply"))}}):e._e(),e._v(" "),n("div",{staticClass:"belong-part"},[n("div",{staticClass:"app_img"},[n("img",{staticClass:"app_img",attrs:{src:e.item.pic,alt:"appImg"},on:{error:function(t){e.getDefaultIcon(e.item)}}})]),e._v(" "),n("div",{staticClass:"other_info"},[n("p",{staticClass:"app-name"},[e._v(e._s(e.item.listName))]),e._v(" "),n("p",{staticClass:"app_status_info"},[e._v(e._s(e.item.other))])])])]),e._v(" "),"praise"===e.item.type&&e.item.praiseUserList?n("div",{staticClass:"praise-count-container"},[n("div",{staticClass:"praise-left"},e._l(e.item.praiseUserList,function(t,a){return a<4?n("r-popover",{key:a,ref:"popover",refInFor:!0,on:{"on-click":e.onPopoverClick},nativeOn:{click:function(e){e.stopPropagation()}}},[n("img",{staticClass:"avatar",attrs:{src:t.photo},on:{error:e.getDefaultImg}}),e._v(" "),n("div",{staticClass:"praise-user",attrs:{slot:"content"},slot:"content"},[e._v(e._s(t.nickname))])]):e._e()}),1),e._v(" "),n("div",{staticClass:"praise-right"},[n("span",[e._v("共"+e._s(e.item.praiseUserList.length)+"人点赞这个动态")])])]):e._e()])])},r=[],i={render:n,staticRenderFns:r};t.a=i},qE8w:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getBillingApplication=t.getManyVATReceipt=t.getVATReceipt=t.getManyVATBilling=t.getVATBilling=void 0;var r=a("4YfN"),i=n(r),o=a("GOq4"),s=n(o),l=a("kSI7"),d=n(l),u=t.getVATBilling=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getVATBilling",data:e}).catch(function(e){return(0,d.default)(e)})},c=(t.getManyVATBilling=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getManyVATBilling",data:e}).catch(function(e){return(0,d.default)(e)})},t.getVATReceipt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getVATReceipt",data:e}).catch(function(e){return(0,d.default)(e)})},t.getManyVATReceipt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getManyVATReceipt",data:e}).catch(function(e){return(0,d.default)(e)})},t.getBillingApplication=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getBillingApplication",data:(0,i.default)({_dc:Date.now()},e)}).catch(function(e){return(0,d.default)(e)})});t.default={getVATBilling:u,getBillingApplication:c}},qEHM:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("Q+Ik"),i=n(r),o=a("KH7x"),s=n(o),l=a("lC5x"),d=n(l),u=a("J0Oq"),c=n(u),f=a("a3Yh"),h=n(f),m=a("HzJ8"),v=n(m),p=a("3cXf"),C=n(p),y=a("4YfN"),_=n(y),g=a("PzEQ"),b=n(g),w=a("kNGm"),I=(n(w),a("0AQX")),D=a("HyXB"),x=a("bKg5"),P=n(x),S=a("y8YJ"),k=n(S),L=a("hLfv"),N=n(L),M=a("+WR7"),T=n(M),A=a("Q67R"),O=n(A),R=a("lsbD"),j=n(R);a("zWMP");t.default={components:{XTextarea:b.default,PopDealerList:k.default,PopBaseinfo:T.default,DealerOtherPart:N.default,ApplyMatterPart:O.default,OpButton:j.default},data:function(){return{numMap:{},formData:{creator:"",modifer:"",biId:"",biComment:"",biProcessStatus:""},dealerInfo:{},matterList:[],showMaterielPop:!1,contactInfo:{},filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"}]}},mixins:[P.default],methods:{selDealer:function(e){this.dealerInfo=JSON.parse(e)[0]},selContact:function(e){this.contactInfo=(0,_.default)({},e)},selMatter:function(e){var t=JSON.parse(e);t.map(function(e){e.price=e.price||"",e.taxRate=e.taxRate||.16,e.validUntil=e.validUntil||"",e.expiryDate=e.expiryDate||""}),this.matterList=t},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(t){return t.inventoryCode===e.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(e)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,C.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},checkAmt:function(e,t,a){e[t]=Math.abs(toFixed(a))},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerCode||(t="请选择供应商信息"),t||this.matterList.forEach(function(n){var r={},i=!0,o=!1,s=void 0;try{for(var l,d=(0,v.default)(e.submitMatterField);!(i=(l=d.next()).done);i=!0){var u=l.value;if(!(u.hidden||u.allowBlank||n[u.fieldCode]||n[u.showFieldCode])){t=u.text+"不为空";break}r[u.fieldCode]=n[u.fieldCode]||n[u.showFieldCode]||null}}catch(e){o=!0,s=e}finally{try{!i&&d.return&&d.return()}finally{if(o)throw s}}a.push(r)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=D.saveAndStartWf,n=(0,h.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r=(e.dealerInfo,{listId:e.listId,biComment:e.biComment,formData:(0,C.default)((0,_.default)({},e.formData,{handlerEntity:e.entity.dealerName,dealerDebitContactPersonName:e.contactInfo.dealerName||null,dealerDebitContactInformation:e.contactInfo.dealerMobilePhone||"",order:{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName||"",drDealerPaymentTerm:e.dealerInfo.paymentTerm,dataSet:a}})),wfPara:(0,C.default)(n)});e.isResubmit&&(t=D.saveAndCommitTask,r.biReferenceId=e.biReferenceId),e.processCode.length||(t=D.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,c.default)(d.default.mark(function t(){return d.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,I.getSOList)({formViewUniqueId:e.uniqueId,transCode:e.transCode}).then(function(t){e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId;var a=t.formData;e.attachment=t.attachment,a.order.dataSet.map(function(t){t=(0,_.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode}),e.matterList.push(t)}),e.handlerDefault={handler:a.handler||a.creator,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,_.default)({},e.formData,e.handlerDefault,{biComment:a.biComment,biId:a.biId,biProcessStatus:a.biProcessStatus,creator:a.creator,modifer:a.modifer}),e.dealerInfo={creatorName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation,dealerCode:a.order.dealerDebit,dealerName:a.order.dealerName_dealerDebit,province:a.order.province_dealerDebit,city:a.order.city_dealerDebit,county:a.order.county_dealerDebit,address:a.order.address_dealerDebit,dealerLogisticsTerms:a.drDealerLogisticsTerms,paymentTerm:a.order.drDealerPaymentTerm||""},e.contactInfo={dealerName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation},e.$loading.hide()});case 2:case"end":return t.stop()}},t,e)}))()},hasDraftData:function(){return!!this.matterList.length&&(0,h.default)({},"CGXY_DATA",{matter:this.matterList,dealerInfo:this.dealerInfo,formData:this.formData,contactInfo:this.contactInfo})},splitConfig:function(e,t){var a=!0,n=!1,r=void 0;try{for(var o,l=(0,v.default)((0,i.default)(e));!(a=(o=l.next()).done);a=!0){var d=o.value,u=(0,s.default)(d,2),c=u[0];if(!u[1].readOnly){t.property=e.slice(0,c),t.editPart=e.slice(c);break}}}catch(e){n=!0,r=e}finally{try{!a&&l.return&&l.return()}finally{if(n)throw r}}}},created:function(){var e=sessionStorage.getItem("CGXY_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.dealerInfo=t.dealerInfo,this.formData=t.formData,this.contactInfo=t.contactInfo,sessionStorage.removeItem("CGXY_DATA")}}}},qEV3:function(e,t,a){"use strict";function n(e){a("a6Lf")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("aAII");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("7d38"),s=a.n(o),l=a("Y0H5"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-274c7f8a",null);t.default=c.exports},qL4K:function(e,t,a){"use strict";function n(e){a("hCDI")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("dj3y");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("WHn+"),s=a.n(o),l=a("4Ns1"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-b815ed8c",null);t.default=c.exports},qLvx:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2317,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[r.default],methods:{},created:function(){}}},qMm6:function(e,t,a){"use strict";function n(e){a("ei2D")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("xupB");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("wQkG"),s=a.n(o),l=a("bwty"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,null,null);t.default=c.exports},qP7K:function(e,t,a){"use strict";function n(e){a("qe/I")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("9enk");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("REWi"),s=a.n(o),l=a("/WcG"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-2ad3358f",null);t.default=c.exports},qRBd:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[a("div",{staticClass:"header"},[a("div",{staticClass:"title"},[e._v(e._s(e.headInfo.title))]),e._v(" "),a("div",{staticClass:"swiper-container swiper-container-header"},[a("div",{staticClass:"swiper-wrapper"},[a("div",{staticClass:"swiper-slide"},[e._v(e._s(e.headInfo.firstName))]),e._v(" "),a("div",{staticClass:"swiper-slide"},[e._v(e._s(e.headInfo.LastName))])])])]),e._v(" "),a("r-scroll",{ref:"bScroll",attrs:{options:e.scrollOptions}},[a("div",{staticClass:"part-left"},e._l(e.listData,function(t,n){return a("div",{key:n},[t.assetType?a("div",{ref:"partLeftTitle",refInFor:!0,staticClass:"title border-1px-t border-1px-b"},[e._v(e._s(t.assetType)+"\n        ")]):e._e(),e._v(" "),e._l(t.items,function(t,n){return a("div",{key:n,ref:"partLeftContent",refInFor:!0,staticClass:"content-item",class:{"final-total":t.isTotal,"border-1px-t":t.isTotal,"is-first":t.bigSubject,indent:void 0!==t.bigSubject&&!t.bigSubject&&!t.subjectName.includes(": ")}},[e._v("\n          "+e._s(t.subjectName)+"\n        ")])})],2)}),0),e._v(" "),a("div",{staticClass:"swiper-container part-right"},[a("div",{staticClass:"swiper-wrapper"},[a("div",{staticClass:"swiper-slide"},e._l(e.listData,function(t,n){return a("div",{key:n},[t.assetType?a("div",{ref:"partRightInitTitle",refInFor:!0,staticClass:"title"}):e._e(),e._v(" "),e._l(t.items,function(t,n){return a("div",{key:n,ref:"partRightInit",refInFor:!0,staticClass:"content-item",class:{"final-total":t.isTotal,"is-first":t.bigSubject}},[e._v("\n              "+e._s(e._f("formatNum")(t.initialBalance))+"\n            ")])})],2)}),0),e._v(" "),a("div",{staticClass:"swiper-slide"},e._l(e.listData,function(t,n){return a("div",{key:n},[t.assetType?a("div",{ref:"partRightFinalTitle",refInFor:!0,staticClass:"title"}):e._e(),e._v(" "),e._l(t.items,function(t,n){return a("div",{key:n,ref:"partRightFinal",refInFor:!0,staticClass:"content-item",class:{"final-total":t.isTotal,"is-first":t.bigSubject}},[e._v("\n              "+e._s(e._f("formatNum")(t.finalBalance))+"\n            ")])})],2)}),0)])])])],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},qXjf:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noPrice:!0,noCount:!0},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},qYWR:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages xsbj-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList,showStatus:!1},on:{"sel-item":e.selItem}}),e._v(" "),a("apply-matter-part",{attrs:{"show-materiel-pop":e.showMaterielPop,"show-matter-pop":e.showMatterPop,"filter-list":e.filterList,actions:e.actions,btnInfo:e.btnInfo,"matter-list":e.consumableList,"default-value":[],"matter-pop-config":e.matterPopConfig,"matter-edit-config":e.matterEditConfig,"order-list-title":e.orderListTitle,"matter-params":e.matterParams,"add-matter-fn":e.addMatter,"sel-matter-fn":e.selMatter,"sel-items":e.selItems,"matter-modify-class":e.matterModifyClass,"stop-order-fn":e.stopOrder,"get-matter-modify-fn":e.getMatterModify,"show-delete-fn":e.showDelete,"show-sel-icon-fn":e.showSelIcon,"del-click-fn":e.delClick,"chosen-matter":e.consumables,"check-amt-fn":e.checkAmt,"sel-confirm-fn":e.selConfirm,"btn-is-hide":e.btnIsHide},on:{"show-down-modify-pop":e.shutDownModify},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[n.price&&n.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price)+"\n            ")]),e._v(" "),a("r-number",{attrs:{num:n.tdQty},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",t)},expression:"item.tdQty"}})],1):e._e()]}}]),model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.consumableList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("op-button",{attrs:{"is-modify":e.matterModifyClass,hide:e.btnIsHide,"td-amount":e.tdAmount,"tax-amount":e.taxAmount,"all-check":e.selItems.length===e.consumableList.length},on:{"on-submit":e.save,"on-check-all":e.checkAll,"on-delete":e.deleteCheckd}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},qZl7:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages cpxq-list-container",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"instance-item-wrapper",class:{visited:t.visited},on:{click:function(a){e.goDetail(t,n)}}},[a("div",{staticClass:"instance-header"},[a("span",{staticClass:"instance_code vux-1px-l"},[e._v(e._s(t.transCode))]),e._v(" "),a("span",{staticClass:"instance_status",class:t.statusClass},[e._v(e._s(t.biStatus))])]),e._v(" "),a("div",{staticClass:"instance-main"},[a("div",{staticClass:"instance_info_wrapper"},[a("div",{staticClass:"instance_header_wrapper"},[a("div",{staticClass:"leave_info"},[a("div",{staticClass:"leave_type"},e._l(t.leaveTypes,function(t,n){return a("span",{key:n},[e._v(e._s(t))])}),0),e._v(" "),a("div",{staticClass:"leave_content"},[a("div",{staticClass:"creator"},[a("img",{attrs:{src:t.photo,alt:"user-img"},on:{error:function(a){e.getDefaultImg(t,t.gender)}}}),e._v(" "),a("div",{staticClass:"creator_name"},[a("span",{staticClass:"name"},[e._v(e._s(t.handlerName))]),e._v(" "),a("span",[e._v("工号: "+e._s(t.userCode))])])]),e._v(" "),a("div",{staticClass:"leave_days"},[a("span",{staticClass:"day"},[e._v(e._s(t.daysCount)+"天")]),e._v(" "),a("span",[e._v("请假天数")])])])])]),e._v(" "),a("div",{staticClass:"instance_detail vux-1px-t"},[a("div",{staticClass:"instance_detail_item"},[a("i",{staticClass:"icon icon-handler"}),e._v(" "),a("span",[e._v("创建人："+e._s(t.creatorName))])]),e._v(" "),a("div",{staticClass:"instance_detail_item"},[a("i",{staticClass:"icon icon-mod-time"}),e._v(" "),a("span",[e._v("修改时间："+e._s(e._f("dateFormat")(t.modTime,"YYYY-MM-DD HH:mm")))])])])])])])}),0)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},qapk:function(e,t){},qdTl:function(e,t){},qdsK:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("3cXf"),s=n(o),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),h=n(f),m=a("SAzG"),v=n(m),p=a("u28h"),C=n(p),y=a("PzEQ"),_=n(y),g=a("kNGm"),b=(n(g),a("jnZd")),w=n(b),I=(a("0AQX"),a("Z6x5")),D=a("HyXB"),x=a("bKg5"),P=n(x),S=a("vl8n"),k=n(S),L=a("+WR7"),N=n(L);t.default={data:function(){return{formData:{biId:"",biComment:"",biProcessStatus:""},biReferenceId:"",MobileWarn:!1,idCardWarn:!1,groupList:[],roleList:[]}},components:{Cell:c.default,Group:h.default,XInput:v.default,Datetime:C.default,XTextarea:_.default,PopupPicker:w.default,RPicker:k.default,PopBaseinfo:N.default},mixins:[P.default],methods:{getDepartMentWage:function(){var e=this;(0,I.getDepartMentWage)().then(function(t){var a=[];t.tableContent.forEach(function(e){a.push(e.GROUP_NAME)}),e.groupList.push(a)})},getAllRoleInfo:function(){var e=this;(0,I.getAllRoleInfo)().then(function(t){var a=[];t.tableContent.forEach(function(e){a.push(e.roleName)}),e.roleList.push(a)})},submitOrder:function(){var e=this,t="",a=[{key:"applicationDepartment",message:"请选择申请部门"},{key:"applicationPost",message:"请选择申请岗位"},{key:"recruitmentPeople",message:"请填写招聘人数"}];if(t||a.every(function(a){return!!e.formData[a.key]||(t=a.message,!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=D.saveAndStartWf,a=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,applicationDepartment:e.formData.applicationDepartment[0],applicationPost:e.formData.applicationPost[0]}),n={listId:e.listId,biComment:"",formData:(0,s.default)(a)};e.isResubmit&&(t=D.saveAndCommitTask,n.biReferenceId=e.biReferenceId,n.wfPara=(0,s.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=D.submitAndCalc,delete n.wfPara,delete n.biReferenceId),e.biReferenceId&&(n.biReferenceId=e.biReferenceId),e.saveData(t,n)}})},hasDraftData:function(){var e=this.formData;if(e.applicationDepartment||e.applicationPost)return(0,i.default)({},"ZHJH_DATA",{formData:e})},checkAmt:function(e){this.formData.recruitmentPeople=Math.round(e)}},created:function(){this.getDepartMentWage(),this.getAllRoleInfo();var e=sessionStorage.getItem("ZHJH_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,sessionStorage.removeItem("ZHJH_DATA")}}}},qdt2:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("HyXB"),a("MjAd")),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2310,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}]}},mixins:[r.default],methods:{},created:function(){}}},"qe/I":function(e,t){},qeco:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("kNGm"),s=(n(o),a("0AQX")),l=a("+VRO"),d=n(l),u=a("BUFe"),c=n(u),f=a("AupE"),h=n(f),m=a("zWMP");t.default={data:function(){return{count:0,cashInfo:{}}},mixins:[d.default],components:{workFlow:h.default,RAction:c.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=t.formData,r=n.order,o=void 0===r?{}:r,s=n.outPut,l=void 0===s?{}:s;e.attachment=a,e.cashInfo=l.dataSet[0];var d=o.dataSet,u=!0,c=!1,f=void 0;try{for(var h,v=(0,i.default)(d);!(u=(h=v.next()).done);u=!0){var p=h.value;e.count=(0,m.accAdd)(e.count,p.tdAmount)}}catch(e){c=!0,f=e}finally{try{!u&&v.return&&v.return()}finally{if(c)throw f}}e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},qeoT:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tab-part vux-1px-b",class:{"tab-part-2":"2"===e.mode,"tab-part-3":"3"===e.mode}},e._l(e.data,function(t,n){return a("div",{key:n,staticClass:"each-tab",class:{"active vux-1px":n===e.activeTabIndex},on:{click:function(a){e.switchTab(t,n)}}},[e._v("\n    "+e._s(t.name)+"\n  ")])}),0)},r=[],i={render:n,staticRenderFns:r};t.a=i},qfeE:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement;return(e._self._c||t)("span",{staticClass:"vux-spinner",class:e.className,style:e.styles})},r=[],i={render:n,staticRenderFns:r};t.a=i},qgxz:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("vHT0"),r=function(e){return e&&e.__esModule?e:{default:e}}(n),i=a("4XVd");a("Z5v5");t.default={data:function(){return{transCode:"",currentComponent:"",submitSuccess:!1,detailScroll:null,commentCount:0,hasComment:!0,isConcern:0,concernCount:0}},methods:{modifyRoute:function(e){this.submitSuccess=e},refresh:function(){var e=this;this.$nextTick(function(){e.detailScroll.refresh()})},goDiscuss:function(){this.$router.push({path:"/commentList",query:{transCode:this.transCode}})},isSubscribe:function(e){this.isConcern=e},goConcern:function(){var e=this,t=i.subscribeApp,a={type:"instance",relationKey:this.transCode};1===this.isConcern&&(t=i.unsubscribeApp,delete a.type),t(a).then(function(t){var a=t.success,n=void 0===a||a,r=t.message,i=void 0===r?"":r;if(n){e.isConcern="订阅成功！"===i?1:0;var o="订阅成功！"===i?"关注成功":"取消关注成功";e.$vux.toast.show({type:"text",time:1e3,position:"top",text:o})}})},initPage:function(){var e=this,t=this.$route.query.transCode,n=this.$route.params,i=n.folder,o=n.fileName;this.hasComment=!!t,this.transCode=t;try{this.currentComponent=a("9kVI")("./"+i+"/"+o+"Form.vue").default,this.$event.$on("commentCount",function(t){e.commentCount=t})}catch(t){console.log(t),this.$vux.alert.show({content:"抱歉，无法支持该应用的查看",onHide:function(){e.$router.go(-1)}})}this.$nextTick(function(){e.detailScroll||(e.detailScroll=new r.default(e.$refs.detail,{click:!0}))})}},created:function(){this.initPage()},activated:function(){this.$route.meta.reload&&(this.initPage(),this.$route.meta.reload=!1),this.refresh()},beforeRouteEnter:function(e,t,a){var n=e.query.name,r=void 0===n?"":n;r.includes("表")&&(e.meta.title=r,a()),e.meta.title=r+"详情",a()},beforeRouteLeave:function(e,t,a){var n=["LIST","MSGHOME","MSGLIST","FILLFORM"],r=n.includes(e.name);this.$HandleLoad.hide(),r&&(this.currentComponent=null,this.detailScroll.destroy(),this.detailScroll=null,this.$event.$off("commentCount"),t.meta.reload=!0),this.submitSuccess&&r&&(e.meta.reload=!0),a()}}},qhvE:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("1WsH"),s=a("vl8n"),l=n(s),d=a("PKHo"),u=n(d);t.default={data:function(){return{jobInfo:{name:"",status:"使用中",type:""},jobType:[{name:"管理类",value:"管理类"},{name:"营销类",value:"营销类"},{name:"技术类",value:"技术类"},{name:"专业类",value:"专业类"},{name:"操作类",value:"操作类",status:"C"}],jobStatus:[{name:"停用",value:"停用"},{name:"未使用",value:"未使用"},{name:"使用中",value:"使用中"},{name:"草稿",value:"草稿"}],jobId:null}},components:{RPicker:l.default},mixins:[u.default],methods:{submit:function(){var e=this;for(var t in this.jobInfo)"string"==typeof this.jobInfo[t]&&this.jobInfo[t].indexOf(" ")>=0&&(this.jobInfo[t]=this.jobInfo[t].replace(/\s/g,""));this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){switch(e.jobInfo.type){case"营销类":e.jobInfo.changeType="Y";break;case"专业类":e.jobInfo.changeType="Z";break;case"技术类":e.jobInfo.changeType="J";break;case"操作类":e.jobInfo.changeType="C";break;case"管理类":e.jobInfo.changeType="M"}switch(e.jobInfo.status){case"使用中":e.jobInfo.changeStatus=1;break;case"未使用":e.jobInfo.changeStatus=2;break;case"草稿":e.jobInfo.changeStatus=3;break;case"停用":e.jobInfo.changeStatus=-1}var t={describe:"",name:e.jobInfo.name,type:e.jobInfo.changeType,status:e.jobInfo.changeStatus};e.jobId?(t.id=e.jobId,(0,o.update)(t).then(function(t){t.success?(e.$emit("change",!0),e.$vux.alert.show({content:"修改成功",onHide:function(){e.$router.go(-1)}})):e.$vux.alert.show({content:t.message})})):(0,o.save)(t).then(function(t){t.id?(e.$emit("change",!0),e.$vux.alert.show({content:"提交成功",onHide:function(){e.$router.go(-1)}})):e.$vux.alert.show({content:t.message})})}})},save:function(){var e=this,t="";if([{key:"name",message:"【职位名称】"},{key:"type",message:"【职位类型】"}].every(function(a){return""!==e.jobInfo[a.key]||(t=a.message+"不能为空",!1)}),t)return void this.$vux.alert.show({content:t});this.submit()},findData:function(){var e=this;return(0,o.getJobList)({filter:(0,i.default)([{operator:"eq",value:this.jobId,property:"id"}])}).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;n.forEach(function(e){switch(e.type){case"Y":e.type="营销类";break;case"Z":e.type="专业类";break;case"J":e.type="技术类";break;case"C":e.type="操作类";break;case"M":e.type="管理类"}switch(e.status){case 1:e.status="使用中";break;case 2:e.status="未使用";break;case 3:e.status="草稿";break;case-1:e.status="停用"}}),e.jobInfo=n[0],e.$loading.hide()}).catch(function(t){e.$loading.hide()})}},created:function(){var e=this;this.$loading.show();var t=this.$route.query;if(t.id)return this.jobId=t.id,void this.findData().then(function(){e.$loading.hide()});t.jobType&&(this.jobInfo.type=t.jobType),this.$loading.hide()}}},qkn6:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper user-detail-container"},[a("div",{ref:"detail",staticClass:"basicPart"},[a("div",{staticClass:"user-info-container"},[a("div",{staticClass:"user-info"},[a("img",{staticClass:"avatar",attrs:{src:e.userData.photo,alt:"头像"},on:{error:e.getDefaultImg}}),e._v(" "),a("span",{staticClass:"user-name"},[e._v(e._s(e.userData.nickname))]),e._v(" "),a("div",{staticClass:"user-status-part"},[a("span",{staticClass:"user-status",class:e.userData.statusClass},[e._v(e._s(e.userData.status))]),e._v(" "),a("span",{staticClass:"user-type",class:e.userData.typeClass},[e._v(e._s(e.userData.userType))])])])]),e._v(" "),a("div",{staticClass:"user-info-part"},[a("div",{staticClass:"user-info-list"},[a("form-cell",{attrs:{cellTitle:"公司",cellContent:e.userData.entityName,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"工号",cellContent:e.userData.userCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"手机",cellContent:e.userData.mobile}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"座机",cellContent:e.userData.officePhone}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"邮箱",cellContent:e.userData.email}})],1),e._v(" "),a("div",{staticClass:"user-info-list"},[a("form-cell",{attrs:{cellTitle:"创建者",cellContent:e.userData.creatorName,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"创建时间",cellContent:e.userData.crtTime}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"修改者",cellContent:e.userData.modifierName}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"修改时间",cellContent:e.userData.modTime}})],1)]),e._v(" "),e.action.update?a("div",{staticClass:"edit-btn",on:{click:function(t){return t.stopPropagation(),e.goEdit(t)}}},[e._v("编辑")]):e._e()])])},r=[],i={render:n,staticRenderFns:r};t.a=i},qmFe:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noCount:"",noPrice:""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},"qni/":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("MjAd"),s=n(o),l=a("Qg39"),d=a("zWMP");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2435,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"协议号",value:"transMatchedCode"}]}},mixins:[s.default],watch:{listData:{handler:function(e){var t=!0,a=!1,n=void 0;try{for(var r,o=(0,i.default)(e);!(t=(r=o.next()).done);t=!0){var s=r.value;s.count=0;var u=!0,c=!1,f=void 0;try{for(var h,m=(0,i.default)(s.detailItem);!(u=(h=m.next()).done);u=!0){var v=h.value;s.count=(0,l.toFixed)((0,d.accAdd)(s.count,v.tdAmountCopy1))}}catch(e){c=!0,f=e}finally{try{!u&&m.return&&m.return()}finally{if(c)throw f}}}}catch(e){a=!0,n=e}finally{try{!t&&o.return&&o.return()}finally{if(a)throw n}}}}}}},qokj:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vux-tab-wrap",class:"top"===e.barPosition?"vux-tab-bar-top":""},[a("div",{staticClass:"vux-tab-container"},[a("div",{ref:"nav",staticClass:"vux-tab",class:[{"vux-tab-no-animate":!e.animate},{scrollable:e.scrollable}]},[e._t("default"),e._v(" "),e.animate?a("div",{staticClass:"vux-tab-ink-bar",class:e.barClass,style:e.barStyle},[e.customBarWidth?a("span",{staticClass:"vux-tab-bar-inner",style:e.innerBarStyle}):e._e()]):e._e()],2)])])},r=[],i={render:n,staticRenderFns:r};t.a=i},qpOy:function(e,t){},qq0S:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("ZLEe"),i=n(r),o=a("iR2W"),s=n(o),l=a("Qg39"),d=a("sUbJ"),u=n(d);t.default={name:"MatterList",props:{matterList:{type:Array,default:function(){return[]}},orderList:{type:Object,default:function(){return{}}},orderTitle:{type:String,default:""}},components:{MatterItem:u.default},data:function(){return{showAllMatter:!1,orderListMap:{}}},watch:{orderList:{handler:function(e){var t={};(0,i.default)(e).forEach(function(e){t[e]=!1}),this.orderListMap=t},immediate:!0}},methods:{onShowMore:function(e,t,a){this.$emit("on-show-more",e,t,a)},clickMore:function(e){e?this.orderListMap[e]=!0:this.showAllMatter=!0}},filters:{toFixed:l.toFixed,numberComma:s.default}}},qw7n:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pop-sodl-project-list",on:{click:e.itemClick}},[e.selItems.projectName?a("div",{staticClass:"project-info"},[a("span",{staticClass:"project-name"},[e._v(e._s(e.selItems.projectName))]),e._v(" "),a("span",{staticClass:"project-type"},[e._v(e._s(e.selItems.projectType))])]):a("div",{staticClass:"title"},[e._v("项目名称 "),a("span",[e._v("请选择")])]),e._v(" "),a("i",{staticClass:"icon-right r-arrow"}),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"popup-top"},[a("i",{staticClass:"icon-close",on:{click:e.onHide}})]),e._v(" "),a("div",{staticClass:"trade_pop"},[a("m-search",{on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.projectList.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.projectList,function(t,n){return a("div",{key:n,staticClass:"each_mater box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"mater_main "},[a("div",{staticClass:"project_name"},[e._v("\n                "+e._s(t.projectName)+"\n              ")]),e._v(" "),a("div",{staticClass:"project_type"},[e._v("\n                "+e._s(t.projectType)+"\n              ")])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1)])],1)])},r=[],i={render:n,staticRenderFns:r};t.a=i},qwja:function(e,t,a){"use strict";function n(e){a("qdTl")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("41vv");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("6Nvu"),s=a.n(o),l=a("s6dV"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-ad4b8fb0",null);t.default=c.exports},qwnS:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("kNGm"),s=(n(o),a("SAzG")),l=n(s),d=a("0AQX"),u=a("+VRO"),c=n(u),f=a("BUFe"),h=n(f),m=a("AupE"),v=n(m),p=a("bFc7"),C=n(p),y=a("CKaN"),_=n(y),g=a("zWMP"),b=a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",dealerInfo:{},cashInfo:{},costList:[]}},computed:{isApproval:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"7d18cfc2-475f-44c5-ae12-a723d6234253"===t},isAccounting:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"69c3a187-1816-41cf-a9ec-899e9932940e"===t},isCashier:function(){var e=this.currentWL.viewId,t=void 0===e?"":e;return this.isMyTask&&"8ea73083-fc91-49f2-97d6-e9923ac9b9e2"===t},cashParams:function(){return{transCode:this.transCode}},isEditAdmout:function(){var e=!1;return this.otherConfig.forEach(function(t){"tdAmountCopy1"===t.fieldCode&&(e=t.readOnly)}),e||(this.cashInfo=(0,i.default)({},this.cashInfo,{fundCode:this.cashInfo.fundCode||this.cashInfo.cashInCode,fundType:this.cashInfo.fundType||this.cashInfo.cashType_cashInCode,fundName:this.cashInfo.fundName||this.cashInfo.fundName_cashInCode,thenAmntBal:this.cashInfo.thenAmntBal||this.cashInfo.thenAmntBalCopy1})),e}},mixins:[c.default],components:{workFlow:v.default,RAction:h.default,contactPart:C.default,XInput:l.default,PopCashList:_.default},methods:{checkAmt:function(e,t,a){e[t]=Math.abs((0,b.toFixed)(a))},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,d.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=t.formData,r=t.attachment;if(!1===a)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var i=n.order.dataSet,o=void 0===i?[]:i;if(e.attachment=r,e.orderInfo=n,e.dealerInfo=n.inPut.dataSet[0],e.cashInfo=n.outPut.dataSet[0],e.costList=o,e.isAccounting){var s=e.dealerInfo,l=s.thenAmntBal,d=void 0===l?0:l,u=s.thenAlreadyAmnt,c=void 0===u?0:u;e.dealerInfo.thenTotalAmntBal=c,e.dealerInfo.differenceAmount=d}e.workFlowInfoHandler()})},agreeHandler:function(){if(this.isApproval||this.isAccounting||this.isCashier){if(this.isCashier&&!this.cashInfo.fundCode)return this.$vux.alert.show({content:"请选择资金账户"}),!0;var e=this.orderInfo,t=this.costList.map(function(e){return{tdId:e.tdId,expCode:e.expCode,expSubject:e.expSubject,costType_expCode:e.costType_expCode,tdAmount:e.tdAmount,expCause:e.expCause,taxAmount:e.taxAmount,noTaxAmount:e.noTaxAmount}}),a=(0,i.default)({},e,{order:{departmentName:e.order.departmentName,dataSet:t}});if(this.otherConfig.length){var n=this.cashInfo;a.outPut={dataSet:[{fundName_cashInCode:n.fundName_cashInCode||n.fundName,cashInCode:n.cashInCode||n.fundCode,cashType_cashInCode:n.cashType_cashInCode||n.fundType,thenAmntBalCopy1:n.thenAmntBalCopy1||n.thenAmntBal,tdAmountCopy1:n.tdAmountCopy1,tdIdCopy1:n.tdIdCopy1}]}}return this.saveData(a),!0}return!1},calcTax:function(e){var t=e.taxAmount,a=void 0===t?0:t,n=e.noTaxAmount,r=void 0===n?0:n;a||(a=0,e.taxAmount=0),e.noTaxAmount=(0,g.accSub)(r,a)},calcPayment:function(e){var t=e.thenAmntBal,a=void 0===t?0:t,n=e.thenAlreadyAmnt,r=void 0===n?0:n,i=e.thenTotalAmntBal,o=void 0===i?0:i;o||(o=0),o=(0,b.toFixed)(o),e.thenTotalAmntBal=o,e.tdAmount=(0,b.toFixed)((0,g.accSub)(r,o)),e.differenceAmount=(0,b.toFixed)((0,g.accAdd)((0,g.accSub)(a,r),o)),this.cashInfo.tdAmountCopy1=o},selCash:function(e){this.cashInfo=(0,i.default)({},this.cashInfo,e)}}}},qxnm:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[e.matterList.length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.matterList,function(t,n){return a("div",{key:n,staticClass:"each_mater",class:{mater_delete:e.matterModifyClass,"vux-1px-b":n<e.matterList.length-1}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass,config:e.matterEditConfig.property},on:{"on-modify":function(a){e.getMatterModify(t,n)}},nativeOn:{click:function(a){e.delClick(n,t)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_num"},[a("span",{directives:[{name:"show",rawName:"v-show",value:n.tdQty,expression:"item.tdQty"}],staticClass:"current_num"},[e._v("\n                      数量: "+e._s(n.tdQty)+"\n                    ")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:n.promDeliTime,expression:"item.promDeliTime"}],staticClass:"current_num",staticStyle:{"margin-left":"0.05rem"}},[e._v("\n                      预期完工日: "+e._s(n.promDeliTime)+"\n                    ")])])]}},{key:"edit",fn:function(t){var r=t.item;return[r.tdQty||e.matterModifyClass?e._e():a("div",{staticClass:"mater_other",on:{click:function(t){e.getMatterModify(r,n)}}},[a("div",{staticClass:"edit-tips"},[e._v("点击进行填写")])])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(n,t)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)}),0)]:[a("div",{on:{click:function(t){e.showMaterielPop=!e.showMaterielPop}}},[a("div",{staticClass:"title"},[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择"+e._s(e.orderListTitle))]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),e.matterList.length?a("span",{staticClass:"add_more",on:{click:e.addMatter}},[e._v("新增更多物料")]):e._e()]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showMaterielPop,"default-value":e.matterList,"matter-params":e.matterParams,"order-title":e.matterPopOrderTitle,config:e.matterPopConfig},on:{"sel-matter":e.selMatter},model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}})],2),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,config:e.matterEditConfig},on:{"sel-confirm":e.selConfirm},model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},qxrx:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{folder:"",currentComponent:"",isrefresh:!1}},methods:{initPage:function(){var e=this;this.$loading.show();var t=this.$route.params,n=t.folder,r=t.fileName;this.folder=n;try{this.currentComponent=a("88rY")("./"+n+"/"+r+"_List.vue").default}catch(t){console.log(t),this.$vux.alert.show({content:"抱歉，无法支持该应用的查看",onHide:function(){e.$router.go(-1)}})}}},created:function(){this.initPage()},activated:function(){var e=this.$refs.list;if(this.$route.meta.reload){var t=this.$route.params,a=t.folder;t.fileName,a&&(this.folder===a&&this.currentComponent&&e.reloadData(),this.initPage()),this.$route.meta.reload=!1}this.$nextTick(function(){e&&(e.changeVisitedStatus&&e.changeVisitedStatus(),e.$refs.bScroll&&e.$refs.bScroll.refresh())})},beforeRouteEnter:function(e,t,a){var n=e.query,r=n.name,i=n.transCode;r.includes("合规")?(e.meta.title=r,a()):e.meta.title=i?"加载中...":r+"列表",a()},beforeRouteLeave:function(e,t,a){"/home"===e.path&&(this.$loading.hide(),this.currentComponent=null,t.meta.reload=!0),a()}}},qy1N:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("4YfN"),s=n(o),l=a("kNGm"),d=n(l),u=a("0AQX"),c=a("+VRO"),f=n(c),h=a("AupE"),m=n(h),v=a("BUFe"),p=n(v),C=a("bFc7"),y=n(C),_=a("3NX5"),g=n(_),b=a("zlAJ"),w=n(b);t.default={data:function(){return{orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},attachment:[]}},mixins:[f.default],components:{workFlow:m.default,RAction:p.default,contactPart:y.default,MatterList:g.default,UploadFile:w.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,l=t.attachment,u=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var c=o.order,f=c.dataSet,h=!0,m=!1,v=void 0;try{for(var p,C=(0,i.default)(f);!(h=(p=C.next()).done);h=!0){var y=p.value;y.inventoryPic=y.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+y.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){m=!0,v=e}finally{try{!h&&C.return&&C.return()}finally{if(m)throw v}}e.contactInfo={creatorName:o.dealerDebitContactPersonName,dealerName:c.dealerName_dealerDebit,dealerMobilePhone:o.dealerDebitContactInformation,dealerContactPersonName:o.dealerDebitContactPersonName,dealerCode:c.dealerDebit,dealerLabelName:c.drDealerLabel,province:c.province_dealerDebit,city:c.city_dealerDebit,county:c.county_dealerDebit,address:c.address_dealerDebit},e.attachment=u,e.matterList=f,o.validUntil=(0,d.default)(c.validUntil,"YYYY-MM-DD"),e.orderInfo=(0,s.default)({},o,c),e.workFlowInfoHandler()})}}}},qzCh:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("a3Yh"),s=n(o),l=a("4YfN"),d=n(l),u=a("KH7x"),c=n(u),f=a("3cXf"),h=n(f),m=a("PzEQ"),v=n(m),p=a("iR2W"),C=n(p),y=a("kNGm"),_=(n(y),a("0AQX")),g=a("HyXB"),b=a("QHLv"),w=a("bKg5"),I=n(w),D=a("Pkp+"),x=n(D),P=a("aumL"),S=n(P),k=a("+WR7"),L=n(k),N=a("lsbD"),M=n(N),T=a("Qg39"),A=a("zWMP");t.default={data:function(){return{listId:"418bd0e9-1dce-4e01-aa5a-3d4cd80e87d4",showCostPop:!1,dealerInfo:{},formData:{biId:"",biComment:"",biProcessStatus:""},cashInfo:{cashName:"",cashInCode:"",cashType_cashInCode:"",thenAmntBal:"",tdAmount:""},biReferenceId:"",selectedCost:[]}},computed:{creatorName:function(){return this.formData.handlerName}},watch:{creatorName:function(e){this.getEmployeeBal()}},components:{XTextarea:v.default,RPicker:x.default,PopFundList:S.default,PopBaseinfo:L.default,OpButton:M.default},mixins:[I.default],filters:{numberComma:C.default},methods:{getEmployeeBal:function(){var e=this,t=[{operator:"eq",value:this.formData.handlerName,property:"nickname"}];(0,b.getEmployeeBal)((0,h.default)(t)).then(function(t){var a=t.tableContent,n=void 0===a?[]:a,r=(0,c.default)(n,1),i=r[0],o=void 0===i?{}:i;e.fundConfig.forEach(function(t){(t.displayField&&"text"!==t.displayField||t.showFieldCode)&&e.$set(e.dealerInfo,t.fieldCode,o[t.displayField]||o[t.showFieldCode])})})},submitOrder:function(){var e=this,t="",a=[],n={},r=!0,o=!1,l=void 0;try{for(var u,c=(0,i.default)(this.submitMatterField);!(r=(u=c.next()).done);r=!0){var f=u.value;if(!f.hiddenInRun&&!f.allowBlank&&!this.dealerInfo[f.fieldCode]){t=f.fieldLabel+"不为空";break}n[f.fieldCode]=null!=this.dealerInfo[f.fieldCode]?this.dealerInfo[f.fieldCode]:null}}catch(e){o=!0,l=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw l}}if(a.push(n),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=g.saveAndStartWf,n=(0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,order:{dataSet:a},outPut:{dataSet:[{tdId:e.cashInfo.tdId||"",cashInCode:e.cashInfo.cashInCode,cashType_cashInCode:e.cashInfo.cashType_cashInCode,thenAmntBal:e.cashInfo.thenAmntBal,tdAmount:e.cashInfo.tdAmount,dealerCodeCreditCopy1:e.dealerInfo.dealerCodeCredit,crDealerLabelCopy1:e.dealerInfo.crDealerLabel}]}}),r={listId:e.listId,biComment:n.biComment,formData:(0,h.default)(n),wfPara:(0,h.default)((0,s.default)({},e.processCode,{businessKey:e.businessKey,createdBy:n.creator}))};e.isResubmit&&(t=g.saveAndCommitTask,r.biReferenceId=e.biReferenceId,r.wfPara=(0,h.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=g.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,_.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,s=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=s;var l=i.order,u=i.outPut,f=(0,c.default)(l.dataSet,1),h=f[0],m=void 0===h?{}:h,v=(0,c.default)(u.dataSet,1),p=v[0],C=void 0===p?{}:p;e.dealerInfo={tdIdCopy1:m.tdIdCopy1,dealerName:m.dealerName_dealerCodeCredit,dealerCodeCredit:m.dealerCodeCredit,crDealerLabel:m.crDealerLabel,applicationType:m.applicationType,tdCreditLine:m.tdCreditLine,thenAmntBalCopy1:m.thenAmntBalCopy1,thenTotalAmntBal:m.thenTotalAmntBal,tdAmountCopy1:m.tdAmountCopy1,differenceAmount:m.differenceAmount,expCause:m.expCause},e.handlerDefault={handler:i.handler,handlerName:i.handlerName,handlerUnit:i.handlerUnit,handlerUnitName:i.handlerUnitName,handlerRole:i.handlerRole,handlerRoleName:i.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:i.biComment,biId:i.biId,biProcessStatus:i.biProcessStatus,creator:i.creator,modifer:i.modifer}),e.cashInfo={tdId:C.tdId,cashName:C.fundName_cashInCode,cashInCode:C.cashInCode,cashType_cashInCode:C.cashType_cashInCode,thenAmntBal:C.thenAmntBal,tdAmount:C.tdAmount},e.biReferenceId=i.biReferenceId,e.$loading.hide()})},checkAmt:function(){var e=this.dealerInfo,t=e.thenAmntBalCopy1,a=void 0===t?0:t,n=e.thenTotalAmntBal,r=void 0===n?0:n;this.cashInfo.tdAmount;r||(r=0),this.dealerInfo.thenAmntBalCopy1=(0,T.toFixed)(a),this.dealerInfo.thenTotalAmntBal=(0,T.toFixed)(r),this.dealerInfo.tdAmountCopy1=(0,T.toFixed)(r),this.dealerInfo.differenceAmount=(0,T.toFixed)((0,A.accAdd)(a,r)),this.cashInfo.tdAmount=(0,T.toFixed)(r)},hasDraftData:function(){return(0,s.default)({},"JKYBYJ_DATA",{dealerInfo:this.dealerInfo,cashInfo:this.cashInfo,formData:this.formData})},splitConfig:function(e,t){t.editPart=e}},created:function(){var e=sessionStorage.getItem("JKYBYJ_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.cashInfo=t.cashInfo,sessionStorage.removeItem("JKYBYJ_DATA")}}}},"r/xY":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noCount:"",noPrice:""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},r2DS:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("4YfN"),s=n(o),l=a("IHPB"),d=n(l),u=a("Q+Ik"),c=n(u),f=a("HzJ8"),h=n(f),m=a("KH7x"),v=n(m),p=a("HXPS"),C=n(p),y=a("7g+Q"),_=n(y),g=a("6q39"),b=n(g),w=(a("QHLv"),a("HyXB")),I=a("1KNX"),D=n(I),x=a("7biW"),P=n(x);t.default={name:"costList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},groupId:{type:Number,default:990713},getListMethod:{type:String,default:"getCostByGroupId"},costParams:{type:Object,default:function(){return{}}}},components:{Icon:C.default,Popup:_.default,LoadMore:b.default,RScroll:D.default,MSearch:P.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],costList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}},groupId:function(){this.costList()},costParams:{handler:function(e){var t=e.data,a=!1,n=!0,r=!1,i=void 0;try{for(var o,s=(0,h.default)((0,c.default)(t));!(n=(o=s.next()).done);n=!0){var l=o.value,d=(0,v.default)(l,2);d[0];if(!d[1]){a=!1;break}a=!0}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}a&&this.getCostList()},deep:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,d.default)(this.selItems)),this.$emit("input",!1),this.$event.$emit("shut-down-filter",!1)},showSelIcon:function(e){var t=!1;return this.selItems&&this.selItems.every(function(a){return e.costCode!==a.costCode||(t=!0,!1)}),t},selThis:function(e,t){this.showPop=!1,this.selItems=[e],this.$emit("sel-matter",this.selItems[0])},setDefaultValue:function(){this.tmpItems=[].concat((0,d.default)(this.defaultValue)),this.selItems=[].concat((0,d.default)(this.defaultValue))},getCostList:function(){var e=this,t=[];this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:"costName"}]));var a=(0,s.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,i.default)(t)},this.costParams.data);return(0,w.requestData)({url:this.costParams.url,data:a}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+i.length,e.costList=1===e.page?i:[].concat((0,d.default)(e.costList),(0,d.default)(i)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.costList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getCostList()},onPullingUp:function(){this.page++,this.getCostList()}},created:function(){this.setDefaultValue()}}},rAju:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=(a("XAqG"),a("HyXB"),a("MjAd")),s=n(o),l=a("ak47");n(l);t.default={name:"CPXQ_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"经办人",value:"handlerName"},{name:"交易号",value:"transCode"},{name:"员工",value:"profileName"}],listViewID:2376}},mixins:[s.default],methods:{pathChange:function(e,t,a){var n=this;if(!this.clickVisited){var r=e.transCode,o=this.$route.query.name,s=this.$route.params,l=s.folder,d=s.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,i.default)({},e));var u=a+"/"+l+"/"+d;setTimeout(function(){n.clickVisited=!1,n.$router.push({path:u,query:{name:o,transCode:r}})},200)}},goDetail:function(e,t){this.pathChange(e,t,"/detail")},goUserEdit:function(e,t){this.pathChange(e,t,"/fillform")}}}},rBkj:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages fgysqk-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{"dealer-label-name":"往来",request:"3","default-value":e.dealerInfo,params:e.dealerParams},on:{"sel-item":e.selDealer}},[a("template",{slot:"other"},[a("div",{staticClass:"amt-dealer"},[a("span",{staticClass:"amt-dealer-item"},[e._v("本次开出汇票: "+e._s(e.thenTotalAmntBal))])])])],2),e._v(" "),a("div",{staticClass:"materiel_list"},[a("div",{staticClass:"title"},[e._v("汇票明细")]),e._v(" "),e._l(e.orderList,function(t,n){return a("div",{key:n,staticClass:"order-detail",class:{"vux-1px-t":0!==n}},[a("x-input",{attrs:{"text-align":"right",placeholder:"请填写"},model:{value:t.draftNumber,callback:function(a){e.$set(t,"draftNumber",a)},expression:"item.draftNumber"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("汇票号")])])],2),e._v(" "),a("r-picker",{staticClass:"vux-1px-t",attrs:{title:"类型",data:e.draftTypeList,mode:"4",placeholder:"请选择类型",hasBorder:!1,required:""},model:{value:t.draftType,callback:function(a){e.$set(t,"draftType",a)},expression:"item.draftType"}}),e._v(" "),a("x-input",{attrs:{"text-align":"right",placeholder:"请填写"},model:{value:t.accepter,callback:function(a){e.$set(t,"accepter",a)},expression:"item.accepter"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("承兑人")])])],2),e._v(" "),a("x-input",{attrs:{"text-align":"right",placeholder:"请填写",type:"number"},on:{"on-blur":function(a){e.checkAmt(t,"tdAmount")},"on-focus":function(t){e.getFocus(t)}},model:{value:t.tdAmount,callback:function(a){e.$set(t,"tdAmount",e._n(a))},expression:"item.tdAmount"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("金额")])])],2),e._v(" "),a("x-input",{attrs:{"text-align":"right",placeholder:"请填写",type:"number"},on:{"on-blur":function(a){e.checkAmt(t,"deposit")},"on-focus":function(t){e.getFocus(t)}},model:{value:t.deposit,callback:function(a){e.$set(t,"deposit",e._n(a))},expression:"item.deposit"}},[a("template",{slot:"label"},[a("span",{staticClass:"required"},[e._v("保证金")])])],2),e._v(" "),a("datetime",{attrs:{placeholder:"请选择出票日"},model:{value:t.draftDate,callback:function(a){e.$set(t,"draftDate",a)},expression:"item.draftDate"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("出票日")])])],2),e._v(" "),a("datetime",{attrs:{placeholder:"请选择到期日"},model:{value:t.draftDueDate,callback:function(a){e.$set(t,"draftDueDate",a)},expression:"item.draftDueDate"}},[a("template",{slot:"title"},[a("span",{staticClass:"required"},[e._v("到期日")])])],2),e._v(" "),a("x-input",{attrs:{title:"说明","text-align":"right",placeholder:"请填写"},model:{value:t.comment,callback:function(a){e.$set(t,"comment",a)},expression:"item.comment"}})],1)})],2),e._v(" "),a("div",{staticClass:"add_more"},[e._v("\n        您还需要添加新的汇票?请点击\n        "),a("span",{staticClass:"add",on:{click:e.addOrder}},[e._v("新增")]),e._v(" "),a("em",{directives:[{name:"show",rawName:"v-show",value:e.orderList.length>1,expression:"orderList.length>1"}]},[e._v("或")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.orderList.length>1,expression:"orderList.length>1"}],staticClass:"delete",on:{click:e.deleteOrder}},[e._v("删除")])]),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"其他信息"}},[a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},rDF8:function(e,t,a){"use strict";function n(e){a("b3pO")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("aofM");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("p6YX"),s=a.n(o),l=a("CSTP"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,null,null);t.default=c.exports},rHhR:function(e,t,a){"use strict";function n(e){a("UiDX")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("bnXU");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("NAfT"),s=a.n(o),l=a("MeRG"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-2fce2aea",null);t.default=c.exports},rJzR:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB1CAYAAACF+iUMAAAbJUlEQVR4Xu1de5gcVZX/nerqmUlmeiaBQF4ziQkhJCEJCUFCQgR8JItRI4ob1G/dAArLw2V9oLur7i4sfqxfEHbdD2IQJYCAkhXlsQskhIAhsLKLKK5B3M1D5pHEgHlMzzCPqq6z362qW3Wruma6q6e7ayZO/5NJ163bt+7vntfvnHuLMEI/zKy9CYzt6kZ9XQp1fUb/mJSmTUMudzqRPpc0nmRZ3ESMRiY0EsS/lAFzGoABIoC5doQ+fnjYDKIDAD9PoI21DfrLJxN1iUY0kh5w1y6uaTwF07Vcbl4ux6cT8TyLMYPAk4m0Scw8ZiQ9T0XGStRDoPtN07h5xvgxvxv2ADMztXf3LyDWLmHmC5jQDEYjETUws16RSRrhnRLBBLRNtQ2pLww7gAWgbwENuV5MMI3c+RbxZwhYOgpmvFVHRD0AVg8rgNvf5mbkjNUW8G4CrWDm5niPNdpanQGNtB8OC4DfZM70dpvXwuJ1DEwHMGpLy7FWifYnBjAzpw70otk0+i4GUtcDPLkczzTahzIDRL2JANza3T2FcvqnmOhTYMwFoI0CU/4ZIOD1qgL8LLM+K5v7EMO6gYE5BNSU/7FGe5QzoIFurQrAL7/8cnriqfPfQaR/1SL+pEs2jCJRyRkg2q+z9d6KA7yfeazZZVxKjOsZmFHJZxrt25kBAmVB/LXmhvTGigJ8lHl8Z1duIzGvZnDDKACVnwECDrGmfY7qU4+02KxWBT4vM6cndJkrUsAGZp5TgZ84rrok0g6DeTfAZikPRkQWAwcB3pHJpe8fN46OyH7KDjAzpzu6rWuZrS+OEhXFwsUdmka3Tq1PbyCivmLvKqZdWQE+eJDrzXpjvQW6FMxjixnAaBtvBnpAeCTFdLuW0o1C85JK4ehJtdhNRDxY27IBfCDLJ+WQu8li69MARpMAhRAqw3WCtsfS+OqX6vXta4lyUV2WBeC2Y72zQKl/AvgiHgW3DNDF6mJXSk+/f+pYaqsIwAd7eIZhmg8w8zkjLb8caxqHb2O2WPvgO5r0J8oO8L6urkk6197BzB8ZBTeZFUAEK0Xp1VMaaEtZAW7v5BOZjG8B9HGROEjm8UZ/lYhepZTxweaxY9vLBvAe5ia9y/weOZI7mihIaJ0R0S4An21u0HeIWLgsAO/bt69OP7H5BiZ8YZRTrhqyFgiboeFWWNwrfnVsQ82RCUQdhUYQ24tuzfZ9nFi7ncEnFup89HpZZ+AwaXxdS0PtA3F6jQVw+5H+M1inbcw8Ic6PjLYtzwwQ6HAqpa+aUk8/L7bHogEW9VKcMx9n5kXFdl5sO0GktnUC97xqYUcr0JFlDErPRHRslzlLV54AEl/YJA/ZJdD2x/03UwvMn0C4fAGwZCKhbiTRMkS/TuvmhyaPGfO7Yua3KIB3HTrUkBkz7hsArgRDFI6X9dPaCVy/zcKvDjE4LrIKcDaQ9hMJUEUtOEEsFRJfutfcy/b4G2qAzy8hfGw2QR85rqIJwp013em/njSJugsBURTAHV38vpxl/ETMSaEOS7l+0/MWHthVBnAl2K4Eq2DaGCtPS5oj8TPHAXe9T8Ok+lJGnsw9DGR1jT46tSG9rdAICgK85zA31ejGz0SJTaHOSr2+6kELbxyLL7qeWtbEYzj3Sym2pVZ8Z0uuoqaFRNvtnY+mAQ+u1jB/hLmMBPxvJpM+Zxz5qcGo+R8UYGauae80bmHCdaWCV8x9czfmIOxwsR9VEn3JVNUwAwqIvur2F4CzGhz8bzufsHJawbVe7PCq1k4j7U4+mvp8S4td5B75GfSp2rqMC2HhPgafVMlRn/btyETIoCP21K+qeqVzZd8ppFdKrvO3+M5xvhR1TcCt52lYNa2ST1ixvg9rKW1dc73+77EBPszc1JXt3wSQYKsq+ika4DCYNlIukDZ8vvpVF4Cquv2/7d2Ftrr+5rtopAIsFutDYxrSV5xElI2lot/oMlZqFj/MQKai6AIoBuBAqCO9ZYGt5lhb6SXLsQonSn6tXnPUtSrNjG+uGLESLB7xGGv0p9Mb0k/HAri103gO4PMrDa7ovyDAriGxtasHkKOGHYfJV8cizHLA9dWxBJoVDaACPcIBFuv3peZMellUdUekDW7tNNcA1qPVALcQwA5Yvkds21D7KxHfutLoAseuynX2djuLwVsAbjcqASIXwS3njmAV7YLEwKXTG2vuDWOWB3DbsWMnMI19FOAVSQKser4+SeG6vVI6lbBI6mPvgTSP8/B1dSAWJlfSgVuWj3yAAbyUyaQvHE90VMUtD+D2rLnWYr4L4MYkAJaxreoY+fZXsZ1SihWJ9mhJRaV7wEu7qxGEpKvh1XEC8NFUSls3tV5/bECA29raxmDcxH9hxpXVAjegogO2VtKMjoZuqiNcsZBw8RzCuJgnaxztA36yB7j7NcYxw7HNKne9XkhwSzWfuEK/Rbgz15D+3AwiO6UojZv3a3uP9EzXU6mtAGZXaAiR3dpOlip1gb+d//zlEsJVi0jlL2INURApd73G2PA/ftJBCr8N8PGx1XwfsbWqpaludyTAHV3mJ3KWdX+1qzRO25jLC3UcZ8onKJ77RAoTh8gXH+oBVj6mUJpu/+uXHTcAs0a4pjlTszEPYHEsUXuX+Yw46CSWaJSh8ZyNjgR72Z8At+xI8LMf14YM8O97gFWPWQ6b5eov8ef6cwgrjw8JFpO4s6VBP0+GTJ6T1X6kfxHr9N9JHHYy5zuiIkV8ZGyjeMDuCK9bQrhy4dBU9HdfAzbschMQige+funxAzABpgZr/tTGut8GbHBr1vg6mL9aBoGM3cWc7wRVdDDWdUKjplrg0ws0XDwbpTlZ+4B7XrdwzFCYLxfkLy8CVkwagJYvMgchwvUJdUDNMMgrp4humJpJ3+gBLDaMtWfNnQw+OzY6Zbhh7l1CRbsTL6TYpR9VbtkerKQoI/922Q37Xmm7laSCjIs91ex66Xl9BpMSgd91iRTVPfVCOA2oIcKSExlXzQJmZwIJrTLMUvFdEOOXzY3p5eIoJXt9HsjyPIP7twCUiCWa+91c0C7KpadIz8DcsiQ/1AyRn4DweGjf7AYWiu+9O4kLp/ojYoGEEh0y1Rjw/t3VMLMBuGkB45SKlEcUATTRfs7xmunjan5uP3ZH1rzEtKy7iCqfWIga3rzvyZJel1sWjq6QOIVy9IgJh590nSSXb7aZLSnW8nJEajBP8hUpFtdkDlkuLLfsJyjFfowRLC5w6VObH2V8YDLha/NiJLmLwK3oJowuAl/V0lT7AIldCR1d5o0W81eS2n5iAxyKg90gyaYTA9yyO4G+F+xLcDjBEM77OkBJSXWL9FRzoFZ+uKo7kMXyFogM4dz+PAdR9g9MqgN+sjwhgAEmopuaG/QbqZp534FW4Ly7B1bRnsCqOEppVXLBYZVpawD5g2H16oqkm/v3qi/9BRHhzQ9k9+2+Igr7ALz4nsQAFg+/ua8/ewW92c2Te0zjcRCWFK0Cytzw9E2uio4AIs+x8uyz4kzZSEp1HazWCEuxT6C4Wt5D2Vf3nsMns1TSMfMcNHcCPG2gJEGEmrerdRkvvrvMExWjOyK8ipT5AXqjl2eSYe4EJ3fS3On3OACr6jAAhD1/rmpVSApfTftP7i0IOeeebXbttCK98n7VxnpjUE29krL0F5xbDuTZ6/D4gRfOT1CCgSPE1lJ642j/Ek2DqJpMrPxbADyQpDoTrnq2oUR+OMwJq2XVtkeBqywENQHhpyj9ahFnKPkOXqBqU+kvSYDtzWgWL6e2LvOTbFmx9rvE0BRFNZ1/r+tkKXbWrlv2qjN8Z0bWM6u2OSz9QYmUDpES37rq3I6zpZp1gfNAVhaOpFFVbjyveC+kvkU/O89LVIJBGv8ZtXcZN1sW/21RSFSo0fz7HIA9badw0U5ZhsNeXTaX8JGZ8ZmsY/3AI28A9+4BOvuDddF5kqrWVoudER65IXPIzigDCyECXNHvznclCzCYvk6tx/ofAmFthbArqtsF3xcAqxKmBGy2o8O4ZoGGK+aVzg6JdOHdu4GNrytaVpXSgNcdKrdV7XnI4cpz4hTbnTjAhM1CgrdaFq8sCokKNZr/fdcGq3Gm6hkT8PQawslDPEX6UC/wAbHZI2y3VS0eisdlHtPR4Kr9V+uuQzlmt4+dKxKWYKLnqa3TeCkpDlqulwX3SyfLn2mH3GBoLru0ZQ1hYjkAfsbntIWNF1tXgt60O4YIAsSz2apKDjtxNiPmNHj+3MhN9xUSk/xuSaNfUltn/+sMnFa1X434oYUPqExWFLcMXLOA8Jk5Q1PRm3YDd/6fD2iApfLUcL6pCLcLO3XBCEAiDjy/PFmAAeyl1qxxAMyTEgX4QVeVedxvvvprqmFcNkfDRTOAcTFPmRZO1qNtwH17GZ2mD4DtCdti7AqxGzP7DJhPnkhba3MYeWpc3uHXaYs2O5Ylq6KJ6JAAuDvpYwcX/kBQfQqo3gwHY95guCJB8bNAMr3oyGCouM61u/ncss9CBXchuuG3vM/dv2hz4/JvtQrFA93XQDuWJSvBdrqwNWv0gTmmTJRX3s/4getFq1RlmPtVE+nuxHrbQ70kgqJ+Q6HLgOFQFEMW4pYDcbV89LytMfmqfcc5yQIMon5q7TTeQsIHqpzxQ1lGk68S82JObxGo1KVU8c6qUFWoqlLDGsAhS2QJrUJ6KEG5zENLR2xAbjxvoTB2LE1WRQP0BxEH7wFhZnllMl5vix5SAVI4XVWKVSco4LkOHq5IEIPSLjsemPYMZKdUjeFpBt80+AyNasuBn56dsAQz9lJb1niFmRfHg6S8rRdtDhXC5anXIM0Y5n5VMIIJi+DBLE47l9cO5HYVexuh2sN9Sm680BkgSQNMRL+g1s7+5wBUZRfhQMtCAKxmgcJhiPN/lyJ0dw5KPZzvNIXBUhaHe+pOeFdi5MbwKBse8KBdlRL2qKUboAHPnZWwBBM9J4iORxj84fLKZLzeFv+bPEtD8Yzd8zUkgE21hHWzgIumA00xXUIRJj3WAXy/lfK4aM/GhgkLJRfskC3SjAwQJ6uev0vOJA4w6FFhgzeAcHU8SMrbevGPXCLflRqfHvRV99VzCJfPHhrRcc/vgLv2RhMpjq1WpV+VfMU7txtG1297fbh9PbckWQnWSNtArdn+a8C4o7yQxetNADyQJMm03BOrgJPr4vUbbn2oD/jwC66qD6lW6W2Hs0SO6ZCNldKcEC+t7paQpMizZyYLMAjX0v4ePs80xG5+v4RpaNMY/+7FDzsA+wRCKHQBUA6A3+wD1rzg9O0AGRGWeVktKdJ+ejHqDJBIp871urcvjnG4TPxpK3QH6+n0BdTe2TvbgvZfAJoK3VGp62f+WKELXZc47DxdNQe4fNYQVfQbwHf3OSpaVclhp24gbtkbk6rOA2bFPVXAXSTbFycqwcc0WGeTOIPSMg1xWvi8SgFYqN8lj8gWPtkgN3NL1dmYZqybRfhwSwlOlgE8fgC4vxXICi5aUc/5RIhaHJZ/Boh3IGa4ZtojOnx7vX1RogC/punpPyFxcrtF5oNgXlUIiEpdX/KIT3RIm+v8ljPBKverkgqOqnWvqgUD0hESUW8exRk0Ro5pkAXw/sZwWQprq3JvTeRXg/hnfkgHTcbZhO1nJKiiibZqrH9SFL7XtnUZt4FxTaUALNTvkkeVU2FluKHw0mF6MDKjo54q6+Vkw5UhSmJeDMrN29qJDu9v0cbfujIQieKp9UCSwff6hZHfvjA5gCml3dE8NvVFe3it2f6rwPhnAEP0UwtBGX39LHtTts8tO//Lzy6FPdyBuGVHytVtLYpatuuW/bhbLc/1mCnVa/b+Hthu+562e8KtewLQMwsTU9G9IHx+WqbGeTllx9vG8pzJPwYwsTSIhnbXWY879+dTgr4986VYrZeS9/kA5tVIqRpBdY6kao9w6gZix5xBRtVvK+NXdltsW5CYBP8+pdNHp45Nv2g//hHmcdms8UJSjpYAOBLciMl0zn9WSAk18+MSFdFAyMXinCXtt/FjXBmoeX6A6m0HwA1lskJ7muT4ts1PDODXMpn0ueJIJY9ga+0U51Li0qHJYml3v1McpRlBFQbsnJpNCp1il88tK9xEgGZUF5JKOUabA7kI7HEIG+3uenTGpRImCrOlaIxtpycG8D3TGmsuk3JgP8f+bvMiM2eJQ7+r/nnnf/gqzp5D97DufEn1+WBbCm2jHPRsB+eWHW9ZcMu+JggyW0G60h1XxHnUXpmvXIUR5ElSAOsp7SNT6nU7+PQk2H5Td9YQ7+F5R7URPlu+lG1AlShQlycA+Oo5IOFhG55nb8UX+SVAqjoP296gvZWb3VTQVdsrTYCvJZ6el4gE79Mz6flTiN4OACz+05o1/g7M/1htgN/5hO+h5qcN5RoM1iTbHm8e2eA7QQNzyyGHzJuFaPDleHzwFRrVDc18CjNIfT49NwGAif5+WiZ9k8TQk2BbTWf75pqsvQDw+GqCfPaTEU6Wu23EV6cuxSh3ZyoOlcctK3uZPN/LVa9eMiB0BojTf3CBeXG2EuM61kAxByFtoxIqMmzaOqekF3oPYerpiE7WuVMytb+JBFh4011d5j3M1c0Pn/2UYiu8859Vacg/MyOgTiO5ZYXhUiU9oLqVuYxYMI76HiC9qDhTdrNAEZ7jZW89rboSTESPmqZ+6Yzx/oGkAQlmZmrt7Psr0rRvgBHzRMjSF95S+72Z4dDD9VQ9z1U5c0Ndnor37RMVqj1UVLJqg2UI5omvApJCdKh7poJES1SZr79rQoygqgAT+tiy/mZaY+231HOjAwCLQbX18qncbwi3Z1bpkMW70wZYCYN8UiNkF1UKUq4JW8L86kWfy46oqZaOmPLU+Vy10p/kur32UXXa/rNKbtz2DUDYMruqKno31aRXt9SR3Lsh/cd8MNqyxg3M/A/xYCq99dKtftJATTao6blw+ON5uFKCxRfePiNFvdsLQTneIUpFe4SKCm5wB38euxVOYqj9uqp9y6nVA5iJbpyeSd8QRiFPgkUD8a6ktN7/GkBTSoet+DvPsd82oKpol/CXCYQIEsTTopHcspowiK61js4JS7sdOjLC5bYjC/0iqUtHo2w5tVo2mPcbZs28U06gY0UBLBp1dOeuyeVy/wqg4i9/XrbNE0PPrwmnBaW+cYB1F4MnNcHQZTA+2hUubz+y39b30j0TL5d/aLtKXnzsLQDnTqmFnjqlKhKcS6VS102tT22IEqlICbZt8ds8lXPGY2CcWbwsltbSBtj1Yj32yrOxbp95kiK/l9yyq169IxEdp0m+u0H27y2UgD0enFv2F4WSUfK+VEp+FXDF5aoATHiFUuk1LWOj3yU8IMCbN29OLXv/xVczcuvBGOLO3MGBX/ZMhPRIujKknv2XbOSDoqYIveJ4JZxRF0/AI5bOVIgNi1bjoQXnZqUCRXeut/7kzApLMKGHkPryfz758LfXrl0baQ8GBFg8hp1l6jIfB1f2BR3Ltg/8bkGf2XLsYzDr5HLK3tlUoa2dngoPSl7wTSwhZ0q9xyVVZPeqag4e86QegOqTIU/OqDTAtDPToH8o/CIOVZwGBVg0PPg2L+03jacAjCtNARe+a/mzITJBNclSdXu2N7h3KWxvA1I3oBpWwzLXbipesR+m5ed/fV8g4oVcIXarwgAfrdHTF04aSy8NNsMFARbkR1vW/CLAtxSGqrQWy591HBP/WKN86tKhD8PltNGxbpSDFlTJwUNWPBpSfVlHYGGp6UyJYv55HeEtME9Mr6QE05daMvqtUS/DiiXBthRn+WQD5kPM9pvQCi6K0mAevavIGRAHjf40Df2SSRk6VOieosCypfhY30poqXuBZI97KPRAx/91Oggrt66lqfbpQtIr3Ymi5uRZZn1W1riMge8UdcNoo4rMAAFX7s6kN72bqCj9X5QEqyNty/bfzoy/QIJnW1Zk5oZ/pyYR7mzJ1Hw2zlBjA7y3q2ti2qrdxOALR+1xnKkuva19sChji6H1XTazoeH3cXqKDbCwxx3dxkK2tIcZ1ilxfmy0bWkzQND2kGZdPLU+/ati7G5sLzpqWB3d/YtzFj0G5kRe5FHaVI3Au4jaUxqvmVpf84tSRh9bgoP22LgAzN9mYE4pPz56z+AzQMDrILq6JZMW23tL+gwJ4M3MqeXZ3Pst8CaAJ5Q0gtGbBpgBeksDXfZiJvXkWqKS845DAliOrD1rfizH1h0EnDyK19BngIFDKdKubc7oPxpqb2UBWAyiPWu8xwLWg1mkF8vW71AfcITdL/jPVzTgy82Z9PZyjL1sQNhvL+3un89M94FxRjkG90fXB+FVIv7z5vqaX9uhURk+ZQNYjuVAlk8yYGwGYzmAmAceleGJRmYX/SC8mEZ67eQMvVnORyg7wGJwdnKC+69nkGC8Gss54OOtLwY6NfCdaar5ZjHJg7jPXxGAxSDamMeg2zyfLet71Srei/vwybfn/aRpn0a9/tMWop5KjKdiAMvB7j/cMy2n63cwYSWYq1ZMX4nJKlufRH3EeDplmtdOOWFMa9n6jeio4gB7KpusdeDc5cx/3KSITV5oqbvTrN1bCZUcxrgqAIsfFW85be/sm8ma9gUwxObkPzZp7gNhE1nWbc2NtXtpCORFHImvGsByUCJZsb8bKxnmzcyYy8xj4wx4pLUloreJ8BuC/pUp9SgqSV/OZ6w6wHLwzvlcxiUE+igznwcgXc4HGwZ9GUS0g8E/1jj9UHMj/SGJMSUGsKu2tQNZnMCaeWbO4q8QIF4lVfGdFBWeaMEb70xpdDNZ+iuTMzhcLtKilHEnCrA6YFESNDPbdyFB+xJAp7nvkUjsjagxJ9MU70cA+LcM65a9mdqnii2pifk7sZsPG4AVG13bmjXP0oAVFqx3EbSlwzdTRW+Rhp/Bwk4L2Dkto79MRH2xUajgDcMOYNUZawXGUVf/VGJttcX8CU2j+cycqFQTkWlZ/GuN6AdM1hPcUNMxDTgat9KigpgGuh62AIcnQHjff+jBlF4r915maxXbm+JoPIHrmVAHLrOTRjCI0cugboCPkNjkRdrWOi31zIljsH+4AppYHFzuFXvkCI/r1ow5FngGSJtMGiZZzFM00GQWr6snaiKgjgVl6sTc6pZtMRyLiHoBASJ6wXyMiA5YFh/QUrSfLRwEWwc00L56K/36eOXci3I/SyX7GzESXGgShJN2+puoM+tQx0bPGDOlpU1Cqo5qNZP6dc2iekqlM7b3njOylsbdOteYvdxn6YycnrMMSo/p0XvRu+sk9A4XJ6nQcxe6/v9xG2BI3fFAvgAAAABJRU5ErkJggg=="},rKsn:function(e,t){},rLJd:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("IHPB"),i=n(r),o=a("3cXf"),s=n(o),l=a("4YfN"),d=n(l),u=a("0AQX"),c=a("Dkzh"),f=a("7biW"),h=n(f),m=a("1KNX"),v=n(m);t.default={data:function(){return{serachVal:"",title:"",listData:[],page:1,limit:10,hasNext:!0,DefaultImg:a("Fuf7"),scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0}}},components:{search:h.default,RScroll:v.default},methods:{goDetail:function(e,t){var a=this,n=e.title,r=e.listId,i=e.folder,o=e.packagePath,s=Date.now();e.visited=!0,this.$set(this.listData,t,(0,d.default)({},e));(0,u.isMyflow)({transCode:e.businessKey}).then(function(t){var l=t.tableContent,d=function(){var t="";if(l.length>0){var s=l[0],d=s.isMyTask,u=s.nodeName;t=1===d&&"重新提交"===u?"/fillform/"+i+"/"+o:"/detail/"+i+"/"+o}else t="/detail/"+i+"/"+o;var c={listId:r,name:n,transCode:e.businessKey};a.$router.push({path:t,query:c})},u=Date.now()-s;u>200?d():setTimeout(function(){d()},200-u)}).catch(function(n){e.visited=!1,a.$set(a.listData,t,(0,d.default)({},e))})},resetCondition:function(){this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.$refs.bScroll.resetPullDown()},searchList:function(e){var t=e.val,a=void 0===t?"":t;e.property;this.serachVal=a,this.resetCondition(),this.getList()},getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a={title:this.title,businessKey:this.serachVal,crtName:this.serachVal};return(0,c.getAllMsgList)({limit:this.limit,page:this.page,filter:(0,s.default)(a)}).then(function(a){var n=a.total,r=void 0===n?0:n,o=a.tasks,s=void 0===o?[]:o;a.success;s.forEach(function(e){e.status="待处理",e.transCode=e.businessKey}),e.hasNext=r>(e.page-1)*e.limit+s.length,e.listData=1===e.page?s:[].concat((0,i.default)(e.listData),(0,i.default)(s)),t||e.$nextTick(function(){e.resetScroll()})}).catch(function(t){e.resetScroll()})},getDefaultImg:function(e){var t=a("HfaK");return e&&(e.inventoryPic=t),t},resetScroll:function(){this.$refs.bScroll.finishPullDown(),this.$refs.bScroll.finishPullUp()},onPullingUp:function(){this.page++,this.getList()},onPullingDown:function(){var e=this;this.page=1,this.getList(!0).then(function(){e.$nextTick(function(){e.$refs.bScroll.finishPullDown().then(function(){e.$refs.bScroll.finishPullUp()})})})},reloadData:function(){var e=this;this.serachVal="",this.resetCondition(),this.getList().then(function(){e.$loading.hide()})}},filters:{handleCrt:function(e){var t=e.duration,a=parseInt(t/3600),n=t-3600*a,r=Math.floor(n/60),i=void 0;return i=a>0?a+"小时前":0===r?"1分钟前":r+"分钟前",a<24?i:""+e.crtTime.split(" ")[0]}},created:function(){var e=this;this.$loading.show(),this.title=this.$route.query.name,this.getList().then(function(){e.$loading.hide()})},activated:function(){var e=this,t=this.$route.meta.reload;this.title=this.$route.query.name,setTimeout(function(){var t=[].concat((0,i.default)(e.listData));t.forEach(function(e){e.visited=!1}),e.listData=t},200),t&&(this.$loading.show(),this.reloadData(),this.$route.meta.reload=!1)},beforeRouteEnter:function(e,t,a){e.meta.title=e.query.name,a()},beforeRouteLeave:function(e,t,a){"MSGHOME"===e.name&&(t.meta.reload=!0),a()}}},rNne:function(e,t,a){"use strict";function n(e){a("34GS")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("0LX9");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("uJmp"),s=a.n(o),l=a("rPDC"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-5479534a",null);t.default=c.exports},rOS6:function(e,t,a){"use strict";function n(e){a("ctOz")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("qni/");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("eoI8"),s=a.n(o),l=a("SpA0"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-643ec600",null);t.default=c.exports},rPDC:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages cpfb-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart when-is-form"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,defaultContact:e.contactInfo},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("div",{staticClass:"materiel_list"},[a("div",{staticClass:"mater_list"},[a("div",{staticClass:"each_mater"},[a("div",{staticClass:"userInp_mode"},[a("div",{staticClass:"title"},[e._v("发布信息")]),e._v(" "),a("group",{staticClass:"CP_group",on:{"group-title-margin-top":function(e){}}},[e._l(e.otherConfig,function(t,n){return a("div",{key:n},["r2Textfield"===t.xtype?[a("x-input",{staticClass:"vux-1px-b",attrs:{"text-align":"right",placeholder:"请填写"},model:{value:e.formData[t.fieldCode],callback:function(a){e.$set(e.formData,t.fieldCode,a)},expression:"formData[item.fieldCode]"}},[a("template",{slot:"label"},[a("span",{class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))])])],2)]:e._e(),e._v(" "),"r2Combo"===t.xtype?[a("popup-picker",{attrs:{data:t.remoteData,placeholder:"请选择",columns:1},model:{value:e.formData[t.fieldCode],callback:function(a){e.$set(e.formData,t.fieldCode,a)},expression:"formData[item.fieldCode]"}},[a("template",{slot:"title"},[a("span",{class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))])])],2)]:e._e(),e._v(" "),"r2TextArea"===t.xtype?[a("x-textarea",{staticClass:"vux-1px-b",attrs:{max:200},model:{value:e.formData[t.fieldCode],callback:function(a){e.$set(e.formData,t.fieldCode,a)},expression:"formData[item.fieldCode]"}},[a("template",{slot:"label"},[a("span",{class:{required:!t.allowBlank},staticStyle:{display:"block",width:"3em"}},[e._v(e._s(t.fieldLabel))])])],2)]:e._e()],2)}),e._v(" "),a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],2)],1)])])]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId,"contain-style":e.uploadStyle},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"cfm_btn",on:{click:e.save}},[e._v("提交")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},rQbX:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("a3Yh"),s=n(o),l=a("3cXf"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),h=n(f),m=a("SAzG"),v=n(m),p=a("7g+Q"),C=n(p),y=a("PzEQ"),_=n(y),g=a("jnZd"),b=n(g),w=a("u28h"),I=n(w),D=a("kNGm"),x=n(D),P=a("iR2W"),S=n(P),k=a("0AQX"),L=a("HyXB"),N=(a("jLp1"),a("bKg5")),M=n(N),T=a("wuIh"),A=n(T),O=a("CKaN"),R=n(O),j=a("vl8n"),B=n(j),E=a("+WR7"),F=n(E),U=a("zWMP"),$=a("Qg39");t.default={mixins:[M.default],components:{Cell:c.default,Group:h.default,Popup:C.default,XInput:v.default,XTextarea:_.default,PopupPicker:b.default,RPicker:B.default,PopBaseinfo:F.default,PopMoneyOrderList:A.default,Datetime:I.default,PopCashList:R.default},data:function(){return{listId:"bb9ce973-2f62-4707-a54c-7e8605dc99d6",biReferenceId:"",selectedCost:[],costIndex:0,transCode:"",formData:{biComment:"",biProcessStatus:""},showOrder:!1,orderList:[],cashInfo:{}}},computed:{tdAmount:function(){var e=0;return this.orderList.forEach(function(t){t.thenAmntBal&&(e=(0,U.accAdd)(e,t.thenAmntBal))}),(0,$.toFixed)(e)}},filters:{numberComma:S.default,dateFormat:x.default},methods:{submitOrder:function(){var e=this,t="",a=[],n=[{key:"cashingDiscountDate",message:"请选择兑现贴现日"}];if(t||this.orderList.length||(t="请选择汇票明细"),t||this.orderList.every(function(e){return n.every(function(a){return e[a.key]||0===e[a.key]||(t=a.message),!t}),a.push({tdId:e.tdId||null,draftNumber:e.draftNumber,draftType:e.draftType,accepter:e.accepter,tdAmount:e.tdAmount,draftDate:e.draftDate,draftDueDate:e.draftDueDate,cashingDiscountDate:e.cashingDiscountDate,discount:e.discount,thenAmntBal:e.thenAmntBal,comment:e.comment||""}),!t}),t||this.cashInfo.fundName||(t="请选择资金账户"),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=L.saveAndStartWf,n=(0,s.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,d.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:e.formData.biComment,formData:(0,d.default)((0,i.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",inPut:{dataSet:[{fundName_cashInCode:e.cashInfo.fundName,cashInCode:e.cashInfo.fundCode,cashType_cashInCode:e.cashInfo.fundType,thenAmntBal:e.cashInfo.amntBal,tdAmount:e.tdAmount}]},order:{dataSet:a},deposit:null})),wfPara:(0,d.default)(n)};e.isResubmit&&(r.biReferenceId=e.biReferenceId,t=L.saveAndCommitTask),e.processCode.length||(t=L.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,k.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.attachment,n=void 0===a?[]:a,r=t.listId,o=void 0===r?"":r,s=(t.biComment,t.biReferenceId),l=void 0===s?"":s,d=t.formData,u=void 0===d?{}:d;e.attachment=n,e.listId=o,e.biReferenceId=l,e.handlerDefault={handler:u.handler,handlerName:u.handlerName,handlerUnit:u.handlerUnit,handlerUnitName:u.handlerUnitName,handlerRole:u.handlerRole,handlerRoleName:u.handlerRoleName},e.formData=(0,i.default)({},e.formData,e.handlerDefault,{biComment:u.biComment,biId:u.biId,biProcessStatus:u.biProcessStatus,creator:u.creator,modifer:u.modifer});var c=u.order,f=void 0===c?{}:c,h=u.inPut,m=void 0===h?{}:h,v=f.dataSet,p=void 0===v?[]:v;e.cashInfo={fundName:m.dataSet[0].fundName_cashInCode,fundCode:m.dataSet[0].cashInCode,fundType:m.dataSet[0].cashType_cashInCode,tdAmount:m.dataSet[0].tdAmount,amntBal:m.dataSet[0].thenAmntBal},e.orderList=p,e.$loading.hide()})},hasDraftData:function(){return!!this.orderList.dealerCode&&(0,s.default)({},"DXTXCDHP_DATA",{formData:this.formData,cashInfo:this.cashInfo,orderList:this.orderList})},getRelationData:function(){},selOrder:function(e){e.forEach(function(e){e.draftDate=(0,x.default)(e.draftDate,"YYYY-MM-DD"),e.draftDueDate=(0,x.default)(e.draftDueDate,"YYYY-MM-DD"),e.tdAmount=e.amntTbMatched}),this.orderList=e,this.orderList.forEach(function(e){e.discount||(e.discount=0),e.thenAmntBal=Number((0,U.accSub)(e.tdAmount,e.discount))})},addOrder:function(){this.showOrder=!0},selCash:function(e){this.cashInfo=(0,i.default)({},e)},checkAmt:function(e,t){var a=e.discount,n=void 0===a?0:a;e.discount=Math.abs((0,$.toFixed)(n)),e.thenAmntBal=Number((0,U.accSub)(e.amntTbMatched,e.discount)),this.$set(this.orderList,t,(0,i.default)({},e))}},created:function(){var e=sessionStorage.getItem("DXTXCDHP_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.cashInfo=t.cashInfo,this.orderList=t.orderList,sessionStorage.removeItem("DXTXCDHP_DATA")}}}},rSJi:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listViewID:2366,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"往来名称",value:"dealerName_dealerDebit"},{name:"设备名称",value:"facilityName_facilityObjCode"}]}},mixins:[r.default],methods:{},created:function(){}}},rUyz:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages cpxq-list-container",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId,hasFormStatus:!1},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"instance-item-wrapper",class:{visited:t.visited},on:{click:function(a){e.goDetail(t,n)}}},[a("div",{staticClass:"instance-header"},[a("span",{staticClass:"instance_code vux-1px-l"},[e._v(e._s(t.transCode))]),e._v(" "),a("span",{staticClass:"instance_status",class:t.statusClass},[e._v(e._s(t.priority))])]),e._v(" "),a("div",{staticClass:"instance-main"},[a("i",{staticClass:"icon icon-light"}),e._v(" "),a("div",{staticClass:"instance_info_wrapper"},[a("div",{staticClass:"instance_header_wrapper"},[a("span",{staticClass:"instance_header"},[e._v(e._s(t.bugTitle))]),e._v(" "),a("span",{staticClass:"instance_process_status"},[e._v(e._s(t.bugProcessStatus||"暂无流程"))])]),e._v(" "),a("p",[e._v("产品需求： "+e._s(t.productDemand))]),e._v(" "),a("p",[e._v("所属大类: "+e._s(t.bugType))]),e._v(" "),a("p",[e._v("子类： "+e._s(t.bugSubclass))]),e._v(" "),a("div",{staticClass:"instance_detail"},[a("div",{staticClass:"instance_detail_item"},[a("i",{staticClass:"icon icon-handler"}),e._v(" "),a("span",[e._v("被授权者："+e._s(t.authorized))])]),e._v(" "),a("div",{staticClass:"instance_detail_item"},[a("i",{staticClass:"icon icon-mod-time"}),e._v(" "),a("span",[e._v("修改时间："+e._s(e._f("dateFormat")(t.modTime,"YYYY-MM-DD HH:mm")))])])])])])])}),0)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},rVzw:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("a3Yh"),s=n(o),l=a("4YfN"),d=n(l),u=a("IHPB"),c=n(u),f=a("3cXf"),h=n(f),m=a("HXPS"),v=n(m),p=a("BGNQ"),C=n(p),y=a("z5TY"),_=n(y),g=a("SAzG"),b=n(g),w=a("PzEQ"),I=n(w),D=a("0AQX"),x=a("HyXB"),P=a("bKg5"),S=n(P),k=a("9cRV"),L=n(k),N=a("89pA"),M=n(N),T=a("luHD"),A=n(T),O=a("vl8n"),R=n(O),j=a("+WR7"),B=n(j),E=a("zWMP"),F=a("Qg39");t.default={mixins:[S.default],components:{Icon:v.default,Cell:C.default,Group:_.default,XInput:b.default,XTextarea:I.default,PopMatterList:L.default,PopWarehouseList:M.default,PopMatter:A.default,RPicker:R.default,PopBaseinfo:B.default},data:function(){return{listId:"edf7b34b-8916-410f-801f-2db7e97efbde",matterList:[],showMaterielPop:!1,transCode:"",formData:{biComment:""},numMap:{},warehouse:{},matter:{},showMatterPop:!1,modifyIndex:null,checkFieldList:[{key:"tdQty",message:"请填写盘点数量"}]}},watch:{matter:{handler:function(e){e.differenceNum=(0,E.accSub)(e.tdQty,e.qtyBal)},deep:!0}},methods:{delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,h.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},selWarehouseIn:function(e){this.warehouse=JSON.parse(e),null!=this.matterParams.data.whCode&&(this.matterParams.data.whCode=this.warehouse.warehouseCode,this.matterList=[])},modifyMatter:function(e,t){this.matter=JSON.parse((0,h.default)(e)),this.showMatterPop=!0,this.modifyIndex=t},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.matterList,this.modifyIndex,t)},selMatter:function(e){var t=JSON.parse(e);t.forEach(function(e){e.tdQty=e.tdQty||0,e.differenceNum=(0,E.accSub)(e.tdQty,e.qtyBal),e.thenQtyStock=(0,F.toFixed)((0,E.accSub)(e.qtyBal,e.qtyLock))}),this.numMap={},this.matterList=[].concat((0,c.default)(t))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},save:function(){var e=this,t="",a=[];if([{key:"warehouse",message:"入库仓库"}].every(function(a){return!!e[a.key]||(t="请选择"+a.message,!1)}),t||this.matterList.length||(t="请选择物料"),this.matterList.every(function(n){if(!n.tdQty)return t="请填写盘点数量",!1;var r={transObjCode:n.inventoryCode,thenQtyStock:n.thenQtyStock,tdQty:n.tdQty,differenceNum:n.differenceNum||0,tdProcessing:n.processing,assistQty:n.assistQty||0,assMeasureScale:n.assMeasureScale||null,assMeasureUnit:n.assMeasureUnit||null,thenLockQtyStock:n.qtyLock,thenTotalQtyStock:n.qtyBal,comment:n.comment||null};return e.transCode&&(r.tdId=n.tdId||""),a.push(r),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=x.saveAndStartWf,n=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,containerInWarehouseManager:e.warehouse.containerInWarehouseManager||null,inPut:{containerCode:e.warehouse.warehouseCode,dataSet:a}}),r={listId:e.listId,biComment:"",formData:(0,h.default)(n),wfPara:(0,h.default)((0,s.default)({},e.processCode,{businessKey:e.businessKey,createdBy:n.creator}))};e.transCode&&(t=x.saveAndCommitTask,r.biReferenceId=e.biReferenceId,r.wfPara=(0,h.default)({businessKey:e.transCode,createdBy:n.creator,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=x.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,D.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,s=t.attachment,l=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var u=[];e.attachment=l;var c=o.inPut,f=c.dataSet,h=void 0===f?[]:f,m=!0,v=!1,p=void 0;try{for(var C,y=(0,i.default)(h);!(m=(C=y.next()).done);m=!0){var _=C.value;_=(0,d.default)({},_,{qtyBal:_.thenTotalQtyStock,qtyLock:_.thenLockQtyStock,inventoryPic:_.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:_.inventoryName_transObjCode,inventoryCode:_.transObjCode,specification:_.specification_transObjCode,measureUnit:_.measureUnit_transObjCode,processing:_.tdProcessing}),u.push(_)}}catch(e){v=!0,p=e}finally{try{!m&&y.return&&y.return()}finally{if(v)throw p}}e.warehouse={warehouseCode:c.containerCode,warehouseName:c.warehouseName_containerCode,warehouseType:c.warehouseType_containerCode,warehouseProvince:c.warehouseProvince_containerCode,warehouseCity:c.warehouseCity_containerCode,warehouseDistrict:c.warehouseDistrict_containerCode,warehouseAddress:c.warehouseAddress_containerCode},e.warehouseParams={whCode:e.warehouse.warehouseCode},e.handlerDefault={handler:o.handler,handlerName:o.handlerName,handlerUnit:o.handlerUnit,handlerUnitName:o.handlerUnitName,handlerRole:o.handlerRole,handlerRoleName:o.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:o.biComment,biId:o.biId,biProcessStatus:o.biProcessStatus,creator:o.creator,modifer:o.modifer}),e.biReferenceId=o.biReferenceId,e.matterList=u,e.$loading.hide()})},checkAmt:function(e){var t=e.tdQty,a=void 0===t?0:t;"number"!=typeof a&&(a=0),e.tdQty=Math.abs((0,F.toFixed)(a))},hasDraftData:function(){return!!this.matterList.length&&(0,s.default)({},"KCPD_DATA",{matter:this.matterList,warehouse:this.warehouse,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("KCPD_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.warehouse=t.warehouse,this.formData=t.formData,this.warehouseParams={whCode:this.warehouse.warehouseCode},sessionStorage.removeItem("KCPD_DATA")}}}},rYhG:function(e,t,a){"use strict";function n(e){a("pD9p")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("9+xF");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("3v/h"),s=a.n(o),l=a("+2MJ"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-d522253e",null);t.default=c.exports},rZl4:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("HXPS"),s=n(o);t.default={name:"RDropdown",props:{list:{type:Array,default:function(){return[]}},show:{type:Boolean,default:!1}},components:{Icon:s.default},data:function(){return{showDrop:!1,selItem:{}}},watch:{show:{handler:function(e){this.showDrop=e},immediate:!0},list:{handler:function(){this.selItem=this.list[0],this.$emit("on-selected",this.selItem)},immediate:!0}},methods:{dropClick:function(){this.showDrop=!this.showDrop},dropItemClick:function(e){this.selItem=(0,i.default)({},e),this.showDrop=!1,this.$emit("on-selected",this.selItem)}},created:function(){}}},rccq:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pop-single-container",on:{click:function(t){e.showPop=!e.showPop}}},[a("div",{staticClass:"pop_info"},[a("div",{staticClass:"title",class:{required:e.isRequired}},[e._v(e._s(e.title))]),e._v(" "),a("div",{staticClass:"mode"},[a("span",{staticClass:"mode-content"},[e._v(e._s(e.selected||"请选择"))]),e._v(" "),a("span",{staticClass:"icon-right"})])]),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"70%"},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("div",{staticClass:"title"},[e._v(e._s(e.title)+"\n          "),a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-close-empty close_icon",attrs:{type:"ios-close-empty",size:"30",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 512 512"},on:{click:function(t){e.showPop=!e.showPop}}},[a("path",{staticClass:"st0",attrs:{d:"M340.2 160l-84.4 84.3-84-83.9-11.8 11.8 84 83.8-84 83.9 11.8 11.7 84-83.8 84.4 84.2 11.8-11.7-84.4-84.3 84.4-84.2z"}})])]),e._v(" "),e._l(e.data,function(t,n){return a("span",{key:n,staticClass:"each_mode",class:{choiced:t.name===e.tmp},on:{click:function(a){e.selItem(t.name,n)}}},[e._v(e._s(t.name))])})],2),e._v(" "),a("div",{staticClass:"cfm_btn",on:{click:e.confirm}},[e._v("确定")])])],1)])},r=[],i={render:n,staticRenderFns:r};t.a=i},rdTW:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("iR2W"),i=n(r),o=a("Qg39"),s=a("3atK"),l=n(s);t.default={name:"MatterItem",props:{item:{type:Object,default:function(){return{}}}},components:{PopMatterDetail:l.default},data:function(){return{showPop:!0}},methods:{getMatterDefault:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},clickMore:function(){this.$emit("on-show-more",this.item)},hasData:function(e){var t=this.item[e];return!!t||0===t}},filters:{numberComma:i.default,toFixed:o.toFixed}}},reup:function(e,t){},rewM:function(e,t,a){"use strict";function n(e){a("dx8w")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HVhx");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("L/+s"),s=a.n(o),l=a("znIy"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-ca1cb048",null);t.default=c.exports},rgQ7:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"childPage matter-page"},[a("r-scroll",{staticClass:"content",attrs:{options:e.scrollOptions}},[a("div",{staticClass:"mater_baseinfo"},[a("div",{staticClass:"mater_pic"},[a("span",{staticClass:"title"},[e._v("物料照片")]),e._v(" "),a("upload-image",{attrs:{src:e.MatPic},on:{"on-upload":e.onUpload,"on-error":e.getDefaultImg}})],1)]),e._v(" "),e._l(e.matterConfig,function(t,n){return a("div",{key:n,staticClass:"each-info"},[t.readOnly?[a("div",{staticClass:"each_property readonly vux-1px-t"},[a("label",{class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.inventory[t.fieldCode],expression:"inventory[item.fieldCode]"}],staticClass:"property_val",attrs:{type:"text",disabled:""},domProps:{value:e.inventory[t.fieldCode]},on:{input:function(a){a.target.composing||e.$set(e.inventory,t.fieldCode,a.target.value)}}})])]:["r2Combo"!==t.xtype&&"r2MultiSelector"!==t.xtype||"technicsCode"===t.fieldCode||"inventoryStatus"===t.fieldCode?"r2Numberfield"===t.xtype?[a("div",{staticClass:"each_property vux-1px-t"},[a("label",{class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.numer",value:e.inventory[t.fieldCode],expression:"inventory[item.fieldCode]",modifiers:{numer:!0}}],staticClass:"property_val",attrs:{type:"number",placeholder:"请输入"},domProps:{value:e.inventory[t.fieldCode]},on:{focus:function(t){e.getFocus(t)},input:function(a){a.target.composing||e.$set(e.inventory,t.fieldCode,a.target.value)}}})])]:"r2Textfield"===t.xtype?[a("div",{staticClass:"each_property vux-1px-t"},[a("label",{class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.inventory[t.fieldCode],expression:"inventory[item.fieldCode]"}],staticClass:"property_val",attrs:{type:"text",placeholder:"请输入"},domProps:{value:e.inventory[t.fieldCode]},on:{focus:function(t){e.getFocus(t)},input:function(a){a.target.composing||e.$set(e.inventory,t.fieldCode,a.target.value)}}})])]:"r2Datefield"===t.xtype?[a("div",{staticClass:"each_property",on:{click:function(a){e.getDate(e.inventory,t)}}},[a("label",{class:{required:!t.allowBlank}},[e._v(e._s(t.fieldLabel))]),e._v(" "),a("span",{staticClass:"property_val"},[e._v(e._s(e.inventory[t.fieldCode]||"请选择"))])])]:"r2Selector"===t.xtype?[a("pop-procedure-list",{staticClass:"vux-1px-t",attrs:{"default-value":e.inventory},on:{"sel-item":e.selProcedure}})]:"technicsCode"===t.fieldCode?[a("pop-technics-list",{staticClass:"vux-1px-t",attrs:{"default-value":e.inventory},on:{"sel-item":e.selTechnics}})]:"inventoryStatus"===t.fieldCode?[a("r-picker",{staticClass:"vux-1px-t",attrs:{title:t.fieldLabel,data:t.remoteData,value:e.inventoryStatus,required:!t.allowBlank},model:{value:e.inventoryStatus,callback:function(t){e.inventoryStatus=t},expression:"inventoryStatus"}})]:e._e():[a("r-picker",{staticClass:"vux-1px-t",attrs:{title:t.fieldLabel,data:t.remoteData,value:e.inventory[t.fieldCode],required:!t.allowBlank},model:{value:e.inventory[t.fieldCode],callback:function(a){e.$set(e.inventory,t.fieldCode,a)},expression:"inventory[item.fieldCode]"}})]]],2)}),e._v(" "),a("duplicate-component",{attrs:{config:e.matterDuplicateConfig,defaultValue:e.matterDuplicateData},model:{value:e.matterDuplicateData,callback:function(t){e.matterDuplicateData=t},expression:"matterDuplicateData"}})],2),e._v(" "),a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.save}},[e._v(e._s(this.transCode?"保存":"提交"))])])],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},riHU:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("ZLEe"),i=n(r),o=a("HzJ8"),s=n(o),l=a("IHPB"),d=n(l),u=a("3cXf"),c=n(u),f=a("MgeX"),h=n(f),m=a("p00s"),v=n(m),p=a("4YfN"),C=n(p),y=a("3QQJ"),_=n(y),g=a("Dkzh"),b=a("1KNX"),w=n(b),I=a("6aPk"),D=n(I),x=a("WJwd"),P=n(x),S=a("bBLw"),k=n(S),L=a("Z5v5"),N={page:1,limit:10,hasNext:!0,isNull:!1,listData:[]};t.default={data:function(){return{tabList:[{name:"待办",status:"todo"},{name:"评论",status:"comment"},{name:"点赞",status:"praise"}],activeIndex:0,scrollOptions:{bounce:{top:!1},pullUpLoad:!0},isClickDetail:!1,pageSwiper:null,noticeData:{todo:(0,C.default)({},N,{listData:{}}),comment:(0,C.default)({},N),praise:(0,C.default)({},N)},isMovingSwiper:!1}},computed:{noDataText:function(){return["暂无待办消息","暂无评论消息","暂无点赞消息"][this.activeIndex]},currentItem:function(){var e=this.tabList[this.activeIndex].status;return this.noticeData[e]},currentScroll:function(){return this.$refs.bScroll[this.activeIndex]}},components:{Badge:_.default,RScroll:w.default,TodoItem:P.default,CommentItem:k.default,RTab:D.default},methods:{onTabClick:function(e){var t=e.index;this.activeIndex=t,this.currentScroll.scrollTo(0,0),this.resetCondition(),this.pageSwiper.slideTo(t)},getDefaultIcon:function(e){var t=a("CYNT");return e&&(e.icon=t),t},resetCondition:function(){var e=this.tabList[this.activeIndex].status,t=(0,C.default)({},N);this.activeIndex||(t.listData={}),this.noticeData[e]=t},getList:function(){var e=this;return(0,g.getMsgList)().then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r,o={};if(e.$event.$emit("badgeNum",n),e.currentItem.hasNext=!1,i.forEach(function(t){t.pic=t.icon?"/dist/"+t.icon:e.getDefaultIcon(),t.packagePath&&(o[t.title]?o[t.title].list.push(t):o[t.title]={list:[t],noBorder:!1})}),!(0,v.default)(o).length)return void(e.currentItem.isNull=!0);var s=(0,h.default)(o);s.length&&(s[s.length-1].noBorder=!0),e.currentItem.listData=o,e.$nextTick(function(){e.currentScroll.finishPullUp()})})},goMsglist:function(e,t){var a=this,n=this.tabList[this.activeIndex].status;this.isMovingSwiper||(e.visited=!0,this.isClickDetail=!0,this.$set(this.noticeData[n].listData,t,(0,C.default)({},e)),setTimeout(function(){a.$router.push({path:"/msglist",query:{name:t}})},200))},setReply:function(e){return'<span style="color: #2994FD;">'+e+"</span>"},getNotice:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"comment",a=this.currentItem,n=a.page,r=a.limit,i=[{property:"type",operator:"eq",value:t}];return(0,g.getNotice)({page:n,limit:r,filter:(0,c.default)(i)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r,o=e.currentItem,l=o.page,u=o.limit;e.currentItem.isNull=!i.length,e.currentItem.hasNext=n>(l-1)*u+i.length;var c=!0,f=!1,h=void 0;try{for(var m,v=(0,s.default)(i);!(c=(m=v.next()).done);c=!0){var p=m.value,C=JSON.parse(p.content);p.comment=C.content,p.commentType=C.type,p.attachment=C.attachment,p.RELATION_KEY=C.relationKey,p.pic=p.icon?"/dist/"+p.icon:e.getDefaultIcon(),p.other="list"===C.type?"@应用详情":"@实例编码："+C.relationKey,-1!==C.parentId&&(p.comment="回复@"+e.setReply(C.objCreator)+"："+C.content,p.reply={createrName:C.objCreator,comment:"@"+e.setReply(C.objCreator)+" 评论："+C.objContent})}}catch(e){f=!0,h=e}finally{try{!c&&v.return&&v.return()}finally{if(f)throw h}}return e.currentItem.listData=1===e.page?i:[].concat((0,d.default)(e.currentItem.listData),(0,d.default)(i)),e.$nextTick(function(){e.currentScroll.finishPullUp()}),t})},getNoticeByPraise:function(){var e=this,t=this.currentItem,a=t.page,n=t.limit;return(0,g.getNoticeByPraise)({page:a,limit:n}).then(function(t){var a=t.total,n=void 0===a?0:a,r=t.praiseNoticeList,i=void 0===r?[]:r,o=e.currentItem,l=o.page,u=o.limit;e.currentItem.isNull=!i.length,e.currentItem.hasNext=n>(l-1)*u+i.length;var c=!0,f=!1,h=void 0;try{for(var m,v=(0,s.default)(i);!(c=(m=v.next()).done);c=!0){var p=m.value,C=JSON.parse(p.content);p.comment="赞了这条评论",p.reply={createrName:C.creator,comment:"@"+e.setReply(C.creator)+": "+C.content,attachment:C.attachment},p.commentType=C.type,p.attachment=C.attachment,p.RELATION_KEY=C.relationKey,p.pic=p.icon?"/dist/"+p.icon:e.getDefaultIcon(),p.other="list"===C.type?"@应用详情":"@实例编码："+C.relationKey}}catch(e){f=!0,h=e}finally{try{!c&&v.return&&v.return()}finally{if(f)throw h}}return e.currentItem.listData=1===e.page?i:[].concat((0,d.default)(e.currentItem.listData),(0,d.default)(i)),e.$nextTick(function(){e.currentScroll.finishPullUp()}),t})},getComment:function(){return this.getNotice()},getPraise:function(){return this.getNoticeByPraise()},goDetail:function(e,t){var a=this,n=e.listId,r=e.folder,i=e.packagePath,o=e.listName,s=e.RELATION_KEY,l=e.commentType,d={name:o,transCode:s},u="/detail/"+r+"/"+i,c=this.tabList[this.activeIndex].status;this.isMovingSwiper||("list"===l&&(u="/appDetail/"+n,d={}),e.visited=!0,this.isClickDetail=!0,this.$set(this.noticeData[c].listData,t,(0,C.default)({},e)),setTimeout(function(){a.$router.push({path:u,query:d})},200))},onPullingUp:function(){this.currentItem.page++,1===this.activeIndex?this.getNotice():2===this.activeIndex&&this.getPraise()},changeVisitedStatus:function(){var e=this,t=[];0===this.activeIndex?(t=(0,C.default)({},this.currentItem.listData),(0,h.default)(t).forEach(function(e){e.visited=!1})):(t=[].concat((0,d.default)(this.currentItem.listData)),t.forEach(function(e){e.visited=!1})),setTimeout(function(){e.currentItem.listData=t},200),this.isClickDetail=!1},onPopoverClick:function(){(this.$refs.commentItem||[]).forEach(function(e){e.hidePopover()})},initSwiper:function(){var e=this;this.$nextTick(function(){e.pageSwiper=new e.Swiper(".notice-container",{touchAngle:30,on:{slideChangeTransitionStart:function(){var t=e.pageSwiper.activeIndex,a=[e.getList,e.getComment,e.getPraise];e.tabList[t].status;e.activeIndex=t,e.isMovingSwiper=!0,(0,i.default)(e.currentItem.listData).length||(e.resetCondition(),a[e.activeIndex]())},slideChangeTransitionEnd:function(){e.isMovingSwiper=!1}}})})}},beforeRouteLeave:function(e,t,a){"/home"===e.path&&(this.activeIndex=0,this.noticeData={todo:(0,C.default)({},N,{listData:{}}),comment:(0,C.default)({},N),praise:(0,C.default)({},N)},this.pageSwiper.slideTo(0),t.meta.reload=!0),a()},created:function(){var e=this;this.$loading.show(),this.initSwiper(),this.getList().then(function(){e.$loading.hide()})},activated:function(){var e=this,t=this.$route.meta.reload;(0,L.register)(),t?(this.$loading.show(),this.getList().then(function(){e.$loading.hide()}),this.$route.meta.reload=!1):this.isClickDetail&&this.changeVisitedStatus()}}},risP:function(e,t){},rjFQ:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pop-entity-list",on:{click:e.itemClick}},[a("div",{staticClass:"title"},[e._v("经办主体")]),e._v(" "),e.selItems.dealerName?a("div",[a("div",{staticClass:"cp_info"},[a("p",{staticClass:"cp_name"},[e._v(e._s(e.selItems.dealerName))])])]):a("div",[a("div",{staticClass:"mode"},[e._v("请选择经办主体")])]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"}),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("m-search",{attrs:{filterList:e.filterList,isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"mater_list",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"each_mater box_sd",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"mater_main "},[a("div",{staticClass:"dealer_name"},[e._v("\n                "+e._s(t.dealerName)+"\n              ")]),e._v(" "),a("div",{staticClass:"dealer_code"},[e._v("\n                "+e._s(t.dealerCode)+"\n              ")])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1)])],1)])},r=[],i={render:n,staticRenderFns:r};t.a=i},rt7l:function(e,t,a){"use strict";function n(e){a("pXHd")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("htEP");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("REuD"),s=a.n(o),l=a("2g1V"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-3edbbb2a",null);t.default=c.exports},rxOo:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("St0H");t.default={name:"x-button",props:{type:{default:"default"},disabled:Boolean,mini:Boolean,plain:Boolean,text:String,actionType:String,showLoading:Boolean,link:[String,Object],gradients:{type:Array,validator:function(e){return 2===e.length}}},methods:{onClick:function(){!this.disabled&&(0,n.go)(this.link,this.$router)}},computed:{noBorder:function(){return Array.isArray(this.gradients)},buttonStyle:function(){if(this.gradients)return{background:"linear-gradient(90deg, "+this.gradients[0]+", "+this.gradients[1]+")",color:"#FFFFFF"}},classes:function(){return[{"weui-btn_disabled":!this.plain&&this.disabled,"weui-btn_plain-disabled":this.plain&&this.disabled,"weui-btn_mini":this.mini,"vux-x-button-no-border":this.noBorder},this.plain?"":"weui-btn_"+this.type,this.plain?"weui-btn_plain-"+this.type:"",this.showLoading?"weui-btn_loading":""]}}}},"s+NT":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"BomList",props:{boms:{type:Array,default:function(){return[]}}}}},s3Yd:function(e,t){},s5eW:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("5YEj");t.default={data:function(){return{toggle:!1,chartList:["饼状","线性","柱状"],option:{},activeIndex:0,chart:null}},methods:{changeTip:function(e){this.activeIndex=e,0===e?this.option={title:{itemGap:20,top:20,x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",bottom:20,left:20,selectedMode:!1,data:["直接访问","邮件营销","联盟广告","视频广告","搜索引擎"]},series:[{name:"访问来源",type:"pie",radius:"50%",center:["40%","50%"],data:[{value:335,name:"直接访问"},{value:310,name:"邮件营销"},{value:234,name:"联盟广告"},{value:135,name:"视频广告"},{value:1548,name:"搜索引擎"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}:1===e?this.option={title:{text:"一天用电量分布",subtext:"纯属虚构",top:5,x:"center"},grid:{height:"10%"},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},xAxis:{type:"category",boundaryGap:!1,data:["00:00","01:15","02:30","03:45","05:00","06:15","07:30","08:45","10:00","11:15","12:30","13:45","15:00","16:15","17:30","18:45","20:00","21:15","22:30","23:45"]},yAxis:{type:"value",splitNumber:10,axisLabel:{margin:2,formatter:"{value} W"},axisPointer:{snap:!0}},visualMap:{show:!1,dimension:0,pieces:[{lte:6,color:"green"},{gt:6,lte:8,color:"red"},{gt:8,lte:14,color:"green"},{gt:14,lte:17,color:"red"},{gt:17,color:"green"}]},series:[{name:"用电量",type:"line",smooth:!0,data:[300,280,250,260,270,300,550,500,400,390,380,390,400,500,600,750,800,700,600,400]}]}:2===e&&(this.option={title:{text:"动态数据",subtext:"纯属虚构"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#283b56"}}},legend:{data:["最新成交价","预购队列"]},dataZoom:{show:!1,start:0,end:100},xAxis:[{type:"category",boundaryGap:!0,data:function(){for(var e=new Date,t=[],a=10;a--;)t.unshift(e.toLocaleTimeString().replace(/^\D*/,"")),e=new Date(e-2e3);return t}()},{type:"category",boundaryGap:!0,data:function(){for(var e=[],t=10;t--;)e.push(10-t-1);return e}()}],yAxis:[{type:"value",scale:!0,name:"价格",max:30,min:0,boundaryGap:[.2,.2]},{type:"value",scale:!0,name:"预购量",max:1200,min:0,boundaryGap:[.2,.2]}],series:[{name:"预购队列",type:"bar",xAxisIndex:1,yAxisIndex:1,data:function(){for(var e=[],t=10;t--;)e.push(Math.round(1e3*Math.random()));return e}()},{name:"最新成交价",type:"line",data:function(){for(var e=[],t=0;t<10;)e.push((10*Math.random()+5).toFixed(1)-0),t++;return e}()}]}),this.showPie()},showPie:function(){this.chart&&this.chart.clear(),this.chart=n.init(document.getElementById("main")),this.chart.setOption(this.option)}},mounted:function(){this.option={title:{},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{left:0,bottom:0,selectedMode:!1,data:["直接访问","邮件营销","联盟广告","视频广告","搜索引擎","其他"]},series:[{name:"访问来源",type:"pie",radius:"60%",labelLine:{},center:["50%","50%"],data:[{value:335,name:"直接访问"},{value:310,name:"邮件营销"},{value:234,name:"联盟广告"},{value:135,name:"视频广告"},{value:1548,name:"搜索引擎"},{value:100,name:"其他"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},this.showPie()}}},s6dV:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages app_detail"},[a("div",{staticClass:"content"},[a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions}},[a("div",{staticClass:"app_top vux-1px-b"},[a("div",{staticClass:"app_icon"},[a("img",{attrs:{src:e.appInfo.icon},on:{error:function(t){e.getDefaultIcon(e.appInfo)}}})]),e._v(" "),a("div",{staticClass:"app_info"},[a("div",{staticClass:"app_name"},[e._v(e._s(e.appInfo.title))]),e._v(" "),a("div",{staticClass:"base_style app_type"},[e._v(e._s(e.appInfo.TRANS_NAME))]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.appInfo.administrator,expression:"appInfo.administrator"}],staticClass:"base_style app_admin"},[e._v("应用管理员: "+e._s(e.appInfo.administrator))]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.appInfo.crtTime,expression:"appInfo.crtTime"}],staticClass:"base_style crt_time"},[e._v("创建时间: "+e._s(e.appInfo.crtTime))])])]),e._v(" "),a("change-log",{ref:"changeLog",attrs:{handle:e.isAppAdmin}}),e._v(" "),a("div",{staticClass:"interaction"},[a("admin-comment",{ref:"adminComment",attrs:{handle:e.isAppAdmin}}),e._v(" "),a("other-comment",{ref:"comment"})],1)],1)],1),e._v(" "),a("router-view")],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},s9ep:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2299,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_outPutMatCode"}]}},mixins:[r.default],methods:{},created:function(){}}},sEzR:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("4YfN"),s=n(o),l=a("IHPB"),d=n(l),u=a("n0D0"),c=a("0Nk0"),f=n(c);t.default={name:"PopFacilityList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},defaultTitle:{type:String,default:"订单号"},request:{type:String,default:"0"},params:{type:Object,default:function(){return{}}},filterList:{type:Array,default:function(){return[{name:"设施名称",value:"facilityName"},{name:"设施编码",value:"facilityCode"}]}},judgeKeys:{type:Array,default:function(){return["transCode","facilityCode"]}}},components:{RPopup:f.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],listData:[],limit:100,page:1,hasNext:!0,scrollOptions:{pullUpLoad:!0},filterProperty:"",requestMethods:null}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.selItems=[].concat((0,d.default)(this.defaultValue))},immediate:!0},params:{handler:function(){this.resetCondition(),this.getList()}}},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,d.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),this.requestMethods((0,s.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,i.default)(t)},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,o=void 0===r?[]:r;o.forEach(function(t){t.inventoryPic=t.inventoryPic?"/H_roleplay-si/ds/download?url="+t.inventoryPic+"&width=400&height=400":e.getDefaultImg()});var s=e.$route.query.relationKey;(void 0===s?"":s)&&(e.selItems=[].concat((0,d.default)(o)),e.$emit("sel-matter",(0,i.default)(e.selItems))),e.hasNext=n>(e.page-1)*e.limit+o.length,e.listData=1===e.page?o:[].concat((0,d.default)(e.listData),(0,d.default)(o))})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,r=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=r,this.resetCondition(),this.getList()},delSelItem:function(e){this.$refs.RPopup.delSelItem(e)},onPullingUp:function(){this.page++,this.getList()},resetCondition:function(){this.listData=[],this.page=1,this.hasNext=!0},selItem:function(e){this.$emit("sel-matter",(0,i.default)(e)),this.$emit("input",!1)}},created:function(){var e=[u.getObjFacilityByType,u.getEquipmentPurchaseOrder,u.getObjFacilityByDealerCode];this.requestMethods=e[this.request],this.getList()}}},sIfZ:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.title?a("div",{staticClass:"weui-cells__title",style:e.cleanStyle({color:e.titleColor}),domProps:{innerHTML:e._s(e.title)}}):e._e(),e._v(" "),e._t("title"),e._v(" "),a("div",{staticClass:"weui-cells",class:{"vux-no-group-title":!e.title},style:e.cleanStyle({marginTop:"number"==typeof e.gutter?e.gutter+"px":e.gutter})},[e._t("after-title"),e._v(" "),e._t("default")],2),e._v(" "),e.footerTitle?a("div",{staticClass:"weui-cells__title vux-group-footer-title",style:e.cleanStyle({color:e.footerTitleColor}),domProps:{innerHTML:e._s(e.footerTitle)}}):e._e()],2)},r=[],i={render:n,staticRenderFns:r};t.a=i},sM8C:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},sMJl:function(e,t){},sMPv:function(e,t,a){"use strict";function n(e){a("reup")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("BUVi");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("IUN9"),s=a.n(o),l=a("LpO3"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-0a4f333f",null);t.default=c.exports},"sPO+":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("IHPB"),s=n(o),l=a("4YfN"),d=n(l),u=a("Jwlx"),c=n(u),f=a("L6VY"),h=n(f),m=a("iR2W"),v=n(m),p=a("QHLv"),C=a("0Nk0"),y=n(C);t.default={name:"PopCashList",props:{defaultValue:{type:Object,default:function(){return{}}},required:{type:Boolean,default:!1},request:{type:String,default:"0"},params:{type:Object,default:function(){return{}}}},components:{RPopup:y.default},data:function(){return{page:1,limit:10,hasNext:!0,showDealerPop:!1,srhInpTx:"",selInfo:{},selItems:[],listData:[],scrollOptions:{pullUpLoad:!0},requestMethods:null}},watch:{defaultValue:{handler:function(){this.selInfo=(0,c.default)((0,d.default)({},this.defaultValue))},immediate:!0}},methods:{selItem:function(e){this.selInfo=(0,d.default)({},e),this.$emit("sel-item",(0,d.default)({},e))},getList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,s.default)(t),[{operator:"like",value:this.srhInpTx,property:"fundName"}])),this.requestMethods((0,d.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,i.default)(t)},this.params)).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+i.length,e.listData=1===e.page?i:[].concat((0,s.default)(e.listData),(0,s.default)(i))}).catch(function(e){h.default.show({content:e.message})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getList()},onPullingUp:function(){this.page++,this.getList()}},filters:{numberComma:v.default},created:function(){var e=[p.getEmployeeReserveFunds,p.getSupplierToPayDeposit,p.getFundCashDiscount,p.getObjFundBalByType,p.getComplexExpenseReimbursement];this.requestMethods=e[this.request],this.getList()}}},sUQx:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAYAAAA8AXHiAAAXhElEQVR4Xu1deZhdRZX/nVN1X3cnBEkwgoyAyKbIooCfM+ogiIo6YhQMhlXRAAOyStgREsIiQVDZDcMaBTSgM0QZFRDUKCCgmAgIhhFciWCCWbpf31t1znx1u1+nl/fSr5f3+nVe1T/5vryqc+75nV/XcupUFaFSUaXZD8H8czsky1eiNXOwaIHxHaCKbeIPGywCpg2KTvjEwm02GcXXLEM2e294EGk5o8uSZPpTWkAH2lyCFspgNli0omHDRkATeJuhc/IeaJ9PlPUXNIBY+z+uE2yCjSKhho15UzUMBHMZ1izak9p7G96HWIf/UCcWJ2OS5zjcNRU7RmisEWjrSqxesB+tLYnqIVboqVoFG0dSjRDlJm0eyFVkrCr1XDmxwpzKOWwSh78mZcUomZ3PuyxeXfhWSgmqNP0JbOyBCaMkP4ppYgQM0L5wD6yi2Q+q/c0UTIm9VROzYRRND73WyhVYQaf8SdteXI5NRlF2FNXkCGy9GV6lQ5bo5GKK1ibHIpo/igi0FlCk6b/SqV5gR1FuFNXkCBiGo+lP6eZxm6bJmTDK5oftHzrgcX39KMuN4iICiMSKJKgJApFYNYE1Co3EihyoCQKRWDWBNQqNxIocqAkCkVg1gTUKjcSKHKgJApFYNYE1Co3EihyoCQKRWDWBNQqNxIocqAkCkVg1gTUKjcSKHKgJApFYNYE1Co3EihyoCQKRWDWBNQqNxIocqAkCkVg1gTUKjcSKHKgJApFYNYE1Co3EihyoCQKRWDWBNQqNxIocqAkCkVg1gTUKjcSKHKgJApFYNYE1Co3EihyoCQKRWDWBNQqNxIocqAkCkVg1gTUKjcSKHKgJApFYNYE1Co3EihyoCQKRWDWBNQqNxIocqAkCkVg1gTUKHRfEcmm2OWD2UpKJ1tjfkeCXsPAjdl8Ck63Ftmz81iKyKbNpZ+WnyOL5EctucgENTyyfYStRdyVAOwMa7qNfTUTf48TMZaDPG3lV+zKBSYv+feT1SIB2AHQigAIQyEr/ZKYbDfiGUSFv1R81sKIHtoKT/UQEZPRea5K/jEBcXZs2NLHCwwbi5TSofB4A90Kmk4nnagvfbAVln44tiyKj0Jm5N7PQaVDdG6j0eqw+TyaZYQ36OFKy8HgxthXndgd4O7BOgQBCWGkgzyjRk8bLy2QKr46ElKRoS718CCpzoHhtly30vLIeV7B2aV0ZMkxlDU0scdjCi/sGgDcPsI/oblJzpi1grRO3vWErhMpDmPP4FxU5AtCDodrtrLKoLSfmS0T4rkIh0Kar+CzbSsGfUdXpADYtjzetAemTDP4Bi/sfain8Y6h+cYqN1cuJEP0coC292xPRI7bFzIAgHarcetdvaGI5Lwerl8v69VbdGNEdhcSc6xSZipyqqp8k0PWc8B39h8icFEKXKeHfgIrPuyhAjwh0zoQJ9rfedZHKWHBn0e+joucA2L5yL9fHdUUAS1rZHuktVg7Fqc7LNPUyD8CkgX9MEFI+yRb47qHIHIu6DUusMOx4uB9Bc2f2KQTqANG5NuE7Up+9jjzdBGB3EBRKf1CmRQxdoiIJCO8MD3AAeE05gBXImGg5iG5mz7dyS9e8zTGIithUyR2mwPHQYbznSFjCwKmG7O+qGRqDTi260wCcXJEMhKdtwX6SFK+OBWGq1dmwxHKpHKiQqyoY8rSx9lBmLHfev0e9LgDQZ9ioDgB6gUjvNmzvJoMXSm0MkKSp31uhxyjwrupkla0V5n/LlHCbNfZ74Xt71zIJWn2G0LvlxRVBMPJZhXwRmi8mypV2EJ9LLfytIc0vR2DEcJo2JLEMYWJnp1uowNvKGUXg022Bw9wLWeqvBjT0SNUXwloC3abG3NzKWO6BrKfxBBT8Kn+WCA4CNLzj2OdB9uqV9KlZBOjPxPgpKR4OvaQqbU3Q/cniAsPm8VJt77GdeHcngC0q6SKiB4nM8WaIw+wwv31YzRqSWCJ+P/H6VdUywxfRMjbmfeHpMg+8VlL/WP9J7nqQSIl4KRmeoxZP9P6Lz4CE1L8NTueqYtdhoTm8Rg8T7BFhEdLTc6XuBAXOrERqAmUgHGkT8+Phqax9q4YjVr7UzvzcfPXWr7eg/C+dT05a+Lt5b+XC6kmCA9ZfuuZeLyjTN0yB7zTSd0JNhKlp6o4gxSEK1Ps1tDUgPpta+O4S0UOPXUzlW1DZfT2G/dq02QPYo3Mw88fi94YjVurxRvIuEGez/oAQ0aMgc7S1eDlflmd5vbcMChzht8x2lmnFU8jWRezzybL374DTOaTYSYFkUFm1qEBYbK0cS7QuPJE6/24S3ApopUfglQizbGLvqMUnjVRmwxHLO/mCiMwqY1gKxkVUsP8V/rKd+H3VaZjcr+89a0+ER5LEzlTgn71lepdOVthpKnp691xqfVgqiP4B1cUE2kWhbxqluVeukwgC5pOsWRdGIIeNUnWXQBHmj5Xmec8WJtgD1WHFSIkw2u0bilhdcyZ3P4DXDTSUnmcyh5oEfwyrto7Mn0mqx5SPceWtAxl+agrmVFb8tSQvf6ZY/DtF9WgC7auqvSP65fANQ819YLqltdU8knX6vbzgUqhuObrOoD8aa6b1Xjm61L9HodcDmFJWF1E7qc4W2Nt7B3NH97uGJ62hiOUyOVlVTi9nSoiGo8BXh95KJNvMe7oFit0qmq14hYmO1lbzaM/cxYKLRTm+O6odou+DrPjoZbDMJpM8gE6stq3QEDAtFrEnxC8AdGAQc3h+6Oq5oLfZQtIzZwx/BOr9Jap6aCWxBPxMrT024cbqtRqGWOrxOi/+u6q6zQAQiV4yiXlPKaLeHbsKcwtTEXCi79jEHB9+z+dSDtvDu4ugeHcVvg8b3fcZNheQwd9NCnYGE+HSgk4orAkTZi/YS72/UlXL9K5VaChf5WUimmkT81jpZ1Vs6jL/Y0CnVui1HDFmWmN+NGytNWjYEMQKjpdON4NAc6EDJqvCjHOMtbeW7M9SNx/AR9eHB4EOsgWzONTxDpNF/ZUA3gfV9fVSnoBHFXybKfD9gciSFVsEhQ+pykfyIYnod0T6TWK7TJ1MU8icikPV0B0mRHQHJ+b83ttSzskhqnoxVMsGTQlYmiT240roGLrK2rRoDGKFFZ7zX4Hqhwf2VlhqyB7JtmueJIQtfKf7+WCR9kKb3UE91uRtFG/zXSvIytF5orVQusoavjP0Uvl3JDCu3Z+twKFQ3bh7vBIC/YVYjxJjnyEvH1EvV1e5h1iNF1eZxM5gwpN9ey13DYC9KghQJj7LJHxbNQrqUachiOW921Ud7lLCRv2Mdmz4cqN8dWmvLcvcaVCcMhg4luxOlHTtp7k0O1BBlbaHwr7jUmY9zxi7JNQP8yjnsI3L/IVQfW95XfQiJ2amGjytndmnoDxnFOdcP0nUfhot67IYMiefgOSb0yF3rEyhZQU2B6rFy4NhU4/fG4JYWZb3Vp/qbzABf2bC4ZzYZ8NvJJiSOrewqtgV0xGJNWGFCafYGZm/VaH9gp+6jMncopbvsoRVpV7Kd8g0ETkWwE7rmeCHONLDSnqqaUle8h3uSBBOhVZy/BDcSaREdIq1/O2eXstjkvPuunw4L0+sDma6oNDKC0qZGUPQOOpVx5xYLsObVNwDoIHDFBFf16J8ke/Oi8oyvx8BX1XVspkKvdEh4l9rGx+eOKzoXl29IwxpBOwugokEfJ+suca24qVS0DQTTIH3Z0N1/7JpKwPhD6k1jxYSe1gaEg69HA1UsRNQhRuJ8BzYHto72TDz7i0k9L9aYa4F4GGb2KOJMOQ8sCo+aUhVxpRYYdKOTn+pqh42sLeiV01i/r0EUohddTp/rqrODBGqKqxMCbiOC/aqQVOYGYXMYyfK3BwF9hw8DNFXOzF9H8acGno959wZKgjxtdYqvrFilbBRTYTLErLX9U65cZk/W1WPKxe/I0DY2oOZ8bOR6B6NtmNLLIepUP/fA0IMXUPBl6zlnnmRU2yumQvpMW8dguHtxPxNUbmdW+xz/dNM8tRn53cD46MQ/WTlzNBBNXYq0U02MZeHmT1Sf6qKhqFxGKk8fXQ9y6SfNknyx9L/imZbuoxuoUpbWYRLk8R+bdAvrnGFMSVW5rKtSXihQt/Qrw94HmwOSyxeLP1/5vz7Ibip+0DFUGDxIP0rgR9m0GIhDZPbCaS6gyj2gmI7UJ5qPFgEfjCdHUR8sU34RvWY5MXPUdUZgzVa3+/5Vg/Rddaai3rqORinMlNVzuo+ANJHhCF7Iie4ayR6R6PtmBILYQjq9DdCdd8eYxQejGtaE3t5KU8qHzKL7iYF9hsNo2slg4hEmY5j4nuNQDPxVxH0P0ayuU1EKVuzHxPyBUwoIthMnLu5X76aEOExw/aYnnBJrQytQu7YEisEL0Nim/gzIfouUOg16H4mmde7+/eCbcS5kHs00qGlCkhGVoVAfwfh9JY2c38xxSbk3QWq+Nh6cu0HV8h0XwHm82q74nKhpM7tQkonAdiFoB2itDix5jZiPDe4wNrXGHNiBRNDCgxlblMN8xNrX+lZ+nfb71J/jkLDEbDGLwQlpf8jY440BstCTj57ulIrBzersIlWE9Msa3lR78oBN86y14DhPSUrErMuzbkKoTWt0hDEGsxCl/l5qnpQuTnFYG3H6ncCnmarhzIny8lgo6zoFqjSnoBW3N9c77cSLbJsZpHB6rGyaSh6xwWxwqGDYoccB5GjKp22GYrR9apLhAetsWeA8WdJsaUnfymgYcEwnIXCT2HluIQLDZd7VQ7PcUGsfMLadRzsUCjCaqjCtka9KFOlHoUnpjtRMLNBaIfHNpq5G6raOeivguiWpMXMHg+HVcOnjxtilXB2mTtYFecCmFyle8e0Wh60ZL7YW74hAbJwH4Nm8g1V2bbqQGyevYoTkoJ5aEyNGYLycUesYFvX1g6dpSo79LLVAVgKUNjz2xKEbQZJkRkCTCOtSp1EdGFLwreFEIpz2DlsKCvJbtXsIijoJttm5jbqwYlxPRT2/vj82HuH30MVVwG6FQhrFXxewvyAhCP3hAlGsatTNwta4bBFniYTtl2GOZkeOtdWkuGzkfA9UgSR8W+Hx9cBrXh+MB9SCA8mrfaYUgrQ0NWOTYtx2WOVoOqOb80nol9wq7lYFGmSYmLKKCQWa3yKiar+LFX9OBBScuhVJflBYuh6b+3vvUUrt8sB6v1RBNo2nEOurRvCETQ9pnRjjMv8O6C4QVE2CzVE3X9pjDm2/wnq2n7j6Egf18TqhuD1LnNtqvYfzPJxFf1XQKcQ8ZMm4VuQ4O++PZsuStMIfDtZ/i3Eb6GKlBLzBwO8kkn2Bng+FpqfZRzR5vFgbiHCUjX2hKQ7kOmcf68KLgb6pWQTLQab8xODZwaT2Yi/bwjEgnOYququ6M5nLxHDMfF8Al/GlJ+a3lhU9iWE415oUw23yehyw3Y2W/wijzV1yiwV+eyIouRVeJmAJ2D0P/OL1ByMh/+AiF5eWpAo0T0mMecG0lchriGrjHtiOZdOhZrZCp02ID5E+ZGq6Uz4kyh2FCcLVKXPhjeBHjfGzAz7ayEfi7yfr6ojuQhkcEeHzWXQQrLm/NIug/PZger5XCLcg4KZZ3XdkfvBBTZejXFNrPwES+ovBGk4WDFgfkRELxBkBnOy0qu/SCW/PKRfcJKcGnyuYMx9wT2SYUcP9zVokEdt+eKg8p1aI/FoWCneQMbMC/dQBEHOY3d4PNv7HoeRKBjLtuOaWJnD+0n9LeUPndJqQM5LOLnLqTtINcxjym9iE9H1NjEXlBzRlT2QT+UNMd6omZyjkLI334zQeSksfylhDodSN6gyrokV4kGq/ocD4lVEKRFdiwJfZlPsmKlfBM0vsC1XPIiuTRJzSb68V7SFfzlBZyl3XAW7OeevB3Tr0fY+Ec+zCX91tOWOtbxxTaw8n6voHwL0jT1AEqVQ3NxaMBdnLpsqQtco8M4KQHcdwzfm5LCkD0Ord/7EkO9OSs9Rwt8P87N8mMrcMao4f5Qd9qyxdsZ4DCcMhsP4JlaIwgs+Aeeu6B7mAlG+Y2G+SIJ2R+4UEB2nqmVvkSHQ32DNZ2GxxAJJ1iknIaTnhMMKhJAz/wKxnRnSX/JDr+J/NYS7uAbBnp5HghMSMj3nBwdz1nj6ffwTK1yYlvl9ROQDhuh5sva7eQ8geEPm/F3dk+9yPlkL0ElJwdwbMlQ58x/2gq8NGDKZHidjDssPSqTuQQV2HJGDiV4i4BeGzZd7X085IpkN2HjcE6sSpus9fEEI2znzkoINmQboClJqOIJf5n6EfO/xCzkBU3+nhrSXYRYCrSHGkcaacJJ7gy4bLLEEmOAzH+47CAmCvUuYrC8wibkwHAtzzu2sStdCdbtK8zBivgIFvkKL/ptA/vDAsAoB9xuSEykpNPSNx8Myrl+jDZZYwU6f+g8IMA/QntsB86h3Yo+yhJe67zD9MqAfrAwmrTJM50uBv62dsmiQ6xvX4xN6kRmzmqG3CiBs0MQKh1yL3n8QgnDZSDg9/QrYzA/7byFxUCHni8rhlS706LoDni/lVr4xpKxkmf86FB8c4gQ+JabFEFyPVvPzRr5CezR6qpKMDZpYJSMdYaJJkbBFZ7jqJ78vq1POIOix61kxeiW9NGmx80tZm6rppuL4YyI4CwMvMOnrFyIF9Bkinq/M9zfaxWijSaJyspqCWP0NzzetJbsHoEoBT0fMt0N4brntlSzLZkA5ZCRUyISgIhhHly4lqbUTG1F+UxILnSg4cosU2KWsU4juTRLzRQB/C0esjGCKV6wNtzXnq8j8AK2fq9CQCdG3dOW5L0xazXnjLTlvNAnanMTK78xyZygQDnz2KSFpkMgcFV59EHE7iQ/7eNqqKl6V74UxXylYrNHU7eCAcKVS3xAF0U/ImlPC4mA0HTXeZDUtsTTDJk7zu7a2B8gQYY2KLhWjJ7fY5K9pmm3JbG5WkXBHVl7yG2CYL2fmayGYJOqv6X73MPzcQUQPKJsTG+ng6FgRsmmJFQAPJ2bES7g3YgKBf0+aPmZsYaVaTPJFf6F6PaB/ujIBTxpjP2OBVZ3iz1HRaQj3KjB/z1L2HTIt4+JAaa0J19TEqgSuS+VYhZxR4eT1CmvsR32CF43HFKRuEgqymvzIXlWttaPrLT8SqwziWepD0PSQMj+1g3FlUrDXj5eDo/UmVElfJFYZ5L2Xj4mXcEtxT1aqgorM9BUI37QhZHjWmnCRWGUQzlOevQ+ZDvuEA6UKFJn4fCv8rd43GdfaOeNZfiRWBe95xmTNJDwcsCUTPVYwZnGfBzPHs9fr8O2RWHUAuRlVRGI1o9frYHMkVh1AbkYVkVjN6PU62ByJVQeQm1FFJFYzer0ONkdi1QHkZlQRidWMXq+DzZFYdQC5GVVEYjWj1+tgcyRWHUBuRhWRWM3o9TrYHIlVB5CbUUUkVjN6vQ42R2LVAeRmVBGJ1Yxer4PNkVh1ALkZVURiNaPX62BzJFYdQG5GFZFYzej1OtgciVUHkJtRRSRWM3q9DjZHYtUB5GZUEYnVjF6vg82RWHUAuRlVRGI1o9frYHMkVh1AbkYVkVjN6PU62ByJVQeQm1FFJFYzer0ONkdi1QHkZlQRidWMXq+DzTT9Kd3cd4DqoCuqaBIEjEBp+q90qhfYJrE5mlkHBAzD0SFLdHIxRYU3YerwFVHFBodAawFFOuVP2vbicmyywVkXDRozBLbeDK/S7AfV/mYKplC27urpMfuiqHjcI6AJ/MoVWEFQpelPYGMPTBj3VkUDxhwBA7Qv3AOr8tXg0arJy0swOfZaY+6Xcf0BobeauitWzifKesIM+z+uE1oFG/vwFl8sEYEhIhBCDEXGqkV7Unto2odEh/9QJxYnY1Ik1xBRbfLqgVStK7F6wX60tgTFgN4p9Fw2wUZxWGxytlRpfhj+XIY1pZ6qIrHCD9Of0gI60OYStESCVYlwk1ULhLIZOifvgfYwp+pvfuX5lCrt/RDM27dDsnwlWjMHixaYuP3TZAzqNte0QdEJn1i4zSaj+OtlyB7aGx4U3rAaWP4fZLcm2GKaW/YAAAAASUVORK5CYII="},sUbJ:function(e,t,a){"use strict";function n(e){a("4Qs9")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("rdTW");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("47sn"),s=a.n(o),l=a("XEvY"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-141ee390",null);t.default=c.exports},sWGj:function(e,t,a){"use strict";function n(e){a("FooO")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("B7rM");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("K2RO"),s=a.n(o),l=a("ut+3"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-8f494f14",null);t.default=c.exports},sX8C:function(e,t,a){"use strict";function n(e){a("8G0P")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("qLvx");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("oro+"),s=a.n(o),l=a("m+ig"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-71109817",null);t.default=c.exports},sYiH:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"weui-cell vux-x-textarea"},[a("div",{staticClass:"weui-cell__hd"},[e.hasRestrictedLabel?a("div",{style:e.labelStyles},[e._t("restricted-label")],2):e._e(),e._v(" "),e._t("label",[e.title?a("label",{staticClass:"weui-label",class:e.labelClass,style:{width:e.$parent.labelWidth||e.labelWidth+"em",textAlign:e.$parent.labelAlign,marginRight:e.$parent.labelMarginRight},domProps:{innerHTML:e._s(e.title)}}):e._e(),e._v(" "),e.inlineDesc?a("inline-desc",[e._v(e._s(e.inlineDesc))]):e._e()])],2),e._v(" "),a("div",{staticClass:"weui-cell__bd"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],ref:"textarea",staticClass:"weui-textarea",style:e.textareaStyle,attrs:{autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,spellcheck:e.spellcheck,placeholder:e.placeholder,readonly:e.readonly,disabled:e.disabled,name:e.name,rows:e.rows,cols:e.cols,maxlength:e.max},domProps:{value:e.currentValue},on:{focus:function(t){e.$emit("on-focus")},blur:function(t){e.$emit("on-blur")},input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showCounter&&e.max,expression:"showCounter && max"}],staticClass:"weui-textarea-counter",on:{click:e.focus}},[a("span",[e._v(e._s(e.count))]),e._v("/"+e._s(e.max)+"\n    ")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},sZ9E:function(e,t,a){"use strict";function n(e){a("RqGZ")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("SDx5");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("qy1N"),s=a.n(o),l=a("04rN"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-0fb05b2c",null);t.default=c.exports},sb2V:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2580,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[r.default],methods:{},created:function(){}}},sk0R:function(e,t,a){"use strict";function n(e){a("ljdw")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("zRbv");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("Z3gt"),s=a.n(o),l=a("9pbS"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-f7a58504",null);t.default=c.exports},sxlv:function(e,t){},sy2r:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("IHPB"),s=n(o),l=a("4YfN"),d=n(l),u=a("0w+U"),c=a("MjAd"),f=n(c);t.default={mixins:[f.default],data:function(){return{listStatus:[{name:"全部",status:""},{name:"使用中",status:"1"},{name:"未使用",status:"2"},{name:"停用",status:"-1"}],filterList:[{name:"公司名称",value:"groupName"},{name:"公司简称",value:"groupShortName"}]}},methods:{tabClick:function(e,t){this.activeIndex=t,this.activeTab=e.status,this.resetCondition(),this.getList()},RouterChange:function(e,t,a){var n=this;if(!this.clickVisited){var r=e.groupId,i=this.$route.query.name;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,d.default)({},e)),setTimeout(function(){n.clickVisited=!1,n.$router.push({path:a,query:{name:i,groupId:r}})},200)}},goDetail:function(e,t){var a=this.$route.params,n=a.folder,r=a.fileName;this.RouterChange(e,t,"/detail/"+n+"/"+r)},getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=[],n=[{property:"crtTime",direction:"DESC"}];return this.activeTab&&(a=[{operator:"in",property:"status",value:this.activeTab}]),this.serachVal&&(a=[].concat((0,s.default)(a),[{operator:"like",value:this.serachVal,property:this.filterProperty}])),(0,u.getCompany)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,sort:(0,i.default)(n),filter:(0,i.default)(a)}).then(function(a){var n=a.dataCount,r=void 0===n?0:n,i=a.tableContent,o=void 0===i?[]:i;e.$emit("input",!1),o.forEach(function(t){var a=["","使用中","未使用","草稿"];t.status=a[t.status]||"停用",e.setStatus(t),t.groupPic=t.groupPic?t.groupPic:e.getDefaultImg()}),e.hasNext=r>(e.page-1)*e.limit+o.length,e.listData=1===e.page?o:e.listData.concat(o),t||e.$nextTick(function(){e.resetScroll()}),e.$loading.hide()}).catch(function(t){e.resetScroll()})},setStatus:function(e){switch(e.status){case"使用中":e.statusClass="duty_done_c";break;default:e.statusClass="duty_fall_c"}},getDefaultImg:function(e){var t=a("L+HE");return e&&(e.groupPic=t),t}}}},"t+MW":function(e,t){},t2f1:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("IHPB"),i=n(r),o=a("4XVd"),s=a("1KNX"),l=n(s),d=a("xCct"),u=n(d),c=a("z7Zk"),f=n(c),h=a("Z5v5");t.default={name:"comment",components:{RScroll:l.default,CommentItem:u.default,REmotion:f.default},data:function(){return{page:1,total:0,limit:10,parentId:-1,placeholder:"添加评论...",scrollOptions:{pullUpLoad:!0},listId:"",comment:"",transCode:"",commentList:[],hasNext:!0,focusInput:!1,showEmotion:!1}},methods:{onPullingUp:function(){this.page++,this.getCommentList()},setReply:function(e,t){return'@<span style="color: #2994FD;">'+e+"</span>："+t},getCommentList:function(){var e=this,t={transCode:this.transCode,page:this.page,limit:this.limit};return this.listId&&(t.transCode=this.listId),(0,o.getCommentList)(t).then(function(t){var a=t.allCommentNum,n=void 0===a?0:a,r=t.comment,o=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+o.length,o.forEach(function(t){t.allReply&&t.allReply.forEach(function(a,n,r){var i=t.allReply.find(function(e){return e.ID===a.PARENT_ID});a.CONTENT=i?e.setReply(i.creatorName,a.CONTENT):e.setReply(t.creatorName,a.CONTENT)})}),e.commentList=1===e.page?o:[].concat((0,i.default)(e.commentList),(0,i.default)(o)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},onReply:function(e){this.parentId=e.ID,this.placeholder="回复"+e.creatorName+":",this.$refs.commentValue.focus(),console.log("bScroll:",this.$$refs.bScroll)},onPraiseSuccess:function(e){e.isPraise=!1,e.praiseNum++},tagFilter:function(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")},saveComment:function(){var e=this;if(!this.comment)return void this.$vux.toast.show({text:"评论不能为空",position:"top",width:"50%",type:"text",time:700});var t={content:this.tagFilter(this.comment),parentId:this.parentId,relationKey:this.transCode,type:"instance"};return this.listId&&(t={content:this.tagFilter(this.comment),parentId:this.parentId,relationKey:this.listId,type:"list"}),(0,o.saveComment)(t).then(function(t){var a=t.success,n=void 0===a||a;t.message;n&&(e.comment="",e.parentId=-1,e.placeholder="添加评论...",e.page=1,e.$refs.bScroll.scrollTo(0,0),e.getCommentList().then(function(){e.$loading.hide()}))})},commentFocusIn:function(e){this.$nextTick(function(){e.target.scrollIntoView()}),this.focusInput=!0,this.showEmotion=!1},commentFocusOut:function(){this.focusInput=!1},emotionSelected:function(e){this.comment+=e},emotionClickOutside:function(e){this.$refs.emotion.$el.contains(e.target)||this.$refs.emotionIcon.contains(e.target)||(this.showEmotion=!1)}},created:function(){var e=this,t=this.$route.query,a=t.transCode,n=t.listId;this.transCode=a,this.listId=n,this.$loading.show(),(0,h.register)(),this.getCommentList().then(function(){e.$loading.hide()}),this.$nextTick(function(){document.addEventListener("click",e.emotionClickOutside)})},beforeDestroy:function(){document.removeEventListener("click",this.emotionClickOutside)}}},t4UV:function(e,t,a){"use strict";function n(e){a("ElNg")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("nmkt");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("f6zL"),s=a.n(o),l=a("ZH8y"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-1e3a6f0e",null);t.default=c.exports},t5gp:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages xmjx-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart no_count"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-name-list",{attrs:{"default-value":e.projectApproval},on:{"sel-item":e.selProject}}),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",[a("datetime",{attrs:{title:"实际开始日期"},model:{value:e.projectTime.actualStartTime,callback:function(t){e.$set(e.projectTime,"actualStartTime",t)},expression:"projectTime.actualStartTime"}},[a("span",{staticClass:"required",attrs:{slot:"title"},slot:"title"},[e._v("实际开始日期")])]),e._v(" "),a("datetime",{attrs:{title:"实际完成日期"},model:{value:e.projectTime.actualCompleteTime,callback:function(t){e.$set(e.projectTime,"actualCompleteTime",t)},expression:"projectTime.actualCompleteTime"}},[a("span",{staticClass:"required",attrs:{slot:"title"},slot:"title"},[e._v("实际完成日期")])])],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.projectConclusion.length,expression:"projectConclusion.length"}],staticClass:"materiel_list project-amt"},[a("p",{staticClass:"title"},[e._v("资金明细")]),e._v(" "),e._l(e.projectConclusion,function(t,n){return a("div",{staticClass:"project_content",class:{"vux-1px-b":n!==e.projectConclusion.length-1}},[a("form-cell",{attrs:{cellTitle:"实际"+t.conclusionName,showSymbol:"利润率"!==t.conclusionName,textRight:"",cellContent:e.numberComma(t.actual),showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"预算"+t.conclusionName,showSymbol:"利润率"!==t.conclusionName,textRight:"",cellContent:e.numberComma(t.budget),showTopBorder:!1}}),e._v(" "),a("form-cell",{directives:[{name:"show",rawName:"v-show",value:"利润率"!==t.conclusionName,expression:"item.conclusionName !== '利润率'"}],attrs:{cellTitle:"差额"+t.conclusionName,showSymbol:"利润率"!==t.conclusionName,textRight:"",cellContent:e.numberComma(t.difference),showTopBorder:!1}})],1)})],2),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"其他信息"}},[a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.jsonData.comment.biComment,callback:function(t){e.$set(e.jsonData.comment,"biComment",t)},expression:"jsonData.comment.biComment"}})],1)],1),e._v(" "),a("upload-file",{on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),a("div",{staticClass:"btn vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"cfm_btn",on:{click:e.save}},[e._v("提交")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},t732:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAYAAAA8AXHiAAAOF0lEQVR4Xu2de4xdRR3Hv7+ZOffuLm3pFmuBGCtapUB8IBgMPkLU8FBRLG4gEMAmRsEHUF5StFiIgKAVBRSsFkFQIa2gkpDgIzQagzEt2CYVEEEaFLNIu7SF7d17ZuZn5tLt3r29t+w9e+b2Pn7DP6T3/L4z853PzjlnzjwIjRIzLV8LvW0BkuER9KUWBkVotxPUMEZ+6FoHdD8YY3CJgZ03iNL+/0S6/Dg4EHG9SteFZGgTF7AT/TZBkVLornVLKpbZAU7gTIqxwaMwupIorRXaA6yT1/GASTBDgMrseU8FBsBsipcfOJpGqys+CayzHuL9SoOY6ZTc7nqKjmlWVntw3wh23HUCvTIutRus0FP1ecwSqKbpco+GB7hKCtvHe64KWOGZylrMlttfj1KRU7Urz10GL60+gsoEZhpaj1kOGMhJX2R62AENjK4+Cttp+cNsNszBHOmtepiGHKseeq2RrdhKS57j/s3DmJ2jtkj1uAPz5+ElOmMjD5bK6OtxL6T6OTrQV0CJhh7luc7D5KgrUj3ugFawNLSJD5TPND1OQs7VD59/aNE6PihnXZETByBgCQRRHBCwotgqogKWMBDFAQEriq0iKmAJA1EcELCi2CqiApYwEMUBASuKrSIqYAkDURwQsKLYKqICljAQxQEBK4qtIipgCQNRHBCwotgqogKWMBDFAQEriq0iKmAJA1EcELCi2CqiApYwEMUBASuKrSIqYAkDURwQsKLYKqICljAQxQEBK4qtIipgCQNRHBCwotgqogKWMBDFAQEriq0iKmAJA1EcELAa2WqhmXCAhf8QnD+FQYeFSwn8OJS635B6mBhbYOCitEyHiwpYdRrQpygC/mTHfjGAIxu08WNM6g7Tp36jHMY6nIPciy9g1Vo6gEK6zV0F5kUAZu7dcdrBwP2F2fpKjKKce+t0sKCANd54dqd2nCz0jOsAHN1MmxJhPRlzuXZ4Qm6NrzonYAFIgYRS/2mGPxfAAnCTR74QGExPk+LbisasdhXJ3k49DxYzDnCpu5LBHwWw37RwILxCTA/qRF9NhC3T0urw4J4FSxuo0hgOJe+uZuZjKy98+aRwft9fGFjWP2CecBY+H9nOUulJsMhiRpntIjCdB/D8KE1GtBmgWwt96j52eDlKHm0s2nNgWcYssu5KD5wC5rjnBxGNEuPXSPRVhrC9jTnIvWg9A1Y4JMEz3krOrmDgXbk7uTdBxgYmXEwF81TSIw/2PQEWMfrL1p8O5i8CfHBLoRrPjOh5BfqBMeoXTNi5T8rQwky7Hiw2mGlH3fUAH499f3TeKIF+pwf0ZWSxo4Xt3PKsuhesBNqNuiM98w0AFrbc2b1n+CQRXWYG9KNIu/NbY1eCRQX0p6P+TPb8WYDf2GZQ7RqapufA/ONCYu7uxltj14HlLQ523n4DwHFA2x+XVwLRWlJ+mdHJf9ryDyBjoboHrAS6vNO9g0DXwvt3ZvRj34QRNpKiK4j0xnAk274pRL65dgVYzmIQ8Kd55s+DeV6+FrVIjWiYiFYS1D3aYKRFuUbLpuPBcsDrfOquAVfe+orRnGqN8BgYv1dFs1QDL7Ymyzi5dC5YCoU0xdvJu+8y81vi2LOvVOkZNvrCgsFG+M6c59WRYLHDTOfsZxj4HIAD9lXzR853CymshHZ3Gip23OegjgOr7PB6cvY7AMKMhG4/JL1EhEe8MksKGi9EBjlX+Y4BqzIZz7pjmXE9uE3HpnJtmgkxInqOFb4Crf/cKd8aOwKstIz9iexiZpwDoDPf+qYNHQ0T+KdJwdzOwLZpy0UWaHuw2Nq3OE/XMvExYBQi+9He8kRleP6rKZqlBDzdzoVta7CsxUL29lYAh7azia0uGzH+wcB5SdE83uq8p5pfW4OVlt3PAQ6fZiTVOkC0Nkn0Ge1qTLuD9XeAZ9eax4T1isHc5DKtdm2EvZWLCGWu+whALyUFfXi71qmtwbJl9yMmPgkMFQwkom0g3K1Zf9/BfZOZPzEVYwlIGSgTKCx0qKSwXouAAgNJA42wADWdFEMcFnqF0X0zlXxzuYZwE4EKzBx6p1m7ND2IHkwSHcbx2jK1NVjO2QXe0wUAHwbGf4noXuP1bymsVi65b08RrGECwje4Yc9uF1i60hik/HwwzmLgoOrWIdC/QbSKCC94F7ZmCNc7KK2JmY9g5rMAzGhFixJhhSmam13qT/Q+zILFgSDaQEbfbAjPtKIMWfJoa7CsAiVl7JdqzNAKJUfYZjyYNGZMFSwm3KCK5nshbg+Dwmehsvs6PIc9GnanENPfb26qt3Qr7OtgYe8hxjFZDG82pgJWYlboMlS5D/v7MfRRAduxE6Omr06dms0g0vVtDVajOjcDltbmy0rjl420UusvhvcXV/+utTpfabWmUYwtu5UM/nikNpkkOw5WK/LKMw8BS8DKk6fdWgKWgCVgjTsgt8IoLOQq2vU9FpRakhh1bz3XwssBl+2l8Liw+nel1UVaq3saPmOl7nZmPjHXlmggJs9YrXB5Vx7N9Fggui9J9JfqFS/M67KvTsH5WPXvBFrjB/SFhTobergyXsdk1zDjba2osoDVCpezgBViFD2iGE9WxkWrkgfCvqLHgHnSTjMMpErRI8SVcaKJGIb24HcT0eHMXBm0jZ0ErNgOV+k31WO1sFwxshKwYrja6LmjiQHSFhYrSlYCVhRb64s21WOFOUygf4D98wDVbIJG8wF+M8C1q3vGCHgcoGGuvhUSNJjfBMabEf5/IjmA/gXipwCqXhcYbrGvB/PbAfRnsUjAyuJaxpimwAL9SrO+RBUxWptd6jEHtvLwHpaO7U6kaE0x0Usd45U6MW9gZ++m6od3omeN4jNIm2f3uN6hD94tA0/+bDTVqgtYU3Uqh+uaAUtDLVGFvQw3lOylQM1wA6mLdLLX4YZVzHzSBIn4c5KYoUZVY+tOsp5XZam6gJXFtYwxTYHVim+Fiv6YGH16Q7BSd7xlviNLdQWsLK5ljBGwMhrXwrCuH3lvyewG6bH2QLb7wSJ1vkr2MgUmtZcw46JqZ5RRF2ilVjf6A6/MbAXvHq1nRX8qGH1ao+t96k5wzD/J0mHIrTCLaxljmrkVArgxKZhv1cvKaxT9mLuKPZ896XdSNyaJqhuThrc8Z8O3x/dUxWwqKPMpNvW33bbWn8feL8tSXQEri2sZY5oBqzJPHvxDInpC8eTN/C34nWD6DMCDNUUZVoxVpOgpqhnHcqD3MXPYKHdiK2/GGCu+n1ivheaJcSwfZj/zIQwsZpo8/XmqVRewpupUDtc1A1YO2e1TCQGrhfYLWC00O2NWXf/wvssXBihsajZ5+Rc13q2GQI6ZU1QtGQNV/ivWzobY7X04iQITt9uQaWUzOObMy8Wkx8pIdpawJnusJ402i0ljj88t3uNw5/zNYF85lncCELUB5M5NTLK5+p/DSpkx5T7Anm8CMLfqt60KtKQwoP9Qu7InTdODQOr78PzeTHXdtUonS+y+jOn+HovUV5NE1X/Vt9Apu6Vg/kJ1Iyitvqa1ur1ew1RmnY65n4Enlv4TaF1xQJ/S6KQv6/ypHADOkKTHymBa1pBmeqzXGiAtp/YSqhnHanr5lwyQ7tGUXd9jvRZYuawrFLAErFoHBKys9429x0mPlce6Qumxeq/HAuPypGh+Wvfvy0Jb7y5nhOPmJpKCWqoL6s56MeHNsET2TjA+PPEWib8mZE5tdIJ92fpF5P0tWfoGeXjP4lrGmGYe3omwnrS5iigddpxUxrHCvkWVY+adOwTgK8CYdEQKEf2FFa5JSA+H68av12EUi8MQhbsOzAdWFX8LkVqmlfqb16kfj/A27LykDoDDZQz+YJbqClhZXMsY0wxYry7fohdBKNXJrp/Ac3jX/lsTv5MDeCuIJsWE0U5mnglg/5rDyQOwO4hoe2U7uEmJCgwOe9FXz5Gfcs0FrClbNf0LK4eFextmH3xy+mrtrSBgtbB9wh5VHm45M4ftubs6CVgtbF5bAiHxZ7LzV3f96RQKKxJjVrTQ3lyy6sjhhlBzIsxNx+wdDByZixPtK3J1UjC3tW/x6pesY8GqvNQxjvCpXQrg/UA3Hi5AI4pwjk70OgGrxQ6kvjyHYD7Czp8N0MJJMztbXJZcsyN6lohuMQW1phOPluvoHivXhhSxXB0QsHK1U8TGHRCwhIUoDghYUWwVUQFLGIjigIAVxVYRFbCEgSgOCFhRbBVRAUsYiOKAgBXFVhEVsISBKA4IWFFsFVEBSxiI4oCAFcVWERWwhIEoDghYUWwVUQFLGIjigIAVxVYRFbCEgSgOCFhRbBVRAUsYiOKAgBXFVhEVsISBKA4IWFFsFVEBSxiI4oCAFcVWERWwhIEoDghYUWwVUQFLGIjigIAVxVYRpaFNfKDbWTmlSpI4kIsD2oNp6FGe6zwyH3uWS0lEpKsc0AqWztjIg6Vy43P7uqrGUpmWONBXQImWPMf9m4cxuyU5SiY94cD8eXiJlj/MZsMczKE02wb3PeGUVHLKDnACN7IVWykcQzu0HrMcMHEq+5Rl5EJxYLIDGhhdfRS2V94GP8ec/G8jBqXXEkym40Dorea+AyMridLdwwwnr+OBPo9ZTsnQw3TM7dXYMMRQUtj+wNE0GjyYNH511kO8X2kQMwWuXsUjW70DVH0j2HHXCfTKuMIeA6Oh5zIJZshtMZvJvRYVbn82xcvjPVVDsMIPQ5u4gJ3otwmKAlivoTK1+gagTIqxwaMwGp6paqMaf8phpuPWQh+5AMnwCPpSC4MitHz+mZrx3XaV7gdjDC4xsPMGUXrsn0jXHgcHotoDGitV/z/9fxGrab4kFgAAAABJRU5ErkJggg=="},tAQq:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"vux-emotion"},[e._t("default")],2)},r=[],i={render:n,staticRenderFns:r};t.a=i},tHsJ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("iR2W"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"OpButton",props:{isModify:{type:Boolean,default:!1},hide:{type:Boolean,default:!1},tdAmount:{type:[String,Number],default:0},taxAmount:{type:[String,Number],default:0},allCheck:{type:Boolean,default:!1}},methods:{checkAll:function(){this.$emit("on-check-all")},submit:function(){this.$emit("on-submit")},deleteItem:function(){this.$emit("on-delete")}},filters:{numberComma:r.default}}},tIqq:function(e,t){},tNTb:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Iu/6"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"Loading",data:function(){return{show:!1}},components:{Spinner:r.default}}},tO34:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("MgeX"),i=n(r),o=a("lC5x"),s=n(o),l=a("J0Oq"),d=n(l),u=a("4YfN"),c=n(u),f=a("a3Yh"),h=n(f),m=a("ZLEe"),v=n(m),p=a("3cXf"),C=n(p),y=a("HzJ8"),_=n(y),g=a("z5TY"),b=n(g),w=a("SAzG"),I=n(w),D=a("PzEQ"),x=n(D),P=a("u28h"),S=n(P),k=a("BGNQ"),L=n(k),N=a("kNGm"),M=n(N),T=a("0AQX"),A=a("HyXB"),O=a("bKg5"),R=n(O),j=a("9cRV"),B=n(j),E=a("luHD"),F=n(E),U=a("VZtf"),$=n(U),H=a("vl8n"),V=n(H),q=a("+WR7"),Q=n(q),Y=a("Q67R"),X=n(Y),G=a("lsbD"),W=n(G),z=a("zWMP"),K=a("Qg39"),J=a("pyij"),Z=n(J);t.default={data:function(){return{orderList:{},matterList:[],showMaterielPop:!1,formData:{biId:"",biComment:""},modifyKey:"",filterList:[{name:"物料名称",value:"invName"},{name:"物料编码",value:"matCode"},{name:"交易号",value:"transCode"}],checkFieldList:[{key:"tdQty",message:"请填写本次申请数量"}]}},components:{XTextarea:x.default,Group:b.default,XInput:I.default,Datetime:S.default,Cell:L.default,RNumber:$.default,PopMatter:F.default,PopMatterList:B.default,RPicker:V.default,PopBaseinfo:Q.default,ApplyMatterPart:X.default,OpButton:W.default},filters:{dateFormat:M.default},computed:{totalNum:function(){var e=0;return this.matterList.forEach(function(t){e=(0,z.accAdd)(e,t.tdQty)}),Number(e)}},watch:{matterList:{handler:function(e){var t=!0,a=!1,n=void 0;try{for(var r,i=(0,_.default)(e);!(t=(r=i.next()).done);t=!0){var o=r.value;if(o.tdLeadTime)if(o.promDeliTime){var s=new Date(Date.parse(o.promDeliTime.replace(/-/g,"/"))),l=new Date(s.getTime()-24*o.tdLeadTime*60*60*1e3);o.shippingTime=(0,M.default)((0,Z.default)(l,s),"YYYY-MM-DD")}else o.shippingTime="";else o.shippingTime=o.promDeliTime;(0,C.default)(o.assistQty).includes(".")&&(o.assistQty=Math.ceil(o.assistQty),o.tdQty=(0,z.accMul)(o.assistQty,o.assMeasureScale))}}catch(e){a=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(a)throw n}}}}},mixins:[R.default],methods:{selMatter:function(e){var t=this,a=JSON.parse(e),n={};a.map(function(e){for(var a in t.dataIndexMap)e[a]="promDeliTime"===a||"shippingTime"===a?(0,M.default)(e[t.dataIndexMap[a]],"YYYY-MM-DD")||"":e[a]||e[t.dataIndexMap[a]];e.tdQty=e.tdQty||Math.max(e.qtyBalance,e.moq),n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.matterList=a,this.orderList=n},getMatterModify:function(e,t,a){this.matter=JSON.parse((0,C.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},checkAmt:function(e,t,a){e[t]=Math.abs((0,K.toFixed)(a));var n=Math.max(e.thenQtyBal,e.moq);"tdQty"===t&&(a<n?e[t]=n:(e.assistQty=Math.ceil(e.assistQty),e.tdQty=(0,z.accMul)(e.assistQty,e.assMeasureScale)))},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.inventoryCode!==e.inventoryCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode});if(-1!==n)return void a.splice(n,1);a.push(e)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,C.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,v.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],r=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});r>=0&&n.splice(r,1),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.inventoryCode===a.inventoryCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},getMatter:function(){this.showMaterielPop=!this.showMaterielPop},submitOrder:function(){var e=this,t="",a=[];if(this.matterList.length||(t="请选择物料"),!t){var n=!0,r=!1,i=void 0;try{for(var o,s=(0,_.default)(this.matterList);!(n=(o=s.next()).done);n=!0){var l=o.value,d={},u=!0,f=!1,m=void 0;try{for(var v,p=(0,_.default)(this.submitMatterField);!(u=(v=p.next()).done);u=!0){var y=v.value;if(!y.hidden&&!y.allowBlank&&!l[y.fieldCode]){t=y.text+"不为空";break}d[y.fieldCode]=null!=l[y.fieldCode]?l[y.fieldCode]:null}}catch(e){f=!0,m=e}finally{try{!u&&p.return&&p.return()}finally{if(f)throw m}}a.push(d)}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=A.saveAndStartWf,n=(0,h.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:e.biComment,formData:(0,C.default)((0,c.default)({},e.formData,{handlerEntity:e.entity.dealerName,order:{dataSet:a}})),wfPara:(0,C.default)(n)};e.isResubmit&&(t=A.saveAndCommitTask,r.biReferenceId=e.biReferenceId),e.processCode.length||(t=A.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,d.default)(s.default.mark(function t(){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,T.getSOList)({formViewUniqueId:e.uniqueId,transCode:e.transCode}).then(function(t){e.listId=t.listId,e.biReferenceId=t.biReferenceId,e.attachment=t.attachment;var a=t.formData,n={},r=[];r=a.order.dataSet.map(function(t){return t=(0,c.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,inventoryType:t.inventoryType_transObjCode,inventorySubclass:t.inventorySubclass_transObjCode,allQty:t.productDemandQty,qtyed:t.thenLockQty,qtyBalance:t.thenQtyBal,transCode:t.transMatchedCode}),n[t.transCode]||(n[t.transCode]=[]),n[t.transCode].push(t),t}),e.orderList=n,e.matterList=r,e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,c.default)({},e.handlerDefault,{creator:a.creator,modifer:a.modifer,biId:a.biId,biComment:a.biComment,biProcessStatus:a.biProcessStatus}),e.$loading.hide()});case 2:case"end":return t.stop()}},t,e)}))()},hasDraftData:function(){return!!(0,i.default)(this.orderList).length&&(0,h.default)({},"CGSQ_DATA",{orderList:this.orderList,formData:this.formData})}},created:function(){var e=this,t=sessionStorage.getItem("CGSQ_DATA");if(t){this.orderList=JSON.parse(t).orderList,this.formData=JSON.parse(t).formData;for(var a in this.orderList)this.orderList[a].forEach(function(t){e.matterList.push(t)});sessionStorage.removeItem("CGSQ_DATA")}}}},tSLf:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("MjAd"),s=n(o),l=a("IsSW"),d=n(l);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2363,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}],popShow:!1}},components:{PopAssignmentTaskWorkList:d.default},mixins:[s.default],methods:{goEdit:function(){this.popShow=!0},selTask:function(e){var t=[];e.forEach(function(e){t.push(e.colId)});var a=this.$route.query,n=a.name,r=a.listId,o=this.$route.params,s=o.folder,l=o.fileName;this.$router.push({path:"/fillform/"+s+"/"+l,query:{name:n,listId:r,orderId:(0,i.default)(t)}})}}}},tSvU:function(e,t){},tUPE:function(e,t){},tVsm:function(e,t,a){e.exports=a.p+"static/img/contact_default02.995b130.png"},tZbj:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("4YfN"),s=n(o),l=a("kNGm"),d=(n(l),a("0AQX")),u=a("+VRO"),c=n(u),f=a("BUFe"),h=n(f),m=a("AupE"),v=n(m),p=a("bFc7"),C=n(p),y=a("3NX5"),_=n(y),g=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",contactInfo:{},orderList:{},orderInfo:{}}},mixins:[c.default],components:{workFlow:v.default,RAction:h.default,contactPart:C.default,MatterList:_.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,d.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u={},c=o.order,f=void 0===c?{}:c,h=f.dataSet,m=!0,v=!1,p=void 0;try{for(var C,y=(0,i.default)(h);!(m=(C=y.next()).done);m=!0){var _=C.value;e.count=(0,g.accAdd)(e.count,_.tdAmount),_.inventoryPic=_.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),u[_.transMatchedCode]||(u[_.transMatchedCode]=[]),u[_.transMatchedCode].push(_)}}catch(e){v=!0,p=e}finally{try{!m&&y.return&&y.return()}finally{if(v)throw p}}e.contactInfo={creatorName:f.dealerDebitContactPersonName,dealerName:f.dealerName_dealerCodeCredit,dealerMobilePhone:o.dealerCreditContactInformation,dealerContactPersonName:o.dealerCreditContactPersonName,dealerCode:f.dealerCodeCredit,dealerLabelName:f.crDealerLabel,province:f.province_dealerCodeCredit,city:f.city_dealerCodeCredit,county:f.county_dealerCodeCredit,address:f.address_dealerCodeCredit},e.orderList=u,e.attachment=d,e.orderInfo=(0,s.default)({},o,f),e.workFlowInfoHandler()})}}}},tZnc:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("a3Yh"),s=n(o),l=a("MgeX"),d=n(l),u=a("HzJ8"),c=n(u),f=a("ZLEe"),h=n(f),m=a("3cXf"),v=n(m),p=a("HXPS"),C=n(p),y=a("BGNQ"),_=n(y),g=a("z5TY"),b=n(g),w=a("SAzG"),I=n(w),D=a("PzEQ"),x=n(D),P=a("0AQX"),S=a("HyXB"),k=a("bKg5"),L=n(k),N=a("VZtf"),M=n(N),T=a("89pA"),A=n(T),O=a("luHD"),R=n(O),j=a("Pb67"),B=n(j),E=a("RMtk"),F=n(E),U=a("vl8n"),$=n(U),H=a("+WR7"),V=n(H),q=a("Qg39");t.default={mixins:[L.default],components:{Icon:C.default,Cell:_.default,Group:b.default,XInput:I.default,XTextarea:x.default,RNumber:M.default,PopOrderList:B.default,PopWarehouseList:A.default,PopMatter:R.default,RPicker:$.default,PopBaseinfo:V.default,PopOrderXqtjList:F.default},data:function(){return{listId:"762b8df4-2555-4325-884a-355f34355832",orderList:{},matterList:[],showOrderPop:!1,transCode:"",formData:{biComment:""},numMap:{},warehouseIn:null,matter:{},showMatterPop:!1,modifyIndex:null}},methods:{checkAmt:function(e){var t=e.tdQty,a=e.qtyBal;t&&(e.tdQty=Math.abs((0,q.toFixed)(t)),t>a&&(e.tdQty=a))},delClick:function(e,t,a){var n=this.selItems,r=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode&&e.transCode===t.transCode});if(-1!==r)return void n.splice(r,1);n.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode&&t.transCode===e.transCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,v.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,h.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.inventoryCode===a.inventoryCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],r=n.findIndex(function(e){return e.inventoryCode===t.inventoryCode});r>=0&&(e.$refs.order.delSelItem(n[r]),n.splice(r,1)),n.length||delete e.orderList[t.transCode]}})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,r=(0,c.default)((0,d.default)(this.orderList));!(e=(n=r.next()).done);e=!0){var i=n.value,o=!0,s=!1,l=void 0;try{for(var u,f=(0,c.default)(i);!(o=(u=f.next()).done);o=!0){var h=u.value;this.numMap[h.transCode+"_"+h.inventoryCode]={tdQty:h.tdQty,shippingTime:h.shippingTime}}}catch(e){s=!0,l=e}finally{try{!o&&f.return&&f.return()}finally{if(s)throw l}}}}catch(e){t=!0,a=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw a}}this.showOrderPop=!this.showOrderPop},selWarehouseIn:function(e){this.warehouseIn=JSON.parse(e)},modifyMatter:function(e,t,a){this.matter=JSON.parse((0,v.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t)},selOrder:function(e){var t=this,a=JSON.parse(e),n={};a.forEach(function(e){var a=e.transCode+"_"+e.inventoryCode,r=t.numMap[a]||{},i=r.tdQty,o=void 0===i?"":i,s=r.shippingTime,l=void 0===s?"":s;e.tdQty=o,e.shippingTime=l,n[e.transCode]||(n[e.transCode]=[]),n[e.transCode].push(e)}),this.numMap={},this.matterList=a,this.orderList=n},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},submitOrder:function(){var e=this,t="",a=[];[{key:"warehouseIn",message:"入库仓库"}].every(function(a){return!!e[a.key]||(t="请选择"+a.message,!1)}),t||(0,h.default)(this.orderList).length||(t="请选择物料");var n=!0,r=!1,o=void 0;try{for(var l,u=(0,c.default)((0,d.default)(this.orderList));!(n=(l=u.next()).done);n=!0){var f=l.value,m=!0,p=!1,C=void 0;try{for(var y,_=(0,c.default)(f);!(m=(y=_.next()).done);m=!0){var g=y.value;if(!g.tdQty){t="请填写数量";break}var b={transMatchedCode:g.transCode,outPutMatCode:g.inventoryCode,containerCodeOut:this.warehouseIn.warehouseCode,warehouseType_containerCodeOut:this.warehouseIn.warehouseType,tdProcessing:g.processing,thenQtyBal:g.qtyBal,thenQtyStock:g.qtyStock,tdQty:g.tdQty,comment:g.comment||""};this.transCode&&(b.tdId=g.tdId||""),a.push(b)}}catch(e){p=!0,C=e}finally{try{!m&&_.return&&_.return()}finally{if(p)throw C}}}}catch(e){r=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw o}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=S.saveAndStartWf,n={},r=(0,s.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});n=(0,i.default)({},e.formData,{modifer:e.transCode?e.formData.handler:"",handlerEntity:e.entity.dealerName,outPut:{containerCode:e.warehouseIn.warehouseCode,dataSet:a},containerInWarehouseManager:e.warehouseIn.containerInWarehouseManager||null}),e.transCode&&(t=S.saveAndCommitTask,r={businessKey:e.transCode,createdBy:n.creator||n.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var o={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,v.default)(n),wfPara:(0,v.default)(r)};e.transCode||delete o.biReferenceId,e.processCode.length||(t=S.submitAndCalc,delete o.wfPara,delete o.biReferenceId),e.biReferenceId&&(o.biReferenceId=e.biReferenceId),e.saveData(t,o)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,s=t.attachment,l=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=l;var d=[],u={},f=o.outPut,h=f.dataSet,m=void 0===h?[]:h,v=!0,p=!1,C=void 0;try{for(var y,_=(0,c.default)(m);!(v=(y=_.next()).done);v=!0){var g=y.value;g=(0,i.default)({},g,{transCode:g.transMatchedCode,qtyBal:g.thenQtyBal,qtyStock:g.thenQtyStock,inventoryPic:g.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+g.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:g.inventoryName_outPutMatCode,inventoryCode:g.outPutMatCode,specification:g.specification_outPutMatCode,processing:g.tdProcessing}),u[g.transCode]||(u[g.transCode]=[]),d.push(g),u[g.transCode].push(g)}}catch(e){p=!0,C=e}finally{try{!v&&_.return&&_.return()}finally{if(p)throw C}}e.warehouseIn={warehouseCode:f.containerCode,warehouseName:f.warehouseName_containerCode,warehouseType:f.warehouseType_containerCode,warehouseProvince:f.warehouseProvince_containerCode,warehouseCity:f.warehouseCity_containerCode,warehouseDistrict:f.warehouseDistrict_containerCode,warehouseAddress:f.warehouseAddress_containerCode},e.handlerDefault={handler:o.handler,handlerName:o.handlerName,handlerUnit:o.handlerUnit,handlerUnitName:o.handlerUnitName,handlerRole:o.handlerRole,handlerRoleName:o.handlerRoleName},e.formData=(0,i.default)({},e.formData,e.handlerDefault,{biComment:o.biComment,biId:o.biId,biProcessStatus:o.biProcessStatus,creator:o.creator,modifer:o.modifer}),e.biReferenceId=o.biReferenceId,e.matterList=d,e.orderList=u,e.$loading.hide()})},assembMatterList:function(){var e=!0,t=!1,a=void 0;try{for(var n,r=(0,c.default)((0,d.default)(this.orderList));!(e=(n=r.next()).done);e=!0){var i=n.value,o=!0,s=!1,l=void 0;try{for(var u,f=(0,c.default)(i);!(o=(u=f.next()).done);o=!0){var h=u.value;this.matterList.push(h)}}catch(e){s=!0,l=e}finally{try{!o&&f.return&&f.return()}finally{if(s)throw l}}}}catch(e){t=!0,a=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw a}}},hasDraftData:function(){return!!(0,d.default)(this.orderList).length&&(0,s.default)({},"NBJGLL_DATA",{orderList:this.orderList,warehouseIn:this.warehouseIn,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("NBJGLL_DATA");if(e){var t=JSON.parse(e);this.orderList=t.orderList,this.assembMatterList(),this.formData=t.formData,this.warehouseIn=t.warehouseIn,sessionStorage.removeItem("NBJGLL_DATA")}}}},"td+E":function(e,t){},th7J:function(e,t){},thiw:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("a3Yh"),s=n(o),l=a("KH7x"),d=n(l),u=a("Q+Ik"),c=n(u),f=a("3cXf"),h=n(f),m=a("BGNQ"),v=n(m),p=a("z5TY"),C=n(p),y=a("SAzG"),_=n(y),g=a("PzEQ"),b=n(g),w=a("u28h"),I=n(w),D=a("jnZd"),x=n(D),P=a("jLp1"),S=a("bKg5"),k=n(S),L=a("JUuq"),N=n(L),M=a("vl8n"),T=n(M),A=a("+WR7"),O=n(A),R=a("Qg39"),j=a("zWMP");t.default={mixins:[k.default],components:{Cell:v.default,Group:C.default,XInput:_.default,Datetime:I.default,XTextarea:b.default,PopNameList:N.default,PopupPicker:x.default,RPicker:T.default,PopBaseinfo:O.default},data:function(){return{listId:"0281f8eb-f1d2-415c-b566-756fc749ccb3",projectTypes:[["设计类","协调类","执行类"]],planModel:{taskName:"",taskType:"",taskTypes:[],comment:"",deadline:"",cycleDays:"",planTime:"",jobRate:"",budgetHomeworkCost:""},projectPlan:[],formData:{biProcessStatus:"",biComment:""},formDataComment:"",project:{}}},methods:{addPlan:function(){var e=(0,h.default)(this.planModel);this.projectPlan.push(JSON.parse(e))},delatePlan:function(){this.projectPlan.pop()},typeTask:function(e,t){t.taskType=e[0]},selProject:function(e){var t=JSON.parse(e);this.project=t;var a={projectType:this.project.PROJECT_TYPE,filters:(0,h.default)([{operator:"in",property:"projectType",value:this.project.PROJECT_TYPE}])};this.getProjectBotTask(a)},getProjectBotTask:function(e){var t=this;(0,P.getProjectBotTask)(e).then(function(e){var a=e.tableContent,n=void 0===a?[]:a;n.forEach(function(e){e.taskTypes=[e.taskType]}),t.projectPlan=n})},save:function(){var e=this,t="",a=[];this.project.PROJECT_NAME||(t="请选择项目");var n={taskName:"任务名称",deadline:"截止日期"};if(t||this.projectPlan.every(function(e){return(0,c.default)(n).every(function(a){var n=(0,d.default)(a,2),r=n[0],i=n[1];return!!e[r]||(t=i+"不能为空",!1)}),a.push({budgetHomeworkCost:e.budgetHomeworkCost,comment:e.comment,cycleDays:e.cycleDays,deadline:e.deadline,jobRate:e.jobRate,planTime:e.planTime,projectType:e.projectType,taskName:e.taskName,taskType:e.taskType}),!t}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=P.saveProjectPlan,n={listId:e.listId,formData:{baseinfo:{biProcessStatus:e.formData.biProcessStatus,handlerEntity:e.entity.dealerName,creator:e.formData.handler,handler:e.formData.handler,handlerName:e.formData.handlerName,handlerRole:e.formData.handlerRole,handlerRoleName:e.formData.handlerRoleName,handlerUnit:e.formData.handlerUnit,handlerUnitName:e.formData.handlerUnitName,id:"",modifer:e.formData.handler},comment:{biComment:e.formData.biComment},projectApproval:{projectName:e.project.PROJECT_NAME,comment:e.project.COMMENT,projectManager:e.project.PROJECT_MANAGER,expectStartDate:e.project.EXPECT_START_DATE,expectEndDate:e.project.EXPECT_END_DATE},projectPlan:a}};e.saveData(t,n)}})},checkTime:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=e.planTime,r=e.jobRate;e[t]&&(e[t]=Math.abs((0,R.toFixed)(e[t],a))),"planTime"!==t&&"jobRate"!==t||(e.budgetHomeworkCost=(0,j.accMul)(Number(n),Number(r)))},hasDraftData:function(){return!!this.project.PROJECT_NAME&&(0,s.default)({},"XMJH_DATA",{project:this.project,projectPlan:this.projectPlan})},getRelationData:function(){var e=this;return(0,P.findProjectPlan)(this.relationKey).then(function(t){var a=t.formData,n=void 0===a?{}:a,r=(t.attachment,JSON.parse((0,h.default)(n.projectApproval)));e.project={BUDGET_CAPITAL:r.budgetCapital,BUDGET_COST:r.budgetCost,BUDGET_INCOME:r.budgetIncome,BUDGET_PROFIT:r.budgetProfit,BUDGET_PROFIT_MARGIN:r.budgetProfitMargin,COMMENT:r.comment,EXPECT_END_DATE:r.expectEndDate,EXPECT_START_DATE:r.expectStartDate,ID:r.projectApprovalId,PHONE_NUMBER:r.phoneNumber,PROJECT_MANAGER:r.projectManager,PROJECT_NAME:r.projectName,PROJECT_STATUS:r.projectStatus,PROJECT_SUBCLASS:r.projectSubclass,PROJECT_TYPE:r.projectType,REFERENCE_ID:r.referenceId},e.projectPlan=n.projectPlan,e.formData=n.baseinfo,e.selProject((0,h.default)(e.project)),e.$loading.hide()})},getFormData:function(){var e=this;return(0,P.findProjectPlan)(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a,r=(t.attachment,JSON.parse((0,h.default)(n.projectApproval)));e.project={BUDGET_CAPITAL:r.budgetCapital,BUDGET_COST:r.budgetCost,BUDGET_INCOME:r.budgetIncome,BUDGET_PROFIT:r.budgetProfit,BUDGET_PROFIT_MARGIN:r.budgetProfitMargin,COMMENT:r.comment,EXPECT_END_DATE:r.expectEndDate,EXPECT_START_DATE:r.expectStartDate,ID:r.projectApprovalId,PHONE_NUMBER:r.phoneNumber,PROJECT_MANAGER:r.projectManager,PROJECT_NAME:r.projectName,PROJECT_STATUS:r.projectStatus,PROJECT_SUBCLASS:r.projectSubclass,PROJECT_TYPE:r.projectType,REFERENCE_ID:r.referenceId},n.projectPlan.forEach(function(e){e.taskTypes=[e.taskType]}),e.projectPlan=n.projectPlan,e.handlerDefault={handler:n.baseinfo.handler,handlerName:n.baseinfo.handlerName,handlerUnit:n.baseinfo.handlerUnit,handlerUnitName:n.baseinfo.handlerUnitName,handlerRole:n.baseinfo.handlerRole,handlerRoleName:n.baseinfo.handlerRoleName},e.formData=(0,i.default)({},e.formData,e.handlerDefault,{biComment:n.baseinfo.biComment,biId:n.baseinfo.biId,biProcessStatus:n.baseinfo.biProcessStatus,creator:n.baseinfo.creator,modifer:n.baseinfo.modifer}),e.biReferenceId=n.biReferenceId,e.$loading.hide()})}},created:function(){var e=(0,h.default)(this.planModel),t=sessionStorage.getItem("XMJH_DATA");if(t){var a=JSON.parse(t);return this.project=a.project,this.projectPlan=a.projectPlan,void sessionStorage.removeItem("XMJH_DATA")}this.transCode||this.relationKey||this.projectPlan.push(JSON.parse(e))}}},tiX6:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("3cXf"),s=n(o),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),h=n(f),m=a("kNGm"),v=(n(m),a("qE8w"),a("HyXB")),p=a("1KNX"),C=n(p),y=a("7biW"),_=n(y);t.default={name:"PopMatterListTest",props:{show:{type:Boolean,default:!1},defaultValue:{type:Array,default:function(){return[]}},isShowStock:{type:Boolean,default:!1},filterList:{type:Array,default:function(){return[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"}]}},config:{type:Array,default:function(){return[]}},orderTitle:{type:String,default:"单号"},matterParams:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:h.default,RScroll:C.default,MSearch:_.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:[],tmpItems:[],matterList:[],limit:100,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterProperty:"",requestMethods:null}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}},matterParams:{handler:function(e){this.resetCondition();var t=!0;if("[object Object]"===Object.prototype.toString.call(e.data)){for(var a in e.data)if(!e.data[a]){t=!1,this.hasNext=!1;break}t&&this.requestData()}else this.requestData()},deep:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,d.default)(this.selItems)),this.$emit("input",!1),this.$emit("shut-down-outsidePop",!1),this.$event.$emit("shut-down-filter",!1)},findIndex:function(e,t){return e.findIndex(function(e){var a=!0,n=!0;if(e.orderCode){if(n=e.orderCode===t.orderCode,e.inventoryCode)return n&&e.inventoryCode===t.inventoryCode;if(e.facilityCode)return n&&e.facilityCode===t.facilityCode}else if(e.transCode){if(a=e.transCode===t.transCode,e.inventoryCode)return e.salesOutCode?a&&e.salesOutCode===t.salesOutCode:a&&e.inventoryCode===t.inventoryCode;if(e.facilityCode)return a&&e.facilityCode===t.facilityCode}else{if(e.inventoryCode)return e.inventoryCode===t.inventoryCode;if(e.facilityCode)return e.facilityCode===t.facilityCode}})},showSelIcon:function(e){return-1!==this.findIndex(this.tmpItems,e)},selThis:function(e,t){if(this.isShowStock&&0===e.qtyStockBal)return void this.$vux.alert.show({content:"当前订单库存为0，请选择其他订单"});var a=this.tmpItems,n=this.findIndex(a,e);if(-1!==n)return void a.splice(n,1);a.push(e)},confirmMater:function(){this.showPop=!1,this.tmpItems.sort(function(e,t){return t.effectiveTime-e.effectiveTime}),this.selItems=[].concat((0,d.default)(this.tmpItems)),this.$emit("sel-matter",(0,s.default)(this.selItems))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},requestData:function(){var e=[];this.srhInpTx&&(e=[].concat((0,d.default)(e),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}]));var t=(0,i.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,s.default)(e)},this.matterParams.data);return(0,v.requestData)({url:this.matterParams.url,data:t}).then(this.dataHandler)},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,r=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=r,this.resetCondition(),this.requestData()},delSelItem:function(e){var t=this.findIndex(this.selItems,e);-1!==t&&this.selItems.splice(t,1),this.tmpItems=[].concat((0,d.default)(this.selItems))},onPullingUp:function(){this.page++,this.requestData()},setDefaultValue:function(){this.tmpItems=[].concat((0,d.default)(this.defaultValue)),this.selItems=[].concat((0,d.default)(this.defaultValue))},dataHandler:function(e){var t=this,a=e.dataCount,n=void 0===a?0:a,r=e.tableContent,i=void 0===r?[]:r;i.forEach(function(e){e.inventoryPic=e.inventoryPic?"/H_roleplay-si/ds/download?url="+e.inventoryPic+"&width=400&height=400":t.getDefaultImg()});var o=this.$route.query.relationKey;(void 0===o?"":o)&&(this.selItems=[].concat((0,d.default)(i)),this.$emit("sel-matter",(0,s.default)(this.selItems))),this.hasNext=n>(this.page-1)*this.limit+i.length,this.matterList=1===this.page?i:[].concat((0,d.default)(this.matterList),(0,d.default)(i)),this.$nextTick(function(){t.$refs.bScroll.finishPullUp()})},resetCondition:function(){this.matterList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)}},created:function(){this.setDefaultValue()}}},tmpk:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{staticClass:"list_top"},[a("search",{staticClass:"search",on:{search:e.searchList}})],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"each_task",on:{click:function(a){e.goDetail(t,n)}}},[a("div",{staticClass:"todo_msg",class:{visited:t.visited}},[a("div",{staticClass:"msg_top"},[a("div",{staticClass:"work_info"},[a("span",{staticClass:"work_status doing_work"},[e._v(e._s(t.status))]),e._v(" "),a("span",{staticClass:"work_code doing_code"},[e._v(e._s(t.transCode))])]),e._v(" "),a("div",{staticClass:"time"},[e._v("\n              "+e._s(e._f("handleCrt")(t))+"\n            ")])]),e._v(" "),a("div",{staticClass:"handle_info vux-1px-b"},[a("div",{staticClass:"handle_avatar"},[a("img",{attrs:{src:t.lastNode.photoUrl||e.DefaultImg,alt:"avatar"}})]),e._v(" "),a("div",{staticClass:"info"},[a("div",{staticClass:"handle_part"},[a("span",{staticClass:"name"},[e._v(e._s(t.lastNode.userName))]),e._v(" "),a("span",{staticClass:"handle"},[e._v("进行了操作")]),e._v(" "),a("span",{staticClass:"tips"},[e._v("[上个节点]")])]),e._v(" "),a("div",{staticClass:"handle_result"},[a("span",[e._v("操作动作:")]),e._v(" "),a("span",{staticClass:"result",class:{reject_c:"同意"===t.lastNode.status||"提交"===t.lastNode.status}},[e._v("\n                  "+e._s(t.lastNode.status)+"\n                ")])])])]),e._v(" "),a("div",{staticClass:"user_handle"},[a("div",{staticClass:"tips"},[e._v("此单你需要进行:")]),e._v(" "),a("div",{staticClass:"info"},[e._v(e._s(t.nodeName))])])])])}),0),e._v(" "),a("router-view")],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},tolm:function(e,t){},tpzc:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getJsApiSignature=void 0;var n=a("GOq4"),r=function(e){return e&&e.__esModule?e:{default:e}}(n),i=t.getJsApiSignature=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.default.ajax({url:"/H_roleplay-si/getJsApiSignature",data:{url:e}})};t.default={getJsApiSignature:i}},trKI:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2577,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"客户名称",value:"dealerName_dealerCodeCredit"}]}},mixins:[r.default],methods:{},created:function(){}}},tvAB:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("IHPB"),s=n(o),l=a("4YfN"),d=n(l),u=a("7g+Q"),c=n(u),f=a("+62G"),h=(n(f),a("6q39")),m=n(h),v=a("HyXB"),p=a("1KNX"),C=n(p),y=a("7biW"),_=n(y);t.default={name:"handlerPop",props:{defaultValue:{type:Object,default:function(){return{}}},show:{type:Boolean,default:!1},requestParams:{type:Object,default:function(){return{}}}},components:{Popup:c.default,LoadMore:m.default,RScroll:C.default,DSearch:_.default},watch:{show:function(e){this.showPop=e},defaultValue:{handler:function(e){this.selItems=(0,d.default)({},e)},deep:!0},requestParams:{handler:function(e){this.getlistUsers()},immediate:!0}},data:function(){return{page:1,limit:50,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},srhInpTx:"",showPop:!1,listData:[],selItems:{}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1,this.$emit("input",!1)},onPullingUp:function(){this.page++,this.getlistUsers()},showSelIcon:function(e){return""+this.selItems.nickname==""+e.nickname},getDefaultImg:function(e){var t=a("男"===e.gender?"Fuf7":"0gu7");return e&&(e.photo=t),t},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.listData=[],this.page=1,this.hasNext=!0,this.getlistUsers()},getlistUsers:function(){var e=this,t=[];this.srhInpTx&&(t=[].concat((0,s.default)(t),[{operator:"like",value:this.srhInpTx,property:"nickname"}]));var a=(0,d.default)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,i.default)(t)},this.requestParams.data);return(0,v.requestData)({url:this.requestParams.url,data:a}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+i.length,e.listData=1===e.page?i:[].concat((0,s.default)(e.listData),(0,s.default)(i)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},selThis:function(e,t){this.showPop=!1,this.selItems=e,this.$emit("sel-handler",e),this.$emit("input",!1)}},created:function(){}}},ty3O:function(e,t){},"u+pL":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("KH7x"),i=n(r),o=a("HXPS"),s=n(o),l=a("+62G"),d=n(l),u=a("Nk/b"),c=n(u),f=a("7g+Q"),h=n(f);t.default={name:"RPicker",props:{title:{type:String,default:""},value:{type:String,default:""},data:{type:Array,default:function(){return[]}},required:{type:Boolean,default:!1},pickerStatus:{type:Boolean,default:!0},mode:{type:String,default:"1"},showArrow:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"},hasBorder:{type:Boolean,default:!0},hasBorderTop:{type:Boolean,default:!1}},data:function(){return{show:!1,currentValue:"",showValue:""}},watch:{value:{handler:function(e){this.showValue=e,this.currentValue=e?[e]:[],this.$emit("on-change",e)}}},directives:{TransferDom:d.default},components:{Picker:c.default,Popup:h.default,Icon:s.default},methods:{confirm:function(){var e=(0,i.default)(this.currentValue,1),t=e[0],a=void 0===t?"":t;this.show=!1,this.$emit("input",a)},showStatus:function(){this.pickerStatus&&!this.disabled&&(this.show=!this.show)}},created:function(){this.currentValue=[this.value],this.showValue=this.value}}},u1IZ:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=(a("HyXB"),a("MjAd")),s=n(o),l=a("zWMP");t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"项目名称",value:"projectName_projectApprovalId"}],listViewID:2301}},mixins:[s.default],filters:{percent:function(e){return e||0===e?(0,l.accMul)(e,100)+"%":"无"}},methods:{goDetail:function(e,t){var a=this;if(!this.clickVisited){var n=e.transCode,r=this.$route.query,o=r.name,s=r.listId,l=this.$route.params,d=l.folder,u=l.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,i.default)({},e)),setTimeout(function(){a.clickVisited=!1,a.$router.push({path:"/detail/"+d+"/"+u,query:{name:o,transCode:n,listId:s}})},200)}}}}},u28h:function(e,t,a){"use strict";function n(e){a("RROt")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("Mnwv");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("ucqF"),s=a.n(o),l=a("aKfH"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,null,null);t.default=c.exports},u3BI:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("4YfN"),s=n(o),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),h=a("AupE"),m=n(h),v=a("89pA"),p=n(v),C=a("hPJo"),y=n(C),_=a("3NX5"),g=n(_);t.default={data:function(){return{warehouseIn:{},warehouseOut:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513"}},mixins:[u.default],components:{workFlow:m.default,PopWarehouseList:p.default,RAction:f.default,WarehouseContent:y.default,MatterList:g.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=void 0===a?[]:a,r=t.formData,o=void 0===r?{}:r,l=o.outPut,d=void 0===l?{}:l,u=d.dataSet;e.attachment=n;var c=!0,f=!1,h=void 0;try{for(var m,v=(0,i.default)(u);!(c=(m=v.next()).done);c=!0){var p=m.value;p.inventoryName_transObjCode=p.inventoryName_outPutMatCode,p.transObjCode=p.outPutMatCode,p.specification=p.specification_outPutMatCode,p.inventoryPic=p.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+p.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){f=!0,h=e}finally{try{!c&&v.return&&v.return()}finally{if(f)throw h}}e.warehouseIn={warehouseCode:d.containerCode,warehouseName:""+d.warehouseName_containerCode,warehouseAction:"入库",warehouseIcon:"icon-ruku",warehouseType:d.warehouseType_containerCode,warehouseProvince:d.warehouseProvince_containerCode,warehouseCity:d.warehouseCity_containerCode,warehouseDistrict:d.warehouseDistrict_containerCode,warehouseAddress:d.warehouseAddress_containerCode},e.warehouseOut={warehouseCode:d.containerCodeOut,warehouseName:""+d.warehouseName_containerCodeOut,warehouseAction:"出库",warehouseIcon:"icon-chuku",warehouseType:d.warehouseType_containerCodeOut,warehouseProvince:d.warehouseProvince_containerCodeOut,warehouseCity:d.warehouseCity_containerCodeOut,warehouseDistrict:d.warehouseDistrict_containerCodeOut,warehouseAddress:d.warehouseAddress_containerCodeOut},e.matterList=u,e.orderInfo=(0,s.default)({},o),e.workFlowInfoHandler()})}},created:function(){}}},u5b7:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("KH7x"),s=n(o),l=a("4YfN"),d=n(l),u=a("a3Yh"),c=n(u),f=a("3cXf"),h=n(f),m=a("BGNQ"),v=n(m),p=a("z5TY"),C=n(p),y=a("SAzG"),_=n(y),g=a("7g+Q"),b=n(g),w=a("PzEQ"),I=n(w),D=a("jnZd"),x=n(D),P=a("0AQX"),S=a("HyXB"),k=(a("jLp1"),a("bKg5")),L=n(k),N=a("55ug"),M=n(N),T=a("CKaN"),A=n(T),O=a("KR0i"),R=n(O),j=a("vl8n"),B=n(j),E=a("+WR7"),F=n(E),U=a("zWMP"),$=a("Qg39");t.default={mixins:[L.default],components:{Cell:v.default,Group:C.default,Popup:b.default,XInput:_.default,XTextarea:I.default,PopupPicker:x.default,RPicker:B.default,PopBaseinfo:F.default,PopDealerList:M.default,PopCashList:A.default,PopEarnestMoneyList:R.default},data:function(){return{listId:"7d172485-8726-4e42-b29d-ec2a716bf062",biReferenceId:"",selectedCost:[],costIndex:0,transCode:"",formData:{biComment:"",biProcessStatus:""},dealerInfo:{},showOrder:!1,dealerParams:{},orderList:[],cashInfo:{fundName_cashOutCode:"",cashOutCode:"",cashType_cashOutCode:"",thenAmntBal:0},numMap:{}}},computed:{applicationAmount:function(){var e=0;return this.orderList.forEach(function(t){t.tdAmount&&(e=(0,U.accAdd)(e,t.tdAmount))}),(0,$.toFixed)(e)},differenceAmount:function(){var e=this.dealerInfo.amntBal||0;return e=(0,U.accAdd)(e,this.applicationAmount),(0,$.toFixed)(e)}},methods:{submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerCode||(t="请选择供应商"),t||this.orderList.length||(t="请选择定金明细"),t)return void this.$vux.alert.show({content:t});this.orderList.forEach(function(t){a.push({tdId:t.tdId||"",transMatchedCode:t.transCode,thenTotalAmntBal:t.thenAmntBal,differenceAmountCopy1:t.amount,thenAlreadyAmnt:t.amnted,thenAmntBalCopy2:t.deposit,applicationAmount:t.tdAmount,tdAmountCopy1:t.tdAmount,dealerDebit:e.dealerInfo.dealerCode})}),this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=S.saveAndStartWf,n=(0,c.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,h.default)(e.formData.handler),"本次支付":e.applicationAmount});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={dealerName_dealerDebit:e.dealerInfo.nickname,dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,applicationAmount:e.applicationAmount,tdAmountCopy1:e.applicationAmount,differenceAmount:e.differenceAmount},i=(0,d.default)({},e.cashInfo,{tdAmount:e.applicationAmount});e.transCode&&(r.tdIdCopy1=e.dealerInfo.tdIdCopy1,i.tdId=e.cashInfo.tdId);var o={listId:e.listId,biComment:e.formData.biComment,formData:(0,h.default)((0,d.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",inPut:{dataSet:[r],thenAmntBalCopy1:e.dealerInfo.amntBal},order:{dataSet:a},outPut:{dataSet:[i]}})),wfPara:(0,h.default)(n)};e.isResubmit&&(o.biReferenceId=e.biReferenceId,t=S.saveAndCommitTask),e.processCode.length||(t=S.submitAndCalc,delete o.wfPara,delete o.biReferenceId),e.biReferenceId&&(o.biReferenceId=e.biReferenceId),e.saveData(t,o)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.attachment,n=void 0===a?[]:a,r=t.listId,i=void 0===r?"":r,o=(t.biComment,t.biReferenceId),l=void 0===o?"":o,u=t.formData,c=void 0===u?{}:u;e.attachment=n,e.listId=i,e.biReferenceId=l,e.handlerDefault={handler:c.handler,handlerName:c.handlerName,handlerUnit:c.handlerUnit,handlerUnitName:c.handlerUnitName,handlerRole:c.handlerRole,handlerRoleName:c.handlerRoleName},e.formData=(0,d.default)({},e.formData,e.handlerDefault,{biComment:c.biComment,biId:c.biId,biProcessStatus:c.biProcessStatus,creator:c.creator,modifer:c.modifer});var f=c.order.dataSet,h=void 0===f?[]:f,m=c.inPut.dataSet,v=void 0===m?[]:m,p=c.outPut.dataSet,C=void 0===p?[]:p,y=(0,s.default)(v,1),_=y[0],g=void 0===_?{}:_,b=(0,s.default)(C,1),w=b[0],I=void 0===w?{}:w;h.forEach(function(e){e.transCode=e.transMatchedCode,e.thenAmntBal=e.thenTotalAmntBal,e.amount=e.differenceAmountCopy1,e.amnted=e.thenAlreadyAmnt,e.deposit=e.thenAmntBalCopy2,e.tdAmount=e.applicationAmount}),e.dealerInfo=(0,d.default)({},g,{nickname:g.dealerName_dealerDebit,dealerCode:g.dealerDebit,dealerLabelName:g.drDealerLabel,amntBal:c.inPut.thenAmntBalCopy1}),e.cashInfo=(0,d.default)({},I),e.orderList=h,e.$loading.hide()})},hasDraftData:function(){return!!this.dealerInfo.dealerCode&&(0,c.default)({},"FGYSDJ_DATA",{formData:this.formData,dealerInfo:this.dealerInfo,orderList:this.orderList,cashInfo:this.cashInfo})},getRelationData:function(){},selDealer:function(e){this.dealerInfo=(0,d.default)({},e),this.dealerParams={dealerCode:e.dealerCode}},selOrder:function(e){var t=this,a=JSON.parse(e);a.map(function(e){var a=t.numMap[e.transCode]||{},n=a.tdAmount,r=void 0===n?e.deposit:n;e.tdAmount=r}),this.numMap={},this.orderList=a},selCash:function(e){this.cashInfo=(0,d.default)({},e)},addOrder:function(){var e=!0,t=!1,a=void 0;try{for(var n,r=(0,i.default)(this.orderList);!(e=(n=r.next()).done);e=!0){var o=n.value;this.numMap[o.transCode]=(0,d.default)({},o)}}catch(e){t=!0,a=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw a}}this.showOrder=!0},checkAmt:function(e,t){switch(e){case"tdAmountCopy1":this.dealerInfo.tdAmountCopy1=(0,$.toFixed)(this.dealerInfo.tdAmountCopy1);break;case"tdAmount":this.cashInfo.tdAmount=(0,$.toFixed)(this.cashInfo.tdAmount);break;default:e[t]=(0,$.toFixed)(e[t])}}},created:function(){var e=sessionStorage.getItem("FGYSDJ_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.orderList=t.orderList,this.cashInfo=t.cashInfo,this.dealerParams={dealerCode:this.dealerInfo.dealerCode},sessionStorage.removeItem("FGYSDJ_DATA")}}}},u5pD:function(e,t,a){"use strict";function n(e){a("n06I")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("/MNM");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("DOKq"),s=a.n(o),l=a("sM8C"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-e97bd8b6",null);t.default=c.exports},u9uh:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_content"},e._l(e.costList,function(t,n){return a("div",{key:n,staticClass:"main_content"},e._l(e.matterConfig,function(n,r){return a("div",{key:r,class:{"vux-1px-t":r>0}},["tdAmount"===n.fieldCode?[a("div",{staticClass:"each_info"},[a("label",[e._v(e._s(n.text))]),e._v(" "),a("span",{staticClass:"field_value"},[e._v("￥"+e._s(t[n.fieldCode]))])])]:[a("div",{staticClass:"each_info"},[a("label",[e._v(e._s(n.text))]),e._v(" "),a("span",{staticClass:"field_value"},[e._v(e._s(t[n.fieldCode]||"无"))])])]],2)}),0)}),0),e._v(" "),a("div",{staticClass:"comment"},[a("form-cell",{attrs:{cellTitle:"备注",cellContent:e.orderInfo.biComment}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[],i={render:n,staticRenderFns:r};t.a=i},uBQ9:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("IHPB"),i=n(r),o=a("4YfN"),s=n(o),l=a("Jwlx"),d=n(l),u=a("7g+Q"),c=n(u),f=a("+62G"),h=n(f),m=a("7biW"),v=n(m),p=a("1KNX"),C=n(p),y=a("hFVz"),_=n(y);t.default={name:"PopContactList",props:{dealerInfo:{type:Object,default:function(){return{}}},defaultValue:{type:Object,default:function(){return{}}}},directives:{TransferDom:h.default},components:{Popup:c.default,DSearch:v.default,RScroll:C.default},data:function(){return{page:1,limit:10,hasNext:!0,showDealerPop:!1,showPop:!1,srhInpTx:"",bScroll:null,contactInfo:{},dealerList:[],contactList:[],scrollOptions:{pullUpLoad:!0}}},watch:{dealerInfo:{handler:function(e,t){(e.id||"")!==(t.id||"")&&(this.resetCondition(),this.getContact())}},defaultValue:{handler:function(){this.contactInfo=(0,d.default)((0,s.default)({},this.defaultValue))},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},showSelIcon:function(e){return this.contactInfo.dealerName===e.dealerName},getDefaultImg:function(e){return a("Fuf7")},selContact:function(e,t){this.showPop=!1,this.contactInfo=(0,d.default)((0,s.default)({},e)),this.$emit("sel-contact",this.contactInfo)},getContact:function(){var e=this;return _.default.getContactList({dealerCode:this.dealerInfo.dealerCode,limit:this.limit,page:this.page,start:(this.page-1)*this.limit}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,o=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+o.length,e.contactList=1===e.page?o:[].concat((0,i.default)(e.contactList),(0,i.default)(o)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.contactList=[],this.page=1,this.hasNext=!0,this.getContact()},onPullingUp:function(){this.page++,this.getContact()},resetCondition:function(){this.page=1,this.hasNext=!0,this.contactList=[]}},created:function(){}}},uBxc:function(e,t){},uJmp:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("3cXf"),s=n(o),l=a("4YfN"),d=n(l),u=a("z5TY"),c=n(u),f=a("SAzG"),h=n(f),m=a("PzEQ"),v=n(m),p=a("jnZd"),C=n(p),y=a("vl8n"),_=n(y),g=a("+WR7"),b=n(g),w=a("y8YJ"),I=n(w),D=a("HyXB"),x=a("0AQX"),P=a("bKg5"),S=n(P);t.default={name:"ApplyCPFBForm",data:function(){return{listId:"eb8a01a3-7a74-439b-bc44-8d58cbfa6166",formViewUniqueId:"b018ef18-f0d1-41a8-985e-29de19e6b705",formData:{biId:"",biComment:"",launchType:[],launchTitle:"",launchDescribe:"",biProcessStatus:""},biReferenceId:"",dealerInfo:{},contactInfo:{},uploadStyle:{}}},mixins:[S.default],components:{Group:c.default,XInput:h.default,XTextarea:v.default,PopupPicker:C.default,RPicker:_.default,PopBaseinfo:b.default,PopDealerList:I.default},methods:{selContact:function(e){this.contactInfo=(0,d.default)({},e)},selDealer:function(e){this.dealerInfo=JSON.parse(e)[0],this.formData.launchDealerCode=this.dealerInfo.dealerCode},save:function(){var e=this;for(var t in this.formData)"string"==typeof this.formData[t]&&this.formData[t].indexOf(" ")>=0&&(this.formData[t]=this.formData[t].replace(/\s/g,""));var a="";if(this.dealerInfo.dealerCode||(a="请选择客户"),!a&&this.otherConfig.every(function(t){return!!(t.allowBlank||e.formData[t.fieldCode]&&e.formData[t.fieldCode].length)||(a=t.fieldLabel+"不能为空",!1)}),a)return void this.$vux.alert.show({content:a});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=e.formData,a={launchDealerCode:e.dealerInfo.dealerCode,address_launchDealerCode:e.dealerInfo.address,launchDealerLabel:e.dealerInfo.dealerLabelName,dealerName_launchDealerCode:e.dealerInfo.dealerName},n={dealerDebitContactPersonName:e.contactInfo.dealerName,dealerDebitContactInformation:e.contactInfo.dealerMobilePhone},r=e.processCode.length?D.saveAndStartWf:D.submitAndCalc,o={listId:e.listId,biComment:"",formData:(0,s.default)((0,d.default)({handlerEntity:e.entity.dealerName},t,a,n,{launchType:t.launchType[0]})),wfPara:(0,s.default)((0,i.default)({},e.processCode,{businessKey:e.businessKey,createdBy:t.creator}))};e.transCode&&(r=e.processCode.length?D.saveAndCommitTask:D.updateData,o.biReferenceId=e.biReferenceId,o.wfPara=(0,s.default)({businessKey:e.transCode,createdBy:t.creator,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(delete o.wfPara,delete o.biReferenceId),e.biReferenceId&&(o.biReferenceId=e.biReferenceId),e.saveData(r,o)}})},getFormData:function(){var e=this;return(0,x.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.biReferenceId,s=void 0===o?"":o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=t.attachment,e.biReferenceId=s,e.handlerDefault={handler:i.handler,handlerName:i.handlerName,handlerUnit:i.handlerUnit,handlerUnitName:i.handlerUnitName,handlerRole:i.handlerRole,handlerRoleName:i.handlerRoleName},e.formData=(0,d.default)({},e.formData,i,e.handlerDefault),e.$loading.hide()})},hasDraftData:function(){var e=["biProcessStatus","launchTitle","launchDescribe","launchType"],t=this.formData,a=!1;if(e.every(function(e){return!t[e]||(a=!0,!1)},!0),a)return(0,i.default)({},"CPFB_DATA",{formData:this.formData,dealerInfo:this.dealerInfo,contactInfo:this.contactInfo})}},created:function(){var e=sessionStorage.getItem("CPFB_DATA");e&&(this.formData=JSON.parse(e).formData,this.dealerInfo=JSON.parse(e).dealerInfo,this.contactInfo=JSON.parse(e).contactInfo,sessionStorage.removeItem("CPFB_DATA"))}}},uKpr:function(e,t,a){"use strict";function n(e){a("QCfW")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("vrxI");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("CrUP"),s=a.n(o),l=a("wmtl"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-70495a55",null);t.default=c.exports},uX8d:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("IHPB"),i=n(r),o=a("3cXf"),s=n(o),l=a("HXPS"),d=n(l),u=a("7g+Q"),c=n(u),f=a("L6VY"),h=n(f),m=a("+62G"),v=n(m),p=a("HyXB"),C=a("1KNX"),y=n(C),_=a("7biW"),g=n(_);t.default={name:"PopSalesmanList",props:{title:{type:String,default:""},dealerLabelName:{type:String,default:"员工"},disabled:{type:Boolean,default:!1},value:{type:String,default:""},required:{type:Boolean,default:!1}},directives:{TransferDom:v.default},components:{Icon:d.default,Popup:c.default,RScroll:y.default,RSearch:g.default},data:function(){return{showPop:!1,srhInpTx:"",dealerList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},currentValue:""}},watch:{value:{handler:function(e){this.currentValue=this.value}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.showPop=!1},showSelIcon:function(e){return e.dealerName===this.currentValue},selThis:function(e,t){var a=e.dealerName;this.showPop=!1,this.currentValue=a,this.$emit("input",a)},getDealer:function(){var e=this,t=[];return this.srhInpTx&&(t=[{operator:"like",value:this.srhInpTx,property:"dealerName"}]),(0,p.getObjDealerByLabelName)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,dealerLabelName:this.dealerLabelName,filter:(0,s.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,o=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+o.length,e.dealerList=1===e.page?o:[].concat((0,i.default)(e.dealerList),(0,i.default)(o)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})}).catch(function(e){h.default.show({content:e.message})})},onPullingUp:function(){this.page++,this.getDealer()},itemClick:function(){this.showPop=!0},searchList:function(e){var t=e.val,a=void 0===t?"":t;this.srhInpTx=a,this.dealerList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getDealer()}},created:function(){this.getDealer(),this.currentValue=this.value}}},ucqF:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("ZLEe"),i=n(r),o=a("HXPS"),s=n(o),l=a("Lmo3"),d=n(l),u=a("z5TY"),c=n(u),f=a("xZPP"),h=n(f),m=a("j51P"),v=n(m),p=a("kNGm"),C=n(p);t.default={name:"datetime",mixins:[v.default],components:{Group:c.default,InlineDesc:h.default,Icon:s.default},props:{format:{type:String,default:"YYYY-MM-DD",validator:function(e){return!0}},title:String,value:{type:String,default:""},inlineDesc:String,placeholder:String,minYear:Number,maxYear:Number,confirmText:String,cancelText:String,clearText:String,yearRow:{type:String,default:"{value}"},monthRow:{type:String,default:"{value}"},dayRow:{type:String,default:"{value}"},hourRow:{type:String,default:"{value}"},minuteRow:{type:String,default:"{value}"},required:{type:Boolean,default:!1},minHour:{type:Number,default:0},maxHour:{type:Number,default:23},startDate:{type:String,validator:function(e){return!e||10===e.length}},endDate:{type:String,validator:function(e){return!e||10===e.length}},valueTextAlign:String,displayFormat:Function,readonly:Boolean,hourList:Array,minuteList:Array,show:Boolean,defaultSelectedValue:String,computeHoursFunction:Function,computeDaysFunction:Function,orderMap:Object},created:function(){this.isFirstSetValue=!1,this.currentValue=this.value},data:function(){return{currentShow:!1,currentValue:null,valid:!0,errors:{}}},mounted:function(){var e=this,t=this.uuid;this.$el.setAttribute("id","vux-datetime-"+t),this.readonly||this.$nextTick(function(){e.render(),e.show&&e.$nextTick(function(){e.picker&&e.picker.show(e.currentValue)})})},computed:{styles:function(){return this.$parent?{width:this.$parent.labelWidth,textAlign:this.$parent.labelAlign,marginRight:this.$parent.labelMarginRight}:{}},pickerOptions:function(){var e=this,t={trigger:"#vux-datetime-"+this.uuid,format:this.format,value:this.currentValue,output:".vux-datetime-value",confirmText:e.getButtonText("confirm"),cancelText:e.getButtonText("cancel"),clearText:e.clearText,yearRow:this.yearRow,monthRow:this.monthRow,dayRow:this.dayRow,hourRow:this.hourRow,minuteRow:this.minuteRow,minHour:this.minHour,maxHour:this.maxHour,startDate:this.startDate,endDate:this.endDate,hourList:this.hourList,minuteList:this.minuteList,defaultSelectedValue:this.defaultSelectedValue,computeHoursFunction:this.computeHoursFunction,computeDaysFunction:this.computeDaysFunction,orderMap:this.orderMap||{},onSelect:function(t,a,n){e.picker&&e.picker.config.renderInline&&(e.$emit("input",n),e.$emit("on-change",n))},onConfirm:function(t){e.currentValue=t},onClear:function(t){e.$emit("on-clear",t)},onHide:function(t){e.currentShow=!1,e.$emit("update:show",!1),e.validate(),e.$emit("on-hide",t),"cancel"===t&&e.$emit("on-cancel"),"confirm"===t&&setTimeout(function(){e.$nextTick(function(){e.$emit("on-confirm",e.value)})})},onShow:function(){e.currentShow=!0,e.$emit("update:show",!0),e.$emit("on-show")}};return this.minYear&&(t.minYear=this.minYear),this.maxYear&&(t.maxYear=this.maxYear),t},firstError:function(){var e=(0,i.default)(this.errors)[0];return this.errors[e]},labelClass:function(){return this.$parent?{"vux-cell-justify":"justify"===this.$parent.labelAlign||"justify"===this.$parent.$parent.labelAlign}:{}}},methods:{getButtonText:function(e){return"cancel"===e&&this.cancelText?this.cancelText:"confirm"===e&&this.confirmText?this.confirmText:this.$el.getAttribute("data-"+e+"-text")},render:function(){var e=this;this.$nextTick(function(){e.picker&&e.picker.destroy(),e.picker=new d.default(e.pickerOptions)})},validate:function(){if(!this.currentValue&&this.required)return this.valid=!1,void(this.errors.required="必填");this.valid=!0,this.errors={}}},watch:{readonly:function(e){e?this.picker&&this.picker.destroy():this.render()},show:function(e){e!==this.currentShow&&(e?this.picker&&this.picker.show(this.currentValue):this.picker&&this.picker.hide(this.currentValue))},currentValue:function(e,t){this.$emit("input",e),this.isFirstSetValue?this.$emit("on-change",e):(this.isFirstSetValue=!0,t&&this.$emit("on-change",e)),this.validate()},startDate:function(){this.render()},endDate:function(){this.render()},format:function(e){this.currentValue&&(this.currentValue=(0,C.default)(this.currentValue,e)),this.render()},value:function(e){if(this.readonly||this.picker&&this.picker.config.renderInline)return void(this.currentValue=e);this.currentValue!==e&&(this.currentValue=e,this.render())}},beforeDestroy:function(){this.picker&&this.picker.destroy()}}},ukfH:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("MjAd"),i=n(r),o=a("4bt0");n(o);t.default={data:function(){return{hasNext:!0,scrollOptions:{click:!0,pullDownRefresh:!0,pullUpLoad:!0}}},mixins:[i.default]}},ukna:function(e,t){},umED:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("KH7x"),i=n(r),o=a("4YfN"),s=n(o),l=a("a3Yh"),d=n(l),u=a("3cXf"),c=n(u),f=a("BGNQ"),h=n(f),m=a("z5TY"),v=n(m),p=a("SAzG"),C=n(p),y=a("7g+Q"),_=n(y),g=a("PzEQ"),b=n(g),w=a("jnZd"),I=n(w),D=a("0AQX"),x=a("HyXB"),P=(a("jLp1"),a("bKg5")),S=n(P),k=a("55ug"),L=n(k),N=a("CKaN"),M=n(N),T=a("gk4f"),A=n(T),O=a("vl8n"),R=n(O),j=a("+WR7"),B=n(j),E=a("zWMP"),F=a("Qg39");t.default={mixins:[S.default],components:{Cell:h.default,Group:v.default,Popup:_.default,XInput:C.default,XTextarea:b.default,PopupPicker:I.default,RPicker:R.default,PopBaseinfo:B.default,PopDealerList:L.default,PopCashList:M.default,PopOrderList:A.default},data:function(){return{listId:"c930267f-66fd-4927-983b-0216ef9449b3",biReferenceId:"",selectedCost:[],costIndex:0,transCode:"",formData:{biComment:""},dealerInfo:{},showOrder:!1,dealerParams:{},orderList:[],cashInfo:{}}},computed:{applicationAmount:function(){var e=0;return this.orderList.forEach(function(t){t.applicationAmount&&(e=(0,E.accAdd)(e,t.applicationAmount))}),(0,F.toFixed)(e)},tdAmountCopy1:function(){var e=0;return this.orderList.forEach(function(t){t.tdAmount&&(t.differenceAmount=(0,E.accAdd)(t.thenAmntBal,t.tdAmount),e=(0,E.accAdd)(e,t.tdAmount))}),(0,F.toFixed)(e)},differenceAmount:function(){var e=0;return this.dealerInfo.amntBal&&(e=(0,E.accAdd)(this.tdAmountCopy1,this.dealerInfo.amntBal)),(0,F.toFixed)(e)}},methods:{submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerCode||(t="请选择供应商"),t||this.orderList.length||(t="请选择欠款明细"),t||this.orderList.every(function(e){return e.popiCode?(a.push({tdId:e.tdId||"",transMatchedCode:e.popiCode,orderCode:e.poCode,thenTotalAmntBal:e.thenTotalAmntBal,thenAlreadyAmnt:e.thenAlreadyAmnt,thenAmntBal:e.thenAmntBal,accountExpirationDate:e.accountExpirationDate,daysOfAccount:e.daysOfAccount,ageOfAging:e.ageOfAging,accountRemaingDays:e.accountRemaingDays,invoiced:e.invoicing,pendingTicket:e.invoiced,applicationAmount:e.applicationAmount,tdAmount:e.tdAmount,differenceAmount:e.differenceAmount}),!0):(t="请选择采购入库号",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=x.saveAndStartWf,n=(0,d.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,c.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={dealerName_dealerDebit:e.dealerInfo.nickname,dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName,thenAmntBalCopy1:e.dealerInfo.amntBal,applicationAmount:e.applicationAmount,tdAmountCopy1:e.tdAmountCopy1,differenceAmount:e.differenceAmount},i={fundName_cashOutCode:e.cashInfo.fundName,cashOutCode:e.cashInfo.fundCode,cashType_cashOutCode:e.cashInfo.fundType,thenAmntBal:e.cashInfo.thenAmntBal,tdAmount:e.cashInfo.tdAmount};e.transCode&&(r.tdIdCopy1=e.dealerInfo.tdIdCopy1,i.tdId=e.cashInfo.tdId);var o={listId:e.listId,biComment:e.formData.biComment,formData:(0,c.default)((0,s.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",inPut:{dataSet:[r]},order:{dataSet:a},outPut:{dataSet:[i]}})),wfPara:(0,c.default)(n)};e.isResubmit&&(o.biReferenceId=e.biReferenceId,t=x.saveAndCommitTask),e.processCode.length||(t=x.submitAndCalc,delete o.wfPara,delete o.biReferenceId),e.biReferenceId&&(o.biReferenceId=e.biReferenceId),e.saveData(t,o)}})},getFormData:function(){var e=this;return(0,D.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.attachment,n=void 0===a?[]:a,r=t.listId,o=void 0===r?"":r,l=(t.biComment,t.biReferenceId),d=void 0===l?"":l,u=t.formData,c=void 0===u?{}:u;e.attachment=n,e.listId=o,e.biReferenceId=d,e.handlerDefault={handler:c.handler,handlerName:c.handlerName,handlerUnit:c.handlerUnit,handlerUnitName:c.handlerUnitName,handlerRole:c.handlerRole,handlerRoleName:c.handlerRoleName},e.formData=(0,s.default)({},e.formData,e.handlerDefault,{biComment:c.biComment,biId:c.biId,biProcessStatus:c.biProcessStatus,creator:c.creator,modifer:c.modifer});var f=c.order.dataSet,h=void 0===f?[]:f,m=c.inPut.dataSet,v=void 0===m?[]:m,p=c.outPut.dataSet,C=void 0===p?[]:p,y=(0,i.default)(v,1),_=y[0],g=void 0===_?{}:_,b=(0,i.default)(C,1),w=b[0],I=void 0===w?{}:w;h.forEach(function(e){e.popiCode=e.transMatchedCode,e.poCode=e.orderCode,e.invoicing=e.invoiced}),e.dealerInfo=(0,s.default)({},g,{nickname:g.dealerName_dealerDebit,dealerCode:g.dealerDebit,dealerLabelName:g.drDealerLabel,amntBal:g.thenAmntBalCopy1}),e.cashInfo=(0,s.default)({},I,{fundName:I.fundName_cashOutCode,fundCode:I.cashOutCode,fundType:I.cashType_cashOutCode}),e.orderList=h,e.$loading.hide()})},hasDraftData:function(){return!!this.dealerInfo.dealerCode&&(0,d.default)({},"FGYSQK_DATA",{formData:this.formData,dealerInfo:this.dealerInfo,orderList:this.orderList,cashInfo:this.cashInfo})},getRelationData:function(){},selDealer:function(e){this.dealerInfo=(0,s.default)({},e),this.dealerParams={dealerCode:e.dealerCode}},selOrder:function(e){this.orderList=JSON.parse(e),this.orderList},selCash:function(e){this.cashInfo=(0,s.default)({},e)},addOrder:function(){this.showOrder=!0},checkAmt:function(e,t){switch(e){case"tdAmount":this.cashInfo.tdAmount=(0,F.toFixed)(this.cashInfo.tdAmount);break;default:e[t]=(0,F.toFixed)(e[t])}}},created:function(){var e=sessionStorage.getItem("FGYSQK_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.dealerInfo=t.dealerInfo,this.orderList=t.orderList,this.cashInfo=t.cashInfo,this.dealerParams={dealerCode:this.dealerInfo.dealerCode},sessionStorage.removeItem("FGYSQK_DATA")}}}},upxC:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vux-x-dialog",class:{"vux-x-dialog-absolute":"VIEW_BOX"===e.layout}},[a("transition",{attrs:{name:e.maskTransition}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"weui-mask",style:e.maskStyle,on:{click:e.hide}})]),e._v(" "),a("transition",{attrs:{name:e.dialogTransition}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],class:e.dialogClass,style:e.dialogStyle},[e._t("default")],2)])],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},uqrF:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("KH7x"),s=n(o),l=a("Jwlx"),d=n(l),u=a("kpbF"),c=a("1KNX"),f=n(c),h=a("Qg39"),m=(a("zWMP"),a("iR2W")),v=n(m);t.default={name:"ZCFZForm",data:function(){return{headerSwiper:null,partRightSwiper:null,code:"",headInfo:{},listData:{},listMap:{ZCFZ:{title:"资产负债表",firstName:"期初",LastName:"期末",request:u.getOffBalance},LR:{title:"利润表",firstName:"上期",LastName:"本期",request:u.getProfit}},scrollOptions:{bounce:{top:!1}}}},components:{RScroll:f.default},methods:{getData:function(){var e=this;return this.listMap[this.code].request().then(function(t){var a=t.data,n=void 0===a?[]:a,r={};n.forEach(function(e){var t=r[e.assetType];t?t.items.push((0,d.default)(e)):r[e.assetType]={assetType:e.assetType,items:[(0,d.default)(e)]}}),e.listData=r,e.$nextTick(function(){e.setHeight(e.$refs.partLeftContent,e.$refs.partRightInit,e.$refs.partRightFinal),"ZCFZ"===e.code&&e.setHeight(e.$refs.partLeftTitle,e.$refs.partRightInitTitle,e.$refs.partRightFinalTitle),e.$loading.hide()})})},setHeight:function(e){for(var t=arguments.length,a=Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];var r=(0,s.default)(a,1),i=r[0];e&&e.forEach(function(e,t){var n=i[t];e.clientHeight!==n.clientHeight&&a.forEach(function(a){a[t].style.height=e.clientHeight+"px"})})},initSwiper:function(){var e=this;this.$nextTick(function(){e.partRightSwiper=new e.Swiper(".part-right"),e.headerSwiper=new e.Swiper(".swiper-container-header"),e.partRightSwiper.controller.control=e.headerSwiper,e.headerSwiper.controller.control=e.partRightSwiper})}},filters:{formatNum:function(e){return e?(0,v.default)((0,h.toFixed)(e))+"元":"-"}},created:function(){var e=this.$route.query.code,t=void 0===e?"":e;this.code=t,this.headInfo=(0,i.default)({},this.listMap[t]),this.initSwiper(),this.getData()}}},urr1:function(e,t){},"ut+3":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mater-list-item",class:{visited:e.item.visited}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.item.dealerName,expression:"item.dealerName"}],staticClass:"dealer-part"},[a("div",{staticClass:"order_dealer"},[a("span",{staticClass:"icon-dealer"}),e._v(" "),a("span",{staticClass:"dealer_name"},[e._v(e._s(e.item.dealerName))])]),e._v(" "),a("div",{staticClass:"order_status"},[a("span",{class:e.item.statusClass},[e._v(e._s(e.item.biStatus))])])]),e._v(" "),e.istransCodeBottom?e._e():a("div",{staticClass:"duty-top"},[a("div",{staticClass:"duty_code"},[a("div",{staticClass:"code"},[a("label",[e._v("交易号：")]),e._v(" "),a("span",[e._v(e._s(e.item.transCode))])]),e._v(" "),e.item.dealerName?a("div",{staticClass:"order_biProStatus"},[e._v(e._s(e.item.biProcessStatus||"暂无流程"))]):a("div",{staticClass:"order_status"},[a("span",{class:e.item.statusClass},[e._v(e._s(e.item.biStatus))])])])]),e._v(" "),e.isWarehouse?a("div",{staticClass:"warehouse-part"},[a("div",{staticClass:"warehouse"},[e.item.warehouseName_containerCode?a("span",{staticClass:"warehouse_in"},[e._v("入库 - "+e._s(e.item.warehouseName_containerCode))]):e._e(),e._v(" "),e.item.warehouseName_containerCodeOut?a("span",{staticClass:"warehouse_out"},[e._v("出库 - "+e._s(e.item.warehouseName_containerCodeOut))]):e._e()]),e._v(" "),a("div",{staticClass:"order_biProStatus"},[e._v(e._s(e.item.biProcessStatus||"暂无流程"))])]):e._e(),e._v(" "),a("div",{staticClass:"order-main vux-1px-b",class:{has_margin:e.noCount}},[a("ul",{staticClass:"duty_matter"},e._l(e.item.detailItem,function(t,n){return n<3?a("li",{key:n,staticClass:"duty_matter_item",class:{"is-matched-mat":t.matchedMat}},[a("div",{staticClass:"matter_img"},[a("img",{attrs:{src:t.inventoryPic},on:{error:function(a){e.getDefaultImg(t)}}})]),e._v(" "),a("div",{staticClass:"matter_main",class:{"vux-1px-b":n<e.item.detailItem.length-1}},[a("div",{staticClass:"main_top"},[a("div",{staticClass:"matter_name"},[e._v(e._s(t.inventoryName))]),e._v(" "),a("div",{staticClass:"matter_units"},[a("div",[a("p",[e._v("编码: "+e._s(t.inventoryCode))]),e._v(" "),a("p",[a("span",[e._v("规格: "+e._s(t.specification_outPutMatCode||t.specification||"无"))]),e._v(" "),a("span",[e._v("单位: "+e._s(t.measureUnit_outPutMatCode||t.measureUnit||t.assMeasureUnit||"无"))])])]),e._v(" "),a("div",{staticClass:"matter_num_part"},[e.noQty||null==t.assistQty?e._e():a("p",{staticClass:"mater_count"},[a("span",{staticClass:"symbol"},[e._v("x")]),e._v(e._s(e._f("toFixed")(t.assistQty))+"\n                ")]),e._v(" "),e.noQty||null!=t.assistQty?e._e():a("p",{staticClass:"mater_count"},[a("span",{staticClass:"symbol"},[e._v("x")]),e._v(e._s(e._f("toFixed")(t.tdQty))+"\n                ")])])]),e._v(" "),e.noPrice?e._e():a("div",{staticClass:"matter_price_part"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("toFixed")(t.price))+"\n            ")])])])]):e._e()}),0)]),e._v(" "),a("div",{staticClass:"order-count vux-1px-b"},[!e.noCount&&e.isDealerWarehouse?[a("div",{staticClass:"num"},[a("div",[a("span",[e._v("共"+e._s(e.item.itemCount)+"类商品")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.item.totalQty,expression:"item.totalQty"}]},[e._v("合计"+e._s(e.item.totalQty)+"件")])]),e._v(" "),a("div",{staticClass:"money"},[e._v("\n          价税小计："),a("span",{staticClass:"symbol"},[e._v("￥")]),a("span",{staticClass:"tdAmount"},[e._v(e._s(e._f("numberComma")(e._f("toFixed")(e.item.count),3)))])])])]:[a("div",{staticClass:"num"},[a("span",[e._v("共"+e._s(e.item.itemCount)+"类商品")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.item.totalQty,expression:"item.totalQty"}]},[e._v("合计"+e._s(e.item.totalQty)+"件")])]),e._v(" "),e.noCount?e._e():a("div",{staticClass:"money"},[e._v("\n        价税小计："),a("span",{staticClass:"symbol"},[e._v("￥")]),a("span",{staticClass:"tdAmount"},[e._v(e._s(e._f("numberComma")(e._f("toFixed")(e.item.count),3)))])])],e._v(" "),e.isDealerWarehouse?a("div",{staticClass:"order_biProStatus"},[e._v(e._s(e.item.biProcessStatus||"暂无流程"))]):e._e()],2),e._v(" "),e.istransCodeBottom?a("div",{staticClass:"transcode-part vux-1px-b"},[a("label",[e._v("交易号：")]),e._v(" "),a("span",[e._v(e._s(e.item.transCode))])]):e._e(),e._v(" "),a("div",{staticClass:"duty-creator"},[a("p",{staticClass:"order_handler"},[a("label",[e._v("经办人：")]),e._v(" "),a("span",[e._v(e._s(e.item.handlerName))])]),e._v(" "),a("p",{staticClass:"order_handler"},[a("label",[e._v("修改时间：")]),e._v(" "),a("span",[e._v(e._s(e.item.modTime))])])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.item.itemCount>3,expression:"item.itemCount > 3"}],staticClass:"tips-part"},[a("span",[e._v("查看全部 "+e._s(e.item.itemCount)+" 条信息")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},uvT0:function(e,t,a){"use strict";function n(e){a("Y86X")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("9dj2");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("/TT8"),s=a.n(o),l=a("ijRs"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-033f1914",null);t.default=c.exports},"uy+h":function(e,t){},uzoC:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HXPS"),i=n(r),o=a("9r/T"),s=a("87dP"),l=n(s);t.default={name:"RSearch",props:{isFill:{type:Boolean,default:!1},filterList:{type:Array,default:function(){return[]}},placeHolder:{type:String,default:""}},watch:{isShowDrop:{handler:function(e){var t=this;this.$event.$on("shut-down-filter",function(e){t.isShowDrop=e,t.$event.$off("shut-down-filter")})}}},data:function(){return{srhInpTx:"",timer:null,property:"",isShowDrop:!1}},components:{Icon:i.default,RDropdown:l.default},methods:{getValue:function(e){var t=this;(0,o.setTimeout)(function(){t.srhInpTx=e.target.value,t.isFill&&!t.srhInpTx&&t.$emit("search",{val:t.srhInpTx,property:t.property})},0)},searchMat:function(e){if(this.isFill&&!e)return this.isShowDrop=!1,void this.$emit("turn-off",!1);this.$emit("search",{val:this.srhInpTx,property:this.property}),document.activeElement.blur(),this.isShowDrop=!1},clear:function(){this.srhInpTx="",this.$emit("search",{val:this.srhInpTx,property:this.property})},popSelected:function(e){this.property=e.value,this.$refs.searchInp.focus()},clearVal:function(){this.srhInpTx=""}}}},"v/5J":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Iu/6"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={name:"loading",data:function(){return{show:!1}},components:{Spinner:r.default}}},v1GD:function(e,t){},v1k0:function(e,t){},v1zY:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("MgeX"),i=n(r),o=a("HzJ8"),s=n(o),l=a("a3Yh"),d=n(l),u=a("3cXf"),c=n(u),f=a("4YfN"),h=n(f),m=a("BGNQ"),v=n(m),p=a("z5TY"),C=n(p),y=a("SAzG"),_=n(y),g=a("PzEQ"),b=n(g),w=a("0AQX"),I=a("HyXB"),D=a("bKg5"),x=n(D),P=a("Pkp+"),S=n(P),k=a("+WR7"),L=n(k),N=a("N2r1"),M=n(N),T=a("lsbD"),A=n(T),O=a("Qg39"),R=a("zWMP");t.default={data:function(){return{costList:[{}],formData:{biId:"",biComment:""},biReferenceId:"",showCostPop:!1,selectedCost:[],costIndex:null}},components:{Cell:v.default,Group:C.default,XInput:_.default,XTextarea:b.default,RPicker:S.default,PopBaseinfo:L.default,PopCostList:M.default,OpButton:A.default},mixins:[x.default],watch:{costList:{handler:function(e){var t=0;e.forEach(function(e){e.tdAmount&&(t=(0,R.accAdd)(t,e.tdAmount))}),this.tdAmount=(0,O.toFixed)(t)},deep:!0},departId:{handler:function(e,t){this.matterParams.data&&null!=this.matterParams.data.groupId&&(this.matterParams.data.groupId=e),t&&(this.costList=[{}])}}},computed:{departId:function(){return this.formData.handlerUnit}},methods:{addCost:function(){this.costList.push({})},deleteCost:function(e){this.costList.splice(e,1)},getCost:function(e,t){if(this.showCostPop=!0,this.costIndex=t,!e.costName_expCode)return void(this.selectedCost=[]);this.selectedCost=[e]},selMatter:function(e){this.selectedCost.push(e);var t=(0,h.default)({},this.costList[this.costIndex],e,{costName_expCode:e.costName,expCode:e.costCode,costType_expCode:e.costType,expSubject:e.costSubject});this.$set(this.costList,this.costIndex,(0,h.default)({},t))},checkAmt:function(e,t,a){e[t]=Math.abs((0,O.toFixed)(a))},submitOrder:function(){var e=this,t="",a=[],n=!0,r=!1,i=void 0;try{for(var o,l=(0,s.default)(this.costList);!(n=(o=l.next()).done);n=!0){var u=o.value,f={},m=!0,v=!1,p=void 0;try{for(var C,y=(0,s.default)(this.submitMatterField);!(m=(C=y.next()).done);m=!0){var _=C.value;if(!_.hidden&&!_.allowBlank&&!u[_.fieldCode]){t=_.text+"不为空";break}f[_.fieldCode]=null!=u[_.fieldCode]?u[_.fieldCode]:null}}catch(e){v=!0,p=e}finally{try{!m&&y.return&&y.return()}finally{if(v)throw p}}a.push(f)}}catch(e){r=!0,i=e}finally{try{!n&&l.return&&l.return()}finally{if(r)throw i}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=I.saveAndStartWf;delete e.formData.userCode;var n=(0,h.default)({},e.formData,{handlerEntity:e.entity.dealerName,order:{dataSet:a}}),r={listId:e.listId,biComment:"",formData:(0,c.default)(n),wfPara:(0,c.default)((0,d.default)({},e.processCode,{businessKey:e.businessKey,createdBy:n.creator}))};e.isResubmit&&(t=I.saveAndCommitTask,r.biReferenceId=e.biReferenceId,r.wfPara=(0,c.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=I.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,w.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,s=void 0===o?[]:o;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=s;var l=i.order;e.handlerDefault={handler:i.handler,handlerName:i.handlerName,handlerUnit:i.handlerUnit,handlerUnitName:i.handlerUnitName,handlerRole:i.handlerRole,handlerRoleName:i.handlerRoleName},e.formData=(0,h.default)({},e.handlerDefault,{biComment:i.biComment,biId:i.biId,biProcessStatus:i.biProcessStatus,creator:i.creator,modifer:i.modifer}),e.costList=[],l.dataSet.forEach(function(t){e.costList.push((0,h.default)({},t,{tdId:t.tdId,costName:t.costName_expCode,costCode:t.expCode,costSubject:t.expSubject,costType:t.costType_expCode}))}),e.matterParams.data&&null!=e.matterParams.data.groupId&&(e.matterParams.data.groupId=e.formData.handlerUnit),e.biReferenceId=i.biReferenceId,e.$loading.hide()})},hasDraftData:function(){if((0,i.default)(this.costList[0]).length)return(0,d.default)({},"FYBX_DATA",{costList:this.costList,formData:this.formData})},getDate:function(e,t){var a=this;this.$vux.datetime.show({value:"",confirmText:"确认",cancelText:"取消",onConfirm:function(n){if(null==e[t.fieldCode])return void a.$set(e,t.fieldCode,n);e[t.fieldCode]=n}})},splitConfig:function(e,t){t.editPart=e}},created:function(){var e=sessionStorage.getItem("FYBX_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.costList=t.costList,sessionStorage.removeItem("FYBX_DATA")}}}},v2Hn:function(e,t){},v2Jc:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("BGNQ"),s=n(o),l=a("z5TY"),d=n(l),u=a("iR2W"),c=n(u),f=a("jLp1"),h=a("+VRO"),m=n(h),v=a("zWMP"),p=a("BUFe"),C=n(p);t.default={data:function(){return{jobLog:{},comment:{}}},filters:{timeSplit:function(e){return e?e.split(" ")[0]:""}},mixins:[m.default],components:{Group:d.default,Cell:s.default,RAction:C.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,f.jobLog)(t).then(function(t){var a=t.formData,n=void 0===a?{}:a,r=t.attachment,o=void 0===r?[]:r;e.jobLog=n.jobLog,e.attachment=o,e.comment=n.comment,e.orderInfo=(0,i.default)({},n.baseinfo,n.comment,{biStatus:"已生效"})})},numberComma:function(e){return e||0===e?(0,c.default)(e):"无"},percent:function(e){return e||0===e?(0,v.accMul)(e,100)+"%":"无"}},created:function(){}}},v3Wb:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("project-part",{attrs:{"project-info":e.orderInfo.order}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_part"},[e._m(0),e._v(" "),a("div",{staticClass:"form_content"},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"供应商名称",cellContent:e.dealerInfo.dealerName_dealerDebit,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"供应商编码",cellContent:e.dealerInfo.dealerDebit}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来关系标签",cellContent:e.dealerInfo.drDealerLabel}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来余额",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.thenAmntBalCopy1),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次申请",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.applicationAmount),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次支付",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.tdAmountCopy1),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次支付后余额",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.differenceAmount),3),showSymbol:""}})],1)])]),e._v(" "),a("div",{staticClass:"form_part"},[e._m(1),e._v(" "),e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"form_content",class:{show_border:n!==e.listData.length-1}},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"协议号",cellContent:t.transMatchedCode,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"总金额",cellContent:e._f("numberComma")(e._f("toFixed")(t.thenTotalAmntBal),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"采购定金",cellContent:e._f("numberComma")(e._f("toFixed")(t.differenceAmountCopy1),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"已付定金",cellContent:e._f("numberComma")(e._f("toFixed")(t.thenAlreadyAmnt),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"待付定金",cellContent:e._f("numberComma")(e._f("toFixed")(t.thenAmntBalCopy2),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次申请",cellContent:e._f("numberComma")(e._f("toFixed")(t.applicationAmount),3),showSymbol:""}}),e._v(" "),e.isAccount?a("x-input",{attrs:{type:"number",title:"本次支付",value:e.dealerInfo.tdAmountCopy1,"text-align":"right"},on:{"on-focus":e.getFocus,"on-blur":function(t){e.calcPayment(e.dealerInfo)}},model:{value:e.dealerInfo.tdAmountCopy1,callback:function(t){e.$set(e.dealerInfo,"tdAmountCopy1",e._n(t))},expression:"dealerInfo.tdAmountCopy1"}}):a("form-cell",{attrs:{cellTitle:"本次支付",cellContent:e._f("numberComma")(e._f("toFixed")(t.tdAmountCopy1),3),showSymbol:""}})],1)])})],2),e._v(" "),e.isCashier?a("pop-cash-list",{attrs:{"default-value":e.cashInfo,request:"1",params:e.cashParams,required:""},on:{"sel-item":e.selCash}},[a("template",{slot:"other"},[a("form-cell",{attrs:{cellTitle:"本次支付",cellContent:e._f("numberComma")(e._f("toFixed")(e.cashInfo.tdAmount),3),showSymbol:""}})],1)],2):e.isApproval||e.isAccount?e._e():a("div",{staticClass:"form_part"},[a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("供资金详情")])]),e._v(" "),a("div",{staticClass:"form_content"},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"资金账户",cellContent:e.cashInfo.fundName_cashOutCode,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"资金编码",cellContent:e.cashInfo.cashOutCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"资金账户类型",cellContent:e.cashInfo.cashType_cashOutCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"账户余额",cellContent:e._f("numberComma")(e._f("toFixed")(e.cashInfo.thenAmntBal),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"支付金额",cellContent:e._f("numberComma")(e._f("toFixed")(e.cashInfo.tdAmount),3),showSymbol:""}})],1)])]),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,"agree-handler":e.agreeHandler,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("供应商详情")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("定金列表")])])}],i={render:n,staticRenderFns:r};t.a=i},v4O2:function(e,t,a){"use strict";function n(e){a("nRcV")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("6B8Z");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("iC32"),s=a.n(o),l=a("NFYK"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-bb1f4214",null);t.default=c.exports},v6k2:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages cpxq-list-container",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"instance-item-wrapper",class:{visited:t.visited},on:{click:function(a){e.goDetail(t,n)}}},[a("div",{staticClass:"instance-header"},[a("span",{staticClass:"instance_code vux-1px-l"},[e._v(e._s(t.transCode))]),e._v(" "),a("span",{staticClass:"instance_status",class:t.statusClass},[e._v(e._s(t.biStatus))])]),e._v(" "),a("div",{staticClass:"instance-main"},[a("i",{staticClass:"icon icon-send"}),e._v(" "),a("div",{staticClass:"instance_info_wrapper"},[a("div",{staticClass:"instance_header_wrapper"},[a("span",{staticClass:"instance_header"},[e._v(e._s(t.launchTitle))]),e._v(" "),a("span",{staticClass:"instance_process_status"},[e._v(e._s(t.biProcessStatus||"暂无流程"))])]),e._v(" "),a("div",{staticClass:"instance_detail"},[a("div",{staticClass:"instance_detail_item"},[a("i",{staticClass:"icon icon-handler"}),e._v(" "),a("span",[e._v("经办人："+e._s(t.handlerName))])]),e._v(" "),a("div",{staticClass:"instance_detail_item"},[a("i",{staticClass:"icon icon-mod-time"}),e._v(" "),a("span",[e._v("修改时间："+e._s(e._f("dateFormat")(t.modTime,"YYYY-MM-DD HH:mm")))])])])])])])}),0)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},v6z6:function(e,t){},v8BB:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("IHPB"),s=n(o),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),h=n(f),m=a("HyXB"),v=a("1KNX"),p=n(v),C=a("7biW"),y=n(C);t.default={name:"PopUserList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:h.default,RScroll:p.default,RSearch:y.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},listData:[],limit:100,page:1,hasNext:!0,scrollOptions:{pullUpLoad:!0},filterProperty:"",filterList:[{name:"姓名",value:"nickname"},{name:"工号",value:"userCode"}]}},watch:{show:{handler:function(e){this.showPop=e},immediate:!0},defaultValue:{handler:function(e){this.selItems=(0,d.default)({},this.defaultValue)},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){return this.selItems.userCode===e.userCode},selThis:function(e,t){this.selItems=(0,d.default)({},e),this.$emit("sel-item",(0,d.default)({},e)),this.$emit("input",!1)},getDefaultImg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.gender,n=void 0===t?"":t,r=a("男"===n?"Fuf7":"0gu7");return e&&(e.photo=r),r},getUserList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,s.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,m.getUserList)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,i.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r,o={1:{text:"使用中",class:"inUse"},2:{text:"未使用",class:"unUse"},3:{text:"草稿",class:"offUse"},"-1":{text:"停用",class:"offUse"}};i.forEach(function(t){var a=o[t.status]||{};t.photo=t.photo||e.getDefaultImg(t),t.statusText=a.text,t.statusClass=a.class}),e.hasNext=n>(e.page-1)*e.limit+i.length,e.listData=1===e.page?i:[].concat((0,s.default)(e.listData),(0,s.default)(i)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,r=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=r,this.resetCondition(),this.getUserList()},onPullingUp:function(){this.page++,this.getUserList()},resetCondition:function(){this.listData=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0)}},created:function(){this.getUserList()}}},vGnC:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"vux-flexbox-item",style:e.style},[e._t("default")],2)},r=[],i={render:n,staticRenderFns:r};t.a=i},vJe9:function(e,t,a){"use strict";function n(e){a("bJ8o")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("aP/0");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("DQPj"),s=a.n(o),l=a("fbx5"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-0c4e1958",null);t.default=c.exports},vRF1:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages cpxq-list-container"},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"each_duty",class:{visited:t.visited},on:{click:function(a){e.goDetail(t,n)}}},[a("div",{staticClass:"duty_top"},[a("p",{staticClass:"duty_code"},[e._v("\n            "+e._s(t.transCode)+"\n            "),t.biProcessStatus?a("span",{staticClass:"duty_crt_man"},[e._v(e._s(t.biProcessStatus))]):e._e()]),e._v(" "),a("span",{staticClass:"duty_status",class:t.statusClass},[e._v(e._s(t.statusName))]),e._v(" "),a("i",{staticClass:"iconfont",class:t.whichIcon})]),e._v(" "),a("div",{staticClass:"duty_content"},[a("div",{staticClass:"content_title"},[e._v(e._s(t.profileName))]),e._v(" "),a("div",{staticClass:"content_step vux-1px-b"},[a("div",[e._v("手机号: "+e._s(t.profileContact))]),e._v(" "),a("div",[e._v("入职时间: "+e._s(e._f("dateFormat")(t.entryDate,"YYYY-MM-DD")))])])]),e._v(" "),a("div",{staticClass:"order_count"},[t.handlerName?a("div",{staticClass:"handle_man"},[e._v("\n            "+e._s(t.handlerName)),a("span",{staticStyle:{fontSize:".1rem"}},[e._v("[经办人]")])]):e._e()])])}),0)],1),e._v(" "),a("div",{staticClass:"btn vux-1px-t"},[a("div",{staticClass:"cfm_btn",on:{click:e.goEdit}},[e._v("新增")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},vS5q:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.filterFields=t.getLeaveDetailItem=t.getWareHouseType=t.getObjWarehouseRel=t.getWarehouse=t.getAuthorizedList=t.getDashboard=t.getNBJGLLOrderList=t.getBusinessList=t.getMaterOrderList=t.getSalesOrderList=t.getSellOrderList=t.getList=void 0;var r=a("4YfN"),i=n(r),o=a("GOq4"),s=n(o),l=t.getList=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.default.ajax({url:"/H_roleplay-si/seconds/getReportInfoByListViewId/"+e,data:t})},d=t.getSellOrderList=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.default.ajax({url:"/H_roleplay-si/seconds/mergeDetailItemList/"+e,data:t})},u=(t.getSalesOrderList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getSalesOutStock",data:(0,i.default)({_dc:Date.now()},e)})},t.getMaterOrderList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getInvRequirePlan",data:(0,i.default)({_dc:Date.now()},e)})},t.getBusinessList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getFilterBusiness",data:e})}),c=(t.getNBJGLLOrderList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getProcessingPicking",data:e})},t.getDashboard=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getSellOrderStatement",data:e})});t.getAuthorizedList=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return s.default.ajax({url:"/H_roleplay-si/ds/getAllGroup",data:{_dc:Date.now(),page:1,start:0,limit:1e4}})},t.getWarehouse=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getObjWarehouse",data:(0,i.default)({_dc:Date.now()},e)})},t.getObjWarehouseRel=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getObjWarehouseRel",data:(0,i.default)({_dc:Date.now()},e)})},t.getWareHouseType=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/ds/getWareHouseType",data:(0,i.default)({_dc:Date.now()},e)})},t.getLeaveDetailItem=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.ajax({url:"/H_roleplay-si/mobile/getLeaveDetailItem",data:(0,i.default)({_dc:Date.now()},e)})},t.filterFields=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return s.default.ajax({url:"/H_roleplay-si/seconds/getInstanceDistinct/"+e})};t.default={getList:l,getSellOrderList:d,getBusinessList:u,getDashboard:c}},"vT2+":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("kNGm"),s=n(o),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),h=a("AupE"),m=n(h),v=a("kKsb"),p=n(v),C=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70"}},mixins:[u.default],components:{workFlow:m.default,RAction:f.default,ProjectPart:p.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=!0,r=!1,o=void 0;try{for(var l,d=(0,i.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;e.count=(0,C.accAdd)(e.count,u.tdAmount)}}catch(e){r=!0,o=e}finally{try{!n&&d.return&&d.return()}finally{if(r)throw o}}t.formData.validUntil=(0,s.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},"vUB/":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.inPut?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.contactInfo,configs:e.dealerConfig}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"order-list":e.orderList,"order-title":e.orderTitle},on:{"on-show-more":e.onShowMore}}),e._v(" "),a("other-part",{attrs:{"other-info":e.orderInfo,amt:e.noTaxAmount,"tax-amt":e.taxAmount,count:e.count,attachment:e.attachment}}),e._v(" "),a("pop-matter-detail",{attrs:{show:e.showMatterDetail,item:e.matterDetail},model:{value:e.showMatterDetail,callback:function(t){e.showMatterDetail=t},expression:"showMatterDetail"}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[],i={render:n,staticRenderFns:r};t.a=i},vVHi:function(e,t){},"vW/T":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("hRKE"),i=n(r),o=a("4YfN"),s=n(o),l=a("BGNQ"),d=n(l),u=a("7g+Q"),c=n(u),f=a("rDF8"),h=n(f),m=a("GM4P"),v=n(m),p=a("803w"),C=n(p),y=a("+62G"),_=n(y),g=a("qZvt"),b=n(g),w=(0,C.default)();delete w.value,t.default={name:"popup-radio",components:{Popup:c.default,Radio:h.default,Cell:d.default},directives:{TransferDom:_.default},props:(0,s.default)({placeholder:String,readonly:Boolean},w,(0,v.default)()),computed:{displayValue:function(){var e=this;if(!this.options.length)return"";if("object"===(0,i.default)(this.options[0])){var t=(0,b.default)(this.options,function(t){return t.key===e.currentValue});if(t)return t.value}return this.currentValue}},methods:{onValueChange:function(e){this.hide()},show:function(){this.readonly||(this.showPopup=!0)},hide:function(){this.showPopup=!1}},watch:{value:function(e){this.currentValue=e},currentValue:function(e){this.$emit("input",e),this.$emit("on-change",e)}},data:function(){return{showPopup:!1,currentValue:this.value}}}},"vW5/":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("IHPB"),i=n(r),o=a("3cXf"),s=n(o),l=a("+62G"),d=n(l),u=a("7g+Q"),c=n(u),f=a("z5TY"),h=n(f),m=a("HXPS"),v=n(m),p=a("d5Kw"),C=n(p),y=a("kNGm"),_=(n(y),a("1KNX")),g=n(_),b=a("I8ug"),w=a("9r/T");t.default={name:"ChangeLog",props:{handle:{type:Boolean,default:!1}},data:function(){return{page:1,limit:10,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},mySwiper:null,popupShow:!1,adminCommentList:[],listId:"a4897429-f4f2-44a4-ade7-2fe8dc67c3cf",scrollHeight:0,seletedIndex:null}},directives:{TransferDom:d.default},components:{Popup:c.default,Group:h.default,Icon:v.default,XButton:C.default,RScroll:g.default},methods:{onShow:function(){var e=this;this.$nextTick(function(){if(e.$refs.bScroll){e.$refs.bScroll.refresh();var t=e.$refs.bScroll.$refs.bScroll.offsetHeight,a=e.$refs.bScroll.$refs.scrollWrapper.offsetHeight,n=a-t;a>t&&(e.scrollHeight>n&&(e.scrollHeight=n),e.$refs.bScroll.scrollTo(0,-e.scrollHeight))}}),(0,w.setTimeout)(function(){e.seletedIndex=null},1e3)},getUserDefault:function(e){var t=a("Fuf7");return e&&(e.photo=t),t},getMoreComment:function(){this.popupShow=!0,this.scrollHeight=0},goPop:function(e){var t=this;this.seletedIndex=e,this.popupShow=!0,this.scrollHeight=0,this.$nextTick(function(){0!==e&&t.$refs.eachComment.forEach(function(a,n){n<e&&(t.scrollHeight+=a.offsetHeight)})})},getAdminComment:function(){var e=this;return(0,b.getAdminCommentList)({listId:this.listId,limit:this.limit,page:this.page,sort:(0,s.default)([{property:"crtTime",direction:"DESC"}])}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,o=void 0===r?[]:r;e.hasNext=n>(e.page-1)*e.limit+o.length,o.forEach(function(e){e.achievement.includes("<")&&!e.achievement.includes("img")?(e.modifyAchievement=e.achievement.replace(/<\/?[^>]*>/g,""),e.modifyAchievement=e.modifyAchievement.replace(/\s+/g,"</br>")):e.modifyAchievement=e.achievement,e.chance.includes("<")&&!e.chance.includes("img")?(e.modifyChance=e.chance.replace(/<\/?[^>]*>/g,""),e.modifyChance=e.modifyChance.replace(/\s+/g,"</br>")):e.modifyChance=e.chance}),e.adminCommentList=1===e.page?o:[].concat((0,i.default)(e.adminCommentList),(0,i.default)(o)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},onPullingUp:function(){this.page++,this.getAdminComment()},closePop:function(){this.popupShow=!1},EditAdmin:function(){this.$router.push({path:"/appDetail/"+this.listId+"/addAdminComment"})}},created:function(){var e=this.$route.params.listId;e&&(this.listId=e,this.getAdminComment())},mounted:function(){var e=this.Swiper;this.mySwiper=new e(".admin-comment-container",{slidesPerView:"auto",observer:!0,observeParents:!0,centeredSlides:!0})}}},vWgl:function(e,t,a){"use strict";function n(e){a("gyCQ")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("rLJd");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("fu+O"),s=a.n(o),l=a("tmpk"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-502daa73",null);t.default=c.exports},vd51:function(e,t){},"vfg+":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("SAzG"),i=n(r),o=a("iR2W"),s=(n(o),a("7g+Q")),l=n(s),d=a("1KNX"),u=n(d),c=a("Qg39");t.default={name:"PopMatterDetail",props:{show:{type:Boolean,default:!1},item:{type:Object,default:function(){return{}}},btnIsHide:{type:Boolean,default:!1},checkAmt:{type:Function,default:function(e,t,a){e[t]=Math.abs((0,c.toFixed)(a))}}},components:{Popup:l.default,RScroll:u.default,XInput:i.default},data:function(){return{showPop:!1,editParts:[],readOnlyParts:[]}},computed:{hasDate:function(){var e=this.item.dates,t=void 0===e?[]:e;return t&&t.length},hasEditPart:function(){return!!this.editParts.length}},watch:{show:{handler:function(e){this.showPop=e},immediate:!0},showPop:{handler:function(e){this.$emit("input",e)},immediate:!0},item:{handler:function(e){var t=e.others,a=void 0===t?[]:t,n=[],r=[];a.forEach(function(e){if(e.r2GridXtype&&!e.r2GridXtype.readOnly)return void(e.readOnly?r.push(e):n.push(e));r.push(e)}),this.editParts=n,this.readOnlyParts=r},immediate:!0,deep:!0}},methods:{getMatterDefault:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},hidePop:function(){this.showPop=!1},confirm:function(){var e="",t=this.item;if(this.editParts.every(function(a){var n=t[a.fieldCode];return a.allowBlank||n||0===n?(t[a.fieldCode]=n,!0):(e=a.text+"不能为空",!1)}),e)return void this.$vux.alert.show({content:e});this.$emit("on-confirm",t),this.showPop=!1},getFocus:function(e){event.currentTarget.select()}}}},vhi9:function(e,t){},vj7a:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("3cXf"),s=n(o),l=a("4YfN"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),h=n(f),m=a("SAzG"),v=n(m),p=a("u28h"),C=n(p),y=a("PzEQ"),_=n(y),g=a("kNGm"),b=(n(g),a("0AQX"),a("HyXB")),w=a("bKg5"),I=n(w),D=a("vl8n"),x=n(D),P=a("+WR7"),S=n(P);t.default={data:function(){return{listId:"223f9387-d2d7-11e8-b8ca-0279b2c6a380",formData:{biId:"",biComment:"",biProcessStatus:""},biReferenceId:"",MobileWarn:!1,idCardWarn:!1}},components:{Cell:c.default,Group:h.default,XInput:v.default,Datetime:C.default,XTextarea:_.default,RPicker:x.default,PopBaseinfo:S.default},mixins:[I.default],methods:{checkMobile:function(){var e=/^[1][3,4,5,7,8][0-9]{9}$/;if(this.formData.profileContact&&!e.test(this.formData.profileContact))return void(this.MobileWarn=!0);this.MobileWarn=!1},checkIdCard:function(){var e=/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/;if(this.formData.idCard&&!e.test(this.formData.idCard))return void(this.idCardWarn=!0);this.idCardWarn=!1},submitOrder:function(){var e=this,t="",a=[{key:"profileName",message:"员工"},{key:"idCard",message:"身份证号"}];if(t||a.every(function(a){return!!e.formData[a.key]||(t="请填写"+a.message,!1)}),!t&&this.MobileWarn&&(t="联系方式格式不正确"),!t&&this.idCardWarn&&(t="身份证号格式不正确"),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=b.saveAndStartWf,a=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName}),n={listId:e.listId,biComment:"",formData:(0,s.default)(a)};e.isResubmit&&(t=b.saveAndCommitTask,n.biReferenceId=e.biReferenceId,n.wfPara=(0,s.default)({businessKey:e.transCode,createdBy:e.formData.creator||e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=b.submitAndCalc,delete n.wfPara,delete n.biReferenceId),e.biReferenceId&&(n.biReferenceId=e.biReferenceId),e.saveData(t,n)}})},hasDraftData:function(){var e=this.formData;if(e.profileName||e.idCard)return(0,i.default)({},"YGDA_DATA",{formData:e})}},created:function(){var e=sessionStorage.getItem("YGDA_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,sessionStorage.removeItem("YGDA_DATA")}}}},vl8n:function(e,t,a){"use strict";function n(e){a("IMPq")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("KnX9");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("u+pL"),s=a.n(o),l=a("LOzK"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-77f250b1",null);t.default=c.exports},vmwj:function(e,t,a){"use strict";function n(e){a("gRka")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("S4+1");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("ij6Q"),s=a.n(o),l=a("DkVH"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-eb9b08da",null);t.default=c.exports},vrxI:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=a("a3Yh"),s=n(o),l=a("3cXf"),d=n(l),u=a("BGNQ"),c=n(u),f=a("z5TY"),h=n(f),m=a("SAzG"),v=n(m),p=a("7g+Q"),C=n(p),y=a("PzEQ"),_=n(y),g=a("jnZd"),b=n(g),w=a("u28h"),I=n(w),D=a("kNGm"),x=n(D),P=a("iR2W"),S=n(P),k=a("0AQX"),L=a("HyXB"),N=(a("jLp1"),a("bKg5")),M=n(N),T=a("wuIh"),A=n(T),O=a("CKaN"),R=n(O),j=a("vl8n"),B=n(j),E=a("+WR7"),F=n(E),U=(a("zWMP"),a("Qg39"));t.default={mixins:[M.default],components:{Cell:c.default,Group:h.default,Popup:C.default,XInput:v.default,XTextarea:_.default,PopupPicker:b.default,RPicker:B.default,PopBaseinfo:F.default,PopMoneyOrderList:A.default,Datetime:I.default,PopCashList:R.default},data:function(){return{listId:"bb9ce973-2f62-4707-a54c-7e8605dc99d6",biReferenceId:"",selectedCost:[],costIndex:0,transCode:"",formData:{biComment:"",biProcessStatus:""},showOrder:!1,orderList:[],cashInfo:{}}},filters:{numberComma:S.default,dateFormat:x.default},methods:{submitOrder:function(){var e=this,t="",a=[];if(t||this.orderList.length||(t="请选择汇票明细"),t||this.cashInfo.fundName||(t="请选择资金账户"),t||this.cashInfo.tdAmount||(t="请填写支付金额"),t)return void this.$vux.alert.show({content:t});this.orderList.every(function(e){a.push({tdId:e.tdId||null,draftNumber:e.draftNumber,draftType:e.draftType,accepter:e.accepter,tdAmount:e.tdAmount,deposit:e.deposit,draftDate:e.draftDate,draftDueDate:e.draftDueDate,comment:e.comment||""})}),this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=L.saveAndStartWf,n=(0,s.default)({},e.processCode,{businessKey:e.businessKey,createdBy:(0,d.default)(e.formData.handler)});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:e.formData.biComment,formData:(0,d.default)((0,i.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.transCode?e.formData.handler:"",modifer:e.transCode?e.formData.handler:"",outPut:{dataSet:[{fundName_cashOutCode:e.cashInfo.fundName,cashOutCode:e.cashInfo.fundCode,cashType_cashOutCode:e.cashInfo.fundType,thenAmntBal:e.cashInfo.thenAmntBal,tdAmount:e.cashInfo.tdAmount}]},order:{dataSet:a}})),wfPara:(0,d.default)(n)};e.isResubmit&&(r.biReferenceId=e.biReferenceId,t=L.saveAndCommitTask),e.processCode.length||(t=L.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,k.getSOList)({formViewUniqueId:this.uniqueId,transCode:this.transCode}).then(function(t){var a=t.attachment,n=void 0===a?[]:a,r=t.listId,o=void 0===r?"":r,s=(t.biComment,t.biReferenceId),l=void 0===s?"":s,d=t.formData,u=void 0===d?{}:d;e.attachment=n,e.listId=o,e.biReferenceId=l,e.handlerDefault={handler:u.handler,handlerName:u.handlerName,handlerUnit:u.handlerUnit,handlerUnitName:u.handlerUnitName,handlerRole:u.handlerRole,handlerRoleName:u.handlerRoleName},e.formData=(0,i.default)({},e.formData,e.handlerDefault,{biComment:u.biComment,biId:u.biId,biProcessStatus:u.biProcessStatus,creator:u.creator,modifer:u.modifer});var c=u.order,f=void 0===c?{}:c,h=u.outPut,m=void 0===h?{}:h,v=f.dataSet,p=void 0===v?[]:v;e.cashInfo={fundName:m.dataSet[0].fundName_cashOutCode,fundCode:m.dataSet[0].cashOutCode,fundType:m.dataSet[0].cashType_cashOutCode,thenAmntBal:m.dataSet[0].thenAmntBal,amntBal:m.dataSet[0].thenAmntBal,tdAmount:m.dataSet[0].tdAmount},e.orderList=p,e.$loading.hide()})},hasDraftData:function(){return!!this.orderList.dealerCode&&(0,s.default)({},"DFCDHP_DATA",{formData:this.formData,cashInfo:this.cashInfo,orderList:this.orderList})},getRelationData:function(){},selOrder:function(e){e.forEach(function(e){e.draftDate=(0,x.default)(e.draftDate,"YYYY-MM-DD"),e.draftDueDate=(0,x.default)(e.draftDueDate,"YYYY-MM-DD"),e.tdAmount=e.amntTbMatched}),this.orderList=e},addOrder:function(){this.showOrder=!0},selCash:function(e){this.cashInfo=(0,i.default)({},e,{thenAmntBal:e.amntBal})},checkAmt:function(e){var t=e.tdAmount,a=e.thenAmntBal;t&&(t>a&&(t=a),e.tdAmount=Math.abs((0,U.toFixed)(t)))}},created:function(){var e=sessionStorage.getItem("DFCDHP_DATA");if(e){var t=JSON.parse(e);this.formData=t.formData,this.cashInfo=t.cashInfo,this.orderList=t.orderList,sessionStorage.removeItem("DFCDHP_DATA")}}}},vs4B:function(e,t){},vtaQ:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("0AQX"),s=a("+VRO"),l=n(s),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),h=a("3NX5"),m=n(h),v=a("d7ck"),p=n(v),C=a("zWMP");a("Qg39");t.default={data:function(){return{count:0,comment:"",orderList:[]}},mixins:[l.default],components:{workFlow:f.default,RAction:u.default,MatterList:m.default,FormCell:p.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,o.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,s=t.attachment,l=void 0===s?[]:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var d=[];o.order;e.attachment=l;var u=o.order.dataSet,c=!0,f=!1,h=void 0;try{for(var m,v=(0,i.default)(u);!(c=(m=v.next()).done);c=!0){var p=m.value;e.count=(0,C.accAdd)(e.count,p.tdAmount),p.inventoryPic=p.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+p.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),d.push(p)}}catch(e){f=!0,h=e}finally{try{!c&&v.return&&v.return()}finally{if(f)throw h}}e.orderList=d,e.orderInfo=o,e.workFlowInfoHandler()})}}}},vvIr:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("a3Yh"),s=n(o),l=a("ZLEe"),d=n(l),u=a("3cXf"),c=n(u),f=a("KH7x"),h=n(f),m=a("4YfN"),v=n(m),p=a("SAzG"),C=n(p),y=a("u28h"),_=(n(y),a("PzEQ")),g=n(_),b=a("kNGm"),w=(n(b),a("z5TY")),I=n(w),D=a("BGNQ"),x=n(D),P=a("0AQX"),S=a("HyXB"),k=a("bKg5"),L=n(k),N=a("y8YJ"),M=n(N),T=a("I5id"),A=n(T),O=a("luHD"),R=n(O),j=a("9cRV"),B=n(j),E=a("hLfv"),F=n(E),U=a("VZtf"),$=n(U),H=a("vl8n"),V=n(H),q=a("+WR7"),Q=n(q),Y=a("zWMP"),X=a("Qg39");t.default={name:"ApplySBCGYSForm",data:function(){return{listId:"64c5afbc-c075-11e8-85e2-b06ebfc41432",srhInpTx:"",orderList:{},matterList:[],transMode:["现付","预付","账期","票据"],showDealerPop:!1,dealerInfo:{},contactInfo:{},formData:{biId:"",biComment:""},submitSuccess:!1,taxRate:.16,numMap:{},transCode:"",formViewUniqueId:"fed81800-4c34-44a9-b517-c3fd9f2ab57d",biReferenceId:"",actions:[],taskId:"",showOrderPop:!1,tmpItems:{},facility:{},showMatterPop:!1,modifyIndex:null,modifyKey:null,filterList:[{name:"设施名称",value:"facilityName"},{name:"设施编码",value:"facilityCode"},{name:"订单号",value:"transCode"}],facilityParams:{},checkFieldList:[{key:"tdQty",message:"请填写本次验收数量"}]}},mixins:[L.default],components:{XInput:C.default,RNumber:$.default,XTextarea:g.default,Group:I.default,Cell:x.default,PopMatter:R.default,RPicker:V.default,PopDealerList:M.default,PopBaseinfo:Q.default,PopFacilityList:A.default,PopMatterList:B.default,DealerOtherPart:F.default},computed:{totalAmount:function(){var e=this,t=0;return this.matterList.forEach(function(a){e.simpleCalcMatter(a),t=(0,Y.accAdd)(t,a.noTaxAmount)}),Number(t)},taxAmount:function(){var e=0;return this.matterList.forEach(function(t){e=(0,X.toFixed)((0,Y.accAdd)(e,t.taxAmount))}),e},tdAmount:function(){return parseFloat((0,Y.accAdd)(this.totalAmount,Number(this.taxAmount)).toFixed(2))}},watch:{facility:{handler:function(e){this.simpleCalcMatter(e)},deep:!0}},methods:{selItem:function(e){this.formData=(0,v.default)({},this.formData,e)},selDealer:function(e){var t=JSON.parse(e),a=(0,h.default)(t,1),n=a[0];this.dealerInfo=(0,v.default)({},n),null!=this.matterParams.data.dealerCode&&(this.matterParams.data.dealerCode=this.dealerInfo.dealerCode,this.matterList=[],this.orderList={})},selContact:function(e){this.contactInfo=(0,v.default)({},e)},getMatterModify:function(e,t,a){this.facility=JSON.parse((0,c.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selMatter:function(e){var t=JSON.parse(e),a={};t.forEach(function(e){e.tdQty=e.tdQty||e.qtyBal,e.taxRate=.16,a[e.transCode]||(a[e.transCode]=[]),a[e.transCode].push(e)}),this.matterList=t,this.orderList=a},selConfirm:function(e){var t=this,a=JSON.parse(e);this.matterList.every(function(e,n){return a.transCode!==e.transCode||a.facilityCode!==e.facilityCode||(t.$set(t.matterList,n,a),!1)}),this.$set(this.orderList[this.modifyKey],this.modifyIndex,a)},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.facilityCode===t.facilityCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.facilityCode===e.facilityCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,c.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t=[];(0,d.default)(e.orderList).forEach(function(a){t=t.concat(e.orderList[a])}),e.selItems.forEach(function(a){t.forEach(function(t){if(t.facilityCode===a.facilityCode&&t.transCode===a.transCode){var n=e.orderList[t.transCode],r=n.findIndex(function(e){return e.facilityCode===t.facilityCode});r>=0&&(e.$refs.matter.delSelItem(n[r]),n.splice(r,1)),n.length||delete e.orderList[t.transCode]}}),e.matterList.forEach(function(t,n){t.facilityCode===a.facilityCode&&(e.matterList.splice(n,1),n--)})}),e.selItems=[],e.matterModifyClass=!1}})},addOrder:function(){this.showOrderPop=!this.showOrderPop},submitOrder:function(){var e=this,t="",a=[];if(this.dealerInfo.dealerCode||(t="请选择供应商信息"),t||this.matterList.length||(t="请选择设施"),t||this.matterList.every(function(n){if(!n.price)return t="单价不能为空",!1;if(!n.tdQty&&0!==n.tdQty)return t="数量不能为空",!1;var r=n.taxRate||e.taxRate,i=(0,Y.accMul)(n.price,n.tdQty,r),o={transMatchedCode:n.transCode,facilityObjCode:n.facilityCode,facilityType:n.facilityType,thenTotalQtyBal:n.qty,thenLockQty:n.purchased,thenQtyBal:n.qtyBal||0,tdQty:n.tdQty,price:n.price,taxRate:r,taxAmount:i,tdAmount:(0,Y.accAdd)((0,Y.accMul)(n.price,n.tdQty),i),comment:n.comment||""};return e.transCode&&(o.tdId=n.tdId||null),a.push(o),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=S.saveAndStartWf,n={},r=(0,s.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});n=(0,v.default)({},e.formData,{handlerEntity:e.entity.dealerName,creator:e.formData.handler,modifer:e.formData.handler,dealerCreditContactPersonName:e.contactInfo.dealerName||"",dealerCreditContactInformation:e.contactInfo.dealerMobilePhone||"",order:{dealerCodeCredit:e.dealerInfo.dealerCode,crDealerLabel:e.dealerInfo.dealerLabelName||"供应商",dataSet:a}}),e.transCode&&(t=S.saveAndCommitTask,r={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var i={listId:e.listId,biComment:"",biReferenceId:e.biReferenceId,formData:(0,c.default)(n),wfPara:(0,c.default)(r)};e.transCode||delete i.biReferenceId,e.processCode.length||(t=S.submitAndCalc,delete i.wfPara,delete i.biReferenceId),e.biReferenceId&&(i.biReferenceId=e.biReferenceId),e.saveData(t,i)}})},getFormData:function(){var e=this;return(0,P.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,s=t.attachment,l=void 0===s?[]:s;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=l;var d=o.order,u=(o.dealerDebit,d.dataSet),c=void 0===u?[]:u,f={},h=[],m=!0,p=!1,C=void 0;try{for(var y,_=(0,i.default)(c);!(m=(y=_.next()).done);m=!0){var g=y.value;g=(0,v.default)({},g,{transCode:g.transMatchedCode,inventoryPic:g.inventoryPic_facilityObjCode?"/H_roleplay-si/ds/download?url="+g.inventoryPic_facilityObjCode+"&width=400&height=400":e.getDefaultImg(),facilityName:g.facilityName_facilityObjCode,facilityCode:g.facilityObjCode,facilityBigType:g.facilityBigType_facilityObjCode,facilitySubclass:g.facilitySubclass_facilityObjCode,facilityUnit:g.facilityUnit_facilityObjCode,qty:g.thenTotalQtyBal,purchased:g.thenLockQty,qtyBal:g.thenQtyBal}),f[g.transCode]||(f[g.transCode]=[]),h.push(g),f[g.transCode].push(g)}}catch(e){p=!0,C=e}finally{try{!m&&_.return&&_.return()}finally{if(p)throw C}}e.dealerInfo={dealerName:d.dealerName_dealerCodeCredit,dealerMobilePhone:o.dealerCreditContactInformation,dealerCode:d.dealerCodeCredit,dealerLabelName:d.crDealerLabel,province:d.province_dealerCodeCredit,city:d.city_dealerCodeCredit,county:d.county_dealerCodeCredit,address:d.address_dealerCodeCredit},e.facilityParams={dealerCode:d.dealerCodeCredit},e.contactInfo={dealerName:o.dealerCreditContactPersonName,dealerMobilePhone:o.dealerCreditContactInformation},e.handlerDefault={handler:o.handler,handlerName:o.handlerName,handlerUnit:o.handlerUnit,handlerUnitName:o.handlerUnitName,handlerRole:o.handlerRole,handlerRoleName:o.handlerRoleName},e.formData=(0,v.default)({},e.formData,e.handlerDefault,{creator:o.creator,biId:o.biId,biComment:o.biComment}),e.biReferenceId=o.biReferenceId,e.matterList=h,e.orderList=f,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,s.default)({},"SBCGYS_DATA",{matter:this.matterList,dealer:this.dealerInfo,formData:this.formData,contactInfo:this.contactInfo})},getRelationData:function(){var e=this,t=this.$route.query.uniqueId;return(0,P.getSOList)({formViewUniqueId:t,transCode:this.relationKey}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r;t.attachment;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});var o=i.order,l=(i.dealerDebit,o.dataSet),d=void 0===l?[]:l;d=d.map(function(t){return(0,v.default)({},t,{inventoryPic:t.inventoryPic_facilityObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_facilityObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_facilityObjCode,facilityCode:t.inventoryCode_facilityObjCode,specification:t.specification_facilityObjCode,measureUnit:t.measureUnit_facilityObjCode,transCode:e.relationKey,qtyBal:t.tdQty,tdQty:""})}),e.dealerInfo={creatorName:i.dealerDebitContactPersonName,dealerMobilePhone:i.dealerDebitContactInformation,dealerCode:i.order.dealerDebit,dealerSubclass:i.order.drAccountSub,dealerName:i.order.dealerName_dealerDebit,province:i.order.province_dealerDebit,city:i.order.city_dealerDebit,county:i.order.county_dealerDebit,address:i.order.address_dealerDebit},e.matterList=d,e.orderList=(0,s.default)({},e.relationKey,d),e.$loading.hide()})},moreUnitClick:function(e){e.showDrop=!e.showDrop},moreUnitSelected:function(e){this.facility.assMeasureUnit=e.invSubUnitName,this.facility.assistQty=e.invSubUnitMulti},assembleOrder:function(e){var t={};e.forEach(function(e){t[e.transCode]||(t[e.transCode]=[]),t[e.transCode].push(e)}),this.orderList=t}},created:function(){var e=sessionStorage.getItem("SBCGYS_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.dealerInfo=t.dealer,this.formData=t.formData,this.contactInfo=t.contactInfo,this.assembleOrder(this.matterList),sessionStorage.removeItem("SBCGYS_DATA")}}}},vz8g:function(e,t,a){"use strict";function n(e){a("v2Hn")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("L61s");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("4HCx"),s=a.n(o),l=a("dOA+"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-5ef1a2a4",null);t.default=c.exports},vzn5:function(e,t){},"w+D4":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages xsbj-list-conatiner",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"instance-item-wrapper",class:{visited:t.visited},on:{click:function(a){e.goDetail(t,n)}}},[a("div",{staticClass:"instance-main"},[a("div",{staticClass:"instance-header"},[a("span",{staticClass:"instance_code vux-1px-l"},[e._v(e._s(t.transCode))]),e._v(" "),a("span",{staticClass:"instance_status",class:t.statusClass},[e._v(e._s(t.biStatus))])]),e._v(" "),a("div",{staticClass:"instance-project-container"},[a("div",{staticClass:"project_name",class:{"time-to-wrap":t.projectName_projectApprovalId.length>12}},[e._v(e._s(t.projectName_projectApprovalId))]),e._v(" "),a("div",[a("div",{staticClass:"project_manager"},[a("span",{staticClass:"project_manager_title"},[e._v("项目经理：")]),e._v(" "),a("span",{staticClass:"project_manager_value"},[e._v(e._s(t.dealerName_dealerDebit))])])])]),e._v(" "),a("div",{staticClass:"instance-task-container"},e._l(t.detailItem,function(t,n){return a("div",{key:n,staticClass:"instance_task_item"},[a("i",{staticClass:"icon",class:[e.getTaskIcon(n)]}),e._v(" "),a("div",{staticClass:"task-detail vux-1px-b",class:{"when-is-long":t.taskName_projectPlanTask.length>18}},[a("div",{staticClass:"task_name"},[e._v(e._s(t.taskName_projectPlanTask))]),e._v(" "),a("div",{staticClass:"task_info"},[a("div",{staticClass:"task_info_item"},[a("span",{staticClass:"task_info_title"},[e._v("预算成本：")]),e._v(" "),a("span",{staticClass:"task_info_amt"},[e._v("￥"+e._s(e._f("numberComma")(t.budgetHomeworkCost)))])]),e._v(" "),a("div",{staticClass:"task_info_item"},[a("span",{staticClass:"task_info_title"},[e._v("周期天数：")]),e._v(" "),a("span",{staticClass:"task_info_day"},[e._v(e._s(t.planCycleDays_projectPlanTask||0)+"天")])])])])])}),0)]),e._v(" "),a("div",{staticClass:"instance-bottom vux-1px-t"},[a("div",{staticClass:"instance-bottom-wrapper"},[a("div",{staticClass:"instance_bottom_item instance_handler"},[a("i",{staticClass:"icon icon-handler"}),e._v(" "),a("span",[e._v("经办人："+e._s(t.handlerName))])]),e._v(" "),a("div",{staticClass:"instance_bottom_item instance_mod_time"},[a("i",{staticClass:"icon icon-mod-time"}),e._v(" "),a("span",[e._v("修改时间："+e._s(e._f("dateFormat")(t.modTime,"YYYY-MM-DD HH:mm")))])])])])])}),0)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},w1nj:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vux-confirm"},[a("x-dialog",{attrs:{"dialog-class":"android"===e.theme?"weui-dialog weui-skin_android":"weui-dialog","mask-transition":e.maskTransition,"dialog-transition":"android"===e.theme?"vux-fade":e.dialogTransition,"hide-on-blur":e.hideOnBlur,"mask-z-index":e.maskZIndex},on:{"on-hide":function(t){e.$emit("on-hide")}},model:{value:e.showValue,callback:function(t){e.showValue=t},expression:"showValue"}},[e.title?a("div",{staticClass:"weui-dialog__hd",class:{"with-no-content":!e.showContent}},[a("strong",{staticClass:"weui-dialog__title"},[e._v(e._s(e.title))])]):e._e(),e._v(" "),e.showContent?[e.showInput?a("div",{staticClass:"vux-prompt"},["checkbox"===e.getInputAttrs().type?a("input",e._b({directives:[{name:"model",rawName:"v-model",value:e.msg,expression:"msg"}],ref:"input",staticClass:"vux-prompt-msgbox",attrs:{placeholder:e.placeholder,type:"checkbox"},domProps:{checked:Array.isArray(e.msg)?e._i(e.msg,null)>-1:e.msg},on:{touchend:e.setInputFocus,change:function(t){var a=e.msg,n=t.target,r=!!n.checked;if(Array.isArray(a)){var i=e._i(a,null);n.checked?i<0&&(e.msg=a.concat([null])):i>-1&&(e.msg=a.slice(0,i).concat(a.slice(i+1)))}else e.msg=r}}},"input",e.getInputAttrs(),!1)):"radio"===e.getInputAttrs().type?a("input",e._b({directives:[{name:"model",rawName:"v-model",value:e.msg,expression:"msg"}],ref:"input",staticClass:"vux-prompt-msgbox",attrs:{placeholder:e.placeholder,type:"radio"},domProps:{checked:e._q(e.msg,null)},on:{touchend:e.setInputFocus,change:function(t){e.msg=null}}},"input",e.getInputAttrs(),!1)):a("input",e._b({directives:[{name:"model",rawName:"v-model",value:e.msg,expression:"msg"}],ref:"input",staticClass:"vux-prompt-msgbox",attrs:{placeholder:e.placeholder,type:e.getInputAttrs().type},domProps:{value:e.msg},on:{touchend:e.setInputFocus,input:function(t){t.target.composing||(e.msg=t.target.value)}}},"input",e.getInputAttrs(),!1))]):a("div",{staticClass:"weui-dialog__bd"},[e._t("default",[a("div",{domProps:{innerHTML:e._s(e.content)}})])],2)]:e._e(),e._v(" "),a("div",{staticClass:"weui-dialog__ft"},[a("a",{staticClass:"weui-dialog__btn weui-dialog__btn_default",attrs:{href:"javascript:;"},on:{click:e._onCancel}},[e._v(e._s(e.cancelText||"取消"))]),e._v(" "),a("a",{staticClass:"weui-dialog__btn",class:"weui-dialog__btn_"+e.confirmType,attrs:{href:"javascript:;"},on:{click:e._onConfirm}},[e._v(e._s(e.confirmText||"确定"))])])],2)],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},w5TH:function(e,t,a){"use strict";function n(e){a("4ime")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("c6WW");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("q+9q"),s=a.n(o),l=a("xefX"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-6618be8c",null);t.default=c.exports},w68Y:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper",class:{dashboard:e.chartShow},attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},[e.chartShow?a("apply-chart"):a("div",{staticClass:"list"},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},w6tR:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("MjAd"),i=n(r),o=a("FPb0"),s=n(o);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2429,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},components:{financeListItem:s.default},mixins:[i.default],methods:{},created:function(){}}},w9YQ:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("7g+Q"),i=n(r),o=a("z5TY"),s=n(o),l=a("kNGm"),d=(n(l),a("I8ug")),u=a("d3k1"),c=n(u);t.default={data:function(){return{submitData:{achievement:"",chance:"",date:""},listId:"",btnIsHide:!1,clientHeight:document.documentElement.clientHeight}},components:{Popup:i.default,Group:s.default},methods:{getDate:function(){var e=this;this.$vux.datetime.show({cancelText:"取消",confirmText:"确定",format:"YYYY-MM",onConfirm:function(t){console.log(t),e.submitData.date=t}})},submit:function(){var e=this,t="";if([{key:"date",message:"【期间（月份）】"},{key:"achievement",message:"【效率与成本改进成果】"},{key:"chance",message:"【效率与成本改进机会】"}].every(function(a){return""!==e.submitData[a.key]||(t=a.message+"不能为空",!1)}),t)return void this.$vux.alert.show({content:t});var a={achievement:this.submitData.achievement,chance:this.submitData.chance,date:this.submitData.date+"-1",listId:this.listId};(0,d.saveAssessment)(a).then(function(t){t.success&&(e.submitSuccess=!0,e.$vux.alert.show({content:"提交成功",onHide:function(){e.$router.go(-1)}}))})}},created:function(){var e=this.$route.params.listId;e&&(this.listId=e)},mounted:function(){var e=this;c.default.isAndroid&&(window.onresize=function(){e.clientHeight>document.documentElement.clientHeight?e.btnIsHide=!0:e.btnIsHide=!1})},beforeRouteLeave:function(e,t,a){e.path;this.submitSuccess&&"APPDETAIL"===e.name&&(e.meta.reload=!0),a()}}},wB4n:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noQty:"",noCount:""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},wB6c:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2466,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"},{name:"往来名称",value:"dealerName_dealerCodeCredit"}]}},mixins:[r.default],methods:{},created:function(){}}},wDjS:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("PbSJ");a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,function(){return n[e]})}(r);var i=a("HcHI"),o=a.n(i),s=a("mU0o"),l=a("C7Lr"),d=l(o.a,s.a,!1,null,null,null);t.default=d.exports},wEtw:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("IHPB"),s=n(o),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),h=n(f),m=a("6q39"),v=n(m),p=a("kNGm"),C=n(p),y=a("fEP3"),_=a("1KNX"),g=n(_),b=a("7biW"),w=n(b);t.default={name:"PopWorkStartList",props:{show:{type:Boolean,default:!1},defaultValue:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:h.default,LoadMore:v.default,RScroll:g.default,MSearch:w.default},filters:{dateFormat:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},workList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterList:[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:"工序名称",value:"procedureName"}],filterProperty:""}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){return this.selItems.colId===e.colId},selThis:function(e,t){this.showPop=!1,this.selItems=(0,d.default)({},e),this.$emit("sel-work",this.selItems)},setDefaultValue:function(){this.selItems=(0,d.default)({},this.defaultValue)},getWorkOrderTask:function(){var e=this,t=[];if(this.srhInpTx&&(t=[].concat((0,s.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),this.$route.query.inventoryCode){var a=this.$route.query,n=a.inventoryCode,r=a.proPointCode;t=[].concat((0,s.default)(t),[{operator:"eq",value:n,property:"inventoryCode",separator:"and"},{operator:"eq",value:r,property:"proPointCode"}])}return(0,y.getWorkStartList)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,i.default)(t)}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,i=void 0===r?[]:r;e.$route.query.inventoryCode&&e.$emit("sel-work",i[0]),e.hasNext=n>(e.page-1)*e.limit+i.length,e.workList=1===e.page?i:[].concat((0,s.default)(e.workList),(0,s.default)(i)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,r=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=r,this.workList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getWorkOrderTask()},onPullingUp:function(){this.page++,this.getWorkOrderTask()}},created:function(){this.setDefaultValue(),this.getWorkOrderTask()}}},"wGz/":function(e,t){},wLMo:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages xsbj-list-conatiner",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noQty:"",noCount:""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},wNbs:function(e,t,a){"use strict";function n(e){a("Ab3R")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("b4Rw");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("Z77n"),s=a.n(o),l=a("+X2N"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-1bab9359",null);t.default=c.exports},wQkG:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("ZLEe"),s=n(o),l=a("a3Yh"),d=n(l),u=a("d3k1"),c=(n(u),a("FvvE")),f=(n(c),a("ZTs6"));n(f);t.default={data:function(){var e;return e={currentComponent:"",showLoadding:!0,transCode:"",submitSuccess:!1,submitLoadding:!1},(0,d.default)(e,"transCode",null),(0,d.default)(e,"saveData",{}),e},methods:{modifyRoute:function(e){this.submitSuccess=e},selData:function(e){this.saveData=e}},beforeRouteEnter:function(e,t,a){var n=e.query.name;e.meta.title="新增"+n,(e.query.id||e.query.groupId||e.query.colId||e.query.transCode)&&(e.meta.title="编辑"+n),a()},created:function(){this.$loading.show();var e=this.$route.query.transCode,t=this.$route.params,n=t.folder,r=t.fileName;e&&(this.transCode=e),this.currentComponent=a("2PKd")("./"+n+"/"+r+"Form.vue").default},beforeRouteLeave:function(e,t,a){var n=this;this.$refs.fillPage.hasDraftData&&(this.saveData=this.$refs.fillPage.hasDraftData()||{});var r=(e.path,(0,s.default)(this.saveData)[0]);if(!this.submitSuccess||"LIST"!==e.name&&"MSGLIST"!==e.name||(e.meta.reload=!0,r&&sessionStorage.removeItem(r)),"LIST"===e.name&&sessionStorage.removeItem("DEALERLIST_SELITEMS"),"LIST"===e.name&&r&&!this.transCode&&!this.submitSuccess)return void this.$vux.confirm.show({content:"即将离开，是否保存数据？",onConfirm:function(){sessionStorage.setItem(r,(0,i.default)(n.saveData[r])),a()},onCancel:function(){sessionStorage.removeItem(r),a()}});a()}}},wRUd:function(e,t,a){"use strict";function n(e){a("AVDU")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("8xC5");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("RpJn"),s=a.n(o),l=a("gma3"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-33e36af2",null);t.default=c.exports},wT6g:function(e,t,a){"use strict";function n(e){a("EPhH")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("crdR");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("+Lff"),s=a.n(o),l=a("OMnH"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-24be1c5a",null);t.default=c.exports},wVRi:function(e,t){},waxO:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("4YfN"),s=n(o),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("zWMP"),f=(a("Qg39"),a("BUFe")),h=n(f),m=a("AupE"),v=n(m),p=a("89pA"),C=n(p),y=a("bFc7"),_=n(y),g=a("6WeX"),b=n(g),w=a("hPJo"),I=n(w),D=a("kKsb"),x=n(D),P=a("sUbJ"),S=n(P),k=a("d7ck"),L=n(k);t.default={data:function(){return{count:0,formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",orderInfo:{},orderList:{},warehouse:{},basicInfo:{},contactInfo:{},warehouseConfig:[]}},computed:{noTaxAmount:function(){var e=0;return this.orderInfo.inPut.dataSet.forEach(function(t){e=(0,c.accAdd)(e,t.noTaxAmount)}),e},taxAmount:function(){var e=0;return this.orderInfo.inPut.dataSet.forEach(function(t){e=(0,c.accAdd)(e,t.taxAmount)}),e}},mixins:[u.default],components:{workFlow:v.default,RAction:h.default,PopWarehouseList:C.default,contactPart:_.default,PriceTotal:b.default,WarehouseContent:I.default,ProjectPart:x.default,MatterItem:S.default,FormCell:L.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u={},f=o.inPut,h=void 0===f?{}:f;e.attachment=d;var m=h.dataSet,v=!0,p=!1,C=void 0;try{for(var y,_=(0,i.default)(m);!(v=(y=_.next()).done);v=!0){var g=y.value;e.count=(0,c.accAdd)(e.count,g.tdAmount),g.inventoryPic=g.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+g.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),u[g.transMatchedCode]||(u[g.transMatchedCode]=[]),u[g.transMatchedCode].push(g)}}catch(e){p=!0,C=e}finally{try{!v&&_.return&&_.return()}finally{if(p)throw C}}e.orderList=u,e.contactInfo={dealerName:h.dealerName_dealerCodeCredit,dealerMobilePhone:o.dealerCreditContactInformation,dealerContactPersonName:o.dealerCreditContactPersonName,dealerCode:h.dealerDebit,dealerLabelName:h.drDealerLabel,province:h.province_dealerDebit,city:h.city_dealerDebit,county:h.county_dealerDebit,address:h.address_dealerCodeCredit};for(var b in h)(b.includes("warehouse")||b.includes("storehouse"))&&(e.warehouse[b]=h[b]);e.orderInfo=(0,s.default)({},o,h),e.workFlowInfoHandler()})}}}},wmtl:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages fgysqk-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[e.orderList.length?[a("div",{staticClass:"title"},[e._v("汇票明细")]),e._v(" "),e._l(e.orderList,function(t,n){return a("div",{key:n,staticClass:"order-detail",class:{"vux-1px-t":0!==n}},[a("div",{staticClass:"detail-item top"},[a("span",{staticClass:"info-item"},[e._v(e._s(t.draftNumber))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"info-item"},[e._v("类型: "+e._s(t.draftType))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("承兑人: "+e._s(t.accepter))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"info-item"},[e._v("金额: "+e._s(e._f("numberComma")(t.tdAmount)))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("保证金: "+e._s(e._f("numberComma")(t.deposit)))])]),e._v(" "),a("div",{staticClass:"detail-item"},[a("span",{staticClass:"info-item"},[e._v("出票日: "+e._s(t.draftDate))]),e._v(" "),a("span",{staticClass:"info-item"},[e._v("到期日: "+e._s(t.draftDueDate))])]),e._v(" "),a("x-input",{attrs:{title:"说明","text-align":"right",placeholder:"请填写"},model:{value:t.comment,callback:function(a){e.$set(t,"comment",a)},expression:"item.comment"}})],1)})]:a("div",{staticClass:"order-info",on:{click:function(t){e.showOrder=!0}}},[a("div",{staticClass:"title"},[e._v("汇票明细")]),e._v(" "),a("div",{staticClass:"mode required"},[e._v("请选择汇票明细")]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r-arrow"})])],2),e._v(" "),e.orderList.length?a("div",{staticClass:"handle_part vx-1px-t"},[e.orderList.length?a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多")]):e._e()]):e._e(),e._v(" "),a("pop-cash-list",{attrs:{"default-value":e.cashInfo,request:"3",required:!0},on:{"sel-item":e.selCash}},[a("template",{slot:"other"},[a("x-input",{staticClass:"amt-cash",attrs:{title:"支付金额","text-align":"right",placeholder:"请填写",type:"number"},on:{"on-blur":function(t){e.checkAmt(e.cashInfo)},"on-focus":function(t){e.getFocus(t)}},model:{value:e.cashInfo.tdAmount,callback:function(t){e.$set(e.cashInfo,"tdAmount",e._n(t))},expression:"cashInfo.tdAmount"}})],1)],2),e._v(" "),a("div",{staticClass:"materiel_list"},[a("group",{staticClass:"costGroup",attrs:{title:"其他信息"}},[a("x-textarea",{attrs:{title:"备注",max:100},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1)],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-money-order-list",{attrs:{show:e.showOrder,"default-value":e.orderList,request:"2","get-list-method":"getDraftBalance"},on:{"sel-item":e.selOrder},scopedSlots:e._u([{key:"amount",fn:function(t){var n=t.item;return[a("span",[e._v("金额: "+e._s(e._f("numberComma")(n.amntTbMatched)))]),e._v(" "),a("span",[e._v("保证金: "+e._s(e._f("numberComma")(n.deposit)))])]}}]),model:{value:e.showOrder,callback:function(t){e.showOrder=t},expression:"showOrder"}})],1)]),e._v(" "),a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[this.actions.includes("stop")?a("div",{staticClass:"btn-item stop",on:{click:e.stopOrder}},[e._v("终止")]):e._e(),e._v(" "),a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},wn1Q:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("4YfN"),s=n(o),l=a("kNGm"),d=n(l),u=a("0AQX"),c=a("+VRO"),f=n(c),h=a("BUFe"),m=n(h),v=a("AupE"),p=n(v),C=a("Eyzt"),y=n(C),_=a("bFc7"),g=n(_),b=a("zWMP");a("Qg39");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",contactInfo:{},orderList:{}}},mixins:[f.default],components:{onlyWord:y.default,workFlow:p.default,RAction:m.default,contactPart:g.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,u.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=void 0===a?[]:a,r=t.formData,o=void 0===r?{}:r,l={},u=0,c=o.order,f=void 0===c?{}:c,h=o.order.dataSet,m=!0,v=!1,p=void 0;try{for(var C,y=(0,i.default)(h);!(m=(C=y.next()).done);m=!0){var _=C.value;_.inventoryPic=_.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+_.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),u=(0,b.accAdd)(u,_.tdAmount),l[_.transMatchedCode]||(l[_.transMatchedCode]=[]),e.orderList=l,l[_.transMatchedCode].push(_)}}catch(e){v=!0,p=e}finally{try{!m&&y.return&&y.return()}finally{if(v)throw p}}e.contactInfo={dealerName:f.dealerName_dealerCodeCredit,dealerContactPersonName:o.dealerCreditContactPersonName,dealerMobilePhone:o.dealerCreditContactInformation,dealerCode:f.dealerCodeCredit,province:f.province_dealerCodeCreditt,city:f.city_dealerCodeCreditt,county:f.county_dealerCodeCredit,address:f.address_dealerCodeCredit},e.attachment=n,e.count=u,o.invoiceDate=(0,d.default)(o.invoiceDate,"YYYY-MM-DD"),e.orderInfo=(0,s.default)({},o,f),e.workFlowInfoHandler()})}}}},wol0:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("0AQX"),s=a("+VRO"),l=n(s),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),h=a("bFc7"),m=n(h),v=a("6WeX"),p=n(v),C=a("3NX5"),y=n(C),_=a("sUbJ"),g=n(_),b=a("d7ck"),w=n(b),I=a("zWMP"),D=a("Qg39");t.default={data:function(){return{count:0,comment:"",orderInfo:{},formViewUniqueId:"e76a8c6f-05cc-45ee-ba93-299fe6751856",orderList:{}}},mixins:[l.default],components:{workFlow:f.default,RAction:u.default,PriceTotal:p.default,contactPart:m.default,MatterList:y.default,MatterItem:g.default,FormCell:w.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,o.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,s=t.attachment,l=void 0===s?[]:s;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var d={},u=o.order,c=void 0===u?{}:u;e.attachment=l;var f=o.order.dataSet,h=!0,m=!1,v=void 0;try{for(var p,C=(0,i.default)(f);!(h=(p=C.next()).done);h=!0){var y=p.value;y.noTaxAmount=(0,I.accMul)(y.price,y.tdQty),y.taxAmount=(0,I.accMul)(y.noTaxAmount,y.taxRate),y.tdAmount=(0,D.toFixed)((0,I.accAdd)(y.noTaxAmount,y.taxAmount)),e.count=(0,I.accAdd)(e.count,y.tdAmount),y.inventoryPic=y.inventoryPic_outPutMatCode?"/H_roleplay-si/ds/download?url="+y.inventoryPic_outPutMatCode+"&width=400&height=400":e.getDefaultImg(),d[y.transMatchedCode]||(d[y.transMatchedCode]=[]),d[y.transMatchedCode].push(y)}}catch(e){m=!0,v=e}finally{try{!h&&C.return&&C.return()}finally{if(m)throw v}}e.orderList=d,e.dealerInfo={dealerName:c.dealerName_dealerCodeCredit,dealerMobilePhone:o.dealerCreditContactInformation,dealerContactPersonName:o.dealerCreditContactPersonName,dealerCode:c.dealerCodeCredit,dealerLabelName:c.crDealerLabel,province:c.province_dealerCodeCredit,city:c.city_dealerCodeCredit,county:c.county_dealerCodeCredit,address:c.address_dealerCodeCredit},e.orderInfo=o,e.workFlowInfoHandler()})}}}},wqMj:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("a3Yh"),s=n(o),l=a("4YfN"),d=n(l),u=a("IHPB"),c=n(u),f=a("3cXf"),h=n(f),m=a("HXPS"),v=n(m),p=a("BGNQ"),C=n(p),y=a("z5TY"),_=n(y),g=a("SAzG"),b=n(g),w=a("PzEQ"),I=n(w),D=a("0AQX"),x=a("HyXB"),P=a("bKg5"),S=n(P),k=a("VZtf"),L=n(k),N=a("9cRV"),M=n(N),T=a("89pA"),A=n(T),O=a("luHD"),R=n(O),j=a("vl8n"),B=n(j),E=a("+WR7"),F=n(E);t.default={mixins:[S.default],components:{Icon:v.default,Cell:C.default,Group:_.default,XInput:b.default,XTextarea:I.default,RNumber:L.default,PopMatterList:M.default,PopWarehouseList:A.default,PopMatter:R.default,RPicker:B.default,PopBaseinfo:F.default},data:function(){return{listId:"4d9a7f8f-9a88-47b6-a1f4-3faed6423615",matterList:[],showMaterielPop:!1,transCode:"",formData:{biComment:""},numMap:{},warehouse:{},warehouseIn:{warehouseName:"待检仓",warehouseCode:"QC0001",warehouseType:"一般部门仓"},matterParams:{calcRelCode:"1406",whCode:""},matter:{},showMatterPop:!1,modifyIndex:null,warehouseOutParams:{warehouseType:"加工车间仓"},checkFieldList:[{key:"tdQty",message:"请填写入库数量"}]}},methods:{delClick:function(e,t){var a=this.selItems,n=a.findIndex(function(e){return e.inventoryCode===t.inventoryCode});if(-1!==n)return void a.splice(n,1);a.push(t)},showSelIcon:function(e){return-1!==this.selItems.findIndex(function(t){return t.inventoryCode===e.inventoryCode})},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,h.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){e.selItems.forEach(function(t){var a=e.matterList.findIndex(function(e){return e.inventoryCode===t.inventoryCode});a>=0&&e.matterList.splice(a,1)}),e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},selWarehouseOut:function(e){this.warehouse=JSON.parse(e),null!=this.matterParams.data.whCode&&(this.matterParams.data.whCode=this.warehouse.warehouseCode,this.matterList=[])},selWarehouseIn:function(e){this.warehouseIn=JSON.parse(e)},getMatterModify:function(e,t){this.matter=JSON.parse((0,h.default)(e)),this.showMatterPop=!0,this.modifyIndex=t},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.matterList,this.modifyIndex,t)},selMatter:function(e){var t=JSON.parse(e);t.forEach(function(e){e.tdQty=e.tdQty||""}),this.numMap={},this.matterList=[].concat((0,c.default)(t))},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},save:function(){var e=this,t="",a=[];if([{key:"warehouse",message:"出库仓库"}].every(function(a){return!!e[a.key]||(t="请选择"+a.message,!1)}),t||this.matterList.length||(t="请选择物料"),this.matterList.every(function(n){if(!n.tdQty)return t="请填写入库数量",!1;var r={transObjCode:n.inventoryCode,tdProcessing:n.processing,assMeasureUnit:n.assMeasureUnit||null,thenQtyStock:n.qtyBal,assMeasureScale:n.assMeasureScale||null,assistQty:n.assistQty||0,tdQty:n.tdQty,comment:n.comment||""};return e.transCode&&(r.tdId=n.tdId||""),a.push(r),!0}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=x.saveAndStartWf,n=(0,d.default)({creator:e.formData.handler},e.formData,{modifer:e.formData.handler,handlerEntity:e.entity.dealerName,containerOutWarehouseManager:e.warehouse.containerOutWarehouseManager||null,containerInWarehouseManager:e.warehouseIn.containerInWarehouseManager||null,inPut:{containerCodeOut:e.warehouse.warehouseCode,containerCode:e.warehouseIn.warehouseCode,dataSet:a}}),r={listId:e.listId,biComment:"",formData:(0,h.default)(n),wfPara:(0,h.default)((0,s.default)({},e.processCode,{businessKey:e.businessKey,createdBy:n.creator}))};e.transCode&&(t=x.saveAndCommitTask,r.biReferenceId=e.biReferenceId,r.wfPara=(0,h.default)({businessKey:e.transCode,createdBy:n.creator,transCode:e.transCode,result:3,taskId:e.taskId,comment:""})),e.processCode.length||(t=x.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,D.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:this.transCode}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r;if(!n)return void e.$vux.alert.show({content:"抱歉，无法支持您查看的交易号，请确认交易号是否正确"});e.attachment=t.attachment;var s=[],l=o.inPut,u=l.dataSet,c=void 0===u?[]:u,f=!0,h=!1,m=void 0;try{for(var v,p=(0,i.default)(c);!(f=(v=p.next()).done);f=!0){var C=v.value;C=(0,d.default)({},C,{qtyBal:C.thenQtyStock,inventoryPic:C.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+C.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:C.inventoryName_transObjCode,inventoryCode:C.inventoryCode_transObjCode,specification:C.specification_transObjCode,measureUnit:C.measureUnit_transObjCode,processing:C.tdProcessing}),s.push(C)}}catch(e){h=!0,m=e}finally{try{!f&&p.return&&p.return()}finally{if(h)throw m}}e.warehouseIn={warehouseCode:l.containerCode,warehouseName:l.warehouseName_containerCode,warehouseType:l.warehouseType_containerCode,warehouseProvince:l.warehouseProvince_containerCode,warehouseCity:l.warehouseCity_containerCode,warehouseDistrict:l.warehouseDistrict_containerCode,warehouseAddress:l.warehouseAddress_containerCode},e.warehouse={warehouseCode:l.containerCodeOut,warehouseName:l.warehouseName_containerCodeOut,warehouseType:l.warehouseType_containerCodeOut,warehouseProvince:l.warehouseProvince_containerCodeOut,warehouseCity:l.warehouseCity_containerCodeOut,warehouseDistrict:l.warehouseDistrict_containerCodeOut,warehouseAddress:l.warehouseAddress_containerCodeOut},e.matterParams=(0,d.default)({},e.matterParams,{whCode:e.warehouse.warehouseCode}),e.handlerDefault={handler:o.handler,handlerName:o.handlerName,handlerUnit:o.handlerUnit,handlerUnitName:o.handlerUnitName,handlerRole:o.handlerRole,handlerRoleName:o.handlerRoleName},e.formData=(0,d.default)({},e.handlerDefault,{biComment:o.biComment,biId:o.biId,biProcessStatus:o.biProcessStatus,creator:o.creator,modifer:o.modifer}),e.biReferenceId=o.biReferenceId,e.matterList=s,e.$loading.hide()})},hasDraftData:function(){return!!this.matterList.length&&(0,s.default)({},"WGYRK_DATA",{matter:this.matterList,warehouse:this.warehouse,warehouseIn:this.warehouseIn,formData:this.formData})}},created:function(){var e=sessionStorage.getItem("WGYRK_DATA");if(e){var t=JSON.parse(e);this.matterList=t.matter,this.warehouse=t.warehouse,this.warehouseIn=t.warehouseIn,this.formData=t.formData,this.matterParams=(0,d.default)({},this.matterParams,{whCode:this.warehouse.warehouseCode}),sessionStorage.removeItem("WGYRK_DATA")}}}},wuIh:function(e,t,a){"use strict";function n(e){a("ecQd")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("Sgei");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("4CDp"),s=a.n(o),l=a("QfFO"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-3136606a",null);t.default=c.exports},wxaE:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("kNGm"),s=n(o),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),h=a("AupE"),m=n(h),v=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",dealerInfo:{}}},mixins:[u.default],components:{workFlow:m.default,RAction:f.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.attachment,n=t.formData,r=n.order,o=void 0===r?{}:r;e.attachment=a,e.dealerInfo={dealerName:o.dealerName_dealerDebit,dealerCode:o.dealerDebit,dealerLabelName:o.drDealerLabel,amntBal:o.thenAmntBalCopy2,thenTotalAmntBal:o.thenAlreadyAmnt};var l=n.order.dataSet,d=!0,u=!1,c=void 0;try{for(var f,h=(0,i.default)(l);!(d=(f=h.next()).done);d=!0){var m=f.value;e.count=(0,v.accAdd)(e.count,m.tdAmount)}}catch(e){u=!0,c=e}finally{try{!d&&h.return&&h.return()}finally{if(u)throw c}}t.formData.validUntil=(0,s.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData,e.workFlowInfoHandler()})}}}},"x/Kz":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.inPut?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("warehouse-content",{attrs:{warehouse:e.warehouseIn,"warehouse-out":e.warehouseOut}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"matter-list":e.matterList},on:{"on-show-more":e.onShowMore}}),e._v(" "),a("other-part",{attrs:{"other-info":e.orderInfo,attachment:e.attachment}}),e._v(" "),a("pop-matter-detail",{attrs:{show:e.showMatterDetail,item:e.matterDetail},model:{value:e.showMatterDetail,callback:function(t){e.showMatterDetail=t},expression:"showMatterDetail"}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[],i={render:n,staticRenderFns:r};t.a=i},x2l6:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pop-company-container",on:{click:e.itemClick}},[e.selItems.facilityName?a("div",[a("div",{staticClass:"title"},[e._v("设施")]),e._v(" "),a("div",{staticClass:"user_info"},[a("span",{staticClass:"user_name"},[e._v(e._s(e.selItems.facilityName))])])]):a("div",[a("div",{staticClass:"title"},[e._v("设施")]),e._v(" "),a("div",{staticClass:"mode"},[e._v("请选择设施")])]),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:!e.disabled,expression:"!disabled"}],staticClass:"iconfont icon-youjiantou r-arrow"}),e._v(" "),e.disabled?e._e():a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"trade_pop_part",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("div",{staticClass:"trade_pop"},[a("d-search",{on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"pop-list-container",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"pop-mater-list-item box_sd",class:{selected:e.showSelIcon(t)},on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"pop-list-main "},[a("div",{staticClass:"pop-list-info"},[a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline name",staticStyle:{display:"inline-block"}},[a("span",[e._v(e._s(t.facilityName))])])]),e._v(" "),t.facilityType?a("div",{staticClass:"withColor"},[a("div",{staticClass:"ForInline ",staticStyle:{display:"inline-block"}},[a("span",{staticClass:"creator"},[e._v(e._s(t.facilityType))])])]):e._e()])])])}),0)],1)])],1)])},r=[],i={render:n,staticRenderFns:r};t.a=i},x4q7:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",class:{dashboard:e.chartShow},attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},[e.chartShow?a("apply-chart"):a("div",{staticClass:"list"},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},x7T3:function(e,t,a){"use strict";function n(e){a("Y1R/")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("UI89");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("IpWp"),s=a.n(o),l=a("QBiQ"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-041ef863",null);t.default=c.exports},xAjG:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("contact-part",{attrs:{"contact-info":e.contactInfo,configs:e.dealerConfig}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"order-list":e.orderList,"order-title":e.orderTitle},on:{"on-show-more":e.onShowMore}}),e._v(" "),a("other-part",{attrs:{"other-info":e.orderInfo,amt:e.noTaxAmount,"tax-amt":e.taxAmount,count:e.count,attachment:e.attachment}}),e._v(" "),a("pop-matter-detail",{attrs:{show:e.showMatterDetail,item:e.matterDetail},model:{value:e.showMatterDetail,callback:function(t){e.showMatterDetail=t},expression:"showMatterDetail"}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[],i={render:n,staticRenderFns:r};t.a=i},xCct:function(e,t,a){"use strict";function n(e){a("M79D")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("hNmM");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("ghja"),s=a.n(o),l=a("2+oN"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-37ac4230",null);t.default=c.exports},xImq:function(e,t,a){"use strict";function n(e){a("sxlv")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("9vk1");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("i3Po"),s=a.n(o),l=a("c52i"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-2df44186",null);t.default=c.exports},xJ3M:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("lC5x"),i=n(r),o=a("J0Oq"),s=n(o),l=a("a3Yh"),d=n(l),u=a("3cXf"),c=n(u),f=a("ZLEe"),h=n(f),m=a("4YfN"),v=n(m),p=a("MgeX"),C=n(p),y=a("HzJ8"),_=n(y),g=a("PzEQ"),b=n(g),w=a("kNGm"),I=n(w),D=a("0AQX"),x=a("HyXB"),P=a("bKg5"),S=n(P),k=a("y8YJ"),L=n(k),N=a("hLfv"),M=n(N),T=a("+WR7"),A=n(T),O=a("Q67R"),R=n(O),j=a("lsbD"),B=n(j),E=a("zWMP"),F=a("Qg39");t.default={components:{XTextarea:b.default,PopDealerList:L.default,PopBaseinfo:A.default,DealerOtherPart:M.default,ApplyMatterPart:R.default,OpButton:B.default},data:function(){return{taxRate:.16,dealer:{},formData:{creator:"",modifer:"",biId:"",biComment:""},dealerInfo:{},contact:{},orderList:{},showMaterielPop:!1,showDealerPop:!1}},computed:{matterList:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var r,i=(0,_.default)((0,C.default)(this.orderList));!(t=(r=i.next()).done);t=!0){var o=r.value,s=!0,l=!1,d=void 0;try{for(var u,c=(0,_.default)(o);!(s=(u=c.next()).done);s=!0){var f=u.value;e.push(f)}}catch(e){l=!0,d=e}finally{try{!s&&c.return&&c.return()}finally{if(l)throw d}}}}catch(e){a=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(a)throw n}}return e}},mixins:[S.default],filters:{dateFormat:I.default},watch:{orderListTitle:function(e){e.includes("物料")?this.filterList=[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"}]:this.filterList=[{name:"物料名称",value:"inventoryName"},{name:"物料编码",value:"inventoryCode"},{name:e,value:"transCode"}]}},methods:{selDealer:function(e){var t=this;this.dealerInfo=JSON.parse(e)[0],this.dealerInfo.drDealerPaymentTerm=this.dealerInfo.paymentTerm,this.dealerInfo.daysOfAccount=this.dealerInfo.pamentDays,this.matterParams.data&&null!=this.matterParams.data.dealerCode&&(this.matterParams.data.dealerCode=this.dealerInfo.dealerCode,this.orderList={}),this.matterList.length&&this.matterList.forEach(function(e){t.getPrice(e)})},selContact:function(e){this.dealer.dealerDebitContactPersonName=e.dealerName,this.dealer.dealerDebitContactInformation=e.dealerMobilePhone,this.contact=(0,v.default)({},this.contact,e)},getPrice:function(e){var t=this,a={dealerCode:this.dealerInfo.dealerCode,matCodes:[{qty:e.assistQty,matCode:e.inventoryCode}]};(0,x.getPriceFromProcurementContract)(a).then(function(a){var n=a.data,r=void 0===n?{}:n;(0,h.default)(r).length&&(!e.price&&0!==e.price&&t.$set(e,"price",(0,C.default)(r)[0].price),!e.taxRate&&0!==e.taxRate&&t.$set(e,"taxRate",(0,C.default)(r)[0].taxRate))})},selMatter:function(e){var t=this,a=JSON.parse(e),n={},r=[];a.map(function(e){var a=e.transCode?e.transCode:"noCode";r.push(e.inventoryCode);for(var i in t.dataIndexMap)e[i]="promDeliTime"===i||"shippingTime"===i?(0,I.default)(e[t.dataIndexMap[i]],"YYYY-MM-DD")||"":e[i]||e[t.dataIndexMap[i]];e.tdQty=e.tdQty||e.qtyBal,e.assistQty=(0,F.toFixed)((0,E.accDiv)(e.tdQty,e.assMeasureScale)),t.dealerInfo.dealerCode&&t.getPrice(e),n[a]||(n[a]=[]),n[a].push(e)}),this.dealerParams.data=(0,v.default)({},this.dealerParams.data,{matCodes:r.join(",")}),this.numMap={},this.orderList=n},getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getMatterModify:function(e,t,a){this.matter=JSON.parse((0,c.default)(e)),this.showMatterPop=!0,this.modifyIndex=t,this.modifyKey=a},selConfirm:function(e){var t=JSON.parse(e);this.$set(this.orderList[this.modifyKey],this.modifyIndex,t)},findIndex:function(e,t){return e.findIndex(function(e){return e.transCode===t.transCode&&e.inventoryCode===t.inventoryCode})},delClick:function(e,t,a){var n=this.selItems,r=this.findIndex(n,e);if(-1!==r)return void n.splice(r,1);n.push(e)},showSelIcon:function(e){return-1!==this.findIndex(this.selItems,e)},checkAll:function(){if(this.selItems.length===this.matterList.length)return void(this.selItems=[]);this.selItems=JSON.parse((0,c.default)(this.matterList))},deleteCheckd:function(){var e=this;this.$vux.confirm.show({content:"确认删除?",onConfirm:function(){var t={},a=e.selItems;e.matterList.filter(function(t,n){return-1===e.findIndex(a,t)}).forEach(function(e){var a=e.transCode?e.transCode:"noCode";t[a]||(t[a]=[]),t[a].push(e)}),e.orderList=t,e.selItems=[],e.matterModifyClass=!1}})},addMatter:function(){this.showMaterielPop=!this.showMaterielPop},checkAmt:function(e,t,a){e[t]=Math.abs((0,F.toFixed)(a)),"tdQty"===t&&a>e.thenQtyBal&&(e[t]=e.thenQtyBal)},submitOrder:function(){var e=this,t="",a=[];if([{key:"dealerInfo",childKey:"dealerCode",message:"供应商信息"},{key:"dealerInfo",childKey:"drDealerPaymentTerm",message:"结算方式"},{key:"matterList",childKey:"length",message:"物料"}].every(function(a){return a.childKey&&!e[a.key][a.childKey]?(t="请选择"+a.message,!1):!!e[a.key]||(t="请选择"+a.message,!1)}),!t){var n=!0,r=!1,i=void 0;try{for(var o,s=(0,_.default)(this.matterList);!(n=(o=s.next()).done);n=!0){var l=o.value,u={},f=!0,h=!1,m=void 0;try{for(var p,C=(0,_.default)(this.submitMatterField);!(f=(p=C.next()).done);f=!0){var y=p.value;if(!y.hidden&&!y.allowBlank&&!l[y.fieldCode]){t=y.text+"不为空";break}u[y.fieldCode]=null!=l[y.fieldCode]?l[y.fieldCode]:null}}catch(e){h=!0,m=e}finally{try{!f&&C.return&&C.return()}finally{if(h)throw m}}u.dealerDebit=this.dealerInfo.dealerCode,u.drDealerLabel=this.dealerInfo.dealerLabelName||"",a.push(u)}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}}if(t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show();var t=x.saveAndStartWf,n=(0,d.default)({},e.processCode,{businessKey:e.businessKey,createdBy:""});e.isResubmit&&(n={businessKey:e.transCode,createdBy:e.formData.handler,transCode:e.transCode,result:3,taskId:e.taskId,comment:""});var r={listId:e.listId,biComment:e.biComment,formData:(0,c.default)((0,v.default)({},e.formData,{handlerEntity:e.entity.dealerName,dealerDebitContactPersonName:e.contact.dealerName||null,dealerDebitContactInformation:e.contact.dealerMobilePhone||"",order:{drDealerPaymentTerm:e.dealerInfo.drDealerPaymentTerm,daysOfAccount:e.dealerInfo.daysOfAccount,dataSet:a},inPut:{dataSet:[{dealerDebit:e.dealerInfo.dealerCode,drDealerLabel:e.dealerInfo.dealerLabelName||"",tdAmountCopy1:e.dealerInfo.tdAmountCopy1||null,prepaymentDueDate:e.dealerInfo.prepaymentDueDate||""}]}})),wfPara:(0,c.default)(n)};e.isResubmit&&(t=x.saveAndCommitTask,r.biReferenceId=e.biReferenceId),e.processCode.length||(t=x.submitAndCalc,delete r.wfPara,delete r.biReferenceId),e.biReferenceId&&(r.biReferenceId=e.biReferenceId),e.saveData(t,r)}})},getFormData:function(){var e=this;return(0,s.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,D.getSOList)({formViewUniqueId:e.uniqueId,transCode:e.transCode}).then(function(t){e.listId=t.listId,e.biComment=t.biComment,e.biReferenceId=t.biReferenceId;var a=t.formData,n=a.inPut,r=void 0===n?{}:n,i=a.order,o=void 0===i?{}:i;e.attachment=t.attachment;var s={},l=[];o.dataSet.map(function(t){return l.push(t.inventoryCode_transObjCode),t=(0,v.default)({},t,{inventoryPic:t.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+t.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),inventoryName:t.inventoryName_transObjCode,inventoryCode:t.inventoryCode_transObjCode,specification:t.specification_transObjCode,processing:t.tdProcessing||"商品",measureUnit:t.measureUnit_transObjCode,safeStock:t.safeStock_transObjCode,qtyBal:t.thenQtyBal,moq:t.moq_transObjCode,leadTime:t.leadTime_transObjCode}),t.transCode?(s[t.transCode]||(s[t.transCode]=[]),s[t.transCode].push(t)):(s.noCode||(s.noCode=[]),s.noCode.push(t)),t}),e.orderList=s,e.handlerDefault={handler:a.handler,handlerName:a.handlerName,handlerUnit:a.handlerUnit,handlerUnitName:a.handlerUnitName,handlerRole:a.handlerRole,handlerRoleName:a.handlerRoleName},e.formData=(0,v.default)({},e.handlerDefault,{creator:a.creator,modifer:a.modifer,biComment:a.biComment,biProcessStatus:a.biProcessStatus,biId:a.biId}),e.dealerInfo={dealerCode:r.dataSet[0].dealerDebit,dealerSubclass:r.dataSet[0].drAccountSub,dealerName:r.dataSet[0].dealerName_dealerDebit,province:r.dataSet[0].province_dealerDebit,city:r.dataSet[0].city_dealerDebit,county:r.dataSet[0].county_dealerDebit,address:r.dataSet[0].address_dealerDebit,drDealerPaymentTerm:o.drDealerPaymentTerm,daysOfAccount:o.daysOfAccount,dealerLabelName:r.dataSet[0].drDealerLabel,tdAmountCopy1:r.dataSet[0].tdAmountCopy1,prepaymentDueDate:r.dataSet[0].prepaymentDueDate},e.contact={dealerName:a.dealerDebitContactPersonName,dealerMobilePhone:a.dealerDebitContactInformation},e.dealerParams.data=(0,v.default)({},e.dealerParams.data,{matCodes:l.join(",")}),e.$loading.hide()});case 2:case"end":return t.stop()}},t,e)}))()},hasDraftData:function(){return!!this.matterList.length&&(0,d.default)({},"CGDD_DATA",{orderList:this.orderList,dealerInfo:this.dealerInfo,formData:this.formData,contact:this.contact})}},created:function(){var e=sessionStorage.getItem("CGDD_DATA");e&&(this.orderList=JSON.parse(e).orderList,this.dealerInfo=JSON.parse(e).dealerInfo,this.formData=JSON.parse(e).formData,this.contact=JSON.parse(e).contact,sessionStorage.removeItem("CGDD_DATA"))}}},xJK3:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("kNGm"),i=(n(r),a("0AQX")),o=a("+VRO"),s=n(o),l=a("AupE"),d=n(l),u=a("BUFe"),c=n(u),f=a("bFc7"),h=n(f),m=a("3NX5"),v=n(m);t.default={data:function(){return{orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},uploadStyle:{padding:"0.06rem 0.1rem"}}},mixins:[s.default],components:{workFlow:d.default,RAction:c.default,contactPart:h.default,MatterList:v.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,i.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,i=void 0===r?{}:r,o=t.attachment,s=void 0===o?[]:o;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=s,e.orderInfo=i,e.contactInfo={dealerName:i.dealerName_productDealerCode,dealerMobilePhone:i.dealerDebitContactInformation,dealerContactPersonName:i.dealerDebitContactPersonName},e.workFlowInfoHandler()})},goEdit:function(){var e=this.$route.params,t=e.folder,a=e.fileName,n=this.$route.query.name;this.$router.push({path:"/fillform/"+t+"/"+a,query:{name:n,transCode:this.transCode}})}}}},xTln:function(e,t){},xZDR:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=(a("XAqG"),a("HyXB"),a("MjAd")),s=n(o),l=a("ak47");n(l);t.default={name:"CPXQ_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"经办人",value:"handlerName"},{name:"交易号",value:"transCode"},{name:"员工",value:"profileName"}],listViewID:2374}},mixins:[s.default],methods:{pathChange:function(e,t,a){var n=this;if(!this.clickVisited){var r=e.transCode,o=this.$route.query.name,s=this.$route.params,l=s.folder,d=s.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,i.default)({},e));var u=a+"/"+l+"/"+d;setTimeout(function(){n.clickVisited=!1,n.$router.push({path:u,query:{name:o,transCode:r}})},200)}},goDetail:function(e,t){this.pathChange(e,t,"/detail")},goUserEdit:function(e,t){this.pathChange(e,t,"/fillform")}}}},xZPP:function(e,t,a){"use strict";function n(e){a("84pt")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("Peu+");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("86eb"),s=a.n(o),l=a("xohE"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,null,null);t.default=c.exports},xbeG:function(e,t,a){"use strict";function n(e){a("1k/p")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("VxZ1");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("JYGM"),s=a.n(o),l=a("TglZ"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-7e33380f",null);t.default=c.exports},xcUm:function(e,t,a){"use strict";!function e(){var t=document.documentElement.clientWidth;if(t>=375)document.documentElement.style.fontSize="100px";else{var a=t/375*100+"px";document.documentElement.style.fontSize=a}window.addEventListener("resize",e),window.addEventListener("orientationchange",e)}()},xd8N:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages nbjgdd-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[Object.keys(e.orderList).length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v("订单列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n,r){return a("div",{key:n,staticClass:"each_mater"},[t.length?a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v("加工订单号")]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]):e._e(),e._v(" "),e._l(t,function(r,i){return a("div",{key:i,class:{mater_delete:e.matterModifyClass}},[a("matter-item",{class:{"vux-1px-b":i<t.length-1},attrs:{item:r,"show-delete":e.matterModifyClass},on:{"on-modify":function(t){e.getMatterModify(r,i,n)}},nativeOn:{click:function(t){e.delClick(i,r,n)}},scopedSlots:e._u([{key:"info",fn:function(t){var r=t.item;return[a("div",{staticClass:"mater_more"},[r.promDeliTime?a("span",[e._v("承诺交付日期: "+e._s(e._f("dateFormat")(r.promDeliTime,"YYYY-MM-DD")))]):e._e(),e._v(" "),a("span",[e._v("库存: "+e._s(r.qtyStock))])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:r.tdQty&&r.shippingTime,expression:"item.tdQty && item.shippingTime"}],staticClass:"mater_more"},[a("span",[e._v("主计划截止验收日:"+e._s(r.shippingTime))])]),e._v(" "),r.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"matter-remain"},[a("div",[e._v("待计划余额: "+e._s(r.qtyBal))]),e._v(" "),a("div",[e._v("库存计划: "+e._s(r.lockQty))]),e._v(" "),a("div",[e._v("加工计划: "+e._s(r.processQty))])]),e._v(" "),a("span",{staticClass:"check_bom",on:{click:function(t){e.checkBom(r,i,n)}}},[e._v("查看原料")])]):e._e()]}},{key:"edit",fn:function(t){var r=t.item;return[r.tdQty||e.matterModifyClass?e._e():a("div",{staticClass:"mater_other"},[a("div",{staticClass:"edit-tips",on:{click:function(t){e.getMatterModify(r,i,n)}}},[e._v("点击进行填写")]),e._v(" "),a("span",{staticClass:"check_bom",on:{click:function(t){e.checkBom(r,i,n)}}},[e._v("查看原料")])])]}}])}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.matterModifyClass,expression:"matterModifyClass"}],staticClass:"delete_icon",on:{click:function(t){e.delClick(i,r,n)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(r),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(r),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])])],1)})],2)}),0)]:[a("div",{on:{click:function(t){e.showOrderPop=!e.showOrderPop}}},[a("div",{staticClass:"title"},[e._v("订单列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择订单")]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),Object.keys(e.orderList).length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多物料")])]):e._e(),e._v(" "),a("pop-order-list",{ref:"order",attrs:{show:e.showOrderPop,"default-value":e.orderList,"is-mater-order":""},on:{"sel-matter":e.selOrder},scopedSlots:e._u([{key:"materInfo",fn:function(t){var n=t.item;return[a("div",{staticClass:"mater_material"},[a("span",{staticClass:"matter-info-item"},[e._v("库存:"+e._s(n.qtyStock))]),e._v(" "),a("span",{staticClass:"matter-info-item"},[e._v("余额:"+e._s(n.qtyBal))])])]}}]),model:{value:e.showOrderPop,callback:function(t){e.showOrderPop=t},expression:"showOrderPop"}})],2),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.UniqueBom.length,expression:"UniqueBom.length"}],staticClass:"materiel_list"},[a("bom-list",{attrs:{boms:e.UniqueBom},scopedSlots:e._u([{key:"number",fn:function(t){var n=t.bom;return[a("div",{staticClass:"number-part"},[a("span",{staticClass:"main-number"},[e._v("原料需求: "+e._s(n.tdQty)+e._s(n.measureUnit))]),e._v(" "),a("span",{staticClass:"number-unit"},[e._v("库存余额: "+e._s(n.qtyStock||n.thenQtyStock))])])]}}])})],1),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,"is-show-amount":!1},on:{"sel-confirm":e.selConfirm},scopedSlots:e._u([{key:"modify",fn:function(t){var n=t.modifyMatter;return[a("x-input",{attrs:{title:"待计划余额",type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkQtyBal(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.qtyBal,callback:function(t){e.$set(n,"qtyBal",e._n(t))},expression:"modifyMatter.qtyBal"}}),e._v(" "),a("x-input",{attrs:{title:"库存计划",type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checklockQty(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.lockQty,callback:function(t){e.$set(n,"lockQty",e._n(t))},expression:"modifyMatter.lockQty"}}),e._v(" "),a("x-input",{attrs:{title:"加工计划",type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkprocessQty(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.processQty,callback:function(t){e.$set(n,"processQty",e._n(t))},expression:"modifyMatter.processQty"}}),e._v(" "),a("datetime",{attrs:{title:"主计划截止验收日",placeholder:"请选择"},model:{value:n.shippingTime,callback:function(t){e.$set(n,"shippingTime",t)},expression:"modifyMatter.shippingTime"}}),e._v(" "),a("cell",{attrs:{title:"库存","text-align":"right",value:n.qtyStock}})]}}]),model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("bom-pop",{ref:"bomPop",attrs:{show:e.bomPopShow,bomInfo:e.bom,"btn-is-hide":e.btnIsHide,"no-specific-loss":!0},on:{"bom-confirm":e.bomConfirm},scopedSlots:e._u([{key:"bom-left",fn:function(t){var n=t.bom;return[a("div",{staticClass:"shipping-time",on:{click:function(t){e.modifyBomDate(n)}}},[e._v("\n            采购交货日期: "+e._s(n.shippingTime)),a("span",{staticClass:"iconfont icon-bianji1"})])]}},{key:"number",fn:function(t){var n=t.bom;return[a("div",{staticClass:"number-part"},[a("span",{staticClass:"main-number"},[e._v("原料需求: "+e._s(n.tdQty)+e._s(n.measureUnit))]),e._v(" "),a("span",{staticClass:"number-unit"},[e._v("库存余额: "+e._s(n.qtyStock))])]),e._v(" "),a("div",{staticClass:"specific_loss",on:{click:function(t){e.modifyBomLockQty(n)}}},[e._v("\n            原料库存计划: "+e._s(n.lockQty)),a("span",{staticClass:"iconfont icon-bianji1"})]),e._v(" "),a("div",{staticClass:"specific_loss"},[e._v("\n            单位损耗率: "+e._s(n.specificLoss))])]}}]),model:{value:e.bomPopShow,callback:function(t){e.bomPopShow=t},expression:"bomPopShow"}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode"},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},xdF7:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("just-word-item",{key:n,attrs:{item:t,"no-count":""},nativeOn:{click:function(a){e.goDetail(t,n)}},scopedSlots:e._u([{key:"list-item",fn:function(t){var n=t.item;return e._l(n.detailItem,function(t,r){return a("div",{key:r,staticClass:"each-slot-item"},[a("div",{staticClass:"top-content"},[e._v("汇票号: "+e._s(t.draftNumber))]),e._v(" "),a("div",{staticClass:"main-content"},[a("div",{staticClass:"info_part"},[e._v("\n                承汇类型: "+e._s(n.draftType)+"\n              ")]),e._v(" "),a("div",{staticClass:"info_part"},[e._v("\n                承汇人: "+e._s(n.accepter)+"\n              ")])])])})}}])})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},xefX:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"techics-list-container",on:{click:function(t){e.showPop=!e.showPop}}},[a("div",{staticClass:"picker"},[a("label",{class:{required:e.required}},[e._v("工序名称")]),e._v(" "),a("div",{staticClass:"content"},[a("span",{staticClass:"mater_nature"},[e._v(e._s(e.selItems.procedureName||"请选择"))]),e._v(" "),a("span",{staticClass:"icon-right"})])]),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"popup-technics-list-container",attrs:{height:"80%"},on:{"on-show":e.onShow,"on-hide":e.onHide},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[a("r-search",{attrs:{filterList:e.filterList,isFill:!0},on:{search:e.searchList,"turn-off":e.onHide}}),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list-container",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp}},e._l(e.listData,function(t,n){return a("div",{key:n,staticClass:"mater-list-item",on:{click:function(a){a.stopPropagation(),e.selThis(t,n)}}},[a("div",{staticClass:"info-item"},[a("div",{staticClass:"name"},[e._v(e._s(t.procedureName))])]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark isSelIcon",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})])])}),0)],1)],1)])},r=[],i={render:n,staticRenderFns:r};t.a=i},xns3:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("kNGm"),s=n(o),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("AupE"),f=n(c),h=a("BUFe"),m=n(h),v=a("bFc7"),p=n(v),C=a("3NX5"),y=n(C),_=a("zlAJ"),g=n(_);t.default={data:function(){return{orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",contactInfo:{},attachment:[]}},mixins:[u.default],components:{workFlow:f.default,RAction:m.default,contactPart:p.default,MatterList:y.default,UploadFile:g.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u=o.order,c=u.dataSet,f=!0,h=!1,m=void 0;try{for(var v,p=(0,i.default)(c);!(f=(v=p.next()).done);f=!0){var C=v.value;C.inventoryPic=C.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+C.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){h=!0,m=e}finally{try{!f&&p.return&&p.return()}finally{if(h)throw m}}e.attachment=d,o.validUntil=(0,s.default)(u.validUntil,"YYYY-MM-DD"),e.matterList=u.dataSet,e.orderInfo=o,e.getcontactInfo(),e.workFlowInfoHandler()})},getcontactInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"order",t=this.orderInfo,a=t[e];this.contactInfo={creatorName:t.dealerDebitContactPersonName,dealerName:a.dealerName_dealerDebit,dealerMobilePhone:t.dealerDebitContactInformation,dealerContactPersonName:t.dealerDebitContactPersonName,dealerCode:a.dealerDebit,dealerLabelName:a.drDealerLabel,province:a.province_dealerDebit,city:a.city_dealerDebit,county:a.county_dealerDebit,address:a.address_dealerDebit,payment:a.drDealerPaymentTerm,validUntil:t.validUntil,logistics:t.drDealerLogisticsTerms}}}}},xohE:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement;return(e._self._c||t)("span",{staticClass:"vux-label-desc"},[e._t("default")],2)},r=[],i={render:n,staticRenderFns:r};t.a=i},xupB:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("ZLEe"),s=n(o),l=a("a3Yh"),d=n(l),u=a("d3k1"),c=(n(u),a("FvvE")),f=(n(c),a("ZTs6"));n(f);t.default={data:function(){var e;return e={currentComponent:"",showLoadding:!0,transCode:"",submitSuccess:!1,submitLoadding:!1},(0,d.default)(e,"transCode",null),(0,d.default)(e,"saveData",{}),e},methods:{modifyRoute:function(e){this.submitSuccess=e},selData:function(e){this.saveData=e}},beforeRouteEnter:function(e,t,a){var n=e.query.name;e.meta.title="新增"+n,(e.query.id||e.query.groupId||e.query.colId||e.query.transCode)&&(e.meta.title="编辑"+n),a()},created:function(){this.$loading.show();var e=this.$route.query.transCode,t=this.$route.params,n=t.folder,r=t.fileName;e&&(this.transCode=e),this.currentComponent=a("2PKd")("./"+n+"/"+r+"Form.vue").default},beforeRouteLeave:function(e,t,a){var n=this;this.$refs.fillPage.hasDraftData&&(this.saveData=this.$refs.fillPage.hasDraftData()||{});var r=(e.path,(0,s.default)(this.saveData)[0]);if(!this.submitSuccess||"LIST"!==e.name&&"MSGLIST"!==e.name||(e.meta.reload=!0,r&&sessionStorage.removeItem(r)),"LIST"===e.name&&sessionStorage.removeItem("DEALERLIST_SELITEMS"),"LIST"===e.name&&r&&!this.transCode&&!this.submitSuccess)return void this.$vux.confirm.show({content:"即将离开，是否保存数据？",onConfirm:function(){sessionStorage.setItem(r,(0,i.default)(n.saveData[r])),a()},onCancel:function(){sessionStorage.removeItem(r),a()}});a()}}},xwQh:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2487,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"}]}},mixins:[r.default],methods:{},created:function(){}}},xyHp:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("kNGm"),s=n(o),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("BUFe"),f=n(c),h=a("AupE"),m=n(h),v=a("bFc7"),p=n(v),C=a("zWMP");t.default={data:function(){return{count:0,formViewUniqueId:"7aa1ae41-77a0-4905-84b4-9fa09926be70",contactInfo:{}}},mixins:[u.default],components:{workFlow:m.default,RAction:f.default,contactPart:p.default},methods:{getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});e.attachment=t.attachment;var a=t.formData.order.dataSet,n=!0,r=!1,o=void 0;try{for(var l,d=(0,i.default)(a);!(n=(l=d.next()).done);n=!0){var u=l.value;e.count=(0,C.accAdd)(e.count,u.tdAmount)}}catch(e){r=!0,o=e}finally{try{!n&&d.return&&d.return()}finally{if(r)throw o}}t.formData.validUntil=(0,s.default)(t.formData.validUntil,"YYYY-MM-DD"),e.orderInfo=t.formData;var c=e.orderInfo.order;e.contactInfo={creatorName:c.dealerDebitContactPersonName,dealerName:c.dealerName_dealerDebit,dealerMobilePhone:e.orderInfo.dealerDebitContactInformation,dealerContactPersonName:e.orderInfo.dealerDebitContactPersonName,dealerCode:c.dealerDebit,dealerLabelName:c.dealerName_dealerDebit,province:c.province_dealerDebit,city:c.city_dealerDebit,county:c.county_dealerDebit,address:c.address_dealerDebit},e.workFlowInfoHandler()})}}}},"y/7I":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"app_top"},[a("searchIcon",{attrs:{placeHolder:e.placeHolder},on:{search:e.searchList}}),e._v(" "),a("tab",{attrs:{"line-width":2,"default-color":"#333","active-color":"#3296FA"}},e._l(e.dealerClassfiy,function(t,n){return a("tab-item",{key:n,attrs:{selected:n===e.activeIndex},on:{"on-item-click":function(a){e.tabClick(t,n)}}},[e._v(e._s(t.title)+"\n        ")])}),1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"app_main",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.dealerList.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.dealerList,function(t,n){return a("div",{key:n,staticClass:"basic-item-wrapper",class:{visited:t.visited},on:{click:function(a){e.goDetail(t,n)}}},[a("div",{staticClass:"basic-main"},[a("div",{staticClass:"basic-header"},[a("span",{staticClass:"basic_code vux-1px-l"},[e._v("往来编码："+e._s(t.dealerCode))]),e._v(" "),a("span",{staticClass:"basic_status",class:t.statusClass},[e._v(e._s(t.dealerStatus))])]),e._v(" "),a("div",{staticClass:"basic-info-wrapper"},[a("img",{staticClass:"basic-img",attrs:{src:t.dealerPic,alt:"dealer-img"},on:{error:function(a){e.getDefaultImg(t)}}}),e._v(" "),a("div",{staticClass:"basic-detail"},[a("div",{staticClass:"basic_name"},[e._v(e._s(t.dealerName))]),e._v(" "),a("div",{staticClass:"basic_detail_item"},[a("span",{staticClass:"basic_detail_title"},[e._v("地址:")]),e._v(" "),a("span",{staticClass:"basic_detail_value"},[e._v(e._s(t.detailAddress))])]),e._v(" "),a("div",{staticClass:"basic_detail_item"},[a("span",{staticClass:"basic_detail_title"},[e._v("类型:")]),e._v(" "),a("span",[e._v(e._s(t.dealerLabelName))])])])])]),e._v(" "),a("div",{staticClass:"basic-bottom vux-1px-t"},[a("div",{staticClass:"basic-bottom-wrapper"},[a("div",{staticClass:"basic_bottom_item basic_handler"},[a("i",{staticClass:"icon icon-handler"}),e._v(" "),a("span",[e._v("创建人："+e._s(t.creatorName))])]),e._v(" "),a("div",{staticClass:"basic_bottom_item basic_mod_time"},[a("i",{staticClass:"icon icon-mod-time"}),e._v(" "),a("span",[e._v("创建时间："+e._s(e._f("dateFormat")(t.crtTime,"YYYY-MM-DD HH:mm")))])])])])])}),0)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEditAds}}),e._v(" "),a("router-view")],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},"y2/q":function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("a3Yh"),i=n(r),o=a("KH7x"),s=n(o),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("BGNQ"),h=n(f),m=a("z5TY"),v=n(m),p=a("SAzG"),C=n(p),y=a("u28h"),_=n(y),g=a("kNGm"),b=n(g),w=a("PzEQ"),I=n(w),D=a("jLp1"),x=a("bKg5"),P=n(x),S=a("vl8n"),k=n(S),L=a("+WR7"),N=n(L),M=a("Qg39"),T=a("zWMP");t.default={mixins:[P.default],components:{Icon:c.default,Cell:h.default,Group:v.default,XInput:C.default,RPicker:k.default,PopBaseinfo:N.default,Datetime:_.default,XTextarea:I.default},data:function(){return{projectList:[],taskList:[],formData:{biProcessStatus:""},jsonData:{baseinfo:{},comment:{biComment:""}},projectTask:{projectName:"",taskName:"",taskType:"",comment:"",deadline:"",planTime:"",cycleNumber:"",actualCompleteTime:"",actualTime:"",actualtHomeworkCost:0,budgetHomeworkCost:"",operatingRate:""}}},methods:{save:function(){var e=this,t="";if([{key:"projectName",message:"项目"},{key:"taskName",message:"任务"},{key:"actualCompleteTime",message:"实际完成日期"}].every(function(a){return!!e.projectTask[a.key]||(t=a.message+"不能为空",!1)}),t)return void this.$vux.alert.show({content:t});this.$vux.confirm.show({content:"确认提交?",onConfirm:function(){e.$HandleLoad.show(),e.jsonData.baseinfo=(0,d.default)({},e.formData,{creator:e.formData.handler},e.jsonData.baseinfo,{modifer:e.formData.handler});var t=D.saveProjectTask,a={listId:"ee4ff0a1-c612-419d-afd7-471913d57a2a",formData:(0,d.default)({handlerEntity:e.entity.dealerName},e.jsonData,{projectTask:e.projectTask})};e.transCode&&(t=D.updateProjectTask),e.saveData(t,a)}})},clickDateSelect:function(){var e=this;this.$vux.datetime.show({confirmText:"确定",cancelText:"取消",value:this.formData.validUntil,onConfirm:function(t){e.formData.validUntil=t}})},getProjectList:function(){var e=this;return(0,D.getProjectPlanProjectName)().then(function(t){var a=t.tableContent,n=void 0===a?[]:a,r=[];n.forEach(function(e){e.projectName&&r.push((0,d.default)({},e,{name:e.projectName,value:e.projectName}))}),e.projectList=r})},taskChange:function(e){if(this.relationKey||this.transCode)return!1;var t=this.taskList.filter(function(t){return t.value===e}),a=(0,s.default)(t,1),n=a[0],r=void 0===n?{}:n;this.projectTask=(0,d.default)({},this.projectTask,{taskName:r.TASK_NAME,taskType:r.TASK_TYPE,comment:r.COMMENT,deadline:(0,b.default)(r.DEADLINE,"YYYY-MM-DD"),planTime:r.PLAN_TIME,budgetHomeworkCost:r.BUDGET_HOMEWORK_COST,operatingRate:r.JOB_RATE,cycleNumber:r.CYCLE_DAYS})},projectChange:function(e){if(this.relationKey||this.transCode)return!1;var t=this.projectList.find(function(t){return t.projectName===e});this.projectTask=(0,d.default)({},this.projectTask,{projectType:t.projectType||"",projectSubclass:t.projectSubclass||"",taskName:"",taskType:"",comment:"",deadline:"",planTime:"",budgetHomeworkCost:"",operatingRate:"",cycleNumber:""}),this.getTaskList()},getFormData:function(){var e=this;return(0,D.findProjectTask)(this.transCode).then(function(t){var a=t.formData,n=void 0===a?{}:a,r=n.projectTask;e.jsonData=n,e.projectTask=(0,d.default)({},r,{actualCompleteTime:(0,b.default)(r.actualCompleteTime,"YYYY-MM-DD")}),e.handlerDefault={handler:n.baseinfo.handler,handlerName:n.baseinfo.handlerName,handlerUnit:n.baseinfo.handlerUnit,handlerUnitName:n.baseinfo.handlerUnitName,handlerRole:n.baseinfo.handlerRole,handlerRoleName:n.baseinfo.handlerRoleName},e.getTaskList(),e.$loading.hide()})},getTaskList:function(){var e=this;return(0,D.getProjectTodoTask)({projectName:this.projectTask.projectName}).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;e.taskList=n.map(function(e){return e=(0,d.default)({},e,{name:e.TASK_NAME,value:e.TASK_NAME})})})},checkTime:function(){var e=this.projectTask.actualTime;e&&(this.projectTask.actualTime=Math.abs((0,M.toFixed)(e,1))),this.projectTask.operatingRate&&this.projectTask.actualTime&&(this.projectTask.actualtHomeworkCost=(0,T.accMul)(this.projectTask.operatingRate,this.projectTask.actualTime))},hasDraftData:function(){return!!this.projectTask.projectName&&(0,i.default)({},"XMRW_DATA",{projectTask:this.projectTask})},getRelationData:function(){var e=this;return(0,D.findProjectPlan)(this.relationKey).then(function(t){var a=t.formData,n=void 0===a?{}:a,r=(t.attachment,n.projectPlan[0]);e.projectTask=(0,d.default)({},e.projectTask,{projectName:n.projectApproval.projectName,taskName:r.taskName,taskType:r.taskType,comment:r.comment,deadline:(0,b.default)(r.deadline,"YYYY-MM-DD"),planTime:r.planTime})})}},created:function(){var e=sessionStorage.getItem("XMRW_DATA");if(e){var t=JSON.parse(e);this.projectTask=t.projectTask,this.getTaskList(),sessionStorage.removeItem("XMRW_DATA")}this.getProjectList()}}},y4ZN:function(e,t,a){"use strict";function n(e){a("NiXK")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4Hq9");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("Kqcd"),s=a.n(o),l=a("rUyz"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-e6ab3d9a",null);t.default=c.exports},y6sz:function(e,t){},y8YJ:function(e,t,a){"use strict";function n(e){a("GdV7")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("mDKT");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("nY9r"),s=a.n(o),l=a("3dl/"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-773992bd",null);t.default=c.exports},yB79:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"weui-btn",class:e.classes,style:e.buttonStyle,attrs:{disabled:e.disabled,type:e.actionType},on:{click:e.onClick}},[e.showLoading?a("i",{staticClass:"weui-loading"}):e._e(),e._v(" "),e._t("default",[e._v(e._s(e.text))])],2)},r=[],i={render:n,staticRenderFns:r};t.a=i},yCVl:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("iR2W"),i=n(r),o=a("kNGm"),s=n(o),l=a("Qg39");t.default={name:"materListItem",props:{item:{type:Object,default:function(){return{}}},isHasCount:{type:Boolean,default:!0}},data:function(){return{}},filters:{dateFormat:s.default,numberComma:i.default,toFixed:l.toFixed}}},yM1i:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("7g+Q"),i=n(r),o=a("HXPS"),s=n(o);t.default={name:"PopSingleSelect",props:{title:{type:String,default:""},value:{type:String,default:""},data:{type:Array,default:function(){return[]}},isRequired:{type:Boolean,default:!1}},components:{Popup:i.default,Icon:s.default},data:function(){return{showPop:!1,tmp:"",selected:""}},watch:{value:{handler:function(e){this.tmp=e,this.selected=e}}},methods:{selItem:function(e){this.tmp=e},confirm:function(){this.selected=this.tmp,this.showPop=!1,this.$emit("input",this.selected)}},created:function(){this.tmp=this.value,this.selected=this.value}}},yOlZ:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("just-word-item",{key:n,attrs:{item:t,"no-count":""},nativeOn:{click:function(a){e.goDetail(t,n)}},scopedSlots:e._u([{key:"list-item",fn:function(t){var n=t.item;return e._l(n.detailItem,function(t,r){return a("div",{key:r,staticClass:"each-slot-item"},[a("div",{staticClass:"top-content"},[e._v("汇票号: "+e._s(t.draftNumber))]),e._v(" "),a("div",{staticClass:"main-content"},[a("div",{staticClass:"info_part"},[e._v("\n                承汇类型: "+e._s(n.draftType)+"\n              ")]),e._v(" "),a("div",{staticClass:"info_part"},[e._v("\n                承汇人: "+e._s(n.accepter)+"\n              ")])])])})}}])})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},yPF3:function(e,t,a){"use strict";function n(e){a("9QsH")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("qEHM");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("SfL5"),s=a.n(o),l=a("5LZy"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-7abd049f",null);t.default=c.exports},yPYD:function(e,t){},yQzi:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2558,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"客户名称",value:"dealerName_dealerCodeCredit"}]}},mixins:[r.default],methods:{},created:function(){}}},yREp:function(e,t){},yRzb:function(e,t){},"yS+Q":function(e,t){},ySMP:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("matter-list",{attrs:{"matter-list":e.matterList},on:{"on-show-more":e.onShowMore}}),e._v(" "),a("other-part",{attrs:{"other-info":e.orderInfo,attachment:e.attachment}}),e._v(" "),a("pop-matter-detail",{attrs:{show:e.showMatterDetail,item:e.matterDetail},model:{value:e.showMatterDetail,callback:function(t){e.showMatterDetail=t},expression:"showMatterDetail"}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[],i={render:n,staticRenderFns:r};t.a=i},yYGT:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"childPage"},[a("div",{staticClass:"content"},[a("div",{staticClass:"mater_baseinfo vux-1px-b"},[a("div",{staticClass:"mater_property"},[a("div",{staticClass:"each_property vux-1px-b"},[a("label",{staticClass:"required"},[e._v("公司名称:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newCompanyInfo.groupName,expression:"newCompanyInfo.groupName"}],staticClass:"property_val",attrs:{type:"text"},domProps:{value:e.newCompanyInfo.groupName},on:{blur:e.checkGroupName,input:function(t){t.target.composing||e.$set(e.newCompanyInfo,"groupName",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"each_property required"},[a("label",{staticClass:"required"},[e._v("公司简称:")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newCompanyInfo.groupShortName,expression:"newCompanyInfo.groupShortName"}],staticClass:"property_val",attrs:{type:"text"},domProps:{value:e.newCompanyInfo.groupShortName},on:{blur:e.checkShortName,input:function(t){t.target.composing||e.$set(e.newCompanyInfo,"groupShortName",t.target.value)}}})])]),e._v(" "),a("upload-image",{attrs:{src:e.newCompanyInfo.groupPic},on:{"on-upload":e.onUpload,"on-error":e.getDefaultImg}})],1),e._v(" "),a("r-picker",{attrs:{title:"公司类型:",data:e.CompanyType,value:e.newCompanyInfo.companyType,required:!0},model:{value:e.newCompanyInfo.companyType,callback:function(t){e.$set(e.newCompanyInfo,"companyType",t)},expression:"newCompanyInfo.companyType"}}),e._v(" "),a("r-picker",{attrs:{title:"公司状态",data:e.CompanyStatus,value:e.newCompanyInfo.status},model:{value:e.newCompanyInfo.status,callback:function(t){e.$set(e.newCompanyInfo,"status",t)},expression:"newCompanyInfo.status"}})],1),e._v(" "),a("div",{staticClass:"vux-1px-t btn",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"cfm_btn",on:{click:e.save}},[e._v(e._s(e.groupId?"保存":"提交"))])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},yjGH:function(e,t){},yjOG:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("lC5x"),i=n(r),o=a("HzJ8"),s=n(o),l=a("J0Oq"),d=n(l),u=a("3cXf"),c=n(u),f=a("4YfN"),h=n(f),m=a("IzfM"),v=n(m),p=a("Dkzh"),C=a("AQAo"),y=n(C),_=a("FvvE"),g=(n(_),a("ZTs6")),b=(n(g),a("xbeG")),w=n(b),I=a("vmwj"),D=n(I),x=a("vHT0"),P=n(x);t.default={data:function(){return{BUSobj:{},userInfo:{},BusApps:[],BasicApps:[],homeScroll:null,entityList:[],showDrop:!1,selItem:{}}},components:{busApp:w.default,basicApp:D.default},methods:{goBasic:function(e){this.$router.push({path:""+y.default[e]})},goList:function(e,t,a,n){this.$router.push({path:"/list/"+e+"/"+t,query:{name:a,listId:n}})},goAppDetail:function(e){this.$router.push({path:"/appDetail/"+e})},getDefaultIcon:function(e){var t=a("CYNT");return e&&(e.icon=t),t},getNews:function(){var e=this,t=void 0;return(0,p.getMsgList)().then(function(a){if(a.dataCount>99)return void(t="99+");t=a.dataCount,e.$event.$emit("badgeNum",t)})},getCurrentUser:function(){var e=this;return v.default.currentUser().then(function(t){e.userInfo={photo:t.photo,mobile:t.mobile,userCode:t.userCode,nickname:t.nickname,entityName:t.entityName&&t.entityName.slice(0,4)||""},t.sysGroupList&&t.sysGroupList.forEach(function(a){"C"===a.groupType&&(e.entityList.push(a),a.groupCode===t.entityId&&(e.selItem=a))})})},dropItemClick:function(e){this.selItem.groupCode!==e.groupCode&&(this.selItem=(0,h.default)({},e),this.userInfo.entityName=e.groupName.slice(0,4),this.showDrop=!1,this.$loading.show(),v.default.changeEntity({entityId:e.groupCode}).then(function(e){var t=sessionStorage.getItem("ROSE_LOGIN_TOKEN");t&&(t=JSON.parse(t),t.entityId=e.entityId,t.token=e.token,sessionStorage.setItem("ROSE_LOGIN_TOKEN",(0,c.default)(t)),location.reload())}))}},watch:{$route:{handler:function(e){"HOME"===e.name&&this.homeScroll.refresh()}}},created:function(){var e=this;this.$loading.show(),(0,d.default)(i.default.mark(function t(){var n,r,o,l,d;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getCurrentUser();case 2:return t.next=4,v.default.getMeau().then(function(t){var a=e.BUSobj,n=!0,r=!1,i=void 0;try{for(var o,l=(0,s.default)(t);!(n=(o=l.next()).done);n=!0){var d=o.value;a[d.text]=[];var u=!0,c=!1,f=void 0;try{for(var m,v=(0,s.default)(d.children);!(u=(m=v.next()).done);u=!0){var p=m.value;if(y.default[p.listId]&&(p.icon=p.icon?"/dist/"+p.icon:"",e.BasicApps.push(p)),p.packagePath&&(p.fileID=d.id,p.icon?p.icon.includes("download")?p.icon=""+location.origin+p.icon:p.icon="/dist/"+p.icon:e.getDefaultIcon(),a[d.text].push(p)),p.children){var C=!0,_=!1,g=void 0;try{for(var b,w=(0,s.default)(p.children);!(C=(b=w.next()).done);C=!0){var I=b.value;I.packagePath&&(I.fileID=d.id,I.icon=I.icon?"/dist/"+I.icon:e.getDefaultIcon(),a[d.text][p.text]?a[d.text][p.text].childList.push(I):e.$set(a[d.text],p.text,{childId:p.id,childName:p.text,childList:[I]}))}}catch(e){_=!0,g=e}finally{try{!C&&w.return&&w.return()}finally{if(_)throw g}}}}}catch(e){c=!0,f=e}finally{try{!u&&v.return&&v.return()}finally{if(c)throw f}}e.BusApps.push({id:d.id,name:d.text,folder:d.folder,appList:(0,h.default)({},a[d.text])}),e.$loading.hide()}}catch(e){r=!0,i=e}finally{try{!n&&l.return&&l.return()}finally{if(r)throw i}}});case 4:return n=JSON.parse(sessionStorage.getItem("ROSE_LOGIN_TOKEN")),r=n.name,o=n.avatar,l=n.position,o||(d=e.userInfo.photo,e.userInfo.photo||(d=a("Fuf7")),o=d),e.userInfo=(0,h.default)({},e.userInfo,{name:r,avatar:o,position:l}),t.next=10,e.getNews();case 10:case"end":return t.stop()}},t,e)}))()},mounted:function(){this.homeScroll=new P.default(this.$refs.home,{click:!0})}}},ynid:function(e,t,a){function n(e){return a(r(e))}function r(e){var t=i[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var i={"./comment.png":"+raq","./praise.png":"GdIh","./todo.png":"lz9o"};n.keys=function(){return Object.keys(i)},n.resolve=r,e.exports=n,n.id="ynid"},yosr:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("IHPB"),s=n(o),l=a("4YfN"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),h=n(f),m=a("6q39"),v=n(m),p=a("kNGm"),C=n(p),y=a("fEP3"),_=a("1KNX"),g=n(_),b=a("7biW"),w=n(b);t.default={name:"work-list-pop",props:{show:{type:Boolean,default:!1},defaultValue:{type:Object,default:function(){return{}}}},components:{Icon:c.default,Popup:h.default,LoadMore:v.default,RScroll:g.default,MSearch:w.default},filters:{dateFormat:C.default},data:function(){return{showPop:!1,srhInpTx:"",selItems:{},workList:[],limit:10,page:1,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0},filterList:[{name:"成品名称",value:"inventoryName"},{name:"成品编码",value:"inventoryCode"},{name:"工序名称",value:"procedureName"}],filterProperty:"",inventoryCode:"",orderCode:""}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.setDefaultValue()}}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1)},showSelIcon:function(e){return this.selItems.colId===e.colId},selThis:function(e,t){this.showPop=!1,this.selItems=(0,d.default)({},e),this.$emit("sel-work",this.selItems)},setDefaultValue:function(){this.selItems=(0,d.default)({},this.defaultValue)},getWorkOrderTask:function(){var e=this,t=[],a=this.$route.query.orderId,n=void 0===a?"":a;return this.srhInpTx&&(t=[].concat((0,s.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),n&&(t=[].concat((0,s.default)(t),[{operator:"eq",value:n,property:"colId"}])),(0,y.getWorkCheckList)({limit:this.limit,page:this.page,start:(this.page-1)*this.limit,filter:(0,i.default)(t),refresh:!0}).then(function(t){var a=t.dataCount,r=void 0===a?0:a,i=t.tableContent,o=void 0===i?[]:i;n&&e.$emit("sel-work",o[0]),e.hasNext=r>(e.page-1)*e.limit+o.length,e.workList=1===e.page?o:[].concat((0,s.default)(e.workList),(0,s.default)(o)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,r=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=r,this.workList=[],this.page=1,this.hasNext=!0,this.$refs.bScroll.scrollTo(0,0),this.getWorkOrderTask()},onPullingUp:function(){this.page++,this.getWorkOrderTask()}},created:function(){this.setDefaultValue(),this.getWorkOrderTask()}}},yp1W:function(e,t,a){"use strict";function n(e){a("cW3i")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("E0uh");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("tNTb"),s=a.n(o),l=a("2hEA"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-86c8fdde",null);t.default=c.exports},yqeo:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("IHPB"),s=n(o),l=a("HXPS"),d=n(l),u=a("7g+Q"),c=n(u),f=a("6q39"),h=n(f),m=a("fEP3"),v=a("1KNX"),p=n(v),C=a("7biW"),y=n(C);a("zWMP");t.default={name:"work-list-pop",props:{show:{type:Boolean,default:!1},workType:{type:String,default:"派工"},getListMethod:{type:String,default:"getWorkOrderTask"}},components:{Icon:d.default,Popup:c.default,LoadMore:h.default,RScroll:p.default,MSearch:y.default},data:function(){return{showPop:!1,srhInpTx:"",scrollOptions:{click:!0},btnText:"关闭",filterList:[{name:"物料名称",value:"inventoryName"},{name:"工序名称",value:"procedureName"}],filterProperty:"",taskWorkList:[],tmpItems:[],requestMethods:null}},watch:{show:{handler:function(e){this.showPop=e}},workType:{handler:function(e){"验收"===e&&this.filterList.push({name:"启动单号",value:"transCode"})},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.$emit("input",!1),this.tmpItems=[]},findIndex:function(e,t){return e.findIndex(function(e){return e.colId===t.colId})},showSelIcon:function(e){return-1!==this.findIndex(this.tmpItems,e)},selThis:function(e,t){var a=this.tmpItems,n=this.findIndex(a,e);if(-1!==n)return a.splice(n,1),void(a.length||(this.btnText="关闭"));"验收"===this.workType?this.tmpItems=[e]:a.push(e),this.btnText=this.tmpItems?"发起工单"+this.workType:"关闭"},getWorkOrderTask:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,s.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,m.getWorkOrderTask)({filter:(0,i.default)(t)}).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;n.forEach(function(e){e.isStartTask=!1}),e.taskWorkList=n})},getWorkCheckList:function(){var e=this,t=[];return this.srhInpTx&&(t=[].concat((0,s.default)(t),[{operator:"like",value:this.srhInpTx,property:this.filterProperty}])),(0,m.getWorkCheckList)({filter:(0,i.default)(t)}).then(function(t){var a=t.tableContent,n=void 0===a?[]:a;n.forEach(function(e){e.isStartTask=!1}),e.taskWorkList=n})},searchList:function(e){var t=e.val,a=void 0===t?"":t,n=e.property,r=void 0===n?"":n;this.srhInpTx=a,this.filterProperty=r,this.taskWorkList={},this.$refs.bScroll.scrollTo(0,0),this.requestMethods()},btnHandle:function(){"关闭"!==this.btnText&&this.$emit("sel-task",this.tmpItems),this.showPop=!1}},created:function(){this.requestMethods=this[this.getListMethod],this.requestMethods()}}},"yt3/":function(e,t,a){"use strict";function n(e){a("s3Yd")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("eQoa");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("yM1i"),s=a.n(o),l=a("rccq"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-3291ba8a",null);t.default=c.exports},yv4D:function(e,t,a){"use strict";function n(e){a("817f")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("xJ3M");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("ZsTC"),s=a.n(o),l=a("X+3X"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-f0179852",null);t.default=c.exports},"z/Aa":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"childPage"},[a("div",{staticClass:"content"},[a("div",{staticClass:"each_property vux-1px-b",on:{click:e.getDate}},[a("label",[e._v("期间(月份):")]),e._v(" "),a("div",{staticClass:"property_val",class:{tip:""===e.submitData.date}},[e._v(e._s(e.submitData.date||"请选择"))])]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("效率与成本改进成果:")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.submitData.achievement,expression:"submitData.achievement"}],staticClass:"property_val",attrs:{placeholder:"请输入"},domProps:{value:e.submitData.achievement},on:{input:function(t){t.target.composing||e.$set(e.submitData,"achievement",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"each_property vux-1px-b"},[a("label",[e._v("效率与成本改进机会:")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.submitData.chance,expression:"submitData.chance"}],staticClass:"property_val",attrs:{placeholder:"请输入"},domProps:{value:e.submitData.chance},on:{input:function(t){t.target.composing||e.$set(e.submitData,"chance",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"btn vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"cfm_btn",on:{click:e.submit}},[e._v("提交")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},"z/PS":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"materiel-list"},[e.DataLength?[a("div",{staticClass:"has-matter",on:{click:e.showDeleteFn}},[a("div",{staticClass:"title"},[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"edit"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater-list"},[e.listIsObj?e._l(e.matterList,function(t,n,r){return a("div",{key:n,staticClass:"each_mater",class:{"vux-1px-t":r>0}},[t.length&&"noCode"!==n?a("div",{staticClass:"order_code"},[e._v("\n            "+e._s(e.orderListTitle)+"："+e._s(n)+"\n          ")]):e._e(),e._v(" "),e._l(t,function(t,r){return a("div",{key:r,class:{mater_delete:e.matterModifyClass}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass,config:e.matterEditConfig.property},on:{"on-modify":function(a){e.getMatterModifyFn(t,r,n)}},nativeOn:{click:function(a){e.delClickFn(t,r,n)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[e._t("info",[n.price&&n.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{directives:[{name:"show",rawName:"v-show",value:!isNaN(n.price),expression:"!isNaN(item.price)"}],staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price)+"\n                    ")]),e._v(" "),e._t("rNumber",[a("r-number",{attrs:{num:n.tdQty,max:n[e.maxField]},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",t)},expression:"item.tdQty"}})],{item:n})],2):e._e()],{item:n})]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClickFn(t,r,n)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIconFn(t,r),expression:"showSelIconFn(item, index)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIconFn(t,r),expression:"!showSelIconFn(item, index)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)})],2)}):e._l(e.matterList,function(t,n){return a("div",{key:n,staticClass:"each_mater",class:{mater_delete:e.matterModifyClass,"vux-1px-b":n<e.DataLength-1}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass,config:e.matterEditConfig.property},on:{"on-modify":function(a){e.getMatterModifyFn(t,n)}},nativeOn:{click:function(a){e.delClickFn(t,n)}},scopedSlots:e._u([{key:"info",fn:function(t){var a=t.item;return[e._t("info",null,{item:a})]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClickFn(t,n)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIconFn(t,n),expression:"showSelIconFn(item, index)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIconFn(t,n),expression:"!showSelIconFn(item, index)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)})],2)]:[a("div",{staticClass:"no-matter",on:{click:function(t){e.showPop=!e.showPop}}},[a("div",{staticClass:"title"},[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),e._m(0)])],e._v(" "),e.DataLength&&!e.matterModifyClass?a("div",{class:[e.isSubmitAgain?"resubmit-part":"sumbit-part"]},[e.DataLength?a("div",{staticClass:"add_more",on:{click:e.addMatterFn}},[a("span",{staticClass:"icon-add"}),e._v(" "),a("span",{staticClass:"add_text"},[e._v("新增更多物料")])]):e._e(),e._v(" "),this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrderFn}},[e._v("终止提交")]):e._e()]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showPop,config:e.matterPopConfig,"order-title":e.orderListTitle,"filter-list":e.filterList,"matter-params":e.matterParams,"default-value":e.defaultValue},on:{"shut-down-outsidePop":e.closePop,"sel-matter":e.selMatterFn},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}}),e._v(" "),a("pop-matter",{attrs:{"chosen-matter":e.chosenMatter,"show-pop":e.showModifyPop,"btn-is-hide":e.btnIsHide,config:e.matterEditConfig,"check-amt":e.checkAmtFn},on:{"sel-confirm":e.selConfirmFn,"show-down-modify":e.closeModify},model:{value:e.showModifyPop,callback:function(t){e.showModifyPop=t},expression:"showModifyPop"}})],2)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"seleted_icon"},[e._v("\n        请选择"),a("span",{staticClass:"icon-right"})])}],i={render:n,staticRenderFns:r};t.a=i},z0Nv:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages nbjgdd-apply-container"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[Object.keys(e.orderList).length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v("订单列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.orderList,function(t,n,r){return a("div",{key:n,staticClass:"each_mater"},[t.length?a("div",{staticClass:"order_code"},[a("span",{staticClass:"order_title"},[e._v("计划号")]),e._v(" "),a("span",{staticClass:"order_num"},[e._v(e._s(n))])]):e._e(),e._v(" "),e._l(t,function(r,i){return a("div",{key:i,class:{mater_delete:e.matterModifyClass}},[a("matter-item",{class:{"vux-1px-b":i<t.length-1},attrs:{item:r,"show-delete":e.matterModifyClass},on:{"on-modify":function(t){e.getMatterModify(r,i,n)}},nativeOn:{click:function(t){e.delClick(i,r,n)}},scopedSlots:e._u([{key:"info",fn:function(t){var r=t.item;return[a("div",{staticClass:"mater_more"},[a("span",[e._v("单位: "+e._s(r.measureUnit))]),e._v(" "),a("span",[e._v("待下单余额: "+e._s(r.qtyBal))])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:r.shippingTime,expression:"item.shippingTime"}],staticClass:"mater_more"},[a("span",[e._v("成品计划验收日期:"+e._s(r.shippingTime))])]),e._v(" "),r.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"matter-remain"},[e._v("\n                        本次下单: "+e._s(r.tdQty)+"\n                      ")]),e._v(" "),a("span",{staticClass:"check_bom",on:{click:function(t){e.checkBom(r,i,n)}}},[e._v("查看原料")])]):e._e()]}},{key:"edit",fn:function(t){var r=t.item;return[r.tdQty||e.matterModifyClass?e._e():a("div",{staticClass:"mater_other"},[a("div",{staticClass:"edit-tips",on:{click:function(t){e.getMatterModify(r,i,n)}}},[e._v("点击进行填写")]),e._v(" "),a("span",{staticClass:"check_bom",on:{click:function(t){e.checkBom(r,i,n)}}},[e._v("查看原料")])])]}}])}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.matterModifyClass,expression:"matterModifyClass"}],staticClass:"delete_icon",on:{click:function(t){e.delClick(i,r,n)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(r),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(r),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])])],1)})],2)}),0)]:[a("div",{on:{click:function(t){e.showOrderPop=!e.showOrderPop}}},[a("div",{staticClass:"title"},[e._v("订单列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择订单")]),e._v(" "),a("i",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),Object.keys(e.orderList).length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[this.actions.includes("stop")?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),a("span",{staticClass:"add_more",on:{click:e.addOrder}},[e._v("新增更多物料")])]):e._e(),e._v(" "),a("pop-order-xqtj-list",{ref:"order",attrs:{show:e.showOrderPop,"default-value":e.orderList,"list-method":"getInProcessingOrder"},on:{"sel-matter":e.selOrder},model:{value:e.showOrderPop,callback:function(t){e.showOrderPop=t},expression:"showOrderPop"}})],2),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.UniqueBom.length,expression:"UniqueBom.length"}],staticClass:"materiel_list"},[a("bom-list",{attrs:{boms:e.UniqueBom},scopedSlots:e._u([{key:"number",fn:function(t){var n=t.bom;return[a("div",{staticClass:"number-part"},[a("span",{staticClass:"main-number"},[e._v("领料需求: "+e._s(n.tdQty)+e._s(n.measureUnit))])])]}}])})],1),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}}),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,"is-show-amount":!1},on:{"sel-confirm":e.selConfirm},scopedSlots:e._u([{key:"modify",fn:function(t){var n=t.modifyMatter;return[a("x-input",{attrs:{title:"本次下单",type:"number","text-align":"right",placeholder:"请输入"},on:{"on-blur":function(t){e.checkAmt(n)},"on-focus":function(t){e.getFocus(t)}},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",e._n(t))},expression:"modifyMatter.tdQty"}}),e._v(" "),a("datetime",{attrs:{title:"主计划完工入库日",placeholder:"请选择"},model:{value:n.shippingTime,callback:function(t){e.$set(n,"shippingTime",t)},expression:"modifyMatter.shippingTime"}}),e._v(" "),a("cell",{attrs:{title:"待下单余额","text-align":"right",placeholder:"请填写",value:n.qtyBal}})]}}]),model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("bom-pop",{staticClass:"bom_pop",attrs:{show:e.bomPopShow,bomInfo:e.bom,"btn-is-hide":e.btnIsHide},on:{"bom-confirm":e.bomConfirm},scopedSlots:e._u([{key:"number",fn:function(t){var n=t.bom;return[a("div",{staticClass:"number-part"},[a("span",{staticClass:"main-number"},[e._v("领料需求: "+e._s(n.tdQty)+e._s(n.measureUnit))])])]}}]),model:{value:e.bomPopShow,callback:function(t){e.bomPopShow=t},expression:"bomPopShow"}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode"},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"btn-no-amt vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"btn-item",on:{click:e.submitOrder}},[e._v("提交")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},z10A:function(e,t,a){"use strict";function n(e){a("8jC1")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("Ij+m");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("bI5q"),s=a.n(o),l=a("JajO"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-3d30eb72",null);t.default=c.exports},z33u:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("just-word-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}},scopedSlots:e._u([{key:"list-item",fn:function(t){var n=t.item;return e._l(n.detailItem,function(t,n){return a("div",{key:n,staticClass:"each-slot-item"},[a("div",{staticClass:"top-content"},[e._v("资金账户: "+e._s(t.fundName_cashInCode))]),e._v(" "),a("div",{staticClass:"main-content"},[a("div",{staticClass:"info_part"},[e._v("\n                收款金额: ￥"+e._s(e._f("numberComma")(t.tdAmount))+"\n              ")])])])})}}])})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},"z4/z":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pages"},[a("div",{ref:"fill",staticClass:"basicPart"},[a("div",{staticClass:"fill_wrapper"},[a("pop-baseinfo",{attrs:{defaultValue:e.handlerDefault,"handle-org-list":e.handleORG,"user-role-list":e.userRoleList},on:{"sel-item":e.selItem}}),e._v(" "),a("r-picker",{attrs:{title:"流程状态",data:e.currentStage,mode:"3",placeholder:"请选择流程状态",hasBorder:!1},model:{value:e.formData.biProcessStatus,callback:function(t){e.$set(e.formData,"biProcessStatus",t)},expression:"formData.biProcessStatus"}}),e._v(" "),a("pop-dealer-list",{attrs:{defaultValue:e.dealerInfo,"dealer-params":e.dealerParams,defaultContact:e.contact},on:{"sel-dealer":e.selDealer,"sel-contact":e.selContact}}),e._v(" "),a("dealer-other-part",{attrs:{"dealer-config":e.dealerConfig,"dealer-info":e.dealerInfo},model:{value:e.dealerInfo,callback:function(t){e.dealerInfo=t},expression:"dealerInfo"}}),e._v(" "),a("div",{staticClass:"materiel_list"},[e.matterList.length?[a("div",{staticClass:"title",on:{click:e.showDelete}},[a("div",[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"finished"},[e._v("完成")]):a("div",{staticClass:"edit"},[e._v("编辑")])]),e._v(" "),a("div",{staticClass:"mater_list"},e._l(e.matterList,function(t,n){return a("div",{key:n,staticClass:"each_mater",class:{mater_delete:e.matterModifyClass,"vux-1px-b":n<e.matterList.length-1}},[a("matter-item",{attrs:{item:t,"show-delete":e.matterModifyClass,config:e.matterEditConfig.property},on:{"on-modify":function(a){e.getMatterModify(t,n)}},nativeOn:{click:function(a){e.delClick(t,n)}},scopedSlots:e._u([{key:"info",fn:function(t){var n=t.item;return[n.price&&n.tdQty?a("div",{staticClass:"mater_other"},[a("div",{staticClass:"mater_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(n.price)+"\n                    ")]),e._v(" "),a("div",[a("r-number",{attrs:{num:n.tdQty,checkAmt:e.checkAmt},model:{value:n.tdQty,callback:function(t){e.$set(n,"tdQty",t)},expression:"item.tdQty"}})],1)]):e._e()]}},{key:"editPart",fn:function(t){var r=t.item;return[a("div",{directives:[{name:"show",rawName:"v-show",value:r.price&&r.tdQty&&!e.matterModifyClass,expression:"(item.price && item.tdQty) &&!matterModifyClass"}],staticClass:"edit-part vux-1px-l",on:{click:function(t){e.getMatterModify(r,n)}}},[a("span",{staticClass:"iconfont icon-bianji1"})])]}}])}),e._v(" "),e.matterModifyClass?a("div",{staticClass:"delete_icon",on:{click:function(a){e.delClick(t,n)}}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.showSelIcon(t),expression:"showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:!e.showSelIcon(t),expression:"!showSelIcon(item)"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})])]):e._e()],1)}),0)]:[a("div",{staticClass:"no-matter",on:{click:e.getMatter}},[a("div",{staticClass:"title"},[e._v(e._s(e.orderListTitle)+"列表")]),e._v(" "),a("div",{staticClass:"required"},[e._v("请选择"+e._s(e.orderListTitle))]),e._v(" "),a("span",{staticClass:"iconfont icon-youjiantou r_arrow"})])],e._v(" "),e.matterList.length&&!e.matterModifyClass?a("div",{staticClass:"handle_part"},[1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"add_more stop",on:{click:e.stopOrder}},[e._v("终止提交")]):e._e(),e._v(" "),1===e.btnInfo.isMyTask&&e.btnInfo.actions.indexOf("stop")>=0?a("span",{staticClass:"symbol"},[e._v("或")]):e._e(),e._v(" "),e.matterList.length?a("span",{staticClass:"add_more",on:{click:e.addMatter}},[e._v("新增更多物料")]):e._e()]):e._e(),e._v(" "),a("pop-matter-list",{ref:"matter",attrs:{show:e.showMaterielPop,"default-value":e.matterList,"matter-params":e.matterParams,config:e.matterPopConfig,"order-title":e.matterPopOrderTitle},on:{"sel-matter":e.selMatter},model:{value:e.showMaterielPop,callback:function(t){e.showMaterielPop=t},expression:"showMaterielPop"}})],2),e._v(" "),a("pop-matter",{attrs:{"modify-matter":e.matter,"show-pop":e.showMatterPop,"btn-is-hide":e.btnIsHide,config:e.matterEditConfig},on:{"sel-confirm":e.selConfirm},model:{value:e.showMatterPop,callback:function(t){e.showMatterPop=t},expression:"showMatterPop"}}),e._v(" "),a("div",{staticClass:"comment vux-1px-t",class:{no_margin:!e.matterList.length}},[a("x-textarea",{attrs:{placeholder:"备注"},model:{value:e.formData.biComment,callback:function(t){e.$set(e.formData,"biComment",t)},expression:"formData.biComment"}})],1),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,biReferenceId:e.biReferenceId},on:{"on-upload":e.onUploadFile}})],1)]),e._v(" "),e.matterModifyClass?a("div",{staticClass:"count_mode vux-1px-t delete_mode",class:{btn_hide:e.btnIsHide}},[a("div",{staticClass:"count_num all_checked",on:{click:e.checkAll}},[a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length!==e.matterList.length,expression:"selItems.length !== matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-circle-outline",attrs:{type:"ios-circle-outline",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm0 398.7c-105.1 0-190.7-85.5-190.7-190.7 0-105.1 85.5-190.7 190.7-190.7 105.1 0 190.7 85.5 190.7 190.7 0 105.1-85.6 190.7-190.7 190.7z"}})]),e._v(" "),a("svg",{directives:[{name:"show",rawName:"v-show",value:e.selItems.length===e.matterList.length,expression:"selItems.length === matterList.length"}],staticClass:"vux-x-icon vux-x-icon-ios-checkmark checked",attrs:{type:"ios-checkmark",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-32.1 281.7c-2.4 2.4-5.8 4.4-8.8 4.4s-6.4-2.1-8.9-4.5l-56-56 17.8-17.8 47.2 47.2L340 177.3l17.5 18.1-133.6 134.3z"}})]),e._v("\n      全选\n    ")]),e._v(" "),a("div",{staticClass:"delete_btn",on:{click:e.deleteCheckd}},[e._v("删除")])]):a("div",{staticClass:"count_mode vux-1px-t",class:{btn_hide:e.btnIsHide}},[a("span",{staticClass:"count_num",class:{nine_up:e.tdAmount.length>8,ten_up:e.tdAmount.length>9,ele_up:e.tdAmount.length>10}},[a("span",{staticClass:"total_price"},[a("span",{staticClass:"symbol"},[e._v("￥")]),e._v(e._s(e._f("numberComma")(e.tdAmount,3))+"\n      ")]),e._v(" "),a("span",{staticClass:"taxAmount"},[e._v("[含税: ￥"+e._s(e._f("numberComma")(e.taxAmount,3))+"]")])]),e._v(" "),a("span",{staticClass:"count_btn",on:{click:e.submitOrder}},[e._v("提交")])])])},r=[],i={render:n,staticRenderFns:r};t.a=i},z5TY:function(e,t,a){"use strict";function n(e){a("jICf")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("G/uS");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("jrYp"),s=a.n(o),l=a("sIfZ"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,null,null);t.default=c.exports},z6WS:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"warehouse-container"},[a("header",{staticClass:"warehouse-header"},[a("div",{staticClass:"warehouse_title vux-1px-l"},[e._v("仓库信息")]),e._v(" "),e.warehouseConfig.length>1?a("div",{staticClass:"warehouse_switch"},e._l(e.warehouseConfig,function(t,n){return a("div",{key:n,staticClass:"warehouse_switch_item",class:{active:e.activeIndex===n},on:{click:function(a){e.warehouseChange(t,n)}}},[e._v("\n        "+e._s(t.warehouseAction)+"\n      ")])}),0):e._e()]),e._v(" "),a("div",{staticClass:"warehouse-main"},[e._l(e.PicList,function(t,n){return a("div",{directives:[{name:"show",rawName:"v-show",value:e.activeIndex===n,expression:"activeIndex === index"}],key:n},[a("img",{staticClass:"warehouse_img",attrs:{src:t.warehousePic}})])}),e._v(" "),e.warehouseConfig[e.activeIndex]?a("div",{staticClass:"warehouse_info"},e._l(e.warehouseConfig[e.activeIndex].config,function(t,n){return a("div",{directives:[{name:"show",rawName:"v-show",value:t.fieldLabel,expression:"item.fieldLabel"}],key:n,staticClass:"warehouse_info_item"},[a("span",{staticClass:"warehouse_item_title"},[e._v(e._s(t.fieldLabel)+":")]),e._v(" "),a("span",{staticClass:"warehouse_item_value"},[e._v(e._s(t.fieldValue||"无"))])])}),0):e._e()],2)])},r=[],i={render:n,staticRenderFns:r};t.a=i},z7Zk:function(e,t,a){"use strict";function n(e){a("bOvy")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("CGvj");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("eg1s"),s=a.n(o),l=a("NIYf"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-07eb5861",null);t.default=c.exports},zDpu:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper has-sort",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("finance-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}},scopedSlots:e._u([{key:"costName",fn:function(t){var n=t.mItem;return[a("span",{staticClass:"name"},[e._v(e._s(n.handlerName))])]}},{key:"cost_info",fn:function(t){var n=t.mItem;return[a("div",{staticClass:"each_amount"},[a("span",{staticClass:"money"},[e._v(e._s(n.costName_expCode))]),e._v(" "),a("span",{staticClass:"title"},[e._v("费用对象")])]),e._v(" "),a("div",{staticClass:"each_amount"},[a("span",{staticClass:"money"},[e._v(e._s(n.costType_expCode))]),e._v(" "),a("span",{staticClass:"title"},[e._v("费用类型")])]),e._v(" "),a("div",{staticClass:"each_amount"},[a("span",{staticClass:"money"},[e._v("￥"+e._s(e._f("numberComma")(n.tdAmount)))]),e._v(" "),a("span",{staticClass:"title"},[e._v("申请金额")])])]}}])})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},zF26:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("MjAd"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listViewID:2476,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"设备名称",value:"facilityName_facilityObjCode"}]}},mixins:[r.default],methods:{},created:function(){}}},zGoM:function(e,t){},zHRR:function(e,t,a){"use strict";function n(e){a("WRmN")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("ccoT");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("ncND"),s=a.n(o),l=a("52EG"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-3ab168cf",null);t.default=c.exports},zOFp:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("HzJ8"),s=n(o),l=a("0AQX"),d=a("+VRO"),u=n(d),c=a("PKHo"),f=n(c),h=a("zWMP"),m=a("BUFe"),v=n(m),p=a("AupE"),C=n(p),y=a("sUbJ"),_=n(y),g=a("FlCz"),b=n(g),w=a("d7ck"),I=n(w),D=a("MVgC"),x=n(D);t.default={data:function(){return{count:0,orderInfo:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513",orderList:{},basicInfo:{},DuplicateBoms:[],UniqueBom:[],bomPopShow:!1,bom:{}}},mixins:[u.default,f.default],components:{workFlow:C.default,RAction:v.default,MatterItem:_.default,BomList:b.default,FormCell:I.default,BomPop:x.default},watch:{DuplicateBoms:{handler:function(e){var t=function(e,t){return e.inventoryCode===t.inventoryCode};this.UniqueBom=function(e){return e.reduce(function(e,a){return e.some(function(e){var n=t(e,a);return n&&(e.tdQty=(0,h.accAdd)(e.tdQty,a.tdQty)),n})||e.push(a),e},[])}(this.DuplicateBoms)}}},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},checkBom:function(e){this.bom=e,this.bomPopShow=!0},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,l.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){var a=t.success,n=void 0===a||a,r=t.formData,o=void 0===r?{}:r,l=t.attachment,d=void 0===l?[]:l;if(!1===n)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var u={};o.order;e.attachment=d;var c=o.inPut.dataSet,f=!0,m=!1,v=void 0;try{for(var p,C=(0,s.default)(c);!(f=(p=C.next()).done);f=!0){var y=p.value;if(y.inventoryPic=y.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+y.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg(),y.boms){var _=!0,g=!1,b=void 0;try{for(var w,I=(0,s.default)(y.boms);!(_=(w=I.next()).done);_=!0){var D=w.value;D.inventoryCode=D.transObjCode,D.warehouseName=D.warehouseName_containerCodeOut,D.warehouseCode=D.containerCodeOut,D.qtyStock=D.thenQtyStock,D.tdQty=(0,h.accSub)((0,h.accMul)(y.processQty,D.bomQty,1+D.bomSpecificLoss),D.lockQty)}}catch(e){g=!0,b=e}finally{try{!_&&I.return&&I.return()}finally{if(g)throw b}}}e.DuplicateBoms=e.DuplicateBoms.concat(JSON.parse((0,i.default)(y.boms))),u[y.transMatchedCode]||(u[y.transMatchedCode]=[]),u[y.transMatchedCode].push(y)}}catch(e){m=!0,v=e}finally{try{!f&&C.return&&C.return()}finally{if(m)throw v}}e.orderList=u,e.orderInfo=o,e.workFlowInfoHandler()})}}}},zRbv:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("4YfN"),i=n(r),o=(a("XAqG"),a("HyXB"),a("MjAd")),s=n(o),l=a("ak47");n(l);t.default={name:"CPXQ_List",data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],filterList:[{name:"经办人",value:"handlerName"},{name:"交易号",value:"transCode"}],listViewID:2335}},mixins:[s.default],methods:{pathChange:function(e,t,a){var n=this;if(!this.clickVisited){var r=e.transCode,o=this.$route.query.name,s=this.$route.params,l=s.folder,d=s.fileName;this.clickVisited=!0,e.visited=!0,this.$set(this.listData,t,(0,i.default)({},e));var u=a+"/"+l+"/"+d;setTimeout(function(){n.clickVisited=!1,n.$router.push({path:u,query:{name:o,transCode:r}})},200)}},goDetail:function(e,t){this.pathChange(e,t,"/detail")},goUserEdit:function(e,t){this.pathChange(e,t,"/fillform")}}}},zSNY:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{on:{"on-sort":e.onSortList}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t,noCount:"",noPrice:""},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},zUFN:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"list",staticClass:"pages",class:{"no-add":!e.action.add}},[a("div",{staticClass:"content"},[a("div",{staticClass:"list_top"},[a("searchIcon",{ref:"search",attrs:{filterList:e.filterList},on:{search:e.searchList}}),e._v(" "),a("div",{staticClass:"filter_part"},[a("r-sort",{ref:"sort",attrs:{"list-id":e.listId},on:{"on-sort":e.onSortList,"on-filter":e.onFilter}})],1)],1),e._v(" "),a("r-scroll",{ref:"bScroll",staticClass:"list_wrapper ",attrs:{options:e.scrollOptions,"has-next":e.hasNext,"no-data":!e.hasNext&&!e.listData.length},on:{"on-pulling-up":e.onPullingUp,"on-pulling-down":e.onPullingDown}},e._l(e.listData,function(t,n){return a("mater-list-item",{key:n,attrs:{item:t},nativeOn:{click:function(a){e.goDetail(t,n)}}})}),1)],1),e._v(" "),a("add-btn",{attrs:{action:e.action,goEdit:e.goEdit}})],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},zWMP:function(e,t,a){"use strict";function n(e,t){var a,n,r,i;try{var o=e.toString().split(".");a=o[1]&&o[1].length||0}catch(e){a=0,console.error(e)}try{var s=t.toString().split(".");n=s[1]&&s[1].length||0}catch(e){n=0,console.error(e)}if(i=Math.abs(a-n),r=Math.pow(10,Math.max(a,n)),i>0){var l=Math.pow(10,i);a>n?(e=Number(e.toString().replace(".","")),t=Number(t.toString().replace(".",""))*l):(e=Number(e.toString().replace(".",""))*l,t=Number(t.toString().replace(".","")))}else e=Number(e.toString().replace(".","")),t=Number(t.toString().replace(".",""));return(e+t)/r}function r(){var e=0,t=1;try{for(var a=arguments.length,n=Array(a),r=0;r<a;r++)n[r]=arguments[r];var i=!0,o=!1,s=void 0;try{for(var d,u=(0,l.default)(n);!(i=(d=u.next()).done);i=!0){var c=d.value;if(void 0!==c&&!isNaN(c)){c=""+Number(c);c.split(".").length>1&&(e+=c.split(".")[1].length),t*=Number(c.replace(".",""))}}}catch(e){o=!0,s=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw s}}}catch(e){}return t/Math.pow(10,e)}function i(e,t){var a,n,r;try{var i=e.toString().split(".");a=i[1]&&i[1].length||0}catch(e){a=0,console.error(e)}try{var o=t.toString().split(".");n=o[1]&&o[1].length||0}catch(e){n=0,console.error(e)}return r=Math.pow(10,Math.max(a,n)),a>=n?a:n,((e*r-t*r)/r).toFixed(2)}function o(e,t){isNaN(e)&&(e=0),isNaN(t)&&(t=0),e=Number(e),t=Number(t);var a,n,r=0,i=0;try{var o=e.toString().split(".");r=o[1]&&o[1].length||0}catch(e){console.error(e)}try{var s=t.toString().split(".");i=s[1]&&s[1].length||0}catch(e){console.error(e)}return a=Number(e.toString().replace(".","")),n=Number(t.toString().replace(".","")),a/n*Math.pow(10,i-r)}Object.defineProperty(t,"__esModule",{value:!0});var s=a("HzJ8"),l=function(e){return e&&e.__esModule?e:{default:e}}(s);t.accAdd=n,t.accMul=r,t.accSub=i,t.accDiv=o},zcWi:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("HzJ8"),i=n(r),o=a("0AQX"),s=a("+VRO"),l=n(s),d=a("BUFe"),u=n(d),c=a("AupE"),f=n(c),h=a("89pA"),m=n(h),v=a("hPJo"),p=n(v),C=a("3NX5"),y=n(C);t.default={data:function(){return{orderInfo:{},warehouseIn:{},warehouseOut:{},formViewUniqueId:"a8c58e16-48f5-454e-98d8-4f8f9066e513"}},mixins:[l.default],components:{workFlow:f.default,PopWarehouseList:m.default,RAction:u.default,WarehouseContent:p.default,MatterList:y.default},methods:{getDefaultImg:function(e){var t=a("CcG0");return e&&(e.inventoryPic=t),t},getOrderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,o.getSOList)({formViewUniqueId:this.formViewUniqueId,transCode:t}).then(function(t){if(!1===t.success)return void e.$vux.alert.show({content:"抱歉，数据有误，暂无法查看",onHide:function(){e.$router.back()}});var a=t.formData,n=void 0===a?{}:a,r=t.attachment,o=void 0===r?[]:r,s=n.inPut,l=void 0===s?{}:s,d=l.dataSet,u=!0,c=!1,f=void 0;try{for(var h,m=(0,i.default)(d);!(u=(h=m.next()).done);u=!0){var v=h.value;v.inventoryPic=v.inventoryPic_transObjCode?"/H_roleplay-si/ds/download?url="+v.inventoryPic_transObjCode+"&width=400&height=400":e.getDefaultImg()}}catch(e){c=!0,f=e}finally{try{!u&&m.return&&m.return()}finally{if(c)throw f}}e.warehouseIn={warehouseCode:l.containerCode,warehouseName:""+l.warehouseName_containerCode,warehouseAction:"入库",warehouseIcon:"icon-ruku",warehouseType:l.warehouseType_containerCode,warehouseProvince:l.warehouseProvince_containerCode,warehouseCity:l.warehouseCity_containerCode,warehouseDistrict:l.warehouseDistrict_containerCode,warehouseAddress:l.warehouseAddress_containerCode},e.warehouseOut={warehouseCode:l.containerCodeOut,warehouseName:""+l.warehouseName_containerCodeOut,warehouseAction:"出库",warehouseIcon:"icon-chuku",warehouseType:l.warehouseType_containerCodeOut,warehouseProvince:l.warehouseProvince_containerCodeOut,warehouseCity:l.warehouseCity_containerCodeOut,warehouseDistrict:l.warehouseDistrict_containerCodeOut,warehouseAddress:l.warehouseAddress_containerCodeOut},e.attachment=o,e.matterList=l.dataSet,e.orderInfo=n,e.workFlowInfoHandler()})}},created:function(){}}},zcWx:function(e,t){},zgOi:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["微笑","撇嘴","色","发呆","得意","流泪","害羞","闭嘴","睡","大哭","尴尬","发怒","调皮","呲牙","惊讶","难过","酷","冷汗","抓狂","吐","偷笑","可爱","白眼","傲慢","饥饿","困","惊恐","流汗","憨笑","大兵","奋斗","咒骂","疑问","嘘","晕","折磨","衰","骷髅","敲打","再见","擦汗","抠鼻","鼓掌","糗大了","坏笑","左哼哼","右哼哼","哈欠","鄙视","委屈","快哭了","阴险","亲亲","吓","可怜","菜刀","西瓜","啤酒","篮球","乒乓","咖啡","饭","猪头","玫瑰","凋谢","示爱","爱心","心碎","蛋糕","闪电","炸弹","刀","足球","瓢虫","便便","月亮","太阳","礼物","拥抱","强","弱","握手","胜利","抱拳","勾引","拳头","差劲","爱你","NO","OK","爱情","飞吻","跳跳","发抖","怄火","转圈","磕头","回头","跳绳","挥手","激动","街舞","献吻","左太极","右太极"];t.default={name:"wechat-emotion",mounted:function(){var e=this,t=this.$el.innerHTML;this.index=n.indexOf(t),this.backgroundPositionX=24*-this.index;var a="";a=this.isGif?'<img src="https://res.wx.qq.com/mpres/htmledition/images/icon/emotion/'+this.index+'.gif">':'<span class="vux-static-emotion" style="background:url(https://res.wx.qq.com/mpres/htmledition/images/icon/emotion/default218877.gif) '+this.backgroundPositionX+'px 0;"></span>',this.$nextTick(function(){e.$el.innerHTML=a})},props:{isGif:Boolean},data:function(){return{src:"",backgroundPositionX:0}}}},zgYb:function(e,t){},zjgN:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(a("HyXB"),a("MjAd")),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{listStatus:[{name:"全部",status:""},{name:"已生效",status:"已生效"},{name:"进行中",status:"进行中"}],listViewID:2310,filterList:[{name:"交易号",value:"transCode"},{name:"经办人",value:"handlerName"},{name:"物料名称",value:"inventoryName_transObjCode"}]}},mixins:[r.default],methods:{},created:function(){}}},zlAJ:function(e,t,a){"use strict";function n(e){a("5ed5")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("LbKK");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("/zZU"),s=a.n(o),l=a("aKYA"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-0ff1a6be",null);t.default=c.exports},zlTd:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vux-alert"},[a("x-dialog",{attrs:{"mask-transition":e.maskTransition,"dialog-transition":e.dialogTransition,"hide-on-blur":e.hideOnBlur,"mask-z-index":e.maskZIndex},on:{"on-hide":function(t){e.$emit("on-hide")},"on-show":function(t){e.$emit("on-show")}},model:{value:e.showValue,callback:function(t){e.showValue=t},expression:"showValue"}},[a("div",{staticClass:"weui-dialog__hd"},[a("strong",{staticClass:"weui-dialog__title"},[e._v(e._s(e.title))])]),e._v(" "),a("div",{staticClass:"weui-dialog__bd"},[e._t("default",[a("div",{domProps:{innerHTML:e._s(e.content)}})])],2),e._v(" "),a("div",{staticClass:"weui-dialog__ft"},[a("a",{staticClass:"weui-dialog__btn weui-dialog__btn_primary",attrs:{href:"javascript:;"},on:{click:e._onHide}},[e._v(e._s(e.buttonText||"确定"))])])])],1)},r=[],i={render:n,staticRenderFns:r};t.a=i},zmkY:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper"},[e.orderInfo&&e.orderInfo.order?a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.workFlowInfo,"order-info":e.orderInfo}}),e._v(" "),a("project-part",{attrs:{"project-info":e.orderInfo.order}}),e._v(" "),a("work-flow",{attrs:{"work-flow-info":e.workFlowInfo,"full-work-flow":e.fullWL,userName:e.userName,"is-my-task":e.isMyTask,"no-status":e.orderInfo.biStatus}}),e._v(" "),a("div",{staticClass:"form_part"},[e._m(0),e._v(" "),a("div",{staticClass:"form_content"},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"往来名称",cellContent:e.dealerInfo.dealerName,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来编码",cellContent:e.dealerInfo.dealerCode}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来关系标签",cellContent:e.dealerInfo.dealerLabelName}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"往来余额",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.amntBal),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"本次出让汇票",cellContent:e._f("numberComma")(e._f("toFixed")(e.dealerInfo.thenTotalAmntBal),3),showSymbol:""}})],1)])]),e._v(" "),a("div",{staticClass:"form_part"},[e._m(1),e._v(" "),e._l(e.orderInfo.order.dataSet,function(t,n){return a("div",{key:n,staticClass:"form_content",class:{show_border:n!==e.orderInfo.order.dataSet.length-1}},[a("div",{staticClass:"main_content"},[a("form-cell",{attrs:{cellTitle:"汇票号",cellContent:t.draftNumber,showTopBorder:!1}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"类型",cellContent:t.draftType}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"承兑人",cellContent:t.accepter}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"金额",cellContent:e._f("numberComma")(e._f("toFixed")(t.tdAmount),3),showSymbol:""}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"出票日",cellContent:t.draftDate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"到期日",cellContent:t.draftDueDate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"出让日期",cellContent:t.draftSellDate}}),e._v(" "),a("form-cell",{attrs:{cellTitle:"说明",cellContent:t.comment}})],1)])})],2),e._v(" "),a("upload-file",{attrs:{"default-value":e.attachment,"no-upload":"","contain-style":e.uploadStyle,"title-style":e.uploadTitleStyle}}),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1):e._e()])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("往来详情")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form_title vux-1px-b"},[a("span",{staticClass:"iconfont icon-baoxiao"}),a("span",{staticClass:"title"},[e._v("汇票列表")])])}],i={render:n,staticRenderFns:r};t.a=i},znIy:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detail_wrapper xmrw-detail-container"},[a("div",{staticClass:"basicPart"},[a("basic-info",{attrs:{"work-flow-info":e.orderInfo,"order-info":e.orderInfo}}),e._v(" "),a("div",{staticClass:"form_content"},[a("div",{staticClass:"main_content"},e._l(e.otherConfig,function(t,n){return a("div",{key:n,staticClass:"vux-1px-b"},[t.id.includes("Datefield")?[a("div",{staticClass:"each_info"},[a("label",[e._v(e._s(t.fieldLabel))]),e._v(" "),a("span",{staticClass:"field_value"},[e._v(e._s(e._f("timeSplit")(e.projectTask[t.fieldCode]||"无")))])])]:[a("div",{staticClass:"each_info"},[a("label",[e._v(e._s(t.fieldLabel))]),e._v(" "),a("span",{staticClass:"field_value"},[e._v(e._s(e.projectTask[t.fieldCode]||"无"))])])]],2)}),0)]),e._v(" "),a("other-part",{attrs:{"other-info":e.orderInfo,attachment:e.attachment}}),e._v(" "),a("div",{staticClass:"form_content"},[a("div",{staticClass:"main_content task_log"},[a("span",{staticClass:"log_title vux-1px-b"},[e._v("任务日志")]),e._v(" "),a("div",{staticClass:"each_info vux-1px-b"},[a("label",{staticClass:"required"},[e._v("标题")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.taskLog.logTitle,expression:"taskLog.logTitle"}],staticClass:"field_value",attrs:{type:"text",placeholder:"请输入"},domProps:{value:e.taskLog.logTitle},on:{focus:function(t){e.getFocus(t)},input:function(t){t.target.composing||e.$set(e.taskLog,"logTitle",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"each_info vux-1px-b",on:{click:e.getDate}},[a("label",{staticClass:"required"},[e._v("日期")]),e._v(" "),a("div",{staticClass:"picker"},[a("span",{staticClass:"mater_nature"},[e._v(e._s(e.taskLog.taskDate||"请选择"))]),e._v(" "),a("span",{staticClass:"icon-right"})])]),e._v(" "),a("div",{staticClass:"each_info vux-1px-b"},[a("label",{staticClass:"required"},[e._v("申报工时")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.taskLog.logDeclarationHours,expression:"taskLog.logDeclarationHours",modifiers:{number:!0}}],staticClass:"field_value",attrs:{type:"number",placeholder:"请输入"},domProps:{value:e.taskLog.logDeclarationHours},on:{focus:function(t){e.getFocus(t)},input:function(t){t.target.composing||e.$set(e.taskLog,"logDeclarationHours",e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),a("x-textarea",{staticClass:"vux-1px-b",attrs:{title:"备注",placeholder:"请输入"},model:{value:e.taskLog.biComment,callback:function(t){e.$set(e.taskLog,"biComment",t)},expression:"taskLog.biComment"}})],1),e._v(" "),a("div",{staticClass:"handle"},[a("span",{staticClass:"btn_item",on:{click:e.save}},[e._v("提交")])])]),e._v(" "),a("r-action",{attrs:{code:e.transCode,"task-id":e.taskId,actions:e.actions,name:e.$route.query.name},on:{"on-submit-success":e.submitSuccessCallback}})],1)])},r=[],i={render:n,staticRenderFns:r};t.a=i},"zoY/":function(e,t){},zqN1:function(e,t,a){"use strict";function n(e){a("+eg0")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("XNwX");a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var o=a("qdsK"),s=a.n(o),l=a("EnXN"),d=a("C7Lr"),u=n,c=d(s.a,l.a,!1,u,"data-v-825c62b8",null);t.default=c.exports},zqmM:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("IHPB"),i=n(r),o=a("+62G"),s=n(o),l=a("7g+Q"),d=n(l),u=a("z5TY"),c=n(u),f=a("HXPS"),h=n(f),m=a("d5Kw"),v=n(m),p=a("kNGm"),C=n(p),y=a("1KNX"),_=n(y),g=a("I8ug");t.default={name:"ChangeLog",props:{handle:{type:Boolean,default:!1}},data:function(){return{latestLog:{},changeLogList:[],listId:"a4897429-f4f2-44a4-ade7-2fe8dc67c3cf",popupShow:!1,page:1,limit:10,hasNext:!0,scrollOptions:{click:!0,pullUpLoad:!0}}},directives:{TransferDom:s.default},components:{Popup:d.default,Group:c.default,Icon:h.default,XButton:v.default,RScroll:_.default},filters:{handerTime:function(e){return(0,C.default)(e,"YYYY-MM-DD")}},methods:{getChangeList:function(){var e=this;return(0,g.getChangeLog)({listId:this.listId,limit:this.limit,page:this.page}).then(function(t){var a=t.dataCount,n=void 0===a?0:a,r=t.tableContent,o=void 0===r?[]:r;1===e.page&&(e.latestLog=o[0]),e.hasNext=n>(e.page-1)*e.limit+o.length,e.changeLogList=1===e.page?o:[].concat((0,i.default)(e.changeLogList),(0,i.default)(o)),e.$nextTick(function(){e.$refs.bScroll.finishPullUp()})})},onPullingUp:function(){this.page++,this.getChangeList()},closePop:function(){this.popupShow=!1},onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},EditLog:function(){this.$router.push({path:"/appDetail/"+this.listId+"/addLog"})}},created:function(){var e=this.$route.params.listId;e&&(this.listId=e,this.getChangeList())}}},zsBr:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("3cXf"),i=n(r),o=a("4YfN"),s=n(o),l=a("IHPB"),d=n(l),u=a("HXPS"),c=n(u),f=a("7g+Q"),h=n(f),m=a("1KNX"),v=n(m),p=a("7biW"),C=n(p);t.default={name:"RPopup",props:{data:{type:Array,default:function(){return[]}},show:{type:Boolean,default:!1},defaultValue:{type:[Array,Object],default:function(){return{}}},filterList:{type:Array,default:function(){return[]}},multipart:{type:Boolean,default:!1},isFill:{type:Boolean,default:!0},options:{type:Object,default:function(){return{pullUpLoad:!0}}},hasNext:{type:Boolean,default:!0},judgeKeys:{type:Array,default:function(){return[]}}},components:{Icon:c.default,Popup:h.default,RScroll:v.default,RSearch:C.default},data:function(){return{showPop:!1,selItems:[],tmpItems:[]}},watch:{show:{handler:function(e){this.showPop=e}},defaultValue:{handler:function(e){this.multipart?(this.tmpItems=[].concat((0,d.default)(this.defaultValue)),this.selItems=[].concat((0,d.default)(this.defaultValue))):(this.tmpItems=[(0,s.default)({},this.defaultValue)],this.selItems=[(0,s.default)({},this.defaultValue)])},immediate:!0},data:{handler:function(e){this.finishPullUp()},immediate:!0}},methods:{onShow:function(){var e=this;this.$nextTick(function(){e.$refs.bScroll&&e.$refs.bScroll.refresh()})},onHide:function(){this.tmpItems=[].concat((0,d.default)(this.selItems)),this.$emit("input",!1),this.$event.$emit("shut-down-filter",!1)},findIndex:function(e,t){var a=this;return e.findIndex(function(e){var n=!1;return a.judgeKeys.every(function(a){return e[a]&&(n=e[a]===t[a]),n}),n})},showSelIcon:function(e){return-1!==this.findIndex(this.tmpItems,e)},selThis:function(e,t){if(!this.multipart)return this.showPop=!1,this.selItems=[(0,s.default)({},e)],this.tmpItems=[(0,s.default)({},e)],void this.$emit("on-select",(0,s.default)({},e));var a=this.tmpItems,n=this.findIndex(a,e);if(-1!==n)return void a.splice(n,1);a.push(e)},cfmMater:function(){this.showPop=!1,this.selItems=[].concat((0,d.default)(this.tmpItems)),this.$emit("on-select",JSON.parse((0,i.default)(this.selItems)))},searchList:function(e){this.$refs.bScroll.scrollTo(0,0),this.$emit("on-search",e)},delSelItem:function(e){var t=this.findIndex(this.selItems,e);-1!==t&&this.selItems.splice(t,1),this.tmpItems=[].concat((0,d.default)(this.selItems))},onPullingUp:function(){this.$emit("on-pulling-up")},finishPullUp:function(){var e=this;this.$refs.bScroll&&this.$nextTick(function(){e.$refs.bScroll.finishPullUp()})}},created:function(){}}},zsZJ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("vHT0"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default={data:function(){return{tabShow:!1,choicedTab:"",activeTabIndex:0,tabScroll:null,startY:0}},props:{tabVal:{type:Array,default:[]}},methods:{switchTab:function(e,t){this.choicedTab=e.view_name,this.activeTabIndex=t,this.tabShow=!1,this.$emit("tab-click",e,t)}},watch:{tabVal:{handler:function(e){e.length&&(this.choicedTab=e[0].view_name)}},tabShow:{handler:function(e){var t=this;e?(this.tabScroll.scrollTo(0,this.startY),this.$nextTick(function(){t.tabScroll.refresh()})):this.startY=this.tabScroll.y}}},created:function(){var e=this;this.tabVal.length&&(this.choicedTab=this.tabVal[0].view_name),this.$nextTick(function(){e.tabScroll=new r.default(e.$refs.tabItem,{click:!0})})}}},zzue:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("z5TY"),i=n(r),o=a("BGNQ"),s=n(o);t.default={name:"HGCW_List",data:function(){return{listData:[{title:"利润表",code:"LR"},{title:"资产负债表",code:"ZCFZ"}]}},components:{Cell:s.default,Group:i.default},methods:{goDetail:function(e){var t=this.$route.params,a=t.folder,n=t.fileName;this.$router.push({path:"/detail/"+a+"/"+n,query:{code:e.code,name:e.title}})}},created:function(){this.$loading.hide()}}}},["NHnr"]);